const _0x358d67=_0x4026;(function(_0x14b23c,_0x249e5e){const _0x1c9972=_0x4026,_0x356f92=_0x14b23c();while(!![]){try{const _0x3a628e=-parseInt(_0x1c9972(0x7cd))/0x1*(parseInt(_0x1c9972(0x834))/0x2)+-parseInt(_0x1c9972(0x790))/0x3*(parseInt(_0x1c9972(0x88f))/0x4)+parseInt(_0x1c9972(0xb89))/0x5*(parseInt(_0x1c9972(0x5f0))/0x6)+parseInt(_0x1c9972(0x51d))/0x7*(parseInt(_0x1c9972(0xbf5))/0x8)+-parseInt(_0x1c9972(0xacb))/0x9+-parseInt(_0x1c9972(0x60a))/0xa+parseInt(_0x1c9972(0xaed))/0xb;if(_0x3a628e===_0x249e5e)break;else _0x356f92['push'](_0x356f92['shift']());}catch(_0x58caa1){_0x356f92['push'](_0x356f92['shift']());}}}(_0x55db,0xb54fe));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x4fdf45=_0x4026;if(_0x4fdf45(0x50d)in navigator)try{wakeLock=await navigator[_0x4fdf45(0x50d)]['request'](_0x4fdf45(0xb62)),console[_0x4fdf45(0x498)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x4fdf45(0x4f9)](_0x4fdf45(0xa5f),()=>{const _0x4d6ea9=_0x4fdf45;console[_0x4d6ea9(0x498)](_0x4d6ea9(0x2cf));});}catch(_0x9d6b01){console[_0x4fdf45(0x77b)](_0x4fdf45(0x932)+_0x9d6b01['name']+',\x20'+_0x9d6b01[_0x4fdf45(0x5dd)]);}else console[_0x4fdf45(0x5ca)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x5d37f5=_0x4026;wakeLock!==null&&(await wakeLock[_0x5d37f5(0xa5f)](),wakeLock=null,console[_0x5d37f5(0x498)](_0x5d37f5(0x296)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x14672b=_0x4026;if(dimTimer)clearTimeout(dimTimer);document[_0x14672b(0x70d)]['classList']['remove']('dimmed'),dimTimer=setTimeout(()=>{const _0x2e3f16=_0x14672b;document[_0x2e3f16(0x70d)][_0x2e3f16(0x542)][_0x2e3f16(0x33b)]('dimmed'),console[_0x2e3f16(0x498)](_0x2e3f16(0x9ad));},inactivityTime);}function stopDimTimer(){const _0x14d6aa=_0x4026;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x14d6aa(0x542)]['remove'](_0x14d6aa(0x214)),window[_0x14d6aa(0x6ba)](_0x14d6aa(0x665),resetDimTimer),window[_0x14d6aa(0x6ba)](_0x14d6aa(0x2e6),resetDimTimer),window[_0x14d6aa(0x6ba)](_0x14d6aa(0x1e5),resetDimTimer),window[_0x14d6aa(0x6ba)](_0x14d6aa(0x66a),resetDimTimer),console[_0x14d6aa(0x498)](_0x14d6aa(0xa5d));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x5c587c,_0xa4802f=![]){const _0x17409a=_0x4026,_0x3353be=allQuizzes['find'](_0x22cdc3=>_0x22cdc3['id']===_0x5c587c)||allQuizzesGlobal[_0x17409a(0x301)](_0x513352=>_0x513352['id']===_0x5c587c);if(!_0x3353be){showMessage(_0x17409a(0x804));return;}currentQuizData=getShuffledQuiz(_0x3353be);const _0x170fd9=Math[_0x17409a(0x9b2)](0x3e8+Math[_0x17409a(0x190)]()*0x2328)['toString']();try{const _0x31e9c7=await addDoc(collection(db,_0x17409a(0x714)+appId+_0x17409a(0x6fc)),{'quizId':_0x3353be['id'],'projectId':_0x3353be[_0x17409a(0x8cb)],'status':_0x17409a(0x270),'pin':_0x170fd9,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xa4802f});currentTeamQuizId=_0x31e9c7['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x170fd9,_0x3353be['topic']),listenForTeamQuizUpdates();}catch(_0x54de22){console[_0x17409a(0x77b)]('Error\x20starting\x20team\x20quiz:',_0x54de22),showMessage(_0x17409a(0x93f));}}function renderAdminTeamQuizDashboard(_0x29cb3e,_0xce1be6,_0x5af520='team'){const _0x305bb1=_0x4026,_0x4d2c0d=_0x5af520===_0x305bb1(0x4cd)?_0x305bb1(0x185):_0x305bb1(0x96f);liveGameView[_0x305bb1(0x888)]=_0x305bb1(0x30c)+_0x4d2c0d+':\x20'+_0xce1be6+_0x305bb1(0x300)+_0x29cb3e+_0x305bb1(0x953),document[_0x305bb1(0x3a8)](_0x305bb1(0x9ce))[_0x305bb1(0x4f9)]('click',async()=>{const _0x1e66f5=_0x305bb1;showConfirmation(_0x1e66f5(0x79b),async()=>{const _0x5c915d=_0x1e66f5;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x5c915d(0x714)+appId+_0x5c915d(0x6fc),currentTeamQuizId)),showView(_0x5c915d(0x256));});});}function listenForTeamQuizUpdates(){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x482752=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x482752,_0x4380a5=>{const _0x38b3a7=_0x4026;if(!_0x4380a5[_0x38b3a7(0x40f)]()){sessionStorage[_0x38b3a7(0x8e5)](_0x38b3a7(0x80c));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x38b3a7(0xba7));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x38b3a7(0x389)?showView(_0x38b3a7(0x256)):showView(_0x38b3a7(0x6ce));return;}const _0x26572a=_0x4380a5['data']();if(currentMode===_0x38b3a7(0x389)){if(_0x26572a[_0x38b3a7(0x60f)]===_0x38b3a7(0x4cd)&&_0x26572a['status']!==_0x38b3a7(0x940)&&_0x26572a['status']!==_0x38b3a7(0x493)){const _0x2b7d67=Object[_0x38b3a7(0x41e)](_0x26572a[_0x38b3a7(0x624)]||{});if(_0x2b7d67[_0x38b3a7(0x6b0)]>0x0){const _0x323ebb=_0x2b7d67[_0x38b3a7(0x9fc)](_0x52926d=>_0x52926d['isFinished']===!![]);_0x323ebb&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x26572a);}else{if(_0x26572a[_0x38b3a7(0xa89)]===_0x38b3a7(0x940)||_0x26572a[_0x38b3a7(0xa89)]===_0x38b3a7(0x493)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x26572a['mode']===_0x38b3a7(0x4cd)){const _0x329cfd=_0x26572a[_0x38b3a7(0x624)][userId];(!_0x329cfd||!_0x329cfd[_0x38b3a7(0xa91)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x52f53c){const _0x3edf92=_0x4026;console[_0x3edf92(0x498)](_0x3edf92(0x829));const _0x542df9=doc(db,'artifacts/'+appId+_0x3edf92(0x6fc),_0x52f53c);try{const _0x44359e=await getDoc(_0x542df9);if(_0x44359e[_0x3edf92(0x40f)]()){const _0x1e9de3=_0x44359e[_0x3edf92(0x49d)]();_0x1e9de3['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x1e9de3);}await updateDoc(_0x542df9,{'status':'podium'});}catch(_0x3e90d3){console[_0x3edf92(0x77b)](_0x3edf92(0xa79),_0x3e90d3);}}function updateAdminTeamDashboard(_0x5e9f3a){const _0x2db26b=_0x4026,_0x406486=document[_0x2db26b(0x3a8)](_0x2db26b(0x8a5));if(!_0x406486)return;const _0x5bbeca=_0x5e9f3a[_0x2db26b(0x60f)]||_0x2db26b(0x416),_0x41a6b6=currentQuizData[_0x2db26b(0xb4f)][_0x2db26b(0x6b0)];if(_0x5bbeca===_0x2db26b(0x4cd)){const _0x5b1168=Object[_0x2db26b(0x41e)](_0x5e9f3a['groups']||{});if(_0x5b1168[_0x2db26b(0x6b0)]===0x0){_0x406486[_0x2db26b(0x888)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x2ff015=[..._0x5b1168][_0x2db26b(0x843)]((_0x31ceef,_0x5f278b)=>_0x5f278b[_0x2db26b(0xb0c)]-_0x31ceef[_0x2db26b(0xb0c)]),_0x2ef02f=_0x2ff015['map']((_0x500f75,_0x48fb53)=>{const _0x519057=_0x2db26b,_0x1fb3a1=_0x500f75[_0x519057(0x43e)]?.[_0x519057(0x6b0)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x48fb53+0x1)+_0x519057(0x674)+_0x500f75[_0x519057(0x724)]['join'](',\x20')+_0x519057(0x64c)+_0x1fb3a1+'/'+_0x41a6b6+_0x519057(0x870)+_0x500f75['score']+_0x519057(0xb2b);})['join'](''),_0x1effc8=currentQuizData[_0x2db26b(0xb4f)]['map']((_0x4d45b8,_0xe4fd8d)=>{const _0x12b3bc=_0x2db26b;let _0x59ed89=0x0,_0x4b748d=0x0;_0x5b1168['forEach'](_0x3f3338=>{const _0x471efa=_0x4026,_0x31fd44=_0x3f3338[_0x471efa(0x43e)]?.[_0x471efa(0x301)](_0x59cb44=>_0x59cb44[_0x471efa(0xa53)]===_0xe4fd8d);if(_0x31fd44){_0x4b748d++;if(_0x31fd44[_0x471efa(0x6c9)])_0x59ed89++;}});const _0x4de379=_0x4b748d>0x0&&_0x4b748d===_0x5b1168['length'],_0x3580e5=_0x4de379?_0x12b3bc(0x98b):_0x12b3bc(0x1ff),_0x3dbce3=_0x4de379?_0x12b3bc(0xb77):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x3580e5+_0x12b3bc(0x622)+(_0xe4fd8d+0x1)+_0x12b3bc(0xbc6)+_0x3dbce3+_0x12b3bc(0xa13)+_0x59ed89+'/'+_0x5b1168[_0x12b3bc(0x6b0)]+'\x20กลุ่ม</p></div>';})[_0x2db26b(0x61f)]('');_0x406486[_0x2db26b(0x888)]=_0x2db26b(0x32f)+_0x2ef02f+_0x2db26b(0xb9c)+_0x1effc8+_0x2db26b(0x188);return;}const _0x142fc6=_0x5e9f3a[_0x2db26b(0x81a)]||{},_0x1e79c7=Object['keys'](_0x142fc6);if(_0x1e79c7[_0x2db26b(0x6b0)]===0x0){_0x406486[_0x2db26b(0x888)]=_0x2db26b(0x5dc);return;}const _0x25fe42=_0x1e79c7[_0x2db26b(0x8ca)](_0x3b1f06=>({'name':_0x3b1f06,'score':_0x142fc6[_0x3b1f06]['score']||0x0}))[_0x2db26b(0x843)]((_0x1fa2e1,_0x23bf6f)=>_0x23bf6f[_0x2db26b(0xb0c)]-_0x1fa2e1[_0x2db26b(0xb0c)]),_0x381788=_0x25fe42[_0x2db26b(0x8ca)](_0x538540=>{const _0x24d0d9=_0x2db26b,_0xd6947d=_0x142fc6[_0x538540[_0x24d0d9(0xbc7)]]?.[_0x24d0d9(0x43e)]?.[_0x24d0d9(0x6b0)]||0x0,_0x5cb9aa=Math[_0x24d0d9(0xbe3)](_0x41a6b6/_0x1e79c7['length']);return _0x24d0d9(0x215)+_0x538540[_0x24d0d9(0xbc7)]+_0x24d0d9(0x50a)+_0xd6947d+'/'+_0x5cb9aa+_0x24d0d9(0x83f)+_0x538540[_0x24d0d9(0xb0c)]+'\x20คะแนน</span></div>';})[_0x2db26b(0x61f)](''),_0x208a66=_0x1e79c7[_0x2db26b(0x5f7)]((_0x3252d8,_0x3573ab)=>_0x3252d8+(_0x142fc6[_0x3573ab][_0x2db26b(0x43e)]?.[_0x2db26b(0x6b0)]||0x0),0x0),_0x1723ab=currentQuizData[_0x2db26b(0xb4f)][_0x2db26b(0x8ca)]((_0x47d1b2,_0x48b2ae)=>{const _0x2ebcdb=_0x2db26b;let _0x274b28=null,_0x44652a=null;for(const _0x521866 of _0x1e79c7){const _0x460ff3=_0x142fc6[_0x521866][_0x2ebcdb(0x43e)]?.['find'](_0x22f838=>_0x22f838[_0x2ebcdb(0xa53)]===_0x48b2ae);if(_0x460ff3){_0x274b28=_0x460ff3,_0x44652a=_0x521866;break;}}const _0x44fb41=!!_0x274b28,_0x414885=_0x44fb41&&_0x274b28[_0x2ebcdb(0x6c9)],_0x3512ec=(Math['floor'](_0x48b2ae/_0x1e79c7[_0x2ebcdb(0x6b0)])+0x1)*_0x1e79c7[_0x2ebcdb(0x6b0)],_0x33532c=_0x208a66>=_0x3512ec,_0x1414a0=_0x33532c?_0x2ebcdb(0x581):_0x2ebcdb(0x1ff),_0xfa127=_0x33532c?_0x2ebcdb(0xb77):'';let _0x8c59ab=_0x2ebcdb(0x187);return _0x44fb41&&(_0x8c59ab=_0x44652a+'\x20ตอบ'+(_0x414885?_0x2ebcdb(0x981):_0x2ebcdb(0xa81))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x1414a0+_0x2ebcdb(0x622)+(_0x48b2ae+0x1)+':</span><span>'+_0xfa127+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x8c59ab+_0x2ebcdb(0x43d);})['join']('');_0x406486[_0x2db26b(0x888)]=_0x2db26b(0xa16)+_0x381788+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x1723ab+_0x2db26b(0x188);}async function handleJoinTeamQuiz(){const _0x32fac3=_0x4026,_0x29b6a0=prompt(_0x32fac3(0x24c));if(!_0x29b6a0||_0x29b6a0[_0x32fac3(0x7a5)]()[_0x32fac3(0x6b0)]!==0x4){showMessage(_0x32fac3(0x181));return;}try{const _0x41053d=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x188219=query(_0x41053d,where(_0x32fac3(0x7b9),'==',_0x29b6a0['trim']()),where('status','==','lobby')),_0x2eb190=await getDocs(_0x188219);if(_0x2eb190[_0x32fac3(0x4ba)]){showMessage(_0x32fac3(0x937));return;}const _0x33f7c9=_0x2eb190[_0x32fac3(0x901)][0x0];currentTeamQuizId=_0x33f7c9['id'];const _0xae4bd3=_0x33f7c9['data'](),_0x4841bb=doc(db,'artifacts/'+appId+_0x32fac3(0x508),_0xae4bd3['projectId']),_0x2e6de5=doc(db,_0x32fac3(0x714)+appId+_0x32fac3(0x4b7),_0xae4bd3[_0x32fac3(0xb39)]),[_0x564740,_0x71cd79]=await Promise[_0x32fac3(0xb03)]([getDoc(_0x4841bb),getDoc(_0x2e6de5)]);if(!_0x564740[_0x32fac3(0x40f)]()||!_0x71cd79[_0x32fac3(0x40f)]())throw new Error(_0x32fac3(0x918));currentQuizData=getShuffledQuiz({'id':_0x71cd79['id'],..._0x71cd79[_0x32fac3(0x49d)]()});const _0x549ab5=_0x564740[_0x32fac3(0x49d)]();showTeamPlayerSelection(_0x549ab5[_0x32fac3(0xaf3)],currentQuizData[_0x32fac3(0x339)]);}catch(_0x60bac1){console[_0x32fac3(0x77b)](_0x32fac3(0x69b),_0x60bac1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x60bac1[_0x32fac3(0x5dd)]);}}async function handleJoinGroupActivity(){const _0x1f0056=_0x4026,_0x13b998=prompt(_0x1f0056(0x385));if(!_0x13b998||_0x13b998[_0x1f0056(0x7a5)]()[_0x1f0056(0x6b0)]!==0x4){showMessage(_0x1f0056(0x3aa));return;}const _0x35dfa5=_0x13b998['trim']();showMessage(_0x1f0056(0x996));try{const _0x1f5f85=collection(db,_0x1f0056(0x714)+appId+_0x1f0056(0x6fc)),_0x1e54a3=query(_0x1f5f85,where(_0x1f0056(0x7b9),'==',_0x35dfa5),where(_0x1f0056(0xa89),'==','lobby')),_0x361cbe=await getDocs(_0x1e54a3);if(!_0x361cbe[_0x1f0056(0x4ba)]){console[_0x1f0056(0x498)](_0x1f0056(0x956)),await proceedWithTeamQuizJoin(_0x361cbe['docs'][0x0]);return;}const _0x154cb1=collection(db,_0x1f0056(0x714)+appId+'/public/data/syncGames'),_0xe63792=query(_0x154cb1,where(_0x1f0056(0x7b9),'==',_0x35dfa5),where(_0x1f0056(0xa89),'==',_0x1f0056(0x270))),_0x5c9bfb=await getDocs(_0xe63792);if(!_0x5c9bfb[_0x1f0056(0x4ba)]){console[_0x1f0056(0x498)](_0x1f0056(0x844)),await proceedWithSyncQuizJoin(_0x5c9bfb[_0x1f0056(0x901)][0x0]);return;}showMessage(_0x1f0056(0x826));}catch(_0x3f6e81){console['error'](_0x1f0056(0x5e4),_0x3f6e81),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x3f6e81[_0x1f0056(0x5dd)]);}}async function proceedWithTeamQuizJoin(_0x555ba8){const _0x848eea=_0x4026;currentTeamQuizId=_0x555ba8['id'];const _0x7c36dc=_0x555ba8[_0x848eea(0x49d)](),_0x121365=doc(db,'artifacts/'+appId+_0x848eea(0x508),_0x7c36dc[_0x848eea(0x8cb)]),_0x566c62=doc(db,'artifacts/'+appId+_0x848eea(0x4b7),_0x7c36dc[_0x848eea(0xb39)]),[_0x5f422f,_0x1a822f]=await Promise[_0x848eea(0xb03)]([getDoc(_0x121365),getDoc(_0x566c62)]);if(!_0x5f422f[_0x848eea(0x40f)]()||!_0x1a822f[_0x848eea(0x40f)]())throw new Error(_0x848eea(0x918));currentQuizData=getShuffledQuiz({'id':_0x1a822f['id'],..._0x1a822f[_0x848eea(0x49d)]()}),showTeamPlayerSelection(_0x5f422f[_0x848eea(0x49d)]()[_0x848eea(0xaf3)],currentQuizData[_0x848eea(0x339)],_0x7c36dc[_0x848eea(0x60f)]||_0x848eea(0x416)),messageModal['classList'][_0x848eea(0x33b)](_0x848eea(0x49a));}async function proceedWithSyncQuizJoin(_0x58193f){const _0x1b5b59=_0x4026;currentLiveGameId=_0x58193f['id'];const _0x250607=_0x58193f[_0x1b5b59(0x49d)](),_0x950992=doc(db,'artifacts/'+appId+_0x1b5b59(0x4b7),_0x250607[_0x1b5b59(0xb39)]),_0x3f33a6=await getDoc(_0x950992);if(!_0x3f33a6['exists']())throw new Error(_0x1b5b59(0x804));const _0x47ac34=_0x3f33a6[_0x1b5b59(0x49d)](),_0x5ecf56=doc(db,_0x1b5b59(0x714)+appId+_0x1b5b59(0x508),_0x47ac34[_0x1b5b59(0x8cb)]),_0x53d712=await getDoc(_0x5ecf56);if(!_0x53d712[_0x1b5b59(0x40f)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x250607['shuffledQuiz'],showView(_0x1b5b59(0x80f)),showTeamPlayerSelection(_0x53d712[_0x1b5b59(0x49d)]()[_0x1b5b59(0xaf3)],_0x47ac34[_0x1b5b59(0x339)],_0x1b5b59(0x750)),document[_0x1b5b59(0x3a8)]('confirm-team-players-btn')[_0x1b5b59(0x84c)]=confirmAndJoinSyncGame,messageModal[_0x1b5b59(0x542)]['add'](_0x1b5b59(0x49a));}function getCleanApplicationHTML(){const _0xe5dce7=_0x4026,_0x2cbca8=document[_0xe5dce7(0x3a8)]('applicationContent');if(!_0x2cbca8)return'';const _0x36c560=_0x2cbca8[_0xe5dce7(0x76e)](!![]);return _0x36c560[_0xe5dce7(0x4a1)](_0xe5dce7(0x489))[_0xe5dce7(0x519)](_0x58ff83=>{const _0x2eaf9d=_0xe5dce7;_0x58ff83[_0x2eaf9d(0x542)][_0x2eaf9d(0x9d0)](_0x2eaf9d(0xb86),_0x2eaf9d(0x9cc)),_0x58ff83[_0x2eaf9d(0x709)]=![];}),_0x36c560['innerHTML'];}function showTeamPlayerSelection(_0xf32c28,_0x42c370,_0x59a119=_0x358d67(0x416)){const _0x4236d5=_0x358d67;studentInitialView['classList'][_0x4236d5(0x33b)](_0x4236d5(0x49a)),studentJoinGameView[_0x4236d5(0x542)]['add'](_0x4236d5(0x49a)),document[_0x4236d5(0x3a8)]('student-team-selection-view')['classList'][_0x4236d5(0x9d0)](_0x4236d5(0x49a));let _0x456eeb=_0x4236d5(0x96f);if(_0x59a119===_0x4236d5(0x4cd))_0x456eeb=_0x4236d5(0x185);else _0x59a119==='sync'&&(_0x456eeb=_0x4236d5(0xaa0));document['getElementById'](_0x4236d5(0x558))[_0x4236d5(0x20d)]=_0x456eeb+':\x20'+_0x42c370;const _0x9657ad=document[_0x4236d5(0x3a8)](_0x4236d5(0x5e5));if(!_0xf32c28||_0xf32c28[_0x4236d5(0x6b0)]===0x0){_0x9657ad[_0x4236d5(0x888)]=_0x4236d5(0x73c),document[_0x4236d5(0x3a8)](_0x4236d5(0xa72))['disabled']=!![];return;}_0x9657ad['innerHTML']=_0xf32c28[_0x4236d5(0x8ca)](_0x2f59fc=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x2f59fc+_0x4236d5(0x2c7)+_0x2f59fc+_0x4236d5(0x1ad))[_0x4236d5(0x61f)](''),document[_0x4236d5(0x3a8)](_0x4236d5(0xa72))[_0x4236d5(0x709)]=![];}async function confirmAndStartTeamQuiz(){const _0x5abc0c=_0x358d67,_0x44c15c=Array[_0x5abc0c(0x367)](document[_0x5abc0c(0x4a1)]('input[name=\x22team_player\x22]:checked'))[_0x5abc0c(0x8ca)](_0x49b898=>_0x49b898[_0x5abc0c(0xac6)]);if(_0x44c15c[_0x5abc0c(0x6b0)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x44c15c,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x3aeabe=doc(db,_0x5abc0c(0x714)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x3b9c6c=await getDoc(_0x3aeabe);if(!_0x3b9c6c['exists']())throw new Error(_0x5abc0c(0x661));const _0x2d2c95=_0x3b9c6c['data']();if(_0x2d2c95[_0x5abc0c(0x60f)]==='group'){const _0xdba7b3={[_0x5abc0c(0x495)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x3aeabe,_0xdba7b3);}else{const _0x1f7bf9=_0x2d2c95['responses']||{};localTeamPlayers['forEach'](_0x230f61=>{!_0x1f7bf9[_0x230f61]&&(_0x1f7bf9[_0x230f61]={'score':0x0,'answers':[]});}),await updateDoc(_0x3aeabe,{'responses':_0x1f7bf9});}document['getElementById'](_0x5abc0c(0x63d))[_0x5abc0c(0x542)][_0x5abc0c(0x33b)](_0x5abc0c(0x49a)),renderTeamQuizQuestion();const _0x2ee8d5={'gameId':currentTeamQuizId,'mode':_0x2d2c95['mode']||_0x5abc0c(0x416),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x5abc0c(0x80c),JSON[_0x5abc0c(0xa50)](_0x2ee8d5)),listenForTeamQuizUpdates();}catch(_0x1b64c1){console[_0x5abc0c(0x77b)](_0x5abc0c(0x79f),_0x1b64c1),showMessage(_0x5abc0c(0x4c8));}}async function renderTeamQuizQuestion(){const _0x3ccbc8=_0x358d67;if(localQuestionIndex>=currentQuizData[_0x3ccbc8(0xb4f)][_0x3ccbc8(0x6b0)]){displayTeamQuizFinalResults();return;}const _0x3b3261=currentQuizData[_0x3ccbc8(0xb4f)][localQuestionIndex],_0x40fd08=localTeamPlayers[localPlayerIndex],_0x491721=_0x3b3261[_0x3ccbc8(0x2d0)]||currentQuizData[_0x3ccbc8(0x593)];let _0x2617ab=_0x3b3261['stem']||_0x3b3261[_0x3ccbc8(0xa23)],_0x1da0d0='';switch(_0x491721){case'multiple_choice':case _0x3ccbc8(0x6d1):_0x1da0d0=_0x3b3261[_0x3ccbc8(0x994)][_0x3ccbc8(0x8ca)]((_0x23145a,_0x363f29)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x363f29+_0x3ccbc8(0x94a)+_0x363f29+_0x3ccbc8(0x64d)+_0x363f29+'\x22>'+_0x23145a+_0x3ccbc8(0x752))[_0x3ccbc8(0x61f)]('');break;case'true_false':_0x1da0d0=_0x3ccbc8(0x758);break;case _0x3ccbc8(0xad5):case _0x3ccbc8(0x845):_0x1da0d0='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x3ccbc8(0x4b9):_0x1da0d0=_0x3ccbc8(0x2e5)+_0x3b3261['allResponses']['map'](_0xcc684a=>_0x3ccbc8(0xaf5)+_0xcc684a+'\x22>'+_0xcc684a+_0x3ccbc8(0x1f9))[_0x3ccbc8(0x61f)]('')+_0x3ccbc8(0x61c);break;default:_0x1da0d0=_0x3ccbc8(0x5d2);break;}studentQuizArea[_0x3ccbc8(0x888)]=_0x3ccbc8(0xa2f)+(localQuestionIndex+0x1)+_0x3ccbc8(0x4bc)+currentQuizData['questions'][_0x3ccbc8(0x6b0)]+_0x3ccbc8(0x6c4)+_0x40fd08+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x2617ab+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3b3261['imageCode']?_0x3ccbc8(0x532)+_0x3b3261[_0x3ccbc8(0x311)]+_0x3ccbc8(0x738):'')+_0x3ccbc8(0x67a)+_0x1da0d0+_0x3ccbc8(0x379),studentQuizArea[_0x3ccbc8(0x542)][_0x3ccbc8(0x9d0)](_0x3ccbc8(0x49a));if(window[_0x3ccbc8(0x915)])MathJax[_0x3ccbc8(0x7cf)]([studentQuizArea]);document[_0x3ccbc8(0x3a8)](_0x3ccbc8(0x628))[_0x3ccbc8(0x4f9)](_0x3ccbc8(0x2ea),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x2839c6=_0x358d67,_0x3aa067=currentQuizData['questions'][localQuestionIndex],_0xd92263=_0x3aa067[_0x2839c6(0x2d0)]||currentQuizData['quizType'];let _0x118ad3=null,_0x5adf08=![];if(_0xd92263===_0x2839c6(0xad5)||_0xd92263===_0x2839c6(0x845)){const _0xb82d91=document[_0x2839c6(0x3a0)]('textarea[name=\x22team_answer\x22]');if(!_0xb82d91||!_0xb82d91[_0x2839c6(0xac6)][_0x2839c6(0x7a5)]()){showMessage(_0x2839c6(0x639));return;}_0x118ad3=_0xb82d91['value'][_0x2839c6(0x7a5)](),_0x5adf08=await gradeShortAnswer(_0x118ad3,_0x3aa067);}else{const _0x57167a=document[_0x2839c6(0x3a0)](_0x2839c6(0xba3));if(!_0x57167a||_0x57167a[_0x2839c6(0xac6)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x118ad3=_0x57167a[_0x2839c6(0xac6)];switch(_0xd92263){case _0x2839c6(0x5b9):_0x5adf08=_0x118ad3===_0x2839c6(0x354)===_0x3aa067['correctAnswer'];break;case _0x2839c6(0x4b9):_0x5adf08=_0x118ad3===_0x3aa067[_0x2839c6(0x44f)];break;default:_0x5adf08=parseInt(_0x118ad3)===_0x3aa067[_0x2839c6(0x468)];break;}}const _0x5ca0b7={'questionIndex':localQuestionIndex,'isCorrect':_0x5adf08},_0x2e169d=userId,_0x4abcf6={[_0x2839c6(0x495)+_0x2e169d+'.answers']:arrayUnion(_0x5ca0b7)};_0x5adf08&&(_0x4abcf6[_0x2839c6(0x495)+_0x2e169d+_0x2839c6(0x693)]=increment(0x1));try{await updateDoc(doc(db,_0x2839c6(0x714)+appId+_0x2839c6(0x6fc),currentTeamQuizId),_0x4abcf6),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x2839c6(0xb4f)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x583983){console[_0x2839c6(0x77b)](_0x2839c6(0x70e),_0x583983),showMessage(_0x2839c6(0x66d));}}async function handleTeamAnswerSubmit(){const _0x2cb086=_0x358d67,_0xfb25bb=await getDoc(doc(db,_0x2cb086(0x714)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0xfb25bb[_0x2cb086(0x40f)]())return;const _0x443aaf=_0xfb25bb['data']();if(_0x443aaf['mode']===_0x2cb086(0x4cd)){handleGroupAnswerSubmit();return;}const _0x220aaf=localTeamPlayers[localPlayerIndex],_0x40f039=currentQuizData[_0x2cb086(0xb4f)][localQuestionIndex],_0x54d64c=_0x40f039[_0x2cb086(0x2d0)]||currentQuizData[_0x2cb086(0x593)];let _0x2f9856=null,_0x3d9d7f=![];if(_0x54d64c===_0x2cb086(0xad5)||_0x54d64c==='fill_in_no_choices'){const _0x2ac3c4=document[_0x2cb086(0x3a0)](_0x2cb086(0x9b0));if(!_0x2ac3c4||!_0x2ac3c4[_0x2cb086(0xac6)][_0x2cb086(0x7a5)]()){showMessage(_0x2cb086(0x282));return;}_0x2f9856=_0x2ac3c4[_0x2cb086(0xac6)][_0x2cb086(0x7a5)](),_0x3d9d7f=await gradeShortAnswer(_0x2f9856,_0x40f039);}else{const _0x12a8c5=document[_0x2cb086(0x3a0)](_0x2cb086(0xba3));if(!_0x12a8c5||_0x12a8c5[_0x2cb086(0xac6)]===''){showMessage(_0x2cb086(0xbd6));return;}_0x2f9856=_0x12a8c5[_0x2cb086(0xac6)];switch(_0x54d64c){case'true_false':_0x3d9d7f=_0x2f9856===_0x2cb086(0x354)===_0x40f039['correctAnswer'];break;case _0x2cb086(0x4b9):_0x3d9d7f=_0x2f9856===_0x40f039[_0x2cb086(0x44f)];break;default:_0x3d9d7f=parseInt(_0x2f9856)===_0x40f039[_0x2cb086(0x468)];break;}}const _0x89a1e={'questionIndex':localQuestionIndex,'isCorrect':_0x3d9d7f,'answerValue':_0x2f9856},_0x1171ba={[_0x2cb086(0x5a3)+_0x220aaf+_0x2cb086(0x2bd)]:arrayUnion(_0x89a1e)};_0x3d9d7f&&(_0x1171ba['responses.'+_0x220aaf+_0x2cb086(0x693)]=increment(0x1));try{await updateDoc(doc(db,_0x2cb086(0x714)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x1171ba),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x190b82){console['error'](_0x2cb086(0x99f),_0x190b82),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x51707c=_0x358d67;studentQuizArea['classList'][_0x51707c(0x33b)](_0x51707c(0x49a)),studentResultArea[_0x51707c(0x542)][_0x51707c(0x9d0)](_0x51707c(0x49a));const _0x29dd11=doc(db,_0x51707c(0x714)+appId+_0x51707c(0x6fc),currentTeamQuizId),_0x42a028=await getDoc(_0x29dd11);if(!_0x42a028[_0x51707c(0x40f)]()){studentResultArea[_0x51707c(0x888)]=_0x51707c(0x427);return;}const _0x13e8e3=_0x42a028[_0x51707c(0x49d)]();let _0x3c0019=[];const _0x1b777f=_0x13e8e3[_0x51707c(0x60f)]||_0x51707c(0x416);if(_0x1b777f===_0x51707c(0x4cd)){const _0x13fd54=_0x13e8e3[_0x51707c(0x624)][userId];_0x13fd54?_0x3c0019=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x51707c(0x61f)](',\x20'),'score':_0x13fd54['score']||0x0}]:_0x3c0019=[{'name':_0x51707c(0x31d),'score':_0x51707c(0x5d4)}];}else _0x3c0019=localTeamPlayers['map'](_0x54f229=>({'name':_0x54f229,'score':_0x13e8e3['responses'][_0x54f229]?.['score']||0x0}))[_0x51707c(0x843)]((_0x1b3ef7,_0x5439c1)=>_0x5439c1[_0x51707c(0xb0c)]-_0x1b3ef7[_0x51707c(0xb0c)]);studentResultArea[_0x51707c(0x888)]=_0x51707c(0x62f)+_0x3c0019[_0x51707c(0x8ca)](_0x1c6153=>_0x51707c(0x26e)+_0x1c6153[_0x51707c(0xbc7)]+_0x51707c(0x38d)+_0x1c6153[_0x51707c(0xb0c)]+_0x51707c(0x860))['join']('')+_0x51707c(0x689),sessionStorage[_0x51707c(0x8e5)](_0x51707c(0x80c)),currentMode===_0x51707c(0x389)&&currentTeamQuizId&&setTimeout(()=>{const _0x8d3757=_0x51707c;deleteDoc(doc(db,_0x8d3757(0x714)+appId+_0x8d3757(0x6fc),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x358d67(0x9e7),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x358d67(0xa6d),'name':_0x358d67(0x7f7)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x6d2)},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x2d4)},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x544)},{'category':_0x358d67(0xa6d),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0xb4d)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0xb0a)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x56a)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0xbcf)},{'category':_0x358d67(0xa6d),'name':'จำนวนเต็มลบ'},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x762)},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x1e7)},{'category':_0x358d67(0xa6d),'name':'เส้นจำนวน'},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x1f4)},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x441)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0xaca)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0xbfb)},{'category':_0x358d67(0xa6d),'name':'อัตราและอัตราหน่วย'},{'category':_0x358d67(0xa6d),'name':_0x358d67(0xaee)},{'category':_0x358d67(0xa6d),'name':'การบวกเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x862)},{'category':_0x358d67(0xa6d),'name':'การคูณเศษส่วน'},{'category':_0x358d67(0xa6d),'name':_0x358d67(0xa65)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x65c)},{'category':_0x358d67(0xa6d),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x512)},{'category':_0x358d67(0xa6d),'name':'การลบทศนิยม'},{'category':_0x358d67(0xa6d),'name':_0x358d67(0xa1f)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x3a5)},{'category':_0x358d67(0xa6d),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x3e9)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x711)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x92b)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x930)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x1d4)},{'category':'จำนวนและการดำเนินการ','name':_0x358d67(0x450)},{'category':_0x358d67(0xa6d),'name':_0x358d67(0x3fa)},{'category':'การวัด','name':'หน่วยความยาวและการแปลง'},{'category':_0x358d67(0x229),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':_0x358d67(0x35f)},{'category':_0x358d67(0x229),'name':_0x358d67(0x2a7)},{'category':_0x358d67(0x229),'name':_0x358d67(0xb29)},{'category':_0x358d67(0x229),'name':_0x358d67(0xb8d)},{'category':_0x358d67(0x229),'name':_0x358d67(0x2d1)},{'category':_0x358d67(0x229),'name':_0x358d67(0x28b)},{'category':'การวัด','name':_0x358d67(0x1be)},{'category':_0x358d67(0x229),'name':_0x358d67(0x47a)},{'category':_0x358d67(0x229),'name':_0x358d67(0x9b1)},{'category':_0x358d67(0x229),'name':'มุมและการวัดมุม'},{'category':_0x358d67(0x229),'name':_0x358d67(0x9e4)},{'category':_0x358d67(0x229),'name':_0x358d67(0x7f4)},{'category':_0x358d67(0xb1e),'name':_0x358d67(0x658)},{'category':'เรขาคณิต','name':'ความสัมพันธ์ของมุม'},{'category':_0x358d67(0xb1e),'name':_0x358d67(0x2aa)},{'category':_0x358d67(0xb1e),'name':_0x358d67(0x28b)},{'category':_0x358d67(0xb1e),'name':_0x358d67(0xab2)},{'category':'เรขาคณิต','name':_0x358d67(0xb08)},{'category':_0x358d67(0xb1e),'name':_0x358d67(0x90e)},{'category':_0x358d67(0xb1e),'name':_0x358d67(0x8fd)},{'category':_0x358d67(0xb1e),'name':_0x358d67(0x96c)},{'category':_0x358d67(0xb1e),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x358d67(0xb1e),'name':_0x358d67(0x780)},{'category':'เรขาคณิต','name':_0x358d67(0x9e2)},{'category':'เรขาคณิต','name':_0x358d67(0x7d7)},{'category':_0x358d67(0xb1e),'name':_0x358d67(0x377)},{'category':_0x358d67(0xb1e),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x358d67(0x555),'name':_0x358d67(0x323)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x358d67(0x439)},{'category':_0x358d67(0x555),'name':_0x358d67(0x6fa)},{'category':_0x358d67(0x555),'name':'การแยกตัวประกอบ'},{'category':_0x358d67(0x555),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x358d67(0x555),'name':_0x358d67(0x9d2)},{'category':_0x358d67(0x555),'name':_0x358d67(0xa77)},{'category':_0x358d67(0x555),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x358d67(0x555),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x358d67(0x5c5)},{'category':_0x358d67(0x555),'name':_0x358d67(0x76b)},{'category':_0x358d67(0x555),'name':_0x358d67(0x626)},{'category':_0x358d67(0x555),'name':'สมการลอการิทึม'},{'category':_0x358d67(0x555),'name':_0x358d67(0x5c6)},{'category':_0x358d67(0x555),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x358d67(0x555),'name':_0x358d67(0x32e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x358d67(0x737)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x358d67(0x5db)},{'category':_0x358d67(0x555),'name':_0x358d67(0x383)},{'category':_0x358d67(0x555),'name':_0x358d67(0x25b)},{'category':_0x358d67(0x555),'name':_0x358d67(0x91f)},{'category':_0x358d67(0x555),'name':_0x358d67(0x4e1)},{'category':_0x358d67(0x555),'name':_0x358d67(0x41b)},{'category':_0x358d67(0x555),'name':_0x358d67(0x58f)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x358d67(0x555),'name':_0x358d67(0x623)},{'category':_0x358d67(0x555),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x358d67(0x93d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x358d67(0x7b3)},{'category':_0x358d67(0x555),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x358d67(0x555),'name':_0x358d67(0x4f7)},{'category':_0x358d67(0x555),'name':_0x358d67(0x8fa)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x358d67(0xbd8)},{'category':_0x358d67(0x555),'name':_0x358d67(0x8ae)},{'category':_0x358d67(0x555),'name':_0x358d67(0x72b)},{'category':_0x358d67(0x7ad),'name':_0x358d67(0x89f)},{'category':'เรขาคณิตวิเคราะห์','name':_0x358d67(0x59c)},{'category':_0x358d67(0x7ad),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x358d67(0x7ad),'name':_0x358d67(0x71d)},{'category':_0x358d67(0x7ad),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x358d67(0x5b0)},{'category':'เรขาคณิตวิเคราะห์','name':'พาราโบลา'},{'category':_0x358d67(0x7ad),'name':_0x358d67(0x9e9)},{'category':'เรขาคณิตวิเคราะห์','name':_0x358d67(0x574)},{'category':_0x358d67(0x451),'name':_0x358d67(0x9bb)},{'category':'ตรีโกณมิติ','name':_0x358d67(0x788)},{'category':'ตรีโกณมิติ','name':_0x358d67(0x3ab)},{'category':_0x358d67(0x451),'name':_0x358d67(0x192)},{'category':'ตรีโกณมิติ','name':_0x358d67(0x3d5)},{'category':_0x358d67(0x451),'name':_0x358d67(0x746)},{'category':'ตรีโกณมิติ','name':_0x358d67(0xb99)},{'category':_0x358d67(0x451),'name':_0x358d67(0x235)},{'category':_0x358d67(0x451),'name':_0x358d67(0x361)},{'category':_0x358d67(0x451),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x358d67(0x451),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x358d67(0x81d),'name':_0x358d67(0x63b)},{'category':_0x358d67(0x81d),'name':_0x358d67(0x2b3)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':_0x358d67(0x81d),'name':_0x358d67(0x3cd)},{'category':'สถิติและความน่าจะเป็น','name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':_0x358d67(0x9c7)},{'category':_0x358d67(0x81d),'name':_0x358d67(0x8d5)},{'category':_0x358d67(0x81d),'name':_0x358d67(0x309)},{'category':'สถิติและความน่าจะเป็น','name':'ฐานนิยม'},{'category':_0x358d67(0x81d),'name':_0x358d67(0xbdb)},{'category':'สถิติและความน่าจะเป็น','name':_0x358d67(0x7b4)},{'category':_0x358d67(0x81d),'name':_0x358d67(0xae8)},{'category':_0x358d67(0x81d),'name':_0x358d67(0x6cc)},{'category':_0x358d67(0x81d),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x358d67(0x81d),'name':_0x358d67(0x3c3)},{'category':_0x358d67(0x81d),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x358d67(0x81d),'name':_0x358d67(0x4ab)},{'category':_0x358d67(0x81d),'name':'แผนภาพเวนน์'},{'category':'สถิติและความน่าจะเป็น','name':_0x358d67(0x5fa)},{'category':_0x358d67(0x81d),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x358d67(0x562)},{'category':'สถิติและความน่าจะเป็น','name':_0x358d67(0x670)},{'category':_0x358d67(0x81d),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x358d67(0x81d),'name':_0x358d67(0x73f)},{'category':_0x358d67(0xa64),'name':_0x358d67(0xbde)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x6a5)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x854)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x94d)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x7eb)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x5b4)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x335)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x22e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x358d67(0x8b5)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x4d3)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x9f5)},{'category':'แคลคูลัสเบื้องต้น','name':_0x358d67(0x6aa)},{'category':_0x358d67(0xa64),'name':_0x358d67(0x46f)},{'category':_0x358d67(0x5b7),'name':_0x358d67(0x5a5)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x358d67(0x2d5)},{'category':_0x358d67(0x5b7),'name':_0x358d67(0x81c)},{'category':_0x358d67(0x5b7),'name':_0x358d67(0x734)},{'category':_0x358d67(0x5b7),'name':_0x358d67(0x972)},{'category':_0x358d67(0x5b7),'name':_0x358d67(0x40c)},{'category':_0x358d67(0x5b7),'name':_0x358d67(0x521)},{'category':_0x358d67(0x64b),'name':_0x358d67(0xb42)},{'category':_0x358d67(0x64b),'name':'ดอกเบี้ยทบต้น'},{'category':_0x358d67(0x64b),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x358d67(0x64b),'name':_0x358d67(0xa7e)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x358d67(0x5bb)},{'category':_0x358d67(0x53d),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x358d67(0x53d),'name':_0x358d67(0x756)},{'category':_0x358d67(0x53d),'name':_0x358d67(0x472)}];function renderTopicCheckboxes(){const _0x3ebcbb=_0x358d67,_0x45e07a=document[_0x3ebcbb(0x3a8)](_0x3ebcbb(0x787));if(!_0x45e07a)return;const _0x400b01=allMathTopics,_0x1d8584=customMathTopics[_0x3ebcbb(0x8ca)](_0x50a526=>({'id':_0x50a526['id'],'category':_0x3ebcbb(0x8ab),'name':_0x50a526[_0x3ebcbb(0xbc7)]})),_0x595744=[..._0x400b01,..._0x1d8584],_0x5068fd=_0x595744[_0x3ebcbb(0x5f7)]((_0x36de1f,_0x32a191)=>{const _0x457f66=_0x3ebcbb;return!_0x36de1f[_0x32a191['category']]&&(_0x36de1f[_0x32a191[_0x457f66(0x6f0)]]=[]),_0x36de1f[_0x32a191[_0x457f66(0x6f0)]][_0x457f66(0x78d)](_0x32a191),_0x36de1f;},{});let _0x24d840='';const _0x11ced6=['หัวข้อที่สร้างเอง',...Object[_0x3ebcbb(0x57a)](_0x5068fd)[_0x3ebcbb(0x47c)](_0x27917b=>_0x27917b!==_0x3ebcbb(0x8ab))];for(const _0x24862e of _0x11ced6){if(_0x5068fd[_0x24862e]){const _0x1f5faf=_0x24862e===_0x3ebcbb(0x8ab),_0x12facc=_0x1f5faf?'fas\x20fa-user-edit':_0x3ebcbb(0x231),_0x1eb1a4=_0x1f5faf?'text-blue-700':_0x3ebcbb(0x671);_0x24d840+=_0x3ebcbb(0x541),_0x24d840+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x1eb1a4+_0x3ebcbb(0x1a4)+_0x12facc+'\x20mr-2\x22></i>'+_0x24862e+_0x3ebcbb(0x183),_0x5068fd[_0x24862e]['forEach'](_0x385a0a=>{const _0x4bafb6=_0x3ebcbb,_0x15c7d9=!!_0x385a0a['id'],_0x5ce608=_0x15c7d9?_0x4bafb6(0x7b0)+_0x385a0a['id']+_0x4bafb6(0x801)+_0x385a0a['id']+_0x4bafb6(0x230)+_0x385a0a['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x385a0a['id']+_0x4bafb6(0xb6a):'';_0x24d840+=_0x4bafb6(0x36b)+(_0x385a0a['id']||'')+_0x4bafb6(0x286)+_0x385a0a[_0x4bafb6(0xbc7)]+_0x4bafb6(0x1f6)+_0x385a0a['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x15c7d9?_0x4bafb6(0x939)+_0x385a0a[_0x4bafb6(0xbc7)]+'\x22>':'')+_0x4bafb6(0x19f)+_0x5ce608+_0x4bafb6(0x460);}),_0x24d840+=_0x3ebcbb(0x738);}}_0x45e07a[_0x3ebcbb(0x888)]=_0x24d840||_0x3ebcbb(0x3dd),_0x45e07a[_0x3ebcbb(0x6ba)](_0x3ebcbb(0xabc),updateSelectedTopicsCount),_0x45e07a[_0x3ebcbb(0x4f9)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x134076,_0x5d7b84){const _0x3d353f=_0x358d67;if(!_0x134076||!_0x5d7b84['trim']()){showMessage(_0x3d353f(0xa3f));return;}try{const _0xcf1f9=doc(db,_0x3d353f(0x714)+appId+_0x3d353f(0x3dc),_0x134076);await updateDoc(_0xcf1f9,{'name':_0x5d7b84[_0x3d353f(0x7a5)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x578615){console[_0x3d353f(0x77b)](_0x3d353f(0x594),_0x578615),showMessage(_0x3d353f(0x9f2));}}function toggleTopicEditMode(_0x5600fa,_0x20be34){const _0x5e14a8=_0x358d67;if(!_0x5600fa)return;const _0x3cbdce=_0x5600fa[_0x5e14a8(0x3a0)](_0x5e14a8(0x2c4)),_0x5d38ee=_0x5600fa['querySelector'](_0x5e14a8(0x4bd)),_0x3efee0=_0x5600fa[_0x5e14a8(0x3a0)]('.topic-actions-view'),_0x1e4f90=_0x5600fa[_0x5e14a8(0x3a0)](_0x5e14a8(0x391));_0x3cbdce[_0x5e14a8(0x542)][_0x5e14a8(0x50e)](_0x5e14a8(0x49a),_0x20be34),_0x5d38ee[_0x5e14a8(0x542)][_0x5e14a8(0x50e)](_0x5e14a8(0x49a),!_0x20be34),_0x3efee0[_0x5e14a8(0x542)][_0x5e14a8(0x50e)]('hidden',_0x20be34),_0x1e4f90[_0x5e14a8(0x542)]['toggle']('hidden',!_0x20be34),_0x20be34&&(_0x5d38ee[_0x5e14a8(0x372)](),_0x5d38ee[_0x5e14a8(0x5e1)]());}async function handleStartLiveRace(_0x58fef7){const _0x5d28a0=_0x358d67;let _0x34b38a=allQuizzes[_0x5d28a0(0x301)](_0x2bc239=>_0x2bc239['id']===_0x58fef7);if(!_0x34b38a){const _0x57b139=doc(db,_0x5d28a0(0x714)+appId+_0x5d28a0(0x4b7),_0x58fef7),_0x26df1f=await getDoc(_0x57b139);if(!_0x26df1f[_0x5d28a0(0x40f)]()){showMessage(_0x5d28a0(0x804));return;}_0x34b38a={'id':_0x26df1f['id'],..._0x26df1f[_0x5d28a0(0x49d)]()};}const _0x284335=getShuffledQuiz(_0x34b38a);currentQuizData=_0x284335;const _0x4eb239=_0x34b38a[_0x5d28a0(0x8cb)]||currentProjectId||null,_0x360477=Math['floor'](0x3e8+Math[_0x5d28a0(0x190)]()*0x2328)[_0x5d28a0(0x7a2)]();currentLiveGamePin=_0x360477;try{const _0xa73546=await addDoc(collection(db,_0x5d28a0(0x714)+appId+_0x5d28a0(0x999)),{'quizId':_0x58fef7,'projectId':_0x4eb239,'status':_0x5d28a0(0x270),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x360477,'createdAt':serverTimestamp(),'shuffledQuiz':_0x284335});currentLiveGameId=_0xa73546['id'],showAdminLobbyView(_0x360477,_0x34b38a[_0x5d28a0(0x339)]),listenForLiveGameUpdates();}catch(_0x4e1c98){console[_0x5d28a0(0x77b)](_0x5d28a0(0x825),_0x4e1c98),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x169f18=_0x358d67,_0x35df67=document['getElementById'](_0x169f18(0x787)),_0x12b038=_0x35df67[_0x169f18(0x4a1)](_0x169f18(0xbb3))[_0x169f18(0x6b0)],_0x1a4101=document['getElementById'](_0x169f18(0x884));_0x12b038>0x0?_0x1a4101[_0x169f18(0x20d)]=_0x169f18(0xb46)+_0x12b038+_0x169f18(0x5ef):_0x1a4101['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x358d67(0x5ed),quizLeaderboardSortOrder=_0x358d67(0x24a),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x358d67(0x88c),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x358d67(0x637),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x237227,_0x16f8e7){const _0x349acf=_0x358d67;return Math[_0x349acf(0x588)](Math['pow'](_0x237227['x']-_0x16f8e7['x'],0x2)+Math[_0x349acf(0x355)](_0x237227['y']-_0x16f8e7['y'],0x2));}function getMidpoint(_0x3a8655,_0x2d0129){return{'x':(_0x3a8655['x']+_0x2d0129['x'])/0x2,'y':(_0x3a8655['y']+_0x2d0129['y'])/0x2};}function getTransformedPoint(_0x54a8f9,_0x474bad){return{'x':(_0x54a8f9-scratchpadOffset['x'])/scratchpadScale,'y':(_0x474bad-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x446612=_0x358d67;if(!scratchpadCtx)return;const _0x5e5607=scratchpadCtx[_0x446612(0xb67)],_0x4c765c=window[_0x446612(0x4b1)]||0x1,_0x255691=document[_0x446612(0x3a8)]('scratchpad-header');_0x255691&&(_0x255691['style'][_0x446612(0x6f6)]='0\x200',_0x255691['style']['transform']=_0x446612(0x65d)+scratchpadOffset['x']+_0x446612(0x56c)+scratchpadOffset['y']+_0x446612(0xb6b)+scratchpadScale+')'),scratchpadCtx[_0x446612(0x961)](),scratchpadCtx[_0x446612(0x3f7)](_0x4c765c,0x0,0x0,_0x4c765c,0x0,0x0),scratchpadCtx[_0x446612(0x4df)](0x0,0x0,_0x5e5607[_0x446612(0x19d)],_0x5e5607['height']),scratchpadCtx[_0x446612(0x2f7)](),scratchpadCtx['save'](),scratchpadCtx[_0x446612(0x47d)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x446612(0xa8b)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x2a8b7e=>{drawStroke(_0x2a8b7e);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x446612(0x2f7)]();}function renderGroupModeQuestion(){const _0x12be0b=_0x358d67;if(localQuestionIndex>=currentQuizData[_0x12be0b(0xb4f)][_0x12be0b(0x6b0)]){displayTeamQuizFinalResults();return;}const _0x1c8787=currentQuizData[_0x12be0b(0xb4f)][localQuestionIndex],_0x4e4834=_0x1c8787['questionType']||currentQuizData[_0x12be0b(0x593)];let _0x47b78f=_0x1c8787[_0x12be0b(0x966)]||_0x1c8787[_0x12be0b(0xa23)],_0x459151='';switch(_0x4e4834){case _0x12be0b(0x302):case'fill_in_with_choices':_0x459151=_0x1c8787[_0x12be0b(0x994)][_0x12be0b(0x8ca)]((_0x230c42,_0x2af167)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x2af167+_0x12be0b(0x94a)+_0x2af167+_0x12be0b(0x64d)+_0x2af167+'\x22>'+_0x230c42+'</label></div>')[_0x12be0b(0x61f)]('');break;case _0x12be0b(0x5b9):_0x459151=_0x12be0b(0x758);break;case _0x12be0b(0xad5):case _0x12be0b(0x845):_0x459151=_0x12be0b(0x776);break;case _0x12be0b(0x4b9):_0x459151='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x1c8787[_0x12be0b(0x37b)][_0x12be0b(0x8ca)](_0x1086df=>_0x12be0b(0xaf5)+_0x1086df+'\x22>'+_0x1086df+'</option>')[_0x12be0b(0x61f)]('')+_0x12be0b(0x61c);break;default:_0x459151=_0x12be0b(0x5d2);break;}studentQuizArea[_0x12be0b(0x888)]=_0x12be0b(0xa2f)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x12be0b(0xb4f)][_0x12be0b(0x6b0)]+_0x12be0b(0xaf0)+localTeamPlayers['join'](',\x20')+_0x12be0b(0x827)+(localQuestionIndex+0x1)+'.\x20'+_0x47b78f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1c8787[_0x12be0b(0x311)]?_0x12be0b(0x532)+_0x1c8787[_0x12be0b(0x311)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x459151+_0x12be0b(0x29d),studentQuizArea[_0x12be0b(0x542)][_0x12be0b(0x9d0)](_0x12be0b(0x49a));if(window[_0x12be0b(0x915)])MathJax[_0x12be0b(0x7cf)]([studentQuizArea]);document[_0x12be0b(0x3a8)](_0x12be0b(0x6f4))[_0x12be0b(0x4f9)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x62243e,_0x281a45=null,_0x3cf119,_0xd6dbb1=null,_0x4575c1=![]){const _0x442486=_0x358d67,_0x2d02d4=document[_0x442486(0x3a8)]('quiz-generation-area');_0x2d02d4&&_0x2d02d4[_0x442486(0x29b)]({'behavior':_0x442486(0xb1f),'block':_0x442486(0x75b)}),generateQuiz(_0x62243e,_0x281a45,null,null,!![],_0x3cf119,_0xd6dbb1,_0x4575c1);}function handleGenerateAndShowLesson(_0xa3a982,_0x122939){const _0x22f9c0=_0x358d67,_0x4ea95b=document[_0x22f9c0(0x3a8)]('lesson-view-modal'),_0x513f69=document[_0x22f9c0(0x3a8)]('lesson-view-title'),_0x56c294=document[_0x22f9c0(0x3a8)](_0x22f9c0(0x7f3)),_0x346b5d=document[_0x22f9c0(0x3a8)](_0x22f9c0(0x89d));[_0x22f9c0(0x690),'memoryContent',_0x22f9c0(0x685),_0x22f9c0(0x664)][_0x22f9c0(0x519)](_0x194c4f=>{const _0x298527=_0x22f9c0,_0x5eccd2=document[_0x298527(0x3a8)](_0x194c4f)[_0x298527(0xab9)];_0x5eccd2&&(_0x5eccd2['style'][_0x298527(0x2cb)]='block');}),_0x513f69[_0x22f9c0(0x20d)]=_0x22f9c0(0x2ee)+_0xa3a982,_0x346b5d[_0x22f9c0(0x542)][_0x22f9c0(0x33b)](_0x22f9c0(0x49a)),_0x56c294[_0x22f9c0(0x542)][_0x22f9c0(0x9d0)]('hidden'),_0x4ea95b[_0x22f9c0(0x542)][_0x22f9c0(0x9d0)](_0x22f9c0(0x49a)),generateLesson(_0xa3a982,_0x122939)[_0x22f9c0(0x642)](_0x2375f3=>{const _0x361ca2=_0x22f9c0;console[_0x361ca2(0x77b)](_0x361ca2(0x22f),_0x2375f3),showMessage(_0x361ca2(0x3cf)),_0x4ea95b['classList'][_0x361ca2(0x33b)](_0x361ca2(0x49a));});}function handlePointerDown(_0x2d5f98){const _0x4199d3=_0x358d67;_0x2d5f98[_0x4199d3(0x5f6)]();const _0x47a1bf=scratchpadCtx[_0x4199d3(0xb67)],_0x740e65=_0x47a1bf[_0x4199d3(0x789)](),_0x211a21=_0x2d5f98['pointerType']||(_0x2d5f98[_0x4199d3(0x99b)]?_0x4199d3(0x408):_0x4199d3(0x6ad));if(_0x211a21===_0x4199d3(0x85c)||_0x211a21==='mouse'){if(_0x2d5f98['pointerType']===_0x4199d3(0x6ad)&&_0x2d5f98[_0x4199d3(0xa71)]!==0x0){_0x2d5f98[_0x4199d3(0xa71)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2d5f98['clientX'],'y':_0x2d5f98[_0x4199d3(0x9b8)]},_0x47a1bf[_0x4199d3(0x43c)][_0x4199d3(0x2a3)]=_0x4199d3(0xa10));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x41e1a3=getTransformedPoint(_0x2d5f98[_0x4199d3(0x74e)]-_0x740e65[_0x4199d3(0x446)],_0x2d5f98[_0x4199d3(0x9b8)]-_0x740e65['top']);let _0x184e2f={'tool':activeTool,'points':[_0x41e1a3]};if(activeTool===_0x4199d3(0x1b4))_0x184e2f[_0x4199d3(0x8a6)]=scratchpadHighlighterColor,_0x184e2f[_0x4199d3(0x5bd)]=scratchpadHighlighterSize;else activeTool===_0x4199d3(0x1c3)?(_0x184e2f['color']=scratchpadPenColor,_0x184e2f['size']=scratchpadPenSize):(_0x184e2f[_0x4199d3(0x8a6)]=scratchpadPenColor,_0x184e2f[_0x4199d3(0x5bd)]=scratchpadPenSize);currentStroke=_0x184e2f;}else _0x2d5f98[_0x4199d3(0x99b)]&&(_0x2d5f98['touches']['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2d5f98[_0x4199d3(0x99b)][0x0][_0x4199d3(0x74e)],'y':_0x2d5f98[_0x4199d3(0x99b)][0x0][_0x4199d3(0x9b8)]},{'x':_0x2d5f98[_0x4199d3(0x99b)][0x1][_0x4199d3(0x74e)],'y':_0x2d5f98['touches'][0x1][_0x4199d3(0x9b8)]}),initialPinchDistance=getDistance({'x':_0x2d5f98[_0x4199d3(0x99b)][0x0][_0x4199d3(0x74e)],'y':_0x2d5f98[_0x4199d3(0x99b)][0x0]['clientY']},{'x':_0x2d5f98[_0x4199d3(0x99b)][0x1][_0x4199d3(0x74e)],'y':_0x2d5f98[_0x4199d3(0x99b)][0x1][_0x4199d3(0x9b8)]})));}function animateTrail(){const _0x1bbcab=_0x358d67,_0x14a555=Date[_0x1bbcab(0x2ab)]();let _0x54bb42=![];for(let _0x107eb5=strokes['length']-0x1;_0x107eb5>=0x0;_0x107eb5--){const _0x3c40c4=strokes[_0x107eb5];if(_0x3c40c4[_0x1bbcab(0x8e8)]===_0x1bbcab(0x1c3)&&_0x3c40c4[_0x1bbcab(0x1f5)]){const _0x594420=_0x14a555-_0x3c40c4[_0x1bbcab(0x1f5)];_0x594420>=TRAIL_DURATION?strokes['splice'](_0x107eb5,0x1):(_0x3c40c4[_0x1bbcab(0xabf)]=0x1-_0x594420/TRAIL_DURATION,_0x54bb42=!![]);}}redrawScratchpad(),_0x54bb42?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x502b6f){const _0x22bded=_0x358d67;if(!_0x502b6f||_0x502b6f[_0x22bded(0x957)][_0x22bded(0x6b0)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x22bded(0x6fb)]=_0x22bded(0x6f8),scratchpadCtx['lineCap']=_0x22bded(0x6f8);if(_0x502b6f[_0x22bded(0x8e8)]==='trail'){const _0x1cec08=_0x502b6f[_0x22bded(0x5bd)]/scratchpadScale;scratchpadCtx[_0x22bded(0x395)]=_0x502b6f[_0x22bded(0xabf)]??0x1,scratchpadCtx['shadowColor']='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x22bded(0xbec)]=_0x1cec08*0x3,scratchpadCtx[_0x22bded(0xada)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x22bded(0x987)]=_0x1cec08*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x22bded(0x35a)](_0x502b6f[_0x22bded(0x957)][0x0]['x'],_0x502b6f[_0x22bded(0x957)][0x0]['y']);for(let _0x2a379f=0x1;_0x2a379f<_0x502b6f[_0x22bded(0x957)]['length']-0x1;_0x2a379f++){const _0x61b7ea=getMidpoint(_0x502b6f[_0x22bded(0x957)][_0x2a379f],_0x502b6f[_0x22bded(0x957)][_0x2a379f+0x1]);scratchpadCtx[_0x22bded(0xb0b)](_0x502b6f[_0x22bded(0x957)][_0x2a379f]['x'],_0x502b6f['points'][_0x2a379f]['y'],_0x61b7ea['x'],_0x61b7ea['y']);}scratchpadCtx[_0x22bded(0x8fe)](),scratchpadCtx['shadowColor']=_0x22bded(0xb64),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x22bded(0xada)]=_0x22bded(0x8b7),scratchpadCtx[_0x22bded(0x987)]=_0x1cec08,scratchpadCtx[_0x22bded(0x8fe)](),scratchpadCtx[_0x22bded(0xb00)]();}else{if(_0x502b6f[_0x22bded(0x8e8)]===_0x22bded(0x1b4)){scratchpadCtx['globalCompositeOperation']=_0x22bded(0x510),scratchpadCtx[_0x22bded(0xada)]=_0x502b6f[_0x22bded(0x8a6)],scratchpadCtx[_0x22bded(0x987)]=_0x502b6f[_0x22bded(0x5bd)],scratchpadCtx[_0x22bded(0x794)](),scratchpadCtx['moveTo'](_0x502b6f[_0x22bded(0x957)][0x0]['x'],_0x502b6f[_0x22bded(0x957)][0x0]['y']);for(let _0x2700be=0x1;_0x2700be<_0x502b6f[_0x22bded(0x957)][_0x22bded(0x6b0)]-0x1;_0x2700be++){const _0x30663d=getMidpoint(_0x502b6f[_0x22bded(0x957)][_0x2700be],_0x502b6f[_0x22bded(0x957)][_0x2700be+0x1]);scratchpadCtx[_0x22bded(0xb0b)](_0x502b6f[_0x22bded(0x957)][_0x2700be]['x'],_0x502b6f[_0x22bded(0x957)][_0x2700be]['y'],_0x30663d['x'],_0x30663d['y']);}scratchpadCtx[_0x22bded(0x8fe)](),scratchpadCtx[_0x22bded(0xb00)]();}else{scratchpadCtx[_0x22bded(0xb73)]=_0x502b6f[_0x22bded(0x8e8)]===_0x22bded(0xb21)?_0x22bded(0x895):'source-over',scratchpadCtx[_0x22bded(0xada)]=_0x502b6f['color'],scratchpadCtx['lineWidth']=_0x502b6f[_0x22bded(0x5bd)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x22bded(0x35a)](_0x502b6f[_0x22bded(0x957)][0x0]['x'],_0x502b6f[_0x22bded(0x957)][0x0]['y']);for(let _0x541e1a=0x1;_0x541e1a<_0x502b6f[_0x22bded(0x957)][_0x22bded(0x6b0)]-0x1;_0x541e1a++){const _0x529dd5=getMidpoint(_0x502b6f[_0x22bded(0x957)][_0x541e1a],_0x502b6f[_0x22bded(0x957)][_0x541e1a+0x1]);scratchpadCtx[_0x22bded(0xb0b)](_0x502b6f[_0x22bded(0x957)][_0x541e1a]['x'],_0x502b6f[_0x22bded(0x957)][_0x541e1a]['y'],_0x529dd5['x'],_0x529dd5['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x22bded(0xb00)]();}}scratchpadCtx[_0x22bded(0x2f7)]();}function handlePointerMove(_0x58fb1e){const _0x2c28dd=_0x358d67;_0x58fb1e[_0x2c28dd(0x5f6)]();const _0x271a44=scratchpadCtx['canvas'],_0x501af9=_0x271a44[_0x2c28dd(0x789)]();if(_0x58fb1e[_0x2c28dd(0x99b)]){if(_0x58fb1e[_0x2c28dd(0x99b)][_0x2c28dd(0x6b0)]===0x1&&isDrawingOnScratchpad){const _0x41883d=getTransformedPoint(_0x58fb1e[_0x2c28dd(0x99b)][0x0]['clientX']-_0x501af9[_0x2c28dd(0x446)],_0x58fb1e[_0x2c28dd(0x99b)][0x0][_0x2c28dd(0x9b8)]-_0x501af9[_0x2c28dd(0x202)]);currentStroke[_0x2c28dd(0x957)][_0x2c28dd(0x78d)](_0x41883d),redrawScratchpad();}else{if(_0x58fb1e[_0x2c28dd(0x99b)][_0x2c28dd(0x6b0)]===0x2&&isPanning){const _0xac8254=getDistance({'x':_0x58fb1e['touches'][0x0]['clientX'],'y':_0x58fb1e[_0x2c28dd(0x99b)][0x0]['clientY']},{'x':_0x58fb1e[_0x2c28dd(0x99b)][0x1][_0x2c28dd(0x74e)],'y':_0x58fb1e[_0x2c28dd(0x99b)][0x1][_0x2c28dd(0x9b8)]}),_0x5938ab=getMidpoint({'x':_0x58fb1e[_0x2c28dd(0x99b)][0x0][_0x2c28dd(0x74e)],'y':_0x58fb1e[_0x2c28dd(0x99b)][0x0][_0x2c28dd(0x9b8)]},{'x':_0x58fb1e[_0x2c28dd(0x99b)][0x1][_0x2c28dd(0x74e)],'y':_0x58fb1e[_0x2c28dd(0x99b)][0x1]['clientY']}),_0x5ea4d5=_0xac8254/ initialPinchDistance,_0x3f32d1=Math[_0x2c28dd(0x57c)](Math[_0x2c28dd(0x21a)](scratchpadScale*_0x5ea4d5,MIN_SCALE),MAX_SCALE),_0x2ced94=_0x5938ab['x']-panStart['x'],_0x168828=_0x5938ab['y']-panStart['y'];scratchpadOffset['x']=_0x5938ab['x']-(_0x5938ab['x']-scratchpadOffset['x'])*(_0x3f32d1/scratchpadScale),scratchpadOffset['y']=_0x5938ab['y']-(_0x5938ab['y']-scratchpadOffset['y'])*(_0x3f32d1/scratchpadScale),scratchpadOffset['x']+=_0x2ced94,scratchpadOffset['y']+=_0x168828,scratchpadScale=_0x3f32d1,initialPinchDistance=_0xac8254,panStart=_0x5938ab,redrawScratchpad();}}}else{if(isMousePanning){const _0x44bd0d=_0x58fb1e['clientX']-panStart['x'],_0x31c5cd=_0x58fb1e[_0x2c28dd(0x9b8)]-panStart['y'];scratchpadOffset['x']+=_0x44bd0d,scratchpadOffset['y']+=_0x31c5cd,panStart={'x':_0x58fb1e[_0x2c28dd(0x74e)],'y':_0x58fb1e[_0x2c28dd(0x9b8)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5b45da=getTransformedPoint(_0x58fb1e['clientX']-_0x501af9['left'],_0x58fb1e['clientY']-_0x501af9[_0x2c28dd(0x202)]);currentStroke[_0x2c28dd(0x957)][_0x2c28dd(0x78d)](_0x5b45da),redrawScratchpad();}}}}function handlePointerUp(_0x3d07ee){const _0xcd45b3=_0x358d67;_0x3d07ee[_0xcd45b3(0x5f6)]();const _0x2f8d30=scratchpadCtx[_0xcd45b3(0xb67)];isMousePanning&&(isMousePanning=![],_0x2f8d30[_0xcd45b3(0x43c)][_0xcd45b3(0x2a3)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0xcd45b3(0x957)][_0xcd45b3(0x6b0)]>0x1&&(strokes[_0xcd45b3(0x78d)](currentStroke),currentStroke[_0xcd45b3(0x8e8)]===_0xcd45b3(0x1c3)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x28cd65=_0xcd45b3,_0x2f0efb=strokes[_0x28cd65(0x47c)](_0xc0b348=>_0xc0b348[_0x28cd65(0x8e8)]==='trail'&&!_0xc0b348[_0x28cd65(0x1f5)]);if(_0x2f0efb[_0x28cd65(0x6b0)]>0x0){const _0x5532d2=Date[_0x28cd65(0x2ab)]();_0x2f0efb['forEach'](_0x14acb9=>_0x14acb9['fadeStartTime']=_0x5532d2),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1d48ae){const _0x51e0c0=_0x358d67;_0x1d48ae['preventDefault']();const _0x551391=_0x1d48ae[_0x51e0c0(0x879)]*-0.005,_0x2144a2=Math[_0x51e0c0(0x57c)](Math[_0x51e0c0(0x21a)](scratchpadScale+_0x551391,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1d48ae[_0x51e0c0(0x74e)]-(_0x1d48ae[_0x51e0c0(0x74e)]-scratchpadOffset['x'])*(_0x2144a2/scratchpadScale),scratchpadOffset['y']=_0x1d48ae['clientY']-(_0x1d48ae['clientY']-scratchpadOffset['y'])*(_0x2144a2/scratchpadScale),scratchpadScale=_0x2144a2,redrawScratchpad();}function undo(){const _0x23e4e6=_0x358d67;strokes[_0x23e4e6(0x6b0)]>0x0&&(redoStrokes[_0x23e4e6(0x78d)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x1136d2=_0x358d67;redoStrokes[_0x1136d2(0x6b0)]>0x0&&(strokes[_0x1136d2(0x78d)](redoStrokes[_0x1136d2(0x1db)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x6225f0=_0x358d67;document[_0x6225f0(0x3a8)](_0x6225f0(0x19e))[_0x6225f0(0x709)]=strokes[_0x6225f0(0x6b0)]===0x0,document[_0x6225f0(0x3a8)](_0x6225f0(0xadf))[_0x6225f0(0x709)]=redoStrokes[_0x6225f0(0x6b0)]===0x0;}function openScratchpad(_0x4f556b,_0x1e0df0){const _0x5a4852=_0x358d67,_0x33b5e8=document[_0x5a4852(0x3a8)](_0x5a4852(0xa08)),_0x1d4d62=document['getElementById'](_0x5a4852(0x218)),_0x13e1db=document['getElementById']('scratchpad-options'),_0x5cf1e5=document[_0x5a4852(0x3a8)](_0x5a4852(0x3a7));_0x1d4d62[_0x5a4852(0x888)]=_0x4f556b[_0x5a4852(0x966)]||_0x4f556b[_0x5a4852(0xa23)],_0x13e1db[_0x5a4852(0x888)]=_0x1e0df0[_0x5a4852(0x8ca)]((_0x1b96a7,_0x4fa5ad)=>_0x5a4852(0xa35)+String[_0x5a4852(0x62d)](0x41+_0x4fa5ad)+'.\x20'+_0x1b96a7+'</div>')['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x33b5e8['classList'][_0x5a4852(0x9d0)](_0x5a4852(0x49a)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax['typesetPromise']([_0x1d4d62,_0x13e1db]);}function openBlueprintQuizSettings(){const _0x241de2=_0x358d67,_0x26131a=document[_0x241de2(0x3a8)](_0x241de2(0xaeb)),_0x430508=blueprintPageSettings||(currentProjectData?currentProjectData[_0x241de2(0x45b)]:{})||{};document[_0x241de2(0x3a8)]('bp-modal-quiz-type-select')[_0x241de2(0xac6)]=_0x430508[_0x241de2(0x593)]||document[_0x241de2(0x3a8)](_0x241de2(0x6d9))[_0x241de2(0xac6)],document[_0x241de2(0x3a8)]('bp-modal-difficulty-level-select')[_0x241de2(0x888)]=document['getElementById'](_0x241de2(0x1df))[_0x241de2(0x888)],document[_0x241de2(0x3a8)]('bp-modal-difficulty-level-select')[_0x241de2(0xac6)]=_0x430508[_0x241de2(0xa29)]||document[_0x241de2(0x3a8)](_0x241de2(0x1df))['value'],document[_0x241de2(0x3a8)](_0x241de2(0x640))[_0x241de2(0x888)]=document['getElementById'](_0x241de2(0x775))['innerHTML'],document['getElementById']('bp-modal-question-complexity-select')['value']=_0x430508['complexityValue']||document['getElementById'](_0x241de2(0x775))[_0x241de2(0xac6)],document[_0x241de2(0x3a8)](_0x241de2(0xbe6))['value']=_0x430508[_0x241de2(0x833)]||document[_0x241de2(0x3a8)](_0x241de2(0x568))[_0x241de2(0xac6)],document[_0x241de2(0x3a8)]('bp-modal-passing-score-input')[_0x241de2(0xac6)]=_0x430508[_0x241de2(0x928)]||document[_0x241de2(0x3a8)](_0x241de2(0x313))[_0x241de2(0xac6)],document[_0x241de2(0x3a8)](_0x241de2(0x68f))['value']=_0x430508[_0x241de2(0x24b)]||document['getElementById'](_0x241de2(0x687))[_0x241de2(0xac6)],document[_0x241de2(0x3a8)](_0x241de2(0xb19))[_0x241de2(0xac6)]=_0x430508[_0x241de2(0x2f1)]||document[_0x241de2(0x3a8)]('shuffle-setting-select')[_0x241de2(0xac6)],document['getElementById'](_0x241de2(0x9f4))[_0x241de2(0x69c)]=_0x430508['includeImages']||document[_0x241de2(0x3a8)](_0x241de2(0x20e))['checked'],_0x26131a[_0x241de2(0x542)]['remove'](_0x241de2(0x49a));}function handleSaveBlueprintPageSettings(){const _0x3b01dd=_0x358d67;blueprintPageSettings={'quizType':document[_0x3b01dd(0x3a8)]('bp-modal-quiz-type-select')[_0x3b01dd(0xac6)],'difficultyValue':document[_0x3b01dd(0x3a8)](_0x3b01dd(0xb8b))[_0x3b01dd(0xac6)],'complexityValue':document['getElementById'](_0x3b01dd(0x640))['value'],'numQuestions':document['getElementById'](_0x3b01dd(0xbe6))[_0x3b01dd(0xac6)],'passingScore':document[_0x3b01dd(0x3a8)](_0x3b01dd(0x64a))[_0x3b01dd(0xac6)],'numChoices':document['getElementById'](_0x3b01dd(0x68f))[_0x3b01dd(0xac6)],'shuffle':document['getElementById'](_0x3b01dd(0xb19))['value'],'includeImages':document[_0x3b01dd(0x3a8)](_0x3b01dd(0x9f4))[_0x3b01dd(0x69c)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x3b01dd(0x3a8)]('blueprint-settings-modal')[_0x3b01dd(0x542)][_0x3b01dd(0x33b)](_0x3b01dd(0x49a));}function initializeScratchpadCanvas(){const _0x3598f7=_0x358d67,_0x9a11db=document['getElementById'](_0x3598f7(0x852)),_0x365d91=document['querySelector'](_0x3598f7(0xafe));if(!_0x9a11db||!_0x365d91)return;scratchpadCtx=_0x9a11db['getContext']('2d',{'willReadFrequently':!![]});const _0x3cf666=window[_0x3598f7(0x4b1)]||0x1,_0x29c480=_0x365d91[_0x3598f7(0x789)]();_0x9a11db[_0x3598f7(0x19d)]=_0x29c480[_0x3598f7(0x19d)]*_0x3cf666,_0x9a11db[_0x3598f7(0x39b)]=_0x29c480[_0x3598f7(0x39b)]*_0x3cf666,_0x9a11db[_0x3598f7(0x43c)][_0x3598f7(0x19d)]=_0x29c480[_0x3598f7(0x19d)]+'px',_0x9a11db[_0x3598f7(0x43c)][_0x3598f7(0x39b)]=_0x29c480[_0x3598f7(0x39b)]+'px',scratchpadCtx['scale'](_0x3cf666,_0x3cf666),scratchpadCtx[_0x3598f7(0x6fb)]=_0x3598f7(0x6f8),scratchpadCtx[_0x3598f7(0x520)]=_0x3598f7(0x6f8),_0x9a11db[_0x3598f7(0x6ba)](_0x3598f7(0x5c0),handlePointerDown),_0x9a11db[_0x3598f7(0x6ba)](_0x3598f7(0x7db),handlePointerMove),_0x9a11db[_0x3598f7(0x6ba)](_0x3598f7(0x9ba),handlePointerUp),_0x9a11db[_0x3598f7(0x6ba)]('pointercancel',handlePointerUp),_0x9a11db['removeEventListener'](_0x3598f7(0x5f2),handleWheel),_0x9a11db[_0x3598f7(0x6ba)](_0x3598f7(0x1e5),handlePointerDown),_0x9a11db[_0x3598f7(0x6ba)](_0x3598f7(0x580),handlePointerMove),_0x9a11db[_0x3598f7(0x6ba)](_0x3598f7(0x740),handlePointerUp),_0x9a11db[_0x3598f7(0x4f9)](_0x3598f7(0x5c0),handlePointerDown),_0x9a11db[_0x3598f7(0x4f9)](_0x3598f7(0x7db),handlePointerMove),_0x9a11db[_0x3598f7(0x4f9)]('pointerup',handlePointerUp),_0x9a11db[_0x3598f7(0x4f9)](_0x3598f7(0x4e0),handlePointerUp),_0x9a11db['addEventListener']('wheel',handleWheel,{'passive':![]}),_0x9a11db[_0x3598f7(0x4f9)](_0x3598f7(0x1e5),handlePointerDown,{'passive':![]}),_0x9a11db[_0x3598f7(0x4f9)](_0x3598f7(0x580),handlePointerMove,{'passive':![]}),_0x9a11db['addEventListener'](_0x3598f7(0x740),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2bcd89=_0x358d67,_0xe99412=document[_0x2bcd89(0x3a8)](_0x2bcd89(0xa08)),_0x6ef171=document[_0x2bcd89(0x3a8)](_0x2bcd89(0x3a7));_0x6ef171[_0x2bcd89(0x888)]=_0x2bcd89(0x561)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x23844b=document[_0x2bcd89(0x3a8)]('pen-tool-btn'),_0x24c5bb=document[_0x2bcd89(0x3a8)]('eraser-tool-btn'),_0x4a6543=document[_0x2bcd89(0x3a8)]('trail-tool-btn'),_0x1aef6e=document[_0x2bcd89(0x3a8)](_0x2bcd89(0xaaf)),_0x14b3bb=document['getElementById'](_0x2bcd89(0x35d)),_0x36da78=document[_0x2bcd89(0x3a8)](_0x2bcd89(0x203)),_0x25d61f=[_0x23844b,_0x24c5bb,_0x4a6543,_0x1aef6e];document[_0x2bcd89(0x3a8)](_0x2bcd89(0x904))[_0x2bcd89(0x4f9)](_0x2bcd89(0x2ea),()=>_0xe99412[_0x2bcd89(0x542)][_0x2bcd89(0x33b)](_0x2bcd89(0x49a))),document[_0x2bcd89(0x3a8)](_0x2bcd89(0x475))['addEventListener'](_0x2bcd89(0x2ea),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2bcd89(0x3a8)](_0x2bcd89(0xa4c))[_0x2bcd89(0x4f9)](_0x2bcd89(0x2ea),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x2bcd89(0x3a8)](_0x2bcd89(0x19e))[_0x2bcd89(0x4f9)](_0x2bcd89(0x2ea),undo),document[_0x2bcd89(0x3a8)](_0x2bcd89(0xadf))[_0x2bcd89(0x4f9)](_0x2bcd89(0x2ea),redo);const _0x299dc5=_0x32c77d=>{const _0x5944f9=_0x2bcd89;_0x25d61f['forEach'](_0x26df97=>_0x26df97[_0x5944f9(0x542)]['remove'](_0x5944f9(0x34a))),_0x32c77d[_0x5944f9(0x542)][_0x5944f9(0x33b)](_0x5944f9(0x34a));const _0x404381=_0x32c77d===_0x1aef6e;_0x14b3bb[_0x5944f9(0x542)]['toggle'](_0x5944f9(0x49a),_0x404381),_0x36da78[_0x5944f9(0x542)][_0x5944f9(0x50e)](_0x5944f9(0x49a),!_0x404381);};_0x23844b['addEventListener'](_0x2bcd89(0x2ea),()=>{const _0x578947=_0x2bcd89;activeTool=_0x578947(0x85c),_0x299dc5(_0x23844b);}),_0x24c5bb['addEventListener']('click',()=>{activeTool='eraser',_0x299dc5(_0x24c5bb);}),_0x4a6543[_0x2bcd89(0x4f9)](_0x2bcd89(0x2ea),()=>{const _0x34f670=_0x2bcd89;activeTool=_0x34f670(0x1c3),_0x299dc5(_0x4a6543);}),_0x1aef6e[_0x2bcd89(0x4f9)](_0x2bcd89(0x2ea),()=>{const _0x4e0396=_0x2bcd89;activeTool=_0x4e0396(0x1b4),_0x299dc5(_0x1aef6e);}),_0x14b3bb['querySelectorAll'](_0x2bcd89(0x2bb))[_0x2bcd89(0x519)](_0x5270c8=>{_0x5270c8['addEventListener']('click',_0x41c0b2=>{const _0x516341=_0x4026;scratchpadPenSize=parseInt(_0x41c0b2['target'][_0x516341(0x483)]['size'],0xa),_0x14b3bb[_0x516341(0x4a1)]('.pen-size-btn')[_0x516341(0x519)](_0x20e86b=>_0x20e86b[_0x516341(0x542)][_0x516341(0x9d0)]('active')),_0x41c0b2[_0x516341(0x604)][_0x516341(0x542)][_0x516341(0x33b)](_0x516341(0x34a));});}),_0x14b3bb[_0x2bcd89(0x4a1)](_0x2bcd89(0x80d))[_0x2bcd89(0x519)](_0x42f8b3=>{const _0x378088=_0x2bcd89;_0x42f8b3[_0x378088(0x4f9)](_0x378088(0x2ea),_0x5784af=>{const _0x404a95=_0x378088;scratchpadPenColor=_0x5784af[_0x404a95(0x604)][_0x404a95(0x483)][_0x404a95(0x8a6)],_0x14b3bb['querySelectorAll']('.pen-color-btn')[_0x404a95(0x519)](_0x327ada=>_0x327ada[_0x404a95(0x542)][_0x404a95(0x9d0)](_0x404a95(0x34a))),_0x5784af[_0x404a95(0x604)]['classList']['add'](_0x404a95(0x34a));});}),_0x36da78[_0x2bcd89(0x4a1)](_0x2bcd89(0x9cd))[_0x2bcd89(0x519)](_0x310a68=>{const _0x3dc3a0=_0x2bcd89;_0x310a68[_0x3dc3a0(0x4f9)]('click',_0x523fa6=>{const _0x191485=_0x3dc3a0;scratchpadHighlighterColor=_0x523fa6[_0x191485(0x604)]['dataset'][_0x191485(0x8a6)],_0x36da78['querySelectorAll'](_0x191485(0x9cd))[_0x191485(0x519)](_0xdef0d0=>_0xdef0d0[_0x191485(0x542)][_0x191485(0x9d0)]('active')),_0x523fa6[_0x191485(0x604)]['classList'][_0x191485(0x33b)]('active');});});const _0x30f1a6=document[_0x2bcd89(0x3a8)](_0x2bcd89(0x718)),_0x16201f=document[_0x2bcd89(0x3a8)]('highlighter-size-value');_0x30f1a6[_0x2bcd89(0x4f9)](_0x2bcd89(0x1ea),_0x5b6e46=>{const _0x157b7a=_0x2bcd89,_0x9256bf=parseInt(_0x5b6e46[_0x157b7a(0x604)][_0x157b7a(0xac6)],0xa);scratchpadHighlighterSize=_0x9256bf,_0x16201f['textContent']=_0x9256bf;}),window[_0x2bcd89(0x4f9)]('resize',()=>{const _0x362d69=_0x2bcd89;!_0xe99412['classList'][_0x362d69(0x6e5)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x358d67(0x6e3),'name':_0x358d67(0x4a6),'description':_0x358d67(0x717),'icon':_0x358d67(0x20c)},'QUICK_THINKER':{'id':_0x358d67(0xc02),'name':'เซียนสมองไว','description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x358d67(0x9a9),'name':_0x358d67(0x3c9),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x358d67(0xacd)},'FIRST_TRY_ACE':{'id':_0x358d67(0x7a7),'name':'ผ่านฉลุย','description':_0x358d67(0xa61),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x358d67(0x88d),'name':'ราชาคัมแบ็ก','description':_0x358d67(0x83b),'icon':_0x358d67(0x3b0)},'SPECIALIST':{'id':_0x358d67(0x4fc),'name':_0x358d67(0x3f8),'description':_0x358d67(0x2ba),'icon':_0x358d67(0x3c0)},'PERSEVERANCE':{'id':_0x358d67(0x3d8),'name':_0x358d67(0x53a),'description':_0x358d67(0x75e),'icon':_0x358d67(0x946)}},firebaseConfig={'apiKey':_0x358d67(0x3c2),'authDomain':_0x358d67(0x3bf),'projectId':_0x358d67(0x58b),'storageBucket':_0x358d67(0xa4a),'messagingSenderId':'274192258111','appId':_0x358d67(0x262),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x358d67(0xbf1)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x358d67(0x3a8)](_0x358d67(0x4ea)),studentView=document[_0x358d67(0x3a8)]('student-view'),projectDashboardView=document[_0x358d67(0x3a8)](_0x358d67(0x206)),projectDetailView=document[_0x358d67(0x3a8)](_0x358d67(0x82b)),quizResultsView=document[_0x358d67(0x3a8)](_0x358d67(0x9ac)),projectList=document['getElementById'](_0x358d67(0x46e)),noProjectsMsg=document[_0x358d67(0x3a8)](_0x358d67(0x5e3)),projectTitle=document[_0x358d67(0x3a8)]('project-title'),projectIdDisplay=document[_0x358d67(0x3a8)](_0x358d67(0xb45)),studentList=document['getElementById'](_0x358d67(0xa8a)),messageModal=document['getElementById'](_0x358d67(0x58c)),modalMessage=document[_0x358d67(0x3a8)](_0x358d67(0x8c7)),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document[_0x358d67(0x3a8)](_0x358d67(0xa6b)),confirmationModal=document['getElementById'](_0x358d67(0xa99)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x358d67(0x3a8)](_0x358d67(0x87b)),textTab=document[_0x358d67(0x3a8)]('text-tab'),topicInputArea=document[_0x358d67(0x3a8)](_0x358d67(0x18d)),textInputArea=document['getElementById']('text-input-area'),manageTab=document[_0x358d67(0x3a8)]('manage-tab'),resultsTab=document[_0x358d67(0x3a8)](_0x358d67(0x429)),leaderboardTab=document[_0x358d67(0x3a8)](_0x358d67(0x28a)),manageTabContent=document['getElementById'](_0x358d67(0x8d8)),resultsTabContent=document[_0x358d67(0x3a8)](_0x358d67(0x5a9)),leaderboardTabContent=document[_0x358d67(0x3a8)](_0x358d67(0x556)),projectQuizzesList=document[_0x358d67(0x3a8)](_0x358d67(0x2d2)),fileTab=document[_0x358d67(0x3a8)]('file-tab'),fileInputArea=document[_0x358d67(0x3a8)]('file-input-area'),fileUploadInput=document[_0x358d67(0x3a8)](_0x358d67(0x9fa)),worksheetTab=document[_0x358d67(0x3a8)]('worksheet-tab'),worksheetInputArea=document['getElementById'](_0x358d67(0x2c8)),generateWorksheetBtn=document[_0x358d67(0x3a8)](_0x358d67(0x611)),studentInitialView=document[_0x358d67(0x3a8)](_0x358d67(0xbc4)),studentNameSelectionView=document[_0x358d67(0x3a8)]('student-name-selection-view'),studentQuizArea=document[_0x358d67(0x3a8)](_0x358d67(0xb98)),studentResultArea=document[_0x358d67(0x3a8)](_0x358d67(0x7f8)),studentReadingArea=document[_0x358d67(0x3a8)](_0x358d67(0x2a0)),loadQuizBtn=document[_0x358d67(0x3a8)]('load-quiz-btn'),startQuizBtn=document[_0x358d67(0x3a8)](_0x358d67(0x7cc)),studentJoinGameView=document[_0x358d67(0x3a8)]('student-join-game-view'),presentationModal=document[_0x358d67(0x3a8)](_0x358d67(0x66b)),renameQuizModal=document[_0x358d67(0x3a8)]('rename-quiz-modal'),moveQuizModal=document['getElementById'](_0x358d67(0x238)),quizSettingsModal=document[_0x358d67(0x3a8)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x358d67(0x6f1)),liveGameView=document[_0x358d67(0x3a8)](_0x358d67(0x22d));function handleFixLessonLatex(){const _0x4fb9b0=_0x358d67,_0x3ece42=document[_0x4fb9b0(0x3a8)](_0x4fb9b0(0xb02));if(!_0x3ece42){showMessage(_0x4fb9b0(0x61b));return;}const _0x51f8a4=_0x3ece42[_0x4fb9b0(0x4a1)]([_0x4fb9b0(0x550),_0x4fb9b0(0x835),'.ai-content\x20blockquote',_0x4fb9b0(0x5c9),_0x4fb9b0(0x34e)][_0x4fb9b0(0x61f)](','));let _0x4b495f=0x0;const _0x1367b1=_0x409f5f=>_0x409f5f['textContent']||'',_0x5b6824=(_0x236196,_0x1523cc)=>{const _0x49c67d=_0x4fb9b0;if(_0x236196[_0x49c67d(0x3a0)]&&_0x236196[_0x49c67d(0x3a0)](_0x49c67d(0x8aa)))return;_0x236196[_0x49c67d(0x20d)]=_0x1523cc;},_0x4c714d=_0x128307=>_0x128307['replace'](/\u00A0/g,'\x20')[_0x4fb9b0(0x4a7)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x66d189=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4f825d=_0x5107a5=>{const _0x347d38=_0x4fb9b0;let _0x39f1e8=_0x5107a5[_0x347d38(0x7a5)]();const _0x4b76f9=['frac','dfrac',_0x347d38(0x272),'sqrt','text',_0x347d38(0x434),_0x347d38(0x37a),_0x347d38(0xb26),_0x347d38(0x9b3),'geq','le','ge',_0x347d38(0x1fc),'pm',_0x347d38(0x397),_0x347d38(0x228),_0x347d38(0x2e0),_0x347d38(0x8f2),'log','ln',_0x347d38(0x4b5),_0x347d38(0xc14),_0x347d38(0x3b7),_0x347d38(0x446),_0x347d38(0x980),_0x347d38(0x491),'underline',_0x347d38(0x79c),_0x347d38(0x56b)];_0x4b76f9[_0x347d38(0x519)](_0x35cb7f=>{const _0x3f64ce=_0x347d38;_0x39f1e8=_0x39f1e8['replace'](new RegExp(_0x3f64ce(0x720)+_0x35cb7f+'\x5cb','g'),(_0x3a1cee,_0x345bda)=>_0x345bda+'\x5c'+_0x35cb7f);});const _0x1258f4=[[/×/g,_0x347d38(0x4d9)],[/·/g,_0x347d38(0x77d)],[/÷/g,_0x347d38(0xbd1)],[/≤/g,_0x347d38(0x52b)],[/≥/g,'\x5cge'],[/≠/g,_0x347d38(0x207)],[/±/g,_0x347d38(0x606)],[/∑/g,_0x347d38(0x45c)],[/−/g,'-']];return _0x1258f4[_0x347d38(0x519)](([_0x1ce867,_0x3ccc14])=>{const _0x2de03d=_0x347d38;_0x39f1e8=_0x39f1e8[_0x2de03d(0x4a7)](_0x1ce867,_0x3ccc14);}),_0x39f1e8=_0x39f1e8[_0x347d38(0x4a7)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x39f1e8=_0x39f1e8['replace'](/(\d+)\s*%/g,_0x347d38(0xbbb)),_0x39f1e8;},_0x10433e=_0x3364f8=>{const _0x4d5f8e=_0x4fb9b0;if(/\$|\\\(|\\\[/[_0x4d5f8e(0x92f)](_0x3364f8))return _0x3364f8;if(!_0x66d189[_0x4d5f8e(0x92f)](_0x3364f8))return _0x3364f8;const _0x493578=_0x3364f8[_0x4d5f8e(0x42a)](/^\s*/)[0x0],_0x4de8ba=_0x3364f8['match'](/\s*$/)[0x0],_0x2a6c9a=_0x3364f8[_0x4d5f8e(0x7a5)]();return _0x493578+'$'+_0x4f825d(_0x2a6c9a)+'$'+_0x4de8ba;};_0x51f8a4['forEach'](_0x505d0c=>{const _0x4f9130=_0x4fb9b0,_0xb0971d=_0x1367b1(_0x505d0c);let _0x29a783=_0x4c714d(_0xb0971d);_0x29a783=_0x29a783['replace'](/\$([^$]*?)\$/g,(_0x496c03,_0x377903)=>'$'+_0x4f825d(_0x377903)+'$');const _0x3063a2=_0x29a783['split'](/(\s+)/),_0x1822f1=_0x3063a2[_0x4f9130(0x8ca)](_0x34682f=>{const _0x3928dc=_0x4f9130;if(/\s+/[_0x3928dc(0x92f)](_0x34682f))return _0x34682f;return _0x10433e(_0x34682f);});_0x29a783=_0x1822f1[_0x4f9130(0x61f)](''),_0x29a783!==_0xb0971d&&(_0x5b6824(_0x505d0c,_0x29a783),_0x4b495f++);});if(_0x4b495f>0x0){showMessage(_0x4fb9b0(0x347)+_0x4b495f+_0x4fb9b0(0x199));try{window[_0x4fb9b0(0x915)]&&MathJax[_0x4fb9b0(0x7cf)]&&MathJax[_0x4fb9b0(0x7cf)]([_0x3ece42]);}catch(_0x19e690){console[_0x4fb9b0(0x77b)](_0x4fb9b0(0x37e),_0x19e690);}}else showMessage(_0x4fb9b0(0x9c5));}function handleAutoFixLatex(){const _0x2de870=_0x358d67,_0x1d76e0=document[_0x2de870(0x3a8)](_0x2de870(0xb7c))||document,_0x34e83c=_0x1d76e0[_0x2de870(0x4a1)](_0x2de870(0x509));let _0x3fd8d2=0x0;const _0x4705c1=_0x511774=>_0x2de870(0xac6)in _0x511774?String(_0x511774[_0x2de870(0xac6)]):_0x511774[_0x2de870(0xb96)]!==undefined?_0x511774['innerText']:_0x511774[_0x2de870(0x20d)]||'',_0x350e37=(_0x3dfbfd,_0x498ea3)=>{const _0x3e2287=_0x2de870;if(_0x3e2287(0xac6)in _0x3dfbfd){_0x3dfbfd[_0x3e2287(0xac6)]=_0x498ea3;return;}if(_0x3dfbfd[_0x3e2287(0x3a0)]&&_0x3dfbfd[_0x3e2287(0x3a0)](_0x3e2287(0x8aa)))return;if(_0x3dfbfd['innerText']!==undefined)_0x3dfbfd[_0x3e2287(0xb96)]=_0x498ea3;else _0x3dfbfd[_0x3e2287(0x20d)]=_0x498ea3;},_0x2b8cac=_0x315771=>_0x315771['replace'](/\u00A0/g,'\x20')[_0x2de870(0x4a7)](/\u200B/g,'')[_0x2de870(0x4a7)](/\r\n?/g,'\x0a'),_0x2730c5=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x221589=_0x217f02=>{const _0x524a21=_0x2de870;let _0x5c3dd5=_0x217f02[_0x524a21(0x7a5)]();_0x5c3dd5=_0x5c3dd5[_0x524a21(0x4a7)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x5c3dd5=_0x5c3dd5['replace'](/\bfrac(\d)(\d)/g,_0x524a21(0x8a8));const _0x23f3c0=['frac','sqrt',_0x524a21(0x434),_0x524a21(0x37a),'div',_0x524a21(0x9b3),_0x524a21(0xa2e),_0x524a21(0x1fc),'pm','sin',_0x524a21(0x2e0),'tan',_0x524a21(0x498),'ln'];_0x23f3c0['forEach'](_0x5ce31b=>{const _0x3655e8=_0x524a21;_0x5c3dd5=_0x5c3dd5[_0x3655e8(0x4a7)](new RegExp(_0x3655e8(0x720)+_0x5ce31b+'\x5cb','g'),(_0x55c488,_0x432f62)=>_0x432f62+'\x5c'+_0x5ce31b);});const _0xb6b8e5=[[/×/g,'\x5ctimes'],[/·/g,_0x524a21(0x77d)],[/÷/g,'\x5cdiv'],[/≤/g,_0x524a21(0x52b)],[/≥/g,_0x524a21(0x7e4)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0xb6b8e5['forEach'](([_0x202d93,_0x5955cd])=>{const _0x129fc8=_0x524a21;_0x5c3dd5=_0x5c3dd5[_0x129fc8(0x4a7)](_0x202d93,_0x5955cd);}),_0x5c3dd5;},_0x183c31=_0x1c4f9f=>{const _0x5b0d70=_0x2de870;if(/\$|\\\(|\\\[/[_0x5b0d70(0x92f)](_0x1c4f9f))return _0x1c4f9f;if(!_0x2730c5['test'](_0x1c4f9f))return _0x1c4f9f;const _0x10c678=_0x1c4f9f[_0x5b0d70(0x42a)](/^\s*/)[0x0],_0x2cbeff=_0x1c4f9f[_0x5b0d70(0x42a)](/\s*$/)[0x0],_0x2f554c=_0x1c4f9f[_0x5b0d70(0x7a5)]();return _0x10c678+'$'+_0x221589(_0x2f554c)+'$'+_0x2cbeff;};_0x34e83c[_0x2de870(0x519)](_0x296712=>{const _0x414db7=_0x2de870,_0x25fa91=_0x4705c1(_0x296712);let _0x212cf8=_0x2b8cac(_0x25fa91);_0x212cf8=_0x212cf8[_0x414db7(0x4a7)](/\$([^$]*?)\$/g,(_0x2b7307,_0x1708f5)=>'$'+_0x221589(_0x1708f5)+'$');const _0xc26202=_0x212cf8[_0x414db7(0x9ee)](/(\s+)/),_0x47875e=_0xc26202[_0x414db7(0x8ca)](_0x1b5b23=>/\s+/['test'](_0x1b5b23)?_0x1b5b23:_0x183c31(_0x1b5b23));_0x212cf8=_0x47875e[_0x414db7(0x61f)](''),_0x212cf8!==_0x25fa91&&(_0x350e37(_0x296712,_0x212cf8),_0x3fd8d2++);});if(_0x3fd8d2>0x0){showMessage(_0x2de870(0x992)+_0x3fd8d2+_0x2de870(0x680));try{if(window[_0x2de870(0x915)]&&MathJax[_0x2de870(0x7cf)])MathJax[_0x2de870(0x7cf)]();}catch(_0x38c61d){}}else showMessage(_0x2de870(0x2fb));}async function listenForCustomMathTopics(){const _0x5e9d3f=_0x358d67,_0x507a51=collection(db,_0x5e9d3f(0x714)+appId+'/public/data/customMathTopics');onSnapshot(_0x507a51,_0x15b4cc=>{const _0x524e09=_0x5e9d3f;customMathTopics=_0x15b4cc['docs'][_0x524e09(0x8ca)](_0x2b76a7=>({'id':_0x2b76a7['id'],..._0x2b76a7['data']()})),renderTopicCheckboxes();},_0x1c3a7a=>{const _0x1f7d7e=_0x5e9d3f;console[_0x1f7d7e(0x77b)](_0x1f7d7e(0x802),_0x1c3a7a);});}function handleSelectAllTopics(){const _0x363395=_0x358d67,_0x5899a3=document[_0x363395(0x3a8)](_0x363395(0x787)),_0x2c28db=_0x5899a3['querySelectorAll'](_0x363395(0x462));_0x2c28db[_0x363395(0x519)](_0x3b0ff4=>{const _0x21b5ce=_0x363395;_0x3b0ff4[_0x21b5ce(0x69c)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x232a23=_0x358d67,_0x4f3167=document[_0x232a23(0x3a8)](_0x232a23(0x787)),_0x53d7da=_0x4f3167[_0x232a23(0x4a1)](_0x232a23(0x462));_0x53d7da[_0x232a23(0x519)](_0x2140ec=>{_0x2140ec['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1d2c1a){const _0x147793=_0x358d67;if(!_0x1d2c1a)return;try{const _0x344092=doc(db,_0x147793(0x714)+appId+'/public/data/customMathTopics',_0x1d2c1a);await deleteDoc(_0x344092),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x30a3aa){console['error'](_0x147793(0x842),_0x30a3aa),showMessage(_0x147793(0x314));}}async function handleAddCustomMathTopic(){const _0x17e443=_0x358d67,_0x2130c6=document[_0x17e443(0x3a8)](_0x17e443(0x454)),_0x55403f=_0x2130c6['value'][_0x17e443(0x7a5)]();if(!_0x55403f){showMessage(_0x17e443(0xae1));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x27f802=collection(db,_0x17e443(0x714)+appId+_0x17e443(0x3dc));await addDoc(_0x27f802,{'name':_0x55403f,'createdAt':serverTimestamp()}),_0x2130c6[_0x17e443(0xac6)]='',showMessage(_0x17e443(0x53e)+_0x55403f+_0x17e443(0x769));}catch(_0x2292e4){console[_0x17e443(0x77b)](_0x17e443(0x30b),_0x2292e4),showMessage(_0x17e443(0x908));}}async function handleUpdateOldQuizzes(){const _0x3dfc31=_0x358d67;showConfirmation(_0x3dfc31(0xa40),async()=>{const _0x32ebfe=_0x3dfc31,_0x46f0c9=document[_0x32ebfe(0x3a8)](_0x32ebfe(0xaa3)),_0x1ddc8c=document['getElementById'](_0x32ebfe(0x569)),_0x3c8fbe=_0x1ddc8c['textContent'];_0x46f0c9[_0x32ebfe(0x542)][_0x32ebfe(0x9d0)](_0x32ebfe(0x49a)),_0x1ddc8c['textContent']=_0x32ebfe(0x21c);try{const _0x251806=collection(db,'artifacts/'+appId+_0x32ebfe(0x4b7)),_0x3b8863=await getDocs(_0x251806);if(_0x3b8863[_0x32ebfe(0x4ba)]){showMessage(_0x32ebfe(0x677));return;}const _0x708a=writeBatch(db);let _0x7f9b3f=0x0;_0x3b8863[_0x32ebfe(0x519)](_0x145668=>{const _0xae1da4=_0x32ebfe,_0x19e9c3=_0x145668[_0xae1da4(0x49d)](),_0x3156d9=_0x145668['id'];if(_0x19e9c3[_0xae1da4(0xb4f)]&&_0x19e9c3['questions'][_0xae1da4(0x6b0)]>0x0&&!_0x19e9c3[_0xae1da4(0xb4f)][0x0][_0xae1da4(0xa34)]('id')){console['log'](_0xae1da4(0x25e)+_0x3156d9+'\x20('+_0x19e9c3[_0xae1da4(0x339)]+')'),_0x7f9b3f++;const _0x1519d6=_0x19e9c3['questions'][_0xae1da4(0x8ca)]((_0x5e6e30,_0x3907d7)=>{const _0x1bf672=_0xae1da4;return{..._0x5e6e30,'id':_0x5e6e30['id']||'q_'+Date[_0x1bf672(0x2ab)]()+'_'+_0x3156d9+'_'+_0x3907d7};}),_0x30e482=doc(db,_0xae1da4(0x714)+appId+'/public/data/quizzes',_0x3156d9);_0x708a[_0xae1da4(0x1a7)](_0x30e482,{'questions':_0x1519d6});}}),_0x7f9b3f>0x0?(_0x1ddc8c[_0x32ebfe(0x20d)]=_0x32ebfe(0x571)+_0x7f9b3f+_0x32ebfe(0x78a),await _0x708a[_0x32ebfe(0x2be)](),showMessage(_0x32ebfe(0xa51)+_0x7f9b3f+_0x32ebfe(0x45e))):showMessage(_0x32ebfe(0x855));}catch(_0x30126a){console[_0x32ebfe(0x77b)](_0x32ebfe(0xacf),_0x30126a),showMessage(_0x32ebfe(0x1e0)+_0x30126a[_0x32ebfe(0x5dd)]);}finally{_0x46f0c9[_0x32ebfe(0x542)][_0x32ebfe(0x33b)]('hidden'),_0x1ddc8c[_0x32ebfe(0x20d)]=_0x3c8fbe;}});}async function handleBulkUpdateQuizSettings(){const _0x5831b2=_0x358d67,_0x322f9d={'shuffle':document[_0x5831b2(0x3a8)](_0x5831b2(0x941))[_0x5831b2(0xac6)],'resultsDisplay':document[_0x5831b2(0x3a8)](_0x5831b2(0x401))[_0x5831b2(0xac6)],'loopUntilPass':document['getElementById']('bulk-loop-until-pass-checkbox')[_0x5831b2(0x69c)],'isConfidenceScoringEnabled':document[_0x5831b2(0x3a8)](_0x5831b2(0xbe1))[_0x5831b2(0x69c)],'confidenceMode':document[_0x5831b2(0x3a8)](_0x5831b2(0x30f))['value']};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0xcd8dc3=await getDocs(collection(db,_0x5831b2(0x714)+appId+_0x5831b2(0x4b7))),_0x9c43ac=_0xcd8dc3[_0x5831b2(0x901)][_0x5831b2(0x8ca)](_0x4a5086=>({'id':_0x4a5086['id'],'data':_0x4a5086[_0x5831b2(0x49d)]()})),_0x3a2143=_0x9c43ac[_0x5831b2(0x6b0)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x3a2143+_0x5831b2(0x983),async()=>{const _0xe64214=_0x5831b2,_0x1e2406=document[_0xe64214(0x3a8)](_0xe64214(0x71b));_0x1e2406['disabled']=!![],_0x1e2406['innerHTML']=_0xe64214(0x7c6);try{const _0x438873=writeBatch(db);_0x9c43ac[_0xe64214(0x519)](_0x477fd2=>{const _0x3c6711=_0xe64214,_0x3cce89=doc(db,_0x3c6711(0x714)+appId+_0x3c6711(0x4b7),_0x477fd2['id']),_0x502a19={..._0x477fd2['data'][_0x3c6711(0x45b)]||{},..._0x322f9d};_0x438873[_0x3c6711(0x1a7)](_0x3cce89,{'settings':_0x502a19});}),await _0x438873[_0xe64214(0x2be)](),document[_0xe64214(0x3a8)]('bulk-quiz-settings-modal')[_0xe64214(0x542)][_0xe64214(0x33b)](_0xe64214(0x49a)),showMessage(_0xe64214(0x224)+_0x3a2143+_0xe64214(0x6b4));}catch(_0x4a57f4){console['error']('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x4a57f4),showMessage(_0xe64214(0x44c));}finally{_0x1e2406[_0xe64214(0x709)]=![],_0x1e2406[_0xe64214(0x888)]=_0xe64214(0x64e);}});}catch(_0x4dbc40){console['error'](_0x5831b2(0x1a2),_0x4dbc40),showMessage(_0x5831b2(0x23b));}}async function handleSaveProjectName(){const _0x359516=_0x358d67,_0x2962a0=document[_0x359516(0x3a8)]('project-title'),_0x29deae=document[_0x359516(0x3a8)](_0x359516(0xb18)),_0x36d9d8=_0x2962a0[_0x359516(0x20d)][_0x359516(0x7a5)]();if(!_0x36d9d8||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x2962a0[_0x359516(0x20d)]=currentProjectData[_0x359516(0x426)];return;}_0x29deae[_0x359516(0x709)]=!![],_0x29deae['innerHTML']=_0x359516(0x599);try{const _0x529349=doc(db,_0x359516(0x714)+appId+_0x359516(0x508),currentProjectId);await updateDoc(_0x529349,{'projectName':_0x36d9d8}),currentProjectData&&(currentProjectData['projectName']=_0x36d9d8),showMessage(_0x359516(0xa9c));}catch(_0x1aa841){console[_0x359516(0x77b)](_0x359516(0x2fd),_0x1aa841),showMessage(_0x359516(0x5d0)),_0x2962a0[_0x359516(0x20d)]=currentProjectData[_0x359516(0x426)];}finally{_0x29deae[_0x359516(0x542)][_0x359516(0x33b)](_0x359516(0x49a)),_0x29deae[_0x359516(0x709)]=![],_0x29deae[_0x359516(0x888)]=_0x359516(0xbca);}}function handleGeneratePracticeTest(_0x311766,_0x6a4298){const _0x1abf76=_0x358d67,_0x4b7402=document[_0x1abf76(0x3a8)](_0x1abf76(0xa5c)),_0x1ebfe2=document['getElementById'](_0x1abf76(0xbc2)),_0x755196=document[_0x1abf76(0x3a8)]('lesson-loader'),_0x14fe44=document['getElementById'](_0x1abf76(0x89d));_0x1ebfe2[_0x1abf76(0x20d)]=_0x1abf76(0x4db)+_0x311766,_0x14fe44['classList'][_0x1abf76(0x33b)](_0x1abf76(0x49a)),_0x755196[_0x1abf76(0x542)][_0x1abf76(0x9d0)](_0x1abf76(0x49a)),_0x4b7402[_0x1abf76(0x542)]['remove'](_0x1abf76(0x49a)),generatePracticeTest(_0x311766,_0x6a4298)[_0x1abf76(0x642)](_0x508b97=>{const _0x4df4c4=_0x1abf76;console['error'](_0x4df4c4(0x8eb),_0x508b97),showMessage(_0x4df4c4(0x75a)),_0x4b7402[_0x4df4c4(0x542)][_0x4df4c4(0x33b)](_0x4df4c4(0x49a));});}async function generatePracticeTest(_0xa7c503,_0x125d91){const _0x1729e1=_0x358d67;['pointContent',_0x1729e1(0x974),_0x1729e1(0x685),_0x1729e1(0x664)]['forEach'](_0x2d7fe1=>{const _0x29f8ea=_0x1729e1,_0xa657e3=document['getElementById'](_0x2d7fe1)[_0x29f8ea(0xab9)];_0xa657e3&&(_0xa657e3[_0x29f8ea(0x43c)]['display']=_0x29f8ea(0x60e));});try{const _0x1a9205=_0x1729e1(0x5b1),_0x42bf12=_0x1729e1(0x94f)+_0x125d91+_0x1729e1(0x710)+_0xa7c503+_0x1729e1(0x4e5),_0x1c40ed=await callGemini(_0x42bf12,!![]),_0x26a334=document[_0x1729e1(0x3a8)](_0x1729e1(0xbc2)),_0xf6102=document[_0x1729e1(0x3a8)]('lesson-loader'),_0x1b949e=document[_0x1729e1(0x3a8)]('lesson-sections-container'),_0x2c1c11=document[_0x1729e1(0x3a8)](_0x1729e1(0x685))[_0x1729e1(0xab9)];_0x26a334[_0x1729e1(0xb96)]=_0x1729e1(0x4c4)+_0xa7c503[_0x1729e1(0x4a7)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x125d91+')',currentApplicationData=JSON[_0x1729e1(0x91c)](_0x1c40ed);const _0x2c850e=document[_0x1729e1(0x3a8)](_0x1729e1(0x685));_0x2c850e['innerHTML']=currentApplicationData[_0x1729e1(0x8ca)]((_0x538ab8,_0x59e570)=>_0x1729e1(0x3ac)+(_0x59e570+0x1)+'.\x20'+marked['parseInline'](_0x538ab8[_0x1729e1(0xaad)])+_0x1729e1(0x565)+_0x59e570+_0x1729e1(0xa73)+_0x538ab8[_0x1729e1(0x994)][_0x1729e1(0x8ca)]((_0x2bd88d,_0x310290)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x59e570+',\x20'+_0x310290+')\x22>'+String[_0x1729e1(0x62d)](0x61+_0x310290)+'.\x20'+marked[_0x1729e1(0x4cf)](_0x2bd88d)+_0x1729e1(0xb95))[_0x1729e1(0x61f)]('')+_0x1729e1(0x76c))[_0x1729e1(0x61f)](''),window[_0x1729e1(0x915)]&&MathJax[_0x1729e1(0x7cf)]([_0x2c850e]),_0x2c1c11&&(_0x2c1c11['style'][_0x1729e1(0x2cb)]=_0x1729e1(0x6d5)),_0xf6102[_0x1729e1(0x542)]['add'](_0x1729e1(0x49a)),_0x1b949e[_0x1729e1(0x542)][_0x1729e1(0x9d0)](_0x1729e1(0x49a));}catch(_0x12d981){console[_0x1729e1(0x77b)](_0x12d981);throw _0x12d981;}}async function callGemini(_0x1c4288,_0x21d38d=![]){const _0x153487=_0x358d67,_0x5ae767='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x33a00c='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5ae767,_0x425f73={'contents':[{'parts':[{'text':_0x1c4288}]}]};_0x21d38d&&(_0x425f73[_0x153487(0x350)]={'responseMimeType':_0x153487(0xb25)},_0x1c4288[_0x153487(0xbba)](_0x153487(0xa94))?_0x425f73['generationConfig'][_0x153487(0x438)]={'type':_0x153487(0x182),'properties':{'gradeLevel':{'type':_0x153487(0x534)},'curriculum':{'type':_0x153487(0x632),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x153487(0x534)},'mainTopics':{'type':_0x153487(0x632),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x153487(0x534)},'subTopics':{'type':_0x153487(0x632),'items':{'type':'STRING'}}},'required':['topicName',_0x153487(0x3bb)]}}},'required':[_0x153487(0x6bd),'mainTopics']}}},'required':[_0x153487(0x243),_0x153487(0x4c1)]}:_0x425f73[_0x153487(0x350)][_0x153487(0x438)]={'type':_0x153487(0x632),'items':{'type':_0x153487(0x182),'properties':{'question':{'type':_0x153487(0x534)},'options':{'type':'ARRAY','items':{'type':_0x153487(0x534)}},'answer':{'type':_0x153487(0x8ac)}},'required':[_0x153487(0xaad),'options',_0x153487(0x50f)]}});try{const _0x2ddff8=await fetch(_0x33a00c,{'method':_0x153487(0x1cd),'headers':{'Content-Type':_0x153487(0xb25)},'body':JSON['stringify'](_0x425f73)});if(!_0x2ddff8['ok']){const _0x250605=await _0x2ddff8[_0x153487(0x6bb)]();console[_0x153487(0x77b)](_0x153487(0x6b2),_0x250605);throw new Error(_0x153487(0x5b2)+_0x2ddff8[_0x153487(0xa89)]);}const _0x3f16e6=await _0x2ddff8['json']();if(_0x3f16e6[_0x153487(0x4ce)]&&_0x3f16e6[_0x153487(0x4ce)][0x0][_0x153487(0x48e)]&&_0x3f16e6[_0x153487(0x4ce)][0x0][_0x153487(0x48e)][_0x153487(0x971)][0x0])return _0x3f16e6[_0x153487(0x4ce)][0x0][_0x153487(0x48e)][_0x153487(0x971)][0x0][_0x153487(0x6bb)];else{console['error'](_0x153487(0xabb),_0x3f16e6);if(_0x3f16e6[_0x153487(0x4ce)]&&_0x3f16e6[_0x153487(0x4ce)][0x0][_0x153487(0x554)]==='SAFETY')return JSON['stringify']({'error':_0x153487(0x5f5)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0xac6fdf){console[_0x153487(0x77b)]('Error\x20calling\x20Gemini\x20API:',_0xac6fdf);throw _0xac6fdf;}}async function generateLesson(_0x22e197=null,_0x1a5229=null){const _0x4952f1=_0x358d67,_0x197879=_0x22e197,_0x1a9b0a=_0x1a5229||'ไม่ระบุ',_0x4cc832=document[_0x4952f1(0x3a8)](_0x4952f1(0x7f3)),_0x1356c6=document[_0x4952f1(0x3a8)](_0x4952f1(0x7a6));_0x1356c6['textContent']=_0x4952f1(0x2a8)+_0x197879+_0x4952f1(0x41f);try{const _0x183df6=_0x4952f1(0x4f4),_0x300f60='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x1a9b0a+'\x27\x20ในหัวข้อ\x20\x27'+_0x197879+_0x4952f1(0x380)+_0x183df6+_0x4952f1(0x778),_0x2f5ac0=_0x4952f1(0x63f)+_0x197879+_0x4952f1(0x590)+_0x1a9b0a+'\x27\x20ในส่วน\x20\x27MEMORY\x27\x20'+_0x183df6+_0x4952f1(0x7fc),_0x4c2a4f=_0x4952f1(0x94f)+_0x1a9b0a+_0x4952f1(0x710)+_0x197879+_0x4952f1(0x68d),_0x89ebb5='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x197879+_0x4952f1(0x8ba)+_0x1a9b0a+_0x4952f1(0x1ce)+_0x183df6+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',[_0x26088b,_0x312f16,_0x5eeee6,_0x149891]=await Promise[_0x4952f1(0xb03)]([callGemini(_0x300f60),callGemini(_0x2f5ac0),callGemini(_0x4c2a4f,!![]),callGemini(_0x89ebb5)]),_0x33da70=document[_0x4952f1(0x3a8)](_0x4952f1(0xbc2)),_0x469bb4=document['getElementById'](_0x4952f1(0x89d));_0x33da70['innerText']=_0x4952f1(0xbc8)+_0x197879['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x1a9b0a+')',['pointContent',_0x4952f1(0x974),_0x4952f1(0x664)][_0x4952f1(0x519)](_0x1a81be=>{const _0x1f2e34=_0x4952f1;document[_0x1f2e34(0x3a8)](_0x1a81be)[_0x1f2e34(0x888)]='';}),document['getElementById'](_0x4952f1(0x690))[_0x4952f1(0x888)]=marked['parse'](_0x26088b),document[_0x4952f1(0x3a8)]('memoryContent')[_0x4952f1(0x888)]=marked[_0x4952f1(0x91c)](_0x312f16),document[_0x4952f1(0x3a8)](_0x4952f1(0x664))[_0x4952f1(0x888)]=marked[_0x4952f1(0x91c)](_0x149891),currentApplicationData=JSON[_0x4952f1(0x91c)](_0x5eeee6);const _0x2361f9=document[_0x4952f1(0x3a8)](_0x4952f1(0x685));_0x2361f9[_0x4952f1(0x888)]=currentApplicationData[_0x4952f1(0x8ca)]((_0x4eb75c,_0x2dfd15)=>_0x4952f1(0x3ac)+(_0x2dfd15+0x1)+'.\x20'+marked[_0x4952f1(0x4cf)](_0x4eb75c['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x2dfd15+_0x4952f1(0xa73)+_0x4eb75c[_0x4952f1(0x994)][_0x4952f1(0x8ca)]((_0x4cb0f5,_0x2cd005)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x2dfd15+',\x20'+_0x2cd005+_0x4952f1(0xbbc)+String[_0x4952f1(0x62d)](0x61+_0x2cd005)+'.\x20'+marked[_0x4952f1(0x4cf)](_0x4cb0f5)+_0x4952f1(0xb95))[_0x4952f1(0x61f)]('')+_0x4952f1(0x76c))[_0x4952f1(0x61f)](''),window[_0x4952f1(0x915)]&&MathJax['typesetPromise']([_0x469bb4]),_0x4cc832[_0x4952f1(0x542)][_0x4952f1(0x33b)]('hidden'),_0x469bb4[_0x4952f1(0x542)]['remove'](_0x4952f1(0x49a));}catch(_0xfd5263){console[_0x4952f1(0x77b)](_0xfd5263);throw _0xfd5263;}finally{}}function checkAnswer(_0x2ed964,_0x3d2f62){const _0x21a4c4=_0x358d67,_0x11484d=currentApplicationData[_0x2ed964],_0x2479d2=document[_0x21a4c4(0x3a8)]('q'+_0x2ed964+_0x21a4c4(0x821)),_0x22dce4=_0x2479d2['getElementsByTagName'](_0x21a4c4(0xa71));for(let _0x1a77d3 of _0x22dce4){_0x1a77d3[_0x21a4c4(0x709)]=!![];}_0x3d2f62===_0x11484d['answer']?_0x22dce4[_0x3d2f62]['classList'][_0x21a4c4(0x33b)](_0x21a4c4(0xb86)):(_0x22dce4[_0x3d2f62][_0x21a4c4(0x542)][_0x21a4c4(0x33b)](_0x21a4c4(0x9cc)),_0x22dce4[_0x11484d[_0x21a4c4(0x50f)]][_0x21a4c4(0x542)][_0x21a4c4(0x33b)](_0x21a4c4(0xb86)));}window[_0x358d67(0x4d2)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window[_0x358d67(0x42e)]=handleGenerateQuizFromBlueprintTopic;function _0x55db(){const _0x512bfc=['correct','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/learnedFixes','35HoIAYk','คัดลอกแบบทดสอบสำเร็จ','bp-modal-difficulty-level-select','\x20จาก\x20','เส้นรอบรูป','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ผ่าน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerText','หมดเวลา!\x20กำลังส่งคำตอบ...','student-quiz-area','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','</span><span\x20class=\x22font-bold\x22>','ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20starting\x20sync\x20game:','อัปเดตพฤติกรรมสำหรับ\x20','Failed\x20to\x20get\x20standardized\x20topic:','timer-duration-input','label[for=\x22num-questions\x22]','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','input[name=\x22drill_answer\x22]:checked','getBBox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','กิจกรรมสิ้นสุดลงแล้ว','msExitFullscreen','timerMode','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','คณิตศาสตร์','</td>','.answered','topic-quiz-bank-modal','\x20|\x20ID:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','AI\x20Fix\x20Error:','input[type=\x22checkbox\x22]:checked','.quiz-bank-delete-btn','contentEditable','live-options-container','#26890c','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','includes','$1\x5c%',')\x22>','2-digit','start-sync-game-btn','จำนวนนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','results-quiz-title','lesson-view-title','toFixed','student-initial-view','next-question-timed-btn',':</span><span>','name','บทเรียนเรื่อง:\x20','Error\x20updating\x20project\x20color:','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','back-to-dashboard-btn','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','visibilityState','href','จำนวนเต็มบวก','generate-from-topic-btn','\x5cdiv','เปลี่ยนชื่อแบบทดสอบสำเร็จ','confirm-create-project-btn','/studentProfiles','msRequestFullscreen','กรุณาเลือกคำตอบ','delete-all-students-btn','ผลรวมอนุกรม\x20(Σ)','idealAnswer','force-math-checkbox','พิสัย','post-test','_opt1\x22>ไม่ใช่</label></div>','ลิมิต','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','bulk-confidence-scoring-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ceil','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-questions','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','check-presentation-answer-btn','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a---\x0a','บันทึกการแก้ไข','shadowBlur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','text-emerald-800','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','undefined','per_question','เกิดข้อผิดพลาดในการเข้าร่วมเกม','ownerSVGElement','855208hsoVpL','line-through\x20text-red-700','analytics-tab-content','Enter','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','อัตราส่วนและสัดส่วน','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','bg-purple-50','No\x20player\x20data\x20to\x20save.','topicId','matching','setItem','quick_thinker','memory','topicName','class','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','dragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','bg-green-200\x20text-green-800','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','back-to-results-btn','</tbody></table></div>','text-green-700\x20bg-green-100','confirm-join-game-btn','Error\x20saving\x20blueprint\x20project:','เกิดข้อผิดพลาดในการปักหมุด','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','prod','scores-tab-content','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','timer-bar','รหัสไม่ถูกต้อง','OBJECT','</p>','practiceProblems','Group\x20Mode','blueprint-project-manager-view','รอ...','</div></div></div>','string','เกิดข้อผิดพลาดในการลบนักเรียน','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','Successfully\x20removed\x20','topic-input-area','ข้อที่\x20','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','เพิ่ม\x20','เรเดียนและการแปลงหน่วย','lowerGroupNames','next-sync-question-btn','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','global-quiz-list','text-red-700\x20bg-red-100','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x20จุดเรียบร้อยแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','per-question-timer-container','width','undo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','players.','.edit-question-btn','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','arrayBuffer','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x22.\x20','update','show_results_only','bg-blue-100','blueprint-topics-list-container','justification','#F3E8FF','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','showRankings','ยอดเยี่ยม','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ระยะเวลา\x20(นาที):','sync-player-management','highlighter','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','rgba(79,\x2070,\x20229,\x201)','Error\x20saving\x20user\x20preference:','tGain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','พื้นที่วงกลม/ส่วนของวงกลม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สรุปผลการวิเคราะห์:\x5cn','Error\x20during\x20class\x20analysis:','Error\x20listening\x20for\x20projects:','trail','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','index','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างแล้ว','getContext','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','แผนการสอน:\x20','\x20คะแนน\x20','POST','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','progress-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20','backgroundColor','.bp-unlink-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','รากที่สองและที่สาม','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','pop','confidence-mode-select','</span>','.ai-fix-question-btn','difficulty-level-select','เกิดข้อผิดพลาดในการอัปเดต:\x20','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.cancel-edit-topic-btn','answerValue','Error\x20resetting\x20project\x20order:','touchstart','save-quiz-edits-btn','ค่าสัมบูรณ์','\x20link(s)\x20for\x20quiz\x20ID:\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','text/csv;charset=utf-8;','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','Error\x20pairing\x20quizzes:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerCorrect','ตัวประกอบและตัวประกอบเฉพาะ','fadeStartTime','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','อยู่ในหัวข้อหลักใด:','comparison','</option>','<i\x20class=\x22fas\x20fa-magic\x22></i>','getScreenCTM','neq','.lastAnswerIndex','whole_quiz','bg-black/10','timer-duration-container','commonMistakes','top','highlighter-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-dashboard-view','\x5cneq','\x22>ใช่</p>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</td></tr>','fa-crown\x20text-yellow-500','textContent','include-images-checkbox','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','lesson-plan-title','files','keyup','num-choices-container','dimmed','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','.unpair-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-question','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','.start-game-btn','กำลังสแกนหาแบบทดสอบเก่า...','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','student-passcode-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','document','toLocaleDateString','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','อัปเดตการตั้งค่าของแบบทดสอบ\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','text-green-700','sin','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ring-purple-400','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','live-game-view','อัตราการเปลี่ยนแปลงทันที','Failed\x20to\x20generate\x20lesson:','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fas\x20fa-bookmark','ส่งแล้ว','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','การแปลงรูปอัตลักษณ์','[*]','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','move-quiz-modal','Error\x20generating\x20worksheet:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','reference-pdf-upload','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','confidenceMode','.bp-edit-topic-btn','</p><div>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','gradeLevel','comparison-overall-content','scrollX','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','desc','numChoices','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#student-quiz-leaderboard-content\x20thead','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','.quiz-bank-checkbox:checked','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','retake-quiz-loop-btn','Error\x20loading\x20blueprint\x20projects:','<span\x20class=\x22font-bold\x20','Error\x20loading\x20quiz\x20for\x20student:','project-detail','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','Error\x20generating\x20teaching\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','```','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1:274192258111:web:4120c9118229b5644dd48a','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','players','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','substr','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ไม่มีคำอธิบาย','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','.start-live-race-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','ย้ายแบบทดสอบสำเร็จ','lobby','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','tfrac','toLocaleString','timestamp','\x22\x20ออกจากคลังนี้?','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','stepByStepExamples','.quiz-status-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x22\x20class=\x22pin-project-btn\x20','text-gray-300\x20hover:text-white','ตรวจพบการออกจากหน้าจอครบ\x20','.pair-quiz-btn','preTestId','แผนการสอน','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','bulk-quiz-settings-modal','กรุณาพิมพ์คำตอบ','ลบโปรเจคสำเร็จแล้ว','.question-editor-item[data-q-index=\x22','สลับไปโหมดผู้ควบคุม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','modal-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','leaderboard-tab','พื้นที่สามเหลี่ยม','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','generate-from-text-btn','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','```json','แบบเติมคำตอบ','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20saving\x20manual\x20blueprint\x20project:','-tab-content','<textarea\x20name=\x22question','scrollIntoView','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','currentTarget','student-reading-area','set','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cursor','บันทึกแบบทดสอบสำเร็จแล้ว!','originalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','ปริมาตร/ความจุและการแปลง','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','เกิดข้อผิดพลาดในการลบ','สามเหลี่ยม\x20(ชนิด/สมบัติ)','now','get','description','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','แบบทดสอบจากคลังส่วนตัว','name_asc','confirm-move-quiz-btn','\x20</div>\x0a\x20\x20\x20\x20','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','.pen-size-btn','Error\x20saving\x20to\x20question\x20bank:','.answers','commit','คะแนนเต็ม!','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isConfidenceScoringEnabled','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/submissions','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','worksheet-input-area','admin-password-input','check-answer-btn','display','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20\x20\x20-\x20คำตอบ:\x20','เกิดข้อผิดพลาดในการลบผลสอบ','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','questionType','พื้นที่สี่เหลี่ยม','project-quizzes-list','analytics-tab-btn','การปัดเศษและประมาณค่า','ดอทโปรดักต์\x20(dot)','removeAttribute','บันทึกการตั้งค่าสำเร็จ','00:00','update-old-quizzes-btn','.\x20แต่ละข้อมี\x20','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ตรวจคะแนนใหม่\x20','modal-timer-duration-label','cos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','ไม่สามารถโหลดคลังข้อสอบได้','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','mousedown','generate-from-file-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ยกเลิกการเชื่อมโยงสำเร็จ','click','offset','.mb-6.p-4','.export-pdf-list-btn','กำลังสร้างบทเรียน:\x20','project-passcode-input','isAdaptive','shuffle','createdBy','ดีมาก','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','keyConcepts','restore','เกิดข้อผิดพลาดในการสร้างใบงาน','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','manual-bp-project-name','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','authed_project_','Error\x20updating\x20project\x20name:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','find','multiple_choice','Error\x20verifying\x20answers\x20in\x20editor:','helvetica','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','#e21b3c','getAttributeNS','<option\x20value=\x22\x22>กำลังโหลด...</option>','มัธยฐาน','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','Error\x20adding\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','learningGaps','Error\x20clearing\x20linked\x20quiz:','bulk-confidence-mode-select','attempts','imageCode','live-submit-short-answer-btn','passing-score-input','เกิดข้อผิดพลาดในการลบหัวข้อ','far\x20fa-star','blueprint-tab','start-live-race-generated-btn','save-settings-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','(หลังเรียน)\x20','toDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','กลุ่มของคุณ','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','กรุณาเลือกชื่อของคุณ','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x22\x20value=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','ตัวแปรและนิพจน์','<p><strong>คำตอบของคุณ:</strong>\x20','svg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','loop-until-pass-checkbox','back-to-home-manual-release','project-sort-select','blur','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ระบบอสมการ','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','isStarred','dashboardConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','file-topics-list-container','กำลังสร้างแบบทดสอบ\x20\x22','ความชันเส้นสัมผัส','deselect-all-topics-btn','project-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','add','pre-test-checkbox','close-comparison-modal-btn','solution','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','save-blueprint-as-project-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','toLowerCase','\x22\x20name=\x22question','key','แก้ไขสูตรคณิตศาสตร์\x20','หมดเวลาสำหรับข้อนี้!','inactive','active','\x20to\x20blueprint\x20topic\x20','password-error-msg','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','.ai-content\x20h3','.quiz-bank-move-btn','generationConfig','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','กรุณาเลือกโปรเจคที่ต้องการบันทึก','%</span>','true','pow','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','classWeaknesses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','moveTo','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pen-tools-group','<div\x20class=\x22loader\x20mx-auto\x22></div>','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สมการตรีโกณมิติ','\x22>จาก:\x20','insertAdjacentHTML','localeCompare','icon','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','from','พิมพ์ตอบ','endTime','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','blueprint-project-list','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','ไม่มี','Invalid\x20response\x20structure\x20from\x20AI.','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','stopPropagation','focus','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','quiz-leaderboard-table-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การสร้างรูปด้วยวงเวียน–สันตรง','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cdot','allResponses','rename-quiz-input','Failed\x20to\x20create/update\x20submission\x20record:','MathJax\x20re-render\x20failed:','กรุณาใส่ชื่อใหม่','\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20','standardTopic','quiz-end-time','องค์ประกอบของฟังก์ชัน','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','topic_','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','short','timer-duration-label','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','teacherSuggestions','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','readAsDataURL','.topic-actions-edit','ใช่\x20/\x20ถูก','nickname-input','summary','globalAlpha','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','approx','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-topic-selection-btn','height','\x22.\x20Ideal\x20Answer:\x20\x22','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','.bp-live-btn','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','querySelector','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','การหารทศนิยม','AI\x20ไม่สามารถประมวลผลข้อมูลได้','scratchpad-controls','getElementById','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','มุมพิเศษ\x2045°-45°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','show-results-btn','modal-adaptive-quiz-checkbox','fa-shield-alt\x20text-gray-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confidence-scoring-toggle','mean','text-yellow-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','binom','แบบปรนัย\x204\x20ตัวเลือก','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','Error\x20unpairing\x20quizzes:','subTopics','</li>','pre-test','ลบแบบทดสอบสำเร็จแล้ว','ai-quiz-app-aefee.firebaseapp.com','fa-user-astronaut\x20text-blue-700','verify-answers-editor-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','p-2\x20bg-black/10\x20rounded-md','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','close','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','temp-loader-text-results','ท็อปฟอร์ม','topics','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','เกิดข้อผิดพลาดในการโหลดโปรเจค','กราฟแท่ง\x20กราฟเส้น','beforeend','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','webkitExitFullscreen','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perseverance','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-project-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','อัปเดตสถานะสำเร็จ','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','badgesCount','global-live-game-modal','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','AI\x20แก้ไขคำถามสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','confidence-mode-container','\x22\x20data-q-type=\x22','generate-from-parallel-test-btn','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','.bp-generate-lesson-btn','.lessonContent','type','cancel-quiz-status-btn','manual_release','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timed','not_confident','กำลังกลับเข้าสู่เกม\x20','rgba(59,\x20130,\x20246,\x200.7)','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','setTransform','ผู้เชี่ยวชาญ','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','bulk-results-display-select','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','ไม่มีผู้ตอบตัวเลือกนี้','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ย้ายแบบทดสอบไปโปรเจคอื่น','clear-all-links-btn','touch','circle','เนื้อหาสำหรับสอน:\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','ดีเทอร์มิแนนต์','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','exists','Error\x20unlinking\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','link-input-area','behavior-log-tab-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','export-compact-pdf-btn','team','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','fixedData','scheduled_pending','topic-input','ฟังก์ชันกำลังสองและกราฟ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data:application/vnd.ms-word;charset=utf-8,','values','\x22...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','latestScore','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<div\x20id=\x22q-image-container-','projectName','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','match','q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','handleGenerateQuizFromBlueprintTopic','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','projectView','sync-manage-players-btn','บทเรียน','findIndex','times','\x0a\x20\x20\x20\x20\x20\x20</div>','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','responseSchema','การกระจายและการจัดหมู่','modal-loop-until-pass-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','style','</p></div>','answers','\x20**[กฎเพิ่มเติมที่สำคัญที่สุด]:**\x20ต้องเน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','ห.ร.ม.\x20(GCD)','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','cancel-test-btn','บันทึกคำถามใหม่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','left','player-list-lobby','student-name-input','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','answered','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','link-tab','correctResponse','รูปสแควร์รูท\x20(surd)','ตรีโกณมิติ','exitFullscreen','medium','custom-math-topic-input','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','export-excel-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','settings','\x5csum','items','\x20รายการสำเร็จ!','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','input[type=\x22checkbox\x22]','td,\x20th','Error\x20clearing\x20all\x20links:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','tooltipTarget','Error\x20generating\x20from\x20blueprint:','correctAnswerIndex','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-lesson-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','kick-player-btn','worksheet-topic-input','project-list','พื้นที่ใต้กราฟ/ระหว่างกราฟ','submittedAt','Error\x20renaming\x20quiz:','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','toISOString','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reset-view-btn','NEGATIVE_INFINITY','close-topic-bank-btn','ลบหัวข้อสำเร็จ','admin-dashboard','พื้นที่ผิวรูปทรงสามมิติ','main-correct-answer-display','filter','translate','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกการตั้งค่าได้','.question-editor-item','dataset','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','list-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','bg-green-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','.application-options\x20button','hasPerfectScoreBonus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','viewBox','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','content','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','overallGroups','overline','fix\x20the\x20option','finished','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','groups.','results-table-container','input[type=\x22text\x22]','log','_opt','hidden','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','querySelectorAll','Failed\x20to\x20kick\x20player\x20','\x20mb-2\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','คะแนนเต็ม','replace','setAttribute','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','quiz-leaderboard-table','กฎบวกและกฎคูณ','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','bg-green-400\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','devicePixelRatio','text-yellow-800','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','manual-bp-grade-level','sum','generate-from-link-btn','/public/data/quizzes','.bp-create-content-quiz-btn','matching_item','empty','auto-fix-latex-btn','\x20/\x20','.topic-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','onerror','curriculum','view-my-progress-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','แบบทดสอบฝึกฝนเรื่อง:\x20','dragstart','QUICK_THINKER','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','Error\x20regenerating\x20question\x20in\x20editor:','text-red-600','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','group','candidates','parseInline','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','handleGenerateAndShowLesson','ปริพันธ์ไม่จำกัด','save-bp-settings-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','qIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x5ctimes','playerName','กำลังสร้างแบบทดสอบ:\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clearRect','pointercancel','ฟังก์ชันเชิงเส้นและกราฟ','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','เลือกและเริ่มสร้าง','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','text-green-800','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','admin-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','presentation-explanation','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','bg-red-100','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-progress','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','ย้าย','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','ลำดับเลขคณิต\x20(AP)','scores','addEventListener','กรุณาเลือกโปรเจคก่อน','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','specialist','student-quiz-topic','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','startedAt','ไม่พบโปรเจค','str','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600','student-project-leaderboard-tab','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','startsWith','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','/public/data/projects','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','presentation-scratchpad-btn','starred','wakeLock','toggle','answer','multiply','write','การบวกทศนิยม','confirm-quiz-status-btn','applicationData','export-leaderboard-excel-btn','asc','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','ไม่สามารถโหลดรายการโปรเจคได้','forEach','เกิดข้อผิดพลาดในการอัปเดตสถานะ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','complexityValue','42oIhHTl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-list','lineCap','แก้ระบบสมการด้วยเมทริกซ์','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20(Test\x20Specialist)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบ\x20O-NET\x20ชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริงที่แนบมา\x0a\x0aภารกิจ:\x20จากไฟล์\x20Test\x20Blueprint\x20ที่แนบมานี้\x20จงวิเคราะห์และสร้างแบบทดสอบชุดใหม่ทั้งชุด\x20โดยยึดตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a1.\x20\x20**วิเคราะห์และยึดโครงสร้างหลัก\x20(Macro-Structure\x20Replication):**\x0a\x20\x20\x20\x20*\x20ภารกิจแรกของคุณคือ\x20ค้นหาข้อมูลในหน้า\x20\x22คำชี้แจง\x22\x20ของไฟล์\x20PDF\x20เพื่อระบุจำนวนข้อสอบ\x20**\x22ทั้งหมด\x22**\x20ในแต่ละรูปแบบ\x20(เช่น\x20ปรนัย\x204\x20ตัวเลือก\x2016\x20ข้อ,\x20ระบายตัวเลข\x204\x20ข้อ)[cite:\x2034,\x20393].\x0a\x20\x20\x20\x20*\x20แบบทดสอบที่คุณสร้างจะต้องมีจำนวนข้อรวมและรูปแบบตรงตามนี้ทุกประการ.\x0a\x0a2.\x20\x20**จัดสรรและกระจายข้อสอบตามเนื้อหา\x20(Content\x20Allocation\x20&\x20Distribution):**\x0a\x20\x20\x20\x20*\x20**กฎการจัดสรรตามสาระ:**\x20วิเคราะห์ตาราง\x20Test\x20Blueprint\x20เพื่อหาว่าในแต่ละ\x20\x27สาระ\x27\x20(เช่น\x20สาระที่\x201,\x20สาระที่\x202)\x20ถูกกำหนดให้มีข้อสอบรูปแบบใดบ้าง\x20จำนวนกี่ข้อ\x20(ดูจากคอลัมน์\x20\x22รูปแบบข้อสอบ\x20(จำนวนข้อ)\x22).\x20คุณต้องสร้างข้อสอบให้มีจำนวนและรูปแบบตรงตามที่ระบุไว้ในแต่ละสาระทุกประการ.\x0a\x20\x20\x20\x20*\x20**กฎการกระจายหัวข้อย่อย\x20(สำคัญมาก):**\x20ภายในแต่ละ\x20\x27สาระ\x27\x20จะมีรายการ\x20\x27สาระการเรียนรู้แกนกลาง\x27\x20หลายหัวข้อย่อย.\x20**จงกระจายการสร้างข้อสอบให้ครอบคลุมหัวข้อย่อยเหล่านี้อย่างทั่วถึงและสมดุล\x20ห้ามสร้างข้อสอบทั้งหมดจากหัวข้อย่อยเพียงหนึ่งหรือสองหัวข้อเด็ดขาด.**\x20ให้สุ่มเลือกหัวข้อจากรายการที่มีมาใช้สร้างข้อสอบตามความเหมาะสม.\x0a\x0a3.\x20\x20**เลียนแบบสไตล์และความซับซ้อน\x20(Style\x20&\x20Complexity\x20Replication):**\x0a\x20\x20\x20\x20*\x20เน้นสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20ให้มีระดับความซับซ้อนและสไตล์การใช้ภาษาใกล้เคียงกับข้อสอบจริงที่แนบมามากที่สุด.\x0a\x0a4.\x20\x20**สร้างสรรค์โจทย์ใหม่\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น.\x0a\x0aกฎเพิ่มเติม:\x0a-\x20คำถามทุกข้อต้องเป็นภาษาไทย.\x0a-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20(เช่น\x20$y\x20=\x20ax^2\x20+\x20b$).\x0a-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น.\x0a','move-quiz-project-select','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','.subTopic','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','หลังเรียน','-tab','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x5cle','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','cancel-rename-quiz-btn','STRING','interesting-stats-wrapper','\x20ใหม่...','Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.','</span></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ผู้ไม่ยอมแพ้','grid','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','เพิ่มหัวข้อ\x20\x22','.presentation-option','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','<div\x20class=\x22mb-3\x20topic-category\x22>','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับการดำเนินการ\x20(PEMDAS)','text-red-500\x20hover:text-red-700','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20สำเร็จ','questionId','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20quizzes\x20into\x20global\x20cache.','applicationHTML','.ai-content\x20p','add-custom-math-topic-btn','input[name=\x22status-option\x22]:checked','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','finishReason','พีชคณิตและฟังก์ชัน','leaderboard-tab-content','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','team-quiz-topic','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','เปิดใช้งาน','student-progress-view','สร้างโปรเจคสำเร็จ!','cancel-game-start-btn','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','bulk-quiz-settings-btn','border-gray-200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','raw','num-questions','loader-text','การหาร','deg','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากเนื้อหาต่อไปนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','subTopic','กำลังอัปเดตแบบทดสอบ\x20','.admin-try-quiz-list-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ไฮเพอร์โบลา','live-race','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.summary-bar-item','some','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','keys','.png','min','.sort-indicator','normal','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','touchmove','bg-green-200\x20text-green-900','จัดการ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isNormalTopic','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','mouseup','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','sqrt','requestFullscreen','.delete-bp-project-btn','ai-quiz-app-aefee','message-modal','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-passing-score-input','ฟังก์ชันพหุนาม','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','quizType','Error\x20updating\x20custom\x20topic:','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','<option>กำลังโหลดโปรเจค...</option>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','Error\x20committing\x20score\x20updates:','</h3>','ความชันและเส้นตรง','.project-card-container[data-id]','project-search-input','กรุณาเลือกสถานะ','correctAnswer','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses.','qType','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','isRemedial','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','text-gray-400\x20hover:text-indigo-600','results-tab-content','กรุณาเลือกไฟล์ก่อน','Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.verification-result-editor','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','วงกลม:\x20สมการและสมบัติ','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','API\x20call\x20failed\x20with\x20status:\x20','createElementNS','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','):\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','true_false','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','ร้อยละประยุกต์','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','size','สร้างชุดคำถามจับคู่','bg-green-200','pointerdown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20','confirm-game-start-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','สมการเหตุผล\x20(rational)','อสมการเชิงเส้น','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20td','warn','strength-weakness-analysis-container','กำลังสร้างคำถามข้อ\x20','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','Error\x20starting\x20group\x20quiz:','เกิดข้อผิดพลาดในการบันทึก','slice','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','.start-presentation-list-btn','N/A','สอบปกติ','\x22\x20value=\x22false\x22\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','blockReason','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','โดเมนและเรนจ์','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','message','กรุณาป้อนหัวข้อสำหรับใบงาน','เกิดข้อผิดพลาด:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','select','after','no-projects-msg','Error\x20joining\x20activity:','team-student-list','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','.topic-category','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x20\x20\x20-\x20','isPasscodeEnabled','bestScore','\x20(p=','\x20หัวข้อ)','686904OyNXVJ','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','wheel','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','Error\x20displaying\x20question\x20bank:','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','preventDefault','reduce','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความน่าจะเป็นแบบมีเงื่อนไข','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','/users/','รีเซ็ตลำดับโปรเจคแล้ว','student-progress-content','schedule','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','parent','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x5cpm','leaderboard-quiz-tab-btn','ดูผลสรุปสุดท้าย','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','12595050TckOam','createElement','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','none','mode','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','generate-worksheet-btn','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','isLooping','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','</select>','<p\x20class=\x22','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','per-question-text','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','ฟังก์ชันราก\x20(root)','groups','\x22><span>','สมการยกกำลัง','<li\x20class=\x22','submit-team-answer-btn','separate-by-content-from-file-checkbox','fullscreenchange','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','game-start-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.linkedQuizId','\x27,\x20\x27','ARRAY','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','visible','export-tutor-pdf-btn','.regenerate-question-btn','#000000','mode-switcher-btn','กรุณาพิมพ์คำตอบของกลุ่ม','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','ชนิดของข้อมูลและการเก็บข้อมูล','text/html','student-team-selection-view','practice-topic-btn','สำหรับหัวข้อ\x20\x27','bp-modal-question-complexity-select','สาระที่\x201','catch','cancel-move-quiz-btn','.answeredCurrentQuestion','jspdf','delete-svg-btn','start-game-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ข้อต่อไป','bp-modal-passing-score-input','คณิตการเงิน/บูรณาการ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','ยืนยันและอัปเดตทั้งหมด','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','จำนวนข้อ:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answeredCurrentQuestion','manage','lesson-plan-modal','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','perfect_score_status','จุด\x20เส้น\x20ระนาบ','scheduled','Error\x20joining\x20live\x20game:','\x22>ไม่ใช่</p>','จำนวนคละ','translate(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','table','ไม่พบข้อมูลเกม','ไม่พบตารางสำหรับ\x20Export','border-indigo-400\x20ring-2\x20ring-indigo-200','summaryContent','mousemove','targetId','/public/data/quizzes/','\x20in\x20all\x20blueprint\x20projects.','</p><p><strong>เฉลย:</strong>\x20','keydown','presentation-modal','confidence-modal','เกิดข้อผิดพลาดในการส่งคำตอบ','คำถามถัดไป','.live-answer-btn,\x20#live-submit-short-answer-btn','การจัดหมู่\x20(Combination)','text-indigo-700','text-red-700','live-player-list','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</span></p>','ไม่พบแบบทดสอบในระบบเลย','cancel-passcode-btn','visibilitychange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','flex','<p\x20class=\x22text-2xl\x22>','เกิดข้อผิดพลาดในการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','cancel-create-project-btn','\x20จุด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','border-green-700','applicationContent','text-emerald-900','num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','Error\x20toggling\x20pin\x20status:','bp-modal-num-choices','pointContent','confidence','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','.score','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ใช่','แบบทดสอบ:\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','Error\x20joining\x20team\x20quiz:','checked','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','bank-input-area','Error\x20saving\x20visibility\x20settings:','resultsDisplay','bg-green-100\x20text-green-800','/public/data/syncGames','-\x20ข้อ\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','ความต่อเนื่อง','.duplicate-quiz-btn','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','blueprint-topics-list','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouse','questions_only','fullscreenElement','length','Error\x20listening\x20for\x20starred\x20quizzes:','API\x20Error\x20Body:','generate-from-blueprint-btn','\x20ชุดสำเร็จ!','_opt0\x22>ใช่</label></div>','modal-results-display-select','.rename-quiz-btn','confidence-scoring-checkbox','text-red-800','removeEventListener','text','Error\x20saving\x20settings:','sara','.view-bp-lesson-btn','modal-timer-mode-select','promptFeedback','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','isScored','isCorrect','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','quizMode','ส่วนเบี่ยงเบนมาตรฐาน','สร้างใหม่','student','checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','ระบบเลขและค่าประจำหลัก','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','analytics-summary-cards','block','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','quiz-type-select','quiz-results','destroy','leaderboard_','flex\x20flex-col\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','(ฉบับง่าย)\x20','cancel-export-pdf-btn','กรุณาใส่ชื่อโปรเจค','กรุณากรอกข้อมูลให้ครบทุกช่อง','perfect_score','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','contains','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<i\x20class=\x22fas\x20fa-save\x22></i>','thead','text-gray-100','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x20|\x20','totalPoints','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','category','quiz-status-modal','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','submit-group-answer-btn','Error\x20processing\x20file\x20for\x20AI:','transformOrigin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','round','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','lineJoin','/public/data/teamQuizzes','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</form>','confirm-game-start-modal',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','Error\x20saving\x20submission:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','currentQuestionIndex','show_results_and_answers','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','Error\x20deleting\x20topic:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','disabled','Loaded\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','documentElement','body','Error\x20submitting\x20group\x20answer:','student-quiz-leaderboard-table-body','\x27\x20ในหัวข้อ\x20\x27','ปรับเพิ่ม/ลดเป็นร้อยละ','ไม่ผ่าน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','artifacts/','\x22\x20จำนวน\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ตอบถูกทุกข้อในแบบทดสอบนี้','highlighter-size-slider','add-from-global-bank-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','confirm-bulk-quiz-settings-btn','generated-quiz-container','เส้นตรง:\x20ขนาน/ตั้งฉาก','/preferences/main','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','(^|[^\x5c\x5c])\x5cb','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20student\x20rankings:','members','title','not_generated','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','.quiz-bank-item','bg-amber-100\x20text-amber-800','จำนวนเชิงซ้อน\x20(เสริม)','Error\x20rendering\x20student\x20progress:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','postScore','.submittedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','suggestedAnswer','game-start-modal-title','toDate','เมทริกซ์:\x20บวก/คูณ','<p\x20class=\x22text-xl\x22>','name_desc','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','</div>','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','btn','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','contents','ความคาดหมาย\x20(Expected\x20value)','touchend','กำลังวิเคราะห์หัวข้อ...','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','กฎของโคไซน์','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ไม่สามารถโหลดข้อมูลอันดับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','$$$1$','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','webkitRequestFullscreen','.pointsLastQuestion','clientX','\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20','sync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</label></div>','[data-topic-container-id]','.quiz-bank-settings-btn','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','รูปแบบการให้เหตุผล','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','center','submission','.generate-easy-version-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','back-to-dashboard-from-results-btn','คะแนนเฉลี่ย','ศูนย์','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','สลับไปโหมดนักเรียน','shuffle-setting-select','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','reveal-answer-btn','\x22\x20สำเร็จ','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','สมการราก\x20(radical)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','cloneNode','Error\x20generating\x20hybrid\x20quiz:','passcode-prompt-message','join-live-game-btn','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','confirm-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','question-complexity-select','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','close-student-rankings-btn','pinnedProjects','error','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x5ccdot','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-message','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','modal-confidence-scoring-checkbox','answer-grid-container','confirm-rename-quiz-btn','กรุณาป้อนรหัสแบบทดสอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','math-topics-checkbox-container','มุมพิเศษ\x2030°-60°-90°','getBoundingClientRect','\x20รายการ...','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','pinned-items','push','input[name=\x22team_player\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','18321tLRfnS','Error\x20joining\x20sync\x20game:','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','beginPath','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<div><input\x20type=\x22radio\x22\x20id=\x22q','q-explanation-','confirm-delete-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','circ','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Error\x20confirming\x20players:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','setAttributeNS','toString','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','trim','lesson-loader-text','first_try_ace','appendChild','#10B981','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คัดลอกรหัสแล้ว!','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','ฟังก์ชันยกกำลัง','ส่วนเบี่ยงเบนเฉลี่ย','#FEE2E2','.generate-post-test-btn','presentation-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pin','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','Original\x20quiz\x20not\x20found','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','projectSortOrder','linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','fill','abs','.lastAnswerCorrect','textarea[name=\x22question_single\x22]','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','totalQuestions','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','text-red-900','start-quiz-btn','16645ePZVoa','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','typesetPromise','currentMode','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numPages','ยอดเยี่ยม!','element','th-TH','questionDisplayedAt','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','includeImages','pointermove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','.lastAnswerValue','Remedial\x20quiz\x20generation\x20failed:','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x5cge','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','MathJax\x20typeset\x20error\x20(analytics):','\x22><p\x20class=\x22font-semibold\x22>','confirm-manual-bp-btn','ยกเลิกการจับคู่สำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','อนุพันธ์:\x20ผลคูณ/ผลหาร','กำลังโหลดคลังข้อสอบทั้งหมด...','textarea','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-loader','ค่าคลาดเคลื่อนของการวัด','position','เกิดข้อผิดพลาดในการนำผู้เล่นออก','การนับ','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','ยังไม่มีนักเรียนส่งงาน','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','.regenerate-question-editor-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','.bp-present-btn','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20listening\x20for\x20custom\x20math\x20topics:','API\x20Error\x20Response:','ไม่พบข้อมูลแบบทดสอบ','.bp-create-topic-quiz-btn','Error\x20deleting\x20submission:','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','<br>','question-analytics-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics.','activeGameSession','.pen-color-btn','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','student-team-join','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','Error\x20duplicating\x20quiz:','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','export-worksheet-pdf-btn','.quiz-bank-present-btn','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','fill_in_the_blank','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','responses','(คัดลอก)\x20','การประยุกต์เวกเตอร์พื้นฐาน','สถิติและความน่าจะเป็น','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','text-gray-700','-options','แบบทดสอบที่ติดดาว','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','ก่อนเรียน','Error\x20starting\x20live\x20race:','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','project-detail-view','แบบทดสอบนี้ปิดใช้งานอยู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','upperGroupResponders','ยืนยันการกระทำ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','function','player-count','numQuestions','86nRRAAn','.ai-content\x20li','เกิดข้อผิดพลาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','เกิดข้อผิดพลาดในการลบโปรเจค','print','\x20mx-1\x20text-lg\x22></i></span>','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','border-red-300\x20bg-red-50','_opt0\x22\x20name=\x22question','upperGroupNames','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','grid-view-btn','text-green-600\x20font-bold','Error\x20deleting\x20custom\x20topic:','sort','พบ\x20Sync\x20Game!','fill_in_no_choices','answer-counter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','close-lesson-plan-modal-footer-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','confirm-link-quiz-btn','auto','</button>','scratchpad-canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20กฎพื้นฐาน','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','doughnut','goto-next-question-btn','blueprint-options-container','close-presentation-btn','เพิ่มรายการที่เลือก','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','pen','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-group-activity-btn','point','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<svg','การลบเศษส่วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x20(ID:\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ระยะเวลา\x20(วินาที):','Error\x20during\x20blueprint\x20link\x20cleanup:','/public/data/blueprintProjects','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','_blank','Error\x20generating\x20from\x20parallel\x20test\x20file:','submit','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','เกี่ยวกับหัวข้อ\x20\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','touchcancel','<div\x20class=\x22my-2\x22>','ยืนยันการจับคู่','results-quiz-id-display','substring','quiz-start-time','stdDev','deltaY','execCommand','topic-tab','\x20pointer-events-none\x22>','#FEF3C7','#retake-for-improvement-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','PERSEVERANCE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.status','selected-topics-count','.quiz-bank-parallel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','.correct-response-input','innerHTML','default','comparison-individual-content','scrollY','rgba(255,\x20255,\x200,\x200.5)','comeback_king','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','152UdyKWr','.linkedQuizIds','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','quiz-editor-modal','Failed\x20to\x20resume\x20game\x20session:','.move-quiz-btn','destination-out','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','quiz-search-input','timer-mode-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','lesson-sections-container','separate-by-content-checkbox','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transition-all','game-start-quiz-id','modal-shuffle-select','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','team-player-status-grid','color','export-leaderboard-image-btn','\x5cfrac{$1}{$2}','quiz','mjx-container','หัวข้อที่สร้างเอง','NUMBER','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','ทฤษฎีทวินาม\x20(เบื้องต้น)','comparison-chart','bg-red-500','modal-confidence-mode-container','(คู่ขนาน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','แก้ไขชื่อหัวข้อย่อย:','#FFFFFF','<h1></h1>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','project-passcode-modal','(ไม่มีชื่อ)','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','กรุณาเลือกคำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Auto-linking\x20new\x20quiz\x20','json','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ตรวจทานเฉลยเสร็จสิ้น!','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','modal-message','</h4>','results_','map','projectId','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','confidence-input-','leaderboard','passcode','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','parallel-test-upload-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ค่าเฉลี่ย','null','hint-btn','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upper_group_count','Error\x20saving\x20quiz\x20edits:','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','copy','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','สุดยอด!\x20ตอบถูกทุกข้อ','getPage','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','removeItem','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','tool','จับคู่เพื่อเปรียบเทียบผล','option','Failed\x20to\x20generate\x20practice\x20test:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','.live-answer-btn,\x20#sync-submit-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','สรุปผลสุดท้าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','บันทึกโปรเจค\x20\x22','tan','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','ยังไม่เต็มนะ','\x22\x20name=\x22confidence','showImproveButton','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','ลำดับเรขาคณิต\x20(GP)','lastAnswerIndex','.ai-fix-formula-btn','รูปหลายเหลี่ยมและมุมภายใน','stroke','create-project-btn','Action:\x20Generate\x20new\x20lesson.','docs','หัวข้อหลักใหม่','#student-project-leaderboard-content\x20thead','scratchpad-close-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','แก้ไขหัวข้อสำเร็จ','\x22\x20data-pre-test-id=\x22','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','Failed\x20to\x20get\x20hint:','comparison-overall-tab','รูปสี่เหลี่ยมและสมบัติ','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่ส่ง','cancel-team-selection-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','MathJax','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','attemptNumber','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','list','cancel-quiz-edits-btn-footer','parse','result','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','select-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การยืนยันตัวตนล้มเหลว','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated','export-word-btn','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','passingScore','BOOLEAN','selectedTopicNames','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดใช้งาน','Error\x20fetching\x20quiz\x20settings:','test','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','scores-tab-btn','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','shuffledQuiz','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','startTime','ฟังก์ชันแบบชิ้นส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','podium','bulk-shuffle-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','globalSettings','fa-dumbbell\x20text-gray-700','border-green-300\x20bg-green-50','confirm-quiz-settings-btn','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','.quiz-result-card','projectSort','อนุพันธ์:\x20กฎลูกโซ่','blueprint-input-area','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','draggable-text','ไม่พบข้อมูลโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','เกิดข้อผิดพลาดในการติดดาว','พบ\x20Team\x20Quiz!','points','\x22,\x20','manual-blueprint-modal','submission-status-chart','answering','bottom','คัดลอกไม่สำเร็จ','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','<div\x20class=\x22answer-space\x22></div>','explanation','save','bg-red-50','confidence-choice-btn','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-upload-input','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','analytics','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','วงกลม:\x20คอร์ดและเส้นสัมผัส','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','Team\x20Quiz','.doc','parts','อินเวอร์สของเมทริกซ์','button[type=\x22submit\x22]','memoryContent','confidence-scoring-description','back-to-project-btn','cancel-blueprint-projects-btn','topic-bank-list','API\x20call\x20failed','Error\x20deleting\x20student:','select[name=\x22question_single\x22]','<button\x20data-quiz-id=\x22','onchange','#results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','right','ถูก','cancel-global-live-btn','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','#E5E7EB','lineWidth','\x22><i\x20class=\x22fas\x20','STOP','hover:bg-indigo-100','bg-green-200\x20text-green-900\x20font-bold','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','then','ring-2','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','bulk-confidence-mode-container','options','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','กำลังค้นหากิจกรรม...','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','input[type=\x22radio\x22][value=\x22','/public/data/liveGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','touches','Error\x20editing\x20topic:','Error\x20displaying\x20blueprint\x20project:','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','Error\x20submitting\x20team\x20answer:','modal-timer-duration-input','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','className','manual-bp-content','timer-container','lessonPlan','\x22\x20class=\x22color-palette-btn\x20','show-in-student-dashboard-checkbox','outerHTML','on_fire','next-drill-btn','projectOrder','quiz-results-view','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','bg-red-500\x20text-white\x20font-bold','.copy-quiz-id-list-btn','textarea[name=\x22team_answer\x22]','ปริมาตรรูปทรงสามมิติ','floor','leq','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.parallel-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','clientY','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','pointerup','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','false','mainTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','prev-question-btn','\x20คู่\x20','input[name=\x22question_single\x22]:checked','setFont','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','แผนภาพกล่อง\x20(box\x20plot)','parallel-test-tab','blueprint-projects-modal','quiz-id-input','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','incorrect','.highlighter-color-btn','end-team-quiz-btn','math-topic-search-input','remove','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','ระบบสมการเชิงเส้นสองตัวแปร','Error\x20saving\x20lesson\x20to\x20project:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','half_mark_status','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loopUntilPass','open','lessonContent','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','live-game','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','สเกลและแผนที่','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','date_desc','lowerGroupResponders','วงรี','editable-text-','\x22\x20data-topic=\x22','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','split','Authentication\x20failed:','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','answerText','bp-modal-include-images-checkbox','ปริพันธ์จำกัด','#D1FAE5','Error\x20analyzing\x20blueprint\x20topics:','.compare-results-btn','both','file-upload-input','confident','every','ไม่ใช่\x20/\x20ผิด','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','cancel-bulk-quiz-settings-btn','text-indigo-800','not-found','cancel-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','teacherTips','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.delete-svg-btn','scratchpad-modal','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','studentName','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-red-300\x20hover:text-red-100','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grabbing','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','reset-project-order-btn','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','ไม่ใช่','quiz-generation-area','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','(ก่อนเรียน)\x20','คะแนน','temp-loader-results','fa-pen','<p>','.bp-view-analysis-btn','#E0E7FF','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','การคูณทศนิยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','สร้างแบบทดสอบปรนัย','questionText','behavior-log','สร้างคำถามแบบใช่/ไม่ใช่','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','difficultyValue','show-leaderboard-btn','verify-answers-btn','จำนวนคู่:','s;\x22\x20title=\x22','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','delete','confidence_single','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','onload','hasOwnProperty','<div>','\x22\x20ให้เป็นคำถามประเภท\x20\x22','.topic-row','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','gameData','analyze-strengths-btn','lower_group_count','teachingContent','ชื่อหัวข้อห้ามว่าง','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','Error\x20analyzing\x20file\x20for\x20topics:','selected-answer-index-hidden','เลือกและบันทึก','comparison-individual-tab','preScore','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application','จับคู่แบบทดสอบสำเร็จ!','ai-quiz-app-aefee.firebasestorage.app','.delete-custom-topic-btn','scratchpad-clear-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','bp-project-title','stringify','อัปเดตแบบทดสอบเก่า\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','questionIndex','sync-submit-btn','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','slide-counter','บันทึกผลการเล่นเกมของ\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','bg-gray-50','lesson-view-modal','หยุดระบบจับเวลาหรี่หน้าจอ','Error\x20fetching\x20project\x20quizzes:','release','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ทำคะแนนเต็มในการทำครั้งแรก','<tr\x20class=\x22','quiz-form','แคลคูลัสเบื้องต้น','การหารเศษส่วน','27411472','createObjectURL','copy-quiz-id-btn','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','admin-password-modal','pairedQuizId','จำนวนและการดำเนินการ','.isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','leaderboard-quiz-tab-content','button','confirm-team-players-btn','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-rankings-modal','กำลังเตรียมไฟล์\x20Test\x20Blueprint...','เกิดข้อผิดพลาดในการบันทึกโปรเจค','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','Failed\x20to\x20end\x20group\x20mode\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','Error\x20preparing\x20content\x20quiz:','download','open-sync-scratchpad-btn','ค่าเสื่อมราคา','[data-field=\x22subTopic\x22]','cancel-manual-bp-btn','ผิด','cancel-bp-settings-btn','ON_FIRE','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','opacity-50','standard','รายการนี้','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','status','student-list','scale','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','ไม่พบข้อมูลหัวข้อที่จะบันทึก','.generate-content-btn','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','isFinished','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','leaderboard-table-body','Test\x20Blueprint','rows','FileReader\x20error:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','.color-palette-btn','confirmation-modal','behaviorLog','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','เปลี่ยนชื่อโปรเจคสำเร็จ','Error\x20updating\x20sort\x20preference:',',\x20r=','#view-rankings-btn','Sync\x20Mode','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','loader','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','Blueprint\x20O-NET\x20ป.6','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','#F59E0B','passcode-error-msg','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','autoTable','.bp-create-onet-quiz-btn','question','.ideal-answer-input','highlighter-tool-btn','createdAt','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','ความเท่ากันทุกประการของสามเหลี่ยม','\x20แบบทดสอบลงในคลังสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','confirm-not-confident','text-white','\x20รายการ\x20สำเร็จ!','text-indigo-600','parentElement','ยังไม่สร้าง','Unexpected\x20API\x20response\x20structure:','change','PERFECT_SCORE','bg-red-200\x20text-red-800','opacity','bg-red-100\x20text-red-800','บันทึกการตั้งค่าแล้ว','mainTopic','(ก่อนเรียน)','originalQuestionText','manage-players-btn','value','export-pdf-modal','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','text-content-input','ค.ร.น.\x20(LCM)','7908165bcQaTq','label','fa-fire\x20text-orange-500','removeChild','Error\x20updating\x20old\x20quizzes:','Error\x20creating\x20project:','.live-summary-tooltip.visible','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','questionStatus','short_answer','bar','enable-passcode-checkbox','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','<div\x20class=\x22flex-1\x22></div>','strokeStyle','#math-topics-checkbox-container\x20input:checked','สำหรับโปรเจค:\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','div[data-question-index=\x22','redo-btn','bg-yellow-50','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','back-to-dashboard-from-bp-btn','เกิดข้อผิดพลาดในการเปลี่ยนสี','blueprint-settings-modal','close-lesson-plan-modal-btn','26244361EeWLxL','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','students','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','<option\x20value=\x22','behavior-log-container','quiz-leaderboard-table-body','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isPinned','.project-card-content','sync-short-answer-input','insertBefore','</strong></p>','.scratchpad-content-wrapper','isArray','closePath','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','lesson-view-content','all','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','bp-topic-list-container','duration-300','อยู่ในสาระการเรียนรู้ใด:','ความคล้ายของรูป','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','การคูณ','quadraticCurveTo','score','latestSubmittedAt','/public/data/projects/','font-bold\x20text-green-700','confirm-passcode-btn','Error\x20toggling\x20star\x20status:','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.star-quiz-btn','\x20ชุด)','.open-bp-project-btn','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','bg-black/20','save-project-name-btn','bp-modal-shuffle-setting-select','<li>','start-presentation-btn','live-player-management','แบบทดสอบซ่อมเสริม','เรขาคณิต','smooth','mouseleave','eraser','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','Error\x20in\x20handleApiCall:','application/json','div','.toggle-actions-btn','mandatory','อุณหภูมิและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ffffff','timerDuration','student-quiz-leaderboard-tab','ข้อ\x20','.pdf','gain','\x22\x5cn','#confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','afterend','Error\x20generating\x20from\x20link:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quizId','has','</body></html>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results','\x22\x20data-name=\x22','indexOf','behavior-log-tab-content','ดอกเบี้ยอย่างง่าย','choices_only','instructions','project-id-display','(เลือกแล้ว\x20','next-question-btn','earned-badges-container','countdown-display','.bp-delete-topic-btn','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','การลบ','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','questions','cancel-quiz-edits-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','save-game-results-checkbox','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary_chart','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนยังไม่ถึงครึ่ง','bg-green-50','total','.draggable-text','Error\x20opening\x20quiz\x20editor:','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','showInStudentDashboard','สร้างแบบทดสอบ','screen','สู้ๆ\x20ลองอีกครั้งนะ','transparent','back-to-student-home-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','canvas','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px)\x20scale(','แก้ไขข้อนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<div\x20class=\x22space-y-4\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','quiz-bank-modal','editable-quiz-topic','globalCompositeOperation','.color-palette-popup','confirm-global-live-btn','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','bg-green-500','quiz-editor-questions-container','comparison-modal','wasConfident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','entries','input[type=\x22radio\x22]:checked'];_0x55db=function(){return _0x512bfc;};return _0x55db();}function _0x4026(_0x333f03,_0x255b5f){const _0x55db70=_0x55db();return _0x4026=function(_0x4026f3,_0x2580d2){_0x4026f3=_0x4026f3-0x180;let _0x19fe1f=_0x55db70[_0x4026f3];return _0x19fe1f;},_0x4026(_0x333f03,_0x255b5f);}async function initialize(){const _0x51a1c4=_0x358d67;try{const _0x35a586=initializeApp(firebaseConfig);db=getFirestore(_0x35a586),auth=getAuth(_0x35a586),setupAuthListener(),setupEventListeners(),showView(_0x51a1c4(0x6ce)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x381191){console[_0x51a1c4(0x77b)]('Firebase\x20initialization\x20failed:',_0x381191),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x3cf4f7=_0x358d67,_0x5264cb=document[_0x3cf4f7(0x3a8)](_0x3cf4f7(0x892));if(!_0x5264cb)return;const _0x7b5591=document[_0x3cf4f7(0x3a8)](_0x3cf4f7(0x3c1));_0x7b5591['disabled']=!![],_0x7b5591[_0x3cf4f7(0x888)]=_0x3cf4f7(0x8b4);try{const _0x4bec4e=_0x5264cb[_0x3cf4f7(0x4a1)](_0x3cf4f7(0x482)),_0x1c0db4=Array['from'](_0x4bec4e)[_0x3cf4f7(0x8ca)]((_0xc4b3ce,_0x4bd977)=>{const _0x3d6b92=_0x3cf4f7,_0xf5f379=_0xc4b3ce['dataset']['qType'],_0x5066a7=_0xc4b3ce[_0x3d6b92(0x3a0)]('textarea')[_0x3d6b92(0xac6)];let _0x52f074=null,_0x48f6ba='';switch(_0xf5f379){case _0x3d6b92(0x302):const _0x1b28d7=_0xc4b3ce[_0x3d6b92(0x4a1)]('input[type=\x22text\x22]');_0x52f074=Array['from'](_0x1b28d7)[_0x3d6b92(0x8ca)](_0x1833b8=>_0x1833b8[_0x3d6b92(0xac6)]);const _0x3bcf41=_0xc4b3ce[_0x3d6b92(0x3a0)](_0x3d6b92(0xb85));_0x3bcf41&&(_0x48f6ba=_0x52f074[parseInt(_0x3bcf41[_0x3d6b92(0xac6)])]);break;case _0x3d6b92(0xad5):_0x48f6ba=_0xc4b3ce[_0x3d6b92(0x3a0)](_0x3d6b92(0xaae))['value'];break;case _0x3d6b92(0x5b9):const _0x16a0b4=_0xc4b3ce['querySelector'](_0x3d6b92(0xb85));_0x48f6ba=_0x16a0b4?_0x16a0b4[_0x3d6b92(0xac6)]:'';break;case _0x3d6b92(0x4b9):_0x48f6ba=_0xc4b3ce[_0x3d6b92(0x3a0)](_0x3d6b92(0x887))[_0x3d6b92(0xac6)];break;}return{'question':_0x5066a7,'options':_0x52f074,'proposedAnswer':_0x48f6ba};}),_0x241b33='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x3cf4f7(0xa50)](_0x1c0db4)+_0x3cf4f7(0x4de),_0x404fd1={'type':'ARRAY','items':{'type':_0x3cf4f7(0x182),'properties':{'questionIndex':{'type':_0x3cf4f7(0x8ac)},'isCorrect':{'type':_0x3cf4f7(0x929)},'justification':{'type':_0x3cf4f7(0x534)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x3cf4f7(0xa53),_0x3cf4f7(0x6c9),_0x3cf4f7(0x1ab)]}},_0x22770d=await callAnalysisApi(_0x241b33,{'type':_0x3cf4f7(0x182),'properties':{'result':_0x404fd1},'required':[_0x3cf4f7(0x91d)]});displayVerificationResultsInEditor(_0x22770d['result']);}catch(_0x36444d){console[_0x3cf4f7(0x77b)](_0x3cf4f7(0x303),_0x36444d),showMessage(_0x3cf4f7(0x7c9));}finally{_0x7b5591[_0x3cf4f7(0x709)]=![],_0x7b5591[_0x3cf4f7(0x888)]=_0x3cf4f7(0x1b0);}}function displayVerificationResultsInEditor(_0x47da7b){const _0x14b5c2=_0x358d67;_0x47da7b[_0x14b5c2(0x519)](_0x2d7bd3=>{const _0x49cc41=_0x14b5c2,_0x303ae6=document[_0x49cc41(0x3a0)](_0x49cc41(0x284)+_0x2d7bd3['questionIndex']+'\x22]');if(!_0x303ae6)return;const _0x365d10=_0x303ae6[_0x49cc41(0x3a0)](_0x49cc41(0x5ae));if(_0x365d10)_0x365d10['remove']();let _0x48d632='';if(_0x2d7bd3[_0x49cc41(0x6c9)])_0x48d632=_0x49cc41(0x9ed);else{const _0xabed1e=_0x2d7bd3[_0x49cc41(0x731)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x48d632='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0xabed1e+_0x49cc41(0x21f)+_0x2d7bd3[_0x49cc41(0x1ab)]+_0x49cc41(0x652)+(_0x2d7bd3['suggestedAnswer']?_0x49cc41(0x4bf)+_0x2d7bd3[_0x49cc41(0x731)]+'</p>':'')+_0x49cc41(0x204);}_0x303ae6['insertAdjacentHTML'](_0x49cc41(0x3ce),_0x48d632);if(!_0x2d7bd3[_0x49cc41(0x6c9)]&&_0x2d7bd3['suggestedAnswer']){const _0x3a59d5=_0x303ae6[_0x49cc41(0x483)][_0x49cc41(0x5a4)],_0x4151ec=_0x47225d=>{const _0x285a6c=_0x49cc41;if(!_0x47225d)return;_0x47225d[_0x285a6c(0x542)]['add'](_0x285a6c(0x5bf),_0x285a6c(0x8a1),_0x285a6c(0xb06)),setTimeout(()=>{const _0x4d5e88=_0x285a6c;_0x47225d['classList'][_0x4d5e88(0x9d0)](_0x4d5e88(0x5bf));},0x9c4);};if(_0x3a59d5===_0x49cc41(0x302)){const _0x590573=Array['from'](_0x303ae6[_0x49cc41(0x4a1)](_0x49cc41(0x497))),_0x368433=_0x590573[_0x49cc41(0x433)](_0x112aa3=>_0x112aa3[_0x49cc41(0xac6)][_0x49cc41(0x7a5)]()[_0x49cc41(0x344)]()===_0x2d7bd3[_0x49cc41(0x731)][_0x49cc41(0x7a5)]()[_0x49cc41(0x344)]());if(_0x368433!==-0x1){const _0x1dbf4e=_0x303ae6['querySelector'](_0x49cc41(0x998)+_0x368433+'\x22]');_0x1dbf4e&&(_0x1dbf4e[_0x49cc41(0x69c)]=!![],_0x4151ec(_0x1dbf4e[_0x49cc41(0x2f4)]('div')));}}else{if(_0x3a59d5==='short_answer'||_0x3a59d5===_0x49cc41(0x4b9)){const _0xd9fb82=_0x303ae6[_0x49cc41(0x3a0)]('.ideal-answer-input,\x20.correct-response-input');_0xd9fb82&&(_0xd9fb82[_0x49cc41(0xac6)]=_0x2d7bd3[_0x49cc41(0x731)],_0x4151ec(_0xd9fb82));}else{if(_0x3a59d5===_0x49cc41(0x5b9)){const _0x5e97cf=_0x2d7bd3[_0x49cc41(0x731)][_0x49cc41(0x7a5)]()[_0x49cc41(0x344)](),_0x10f2d5=_0x303ae6[_0x49cc41(0x3a0)]('input[type=\x22radio\x22][value=\x22'+_0x5e97cf+'\x22]');_0x10f2d5&&(_0x10f2d5[_0x49cc41(0x69c)]=!![],_0x4151ec(_0x10f2d5[_0x49cc41(0x2f4)]('div')));}}}}}),showMessage(_0x14b5c2(0x8c5));}async function handleVerifyAnswers(){const _0x3e26a5=_0x358d67;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x5bf995=document['getElementById']('verify-answers-btn');_0x5bf995['disabled']=!![],_0x5bf995[_0x3e26a5(0x888)]=_0x3e26a5(0x8b4);try{const _0x37f8b8=currentQuizData[_0x3e26a5(0xb4f)]['map']((_0x134f4d,_0x16dee0)=>{const _0x6342da=_0x3e26a5;let _0x42af36='';const _0x4ae824=_0x134f4d[_0x6342da(0x2d0)]||currentQuizData[_0x6342da(0x593)];switch(_0x4ae824){case'multiple_choice':_0x42af36=_0x134f4d[_0x6342da(0x994)][_0x134f4d[_0x6342da(0x468)]];break;case _0x6342da(0xad5):_0x42af36=_0x134f4d[_0x6342da(0xbd9)];break;case _0x6342da(0x5b9):_0x42af36=_0x134f4d[_0x6342da(0x5a0)]['toString']();break;case _0x6342da(0x4b9):_0x42af36=_0x134f4d[_0x6342da(0x44f)];break;}return{'question':_0x134f4d['stem']||_0x134f4d[_0x6342da(0xa23)],'options':_0x134f4d[_0x6342da(0x994)]||null,'proposedAnswer':_0x42af36};}),_0x172cbb=_0x3e26a5(0x82d)+JSON[_0x3e26a5(0xa50)](_0x37f8b8)+_0x3e26a5(0x80a),_0x518eb9={'type':_0x3e26a5(0x632),'items':{'type':_0x3e26a5(0x182),'properties':{'questionIndex':{'type':_0x3e26a5(0x8ac)},'isCorrect':{'type':_0x3e26a5(0x929)},'justification':{'type':_0x3e26a5(0x534)},'suggestedAnswer':{'type':_0x3e26a5(0x534)}},'required':[_0x3e26a5(0xa53),_0x3e26a5(0x6c9),_0x3e26a5(0x1ab)]}},_0x3d2606=await callAnalysisApi(_0x172cbb,{'type':_0x3e26a5(0x182),'properties':{'result':_0x518eb9},'required':['result']});displayVerificationResults(_0x3d2606[_0x3e26a5(0x91d)]);}catch(_0x557aec){console[_0x3e26a5(0x77b)]('Error\x20verifying\x20answers:',_0x557aec),showMessage(_0x3e26a5(0x7c9));}finally{_0x5bf995[_0x3e26a5(0x709)]=![],_0x5bf995[_0x3e26a5(0x888)]=_0x3e26a5(0xbdf);}}function displayVerificationResults(_0x3df840){const _0x288ae1=_0x358d67;_0x3df840[_0x288ae1(0x519)](_0x841dd5=>{const _0x468d69=_0x288ae1,_0xa24987=document['querySelector'](_0x468d69(0xade)+_0x841dd5[_0x468d69(0xa53)]+'\x22]');if(_0xa24987){const _0x93e00d=_0xa24987[_0x468d69(0x3a0)](_0x468d69(0x35b));if(_0x93e00d)_0x93e00d[_0x468d69(0x9d0)]();let _0x1c60ab='';_0x841dd5[_0x468d69(0x6c9)]?_0x1c60ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1c60ab=_0x468d69(0x396)+_0x841dd5[_0x468d69(0x1ab)]+_0x468d69(0x7ee)+(_0x841dd5[_0x468d69(0x731)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x841dd5[_0x468d69(0x731)]+_0x468d69(0x183):'')+_0x468d69(0xb34),_0xa24987[_0x468d69(0x363)](_0x468d69(0x3ce),_0x1c60ab);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x5ea101,_0x2d9349){const _0x1aaad5=_0x358d67,_0x21b71a=String(_0x5ea101)[_0x1aaad5(0x4a7)](',','.')[_0x1aaad5(0x4a7)](/[^\d.-]/g,'')[_0x1aaad5(0x7a5)](),_0x26c745=String(_0x2d9349)[_0x1aaad5(0x4a7)](',','.')[_0x1aaad5(0x4a7)](/[^\d.-]/g,'')['trim']();if(_0x21b71a===''||_0x26c745==='')return![];const _0x1e6724=parseFloat(_0x21b71a),_0x5a5817=parseFloat(_0x26c745);if(isNaN(_0x1e6724)||isNaN(_0x5a5817))return![];return Math[_0x1aaad5(0x7c2)](_0x1e6724-_0x5a5817)<0.001;}function isPotentiallyNumeric(_0x5977ae){const _0x31b5f9=_0x358d67;if(typeof _0x5977ae!==_0x31b5f9(0x189)&&typeof _0x5977ae!=='number')return![];const _0x427d47=String(_0x5977ae)[_0x31b5f9(0x4a7)](',','.')[_0x31b5f9(0x7a5)]();return _0x427d47!==''&&!isNaN(parseFloat(_0x427d47))&&isFinite(_0x427d47);}async function gradeShortAnswer(_0x4a564d,_0xece83e){const _0x5933f7=_0x358d67,_0x2af97a=_0xece83e['idealAnswer'],_0x58532e=String(_0x4a564d)[_0x5933f7(0x4a7)](/\$/g,'')[_0x5933f7(0x7a5)](),_0x292ba4=String(_0x2af97a)[_0x5933f7(0x4a7)](/\$/g,'')['trim']();if(_0x58532e[_0x5933f7(0x344)]()===_0x292ba4[_0x5933f7(0x344)]())return!![];if(isPotentiallyNumeric(_0x58532e)&&isPotentiallyNumeric(_0x292ba4)){if(compareNumericalAnswers(_0x58532e,_0x292ba4))return!![];}return console[_0x5933f7(0x498)](_0x5933f7(0x40b)),await gradeShortAnswerWithAI(_0x4a564d,_0x2af97a);}async function revealAnswerForAdmin(_0x28361d,_0x44af13){const _0xf1fa11=_0x358d67,_0x434b07=doc(db,_0xf1fa11(0x714)+appId+_0xf1fa11(0x999),currentLiveGameId);await updateDoc(_0x434b07,{'questionStatus':_0xf1fa11(0xb58)});}function showTop5LeaderboardView(_0x266c77){const _0x42c1ec=_0x358d67,_0x198ced=Object[_0x42c1ec(0x41e)](_0x266c77[_0x42c1ec(0x266)]||{})[_0x42c1ec(0x47c)](_0x3c26f4=>_0x3c26f4[_0x42c1ec(0xa89)]==='active');_0x198ced[_0x42c1ec(0x843)]((_0x91c3ed,_0x5d4373)=>_0x5d4373[_0x42c1ec(0xb0c)]-_0x91c3ed[_0x42c1ec(0xb0c)]);const _0x34d522=_0x198ced[_0x42c1ec(0x5d1)](0x0,0x5),_0xdab4a7=_0x42c1ec(0x217)+_0x34d522[_0x42c1ec(0x8ca)]((_0x309bc9,_0x3fe87b)=>_0x42c1ec(0x44a)+(_0x3fe87b+0x1)+'.\x20'+(_0x309bc9[_0x42c1ec(0xbc7)]||Object['keys'](_0x266c77[_0x42c1ec(0x266)])[_0x42c1ec(0x301)](_0x313a94=>_0x266c77[_0x42c1ec(0x266)][_0x313a94]===_0x309bc9))+_0x42c1ec(0xa4e)+_0x309bc9[_0x42c1ec(0xb0c)]+_0x42c1ec(0xc0a))[_0x42c1ec(0x61f)]('')+_0x42c1ec(0x7d8)+(_0x266c77[_0x42c1ec(0x704)]+0x1===currentQuizData[_0x42c1ec(0xb4f)]['length']?_0x42c1ec(0x8ef):_0x42c1ec(0x649))+_0x42c1ec(0x5a1);liveGameView[_0x42c1ec(0x888)]=_0xdab4a7,document['getElementById'](_0x42c1ec(0x857))[_0x42c1ec(0x4f9)]('click',async()=>{const _0x36c50a=_0x42c1ec,_0x32ebd5=doc(db,_0x36c50a(0x714)+appId+_0x36c50a(0x999),currentLiveGameId),_0x5c230d=_0x266c77['currentQuestionIndex']+0x1;if(_0x5c230d<currentQuizData['questions'][_0x36c50a(0x6b0)]){const _0x4643ae={'currentQuestionIndex':_0x5c230d,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x36c50a(0x57a)](_0x266c77[_0x36c50a(0x266)])[_0x36c50a(0x519)](_0x3434b1=>{const _0x47bb64=_0x36c50a;_0x4643ae[_0x47bb64(0x1a0)+_0x3434b1+_0x47bb64(0x644)]=![];}),await updateDoc(_0x32ebd5,_0x4643ae);}else await updateDoc(_0x32ebd5,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1926e0=>{const _0x1bc146=_0x4026;if(_0x1926e0){userId=_0x1926e0['uid'],userIdDisplay[_0x1bc146(0x20d)]=userId;const _0x243972=await loadUserPreferences();_0x243972[_0x1bc146(0x7bd)]&&(document[_0x1bc146(0x3a8)](_0x1bc146(0x329))['value']=_0x243972['projectSortOrder']);globalDashboardSettings[_0x1bc146(0x430)]=_0x243972[_0x1bc146(0x430)]||_0x1bc146(0x53b);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4a2db7,_0x524fc3){const _0x16823b=_0x358d67;if(!userId)return;try{const _0x3ad99c=doc(db,_0x16823b(0x714)+appId+'/users/'+userId+'/preferences/main'),_0x5f365b={};_0x5f365b[_0x4a2db7]=_0x524fc3,await setDoc(_0x3ad99c,_0x5f365b,{'merge':!![]});}catch(_0x354a41){console[_0x16823b(0x77b)](_0x16823b(0x1b9),_0x354a41);}}async function loadUserPreferences(){const _0x1d60db=_0x358d67;if(!userId)return{};try{const _0x1dc235=doc(db,_0x1d60db(0x714)+appId+_0x1d60db(0x5fe)+userId+_0x1d60db(0x71e)),_0x310ced=await getDoc(_0x1dc235);if(_0x310ced[_0x1d60db(0x40f)]())return _0x310ced[_0x1d60db(0x49d)]();return{};}catch(_0x1c8772){return console[_0x1d60db(0x77b)]('Error\x20loading\x20user\x20preferences:',_0x1c8772),{};}}function parseIndentedBlueprint(_0x59145c){const _0x3b64d6=_0x358d67,_0x174107=_0x59145c[_0x3b64d6(0x9ee)]('\x0a')[_0x3b64d6(0x47c)](_0x29efa9=>_0x29efa9[_0x3b64d6(0x7a5)]()!==''),_0x192659=[];let _0xd6b449=null,_0x56cefc=null;return _0x174107[_0x3b64d6(0x519)](_0x1493a0=>{const _0x30b261=_0x3b64d6,_0x51622f=_0x1493a0[_0x30b261(0x42a)](/^\s*/)[0x0][_0x30b261(0x6b0)],_0x4add1d=_0x1493a0[_0x30b261(0x7a5)]();if(_0x51622f===0x0)_0xd6b449={'sara':_0x4add1d,'mainTopics':[]},_0x192659['push'](_0xd6b449),_0x56cefc=null;else{if(_0x51622f>0x0&&_0x51622f<0x8&&_0xd6b449)_0x56cefc={'topicName':_0x4add1d,'subTopics':[]},_0xd6b449[_0x30b261(0x9bd)][_0x30b261(0x78d)](_0x56cefc);else _0x51622f>=0x8&&_0x56cefc&&_0x56cefc[_0x30b261(0x3bb)][_0x30b261(0x78d)](_0x4add1d);}}),{'curriculum':_0x192659};}async function handleManualBlueprintSave(){const _0x1879ba=_0x358d67,_0x3bc5ce=document[_0x1879ba(0x3a8)]('manual-bp-project-name')[_0x1879ba(0xac6)]['trim'](),_0x88d76c=document[_0x1879ba(0x3a8)](_0x1879ba(0x4b4))['value'][_0x1879ba(0x7a5)](),_0x68603b=document[_0x1879ba(0x3a8)]('manual-bp-content')[_0x1879ba(0xac6)];if(!_0x3bc5ce||!_0x88d76c||!_0x68603b){showMessage(_0x1879ba(0x6e2));return;}const _0x31cfc7=parseIndentedBlueprint(_0x68603b);if(!_0x31cfc7['curriculum']||_0x31cfc7[_0x1879ba(0x4c1)][_0x1879ba(0x6b0)]===0x0){showMessage(_0x1879ba(0xad8));return;}const _0x130d8e={};_0x31cfc7[_0x1879ba(0x4c1)][_0x1879ba(0x519)](_0x42ac6e=>{const _0x463031=_0x1879ba;_0x42ac6e['mainTopics'][_0x463031(0x519)](_0x473402=>{const _0x547f95=_0x463031;_0x473402[_0x547f95(0x3bb)]['forEach'](_0x4f875c=>{const _0x329f88=_0x547f95,_0x5914c9=_0x329f88(0x388)+Date['now']()+Math[_0x329f88(0x190)]()[_0x329f88(0x7a2)](0x24)['substr'](0x2,0x9);_0x130d8e[_0x5914c9]={'sara':_0x42ac6e[_0x329f88(0x6bd)],'mainTopic':_0x473402[_0x329f88(0xc04)],'subTopic':_0x4f875c,'status':'not_generated','lessonContent':null};});});});try{const _0x348eb7=collection(db,_0x1879ba(0x714)+appId+_0x1879ba(0x869));await addDoc(_0x348eb7,{'projectName':_0x3bc5ce,'gradeLevel':_0x88d76c,'topics':_0x130d8e,'createdAt':serverTimestamp()}),showMessage(_0x1879ba(0x8f1)+_0x3bc5ce+'\x22\x20สำเร็จ!'),document['getElementById']('manual-blueprint-modal')[_0x1879ba(0x542)][_0x1879ba(0x33b)](_0x1879ba(0x49a));}catch(_0x517942){console[_0x1879ba(0x77b)](_0x1879ba(0x298),_0x517942),showMessage(_0x1879ba(0xa76));}}function handleClearAllLinksForTopic(_0x222282){const _0x5be652=_0x358d67;showConfirmation(_0x5be652(0x683),async()=>{const _0x5b536c=_0x5be652;try{const _0x409b50=doc(db,_0x5b536c(0x714)+appId+_0x5b536c(0x869),currentBlueprintProjectId);await updateDoc(_0x409b50,{['topics.'+_0x222282+'.linkedQuizIds']:[]}),showMessage(_0x5b536c(0x55a)),openTopicQuizBank(_0x222282),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x357ab1){console['error'](_0x5b536c(0x464),_0x357ab1),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x39adec,_0x1b8af7=_0x358d67(0x575)){const _0x5f08dc=_0x358d67,_0x1f98f0=Object['entries'](_0x39adec)[_0x5f08dc(0x8ca)](([_0x4a1cbb,_0x5b2cf5])=>({'name':_0x4a1cbb,'score':_0x5b2cf5['score']||0x0,'badges':_0x5b2cf5[_0x5f08dc(0x9d8)]||[],'hasPerfectScoreBonus':_0x5b2cf5['hasPerfectScoreBonus']||![]}));_0x1f98f0[_0x5f08dc(0x843)]((_0x5d6a7c,_0x454633)=>{const _0x285581=_0x5f08dc,_0x3eac98=_0x454633[_0x285581(0xb0c)]-_0x5d6a7c[_0x285581(0xb0c)];if(_0x3eac98!==0x0)return _0x3eac98;return(_0x454633['badges'][_0x285581(0x6b0)]||0x0)-(_0x5d6a7c[_0x285581(0x9d8)][_0x285581(0x6b0)]||0x0);});const _0x55db38=_0x2cab67=>{const _0x42fe28=_0x5f08dc;if(!_0x2cab67||_0x2cab67['length']===0x0)return'';const _0x47cbe1={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x42fe28(0x954)+_0x2cab67['map'](_0x33e6f5=>_0x47cbe1[_0x33e6f5]||'')[_0x42fe28(0x61f)]('')+'</div>';},_0x2cefbf=_0x1f98f0['slice'](0x3),_0x42e57c=_0x2cefbf[_0x5f08dc(0x6b0)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2cefbf['map']((_0x5ceadf,_0x2334a9)=>{const _0xea451e=_0x5f08dc,_0x2e3b66=_0x5ceadf[_0xea451e(0x48a)]?_0xea451e(0x1e9):'';return _0xea451e(0x486)+(_0x2334a9+0x4)+_0xea451e(0x289)+_0x5ceadf[_0xea451e(0xbc7)]+_0xea451e(0x7ea)+_0x5ceadf[_0xea451e(0xb0c)]+_0xea451e(0x1cc)+_0x2e3b66+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5f08dc(0x61f)]('')+_0x5f08dc(0x8e7):'',_0x340135=_0x5f08dc(0xb57)+(_0x1f98f0[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1f98f0[0x1]['name']+_0x5f08dc(0x183)+_0x55db38(_0x1f98f0[0x1][_0x5f08dc(0x9d8)])+_0x5f08dc(0x735)+_0x1f98f0[0x1][_0x5f08dc(0xb0c)]+_0x5f08dc(0x1cc)+(_0x1f98f0[0x1][_0x5f08dc(0x48a)]?_0x5f08dc(0x6c1):'')+_0x5f08dc(0xa32):_0x5f08dc(0xad9))+_0x5f08dc(0x7b8)+(_0x1f98f0[0x0]?_0x5f08dc(0x4fe)+_0x1f98f0[0x0]['name']+_0x5f08dc(0x183)+_0x55db38(_0x1f98f0[0x0][_0x5f08dc(0x9d8)])+_0x5f08dc(0x67c)+_0x1f98f0[0x0]['score']+_0x5f08dc(0x1cc)+(_0x1f98f0[0x0][_0x5f08dc(0x48a)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x5f08dc(0x8bd):_0x5f08dc(0xad9))+_0x5f08dc(0x7b8)+(_0x1f98f0[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1f98f0[0x2]['name']+_0x5f08dc(0x183)+_0x55db38(_0x1f98f0[0x2][_0x5f08dc(0x9d8)])+_0x5f08dc(0x735)+_0x1f98f0[0x2][_0x5f08dc(0xb0c)]+_0x5f08dc(0x1cc)+(_0x1f98f0[0x2][_0x5f08dc(0x48a)]?_0x5f08dc(0x6c1):'')+_0x5f08dc(0x613):_0x5f08dc(0xad9))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42e57c+_0x5f08dc(0x1f2)+(currentMode===_0x5f08dc(0x389)?_0x5f08dc(0x6ca):_0x5f08dc(0x4f5))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x5f08dc(0x888)]=_0x340135,currentMode==='admin'&&document[_0x5f08dc(0x3a8)]('close-game-final-btn')[_0x5f08dc(0x4f9)](_0x5f08dc(0x2ea),async()=>{const _0x82aab6=_0x5f08dc;let _0x11969d;_0x1b8af7===_0x82aab6(0x750)?_0x11969d=doc(db,_0x82aab6(0x714)+appId+_0x82aab6(0x6a2),currentLiveGameId):_0x11969d=doc(db,_0x82aab6(0x714)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x11969d);});}function renderSyncSummaryView(_0x58770a,_0x3fd417,_0x285ac){const _0x13b8d9=_0x358d67,_0x453ced=Object['values'](_0x58770a[_0x13b8d9(0x266)]||{}),_0x474dd9=_0x3fd417[_0x13b8d9(0x2d0)]||_0x58770a['shuffledQuiz']['quizType'];let _0x537bc9=[];_0x474dd9===_0x13b8d9(0x5b9)?_0x537bc9=[_0x13b8d9(0x392),_0x13b8d9(0x9fd)]:_0x537bc9=_0x3fd417[_0x13b8d9(0x994)]||[];const _0x49356e=new Array(_0x537bc9[_0x13b8d9(0x6b0)])[_0x13b8d9(0x7c1)](0x0),_0x2b4250={};_0x537bc9[_0x13b8d9(0x519)]((_0x10fa3e,_0x376fba)=>{_0x2b4250[_0x376fba]=[];}),Object[_0x13b8d9(0xb84)](_0x58770a[_0x13b8d9(0x266)]||{})[_0x13b8d9(0x519)](([_0x1b9476,_0xc7185e])=>{const _0x3ee6d8=_0x13b8d9;if(_0xc7185e[_0x3ee6d8(0xa89)]!=='inactive'&&_0xc7185e[_0x3ee6d8(0x8fb)]!==undefined&&_0xc7185e[_0x3ee6d8(0x8fb)]!==null){const _0x6caaf9=_0xc7185e[_0x3ee6d8(0x8fb)];_0x2b4250[_0x6caaf9]!==undefined&&(_0x2b4250[_0x6caaf9][_0x3ee6d8(0x78d)](_0x1b9476),_0x49356e[_0x6caaf9]++);}});let _0x330cfe='';_0x285ac?_0x330cfe=_0x13b8d9(0x910):_0x330cfe='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x7d8673=_0x13b8d9(0x985)+_0x3fd417[_0x13b8d9(0xa23)]+_0x13b8d9(0x25d)+_0x49356e[_0x13b8d9(0x8ca)]((_0x4904e0,_0x119ee0)=>{const _0xc4779c=_0x13b8d9,_0x5c497d=_0x2b4250[_0x119ee0][_0xc4779c(0x6b0)]>0x0?_0x2b4250[_0x119ee0]['join'](',\x20'):_0xc4779c(0x403),_0x442383='#6366F1';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x4904e0+_0xc4779c(0x1ee)+_0x442383+_0xc4779c(0x701)+_0x119ee0+_0xc4779c(0xa8c)+_0x537bc9[_0x119ee0]+_0xc4779c(0x863)+_0x119ee0+_0xc4779c(0x2b8)+_0x5c497d+_0xc4779c(0x4b0);})['join']('')+_0x13b8d9(0x92c)+_0x330cfe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x7d8673;if(window[_0x13b8d9(0x915)])MathJax['typesetPromise']();_0x285ac&&(document[_0x13b8d9(0x3a8)](_0x13b8d9(0x3ae))['addEventListener'](_0x13b8d9(0x2ea),async()=>{const _0x19ecb7=_0x13b8d9,_0x4c009f=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4c009f,{'status':_0x19ecb7(0xb3e)});}),document[_0x13b8d9(0x3a8)](_0x13b8d9(0xa7d))[_0x13b8d9(0x84c)]=()=>{openScratchpad(_0x3fd417,_0x537bc9);});}async function handleShowStudentRankings(){const _0xb21406=_0x358d67,_0x2d49ab=document[_0xb21406(0x3a0)](_0xb21406(0x24e));_0x2d49ab&&(_0x2d49ab[_0xb21406(0x888)]=_0xb21406(0x6a9));const _0x2ededf=document['querySelector'](_0xb21406(0x903));_0x2ededf&&(_0x2ededf[_0xb21406(0x888)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x5e0896=document['getElementById'](_0xb21406(0xa74));_0x5e0896[_0xb21406(0x542)][_0xb21406(0x9d0)](_0xb21406(0x49a)),document['getElementById'](_0xb21406(0x779))[_0xb21406(0x84c)]=()=>_0x5e0896[_0xb21406(0x542)][_0xb21406(0x33b)](_0xb21406(0x49a));const _0x1a7528=document[_0xb21406(0x3a8)](_0xb21406(0xb2e)),_0x3ac9ee=document[_0xb21406(0x3a8)](_0xb21406(0x504)),_0x3cfb80=document['getElementById'](_0xb21406(0x47f)),_0x1f18c8=document['getElementById']('student-project-leaderboard-content');_0x1a7528[_0xb21406(0x84c)]=()=>{const _0x142a45=_0xb21406;_0x1a7528[_0x142a45(0x542)]['add'](_0x142a45(0x34a)),_0x3ac9ee[_0x142a45(0x542)][_0x142a45(0x9d0)](_0x142a45(0x34a)),_0x3cfb80[_0x142a45(0x542)][_0x142a45(0x9d0)](_0x142a45(0x49a)),_0x1f18c8['classList'][_0x142a45(0x33b)]('hidden');},_0x3ac9ee[_0xb21406(0x84c)]=()=>{const _0x11c5de=_0xb21406;_0x3ac9ee[_0x11c5de(0x542)][_0x11c5de(0x33b)](_0x11c5de(0x34a)),_0x1a7528[_0x11c5de(0x542)][_0x11c5de(0x9d0)](_0x11c5de(0x34a)),_0x1f18c8['classList'][_0x11c5de(0x9d0)]('hidden'),_0x3cfb80[_0x11c5de(0x542)][_0x11c5de(0x33b)]('hidden');};try{const _0x3e2bd4=collection(db,_0xb21406(0x714)+appId+_0xb21406(0x667)+currentQuizData['id']+_0xb21406(0x2c6)),_0x89b257=await getDocs(_0x3e2bd4),_0x577983=_0x89b257[_0xb21406(0x901)]['map'](_0x492eb1=>_0x492eb1['data']());renderQuizLeaderboard(_0x577983,currentQuizData,_0xb21406(0x70f));const _0xb4f430=collection(db,_0xb21406(0x714)+appId+_0xb21406(0xb0e)+currentQuizData[_0xb21406(0x8cb)]+_0xb21406(0xbd4)),_0x4cbbfa=await getDocs(_0xb4f430),_0x571c62=_0x4cbbfa[_0xb21406(0x901)]['map'](_0x140b0c=>_0x140b0c[_0xb21406(0x49d)]());renderLeaderboard(_0x571c62,'student-project-leaderboard-table-body');}catch(_0x211140){console[_0xb21406(0x77b)](_0xb21406(0x723),_0x211140),showMessage(_0xb21406(0x748));}}async function handleSaveToBank(_0x4bbaf8){const _0x35e350=_0x358d67,_0x2bb729=_0x4bbaf8[_0x35e350(0x29f)],_0x2cfd5b=_0x2bb729['dataset'][_0x35e350(0x1c5)],_0x1ebc99=currentQuizData[_0x35e350(0xb4f)][_0x2cfd5b];if(!userId){showMessage(_0x35e350(0x6a8));return;}try{const _0x39e418={..._0x1ebc99,'originalTopic':currentQuizData[_0x35e350(0x339)],'savedAt':serverTimestamp()},_0x1489a7=collection(db,'artifacts/'+appId+_0x35e350(0x5fe)+userId+'/questionBank');await addDoc(_0x1489a7,_0x39e418),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x2bb729[_0x35e350(0x542)][_0x35e350(0x9d0)]('text-purple-600'),_0x2bb729[_0x35e350(0x542)]['add'](_0x35e350(0x503)),_0x2bb729[_0x35e350(0x709)]=!![];}catch(_0x19d788){console[_0x35e350(0x77b)](_0x35e350(0x2bc),_0x19d788),showMessage(_0x35e350(0x5d0));}}function selectProjectAndGenerateBlueprintQuiz(_0x3e8685,_0x6a0b30=null,_0x132d85=null,_0x3dbd3b=![]){const _0x4a1219=_0x358d67;cameFromBlueprint=!![];const _0x3b0a76=document[_0x4a1219(0x3a8)](_0x4a1219(0x238)),_0xed155e=document[_0x4a1219(0x3a8)]('move-quiz-project-select'),_0x5686e3=_0x3b0a76[_0x4a1219(0x3a0)]('h3'),_0x1a3dd0=document[_0x4a1219(0x3a8)](_0x4a1219(0x2b1)),_0x5e00f0=document[_0x4a1219(0x3a8)]('cancel-move-quiz-btn');_0x5686e3['textContent']=_0x4a1219(0x767),_0x1a3dd0[_0x4a1219(0x20d)]=_0x4a1219(0x4e4),_0x1a3dd0[_0x4a1219(0x709)]=!![];allProjects['length']===0x0?_0xed155e[_0x4a1219(0x888)]=_0x4a1219(0x9e5):(_0xed155e[_0x4a1219(0x888)]=_0x4a1219(0x271)+allProjects[_0x4a1219(0x8ca)](_0x2ea71f=>_0x4a1219(0xaf5)+_0x2ea71f['id']+'\x22>'+_0x2ea71f[_0x4a1219(0x426)]+_0x4a1219(0x1f9))[_0x4a1219(0x61f)](''),_0x1a3dd0[_0x4a1219(0x709)]=![]);_0x3b0a76[_0x4a1219(0x542)][_0x4a1219(0x9d0)](_0x4a1219(0x49a));const _0x56cb9e=async()=>{const _0x3eebe2=_0x4a1219,_0x18aa19=_0xed155e[_0x3eebe2(0xac6)];if(!_0x18aa19){showMessage(_0x3eebe2(0x4fa));return;}_0x3b0a76[_0x3eebe2(0x542)][_0x3eebe2(0x33b)]('hidden'),document[_0x3eebe2(0x3a8)](_0x3eebe2(0x186))[_0x3eebe2(0x542)][_0x3eebe2(0x33b)]('hidden'),await loadProjectDetails(_0x18aa19),showView(_0x3eebe2(0x256)),handleGenerateQuizFromBlueprintTopic(_0x3e8685,_0x6a0b30,_0x18aa19,_0x132d85,_0x3dbd3b),_0x32fd7e();},_0x32fd7e=()=>{const _0x40e972=_0x4a1219;_0x5686e3[_0x40e972(0x20d)]=_0x40e972(0x406),_0x1a3dd0[_0x40e972(0x20d)]=_0x40e972(0x4f3),_0x1a3dd0['removeEventListener'](_0x40e972(0x2ea),_0x56cb9e),_0x5e00f0[_0x40e972(0x6ba)](_0x40e972(0x2ea),_0x32fd7e),_0x1a3dd0[_0x40e972(0x4f9)](_0x40e972(0x2ea),confirmMoveQuiz);};_0x1a3dd0[_0x4a1219(0x6ba)](_0x4a1219(0x2ea),confirmMoveQuiz),_0x1a3dd0['addEventListener'](_0x4a1219(0x2ea),_0x56cb9e),_0x5e00f0['addEventListener'](_0x4a1219(0x2ea),_0x32fd7e);}function listenForStarredQuizzes(){if(!userId)return;const _0x40b01e=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x5e9c55=query(_0x40b01e,where('isStarred','==',!![]));onSnapshot(_0x5e9c55,_0x585e4c=>{const _0x4b39b5=_0x4026;starredQuizzes=_0x585e4c[_0x4b39b5(0x901)][_0x4b39b5(0x8ca)](_0xf8b86f=>({'id':_0xf8b86f['id'],..._0xf8b86f['data']()})),currentProjectId===_0x4b39b5(0x50c)?renderQuizzes():renderProjects();},_0x10897a=>{const _0x36ec5a=_0x4026;console[_0x36ec5a(0x77b)](_0x36ec5a(0x6b1),_0x10897a);});}async function ensureGlobalQuizzesLoaded(){const _0x20d081=_0x358d67;if(allQuizzesGlobal[_0x20d081(0x6b0)]>0x0)return;console[_0x20d081(0x498)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x20d081(0x7ec));try{const _0x5f3401=await getDocs(collection(db,_0x20d081(0x714)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5f3401[_0x20d081(0x901)][_0x20d081(0x8ca)](_0x57d0ef=>({'id':_0x57d0ef['id'],..._0x57d0ef[_0x20d081(0x49d)]()})),console['log'](_0x20d081(0x70a)+allQuizzesGlobal[_0x20d081(0x6b0)]+_0x20d081(0x54e)),messageModal[_0x20d081(0x542)]['add'](_0x20d081(0x49a));}catch(_0x17f460){console['error']('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x17f460),messageModal[_0x20d081(0x542)]['add'](_0x20d081(0x49a));throw new Error(_0x20d081(0x2e4));}}function exportQuizAsWorksheetPDF(){const _0x15c6dd=_0x358d67;if(!currentQuizData||!currentQuizData[_0x15c6dd(0xb4f)]){showMessage(_0x15c6dd(0x223));return;}const _0x5e40c2=currentQuizData,_0x5dc782=window['open']('',_0x15c6dd(0x86b)),_0x479d0f=_0x3f2b05=>String[_0x15c6dd(0x62d)](0x41+_0x3f2b05),_0x4809eb=_0x15c6dd(0x650)+_0x5e40c2[_0x15c6dd(0x339)]+_0x15c6dd(0xb80)+_0x5e40c2[_0x15c6dd(0x339)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e40c2['questions']['map']((_0x9fc5ee,_0x291a62)=>{const _0x4475fa=_0x15c6dd;let _0x472b0f='';const _0x45a2b2=_0x9fc5ee[_0x4475fa(0x2d0)]||_0x5e40c2['quizType'];switch(_0x45a2b2){case _0x4475fa(0x302):case _0x4475fa(0x6d1):_0x472b0f=_0x4475fa(0xa88)+_0x9fc5ee[_0x4475fa(0x994)][_0x4475fa(0x8ca)]((_0x486e07,_0x4f2f35)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x479d0f(_0x4f2f35)+'.\x20'+_0x486e07+_0x4475fa(0x41c))[_0x4475fa(0x61f)](_0x4475fa(0x808))+_0x4475fa(0x738);break;case _0x4475fa(0x5b9):_0x472b0f='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x472b0f=_0x4475fa(0x95f);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x291a62+0x1)+_0x4475fa(0x696)+(_0x9fc5ee[_0x4475fa(0x966)]||_0x9fc5ee[_0x4475fa(0xa23)])+_0x4475fa(0xb94)+(_0x9fc5ee[_0x4475fa(0x311)]?_0x4475fa(0x873)+_0x9fc5ee['imageCode']+'</div>':'')+_0x4475fa(0x79a)+_0x472b0f+_0x4475fa(0x2e1);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5dc782['document'][_0x15c6dd(0x511)](_0x4809eb),_0x5dc782[_0x15c6dd(0x221)]['close'](),_0x5dc782[_0x15c6dd(0xa33)]=function(){setTimeout(()=>{const _0x306511=_0x4026;_0x5dc782[_0x306511(0x839)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x52a56a=_0x358d67;if(!currentQuizData||!currentQuizData[_0x52a56a(0xb4f)]){showMessage(_0x52a56a(0x223));return;}const _0x2f3408=currentQuizData,_0x30da9d=window[_0x52a56a(0x9dc)]('','_blank'),_0x2f814a=_0x4d2cca=>String[_0x52a56a(0x62d)](0x41+_0x4d2cca),_0x3bd7c3=_0x52a56a(0x338)+_0x2f3408['topic']+_0x52a56a(0x566)+_0x2f3408[_0x52a56a(0xb4f)]['map']((_0x3e730d,_0x3484e4)=>{const _0x33d265=_0x52a56a;let _0x305ce6='';const _0x51f591=_0x3e730d[_0x33d265(0x2d0)]||_0x2f3408[_0x33d265(0x593)];switch(_0x51f591){case'multiple_choice':case'fill_in_with_choices':_0x305ce6=_0x33d265(0x26b)+_0x3e730d['options'][_0x33d265(0x8ca)]((_0x28dbca,_0x1ea7ac)=>_0x33d265(0xa90)+_0x2f814a(_0x1ea7ac)+'.\x20'+_0x28dbca+_0x33d265(0x1dd))[_0x33d265(0x61f)](_0x33d265(0x808))+_0x33d265(0x204);break;case _0x33d265(0x5b9):_0x305ce6='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x305ce6='';break;}return _0x33d265(0x539)+_0x2f3408[_0x33d265(0x339)]+_0x33d265(0x7ca)+(_0x3484e4+0x1)+_0x33d265(0xac8)+(_0x3e730d['stem']||_0x3e730d['questionText'])+_0x33d265(0xb94)+(_0x3e730d['imageCode']?'<div\x20class=\x22my-6\x22>'+_0x3e730d[_0x33d265(0x311)]+'</div>':'')+_0x33d265(0x79a)+_0x305ce6+_0x33d265(0x543);})[_0x52a56a(0x61f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x30da9d[_0x52a56a(0x221)]['write'](_0x3bd7c3),_0x30da9d[_0x52a56a(0x221)][_0x52a56a(0x3c6)](),_0x30da9d[_0x52a56a(0xa33)]=function(){setTimeout(()=>{const _0xcd3397=_0x4026;_0x30da9d[_0xcd3397(0x839)]();},0x5dc);};}async function handleToggleStarQuiz(_0x3ecddb){const _0x2f7ed8=_0x358d67,_0x1bc827=doc(db,_0x2f7ed8(0x714)+appId+_0x2f7ed8(0x4b7),_0x3ecddb);try{const _0x30a31f=await getDoc(_0x1bc827);if(_0x30a31f[_0x2f7ed8(0x40f)]()){const _0x384c14=_0x30a31f[_0x2f7ed8(0x49d)]()['isStarred']||![];await updateDoc(_0x1bc827,{'isStarred':!_0x384c14});}}catch(_0x1e2995){console['error'](_0x2f7ed8(0xb11),_0x1e2995),showMessage(_0x2f7ed8(0x955));}}async function displayQuestionBank(){const _0x13db91=_0x358d67,_0x5c1f1f=document[_0x13db91(0x3a8)](_0x13db91(0x69e));_0x5c1f1f[_0x13db91(0x888)]=_0x13db91(0x35e);try{const _0xd24272=collection(db,'artifacts/'+appId+_0x13db91(0x5fe)+userId+'/questionBank'),_0x7b68c0=query(_0xd24272),_0x4e3f7b=await getDocs(_0x7b68c0);if(_0x4e3f7b['empty']){_0x5c1f1f[_0x13db91(0x888)]=_0x13db91(0xa6a);return;}let _0x4e3185=_0x4e3f7b['docs'][_0x13db91(0x8ca)](_0x4e990f=>{const _0x4f9c82=_0x13db91,_0xc4c6de=_0x4e990f[_0x4f9c82(0x49d)](),_0x56d54b=_0x4e990f['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x4f9c82(0xa50)](_0xc4c6de)+_0x4f9c82(0x527)+(_0xc4c6de[_0x4f9c82(0xa23)]||_0xc4c6de[_0x4f9c82(0x966)])+_0x4f9c82(0x4d8)+_0xc4c6de[_0x4f9c82(0x2a5)]+_0x4f9c82(0x2b7);})[_0x13db91(0x61f)]('');_0x5c1f1f[_0x13db91(0x888)]=_0x13db91(0x99a)+_0x4e3185+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x13db91(0x3a8)]('create-from-bank-btn')['addEventListener'](_0x13db91(0x2ea),createQuizFromBank);}catch(_0x430472){console[_0x13db91(0x77b)](_0x13db91(0x5f4),_0x430472),_0x5c1f1f['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x423070=_0x358d67,_0x5d90ff=document[_0x423070(0x3a8)](_0x423070(0x89d)),_0x5d0fef=document[_0x423070(0x3a8)](_0x423070(0xbc2))[_0x423070(0x20d)]||_0x423070(0x432);if(!_0x5d90ff){showMessage(_0x423070(0x5f3));return;}const _0x9a96be=window[_0x423070(0x9dc)]('',_0x423070(0x86b)),_0x2fc25f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x5d0fef+_0x423070(0xa1e)+_0x5d0fef+_0x423070(0x8e0)+_0x5d90ff[_0x423070(0x888)]+_0x423070(0x5ad);_0x9a96be[_0x423070(0x221)][_0x423070(0x511)](_0x2fc25f),_0x9a96be[_0x423070(0x221)][_0x423070(0x3c6)](),_0x9a96be[_0x423070(0xa33)]=function(){setTimeout(()=>{const _0x407280=_0x4026;_0x9a96be[_0x407280(0x839)]();},0x7d0);};}function showAdminLiveQuestionView(_0x80cde,_0x282a6c,_0x4b05c8){const _0x2e21ea=_0x358d67,_0x3b8b17=_0x80cde[_0x2e21ea(0x2d0)]||currentQuizData['quizType'];let _0xbc629d='';if(_0x3b8b17===_0x2e21ea(0x302)||_0x3b8b17==='true_false'){const _0x16a186=_0x3b8b17===_0x2e21ea(0x5b9)?[_0x2e21ea(0x697),'ไม่ใช่']:_0x80cde[_0x2e21ea(0x994)],_0xc4747c=_0x3b8b17===_0x2e21ea(0x5b9)?_0x80cde[_0x2e21ea(0x5a0)]?0x0:0x1:_0x80cde[_0x2e21ea(0x468)];_0xbc629d=_0x16a186[_0x2e21ea(0x8ca)]((_0x5d7353,_0x393e17)=>_0x2e21ea(0x292)+(_0x393e17===_0xc4747c)+_0x2e21ea(0xb3d)+_0x5d7353+_0x2e21ea(0x3d6))[_0x2e21ea(0x61f)]('');}else{if(_0x3b8b17==='matching_item'){const _0x32f989=_0x80cde[_0x2e21ea(0x37b)]||[];_0xbc629d=_0x32f989[_0x2e21ea(0x8ca)](_0x34f725=>_0x2e21ea(0x292)+(_0x34f725===_0x80cde[_0x2e21ea(0x44f)])+_0x2e21ea(0xb3d)+_0x34f725+_0x2e21ea(0x3d6))[_0x2e21ea(0x61f)]('');}}const _0x4160c1=_0x80cde['stem']||_0x80cde[_0x2e21ea(0xa23)],_0xe3b0e1=_0x2e21ea(0x67e)+(_0x282a6c+0x1)+_0x2e21ea(0x4bc)+_0x4b05c8+_0x2e21ea(0x708)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x4160c1+_0x2e21ea(0x85d)+_0xbc629d+_0x2e21ea(0x3a2);liveGameView[_0x2e21ea(0x888)]=_0xe3b0e1,window[_0x2e21ea(0x915)]&&MathJax[_0x2e21ea(0x7cf)]&&MathJax[_0x2e21ea(0x7cf)]([liveGameView]),document[_0x2e21ea(0x3a8)](_0x2e21ea(0x768))[_0x2e21ea(0x4f9)](_0x2e21ea(0x2ea),()=>revealAnswerForAdmin(_0x282a6c,_0x4b05c8)),document[_0x2e21ea(0x3a8)]('end-game-btn')['addEventListener'](_0x2e21ea(0x2ea),async()=>{const _0x4dc4ff=_0x2e21ea;showConfirmation(_0x4dc4ff(0x76a),async()=>{const _0x5dff9e=_0x4dc4ff,_0x240cc2=doc(db,_0x5dff9e(0x714)+appId+_0x5dff9e(0x999),currentLiveGameId);await updateDoc(_0x240cc2,{'status':_0x5dff9e(0x940)});});}),document[_0x2e21ea(0x3a8)](_0x2e21ea(0xac5))[_0x2e21ea(0x4f9)](_0x2e21ea(0x2ea),()=>{const _0x5e9093=_0x2e21ea;document['getElementById'](_0x5e9093(0xb1c))[_0x5e9093(0x542)]['toggle'](_0x5e9093(0x49a));});}function promptForProjectBeforeGenerating(_0x1b9fbe){const _0x2e533a=_0x358d67,_0x1c2e87=document[_0x2e533a(0x3a8)](_0x2e533a(0x238)),_0x3089c1=document[_0x2e533a(0x3a8)](_0x2e533a(0x523)),_0x158a2c=_0x1c2e87[_0x2e533a(0x3a0)]('h3'),_0xb314e6=document[_0x2e533a(0x3a8)]('confirm-move-quiz-btn'),_0xf9af1=document[_0x2e533a(0x3a8)]('cancel-move-quiz-btn');_0x158a2c[_0x2e533a(0x20d)]=_0x2e533a(0x767),_0xb314e6[_0x2e533a(0x20d)]=_0x2e533a(0x4e4),_0xb314e6[_0x2e533a(0x709)]=!![];allProjects[_0x2e533a(0x6b0)]===0x0?_0x3089c1[_0x2e533a(0x888)]=_0x2e533a(0x9e5):(_0x3089c1['innerHTML']=_0x2e533a(0x271)+allProjects[_0x2e533a(0x8ca)](_0x4a9773=>_0x2e533a(0xaf5)+_0x4a9773['id']+'\x22>'+_0x4a9773[_0x2e533a(0x426)]+_0x2e533a(0x1f9))[_0x2e533a(0x61f)](''),_0xb314e6['disabled']=![]);_0x1c2e87[_0x2e533a(0x542)][_0x2e533a(0x9d0)](_0x2e533a(0x49a));const _0x37cd94=async()=>{const _0xbbc842=_0x2e533a,_0x2b655c=_0x3089c1[_0xbbc842(0xac6)];if(!_0x2b655c){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x1c2e87[_0xbbc842(0x542)][_0xbbc842(0x33b)](_0xbbc842(0x49a)),await loadProjectDetails(_0x2b655c),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x1b9fbe),_0x239e4b();},_0x239e4b=()=>{const _0x451ca8=_0x2e533a;_0x158a2c[_0x451ca8(0x20d)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xb314e6[_0x451ca8(0x20d)]=_0x451ca8(0x4f3),_0xb314e6[_0x451ca8(0x6ba)](_0x451ca8(0x2ea),_0x37cd94),_0xf9af1[_0x451ca8(0x6ba)](_0x451ca8(0x2ea),_0x239e4b),_0xb314e6[_0x451ca8(0x4f9)](_0x451ca8(0x2ea),confirmMoveQuiz);};_0xb314e6['removeEventListener']('click',confirmMoveQuiz),_0xb314e6[_0x2e533a(0x4f9)](_0x2e533a(0x2ea),_0x37cd94),_0xf9af1[_0x2e533a(0x4f9)]('click',_0x239e4b);}function showStudentLiveQuestionView(_0x170dae,_0x5550db,_0x15ac6c){const _0xa37c=_0x358d67,_0x62b5a7=_0x170dae['questionType']||currentQuizData['quizType'];let _0x58e0f1='';if(_0x62b5a7===_0xa37c(0x302)||_0x62b5a7===_0xa37c(0x5b9)){const _0x1fd4c8=_0x62b5a7===_0xa37c(0x5b9)?[_0xa37c(0x697),_0xa37c(0xa14)]:_0x170dae[_0xa37c(0x994)];_0x58e0f1=_0x1fd4c8['map']((_0xd73872,_0x44b830)=>_0xa37c(0x332)+_0x44b830+_0xa37c(0x546)+_0xd73872+_0xa37c(0x924))[_0xa37c(0x61f)]('');}else{if(_0x62b5a7===_0xa37c(0x4b9)){const _0x392275=_0x170dae[_0xa37c(0x37b)]||[];_0x58e0f1=_0x392275['map']((_0x19f25c,_0x2ab69f)=>_0xa37c(0x332)+_0x2ab69f+_0xa37c(0x546)+_0x19f25c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xa37c(0x61f)]('');}else _0x62b5a7===_0xa37c(0xad5)&&(_0x58e0f1=_0xa37c(0xb56));}const _0x431165=_0x170dae['stem']||_0x170dae[_0xa37c(0xa23)],_0x427738='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x5550db+0x1)+_0xa37c(0x4bc)+_0x15ac6c+_0xa37c(0x681)+_0x431165+_0xa37c(0x251)+_0x58e0f1+_0xa37c(0x8d1);liveGameView[_0xa37c(0x888)]=_0x427738;window[_0xa37c(0x915)]&&MathJax[_0xa37c(0x7cf)]&&MathJax[_0xa37c(0x7cf)]([liveGameView]);const _0x33c41f=document[_0xa37c(0x3a8)](_0xa37c(0x312));_0x33c41f&&_0x33c41f[_0xa37c(0x4f9)](_0xa37c(0x2ea),()=>{const _0x4a8c19=_0xa37c,_0x5104e6=document[_0x4a8c19(0x3a8)]('live-short-answer-input')[_0x4a8c19(0xac6)];handleLiveAnswer(_0x5104e6,_0x170dae);}),document['getElementById'](_0xa37c(0xbb6))['addEventListener'](_0xa37c(0x2ea),_0x563c8c=>{const _0x3c5008=_0xa37c,_0x1d3f71=_0x563c8c[_0x3c5008(0x604)][_0x3c5008(0x2f4)]('.live-answer-btn');if(_0x1d3f71){const _0x5ca2f1=parseInt(_0x1d3f71[_0x3c5008(0x483)][_0x3c5008(0x1c5)]);handleLiveAnswer(_0x5ca2f1,_0x170dae);}});}async function handleLiveAnswer(_0x5cf1fa,_0x5be021){const _0x515d22=_0x358d67;document['querySelectorAll'](_0x515d22(0x66f))[_0x515d22(0x519)](_0x465387=>_0x465387[_0x515d22(0x709)]=!![]);const _0xdf358a=_0x5be021[_0x515d22(0x2d0)]||currentQuizData[_0x515d22(0x593)];let _0x4b3984=![],_0x21007f=_0x5cf1fa;if(_0xdf358a===_0x515d22(0xad5)){const _0x49a20b=(_0x5cf1fa||'')[_0x515d22(0x7a2)]();_0x4b3984=await gradeShortAnswer(_0x49a20b,_0x5be021);}else{if(_0xdf358a===_0x515d22(0x302))_0x4b3984=_0x5cf1fa===_0x5be021[_0x515d22(0x468)];else{if(_0xdf358a===_0x515d22(0x5b9)){const _0x33ceba=_0x5be021[_0x515d22(0x5a0)];_0x4b3984=_0x5cf1fa===0x0&&_0x33ceba||_0x5cf1fa===0x1&&!_0x33ceba;}else{if(_0xdf358a===_0x515d22(0x4b9)){const _0x25f4c3=_0x5be021[_0x515d22(0x37b)][_0x5cf1fa];_0x4b3984=_0x25f4c3===_0x5be021[_0x515d22(0x44f)],_0x21007f=_0x25f4c3;}}}}const _0x3afcca=doc(db,'artifacts/'+appId+_0x515d22(0x999),currentLiveGameId),_0x44efa4={};_0x44efa4[_0x515d22(0x1a0)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x44efa4[_0x515d22(0x1a0)+currentStudentName+_0x515d22(0x7c3)]=_0x4b3984,_0x44efa4[_0x515d22(0x1a0)+currentStudentName+_0x515d22(0x1fd)]=_0xdf358a===_0x515d22(0xad5)||_0xdf358a===_0x515d22(0x4b9)?null:_0x5cf1fa,_0x44efa4[_0x515d22(0x1a0)+currentStudentName+_0x515d22(0x7e1)]=_0x21007f,_0x44efa4[_0x515d22(0x1a0)+currentStudentName+_0x515d22(0x72f)]=serverTimestamp(),_0x44efa4['players.'+currentStudentName+_0x515d22(0xa6e)]=![],await updateDoc(_0x3afcca,_0x44efa4),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x574fc8,_0x14eacb){const _0x6da2cb=_0x358d67,_0x5a3713=Object[_0x6da2cb(0x41e)](_0x574fc8[_0x6da2cb(0x266)]||{}),_0x4550d2=_0x14eacb[_0x6da2cb(0x2d0)]||currentQuizData[_0x6da2cb(0x593)],_0xeb50c0=_0x4550d2===_0x6da2cb(0x5b9)?[_0x6da2cb(0x697),_0x6da2cb(0xa14)]:_0x14eacb[_0x6da2cb(0x994)]||_0x14eacb[_0x6da2cb(0x37b)]||[],_0x4128e4={},_0x2352ea=new Array(_0xeb50c0['length'])[_0x6da2cb(0x7c1)](0x0);_0xeb50c0[_0x6da2cb(0x519)]((_0x3af4ce,_0x4e1cf6)=>{_0x4128e4[_0x4e1cf6]=[];}),Object[_0x6da2cb(0xb84)](_0x574fc8[_0x6da2cb(0x266)]||{})[_0x6da2cb(0x519)](([_0x36524e,_0x4c44cb])=>{const _0x492e99=_0x6da2cb;if(_0x4c44cb['status']===_0x492e99(0x34a)&&_0x4c44cb[_0x492e99(0x8fb)]!==undefined){const _0x1fe9be=_0x4c44cb['lastAnswerIndex'];_0x4128e4[_0x1fe9be]&&(_0x4128e4[_0x1fe9be]['push'](_0x36524e),_0x2352ea[_0x1fe9be]++);}});const _0xdfdb43=Math['max'](..._0x2352ea,0x1),_0x26e9fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x14eacb[_0x6da2cb(0x966)]||_0x14eacb[_0x6da2cb(0xa23)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2352ea[_0x6da2cb(0x8ca)]((_0x184c5e,_0x52e055)=>{const _0x2f0a4a=_0x6da2cb,_0x34ef32=_0x4128e4[_0x52e055][_0x2f0a4a(0x6b0)]>0x0?_0x4128e4[_0x52e055][_0x2f0a4a(0x61f)](',\x20'):_0x2f0a4a(0x403);let _0x4fe5c1=![];if(_0x4550d2===_0x2f0a4a(0x302))_0x4fe5c1=_0x52e055===_0x14eacb['correctAnswerIndex'];else{if(_0x4550d2===_0x2f0a4a(0x5b9)){const _0x37fe3f=_0x14eacb[_0x2f0a4a(0x5a0)];_0x4fe5c1=_0x37fe3f&&_0x52e055===0x0||!_0x37fe3f&&_0x52e055===0x1;}else _0x4550d2===_0x2f0a4a(0x4b9)&&(_0x4fe5c1=_0xeb50c0[_0x52e055]===_0x14eacb[_0x2f0a4a(0x44f)]);}const _0x14fcf3=_0x4fe5c1?_0x2f0a4a(0xbb7):_0x2f0a4a(0x306);return _0x2f0a4a(0x4eb)+_0x184c5e+_0x2f0a4a(0x71f)+_0x14fcf3+_0x2f0a4a(0x701)+_0x52e055+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0xeb50c0[_0x52e055]+_0x2f0a4a(0x863)+_0x52e055+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34ef32+_0x2f0a4a(0x4b0);})[_0x6da2cb(0x61f)]('')+_0x6da2cb(0x359);liveGameView[_0x6da2cb(0x888)]=_0x26e9fa;if(window[_0x6da2cb(0x915)])MathJax[_0x6da2cb(0x7cf)]();document['getElementById'](_0x6da2cb(0xa2a))[_0x6da2cb(0x4f9)](_0x6da2cb(0x2ea),async()=>{const _0xcb7beb=_0x6da2cb,_0x307043=doc(db,_0xcb7beb(0x714)+appId+_0xcb7beb(0x999),currentLiveGameId);await updateDoc(_0x307043,{'questionStatus':_0xcb7beb(0x8ce)});}),document[_0x6da2cb(0x3a8)]('open-scratchpad-btn')[_0x6da2cb(0x4f9)](_0x6da2cb(0x2ea),()=>{openScratchpad(_0x14eacb,_0xeb50c0);});}function showPlayerSummaryView(_0x5bcf23,_0x2bea38){const _0x4f740e=_0x358d67,_0x1911f4=Object[_0x4f740e(0x41e)](_0x5bcf23[_0x4f740e(0x266)]||{}),_0x11cf08=_0x5bcf23[_0x4f740e(0x266)][_0x2bea38],_0xabf435=_0x1911f4[_0x4f740e(0x47c)](_0x338af6=>_0x338af6[_0x4f740e(0xa89)]===_0x4f740e(0x34a))[_0x4f740e(0x843)]((_0x13a471,_0x5eaacc)=>_0x5eaacc[_0x4f740e(0xb0c)]-_0x13a471[_0x4f740e(0xb0c)]),_0x453f93=_0xabf435[_0x4f740e(0x433)](_0x25300b=>_0x25300b===_0x11cf08)+0x1,_0x1e6a0c=_0x11cf08[_0x4f740e(0x1f3)]?'ถูกต้อง!':_0x4f740e(0xa81),_0x46c6b0=_0x11cf08['lastAnswerCorrect']?_0x4f740e(0xb7b):'bg-red-500',_0x334bed=_0x11cf08[_0x4f740e(0x4e8)]||0x0,_0x3d557a=_0x4f740e(0xb4e),_0x2ba460=_0x4f740e(0xb81)+_0x3d557a+_0x4f740e(0x785)+_0x46c6b0+_0x4f740e(0x305)+_0x1e6a0c+_0x4f740e(0xa97)+_0x334bed+_0x4f740e(0x9f0)+(_0x453f93>0x0?_0x453f93:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x4f740e(0x888)]=_0x2ba460;}function createQuizFromBank(){const _0x5186e2=_0x358d67,_0x399d03=document[_0x5186e2(0x4a1)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x399d03[_0x5186e2(0x6b0)]===0x0){showMessage(_0x5186e2(0x1a5));return;}const _0x4e7c07=[];_0x399d03[_0x5186e2(0x519)](_0x24702b=>{const _0x11193a=_0x5186e2;_0x4e7c07[_0x11193a(0x78d)](JSON[_0x11193a(0x91c)](_0x24702b[_0x11193a(0xac6)]));});const _0x3358c9={'topic':_0x5186e2(0x2af),'questions':_0x4e7c07};displayGeneratedQuiz(_0x3358c9);}function showAdminLobbyView(_0x2c1797,_0x5654f9){const _0x4a3898=_0x358d67;showView('live-game');const _0x3c2554=_0x4a3898(0xc06)+_0x5654f9+_0x4a3898(0x300)+_0x2c1797+_0x4a3898(0x3b1);liveGameView[_0x4a3898(0x888)]=_0x3c2554,document[_0x4a3898(0x3a8)]('start-game-btn')['addEventListener'](_0x4a3898(0x2ea),async()=>{const _0x3dddbc=_0x4a3898;if(!currentQuizData||!currentQuizData[_0x3dddbc(0xb4f)]||currentQuizData[_0x3dddbc(0xb4f)][_0x3dddbc(0x6b0)]===0x0){showMessage(_0x3dddbc(0x6c7));return;}try{const _0x37fb7a=doc(db,_0x3dddbc(0x714)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x37fb7a,{'status':_0x3dddbc(0xaad),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x57785d=currentQuizData[_0x3dddbc(0xb4f)][0x0],_0x16f2ae=currentQuizData[_0x3dddbc(0xb4f)]['length'];showAdminLiveQuestionView(_0x57785d,0x0,_0x16f2ae);}catch(_0x415b4c){console[_0x3dddbc(0x77b)]('Error\x20starting\x20game:',_0x415b4c),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x4746a2=_0x358d67;if(allQuizzesGlobal[_0x4746a2(0x6b0)]===0x0){const _0x59e291=await getDocs(collection(db,_0x4746a2(0x714)+appId+_0x4746a2(0x4b7)));allQuizzesGlobal=_0x59e291['docs'][_0x4746a2(0x8ca)](_0x115a59=>({'id':_0x115a59['id'],..._0x115a59[_0x4746a2(0x49d)]()}));}renderGlobalQuizList(''),document[_0x4746a2(0x3a8)](_0x4746a2(0x3e1))[_0x4746a2(0x542)][_0x4746a2(0x9d0)](_0x4746a2(0x49a));}async function openQuizBankModal(){const _0x4ddfcc=_0x358d67;if(allQuizzesGlobal[_0x4ddfcc(0x6b0)]===0x0){const _0x33f7fb=await getDocs(collection(db,_0x4ddfcc(0x714)+appId+_0x4ddfcc(0x4b7)));allQuizzesGlobal=_0x33f7fb[_0x4ddfcc(0x901)][_0x4ddfcc(0x8ca)](_0x5c5fe8=>({'id':_0x5c5fe8['id'],..._0x5c5fe8[_0x4ddfcc(0x49d)]()}));}renderQuizBankList(''),document[_0x4ddfcc(0x3a8)]('quiz-bank-modal')['classList']['remove'](_0x4ddfcc(0x49a));}function renderQuizBankList(_0x2cf233='',_0x4bc86a=![]){const _0x177125=_0x358d67,_0x2c2e45=document[_0x177125(0x3a8)](_0x177125(0x51f)),_0xa7daee=_0x2cf233[_0x177125(0x344)]()[_0x177125(0x7a5)](),_0x398c2e=allQuizzesGlobal[_0x177125(0x8ca)](_0x11a6a6=>({..._0x11a6a6,'projectName':allProjects['find'](_0x21b88d=>_0x21b88d['id']===_0x11a6a6['projectId'])?.[_0x177125(0x426)]||_0x177125(0x5d4)}))['filter'](_0x429623=>(_0x429623[_0x177125(0x339)]||'')[_0x177125(0x344)]()['includes'](_0xa7daee)||(_0x429623[_0x177125(0x426)]||'')[_0x177125(0x344)]()['includes'](_0xa7daee)||_0x429623['id'][_0x177125(0x7a2)]()['includes'](_0xa7daee));document[_0x177125(0x3a8)]('quiz-bank-count')['textContent']='('+_0x398c2e[_0x177125(0x6b0)]+_0x177125(0xb14),_0x2c2e45['innerHTML']=_0x398c2e[_0x177125(0x6b0)]?_0x398c2e[_0x177125(0x8ca)](_0x5d0f01=>{const _0x447737=_0x177125,_0x3d72d4=!_0x4bc86a?_0x447737(0x340)+_0x5d0f01['id']+_0x447737(0x8c4)+_0x5d0f01['id']+_0x447737(0x8e4)+_0x5d0f01['id']+_0x447737(0x7c5)+_0x5d0f01['id']+_0x447737(0xa55)+_0x5d0f01['id']+_0x447737(0x8f7)+_0x5d0f01['id']+_0x447737(0x9eb)+_0x5d0f01[_0x447737(0x339)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x447737(0x995)+_0x5d0f01['id']+_0x447737(0x79e)+(_0x5d0f01[_0x447737(0x339)]||_0x447737(0x8bc))+_0x447737(0x2f5)+(_0x5d0f01[_0x447737(0xb4f)]?.['length']||0x0)+_0x447737(0x507)+_0x5d0f01['projectName']+_0x447737(0xc0b)+_0x5d0f01['id']+_0x447737(0x77e)+_0x3d72d4+_0x447737(0x435);})[_0x177125(0x61f)](''):_0x177125(0x417),!_0x4bc86a&&(_0x2c2e45[_0x177125(0x4a1)](_0x177125(0x729))[_0x177125(0x519)](_0x576b5e=>{const _0x5d89e1=_0x177125;_0x576b5e[_0x5d89e1(0x4f9)](_0x5d89e1(0x2ea),()=>{const _0x1d9c8f=_0x5d89e1,_0x3d5372=_0x576b5e['dataset']['id'];document['getElementById'](_0x1d9c8f(0xb71))[_0x1d9c8f(0x542)]['add'](_0x1d9c8f(0x49a)),showQuizDetailView(_0x3d5372);});}),_0x2c2e45[_0x177125(0x4a1)]('.quiz-bank-try-btn')['forEach'](_0x480260=>{const _0x2a0376=_0x177125;_0x480260[_0x2a0376(0x4f9)]('click',_0x308b84=>{const _0x4d69a4=_0x2a0376;_0x308b84[_0x4d69a4(0x371)]();const _0x2a5363=_0x480260[_0x4d69a4(0x483)]['id'],_0x483a36=allQuizzesGlobal[_0x4d69a4(0x301)](_0x423c20=>_0x423c20['id']===_0x2a5363);_0x483a36?(currentQuizData=_0x483a36,document[_0x4d69a4(0x3a8)]('quiz-bank-modal')[_0x4d69a4(0x542)]['add'](_0x4d69a4(0x49a)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2c2e45[_0x177125(0x4a1)](_0x177125(0x885))[_0x177125(0x519)](_0x1e6e81=>{const _0x533ed9=_0x177125;_0x1e6e81[_0x533ed9(0x4f9)](_0x533ed9(0x2ea),_0x11eba4=>{const _0x585f45=_0x533ed9;_0x11eba4[_0x585f45(0x371)]();const _0x1d7d6a=_0x1e6e81['dataset']['id'],_0x46bc03=allQuizzesGlobal[_0x585f45(0x301)](_0x431cf4=>_0x431cf4['id']===_0x1d7d6a);_0x46bc03?(document['getElementById'](_0x585f45(0xb71))['classList'][_0x585f45(0x33b)](_0x585f45(0x49a)),handleGenerateParallelFromBank(_0x46bc03)):showMessage(_0x585f45(0x804));});}),_0x2c2e45[_0x177125(0x4a1)](_0x177125(0x814))[_0x177125(0x519)](_0x136f91=>{const _0x4694d6=_0x177125;_0x136f91[_0x4694d6(0x4f9)](_0x4694d6(0x2ea),_0x454a7c=>{const _0x4b393c=_0x4694d6;_0x454a7c[_0x4b393c(0x371)]();const _0x11e34c=_0x136f91[_0x4b393c(0x483)]['id'],_0x3e2907=allQuizzesGlobal[_0x4b393c(0x301)](_0x206ef9=>_0x206ef9['id']===_0x11e34c);_0x3e2907?(document[_0x4b393c(0x3a8)](_0x4b393c(0xb71))['classList'][_0x4b393c(0x33b)](_0x4b393c(0x49a)),startPresentation(_0x3e2907)):showMessage(_0x4b393c(0x804));});}),_0x2c2e45[_0x177125(0x4a1)](_0x177125(0x34f))['forEach'](_0x53e876=>{const _0x1b47dd=_0x177125;_0x53e876[_0x1b47dd(0x4f9)](_0x1b47dd(0x2ea),_0x118724=>{const _0x3f9ab5=_0x1b47dd;_0x118724[_0x3f9ab5(0x371)]();const _0xe8dab9=_0x53e876['dataset']['id'];document[_0x3f9ab5(0x3a8)](_0x3f9ab5(0xb71))[_0x3f9ab5(0x542)]['add'](_0x3f9ab5(0x49a)),handleMoveQuiz(_0xe8dab9);});}),_0x2c2e45['querySelectorAll'](_0x177125(0x754))[_0x177125(0x519)](_0x4fdb9d=>{const _0x5e91b5=_0x177125;_0x4fdb9d[_0x5e91b5(0x4f9)](_0x5e91b5(0x2ea),_0x30dd53=>{const _0x2b7e5e=_0x5e91b5;_0x30dd53[_0x2b7e5e(0x371)]();const _0x324997=_0x4fdb9d[_0x2b7e5e(0x483)]['id'];document['getElementById'](_0x2b7e5e(0xb71))[_0x2b7e5e(0x542)][_0x2b7e5e(0x33b)](_0x2b7e5e(0x49a)),handleQuizSettings(_0x324997);});}),_0x2c2e45[_0x177125(0x4a1)](_0x177125(0xbb4))['forEach'](_0x1799d8=>{_0x1799d8['addEventListener']('click',_0x4b1347=>{const _0x4c4d27=_0x4026;_0x4b1347[_0x4c4d27(0x371)]();const _0x27d76a=_0x1799d8['dataset']['id'],_0x3fd0cf=_0x1799d8['dataset']['topic'];showConfirmation(_0x4c4d27(0x5fc)+_0x3fd0cf+_0x4c4d27(0x280),()=>handleDeleteQuiz(_0x27d76a));});}));}async function handleCompareResults(_0x174b80,_0x5ab87d){const _0x3a81d9=_0x358d67,_0x318009=document[_0x3a81d9(0x3a8)](_0x3a81d9(0xb7d)),_0x232f14=document['getElementById'](_0x3a81d9(0x244)),_0xc0b9a8=document[_0x3a81d9(0x3a8)](_0x3a81d9(0x88a));document[_0x3a81d9(0x3a8)](_0x3a81d9(0x90d))[_0x3a81d9(0x542)]['add'](_0x3a81d9(0x34a)),document[_0x3a81d9(0x3a8)](_0x3a81d9(0xa44))[_0x3a81d9(0x542)][_0x3a81d9(0x9d0)](_0x3a81d9(0x34a)),_0x232f14['classList'][_0x3a81d9(0x9d0)](_0x3a81d9(0x49a)),_0xc0b9a8['classList'][_0x3a81d9(0x33b)](_0x3a81d9(0x49a)),_0x232f14[_0x3a81d9(0x888)]=_0x3a81d9(0x35e),_0xc0b9a8[_0x3a81d9(0x888)]='',_0x318009[_0x3a81d9(0x542)][_0x3a81d9(0x9d0)](_0x3a81d9(0x49a));try{const _0x138ec4=doc(db,_0x3a81d9(0x714)+appId+_0x3a81d9(0x4b7),_0x174b80),_0x1454c5=await getDoc(_0x138ec4);if(!_0x1454c5[_0x3a81d9(0x40f)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x28766b=_0x1454c5['data'](),_0x588f8b=_0x28766b[_0x3a81d9(0xb4f)][_0x3a81d9(0x6b0)],_0x278894=collection(db,_0x3a81d9(0x714)+appId+'/public/data/quizzes/'+_0x5ab87d+_0x3a81d9(0x2c6)),_0x339507=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x174b80+_0x3a81d9(0x2c6)),[_0x4793ad,_0x18ccf9]=await Promise['all']([getDocs(_0x278894),getDocs(_0x339507)]),_0x2271b4=_0x4793ad[_0x3a81d9(0x901)][_0x3a81d9(0x8ca)](_0x428e64=>_0x428e64[_0x3a81d9(0x49d)]()),_0x1ee1d9=_0x18ccf9[_0x3a81d9(0x901)][_0x3a81d9(0x8ca)](_0x39ee79=>_0x39ee79[_0x3a81d9(0x49d)]()),_0x25dd98=_0x2271b4[_0x3a81d9(0x8ca)](_0xb4ccbd=>_0xb4ccbd['latestScore']),_0x29049b=_0x1ee1d9['map'](_0xf112ac=>_0xf112ac[_0x3a81d9(0x421)]),_0x5d1360=calculateMeanAndStdDev(_0x25dd98),_0x10b673=calculateMeanAndStdDev(_0x29049b),_0x1c3e20=_0x5d1360['mean'],_0x27cae0=_0x10b673['mean'],_0x547a64=_0x27cae0-_0x1c3e20;let _0x2ded9f=_0x3a81d9(0x620)+_0x1c3e20[_0x3a81d9(0xbc3)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x27cae0[_0x3a81d9(0xbc3)](0x2)+_0x3a81d9(0xbb0)+(_0x547a64>=0x0?'bg-emerald-100':_0x3a81d9(0x4ef))+_0x3a81d9(0x85b)+(_0x547a64>=0x0?_0x3a81d9(0xbef):_0x3a81d9(0x6b9))+_0x3a81d9(0x6d8)+(_0x547a64>=0x0?_0x3a81d9(0x686):_0x3a81d9(0x7cb))+'\x22>'+(_0x547a64>=0x0?'+':'')+_0x547a64[_0x3a81d9(0xbc3)](0x2)+_0x3a81d9(0x28c);_0x232f14[_0x3a81d9(0x888)]=_0x2ded9f;const _0x312b5a=document[_0x3a81d9(0x3a8)](_0x3a81d9(0x8af))[_0x3a81d9(0x1c8)]('2d');if(chartInstances[_0x3a81d9(0x1f8)])chartInstances['comparison'][_0x3a81d9(0x6db)]();chartInstances[_0x3a81d9(0x1f8)]=new Chart(_0x312b5a,{'type':_0x3a81d9(0xad6),'data':{'labels':[_0x3a81d9(0x761)],'datasets':[{'label':_0x3a81d9(0x824),'data':[_0x1c3e20],'backgroundColor':_0x3a81d9(0x3f5)},{'label':_0x3a81d9(0x528),'data':[_0x27cae0],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x588f8b}}}});const _0x45bc9d=currentProjectData[_0x3a81d9(0xaf3)]||[],_0x3fa31c=_0x45bc9d[_0x3a81d9(0x8ca)](_0x5f1b94=>{const _0x491705=_0x3a81d9,_0x1790ba=_0x2271b4[_0x491705(0x301)](_0x113cdd=>_0x113cdd[_0x491705(0xa0b)]===_0x5f1b94),_0x52fdc2=_0x1ee1d9[_0x491705(0x301)](_0x194b7f=>_0x194b7f[_0x491705(0xa0b)]===_0x5f1b94),_0x59d6fe=_0x1790ba?_0x1790ba[_0x491705(0x421)]:null,_0x19460a=_0x52fdc2?_0x52fdc2[_0x491705(0x421)]:null,_0x58247e=_0x59d6fe!==null&&_0x19460a!==null?_0x19460a-_0x59d6fe:null,_0x46f025=_0x59d6fe!==null?calculateZScore(_0x59d6fe,_0x5d1360[_0x491705(0x3b3)],_0x5d1360[_0x491705(0x878)]):null,_0x30b204=_0x19460a!==null?calculateZScore(_0x19460a,_0x10b673[_0x491705(0x3b3)],_0x10b673[_0x491705(0x878)]):null,_0x1c440b=_0x46f025!==null?calculateTScore(_0x46f025):null,_0x423670=_0x30b204!==null?calculateTScore(_0x30b204):null,_0x57483b=_0x1c440b!==null&&_0x423670!==null?_0x423670-_0x1c440b:null;return{'name':_0x5f1b94,'preScore':_0x59d6fe,'postScore':_0x19460a,'gain':_0x58247e,'preTScore':_0x1c440b,'postTScore':_0x423670,'tGain':_0x57483b};});renderIndividualComparisonTable(_0x3fa31c,_0xc0b9a8);}catch(_0x5f4764){console[_0x3a81d9(0x77b)]('Error\x20comparing\x20results:',_0x5f4764),_0x232f14[_0x3a81d9(0x888)]=_0x3a81d9(0x26d);}}async function saveBlueprintProject(){const _0x29a5b9=_0x358d67;if(!extractedBlueprintData||!extractedBlueprintData[_0x29a5b9(0x4c1)]){showMessage(_0x29a5b9(0xa8d));return;}const _0x262e7f=prompt(_0x29a5b9(0x4fb),_0x29a5b9(0xaa5));if(!_0x262e7f||_0x262e7f['trim']()==='')return;const _0x2e6349={};extractedBlueprintData[_0x29a5b9(0x4c1)][_0x29a5b9(0x519)](_0x3ed6d2=>{const _0x4b3403=_0x29a5b9;_0x3ed6d2[_0x4b3403(0x9bd)][_0x4b3403(0x519)](_0x327705=>{const _0xdc5e1=_0x4b3403;_0x327705['subTopics'][_0xdc5e1(0x519)](_0x3e11e7=>{const _0x851a32=_0xdc5e1,_0x582e4f=_0x851a32(0x388)+Date[_0x851a32(0x2ab)]()+Math[_0x851a32(0x190)]()['toString'](0x24)[_0x851a32(0x268)](0x2,0x9);_0x2e6349[_0x582e4f]={'sara':_0x3ed6d2[_0x851a32(0x6bd)],'mainTopic':_0x327705[_0x851a32(0xc04)],'subTopic':_0x3e11e7,'status':_0x851a32(0x726),'lessonContent':null};});});});try{const _0x1899ee=collection(db,_0x29a5b9(0x714)+appId+'/public/data/blueprintProjects');await addDoc(_0x1899ee,{'projectName':_0x262e7f[_0x29a5b9(0x7a5)](),'gradeLevel':extractedBlueprintData[_0x29a5b9(0x243)],'topics':_0x2e6349,'createdAt':serverTimestamp()}),showMessage(_0x29a5b9(0x8f1)+_0x262e7f[_0x29a5b9(0x7a5)]()+'\x22\x20สำเร็จ!'),document[_0x29a5b9(0x3a8)](_0x29a5b9(0x342))['classList'][_0x29a5b9(0x33b)]('hidden');}catch(_0x369930){console[_0x29a5b9(0x77b)](_0x29a5b9(0xc10),_0x369930),showMessage(_0x29a5b9(0xa76));}}async function showBlueprintProjects(){const _0x155641=_0x358d67,_0x3d5c94=document[_0x155641(0x3a8)](_0x155641(0x9c9)),_0x76bcf9=document[_0x155641(0x3a8)]('blueprint-project-list');_0x76bcf9[_0x155641(0x888)]=_0x155641(0x7e5),_0x3d5c94[_0x155641(0x542)][_0x155641(0x9d0)](_0x155641(0x49a));try{const _0x232dae=collection(db,_0x155641(0x714)+appId+'/public/data/blueprintProjects'),_0x570b53=await getDocs(_0x232dae);if(_0x570b53['empty']){_0x76bcf9['innerHTML']=_0x155641(0x692);return;}const _0x1fc1d1=_0x570b53[_0x155641(0x901)][_0x155641(0x8ca)](_0x26def6=>({'id':_0x26def6['id'],..._0x26def6['data']()}));_0x1fc1d1[_0x155641(0x843)]((_0x32c041,_0x52fae3)=>_0x32c041[_0x155641(0x426)][_0x155641(0x364)](_0x52fae3[_0x155641(0x426)],'th')),_0x76bcf9['innerHTML']=_0x1fc1d1[_0x155641(0x8ca)](_0x450ae7=>_0x155641(0x4c9)+_0x450ae7[_0x155641(0x426)]+_0x155641(0xa20)+_0x450ae7[_0x155641(0x243)]+_0x155641(0x6ec)+Object['keys'](_0x450ae7[_0x155641(0x3ca)])[_0x155641(0x6b0)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x450ae7['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x450ae7['id']+_0x155641(0x819))['join']('');}catch(_0x1714d8){console[_0x155641(0x77b)](_0x155641(0x253),_0x1714d8),_0x76bcf9[_0x155641(0x888)]=_0x155641(0x5fb);}}async function displayBlueprintProjectManager(_0x14411b){const _0x5f3c06=_0x358d67;currentBlueprintProjectId=_0x14411b,document[_0x5f3c06(0x3a8)](_0x5f3c06(0x9c9))['classList']['add'](_0x5f3c06(0x49a)),showView('admin-dashboard'),projectDashboardView['classList'][_0x5f3c06(0x33b)](_0x5f3c06(0x49a));const _0x21d5d5=document[_0x5f3c06(0x3a8)](_0x5f3c06(0x186));_0x21d5d5[_0x5f3c06(0x542)][_0x5f3c06(0x9d0)](_0x5f3c06(0x49a)),document['getElementById'](_0x5f3c06(0xb05))[_0x5f3c06(0x888)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x1eb2f5=doc(db,_0x5f3c06(0x714)+appId+_0x5f3c06(0x869),_0x14411b),_0x38ceca=await getDoc(_0x1eb2f5);if(!_0x38ceca[_0x5f3c06(0x40f)]())throw new Error(_0x5f3c06(0x500));const _0x44a559={'id':_0x38ceca['id'],..._0x38ceca[_0x5f3c06(0x49d)]()};document[_0x5f3c06(0x3a8)](_0x5f3c06(0xa4f))[_0x5f3c06(0x20d)]=_0x44a559[_0x5f3c06(0x426)],renderBlueprintTopicManager(_0x44a559);}catch(_0x67fd84){console[_0x5f3c06(0x77b)](_0x5f3c06(0x99d),_0x67fd84),showMessage(_0x67fd84[_0x5f3c06(0x5dd)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x1afb29){const _0xed8192=_0x358d67,_0x1e5a23=document['getElementById'](_0xed8192(0xb05)),_0x1dcd54=_0x1afb29['topics']||{};if(Object[_0xed8192(0x57a)](_0x1dcd54)[_0xed8192(0x6b0)]===0x0){_0x1e5a23[_0xed8192(0x888)]=_0xed8192(0x5d8);return;}const _0x2ebd61={};for(const _0x104674 in _0x1dcd54){const _0x2b26c1={'id':_0x104674,..._0x1dcd54[_0x104674]};_0x2ebd61[_0x2b26c1[_0xed8192(0x6bd)]]=_0x2ebd61[_0x2b26c1[_0xed8192(0x6bd)]]||{},_0x2ebd61[_0x2b26c1[_0xed8192(0x6bd)]][_0x2b26c1[_0xed8192(0xac2)]]=_0x2ebd61[_0x2b26c1['sara']][_0x2b26c1['mainTopic']]||[],_0x2ebd61[_0x2b26c1[_0xed8192(0x6bd)]][_0x2b26c1[_0xed8192(0xac2)]][_0xed8192(0x78d)](_0x2b26c1);}let _0x17b158='';const _0x2e0805=Object[_0xed8192(0x57a)](_0x2ebd61)[_0xed8192(0x843)]((_0x3775fa,_0x25fbd4)=>_0x3775fa['localeCompare'](_0x25fbd4,'th'));for(const _0x49a47f of _0x2e0805){_0x17b158+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x49a47f+_0xed8192(0x8c8);const _0x444b92=Object[_0xed8192(0x57a)](_0x2ebd61[_0x49a47f])[_0xed8192(0x843)]((_0x39b366,_0xd21a67)=>_0x39b366['localeCompare'](_0xd21a67,'th'));for(const _0x166235 of _0x444b92){_0x17b158+=_0xed8192(0x23e)+_0x166235+_0xed8192(0x5cd),_0x2ebd61[_0x49a47f][_0x166235][_0xed8192(0x843)]((_0x3e84f3,_0x2adc6b)=>_0x3e84f3[_0xed8192(0x570)][_0xed8192(0x364)](_0x2adc6b[_0xed8192(0x570)],'th')),_0x2ebd61[_0x49a47f][_0x166235][_0xed8192(0x519)](_0x889069=>{const _0x48e8ec=_0xed8192,_0x1a7e48=_0x889069['id'],_0xc9c28d=_0x889069[_0x48e8ec(0x7be)]||[],_0x275bb6=_0xc9c28d[_0x48e8ec(0x6b0)]>0x0,_0x17b04e=_0x889069[_0x48e8ec(0xa89)]===_0x48e8ec(0x925);let _0x414857='';_0x275bb6?_0x414857=_0x48e8ec(0x52d)+_0xc9c28d['length']+'\x20ชุด)</span>':_0x414857=_0x48e8ec(0x3fc)+(_0x17b04e?'bg-green-200\x20text-green-800':'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x17b04e?_0x48e8ec(0x1c7):_0x48e8ec(0xaba))+'</span>';const _0x34154e=!_0x17b04e?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x56194d=!_0x17b04e?'กรุณาสร้างบทเรียนก่อน':'';let _0x394ed4=_0x17b04e?_0x48e8ec(0xae2):_0x48e8ec(0x402);_0x17b158+=_0x48e8ec(0x288)+_0x1a7e48+_0x48e8ec(0x7c0)+_0x889069[_0x48e8ec(0x570)]+_0x48e8ec(0x935)+_0x414857+_0x48e8ec(0x7c7)+_0x34154e+_0x48e8ec(0x4f6)+_0x56194d+_0x48e8ec(0xc16)+_0x394ed4+_0x48e8ec(0x967);}),_0x17b158+='</div></div>';}_0x17b158+=_0xed8192(0x738);}_0x1e5a23[_0xed8192(0x888)]=_0x17b158;}async function openTopicQuizBank(_0x1b1ade){const _0x50934a=_0x358d67,_0x17fabd=document[_0x50934a(0x3a8)](_0x50934a(0xbae)),_0x128ab4=document['getElementById'](_0x50934a(0x978)),_0x476ec5=document[_0x50934a(0x3a8)](_0x50934a(0x407));try{await ensureGlobalQuizzesLoaded();const _0x1739fc=doc(db,_0x50934a(0x714)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x14cf83=await getDoc(_0x1739fc);if(!_0x14cf83[_0x50934a(0x40f)]())return;const _0xa9d31f=_0x14cf83[_0x50934a(0x49d)](),_0x8e5934=_0xa9d31f['topics'][_0x1b1ade];document[_0x50934a(0x3a8)]('topic-bank-subtopic-name')[_0x50934a(0x20d)]=_0x8e5934['subTopic'];const _0x5c7c15=_0x8e5934['linkedQuizIds']||[];_0x476ec5[_0x50934a(0x542)][_0x50934a(0x50e)](_0x50934a(0x49a),_0x5c7c15[_0x50934a(0x6b0)]===0x0),_0x476ec5[_0x50934a(0x84c)]=()=>handleClearAllLinksForTopic(_0x1b1ade);if(_0x5c7c15['length']===0x0)_0x128ab4['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x4ea5e2=allQuizzesGlobal['filter'](_0xfbd9e2=>_0x5c7c15['includes'](_0xfbd9e2['id']));_0x128ab4[_0x50934a(0x888)]=_0x4ea5e2[_0x50934a(0x8ca)](_0x552485=>_0x50934a(0xa7a)+_0x552485['id']+_0x50934a(0x9d1)+_0x552485['topic']+_0x50934a(0x730)+_0x552485['id']+_0x50934a(0x6ec)+_0x552485['questions'][_0x50934a(0x6b0)]+_0x50934a(0x9cb)+_0x552485['id']+_0x50934a(0x1d9)+_0x552485['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x552485['id']+_0x50934a(0xb9d)+_0x552485['id']+_0x50934a(0x4ec)+_0x552485['id']+_0x50934a(0x6c3)+_0x552485['id']+_0x50934a(0x93b)+_0x1b1ade+'\x22\x20data-quiz-id=\x22'+_0x552485['id']+_0x50934a(0x469))[_0x50934a(0x61f)]('');}document[_0x50934a(0x3a8)](_0x50934a(0x719))[_0x50934a(0x84c)]=()=>{openQuizSelectorForBlueprint(_0x1b1ade);},document[_0x50934a(0x3a8)](_0x50934a(0x477))[_0x50934a(0x84c)]=()=>_0x17fabd[_0x50934a(0x542)]['add'](_0x50934a(0x49a)),_0x17fabd[_0x50934a(0x542)][_0x50934a(0x9d0)](_0x50934a(0x49a));}catch(_0x1a7a1e){showMessage(_0x1a7a1e['message']);}}async function openQuizSelectorForBlueprint(_0x2089af){const _0x413370=_0x358d67,_0x16a675=document[_0x413370(0x3a8)](_0x413370(0xb71)),_0x3a370c=document[_0x413370(0x3a8)]('topic-quiz-bank-modal');_0x3a370c[_0x413370(0x542)][_0x413370(0x33b)]('hidden'),document[_0x413370(0x3a8)](_0x413370(0x84f))?.[_0x413370(0x9d0)]();const _0x41e81=document['createElement'](_0x413370(0xa71));_0x41e81['id']=_0x413370(0x84f),_0x41e81[_0x413370(0x9a2)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x41e81[_0x413370(0x20d)]=_0x413370(0x85a),_0x41e81[_0x413370(0x709)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x16a675['classList'][_0x413370(0x9d0)](_0x413370(0x49a)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x413370(0x563))[_0x413370(0x43c)]['display']=_0x413370(0x60e),_0x16a675[_0x413370(0x3a0)]('.flex.justify-between.items-center')[_0x413370(0x7a8)](_0x41e81);const _0x480a44=(_0x6db0d1=![])=>{const _0x136033=_0x413370;_0x16a675[_0x136033(0x542)][_0x136033(0x33b)](_0x136033(0x49a)),document[_0x136033(0x3a8)](_0x136033(0x563))[_0x136033(0x43c)][_0x136033(0x2cb)]='flex',_0x41e81[_0x136033(0x9d0)](),_0x6db0d1&&openTopicQuizBank(_0x2089af);};_0x41e81[_0x413370(0x84c)]=async()=>{const _0x38d89a=_0x413370,_0x1df517=Array[_0x38d89a(0x367)](document[_0x38d89a(0x4a1)](_0x38d89a(0x250)))[_0x38d89a(0x8ca)](_0x4570d5=>_0x4570d5[_0x38d89a(0xac6)]);if(_0x1df517[_0x38d89a(0x6b0)]===0x0)return;try{const _0x40435e=doc(db,'artifacts/'+appId+_0x38d89a(0x869),currentBlueprintProjectId),_0x9b89e7=(await getDoc(_0x40435e))[_0x38d89a(0x49d)](),_0x4f57e4=_0x9b89e7[_0x38d89a(0x3ca)][_0x2089af][_0x38d89a(0x7be)]||[],_0x1f35d5=[...new Set([..._0x4f57e4,..._0x1df517])];await updateDoc(_0x40435e,{[_0x38d89a(0x80b)+_0x2089af+'.linkedQuizIds']:_0x1f35d5}),showMessage(_0x38d89a(0x191)+_0x1df517[_0x38d89a(0x6b0)]+_0x38d89a(0xab3)),_0x480a44(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x57799f){console['error']('Error\x20linking\x20quizzes:',_0x57799f);}},document[_0x413370(0x3a8)]('cancel-quiz-bank-btn')[_0x413370(0x84c)]=()=>_0x480a44(!![]);}catch(_0x4d84fa){showMessage(_0x4d84fa[_0x413370(0x5dd)]),_0x3a370c[_0x413370(0x542)][_0x413370(0x9d0)](_0x413370(0x49a));}}function handleClearLinkedQuiz(_0x1da455){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x1bcbff=_0x4026;try{const _0x1f303b=doc(db,_0x1bcbff(0x714)+appId+_0x1bcbff(0x869),currentBlueprintProjectId);await updateDoc(_0x1f303b,{[_0x1bcbff(0x80b)+_0x1da455+_0x1bcbff(0x630)]:deleteField()}),showMessage(_0x1bcbff(0x2e9)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3587e5){console['error'](_0x1bcbff(0x30e),_0x3587e5),showMessage(_0x1bcbff(0x836));}});}async function addTopicToProject(){const _0x563ebe=_0x358d67,_0x396861=prompt(_0x563ebe(0x20f));if(!_0x396861||_0x396861[_0x563ebe(0x7a5)]()==='')return;const _0x3ed8ed=prompt(_0x563ebe(0xb07),_0x563ebe(0x641)),_0x41c929=prompt(_0x563ebe(0x1f7),_0x563ebe(0x902)),_0x3ca97e=_0x563ebe(0x388)+Date[_0x563ebe(0x2ab)]()+Math['random']()[_0x563ebe(0x7a2)](0x24)[_0x563ebe(0x268)](0x2,0x9),_0x87a8c3={'sara':_0x3ed8ed,'mainTopic':_0x41c929,'subTopic':_0x396861['trim'](),'status':'not_generated','lessonContent':null};try{const _0x5e7b18=doc(db,_0x563ebe(0x714)+appId+_0x563ebe(0x869),currentBlueprintProjectId);await updateDoc(_0x5e7b18,{[_0x563ebe(0x80b)+_0x3ca97e]:_0x87a8c3}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5e2fc4){console[_0x563ebe(0x77b)]('Error\x20adding\x20topic:',_0x5e2fc4),showMessage(_0x563ebe(0xb54));}}async function editTopicInProject(_0x5e045c){const _0x50d6b6=_0x358d67,_0x227d7c=document[_0x50d6b6(0x3a0)]('[data-topic-id=\x22'+_0x5e045c+'\x22]'),_0x1998da=_0x227d7c[_0x50d6b6(0x3a0)](_0x50d6b6(0xa7f)),_0x16477d=_0x1998da[_0x50d6b6(0x20d)],_0x17ca95=prompt(_0x50d6b6(0x8b6),_0x16477d);if(!_0x17ca95||_0x17ca95['trim']()===''||_0x17ca95['trim']()===_0x16477d)return;try{const _0xf9478a=doc(db,_0x50d6b6(0x714)+appId+_0x50d6b6(0x869),currentBlueprintProjectId);await updateDoc(_0xf9478a,{[_0x50d6b6(0x80b)+_0x5e045c+_0x50d6b6(0x525)]:_0x17ca95[_0x50d6b6(0x7a5)]()}),_0x1998da[_0x50d6b6(0x20d)]=_0x17ca95[_0x50d6b6(0x7a5)](),showMessage(_0x50d6b6(0x906));}catch(_0x3a8b9a){console['error'](_0x50d6b6(0x99c),_0x3a8b9a),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x45c0e7){const _0x5410b4=_0x358d67;if(!confirm(_0x5410b4(0x8ad)))return;try{const _0x406967=doc(db,_0x5410b4(0x714)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x406967,{[_0x5410b4(0x80b)+_0x45c0e7]:deleteField()}),document[_0x5410b4(0x3a0)]('[data-topic-id=\x22'+_0x45c0e7+'\x22]')[_0x5410b4(0x9d0)](),showMessage(_0x5410b4(0x478));}catch(_0x1c2cbd){console[_0x5410b4(0x77b)](_0x5410b4(0x707),_0x1c2cbd),showMessage(_0x5410b4(0x2a9));}}async function generateAndSaveLessonForBlueprint(_0x5e3f46,_0x318e9e,_0x434cda){handleGenerateAndShowLesson(_0x318e9e,_0x434cda);const _0x5d2094=setInterval(async()=>{const _0x287bec=_0x4026,_0x1906e0=document[_0x287bec(0x3a8)](_0x287bec(0xa5c)),_0x1acb66=_0x1906e0[_0x287bec(0x542)][_0x287bec(0x6e5)]('hidden');if(_0x1acb66){clearInterval(_0x5d2094);if(currentApplicationData&&currentApplicationData[_0x287bec(0x6b0)]>0x0){const _0x73e4ed={'point':document['getElementById'](_0x287bec(0x690))[_0x287bec(0x888)],'memory':document[_0x287bec(0x3a8)](_0x287bec(0x974))[_0x287bec(0x888)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x287bec(0x3a8)](_0x287bec(0x664))[_0x287bec(0x888)]};try{const _0x21b98f=doc(db,_0x287bec(0x714)+appId+_0x287bec(0x869),currentBlueprintProjectId);await updateDoc(_0x21b98f,{['topics.'+_0x5e3f46+_0x287bec(0x3ed)]:_0x73e4ed,[_0x287bec(0x80b)+_0x5e3f46+'.status']:_0x287bec(0x925)}),console[_0x287bec(0x498)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x5e3f46+_0x287bec(0x547)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2be179){console['error'](_0x287bec(0x9d3),_0x2be179);}}}},0x3e8);}function displayHalfMarkResult(_0x145565,_0x49e2ed){const _0x5c1709=_0x358d67,_0x4c5ff3=_0x145565>=_0x49e2ed/0x2,_0x58f375=_0x4c5ff3?_0x5c1709(0x487):_0x5c1709(0x4ef),_0xc5a8e9=_0x4c5ff3?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x5c1709(0x9bf),_0x56fe39=_0x4c5ff3?_0x5c1709(0x4e7):'text-red-800',_0x28cb09=_0x4c5ff3?'ทำคะแนนได้เกินครึ่ง':_0x5c1709(0xb5a),_0x2b2ac3=_0x4c5ff3?_0x5c1709(0x7d3):_0x5c1709(0xb63);let _0x3076ed=_0x5c1709(0x38a)+_0x58f375+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc5a8e9+_0x5c1709(0xb35)+_0x56fe39+'\x20mb-2\x22>'+_0x28cb09+_0x5c1709(0x257)+_0x2b2ac3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x3076ed,studentResultArea[_0x5c1709(0x542)]['remove']('hidden'),studentQuizArea[_0x5c1709(0x542)][_0x5c1709(0x33b)](_0x5c1709(0x49a)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x4c5ff3});}function displayPerfectScoreResult(_0x1ff7e7,_0x235b1b){const _0x58f9e7=_0x358d67,_0x2614df=_0x1ff7e7===_0x235b1b,_0x46d5ad=_0x2614df?_0x58f9e7(0x7dd):_0x58f9e7(0x1a9),_0x2d6b48=_0x2614df?_0x58f9e7(0x320):_0x58f9e7(0xae4),_0x8f6ace=_0x2614df?_0x58f9e7(0x4b2):_0x58f9e7(0xb82),_0x87ff73=_0x2614df?_0x58f9e7(0x2bf):_0x58f9e7(0x8f4),_0x3a1b95=_0x2614df?_0x58f9e7(0x8e2):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x34f290='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x46d5ad+_0x58f9e7(0x219)+_0x2d6b48+_0x58f9e7(0xb35)+_0x8f6ace+_0x58f9e7(0x4a3)+_0x87ff73+_0x58f9e7(0x257)+_0x3a1b95+_0x58f9e7(0x942);studentResultArea[_0x58f9e7(0x888)]=_0x34f290,studentResultArea[_0x58f9e7(0x542)][_0x58f9e7(0x9d0)](_0x58f9e7(0x49a)),studentQuizArea[_0x58f9e7(0x542)][_0x58f9e7(0x33b)](_0x58f9e7(0x49a)),setupResultScreenBackButton({'showRankings':![],'score':_0x1ff7e7,'totalQuestions':_0x235b1b});}function renderIndividualComparisonTable(_0x38c977,_0x59fe7f){const _0x45e571=_0x358d67;_0x38c977['sort']((_0x401fc9,_0x447e27)=>(_0x447e27['tGain']??-Infinity)-(_0x401fc9[_0x45e571(0x1ba)]??-Infinity));let _0x23a8ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x38c977[_0x45e571(0x6b0)]===0x0?_0x23a8ab+=_0x45e571(0x9a1):_0x38c977['forEach']((_0x3ae1e3,_0x7b464)=>{const _0x43ed24=_0x45e571;let _0x4222ec='-',_0x54ab0d='';if(_0x3ae1e3[_0x43ed24(0xb31)]!==null){const _0x4a402e=_0x3ae1e3['gain']>0x0?_0x43ed24(0x503):_0x3ae1e3[_0x43ed24(0xb31)]<0x0?_0x43ed24(0x4cb):_0x43ed24(0x7e0),_0x393159=_0x3ae1e3[_0x43ed24(0xb31)]>0x0?'+':'';_0x4222ec=_0x43ed24(0x254)+_0x4a402e+'\x22>'+_0x393159+_0x3ae1e3['gain']+_0x43ed24(0x1dd);if(_0x3ae1e3[_0x43ed24(0xb31)]>0x0)_0x54ab0d='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x3ae1e3[_0x43ed24(0xb31)]<0x0?_0x54ab0d='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x54ab0d='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x12a67c='-';if(_0x3ae1e3[_0x43ed24(0x1ba)]!==null){const _0x319544=_0x3ae1e3[_0x43ed24(0x1ba)]>0x0?'text-green-600':_0x3ae1e3[_0x43ed24(0x1ba)]<0x0?_0x43ed24(0x4cb):_0x43ed24(0x7e0),_0x531152=_0x3ae1e3['tGain']>0x0?'+':'';_0x12a67c=_0x43ed24(0x254)+_0x319544+'\x22>'+_0x531152+_0x3ae1e3[_0x43ed24(0x1ba)][_0x43ed24(0xbc3)](0x2)+_0x43ed24(0x1dd);}_0x23a8ab+=_0x43ed24(0x2a6)+(_0x7b464+0x1)+_0x43ed24(0x6f9)+_0x3ae1e3[_0x43ed24(0xbc7)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x3ae1e3[_0x43ed24(0xa45)]??'-')+_0x43ed24(0xb22)+(_0x3ae1e3[_0x43ed24(0x72e)]??'-')+_0x43ed24(0x341)+_0x4222ec+_0x43ed24(0x88e)+_0x54ab0d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x3ae1e3['preTScore']?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x3ae1e3['postTScore']?.[_0x43ed24(0xbc3)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x12a67c+_0x43ed24(0x7fe);}),_0x23a8ab+=_0x45e571(0xc0d),_0x59fe7f[_0x45e571(0x888)]=_0x23a8ab;}function handleRenameQuiz(_0x427677,_0x45892d){const _0x1f7047=_0x358d67;actionTargetId=_0x427677,document['getElementById']('rename-quiz-input')[_0x1f7047(0xac6)]=_0x45892d,renameQuizModal[_0x1f7047(0x542)][_0x1f7047(0x9d0)](_0x1f7047(0x49a));}function setupComparisonModalTabs(){const _0x365523=_0x358d67,_0x357cb3=document[_0x365523(0x3a8)](_0x365523(0x90d)),_0x4cf0b0=document['getElementById'](_0x365523(0xa44)),_0x6378ed=document['getElementById'](_0x365523(0x244)),_0x28d329=document[_0x365523(0x3a8)](_0x365523(0x88a));_0x357cb3[_0x365523(0x4f9)](_0x365523(0x2ea),()=>{const _0x16e6c4=_0x365523;_0x357cb3[_0x16e6c4(0x542)][_0x16e6c4(0x33b)](_0x16e6c4(0x34a)),_0x4cf0b0[_0x16e6c4(0x542)][_0x16e6c4(0x9d0)](_0x16e6c4(0x34a)),_0x6378ed[_0x16e6c4(0x542)][_0x16e6c4(0x9d0)]('hidden'),_0x28d329[_0x16e6c4(0x542)][_0x16e6c4(0x33b)]('hidden');}),_0x4cf0b0[_0x365523(0x4f9)](_0x365523(0x2ea),()=>{const _0x3e0fcd=_0x365523;_0x4cf0b0[_0x3e0fcd(0x542)]['add'](_0x3e0fcd(0x34a)),_0x357cb3[_0x3e0fcd(0x542)]['remove'](_0x3e0fcd(0x34a)),_0x28d329['classList'][_0x3e0fcd(0x9d0)](_0x3e0fcd(0x49a)),_0x6378ed[_0x3e0fcd(0x542)]['add'](_0x3e0fcd(0x49a));});}setupComparisonModalTabs();function renderGlobalQuizList(_0xbc8fca=''){const _0x242f17=_0x358d67,_0xb9e112=document['getElementById'](_0x242f17(0x196)),_0x37c5ab=_0xbc8fca[_0x242f17(0x344)]()[_0x242f17(0x7a5)](),_0x35ca1f=allQuizzesGlobal[_0x242f17(0x8ca)](_0x812e3e=>({..._0x812e3e,'projectName':allProjects[_0x242f17(0x301)](_0x404cef=>_0x404cef['id']===_0x812e3e[_0x242f17(0x8cb)])?.[_0x242f17(0x426)]||_0x812e3e['projectId']}))[_0x242f17(0x47c)](_0x22bb02=>(_0x22bb02[_0x242f17(0x339)]||'')['toLowerCase']()['includes'](_0x37c5ab)||(_0x22bb02['projectName']||'')['toLowerCase']()[_0x242f17(0xbba)](_0x37c5ab));document[_0x242f17(0x3a8)]('global-live-game-count')[_0x242f17(0x20d)]='('+_0x35ca1f[_0x242f17(0x6b0)]+_0x242f17(0xb14),_0xb9e112['innerHTML']=_0x35ca1f[_0x242f17(0x6b0)]?_0x35ca1f['map'](_0x3f7055=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3f7055['id']+_0x242f17(0x84e)+(_0x3f7055[_0x242f17(0x339)]||_0x242f17(0x8bc))+_0x242f17(0x9b5)+(_0x3f7055[_0x242f17(0xb4f)]?.['length']||0x0)+_0x242f17(0x5fd)+_0x3f7055[_0x242f17(0x426)]+_0x242f17(0x7a0))['join'](''):_0x242f17(0x455),selectedGlobalQuizId=null,document[_0x242f17(0x3a8)]('confirm-global-live-btn')['disabled']=!![],_0xb9e112[_0x242f17(0x4a1)]('button[data-id]')[_0x242f17(0x519)](_0x5a0075=>{const _0x2b10c5=_0x242f17;_0x5a0075[_0x2b10c5(0x4f9)](_0x2b10c5(0x2ea),()=>{const _0x474b0f=_0x2b10c5;selectedGlobalQuizId=_0x5a0075[_0x474b0f(0x483)]['id'],_0xb9e112[_0x474b0f(0x4a1)](_0x474b0f(0xa71))['forEach'](_0x54355b=>_0x54355b[_0x474b0f(0x542)][_0x474b0f(0x9d0)](_0x474b0f(0xbfd),_0x474b0f(0x991),_0x474b0f(0x22b))),_0x5a0075[_0x474b0f(0x542)]['add']('bg-purple-50',_0x474b0f(0x991),_0x474b0f(0x22b)),document[_0x474b0f(0x3a8)](_0x474b0f(0xb75))[_0x474b0f(0x709)]=![];});});}function listenForLiveGameUpdates(){const _0x15171b=_0x358d67;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1623d2=doc(db,_0x15171b(0x714)+appId+_0x15171b(0x999),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1623d2,_0x70804e=>{const _0x356199=_0x15171b;if(!_0x70804e[_0x356199(0x40f)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x356199(0x256)):showView(_0x356199(0x6ce));return;}const _0x380703=_0x70804e[_0x356199(0x49d)]();_0x380703['shuffledQuiz']&&(currentQuizData=_0x380703[_0x356199(0x938)]);!currentQuizData&&_0x380703[_0x356199(0xb39)]&&((async()=>{const _0x4fa82a=_0x356199;try{const _0x273096=doc(db,_0x4fa82a(0x714)+appId+_0x4fa82a(0x4b7),_0x380703[_0x4fa82a(0xb39)]),_0x2d6c1a=await getDoc(_0x273096);_0x2d6c1a[_0x4fa82a(0x40f)]()&&(currentQuizData={'id':_0x2d6c1a['id'],..._0x2d6c1a['data']()});}catch(_0x40e6eb){console[_0x4fa82a(0x77b)](_0x4fa82a(0x276),_0x40e6eb);}})());switch(_0x380703[_0x356199(0xa89)]){case _0x356199(0x270):if(currentMode===_0x356199(0x389)){const _0x3b99a3=_0x380703[_0x356199(0x266)]?Object[_0x356199(0xb84)](_0x380703['players']):[],_0x992d15=_0x3b99a3['filter'](([_0x3e7033,_0x41ae05])=>_0x41ae05[_0x356199(0xa89)]==='active'),_0x321b7d=document[_0x356199(0x3a8)](_0x356199(0x832));if(_0x321b7d)_0x321b7d[_0x356199(0x20d)]=_0x992d15['length'];const _0x39a35c=document[_0x356199(0x3a8)]('player-list-lobby');_0x39a35c&&(_0x39a35c[_0x356199(0x888)]=_0x992d15['map'](([_0x26e1ea,_0x6abf7])=>_0x356199(0x882)+_0x26e1ea+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x26e1ea+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x356199(0x61f)](''));const _0x13f655=document['getElementById'](_0x356199(0x647));_0x13f655&&(_0x13f655[_0x356199(0x709)]=_0x992d15[_0x356199(0x6b0)]===0x0);}else showView(_0x356199(0x9e1)),liveGameView[_0x356199(0x888)]=_0x356199(0xbb1)+currentStudentName+_0x356199(0x4c7);break;case'question':const _0x43eb2d=_0x380703[_0x356199(0x704)];if(currentQuizData&&currentQuizData[_0x356199(0xb4f)][_0x43eb2d]){const _0x1e2d72=currentQuizData[_0x356199(0xb4f)][_0x43eb2d],_0x4e777e=_0x380703[_0x356199(0xad4)]||'answering';switch(_0x4e777e){case _0x356199(0xb58):currentMode===_0x356199(0x389)?showAdminSummaryView(_0x380703,_0x1e2d72):showPlayerSummaryView(_0x380703,currentStudentName);break;case _0x356199(0x8ce):currentMode===_0x356199(0x389)&&showTop5LeaderboardView(_0x380703);break;case _0x356199(0x95b):default:if(currentMode===_0x356199(0x389)){const _0x21b824=writeBatch(db);let _0x1c1e99=![];Object[_0x356199(0xb84)](_0x380703['players'])[_0x356199(0x519)](([_0xdab348,_0x1efd11])=>{const _0x2b9904=_0x356199;if(_0x1efd11[_0x2b9904(0xa89)]===_0x2b9904(0x34a)&&_0x1efd11[_0x2b9904(0x470)]&&!_0x1efd11[_0x2b9904(0x6c8)]){_0x1c1e99=!![];const _0x14e9fa=_0x1efd11[_0x2b9904(0x470)]['toDate']()-_0x380703[_0x2b9904(0x7d6)][_0x2b9904(0x733)]();let _0x44b324=0x0;if(_0x1efd11[_0x2b9904(0x1f3)]){const _0x4181b4=0x3e8,_0x35536d=0x1f4,_0x4287e3=0x4e20;let _0x512c68=_0x14e9fa/_0x4287e3;if(_0x512c68>0x1)_0x512c68=0x1;const _0x4da02e=Math['round'](_0x512c68*_0x35536d);_0x44b324=_0x4181b4-_0x4da02e;}const _0xbe23cd=doc(db,_0x2b9904(0x714)+appId+_0x2b9904(0x999),currentLiveGameId);_0x21b824[_0x2b9904(0x1a7)](_0xbe23cd,{[_0x2b9904(0x1a0)+_0xdab348+_0x2b9904(0x693)]:increment(_0x44b324),[_0x2b9904(0x1a0)+_0xdab348+_0x2b9904(0x74d)]:_0x44b324,['players.'+_0xdab348+_0x2b9904(0xa6e)]:!![]});}});_0x1c1e99&&_0x21b824['commit']()[_0x356199(0x642)](_0x46932c=>console[_0x356199(0x77b)](_0x356199(0x59a),_0x46932c));lastRenderedAdminQuestionIndex!==_0x43eb2d&&(showAdminLiveQuestionView(_0x1e2d72,_0x43eb2d,currentQuizData['questions'][_0x356199(0x6b0)]),lastRenderedAdminQuestionIndex=_0x43eb2d);const _0x303530=_0x380703[_0x356199(0x266)]||{},_0xce14c0=Object['values'](_0x303530)['filter'](_0x1cd25a=>_0x1cd25a[_0x356199(0xa89)]===_0x356199(0x34a)),_0x42b4e1=_0xce14c0[_0x356199(0x6b0)],_0x15bc9c=_0xce14c0[_0x356199(0x47c)](_0x1c1250=>_0x1c1250['answeredCurrentQuestion']===!![])['length'],_0x52aa45=document[_0x356199(0x3a8)](_0x356199(0x846));if(_0x52aa45)_0x52aa45['textContent']=_0x15bc9c+'/'+_0x42b4e1;const _0xf53c6a=document[_0x356199(0x3a8)](_0x356199(0x673));if(_0xf53c6a){let _0x5324dd=Object['entries'](_0x303530)[_0x356199(0x47c)](([_0x427afe,_0x29225d])=>_0x29225d[_0x356199(0xa89)]===_0x356199(0x34a))['map'](([_0x43500a,_0x31eb05])=>{const _0x314ff2=_0x356199,_0x4385fc=_0x31eb05['answeredCurrentQuestion']===!![],_0x1cd1ac=_0x4385fc?_0x314ff2(0xb7b):_0x314ff2(0x3a3),_0x50d9ad=_0x4385fc?_0x314ff2(0x48d):_0x314ff2(0xb6f);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x1cd1ac+_0x314ff2(0x480)+_0x50d9ad+_0x314ff2(0x405)+_0x43500a+_0x314ff2(0x6e4)+_0x43500a+_0x314ff2(0x93a);})[_0x356199(0x61f)]('');_0xf53c6a[_0x356199(0x888)]=_0x5324dd||_0x356199(0x29c);}_0x42b4e1>0x0&&_0x15bc9c===_0x42b4e1&&revealAnswerForAdmin(_0x43eb2d,currentQuizData[_0x356199(0xb4f)][_0x356199(0x6b0)]);}else{const _0x119592=_0x380703[_0x356199(0x266)][currentStudentName];_0x119592&&!_0x119592[_0x356199(0x653)]&&showStudentLiveQuestionView(_0x1e2d72,_0x43eb2d,currentQuizData[_0x356199(0xb4f)][_0x356199(0x6b0)]);}break;}}break;case _0x356199(0x940):showPodiumView(_0x380703[_0x356199(0x266)],'live-race');break;}});}async function handleKickPlayer(_0x348534){const _0x5d36d2=_0x358d67;if(!currentLiveGameId||!_0x348534)return;const _0x2daaed=doc(db,'artifacts/'+appId+_0x5d36d2(0x999),currentLiveGameId),_0x471348={};_0x471348[_0x5d36d2(0x1a0)+_0x348534+_0x5d36d2(0x883)]=_0x5d36d2(0x349);try{await updateDoc(_0x2daaed,_0x471348);}catch(_0x4d262a){console[_0x5d36d2(0x77b)](_0x5d36d2(0x4a2)+_0x348534+':',_0x4d262a),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x7827d6=_0x358d67;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2aeb8c){console['error'](_0x7827d6(0x9ef),_0x2aeb8c),showMessage(_0x7827d6(0x922));}}function showView(_0x115d0a){const _0x2b04d5=_0x358d67;adminView['classList'][_0x2b04d5(0x33b)]('hidden'),studentView[_0x2b04d5(0x542)]['add'](_0x2b04d5(0x49a)),projectDashboardView['classList'][_0x2b04d5(0x33b)](_0x2b04d5(0x49a)),projectDetailView['classList']['add']('hidden'),quizResultsView['classList'][_0x2b04d5(0x33b)](_0x2b04d5(0x49a)),liveGameView[_0x2b04d5(0x542)][_0x2b04d5(0x33b)](_0x2b04d5(0x49a)),document[_0x2b04d5(0x3a8)](_0x2b04d5(0x186))[_0x2b04d5(0x542)][_0x2b04d5(0x33b)]('hidden'),studentInitialView[_0x2b04d5(0x542)][_0x2b04d5(0x33b)](_0x2b04d5(0x49a)),studentJoinGameView[_0x2b04d5(0x542)]['add'](_0x2b04d5(0x49a)),studentNameSelectionView['classList'][_0x2b04d5(0x33b)](_0x2b04d5(0x49a)),studentQuizArea[_0x2b04d5(0x542)][_0x2b04d5(0x33b)](_0x2b04d5(0x49a)),studentResultArea[_0x2b04d5(0x542)][_0x2b04d5(0x33b)](_0x2b04d5(0x49a)),studentReadingArea[_0x2b04d5(0x542)][_0x2b04d5(0x33b)]('hidden');const _0x362241=document[_0x2b04d5(0x3a8)](_0x2b04d5(0x63d)),_0x2202a4=document[_0x2b04d5(0x3a8)]('student-progress-view');if(_0x362241)_0x362241[_0x2b04d5(0x542)][_0x2b04d5(0x33b)](_0x2b04d5(0x49a));if(_0x2202a4)_0x2202a4[_0x2b04d5(0x542)][_0x2b04d5(0x33b)]('hidden');switch(_0x115d0a){case'admin-dashboard':adminView['classList'][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a)),projectDashboardView[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)]('hidden');break;case _0x2b04d5(0x256):adminView[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)]('hidden'),projectDetailView['classList'][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a));break;case _0x2b04d5(0x6da):adminView[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)]('hidden'),quizResultsView[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a));break;case _0x2b04d5(0x6ce):studentView['classList'][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a)),studentInitialView['classList']['remove'](_0x2b04d5(0x49a));break;case _0x2b04d5(0x9e1):liveGameView[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a));break;case _0x2b04d5(0x80f):studentView[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a));if(_0x362241)_0x362241[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a));break;case _0x2b04d5(0x4f1):studentView[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a));if(_0x2202a4)_0x2202a4[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)]('hidden');break;default:studentView[_0x2b04d5(0x542)][_0x2b04d5(0x9d0)](_0x2b04d5(0x49a)),studentInitialView[_0x2b04d5(0x542)]['remove'](_0x2b04d5(0x49a));break;}}function showJoinGameView(){const _0x19c767=_0x358d67;studentInitialView[_0x19c767(0x542)][_0x19c767(0x33b)](_0x19c767(0x49a)),studentJoinGameView[_0x19c767(0x542)]['remove'](_0x19c767(0x49a));}async function handleSaveVisibilitySettings(){const _0x384975=_0x358d67;if(!currentProjectId)return;const _0x3c68d8=doc(db,_0x384975(0x714)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x3c68d8,{'settings.showInStudentDashboard':document['getElementById'](_0x384975(0x9a7))[_0x384975(0x69c)],'settings.isPasscodeEnabled':document[_0x384975(0x3a8)](_0x384975(0xad7))[_0x384975(0x69c)],'settings.passcode':document[_0x384975(0x3a8)]('project-passcode-input')[_0x384975(0xac6)]['trim']()}),showMessage(_0x384975(0x9c0));}catch(_0x4050a6){console[_0x384975(0x77b)](_0x384975(0x69f),_0x4050a6),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x2e26ca=_0x358d67;document[_0x2e26ca(0x3a8)](_0x2e26ca(0xbae))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),async _0x267ad9=>{const _0x20dbd1=_0x2e26ca,_0x4fcbe1=document[_0x20dbd1(0x3a8)]('topic-quiz-bank-modal'),_0x3b8195=_0x267ad9[_0x20dbd1(0x604)][_0x20dbd1(0x2f4)](_0x20dbd1(0xa1c)),_0x5ba641=_0x267ad9[_0x20dbd1(0x604)][_0x20dbd1(0x2f4)](_0x20dbd1(0x1d2)),_0x82255b=_0x267ad9[_0x20dbd1(0x604)][_0x20dbd1(0x2f4)](_0x20dbd1(0x800)),_0x8849f4=_0x267ad9['target'][_0x20dbd1(0x2f4)]('.bp-try-btn'),_0x20f062=_0x267ad9[_0x20dbd1(0x604)][_0x20dbd1(0x2f4)](_0x20dbd1(0x39e)),_0x172392=_0x267ad9[_0x20dbd1(0x604)][_0x20dbd1(0x2f4)]('.bp-game-btn');if(_0x3b8195){cameFromBlueprint=!![];const _0x43299c=_0x3b8195[_0x20dbd1(0x483)][_0x20dbd1(0xb39)];showQuizDetailView(_0x43299c),_0x4fcbe1[_0x20dbd1(0x542)][_0x20dbd1(0x33b)]('hidden');}else{if(_0x5ba641){const _0x244b42=_0x5ba641[_0x20dbd1(0x483)][_0x20dbd1(0xbff)],_0x4a8c70=_0x5ba641['dataset'][_0x20dbd1(0xb39)],_0x253eb7=allQuizzesGlobal['find'](_0x24ba12=>_0x24ba12['id']===_0x4a8c70),_0x59c462=_0x253eb7?_0x253eb7[_0x20dbd1(0x339)]:_0x20dbd1(0xa87);showConfirmation(_0x20dbd1(0x91e)+_0x59c462+_0x20dbd1(0x275),async()=>{const _0x4118d2=_0x20dbd1;try{const _0x48fe18=doc(db,_0x4118d2(0x714)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x48fe18,{[_0x4118d2(0x80b)+_0x244b42+_0x4118d2(0x890)]:arrayRemove(_0x4a8c70)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x244b42),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4aa32d){console[_0x4118d2(0x77b)](_0x4118d2(0x410),_0x4aa32d),showMessage(_0x4118d2(0x4ac));}});}else{if(_0x82255b){cameFromBlueprint=!![];const _0x6773c4=_0x82255b[_0x20dbd1(0x483)]['quizId'],_0x43696a=allQuizzesGlobal[_0x20dbd1(0x301)](_0x3f84ee=>_0x3f84ee['id']===_0x6773c4);_0x43696a&&(startPresentation(_0x43696a),_0x4fcbe1[_0x20dbd1(0x542)]['add'](_0x20dbd1(0x49a)));}else{if(_0x8849f4){cameFromBlueprint=!![];const _0x1bbec5=_0x8849f4[_0x20dbd1(0x483)][_0x20dbd1(0xb39)],_0x2c5dd1=allQuizzesGlobal['find'](_0x3988cd=>_0x3988cd['id']===_0x1bbec5);_0x2c5dd1&&(currentQuizData=_0x2c5dd1,startAdminTest(),_0x4fcbe1['classList'][_0x20dbd1(0x33b)](_0x20dbd1(0x49a)));}else{if(_0x20f062)cameFromBlueprint=!![],handleStartLiveRace(_0x20f062['dataset']['quizId']),_0x4fcbe1[_0x20dbd1(0x542)][_0x20dbd1(0x33b)](_0x20dbd1(0x49a));else{if(_0x172392){cameFromBlueprint=!![];const _0x19b6e9=_0x172392[_0x20dbd1(0x483)][_0x20dbd1(0xb39)],_0x29470d=_0x172392[_0x20dbd1(0x483)][_0x20dbd1(0x60f)],_0x4c1fcb=allQuizzesGlobal[_0x20dbd1(0x301)](_0x4f5f9f=>_0x4f5f9f['id']===_0x19b6e9);_0x4c1fcb&&(showGameStartConfirmationModal(_0x19b6e9,_0x29470d,_0x4c1fcb[_0x20dbd1(0x339)]),_0x4fcbe1[_0x20dbd1(0x542)]['add'](_0x20dbd1(0x49a)));}}}}}}}),document['getElementById']('manual-create-blueprint-btn')['addEventListener'](_0x2e26ca(0x2ea),()=>{const _0x18e87e=_0x2e26ca;document[_0x18e87e(0x3a8)](_0x18e87e(0x959))[_0x18e87e(0x542)][_0x18e87e(0x9d0)]('hidden'),document['getElementById'](_0x18e87e(0x2fa))['value']='',document['getElementById'](_0x18e87e(0x4b4))[_0x18e87e(0xac6)]='',document[_0x18e87e(0x3a8)](_0x18e87e(0x9a3))['value']='';}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xa80))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x4e82a9=_0x2e26ca;document['getElementById'](_0x4e82a9(0x959))[_0x4e82a9(0x542)][_0x4e82a9(0x33b)](_0x4e82a9(0x49a));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x7e8))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleManualBlueprintSave),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xa82))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>document[_0x2e26ca(0x3a8)](_0x2e26ca(0xaeb))[_0x2e26ca(0x542)][_0x2e26ca(0x33b)](_0x2e26ca(0x49a))),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x4d4))['addEventListener'](_0x2e26ca(0x2ea),handleSaveBlueprintPageSettings),document[_0x2e26ca(0x3a8)]('bp-quiz-settings-btn')[_0x2e26ca(0x4f9)]('click',openBlueprintQuizSettings),document['getElementById'](_0x2e26ca(0x342))[_0x2e26ca(0x4f9)]('click',saveBlueprintProject),document['getElementById']('open-blueprint-projects-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),showBlueprintProjects),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x977))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x557323=_0x2e26ca;document[_0x557323(0x3a8)](_0x557323(0x9c9))[_0x557323(0x542)][_0x557323(0x33b)](_0x557323(0x49a));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x36c))[_0x2e26ca(0x4f9)]('click',_0x39fbcd=>{const _0x50d482=_0x2e26ca,_0x416ea4=_0x39fbcd[_0x50d482(0x604)]['closest'](_0x50d482(0xb15)),_0x20f501=_0x39fbcd[_0x50d482(0x604)]['closest'](_0x50d482(0x58a));if(_0x416ea4)displayBlueprintProjectManager(_0x416ea4[_0x50d482(0x483)]['id']);else{if(_0x20f501){if(confirm(_0x50d482(0x81f))){const _0x23a294=doc(db,_0x50d482(0x714)+appId+_0x50d482(0x869),_0x20f501['dataset']['id']);deleteDoc(_0x23a294)[_0x50d482(0x990)](()=>{showMessage('ลบโปรเจคสำเร็จ'),showBlueprintProjects();});}}}}),document['getElementById'](_0x2e26ca(0xae9))[_0x2e26ca(0x4f9)]('click',()=>{const _0x418577=_0x2e26ca;currentBlueprintProjectId=null,currentProjectId=null,document[_0x418577(0x3a8)]('blueprint-project-manager-view')[_0x418577(0x542)][_0x418577(0x33b)](_0x418577(0x49a)),showView(_0x418577(0x479));}),document[_0x2e26ca(0x3a8)]('bp-add-topic-btn')[_0x2e26ca(0x4f9)]('click',addTopicToProject),document['getElementById'](_0x2e26ca(0xb05))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),async _0x5c4e76=>{const _0xceed3d=_0x2e26ca,_0x385552=_0x5c4e76[_0xceed3d(0x604)]['closest']('[data-topic-id]');if(!_0x385552)return;const _0x114f74=_0x385552[_0xceed3d(0x483)][_0xceed3d(0xbff)],_0xb5936=_0x5c4e76[_0xceed3d(0x604)]['closest'](_0xceed3d(0xaac)),_0x47caa9=_0x5c4e76['target']['closest'](_0xceed3d(0x4b8)),_0x47991f=_0x5c4e76[_0xceed3d(0x604)][_0xceed3d(0x2f4)](_0xceed3d(0x805)),_0x1ff61a=_0x5c4e76[_0xceed3d(0x604)][_0xceed3d(0x2f4)]('.bp-open-topic-bank-btn'),_0x1ac7df=_0x5c4e76[_0xceed3d(0x604)][_0xceed3d(0x2f4)](_0xceed3d(0x6be)),_0x3de694=_0x5c4e76['target'][_0xceed3d(0x2f4)](_0xceed3d(0x3ec)),_0x556be4=_0x5c4e76['target'][_0xceed3d(0x2f4)](_0xceed3d(0x240)),_0x4a1d43=_0x5c4e76[_0xceed3d(0x604)][_0xceed3d(0x2f4)](_0xceed3d(0xb4a));if(_0x1ff61a)openTopicQuizBank(_0x114f74);else{if(_0xb5936){console['log'](_0xceed3d(0x537));const _0x2923e7=_0x385552['querySelector']('[data-field=\x22subTopic\x22]')[_0xceed3d(0x20d)];selectProjectAndGenerateBlueprintQuiz(_0x2923e7,null,_0x114f74,!![]);}else{if(_0x47caa9){console[_0xceed3d(0x498)](_0xceed3d(0x5ab));try{const _0x413c97=doc(db,_0xceed3d(0x714)+appId+_0xceed3d(0x869),currentBlueprintProjectId),_0x52d88d=await getDoc(_0x413c97);if(_0x52d88d[_0xceed3d(0x40f)]()){const _0xf3e72b=_0x52d88d[_0xceed3d(0x49d)](),_0x31b8b3=_0xf3e72b[_0xceed3d(0x3ca)][_0x114f74],_0x528345=_0x31b8b3[_0xceed3d(0x9dd)],_0x1db54d=document[_0xceed3d(0x60b)](_0xceed3d(0xb26)),_0x5169cc=_0x113ad4=>{const _0x1f59aa=_0xceed3d;if(!_0x113ad4)return'';return _0x1db54d[_0x1f59aa(0x888)]=_0x113ad4,_0x1db54d[_0x1f59aa(0x20d)]||_0x1db54d['innerText']||'';},_0xf41b49=(_0x5169cc(_0x528345[_0xceed3d(0x85f)])+'\x20'+_0x5169cc(_0x528345[_0xceed3d(0xc03)])+'\x20'+_0x5169cc(_0x528345[_0xceed3d(0x394)]))[_0xceed3d(0x7a5)]();selectProjectAndGenerateBlueprintQuiz(_0x31b8b3[_0xceed3d(0x570)],_0xf41b49,_0x114f74,![]);}}catch(_0x157da3){console[_0xceed3d(0x77b)](_0xceed3d(0xa7b),_0x157da3);}}else{if(_0x47991f){console['log']('Action:\x20Create\x20topic-based\x20Quiz.');const _0x21fcde=_0x385552[_0xceed3d(0x3a0)](_0xceed3d(0xa7f))[_0xceed3d(0x20d)];selectProjectAndGenerateBlueprintQuiz(_0x21fcde,null,_0x114f74,![]);}else{if(_0x1ac7df){console[_0xceed3d(0x498)]('Action:\x20View\x20existing\x20lesson.');const _0x2a7892=doc(db,_0xceed3d(0x714)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x7e072a=await getDoc(_0x2a7892);if(_0x7e072a[_0xceed3d(0x40f)]()){const _0x3a4933=_0x7e072a[_0xceed3d(0x49d)](),_0x51421a=_0x3a4933[_0xceed3d(0x3ca)][_0x114f74];if(_0x51421a&&_0x51421a[_0xceed3d(0x9dd)]){document[_0xceed3d(0x3a8)](_0xceed3d(0xbc2))[_0xceed3d(0x20d)]=_0xceed3d(0xbc8)+_0x51421a['subTopic'],document[_0xceed3d(0x3a8)](_0xceed3d(0x690))['innerHTML']=_0x51421a[_0xceed3d(0x9dd)]['point'],document[_0xceed3d(0x3a8)](_0xceed3d(0x974))['innerHTML']=_0x51421a[_0xceed3d(0x9dd)][_0xceed3d(0xc03)],document[_0xceed3d(0x3a8)](_0xceed3d(0x664))[_0xceed3d(0x888)]=_0x51421a['lessonContent'][_0xceed3d(0x394)];const _0x3ff45d=document['getElementById']('applicationContent');_0x51421a[_0xceed3d(0x9dd)][_0xceed3d(0x514)]?(currentApplicationData=_0x51421a['lessonContent'][_0xceed3d(0x514)],_0x3ff45d[_0xceed3d(0x888)]=currentApplicationData[_0xceed3d(0x8ca)]((_0x4dc890,_0x2cdb59)=>_0xceed3d(0x880)+(_0x2cdb59+0x1)+'.\x20'+marked['parseInline'](_0x4dc890[_0xceed3d(0xaad)])+_0xceed3d(0x615)+_0x2cdb59+_0xceed3d(0x5c8)+_0x4dc890['options'][_0xceed3d(0x8ca)]((_0x5d2aa6,_0x2ad712)=>_0xceed3d(0x56f)+_0x2cdb59+',\x20'+_0x2ad712+_0xceed3d(0xbbc)+String['fromCharCode'](0x61+_0x2ad712)+'.\x20'+marked['parseInline'](_0x5d2aa6)+_0xceed3d(0x865))[_0xceed3d(0x61f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xceed3d(0x61f)]('')):(currentApplicationData=[],_0x3ff45d[_0xceed3d(0x888)]=_0x51421a['lessonContent'][_0xceed3d(0x54f)]||_0x51421a[_0xceed3d(0x9dd)][_0xceed3d(0xa48)]),document[_0xceed3d(0x3a8)](_0xceed3d(0x7f3))[_0xceed3d(0x542)]['add']('hidden'),document['getElementById'](_0xceed3d(0x89d))['classList'][_0xceed3d(0x9d0)](_0xceed3d(0x49a)),document[_0xceed3d(0x3a8)]('lesson-view-modal')[_0xceed3d(0x542)][_0xceed3d(0x9d0)]('hidden'),window[_0xceed3d(0x915)]&&MathJax['typesetPromise']([document['getElementById'](_0xceed3d(0xb02))]);}else showMessage(_0xceed3d(0xb9b));}}else{if(_0x3de694){console[_0xceed3d(0x498)](_0xceed3d(0x900));const _0x4eec16=doc(db,_0xceed3d(0x714)+appId+_0xceed3d(0x869),currentBlueprintProjectId),_0x2d169f=await getDoc(_0x4eec16);if(_0x2d169f[_0xceed3d(0x40f)]()){const _0x5da57c=_0x2d169f[_0xceed3d(0x49d)](),_0x18cd70=_0x5da57c[_0xceed3d(0x3ca)][_0x114f74];generateAndSaveLessonForBlueprint(_0x114f74,_0x18cd70['subTopic'],_0x5da57c[_0xceed3d(0x243)]);}}else{if(_0x556be4)editTopicInProject(_0x114f74);else _0x4a1d43&&deleteTopicFromProject(_0x114f74);}}}}}}}),document[_0x2e26ca(0x3a8)]('fix-lesson-latex-btn')['addEventListener']('click',handleFixLessonLatex),document[_0x2e26ca(0x3a8)]('export-lesson-to-pdf-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleExportLessonToPDF),document['getElementById']('close-lesson-view-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x4f06d6=_0x2e26ca;document['getElementById']('lesson-view-modal')['classList'][_0x4f06d6(0x33b)](_0x4f06d6(0x49a));});const _0x119d3c=document[_0x2e26ca(0x3a8)](_0x2e26ca(0xbe1)),_0x5f1067=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x993));_0x119d3c[_0x2e26ca(0x4f9)](_0x2e26ca(0xabc),()=>{const _0x2e09d0=_0x2e26ca;_0x5f1067[_0x2e09d0(0x542)][_0x2e09d0(0x50e)](_0x2e09d0(0x49a),!_0x119d3c['checked']);});const _0x2501b1=document[_0x2e26ca(0x3a8)]('confidence-scoring-checkbox'),_0xc5a6f9=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x3e5));_0x2501b1[_0x2e26ca(0x4f9)]('change',()=>{const _0x1eb930=_0x2e26ca;_0xc5a6f9['classList']['toggle'](_0x1eb930(0x49a),!_0x2501b1['checked']);});const _0x2b7032=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x781)),_0x1c6268=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x8b1));_0x2b7032[_0x2e26ca(0x4f9)](_0x2e26ca(0xabc),()=>{const _0x28989d=_0x2e26ca;_0x1c6268['classList'][_0x28989d(0x50e)](_0x28989d(0x49a),!_0x2b7032['checked']);});const _0x2bceb5=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x66c)),_0x27cf01=async _0x4d2ec3=>{const _0xa611a1=_0x2e26ca,_0x69d546=document['getElementById'](_0xa611a1(0x66c)),_0x242ae4=_0x69d546[_0xa611a1(0x483)]['currentMode'],_0x3b9bdc=document[_0xa611a1(0x3a8)](_0xa611a1(0xa42));_0x69d546['classList'][_0xa611a1(0x33b)](_0xa611a1(0x49a));if(_0x242ae4===_0xa611a1(0x3f2)){const _0x2e9ef3=_0x3b9bdc[_0xa611a1(0xac6)],_0x527082={'answer':_0x2e9ef3,'wasConfident':_0x4d2ec3};proceedToNextQuestion(_0x527082);}else{if(_0x242ae4===_0xa611a1(0x750)){const _0xa75bf=_0x3b9bdc['dataset'][_0xa611a1(0x1e3)],_0x2b8591=JSON[_0xa611a1(0x91c)](_0x3b9bdc['dataset'][_0xa611a1(0xaad)]),_0x3529da=JSON[_0xa611a1(0x91c)](_0x3b9bdc[_0xa611a1(0x483)][_0xa611a1(0xa3b)]),_0x3414e6=_0x3b9bdc[_0xa611a1(0x483)]['playerName'];handleSyncAnswerSubmit(_0xa75bf,_0x2b8591,_0x3529da,_0x3414e6,_0x4d2ec3);}}_0x69d546['dataset']['currentMode']='';};document[_0x2e26ca(0x3a8)](_0x2e26ca(0x773))[_0x2e26ca(0x4f9)]('click',()=>_0x27cf01(!![])),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xab5))['addEventListener'](_0x2e26ca(0x2ea),()=>_0x27cf01(![])),liveGameView[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),_0x1c73fa=>{const _0xd7e765=_0x2e26ca,_0x2d0c28=_0x1c73fa[_0xd7e765(0x604)][_0xd7e765(0x2f4)]('.kick-player-btn-sync');if(_0x2d0c28){const _0x54559e=_0x2d0c28['dataset'][_0xd7e765(0x4da)];_0x54559e&&handleKickPlayerSync(_0x54559e);}});const _0x30a121=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x5c3)),_0x2e7686=document['getElementById'](_0x2e26ca(0x55f));_0x2e7686[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x4d612d=_0x2e26ca;document[_0x4d612d(0x3a8)](_0x4d612d(0x700))['classList'][_0x4d612d(0x33b)](_0x4d612d(0x49a));}),_0x30a121[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x156521=_0x2e26ca,_0x4ca52c=document[_0x156521(0x3a8)](_0x156521(0x8a2))[_0x156521(0xac6)],_0x39fdc3=document[_0x156521(0x3a8)](_0x156521(0x62e))[_0x156521(0xac6)],_0x3e16e1=document[_0x156521(0x3a8)](_0x156521(0xb53))[_0x156521(0x69c)];document[_0x156521(0x3a8)](_0x156521(0x700))['classList'][_0x156521(0x33b)](_0x156521(0x49a));switch(_0x39fdc3){case _0x156521(0x575):handleStartLiveRace(_0x4ca52c,_0x3e16e1);break;case _0x156521(0x416):handleStartTeamQuiz(_0x4ca52c,_0x3e16e1);break;case _0x156521(0x4cd):handleStartGroupMode(_0x4ca52c,_0x3e16e1);break;case'sync':handleStartSyncMode(_0x4ca52c,_0x3e16e1);break;}}),document['getElementById'](_0x2e26ca(0x85e))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleJoinGroupActivity),liveGameView[_0x2e26ca(0x4f9)]('click',_0xdb32a1=>{const _0x52daf8=_0x2e26ca,_0xd9efa3=_0xdb32a1['target']['closest'](_0x52daf8(0x577));document[_0x52daf8(0x4a1)](_0x52daf8(0xad1))[_0x52daf8(0x519)](_0x309613=>{const _0x4a6fd4=_0x52daf8;(!_0xd9efa3||_0x309613['id']!==_0xd9efa3[_0x4a6fd4(0x483)][_0x4a6fd4(0x466)])&&_0x309613['classList']['remove']('visible');});if(!_0xd9efa3)return;const _0x42cfe1=_0xd9efa3[_0x52daf8(0x483)]['tooltipTarget'],_0x35f48c=document[_0x52daf8(0x3a8)](_0x42cfe1);_0x35f48c&&_0x35f48c[_0x52daf8(0x542)]['toggle']('visible');}),liveGameView[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),_0x3a35c9=>{const _0x205157=_0x2e26ca;if(_0x3a35c9[_0x205157(0x604)]['classList'][_0x205157(0x6e5)](_0x205157(0x46c))){const _0x4daa67=_0x3a35c9[_0x205157(0x604)][_0x205157(0x483)]['playerName'];_0x4daa67&&handleKickPlayer(_0x4daa67);}}),document[_0x2e26ca(0x3a8)]('project-title')['addEventListener']('focus',()=>document[_0x2e26ca(0x3a8)](_0x2e26ca(0xb18))[_0x2e26ca(0x542)][_0x2e26ca(0x9d0)](_0x2e26ca(0x49a))),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xb18))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleSaveProjectName),document[_0x2e26ca(0x3a8)]('project-title')[_0x2e26ca(0x4f9)](_0x2e26ca(0x66a),_0x5c704a=>{const _0x3636eb=_0x2e26ca;_0x5c704a[_0x3636eb(0x346)]===_0x3636eb(0xbf8)&&(_0x5c704a[_0x3636eb(0x5f6)](),_0x5c704a['target'][_0x3636eb(0x32a)](),handleSaveProjectName());}),document['getElementById'](_0x2e26ca(0x563))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0xe541be=_0x2e26ca;document[_0xe541be(0x3a8)](_0xe541be(0x281))[_0xe541be(0x542)][_0xe541be(0x9d0)](_0xe541be(0x49a));}),document['getElementById'](_0x2e26ca(0xa00))[_0x2e26ca(0x4f9)]('click',()=>{const _0x2b0473=_0x2e26ca;document[_0x2b0473(0x3a8)]('bulk-quiz-settings-modal')['classList'][_0x2b0473(0x33b)](_0x2b0473(0x49a));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x71b))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleBulkUpdateQuizSettings),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x638))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleModeSwitch),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x2d9))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleUpdateOldQuizzes),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xa12))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleResetProjectOrder),document[_0x2e26ca(0x3a8)]('save-visibility-settings-btn')[_0x2e26ca(0x4f9)]('click',handleSaveVisibilitySettings),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x551))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleAddCustomMathTopic),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x920))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleSelectAllTopics),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x336))['addEventListener'](_0x2e26ca(0x2ea),handleDeselectAllTopics),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xbcb))[_0x2e26ca(0x4f9)]('click',()=>{const _0x5adb06=_0x2e26ca;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5adb06(0x479));}}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x976))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x599b2e=_0x2e26ca;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x599b2e(0x256));}}),document['getElementById'](_0x2e26ca(0x760))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{showView('admin-dashboard');}),document[_0x2e26ca(0x3a8)]('modal-close-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0xd00f23=_0x2e26ca;messageModal[_0xd00f23(0x542)][_0xd00f23(0x33b)](_0xd00f23(0x49a)),typeof modalConfirmAction===_0xd00f23(0x831)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x8ff))['addEventListener'](_0x2e26ca(0x2ea),()=>createProjectModal['classList'][_0x2e26ca(0x9d0)](_0x2e26ca(0x49a))),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x67f))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>createProjectModal['classList'][_0x2e26ca(0x33b)](_0x2e26ca(0x49a))),document[_0x2e26ca(0x3a8)]('cancel-admin-login-btn')['addEventListener'](_0x2e26ca(0x2ea),()=>adminPasswordModal[_0x2e26ca(0x542)]['add']('hidden')),document[_0x2e26ca(0x3a8)]('confirm-admin-login-btn')[_0x2e26ca(0x4f9)]('click',handleAdminLogin),document['getElementById'](_0x2e26ca(0x2c9))[_0x2e26ca(0x4f9)](_0x2e26ca(0x212),_0x222315=>{const _0x57cd96=_0x2e26ca;if(_0x222315[_0x57cd96(0x346)]==='Enter')handleAdminLogin();}),document['getElementById'](_0x2e26ca(0xa03))['addEventListener'](_0x2e26ca(0x2ea),()=>{const _0x5b02a9=_0x2e26ca;confirmationModal[_0x5b02a9(0x542)][_0x5b02a9(0x33b)](_0x5b02a9(0x49a)),confirmAction=null;}),document['getElementById']('confirm-delete-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x614fc2=_0x2e26ca;confirmAction&&confirmAction(),confirmationModal[_0x614fc2(0x542)][_0x614fc2(0x33b)](_0x614fc2(0x49a)),confirmAction=null;}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x533))['addEventListener'](_0x2e26ca(0x2ea),()=>renameQuizModal['classList'][_0x2e26ca(0x33b)](_0x2e26ca(0x49a))),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x783))['addEventListener']('click',confirmRenameQuiz),document['getElementById'](_0x2e26ca(0x643))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>moveQuizModal['classList'][_0x2e26ca(0x33b)]('hidden')),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x2b1))[_0x2e26ca(0x4f9)]('click',confirmMoveQuiz),document[_0x2e26ca(0x3a8)]('cancel-quiz-settings-btn')['addEventListener'](_0x2e26ca(0x2ea),()=>quizSettingsModal[_0x2e26ca(0x542)]['add'](_0x2e26ca(0x49a))),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x948))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),confirmQuizSettings),document['getElementById'](_0x2e26ca(0x3ef))[_0x2e26ca(0x4f9)]('click',()=>quizStatusModal[_0x2e26ca(0x542)]['add'](_0x2e26ca(0x49a))),document['getElementById'](_0x2e26ca(0x513))[_0x2e26ca(0x4f9)]('click',confirmQuizStatus);const _0x331ffb=document[_0x2e26ca(0x3a8)](_0x2e26ca(0xac7));document['getElementById'](_0x2e26ca(0x6e0))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x512bc0=_0x2e26ca;_0x331ffb[_0x512bc0(0x542)][_0x512bc0(0x33b)](_0x512bc0(0x49a));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x415))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),async()=>{const _0x19eb19=_0x2e26ca,_0xf8ba5f=allQuizzes['find'](_0x129dcc=>_0x129dcc['id']===actionTargetId);_0xf8ba5f?(currentQuizData=_0xf8ba5f,exportQuizAsWorksheetPDF()):showMessage(_0x19eb19(0x804)),_0x331ffb[_0x19eb19(0x542)][_0x19eb19(0x33b)](_0x19eb19(0x49a));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x635))['addEventListener'](_0x2e26ca(0x2ea),async()=>{const _0x3751fc=_0x2e26ca,_0x1bd275=allQuizzes[_0x3751fc(0x301)](_0x25d16b=>_0x25d16b['id']===actionTargetId);_0x1bd275?(currentQuizData=_0x1bd275,exportQuizAsTutorPDF()):showMessage(_0x3751fc(0x804)),_0x331ffb[_0x3751fc(0x542)]['add']('hidden');}),document[_0x2e26ca(0x3a8)]('open-global-live-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),openGlobalLiveModal),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x982))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x1470b6=_0x2e26ca;document[_0x1470b6(0x3a8)]('global-live-game-modal')[_0x1470b6(0x542)][_0x1470b6(0x33b)](_0x1470b6(0x49a)),selectedGlobalQuizId=null;}),document[_0x2e26ca(0x3a8)]('global-quiz-search-input')[_0x2e26ca(0x4f9)](_0x2e26ca(0x1ea),_0xba6c4e=>renderGlobalQuizList(_0xba6c4e[_0x2e26ca(0x604)][_0x2e26ca(0xac6)])),document[_0x2e26ca(0x3a8)]('confirm-global-live-btn')['addEventListener'](_0x2e26ca(0x2ea),()=>{const _0x3df629=_0x2e26ca,_0x18986d=selectedGlobalQuizId;if(!_0x18986d)return;document['getElementById'](_0x3df629(0x3e1))[_0x3df629(0x542)]['add'](_0x3df629(0x49a)),handleStartLiveRace(_0x18986d);}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x59e))[_0x2e26ca(0x4f9)]('input',renderProjects),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x329))[_0x2e26ca(0x4f9)]('change',async()=>{const _0x591b97=_0x2e26ca,_0x2e6d2a=document[_0x591b97(0x3a8)](_0x591b97(0x329))[_0x591b97(0xac6)],_0x108f95=doc(db,_0x591b97(0x945),_0x591b97(0x331));try{await setDoc(_0x108f95,{'projectSort':_0x2e6d2a},{'merge':!![]});}catch(_0x58343f){console[_0x591b97(0x77b)](_0x591b97(0xa9d),_0x58343f),showMessage(_0x591b97(0x40e));}}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x89a))[_0x2e26ca(0x4f9)]('input',renderQuizzes),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x840))['addEventListener'](_0x2e26ca(0x2ea),()=>{const _0x5878ae=_0x2e26ca;globalDashboardSettings['projectView']=_0x5878ae(0x53b),saveUserPreference(_0x5878ae(0x430),'grid'),renderProjects();}),document['getElementById']('list-view-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x4ac4f1=_0x2e26ca;globalDashboardSettings[_0x4ac4f1(0x430)]=_0x4ac4f1(0x91a),saveUserPreference(_0x4ac4f1(0x430),_0x4ac4f1(0x91a)),renderProjects();}),manageTab[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>switchProjectTab(_0x2e26ca(0x654))),resultsTab[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>switchProjectTab(_0x2e26ca(0xb3e))),leaderboardTab[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>switchProjectTab('leaderboard')),document[_0x2e26ca(0x3a8)]('analytics-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab('analytics')),document['getElementById'](_0x2e26ca(0x931))['addEventListener'](_0x2e26ca(0x2ea),()=>switchQuizDetailTab(_0x2e26ca(0x4f8))),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x607))[_0x2e26ca(0x4f9)]('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x413))[_0x2e26ca(0x4f9)]('click',()=>switchQuizDetailTab(_0x2e26ca(0xa24))),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xa3c))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleAnalyzeClass),generateWorksheetBtn[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),generateWorksheet);const _0x20a706=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x44e)),_0x4c155b=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x412)),_0x9dd1d1=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x316)),_0x1aefdf=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x94e)),_0x27a807=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x9c8)),_0x4c5d6a=document[_0x2e26ca(0x3a8)](_0x2e26ca(0xa8f));topicTab['addEventListener']('click',()=>{const _0x5a720d=_0x2e26ca;topicTab[_0x5a720d(0x542)][_0x5a720d(0x33b)](_0x5a720d(0x34a)),textTab[_0x5a720d(0x542)][_0x5a720d(0x9d0)](_0x5a720d(0x34a)),fileTab[_0x5a720d(0x542)][_0x5a720d(0x9d0)]('active'),worksheetTab[_0x5a720d(0x542)]['remove']('active');if(_0x20a706)_0x20a706[_0x5a720d(0x542)][_0x5a720d(0x9d0)](_0x5a720d(0x34a));if(_0x9dd1d1)_0x9dd1d1['classList']['remove'](_0x5a720d(0x34a));if(_0x27a807)_0x27a807[_0x5a720d(0x542)]['remove'](_0x5a720d(0x34a));topicInputArea[_0x5a720d(0x542)][_0x5a720d(0x9d0)](_0x5a720d(0x49a)),textInputArea['classList'][_0x5a720d(0x33b)]('hidden'),fileInputArea['classList']['add'](_0x5a720d(0x49a)),worksheetInputArea['classList'][_0x5a720d(0x33b)](_0x5a720d(0x49a));if(_0x4c155b)_0x4c155b[_0x5a720d(0x542)]['add'](_0x5a720d(0x49a));if(_0x1aefdf)_0x1aefdf[_0x5a720d(0x542)][_0x5a720d(0x33b)](_0x5a720d(0x49a));if(_0x4c5d6a)_0x4c5d6a[_0x5a720d(0x542)][_0x5a720d(0x33b)](_0x5a720d(0x49a));}),textTab['addEventListener'](_0x2e26ca(0x2ea),()=>{const _0x114ad9=_0x2e26ca;textTab[_0x114ad9(0x542)][_0x114ad9(0x33b)]('active'),topicTab[_0x114ad9(0x542)]['remove'](_0x114ad9(0x34a)),fileTab[_0x114ad9(0x542)][_0x114ad9(0x9d0)](_0x114ad9(0x34a)),worksheetTab['classList'][_0x114ad9(0x9d0)](_0x114ad9(0x34a));if(_0x20a706)_0x20a706[_0x114ad9(0x542)][_0x114ad9(0x9d0)]('active');if(_0x9dd1d1)_0x9dd1d1[_0x114ad9(0x542)]['remove'](_0x114ad9(0x34a));if(_0x27a807)_0x27a807[_0x114ad9(0x542)][_0x114ad9(0x9d0)](_0x114ad9(0x34a));textInputArea[_0x114ad9(0x542)][_0x114ad9(0x9d0)](_0x114ad9(0x49a)),topicInputArea['classList'][_0x114ad9(0x33b)](_0x114ad9(0x49a)),fileInputArea[_0x114ad9(0x542)][_0x114ad9(0x33b)]('hidden'),worksheetInputArea[_0x114ad9(0x542)]['add'](_0x114ad9(0x49a));if(_0x4c155b)_0x4c155b[_0x114ad9(0x542)][_0x114ad9(0x33b)](_0x114ad9(0x49a));if(_0x1aefdf)_0x1aefdf[_0x114ad9(0x542)][_0x114ad9(0x33b)]('hidden');if(_0x4c5d6a)_0x4c5d6a['classList'][_0x114ad9(0x33b)](_0x114ad9(0x49a));}),fileTab['addEventListener']('click',()=>{const _0x523dcc=_0x2e26ca;fileTab[_0x523dcc(0x542)][_0x523dcc(0x33b)](_0x523dcc(0x34a)),topicTab['classList']['remove']('active'),textTab[_0x523dcc(0x542)][_0x523dcc(0x9d0)]('active'),worksheetTab['classList'][_0x523dcc(0x9d0)](_0x523dcc(0x34a));if(_0x20a706)_0x20a706[_0x523dcc(0x542)]['remove'](_0x523dcc(0x34a));if(_0x9dd1d1)_0x9dd1d1['classList']['remove'](_0x523dcc(0x34a));if(_0x27a807)_0x27a807[_0x523dcc(0x542)][_0x523dcc(0x9d0)](_0x523dcc(0x34a));fileInputArea[_0x523dcc(0x542)]['remove'](_0x523dcc(0x49a)),topicInputArea[_0x523dcc(0x542)][_0x523dcc(0x33b)]('hidden'),textInputArea[_0x523dcc(0x542)][_0x523dcc(0x33b)](_0x523dcc(0x49a)),worksheetInputArea[_0x523dcc(0x542)][_0x523dcc(0x33b)](_0x523dcc(0x49a));if(_0x4c155b)_0x4c155b[_0x523dcc(0x542)][_0x523dcc(0x33b)]('hidden');if(_0x1aefdf)_0x1aefdf[_0x523dcc(0x542)]['add']('hidden');if(_0x4c5d6a)_0x4c5d6a[_0x523dcc(0x542)]['add'](_0x523dcc(0x49a));}),worksheetTab['addEventListener']('click',()=>{const _0x213abd=_0x2e26ca;worksheetTab[_0x213abd(0x542)][_0x213abd(0x33b)]('active'),topicTab[_0x213abd(0x542)][_0x213abd(0x9d0)](_0x213abd(0x34a)),textTab['classList'][_0x213abd(0x9d0)](_0x213abd(0x34a)),fileTab[_0x213abd(0x542)][_0x213abd(0x9d0)](_0x213abd(0x34a));if(_0x20a706)_0x20a706['classList'][_0x213abd(0x9d0)](_0x213abd(0x34a));if(_0x9dd1d1)_0x9dd1d1['classList'][_0x213abd(0x9d0)](_0x213abd(0x34a));if(_0x27a807)_0x27a807['classList'][_0x213abd(0x9d0)](_0x213abd(0x34a));worksheetInputArea[_0x213abd(0x542)]['remove'](_0x213abd(0x49a)),topicInputArea[_0x213abd(0x542)][_0x213abd(0x33b)](_0x213abd(0x49a)),textInputArea[_0x213abd(0x542)]['add']('hidden'),fileInputArea[_0x213abd(0x542)][_0x213abd(0x33b)](_0x213abd(0x49a));if(_0x4c155b)_0x4c155b[_0x213abd(0x542)][_0x213abd(0x33b)](_0x213abd(0x49a));if(_0x1aefdf)_0x1aefdf[_0x213abd(0x542)][_0x213abd(0x33b)](_0x213abd(0x49a));if(_0x4c5d6a)_0x4c5d6a['classList'][_0x213abd(0x33b)](_0x213abd(0x49a));});const _0x27180d=document['getElementById']('bank-tab'),_0x1af04d=document['getElementById'](_0x2e26ca(0x69e));_0x27180d&&_0x27180d[_0x2e26ca(0x4f9)]('click',()=>{const _0x12b5b3=_0x2e26ca;topicTab[_0x12b5b3(0x542)]['remove'](_0x12b5b3(0x34a)),textTab[_0x12b5b3(0x542)]['remove'](_0x12b5b3(0x34a)),fileTab[_0x12b5b3(0x542)][_0x12b5b3(0x9d0)](_0x12b5b3(0x34a)),worksheetTab[_0x12b5b3(0x542)][_0x12b5b3(0x9d0)]('active');if(_0x20a706)_0x20a706[_0x12b5b3(0x542)][_0x12b5b3(0x9d0)]('active');if(_0x9dd1d1)_0x9dd1d1[_0x12b5b3(0x542)][_0x12b5b3(0x9d0)](_0x12b5b3(0x34a));if(_0x27a807)_0x27a807['classList'][_0x12b5b3(0x9d0)](_0x12b5b3(0x34a));_0x27180d[_0x12b5b3(0x542)][_0x12b5b3(0x33b)](_0x12b5b3(0x34a)),topicInputArea[_0x12b5b3(0x542)]['add'](_0x12b5b3(0x49a)),textInputArea[_0x12b5b3(0x542)][_0x12b5b3(0x33b)](_0x12b5b3(0x49a)),fileInputArea['classList'][_0x12b5b3(0x33b)]('hidden'),worksheetInputArea[_0x12b5b3(0x542)][_0x12b5b3(0x33b)]('hidden');if(_0x4c155b)_0x4c155b[_0x12b5b3(0x542)]['add'](_0x12b5b3(0x49a));if(_0x1aefdf)_0x1aefdf['classList'][_0x12b5b3(0x33b)](_0x12b5b3(0x49a));if(_0x4c5d6a)_0x4c5d6a[_0x12b5b3(0x542)][_0x12b5b3(0x33b)](_0x12b5b3(0x49a));_0x1af04d[_0x12b5b3(0x542)][_0x12b5b3(0x9d0)](_0x12b5b3(0x49a)),displayQuestionBank();});_0x20a706&&(_0x20a706['addEventListener'](_0x2e26ca(0x2ea),()=>{const _0x314ef3=_0x2e26ca;_0x20a706[_0x314ef3(0x542)][_0x314ef3(0x33b)](_0x314ef3(0x34a)),topicTab[_0x314ef3(0x542)][_0x314ef3(0x9d0)](_0x314ef3(0x34a)),textTab[_0x314ef3(0x542)][_0x314ef3(0x9d0)](_0x314ef3(0x34a)),fileTab[_0x314ef3(0x542)][_0x314ef3(0x9d0)]('active'),worksheetTab[_0x314ef3(0x542)][_0x314ef3(0x9d0)](_0x314ef3(0x34a));if(_0x9dd1d1)_0x9dd1d1[_0x314ef3(0x542)][_0x314ef3(0x9d0)](_0x314ef3(0x34a));if(_0x27a807)_0x27a807[_0x314ef3(0x542)][_0x314ef3(0x9d0)]('active');_0x4c155b[_0x314ef3(0x542)][_0x314ef3(0x9d0)](_0x314ef3(0x49a)),topicInputArea[_0x314ef3(0x542)][_0x314ef3(0x33b)]('hidden'),textInputArea[_0x314ef3(0x542)][_0x314ef3(0x33b)](_0x314ef3(0x49a)),fileInputArea[_0x314ef3(0x542)][_0x314ef3(0x33b)]('hidden'),worksheetInputArea['classList'][_0x314ef3(0x33b)](_0x314ef3(0x49a));if(_0x1aefdf)_0x1aefdf['classList'][_0x314ef3(0x33b)](_0x314ef3(0x49a));if(_0x4c5d6a)_0x4c5d6a[_0x314ef3(0x542)][_0x314ef3(0x33b)](_0x314ef3(0x49a));}),document[_0x2e26ca(0x3a8)]('generate-from-link-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleGenerateFromLink));_0x9dd1d1&&_0x9dd1d1[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x2e4169=_0x2e26ca;_0x9dd1d1[_0x2e4169(0x542)][_0x2e4169(0x33b)](_0x2e4169(0x34a)),topicTab[_0x2e4169(0x542)]['remove'](_0x2e4169(0x34a)),textTab[_0x2e4169(0x542)]['remove'](_0x2e4169(0x34a)),fileTab[_0x2e4169(0x542)]['remove'](_0x2e4169(0x34a)),worksheetTab['classList'][_0x2e4169(0x9d0)]('active');if(_0x20a706)_0x20a706[_0x2e4169(0x542)][_0x2e4169(0x9d0)](_0x2e4169(0x34a));if(_0x27180d)_0x27180d[_0x2e4169(0x542)][_0x2e4169(0x9d0)](_0x2e4169(0x34a));if(_0x27a807)_0x27a807[_0x2e4169(0x542)][_0x2e4169(0x9d0)](_0x2e4169(0x34a));_0x1aefdf[_0x2e4169(0x542)]['remove'](_0x2e4169(0x49a)),topicInputArea[_0x2e4169(0x542)][_0x2e4169(0x33b)](_0x2e4169(0x49a)),textInputArea[_0x2e4169(0x542)][_0x2e4169(0x33b)](_0x2e4169(0x49a)),fileInputArea[_0x2e4169(0x542)][_0x2e4169(0x33b)]('hidden'),worksheetInputArea[_0x2e4169(0x542)]['add'](_0x2e4169(0x49a));if(_0x4c155b)_0x4c155b[_0x2e4169(0x542)]['add'](_0x2e4169(0x49a));if(_0x1af04d)_0x1af04d[_0x2e4169(0x542)]['add'](_0x2e4169(0x49a));if(_0x4c5d6a)_0x4c5d6a[_0x2e4169(0x542)]['add'](_0x2e4169(0x49a));});_0x27a807&&_0x27a807[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x16ea78=_0x2e26ca;_0x27a807[_0x16ea78(0x542)][_0x16ea78(0x33b)](_0x16ea78(0x34a)),topicTab[_0x16ea78(0x542)][_0x16ea78(0x9d0)](_0x16ea78(0x34a)),textTab[_0x16ea78(0x542)][_0x16ea78(0x9d0)](_0x16ea78(0x34a)),fileTab[_0x16ea78(0x542)][_0x16ea78(0x9d0)](_0x16ea78(0x34a)),worksheetTab[_0x16ea78(0x542)][_0x16ea78(0x9d0)](_0x16ea78(0x34a));if(_0x20a706)_0x20a706[_0x16ea78(0x542)]['remove']('active');if(_0x9dd1d1)_0x9dd1d1[_0x16ea78(0x542)]['remove'](_0x16ea78(0x34a));if(_0x27180d)_0x27180d['classList']['remove'](_0x16ea78(0x34a));_0x4c5d6a['classList'][_0x16ea78(0x9d0)]('hidden'),topicInputArea[_0x16ea78(0x542)]['add'](_0x16ea78(0x49a)),textInputArea[_0x16ea78(0x542)]['add'](_0x16ea78(0x49a)),fileInputArea[_0x16ea78(0x542)][_0x16ea78(0x33b)](_0x16ea78(0x49a)),worksheetInputArea['classList'][_0x16ea78(0x33b)](_0x16ea78(0x49a));if(_0x4c155b)_0x4c155b[_0x16ea78(0x542)][_0x16ea78(0x33b)](_0x16ea78(0x49a));if(_0x1aefdf)_0x1aefdf[_0x16ea78(0x542)][_0x16ea78(0x33b)]('hidden');if(_0x1af04d)_0x1af04d['classList'][_0x16ea78(0x33b)]('hidden');});const _0x427294=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x968)),_0x5c05d8=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x6b3));if(_0x427294){const _0x2ede5c=document[_0x2e26ca(0x3a8)]('blueprint-upload-input'),_0x2f88cc=document['getElementById'](_0x2e26ca(0x6b3)),_0x21cb71=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x858)),_0x2088dc=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x89e)),_0x1f15a6=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x1aa)),_0x59c10f=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x6ab));_0x2ede5c&&_0x2ede5c['addEventListener'](_0x2e26ca(0xabc),async _0x12311f=>{const _0x45fc04=_0x2e26ca;_0x21cb71[_0x45fc04(0x542)][_0x45fc04(0x33b)](_0x45fc04(0x49a)),_0x1f15a6[_0x45fc04(0x542)][_0x45fc04(0x33b)](_0x45fc04(0x49a)),_0x2088dc['checked']=![],_0x2f88cc[_0x45fc04(0x709)]=!![];const _0x8a4749=_0x12311f[_0x45fc04(0x604)]['files'][0x0];if(_0x8a4749){_0x2f88cc[_0x45fc04(0x709)]=![];try{const _0x3d01ee=await extractTextFromPdf(_0x8a4749);await analyzeBlueprintForTopics(_0x3d01ee);}catch(_0x1ad541){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x21cb71[_0x45fc04(0x542)][_0x45fc04(0x33b)]('hidden');}}}),_0x2088dc&&_0x2088dc['addEventListener'](_0x2e26ca(0xabc),_0x177a1f=>{const _0x311b46=_0x2e26ca,_0x5ba5c6=_0x177a1f[_0x311b46(0x604)][_0x311b46(0x69c)];_0x1f15a6['classList'][_0x311b46(0x50e)](_0x311b46(0x49a),!_0x5ba5c6),_0x2f88cc['disabled']=_0x5ba5c6;}),_0x59c10f&&(_0x59c10f&&_0x59c10f[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),_0x4a7e59=>{const _0x278ac2=_0x2e26ca,_0x4be7ac=_0x4a7e59[_0x278ac2(0x604)]['closest']('.topic-selection-btn'),_0x19f3c1=_0x4a7e59[_0x278ac2(0x604)][_0x278ac2(0x2f4)]('.generate-content-btn');if(_0x4be7ac){const _0x56e814=unescape(_0x4be7ac[_0x278ac2(0x483)]['topic']);generateQuizForSingleTopic(_0x56e814);}else{if(_0x19f3c1){const _0x569b1e=unescape(_0x19f3c1['dataset'][_0x278ac2(0x339)]);handleGenerateTeachingContent(_0x569b1e);}}}));}_0x5c05d8&&_0x5c05d8['addEventListener'](_0x2e26ca(0x2ea),handleGenerateFromBlueprint);const _0x3e2ddf=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x8d2)),_0x198f52=document['getElementById']('generate-from-parallel-test-btn');_0x3e2ddf&&_0x3e2ddf[_0x2e26ca(0x4f9)](_0x2e26ca(0xabc),_0x345c08=>{const _0x132430=_0x2e26ca;_0x198f52[_0x132430(0x709)]=_0x345c08[_0x132430(0x604)]['files'][_0x132430(0x6b0)]===0x0;});_0x198f52&&_0x198f52[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleGenerateParallelTest);loadQuizBtn[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleLoadQuiz),startQuizBtn[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),async()=>{const _0x4a5566=_0x2e26ca,_0x3bee56=document[_0x4a5566(0x3a8)]('student-name-select');currentStudentName=_0x3bee56['value'];if(!currentStudentName){showMessage(_0x4a5566(0x31f));return;}try{const _0x31c945=currentQuizData['id'],_0x48246f=doc(db,_0x4a5566(0x714)+appId+_0x4a5566(0x667)+_0x31c945+'/submissions',currentStudentName),_0x278a86=await getDoc(_0x48246f);!_0x278a86['exists']()?await setDoc(_0x48246f,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x48246f,{'startedAt':new Date()[_0x4a5566(0x473)]()});}catch(_0x47c234){console[_0x4a5566(0x77b)](_0x4a5566(0x37d),_0x47c234),showMessage(_0x4a5566(0xbf0));return;}studentNameSelectionView[_0x4a5566(0x542)][_0x4a5566(0x33b)](_0x4a5566(0x49a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x771))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),showJoinGameView),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xc0f))['addEventListener'](_0x2e26ca(0x2ea),handleJoinLiveGame),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x8f9))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>showView(_0x2e26ca(0x6ce)));const _0x47e2c4=()=>{const _0x3d02e9=_0x2e26ca,_0x191468=document[_0x3d02e9(0x3a8)](_0x3d02e9(0xbc1))[_0x3d02e9(0x20d)][_0x3d02e9(0x4a7)](/[^a-z0-9]/gi,'_')[_0x3d02e9(0x344)]();return _0x3d02e9(0x8c9)+(_0x191468||_0x3d02e9(0x8a9));},_0x1e3b87=document['getElementById'](_0x2e26ca(0x9cf));_0x1e3b87&&_0x1e3b87[_0x2e26ca(0x4f9)](_0x2e26ca(0x1ea),_0xdd2544=>{const _0x5205be=_0x2e26ca,_0x453374=_0xdd2544[_0x5205be(0x604)][_0x5205be(0xac6)][_0x5205be(0x344)]()[_0x5205be(0x7a5)](),_0x2a1e8d=document['getElementById'](_0x5205be(0x787)),_0x55cfd5=_0x2a1e8d[_0x5205be(0x4a1)](_0x5205be(0x5e7));_0x55cfd5['forEach'](_0x40c01a=>{const _0x3330ad=_0x5205be;let _0x29bbed=![];const _0x58b9e9=_0x40c01a[_0x3330ad(0x4a1)](_0x3330ad(0xa37));_0x58b9e9[_0x3330ad(0x519)](_0x2c58b0=>{const _0x4e2a2f=_0x3330ad,_0x3549dc=_0x2c58b0[_0x4e2a2f(0x3a0)]('.topic-name-display')[_0x4e2a2f(0x20d)][_0x4e2a2f(0x344)]();_0x3549dc['includes'](_0x453374)?(_0x2c58b0[_0x4e2a2f(0x43c)][_0x4e2a2f(0x2cb)]=_0x4e2a2f(0x67b),_0x29bbed=!![]):_0x2c58b0['style']['display']=_0x4e2a2f(0x60e);}),_0x29bbed?_0x40c01a[_0x3330ad(0x43c)][_0x3330ad(0x2cb)]='block':_0x40c01a[_0x3330ad(0x43c)][_0x3330ad(0x2cb)]=_0x3330ad(0x60e);});});document[_0x2e26ca(0x3a8)]('export-image-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>exportTableAsImage(_0x2e26ca(0x496),_0x47e2c4())),document[_0x2e26ca(0x3a8)]('export-pdf-btn')[_0x2e26ca(0x4f9)]('click',()=>exportTableAsPDF(_0x2e26ca(0x2e2),_0x47e2c4())),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x926))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>exportTableAsWord('results-table-container',_0x47e2c4())),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x456))[_0x2e26ca(0x4f9)]('click',()=>exportTableAsExcel(_0x2e26ca(0x2e2),_0x47e2c4()));const _0x4ea34f=()=>{const _0x20d075=_0x2e26ca,_0x37ad2d=document[_0x20d075(0x3a8)](_0x20d075(0xbc1))[_0x20d075(0x20d)]['replace'](/[^a-z0-9]/gi,'_')[_0x20d075(0x344)]();return _0x20d075(0x6dc)+(_0x37ad2d||_0x20d075(0x8a9));};document[_0x2e26ca(0x3a8)](_0x2e26ca(0x8a7))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>exportTableAsImage(_0x2e26ca(0x375),_0x4ea34f())),document['getElementById']('export-leaderboard-pdf-btn')['addEventListener']('click',()=>exportTableAsPDF('quiz-leaderboard-table',_0x4ea34f())),document['getElementById']('export-leaderboard-word-btn')['addEventListener'](_0x2e26ca(0x2ea),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4ea34f())),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x515))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>exportTableAsExcel(_0x2e26ca(0x4aa),_0x4ea34f())),projectQuizzesList[_0x2e26ca(0x4f9)]('click',async _0x2cff09=>{const _0x3d8b6e=_0x2e26ca,_0x16dd56=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x94b)),_0x4f6ce9=_0x2cff09['target']['closest'](_0x3d8b6e(0x7b6)),_0x579075=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x9f8)),_0x712417=_0x2cff09['target'][_0x3d8b6e(0x2f4)]('.generate-lesson-btn'),_0x4a742d=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0xb13)),_0x2ba591=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x9af)),_0x34a156=_0x2cff09['target']['closest']('.edit-quiz-btn'),_0x4d0cb0=_0x2cff09['target'][_0x3d8b6e(0x2f4)]('.quiz-settings-btn'),_0x45fdcc=_0x2cff09['target'][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x6a6)),_0x3e3392=_0x2cff09['target']['closest'](_0x3d8b6e(0x6b7)),_0x35af63=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x9b6)),_0x4f57bc=_0x2cff09[_0x3d8b6e(0x604)]['closest'](_0x3d8b6e(0x894)),_0x3293e0=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x27d)),_0x55dd74=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x216)),_0x2cc7e3=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x5d3)),_0x2e9ef0=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x572)),_0x2b4dbe=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x2ed)),_0x3e71fc=_0x2cff09[_0x3d8b6e(0x604)]['closest']('.delete-quiz-btn'),_0x4be794=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x278)),_0x1c19e1=_0x2cff09[_0x3d8b6e(0x604)][_0x3d8b6e(0x2f4)](_0x3d8b6e(0xb27)),_0x1e6580=_0x2cff09['target'][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x75d)),_0x2729b1=_0x2cff09['target'][_0x3d8b6e(0x2f4)](_0x3d8b6e(0x21b)),_0x39998f=_0x2cff09['target']['closest'](_0x3d8b6e(0x26c));if(_0x2729b1){const _0x2af2e2=_0x2729b1[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)],_0xaf7c90=_0x2729b1[_0x3d8b6e(0x483)]['mode'],_0x153df6=allQuizzes[_0x3d8b6e(0x301)](_0x309e45=>_0x309e45['id']===_0x2af2e2);_0x153df6&&showGameStartConfirmationModal(_0x2af2e2,_0xaf7c90,_0x153df6[_0x3d8b6e(0x339)]);}else{if(_0x39998f){const _0xb63902=_0x39998f['dataset'][_0x3d8b6e(0xb39)];handleStartLiveRace(_0xb63902);}else{if(_0x1c19e1){const _0x524fd7=_0x1c19e1[_0x3d8b6e(0x483)]['quizId'],_0x262584=document[_0x3d8b6e(0x3a8)]('actions-container-'+_0x524fd7);_0x262584&&_0x262584[_0x3d8b6e(0x542)][_0x3d8b6e(0x50e)]('hidden');}else{if(_0x4f6ce9){const _0x3fe10c=_0x4f6ce9[_0x3d8b6e(0x483)]['quizId'],_0x511d5e=allQuizzes['find'](_0xbda691=>_0xbda691['id']===_0x3fe10c);_0x511d5e&&handleGenerateParallelPostTest(_0x511d5e);}else{if(_0x579075)handleCompareResults(_0x579075['dataset'][_0x3d8b6e(0xb39)],_0x579075[_0x3d8b6e(0x483)][_0x3d8b6e(0x27e)]);else{if(_0x712417){const _0x2200ab=_0x712417['dataset'][_0x3d8b6e(0xb39)],_0x27bea2=allQuizzes[_0x3d8b6e(0x301)](_0x4b04c4=>_0x4b04c4['id']===_0x2200ab);_0x27bea2&&_0x27bea2[_0x3d8b6e(0x9a5)]?(displayLessonPlan(_0x27bea2[_0x3d8b6e(0x9a5)],_0x27bea2),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x2200ab)),document['getElementById'](_0x3d8b6e(0xa99))[_0x3d8b6e(0x3a0)]('h3')[_0x3d8b6e(0x20d)]=_0x3d8b6e(0x27f),document['getElementById'](_0x3d8b6e(0x798))[_0x3d8b6e(0x20d)]=_0x3d8b6e(0x6cd)):handleGenerateLessonPlan(_0x2200ab);}else{if(_0x4a742d)handleToggleStarQuiz(_0x4a742d['dataset'][_0x3d8b6e(0xb39)]);else{if(_0x2ba591)copyTextToClipboard(_0x2ba591[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)],_0x3d8b6e(0x7b1));else{if(_0x34a156)handleOpenQuizEditor(_0x34a156[_0x3d8b6e(0x483)]['quizId']);else{if(_0x4d0cb0)handleQuizSettings(_0x4d0cb0[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)]);else{if(_0x45fdcc)handleDuplicateQuiz(_0x45fdcc[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)]);else{if(_0x3e3392)handleRenameQuiz(_0x3e3392[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)],_0x3e3392[_0x3d8b6e(0x483)]['topic']);else{if(_0x35af63){const _0x451af3=_0x35af63[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)],_0x2917b9=allQuizzes[_0x3d8b6e(0x301)](_0x4cbf30=>_0x4cbf30['id']===_0x451af3);_0x2917b9&&handleGenerateParallelFromBank(_0x2917b9);}else{if(_0x4f57bc)handleMoveQuiz(_0x4f57bc[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)]);else{if(_0x3293e0)handleManualQuizPairing(_0x3293e0[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)]);else{if(_0x55dd74)handleUnpairQuiz(_0x55dd74[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)]);else{if(_0x2cc7e3){const _0x32e69e=_0x2cc7e3[_0x3d8b6e(0x483)]['quizId'],_0x5afc88=allQuizzes[_0x3d8b6e(0x301)](_0x3214ad=>_0x3214ad['id']===_0x32e69e);if(_0x5afc88)startPresentation(_0x5afc88);}else{if(_0x2e9ef0){const _0x232311=_0x2e9ef0[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)],_0x1133df=allQuizzes[_0x3d8b6e(0x301)](_0x33283c=>_0x33283c['id']===_0x232311);_0x1133df&&(currentQuizData=_0x1133df,startAdminTest());}else{if(_0x2b4dbe)actionTargetId=_0x2b4dbe[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)],document[_0x3d8b6e(0x3a8)]('export-pdf-modal')[_0x3d8b6e(0x542)][_0x3d8b6e(0x9d0)](_0x3d8b6e(0x49a));else{if(_0x3e71fc)showConfirmation(_0x3d8b6e(0x5fc)+_0x3e71fc[_0x3d8b6e(0x483)][_0x3d8b6e(0x339)]+_0x3d8b6e(0x6d3),()=>handleDeleteQuiz(_0x3e71fc[_0x3d8b6e(0x483)]['quizId']));else{if(_0x4be794)handleQuizStatus(_0x4be794[_0x3d8b6e(0x483)][_0x3d8b6e(0xb39)]);else{if(_0x1e6580)handleGenerateEasyVersionQuiz(_0x1e6580[_0x3d8b6e(0x483)]['quizId']);else _0x16dd56&&showQuizDetailView(_0x16dd56['dataset'][_0x3d8b6e(0xb39)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x912))['addEventListener']('click',()=>showView(_0x2e26ca(0x6ce))),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xa72))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),confirmAndStartTeamQuiz),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x4aa))[_0x2e26ca(0x3a0)](_0x2e26ca(0x6e9))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),_0x117568=>{const _0x6ba2c4=_0x2e26ca,_0x500af8=_0x117568[_0x6ba2c4(0x604)]['closest']('.sortable-header');if(!_0x500af8||!_0x500af8[_0x6ba2c4(0x483)][_0x6ba2c4(0x843)])return;const _0x4675df=_0x500af8['dataset'][_0x6ba2c4(0x843)];if(quizLeaderboardSortBy===_0x4675df)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x6ba2c4(0x516)?_0x6ba2c4(0x24a):'asc';else{quizLeaderboardSortBy=_0x4675df;const _0x254710=[_0x6ba2c4(0xa0b)];quizLeaderboardSortOrder=_0x254710[_0x6ba2c4(0xbba)](_0x4675df)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x6ba2c4(0xaf7));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x859))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),closePresentation),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x9c1))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xb47))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x422aaa=_0x2e26ca;currentQuizData[_0x422aaa(0xb4f)]&&currentPresentationSlide<currentQuizData[_0x422aaa(0xb4f)][_0x422aaa(0x6b0)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x2e26ca(0x4f9)](_0x2e26ca(0x62a),()=>{const _0x2232f7=_0x2e26ca;!document[_0x2232f7(0x6af)]&&(presentationModal['style'][_0x2232f7(0x2cb)]=_0x2232f7(0x60e));}),document['getElementById'](_0x2e26ca(0xbd7))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleDeleteAllStudents),studentList[_0x2e26ca(0x4f9)]('click',_0x4d15bc=>{const _0x167a57=_0x2e26ca,_0x46f599=_0x4d15bc[_0x167a57(0x604)][_0x167a57(0x2f4)]('.delete-student-btn');if(_0x46f599){const _0x5e1450=_0x46f599[_0x167a57(0x483)][_0x167a57(0xa0b)];handleDeleteStudent(_0x5e1450);}}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x2e7))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),handleGenerateFromFileClick),fileUploadInput['addEventListener']('change',_0x351c05=>{const _0x558188=_0x2e26ca,_0x476200=_0x351c05['target']['files'][0x0],_0x3c8830=document[_0x558188(0x3a8)](_0x558188(0x2e7)),_0x2f45b0=document[_0x558188(0x3a8)](_0x558188(0x333)),_0x458487=document[_0x558188(0x3a8)]('separate-by-content-from-file-checkbox');_0x476200?(selectedFile=_0x476200,_0x458487[_0x558188(0x69c)]?(_0x3c8830['disabled']=!![],analyzeFileForTopics(_0x476200)):(_0x3c8830[_0x558188(0x709)]=![],_0x2f45b0[_0x558188(0x542)]['add']('hidden'))):(selectedFile=null,_0x3c8830[_0x558188(0x709)]=!![],_0x2f45b0['classList'][_0x558188(0x33b)](_0x558188(0x49a)));}),document['getElementById'](_0x2e26ca(0x629))[_0x2e26ca(0x4f9)](_0x2e26ca(0xabc),_0x271939=>{const _0x1c5872=_0x2e26ca,_0x4fb3fa=_0x271939['target'][_0x1c5872(0x69c)],_0x3f25a7=document[_0x1c5872(0x3a8)](_0x1c5872(0x2e7)),_0x2fe4e5=document[_0x1c5872(0x3a8)](_0x1c5872(0x333));_0x4fb3fa?(_0x3f25a7[_0x1c5872(0x709)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x2fe4e5[_0x1c5872(0x542)][_0x1c5872(0x9d0)](_0x1c5872(0x49a)),document['getElementById']('file-topics-list')[_0x1c5872(0x888)]=_0x1c5872(0x247))):(_0x2fe4e5[_0x1c5872(0x542)][_0x1c5872(0x33b)](_0x1c5872(0x49a)),_0x3f25a7[_0x1c5872(0x709)]=!selectedFile);}),document['getElementById'](_0x2e26ca(0x333))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),_0x165462=>{const _0x5b78e0=_0x2e26ca,_0x53e14c=_0x165462[_0x5b78e0(0x604)]['closest'](_0x5b78e0(0x39a)),_0x4203ee=_0x165462[_0x5b78e0(0x604)][_0x5b78e0(0x2f4)](_0x5b78e0(0xa8e));if(_0x53e14c){const _0x188ae6=unescape(_0x53e14c['dataset'][_0x5b78e0(0x339)]);generateHybridQuizForTopic(_0x188ae6);}else{if(_0x4203ee){const _0x1559d8=unescape(_0x4203ee[_0x5b78e0(0x483)]['topic']),_0x1e1a0a=document[_0x5b78e0(0x3a8)](_0x5b78e0(0x1df))['value'];handleGenerateAndShowLesson(_0x1559d8,_0x1e1a0a);}}}),document['getElementById'](_0x2e26ca(0x89b))[_0x2e26ca(0x4f9)]('change',_0x4652ba=>{const _0x4423e5=_0x2e26ca,_0x4a5ec4=document['getElementById'](_0x4423e5(0x200)),_0x250a70=document['getElementById'](_0x4423e5(0x38c)),_0x729fd6=document[_0x4423e5(0x3a8)]('timer-duration-input');_0x4652ba[_0x4423e5(0x604)][_0x4423e5(0xac6)]===_0x4423e5(0x60e)?_0x4a5ec4[_0x4423e5(0x542)]['add'](_0x4423e5(0x49a)):(_0x4a5ec4[_0x4423e5(0x542)][_0x4423e5(0x9d0)](_0x4423e5(0x49a)),_0x4652ba[_0x4423e5(0x604)]['value']===_0x4423e5(0x1fe)?(_0x250a70[_0x4423e5(0x20d)]=_0x4423e5(0x1b2),_0x729fd6[_0x4423e5(0xac6)]='10'):(_0x250a70[_0x4423e5(0x20d)]=_0x4423e5(0x867),_0x729fd6[_0x4423e5(0xac6)]='30'));}),document[_0x2e26ca(0x3a8)]('quiz-type-select')[_0x2e26ca(0x4f9)](_0x2e26ca(0xabc),_0x5c9564=>{const _0x2d4ae6=_0x2e26ca,_0x4d81c5=document[_0x2d4ae6(0x3a8)](_0x2d4ae6(0x213)),_0x2e16f2=_0x5c9564['target'][_0x2d4ae6(0xac6)],_0x1d5b85=document[_0x2d4ae6(0x3a0)](_0x2d4ae6(0xba2)),_0x1942da=document[_0x2d4ae6(0x3a8)]('passing-score-input'),_0x1f681c=document[_0x2d4ae6(0x3a8)](_0x2d4ae6(0x568));_0x2e16f2===_0x2d4ae6(0xc00)?_0x1d5b85[_0x2d4ae6(0x20d)]=_0x2d4ae6(0xa2c):_0x1d5b85['textContent']=_0x2d4ae6(0x651),_0x2e16f2==='multiple_choice'||_0x2e16f2===_0x2d4ae6(0x6d1)||_0x2e16f2===_0x2d4ae6(0x1ec)?_0x4d81c5[_0x2d4ae6(0x542)][_0x2d4ae6(0x9d0)](_0x2d4ae6(0x49a)):_0x4d81c5[_0x2d4ae6(0x542)]['add'](_0x2d4ae6(0x49a)),_0x1942da['max']=_0x1f681c[_0x2d4ae6(0xac6)];}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x568))[_0x2e26ca(0x4f9)](_0x2e26ca(0x1ea),_0x199adb=>{const _0x5b2b8f=_0x2e26ca;document[_0x5b2b8f(0x3a8)](_0x5b2b8f(0x313))[_0x5b2b8f(0x21a)]=_0x199adb['target'][_0x5b2b8f(0xac6)];}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x6bf))['addEventListener']('change',_0x1f2feb=>{const _0x1b52bf=_0x2e26ca,_0xe5371d=document[_0x1b52bf(0x3a8)]('modal-timer-duration-container'),_0x2bf1cb=document[_0x1b52bf(0x3a8)](_0x1b52bf(0x2df)),_0x34c114=document['getElementById'](_0x1b52bf(0x9a0));_0x1f2feb[_0x1b52bf(0x604)][_0x1b52bf(0xac6)]===_0x1b52bf(0x60e)?_0xe5371d[_0x1b52bf(0x542)][_0x1b52bf(0x33b)](_0x1b52bf(0x49a)):(_0xe5371d[_0x1b52bf(0x542)][_0x1b52bf(0x9d0)](_0x1b52bf(0x49a)),_0x1f2feb[_0x1b52bf(0x604)][_0x1b52bf(0xac6)]==='whole_quiz'?_0x2bf1cb[_0x1b52bf(0x20d)]='ระยะเวลา\x20(นาที):':_0x2bf1cb[_0x1b52bf(0x20d)]=_0x1b52bf(0x867));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xb50))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x1c878c=_0x2e26ca;document['getElementById'](_0x1c878c(0x892))[_0x1c878c(0x542)][_0x1c878c(0x33b)](_0x1c878c(0x49a));}),document['getElementById'](_0x2e26ca(0x91b))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x38a466=_0x2e26ca;document[_0x38a466(0x3a8)]('quiz-editor-modal')['classList'][_0x38a466(0x33b)](_0x38a466(0x49a));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x3c1))[_0x2e26ca(0x4f9)]('click',handleVerifyAnswersInEditor),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x1e6))['addEventListener'](_0x2e26ca(0x2ea),()=>{const _0x19dc9a=_0x2e26ca;document[_0x19dc9a(0x3a8)]('quiz-editor-modal')[_0x19dc9a(0x542)][_0x19dc9a(0x33b)](_0x19dc9a(0x49a)),showConfirmation(_0x19dc9a(0x8ee),handleSaveChanges);}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x4bb))['addEventListener']('click',handleAutoFixLatex);const _0x1df84a=document[_0x2e26ca(0x3a8)]('quiz-editor-questions-container');_0x1df84a&&_0x1df84a[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),_0x3c8852=>{const _0x268dd3=_0x2e26ca,_0x1a2bbf=_0x3c8852[_0x268dd3(0x604)][_0x268dd3(0x2f4)](_0x268dd3(0x7fd)),_0x42667a=_0x3c8852[_0x268dd3(0x604)][_0x268dd3(0x2f4)](_0x268dd3(0x8fc));if(_0x1a2bbf){const _0x5e4412=_0x1a2bbf[_0x268dd3(0x2f4)](_0x268dd3(0x482)),_0x34349b=parseInt(_0x5e4412[_0x268dd3(0x483)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x34349b);}else{if(_0x42667a){const _0x29d34e=_0x42667a[_0x268dd3(0x2f4)]('.question-editor-item'),_0x310325=parseInt(_0x29d34e[_0x268dd3(0x483)]['qIndex'],0xa);handleAiFixFormula(_0x310325);}}});document[_0x2e26ca(0x3a8)]('open-quiz-bank-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),openQuizBankModal),document[_0x2e26ca(0x3a8)]('cancel-quiz-bank-btn')['addEventListener'](_0x2e26ca(0x2ea),()=>{const _0x37581b=_0x2e26ca;document[_0x37581b(0x3a8)](_0x37581b(0xb71))['classList'][_0x37581b(0x33b)]('hidden');}),document[_0x2e26ca(0x3a8)]('bank-quiz-search-input')[_0x2e26ca(0x4f9)]('input',_0x46b936=>renderQuizBankList(_0x46b936[_0x2e26ca(0x604)]['value']));const _0x31496d=document[_0x2e26ca(0x3a8)](_0x2e26ca(0x787));if(_0x31496d){let _0x476263=null;_0x31496d['addEventListener']('click',_0xa3c81=>{const _0x89db3a=_0x2e26ca,_0x48cdf8=_0xa3c81[_0x89db3a(0x604)],_0x2cdbe5=_0x48cdf8['closest']('.edit-custom-topic-btn'),_0x2644fa=_0x48cdf8[_0x89db3a(0x2f4)](_0x89db3a(0xa4b)),_0x2474ea=_0x48cdf8[_0x89db3a(0x2f4)]('.save-custom-topic-btn'),_0x36df2a=_0x48cdf8['closest'](_0x89db3a(0x1e2));if(_0x2644fa){_0xa3c81[_0x89db3a(0x5f6)]();const _0x3b03b7=_0x2644fa['dataset']['id'],_0x281b25=_0x2644fa[_0x89db3a(0x2f4)](_0x89db3a(0x3ff))[_0x89db3a(0x3a0)](_0x89db3a(0x2c4))[_0x89db3a(0x20d)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x281b25+'\x22?',()=>handleDeleteCustomTopic(_0x3b03b7));}else{if(_0x2cdbe5){_0xa3c81[_0x89db3a(0x5f6)]();_0x476263&&toggleTopicEditMode(_0x476263,![]);const _0x31af09=_0x2cdbe5[_0x89db3a(0x2f4)](_0x89db3a(0x753));_0x476263=_0x31af09,toggleTopicEditMode(_0x31af09,!![]);}else{if(_0x2474ea){_0xa3c81[_0x89db3a(0x5f6)]();const _0x50828f=_0x2474ea[_0x89db3a(0x483)]['id'],_0x5bed1c=_0x2474ea[_0x89db3a(0x2f4)](_0x89db3a(0x753)),_0x5187e4=_0x5bed1c[_0x89db3a(0x3a0)](_0x89db3a(0x4bd))['value'];handleUpdateCustomTopic(_0x50828f,_0x5187e4),_0x476263=null;}else{if(_0x36df2a){_0xa3c81[_0x89db3a(0x5f6)]();const _0x59059a=_0x36df2a['closest'](_0x89db3a(0x753));toggleTopicEditMode(_0x59059a,![]),_0x476263=null;}}}}}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0xaec))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x345f6c=_0x2e26ca;document['getElementById'](_0x345f6c(0x655))['classList'][_0x345f6c(0x33b)]('hidden');}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x849))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x28f65c=_0x2e26ca;document[_0x28f65c(0x3a8)](_0x28f65c(0x655))[_0x28f65c(0x542)][_0x28f65c(0x33b)](_0x28f65c(0x49a));}),document[_0x2e26ca(0x3a8)](_0x2e26ca(0x46a))[_0x2e26ca(0x4f9)]('click',handleExportLessonPDF);}document['getElementById'](_0x2e26ca(0x33d))[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x380d4c=_0x2e26ca;document[_0x380d4c(0x3a8)]('comparison-modal')['classList']['add'](_0x380d4c(0x49a));}),document[_0x2e26ca(0x3a8)]('close-comparison-modal-footer-btn')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),()=>{const _0x590b6a=_0x2e26ca;document[_0x590b6a(0x3a8)]('comparison-modal')[_0x590b6a(0x542)][_0x590b6a(0x33b)]('hidden');}),setupComparisonModalTabs(),document[_0x2e26ca(0x70d)][_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),function(_0x9305b7){const _0x1febef=_0x2e26ca;if(_0x9305b7['target'][_0x1febef(0x542)][_0x1febef(0x6e5)](_0x1febef(0x63e))){const _0x193d8f=unescape(_0x9305b7[_0x1febef(0x604)][_0x1febef(0x483)][_0x1febef(0x339)]);startSkillPractice(_0x193d8f);}}),document[_0x2e26ca(0x3a8)]('scores-tab-content')[_0x2e26ca(0x4f9)](_0x2e26ca(0x2ea),_0x2663c9=>{const _0x476350=_0x2e26ca,_0x37ab7d=_0x2663c9[_0x476350(0x604)][_0x476350(0x2f4)]('.delete-submission-btn');if(_0x37ab7d){const _0x1be44c=_0x37ab7d[_0x476350(0x483)][_0x476350(0xa0b)];handleDeleteSubmission(_0x1be44c);}});}async function handleStartGroupMode(_0x348809,_0x2fbfcf=![]){const _0x20cd9f=_0x358d67,_0xcd7307=allQuizzes[_0x20cd9f(0x301)](_0x231cc8=>_0x231cc8['id']===_0x348809)||allQuizzesGlobal[_0x20cd9f(0x301)](_0x284043=>_0x284043['id']===_0x348809);if(!_0xcd7307){showMessage(_0x20cd9f(0x804));return;}currentQuizData=getShuffledQuiz(_0xcd7307);const _0x1019fa=Math['floor'](0x3e8+Math[_0x20cd9f(0x190)]()*0x2328)[_0x20cd9f(0x7a2)]();try{const _0x35885d=await addDoc(collection(db,'artifacts/'+appId+_0x20cd9f(0x6fc)),{'quizId':_0xcd7307['id'],'projectId':_0xcd7307[_0x20cd9f(0x8cb)],'status':_0x20cd9f(0x270),'pin':_0x1019fa,'mode':_0x20cd9f(0x4cd),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2fbfcf});currentTeamQuizId=_0x35885d['id'],showView(_0x20cd9f(0x9e1)),renderAdminTeamQuizDashboard(_0x1019fa,_0xcd7307['topic'],_0x20cd9f(0x4cd)),listenForTeamQuizUpdates();}catch(_0x6739f6){console[_0x20cd9f(0x77b)](_0x20cd9f(0x5cf),_0x6739f6),showMessage(_0x20cd9f(0x86e));}}async function showStudentProgressView(){const _0x422083=_0x358d67;studentInitialView[_0x422083(0x542)][_0x422083(0x33b)](_0x422083(0x49a)),document[_0x422083(0x3a8)](_0x422083(0x55d))[_0x422083(0x542)][_0x422083(0x9d0)]('hidden');const _0x3c8241=document[_0x422083(0x3a8)](_0x422083(0x1cf)),_0x2f159c=document['getElementById']('progress-student-select'),_0x431f4d=document[_0x422083(0x3a8)](_0x422083(0x600));_0x431f4d['innerHTML']=_0x422083(0x830),_0x2f159c[_0x422083(0x888)]=_0x422083(0x4a5),_0x2f159c['disabled']=!![],_0x3c8241[_0x422083(0x888)]=_0x422083(0x308);if(allProjects['length']===0x0){const _0x120ff7=collection(db,_0x422083(0x714)+appId+_0x422083(0x508)),_0x1a9bd3=await getDocs(_0x120ff7);allProjects=_0x1a9bd3['docs']['map'](_0x260a19=>({'id':_0x260a19['id'],..._0x260a19[_0x422083(0x49d)]()}));}const _0x3645db=allProjects[_0x422083(0x47c)](_0x920885=>_0x920885['settings']?.[_0x422083(0xb60)]!==![]);_0x3645db['sort']((_0x2ffb12,_0x28e52c)=>_0x2ffb12[_0x422083(0x426)][_0x422083(0x364)](_0x28e52c[_0x422083(0x426)],'th')),_0x3c8241['innerHTML']=_0x422083(0x271)+_0x3645db[_0x422083(0x8ca)](_0x5bf0ef=>_0x422083(0xaf5)+_0x5bf0ef['id']+'\x22>'+_0x5bf0ef[_0x422083(0x426)]+_0x422083(0x1f9))[_0x422083(0x61f)](''),_0x3c8241[_0x422083(0x97d)]=()=>{const _0x5ef2ff=_0x422083,_0x16fb96=_0x2f159c[_0x5ef2ff(0xac6)],_0x2b6e54=_0x3c8241[_0x5ef2ff(0xac6)];_0x2f159c[_0x5ef2ff(0x709)]=!![],_0x2f159c[_0x5ef2ff(0x888)]=_0x5ef2ff(0x4a5),_0x431f4d[_0x5ef2ff(0x888)]=_0x5ef2ff(0x933);if(!_0x2b6e54)return;const _0x212b69=allProjects[_0x5ef2ff(0x301)](_0x5eca2f=>_0x5eca2f['id']===_0x2b6e54);if(!_0x212b69||!_0x212b69['students'])return;const _0x5d26bb=()=>{const _0x339a4f=_0x5ef2ff;_0x2f159c[_0x339a4f(0x888)]=_0x339a4f(0x4a5)+_0x212b69[_0x339a4f(0xaf3)][_0x339a4f(0x8ca)](_0x5cb087=>_0x339a4f(0xaf5)+_0x5cb087+'\x22>'+_0x5cb087+_0x339a4f(0x1f9))[_0x339a4f(0x61f)](''),_0x2f159c[_0x339a4f(0x709)]=![];const _0x429b60=Array[_0x339a4f(0x367)](_0x2f159c[_0x339a4f(0x994)])[_0x339a4f(0x8ca)](_0xf856bc=>_0xf856bc['value']);if(_0x16fb96&&_0x429b60['includes'](_0x16fb96))_0x2f159c[_0x339a4f(0xac6)]=_0x16fb96,_0x2f159c[_0x339a4f(0x98f)](new Event('change'));else _0x212b69[_0x339a4f(0xaf3)]['length']===0x1&&(_0x2f159c['value']=_0x212b69[_0x339a4f(0xaf3)][0x0],_0x2f159c['dispatchEvent'](new Event(_0x339a4f(0xabc))));};if(_0x212b69['settings']?.['isPasscodeEnabled']){if(sessionStorage['getItem'](_0x5ef2ff(0x2fc)+_0x2b6e54)==='true'){_0x5d26bb();return;}const _0x10ef4f=document[_0x5ef2ff(0x3a8)](_0x5ef2ff(0x8bb)),_0x5ec301=document['getElementById'](_0x5ef2ff(0xb10)),_0x2b275a=document[_0x5ef2ff(0x3a8)](_0x5ef2ff(0x678)),_0x59cc15=document[_0x5ef2ff(0x3a8)](_0x5ef2ff(0x21e)),_0x2d230b=document['getElementById'](_0x5ef2ff(0xaa9));document['getElementById'](_0x5ef2ff(0x770))[_0x5ef2ff(0x20d)]=_0x5ef2ff(0xadc)+_0x212b69[_0x5ef2ff(0x426)],_0x59cc15['value']='',_0x2d230b['classList'][_0x5ef2ff(0x33b)](_0x5ef2ff(0x49a)),_0x10ef4f[_0x5ef2ff(0x542)][_0x5ef2ff(0x9d0)](_0x5ef2ff(0x49a));const _0x85758d=()=>{const _0x17c4dd=_0x5ef2ff,_0x5e6ae6=_0x59cc15['value'][_0x17c4dd(0x7a5)]();_0x5e6ae6===_0x212b69[_0x17c4dd(0x45b)][_0x17c4dd(0x8cf)]?(sessionStorage[_0x17c4dd(0xc01)](_0x17c4dd(0x2fc)+_0x2b6e54,'true'),_0x10ef4f[_0x17c4dd(0x542)]['add'](_0x17c4dd(0x49a)),_0x5d26bb(),_0x5ec301[_0x17c4dd(0x6ba)]('click',_0x85758d)):_0x2d230b['classList']['remove']('hidden');};_0x5ec301[_0x5ef2ff(0x84c)]=_0x85758d,_0x2b275a[_0x5ef2ff(0x84c)]=()=>{const _0x277d2e=_0x5ef2ff;_0x10ef4f[_0x277d2e(0x542)][_0x277d2e(0x33b)](_0x277d2e(0x49a)),_0x3c8241[_0x277d2e(0xac6)]='',_0x5ec301[_0x277d2e(0x6ba)](_0x277d2e(0x2ea),_0x85758d);};}else _0x5d26bb();},_0x2f159c[_0x422083(0x97d)]=()=>{const _0x58d154=_0x422083,_0x18c4d9=_0x3c8241[_0x58d154(0xac6)],_0x8295f5=_0x2f159c[_0x58d154(0xac6)];_0x18c4d9&&_0x8295f5&&renderStudentProgressDashboard(_0x18c4d9,_0x8295f5);};}async function confirmAndJoinSyncGame(){const _0x2af463=_0x358d67,_0x28222f=Array[_0x2af463(0x367)](document[_0x2af463(0x4a1)](_0x2af463(0x78e)))[_0x2af463(0x8ca)](_0x4eaf41=>_0x4eaf41[_0x2af463(0xac6)]);if(_0x28222f[_0x2af463(0x6b0)]===0x0){showMessage(_0x2af463(0x39f));return;}localTeamPlayers=_0x28222f,localPlayerTurnIndex=0x0;const _0x2e9ef2=doc(db,'artifacts/'+appId+_0x2af463(0x6a2),currentLiveGameId);try{const _0x4defcb=await getDoc(_0x2e9ef2);if(!_0x4defcb[_0x2af463(0x40f)]())throw new Error(_0x2af463(0x661));const _0x30f235=_0x4defcb['data']()[_0x2af463(0x266)]||{};_0x28222f[_0x2af463(0x519)](_0x3e2130=>{const _0x3f19df=_0x2af463;!_0x30f235[_0x3e2130]&&(_0x30f235[_0x3e2130]={'name':_0x3e2130,'score':0x0,'answered':![],'status':_0x3f19df(0x34a)});}),await updateDoc(_0x2e9ef2,{'players':_0x30f235}),document[_0x2af463(0x3a8)](_0x2af463(0x63d))[_0x2af463(0x542)][_0x2af463(0x33b)]('hidden'),currentStudentName=_0x28222f[0x0],listenForSyncGameUpdates();const _0x11bd21={'gameId':currentLiveGameId,'mode':_0x2af463(0x750),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2af463(0xc01)]('activeGameSession',JSON[_0x2af463(0xa50)](_0x11bd21));}catch(_0x396a12){console['error']('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x396a12),showMessage(_0x2af463(0x4c8));}}async function resumeActiveGameSession(){const _0x389bee=_0x358d67,_0x551e04=sessionStorage['getItem'](_0x389bee(0x80c));if(!_0x551e04)return;const _0x1f16af=JSON[_0x389bee(0x91c)](_0x551e04),{gameId:_0x2794a3,mode:_0x15c0b0,players:_0x5c90e9,turnIndex:_0x153517}=_0x1f16af;try{let _0x386179,_0x2da6b7;_0x15c0b0==='sync'?_0x386179=doc(db,_0x389bee(0x714)+appId+'/public/data/syncGames',_0x2794a3):_0x386179=doc(db,_0x389bee(0x714)+appId+_0x389bee(0x6fc),_0x2794a3);_0x2da6b7=await getDoc(_0x386179);if(!_0x2da6b7['exists']()||_0x2da6b7['data']()[_0x389bee(0xa89)]==='finished'||_0x2da6b7[_0x389bee(0x49d)]()[_0x389bee(0xa89)]===_0x389bee(0x940)){sessionStorage[_0x389bee(0x8e5)](_0x389bee(0x80c));return;}console['log'](_0x389bee(0x3f4)+_0x15c0b0+_0x389bee(0x864)+_0x2794a3+')'),localTeamPlayers=_0x5c90e9,localPlayerTurnIndex=_0x153517;if(_0x15c0b0===_0x389bee(0x750))currentLiveGameId=_0x2794a3,currentStudentName=_0x5c90e9[0x0],showView(_0x389bee(0x9e1)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x2794a3;const _0x5af3f6=_0x2da6b7[_0x389bee(0x49d)](),_0x81f92c=doc(db,_0x389bee(0x714)+appId+_0x389bee(0x4b7),_0x5af3f6[_0x389bee(0xb39)]),_0x219b5d=await getDoc(_0x81f92c);_0x219b5d['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x219b5d['id'],..._0x219b5d[_0x389bee(0x49d)]()}),showView(_0x389bee(0x6ce)),studentInitialView['classList'][_0x389bee(0x33b)]('hidden'),renderTeamQuizQuestion());}}catch(_0x5b6e7e){console[_0x389bee(0x77b)](_0x389bee(0x893),_0x5b6e7e),sessionStorage[_0x389bee(0x8e5)](_0x389bee(0x80c));}}async function handleKickPlayerSync(_0x3b246f){const _0x5ed955=_0x358d67;if(!currentLiveGameId||!_0x3b246f)return;const _0x51b105=doc(db,_0x5ed955(0x714)+appId+'/public/data/syncGames',currentLiveGameId),_0xf426fb={};_0xf426fb[_0x5ed955(0x1a0)+_0x3b246f+_0x5ed955(0x883)]=_0x5ed955(0x349);try{await updateDoc(_0x51b105,_0xf426fb);}catch(_0x221e83){console[_0x5ed955(0x77b)](_0x5ed955(0x4a2)+_0x3b246f+'\x20from\x20sync\x20game:',_0x221e83),showMessage(_0x5ed955(0x7f6));}}async function renderStudentProgressDashboard(_0x2bba95,_0x52877e){const _0xf16fb1=_0x358d67,_0x7cb611=document[_0xf16fb1(0x3a8)](_0xf16fb1(0x600));_0x7cb611[_0xf16fb1(0x888)]=_0xf16fb1(0x35e);try{const _0x38320d=collection(db,'artifacts/'+appId+_0xf16fb1(0x4b7)),_0x2e0e1b=query(_0x38320d,where('projectId','==',_0x2bba95)),_0x5c3332=await getDocs(_0x2e0e1b),_0x3cd997=_0x5c3332['docs'][_0xf16fb1(0x8ca)](_0x249252=>({'id':_0x249252['id'],..._0x249252[_0xf16fb1(0x49d)]()})),_0x486bef=_0x3cd997[_0xf16fb1(0x8ca)](_0x466ff9=>getDoc(doc(db,'artifacts/'+appId+_0xf16fb1(0x667)+_0x466ff9['id']+_0xf16fb1(0x2c6),_0x52877e))),_0x802d24=await Promise[_0xf16fb1(0xb03)](_0x486bef),_0x109260=_0x802d24[_0xf16fb1(0x47c)](_0x475c41=>_0x475c41[_0xf16fb1(0x40f)]())[_0xf16fb1(0x8ca)](_0x4728a0=>({'quizId':_0x4728a0[_0xf16fb1(0x596)][_0xf16fb1(0x603)][_0xf16fb1(0x603)]['id'],..._0x4728a0[_0xf16fb1(0x49d)]()}));if(_0x109260[_0xf16fb1(0x6b0)]===0x0){_0x7cb611[_0xf16fb1(0x888)]=_0xf16fb1(0x524);return;}let _0x17b013=_0xf16fb1(0xb6e);_0x109260[_0xf16fb1(0x519)](_0x3877ee=>{const _0x14427c=_0xf16fb1,_0x52f9f3=_0x3cd997[_0x14427c(0x301)](_0x11c047=>_0x11c047['id']===_0x3877ee[_0x14427c(0xb39)]),_0xf7cb97=_0x52f9f3[_0x14427c(0x45b)]?.[_0x14427c(0x6a0)]||'show_results_and_answers',_0x1820a8=_0x52f9f3[_0x14427c(0x45b)]?.[_0x14427c(0x928)]??0x0,_0x24840a=_0x3877ee[_0x14427c(0x5ed)]>=_0x1820a8;let _0x10cd82='',_0x39e9a9=_0x14427c(0xa5b);switch(_0xf7cb97){case _0x14427c(0x705):case _0x14427c(0x1a8):_0x39e9a9=_0x24840a?_0x14427c(0xb5b):_0x14427c(0x962),_0x10cd82='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x24840a?_0x14427c(0x227):_0x14427c(0x672))+'\x22>'+_0x3877ee['bestScore']+_0x14427c(0x4bc)+_0x3877ee[_0x14427c(0x7c8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x24840a?_0x14427c(0xc09):'bg-red-200\x20text-red-800')+'\x22>'+(_0x24840a?_0x14427c(0xb91):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'show_pass_fail_only':_0x39e9a9=_0x24840a?_0x14427c(0xb5b):_0x14427c(0x962),_0x10cd82='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x24840a?_0x14427c(0xc09):_0x14427c(0xabe))+'\x22>'+(_0x24840a?_0x14427c(0xb91):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x14427c(0x3f0):_0x39e9a9=_0x14427c(0xae0),_0x10cd82=_0x14427c(0x399);break;}_0x17b013+=_0x14427c(0xb83)+_0x39e9a9+_0x14427c(0x220)+_0x52f9f3[_0x14427c(0x339)]+_0x14427c(0x457)+_0x3877ee['attempts'][_0x14427c(0x6b0)]+_0x14427c(0xab1)+new Date(_0x3877ee[_0x14427c(0xb0d)])['toLocaleDateString'](_0x14427c(0x7d5))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10cd82+_0x14427c(0x62c);}),_0x17b013+=_0xf16fb1(0x738),_0x7cb611[_0xf16fb1(0x888)]=_0x17b013;}catch(_0x32048d){console[_0xf16fb1(0x77b)](_0xf16fb1(0x72c),_0x32048d),_0x7cb611['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x5ebb15=''){const _0x36ffd9=_0x358d67,_0x33a48c=document[_0x36ffd9(0x3a8)](_0x36ffd9(0x51f)),_0xcdd3b7=_0x5ebb15['toLowerCase']()[_0x36ffd9(0x7a5)](),_0x10d18e=allQuizzesGlobal[_0x36ffd9(0x8ca)](_0x5edb38=>({..._0x5edb38,'projectName':allProjects[_0x36ffd9(0x301)](_0x756ab0=>_0x756ab0['id']===_0x5edb38[_0x36ffd9(0x8cb)])?.['projectName']||_0x36ffd9(0x5d4)}))[_0x36ffd9(0x47c)](_0x498a6d=>(_0x498a6d[_0x36ffd9(0x339)]||'')['toLowerCase']()[_0x36ffd9(0xbba)](_0xcdd3b7)||(_0x498a6d['projectName']||'')[_0x36ffd9(0x344)]()[_0x36ffd9(0xbba)](_0xcdd3b7)||_0x498a6d['id']['toString']()[_0x36ffd9(0xbba)](_0xcdd3b7));_0x33a48c['innerHTML']=_0x10d18e['length']?_0x10d18e[_0x36ffd9(0x8ca)](_0x39111e=>_0x36ffd9(0x5b8)+_0x39111e['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x39111e[_0x36ffd9(0x339)]||'(ไม่มีชื่อ)')+_0x36ffd9(0x65f)+_0x39111e['projectName']+_0x36ffd9(0xbaf)+_0x39111e['id']+_0x36ffd9(0x602))[_0x36ffd9(0x61f)](''):_0x36ffd9(0x417),_0x33a48c[_0x36ffd9(0x97d)]=()=>{const _0x2aae13=_0x36ffd9,_0x342546=document[_0x2aae13(0x3a0)](_0x2aae13(0x250));document[_0x2aae13(0x3a8)]('confirm-link-quiz-btn')['disabled']=!_0x342546;};}function setupStudentProgressListeners(){const _0x5464bb=_0x358d67;document['getElementById'](_0x5464bb(0x4c2))[_0x5464bb(0x4f9)]('click',showStudentProgressView),document['getElementById'](_0x5464bb(0xb65))[_0x5464bb(0x4f9)](_0x5464bb(0x2ea),()=>{const _0x1c29dc=_0x5464bb;document[_0x1c29dc(0x3a8)](_0x1c29dc(0x55d))['classList'][_0x1c29dc(0x33b)]('hidden'),document['getElementById']('student-initial-view')[_0x1c29dc(0x542)][_0x1c29dc(0x9d0)](_0x1c29dc(0x49a));});}async function startSkillPractice(_0x4b0ec0){const _0x7485da=_0x358d67;studentResultArea['classList'][_0x7485da(0x33b)](_0x7485da(0x49a)),studentQuizArea[_0x7485da(0x888)]=_0x7485da(0xa27),studentQuizArea[_0x7485da(0x542)]['remove']('hidden');try{const _0x3105ae=await getStandardizedTopic(_0x4b0ec0);console[_0x7485da(0x498)]('คำถามดิบ:\x20\x22'+_0x4b0ec0+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x3105ae+'\x22'),studentQuizArea[_0x7485da(0x3a0)]('p')[_0x7485da(0x20d)]=_0x7485da(0x916)+_0x3105ae+'\x22...';const _0x123535=collection(db,_0x7485da(0x714)+appId+'/public/data/practiceBank'),_0x3af70c=query(_0x123535,where(_0x7485da(0x339),'==',_0x3105ae)),_0x2b29bb=await getDocs(_0x3af70c);if(_0x2b29bb[_0x7485da(0x901)]['length']>=0x3){console[_0x7485da(0x498)]('พบข้อสอบ\x20'+_0x2b29bb['docs'][_0x7485da(0x6b0)]+_0x7485da(0x21d)+_0x3105ae+_0x7485da(0x233));let _0x31be49=_0x2b29bb[_0x7485da(0x901)][_0x7485da(0x8ca)](_0x138f6a=>_0x138f6a['data']());shuffleArray(_0x31be49);const _0x162969={'topic':_0x3105ae,'questions':_0x31be49[_0x7485da(0x5d1)](0x0,0x3)};displaySkillPracticeDrill(_0x162969);}else{console['log'](_0x7485da(0x612)+_0x3105ae+_0x7485da(0x4ad));const _0x4443a3=await generatePracticeQuestions(_0x3105ae);await saveDrillToPracticeBank(_0x4443a3,_0x3105ae),displaySkillPracticeDrill(_0x4443a3);}}catch(_0x2660d6){console[_0x7485da(0x77b)](_0x7485da(0x22c),_0x2660d6),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x7485da(0x542)]['add'](_0x7485da(0x49a)),studentResultArea[_0x7485da(0x542)][_0x7485da(0x9d0)](_0x7485da(0x49a));}}async function saveDrillToPracticeBank(_0x417abd,_0x102a2d){const _0x42f81c=_0x358d67,_0x2f2a49=collection(db,_0x42f81c(0x714)+appId+_0x42f81c(0x36a)),_0x1c8a80=writeBatch(db);_0x417abd['questions'][_0x42f81c(0x519)](_0x4a4e5c=>{const _0x5b439e=_0x42f81c,_0x1c420e=doc(_0x2f2a49);_0x1c8a80['set'](_0x1c420e,{'topic':_0x102a2d,'questionText':_0x4a4e5c['questionText'],'options':_0x4a4e5c[_0x5b439e(0x994)],'correctAnswerIndex':_0x4a4e5c[_0x5b439e(0x468)],'explanation':_0x4a4e5c[_0x5b439e(0x960)],'createdAt':serverTimestamp()});});try{await _0x1c8a80['commit'](),console[_0x42f81c(0x498)](_0x42f81c(0x444)+_0x417abd[_0x42f81c(0xb4f)][_0x42f81c(0x6b0)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x4317bc){console['error'](_0x42f81c(0x1d8),_0x4317bc);}}async function getStandardizedTopic(_0x5f1e5c){const _0x148e49=_0x358d67,_0x12c4fd=_0x148e49(0xbb9)+_0x5f1e5c+_0x148e49(0x351),_0x234f7e={'type':_0x148e49(0x182),'properties':{'standardTopic':{'type':_0x148e49(0x534)}},'required':[_0x148e49(0x381)]};try{const _0x5996d3=await callAnalysisApi(_0x12c4fd,_0x234f7e);return _0x5996d3['standardTopic'];}catch(_0x236612){return console[_0x148e49(0x77b)](_0x148e49(0xba0),_0x236612),_0x5f1e5c;}}async function handleGenerateEasyVersionQuiz(_0x2eb3f2){const _0x3f34ef=_0x358d67,_0x4d5078=document[_0x3f34ef(0x3a8)](_0x3f34ef(0x5a9)),_0x332c01=document[_0x3f34ef(0x3a8)](_0x3f34ef(0x2d2));_0x332c01[_0x3f34ef(0x542)][_0x3f34ef(0x33b)](_0x3f34ef(0x49a));const _0x3adc63='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4d5078[_0x3f34ef(0x363)](_0x3f34ef(0x3ce),_0x3adc63);try{const _0x658403=allQuizzes[_0x3f34ef(0x301)](_0x3d7845=>_0x3d7845['id']===_0x2eb3f2);if(!_0x658403)throw new Error(_0x3f34ef(0x823));const _0x14b731=_0x3f34ef(0xb6d)+JSON[_0x3f34ef(0xa50)](_0x658403['questions'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x30e74f={'type':_0x3f34ef(0x182),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3f34ef(0x534)},'options':{'type':_0x3f34ef(0x632),'items':{'type':_0x3f34ef(0x534)}},'correctAnswerIndex':{'type':_0x3f34ef(0x8ac)},'idealAnswer':{'type':_0x3f34ef(0x534)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3f34ef(0x534)}},'required':[_0x3f34ef(0xa23),_0x3f34ef(0x2d0),'explanation']},_0x152000={'type':_0x3f34ef(0x182),'properties':{'questions':{'type':_0x3f34ef(0x632),'items':_0x30e74f}},'required':[_0x3f34ef(0xb4f)]},_0x4ead95=await callAnalysisApi(_0x14b731,_0x152000);_0x4ead95&&_0x4ead95[_0x3f34ef(0xb4f)]&&_0x4ead95[_0x3f34ef(0xb4f)][_0x3f34ef(0x519)](_0x637ea7=>{const _0xeb8794=_0x3f34ef;if(_0x637ea7[_0xeb8794(0xa34)](_0xeb8794(0x311))){const _0x3cdb84=String(_0x637ea7[_0xeb8794(0x311)])['trim']();(_0x3cdb84===''||_0x3cdb84[_0xeb8794(0x344)]()===_0xeb8794(0x8d6)||!_0x3cdb84[_0xeb8794(0x506)](_0xeb8794(0x861)))&&delete _0x637ea7[_0xeb8794(0x311)];}});if(!_0x4ead95||!_0x4ead95['questions']||_0x4ead95[_0x3f34ef(0xb4f)][_0x3f34ef(0x6b0)]===0x0)throw new Error(_0x3f34ef(0x5c7));const _0x1c19ca=_0x4ead95[_0x3f34ef(0xb4f)][_0x3f34ef(0x8ca)]((_0x262497,_0x5b9d62)=>({..._0x262497,'id':'q_'+Date['now']()+'_'+_0x5b9d62})),_0x10f80a={'projectId':_0x658403[_0x3f34ef(0x8cb)],'quizType':_0x658403[_0x3f34ef(0x593)],'settings':_0x658403[_0x3f34ef(0x45b)],'createdBy':_0x658403[_0x3f34ef(0x2f2)],'status':'active','topic':_0x3f34ef(0x6df)+_0x658403[_0x3f34ef(0x339)],'questions':_0x1c19ca,'createdAt':new Date()[_0x3f34ef(0x473)](),'quizMode':_0x3f34ef(0xa86),'pairedQuizId':null};let _0x47dac1;while(!![]){_0x47dac1=Math[_0x3f34ef(0x9b2)](0x3e8+Math[_0x3f34ef(0x190)]()*0x2328)[_0x3f34ef(0x7a2)]();const _0x471d37=await getDoc(doc(db,_0x3f34ef(0x714)+appId+_0x3f34ef(0x4b7),_0x47dac1));if(!_0x471d37[_0x3f34ef(0x40f)]())break;}await setDoc(doc(db,_0x3f34ef(0x714)+appId+_0x3f34ef(0x4b7),_0x47dac1),_0x10f80a),showMessage(_0x3f34ef(0x549));}catch(_0x30a25a){console[_0x3f34ef(0x77b)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x30a25a),showMessage(_0x3f34ef(0x5df)+_0x30a25a['message']);}finally{const _0x470df0=document[_0x3f34ef(0x3a8)](_0x3f34ef(0xa19));_0x470df0&&_0x470df0[_0x3f34ef(0x9d0)](),_0x332c01['classList']['remove'](_0x3f34ef(0x49a));}}async function generatePracticeQuestions(_0x29a593){const _0x58966d=_0x358d67,_0xb41f82=_0x58966d(0x1bb)+_0x29a593+_0x58966d(0x913)+simpleMathPrompt+_0x58966d(0xb76),_0x5db34e={'type':_0x58966d(0x182),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x58966d(0x534)}},'correctAnswerIndex':{'type':_0x58966d(0x8ac)},'explanation':{'type':'STRING'}},'required':[_0x58966d(0xa23),_0x58966d(0x994),_0x58966d(0x468),'explanation']},_0x3a3bf6={'type':_0x58966d(0x182),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x58966d(0x632),'items':_0x5db34e}},'required':['topic',_0x58966d(0xb4f)]};return await callAnalysisApi(_0xb41f82,_0x3a3bf6);}function displayLessonPlan(_0x508dd1,_0x138f40){const _0x3943a3=_0x358d67,_0x301261=_0x3943a3(0xb2a)+_0x138f40['topic']+_0x3943a3(0x18b)+_0x508dd1[_0x3943a3(0x30d)]['map'](_0x1d2fad=>_0x3943a3(0xb1a)+_0x1d2fad+_0x3943a3(0x3bc))[_0x3943a3(0x61f)]('')+_0x3943a3(0x237)+_0x508dd1[_0x3943a3(0xa3e)]+_0x3943a3(0x6d7)+_0x508dd1[_0x3943a3(0x184)]['map'](_0x34f049=>_0x3943a3(0x357)+_0x34f049[_0x3943a3(0xaad)]+_0x3943a3(0x669)+_0x34f049[_0x3943a3(0x33e)]+'</p></div>')[_0x3943a3(0x61f)]('')+_0x3943a3(0x598);document[_0x3943a3(0x3a8)]('lesson-plan-title')[_0x3943a3(0x20d)]=_0x3943a3(0x1cb)+_0x138f40[_0x3943a3(0x339)],document[_0x3943a3(0x3a8)](_0x3943a3(0x560))[_0x3943a3(0x888)]=_0x301261,document['getElementById'](_0x3943a3(0x655))[_0x3943a3(0x542)]['remove'](_0x3943a3(0x49a));if(window[_0x3943a3(0x915)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x2e5060){let _0x20fecc=0x0;const _0x3265f2=_0x2e5060['questions'],_0x4911e5=()=>{const _0x1e4210=_0x4026,_0x4ee102=_0x3265f2[_0x20fecc],_0x5e28a4=_0x1e4210(0x2fe)+(_0x20fecc+0x1)+_0x1e4210(0x4bc)+_0x3265f2[_0x1e4210(0x6b0)]+_0x1e4210(0x326)+_0x4ee102['questionText']+_0x1e4210(0x7dc)+_0x4ee102[_0x1e4210(0x994)]['map']((_0x2dbe2d,_0x4d9adf)=>_0x1e4210(0x84d)+_0x4d9adf+_0x1e4210(0x530)+_0x4d9adf+_0x1e4210(0x78b)+_0x4d9adf+'\x22>'+_0x2dbe2d+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1e4210(0x61f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x1e4210(0x888)]=_0x5e28a4;if(window[_0x1e4210(0x915)])MathJax['typesetPromise']([studentQuizArea]);document[_0x1e4210(0x3a8)](_0x1e4210(0x8d7))[_0x1e4210(0x4f9)]('click',async()=>{const _0x371a3f=_0x1e4210,_0x25a287=await getHintForQuestion(_0x4ee102[_0x371a3f(0xa23)]);showMessage(_0x25a287);}),document['getElementById'](_0x1e4210(0x2ca))[_0x1e4210(0x4f9)](_0x1e4210(0x2ea),()=>{const _0x3276e7=_0x1e4210,_0x396c79=document[_0x3276e7(0x3a0)](_0x3276e7(0xba4));if(!_0x396c79){showMessage(_0x3276e7(0x8c0));return;}const _0x1a4812=document[_0x3276e7(0x3a8)]('drill-feedback'),_0x525a21=parseInt(_0x396c79[_0x3276e7(0xac6)])===_0x4ee102['correctAnswerIndex'];_0x525a21?(_0x1a4812[_0x3276e7(0x9a2)]=_0x3276e7(0x61a),_0x1a4812[_0x3276e7(0x888)]=_0x3276e7(0xb78)+_0x4ee102[_0x3276e7(0x960)]):(_0x1a4812[_0x3276e7(0x9a2)]=_0x3276e7(0xb4b),_0x1a4812[_0x3276e7(0x888)]=_0x3276e7(0x370)+_0x4ee102['explanation']);_0x1a4812[_0x3276e7(0x542)][_0x3276e7(0x9d0)](_0x3276e7(0x49a));if(window['MathJax'])MathJax[_0x3276e7(0x7cf)]([_0x1a4812]);document[_0x3276e7(0x3a8)](_0x3276e7(0x2ca))[_0x3276e7(0x542)][_0x3276e7(0x33b)](_0x3276e7(0x49a)),document[_0x3276e7(0x3a8)](_0x3276e7(0x8d7))['classList'][_0x3276e7(0x33b)](_0x3276e7(0x49a)),document[_0x3276e7(0x3a8)](_0x3276e7(0x9aa))[_0x3276e7(0x542)][_0x3276e7(0x9d0)]('hidden');}),document['getElementById'](_0x1e4210(0x9aa))[_0x1e4210(0x4f9)]('click',()=>{const _0x44d6c5=_0x1e4210;_0x20fecc++,_0x20fecc<_0x3265f2['length']?_0x4911e5():(studentQuizArea[_0x44d6c5(0x888)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x44d6c5(0x3a8)](_0x44d6c5(0xc0c))[_0x44d6c5(0x4f9)](_0x44d6c5(0x2ea),()=>{const _0x23b1bb=_0x44d6c5;studentQuizArea[_0x23b1bb(0x542)]['add']('hidden'),studentResultArea[_0x23b1bb(0x542)][_0x23b1bb(0x9d0)]('hidden');}));});};_0x4911e5();}async function getHintForQuestion(_0x5d3ec6){const _0x27c0f1=_0x358d67,_0x17d97f=_0x27c0f1(0xc17)+_0x5d3ec6+_0x27c0f1(0x38f),_0x545b6d={'type':_0x27c0f1(0x182),'properties':{'hint':{'type':_0x27c0f1(0x534)}},'required':['hint']};try{const _0x4c4bbe=await callAnalysisApi(_0x17d97f,_0x545b6d);return _0x4c4bbe['hint'];}catch(_0x145ab2){return console[_0x27c0f1(0x77b)](_0x27c0f1(0x90c),_0x145ab2),_0x27c0f1(0x4dc);}}async function extractTextFromPdf(_0x439acc){const _0x27b0a1=_0x358d67;pdfjsLib[_0x27b0a1(0x398)]['workerSrc']=_0x27b0a1(0x3d4);const _0x13ff03=await _0x439acc[_0x27b0a1(0x1a3)](),_0x1e57a4=await pdfjsLib['getDocument'](_0x13ff03)['promise'],_0x29829f=_0x1e57a4[_0x27b0a1(0x7d2)];let _0x21cc19='';for(let _0x514ff7=0x1;_0x514ff7<=_0x29829f;_0x514ff7++){const _0xb18382=await _0x1e57a4[_0x27b0a1(0x8e3)](_0x514ff7),_0x15a652=await _0xb18382['getTextContent'](),_0x37b107=_0x15a652[_0x27b0a1(0x45d)][_0x27b0a1(0x8ca)](_0x9e36b5=>_0x9e36b5[_0x27b0a1(0x501)])[_0x27b0a1(0x61f)]('\x20');_0x21cc19+=_0x37b107+'\x0a\x0a';}return _0x21cc19;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x25fbbf){const _0x66201c=_0x358d67,_0xdfb322=document[_0x66201c(0x3a8)](_0x66201c(0x858)),_0x35df3a=document[_0x66201c(0x3a8)](_0x66201c(0x6ab)),_0x5d9b66=document['getElementById']('save-blueprint-as-project-btn');_0xdfb322['classList']['remove']('hidden'),_0x35df3a[_0x66201c(0x888)]=_0x66201c(0x1c9),_0x5d9b66['classList'][_0x66201c(0x33b)]('hidden');try{const _0xbea337=_0x66201c(0x63a)+_0x25fbbf+_0x66201c(0x6d6),_0x2a2d3e={'type':_0x66201c(0x182),'properties':{'gradeLevel':{'type':_0x66201c(0x534)},'curriculum':{'type':_0x66201c(0x632),'items':{'type':_0x66201c(0x182),'properties':{'sara':{'type':_0x66201c(0x534)},'mainTopics':{'type':_0x66201c(0x632),'items':{'type':_0x66201c(0x182),'properties':{'topicName':{'type':_0x66201c(0x534)},'subTopics':{'type':_0x66201c(0x632),'items':{'type':_0x66201c(0x534)}}},'required':[_0x66201c(0xc04),_0x66201c(0x3bb)]}}},'required':[_0x66201c(0x6bd),_0x66201c(0x9bd)]}}},'required':[_0x66201c(0x243),_0x66201c(0x4c1)]},_0x87c1b1=await callAnalysisApi(_0xbea337,_0x2a2d3e);if(_0x87c1b1&&_0x87c1b1[_0x66201c(0x4c1)])extractedBlueprintData=_0x87c1b1,renderBlueprintTopics(_0x87c1b1),_0x5d9b66[_0x66201c(0x542)][_0x66201c(0x9d0)](_0x66201c(0x49a));else throw new Error(_0x66201c(0x90f));}catch(_0x50f407){console[_0x66201c(0x77b)](_0x66201c(0x9f7),_0x50f407),_0x35df3a[_0x66201c(0x888)]=_0x66201c(0x84a);}}function renderBlueprintTopics(_0x17e93e){const _0x2ce47e=_0x358d67,_0x1daa24=document[_0x2ce47e(0x3a8)](_0x2ce47e(0x6ab)),_0x3b9233=_0x17e93e['gradeLevel'],_0x4ec39c=_0x2ce47e(0x3f6)+_0x3b9233+_0x2ce47e(0x59b);let _0x28e4ac='';_0x17e93e[_0x2ce47e(0x4c1)]['forEach'](_0x2cbabb=>{const _0x1dc5cc=_0x2ce47e;_0x28e4ac+=_0x1dc5cc(0x837)+_0x2cbabb[_0x1dc5cc(0x6bd)]+_0x1dc5cc(0x8c8),_0x2cbabb[_0x1dc5cc(0x9bd)][_0x1dc5cc(0x519)](_0x6dc531=>{const _0x5024a9=_0x1dc5cc;_0x28e4ac+=_0x5024a9(0xb52)+_0x6dc531[_0x5024a9(0xc04)]+_0x5024a9(0x617),_0x6dc531['subTopics'][_0x5024a9(0x519)](_0x3e93bf=>{const _0xf6bd3f=_0x5024a9;_0x28e4ac+=_0xf6bd3f(0x4cc)+_0x3e93bf[_0xf6bd3f(0x4a7)](/'/g,'\x5c\x27')+_0xf6bd3f(0x631)+_0x3b9233[_0xf6bd3f(0x4a7)](/'/g,'\x5c\x27')+_0xf6bd3f(0x7ff)+_0x3e93bf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x3e93bf[_0xf6bd3f(0x4a7)](/'/g,'\x5c\x27')+_0xf6bd3f(0xad2);}),_0x28e4ac+='</div></div>';}),_0x28e4ac+=_0x1dc5cc(0x738);}),_0x1daa24[_0x2ce47e(0x888)]=_0x4ec39c+_0x28e4ac;}async function handleGenerateTeachingContent(_0x5efeec){const _0x5c7803=_0x358d67,_0x1d36eb=document['getElementById'](_0x5c7803(0x655)),_0x999351=document['getElementById'](_0x5c7803(0x560));document[_0x5c7803(0x3a8)]('lesson-plan-title')[_0x5c7803(0x20d)]='กำลังสร้างเนื้อหา:\x20'+_0x5efeec,_0x999351[_0x5c7803(0x888)]=_0x5c7803(0x25a),_0x1d36eb[_0x5c7803(0x542)][_0x5c7803(0x9d0)](_0x5c7803(0x49a));try{const _0x2424cb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x5efeec+_0x5c7803(0x2a2),_0x35c112={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x5c7803(0x632),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x5c7803(0x632),'items':{'type':_0x5c7803(0x534)}},'stepByStepExamples':{'type':_0x5c7803(0x632),'items':{'type':_0x5c7803(0x182),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x5c7803(0x534)}},'required':['question','solution']}},'teacherTips':{'type':'ARRAY','items':{'type':'STRING'}}},'required':['keyConcepts','commonMistakes',_0x5c7803(0x277),_0x5c7803(0xa05)]},_0x4bc168=await callAnalysisApi(_0x2424cb,_0x35c112);displayTeachingContent(_0x4bc168,_0x5efeec);}catch(_0x241885){console[_0x5c7803(0x77b)](_0x5c7803(0x259),_0x241885),_0x999351[_0x5c7803(0x888)]=_0x5c7803(0xa5a)+_0x241885['message']+'</p>';}}function displayTeachingContent(_0x2b147a,_0x5b93e6){const _0x544d43=_0x358d67,_0x2b1373=document[_0x544d43(0x3a8)](_0x544d43(0x560));document[_0x544d43(0x3a8)](_0x544d43(0x210))[_0x544d43(0x20d)]=_0x544d43(0x40a)+_0x5b93e6;const _0x22e9fd=_0x544d43(0x8bf)+_0x2b147a[_0x544d43(0x2f6)][_0x544d43(0x8ca)](_0x168e7d=>_0x544d43(0xb1a)+_0x168e7d+'</li>')[_0x544d43(0x61f)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x2b147a[_0x544d43(0x201)]['map'](_0x5667f6=>_0x544d43(0xb1a)+_0x5667f6+'</li>')[_0x544d43(0x61f)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x2b147a[_0x544d43(0x277)]['map'](_0x26f2c4=>_0x544d43(0x751)+_0x26f2c4[_0x544d43(0xaad)]+_0x544d43(0x4ee)+_0x26f2c4[_0x544d43(0x33e)]+_0x544d43(0x3f1))[_0x544d43(0x61f)]('')+_0x544d43(0x8d4)+_0x2b147a[_0x544d43(0xa05)][_0x544d43(0x8ca)](_0x2d5e1f=>_0x544d43(0xb1a)+_0x2d5e1f+_0x544d43(0x3bc))[_0x544d43(0x61f)]('')+_0x544d43(0x8e6);_0x2b1373[_0x544d43(0x888)]=_0x22e9fd;if(window['MathJax'])MathJax[_0x544d43(0x7cf)]([_0x2b1373]);}async function generateQuizForSingleTopic(_0x1cfb82){const _0x35ccdd=_0x358d67;console[_0x35ccdd(0x498)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x1cfb82+'\x22');const _0x51f0a2=document[_0x35ccdd(0x3a8)](_0x35ccdd(0x23c)),_0x45a185=_0x51f0a2[_0x35ccdd(0x211)][_0x35ccdd(0x6b0)]>0x0?_0x51f0a2[_0x35ccdd(0x211)][0x0]:null;let _0x5648d6=null;if(_0x45a185)try{const _0xe9cfa9=new FileReader();_0xe9cfa9[_0x35ccdd(0x390)](_0x45a185);const _0x1d9e50=await new Promise((_0x4139f0,_0x23e6a1)=>{const _0x1c3c35=_0x35ccdd;_0xe9cfa9['onload']=()=>_0x4139f0(_0xe9cfa9[_0x1c3c35(0x91d)][_0x1c3c35(0x9ee)](',')[0x1]),_0xe9cfa9[_0x1c3c35(0x4c0)]=_0x391f69=>_0x23e6a1(_0x391f69);});_0x5648d6=[{'inlineData':{'mimeType':_0x45a185[_0x35ccdd(0x3ee)],'data':_0x1d9e50}}];}catch(_0x4c9523){console[_0x35ccdd(0x77b)](_0x35ccdd(0x3d3),_0x4c9523),showMessage(_0x35ccdd(0x7ce));return;}generateQuiz(_0x1cfb82,null,null,_0x5648d6,!![],null,null,!![]);}async function handleGenerateFromBlueprint(){const _0x45ef1b=_0x358d67,_0x537349=document['getElementById'](_0x45ef1b(0x968)),_0x5c664f=document[_0x45ef1b(0x3a8)](_0x45ef1b(0x23c)),_0x3af262=_0x537349[_0x45ef1b(0x211)][0x0],_0x3e9f1c=_0x5c664f['files'][_0x45ef1b(0x6b0)]>0x0?_0x5c664f[_0x45ef1b(0x211)][0x0]:null;if(!_0x3af262){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x8753a6=document[_0x45ef1b(0x3a8)](_0x45ef1b(0xaa3)),_0x3e1e42=document[_0x45ef1b(0x3a8)]('loader-text'),_0x25d505=document[_0x45ef1b(0x3a8)](_0x45ef1b(0x71c)),_0x4cfde9=document[_0x45ef1b(0x3a8)](_0x45ef1b(0x6b3));_0x4cfde9[_0x45ef1b(0x709)]=!![],document[_0x45ef1b(0x3a8)](_0x45ef1b(0xa15))[_0x45ef1b(0x542)][_0x45ef1b(0x9d0)]('hidden'),_0x25d505[_0x45ef1b(0x888)]='',_0x8753a6[_0x45ef1b(0x542)][_0x45ef1b(0x9d0)]('hidden');try{_0x3e1e42[_0x45ef1b(0x20d)]=_0x45ef1b(0xa75);const _0x1c345d=new FileReader();_0x1c345d[_0x45ef1b(0x390)](_0x3af262);const _0x3e6e8b=await new Promise((_0x5c3253,_0x33e3c8)=>{const _0x3ee8cd=_0x45ef1b;_0x1c345d[_0x3ee8cd(0xa33)]=()=>_0x5c3253(_0x1c345d[_0x3ee8cd(0x91d)][_0x3ee8cd(0x9ee)](',')[0x1]),_0x1c345d[_0x3ee8cd(0x4c0)]=_0x497d86=>_0x33e3c8(_0x497d86);}),_0x10a262=[];if(_0x3e9f1c){_0x3e1e42[_0x45ef1b(0x20d)]='กำลังเตรียมไฟล์ข้อสอบอ้างอิง...';const _0x1b2032=new FileReader();_0x1b2032[_0x45ef1b(0x390)](_0x3e9f1c);const _0x226eb2=await new Promise((_0x3ba06d,_0x360e63)=>{const _0x58608d=_0x45ef1b;_0x1b2032[_0x58608d(0xa33)]=()=>_0x3ba06d(_0x1b2032['result'][_0x58608d(0x9ee)](',')[0x1]),_0x1b2032[_0x58608d(0x4c0)]=_0x4d8583=>_0x360e63(_0x4d8583);});_0x10a262[_0x45ef1b(0x78d)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'}),_0x10a262[_0x45ef1b(0x78d)]({'inlineData':{'mimeType':_0x3e9f1c['type'],'data':_0x226eb2}});}const _0x98bdf4=_0x45ef1b(0x1d0),_0x3771fc='**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET',_0x4e0023=_0x45ef1b(0x522),_0x1f2669={'type':_0x45ef1b(0x182),'properties':{'questionText':{'type':_0x45ef1b(0x534)},'questionType':{'type':_0x45ef1b(0x534),'enum':[_0x45ef1b(0x302),'short_answer',_0x45ef1b(0x5b9),_0x45ef1b(0x4b9)]},'options':{'type':_0x45ef1b(0x632),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x45ef1b(0x8ac)},'idealAnswer':{'type':_0x45ef1b(0x534)},'correctAnswer':{'type':_0x45ef1b(0x929)},'explanation':{'type':_0x45ef1b(0x534)},'imageCode':{'type':_0x45ef1b(0x534)}},'required':[_0x45ef1b(0x2d0),_0x45ef1b(0x960)]},_0x5d51ee={'type':_0x45ef1b(0x182),'properties':{'topic':{'type':_0x45ef1b(0x534)},'questions':{'type':_0x45ef1b(0x632),'items':_0x1f2669}},'required':[_0x45ef1b(0x339),_0x45ef1b(0xb4f)]},_0xd461f7=[{'text':_0x4e0023},{'inlineData':{'mimeType':_0x3af262[_0x45ef1b(0x3ee)],'data':_0x3e6e8b}},..._0x10a262];await handleApiCall(_0xd461f7,_0x45ef1b(0xb79),_0x5d51ee);}catch(_0x27675b){console['error'](_0x45ef1b(0x467),_0x27675b),showMessage(_0x45ef1b(0x5df)+_0x27675b[_0x45ef1b(0x5dd)]),_0x25d505[_0x45ef1b(0x888)]=_0x45ef1b(0xbe7);}finally{_0x8753a6['classList'][_0x45ef1b(0x33b)]('hidden'),_0x4cfde9[_0x45ef1b(0x709)]=![];}}function proceedToNextQuestion(_0x39d1b7){const _0x40da97=_0x358d67;studentAnswersPerQuestion[_0x40da97(0x78d)](_0x39d1b7),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x40da97(0xb4f)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x28da34,_0x1a8447){const _0x1aa24f=_0x358d67,_0x580046=Object['values'](_0x28da34[_0x1aa24f(0x266)]||{}),_0x47f1dd=_0x580046[_0x1aa24f(0x6b0)],_0x191511=[..._0x580046][_0x1aa24f(0x843)]((_0xcc02e1,_0x5b69ab)=>_0x5b69ab[_0x1aa24f(0xb0c)]-_0xcc02e1[_0x1aa24f(0xb0c)]),_0x232472=_0x28da34[_0x1aa24f(0x704)];let _0x510b08='';const _0x50db77=_0x28da34['shuffledQuiz'][_0x1aa24f(0xb4f)],_0x116720=_0x50db77[_0x232472],_0x44a192=_0x1ca651=>String[_0x1aa24f(0x62d)](0x41+_0x1ca651);let _0x53b0cb='',_0x2797cd='';if(_0x116720){const _0x156511=_0x116720[_0x1aa24f(0x2d0)]||_0x28da34[_0x1aa24f(0x938)][_0x1aa24f(0x593)];if(_0x156511===_0x1aa24f(0x302)&&_0x116720[_0x1aa24f(0x994)]&&_0x116720['correctAnswerIndex']!==undefined){const _0x325cbd=_0x116720['correctAnswerIndex'];_0x53b0cb=_0x116720[_0x1aa24f(0x994)][_0x325cbd],_0x2797cd=_0x44a192(_0x325cbd)+'.';}else{if(_0x156511==='true_false'){const _0x349d5b=_0x116720['correctAnswer']===!![]||String(_0x116720[_0x1aa24f(0x5a0)])[_0x1aa24f(0x344)]()===_0x1aa24f(0x354);_0x349d5b?(_0x53b0cb=_0x1aa24f(0x392),_0x2797cd='ก.'):(_0x53b0cb=_0x1aa24f(0x9fd),_0x2797cd='ข.');}else{if(_0x156511===_0x1aa24f(0x4b9))_0x53b0cb=_0x116720[_0x1aa24f(0x44f)]||'-',_0x2797cd='';else _0x156511===_0x1aa24f(0xad5)&&(_0x53b0cb=_0x116720[_0x1aa24f(0xbd9)]||'-',_0x2797cd='');}}}_0x53b0cb&&(_0x510b08=_0x1aa24f(0x264)+(_0x232472+0x1)+_0x1aa24f(0x8c6)+_0x2797cd+'\x20'+_0x53b0cb+_0x1aa24f(0x1c6));const _0x4e4054=_0x191511[_0x1aa24f(0x8ca)](_0xa4fd55=>{const _0x3345e3=_0x1aa24f;let _0x258902=![];if(_0xa4fd55[_0x3345e3(0x43e)]&&_0x232472!==-0x1){const _0x3c8b1c=_0xa4fd55['answers'][_0x3345e3(0x301)](_0x387d9c=>_0x387d9c[_0x3345e3(0xa53)]===_0x232472);_0x3c8b1c&&_0x3c8b1c[_0x3345e3(0x6c9)]&&(_0x258902=!![]);}const _0xb470da=_0x258902?_0x3345e3(0x442):_0x3345e3(0xb17);return _0x3345e3(0x40d)+_0xb470da+_0x3345e3(0x625)+_0xa4fd55[_0x3345e3(0xbc7)]+_0x3345e3(0xb9a)+_0xa4fd55[_0x3345e3(0xb0c)]+'\x20คะแนน</span></div>';})[_0x1aa24f(0x61f)](''),_0x28a00d=_0x50db77[_0x1aa24f(0x8ca)]((_0xf13d3f,_0x4ccf0f)=>{const _0x4d2a6b=_0x1aa24f,_0x34ce91=_0x580046['filter'](_0x92f2bc=>_0x92f2bc[_0x4d2a6b(0x43e)]&&_0x92f2bc['answers'][_0x4d2a6b(0x301)](_0x360d3a=>_0x360d3a[_0x4d2a6b(0xa53)]===_0x4ccf0f&&_0x360d3a[_0x4d2a6b(0x6c9)]))['length'],_0x5b9d57=_0x4ccf0f===_0x232472,_0x2461de=_0x5b9d57?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x4d2a6b(0x3c4);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x2461de+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x4ccf0f+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x34ce91+_0x4d2a6b(0x4bc)+_0x47f1dd+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x30e485='',_0xd85889='';if(_0x1a8447){const _0x429136=_0x28da34['currentQuestionIndex']>=_0x50db77[_0x1aa24f(0x6b0)]-0x1;_0x30e485='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x429136?_0x1aa24f(0x608):_0x1aa24f(0x649))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0xd85889=_0x1aa24f(0x5af);}const _0x3c7144=_0x1aa24f(0x68c)+_0x28da34[_0x1aa24f(0x938)][_0x1aa24f(0x339)]+_0x1aa24f(0xb59)+_0xd85889+_0x1aa24f(0x952)+_0x510b08+_0x1aa24f(0x52a)+(_0x4e4054||_0x1aa24f(0x706))+_0x1aa24f(0xaa4)+_0x28a00d+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a8447?_0x1aa24f(0x258)+_0x30e485+_0x1aa24f(0x738):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1aa24f(0x888)]=_0x3c7144;if(window[_0x1aa24f(0x915)]){const _0x586eac=document[_0x1aa24f(0x3a8)](_0x1aa24f(0x47b));_0x586eac&&MathJax[_0x1aa24f(0x7cf)]([_0x586eac]);}if(_0x1a8447){document[_0x1aa24f(0x3a8)]('next-sync-question-btn')[_0x1aa24f(0x84c)]=async()=>{const _0x263875=_0x1aa24f,_0x14fe45=doc(db,_0x263875(0x714)+appId+_0x263875(0x6a2),currentLiveGameId),_0x43f282=_0x28da34[_0x263875(0x704)]+0x1;if(_0x43f282<_0x50db77[_0x263875(0x6b0)]){const _0x28661e={};Object['keys'](_0x28da34[_0x263875(0x266)])[_0x263875(0x519)](_0x35e4c9=>{const _0x2cf5d0=_0x263875;_0x28661e[_0x2cf5d0(0x1a0)+_0x35e4c9+'.answered']=![],_0x28661e[_0x2cf5d0(0x1a0)+_0x35e4c9+_0x2cf5d0(0x1fd)]=null;}),await updateDoc(_0x14fe45,{..._0x28661e,'status':_0x263875(0xaad),'currentQuestionIndex':_0x43f282,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x14fe45,{'status':_0x263875(0x940)});};const _0xa073e4=document[_0x1aa24f(0x3a8)]('end-sync-game-btn');_0xa073e4&&(_0xa073e4[_0x1aa24f(0x84c)]=()=>{const _0x363060=_0x1aa24f;showConfirmation(_0x363060(0x76a),async()=>{const _0x81adac=_0x363060,_0x5d18b4=doc(db,_0x81adac(0x714)+appId+_0x81adac(0x6a2),currentLiveGameId);await updateDoc(_0x5d18b4,{'status':_0x81adac(0x940)});});});}}async function handleGenerateParallelFromBank(_0xaeb764){const _0x4c147e=_0x358d67,_0x1b2951=document[_0x4c147e(0x3a8)]('results-tab-content'),_0x68b505=document[_0x4c147e(0x3a8)](_0x4c147e(0x2d2));_0x68b505['classList']['add'](_0x4c147e(0x49a));const _0x2327e6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0xaeb764['topic']+_0x4c147e(0x722);_0x1b2951[_0x4c147e(0x363)]('beforeend',_0x2327e6);const _0x363866=document[_0x4c147e(0x3a8)](_0x4c147e(0x3c8));try{const _0x2a6e5d=_0xaeb764['questions'][_0x4c147e(0x8ca)]((_0x20f36d,_0x2f0d7d)=>{const _0x49f906=_0x4c147e;let _0x480102=_0x2f0d7d+0x1+'.\x20'+(_0x20f36d[_0x49f906(0xa23)]||_0x20f36d[_0x49f906(0x966)])+'\x0a';if(_0x20f36d[_0x49f906(0x994)])_0x480102+=_0x20f36d[_0x49f906(0x994)]['map']((_0x6d024b,_0x1dd141)=>_0x49f906(0x5eb)+(_0x1dd141===_0x20f36d[_0x49f906(0x468)]?_0x49f906(0x236):'')+'\x20'+_0x6d024b)[_0x49f906(0x61f)]('\x0a');else _0x20f36d[_0x49f906(0xbd9)]&&(_0x480102+=_0x49f906(0x2cd)+_0x20f36d['idealAnswer']);return _0x480102;})[_0x4c147e(0x61f)]('\x0a\x0a');_0x363866[_0x4c147e(0x20d)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0xa8ffb0=_0x4c147e(0x848)+_0xaeb764[_0x4c147e(0x339)]+_0x4c147e(0x81e)+_0x2a6e5d+_0x4c147e(0x46b)+simpleMathPrompt+_0x4c147e(0x261),_0x328e1d={'type':'OBJECT','properties':{'questionText':{'type':_0x4c147e(0x534)},'questionType':{'type':_0x4c147e(0x534),'enum':[_0x4c147e(0x302),_0x4c147e(0xad5),_0x4c147e(0x5b9),_0x4c147e(0x4b9)]},'options':{'type':_0x4c147e(0x632),'items':{'type':_0x4c147e(0x534)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4c147e(0x534)},'correctAnswer':{'type':_0x4c147e(0x929)},'stem':{'type':_0x4c147e(0x534)},'correctResponse':{'type':_0x4c147e(0x534)},'allResponses':{'type':_0x4c147e(0x632),'items':{'type':_0x4c147e(0x534)}},'explanation':{'type':_0x4c147e(0x534)},'imageCode':{'type':_0x4c147e(0x534)}},'required':['questionType',_0x4c147e(0x960)]},_0x23b61a={'type':'OBJECT','properties':{'topic':{'type':_0x4c147e(0x534)},'questions':{'type':_0x4c147e(0x632),'items':_0x328e1d}},'required':['topic',_0x4c147e(0xb4f)]},_0x206c40=await callAnalysisApi(_0xa8ffb0,_0x23b61a),_0x424263=_0x206c40[_0x4c147e(0xb4f)][_0x4c147e(0x8ca)]((_0x35b749,_0x1fb499)=>({..._0x35b749,'id':'q_'+Date['now']()+'_'+_0x1fb499})),_0x46a209=_0x4c147e(0x8b2)+_0xaeb764[_0x4c147e(0x339)],_0x18a92e={'topic':_0x46a209,'questions':_0x424263,'quizType':_0xaeb764['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4c147e(0x473)](),'status':'active','settings':_0xaeb764[_0x4c147e(0x45b)],'quizMode':_0x4c147e(0xa86),'pairedQuizId':null,'lessonPlan':null};let _0x5313eb;while(!![]){_0x5313eb=Math[_0x4c147e(0x9b2)](0x3e8+Math['random']()*0x2328)[_0x4c147e(0x7a2)]();const _0x8ed3b4=await getDoc(doc(db,_0x4c147e(0x714)+appId+_0x4c147e(0x4b7),_0x5313eb));if(!_0x8ed3b4[_0x4c147e(0x40f)]())break;}await setDoc(doc(db,_0x4c147e(0x714)+appId+_0x4c147e(0x4b7),_0x5313eb),_0x18a92e),showMessage(_0x4c147e(0x226));}catch(_0x4df91e){console[_0x4c147e(0x77b)](_0x4c147e(0x62b),_0x4df91e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4df91e['message']);}finally{const _0x26e09b=document[_0x4c147e(0x3a8)](_0x4c147e(0xa19));_0x26e09b&&_0x26e09b['remove'](),_0x68b505[_0x4c147e(0x542)][_0x4c147e(0x9d0)](_0x4c147e(0x49a));}}async function handleGenerateParallelPostTest(_0x390bfe){const _0x30fcef=_0x358d67,_0x4f544f=document['getElementById'](_0x30fcef(0x5a9)),_0x3bf5eb=document[_0x30fcef(0x3a8)](_0x30fcef(0x2d2));_0x3bf5eb[_0x30fcef(0x542)][_0x30fcef(0x33b)](_0x30fcef(0x49a));const _0x4c7971=_0x30fcef(0x437);_0x4f544f['insertAdjacentHTML'](_0x30fcef(0x3ce),_0x4c7971);try{const _0x192bc7=_0x390bfe[_0x30fcef(0xb4f)][_0x30fcef(0x8ca)]((_0x108848,_0x1fa199)=>{const _0x2284e5=_0x30fcef;let _0xc655d4=_0x1fa199+0x1+'.\x20'+(_0x108848[_0x2284e5(0xa23)]||_0x108848[_0x2284e5(0x966)]);if(_0x108848['options'])_0xc655d4+=_0x2284e5(0xb09)+_0x108848[_0x2284e5(0x994)]['join'](',\x20');return _0xc655d4;})[_0x30fcef(0x61f)]('\x0a\x0a'),_0x3c3713=_0x30fcef(0x3e4)+_0x390bfe[_0x30fcef(0x339)]+_0x30fcef(0x422)+_0x192bc7+_0x30fcef(0x93e)+simpleMathPrompt+_0x30fcef(0x261),_0x18e54d={'type':'OBJECT','properties':{'topic':{'type':_0x30fcef(0x534)},'questions':{'type':'ARRAY','items':{'type':_0x30fcef(0x182),'properties':{'questionText':{'type':_0x30fcef(0x534)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x30fcef(0x534)}},'correctAnswerIndex':{'type':_0x30fcef(0x8ac)},'idealAnswer':{'type':_0x30fcef(0x534)},'explanation':{'type':_0x30fcef(0x534)}},'required':[_0x30fcef(0xa23),'explanation']}}},'required':[_0x30fcef(0x339),_0x30fcef(0xb4f)]},_0x2bf2cf=await callAnalysisApi(_0x3c3713,_0x18e54d),_0x343d33=_0x390bfe[_0x30fcef(0x339)][_0x30fcef(0x4a7)](_0x30fcef(0xac3),'')[_0x30fcef(0x7a5)](),_0x4be185=_0x30fcef(0x31a)+_0x343d33,_0x759dec={..._0x2bf2cf,'topic':_0x4be185,'quizType':_0x390bfe[_0x30fcef(0x593)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x30fcef(0x473)](),'status':'active','settings':_0x390bfe[_0x30fcef(0x45b)],'quizMode':'post-test','pairedQuizId':_0x390bfe['id']};let _0x406d75;while(!![]){_0x406d75=Math[_0x30fcef(0x9b2)](0x3e8+Math[_0x30fcef(0x190)]()*0x2328)[_0x30fcef(0x7a2)]();const _0x7f0eee=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x406d75));if(!_0x7f0eee[_0x30fcef(0x40f)]())break;}await setDoc(doc(db,_0x30fcef(0x714)+appId+_0x30fcef(0x4b7),_0x406d75),_0x759dec);const _0x54bb73=doc(db,_0x30fcef(0x714)+appId+_0x30fcef(0x4b7),_0x390bfe['id']);await updateDoc(_0x54bb73,{'pairedQuizId':_0x406d75}),showMessage(_0x30fcef(0x404));}catch(_0x25a501){console[_0x30fcef(0x77b)]('Error\x20generating\x20parallel\x20post-test:',_0x25a501),showMessage('เกิดข้อผิดพลาด:\x20'+_0x25a501[_0x30fcef(0x5dd)]);}finally{const _0x1b62ef=document[_0x30fcef(0x3a8)]('temp-loader-results');if(_0x1b62ef)_0x1b62ef['remove']();_0x3bf5eb[_0x30fcef(0x542)][_0x30fcef(0x9d0)]('hidden');}}async function handleGenerateParallelTest(){const _0x2cd2cd=_0x358d67,_0x4fc6ce=document[_0x2cd2cd(0x3a8)](_0x2cd2cd(0x8d2)),_0x71cb95=_0x4fc6ce[_0x2cd2cd(0x211)][0x0];if(!_0x71cb95){showMessage(_0x2cd2cd(0x540));return;}const _0x1df16c=document[_0x2cd2cd(0x3a8)]('loader'),_0x1a5c10=document[_0x2cd2cd(0x3a8)](_0x2cd2cd(0x569)),_0x5c20be=document[_0x2cd2cd(0x3a8)](_0x2cd2cd(0x71c)),_0x70f98=document[_0x2cd2cd(0x3a8)](_0x2cd2cd(0x3e7));_0x70f98['disabled']=!![],document[_0x2cd2cd(0x3a8)](_0x2cd2cd(0xa15))[_0x2cd2cd(0x542)][_0x2cd2cd(0x9d0)](_0x2cd2cd(0x49a)),_0x5c20be[_0x2cd2cd(0x888)]='',_0x1df16c[_0x2cd2cd(0x542)]['remove'](_0x2cd2cd(0x49a)),_0x1a5c10[_0x2cd2cd(0x20d)]=_0x2cd2cd(0x96b);const _0x3d4de4=new FileReader();_0x3d4de4['readAsDataURL'](_0x71cb95),_0x3d4de4[_0x2cd2cd(0xa33)]=async()=>{const _0x1dd851=_0x2cd2cd;try{const _0x3485ce=_0x3d4de4[_0x1dd851(0x91d)][_0x1dd851(0x9ee)](',')[0x1],_0x1ebfaa=_0x71cb95[_0x1dd851(0x3ee)];_0x1a5c10[_0x1dd851(0x20d)]=_0x1dd851(0x795);const _0x27b9e1=document['getElementById']('include-images-checkbox')['checked'],_0x1dd9ec=_0x27b9e1?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x1fc083=_0x1dd851(0xa47)+_0x1dd9ec+_0x1dd851(0x7b8)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x439831={'type':_0x1dd851(0x182),'properties':{'questionText':{'type':_0x1dd851(0x534)},'questionType':{'type':_0x1dd851(0x534),'enum':[_0x1dd851(0x302),_0x1dd851(0xad5)]},'options':{'type':_0x1dd851(0x632),'items':{'type':_0x1dd851(0x534)}},'correctAnswerIndex':{'type':_0x1dd851(0x8ac)},'idealAnswer':{'type':_0x1dd851(0x534)},'explanation':{'type':_0x1dd851(0x534)},'imageCode':{'type':_0x1dd851(0x534)}},'required':['questionText',_0x1dd851(0x2d0),_0x1dd851(0x960)]},_0x3dd940={'type':_0x1dd851(0x182),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x439831}},'required':[_0x1dd851(0x339),'questions']},_0x68b52c=[{'text':_0x1fc083},{'inlineData':{'mimeType':_0x1ebfaa,'data':_0x3485ce}}];await handleApiCall(_0x68b52c,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x3dd940);}catch(_0x294061){console[_0x1dd851(0x77b)](_0x1dd851(0x86c),_0x294061),showMessage(_0x1dd851(0x5df)+_0x294061[_0x1dd851(0x5dd)]),_0x5c20be[_0x1dd851(0x888)]=_0x1dd851(0x400);}finally{_0x1df16c[_0x1dd851(0x542)][_0x1dd851(0x33b)]('hidden'),_0x70f98[_0x1dd851(0x709)]=![];}},_0x3d4de4[_0x2cd2cd(0x4c0)]=_0x41b115=>{const _0x5aa336=_0x2cd2cd;console[_0x5aa336(0x77b)](_0x5aa336(0xa96),_0x41b115),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x1df16c[_0x5aa336(0x542)][_0x5aa336(0x33b)](_0x5aa336(0x49a)),_0x70f98[_0x5aa336(0x709)]=![];};}async function handleRegenerateQuestionInEditor(_0x5c0e9f){const _0x352f5f=_0x358d67;if(currentEditingQuizData===null)return;const _0x4db6c6=document[_0x352f5f(0x3a0)]('.question-editor-item[data-q-index=\x22'+_0x5c0e9f+'\x22]');_0x4db6c6&&(_0x4db6c6['innerHTML']=_0x352f5f(0x807));const _0x504455=currentEditingQuizData['questions'][_0x5c0e9f],_0x2725e3=currentEditingQuizData['topic'],_0x3f94f2=_0x504455[_0x352f5f(0x2d0)],_0x589940={'type':_0x352f5f(0x182),'properties':{'questionText':{'type':_0x352f5f(0x534)},'options':{'type':'ARRAY','items':{'type':_0x352f5f(0x534)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x352f5f(0x534)}},'required':[_0x352f5f(0xa23),_0x352f5f(0x994),_0x352f5f(0x468),_0x352f5f(0x960)]},_0x120f16={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x352f5f(0x534)}},'required':[_0x352f5f(0xa23),_0x352f5f(0xbd9),'explanation']};let _0xbc0387,_0x36f1ba='';_0x3f94f2===_0x352f5f(0x302)?(_0xbc0387=_0x589940,_0x36f1ba=_0x352f5f(0x3b8)):(_0xbc0387=_0x120f16,_0x36f1ba=_0x352f5f(0x295));const _0x420a5a=_0x352f5f(0x6e6)+_0x2725e3+_0x352f5f(0xa36)+_0x36f1ba+_0x352f5f(0x3df)+(_0x504455[_0x352f5f(0xa23)]||_0x504455[_0x352f5f(0x966)])+_0x352f5f(0x1a6)+simpleMathPrompt;try{const _0x11c642=await callAnalysisApi(_0x420a5a,_0xbc0387);currentEditingQuizData[_0x352f5f(0xb4f)][_0x5c0e9f]={..._0x504455,..._0x11c642},renderQuizEditor(currentEditingQuizData);}catch(_0x459463){console[_0x352f5f(0x77b)](_0x352f5f(0x4ca),_0x459463),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xad247b=_0x358d67,_0x347759=document[_0xad247b(0x3a8)](_0xad247b(0x638));currentMode===_0xad247b(0x6ce)?(currentMode=_0xad247b(0x389),_0x347759[_0xad247b(0x888)]=_0xad247b(0x3cb),_0x347759[_0xad247b(0x725)]='สลับไปโหมดนักเรียน',showView(_0xad247b(0x479))):(currentMode=_0xad247b(0x6ce),_0x347759['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x347759[_0xad247b(0x725)]=_0xad247b(0x285),showView(_0xad247b(0x6ce)));}function handleAdminLogin(){const _0x5f1c60=_0x358d67,_0x3e7861=document['getElementById']('admin-password-input'),_0x53bc9a=document[_0x5f1c60(0x3a8)](_0x5f1c60(0x34c));if(_0x3e7861['value']===_0x5f1c60(0xa66)){adminPasswordModal['classList'][_0x5f1c60(0x33b)](_0x5f1c60(0x49a)),_0x3e7861[_0x5f1c60(0xac6)]='',_0x53bc9a[_0x5f1c60(0x542)]['add'](_0x5f1c60(0x49a)),currentMode=_0x5f1c60(0x389);const _0x39875=document['getElementById'](_0x5f1c60(0x638));_0x39875[_0x5f1c60(0x888)]=_0x5f1c60(0x3cb),_0x39875[_0x5f1c60(0x725)]=_0x5f1c60(0x764),showView(_0x5f1c60(0x479));}else _0x53bc9a['classList'][_0x5f1c60(0x9d0)]('hidden'),_0x3e7861[_0x5f1c60(0xac6)]='';}function switchProjectTab(_0x38c422){const _0x20be98=_0x358d67;[_0x20be98(0x654),_0x20be98(0xb3e),_0x20be98(0x8ce)][_0x20be98(0x519)](_0x4aa3d5=>{const _0x1aeb73=_0x20be98;document['getElementById'](_0x4aa3d5+_0x1aeb73(0x529))[_0x1aeb73(0x542)][_0x1aeb73(0x9d0)](_0x1aeb73(0x34a)),document['getElementById'](_0x4aa3d5+_0x1aeb73(0x299))[_0x1aeb73(0x542)][_0x1aeb73(0x33b)](_0x1aeb73(0x49a));}),document[_0x20be98(0x3a8)](_0x38c422+'-tab')['classList'][_0x20be98(0x33b)](_0x20be98(0x34a)),document[_0x20be98(0x3a8)](_0x38c422+'-tab-content')[_0x20be98(0x542)]['remove'](_0x20be98(0x49a));}function switchQuizDetailTab(_0x3bec12){const _0x146e0a=_0x358d67,_0x24e1f6={'analytics':{'btn':_0x146e0a(0x2d3),'content':_0x146e0a(0xbf7)},'scores':{'btn':'scores-tab-btn','content':_0x146e0a(0xc15)},'leaderboard-quiz':{'btn':_0x146e0a(0x607),'content':_0x146e0a(0xa70)},'behavior-log':{'btn':_0x146e0a(0x413),'content':_0x146e0a(0xb41)}};for(const _0x12444c in _0x24e1f6){document[_0x146e0a(0x3a8)](_0x24e1f6[_0x12444c]['btn'])[_0x146e0a(0x542)][_0x146e0a(0x9d0)](_0x146e0a(0x34a)),document['getElementById'](_0x24e1f6[_0x12444c][_0x146e0a(0x48e)])[_0x146e0a(0x542)][_0x146e0a(0x33b)]('hidden');}document[_0x146e0a(0x3a8)](_0x24e1f6[_0x3bec12][_0x146e0a(0x73b)])[_0x146e0a(0x542)][_0x146e0a(0x33b)](_0x146e0a(0x34a)),document[_0x146e0a(0x3a8)](_0x24e1f6[_0x3bec12][_0x146e0a(0x48e)])[_0x146e0a(0x542)][_0x146e0a(0x9d0)](_0x146e0a(0x49a));}function showMessage(_0x16f7bc,_0x429589=null){const _0x9ca52=_0x358d67;modalMessage['textContent']=_0x16f7bc,modalConfirmAction=_0x429589,messageModal[_0x9ca52(0x542)]['remove'](_0x9ca52(0x49a));}function showConfirmation(_0x1e422c,_0x56da07){const _0x5c5d5c=_0x358d67;document[_0x5c5d5c(0x3a8)](_0x5c5d5c(0x77f))[_0x5c5d5c(0x20d)]=_0x1e422c,document[_0x5c5d5c(0x3a8)]('confirmation-modal')[_0x5c5d5c(0x3a0)]('h3')[_0x5c5d5c(0x20d)]=_0x5c5d5c(0x82f),confirmAction=_0x56da07,confirmationModal[_0x5c5d5c(0x542)][_0x5c5d5c(0x9d0)](_0x5c5d5c(0x49a));}function listenForProjects(){const _0x40c33a=_0x358d67,_0x28569d=doc(db,_0x40c33a(0x945),_0x40c33a(0x331));onSnapshot(_0x28569d,_0x3db82e=>{const _0x2319bd=_0x40c33a;if(_0x3db82e[_0x2319bd(0x40f)]()){const _0x17adfa=_0x3db82e[_0x2319bd(0x49d)]();globalDashboardSettings[_0x2319bd(0x94c)]=_0x17adfa[_0x2319bd(0x94c)]||_0x2319bd(0x9e7),globalDashboardSettings['pinnedProjects']=_0x17adfa[_0x2319bd(0x77a)]||[],globalDashboardSettings[_0x2319bd(0x9ab)]=_0x17adfa[_0x2319bd(0x9ab)]||[];}allProjects[_0x2319bd(0x6b0)]>0x0&&renderProjects();});const _0x217664=collection(db,'artifacts/'+appId+_0x40c33a(0x508));unsubscribeProjectsListener=onSnapshot(_0x217664,_0x15149e=>{const _0x3c9738=_0x40c33a;allProjects=_0x15149e['docs'][_0x3c9738(0x8ca)](_0x151f90=>({'id':_0x151f90['id'],..._0x151f90[_0x3c9738(0x49d)]()})),renderProjects();},_0x55e9c7=>{const _0x279df8=_0x40c33a;console[_0x279df8(0x77b)](_0x279df8(0x1c2),_0x55e9c7),showMessage(_0x279df8(0x3cc));});}function showColorPalette(_0x429312,_0x3da036){const _0x5018c5=_0x358d67;document[_0x5018c5(0x4a1)](_0x5018c5(0xb74))[_0x5018c5(0x519)](_0x1c8f55=>_0x1c8f55[_0x5018c5(0x9d0)]());const _0x6a2c52=[_0x5018c5(0x8b7),_0x5018c5(0x7b5),_0x5018c5(0x87d),_0x5018c5(0x9f6),'#DBEAFE',_0x5018c5(0xa1d),_0x5018c5(0x1ac),'#FCE7F3',_0x5018c5(0x986)],_0x1624fe=document[_0x5018c5(0x60b)]('div');_0x1624fe[_0x5018c5(0x9a2)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x6a2c52[_0x5018c5(0x519)](_0x3dbfeb=>{const _0x241b43=_0x5018c5,_0x544d5b=document[_0x241b43(0x60b)]('div');_0x544d5b[_0x241b43(0x9a2)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x544d5b[_0x241b43(0x43c)][_0x241b43(0x1d1)]=_0x3dbfeb,_0x544d5b[_0x241b43(0x4f9)](_0x241b43(0x2ea),()=>{handleProjectColorChange(_0x3da036,_0x3dbfeb),_0x1624fe['remove']();}),_0x1624fe[_0x241b43(0x7a8)](_0x544d5b);}),document[_0x5018c5(0x70d)]['appendChild'](_0x1624fe);const _0x4aa2b8=_0x429312['getBoundingClientRect']();_0x1624fe[_0x5018c5(0x43c)]['top']=_0x4aa2b8[_0x5018c5(0x95c)]+window[_0x5018c5(0x88b)]+'px',_0x1624fe[_0x5018c5(0x43c)][_0x5018c5(0x446)]=_0x4aa2b8[_0x5018c5(0x446)]+window[_0x5018c5(0x245)]-_0x1624fe['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x232a80,_0x2835fa){const _0x4b909b=_0x358d67,_0x287fae=doc(db,_0x4b909b(0x714)+appId+_0x4b909b(0x508),_0x232a80);try{await updateDoc(_0x287fae,{'color':_0x2835fa});}catch(_0x45e535){console[_0x4b909b(0x77b)](_0x4b909b(0xbc9),_0x45e535),showMessage(_0x4b909b(0xaea));}}async function renderProjects(){const _0x251283=_0x358d67,_0x13f6e8=globalDashboardSettings[_0x251283(0x94c)]||_0x251283(0x9e7),_0x283ea6=new Set(globalDashboardSettings[_0x251283(0x77a)]||[]),_0x16c9a2=globalDashboardSettings[_0x251283(0x430)]||_0x251283(0x53b),_0x4a86d6=document[_0x251283(0x3a8)](_0x251283(0x840)),_0x30f3e5=document[_0x251283(0x3a8)](_0x251283(0x485));_0x4a86d6['classList']['toggle']('active',_0x16c9a2==='grid'),_0x30f3e5['classList'][_0x251283(0x50e)](_0x251283(0x34a),_0x16c9a2==='list'),document[_0x251283(0x3a8)](_0x251283(0x329))[_0x251283(0xac6)]=_0x13f6e8;const _0x49e202=document[_0x251283(0x3a8)]('project-search-input')[_0x251283(0xac6)][_0x251283(0x344)]();let _0x572d55=allProjects['filter'](_0x13d6e9=>_0x13d6e9[_0x251283(0x426)][_0x251283(0x344)]()[_0x251283(0xbba)](_0x49e202));const _0x1459d7=_0x572d55['filter'](_0x101997=>_0x283ea6['has'](_0x101997['id'])),_0x16cc31=_0x572d55[_0x251283(0x47c)](_0x7f69d=>!_0x283ea6['has'](_0x7f69d['id'])),_0x510ecd=(_0x40cc5a,_0x6c70c4)=>{const _0x23c394=_0x251283;switch(_0x13f6e8){case _0x23c394(0x2b0):return _0x40cc5a[_0x23c394(0x426)][_0x23c394(0x364)](_0x6c70c4['projectName'],'th');case _0x23c394(0x736):return _0x6c70c4[_0x23c394(0x426)][_0x23c394(0x364)](_0x40cc5a[_0x23c394(0x426)],'th');case'date_asc':return new Date(_0x40cc5a[_0x23c394(0xab0)])-new Date(_0x6c70c4['createdAt']);default:return new Date(_0x6c70c4[_0x23c394(0xab0)])-new Date(_0x40cc5a[_0x23c394(0xab0)]);}};_0x1459d7['sort'](_0x510ecd),_0x16cc31['sort'](_0x510ecd);const _0x3311d4=[..._0x1459d7,..._0x16cc31],_0x284fc2=globalDashboardSettings[_0x251283(0x9ab)]||[];_0x284fc2[_0x251283(0x6b0)]>0x0&&_0x16c9a2===_0x251283(0x53b)&&_0x3311d4['sort']((_0x366773,_0x93db)=>{const _0x22b1ba=_0x251283,_0xfd26a9=_0x284fc2['indexOf'](_0x366773['id']),_0x142100=_0x284fc2[_0x22b1ba(0xb40)](_0x93db['id']);if(_0xfd26a9===-0x1)return 0x1;if(_0x142100===-0x1)return-0x1;return _0xfd26a9-_0x142100;});const _0x547c17={};await Promise[_0x251283(0xb03)](_0x3311d4['map'](async _0x19e69b=>{const _0x3604de=_0x251283,_0x45adca=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where('projectId','==',_0x19e69b['id'])),_0x417851=await getDocs(_0x45adca);_0x547c17[_0x19e69b['id']]=_0x417851[_0x3604de(0x5bd)];}));const _0x3e1494=document[_0x251283(0x3a8)](_0x251283(0x46e));let _0x27e705='';if(_0x16c9a2==='grid'){_0x3e1494['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x251283(0x6b0)]>0x0&&_0x49e202===''){const _0x45a008=starredQuizzes[_0x251283(0x8ca)](_0x2c0b36=>{const _0x1c5c2b=_0x251283,_0x4a10da=allProjects[_0x1c5c2b(0x301)](_0x2fe704=>_0x2fe704['id']===_0x2c0b36[_0x1c5c2b(0x8cb)]);return{..._0x2c0b36,'projectName':_0x4a10da?_0x4a10da['projectName']:_0x1c5c2b(0x5d4)};});_0x27e705+=_0x251283(0x3db)+_0x45a008[_0x251283(0x8ca)](_0x1b74b2=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x1b74b2[_0x251283(0x339)]+'\x22>'+_0x1b74b2[_0x251283(0x339)]+_0x251283(0x8de)+_0x1b74b2['projectName']+_0x251283(0x362)+_0x1b74b2[_0x251283(0x426)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x251283(0x61f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x251283(0x6b0)]+_0x251283(0x699);}_0x3311d4['forEach'](_0x26136f=>{const _0x1737af=_0x251283,_0x44f778=_0x547c17[_0x26136f['id']]??0x0,_0x4a924e=_0x283ea6[_0x1737af(0xb3a)](_0x26136f['id']),_0x1ea2cb=_0x26136f['color']||_0x1737af(0x8b7),_0x1aadab=parseInt(_0x1ea2cb[_0x1737af(0x876)](0x1,0x3),0x10)*0.299+parseInt(_0x1ea2cb[_0x1737af(0x876)](0x3,0x5),0x10)*0.587+parseInt(_0x1ea2cb[_0x1737af(0x876)](0x5,0x7),0x10)*0.114<0xba,_0x5e777a=_0x1aadab?_0x1737af(0xab6):_0x1737af(0xa01),_0x1b7696=_0x1aadab?'text-gray-200':_0x1737af(0x7e0);_0x27e705+=_0x1737af(0x4e9)+(_0x4a924e?_0x1737af(0x663):_0x1737af(0x564))+_0x1737af(0x5b5)+_0x1ea2cb+';\x22\x20data-id=\x22'+_0x26136f['id']+_0x1737af(0x871)+_0x26136f['id']+_0x1737af(0x9a6)+(_0x1aadab?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x1737af(0x4dd)+_0x26136f['id']+_0x1737af(0x27a)+(_0x1aadab?_0x1737af(0x27b):_0x1737af(0x5a8))+_0x1737af(0x322)+(_0x4a924e?_0x1aadab?_0x1737af(0x3b4):'text-indigo-600':'')+_0x1737af(0x695)+_0x26136f['id']+_0x1737af(0x713)+_0x5e777a+_0x1737af(0x87c)+_0x26136f[_0x1737af(0x426)]+_0x1737af(0x23d)+_0x1b7696+_0x1737af(0x799)+new Date(_0x26136f['createdAt'])[_0x1737af(0x222)]('th-TH')+_0x1737af(0x424)+(_0x1aadab?_0x1737af(0x6ea):_0x1737af(0x820))+_0x1737af(0x7d9)+_0x44f778+_0x1737af(0x60c)+_0x26136f['id']+_0x1737af(0xb3f)+_0x26136f[_0x1737af(0x426)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x1aadab?_0x1737af(0xa0d):_0x1737af(0x545))+_0x1737af(0x633);});}else _0x3e1494['className']=_0x251283(0x6dd),starredQuizzes[_0x251283(0x6b0)]>0x0&&_0x49e202===''&&(_0x27e705+=_0x251283(0x356)+starredQuizzes[_0x251283(0x6b0)]+_0x251283(0x61e)),_0x27e705+=_0x251283(0x4f0),_0x3311d4[_0x251283(0x519)](_0x5eee51=>{const _0xd630f9=_0x251283,_0x499e67=_0x547c17[_0x5eee51['id']]??0x0,_0x2b4c52=_0x283ea6['has'](_0x5eee51['id']);_0x27e705+=_0xd630f9(0x6f7)+(_0x5eee51[_0xd630f9(0x8a6)]||'#E5E7EB')+_0xd630f9(0x944)+_0x5eee51['id']+_0xd630f9(0xba6)+_0x5eee51['projectName']+_0xd630f9(0x42d)+_0x499e67+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x5eee51['createdAt'])[_0xd630f9(0x273)]('th-TH')+_0xd630f9(0x23a)+_0x5eee51['id']+_0xd630f9(0x755)+(_0x2b4c52?_0xd630f9(0xab8):'')+_0xd630f9(0x2e8)+_0x5eee51['id']+_0xd630f9(0xb3f)+_0x5eee51[_0xd630f9(0x426)]+_0xd630f9(0x9da);});projectList[_0x251283(0x888)]=_0x27e705,noProjectsMsg[_0x251283(0x542)][_0x251283(0x50e)](_0x251283(0x49a),_0x27e705[_0x251283(0x6b0)]>0x0);}document[_0x358d67(0x3a8)](_0x358d67(0xbd3))['addEventListener'](_0x358d67(0x2ea),async()=>{const _0x3e0a3d=_0x358d67,_0x476761=document[_0x3e0a3d(0x3a8)](_0x3e0a3d(0x337)),_0x5580f2=_0x476761[_0x3e0a3d(0xac6)]['trim']();if(!_0x5580f2){showMessage(_0x3e0a3d(0x6e1));return;}try{const _0x5c8224=doc(collection(db,_0x3e0a3d(0x714)+appId+_0x3e0a3d(0x508)));await setDoc(_0x5c8224,{'projectName':_0x5580f2,'students':[],'settings':{'resultsDisplay':_0x3e0a3d(0x705),'shuffleSetting':_0x3e0a3d(0x60e),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3e0a3d(0x60e),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x476761[_0x3e0a3d(0xac6)]='',createProjectModal[_0x3e0a3d(0x542)][_0x3e0a3d(0x33b)](_0x3e0a3d(0x49a)),showMessage(_0x3e0a3d(0x55e));}catch(_0x38695a){console[_0x3e0a3d(0x77b)](_0x3e0a3d(0xad0),_0x38695a),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x358d67(0x4f9)]('click',async _0x443339=>{const _0x3b00cc=_0x358d67,_0x518074=_0x443339[_0x3b00cc(0x604)][_0x3b00cc(0x2f4)](_0x3b00cc(0xafa)),_0x405110=_0x443339[_0x3b00cc(0x604)][_0x3b00cc(0x2f4)](_0x3b00cc(0x3da)),_0x5da0aa=_0x443339[_0x3b00cc(0x604)][_0x3b00cc(0x2f4)]('.pin-project-btn'),_0x34cdf7=_0x443339[_0x3b00cc(0x604)][_0x3b00cc(0x2f4)](_0x3b00cc(0xa98));if(_0x5da0aa){const _0x1d89b6=_0x5da0aa[_0x3b00cc(0x483)]['id'],_0x5ac3e0=doc(db,_0x3b00cc(0x945),_0x3b00cc(0x331)),_0x34a42e=globalDashboardSettings[_0x3b00cc(0x77a)];let _0x38449f;_0x34a42e[_0x3b00cc(0xbba)](_0x1d89b6)?_0x38449f=_0x34a42e['filter'](_0x4ed596=>_0x4ed596!==_0x1d89b6):_0x38449f=[..._0x34a42e,_0x1d89b6];try{await setDoc(_0x5ac3e0,{'pinnedProjects':_0x38449f},{'merge':!![]});}catch(_0x3e4789){console[_0x3b00cc(0x77b)]('Error\x20updating\x20pin\x20status:',_0x3e4789),showMessage(_0x3b00cc(0xc11));}}else{if(_0x34cdf7){const _0x2fa3b0=_0x34cdf7['dataset']['id'];showColorPalette(_0x34cdf7,_0x2fa3b0);}else{if(_0x518074){const _0x5e0a4e=_0x518074[_0x3b00cc(0x483)]['id'];_0x5e0a4e==='starred-project'?showStarredProjectView():(currentProjectId=_0x5e0a4e,await loadProjectDetails(currentProjectId),showView(_0x3b00cc(0x256)));}else{if(_0x405110){const _0xcf53e4=_0x405110[_0x3b00cc(0x483)]['id'],_0x200a50=_0x405110[_0x3b00cc(0x483)][_0x3b00cc(0xbc7)];showConfirmation(_0x3b00cc(0x4a0)+_0x200a50+_0x3b00cc(0x6d3),()=>handleDeleteProject(_0xcf53e4));}}}}}),projectList[_0x358d67(0x4f9)](_0x358d67(0x4c5),_0x2026cb=>{const _0x3aa7e0=_0x358d67,_0x39aa9f=_0x2026cb['target'][_0x3aa7e0(0x2f4)]('.project-card-container');_0x39aa9f&&_0x39aa9f[_0x3aa7e0(0x542)][_0x3aa7e0(0x33b)](_0x3aa7e0(0xa85));}),projectList[_0x358d67(0x4f9)]('dragend',_0x2e492c=>{const _0xbda98a=_0x358d67,_0x1def21=_0x2e492c['target'][_0xbda98a(0x2f4)]('.project-card-container');_0x1def21&&_0x1def21['classList'][_0xbda98a(0x9d0)](_0xbda98a(0xa85));}),projectList[_0x358d67(0x4f9)](_0x358d67(0xc07),_0x300692=>{const _0x2be734=_0x358d67;_0x300692[_0x2be734(0x5f6)]();const _0x210fc0=document[_0x2be734(0x3a0)]('.project-card-container.opacity-50');if(!_0x210fc0)return;const _0x56fe84=getDragAfterElement(projectList,_0x300692[_0x2be734(0x9b8)]);_0x56fe84==null?projectList[_0x2be734(0x7a8)](_0x210fc0):projectList[_0x2be734(0xafc)](_0x210fc0,_0x56fe84);}),projectList[_0x358d67(0x4f9)]('drop',_0x4bcac5=>{const _0x2d414b=_0x358d67;_0x4bcac5[_0x2d414b(0x5f6)]();const _0x273e71=[...projectList['querySelectorAll'](_0x2d414b(0x59d))][_0x2d414b(0x8ca)](_0x1832ca=>_0x1832ca[_0x2d414b(0x483)]['id']);saveProjectOrder(_0x273e71);});function renderBehaviorLog(_0x51f5a4){const _0x569b9b=_0x358d67,_0x5e5ca4=document[_0x569b9b(0x3a8)](_0x569b9b(0xaf6));if(!_0x5e5ca4)return;const _0x3cc80e=_0x51f5a4[_0x569b9b(0x47c)](_0xd65e2a=>_0xd65e2a[_0x569b9b(0xa9a)]&&_0xd65e2a[_0x569b9b(0xa9a)][_0x569b9b(0x6b0)]>0x0);if(_0x3cc80e[_0x569b9b(0x6b0)]===0x0){_0x5e5ca4[_0x569b9b(0x888)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x3f9e09='';_0x3cc80e[_0x569b9b(0x519)](_0x57f2c8=>{const _0x291df7=_0x569b9b;_0x3f9e09+=_0x291df7(0x4be)+_0x57f2c8[_0x291df7(0xa0b)]+_0x291df7(0x5c1),_0x57f2c8[_0x291df7(0xa9a)]['sort']((_0x27c280,_0x566a1c)=>new Date(_0x566a1c[_0x291df7(0x274)])-new Date(_0x27c280[_0x291df7(0x274)]))[_0x291df7(0x519)](_0x229f1c=>{const _0x30fbec=_0x291df7,_0x36976a=new Date(_0x229f1c[_0x30fbec(0x274)])[_0x30fbec(0x273)](_0x30fbec(0x7d5),{'dateStyle':_0x30fbec(0x38b),'timeStyle':_0x30fbec(0x453)});_0x3f9e09+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x229f1c[_0x30fbec(0x917)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x36976a+_0x30fbec(0x2b5);}),_0x3f9e09+=_0x291df7(0x76c);}),_0x5e5ca4['innerHTML']=_0x3f9e09;}function getDragAfterElement(_0x52b9b0,_0x2671e0){const _0x131e36=_0x358d67,_0x2829e2=[..._0x52b9b0[_0x131e36(0x4a1)]('.project-card-container:not(.opacity-50)')];return _0x2829e2[_0x131e36(0x5f7)]((_0x9652bf,_0x1317b1)=>{const _0x20e48b=_0x131e36,_0x16362d=_0x1317b1[_0x20e48b(0x789)](),_0x231144=_0x2671e0-_0x16362d['top']-_0x16362d[_0x20e48b(0x39b)]/0x2;return _0x231144<0x0&&_0x231144>_0x9652bf[_0x20e48b(0x2eb)]?{'offset':_0x231144,'element':_0x1317b1}:_0x9652bf;},{'offset':Number[_0x131e36(0x476)]})[_0x131e36(0x7d4)];}async function saveProjectOrder(_0x20d548){const _0xc7402e=_0x358d67,_0x33e76a=doc(db,_0xc7402e(0x945),_0xc7402e(0x331));try{await setDoc(_0x33e76a,{'projectOrder':_0x20d548},{'merge':!![]});}catch(_0x371226){console['error']('Error\x20saving\x20project\x20order:',_0x371226),showMessage(_0xc7402e(0x3a1));}}async function logBehaviorEvent(_0x1b90b6,_0x3d555c={}){const _0x3a7cf7=_0x358d67;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3a7cf7(0x5ca)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x2d5cb4=doc(db,_0x3a7cf7(0x714)+appId+_0x3a7cf7(0x667)+currentQuizData['id']+_0x3a7cf7(0x2c6),currentStudentName),_0xe435f9={'event':_0x1b90b6,'timestamp':new Date()[_0x3a7cf7(0x473)](),..._0x3d555c};try{await updateDoc(_0x2d5cb4,{'behaviorLog':arrayUnion(_0xe435f9)}),console[_0x3a7cf7(0x498)](_0x3a7cf7(0xb9f)+currentStudentName+_0x3a7cf7(0x547));}catch(_0x3f49a0){_0x3f49a0['code']===_0x3a7cf7(0xa02)?console[_0x3a7cf7(0x5ca)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x3a7cf7(0xa39)):console[_0x3a7cf7(0x77b)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x3f49a0);}}function calculateMeanAndStdDev(_0x57609c){const _0x1504ee=_0x358d67;if(_0x57609c['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x201b7e=_0x57609c[_0x1504ee(0x5f7)]((_0x34acde,_0xcec000)=>_0x34acde+_0xcec000,0x0)/_0x57609c[_0x1504ee(0x6b0)];if(_0x57609c[_0x1504ee(0x6b0)]===0x1)return{'mean':_0x201b7e,'stdDev':0x0};const _0xc5e9f7=Math[_0x1504ee(0x588)](_0x57609c['map'](_0x4283d7=>Math['pow'](_0x4283d7-_0x201b7e,0x2))[_0x1504ee(0x5f7)]((_0x5747df,_0x29003e)=>_0x5747df+_0x29003e,0x0)/(_0x57609c['length']-0x1));return{'mean':_0x201b7e,'stdDev':_0xc5e9f7};}function calculateZScore(_0x60c7f9,_0x8c909b,_0x2f36cd){if(_0x2f36cd===0x0)return 0x0;return(_0x60c7f9-_0x8c909b)/_0x2f36cd;}function calculateTScore(_0x583287){return 0xa*_0x583287+0x32;}function showStarredProjectView(){const _0x49f458=_0x358d67;currentProjectId=_0x49f458(0x50c),currentProjectData=null,projectTitle[_0x49f458(0x20d)]=_0x49f458(0x822),projectIdDisplay[_0x49f458(0x20d)]=_0x49f458(0x78c),showView(_0x49f458(0x256)),manageTab[_0x49f458(0x542)][_0x49f458(0x33b)](_0x49f458(0x49a)),leaderboardTab[_0x49f458(0x542)][_0x49f458(0x33b)](_0x49f458(0x49a)),switchProjectTab(_0x49f458(0xb3e)),renderQuizzes();}async function loadProjectDetails(_0x2e23c4){const _0x196f86=_0x358d67,_0x8c6e3f=doc(db,'artifacts/'+appId+_0x196f86(0x508),_0x2e23c4),_0x56dcb7=await getDoc(_0x8c6e3f);if(_0x56dcb7['exists']()){manageTab['classList'][_0x196f86(0x9d0)](_0x196f86(0x49a)),leaderboardTab['classList'][_0x196f86(0x9d0)](_0x196f86(0x49a)),currentProjectData=_0x56dcb7[_0x196f86(0x49d)](),projectTitle[_0x196f86(0x20d)]=currentProjectData[_0x196f86(0x426)],projectIdDisplay[_0x196f86(0x20d)]=_0x2e23c4;const _0x2fe6fa=currentProjectData['settings']||{};document[_0x196f86(0x3a8)]('shuffle-setting-select')[_0x196f86(0xac6)]=_0x2fe6fa['shuffleSetting']||_0x196f86(0x60e);const _0x5826da=document[_0x196f86(0x3a8)](_0x196f86(0x9a7));_0x5826da['checked']=_0x2fe6fa[_0x196f86(0xb60)]!==![];const _0x24f738=document[_0x196f86(0x3a8)](_0x196f86(0xad7)),_0x48d39e=document[_0x196f86(0x3a8)]('passcode-input-container'),_0x6072bd=document[_0x196f86(0x3a8)](_0x196f86(0x2ef)),_0x1c2174=_0x2fe6fa[_0x196f86(0x5ec)]||![];_0x24f738['checked']=_0x1c2174,_0x6072bd[_0x196f86(0xac6)]=_0x2fe6fa[_0x196f86(0x8cf)]||'',_0x48d39e[_0x196f86(0x542)][_0x196f86(0x50e)](_0x196f86(0x49a),!_0x1c2174),_0x24f738[_0x196f86(0x97d)]=()=>{const _0xe6a935=_0x196f86;_0x48d39e[_0xe6a935(0x542)][_0xe6a935(0x50e)](_0xe6a935(0x49a),!_0x24f738[_0xe6a935(0x69c)]);},document[_0x196f86(0x3a8)](_0x196f86(0x6b8))[_0x196f86(0x69c)]=_0x2fe6fa[_0x196f86(0x2c3)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2e23c4),listenForProjectQuizzes(_0x2e23c4),listenForStudentProfiles(_0x2e23c4);}else showMessage('ไม่พบโปรเจค'),showView(_0x196f86(0x479));}async function handleResetProjectOrder(){const _0x35f22c=_0x358d67,_0x3d0de1=doc(db,_0x35f22c(0x945),_0x35f22c(0x331));try{await setDoc(_0x3d0de1,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x35f22c(0x5ff));}catch(_0x242383){console[_0x35f22c(0x77b)](_0x35f22c(0x1e4),_0x242383),showMessage(_0x35f22c(0x5d7));}}async function handleTogglePinProject(_0x216836){const _0x3f43ef=_0x358d67;if(!_0x216836)return;const _0x10e4e1=doc(db,_0x3f43ef(0x714)+appId+_0x3f43ef(0x508),_0x216836);try{const _0x6d106f=await getDoc(_0x10e4e1);if(_0x6d106f[_0x3f43ef(0x40f)]()){const _0x11faf6=_0x6d106f[_0x3f43ef(0x49d)]()[_0x3f43ef(0xaf9)]||![];await updateDoc(_0x10e4e1,{'isPinned':!_0x11faf6});}}catch(_0xecb0c4){console['error'](_0x3f43ef(0x68e),_0xecb0c4),showMessage(_0x3f43ef(0xc11));}}async function handleDeleteProject(_0x151110){const _0x24f184=_0x358d67;try{const _0x2bf869=writeBatch(db),_0x24f580=collection(db,_0x24f184(0x714)+appId+'/public/data/quizzes'),_0x12917e=query(_0x24f580,where(_0x24f184(0x8cb),'==',_0x151110)),_0x11c9ad=await getDocs(_0x12917e);for(const _0xf030af of _0x11c9ad[_0x24f184(0x901)]){const _0x1855df=collection(db,_0x24f184(0x714)+appId+_0x24f184(0x667)+_0xf030af['id']+'/submissions'),_0x4cedef=await getDocs(_0x1855df);_0x4cedef[_0x24f184(0x519)](_0x117bfb=>{const _0x4cdd14=_0x24f184;_0x2bf869[_0x4cdd14(0xa30)](_0x117bfb[_0x4cdd14(0x596)]);}),_0x2bf869['delete'](_0xf030af[_0x24f184(0x596)]);}const _0x3622bd=collection(db,_0x24f184(0x714)+appId+'/public/data/projects/'+_0x151110+_0x24f184(0xbd4)),_0x37aef2=await getDocs(_0x3622bd);_0x37aef2[_0x24f184(0x519)](_0x288a07=>{const _0x2b22c8=_0x24f184;_0x2bf869[_0x2b22c8(0xa30)](_0x288a07['ref']);});const _0x506afb=doc(db,_0x24f184(0x714)+appId+'/public/data/projects',_0x151110);_0x2bf869['delete'](_0x506afb),await _0x2bf869[_0x24f184(0x2be)](),showMessage(_0x24f184(0x283)),showView('admin-dashboard');}catch(_0x30fb04){console['error']('Error\x20deleting\x20project:',_0x30fb04),showMessage(_0x24f184(0x838));}}document[_0x358d67(0x3a8)](_0x358d67(0x318))[_0x358d67(0x4f9)](_0x358d67(0x2ea),async()=>{const _0x5e5834=_0x358d67;if(!currentProjectId)return;const _0x11db1a={'defaultNumQuestions':parseInt(document['getElementById'](_0x5e5834(0x568))[_0x5e5834(0xac6)]),'defaultNumChoices':parseInt(document[_0x5e5834(0x3a8)](_0x5e5834(0x687))[_0x5e5834(0xac6)]),'defaultPassingScore':parseInt(document[_0x5e5834(0x3a8)]('passing-score-input')[_0x5e5834(0xac6)]),'resultsDisplay':document['getElementById'](_0x5e5834(0x291))[_0x5e5834(0xac6)],'shuffleSetting':document[_0x5e5834(0x3a8)](_0x5e5834(0x765))[_0x5e5834(0xac6)],'timerMode':document[_0x5e5834(0x3a8)](_0x5e5834(0x89b))[_0x5e5834(0xac6)],'timerDuration':parseInt(document[_0x5e5834(0x3a8)](_0x5e5834(0xba1))['value']),'isConfidenceScoringEnabled':document[_0x5e5834(0x3a8)](_0x5e5834(0x6b8))[_0x5e5834(0x69c)],'confidenceMode':document[_0x5e5834(0x3a8)](_0x5e5834(0x1dc))[_0x5e5834(0xac6)]};try{const _0x58897b=doc(db,_0x5e5834(0x714)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x58897b,{'settings':_0x11db1a}),showMessage(_0x5e5834(0xac1));}catch(_0x3da3e0){console[_0x5e5834(0x77b)](_0x5e5834(0x6bc),_0x3da3e0),showMessage(_0x5e5834(0x481));}});function listenForStudents(_0x4d316e){const _0x156247=_0x358d67,_0x5a9d4f=doc(db,_0x156247(0x714)+appId+_0x156247(0x508),_0x4d316e);unsubscribeStudentsListener=onSnapshot(_0x5a9d4f,_0xee7055=>{const _0x1e3148=_0x156247;if(_0xee7055[_0x1e3148(0x40f)]()){const _0x545691=_0xee7055[_0x1e3148(0x49d)]();currentProjectData=_0x545691,renderStudentList(_0x545691[_0x1e3148(0xaf3)]||[]);}});}function renderStudentList(_0x56bc0d){const _0x503e70=_0x358d67,_0x3bd1ed=document[_0x503e70(0x3a8)](_0x503e70(0xbd7));_0x56bc0d['length']===0x0?(studentList[_0x503e70(0x888)]=_0x503e70(0x557),_0x3bd1ed[_0x503e70(0x542)][_0x503e70(0x33b)](_0x503e70(0x49a))):(studentList[_0x503e70(0x888)]=_0x56bc0d['map'](_0xb32ff0=>_0x503e70(0x76d)+_0xb32ff0+_0x503e70(0x934)+_0xb32ff0+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x3bd1ed[_0x503e70(0x542)][_0x503e70(0x9d0)](_0x503e70(0x49a)));}document[_0x358d67(0x3a8)]('add-student-btn')[_0x358d67(0x4f9)](_0x358d67(0x2ea),async()=>{const _0x599f10=_0x358d67;if(!currentProjectId)return;const _0x29ca1a=document['getElementById'](_0x599f10(0x448)),_0x32b572=_0x29ca1a[_0x599f10(0xac6)]['trim']();if(!_0x32b572){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x595ff2=_0x32b572[_0x599f10(0x9ee)]('\x0a')[_0x599f10(0x8ca)](_0x3f963c=>_0x3f963c[_0x599f10(0x7a5)]())['filter'](_0x2a1009=>_0x2a1009);if(_0x595ff2[_0x599f10(0x6b0)]===0x0)return;try{const _0x5a45b9=doc(db,'artifacts/'+appId+_0x599f10(0x508),currentProjectId),_0x2ff5be=await getDoc(_0x5a45b9);if(_0x2ff5be[_0x599f10(0x40f)]()){const _0x7ccf8f=_0x2ff5be[_0x599f10(0x49d)]()[_0x599f10(0xaf3)]||[],_0x588ac5=[...new Set([..._0x7ccf8f,..._0x595ff2])];await updateDoc(_0x5a45b9,{'students':_0x588ac5}),_0x29ca1a[_0x599f10(0xac6)]='';}}catch(_0x174921){console[_0x599f10(0x77b)]('Error\x20adding\x20students:',_0x174921),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x7accd3){const _0x25bbc0=_0x358d67,_0x188cdc=document[_0x25bbc0(0x3a8)]('move-quiz-modal'),_0x33bd58=document[_0x25bbc0(0x3a8)]('move-quiz-project-select'),_0x3f3d84=_0x188cdc['querySelector']('h3'),_0x2dc66b=document[_0x25bbc0(0x3a8)](_0x25bbc0(0x2b1)),_0x469341=document[_0x25bbc0(0x3a8)](_0x25bbc0(0x643));_0x3f3d84[_0x25bbc0(0x20d)]=_0x25bbc0(0x8e9),_0x33bd58[_0x25bbc0(0x888)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x2dc66b['textContent']=_0x25bbc0(0x874),_0x188cdc[_0x25bbc0(0x542)]['remove']('hidden');const _0x12cf4d=allQuizzes[_0x25bbc0(0x47c)](_0x528449=>_0x528449['id']!==_0x7accd3);_0x12cf4d[_0x25bbc0(0x6b0)]===0x0?(_0x33bd58[_0x25bbc0(0x888)]=_0x25bbc0(0x891),_0x2dc66b['disabled']=!![]):(_0x33bd58['innerHTML']=_0x25bbc0(0x4d0)+_0x12cf4d[_0x25bbc0(0x8ca)](_0x253162=>_0x25bbc0(0xaf5)+_0x253162['id']+'\x22>'+_0x253162['topic']+_0x25bbc0(0x1f9))[_0x25bbc0(0x61f)](''),_0x2dc66b[_0x25bbc0(0x709)]=![]);const _0x5918ea=async()=>{const _0x23b7bd=_0x25bbc0,_0x5d31f7=_0x33bd58[_0x23b7bd(0xac6)];if(!_0x5d31f7){showMessage(_0x23b7bd(0x5ea));return;}_0x2dc66b['disabled']=!![],_0x2dc66b['textContent']='กำลังจับคู่...';try{const _0x502c6f=doc(db,_0x23b7bd(0x714)+appId+_0x23b7bd(0x4b7),_0x7accd3),_0x28c461=doc(db,_0x23b7bd(0x714)+appId+'/public/data/quizzes',_0x5d31f7),_0xf45648=writeBatch(db);_0xf45648[_0x23b7bd(0x1a7)](_0x502c6f,{'pairedQuizId':_0x5d31f7}),_0xf45648[_0x23b7bd(0x1a7)](_0x28c461,{'pairedQuizId':_0x7accd3}),await _0xf45648[_0x23b7bd(0x2be)](),showMessage(_0x23b7bd(0xa49)),_0x188cdc[_0x23b7bd(0x542)]['add'](_0x23b7bd(0x49a));}catch(_0x5a2f0e){console[_0x23b7bd(0x77b)](_0x23b7bd(0x1f1),_0x5a2f0e),showMessage(_0x23b7bd(0x67d));}finally{_0x3f3d84[_0x23b7bd(0x20d)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2dc66b[_0x23b7bd(0x20d)]='ย้าย',_0x2dc66b['disabled']=![],_0x2dc66b[_0x23b7bd(0x6ba)](_0x23b7bd(0x2ea),_0x5918ea),_0x469341['removeEventListener'](_0x23b7bd(0x2ea),_0x31f0d9);}},_0x31f0d9=()=>{const _0x4499ab=_0x25bbc0;_0x188cdc['classList'][_0x4499ab(0x33b)](_0x4499ab(0x49a)),_0x3f3d84[_0x4499ab(0x20d)]=_0x4499ab(0x406),_0x2dc66b[_0x4499ab(0x20d)]=_0x4499ab(0x4f3),_0x2dc66b['removeEventListener'](_0x4499ab(0x2ea),_0x5918ea),_0x469341[_0x4499ab(0x6ba)](_0x4499ab(0x2ea),_0x31f0d9);};_0x2dc66b[_0x25bbc0(0x4f9)]('click',_0x5918ea),_0x469341[_0x25bbc0(0x4f9)]('click',_0x31f0d9);}function handleDeleteStudent(_0x13ec8a){const _0x4ffb9f=_0x358d67;showConfirmation(_0x4ffb9f(0x9d6)+_0x13ec8a+_0x4ffb9f(0xa57),async()=>{const _0x4901f2=_0x4ffb9f;if(!currentProjectId||!currentProjectData)return;const _0x8ded90=currentProjectData[_0x4901f2(0xaf3)][_0x4901f2(0x47c)](_0x56d394=>_0x56d394!==_0x13ec8a);try{const _0x47bfe0=doc(db,'artifacts/'+appId+_0x4901f2(0x508),currentProjectId),_0x133cc2=doc(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x13ec8a),_0x45e75a=writeBatch(db);_0x45e75a[_0x4901f2(0x1a7)](_0x47bfe0,{'students':_0x8ded90}),_0x45e75a[_0x4901f2(0xa30)](_0x133cc2),await _0x45e75a[_0x4901f2(0x2be)]();}catch(_0x3c9131){console[_0x4901f2(0x77b)](_0x4901f2(0x97a),_0x3c9131),showMessage(_0x4901f2(0x18a));}});}function handleDeleteAllStudents(){const _0x188708=_0x358d67;showConfirmation(_0x188708(0xb70),async()=>{const _0x5d410e=_0x188708;if(!currentProjectId)return;try{const _0x3aedcd=doc(db,'artifacts/'+appId+_0x5d410e(0x508),currentProjectId),_0xf02952=collection(db,_0x5d410e(0x714)+appId+'/public/data/projects/'+currentProjectId+_0x5d410e(0xbd4)),_0x9d5a1f=await getDocs(_0xf02952),_0x5685a0=writeBatch(db);_0x5685a0[_0x5d410e(0x1a7)](_0x3aedcd,{'students':[]}),_0x9d5a1f[_0x5d410e(0x519)](_0x12e402=>_0x5685a0[_0x5d410e(0xa30)](_0x12e402[_0x5d410e(0x596)])),await _0x5685a0[_0x5d410e(0x2be)]();}catch(_0x34e03b){console[_0x5d410e(0x77b)]('Error\x20deleting\x20all\x20students:',_0x34e03b),showMessage(_0x5d410e(0x8f3));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x489657){const _0x583863=_0x358d67,_0x53a65f=document['getElementById'](_0x583863(0x333)),_0xa42542=document[_0x583863(0x3a8)]('file-topics-list');_0x53a65f['classList'][_0x583863(0x9d0)]('hidden'),_0xa42542[_0x583863(0x888)]=_0x583863(0x5f1);try{const _0x2784b8=new FileReader();_0x2784b8['readAsDataURL'](_0x489657),await new Promise((_0x5e964a,_0x4b6805)=>{const _0x6eefa=_0x583863;_0x2784b8[_0x6eefa(0xa33)]=()=>{const _0x2c6608=_0x6eefa;fileDataBase64=_0x2784b8['result'][_0x2c6608(0x9ee)](',')[0x1],fileMimeType=_0x489657[_0x2c6608(0x3ee)],_0x5e964a();},_0x2784b8['onerror']=_0x5f157c=>_0x4b6805(_0x5f157c);});if(!fileDataBase64)throw new Error(_0x583863(0x772));const _0x434a06='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x423f49={'type':_0x583863(0x182),'properties':{'topics':{'type':_0x583863(0x632),'items':{'type':'STRING'}}},'required':[_0x583863(0x3ca)]},_0x51b64a=[{'text':_0x434a06},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x3b9da7=await handleApiCall(_0x51b64a,_0x583863(0x741),_0x423f49,null,![]);if(_0x3b9da7&&_0x3b9da7[_0x583863(0x3ca)])extractedFileTopics=_0x3b9da7[_0x583863(0x3ca)],renderFileTopics();else throw new Error(_0x583863(0x98d));}catch(_0x19e569){console[_0x583863(0x77b)](_0x583863(0xa41),_0x19e569),_0xa42542[_0x583863(0x888)]=_0x583863(0xbf9)+_0x19e569['message']+_0x583863(0x183);}}function renderFileTopics(){const _0x24079a=_0x358d67,_0x48963f=document[_0x24079a(0x3a8)]('file-topics-list');if(extractedFileTopics[_0x24079a(0x6b0)]===0x0){_0x48963f[_0x24079a(0x888)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x48963f[_0x24079a(0x888)]=extractedFileTopics[_0x24079a(0x8ca)](_0xda71b0=>_0x24079a(0x816)+_0xda71b0+_0x24079a(0x51b)+escape(_0xda71b0)+_0x24079a(0x34d)+escape(_0xda71b0)+_0x24079a(0x648))[_0x24079a(0x61f)]('');}async function generateHybridQuizForTopic(_0x874c70){const _0x2b2174=_0x358d67,_0x2dc94f=parseInt(document[_0x2b2174(0x3a8)](_0x2b2174(0x568))[_0x2b2174(0xac6)],0xa),_0x2fb57e=document['getElementById'](_0x2b2174(0x6d9))[_0x2b2174(0xac6)],_0x4d736f=document['getElementById'](_0x2b2174(0x687))[_0x2b2174(0xac6)],_0x2ea35d=document['getElementById'](_0x2b2174(0x20e))[_0x2b2174(0x69c)],_0x355f37=_0x2ea35d?_0x2b2174(0xbcc):_0x2b2174(0x5a7);let _0x1d9eba='',_0x2e46e8;const _0x255239={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2b2174(0x632),'items':{'type':_0x2b2174(0x534)}},'correctAnswerIndex':{'type':_0x2b2174(0x8ac)},'explanation':{'type':_0x2b2174(0x534)},'imageCode':{'type':_0x2b2174(0x534)}},'required':[_0x2b2174(0xa23),_0x2b2174(0x994),'correctAnswerIndex',_0x2b2174(0x960)]},_0x1fb839={'type':_0x2b2174(0x182),'properties':{'questionText':{'type':_0x2b2174(0x534)},'correctAnswer':{'type':_0x2b2174(0x929)},'explanation':{'type':_0x2b2174(0x534)},'imageCode':{'type':_0x2b2174(0x534)}},'required':['questionText',_0x2b2174(0x5a0),_0x2b2174(0x960)]},_0x37b10c={'type':_0x2b2174(0x182),'properties':{'questionText':{'type':_0x2b2174(0x534)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2b2174(0x534)},'imageCode':{'type':_0x2b2174(0x534)}},'required':[_0x2b2174(0xa23),_0x2b2174(0xbd9),_0x2b2174(0x960)]},_0x34bfd8={'type':_0x2b2174(0x182),'properties':{'questionType':{'type':_0x2b2174(0x534),'enum':[_0x2b2174(0x4b9)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2b2174(0x534)},'allResponses':{'type':_0x2b2174(0x632),'items':{'type':'STRING'}},'explanation':{'type':_0x2b2174(0x534)},'imageCode':{'type':_0x2b2174(0x534)}},'required':[_0x2b2174(0x2d0),'stem',_0x2b2174(0x44f),_0x2b2174(0x37b),_0x2b2174(0x960)]};switch(_0x2fb57e){case'multiple_choice':_0x1d9eba='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x4d736f+'\x20ตัวเลือก)',_0x2e46e8=_0x255239;break;case'true_false':_0x1d9eba='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x2e46e8=_0x1fb839;break;case _0x2b2174(0x845):_0x1d9eba='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x2e46e8=_0x37b10c;break;case _0x2b2174(0xc00):_0x1d9eba='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x2e46e8=_0x34bfd8;break;case _0x2b2174(0x6d1):_0x1d9eba=_0x2b2174(0x440)+_0x4d736f+'\x20ตัวเลือก)',_0x2e46e8=_0x255239;break;default:_0x1d9eba=_0x2b2174(0x449)+_0x4d736f+'\x20ตัวเลือก)',_0x2e46e8=_0x255239;break;}const _0x42a0cf=_0x2b2174(0x5ba),_0x2b7207=document[_0x2b2174(0x3a8)]('loader'),_0x155510=document[_0x2b2174(0x3a8)]('loader-text'),_0x14946f=document['getElementById']('generated-quiz-container');document[_0x2b2174(0x3a8)]('quiz-generation-area')[_0x2b2174(0x542)][_0x2b2174(0x9d0)]('hidden'),_0x14946f[_0x2b2174(0x888)]='',_0x2b7207[_0x2b2174(0x542)][_0x2b2174(0x9d0)](_0x2b2174(0x49a)),_0x155510[_0x2b2174(0x20d)]=_0x2b2174(0x7fb)+_0x874c70+_0x2b2174(0x715)+_0x2dc94f+'\x20ข้อ...';try{const _0x10dc3d=_0x2b2174(0x43f),_0x3648f0=_0x2b2174(0x78f)+_0x874c70+_0x2b2174(0x265)+_0x2dc94f+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x874c70+_0x2b2174(0x319)+_0x2dc94f+_0x2b2174(0x1bd)+_0x355f37+_0x2b2174(0x1d6)+_0x1d9eba+_0x2b2174(0x44d)+_0x42a0cf+_0x2b2174(0x53c)+_0x10dc3d+_0x2b2174(0x54c)+simpleMathPrompt+_0x2b2174(0x261),_0x2bc166={'type':_0x2b2174(0x182),'properties':{'topic':{'type':_0x2b2174(0x534)},'questions':{'type':_0x2b2174(0x632),'items':_0x2e46e8}},'required':[_0x2b2174(0x339),_0x2b2174(0xb4f)]},_0x20e4e4=[{'text':_0x3648f0},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x20e4e4,_0x2b2174(0x334)+_0x874c70+'\x22...',_0x2bc166);}catch(_0x3a03db){console[_0x2b2174(0x77b)](_0x2b2174(0x76f),_0x3a03db),showMessage(_0x2b2174(0x5df)+_0x3a03db[_0x2b2174(0x5dd)]),_0x14946f[_0x2b2174(0x888)]=_0x2b2174(0xaf2);}finally{_0x2b7207[_0x2b2174(0x542)][_0x2b2174(0x33b)](_0x2b2174(0x49a));}}async function handleGenerateFromFileClick(){const _0x43b0d0=_0x358d67;if(!selectedFile){showMessage(_0x43b0d0(0x5aa));return;}const _0x42e18e=document[_0x43b0d0(0x3a8)]('loader'),_0x3a016a=document[_0x43b0d0(0x3a8)]('loader-text'),_0x303863=document['getElementById'](_0x43b0d0(0x71c)),_0x31e79e=document[_0x43b0d0(0x3a8)](_0x43b0d0(0x2e7));_0x31e79e[_0x43b0d0(0x709)]=!![],document[_0x43b0d0(0x3a8)]('quiz-generation-area')[_0x43b0d0(0x542)][_0x43b0d0(0x9d0)](_0x43b0d0(0x49a)),_0x303863[_0x43b0d0(0x888)]='',_0x42e18e['classList'][_0x43b0d0(0x9d0)]('hidden'),_0x3a016a['textContent']='กำลังอ่านและเตรียมไฟล์...';const _0x50bdd5=new FileReader();_0x50bdd5[_0x43b0d0(0x390)](selectedFile),_0x50bdd5[_0x43b0d0(0xa33)]=async()=>{const _0x44e12c=_0x43b0d0;try{const _0x2884cc=_0x50bdd5[_0x44e12c(0x91d)][_0x44e12c(0x9ee)](',')[0x1],_0x1e613d=selectedFile[_0x44e12c(0x3ee)];await generateQuizFromFile(_0x1e613d,_0x2884cc);}catch(_0x1e781f){console[_0x44e12c(0x77b)](_0x44e12c(0x6f5),_0x1e781f),showMessage(_0x44e12c(0x812)+_0x1e781f['message']),_0x42e18e['classList'][_0x44e12c(0x33b)]('hidden');}finally{}},_0x50bdd5['onerror']=_0x5af5db=>{const _0x180c59=_0x43b0d0;console['error'](_0x180c59(0xa96),_0x5af5db),showMessage(_0x180c59(0x4c3)),_0x42e18e[_0x180c59(0x542)][_0x180c59(0x33b)](_0x180c59(0x49a)),_0x31e79e['disabled']=![];};}function autoFormatMath(_0x108810){const _0x4fc9f5=_0x358d67;if(typeof _0x108810!=='string'||!_0x108810)return _0x108810;const _0x233b62=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x359990=_0x108810[_0x4fc9f5(0x4a7)](_0x233b62,_0x93f90b=>{const _0x15c9ce=_0x4fc9f5;return'$'+_0x93f90b[_0x15c9ce(0x7a5)]()+'$';});return _0x359990;}function sanitizeQuizData(_0x4e23de){const _0x3c5998=_0x358d67;if(!_0x4e23de||!_0x4e23de[_0x3c5998(0xb4f)])return _0x4e23de;const _0x105b4c={'imes':_0x3c5998(0x4d9),'div':_0x3c5998(0xbd1)},_0x2ce342=_0x19f413=>{const _0xcb7bae=_0x3c5998;if(typeof _0x19f413!==_0xcb7bae(0x189))return _0x19f413;let _0x52f838=_0x19f413;for(const [_0x6a7c8b,_0x5db066]of Object['entries'](_0x105b4c)){const _0x3a4e14=new RegExp('\x5cb'+_0x6a7c8b+'\x5cb','g');_0x52f838=_0x52f838[_0xcb7bae(0x4a7)](_0x3a4e14,_0x5db066);}return _0x52f838=_0x52f838['replace'](/\\\//g,_0xcb7bae(0xbd1)),_0x52f838=_0x52f838[_0xcb7bae(0x4a7)](/<(i|em)>\s*div\s*<\/\1>/gi,_0xcb7bae(0xbd1))[_0xcb7bae(0x4a7)](/<(i|em)>\s*times\s*<\/\1>/gi,_0xcb7bae(0x4d9))[_0xcb7bae(0x4a7)](/÷/g,_0xcb7bae(0xbd1))[_0xcb7bae(0x4a7)](/×/g,_0xcb7bae(0x4d9)),_0x52f838=_0x52f838['replace'](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x52f838=autoFormatMath(_0x52f838),_0x52f838;};return _0x4e23de['topic']&&(_0x4e23de['topic']=_0x2ce342(_0x4e23de[_0x3c5998(0x339)])),_0x4e23de[_0x3c5998(0xb4f)][_0x3c5998(0x519)](_0x3d3327=>{const _0x19c2fb=_0x3c5998;_0x3d3327[_0x19c2fb(0xa23)]=_0x2ce342(_0x3d3327['questionText']),_0x3d3327[_0x19c2fb(0x994)]&&(_0x3d3327[_0x19c2fb(0x994)]=_0x3d3327['options'][_0x19c2fb(0x8ca)](_0x2ce342)),_0x3d3327[_0x19c2fb(0x960)]&&(_0x3d3327[_0x19c2fb(0x960)]=_0x2ce342(_0x3d3327['explanation'])),_0x3d3327[_0x19c2fb(0x966)]&&(_0x3d3327[_0x19c2fb(0x966)]=_0x2ce342(_0x3d3327['stem'])),_0x3d3327[_0x19c2fb(0x44f)]&&(_0x3d3327['correctResponse']=_0x2ce342(_0x3d3327[_0x19c2fb(0x44f)])),_0x3d3327[_0x19c2fb(0x37b)]&&(_0x3d3327[_0x19c2fb(0x37b)]=_0x3d3327[_0x19c2fb(0x37b)][_0x19c2fb(0x8ca)](_0x2ce342));}),_0x4e23de;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x536140=_0x358d67,_0x33c40e=document['getElementById']('link-url-input'),_0x2ef802=document['getElementById']('link-topic-input'),_0x5a8795=_0x33c40e[_0x536140(0xac6)][_0x536140(0x7a5)](),_0x1184a6=_0x2ef802['value'][_0x536140(0x7a5)]();if(!_0x5a8795){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x325302=document[_0x536140(0x3a8)](_0x536140(0xaa3)),_0x263bf4=document[_0x536140(0x3a8)]('loader-text'),_0x3b2168=document[_0x536140(0x3a8)](_0x536140(0x71c)),_0x398fd5=document[_0x536140(0x3a8)]('generate-from-link-btn');document[_0x536140(0x3a8)](_0x536140(0xa15))[_0x536140(0x542)][_0x536140(0x9d0)](_0x536140(0x49a)),_0x3b2168['innerHTML']='',_0x325302[_0x536140(0x542)][_0x536140(0x9d0)]('hidden'),_0x263bf4[_0x536140(0x20d)]='กำลังดึงข้อมูลจากลิงก์...',_0x398fd5[_0x536140(0x709)]=!![];try{const _0x154519='https://corsproxy.io/?'+encodeURIComponent(_0x5a8795),_0x3f02e8=await fetch(_0x154519);if(!_0x3f02e8['ok'])throw new Error(_0x536140(0x384)+_0x3f02e8[_0x536140(0xa89)]+')');const _0x144e06=await _0x3f02e8[_0x536140(0x6bb)](),_0x5f197d=extractTextFromHtml(_0x144e06);if(!_0x5f197d||_0x5f197d[_0x536140(0x6b0)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x1184a6,_0x5f197d);}catch(_0x264c44){console[_0x536140(0x77b)](_0x536140(0xb37),_0x264c44),showMessage(_0x536140(0x5df)+_0x264c44[_0x536140(0x5dd)]),_0x3b2168[_0x536140(0x888)]=_0x536140(0x7ab);}finally{_0x325302[_0x536140(0x542)][_0x536140(0x33b)](_0x536140(0x49a)),_0x398fd5[_0x536140(0x709)]=![];}}function extractTextFromHtml(_0x568420){const _0x4b3af1=_0x358d67,_0x5c5427=new DOMParser()['parseFromString'](_0x568420,_0x4b3af1(0x63c));return _0x5c5427['querySelectorAll'](_0x4b3af1(0x458))[_0x4b3af1(0x519)](_0x38598e=>_0x38598e['remove']()),_0x5c5427[_0x4b3af1(0x70d)][_0x4b3af1(0x20d)]||'';}document[_0x358d67(0x3a8)](_0x358d67(0xbd0))[_0x358d67(0x4f9)](_0x358d67(0x2ea),()=>{const _0x3aab35=_0x358d67,_0x58eaca=document[_0x3aab35(0x3a8)](_0x3aab35(0x41a))[_0x3aab35(0xac6)][_0x3aab35(0x7a5)]();generateQuiz(_0x58eaca,null);}),document[_0x358d67(0x3a8)]('generate-from-text-btn')[_0x358d67(0x4f9)](_0x358d67(0x2ea),()=>{const _0x1965d3=_0x358d67,_0x4fc38c=document[_0x1965d3(0x3a8)](_0x1965d3(0xac9))[_0x1965d3(0xac6)]['trim']();if(!_0x4fc38c){showMessage(_0x1965d3(0xbaa));return;}const _0x2591ae=document[_0x1965d3(0x3a8)](_0x1965d3(0x41a))[_0x1965d3(0xac6)][_0x1965d3(0x7a5)]();generateQuiz(_0x2591ae,_0x4fc38c);});async function generateQuiz(_0x57c515,_0xc146c0,_0x421b3c=null,_0x30f64f=null,_0xac715b=![],_0x51db66=null,_0x5c51d9=null,_0x565ccf=![]){const _0x3d7e23=_0x358d67;let _0x2d9afe={};if(_0xac715b&&blueprintPageSettings)console[_0x3d7e23(0x498)](_0x3d7e23(0x656)),_0x2d9afe=blueprintPageSettings;else{console[_0x3d7e23(0x498)](_0x3d7e23(0x3fb));const _0x5663f7=document[_0x3d7e23(0x4a1)](_0x3d7e23(0xadb));_0x2d9afe={'quizType':document[_0x3d7e23(0x3a8)](_0x3d7e23(0x6d9))[_0x3d7e23(0xac6)],'numQuestions':document[_0x3d7e23(0x3a8)](_0x3d7e23(0x568))[_0x3d7e23(0xac6)],'numChoices':document[_0x3d7e23(0x3a8)]('num-choices')[_0x3d7e23(0xac6)],'includeImages':document['getElementById'](_0x3d7e23(0x20e))[_0x3d7e23(0x69c)],'isNormalTopic':document[_0x3d7e23(0x3a8)](_0x3d7e23(0xbda))[_0x3d7e23(0x69c)],'difficultyValue':document[_0x3d7e23(0x3a8)]('difficulty-level-select')[_0x3d7e23(0xac6)],'complexityValue':document[_0x3d7e23(0x3a8)](_0x3d7e23(0x775))[_0x3d7e23(0xac6)],'selectedTopicNames':Array['from'](_0x5663f7)[_0x3d7e23(0x8ca)](_0xb3d9f=>_0xb3d9f[_0x3d7e23(0xac6)])};}const _0x3a4004=_0x2d9afe[_0x3d7e23(0x584)]?'':_0x3d7e23(0xbab),_0x36e179=_0x2d9afe['difficultyValue']!==_0x3d7e23(0x850)?_0x3d7e23(0x943)+_0x2d9afe[_0x3d7e23(0xa29)]+'\x22':'',_0x273571=_0x2d9afe[_0x3d7e23(0x51c)]!==_0x3d7e23(0x1ec)?_0x3d7e23(0x9ec)+_0x2d9afe[_0x3d7e23(0x51c)]+_0x3d7e23(0x6a7):'';let _0x40b553='';_0x2d9afe['selectedTopicNames']&&_0x2d9afe['selectedTopicNames']['length']>0x0&&(_0x40b553=_0x3d7e23(0x36d)+_0x2d9afe[_0x3d7e23(0x92a)]['join'](',\x20')+'.');let _0x23f505='';_0x30f64f&&(_0x23f505='โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย');let _0x5b03fa='',_0x28b1a7='',_0x583209,_0x48a114=_0x3d7e23(0x86f)+_0x57c515+'\x22';if(!_0x57c515&&_0xc146c0)_0x48a114=_0x3d7e23(0x82a);else!_0x57c515&&!_0xc146c0&&(_0x48a114=_0x3d7e23(0xa11));const _0x578013={'type':_0x3d7e23(0x182),'properties':{'questionText':{'type':_0x3d7e23(0x534)},'options':{'type':_0x3d7e23(0x632),'items':{'type':_0x3d7e23(0x534)}},'correctAnswerIndex':{'type':_0x3d7e23(0x8ac)},'explanation':{'type':_0x3d7e23(0x534)},'imageCode':{'type':'STRING'}},'required':[_0x3d7e23(0xa23),_0x3d7e23(0x994),'correctAnswerIndex','explanation']},_0x30a77d={'type':_0x3d7e23(0x182),'properties':{'questionText':{'type':_0x3d7e23(0x534)},'idealAnswer':{'type':_0x3d7e23(0x534)},'explanation':{'type':_0x3d7e23(0x534)},'imageCode':{'type':_0x3d7e23(0x534)}},'required':[_0x3d7e23(0xa23),_0x3d7e23(0xbd9),'explanation']},_0x3b65f4={'type':_0x3d7e23(0x182),'properties':{'questionText':{'type':_0x3d7e23(0x534)},'questionType':{'type':_0x3d7e23(0x534),'enum':[_0x3d7e23(0x302),_0x3d7e23(0xad5)]},'options':{'type':'ARRAY','items':{'type':_0x3d7e23(0x534)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3d7e23(0x534)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x3d7e23(0x2d0),_0x3d7e23(0x960)]},_0x4f9696={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x3d7e23(0x534)},'imageCode':{'type':_0x3d7e23(0x534)}},'required':['questionText',_0x3d7e23(0x5a0),'explanation']},_0x39d41f={'type':_0x3d7e23(0x182),'properties':{'questionType':{'type':_0x3d7e23(0x534),'enum':[_0x3d7e23(0x4b9)]},'stem':{'type':_0x3d7e23(0x534)},'correctResponse':{'type':_0x3d7e23(0x534)},'allResponses':{'type':_0x3d7e23(0x632),'items':{'type':_0x3d7e23(0x534)}},'explanation':{'type':_0x3d7e23(0x534)},'imageCode':{'type':_0x3d7e23(0x534)}},'required':[_0x3d7e23(0x2d0),_0x3d7e23(0x966),'correctResponse',_0x3d7e23(0x37b),'explanation']};let _0x431b2a;if(_0x421b3c!==null){const _0x24a312=currentQuizData['questions'][_0x421b3c][_0x3d7e23(0x2d0)],_0x14dd99=_0x2d9afe[_0x3d7e23(0x7da)]?_0x3d7e23(0x98c):'';_0x5b03fa='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x48a114+'\x20'+_0x40b553+'\x20'+_0x36e179+_0x3d7e23(0x576)+_0x14dd99+'\x20'+simpleMathPrompt;if(_0x24a312===_0x3d7e23(0x302))_0x583209=_0x578013;else{if(_0x24a312===_0x3d7e23(0x4b9))_0x583209={'type':_0x3d7e23(0x182),'properties':{'questionType':{'type':_0x3d7e23(0x534),'enum':[_0x3d7e23(0x4b9)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3d7e23(0x534)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x3d7e23(0x2d0),_0x3d7e23(0x966),_0x3d7e23(0x44f),_0x3d7e23(0x960)]};else _0x583209=_0x30a77d;}_0x431b2a=_0x583209;}else{const _0x232c2e=_0x2d9afe[_0x3d7e23(0x7da)]?_0x3d7e23(0x3eb):'';switch(_0x2d9afe['quizType']){case'multiple_choice':_0x5b03fa=_0x3d7e23(0xa22)+_0x3a4004+'\x20'+_0x2d9afe['numQuestions']+_0x3d7e23(0x5c2)+_0x48a114+'\x20'+_0x40b553+'\x20'+_0x36e179+'\x20'+_0x273571+'\x20'+_0x23f505+_0x3d7e23(0x2da)+_0x2d9afe[_0x3d7e23(0x24b)]+_0x3d7e23(0x49e)+_0x232c2e+'\x20'+simpleMathPrompt,_0x583209=_0x578013;break;case _0x3d7e23(0x6d1):_0x5b03fa='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3a4004+'\x20'+_0x2d9afe[_0x3d7e23(0x833)]+_0x3d7e23(0x5c2)+_0x48a114+'\x20'+_0x40b553+'\x20'+_0x36e179+'\x20'+_0x273571+'\x20'+_0x23f505+_0x3d7e23(0xb16)+_0x2d9afe[_0x3d7e23(0x24b)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x232c2e+'\x20'+simpleMathPrompt,_0x583209=_0x578013;break;case _0x3d7e23(0x845):_0x5b03fa='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3a4004+'\x20'+_0x2d9afe[_0x3d7e23(0x833)]+'\x20ข้อ\x20'+_0x48a114+'\x20'+_0x40b553+'\x20'+_0x36e179+'\x20'+_0x273571+'\x20'+_0x23f505+_0x3d7e23(0xb55)+_0x232c2e+'\x20'+simpleMathPrompt,_0x583209=_0x30a77d;break;case _0x3d7e23(0x1ec):_0x5b03fa=_0x3d7e23(0xb61)+_0x3a4004+'\x20'+_0x2d9afe[_0x3d7e23(0x833)]+'\x20ข้อ\x20'+_0x48a114+'\x20'+_0x40b553+'\x20'+_0x36e179+'\x20'+_0x273571+'\x20'+_0x23f505+_0x3d7e23(0x32c)+_0x2d9afe['numChoices']+'\x20ตัวเลือก.\x20'+_0x232c2e+'\x20'+simpleMathPrompt+'.',_0x583209=_0x3b65f4;break;case _0x3d7e23(0x5b9):_0x5b03fa=_0x3d7e23(0xa25)+_0x3a4004+'\x20'+_0x2d9afe[_0x3d7e23(0x833)]+_0x3d7e23(0x5c2)+_0x48a114+'\x20'+_0x40b553+'\x20'+_0x36e179+'\x20'+_0x273571+'\x20'+_0x23f505+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x232c2e+'\x20'+simpleMathPrompt,_0x583209=_0x4f9696;break;case'matching':_0x5b03fa=_0x3d7e23(0x5be)+_0x3a4004+'\x20'+_0x2d9afe[_0x3d7e23(0x833)]+'\x20คู่\x20'+_0x48a114+'\x20'+_0x40b553+'\x20'+_0x36e179+'\x20'+_0x273571+'\x20'+_0x23f505+_0x3d7e23(0x573)+_0x232c2e+'\x20'+simpleMathPrompt,_0x583209=_0x39d41f;break;}_0x431b2a={'type':_0x3d7e23(0x182),'properties':{'topic':{'type':_0x3d7e23(0x534)},'questions':{'type':'ARRAY','items':_0x583209}},'required':[_0x3d7e23(0x339),_0x3d7e23(0xb4f)]};}const _0x31a1fe='\x20**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET';_0xc146c0?(_0x565ccf?_0x5b03fa=_0x3d7e23(0x56e)+_0xc146c0+_0x3d7e23(0x958)+_0x5b03fa+_0x31a1fe:_0x5b03fa='จากเนื้อหาต่อไปนี้:\x20\x22'+_0xc146c0+'\x22,\x20'+_0x5b03fa,_0x28b1a7=_0x3d7e23(0x747)):(_0x565ccf&&(_0x5b03fa+=_0x31a1fe),_0x28b1a7='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x423564;return _0x30f64f?_0x423564=[{'text':_0x5b03fa},..._0x30f64f]:_0x423564=_0x5b03fa,handleApiCall(_0x423564,_0x28b1a7,_0x431b2a,_0x421b3c,!![],_0x51db66,_0x5c51d9);}async function generateQuizFromFile(_0x295fd8,_0x384ffa){const _0x4daf01=_0x358d67,_0x533b1e=document[_0x4daf01(0x3a8)]('file-topic-input')['value'][_0x4daf01(0x7a5)](),_0x7deb4d=document[_0x4daf01(0x3a8)](_0x4daf01(0x6d9))[_0x4daf01(0xac6)],_0x2e9396=document[_0x4daf01(0x3a8)](_0x4daf01(0x568))[_0x4daf01(0xac6)],_0x4f791e=document[_0x4daf01(0x3a8)]('num-choices')[_0x4daf01(0xac6)],_0x3a493d=document[_0x4daf01(0x3a8)]('include-images-checkbox')[_0x4daf01(0x69c)],_0x293e62=document[_0x4daf01(0x3a8)]('force-math-checkbox')[_0x4daf01(0x69c)],_0x30f550=_0x293e62?'':_0x4daf01(0xbab),_0x453b46=document[_0x4daf01(0x3a8)]('original-mode-checkbox')[_0x4daf01(0x69c)];let _0x1b77c6='',_0x5adcde;const _0x384952=_0x3a493d?_0x4daf01(0x3eb):'';if(_0x453b46)_0x1b77c6=_0x4daf01(0x74f)+_0x384952+'\x0a\x20\x20\x20\x20'+simpleMathPrompt+'\x0a',_0x5adcde={'type':_0x4daf01(0x182),'properties':{'questionText':{'type':_0x4daf01(0x534)},'questionType':{'type':_0x4daf01(0x534),'enum':[_0x4daf01(0x302),_0x4daf01(0xad5),_0x4daf01(0x5b9),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x4daf01(0x534)}},'correctAnswerIndex':{'type':_0x4daf01(0x8ac)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x4daf01(0x929)},'stem':{'type':_0x4daf01(0x534)},'correctResponse':{'type':_0x4daf01(0x534)},'allResponses':{'type':'ARRAY','items':{'type':_0x4daf01(0x534)}},'explanation':{'type':_0x4daf01(0x534)},'imageCode':{'type':_0x4daf01(0x534)}},'required':['questionType',_0x4daf01(0x960)]};else{let _0x1852f9=_0x4daf01(0x86f)+_0x533b1e+'\x22';!_0x533b1e&&(_0x1852f9=_0x4daf01(0xbfc));switch(_0x7deb4d){case _0x4daf01(0x302):_0x1b77c6='สร้างแบบทดสอบปรนัย'+_0x30f550+'\x20'+_0x2e9396+_0x4daf01(0x5c2)+_0x1852f9+_0x4daf01(0x2da)+_0x4f791e+_0x4daf01(0x49e)+_0x384952+'\x20'+simpleMathPrompt,_0x5adcde={'type':_0x4daf01(0x182),'properties':{'questionText':{'type':_0x4daf01(0x534)},'options':{'type':'ARRAY','items':{'type':_0x4daf01(0x534)}},'correctAnswerIndex':{'type':_0x4daf01(0x8ac)},'explanation':{'type':_0x4daf01(0x534)},'imageCode':{'type':_0x4daf01(0x534)}},'required':[_0x4daf01(0xa23),_0x4daf01(0x994),'correctAnswerIndex',_0x4daf01(0x960)]};break;case _0x4daf01(0x6d1):_0x1b77c6=_0x4daf01(0xbe9)+_0x30f550+'\x20'+_0x2e9396+_0x4daf01(0x5c2)+_0x1852f9+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4f791e+_0x4daf01(0xb93)+_0x384952+'\x20'+simpleMathPrompt,_0x5adcde={'type':_0x4daf01(0x182),'properties':{'questionText':{'type':_0x4daf01(0x534)},'options':{'type':_0x4daf01(0x632),'items':{'type':_0x4daf01(0x534)}},'correctAnswerIndex':{'type':_0x4daf01(0x8ac)},'explanation':{'type':_0x4daf01(0x534)},'imageCode':{'type':_0x4daf01(0x534)}},'required':[_0x4daf01(0xa23),_0x4daf01(0x994),_0x4daf01(0x468),_0x4daf01(0x960)]};break;case _0x4daf01(0x845):_0x1b77c6=_0x4daf01(0xbe9)+_0x30f550+'\x20'+_0x2e9396+_0x4daf01(0x5c2)+_0x1852f9+_0x4daf01(0xb55)+_0x384952+'\x20'+simpleMathPrompt,_0x5adcde={'type':_0x4daf01(0x182),'properties':{'questionText':{'type':_0x4daf01(0x534)},'idealAnswer':{'type':_0x4daf01(0x534)},'explanation':{'type':_0x4daf01(0x534)},'imageCode':{'type':_0x4daf01(0x534)}},'required':[_0x4daf01(0xa23),_0x4daf01(0xbd9),_0x4daf01(0x960)]};break;case _0x4daf01(0x1ec):_0x1b77c6=_0x4daf01(0xb61)+_0x30f550+'\x20'+_0x2e9396+_0x4daf01(0x5c2)+_0x1852f9+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x4f791e+'\x20ตัวเลือก.\x20'+_0x384952+'\x20'+simpleMathPrompt+_0x4daf01(0x810),_0x5adcde={'type':'OBJECT','properties':{'questionText':{'type':_0x4daf01(0x534)},'questionType':{'type':_0x4daf01(0x534),'enum':[_0x4daf01(0x302),_0x4daf01(0xad5)]},'options':{'type':_0x4daf01(0x632),'items':{'type':_0x4daf01(0x534)}},'correctAnswerIndex':{'type':_0x4daf01(0x8ac)},'idealAnswer':{'type':_0x4daf01(0x534)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4daf01(0x534)}},'required':['questionText',_0x4daf01(0x2d0),_0x4daf01(0x960)]};break;case _0x4daf01(0x5b9):_0x1b77c6=_0x4daf01(0xa25)+_0x30f550+'\x20'+_0x2e9396+'\x20ข้อ\x20'+_0x1852f9+_0x4daf01(0x57f)+_0x384952+'\x20'+simpleMathPrompt,_0x5adcde={'type':_0x4daf01(0x182),'properties':{'questionText':{'type':_0x4daf01(0x534)},'correctAnswer':{'type':_0x4daf01(0x929)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4daf01(0x534)}},'required':[_0x4daf01(0xa23),_0x4daf01(0x5a0),_0x4daf01(0x960)]};break;case _0x4daf01(0xc00):_0x1b77c6='สร้างชุดคำถามจับคู่'+_0x30f550+'\x20'+_0x2e9396+_0x4daf01(0x9c2)+_0x1852f9+_0x4daf01(0xa21)+_0x2e9396+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x384952+'\x20'+simpleMathPrompt,_0x5adcde={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x4daf01(0x4b9)]},'stem':{'type':_0x4daf01(0x534)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4daf01(0x632),'items':{'type':_0x4daf01(0x534)}},'explanation':{'type':_0x4daf01(0x534)},'imageCode':{'type':_0x4daf01(0x534)}},'required':['questionType','stem',_0x4daf01(0x44f),_0x4daf01(0x37b),'explanation']};break;}}const _0x200aeb={'type':_0x4daf01(0x182),'properties':{'topic':{'type':_0x4daf01(0x534)},'questions':{'type':'ARRAY','items':_0x5adcde}},'required':[_0x4daf01(0x339),'questions']},_0x2c70de='จากไฟล์ที่แนบมานี้,\x20'+_0x1b77c6,_0x2a91c4={'contents':[{'parts':[{'text':_0x2c70de},{'inlineData':{'mimeType':_0x295fd8,'data':_0x384ffa}}]}],'generationConfig':{'responseMimeType':_0x4daf01(0xb25),'responseSchema':_0x200aeb}};return handleApiCall(_0x2a91c4[_0x4daf01(0x73e)][0x0][_0x4daf01(0x971)],_0x4daf01(0x95e),_0x200aeb);}async function handleApiCall(_0x2043b7,_0x1b8afe,_0x2cc938,_0x32272b=null,_0x3ae274=!![],_0x2b9fa7=null,_0x194ca0=null){const _0x85b605=_0x358d67,_0x99cf5b=document[_0x85b605(0x3a8)](_0x85b605(0xa15)),_0x19f4f2=document['getElementById']('loader'),_0x131d0f=document[_0x85b605(0x3a8)]('loader-text'),_0x15dad3=document['getElementById'](_0x85b605(0x71c));_0x99cf5b['classList']['remove'](_0x85b605(0x49a));_0x32272b===null&&_0x3ae274&&(_0x15dad3[_0x85b605(0x888)]='');_0x19f4f2[_0x85b605(0x542)][_0x85b605(0x9d0)]('hidden'),_0x131d0f[_0x85b605(0x20d)]=_0x1b8afe,document[_0x85b605(0x3a8)]('generate-from-topic-btn')[_0x85b605(0x709)]=!![],document[_0x85b605(0x3a8)](_0x85b605(0x28e))[_0x85b605(0x709)]=!![],document[_0x85b605(0x3a8)](_0x85b605(0x4b6))[_0x85b605(0x709)]=!![];const _0x5106a3=document[_0x85b605(0x3a8)](_0x85b605(0x2e7));if(_0x5106a3)_0x5106a3[_0x85b605(0x709)]=!![];const _0x43cbbe=document[_0x85b605(0x3a8)]('generate-from-blueprint-btn');if(_0x43cbbe)_0x43cbbe[_0x85b605(0x709)]=!![];const _0x3b528a=document[_0x85b605(0x3a8)](_0x85b605(0x3e7));if(_0x3b528a)_0x3b528a[_0x85b605(0x709)]=!![];try{const _0x28f210={'responseMimeType':_0x85b605(0xb25),'responseSchema':_0x2cc938},_0x3dd8cb=Array['isArray'](_0x2043b7)?_0x2043b7:[{'text':_0x2043b7}],_0x31e9f9={'contents':[{'role':_0x85b605(0x7de),'parts':_0x3dd8cb}],'generationConfig':_0x28f210},_0x2daaa6=_0x85b605(0x4a9),_0x3a5d77=_0x85b605(0x242)+_0x2daaa6,_0x415340=await fetch(_0x3a5d77,{'method':_0x85b605(0x1cd),'headers':{'Content-Type':_0x85b605(0xb25)},'body':JSON['stringify'](_0x31e9f9)});if(!_0x415340['ok']){const _0x1786d0=await _0x415340['text']();console[_0x85b605(0x77b)](_0x85b605(0x803),_0x1786d0);throw new Error(_0x85b605(0x5b2)+_0x415340[_0x85b605(0xa89)]);}const _0x3bfe5f=await _0x415340[_0x85b605(0x8c3)]();if(_0x3bfe5f[_0x85b605(0x4ce)]?.[0x0]?.['content']?.[_0x85b605(0x971)]?.[0x0]){let _0x2cd654=_0x3bfe5f[_0x85b605(0x4ce)][0x0][_0x85b605(0x48e)][_0x85b605(0x971)][0x0]['text'];if(_0x2cd654[_0x85b605(0x506)](_0x85b605(0x294)))_0x2cd654=_0x2cd654['substring'](0x7,_0x2cd654[_0x85b605(0x6b0)]-0x3)['trim']();else _0x2cd654[_0x85b605(0x506)](_0x85b605(0x25f))&&(_0x2cd654=_0x2cd654[_0x85b605(0x876)](0x3,_0x2cd654[_0x85b605(0x6b0)]-0x3)[_0x85b605(0x7a5)]());let _0x2e5a75=JSON[_0x85b605(0x91c)](_0x2cd654);if(_0x3ae274){if(_0x32272b!==null){if(_0x2e5a75[_0x85b605(0x2d0)]==='matching_item'){const _0x1d3706=currentQuizData[_0x85b605(0xb4f)][_0x85b605(0x8ca)](_0x334acf=>_0x334acf['correctResponse']);_0x2e5a75[_0x85b605(0x37b)]=_0x1d3706;const _0x11c820=currentQuizData[_0x85b605(0xb4f)][_0x32272b][_0x85b605(0x44f)],_0x1e4fa1=_0x1d3706[_0x85b605(0xb40)](_0x11c820);_0x1e4fa1>-0x1&&(_0x1d3706[_0x1e4fa1]=_0x2e5a75['correctResponse']),currentQuizData[_0x85b605(0xb4f)][_0x85b605(0x519)](_0x5d9aed=>{const _0x12b32c=_0x85b605;if(_0x5d9aed['questionType']===_0x12b32c(0x4b9))_0x5d9aed[_0x12b32c(0x37b)]=_0x1d3706;});}currentQuizData['questions'][_0x32272b]=_0x2e5a75,displayGeneratedQuiz(currentQuizData,_0x2b9fa7,_0x194ca0);}else{currentQuizData=_0x2e5a75;const _0x22d7e9=document[_0x85b605(0x3a8)](_0x85b605(0x6d9))[_0x85b605(0xac6)];currentQuizData['quizType']=_0x22d7e9,currentQuizData[_0x85b605(0xb4f)]&&currentQuizData[_0x85b605(0xb4f)][_0x85b605(0x519)](_0x21084c=>{const _0xbf83a5=_0x85b605;if(!_0x21084c[_0xbf83a5(0x2d0)]){if(_0x22d7e9==='fill_in_with_choices')_0x21084c[_0xbf83a5(0x2d0)]=_0xbf83a5(0x302);else{if(_0x22d7e9==='fill_in_no_choices')_0x21084c[_0xbf83a5(0x2d0)]=_0xbf83a5(0xad5);else _0x21084c['questionType']=_0x22d7e9;}}}),displayGeneratedQuiz(currentQuizData,_0x2b9fa7,_0x194ca0);}}return _0x2e5a75;}else{let _0x486cc8=_0x85b605(0x36f);if(_0x3bfe5f['promptFeedback']?.[_0x85b605(0x5d9)])_0x486cc8='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x3bfe5f[_0x85b605(0x6c0)][_0x85b605(0x5d9)]+'.';else _0x3bfe5f[_0x85b605(0x4ce)]?.[0x0]?.[_0x85b605(0x554)]&&_0x3bfe5f[_0x85b605(0x4ce)][0x0][_0x85b605(0x554)]!==_0x85b605(0x989)&&(_0x486cc8='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x3bfe5f['candidates'][0x0][_0x85b605(0x554)]+'.');console[_0x85b605(0x77b)](_0x486cc8,JSON[_0x85b605(0xa50)](_0x3bfe5f));throw new Error(_0x486cc8);}}catch(_0x4e753a){console[_0x85b605(0x77b)](_0x85b605(0xb24),_0x4e753a),showMessage(_0x85b605(0x49b)+_0x4e753a[_0x85b605(0x5dd)]);_0x32272b===null&&_0x3ae274&&(_0x15dad3[_0x85b605(0x888)]=_0x85b605(0xaf2));throw _0x4e753a;}finally{_0x19f4f2['classList']['add'](_0x85b605(0x49a)),document[_0x85b605(0x3a8)](_0x85b605(0xbd0))['disabled']=![],document[_0x85b605(0x3a8)]('generate-from-text-btn')[_0x85b605(0x709)]=![],document[_0x85b605(0x3a8)](_0x85b605(0x4b6))[_0x85b605(0x709)]=![];if(_0x5106a3)_0x5106a3[_0x85b605(0x709)]=![];if(_0x43cbbe)_0x43cbbe[_0x85b605(0x709)]=![];if(_0x3b528a)_0x3b528a[_0x85b605(0x709)]=![];}}function exitFullscreen(){const _0x38391f=_0x358d67;if(document[_0x38391f(0x452)])document[_0x38391f(0x452)]()[_0x38391f(0x642)](_0xd39bea=>console[_0x38391f(0x77b)](_0xd39bea));else{if(document['webkitExitFullscreen'])document[_0x38391f(0x3d2)]();else document[_0x38391f(0xba8)]&&document[_0x38391f(0xba8)]();}}function enterFullscreen(){const _0xef0c0d=_0x358d67,_0x2a496a=document[_0xef0c0d(0x70c)];if(_0x2a496a[_0xef0c0d(0x589)])_0x2a496a[_0xef0c0d(0x589)]()[_0xef0c0d(0x642)](_0x108e4c=>{const _0x576ae7=_0xef0c0d;console[_0x576ae7(0x77b)](_0x576ae7(0x2f9)+_0x108e4c['message']+'\x20('+_0x108e4c[_0x576ae7(0xbc7)]+')');});else{if(_0x2a496a[_0xef0c0d(0x74c)])_0x2a496a['webkitRequestFullscreen']();else _0x2a496a['msRequestFullscreen']&&_0x2a496a[_0xef0c0d(0xbd5)]();}}function handleCheatingEvent(){const _0x23f1a4=_0x358d67;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x23f1a4(0x27c)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x23f1a4(0x3a8)](_0x23f1a4(0xa63))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document[_0x23f1a4(0x6ba)](_0x23f1a4(0x62a),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x23f1a4(0x896),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x52c246=_0x358d67;if(currentMode===_0x52c246(0x5ac)||!isQuizActive)return;if(document['visibilityState']===_0x52c246(0x49a))handleCheatingEvent();else document[_0x52c246(0xbcd)]===_0x52c246(0x634)&&(console[_0x52c246(0x498)](_0x52c246(0xb01)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x176cdd=_0x358d67;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x176cdd(0x6af)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x1cdb68,_0x18d36f=null,_0x314227=null){const _0x15de4a=_0x358d67,_0x10e39f=document['getElementById'](_0x15de4a(0x71c));let _0x23df6a=_0x15de4a(0x69d)+_0x1cdb68['topic']+_0x15de4a(0x59b);_0x1cdb68[_0x15de4a(0xb4f)][_0x15de4a(0x519)]((_0x47b03c,_0x5e1c98)=>{const _0x306e70=_0x15de4a;!_0x47b03c['id']&&(_0x47b03c['id']='q_'+Date[_0x306e70(0x2ab)]()+'_'+_0x5e1c98);const _0x2d2f76=_0x47b03c[_0x306e70(0x2d0)]||_0x1cdb68['quizType'];_0x23df6a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x5e1c98+_0x306e70(0x6c6)+_0x5e1c98+_0x306e70(0x766)+_0x5e1c98+_0x306e70(0x5da);switch(_0x2d2f76){case _0x306e70(0x4b9):_0x23df6a+=_0x306e70(0xa92)+_0x5e1c98+'\x22>'+(_0x5e1c98+0x1)+'.\x20'+_0x47b03c[_0x306e70(0x966)]+'</p>';_0x47b03c[_0x306e70(0x311)]&&(_0x23df6a+=_0x306e70(0x425)+_0x5e1c98+_0x306e70(0x290)+_0x47b03c[_0x306e70(0x311)]+'</div>');_0x23df6a+=_0x306e70(0x52c)+_0x5e1c98+'\x22>'+_0x47b03c['correctResponse']+_0x306e70(0x538),_0x23df6a+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x5e1c98+'\x22>'+_0x47b03c[_0x306e70(0x960)]+_0x306e70(0x538);break;case _0x306e70(0xad5):_0x23df6a+=_0x306e70(0xa92)+_0x5e1c98+'\x22>'+(_0x5e1c98+0x1)+'.\x20'+_0x47b03c[_0x306e70(0xa23)]+_0x306e70(0x183);_0x47b03c[_0x306e70(0x311)]&&(_0x23df6a+='<div\x20id=\x22q-image-container-'+_0x5e1c98+_0x306e70(0x290)+_0x47b03c[_0x306e70(0x311)]+_0x306e70(0x738));_0x23df6a+=_0x306e70(0x9e3)+_0x5e1c98+'\x22>'+_0x47b03c['idealAnswer']+'</span></div>',_0x23df6a+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x5e1c98+'\x22>'+_0x47b03c[_0x306e70(0x960)]+'</span></div>';break;case _0x306e70(0x5b9):_0x23df6a+=_0x306e70(0xa92)+_0x5e1c98+'\x22>'+(_0x5e1c98+0x1)+'.\x20'+_0x47b03c[_0x306e70(0xa23)]+_0x306e70(0x183);_0x47b03c[_0x306e70(0x311)]&&(_0x23df6a+=_0x306e70(0x425)+_0x5e1c98+_0x306e70(0x290)+_0x47b03c['imageCode']+_0x306e70(0x738));_0x23df6a+=_0x306e70(0x905)+(_0x47b03c[_0x306e70(0x5a0)]===!![]?'text-green-600\x20font-bold':'')+_0x306e70(0x99e)+(_0x47b03c[_0x306e70(0x5a0)]===![]?_0x306e70(0x841):'')+_0x306e70(0x4d6),_0x23df6a+=_0x306e70(0x6eb)+_0x5e1c98+'\x22>'+_0x47b03c[_0x306e70(0x960)]+'</span></div>';break;case _0x306e70(0x818):case _0x306e70(0x302):default:_0x23df6a+=_0x306e70(0xa92)+_0x5e1c98+'\x22>'+(_0x5e1c98+0x1)+'.\x20'+_0x47b03c[_0x306e70(0xa23)]+'</p>';_0x47b03c['imageCode']&&(_0x23df6a+=_0x306e70(0x425)+_0x5e1c98+_0x306e70(0x290)+_0x47b03c[_0x306e70(0x311)]+'</div>');_0x23df6a+=_0x306e70(0x77c)+_0x5e1c98+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x47b03c[_0x306e70(0x994)]||[])[_0x306e70(0x8ca)]((_0x493f20,_0x5a5c02)=>_0x306e70(0x627)+(_0x5a5c02===_0x47b03c[_0x306e70(0x468)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x493f20+'</li>')[_0x306e70(0x61f)]('')+_0x306e70(0x9be),_0x23df6a+=_0x306e70(0x6eb)+_0x5e1c98+'\x22>'+_0x47b03c[_0x306e70(0x960)]+_0x306e70(0x538);break;}_0x23df6a+=_0x306e70(0x738);}),_0x23df6a+=_0x15de4a(0x7b2),_0x10e39f[_0x15de4a(0x888)]=_0x23df6a,document[_0x15de4a(0x4a1)](_0x15de4a(0x1a1))[_0x15de4a(0x519)](_0x36956d=>_0x36956d[_0x15de4a(0x4f9)](_0x15de4a(0x2ea),handleEditQuestion)),document[_0x15de4a(0x4a1)](_0x15de4a(0x636))['forEach'](_0x80aaaf=>_0x80aaaf[_0x15de4a(0x4f9)](_0x15de4a(0x2ea),handleRegenerateQuestion)),document[_0x15de4a(0x3a8)](_0x15de4a(0x813))[_0x15de4a(0x4f9)](_0x15de4a(0x2ea),exportQuizAsWorksheetPDF),document['getElementById'](_0x15de4a(0xa2b))['addEventListener'](_0x15de4a(0x2ea),handleVerifyAnswers);const _0x42ffae=document['getElementById'](_0x15de4a(0xbee));if(_0x42ffae){const _0x1b1066=_0x18d36f||currentProjectId;_0x42ffae[_0x15de4a(0x4f9)]('click',()=>saveQuiz(_0x1b1066,_0x314227));}if(window[_0x15de4a(0x915)])window['MathJax'][_0x15de4a(0x7cf)]([_0x10e39f]);}function handleRegenerateQuestion(_0x56a29d){const _0x24fa58=_0x358d67,_0x3ca4c6=_0x56a29d[_0x24fa58(0x29f)][_0x24fa58(0x483)][_0x24fa58(0x1c5)],_0x4846c1=currentQuizData[_0x24fa58(0x339)];showMessage(_0x24fa58(0x5cc)+(parseInt(_0x3ca4c6)+0x1)+_0x24fa58(0x536)),generateQuiz(_0x4846c1,null,parseInt(_0x3ca4c6));}function getPointerPosition(_0x4a8250,_0x3e2c27){const _0x55fd31=_0x358d67,_0x466114=_0x4a8250[_0x55fd31(0x1fb)]();let _0x338011,_0x4ec1ba;return _0x3e2c27['touches']&&_0x3e2c27[_0x55fd31(0x99b)][_0x55fd31(0x6b0)]>0x0?(_0x338011=_0x3e2c27['touches'][0x0][_0x55fd31(0x74e)],_0x4ec1ba=_0x3e2c27[_0x55fd31(0x99b)][0x0]['clientY']):(_0x338011=_0x3e2c27[_0x55fd31(0x74e)],_0x4ec1ba=_0x3e2c27[_0x55fd31(0x9b8)]),{'x':(_0x338011-_0x466114['e'])/_0x466114['a'],'y':(_0x4ec1ba-_0x466114['f'])/_0x466114['d']};}function startDrag(_0x45b97b){const _0x3fb090=_0x358d67;_0x45b97b[_0x3fb090(0x3ee)]===_0x3fb090(0x1e5)&&_0x45b97b[_0x3fb090(0x5f6)]();const _0x46d2e7=_0x45b97b[_0x3fb090(0x604)]['closest']('.draggable-text');if(_0x46d2e7){draggedSvgElement=_0x46d2e7;const _0x168868=draggedSvgElement['ownerSVGElement'],_0x16b74d=getPointerPosition(_0x168868,_0x45b97b);svgOffset['x']=_0x16b74d['x']-parseFloat(draggedSvgElement[_0x3fb090(0x307)](null,'x')),svgOffset['y']=_0x16b74d['y']-parseFloat(draggedSvgElement[_0x3fb090(0x307)](null,'y'));}}function calculateItemAnalysis(_0x2feaec,_0x5beb1f){const _0x3d6520=_0x358d67,_0xcdd7ef={};if(_0x5beb1f[_0x3d6520(0x6b0)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xfba0e7=[..._0x5beb1f]['sort']((_0xe4cee6,_0x303a42)=>{const _0x131e11=_0x3d6520,_0x160be7=_0x303a42['latestScore']-_0xe4cee6['latestScore'];if(_0x160be7!==0x0)return _0x160be7;const _0x355b4f=_0xe4cee6['attempts']?.['length']||0x1,_0x48d456=_0x303a42['attempts']?.[_0x131e11(0x6b0)]||0x1,_0x21d8a7=_0x355b4f-_0x48d456;if(_0x21d8a7!==0x0)return _0x21d8a7;const _0x5734a2=new Date(_0xe4cee6['latestSubmittedAt']),_0x4ebb1d=new Date(_0x303a42[_0x131e11(0xb0d)]),_0xe94bbc=_0x5734a2-_0x4ebb1d;if(_0xe94bbc!==0x0)return _0xe94bbc;return _0xe4cee6['studentName']['localeCompare'](_0x303a42['studentName'],'th');}),_0x27a4e8=_0xfba0e7[_0x3d6520(0x6b0)],_0x320cbc=Math['max'](0x1,Math['floor'](_0x27a4e8*0.33));if(_0x320cbc===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x1f5412=_0xfba0e7[_0x3d6520(0x5d1)](0x0,_0x320cbc),_0x2e00ef=_0xfba0e7[_0x3d6520(0x5d1)](-_0x320cbc),_0x55b6e8=_0x1f5412['map'](_0x20504a=>_0x20504a[_0x3d6520(0xa0b)]),_0x7a3d0d=_0x2e00ef[_0x3d6520(0x8ca)](_0xdb4baa=>_0xdb4baa[_0x3d6520(0xa0b)]);return _0x2feaec[_0x3d6520(0xb4f)][_0x3d6520(0x519)]((_0x3ae13d,_0x192658)=>{const _0x65ec89=_0x3d6520,_0x463881=_0x3ae13d['stem']||_0x3ae13d['questionText'];let _0x2d6295=0x0,_0x3899e7=0x0,_0x5c1d88=0x0;const _0x4cbe9b=[],_0x449aca=[];_0x1f5412[_0x65ec89(0x519)](_0x3d493f=>{const _0x4d5971=_0x65ec89,_0x3f68e0=_0x3d493f[_0x4d5971(0x310)][_0x3d493f[_0x4d5971(0x310)][_0x4d5971(0x6b0)]-0x1],_0x2c2896=_0x3f68e0['answers'][_0x4d5971(0x301)](_0x2ed9e9=>_0x2ed9e9[_0x4d5971(0xac4)]===_0x463881);_0x4cbe9b[_0x4d5971(0x78d)]({'name':_0x3d493f[_0x4d5971(0xa0b)],'isCorrect':_0x2c2896?_0x2c2896[_0x4d5971(0x6c9)]:![]}),_0x2c2896&&_0x2c2896['isCorrect']&&_0x3899e7++;}),_0x2e00ef[_0x65ec89(0x519)](_0x2a9191=>{const _0x58eb26=_0x65ec89,_0x3259e4=_0x2a9191[_0x58eb26(0x310)][_0x2a9191[_0x58eb26(0x310)][_0x58eb26(0x6b0)]-0x1],_0x2dbe0e=_0x3259e4[_0x58eb26(0x43e)][_0x58eb26(0x301)](_0x12086a=>_0x12086a[_0x58eb26(0xac4)]===_0x463881);_0x449aca['push']({'name':_0x2a9191['studentName'],'isCorrect':_0x2dbe0e?_0x2dbe0e[_0x58eb26(0x6c9)]:![]}),_0x2dbe0e&&_0x2dbe0e['isCorrect']&&_0x5c1d88++;}),_0x5beb1f[_0x65ec89(0x519)](_0x2ced39=>{const _0x351897=_0x65ec89,_0x35348a=_0x2ced39[_0x351897(0x310)][_0x2ced39[_0x351897(0x310)][_0x351897(0x6b0)]-0x1],_0x2af35a=_0x35348a[_0x351897(0x43e)][_0x351897(0x301)](_0x208325=>_0x208325[_0x351897(0xac4)]===_0x463881);_0x2af35a&&_0x2af35a[_0x351897(0x6c9)]&&_0x2d6295++;});const _0x341396=_0x27a4e8>0x0?_0x2d6295/_0x27a4e8:0x0,_0x4ed91a=_0x320cbc>0x0?_0x3899e7/_0x320cbc-_0x5c1d88/_0x320cbc:0x0;_0xcdd7ef[_0x192658]={'p':_0x341396,'r':_0x4ed91a,'upperGroupResponders':_0x4cbe9b,'lowerGroupResponders':_0x449aca};}),{'perQuestionStats':_0xcdd7ef,'overallGroups':{'upperGroupNames':_0x55b6e8,'lowerGroupNames':_0x7a3d0d}};}function drag(_0x3f0371){const _0x29496f=_0x358d67;if(draggedSvgElement){_0x3f0371['preventDefault']();const _0x2e7557=draggedSvgElement[_0x29496f(0xbf4)],_0xf76b41=getPointerPosition(_0x2e7557,_0x3f0371),_0x11296e=_0x2e7557[_0x29496f(0x48c)]['baseVal'];let _0x2198f9=_0xf76b41['x']-svgOffset['x'],_0x294814=_0xf76b41['y']-svgOffset['y'];const _0x484b8d=draggedSvgElement[_0x29496f(0xba5)]();_0x2198f9=Math[_0x29496f(0x21a)](_0x11296e['x'],Math['min'](_0x2198f9,_0x11296e['x']+_0x11296e[_0x29496f(0x19d)]-_0x484b8d[_0x29496f(0x19d)])),_0x294814=Math[_0x29496f(0x21a)](_0x11296e['y'],Math['min'](_0x294814,_0x11296e['y']+_0x11296e[_0x29496f(0x39b)]-_0x484b8d[_0x29496f(0x39b)])),draggedSvgElement[_0x29496f(0x7a1)](null,'x',_0x2198f9),draggedSvgElement[_0x29496f(0x7a1)](null,'y',_0x294814);}}function endDrag(_0x31e100){draggedSvgElement=null;}function handleSvgEditClick(_0x58a974){const _0x2eea3c=_0x358d67;if(_0x58a974[_0x2eea3c(0x604)][_0x2eea3c(0x542)][_0x2eea3c(0x6e5)]('delete-svg-btn')){const _0xe9c378=_0x58a974[_0x2eea3c(0x604)]['dataset'][_0x2eea3c(0x666)],_0x3ab151=_0x58a974['currentTarget'],_0x161919=_0x3ab151['querySelector']('#'+_0xe9c378);_0x161919&&_0x161919[_0x2eea3c(0x9d0)](),_0x58a974['target'][_0x2eea3c(0x9d0)]();}}function handleEditQuestion(_0x311b8b){const _0x143d51=_0x358d67,_0x3542b9=_0x311b8b[_0x143d51(0x29f)],_0x2d2808=_0x3542b9[_0x143d51(0x483)][_0x143d51(0x1c5)],_0xfaab51=currentQuizData[_0x143d51(0xb4f)][_0x2d2808],_0x200d4f=document['getElementById']('q-text-'+_0x2d2808),_0x260cce=document[_0x143d51(0x3a8)](_0x143d51(0x797)+_0x2d2808),_0x3acf30=document[_0x143d51(0x3a8)](_0x143d51(0x42b)+_0x2d2808);if(_0x3542b9[_0x143d51(0x888)][_0x143d51(0xbba)](_0x143d51(0xa1a))){_0x3542b9['innerHTML']=_0x143d51(0x6e8),_0x3542b9[_0x143d51(0x725)]=_0x143d51(0xbeb);if(_0x200d4f)_0x200d4f[_0x143d51(0xbb5)]=!![];if(_0x260cce)_0x260cce[_0x143d51(0xbb5)]=!![];if(_0x3acf30){const _0xd6be64=_0x3acf30['querySelector'](_0x143d51(0x325));if(_0xd6be64){const _0x1fe710=_0xd6be64['querySelectorAll'](_0x143d51(0x6bb));_0x1fe710[_0x143d51(0x519)]((_0x14b18e,_0x1115a5)=>{const _0x133b01=_0x143d51,_0x47865c=_0x133b01(0x9ea)+_0x2d2808+'-'+_0x1115a5;_0x14b18e['id']=_0x47865c,_0x14b18e['classList']['add'](_0x133b01(0x950)),_0x14b18e[_0x133b01(0x43c)][_0x133b01(0x2a3)]='move';const _0x54a3b3=document[_0x133b01(0x5b3)]('http://www.w3.org/2000/svg',_0x133b01(0x409)),_0x345b65=_0x14b18e[_0x133b01(0xba5)]();_0x54a3b3[_0x133b01(0x4a8)]('cx',String(_0x345b65['x']+_0x345b65[_0x133b01(0x19d)]+0x5)),_0x54a3b3[_0x133b01(0x4a8)]('cy',String(_0x345b65['y']+_0x345b65[_0x133b01(0x39b)]/0x2-0x5)),_0x54a3b3[_0x133b01(0x4a8)]('r','5'),_0x54a3b3[_0x133b01(0x4a8)]('fill','red'),_0x54a3b3[_0x133b01(0x4a8)](_0x133b01(0xc05),_0x133b01(0x646)),_0x54a3b3[_0x133b01(0x483)][_0x133b01(0x666)]=_0x47865c,_0x14b18e[_0x133b01(0x5e2)](_0x54a3b3);}),_0xd6be64[_0x143d51(0x4f9)](_0x143d51(0x2e6),startDrag),_0xd6be64[_0x143d51(0x4f9)](_0x143d51(0x665),drag),_0xd6be64[_0x143d51(0x4f9)](_0x143d51(0x586),endDrag),_0xd6be64['addEventListener'](_0x143d51(0xb20),endDrag),_0xd6be64[_0x143d51(0x4f9)](_0x143d51(0x1e5),startDrag,{'passive':![]}),_0xd6be64[_0x143d51(0x4f9)]('touchmove',drag,{'passive':![]}),_0xd6be64[_0x143d51(0x4f9)](_0x143d51(0x740),endDrag),_0xd6be64['addEventListener'](_0x143d51(0x872),endDrag),_0xd6be64[_0x143d51(0x4f9)]('click',handleSvgEditClick);}}if(_0x200d4f)_0x200d4f['focus']();}else{_0x3542b9[_0x143d51(0x888)]=_0x143d51(0xadd),_0x3542b9['title']=_0x143d51(0xb6c);if(_0x200d4f){_0x200d4f[_0x143d51(0xbb5)]=![];const _0x551b83=_0xfaab51['questionType']||currentQuizData[_0x143d51(0x593)];_0x551b83===_0x143d51(0x4b9)?_0xfaab51['stem']=_0x200d4f['innerText'][_0x143d51(0x876)](_0x200d4f[_0x143d51(0xb96)]['indexOf']('.')+0x2)[_0x143d51(0x7a5)]():_0xfaab51[_0x143d51(0xa23)]=_0x200d4f['innerText']['substring'](_0x200d4f[_0x143d51(0xb96)]['indexOf']('.')+0x2)[_0x143d51(0x7a5)]();}_0x260cce&&(_0x260cce[_0x143d51(0xbb5)]=![],_0xfaab51[_0x143d51(0x960)]=_0x260cce[_0x143d51(0xb96)]);if(_0x3acf30){const _0x30f7c2=_0x3acf30[_0x143d51(0x3a0)](_0x143d51(0x325));if(_0x30f7c2){const _0x135d80=_0x30f7c2[_0x143d51(0x76e)](!![]);_0x135d80[_0x143d51(0x4a1)](_0x143d51(0xa07))['forEach'](_0x4e1b26=>_0x4e1b26[_0x143d51(0x9d0)]()),_0x135d80['querySelectorAll'](_0x143d51(0xb5d))[_0x143d51(0x519)](_0x4e25ea=>{const _0x4db21c=_0x143d51;_0x4e25ea['classList'][_0x4db21c(0x9d0)](_0x4db21c(0x950)),_0x4e25ea[_0x4db21c(0x43c)]['cursor']=_0x4db21c(0x889),_0x4e25ea[_0x4db21c(0x2d6)]('id');}),_0xfaab51[_0x143d51(0x311)]=_0x135d80[_0x143d51(0x9a8)],_0x30f7c2[_0x143d51(0x6ba)](_0x143d51(0x2e6),startDrag),_0x30f7c2[_0x143d51(0x6ba)](_0x143d51(0x665),drag),_0x30f7c2['removeEventListener'](_0x143d51(0x586),endDrag),_0x30f7c2[_0x143d51(0x6ba)](_0x143d51(0xb20),endDrag),_0x30f7c2[_0x143d51(0x6ba)](_0x143d51(0x1e5),startDrag),_0x30f7c2[_0x143d51(0x6ba)](_0x143d51(0x580),drag),_0x30f7c2['removeEventListener'](_0x143d51(0x740),endDrag),_0x30f7c2['removeEventListener'](_0x143d51(0x872),endDrag),_0x30f7c2[_0x143d51(0x6ba)](_0x143d51(0x2ea),handleSvgEditClick),_0x30f7c2[_0x143d51(0x4a1)](_0x143d51(0xa07))[_0x143d51(0x519)](_0x50e384=>_0x50e384[_0x143d51(0x9d0)]()),_0x30f7c2[_0x143d51(0x4a1)](_0x143d51(0xb5d))[_0x143d51(0x519)](_0x12dd86=>{const _0x3510b9=_0x143d51;_0x12dd86[_0x3510b9(0x542)][_0x3510b9(0x9d0)](_0x3510b9(0x950)),_0x12dd86['style'][_0x3510b9(0x2a3)]=_0x3510b9(0x889);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3dd48d){const _0x4eebde=_0x358d67,_0x338f9f=document['getElementById'](_0x4eebde(0x892)),_0x5932a5=document[_0x4eebde(0x3a8)](_0x4eebde(0xb7c));_0x5932a5['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x338f9f[_0x4eebde(0x542)]['remove'](_0x4eebde(0x49a));try{const _0xb7f751=doc(db,_0x4eebde(0x714)+appId+_0x4eebde(0x4b7),_0x3dd48d),_0x457902=await getDoc(_0xb7f751);if(!_0x457902[_0x4eebde(0x40f)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x3dd48d,..._0x457902['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x826c62){console[_0x4eebde(0x77b)](_0x4eebde(0xb5e),_0x826c62),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x338f9f[_0x4eebde(0x542)]['add']('hidden');}}function renderQuizEditor(_0x167d64){const _0x31a3ae=_0x358d67;document['getElementById']('editor-quiz-topic')[_0x31a3ae(0xac6)]=_0x167d64['topic'];const _0x1d0da0=document[_0x31a3ae(0x3a8)](_0x31a3ae(0xb7c));let _0x16164b=_0x167d64[_0x31a3ae(0xb4f)][_0x31a3ae(0x8ca)]((_0x10007e,_0x1c28ba)=>{const _0x1276e7=_0x31a3ae;let _0x27787c='';const _0x1083bb=_0x10007e['questionType']||_0x167d64['quizType'];switch(_0x1083bb){case _0x1276e7(0x302):const _0x39a369=(_0x10007e[_0x1276e7(0x994)]||[])[_0x1276e7(0x8ca)]((_0x59df10,_0x4804dd)=>_0x1276e7(0x249)+_0x1c28ba+'\x22\x20value=\x22'+_0x4804dd+'\x22\x20'+(_0x4804dd===_0x10007e[_0x1276e7(0x468)]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x59df10+_0x1276e7(0x7ac))[_0x1276e7(0x61f)]('');_0x27787c=_0x1276e7(0x531)+_0x39a369+_0x1276e7(0xa38);break;case _0x1276e7(0xad5):_0x27787c=_0x1276e7(0xb7a)+(_0x10007e[_0x1276e7(0xbd9)]||'')+_0x1276e7(0x58d);break;case _0x1276e7(0x5b9):_0x27787c=_0x1276e7(0x3b5)+_0x1c28ba+_0x1276e7(0x742)+(_0x10007e[_0x1276e7(0x5a0)]===!![]?_0x1276e7(0x69c):'')+_0x1276e7(0x587)+_0x1c28ba+_0x1276e7(0x5d6)+(_0x10007e[_0x1276e7(0x5a0)]===![]?_0x1276e7(0x69c):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x27787c=_0x1276e7(0x25c)+(_0x10007e['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x441e6c=_0x10007e[_0x1276e7(0xa23)]||_0x10007e[_0x1276e7(0x966)]||'';return _0x1276e7(0x2db)+_0x1c28ba+_0x1276e7(0x3e6)+_0x1083bb+_0x1276e7(0x5bc)+(_0x1c28ba+0x1)+'\x20('+_0x1083bb+_0x1276e7(0x9c6)+_0x441e6c+_0x1276e7(0x32d)+_0x27787c+'</div>\x0a</div>\x0a';})[_0x31a3ae(0x61f)]('');_0x1d0da0[_0x31a3ae(0x888)]=_0x16164b,_0x1d0da0[_0x31a3ae(0x4a1)](_0x31a3ae(0x1de))['forEach'](_0x2c6a39=>{const _0x5d61e1=_0x31a3ae;_0x2c6a39[_0x5d61e1(0x4f9)]('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x51e6a5){const _0x6bf102=_0x358d67,_0x177f76=_0x51e6a5[_0x6bf102(0x29f)],_0xd91c64=_0x177f76[_0x6bf102(0x2f4)](_0x6bf102(0x482));if(!_0xd91c64)return;const _0x124f77=parseInt(_0xd91c64[_0x6bf102(0x483)][_0x6bf102(0x4d7)],0xa);if(isNaN(_0x124f77)||!currentEditingQuizData[_0x6bf102(0xb4f)][_0x124f77]){showMessage(_0x6bf102(0x792));return;}const _0x105d45=currentEditingQuizData[_0x6bf102(0xb4f)][_0x124f77];_0x177f76['innerHTML']=_0x6bf102(0x599),_0x177f76[_0x6bf102(0x709)]=!![];const _0x23ad48=_0x6bf102(0x97f)+JSON[_0x6bf102(0xa50)](_0x105d45)+_0x6bf102(0x6c5);let _0x3a523c;const _0x419b2a=_0x105d45['questionType']||currentEditingQuizData['quizType'];switch(_0x419b2a){case _0x6bf102(0xad5):_0x3a523c={'type':_0x6bf102(0x182),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x6bf102(0x534)},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer',_0x6bf102(0x960)]};break;case _0x6bf102(0x302):default:_0x3a523c={'type':_0x6bf102(0x182),'properties':{'questionText':{'type':_0x6bf102(0x534)},'options':{'type':_0x6bf102(0x632),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x6bf102(0x8ac)},'explanation':{'type':_0x6bf102(0x534)},'imageCode':{'type':_0x6bf102(0x534)}},'required':[_0x6bf102(0xa23),_0x6bf102(0x994),_0x6bf102(0x468),'explanation']};break;}try{let _0x200e25=await callAnalysisApi(_0x23ad48,_0x3a523c);_0x200e25[_0x6bf102(0x994)]&&Array[_0x6bf102(0xaff)](_0x200e25[_0x6bf102(0x994)])&&(_0x200e25[_0x6bf102(0x994)]=_0x200e25[_0x6bf102(0x994)][_0x6bf102(0x8ca)](_0x436619=>typeof _0x436619===_0x6bf102(0x189)?_0x436619[_0x6bf102(0x4a7)](/S(\s*[\d_]+?\s*)S/g,_0x6bf102(0x74a)):_0x436619)),_0x105d45[_0x6bf102(0x311)]&&_0x105d45[_0x6bf102(0x311)][_0x6bf102(0xbba)](_0x6bf102(0x492))&&(_0x200e25[_0x6bf102(0x311)]=''),currentEditingQuizData[_0x6bf102(0xb4f)][_0x124f77]={..._0x105d45,..._0x200e25},renderQuizEditor(currentEditingQuizData),showMessage(_0x6bf102(0x3e3));}catch(_0x216da3){console[_0x6bf102(0x77b)](_0x6bf102(0xbb2),_0x216da3),showMessage(_0x6bf102(0x721)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x2148a1=_0x358d67,_0x7b3089=document[_0x2148a1(0x3a8)](_0x2148a1(0x1e6));_0x7b3089[_0x2148a1(0x709)]=!![],_0x7b3089['innerHTML']=_0x2148a1(0x5e0);try{const _0x130fc5=document[_0x2148a1(0x3a8)]('editor-quiz-topic')[_0x2148a1(0xac6)],_0x1e7d4f=document[_0x2148a1(0x4a1)](_0x2148a1(0x482));let _0x41ec7c=[];const _0x150ffc=Array[_0x2148a1(0x367)](_0x1e7d4f)[_0x2148a1(0x8ca)]((_0x4a4b32,_0x4af863)=>{const _0x48b16f=_0x2148a1,_0x3fc171=_0x4a4b32['dataset'][_0x48b16f(0x5a4)],_0x189669=_0x4a4b32[_0x48b16f(0x3a0)](_0x48b16f(0x7ed))[_0x48b16f(0xac6)]['replace'](/\n/g,_0x48b16f(0x808));let _0x1cb546={'questionType':_0x3fc171};const _0xe8fd9d=currentEditingQuizData[_0x48b16f(0xb4f)][_0x4af863];switch(_0x3fc171){case _0x48b16f(0x302):_0x1cb546['questionText']=_0x189669;const _0x3167d8=_0x4a4b32[_0x48b16f(0x4a1)](_0x48b16f(0x497));_0x1cb546[_0x48b16f(0x994)]=Array[_0x48b16f(0x367)](_0x3167d8)['map'](_0x1cce9a=>_0x1cce9a[_0x48b16f(0xac6)]);const _0x4c7c39=_0x4a4b32[_0x48b16f(0x3a0)](_0x48b16f(0xb85));_0x1cb546[_0x48b16f(0x468)]=_0x4c7c39?parseInt(_0x4c7c39['value']):0x0;break;case _0x48b16f(0xad5):_0x1cb546[_0x48b16f(0xa23)]=_0x189669,_0x1cb546[_0x48b16f(0xbd9)]=_0x4a4b32['querySelector'](_0x48b16f(0xaae))[_0x48b16f(0xac6)];break;case'true_false':_0x1cb546[_0x48b16f(0xa23)]=_0x189669;const _0x158913=_0x4a4b32[_0x48b16f(0x3a0)]('input[type=\x22radio\x22]:checked');_0x1cb546[_0x48b16f(0x5a0)]=_0x158913?_0x158913['value']==='true':!![];break;case _0x48b16f(0x4b9):_0x1cb546[_0x48b16f(0x966)]=_0x189669;const _0x3c4b5e=_0x4a4b32['querySelector'](_0x48b16f(0x887));_0x1cb546[_0x48b16f(0x44f)]=_0x3c4b5e?_0x3c4b5e[_0x48b16f(0xac6)]:'',_0x41ec7c['push'](_0x1cb546[_0x48b16f(0x44f)]);break;default:_0x1cb546[_0x48b16f(0xa23)]=_0x189669;break;}return{..._0xe8fd9d,..._0x1cb546};});_0x41ec7c[_0x2148a1(0x6b0)]>0x0&&_0x150ffc['forEach'](_0x4295d4=>{const _0x5db6e8=_0x2148a1;_0x4295d4['questionType']===_0x5db6e8(0x4b9)&&(_0x4295d4[_0x5db6e8(0x37b)]=_0x41ec7c);});const _0x482796=currentEditingQuizData['id'],_0xaceb8e=doc(db,'artifacts/'+appId+_0x2148a1(0x4b7),_0x482796);await updateDoc(_0xaceb8e,{'topic':_0x130fc5,'questions':_0x150ffc}),document['getElementById'](_0x2148a1(0x892))['classList'][_0x2148a1(0x33b)](_0x2148a1(0x49a)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x482796));}catch(_0x4b4abe){console[_0x2148a1(0x77b)](_0x2148a1(0x8db),_0x4b4abe),showMessage(_0x2148a1(0x5d0));}finally{_0x7b3089[_0x2148a1(0x709)]=![],_0x7b3089[_0x2148a1(0x888)]=_0x2148a1(0x414);}}async function initiateReGradeProcess(_0x41fd16){const _0x50012c=_0x358d67;showMessage(_0x50012c(0x7e3));try{const _0x18c1d5=doc(db,'artifacts/'+appId+_0x50012c(0x4b7),_0x41fd16),_0x214484=await getDoc(_0x18c1d5);if(!_0x214484[_0x50012c(0x40f)]())throw new Error(_0x50012c(0x804));const _0x34b2df={'id':_0x41fd16,..._0x214484[_0x50012c(0x49d)]()},_0x51f4ab=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x41fd16,_0x50012c(0x33f)),_0x1b496e=await getDocs(_0x51f4ab);if(_0x1b496e[_0x50012c(0x4ba)]){showMessage(_0x50012c(0x4d1));return;}const _0x3db6fc=_0x1b496e[_0x50012c(0x901)][_0x50012c(0x8ca)](_0x3e508b=>reGradeSingleSubmission(_0x3e508b,_0x34b2df));await Promise[_0x50012c(0xb03)](_0x3db6fc);if(_0x34b2df[_0x50012c(0x8cb)]){const _0x3f71a8=doc(db,'artifacts/'+appId+_0x50012c(0x508),_0x34b2df[_0x50012c(0x8cb)]),_0x17318d=await getDoc(_0x3f71a8);if(_0x17318d[_0x50012c(0x40f)]()&&_0x17318d[_0x50012c(0x49d)]()[_0x50012c(0xaf3)]){const _0x56faed=_0x17318d[_0x50012c(0x49d)]()[_0x50012c(0xaf3)][_0x50012c(0x8ca)](_0x35f611=>updateStudentProfile(_0x34b2df[_0x50012c(0x8cb)],_0x35f611));await Promise['all'](_0x56faed);}}showMessage(_0x50012c(0x2de)+_0x1b496e[_0x50012c(0x5bd)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x41ad51){console['error']('Re-grade\x20process\x20failed:',_0x41ad51),showMessage(_0x50012c(0x777)+_0x41ad51['message']);}}async function reGradeSingleSubmission(_0x32cab7,_0x34024b){const _0x3f53bc=_0x358d67,_0x403bd4=_0x32cab7['data'](),_0x9f1794=_0x403bd4[_0x3f53bc(0xa0b)],_0x5a6780=_0x403bd4['attempts']||[],_0x500b4c=[];for(const _0x58e273 of _0x5a6780){let _0x4ab601=0x0,_0x16c816=[],_0x1f1ed8=0x0;const _0x571852=[];for(const _0x4fac63 of _0x58e273[_0x3f53bc(0x43e)]){let _0x5cea99;_0x4fac63['questionId']&&(_0x5cea99=_0x34024b[_0x3f53bc(0xb4f)][_0x3f53bc(0x301)](_0x19b3c5=>_0x19b3c5['id']===_0x4fac63[_0x3f53bc(0x548)]));!_0x5cea99&&_0x4fac63[_0x3f53bc(0xac4)]&&(_0x5cea99=_0x34024b[_0x3f53bc(0xb4f)]['find'](_0x4a3fff=>(_0x4a3fff[_0x3f53bc(0x966)]||_0x4a3fff['questionText'])===_0x4fac63[_0x3f53bc(0xac4)]));let _0x4cf4e7=![];if(_0x5cea99){const _0x426811=_0x5cea99[_0x3f53bc(0x2d0)]||_0x34024b[_0x3f53bc(0x593)];switch(_0x426811){case _0x3f53bc(0x302):if(_0x5cea99[_0x3f53bc(0x994)]&&_0x5cea99['correctAnswerIndex']<_0x5cea99['options'][_0x3f53bc(0x6b0)]){const _0x347aec=_0x5cea99['options'][_0x5cea99['correctAnswerIndex']];_0x4cf4e7=_0x4fac63[_0x3f53bc(0x9f3)]===_0x347aec;}break;case _0x3f53bc(0x5b9):const _0x2382ce=_0x4fac63[_0x3f53bc(0x50f)]===!![]||_0x4fac63[_0x3f53bc(0x50f)]==='true';_0x4cf4e7=_0x2382ce===_0x5cea99[_0x3f53bc(0x5a0)];break;case'matching_item':_0x4cf4e7=_0x4fac63[_0x3f53bc(0x50f)]===_0x5cea99[_0x3f53bc(0x44f)];break;case'short_answer':_0x4cf4e7=await gradeShortAnswer(_0x4fac63[_0x3f53bc(0x50f)],_0x5cea99);break;default:_0x4cf4e7=_0x4fac63[_0x3f53bc(0x6c9)];break;}}if(_0x4cf4e7){_0x4ab601++,_0x1f1ed8++;if(_0x1f1ed8===0x3)_0x16c816[_0x3f53bc(0x78d)](BADGES[_0x3f53bc(0xa83)]['id']);}else _0x1f1ed8=0x0;_0x571852[_0x3f53bc(0x78d)]({..._0x4fac63,'isCorrect':_0x4cf4e7});}let _0x209556=_0x4ab601*0xa;_0x4ab601===_0x34024b[_0x3f53bc(0xb4f)][_0x3f53bc(0x6b0)]&&(_0x209556+=0x32,_0x16c816[_0x3f53bc(0x78d)](BADGES['PERFECT_SCORE']['id'])),_0x500b4c['push']({..._0x58e273,'score':_0x4ab601,'points':_0x209556,'badges':Array[_0x3f53bc(0x367)](new Set(_0x16c816)),'answers':_0x571852});}const _0x56cc97=_0x500b4c[_0x3f53bc(0x6b0)]>0x0?_0x500b4c[0x0][_0x3f53bc(0xb0c)]:0x0,_0x24c925=Math[_0x3f53bc(0x21a)](..._0x500b4c[_0x3f53bc(0x8ca)](_0x252056=>_0x252056['score'])),_0x1f0ab8=_0x500b4c[_0x3f53bc(0x6b0)]>0x0?_0x500b4c[_0x500b4c[_0x3f53bc(0x6b0)]-0x1][_0x3f53bc(0xb0c)]:0x0,_0x2b7390=_0x500b4c[_0x3f53bc(0x6b0)]>0x0?_0x500b4c[_0x500b4c[_0x3f53bc(0x6b0)]-0x1]['points']:0x0,_0x4fa77c=doc(db,_0x3f53bc(0x714)+appId+_0x3f53bc(0x667)+_0x34024b['id']+'/submissions',_0x9f1794);await updateDoc(_0x4fa77c,{'attempts':_0x500b4c,'firstScore':_0x56cc97,'bestScore':_0x24c925,'latestScore':_0x1f0ab8,'points':_0x2b7390});}function cleanupQuizOptions(_0x32e750){const _0xe02c5a=_0x358d67,_0x2e69b9=(_0x587a8a,_0x3e8586)=>_0x3e8586===0x0?_0x587a8a:_0x2e69b9(_0x3e8586,_0x587a8a%_0x3e8586),_0x38a959=_0x6c7333=>{const _0x39e724=_0x4026;if(typeof _0x6c7333!==_0x39e724(0x189))return null;_0x6c7333=_0x6c7333[_0x39e724(0x7a5)]();const _0x1227cd=_0x6c7333[_0x39e724(0x9ee)](/[ /]/)[_0x39e724(0x47c)](_0x45c1f6=>_0x45c1f6!=='');if(_0x1227cd[_0x39e724(0x6b0)]===0x3)return parseInt(_0x1227cd[0x0])+parseInt(_0x1227cd[0x1])/parseInt(_0x1227cd[0x2]);else{if(_0x1227cd[_0x39e724(0x6b0)]===0x2)return parseInt(_0x1227cd[0x0])/parseInt(_0x1227cd[0x1]);else{if(_0x1227cd['length']===0x1&&!isNaN(_0x1227cd[0x0]))return parseFloat(_0x1227cd[0x0]);}}return null;},_0x426711=_0x3f8435=>{const _0x1f1bc3=_0x4026;if(typeof _0x3f8435!=='string')return _0x3f8435;const _0x3bd303=_0x3f8435[_0x1f1bc3(0x42a)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3bd303){const _0x40876b=parseInt(_0x3bd303[0x1]);let _0x5e0971=parseInt(_0x3bd303[0x2]),_0x3814f1=parseInt(_0x3bd303[0x3]);const _0x80948=_0x2e69b9(_0x5e0971,_0x3814f1);_0x5e0971/=_0x80948,_0x3814f1/=_0x80948;if(_0x3814f1===0x1)return(_0x40876b+_0x5e0971)[_0x1f1bc3(0x7a2)]();return _0x40876b+'\x20'+_0x5e0971+'/'+_0x3814f1;}return _0x3f8435;};return _0x32e750&&_0x32e750['questions']&&_0x32e750[_0xe02c5a(0xb4f)][_0xe02c5a(0x519)](_0x4d9c60=>{const _0x2e5a70=_0xe02c5a;if(_0x4d9c60['questionType']===_0x2e5a70(0x302)&&_0x4d9c60[_0x2e5a70(0x994)]){const _0x2939c7=new Map(),_0x4dc06a=_0x4d9c60['options'][_0x4d9c60[_0x2e5a70(0x468)]];_0x4d9c60[_0x2e5a70(0x994)]['forEach'](_0x4ba100=>{const _0x2a640b=_0x2e5a70,_0x251633=_0x426711(_0x4ba100),_0x415c9e=_0x38a959(_0x251633);_0x415c9e!==null&&!_0x2939c7[_0x2a640b(0xb3a)](_0x415c9e)&&_0x2939c7[_0x2a640b(0x2a1)](_0x415c9e,_0x251633);}),_0x4d9c60[_0x2e5a70(0x994)]=Array[_0x2e5a70(0x367)](_0x2939c7[_0x2e5a70(0x41e)]());const _0x19e43a=_0x4d9c60[_0x2e5a70(0x994)][_0x2e5a70(0x433)](_0x8bc823=>_0x8bc823===_0x426711(_0x4dc06a));_0x4d9c60[_0x2e5a70(0x468)]=_0x19e43a!==-0x1?_0x19e43a:0x0;}}),_0x32e750;}function showGameStartConfirmationModal(_0x186526,_0xe4d4d7,_0x42a992){const _0x15987e=_0x358d67,_0x428158=document['getElementById'](_0x15987e(0x700));document[_0x15987e(0x3a8)](_0x15987e(0x732))['textContent']='เริ่มกิจกรรม:\x20'+_0x42a992,document[_0x15987e(0x3a8)](_0x15987e(0x8a2))[_0x15987e(0xac6)]=_0x186526,document['getElementById']('game-start-mode')['value']=_0xe4d4d7,document[_0x15987e(0x3a8)](_0x15987e(0xb53))[_0x15987e(0x69c)]=!![],_0x428158[_0x15987e(0x542)]['remove'](_0x15987e(0x49a));}async function saveGameResultsAsSubmissions(_0x470442){const _0x555a4d=_0x358d67;console[_0x555a4d(0x498)]('Attempting\x20to\x20save\x20game\x20results...',_0x470442);const _0x14757e=_0x470442[_0x555a4d(0xb39)];let _0x400a0f=[];if(_0x470442['players'])_0x400a0f=Object['entries'](_0x470442['players'])[_0x555a4d(0x8ca)](([_0x13b13e,_0x21c661])=>({'name':_0x13b13e,..._0x21c661}));else{if(_0x470442[_0x555a4d(0x624)])Object['values'](_0x470442['groups'])[_0x555a4d(0x519)](_0x6274dd=>{const _0x228459=_0x555a4d;_0x6274dd[_0x228459(0x724)]['forEach'](_0x367b80=>{const _0x187a06=_0x228459;_0x400a0f[_0x187a06(0x78d)]({'name':_0x367b80,'score':_0x6274dd['score']});});});else _0x470442[_0x555a4d(0x81a)]&&Object[_0x555a4d(0xb84)](_0x470442[_0x555a4d(0x81a)])[_0x555a4d(0x519)](([_0x2c6510,_0x2178e1])=>{_0x400a0f['push']({'name':_0x2c6510,..._0x2178e1});});}if(_0x400a0f[_0x555a4d(0x6b0)]===0x0){console[_0x555a4d(0x498)](_0x555a4d(0xbfe));return;}const _0xf01cbf=_0x470442[_0x555a4d(0x938)]?.[_0x555a4d(0xb4f)]['length']||currentQuizData[_0x555a4d(0xb4f)][_0x555a4d(0x6b0)],_0x19856a=writeBatch(db);for(const _0x40abc3 of _0x400a0f){const _0x719bd8=_0x40abc3['score']||0x0,_0x14cab2=doc(db,_0x555a4d(0x714)+appId+_0x555a4d(0x667)+_0x14757e+'/submissions',_0x40abc3['name']),_0x2bd6d8=(_0x40abc3['answers']||[])[_0x555a4d(0x47c)](_0x3ab797=>_0x3ab797['isCorrect'])['length'],_0x48dec6={'score':_0x2bd6d8,'points':_0x719bd8,'badges':_0x40abc3['badges']||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x40abc3[_0x555a4d(0x43e)]||[])[_0x555a4d(0x8ca)](_0x1a5427=>({'questionId':_0x1a5427[_0x555a4d(0x548)],'answer':_0x1a5427[_0x555a4d(0x50f)],'answerText':_0x1a5427[_0x555a4d(0x9f3)],'isCorrect':_0x1a5427[_0x555a4d(0x6c9)],'originalQuestionText':_0x1a5427[_0x555a4d(0xac4)],'wasConfident':_0x1a5427[_0x555a4d(0xb7e)]}))},_0x30cfaa=await getDoc(_0x14cab2),_0x42d360=_0x30cfaa['exists']()?_0x30cfaa['data']():{},_0x350b37=_0x42d360[_0x555a4d(0x5ed)]||0x0,_0x5ab355=_0x42d360[_0x555a4d(0x310)]||[],_0x41308e={'studentName':_0x40abc3[_0x555a4d(0xbc7)],'totalQuestions':_0xf01cbf,'attempts':arrayUnion(_0x48dec6),'latestScore':_0x2bd6d8,'points':_0x719bd8,'latestSubmittedAt':_0x48dec6[_0x555a4d(0x470)],'bestScore':Math[_0x555a4d(0x21a)](_0x350b37,_0x2bd6d8),'firstScore':_0x5ab355[_0x555a4d(0x6b0)]===0x0?_0x2bd6d8:_0x42d360[_0x555a4d(0x2b9)]||0x0};_0x19856a[_0x555a4d(0x2a1)](_0x14cab2,_0x41308e,{'merge':!![]});}try{await _0x19856a[_0x555a4d(0x2be)](),showMessage(_0x555a4d(0xa59)+_0x400a0f['length']+_0x555a4d(0xab7));const _0x13a804=_0x470442[_0x555a4d(0x938)]?.[_0x555a4d(0x8cb)]||currentQuizData?.['projectId']||currentProjectId;if(_0x13a804){const _0x2aaded=[...new Set(_0x400a0f[_0x555a4d(0x8ca)](_0x404058=>_0x404058[_0x555a4d(0xbc7)]))];for(const _0x500dd5 of _0x2aaded){await updateStudentProfile(_0x13a804,_0x500dd5);}}}catch(_0x560370){console[_0x555a4d(0x77b)]('Error\x20saving\x20game\x20results:',_0x560370),showMessage(_0x555a4d(0x8dc));}}async function saveQuiz(_0x59c6f7=null,_0x782a09=null){const _0x4093ae=_0x358d67,_0x183a81=_0x59c6f7||currentProjectId;if(!_0x183a81){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x4093ae(0xa46));return;}const _0x182ecb=document['getElementById'](_0x4093ae(0xbee));_0x182ecb['disabled']=!![],_0x182ecb[_0x4093ae(0x888)]=_0x4093ae(0x5e0);const _0x286734=document[_0x4093ae(0x3a8)](_0x4093ae(0x33c))[_0x4093ae(0x69c)];let _0x22c434=document['getElementById'](_0x4093ae(0xb72))[_0x4093ae(0xb96)][_0x4093ae(0x7a5)]();_0x286734&&!_0x22c434[_0x4093ae(0x506)]('(ก่อนเรียน)')&&(_0x22c434=_0x4093ae(0xa17)+_0x22c434);try{const _0xa250fe={'resultsDisplay':document[_0x4093ae(0x3a8)](_0x4093ae(0x291))['value'],'shuffle':document['getElementById'](_0x4093ae(0x765))[_0x4093ae(0xac6)],'timerMode':document[_0x4093ae(0x3a8)](_0x4093ae(0x89b))[_0x4093ae(0xac6)],'timerDuration':parseInt(document[_0x4093ae(0x3a8)](_0x4093ae(0xba1))[_0x4093ae(0xac6)])||0xa,'passingScore':parseInt(document['getElementById'](_0x4093ae(0x313))[_0x4093ae(0xac6)])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')[_0x4093ae(0x69c)],'loopUntilPass':document[_0x4093ae(0x3a8)](_0x4093ae(0x327))['checked']},_0x166724=(currentQuizData['questions']||[])['map']((_0x97344f,_0x34315d)=>{const _0xe1c95f=_0x4093ae,_0x4b1d7a=document[_0xe1c95f(0x3a8)](_0xe1c95f(0x6d9))['value'],_0x2ca610={'id':'q_'+Date[_0xe1c95f(0x2ab)]()+'_'+_0x34315d,'questionText':_0x97344f[_0xe1c95f(0xa23)]||'','explanation':_0x97344f[_0xe1c95f(0x960)]||_0xe1c95f(0x26a),'questionType':_0x97344f[_0xe1c95f(0x2d0)]||_0x4b1d7a,'imageCode':_0x97344f['imageCode']||null};return(_0x2ca610[_0xe1c95f(0x2d0)]===_0xe1c95f(0x302)||_0x2ca610[_0xe1c95f(0x2d0)]===_0xe1c95f(0x6d1)||_0x2ca610[_0xe1c95f(0x2d0)]===_0xe1c95f(0x1ec)&&_0x97344f[_0xe1c95f(0x994)])&&(_0x2ca610['options']=_0x97344f[_0xe1c95f(0x994)]||[],_0x2ca610['correctAnswerIndex']=_0x97344f[_0xe1c95f(0x468)]!==undefined?_0x97344f[_0xe1c95f(0x468)]:0x0),(_0x2ca610['questionType']==='short_answer'||_0x2ca610[_0xe1c95f(0x2d0)]===_0xe1c95f(0x845)||_0x2ca610[_0xe1c95f(0x2d0)]==='mixed'&&_0x97344f['idealAnswer'])&&(_0x2ca610[_0xe1c95f(0xbd9)]=_0x97344f[_0xe1c95f(0xbd9)]||''),_0x2ca610[_0xe1c95f(0x2d0)]===_0xe1c95f(0x5b9)&&(_0x2ca610[_0xe1c95f(0x5a0)]=_0x97344f[_0xe1c95f(0x5a0)]===!![]),_0x2ca610[_0xe1c95f(0x2d0)]===_0xe1c95f(0x4b9)&&(_0x2ca610[_0xe1c95f(0x966)]=_0x97344f[_0xe1c95f(0x966)]||'',_0x2ca610['correctResponse']=_0x97344f[_0xe1c95f(0x44f)]||'',_0x2ca610['allResponses']=_0x97344f[_0xe1c95f(0x37b)]||[]),_0x2ca610;}),_0x587b01={'topic':_0x22c434,'quizType':currentQuizData[_0x4093ae(0x593)]||'multiple_choice','questions':_0x166724,'projectId':_0x183a81,'createdBy':userId,'createdAt':new Date()[_0x4093ae(0x473)](),'status':_0x4093ae(0x34a),'settings':_0xa250fe,'quizMode':_0x286734?_0x4093ae(0x3bd):_0x4093ae(0xa86),'pairedQuizId':null,'lessonPlan':null};let _0x5dc132;while(!![]){_0x5dc132=Math['floor'](0x3e8+Math[_0x4093ae(0x190)]()*0x2328)[_0x4093ae(0x7a2)]();const _0x4909a5=await getDoc(doc(db,'artifacts/'+appId+_0x4093ae(0x4b7),_0x5dc132));if(!_0x4909a5[_0x4093ae(0x40f)]())break;}await setDoc(doc(db,_0x4093ae(0x714)+appId+'/public/data/quizzes',_0x5dc132),_0x587b01);if(_0x782a09&&currentBlueprintProjectId){console[_0x4093ae(0x498)](_0x4093ae(0x8c2)+_0x5dc132+_0x4093ae(0x34b)+_0x782a09);try{const _0x52c6f2=doc(db,_0x4093ae(0x714)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x52c6f2,{[_0x4093ae(0x80b)+_0x782a09+_0x4093ae(0x890)]:arrayUnion(_0x5dc132)});}catch(_0xb2adf9){console['error'](_0x4093ae(0x919),_0xb2adf9);}}currentQuizData[_0x4093ae(0x45b)]=_0xa250fe,currentQuizData['id']=_0x5dc132;const _0x1434f8=document[_0x4093ae(0x3a8)]('generated-quiz-actions');_0x1434f8[_0x4093ae(0x888)]=_0x4093ae(0xae3)+_0x5dc132+_0x4093ae(0x86a),document[_0x4093ae(0x3a8)](_0x4093ae(0xa68))[_0x4093ae(0x4f9)](_0x4093ae(0x2ea),()=>copyTextToClipboard(_0x5dc132,_0x4093ae(0x7b1))),document[_0x4093ae(0x3a8)](_0x4093ae(0x317))['addEventListener'](_0x4093ae(0x2ea),()=>handleStartLiveRace(_0x5dc132)),document['getElementById'](_0x4093ae(0xb1b))[_0x4093ae(0x4f9)](_0x4093ae(0x2ea),()=>startPresentation(currentQuizData)),document[_0x4093ae(0x3a8)]('admin-try-quiz-btn')[_0x4093ae(0x4f9)](_0x4093ae(0x2ea),startAdminTest),showMessage(_0x4093ae(0x2a4));}catch(_0x364778){console[_0x4093ae(0x77b)]('Error\x20saving\x20quiz:',_0x364778),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x182ecb['disabled']=![],_0x182ecb[_0x4093ae(0x888)]=_0x4093ae(0x423);}}function promptForProjectAndSave(){const _0x85268e=_0x358d67,_0x1ff8d0=document[_0x85268e(0x3a8)](_0x85268e(0x238)),_0x37360c=document[_0x85268e(0x3a8)]('move-quiz-project-select'),_0x469429=_0x1ff8d0[_0x85268e(0x3a0)]('h3'),_0xc0fbe8=document[_0x85268e(0x3a8)]('confirm-move-quiz-btn');_0x469429['textContent']='เลือกโปรเจคเพื่อบันทึก',_0xc0fbe8[_0x85268e(0x20d)]=_0x85268e(0xa43);allProjects[_0x85268e(0x6b0)]===0x0?(_0x37360c[_0x85268e(0x888)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0xc0fbe8[_0x85268e(0x709)]=!![]):(_0x37360c[_0x85268e(0x888)]=allProjects[_0x85268e(0x8ca)](_0xbfa30e=>_0x85268e(0xaf5)+_0xbfa30e['id']+'\x22>'+_0xbfa30e[_0x85268e(0x426)]+_0x85268e(0x1f9))[_0x85268e(0x61f)](''),_0xc0fbe8[_0x85268e(0x709)]=![]);_0x1ff8d0[_0x85268e(0x542)][_0x85268e(0x9d0)](_0x85268e(0x49a));const _0x483043=()=>{const _0x46a278=_0x85268e,_0x24e8cf=_0x37360c[_0x46a278(0xac6)];_0x24e8cf?(currentProjectId=_0x24e8cf,_0x1ff8d0[_0x46a278(0x542)][_0x46a278(0x33b)](_0x46a278(0x49a)),saveQuiz(),_0x469429[_0x46a278(0x20d)]=_0x46a278(0x406),_0xc0fbe8['textContent']=_0x46a278(0x4f3),_0xc0fbe8['removeEventListener'](_0x46a278(0x2ea),_0x483043),_0xc0fbe8['addEventListener'](_0x46a278(0x2ea),confirmMoveQuiz)):showMessage(_0x46a278(0x352));};_0xc0fbe8[_0x85268e(0x6ba)](_0x85268e(0x2ea),confirmMoveQuiz),_0xc0fbe8['addEventListener']('click',_0x483043);}function copyTextToClipboard(_0x5bf82f,_0x300378){const _0x40e1d6=_0x358d67,_0x1800a2=document['createElement'](_0x40e1d6(0x7ed));_0x1800a2[_0x40e1d6(0xac6)]=_0x5bf82f,_0x1800a2[_0x40e1d6(0x43c)][_0x40e1d6(0x7f5)]='fixed',_0x1800a2[_0x40e1d6(0x43c)][_0x40e1d6(0xabf)]='0',document['body']['appendChild'](_0x1800a2),_0x1800a2[_0x40e1d6(0x372)](),_0x1800a2[_0x40e1d6(0x5e1)]();try{const _0x5422d9=document[_0x40e1d6(0x87a)](_0x40e1d6(0x8dd));showMessage(_0x5422d9?_0x300378:_0x40e1d6(0x95d));}catch(_0x5155a2){showMessage(_0x40e1d6(0x95d)),console[_0x40e1d6(0x77b)]('Copy\x20command\x20failed',_0x5155a2);}document['body'][_0x40e1d6(0xace)](_0x1800a2);}function listenForProjectQuizzes(_0x184a59){const _0x1fb5a2=_0x358d67,_0x230e06=collection(db,_0x1fb5a2(0x714)+appId+_0x1fb5a2(0x4b7)),_0x424b79=query(_0x230e06,where(_0x1fb5a2(0x8cb),'==',_0x184a59));unsubscribeQuizzesListener=onSnapshot(_0x424b79,async _0x10130d=>{const _0x4760de=_0x1fb5a2;allQuizzes=_0x10130d[_0x4760de(0x901)][_0x4760de(0x8ca)](_0x33b355=>({'id':_0x33b355['id'],..._0x33b355['data']()})),renderQuizzes();},_0x1d1a8c=>{const _0x17c768=_0x1fb5a2;console[_0x17c768(0x77b)](_0x17c768(0xa5e),_0x1d1a8c),document[_0x17c768(0x3a8)](_0x17c768(0x2d2))[_0x17c768(0x888)]=_0x17c768(0x526);});}async function renderQuizzes(){const _0x4ddd18=_0x358d67,_0x4bcb6b=document['getElementById'](_0x4ddd18(0x2d2)),_0x16b782=document['getElementById']('quiz-search-input')[_0x4ddd18(0xac6)]['toLowerCase']();let _0x45ba36;currentProjectId===_0x4ddd18(0x50c)?_0x45ba36=starredQuizzes:_0x45ba36=allQuizzes;let _0x1ca7ce=_0x45ba36[_0x4ddd18(0x47c)](_0x51ea7f=>_0x51ea7f['topic'][_0x4ddd18(0x344)]()[_0x4ddd18(0xbba)](_0x16b782));_0x1ca7ce[_0x4ddd18(0x843)]((_0x5394f8,_0x6112b3)=>new Date(_0x6112b3[_0x4ddd18(0xab0)])-new Date(_0x5394f8[_0x4ddd18(0xab0)]));if(_0x1ca7ce[_0x4ddd18(0x6b0)]===0x0){_0x4bcb6b[_0x4ddd18(0x888)]=_0x4ddd18(0x39d);return;}const _0x4549ba={},_0x3231b7=_0x1ca7ce['map'](async _0x4986ff=>{const _0x2e0aa3=_0x4ddd18,_0x318925=collection(db,_0x2e0aa3(0x714)+appId+_0x2e0aa3(0x667)+_0x4986ff['id']+_0x2e0aa3(0x2c6)),_0x29c3ed=await getDocs(_0x318925);_0x4549ba[_0x4986ff['id']]=_0x29c3ed['size'];});await Promise[_0x4ddd18(0xb03)](_0x3231b7);let _0x2148a9='';_0x1ca7ce[_0x4ddd18(0x519)](_0x48aba9=>{const _0x7329dc=_0x4ddd18,_0x526ea8=_0x4549ba[_0x48aba9['id']]||0x0,_0x2a10f3=_0x48aba9['status']||_0x7329dc(0x34a),_0x5ec5bc=_0x48aba9[_0x7329dc(0x45b)]?.[_0x7329dc(0xba9)]||_0x7329dc(0x60e);let _0x4c105e='',_0x451379='';const _0x160664=new Date();let _0x1f6bd1=_0x2a10f3;if(_0x2a10f3===_0x7329dc(0x659)){const _0x3dc71b=_0x48aba9[_0x7329dc(0x93c)]?new Date(_0x48aba9[_0x7329dc(0x93c)]):null,_0x6efca=_0x48aba9[_0x7329dc(0x369)]?new Date(_0x48aba9[_0x7329dc(0x369)]):null;if(_0x6efca&&_0x160664>_0x6efca)_0x1f6bd1=_0x7329dc(0x349);else _0x3dc71b&&_0x160664<_0x3dc71b?_0x1f6bd1='scheduled_pending':_0x1f6bd1='active';}switch(_0x1f6bd1){case'inactive':_0x4c105e=_0x7329dc(0x92d),_0x451379=_0x7329dc(0x197);break;case _0x7329dc(0x419):_0x4c105e='รอเปิด',_0x451379='text-blue-700\x20bg-blue-100';break;case _0x7329dc(0x34a):_0x4c105e=_0x5ec5bc!==_0x7329dc(0x60e)?'เปิด\x20(จับเวลา)':_0x7329dc(0x55c),_0x451379=_0x7329dc(0xc0e);break;default:_0x4c105e=_0x7329dc(0x461),_0x451379=_0x7329dc(0xc0e);break;}let _0x119d09='';const _0x174711={'day':_0x7329dc(0xbbd),'month':'2-digit','year':'numeric','hour':_0x7329dc(0xbbd),'minute':_0x7329dc(0xbbd),'hour12':![]};if(_0x2a10f3===_0x7329dc(0x659)){if(_0x48aba9[_0x7329dc(0x93c)])_0x119d09+=_0x7329dc(0x7ef)+new Date(_0x48aba9[_0x7329dc(0x93c)])['toLocaleString'](_0x7329dc(0x7d5),_0x174711)+'</p>';if(_0x48aba9[_0x7329dc(0x369)])_0x119d09+=_0x7329dc(0x267)+new Date(_0x48aba9['endTime'])[_0x7329dc(0x273)](_0x7329dc(0x7d5),_0x174711)+_0x7329dc(0x183);}let _0xab0efe='';if(_0x48aba9[_0x7329dc(0xa6c)]){const _0x1c7492=allQuizzes[_0x7329dc(0x301)](_0x24c59f=>_0x24c59f['id']===_0x48aba9[_0x7329dc(0xa6c)]);if(_0x1c7492){let _0x1d1fd1,_0x11d2d5;new Date(_0x48aba9[_0x7329dc(0xab0)])<new Date(_0x1c7492[_0x7329dc(0xab0)])?(_0x1d1fd1=_0x48aba9['id'],_0x11d2d5=_0x1c7492['id']):(_0x1d1fd1=_0x1c7492['id'],_0x11d2d5=_0x48aba9['id']),_0xab0efe+=_0x7329dc(0x465)+_0x11d2d5+_0x7329dc(0x907)+_0x1d1fd1+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x48aba9[_0x7329dc(0x6cb)]===_0x7329dc(0x3bd)&&(_0xab0efe+=_0x7329dc(0x360)+_0x48aba9['id']+_0x7329dc(0x6ac));if(_0x48aba9[_0x7329dc(0x6cb)]===_0x7329dc(0x3bd)&&_0x526ea8>0x0)_0xab0efe+=_0x7329dc(0x360)+_0x48aba9['id']+_0x7329dc(0x949);else!_0x48aba9[_0x7329dc(0xa6c)]&&_0x48aba9['quizMode']!=='pre-test'&&_0x526ea8>0x0&&(_0xab0efe+=_0x7329dc(0x360)+_0x48aba9['id']+_0x7329dc(0x5f9));let _0x56593a='';_0x48aba9[_0x7329dc(0xa6c)]?_0x56593a=_0x7329dc(0x97c)+_0x48aba9['id']+_0x7329dc(0x610):_0x56593a=_0x7329dc(0x97c)+_0x48aba9['id']+_0x7329dc(0xa09),_0x2148a9+=_0x7329dc(0xbfa)+_0x48aba9['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x48aba9[_0x7329dc(0x339)]+_0x7329dc(0x8cc)+_0x48aba9[_0x7329dc(0xb4f)][_0x7329dc(0x6b0)]+_0x7329dc(0x591)+new Date(_0x48aba9[_0x7329dc(0xab0)])[_0x7329dc(0x273)](_0x7329dc(0x7d5))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x526ea8+_0x7329dc(0x595)+_0x119d09+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x451379+'\x22>'+_0x4c105e+_0x7329dc(0x1bf)+_0x48aba9['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x48aba9['id']+_0x7329dc(0x48f)+(_0x48aba9[_0x7329dc(0x330)]?'fas\x20fa-star\x20text-yellow-500':_0x7329dc(0x315))+_0x7329dc(0xaf8)+_0xab0efe+_0x7329dc(0x749)+_0x48aba9['id']+_0x7329dc(0x6a4)+_0x48aba9['id']+_0x7329dc(0x1e1)+_0x48aba9['id']+_0x7329dc(0x474)+_0x48aba9['id']+_0x7329dc(0xa4d)+_0x48aba9['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x48aba9['id']+_0x7329dc(0x19b)+_0x48aba9['id']+'\x22\x20data-topic=\x22'+_0x48aba9['topic']+_0x7329dc(0x1b5)+_0x48aba9['id']+_0x7329dc(0x619)+_0x48aba9['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56593a+_0x7329dc(0x7a4)+_0x48aba9['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x48aba9['id']+_0x7329dc(0x969)+_0x48aba9['id']+_0x7329dc(0xa0c)+_0x48aba9['id']+_0x7329dc(0x2cc)+_0x48aba9['id']+_0x7329dc(0x3e2)+_0x48aba9['id']+_0x7329dc(0x60d)+_0x48aba9['id']+_0x7329dc(0x616)+_0x48aba9['id']+_0x7329dc(0x9eb)+_0x48aba9[_0x7329dc(0x339)]+_0x7329dc(0x28d)+_0x48aba9['id']+_0x7329dc(0x5f8);}),_0x4bcb6b[_0x4ddd18(0x888)]=_0x2148a9,document[_0x4ddd18(0x4a1)](_0x4ddd18(0x94b))[_0x4ddd18(0x519)](_0xd74d2d=>{const _0x1b2c2c=_0x4ddd18;_0xd74d2d[_0x1b2c2c(0x4f9)](_0x1b2c2c(0x2ea),()=>{const _0x335683=_0x1b2c2c,_0x289dd2=_0xd74d2d[_0x335683(0x483)][_0x335683(0xb39)];showQuizDetailView(_0x289dd2);});});}async function handleUnpairQuiz(_0x3e437f){const _0xaecd6a=_0x358d67,_0x47ae9c=allQuizzes[_0xaecd6a(0x301)](_0x2febc0=>_0x2febc0['id']===_0x3e437f);if(!_0x47ae9c||!_0x47ae9c[_0xaecd6a(0xa6c)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x4b8ae4=_0xaecd6a;try{const _0x34d56a=doc(db,_0x4b8ae4(0x714)+appId+'/public/data/quizzes',_0x3e437f),_0x4d42ef=doc(db,'artifacts/'+appId+_0x4b8ae4(0x4b7),_0x47ae9c[_0x4b8ae4(0xa6c)]),_0x4e5a38=writeBatch(db);_0x4e5a38[_0x4b8ae4(0x1a7)](_0x34d56a,{'pairedQuizId':null}),_0x4e5a38['update'](_0x4d42ef,{'pairedQuizId':null}),await _0x4e5a38[_0x4b8ae4(0x2be)](),showMessage(_0x4b8ae4(0x7e9));}catch(_0xcd5e99){console['error'](_0x4b8ae4(0x3ba),_0xcd5e99),showMessage(_0x4b8ae4(0x68a));}});}function formatAndPrintLessonPlan(_0x4b6a7b,_0x317b8c){const _0x328041=_0x358d67,_0x222e96=window[_0x328041(0x9dc)]('',_0x328041(0x86b)),_0x41913d=_0x328041(0xbe0)+_0x317b8c['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x317b8c[_0x328041(0x339)]+_0x328041(0xa0f)+_0x4b6a7b[_0x328041(0x30d)][_0x328041(0x8ca)](_0x2c5d5a=>_0x328041(0xb1a)+_0x2c5d5a+_0x328041(0x3bc))[_0x328041(0x61f)]('')+_0x328041(0x411)+_0x4b6a7b[_0x328041(0xa3e)]+_0x328041(0x248)+_0x4b6a7b['practiceProblems'][_0x328041(0x8ca)](_0x5da1b4=>_0x328041(0x9b7)+_0x5da1b4['question']+_0x328041(0xab4)+_0x5da1b4['solution']+_0x328041(0xbe5))['join']('')+_0x328041(0x605);_0x222e96['document'][_0x328041(0x511)](_0x41913d),_0x222e96[_0x328041(0x221)]['close'](),_0x222e96[_0x328041(0xa33)]=function(){setTimeout(()=>{const _0x856e73=_0x4026;_0x222e96[_0x856e73(0x839)]();},0x3e8);};}async function handleAiFixFormula(_0x31710b){const _0x228f21=_0x358d67,_0x301b39=document[_0x228f21(0x3a0)]('.question-editor-item[data-q-index=\x22'+_0x31710b+'\x22]');if(!_0x301b39)return;const _0x43fda0=_0x301b39[_0x228f21(0x483)][_0x228f21(0x5a4)],_0x25f0f4=_0x301b39[_0x228f21(0x3a0)](_0x228f21(0x8fc));let _0x3d63b6={'question':_0x301b39[_0x228f21(0x3a0)]('textarea')[_0x228f21(0xac6)]};switch(_0x43fda0){case _0x228f21(0x302):_0x3d63b6['options']=Array[_0x228f21(0x367)](_0x301b39[_0x228f21(0x4a1)](_0x228f21(0x497)))[_0x228f21(0x8ca)](_0x128e14=>_0x128e14['value']);break;case _0x228f21(0xad5):_0x3d63b6['idealAnswer']=_0x301b39['querySelector'](_0x228f21(0xaae))['value'];break;case _0x228f21(0x4b9):_0x3d63b6['correctResponse']=_0x301b39[_0x228f21(0x3a0)](_0x228f21(0x887))[_0x228f21(0xac6)];break;}_0x25f0f4['innerHTML']=_0x228f21(0x599),_0x25f0f4[_0x228f21(0x709)]=!![];try{const _0x5c304f=_0x228f21(0x494)+JSON[_0x228f21(0xa50)](_0x3d63b6)+_0x228f21(0x376),_0x5ee598={'type':_0x228f21(0x182),'properties':{'fixedData':{'type':_0x228f21(0x182),'properties':{'question':{'type':_0x228f21(0x534)},'options':{'type':_0x228f21(0x632),'items':{'type':_0x228f21(0x534)}},'idealAnswer':{'type':_0x228f21(0x534)},'correctResponse':{'type':_0x228f21(0x534)}},'required':[_0x228f21(0xaad)]}},'required':[_0x228f21(0x418)]},_0x2e8108=await callAnalysisApi(_0x5c304f,_0x5ee598);if(_0x2e8108&&_0x2e8108[_0x228f21(0x418)]){const _0x5994fd=_0x2e8108[_0x228f21(0x418)];_0x301b39[_0x228f21(0x3a0)]('textarea')[_0x228f21(0xac6)]=_0x5994fd[_0x228f21(0xaad)]||_0x3d63b6[_0x228f21(0xaad)];switch(_0x43fda0){case'multiple_choice':_0x5994fd[_0x228f21(0x994)]&&_0x5994fd['options'][_0x228f21(0x6b0)]>0x0&&_0x301b39['querySelectorAll'](_0x228f21(0x497))['forEach']((_0x25d93c,_0x7df511)=>{const _0x315da3=_0x228f21;_0x25d93c['value']=_0x5994fd[_0x315da3(0x994)][_0x7df511]||_0x3d63b6['options'][_0x7df511];});break;case'short_answer':_0x301b39[_0x228f21(0x3a0)](_0x228f21(0xaae))[_0x228f21(0xac6)]=_0x5994fd[_0x228f21(0xbd9)]||_0x3d63b6[_0x228f21(0xbd9)];break;case _0x228f21(0x4b9):_0x301b39['querySelector'](_0x228f21(0x887))[_0x228f21(0xac6)]=_0x5994fd[_0x228f21(0x44f)]||_0x3d63b6[_0x228f21(0x44f)];break;}if(_0x3d63b6[_0x228f21(0xaad)]!==_0x5994fd[_0x228f21(0xaad)])try{const _0x296d35=collection(db,_0x228f21(0x714)+appId+_0x228f21(0xb88));await addDoc(_0x296d35,{'broken':_0x3d63b6[_0x228f21(0xaad)],'fixed':_0x5994fd[_0x228f21(0xaad)],'createdAt':serverTimestamp()});}catch(_0x1c57c8){console[_0x228f21(0x77b)](_0x228f21(0xb8f),_0x1c57c8);}showMessage(_0x228f21(0x3b6));}else throw new Error(_0x228f21(0x3a6));}catch(_0x300427){console['error']('AI\x20Formula\x20Fix\x20Error:',_0x300427),showMessage(_0x228f21(0x964));}finally{_0x25f0f4[_0x228f21(0x888)]=_0x228f21(0x1fa),_0x25f0f4[_0x228f21(0x709)]=![];}}async function handleGenerateLessonPlan(_0x35b8f8){const _0x2ccb9c=_0x358d67;showMessage(_0x2ccb9c(0x8e1));try{const _0x3fe429=doc(db,_0x2ccb9c(0x714)+appId+'/public/data/quizzes',_0x35b8f8),_0x40c4b9=await getDoc(_0x3fe429);if(!_0x40c4b9[_0x2ccb9c(0x40f)]())throw new Error(_0x2ccb9c(0x804));const _0x37af26={'id':_0x35b8f8,..._0x40c4b9[_0x2ccb9c(0x49d)]()},_0x244d23=collection(db,_0x2ccb9c(0x714)+appId+_0x2ccb9c(0x4b7),_0x35b8f8,'submissions'),_0x1034b4=await getDocs(_0x244d23),_0x1f8e2c=_0x1034b4[_0x2ccb9c(0x901)][_0x2ccb9c(0x8ca)](_0x355721=>_0x355721['data']());if(_0x1f8e2c[_0x2ccb9c(0x6b0)]===0x0)throw new Error(_0x2ccb9c(0x7fa));const _0x123896=calculateItemAnalysis(_0x37af26,_0x1f8e2c)[_0x2ccb9c(0xb68)],_0x26b242=calculateDistractorAnalysis(_0x37af26,_0x1f8e2c),_0x455f6a=_0x1a8428=>{const _0x2d6685=_0x2ccb9c;if(!_0x1a8428)return'';return _0x1a8428[_0x2d6685(0x4a7)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x2d6685(0x4a7)](/\n/g,'\x5cn');};let _0x1103a4=_0x2ccb9c(0x1c0);_0x37af26[_0x2ccb9c(0xb4f)][_0x2ccb9c(0x519)]((_0x2e1cc4,_0x12c739)=>{const _0xedbc09=_0x2ccb9c,_0x1a60e4=_0x123896[_0x12c739]?.['p'][_0xedbc09(0xbc3)](0x2)||'N/A',_0x24d01b=_0x123896[_0x12c739]?.['r'][_0xedbc09(0xbc3)](0x2)||_0xedbc09(0x5d4),_0x1a1e69=_0x455f6a(_0x2e1cc4['questionText']||_0x2e1cc4[_0xedbc09(0x966)]);_0x1103a4+=_0xedbc09(0x6a3)+(_0x12c739+0x1)+_0xedbc09(0x5ee)+_0x1a60e4+_0xedbc09(0xa9e)+_0x24d01b+_0xedbc09(0x5b6)+_0x1a1e69+'\x5cn';if(_0x2e1cc4['questionType']===_0xedbc09(0x302)&&_0x26b242[_0x12c739]){const _0x2a80fb=_0x26b242[_0x12c739],_0x3f6a8e=Object[_0xedbc09(0x57a)](_0x2a80fb)['filter'](_0x5ce861=>parseInt(_0x5ce861)!==_0x2e1cc4[_0xedbc09(0x468)])[_0xedbc09(0x843)]((_0x4be71f,_0x101d46)=>_0x2a80fb[_0x101d46][_0xedbc09(0xb5c)]-_0x2a80fb[_0x4be71f][_0xedbc09(0xb5c)])[0x0];if(_0x3f6a8e&&_0x2a80fb[_0x3f6a8e]['total']>0x0){const _0x599997=_0x455f6a(_0x2a80fb[_0x3f6a8e]['text']);_0x1103a4+=_0xedbc09(0x8a4)+_0x599997+_0xedbc09(0xb32);}}});const _0x2489e1=_0x2ccb9c(0x90a)+_0x37af26['topic']+_0x2ccb9c(0x18f)+_0x1103a4+_0x2ccb9c(0xb69),_0x430be5={'type':_0x2ccb9c(0x182),'properties':{'learningGaps':{'type':_0x2ccb9c(0x632),'items':{'type':_0x2ccb9c(0x534)}},'teachingContent':{'type':_0x2ccb9c(0x534)},'practiceProblems':{'type':_0x2ccb9c(0x632),'items':{'type':_0x2ccb9c(0x182),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x2ccb9c(0x30d),'teachingContent',_0x2ccb9c(0x184)]},_0x1442b8=await callAnalysisApi(_0x2489e1,_0x430be5);await updateDoc(_0x3fe429,{'lessonPlan':_0x1442b8});const _0x669fba=_0x2ccb9c(0xa06)+_0x37af26[_0x2ccb9c(0x339)]+_0x2ccb9c(0x585)+_0x1442b8[_0x2ccb9c(0x30d)][_0x2ccb9c(0x8ca)](_0x457bd2=>_0x2ccb9c(0xb1a)+_0x457bd2+'</li>')[_0x2ccb9c(0x61f)]('')+_0x2ccb9c(0xaa6)+_0x1442b8[_0x2ccb9c(0xa3e)]+_0x2ccb9c(0xa60)+_0x1442b8[_0x2ccb9c(0x184)][_0x2ccb9c(0x8ca)](_0x5ed133=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x5ed133['question']+_0x2ccb9c(0x669)+_0x5ed133[_0x2ccb9c(0x33e)]+_0x2ccb9c(0x43d))[_0x2ccb9c(0x61f)]('')+_0x2ccb9c(0x45f);document[_0x2ccb9c(0x3a8)](_0x2ccb9c(0x210))[_0x2ccb9c(0x20d)]=_0x2ccb9c(0x1cb)+_0x37af26[_0x2ccb9c(0x339)],document[_0x2ccb9c(0x3a8)]('lesson-plan-content')[_0x2ccb9c(0x888)]=_0x669fba,document['getElementById'](_0x2ccb9c(0x655))[_0x2ccb9c(0x542)]['remove']('hidden');if(window[_0x2ccb9c(0x915)])MathJax[_0x2ccb9c(0x7cf)]();messageModal[_0x2ccb9c(0x542)][_0x2ccb9c(0x33b)]('hidden');}catch(_0x5d059a){console['error'](_0x2ccb9c(0x263),_0x5d059a),showMessage(_0x2ccb9c(0x5df)+_0x5d059a['message']);}}async function handleDuplicateQuiz(_0x39ebe6){const _0x31775e=_0x358d67;try{const _0x131d2f=doc(db,_0x31775e(0x714)+appId+_0x31775e(0x4b7),_0x39ebe6),_0x4593a1=await getDoc(_0x131d2f);if(_0x4593a1['exists']()){const _0xaf2b95=_0x4593a1[_0x31775e(0x49d)]();let _0x5ac95f='',_0x234a58=_0x31775e(0xa86),_0x3bd9ef=null;if(_0xaf2b95[_0x31775e(0x6cb)]==='pre-test'){let _0x5bd9f5=_0xaf2b95[_0x31775e(0x339)][_0x31775e(0x4a7)]('(ก่อนเรียน)','')[_0x31775e(0x7a5)]();_0x5ac95f=_0x31775e(0x31a)+_0x5bd9f5,_0x234a58=_0x31775e(0xbdc),_0x3bd9ef=_0x39ebe6;}else _0x5ac95f=_0x31775e(0x81b)+_0xaf2b95[_0x31775e(0x339)];const _0x478c91={..._0xaf2b95,'topic':_0x5ac95f,'createdAt':new Date()[_0x31775e(0x473)](),'quizMode':_0x234a58,'pairedQuizId':_0x3bd9ef};let _0x56244b;while(!![]){_0x56244b=Math[_0x31775e(0x9b2)](0x3e8+Math['random']()*0x2328)['toString']();const _0x33875c=await getDoc(doc(db,_0x31775e(0x714)+appId+_0x31775e(0x4b7),_0x56244b));if(!_0x33875c['exists']())break;}const _0x1eb21e=doc(db,_0x31775e(0x714)+appId+_0x31775e(0x4b7),_0x56244b);await setDoc(_0x1eb21e,_0x478c91),_0x478c91[_0x31775e(0x6cb)]===_0x31775e(0xbdc)&&await updateDoc(_0x131d2f,{'pairedQuizId':_0x56244b}),showMessage(_0x31775e(0xb8a));}else throw new Error(_0x31775e(0x7bb));}catch(_0xe623bb){console[_0x31775e(0x77b)](_0x31775e(0x811),_0xe623bb),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x238b02,_0x1e7a7d=!![]){const _0x4112c5=_0x358d67;try{const _0x4e7ff4=writeBatch(db),_0x450cab=collection(db,_0x4112c5(0x714)+appId+_0x4112c5(0x667)+_0x238b02+_0x4112c5(0x2c6)),_0x2621e0=await getDocs(_0x450cab);_0x2621e0[_0x4112c5(0x519)](_0x3ddd72=>{const _0x3554b4=_0x4112c5;_0x4e7ff4[_0x3554b4(0xa30)](doc(_0x450cab,_0x3ddd72['id']));});const _0x5687ce=doc(db,_0x4112c5(0x714)+appId+'/public/data/quizzes',_0x238b02);_0x4e7ff4[_0x4112c5(0xa30)](_0x5687ce),await _0x4e7ff4[_0x4112c5(0x2be)]();try{console[_0x4112c5(0x498)](_0x4112c5(0x24f)+_0x238b02+_0x4112c5(0x668));const _0x392f41=collection(db,_0x4112c5(0x714)+appId+_0x4112c5(0x869)),_0x27e1a7=await getDocs(_0x392f41),_0x3a4151=[];_0x27e1a7[_0x4112c5(0x519)](_0x15d9f6=>{const _0x11fc44=_0x4112c5,_0x345f0b=_0x15d9f6[_0x11fc44(0x49d)](),_0x28eee3=_0x345f0b['topics']||{};let _0x184231=![];for(const _0x2aec20 in _0x28eee3){const _0x2156e1=_0x28eee3[_0x2aec20];if(_0x2156e1[_0x11fc44(0x7be)]&&_0x2156e1[_0x11fc44(0x7be)][_0x11fc44(0xbba)](_0x238b02)){_0x184231=!![];const _0x3f6e04=doc(db,'artifacts/'+appId+_0x11fc44(0x869),_0x15d9f6['id']),_0x152c75=updateDoc(_0x3f6e04,{['topics.'+_0x2aec20+_0x11fc44(0x890)]:arrayRemove(_0x238b02)});_0x3a4151[_0x11fc44(0x78d)](_0x152c75);}}}),_0x3a4151['length']>0x0&&(await Promise[_0x4112c5(0xb03)](_0x3a4151),console['log'](_0x4112c5(0x18c)+_0x3a4151['length']+_0x4112c5(0x1e8)+_0x238b02+'.'));}catch(_0x600c54){console[_0x4112c5(0x77b)](_0x4112c5(0x868),_0x600c54);}_0x1e7a7d&&showMessage(_0x4112c5(0x3be));}catch(_0x34e413){console[_0x4112c5(0x77b)](_0x4112c5(0x936),_0x34e413),_0x1e7a7d&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x27ceb7){const _0x36582d=_0x358d67;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x36582d(0x96a));try{const _0x1dbf5d=doc(db,'artifacts/'+appId+_0x36582d(0x4b7),_0x27ceb7),_0x3de62f=await getDoc(_0x1dbf5d);if(!_0x3de62f[_0x36582d(0x40f)]()){showMessage(_0x36582d(0x804));return;}const _0x5c24d2={'id':_0x3de62f['id'],..._0x3de62f[_0x36582d(0x49d)]()};currentQuizData=_0x5c24d2;const _0x136a92=doc(db,_0x36582d(0x714)+appId+'/public/data/projects',_0x5c24d2[_0x36582d(0x8cb)]),_0x5738cc=await getDoc(_0x136a92);_0x5738cc[_0x36582d(0x40f)]()?(currentProjectData=_0x5738cc['data'](),currentProjectId=_0x5c24d2[_0x36582d(0x8cb)]):(currentProjectData={'students':[]},currentProjectId=_0x5c24d2[_0x36582d(0x8cb)]);document[_0x36582d(0x3a8)](_0x36582d(0xbc1))['textContent']=_0x5c24d2['topic'],document[_0x36582d(0x3a8)](_0x36582d(0x875))['textContent']=_0x27ceb7;const _0x50736f=collection(db,'artifacts/'+appId+_0x36582d(0x4b7),_0x27ceb7,_0x36582d(0x33f));unsubscribeSubmissionsListener=onSnapshot(_0x50736f,_0x54d07a=>{const _0x292529=_0x36582d,_0x2e1301=_0x54d07a[_0x292529(0x901)][_0x292529(0x8ca)](_0x3343f2=>({'id':_0x3343f2['id'],..._0x3343f2[_0x292529(0x49d)]()}));currentSubmissions=_0x2e1301;const _0x217600=_0x2e1301[_0x292529(0x47c)](_0x5190e5=>_0x5190e5[_0x292529(0x310)]&&_0x5190e5[_0x292529(0x310)][_0x292529(0x6b0)]>0x0);renderBehaviorLog(_0x2e1301),renderAnswerGrid(currentProjectData[_0x292529(0xaf3)],_0x217600,_0x5c24d2),renderAnalytics(_0x5c24d2,_0x217600),renderQuizResultsTable(currentProjectData[_0x292529(0xaf3)],_0x2e1301,_0x5c24d2),renderQuizLeaderboard(_0x217600,_0x5c24d2,_0x292529(0xaf7));}),showView('quiz-results');}catch(_0x40d417){console[_0x36582d(0x77b)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x40d417),showMessage(_0x36582d(0x7ae));}}function renderAnswerGrid(_0x6010d5,_0x3f0737,_0xc03860){const _0x334b06=_0x358d67,_0x449957=document['getElementById'](_0x334b06(0x782));if(!_0x449957)return;if(!_0x6010d5||_0x6010d5['length']===0x0){_0x449957['innerHTML']=_0x334b06(0x9b9);return;}const _0x1c90e0=_0xc03860[_0x334b06(0xb4f)],_0x5c8c5f=_0x3f0737[_0x334b06(0x5f7)]((_0x1c10a0,_0x5399f5)=>{return _0x1c10a0[_0x5399f5['studentName']]=_0x5399f5,_0x1c10a0;},{}),_0x56d824=_0x3ecfb4=>String[_0x334b06(0x62d)](0x41+_0x3ecfb4),_0x204ec3=_0x5585d0=>{const _0x24acfb=_0x334b06,_0x3f9a5e=_0x5585d0['questionType']||_0xc03860[_0x24acfb(0x593)];switch(_0x3f9a5e){case'multiple_choice':return _0x5585d0[_0x24acfb(0x994)]&&_0x5585d0[_0x24acfb(0x994)][_0x24acfb(0x6b0)]>_0x5585d0[_0x24acfb(0x468)]?_0x56d824(_0x5585d0['correctAnswerIndex']):'-';case _0x24acfb(0x5b9):const _0x582845=_0x5585d0[_0x24acfb(0x5a0)]===!![]||String(_0x5585d0[_0x24acfb(0x5a0)])[_0x24acfb(0x344)]()===_0x24acfb(0x354);return _0x582845?_0x24acfb(0x697):_0x24acfb(0xa14);case _0x24acfb(0x4b9):return _0x5585d0[_0x24acfb(0x44f)]||'-';case _0x24acfb(0xad5):return _0x24acfb(0x368);default:return'-';}},_0x261237=(_0x356fd7,_0x4bc2e9)=>{const _0x233b19=_0x334b06;if(_0x4bc2e9[_0x233b19(0x50f)]===null||_0x4bc2e9[_0x233b19(0x50f)]===undefined)return'-';const _0xf08b6e=_0x356fd7[_0x233b19(0x2d0)]||_0xc03860[_0x233b19(0x593)];switch(_0xf08b6e){case _0x233b19(0x302):const _0x1464ff=_0x356fd7[_0x233b19(0x994)][_0x233b19(0x433)](_0x5445b3=>_0x5445b3===_0x4bc2e9[_0x233b19(0x9f3)]);return _0x1464ff!==-0x1?_0x56d824(_0x1464ff):_0x4bc2e9[_0x233b19(0x9f3)]||'-';case _0x233b19(0x5b9):if(_0x4bc2e9[_0x233b19(0x50f)]=='0'||_0x4bc2e9[_0x233b19(0x50f)]===!![]||_0x4bc2e9['answer']==='true')return'ใช่';return _0x233b19(0xa14);default:return _0x4bc2e9[_0x233b19(0x50f)];}};let _0x3f931c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c90e0[_0x334b06(0x8ca)]((_0x257035,_0x297f12)=>_0x334b06(0x9e0)+(_0x297f12+0x1)+'</th>')['join']('')+_0x334b06(0x35c)+_0x1c90e0[_0x334b06(0x8ca)](_0xd16166=>_0x334b06(0x1ed)+_0x204ec3(_0xd16166)+_0x334b06(0xbac))[_0x334b06(0x61f)]('')+_0x334b06(0x33a);_0x6010d5[_0x334b06(0x519)](_0x83e420=>{const _0x2339d6=_0x334b06;_0x3f931c+=_0x2339d6(0x5e9),_0x3f931c+=_0x2339d6(0x592)+_0x83e420+_0x2339d6(0xbac);const _0x20be14=_0x5c8c5f[_0x83e420];if(_0x20be14){const _0x43d54f=_0x20be14['attempts'][_0x20be14[_0x2339d6(0x310)][_0x2339d6(0x6b0)]-0x1];_0x1c90e0[_0x2339d6(0x519)]((_0x208533,_0x285e09)=>{const _0x30ef2e=_0x2339d6,_0x14688a=_0x43d54f['answers'][_0x30ef2e(0x301)](_0x16b791=>_0x16b791[_0x30ef2e(0x548)]===_0x208533['id']);if(_0x14688a){let _0x3de9d0='';const _0x3a86b5=_0x14688a[_0x30ef2e(0x6c9)]===!![],_0x5e0828=_0x14688a[_0x30ef2e(0xb7e)]===!![]||_0x14688a[_0x30ef2e(0xb7e)]===_0x30ef2e(0x9fb);_0x5e0828?_0x3de9d0=_0x3a86b5?_0x30ef2e(0x4af):_0x30ef2e(0x9ae):_0x3de9d0=_0x3a86b5?_0x30ef2e(0x487):'bg-red-100',_0x3f931c+=_0x30ef2e(0x9ff)+_0x3de9d0+'\x22>'+_0x261237(_0x208533,_0x14688a)+_0x30ef2e(0xbac);}else _0x3f931c+=_0x30ef2e(0xbb8);});}else _0x3f931c+=_0x1c90e0[_0x2339d6(0x8ca)](()=>_0x2339d6(0x4b3))['join']('');_0x3f931c+='</tr>';}),_0x3f931c+='</tbody></table>',_0x449957[_0x334b06(0x888)]=_0x3f931c;}function renderQuizResultsTable(_0x351ce6,_0x2a05fa,_0x579afb){const _0x5704a0=_0x358d67,_0x30e506=_0x2a05fa['reduce']((_0x1b2ed1,_0x1a9f2f)=>{const _0x2733eb=_0x4026;return _0x1b2ed1[_0x1a9f2f[_0x2733eb(0xa0b)]]=_0x1a9f2f,_0x1b2ed1;},{}),_0x1a30a7=document[_0x5704a0(0x3a0)]('#results-table\x20thead\x20tr');_0x1a30a7&&!_0x1a30a7[_0x5704a0(0x888)][_0x5704a0(0xbba)](_0x5704a0(0x582))&&(_0x1a30a7[_0x5704a0(0x888)]+=_0x5704a0(0x28f));const _0x484bde=document[_0x5704a0(0x3a8)]('quiz-results-table-body');if(!_0x351ce6||_0x351ce6[_0x5704a0(0x6b0)]===0x0){_0x484bde[_0x5704a0(0x888)]=_0x5704a0(0x8be);return;}const _0x62e671=_0x579afb[_0x5704a0(0x5a6)]===!![],_0x3bb6d7=_0x579afb[_0x5704a0(0x45b)]?.[_0x5704a0(0x928)]??-0x1;let _0x1b42e0='';_0x351ce6[_0x5704a0(0x519)](_0x9d431b=>{const _0xfe5c95=_0x5704a0,_0x19a7ad=_0x30e506[_0x9d431b];let _0x1bec71=_0xfe5c95(0xa84)+(_0x62e671?_0xfe5c95(0x72a):_0xfe5c95(0x7a3))+'\x22>'+(_0x62e671?'สอบซ่อม':_0xfe5c95(0x5d5))+_0xfe5c95(0x54a);if(_0x19a7ad){if(_0x19a7ad['attempts']&&_0x19a7ad[_0xfe5c95(0x310)][_0xfe5c95(0x6b0)]>0x0){let _0x2d9774=_0x62e671?_0x19a7ad['bestScore']===_0x19a7ad[_0xfe5c95(0x7c8)]:_0x3bb6d7!==-0x1&&_0x19a7ad[_0xfe5c95(0x5ed)]>=_0x3bb6d7;const _0x4772d0=_0x2d9774?_0xfe5c95(0x6a1):_0xfe5c95(0xac0),_0x2b89dd=_0x2d9774?_0xfe5c95(0xb91):'ไม่ผ่าน',_0x58fbf2='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x4772d0+'\x22>'+_0x2b89dd+_0xfe5c95(0x54a),_0x884d78=_0xfe5c95(0xae5)+(_0x19a7ad[_0xfe5c95(0x310)]?.[_0xfe5c95(0x6b0)]||0x1)+'\x20ครั้ง)</span></td>';_0x1b42e0+=_0xfe5c95(0x3ad)+_0x9d431b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x19a7ad[_0xfe5c95(0x5ed)]+_0xfe5c95(0x4bc)+_0x19a7ad['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58fbf2+_0xfe5c95(0x7af)+_0x1bec71+_0xfe5c95(0xb3c)+_0x19a7ad[_0xfe5c95(0x2b9)]+_0xfe5c95(0x4bc)+_0x19a7ad[_0xfe5c95(0x7c8)]+_0xfe5c95(0x20a)+_0x19a7ad[_0xfe5c95(0x421)]+_0xfe5c95(0x4bc)+_0x19a7ad[_0xfe5c95(0x7c8)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x19a7ad['points']||0x0)+_0xfe5c95(0x373)+_0x884d78+_0xfe5c95(0x73d)+new Date(_0x19a7ad[_0xfe5c95(0xb0d)])[_0xfe5c95(0x273)](_0xfe5c95(0x7d5))+_0xfe5c95(0x984)+_0x9d431b+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x474f21=_0xfe5c95(0x727);_0x1b42e0+=_0xfe5c95(0x297)+_0x9d431b+_0xfe5c95(0x2c2)+_0x1bec71+_0xfe5c95(0x1eb)+_0x474f21+_0xfe5c95(0x73d)+new Date(_0x19a7ad[_0xfe5c95(0x4ff)])[_0xfe5c95(0x273)](_0xfe5c95(0x7d5))+_0xfe5c95(0xbe2)+_0x9d431b+_0xfe5c95(0x7d1);}}else{const _0x25076c='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x1b42e0+=_0xfe5c95(0x387)+_0x9d431b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bec71+_0xfe5c95(0x898)+_0x25076c+_0xfe5c95(0x8a0);}}),_0x484bde['innerHTML']=_0x1b42e0;}async function confirmRenameQuiz(){const _0x202f48=_0x358d67,_0x3038ae=document[_0x202f48(0x3a8)](_0x202f48(0x37c))['value'][_0x202f48(0x7a5)]();if(!_0x3038ae){showMessage(_0x202f48(0x37f));return;}if(!actionTargetId)return;const _0x2a7d40=doc(db,_0x202f48(0x714)+appId+_0x202f48(0x4b7),actionTargetId);try{await updateDoc(_0x2a7d40,{'topic':_0x3038ae}),showMessage(_0x202f48(0xbd2)),renameQuizModal[_0x202f48(0x542)][_0x202f48(0x33b)](_0x202f48(0x49a)),actionTargetId=null;}catch(_0x400e8f){console[_0x202f48(0x77b)](_0x202f48(0x471),_0x400e8f),showMessage(_0x202f48(0x96e));}}async function handleMoveQuiz(_0x5cd5d3){const _0x287c3f=_0x358d67;actionTargetId=_0x5cd5d3;const _0x1d50a8=document[_0x287c3f(0x3a8)](_0x287c3f(0x523));_0x1d50a8['innerHTML']=_0x287c3f(0x597),moveQuizModal[_0x287c3f(0x542)]['remove'](_0x287c3f(0x49a));try{const _0x4173a0=collection(db,_0x287c3f(0x714)+appId+_0x287c3f(0x508)),_0x132e5d=await getDocs(_0x4173a0),_0x28b5b8=_0x132e5d[_0x287c3f(0x901)][_0x287c3f(0x8ca)](_0x57a7f0=>({'id':_0x57a7f0['id'],..._0x57a7f0[_0x287c3f(0x49d)]()})),_0x61903f=_0x28b5b8[_0x287c3f(0x47c)](_0xc17aed=>_0xc17aed['id']!==currentProjectId);if(_0x61903f[_0x287c3f(0x6b0)]===0x0){_0x1d50a8[_0x287c3f(0x888)]=_0x287c3f(0xaf1),document[_0x287c3f(0x3a8)](_0x287c3f(0x2b1))[_0x287c3f(0x709)]=!![];return;}_0x1d50a8['innerHTML']=_0x61903f['map'](_0x37c669=>_0x287c3f(0xaf5)+_0x37c669['id']+'\x22>'+_0x37c669['projectName']+_0x287c3f(0x1f9))[_0x287c3f(0x61f)](''),document['getElementById'](_0x287c3f(0x2b1))['disabled']=![];}catch(_0x3011dc){console[_0x287c3f(0x77b)]('Error\x20fetching\x20projects\x20for\x20move:',_0x3011dc),showMessage(_0x287c3f(0x518)),moveQuizModal[_0x287c3f(0x542)][_0x287c3f(0x33b)](_0x287c3f(0x49a));}}async function confirmMoveQuiz(){const _0x1e8085=_0x358d67,_0x39b48d=document['getElementById']('move-quiz-project-select')[_0x1e8085(0xac6)];if(!_0x39b48d){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x46afd1=doc(db,'artifacts/'+appId+_0x1e8085(0x4b7),actionTargetId);try{await updateDoc(_0x46afd1,{'projectId':_0x39b48d}),showMessage(_0x1e8085(0x26f)),moveQuizModal[_0x1e8085(0x542)][_0x1e8085(0x33b)](_0x1e8085(0x49a)),actionTargetId=null;}catch(_0x336293){console[_0x1e8085(0x77b)](_0x1e8085(0x4e2),_0x336293),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x1671ac){const _0x4d4911=_0x358d67;actionTargetId=_0x1671ac;const _0x3315b5=doc(db,_0x4d4911(0x714)+appId+_0x4d4911(0x4b7),_0x1671ac);try{const _0x5dca0e=await getDoc(_0x3315b5);if(_0x5dca0e[_0x4d4911(0x40f)]()){const _0x4ab091=_0x5dca0e['data'](),_0x135157=_0x4ab091[_0x4d4911(0x45b)]||{},_0x33f67f=_0x4ab091['questions'][_0x4d4911(0x6b0)];document[_0x4d4911(0x3a8)](_0x4d4911(0x8a3))[_0x4d4911(0xac6)]=_0x135157[_0x4d4911(0x2f1)]||_0x4d4911(0x60e),document[_0x4d4911(0x3a8)](_0x4d4911(0x6b6))[_0x4d4911(0xac6)]=_0x135157['resultsDisplay']||_0x4d4911(0x705),document[_0x4d4911(0x3a8)](_0x4d4911(0x6bf))[_0x4d4911(0xac6)]=_0x135157[_0x4d4911(0xba9)]||_0x4d4911(0x60e),document[_0x4d4911(0x3a8)](_0x4d4911(0x9a0))[_0x4d4911(0xac6)]=_0x135157[_0x4d4911(0xb2d)]||0xa,document[_0x4d4911(0x3a8)]('modal-passing-score-input')[_0x4d4911(0xac6)]=_0x135157['passingScore']||Math[_0x4d4911(0x9b2)](_0x33f67f/0x2),document[_0x4d4911(0x3a8)](_0x4d4911(0x58e))[_0x4d4911(0x21a)]=_0x33f67f,document['getElementById'](_0x4d4911(0x3af))[_0x4d4911(0x69c)]=_0x135157[_0x4d4911(0x2f0)]||![],document['getElementById'](_0x4d4911(0x43a))[_0x4d4911(0x69c)]=_0x135157['loopUntilPass']||![];const _0x2f5861=_0x135157[_0x4d4911(0x2c3)]||![];document['getElementById'](_0x4d4911(0x781))[_0x4d4911(0x69c)]=_0x2f5861,document[_0x4d4911(0x3a8)](_0x4d4911(0x287))['value']=_0x135157[_0x4d4911(0x23f)]||_0x4d4911(0x6cf);const _0x30c33d=document[_0x4d4911(0x3a8)](_0x4d4911(0x8b1));_0x30c33d['classList'][_0x4d4911(0x50e)](_0x4d4911(0x49a),!_0x2f5861),document[_0x4d4911(0x3a8)](_0x4d4911(0x6bf))['dispatchEvent'](new Event(_0x4d4911(0xabc))),quizSettingsModal[_0x4d4911(0x542)]['remove'](_0x4d4911(0x49a));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x7daaf5){console[_0x4d4911(0x77b)](_0x4d4911(0x92e),_0x7daaf5),showMessage(_0x4d4911(0x553));}}async function confirmQuizSettings(){const _0x5684d6=_0x358d67;if(!actionTargetId)return;const _0x307cde=doc(db,_0x5684d6(0x714)+appId+_0x5684d6(0x4b7),actionTargetId),_0x2c91da={'shuffle':document['getElementById'](_0x5684d6(0x8a3))[_0x5684d6(0xac6)],'resultsDisplay':document[_0x5684d6(0x3a8)](_0x5684d6(0x6b6))['value'],'timerMode':document['getElementById'](_0x5684d6(0x6bf))[_0x5684d6(0xac6)],'timerDuration':parseInt(document['getElementById']('modal-timer-duration-input')['value'])||0xa,'passingScore':parseInt(document[_0x5684d6(0x3a8)](_0x5684d6(0x58e))[_0x5684d6(0xac6)])||0x0,'isAdaptive':document[_0x5684d6(0x3a8)](_0x5684d6(0x3af))['checked'],'loopUntilPass':document[_0x5684d6(0x3a8)](_0x5684d6(0x43a))[_0x5684d6(0x69c)],'isConfidenceScoringEnabled':document['getElementById']('modal-confidence-scoring-checkbox')[_0x5684d6(0x69c)],'confidenceMode':document[_0x5684d6(0x3a8)](_0x5684d6(0x287))[_0x5684d6(0xac6)]};try{await updateDoc(_0x307cde,{'settings':_0x2c91da}),showMessage(_0x5684d6(0x2d7)),quizSettingsModal[_0x5684d6(0x542)][_0x5684d6(0x33b)](_0x5684d6(0x49a)),actionTargetId=null;}catch(_0xbeedc5){console[_0x5684d6(0x77b)]('Error\x20updating\x20quiz\x20settings:',_0xbeedc5),showMessage(_0x5684d6(0x5d0));}}async function confirmQuizStatus(){const _0x1d856c=_0x358d67;if(!actionTargetId)return;const _0x4c850c=doc(db,_0x1d856c(0x714)+appId+_0x1d856c(0x4b7),actionTargetId),_0x44c627=document[_0x1d856c(0x3a0)](_0x1d856c(0x552));if(!_0x44c627){showMessage(_0x1d856c(0x59f));return;}const _0x3b7d44=_0x44c627[_0x1d856c(0xac6)];let _0x564471={};if(_0x3b7d44===_0x1d856c(0x34a)||_0x3b7d44===_0x1d856c(0x349))_0x564471={'status':_0x3b7d44,'startTime':null,'endTime':null};else{if(_0x3b7d44===_0x1d856c(0x601)){const _0x13a760=document[_0x1d856c(0x3a8)](_0x1d856c(0x877))[_0x1d856c(0xac6)],_0x10c222=document['getElementById'](_0x1d856c(0x382))['value'];if(!_0x13a760&&!_0x10c222){showMessage(_0x1d856c(0xb5f));return;}_0x564471={'status':'scheduled','startTime':_0x13a760?new Date(_0x13a760)[_0x1d856c(0x473)]():null,'endTime':_0x10c222?new Date(_0x10c222)[_0x1d856c(0x473)]():null};}}try{await updateDoc(_0x4c850c,_0x564471),showMessage(_0x1d856c(0x3de)),quizStatusModal[_0x1d856c(0x542)]['add'](_0x1d856c(0x49a)),actionTargetId=null;}catch(_0x291a43){console[_0x1d856c(0x77b)]('Error\x20updating\x20quiz\x20status:',_0x291a43),showMessage(_0x1d856c(0x51a));}}function listenForStudentProfiles(_0x10c2df){const _0x90793f=_0x358d67,_0x337e99=collection(db,_0x90793f(0x714)+appId+'/public/data/projects/'+_0x10c2df+_0x90793f(0xbd4));unsubscribeStudentProfilesListener=onSnapshot(_0x337e99,_0x894ef7=>{const _0x514b69=_0x90793f,_0x55d738=_0x894ef7[_0x514b69(0x901)][_0x514b69(0x8ca)](_0x255249=>_0x255249['data']());renderLeaderboard(_0x55d738,'leaderboard-table-body');},_0x322d24=>{const _0x401485=_0x90793f;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x322d24),document['getElementById'](_0x401485(0xa93))[_0x401485(0x888)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x209d34,_0x172dcc){const _0x15f571=_0x358d67,_0x290e51=document[_0x15f571(0x3a8)](_0x172dcc);if(!_0x209d34||_0x209d34['length']===0x0){_0x290e51[_0x15f571(0x888)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x209d34[_0x15f571(0x843)]((_0x25281f,_0x32a616)=>{const _0x51702d=_0x15f571,_0x16d7bf=(_0x32a616[_0x51702d(0x6ed)]||0x0)-(_0x25281f[_0x51702d(0x6ed)]||0x0);if(_0x16d7bf!==0x0)return _0x16d7bf;const _0x93bf30=(_0x32a616['badgesCount']?.[_0x51702d(0x4fc)]||0x0)-(_0x25281f[_0x51702d(0x3e0)]?.['specialist']||0x0);if(_0x93bf30!==0x0)return _0x93bf30;const _0x38c412=(_0x32a616[_0x51702d(0x3e0)]?.[_0x51702d(0x7a7)]||0x0)-(_0x25281f[_0x51702d(0x3e0)]?.[_0x51702d(0x7a7)]||0x0);if(_0x38c412!==0x0)return _0x38c412;const _0x37880e=(_0x32a616[_0x51702d(0x3e0)]?.[_0x51702d(0x6e3)]||0x0)-(_0x25281f[_0x51702d(0x3e0)]?.[_0x51702d(0x6e3)]||0x0);if(_0x37880e!==0x0)return _0x37880e;const _0x3662ca=(_0x32a616[_0x51702d(0x3e0)]?.[_0x51702d(0xc02)]||0x0)-(_0x25281f[_0x51702d(0x3e0)]?.[_0x51702d(0xc02)]||0x0);if(_0x3662ca!==0x0)return _0x3662ca;return _0x25281f[_0x51702d(0xa0b)][_0x51702d(0x364)](_0x32a616[_0x51702d(0xa0b)],'th');});let _0x203ddd='';_0x209d34['forEach']((_0x2d6a35,_0x30ccd5)=>{const _0x17caa1=_0x15f571,_0x1cfcba=_0x30ccd5+0x1,_0x130b4c=_0x2d6a35['badgesCount']||{};let _0x29486a='';const _0x2ff704=[_0x17caa1(0x4fc),_0x17caa1(0x6e3),'first_try_ace',_0x17caa1(0xc02)];_0x2ff704[_0x17caa1(0x519)](_0x30afb4=>{const _0x403373=_0x17caa1;if(_0x130b4c[_0x30afb4]>0x0){const _0x3202f8=Object[_0x403373(0x41e)](BADGES)[_0x403373(0x301)](_0x1b72cd=>_0x1b72cd['id']===_0x30afb4);_0x3202f8&&(_0x30afb4===_0x403373(0x4fc)?_0x29486a+=_0x403373(0x3ea)+_0x3202f8[_0x403373(0xbc7)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3202f8[_0x403373(0x365)]+_0x403373(0x47e):_0x29486a+=_0x403373(0x3ea)+_0x3202f8[_0x403373(0xbc7)]+'\x20('+_0x130b4c[_0x30afb4]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3202f8[_0x403373(0x365)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x130b4c[_0x30afb4]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x203ddd+=_0x17caa1(0x682)+_0x1cfcba+_0x17caa1(0x54d)+_0x2d6a35[_0x17caa1(0xa0b)]+_0x17caa1(0x42f)+(_0x2d6a35['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x29486a||'-')+_0x17caa1(0x5a2);}),_0x290e51['innerHTML']=_0x203ddd;}function displayLoopScreen(_0x32266e,_0x437202,_0x536c3c){const _0x5a0fa1=_0x358d67;let _0xc37ffa='';_0x536c3c!=='show_pass_fail_only'&&(_0xc37ffa=_0x5a0fa1(0xa69)+_0x32266e+'\x20/\x20'+_0x437202+_0x5a0fa1(0xafd));const _0x2d47ea=_0x5a0fa1(0xa0a)+_0xc37ffa+_0x5a0fa1(0x54b);studentResultArea[_0x5a0fa1(0x888)]=_0x2d47ea,studentResultArea[_0x5a0fa1(0x542)][_0x5a0fa1(0x9d0)](_0x5a0fa1(0x49a)),studentQuizArea[_0x5a0fa1(0x542)][_0x5a0fa1(0x33b)]('hidden'),document[_0x5a0fa1(0x3a8)](_0x5a0fa1(0x252))[_0x5a0fa1(0x4f9)](_0x5a0fa1(0x2ea),()=>{const _0x125422=_0x5a0fa1;studentResultArea['classList'][_0x125422(0x33b)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x55f456,_0x1cae11,_0x11086){const _0x20c9b3=_0x358d67,_0x147101=document[_0x20c9b3(0x3a8)](_0x11086),_0x155e3c=_0x11086===_0x20c9b3(0x70f),_0x32267c=_0x1cae11[_0x20c9b3(0xb4f)][_0x20c9b3(0x6b0)],_0x54fcc5=document['getElementById'](_0x11086)[_0x20c9b3(0x2f4)](_0x20c9b3(0x660));if(_0x54fcc5&&!_0x155e3c){const _0x344194=_0x54fcc5[_0x20c9b3(0x3a0)](_0x20c9b3(0x6e9));_0x344194[_0x20c9b3(0x888)]=_0x20c9b3(0x8f8);}if(!_0x55f456||_0x55f456[_0x20c9b3(0x6b0)]===0x0){_0x147101['innerHTML']='<tr><td\x20colspan=\x22'+(_0x155e3c?0x6:0x8)+_0x20c9b3(0x965);return;}const _0xd7a9a5=[..._0x55f456];_0xd7a9a5[_0x20c9b3(0x843)]((_0x2facf1,_0x319895)=>{const _0x582110=_0x20c9b3;let _0x4b3e5e,_0x4a5ab1;switch(quizLeaderboardSortBy){case _0x582110(0xa0b):_0x4b3e5e=_0x2facf1[_0x582110(0xa0b)]||'',_0x4a5ab1=_0x319895[_0x582110(0xa0b)]||'';return quizLeaderboardSortOrder===_0x582110(0x516)?_0x4b3e5e[_0x582110(0x364)](_0x4a5ab1,'th'):_0x4a5ab1[_0x582110(0x364)](_0x4b3e5e,'th');case _0x582110(0x957):_0x4b3e5e=_0x2facf1['points']||0x0,_0x4a5ab1=_0x319895['points']||0x0;break;case _0x582110(0x310):_0x4b3e5e=_0x2facf1['attempts']?.[_0x582110(0x6b0)]||0x1,_0x4a5ab1=_0x319895[_0x582110(0x310)]?.[_0x582110(0x6b0)]||0x1;break;case _0x582110(0xb0d):_0x4b3e5e=new Date(_0x2facf1[_0x582110(0xb0d)]),_0x4a5ab1=new Date(_0x319895[_0x582110(0xb0d)]);break;case _0x582110(0x5ed):default:_0x4b3e5e=_0x2facf1[_0x582110(0x5ed)],_0x4a5ab1=_0x319895[_0x582110(0x5ed)];break;}if(_0x4b3e5e<_0x4a5ab1)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x4b3e5e>_0x4a5ab1)return quizLeaderboardSortOrder===_0x582110(0x516)?0x1:-0x1;return 0x0;});const _0x10d8f5=_0x1cae11['isRemedial']===!![],_0x177a99=_0x1cae11[_0x20c9b3(0x45b)]?.[_0x20c9b3(0x928)]??-0x1;let _0x57eb05='';_0xd7a9a5[_0x20c9b3(0x519)]((_0x5368f9,_0x580461)=>{const _0x1fdc11=_0x20c9b3,_0x5234fb=_0x580461+0x1;let _0x327e8f=_0x1fdc11(0x7f1);if(_0x10d8f5||_0x177a99!==-0x1){let _0x5b31be=_0x10d8f5?_0x5368f9[_0x1fdc11(0x5ed)]===_0x32267c:_0x5368f9['bestScore']>=_0x177a99;const _0x3c0c18=_0x5b31be?'bg-green-100\x20text-green-800':_0x1fdc11(0xac0),_0x333572=_0x5b31be?'ผ่าน':_0x1fdc11(0x712);_0x327e8f=_0x1fdc11(0x459)+_0x3c0c18+'\x22>'+_0x333572+_0x1fdc11(0x54a);}const _0x4397cf=_0x5368f9[_0x1fdc11(0x310)][_0x5368f9[_0x1fdc11(0x310)]['length']-0x1],_0x29c5ff=(_0x4397cf['badges']||[])[_0x1fdc11(0x8ca)](_0x13c807=>{const _0x2ec001=_0x1fdc11,_0x5d7784=Object[_0x2ec001(0x41e)](BADGES)[_0x2ec001(0x301)](_0x3c48db=>_0x3c48db['id']===_0x13c807);return _0x5d7784?_0x2ec001(0xa26)+_0x5d7784[_0x2ec001(0xbc7)]+_0x2ec001(0x988)+_0x5d7784[_0x2ec001(0x365)]+_0x2ec001(0x83a):'';})[_0x1fdc11(0x61f)]('');_0x57eb05+=_0x1fdc11(0x579)+_0x5234fb+_0x1fdc11(0x43b)+_0x5368f9[_0x1fdc11(0xa0b)]+_0x1fdc11(0x89c)+_0x5368f9['bestScore']+_0x1fdc11(0x4bc)+_0x32267c+_0x1fdc11(0x694)+_0x327e8f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x5368f9[_0x1fdc11(0x957)]||0x0)+_0x1fdc11(0x694)+(_0x155e3c?'':_0x1fdc11(0xb51)+(_0x5368f9[_0x1fdc11(0x310)]?.[_0x1fdc11(0x6b0)]||0x1)+_0x1fdc11(0xbac))+_0x1fdc11(0x7b8)+(_0x155e3c?'':_0x1fdc11(0x923)+new Date(_0x5368f9[_0x1fdc11(0xb0d)])[_0x1fdc11(0x273)](_0x1fdc11(0x7d5))+_0x1fdc11(0xbac))+_0x1fdc11(0x3a4)+(_0x29c5ff||'-')+_0x1fdc11(0xbe4);}),_0x147101[_0x20c9b3(0x888)]=_0x57eb05,_0x54fcc5&&!_0x155e3c&&_0x54fcc5[_0x20c9b3(0x4a1)]('thead\x20.sortable-header')[_0x20c9b3(0x519)](_0x5986e6=>{const _0x431ad4=_0x20c9b3,_0x2f4698=_0x5986e6['querySelector'](_0x431ad4(0x57d));if(_0x2f4698)_0x2f4698[_0x431ad4(0x9d0)]();_0x5986e6[_0x431ad4(0x483)][_0x431ad4(0x843)]===quizLeaderboardSortBy&&(_0x5986e6[_0x431ad4(0x888)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x431ad4(0x516)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x4f1300){const _0x3c4fc5=_0x358d67;if(!currentQuizData||!currentQuizData['id']||!_0x4f1300){showMessage(_0x3c4fc5(0x1da));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x4f1300+_0x3c4fc5(0x2ae),async()=>{const _0x448d3c=_0x3c4fc5,_0x4713d8=currentQuizData['id'],_0x294bd7=doc(db,_0x448d3c(0x714)+appId+_0x448d3c(0x667)+_0x4713d8+_0x448d3c(0x2c6),_0x4f1300);try{await deleteDoc(_0x294bd7),showMessage('ลบผลสอบของ\x20'+_0x4f1300+_0x448d3c(0x547));}catch(_0x1dd543){console[_0x448d3c(0x77b)](_0x448d3c(0x806),_0x1dd543),showMessage(_0x448d3c(0x2ce));}});}async function handleLoadQuiz(){const _0x44c1b2=_0x358d67,_0x55de19=document[_0x44c1b2(0x3a8)](_0x44c1b2(0x9ca)),_0x2f866f=_0x55de19[_0x44c1b2(0xac6)][_0x44c1b2(0x7a5)]();if(!_0x2f866f){showMessage(_0x44c1b2(0x784));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x44c1b2(0x888)]=_0x44c1b2(0x3c5);try{const _0x35741c=doc(db,_0x44c1b2(0x714)+appId+_0x44c1b2(0x4b7),_0x2f866f),_0x12643f=await getDoc(_0x35741c);if(!_0x12643f[_0x44c1b2(0x40f)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x12643f['id'],..._0x12643f['data']()};const _0x41c925=currentQuizData[_0x44c1b2(0xa89)]||'active',_0x1392c1=new Date();if(_0x41c925===_0x44c1b2(0x349)){showMessage(_0x44c1b2(0x82c));return;}if(_0x41c925===_0x44c1b2(0x659)){const _0x2603a8=currentQuizData[_0x44c1b2(0x93c)]?new Date(currentQuizData[_0x44c1b2(0x93c)]):null,_0x3163e8=currentQuizData['endTime']?new Date(currentQuizData[_0x44c1b2(0x369)]):null;if(_0x2603a8&&_0x1392c1<_0x2603a8){showMessage(_0x44c1b2(0x517)+_0x2603a8[_0x44c1b2(0x273)](_0x44c1b2(0x7d5),{'hour12':![]}));return;}if(_0x3163e8&&_0x1392c1>_0x3163e8){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x4dde9d=currentQuizData[_0x44c1b2(0x8cb)];currentProjectId=_0x4dde9d;const _0x23aaf4=doc(db,_0x44c1b2(0x714)+appId+_0x44c1b2(0x508),_0x4dde9d),_0x3f9ee4=await getDoc(_0x23aaf4);if(!_0x3f9ee4[_0x44c1b2(0x40f)]()){showMessage(_0x44c1b2(0x96d));return;}const _0x438f2c=_0x3f9ee4[_0x44c1b2(0x49d)]();currentStudentProjectData=_0x438f2c,displayStudentNameSelector(_0x438f2c[_0x44c1b2(0xaf3)],currentQuizData[_0x44c1b2(0x339)]);}catch(_0x2d7551){console[_0x44c1b2(0x77b)](_0x44c1b2(0x255),_0x2d7551),showMessage(_0x44c1b2(0x68b));}finally{loadQuizBtn[_0x44c1b2(0x709)]=![],loadQuizBtn[_0x44c1b2(0x888)]=_0x44c1b2(0x234);}}async function handleJoinLiveGame(){const _0x6f4853=_0x358d67,_0x3f74c9=document['getElementById']('game-pin-input'),_0x4ad025=document[_0x6f4853(0x3a8)](_0x6f4853(0x393)),_0x12425d=document['getElementById'](_0x6f4853(0xc0f)),_0x1fdb08=_0x3f74c9[_0x6f4853(0xac6)][_0x6f4853(0x7a5)](),_0x102918=_0x4ad025[_0x6f4853(0xac6)][_0x6f4853(0x7a5)]();if(!_0x1fdb08||!_0x102918){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x12425d[_0x6f4853(0x709)]=!![],_0x12425d[_0x6f4853(0x888)]=_0x6f4853(0xa78);try{const _0x2c2040=collection(db,_0x6f4853(0x714)+appId+_0x6f4853(0x999)),_0x26c194=query(_0x2c2040,where('gamePin','==',_0x1fdb08),where(_0x6f4853(0xa89),'in',[_0x6f4853(0x270),_0x6f4853(0xaad)])),_0xb14f9c=await getDocs(_0x26c194);if(_0xb14f9c[_0x6f4853(0x4ba)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x347233=_0xb14f9c[_0x6f4853(0x901)][0x0],_0x1ae87f=_0x347233[_0x6f4853(0x49d)]();currentLiveGameId=_0x347233['id'];const _0x39df1e=_0x1ae87f[_0x6f4853(0xb39)],_0x21ac52=doc(db,_0x6f4853(0x714)+appId+_0x6f4853(0x4b7),_0x39df1e),_0x147cd5=await getDoc(_0x21ac52);if(!_0x147cd5['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x147cd5['id'],..._0x147cd5[_0x6f4853(0x49d)]()};if(_0x1ae87f[_0x6f4853(0x266)]&&_0x1ae87f['players'][_0x102918]){const _0x33d5f3=_0x1ae87f[_0x6f4853(0x266)][_0x102918];if(_0x33d5f3[_0x6f4853(0xa89)]===_0x6f4853(0x349)){_0x12425d[_0x6f4853(0x888)]=_0x6f4853(0x420);const _0x46ea87={};_0x46ea87[_0x6f4853(0x1a0)+_0x102918+_0x6f4853(0x883)]='active',await updateDoc(doc(db,_0x6f4853(0x714)+appId+_0x6f4853(0x999),currentLiveGameId),_0x46ea87),showView(_0x6f4853(0x9e1)),currentStudentName=_0x102918,listenForLiveGameUpdates();return;}else{showMessage(_0x6f4853(0x1b6));return;}}if(_0x1ae87f['status']!==_0x6f4853(0x270)){showMessage(_0x6f4853(0x2dc));return;}_0x12425d['innerHTML']=_0x6f4853(0x7ba);const _0x29219c={};_0x29219c[_0x6f4853(0x1a0)+_0x102918]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x6f4853(0x34a)},await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x29219c),currentStudentName=_0x102918,listenForLiveGameUpdates();}catch(_0x2b6bef){console[_0x6f4853(0x77b)](_0x6f4853(0x65a),_0x2b6bef),showMessage(_0x6f4853(0xbf3));}finally{_0x12425d[_0x6f4853(0x709)]=![],_0x12425d[_0x6f4853(0x888)]=_0x6f4853(0x3d0);}}function displayStudentNameSelector(_0x3c912a,_0x10310a){const _0x2359db=_0x358d67,_0x5412dd=document[_0x2359db(0x3a8)]('student-name-select');document[_0x2359db(0x3a8)](_0x2359db(0x4fd))['textContent']=_0x2359db(0x698)+_0x10310a,!_0x3c912a||_0x3c912a['length']===0x0?(_0x5412dd[_0x2359db(0x888)]=_0x2359db(0x246),startQuizBtn[_0x2359db(0x709)]=!![]):(_0x5412dd[_0x2359db(0x888)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x3c912a[_0x2359db(0x519)](_0x40eb87=>{const _0x511006=_0x2359db,_0x54119d=document['createElement'](_0x511006(0x8ea));_0x54119d['value']=_0x40eb87,_0x54119d[_0x511006(0x20d)]=_0x40eb87,_0x5412dd[_0x511006(0x7a8)](_0x54119d);}),startQuizBtn[_0x2359db(0x709)]=![]),studentInitialView[_0x2359db(0x542)][_0x2359db(0x33b)](_0x2359db(0x49a)),studentNameSelectionView[_0x2359db(0x542)][_0x2359db(0x9d0)](_0x2359db(0x49a));}function shuffleArray(_0x5776d0){const _0x4bf23a=_0x358d67;for(let _0xfb6cde=_0x5776d0['length']-0x1;_0xfb6cde>0x0;_0xfb6cde--){const _0xfd1bbc=Math[_0x4bf23a(0x9b2)](Math[_0x4bf23a(0x190)]()*(_0xfb6cde+0x1));[_0x5776d0[_0xfb6cde],_0x5776d0[_0xfd1bbc]]=[_0x5776d0[_0xfd1bbc],_0x5776d0[_0xfb6cde]];}}function getShuffledQuiz(_0x41eb49){const _0x9c0b1a=_0x358d67;let _0x3ff142=JSON['parse'](JSON[_0x9c0b1a(0xa50)](_0x41eb49));const _0x1b48ec=_0x3ff142[_0x9c0b1a(0x45b)]?.['shuffle']||_0x9c0b1a(0x60e);if(_0x1b48ec===_0x9c0b1a(0x60e))return _0x3ff142;return(_0x1b48ec===_0x9c0b1a(0x6ae)||_0x1b48ec==='both')&&shuffleArray(_0x3ff142['questions']),(_0x1b48ec===_0x9c0b1a(0xb43)||_0x1b48ec===_0x9c0b1a(0x9f9))&&_0x3ff142[_0x9c0b1a(0xb4f)][_0x9c0b1a(0x519)](_0x14e12b=>{const _0x5387cb=_0x9c0b1a,_0x47a239=_0x14e12b[_0x5387cb(0x2d0)]||_0x3ff142[_0x5387cb(0x593)];if(_0x14e12b[_0x5387cb(0x994)]){let _0x33508b=_0x14e12b[_0x5387cb(0x994)][_0x5387cb(0x8ca)]((_0x34d1b8,_0x447a12)=>({'text':_0x34d1b8,'isCorrect':_0x447a12===_0x14e12b['correctAnswerIndex']}));shuffleArray(_0x33508b),_0x14e12b[_0x5387cb(0x994)]=_0x33508b['map'](_0x388764=>_0x388764[_0x5387cb(0x6bb)]),_0x14e12b[_0x5387cb(0x468)]=_0x33508b[_0x5387cb(0x433)](_0x3bcebd=>_0x3bcebd[_0x5387cb(0x6c9)]);}_0x47a239===_0x5387cb(0x4b9)&&_0x14e12b[_0x5387cb(0x37b)]&&shuffleArray(_0x14e12b[_0x5387cb(0x37b)]);}),_0x3ff142;}function displayQuizForStudent(_0x2a1db0){const _0x56a067=_0x358d67;studentQuizArea[_0x56a067(0x542)]['remove']('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x2a1db0);currentMode!==_0x56a067(0x5ac)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x56a067(0x4f9)](_0x56a067(0x62a),handleFullscreenChange),document[_0x56a067(0x4f9)](_0x56a067(0x679),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x56a067(0x665),resetDimTimer),window[_0x56a067(0x4f9)](_0x56a067(0x2e6),resetDimTimer),window[_0x56a067(0x4f9)](_0x56a067(0x1e5),resetDimTimer),window[_0x56a067(0x4f9)](_0x56a067(0x66a),resetDimTimer),resetDimTimer());const _0xe0bc95=currentDisplayedQuiz[_0x56a067(0x45b)]?.[_0x56a067(0xba9)]||_0x56a067(0x60e);if(_0xe0bc95==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x56a067(0xb2d)]);else _0xe0bc95===_0x56a067(0xbf2)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x2dc641=_0x358d67,_0x17de93=currentDisplayedQuiz['settings']?.[_0x2dc641(0x2c3)]===!![],_0x3d5b5f=currentDisplayedQuiz[_0x2dc641(0x45b)]?.[_0x2dc641(0x23f)]||_0x2dc641(0x6cf);let _0x581ce1=_0x2dc641(0x728)+currentDisplayedQuiz[_0x2dc641(0x339)]+_0x2dc641(0x98e)+(currentMode===_0x2dc641(0x5ac)?_0x2dc641(0x9b4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x2dc641(0xb4f)][_0x2dc641(0x519)]((_0x4f557d,_0x42888d)=>{const _0x336e19=_0x2dc641,_0xdadd54=_0x4f557d['questionType']||currentDisplayedQuiz['quizType'];_0x581ce1+=_0x336e19(0x22a);if(_0xdadd54===_0x336e19(0x4b9)){}else _0x581ce1+=_0x336e19(0xa1b)+(_0x42888d+0x1)+'.\x20'+(_0x4f557d[_0x336e19(0xb44)]||_0x4f557d['questionText'])+_0x336e19(0x183),_0x4f557d[_0x336e19(0x311)]&&(_0x581ce1+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4f557d['imageCode']+_0x336e19(0x738));_0x581ce1+='</div><div\x20class=\x22space-y-2\x22>';switch(_0xdadd54){case _0x336e19(0xad5):_0x581ce1+=_0x336e19(0x29a)+_0x42888d+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x581ce1+=_0x336e19(0x796)+_0x42888d+_0x336e19(0x83d)+_0x42888d+_0x336e19(0x3e8)+_0x42888d+_0x336e19(0x6b5),_0x581ce1+=_0x336e19(0x796)+_0x42888d+'_opt1\x22\x20name=\x22question'+_0x42888d+_0x336e19(0xb90)+_0x42888d+_0x336e19(0xbdd);break;case _0x336e19(0x4b9):_0x581ce1+=_0x336e19(0x6de)+_0x4f557d[_0x336e19(0x966)]+_0x336e19(0x866)+_0x42888d+_0x336e19(0x3fe)+_0x4f557d[_0x336e19(0x37b)][_0x336e19(0x8ca)](_0x416ca3=>_0x336e19(0xaf5)+_0x416ca3+'\x22>'+_0x416ca3+_0x336e19(0x1f9))['join']('')+_0x336e19(0x51e);break;default:_0x581ce1+=_0x4f557d[_0x336e19(0x994)][_0x336e19(0x8ca)]((_0x53debb,_0x2786d6)=>_0x336e19(0x886)+_0x42888d+'_opt'+_0x2786d6+_0x336e19(0x345)+_0x42888d+_0x336e19(0x321)+_0x2786d6+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x42888d+_0x336e19(0x499)+_0x2786d6+'\x22>'+_0x53debb+_0x336e19(0x583))[_0x336e19(0x61f)]('');break;}_0x581ce1+=_0x336e19(0x738),_0x17de93&&(_0x581ce1+=_0x336e19(0xb8e),_0x3d5b5f===_0x336e19(0xb28)?_0x581ce1+=_0x336e19(0x899)+_0x42888d+_0x336e19(0x8f5)+_0x42888d+_0x336e19(0x997)+_0x42888d+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x42888d+_0x336e19(0x5e8):_0x581ce1+=_0x336e19(0x9d9)+_0x42888d+_0x336e19(0x8f5)+_0x42888d+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x42888d+_0x336e19(0x9d7),_0x581ce1+=_0x336e19(0x738)),_0x581ce1+=_0x336e19(0x738);}),_0x581ce1+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x581ce1+=_0x2dc641(0x6ff),studentQuizArea[_0x2dc641(0x888)]=_0x581ce1;if(currentMode==='admin-testing'){const _0x453810=document['getElementById'](_0x2dc641(0x443));if(_0x453810)_0x453810[_0x2dc641(0x4f9)](_0x2dc641(0x2ea),cancelAdminTest);}const _0x46f4f9=document[_0x2dc641(0x3a8)](_0x2dc641(0xa63));_0x46f4f9&&(_0x46f4f9[_0x2dc641(0x4f9)](_0x2dc641(0x86d),handleSubmitQuiz),_0x46f4f9['addEventListener'](_0x2dc641(0x2ea),_0x2ca7aa=>{const _0xd72609=_0x2dc641;if(_0x2ca7aa[_0xd72609(0x604)]['classList']['contains'](_0xd72609(0x963))){const _0x22cc9d=_0x2ca7aa[_0xd72609(0x604)],_0x12fc48=_0x22cc9d[_0xd72609(0x483)][_0xd72609(0xa53)],_0x316246=_0x22cc9d[_0xd72609(0x483)][_0xd72609(0xac6)];document[_0xd72609(0x3a8)](_0xd72609(0x8cd)+_0x12fc48)[_0xd72609(0xac6)]=_0x316246;const _0x1c71dc=_0x22cc9d[_0xd72609(0xab9)];_0x1c71dc[_0xd72609(0x4a1)]('.confidence-choice-btn')[_0xd72609(0x519)](_0x372e50=>_0x372e50['classList']['remove'](_0xd72609(0x34a))),_0x22cc9d['classList']['add'](_0xd72609(0x34a));}}));if(window[_0x2dc641(0x915)])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x18cfcc){const _0x49746f=_0x358d67;if(_0x18cfcc)_0x18cfcc[_0x49746f(0x5f6)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x23ea56=document[_0x49746f(0x3a8)](_0x49746f(0xa63));if(!_0x23ea56)return;const _0x1147aa=currentDisplayedQuiz[_0x49746f(0x45b)]?.[_0x49746f(0x2c3)]===!![],_0x418b54=currentDisplayedQuiz[_0x49746f(0x45b)]?.['confidenceMode']||_0x49746f(0x6cf);if(_0x1147aa&&_0x418b54==='mandatory'){let _0x118129=!![];for(let _0x6115f9=0x0;_0x6115f9<currentDisplayedQuiz[_0x49746f(0xb4f)][_0x49746f(0x6b0)];_0x6115f9++){const _0x1e6768=_0x23ea56[_0x49746f(0x3a0)](_0x49746f(0xb33)+_0x6115f9);if(!_0x1e6768||_0x1e6768[_0x49746f(0xac6)]===''){_0x118129=![];break;}}if(!_0x118129){showMessage(_0x49746f(0x225));return;}}const _0x41ae04=_0x23ea56[_0x49746f(0x3a0)](_0x49746f(0x973)),_0x7f87d7=currentDisplayedQuiz['questions'][_0x49746f(0x578)](_0x1eae40=>_0x1eae40['questionType']===_0x49746f(0xad5));_0x41ae04&&(_0x41ae04[_0x49746f(0x709)]=!![],_0x41ae04['innerHTML']=_0x7f87d7?_0x49746f(0x786):_0x49746f(0x71a));const _0x43de3b=new FormData(_0x23ea56),_0x3fe24c=currentDisplayedQuiz[_0x49746f(0xb4f)][_0x49746f(0x8ca)]((_0x38ea65,_0x38fe12)=>{const _0x2d699d=_0x49746f,_0x888b01=_0x43de3b[_0x2d699d(0x2ac)]('question'+_0x38fe12);let _0xd4fbf;_0x418b54===_0x2d699d(0xb28)?_0xd4fbf=_0x43de3b[_0x2d699d(0x2ac)](_0x2d699d(0x691)+_0x38fe12):_0xd4fbf=_0x43de3b['get'](_0x2d699d(0x691)+_0x38fe12)==='on';let _0x18d85b=null;if(_0x888b01!==null&&_0x888b01!==undefined){const _0x1030ce=_0x38ea65['questionType']||currentDisplayedQuiz[_0x2d699d(0x593)];_0x1030ce==='multiple_choice'||_0x1030ce===_0x2d699d(0x818)?_0x18d85b=parseInt(_0x888b01):_0x18d85b=_0x888b01;}return{'answer':_0x18d85b,'wasConfident':_0xd4fbf};}),_0x4679e7=currentQuizData['id'],_0x1ef4dc=doc(db,_0x49746f(0x714)+appId+_0x49746f(0x667)+_0x4679e7+_0x49746f(0x2c6),currentStudentName),_0x19e995=await getDoc(_0x1ef4dc),_0x587f3a=_0x19e995['exists']()?_0x19e995[_0x49746f(0x49d)]():{},_0x23b63d=_0x587f3a[_0x49746f(0x310)]||[];await processAndSubmitAnswers(_0x3fe24c,_0x23b63d);}async function gradeShortAnswerWithAI(_0x37297a,_0x34f639){const _0x2aec93=_0x358d67;if(!_0x37297a||!_0x34f639)return![];try{const _0x31fdd2=_0x2aec93(0x6f2)+_0x37297a+_0x2aec93(0x39c)+_0x34f639+_0x2aec93(0x4d5),_0x39912b={'contents':[{'role':'user','parts':[{'text':_0x31fdd2}]}]},_0x3edf7e=_0x2aec93(0x4a9),_0x19efd1=_0x2aec93(0x242)+_0x3edf7e,_0x214682=await fetch(_0x19efd1,{'method':'POST','headers':{'Content-Type':_0x2aec93(0xb25)},'body':JSON['stringify'](_0x39912b)});if(!_0x214682['ok'])throw new Error(_0x2aec93(0x979));const _0x4d49e8=await _0x214682['json'](),_0x18698d=_0x4d49e8[_0x2aec93(0x4ce)][0x0][_0x2aec93(0x48e)][_0x2aec93(0x971)][0x0]['text'][_0x2aec93(0x7a5)]()['toLowerCase']();return _0x18698d===_0x2aec93(0x354);}catch(_0x30d9a5){return console['error']('AI\x20grading\x20failed:',_0x30d9a5),![];}}async function processAndSubmitAnswers(_0x6e9b10,_0x4e5fda){const _0x182831=_0x358d67;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x182831(0x6ba)](_0x182831(0x62a),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange);let _0x8e6f5e=0x0;const _0x3450f0=[],_0x435e9f=currentDisplayedQuiz[_0x182831(0xb4f)][_0x182831(0x6b0)];let _0x3f00d3=0x0,_0x4c838e=[];const _0xb6baea=currentDisplayedQuiz['questions'];for(let _0xbc5518=0x0;_0xbc5518<_0xb6baea['length'];_0xbc5518++){const _0x103326=_0xb6baea[_0xbc5518],_0x34e547=_0x6e9b10[_0xbc5518],_0xf4fcd7=_0x34e547?_0x34e547[_0x182831(0x50f)]:null,_0x46a88c=_0x34e547?_0x34e547[_0x182831(0xb7e)]:null;let _0x3f7ee2=![],_0x1974d3=0x0;if(_0xf4fcd7!==null&&_0xf4fcd7!==''){const _0x53fdbe=_0x103326['questionType']||currentDisplayedQuiz[_0x182831(0x593)];switch(_0x53fdbe){case _0x182831(0x4b9):_0x3f7ee2=_0xf4fcd7===_0x103326[_0x182831(0x44f)];break;case _0x182831(0x5b9):const _0x3ab85c=_0xf4fcd7===!![]||_0xf4fcd7===_0x182831(0x354);_0x3f7ee2=_0x3ab85c===_0x103326[_0x182831(0x5a0)];break;case _0x182831(0xad5):_0x3f7ee2=await gradeShortAnswer(_0xf4fcd7,_0x103326);break;case _0x182831(0x302):default:_0x3f7ee2=Number(_0xf4fcd7)===_0x103326[_0x182831(0x468)];break;}}if(currentDisplayedQuiz[_0x182831(0x45b)]?.['isConfidenceScoringEnabled']){const _0x11cbb6=_0x34e547?_0x34e547[_0x182831(0xb7e)]:null;if(_0x3f7ee2&&(_0x11cbb6===!![]||_0x11cbb6==='confident'))_0x1974d3=0x2;else{if(_0x3f7ee2)_0x1974d3=0x1;else{if(!_0x3f7ee2&&(_0x11cbb6===![]||_0x11cbb6===_0x182831(0x3f3)||_0x11cbb6===null))_0x1974d3=0x0;else!_0x3f7ee2&&(_0x11cbb6===!![]||_0x11cbb6==='confident')&&(_0x1974d3=-0x1);}}}else _0x1974d3=_0x3f7ee2?0x1:0x0;_0x8e6f5e+=_0x1974d3;if(_0x3f7ee2){_0x3f00d3++;if(_0x3f00d3===0x3)_0x4c838e[_0x182831(0x78d)](BADGES[_0x182831(0xa83)]['id']);}else _0x3f00d3=0x0;let _0x2f33a4=null;_0x103326['options']&&_0xf4fcd7!==null&&(_0x2f33a4=_0x103326['options'][_0xf4fcd7]),_0x3450f0['push']({'questionId':_0x103326['id'],'answer':_0xf4fcd7,'answerText':_0x2f33a4,'isCorrect':_0x3f7ee2,'wasConfident':_0x46a88c,'pointsAwarded':_0x1974d3,'originalQuestionText':_0x103326[_0x182831(0x966)]||_0x103326[_0x182831(0xa23)]});}const _0x48b5fa=_0x3450f0[_0x182831(0x47c)](_0x19d367=>_0x19d367[_0x182831(0x6c9)])[_0x182831(0x6b0)],_0xaab5fa=currentDisplayedQuiz['settings']?.[_0x182831(0x928)]??Math[_0x182831(0x9b2)](_0x435e9f/0x2);_0x48b5fa===_0x435e9f&&_0x435e9f>0x0&&!currentDisplayedQuiz[_0x182831(0x5a6)]&&_0x4c838e['push'](BADGES[_0x182831(0xabd)]['id']);const _0x30bde6=currentDisplayedQuiz[_0x182831(0x45b)]?.[_0x182831(0xba9)];if(_0x30bde6==='whole_quiz'&&quizStartTime){const _0x3da3ad=(new Date()-quizStartTime)/0x3e8,_0x44dec6=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x48b5fa>=_0xaab5fa&&_0x3da3ad<_0x44dec6/0x2&&_0x4c838e[_0x182831(0x78d)](BADGES[_0x182831(0x4c6)]['id']);}_0x4e5fda['length']===0x0&&_0x48b5fa===_0x435e9f&&_0x435e9f>0x0&&_0x4c838e[_0x182831(0x78d)](BADGES['FIRST_TRY_ACE']['id']);if(_0x4e5fda[_0x182831(0x6b0)]>0x0){const _0xbf642c=_0x4e5fda[0x0][_0x182831(0xb0c)];if(_0xbf642c<_0xaab5fa&&_0x48b5fa>=_0xaab5fa){const _0xe92e6=_0x4e5fda['some'](_0x1c02c4=>(_0x1c02c4[_0x182831(0x9d8)]||[])[_0x182831(0xbba)](BADGES[_0x182831(0x739)]['id']));!_0xe92e6&&_0x4c838e['push'](BADGES[_0x182831(0x739)]['id']);}}_0x4e5fda['length']===0x4&&_0x4c838e[_0x182831(0x78d)](BADGES[_0x182831(0x881)]['id']);const _0x5b6267=currentDisplayedQuiz[_0x182831(0x45b)][_0x182831(0x6a0)];if(currentMode===_0x182831(0x5ac)){handleResultDisplay(_0x5b6267,_0x48b5fa,_0x8e6f5e,_0x4c838e,_0x3450f0,_0x435e9f);return;}const _0x89291e=currentQuizData['id'],_0x414bbb=doc(db,_0x182831(0x714)+appId+_0x182831(0x667)+_0x89291e+_0x182831(0x2c6),currentStudentName);try{const _0x53edea=[..._0x4e5fda],_0xe40b1b={'score':_0x48b5fa,'points':_0x8e6f5e,'badges':Array['from'](new Set(_0x4c838e)),'submittedAt':new Date()[_0x182831(0x473)](),'answers':_0x3450f0};_0x53edea['push'](_0xe40b1b);const _0xd71f04=_0x4e5fda[_0x182831(0x6b0)]===0x0?_0x48b5fa:_0x4e5fda[0x0][_0x182831(0xb0c)]||0x0,_0x2e6469=Math[_0x182831(0x21a)](..._0x53edea['map'](_0x7cfd8a=>_0x7cfd8a[_0x182831(0xb0c)]));await setDoc(_0x414bbb,{'studentName':currentStudentName,'totalQuestions':_0x435e9f,'attempts':_0x53edea,'firstScore':_0xd71f04,'bestScore':_0x2e6469,'latestScore':_0x48b5fa,'points':_0x8e6f5e,'latestSubmittedAt':_0xe40b1b[_0x182831(0x470)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x5b6267,_0x48b5fa,_0x8e6f5e,_0x4c838e,_0x3450f0,_0x435e9f);}catch(_0x49a398){console[_0x182831(0x77b)](_0x182831(0x702),_0x49a398),showMessage(_0x182831(0x7aa));}}async function updateStudentProfile(_0xeff5d0,_0x29cb41){const _0x396222=_0x358d67,_0x57fd39=doc(db,'artifacts/'+appId+_0x396222(0xb0e)+_0xeff5d0+_0x396222(0xbd4),_0x29cb41);try{const _0x3d22d9=query(collection(db,'artifacts/'+appId+_0x396222(0x4b7)),where(_0x396222(0x8cb),'==',_0xeff5d0)),_0x1b79e7=await getDocs(_0x3d22d9),_0x12dbad=new Map(_0x1b79e7[_0x396222(0x901)][_0x396222(0x8ca)](_0xfac71a=>[_0xfac71a['id'],_0xfac71a[_0x396222(0x49d)]()])),_0x414ccf=Array[_0x396222(0x367)](_0x12dbad['keys']());await runTransaction(db,async _0x18a825=>{const _0x2fec8f=_0x396222;let _0x2b8287=0x0;const _0x2965a7={};let _0x7d123a=!![],_0x1bf2f7=0x0,_0x1dbea8=0x0;for(const _0x59b99f of _0x414ccf){const _0x2c547c=_0x12dbad['get'](_0x59b99f),_0xb9abf3=doc(db,_0x2fec8f(0x714)+appId+_0x2fec8f(0x667)+_0x59b99f+_0x2fec8f(0x2c6),_0x29cb41),_0x204cfd=await _0x18a825['get'](_0xb9abf3);if(_0x204cfd['exists']()){const _0x3a71ad=_0x204cfd[_0x2fec8f(0x49d)](),_0x5e2e11=_0x3a71ad[_0x2fec8f(0x310)]||[];if(_0x5e2e11[_0x2fec8f(0x6b0)]>0x0){const _0x4aa8d6=_0x5e2e11['reduce']((_0x4987e2,_0xbfa328)=>{const _0x2d1e60=_0x2fec8f;if(_0xbfa328[_0x2d1e60(0xb0c)]>_0x4987e2[_0x2d1e60(0xb0c)])return _0xbfa328;if(_0xbfa328[_0x2d1e60(0xb0c)]===_0x4987e2[_0x2d1e60(0xb0c)])return(_0xbfa328[_0x2d1e60(0x957)]||0x0)>(_0x4987e2['points']||0x0)?_0xbfa328:_0x4987e2;return _0x4987e2;},{'score':-0x1,'points':-0x1});_0x4aa8d6[_0x2fec8f(0xb0c)]>-0x1&&(_0x2b8287+=_0x4aa8d6[_0x2fec8f(0x957)]||0x0,(_0x4aa8d6[_0x2fec8f(0x9d8)]||[])[_0x2fec8f(0x519)](_0x1d0add=>{_0x2965a7[_0x1d0add]=(_0x2965a7[_0x1d0add]||0x0)+0x1;}));}}if(_0x2c547c['topic']!==_0x2fec8f(0xb1d)){_0x1dbea8++;if(_0x204cfd[_0x2fec8f(0x40f)]()){_0x1bf2f7++;const _0x4a95f4=_0x204cfd[_0x2fec8f(0x49d)]();_0x4a95f4[_0x2fec8f(0x5ed)]!==_0x4a95f4[_0x2fec8f(0x7c8)]&&(_0x7d123a=![]);}else _0x7d123a=![];}}_0x1dbea8>0x0&&_0x1bf2f7===_0x1dbea8&&_0x7d123a?_0x2965a7[_0x2fec8f(0x4fc)]=0x1:_0x2965a7[_0x2fec8f(0x4fc)]=0x0,_0x18a825[_0x2fec8f(0x2a1)](_0x57fd39,{'studentName':_0x29cb41,'totalPoints':_0x2b8287,'unlockedBadges':Object[_0x2fec8f(0x57a)](_0x2965a7)['filter'](_0x54ac5f=>_0x2965a7[_0x54ac5f]>0x0),'badgesCount':_0x2965a7},{'merge':!![]});});}catch(_0x4a4272){console[_0x396222(0x77b)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x4a4272),showMessage(_0x396222(0x609));}}function startAdminTest(){const _0x17fa59=_0x358d67;if(!currentQuizData){showMessage(_0x17fa59(0x716));return;}let _0x47fb7b=JSON[_0x17fa59(0x91c)](JSON[_0x17fa59(0xa50)](currentQuizData));currentMode=_0x17fa59(0x5ac),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x17fa59(0x542)][_0x17fa59(0x33b)](_0x17fa59(0x49a)),studentView[_0x17fa59(0x542)]['remove'](_0x17fa59(0x49a)),studentInitialView['classList'][_0x17fa59(0x33b)](_0x17fa59(0x49a)),studentNameSelectionView['classList'][_0x17fa59(0x33b)]('hidden'),studentResultArea[_0x17fa59(0x542)][_0x17fa59(0x33b)](_0x17fa59(0x49a)),studentQuizArea['classList']['remove'](_0x17fa59(0x49a)),quizStartTime=new Date(),displayQuizForStudent(_0x47fb7b);}function handleResultDisplay(_0x95d618,_0x19cec9,_0x5c2718,_0x132d6e,_0x2ea6d1,_0x3033cd){const _0x448d13=_0x358d67;if(_0x95d618===_0x448d13(0x3f0)){displaySubmissionConfirmation();return;}const _0x5cf3bb=currentDisplayedQuiz['settings']?.[_0x448d13(0x928)]??Math['floor'](_0x3033cd/0x2),_0x4b70ce=currentDisplayedQuiz['settings']?.[_0x448d13(0x2f0)]??![],_0x580e50=currentDisplayedQuiz[_0x448d13(0x45b)]?.[_0x448d13(0x9db)]===!![],_0x170a19=_0x19cec9<_0x5cf3bb,_0xd5a180=_0x95d618===_0x448d13(0x9d5)||_0x95d618===_0x448d13(0x657);if(_0x580e50&&_0x170a19&&!_0xd5a180){_0x95d618===_0x448d13(0x705)?displayResultsWithAnswers(_0x19cec9,_0x5c2718,_0x132d6e,_0x2ea6d1,_0x3033cd,!![]):displayLoopScreen(_0x19cec9,_0x3033cd,_0x95d618);return;}if(_0x4b70ce&&_0x170a19){startAdaptiveFlow(_0x2ea6d1,_0x19cec9,_0x3033cd);return;}switch(_0x95d618){case _0x448d13(0x705):displayResultsWithAnswers(_0x19cec9,_0x5c2718,_0x132d6e,_0x2ea6d1,_0x3033cd);break;case'show_results_only':displayResultsScoreOnly(_0x19cec9,_0x5c2718,_0x132d6e,_0x3033cd);break;case'show_pass_fail_only':displayPassFailOnly(_0x19cec9,_0x3033cd);break;case _0x448d13(0x9d5):displayHalfMarkResult(_0x19cec9,_0x3033cd);break;case _0x448d13(0x657):displayPerfectScoreResult(_0x19cec9,_0x3033cd);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x216528){const _0x348d63=_0x358d67;studentReadingArea[_0x348d63(0x888)]=_0x348d63(0x24d);const _0x514cc5=_0x348d63(0x2c5)+_0x216528+_0x348d63(0x9df)+simpleMathPrompt+_0x348d63(0x49f),_0x527643={'type':_0x348d63(0x182),'properties':{'questionText':{'type':_0x348d63(0x534)},'options':{'type':_0x348d63(0x632),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x348d63(0x534)}},'required':[_0x348d63(0xa23),_0x348d63(0x994),'correctAnswerIndex','explanation']},_0x4f7710={'type':'OBJECT','properties':{'topic':{'type':_0x348d63(0x534)},'questions':{'type':_0x348d63(0x632),'items':_0x527643}},'required':[_0x348d63(0x339),_0x348d63(0xb4f)]};try{const _0x11f6df=await callAnalysisApi(_0x514cc5,_0x4f7710);_0x11f6df['isRemedial']=!![],studentReadingArea['classList'][_0x348d63(0x33b)](_0x348d63(0x49a));const _0xef6bf9={...currentDisplayedQuiz[_0x348d63(0x45b)],'isAdaptive':![],'resultsDisplay':_0x348d63(0x705)};_0x11f6df[_0x348d63(0x45b)]=_0xef6bf9,displayQuizForStudent(_0x11f6df);}catch(_0x57ea31){console[_0x348d63(0x77b)](_0x348d63(0x7e2),_0x57ea31),showMessage(_0x348d63(0x9d4)),showView('student');}}function displayPassFailOnly(_0x3b1825,_0x6fe7fd){const _0x5e00c6=_0x358d67,_0x103fd8=currentDisplayedQuiz[_0x5e00c6(0x45b)]?.[_0x5e00c6(0x928)]??-0x1,_0xe4b2fb=currentDisplayedQuiz[_0x5e00c6(0x5a6)]===!![];let _0x47df63='',_0x490fb5=![];if(_0xe4b2fb||_0x103fd8!==-0x1){_0x490fb5=_0xe4b2fb?_0x3b1825===_0x6fe7fd:_0x3b1825>=_0x103fd8;const _0x522940=_0x490fb5?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x252b1a=_0x490fb5?_0x5e00c6(0xb91):_0x5e00c6(0x712);_0x47df63='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x522940+'\x22>'+_0x252b1a+_0x5e00c6(0x538);}else _0x47df63='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x1179a3=_0x5e00c6(0x793)+currentStudentName+_0x5e00c6(0x3d7)+_0x47df63+_0x5e00c6(0x70b);studentResultArea[_0x5e00c6(0x888)]=_0x1179a3,studentResultArea[_0x5e00c6(0x542)][_0x5e00c6(0x9d0)](_0x5e00c6(0x49a)),studentQuizArea[_0x5e00c6(0x542)][_0x5e00c6(0x33b)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x490fb5});}function cancelAdminTest(){const _0x55258b=_0x358d67;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x55258b(0x6ba)]('fullscreenchange',handleFullscreenChange),document[_0x55258b(0x6ba)]('visibilitychange',handleVisibilityChange),currentMode=_0x55258b(0x389),studentView[_0x55258b(0x542)][_0x55258b(0x33b)](_0x55258b(0x49a)),adminView[_0x55258b(0x542)]['remove']('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x55258b(0x256));}function setupResultScreenBackButton(_0x24d7cf){const _0x47911c=_0x358d67,_0x3e34da={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x24d7cf};if(_0x3e34da[_0x47911c(0x618)]){const _0x14359c=_0x47911c(0x7bf);studentResultArea[_0x47911c(0x363)](_0x47911c(0x3ce),_0x14359c),document[_0x47911c(0x3a8)](_0x47911c(0x252))[_0x47911c(0x4f9)]('click',()=>{const _0x36ce29=_0x47911c;studentResultArea[_0x36ce29(0x542)]['add'](_0x36ce29(0x49a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x231da7='back-from-results-btn',_0x520b21=currentMode==='admin-testing',_0x459e27=_0x520b21?_0x47911c(0x64f):_0x47911c(0x9fe);let _0x63287a='';_0x3e34da[_0x47911c(0x1ae)]&&(_0x63287a+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x31595c=_0x3e34da[_0x47911c(0x8f6)];_0x31595c===undefined&&(_0x31595c=_0x3e34da[_0x47911c(0xb0c)]<_0x3e34da['totalQuestions']);_0x31595c&&(_0x63287a+=_0x47911c(0x79d));_0x63287a+='<button\x20id=\x22'+_0x231da7+_0x47911c(0x31e)+_0x459e27+_0x47911c(0x851);const _0x42b3b9=_0x47911c(0x2e3)+_0x63287a+_0x47911c(0x738);studentResultArea['insertAdjacentHTML']('beforeend',_0x42b3b9),studentResultArea['querySelector'](_0x47911c(0xa9f))?.[_0x47911c(0x4f9)](_0x47911c(0x2ea),handleShowStudentRankings);const _0x19f852=studentResultArea[_0x47911c(0x3a0)](_0x47911c(0x87e));_0x19f852&&_0x19f852['addEventListener'](_0x47911c(0x2ea),()=>{const _0x5d51f0=_0x47911c;studentResultArea[_0x5d51f0(0x542)][_0x5d51f0(0x33b)](_0x5d51f0(0x49a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x47911c(0x3a8)](_0x231da7)[_0x47911c(0x4f9)](_0x47911c(0x2ea),()=>{const _0x433fe3=_0x47911c;_0x520b21?(currentMode=_0x433fe3(0x389),studentView['classList'][_0x433fe3(0x33b)](_0x433fe3(0x49a)),adminView[_0x433fe3(0x542)]['remove']('hidden'),showView(_0x433fe3(0x256))):(showView(_0x433fe3(0x6ce)),document[_0x433fe3(0x3a8)](_0x433fe3(0x9ca))[_0x433fe3(0xac6)]='');});}function displayResultsWithAnswers(_0x15c6c6,_0x28b3cd,_0x4b582d,_0x3fa651,_0x21e1cc,_0x4dea4e=![]){const _0x5c73aa=_0x358d67,_0x36c3fe=_0x21e1cc>0x0?_0x15c6c6/_0x21e1cc*0x64:0x0,_0x506b81=currentDisplayedQuiz['settings']?.[_0x5c73aa(0x928)]??-0x1,_0x140b52=currentDisplayedQuiz[_0x5c73aa(0x5a6)]===!![];let _0x157e77='';if(_0x140b52||_0x506b81!==-0x1){let _0x590596=_0x140b52?_0x15c6c6===_0x21e1cc:_0x15c6c6>=_0x506b81;const _0x5ead09=_0x590596?_0x5c73aa(0x6a1):'bg-red-100\x20text-red-800',_0x8367ca=_0x590596?_0x5c73aa(0xb91):_0x5c73aa(0x712);_0x157e77=_0x5c73aa(0x745)+_0x5ead09+'\x22>'+_0x8367ca+_0x5c73aa(0x183);}let _0x5310bd=_0x5c73aa(0xb7f)+currentStudentName+_0x5c73aa(0x8ec)+_0x15c6c6+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x21e1cc+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x157e77+_0x5c73aa(0x817)+_0x28b3cd+_0x5c73aa(0x6ef)+_0x36c3fe[_0x5c73aa(0xbc3)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions']['forEach']((_0x5cca33,_0x2f3cc0)=>{const _0x4c21cb=_0x5c73aa,_0x12c438=_0x3fa651[_0x2f3cc0],_0xd04375=_0x12c438[_0x4c21cb(0x50f)],_0xac0dcc=_0x12c438[_0x4c21cb(0x6c9)],_0xd8b310=_0x5cca33[_0x4c21cb(0x2d0)]||currentDisplayedQuiz[_0x4c21cb(0x593)];_0x5310bd+=_0x4c21cb(0x84b)+(_0xac0dcc?_0x4c21cb(0x947):_0x4c21cb(0x83c))+_0x4c21cb(0x7e7)+(_0x2f3cc0+0x1)+'.\x20'+(_0x5cca33[_0x4c21cb(0x966)]||_0x5cca33[_0x4c21cb(0xa23)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0xd8b310){case _0x4c21cb(0x4b9):const _0x1bbebc=_0xd04375||'ไม่ได้ตอบ',_0x77912d=_0x5cca33[_0x4c21cb(0x44f)];_0x5310bd+=_0x4c21cb(0x6fd)+(!_0xac0dcc?_0x4c21cb(0xbf6):'')+'\x22>'+_0x1bbebc+_0x4c21cb(0x676);!_0xac0dcc&&(_0x5310bd+=_0x4c21cb(0x32b)+_0x77912d+_0x4c21cb(0x183));break;case'short_answer':_0x5310bd+=_0x4c21cb(0x324)+(_0xd04375||'ไม่ได้ตอบ')+_0x4c21cb(0x183),_0x5310bd+=_0x4c21cb(0x9f1)+_0x5cca33[_0x4c21cb(0xbd9)]+'</p>';break;case _0x4c21cb(0x5b9):_0x5310bd+=_0x4c21cb(0x61d)+(_0x5cca33[_0x4c21cb(0x5a0)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0xd04375==='true'&&!_0xac0dcc?_0x4c21cb(0xbf6):'')+_0x4c21cb(0x208),_0x5310bd+=_0x4c21cb(0x61d)+(_0x5cca33['correctAnswer']===![]?_0x4c21cb(0xb0f):'')+'\x20'+(_0xd04375===_0x4c21cb(0x9bc)&&!_0xac0dcc?'line-through\x20text-red-700':'')+_0x4c21cb(0x65b);break;default:_0x5310bd+=_0x5cca33[_0x4c21cb(0x994)]['map']((_0x3f019b,_0x651e70)=>{const _0x5381e2=_0x4c21cb;let _0xf7662b='',_0x4c8913='';if(_0x651e70===_0x5cca33[_0x5381e2(0x468)])_0xf7662b=_0x5381e2(0xb0f),_0x4c8913=_0x5381e2(0xaa7);else _0x651e70===_0xd04375&&(_0xf7662b='font-bold\x20text-red-700\x20line-through',_0x4c8913=_0x5381e2(0x2ff));return'<div\x20class=\x22'+_0xf7662b+'\x22>'+_0x4c8913+_0x3f019b+_0x5381e2(0x738);})[_0x4c21cb(0x61f)]('');break;}_0x5310bd+=_0x4c21cb(0x815)+(_0x5cca33[_0x4c21cb(0x960)]||'ไม่มีคำอธิบาย')+_0x4c21cb(0x738);if(!_0xac0dcc){const _0x4a92ac=_0x5cca33[_0x4c21cb(0x966)]||_0x5cca33['questionText'];_0x5310bd+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x4a92ac)+_0x4c21cb(0x74b);}_0x5310bd+=_0x4c21cb(0x738);}),studentResultArea['innerHTML']=_0x5310bd,renderEarnedBadges(_0x4b582d,_0x5c73aa(0xb48)),studentResultArea[_0x5c73aa(0x542)]['remove'](_0x5c73aa(0x49a)),studentQuizArea[_0x5c73aa(0x542)]['add'](_0x5c73aa(0x49a)),setupResultScreenBackButton({'isLooping':_0x4dea4e,'score':_0x15c6c6,'totalQuestions':_0x21e1cc,'showRankings':!![]});if(window['MathJax'])window[_0x5c73aa(0x915)][_0x5c73aa(0x7cf)]([studentResultArea]);}function displayResultsScoreOnly(_0x51b03c,_0x5acfe6,_0xab281b,_0x355f13){const _0x1f4480=_0x358d67,_0xc4ad60=_0x355f13>0x0?_0x51b03c/_0x355f13*0x64:0x0,_0x591bb6=currentDisplayedQuiz['settings']?.[_0x1f4480(0x928)]??-0x1,_0x20c831=currentDisplayedQuiz[_0x1f4480(0x5a6)]===!![];let _0x53abcb='';if(_0x20c831||_0x591bb6!==-0x1){let _0x5cfbc8=_0x20c831?_0x51b03c===_0x355f13:_0x51b03c>=_0x591bb6;const _0x319715=_0x5cfbc8?_0x1f4480(0x6a1):'bg-red-100\x20text-red-800',_0x2b99f3=_0x5cfbc8?_0x1f4480(0xb91):_0x1f4480(0x712);_0x53abcb=_0x1f4480(0x745)+_0x319715+'\x22>'+_0x2b99f3+'</p>';}let _0x13c022=_0x1f4480(0x793)+currentStudentName+_0x1f4480(0x909)+_0x51b03c+_0x1f4480(0x209)+_0x355f13+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53abcb+_0x1f4480(0x817)+_0x5acfe6+_0x1f4480(0x90b)+_0xc4ad60[_0x1f4480(0xbc3)](0x0)+_0x1f4480(0x52e);studentResultArea[_0x1f4480(0x888)]=_0x13c022,renderEarnedBadges(_0xab281b,_0x1f4480(0xb48)),studentResultArea[_0x1f4480(0x542)][_0x1f4480(0x9d0)](_0x1f4480(0x49a)),studentQuizArea[_0x1f4480(0x542)][_0x1f4480(0x33b)](_0x1f4480(0x49a)),setupResultScreenBackButton({'score':_0x51b03c,'totalQuestions':_0x355f13,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x49dbb3=_0x358d67;let _0x39717f=_0x49dbb3(0xa28)+currentStudentName+_0x49dbb3(0x293);studentResultArea[_0x49dbb3(0x888)]=_0x39717f,studentResultArea['classList'][_0x49dbb3(0x9d0)](_0x49dbb3(0x49a)),studentQuizArea[_0x49dbb3(0x542)][_0x49dbb3(0x33b)](_0x49dbb3(0x49a)),document[_0x49dbb3(0x3a8)](_0x49dbb3(0x328))[_0x49dbb3(0x4f9)](_0x49dbb3(0x2ea),()=>{const _0x4b945d=_0x49dbb3;showView(_0x4b945d(0x6ce)),document[_0x4b945d(0x3a8)](_0x4b945d(0x9ca))[_0x4b945d(0xac6)]='';});}function renderEarnedBadges(_0x3383c6,_0x8f8ebf){const _0x81875a=_0x358d67,_0x2ca798=document[_0x81875a(0x3a8)](_0x8f8ebf);if(!_0x2ca798||!_0x3383c6||_0x3383c6[_0x81875a(0x6b0)]===0x0)return;let _0x1b89f1='';_0x3383c6[_0x81875a(0x519)]((_0x3e86b4,_0x4a3016)=>{const _0x227b14=_0x81875a,_0x56f0d6=Object[_0x227b14(0x41e)](BADGES)[_0x227b14(0x301)](_0x186a62=>_0x186a62['id']===_0x3e86b4);_0x56f0d6&&(_0x1b89f1+=_0x227b14(0x4e3)+_0x4a3016*0.2+_0x227b14(0xa2d)+_0x56f0d6[_0x227b14(0x2ad)]+_0x227b14(0xb92)+_0x56f0d6[_0x227b14(0x365)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x56f0d6[_0x227b14(0xbc7)]+_0x227b14(0x8b9));}),_0x2ca798['innerHTML']=_0x1b89f1;}function startPresentation(_0x27e3bd){const _0x339eef=_0x358d67;currentQuizData=getShuffledQuiz(_0x27e3bd),currentPresentationSlide=0x0,presentationModal[_0x339eef(0x43c)][_0x339eef(0x2cb)]=_0x339eef(0x67b),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x512f6c=_0x358d67;document[_0x512f6c(0x6af)]&&document[_0x512f6c(0x452)](),presentationModal['style'][_0x512f6c(0x2cb)]=_0x512f6c(0x60e);}function renderPresentationSlide(_0xaf4f64){const _0x10ef71=_0x358d67,_0x52c806=document['getElementById'](_0x10ef71(0x8d0));if(!currentQuizData||!currentQuizData[_0x10ef71(0xb4f)]||!currentQuizData[_0x10ef71(0xb4f)][_0xaf4f64]){_0x52c806[_0x10ef71(0x888)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x3e1744=currentQuizData[_0x10ef71(0xb4f)][_0xaf4f64],_0x496c59=_0x3e1744[_0x10ef71(0x2d0)]||currentQuizData[_0x10ef71(0x593)];_0x52c806[_0x10ef71(0x888)]='';let _0x255d78=_0x10ef71(0x19a)+(_0x3e1744[_0x10ef71(0x311)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3e1744[_0x10ef71(0x311)]+_0x10ef71(0x738):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0xaf4f64+0x1)+'.\x20'+(_0x3e1744[_0x10ef71(0x966)]||_0x3e1744[_0x10ef71(0xa23)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x496c59){case _0x10ef71(0x4b9):_0x255d78+=_0x3e1744['allResponses']['map'](_0x6688f0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6688f0+_0x10ef71(0x743))[_0x10ef71(0x61f)]('');break;case _0x10ef71(0x5b9):_0x255d78+=_0x10ef71(0x559),_0x255d78+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x10ef71(0x845):case _0x10ef71(0xad5):_0x255d78+=_0x10ef71(0xbed);break;case _0x10ef71(0x818):case _0x10ef71(0x302):default:_0x255d78+=_0x3e1744['options'][_0x10ef71(0x8ca)]((_0x3d8ef3,_0x1e8bbc)=>_0x10ef71(0xa04)+_0x1e8bbc+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d8ef3+_0x10ef71(0x743))[_0x10ef71(0x61f)]('');break;}_0x255d78+=_0x10ef71(0xbc0)+(_0x3e1744['explanation']||_0x10ef71(0x26a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x52c806['innerHTML']=_0x255d78;if(window[_0x10ef71(0x915)])window[_0x10ef71(0x915)]['typesetPromise']([_0x52c806]);let _0xc5f44a=[];switch(_0x496c59){case _0x10ef71(0x4b9):_0xc5f44a=_0x3e1744[_0x10ef71(0x37b)]||[];break;case _0x10ef71(0x5b9):_0xc5f44a=[_0x10ef71(0x697),_0x10ef71(0xa14)];break;default:_0xc5f44a=_0x3e1744[_0x10ef71(0x994)]||[];break;}const _0x40241e=document['getElementById'](_0x10ef71(0x50b));_0x40241e&&(_0x40241e[_0x10ef71(0x84c)]=()=>{openScratchpad(_0x3e1744,_0xc5f44a);});document[_0x10ef71(0x4a1)](_0x10ef71(0x53f))['forEach'](_0x116abe=>{const _0x415860=_0x10ef71;_0x116abe['addEventListener'](_0x415860(0x2ea),_0x35949f=>revealAnswerForPresentation(_0xaf4f64,_0x35949f[_0x415860(0x29f)]));});const _0x144ca0=document[_0x10ef71(0x3a8)](_0x10ef71(0xbe8));_0x144ca0&&_0x144ca0['addEventListener']('click',()=>checkShortAnswerForPresentation(_0xaf4f64)),document['getElementById'](_0x10ef71(0xa58))['textContent']=_0x10ef71(0x18e)+(_0xaf4f64+0x1)+'\x20/\x20'+currentQuizData['questions']['length'],document[_0x10ef71(0x3a8)]('prev-question-btn')[_0x10ef71(0x709)]=_0xaf4f64===0x0,document[_0x10ef71(0x3a8)](_0x10ef71(0xb47))[_0x10ef71(0x709)]=_0xaf4f64===currentQuizData[_0x10ef71(0xb4f)][_0x10ef71(0x6b0)]-0x1;}async function checkShortAnswerForPresentation(_0x3db03a){const _0x363b6f=_0x358d67,_0x454cf2=currentQuizData['questions'][_0x3db03a],_0x3e5c1b=document[_0x363b6f(0x3a8)](_0x363b6f(0x7b7)),_0x54b53e=document[_0x363b6f(0x3a8)](_0x363b6f(0xbe8)),_0x18a5b4=document[_0x363b6f(0x3a8)]('presentation-ai-result'),_0x243070=document[_0x363b6f(0x3a8)](_0x363b6f(0x4ed));if(!_0x3e5c1b||!_0x54b53e||!_0x18a5b4||!_0x243070)return;const _0x52aa12=_0x3e5c1b[_0x363b6f(0xac6)][_0x363b6f(0x7a5)]();if(_0x52aa12==='')return;_0x54b53e[_0x363b6f(0x709)]=!![],_0x54b53e['innerHTML']=_0x363b6f(0x614),_0x3e5c1b['disabled']=!![];const _0x4c4f15=await gradeShortAnswer(_0x52aa12,_0x454cf2);_0x4c4f15?_0x18a5b4[_0x363b6f(0x888)]=_0x363b6f(0x269):_0x18a5b4['innerHTML']=_0x363b6f(0x374)+_0x454cf2[_0x363b6f(0xbd9)]+')',_0x18a5b4[_0x363b6f(0x542)][_0x363b6f(0x9d0)](_0x363b6f(0x49a)),_0x243070['classList'][_0x363b6f(0x9d0)](_0x363b6f(0x49a)),_0x54b53e[_0x363b6f(0x542)][_0x363b6f(0x33b)](_0x363b6f(0x49a));}function revealAnswerForPresentation(_0x2a2762,_0x51631c){const _0xf005b6=_0x358d67,_0x4f71cd=currentQuizData['questions'][_0x2a2762],_0x5c2661=_0x4f71cd['questionType']||currentQuizData[_0xf005b6(0x593)];document[_0xf005b6(0x4a1)](_0xf005b6(0x53f))['forEach'](_0x4edfcb=>{const _0xf65afa=_0xf005b6;_0x4edfcb[_0xf65afa(0x709)]=!![],_0x4edfcb['classList'][_0xf65afa(0x9d0)](_0xf65afa(0x98a));let _0x307899=![];if(_0x5c2661==='multiple_choice'||_0x5c2661==='fill_in_the_blank'){const _0x3d5541=parseInt(_0x4edfcb[_0xf65afa(0x483)]['index']);_0x307899=_0x3d5541===_0x4f71cd[_0xf65afa(0x468)];}else{if(_0x5c2661===_0xf65afa(0x5b9)){const _0x3fe540=_0x4edfcb[_0xf65afa(0x483)][_0xf65afa(0x50f)]===_0xf65afa(0x354);_0x307899=_0x3fe540===_0x4f71cd[_0xf65afa(0x5a0)];}else _0x5c2661===_0xf65afa(0x4b9)&&(_0x307899=_0x4edfcb[_0xf65afa(0x20d)][_0xf65afa(0x7a5)]()===_0x4f71cd[_0xf65afa(0x44f)]);}_0x307899?_0x4edfcb['classList'][_0xf65afa(0x33b)](_0xf65afa(0xb7b),_0xf65afa(0xab6),_0xf65afa(0x684)):_0x4edfcb[_0xf65afa(0x542)][_0xf65afa(0x33b)](_0xf65afa(0xa85));}),_0x51631c[_0xf005b6(0x542)]['remove'](_0xf005b6(0xa85));let _0x30b541=![];if(_0x5c2661===_0xf005b6(0x302))_0x30b541=parseInt(_0x51631c[_0xf005b6(0x483)][_0xf005b6(0x1c5)])===_0x4f71cd[_0xf005b6(0x468)];else{if(_0x5c2661===_0xf005b6(0x5b9))_0x30b541=_0x51631c[_0xf005b6(0x483)]['answer']===_0xf005b6(0x354)===_0x4f71cd[_0xf005b6(0x5a0)];else _0x5c2661==='matching_item'&&(_0x30b541=_0x51631c[_0xf005b6(0x20d)]['trim']()===_0x4f71cd[_0xf005b6(0x44f)]);}!_0x30b541&&_0x51631c[_0xf005b6(0x542)][_0xf005b6(0x33b)](_0xf005b6(0x8b0),_0xf005b6(0xab6),'border-red-700'),document['getElementById']('presentation-explanation')[_0xf005b6(0x542)]['remove'](_0xf005b6(0x49a));}function startWholeQuizTimer(_0xcebf3c){const _0x22dee3=_0x358d67,_0x5f1d1f=document['getElementById'](_0x22dee3(0x9a4));if(!_0x5f1d1f)return;const _0x36941d=Date[_0x22dee3(0x2ab)]()+_0xcebf3c*0x3c*0x3e8;_0x5f1d1f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x1f4cbc=document[_0x22dee3(0x3a8)](_0x22dee3(0xb49));quizTimerInterval=setInterval(()=>{const _0x104b52=_0x22dee3,_0x49a83e=_0x36941d-Date[_0x104b52(0x2ab)]();if(_0x49a83e<=0x0)clearInterval(quizTimerInterval),_0x1f4cbc[_0x104b52(0x20d)]=_0x104b52(0x2d8),showMessage(_0x104b52(0xb97)),handleSubmitQuiz(null);else{const _0x1839b0=Math[_0x104b52(0x9b2)](_0x49a83e/0x3e8/0x3c%0x3c)[_0x104b52(0x7a2)]()['padStart'](0x2,'0'),_0x185c8b=Math[_0x104b52(0x9b2)](_0x49a83e/0x3e8%0x3c)[_0x104b52(0x7a2)]()['padStart'](0x2,'0');_0x1f4cbc['textContent']=_0x1839b0+':'+_0x185c8b;}},0x3e8);}function renderPerQuestionView(){const _0x4e1332=_0x358d67;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1f25ab=currentDisplayedQuiz[_0x4e1332(0xb4f)][currentQuestionIndex],_0x31effb=_0x1f25ab['questionType']||currentDisplayedQuiz[_0x4e1332(0x593)],_0x3118e2=currentDisplayedQuiz[_0x4e1332(0x45b)]?.['isConfidenceScoringEnabled']===!![];let _0x5dcc38=_0x4e1332(0x6f3)+(currentQuestionIndex+0x1)+_0x4e1332(0xb8c)+currentDisplayedQuiz[_0x4e1332(0xb4f)][_0x4e1332(0x6b0)]+_0x4e1332(0xae7)+(currentMode===_0x4e1332(0x5ac)?_0x4e1332(0x9b4):'')+_0x4e1332(0x73a)+currentDisplayedQuiz[_0x4e1332(0x339)]+_0x4e1332(0x87f);studentQuizArea[_0x4e1332(0x888)]=_0x5dcc38;let _0x3ea20c=_0x1f25ab['stem']||_0x1f25ab['questionText'];_0x1f25ab['imageCode']&&(_0x3ea20c+=_0x4e1332(0x532)+_0x1f25ab[_0x4e1332(0x311)]+_0x4e1332(0x738));let _0x407829='';switch(_0x31effb){case _0x4e1332(0xad5):case _0x4e1332(0x845):_0x407829=_0x4e1332(0x927);break;case _0x4e1332(0x5b9):_0x407829=_0x4e1332(0x4a4);break;case _0x4e1332(0x4b9):_0x407829=_0x4e1332(0x428)+(_0x1f25ab[_0x4e1332(0x37b)]||[])[_0x4e1332(0x8ca)](_0x1ec23e=>_0x4e1332(0xaf5)+_0x1ec23e+'\x22>'+_0x1ec23e+'</option>')['join']('')+_0x4e1332(0x7f9);break;default:_0x1f25ab['options']&&(_0x407829=_0x1f25ab[_0x4e1332(0x994)][_0x4e1332(0x8ca)]((_0x248ae5,_0x50dda2)=>_0x4e1332(0x4e6)+_0x50dda2+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x50dda2+_0x4e1332(0x6c2)+_0x50dda2+'\x22>'+_0x248ae5+_0x4e1332(0x752))[_0x4e1332(0x61f)](''));break;}document[_0x4e1332(0x3a8)](_0x4e1332(0x621))['innerHTML']=_0x3ea20c,document[_0x4e1332(0x3a8)]('per-question-options')['innerHTML']=_0x407829;const _0x10be3d=currentDisplayedQuiz[_0x4e1332(0x45b)]?.[_0x4e1332(0x2c3)]===!![],_0x47eede=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x4e1332(0x6cf);if(_0x10be3d&&_0x47eede==='checkbox'){const _0xcf4a5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x4e1332(0x3a0)](_0x4e1332(0x2ec))[_0x4e1332(0x363)]('beforeend',_0xcf4a5);}studentQuizArea[_0x4e1332(0x363)]('beforeend',_0x4e1332(0xaef)+(currentQuestionIndex===currentDisplayedQuiz[_0x4e1332(0xb4f)][_0x4e1332(0x6b0)]-0x1?'ส่งคำตอบ':_0x4e1332(0x66e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode==='admin-testing'&&document[_0x4e1332(0x3a8)](_0x4e1332(0x443))?.[_0x4e1332(0x4f9)]('click',cancelAdminTest);document[_0x4e1332(0x3a8)](_0x4e1332(0xbc5))[_0x4e1332(0x4f9)](_0x4e1332(0x2ea),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x4e1332(0x915)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x4e1332(0x45b)]?.['timerMode']===_0x4e1332(0xbf2)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x45ebd9=_0x358d67,_0x5e855b=currentDisplayedQuiz[_0x45ebd9(0x45b)][_0x45ebd9(0xb2d)],_0x1b7ce5=document[_0x45ebd9(0x3a8)](_0x45ebd9(0x19c));if(!_0x1b7ce5)return;let _0x284aa5=_0x5e855b;_0x1b7ce5[_0x45ebd9(0x888)]=_0x45ebd9(0x1bc)+_0x284aa5+_0x45ebd9(0x3f9);const _0xb3760c=document[_0x45ebd9(0x3a8)](_0x45ebd9(0x180)),_0x49ef91=document[_0x45ebd9(0x3a8)](_0x45ebd9(0x436));perQuestionTimerInterval=setInterval(()=>{const _0x42a7cc=_0x45ebd9;_0x284aa5--;const _0x531af5=_0x284aa5/_0x5e855b*0x64;_0xb3760c['style'][_0x42a7cc(0x19d)]=_0x531af5+'%',_0x49ef91['textContent']=_0x284aa5,_0x284aa5<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x42a7cc(0x348)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x24366b=![]){const _0x5b43ea=_0x358d67;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x310476=null,_0x354ec4=![];if(!_0x24366b){const _0x54e1c5=currentDisplayedQuiz[_0x5b43ea(0xb4f)][currentQuestionIndex],_0x5d8c59=_0x54e1c5['questionType']||currentDisplayedQuiz['quizType'];if(_0x5d8c59===_0x5b43ea(0xad5)||_0x5d8c59===_0x5b43ea(0x845))_0x310476=document[_0x5b43ea(0x3a0)](_0x5b43ea(0x7c4))?.[_0x5b43ea(0xac6)][_0x5b43ea(0x7a5)]()??'';else{if(_0x5d8c59==='matching_item')_0x310476=document[_0x5b43ea(0x3a0)](_0x5b43ea(0x97b))?.[_0x5b43ea(0xac6)]??'';else{const _0x325f25=document[_0x5b43ea(0x3a0)](_0x5b43ea(0x9c3));_0x325f25&&(_0x310476=_0x325f25[_0x5b43ea(0xac6)]);}}if(_0x310476===null||_0x310476===''){showMessage(_0x5b43ea(0x30a)),startPerQuestionTimer();return;}const _0x21fcfa=currentDisplayedQuiz[_0x5b43ea(0x45b)]?.[_0x5b43ea(0x2c3)]===!![],_0x3b39e5=currentDisplayedQuiz[_0x5b43ea(0x45b)]?.[_0x5b43ea(0x23f)]||_0x5b43ea(0x6cf);if(_0x21fcfa&&_0x3b39e5===_0x5b43ea(0xb28)){document['getElementById'](_0x5b43ea(0x66c))[_0x5b43ea(0x483)][_0x5b43ea(0x7d0)]=_0x5b43ea(0x3f2),document[_0x5b43ea(0x3a8)](_0x5b43ea(0xa42))[_0x5b43ea(0xac6)]=_0x310476,document['getElementById'](_0x5b43ea(0x66c))[_0x5b43ea(0x542)]['remove'](_0x5b43ea(0x49a));return;}const _0x270d37=document['getElementById'](_0x5b43ea(0xa31));_0x270d37&&(_0x354ec4=_0x270d37[_0x5b43ea(0x69c)]);}const _0x56c3f7={'answer':_0x310476,'wasConfident':_0x354ec4};proceedToNextQuestion(_0x56c3f7);}async function finalizePerQuestionQuiz(){const _0x376cb5=_0x358d67,_0x571376=currentDisplayedQuiz[_0x376cb5(0xb4f)][_0x376cb5(0x578)](_0x4831b9=>_0x4831b9[_0x376cb5(0x2d0)]===_0x376cb5(0xad5));_0x571376?showMessage(_0x376cb5(0xc13)):showMessage(_0x376cb5(0x29e));const _0x300ced=currentQuizData['id'],_0x1c6742=doc(db,_0x376cb5(0x714)+appId+_0x376cb5(0x667)+_0x300ced+_0x376cb5(0x2c6),currentStudentName),_0x19cbb8=await getDoc(_0x1c6742),_0x53a5e1=_0x19cbb8[_0x376cb5(0x40f)]()?_0x19cbb8['data']():{},_0x4e017=_0x53a5e1[_0x376cb5(0x310)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4e017);}function getResultsFilename(){const _0x364d6e=_0x358d67,_0x4bd70a=document[_0x364d6e(0x3a8)](_0x364d6e(0xbc1))[_0x364d6e(0x20d)]['replace'](/[^a-z0-9]/gi,'_')[_0x364d6e(0x344)]();return _0x364d6e(0x8c9)+(_0x4bd70a||_0x364d6e(0x8a9));}function exportResultsAsImage(){const _0x5f12e9=_0x358d67,_0x154a01=document[_0x5f12e9(0x3a8)](_0x5f12e9(0x496));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x154a01)[_0x5f12e9(0x990)](_0x4f4f83=>{const _0x1935a8=_0x5f12e9,_0xa6ab3d=document[_0x1935a8(0x60b)]('a');_0xa6ab3d['download']=getResultsFilename()+_0x1935a8(0x57b),_0xa6ab3d[_0x1935a8(0xbce)]=_0x4f4f83[_0x1935a8(0x31b)]('image/png'),_0xa6ab3d['click'](),messageModal[_0x1935a8(0x542)]['add'](_0x1935a8(0x49a));});}function exportResultsAsPDF(){const _0x14c9b6=_0x358d67,{jsPDF:_0x4ddccb}=window[_0x14c9b6(0x645)],_0xc12c6=new _0x4ddccb();_0xc12c6[_0x14c9b6(0x9c4)](_0x14c9b6(0x304),'normal'),_0xc12c6[_0x14c9b6(0xaab)]({'html':_0x14c9b6(0x97e)}),_0xc12c6[_0x14c9b6(0x961)](getResultsFilename()+_0x14c9b6(0xb30));}function exportResultsAsWord(){const _0x3bd5ce=_0x358d67,_0x53b734=_0x3bd5ce(0x7f0)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x3bd5ce(0x366)+_0x3bd5ce(0x80e),_0x196f3a=_0x3bd5ce(0xb3b),_0x160da9=_0x53b734+document[_0x3bd5ce(0x3a8)]('results-table-container')[_0x3bd5ce(0x888)]+_0x196f3a,_0x42f702='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x160da9),_0x2699b7=document[_0x3bd5ce(0x60b)]('a');document[_0x3bd5ce(0x70d)][_0x3bd5ce(0x7a8)](_0x2699b7),_0x2699b7[_0x3bd5ce(0xbce)]=_0x42f702,_0x2699b7[_0x3bd5ce(0xa7c)]=getResultsFilename()+_0x3bd5ce(0x970),_0x2699b7[_0x3bd5ce(0x2ea)](),document[_0x3bd5ce(0x70d)]['removeChild'](_0x2699b7);}function exportResultsAsExcel(){const _0x152e2b=_0x358d67,_0x119c7d=document[_0x152e2b(0x3a8)](_0x152e2b(0x2e2));let _0x23b44f=[];for(let _0x3bad66=0x0;_0x3bad66<_0x119c7d[_0x152e2b(0xa95)][_0x152e2b(0x6b0)];_0x3bad66++){let _0x3a6001=[],_0x101a97=_0x119c7d[_0x152e2b(0xa95)][_0x3bad66][_0x152e2b(0x4a1)](_0x152e2b(0x463));for(let _0x4633c3=0x0;_0x4633c3<_0x101a97[_0x152e2b(0x6b0)];_0x4633c3++){_0x3a6001[_0x152e2b(0x78d)]('\x22'+_0x101a97[_0x4633c3]['innerText'][_0x152e2b(0x4a7)](/"/g,'\x22\x22')+'\x22');}_0x23b44f[_0x152e2b(0x78d)](_0x3a6001[_0x152e2b(0x61f)](','));}const _0x47f29d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x23b44f['join']('\x0a')],{'type':_0x152e2b(0x1ef)}),_0x2ac2fe=document[_0x152e2b(0x60b)]('a');_0x2ac2fe[_0x152e2b(0xbce)]=URL[_0x152e2b(0xa67)](_0x47f29d),_0x2ac2fe[_0x152e2b(0xa7c)]=getResultsFilename()+'.csv',_0x2ac2fe[_0x152e2b(0x2ea)]();}function exportTableAsImage(_0x5b7504,_0x359dbc){const _0x4f6e0b=_0x358d67,_0x6d132f=document[_0x4f6e0b(0x3a8)](_0x5b7504);if(!_0x6d132f){showMessage(_0x4f6e0b(0x662));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x6d132f)[_0x4f6e0b(0x990)](_0x49ec36=>{const _0x205476=_0x4f6e0b,_0x3798d5=document[_0x205476(0x60b)]('a');_0x3798d5[_0x205476(0xa7c)]=_0x359dbc+'.png',_0x3798d5[_0x205476(0xbce)]=_0x49ec36['toDataURL']('image/png'),_0x3798d5[_0x205476(0x2ea)](),messageModal[_0x205476(0x542)][_0x205476(0x33b)]('hidden');});}function exportTableAsPDF(_0x3d9df1,_0x128207){const _0x1545b2=_0x358d67,{jsPDF:_0x17bde8}=window[_0x1545b2(0x645)],_0x90570f=new _0x17bde8();_0x90570f[_0x1545b2(0x9c4)](_0x1545b2(0x304),_0x1545b2(0x57e)),_0x90570f[_0x1545b2(0xaab)]({'html':'#'+_0x3d9df1}),_0x90570f['save'](_0x128207+_0x1545b2(0xb30));}function exportTableAsWord(_0x3e84a1,_0x42eb0c){const _0x1ea331=_0x358d67,_0x574ce0=document[_0x1ea331(0x3a8)](_0x3e84a1);if(!_0x574ce0){showMessage(_0x1ea331(0x662));return;}const _0x480f8d=_0x1ea331(0x7f0)+_0x1ea331(0x260)+_0x1ea331(0x366)+_0x1ea331(0x80e),_0x263a14=_0x1ea331(0xb3b),_0x460d47=_0x480f8d+_0x574ce0['innerHTML']+_0x263a14,_0x3de58e=_0x1ea331(0x41d)+encodeURIComponent(_0x460d47),_0x82eda7=document[_0x1ea331(0x60b)]('a');document[_0x1ea331(0x70d)][_0x1ea331(0x7a8)](_0x82eda7),_0x82eda7[_0x1ea331(0xbce)]=_0x3de58e,_0x82eda7[_0x1ea331(0xa7c)]=_0x42eb0c+_0x1ea331(0x970),_0x82eda7[_0x1ea331(0x2ea)](),document[_0x1ea331(0x70d)]['removeChild'](_0x82eda7);}function exportTableAsExcel(_0x336f56,_0x2da7f4){const _0x5f3988=_0x358d67,_0x45f3f6=document['getElementById'](_0x336f56);if(!_0x45f3f6){showMessage(_0x5f3988(0x662));return;}let _0x519ce8=[];for(let _0x210d94=0x0;_0x210d94<_0x45f3f6[_0x5f3988(0xa95)]['length'];_0x210d94++){let _0x428887=[],_0x3d4a14=_0x45f3f6[_0x5f3988(0xa95)][_0x210d94][_0x5f3988(0x4a1)]('td,\x20th');for(let _0x3545f0=0x0;_0x3545f0<_0x3d4a14[_0x5f3988(0x6b0)];_0x3545f0++){_0x428887['push']('\x22'+_0x3d4a14[_0x3545f0][_0x5f3988(0xb96)][_0x5f3988(0x4a7)](/"/g,'\x22\x22')+'\x22');}_0x519ce8[_0x5f3988(0x78d)](_0x428887[_0x5f3988(0x61f)](','));}const _0x31b153=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x519ce8[_0x5f3988(0x61f)]('\x0a')],{'type':_0x5f3988(0x1ef)}),_0x430610=document[_0x5f3988(0x60b)]('a');_0x430610[_0x5f3988(0xbce)]=URL[_0x5f3988(0xa67)](_0x31b153),_0x430610['download']=_0x2da7f4+'.csv',_0x430610[_0x5f3988(0x2ea)]();}function renderAnalytics(_0x2e0950,_0x3c39a3){const _0x4bf226=_0x358d67,_0x374dfd=_0x3c39a3[_0x4bf226(0x47c)](_0x4f135b=>_0x4f135b[_0x4bf226(0x421)]!==undefined),_0x32fc60=currentProjectData[_0x4bf226(0xaf3)][_0x4bf226(0x6b0)],_0x5c13e8=_0x374dfd[_0x4bf226(0x6b0)],_0x302391=_0x32fc60-_0x5c13e8,_0xc6238a=_0x32fc60>0x0?_0x5c13e8/_0x32fc60*0x64:0x0,_0xef33fe=_0x374dfd[_0x4bf226(0x8ca)](_0x2d2af9=>_0x2d2af9['latestScore']),_0x596a79=_0xef33fe['length']>0x0?_0xef33fe[_0x4bf226(0x5f7)]((_0x357361,_0x40017a)=>_0x357361+_0x40017a,0x0)/_0xef33fe[_0x4bf226(0x6b0)]:0x0,_0x4d1791=_0x2e0950[_0x4bf226(0xb4f)][_0x4bf226(0x6b0)],_0x26a527=_0x4d1791>0x0?_0x596a79/_0x4d1791*0x64:0x0,_0x52967b=calculateItemAnalysis(_0x2e0950,_0x374dfd),_0x43b032=calculateReliabilityKR20(_0x2e0950,_0x374dfd,_0x52967b[_0x4bf226(0xb68)]);let _0x5ed76d='';if(_0x43b032!==null){let _0x37c28e='';if(_0x43b032>=0.9)_0x37c28e=_0x4bf226(0x1af);else{if(_0x43b032>=0.8)_0x37c28e=_0x4bf226(0x2f3);else{if(_0x43b032>=0.7)_0x37c28e='ดี';else{if(_0x43b032>=0.6)_0x37c28e='พอใช้';else _0x37c28e='ควรปรับปรุง';}}}_0x5ed76d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x43b032[_0x4bf226(0xbc3)](0x2)+_0x4bf226(0x1d3)+_0x37c28e+_0x4bf226(0xb87);}const _0x3bcdcd=document[_0x4bf226(0x3a8)](_0x4bf226(0x6d4));_0x3bcdcd['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0xc6238a[_0x4bf226(0xbc3)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x5c13e8+'/'+_0x32fc60+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x596a79['toFixed'](0x2)+_0x4bf226(0x1b7)+_0x26a527['toFixed'](0x0)+_0x4bf226(0xb23)+(_0xef33fe['length']>0x0?Math[_0x4bf226(0x21a)](..._0xef33fe):_0x4bf226(0x5d4))+_0x4bf226(0x8d3)+(_0xef33fe[_0x4bf226(0x6b0)]>0x0?Math['min'](..._0xef33fe):_0x4bf226(0x5d4))+_0x4bf226(0x77e)+_0x5ed76d+_0x4bf226(0x49f);const _0x3901f8=document[_0x4bf226(0x3a8)](_0x4bf226(0x535));_0x3901f8&&_0x3901f8['remove']();const _0x4188d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3bcdcd[_0x4bf226(0x363)](_0x4bf226(0xb36),_0x4188d9);const _0x23439e=currentProjectData[_0x4bf226(0xaf3)]||[];renderSubmissionChart(_0x5c13e8,_0x302391,_0x374dfd,_0x23439e),renderScoreDistributionChart(_0x374dfd,_0x4d1791),renderQuestionAnalytics(_0x2e0950,_0x374dfd,_0x23439e),renderInterestingStats(_0x2e0950,_0x374dfd);}async function handleExportLessonPDF(){const _0x16247e=_0x358d67,_0x3b3379=document[_0x16247e(0x3a8)](_0x16247e(0x560)),_0x3c72f7=document[_0x16247e(0x3a8)](_0x16247e(0x210))[_0x16247e(0x20d)],_0x4801b6=window[_0x16247e(0x9dc)]('',_0x16247e(0x86b)),_0x3ad526=_0x16247e(0xa6f)+_0x3c72f7+_0x16247e(0x502)+_0x3b3379[_0x16247e(0x888)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4801b6['document'][_0x16247e(0x511)](_0x3ad526),_0x4801b6[_0x16247e(0x221)]['close'](),_0x4801b6[_0x16247e(0xa33)]=function(){setTimeout(()=>{_0x4801b6['print']();},0x5dc);};}function renderInterestingStats(_0x50722f,_0x4a1d01){const _0x9bb9ba=_0x358d67,_0x214478=document[_0x9bb9ba(0x3a8)]('interesting-stats-container');if(!_0x214478)return;if(_0x4a1d01['length']===0x0){_0x214478[_0x9bb9ba(0x888)]=_0x9bb9ba(0x4ae);return;}const _0x333482=_0x50722f[_0x9bb9ba(0xb4f)][_0x9bb9ba(0x8ca)]((_0x37601a,_0x7e5adf)=>({'index':_0x7e5adf+0x1,'text':_0x37601a[_0x9bb9ba(0xa23)]||_0x37601a[_0x9bb9ba(0x966)],'correct':0x0}));_0x4a1d01[_0x9bb9ba(0x519)](_0x4b35f2=>{const _0x5c7da4=_0x9bb9ba,_0x36d7f2=_0x4b35f2[_0x5c7da4(0x310)][_0x4b35f2[_0x5c7da4(0x310)]['length']-0x1];_0x36d7f2&&_0x36d7f2[_0x5c7da4(0x43e)]&&_0x36d7f2['answers'][_0x5c7da4(0x519)](_0x537572=>{const _0x462aa4=_0x5c7da4,_0x1b81fe=_0x333482['find'](_0xcc4469=>_0xcc4469['text']===_0x537572[_0x462aa4(0xac4)]);_0x537572[_0x462aa4(0x6c9)]&&_0x1b81fe&&_0x1b81fe[_0x462aa4(0xb86)]++;});});const _0x3b1315=_0x4a1d01[_0x9bb9ba(0x6b0)],_0x5cca48=Math['max'](..._0x333482['map'](_0x2cf81a=>_0x2cf81a[_0x9bb9ba(0xb86)])),_0x57eb35=Math[_0x9bb9ba(0x57c)](..._0x333482['map'](_0x22841a=>_0x22841a[_0x9bb9ba(0xb86)])),_0x389789=_0x333482[_0x9bb9ba(0x47c)](_0x17bef1=>_0x17bef1[_0x9bb9ba(0xb86)]===_0x5cca48)[_0x9bb9ba(0x8ca)](_0x4e6165=>_0x9bb9ba(0xb2f)+_0x4e6165[_0x9bb9ba(0x1c5)]),_0x379fdd=_0x333482['filter'](_0x306371=>_0x306371['correct']===_0x57eb35)['map'](_0x5b89bb=>_0x9bb9ba(0xb2f)+_0x5b89bb[_0x9bb9ba(0x1c5)]),_0x50108c=_0x4a1d01[_0x9bb9ba(0x843)]((_0x4354f7,_0x778a9a)=>_0x778a9a[_0x9bb9ba(0x421)]-_0x4354f7['latestScore'])[_0x9bb9ba(0x47c)]((_0x2d7c7d,_0xf01ea3,_0x366e3)=>_0x2d7c7d['latestScore']===_0x366e3[0x0][_0x9bb9ba(0x421)]),_0x489286=_0x4a1d01[_0x9bb9ba(0x843)]((_0x55cfd7,_0x28e01c)=>_0x55cfd7[_0x9bb9ba(0x421)]-_0x28e01c[_0x9bb9ba(0x421)])['filter']((_0x44dc73,_0x251eaf,_0x31dc86)=>_0x44dc73[_0x9bb9ba(0x421)]===_0x31dc86[0x0][_0x9bb9ba(0x421)]),_0x296c40=_0x9bb9ba(0xc08)+_0x389789[_0x9bb9ba(0x61f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x5cca48+_0x9bb9ba(0x4bc)+_0x3b1315+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x379fdd[_0x9bb9ba(0x61f)](',\x20')+_0x9bb9ba(0x847)+(_0x3b1315-_0x57eb35)+_0x9bb9ba(0x4bc)+_0x3b1315+_0x9bb9ba(0x703)+_0x50108c['map'](_0x209d36=>_0x209d36[_0x9bb9ba(0xa0b)])['join'](',\x20')+_0x9bb9ba(0x45a)+_0x50108c[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x489286[_0x9bb9ba(0x8ca)](_0x1c4f55=>_0x1c4f55[_0x9bb9ba(0xa0b)])[_0x9bb9ba(0x61f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x489286[0x0][_0x9bb9ba(0x421)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x214478[_0x9bb9ba(0x888)]=_0x296c40;}function renderSubmissionChart(_0x55df31,_0x4263d0,_0x57e84d,_0x2af55e){const _0x4d0678=_0x358d67,_0x5b3642=document['getElementById'](_0x4d0678(0x95a))[_0x4d0678(0x1c8)]('2d'),_0x26c07c=_0x57e84d[_0x4d0678(0x8ca)](_0x33bbd1=>_0x33bbd1[_0x4d0678(0xa0b)]),_0x492a6f=_0x2af55e[_0x4d0678(0x47c)](_0x1b191f=>!_0x26c07c[_0x4d0678(0xbba)](_0x1b191f));chartInstances[_0x4d0678(0x75c)]&&chartInstances[_0x4d0678(0x75c)][_0x4d0678(0x6db)](),chartInstances[_0x4d0678(0x75c)]=new Chart(_0x5b3642,{'type':_0x4d0678(0x856),'data':{'labels':[_0x4d0678(0x232),_0x4d0678(0x911)],'datasets':[{'data':[_0x55df31,_0x4263d0],'backgroundColor':[_0x4d0678(0x7a9),_0x4d0678(0xaa8)],'borderColor':['#ffffff',_0x4d0678(0xb2c)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4d0678(0x95c)},'tooltip':{'callbacks':{'label':function(_0x418b7f){const _0x22c251=_0x4d0678;let _0x45077d=_0x418b7f[_0x22c251(0xacc)]||'';return _0x45077d&&(_0x45077d+=':\x20'),_0x45077d+=_0x418b7f[_0x22c251(0x567)],_0x45077d;},'afterLabel':function(_0x11bbea){const _0x3d91bb=_0x4d0678;let _0x2c122d;return _0x11bbea['dataIndex']===0x0?_0x2c122d=_0x26c07c:_0x2c122d=_0x492a6f,_0x2c122d['length']>0x0?_0x2c122d[_0x3d91bb(0x61f)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x538ad4,_0x2ef798){const _0x1b7fc6=_0x358d67,_0x461100=document['getElementById']('score-distribution-chart')['getContext']('2d'),_0x3efc54={};for(let _0x35d499=0x0;_0x35d499<=_0x2ef798;_0x35d499++){_0x3efc54[_0x35d499]=0x0;}_0x538ad4[_0x1b7fc6(0x519)](_0x304132=>{const _0x185895=_0x1b7fc6;_0x3efc54[_0x304132[_0x185895(0x421)]]!==undefined&&_0x3efc54[_0x304132[_0x185895(0x421)]]++;}),chartInstances[_0x1b7fc6(0xb0c)]&&chartInstances[_0x1b7fc6(0xb0c)][_0x1b7fc6(0x6db)](),chartInstances[_0x1b7fc6(0xb0c)]=new Chart(_0x461100,{'type':_0x1b7fc6(0xad6),'data':{'labels':Object[_0x1b7fc6(0x57a)](_0x3efc54),'datasets':[{'label':_0x1b7fc6(0xbbf),'data':Object['values'](_0x3efc54),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x1b7fc6(0x1b8),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1b7fc6(0xa18)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4853f0){const _0x10392c=_0x1b7fc6,_0x2937ff=_0x4853f0[_0x10392c(0xacc)],_0x378824=_0x538ad4[_0x10392c(0x47c)](_0x526b25=>_0x526b25[_0x10392c(0x421)]==_0x2937ff)[_0x10392c(0x8ca)](_0xec85bb=>_0xec85bb['studentName']);return _0x378824['length']>0x0?_0x378824['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x1d94a0,_0x182e36,_0x3414ab){const _0xdd6aee=_0x358d67,_0x1580f9=document[_0xdd6aee(0x3a8)](_0xdd6aee(0x809));if(_0x3414ab['length']===0x0){_0x1580f9[_0xdd6aee(0x888)]=_0xdd6aee(0x914);return;}const _0x8ef6d3=calculateItemAnalysis(_0x1d94a0,_0x182e36),_0xc8092b=calculateDistractorAnalysis(_0x1d94a0,_0x182e36);let _0x1058a2='';_0x8ef6d3['overallGroups']&&(_0x1058a2=_0xdd6aee(0x774)+_0x8ef6d3[_0xdd6aee(0x490)][_0xdd6aee(0x83e)][_0xdd6aee(0x6b0)]+_0xdd6aee(0x3fd)+_0x8ef6d3['overallGroups']['upperGroupNames'][_0xdd6aee(0x8ca)](_0x4e03ea=>_0xdd6aee(0xb1a)+_0x4e03ea+'</li>')[_0xdd6aee(0x61f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x8ef6d3['overallGroups'][_0xdd6aee(0x193)][_0xdd6aee(0x6b0)]+_0xdd6aee(0x3fd)+_0x8ef6d3[_0xdd6aee(0x490)]['lowerGroupNames']['map'](_0x10f75c=>_0xdd6aee(0xb1a)+_0x10f75c+_0xdd6aee(0x3bc))[_0xdd6aee(0x61f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x21bd33='';const _0x355a1f=_0x182e36[_0xdd6aee(0x8ca)](_0x18dd94=>_0x18dd94[_0xdd6aee(0xa0b)]),_0xaeedd2=_0x25984f=>{const _0x48d9e9=_0xdd6aee;if(_0x25984f>=0.8)return _0x48d9e9(0x1c4);if(_0x25984f>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x25984f>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x25984f>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x48d9e9(0x343);},_0x5619d5=_0x520ad0=>{const _0x571338=_0xdd6aee;if(_0x520ad0<0x0)return _0x571338(0x484);if(_0x520ad0>=0.4)return _0x571338(0x7bc);if(_0x520ad0>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x520ad0>=0.2)return _0x571338(0xa56);return _0x571338(0xb04);},_0x48d32d=_0x49fc93=>{const _0x472adb=_0xdd6aee,_0x249eee=_0x49fc93[_0x472adb(0xbc3)](0x0);if(parseFloat(_0x249eee)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x249eee+'%</span>';if(_0x49fc93>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x249eee+_0x472adb(0x353);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x249eee+_0x472adb(0x353);};_0x1d94a0['questions'][_0xdd6aee(0x519)]((_0x2857b2,_0x44f485)=>{const _0x51ee4d=_0xdd6aee,_0x5470ad=_0x8ef6d3[_0x51ee4d(0xb68)][_0x44f485],_0x3066d4=_0xc8092b[_0x44f485],_0x452337=_0x2857b2[_0x51ee4d(0x966)]||_0x2857b2[_0x51ee4d(0xa23)]||_0x2857b2[_0x51ee4d(0xb44)];let _0x17ce3f=0x0;const _0xcacd63=[],_0x124437=[];_0x182e36['forEach'](_0x587d5a=>{const _0x4ec81c=_0x51ee4d,_0x13be55=_0x587d5a[_0x4ec81c(0x310)][_0x587d5a[_0x4ec81c(0x310)][_0x4ec81c(0x6b0)]-0x1];if(_0x13be55&&_0x13be55[_0x4ec81c(0x43e)]){const _0x4761ea=_0x13be55[_0x4ec81c(0x43e)]['find'](_0xcf73c7=>_0xcf73c7[_0x4ec81c(0xac4)]===_0x452337)??_0x13be55[_0x4ec81c(0x43e)][_0x44f485]??null;_0x4761ea&&(_0x4761ea['isCorrect']?(_0x17ce3f++,_0xcacd63[_0x4ec81c(0x78d)](_0x587d5a[_0x4ec81c(0xa0b)])):_0x124437['push'](_0x587d5a[_0x4ec81c(0xa0b)]));}});const _0x2222cd=_0x182e36[_0x51ee4d(0x6b0)]>0x0?_0x17ce3f/_0x182e36[_0x51ee4d(0x6b0)]*0x64:0x0,_0x10c83e=_0x3414ab[_0x51ee4d(0x47c)](_0x2a52a9=>!_0x355a1f[_0x51ee4d(0xbba)](_0x2a52a9)),_0xa05dad=_0x5470ad?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x5470ad['p'][_0x51ee4d(0xbc3)](0x2)+_0x51ee4d(0x241)+_0xaeedd2(_0x5470ad['p'])+_0x51ee4d(0x3c7)+_0x5470ad['r'][_0x51ee4d(0xbc3)](0x2)+'</p><div>'+_0x5619d5(_0x5470ad['r'])+_0x51ee4d(0x8df)+_0x48d32d(_0x2222cd)+_0x51ee4d(0x205):'';let _0x50a231='';_0x3066d4&&(_0x50a231='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x51ee4d(0x57a)](_0x3066d4)['map'](_0x3a2e02=>{const _0x1ab431=_0x51ee4d,_0x57d2f6=_0x3066d4[_0x3a2e02],_0x43c56e=parseInt(_0x3a2e02)===_0x2857b2[_0x1ab431(0x468)],_0x27d0ee=!_0x43c56e&&_0x57d2f6[_0x1ab431(0xa3d)]>_0x57d2f6[_0x1ab431(0x8da)];return _0x1ab431(0xa62)+(_0x43c56e?'bg-green-100\x20font-bold':'')+_0x1ab431(0xa9b)+(_0x43c56e?'✔\x20':'')+_0x57d2f6[_0x1ab431(0x6bb)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x57d2f6[_0x1ab431(0x8da)]+_0x1ab431(0x5c4)+_0x57d2f6[_0x1ab431(0xa3d)]+'\x20'+(_0x27d0ee?'👍':'')+_0x1ab431(0x5c4)+_0x57d2f6[_0x1ab431(0xb5c)]+_0x1ab431(0x20b);})[_0x51ee4d(0x61f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x25c325='';_0x5470ad&&_0x5470ad[_0x51ee4d(0x82e)]&&(_0x25c325=_0x51ee4d(0x65e)+_0x5470ad[_0x51ee4d(0x82e)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x5470ad[_0x51ee4d(0x82e)][_0x51ee4d(0x8ca)](_0x4f9eb1=>_0x51ee4d(0xb1a)+(_0x4f9eb1['isCorrect']?_0x51ee4d(0x198):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4f9eb1[_0x51ee4d(0xbc7)]+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x5470ad['lowerGroupResponders'][_0x51ee4d(0x6b0)]+_0x51ee4d(0x763)+_0x5470ad[_0x51ee4d(0x9e8)][_0x51ee4d(0x8ca)](_0x374449=>_0x51ee4d(0xb1a)+(_0x374449[_0x51ee4d(0x6c9)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x51ee4d(0x378))+'\x20'+_0x374449[_0x51ee4d(0xbc7)]+'</li>')[_0x51ee4d(0x61f)]('')+_0x51ee4d(0xb38)),_0x21bd33+=_0x51ee4d(0xae6)+(_0x44f485+0x1)+':\x20'+_0x452337+_0x51ee4d(0x1f0)+_0xa05dad+_0x51ee4d(0x5ce)+_0x452337+_0x51ee4d(0x445)+_0x17ce3f+'\x20จาก\x20'+_0x182e36[_0x51ee4d(0x6b0)]+_0x51ee4d(0x2c1)+_0x2222cd[_0x51ee4d(0xbc3)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0xcacd63['length']+_0x51ee4d(0x9e6)+(_0xcacd63['length']>0x0?_0xcacd63[_0x51ee4d(0x61f)](',\x20'):_0x51ee4d(0x36e))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x124437[_0x51ee4d(0x6b0)]+_0x51ee4d(0x9e6)+(_0x124437['length']>0x0?_0x124437[_0x51ee4d(0x61f)](',\x20'):_0x51ee4d(0x36e))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x10c83e['length']+_0x51ee4d(0x9e6)+(_0x10c83e[_0x51ee4d(0x6b0)]>0x0?_0x10c83e[_0x51ee4d(0x61f)](',\x20'):_0x51ee4d(0x36e))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50a231+_0x51ee4d(0x49c)+_0x25c325+_0x51ee4d(0x853);}),_0x1580f9[_0xdd6aee(0x888)]=_0x1058a2+_0x21bd33;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x1580f9]);}catch(_0x1a20ca){console[_0xdd6aee(0x77b)](_0xdd6aee(0x7e6),_0x1a20ca);}}function calculateDistractorAnalysis(_0x58de1d,_0x3d17cb){const _0x4edff7=_0x358d67,_0x3f229b={};if(_0x3d17cb[_0x4edff7(0x6b0)]<0x2)return _0x3f229b;const _0x3889a6=[..._0x3d17cb]['sort']((_0x427c0e,_0x5c4a99)=>{const _0x19caee=_0x4edff7,_0x29d003=_0x5c4a99[_0x19caee(0x421)]-_0x427c0e[_0x19caee(0x421)];if(_0x29d003!==0x0)return _0x29d003;const _0x3b8d4c=_0x427c0e[_0x19caee(0x310)]?.[_0x19caee(0x6b0)]||0x1,_0x3dae9e=_0x5c4a99['attempts']?.[_0x19caee(0x6b0)]||0x1,_0x43ce84=_0x3b8d4c-_0x3dae9e;if(_0x43ce84!==0x0)return _0x43ce84;const _0x12ba30=new Date(_0x427c0e['latestSubmittedAt']),_0x421b5c=new Date(_0x5c4a99[_0x19caee(0xb0d)]),_0x2273f4=_0x12ba30-_0x421b5c;if(_0x2273f4!==0x0)return _0x2273f4;return _0x427c0e[_0x19caee(0xa0b)][_0x19caee(0x364)](_0x5c4a99[_0x19caee(0xa0b)],'th');}),_0x5f1e21=_0x3889a6[_0x4edff7(0x6b0)],_0x478ee1=Math[_0x4edff7(0x21a)](0x1,Math[_0x4edff7(0x9b2)](_0x5f1e21*0.33)),_0x495728=_0x3889a6['slice'](0x0,_0x478ee1),_0x5239f2=_0x3889a6['slice'](-_0x478ee1);return _0x58de1d[_0x4edff7(0xb4f)]['forEach']((_0x2bc38a,_0x24638d)=>{const _0x18fafa=_0x4edff7;if(_0x2bc38a[_0x18fafa(0x2d0)]!==_0x18fafa(0x302)||!_0x2bc38a['options'])return;const _0x6413a5=_0x2bc38a['questionText'],_0xe03af4={};_0x2bc38a['options'][_0x18fafa(0x519)]((_0x41aae4,_0x4f5651)=>{_0xe03af4[_0x4f5651]={'text':_0x41aae4,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3889a6[_0x18fafa(0x519)](_0x1e0961=>{const _0x50967f=_0x18fafa,_0x740336=_0x1e0961[_0x50967f(0x310)][_0x1e0961[_0x50967f(0x310)][_0x50967f(0x6b0)]-0x1],_0x5a8de6=_0x740336['answers']['find'](_0xb82676=>_0xb82676[_0x50967f(0xac4)]===_0x6413a5);if(_0x5a8de6&&_0x5a8de6[_0x50967f(0x50f)]!==null){const _0x5ed047=_0x2bc38a[_0x50967f(0x994)][_0x50967f(0x433)](_0xe10bd2=>_0xe10bd2===_0x5a8de6[_0x50967f(0x9f3)]);_0x5ed047!==-0x1&&_0xe03af4[_0x5ed047]&&(_0xe03af4[_0x5ed047]['total']++,_0x495728[_0x50967f(0xbba)](_0x1e0961)&&_0xe03af4[_0x5ed047][_0x50967f(0x8da)]++,_0x5239f2['includes'](_0x1e0961)&&_0xe03af4[_0x5ed047][_0x50967f(0xa3d)]++);}}),_0x3f229b[_0x24638d]=_0xe03af4;}),_0x3f229b;}function calculateReliabilityKR20(_0x406b4f,_0x438c3f,_0x4b107){const _0x297b06=_0x358d67,_0x209af7=_0x406b4f[_0x297b06(0xb4f)][_0x297b06(0x6b0)];if(_0x209af7<0x2||_0x438c3f['length']<0x2)return null;const _0x234d47=_0x438c3f[_0x297b06(0x8ca)](_0x36a7e0=>_0x36a7e0['latestScore']),_0x43f1ed=_0x234d47['reduce']((_0x359019,_0x2909bc)=>_0x359019+_0x2909bc,0x0)/_0x234d47[_0x297b06(0x6b0)],_0x346da4=_0x234d47[_0x297b06(0x8ca)](_0x3902d6=>Math['pow'](_0x3902d6-_0x43f1ed,0x2))[_0x297b06(0x5f7)]((_0x140900,_0x3fd774)=>_0x140900+_0x3fd774,0x0)/_0x234d47[_0x297b06(0x6b0)];if(_0x346da4===0x0)return null;let _0x1e47c2=0x0;for(let _0x4bee1f=0x0;_0x4bee1f<_0x209af7;_0x4bee1f++){const _0x123fbb=_0x4b107[_0x4bee1f]?.['p'];if(_0x123fbb===undefined)continue;const _0x3656a4=0x1-_0x123fbb;_0x1e47c2+=_0x123fbb*_0x3656a4;}if(_0x1e47c2===0x0)return null;const _0x2d1b35=_0x209af7/(_0x209af7-0x1)*(0x1-_0x1e47c2/_0x346da4);if(_0x2d1b35>0x1)return null;return _0x2d1b35;}async function handleAnalyzeClass(){const _0x103180=_0x358d67;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x103180(0x6ee));return;}const _0x3ed3ac=collection(db,_0x103180(0x714)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x103180(0x2c6)),_0x24bc3b=await getDocs(_0x3ed3ac),_0x283b9d=_0x24bc3b[_0x103180(0x901)]['map'](_0x2ae224=>_0x2ae224['data']());if(_0x283b9d['length']<0x2){showMessage(_0x103180(0xad3));return;}const _0x2d0f91=document['getElementById'](_0x103180(0x5cb));_0x2d0f91[_0x103180(0x888)]=_0x103180(0xa3a),document[_0x103180(0x3a8)](_0x103180(0xa3c))['disabled']=!![];const _0x680e84=_0x283b9d[_0x103180(0x8ca)]((_0x53db62,_0x545c53)=>{const _0x1aa043=_0x103180,_0x46cc69=_0x53db62[_0x1aa043(0x310)][_0x53db62[_0x1aa043(0x310)]['length']-0x1];if(!_0x46cc69)return'';return _0x1aa043(0x72d)+(_0x545c53+0x1)+'\x20('+_0x53db62[_0x1aa043(0xa0b)]+_0x1aa043(0x4f2)+_0x46cc69['score']+'/'+_0x53db62['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x1aa043(0xa50)](_0x46cc69[_0x1aa043(0x43e)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x103180(0x61f)](_0x103180(0xbea)),_0x59fc95=_0x103180(0x48b)+currentQuizData[_0x103180(0x339)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x103180(0xa50)](currentQuizData[_0x103180(0xb4f)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x680e84+_0x103180(0xaf4),_0x3e4e5e={'type':_0x103180(0x182),'properties':{'classStrengths':{'type':_0x103180(0x632),'items':{'type':_0x103180(0x534)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x103180(0x534)}},'teacherSuggestions':{'type':_0x103180(0x632),'items':{'type':'STRING'}}},'required':['classStrengths','classWeaknesses',_0x103180(0x38e)]};try{const _0x3aa8f0=await callAnalysisApi(_0x59fc95,_0x3e4e5e);displayClassAnalysis(_0x3aa8f0);}catch(_0x47722e){console[_0x103180(0x77b)](_0x103180(0x1c1),_0x47722e),_0x2d0f91['innerHTML']=_0x103180(0x1ca)+_0x47722e['message']+_0x103180(0x43d);}finally{document[_0x103180(0x3a8)](_0x103180(0xa3c))[_0x103180(0x709)]=![];}}function displayClassAnalysis(_0x2a0bfa){const _0x1ec143=_0x358d67,_0x3dcf2d=document['getElementById'](_0x1ec143(0x5cb));if(!_0x2a0bfa){_0x3dcf2d['innerHTML']=_0x1ec143(0x505);return;}_0x3dcf2d[_0x1ec143(0x888)]=_0x1ec143(0x6d0)+_0x2a0bfa['classStrengths'][_0x1ec143(0x8ca)](_0x282c7a=>_0x1ec143(0xb1a)+_0x282c7a+_0x1ec143(0x3bc))[_0x1ec143(0x61f)]('')+_0x1ec143(0x8d9)+_0x2a0bfa[_0x1ec143(0x358)]['map'](_0x4ee6f5=>_0x1ec143(0xb1a)+_0x4ee6f5+_0x1ec143(0x3bc))[_0x1ec143(0x61f)]('')+_0x1ec143(0x688)+_0x2a0bfa[_0x1ec143(0x38e)][_0x1ec143(0x8ca)](_0x47a60b=>_0x1ec143(0xb1a)+_0x47a60b+_0x1ec143(0x3bc))[_0x1ec143(0x61f)]('')+_0x1ec143(0x42c);}function formatAndPrintWorksheet(_0x191877,_0x356516){const _0xb359a9=_0x358d67,_0x322e63=_0xb359a9(0x386)+_0x191877[_0xb359a9(0x339)]+_0xb359a9(0x2dd)+_0x191877[_0xb359a9(0x339)]+_0xb359a9(0x2c0)+_0x191877[_0xb359a9(0xb4f)][_0xb359a9(0x8ca)]((_0x1b41c7,_0x485816)=>_0xb359a9(0x744)+(_0x485816+0x1)+'.\x20'+_0x1b41c7[_0xb359a9(0xa23)]+_0xb359a9(0x3d9)+(_0x1b41c7[_0xb359a9(0x311)]?_0xb359a9(0x1d5)+_0x1b41c7[_0xb359a9(0x311)]+_0xb359a9(0x738):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xb359a9(0x61f)]('')+_0xb359a9(0x5ad);_0x356516['document'][_0xb359a9(0x511)](_0x322e63),_0x356516[_0xb359a9(0x221)][_0xb359a9(0x3c6)](),_0x356516[_0xb359a9(0xa33)]=function(){setTimeout(()=>{const _0x4274b7=_0x4026;_0x356516[_0x4274b7(0x839)]();},0x3e8);};}async function generateWorksheet(){const _0x396ebe=_0x358d67,_0x868453=document[_0x396ebe(0x3a8)](_0x396ebe(0x46d))[_0x396ebe(0xac6)][_0x396ebe(0x7a5)]();if(!_0x868453){showMessage(_0x396ebe(0x5de));return;}const _0x57dd1a=document[_0x396ebe(0x3a8)](_0x396ebe(0xbda))[_0x396ebe(0x69c)],_0x25e916=_0x57dd1a?'':'คณิตศาสตร์',_0x2b958d=window[_0x396ebe(0x9dc)]('',_0x396ebe(0x86b));_0x2b958d['document'][_0x396ebe(0x511)](_0x396ebe(0x8b8));const _0x13faf9=parseInt(document[_0x396ebe(0x3a8)](_0x396ebe(0x568))[_0x396ebe(0xac6)]),_0x1beeaa=document['getElementById']('include-images-checkbox')[_0x396ebe(0x69c)],_0x1cda34=_0x1beeaa?_0x396ebe(0x3d1):'',_0x5ba099=_0x396ebe(0x8b3)+_0x25e916+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x13faf9+_0x396ebe(0x9de)+_0x868453+_0x396ebe(0xaa2)+_0x1cda34+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x11db2a={'type':_0x396ebe(0x182),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x396ebe(0x632),'items':{'type':_0x396ebe(0x182),'properties':{'questionText':{'type':_0x396ebe(0x534)},'imageCode':{'type':_0x396ebe(0x534)}},'required':[_0x396ebe(0xa23)]}}},'required':[_0x396ebe(0x339),_0x396ebe(0xb4f)]};document[_0x396ebe(0x3a8)](_0x396ebe(0x569))[_0x396ebe(0x20d)]='',document[_0x396ebe(0x3a8)](_0x396ebe(0xaa3))[_0x396ebe(0x542)][_0x396ebe(0x9d0)](_0x396ebe(0x49a)),document[_0x396ebe(0x3a8)](_0x396ebe(0xa15))['classList'][_0x396ebe(0x9d0)](_0x396ebe(0x49a)),generateWorksheetBtn[_0x396ebe(0x709)]=!![];try{const _0x42d5e1=await callAnalysisApi(_0x5ba099,_0x11db2a);formatAndPrintWorksheet(_0x42d5e1,_0x2b958d);}catch(_0x230e96){console[_0x396ebe(0x77b)](_0x396ebe(0x239),_0x230e96);if(_0x2b958d)_0x2b958d[_0x396ebe(0x3c6)]();showMessage(_0x396ebe(0x2f8));}finally{document['getElementById'](_0x396ebe(0xaa3))[_0x396ebe(0x542)]['add'](_0x396ebe(0x49a)),document[_0x396ebe(0x3a8)]('quiz-generation-area')[_0x396ebe(0x542)][_0x396ebe(0x33b)](_0x396ebe(0x49a)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x12d804,_0x4cb5c4){const _0x4cff8=_0x358d67,_0x1c4997={'contents':[{'role':_0x4cff8(0x7de),'parts':[{'text':_0x12d804}]}],'generationConfig':{'responseMimeType':_0x4cff8(0xb25),'responseSchema':_0x4cb5c4}},_0x307a70='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x2d0698='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x307a70,_0x4b3e45=await fetch(_0x2d0698,{'method':_0x4cff8(0x1cd),'headers':{'Content-Type':_0x4cff8(0xb25)},'body':JSON[_0x4cff8(0xa50)](_0x1c4997)});if(!_0x4b3e45['ok'])throw new Error(_0x4cff8(0x5b2)+_0x4b3e45[_0x4cff8(0xa89)]);const _0x575aea=await _0x4b3e45[_0x4cff8(0x8c3)]();if(_0x575aea[_0x4cff8(0x4ce)]?.[0x0]?.[_0x4cff8(0x48e)]?.[_0x4cff8(0x971)]?.[0x0])return JSON['parse'](_0x575aea['candidates'][0x0][_0x4cff8(0x48e)][_0x4cff8(0x971)][0x0][_0x4cff8(0x6bb)]);else{let _0xc871a0=_0x4cff8(0x36f);if(_0x575aea[_0x4cff8(0x6c0)]?.[_0x4cff8(0x5d9)])_0xc871a0=_0x4cff8(0xaa1)+_0x575aea[_0x4cff8(0x6c0)][_0x4cff8(0x5d9)]+'.';else _0x575aea[_0x4cff8(0x4ce)]?.[0x0]?.[_0x4cff8(0x554)]&&_0x575aea[_0x4cff8(0x4ce)][0x0]['finishReason']!==_0x4cff8(0x989)&&(_0xc871a0=_0x4cff8(0x52f)+_0x575aea[_0x4cff8(0x4ce)][0x0]['finishReason']+'.');console[_0x4cff8(0x77b)](_0xc871a0,JSON[_0x4cff8(0xa50)](_0x575aea));throw new Error(_0xc871a0);}}async function handleStartSyncMode(_0x3c16f8,_0x3125ec=![]){const _0x279444=_0x358d67,_0x102cce=allQuizzes['find'](_0x5f295d=>_0x5f295d['id']===_0x3c16f8)||allQuizzesGlobal[_0x279444(0x301)](_0x3d5554=>_0x3d5554['id']===_0x3c16f8);if(!_0x102cce){showMessage(_0x279444(0x804));return;}currentQuizData=getShuffledQuiz(_0x102cce);const _0x586e98=Math[_0x279444(0x9b2)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x49768b=await addDoc(collection(db,_0x279444(0x714)+appId+_0x279444(0x6a2)),{'quizId':_0x102cce['id'],'pin':_0x586e98,'status':_0x279444(0x270),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3125ec,'players':{}});currentLiveGameId=_0x49768b['id'],showView(_0x279444(0x9e1)),renderSyncLobbyView(_0x586e98,_0x102cce['topic']),listenForSyncGameUpdates();}catch(_0x51e711){console[_0x279444(0x77b)](_0x279444(0xb9e),_0x51e711),showMessage(_0x279444(0x897));}}function calculateFinalPodiumScores(_0x2a0e46){const _0x537929=_0x358d67;if(!_0x2a0e46||!_0x2a0e46[_0x537929(0x938)]||!_0x2a0e46[_0x537929(0x266)])return _0x2a0e46[_0x537929(0x266)]||{};const _0x591a28=_0x2a0e46[_0x537929(0x938)][_0x537929(0xb4f)][_0x537929(0x6b0)],_0x424fa1=JSON[_0x537929(0x91c)](JSON['stringify'](_0x2a0e46['players']));return Object['values'](_0x424fa1)[_0x537929(0x519)](_0x4ec715=>{const _0x1e0b54=_0x537929,_0xacf6d0=_0x4ec715[_0x1e0b54(0xb0c)];let _0x3078c5=0x0;_0x2a0e46[_0x1e0b54(0x2c3)]&&_0x4ec715[_0x1e0b54(0x43e)]&&_0x4ec715[_0x1e0b54(0x43e)][_0x1e0b54(0x519)](_0x37a843=>{const _0x5aa711=_0x1e0b54;if(_0x37a843[_0x5aa711(0x6c9)]&&_0x37a843[_0x5aa711(0xb7e)])_0x3078c5+=0x1;else!_0x37a843[_0x5aa711(0x6c9)]&&_0x37a843['wasConfident']&&(_0x3078c5-=0x1);}),_0x4ec715['score']=_0xacf6d0+_0x3078c5,_0x591a28>0x0&&_0xacf6d0===_0x591a28&&(_0x4ec715[_0x1e0b54(0xb0c)]+=0x1,_0x4ec715[_0x1e0b54(0x48a)]=!![]);}),_0x424fa1;}function listenForSyncGameUpdates(){const _0x3a8a45=_0x358d67;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3679df=doc(db,_0x3a8a45(0x714)+appId+_0x3a8a45(0x6a2),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3679df,_0x16ee91=>{const _0x524e2f=_0x3a8a45;if(!_0x16ee91['exists']()){sessionStorage[_0x524e2f(0x8e5)](_0x524e2f(0x80c));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView('student');return;}const _0x1bb82b=_0x16ee91[_0x524e2f(0x49d)]();currentMode===_0x524e2f(0x389)?updateAdminSyncView(_0x1bb82b):updateStudentSyncView(_0x1bb82b);});}function renderSyncLobbyView(_0x582005,_0x45b6a1){const _0x429d40=_0x358d67;liveGameView[_0x429d40(0x888)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x45b6a1+_0x429d40(0x300)+_0x582005+_0x429d40(0x7f2);const _0x31de7f=document[_0x429d40(0x3a8)](_0x429d40(0x3b2)),_0x5519a5=document[_0x429d40(0x3a8)](_0x429d40(0x975));_0x31de7f['addEventListener'](_0x429d40(0xabc),()=>{const _0x3153a9=_0x429d40;_0x5519a5[_0x3153a9(0x43c)][_0x3153a9(0x2cb)]=_0x31de7f['checked']?_0x3153a9(0x6d5):'none';}),document['getElementById']('start-sync-game-btn')[_0x429d40(0x4f9)](_0x429d40(0x2ea),async()=>{const _0x2d20d0=_0x429d40,_0x491a5c=doc(db,_0x2d20d0(0x714)+appId+_0x2d20d0(0x6a2),currentLiveGameId),_0x423cc5=document[_0x2d20d0(0x3a8)]('confidence-scoring-toggle')[_0x2d20d0(0x69c)];await updateDoc(_0x491a5c,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x423cc5});});}function updateAdminSyncView(_0x568a77){const _0x4a2697=_0x358d67;switch(_0x568a77[_0x4a2697(0xa89)]){case _0x4a2697(0x270):renderSyncLobbyView(_0x568a77['pin'],_0x568a77[_0x4a2697(0x938)]['topic']);const _0x4c9471=Object[_0x4a2697(0xb84)](_0x568a77[_0x4a2697(0x266)]||{})[_0x4a2697(0x47c)](([_0x32909e,_0xf7e358])=>_0xf7e358[_0x4a2697(0xa89)]!==_0x4a2697(0x349));document[_0x4a2697(0x3a8)](_0x4a2697(0x832))['textContent']=_0x4c9471['length'],document[_0x4a2697(0x3a8)](_0x4a2697(0x447))[_0x4a2697(0x888)]=_0x4c9471[_0x4a2697(0x8ca)](([_0x5c3c1d,_0x280391])=>_0x4a2697(0x8c1)+_0x5c3c1d+_0x4a2697(0x1b1)+_0x5c3c1d+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')||_0x4a2697(0x195),document[_0x4a2697(0x3a8)](_0x4a2697(0xbbe))[_0x4a2697(0x709)]=_0x4c9471['length']===0x0;break;case _0x4a2697(0xaad):const _0x4ede25=Object[_0x4a2697(0x41e)](_0x568a77[_0x4a2697(0x266)]||{})[_0x4a2697(0x47c)](_0x977f77=>_0x977f77[_0x4a2697(0xa89)]!==_0x4a2697(0x349)),_0x15496b=_0x4ede25[_0x4a2697(0x47c)](_0x1d3a9a=>_0x1d3a9a[_0x4a2697(0x44b)])[_0x4a2697(0x6b0)],_0x1465cf=_0x15496b===_0x4ede25[_0x4a2697(0x6b0)]&&_0x4ede25['length']>0x0;if(_0x1465cf&&_0x568a77['status']===_0x4a2697(0xaad)){const _0x509611=doc(db,_0x4a2697(0x714)+appId+_0x4a2697(0x6a2),currentLiveGameId);updateDoc(_0x509611,{'status':'summary'});}else{if(document['getElementById']('sync-player-management')===null)renderAdminSyncQuestionView(_0x568a77);else{const _0xe1cb2c=document[_0x4a2697(0x3a8)](_0x4a2697(0x846));_0xe1cb2c&&(_0xe1cb2c[_0x4a2697(0x20d)]=_0x15496b+'/'+_0x4ede25['length']);const _0x3b628c=document['getElementById']('sync-player-list');_0x3b628c&&(_0x3b628c['innerHTML']=_0x4ede25[_0x4a2697(0x8ca)](_0x4fdba3=>{const _0x4c3943=_0x4a2697,_0xba5966=_0x4fdba3[_0x4c3943(0x44b)]?'bg-green-500':_0x4c3943(0x3a3),_0x15e1ce=_0x4fdba3[_0x4c3943(0x44b)]?_0x4c3943(0x48d):_0x4c3943(0xb6f);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0xba5966+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15e1ce+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4fdba3[_0x4c3943(0xbc7)]+_0x4c3943(0x757)+_0x4fdba3['name']+_0x4c3943(0x1d7);})[_0x4a2697(0x61f)](''));}}break;case _0x4a2697(0x394):const _0x8a806=_0x568a77['currentQuestionIndex'],_0x1f0972=_0x568a77['shuffledQuiz'][_0x4a2697(0xb4f)][_0x8a806];renderSyncSummaryView(_0x568a77,_0x1f0972,!![]);break;case _0x4a2697(0xb3e):renderAdminSyncDashboard(_0x568a77,!![]);break;case _0x4a2697(0x940):_0x568a77['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x568a77);sessionStorage[_0x4a2697(0x8e5)](_0x4a2697(0x80c));const _0x2be199=calculateFinalPodiumScores(_0x568a77);showPodiumView(_0x2be199,_0x4a2697(0x750));break;}}function renderAdminSyncQuestionView(_0x4c6078){const _0x3070a5=_0x358d67,_0x3ed7ad=_0x4c6078[_0x3070a5(0x704)],_0x353481=_0x4c6078['shuffledQuiz']['questions'][_0x3ed7ad],_0x78e91d=_0x4c6078[_0x3070a5(0x938)]['questions'][_0x3070a5(0x6b0)],_0x4efa9c=Object[_0x3070a5(0x41e)](_0x4c6078[_0x3070a5(0x266)]||{})[_0x3070a5(0x47c)](_0x1d2cb2=>_0x1d2cb2['status']!==_0x3070a5(0x349)),_0x3434cd=_0x4efa9c[_0x3070a5(0x47c)](_0x426d0d=>_0x426d0d[_0x3070a5(0x44b)])[_0x3070a5(0x6b0)],_0x5bfe57=_0x3434cd===_0x4efa9c[_0x3070a5(0x6b0)]&&_0x4efa9c['length']>0x0,_0x189d3f=(_0x353481[_0x3070a5(0x994)]||[])[_0x3070a5(0x8ca)](_0x5af5d0=>_0x3070a5(0x69a)+_0x5af5d0+_0x3070a5(0x738))[_0x3070a5(0x61f)]('');liveGameView[_0x3070a5(0x888)]=_0x3070a5(0x75f)+(_0x3ed7ad+0x1)+_0x3070a5(0x4bc)+_0x78e91d+_0x3070a5(0x8f0)+_0x3434cd+'/'+_0x4efa9c[_0x3070a5(0x6b0)]+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x353481[_0x3070a5(0xa23)]+_0x3070a5(0x3b9)+_0x189d3f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x5bfe57?'disabled':'')+_0x3070a5(0xb12);if(window['MathJax'])MathJax[_0x3070a5(0x7cf)]();document[_0x3070a5(0x3a8)](_0x3070a5(0x3ae))['addEventListener'](_0x3070a5(0x2ea),async()=>{const _0x3401e1=_0x3070a5,_0x37ee49=doc(db,_0x3401e1(0x714)+appId+_0x3401e1(0x6a2),currentLiveGameId);await updateDoc(_0x37ee49,{'status':'results'});}),document[_0x3070a5(0x3a8)](_0x3070a5(0xa7d))['onclick']=()=>{openScratchpad(_0x353481,_0x353481['options']||[]);},document[_0x3070a5(0x3a8)](_0x3070a5(0x431))[_0x3070a5(0x4f9)](_0x3070a5(0x2ea),()=>{const _0x571da0=_0x3070a5;document[_0x571da0(0x3a8)](_0x571da0(0x1b3))[_0x571da0(0x542)]['toggle'](_0x571da0(0x49a));});}function renderSyncLeaderboardView(_0x526e21,_0x317253){const _0x240a5e=_0x358d67,_0x378aeb=Object[_0x240a5e(0x41e)](_0x526e21[_0x240a5e(0x266)]||{});_0x378aeb[_0x240a5e(0x843)]((_0x2a9232,_0x3fd23c)=>_0x3fd23c[_0x240a5e(0xb0c)]-_0x2a9232[_0x240a5e(0xb0c)]);const _0x426ee6=_0x378aeb['slice'](0x0,0x5);let _0x5e7a28='';if(_0x317253){const _0x52632b=_0x526e21[_0x240a5e(0x704)]>=_0x526e21[_0x240a5e(0x938)][_0x240a5e(0xb4f)][_0x240a5e(0x6b0)]-0x1;_0x5e7a28=_0x240a5e(0x3a9)+(_0x52632b?_0x240a5e(0x608):'ข้อต่อไป')+_0x240a5e(0x6e7);}else _0x5e7a28=_0x240a5e(0x759);liveGameView[_0x240a5e(0x888)]=_0x240a5e(0x31c)+_0x426ee6[_0x240a5e(0x8ca)]((_0x5f20a8,_0x30dd0b)=>_0x240a5e(0xaaa)+(_0x30dd0b+0x1)+'.\x20'+_0x5f20a8[_0x240a5e(0xbc7)]+_0x240a5e(0xb9a)+_0x5f20a8[_0x240a5e(0xb0c)]+_0x240a5e(0x538))['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e7a28+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x317253&&document['getElementById'](_0x240a5e(0x194))[_0x240a5e(0x4f9)]('click',async()=>{const _0x3744c8=_0x240a5e,_0x2e900b=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x42647f=_0x526e21[_0x3744c8(0x704)]+0x1;if(_0x42647f<_0x526e21[_0x3744c8(0x938)][_0x3744c8(0xb4f)][_0x3744c8(0x6b0)]){const _0x2ca01d={};Object['keys'](_0x526e21['players'])[_0x3744c8(0x519)](_0x40e179=>{const _0x31cb23=_0x3744c8;_0x2ca01d[_0x31cb23(0x1a0)+_0x40e179+_0x31cb23(0xbad)]=![];}),await updateDoc(_0x2e900b,{..._0x2ca01d,'status':_0x3744c8(0xaad),'currentQuestionIndex':_0x42647f,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2e900b,{'status':_0x3744c8(0x940)});});}async function handleJoinSyncGame(){const _0x1e3731=_0x358d67,_0x27b026=prompt(_0x1e3731(0xa0e));if(!_0x27b026||_0x27b026[_0x1e3731(0x7a5)]()['length']!==0x2){showMessage(_0x1e3731(0x181));return;}try{const _0x44f3d2=collection(db,_0x1e3731(0x714)+appId+_0x1e3731(0x6a2)),_0x5b5228=query(_0x44f3d2,where(_0x1e3731(0x7b9),'==',_0x27b026[_0x1e3731(0x7a5)]()),where(_0x1e3731(0xa89),'==',_0x1e3731(0x270))),_0x3f4128=await getDocs(_0x5b5228);if(_0x3f4128['empty']){showMessage(_0x1e3731(0xb4c));return;}const _0x480030=_0x3f4128[_0x1e3731(0x901)][0x0];currentLiveGameId=_0x480030['id'];const _0x32b8fe=_0x480030['data'](),_0x382e5a=doc(db,_0x1e3731(0x714)+appId+_0x1e3731(0x4b7),_0x32b8fe[_0x1e3731(0xb39)]),_0x328463=await getDoc(_0x382e5a);if(!_0x328463[_0x1e3731(0x40f)]())throw new Error(_0x1e3731(0xc12));const _0xb2ae51=_0x328463[_0x1e3731(0x49d)](),_0x31b72b=doc(db,'artifacts/'+appId+_0x1e3731(0x508),_0xb2ae51['projectId']),_0x52ed99=await getDoc(_0x31b72b);if(!_0x52ed99[_0x1e3731(0x40f)]())throw new Error(_0x1e3731(0x951));currentQuizData=_0x32b8fe[_0x1e3731(0x938)];const _0x4a9d20=_0x52ed99[_0x1e3731(0x49d)]();showView(_0x1e3731(0x80f)),showTeamPlayerSelection(_0x4a9d20[_0x1e3731(0xaf3)],_0xb2ae51[_0x1e3731(0x339)]);const _0x484f89=document['getElementById'](_0x1e3731(0xa72));_0x484f89[_0x1e3731(0x84c)]=confirmAndJoinSyncGame;}catch(_0x5a6923){console[_0x1e3731(0x77b)](_0x1e3731(0x791),_0x5a6923),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5a6923['message']);}}function updateStudentSyncView(_0xb6c357){const _0x4851eb=_0x358d67,_0x5571bf=_0xb6c357['players'][localTeamPlayers[0x0]];switch(_0xb6c357[_0x4851eb(0xa89)]){case'lobby':showView('live-game'),liveGameView['innerHTML']=_0x4851eb(0xb66);break;case'question':const _0x2dd9eb=localTeamPlayers['every'](_0x29f223=>_0xb6c357[_0x4851eb(0x266)][_0x29f223]?.[_0x4851eb(0x44b)]===!![]);_0x2dd9eb?liveGameView['innerHTML']=_0x4851eb(0xa52):renderStudentSyncQuestionView(_0xb6c357);break;case _0x4851eb(0x394):liveGameView['innerHTML']=_0x4851eb(0x6fe);break;case _0x4851eb(0xb3e):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0xb6c357);break;case _0x4851eb(0x940):sessionStorage[_0x4851eb(0x8e5)]('activeGameSession');const _0x15117a=calculateFinalPodiumScores(_0xb6c357);showPodiumView(_0x15117a,_0x4851eb(0x750));break;}}function renderStudentSyncResultsView(_0x29f55a){const _0xf76e22=_0x358d67,_0x5d6e7c=localTeamPlayers['map'](_0x4d60b8=>_0x29f55a[_0xf76e22(0x266)][_0x4d60b8])[_0xf76e22(0x47c)](Boolean);_0x5d6e7c[_0xf76e22(0x843)]((_0x414b68,_0x3c4c68)=>(_0x3c4c68[_0xf76e22(0xb0c)]||0x0)-(_0x414b68['score']||0x0));const _0x1bd72a=_0x29f55a[_0xf76e22(0x704)]>=_0x29f55a[_0xf76e22(0x938)]['questions'][_0xf76e22(0x6b0)]-0x1;let _0x45afbb='';_0x1bd72a?_0x45afbb=_0xf76e22(0x5e6):_0x45afbb=_0xf76e22(0x55b);const _0x3b8811=_0xf76e22(0x828)+_0x5d6e7c['map']((_0x8f1239,_0x3adf3f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x3adf3f+0x1)+_0xf76e22(0x675)+_0x8f1239[_0xf76e22(0xbc7)]+_0xf76e22(0x7ea)+_0x8f1239[_0xf76e22(0xb0c)]+_0xf76e22(0x860))[_0xf76e22(0x61f)]('')+_0xf76e22(0x56d)+_0x45afbb+_0xf76e22(0x2b2);liveGameView['innerHTML']=_0x3b8811;}function renderStudentSyncQuestionView(_0x5846a9){const _0x48cc86=_0x358d67;while(localPlayerTurnIndex<localTeamPlayers[_0x48cc86(0x6b0)]&&_0x5846a9[_0x48cc86(0x266)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x48cc86(0x44b)]===!![]){localPlayerTurnIndex++;}const _0x12329c=localTeamPlayers[localPlayerTurnIndex];if(!_0x12329c)return;const _0x3f1e20=_0x5846a9[_0x48cc86(0x704)],_0x39fd3f=_0x5846a9[_0x48cc86(0x938)]['questions']['length'],_0x3c8419=_0x5846a9[_0x48cc86(0x938)][_0x48cc86(0xb4f)][_0x3f1e20],_0x111ce8=_0x3c8419[_0x48cc86(0x2d0)]||_0x5846a9['shuffledQuiz']['quizType'];let _0x48e98d='',_0x51df50=![];switch(_0x111ce8){case _0x48cc86(0x5b9):_0x48e98d=_0x48cc86(0x921);break;case'short_answer':case'fill_in_no_choices':_0x51df50=!![],_0x48e98d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x48cc86(0x4b9):_0x51df50=!![],_0x48e98d=_0x48cc86(0x7df)+(_0x3c8419[_0x48cc86(0x37b)]||[])[_0x48cc86(0x8ca)](_0x3d3411=>_0x48cc86(0xaf5)+_0x3d3411+'\x22>'+_0x3d3411+_0x48cc86(0x1f9))[_0x48cc86(0x61f)]('')+_0x48cc86(0x2b4);break;case _0x48cc86(0x302):default:_0x48e98d=(_0x3c8419[_0x48cc86(0x994)]||[])['map']((_0x23c4d0,_0x5b09f4)=>'<button\x20data-value=\x22'+_0x5b09f4+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x23c4d0+'</button>')[_0x48cc86(0x61f)]('');break;}liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x3f1e20+0x1)+'\x20/\x20'+_0x39fd3f+_0x48cc86(0x488)+_0x12329c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x3c8419[_0x48cc86(0xa23)]||_0x3c8419[_0x48cc86(0x966)])+_0x48cc86(0x279)+_0x48e98d+_0x48cc86(0x2b6);if(window[_0x48cc86(0x915)])MathJax[_0x48cc86(0x7cf)]();function _0x3b1fe1(_0xe6773a,_0x14857c,_0x21062f,_0x43b2c5){const _0x1b4565=_0x48cc86,_0x2a5d8b=_0x21062f['isConfidenceScoringEnabled']===!![];if(_0x2a5d8b){document[_0x1b4565(0x3a8)](_0x1b4565(0x66c))[_0x1b4565(0x483)]['currentMode']=_0x1b4565(0x750);const _0x43b572=document['getElementById'](_0x1b4565(0xa42));_0x43b572[_0x1b4565(0x483)][_0x1b4565(0x1e3)]=_0xe6773a,_0x43b572[_0x1b4565(0x483)][_0x1b4565(0xaad)]=JSON[_0x1b4565(0xa50)](_0x14857c),_0x43b572[_0x1b4565(0x483)][_0x1b4565(0xa3b)]=JSON['stringify'](_0x21062f),_0x43b572[_0x1b4565(0x483)][_0x1b4565(0x4da)]=_0x43b2c5,document[_0x1b4565(0x3a8)](_0x1b4565(0x66c))[_0x1b4565(0x542)]['remove'](_0x1b4565(0x49a));}else handleSyncAnswerSubmit(_0xe6773a,_0x14857c,_0x21062f,_0x43b2c5,![]);}_0x51df50?document[_0x48cc86(0x3a8)](_0x48cc86(0xa54))[_0x48cc86(0x4f9)](_0x48cc86(0x2ea),()=>{const _0xf26f79=_0x48cc86,_0x51f0a9=document['getElementById'](_0xf26f79(0xafb))||document[_0xf26f79(0x3a8)]('sync-matching-select');if(_0x51f0a9[_0xf26f79(0xac6)][_0xf26f79(0x7a5)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x3b1fe1(_0x51f0a9['value'],_0x3c8419,_0x5846a9,_0x12329c);}):document['querySelectorAll']('.live-answer-btn')[_0x48cc86(0x519)](_0x264e4d=>{const _0x5bdc8c=_0x48cc86;_0x264e4d[_0x5bdc8c(0x4f9)](_0x5bdc8c(0x2ea),()=>{const _0x350334=_0x5bdc8c;_0x3b1fe1(_0x264e4d[_0x350334(0x483)][_0x350334(0xac6)],_0x3c8419,_0x5846a9,_0x12329c);});});}async function handleSyncAnswerSubmit(_0x48e469,_0x3a5d4a,_0x550493,_0x6973db,_0x34fb03){const _0x3f39e6=_0x358d67;document[_0x3f39e6(0x4a1)](_0x3f39e6(0x8ed))[_0x3f39e6(0x519)](_0x616ca6=>_0x616ca6[_0x3f39e6(0x709)]=!![]);const _0x27e7b1=_0x3a5d4a[_0x3f39e6(0x2d0)]||_0x550493[_0x3f39e6(0x938)][_0x3f39e6(0x593)];let _0x41d7ed=![],_0x589405=_0x48e469;switch(_0x27e7b1){case _0x3f39e6(0x5b9):const _0x5c9cf7=parseInt(_0x48e469),_0x276d4e=_0x3a5d4a[_0x3f39e6(0x5a0)]===!![]||String(_0x3a5d4a[_0x3f39e6(0x5a0)])['toLowerCase']()===_0x3f39e6(0x354);_0x41d7ed=_0x5c9cf7===0x0&&_0x276d4e||_0x5c9cf7===0x1&&!_0x276d4e,_0x589405=_0x5c9cf7===0x0?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด';break;case'short_answer':case _0x3f39e6(0x845):_0x41d7ed=await gradeShortAnswer(_0x48e469,_0x3a5d4a);break;case _0x3f39e6(0x4b9):_0x41d7ed=_0x48e469===_0x3a5d4a['correctResponse'];break;case _0x3f39e6(0x302):default:const _0x3b07e9=parseInt(_0x48e469);_0x41d7ed=_0x3b07e9===_0x3a5d4a[_0x3f39e6(0x468)];_0x3a5d4a['options']&&_0x3a5d4a[_0x3f39e6(0x994)][_0x3b07e9]&&(_0x589405=_0x3a5d4a[_0x3f39e6(0x994)][_0x3b07e9]);break;}let _0x30a3f5=0x0;if(_0x41d7ed&&_0x34fb03)_0x30a3f5=0x2;else{if(_0x41d7ed)_0x30a3f5=0x1;else!_0x41d7ed&&_0x34fb03&&(_0x30a3f5=-0x1);}const _0x1377fe=doc(db,_0x3f39e6(0x714)+appId+'/public/data/syncGames',currentLiveGameId),_0x46191d={};_0x46191d[_0x3f39e6(0x1a0)+_0x6973db+_0x3f39e6(0x693)]=increment(_0x30a3f5),_0x46191d[_0x3f39e6(0x1a0)+_0x6973db+_0x3f39e6(0xbad)]=!![];let _0x4a1fa7=null;(_0x27e7b1===_0x3f39e6(0x302)||_0x27e7b1===_0x3f39e6(0x5b9)||_0x27e7b1===_0x3f39e6(0x6d1))&&(_0x4a1fa7=parseInt(_0x48e469));_0x46191d[_0x3f39e6(0x1a0)+_0x6973db+_0x3f39e6(0x1fd)]=_0x4a1fa7;const _0xe474ae={'questionIndex':_0x550493[_0x3f39e6(0x704)],'questionId':_0x3a5d4a['id'],'answer':_0x48e469,'answerText':_0x589405,'isCorrect':_0x41d7ed,'originalQuestionText':_0x3a5d4a[_0x3f39e6(0xa23)]||_0x3a5d4a[_0x3f39e6(0x966)],'wasConfident':_0x34fb03};_0x46191d[_0x3f39e6(0x1a0)+_0x6973db+'.answers']=arrayUnion(_0xe474ae),await updateDoc(_0x1377fe,_0x46191d);}initialize();
