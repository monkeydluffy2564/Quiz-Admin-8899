const _0xcf56c0=_0x57c6;(function(_0x14d72a,_0x29502c){const _0x46947a=_0x57c6,_0x5ebe30=_0x14d72a();while(!![]){try{const _0x361ca4=parseInt(_0x46947a(0x672))/0x1+-parseInt(_0x46947a(0x68d))/0x2+-parseInt(_0x46947a(0x35b))/0x3*(-parseInt(_0x46947a(0x641))/0x4)+-parseInt(_0x46947a(0x611))/0x5*(parseInt(_0x46947a(0x3ac))/0x6)+parseInt(_0x46947a(0x254))/0x7*(-parseInt(_0x46947a(0x1c9))/0x8)+parseInt(_0x46947a(0x225))/0x9+parseInt(_0x46947a(0x5fc))/0xa;if(_0x361ca4===_0x29502c)break;else _0x5ebe30['push'](_0x5ebe30['shift']());}catch(_0x3941f3){_0x5ebe30['push'](_0x5ebe30['shift']());}}}(_0x4730,0xebace));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':_0xcf56c0(0x644),'name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':'ระบบเลขและค่าประจำหลัก'},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x3c4)},{'category':_0xcf56c0(0x644),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x593)},{'category':_0xcf56c0(0x644),'name':'การลบ'},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':_0xcf56c0(0x644),'name':'การหาร'},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x555)},{'category':_0xcf56c0(0x644),'name':'จำนวนเต็มลบ'},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x18f)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x701)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x292)},{'category':'จำนวนและการดำเนินการ','name':_0xcf56c0(0x4c7)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x2dd)},{'category':'จำนวนและการดำเนินการ','name':_0xcf56c0(0x40d)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x557)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x33a)},{'category':'จำนวนและการดำเนินการ','name':_0xcf56c0(0x331)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x6dd)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x524)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x655)},{'category':'จำนวนและการดำเนินการ','name':_0xcf56c0(0x546)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x253)},{'category':'จำนวนและการดำเนินการ','name':_0xcf56c0(0x573)},{'category':_0xcf56c0(0x644),'name':'การบวกทศนิยม'},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x564)},{'category':'จำนวนและการดำเนินการ','name':_0xcf56c0(0x2b3)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x500)},{'category':_0xcf56c0(0x644),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x63b)},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x4ea)},{'category':_0xcf56c0(0x644),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0xcf56c0(0x644),'name':_0xcf56c0(0x209)},{'category':_0xcf56c0(0x644),'name':'รากที่สองและที่สาม'},{'category':_0xcf56c0(0x644),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0xcf56c0(0x644),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0xcf56c0(0x2b6),'name':'หน่วยความยาวและการแปลง'},{'category':_0xcf56c0(0x2b6),'name':_0xcf56c0(0x3ca)},{'category':_0xcf56c0(0x2b6),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':'การวัด','name':_0xcf56c0(0x719)},{'category':_0xcf56c0(0x2b6),'name':_0xcf56c0(0x621)},{'category':'การวัด','name':_0xcf56c0(0x1ca)},{'category':_0xcf56c0(0x2b6),'name':_0xcf56c0(0x5da)},{'category':_0xcf56c0(0x2b6),'name':'พื้นที่สามเหลี่ยม'},{'category':_0xcf56c0(0x2b6),'name':_0xcf56c0(0x25e)},{'category':_0xcf56c0(0x2b6),'name':_0xcf56c0(0x226)},{'category':_0xcf56c0(0x2b6),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0xcf56c0(0x2b6),'name':_0xcf56c0(0x3ab)},{'category':_0xcf56c0(0x2b6),'name':_0xcf56c0(0x1d4)},{'category':_0xcf56c0(0x2b6),'name':_0xcf56c0(0x44a)},{'category':_0xcf56c0(0x717),'name':_0xcf56c0(0x5a7)},{'category':_0xcf56c0(0x717),'name':_0xcf56c0(0x1f0)},{'category':_0xcf56c0(0x717),'name':_0xcf56c0(0x3eb)},{'category':_0xcf56c0(0x717),'name':_0xcf56c0(0x360)},{'category':_0xcf56c0(0x717),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0xcf56c0(0x717),'name':_0xcf56c0(0x35c)},{'category':_0xcf56c0(0x717),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0xcf56c0(0x717),'name':_0xcf56c0(0x503)},{'category':'เรขาคณิต','name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':'เรขาคณิต','name':_0xcf56c0(0x467)},{'category':_0xcf56c0(0x717),'name':_0xcf56c0(0x206)},{'category':_0xcf56c0(0x717),'name':_0xcf56c0(0x2e4)},{'category':_0xcf56c0(0x717),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0xcf56c0(0x717),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0xcf56c0(0x717),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x5f4)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x359)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x1a5)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x65d)},{'category':_0xcf56c0(0x633),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0xcf56c0(0x633),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0xcf56c0(0x633),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0xcf56c0(0x633),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x4e5)},{'category':_0xcf56c0(0x633),'name':'สมการเหตุผล\x20(rational)'},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x268)},{'category':_0xcf56c0(0x633),'name':'สมการยกกำลัง'},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x682)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x6ee)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x6d3)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x5e7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x287)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x5ab)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x724)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x4fd)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x482)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x1f6)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x543)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x52b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x279)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x705)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x2c9)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x54b)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x20f)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x1d6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xcf56c0(0x217)},{'category':_0xcf56c0(0x633),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x3f0)},{'category':_0xcf56c0(0x633),'name':_0xcf56c0(0x31f)},{'category':_0xcf56c0(0x2ba),'name':_0xcf56c0(0x1a0)},{'category':_0xcf56c0(0x2ba),'name':_0xcf56c0(0x1a4)},{'category':_0xcf56c0(0x2ba),'name':_0xcf56c0(0x442)},{'category':_0xcf56c0(0x2ba),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0xcf56c0(0x2ba),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0xcf56c0(0x2ba),'name':_0xcf56c0(0x605)},{'category':_0xcf56c0(0x2ba),'name':'พาราโบลา'},{'category':_0xcf56c0(0x2ba),'name':_0xcf56c0(0x616)},{'category':_0xcf56c0(0x2ba),'name':_0xcf56c0(0x63c)},{'category':_0xcf56c0(0x307),'name':_0xcf56c0(0x6f7)},{'category':_0xcf56c0(0x307),'name':_0xcf56c0(0x56a)},{'category':_0xcf56c0(0x307),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0xcf56c0(0x307),'name':_0xcf56c0(0x1d0)},{'category':'ตรีโกณมิติ','name':_0xcf56c0(0x4df)},{'category':'ตรีโกณมิติ','name':_0xcf56c0(0x28d)},{'category':'ตรีโกณมิติ','name':_0xcf56c0(0x6cd)},{'category':_0xcf56c0(0x307),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0xcf56c0(0x307),'name':_0xcf56c0(0x355)},{'category':_0xcf56c0(0x307),'name':_0xcf56c0(0x6f1)},{'category':'ตรีโกณมิติ','name':_0xcf56c0(0x44d)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x698)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x6cf)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x25f)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x737)},{'category':'สถิติและความน่าจะเป็น','name':_0xcf56c0(0x6e5)},{'category':_0xcf56c0(0x517),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x3ec)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x195)},{'category':_0xcf56c0(0x517),'name':'ฐานนิยม'},{'category':'สถิติและความน่าจะเป็น','name':_0xcf56c0(0x2ce)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x674)},{'category':_0xcf56c0(0x517),'name':'ความแปรปรวน'},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0xcf56c0(0x517),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x2ab)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x3a3)},{'category':'สถิติและความน่าจะเป็น','name':'กฎบวกและกฎคูณ'},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x23e)},{'category':'สถิติและความน่าจะเป็น','name':_0xcf56c0(0x57f)},{'category':_0xcf56c0(0x517),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x26b)},{'category':'สถิติและความน่าจะเป็น','name':_0xcf56c0(0x702)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x264)},{'category':_0xcf56c0(0x517),'name':_0xcf56c0(0x232)},{'category':_0xcf56c0(0x675),'name':_0xcf56c0(0x4f4)},{'category':_0xcf56c0(0x675),'name':'ความต่อเนื่อง'},{'category':_0xcf56c0(0x675),'name':_0xcf56c0(0x3cf)},{'category':_0xcf56c0(0x675),'name':_0xcf56c0(0x731)},{'category':_0xcf56c0(0x675),'name':_0xcf56c0(0x1c1)},{'category':_0xcf56c0(0x675),'name':_0xcf56c0(0x60c)},{'category':_0xcf56c0(0x675),'name':'ความชันเส้นสัมผัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0xcf56c0(0x738)},{'category':_0xcf56c0(0x675),'name':_0xcf56c0(0x6b3)},{'category':'แคลคูลัสเบื้องต้น','name':_0xcf56c0(0x5c1)},{'category':_0xcf56c0(0x675),'name':_0xcf56c0(0x531)},{'category':'แคลคูลัสเบื้องต้น','name':_0xcf56c0(0x32b)},{'category':_0xcf56c0(0x675),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0xcf56c0(0x42d),'name':_0xcf56c0(0x474)},{'category':_0xcf56c0(0x42d),'name':_0xcf56c0(0x290)},{'category':_0xcf56c0(0x42d),'name':_0xcf56c0(0x4b8)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xcf56c0(0x533)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xcf56c0(0x2a4)},{'category':_0xcf56c0(0x42d),'name':_0xcf56c0(0x6ab)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xcf56c0(0x700)},{'category':_0xcf56c0(0x285),'name':_0xcf56c0(0x37c)},{'category':'คณิตการเงิน/บูรณาการ','name':_0xcf56c0(0x44b)},{'category':_0xcf56c0(0x285),'name':_0xcf56c0(0x238)},{'category':_0xcf56c0(0x285),'name':_0xcf56c0(0x1e2)},{'category':_0xcf56c0(0x285),'name':_0xcf56c0(0x1e6)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0xcf56c0(0x54c)},{'category':_0xcf56c0(0x403),'name':_0xcf56c0(0x27d)}];function _0x4730(){const _0x3b4616=['กำลังสร้างแบบทดสอบจากหัวข้อ...','none','mouseleave','nickname-input','บันทึกแบบทดสอบสำเร็จแล้ว!','ยืนยันการกระทำ','first_try_ace','Error\x20fetching\x20quiz\x20settings:','from','rgba(79,\x2070,\x20229,\x201)','ระยะเวลา\x20(นาที):','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','\x22\x20ให้เป็นคำถามประเภท\x20\x22','loader','analytics-tab-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','live-short-answer-input','การจัดกลุ่มข้อมูล','เปลี่ยนชื่อแบบทดสอบสำเร็จ','timerMode','starred','อสมการค่าสัมบูรณ์','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','<option\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','questionDisplayedAt','move','value','การบวกเศษส่วน','opacity-50','target','<span\x20class=\x22sort-indicator\x20ml-2\x22>','rows','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','strength-weakness-analysis-container','Failed\x20to\x20parse\x20JSON\x20from\x20AI','ฮิสโตแกรม','Error\x20fetching\x20projects\x20for\x20move:','เปิดใช้งาน','delete-svg-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','no-projects-msg','startTime','\x22\x20data-q-type=\x22','อสมการเชิงเส้น','touchmove','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','กราฟฟังก์ชันตรีโกณ','ai-quiz-app-aefee','สร้างแบบทดสอบปรนัย','student-project-leaderboard-content','projectId','.quiz-settings-btn','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','student-name-input','\x22>ไม่ใช่</p>','classWeaknesses','.question-editor-item[data-q-index=\x22','after','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','แก้ระบบสมการด้วยเมทริกซ์','ค่าสัมบูรณ์','การจัดหมู่\x20(Combination)','Error\x20adding\x20custom\x20topic:','push','ฟังก์ชันราก\x20(root)','student-initial-view','\x22\x20value=\x22true\x22\x20','student-name-selection-view','helvetica','ลบโปรเจคสำเร็จแล้ว','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','live-game-view',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','items','defaultPassingScore','currentTarget','</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','export-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','fill_in_no_choices','เรขาคณิต','add','ปริมาตร/ความจุและการแปลง','timerDuration','เกิดข้อผิดพลาดในการโหลดโปรเจค','slide-counter','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','$1^{\x5ccirc}\x5ctext{C}','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','generate-from-text-btn','dataset','องค์ประกอบของฟังก์ชัน','contents','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','#per-question-options\x20textarea','ring-2','Error\x20saving\x20quiz:','remedialContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','cancel-quiz-status-btn','passingScore','text-red-700\x20bg-red-100','อัปเดตสถานะสำเร็จ',')\x5cb)','อนุพันธ์:\x20กฎลูกโซ่','project-list','undefined','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','ทำคะแนนเต็มในการทำครั้งแรก','stem','กราฟแท่ง\x20กราฟเส้น','อัตราการเปลี่ยนแปลงทันที','whole_quiz','\x5cpm','pinned-items','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','result','input[type=\x22text\x22]','some','ศูนย์','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','closest','#student-project-leaderboard-content\x20thead','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-pin-input','มัธยฐาน','Remedial\x20quiz\x20generation\x20failed:','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','button','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','confirm-admin-login-btn','),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-tab','correctAnswerIndex','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','binom','ระยะทางและจุดกึ่งกลาง','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.delete-project-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันและเส้นตรง','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','คะแนน','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','commit','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x20/\x20','innerHTML','resultsDisplay','removeAttribute','icon','blueprint-input-area','keys','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','find','font-bold','date_asc','bestScore','set','.quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์เอกสารนี้อย่างละเอียดเพื่อทำความเข้าใจโครงสร้างทั้งหมด:\x20สาระการเรียนรู้,\x20จำนวนข้อสอบทั้งหมด,\x20การแบ่งประเภทข้อสอบ\x20(เช่น\x20ปรนัย\x204\x20ตัวเลือก,\x20ระบายตัวเลข),\x20และหัวข้อเฉพาะของแต่ละส่วน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้างแบบทดสอบที่สมบูรณ์\x201\x20ชุด\x20โดยต้องเป็นไปตามข้อกำหนดใน\x20Blueprint\x20อย่างเคร่งครัด\x20**ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer\x20สำหรับระบายตัวเลข)\x20ต้องตรงกับที่ระบุใน\x20Blueprint\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20เนื้อหาของคำถามต้องสอดคล้องกับ\x20\x22สาระการเรียนรู้แกนกลาง\x22\x20และ\x20\x22ตัวชี้วัด\x22\x20ที่กำหนดไว้ในแต่ละส่วน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','true_false','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','อนุพันธ์:\x20ผลคูณ/ผลหาร','<tr><td\x20colspan=\x22','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','round','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','```','เกิดข้อผิดพลาดในการบันทึก','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','7792RnFZYz','เส้นรอบรูป','จำนวนข้อ:','[contenteditable=\x22true\x22]','Error\x20fetching\x20student\x20rankings:','link-url-input','ข้อที่\x20','เรเดียนและการแปลงหน่วย','N/A','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','สเกลและแผนที่','confirm-create-project-btn','ลำดับเลขคณิต\x20(AP)','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','.mb-3','contentEditable','questionText','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','padStart','projectName','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ค่าเสื่อมราคา','</p></div>','move-quiz-project-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ร้อยละประยุกต์','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','confirm-global-live-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','Error\x20saving\x20to\x20question\x20bank:','confirm-delete-btn','desc','/studentProfiles','tan','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความสัมพันธ์ของมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','leaderboard-table-body','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','values','ฟังก์ชันเชิงเส้นและกราฟ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','Error\x20fetching\x20project\x20quizzes:','image/png','bg-yellow-200\x20text-yellow-800','text-green-900','live-submit-short-answer-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','border-red-300\x20bg-red-50','reveal-answer-btn','button[data-id]','กรุณาเลือกสถานะ','results-tab-content','เกิดข้อผิดพลาดในการโหลดสถานะ','\x22\x20name=\x22question_single\x22\x20value=\x22','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','fullscreenElement','\x20ใหม่...','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','.delete-svg-btn','\x20ข้อ\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-live-game-modal','ฟังก์ชันลอการิทึม','auto-fix-latex-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_and_answers','podium','API\x20call\x20failed','[data-is-correct=\x22true\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ลำดับเรขาคณิต\x20(GP)','results-display-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','cancel-quiz-bank-btn','qType','cancel-move-quiz-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','project-id-display','trim','getTextContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','right','shuffle','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','4077396ZxQhNy','พื้นที่ผิวรูปทรงสามมิติ','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','students','display','defaultNumQuestions','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','จากไฟล์ที่แนบมานี้,\x20','num-choices','เกิดข้อผิดพลาดในการสร้างใบงาน','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','ความคาดหมาย\x20(Expected\x20value)','createdAt','badges','quiz-editor-questions-container','student-name-select','imageCode','เงินงวด\x20(อนุกรมเงินงวด)','td,\x20th','close','split','STOP','delete-all-students-btn','แผนภาพเวนน์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','<p\x20class=\x22','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','คณิตศาสตร์','clientX','back-to-student-initial-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','content','.correct-response-input','toggle','Error\x20saving\x20settings:','numPages','text-green-600\x20font-bold','next-question-btn','worksheet-topic-input','getContext','admin','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','จำนวนคละ','1519nRjaTb','.edit-question-btn','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','allResponses','q-image-container-','mousedown','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','พื้นที่วงกลม/ส่วนของวงกลม','ตารางความถี่','<p><strong>คำตอบของคุณ:</strong>\x20','quiz-status-options','AI\x20grading\x20failed:','slice','การแจกแจงทวินาม\x20(พื้นฐาน)','OBJECT','fas\x20fa-bookmark','.png','สมการราก\x20(radical)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','quiz-generation-area','การเรียงสับเปลี่ยน\x20(Permutation)','generate-from-link-btn','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-quiz-btn','toFixed','Error\x20listening\x20for\x20starred\x20quizzes:','ไม่มีคำอธิบาย','generate-worksheet-btn','/public/data/projects/','removeChild','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','password-error-msg','ฟังก์ชันสัมพัทธ์\x20(rational)','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-name=\x22','student-project-leaderboard-table-body','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','/public/data/liveGames','/public/data/customMathTopics','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','<li\x20class=\x22','.badges','คณิตการเงิน/บูรณาการ','points','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','editor-quiz-topic','modal-timer-duration-label','กฎของโคไซน์','parse','string','ดอทโปรดักต์\x20(dot)','lobby','เส้นจำนวน','ไม่ผ่าน','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','ไม่สามารถโหลดรายการโปรเจคได้','sum','force-math-checkbox','.option-text','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','save','text/html','addEventListener','export-leaderboard-word-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','export-image-btn','cursor','link-topic-input','อินเวอร์สของเมทริกซ์','true','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','flex','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','student-quiz-topic','answeredCurrentQuestion','pointsLastQuestion','start-quiz-btn','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การคูณทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','การวัด','jspdf','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','ผู้เชี่ยวชาญ','quiz-status-modal','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','เกิดข้อผิดพลาดในการลบแบบทดสอบ','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','Authentication\x20failed:','print','block','ไม่พบแบบทดสอบ','\x5cle','admin-view','ฟังก์ชันค่าสัมบูรณ์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20','leaderboard_','Error\x20starting\x20game:','description','พิสัย','name_asc','insertAdjacentHTML','.quiz-bank-item','global-quiz-list','latestScore','score-distribution-chart','\x22\x20data-topic=\x22','input[type=\x22checkbox\x22]','preventDefault','auto','manual_release','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','katex','touches','confirm-quiz-status-btn','show_pass_fail_only','admin-testing','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','bg-green-500','ใช่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','cancel-create-project-btn','results_','แบบทดสอบที่ติดดาว','originalTopic','fill','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','$1^{$2}','results','#view-rankings-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','keyup','.project-card-content','save-quiz-edits-btn','typesetPromise','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-table-body','text-blue-700\x20bg-blue-100','bank-input-area','\x5cneq','#results-table','parallel-test-input-area','draggable-text','ownerSVGElement','cloneNode','entries','quiz-leaderboard-table-container','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','questionType','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ตรีโกณมิติ','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','Error\x20generating\x20from\x20blueprint:','<p\x20class=\x22font-bold\x20text-sm\x20','<option>กำลังโหลดโปรเจค...</option>','quiz-bank-count','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','add-student-btn','(ไม่มีชื่อ)','name','update',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','input[name=\x22status-option\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','type','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</body></html>','จำนวนเชิงซ้อน\x20(เสริม)','modal-timer-duration-input','#student-quiz-leaderboard-content\x20thead','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','revealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','generated-quiz-container','Error\x20renaming\x20quiz:','math-topic-search-input','<i\x20class=\x22fas\x20fa-save\x22></i>','\x5ctext{$1}','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','ทฤษฎีบทพื้นฐานของแคลคูลัส','ย้าย','project-title','mousemove','questions','stringify','เศษส่วน\x20(ย่อ/ขยาย)','toLocaleDateString','.doc','admin-try-quiz-btn','MathJax','endTime','student-join-game-view','passing-score-input','เปิด\x20(จับเวลา)','อัตราและอัตราหน่วย','presentation-ai-result','position','generated-quiz-actions','loader-text','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','includes','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','svg','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','leaderboard-tab-content','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','quiz-leaderboard-table','data','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','isRemedial','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-modal','/questionBank','API\x20call\x20failed\x20with\x20status:\x20','.sort-indicator','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.delete-student-btn','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','สมการตรีโกณมิติ','copy','mouseup','กำลังสร้างคำถามข้อ\x20','การกระจายและการจัดหมู่','กรุณาป้อนหัวข้อสำหรับใบงาน','11910PxVPyv','ความคล้ายของรูป','badgesCount','promptFeedback','แบบปรนัย\x204\x20ตัวเลือก','พื้นที่สามเหลี่ยม','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขข้อนี้','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','bg-green-100\x20text-green-800','difficulty-level-select','geq','</span></div>','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','ข้อต่อไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','start-remedial-quiz-btn','ไม่พบข้อมูลผู้ใช้','Copy\x20command\x20failed','\x22\x20สำเร็จ','leaderboard-quiz-tab-content','doughnut','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','circle','parallel-test-tab','link-input-area','mixed','scheduled','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยอย่างง่าย','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','timer-duration-label','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','admin-password-modal','คะแนนเต็ม','label[for=\x22num-questions\x22]','setAttribute','change','dataIndex','countdown-display','<div\x20class=\x22flex-1\x22></div>','Error\x20deleting\x20project:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','คัดลอกแบบทดสอบสำเร็จ','แบบทดสอบจากคลังส่วนตัว','files','Error\x20generating\x20from\x20link:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','live-options-container','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','textContent','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','then','thead','btn','fullscreenchange','earned-badges-container','.star-quiz-btn','\x20ครั้ง)</span></td>','originalQuestionText','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','แบบทดสอบนี้ปิดใช้งานอยู่','quiz-schedule-end-container','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','disabled','Error\x20duplicating\x20quiz:','toLocaleString','title','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','มุมและการวัดมุม','6cfgaWJ','กำลังสร้างแบบทดสอบคู่ขนาน...','matching_item','asc','getBBox','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submittedAt','text-green-700\x20bg-green-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','จากเนื้อหาต่อไปนี้:\x20\x22','ref','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','bg-purple-50','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','export-leaderboard-image-btn','quiz-editor-modal','ลบแบบทดสอบสำเร็จแล้ว','readAsDataURL','deg','open-global-live-btn','players','การปัดเศษและประมาณค่า','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ARRAY','\x5ccdot','FileReader\x20error:','quiz-bank-modal','หน่วยมวล/น้ำหนักและการแปลง','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','parts','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อนุพันธ์:\x20กฎพื้นฐาน','hidden','topic-input','generate-from-topic-btn','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','fill_in_with_choices','$1\x5ctext{','\x20\x20\x20-\x20','timer-mode-select','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','label','index','NUMBER','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','touchstart','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','global-quiz-search-input','normal','confirm-move-quiz-btn','Invalid\x20response\x20structure\x20from\x20AI:','replace','test','close-presentation-btn','Error\x20displaying\x20question\x20bank:','quiz-form','questions_only','submission-status-chart','สามเหลี่ยม\x20(ชนิด/สมบัติ)','ค่าเฉลี่ย','bottom','players.','style','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','per-question-options','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','blockReason','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','admin-dashboard','ตั้งเวลา\x20(เปิด)','กรุณาใส่ชื่อโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<h1></h1>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attempts','results-table-container','#ffffff','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','setFont','POST','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','Leaderboard\x20update\x20transaction\x20failed:\x20','ค.ร.น.\x20(LCM)','Error\x20generating\x20parallel\x20test\x20from\x20bank:','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','options','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','project-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','bank-tab','manage','Error\x20showing\x20quiz\x20detail\x20view:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถสร้างโปรเจคได้','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','project-detail-view','back-to-dashboard-btn','text-tab','Error\x20loading\x20quiz\x20for\x20student:','question-complexity-select','สร้างแบบทดสอบ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-blueprint-btn','กำลังสร้างรูปภาพ...','scores-tab-btn','length','.presentation-option','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','fill_in_the_blank','.csv','เวกเตอร์และเมทริกซ์\x20(เสริม)','_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','Error\x20starting\x20live\x20race:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','cancel-rename-quiz-btn','$1_{$2}','\x20ตัวเลือก.\x20','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','teacherSuggestions','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','toDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','topic','quiz-id-input','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','project-detail','quiz-end-time','เส้นตรง:\x20รูปแบบสมการ','open-quiz-bank-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x20หัวข้อ)','open','สร้างโปรเจคสำเร็จ!','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','perseverance','ค่าคลาดเคลื่อนของการวัด','ดอกเบี้ยทบต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','map','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20','สร้างชุดคำถามจับคู่','per-question-text','modal-timer-duration-container','status','<li>','bar','quiz-results','ผ่าน','analyze-strengths-btn','\x20คะแนน','Enter','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','กำลังวิเคราะห์ข้อสอบ\x20\x22','scores-tab-content','ON_FIRE','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','selected-topics-count','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','.question-editor-item','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','totalQuestions','classStrengths','questionStatus','fas\x20fa-star\x20text-yellow-500','key','download','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</li>','ไม่มี','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','Error\x20deleting\x20all\x20students:','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','parseFromString','/submissions','end-game-btn','leaderboard','confirmation-modal','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','back-to-project-btn','user-id-display','student-list','querySelector','div','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','</span></p>','quiz-type-select','originalQuestion','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','input[type=\x22checkbox\x22]:checked','text-green-600','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','select-all-topics-btn','modal-results-display-select','คำตอบถูกต้อง!\x20+','```json','on_fire','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','indexOf','modal-message','querySelectorAll','student-rankings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','underline','scores','studentName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','removeEventListener','project-sort-select','student-result-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-700','start-game-btn','student-quiz-leaderboard-table-body','classList','analytics','^{\x5ccirc}\x5ctext{C}$','fa-pen','<i\x20class=\x22fas\x20fa-pen\x22></i>','input','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','custom-math-topic-input','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','.pdf','ไม่พบตารางสำหรับ\x20Export','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','worksheet-input-area','idealAnswer','การประยุกต์เวกเตอร์พื้นฐาน','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','totalPoints','1:274192258111:web:4120c9118229b5644dd48a','onerror','เลือกและบันทึก','.move-quiz-btn','Error\x20listening\x20for\x20custom\x20math\x20topics:','timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','leaderboard-quiz-tab-btn','docs','quiz-search-input','Error\x20regenerating\x20question\x20in\x20editor:','explanation','ตัวประกอบและตัวประกอบเฉพาะ','substring','createElement','\x22,\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','overline','เลือกโปรเจคเพื่อบันทึก','body','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','/public/data/quizzes','cancel-admin-login-btn','/public/data/projects','คัดลอกรหัสแล้ว!','\x5cs*\x5c(','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','currentQuestionIndex','\x5csqrt{$1}','\x20คู่\x20','sin','editable-quiz-topic','\x5cdiv','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','correctResponse','กฎของไซน์','Error\x20updating\x20quiz\x20status:','.answeredCurrentQuestion','toString','หมดเวลาสำหรับข้อนี้!','table','สมการค่าสัมบูรณ์','function','bank-quiz-list','.start-live-race-btn','_opt','ปรับเพิ่ม/ลดเป็นร้อยละ','correctAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','multiple_choice','สร้างคำถามแบบเติมคำในช่องว่าง','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','timer-bar','\x20\x20\x20-\x20คำตอบ:\x20','คำตอบผิด','textarea','ลิมิต','close-student-rankings-btn','dispatchEvent','\x22>ใช่</p>','getElementById','student','Error\x20processing\x20file\x20for\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','touchcancel','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบซ่อมเสริม','การหารทศนิยม','defaultNumChoices','$1\x5cfrac','รูปหลายเหลี่ยมและมุมภายใน','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','fa-crown\x20text-yellow-500','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Error\x20opening\x20quiz\x20editor:','quiz-schedule-start-container','promise','isCorrect','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','bg-amber-100\x20text-amber-800','สร้างคำถามใหม่\x201\x20ข้อ\x20','ผ่านฉลุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสารผังการสร้างข้อสอบ\x20(Test\x20Blueprint)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาจากไฟล์\x20Test\x20Blueprint:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','submissions','inactive','\x22\x20name=\x22question','player-count','short_answer','สถิติและความน่าจะเป็น','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','width','beforeend','[*]','bg-green-300','exitFullscreen','2-digit','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','answers','.draggable-text','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','การลบเศษส่วน','checked','option','comeback_king','scheduled_pending','move-quiz-modal','correctStreak','ฟังก์ชันพหุนาม','message-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','remove','quizType','autoTable','ปริพันธ์จำกัด','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','เมทริกซ์:\x20บวก/คูณ','COMEBACK_KING','\x22...','presentation-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','เกิดข้อผิดพลาดในการสร้างห้องเกม','00:00','firstScore','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','adaptive-quiz-checkbox','ไม่ได้ตอบ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','.parallel-quiz-btn','quizId','forEach','ฟังก์ชันกำลังสองและกราฟ','mode-switcher-btn','generate-from-file-btn','การหารเศษส่วน','class','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','document','admin-action-buttons','ฟังก์ชันแบบชิ้นส่วน','รูปแบบการให้เหตุผล','Error\x20toggling\x20star\x20status:','submission','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','/public/data/quizzes/','analytics-tab-content','createObjectURL','จำนวนเต็มบวก','Error\x20generating\x20from\x20parallel\x20test\x20file:','อัตราส่วนและสัดส่วน','สอบปกติ','<div\x20class=\x22loader\x20mx-auto\x22></div>','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','reduce','</h3>','\x5ctimes','\x5cfrac{$1}{$2}','category','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ไม่พบโปรเจค','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','stopPropagation','hover:bg-indigo-100','มุมพิเศษ\x2030°-60°-90°','เกี่ยวกับหัวข้อ\x20\x22','num-choices-container','timer-duration-input','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','font-bold\x20text-red-700\x20line-through','load-quiz-btn','select','click','ทศนิยม\x20(ค่าประจำหลัก)','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','appendChild','project-quizzes-list','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','text-blue-700','floor','quiz-leaderboard-table-body','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-view','\x5cfrac','both','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','presentation-slide-container','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','file-input-area','approx','<div\x20id=\x22q-image-container-','red','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20status:','แบบเติมคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การยืนยันตัวตนล้มเหลว','innerText','กรุณาป้อนรหัสแบบทดสอบ','quiz','.admin-try-quiz-list-btn','results-quiz-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</td>','การบวก','getPage','กรุณาวาง\x20URL\x20ของบทความก่อน','line-through\x20text-red-700','isStarred','_opt1\x22>ไม่ใช่</label></div>','getAttributeNS','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x22\x20value=\x22','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','Error\x20saving\x20quiz\x20edits:','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','PERFECT_SCORE','เกิดข้อผิดพลาดในการติดดาว','กรุณาเลือกไฟล์ก่อน','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-editor-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จุด\x20เส้น\x20ระนาบ','border-4','confirmation-message','แบบทดสอบไม่มีชื่อ','โดเมนและเรนจ์','active','artifacts/','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','</span></td>','mjx-container','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','answer','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','join','timer-container','blueprint-tab','ย้ายแบบทดสอบไปโปรเจคอื่น','http://www.w3.org/2000/svg','\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร','G-V90KRM0L63','ปริพันธ์ไม่จำกัด','live-game','num-questions','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','bg-red-100\x20text-red-800','modal-passing-score-input','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','export-leaderboard-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20(','project-dashboard-view','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','save-settings-btn','quiz-start-time','date_desc','text/csv;charset=utf-8;','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','create-from-bank-btn','border-green-500','raw','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','shuffleSetting','.quiz-bank-try-btn','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','sort','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','latestSubmittedAt','modal-adaptive-quiz-checkbox','</div><div\x20class=\x22space-y-2\x22>','back-to-home-manual-release','include-images-checkbox','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','กรุณาเลือกโปรเจคปลายทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','จำนวนคู่:','setAttributeNS','</p>','ระบบอสมการ','file-topic-input','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.choice-text','confirm-quiz-settings-btn','check-presentation-answer-btn','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','BOOLEAN','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-fire\x20text-orange-500','ตัวแปรและนิพจน์','results-quiz-title','gamePin','export-excel-btn','(^|[^\x5c\x5c])\x5cb','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','Invalid\x20response\x20structure\x20from\x20AI.','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','21524960RllINX','rename-quiz-input','close-game-final-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','copy-quiz-id-btn','ยังไม่ส่ง','text-purple-600','global-live-game-count','match','วงกลม:\x20สมการและสมบัติ','parallel-test-upload-input','ไม่พบข้อมูลแบบทดสอบ','สร้างคำถามแบบใช่/ไม่ใช่','delete','(เลือกแล้ว\x20','starred-project','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','MathJax\x20typeset\x20error\x20(analytics):','.live-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','9184545lPswYg','ring-purple-400','text-white','perfect_score','th-TH','วงรี','results-table','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','shuffle-setting-select','destroy','\x22.\x20','modal-close-btn','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','อุณหภูมิและการแปลง','GlobalWorkerOptions','_opt1\x22\x20name=\x22question','outerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','#10B981','<div\x20class=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','พีชคณิตและฟังก์ชัน','math-topics-checkbox-container','-tab-content','.ql-editor','fa-user-astronaut\x20text-blue-700','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','focus','\x22><i\x20class=\x22fas\x20','ร้อยละพื้นฐาน','ไฮเพอร์โบลา','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','.\x20แต่ละข้อมี\x20','508AwmuaB','หัวข้อที่สร้างเอง','ไม่ใช่','จำนวนและการดำเนินการ','onclick','.duplicate-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab','#per-question-options\x20select','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','confirm-join-game-btn','bg-red-200\x20text-red-800','random','_opt0\x22>ใช่</label></div>','font-bold\x20text-green-700','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','[role=\x22textbox\x22]','onload','เกมสิ้นสุดลงแล้ว','การคูณเศษส่วน','ไม่สามารถโหลดข้อมูลอันดับได้','\x20จาก\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','bg-white/30','หมดเวลา!\x20กำลังส่งคำตอบ...','filter','specialist','การแยกตัวประกอบ','$1\x20\x5cfrac','cancel-quiz-edits-btn-footer','/users/','text-input-area','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','str','far\x20fa-star','Blueprint\x20วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบ...','settings','circ','border-green-700','Error\x20deleting\x20quiz:','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','matching','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','student-project-leaderboard-tab','สลับไปโหมดนักเรียน','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','661802BSfQmC','now','ส่วนเบี่ยงเบนเฉลี่ย','แคลคูลัสเบื้องต้น','$1\x5c%','prev-question-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','เกิดข้อผิดพลาด:\x20','arrayBuffer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','isAdaptive','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-input','สมการลอการิทึม','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','STRING','student-quiz-leaderboard-tab','toISOString','finishReason','เกิดข้อผิดพลาดในการลบโปรเจค','\x22\x20value=\x22false\x22\x20','1515878LCuJTg','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','false','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','generate-from-parallel-test-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','touchend','application/json','localeCompare','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','start-presentation-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','json','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','border-green-300\x20bg-green-50','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','bg-red-500','bg-blue-100\x20text-blue-800','instructions','write','modal-shuffle-select','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','exists','height','sqrt','opacity','ดีเทอร์มิแนนต์','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','player-list-lobby','cancel-quiz-settings-btn','cancel-test-btn','next-live-question-btn','modal-timer-mode-select','รอเปิด','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<div\x20class=\x22mb-3\x22>','file-upload-input','.answer-text','default','input[type=\x22radio\x22]:checked','empty','บันทึกการแก้ไข','cancel-global-live-btn','<textarea\x20name=\x22question'];_0x4730=function(){return _0x3b4616;};return _0x4730();}function renderTopicCheckboxes(){const _0x53af6a=_0xcf56c0,_0x319db8=document['getElementById'](_0x53af6a(0x634));if(!_0x319db8)return;const _0x541394=allMathTopics,_0x3aab6a=customMathTopics[_0x53af6a(0x44f)](_0x8d9368=>({'category':'หัวข้อที่สร้างเอง','name':_0x8d9368['name']})),_0x4adbe8=[..._0x541394,..._0x3aab6a],_0x38d07a=_0x4adbe8[_0x53af6a(0x55b)]((_0x2e7cdf,_0x596896)=>{const _0x4061e2=_0x53af6a;return!_0x2e7cdf[_0x596896[_0x4061e2(0x55f)]]&&(_0x2e7cdf[_0x596896[_0x4061e2(0x55f)]]=[]),_0x2e7cdf[_0x596896[_0x4061e2(0x55f)]][_0x4061e2(0x704)](_0x596896),_0x2e7cdf;},{});let _0x3e87a2='';const _0xb61c31=[_0x53af6a(0x642),...Object[_0x53af6a(0x1b3)](_0x38d07a)['filter'](_0x1ee00e=>_0x1ee00e!==_0x53af6a(0x642))];for(const _0x56f148 of _0xb61c31){if(_0x38d07a[_0x56f148]){const _0x20aac7=_0x56f148===_0x53af6a(0x642)?'fas\x20fa-user-edit':_0x53af6a(0x266),_0x3f2c69=_0x56f148==='หัวข้อที่สร้างเอง'?_0x53af6a(0x578):'text-indigo-700';_0x3e87a2+=_0x53af6a(0x6b4),_0x3e87a2+=_0x53af6a(0x310)+_0x3f2c69+_0x53af6a(0x3f6)+_0x20aac7+'\x20mr-2\x22></i>'+_0x56f148+_0x53af6a(0x5e6),_0x38d07a[_0x56f148]['forEach'](_0x239aef=>{const _0x24ca36=_0x53af6a;_0x3e87a2+=_0x24ca36(0x43c)+_0x239aef['name']+_0x24ca36(0x3cd)+_0x239aef[_0x24ca36(0x316)]+_0x24ca36(0x648);}),_0x3e87a2+=_0x53af6a(0x406);}}_0x319db8['innerHTML']=_0x3e87a2||_0x53af6a(0x322),_0x319db8[_0x53af6a(0x49f)](_0x53af6a(0x386),updateSelectedTopicsCount),_0x319db8['addEventListener']('change',updateSelectedTopicsCount);}function updateSelectedTopicsCount(){const _0x3b93a2=_0xcf56c0,_0x51a8e6=document[_0x3b93a2(0x4f8)]('math-topics-checkbox-container'),_0x40b735=_0x51a8e6['querySelectorAll'](_0x3b93a2(0x488))[_0x3b93a2(0x424)],_0x2743d9=document['getElementById'](_0x3b93a2(0x461));_0x40b735>0x0?_0x2743d9[_0x3b93a2(0x396)]=_0x3b93a2(0x60a)+_0x40b735+_0x3b93a2(0x445):_0x2743d9['textContent']='';}let db,auth,userId,customMathTopics=[],currentMode=_0xcf56c0(0x4f9),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0xcf56c0(0x1ec),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0xcf56c0(0x614),'name':_0xcf56c0(0x383),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0xcf56c0(0x506)},'QUICK_THINKER':{'id':_0xcf56c0(0x5f1),'name':'เซียนสมองไว','description':_0xcf56c0(0x229),'icon':_0xcf56c0(0x59f)},'ON_FIRE':{'id':'on_fire','name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0xcf56c0(0x5f3)},'FIRST_TRY_ACE':{'id':_0xcf56c0(0x6c3),'name':_0xcf56c0(0x50f),'description':_0xcf56c0(0x735),'icon':_0xcf56c0(0x62c)},'COMEBACK_KING':{'id':_0xcf56c0(0x527),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0xcf56c0(0x62a)},'SPECIALIST':{'id':'specialist','name':_0xcf56c0(0x2bb),'description':_0xcf56c0(0x28a),'icon':_0xcf56c0(0x637)},'PERSEVERANCE':{'id':_0xcf56c0(0x449),'name':'ผู้ไม่ยอมแพ้','description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0xcf56c0(0x3a9),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0xcf56c0(0x6f2),'storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':'274192258111','appId':_0xcf56c0(0x4bb),'measurementId':_0xcf56c0(0x5c0)},appId=typeof __app_id!==_0xcf56c0(0x733)?__app_id:'ai-quiz-generator-v3',adminView=document[_0xcf56c0(0x4f8)]('admin-view'),studentView=document['getElementById'](_0xcf56c0(0x57c)),projectDashboardView=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x5ca)),projectDetailView=document[_0xcf56c0(0x4f8)]('project-detail-view'),quizResultsView=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x2b8)),projectList=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x732)),noProjectsMsg=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x6eb)),projectTitle=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x32d)),projectIdDisplay=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x21e)),studentList=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x47f)),messageModal=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x52c)),modalMessage=document['getElementById'](_0xcf56c0(0x492)),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x382)),confirmationModal=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x47b)),userIdDisplay=document['getElementById'](_0xcf56c0(0x47e)),topicTab=document['getElementById']('topic-tab'),textTab=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x41c)),topicInputArea=document[_0xcf56c0(0x4f8)]('topic-input-area'),textInputArea=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x661)),manageTab=document['getElementById']('manage-tab'),resultsTab=document[_0xcf56c0(0x4f8)]('results-tab'),leaderboardTab=document['getElementById'](_0xcf56c0(0x649)),manageTabContent=document[_0xcf56c0(0x4f8)]('manage-tab-content'),resultsTabContent=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x203)),leaderboardTabContent=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x344)),projectQuizzesList=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x576)),fileTab=document[_0xcf56c0(0x4f8)]('file-tab'),fileInputArea=document['getElementById'](_0xcf56c0(0x583)),fileUploadInput=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x6b5)),worksheetTab=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x3f3)),worksheetInputArea=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x4b6)),generateWorksheetBtn=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x274)),studentInitialView=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x706)),studentNameSelectionView=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x708)),studentQuizArea=document[_0xcf56c0(0x4f8)]('student-quiz-area'),studentResultArea=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x4a1)),studentReadingArea=document[_0xcf56c0(0x4f8)]('student-reading-area'),loadQuizBtn=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x570)),startQuizBtn=document['getElementById'](_0xcf56c0(0x2b0)),studentJoinGameView=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x337)),presentationModal=document[_0xcf56c0(0x4f8)]('presentation-modal'),renameQuizModal=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x34d)),moveQuizModal=document[_0xcf56c0(0x4f8)](_0xcf56c0(0x529)),quizSettingsModal=document[_0xcf56c0(0x4f8)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0xcf56c0(0x2bc)),liveGameView=document[_0xcf56c0(0x4f8)]('live-game-view');function handleAutoFixLatex(){const _0x4c2eda=_0xcf56c0,_0x187598=document[_0x4c2eda(0x4f8)]('quiz-editor-questions-container')||document,_0xe305ec=_0x187598[_0x4c2eda(0x493)](['textarea',_0x4c2eda(0x18d),_0x4c2eda(0x1cc),_0x4c2eda(0x652),_0x4c2eda(0x636),_0x4c2eda(0x3da),_0x4c2eda(0x5ec),_0x4c2eda(0x298),_0x4c2eda(0x6b6)][_0x4c2eda(0x5ba)](','));let _0x49d8a1=0x0;const _0x3fd04c=_0x2e100c=>_0x4c2eda(0x6dc)in _0x2e100c?String(_0x2e100c[_0x4c2eda(0x6dc)]):_0x2e100c[_0x4c2eda(0x58c)]!==undefined?_0x2e100c['innerText']:_0x2e100c['textContent']||'',_0x4ce021=(_0x1a1c08,_0x5cc125)=>{const _0x28bc42=_0x4c2eda;if(_0x28bc42(0x6dc)in _0x1a1c08){_0x1a1c08[_0x28bc42(0x6dc)]=_0x5cc125;return;}if(_0x1a1c08[_0x28bc42(0x480)]&&_0x1a1c08[_0x28bc42(0x480)](_0x28bc42(0x5b0)))return;if(_0x1a1c08[_0x28bc42(0x58c)]!==undefined)_0x1a1c08[_0x28bc42(0x58c)]=_0x5cc125;else _0x1a1c08[_0x28bc42(0x396)]=_0x5cc125;},_0x4e7420=_0x4a2cf3=>_0x4a2cf3[_0x4c2eda(0x3e4)](/\u00A0/g,'\x20')[_0x4c2eda(0x3e4)](/\u200B/g,'')[_0x4c2eda(0x3e4)](/\r\n?/g,'\x0a'),_0x59ffb7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x425156=_0x4bb964=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x4c2eda(0x3e5)](_0x4bb964),_0x2d9042=_0x86e7e6=>{const _0x429421=_0x4c2eda,_0x4fdb7f=(_0x86e7e6[_0x429421(0x604)](/\{/g)||[])[_0x429421(0x424)],_0x40c6b2=(_0x86e7e6[_0x429421(0x604)](/\}/g)||[])[_0x429421(0x424)];if(_0x4fdb7f>_0x40c6b2)_0x86e7e6=_0x86e7e6+'}'['repeat'](_0x4fdb7f-_0x40c6b2);return _0x86e7e6;},_0x8f767e=_0x475091=>{const _0x97c97f=_0x4c2eda;let _0x482a0a=_0x475091[_0x97c97f(0x21f)]();const _0x4c5912=['frac','dfrac','tfrac',_0x97c97f(0x6a9),'text','times','cdot',_0x97c97f(0x481),'leq',_0x97c97f(0x369),'le','ge','neq','pm',_0x97c97f(0x584),_0x97c97f(0x4da),'cos',_0x97c97f(0x1ee),_0x97c97f(0x721),'ln',_0x97c97f(0x296),'prod',_0x97c97f(0x19f),'left',_0x97c97f(0x222),_0x97c97f(0x4cd),_0x97c97f(0x49a),_0x97c97f(0x667),_0x97c97f(0x3c1)];_0x482a0a=_0x482a0a[_0x97c97f(0x3e4)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x4c5912['join']('|')+_0x97c97f(0x730),'g'),'\x5c'),_0x4c5912[_0x97c97f(0x542)](_0x5a90f1=>{const _0x9cf099=_0x97c97f;_0x482a0a=_0x482a0a[_0x9cf099(0x3e4)](new RegExp(_0x9cf099(0x5f8)+_0x5a90f1+'\x5cb','g'),(_0x404ae7,_0x25b84d)=>_0x25b84d+'\x5c'+_0x5a90f1);});const _0x4e72c4=[[/×/g,'\x5ctimes'],[/·/g,_0x97c97f(0x3c7)],[/÷/g,'\x5cdiv'],[/≤/g,_0x97c97f(0x2c7)],[/≥/g,'\x5cge'],[/≠/g,_0x97c97f(0x2fb)],[/±/g,_0x97c97f(0x73a)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x4e72c4[_0x97c97f(0x542)](([_0x5a6c17,_0x4053af])=>{const _0x428810=_0x97c97f;_0x482a0a=_0x482a0a[_0x428810(0x3e4)](_0x5a6c17,_0x4053af);}),_0x482a0a=_0x482a0a[_0x97c97f(0x3e4)](/√\s*\(([^)]*)\)/g,_0x97c97f(0x4d8)),_0x482a0a=_0x482a0a[_0x97c97f(0x3e4)](/√\s*([A-Za-z0-9]+)/g,_0x97c97f(0x4d8)),_0x482a0a=_0x482a0a['replace'](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x97c97f(0x3e4)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x97c97f(0x502))[_0x97c97f(0x3e4)](/(^|[^\\])ext\{/g,_0x97c97f(0x3d5))[_0x97c97f(0x3e4)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x97c97f(0x3e4)](/\\text\(([^)]*)\)/g,_0x97c97f(0x329))[_0x97c97f(0x3e4)](/\s\\frac/g,_0x97c97f(0x57d)),_0x482a0a=_0x482a0a[_0x97c97f(0x3e4)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x405efc,_0x364177,_0x35b5bc,_0x4d34a4)=>_0x364177+'\x5cfrac{'+_0x35b5bc+'}{'+_0x4d34a4+'}'),_0x482a0a=_0x482a0a[_0x97c97f(0x3e4)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x97c97f(0x3e4)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x97c97f(0x55e))[_0x97c97f(0x3e4)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x97c97f(0x71e)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x97c97f(0x71e)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x97c97f(0x71e)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x97c97f(0x542)](([_0x2c43fa,_0x93619e])=>{_0x482a0a=_0x482a0a['replace'](_0x2c43fa,_0x93619e);}),_0x482a0a=_0x482a0a[_0x97c97f(0x3e4)](/(\d+)\s*%/g,_0x97c97f(0x676)),_0x482a0a=_0x482a0a[_0x97c97f(0x3e4)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x97c97f(0x2ef))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x97c97f(0x434))[_0x97c97f(0x3e4)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x97c97f(0x4da),_0x97c97f(0x511),_0x97c97f(0x1ee),_0x97c97f(0x721),'ln'][_0x97c97f(0x542)](_0x3a7753=>{const _0x36e4a3=_0x97c97f;_0x482a0a=_0x482a0a['replace'](new RegExp(_0x36e4a3(0x5f8)+_0x3a7753+_0x36e4a3(0x4d5),'g'),(_0x317eb2,_0x4615bd)=>_0x4615bd+'\x5c'+_0x3a7753+'(');});const _0x99144d=(_0x482a0a[_0x97c97f(0x604)](/\\left\b/g)||[])[_0x97c97f(0x424)],_0x2cb165=(_0x482a0a[_0x97c97f(0x604)](/\\right\b/g)||[])[_0x97c97f(0x424)];if(_0x99144d!==_0x2cb165)_0x482a0a=_0x482a0a[_0x97c97f(0x3e4)](/\\left\b/g,'')[_0x97c97f(0x3e4)](/\\right\b/g,'');return _0x482a0a=_0x2d9042(_0x482a0a),_0x482a0a;},_0x5281bb=_0x1a945c=>{const _0xb740e0=_0x4c2eda;if(/\$|\\\(|\\\[/['test'](_0x1a945c))return _0x1a945c;if(!_0x59ffb7[_0xb740e0(0x3e5)](_0x1a945c))return _0x1a945c;const _0x36cecd=_0x1a945c[_0xb740e0(0x604)](/^\s*/)[0x0],_0x5b00ff=_0x1a945c['match'](/\s*$/)[0x0],_0x943998=_0x1a945c['trim']();return _0x36cecd+'$'+_0x8f767e(_0x943998)+'$'+_0x5b00ff;},_0x428ea3=_0x4f7b98=>_0x4f7b98[_0x4c2eda(0x23b)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0xe305ec[_0x4c2eda(0x542)](_0x4d172e=>{const _0x2563c3=_0x4c2eda;if(_0x4d172e[_0x2563c3(0x480)]&&_0x4d172e[_0x2563c3(0x480)](_0x2563c3(0x5b0)))return;const _0x12e139=_0x3fd04c(_0x4d172e);let _0x1c291d=_0x4e7420(_0x12e139);_0x1c291d=_0x1c291d['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x55a528,_0x2d1800)=>'$$'+_0x8f767e(_0x2d1800)+'$$')[_0x2563c3(0x3e4)](/\$([^$]*?)\$/g,(_0x290c39,_0x3bb019)=>'$'+_0x8f767e(_0x3bb019)+'$')[_0x2563c3(0x3e4)](/\\\(([\s\S]*?)\\\)/g,(_0x1f1bc5,_0x4ea38f)=>'\x5c('+_0x8f767e(_0x4ea38f)+'\x5c)')[_0x2563c3(0x3e4)](/\\\[([\s\S]*?)\\\]/g,(_0x64a728,_0x227643)=>'\x5c['+_0x8f767e(_0x227643)+'\x5c]');let _0x47ff4e=_0x1c291d,_0x4c3a7b=0x0;const _0x45180d=_0x12e7b9=>_0x12e7b9[_0x2563c3(0x3e4)](/S([^S]{0,2000}?)S/g,(_0x384540,_0x3daced)=>_0x59ffb7[_0x2563c3(0x3e5)](_0x3daced)?'$'+_0x8f767e(_0x3daced)+'$':_0x384540);while(_0x4c3a7b++<0x14){const _0x56024d=_0x45180d(_0x47ff4e);if(_0x56024d===_0x47ff4e)break;_0x47ff4e=_0x56024d;}_0x1c291d=_0x47ff4e,_0x1c291d=_0x1c291d[_0x2563c3(0x23b)]('\x0a')[_0x2563c3(0x44f)](_0x2ec72b=>{const _0x5ded75=_0x2563c3;if(!(/[,\u3001，;；]/[_0x5ded75(0x3e5)](_0x2ec72b)||/\s(?:และ|หรือ)\s/[_0x5ded75(0x3e5)](_0x2ec72b))||!_0x59ffb7[_0x5ded75(0x3e5)](_0x2ec72b))return _0x2ec72b;return _0x428ea3(_0x2ec72b)[_0x5ded75(0x44f)](_0x34f8bf=>{const _0x174db8=_0x5ded75;if(/^\s(?:และ|หรือ)\s$/[_0x174db8(0x3e5)](_0x34f8bf)||/^[,\u3001，;；]$/[_0x174db8(0x3e5)](_0x34f8bf))return _0x34f8bf;return _0x5281bb(_0x34f8bf);})[_0x5ded75(0x5ba)]('');})['join']('\x0a'),_0x1c291d=_0x1c291d[_0x2563c3(0x23b)]('\x0a')['map'](_0x1fe923=>{const _0x2a86e2=_0x2563c3,_0x2090ae=_0x1fe923['trim']();if(!_0x2090ae)return _0x1fe923;const _0x2ada04=/\$|\\\(|\\\[/['test'](_0x2090ae),_0x2c2f25=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x2a86e2(0x3e5)](_0x2090ae);if(_0x2ada04||!_0x2c2f25||_0x425156(_0x2090ae))return _0x1fe923;return _0x1fe923[_0x2a86e2(0x3e4)](_0x2090ae,'$'+_0x8f767e(_0x2090ae)+'$');})[_0x2563c3(0x5ba)]('\x0a'),_0x1c291d=_0x1c291d['replace'](/(\d+)\s*°\s*C\b/g,(_0x35cf04,_0x2c25ce,_0x1a1fbd,_0x12180d)=>{const _0x8ac845=_0x2563c3,_0x4c1c79=_0x12180d[_0x1a1fbd-0x1];if(_0x4c1c79==='$'||_0x4c1c79==='S'||_0x4c1c79==='\x5c')return _0x35cf04;return'$'+_0x2c25ce+_0x8ac845(0x4a8);})[_0x2563c3(0x3e4)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x40ad67,_0x4fc35b,_0x1cd33f,_0x1284ff)=>{const _0x3db568=_0x1284ff[_0x1cd33f-0x1];if(_0x3db568==='$'||_0x3db568==='S'||_0x3db568==='\x5c')return _0x40ad67;return'$'+_0x4fc35b+'^{\x5ccirc}\x5ctext{C}$';})[_0x2563c3(0x3e4)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0xcd01bc,_0x2ed129,_0x1259ae,_0x5b0f08)=>{const _0x565221=_0x2563c3,_0x84ee6f=_0x5b0f08[_0x1259ae-0x1];if(_0x84ee6f==='$'||_0x84ee6f==='S'||_0x84ee6f==='\x5c')return _0xcd01bc;return'$'+_0x2ed129+_0x565221(0x4a8);}),_0x1c291d=_0x1c291d['replace'](/\$\s*\$/g,'$$'),_0x1c291d!==_0x12e139&&(_0x4ce021(_0x4d172e,_0x1c291d),_0x49d8a1++);});if(_0x49d8a1>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x49d8a1+'\x20ช่อง');try{if(window[_0x4c2eda(0x335)]&&MathJax[_0x4c2eda(0x2f6)])MathJax[_0x4c2eda(0x2f6)]();window[_0x4c2eda(0x2df)]&&typeof renderMathInElement===_0x4c2eda(0x4e6)&&renderMathInElement(_0x187598,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x2a97d9){}}else showMessage(_0x4c2eda(0x3d3));}async function listenForCustomMathTopics(){const _0x39f552=_0xcf56c0,_0x4b5f64=collection(db,_0x39f552(0x5ad)+appId+_0x39f552(0x27f));onSnapshot(_0x4b5f64,_0x5cfb65=>{customMathTopics=_0x5cfb65['docs']['map'](_0x1a4415=>({'id':_0x1a4415['id'],..._0x1a4415['data']()})),renderTopicCheckboxes();},_0x58adfe=>{const _0x512905=_0x39f552;console['error'](_0x512905(0x4bf),_0x58adfe);});}function handleSelectAllTopics(){const _0xb1efe0=_0xcf56c0,_0x287dec=document[_0xb1efe0(0x4f8)](_0xb1efe0(0x634)),_0x316f68=_0x287dec[_0xb1efe0(0x493)](_0xb1efe0(0x2d6));_0x316f68[_0xb1efe0(0x542)](_0x3facac=>{_0x3facac['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4bbd92=_0xcf56c0,_0x123c02=document[_0x4bbd92(0x4f8)](_0x4bbd92(0x634)),_0x1681d9=_0x123c02['querySelectorAll']('input[type=\x22checkbox\x22]');_0x1681d9['forEach'](_0x411c3b=>{const _0x3fce0c=_0x4bbd92;_0x411c3b[_0x3fce0c(0x525)]=![];}),updateSelectedTopicsCount();}async function handleAddCustomMathTopic(){const _0x1f66c1=_0xcf56c0,_0x19ba44=document[_0x1f66c1(0x4f8)](_0x1f66c1(0x4ad)),_0x220d56=_0x19ba44['value']['trim']();if(!_0x220d56){showMessage(_0x1f66c1(0x5ef));return;}if(!userId){showMessage(_0x1f66c1(0x619));return;}try{const _0x420399=collection(db,_0x1f66c1(0x5ad)+appId+_0x1f66c1(0x27f));await addDoc(_0x420399,{'name':_0x220d56,'createdAt':serverTimestamp()}),_0x19ba44[_0x1f66c1(0x6dc)]='',showMessage(_0x1f66c1(0x713)+_0x220d56+_0x1f66c1(0x371));}catch(_0x28629b){console[_0x1f66c1(0x1f8)](_0x1f66c1(0x703),_0x28629b),showMessage(_0x1f66c1(0x343));}}async function initialize(){const _0xe603a1=_0xcf56c0;try{const _0x19b9e2=initializeApp(firebaseConfig);db=getFirestore(_0x19b9e2),auth=getAuth(_0x19b9e2),setupAuthListener(),setupEventListeners(),showView(_0xe603a1(0x4f9)),renderTopicCheckboxes();}catch(_0x4bef41){console[_0xe603a1(0x1f8)]('Firebase\x20initialization\x20failed:',_0x4bef41),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}function compareNumericalAnswers(_0x492a61,_0x7e2d0a){const _0x4730d2=_0xcf56c0,_0x1eb589=String(_0x492a61)['replace'](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x4a341a=String(_0x7e2d0a)[_0x4730d2(0x3e4)](',','.')[_0x4730d2(0x3e4)](/[^\d.-]/g,'')['trim']();if(_0x1eb589===''||_0x4a341a==='')return![];const _0x37534d=parseFloat(_0x1eb589),_0x4cd8fa=parseFloat(_0x4a341a);if(isNaN(_0x37534d)||isNaN(_0x4cd8fa))return![];return Math['abs'](_0x37534d-_0x4cd8fa)<0.001;}async function gradeShortAnswer(_0x1636e4,_0x408278){const _0x1a1959=_0xcf56c0,_0x3089d4=_0x408278[_0x1a1959(0x4b7)];if(String(_0x1636e4)[_0x1a1959(0x21f)]()[_0x1a1959(0x69b)]()===String(_0x3089d4)[_0x1a1959(0x21f)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x1636e4,_0x3089d4))return!![];return console[_0x1a1959(0x721)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x1636e4,_0x3089d4);}async function revealAnswerForAdmin(_0x2bf02b,_0x2c3038){const _0x194f90=_0xcf56c0;if(document['getElementById'](_0x194f90(0x6b0)))return;const _0x5f4f98=doc(db,_0x194f90(0x5ad)+appId+_0x194f90(0x27e),currentLiveGameId);await updateDoc(_0x5f4f98,{'questionStatus':'revealed'});const _0x1812b6=liveGameView[_0x194f90(0x480)]('[data-is-correct=\x22true\x22]');_0x1812b6&&(_0x1812b6[_0x194f90(0x4a6)]['remove']('bg-white/30'),_0x1812b6[_0x194f90(0x4a6)][_0x194f90(0x718)](_0x194f90(0x51d),'text-green-900',_0x194f90(0x1b8),'border-4',_0x194f90(0x5d2)),_0x1812b6[_0x194f90(0x1ae)]=_0x194f90(0x5b1)+_0x1812b6[_0x194f90(0x1ae)]);const _0x1f1bc4=document[_0x194f90(0x4f8)](_0x194f90(0x54a));_0x1f1bc4&&(_0x1f1bc4[_0x194f90(0x1ae)]=_0x194f90(0x2c1)+(_0x2bf02b+0x1===_0x2c3038?'ดูสรุปผล':_0x194f90(0x36c))+_0x194f90(0x1a3),document[_0x194f90(0x4f8)]('next-live-question-btn')[_0x194f90(0x29d)]('click',async()=>{const _0x45316d=_0x194f90,_0x10476f=doc(db,_0x45316d(0x5ad)+appId+_0x45316d(0x27e),currentLiveGameId),_0x338f4c=await getDoc(_0x10476f);if(!_0x338f4c[_0x45316d(0x6a7)]())return;const _0x962c25=_0x338f4c[_0x45316d(0x347)](),_0xc7f39e={};if(_0x962c25[_0x45316d(0x3c3)])for(const _0x304c06 in _0x962c25[_0x45316d(0x3c3)]){_0xc7f39e[_0x45316d(0x3ee)+_0x304c06+_0x45316d(0x4e1)]=![];}const _0x106bd9=_0x2bf02b+0x1;_0x106bd9<_0x2c3038?(_0xc7f39e[_0x45316d(0x4d7)]=_0x106bd9,_0xc7f39e[_0x45316d(0x6da)]=serverTimestamp(),_0xc7f39e['questionStatus']='answering',await updateDoc(_0x10476f,_0xc7f39e)):await updateDoc(_0x10476f,{'status':_0x45316d(0x213)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x7a2e99=>{const _0x3cd7b3=_0x57c6;if(_0x7a2e99){userId=_0x7a2e99['uid'],userIdDisplay[_0x3cd7b3(0x396)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0x23d2ae){const _0xe1d3ea=_0xcf56c0,_0x1f43c9=Object[_0xe1d3ea(0x301)](_0x23d2ae)[_0xe1d3ea(0x44f)](([_0x28ca0a,_0x2192cc])=>({'name':_0x28ca0a,'score':_0x2192cc[_0xe1d3ea(0x2db)]||0x0,'badges':_0x2192cc[_0xe1d3ea(0x234)]||[]}));_0x1f43c9['sort']((_0x558556,_0x2ddedf)=>{const _0x43e83c=_0xe1d3ea,_0x62c731=_0x2ddedf[_0x43e83c(0x2db)]-_0x558556[_0x43e83c(0x2db)];if(_0x62c731!==0x0)return _0x62c731;return(_0x2ddedf[_0x43e83c(0x234)][_0x43e83c(0x424)]||0x0)-(_0x558556[_0x43e83c(0x234)][_0x43e83c(0x424)]||0x0);});const _0x2a3c85=_0x3896dd=>{const _0x582240=_0xe1d3ea;if(!_0x3896dd||_0x3896dd[_0x582240(0x424)]===0x0)return'';const _0x585b0f={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x582240(0x5d4)+_0x3896dd[_0x582240(0x44f)](_0x3cab06=>_0x585b0f[_0x3cab06]||'')[_0x582240(0x5ba)]('')+_0x582240(0x406);},_0x4a5838=_0x1f43c9[_0xe1d3ea(0x263)](0x3),_0xcfc4ea=_0x4a5838[_0xe1d3ea(0x424)]>0x0?_0xe1d3ea(0x2b9)+_0x4a5838[_0xe1d3ea(0x44f)]((_0x5aa808,_0x1209e6)=>_0xe1d3ea(0x2b4)+(_0x1209e6+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5aa808[_0xe1d3ea(0x316)]+_0xe1d3ea(0x1bf)+_0x5aa808[_0xe1d3ea(0x2db)]+_0xe1d3ea(0x20d))[_0xe1d3ea(0x5ba)]('')+_0xe1d3ea(0x4b3):'',_0x279360=_0xe1d3ea(0x5ea)+(_0x1f43c9[0x1]?_0xe1d3ea(0x1a8)+_0x1f43c9[0x1][_0xe1d3ea(0x316)]+_0xe1d3ea(0x34c)+_0x2a3c85(_0x1f43c9[0x1][_0xe1d3ea(0x234)])+_0xe1d3ea(0x567)+_0x1f43c9[0x1][_0xe1d3ea(0x2db)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xe1d3ea(0x389))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1f43c9[0x0]?_0xe1d3ea(0x25d)+_0x1f43c9[0x0][_0xe1d3ea(0x316)]+_0xe1d3ea(0x34c)+_0x2a3c85(_0x1f43c9[0x0][_0xe1d3ea(0x234)])+_0xe1d3ea(0x6a6)+_0x1f43c9[0x0][_0xe1d3ea(0x2db)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xe1d3ea(0x389))+_0xe1d3ea(0x426)+(_0x1f43c9[0x2]?_0xe1d3ea(0x620)+_0x1f43c9[0x2][_0xe1d3ea(0x316)]+_0xe1d3ea(0x34c)+_0x2a3c85(_0x1f43c9[0x2][_0xe1d3ea(0x234)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x1f43c9[0x2][_0xe1d3ea(0x2db)]+_0xe1d3ea(0x697):_0xe1d3ea(0x389))+_0xe1d3ea(0x4fe)+_0xcfc4ea+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0xe1d3ea(0x250)?_0xe1d3ea(0x720):_0xe1d3ea(0x58a))+_0xe1d3ea(0x647);liveGameView['innerHTML']=_0x279360,currentMode===_0xe1d3ea(0x250)&&document[_0xe1d3ea(0x4f8)](_0xe1d3ea(0x5fe))[_0xe1d3ea(0x29d)](_0xe1d3ea(0x572),async()=>{const _0x1fb097=_0xe1d3ea,_0x2d6d90=doc(db,'artifacts/'+appId+_0x1fb097(0x27e),currentLiveGameId);await deleteDoc(_0x2d6d90),showView(_0x1fb097(0x3fa));});}async function handleStartLiveRace(_0x4cd0a7){const _0x383ab5=_0xcf56c0;let _0x47adf1=allQuizzes['find'](_0x19a245=>_0x19a245['id']===_0x4cd0a7);if(!_0x47adf1){const _0x23e34b=doc(db,_0x383ab5(0x5ad)+appId+_0x383ab5(0x4d1),_0x4cd0a7),_0x3f5a74=await getDoc(_0x23e34b);if(!_0x3f5a74[_0x383ab5(0x6a7)]()){showMessage(_0x383ab5(0x607));return;}_0x47adf1={'id':_0x3f5a74['id'],..._0x3f5a74[_0x383ab5(0x347)]()};}currentQuizData=getShuffledQuiz(_0x47adf1);const _0x26f221=_0x47adf1['projectId']||currentProjectId||null,_0x5c6a74=Math[_0x383ab5(0x579)](0x3e8+Math[_0x383ab5(0x64e)]()*0x2328)[_0x383ab5(0x4e2)]();currentLiveGamePin=_0x5c6a74;try{const _0x50eef2=await addDoc(collection(db,_0x383ab5(0x5ad)+appId+_0x383ab5(0x27e)),{'quizId':_0x4cd0a7,'projectId':_0x26f221,'status':_0x383ab5(0x291),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x5c6a74,'createdAt':serverTimestamp()});currentLiveGameId=_0x50eef2['id'],showAdminLobbyView(_0x5c6a74,_0x47adf1['topic']),listenForLiveGameUpdates();}catch(_0x13d27f){console[_0x383ab5(0x1f8)](_0x383ab5(0x431),_0x13d27f),showMessage(_0x383ab5(0x538));}}async function handleShowStudentRankings(){const _0xa71e53=_0xcf56c0,_0x5a4997=document[_0xa71e53(0x480)](_0xa71e53(0x321));_0x5a4997&&(_0x5a4997['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x59d3da=document[_0xa71e53(0x480)](_0xa71e53(0x192));_0x59d3da&&(_0x59d3da[_0xa71e53(0x1ae)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x1c64c4=document[_0xa71e53(0x4f8)](_0xa71e53(0x494));_0x1c64c4[_0xa71e53(0x4a6)][_0xa71e53(0x52e)](_0xa71e53(0x3d0)),document[_0xa71e53(0x4f8)](_0xa71e53(0x4f5))[_0xa71e53(0x645)]=()=>_0x1c64c4['classList'][_0xa71e53(0x718)](_0xa71e53(0x3d0));const _0x3005ea=document['getElementById'](_0xa71e53(0x688)),_0x29a642=document[_0xa71e53(0x4f8)](_0xa71e53(0x66f)),_0x4e05bf=document[_0xa71e53(0x4f8)]('student-quiz-leaderboard-content'),_0x39d38b=document[_0xa71e53(0x4f8)](_0xa71e53(0x6f4));_0x3005ea[_0xa71e53(0x645)]=()=>{const _0x14b186=_0xa71e53;_0x3005ea[_0x14b186(0x4a6)][_0x14b186(0x718)](_0x14b186(0x5ac)),_0x29a642[_0x14b186(0x4a6)][_0x14b186(0x52e)](_0x14b186(0x5ac)),_0x4e05bf[_0x14b186(0x4a6)][_0x14b186(0x52e)](_0x14b186(0x3d0)),_0x39d38b['classList'][_0x14b186(0x718)]('hidden');},_0x29a642['onclick']=()=>{const _0x232945=_0xa71e53;_0x29a642[_0x232945(0x4a6)][_0x232945(0x718)]('active'),_0x3005ea[_0x232945(0x4a6)][_0x232945(0x52e)](_0x232945(0x5ac)),_0x39d38b['classList']['remove'](_0x232945(0x3d0)),_0x4e05bf[_0x232945(0x4a6)][_0x232945(0x718)]('hidden');};try{const _0x37d164=collection(db,'artifacts/'+appId+_0xa71e53(0x552)+currentQuizData['id']+_0xa71e53(0x478)),_0x462dd8=await getDocs(_0x37d164),_0xa09d8c=_0x462dd8[_0xa71e53(0x4c3)][_0xa71e53(0x44f)](_0x722fe0=>_0x722fe0['data']());renderQuizLeaderboard(_0xa09d8c,currentQuizData,_0xa71e53(0x4a5));const _0x217b59=collection(db,_0xa71e53(0x5ad)+appId+'/public/data/projects/'+currentQuizData[_0xa71e53(0x6f5)]+_0xa71e53(0x1ed)),_0x2324b7=await getDocs(_0x217b59),_0x249bf1=_0x2324b7[_0xa71e53(0x4c3)]['map'](_0x3e9913=>_0x3e9913[_0xa71e53(0x347)]());renderLeaderboard(_0x249bf1,_0xa71e53(0x27c));}catch(_0x36183f){console['error'](_0xa71e53(0x1cd),_0x36183f),showMessage(_0xa71e53(0x656));}}async function handleSaveToBank(_0x2d2759){const _0x517d5e=_0xcf56c0,_0x30d8ce=_0x2d2759[_0x517d5e(0x710)],_0x5ac11b=_0x30d8ce['dataset'][_0x517d5e(0x3db)],_0x20511a=currentQuizData[_0x517d5e(0x32f)][_0x5ac11b];if(!userId){showMessage(_0x517d5e(0x36f));return;}try{const _0x21cef8={..._0x20511a,'originalTopic':currentQuizData[_0x517d5e(0x43d)],'savedAt':serverTimestamp()},_0x33db2c=collection(db,'artifacts/'+appId+_0x517d5e(0x660)+userId+_0x517d5e(0x34e));await addDoc(_0x33db2c,_0x21cef8),showMessage(_0x517d5e(0x662)),_0x30d8ce[_0x517d5e(0x4a6)][_0x517d5e(0x52e)](_0x517d5e(0x602)),_0x30d8ce[_0x517d5e(0x4a6)][_0x517d5e(0x718)](_0x517d5e(0x489)),_0x30d8ce[_0x517d5e(0x3a5)]=!![];}catch(_0x4fde7c){console['error'](_0x517d5e(0x1ea),_0x4fde7c),showMessage(_0x517d5e(0x1c7));}}function listenForStarredQuizzes(){const _0x263fe3=_0xcf56c0;if(!userId)return;const _0x21740a=collection(db,_0x263fe3(0x5ad)+appId+_0x263fe3(0x4d1)),_0x47c3da=query(_0x21740a,where(_0x263fe3(0x597),'==',!![]));onSnapshot(_0x47c3da,_0x1e8feb=>{const _0x5d644e=_0x263fe3;starredQuizzes=_0x1e8feb[_0x5d644e(0x4c3)][_0x5d644e(0x44f)](_0xcc9a68=>({'id':_0xcc9a68['id'],..._0xcc9a68['data']()})),renderProjects();},_0x393cdc=>{const _0x5e1ba6=_0x263fe3;console[_0x5e1ba6(0x1f8)](_0x5e1ba6(0x272),_0x393cdc);});}async function handleToggleStarQuiz(_0x2f3f68){const _0xbef74e=_0xcf56c0,_0x5c52c8=doc(db,_0xbef74e(0x5ad)+appId+_0xbef74e(0x4d1),_0x2f3f68);try{const _0x48b766=await getDoc(_0x5c52c8);if(_0x48b766[_0xbef74e(0x6a7)]()){const _0x533f68=_0x48b766[_0xbef74e(0x347)]()[_0xbef74e(0x597)]||![];await updateDoc(_0x5c52c8,{'isStarred':!_0x533f68});}}catch(_0x28c6dc){console[_0xbef74e(0x1f8)](_0xbef74e(0x54d),_0x28c6dc),showMessage(_0xbef74e(0x5a2));}}async function displayQuestionBank(){const _0x57b15a=_0xcf56c0,_0x2aded2=document[_0x57b15a(0x4f8)]('bank-input-area');_0x2aded2[_0x57b15a(0x1ae)]=_0x57b15a(0x559);try{const _0x48fa0f=collection(db,_0x57b15a(0x5ad)+appId+_0x57b15a(0x660)+userId+_0x57b15a(0x34e)),_0x5645a8=query(_0x48fa0f),_0x4f38a5=await getDocs(_0x5645a8);if(_0x4f38a5[_0x57b15a(0x6b9)]){_0x2aded2['innerHTML']=_0x57b15a(0x1a7);return;}let _0x5c8505=_0x4f38a5[_0x57b15a(0x4c3)]['map'](_0x220d17=>{const _0x5f4425=_0x57b15a,_0x346005=_0x220d17[_0x5f4425(0x347)](),_0x4a3859=_0x220d17['id'];return _0x5f4425(0x495)+JSON[_0x5f4425(0x330)](_0x346005)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x346005[_0x5f4425(0x1db)]||_0x346005['stem'])+_0x5f4425(0x2a0)+_0x346005[_0x5f4425(0x2ec)]+_0x5f4425(0x2de);})['join']('');_0x2aded2[_0x57b15a(0x1ae)]=_0x57b15a(0x686)+_0x5c8505+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x57b15a(0x4f8)](_0x57b15a(0x5d1))[_0x57b15a(0x29d)]('click',createQuizFromBank);}catch(_0x525010){console[_0x57b15a(0x1f8)](_0x57b15a(0x3e7),_0x525010),_0x2aded2[_0x57b15a(0x1ae)]=_0x57b15a(0x20c);}}function showAdminLiveQuestionView(_0x12f011,_0x479b9a,_0x199f45){const _0x292959=_0xcf56c0,_0x45abc1=_0x12f011[_0x292959(0x305)]||currentQuizData['quizType'];let _0x484220='';if(_0x45abc1===_0x292959(0x4ed)||_0x45abc1===_0x292959(0x1be)){const _0x21dbc7=_0x45abc1===_0x292959(0x1be)?['ใช่',_0x292959(0x643)]:_0x12f011[_0x292959(0x410)],_0x1d8375=_0x45abc1===_0x292959(0x1be)?_0x12f011[_0x292959(0x4eb)]?0x0:0x1:_0x12f011[_0x292959(0x19d)];_0x484220=_0x21dbc7['map']((_0x5f066b,_0x489c5c)=>_0x292959(0x63f)+(_0x489c5c===_0x1d8375)+_0x292959(0x38b)+_0x5f066b+_0x292959(0x471))[_0x292959(0x5ba)]('');}else{if(_0x45abc1==='matching_item'){const _0xa524c5=_0x12f011[_0x292959(0x257)]||[];_0x484220=_0xa524c5[_0x292959(0x44f)](_0x229aed=>_0x292959(0x63f)+(_0x229aed===_0x12f011['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x229aed+_0x292959(0x471))[_0x292959(0x5ba)]('');}}const _0xe437c9=_0x12f011['stem']||_0x12f011[_0x292959(0x1db)],_0x191a28=_0x292959(0x565)+(_0x479b9a+0x1)+_0x292959(0x1ad)+_0x199f45+_0x292959(0x505)+_0xe437c9+_0x292959(0x5d9)+_0x484220+_0x292959(0x466);liveGameView[_0x292959(0x1ae)]=_0x191a28;window[_0x292959(0x335)]&&MathJax[_0x292959(0x2f6)]&&MathJax[_0x292959(0x2f6)]([liveGameView]);const _0x42c066=document[_0x292959(0x4f8)](_0x292959(0x54a));document[_0x292959(0x4f8)](_0x292959(0x200))[_0x292959(0x29d)](_0x292959(0x572),async()=>{const _0x389f07=_0x292959,_0x397241=doc(db,'artifacts/'+appId+_0x389f07(0x27e),currentLiveGameId);await updateDoc(_0x397241,{'questionStatus':_0x389f07(0x323)});const _0x1e9958=liveGameView[_0x389f07(0x480)](_0x389f07(0x215));_0x1e9958&&(_0x1e9958[_0x389f07(0x4a6)][_0x389f07(0x52e)](_0x389f07(0x659)),_0x1e9958[_0x389f07(0x4a6)][_0x389f07(0x718)](_0x389f07(0x51d),_0x389f07(0x1fc),_0x389f07(0x1b8),_0x389f07(0x5a8),'border-green-500'),_0x1e9958['innerHTML']=_0x389f07(0x5b1)+_0x1e9958[_0x389f07(0x1ae)]),_0x42c066[_0x389f07(0x1ae)]=_0x389f07(0x2c1)+(_0x479b9a+0x1===_0x199f45?'ดูสรุปผล':_0x389f07(0x36c))+_0x389f07(0x1a3),document['getElementById'](_0x389f07(0x6b0))[_0x389f07(0x29d)](_0x389f07(0x572),async()=>{const _0x41b0cf=_0x389f07,_0x440d03=doc(db,_0x41b0cf(0x5ad)+appId+_0x41b0cf(0x27e),currentLiveGameId),_0x38db5f=await getDoc(_0x440d03);if(!_0x38db5f['exists']())return;const _0x2a0183=_0x38db5f[_0x41b0cf(0x347)](),_0x3fa10a={};if(_0x2a0183[_0x41b0cf(0x3c3)])for(const _0x4be708 in _0x2a0183[_0x41b0cf(0x3c3)]){_0x3fa10a[_0x41b0cf(0x3ee)+_0x4be708+_0x41b0cf(0x4e1)]=![];}const _0x2c7ae5=_0x479b9a+0x1;_0x2c7ae5<_0x199f45?(_0x3fa10a[_0x41b0cf(0x4d7)]=_0x2c7ae5,_0x3fa10a[_0x41b0cf(0x6da)]=serverTimestamp(),_0x3fa10a[_0x41b0cf(0x46a)]='answering',await updateDoc(_0x440d03,_0x3fa10a)):await updateDoc(_0x440d03,{'status':_0x41b0cf(0x213)});});}),document[_0x292959(0x4f8)](_0x292959(0x479))[_0x292959(0x29d)](_0x292959(0x572),async()=>{const _0x4c4bae=_0x292959,_0xce7f62=doc(db,_0x4c4bae(0x5ad)+appId+_0x4c4bae(0x27e),currentLiveGameId);await deleteDoc(_0xce7f62),showView(_0x4c4bae(0x3fa));});}function showStudentLiveQuestionView(_0x4b2e61,_0x1637ad,_0x3681b4){const _0x5933ff=_0xcf56c0,_0xc11bd=_0x4b2e61[_0x5933ff(0x305)]||currentQuizData[_0x5933ff(0x52f)];let _0x273263='';if(_0xc11bd===_0x5933ff(0x4ed)||_0xc11bd===_0x5933ff(0x1be)){const _0x57d88b=_0xc11bd===_0x5933ff(0x1be)?[_0x5933ff(0x2e6),_0x5933ff(0x643)]:_0x4b2e61[_0x5933ff(0x410)];_0x273263=_0x57d88b[_0x5933ff(0x44f)]((_0x3a2f6f,_0x490021)=>_0x5933ff(0x437)+_0x490021+_0x5933ff(0x62b)+_0x3a2f6f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5933ff(0x5ba)]('');}else{if(_0xc11bd==='matching_item'){const _0x5a5c8c=_0x4b2e61[_0x5933ff(0x257)]||[];_0x273263=_0x5a5c8c[_0x5933ff(0x44f)]((_0xea4848,_0x933912)=>_0x5933ff(0x437)+_0x933912+_0x5933ff(0x62b)+_0xea4848+_0x5933ff(0x221))['join']('');}else _0xc11bd===_0x5933ff(0x516)&&(_0x273263=_0x5933ff(0x2a8));}const _0x1f1474=_0x4b2e61['stem']||_0x4b2e61['questionText'],_0x5dcfc5=_0x5933ff(0x269)+(_0x1637ad+0x1)+_0x5933ff(0x1ad)+_0x3681b4+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1f1474+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x273263+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x5dcfc5;window[_0x5933ff(0x335)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0x21df72=document[_0x5933ff(0x4f8)](_0x5933ff(0x1fd));_0x21df72&&_0x21df72[_0x5933ff(0x29d)](_0x5933ff(0x572),()=>{const _0x4549ab=_0x5933ff,_0x1217f8=document[_0x4549ab(0x4f8)](_0x4549ab(0x6ce))[_0x4549ab(0x6dc)];handleLiveAnswer(_0x1217f8,_0x4b2e61);}),document[_0x5933ff(0x4f8)](_0x5933ff(0x394))[_0x5933ff(0x29d)](_0x5933ff(0x572),_0x2c05ec=>{const _0x433919=_0x5933ff,_0x1067b5=_0x2c05ec[_0x433919(0x6df)][_0x433919(0x191)](_0x433919(0x60f));if(_0x1067b5){const _0x59041d=parseInt(_0x1067b5[_0x433919(0x723)][_0x433919(0x3db)]);handleLiveAnswer(_0x59041d,_0x4b2e61);}});}async function handleLiveAnswer(_0x2670a0,_0x204a63){const _0x340b2d=_0xcf56c0;document[_0x340b2d(0x493)](_0x340b2d(0x627))[_0x340b2d(0x542)](_0x5be1a4=>_0x5be1a4[_0x340b2d(0x3a5)]=!![]);const _0x1cc97a=_0x204a63[_0x340b2d(0x305)]||currentQuizData[_0x340b2d(0x52f)];let _0x1b1018=![];if(_0x1cc97a===_0x340b2d(0x516)){const _0x438232=(_0x2670a0||'')['toString']();_0x1b1018=await gradeShortAnswer(_0x438232,_0x204a63);}else{if(_0x1cc97a===_0x340b2d(0x4ed))_0x1b1018=_0x2670a0===_0x204a63['correctAnswerIndex'];else{if(_0x1cc97a===_0x340b2d(0x1be)){const _0x461aef=_0x204a63[_0x340b2d(0x4eb)];_0x1b1018=_0x2670a0===0x0&&_0x461aef||_0x2670a0===0x1&&!_0x461aef;}else{if(_0x1cc97a===_0x340b2d(0x3ae)){const _0x199424=_0x204a63[_0x340b2d(0x257)][_0x2670a0];_0x1b1018=_0x199424===_0x204a63[_0x340b2d(0x4de)];}}}}const _0x11c437=doc(db,'artifacts/'+appId+_0x340b2d(0x27e),currentLiveGameId),_0xe6100a=await getDoc(_0x11c437);if(!_0xe6100a[_0x340b2d(0x6a7)]())return;const _0x4a0caf=_0xe6100a['data'](),_0x23aa3e=_0x4a0caf[_0x340b2d(0x3c3)][currentStudentName];let _0x345d7f=_0x23aa3e['badges']||[],_0x8de113=_0x23aa3e[_0x340b2d(0x52a)]||0x0;const _0x5f0e05={};let _0x4e4cd1=0x0;if(_0x4a0caf['questionDisplayedAt']){const _0x269638=_0x4a0caf[_0x340b2d(0x6da)]['toDate'](),_0x4323df=new Date()-_0x269638;if(_0x1b1018){const _0xe31ae6=0x3e8,_0x13414d=0x1f4,_0x1da959=0x4e20;let _0x2ef381=_0x4323df/_0x1da959;if(_0x2ef381>0x1)_0x2ef381=0x1;const _0x4de136=Math[_0x340b2d(0x1c4)](_0x2ef381*_0x13414d);_0x4e4cd1=_0xe31ae6-_0x4de136,_0x4323df<=0x1388&&!_0x345d7f[_0x340b2d(0x340)](_0x340b2d(0x5f1))&&_0x345d7f[_0x340b2d(0x704)](_0x340b2d(0x5f1));}}_0x1b1018?(_0x8de113++,_0x8de113===0x3&&!_0x345d7f[_0x340b2d(0x340)](_0x340b2d(0x48f))&&(_0x345d7f[_0x340b2d(0x704)](_0x340b2d(0x48f)),_0x8de113=0x0)):_0x8de113=0x0,_0x1b1018&&(_0x5f0e05[_0x340b2d(0x3ee)+currentStudentName+'.score']=increment(_0x4e4cd1)),_0x5f0e05[_0x340b2d(0x3ee)+currentStudentName+_0x340b2d(0x284)]=_0x345d7f,_0x5f0e05['players.'+currentStudentName+'.correctStreak']=_0x8de113,_0x5f0e05[_0x340b2d(0x3ee)+currentStudentName+_0x340b2d(0x4e1)]=!![],_0x5f0e05[_0x340b2d(0x3ee)+currentStudentName+'.lastAnswerCorrect']=_0x1b1018,_0x5f0e05[_0x340b2d(0x3ee)+currentStudentName+_0x340b2d(0x628)]=_0x4e4cd1,await updateDoc(_0x11c437,_0x5f0e05),liveGameView[_0x340b2d(0x1ae)]=_0x340b2d(0x671);}function createQuizFromBank(){const _0x5c377b=_0xcf56c0,_0x24b7a0=document['querySelectorAll'](_0x5c377b(0x313));if(_0x24b7a0[_0x5c377b(0x424)]===0x0){showMessage(_0x5c377b(0x53b));return;}const _0x2f0d42=[];_0x24b7a0[_0x5c377b(0x542)](_0xaa3c33=>{const _0x11a35a=_0x5c377b;_0x2f0d42['push'](JSON[_0x11a35a(0x28e)](_0xaa3c33[_0x11a35a(0x6dc)]));});const _0xc5dcf3={'topic':_0x5c377b(0x38e),'questions':_0x2f0d42};displayGeneratedQuiz(_0xc5dcf3);}function showAdminLobbyView(_0x37d99e,_0x2b54f5){const _0x47ef42=_0xcf56c0;showView('live-game');const _0x371a34='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x2b54f5+_0x47ef42(0x251)+_0x37d99e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x47ef42(0x1ae)]=_0x371a34,document[_0x47ef42(0x4f8)](_0x47ef42(0x4a4))['addEventListener'](_0x47ef42(0x572),async()=>{const _0x4f7f38=_0x47ef42;if(!currentQuizData||!currentQuizData[_0x4f7f38(0x32f)]||currentQuizData[_0x4f7f38(0x32f)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x1f3bc8=doc(db,'artifacts/'+appId+_0x4f7f38(0x27e),currentLiveGameId);await updateDoc(_0x1f3bc8,{'status':_0x4f7f38(0x5e9),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x464d18=currentQuizData[_0x4f7f38(0x32f)][0x0],_0x1ee332=currentQuizData['questions'][_0x4f7f38(0x424)];showAdminLiveQuestionView(_0x464d18,0x0,_0x1ee332);}catch(_0x157d93){console['error'](_0x4f7f38(0x2cc),_0x157d93),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x5e0e06=_0xcf56c0;if(allQuizzesGlobal[_0x5e0e06(0x424)]===0x0){const _0x3f7332=await getDocs(collection(db,_0x5e0e06(0x5ad)+appId+_0x5e0e06(0x4d1)));allQuizzesGlobal=_0x3f7332[_0x5e0e06(0x4c3)][_0x5e0e06(0x44f)](_0x3c206d=>({'id':_0x3c206d['id'],..._0x3c206d['data']()}));}renderGlobalQuizList(''),document['getElementById'](_0x5e0e06(0x20e))[_0x5e0e06(0x4a6)][_0x5e0e06(0x52e)](_0x5e0e06(0x3d0));}async function openQuizBankModal(){const _0x4c060e=_0xcf56c0;if(allQuizzesGlobal['length']===0x0){const _0xc97649=await getDocs(collection(db,_0x4c060e(0x5ad)+appId+_0x4c060e(0x4d1)));allQuizzesGlobal=_0xc97649[_0x4c060e(0x4c3)]['map'](_0x44a550=>({'id':_0x44a550['id'],..._0x44a550['data']()}));}renderQuizBankList(''),document[_0x4c060e(0x4f8)](_0x4c060e(0x3c9))[_0x4c060e(0x4a6)][_0x4c060e(0x52e)](_0x4c060e(0x3d0));}function renderQuizBankList(_0x43ed32=''){const _0x4a2572=_0xcf56c0,_0x10d824=document['getElementById'](_0x4a2572(0x4e7)),_0xf8e2c2=_0x43ed32[_0x4a2572(0x69b)]()['trim'](),_0x3a5df3=allQuizzesGlobal[_0x4a2572(0x44f)](_0x1de1b9=>({..._0x1de1b9,'projectName':allProjects[_0x4a2572(0x1b7)](_0x510f5c=>_0x510f5c['id']===_0x1de1b9[_0x4a2572(0x6f5)])?.[_0x4a2572(0x1de)]||_0x4a2572(0x1d1)}))['filter'](_0x53b4ab=>(_0x53b4ab[_0x4a2572(0x43d)]||'')[_0x4a2572(0x69b)]()['includes'](_0xf8e2c2)||(_0x53b4ab[_0x4a2572(0x1de)]||'')[_0x4a2572(0x69b)]()[_0x4a2572(0x340)](_0xf8e2c2)||_0x53b4ab['id'][_0x4a2572(0x4e2)]()[_0x4a2572(0x340)](_0xf8e2c2));document[_0x4a2572(0x4f8)](_0x4a2572(0x312))[_0x4a2572(0x396)]='('+_0x3a5df3[_0x4a2572(0x424)]+'\x20ชุด)',_0x10d824[_0x4a2572(0x1ae)]=_0x3a5df3['length']?_0x3a5df3[_0x4a2572(0x44f)](_0x341bb6=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x341bb6['id']+_0x4a2572(0x71d)+(_0x341bb6[_0x4a2572(0x43d)]||_0x4a2572(0x315))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x341bb6[_0x4a2572(0x32f)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x341bb6[_0x4a2572(0x1de)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x341bb6['id']+_0x4a2572(0x26f)+_0x341bb6['id']+_0x4a2572(0x3ce)+_0x341bb6['id']+_0x4a2572(0x395)+_0x341bb6['id']+_0x4a2572(0x5eb))[_0x4a2572(0x5ba)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x10d824[_0x4a2572(0x493)](_0x4a2572(0x2d1))[_0x4a2572(0x542)](_0x433b72=>{const _0x58cb9e=_0x4a2572;_0x433b72[_0x58cb9e(0x29d)](_0x58cb9e(0x572),()=>{const _0x39ae69=_0x58cb9e,_0x2c535d=_0x433b72[_0x39ae69(0x723)]['id'];document[_0x39ae69(0x4f8)](_0x39ae69(0x3c9))[_0x39ae69(0x4a6)][_0x39ae69(0x718)](_0x39ae69(0x3d0)),showQuizDetailView(_0x2c535d);});}),_0x10d824[_0x4a2572(0x493)](_0x4a2572(0x5d6))['forEach'](_0xff8f32=>{const _0x2cd004=_0x4a2572;_0xff8f32[_0x2cd004(0x29d)](_0x2cd004(0x572),_0x5e4591=>{const _0x4a96cc=_0x2cd004;_0x5e4591[_0x4a96cc(0x568)]();const _0x10170f=_0xff8f32[_0x4a96cc(0x723)]['id'],_0x5f65d7=allQuizzesGlobal[_0x4a96cc(0x1b7)](_0x274ae6=>_0x274ae6['id']===_0x10170f);_0x5f65d7?(currentQuizData=_0x5f65d7,document[_0x4a96cc(0x4f8)](_0x4a96cc(0x3c9))[_0x4a96cc(0x4a6)][_0x4a96cc(0x718)](_0x4a96cc(0x3d0)),startAdminTest()):showMessage(_0x4a96cc(0x607));});}),_0x10d824[_0x4a2572(0x493)]('.quiz-bank-parallel-btn')['forEach'](_0x5e3e9b=>{const _0x1cd326=_0x4a2572;_0x5e3e9b['addEventListener'](_0x1cd326(0x572),_0x4ca076=>{const _0x4c1a11=_0x1cd326;_0x4ca076[_0x4c1a11(0x568)]();const _0x5e19ae=_0x5e3e9b[_0x4c1a11(0x723)]['id'],_0x3d00d8=allQuizzesGlobal[_0x4c1a11(0x1b7)](_0x1d313a=>_0x1d313a['id']===_0x5e19ae);_0x3d00d8?(document[_0x4c1a11(0x4f8)](_0x4c1a11(0x3c9))['classList'][_0x4c1a11(0x718)](_0x4c1a11(0x3d0)),handleGenerateParallelFromBank(_0x3d00d8)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x10d824[_0x4a2572(0x493)](_0x4a2572(0x6d4))[_0x4a2572(0x542)](_0x55c786=>{const _0x297b8b=_0x4a2572;_0x55c786[_0x297b8b(0x29d)]('click',_0x3ef01b=>{const _0x5f0172=_0x297b8b;_0x3ef01b['stopPropagation']();const _0x546e41=_0x55c786[_0x5f0172(0x723)]['id'],_0x185d9a=allQuizzesGlobal['find'](_0x159422=>_0x159422['id']===_0x546e41);_0x185d9a?(document[_0x5f0172(0x4f8)](_0x5f0172(0x3c9))[_0x5f0172(0x4a6)][_0x5f0172(0x718)](_0x5f0172(0x3d0)),startPresentation(_0x185d9a)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});});}function renderGlobalQuizList(_0x50a159=''){const _0xed5d32=_0xcf56c0,_0x26c902=document[_0xed5d32(0x4f8)](_0xed5d32(0x2d2)),_0x3f54ff=_0x50a159[_0xed5d32(0x69b)]()[_0xed5d32(0x21f)](),_0x3e5ca4=allQuizzesGlobal['map'](_0xb2aa91=>({..._0xb2aa91,'projectName':allProjects[_0xed5d32(0x1b7)](_0x31f658=>_0x31f658['id']===_0xb2aa91[_0xed5d32(0x6f5)])?.[_0xed5d32(0x1de)]||_0xb2aa91['projectId']}))['filter'](_0x4bd9dc=>(_0x4bd9dc[_0xed5d32(0x43d)]||'')[_0xed5d32(0x69b)]()[_0xed5d32(0x340)](_0x3f54ff)||(_0x4bd9dc[_0xed5d32(0x1de)]||'')[_0xed5d32(0x69b)]()[_0xed5d32(0x340)](_0x3f54ff));document[_0xed5d32(0x4f8)](_0xed5d32(0x603))[_0xed5d32(0x396)]='('+_0x3e5ca4[_0xed5d32(0x424)]+_0xed5d32(0x498),_0x26c902['innerHTML']=_0x3e5ca4['length']?_0x3e5ca4[_0xed5d32(0x44f)](_0x435cb7=>_0xed5d32(0x2ac)+_0x435cb7['id']+_0xed5d32(0x6f0)+(_0x435cb7[_0xed5d32(0x43d)]||_0xed5d32(0x315))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x435cb7[_0xed5d32(0x32f)]?.['length']||0x0)+_0xed5d32(0x5b6)+_0x435cb7[_0xed5d32(0x1de)]+_0xed5d32(0x6e2))[_0xed5d32(0x5ba)](''):_0xed5d32(0x345),selectedGlobalQuizId=null,document[_0xed5d32(0x4f8)]('confirm-global-live-btn')[_0xed5d32(0x3a5)]=!![],_0x26c902[_0xed5d32(0x493)](_0xed5d32(0x201))[_0xed5d32(0x542)](_0x394e30=>{const _0xea6068=_0xed5d32;_0x394e30['addEventListener'](_0xea6068(0x572),()=>{const _0x2f7a6b=_0xea6068;selectedGlobalQuizId=_0x394e30[_0x2f7a6b(0x723)]['id'],_0x26c902[_0x2f7a6b(0x493)](_0x2f7a6b(0x198))['forEach'](_0x11b1c0=>_0x11b1c0[_0x2f7a6b(0x4a6)][_0x2f7a6b(0x52e)](_0x2f7a6b(0x3bb),'ring-2',_0x2f7a6b(0x612))),_0x394e30[_0x2f7a6b(0x4a6)][_0x2f7a6b(0x718)](_0x2f7a6b(0x3bb),_0x2f7a6b(0x728),_0x2f7a6b(0x612)),document[_0x2f7a6b(0x4f8)](_0x2f7a6b(0x1e8))[_0x2f7a6b(0x3a5)]=![];});});}function listenForLiveGameUpdates(){const _0x1c1a8a=_0xcf56c0;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x291ae2=doc(db,'artifacts/'+appId+_0x1c1a8a(0x27e),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x291ae2,_0x33ae60=>{const _0x5ce8b4=_0x1c1a8a;if(!_0x33ae60['exists']()){showMessage(_0x5ce8b4(0x654)),showView(currentMode);return;}const _0x3acc6d=_0x33ae60['data']();!currentQuizData&&_0x3acc6d[_0x5ce8b4(0x541)]&&((async()=>{const _0x4f4ebf=_0x5ce8b4;try{const _0x33ec35=doc(db,'artifacts/'+appId+_0x4f4ebf(0x4d1),_0x3acc6d[_0x4f4ebf(0x541)]),_0x1d0307=await getDoc(_0x33ec35);_0x1d0307[_0x4f4ebf(0x6a7)]()&&(currentQuizData={'id':_0x1d0307['id'],..._0x1d0307[_0x4f4ebf(0x347)]()});}catch(_0x43a049){console[_0x4f4ebf(0x1f8)](_0x4f4ebf(0x66c),_0x43a049);}})());switch(_0x3acc6d['status']){case'lobby':if(currentMode===_0x5ce8b4(0x250)){const _0x42e989=_0x3acc6d[_0x5ce8b4(0x3c3)]?Object[_0x5ce8b4(0x1b3)](_0x3acc6d[_0x5ce8b4(0x3c3)]):[];document[_0x5ce8b4(0x4f8)](_0x5ce8b4(0x515))[_0x5ce8b4(0x396)]=_0x42e989['length'],document[_0x5ce8b4(0x4f8)](_0x5ce8b4(0x6ad))[_0x5ce8b4(0x1ae)]=_0x42e989['map'](_0x415775=>_0x5ce8b4(0x3cb)+_0x415775+'</span>')['join']('');const _0x5b7d88=document[_0x5ce8b4(0x4f8)](_0x5ce8b4(0x4a4));_0x5b7d88&&(_0x5b7d88[_0x5ce8b4(0x3a5)]=_0x42e989['length']===0x0);}else showView(_0x5ce8b4(0x5c2)),liveGameView[_0x5ce8b4(0x1ae)]=_0x5ce8b4(0x499)+currentStudentName+_0x5ce8b4(0x48a);break;case'question':const _0x2905ef=_0x3acc6d[_0x5ce8b4(0x4d7)];if(currentQuizData&&currentQuizData[_0x5ce8b4(0x32f)][_0x2905ef]){const _0x187113=currentQuizData[_0x5ce8b4(0x32f)][_0x2905ef],_0x2cb09e=currentQuizData[_0x5ce8b4(0x32f)][_0x5ce8b4(0x424)];if(currentMode===_0x5ce8b4(0x250)){lastRenderedAdminQuestionIndex!==_0x2905ef&&(showAdminLiveQuestionView(_0x187113,_0x2905ef,_0x2cb09e),lastRenderedAdminQuestionIndex=_0x2905ef);const _0x14b8cc=document[_0x5ce8b4(0x4f8)]('answer-counter');if(_0x14b8cc&&_0x3acc6d['players']){const _0x5c2332=Object[_0x5ce8b4(0x1b3)](_0x3acc6d[_0x5ce8b4(0x3c3)])[_0x5ce8b4(0x424)],_0x55fd8b=Object[_0x5ce8b4(0x1f5)](_0x3acc6d['players'])['filter'](_0x45cc4a=>_0x45cc4a[_0x5ce8b4(0x2ae)]===!![])[_0x5ce8b4(0x424)];_0x14b8cc['textContent']=_0x55fd8b+'/'+_0x5c2332,_0x5c2332>0x0&&_0x55fd8b===_0x5c2332&&_0x3acc6d[_0x5ce8b4(0x46a)]!==_0x5ce8b4(0x323)&&revealAnswerForAdmin(_0x2905ef,_0x2cb09e);}}else{const _0x2c6934=_0x3acc6d[_0x5ce8b4(0x3c3)][currentStudentName];if(_0x3acc6d['questionStatus']==='revealed'){if(_0x2c6934[_0x5ce8b4(0x2ae)]){const _0x14548d=_0x2c6934['lastAnswerCorrect'],_0x4455db=_0x2c6934[_0x5ce8b4(0x2af)]||0x0,_0x4c7a41=_0x14548d?_0x5ce8b4(0x48d)+_0x4455db+_0x5ce8b4(0x45a):_0x5ce8b4(0x4f2);liveGameView[_0x5ce8b4(0x1ae)]=_0x5ce8b4(0x22d)+_0x4c7a41+_0x5ce8b4(0x1f4);}else liveGameView[_0x5ce8b4(0x1ae)]=_0x5ce8b4(0x4d0);}else!_0x2c6934[_0x5ce8b4(0x2ae)]&&showStudentLiveQuestionView(_0x187113,_0x2905ef,_0x2cb09e);}}break;case _0x5ce8b4(0x213):showPodiumView(_0x3acc6d[_0x5ce8b4(0x3c3)]);break;}});}async function authenticateUser(){const _0x5c2085=_0xcf56c0;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x45e3e8){console[_0x5c2085(0x1f8)](_0x5c2085(0x2c3),_0x45e3e8),showMessage(_0x5c2085(0x58b));}}function showView(_0x57be0e){const _0x3bf177=_0xcf56c0,_0x20e7a1=[_0x3bf177(0x2c8),_0x3bf177(0x57c),_0x3bf177(0x5ca),_0x3bf177(0x41a),_0x3bf177(0x2b8),_0x3bf177(0x70c)];_0x20e7a1[_0x3bf177(0x542)](_0x18e6f4=>document[_0x3bf177(0x4f8)](_0x18e6f4)?.[_0x3bf177(0x4a6)][_0x3bf177(0x718)](_0x3bf177(0x3d0)));if(_0x57be0e===_0x3bf177(0x3fa))adminView['classList']['remove']('hidden'),projectDashboardView[_0x3bf177(0x4a6)]['remove'](_0x3bf177(0x3d0));else{if(_0x57be0e===_0x3bf177(0x4f9))studentView[_0x3bf177(0x4a6)][_0x3bf177(0x52e)]('hidden'),studentInitialView[_0x3bf177(0x4a6)][_0x3bf177(0x52e)](_0x3bf177(0x3d0)),studentNameSelectionView['classList'][_0x3bf177(0x718)](_0x3bf177(0x3d0)),studentQuizArea['classList'][_0x3bf177(0x718)]('hidden'),studentResultArea[_0x3bf177(0x4a6)][_0x3bf177(0x718)](_0x3bf177(0x3d0)),studentReadingArea['classList']['add']('hidden'),studentJoinGameView[_0x3bf177(0x4a6)][_0x3bf177(0x718)](_0x3bf177(0x3d0));else{if(_0x57be0e===_0x3bf177(0x440))adminView[_0x3bf177(0x4a6)]['remove']('hidden'),projectDetailView['classList'][_0x3bf177(0x52e)](_0x3bf177(0x3d0));else{if(_0x57be0e===_0x3bf177(0x457))adminView[_0x3bf177(0x4a6)][_0x3bf177(0x52e)](_0x3bf177(0x3d0)),quizResultsView[_0x3bf177(0x4a6)][_0x3bf177(0x52e)](_0x3bf177(0x3d0));else _0x57be0e===_0x3bf177(0x5c2)&&liveGameView[_0x3bf177(0x4a6)]['remove'](_0x3bf177(0x3d0));}}}}function showJoinGameView(){const _0x3493ea=_0xcf56c0;studentInitialView[_0x3493ea(0x4a6)]['add']('hidden'),studentJoinGameView[_0x3493ea(0x4a6)]['remove']('hidden');}function setupEventListeners(){const _0x310f3c=_0xcf56c0;document[_0x310f3c(0x4f8)](_0x310f3c(0x544))[_0x310f3c(0x29d)](_0x310f3c(0x572),handleModeSwitch),document[_0x310f3c(0x4f8)]('add-custom-math-topic-btn')['addEventListener'](_0x310f3c(0x572),handleAddCustomMathTopic),document[_0x310f3c(0x4f8)](_0x310f3c(0x48b))[_0x310f3c(0x29d)](_0x310f3c(0x572),handleSelectAllTopics),document['getElementById'](_0x310f3c(0x4b2))[_0x310f3c(0x29d)](_0x310f3c(0x572),handleDeselectAllTopics),document[_0x310f3c(0x4f8)](_0x310f3c(0x41b))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x310f3c(0x4f8)](_0x310f3c(0x47d))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document['getElementById']('back-to-dashboard-from-results-btn')['addEventListener']('click',()=>{showView('admin-dashboard');}),document['getElementById'](_0x310f3c(0x61e))[_0x310f3c(0x29d)]('click',()=>messageModal[_0x310f3c(0x4a6)][_0x310f3c(0x718)](_0x310f3c(0x3d0))),document[_0x310f3c(0x4f8)]('create-project-btn')['addEventListener']('click',()=>createProjectModal[_0x310f3c(0x4a6)][_0x310f3c(0x52e)]('hidden')),document['getElementById'](_0x310f3c(0x2e9))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>createProjectModal[_0x310f3c(0x4a6)][_0x310f3c(0x718)]('hidden')),document[_0x310f3c(0x4f8)](_0x310f3c(0x4d2))[_0x310f3c(0x29d)]('click',()=>adminPasswordModal[_0x310f3c(0x4a6)]['add']('hidden')),document[_0x310f3c(0x4f8)](_0x310f3c(0x19a))[_0x310f3c(0x29d)](_0x310f3c(0x572),handleAdminLogin),document['getElementById']('admin-password-input')[_0x310f3c(0x29d)](_0x310f3c(0x2f3),_0xc47c7e=>{const _0x3242dd=_0x310f3c;if(_0xc47c7e[_0x3242dd(0x46c)]===_0x3242dd(0x45b))handleAdminLogin();}),document[_0x310f3c(0x4f8)]('cancel-delete-btn')[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x4bf701=_0x310f3c;confirmationModal[_0x4bf701(0x4a6)][_0x4bf701(0x718)]('hidden'),confirmAction=null;}),document[_0x310f3c(0x4f8)](_0x310f3c(0x1eb))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x26fc82=_0x310f3c;confirmAction&&confirmAction(),confirmationModal[_0x26fc82(0x4a6)][_0x26fc82(0x718)](_0x26fc82(0x3d0)),confirmAction=null;}),document[_0x310f3c(0x4f8)](_0x310f3c(0x433))['addEventListener']('click',()=>renameQuizModal[_0x310f3c(0x4a6)][_0x310f3c(0x718)](_0x310f3c(0x3d0))),document[_0x310f3c(0x4f8)]('confirm-rename-quiz-btn')[_0x310f3c(0x29d)]('click',confirmRenameQuiz),document[_0x310f3c(0x4f8)](_0x310f3c(0x21c))[_0x310f3c(0x29d)]('click',()=>moveQuizModal[_0x310f3c(0x4a6)][_0x310f3c(0x718)](_0x310f3c(0x3d0))),document[_0x310f3c(0x4f8)](_0x310f3c(0x3e2))[_0x310f3c(0x29d)](_0x310f3c(0x572),confirmMoveQuiz),document[_0x310f3c(0x4f8)](_0x310f3c(0x6ae))['addEventListener'](_0x310f3c(0x572),()=>quizSettingsModal['classList']['add'](_0x310f3c(0x3d0))),document[_0x310f3c(0x4f8)](_0x310f3c(0x5ed))[_0x310f3c(0x29d)]('click',confirmQuizSettings),document['getElementById'](_0x310f3c(0x72c))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>quizStatusModal[_0x310f3c(0x4a6)]['add'](_0x310f3c(0x3d0))),document['getElementById'](_0x310f3c(0x2e1))[_0x310f3c(0x29d)](_0x310f3c(0x572),confirmQuizStatus),document[_0x310f3c(0x4f8)](_0x310f3c(0x3c2))['addEventListener'](_0x310f3c(0x572),openGlobalLiveModal),document['getElementById'](_0x310f3c(0x6bb))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x53ca6e=_0x310f3c;document[_0x53ca6e(0x4f8)](_0x53ca6e(0x20e))[_0x53ca6e(0x4a6)][_0x53ca6e(0x718)](_0x53ca6e(0x3d0)),selectedGlobalQuizId=null;}),document[_0x310f3c(0x4f8)](_0x310f3c(0x3e0))[_0x310f3c(0x29d)](_0x310f3c(0x4ab),_0x15de75=>renderGlobalQuizList(_0x15de75[_0x310f3c(0x6df)]['value'])),document[_0x310f3c(0x4f8)](_0x310f3c(0x1e8))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x59cec8=_0x310f3c,_0x577c89=selectedGlobalQuizId;if(!_0x577c89)return;document[_0x59cec8(0x4f8)](_0x59cec8(0x20e))['classList'][_0x59cec8(0x718)](_0x59cec8(0x3d0)),handleStartLiveRace(_0x577c89);}),document['getElementById'](_0x310f3c(0x412))[_0x310f3c(0x29d)](_0x310f3c(0x4ab),renderProjects),document[_0x310f3c(0x4f8)](_0x310f3c(0x4a0))['addEventListener']('change',renderProjects),document[_0x310f3c(0x4f8)](_0x310f3c(0x4c4))['addEventListener'](_0x310f3c(0x4ab),renderQuizzes),manageTab[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>switchProjectTab('manage')),resultsTab['addEventListener'](_0x310f3c(0x572),()=>switchProjectTab(_0x310f3c(0x2f0))),leaderboardTab[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>switchProjectTab(_0x310f3c(0x47a))),document[_0x310f3c(0x4f8)]('analytics-tab-btn')['addEventListener'](_0x310f3c(0x572),()=>switchQuizDetailTab('analytics')),document[_0x310f3c(0x4f8)]('scores-tab-btn')[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>switchQuizDetailTab(_0x310f3c(0x49b))),document[_0x310f3c(0x4f8)](_0x310f3c(0x4c2))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x310f3c(0x4f8)](_0x310f3c(0x459))[_0x310f3c(0x29d)](_0x310f3c(0x572),handleAnalyzeClass),generateWorksheetBtn[_0x310f3c(0x29d)]('click',generateWorksheet);const _0x10a9e3=document['getElementById'](_0x310f3c(0x19c)),_0xe55827=document[_0x310f3c(0x4f8)](_0x310f3c(0x378)),_0x1c7f90=document[_0x310f3c(0x4f8)](_0x310f3c(0x5bc)),_0x449f55=document[_0x310f3c(0x4f8)](_0x310f3c(0x1b2)),_0x43ab3c=document[_0x310f3c(0x4f8)](_0x310f3c(0x377)),_0x23d6af=document[_0x310f3c(0x4f8)](_0x310f3c(0x2fd));topicTab[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0xa1086=_0x310f3c;topicTab[_0xa1086(0x4a6)][_0xa1086(0x718)]('active'),textTab['classList'][_0xa1086(0x52e)](_0xa1086(0x5ac)),fileTab['classList'][_0xa1086(0x52e)]('active'),worksheetTab[_0xa1086(0x4a6)][_0xa1086(0x52e)](_0xa1086(0x5ac));if(_0x10a9e3)_0x10a9e3[_0xa1086(0x4a6)]['remove'](_0xa1086(0x5ac));if(_0x1c7f90)_0x1c7f90[_0xa1086(0x4a6)][_0xa1086(0x52e)](_0xa1086(0x5ac));if(_0x43ab3c)_0x43ab3c[_0xa1086(0x4a6)][_0xa1086(0x52e)](_0xa1086(0x5ac));topicInputArea[_0xa1086(0x4a6)]['remove'](_0xa1086(0x3d0)),textInputArea[_0xa1086(0x4a6)][_0xa1086(0x718)]('hidden'),fileInputArea['classList'][_0xa1086(0x718)](_0xa1086(0x3d0)),worksheetInputArea[_0xa1086(0x4a6)][_0xa1086(0x718)]('hidden');if(_0xe55827)_0xe55827[_0xa1086(0x4a6)][_0xa1086(0x718)](_0xa1086(0x3d0));if(_0x449f55)_0x449f55[_0xa1086(0x4a6)][_0xa1086(0x718)](_0xa1086(0x3d0));if(_0x23d6af)_0x23d6af[_0xa1086(0x4a6)]['add'](_0xa1086(0x3d0));}),textTab[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x40b356=_0x310f3c;textTab[_0x40b356(0x4a6)]['add']('active'),topicTab[_0x40b356(0x4a6)][_0x40b356(0x52e)](_0x40b356(0x5ac)),fileTab[_0x40b356(0x4a6)][_0x40b356(0x52e)](_0x40b356(0x5ac)),worksheetTab[_0x40b356(0x4a6)][_0x40b356(0x52e)](_0x40b356(0x5ac));if(_0x10a9e3)_0x10a9e3[_0x40b356(0x4a6)][_0x40b356(0x52e)](_0x40b356(0x5ac));if(_0x1c7f90)_0x1c7f90['classList'][_0x40b356(0x52e)](_0x40b356(0x5ac));if(_0x43ab3c)_0x43ab3c[_0x40b356(0x4a6)][_0x40b356(0x52e)]('active');textInputArea[_0x40b356(0x4a6)][_0x40b356(0x52e)](_0x40b356(0x3d0)),topicInputArea[_0x40b356(0x4a6)][_0x40b356(0x718)]('hidden'),fileInputArea[_0x40b356(0x4a6)]['add']('hidden'),worksheetInputArea['classList'][_0x40b356(0x718)]('hidden');if(_0xe55827)_0xe55827['classList'][_0x40b356(0x718)](_0x40b356(0x3d0));if(_0x449f55)_0x449f55[_0x40b356(0x4a6)][_0x40b356(0x718)](_0x40b356(0x3d0));if(_0x23d6af)_0x23d6af[_0x40b356(0x4a6)][_0x40b356(0x718)](_0x40b356(0x3d0));}),fileTab[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x474d5e=_0x310f3c;fileTab[_0x474d5e(0x4a6)][_0x474d5e(0x718)](_0x474d5e(0x5ac)),topicTab[_0x474d5e(0x4a6)]['remove']('active'),textTab[_0x474d5e(0x4a6)][_0x474d5e(0x52e)](_0x474d5e(0x5ac)),worksheetTab['classList'][_0x474d5e(0x52e)](_0x474d5e(0x5ac));if(_0x10a9e3)_0x10a9e3[_0x474d5e(0x4a6)][_0x474d5e(0x52e)](_0x474d5e(0x5ac));if(_0x1c7f90)_0x1c7f90[_0x474d5e(0x4a6)][_0x474d5e(0x52e)]('active');if(_0x43ab3c)_0x43ab3c['classList']['remove'](_0x474d5e(0x5ac));fileInputArea[_0x474d5e(0x4a6)][_0x474d5e(0x52e)](_0x474d5e(0x3d0)),topicInputArea[_0x474d5e(0x4a6)][_0x474d5e(0x718)]('hidden'),textInputArea[_0x474d5e(0x4a6)][_0x474d5e(0x718)](_0x474d5e(0x3d0)),worksheetInputArea['classList'][_0x474d5e(0x718)]('hidden');if(_0xe55827)_0xe55827[_0x474d5e(0x4a6)][_0x474d5e(0x718)](_0x474d5e(0x3d0));if(_0x449f55)_0x449f55[_0x474d5e(0x4a6)][_0x474d5e(0x718)](_0x474d5e(0x3d0));if(_0x23d6af)_0x23d6af['classList'][_0x474d5e(0x718)](_0x474d5e(0x3d0));}),worksheetTab[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x15066f=_0x310f3c;worksheetTab[_0x15066f(0x4a6)][_0x15066f(0x718)](_0x15066f(0x5ac)),topicTab['classList']['remove']('active'),textTab[_0x15066f(0x4a6)]['remove'](_0x15066f(0x5ac)),fileTab[_0x15066f(0x4a6)]['remove']('active');if(_0x10a9e3)_0x10a9e3[_0x15066f(0x4a6)][_0x15066f(0x52e)](_0x15066f(0x5ac));if(_0x1c7f90)_0x1c7f90['classList']['remove'](_0x15066f(0x5ac));if(_0x43ab3c)_0x43ab3c[_0x15066f(0x4a6)][_0x15066f(0x52e)]('active');worksheetInputArea['classList'][_0x15066f(0x52e)](_0x15066f(0x3d0)),topicInputArea[_0x15066f(0x4a6)]['add'](_0x15066f(0x3d0)),textInputArea[_0x15066f(0x4a6)][_0x15066f(0x718)](_0x15066f(0x3d0)),fileInputArea['classList'][_0x15066f(0x718)]('hidden');if(_0xe55827)_0xe55827[_0x15066f(0x4a6)]['add'](_0x15066f(0x3d0));if(_0x449f55)_0x449f55[_0x15066f(0x4a6)][_0x15066f(0x718)](_0x15066f(0x3d0));if(_0x23d6af)_0x23d6af[_0x15066f(0x4a6)][_0x15066f(0x718)](_0x15066f(0x3d0));});const _0x419588=document[_0x310f3c(0x4f8)](_0x310f3c(0x414)),_0xc17745=document[_0x310f3c(0x4f8)](_0x310f3c(0x2fa));_0x419588&&_0x419588[_0x310f3c(0x29d)]('click',()=>{const _0x643077=_0x310f3c;topicTab[_0x643077(0x4a6)][_0x643077(0x52e)](_0x643077(0x5ac)),textTab[_0x643077(0x4a6)][_0x643077(0x52e)](_0x643077(0x5ac)),fileTab[_0x643077(0x4a6)][_0x643077(0x52e)]('active'),worksheetTab[_0x643077(0x4a6)]['remove'](_0x643077(0x5ac));if(_0x10a9e3)_0x10a9e3[_0x643077(0x4a6)][_0x643077(0x52e)](_0x643077(0x5ac));if(_0x1c7f90)_0x1c7f90['classList'][_0x643077(0x52e)](_0x643077(0x5ac));if(_0x43ab3c)_0x43ab3c[_0x643077(0x4a6)][_0x643077(0x52e)](_0x643077(0x5ac));_0x419588[_0x643077(0x4a6)][_0x643077(0x718)](_0x643077(0x5ac)),topicInputArea[_0x643077(0x4a6)][_0x643077(0x718)](_0x643077(0x3d0)),textInputArea['classList']['add'](_0x643077(0x3d0)),fileInputArea['classList']['add'](_0x643077(0x3d0)),worksheetInputArea[_0x643077(0x4a6)][_0x643077(0x718)](_0x643077(0x3d0));if(_0xe55827)_0xe55827['classList']['add'](_0x643077(0x3d0));if(_0x449f55)_0x449f55[_0x643077(0x4a6)][_0x643077(0x718)](_0x643077(0x3d0));if(_0x23d6af)_0x23d6af['classList']['add'](_0x643077(0x3d0));_0xc17745['classList']['remove'](_0x643077(0x3d0)),displayQuestionBank();});_0x10a9e3&&(_0x10a9e3['addEventListener'](_0x310f3c(0x572),()=>{const _0x50199b=_0x310f3c;_0x10a9e3['classList'][_0x50199b(0x718)](_0x50199b(0x5ac)),topicTab[_0x50199b(0x4a6)][_0x50199b(0x52e)]('active'),textTab[_0x50199b(0x4a6)][_0x50199b(0x52e)]('active'),fileTab[_0x50199b(0x4a6)]['remove']('active'),worksheetTab[_0x50199b(0x4a6)][_0x50199b(0x52e)](_0x50199b(0x5ac));if(_0x1c7f90)_0x1c7f90[_0x50199b(0x4a6)][_0x50199b(0x52e)](_0x50199b(0x5ac));if(_0x43ab3c)_0x43ab3c[_0x50199b(0x4a6)][_0x50199b(0x52e)](_0x50199b(0x5ac));_0xe55827[_0x50199b(0x4a6)]['remove'](_0x50199b(0x3d0)),topicInputArea[_0x50199b(0x4a6)]['add'](_0x50199b(0x3d0)),textInputArea['classList'][_0x50199b(0x718)](_0x50199b(0x3d0)),fileInputArea[_0x50199b(0x4a6)][_0x50199b(0x718)](_0x50199b(0x3d0)),worksheetInputArea[_0x50199b(0x4a6)][_0x50199b(0x718)](_0x50199b(0x3d0));if(_0x449f55)_0x449f55[_0x50199b(0x4a6)]['add'](_0x50199b(0x3d0));if(_0x23d6af)_0x23d6af['classList'][_0x50199b(0x718)](_0x50199b(0x3d0));}),document[_0x310f3c(0x4f8)](_0x310f3c(0x26c))[_0x310f3c(0x29d)](_0x310f3c(0x572),handleGenerateFromLink));_0x1c7f90&&_0x1c7f90[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x142421=_0x310f3c;_0x1c7f90['classList'][_0x142421(0x718)](_0x142421(0x5ac)),topicTab[_0x142421(0x4a6)]['remove']('active'),textTab[_0x142421(0x4a6)]['remove'](_0x142421(0x5ac)),fileTab[_0x142421(0x4a6)][_0x142421(0x52e)]('active'),worksheetTab[_0x142421(0x4a6)][_0x142421(0x52e)](_0x142421(0x5ac));if(_0x10a9e3)_0x10a9e3[_0x142421(0x4a6)]['remove'](_0x142421(0x5ac));if(_0x419588)_0x419588['classList'][_0x142421(0x52e)](_0x142421(0x5ac));if(_0x43ab3c)_0x43ab3c[_0x142421(0x4a6)][_0x142421(0x52e)]('active');_0x449f55[_0x142421(0x4a6)][_0x142421(0x52e)](_0x142421(0x3d0)),topicInputArea[_0x142421(0x4a6)][_0x142421(0x718)](_0x142421(0x3d0)),textInputArea[_0x142421(0x4a6)][_0x142421(0x718)](_0x142421(0x3d0)),fileInputArea[_0x142421(0x4a6)][_0x142421(0x718)](_0x142421(0x3d0)),worksheetInputArea[_0x142421(0x4a6)][_0x142421(0x718)](_0x142421(0x3d0));if(_0xe55827)_0xe55827[_0x142421(0x4a6)][_0x142421(0x718)]('hidden');if(_0xc17745)_0xc17745[_0x142421(0x4a6)][_0x142421(0x718)](_0x142421(0x3d0));if(_0x23d6af)_0x23d6af[_0x142421(0x4a6)][_0x142421(0x718)]('hidden');});_0x43ab3c&&_0x43ab3c[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x4adf9d=_0x310f3c;_0x43ab3c[_0x4adf9d(0x4a6)]['add'](_0x4adf9d(0x5ac)),topicTab['classList']['remove']('active'),textTab[_0x4adf9d(0x4a6)][_0x4adf9d(0x52e)](_0x4adf9d(0x5ac)),fileTab[_0x4adf9d(0x4a6)][_0x4adf9d(0x52e)](_0x4adf9d(0x5ac)),worksheetTab[_0x4adf9d(0x4a6)][_0x4adf9d(0x52e)](_0x4adf9d(0x5ac));if(_0x10a9e3)_0x10a9e3[_0x4adf9d(0x4a6)][_0x4adf9d(0x52e)]('active');if(_0x1c7f90)_0x1c7f90[_0x4adf9d(0x4a6)][_0x4adf9d(0x52e)](_0x4adf9d(0x5ac));if(_0x419588)_0x419588['classList'][_0x4adf9d(0x52e)](_0x4adf9d(0x5ac));_0x23d6af['classList'][_0x4adf9d(0x52e)]('hidden'),topicInputArea[_0x4adf9d(0x4a6)][_0x4adf9d(0x718)](_0x4adf9d(0x3d0)),textInputArea[_0x4adf9d(0x4a6)]['add']('hidden'),fileInputArea['classList']['add'](_0x4adf9d(0x3d0)),worksheetInputArea['classList'][_0x4adf9d(0x718)](_0x4adf9d(0x3d0));if(_0xe55827)_0xe55827[_0x4adf9d(0x4a6)][_0x4adf9d(0x718)](_0x4adf9d(0x3d0));if(_0x449f55)_0x449f55[_0x4adf9d(0x4a6)][_0x4adf9d(0x718)](_0x4adf9d(0x3d0));if(_0xc17745)_0xc17745[_0x4adf9d(0x4a6)][_0x4adf9d(0x718)](_0x4adf9d(0x3d0));});const _0x57922a=document[_0x310f3c(0x4f8)](_0x310f3c(0x1e0)),_0x5473e3=document[_0x310f3c(0x4f8)](_0x310f3c(0x421));_0x57922a&&_0x57922a[_0x310f3c(0x29d)](_0x310f3c(0x386),_0x3fb0d4=>{const _0x595ca3=_0x310f3c;_0x3fb0d4[_0x595ca3(0x6df)][_0x595ca3(0x38f)][_0x595ca3(0x424)]>0x0?_0x5473e3['disabled']=![]:_0x5473e3[_0x595ca3(0x3a5)]=!![];});_0x5473e3&&_0x5473e3[_0x310f3c(0x29d)](_0x310f3c(0x572),handleGenerateFromBlueprint);const _0x333494=document[_0x310f3c(0x4f8)](_0x310f3c(0x606)),_0x2182b9=document['getElementById'](_0x310f3c(0x691));_0x333494&&_0x333494['addEventListener'](_0x310f3c(0x386),_0x6d639e=>{const _0x1bf19f=_0x310f3c;_0x2182b9[_0x1bf19f(0x3a5)]=_0x6d639e[_0x1bf19f(0x6df)][_0x1bf19f(0x38f)]['length']===0x0;});_0x2182b9&&_0x2182b9[_0x310f3c(0x29d)](_0x310f3c(0x572),handleGenerateParallelTest);loadQuizBtn[_0x310f3c(0x29d)]('click',handleLoadQuiz),startQuizBtn[_0x310f3c(0x29d)]('click',()=>{const _0x1d264b=_0x310f3c,_0x2a5f40=document['getElementById']('student-name-select');currentStudentName=_0x2a5f40['value'];if(!currentStudentName){showMessage(_0x1d264b(0x30c));return;}studentNameSelectionView[_0x1d264b(0x4a6)][_0x1d264b(0x718)](_0x1d264b(0x3d0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById']('join-live-game-btn')[_0x310f3c(0x29d)](_0x310f3c(0x572),showJoinGameView),document[_0x310f3c(0x4f8)]('confirm-join-game-btn')['addEventListener'](_0x310f3c(0x572),handleJoinLiveGame),document['getElementById'](_0x310f3c(0x245))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>showView(_0x310f3c(0x4f9)));const _0x3fa066=()=>{const _0x134686=_0x310f3c,_0x1c0b36=document[_0x134686(0x4f8)]('results-quiz-title')[_0x134686(0x396)][_0x134686(0x3e4)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x1c0b36||_0x134686(0x58e));},_0x1c01e7=document[_0x310f3c(0x4f8)](_0x310f3c(0x327));_0x1c01e7&&_0x1c01e7[_0x310f3c(0x29d)](_0x310f3c(0x4ab),_0x4ecd7a=>{const _0x212d22=_0x310f3c,_0x60159=_0x4ecd7a[_0x212d22(0x6df)][_0x212d22(0x6dc)][_0x212d22(0x69b)]()['trim'](),_0x15bde0=document[_0x212d22(0x4f8)]('math-topics-checkbox-container'),_0x444e40=_0x15bde0[_0x212d22(0x493)](_0x212d22(0x1d9));_0x444e40[_0x212d22(0x542)](_0x568e69=>{const _0x5bdb4b=_0x212d22;let _0x434fa8=![];const _0xbd9cd5=_0x568e69['querySelectorAll']('label');_0xbd9cd5['forEach'](_0x611da8=>{const _0xd8697a=_0x57c6,_0x27de73=_0x611da8[_0xd8697a(0x396)][_0xd8697a(0x69b)]();_0x27de73[_0xd8697a(0x340)](_0x60159)?(_0x611da8[_0xd8697a(0x3ef)]['display']=_0xd8697a(0x2aa),_0x434fa8=!![]):_0x611da8[_0xd8697a(0x3ef)][_0xd8697a(0x22b)]=_0xd8697a(0x6be);}),_0x434fa8?_0x568e69[_0x5bdb4b(0x3ef)][_0x5bdb4b(0x22b)]=_0x5bdb4b(0x2c5):_0x568e69[_0x5bdb4b(0x3ef)][_0x5bdb4b(0x22b)]='none';});});document['getElementById'](_0x310f3c(0x2a1))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>exportTableAsImage(_0x310f3c(0x401),_0x3fa066())),document['getElementById'](_0x310f3c(0x67e))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>exportTableAsPDF(_0x310f3c(0x617),_0x3fa066())),document[_0x310f3c(0x4f8)](_0x310f3c(0x714))[_0x310f3c(0x29d)]('click',()=>exportTableAsWord(_0x310f3c(0x401),_0x3fa066())),document['getElementById'](_0x310f3c(0x5f7))[_0x310f3c(0x29d)]('click',()=>exportTableAsExcel(_0x310f3c(0x617),_0x3fa066()));const _0x9592b5=()=>{const _0x1105ff=_0x310f3c,_0x4dd59b=document[_0x1105ff(0x4f8)](_0x1105ff(0x5f5))[_0x1105ff(0x396)][_0x1105ff(0x3e4)](/[^a-z0-9]/gi,'_')[_0x1105ff(0x69b)]();return _0x1105ff(0x2cb)+(_0x4dd59b||'quiz');};document[_0x310f3c(0x4f8)](_0x310f3c(0x3bd))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>exportTableAsImage(_0x310f3c(0x302),_0x9592b5())),document['getElementById']('export-leaderboard-pdf-btn')[_0x310f3c(0x29d)]('click',()=>exportTableAsPDF(_0x310f3c(0x346),_0x9592b5())),document[_0x310f3c(0x4f8)](_0x310f3c(0x29e))['addEventListener'](_0x310f3c(0x572),()=>exportTableAsWord(_0x310f3c(0x302),_0x9592b5())),document[_0x310f3c(0x4f8)](_0x310f3c(0x5c8))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>exportTableAsExcel(_0x310f3c(0x346),_0x9592b5())),projectQuizzesList[_0x310f3c(0x29d)]('click',async _0x380891=>{const _0x32b5c9=_0x310f3c,_0x3d0f26=_0x380891['target']['closest'](_0x32b5c9(0x39d)),_0x1010f3=_0x380891[_0x32b5c9(0x6df)]['closest']('.delete-quiz-btn'),_0x3011e3=_0x380891[_0x32b5c9(0x6df)]['closest']('.copy-quiz-id-list-btn'),_0x2111d8=_0x380891[_0x32b5c9(0x6df)][_0x32b5c9(0x191)]('.start-presentation-list-btn'),_0x5accaa=_0x380891[_0x32b5c9(0x6df)][_0x32b5c9(0x191)](_0x32b5c9(0x58f)),_0x4e16ac=_0x380891[_0x32b5c9(0x6df)][_0x32b5c9(0x191)]('.rename-quiz-btn'),_0x41296a=_0x380891[_0x32b5c9(0x6df)][_0x32b5c9(0x191)](_0x32b5c9(0x4be)),_0xfccc5b=_0x380891[_0x32b5c9(0x6df)][_0x32b5c9(0x191)](_0x32b5c9(0x6f6)),_0x44ab9d=_0x380891['target'][_0x32b5c9(0x191)](_0x32b5c9(0x1bc)),_0x5a78df=_0x380891[_0x32b5c9(0x6df)][_0x32b5c9(0x191)](_0x32b5c9(0x646)),_0x3ad44f=_0x380891[_0x32b5c9(0x6df)][_0x32b5c9(0x191)](_0x32b5c9(0x4e8)),_0x377882=_0x380891['target'][_0x32b5c9(0x191)]('.edit-quiz-btn'),_0x320657=_0x380891[_0x32b5c9(0x6df)]['closest'](_0x32b5c9(0x540));if(_0x377882){const _0x37a1c4=_0x377882[_0x32b5c9(0x723)][_0x32b5c9(0x541)];handleOpenQuizEditor(_0x37a1c4);}else{if(_0x320657){const _0x32ffc7=_0x320657[_0x32b5c9(0x723)]['quizId'],_0x4924fd=allQuizzes['find'](_0x5cf841=>_0x5cf841['id']===_0x32ffc7);_0x4924fd?handleGenerateParallelFromBank(_0x4924fd):showMessage(_0x32b5c9(0x607));}else{if(_0x3d0f26){const _0x38652a=_0x3d0f26[_0x32b5c9(0x723)]['quizId'];handleToggleStarQuiz(_0x38652a);}else{if(_0x3ad44f){const _0x344138=_0x3ad44f['dataset']['quizId'];handleStartLiveRace(_0x344138);}else{if(_0x1010f3){const _0x152c2b=_0x1010f3[_0x32b5c9(0x723)][_0x32b5c9(0x541)],_0x551e8f=_0x1010f3['dataset']['topic'];showConfirmation(_0x32b5c9(0x59a)+_0x551e8f+_0x32b5c9(0x231),()=>handleDeleteQuiz(_0x152c2b));}else{if(_0x3011e3){const _0x669776=_0x3011e3[_0x32b5c9(0x723)][_0x32b5c9(0x541)];copyTextToClipboard(_0x669776,_0x32b5c9(0x4d4));}else{if(_0x2111d8){const _0xb021c5=_0x2111d8['dataset']['quizId'],_0x299eba=doc(db,_0x32b5c9(0x5ad)+appId+'/public/data/quizzes',_0xb021c5),_0x5ebe28=await getDoc(_0x299eba);if(_0x5ebe28['exists']()){const _0x4a528c={'id':_0x5ebe28['id'],..._0x5ebe28[_0x32b5c9(0x347)]()};startPresentation(_0x4a528c);}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x5accaa){const _0x87364a=_0x5accaa['dataset'][_0x32b5c9(0x541)],_0x13d9f9=doc(db,_0x32b5c9(0x5ad)+appId+'/public/data/quizzes',_0x87364a),_0x293321=await getDoc(_0x13d9f9);_0x293321[_0x32b5c9(0x6a7)]()?(currentQuizData={'id':_0x293321['id'],..._0x293321['data']()},startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x4e16ac){const _0x1e42a9=_0x4e16ac[_0x32b5c9(0x723)][_0x32b5c9(0x541)],_0xf7d920=_0x4e16ac[_0x32b5c9(0x723)]['topic'];handleRenameQuiz(_0x1e42a9,_0xf7d920);}else{if(_0x41296a){const _0x268b4e=_0x41296a[_0x32b5c9(0x723)]['quizId'];handleMoveQuiz(_0x268b4e);}else{if(_0xfccc5b){const _0x5121e9=_0xfccc5b[_0x32b5c9(0x723)]['quizId'];handleQuizSettings(_0x5121e9);}else{if(_0x44ab9d){const _0x19d5ab=_0x44ab9d[_0x32b5c9(0x723)][_0x32b5c9(0x541)];handleQuizStatus(_0x19d5ab);}else{if(_0x5a78df){const _0x4cd088=_0x5a78df['dataset'][_0x32b5c9(0x541)];handleDuplicateQuiz(_0x4cd088);}}}}}}}}}}}}}}),document[_0x310f3c(0x4f8)](_0x310f3c(0x346))[_0x310f3c(0x480)](_0x310f3c(0x399))['addEventListener'](_0x310f3c(0x572),_0x50bada=>{const _0x270214=_0x310f3c,_0x3a82f1=_0x50bada[_0x270214(0x6df)][_0x270214(0x191)]('.sortable-header');if(!_0x3a82f1||!_0x3a82f1[_0x270214(0x723)][_0x270214(0x5d8)])return;const _0x574fa7=_0x3a82f1['dataset'][_0x270214(0x5d8)];if(quizLeaderboardSortBy===_0x574fa7)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x270214(0x3af)?_0x270214(0x1ec):'asc';else{quizLeaderboardSortBy=_0x574fa7;const _0x3b5018=['studentName'];quizLeaderboardSortOrder=_0x3b5018[_0x270214(0x340)](_0x574fa7)?_0x270214(0x3af):_0x270214(0x1ec);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x270214(0x57a));}),document[_0x310f3c(0x4f8)](_0x310f3c(0x3e6))[_0x310f3c(0x29d)](_0x310f3c(0x572),closePresentation),document['getElementById'](_0x310f3c(0x677))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x310f3c(0x4f8)](_0x310f3c(0x24d))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x168336=_0x310f3c;currentQuizData[_0x168336(0x32f)]&&currentPresentationSlide<currentQuizData['questions']['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x310f3c(0x29d)](_0x310f3c(0x39b),()=>{const _0x585cf4=_0x310f3c;!document['fullscreenElement']&&(presentationModal[_0x585cf4(0x3ef)]['display']=_0x585cf4(0x6be));}),document[_0x310f3c(0x4f8)](_0x310f3c(0x23d))[_0x310f3c(0x29d)]('click',handleDeleteAllStudents),studentList[_0x310f3c(0x29d)](_0x310f3c(0x572),_0x58fa27=>{const _0x34deb2=_0x310f3c,_0x30b764=_0x58fa27['target'][_0x34deb2(0x191)](_0x34deb2(0x353));if(_0x30b764){const _0x24bb02=_0x30b764[_0x34deb2(0x723)]['studentName'];handleDeleteStudent(_0x24bb02);}}),document[_0x310f3c(0x4f8)](_0x310f3c(0x545))[_0x310f3c(0x29d)]('click',handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x310f3c(0x386),_0x4c9999=>{const _0x4a425c=_0x310f3c,_0x2fe0a4=_0x4c9999['target'][_0x4a425c(0x38f)][0x0],_0x11773e=document[_0x4a425c(0x4f8)]('generate-from-file-btn');_0x2fe0a4?(selectedFile=_0x2fe0a4,_0x11773e[_0x4a425c(0x3a5)]=![]):(selectedFile=null,_0x11773e[_0x4a425c(0x3a5)]=!![]);}),document['getElementById'](_0x310f3c(0x3d7))[_0x310f3c(0x29d)](_0x310f3c(0x386),_0x3a1855=>{const _0x22921f=_0x310f3c,_0x3731b9=document['getElementById'](_0x22921f(0x4c0)),_0x57a505=document['getElementById'](_0x22921f(0x37e)),_0x487df2=document[_0x22921f(0x4f8)](_0x22921f(0x56d));_0x3a1855[_0x22921f(0x6df)][_0x22921f(0x6dc)]===_0x22921f(0x6be)?_0x3731b9[_0x22921f(0x4a6)][_0x22921f(0x718)](_0x22921f(0x3d0)):(_0x3731b9['classList'][_0x22921f(0x52e)](_0x22921f(0x3d0)),_0x3a1855[_0x22921f(0x6df)][_0x22921f(0x6dc)]===_0x22921f(0x739)?(_0x57a505[_0x22921f(0x396)]=_0x22921f(0x6c7),_0x487df2[_0x22921f(0x6dc)]='10'):(_0x57a505[_0x22921f(0x396)]=_0x22921f(0x632),_0x487df2[_0x22921f(0x6dc)]='30'));}),document[_0x310f3c(0x4f8)]('quiz-type-select')[_0x310f3c(0x29d)](_0x310f3c(0x386),_0x5a8ccf=>{const _0x55c889=_0x310f3c,_0x220889=document[_0x55c889(0x4f8)](_0x55c889(0x56c)),_0x1e0208=_0x5a8ccf['target'][_0x55c889(0x6dc)],_0x46141d=document[_0x55c889(0x480)](_0x55c889(0x384)),_0xc9d531=document[_0x55c889(0x4f8)](_0x55c889(0x338)),_0x3d08a2=document[_0x55c889(0x4f8)](_0x55c889(0x5c3));_0x1e0208===_0x55c889(0x66d)?_0x46141d['textContent']=_0x55c889(0x5e4):_0x46141d[_0x55c889(0x396)]=_0x55c889(0x1cb),_0x1e0208===_0x55c889(0x4ed)||_0x1e0208==='fill_in_with_choices'||_0x1e0208===_0x55c889(0x379)?_0x220889[_0x55c889(0x4a6)][_0x55c889(0x52e)](_0x55c889(0x3d0)):_0x220889[_0x55c889(0x4a6)][_0x55c889(0x718)](_0x55c889(0x3d0)),_0xc9d531[_0x55c889(0x366)]=_0x3d08a2[_0x55c889(0x6dc)];}),document[_0x310f3c(0x4f8)](_0x310f3c(0x5c3))[_0x310f3c(0x29d)](_0x310f3c(0x4ab),_0x369ee8=>{const _0xe39140=_0x310f3c;document[_0xe39140(0x4f8)]('passing-score-input')['max']=_0x369ee8[_0xe39140(0x6df)]['value'];}),document[_0x310f3c(0x4f8)](_0x310f3c(0x6b1))[_0x310f3c(0x29d)]('change',_0x40a370=>{const _0x1a5069=_0x310f3c,_0x7932a3=document[_0x1a5069(0x4f8)](_0x1a5069(0x453)),_0x52f52e=document[_0x1a5069(0x4f8)](_0x1a5069(0x28c)),_0x3eb80d=document['getElementById'](_0x1a5069(0x320));_0x40a370[_0x1a5069(0x6df)][_0x1a5069(0x6dc)]===_0x1a5069(0x6be)?_0x7932a3[_0x1a5069(0x4a6)][_0x1a5069(0x718)](_0x1a5069(0x3d0)):(_0x7932a3['classList']['remove']('hidden'),_0x40a370[_0x1a5069(0x6df)][_0x1a5069(0x6dc)]===_0x1a5069(0x739)?_0x52f52e[_0x1a5069(0x396)]='ระยะเวลา\x20(นาที):':_0x52f52e[_0x1a5069(0x396)]=_0x1a5069(0x632));}),document[_0x310f3c(0x4f8)]('cancel-quiz-edits-btn')[_0x310f3c(0x29d)]('click',()=>{const _0x56960c=_0x310f3c;document[_0x56960c(0x4f8)](_0x56960c(0x3be))['classList'][_0x56960c(0x718)](_0x56960c(0x3d0));}),document[_0x310f3c(0x4f8)](_0x310f3c(0x65f))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x36c693=_0x310f3c;document[_0x36c693(0x4f8)](_0x36c693(0x3be))['classList'][_0x36c693(0x718)](_0x36c693(0x3d0));}),document['getElementById'](_0x310f3c(0x2f5))['addEventListener'](_0x310f3c(0x572),()=>{const _0x1b7136=_0x310f3c;document[_0x1b7136(0x4f8)](_0x1b7136(0x3be))[_0x1b7136(0x4a6)]['add']('hidden'),showConfirmation(_0x1b7136(0x6a5),handleSaveChanges);}),document[_0x310f3c(0x4f8)](_0x310f3c(0x210))['addEventListener'](_0x310f3c(0x572),handleAutoFixLatex);const _0x3dca18=document[_0x310f3c(0x4f8)](_0x310f3c(0x235));_0x3dca18&&_0x3dca18[_0x310f3c(0x29d)](_0x310f3c(0x572),_0x7aef22=>{const _0x52128a=_0x310f3c,_0x4eabd8=_0x7aef22[_0x52128a(0x6df)][_0x52128a(0x191)](_0x52128a(0x5a5));if(_0x4eabd8){const _0x12b49c=_0x4eabd8[_0x52128a(0x191)](_0x52128a(0x463)),_0x3ac868=parseInt(_0x12b49c[_0x52128a(0x723)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x3ac868);}}),document['getElementById'](_0x310f3c(0x443))['addEventListener'](_0x310f3c(0x572),openQuizBankModal),document[_0x310f3c(0x4f8)](_0x310f3c(0x21a))[_0x310f3c(0x29d)](_0x310f3c(0x572),()=>{const _0x5282d9=_0x310f3c;document[_0x5282d9(0x4f8)](_0x5282d9(0x3c9))[_0x5282d9(0x4a6)][_0x5282d9(0x718)](_0x5282d9(0x3d0));}),document[_0x310f3c(0x4f8)]('bank-quiz-search-input')['addEventListener']('input',_0x391fe9=>renderQuizBankList(_0x391fe9[_0x310f3c(0x6df)]['value']));}async function extractTextFromPdf(_0x3a449c){const _0x52c866=_0xcf56c0;pdfjsLib[_0x52c866(0x622)]['workerSrc']=_0x52c866(0x354);const _0x28ed15=await _0x3a449c[_0x52c866(0x67a)](),_0x23a0a7=await pdfjsLib['getDocument'](_0x28ed15)[_0x52c866(0x50a)],_0x7c4cfc=_0x23a0a7[_0x52c866(0x24b)];let _0x2b8ac3='';for(let _0x5f13b6=0x1;_0x5f13b6<=_0x7c4cfc;_0x5f13b6++){const _0x21a119=await _0x23a0a7[_0x52c866(0x594)](_0x5f13b6),_0x2388d4=await _0x21a119[_0x52c866(0x220)](),_0x22f084=_0x2388d4[_0x52c866(0x70e)][_0x52c866(0x44f)](_0x3f40da=>_0x3f40da[_0x52c866(0x663)])[_0x52c866(0x5ba)]('\x20');_0x2b8ac3+=_0x22f084+'\x0a\x0a';}return _0x2b8ac3;}async function handleGenerateFromBlueprint(){const _0x13bb42=_0xcf56c0,_0x27f74c=document['getElementById'](_0x13bb42(0x1e0)),_0x1ae2a5=_0x27f74c['files'][0x0];if(!_0x1ae2a5){showMessage(_0x13bb42(0x67d));return;}const _0x101295=document[_0x13bb42(0x4f8)](_0x13bb42(0x6cb)),_0x248d31=document[_0x13bb42(0x4f8)]('loader-text'),_0x1b433e=document[_0x13bb42(0x4f8)](_0x13bb42(0x325)),_0x468b26=document['getElementById'](_0x13bb42(0x421));_0x468b26['disabled']=!![],document['getElementById'](_0x13bb42(0x26a))[_0x13bb42(0x4a6)]['remove'](_0x13bb42(0x3d0)),_0x1b433e[_0x13bb42(0x1ae)]='',_0x101295['classList'][_0x13bb42(0x52e)](_0x13bb42(0x3d0)),_0x248d31[_0x13bb42(0x396)]=_0x13bb42(0x299);try{const _0x2c08b8=await extractTextFromPdf(_0x1ae2a5);if(!_0x2c08b8[_0x13bb42(0x21f)]())throw new Error(_0x13bb42(0x281));_0x248d31[_0x13bb42(0x396)]=_0x13bb42(0x665);const _0x5c28dd=document[_0x13bb42(0x4f8)](_0x13bb42(0x5df))[_0x13bb42(0x525)],_0x39377a=_0x5c28dd?_0x13bb42(0x1fe):'',_0x2ebc27=_0x13bb42(0x510)+_0x2c08b8+_0x13bb42(0x1bd)+_0x39377a+_0x13bb42(0x30d)+simpleMathPrompt+_0x13bb42(0x712),_0x2f825d={'type':_0x13bb42(0x265),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x13bb42(0x687),'enum':[_0x13bb42(0x4ed),_0x13bb42(0x516)]},'options':{'type':_0x13bb42(0x3c6),'items':{'type':_0x13bb42(0x687)}},'correctAnswerIndex':{'type':_0x13bb42(0x3dc)},'idealAnswer':{'type':_0x13bb42(0x687)},'explanation':{'type':_0x13bb42(0x687)},'imageCode':{'type':_0x13bb42(0x687)}},'required':[_0x13bb42(0x1db),_0x13bb42(0x305),_0x13bb42(0x4c6)]},_0x32b578={'type':_0x13bb42(0x265),'properties':{'topic':{'type':_0x13bb42(0x687)},'questions':{'type':_0x13bb42(0x3c6),'items':_0x2f825d}},'required':['topic',_0x13bb42(0x32f)]};await handleApiCall(_0x2ebc27,_0x13bb42(0x2bd),_0x32b578);}catch(_0x3e104d){console['error'](_0x13bb42(0x30f),_0x3e104d),showMessage(_0x13bb42(0x679)+_0x3e104d[_0x13bb42(0x4ae)]),_0x1b433e['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x101295[_0x13bb42(0x4a6)]['add'](_0x13bb42(0x3d0)),_0x468b26[_0x13bb42(0x3a5)]=![];}}async function handleGenerateParallelFromBank(_0xebb6e5){const _0x5da2c4=_0xcf56c0,_0x23a62c=document['getElementById'](_0x5da2c4(0x6cb)),_0x5b074f=document['getElementById'](_0x5da2c4(0x33e)),_0x268fa5=document[_0x5da2c4(0x4f8)]('generated-quiz-container'),_0x467334=document[_0x5da2c4(0x4f8)](_0x5da2c4(0x26a));showView(_0x5da2c4(0x440)),switchProjectTab(_0x5da2c4(0x415)),_0x467334[_0x5da2c4(0x4a6)]['remove'](_0x5da2c4(0x3d0)),_0x268fa5[_0x5da2c4(0x1ae)]='',_0x23a62c[_0x5da2c4(0x4a6)][_0x5da2c4(0x52e)](_0x5da2c4(0x3d0)),_0x5b074f[_0x5da2c4(0x396)]=_0x5da2c4(0x45d)+_0xebb6e5[_0x5da2c4(0x43d)]+_0x5da2c4(0x535);try{const _0x63ab63=_0xebb6e5[_0x5da2c4(0x32f)][_0x5da2c4(0x44f)]((_0x3bfbe5,_0xc0f89a)=>{const _0x458eba=_0x5da2c4;let _0x2fca16=_0xc0f89a+0x1+'.\x20'+(_0x3bfbe5[_0x458eba(0x1db)]||_0x3bfbe5['stem'])+'\x0a';if(_0x3bfbe5[_0x458eba(0x410)])_0x2fca16+=_0x3bfbe5[_0x458eba(0x410)]['map']((_0x167614,_0x21fbe0)=>_0x458eba(0x3d6)+(_0x21fbe0===_0x3bfbe5[_0x458eba(0x19d)]?_0x458eba(0x51c):'')+'\x20'+_0x167614)[_0x458eba(0x5ba)]('\x0a');else{if(_0x3bfbe5[_0x458eba(0x4b7)])_0x2fca16+=_0x458eba(0x4f1)+_0x3bfbe5[_0x458eba(0x4b7)];else _0x3bfbe5[_0x458eba(0x4de)]&&(_0x2fca16+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x3bfbe5[_0x458eba(0x4de)]);}return _0x2fca16;})[_0x5da2c4(0x5ba)]('\x0a\x0a');_0x5b074f[_0x5da2c4(0x396)]=_0x5da2c4(0x21d);const _0x550f53='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0xebb6e5[_0x5da2c4(0x43d)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x63ab63+_0x5da2c4(0x5c9)+_0xebb6e5[_0x5da2c4(0x52f)]+_0x5da2c4(0x19b)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xfcdd24={'type':_0x5da2c4(0x265),'properties':{'questionText':{'type':_0x5da2c4(0x687)},'questionType':{'type':_0x5da2c4(0x687),'enum':[_0x5da2c4(0x4ed),_0x5da2c4(0x516),'true_false',_0x5da2c4(0x3ae)]},'options':{'type':'ARRAY','items':{'type':_0x5da2c4(0x687)}},'correctAnswerIndex':{'type':_0x5da2c4(0x3dc)},'idealAnswer':{'type':_0x5da2c4(0x687)},'correctAnswer':{'type':_0x5da2c4(0x5f0)},'stem':{'type':_0x5da2c4(0x687)},'correctResponse':{'type':_0x5da2c4(0x687)},'allResponses':{'type':_0x5da2c4(0x3c6),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5da2c4(0x687)}},'required':[_0x5da2c4(0x305),_0x5da2c4(0x4c6)]},_0x2bc842={'type':_0x5da2c4(0x265),'properties':{'topic':{'type':_0x5da2c4(0x687)},'questions':{'type':'ARRAY','items':_0xfcdd24}},'required':[_0x5da2c4(0x43d),_0x5da2c4(0x32f)]};await handleApiCall(_0x550f53,_0x5da2c4(0x3ad),_0x2bc842);}catch(_0x27f5f0){console[_0x5da2c4(0x1f8)](_0x5da2c4(0x40e),_0x27f5f0),showMessage(_0x5da2c4(0x679)+_0x27f5f0[_0x5da2c4(0x4ae)]),_0x268fa5[_0x5da2c4(0x1ae)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x23a62c[_0x5da2c4(0x4a6)][_0x5da2c4(0x718)](_0x5da2c4(0x3d0));}}async function handleGenerateParallelTest(){const _0x27bea7=_0xcf56c0,_0x330052=document[_0x27bea7(0x4f8)](_0x27bea7(0x606)),_0x52f44e=_0x330052[_0x27bea7(0x38f)][0x0];if(!_0x52f44e){showMessage(_0x27bea7(0x303));return;}const _0x48fbc0=document[_0x27bea7(0x4f8)](_0x27bea7(0x6cb)),_0x498be5=document[_0x27bea7(0x4f8)]('loader-text'),_0x23b44d=document[_0x27bea7(0x4f8)](_0x27bea7(0x325)),_0x57c7c7=document[_0x27bea7(0x4f8)](_0x27bea7(0x691));_0x57c7c7[_0x27bea7(0x3a5)]=!![],document[_0x27bea7(0x4f8)](_0x27bea7(0x26a))[_0x27bea7(0x4a6)]['remove'](_0x27bea7(0x3d0)),_0x23b44d[_0x27bea7(0x1ae)]='',_0x48fbc0[_0x27bea7(0x4a6)][_0x27bea7(0x52e)]('hidden'),_0x498be5[_0x27bea7(0x396)]=_0x27bea7(0x532);try{const _0x265738=await extractTextFromPdf(_0x52f44e);if(!_0x265738['trim']())throw new Error(_0x27bea7(0x281));_0x498be5[_0x27bea7(0x396)]=_0x27bea7(0x21d);const _0x55a529=document[_0x27bea7(0x4f8)]('include-images-checkbox')['checked'],_0x5e867e=_0x55a529?_0x27bea7(0x1fe):'',_0x56e076=_0x27bea7(0x6d5)+_0x265738+_0x27bea7(0x3fd)+_0x5e867e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x27bea7(0x712),_0x5514f1={'type':'OBJECT','properties':{'questionText':{'type':_0x27bea7(0x687)},'questionType':{'type':_0x27bea7(0x687),'enum':[_0x27bea7(0x4ed),_0x27bea7(0x516)]},'options':{'type':_0x27bea7(0x3c6),'items':{'type':_0x27bea7(0x687)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x27bea7(0x687)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x27bea7(0x687)}},'required':[_0x27bea7(0x1db),'questionType',_0x27bea7(0x4c6)]},_0xc43501={'type':_0x27bea7(0x265),'properties':{'topic':{'type':_0x27bea7(0x687)},'questions':{'type':_0x27bea7(0x3c6),'items':_0x5514f1}},'required':[_0x27bea7(0x43d),'questions']};await handleApiCall(_0x56e076,_0x27bea7(0x3ad),_0xc43501);}catch(_0x4224f0){console['error'](_0x27bea7(0x556),_0x4224f0),showMessage(_0x27bea7(0x679)+_0x4224f0[_0x27bea7(0x4ae)]),_0x23b44d[_0x27bea7(0x1ae)]=_0x27bea7(0x2ee);}finally{_0x48fbc0[_0x27bea7(0x4a6)][_0x27bea7(0x718)](_0x27bea7(0x3d0)),_0x57c7c7['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0xee54ab){const _0x212dea=_0xcf56c0;if(currentEditingQuizData===null)return;const _0x39ad38=document[_0x212dea(0x480)](_0x212dea(0x6fd)+_0xee54ab+'\x22]');_0x39ad38&&(_0x39ad38[_0x212dea(0x1ae)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x4449db=currentEditingQuizData[_0x212dea(0x32f)][_0xee54ab],_0x25f9e3=currentEditingQuizData[_0x212dea(0x43d)],_0x3f8001=_0x4449db[_0x212dea(0x305)],_0x538319={'type':'OBJECT','properties':{'questionText':{'type':_0x212dea(0x687)},'options':{'type':_0x212dea(0x3c6),'items':{'type':_0x212dea(0x687)}},'correctAnswerIndex':{'type':_0x212dea(0x3dc)},'explanation':{'type':_0x212dea(0x687)}},'required':[_0x212dea(0x1db),_0x212dea(0x410),_0x212dea(0x19d),_0x212dea(0x4c6)]},_0x52a5a3={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x212dea(0x1db),_0x212dea(0x4b7),'explanation']};let _0x26b54f,_0x50230d='';_0x3f8001==='multiple_choice'?(_0x26b54f=_0x538319,_0x50230d=_0x212dea(0x35f)):(_0x26b54f=_0x52a5a3,_0x50230d=_0x212dea(0x589));const _0x4c7f5d='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x25f9e3+_0x212dea(0x6ca)+_0x50230d+_0x212dea(0x1ac)+(_0x4449db[_0x212dea(0x1db)]||_0x4449db[_0x212dea(0x736)])+_0x212dea(0x61d)+simpleMathPrompt;try{const _0x335d80=await callAnalysisApi(_0x4c7f5d,_0x26b54f);currentEditingQuizData[_0x212dea(0x32f)][_0xee54ab]={..._0x4449db,..._0x335d80},renderQuizEditor(currentEditingQuizData);}catch(_0x474c5a){console[_0x212dea(0x1f8)](_0x212dea(0x4c5),_0x474c5a),showMessage(_0x212dea(0x4dd)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x59757f=_0xcf56c0,_0x48fc19=document[_0x59757f(0x4f8)](_0x59757f(0x544));currentMode===_0x59757f(0x4f9)?(currentMode=_0x59757f(0x250),_0x48fc19['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x48fc19[_0x59757f(0x3a8)]=_0x59757f(0x670),showView(_0x59757f(0x3fa))):(currentMode=_0x59757f(0x4f9),_0x48fc19[_0x59757f(0x1ae)]=_0x59757f(0x40a),_0x48fc19[_0x59757f(0x3a8)]='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x1be6fc=_0xcf56c0,_0x4bb888=document[_0x1be6fc(0x4f8)](_0x1be6fc(0x681)),_0x1225cb=document[_0x1be6fc(0x4f8)](_0x1be6fc(0x278));if(_0x4bb888[_0x1be6fc(0x6dc)]==='2741'){adminPasswordModal[_0x1be6fc(0x4a6)]['add'](_0x1be6fc(0x3d0)),_0x4bb888[_0x1be6fc(0x6dc)]='',_0x1225cb[_0x1be6fc(0x4a6)]['add'](_0x1be6fc(0x3d0)),currentMode=_0x1be6fc(0x250);const _0x5157dc=document[_0x1be6fc(0x4f8)](_0x1be6fc(0x544));_0x5157dc['innerHTML']=_0x1be6fc(0x462),_0x5157dc[_0x1be6fc(0x3a8)]=_0x1be6fc(0x670),showView(_0x1be6fc(0x3fa));}else _0x1225cb['classList'][_0x1be6fc(0x52e)](_0x1be6fc(0x3d0)),_0x4bb888[_0x1be6fc(0x6dc)]='';}function switchProjectTab(_0x295d36){const _0x3ad9ce=_0xcf56c0;[_0x3ad9ce(0x415),_0x3ad9ce(0x2f0),'leaderboard'][_0x3ad9ce(0x542)](_0x11605d=>{const _0x15afc6=_0x3ad9ce;document[_0x15afc6(0x4f8)](_0x11605d+'-tab')[_0x15afc6(0x4a6)]['remove'](_0x15afc6(0x5ac)),document['getElementById'](_0x11605d+_0x15afc6(0x635))[_0x15afc6(0x4a6)]['add'](_0x15afc6(0x3d0));}),document['getElementById'](_0x295d36+'-tab')[_0x3ad9ce(0x4a6)]['add'](_0x3ad9ce(0x5ac)),document['getElementById'](_0x295d36+_0x3ad9ce(0x635))[_0x3ad9ce(0x4a6)][_0x3ad9ce(0x52e)](_0x3ad9ce(0x3d0));}function switchQuizDetailTab(_0x4c3d28){const _0x3742d0=_0xcf56c0,_0x3a9a1d={'analytics':{'btn':_0x3742d0(0x6cc),'content':_0x3742d0(0x553)},'scores':{'btn':_0x3742d0(0x423),'content':_0x3742d0(0x45e)},'leaderboard-quiz':{'btn':_0x3742d0(0x4c2),'content':_0x3742d0(0x372)}};for(const _0x437ec4 in _0x3a9a1d){document[_0x3742d0(0x4f8)](_0x3a9a1d[_0x437ec4][_0x3742d0(0x39a)])[_0x3742d0(0x4a6)]['remove']('active'),document[_0x3742d0(0x4f8)](_0x3a9a1d[_0x437ec4][_0x3742d0(0x247)])[_0x3742d0(0x4a6)][_0x3742d0(0x718)](_0x3742d0(0x3d0));}document[_0x3742d0(0x4f8)](_0x3a9a1d[_0x4c3d28][_0x3742d0(0x39a)])[_0x3742d0(0x4a6)]['add'](_0x3742d0(0x5ac)),document[_0x3742d0(0x4f8)](_0x3a9a1d[_0x4c3d28][_0x3742d0(0x247)])[_0x3742d0(0x4a6)][_0x3742d0(0x52e)](_0x3742d0(0x3d0));}function showMessage(_0xa812b3){const _0x1e79bf=_0xcf56c0;modalMessage['textContent']=_0xa812b3,messageModal[_0x1e79bf(0x4a6)][_0x1e79bf(0x52e)](_0x1e79bf(0x3d0));}function showConfirmation(_0x2f601c,_0x243644){const _0x22c6ce=_0xcf56c0;document[_0x22c6ce(0x4f8)](_0x22c6ce(0x5a9))['textContent']=_0x2f601c,document[_0x22c6ce(0x4f8)](_0x22c6ce(0x47b))[_0x22c6ce(0x480)]('h3')['textContent']=_0x22c6ce(0x6c2),confirmAction=_0x243644,confirmationModal[_0x22c6ce(0x4a6)]['remove'](_0x22c6ce(0x3d0));}function listenForProjects(){const _0x38cc5f=_0xcf56c0,_0x273b2f=collection(db,_0x38cc5f(0x5ad)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x273b2f,_0x27309e=>{const _0x2b6e1f=_0x38cc5f;allProjects=_0x27309e['docs'][_0x2b6e1f(0x44f)](_0x205e4e=>({'id':_0x205e4e['id'],..._0x205e4e[_0x2b6e1f(0x347)]()})),renderProjects();},_0x26086b=>{const _0x414a6f=_0x38cc5f;console[_0x414a6f(0x1f8)]('Error\x20listening\x20for\x20projects:',_0x26086b),showMessage(_0x414a6f(0x71b));});}async function renderProjects(){const _0x7e3754=_0xcf56c0,_0x3f858e=document['getElementById'](_0x7e3754(0x412))[_0x7e3754(0x6dc)]['toLowerCase'](),_0x4baedc=document[_0x7e3754(0x4f8)]('project-sort-select')[_0x7e3754(0x6dc)];let _0x3dfb0b=allProjects['filter'](_0x130c22=>_0x130c22['projectName'][_0x7e3754(0x69b)]()[_0x7e3754(0x340)](_0x3f858e));_0x3dfb0b[_0x7e3754(0x5d8)]((_0x14c0d1,_0x4889fd)=>{const _0x3cdd55=_0x7e3754;switch(_0x4baedc){case _0x3cdd55(0x2cf):return _0x14c0d1[_0x3cdd55(0x1de)][_0x3cdd55(0x695)](_0x4889fd[_0x3cdd55(0x1de)],'th');case _0x3cdd55(0x26d):return _0x4889fd[_0x3cdd55(0x1de)][_0x3cdd55(0x695)](_0x14c0d1[_0x3cdd55(0x1de)],'th');case _0x3cdd55(0x1b9):return new Date(_0x14c0d1[_0x3cdd55(0x233)])-new Date(_0x4889fd[_0x3cdd55(0x233)]);case _0x3cdd55(0x5ce):default:return new Date(_0x4889fd[_0x3cdd55(0x233)])-new Date(_0x14c0d1[_0x3cdd55(0x233)]);}});const _0x4eacb8={};await Promise['all'](_0x3dfb0b[_0x7e3754(0x44f)](async _0x63357=>{const _0x4bfd1e=_0x7e3754,_0x359d77=query(collection(db,_0x4bfd1e(0x5ad)+appId+_0x4bfd1e(0x4d1)),where(_0x4bfd1e(0x6f5),'==',_0x63357['id'])),_0x82e6aa=await getDocs(_0x359d77);_0x4eacb8[_0x63357['id']]=_0x82e6aa['size'];}));let _0x5ae3fe='';starredQuizzes[_0x7e3754(0x424)]>0x0&&(_0x5ae3fe+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+starredQuizzes['length']+_0x7e3754(0x193)),_0x3dfb0b[_0x7e3754(0x542)](_0x48df29=>{const _0x2daa37=_0x7e3754,_0x1b5206=_0x4eacb8[_0x48df29['id']]??0x0;_0x5ae3fe+=_0x2daa37(0x25b)+_0x48df29['id']+_0x2daa37(0x23f)+_0x48df29[_0x2daa37(0x1de)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x48df29[_0x2daa37(0x233)])[_0x2daa37(0x332)](_0x2daa37(0x615))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x1b5206+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x48df29['id']+_0x2daa37(0x27b)+_0x48df29[_0x2daa37(0x1de)]+_0x2daa37(0x5a4);}),projectList[_0x7e3754(0x1ae)]=_0x5ae3fe,noProjectsMsg[_0x7e3754(0x4a6)][_0x7e3754(0x249)](_0x7e3754(0x3d0),_0x5ae3fe[_0x7e3754(0x424)]>0x0);}document[_0xcf56c0(0x4f8)](_0xcf56c0(0x1d5))[_0xcf56c0(0x29d)](_0xcf56c0(0x572),async()=>{const _0x3a8e06=_0xcf56c0,_0x3d6c67=document[_0x3a8e06(0x4f8)]('project-name-input'),_0x2c6767=_0x3d6c67[_0x3a8e06(0x6dc)]['trim']();if(!_0x2c6767){showMessage(_0x3a8e06(0x3fc));return;}try{const _0x591716=doc(collection(db,_0x3a8e06(0x5ad)+appId+'/public/data/projects'));await setDoc(_0x591716,{'projectName':_0x2c6767,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3a8e06(0x6be),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x3a8e06(0x689)]()}),_0x3d6c67['value']='',createProjectModal['classList'][_0x3a8e06(0x718)](_0x3a8e06(0x3d0)),showMessage(_0x3a8e06(0x447));}catch(_0x234607){console[_0x3a8e06(0x1f8)]('Error\x20creating\x20project:',_0x234607),showMessage(_0x3a8e06(0x418));}}),projectList['addEventListener'](_0xcf56c0(0x572),async _0x179602=>{const _0x2822dc=_0xcf56c0,_0x35f18a=_0x179602['target'][_0x2822dc(0x191)](_0x2822dc(0x2f4)),_0x33a9d0=_0x179602[_0x2822dc(0x6df)][_0x2822dc(0x191)](_0x2822dc(0x1a2));if(_0x35f18a){const _0x27b090=_0x35f18a[_0x2822dc(0x723)]['id'];_0x27b090===_0x2822dc(0x60b)?showStarredProjectView():(currentProjectId=_0x27b090,await loadProjectDetails(currentProjectId),showView(_0x2822dc(0x440)));}else{if(_0x33a9d0){const _0x4fab36=_0x33a9d0[_0x2822dc(0x723)]['id'],_0x386c1f=_0x33a9d0[_0x2822dc(0x723)][_0x2822dc(0x316)];showConfirmation(_0x2822dc(0x30b)+_0x386c1f+_0x2822dc(0x5bf),()=>handleDeleteProject(_0x4fab36));}}});function showStarredProjectView(){const _0x397bad=_0xcf56c0;currentProjectId=_0x397bad(0x6d2),currentProjectData=null,projectTitle[_0x397bad(0x396)]=_0x397bad(0x2eb),projectIdDisplay[_0x397bad(0x396)]=_0x397bad(0x73b),showView(_0x397bad(0x440)),manageTab[_0x397bad(0x4a6)][_0x397bad(0x718)](_0x397bad(0x3d0)),leaderboardTab[_0x397bad(0x4a6)][_0x397bad(0x718)](_0x397bad(0x3d0)),switchProjectTab(_0x397bad(0x2f0)),renderQuizzes();}async function loadProjectDetails(_0x1fbc3a){const _0x2b74d4=_0xcf56c0,_0x3ef498=doc(db,_0x2b74d4(0x5ad)+appId+_0x2b74d4(0x4d3),_0x1fbc3a),_0x57b824=await getDoc(_0x3ef498);if(_0x57b824['exists']()){manageTab[_0x2b74d4(0x4a6)][_0x2b74d4(0x52e)](_0x2b74d4(0x3d0)),leaderboardTab[_0x2b74d4(0x4a6)][_0x2b74d4(0x52e)](_0x2b74d4(0x3d0)),currentProjectData=_0x57b824[_0x2b74d4(0x347)](),projectTitle[_0x2b74d4(0x396)]=currentProjectData[_0x2b74d4(0x1de)],projectIdDisplay[_0x2b74d4(0x396)]=_0x1fbc3a;const _0x1deab4=currentProjectData['settings']||{};document[_0x2b74d4(0x4f8)](_0x2b74d4(0x5c3))[_0x2b74d4(0x6dc)]=_0x1deab4[_0x2b74d4(0x22c)]||0x5,document[_0x2b74d4(0x4f8)]('num-choices')[_0x2b74d4(0x6dc)]=_0x1deab4[_0x2b74d4(0x501)]||0x4,document['getElementById']('passing-score-input')[_0x2b74d4(0x6dc)]=_0x1deab4[_0x2b74d4(0x70f)]||Math['floor']((_0x1deab4[_0x2b74d4(0x22c)]||0x5)/0x2),document['getElementById'](_0x2b74d4(0x338))[_0x2b74d4(0x366)]=_0x1deab4[_0x2b74d4(0x22c)]||0x5,document[_0x2b74d4(0x4f8)](_0x2b74d4(0x218))[_0x2b74d4(0x6dc)]=_0x1deab4[_0x2b74d4(0x1af)]||_0x2b74d4(0x212),document[_0x2b74d4(0x4f8)](_0x2b74d4(0x61b))[_0x2b74d4(0x6dc)]=_0x1deab4[_0x2b74d4(0x5d5)]||_0x2b74d4(0x6be);const _0x1ae16f=_0x1deab4[_0x2b74d4(0x6d1)]||_0x2b74d4(0x6be),_0x3340ee=_0x1deab4[_0x2b74d4(0x71a)]||0xa,_0x4c88ea=document[_0x2b74d4(0x4f8)](_0x2b74d4(0x3d7)),_0xd80388=document['getElementById'](_0x2b74d4(0x4c0)),_0x35fa2a=document[_0x2b74d4(0x4f8)]('timer-duration-input');_0x4c88ea[_0x2b74d4(0x6dc)]=_0x1ae16f,_0x35fa2a[_0x2b74d4(0x6dc)]=_0x3340ee;_0x1ae16f===_0x2b74d4(0x6be)?_0xd80388[_0x2b74d4(0x4a6)]['add'](_0x2b74d4(0x3d0)):_0xd80388[_0x2b74d4(0x4a6)]['remove'](_0x2b74d4(0x3d0));_0x4c88ea[_0x2b74d4(0x4f6)](new Event(_0x2b74d4(0x386)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1fbc3a),listenForProjectQuizzes(_0x1fbc3a),listenForStudentProfiles(_0x1fbc3a);}else showMessage(_0x2b74d4(0x563)),showView('admin-dashboard');}async function handleDeleteProject(_0x55a771){const _0x190906=_0xcf56c0;try{const _0x1a65bd=writeBatch(db),_0x8dde5f=collection(db,_0x190906(0x5ad)+appId+'/public/data/quizzes'),_0xbfa818=query(_0x8dde5f,where(_0x190906(0x6f5),'==',_0x55a771)),_0x47951b=await getDocs(_0xbfa818);for(const _0x1e9366 of _0x47951b[_0x190906(0x4c3)]){const _0x4583b0=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1e9366['id']+'/submissions'),_0x4736be=await getDocs(_0x4583b0);_0x4736be[_0x190906(0x542)](_0x4b15c2=>{const _0x42510d=_0x190906;_0x1a65bd[_0x42510d(0x609)](_0x4b15c2['ref']);}),_0x1a65bd['delete'](_0x1e9366[_0x190906(0x3b9)]);}const _0x4e0a81=collection(db,_0x190906(0x5ad)+appId+_0x190906(0x275)+_0x55a771+'/studentProfiles'),_0x305397=await getDocs(_0x4e0a81);_0x305397[_0x190906(0x542)](_0x256b6f=>{const _0xad14be=_0x190906;_0x1a65bd[_0xad14be(0x609)](_0x256b6f[_0xad14be(0x3b9)]);});const _0x4a0605=doc(db,_0x190906(0x5ad)+appId+'/public/data/projects',_0x55a771);_0x1a65bd[_0x190906(0x609)](_0x4a0605),await _0x1a65bd[_0x190906(0x1aa)](),showMessage(_0x190906(0x70a)),showView(_0x190906(0x3fa));}catch(_0x360ff1){console[_0x190906(0x1f8)](_0x190906(0x38a),_0x360ff1),showMessage(_0x190906(0x68b));}}document[_0xcf56c0(0x4f8)](_0xcf56c0(0x5cc))[_0xcf56c0(0x29d)](_0xcf56c0(0x572),async()=>{const _0xc52c56=_0xcf56c0;if(!currentProjectId)return;const _0x5d2e33={'defaultNumQuestions':parseInt(document[_0xc52c56(0x4f8)](_0xc52c56(0x5c3))['value']),'defaultNumChoices':parseInt(document[_0xc52c56(0x4f8)](_0xc52c56(0x22f))[_0xc52c56(0x6dc)]),'defaultPassingScore':parseInt(document['getElementById'](_0xc52c56(0x338))['value']),'resultsDisplay':document['getElementById'](_0xc52c56(0x218))[_0xc52c56(0x6dc)],'shuffleSetting':document[_0xc52c56(0x4f8)](_0xc52c56(0x61b))['value'],'timerMode':document['getElementById'](_0xc52c56(0x3d7))[_0xc52c56(0x6dc)],'timerDuration':parseInt(document[_0xc52c56(0x4f8)](_0xc52c56(0x56d))['value'])};try{const _0x4fa332=doc(db,_0xc52c56(0x5ad)+appId+_0xc52c56(0x4d3),currentProjectId);await updateDoc(_0x4fa332,{'settings':_0x5d2e33}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x2a0d12){console[_0xc52c56(0x1f8)](_0xc52c56(0x24a),_0x2a0d12),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x40e662){const _0x3defd2=doc(db,'artifacts/'+appId+'/public/data/projects',_0x40e662);unsubscribeStudentsListener=onSnapshot(_0x3defd2,_0x34db2d=>{const _0xa8f62e=_0x57c6;if(_0x34db2d['exists']()){const _0x263b84=_0x34db2d[_0xa8f62e(0x347)]();currentProjectData=_0x263b84,renderStudentList(_0x263b84[_0xa8f62e(0x22a)]||[]);}});}function renderStudentList(_0x2aa144){const _0x3ef4f8=_0xcf56c0,_0x50996d=document[_0x3ef4f8(0x4f8)](_0x3ef4f8(0x23d));_0x2aa144[_0x3ef4f8(0x424)]===0x0?(studentList[_0x3ef4f8(0x1ae)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x50996d[_0x3ef4f8(0x4a6)][_0x3ef4f8(0x718)](_0x3ef4f8(0x3d0))):(studentList[_0x3ef4f8(0x1ae)]=_0x2aa144[_0x3ef4f8(0x44f)](_0x30b078=>_0x3ef4f8(0x519)+_0x30b078+_0x3ef4f8(0x306)+_0x30b078+_0x3ef4f8(0x1d7))[_0x3ef4f8(0x5ba)](''),_0x50996d[_0x3ef4f8(0x4a6)][_0x3ef4f8(0x52e)](_0x3ef4f8(0x3d0)));}document['getElementById'](_0xcf56c0(0x314))[_0xcf56c0(0x29d)](_0xcf56c0(0x572),async()=>{const _0x3a1d69=_0xcf56c0;if(!currentProjectId)return;const _0xf5fdc2=document[_0x3a1d69(0x4f8)](_0x3a1d69(0x6fa)),_0x1316c8=_0xf5fdc2[_0x3a1d69(0x6dc)][_0x3a1d69(0x21f)]();if(!_0x1316c8){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x3c4628=_0x1316c8[_0x3a1d69(0x23b)]('\x0a')['map'](_0x2d8620=>_0x2d8620[_0x3a1d69(0x21f)]())[_0x3a1d69(0x65b)](_0x4f7383=>_0x4f7383);if(_0x3c4628['length']===0x0)return;try{const _0x467cd3=doc(db,_0x3a1d69(0x5ad)+appId+_0x3a1d69(0x4d3),currentProjectId),_0x2032a1=await getDoc(_0x467cd3);if(_0x2032a1[_0x3a1d69(0x6a7)]()){const _0x2a9341=_0x2032a1['data']()[_0x3a1d69(0x22a)]||[],_0x5a87c3=[...new Set([..._0x2a9341,..._0x3c4628])];await updateDoc(_0x467cd3,{'students':_0x5a87c3}),_0xf5fdc2[_0x3a1d69(0x6dc)]='';}}catch(_0x24b4f2){console[_0x3a1d69(0x1f8)]('Error\x20adding\x20students:',_0x24b4f2),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});function handleDeleteStudent(_0x22cbc6){const _0x4b5b7b=_0xcf56c0;showConfirmation(_0x4b5b7b(0x6e9)+_0x22cbc6+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x559c5e=_0x4b5b7b;if(!currentProjectId||!currentProjectData)return;const _0x216eeb=currentProjectData[_0x559c5e(0x22a)]['filter'](_0x446675=>_0x446675!==_0x22cbc6);try{const _0x243232=doc(db,_0x559c5e(0x5ad)+appId+_0x559c5e(0x4d3),currentProjectId),_0x25d409=doc(db,_0x559c5e(0x5ad)+appId+_0x559c5e(0x275)+currentProjectId+_0x559c5e(0x1ed),_0x22cbc6),_0x510fe5=writeBatch(db);_0x510fe5[_0x559c5e(0x317)](_0x243232,{'students':_0x216eeb}),_0x510fe5[_0x559c5e(0x609)](_0x25d409),await _0x510fe5[_0x559c5e(0x1aa)]();}catch(_0x1519b5){console[_0x559c5e(0x1f8)]('Error\x20deleting\x20student:',_0x1519b5),showMessage(_0x559c5e(0x6d6));}});}function handleDeleteAllStudents(){const _0x105de2=_0xcf56c0;showConfirmation(_0x105de2(0x64b),async()=>{const _0x4a1f00=_0x105de2;if(!currentProjectId)return;try{const _0x7a9117=doc(db,_0x4a1f00(0x5ad)+appId+'/public/data/projects',currentProjectId),_0x1ff654=collection(db,_0x4a1f00(0x5ad)+appId+_0x4a1f00(0x275)+currentProjectId+_0x4a1f00(0x1ed)),_0x1d5f9d=await getDocs(_0x1ff654),_0x1a08bd=writeBatch(db);_0x1a08bd[_0x4a1f00(0x317)](_0x7a9117,{'students':[]}),_0x1d5f9d['forEach'](_0xb23ce5=>_0x1a08bd[_0x4a1f00(0x609)](_0xb23ce5['ref'])),await _0x1a08bd[_0x4a1f00(0x1aa)]();}catch(_0x49df26){console['error'](_0x4a1f00(0x475),_0x49df26),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x36219e=_0xcf56c0;if(!selectedFile){showMessage(_0x36219e(0x5a3));return;}const _0x8b3d98=document[_0x36219e(0x4f8)](_0x36219e(0x6cb)),_0x46e030=document[_0x36219e(0x4f8)](_0x36219e(0x33e)),_0x1494d7=document[_0x36219e(0x4f8)](_0x36219e(0x325)),_0x484d46=document['getElementById'](_0x36219e(0x545));_0x484d46[_0x36219e(0x3a5)]=!![],document[_0x36219e(0x4f8)](_0x36219e(0x26a))[_0x36219e(0x4a6)][_0x36219e(0x52e)](_0x36219e(0x3d0)),_0x1494d7['innerHTML']='',_0x8b3d98[_0x36219e(0x4a6)][_0x36219e(0x52e)](_0x36219e(0x3d0)),_0x46e030[_0x36219e(0x396)]='กำลังอ่านและเตรียมไฟล์...';const _0x5ae115=new FileReader();_0x5ae115[_0x36219e(0x3c0)](selectedFile),_0x5ae115[_0x36219e(0x653)]=async()=>{const _0x4248ba=_0x36219e;try{const _0x4f01ec=_0x5ae115[_0x4248ba(0x73d)][_0x4248ba(0x23b)](',')[0x1],_0x386e6c=selectedFile['type'];await generateQuizFromFile(_0x386e6c,_0x4f01ec);}catch(_0x3838ae){console[_0x4248ba(0x1f8)](_0x4248ba(0x4fa),_0x3838ae),showMessage(_0x4248ba(0x1c3)+_0x3838ae[_0x4248ba(0x4ae)]),_0x8b3d98['classList'][_0x4248ba(0x718)](_0x4248ba(0x3d0));}finally{}},_0x5ae115[_0x36219e(0x4bc)]=_0x59401a=>{const _0x1cd04d=_0x36219e;console[_0x1cd04d(0x1f8)](_0x1cd04d(0x3c8),_0x59401a),showMessage(_0x1cd04d(0x470)),_0x8b3d98[_0x1cd04d(0x4a6)][_0x1cd04d(0x718)]('hidden'),_0x484d46[_0x1cd04d(0x3a5)]=![];};}function autoFormatMath(_0x22f65d){const _0x16cce5=_0xcf56c0;if(typeof _0x22f65d!==_0x16cce5(0x28f)||!_0x22f65d)return _0x22f65d;const _0x80de6=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1f954c=_0x22f65d[_0x16cce5(0x3e4)](_0x80de6,_0x4f1d3c=>{return'$'+_0x4f1d3c['trim']()+'$';});return _0x1f954c;}function sanitizeQuizData(_0x5f4eb9){const _0x315116=_0xcf56c0;if(!_0x5f4eb9||!_0x5f4eb9[_0x315116(0x32f)])return _0x5f4eb9;const _0xbc79d6={'imes':_0x315116(0x55d),'div':_0x315116(0x4dc)},_0x5a521c=_0x4c8ca4=>{const _0x57a4f1=_0x315116;if(typeof _0x4c8ca4!=='string')return _0x4c8ca4;let _0x582fa4=_0x4c8ca4;for(const [_0x423f63,_0x385b99]of Object[_0x57a4f1(0x301)](_0xbc79d6)){const _0x2bb787=new RegExp('\x5cb'+_0x423f63+'\x5cb','g');_0x582fa4=_0x582fa4['replace'](_0x2bb787,_0x385b99);}return _0x582fa4=_0x582fa4[_0x57a4f1(0x3e4)](/\\\//g,_0x57a4f1(0x4dc)),_0x582fa4=_0x582fa4[_0x57a4f1(0x3e4)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x57a4f1(0x4dc))[_0x57a4f1(0x3e4)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x57a4f1(0x3e4)](/÷/g,_0x57a4f1(0x4dc))[_0x57a4f1(0x3e4)](/×/g,_0x57a4f1(0x55d)),_0x582fa4=_0x582fa4[_0x57a4f1(0x3e4)](/(\d)(\\frac)/g,_0x57a4f1(0x65e)),_0x582fa4=autoFormatMath(_0x582fa4),_0x582fa4;};return _0x5f4eb9[_0x315116(0x43d)]&&(_0x5f4eb9[_0x315116(0x43d)]=_0x5a521c(_0x5f4eb9[_0x315116(0x43d)])),_0x5f4eb9[_0x315116(0x32f)][_0x315116(0x542)](_0x40c5d8=>{const _0x2ee5ae=_0x315116;_0x40c5d8[_0x2ee5ae(0x1db)]=_0x5a521c(_0x40c5d8[_0x2ee5ae(0x1db)]),_0x40c5d8[_0x2ee5ae(0x410)]&&(_0x40c5d8['options']=_0x40c5d8['options'][_0x2ee5ae(0x44f)](_0x5a521c)),_0x40c5d8[_0x2ee5ae(0x4c6)]&&(_0x40c5d8[_0x2ee5ae(0x4c6)]=_0x5a521c(_0x40c5d8[_0x2ee5ae(0x4c6)])),_0x40c5d8[_0x2ee5ae(0x736)]&&(_0x40c5d8[_0x2ee5ae(0x736)]=_0x5a521c(_0x40c5d8[_0x2ee5ae(0x736)])),_0x40c5d8['correctResponse']&&(_0x40c5d8['correctResponse']=_0x5a521c(_0x40c5d8['correctResponse'])),_0x40c5d8[_0x2ee5ae(0x257)]&&(_0x40c5d8[_0x2ee5ae(0x257)]=_0x40c5d8[_0x2ee5ae(0x257)][_0x2ee5ae(0x44f)](_0x5a521c));}),_0x5f4eb9;}const simpleMathPrompt=_0xcf56c0(0x66e);async function handleGenerateFromLink(){const _0x2abfdf=_0xcf56c0,_0x2fd73c=document[_0x2abfdf(0x4f8)](_0x2abfdf(0x1ce)),_0x3b1c01=document[_0x2abfdf(0x4f8)](_0x2abfdf(0x2a3)),_0x26bfe8=_0x2fd73c[_0x2abfdf(0x6dc)][_0x2abfdf(0x21f)](),_0x34489c=_0x3b1c01[_0x2abfdf(0x6dc)][_0x2abfdf(0x21f)]();if(!_0x26bfe8){showMessage(_0x2abfdf(0x595));return;}const _0x19ea76=document[_0x2abfdf(0x4f8)](_0x2abfdf(0x6cb)),_0xd7a11c=document[_0x2abfdf(0x4f8)](_0x2abfdf(0x33e)),_0x589c77=document[_0x2abfdf(0x4f8)](_0x2abfdf(0x325)),_0x309f39=document[_0x2abfdf(0x4f8)](_0x2abfdf(0x26c));document[_0x2abfdf(0x4f8)](_0x2abfdf(0x26a))[_0x2abfdf(0x4a6)]['remove'](_0x2abfdf(0x3d0)),_0x589c77[_0x2abfdf(0x1ae)]='',_0x19ea76['classList'][_0x2abfdf(0x52e)](_0x2abfdf(0x3d0)),_0xd7a11c['textContent']=_0x2abfdf(0x63e),_0x309f39[_0x2abfdf(0x3a5)]=!![];try{const _0x25f0a5='https://corsproxy.io/?'+encodeURIComponent(_0x26bfe8),_0xc9fa08=await fetch(_0x25f0a5);if(!_0xc9fa08['ok'])throw new Error(_0x2abfdf(0x364)+_0xc9fa08[_0x2abfdf(0x454)]+')');const _0x50b719=await _0xc9fa08[_0x2abfdf(0x2a7)](),_0x92ba1f=extractTextFromHtml(_0x50b719);if(!_0x92ba1f||_0x92ba1f['length']<0x64)throw new Error(_0x2abfdf(0x5c4));await generateQuiz(_0x34489c,_0x92ba1f);}catch(_0x39d601){console[_0x2abfdf(0x1f8)](_0x2abfdf(0x390),_0x39d601),showMessage(_0x2abfdf(0x679)+_0x39d601[_0x2abfdf(0x4ae)]),_0x589c77['innerHTML']=_0x2abfdf(0x2b5);}finally{_0x19ea76['classList'][_0x2abfdf(0x718)]('hidden'),_0x309f39[_0x2abfdf(0x3a5)]=![];}}function _0x57c6(_0x2bee28,_0xcf00e9){const _0x47308a=_0x4730();return _0x57c6=function(_0x57c60b,_0x3f2b38){_0x57c60b=_0x57c60b-0x18d;let _0x13605c=_0x47308a[_0x57c60b];return _0x13605c;},_0x57c6(_0x2bee28,_0xcf00e9);}function extractTextFromHtml(_0x18e6d1){const _0x218b08=_0xcf56c0,_0x2c7028=new DOMParser()[_0x218b08(0x477)](_0x18e6d1,_0x218b08(0x29c));return _0x2c7028[_0x218b08(0x493)](_0x218b08(0x45c))[_0x218b08(0x542)](_0x3c293c=>_0x3c293c['remove']()),_0x2c7028[_0x218b08(0x4cf)][_0x218b08(0x396)]||'';}document[_0xcf56c0(0x4f8)](_0xcf56c0(0x3d2))[_0xcf56c0(0x29d)](_0xcf56c0(0x572),()=>{const _0x184552=_0xcf56c0,_0x340839=document['getElementById'](_0x184552(0x3d1))[_0x184552(0x6dc)]['trim']();generateQuiz(_0x340839,null);});async function generateQuiz(_0x5921cd,_0x4621e8,_0x4ff9d2=null){const _0x904baf=_0xcf56c0,_0xab7921=document['getElementById'](_0x904baf(0x5df))['checked'],_0x422384=document[_0x904baf(0x4f8)]('quiz-type-select')[_0x904baf(0x6dc)],_0x40e367=document[_0x904baf(0x4f8)](_0x904baf(0x5c3))[_0x904baf(0x6dc)],_0x51b352=document['getElementById']('num-choices')['value'],_0x5b9759=document[_0x904baf(0x4f8)](_0x904baf(0x297))[_0x904baf(0x525)],_0x3bd68d=_0x5b9759?'':'คณิตศาสตร์',_0x1de6b2=document[_0x904baf(0x4f8)](_0x904baf(0x368)),_0x34af53=_0x1de6b2[_0x904baf(0x6dc)];let _0x3245c8='';_0x34af53!==_0x904baf(0x2d8)&&(_0x3245c8=_0x904baf(0x476)+_0x34af53+'\x22');const _0x245256=document[_0x904baf(0x4f8)](_0x904baf(0x41e)),_0x34ba1d=_0x245256[_0x904baf(0x6dc)];let _0x3e8c99='';_0x34ba1d!==_0x904baf(0x379)&&(_0x3e8c99=_0x904baf(0x47c)+_0x34ba1d+_0x904baf(0x2c2));const _0x2623f7=document[_0x904baf(0x493)]('#math-topics-checkbox-container\x20input:checked'),_0x22b5c4=Array[_0x904baf(0x6c5)](_0x2623f7)['map'](_0x310b78=>_0x310b78[_0x904baf(0x6dc)]);let _0x1631f5='';_0x22b5c4[_0x904baf(0x424)]>0x0&&(_0x1631f5='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x22b5c4[_0x904baf(0x5ba)](',\x20')+_0x904baf(0x46e));let _0x2261cc='',_0x1064eb='',_0x559173,_0x591408=_0x904baf(0x56b)+_0x5921cd+'\x22';if(!_0x5921cd&&_0x4621e8)_0x591408=_0x904baf(0x31b);else!_0x5921cd&&!_0x4621e8&&(_0x591408='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x46c453={'type':'OBJECT','properties':{'questionText':{'type':_0x904baf(0x687)},'options':{'type':_0x904baf(0x3c6),'items':{'type':_0x904baf(0x687)}},'correctAnswerIndex':{'type':_0x904baf(0x3dc)},'explanation':{'type':_0x904baf(0x687)},'imageCode':{'type':'STRING'}},'required':[_0x904baf(0x1db),_0x904baf(0x410),_0x904baf(0x19d),'explanation']},_0x260a09={'type':_0x904baf(0x265),'properties':{'questionText':{'type':_0x904baf(0x687)},'idealAnswer':{'type':_0x904baf(0x687)},'explanation':{'type':_0x904baf(0x687)},'imageCode':{'type':_0x904baf(0x687)}},'required':[_0x904baf(0x1db),_0x904baf(0x4b7),_0x904baf(0x4c6)]},_0x5a047e={'type':_0x904baf(0x265),'properties':{'questionText':{'type':_0x904baf(0x687)},'questionType':{'type':_0x904baf(0x687),'enum':[_0x904baf(0x4ed),_0x904baf(0x516)]},'options':{'type':_0x904baf(0x3c6),'items':{'type':_0x904baf(0x687)}},'correctAnswerIndex':{'type':_0x904baf(0x3dc)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x904baf(0x687)}},'required':[_0x904baf(0x1db),'questionType',_0x904baf(0x4c6)]},_0x41b15f={'type':_0x904baf(0x265),'properties':{'questionText':{'type':_0x904baf(0x687)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x904baf(0x687)}},'required':[_0x904baf(0x1db),'correctAnswer',_0x904baf(0x4c6)]},_0x22fd1a={'type':_0x904baf(0x265),'properties':{'questionType':{'type':_0x904baf(0x687),'enum':[_0x904baf(0x3ae)]},'stem':{'type':_0x904baf(0x687)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x904baf(0x3c6),'items':{'type':_0x904baf(0x687)}},'explanation':{'type':_0x904baf(0x687)},'imageCode':{'type':_0x904baf(0x687)}},'required':[_0x904baf(0x305),_0x904baf(0x736),'correctResponse',_0x904baf(0x257),_0x904baf(0x4c6)]};let _0x4633af;if(_0x4ff9d2!==null){const _0x49d81e=currentQuizData[_0x904baf(0x32f)][_0x4ff9d2][_0x904baf(0x305)],_0x29e204=_0xab7921?_0x904baf(0x638):'';_0x2261cc=_0x904baf(0x50e)+_0x591408+'\x20'+_0x1631f5+'\x20'+_0x3245c8+_0x904baf(0x5f9)+_0x29e204+'\x20'+simpleMathPrompt;if(_0x49d81e==='multiple_choice')_0x559173=_0x46c453;else{if(_0x49d81e===_0x904baf(0x3ae))_0x559173={'type':_0x904baf(0x265),'properties':{'questionType':{'type':_0x904baf(0x687),'enum':[_0x904baf(0x3ae)]},'stem':{'type':_0x904baf(0x687)},'correctResponse':{'type':_0x904baf(0x687)},'explanation':{'type':_0x904baf(0x687)},'imageCode':{'type':'STRING'}},'required':['questionType','stem',_0x904baf(0x4de),_0x904baf(0x4c6)]};else _0x559173=_0x260a09;}_0x4633af=_0x559173;}else{const _0x6d1343=_0xab7921?_0x904baf(0x42a):'';switch(_0x422384){case _0x904baf(0x4ed):_0x2261cc='สร้างแบบทดสอบปรนัย'+_0x3bd68d+'\x20'+_0x40e367+'\x20ข้อ\x20'+_0x591408+'\x20'+_0x1631f5+'\x20'+_0x3245c8+'\x20'+_0x3e8c99+_0x904baf(0x640)+_0x51b352+_0x904baf(0x683)+_0x6d1343+'\x20'+simpleMathPrompt,_0x559173=_0x46c453;break;case _0x904baf(0x3d4):_0x2261cc=_0x904baf(0x4ee)+_0x3bd68d+'\x20'+_0x40e367+_0x904baf(0x20b)+_0x591408+'\x20'+_0x1631f5+'\x20'+_0x3245c8+'\x20'+_0x3e8c99+_0x904baf(0x242)+_0x51b352+_0x904baf(0x44e)+_0x6d1343+'\x20'+simpleMathPrompt,_0x559173=_0x46c453;break;case'fill_in_no_choices':_0x2261cc=_0x904baf(0x4ee)+_0x3bd68d+'\x20'+_0x40e367+_0x904baf(0x20b)+_0x591408+'\x20'+_0x1631f5+'\x20'+_0x3245c8+'\x20'+_0x3e8c99+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x6d1343+'\x20'+simpleMathPrompt,_0x559173=_0x260a09;break;case _0x904baf(0x379):_0x2261cc=_0x904baf(0x41f)+_0x3bd68d+'\x20'+_0x40e367+_0x904baf(0x20b)+_0x591408+'\x20'+_0x1631f5+'\x20'+_0x3245c8+'\x20'+_0x3e8c99+_0x904baf(0x70d)+_0x51b352+'\x20ตัวเลือก.\x20'+_0x6d1343+'\x20'+simpleMathPrompt+'.',_0x559173=_0x5a047e;break;case _0x904baf(0x1be):_0x2261cc=_0x904baf(0x608)+_0x3bd68d+'\x20'+_0x40e367+_0x904baf(0x20b)+_0x591408+'\x20'+_0x1631f5+'\x20'+_0x3245c8+'\x20'+_0x3e8c99+_0x904baf(0x5cb)+_0x6d1343+'\x20'+simpleMathPrompt,_0x559173=_0x41b15f;break;case'matching':_0x2261cc='สร้างชุดคำถามจับคู่'+_0x3bd68d+'\x20'+_0x40e367+'\x20คู่\x20'+_0x591408+'\x20'+_0x1631f5+'\x20'+_0x3245c8+'\x20'+_0x3e8c99+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x6d1343+'\x20'+simpleMathPrompt,_0x559173=_0x22fd1a;break;}_0x4633af={'type':_0x904baf(0x265),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x904baf(0x3c6),'items':_0x559173}},'required':['topic',_0x904baf(0x32f)]};}return _0x4621e8?(_0x2261cc=_0x904baf(0x3b8)+_0x4621e8+_0x904baf(0x4ca)+_0x2261cc,_0x1064eb='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x1064eb=_0x904baf(0x6bd),handleApiCall(_0x2261cc,_0x1064eb,_0x4633af,_0x4ff9d2);}async function generateQuizFromFile(_0x3560a1,_0xdeac3b){const _0x543d7d=_0xcf56c0,_0x2a3512=document['getElementById'](_0x543d7d(0x5e8))['value'][_0x543d7d(0x21f)](),_0x1e69dc=document[_0x543d7d(0x4f8)](_0x543d7d(0x485))[_0x543d7d(0x6dc)],_0x3e8ee9=document[_0x543d7d(0x4f8)](_0x543d7d(0x5c3))[_0x543d7d(0x6dc)],_0x217608=document[_0x543d7d(0x4f8)](_0x543d7d(0x22f))[_0x543d7d(0x6dc)],_0x279f1d=document[_0x543d7d(0x4f8)]('include-images-checkbox')[_0x543d7d(0x525)],_0x1da0e0=document[_0x543d7d(0x4f8)](_0x543d7d(0x297))[_0x543d7d(0x525)],_0x4e7779=_0x1da0e0?'':_0x543d7d(0x243);let _0x156bd0='',_0x518dc8,_0xbc3c3f=_0x543d7d(0x56b)+_0x2a3512+'\x22';!_0x2a3512&&(_0xbc3c3f=_0x543d7d(0x1e7));const _0x2d27ba=_0x279f1d?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x1e69dc){case _0x543d7d(0x4ed):_0x156bd0=_0x543d7d(0x6f3)+_0x4e7779+'\x20'+_0x3e8ee9+_0x543d7d(0x20b)+_0xbc3c3f+_0x543d7d(0x640)+_0x217608+_0x543d7d(0x683)+_0x2d27ba+'\x20'+simpleMathPrompt,_0x518dc8={'type':_0x543d7d(0x265),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x543d7d(0x687)}},'correctAnswerIndex':{'type':_0x543d7d(0x3dc)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x543d7d(0x687)}},'required':[_0x543d7d(0x1db),_0x543d7d(0x410),_0x543d7d(0x19d),_0x543d7d(0x4c6)]};break;case _0x543d7d(0x3d4):_0x156bd0=_0x543d7d(0x4ee)+_0x4e7779+'\x20'+_0x3e8ee9+_0x543d7d(0x20b)+_0xbc3c3f+_0x543d7d(0x242)+_0x217608+_0x543d7d(0x44e)+_0x2d27ba+'\x20'+simpleMathPrompt,_0x518dc8={'type':_0x543d7d(0x265),'properties':{'questionText':{'type':_0x543d7d(0x687)},'options':{'type':'ARRAY','items':{'type':_0x543d7d(0x687)}},'correctAnswerIndex':{'type':_0x543d7d(0x3dc)},'explanation':{'type':_0x543d7d(0x687)},'imageCode':{'type':_0x543d7d(0x687)}},'required':[_0x543d7d(0x1db),'options',_0x543d7d(0x19d),'explanation']};break;case _0x543d7d(0x716):_0x156bd0=_0x543d7d(0x4ee)+_0x4e7779+'\x20'+_0x3e8ee9+_0x543d7d(0x20b)+_0xbc3c3f+_0x543d7d(0x5ae)+_0x2d27ba+'\x20'+simpleMathPrompt,_0x518dc8={'type':_0x543d7d(0x265),'properties':{'questionText':{'type':_0x543d7d(0x687)},'idealAnswer':{'type':_0x543d7d(0x687)},'explanation':{'type':_0x543d7d(0x687)},'imageCode':{'type':_0x543d7d(0x687)}},'required':[_0x543d7d(0x1db),_0x543d7d(0x4b7),'explanation']};break;case _0x543d7d(0x379):_0x156bd0=_0x543d7d(0x41f)+_0x4e7779+'\x20'+_0x3e8ee9+_0x543d7d(0x20b)+_0xbc3c3f+_0x543d7d(0x318)+_0x217608+_0x543d7d(0x435)+_0x2d27ba+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x518dc8={'type':_0x543d7d(0x265),'properties':{'questionText':{'type':_0x543d7d(0x687)},'questionType':{'type':_0x543d7d(0x687),'enum':[_0x543d7d(0x4ed),'short_answer']},'options':{'type':_0x543d7d(0x3c6),'items':{'type':_0x543d7d(0x687)}},'correctAnswerIndex':{'type':_0x543d7d(0x3dc)},'idealAnswer':{'type':_0x543d7d(0x687)},'explanation':{'type':_0x543d7d(0x687)},'imageCode':{'type':_0x543d7d(0x687)}},'required':[_0x543d7d(0x1db),_0x543d7d(0x305),_0x543d7d(0x4c6)]};break;case _0x543d7d(0x1be):_0x156bd0=_0x543d7d(0x608)+_0x4e7779+'\x20'+_0x3e8ee9+_0x543d7d(0x20b)+_0xbc3c3f+_0x543d7d(0x43a)+_0x2d27ba+'\x20'+simpleMathPrompt,_0x518dc8={'type':'OBJECT','properties':{'questionText':{'type':_0x543d7d(0x687)},'correctAnswer':{'type':_0x543d7d(0x5f0)},'explanation':{'type':_0x543d7d(0x687)},'imageCode':{'type':'STRING'}},'required':['questionText','correctAnswer',_0x543d7d(0x4c6)]};break;case _0x543d7d(0x66d):_0x156bd0=_0x543d7d(0x451)+_0x4e7779+'\x20'+_0x3e8ee9+_0x543d7d(0x4d9)+_0xbc3c3f+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x3e8ee9+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x2d27ba+'\x20'+simpleMathPrompt,_0x518dc8={'type':_0x543d7d(0x265),'properties':{'questionType':{'type':'STRING','enum':[_0x543d7d(0x3ae)]},'stem':{'type':_0x543d7d(0x687)},'correctResponse':{'type':_0x543d7d(0x687)},'allResponses':{'type':'ARRAY','items':{'type':_0x543d7d(0x687)}},'explanation':{'type':_0x543d7d(0x687)},'imageCode':{'type':_0x543d7d(0x687)}},'required':[_0x543d7d(0x305),_0x543d7d(0x736),_0x543d7d(0x4de),_0x543d7d(0x257),_0x543d7d(0x4c6)]};break;}const _0x3f0f51={'type':_0x543d7d(0x265),'properties':{'topic':{'type':_0x543d7d(0x687)},'questions':{'type':'ARRAY','items':_0x518dc8}},'required':[_0x543d7d(0x43d),_0x543d7d(0x32f)]},_0x53db23=_0x543d7d(0x22e)+_0x156bd0,_0x347ad1={'contents':[{'parts':[{'text':_0x53db23},{'inlineData':{'mimeType':_0x3560a1,'data':_0xdeac3b}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x3f0f51}};return handleApiCall(_0x347ad1[_0x543d7d(0x725)][0x0][_0x543d7d(0x3cc)],_0x543d7d(0x448),_0x3f0f51);}async function handleApiCall(_0x346f85,_0x123b59,_0x2ddf88,_0x5d693f=null){const _0x55f1bf=_0xcf56c0,_0x484ed8=document[_0x55f1bf(0x4f8)]('quiz-generation-area'),_0x395a45=document['getElementById'](_0x55f1bf(0x6cb)),_0x23cdd5=document['getElementById'](_0x55f1bf(0x33e)),_0x2b9a3c=document[_0x55f1bf(0x4f8)](_0x55f1bf(0x325));_0x484ed8[_0x55f1bf(0x4a6)][_0x55f1bf(0x52e)]('hidden');_0x5d693f===null&&(_0x2b9a3c[_0x55f1bf(0x1ae)]='');_0x395a45[_0x55f1bf(0x4a6)][_0x55f1bf(0x52e)]('hidden'),_0x23cdd5[_0x55f1bf(0x396)]=_0x123b59,document[_0x55f1bf(0x4f8)](_0x55f1bf(0x3d2))[_0x55f1bf(0x3a5)]=!![],document['getElementById']('generate-from-text-btn')[_0x55f1bf(0x3a5)]=!![],document['getElementById'](_0x55f1bf(0x26c))[_0x55f1bf(0x3a5)]=!![];try{const _0xce35c9={'responseMimeType':_0x55f1bf(0x694),'responseSchema':_0x2ddf88},_0x264dc1=Array[_0x55f1bf(0x2bf)](_0x346f85)?_0x346f85:[{'text':_0x346f85}],_0x446311={'contents':[{'role':_0x55f1bf(0x38c),'parts':_0x264dc1}],'generationConfig':_0xce35c9},_0x4d3a0f=_0x55f1bf(0x1b4),_0x5d9929=_0x55f1bf(0x5e0)+_0x4d3a0f,_0x2319c1=await fetch(_0x5d9929,{'method':_0x55f1bf(0x405),'headers':{'Content-Type':_0x55f1bf(0x694)},'body':JSON[_0x55f1bf(0x330)](_0x446311)});if(!_0x2319c1['ok'])throw new Error(_0x55f1bf(0x34f)+_0x2319c1[_0x55f1bf(0x454)]);const _0x100c29=await _0x2319c1[_0x55f1bf(0x69c)]();if(_0x100c29[_0x55f1bf(0x436)]?.[0x0]?.[_0x55f1bf(0x247)]?.[_0x55f1bf(0x3cc)]?.[0x0]){let _0x59c1bf=_0x100c29[_0x55f1bf(0x436)][0x0][_0x55f1bf(0x247)]['parts'][0x0][_0x55f1bf(0x2a7)],_0x1976be;try{if(_0x59c1bf[_0x55f1bf(0x560)](_0x55f1bf(0x48e)))_0x59c1bf=_0x59c1bf[_0x55f1bf(0x4c8)](0x7,_0x59c1bf['length']-0x3)[_0x55f1bf(0x21f)]();else _0x59c1bf[_0x55f1bf(0x560)](_0x55f1bf(0x1c6))&&(_0x59c1bf=_0x59c1bf['substring'](0x3,_0x59c1bf[_0x55f1bf(0x424)]-0x3)[_0x55f1bf(0x21f)]());_0x1976be=JSON[_0x55f1bf(0x28e)](_0x59c1bf);}catch(_0x570a9b){console[_0x55f1bf(0x1f8)](_0x55f1bf(0x6e4),_0x570a9b,_0x59c1bf);throw new Error(_0x55f1bf(0x5fa));}if(_0x5d693f!==null){if(_0x1976be[_0x55f1bf(0x305)]==='matching_item'){const _0x322ea9=currentQuizData[_0x55f1bf(0x32f)][_0x55f1bf(0x44f)](_0x2f7902=>_0x2f7902[_0x55f1bf(0x4de)]);_0x1976be[_0x55f1bf(0x257)]=_0x322ea9;const _0x365b65=currentQuizData[_0x55f1bf(0x32f)][_0x5d693f]['correctResponse'],_0x18c6fd=_0x322ea9[_0x55f1bf(0x491)](_0x365b65);_0x18c6fd>-0x1&&(_0x322ea9[_0x18c6fd]=_0x1976be[_0x55f1bf(0x4de)]),currentQuizData[_0x55f1bf(0x32f)]['forEach'](_0x4053c1=>{const _0x41fde9=_0x55f1bf;if(_0x4053c1['questionType']==='matching_item')_0x4053c1[_0x41fde9(0x257)]=_0x322ea9;});}currentQuizData[_0x55f1bf(0x32f)][_0x5d693f]=_0x1976be,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x1976be;const _0x3583f8=document['getElementById'](_0x55f1bf(0x485))[_0x55f1bf(0x6dc)];currentQuizData[_0x55f1bf(0x52f)]=_0x3583f8,currentQuizData[_0x55f1bf(0x32f)]&&currentQuizData[_0x55f1bf(0x32f)][_0x55f1bf(0x542)](_0x330f26=>{const _0x381648=_0x55f1bf;if(!_0x330f26[_0x381648(0x305)]){if(_0x3583f8===_0x381648(0x3d4))_0x330f26[_0x381648(0x305)]=_0x381648(0x4ed);else _0x3583f8===_0x381648(0x716)?_0x330f26[_0x381648(0x305)]='short_answer':_0x330f26[_0x381648(0x305)]=_0x3583f8;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x55f1bf(0x1f8)](_0x55f1bf(0x3e3),JSON['stringify'](_0x100c29));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x5aa301){console['error']('Error\x20generating\x20quiz:',_0x5aa301),showMessage(_0x55f1bf(0x50c)),_0x5d693f===null&&(_0x2b9a3c[_0x55f1bf(0x1ae)]=_0x55f1bf(0x678));}finally{_0x395a45[_0x55f1bf(0x4a6)][_0x55f1bf(0x718)](_0x55f1bf(0x3d0)),document['getElementById'](_0x55f1bf(0x3d2))['disabled']=![],document[_0x55f1bf(0x4f8)](_0x55f1bf(0x722))['disabled']=![],document[_0x55f1bf(0x4f8)](_0x55f1bf(0x26c))[_0x55f1bf(0x3a5)]=![];const _0x28192b=document[_0x55f1bf(0x4f8)](_0x55f1bf(0x545));_0x28192b&&(_0x28192b[_0x55f1bf(0x3a5)]=![]);}}function displayGeneratedQuiz(_0x484a75){const _0x21713e=_0xcf56c0,_0x9ee18d=document[_0x21713e(0x4f8)](_0x21713e(0x325));let _0x3f225c=_0x21713e(0x37f)+_0x484a75['topic']+_0x21713e(0x55c);_0x484a75[_0x21713e(0x32f)]['forEach']((_0x31a628,_0x185380)=>{const _0x27253d=_0x21713e,_0x52a65f=_0x31a628['questionType']||_0x484a75[_0x27253d(0x52f)];_0x3f225c+=_0x27253d(0x31a)+_0x185380+_0x27253d(0x3f5)+_0x185380+_0x27253d(0x56e)+_0x185380+_0x27253d(0x626);switch(_0x52a65f){case _0x27253d(0x3ae):_0x3f225c+=_0x27253d(0x381)+_0x185380+'\x22>'+(_0x185380+0x1)+'.\x20'+_0x31a628[_0x27253d(0x736)]+_0x27253d(0x5e6);_0x31a628[_0x27253d(0x237)]&&(_0x3f225c+=_0x27253d(0x585)+_0x185380+_0x27253d(0x3a0)+_0x31a628[_0x27253d(0x237)]+_0x27253d(0x406));_0x3f225c+=_0x27253d(0x409)+_0x185380+'\x22>'+_0x31a628['correctResponse']+_0x27253d(0x36a),_0x3f225c+=_0x27253d(0x4d6)+_0x185380+'\x22>'+_0x31a628[_0x27253d(0x4c6)]+'</span></div>';break;case'short_answer':_0x3f225c+=_0x27253d(0x381)+_0x185380+'\x22>'+(_0x185380+0x1)+'.\x20'+_0x31a628[_0x27253d(0x1db)]+'</p>';_0x31a628[_0x27253d(0x237)]&&(_0x3f225c+='<div\x20id=\x22q-image-container-'+_0x185380+_0x27253d(0x3a0)+_0x31a628['imageCode']+_0x27253d(0x406));_0x3f225c+=_0x27253d(0x252)+_0x185380+'\x22>'+_0x31a628['idealAnswer']+_0x27253d(0x36a),_0x3f225c+=_0x27253d(0x4d6)+_0x185380+'\x22>'+_0x31a628[_0x27253d(0x4c6)]+'</span></div>';break;case'true_false':_0x3f225c+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x185380+'\x22>'+(_0x185380+0x1)+'.\x20'+_0x31a628[_0x27253d(0x1db)]+_0x27253d(0x5e6);_0x31a628[_0x27253d(0x237)]&&(_0x3f225c+='<div\x20id=\x22q-image-container-'+_0x185380+_0x27253d(0x3a0)+_0x31a628[_0x27253d(0x237)]+_0x27253d(0x406));_0x3f225c+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x31a628[_0x27253d(0x4eb)]===!![]?_0x27253d(0x24c):'')+_0x27253d(0x428)+(_0x31a628[_0x27253d(0x4eb)]===![]?_0x27253d(0x24c):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3f225c+=_0x27253d(0x4d6)+_0x185380+'\x22>'+_0x31a628[_0x27253d(0x4c6)]+_0x27253d(0x36a);break;case'fill_in_the_blank':case _0x27253d(0x4ed):default:_0x3f225c+=_0x27253d(0x381)+_0x185380+'\x22>'+(_0x185380+0x1)+'.\x20'+_0x31a628[_0x27253d(0x1db)]+_0x27253d(0x5e6);_0x31a628[_0x27253d(0x237)]&&(_0x3f225c+='<div\x20id=\x22q-image-container-'+_0x185380+_0x27253d(0x3a0)+_0x31a628['imageCode']+_0x27253d(0x406));_0x3f225c+=_0x27253d(0x197)+_0x185380+_0x27253d(0x211)+_0x31a628[_0x27253d(0x410)][_0x27253d(0x44f)]((_0x5ac0ef,_0x24ee98)=>_0x27253d(0x283)+(_0x24ee98===_0x31a628[_0x27253d(0x19d)]?_0x27253d(0x24c):'')+'\x22>'+_0x5ac0ef+_0x27253d(0x472))[_0x27253d(0x5ba)]('')+_0x27253d(0x610),_0x3f225c+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x185380+'\x22>'+_0x31a628[_0x27253d(0x4c6)]+_0x27253d(0x36a);break;}_0x3f225c+='</div>';}),_0x3f225c+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x9ee18d[_0x21713e(0x1ae)]=_0x3f225c,document[_0x21713e(0x493)](_0x21713e(0x255))[_0x21713e(0x542)](_0x4bcdfc=>_0x4bcdfc[_0x21713e(0x29d)](_0x21713e(0x572),handleEditQuestion)),document[_0x21713e(0x493)]('.regenerate-question-btn')[_0x21713e(0x542)](_0x36b5c8=>_0x36b5c8[_0x21713e(0x29d)](_0x21713e(0x572),handleRegenerateQuestion)),document[_0x21713e(0x493)]('.save-to-bank-btn')[_0x21713e(0x542)](_0x3b549d=>_0x3b549d[_0x21713e(0x29d)](_0x21713e(0x572),handleSaveToBank)),document[_0x21713e(0x4f8)]('save-quiz-btn')[_0x21713e(0x29d)]('click',saveQuiz);if(window[_0x21713e(0x335)])window[_0x21713e(0x335)][_0x21713e(0x2f6)]([_0x9ee18d]);}function handleRegenerateQuestion(_0x19ddeb){const _0x2185d3=_0xcf56c0,_0x2535ea=_0x19ddeb['currentTarget']['dataset'][_0x2185d3(0x3db)],_0x4eb0f9=currentQuizData['topic'];showMessage(_0x2185d3(0x358)+(parseInt(_0x2535ea)+0x1)+_0x2185d3(0x208)),generateQuiz(_0x4eb0f9,null,parseInt(_0x2535ea));}function getPointerPosition(_0x410e6c,_0x4af855){const _0x398088=_0xcf56c0,_0x8ecbcb=_0x410e6c[_0x398088(0x427)]();let _0x3ceb18,_0xff2d9;return _0x4af855[_0x398088(0x2e0)]&&_0x4af855[_0x398088(0x2e0)][_0x398088(0x424)]>0x0?(_0x3ceb18=_0x4af855['touches'][0x0][_0x398088(0x244)],_0xff2d9=_0x4af855[_0x398088(0x2e0)][0x0]['clientY']):(_0x3ceb18=_0x4af855['clientX'],_0xff2d9=_0x4af855['clientY']),{'x':(_0x3ceb18-_0x8ecbcb['e'])/_0x8ecbcb['a'],'y':(_0xff2d9-_0x8ecbcb['f'])/_0x8ecbcb['d']};}function startDrag(_0x7eab1f){const _0x177a5f=_0xcf56c0;_0x7eab1f[_0x177a5f(0x31c)]===_0x177a5f(0x3de)&&_0x7eab1f[_0x177a5f(0x2d7)]();const _0x411927=_0x7eab1f['target']['closest']('.draggable-text');if(_0x411927){draggedSvgElement=_0x411927;const _0x349dca=draggedSvgElement[_0x177a5f(0x2ff)],_0xfc6e7c=getPointerPosition(_0x349dca,_0x7eab1f);svgOffset['x']=_0xfc6e7c['x']-parseFloat(draggedSvgElement[_0x177a5f(0x599)](null,'x')),svgOffset['y']=_0xfc6e7c['y']-parseFloat(draggedSvgElement[_0x177a5f(0x599)](null,'y'));}}function drag(_0x454912){const _0xf14538=_0xcf56c0;if(draggedSvgElement){_0x454912[_0xf14538(0x2d7)]();const _0x3819ae=draggedSvgElement[_0xf14538(0x2ff)],_0x3deb3c=getPointerPosition(_0x3819ae,_0x454912),_0x536daa=_0x3819ae['viewBox']['baseVal'];let _0x447928=_0x3deb3c['x']-svgOffset['x'],_0xbf25a3=_0x3deb3c['y']-svgOffset['y'];const _0x45fa2f=draggedSvgElement[_0xf14538(0x3b0)]();_0x447928=Math[_0xf14538(0x366)](_0x536daa['x'],Math[_0xf14538(0x351)](_0x447928,_0x536daa['x']+_0x536daa[_0xf14538(0x51a)]-_0x45fa2f[_0xf14538(0x51a)])),_0xbf25a3=Math[_0xf14538(0x366)](_0x536daa['y'],Math['min'](_0xbf25a3,_0x536daa['y']+_0x536daa['height']-_0x45fa2f[_0xf14538(0x6a8)])),draggedSvgElement[_0xf14538(0x5e5)](null,'x',_0x447928),draggedSvgElement[_0xf14538(0x5e5)](null,'y',_0xbf25a3);}}function endDrag(_0x5e3b2d){draggedSvgElement=null;}function handleSvgEditClick(_0x4d7278){const _0x105ad4=_0xcf56c0;if(_0x4d7278['target']['classList']['contains'](_0x105ad4(0x6e8))){const _0x23eef5=_0x4d7278[_0x105ad4(0x6df)][_0x105ad4(0x723)][_0x105ad4(0x61f)],_0x7ad16f=_0x4d7278[_0x105ad4(0x710)],_0x21204e=_0x7ad16f['querySelector']('#'+_0x23eef5);_0x21204e&&_0x21204e[_0x105ad4(0x52e)](),_0x4d7278['target'][_0x105ad4(0x52e)]();}}function handleEditQuestion(_0x3dd2db){const _0x5a53af=_0xcf56c0,_0x1f7539=_0x3dd2db[_0x5a53af(0x710)],_0x1555bc=_0x1f7539[_0x5a53af(0x723)][_0x5a53af(0x3db)],_0x3c044f=currentQuizData[_0x5a53af(0x32f)][_0x1555bc],_0x4e6ffa=document[_0x5a53af(0x4f8)](_0x5a53af(0x392)+_0x1555bc),_0x5c9207=document['getElementById']('q-explanation-'+_0x1555bc),_0x5b727a=document[_0x5a53af(0x4f8)](_0x5a53af(0x258)+_0x1555bc);if(_0x1f7539[_0x5a53af(0x1ae)][_0x5a53af(0x340)](_0x5a53af(0x4a9))){_0x1f7539['innerHTML']=_0x5a53af(0x328),_0x1f7539[_0x5a53af(0x3a8)]=_0x5a53af(0x6ba);if(_0x4e6ffa)_0x4e6ffa[_0x5a53af(0x1da)]=!![];if(_0x5c9207)_0x5c9207[_0x5a53af(0x1da)]=!![];if(_0x5b727a){const _0x4506bc=_0x5b727a[_0x5a53af(0x480)](_0x5a53af(0x342));if(_0x4506bc){const _0xf2fa07=_0x4506bc['querySelectorAll'](_0x5a53af(0x2a7));_0xf2fa07['forEach']((_0x4be97c,_0x37ad05)=>{const _0x997784=_0x5a53af,_0x3850d2='editable-text-'+_0x1555bc+'-'+_0x37ad05;_0x4be97c['id']=_0x3850d2,_0x4be97c[_0x997784(0x4a6)][_0x997784(0x718)]('draggable-text'),_0x4be97c[_0x997784(0x3ef)][_0x997784(0x2a2)]=_0x997784(0x6db);const _0x3d03f9=document['createElementNS'](_0x997784(0x5be),_0x997784(0x376)),_0x14ecad=_0x4be97c[_0x997784(0x3b0)]();_0x3d03f9[_0x997784(0x385)]('cx',String(_0x14ecad['x']+_0x14ecad[_0x997784(0x51a)]+0x5)),_0x3d03f9[_0x997784(0x385)]('cy',String(_0x14ecad['y']+_0x14ecad[_0x997784(0x6a8)]/0x2-0x5)),_0x3d03f9[_0x997784(0x385)]('r','5'),_0x3d03f9[_0x997784(0x385)](_0x997784(0x2ed),_0x997784(0x586)),_0x3d03f9[_0x997784(0x385)](_0x997784(0x547),_0x997784(0x6e8)),_0x3d03f9[_0x997784(0x723)][_0x997784(0x61f)]=_0x3850d2,_0x4be97c[_0x997784(0x6fe)](_0x3d03f9);}),_0x4506bc[_0x5a53af(0x29d)](_0x5a53af(0x259),startDrag),_0x4506bc[_0x5a53af(0x29d)](_0x5a53af(0x32e),drag),_0x4506bc[_0x5a53af(0x29d)](_0x5a53af(0x357),endDrag),_0x4506bc['addEventListener'](_0x5a53af(0x6bf),endDrag),_0x4506bc[_0x5a53af(0x29d)](_0x5a53af(0x3de),startDrag,{'passive':![]}),_0x4506bc['addEventListener']('touchmove',drag,{'passive':![]}),_0x4506bc[_0x5a53af(0x29d)](_0x5a53af(0x693),endDrag),_0x4506bc[_0x5a53af(0x29d)](_0x5a53af(0x4fc),endDrag),_0x4506bc['addEventListener']('click',handleSvgEditClick);}}if(_0x4e6ffa)_0x4e6ffa['focus']();}else{_0x1f7539['innerHTML']=_0x5a53af(0x4aa),_0x1f7539['title']=_0x5a53af(0x363);if(_0x4e6ffa){_0x4e6ffa['contentEditable']=![];const _0x50b276=_0x3c044f[_0x5a53af(0x305)]||currentQuizData[_0x5a53af(0x52f)];_0x50b276===_0x5a53af(0x3ae)?_0x3c044f[_0x5a53af(0x736)]=_0x4e6ffa[_0x5a53af(0x58c)][_0x5a53af(0x4c8)](_0x4e6ffa[_0x5a53af(0x58c)][_0x5a53af(0x491)]('.')+0x2)['trim']():_0x3c044f[_0x5a53af(0x1db)]=_0x4e6ffa[_0x5a53af(0x58c)][_0x5a53af(0x4c8)](_0x4e6ffa[_0x5a53af(0x58c)][_0x5a53af(0x491)]('.')+0x2)[_0x5a53af(0x21f)]();}_0x5c9207&&(_0x5c9207[_0x5a53af(0x1da)]=![],_0x3c044f[_0x5a53af(0x4c6)]=_0x5c9207[_0x5a53af(0x58c)]);if(_0x5b727a){const _0x4aa19b=_0x5b727a[_0x5a53af(0x480)]('svg');if(_0x4aa19b){const _0x138c73=_0x4aa19b[_0x5a53af(0x300)](!![]);_0x138c73[_0x5a53af(0x493)]('.delete-svg-btn')[_0x5a53af(0x542)](_0x4e7e57=>_0x4e7e57['remove']()),_0x138c73[_0x5a53af(0x493)](_0x5a53af(0x522))['forEach'](_0x2b563e=>{const _0x117cd7=_0x5a53af;_0x2b563e[_0x117cd7(0x4a6)]['remove'](_0x117cd7(0x2fe)),_0x2b563e[_0x117cd7(0x3ef)]['cursor']=_0x117cd7(0x6b7),_0x2b563e[_0x117cd7(0x1b0)]('id');}),_0x3c044f['imageCode']=_0x138c73[_0x5a53af(0x624)],_0x4aa19b[_0x5a53af(0x49f)](_0x5a53af(0x259),startDrag),_0x4aa19b[_0x5a53af(0x49f)]('mousemove',drag),_0x4aa19b[_0x5a53af(0x49f)](_0x5a53af(0x357),endDrag),_0x4aa19b[_0x5a53af(0x49f)](_0x5a53af(0x6bf),endDrag),_0x4aa19b[_0x5a53af(0x49f)]('touchstart',startDrag),_0x4aa19b[_0x5a53af(0x49f)](_0x5a53af(0x6ef),drag),_0x4aa19b[_0x5a53af(0x49f)]('touchend',endDrag),_0x4aa19b[_0x5a53af(0x49f)](_0x5a53af(0x4fc),endDrag),_0x4aa19b['removeEventListener'](_0x5a53af(0x572),handleSvgEditClick),_0x4aa19b['querySelectorAll'](_0x5a53af(0x20a))[_0x5a53af(0x542)](_0x36ff52=>_0x36ff52[_0x5a53af(0x52e)]()),_0x4aa19b[_0x5a53af(0x493)]('.draggable-text')[_0x5a53af(0x542)](_0x3a0a76=>{const _0x2c28a9=_0x5a53af;_0x3a0a76[_0x2c28a9(0x4a6)][_0x2c28a9(0x52e)](_0x2c28a9(0x2fe)),_0x3a0a76['style']['cursor']='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5448de){const _0x286fae=_0xcf56c0,_0x57b582=document['getElementById'](_0x286fae(0x3be)),_0x1f9303=document[_0x286fae(0x4f8)]('quiz-editor-questions-container');_0x1f9303[_0x286fae(0x1ae)]=_0x286fae(0x559),_0x57b582[_0x286fae(0x4a6)][_0x286fae(0x52e)](_0x286fae(0x3d0));try{const _0xff13e4=doc(db,_0x286fae(0x5ad)+appId+_0x286fae(0x4d1),_0x5448de),_0xa32025=await getDoc(_0xff13e4);if(!_0xa32025['exists']())throw new Error(_0x286fae(0x2c6));currentEditingQuizData={'id':_0x5448de,..._0xa32025[_0x286fae(0x347)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x2fabd4){console[_0x286fae(0x1f8)](_0x286fae(0x508),_0x2fabd4),showMessage(_0x286fae(0x5b7)),_0x57b582[_0x286fae(0x4a6)][_0x286fae(0x718)](_0x286fae(0x3d0));}}function renderQuizEditor(_0x19e49d){const _0x3776d1=_0xcf56c0;document['getElementById']('editor-quiz-topic')[_0x3776d1(0x6dc)]=_0x19e49d[_0x3776d1(0x43d)];const _0x3fd3ea=document[_0x3776d1(0x4f8)]('quiz-editor-questions-container');let _0x229cef=_0x19e49d[_0x3776d1(0x32f)][_0x3776d1(0x44f)]((_0x5f61b8,_0x54c8ef)=>{const _0x36c526=_0x3776d1;let _0x110098='';const _0x46e3a8=_0x5f61b8[_0x36c526(0x305)]||_0x19e49d['quizType'];switch(_0x46e3a8){case'multiple_choice':const _0x5b150b=(_0x5f61b8['options']||[])['map']((_0x36a373,_0x122bd3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x54c8ef+_0x36c526(0x59b)+_0x122bd3+'\x22\x20'+(_0x122bd3===_0x5f61b8[_0x36c526(0x19d)]?_0x36c526(0x525):'')+_0x36c526(0x465)+_0x36a373+_0x36c526(0x408))[_0x36c526(0x5ba)]('');_0x110098=_0x36c526(0x4af)+_0x5b150b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x36c526(0x516):_0x110098=_0x36c526(0x375)+(_0x5f61b8[_0x36c526(0x4b7)]||'')+_0x36c526(0x3b6);break;case'true_false':_0x110098='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x54c8ef+_0x36c526(0x707)+(_0x5f61b8[_0x36c526(0x4eb)]===!![]?_0x36c526(0x525):'')+_0x36c526(0x3c5)+_0x54c8ef+_0x36c526(0x68c)+(_0x5f61b8[_0x36c526(0x4eb)]===![]?_0x36c526(0x525):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x110098=_0x36c526(0x715)+(_0x5f61b8[_0x36c526(0x4de)]||'')+_0x36c526(0x420);break;}const _0x11051d=_0x5f61b8[_0x36c526(0x1db)]||_0x5f61b8[_0x36c526(0x736)]||'';return _0x36c526(0x3dd)+_0x54c8ef+_0x36c526(0x6ed)+_0x46e3a8+_0x36c526(0x52d)+(_0x54c8ef+0x1)+'\x20('+_0x46e3a8+_0x36c526(0x32a)+_0x11051d+_0x36c526(0x651)+_0x110098+'</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3776d1(0x5ba)]('');_0x3fd3ea['innerHTML']=_0x229cef;}async function handleSaveChanges(){const _0x11fee7=_0xcf56c0,_0x13de58=document[_0x11fee7(0x4f8)]('save-quiz-edits-btn');_0x13de58[_0x11fee7(0x3a5)]=!![],_0x13de58['innerHTML']=_0x11fee7(0x3df);try{const _0x538952=document['getElementById'](_0x11fee7(0x28b))[_0x11fee7(0x6dc)],_0x391757=document[_0x11fee7(0x493)](_0x11fee7(0x463));let _0x281392=[];const _0x7e3d30=Array[_0x11fee7(0x6c5)](_0x391757)[_0x11fee7(0x44f)]((_0x296c2c,_0x1fb3a3)=>{const _0x37c2df=_0x11fee7,_0xa722c2=_0x296c2c[_0x37c2df(0x723)][_0x37c2df(0x21b)],_0x1411d2=_0x296c2c['querySelector'](_0x37c2df(0x4f3))[_0x37c2df(0x6dc)];let _0x175443={'questionType':_0xa722c2};const _0x2da449=currentEditingQuizData['questions'][_0x1fb3a3];switch(_0xa722c2){case _0x37c2df(0x4ed):_0x175443[_0x37c2df(0x1db)]=_0x1411d2;const _0x34b445=_0x296c2c[_0x37c2df(0x493)](_0x37c2df(0x18d));_0x175443[_0x37c2df(0x410)]=Array[_0x37c2df(0x6c5)](_0x34b445)[_0x37c2df(0x44f)](_0x4e9467=>_0x4e9467['value']);const _0x144eda=_0x296c2c['querySelector'](_0x37c2df(0x6b8));_0x175443['correctAnswerIndex']=_0x144eda?parseInt(_0x144eda['value']):0x0;break;case'short_answer':_0x175443[_0x37c2df(0x1db)]=_0x1411d2,_0x175443[_0x37c2df(0x4b7)]=_0x296c2c[_0x37c2df(0x480)]('.ideal-answer-input')[_0x37c2df(0x6dc)];break;case _0x37c2df(0x1be):_0x175443['questionText']=_0x1411d2;const _0x1b8ab6=_0x296c2c[_0x37c2df(0x480)](_0x37c2df(0x6b8));_0x175443[_0x37c2df(0x4eb)]=_0x1b8ab6?_0x1b8ab6[_0x37c2df(0x6dc)]===_0x37c2df(0x2a5):!![];break;case'matching_item':_0x175443[_0x37c2df(0x736)]=_0x1411d2;const _0x32b9bd=_0x296c2c[_0x37c2df(0x480)](_0x37c2df(0x248));_0x175443['correctResponse']=_0x32b9bd?_0x32b9bd['value']:'',_0x281392['push'](_0x175443[_0x37c2df(0x4de)]);break;default:_0x175443[_0x37c2df(0x1db)]=_0x1411d2;break;}return{..._0x2da449,..._0x175443};});_0x281392[_0x11fee7(0x424)]>0x0&&_0x7e3d30[_0x11fee7(0x542)](_0x2eff34=>{const _0x284069=_0x11fee7;_0x2eff34[_0x284069(0x305)]==='matching_item'&&(_0x2eff34[_0x284069(0x257)]=_0x281392);});const _0x467562=doc(db,_0x11fee7(0x5ad)+appId+'/public/data/quizzes',currentEditingQuizData['id']);await updateDoc(_0x467562,{'topic':_0x538952,'questions':_0x7e3d30}),showMessage('บันทึกการแก้ไขสำเร็จ'),document['getElementById'](_0x11fee7(0x3be))[_0x11fee7(0x4a6)][_0x11fee7(0x718)](_0x11fee7(0x3d0));}catch(_0x366475){console['error'](_0x11fee7(0x59d),_0x366475),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x13de58[_0x11fee7(0x3a5)]=![],_0x13de58[_0x11fee7(0x1ae)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function saveQuiz(){const _0x5f0b29=_0xcf56c0;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x5f0b29(0x32f)]||!userId){showMessage(_0x5f0b29(0x190));return;}const _0x5238e4=document[_0x5f0b29(0x4f8)](_0x5f0b29(0x270));_0x5238e4[_0x5f0b29(0x3a5)]=!![],_0x5238e4[_0x5f0b29(0x1ae)]=_0x5f0b29(0x3df),currentQuizData[_0x5f0b29(0x43d)]=document['getElementById'](_0x5f0b29(0x4db))['innerText'];try{const _0x20efc2={'resultsDisplay':document[_0x5f0b29(0x4f8)]('results-display-select')[_0x5f0b29(0x6dc)],'shuffle':document[_0x5f0b29(0x4f8)](_0x5f0b29(0x61b))[_0x5f0b29(0x6dc)],'timerMode':document['getElementById']('timer-mode-select')[_0x5f0b29(0x6dc)],'timerDuration':parseInt(document[_0x5f0b29(0x4f8)](_0x5f0b29(0x56d))[_0x5f0b29(0x6dc)])||0xa,'passingScore':parseInt(document['getElementById'](_0x5f0b29(0x338))['value'])||0x0,'isAdaptive':document[_0x5f0b29(0x4f8)](_0x5f0b29(0x53c))[_0x5f0b29(0x525)]},_0x13ef0e=(currentQuizData[_0x5f0b29(0x32f)]||[])[_0x5f0b29(0x44f)](_0x4e7357=>{const _0x51b1a9=_0x5f0b29,_0x31dff3=document[_0x51b1a9(0x4f8)](_0x51b1a9(0x485))[_0x51b1a9(0x6dc)],_0x3f43e6={'questionText':_0x4e7357[_0x51b1a9(0x1db)]||'','explanation':_0x4e7357[_0x51b1a9(0x4c6)]||_0x51b1a9(0x273),'questionType':_0x4e7357[_0x51b1a9(0x305)]||_0x31dff3,'imageCode':_0x4e7357[_0x51b1a9(0x237)]||null};return(_0x3f43e6['questionType']===_0x51b1a9(0x4ed)||_0x3f43e6[_0x51b1a9(0x305)]===_0x51b1a9(0x3d4)||_0x3f43e6[_0x51b1a9(0x305)]===_0x51b1a9(0x379)&&_0x4e7357[_0x51b1a9(0x410)])&&(_0x3f43e6[_0x51b1a9(0x410)]=_0x4e7357[_0x51b1a9(0x410)]||[],_0x3f43e6[_0x51b1a9(0x19d)]=_0x4e7357[_0x51b1a9(0x19d)]!==undefined?_0x4e7357[_0x51b1a9(0x19d)]:0x0),(_0x3f43e6[_0x51b1a9(0x305)]===_0x51b1a9(0x516)||_0x3f43e6[_0x51b1a9(0x305)]===_0x51b1a9(0x716)||_0x3f43e6[_0x51b1a9(0x305)]===_0x51b1a9(0x379)&&_0x4e7357['idealAnswer'])&&(_0x3f43e6[_0x51b1a9(0x4b7)]=_0x4e7357[_0x51b1a9(0x4b7)]||''),_0x3f43e6[_0x51b1a9(0x305)]==='true_false'&&(_0x3f43e6[_0x51b1a9(0x4eb)]=_0x4e7357['correctAnswer']===!![]),_0x3f43e6[_0x51b1a9(0x305)]==='matching_item'&&(_0x3f43e6[_0x51b1a9(0x736)]=_0x4e7357['stem']||'',_0x3f43e6[_0x51b1a9(0x4de)]=_0x4e7357[_0x51b1a9(0x4de)]||'',_0x3f43e6[_0x51b1a9(0x257)]=_0x4e7357['allResponses']||[]),_0x3f43e6;}),_0x33b617={'topic':currentQuizData[_0x5f0b29(0x43d)]||_0x5f0b29(0x5aa),'quizType':currentQuizData[_0x5f0b29(0x52f)]||_0x5f0b29(0x4ed),'questions':_0x13ef0e,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x20efc2};let _0x43eab6;while(!![]){_0x43eab6=Math[_0x5f0b29(0x579)](0x3e8+Math[_0x5f0b29(0x64e)]()*0x2328)[_0x5f0b29(0x4e2)]();const _0x597d71=await getDoc(doc(db,_0x5f0b29(0x5ad)+appId+'/public/data/quizzes',_0x43eab6));if(!_0x597d71[_0x5f0b29(0x6a7)]())break;}await setDoc(doc(db,_0x5f0b29(0x5ad)+appId+_0x5f0b29(0x4d1),_0x43eab6),_0x33b617),currentQuizData[_0x5f0b29(0x666)]=_0x20efc2,currentQuizData['id']=_0x43eab6;const _0x1f200b=document[_0x5f0b29(0x4f8)](_0x5f0b29(0x33d));_0x1f200b[_0x5f0b29(0x1ae)]=_0x5f0b29(0x44c)+_0x43eab6+_0x5f0b29(0x1d2),document[_0x5f0b29(0x4f8)](_0x5f0b29(0x600))[_0x5f0b29(0x29d)](_0x5f0b29(0x572),()=>copyTextToClipboard(_0x43eab6,'คัดลอกรหัสแล้ว!')),document[_0x5f0b29(0x4f8)]('start-live-race-generated-btn')[_0x5f0b29(0x29d)](_0x5f0b29(0x572),()=>handleStartLiveRace(_0x43eab6)),document[_0x5f0b29(0x4f8)](_0x5f0b29(0x699))[_0x5f0b29(0x29d)]('click',()=>startPresentation(currentQuizData)),document[_0x5f0b29(0x4f8)](_0x5f0b29(0x334))[_0x5f0b29(0x29d)](_0x5f0b29(0x572),startAdminTest),showMessage(_0x5f0b29(0x6c1));}catch(_0x514027){console[_0x5f0b29(0x1f8)](_0x5f0b29(0x729),_0x514027),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x5238e4[_0x5f0b29(0x3a5)]=![],_0x5238e4[_0x5f0b29(0x1ae)]=_0x5f0b29(0x3b1);}}function promptForProjectAndSave(){const _0x5185e7=_0xcf56c0,_0x2d4d00=document[_0x5185e7(0x4f8)]('move-quiz-modal'),_0x5af13a=document[_0x5185e7(0x4f8)](_0x5185e7(0x1e4)),_0x541e96=_0x2d4d00['querySelector']('h3'),_0x27eab1=document[_0x5185e7(0x4f8)]('confirm-move-quiz-btn');_0x541e96[_0x5185e7(0x396)]=_0x5185e7(0x4ce),_0x27eab1['textContent']=_0x5185e7(0x4bd);allProjects['length']===0x0?(_0x5af13a[_0x5185e7(0x1ae)]=_0x5185e7(0x36b),_0x27eab1[_0x5185e7(0x3a5)]=!![]):(_0x5af13a[_0x5185e7(0x1ae)]=allProjects[_0x5185e7(0x44f)](_0x1dae2c=>_0x5185e7(0x6d8)+_0x1dae2c['id']+'\x22>'+_0x1dae2c[_0x5185e7(0x1de)]+'</option>')[_0x5185e7(0x5ba)](''),_0x27eab1[_0x5185e7(0x3a5)]=![]);_0x2d4d00[_0x5185e7(0x4a6)][_0x5185e7(0x52e)]('hidden');const _0x111cbe=()=>{const _0x5d6c60=_0x5185e7,_0x4821d8=_0x5af13a[_0x5d6c60(0x6dc)];_0x4821d8?(currentProjectId=_0x4821d8,_0x2d4d00[_0x5d6c60(0x4a6)]['add']('hidden'),saveQuiz(),_0x541e96[_0x5d6c60(0x396)]=_0x5d6c60(0x5bd),_0x27eab1[_0x5d6c60(0x396)]=_0x5d6c60(0x32c),_0x27eab1[_0x5d6c60(0x49f)]('click',_0x111cbe),_0x27eab1[_0x5d6c60(0x29d)](_0x5d6c60(0x572),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x27eab1['removeEventListener'](_0x5185e7(0x572),confirmMoveQuiz),_0x27eab1[_0x5185e7(0x29d)]('click',_0x111cbe);}function copyTextToClipboard(_0x4c1af0,_0x486b04){const _0x536539=_0xcf56c0,_0x2b8fd4=document['createElement']('textarea');_0x2b8fd4[_0x536539(0x6dc)]=_0x4c1af0,_0x2b8fd4[_0x536539(0x3ef)][_0x536539(0x33c)]='fixed',_0x2b8fd4[_0x536539(0x3ef)][_0x536539(0x6aa)]='0',document[_0x536539(0x4cf)][_0x536539(0x575)](_0x2b8fd4),_0x2b8fd4[_0x536539(0x639)](),_0x2b8fd4[_0x536539(0x571)]();try{const _0x4442f3=document[_0x536539(0x5b3)](_0x536539(0x356));showMessage(_0x4442f3?_0x486b04:'คัดลอกไม่สำเร็จ');}catch(_0x168282){showMessage('คัดลอกไม่สำเร็จ'),console[_0x536539(0x1f8)](_0x536539(0x370),_0x168282);}document[_0x536539(0x4cf)][_0x536539(0x276)](_0x2b8fd4);}function listenForProjectQuizzes(_0x14fdb5){const _0x2242ab=_0xcf56c0,_0x2b037c=collection(db,_0x2242ab(0x5ad)+appId+'/public/data/quizzes'),_0x523ca7=query(_0x2b037c,where(_0x2242ab(0x6f5),'==',_0x14fdb5));unsubscribeQuizzesListener=onSnapshot(_0x523ca7,async _0x194264=>{const _0x846bbd=_0x2242ab;allQuizzes=_0x194264[_0x846bbd(0x4c3)]['map'](_0x47f1f7=>({'id':_0x47f1f7['id'],..._0x47f1f7['data']()})),renderQuizzes();},_0x32147c=>{const _0x428942=_0x2242ab;console['error'](_0x428942(0x1f9),_0x32147c),document[_0x428942(0x4f8)](_0x428942(0x576))[_0x428942(0x1ae)]=_0x428942(0x518);});}async function renderQuizzes(){const _0x2e3c85=_0xcf56c0,_0x800970=document[_0x2e3c85(0x4f8)](_0x2e3c85(0x576)),_0x12a0d6=document[_0x2e3c85(0x4f8)](_0x2e3c85(0x4c4))['value'][_0x2e3c85(0x69b)]();let _0x19e90d;currentProjectId==='starred'?_0x19e90d=starredQuizzes:_0x19e90d=allQuizzes;let _0x1a4017=_0x19e90d[_0x2e3c85(0x65b)](_0x3ee464=>_0x3ee464[_0x2e3c85(0x43d)][_0x2e3c85(0x69b)]()['includes'](_0x12a0d6));_0x1a4017[_0x2e3c85(0x5d8)]((_0x369d9d,_0xd96c2b)=>new Date(_0xd96c2b['createdAt'])-new Date(_0x369d9d[_0x2e3c85(0x233)]));if(_0x1a4017[_0x2e3c85(0x424)]===0x0){_0x800970[_0x2e3c85(0x1ae)]=_0x2e3c85(0x5c7);return;}const _0xc036f5={},_0x1be7ea=_0x1a4017['map'](async _0x597dfe=>{const _0x309a59=_0x2e3c85,_0x420058=collection(db,_0x309a59(0x5ad)+appId+_0x309a59(0x552)+_0x597dfe['id']+_0x309a59(0x478)),_0x5b1d6d=await getDocs(_0x420058);_0xc036f5[_0x597dfe['id']]=_0x5b1d6d['size'];});await Promise['all'](_0x1be7ea);let _0x2bef48='';_0x1a4017[_0x2e3c85(0x542)](_0x1ed9cc=>{const _0x142915=_0x2e3c85,_0x1f8d31=_0xc036f5[_0x1ed9cc['id']]||0x0,_0x12ec44=_0x1ed9cc[_0x142915(0x454)]||_0x142915(0x5ac),_0x297157=_0x1ed9cc[_0x142915(0x666)]?.[_0x142915(0x6d1)]||_0x142915(0x6be);let _0x1648c7='',_0x321ee7='';const _0x494cb7=new Date();let _0x585610=_0x12ec44;if(_0x12ec44==='scheduled'){const _0x31582e=_0x1ed9cc[_0x142915(0x6ec)]?new Date(_0x1ed9cc[_0x142915(0x6ec)]):null,_0x1a2377=_0x1ed9cc[_0x142915(0x336)]?new Date(_0x1ed9cc[_0x142915(0x336)]):null;if(_0x1a2377&&_0x494cb7>_0x1a2377)_0x585610=_0x142915(0x513);else _0x31582e&&_0x494cb7<_0x31582e?_0x585610='scheduled_pending':_0x585610='active';}switch(_0x585610){case _0x142915(0x513):_0x1648c7='ปิดใช้งาน',_0x321ee7=_0x142915(0x72e);break;case _0x142915(0x528):_0x1648c7=_0x142915(0x6b2),_0x321ee7=_0x142915(0x2f9);break;case _0x142915(0x5ac):_0x1648c7=_0x297157!==_0x142915(0x6be)?_0x142915(0x339):_0x142915(0x6e7),_0x321ee7=_0x142915(0x3b4);break;default:_0x1648c7=_0x142915(0x3fb),_0x321ee7='text-green-700\x20bg-green-100';}let _0x3f8a7a='';const _0x4bc4e7={'day':_0x142915(0x51f),'month':'2-digit','year':'numeric','hour':_0x142915(0x51f),'minute':_0x142915(0x51f),'hour12':![]};_0x12ec44==='scheduled'&&(_0x1ed9cc['startTime']&&(_0x3f8a7a+=_0x142915(0x3f9)+new Date(_0x1ed9cc['startTime'])['toLocaleString'](_0x142915(0x615),_0x4bc4e7)+_0x142915(0x5e6)),_0x1ed9cc['endTime']&&(_0x3f8a7a+=_0x142915(0x690)+new Date(_0x1ed9cc[_0x142915(0x336)])[_0x142915(0x3a7)](_0x142915(0x615),_0x4bc4e7)+_0x142915(0x5e6))),_0x2bef48+=_0x142915(0x413)+_0x1ed9cc['id']+_0x142915(0x1f2)+_0x1ed9cc[_0x142915(0x43d)]+_0x142915(0x5e1)+_0x1ed9cc[_0x142915(0x32f)]['length']+_0x142915(0x30a)+new Date(_0x1ed9cc['createdAt'])[_0x142915(0x3a7)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x1f8d31+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f8a7a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x321ee7+'\x22>'+_0x1648c7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ed9cc['id']+_0x142915(0x31d)+_0x1ed9cc['id']+_0x142915(0x69f)+(_0x1ed9cc[_0x142915(0x597)]?_0x142915(0x46b):_0x142915(0x664))+'\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ed9cc['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ed9cc['id']+_0x142915(0x2d5)+_0x1ed9cc[_0x142915(0x43d)]+_0x142915(0x294)+_0x1ed9cc['id']+_0x142915(0x658)+_0x1ed9cc['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ed9cc['id']+_0x142915(0x27a)+_0x1ed9cc['id']+_0x142915(0x1a9)+_0x1ed9cc['id']+_0x142915(0x29a)+_0x1ed9cc['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ed9cc['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ed9cc['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ed9cc['id']+'\x22\x20data-topic=\x22'+_0x1ed9cc['topic']+_0x142915(0x5a6);}),_0x800970[_0x2e3c85(0x1ae)]=_0x2bef48,document['querySelectorAll']('.quiz-result-card')[_0x2e3c85(0x542)](_0x3fd8f6=>{const _0x5dfe77=_0x2e3c85;_0x3fd8f6[_0x5dfe77(0x29d)](_0x5dfe77(0x572),()=>{const _0x22d32d=_0x5dfe77,_0x511768=_0x3fd8f6[_0x22d32d(0x723)][_0x22d32d(0x541)];showQuizDetailView(_0x511768);});});}async function handleDuplicateQuiz(_0x1adefc){const _0x468009=_0xcf56c0;try{const _0x43ae0b=doc(db,'artifacts/'+appId+_0x468009(0x4d1),_0x1adefc),_0x4072fc=await getDoc(_0x43ae0b);if(_0x4072fc[_0x468009(0x6a7)]()){const _0xd4a35c=_0x4072fc[_0x468009(0x347)](),_0x4bd69a={..._0xd4a35c,'topic':'(คัดลอก)\x20'+_0xd4a35c['topic'],'createdAt':new Date()[_0x468009(0x689)]()};await addDoc(collection(db,_0x468009(0x5ad)+appId+_0x468009(0x4d1)),_0x4bd69a),showMessage(_0x468009(0x38d));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x239d5b){console[_0x468009(0x1f8)](_0x468009(0x3a6),_0x239d5b),showMessage(_0x468009(0x397));}}async function handleDeleteQuiz(_0x2ef469,_0x29af0e=!![]){const _0xe8f05c=_0xcf56c0;try{const _0x49efbd=writeBatch(db),_0x4a20d3=collection(db,'artifacts/'+appId+_0xe8f05c(0x552)+_0x2ef469+'/submissions'),_0x4c325d=await getDocs(_0x4a20d3);_0x4c325d[_0xe8f05c(0x542)](_0x577390=>{const _0x23285b=_0xe8f05c;_0x49efbd[_0x23285b(0x609)](doc(_0x4a20d3,_0x577390['id']));});const _0x1d0b32=doc(db,_0xe8f05c(0x5ad)+appId+_0xe8f05c(0x4d1),_0x2ef469);_0x49efbd['delete'](_0x1d0b32),await _0x49efbd[_0xe8f05c(0x1aa)](),_0x29af0e&&showMessage(_0xe8f05c(0x3bf));}catch(_0x2b01f3){console['error'](_0xe8f05c(0x669),_0x2b01f3),_0x29af0e&&showMessage(_0xe8f05c(0x2be));}}async function showQuizDetailView(_0x55c2ee){const _0x21634c=_0xcf56c0;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x21634c(0x4a7));try{const _0x341bab=doc(db,_0x21634c(0x5ad)+appId+_0x21634c(0x4d1),_0x55c2ee),_0x16f179=await getDoc(_0x341bab);if(!_0x16f179[_0x21634c(0x6a7)]()){showMessage(_0x21634c(0x607));return;}const _0xb38f1b={'id':_0x16f179['id'],..._0x16f179[_0x21634c(0x347)]()};currentQuizData=_0xb38f1b;const _0x2366fa=doc(db,'artifacts/'+appId+_0x21634c(0x4d3),_0xb38f1b[_0x21634c(0x6f5)]),_0x11ed76=await getDoc(_0x2366fa);_0x11ed76[_0x21634c(0x6a7)]()?(currentProjectData=_0x11ed76[_0x21634c(0x347)](),currentProjectId=_0xb38f1b[_0x21634c(0x6f5)]):(currentProjectData={'students':[]},currentProjectId=_0xb38f1b['projectId']);document[_0x21634c(0x4f8)](_0x21634c(0x5f5))[_0x21634c(0x396)]=_0xb38f1b[_0x21634c(0x43d)],document['getElementById'](_0x21634c(0x590))[_0x21634c(0x396)]=_0x55c2ee;const _0x2ae098=collection(db,_0x21634c(0x5ad)+appId+_0x21634c(0x4d1),_0x55c2ee,_0x21634c(0x512));unsubscribeSubmissionsListener=onSnapshot(_0x2ae098,_0x3e3876=>{const _0x5577fa=_0x21634c,_0x257dc5=_0x3e3876[_0x5577fa(0x4c3)][_0x5577fa(0x44f)](_0x167cec=>({'id':_0x167cec['id'],..._0x167cec[_0x5577fa(0x347)]()}));currentSubmissions=_0x257dc5,renderAnalytics(_0xb38f1b,_0x257dc5),renderQuizResultsTable(currentProjectData[_0x5577fa(0x22a)],_0x257dc5,_0xb38f1b),renderQuizLeaderboard(_0x257dc5,_0xb38f1b,'quiz-leaderboard-table-body');}),showView(_0x21634c(0x457));}catch(_0x1fdc58){console[_0x21634c(0x1f8)](_0x21634c(0x416),_0x1fdc58),showMessage(_0x21634c(0x5d7));}}function renderQuizResultsTable(_0x9d7a47,_0x979475,_0x286692){const _0x297b39=_0xcf56c0,_0x441150=_0x979475[_0x297b39(0x55b)]((_0x413c60,_0x29fcaf)=>{const _0x37e9b3=_0x297b39;return _0x413c60[_0x29fcaf[_0x37e9b3(0x49c)]]=_0x29fcaf,_0x413c60;},{}),_0x252ca3=document[_0x297b39(0x4f8)](_0x297b39(0x2f8));if(!_0x9d7a47||_0x9d7a47[_0x297b39(0x424)]===0x0){_0x252ca3['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x429132=_0x286692[_0x297b39(0x34b)]===!![],_0x222e3c=_0x286692['settings']?.[_0x297b39(0x72d)]??-0x1;let _0x28526f='';_0x9d7a47[_0x297b39(0x542)](_0x3c9a1a=>{const _0x1583fd=_0x297b39,_0x1ac06f=_0x441150[_0x3c9a1a];let _0x9c854e=_0x1583fd(0x40b),_0x48e14c=_0x1583fd(0x33f)+(_0x429132?_0x1583fd(0x50d):_0x1583fd(0x6a1))+'\x22>'+(_0x429132?'สอบซ่อม':_0x1583fd(0x558))+_0x1583fd(0x5af);if(_0x1ac06f){let _0x47999e;_0x429132?_0x47999e=_0x1ac06f[_0x1583fd(0x1ba)]===_0x1ac06f[_0x1583fd(0x468)]:_0x47999e=_0x222e3c!==-0x1&&_0x1ac06f[_0x1583fd(0x1ba)]>=_0x222e3c;if(_0x429132||_0x222e3c!==-0x1){const _0x5865bc=_0x47999e?_0x1583fd(0x367):'bg-red-100\x20text-red-800',_0x104eb7=_0x47999e?_0x1583fd(0x458):'ไม่ผ่าน';_0x9c854e=_0x1583fd(0x696)+_0x5865bc+'\x22>'+_0x104eb7+_0x1583fd(0x5af);}const _0x9d17c6='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x1ac06f[_0x1583fd(0x400)]?.['length']||0x1)+_0x1583fd(0x39e);_0x28526f+=_0x1583fd(0x1c0)+_0x3c9a1a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x1ac06f[_0x1583fd(0x1ba)]+_0x1583fd(0x1ad)+_0x1ac06f[_0x1583fd(0x468)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9c854e+_0x1583fd(0x684)+_0x48e14c+_0x1583fd(0x6ea)+_0x1ac06f[_0x1583fd(0x53a)]+_0x1583fd(0x1ad)+_0x1ac06f[_0x1583fd(0x468)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x1ac06f[_0x1583fd(0x2d3)]+_0x1583fd(0x6f8)+(_0x1ac06f[_0x1583fd(0x286)]||0x0)+_0x1583fd(0x391)+_0x9d17c6+_0x1583fd(0x3a4)+new Date(_0x1ac06f[_0x1583fd(0x5db)])[_0x1583fd(0x3a7)](_0x1583fd(0x615))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x29cf3e=_0x1583fd(0x430);_0x28526f+=_0x1583fd(0x1c0)+_0x3c9a1a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48e14c+_0x1583fd(0x5b4)+_0x29cf3e+_0x1583fd(0x289);}}),_0x252ca3[_0x297b39(0x1ae)]=_0x28526f;}function handleRenameQuiz(_0x481f04,_0x547a8b){const _0x2f42d4=_0xcf56c0;actionTargetId=_0x481f04,document[_0x2f42d4(0x4f8)](_0x2f42d4(0x5fd))[_0x2f42d4(0x6dc)]=_0x547a8b,renameQuizModal['classList']['remove']('hidden');}async function confirmRenameQuiz(){const _0x4df467=_0xcf56c0,_0x205d6d=document[_0x4df467(0x4f8)]('rename-quiz-input')[_0x4df467(0x6dc)][_0x4df467(0x21f)]();if(!_0x205d6d){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0xb9e27=doc(db,_0x4df467(0x5ad)+appId+_0x4df467(0x4d1),actionTargetId);try{await updateDoc(_0xb9e27,{'topic':_0x205d6d}),showMessage(_0x4df467(0x6d0)),renameQuizModal[_0x4df467(0x4a6)][_0x4df467(0x718)]('hidden'),actionTargetId=null;}catch(_0x83f43b){console['error'](_0x4df467(0x326),_0x83f43b),showMessage(_0x4df467(0x6f9));}}async function handleMoveQuiz(_0x2d5666){const _0x1b6871=_0xcf56c0;actionTargetId=_0x2d5666;const _0x1bc937=document[_0x1b6871(0x4f8)]('move-quiz-project-select');_0x1bc937[_0x1b6871(0x1ae)]=_0x1b6871(0x311),moveQuizModal['classList'][_0x1b6871(0x52e)](_0x1b6871(0x3d0));try{const _0x3fc240=collection(db,_0x1b6871(0x5ad)+appId+'/public/data/projects'),_0x1f199f=await getDocs(_0x3fc240),_0x439c37=_0x1f199f[_0x1b6871(0x4c3)][_0x1b6871(0x44f)](_0x516806=>({'id':_0x516806['id'],..._0x516806[_0x1b6871(0x347)]()})),_0x5443ac=_0x439c37[_0x1b6871(0x65b)](_0x39b806=>_0x39b806['id']!==currentProjectId);if(_0x5443ac[_0x1b6871(0x424)]===0x0){_0x1bc937[_0x1b6871(0x1ae)]=_0x1b6871(0x520),document[_0x1b6871(0x4f8)](_0x1b6871(0x3e2))[_0x1b6871(0x3a5)]=!![];return;}_0x1bc937[_0x1b6871(0x1ae)]=_0x5443ac[_0x1b6871(0x44f)](_0x50770f=>_0x1b6871(0x6d8)+_0x50770f['id']+'\x22>'+_0x50770f[_0x1b6871(0x1de)]+_0x1b6871(0x711))['join'](''),document['getElementById'](_0x1b6871(0x3e2))['disabled']=![];}catch(_0x9279cd){console[_0x1b6871(0x1f8)](_0x1b6871(0x6e6),_0x9279cd),showMessage(_0x1b6871(0x295)),moveQuizModal[_0x1b6871(0x4a6)][_0x1b6871(0x718)](_0x1b6871(0x3d0));}}async function confirmMoveQuiz(){const _0xfcf6b2=_0xcf56c0,_0x4040a1=document['getElementById'](_0xfcf6b2(0x1e4))[_0xfcf6b2(0x6dc)];if(!_0x4040a1){showMessage(_0xfcf6b2(0x5e2));return;}if(!actionTargetId)return;const _0x305769=doc(db,_0xfcf6b2(0x5ad)+appId+_0xfcf6b2(0x4d1),actionTargetId);try{await updateDoc(_0x305769,{'projectId':_0x4040a1}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0xfcf6b2(0x4a6)][_0xfcf6b2(0x718)](_0xfcf6b2(0x3d0)),actionTargetId=null;}catch(_0x22cf58){console[_0xfcf6b2(0x1f8)](_0xfcf6b2(0x49e),_0x22cf58),showMessage(_0xfcf6b2(0x1c8));}}async function handleQuizSettings(_0x351d35){const _0x12f81c=_0xcf56c0;actionTargetId=_0x351d35;const _0x4b4fa2=doc(db,_0x12f81c(0x5ad)+appId+'/public/data/quizzes',_0x351d35);try{const _0xfac10d=await getDoc(_0x4b4fa2);if(_0xfac10d['exists']()){const _0x2e5189=_0xfac10d[_0x12f81c(0x347)](),_0x99ae1a=_0x2e5189['settings']||{},_0x53524b=_0x2e5189[_0x12f81c(0x32f)][_0x12f81c(0x424)];document[_0x12f81c(0x4f8)](_0x12f81c(0x6a4))[_0x12f81c(0x6dc)]=_0x99ae1a[_0x12f81c(0x223)]||_0x12f81c(0x6be),document[_0x12f81c(0x4f8)](_0x12f81c(0x48c))[_0x12f81c(0x6dc)]=_0x99ae1a[_0x12f81c(0x1af)]||_0x12f81c(0x212),document[_0x12f81c(0x4f8)](_0x12f81c(0x6b1))[_0x12f81c(0x6dc)]=_0x99ae1a[_0x12f81c(0x6d1)]||_0x12f81c(0x6be),document[_0x12f81c(0x4f8)]('modal-timer-duration-input')[_0x12f81c(0x6dc)]=_0x99ae1a[_0x12f81c(0x71a)]||0xa,document[_0x12f81c(0x4f8)](_0x12f81c(0x5c6))[_0x12f81c(0x6dc)]=_0x99ae1a[_0x12f81c(0x72d)]||Math['floor'](_0x53524b/0x2),document[_0x12f81c(0x4f8)](_0x12f81c(0x5c6))[_0x12f81c(0x366)]=_0x53524b,document[_0x12f81c(0x4f8)](_0x12f81c(0x5dc))[_0x12f81c(0x525)]=_0x99ae1a[_0x12f81c(0x67c)]||![],document[_0x12f81c(0x4f8)](_0x12f81c(0x6b1))['dispatchEvent'](new Event(_0x12f81c(0x386))),quizSettingsModal['classList'][_0x12f81c(0x52e)](_0x12f81c(0x3d0));}else showMessage(_0x12f81c(0x607));}catch(_0x2bca55){console[_0x12f81c(0x1f8)](_0x12f81c(0x6c4),_0x2bca55),showMessage(_0x12f81c(0x6ff));}}async function confirmQuizSettings(){const _0x2d8b05=_0xcf56c0;if(!actionTargetId)return;const _0x1566b3=doc(db,_0x2d8b05(0x5ad)+appId+_0x2d8b05(0x4d1),actionTargetId),_0xf98a32={'shuffle':document[_0x2d8b05(0x4f8)]('modal-shuffle-select')[_0x2d8b05(0x6dc)],'resultsDisplay':document[_0x2d8b05(0x4f8)](_0x2d8b05(0x48c))['value'],'timerMode':document[_0x2d8b05(0x4f8)]('modal-timer-mode-select')[_0x2d8b05(0x6dc)],'timerDuration':parseInt(document[_0x2d8b05(0x4f8)]('modal-timer-duration-input')[_0x2d8b05(0x6dc)])||0xa,'passingScore':parseInt(document[_0x2d8b05(0x4f8)](_0x2d8b05(0x5c6))[_0x2d8b05(0x6dc)])||0x0,'passingScore':parseInt(document[_0x2d8b05(0x4f8)](_0x2d8b05(0x5c6))[_0x2d8b05(0x6dc)])||0x0,'isAdaptive':document[_0x2d8b05(0x4f8)]('modal-adaptive-quiz-checkbox')[_0x2d8b05(0x525)]};try{await updateDoc(_0x1566b3,{'settings':_0xf98a32}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x2d8b05(0x4a6)][_0x2d8b05(0x718)](_0x2d8b05(0x3d0)),actionTargetId=null;}catch(_0x223628){console[_0x2d8b05(0x1f8)]('Error\x20updating\x20quiz\x20settings:',_0x223628),showMessage(_0x2d8b05(0x1c7));}}async function handleQuizStatus(_0x273df0){const _0x9d8f68=_0xcf56c0;actionTargetId=_0x273df0;const _0x1ef74c=doc(db,'artifacts/'+appId+_0x9d8f68(0x4d1),_0x273df0);try{const _0x412b4c=await getDoc(_0x1ef74c);if(_0x412b4c[_0x9d8f68(0x6a7)]()){const _0x154ed6=_0x412b4c['data'](),_0x48a9cc=_0x154ed6[_0x9d8f68(0x454)]||'active',_0x449ded=document['getElementById'](_0x9d8f68(0x261)),_0x1e3f5d=document[_0x9d8f68(0x4f8)](_0x9d8f68(0x509)),_0x47295c=document[_0x9d8f68(0x4f8)](_0x9d8f68(0x3a2));let _0x326e3d=_0x9d8f68(0x6d7)+(_0x48a9cc===_0x9d8f68(0x5ac)?_0x9d8f68(0x525):'')+_0x9d8f68(0x550)+(_0x48a9cc==='inactive'?_0x9d8f68(0x525):'')+_0x9d8f68(0x3d8)+(_0x48a9cc===_0x9d8f68(0x37a)?_0x9d8f68(0x525):'')+_0x9d8f68(0x57b);_0x449ded[_0x9d8f68(0x1ae)]=_0x326e3d;const _0x346817=_0x48a9cc===_0x9d8f68(0x37a);_0x1e3f5d[_0x9d8f68(0x4a6)][_0x9d8f68(0x249)](_0x9d8f68(0x3d0),!_0x346817),_0x47295c[_0x9d8f68(0x4a6)][_0x9d8f68(0x249)](_0x9d8f68(0x3d0),!_0x346817),document[_0x9d8f68(0x4f8)](_0x9d8f68(0x5cd))[_0x9d8f68(0x6dc)]=_0x154ed6[_0x9d8f68(0x6ec)]?_0x154ed6[_0x9d8f68(0x6ec)][_0x9d8f68(0x4c8)](0x0,0x10):'',document[_0x9d8f68(0x4f8)](_0x9d8f68(0x441))[_0x9d8f68(0x6dc)]=_0x154ed6[_0x9d8f68(0x336)]?_0x154ed6[_0x9d8f68(0x336)][_0x9d8f68(0x4c8)](0x0,0x10):'',_0x449ded[_0x9d8f68(0x493)](_0x9d8f68(0x319))[_0x9d8f68(0x542)](_0xdf3981=>{const _0x1b5a54=_0x9d8f68;_0xdf3981['addEventListener'](_0x1b5a54(0x386),_0x68feac=>{const _0x489c1a=_0x1b5a54,_0x5cc741=_0x68feac[_0x489c1a(0x6df)][_0x489c1a(0x6dc)]==='schedule';_0x1e3f5d[_0x489c1a(0x4a6)]['toggle'](_0x489c1a(0x3d0),!_0x5cc741),_0x47295c[_0x489c1a(0x4a6)][_0x489c1a(0x249)]('hidden',!_0x5cc741);});}),quizStatusModal[_0x9d8f68(0x4a6)]['remove'](_0x9d8f68(0x3d0));}}catch(_0x2f9e08){console[_0x9d8f68(0x1f8)](_0x9d8f68(0x588),_0x2f9e08),showMessage(_0x9d8f68(0x204));}}async function confirmQuizStatus(){const _0x11a45a=_0xcf56c0;if(!actionTargetId)return;const _0x5bcfc4=doc(db,_0x11a45a(0x5ad)+appId+_0x11a45a(0x4d1),actionTargetId),_0x336171=document[_0x11a45a(0x480)]('input[name=\x22status-option\x22]:checked');if(!_0x336171){showMessage(_0x11a45a(0x202));return;}const _0xffbbc6=_0x336171[_0x11a45a(0x6dc)];let _0x1ae792={};if(_0xffbbc6===_0x11a45a(0x5ac)||_0xffbbc6===_0x11a45a(0x513))_0x1ae792={'status':_0xffbbc6,'startTime':null,'endTime':null};else{if(_0xffbbc6==='schedule'){const _0x12dc64=document[_0x11a45a(0x4f8)](_0x11a45a(0x5cd))[_0x11a45a(0x6dc)],_0x52da9b=document['getElementById'](_0x11a45a(0x441))[_0x11a45a(0x6dc)];if(!_0x12dc64&&!_0x52da9b){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x1ae792={'status':'scheduled','startTime':_0x12dc64?new Date(_0x12dc64)[_0x11a45a(0x689)]():null,'endTime':_0x52da9b?new Date(_0x52da9b)[_0x11a45a(0x689)]():null};}}try{await updateDoc(_0x5bcfc4,_0x1ae792),showMessage(_0x11a45a(0x72f)),quizStatusModal['classList'][_0x11a45a(0x718)]('hidden'),actionTargetId=null;}catch(_0x4c9708){console[_0x11a45a(0x1f8)](_0x11a45a(0x4e0),_0x4c9708),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x54afae){const _0x2e4029=_0xcf56c0,_0x5868ba=collection(db,'artifacts/'+appId+_0x2e4029(0x275)+_0x54afae+_0x2e4029(0x1ed));unsubscribeStudentProfilesListener=onSnapshot(_0x5868ba,_0x2e57d9=>{const _0x46d616=_0x2e4029,_0x30f47d=_0x2e57d9[_0x46d616(0x4c3)][_0x46d616(0x44f)](_0x3af3af=>_0x3af3af[_0x46d616(0x347)]());renderLeaderboard(_0x30f47d,'leaderboard-table-body');},_0x49bc80=>{const _0x2cd78c=_0x2e4029;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x49bc80),document[_0x2cd78c(0x4f8)](_0x2cd78c(0x1f3))['innerHTML']=_0x2cd78c(0x523);});}function renderLeaderboard(_0x862769,_0x2a96e5){const _0x3b5b1d=_0xcf56c0,_0x43c059=document[_0x3b5b1d(0x4f8)](_0x2a96e5);if(!_0x862769||_0x862769['length']===0x0){_0x43c059[_0x3b5b1d(0x1ae)]=_0x3b5b1d(0x2f2);return;}_0x862769[_0x3b5b1d(0x5d8)]((_0x2a7248,_0x546616)=>{const _0x51191b=_0x3b5b1d,_0x3e8494=(_0x546616[_0x51191b(0x4ba)]||0x0)-(_0x2a7248[_0x51191b(0x4ba)]||0x0);if(_0x3e8494!==0x0)return _0x3e8494;const _0x1baee4=(_0x546616['badgesCount']?.[_0x51191b(0x65c)]||0x0)-(_0x2a7248[_0x51191b(0x35d)]?.[_0x51191b(0x65c)]||0x0);if(_0x1baee4!==0x0)return _0x1baee4;const _0xa4c676=(_0x546616['badgesCount']?.['first_try_ace']||0x0)-(_0x2a7248['badgesCount']?.[_0x51191b(0x6c3)]||0x0);if(_0xa4c676!==0x0)return _0xa4c676;const _0x44eb2c=(_0x546616['badgesCount']?.[_0x51191b(0x614)]||0x0)-(_0x2a7248[_0x51191b(0x35d)]?.[_0x51191b(0x614)]||0x0);if(_0x44eb2c!==0x0)return _0x44eb2c;const _0xabe543=(_0x546616[_0x51191b(0x35d)]?.[_0x51191b(0x5f1)]||0x0)-(_0x2a7248[_0x51191b(0x35d)]?.['quick_thinker']||0x0);if(_0xabe543!==0x0)return _0xabe543;return _0x2a7248[_0x51191b(0x49c)][_0x51191b(0x695)](_0x546616['studentName'],'th');});let _0x6f6d3f='';_0x862769[_0x3b5b1d(0x542)]((_0xc0cc04,_0x16c9e6)=>{const _0x5f04a6=_0x3b5b1d,_0x2bcd28=_0x16c9e6+0x1,_0x36eb7c=_0xc0cc04['badgesCount']||{};let _0x397a7a='';const _0x2a70d2=[_0x5f04a6(0x65c),_0x5f04a6(0x614),'first_try_ace','quick_thinker'];_0x2a70d2[_0x5f04a6(0x542)](_0x28e598=>{const _0x31244a=_0x5f04a6;if(_0x36eb7c[_0x28e598]>0x0){const _0x35935d=Object[_0x31244a(0x1f5)](BADGES)[_0x31244a(0x1b7)](_0xb40558=>_0xb40558['id']===_0x28e598);_0x35935d&&(_0x28e598==='specialist'?_0x397a7a+=_0x31244a(0x591)+_0x35935d[_0x31244a(0x316)]+_0x31244a(0x562)+_0x35935d['icon']+_0x31244a(0x3ff):_0x397a7a+=_0x31244a(0x591)+_0x35935d['name']+'\x20('+_0x36eb7c[_0x28e598]+_0x31244a(0x2da)+_0x35935d[_0x31244a(0x1b1)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x36eb7c[_0x28e598]+_0x31244a(0x4b4));}}),_0x6f6d3f+=_0x5f04a6(0x26e)+_0x2bcd28+_0x5f04a6(0x726)+_0xc0cc04[_0x5f04a6(0x49c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0xc0cc04[_0x5f04a6(0x4ba)]||0x0)+_0x5f04a6(0x726)+(_0x397a7a||'-')+_0x5f04a6(0x69a);}),_0x43c059['innerHTML']=_0x6f6d3f;}function renderQuizLeaderboard(_0x5ee479,_0xa94a7b,_0x58f5a3){const _0x51cb1b=_0xcf56c0,_0x59bb90=document[_0x51cb1b(0x4f8)](_0x58f5a3),_0x4fa1ee=_0x58f5a3===_0x51cb1b(0x4a5),_0x1f13cb=_0xa94a7b[_0x51cb1b(0x32f)][_0x51cb1b(0x424)],_0x12fe9e=document[_0x51cb1b(0x4f8)](_0x58f5a3)['closest'](_0x51cb1b(0x4e4));if(_0x12fe9e&&!_0x4fa1ee){const _0x46e0e8=_0x12fe9e[_0x51cb1b(0x480)](_0x51cb1b(0x399));_0x46e0e8['innerHTML']=_0x51cb1b(0x5f2);}if(!_0x5ee479||_0x5ee479[_0x51cb1b(0x424)]===0x0){_0x59bb90['innerHTML']=_0x51cb1b(0x1c2)+(_0x4fa1ee?0x6:0x8)+_0x51cb1b(0x5d0);return;}const _0xc3cf46=[..._0x5ee479];_0xc3cf46[_0x51cb1b(0x5d8)]((_0x5a8c8f,_0x5b17b0)=>{const _0x1ee7b7=_0x51cb1b;let _0x3a3fc6,_0x318de1;switch(quizLeaderboardSortBy){case _0x1ee7b7(0x49c):_0x3a3fc6=_0x5a8c8f[_0x1ee7b7(0x49c)]||'',_0x318de1=_0x5b17b0[_0x1ee7b7(0x49c)]||'';return quizLeaderboardSortOrder===_0x1ee7b7(0x3af)?_0x3a3fc6[_0x1ee7b7(0x695)](_0x318de1,'th'):_0x318de1[_0x1ee7b7(0x695)](_0x3a3fc6,'th');case _0x1ee7b7(0x286):_0x3a3fc6=_0x5a8c8f[_0x1ee7b7(0x286)]||0x0,_0x318de1=_0x5b17b0[_0x1ee7b7(0x286)]||0x0;break;case _0x1ee7b7(0x400):_0x3a3fc6=_0x5a8c8f[_0x1ee7b7(0x400)]?.[_0x1ee7b7(0x424)]||0x1,_0x318de1=_0x5b17b0[_0x1ee7b7(0x400)]?.[_0x1ee7b7(0x424)]||0x1;break;case _0x1ee7b7(0x5db):_0x3a3fc6=new Date(_0x5a8c8f[_0x1ee7b7(0x5db)]),_0x318de1=new Date(_0x5b17b0[_0x1ee7b7(0x5db)]);break;case _0x1ee7b7(0x1ba):default:_0x3a3fc6=_0x5a8c8f[_0x1ee7b7(0x1ba)],_0x318de1=_0x5b17b0['bestScore'];break;}if(_0x3a3fc6<_0x318de1)return quizLeaderboardSortOrder===_0x1ee7b7(0x3af)?-0x1:0x1;if(_0x3a3fc6>_0x318de1)return quizLeaderboardSortOrder===_0x1ee7b7(0x3af)?0x1:-0x1;return 0x0;});const _0x1732ad=_0xa94a7b[_0x51cb1b(0x34b)]===!![],_0x403ef7=_0xa94a7b[_0x51cb1b(0x666)]?.['passingScore']??-0x1;let _0x54dd93='';_0xc3cf46[_0x51cb1b(0x542)]((_0x9545ee,_0xe7e29d)=>{const _0x4c443b=_0x51cb1b,_0x42e82f=_0xe7e29d+0x1;let _0x55e8e2=_0x4c443b(0x29f);if(_0x1732ad||_0x403ef7!==-0x1){let _0x5a6be7=_0x1732ad?_0x9545ee[_0x4c443b(0x1ba)]===_0x1f13cb:_0x9545ee[_0x4c443b(0x1ba)]>=_0x403ef7;const _0x388057=_0x5a6be7?_0x4c443b(0x367):_0x4c443b(0x5c5),_0x35b217=_0x5a6be7?_0x4c443b(0x458):_0x4c443b(0x293);_0x55e8e2=_0x4c443b(0x507)+_0x388057+'\x22>'+_0x35b217+_0x4c443b(0x5af);}const _0x2f0579=_0x9545ee['attempts'][_0x9545ee[_0x4c443b(0x400)][_0x4c443b(0x424)]-0x1],_0x353073=(_0x2f0579[_0x4c443b(0x234)]||[])[_0x4c443b(0x44f)](_0x59c1e8=>{const _0x118186=_0x4c443b,_0x1d1405=Object[_0x118186(0x1f5)](BADGES)[_0x118186(0x1b7)](_0x37aa19=>_0x37aa19['id']===_0x59c1e8);return _0x1d1405?'<span\x20title=\x22'+_0x1d1405[_0x118186(0x316)]+_0x118186(0x63a)+_0x1d1405[_0x118186(0x1b1)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x4c443b(0x5ba)]('');_0x54dd93+=_0x4c443b(0x246)+_0x42e82f+_0x4c443b(0x6d9)+_0x9545ee['studentName']+_0x4c443b(0x460)+_0x9545ee[_0x4c443b(0x1ba)]+_0x4c443b(0x1ad)+_0x1f13cb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55e8e2+_0x4c443b(0x3f1)+(_0x9545ee[_0x4c443b(0x286)]||0x0)+_0x4c443b(0x73c)+(_0x4fa1ee?'':_0x4c443b(0x4cc)+(_0x9545ee['attempts']?.[_0x4c443b(0x424)]||0x1)+_0x4c443b(0x592))+_0x4c443b(0x3b2)+(_0x4fa1ee?'':_0x4c443b(0x219)+new Date(_0x9545ee[_0x4c443b(0x5db)])[_0x4c443b(0x3a7)](_0x4c443b(0x615))+_0x4c443b(0x592))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x353073||'-')+_0x4c443b(0x2f7);}),_0x59bb90[_0x51cb1b(0x1ae)]=_0x54dd93,_0x12fe9e&&!_0x4fa1ee&&_0x12fe9e[_0x51cb1b(0x493)]('thead\x20.sortable-header')['forEach'](_0x2ca6ae=>{const _0x58c04a=_0x51cb1b,_0x17a9d8=_0x2ca6ae[_0x58c04a(0x480)](_0x58c04a(0x350));if(_0x17a9d8)_0x17a9d8['remove']();_0x2ca6ae['dataset'][_0x58c04a(0x5d8)]===quizLeaderboardSortBy&&(_0x2ca6ae[_0x58c04a(0x1ae)]+=_0x58c04a(0x6e0)+(quizLeaderboardSortOrder===_0x58c04a(0x3af)?'▲':'▼')+'</span>');});}async function handleLoadQuiz(){const _0x354862=_0xcf56c0,_0xb25f2b=document[_0x354862(0x4f8)](_0x354862(0x43e)),_0x3dd2f2=_0xb25f2b[_0x354862(0x6dc)][_0x354862(0x21f)]();if(!_0x3dd2f2){showMessage(_0x354862(0x58d));return;}loadQuizBtn[_0x354862(0x3a5)]=!![],loadQuizBtn[_0x354862(0x1ae)]=_0x354862(0x630);try{const _0x187693=doc(db,'artifacts/'+appId+_0x354862(0x4d1),_0x3dd2f2),_0x3cadcd=await getDoc(_0x187693);if(!_0x3cadcd[_0x354862(0x6a7)]()){showMessage(_0x354862(0x1b5));return;}currentQuizData={'id':_0x3cadcd['id'],..._0x3cadcd[_0x354862(0x347)]()};const _0x2b616c=currentQuizData[_0x354862(0x454)]||_0x354862(0x5ac),_0xe6dd7b=new Date();if(_0x2b616c===_0x354862(0x513)){showMessage(_0x354862(0x3a1));return;}if(_0x2b616c===_0x354862(0x37a)){const _0xd2a29d=currentQuizData[_0x354862(0x6ec)]?new Date(currentQuizData[_0x354862(0x6ec)]):null,_0x23ee3e=currentQuizData[_0x354862(0x336)]?new Date(currentQuizData[_0x354862(0x336)]):null;if(_0xd2a29d&&_0xe6dd7b<_0xd2a29d){showMessage(_0x354862(0x419)+_0xd2a29d[_0x354862(0x3a7)](_0x354862(0x615),{'hour12':![]}));return;}if(_0x23ee3e&&_0xe6dd7b>_0x23ee3e){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x3ecb32=currentQuizData['projectId'];currentProjectId=_0x3ecb32;const _0x3096f9=doc(db,_0x354862(0x5ad)+appId+_0x354862(0x4d3),_0x3ecb32),_0x5dd1a4=await getDoc(_0x3096f9);if(!_0x5dd1a4[_0x354862(0x6a7)]()){showMessage(_0x354862(0x577));return;}const _0x3561ce=_0x5dd1a4[_0x354862(0x347)]();currentStudentProjectData=_0x3561ce,displayStudentNameSelector(_0x3561ce['students'],currentQuizData[_0x354862(0x43d)]);}catch(_0x1ec4a5){console['error'](_0x354862(0x41d),_0x1ec4a5),showMessage(_0x354862(0x4b9));}finally{loadQuizBtn['disabled']=![],loadQuizBtn['innerHTML']=_0x354862(0x438);}}async function handleJoinLiveGame(){const _0x361046=_0xcf56c0,_0x3980a2=document['getElementById'](_0x361046(0x194)),_0xf53cf4=document[_0x361046(0x4f8)](_0x361046(0x6c0)),_0x2c4627=document['getElementById'](_0x361046(0x64c)),_0x4cf926=_0x3980a2[_0x361046(0x6dc)][_0x361046(0x21f)](),_0x1ee008=_0xf53cf4[_0x361046(0x6dc)][_0x361046(0x21f)]();if(!_0x4cf926||!_0x1ee008){showMessage(_0x361046(0x224));return;}_0x2c4627[_0x361046(0x3a5)]=!![],_0x2c4627[_0x361046(0x1ae)]=_0x361046(0x444);try{const _0x4cf912=collection(db,'artifacts/'+appId+_0x361046(0x27e)),_0x43ca2a=query(_0x4cf912,where(_0x361046(0x5f6),'==',_0x4cf926),where(_0x361046(0x454),'==',_0x361046(0x291))),_0x592636=await getDocs(_0x43ca2a);if(_0x592636[_0x361046(0x6b9)]){showMessage(_0x361046(0x62d));return;}const _0x323c17=_0x592636['docs'][0x0],_0x3e0907=_0x323c17[_0x361046(0x347)]();currentLiveGameId=_0x323c17['id'];const _0x46cf3a=_0x3e0907[_0x361046(0x541)],_0x19aad0=doc(db,_0x361046(0x5ad)+appId+'/public/data/quizzes',_0x46cf3a),_0x51c000=await getDoc(_0x19aad0);if(!_0x51c000['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x51c000['id'],..._0x51c000[_0x361046(0x347)]()};if(_0x3e0907['players']&&_0x3e0907[_0x361046(0x3c3)][_0x1ee008]){showMessage(_0x361046(0x55a));return;}const _0x275498={};_0x275498[_0x361046(0x3ee)+_0x1ee008]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x361046(0x5ad)+appId+_0x361046(0x27e),currentLiveGameId),_0x275498),currentStudentName=_0x1ee008,listenForLiveGameUpdates();}catch(_0x99609f){console[_0x361046(0x1f8)]('Error\x20joining\x20live\x20game:',_0x99609f),showMessage(_0x361046(0x66b));}finally{_0x2c4627[_0x361046(0x3a5)]=![],_0x2c4627['innerHTML']=_0x361046(0x582);}}function displayStudentNameSelector(_0x55054a,_0x38a413){const _0x5c3258=_0xcf56c0,_0x29c8ab=document[_0x5c3258(0x4f8)](_0x5c3258(0x236));document[_0x5c3258(0x4f8)](_0x5c3258(0x2ad))[_0x5c3258(0x396)]='แบบทดสอบ:\x20'+_0x38a413,!_0x55054a||_0x55054a[_0x5c3258(0x424)]===0x0?(_0x29c8ab['innerHTML']=_0x5c3258(0x4ac),startQuizBtn[_0x5c3258(0x3a5)]=!![]):(_0x29c8ab[_0x5c3258(0x1ae)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x55054a[_0x5c3258(0x542)](_0x39b3d8=>{const _0x11c27b=_0x5c3258,_0x5f1cb4=document[_0x11c27b(0x4c9)](_0x11c27b(0x526));_0x5f1cb4['value']=_0x39b3d8,_0x5f1cb4['textContent']=_0x39b3d8,_0x29c8ab[_0x11c27b(0x575)](_0x5f1cb4);}),startQuizBtn[_0x5c3258(0x3a5)]=![]),studentInitialView['classList'][_0x5c3258(0x718)](_0x5c3258(0x3d0)),studentNameSelectionView['classList'][_0x5c3258(0x52e)](_0x5c3258(0x3d0));}function shuffleArray(_0x302d49){const _0x34cda4=_0xcf56c0;for(let _0x47dfa9=_0x302d49[_0x34cda4(0x424)]-0x1;_0x47dfa9>0x0;_0x47dfa9--){const _0x32871e=Math[_0x34cda4(0x579)](Math[_0x34cda4(0x64e)]()*(_0x47dfa9+0x1));[_0x302d49[_0x47dfa9],_0x302d49[_0x32871e]]=[_0x302d49[_0x32871e],_0x302d49[_0x47dfa9]];}}function getShuffledQuiz(_0xa3cd25){const _0x519459=_0xcf56c0;let _0x373a9e=JSON[_0x519459(0x28e)](JSON[_0x519459(0x330)](_0xa3cd25));const _0x1cefe4=_0x373a9e[_0x519459(0x666)]?.[_0x519459(0x223)]||'none';if(_0x1cefe4===_0x519459(0x6be))return _0x373a9e;return(_0x1cefe4===_0x519459(0x3e9)||_0x1cefe4==='both')&&shuffleArray(_0x373a9e[_0x519459(0x32f)]),(_0x1cefe4==='choices_only'||_0x1cefe4===_0x519459(0x57e))&&_0x373a9e[_0x519459(0x32f)]['forEach'](_0x15d484=>{const _0xf165af=_0x519459,_0x5cf2b0=_0x15d484['questionType']||_0x373a9e[_0xf165af(0x52f)];if(_0x15d484['options']){let _0x5578f3=_0x15d484[_0xf165af(0x410)][_0xf165af(0x44f)]((_0x5c5f8b,_0x12110c)=>({'text':_0x5c5f8b,'isCorrect':_0x12110c===_0x15d484[_0xf165af(0x19d)]}));shuffleArray(_0x5578f3),_0x15d484[_0xf165af(0x410)]=_0x5578f3[_0xf165af(0x44f)](_0x20c009=>_0x20c009[_0xf165af(0x2a7)]),_0x15d484[_0xf165af(0x19d)]=_0x5578f3['findIndex'](_0x3960f2=>_0x3960f2[_0xf165af(0x50b)]);}_0x5cf2b0===_0xf165af(0x3ae)&&_0x15d484[_0xf165af(0x257)]&&shuffleArray(_0x15d484[_0xf165af(0x257)]);}),_0x373a9e;}function displayQuizForStudent(_0x3be0f3){const _0x471367=_0xcf56c0;studentQuizArea[_0x471367(0x4a6)][_0x471367(0x52e)](_0x471367(0x3d0)),currentDisplayedQuiz=getShuffledQuiz(_0x3be0f3);const _0x17c16e=currentDisplayedQuiz[_0x471367(0x666)]?.[_0x471367(0x6d1)]||_0x471367(0x6be);if(_0x17c16e===_0x471367(0x739))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x471367(0x666)][_0x471367(0x71a)]);else _0x17c16e==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x647c4d=_0xcf56c0;let _0x50eaec=_0x647c4d(0x282)+currentDisplayedQuiz[_0x647c4d(0x43d)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x647c4d(0x2e3)?_0x647c4d(0x341):'')+_0x647c4d(0x629);currentDisplayedQuiz[_0x647c4d(0x32f)][_0x647c4d(0x542)]((_0x4cfd1a,_0x2573ce)=>{const _0x525a77=_0x647c4d,_0xc270e0=_0x4cfd1a['questionType']||currentDisplayedQuiz[_0x525a77(0x52f)];_0x50eaec+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0xc270e0===_0x525a77(0x3ae)?_0x50eaec+=_0x525a77(0x5a0)+(_0x2573ce+0x1)+'.\x20'+_0x4cfd1a['stem']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x2573ce+_0x525a77(0x37b)+_0x4cfd1a['allResponses'][_0x525a77(0x44f)](_0x1ff99d=>_0x525a77(0x6d8)+_0x1ff99d+'\x22>'+_0x1ff99d+_0x525a77(0x711))[_0x525a77(0x5ba)]('')+_0x525a77(0x537):(_0x50eaec+=_0x525a77(0x25c)+(_0x2573ce+0x1)+'.\x20'+(_0x4cfd1a[_0x525a77(0x6a2)]||_0x4cfd1a[_0x525a77(0x1db)])+_0x525a77(0x5e6),_0x4cfd1a[_0x525a77(0x237)]&&(_0x50eaec+=_0x525a77(0x5ff)+_0x4cfd1a[_0x525a77(0x237)]+_0x525a77(0x406)));_0x50eaec+=_0x525a77(0x5dd);switch(_0xc270e0){case'short_answer':_0x50eaec+=_0x525a77(0x6bc)+_0x2573ce+_0x525a77(0x6c8);break;case _0x525a77(0x1be):_0x50eaec+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2573ce+_0x525a77(0x361)+_0x2573ce+_0x525a77(0x1c5)+_0x2573ce+_0x525a77(0x64f),_0x50eaec+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2573ce+_0x525a77(0x623)+_0x2573ce+_0x525a77(0x5b9)+_0x2573ce+_0x525a77(0x598);break;case'matching_item':break;case _0x525a77(0x42b):case _0x525a77(0x4ed):default:_0x50eaec+=_0x4cfd1a['options'][_0x525a77(0x44f)]((_0x12b6f4,_0x2ac918)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x2573ce+_0x525a77(0x4e9)+_0x2ac918+_0x525a77(0x514)+_0x2573ce+_0x525a77(0x59b)+_0x2ac918+_0x525a77(0x4ef)+_0x2573ce+_0x525a77(0x4e9)+_0x2ac918+'\x22>'+_0x12b6f4+'</label>\x0a\x20\x20\x20\x20</div>\x0a')['join']('');break;}_0x50eaec+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x50eaec+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x50eaec+='</form>',studentQuizArea[_0x647c4d(0x1ae)]=_0x50eaec;if(currentMode==='admin-testing'){const _0x515dbf=document[_0x647c4d(0x4f8)](_0x647c4d(0x6af));if(_0x515dbf)_0x515dbf['addEventListener'](_0x647c4d(0x572),cancelAdminTest);}document['getElementById'](_0x647c4d(0x3e8))[_0x647c4d(0x29d)]('submit',handleSubmitQuiz);if(window['MathJax'])window['MathJax'][_0x647c4d(0x2f6)]([studentQuizArea]);}async function handleSubmitQuiz(_0xd8e532){const _0x48eacd=_0xcf56c0;if(_0xd8e532)_0xd8e532[_0x48eacd(0x2d7)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x42ffbe=document[_0x48eacd(0x4f8)](_0x48eacd(0x3e8));if(!_0x42ffbe)return;const _0x13d121=_0x42ffbe[_0x48eacd(0x480)](_0x48eacd(0x349)),_0x379ee4=currentDisplayedQuiz[_0x48eacd(0x32f)][_0x48eacd(0x18e)](_0x1445d2=>_0x1445d2[_0x48eacd(0x305)]==='short_answer');_0x13d121&&(_0x13d121['disabled']=!![],_0x379ee4?_0x13d121[_0x48eacd(0x1ae)]=_0x48eacd(0x348):_0x13d121[_0x48eacd(0x1ae)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x18ef89=new FormData(_0x42ffbe),_0x2604a8=currentDisplayedQuiz[_0x48eacd(0x32f)][_0x48eacd(0x44f)]((_0x426f12,_0x59d32f)=>{const _0x5e050d=_0x48eacd,_0x226552=_0x426f12[_0x5e050d(0x305)]||currentDisplayedQuiz[_0x5e050d(0x52f)],_0x31d297=_0x18ef89['get']('question'+_0x59d32f);if(_0x31d297!==null&&_0x31d297!==undefined){if(_0x226552===_0x5e050d(0x4ed)||_0x226552===_0x5e050d(0x42b))return parseInt(_0x31d297);return _0x31d297;}return null;}),_0x5ab9dd=currentQuizData['id'],_0x11a171=doc(db,_0x48eacd(0x5ad)+appId+'/public/data/quizzes/'+_0x5ab9dd+'/submissions',currentStudentName),_0x258ffe=await getDoc(_0x11a171),_0x175e53=_0x258ffe[_0x48eacd(0x6a7)]()?_0x258ffe[_0x48eacd(0x347)]():{},_0x203150=_0x175e53[_0x48eacd(0x400)]||[];await processAndSubmitAnswers(_0x2604a8,_0x203150);}async function gradeShortAnswerWithAI(_0x4a4fa1,_0x14ae14){const _0xeaa312=_0xcf56c0;if(!_0x4a4fa1||!_0x14ae14)return![];try{const _0x2ca999=_0xeaa312(0x240)+_0x4a4fa1+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x14ae14+_0xeaa312(0x429),_0x576a7b={'contents':[{'role':_0xeaa312(0x38c),'parts':[{'text':_0x2ca999}]}]},_0x418ad4='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x5d0354=_0xeaa312(0x5e0)+_0x418ad4,_0x8e8c70=await fetch(_0x5d0354,{'method':_0xeaa312(0x405),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x576a7b)});if(!_0x8e8c70['ok'])throw new Error(_0xeaa312(0x214));const _0x4d8898=await _0x8e8c70[_0xeaa312(0x69c)](),_0x53fa6a=_0x4d8898[_0xeaa312(0x436)][0x0][_0xeaa312(0x247)][_0xeaa312(0x3cc)][0x0][_0xeaa312(0x2a7)]['trim']()[_0xeaa312(0x69b)]();return _0x53fa6a==='true';}catch(_0x25d6b6){return console['error'](_0xeaa312(0x262),_0x25d6b6),![];}}async function processAndSubmitAnswers(_0x9a66c8,_0x2dad42){const _0x20a557=_0xcf56c0;let _0x21de8a=0x0,_0x558c0c=0x0,_0x38d84e=[];const _0x3e36c5=[],_0x5b34d6=currentDisplayedQuiz[_0x20a557(0x32f)][_0x20a557(0x424)];let _0x30118a=0x0;const _0xba3cf7=currentDisplayedQuiz[_0x20a557(0x32f)];for(let _0x133b9d=0x0;_0x133b9d<_0xba3cf7[_0x20a557(0x424)];_0x133b9d++){const _0x5e1816=_0xba3cf7[_0x133b9d],_0x3cafb7=_0x9a66c8[_0x133b9d],_0x5113c0=_0x5e1816['questionType']||currentDisplayedQuiz[_0x20a557(0x52f)];let _0x1e2593=![];if(_0x3cafb7!==null&&_0x3cafb7!=='')switch(_0x5113c0){case _0x20a557(0x3ae):_0x1e2593=_0x3cafb7===_0x5e1816[_0x20a557(0x4de)];break;case _0x20a557(0x1be):const _0x1ad371=_0x3cafb7===!![]||_0x3cafb7==='true';_0x1e2593=_0x1ad371===_0x5e1816[_0x20a557(0x4eb)];break;case _0x20a557(0x42b):case _0x20a557(0x4ed):default:_0x1e2593=Number(_0x3cafb7)===_0x5e1816[_0x20a557(0x19d)];break;case _0x20a557(0x516):_0x1e2593=await gradeShortAnswer(_0x3cafb7,_0x5e1816);break;}_0x1e2593?(_0x21de8a++,_0x30118a++,_0x30118a===0x3&&(_0x38d84e[_0x20a557(0x704)](BADGES[_0x20a557(0x45f)]['id']),_0x30118a=0x0)):_0x30118a=0x0,_0x3e36c5[_0x20a557(0x704)]({'answer':_0x3cafb7,'isCorrect':_0x1e2593,'originalQuestionText':_0x5e1816[_0x20a557(0x736)]||_0x5e1816[_0x20a557(0x1db)]});}_0x558c0c=_0x21de8a*0xa;_0x21de8a===_0x5b34d6&&_0x5b34d6>0x0&&!currentDisplayedQuiz[_0x20a557(0x34b)]&&(_0x558c0c+=0x32,_0x38d84e[_0x20a557(0x704)](BADGES[_0x20a557(0x5a1)]['id']));const _0x35271b=currentDisplayedQuiz['settings']?.[_0x20a557(0x72d)]??Math[_0x20a557(0x579)](_0x5b34d6/0x2),_0x3aa01d=currentDisplayedQuiz[_0x20a557(0x666)]?.[_0x20a557(0x6d1)];if(_0x3aa01d==='whole_quiz'&&quizStartTime){const _0x43e18a=(new Date()-quizStartTime)/0x3e8,_0xf02982=currentDisplayedQuiz['settings'][_0x20a557(0x71a)]*0x3c;_0x21de8a>=_0x35271b&&_0x43e18a<_0xf02982/0x2&&(_0x558c0c+=0x14,_0x38d84e['push'](BADGES['QUICK_THINKER']['id']));}_0x2dad42[_0x20a557(0x424)]===0x0&&_0x21de8a===_0x5b34d6&&_0x5b34d6>0x0&&_0x38d84e[_0x20a557(0x704)](BADGES['FIRST_TRY_ACE']['id']);if(_0x2dad42[_0x20a557(0x424)]>0x0){const _0x2be6af=_0x2dad42[0x0]['score'];if(_0x2be6af<_0x35271b&&_0x21de8a>=_0x35271b){const _0x35aeb9=_0x2dad42[_0x20a557(0x18e)](_0x1cb1e8=>(_0x1cb1e8[_0x20a557(0x234)]||[])[_0x20a557(0x340)](BADGES['COMEBACK_KING']['id']));!_0x35aeb9&&_0x38d84e['push'](BADGES[_0x20a557(0x534)]['id']);}}_0x2dad42[_0x20a557(0x424)]===0x4&&_0x38d84e[_0x20a557(0x704)](BADGES['PERSEVERANCE']['id']);const _0x532f7c=currentDisplayedQuiz[_0x20a557(0x666)]['resultsDisplay'];if(currentMode===_0x20a557(0x2e3)){handleResultDisplay(_0x532f7c,_0x21de8a,_0x558c0c,_0x38d84e,_0x3e36c5,_0x5b34d6);return;}const _0x209fe7=currentQuizData['id'],_0x1b50f6=doc(db,_0x20a557(0x5ad)+appId+_0x20a557(0x552)+_0x209fe7+_0x20a557(0x478),currentStudentName);try{const _0x2e06a6=[..._0x2dad42],_0x9b1d4f={'score':_0x21de8a,'points':_0x558c0c,'badges':_0x38d84e,'submittedAt':new Date()[_0x20a557(0x689)](),'answers':_0x3e36c5};_0x2e06a6['push'](_0x9b1d4f);const _0x17df41=_0x2e06a6[0x0]['score'],_0xdd9998=Math[_0x20a557(0x366)](..._0x2e06a6['map'](_0x1d806e=>_0x1d806e[_0x20a557(0x2db)])),_0x459570=_0x21de8a,_0x5515a7=_0x9b1d4f[_0x20a557(0x3b3)];await setDoc(_0x1b50f6,{'studentName':currentStudentName,'totalQuestions':_0x5b34d6,'attempts':_0x2e06a6,'firstScore':_0x17df41,'bestScore':_0xdd9998,'latestScore':_0x459570,'points':_0x558c0c,'latestSubmittedAt':_0x5515a7}),await updateStudentProfile(currentQuizData[_0x20a557(0x6f5)],currentStudentName),handleResultDisplay(_0x532f7c,_0x21de8a,_0x558c0c,_0x38d84e,_0x3e36c5,_0x5b34d6);}catch(_0x3db8b2){console[_0x20a557(0x1f8)]('Error\x20saving\x20submission:',_0x3db8b2),showMessage(_0x20a557(0x60d));}}async function updateStudentProfile(_0x5afd0e,_0x101be8){const _0x51acf2=_0xcf56c0,_0x5d5aff=doc(db,_0x51acf2(0x5ad)+appId+'/public/data/projects/'+_0x5afd0e+'/studentProfiles',_0x101be8);try{const _0x2bdd56=query(collection(db,_0x51acf2(0x5ad)+appId+_0x51acf2(0x4d1)),where(_0x51acf2(0x6f5),'==',_0x5afd0e)),_0x34a3ff=await getDocs(_0x2bdd56),_0x3cbef8=new Map(_0x34a3ff[_0x51acf2(0x4c3)]['map'](_0x57c8e6=>[_0x57c8e6['id'],_0x57c8e6[_0x51acf2(0x347)]()])),_0x3118e5=Array['from'](_0x3cbef8['keys']());await runTransaction(db,async _0xfd3bd=>{const _0x52af84=_0x51acf2;let _0x55bb92=0x0;const _0x1c23cc={};let _0xd3fb1e=!![],_0x3ce6f7=0x0,_0x16f040=0x0;for(const _0x1d3d2f of _0x3118e5){const _0x51b13e=_0x3cbef8[_0x52af84(0x71f)](_0x1d3d2f),_0xec3583=doc(db,_0x52af84(0x5ad)+appId+'/public/data/quizzes/'+_0x1d3d2f+'/submissions',_0x101be8),_0xcee651=await _0xfd3bd[_0x52af84(0x71f)](_0xec3583);if(_0xcee651[_0x52af84(0x6a7)]()){const _0x431e8e=_0xcee651[_0x52af84(0x347)](),_0x201d4e=_0x431e8e[_0x52af84(0x400)]||[];if(_0x201d4e[_0x52af84(0x424)]>0x0){const _0x322f4d=_0x201d4e[_0x52af84(0x55b)]((_0x12602d,_0x12db97)=>{const _0x26e13a=_0x52af84;if(_0x12db97[_0x26e13a(0x2db)]>_0x12602d['score'])return _0x12db97;if(_0x12db97[_0x26e13a(0x2db)]===_0x12602d['score'])return(_0x12db97[_0x26e13a(0x286)]||0x0)>(_0x12602d['points']||0x0)?_0x12db97:_0x12602d;return _0x12602d;},{'score':-0x1,'points':-0x1});_0x322f4d[_0x52af84(0x2db)]>-0x1&&(_0x55bb92+=_0x322f4d[_0x52af84(0x286)]||0x0,(_0x322f4d[_0x52af84(0x234)]||[])[_0x52af84(0x542)](_0x48f6ea=>{_0x1c23cc[_0x48f6ea]=(_0x1c23cc[_0x48f6ea]||0x0)+0x1;}));}}if(_0x51b13e[_0x52af84(0x43d)]!==_0x52af84(0x4ff)){_0x16f040++;if(_0xcee651['exists']()){_0x3ce6f7++;const _0x4878e9=_0xcee651[_0x52af84(0x347)]();_0x4878e9[_0x52af84(0x1ba)]!==_0x4878e9[_0x52af84(0x468)]&&(_0xd3fb1e=![]);}else _0xd3fb1e=![];}}_0x16f040>0x0&&_0x3ce6f7===_0x16f040&&_0xd3fb1e?_0x1c23cc[_0x52af84(0x65c)]=0x1:_0x1c23cc[_0x52af84(0x65c)]=0x0,_0xfd3bd[_0x52af84(0x1bb)](_0x5d5aff,{'studentName':_0x101be8,'totalPoints':_0x55bb92,'unlockedBadges':Object[_0x52af84(0x1b3)](_0x1c23cc)[_0x52af84(0x65b)](_0xf9fae4=>_0x1c23cc[_0xf9fae4]>0x0),'badgesCount':_0x1c23cc},{'merge':!![]});});}catch(_0x2b8c77){console[_0x51acf2(0x1f8)](_0x51acf2(0x40c),_0x2b8c77),showMessage(_0x51acf2(0x308));}}function startAdminTest(){const _0x4e7ad0=_0xcf56c0;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x547e00=JSON['parse'](JSON[_0x4e7ad0(0x330)](currentQuizData));currentMode=_0x4e7ad0(0x2e3),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x4e7ad0(0x4a6)][_0x4e7ad0(0x718)]('hidden'),studentView[_0x4e7ad0(0x4a6)][_0x4e7ad0(0x52e)](_0x4e7ad0(0x3d0)),studentInitialView[_0x4e7ad0(0x4a6)]['add']('hidden'),studentNameSelectionView['classList']['add'](_0x4e7ad0(0x3d0)),studentResultArea[_0x4e7ad0(0x4a6)]['add'](_0x4e7ad0(0x3d0)),studentQuizArea[_0x4e7ad0(0x4a6)][_0x4e7ad0(0x52e)](_0x4e7ad0(0x3d0)),quizStartTime=new Date(),displayQuizForStudent(_0x547e00);}function handleResultDisplay(_0x18793b,_0x348982,_0x32fdf7,_0x1e74d4,_0x26a12c,_0x1eca9b){const _0x563d74=_0xcf56c0,_0x860d19=currentDisplayedQuiz['settings']?.[_0x563d74(0x72d)]??Math[_0x563d74(0x579)](_0x1eca9b/0x2),_0x3a16f8=currentDisplayedQuiz[_0x563d74(0x666)]?.['isAdaptive']??![];if(_0x3a16f8&&_0x348982<_0x860d19){startAdaptiveFlow(_0x26a12c,_0x348982,_0x1eca9b);return;}switch(_0x18793b){case _0x563d74(0x212):displayResultsWithAnswers(_0x348982,_0x32fdf7,_0x1e74d4,_0x26a12c,_0x1eca9b);break;case'show_results_only':displayResultsScoreOnly(_0x348982,_0x32fdf7,_0x1e74d4,_0x1eca9b);break;case _0x563d74(0x2e2):displayPassFailOnly(_0x348982,_0x1eca9b);break;case _0x563d74(0x2d9):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x29180b,_0x57b139,_0x21e827){const _0xb01056=_0xcf56c0,_0x498606=_0x29180b[_0xb01056(0x44f)]((_0x4a96a6,_0x537e4c)=>({..._0x4a96a6,'originalQuestion':currentDisplayedQuiz[_0xb01056(0x32f)][_0x537e4c]}))['filter'](_0x334b09=>!_0x334b09[_0xb01056(0x50b)]&&_0x334b09[_0xb01056(0x486)][_0xb01056(0x4c6)])[_0xb01056(0x44f)](_0x32dc56=>'-\x20'+_0x32dc56[_0xb01056(0x486)][_0xb01056(0x4c6)])[_0xb01056(0x5ba)]('\x0a');if(!_0x498606){displayResultsScoreOnly(_0x57b139,0x0,[],_0x21e827);return;}studentQuizArea[_0xb01056(0x4a6)][_0xb01056(0x718)](_0xb01056(0x3d0)),studentReadingArea[_0xb01056(0x4a6)][_0xb01056(0x52e)]('hidden'),studentReadingArea[_0xb01056(0x1ae)]=_0xb01056(0x417);const _0x397559=_0xb01056(0x2e8)+currentDisplayedQuiz['topic']+_0xb01056(0x631)+_0x498606+_0xb01056(0x580),_0xef310d={'type':_0xb01056(0x265),'properties':{'remedialContent':{'type':_0xb01056(0x687)}},'required':[_0xb01056(0x72a)]};try{const _0x1e64fe=await callAnalysisApi(_0x397559,_0xef310d),_0x176c5b=_0x1e64fe[_0xb01056(0x72a)];studentReadingArea[_0xb01056(0x1ae)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>'+_0x176c5b['replace'](/\n/g,'<br>')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0xb01056(0x4f8)](_0xb01056(0x36e))['addEventListener'](_0xb01056(0x572),()=>generateRemedialQuiz(_0x498606));}catch(_0xeb83c2){console[_0xb01056(0x1f8)]('Adaptive\x20flow\x20failed:',_0xeb83c2),showMessage(_0xb01056(0x685)),displayResultsScoreOnly(_0x57b139,0x0,[],_0x21e827);}}async function generateRemedialQuiz(_0x1eb178){const _0x42b177=_0xcf56c0;studentReadingArea[_0x42b177(0x1ae)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x224e72=_0x42b177(0x2b2)+_0x1eb178+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x42b177(0x53f),_0x2a6595={'type':_0x42b177(0x265),'properties':{'questionText':{'type':_0x42b177(0x687)},'options':{'type':_0x42b177(0x3c6),'items':{'type':_0x42b177(0x687)}},'correctAnswerIndex':{'type':_0x42b177(0x3dc)},'explanation':{'type':_0x42b177(0x687)}},'required':[_0x42b177(0x1db),'options',_0x42b177(0x19d),_0x42b177(0x4c6)]},_0x597d9c={'type':'OBJECT','properties':{'topic':{'type':_0x42b177(0x687)},'questions':{'type':_0x42b177(0x3c6),'items':_0x2a6595}},'required':['topic',_0x42b177(0x32f)]};try{const _0x45cb64=await callAnalysisApi(_0x224e72,_0x597d9c);_0x45cb64[_0x42b177(0x34b)]=!![],studentReadingArea['classList']['add']('hidden');const _0x481737={...currentDisplayedQuiz[_0x42b177(0x666)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x45cb64[_0x42b177(0x666)]=_0x481737,displayQuizForStudent(_0x45cb64);}catch(_0x586cd4){console[_0x42b177(0x1f8)](_0x42b177(0x196),_0x586cd4),showMessage(_0x42b177(0x199)),showView(_0x42b177(0x4f9));}}function displayPassFailOnly(_0x497051,_0x1ba523){const _0x5b9e44=_0xcf56c0,_0x6377bf=currentDisplayedQuiz[_0x5b9e44(0x666)]?.[_0x5b9e44(0x72d)]??-0x1,_0x39f35f=currentDisplayedQuiz[_0x5b9e44(0x34b)]===!![];let _0x4937d1='';if(_0x39f35f||_0x6377bf!==-0x1){let _0x2900b5;_0x39f35f?_0x2900b5=_0x497051===_0x1ba523:_0x2900b5=_0x497051>=_0x6377bf;const _0x21f734=_0x2900b5?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x327f85=_0x2900b5?_0x5b9e44(0x458):_0x5b9e44(0x293);_0x4937d1='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x21f734+'\x22>'+_0x327f85+_0x5b9e44(0x36a);}else _0x4937d1=_0x5b9e44(0x1e9);let _0x7ebedc=_0x5b9e44(0x216)+currentStudentName+_0x5b9e44(0x53e)+_0x4937d1+_0x5b9e44(0x647);studentResultArea[_0x5b9e44(0x1ae)]=_0x7ebedc,studentResultArea[_0x5b9e44(0x4a6)][_0x5b9e44(0x52e)](_0x5b9e44(0x3d0)),studentQuizArea[_0x5b9e44(0x4a6)]['add'](_0x5b9e44(0x3d0));const _0x2a2226='back-from-results-btn',_0x2b9a5b=currentMode===_0x5b9e44(0x2e3),_0x11bee8=_0x2b9a5b?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':_0x5b9e44(0x5b5),_0x135a90=_0x5b9e44(0x407)+_0x2a2226+_0x5b9e44(0x59e)+_0x11bee8+_0x5b9e44(0x365);studentResultArea[_0x5b9e44(0x2d0)](_0x5b9e44(0x51b),_0x135a90),document[_0x5b9e44(0x4f8)](_0x2a2226)[_0x5b9e44(0x29d)](_0x5b9e44(0x572),()=>{const _0x32da2c=_0x5b9e44;_0x2b9a5b?(currentMode=_0x32da2c(0x250),studentView['classList'][_0x32da2c(0x718)](_0x32da2c(0x3d0)),adminView[_0x32da2c(0x4a6)][_0x32da2c(0x52e)](_0x32da2c(0x3d0)),showView('project-detail')):(showView(_0x32da2c(0x4f9)),document[_0x32da2c(0x4f8)](_0x32da2c(0x43e))['value']='');});}function cancelAdminTest(){const _0x5b1e0d=_0xcf56c0;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x5b1e0d(0x250),studentView['classList'][_0x5b1e0d(0x718)](_0x5b1e0d(0x3d0)),adminView[_0x5b1e0d(0x4a6)][_0x5b1e0d(0x52e)](_0x5b1e0d(0x3d0)),showView('project-detail');}function setupResultScreenBackButton(){const _0x348296=_0xcf56c0,_0x12de01='back-from-results-btn',_0x178295=currentMode===_0x348296(0x2e3),_0x28e20f=_0x178295?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':_0x348296(0x5b5),_0x16cb5c=_0x348296(0x324)+_0x12de01+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28e20f+_0x348296(0x67f);studentResultArea[_0x348296(0x2d0)]('beforeend',_0x16cb5c),studentResultArea[_0x348296(0x480)](_0x348296(0x2f1))[_0x348296(0x29d)](_0x348296(0x572),handleShowStudentRankings),document[_0x348296(0x4f8)](_0x12de01)['addEventListener'](_0x348296(0x572),()=>{const _0x43a23f=_0x348296;_0x178295?(currentMode='admin',studentView['classList'][_0x43a23f(0x718)](_0x43a23f(0x3d0)),adminView[_0x43a23f(0x4a6)][_0x43a23f(0x52e)]('hidden'),showView(_0x43a23f(0x440))):(showView('student'),document['getElementById'](_0x43a23f(0x43e))[_0x43a23f(0x6dc)]='');});}function displayResultsWithAnswers(_0x223e30,_0x5b93bd,_0x1c249f,_0x3ce966,_0x5f0584){const _0x1c6dd4=_0xcf56c0,_0x28d641=_0x5f0584>0x0?_0x223e30/_0x5f0584*0x64:0x0,_0x3b2c3a=currentDisplayedQuiz['settings']?.[_0x1c6dd4(0x72d)]??-0x1,_0x2fa49c=currentDisplayedQuiz[_0x1c6dd4(0x34b)]===!![];let _0x5a243d='';if(_0x2fa49c||_0x3b2c3a!==-0x1){let _0x25a986=_0x2fa49c?_0x223e30===_0x5f0584:_0x223e30>=_0x3b2c3a;const _0x14130f=_0x25a986?_0x1c6dd4(0x367):_0x1c6dd4(0x5c5),_0x520682=_0x25a986?_0x1c6dd4(0x458):_0x1c6dd4(0x293);_0x5a243d=_0x1c6dd4(0x19e)+_0x14130f+'\x22>'+_0x520682+_0x1c6dd4(0x5e6);}let _0x303702=_0x1c6dd4(0x34a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x223e30+_0x1c6dd4(0x1b6)+_0x5f0584+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a243d+_0x1c6dd4(0x2c0)+_0x5b93bd+_0x1c6dd4(0x432)+_0x28d641['toFixed'](0x0)+_0x1c6dd4(0x277);currentDisplayedQuiz[_0x1c6dd4(0x32f)]['forEach']((_0x1dfe7e,_0x222b2d)=>{const _0x2f4868=_0x1c6dd4,_0x2769a4=_0x3ce966[_0x222b2d],_0x42bce1=_0x2769a4['answer'],_0x364cad=_0x2769a4[_0x2f4868(0x50b)],_0x3c18cf=_0x1dfe7e[_0x2f4868(0x305)]||currentDisplayedQuiz[_0x2f4868(0x52f)];_0x303702+=_0x2f4868(0x1e1)+(_0x364cad?_0x2f4868(0x69e):_0x2f4868(0x1ff))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x222b2d+0x1)+'.\x20'+(_0x1dfe7e[_0x2f4868(0x736)]||_0x1dfe7e[_0x2f4868(0x1db)])+_0x2f4868(0x3b5);switch(_0x3c18cf){case _0x2f4868(0x3ae):const _0x1723b3=_0x42bce1||_0x2f4868(0x53d),_0x20c128=_0x1dfe7e[_0x2f4868(0x4de)];_0x303702+=_0x2f4868(0x70b)+(!_0x364cad?_0x2f4868(0x596):'')+'\x22>'+_0x1723b3+_0x2f4868(0x484);!_0x364cad&&(_0x303702+=_0x2f4868(0x2a9)+_0x20c128+_0x2f4868(0x5e6));break;case'short_answer':_0x303702+=_0x2f4868(0x260)+(_0x42bce1||'ไม่ได้ตอบ')+'</p>',_0x303702+=_0x2f4868(0x574)+_0x1dfe7e[_0x2f4868(0x4b7)]+_0x2f4868(0x5e6);break;case'true_false':_0x303702+='<p\x20class=\x22'+(_0x1dfe7e['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x42bce1==='true'&&!_0x364cad?_0x2f4868(0x596):'')+_0x2f4868(0x4f7),_0x303702+=_0x2f4868(0x241)+(_0x1dfe7e[_0x2f4868(0x4eb)]===![]?_0x2f4868(0x650):'')+'\x20'+(_0x42bce1===_0x2f4868(0x68f)&&!_0x364cad?_0x2f4868(0x596):'')+_0x2f4868(0x6fb);break;case _0x2f4868(0x42b):case'multiple_choice':default:_0x303702+=_0x1dfe7e['options'][_0x2f4868(0x44f)]((_0x2964b4,_0x595f08)=>{const _0x262ad0=_0x2f4868;let _0x534c33='',_0x319bfe='';if(_0x595f08===_0x1dfe7e[_0x262ad0(0x19d)])_0x534c33='font-bold\x20text-green-700',_0x319bfe=_0x262ad0(0x54f);else _0x595f08===_0x42bce1&&(_0x534c33=_0x262ad0(0x56f),_0x319bfe=_0x262ad0(0x734));return _0x262ad0(0x62f)+_0x534c33+'\x22>'+_0x319bfe+_0x2964b4+_0x262ad0(0x406);})[_0x2f4868(0x5ba)]('');break;}_0x303702+=_0x2f4868(0x67b)+(_0x1dfe7e['explanation']||_0x2f4868(0x273))+_0x2f4868(0x49d);}),studentResultArea[_0x1c6dd4(0x1ae)]=_0x303702,renderEarnedBadges(_0x1c249f,_0x1c6dd4(0x39c)),studentResultArea['classList'][_0x1c6dd4(0x52e)]('hidden'),studentQuizArea['classList']['add'](_0x1c6dd4(0x3d0)),setupResultScreenBackButton();if(window[_0x1c6dd4(0x335)])window[_0x1c6dd4(0x335)][_0x1c6dd4(0x2f6)]([studentResultArea]);}function displayResultsScoreOnly(_0x3ee5de,_0x3a2b66,_0x3be5e5,_0x585b50){const _0x171055=_0xcf56c0,_0x5ca89f=_0x585b50>0x0?_0x3ee5de/_0x585b50*0x64:0x0,_0x141662=currentDisplayedQuiz[_0x171055(0x666)]?.['passingScore']??-0x1,_0x37f469=currentDisplayedQuiz[_0x171055(0x34b)]===!![];let _0x2fa361='';if(_0x37f469||_0x141662!==-0x1){let _0x29b011;_0x37f469?_0x29b011=_0x3ee5de===_0x585b50:_0x29b011=_0x3ee5de>=_0x141662;const _0x590858=_0x29b011?_0x171055(0x367):_0x171055(0x5c5),_0x7abbee=_0x29b011?'ผ่าน':_0x171055(0x293);_0x2fa361=_0x171055(0x19e)+_0x590858+'\x22>'+_0x7abbee+_0x171055(0x5e6);}let _0x1f584b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x171055(0x46f)+_0x3ee5de+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x585b50+_0x171055(0x1ef)+_0x2fa361+_0x171055(0x2c0)+_0x3a2b66+_0x171055(0x61a)+_0x5ca89f[_0x171055(0x271)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x171055(0x1ae)]=_0x1f584b,renderEarnedBadges(_0x3be5e5,_0x171055(0x39c)),studentResultArea[_0x171055(0x4a6)][_0x171055(0x52e)](_0x171055(0x3d0)),studentQuizArea[_0x171055(0x4a6)][_0x171055(0x718)](_0x171055(0x3d0)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x44c556=_0xcf56c0;let _0x1ee611='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x44c556(0x464);studentResultArea[_0x44c556(0x1ae)]=_0x1ee611,studentResultArea[_0x44c556(0x4a6)]['remove'](_0x44c556(0x3d0)),studentQuizArea[_0x44c556(0x4a6)]['add'](_0x44c556(0x3d0)),document['getElementById'](_0x44c556(0x5de))[_0x44c556(0x29d)](_0x44c556(0x572),()=>{const _0x207fcf=_0x44c556;showView(_0x207fcf(0x4f9)),document[_0x207fcf(0x4f8)](_0x207fcf(0x43e))[_0x207fcf(0x6dc)]='';});}function renderEarnedBadges(_0x470a18,_0x1df424){const _0x29ad00=_0xcf56c0,_0x5c3803=document['getElementById'](_0x1df424);if(!_0x5c3803||!_0x470a18||_0x470a18[_0x29ad00(0x424)]===0x0)return;let _0x35dccc='';_0x470a18[_0x29ad00(0x542)]((_0x375d88,_0x18182d)=>{const _0x550dac=_0x29ad00,_0x21b3c3=Object['values'](BADGES)[_0x550dac(0x1b7)](_0x4056c9=>_0x4056c9['id']===_0x375d88);_0x21b3c3&&(_0x35dccc+=_0x550dac(0x625)+_0x18182d*0.2+'s;\x22\x20title=\x22'+_0x21b3c3[_0x550dac(0x2cd)]+_0x550dac(0x3ba)+_0x21b3c3[_0x550dac(0x1b1)]+_0x550dac(0x6ac)+_0x21b3c3[_0x550dac(0x316)]+_0x550dac(0x2e7));}),_0x5c3803[_0x29ad00(0x1ae)]=_0x35dccc;}function startPresentation(_0x1d0b12){const _0x3e526e=_0xcf56c0;currentQuizData=getShuffledQuiz(_0x1d0b12),currentPresentationSlide=0x0,presentationModal[_0x3e526e(0x3ef)][_0x3e526e(0x22b)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1bae05=_0xcf56c0;document[_0x1bae05(0x207)]&&document[_0x1bae05(0x51e)](),presentationModal[_0x1bae05(0x3ef)][_0x1bae05(0x22b)]=_0x1bae05(0x6be);}function renderPresentationSlide(_0x2a480b){const _0x39b27b=_0xcf56c0,_0x578d4a=document[_0x39b27b(0x4f8)](_0x39b27b(0x581));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x39b27b(0x32f)][_0x2a480b]){_0x578d4a[_0x39b27b(0x1ae)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x32b93a=currentQuizData[_0x39b27b(0x32f)][_0x2a480b],_0x2d3031=_0x32b93a['questionType']||currentQuizData[_0x39b27b(0x52f)];_0x578d4a[_0x39b27b(0x1ae)]='';let _0x57ccf0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x32b93a['imageCode']?_0x39b27b(0x5ff)+_0x32b93a['imageCode']+'</div>':'')+_0x39b27b(0x6c9)+(_0x2a480b+0x1)+'.\x20'+(_0x32b93a['stem']||_0x32b93a[_0x39b27b(0x1db)])+_0x39b27b(0x380);switch(_0x2d3031){case _0x39b27b(0x3ae):_0x57ccf0+=_0x32b93a[_0x39b27b(0x257)][_0x39b27b(0x44f)](_0x2a0f24=>_0x39b27b(0x362)+_0x2a0f24+_0x39b27b(0x1f1))['join']('');break;case _0x39b27b(0x1be):_0x57ccf0+=_0x39b27b(0x280),_0x57ccf0+=_0x39b27b(0x1df);break;case'fill_in_no_choices':case _0x39b27b(0x516):_0x57ccf0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x39b27b(0x42b):case'multiple_choice':default:_0x57ccf0+=_0x32b93a[_0x39b27b(0x410)]['map']((_0xdccf35,_0x3b3869)=>_0x39b27b(0x228)+_0x3b3869+_0x39b27b(0x587)+_0xdccf35+_0x39b27b(0x1f1))[_0x39b27b(0x5ba)]('');break;}_0x57ccf0+=_0x39b27b(0x5e3)+(_0x32b93a[_0x39b27b(0x4c6)]||_0x39b27b(0x273))+_0x39b27b(0x4b3),_0x578d4a[_0x39b27b(0x1ae)]=_0x57ccf0;if(window[_0x39b27b(0x335)])window[_0x39b27b(0x335)][_0x39b27b(0x2f6)]([_0x578d4a]);document[_0x39b27b(0x493)](_0x39b27b(0x425))[_0x39b27b(0x542)](_0x3f8752=>{const _0x30ccdb=_0x39b27b;_0x3f8752[_0x30ccdb(0x29d)](_0x30ccdb(0x572),_0xf243a5=>revealAnswerForPresentation(_0x2a480b,_0xf243a5['currentTarget']));});const _0x5e1332=document[_0x39b27b(0x4f8)](_0x39b27b(0x5ee));_0x5e1332&&_0x5e1332['addEventListener'](_0x39b27b(0x572),()=>checkShortAnswerForPresentation(_0x2a480b)),document[_0x39b27b(0x4f8)](_0x39b27b(0x71c))[_0x39b27b(0x396)]=_0x39b27b(0x1cf)+(_0x2a480b+0x1)+_0x39b27b(0x1ad)+currentQuizData[_0x39b27b(0x32f)][_0x39b27b(0x424)],document[_0x39b27b(0x4f8)](_0x39b27b(0x677))[_0x39b27b(0x3a5)]=_0x2a480b===0x0,document[_0x39b27b(0x4f8)](_0x39b27b(0x24d))['disabled']=_0x2a480b===currentQuizData[_0x39b27b(0x32f)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x606765){const _0xd7ee82=_0xcf56c0,_0x146f61=currentQuizData['questions'][_0x606765],_0x2be815=document['getElementById'](_0xd7ee82(0x536)),_0xf86464=document[_0xd7ee82(0x4f8)]('check-presentation-answer-btn'),_0xcb7ca4=document[_0xd7ee82(0x4f8)](_0xd7ee82(0x33b)),_0x6a0595=document[_0xd7ee82(0x4f8)]('presentation-explanation');if(!_0x2be815||!_0xf86464||!_0xcb7ca4||!_0x6a0595)return;const _0x30fd0c=_0x2be815['value'][_0xd7ee82(0x21f)]();if(_0x30fd0c==='')return;_0xf86464['disabled']=!![],_0xf86464[_0xd7ee82(0x1ae)]=_0xd7ee82(0x551),_0x2be815[_0xd7ee82(0x3a5)]=!![];const _0x81a42f=await gradeShortAnswer(_0x30fd0c,_0x146f61);_0x81a42f?_0xcb7ca4[_0xd7ee82(0x1ae)]=_0xd7ee82(0x43f):_0xcb7ca4['innerHTML']=_0xd7ee82(0x30e)+_0x146f61[_0xd7ee82(0x4b7)]+')',_0xcb7ca4[_0xd7ee82(0x4a6)][_0xd7ee82(0x52e)]('hidden'),_0x6a0595[_0xd7ee82(0x4a6)][_0xd7ee82(0x52e)]('hidden'),_0xf86464[_0xd7ee82(0x4a6)][_0xd7ee82(0x718)](_0xd7ee82(0x3d0));}function revealAnswerForPresentation(_0xf68c5b,_0x1461c3){const _0x54fe2e=_0xcf56c0,_0x2c03f2=currentQuizData['questions'][_0xf68c5b],_0x690e1d=_0x2c03f2['questionType']||currentQuizData['quizType'];document[_0x54fe2e(0x493)](_0x54fe2e(0x425))[_0x54fe2e(0x542)](_0x3d1be6=>{const _0xf74002=_0x54fe2e;_0x3d1be6[_0xf74002(0x3a5)]=!![],_0x3d1be6['classList'][_0xf74002(0x52e)](_0xf74002(0x569));let _0xb1e848=![];if(_0x690e1d===_0xf74002(0x4ed)||_0x690e1d===_0xf74002(0x42b)){const _0x4b8f4a=parseInt(_0x3d1be6[_0xf74002(0x723)][_0xf74002(0x3db)]);_0xb1e848=_0x4b8f4a===_0x2c03f2[_0xf74002(0x19d)];}else{if(_0x690e1d===_0xf74002(0x1be)){const _0x1cca99=_0x3d1be6[_0xf74002(0x723)][_0xf74002(0x5b8)]==='true';_0xb1e848=_0x1cca99===_0x2c03f2['correctAnswer'];}else _0x690e1d===_0xf74002(0x3ae)&&(_0xb1e848=_0x3d1be6[_0xf74002(0x396)][_0xf74002(0x21f)]()===_0x2c03f2['correctResponse']);}_0xb1e848?_0x3d1be6['classList'][_0xf74002(0x718)](_0xf74002(0x2e5),_0xf74002(0x613),_0xf74002(0x668)):_0x3d1be6[_0xf74002(0x4a6)][_0xf74002(0x718)](_0xf74002(0x6de));}),_0x1461c3['classList'][_0x54fe2e(0x52e)]('opacity-50');let _0x2d680d=![];if(_0x690e1d===_0x54fe2e(0x4ed))_0x2d680d=parseInt(_0x1461c3[_0x54fe2e(0x723)][_0x54fe2e(0x3db)])===_0x2c03f2[_0x54fe2e(0x19d)];else{if(_0x690e1d===_0x54fe2e(0x1be))_0x2d680d=_0x1461c3['dataset']['answer']==='true'===_0x2c03f2[_0x54fe2e(0x4eb)];else _0x690e1d==='matching_item'&&(_0x2d680d=_0x1461c3[_0x54fe2e(0x396)][_0x54fe2e(0x21f)]()===_0x2c03f2['correctResponse']);}!_0x2d680d&&_0x1461c3[_0x54fe2e(0x4a6)]['add'](_0x54fe2e(0x6a0),_0x54fe2e(0x613),_0x54fe2e(0x4a3)),document[_0x54fe2e(0x4f8)]('presentation-explanation')['classList'][_0x54fe2e(0x52e)](_0x54fe2e(0x3d0));}function startWholeQuizTimer(_0x2eeb43){const _0x4202aa=_0xcf56c0,_0x8ab339=document['getElementById'](_0x4202aa(0x5bb));if(!_0x8ab339)return;const _0x406c86=Date['now']()+_0x2eeb43*0x3c*0x3e8;_0x8ab339[_0x4202aa(0x1ae)]=_0x4202aa(0x680);const _0x2c69b1=document[_0x4202aa(0x4f8)](_0x4202aa(0x388));quizTimerInterval=setInterval(()=>{const _0x2313f8=_0x4202aa,_0x2e5896=_0x406c86-Date[_0x2313f8(0x673)]();if(_0x2e5896<=0x0)clearInterval(quizTimerInterval),_0x2c69b1['textContent']=_0x2313f8(0x539),showMessage(_0x2313f8(0x65a)),handleSubmitQuiz(null);else{const _0x40c4c7=Math[_0x2313f8(0x579)](_0x2e5896/0x3e8/0x3c%0x3c)[_0x2313f8(0x4e2)]()[_0x2313f8(0x1dd)](0x2,'0'),_0x48e7d8=Math[_0x2313f8(0x579)](_0x2e5896/0x3e8%0x3c)[_0x2313f8(0x4e2)]()[_0x2313f8(0x1dd)](0x2,'0');_0x2c69b1[_0x2313f8(0x396)]=_0x40c4c7+':'+_0x48e7d8;}},0x3e8);}function renderPerQuestionView(){const _0xf7cc00=_0xcf56c0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1b3450=currentDisplayedQuiz[_0xf7cc00(0x32f)][currentQuestionIndex],_0x2f93bc=_0x1b3450['questionType']||currentDisplayedQuiz['quizType'];let _0x23ddbc=_0xf7cc00(0x483)+(currentQuestionIndex+0x1)+_0xf7cc00(0x657)+currentDisplayedQuiz[_0xf7cc00(0x32f)][_0xf7cc00(0x424)]+_0xf7cc00(0x4a2)+(currentMode===_0xf7cc00(0x2e3)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0xf7cc00(0x43d)]+_0xf7cc00(0x63d)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0xf7cc00(0x424)]-0x1?'ส่งคำตอบ':_0xf7cc00(0x566))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x23ddbc;let _0x28a206='',_0x2911e0='';switch(_0x2f93bc){case _0xf7cc00(0x3ae):_0x28a206=currentQuestionIndex+0x1+'.\x20'+_0x1b3450[_0xf7cc00(0x736)],_0x2911e0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b3450['allResponses'][_0xf7cc00(0x44f)](_0x33761c=>_0xf7cc00(0x6d8)+_0x33761c+'\x22>'+_0x33761c+_0xf7cc00(0x711))[_0xf7cc00(0x5ba)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xf7cc00(0x1be):_0x28a206=currentQuestionIndex+0x1+'.\x20'+_0x1b3450[_0xf7cc00(0x1db)],_0x2911e0=_0xf7cc00(0x2dc);break;case'short_answer':case _0xf7cc00(0x716):_0x28a206=currentQuestionIndex+0x1+'.\x20'+_0x1b3450['questionText'],_0x2911e0=_0xf7cc00(0x3d9);break;case'multiple_choice':case'fill_in_with_choices':default:_0x28a206=currentQuestionIndex+0x1+'.\x20'+_0x1b3450['questionText'],_0x2911e0=_0x1b3450[_0xf7cc00(0x410)][_0xf7cc00(0x44f)]((_0x5da383,_0x2450e7)=>_0xf7cc00(0x288)+_0x2450e7+_0xf7cc00(0x205)+_0x2450e7+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x2450e7+'\x22>'+_0x5da383+_0xf7cc00(0x25a))['join']('');break;}_0x1b3450[_0xf7cc00(0x237)]&&(_0x28a206+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1b3450['imageCode']+_0xf7cc00(0x406));document[_0xf7cc00(0x4f8)](_0xf7cc00(0x452))[_0xf7cc00(0x1ae)]=_0x28a206,document[_0xf7cc00(0x4f8)](_0xf7cc00(0x3f2))[_0xf7cc00(0x1ae)]=_0x2911e0;if(currentMode==='admin-testing'){const _0x5aa2fd=document['getElementById'](_0xf7cc00(0x6af));if(_0x5aa2fd)_0x5aa2fd[_0xf7cc00(0x29d)]('click',cancelAdminTest);}document[_0xf7cc00(0x4f8)]('next-question-timed-btn')[_0xf7cc00(0x29d)](_0xf7cc00(0x572),()=>handleNextQuestionInTimedMode(![]));if(window[_0xf7cc00(0x335)])window[_0xf7cc00(0x335)][_0xf7cc00(0x2f6)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x12fd03=_0xcf56c0,_0x26ac8e=currentDisplayedQuiz[_0x12fd03(0x666)][_0x12fd03(0x71a)],_0x3c0e39=document[_0x12fd03(0x4f8)]('per-question-timer-container');if(!_0x3c0e39)return;let _0x4ee6ed=_0x26ac8e;_0x3c0e39[_0x12fd03(0x1ae)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x4ee6ed+_0x12fd03(0x496);const _0x5dc950=document[_0x12fd03(0x4f8)](_0x12fd03(0x4f0)),_0x5b8c48=document[_0x12fd03(0x4f8)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x269547=_0x12fd03;_0x4ee6ed--;const _0x119683=_0x4ee6ed/_0x26ac8e*0x64;_0x5dc950[_0x269547(0x3ef)][_0x269547(0x51a)]=_0x119683+'%',_0x5b8c48['textContent']=_0x4ee6ed,_0x4ee6ed<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x269547(0x4e3)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x37945d=![]){const _0x34236e=_0xcf56c0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x6a6c50=null;if(!_0x37945d){const _0x279788=currentDisplayedQuiz[_0x34236e(0x32f)][currentQuestionIndex],_0x427fb9=_0x279788[_0x34236e(0x305)]||currentDisplayedQuiz[_0x34236e(0x52f)];if(_0x427fb9===_0x34236e(0x516)||_0x427fb9===_0x34236e(0x716)){const _0x17fcb3=document[_0x34236e(0x480)](_0x34236e(0x727));_0x6a6c50=_0x17fcb3?_0x17fcb3['value'][_0x34236e(0x21f)]():'';}else{if(_0x427fb9===_0x34236e(0x3ae)){const _0x34ea85=document[_0x34236e(0x480)](_0x34236e(0x64a));_0x6a6c50=_0x34ea85?_0x34ea85['value']:'';}else{const _0x27c165=document['querySelector']('input[name=\x22question_single\x22]:checked');if(_0x27c165){const _0x1f3fbb=_0x27c165['value'];_0x6a6c50=!isNaN(parseInt(_0x1f3fbb,0xa))&&_0x1f3fbb[_0x34236e(0x21f)]()!==''?parseInt(_0x1f3fbb,0xa):_0x1f3fbb;}}}}studentAnswersPerQuestion[_0x34236e(0x704)](_0x6a6c50),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x34236e(0x424)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x174261=_0xcf56c0,_0x12154f=currentDisplayedQuiz[_0x174261(0x32f)][_0x174261(0x18e)](_0x55e61a=>_0x55e61a[_0x174261(0x305)]==='short_answer');_0x12154f?showMessage(_0x174261(0x69d)):showMessage(_0x174261(0x227));const _0x1ada96=currentQuizData['id'],_0x102e13=doc(db,'artifacts/'+appId+_0x174261(0x552)+_0x1ada96+_0x174261(0x478),currentStudentName),_0x211f6d=await getDoc(_0x102e13),_0x2cc894=_0x211f6d[_0x174261(0x6a7)]()?_0x211f6d[_0x174261(0x347)]():{},_0x2d067e=_0x2cc894[_0x174261(0x400)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2d067e);}function getResultsFilename(){const _0x59583c=_0xcf56c0,_0x2af153=document[_0x59583c(0x4f8)]('results-quiz-title')[_0x59583c(0x396)][_0x59583c(0x3e4)](/[^a-z0-9]/gi,'_')[_0x59583c(0x69b)]();return _0x59583c(0x2ea)+(_0x2af153||_0x59583c(0x58e));}function exportResultsAsImage(){const _0x1441d2=_0xcf56c0,_0x22cf20=document[_0x1441d2(0x4f8)](_0x1441d2(0x401));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x22cf20)['then'](_0x32d4c7=>{const _0x108d8=_0x1441d2,_0x181aad=document[_0x108d8(0x4c9)]('a');_0x181aad['download']=getResultsFilename()+_0x108d8(0x267),_0x181aad[_0x108d8(0x4b5)]=_0x32d4c7[_0x108d8(0x43b)](_0x108d8(0x1fa)),_0x181aad[_0x108d8(0x572)](),messageModal[_0x108d8(0x4a6)]['add']('hidden');});}function exportResultsAsPDF(){const _0x536234=_0xcf56c0,{jsPDF:_0x486367}=window[_0x536234(0x2b7)],_0x2c3627=new _0x486367();_0x2c3627[_0x536234(0x404)](_0x536234(0x709),_0x536234(0x3e1)),_0x2c3627[_0x536234(0x530)]({'html':_0x536234(0x2fc)}),_0x2c3627[_0x536234(0x29b)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x1b3614=_0xcf56c0,_0x3437d3=_0x1b3614(0x59c)+_0x1b3614(0x2a6)+_0x1b3614(0x1a1)+_0x1b3614(0x3bc),_0x52bf12=_0x1b3614(0x31e),_0x1e2296=_0x3437d3+document[_0x1b3614(0x4f8)]('results-table-container')[_0x1b3614(0x1ae)]+_0x52bf12,_0x211396=_0x1b3614(0x2b1)+encodeURIComponent(_0x1e2296),_0x27c3fb=document[_0x1b3614(0x4c9)]('a');document[_0x1b3614(0x4cf)][_0x1b3614(0x575)](_0x27c3fb),_0x27c3fb[_0x1b3614(0x4b5)]=_0x211396,_0x27c3fb[_0x1b3614(0x46d)]=getResultsFilename()+_0x1b3614(0x333),_0x27c3fb['click'](),document[_0x1b3614(0x4cf)]['removeChild'](_0x27c3fb);}function exportResultsAsExcel(){const _0x2e2b33=_0xcf56c0,_0x48cb35=document[_0x2e2b33(0x4f8)]('results-table');let _0x647f8=[];for(let _0x2a68cf=0x0;_0x2a68cf<_0x48cb35['rows']['length'];_0x2a68cf++){let _0x3f756b=[],_0x317052=_0x48cb35[_0x2e2b33(0x6e1)][_0x2a68cf][_0x2e2b33(0x493)](_0x2e2b33(0x239));for(let _0x1f040b=0x0;_0x1f040b<_0x317052[_0x2e2b33(0x424)];_0x1f040b++){_0x3f756b[_0x2e2b33(0x704)]('\x22'+_0x317052[_0x1f040b][_0x2e2b33(0x58c)][_0x2e2b33(0x3e4)](/"/g,'\x22\x22')+'\x22');}_0x647f8[_0x2e2b33(0x704)](_0x3f756b[_0x2e2b33(0x5ba)](','));}const _0x467f10=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x647f8[_0x2e2b33(0x5ba)]('\x0a')],{'type':_0x2e2b33(0x5cf)}),_0x47b162=document['createElement']('a');_0x47b162[_0x2e2b33(0x4b5)]=URL[_0x2e2b33(0x554)](_0x467f10),_0x47b162[_0x2e2b33(0x46d)]=getResultsFilename()+_0x2e2b33(0x42c),_0x47b162[_0x2e2b33(0x572)]();}function exportTableAsImage(_0x5e97b1,_0x12a9db){const _0x43b997=_0xcf56c0,_0x97d75e=document[_0x43b997(0x4f8)](_0x5e97b1);if(!_0x97d75e){showMessage(_0x43b997(0x4b1));return;}showMessage(_0x43b997(0x422)),html2canvas(_0x97d75e)[_0x43b997(0x398)](_0x1df993=>{const _0x10c9fa=_0x43b997,_0x1141f8=document[_0x10c9fa(0x4c9)]('a');_0x1141f8[_0x10c9fa(0x46d)]=_0x12a9db+_0x10c9fa(0x267),_0x1141f8['href']=_0x1df993[_0x10c9fa(0x43b)](_0x10c9fa(0x1fa)),_0x1141f8[_0x10c9fa(0x572)](),messageModal[_0x10c9fa(0x4a6)][_0x10c9fa(0x718)]('hidden');});}function exportTableAsPDF(_0x504a5a,_0xf364b){const _0x5a0be1=_0xcf56c0,{jsPDF:_0xfa4c8c}=window[_0x5a0be1(0x2b7)],_0x566a13=new _0xfa4c8c();_0x566a13[_0x5a0be1(0x404)]('helvetica','normal'),_0x566a13[_0x5a0be1(0x530)]({'html':'#'+_0x504a5a}),_0x566a13[_0x5a0be1(0x29b)](_0xf364b+_0x5a0be1(0x4b0));}function exportTableAsWord(_0x46b5d9,_0x3ec7ef){const _0x322ba3=_0xcf56c0,_0x27c1df=document[_0x322ba3(0x4f8)](_0x46b5d9);if(!_0x27c1df){showMessage(_0x322ba3(0x4b1));return;}const _0x379d03='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x322ba3(0x1a1)+_0x322ba3(0x3bc),_0xb3acd4=_0x322ba3(0x31e),_0x11eb31=_0x379d03+_0x27c1df['innerHTML']+_0xb3acd4,_0x1762bf='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x11eb31),_0x5d93c9=document[_0x322ba3(0x4c9)]('a');document['body'][_0x322ba3(0x575)](_0x5d93c9),_0x5d93c9[_0x322ba3(0x4b5)]=_0x1762bf,_0x5d93c9['download']=_0x3ec7ef+_0x322ba3(0x333),_0x5d93c9['click'](),document[_0x322ba3(0x4cf)][_0x322ba3(0x276)](_0x5d93c9);}function exportTableAsExcel(_0x5939de,_0x3c2c7b){const _0x5b5059=_0xcf56c0,_0xebc698=document[_0x5b5059(0x4f8)](_0x5939de);if(!_0xebc698){showMessage(_0x5b5059(0x4b1));return;}let _0x3058f8=[];for(let _0x25df46=0x0;_0x25df46<_0xebc698[_0x5b5059(0x6e1)][_0x5b5059(0x424)];_0x25df46++){let _0x5c3a1e=[],_0x3185cf=_0xebc698[_0x5b5059(0x6e1)][_0x25df46][_0x5b5059(0x493)](_0x5b5059(0x239));for(let _0x5a6f3e=0x0;_0x5a6f3e<_0x3185cf['length'];_0x5a6f3e++){_0x5c3a1e[_0x5b5059(0x704)]('\x22'+_0x3185cf[_0x5a6f3e][_0x5b5059(0x58c)][_0x5b5059(0x3e4)](/"/g,'\x22\x22')+'\x22');}_0x3058f8[_0x5b5059(0x704)](_0x5c3a1e[_0x5b5059(0x5ba)](','));}const _0x1e82b7=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3058f8[_0x5b5059(0x5ba)]('\x0a')],{'type':_0x5b5059(0x5cf)}),_0x24e1d9=document[_0x5b5059(0x4c9)]('a');_0x24e1d9[_0x5b5059(0x4b5)]=URL['createObjectURL'](_0x1e82b7),_0x24e1d9[_0x5b5059(0x46d)]=_0x3c2c7b+_0x5b5059(0x42c),_0x24e1d9['click']();}function renderAnalytics(_0x1285be,_0x37cd11){const _0x7e5dd7=_0xcf56c0,_0x5ce650=currentProjectData[_0x7e5dd7(0x22a)][_0x7e5dd7(0x424)],_0x2c3a67=_0x37cd11[_0x7e5dd7(0x424)],_0x2c28c6=_0x5ce650-_0x2c3a67,_0x23590d=_0x5ce650>0x0?_0x2c3a67/_0x5ce650*0x64:0x0,_0x4d61fe=_0x37cd11['map'](_0x458362=>_0x458362[_0x7e5dd7(0x2d3)]),_0x8ca8b9=_0x4d61fe[_0x7e5dd7(0x424)]>0x0?_0x4d61fe[_0x7e5dd7(0x55b)]((_0x26678d,_0x146458)=>_0x26678d+_0x146458,0x0)/_0x4d61fe[_0x7e5dd7(0x424)]:0x0,_0x4ea0a4=_0x1285be[_0x7e5dd7(0x32f)][_0x7e5dd7(0x424)],_0x5148a5=_0x4ea0a4>0x0?_0x8ca8b9/_0x4ea0a4*0x64:0x0,_0x228860=document[_0x7e5dd7(0x4f8)]('analytics-summary-cards');_0x228860[_0x7e5dd7(0x1ae)]=_0x7e5dd7(0x5b2)+_0x23590d['toFixed'](0x0)+_0x7e5dd7(0x1dc)+_0x2c3a67+'/'+_0x5ce650+_0x7e5dd7(0x37d)+_0x8ca8b9['toFixed'](0x2)+_0x7e5dd7(0x490)+_0x5148a5['toFixed'](0x0)+_0x7e5dd7(0x68e)+(_0x4d61fe[_0x7e5dd7(0x424)]>0x0?Math['max'](..._0x4d61fe):_0x7e5dd7(0x1d1))+_0x7e5dd7(0x1e5)+(_0x4d61fe[_0x7e5dd7(0x424)]>0x0?Math[_0x7e5dd7(0x351)](..._0x4d61fe):_0x7e5dd7(0x1d1))+_0x7e5dd7(0x618);const _0x20f663=currentProjectData[_0x7e5dd7(0x22a)]||[];renderSubmissionChart(_0x2c3a67,_0x2c28c6,_0x37cd11,_0x20f663),renderScoreDistributionChart(_0x37cd11,_0x4ea0a4),renderQuestionAnalytics(_0x1285be,_0x37cd11,_0x20f663);}function renderSubmissionChart(_0x59fa5b,_0x3ce183,_0x50cb94,_0x5e6b25){const _0x5e9b96=_0xcf56c0,_0x5a1307=document[_0x5e9b96(0x4f8)](_0x5e9b96(0x3ea))[_0x5e9b96(0x24f)]('2d'),_0x30ca9d=_0x50cb94[_0x5e9b96(0x44f)](_0x4885bd=>_0x4885bd[_0x5e9b96(0x49c)]),_0x628b5d=_0x5e6b25[_0x5e9b96(0x65b)](_0x3a1093=>!_0x30ca9d[_0x5e9b96(0x340)](_0x3a1093));chartInstances[_0x5e9b96(0x54e)]&&chartInstances['submission'][_0x5e9b96(0x61c)](),chartInstances[_0x5e9b96(0x54e)]=new Chart(_0x5a1307,{'type':_0x5e9b96(0x373),'data':{'labels':['ส่งแล้ว',_0x5e9b96(0x601)],'datasets':[{'data':[_0x59fa5b,_0x3ce183],'backgroundColor':[_0x5e9b96(0x62e),'#F59E0B'],'borderColor':[_0x5e9b96(0x402),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5e9b96(0x3ed)},'tooltip':{'callbacks':{'label':function(_0x185e53){const _0x284933=_0x5e9b96;let _0x5190b8=_0x185e53['label']||'';return _0x5190b8&&(_0x5190b8+=':\x20'),_0x5190b8+=_0x185e53[_0x284933(0x5d3)],_0x5190b8;},'afterLabel':function(_0x386d5c){const _0x424dd2=_0x5e9b96;let _0x26dec7;return _0x386d5c[_0x424dd2(0x387)]===0x0?_0x26dec7=_0x30ca9d:_0x26dec7=_0x628b5d,_0x26dec7[_0x424dd2(0x424)]>0x0?_0x26dec7[_0x424dd2(0x5ba)]('\x0a'):_0x424dd2(0x473);}}}}}});}function renderScoreDistributionChart(_0x2f29f9,_0x3814ab){const _0x87a98a=_0xcf56c0,_0xb63ac1=document[_0x87a98a(0x4f8)](_0x87a98a(0x2d4))['getContext']('2d'),_0x10a06e={};for(let _0x58f487=0x0;_0x58f487<=_0x3814ab;_0x58f487++){_0x10a06e[_0x58f487]=0x0;}_0x2f29f9[_0x87a98a(0x542)](_0x445046=>{const _0x5c8c5a=_0x87a98a;_0x10a06e[_0x445046[_0x5c8c5a(0x2d3)]]!==undefined&&_0x10a06e[_0x445046[_0x5c8c5a(0x2d3)]]++;}),chartInstances[_0x87a98a(0x2db)]&&chartInstances[_0x87a98a(0x2db)][_0x87a98a(0x61c)](),chartInstances[_0x87a98a(0x2db)]=new Chart(_0xb63ac1,{'type':_0x87a98a(0x456),'data':{'labels':Object[_0x87a98a(0x1b3)](_0x10a06e),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x87a98a(0x1f5)](_0x10a06e),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x87a98a(0x6c6),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x87a98a(0x1a6)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x95cb87){const _0x6e9287=_0x87a98a,_0x4e6af7=_0x95cb87[_0x6e9287(0x3da)],_0xcdb3e7=_0x2f29f9['filter'](_0xd9d217=>_0xd9d217[_0x6e9287(0x2d3)]==_0x4e6af7)['map'](_0x5dcd65=>_0x5dcd65[_0x6e9287(0x49c)]);return _0xcdb3e7['length']>0x0?_0xcdb3e7['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x199748,_0x564f2a,_0x3c4af8){const _0x4c1f77=_0xcf56c0,_0x589b4b=document[_0x4c1f77(0x4f8)]('question-analytics-container');if(_0x3c4af8['length']===0x0){_0x589b4b[_0x4c1f77(0x1ae)]=_0x4c1f77(0x692);return;}let _0x933c55='';const _0xa43575=_0x564f2a[_0x4c1f77(0x44f)](_0xac342d=>_0xac342d['studentName']);_0x199748[_0x4c1f77(0x32f)][_0x4c1f77(0x542)]((_0x269dce,_0x2e6758)=>{const _0x4604e0=_0x4c1f77;let _0x245e49=0x0;const _0x43c403=[],_0x3e0546=[],_0xba7bcc=_0x269dce[_0x4604e0(0x736)]||_0x269dce[_0x4604e0(0x1db)]||_0x269dce[_0x4604e0(0x6a2)];_0x564f2a[_0x4604e0(0x542)](_0x56707a=>{const _0x3d5cf8=_0x4604e0,_0x524890=_0x56707a['attempts'][_0x56707a['attempts'][_0x3d5cf8(0x424)]-0x1];if(_0x524890&&_0x524890[_0x3d5cf8(0x521)]){const _0x4d9d9d=_0x524890['answers'][_0x3d5cf8(0x1b7)](_0x560390=>_0x560390[_0x3d5cf8(0x39f)]===_0xba7bcc)??_0x524890[_0x3d5cf8(0x521)][_0x2e6758]??null;_0x4d9d9d&&(_0x4d9d9d[_0x3d5cf8(0x50b)]?(_0x245e49++,_0x43c403['push'](_0x56707a[_0x3d5cf8(0x49c)])):_0x3e0546[_0x3d5cf8(0x704)](_0x56707a[_0x3d5cf8(0x49c)]));}});const _0x407c1e=_0x3c4af8[_0x4604e0(0x65b)](_0x444ede=>!_0xa43575[_0x4604e0(0x340)](_0x444ede)),_0xc6ed25=_0x564f2a[_0x4604e0(0x424)]>0x0?_0x245e49/_0x564f2a[_0x4604e0(0x424)]*0x64:0x0;_0x933c55+=_0x4604e0(0x72b)+(_0x2e6758+0x1)+':\x20'+_0xba7bcc+_0x4604e0(0x487)+(_0xc6ed25>=0x46?'bg-green-200\x20text-green-800':_0xc6ed25>=0x28?_0x4604e0(0x1fb):_0x4604e0(0x64d))+_0x4604e0(0x450)+_0xc6ed25[_0x4604e0(0x271)](0x0)+_0x4604e0(0x66a)+_0xba7bcc+_0x4604e0(0x1d8)+_0x245e49+_0x4604e0(0x657)+_0x564f2a[_0x4604e0(0x424)]+'\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x43c403[_0x4604e0(0x424)]+_0x4604e0(0x504)+(_0x43c403[_0x4604e0(0x424)]>0x0?_0x43c403[_0x4604e0(0x5ba)](',\x20'):_0x4604e0(0x473))+_0x4604e0(0x3b7)+_0x3e0546['length']+_0x4604e0(0x504)+(_0x3e0546[_0x4604e0(0x424)]>0x0?_0x3e0546['join'](',\x20'):_0x4604e0(0x473))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x407c1e[_0x4604e0(0x424)]+_0x4604e0(0x504)+(_0x407c1e[_0x4604e0(0x424)]>0x0?_0x407c1e[_0x4604e0(0x5ba)](',\x20'):_0x4604e0(0x473))+_0x4604e0(0x497);}),_0x589b4b[_0x4c1f77(0x1ae)]=_0x933c55;try{window[_0x4c1f77(0x335)]&&MathJax['typesetPromise']&&MathJax[_0x4c1f77(0x2f6)]([_0x589b4b]);}catch(_0x26b866){console[_0x4c1f77(0x1f8)](_0x4c1f77(0x60e),_0x26b866);}}async function handleAnalyzeClass(){const _0x447e79=_0xcf56c0;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0xa3cbc0=collection(db,_0x447e79(0x5ad)+appId+_0x447e79(0x552)+currentQuizData['id']+_0x447e79(0x478)),_0x42f93a=await getDocs(_0xa3cbc0),_0x415004=_0x42f93a[_0x447e79(0x4c3)][_0x447e79(0x44f)](_0xf11ad=>_0xf11ad[_0x447e79(0x347)]());if(_0x415004[_0x447e79(0x424)]<0x2){showMessage(_0x447e79(0x5fb));return;}const _0x2cb64d=document[_0x447e79(0x4f8)]('strength-weakness-analysis-container');_0x2cb64d[_0x447e79(0x1ae)]=_0x447e79(0x352),document[_0x447e79(0x4f8)](_0x447e79(0x459))[_0x447e79(0x3a5)]=!![];const _0x269bb7=_0x415004['map']((_0x2975aa,_0x276bad)=>{const _0x31ab1e=_0x447e79,_0x3c6d02=_0x2975aa['attempts'][_0x2975aa['attempts'][_0x31ab1e(0x424)]-0x1];if(!_0x3c6d02)return'';return _0x31ab1e(0x4ec)+(_0x276bad+0x1)+'\x20('+_0x2975aa[_0x31ab1e(0x49c)]+_0x31ab1e(0x256)+_0x3c6d02[_0x31ab1e(0x2db)]+'/'+_0x2975aa[_0x31ab1e(0x468)]+_0x31ab1e(0x4fb)+JSON[_0x31ab1e(0x330)](_0x3c6d02[_0x31ab1e(0x521)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x447e79(0x5ba)](_0x447e79(0x374)),_0x37ec5a=_0x447e79(0x1d3)+currentQuizData['topic']+_0x447e79(0x548)+JSON[_0x447e79(0x330)](currentQuizData[_0x447e79(0x32f)])+_0x447e79(0x1ab)+_0x269bb7+_0x447e79(0x3f7),_0x5dca5e={'type':_0x447e79(0x265),'properties':{'classStrengths':{'type':_0x447e79(0x3c6),'items':{'type':_0x447e79(0x687)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x447e79(0x687)}},'teacherSuggestions':{'type':_0x447e79(0x3c6),'items':{'type':'STRING'}}},'required':['classStrengths',_0x447e79(0x6fc),_0x447e79(0x439)]};try{const _0x5c5159=await callAnalysisApi(_0x37ec5a,_0x5dca5e);displayClassAnalysis(_0x5c5159);}catch(_0x194403){console[_0x447e79(0x1f8)]('Error\x20during\x20class\x20analysis:',_0x194403),_0x2cb64d['innerHTML']=_0x447e79(0x411)+_0x194403[_0x447e79(0x4ae)]+_0x447e79(0x1e3);}finally{document['getElementById']('analyze-strengths-btn')[_0x447e79(0x3a5)]=![];}}function displayClassAnalysis(_0x238a35){const _0x14060e=_0xcf56c0,_0x575987=document['getElementById'](_0x14060e(0x6e3));if(!_0x238a35){_0x575987[_0x14060e(0x1ae)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x575987[_0x14060e(0x1ae)]=_0x14060e(0x561)+_0x238a35[_0x14060e(0x469)]['map'](_0x4acc45=>_0x14060e(0x455)+_0x4acc45+_0x14060e(0x472))[_0x14060e(0x5ba)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x238a35[_0x14060e(0x6fc)]['map'](_0x2b7e17=>'<li>'+_0x2b7e17+_0x14060e(0x472))[_0x14060e(0x5ba)]('')+_0x14060e(0x42f)+_0x238a35[_0x14060e(0x439)][_0x14060e(0x44f)](_0x170df6=>'<li>'+_0x170df6+_0x14060e(0x472))[_0x14060e(0x5ba)]('')+_0x14060e(0x393);}function formatAndPrintWorksheet(_0x352335,_0xaacb7c){const _0x29f5d3=_0xcf56c0,_0xe15e6a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x352335['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x352335['topic']+_0x29f5d3(0x1f7)+_0x352335['questions'][_0x29f5d3(0x44f)]((_0x4c661b,_0x3b4461)=>_0x29f5d3(0x36d)+(_0x3b4461+0x1)+'.\x20'+_0x4c661b[_0x29f5d3(0x1db)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4c661b['imageCode']?_0x29f5d3(0x304)+_0x4c661b[_0x29f5d3(0x237)]+_0x29f5d3(0x406):'')+_0x29f5d3(0x3f4))[_0x29f5d3(0x5ba)]('')+_0x29f5d3(0x309);_0xaacb7c[_0x29f5d3(0x549)][_0x29f5d3(0x6a3)](_0xe15e6a),_0xaacb7c[_0x29f5d3(0x549)][_0x29f5d3(0x23a)](),_0xaacb7c[_0x29f5d3(0x653)]=function(){const _0x23ed74=_0x29f5d3;_0xaacb7c[_0x23ed74(0x2c4)]();};}async function generateWorksheet(){const _0x449127=_0xcf56c0,_0x5a5be4=document[_0x449127(0x4f8)](_0x449127(0x24e))['value'][_0x449127(0x21f)]();if(!_0x5a5be4){showMessage(_0x449127(0x35a));return;}const _0x32710e=document[_0x449127(0x4f8)](_0x449127(0x297))[_0x449127(0x525)],_0x1f34e1=_0x32710e?'':_0x449127(0x243),_0x3794a9=window[_0x449127(0x446)]('',_0x449127(0x42e));_0x3794a9[_0x449127(0x549)]['write'](_0x449127(0x3fe));const _0x2f9125=parseInt(document['getElementById'](_0x449127(0x5c3))[_0x449127(0x6dc)]),_0x354653=document[_0x449127(0x4f8)](_0x449127(0x5df))['checked'],_0x25e082=_0x354653?_0x449127(0x40f):'',_0x152694=_0x449127(0x4c1)+_0x1f34e1+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x2f9125+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x5a5be4+_0x449127(0x3aa)+_0x25e082+_0x449127(0x2ca),_0x3f3cc8={'type':'OBJECT','properties':{'topic':{'type':_0x449127(0x687)},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x449127(0x687)}},'required':[_0x449127(0x1db)]}}},'required':['topic',_0x449127(0x32f)]};document[_0x449127(0x4f8)](_0x449127(0x33e))[_0x449127(0x396)]='',document['getElementById'](_0x449127(0x6cb))[_0x449127(0x4a6)][_0x449127(0x52e)]('hidden'),document[_0x449127(0x4f8)](_0x449127(0x26a))[_0x449127(0x4a6)][_0x449127(0x52e)]('hidden'),generateWorksheetBtn[_0x449127(0x3a5)]=!![];try{const _0x514e29=await callAnalysisApi(_0x152694,_0x3f3cc8);formatAndPrintWorksheet(_0x514e29,_0x3794a9);}catch(_0x47791d){console[_0x449127(0x1f8)]('Error\x20generating\x20worksheet:',_0x47791d);if(_0x3794a9)_0x3794a9[_0x449127(0x23a)]();showMessage(_0x449127(0x230));}finally{document[_0x449127(0x4f8)](_0x449127(0x6cb))[_0x449127(0x4a6)]['add']('hidden'),document['getElementById'](_0x449127(0x26a))[_0x449127(0x4a6)][_0x449127(0x718)]('hidden'),generateWorksheetBtn[_0x449127(0x3a5)]=![];}}async function callAnalysisApi(_0x2f6809,_0x9eab1e){const _0x3b7016=_0xcf56c0,_0x201f67={'contents':[{'role':_0x3b7016(0x38c),'parts':[{'text':_0x2f6809}]}],'generationConfig':{'responseMimeType':_0x3b7016(0x694),'responseSchema':_0x9eab1e}},_0x3d92bf=_0x3b7016(0x1b4),_0x469573='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3d92bf,_0x1bb41d=await fetch(_0x469573,{'method':'POST','headers':{'Content-Type':_0x3b7016(0x694)},'body':JSON[_0x3b7016(0x330)](_0x201f67)});if(!_0x1bb41d['ok'])throw new Error(_0x3b7016(0x34f)+_0x1bb41d['status']);const _0x1daf67=await _0x1bb41d['json']();if(_0x1daf67['candidates']?.[0x0]?.[_0x3b7016(0x247)]?.['parts']?.[0x0])return JSON[_0x3b7016(0x28e)](_0x1daf67['candidates'][0x0]['content']['parts'][0x0][_0x3b7016(0x2a7)]);else{let _0x3e63e2=_0x3b7016(0x5fa);if(_0x1daf67[_0x3b7016(0x35e)]?.['blockReason'])_0x3e63e2=_0x3b7016(0x4cb)+_0x1daf67['promptFeedback'][_0x3b7016(0x3f8)]+'.';else _0x1daf67['candidates']?.[0x0]?.[_0x3b7016(0x68a)]&&_0x1daf67[_0x3b7016(0x436)][0x0][_0x3b7016(0x68a)]!==_0x3b7016(0x23c)&&(_0x3e63e2='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x1daf67[_0x3b7016(0x436)][0x0][_0x3b7016(0x68a)]+'.');console[_0x3b7016(0x1f8)](_0x3e63e2,JSON[_0x3b7016(0x330)](_0x1daf67));throw new Error(_0x3e63e2);}}initialize();
