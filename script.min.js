const _0x3fa4d9=_0x5982;(function(_0x3e2f7d,_0x4e7e6e){const _0x40d1c9=_0x5982,_0x2bb7c0=_0x3e2f7d();while(!![]){try{const _0x5bb4e2=parseInt(_0x40d1c9(0x7b2))/0x1*(parseInt(_0x40d1c9(0x213))/0x2)+parseInt(_0x40d1c9(0x4a9))/0x3*(parseInt(_0x40d1c9(0xa7b))/0x4)+parseInt(_0x40d1c9(0x6e8))/0x5+parseInt(_0x40d1c9(0x7d7))/0x6*(-parseInt(_0x40d1c9(0xa80))/0x7)+-parseInt(_0x40d1c9(0x227))/0x8*(parseInt(_0x40d1c9(0x355))/0x9)+parseInt(_0x40d1c9(0x1ee))/0xa*(parseInt(_0x40d1c9(0x8cf))/0xb)+parseInt(_0x40d1c9(0x26c))/0xc;if(_0x5bb4e2===_0x4e7e6e)break;else _0x2bb7c0['push'](_0x2bb7c0['shift']());}catch(_0x2f7894){_0x2bb7c0['push'](_0x2bb7c0['shift']());}}}(_0x3a72,0xdfdfa));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x2628f3=_0x5982;if(_0x2628f3(0xa8e)in navigator)try{wakeLock=await navigator[_0x2628f3(0xa8e)][_0x2628f3(0x7ec)](_0x2628f3(0x436)),console[_0x2628f3(0x3c2)](_0x2628f3(0x460)),wakeLock['addEventListener'](_0x2628f3(0x737),()=>{const _0x4a1245=_0x2628f3;console[_0x4a1245(0x3c2)](_0x4a1245(0x194));});}catch(_0xb8d599){console[_0x2628f3(0x1d8)](_0x2628f3(0x61d)+_0xb8d599[_0x2628f3(0xa19)]+',\x20'+_0xb8d599[_0x2628f3(0x936)]);}else console[_0x2628f3(0x29f)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x2d1f41=_0x5982;wakeLock!==null&&(await wakeLock[_0x2d1f41(0x737)](),wakeLock=null,console[_0x2d1f41(0x3c2)](_0x2d1f41(0x514)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x15e67f=_0x5982;if(dimTimer)clearTimeout(dimTimer);document[_0x15e67f(0x4e1)][_0x15e67f(0x21b)][_0x15e67f(0x621)](_0x15e67f(0x3b0)),dimTimer=setTimeout(()=>{const _0x12e4d8=_0x15e67f;document[_0x12e4d8(0x4e1)]['classList'][_0x12e4d8(0x214)](_0x12e4d8(0x3b0)),console[_0x12e4d8(0x3c2)](_0x12e4d8(0x25b));},inactivityTime);}function stopDimTimer(){const _0x42ce1a=_0x5982;if(dimTimer)clearTimeout(dimTimer);document[_0x42ce1a(0x4e1)]['classList'][_0x42ce1a(0x621)]('dimmed'),window[_0x42ce1a(0x51a)](_0x42ce1a(0xa0f),resetDimTimer),window[_0x42ce1a(0x51a)](_0x42ce1a(0x7e5),resetDimTimer),window[_0x42ce1a(0x51a)](_0x42ce1a(0x554),resetDimTimer),window[_0x42ce1a(0x51a)](_0x42ce1a(0x722),resetDimTimer),console[_0x42ce1a(0x3c2)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x3e1087,_0x441fd5=![]){const _0x5f35b7=_0x5982,_0x52c526=allQuizzes['find'](_0x5ba950=>_0x5ba950['id']===_0x3e1087)||allQuizzesGlobal[_0x5f35b7(0xa53)](_0x2da2dd=>_0x2da2dd['id']===_0x3e1087);if(!_0x52c526){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x52c526);const _0x3e43b5=Math[_0x5f35b7(0x67c)](0x3e8+Math[_0x5f35b7(0x78e)]()*0x2328)['toString']();try{const _0x4b18d1=await addDoc(collection(db,_0x5f35b7(0x31f)+appId+'/public/data/teamQuizzes'),{'quizId':_0x52c526['id'],'projectId':_0x52c526[_0x5f35b7(0x59c)],'status':_0x5f35b7(0x9a2),'pin':_0x3e43b5,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x441fd5});currentTeamQuizId=_0x4b18d1['id'],showView(_0x5f35b7(0x60c)),renderAdminTeamQuizDashboard(_0x3e43b5,_0x52c526['topic']),listenForTeamQuizUpdates();}catch(_0x9b3d5){console['error']('Error\x20starting\x20team\x20quiz:',_0x9b3d5),showMessage(_0x5f35b7(0x33f));}}function renderAdminTeamQuizDashboard(_0x1d398f,_0x5b8e34,_0x3ec58c=_0x3fa4d9(0x3d0)){const _0x312fb3=_0x3fa4d9,_0xa770dd=_0x3ec58c===_0x312fb3(0x915)?_0x312fb3(0x181):'Team\x20Quiz';liveGameView['innerHTML']=_0x312fb3(0x1d0)+_0xa770dd+':\x20'+_0x5b8e34+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x1d398f+_0x312fb3(0x86f),document['getElementById'](_0x312fb3(0x1a0))[_0x312fb3(0x795)](_0x312fb3(0x96d),async()=>{const _0x4acca1=_0x312fb3;showConfirmation(_0x4acca1(0xa10),async()=>{const _0x293718=_0x4acca1;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x293718(0x31f)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x293718(0x364));});});}function listenForTeamQuizUpdates(){const _0x1e2b17=_0x3fa4d9;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xf6d71a=doc(db,'artifacts/'+appId+_0x1e2b17(0x3e7),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xf6d71a,_0x5aa8c5=>{const _0x2dcc0f=_0x1e2b17;if(!_0x5aa8c5[_0x2dcc0f(0x77c)]()){sessionStorage[_0x2dcc0f(0x15e)](_0x2dcc0f(0x614));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x2dcc0f(0x900))showMessage(_0x2dcc0f(0xa29));showView(currentMode===_0x2dcc0f(0x900)?'project-detail':_0x2dcc0f(0x564));return;}const _0x5323c5=_0x5aa8c5[_0x2dcc0f(0x342)]();if(currentMode===_0x2dcc0f(0x900)){if(_0x5323c5[_0x2dcc0f(0x3ab)]===_0x2dcc0f(0x915)&&_0x5323c5[_0x2dcc0f(0x442)]!==_0x2dcc0f(0x18a)&&_0x5323c5[_0x2dcc0f(0x442)]!==_0x2dcc0f(0x293)){const _0x24071b=Object[_0x2dcc0f(0x792)](_0x5323c5[_0x2dcc0f(0x875)]||{});if(_0x24071b[_0x2dcc0f(0x3e1)]>0x0){const _0xe5fd22=_0x24071b[_0x2dcc0f(0x6e2)](_0x31cb7d=>_0x31cb7d['isFinished']===!![]);_0xe5fd22&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5323c5);}else{if(_0x5323c5[_0x2dcc0f(0x442)]===_0x2dcc0f(0x18a)||_0x5323c5[_0x2dcc0f(0x442)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5323c5[_0x2dcc0f(0x3ab)]==='group'){const _0x3227a4=_0x5323c5[_0x2dcc0f(0x875)][userId];(!_0x3227a4||!_0x3227a4[_0x2dcc0f(0x3a6)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x97128d){const _0x4b3c74=_0x3fa4d9;console[_0x4b3c74(0x3c2)](_0x4b3c74(0xa02));const _0x85e087=doc(db,_0x4b3c74(0x31f)+appId+'/public/data/teamQuizzes',_0x97128d);try{const _0x1dfd9a=await getDoc(_0x85e087);if(_0x1dfd9a[_0x4b3c74(0x77c)]()){const _0x4a32e3=_0x1dfd9a[_0x4b3c74(0x342)]();_0x4a32e3[_0x4b3c74(0x2e0)]&&await saveGameResultsAsSubmissions(_0x4a32e3);}await updateDoc(_0x85e087,{'status':_0x4b3c74(0x18a)});}catch(_0x1d6b00){console[_0x4b3c74(0x1d8)](_0x4b3c74(0x7d2),_0x1d6b00);}}function updateAdminTeamDashboard(_0x13304d){const _0x53e411=_0x3fa4d9,_0x3e4646=document['getElementById']('team-player-status-grid');if(!_0x3e4646)return;const _0x4cc88a=_0x13304d[_0x53e411(0x3ab)]||_0x53e411(0x3d0);if(_0x4cc88a==='group'){const _0x5a1cf7=Object['values'](_0x13304d[_0x53e411(0x875)]||{});if(_0x5a1cf7[_0x53e411(0x3e1)]===0x0){_0x3e4646[_0x53e411(0xa8d)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x1cdfd2=[..._0x5a1cf7][_0x53e411(0x171)]((_0x443ed5,_0x1d46f6)=>_0x1d46f6[_0x53e411(0x41d)]-_0x443ed5[_0x53e411(0x41d)]),_0x1add2c=_0x1cdfd2[_0x53e411(0x9f0)]((_0x493fb5,_0x56b8d3)=>_0x53e411(0x935)+(_0x56b8d3+0x1)+_0x53e411(0x937)+_0x493fb5[_0x53e411(0x2c9)][_0x53e411(0x3d6)](',\x20')+_0x53e411(0x161)+_0x493fb5[_0x53e411(0x41d)]+_0x53e411(0x917))['join']('');let _0x4623bc='';currentQuizData&&currentQuizData[_0x53e411(0x299)]&&(_0x4623bc=currentQuizData[_0x53e411(0x299)]['map']((_0x35429f,_0x3ba0d0)=>{const _0x7bc442=_0x53e411;let _0x2f2001=0x0;return _0x5a1cf7['forEach'](_0xbfca39=>{const _0xada718=_0x5982,_0x3315fe=_0xbfca39[_0xada718(0x617)]||[],_0x57ccc1=_0x3315fe[_0xada718(0xa53)](_0x266116=>_0x266116[_0xada718(0x1a1)]===_0x3ba0d0);_0x57ccc1&&_0x57ccc1[_0xada718(0x753)]&&_0x2f2001++;}),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x3ba0d0+0x1)+_0x7bc442(0x3d8)+_0x2f2001+_0x7bc442(0x60f)+_0x5a1cf7['length']+_0x7bc442(0x1b2);})[_0x53e411(0x3d6)]('')),_0x3e4646[_0x53e411(0xa8d)]=_0x53e411(0x779)+_0x1add2c+_0x53e411(0x663)+_0x4623bc+_0x53e411(0x5d8);}else{const _0x3dd5fe=_0x13304d[_0x53e411(0xa39)]||{},_0x850724=Object[_0x53e411(0x720)](_0x3dd5fe);if(_0x850724[_0x53e411(0x3e1)]===0x0){_0x3e4646[_0x53e411(0xa8d)]=_0x53e411(0xa3e);return;}const _0x4fb4a1=_0x850724[_0x53e411(0x9f0)](_0x4dfa25=>({'name':_0x4dfa25,'score':_0x3dd5fe[_0x4dfa25][_0x53e411(0x41d)]||0x0}))[_0x53e411(0x171)]((_0x1ecbe9,_0x78e33e)=>_0x78e33e[_0x53e411(0x41d)]-_0x1ecbe9[_0x53e411(0x41d)]);let _0x11c0fe='';currentQuizData&&currentQuizData[_0x53e411(0x299)]&&(_0x11c0fe=currentQuizData[_0x53e411(0x299)][_0x53e411(0x9f0)]((_0x18d7e2,_0x4661ed)=>{const _0x33e7f0=_0x53e411;let _0x1f52f7=0x0;return _0x850724[_0x33e7f0(0x220)](_0x17649c=>{const _0x5b8e3e=_0x33e7f0,_0x3df76a=_0x3dd5fe[_0x17649c][_0x5b8e3e(0x617)]||[],_0x55585e=_0x3df76a['find'](_0x48212a=>_0x48212a[_0x5b8e3e(0x1a1)]===_0x4661ed);if(_0x55585e&&_0x55585e[_0x5b8e3e(0x753)])_0x1f52f7++;}),'<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x4661ed+0x1)+_0x33e7f0(0x3a0)+_0x1f52f7+_0x33e7f0(0x60f)+_0x850724[_0x33e7f0(0x3e1)]+_0x33e7f0(0x2d6);})[_0x53e411(0x3d6)]('')),_0x3e4646[_0x53e411(0xa8d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x4fb4a1[_0x53e411(0x9f0)](_0x13a931=>'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x13a931[_0x53e411(0xa19)]+_0x53e411(0x786)+_0x13a931[_0x53e411(0x41d)]+_0x53e411(0x7fb))[_0x53e411(0x3d6)]('')+_0x53e411(0x663)+_0x11c0fe+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}async function handleJoinTeamQuiz(){const _0x34fb79=_0x3fa4d9,_0x4cf441=prompt(_0x34fb79(0x263));if(!_0x4cf441||_0x4cf441[_0x34fb79(0x56f)]()[_0x34fb79(0x3e1)]!==0x4){showMessage(_0x34fb79(0x16d));return;}try{const _0x3f030c=collection(db,_0x34fb79(0x31f)+appId+_0x34fb79(0x3e7)),_0x4d0c17=query(_0x3f030c,where(_0x34fb79(0x8fb),'==',_0x4cf441[_0x34fb79(0x56f)]()),where(_0x34fb79(0x442),'==',_0x34fb79(0x9a2))),_0xcca088=await getDocs(_0x4d0c17);if(_0xcca088[_0x34fb79(0x7ab)]){showMessage(_0x34fb79(0x51c));return;}const _0x33a2a7=_0xcca088[_0x34fb79(0x7ed)][0x0];currentTeamQuizId=_0x33a2a7['id'];const _0x8ffb82=_0x33a2a7['data'](),_0x540cce=doc(db,_0x34fb79(0x31f)+appId+'/public/data/projects',_0x8ffb82[_0x34fb79(0x59c)]),_0x2cb1b1=doc(db,_0x34fb79(0x31f)+appId+_0x34fb79(0x8ca),_0x8ffb82[_0x34fb79(0x556)]),[_0x2d5480,_0x1a7728]=await Promise[_0x34fb79(0x277)]([getDoc(_0x540cce),getDoc(_0x2cb1b1)]);if(!_0x2d5480[_0x34fb79(0x77c)]()||!_0x1a7728['exists']())throw new Error(_0x34fb79(0x914));currentQuizData=getShuffledQuiz({'id':_0x1a7728['id'],..._0x1a7728[_0x34fb79(0x342)]()});const _0x32bb6e=_0x2d5480['data']();showTeamPlayerSelection(_0x32bb6e['students'],currentQuizData[_0x34fb79(0x836)]);}catch(_0x175ee1){console['error'](_0x34fb79(0x358),_0x175ee1),showMessage(_0x34fb79(0x9e3)+_0x175ee1['message']);}}async function handleJoinGroupActivity(){const _0x42ec5e=_0x3fa4d9,_0x3a8c13=prompt(_0x42ec5e(0x638));if(!_0x3a8c13||_0x3a8c13[_0x42ec5e(0x56f)]()[_0x42ec5e(0x3e1)]!==0x4){showMessage(_0x42ec5e(0x7eb));return;}const _0x4d0dd6=_0x3a8c13[_0x42ec5e(0x56f)]();showMessage(_0x42ec5e(0x857));try{const _0x2c110b=collection(db,_0x42ec5e(0x31f)+appId+_0x42ec5e(0x3e7)),_0x47ea21=query(_0x2c110b,where(_0x42ec5e(0x8fb),'==',_0x4d0dd6),where(_0x42ec5e(0x442),'==',_0x42ec5e(0x9a2))),_0x425f7b=await getDocs(_0x47ea21);if(!_0x425f7b[_0x42ec5e(0x7ab)]){console[_0x42ec5e(0x3c2)](_0x42ec5e(0x2fd)),await proceedWithTeamQuizJoin(_0x425f7b['docs'][0x0]);return;}const _0x106596=collection(db,_0x42ec5e(0x31f)+appId+_0x42ec5e(0x3f7)),_0x4924af=query(_0x106596,where(_0x42ec5e(0x8fb),'==',_0x4d0dd6),where(_0x42ec5e(0x442),'==',_0x42ec5e(0x9a2))),_0x4b9042=await getDocs(_0x4924af);if(!_0x4b9042[_0x42ec5e(0x7ab)]){console['log'](_0x42ec5e(0x44f)),await proceedWithSyncQuizJoin(_0x4b9042[_0x42ec5e(0x7ed)][0x0]);return;}showMessage(_0x42ec5e(0xa6e));}catch(_0x1a001b){console[_0x42ec5e(0x1d8)]('Error\x20joining\x20activity:',_0x1a001b),showMessage(_0x42ec5e(0x5cf)+_0x1a001b[_0x42ec5e(0x936)]);}}async function proceedWithTeamQuizJoin(_0x1e38ad){const _0x2c55dd=_0x3fa4d9;currentTeamQuizId=_0x1e38ad['id'];const _0x281be1=_0x1e38ad[_0x2c55dd(0x342)](),_0xbd4ec0=doc(db,'artifacts/'+appId+_0x2c55dd(0x4e0),_0x281be1[_0x2c55dd(0x59c)]),_0xfe13e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x281be1[_0x2c55dd(0x556)]),[_0x260ec9,_0x434a5c]=await Promise[_0x2c55dd(0x277)]([getDoc(_0xbd4ec0),getDoc(_0xfe13e)]);if(!_0x260ec9[_0x2c55dd(0x77c)]()||!_0x434a5c[_0x2c55dd(0x77c)]())throw new Error(_0x2c55dd(0x914));currentQuizData=getShuffledQuiz({'id':_0x434a5c['id'],..._0x434a5c[_0x2c55dd(0x342)]()}),showTeamPlayerSelection(_0x260ec9[_0x2c55dd(0x342)]()[_0x2c55dd(0x5ff)],currentQuizData['topic'],_0x281be1[_0x2c55dd(0x3ab)]||_0x2c55dd(0x3d0)),messageModal[_0x2c55dd(0x21b)][_0x2c55dd(0x214)]('hidden');}async function proceedWithSyncQuizJoin(_0x2146d9){const _0x1dada3=_0x3fa4d9;currentLiveGameId=_0x2146d9['id'];const _0x12c9f4=_0x2146d9[_0x1dada3(0x342)](),_0xd098b0=doc(db,_0x1dada3(0x31f)+appId+_0x1dada3(0x8ca),_0x12c9f4['quizId']),_0x1223fd=await getDoc(_0xd098b0);if(!_0x1223fd[_0x1dada3(0x77c)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x3d37fa=_0x1223fd[_0x1dada3(0x342)](),_0x3bfeef=doc(db,_0x1dada3(0x31f)+appId+_0x1dada3(0x4e0),_0x3d37fa[_0x1dada3(0x59c)]),_0x2adec1=await getDoc(_0x3bfeef);if(!_0x2adec1[_0x1dada3(0x77c)]())throw new Error(_0x1dada3(0x6d1));currentQuizData=_0x12c9f4[_0x1dada3(0x6d0)],showView('student-team-join'),showTeamPlayerSelection(_0x2adec1[_0x1dada3(0x342)]()[_0x1dada3(0x5ff)],_0x3d37fa[_0x1dada3(0x836)],_0x1dada3(0x80c)),document['getElementById'](_0x1dada3(0x42c))[_0x1dada3(0x672)]=confirmAndJoinSyncGame,messageModal[_0x1dada3(0x21b)][_0x1dada3(0x214)](_0x1dada3(0x88c));}function showTeamPlayerSelection(_0x2da5f8,_0x22f6a8,_0x5bfd2f=_0x3fa4d9(0x3d0)){const _0x58a755=_0x3fa4d9;studentInitialView[_0x58a755(0x21b)][_0x58a755(0x214)]('hidden'),studentJoinGameView[_0x58a755(0x21b)][_0x58a755(0x214)](_0x58a755(0x88c)),document[_0x58a755(0x4d6)]('student-team-selection-view')['classList'][_0x58a755(0x621)](_0x58a755(0x88c));let _0x30ccf8=_0x58a755(0x71d);if(_0x5bfd2f===_0x58a755(0x915))_0x30ccf8='Group\x20Mode';else _0x5bfd2f===_0x58a755(0x80c)&&(_0x30ccf8=_0x58a755(0x3a8));document[_0x58a755(0x4d6)](_0x58a755(0x1b0))['textContent']=_0x30ccf8+':\x20'+_0x22f6a8;const _0x4d72c6=document[_0x58a755(0x4d6)]('team-student-list');if(!_0x2da5f8||_0x2da5f8[_0x58a755(0x3e1)]===0x0){_0x4d72c6[_0x58a755(0xa8d)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x58a755(0x4d6)]('confirm-team-players-btn')[_0x58a755(0x907)]=!![];return;}_0x4d72c6['innerHTML']=_0x2da5f8['map'](_0x5db5ea=>_0x58a755(0x978)+_0x5db5ea+_0x58a755(0x18c)+_0x5db5ea+_0x58a755(0x432))[_0x58a755(0x3d6)](''),document[_0x58a755(0x4d6)](_0x58a755(0x42c))[_0x58a755(0x907)]=![];}async function confirmAndStartTeamQuiz(){const _0x2a08c1=_0x3fa4d9,_0x283968=Array['from'](document[_0x2a08c1(0x76c)]('input[name=\x22team_player\x22]:checked'))[_0x2a08c1(0x9f0)](_0x250b9b=>_0x250b9b[_0x2a08c1(0xa87)]);if(_0x283968[_0x2a08c1(0x3e1)]===0x0){showMessage(_0x2a08c1(0x9c9));return;}localTeamPlayers=_0x283968,localPlayerTurnIndex=0x0;const _0x427e5b=doc(db,_0x2a08c1(0x31f)+appId+_0x2a08c1(0x3e7),currentTeamQuizId),_0x50c41d=await getDoc(_0x427e5b);if(!_0x50c41d['exists']()){showMessage(_0x2a08c1(0x17c));return;}const _0x7dee7a=_0x50c41d[_0x2a08c1(0x342)]();_0x7dee7a[_0x2a08c1(0x3ab)]===_0x2a08c1(0x915)&&(localGroupQuestionIndex=0x0);try{if(_0x7dee7a[_0x2a08c1(0x3ab)]==='group'){const _0x5da30b=userId,_0x1e1ebf={};_0x1e1ebf[_0x2a08c1(0x99e)+_0x5da30b]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x427e5b,_0x1e1ebf);}else{const _0xe941a0={};localTeamPlayers[_0x2a08c1(0x220)](_0x376581=>{const _0x5f33b5=_0x2a08c1;_0xe941a0[_0x5f33b5(0x7bd)+_0x376581]={'score':0x0,'answers':[]};}),await updateDoc(_0x427e5b,_0xe941a0);}document[_0x2a08c1(0x4d6)](_0x2a08c1(0x654))[_0x2a08c1(0x21b)][_0x2a08c1(0x214)](_0x2a08c1(0x88c)),renderTeamQuizQuestion();const _0xda9ced={'gameId':currentTeamQuizId,'mode':_0x7dee7a[_0x2a08c1(0x3ab)]||'team','players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0x2a08c1(0x5ae)](_0x2a08c1(0x614),JSON['stringify'](_0xda9ced)),listenForTeamQuizUpdates();}catch(_0x508d01){console[_0x2a08c1(0x1d8)](_0x2a08c1(0x2fe),_0x508d01),showMessage(_0x2a08c1(0x49e));}}async function renderTeamQuizQuestion(){const _0x107960=_0x3fa4d9,_0x285a58=doc(db,_0x107960(0x31f)+appId+_0x107960(0x3e7),currentTeamQuizId),_0x40ac52=await getDoc(_0x285a58);if(!_0x40ac52[_0x107960(0x77c)]())return;const _0x36dcd8=_0x40ac52[_0x107960(0x342)](),_0x127c8d=_0x36dcd8[_0x107960(0x3ab)]||_0x107960(0x3d0);let _0x285cec,_0x489d7b;_0x127c8d===_0x107960(0x915)?(_0x285cec=localGroupQuestionIndex,_0x489d7b=_0x107960(0xa78)+localTeamPlayers[_0x107960(0x3d6)](',\x20')):(_0x285cec=Math[_0x107960(0x67c)](localPlayerTurnIndex/localTeamPlayers[_0x107960(0x3e1)]),_0x489d7b=_0x107960(0x23b)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x107960(0x3e1)]]);if(_0x285cec>=currentQuizData[_0x107960(0x299)][_0x107960(0x3e1)]){displayTeamQuizFinalResults();return;}const _0x36fa29=currentQuizData[_0x107960(0x299)][_0x285cec],_0x3510a5=_0x36fa29[_0x107960(0x36e)]||currentQuizData['quizType'];let _0x4f3598=_0x36fa29['stem']||_0x36fa29[_0x107960(0x490)],_0x595276='';switch(_0x3510a5){case _0x107960(0x5c5):case _0x107960(0x307):_0x595276=_0x36fa29['options'][_0x107960(0x9f0)]((_0x2beeff,_0x40c324)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x40c324+_0x107960(0x72a)+_0x40c324+_0x107960(0x291)+_0x40c324+'\x22>'+_0x2beeff+_0x107960(0x5da))['join']('');break;case _0x107960(0x860):_0x595276=_0x107960(0x2d8);break;case _0x107960(0x775):case'fill_in_no_choices':_0x595276='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x107960(0x4f4):_0x595276=_0x107960(0x7b6)+_0x36fa29[_0x107960(0x3df)]['map'](_0x5ed3ea=>_0x107960(0x838)+_0x5ed3ea+'\x22>'+_0x5ed3ea+'</option>')[_0x107960(0x3d6)]('')+_0x107960(0x405);break;default:_0x595276=_0x107960(0x454);break;}studentQuizArea['innerHTML']=_0x107960(0x8d2)+(_0x285cec+0x1)+_0x107960(0x60f)+currentQuizData[_0x107960(0x299)][_0x107960(0x3e1)]+_0x107960(0x3ae)+_0x489d7b+_0x107960(0x5d1)+(_0x285cec+0x1)+'.\x20'+_0x4f3598+_0x107960(0x515)+(_0x36fa29[_0x107960(0x39e)]?_0x107960(0x5c1)+_0x36fa29[_0x107960(0x39e)]+_0x107960(0x551):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x595276+_0x107960(0x89c),studentQuizArea[_0x107960(0x21b)][_0x107960(0x621)](_0x107960(0x88c));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);const _0x62e715=document[_0x107960(0x4d6)](_0x107960(0x8c5));_0x127c8d===_0x107960(0x915)?_0x62e715['addEventListener']('click',handleGroupAnswerSubmit):_0x62e715[_0x107960(0x795)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x26e760=_0x3fa4d9,_0x3519a8=doc(db,_0x26e760(0x31f)+appId+_0x26e760(0x3e7),currentTeamQuizId),_0x2b6183=localGroupQuestionIndex,_0x91589b=currentQuizData[_0x26e760(0x299)][_0x2b6183],_0x528352=_0x91589b[_0x26e760(0x36e)]||currentQuizData[_0x26e760(0x25e)];let _0x5adf33=null,_0x2e0b03=![];if(_0x528352===_0x26e760(0x775)||_0x528352===_0x26e760(0x68c)){const _0x3d7b9b=document[_0x26e760(0x8c1)]('textarea[name=\x22team_answer\x22]');if(!_0x3d7b9b||!_0x3d7b9b[_0x26e760(0xa87)]['trim']()){showMessage(_0x26e760(0x337));return;}_0x5adf33=_0x3d7b9b[_0x26e760(0xa87)]['trim'](),_0x2e0b03=await gradeShortAnswer(_0x5adf33,_0x91589b);}else{const _0x34c34b=document[_0x26e760(0x8c1)](_0x26e760(0x981));if(!_0x34c34b||_0x34c34b[_0x26e760(0xa87)]===''){showMessage(_0x26e760(0x6ba));return;}_0x5adf33=_0x34c34b[_0x26e760(0xa87)];switch(_0x528352){case'true_false':_0x2e0b03=_0x5adf33===_0x26e760(0x218)===_0x91589b[_0x26e760(0x185)];break;case _0x26e760(0x4f4):_0x2e0b03=_0x5adf33===_0x91589b['correctResponse'];break;default:_0x2e0b03=parseInt(_0x5adf33)===_0x91589b[_0x26e760(0x6ce)];break;}}const _0xe0b56d={'questionIndex':_0x2b6183,'isCorrect':_0x2e0b03},_0x5bd70f=userId,_0x3c4556={};_0x3c4556[_0x26e760(0x99e)+_0x5bd70f+_0x26e760(0x62a)]=arrayUnion(_0xe0b56d);_0x2e0b03&&(_0x3c4556[_0x26e760(0x99e)+_0x5bd70f+_0x26e760(0x8a5)]=increment(0x1));try{await updateDoc(_0x3519a8,_0x3c4556),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x56625b){console['error'](_0x26e760(0x518),_0x56625b),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x519e66=_0x3fa4d9,_0x54fb33=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x519e66(0x3e1)]],_0x5786ce=Math[_0x519e66(0x67c)](localPlayerTurnIndex/localTeamPlayers[_0x519e66(0x3e1)]),_0x13bc27=currentQuizData['questions'][_0x5786ce],_0x1949ea=_0x13bc27[_0x519e66(0x36e)]||currentQuizData[_0x519e66(0x25e)];let _0x14c179=null,_0x556bc6=![];if(_0x1949ea===_0x519e66(0x775)||_0x1949ea===_0x519e66(0x68c)){const _0x5971cf=document[_0x519e66(0x8c1)](_0x519e66(0x384));if(!_0x5971cf||!_0x5971cf['value'][_0x519e66(0x56f)]()){showMessage(_0x519e66(0x801));return;}_0x14c179=_0x5971cf[_0x519e66(0xa87)][_0x519e66(0x56f)](),_0x556bc6=await gradeShortAnswer(_0x14c179,_0x13bc27);}else{const _0x22216b=document['querySelector'](_0x519e66(0x981));if(!_0x22216b||_0x22216b[_0x519e66(0xa87)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x14c179=_0x22216b['value'];switch(_0x1949ea){case'true_false':const _0x551025=_0x14c179==='true';_0x556bc6=_0x551025===_0x13bc27[_0x519e66(0x185)];break;case _0x519e66(0x4f4):_0x556bc6=_0x14c179===_0x13bc27[_0x519e66(0xa97)];break;default:const _0x569b38=parseInt(_0x14c179);_0x556bc6=_0x569b38===_0x13bc27[_0x519e66(0x6ce)];break;}}const _0xb072a5={'questionIndex':_0x5786ce,'isCorrect':_0x556bc6,'answerValue':_0x14c179},_0x5370f8=doc(db,_0x519e66(0x31f)+appId+_0x519e66(0x3e7),currentTeamQuizId),_0x3842fa={};_0x3842fa[_0x519e66(0x7bd)+_0x54fb33+_0x519e66(0x62a)]=arrayUnion(_0xb072a5);_0x556bc6&&(_0x3842fa[_0x519e66(0x7bd)+_0x54fb33+_0x519e66(0x8a5)]=increment(0x1));try{await updateDoc(_0x5370f8,_0x3842fa),localPlayerTurnIndex++;const _0x99d45a=JSON[_0x519e66(0xa52)](sessionStorage[_0x519e66(0x449)](_0x519e66(0x614))||'{}');_0x99d45a[_0x519e66(0x911)]=localPlayerTurnIndex,sessionStorage[_0x519e66(0x5ae)](_0x519e66(0x614),JSON[_0x519e66(0x73b)](_0x99d45a)),renderTeamQuizQuestion();}catch(_0x5eafbf){console[_0x519e66(0x1d8)](_0x519e66(0x318),_0x5eafbf),showMessage(_0x519e66(0x703));}}function _0x3a72(){const _0x83172e=['.rename-quiz-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','tGain','binom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','groups.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','cursor','lobby','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-modal','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','export-compact-pdf-btn','comparison','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','katex','tan','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','fa-dumbbell\x20text-gray-700','underline','start-quiz-btn','.ideal-answer-input,\x20.correct-response-input','Error\x20during\x20class\x20analysis:','deselect-all-topics-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','_opt1\x22>ไม่ใช่</label></div>','dfrac','/public/data/liveGames','cancel-game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','http://www.w3.org/2000/svg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixedData','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','offset','kick-player-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','แบบทดสอบนี้หมดเวลาแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สอบซ่อม','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','text-gray-400\x20hover:text-indigo-600','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงรี','quiz-editor-questions-container','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','blockReason','พาราโบลา','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','ไม่พบข้อมูลแบบทดสอบ','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','blueprint-tab','ค่าเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','number','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','editable-text-','thead\x20.sortable-header','match','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','เกิดข้อผิดพลาด:\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','inactive','quiz-leaderboard-table','Error\x20adding\x20students:','Error\x20starting\x20group\x20quiz:','ค่าความจริง/ตารางค่าความจริง','</tr>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-title','now','save-game-results-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','map','confirm-rename-quiz-btn','lessonPlan','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','update-old-quizzes-btn','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','การคูณ','.delete-submission-btn','manage','files','เกมสิ้นสุดลงแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ทำคะแนนได้เกินครึ่ง','createdBy','จุด\x20เส้น\x20ระนาบ','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','สมการตรีโกณมิติ','All\x20groups\x20have\x20finished.\x20Ending\x20game.','shadowColor','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','results-display-select','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','projectOrder','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','save','_blank','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','สลับไปโหมดนักเรียน','</td>','mousemove','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','interesting-stats-container','การบวกเศษส่วน','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','Error\x20saving\x20game\x20results:','QUICK_THINKER','has','onchange','$$$1$','name','select','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','player-count','modal-confidence-mode-select','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','Authentication\x20failed:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20','ลำดับเลขคณิต\x20(AP)','bg-blue-100','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','ดอทโปรดักต์\x20(dot)','เกิดข้อผิดพลาดในการอัปเดตสถานะ','element','project-title','MathJax','rgba(79,\x2070,\x20229,\x201)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','mouseleave','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','responses','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','frac','ไม่พบแบบทดสอบในระบบเลย','AI\x20grading\x20failed:','จำนวนข้อ:','height','Copy\x20command\x20failed','grid','pointerup','right','\x22><p\x20class=\x22font-semibold\x22>','Error\x20saving\x20to\x20question\x20bank:','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-700','กรุณาป้อนรหัสแบบทดสอบ','createdAt','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','find','bank-input-area','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','รีเซ็ตลำดับโปรเจคแล้ว','.question-editor-item','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','เรขาคณิตวิเคราะห์','clientX','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','.edit-quiz-btn','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบ','(ก่อนเรียน)','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','.live-summary-tooltip.visible','perseverance','ย้ายแบบทดสอบไปโปรเจคอื่น','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ไฮเพอร์โบลา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','save-settings-btn','Failed\x20to\x20resume\x20game\x20session:','.ideal-answer-input','\x22\x20data-topic=\x22','กำลังดึงข้อมูลจากลิงก์...','พบข้อสอบ\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','globalCompositeOperation','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isConfidenceScoringEnabled','translate','comparison-overall-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','กลุ่ม:\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','#DBEAFE','24CSYjJT','Error\x20toggling\x20pin\x20status:','user','Error\x20moving\x20quiz:','student-name-input','791JSwFkY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','cancel-rename-quiz-btn','summary','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','opacity-50','value','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','export-image-btn','div[data-question-index=\x22','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','innerHTML','wakeLock','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','project-search-input','<textarea\x20name=\x22question','quick_thinker','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-close-btn','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','correctResponse','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','lowerGroupNames','student-quiz-leaderboard-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','student-reading-area','per-question-timer-container','ON_FIRE','selected-answer-index-hidden','\x20ชุดสำเร็จ!','starred','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','replace','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','.submittedAt','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','หมดเวลาสำหรับข้อนี้!','removeItem','\x20ใหม่...','Error\x20loading\x20user\x20preferences:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','show-results-btn','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','num-choices','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','circle','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','_opt','move-quiz-project-select','prev-question-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','รหัสไม่ถูกต้อง','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','AI\x20Fix\x20Error:','.start-game-btn','sort','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','timer-duration-container','preTestId','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','highlighter-tool-btn','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a---\x0a','ไม่พบข้อมูลเกม','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-q-type=\x22','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Group\x20Mode','scheduled','.quiz-bank-item','Error\x20updating\x20project\x20color:','correctAnswer','quiz-settings-modal','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','podium','ไม่พบโปรเจค','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','Error\x20deleting\x20custom\x20topic:','classWeaknesses','\x22>ไม่ใช่</p>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','currentQuestionIndex','Invalid\x20response\x20structure\x20from\x20AI.','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','bg-red-500','justification','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','admin-try-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ดูผลสรุปสุดท้าย','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{','end-team-quiz-btn','questionIndex','results_','tooltipTarget','confirm-delete-btn','checkbox','msExitFullscreen','quiz-results','<div\x20class=\x22space-y-4\x22>','admin-view','transformOrigin','deg','#ffffff','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FileReader\x20error:','team-quiz-topic','slide-counter','\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จาก\x20','\x22.\x20','select[name=\x22question_single\x22]','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','[role=\x22textbox\x22]','<br>','กรุณาวาง\x20URL\x20ของบทความก่อน','ข้อที่\x20','ตัวแปรและนิพจน์','per_question','end-sync-game-btn','questionId','practice-topic-btn','<div\x20class=\x22my-2\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','student-quiz-leaderboard-table-body','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','start-sync-game-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ร้อยละประยุกต์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','<h1></h1>','bank-quiz-search-input','.question-editor-item[data-q-index=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','Error\x20generating\x20lesson\x20plan:','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','.parallel-quiz-btn','ปิดใช้งาน','force-math-checkbox','red','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','presentation-modal','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','error','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','normal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','fullscreenchange','ผู้ไม่ยอมแพ้','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.lastAnswerCorrect','.topic-name-display','Error\x20generating\x20from\x20blueprint:','sync-player-management','copy-quiz-id-btn','กรุณาเลือกชื่อของคุณ','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','score-distribution-chart','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','.topic-row','standardTopic','#results-table','font-bold\x20text-green-700','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','passcode-input-container','7886680jkvSFT','เกิดข้อผิดพลาดในการลบหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','passcode','<button\x20data-value=\x22','num-choices-container','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','mean','verify-answers-btn','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','shadowBlur','fullscreenElement','\x20from\x20sync\x20game:','idealAnswer','AI\x20ไม่สามารถประมวลผลข้อมูลได้','catch','scrollX','ลำดับเรขาคณิต\x20(GP)','mouse','.color-palette-popup','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','behaviorLog','กลุ่มของคุณ','pen','touchmove','\x22>จาก:\x20','\x20ช่อง','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','$1^{\x5ccirc}','380VQyvSO','add','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','string','true','save-visibility-settings-btn','title','classList','modal-timer-duration-container','comeback_king','correct','admin-password-input','forEach','ศูนย์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fadeStartTime','16YYPEdo','Failed\x20to\x20parse\x20JSON\x20from\x20AI','.live-answer-btn,\x20#sync-submit-btn','Error\x20saving\x20quiz\x20edits:','เปิดใช้งาน','.start-live-race-btn','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','round','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','modal-confidence-scoring-checkbox','back-to-home-manual-release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','ลบหัวข้อสำเร็จ','currentTarget','file-tab','studentName','pointerType','close-presentation-btn','ตาของ:\x20','Remedial\x20quiz\x20generation\x20failed:','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','function','.regenerate-question-editor-btn','ใช่\x20/\x20ถูก','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','.delete-project-btn','</li>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','analytics','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','แบบทดสอบซ่อมเสริม','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctext{$1}','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<p\x20class=\x22font-bold\x20text-sm\x20','-\x20ข้อ\x20','prod','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','bg-yellow-50','ย้ายแบบทดสอบสำเร็จ','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ผู้เชี่ยวชาญ','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','entries','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','/public/data/learnedFixes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','quizType','answeredCurrentQuestion','setAttributeNS','preventDefault','\x22\x20name=\x22confidence','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','บันทึกผลการเล่นเกมของ\x20','loader-text','แบบทดสอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctext(','beginPath','firstScore','\x22...','20192808wOGlxc','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','className','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','Error\x20starting\x20game:','times','การยืนยันตัวตนล้มเหลว','.star-quiz-btn','\x20คนที่ส่ง\x20ตอบถูก\x20(','min','อัปเดตแบบทดสอบเก่า\x20','all','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','results-quiz-id-display','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','.choice-text','text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','add-custom-math-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','start-live-race-generated-btn','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','some','input[name=\x22drill_answer\x22]:checked','text-red-300\x20hover:text-red-100','จำนวนคู่:','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','finished','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','[contenteditable=\x22true\x22]','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','แคลคูลัสเบื้องต้น','#000000','questions','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','/studentProfiles','bg-gray-500','ไม่พบตารางสำหรับ\x20Export','question-analytics-container','warn','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','student-progress-view','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','summary_chart','pinnedProjects','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','rename-quiz-input','Error\x20generating\x20worksheet:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','project-id-display','leaderboard-tab','export-leaderboard-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','เกิดข้อผิดพลาดในการสร้างห้องเกม','.color-palette-btn','trail','generate-from-link-btn','00:00','left','อนุพันธ์:\x20กฎพื้นฐาน','กฎของไซน์','parallel-test-upload-input','ตรวจคะแนนใหม่\x20','confirm-create-project-btn','isScored','#student-quiz-leaderboard-content\x20thead','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','solution','$1\x20\x5cfrac','pre-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','list-view-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.ai-fix-question-btn','dragover','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','members','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lineWidth','project-list','กรุณาใส่ชื่อใหม่','[*]','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','typesetPromise','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','สมการเชิงเส้นตัวแปรเดียว','teachingContent','\x20คน\x20ตอบถูก</p></div>','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','quiz','topic-input','อุณหภูมิและการแปลง','.live-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','shouldSaveResults','bank-tab','เกิดข้อผิดพลาดในการจับคู่','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','Error\x20generating\x20easy\x20version\x20quiz:','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','isLooping','.answer-text','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','</strong></p>','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','upperGroupResponders','modal-adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ARRAY','cancel-quiz-status-btn','</tbody></table></div>','ฮิสโตแกรม','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','pointerdown','.quiz-result-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','เงินงวด\x20(อนุกรมเงินงวด)','behavior-log-tab-content','พบ\x20Team\x20Quiz!','Error\x20confirming\x20players:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','516499432840','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','back-from-results-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','fill_in_with_choices','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getPage','badges','font-bold\x20text-red-700\x20line-through','โดเมนและเรนจ์','สู้ๆ\x20ลองอีกครั้งนะ','block','setAttribute','bg-gray-50','ค่าเสื่อมราคา',')\x5cb)','\x20รายการ...','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','quadraticCurveTo','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','newappai.firebaseapp.com','Error\x20submitting\x20team\x20answer:','global-quiz-list','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','cancel-admin-login-btn','shuffleSetting','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','ระยะเวลา\x20(นาที):','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','bottom','วงกลม:\x20คอร์ดและเส้นสัมผัส','global-quiz-search-input','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','admin-password-modal','deltaY','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','delete','fa-rocket\x20text-purple-500','Error\x20saving\x20user\x20preference:','contentEditable','set','</h3>','timer-mode-select','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบของกลุ่ม','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','link-topic-input','ฐานนิยม','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','timerDuration','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','playerName','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','data','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','แผนภาพเวนน์','confirm-admin-login-btn','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','difficulty-level-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','quiz-status-modal','พีชคณิตและฟังก์ชัน','bg-green-500','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20all\x20students:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','6808950TmngTv','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-300\x20bg-green-50','Error\x20joining\x20team\x20quiz:','STRING','options','text-green-700\x20bg-green-100','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','schedule','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','\x5csum','num-questions','parseFromString','project-detail','รูปแบบการให้เหตุผล','อสมการเชิงเส้น','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','ไม่ใช่','whole_quiz','timerMode','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','questionType','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','endTime','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สร้างชุดคำถามจับคู่','substring','ownerSVGElement','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','อัปเดตพฤติกรรมสำหรับ\x20','live-player-list','Original\x20quiz\x20not\x20found','border-indigo-400\x20ring-2\x20ring-indigo-200','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','จำนวนนักเรียน','enable-passcode-checkbox','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','textarea[name=\x22team_answer\x22]','showRankings','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามดิบ:\x20\x22','totalPoints','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','เปลี่ยนชื่อโปรเจคสำเร็จ','Error\x20listening\x20for\x20starred\x20quizzes:','back-to-student-home-btn','lesson-plan-modal','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ไม่สามารถบันทึกการตั้งค่าได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','คะแนนยังไม่ถึงครึ่ง','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','close-game-final-btn','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</span>','Error\x20deleting\x20project:','<tr\x20class=\x22','save-quiz-edits-btn','submittedAt','globalSettings','get','imageCode','user-id-display',':</p><p\x20class=\x22text-xs\x22>','getDocument','localeCompare','explanation','export-pdf-modal','การแปลงรูปอัตลักษณ์','isFinished','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','Sync\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text/csv;charset=utf-8;','mode','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','download','dimmed','behavior-log-tab-btn','\x22\x20class=\x22delete-project-btn\x20','ยืนยันการจับคู่','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','false','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','originalQuestionText','$1\x5c%','wheel','text-emerald-900','parts','.status','results-table-container','insertBefore','analytics-tab-btn','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','log','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','save-quiz-btn','หน่วยความยาวและการแปลง','bg-green-100\x20text-green-800','promptFeedback','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','input[type=\x22checkbox\x22]','team','\x22><span>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cdot','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','join','confidenceMode',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','live-short-answer-input','ส่วนเบี่ยงเบนเฉลี่ย','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','rgba(255,\x20255,\x200,\x200.5)','timestamp','API\x20call\x20failed','allResponses','save-project-name-btn','length','mjx-container','export-pdf-btn','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','confidence-modal','/public/data/teamQuizzes','cancel-export-pdf-btn','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question','width','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','Error\x20deleting\x20submission:','\x22\x20value=\x22false\x22\x20','project-passcode-modal','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x20คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ชื่อโปรเจคห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','/public/data/syncGames','href','.delete-svg-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','dispatchEvent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','suggestedAnswer','สมการเหตุผล\x20(rational)','overallGroups','text-green-600\x20font-bold','input[name=\x22question_single\x22]:checked','กฎของโคไซน์','</select>','modal-timer-duration-input','No\x20player\x20data\x20to\x20save.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ทำคะแนนเต็มในการทำครั้งแรก','เวกเตอร์และเมทริกซ์\x20(เสริม)','close','practiceProblems','text-red-700','.csv','drop','แก้ไขหัวข้อสำเร็จ','gamePin','ความน่าจะเป็นแบบมีเงื่อนไข','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','passcode-prompt-message','p-2\x20bg-black/10\x20rounded-md','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','N/A','closePath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','msRequestFullscreen','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','เซียนสมองไว','score','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','add-student-btn','เลือกโปรเจคเพื่อบันทึก','เกิดข้อผิดพลาดในการบันทึก','border-green-700','.live-answer-btn,\x20#live-submit-short-answer-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','grid-view-btn','standard','ref','export-leaderboard-image-btn','.summary-bar-item','$1\x5ctext{','confirm-team-players-btn','bulk-shuffle-select','shuffle','<svg','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','presentation-scratchpad-btn','screen_exit','<button\x20data-quiz-id=\x22','screen','quiz-leaderboard-table-container','_opt0\x22\x20name=\x22question','cancel-quiz-edits-btn-footer','แบบทดสอบนี้ปิดใช้งานอยู่','.quiz-bank-settings-btn','hasPerfectScoreBonus','sync-short-answer-input','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','cancel-quiz-bank-btn','.quiz-bank-try-btn','color','status','.pin-project-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20committing\x20score\x20updates:','มัธยฐาน','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getItem','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','บันทึกการตั้งค่าแล้ว','retake-quiz-loop-btn','latestSubmittedAt','พบ\x20Sync\x20Game!','.duplicate-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','players','</p>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','math-topic-search-input','กรุณาเลือกโปรเจคที่ต้องการบันทึก','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','toFixed','strength-weakness-analysis-container','scores-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ระยะทางและจุดกึ่งกลาง','ตรีโกณมิติ','เกิดข้อผิดพลาดในการติดดาว','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','confidence-scoring-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','loader','Error\x20toggling\x20star\x20status:','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','qType','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','answer-counter','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','starred-project','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','หน่วยเวลาและการคำนวณเวลา','admin-dashboard','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','hasOwnProperty','raw','Error\x20listening\x20for\x20projects:','1:516499432840:web:7b2a9a571fad2e3d68463d','กำลังสร้างแบบทดสอบจากหัวข้อ...','การคูณทศนิยม','\x20หัวข้อ)','หัวข้อที่สร้างเอง','เกิดข้อผิดพลาดในการลบโปรเจค','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','การประยุกต์เวกเตอร์พื้นฐาน','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','behavior-log-container','translate(','.compare-results-btn','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลการจับคู่','สร้างคำถามแบบใช่/ไม่ใช่','กรุณาใส่ชื่อโปรเจค','eraser','svg','questionText','main-correct-answer-display','เรเดียนและการแปลงหน่วย','.pdf','.answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-input-area','การหาร','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-bulk-quiz-settings-btn','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','interesting-stats-wrapper','):\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','auto','next-question-btn','view-my-progress-btn','actions-container-','การลบ','isPasscodeEnabled','button[data-id]','Error\x20updating\x20pin\x20status:','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','fas\x20fa-user-edit','10119WMcssF','blueprint-input-area','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','promise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','#view-rankings-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','workerSrc','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','กรุณาเลือกคำตอบก่อนครับ','end-game-btn','visible','link-url-input','หลังเรียน','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความสัมพันธ์ของมุม','delete-svg-btn','close-lesson-plan-modal-footer-btn','analytics-tab-content','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classStrengths','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','toLocaleDateString','option','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','isArray','requestFullscreen','text-yellow-800','passcode-error-msg','scratchpad-clear-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div>','game-start-mode','ยกเลิกการจับคู่สำเร็จ','afterend','.regenerate-question-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','คะแนน','global-live-game-modal','type','BOOLEAN','reset-view-btn','bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','passing-score-input','/public/data/projects','body','timer-duration-label','STOP','manage-tab-content','cancel-test-btn','^{\x5ccirc}\x5ctext{C}$','generate-from-text-btn','undo-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Invalid\x20response\x20structure\x20from\x20AI:','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','commit','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dashboardConfig','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','matching_item','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','startsWith','\x20ครั้ง)</span></td>','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','global-live-game-count','text-gray-100','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','ผลรวมอนุกรม\x20(Σ)','scratchpad-canvas','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-area','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','showImproveButton','print','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x5cs*\x5c(','projectName','เกี่ยวกับหัวข้อ\x20\x22','ความเป็นอิสระของเหตุการณ์','การแจกแจงปกติและ\x20z-score','pinned-items','text-red-700\x20bg-red-100','fas\x20fa-star\x20text-yellow-500',',\x20r=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/questionBank','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนและสัดส่วน','Failed\x20to\x20kick\x20player\x20','Error\x20submitting\x20group\x20answer:','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','removeEventListener','reveal-answer-btn','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','lastAnswerIndex','submit','leaderboard-quiz-tab-btn','</button>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','projectSortOrder','ดอกเบี้ยทบต้น','max','ความชันเส้นสัมผัส','message-modal','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','confirmation-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','เมทริกซ์:\x20บวก/คูณ','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','cancel-move-quiz-btn','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','แผนการสอน','การสร้างรูปด้วยวงเวียน–สันตรง','Error\x20unpairing\x20quizzes:','</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','stopPropagation','เกิดข้อผิดพลาดในการนำผู้เล่นออก','newappai','</body></html>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเอกสารการส่งงานของ\x20','shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','.quiz-bank-parallel-btn','ring-2','appendChild','innerText','<span\x20title=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','touchcancel','สมการราก\x20(radical)','ลบผลสอบของ\x20','verify-answers-editor-btn','postScore','รอเปิด','#student-project-leaderboard-content\x20thead','แบบปรนัย\x204\x20ตัวเลือก','grabbing','confidence-scoring-description','confirm-move-quiz-btn','quiz-bank-modal','</div>','destroy','reset-project-order-btn','touchstart','บันทึกการตั้งค่าสำเร็จ','quizId','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-modal','เกิดข้อผิดพลาดในการลบผลสอบ','</span></div>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','per-question-options','getBoundingClientRect','(^|[^\x5c\x5c])\x5cb','รูปสแควร์รูท\x20(surd)','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fa-pen','student','post-test','desc','.correct-response-input','student-team-join','attemptNumber','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerCorrect','#F59E0B','scrollY','trim','<li>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','highlighter-size-value','.delete-custom-topic-btn','ไม่สามารถเริ่มเกมได้','กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','ฟังก์ชันลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','Enter','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','clearRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ทฤษฎีบทพื้นฐานของแคลคูลัส','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-worksheet-pdf-btn','scratchpad-modal','custom-math-topic-input','แบบเติมคำตอบ','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','Firebase\x20initialization\x20failed:','อนุพันธ์:\x20ผลคูณ/ผลหาร','```json','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','far\x20fa-star','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','size','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div><div\x20class=\x22space-y-2\x22>','attempts','players.','Leaderboard\x20update\x20transaction\x20failed:\x20','move','</span></td>','ส่งแล้ว','scratchpad-close-btn','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','projectId','confirm-join-game-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','show-in-student-dashboard-checkbox','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','Error\x20starting\x20live\x20race:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','Error\x20saving\x20visibility\x20settings:','toDate','.verification-result','.quiz-bank-delete-btn','Error\x20listening\x20for\x20custom\x20math\x20topics:','open-global-live-btn','\x20สำเร็จ','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','setItem','จำนวนคละ','stdDev','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','-tab-content','ฟังก์ชันผกผัน','ผู้ควบคุม\x20(ทดสอบ)','#results-table\x20thead\x20tr','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','textContent','getScreenCTM','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','confidence-mode-select','สอบปกติ','<div\x20class=\x22loader\x20mx-auto\x22></div>','split','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','presentation-slide-container','multiple_choice','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results','points','arrayBuffer','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','null','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','.topic-actions-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','exitFullscreen','\x20รายการสำเร็จ!','checked','.group','sync-submit-btn','modal-shuffle-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','preTScore','</label></div>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','#retake-for-improvement-btn','presentation-short-answer-input','Error\x20generating\x20from\x20link:','perQuestionStats','parallel-test-input-area','text-gray-300\x20hover:text-white','Error\x20processing\x20file\x20for\x20AI:','ไม่ใช่\x20/\x20ผิด','บันทึกการตั้งค่าการแสดงผลสำเร็จ','#FFFFFF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','change','ค.ร.น.\x20(LCM)','กำลังสร้างคำถามข้อ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อินเวอร์สของเมทริกซ์','(คู่ขนาน)\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','badgesCount','rgba(239,\x2068,\x2068,\x200.9)','dataset','draggable-text','text-yellow-300','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ไม่สามารถโหลดรายการโปรเจคได้','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','bank-quiz-list','pairedQuizId','targetId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transform','students','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','student-join-game-view','#10B981','text','student-quiz-topic','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.lastAnswerIndex','q-text-','live-game','.doc','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x20/\x20','scratchpad-header','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','both','activeGameSession','\x22\x5cn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','answers','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.answeredCurrentQuestion','generated-quiz-actions','\x22\x20data-name=\x22','label','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','button','qIndex','next-drill-btn','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loopUntilPass','bg-amber-100\x20text-amber-800','<p>','พื้นที่วงกลม/ส่วนของวงกลม','link-tab','ตอบถูก\x203\x20ข้อติดต่อกัน','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','.answers','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<tr>','medium','modal-timer-mode-select','comparison-overall-content','#26890c','ผิด','คณิตศาสตร์','stroke','cancel-quiz-edits-btn','jspdf','input[type=\x22radio\x22]:checked','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','เส้นตรง:\x20รูปแบบสมการ','contains','rgba(239,\x2068,\x2068,\x200.7)','fa-user-astronaut\x20text-blue-700','ระยะเวลา\x20(วินาที):','short','</tbody></table>','sum','/public/data/projects/','student-rankings-modal','คณิตการเงิน/บูรณาการ','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.cancel-edit-topic-btn','answerText','from','text-tab','onload','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','parent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','สร้างใหม่','student-team-selection-view','results-tab','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','icon','ยังไม่เต็มนะ','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','เปิด\x20(จับเวลา)','สำหรับโปรเจค:\x20','lesson-plan-content','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-blue-700\x20bg-blue-100','padStart','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ดีมาก','flex','bg-green-50','bg-blue-100\x20text-blue-800','ข้อต่อไป','worksheet-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันค่าสัมบูรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','modal-results-display-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','G-JGJ3WNEQP3','onclick','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20student:','text-gray-500','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','textarea','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','ความคล้ายของรูป','\x20mx-1\x20text-lg\x22></i></span>','floor','การหารทศนิยม','generate-from-topic-btn','สร้างคำถามแบบเติมคำในช่องว่าง','getContext','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','removeAttribute','onerror','submissions','.quiz-bank-move-btn','<li\x20class=\x22','modal-loop-until-pass-checkbox','tool','fill_in_no_choices','offsetWidth','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','earned-badges-container','live-race','.unpair-quiz-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','style','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','มุมพิเศษ\x2045°-45°-90°','ความแปรปรวน','text/html','ดีเทอร์มิแนนต์','Error\x20joining\x20live\x20game:','choices_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','ความต่อเนื่อง','\x20รายการ\x20สำเร็จ!','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','ไม่สามารถโหลดข้อมูลอันดับได้','comparison-individual-tab','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','[data-topic-container-id]','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','<div><input\x20type=\x22radio\x22\x20id=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','repeat','latestScore','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</p><p><strong>เฉลย:</strong>\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','ตอบถูกทุกข้อในแบบทดสอบนี้','start-game-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ไม่มีคำอธิบาย','เกิดข้อผิดพลาดในการโหลดโปรเจค','q-image-container-','ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','uid','\x22><i\x20class=\x22fas\x20','กรุณาเลือกคำตอบของกลุ่ม','.project-card-container:not(.opacity-50)','loop-until-pass-checkbox','list','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','hint','sync-player-list','progress-project-select','ai-quiz-generator-v3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','.topic-actions-edit','หมดเวลา!\x20กำลังส่งคำตอบ...','bg-green-200','toDataURL','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','th-TH','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','FIRST_TRY_ACE','correctAnswerIndex','bestScore','shuffledQuiz','ไม่พบข้อมูลโปรเจค','/public/data/practiceBank','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','projectView','nickname-input','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','back-to-project-btn','leaderboard-quiz','#FEF3C7','ไม่พบแบบทดสอบสำหรับรหัสนี้','ไม่มีผู้ตอบตัวเลือกนี้','toString','#D1FAE5','Error\x20pairing\x20quizzes:','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','webkitRequestFullscreen','.ai-fix-formula-btn','every','ท็อปฟอร์ม','authed_project_','เกิดข้อผิดพลาดในการปักหมุด','modal-confidence-mode-container','confirm-passcode-btn','1734275lhrJDJ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','slice','คำถามถัดไป','Error\x20verifying\x20answers\x20in\x20editor:','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','key','overline','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','text-white','temp-loader-results','insertAdjacentHTML','ค่าคลาดเคลื่อนของการวัด','bg-green-100\x20font-bold','.draggable-text','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.presentation-option','comparison-modal','สร้างโปรเจคสำเร็จ!','Error\x20generating\x20from\x20parallel\x20test\x20file:','เกิดข้อผิดพลาดในการส่งคำตอบ','touch','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','Error\x20generating\x20parallel\x20test\x20from\x20bank:','behavior-log','.export-pdf-list-btn','topic-input-area','sqrt','show_results_and_answers','สมการลอการิทึม','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนนเฉลี่ย','<div\x20class=\x22','<div>','\x20ข้อ\x20','setFont','การบวกทศนิยม','ควรปรับปรุง','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','ยอดเยี่ยม','text-red-900','ไม่ได้ตอบ','%</span>','Team\x20Quiz','math-topics-checkbox-container','autoTable','keys','project-quizzes-list','keydown','setTransform','export-leaderboard-pdf-btn','clientY','\x20mb-2\x22>','quiz-leaderboard-table-body','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','multiply','\x22\x20name=\x22team_answer\x22\x20value=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','/preferences/main','Error\x20resetting\x20project\x20order:','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','rgba(79,\x2070,\x20229,\x200.8)','#E5E7EB','check-presentation-answer-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','neq','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','target','release','<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','devicePixelRatio','stringify','preScore','.topic-category','pop','Error\x20loading\x20quiz\x20for\x20student:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x22\x20class=\x22pin-project-btn\x20','<div\x20id=\x22q-image-container-','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','2-digit','confidence-scoring-toggle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x5cdiv','Error\x20opening\x20quiz\x20editor:','text-content-input','ระบบอสมการ','fromCharCode','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','การวัด','(ก่อนเรียน)\x20','isCorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','ความชันและเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','export-excel-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','.edit-question-btn','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','ไม่มี','พื้นที่สามเหลี่ยม','findIndex','<div\x20class=\x22flex-1\x22></div>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','แผนภาพกล่อง\x20(box\x20plot)','quiz-form','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','querySelectorAll','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','การบวก','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','data:application/vnd.ms-word;charset=utf-8,','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','```','$1_{$2}','short_answer','quiz-type-select','teacherSuggestions','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','exists','-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<p\x20class=\x22text-2xl\x22>','กรุณาเลือกสถานะ','OBJECT','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','text-green-700','stem','</span><span\x20class=\x22font-bold\x22>','table','live-options-container','Failed\x20to\x20create/update\x20submission\x20record:','.\x20แต่ละข้อมี\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','บันทึกแบบทดสอบสำเร็จแล้ว!','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','random','<i\x20class=\x22fas\x20fa-pen\x22></i>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','isRemedial','values','</div>\x0a</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','addEventListener','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','answering','finishReason','การกระจายและการจัดหมู่','text-red-600','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','.highlighter-color-btn','quiz-start-time','ชื่อหัวข้อห้ามว่าง','confirm-confident','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','fas\x20fa-bookmark','bg-green-200\x20text-green-800','postTScore','splice','.generate-easy-version-btn','ใช่','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','description','quiz-bank-count','empty','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','lesson-plan-title','goto-next-question-btn','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','การเรียงสับเปลี่ยน\x20(Permutation)','3645entooR','<span\x20class=\x22font-bold\x20','สถิติและความน่าจะเป็น','confidence-mode-container','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','progress-student-select','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','student-project-leaderboard-table-body','input[type=\x22text\x22]','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-btn','responses.','modal-passing-score-input','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','canvas','ระบบเลขและค่าประจำหลัก','join-live-game-btn','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ยืนยันและอัปเดตทั้งหมด','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','lower_group_count','pre-test-checkbox','rgba(59,\x20130,\x20246,\x200.7)','not-found','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-manage-players-btn','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x5cle','instructions','Failed\x20to\x20end\x20group\x20mode\x20game:','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','open','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','isStarred','58458eZQZhF','redo-btn','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','top','presentation-ai-result','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','/public/data/quizzes/','คะแนนเต็ม','ห.ร.ม.\x20(GCD)','total','generated-quiz-container','reference-pdf-upload','matching','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','mousedown','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quizMode','back-to-dashboard-btn','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','request','docs','Error\x20adding\x20custom\x20topic:','ปริพันธ์จำกัด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','close-comparison-modal-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x20คะแนน</span></div>','quiz-id-input','line-through\x20text-red-700','พื้นที่สี่เหลี่ยม','ยังไม่มีนักเรียนส่งงาน','Re-grade\x20process\x20failed:','กรุณาพิมพ์คำตอบของคุณ','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','การนับ','totalQuestions','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','bar','คัดลอกแบบทดสอบสำเร็จ','presentation-explanation','sync','file-input-area','.quiz-status-btn','Error\x20duplicating\x20quiz:','webkitExitFullscreen','Error\x20listening\x20for\x20student\x20profiles:','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','กฎบวกและกฎคูณ','manage-players-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','beforeend','.edit-custom-topic-btn','Error\x20saving\x20submission:','confirm-game-start-modal','เกิดข้อผิดพลาดในการเข้าร่วมเกม','load-quiz-btn','จำนวนและการดำเนินการ','blueprint-upload-input','.topic-name-input','.project-card-container.opacity-50','กราฟแท่ง\x20กราฟเส้น','project-sort-select','bg-purple-50','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','ลบแบบทดสอบสำเร็จแล้ว','ระบบสมการเชิงเส้นสองตัวแปร','Error\x20displaying\x20question\x20bank:','first_try_ace','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','passingScore','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','file-topic-input','lineJoin','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</option>','default','topic','\x5ctimes','<option\x20value=\x22','submission','bg-yellow-100','\x22\x20value=\x22','#e21b3c','\x5cfrac{$1}{$2}','กำลังสร้างรูปภาพ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.sortable-header','student-initial-view','reduce','กรุณาเลือกโปรเจคปลายทาง','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','GlobalWorkerOptions','<span\x20class=\x22sort-indicator\x20ml-2\x22>','hint-btn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','questionDisplayedAt','next-sync-question-btn','isAdaptive','resultsDisplay','mode-switcher-btn','isPinned','student-list','q-explanation-','filter','s;\x22\x20title=\x22','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังค้นหากิจกรรม...','การแยกตัวประกอบ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','project-passcode-input','show_results_only','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','.mb-6.p-4','pen-tool-btn','scratchpad-question','true_false','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','Error\x20generating\x20quiz:','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','image/png','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','viewBox','.start-presentation-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','select-all-topics-btn','backgroundColor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/users/','กรุณาเลือกไฟล์ก่อน','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','dragstart','แบบทดสอบจากคลังส่วนตัว','groups','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','globalAlpha','position','.pointsLastQuestion','push','\x20</div>\x0a\x20\x20\x20\x20','COMEBACK_KING','moveTo',';\x22\x20data-id=\x22','scheduled_pending','fa-crown\x20text-yellow-500','pow','.scratchpad-content-wrapper','student-name-select','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','textarea[name=\x22question_single\x22]','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','text-red-500\x20hover:text-red-700','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','NUMBER','hidden','</th>','confirm-global-live-btn','Error\x20updating\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','สรุปผลการวิเคราะห์:\x5cn','<div\x20class=\x22mb-3\x20topic-category\x22>','(ฉบับง่าย)\x20','results-table','leaderboard','comparison-individual-content','update','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','visibilitychange','projectSort','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-global-live-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questions_only','transition-all','.score','bulk-results-display-select','results-tab-content','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','baseVal','analyze-strengths-btn','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ring-purple-400','(หลังเรียน)\x20','asc','documentElement','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','bg-green-100','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','admin-testing','bg-red-100\x20text-red-800','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','upperGroupNames','cancel-team-selection-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','highlighter','เส้นจำนวน','quiz-generation-area','active','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20สำเร็จ','submit-team-answer-btn','เปลี่ยนชื่อแบบทดสอบสำเร็จ','ไม่ผ่าน','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirmation-modal','/public/data/quizzes','https://corsproxy.io/?','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','countdown-display','AI\x20request\x20was\x20blocked.\x20Reason:\x20','11RHaJCa','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','confidence','กำลังอัปเดตแบบทดสอบ\x20','ผ่าน','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','div','Error\x20rendering\x20student\x20progress:','strokeStyle','document','questionStatus','.save-to-bank-btn','touchend','Error\x20confirming\x20players\x20for\x20sync\x20game:','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','scratchpad-controls','ฟังก์ชันราก\x20(root)','#E0E7FF','\x20ชุด)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','parallel-test-tab','กำลังจับคู่...','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','API\x20call\x20failed\x20with\x20status:\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','ส่วนเบี่ยงเบนมาตรฐาน','อัตราและอัตราหน่วย','includes','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','next-question-timed-btn','code','มุมพิเศษ\x2030°-60°-90°','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','timer-duration-input','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','คัดลอกไม่สำเร็จ','pin','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','question','game-start-quiz-id','มุมและการวัดมุม','admin','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','delete-all-students-btn','NEGATIVE_INFINITY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','content','สเกลและแผนที่','disabled','open-sync-scratchpad-btn','start-presentation-btn','#FCE7F3','อัปเดตสถานะสำเร็จ','จับคู่แบบทดสอบสำเร็จ!','</td></tr>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','on_fire','.pen-size-btn','turnIndex','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ค่าสัมบูรณ์','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','group','touches','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-parallel-test-btn','quiz-results-table-body','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','export-word-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','.lastAnswerValue','live-game-view','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/submissions','items','answer','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','{$1}','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','json','upper_group_count','ไม่พบข้อมูลข้อสอบหลังเรียน','ราชาคัมแบ็ก','$1\x5ctimes','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','message','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','btn','การแจกแจงทวินาม\x20(พื้นฐาน)','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','mouseup','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x20\x20\x20-\x20','การจัดหมู่\x20(Combination)','student-project-leaderboard-content','scores-tab-content','student-name-selection-view','Error\x20saving\x20settings:','pointermove','newappai.firebasestorage.app','ส่งคำตอบ','getBBox','answer-grid-container','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22][value=\x22','พิสัย','wasConfident','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','quiz-search-input','cancel-create-project-btn','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','editor-quiz-topic','px)\x20scale(','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','เศษส่วน\x20(ย่อ/ขยาย)','execCommand','สรุปผลสุดท้าย','POST','\x5cge','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','startTime',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','เรขาคณิต','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','cancel-bulk-quiz-settings-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','confirm-quiz-settings-btn','circ','gain','question-complexity-select','date_desc','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','generate-from-file-btn','click','generate-worksheet-btn','outerHTML','cancel-passcode-btn','Error\x20generating\x20parallel\x20post-test:','ปริมาตรรูปทรงสามมิติ','highlighter-size-slider','join-group-activity-btn','pointercancel','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','bg-black/20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','perfect_score_status','text-gray-200','Error\x20comparing\x20results:','\x20mr-2\x22></i>','removeChild','<option\x20value=\x22\x22>กำลังโหลด...</option>','ยืนยันการกระทำ','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','ก่อนเรียน','confidence_single','.save-custom-topic-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','sin','</form>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','getAttributeNS','learningGaps','AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','กรุณาใส่ชื่อนักเรียน','MathJax\x20typeset\x20error\x20(analytics):','$1^{\x5ccirc}\x5ctext{C}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','indexOf','Error\x20renaming\x20quiz:','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','result','adaptive-quiz-checkbox','mandatory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'];_0x3a72=function(){return _0x83172e;};return _0x3a72();}async function displayTeamQuizFinalResults(){const _0x2fae16=_0x3fa4d9;studentQuizArea[_0x2fae16(0x21b)]['add'](_0x2fae16(0x88c)),studentResultArea['classList'][_0x2fae16(0x621)](_0x2fae16(0x88c));const _0x45507a=doc(db,_0x2fae16(0x31f)+appId+_0x2fae16(0x3e7),currentTeamQuizId),_0x4a7fa3=await getDoc(_0x45507a);if(!_0x4a7fa3[_0x2fae16(0x77c)]()){studentResultArea[_0x2fae16(0xa8d)]=_0x2fae16(0x198);return;}const _0x587fdb=_0x4a7fa3[_0x2fae16(0x342)]();let _0x55b80d=[];const _0x276d49=_0x587fdb[_0x2fae16(0x3ab)]||'team';if(_0x276d49===_0x2fae16(0x915)){const _0x2ff2c1=_0x587fdb[_0x2fae16(0x875)][userId];_0x2ff2c1?_0x55b80d=[{'name':_0x2fae16(0xa78)+localTeamPlayers[_0x2fae16(0x3d6)](',\x20'),'score':_0x2ff2c1[_0x2fae16(0x41d)]||0x0}]:_0x55b80d=[{'name':_0x2fae16(0x20c),'score':'N/A'}];}else _0x55b80d=localTeamPlayers[_0x2fae16(0x9f0)](_0x4d4a5f=>({'name':_0x4d4a5f,'score':_0x587fdb[_0x2fae16(0xa39)][_0x4d4a5f]?.['score']||0x0}))[_0x2fae16(0x171)]((_0x3feadf,_0x1b523b)=>_0x1b523b['score']-_0x3feadf['score']);studentResultArea['innerHTML']=_0x2fae16(0x46e)+_0x55b80d[_0x2fae16(0x9f0)](_0x5d65b1=>_0x2fae16(0x960)+_0x5d65b1[_0x2fae16(0xa19)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5d65b1[_0x2fae16(0x41d)]+_0x2fae16(0x444))[_0x2fae16(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage['removeItem'](_0x2fae16(0x614)),currentMode===_0x2fae16(0x900)&&currentTeamQuizId&&setTimeout(()=>{const _0x2e8cd9=_0x2fae16;deleteDoc(doc(db,_0x2e8cd9(0x31f)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x3fa4d9(0xa46)};const allMathTopics=[{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x804)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x7c2)},{'category':_0x3fa4d9(0x81e),'name':'การปัดเศษและประมาณค่า'},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x395)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x76e)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x4a3)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x9f7)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x497)},{'category':_0x3fa4d9(0x81e),'name':'จำนวนเต็มบวก'},{'category':_0x3fa4d9(0x81e),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x3fa4d9(0x221)},{'category':'จำนวนและการดำเนินการ','name':_0x3fa4d9(0x913)},{'category':'จำนวนและการดำเนินการ','name':_0x3fa4d9(0x8bb)},{'category':_0x3fa4d9(0x81e),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x7df)},{'category':'จำนวนและการดำเนินการ','name':_0x3fa4d9(0x5eb)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x516)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x8ef)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x954)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0xa12)},{'category':'จำนวนและการดำเนินการ','name':'การลบเศษส่วน'},{'category':_0x3fa4d9(0x81e),'name':'การคูณเศษส่วน'},{'category':_0x3fa4d9(0x81e),'name':'การหารเศษส่วน'},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x5af)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x7c4)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x715)},{'category':_0x3fa4d9(0x81e),'name':'การลบทศนิยม'},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x47f)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x67d)},{'category':'จำนวนและการดำเนินการ','name':_0x3fa4d9(0xa3b)},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x4ae)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x209)},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x5c0)},{'category':_0x3fa4d9(0x81e),'name':'รากที่สองและที่สาม'},{'category':_0x3fa4d9(0x81e),'name':_0x3fa4d9(0x560)},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x3cb)},{'category':_0x3fa4d9(0x751),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x477)},{'category':_0x3fa4d9(0x751),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x2db)},{'category':_0x3fa4d9(0x751),'name':'เส้นรอบรูป'},{'category':'การวัด','name':_0x3fa4d9(0x7fe)},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x764)},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x626)},{'category':_0x3fa4d9(0x751),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x972)},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x8ff)},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x906)},{'category':_0x3fa4d9(0x751),'name':_0x3fa4d9(0x6fb)},{'category':'เรขาคณิต','name':_0x3fa4d9(0x9ff)},{'category':_0x3fa4d9(0x95c),'name':_0x3fa4d9(0x4bc)},{'category':_0x3fa4d9(0x95c),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x3fa4d9(0x95c),'name':_0x3fa4d9(0x764)},{'category':_0x3fa4d9(0x95c),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x3fa4d9(0x67a)},{'category':_0x3fa4d9(0x95c),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x3fa4d9(0x95c),'name':_0x3fa4d9(0x324)},{'category':_0x3fa4d9(0x95c),'name':_0x3fa4d9(0x8eb)},{'category':_0x3fa4d9(0x95c),'name':_0x3fa4d9(0x5cd)},{'category':_0x3fa4d9(0x95c),'name':_0x3fa4d9(0x335)},{'category':_0x3fa4d9(0x95c),'name':'สมมาตร\x20(แกน/จุด)'},{'category':'เรขาคณิต','name':_0x3fa4d9(0x532)},{'category':_0x3fa4d9(0x95c),'name':_0x3fa4d9(0x165)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x1bc)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x799)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x8d0)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x858)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x2d4)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x827)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x3c1)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x16e)},{'category':_0x3fa4d9(0x34b),'name':'สมการค่าสัมบูรณ์'},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x400)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x546)},{'category':_0x3fa4d9(0x34b),'name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3fa4d9(0x70c)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x366)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการค่าสัมบูรณ์'},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x74d)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x4b4)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x30c)},{'category':_0x3fa4d9(0x34b),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x5b5)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x8ab)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x3fa4d9(0x34b),'name':'ฟังก์ชันพหุนาม'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x8e2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3fa4d9(0x66c)},{'category':_0x3fa4d9(0x34b),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x3fa4d9(0x34b),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x578)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0xa27)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x206)},{'category':_0x3fa4d9(0x34b),'name':_0x3fa4d9(0x4fe)},{'category':_0x3fa4d9(0x34b),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x3fa4d9(0x34b),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x3fa4d9(0xa59),'name':_0x3fa4d9(0x45d)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3fa4d9(0x755)},{'category':_0x3fa4d9(0xa59),'name':_0x3fa4d9(0x63a)},{'category':_0x3fa4d9(0xa59),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x3fa4d9(0xa59),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x3fa4d9(0xa59),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x3fa4d9(0xa59),'name':_0x3fa4d9(0x9d2)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3fa4d9(0x9ce)},{'category':_0x3fa4d9(0xa59),'name':_0x3fa4d9(0xa66)},{'category':_0x3fa4d9(0x45e),'name':_0x3fa4d9(0x629)},{'category':_0x3fa4d9(0x45e),'name':_0x3fa4d9(0x8f5)},{'category':_0x3fa4d9(0x45e),'name':_0x3fa4d9(0x697)},{'category':_0x3fa4d9(0x45e),'name':_0x3fa4d9(0x492)},{'category':_0x3fa4d9(0x45e),'name':_0x3fa4d9(0x2b7)},{'category':'ตรีโกณมิติ','name':_0x3fa4d9(0x404)},{'category':_0x3fa4d9(0x45e),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x3fa4d9(0x45e),'name':_0x3fa4d9(0x3a5)},{'category':_0x3fa4d9(0x45e),'name':_0x3fa4d9(0xa01)},{'category':_0x3fa4d9(0x45e),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x3fa4d9(0x45e),'name':_0x3fa4d9(0x98c)},{'category':_0x3fa4d9(0x7b4),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x8c2)},{'category':_0x3fa4d9(0x7b4),'name':'ตารางความถี่'},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x822)},{'category':'สถิติและความน่าจะเป็น','name':_0x3fa4d9(0x2f6)},{'category':'สถิติและความน่าจะเป็น','name':_0x3fa4d9(0x769)},{'category':'สถิติและความน่าจะเป็น','name':_0x3fa4d9(0x9d8)},{'category':'สถิติและความน่าจะเป็น','name':_0x3fa4d9(0x446)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x33a)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x94b)},{'category':'สถิติและความน่าจะเป็น','name':_0x3fa4d9(0x3da)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x698)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x8ee)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x50b)},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x3fa4d9(0x7b4),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x3fa4d9(0x813)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x344)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x412)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x50a)},{'category':'สถิติและความน่าจะเป็น','name':_0x3fa4d9(0x7b1)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x93e)},{'category':_0x3fa4d9(0x7b4),'name':_0x3fa4d9(0x939)},{'category':_0x3fa4d9(0x7b4),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x3fa4d9(0x297),'name':'ลิมิต'},{'category':_0x3fa4d9(0x297),'name':_0x3fa4d9(0x69f)},{'category':_0x3fa4d9(0x297),'name':_0x3fa4d9(0x2b6)},{'category':_0x3fa4d9(0x297),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x3fa4d9(0x297),'name':_0x3fa4d9(0x58a)},{'category':_0x3fa4d9(0x297),'name':_0x3fa4d9(0x2f7)},{'category':_0x3fa4d9(0x297),'name':_0x3fa4d9(0x526)},{'category':_0x3fa4d9(0x297),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x3fa4d9(0x297),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':_0x3fa4d9(0x297),'name':_0x3fa4d9(0x7ef)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3fa4d9(0x581)},{'category':_0x3fa4d9(0x297),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x3fa4d9(0x40a),'name':_0x3fa4d9(0xa0c)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3fa4d9(0xa2a)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3fa4d9(0x485)},{'category':_0x3fa4d9(0x40a),'name':_0x3fa4d9(0x52c)},{'category':_0x3fa4d9(0x40a),'name':_0x3fa4d9(0x5ee)},{'category':_0x3fa4d9(0x40a),'name':_0x3fa4d9(0x69a)},{'category':_0x3fa4d9(0x40a),'name':_0x3fa4d9(0x498)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3fa4d9(0x4f8)},{'category':_0x3fa4d9(0x644),'name':_0x3fa4d9(0x524)},{'category':_0x3fa4d9(0x644),'name':_0x3fa4d9(0x2fb)},{'category':_0x3fa4d9(0x644),'name':_0x3fa4d9(0x311)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3fa4d9(0x1c8)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x3fa4d9(0x9e9)},{'category':_0x3fa4d9(0xa06),'name':_0x3fa4d9(0x365)},{'category':_0x3fa4d9(0xa06),'name':_0x3fa4d9(0x486)}];function renderTopicCheckboxes(){const _0x3d6a51=_0x3fa4d9,_0x11cbee=document[_0x3d6a51(0x4d6)](_0x3d6a51(0x71e));if(!_0x11cbee)return;const _0x1d0f7e=allMathTopics,_0x11537a=customMathTopics[_0x3d6a51(0x9f0)](_0x42873c=>({'id':_0x42873c['id'],'category':_0x3d6a51(0x481),'name':_0x42873c[_0x3d6a51(0xa19)]})),_0x5d9f33=[..._0x1d0f7e,..._0x11537a],_0x2dfd54=_0x5d9f33[_0x3d6a51(0x842)]((_0x520e40,_0x3f8fa9)=>{return!_0x520e40[_0x3f8fa9['category']]&&(_0x520e40[_0x3f8fa9['category']]=[]),_0x520e40[_0x3f8fa9['category']]['push'](_0x3f8fa9),_0x520e40;},{});let _0x100537='';const _0x2e9e94=[_0x3d6a51(0x481),...Object[_0x3d6a51(0x720)](_0x2dfd54)[_0x3d6a51(0x853)](_0x10a1b0=>_0x10a1b0!==_0x3d6a51(0x481))];for(const _0x563ed3 of _0x2e9e94){if(_0x2dfd54[_0x563ed3]){const _0x691e0=_0x563ed3===_0x3d6a51(0x481),_0x12e5fe=_0x691e0?_0x3d6a51(0x4a8):_0x3d6a51(0x7a1),_0x2527d0=_0x691e0?'text-blue-700':'text-indigo-700';_0x100537+=_0x3d6a51(0x892),_0x100537+=_0x3d6a51(0x24f)+_0x2527d0+_0x3d6a51(0x41b)+_0x12e5fe+_0x3d6a51(0x97d)+_0x563ed3+_0x3d6a51(0x453),_0x2dfd54[_0x563ed3][_0x3d6a51(0x220)](_0x3d3cda=>{const _0xdea7fa=_0x3d6a51,_0x941b8e=!!_0x3d3cda['id'],_0x29109f=_0x941b8e?_0xdea7fa(0x2ef)+_0x3d3cda['id']+_0xdea7fa(0x89f)+_0x3d3cda['id']+_0xdea7fa(0x17d)+_0x3d3cda['id']+_0xdea7fa(0x471)+_0x3d3cda['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x100537+=_0xdea7fa(0xa89)+(_0x3d3cda['id']||'')+_0xdea7fa(0x57b)+_0x3d3cda[_0xdea7fa(0xa19)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x3d3cda[_0xdea7fa(0xa19)]+_0xdea7fa(0x68e)+(_0x941b8e?_0xdea7fa(0x7e4)+_0x3d3cda[_0xdea7fa(0xa19)]+'\x22>':'')+_0xdea7fa(0x4b2)+_0x29109f+_0xdea7fa(0x17a);}),_0x100537+='</div>';}}_0x11cbee[_0x3d6a51(0xa8d)]=_0x100537||_0x3d6a51(0x5cc),_0x11cbee[_0x3d6a51(0x51a)](_0x3d6a51(0x5ea),updateSelectedTopicsCount),_0x11cbee[_0x3d6a51(0x795)](_0x3d6a51(0x5ea),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x41e998,_0x370564){const _0x5afd3a=_0x3fa4d9;if(!_0x41e998||!_0x370564[_0x5afd3a(0x56f)]()){showMessage(_0x5afd3a(0x79e));return;}try{const _0x415889=doc(db,'artifacts/'+appId+_0x5afd3a(0xa35),_0x41e998);await updateDoc(_0x415889,{'name':_0x370564['trim']()}),showMessage(_0x5afd3a(0x410));}catch(_0x17cd4a){console[_0x5afd3a(0x1d8)]('Error\x20updating\x20custom\x20topic:',_0x17cd4a),showMessage(_0x5afd3a(0x9d6));}}function toggleTopicEditMode(_0x3e8fc6,_0x4f4b51){const _0x4ecb21=_0x3fa4d9;if(!_0x3e8fc6)return;const _0x50f231=_0x3e8fc6[_0x4ecb21(0x8c1)](_0x4ecb21(0x1e0)),_0x8b598e=_0x3e8fc6['querySelector']('.topic-name-input'),_0x4b9988=_0x3e8fc6['querySelector'](_0x4ecb21(0x5d0)),_0x424a6b=_0x3e8fc6[_0x4ecb21(0x8c1)](_0x4ecb21(0x6c5));_0x50f231[_0x4ecb21(0x21b)][_0x4ecb21(0x8d1)](_0x4ecb21(0x88c),_0x4f4b51),_0x8b598e[_0x4ecb21(0x21b)][_0x4ecb21(0x8d1)](_0x4ecb21(0x88c),!_0x4f4b51),_0x4b9988[_0x4ecb21(0x21b)][_0x4ecb21(0x8d1)](_0x4ecb21(0x88c),_0x4f4b51),_0x424a6b[_0x4ecb21(0x21b)][_0x4ecb21(0x8d1)]('hidden',!_0x4f4b51),_0x4f4b51&&(_0x8b598e[_0x4ecb21(0x9a9)](),_0x8b598e[_0x4ecb21(0xa1a)]());}async function handleStartLiveRace(_0x26acbb){const _0x4c21ac=_0x3fa4d9;let _0x39ea55=allQuizzes[_0x4c21ac(0xa53)](_0x16ba75=>_0x16ba75['id']===_0x26acbb);if(!_0x39ea55){const _0x25e5fc=doc(db,'artifacts/'+appId+_0x4c21ac(0x8ca),_0x26acbb),_0x20567a=await getDoc(_0x25e5fc);if(!_0x20567a[_0x4c21ac(0x77c)]()){showMessage(_0x4c21ac(0x9d5));return;}_0x39ea55={'id':_0x20567a['id'],..._0x20567a[_0x4c21ac(0x342)]()};}const _0x237bf8=getShuffledQuiz(_0x39ea55);currentQuizData=_0x237bf8;const _0x17e71b=_0x39ea55[_0x4c21ac(0x59c)]||currentProjectId||null,_0x572fee=Math['floor'](0x3e8+Math[_0x4c21ac(0x78e)]()*0x2328)[_0x4c21ac(0x6dc)]();currentLiveGamePin=_0x572fee;try{const _0x228ac1=await addDoc(collection(db,_0x4c21ac(0x31f)+appId+_0x4c21ac(0x9b9)),{'quizId':_0x26acbb,'projectId':_0x17e71b,'status':_0x4c21ac(0x9a2),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x572fee,'createdAt':serverTimestamp(),'shuffledQuiz':_0x237bf8});currentLiveGameId=_0x228ac1['id'],showAdminLobbyView(_0x572fee,_0x39ea55[_0x4c21ac(0x836)]),listenForLiveGameUpdates();}catch(_0x4543ca){console[_0x4c21ac(0x1d8)](_0x4c21ac(0x5a1),_0x4543ca),showMessage(_0x4c21ac(0x2b0));}}function updateSelectedTopicsCount(){const _0x5bca8a=_0x3fa4d9,_0x1a503e=document[_0x5bca8a(0x4d6)]('math-topics-checkbox-container'),_0x160adc=_0x1a503e[_0x5bca8a(0x76c)]('input[type=\x22checkbox\x22]:checked')['length'],_0x1a762e=document[_0x5bca8a(0x4d6)]('selected-topics-count');_0x160adc>0x0?_0x1a762e[_0x5bca8a(0x5b9)]='(เลือกแล้ว\x20'+_0x160adc+_0x5bca8a(0x480):_0x1a762e['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3fa4d9(0x564),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3fa4d9(0x6cf),quizLeaderboardSortOrder=_0x3fa4d9(0x566),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x3fa4d9(0x3dc),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x3fa4d9(0x298),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x35768d,_0x1b3d9c){const _0x1da54a=_0x3fa4d9;return Math[_0x1da54a(0x70a)](Math[_0x1da54a(0x881)](_0x35768d['x']-_0x1b3d9c['x'],0x2)+Math[_0x1da54a(0x881)](_0x35768d['y']-_0x1b3d9c['y'],0x2));}function getMidpoint(_0x109e88,_0x2fc4e1){return{'x':(_0x109e88['x']+_0x2fc4e1['x'])/0x2,'y':(_0x109e88['y']+_0x2fc4e1['y'])/0x2};}function getTransformedPoint(_0x4b955c,_0x3d458d){return{'x':(_0x4b955c-scratchpadOffset['x'])/scratchpadScale,'y':(_0x3d458d-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x78c294=_0x3fa4d9;if(!scratchpadCtx)return;const _0x21181f=scratchpadCtx[_0x78c294(0x7c1)],_0x443921=window[_0x78c294(0x73a)]||0x1,_0x1e926a=document[_0x78c294(0x4d6)](_0x78c294(0x610));_0x1e926a&&(_0x1e926a[_0x78c294(0x694)][_0x78c294(0x1aa)]='0\x200',_0x1e926a[_0x78c294(0x694)][_0x78c294(0x5fe)]=_0x78c294(0x488)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x78c294(0x952)+scratchpadScale+')'),scratchpadCtx[_0x78c294(0xa0a)](),scratchpadCtx[_0x78c294(0x723)](_0x443921,0x0,0x0,_0x443921,0x0,0x0),scratchpadCtx[_0x78c294(0x57e)](0x0,0x0,_0x21181f['width'],_0x21181f[_0x78c294(0xa44)]),scratchpadCtx[_0x78c294(0x948)](),scratchpadCtx[_0x78c294(0xa0a)](),scratchpadCtx[_0x78c294(0xa74)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x78c294(0x220)](_0x5a322b=>{drawStroke(_0x5a322b);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x78c294(0x948)]();}function handlePointerDown(_0x3af94a){const _0x4c3d49=_0x3fa4d9;_0x3af94a[_0x4c3d49(0x261)]();const _0x161b75=scratchpadCtx[_0x4c3d49(0x7c1)],_0x301139=_0x161b75['getBoundingClientRect'](),_0x56a597=_0x3af94a[_0x4c3d49(0x239)]||(_0x3af94a[_0x4c3d49(0x916)]?_0x4c3d49(0x704):'mouse');if(_0x56a597===_0x4c3d49(0x20d)||_0x56a597===_0x4c3d49(0x207)){if(_0x3af94a[_0x4c3d49(0x239)]===_0x4c3d49(0x207)&&_0x3af94a[_0x4c3d49(0x61e)]!==0x0){_0x3af94a[_0x4c3d49(0x61e)]===0x1&&(isMousePanning=!![],panStart={'x':_0x3af94a[_0x4c3d49(0xa5a)],'y':_0x3af94a[_0x4c3d49(0x725)]},_0x161b75['style'][_0x4c3d49(0x9a1)]=_0x4c3d49(0x54d));return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2f0ba2=getTransformedPoint(_0x3af94a[_0x4c3d49(0xa5a)]-_0x301139['left'],_0x3af94a['clientY']-_0x301139['top']);let _0x1df146={'tool':activeTool,'points':[_0x2f0ba2]};if(activeTool===_0x4c3d49(0x8ba))_0x1df146['color']=scratchpadHighlighterColor,_0x1df146['size']=scratchpadHighlighterSize;else activeTool===_0x4c3d49(0x2b2)?(_0x1df146[_0x4c3d49(0x441)]=scratchpadPenColor,_0x1df146['size']=scratchpadPenSize):(_0x1df146[_0x4c3d49(0x441)]=scratchpadPenColor,_0x1df146[_0x4c3d49(0x590)]=scratchpadPenSize);currentStroke=_0x1df146;}else _0x3af94a[_0x4c3d49(0x916)]&&(_0x3af94a[_0x4c3d49(0x916)][_0x4c3d49(0x3e1)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3af94a[_0x4c3d49(0x916)][0x0][_0x4c3d49(0xa5a)],'y':_0x3af94a[_0x4c3d49(0x916)][0x0][_0x4c3d49(0x725)]},{'x':_0x3af94a[_0x4c3d49(0x916)][0x1][_0x4c3d49(0xa5a)],'y':_0x3af94a['touches'][0x1][_0x4c3d49(0x725)]}),initialPinchDistance=getDistance({'x':_0x3af94a[_0x4c3d49(0x916)][0x0]['clientX'],'y':_0x3af94a['touches'][0x0][_0x4c3d49(0x725)]},{'x':_0x3af94a['touches'][0x1]['clientX'],'y':_0x3af94a[_0x4c3d49(0x916)][0x1]['clientY']})));}function animateTrail(){const _0x32a51d=_0x3fa4d9,_0x25c3f8=Date['now']();let _0x2a2ec4=![];for(let _0x34a766=strokes[_0x32a51d(0x3e1)]-0x1;_0x34a766>=0x0;_0x34a766--){const _0x3e9243=strokes[_0x34a766];if(_0x3e9243[_0x32a51d(0x68b)]===_0x32a51d(0x2b2)&&_0x3e9243['fadeStartTime']){const _0x599728=_0x25c3f8-_0x3e9243[_0x32a51d(0x226)];_0x599728>=TRAIL_DURATION?strokes[_0x32a51d(0x7a4)](_0x34a766,0x1):(_0x3e9243['opacity']=0x1-_0x599728/TRAIL_DURATION,_0x2a2ec4=!![]);}}redrawScratchpad(),_0x2a2ec4?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x3f37d1){const _0x5b6e82=_0x3fa4d9;if(!_0x3f37d1||_0x3f37d1['points'][_0x5b6e82(0x3e1)]<0x1)return;scratchpadCtx[_0x5b6e82(0xa0a)](),scratchpadCtx['lineJoin']='round',scratchpadCtx[_0x5b6e82(0x37e)]='round';if(_0x3f37d1['tool']==='trail'){const _0x5c2655=_0x3f37d1[_0x5b6e82(0x590)]/scratchpadScale;scratchpadCtx[_0x5b6e82(0x877)]=_0x3f37d1[_0x5b6e82(0x72e)]??0x1,scratchpadCtx['shadowColor']=_0x5b6e82(0x5f2),scratchpadCtx[_0x5b6e82(0x1ff)]=_0x5c2655*0x3,scratchpadCtx[_0x5b6e82(0x8da)]=_0x5b6e82(0x63c),scratchpadCtx['lineWidth']=_0x5c2655*2.5,scratchpadCtx[_0x5b6e82(0x269)](),scratchpadCtx[_0x5b6e82(0x87d)](_0x3f37d1[_0x5b6e82(0x5ca)][0x0]['x'],_0x3f37d1[_0x5b6e82(0x5ca)][0x0]['y']);for(let _0x3bf22b=0x1;_0x3bf22b<_0x3f37d1['points']['length']-0x1;_0x3bf22b++){const _0x5d6efe=getMidpoint(_0x3f37d1['points'][_0x3bf22b],_0x3f37d1['points'][_0x3bf22b+0x1]);scratchpadCtx[_0x5b6e82(0x315)](_0x3f37d1[_0x5b6e82(0x5ca)][_0x3bf22b]['x'],_0x3f37d1[_0x5b6e82(0x5ca)][_0x3bf22b]['y'],_0x5d6efe['x'],_0x5d6efe['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x5b6e82(0xa03)]='transparent',scratchpadCtx[_0x5b6e82(0x1ff)]=0x0,scratchpadCtx['strokeStyle']=_0x5b6e82(0x5e5),scratchpadCtx['lineWidth']=_0x5c2655,scratchpadCtx[_0x5b6e82(0x634)](),scratchpadCtx[_0x5b6e82(0x418)]();}else{if(_0x3f37d1['tool']===_0x5b6e82(0x8ba)){scratchpadCtx[_0x5b6e82(0xa70)]=_0x5b6e82(0x729),scratchpadCtx[_0x5b6e82(0x8da)]=_0x3f37d1['color'],scratchpadCtx[_0x5b6e82(0x2cc)]=_0x3f37d1['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x5b6e82(0x87d)](_0x3f37d1[_0x5b6e82(0x5ca)][0x0]['x'],_0x3f37d1['points'][0x0]['y']);for(let _0x1d1258=0x1;_0x1d1258<_0x3f37d1['points'][_0x5b6e82(0x3e1)]-0x1;_0x1d1258++){const _0x1660cd=getMidpoint(_0x3f37d1[_0x5b6e82(0x5ca)][_0x1d1258],_0x3f37d1[_0x5b6e82(0x5ca)][_0x1d1258+0x1]);scratchpadCtx[_0x5b6e82(0x315)](_0x3f37d1[_0x5b6e82(0x5ca)][_0x1d1258]['x'],_0x3f37d1[_0x5b6e82(0x5ca)][_0x1d1258]['y'],_0x1660cd['x'],_0x1660cd['y']);}scratchpadCtx[_0x5b6e82(0x634)](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x3f37d1['tool']===_0x5b6e82(0x48e)?'destination-out':'source-over',scratchpadCtx[_0x5b6e82(0x8da)]=_0x3f37d1['color'],scratchpadCtx[_0x5b6e82(0x2cc)]=_0x3f37d1['size'],scratchpadCtx[_0x5b6e82(0x269)](),scratchpadCtx[_0x5b6e82(0x87d)](_0x3f37d1[_0x5b6e82(0x5ca)][0x0]['x'],_0x3f37d1[_0x5b6e82(0x5ca)][0x0]['y']);for(let _0x17ad05=0x1;_0x17ad05<_0x3f37d1[_0x5b6e82(0x5ca)][_0x5b6e82(0x3e1)]-0x1;_0x17ad05++){const _0xd223c7=getMidpoint(_0x3f37d1[_0x5b6e82(0x5ca)][_0x17ad05],_0x3f37d1[_0x5b6e82(0x5ca)][_0x17ad05+0x1]);scratchpadCtx[_0x5b6e82(0x315)](_0x3f37d1[_0x5b6e82(0x5ca)][_0x17ad05]['x'],_0x3f37d1[_0x5b6e82(0x5ca)][_0x17ad05]['y'],_0xd223c7['x'],_0xd223c7['y']);}scratchpadCtx[_0x5b6e82(0x634)](),scratchpadCtx[_0x5b6e82(0x418)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x3089b4){const _0x4a491c=_0x3fa4d9;_0x3089b4[_0x4a491c(0x261)]();const _0x34d65c=scratchpadCtx[_0x4a491c(0x7c1)],_0xf28f09=_0x34d65c['getBoundingClientRect']();if(_0x3089b4[_0x4a491c(0x916)]){if(_0x3089b4[_0x4a491c(0x916)]['length']===0x1&&isDrawingOnScratchpad){const _0x244688=getTransformedPoint(_0x3089b4[_0x4a491c(0x916)][0x0]['clientX']-_0xf28f09[_0x4a491c(0x2b5)],_0x3089b4[_0x4a491c(0x916)][0x0]['clientY']-_0xf28f09[_0x4a491c(0x7da)]);currentStroke[_0x4a491c(0x5ca)]['push'](_0x244688),redrawScratchpad();}else{if(_0x3089b4[_0x4a491c(0x916)]['length']===0x2&&isPanning){const _0x3d0c55=getDistance({'x':_0x3089b4[_0x4a491c(0x916)][0x0][_0x4a491c(0xa5a)],'y':_0x3089b4[_0x4a491c(0x916)][0x0][_0x4a491c(0x725)]},{'x':_0x3089b4[_0x4a491c(0x916)][0x1]['clientX'],'y':_0x3089b4[_0x4a491c(0x916)][0x1]['clientY']}),_0xec4897=getMidpoint({'x':_0x3089b4[_0x4a491c(0x916)][0x0]['clientX'],'y':_0x3089b4[_0x4a491c(0x916)][0x0][_0x4a491c(0x725)]},{'x':_0x3089b4['touches'][0x1][_0x4a491c(0xa5a)],'y':_0x3089b4[_0x4a491c(0x916)][0x1][_0x4a491c(0x725)]}),_0x16344d=_0x3d0c55/ initialPinchDistance,_0x390511=Math['min'](Math[_0x4a491c(0x525)](scratchpadScale*_0x16344d,MIN_SCALE),MAX_SCALE),_0x8e913c=_0xec4897['x']-panStart['x'],_0x17ef3e=_0xec4897['y']-panStart['y'];scratchpadOffset['x']=_0xec4897['x']-(_0xec4897['x']-scratchpadOffset['x'])*(_0x390511/scratchpadScale),scratchpadOffset['y']=_0xec4897['y']-(_0xec4897['y']-scratchpadOffset['y'])*(_0x390511/scratchpadScale),scratchpadOffset['x']+=_0x8e913c,scratchpadOffset['y']+=_0x17ef3e,scratchpadScale=_0x390511,initialPinchDistance=_0x3d0c55,panStart=_0xec4897,redrawScratchpad();}}}else{if(isMousePanning){const _0x5134c4=_0x3089b4[_0x4a491c(0xa5a)]-panStart['x'],_0x24e2d8=_0x3089b4[_0x4a491c(0x725)]-panStart['y'];scratchpadOffset['x']+=_0x5134c4,scratchpadOffset['y']+=_0x24e2d8,panStart={'x':_0x3089b4[_0x4a491c(0xa5a)],'y':_0x3089b4['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5092b1=getTransformedPoint(_0x3089b4[_0x4a491c(0xa5a)]-_0xf28f09[_0x4a491c(0x2b5)],_0x3089b4[_0x4a491c(0x725)]-_0xf28f09[_0x4a491c(0x7da)]);currentStroke[_0x4a491c(0x5ca)]['push'](_0x5092b1),redrawScratchpad();}}}}function handlePointerUp(_0x24acf9){const _0x33d163=_0x3fa4d9;_0x24acf9['preventDefault']();const _0x48ec6e=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x48ec6e[_0x33d163(0x694)][_0x33d163(0x9a1)]=_0x33d163(0x835)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x33d163(0x5ca)][_0x33d163(0x3e1)]>0x1&&(strokes[_0x33d163(0x87a)](currentStroke),currentStroke[_0x33d163(0x68b)]===_0x33d163(0x2b2)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x9d8d04=_0x33d163,_0x22abbb=strokes['filter'](_0x1c2348=>_0x1c2348[_0x9d8d04(0x68b)]==='trail'&&!_0x1c2348['fadeStartTime']);if(_0x22abbb[_0x9d8d04(0x3e1)]>0x0){const _0x864482=Date[_0x9d8d04(0x9ed)]();_0x22abbb[_0x9d8d04(0x220)](_0x44e4ef=>_0x44e4ef[_0x9d8d04(0x226)]=_0x864482),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4a9452){const _0x14d0cb=_0x3fa4d9;_0x4a9452['preventDefault']();const _0x1f43d6=_0x4a9452[_0x14d0cb(0x329)]*-0.005,_0xdb8dcc=Math[_0x14d0cb(0x275)](Math[_0x14d0cb(0x525)](scratchpadScale+_0x1f43d6,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4a9452[_0x14d0cb(0xa5a)]-(_0x4a9452[_0x14d0cb(0xa5a)]-scratchpadOffset['x'])*(_0xdb8dcc/scratchpadScale),scratchpadOffset['y']=_0x4a9452[_0x14d0cb(0x725)]-(_0x4a9452[_0x14d0cb(0x725)]-scratchpadOffset['y'])*(_0xdb8dcc/scratchpadScale),scratchpadScale=_0xdb8dcc,redrawScratchpad();}function undo(){const _0x1c9b69=_0x3fa4d9;strokes[_0x1c9b69(0x3e1)]>0x0&&(redoStrokes['push'](strokes[_0x1c9b69(0x73e)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x163fe4=_0x3fa4d9;redoStrokes['length']>0x0&&(strokes[_0x163fe4(0x87a)](redoStrokes[_0x163fe4(0x73e)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x927d06=_0x3fa4d9;document[_0x927d06(0x4d6)](_0x927d06(0x4e8))[_0x927d06(0x907)]=strokes[_0x927d06(0x3e1)]===0x0,document[_0x927d06(0x4d6)](_0x927d06(0x7d8))[_0x927d06(0x907)]=redoStrokes['length']===0x0;}function openScratchpad(_0x12f02f,_0x19dc3c){const _0x4c217d=_0x3fa4d9,_0x2739f7=document['getElementById'](_0x4c217d(0x585)),_0x3b08eb=document[_0x4c217d(0x4d6)](_0x4c217d(0x85f)),_0x38218b=document[_0x4c217d(0x4d6)]('scratchpad-options'),_0x5eebf3=document[_0x4c217d(0x4d6)](_0x4c217d(0x8e1));_0x3b08eb[_0x4c217d(0x5b9)]=_0x12f02f[_0x4c217d(0x785)]||_0x12f02f['questionText'],_0x38218b[_0x4c217d(0xa8d)]=_0x19dc3c['map']((_0x2402f6,_0x155121)=>_0x4c217d(0x712)+String[_0x4c217d(0x74e)](0x41+_0x155121)+'.\x20'+_0x2402f6+_0x4c217d(0x551))['join'](''),_0x5eebf3[_0x4c217d(0xa8d)]=_0x4c217d(0x562),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2739f7[_0x4c217d(0x21b)][_0x4c217d(0x621)](_0x4c217d(0x88c)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x4c217d(0xa2e)])MathJax[_0x4c217d(0x2d1)]([_0x3b08eb,_0x38218b]);}function initializeScratchpadCanvas(){const _0x1e6c52=_0x3fa4d9,_0x2fc110=document['getElementById'](_0x1e6c52(0x4ff)),_0x23e959=document[_0x1e6c52(0x8c1)](_0x1e6c52(0x882));if(!_0x2fc110||!_0x23e959)return;scratchpadCtx=_0x2fc110['getContext']('2d',{'willReadFrequently':!![]});const _0x54e2e9=window[_0x1e6c52(0x73a)]||0x1,_0x2be819=_0x23e959[_0x1e6c52(0x55e)]();_0x2fc110[_0x1e6c52(0x3ec)]=_0x2be819[_0x1e6c52(0x3ec)]*_0x54e2e9,_0x2fc110[_0x1e6c52(0xa44)]=_0x2be819[_0x1e6c52(0xa44)]*_0x54e2e9,_0x2fc110[_0x1e6c52(0x694)][_0x1e6c52(0x3ec)]=_0x2be819[_0x1e6c52(0x3ec)]+'px',_0x2fc110['style'][_0x1e6c52(0xa44)]=_0x2be819['height']+'px',scratchpadCtx['scale'](_0x54e2e9,_0x54e2e9),scratchpadCtx[_0x1e6c52(0x831)]=_0x1e6c52(0x22e),scratchpadCtx[_0x1e6c52(0x37e)]=_0x1e6c52(0x22e),_0x2fc110[_0x1e6c52(0x51a)](_0x1e6c52(0x2f8),handlePointerDown),_0x2fc110[_0x1e6c52(0x51a)](_0x1e6c52(0x943),handlePointerMove),_0x2fc110['removeEventListener'](_0x1e6c52(0xa47),handlePointerUp),_0x2fc110[_0x1e6c52(0x51a)](_0x1e6c52(0x975),handlePointerUp),_0x2fc110[_0x1e6c52(0x51a)]('wheel',handleWheel),_0x2fc110[_0x1e6c52(0x51a)](_0x1e6c52(0x554),handlePointerDown),_0x2fc110[_0x1e6c52(0x51a)]('touchmove',handlePointerMove),_0x2fc110[_0x1e6c52(0x51a)](_0x1e6c52(0x8de),handlePointerUp),_0x2fc110[_0x1e6c52(0x795)]('pointerdown',handlePointerDown),_0x2fc110['addEventListener']('pointermove',handlePointerMove),_0x2fc110[_0x1e6c52(0x795)](_0x1e6c52(0xa47),handlePointerUp),_0x2fc110[_0x1e6c52(0x795)](_0x1e6c52(0x975),handlePointerUp),_0x2fc110['addEventListener'](_0x1e6c52(0x3ba),handleWheel,{'passive':![]}),_0x2fc110[_0x1e6c52(0x795)]('touchstart',handlePointerDown,{'passive':![]}),_0x2fc110[_0x1e6c52(0x795)](_0x1e6c52(0x20e),handlePointerMove,{'passive':![]}),_0x2fc110[_0x1e6c52(0x795)](_0x1e6c52(0x8de),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x529572=_0x3fa4d9,_0x46a15f=document[_0x529572(0x4d6)](_0x529572(0x585)),_0x404e91=document[_0x529572(0x4d6)]('scratchpad-controls');_0x404e91[_0x529572(0xa8d)]=_0x529572(0x522)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2a2c0a=document[_0x529572(0x4d6)](_0x529572(0x85e)),_0x46e266=document[_0x529572(0x4d6)]('eraser-tool-btn'),_0xf851e0=document['getElementById']('trail-tool-btn'),_0x4d7b65=document[_0x529572(0x4d6)](_0x529572(0x178)),_0x1dec96=document[_0x529572(0x4d6)]('pen-tools-group'),_0x82ba6a=document[_0x529572(0x4d6)]('highlighter-tools-group'),_0x5ab03e=[_0x2a2c0a,_0x46e266,_0xf851e0,_0x4d7b65];document[_0x529572(0x4d6)](_0x529572(0x59a))[_0x529572(0x795)](_0x529572(0x96d),()=>_0x46a15f['classList'][_0x529572(0x214)]('hidden')),document[_0x529572(0x4d6)](_0x529572(0x4dc))[_0x529572(0x795)](_0x529572(0x96d),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x529572(0x4ce))[_0x529572(0x795)](_0x529572(0x96d),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x529572(0x4d6)](_0x529572(0x4e8))[_0x529572(0x795)]('click',undo),document['getElementById'](_0x529572(0x7d8))['addEventListener'](_0x529572(0x96d),redo);const _0x14d868=_0x24af04=>{const _0x778dea=_0x529572;_0x5ab03e[_0x778dea(0x220)](_0x2f9a13=>_0x2f9a13[_0x778dea(0x21b)][_0x778dea(0x621)](_0x778dea(0x8bd))),_0x24af04[_0x778dea(0x21b)][_0x778dea(0x214)](_0x778dea(0x8bd));const _0x5c1b26=_0x24af04===_0x4d7b65;_0x1dec96[_0x778dea(0x21b)][_0x778dea(0x8d1)](_0x778dea(0x88c),_0x5c1b26),_0x82ba6a['classList'][_0x778dea(0x8d1)](_0x778dea(0x88c),!_0x5c1b26);};_0x2a2c0a[_0x529572(0x795)](_0x529572(0x96d),()=>{const _0x2d4878=_0x529572;activeTool=_0x2d4878(0x20d),_0x14d868(_0x2a2c0a);}),_0x46e266[_0x529572(0x795)](_0x529572(0x96d),()=>{activeTool='eraser',_0x14d868(_0x46e266);}),_0xf851e0[_0x529572(0x795)](_0x529572(0x96d),()=>{const _0x13cc44=_0x529572;activeTool=_0x13cc44(0x2b2),_0x14d868(_0xf851e0);}),_0x4d7b65[_0x529572(0x795)](_0x529572(0x96d),()=>{const _0x4d5401=_0x529572;activeTool=_0x4d5401(0x8ba),_0x14d868(_0x4d7b65);}),_0x1dec96[_0x529572(0x76c)](_0x529572(0x910))[_0x529572(0x220)](_0x395806=>{const _0x3efcdf=_0x529572;_0x395806['addEventListener'](_0x3efcdf(0x96d),_0x4805b8=>{const _0x10426c=_0x3efcdf;scratchpadPenSize=parseInt(_0x4805b8[_0x10426c(0x736)]['dataset'][_0x10426c(0x590)],0xa),_0x1dec96[_0x10426c(0x76c)]('.pen-size-btn')[_0x10426c(0x220)](_0x343348=>_0x343348[_0x10426c(0x21b)][_0x10426c(0x621)](_0x10426c(0x8bd))),_0x4805b8[_0x10426c(0x736)][_0x10426c(0x21b)][_0x10426c(0x214)](_0x10426c(0x8bd));});}),_0x1dec96['querySelectorAll']('.pen-color-btn')['forEach'](_0x4117a7=>{const _0x859c1b=_0x529572;_0x4117a7[_0x859c1b(0x795)](_0x859c1b(0x96d),_0x3f05e0=>{const _0x4f50c6=_0x859c1b;scratchpadPenColor=_0x3f05e0[_0x4f50c6(0x736)][_0x4f50c6(0x5f3)]['color'],_0x1dec96['querySelectorAll']('.pen-color-btn')[_0x4f50c6(0x220)](_0x2e9d74=>_0x2e9d74['classList'][_0x4f50c6(0x621)](_0x4f50c6(0x8bd))),_0x3f05e0[_0x4f50c6(0x736)][_0x4f50c6(0x21b)][_0x4f50c6(0x214)]('active');});}),_0x82ba6a['querySelectorAll'](_0x529572(0x79c))['forEach'](_0xe4641d=>{const _0x16231b=_0x529572;_0xe4641d['addEventListener'](_0x16231b(0x96d),_0x550c4c=>{const _0x28647b=_0x16231b;scratchpadHighlighterColor=_0x550c4c[_0x28647b(0x736)][_0x28647b(0x5f3)]['color'],_0x82ba6a['querySelectorAll'](_0x28647b(0x79c))[_0x28647b(0x220)](_0xa2ecb5=>_0xa2ecb5[_0x28647b(0x21b)]['remove']('active')),_0x550c4c[_0x28647b(0x736)][_0x28647b(0x21b)][_0x28647b(0x214)]('active');});});const _0x5a6d7a=document[_0x529572(0x4d6)](_0x529572(0x973)),_0x14cb81=document[_0x529572(0x4d6)](_0x529572(0x572));_0x5a6d7a['addEventListener']('input',_0x2f278d=>{const _0x46373e=_0x529572,_0x10e454=parseInt(_0x2f278d[_0x46373e(0x736)][_0x46373e(0xa87)],0xa);scratchpadHighlighterSize=_0x10e454,_0x14cb81[_0x46373e(0x5b9)]=_0x10e454;}),window[_0x529572(0x795)]('resize',()=>{const _0x16895e=_0x529572;!_0x46a15f[_0x16895e(0x21b)][_0x16895e(0x63b)](_0x16895e(0x88c))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3fa4d9(0x257),'name':_0x3fa4d9(0x7de),'description':_0x3fa4d9(0x6ae),'icon':_0x3fa4d9(0x880)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x3fa4d9(0x41c),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x3fa4d9(0x90f),'name':_0x3fa4d9(0x6e3),'description':_0x3fa4d9(0x628),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x3fa4d9(0x409),'icon':_0x3fa4d9(0x32e)},'COMEBACK_KING':{'id':_0x3fa4d9(0x21d),'name':_0x3fa4d9(0x931),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x3fa4d9(0x32b)},'SPECIALIST':{'id':_0x3fa4d9(0x3b4),'name':_0x3fa4d9(0x256),'description':_0x3fa4d9(0x6ef),'icon':_0x3fa4d9(0x63d)},'PERSEVERANCE':{'id':_0x3fa4d9(0xa62),'name':_0x3fa4d9(0x1dd),'description':_0x3fa4d9(0x8a8),'icon':_0x3fa4d9(0x9b0)}},firebaseConfig={'apiKey':_0x3fa4d9(0x98b),'authDomain':_0x3fa4d9(0x317),'projectId':_0x3fa4d9(0x538),'storageBucket':_0x3fa4d9(0x944),'messagingSenderId':_0x3fa4d9(0x300),'appId':_0x3fa4d9(0x47d),'measurementId':_0x3fa4d9(0x671)},appId=typeof __app_id!==_0x3fa4d9(0x927)?__app_id:_0x3fa4d9(0x6c2),adminView=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x1a9)),studentView=document[_0x3fa4d9(0x4d6)]('student-view'),projectDashboardView=document[_0x3fa4d9(0x4d6)]('project-dashboard-view'),projectDetailView=document[_0x3fa4d9(0x4d6)]('project-detail-view'),quizResultsView=document[_0x3fa4d9(0x4d6)]('quiz-results-view'),projectList=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x2cd)),noProjectsMsg=document[_0x3fa4d9(0x4d6)]('no-projects-msg'),projectTitle=document['getElementById'](_0x3fa4d9(0xa2d)),projectIdDisplay=document['getElementById'](_0x3fa4d9(0x2ab)),studentList=document['getElementById'](_0x3fa4d9(0x851)),messageModal=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x527)),modalMessage=document['getElementById']('modal-message'),createProjectModal=document[_0x3fa4d9(0x4d6)]('create-project-modal'),adminPasswordModal=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x328)),confirmationModal=document['getElementById']('confirmation-modal'),userIdDisplay=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x39f)),topicTab=document[_0x3fa4d9(0x4d6)]('topic-tab'),textTab=document['getElementById'](_0x3fa4d9(0x64a)),topicInputArea=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x709)),textInputArea=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x496)),manageTab=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x600)),resultsTab=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x655)),leaderboardTab=document['getElementById'](_0x3fa4d9(0x2ac)),manageTabContent=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x4e4)),resultsTabContent=document['getElementById'](_0x3fa4d9(0x8a7)),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document[_0x3fa4d9(0x4d6)]('project-quizzes-list'),fileTab=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x237)),fileInputArea=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x80d)),fileUploadInput=document['getElementById']('file-upload-input'),worksheetTab=document[_0x3fa4d9(0x4d6)]('worksheet-tab'),worksheetInputArea=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x66a)),generateWorksheetBtn=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x96e)),studentInitialView=document['getElementById'](_0x3fa4d9(0x841)),studentNameSelectionView=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x941)),studentQuizArea=document['getElementById'](_0x3fa4d9(0x501)),studentResultArea=document[_0x3fa4d9(0x4d6)]('student-result-area'),studentReadingArea=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0xa9c)),loadQuizBtn=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x81d)),startQuizBtn=document['getElementById'](_0x3fa4d9(0x9b2)),studentJoinGameView=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x604)),presentationModal=document['getElementById'](_0x3fa4d9(0x1d6)),renameQuizModal=document['getElementById'](_0x3fa4d9(0x559)),moveQuizModal=document['getElementById'](_0x3fa4d9(0x82f)),quizSettingsModal=document['getElementById'](_0x3fa4d9(0x186)),quizStatusModal=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x34a)),liveGameView=document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x920));function handleAutoFixLatex(){const _0x11a08c=_0x3fa4d9,_0x5daab2=document[_0x11a08c(0x4d6)](_0x11a08c(0x9cf))||document,_0x3c2a8c=_0x5daab2[_0x11a08c(0x76c)]([_0x11a08c(0x677),_0x11a08c(0x7ba),_0x11a08c(0x295),_0x11a08c(0x1b8),'.ql-editor',_0x11a08c(0x61c),_0x11a08c(0x27d),_0x11a08c(0x1cf),_0x11a08c(0x2ea)][_0x11a08c(0x3d6)](','));let _0x26a898=0x0;const _0x6b3a0a=_0x14fe76=>_0x11a08c(0xa87)in _0x14fe76?String(_0x14fe76[_0x11a08c(0xa87)]):_0x14fe76[_0x11a08c(0x542)]!==undefined?_0x14fe76['innerText']:_0x14fe76[_0x11a08c(0x5b9)]||'',_0x5106fb=(_0x567536,_0x220b7a)=>{const _0x6b13f9=_0x11a08c;if(_0x6b13f9(0xa87)in _0x567536){_0x567536['value']=_0x220b7a;return;}if(_0x567536['querySelector']&&_0x567536[_0x6b13f9(0x8c1)](_0x6b13f9(0x3e2)))return;if(_0x567536[_0x6b13f9(0x542)]!==undefined)_0x567536[_0x6b13f9(0x542)]=_0x220b7a;else _0x567536[_0x6b13f9(0x5b9)]=_0x220b7a;},_0x148d61=_0x44c421=>_0x44c421[_0x11a08c(0x159)](/\u00A0/g,'\x20')[_0x11a08c(0x159)](/\u200B/g,'')[_0x11a08c(0x159)](/\r\n?/g,'\x0a'),_0x582967=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x39b42e=_0x36906e=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x11a08c(0x650)](_0x36906e),_0x1b9371=_0x280d48=>{const _0x5846ea=_0x11a08c,_0x54802f=(_0x280d48['match'](/\{/g)||[])[_0x5846ea(0x3e1)],_0x3f99b8=(_0x280d48[_0x5846ea(0x9e0)](/\}/g)||[])[_0x5846ea(0x3e1)];if(_0x54802f>_0x3f99b8)_0x280d48=_0x280d48+'}'[_0x5846ea(0x6a9)](_0x54802f-_0x3f99b8);return _0x280d48;},_0x5ebe9c=_0x2a8bdd=>{const _0x3177ec=_0x11a08c;let _0x29b3eb=_0x2a8bdd[_0x3177ec(0x56f)]();const _0x11583b=[_0x3177ec(0xa40),_0x3177ec(0x9b8),'tfrac',_0x3177ec(0x70a),'text',_0x3177ec(0x271),_0x3177ec(0x3d3),'div',_0x3177ec(0xa31),'geq','le','ge',_0x3177ec(0x734),'pm',_0x3177ec(0x7f2),_0x3177ec(0x986),'cos',_0x3177ec(0x9ac),'log','ln',_0x3177ec(0x641),_0x3177ec(0x251),_0x3177ec(0x99b),_0x3177ec(0x2b5),_0x3177ec(0xa48),_0x3177ec(0x6f2),_0x3177ec(0x9b1),_0x3177ec(0x964),_0x3177ec(0x1ab)];_0x29b3eb=_0x29b3eb['replace'](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x11583b[_0x3177ec(0x3d6)]('|')+_0x3177ec(0x312),'g'),'\x5c'),_0x11583b[_0x3177ec(0x220)](_0x5e700c=>{const _0x442f5a=_0x3177ec;_0x29b3eb=_0x29b3eb[_0x442f5a(0x159)](new RegExp(_0x442f5a(0x55f)+_0x5e700c+'\x5cb','g'),(_0x222117,_0x241ab3)=>_0x241ab3+'\x5c'+_0x5e700c);});const _0x23733e=[[/×/g,_0x3177ec(0x837)],[/·/g,'\x5ccdot'],[/÷/g,_0x3177ec(0x74a)],[/≤/g,_0x3177ec(0x7d0)],[/≥/g,_0x3177ec(0x958)],[/≠/g,'\x5cneq'],[/±/g,_0x3177ec(0x7cc)],[/∑/g,_0x3177ec(0x361)],[/−/g,'-']];_0x23733e[_0x3177ec(0x220)](([_0x3290bc,_0x427a08])=>{const _0x4bb282=_0x3177ec;_0x29b3eb=_0x29b3eb[_0x4bb282(0x159)](_0x3290bc,_0x427a08);}),_0x29b3eb=_0x29b3eb[_0x3177ec(0x159)](/√\s*\(([^)]*)\)/g,_0x3177ec(0x31a)),_0x29b3eb=_0x29b3eb['replace'](/√\s*([A-Za-z0-9]+)/g,_0x3177ec(0x31a)),_0x29b3eb=_0x29b3eb['replace'](/(^|[^\\])\bimes\b/g,_0x3177ec(0x932))[_0x3177ec(0x159)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x3177ec(0x159)](/(^|[^\\])ext\{/g,_0x3177ec(0x42b))[_0x3177ec(0x159)](/(^|[^\\])ext\(/g,_0x3177ec(0x268))[_0x3177ec(0x159)](/\\text\(([^)]*)\)/g,_0x3177ec(0x24c))[_0x3177ec(0x159)](/\s\\frac/g,'\x5cfrac'),_0x29b3eb=_0x29b3eb[_0x3177ec(0x159)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x3f386e,_0x9ddd48,_0x15aeb1,_0x6c2b53)=>_0x9ddd48+_0x3177ec(0x19f)+_0x15aeb1+'}{'+_0x6c2b53+'}'),_0x29b3eb=_0x29b3eb[_0x3177ec(0x159)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x3177ec(0x83d))[_0x3177ec(0x159)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x3177ec(0x83d))[_0x3177ec(0x159)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x3177ec(0x83d)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x3177ec(0x98f)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x3177ec(0x98f)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x3177ec(0x98f)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x3177ec(0x98f)],[/(\d+)\s*°\s*C/g,_0x3177ec(0x98f)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x3177ec(0x212)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x3177ec(0x220)](([_0x511efe,_0x26e7ea])=>{_0x29b3eb=_0x29b3eb['replace'](_0x511efe,_0x26e7ea);}),_0x29b3eb=_0x29b3eb[_0x3177ec(0x159)](/(\d+)\s*%/g,_0x3177ec(0x3b9)),_0x29b3eb=_0x29b3eb[_0x3177ec(0x159)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x3177ec(0x774))[_0x3177ec(0x159)](/\{\{([^\{\}]+)\}\}/g,_0x3177ec(0x929)),[_0x3177ec(0x986),_0x3177ec(0x354),_0x3177ec(0x9ac),_0x3177ec(0x3c2),'ln'][_0x3177ec(0x220)](_0x593dd7=>{const _0x5856e3=_0x3177ec;_0x29b3eb=_0x29b3eb[_0x5856e3(0x159)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x593dd7+_0x5856e3(0x507),'g'),(_0x3113f4,_0x47080f)=>_0x47080f+'\x5c'+_0x593dd7+'(');});const _0x30e06b=(_0x29b3eb[_0x3177ec(0x9e0)](/\\left\b/g)||[])[_0x3177ec(0x3e1)],_0x30c511=(_0x29b3eb[_0x3177ec(0x9e0)](/\\right\b/g)||[])['length'];if(_0x30e06b!==_0x30c511)_0x29b3eb=_0x29b3eb[_0x3177ec(0x159)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x29b3eb=_0x1b9371(_0x29b3eb),_0x29b3eb;},_0x521fd9=_0x52a0d7=>{const _0x42a8c0=_0x11a08c;if(/\$|\\\(|\\\[/['test'](_0x52a0d7))return _0x52a0d7;if(!_0x582967['test'](_0x52a0d7))return _0x52a0d7;const _0x3bc19b=_0x52a0d7[_0x42a8c0(0x9e0)](/^\s*/)[0x0],_0x425bdf=_0x52a0d7[_0x42a8c0(0x9e0)](/\s*$/)[0x0],_0x5b7f64=_0x52a0d7[_0x42a8c0(0x56f)]();return _0x3bc19b+'$'+_0x5ebe9c(_0x5b7f64)+'$'+_0x425bdf;},_0x52e01c=_0x5765d1=>_0x5765d1[_0x11a08c(0x5bf)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x3c2a8c['forEach'](_0x1e9e82=>{const _0x50b112=_0x11a08c;if(_0x1e9e82[_0x50b112(0x8c1)]&&_0x1e9e82[_0x50b112(0x8c1)](_0x50b112(0x3e2)))return;const _0x18e301=_0x6b3a0a(_0x1e9e82);let _0x237aee=_0x148d61(_0x18e301);_0x237aee=_0x237aee['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x1de382,_0xb43ab0)=>'$$'+_0x5ebe9c(_0xb43ab0)+'$$')[_0x50b112(0x159)](/\$([^$]*?)\$/g,(_0x2855ae,_0x10636e)=>'$'+_0x5ebe9c(_0x10636e)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x1b1cfa,_0x7180)=>'\x5c('+_0x5ebe9c(_0x7180)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x1a6a67,_0x32865e)=>'\x5c['+_0x5ebe9c(_0x32865e)+'\x5c]');let _0x107daf=_0x237aee,_0x57fb2f=0x0;const _0x5aa331=_0x2a3552=>_0x2a3552[_0x50b112(0x159)](/S([^S]{0,2000}?)S/g,(_0x3404a5,_0x2bf55d)=>_0x582967[_0x50b112(0x650)](_0x2bf55d)?'$'+_0x5ebe9c(_0x2bf55d)+'$':_0x3404a5);while(_0x57fb2f++<0x14){const _0x4ab070=_0x5aa331(_0x107daf);if(_0x4ab070===_0x107daf)break;_0x107daf=_0x4ab070;}_0x237aee=_0x107daf,_0x237aee=_0x237aee[_0x50b112(0x5bf)]('\x0a')[_0x50b112(0x9f0)](_0x1ebacb=>{const _0x1ae242=_0x50b112;if(!(/[,\u3001，;；]/[_0x1ae242(0x650)](_0x1ebacb)||/\s(?:และ|หรือ)\s/[_0x1ae242(0x650)](_0x1ebacb))||!_0x582967['test'](_0x1ebacb))return _0x1ebacb;return _0x52e01c(_0x1ebacb)[_0x1ae242(0x9f0)](_0x538ce5=>{const _0x58e20d=_0x1ae242;if(/^\s(?:และ|หรือ)\s$/[_0x58e20d(0x650)](_0x538ce5)||/^[,\u3001，;；]$/[_0x58e20d(0x650)](_0x538ce5))return _0x538ce5;return _0x521fd9(_0x538ce5);})[_0x1ae242(0x3d6)]('');})[_0x50b112(0x3d6)]('\x0a'),_0x237aee=_0x237aee[_0x50b112(0x5bf)]('\x0a')['map'](_0x203e81=>{const _0x4f7e8a=_0x50b112,_0xd5bcf8=_0x203e81[_0x4f7e8a(0x56f)]();if(!_0xd5bcf8)return _0x203e81;const _0x1db63c=/\$|\\\(|\\\[/['test'](_0xd5bcf8),_0x5954db=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x4f7e8a(0x650)](_0xd5bcf8);if(_0x1db63c||!_0x5954db||_0x39b42e(_0xd5bcf8))return _0x203e81;return _0x203e81[_0x4f7e8a(0x159)](_0xd5bcf8,'$'+_0x5ebe9c(_0xd5bcf8)+'$');})[_0x50b112(0x3d6)]('\x0a'),_0x237aee=_0x237aee['replace'](/(\d+)\s*°\s*C\b/g,(_0x36a276,_0x420518,_0x129bb5,_0x3d941f)=>{const _0x2fde5c=_0x3d941f[_0x129bb5-0x1];if(_0x2fde5c==='$'||_0x2fde5c==='S'||_0x2fde5c==='\x5c')return _0x36a276;return'$'+_0x420518+'^{\x5ccirc}\x5ctext{C}$';})[_0x50b112(0x159)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x4ffeea,_0x4fa034,_0x1a42d1,_0x206b08)=>{const _0x1886af=_0x50b112,_0x2432ac=_0x206b08[_0x1a42d1-0x1];if(_0x2432ac==='$'||_0x2432ac==='S'||_0x2432ac==='\x5c')return _0x4ffeea;return'$'+_0x4fa034+_0x1886af(0x4e6);})[_0x50b112(0x159)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5c1291,_0x46b784,_0x3fc958,_0x3cca0a)=>{const _0xe2a22f=_0x50b112,_0x1778fa=_0x3cca0a[_0x3fc958-0x1];if(_0x1778fa==='$'||_0x1778fa==='S'||_0x1778fa==='\x5c')return _0x5c1291;return'$'+_0x46b784+_0xe2a22f(0x4e6);}),_0x237aee=_0x237aee[_0x50b112(0x159)](/\$\s*\$/g,'$$'),_0x237aee!==_0x18e301&&(_0x5106fb(_0x1e9e82,_0x237aee),_0x26a898++);});if(_0x26a898>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x26a898+_0x11a08c(0x210));try{if(window[_0x11a08c(0xa2e)]&&MathJax[_0x11a08c(0x2d1)])MathJax[_0x11a08c(0x2d1)]();window[_0x11a08c(0x9ab)]&&typeof renderMathInElement===_0x11a08c(0x23e)&&renderMathInElement(_0x5daab2,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x6e02bb){}}else showMessage(_0x11a08c(0x4fd));}async function listenForCustomMathTopics(){const _0x4dc16e=_0x3fa4d9,_0x1d517a=collection(db,'artifacts/'+appId+_0x4dc16e(0xa35));onSnapshot(_0x1d517a,_0x57c8a9=>{const _0x143de6=_0x4dc16e;customMathTopics=_0x57c8a9[_0x143de6(0x7ed)][_0x143de6(0x9f0)](_0x42fe11=>({'id':_0x42fe11['id'],..._0x42fe11[_0x143de6(0x342)]()})),renderTopicCheckboxes();},_0x30c4db=>{const _0x510457=_0x4dc16e;console['error'](_0x510457(0x5aa),_0x30c4db);});}function handleSelectAllTopics(){const _0x42fb0e=_0x3fa4d9,_0x35f779=document[_0x42fb0e(0x4d6)](_0x42fb0e(0x71e)),_0x5af39f=_0x35f779[_0x42fb0e(0x76c)](_0x42fb0e(0x3cf));_0x5af39f[_0x42fb0e(0x220)](_0x51b5ef=>{const _0x196799=_0x42fb0e;_0x51b5ef[_0x196799(0x5d4)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x469d69=_0x3fa4d9,_0x400807=document[_0x469d69(0x4d6)](_0x469d69(0x71e)),_0x403372=_0x400807[_0x469d69(0x76c)](_0x469d69(0x3cf));_0x403372[_0x469d69(0x220)](_0x5a755b=>{const _0x18a008=_0x469d69;_0x5a755b[_0x18a008(0x5d4)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4ce046){const _0x21a908=_0x3fa4d9;if(!_0x4ce046)return;try{const _0x1dadf8=doc(db,_0x21a908(0x31f)+appId+'/public/data/customMathTopics',_0x4ce046);await deleteDoc(_0x1dadf8),showMessage(_0x21a908(0x235));}catch(_0x328e30){console[_0x21a908(0x1d8)](_0x21a908(0x18d),_0x328e30),showMessage(_0x21a908(0x1ef));}}async function handleAddCustomMathTopic(){const _0xc4827e=_0x3fa4d9,_0x2e3b3a=document[_0xc4827e(0x4d6)](_0xc4827e(0x586)),_0x1e3232=_0x2e3b3a[_0xc4827e(0xa87)]['trim']();if(!_0x1e3232){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0xc4827e(0xa8c));return;}try{const _0x1ab904=collection(db,_0xc4827e(0x31f)+appId+_0xc4827e(0xa35));await addDoc(_0x1ab904,{'name':_0x1e3232,'createdAt':serverTimestamp()}),_0x2e3b3a['value']='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x1e3232+_0xc4827e(0x8c4));}catch(_0x45ecc8){console[_0xc4827e(0x1d8)](_0xc4827e(0x7ee),_0x45ecc8),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x21bf15=_0x5982,_0x41bea5=document['getElementById'](_0x21bf15(0x469)),_0x67bf1c=document['getElementById'](_0x21bf15(0x265)),_0x563137=_0x67bf1c[_0x21bf15(0x5b9)];_0x41bea5[_0x21bf15(0x21b)][_0x21bf15(0x621)](_0x21bf15(0x88c)),_0x67bf1c[_0x21bf15(0x5b9)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x455934=collection(db,_0x21bf15(0x31f)+appId+'/public/data/quizzes'),_0x34ac84=await getDocs(_0x455934);if(_0x34ac84[_0x21bf15(0x7ab)]){showMessage(_0x21bf15(0xa41));return;}const _0x352994=writeBatch(db);let _0x13783f=0x0;_0x34ac84[_0x21bf15(0x220)](_0x22af94=>{const _0x2ba4d6=_0x21bf15,_0xfdf691=_0x22af94['data'](),_0x3ea6e2=_0x22af94['id'];if(_0xfdf691[_0x2ba4d6(0x299)]&&_0xfdf691[_0x2ba4d6(0x299)][_0x2ba4d6(0x3e1)]>0x0&&!_0xfdf691[_0x2ba4d6(0x299)][0x0][_0x2ba4d6(0x47a)]('id')){console[_0x2ba4d6(0x3c2)](_0x2ba4d6(0x77f)+_0x3ea6e2+'\x20('+_0xfdf691['topic']+')'),_0x13783f++;const _0x3ae0b6=_0xfdf691[_0x2ba4d6(0x299)][_0x2ba4d6(0x9f0)]((_0x47f7b6,_0x5d7d68)=>{const _0x2b2359=_0x2ba4d6;return{..._0x47f7b6,'id':_0x47f7b6['id']||'q_'+Date[_0x2b2359(0x9ed)]()+'_'+_0x3ea6e2+'_'+_0x5d7d68};}),_0x5c2f9c=doc(db,'artifacts/'+appId+_0x2ba4d6(0x8ca),_0x3ea6e2);_0x352994[_0x2ba4d6(0x897)](_0x5c2f9c,{'questions':_0x3ae0b6});}}),_0x13783f>0x0?(_0x67bf1c[_0x21bf15(0x5b9)]=_0x21bf15(0x8d5)+_0x13783f+_0x21bf15(0x313),await _0x352994[_0x21bf15(0x4ef)](),showMessage(_0x21bf15(0x276)+_0x13783f+_0x21bf15(0x5d3))):showMessage(_0x21bf15(0xa21));}catch(_0x4e0140){console[_0x21bf15(0x1d8)]('Error\x20updating\x20old\x20quizzes:',_0x4e0140),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x4e0140[_0x21bf15(0x936)]);}finally{_0x41bea5[_0x21bf15(0x21b)][_0x21bf15(0x214)]('hidden'),_0x67bf1c[_0x21bf15(0x5b9)]=_0x563137;}});}async function handleBulkUpdateQuizSettings(){const _0x4735c9=_0x3fa4d9,_0xf9801f={'shuffle':document[_0x4735c9(0x4d6)](_0x4735c9(0x42d))[_0x4735c9(0xa87)],'resultsDisplay':document[_0x4735c9(0x4d6)](_0x4735c9(0x8a6))[_0x4735c9(0xa87)],'loopUntilPass':document[_0x4735c9(0x4d6)]('bulk-loop-until-pass-checkbox')[_0x4735c9(0x5d4)]},_0x219f32=allQuizzesGlobal['length'];showConfirmation(_0x4735c9(0x7a0)+_0x219f32+_0x4735c9(0x168),async()=>{const _0x1df272=_0x4735c9,_0x576688=document[_0x1df272(0x4d6)](_0x1df272(0x49a));_0x576688[_0x1df272(0x907)]=!![],_0x576688[_0x1df272(0xa8d)]=_0x1df272(0xa23);try{const _0x3b1232=writeBatch(db);allQuizzesGlobal[_0x1df272(0x220)](_0x3a4a5d=>{const _0x4c9334=_0x1df272,_0x547394=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3a4a5d['id']),_0x257f44={..._0x3a4a5d[_0x4c9334(0x8a1)]||{},..._0xf9801f};_0x3b1232[_0x4c9334(0x897)](_0x547394,{'settings':_0x257f44});}),await _0x3b1232[_0x1df272(0x4ef)](),document['getElementById'](_0x1df272(0x6cb))[_0x1df272(0x21b)][_0x1df272(0x214)](_0x1df272(0x88c)),showMessage(_0x1df272(0x90e)+_0x219f32+_0x1df272(0x156));}catch(_0x5a63d2){console[_0x1df272(0x1d8)](_0x1df272(0x26d),_0x5a63d2),showMessage('เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด');}finally{_0x576688[_0x1df272(0x907)]=![],_0x576688[_0x1df272(0xa8d)]=_0x1df272(0x7c6);}});}async function handleSaveProjectName(){const _0x4bdf42=_0x3fa4d9,_0x26cbe6=document[_0x4bdf42(0x4d6)](_0x4bdf42(0xa2d)),_0x27b71a=document[_0x4bdf42(0x4d6)](_0x4bdf42(0x3e0)),_0x134583=_0x26cbe6[_0x4bdf42(0x5b9)][_0x4bdf42(0x56f)]();if(!_0x134583||!currentProjectId){showMessage(_0x4bdf42(0x3f5)),_0x26cbe6[_0x4bdf42(0x5b9)]=currentProjectData[_0x4bdf42(0x508)];return;}_0x27b71a[_0x4bdf42(0x907)]=!![],_0x27b71a[_0x4bdf42(0xa8d)]=_0x4bdf42(0x2ff);try{const _0x59f51c=doc(db,_0x4bdf42(0x31f)+appId+_0x4bdf42(0x4e0),currentProjectId);await updateDoc(_0x59f51c,{'projectName':_0x134583}),currentProjectData&&(currentProjectData[_0x4bdf42(0x508)]=_0x134583),showMessage(_0x4bdf42(0x38a));}catch(_0x36a08d){console[_0x4bdf42(0x1d8)]('Error\x20updating\x20project\x20name:',_0x36a08d),showMessage(_0x4bdf42(0x422)),_0x26cbe6[_0x4bdf42(0x5b9)]=currentProjectData[_0x4bdf42(0x508)];}finally{_0x27b71a[_0x4bdf42(0x21b)]['add'](_0x4bdf42(0x88c)),_0x27b71a[_0x4bdf42(0x907)]=![],_0x27b71a[_0x4bdf42(0xa8d)]=_0x4bdf42(0x303);}}async function initialize(){const _0x101e4a=_0x3fa4d9;try{const _0x5235c5=initializeApp(firebaseConfig);db=getFirestore(_0x5235c5),auth=getAuth(_0x5235c5),setupAuthListener(),setupEventListeners(),showView(_0x101e4a(0x564)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x2820a7){console[_0x101e4a(0x1d8)](_0x101e4a(0x589),_0x2820a7),showMessage(_0x101e4a(0x16c));}}async function handleVerifyAnswersInEditor(){const _0x5e4f22=_0x3fa4d9,_0x16c4cf=document[_0x5e4f22(0x4d6)](_0x5e4f22(0x9a5));if(!_0x16c4cf)return;const _0x3a36b7=document[_0x5e4f22(0x4d6)](_0x5e4f22(0x548));_0x3a36b7[_0x5e4f22(0x907)]=!![],_0x3a36b7[_0x5e4f22(0xa8d)]=_0x5e4f22(0x4ab);try{const _0x6bf2b6=_0x16c4cf[_0x5e4f22(0x76c)]('.question-editor-item'),_0x328874=Array[_0x5e4f22(0x649)](_0x6bf2b6)['map']((_0x211cf9,_0x5b6bb4)=>{const _0x160ad2=_0x5e4f22,_0x50e364=_0x211cf9['dataset'][_0x160ad2(0x46c)],_0x29823=_0x211cf9['querySelector'](_0x160ad2(0x677))[_0x160ad2(0xa87)];let _0x2f8851=null,_0x21e15f='';switch(_0x50e364){case _0x160ad2(0x5c5):const _0x3785c0=_0x211cf9[_0x160ad2(0x76c)](_0x160ad2(0x7ba));_0x2f8851=Array[_0x160ad2(0x649)](_0x3785c0)[_0x160ad2(0x9f0)](_0x12355d=>_0x12355d[_0x160ad2(0xa87)]);const _0x5767ea=_0x211cf9[_0x160ad2(0x8c1)]('input[type=\x22radio\x22]:checked');_0x5767ea&&(_0x21e15f=_0x2f8851[parseInt(_0x5767ea[_0x160ad2(0xa87)])]);break;case _0x160ad2(0x775):_0x21e15f=_0x211cf9['querySelector'](_0x160ad2(0xa6a))[_0x160ad2(0xa87)];break;case _0x160ad2(0x860):const _0x572754=_0x211cf9[_0x160ad2(0x8c1)](_0x160ad2(0x637));_0x21e15f=_0x572754?_0x572754[_0x160ad2(0xa87)]:'';break;case _0x160ad2(0x4f4):_0x21e15f=_0x211cf9[_0x160ad2(0x8c1)](_0x160ad2(0x567))[_0x160ad2(0xa87)];break;}return{'question':_0x29823,'options':_0x2f8851,'proposedAnswer':_0x21e15f};}),_0x186fb8=_0x5e4f22(0x3f6)+JSON[_0x5e4f22(0x73b)](_0x328874)+_0x5e4f22(0x1ae),_0x47a70f={'type':_0x5e4f22(0x2f3),'items':{'type':_0x5e4f22(0x782),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x5e4f22(0x4db)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x5e4f22(0x359)}},'required':[_0x5e4f22(0x1a1),_0x5e4f22(0x753),'justification']}},_0x4f62d3=await callAnalysisApi(_0x186fb8,{'type':_0x5e4f22(0x782),'properties':{'result':_0x47a70f},'required':[_0x5e4f22(0x994)]});displayVerificationResultsInEditor(_0x4f62d3[_0x5e4f22(0x994)]);}catch(_0x25e016){console[_0x5e4f22(0x1d8)](_0x5e4f22(0x6ee),_0x25e016),showMessage(_0x5e4f22(0x1c6));}finally{_0x3a36b7[_0x5e4f22(0x907)]=![],_0x3a36b7[_0x5e4f22(0xa8d)]=_0x5e4f22(0x62b);}}function displayVerificationResultsInEditor(_0x3bc2db){const _0x4c2c8d=_0x3fa4d9;_0x3bc2db[_0x4c2c8d(0x220)](_0x58ab27=>{const _0x20efa7=_0x4c2c8d,_0x1dbfe4=document[_0x20efa7(0x8c1)]('.question-editor-item[data-q-index=\x22'+_0x58ab27[_0x20efa7(0x1a1)]+'\x22]');if(!_0x1dbfe4)return;const _0x263f13=_0x1dbfe4[_0x20efa7(0x8c1)]('.verification-result-editor');if(_0x263f13)_0x263f13[_0x20efa7(0x621)]();let _0x4b0129='';if(_0x58ab27['isCorrect'])_0x4b0129=_0x20efa7(0x7e8);else{const _0x22c190=_0x58ab27['suggestedAnswer']?_0x20efa7(0x44a):'';_0x4b0129='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x22c190+_0x20efa7(0x75a)+_0x58ab27[_0x20efa7(0x196)]+_0x20efa7(0x352)+(_0x58ab27['suggestedAnswer']?_0x20efa7(0x3e5)+_0x58ab27[_0x20efa7(0x3ff)]+_0x20efa7(0x453):'')+_0x20efa7(0x499);}_0x1dbfe4[_0x20efa7(0x6fa)](_0x20efa7(0x818),_0x4b0129);if(!_0x58ab27['isCorrect']&&_0x58ab27['suggestedAnswer']){const _0x48d253=_0x1dbfe4[_0x20efa7(0x5f3)]['qType'],_0x2c0f8c=_0x187fc7=>{const _0x433672=_0x20efa7;if(!_0x187fc7)return;_0x187fc7['classList'][_0x433672(0x214)]('bg-green-200',_0x433672(0x8a4),'duration-300'),setTimeout(()=>{const _0x3d5905=_0x433672;_0x187fc7['classList'][_0x3d5905(0x621)](_0x3d5905(0x6c7));},0x9c4);};if(_0x48d253===_0x20efa7(0x5c5)){const _0x1975f5=Array[_0x20efa7(0x649)](_0x1dbfe4[_0x20efa7(0x76c)](_0x20efa7(0x7ba))),_0xd6b019=_0x1975f5[_0x20efa7(0x765)](_0x300567=>_0x300567[_0x20efa7(0xa87)][_0x20efa7(0x56f)]()[_0x20efa7(0x4f3)]()===_0x58ab27['suggestedAnswer'][_0x20efa7(0x56f)]()[_0x20efa7(0x4f3)]());if(_0xd6b019!==-0x1){const _0x58ecdf=_0x1dbfe4[_0x20efa7(0x8c1)](_0x20efa7(0x94a)+_0xd6b019+'\x22]');_0x58ecdf&&(_0x58ecdf[_0x20efa7(0x5d4)]=!![],_0x2c0f8c(_0x58ecdf[_0x20efa7(0x305)](_0x20efa7(0x8d8))));}}else{if(_0x48d253==='short_answer'||_0x48d253==='matching_item'){const _0x3a0905=_0x1dbfe4[_0x20efa7(0x8c1)](_0x20efa7(0x9b3));_0x3a0905&&(_0x3a0905[_0x20efa7(0xa87)]=_0x58ab27[_0x20efa7(0x3ff)],_0x2c0f8c(_0x3a0905));}else{if(_0x48d253==='true_false'){const _0x2af044=_0x58ab27[_0x20efa7(0x3ff)][_0x20efa7(0x56f)]()[_0x20efa7(0x4f3)](),_0x2f1e55=_0x1dbfe4[_0x20efa7(0x8c1)](_0x20efa7(0x94a)+_0x2af044+'\x22]');_0x2f1e55&&(_0x2f1e55[_0x20efa7(0x5d4)]=!![],_0x2c0f8c(_0x2f1e55[_0x20efa7(0x305)](_0x20efa7(0x8d8))));}}}}}),showMessage(_0x4c2c8d(0xa88));}async function handleVerifyAnswers(){const _0x11178d=_0x3fa4d9;if(!currentQuizData||!currentQuizData[_0x11178d(0x299)]){showMessage(_0x11178d(0x705));return;}const _0x3dd7f2=document['getElementById'](_0x11178d(0x1fd));_0x3dd7f2[_0x11178d(0x907)]=!![],_0x3dd7f2[_0x11178d(0xa8d)]=_0x11178d(0x4ab);try{const _0x2176b3=currentQuizData[_0x11178d(0x299)][_0x11178d(0x9f0)]((_0x4a7e5e,_0x346742)=>{const _0x39066c=_0x11178d;let _0x234739='';const _0x1ea682=_0x4a7e5e[_0x39066c(0x36e)]||currentQuizData['quizType'];switch(_0x1ea682){case _0x39066c(0x5c5):_0x234739=_0x4a7e5e[_0x39066c(0x35a)][_0x4a7e5e['correctAnswerIndex']];break;case _0x39066c(0x775):_0x234739=_0x4a7e5e[_0x39066c(0x202)];break;case _0x39066c(0x860):_0x234739=_0x4a7e5e[_0x39066c(0x185)][_0x39066c(0x6dc)]();break;case _0x39066c(0x4f4):_0x234739=_0x4a7e5e[_0x39066c(0xa97)];break;}return{'question':_0x4a7e5e[_0x39066c(0x785)]||_0x4a7e5e[_0x39066c(0x490)],'options':_0x4a7e5e[_0x39066c(0x35a)]||null,'proposedAnswer':_0x234739};}),_0x1cdba9=_0x11178d(0xa37)+JSON[_0x11178d(0x73b)](_0x2176b3)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x43a837={'type':_0x11178d(0x2f3),'items':{'type':_0x11178d(0x782),'properties':{'questionIndex':{'type':_0x11178d(0x88b)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x11178d(0x359)},'suggestedAnswer':{'type':_0x11178d(0x359)}},'required':[_0x11178d(0x1a1),_0x11178d(0x753),_0x11178d(0x196)]}},_0x2bd541=await callAnalysisApi(_0x1cdba9,{'type':_0x11178d(0x782),'properties':{'result':_0x43a837},'required':[_0x11178d(0x994)]});displayVerificationResults(_0x2bd541[_0x11178d(0x994)]);}catch(_0x36c98f){console[_0x11178d(0x1d8)]('Error\x20verifying\x20answers:',_0x36c98f),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3dd7f2['disabled']=![],_0x3dd7f2[_0x11178d(0xa8d)]=_0x11178d(0x32a);}}function displayVerificationResults(_0x309a05){const _0xb8ad02=_0x3fa4d9;_0x309a05[_0xb8ad02(0x220)](_0x17c15a=>{const _0x118fe0=_0xb8ad02,_0x176b92=document[_0x118fe0(0x8c1)](_0x118fe0(0xa8b)+_0x17c15a['questionIndex']+'\x22]');if(_0x176b92){const _0x541db7=_0x176b92[_0x118fe0(0x8c1)](_0x118fe0(0x5a8));if(_0x541db7)_0x541db7[_0x118fe0(0x621)]();let _0xb0a53b='';_0x17c15a[_0x118fe0(0x753)]?_0xb0a53b=_0x118fe0(0x75d):_0xb0a53b=_0x118fe0(0xa32)+_0x17c15a['justification']+_0x118fe0(0x8e5)+(_0x17c15a['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x17c15a['suggestedAnswer']+_0x118fe0(0x453):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x176b92[_0x118fe0(0x6fa)](_0x118fe0(0x818),_0xb0a53b);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x2677b1,_0x3c7d96){const _0x110643=_0x3fa4d9,_0x33d3af=String(_0x2677b1)[_0x110643(0x159)](',','.')['replace'](/[^\d.-]/g,'')[_0x110643(0x56f)](),_0x2f361d=String(_0x3c7d96)[_0x110643(0x159)](',','.')[_0x110643(0x159)](/[^\d.-]/g,'')['trim']();if(_0x33d3af===''||_0x2f361d==='')return![];const _0x59c3ca=parseFloat(_0x33d3af),_0x364b89=parseFloat(_0x2f361d);if(isNaN(_0x59c3ca)||isNaN(_0x364b89))return![];return Math['abs'](_0x59c3ca-_0x364b89)<0.001;}function isPotentiallyNumeric(_0x47d4ab){const _0x219d9d=_0x3fa4d9;if(typeof _0x47d4ab!=='string'&&typeof _0x47d4ab!==_0x219d9d(0x9da))return![];const _0x558402=String(_0x47d4ab)[_0x219d9d(0x159)](',','.')[_0x219d9d(0x56f)]();return _0x558402!==''&&!isNaN(parseFloat(_0x558402))&&isFinite(_0x558402);}async function gradeShortAnswer(_0x1e75c8,_0x44f48a){const _0x32d0b9=_0x3fa4d9,_0x39c0bc=_0x44f48a[_0x32d0b9(0x202)],_0x5b69df=String(_0x1e75c8)[_0x32d0b9(0x159)](/\$/g,'')[_0x32d0b9(0x56f)](),_0x4859fd=String(_0x39c0bc)[_0x32d0b9(0x159)](/\$/g,'')[_0x32d0b9(0x56f)]();if(_0x5b69df[_0x32d0b9(0x4f3)]()===_0x4859fd['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x5b69df)&&isPotentiallyNumeric(_0x4859fd)){if(compareNumericalAnswers(_0x5b69df,_0x4859fd))return!![];}return console[_0x32d0b9(0x3c2)](_0x32d0b9(0x59b)),await gradeShortAnswerWithAI(_0x1e75c8,_0x39c0bc);}async function revealAnswerForAdmin(_0x9ed615,_0x34072f){const _0xfcc63b=_0x3fa4d9,_0x3c175b=doc(db,'artifacts/'+appId+_0xfcc63b(0x9b9),currentLiveGameId);await updateDoc(_0x3c175b,{'questionStatus':_0xfcc63b(0x2a5)});}function showTop5LeaderboardView(_0x31781e){const _0x3d1f5d=_0x3fa4d9,_0x398d6f=Object[_0x3d1f5d(0x792)](_0x31781e['players']||{})[_0x3d1f5d(0x853)](_0x58b2fc=>_0x58b2fc[_0x3d1f5d(0x442)]===_0x3d1f5d(0x8bd));_0x398d6f[_0x3d1f5d(0x171)]((_0xb0d39c,_0x3b4a67)=>_0x3b4a67['score']-_0xb0d39c[_0x3d1f5d(0x41d)]);const _0x5c9a6d=_0x398d6f[_0x3d1f5d(0x6ec)](0x0,0x5),_0x25cb69='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c9a6d[_0x3d1f5d(0x9f0)]((_0x256ff0,_0x45c73e)=>_0x3d1f5d(0x990)+(_0x45c73e+0x1)+'.\x20'+(_0x256ff0[_0x3d1f5d(0xa19)]||Object['keys'](_0x31781e['players'])[_0x3d1f5d(0xa53)](_0x5d9b11=>_0x31781e[_0x3d1f5d(0x452)][_0x5d9b11]===_0x256ff0))+_0x3d1f5d(0xa96)+_0x256ff0[_0x3d1f5d(0x41d)]+_0x3d1f5d(0x9cd))[_0x3d1f5d(0x3d6)]('')+_0x3d1f5d(0x7cd)+(_0x31781e[_0x3d1f5d(0x192)]+0x1===currentQuizData[_0x3d1f5d(0x299)]['length']?_0x3d1f5d(0x956):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x3d1f5d(0xa8d)]=_0x25cb69,document[_0x3d1f5d(0x4d6)](_0x3d1f5d(0x7af))[_0x3d1f5d(0x795)](_0x3d1f5d(0x96d),async()=>{const _0xf2235d=_0x3d1f5d,_0x4919f9=doc(db,_0xf2235d(0x31f)+appId+_0xf2235d(0x9b9),currentLiveGameId),_0x5560f9=_0x31781e['currentQuestionIndex']+0x1;if(_0x5560f9<currentQuizData[_0xf2235d(0x299)][_0xf2235d(0x3e1)]){const _0x45f2f9={'currentQuestionIndex':_0x5560f9,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0xf2235d(0x797)};Object[_0xf2235d(0x720)](_0x31781e[_0xf2235d(0x452)])['forEach'](_0x244a05=>{const _0x4930de=_0xf2235d;_0x45f2f9[_0x4930de(0x595)+_0x244a05+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x4919f9,_0x45f2f9);}else await updateDoc(_0x4919f9,{'status':_0xf2235d(0x18a)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x144c26=>{const _0x8eb593=_0x5982;if(_0x144c26){userId=_0x144c26[_0x8eb593(0x6b8)],userIdDisplay[_0x8eb593(0x5b9)]=userId;const _0xa944c5=await loadUserPreferences();_0xa944c5[_0x8eb593(0x523)]&&(document[_0x8eb593(0x4d6)](_0x8eb593(0x823))[_0x8eb593(0xa87)]=_0xa944c5[_0x8eb593(0x523)]);globalDashboardSettings[_0x8eb593(0x6d4)]=_0xa944c5['projectView']||_0x8eb593(0xa46);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x9a6232,_0x3eb3f4){const _0x438f9d=_0x3fa4d9;if(!userId)return;try{const _0x13df96=doc(db,_0x438f9d(0x31f)+appId+_0x438f9d(0x870)+userId+_0x438f9d(0x72c)),_0x37b8c3={};_0x37b8c3[_0x9a6232]=_0x3eb3f4,await setDoc(_0x13df96,_0x37b8c3,{'merge':!![]});}catch(_0x566ec6){console[_0x438f9d(0x1d8)](_0x438f9d(0x32f),_0x566ec6);}}async function loadUserPreferences(){const _0x41b2ca=_0x3fa4d9;if(!userId)return{};try{const _0x4bef6b=doc(db,'artifacts/'+appId+'/users/'+userId+_0x41b2ca(0x72c)),_0x3b7673=await getDoc(_0x4bef6b);if(_0x3b7673[_0x41b2ca(0x77c)]())return _0x3b7673[_0x41b2ca(0x342)]();return{};}catch(_0x4a3e3e){return console[_0x41b2ca(0x1d8)](_0x41b2ca(0x160),_0x4a3e3e),{};}}function showPodiumView(_0x477cf2,_0x2e9ab0=_0x3fa4d9(0x691)){const _0x162b3f=_0x3fa4d9,_0x3f89b8=Object[_0x162b3f(0x25a)](_0x477cf2)[_0x162b3f(0x9f0)](([_0x670cc0,_0x76b7dc])=>({'name':_0x670cc0,'score':_0x76b7dc['score']||0x0,'badges':_0x76b7dc['badges']||[],'hasPerfectScoreBonus':_0x76b7dc[_0x162b3f(0x43c)]||![]}));_0x3f89b8[_0x162b3f(0x171)]((_0x5bbcef,_0x50e090)=>{const _0x3522f4=_0x162b3f,_0x28b713=_0x50e090[_0x3522f4(0x41d)]-_0x5bbcef[_0x3522f4(0x41d)];if(_0x28b713!==0x0)return _0x28b713;return(_0x50e090[_0x3522f4(0x30a)][_0x3522f4(0x3e1)]||0x0)-(_0x5bbcef[_0x3522f4(0x30a)]['length']||0x0);});const _0x37672a=_0x5c7a9c=>{const _0x3606ce=_0x162b3f;if(!_0x5c7a9c||_0x5c7a9c[_0x3606ce(0x3e1)]===0x0)return'';const _0x5ced88={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3606ce(0x3db)+_0x5c7a9c[_0x3606ce(0x9f0)](_0x5d0bb4=>_0x5ced88[_0x5d0bb4]||'')[_0x3606ce(0x3d6)]('')+_0x3606ce(0x551);},_0x32e325=_0x3f89b8[_0x162b3f(0x6ec)](0x3),_0x195cd3=_0x32e325['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32e325['map']((_0x5aa9ee,_0x92e53a)=>{const _0x56294c=_0x162b3f,_0x5be9d6=_0x5aa9ee[_0x56294c(0x43c)]?_0x56294c(0x735):'';return _0x56294c(0x9bb)+(_0x92e53a+0x4)+_0x56294c(0x58c)+_0x5aa9ee[_0x56294c(0xa19)]+_0x56294c(0xa98)+_0x5aa9ee[_0x56294c(0x41d)]+_0x56294c(0x3f3)+_0x5be9d6+_0x56294c(0x9eb);})[_0x162b3f(0x3d6)]('')+_0x162b3f(0x865):'',_0x1d9807='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3f89b8[0x1]?_0x162b3f(0x6c4)+_0x3f89b8[0x1][_0x162b3f(0xa19)]+'</p>'+_0x37672a(_0x3f89b8[0x1][_0x162b3f(0x30a)])+'<p\x20class=\x22text-xl\x22>'+_0x3f89b8[0x1][_0x162b3f(0x41d)]+_0x162b3f(0x3f3)+(_0x3f89b8[0x1][_0x162b3f(0x43c)]?_0x162b3f(0x577):'')+_0x162b3f(0x2bd):_0x162b3f(0x766))+_0x162b3f(0x7f8)+(_0x3f89b8[0x0]?_0x162b3f(0x27c)+_0x3f89b8[0x0][_0x162b3f(0xa19)]+_0x162b3f(0x453)+_0x37672a(_0x3f89b8[0x0][_0x162b3f(0x30a)])+_0x162b3f(0x780)+_0x3f89b8[0x0]['score']+_0x162b3f(0x3f3)+(_0x3f89b8[0x0][_0x162b3f(0x43c)]?_0x162b3f(0x577):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x162b3f(0x7f8)+(_0x3f89b8[0x2]?_0x162b3f(0x2d2)+_0x3f89b8[0x2]['name']+_0x162b3f(0x453)+_0x37672a(_0x3f89b8[0x2][_0x162b3f(0x30a)])+_0x162b3f(0x738)+_0x3f89b8[0x2][_0x162b3f(0x41d)]+_0x162b3f(0x3f3)+(_0x3f89b8[0x2]['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x162b3f(0x9a6):_0x162b3f(0x766))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x195cd3+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x162b3f(0x900)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x162b3f(0x377))+_0x162b3f(0x189);liveGameView[_0x162b3f(0xa8d)]=_0x1d9807,currentMode===_0x162b3f(0x900)&&document['getElementById'](_0x162b3f(0x394))[_0x162b3f(0x795)](_0x162b3f(0x96d),async()=>{const _0x4704c9=_0x162b3f;let _0x1c36f5;_0x2e9ab0===_0x4704c9(0x80c)?_0x1c36f5=doc(db,_0x4704c9(0x31f)+appId+'/public/data/syncGames',currentLiveGameId):_0x1c36f5=doc(db,_0x4704c9(0x31f)+appId+_0x4704c9(0x9b9),currentLiveGameId),await deleteDoc(_0x1c36f5);});}function renderSyncSummaryView(_0x213faf,_0x4a8018,_0x11f75a){const _0x5c9e44=_0x3fa4d9,_0x3ef463=Object[_0x5c9e44(0x792)](_0x213faf[_0x5c9e44(0x452)]||{}),_0x38b1f8=_0x4a8018[_0x5c9e44(0x36e)]||_0x213faf[_0x5c9e44(0x6d0)][_0x5c9e44(0x25e)];let _0x8f2833=[];_0x38b1f8===_0x5c9e44(0x860)?_0x8f2833=['ใช่\x20/\x20ถูก',_0x5c9e44(0x5e3)]:_0x8f2833=_0x4a8018['options']||[];const _0x5856f3=new Array(_0x8f2833[_0x5c9e44(0x3e1)])[_0x5c9e44(0xa77)](0x0),_0x21b4dd={};_0x8f2833[_0x5c9e44(0x220)]((_0xeb3535,_0x4ba85c)=>{_0x21b4dd[_0x4ba85c]=[];}),Object[_0x5c9e44(0x25a)](_0x213faf[_0x5c9e44(0x452)]||{})[_0x5c9e44(0x220)](([_0x4373d2,_0x18fba3])=>{const _0x39f8a3=_0x5c9e44;if(_0x18fba3['status']!==_0x39f8a3(0x9e5)&&_0x18fba3['lastAnswerIndex']!==undefined&&_0x18fba3[_0x39f8a3(0x51d)]!==null){const _0x5815ec=_0x18fba3[_0x39f8a3(0x51d)];_0x21b4dd[_0x5815ec]!==undefined&&(_0x21b4dd[_0x5815ec][_0x39f8a3(0x87a)](_0x4373d2),_0x5856f3[_0x5815ec]++);}});let _0x2ccc5a='';_0x11f75a?_0x2ccc5a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x2ccc5a='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x1c13ec=_0x5c9e44(0x5c2)+_0x4a8018[_0x5c9e44(0x490)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5856f3[_0x5c9e44(0x9f0)]((_0x5d004d,_0x2575c4)=>{const _0x1af356=_0x5c9e44,_0x476e6a=_0x21b4dd[_0x2575c4]['length']>0x0?_0x21b4dd[_0x2575c4][_0x1af356(0x3d6)](',\x20'):_0x1af356(0x6db),_0x51ee1b='#6366F1';return _0x1af356(0x2c1)+_0x5d004d+_0x1af356(0x91d)+_0x51ee1b+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x2575c4+_0x1af356(0x749)+_0x8f2833[_0x2575c4]+_0x1af356(0x4ee)+_0x2575c4+_0x1af356(0x37d)+_0x476e6a+_0x1af356(0x9c7);})[_0x5c9e44(0x3d6)]('')+_0x5c9e44(0x7f3)+_0x2ccc5a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x1c13ec;if(window[_0x5c9e44(0xa2e)])MathJax[_0x5c9e44(0x2d1)]();_0x11f75a&&(document[_0x5c9e44(0x4d6)](_0x5c9e44(0x162))[_0x5c9e44(0x795)](_0x5c9e44(0x96d),async()=>{const _0x3322d9=_0x5c9e44,_0xe2deb=doc(db,_0x3322d9(0x31f)+appId+_0x3322d9(0x3f7),currentLiveGameId);await updateDoc(_0xe2deb,{'status':_0x3322d9(0x5c9)});}),document['getElementById'](_0x5c9e44(0x908))['onclick']=()=>{openScratchpad(_0x4a8018,_0x8f2833);});}async function handleShowStudentRankings(){const _0x31cb69=_0x3fa4d9,_0x62d83f=document[_0x31cb69(0x8c1)](_0x31cb69(0x2bc));_0x62d83f&&(_0x62d83f[_0x31cb69(0xa8d)]=_0x31cb69(0x7f9));const _0x204cfc=document[_0x31cb69(0x8c1)](_0x31cb69(0x54b));_0x204cfc&&(_0x204cfc['innerHTML']=_0x31cb69(0x646));const _0x709649=document['getElementById'](_0x31cb69(0x643));_0x709649[_0x31cb69(0x21b)][_0x31cb69(0x621)](_0x31cb69(0x88c)),document[_0x31cb69(0x4d6)]('close-student-rankings-btn')['onclick']=()=>_0x709649[_0x31cb69(0x21b)][_0x31cb69(0x214)](_0x31cb69(0x88c));const _0x925066=document['getElementById']('student-quiz-leaderboard-tab'),_0x5bbce0=document['getElementById']('student-project-leaderboard-tab'),_0xa4d5bc=document[_0x31cb69(0x4d6)](_0x31cb69(0xa9a)),_0x111576=document[_0x31cb69(0x4d6)](_0x31cb69(0x93f));_0x925066[_0x31cb69(0x672)]=()=>{const _0xf78483=_0x31cb69;_0x925066['classList'][_0xf78483(0x214)]('active'),_0x5bbce0[_0xf78483(0x21b)]['remove'](_0xf78483(0x8bd)),_0xa4d5bc['classList'][_0xf78483(0x621)]('hidden'),_0x111576[_0xf78483(0x21b)][_0xf78483(0x214)](_0xf78483(0x88c));},_0x5bbce0[_0x31cb69(0x672)]=()=>{const _0x6b4bf4=_0x31cb69;_0x5bbce0['classList'][_0x6b4bf4(0x214)](_0x6b4bf4(0x8bd)),_0x925066[_0x6b4bf4(0x21b)][_0x6b4bf4(0x621)](_0x6b4bf4(0x8bd)),_0x111576['classList'][_0x6b4bf4(0x621)](_0x6b4bf4(0x88c)),_0xa4d5bc[_0x6b4bf4(0x21b)][_0x6b4bf4(0x214)](_0x6b4bf4(0x88c));};try{const _0x513ebc=collection(db,_0x31cb69(0x31f)+appId+_0x31cb69(0x7dd)+currentQuizData['id']+_0x31cb69(0x922)),_0x3a59f8=await getDocs(_0x513ebc),_0x172cdd=_0x3a59f8[_0x31cb69(0x7ed)][_0x31cb69(0x9f0)](_0xf3a17d=>_0xf3a17d[_0x31cb69(0x342)]());renderQuizLeaderboard(_0x172cdd,currentQuizData,_0x31cb69(0x1c3));const _0x324a6b=collection(db,_0x31cb69(0x31f)+appId+_0x31cb69(0x642)+currentQuizData[_0x31cb69(0x59c)]+'/studentProfiles'),_0x5df160=await getDocs(_0x324a6b),_0x4fd6ba=_0x5df160[_0x31cb69(0x7ed)][_0x31cb69(0x9f0)](_0x689280=>_0x689280[_0x31cb69(0x342)]());renderLeaderboard(_0x4fd6ba,_0x31cb69(0x7b9));}catch(_0x254181){console[_0x31cb69(0x1d8)]('Error\x20fetching\x20student\x20rankings:',_0x254181),showMessage(_0x31cb69(0x6a2));}}async function handleSaveToBank(_0x5f0260){const _0x31632c=_0x3fa4d9,_0x9ea883=_0x5f0260[_0x31632c(0x236)],_0x48b287=_0x9ea883[_0x31632c(0x5f3)][_0x31632c(0xa50)],_0x1e3086=currentQuizData[_0x31632c(0x299)][_0x48b287];if(!userId){showMessage(_0x31632c(0x866));return;}try{const _0x36a1a8={..._0x1e3086,'originalTopic':currentQuizData[_0x31632c(0x836)],'savedAt':serverTimestamp()},_0x4cf923=collection(db,_0x31632c(0x31f)+appId+'/users/'+userId+'/questionBank');await addDoc(_0x4cf923,_0x36a1a8),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x9ea883['classList'][_0x31632c(0x621)]('text-purple-600'),_0x9ea883[_0x31632c(0x21b)][_0x31632c(0x214)](_0x31632c(0x885)),_0x9ea883[_0x31632c(0x907)]=!![];}catch(_0xb0ea10){console[_0x31632c(0x1d8)](_0x31632c(0xa4a),_0xb0ea10),showMessage(_0x31632c(0x422));}}function listenForStarredQuizzes(){const _0xf778f0=_0x3fa4d9;if(!userId)return;const _0x1346b1=collection(db,_0xf778f0(0x31f)+appId+_0xf778f0(0x8ca)),_0x635135=query(_0x1346b1,where(_0xf778f0(0x7d6),'==',!![]));onSnapshot(_0x635135,_0x227e46=>{const _0x32cdb4=_0xf778f0;starredQuizzes=_0x227e46[_0x32cdb4(0x7ed)]['map'](_0x4716e3=>({'id':_0x4716e3['id'],..._0x4716e3[_0x32cdb4(0x342)]()})),currentProjectId===_0x32cdb4(0x157)?renderQuizzes():renderProjects();},_0x5c9483=>{const _0x3ab0db=_0xf778f0;console[_0x3ab0db(0x1d8)](_0x3ab0db(0x38b),_0x5c9483);});}function exportQuizAsWorksheetPDF(){const _0x2333c3=_0x3fa4d9;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x2333c3(0x6ad));return;}const _0x62de88=currentQuizData,_0x4d9ebc=window[_0x2333c3(0x7d4)]('','_blank'),_0x5a292c=_0x3abbc6=>String['fromCharCode'](0x41+_0x3abbc6),_0x28df5e=_0x2333c3(0x283)+_0x62de88['topic']+_0x2333c3(0x76d)+_0x62de88[_0x2333c3(0x836)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x62de88[_0x2333c3(0x299)]['map']((_0x56c31a,_0x2423f5)=>{const _0x51ada6=_0x2333c3;let _0xaba058='';const _0x3f4580=_0x56c31a[_0x51ada6(0x36e)]||_0x62de88['quizType'];switch(_0x3f4580){case'multiple_choice':case'fill_in_with_choices':_0xaba058='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x56c31a['options']['map']((_0x2edb20,_0xe61fb)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5a292c(_0xe61fb)+'.\x20'+_0x2edb20+_0x51ada6(0x7e6))[_0x51ada6(0x3d6)](_0x51ada6(0x1b9))+_0x51ada6(0x551);break;case'true_false':_0xaba058=_0x51ada6(0x468);break;default:_0xaba058='<div\x20class=\x22answer-space\x22></div>';break;}return _0x51ada6(0x31b)+(_0x2423f5+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x56c31a['stem']||_0x56c31a[_0x51ada6(0x490)])+_0x51ada6(0x9db)+(_0x56c31a[_0x51ada6(0x39e)]?_0x51ada6(0x1c1)+_0x56c31a['imageCode']+_0x51ada6(0x551):'')+_0x51ada6(0x9a4)+_0xaba058+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2333c3(0x3d6)]('')+_0x2333c3(0x6f5);_0x4d9ebc[_0x2333c3(0x8db)][_0x2333c3(0x3c7)](_0x28df5e),_0x4d9ebc[_0x2333c3(0x8db)][_0x2333c3(0x40b)](),_0x4d9ebc[_0x2333c3(0x64b)]=function(){setTimeout(()=>{_0x4d9ebc['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x380501=_0x3fa4d9;if(!currentQuizData||!currentQuizData[_0x380501(0x299)]){showMessage(_0x380501(0x6ad));return;}const _0x16a68d=currentQuizData,_0x48a665=window['open']('','_blank'),_0x306098=_0x163170=>String[_0x380501(0x74e)](0x41+_0x163170),_0x2bd35d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x16a68d[_0x380501(0x836)]+_0x380501(0x5a4)+_0x16a68d[_0x380501(0x299)][_0x380501(0x9f0)]((_0x50b4a6,_0x4331ba)=>{const _0x346da8=_0x380501;let _0x4d055f='';const _0x2a7f1d=_0x50b4a6[_0x346da8(0x36e)]||_0x16a68d['quizType'];switch(_0x2a7f1d){case'multiple_choice':case _0x346da8(0x307):_0x4d055f=_0x346da8(0x367)+_0x50b4a6[_0x346da8(0x35a)]['map']((_0x2dc89b,_0x3faef9)=>_0x346da8(0x45c)+_0x306098(_0x3faef9)+'.\x20'+_0x2dc89b+_0x346da8(0x397))[_0x346da8(0x3d6)](_0x346da8(0x1b9))+_0x346da8(0x499);break;case _0x346da8(0x860):_0x4d055f='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x4d055f='';break;}return _0x346da8(0x484)+_0x16a68d[_0x346da8(0x836)]+_0x346da8(0x754)+(_0x4331ba+0x1)+_0x346da8(0x99d)+(_0x50b4a6[_0x346da8(0x785)]||_0x50b4a6[_0x346da8(0x490)])+_0x346da8(0x9db)+(_0x50b4a6[_0x346da8(0x39e)]?'<div\x20class=\x22my-6\x22>'+_0x50b4a6[_0x346da8(0x39e)]+_0x346da8(0x551):'')+_0x346da8(0x9a4)+_0x4d055f+_0x346da8(0xa3f);})[_0x380501(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x48a665[_0x380501(0x8db)][_0x380501(0x3c7)](_0x2bd35d),_0x48a665['document']['close'](),_0x48a665['onload']=function(){setTimeout(()=>{_0x48a665['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x32b1cd){const _0xfb78a6=_0x3fa4d9,_0x776c17=doc(db,_0xfb78a6(0x31f)+appId+_0xfb78a6(0x8ca),_0x32b1cd);try{const _0x2e21cc=await getDoc(_0x776c17);if(_0x2e21cc['exists']()){const _0x1a1563=_0x2e21cc['data']()[_0xfb78a6(0x7d6)]||![];await updateDoc(_0x776c17,{'isStarred':!_0x1a1563});}}catch(_0x2c87a4){console[_0xfb78a6(0x1d8)](_0xfb78a6(0x46a),_0x2c87a4),showMessage(_0xfb78a6(0x45f));}}async function displayQuestionBank(){const _0x1e85e6=_0x3fa4d9,_0x2f45d8=document['getElementById'](_0x1e85e6(0xa54));_0x2f45d8[_0x1e85e6(0xa8d)]=_0x1e85e6(0x5be);try{const _0x3eb1c3=collection(db,_0x1e85e6(0x31f)+appId+_0x1e85e6(0x870)+userId+_0x1e85e6(0x511)),_0x45184b=query(_0x3eb1c3),_0x51b1f6=await getDocs(_0x45184b);if(_0x51b1f6['empty']){_0x2f45d8['innerHTML']=_0x1e85e6(0x326);return;}let _0x55c736=_0x51b1f6['docs']['map'](_0x2e4469=>{const _0x4161aa=_0x1e85e6,_0x5a17dc=_0x2e4469[_0x4161aa(0x342)](),_0xe5fae4=_0x2e4469['id'];return _0x4161aa(0x451)+JSON[_0x4161aa(0x73b)](_0x5a17dc)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5a17dc[_0x4161aa(0x490)]||_0x5a17dc[_0x4161aa(0x785)])+_0x4161aa(0x77e)+_0x5a17dc['originalTopic']+_0x4161aa(0x188);})['join']('');_0x2f45d8[_0x1e85e6(0xa8d)]=_0x1e85e6(0x756)+_0x55c736+_0x1e85e6(0x19e),document['getElementById'](_0x1e85e6(0x3d4))['addEventListener'](_0x1e85e6(0x96d),createQuizFromBank);}catch(_0x45e680){console[_0x1e85e6(0x1d8)](_0x1e85e6(0x828),_0x45e680),_0x2f45d8[_0x1e85e6(0xa8d)]=_0x1e85e6(0x72b);}}function showAdminLiveQuestionView(_0x717bfe,_0x428b01,_0x31f5a5){const _0x2aec64=_0x3fa4d9,_0x24eb00=_0x717bfe[_0x2aec64(0x36e)]||currentQuizData[_0x2aec64(0x25e)];let _0x1c9b77='';if(_0x24eb00===_0x2aec64(0x5c5)||_0x24eb00===_0x2aec64(0x860)){const _0x4faa12=_0x24eb00==='true_false'?['ใช่',_0x2aec64(0x368)]:_0x717bfe[_0x2aec64(0x35a)],_0x13ce2a=_0x24eb00===_0x2aec64(0x860)?_0x717bfe[_0x2aec64(0x185)]?0x0:0x1:_0x717bfe[_0x2aec64(0x6ce)];_0x1c9b77=_0x4faa12[_0x2aec64(0x9f0)]((_0x210ccf,_0x102c0c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x102c0c===_0x13ce2a)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x210ccf+_0x2aec64(0x3c5))[_0x2aec64(0x3d6)]('');}else{if(_0x24eb00===_0x2aec64(0x4f4)){const _0x3bc21b=_0x717bfe[_0x2aec64(0x3df)]||[];_0x1c9b77=_0x3bc21b[_0x2aec64(0x9f0)](_0x2df3ff=>_0x2aec64(0x99c)+(_0x2df3ff===_0x717bfe[_0x2aec64(0xa97)])+_0x2aec64(0x921)+_0x2df3ff+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2aec64(0x3d6)]('');}}const _0x34d67b=_0x717bfe[_0x2aec64(0x785)]||_0x717bfe['questionText'],_0x58e29f=_0x2aec64(0x86c)+(_0x428b01+0x1)+_0x2aec64(0x60f)+_0x31f5a5+_0x2aec64(0x962)+currentLiveGamePin+_0x2aec64(0x419)+_0x34d67b+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c9b77+_0x2aec64(0x448);liveGameView[_0x2aec64(0xa8d)]=_0x58e29f,window[_0x2aec64(0xa2e)]&&MathJax[_0x2aec64(0x2d1)]&&MathJax[_0x2aec64(0x2d1)]([liveGameView]),document[_0x2aec64(0x4d6)](_0x2aec64(0x51b))[_0x2aec64(0x795)](_0x2aec64(0x96d),()=>revealAnswerForAdmin(_0x428b01,_0x31f5a5)),document[_0x2aec64(0x4d6)](_0x2aec64(0x4b6))['addEventListener'](_0x2aec64(0x96d),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x3d5ed1=_0x5982,_0x5553c9=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5553c9,{'status':_0x3d5ed1(0x18a)});});}),document[_0x2aec64(0x4d6)](_0x2aec64(0x814))[_0x2aec64(0x795)](_0x2aec64(0x96d),()=>{const _0x44009f=_0x2aec64;document[_0x44009f(0x4d6)]('live-player-management')[_0x44009f(0x21b)][_0x44009f(0x8d1)](_0x44009f(0x88c));});}function showStudentLiveQuestionView(_0x332349,_0x25d709,_0x37bfa6){const _0x575cef=_0x3fa4d9,_0x3f2645=_0x332349[_0x575cef(0x36e)]||currentQuizData['quizType'];let _0x367eb9='';if(_0x3f2645===_0x575cef(0x5c5)||_0x3f2645===_0x575cef(0x860)){const _0x5c1c54=_0x3f2645===_0x575cef(0x860)?['ใช่',_0x575cef(0x368)]:_0x332349[_0x575cef(0x35a)];_0x367eb9=_0x5c1c54[_0x575cef(0x9f0)]((_0x3aa7f7,_0x5c6f6b)=>_0x575cef(0x2e7)+_0x5c6f6b+_0x575cef(0x6b0)+_0x3aa7f7+_0x575cef(0x8c3))[_0x575cef(0x3d6)]('');}else{if(_0x3f2645===_0x575cef(0x4f4)){const _0x4562bc=_0x332349[_0x575cef(0x3df)]||[];_0x367eb9=_0x4562bc[_0x575cef(0x9f0)]((_0x51764a,_0x2b1062)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2b1062+_0x575cef(0x6b0)+_0x51764a+_0x575cef(0x8c3))[_0x575cef(0x3d6)]('');}else _0x3f2645===_0x575cef(0x775)&&(_0x367eb9=_0x575cef(0x7f1));}const _0x46b175=_0x332349[_0x575cef(0x785)]||_0x332349[_0x575cef(0x490)],_0x2d2efb=_0x575cef(0x38f)+(_0x25d709+0x1)+_0x575cef(0x60f)+_0x37bfa6+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x46b175+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x367eb9+_0x575cef(0x285);liveGameView['innerHTML']=_0x2d2efb;window[_0x575cef(0xa2e)]&&MathJax['typesetPromise']&&MathJax[_0x575cef(0x2d1)]([liveGameView]);const _0x150125=document[_0x575cef(0x4d6)](_0x575cef(0x8e6));_0x150125&&_0x150125[_0x575cef(0x795)]('click',()=>{const _0x3d69ff=_0x575cef,_0x422016=document['getElementById'](_0x3d69ff(0x3d9))['value'];handleLiveAnswer(_0x422016,_0x332349);}),document[_0x575cef(0x4d6)](_0x575cef(0x788))[_0x575cef(0x795)](_0x575cef(0x96d),_0x14961c=>{const _0xb66aba=_0x575cef,_0x36fa68=_0x14961c[_0xb66aba(0x736)][_0xb66aba(0x305)](_0xb66aba(0x2dc));if(_0x36fa68){const _0x4d9374=parseInt(_0x36fa68[_0xb66aba(0x5f3)][_0xb66aba(0xa50)]);handleLiveAnswer(_0x4d9374,_0x332349);}});}async function handleLiveAnswer(_0x306f3e,_0x34bc24){const _0x19a954=_0x3fa4d9;document[_0x19a954(0x76c)](_0x19a954(0x424))[_0x19a954(0x220)](_0x39a3a8=>_0x39a3a8[_0x19a954(0x907)]=!![]);const _0x2f7eab=_0x34bc24[_0x19a954(0x36e)]||currentQuizData[_0x19a954(0x25e)];let _0x38eece=![],_0x47dcdf=_0x306f3e;if(_0x2f7eab===_0x19a954(0x775)){const _0x298bc9=(_0x306f3e||'')['toString']();_0x38eece=await gradeShortAnswer(_0x298bc9,_0x34bc24);}else{if(_0x2f7eab==='multiple_choice')_0x38eece=_0x306f3e===_0x34bc24['correctAnswerIndex'];else{if(_0x2f7eab==='true_false'){const _0xfc7592=_0x34bc24['correctAnswer'];_0x38eece=_0x306f3e===0x0&&_0xfc7592||_0x306f3e===0x1&&!_0xfc7592;}else{if(_0x2f7eab===_0x19a954(0x4f4)){const _0x237384=_0x34bc24[_0x19a954(0x3df)][_0x306f3e];_0x38eece=_0x237384===_0x34bc24[_0x19a954(0xa97)],_0x47dcdf=_0x237384;}}}}const _0xf7975a=doc(db,'artifacts/'+appId+_0x19a954(0x9b9),currentLiveGameId),_0x36f94e={};_0x36f94e[_0x19a954(0x595)+currentStudentName+_0x19a954(0x619)]=!![],_0x36f94e[_0x19a954(0x595)+currentStudentName+_0x19a954(0x1df)]=_0x38eece,_0x36f94e[_0x19a954(0x595)+currentStudentName+_0x19a954(0x60a)]=_0x2f7eab==='short_answer'||_0x2f7eab===_0x19a954(0x4f4)?null:_0x306f3e,_0x36f94e[_0x19a954(0x595)+currentStudentName+_0x19a954(0x91f)]=_0x47dcdf,_0x36f94e[_0x19a954(0x595)+currentStudentName+_0x19a954(0x15b)]=serverTimestamp(),_0x36f94e[_0x19a954(0x595)+currentStudentName+'.isScored']=![],await updateDoc(_0xf7975a,_0x36f94e),liveGameView[_0x19a954(0xa8d)]=_0x19a954(0x380);}function showAdminSummaryView(_0x3a476b,_0xad27c6){const _0x2d640f=_0x3fa4d9,_0x215f3b=Object[_0x2d640f(0x792)](_0x3a476b[_0x2d640f(0x452)]||{}),_0x5d7ffd=_0xad27c6[_0x2d640f(0x36e)]||currentQuizData[_0x2d640f(0x25e)],_0x4cd69b=_0x5d7ffd===_0x2d640f(0x860)?[_0x2d640f(0x7a6),_0x2d640f(0x368)]:_0xad27c6[_0x2d640f(0x35a)]||_0xad27c6[_0x2d640f(0x3df)]||[],_0x140c96={},_0x62b01e=new Array(_0x4cd69b['length'])[_0x2d640f(0xa77)](0x0);_0x4cd69b[_0x2d640f(0x220)]((_0x77e71b,_0x452d8f)=>{_0x140c96[_0x452d8f]=[];}),Object['entries'](_0x3a476b[_0x2d640f(0x452)]||{})[_0x2d640f(0x220)](([_0x53bcea,_0x42bd76])=>{const _0xa7d20=_0x2d640f;if(_0x42bd76[_0xa7d20(0x442)]===_0xa7d20(0x8bd)&&_0x42bd76['lastAnswerIndex']!==undefined){const _0x37b306=_0x42bd76[_0xa7d20(0x51d)];_0x140c96[_0x37b306]&&(_0x140c96[_0x37b306][_0xa7d20(0x87a)](_0x53bcea),_0x62b01e[_0x37b306]++);}});const _0x2ab53a=Math[_0x2d640f(0x525)](..._0x62b01e,0x1),_0x5639f1=_0x2d640f(0x8ed)+(_0xad27c6[_0x2d640f(0x785)]||_0xad27c6[_0x2d640f(0x490)])+_0x2d640f(0x558)+_0x62b01e[_0x2d640f(0x9f0)]((_0x159862,_0x5f2324)=>{const _0x5b38a6=_0x2d640f,_0x4d3223=_0x140c96[_0x5f2324][_0x5b38a6(0x3e1)]>0x0?_0x140c96[_0x5f2324][_0x5b38a6(0x3d6)](',\x20'):_0x5b38a6(0x6db);let _0x233cff=![];if(_0x5d7ffd===_0x5b38a6(0x5c5))_0x233cff=_0x5f2324===_0xad27c6[_0x5b38a6(0x6ce)];else{if(_0x5d7ffd==='true_false'){const _0x1a3ba4=_0xad27c6['correctAnswer'];_0x233cff=_0x1a3ba4&&_0x5f2324===0x0||!_0x1a3ba4&&_0x5f2324===0x1;}else _0x5d7ffd===_0x5b38a6(0x4f4)&&(_0x233cff=_0x4cd69b[_0x5f2324]===_0xad27c6['correctResponse']);}const _0x3bedcf=_0x233cff?_0x5b38a6(0x631):_0x5b38a6(0x83c);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x159862+_0x5b38a6(0x248)+_0x3bedcf+_0x5b38a6(0x223)+_0x5f2324+_0x5b38a6(0x1ec)+_0x4cd69b[_0x5f2324]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x5f2324+_0x5b38a6(0x37d)+_0x4d3223+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x2d640f(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x5639f1;if(window[_0x2d640f(0xa2e)])MathJax[_0x2d640f(0x2d1)]();document[_0x2d640f(0x4d6)]('show-leaderboard-btn')[_0x2d640f(0x795)](_0x2d640f(0x96d),async()=>{const _0x156fac=_0x2d640f,_0x326607=doc(db,'artifacts/'+appId+_0x156fac(0x9b9),currentLiveGameId);await updateDoc(_0x326607,{'questionStatus':_0x156fac(0x895)});}),document[_0x2d640f(0x4d6)]('open-scratchpad-btn')[_0x2d640f(0x795)](_0x2d640f(0x96d),()=>{openScratchpad(_0xad27c6,_0x4cd69b);});}function showPlayerSummaryView(_0x579460,_0x30c711){const _0x365069=_0x3fa4d9,_0x1b54f2=Object['values'](_0x579460['players']||{}),_0x479dfd=_0x579460[_0x365069(0x452)][_0x30c711],_0x3331d9=_0x1b54f2[_0x365069(0x853)](_0x5c1bca=>_0x5c1bca['status']===_0x365069(0x8bd))[_0x365069(0x171)]((_0x5d22d2,_0x1432e9)=>_0x1432e9[_0x365069(0x41d)]-_0x5d22d2[_0x365069(0x41d)]),_0x47f030=_0x3331d9[_0x365069(0x765)](_0x257b48=>_0x257b48===_0x479dfd)+0x1,_0xaa5c8c=_0x479dfd[_0x365069(0x56c)]?'ถูกต้อง!':_0x365069(0x632),_0x596093=_0x479dfd[_0x365069(0x56c)]?'bg-green-500':_0x365069(0x195),_0x49ab9a=_0x479dfd['pointsLastQuestion']||0x0,_0x399ca9=_0x365069(0x1e5),_0x3f7b19=_0x365069(0x306)+_0x399ca9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x596093+_0x365069(0x7f0)+_0xaa5c8c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x49ab9a+_0x365069(0x744)+(_0x47f030>0x0?_0x47f030:'-')+_0x365069(0x5fc);liveGameView[_0x365069(0xa8d)]=_0x3f7b19;}function createQuizFromBank(){const _0x623042=_0x3fa4d9,_0x11ec97=document[_0x623042(0x76c)](_0x623042(0x1c4));if(_0x11ec97[_0x623042(0x3e1)]===0x0){showMessage(_0x623042(0x790));return;}const _0x1b09f3=[];_0x11ec97[_0x623042(0x220)](_0x45afe8=>{const _0x25e7ea=_0x623042;_0x1b09f3[_0x25e7ea(0x87a)](JSON[_0x25e7ea(0xa52)](_0x45afe8[_0x25e7ea(0xa87)]));});const _0x43fb89={'topic':_0x623042(0x874),'questions':_0x1b09f3};displayGeneratedQuiz(_0x43fb89);}function showAdminLobbyView(_0x442dcf,_0x355c6d){const _0x46a5ea=_0x3fa4d9;showView(_0x46a5ea(0x60c));const _0x3098f8=_0x46a5ea(0x890)+_0x355c6d+_0x46a5ea(0x7d5)+_0x442dcf+_0x46a5ea(0x3ad);liveGameView[_0x46a5ea(0xa8d)]=_0x3098f8,document[_0x46a5ea(0x4d6)]('start-game-btn')['addEventListener'](_0x46a5ea(0x96d),async()=>{const _0x171646=_0x46a5ea;if(!currentQuizData||!currentQuizData[_0x171646(0x299)]||currentQuizData[_0x171646(0x299)][_0x171646(0x3e1)]===0x0){showMessage(_0x171646(0x7dc));return;}try{const _0x77acd1=doc(db,_0x171646(0x31f)+appId+_0x171646(0x9b9),currentLiveGameId);await updateDoc(_0x77acd1,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4f442e=currentQuizData[_0x171646(0x299)][0x0],_0x409526=currentQuizData[_0x171646(0x299)][_0x171646(0x3e1)];showAdminLiveQuestionView(_0x4f442e,0x0,_0x409526);}catch(_0x5b695b){console[_0x171646(0x1d8)](_0x171646(0x270),_0x5b695b),showMessage(_0x171646(0x574));}});}async function openGlobalLiveModal(){const _0x2729b0=_0x3fa4d9;if(allQuizzesGlobal[_0x2729b0(0x3e1)]===0x0){const _0xba43df=await getDocs(collection(db,_0x2729b0(0x31f)+appId+_0x2729b0(0x8ca)));allQuizzesGlobal=_0xba43df[_0x2729b0(0x7ed)][_0x2729b0(0x9f0)](_0x45066b=>({'id':_0x45066b['id'],..._0x45066b['data']()}));}renderGlobalQuizList(''),document[_0x2729b0(0x4d6)](_0x2729b0(0x4d9))[_0x2729b0(0x21b)]['remove'](_0x2729b0(0x88c));}async function openQuizBankModal(){const _0xa5fdb2=_0x3fa4d9;if(allQuizzesGlobal[_0xa5fdb2(0x3e1)]===0x0){const _0x9175=await getDocs(collection(db,_0xa5fdb2(0x31f)+appId+_0xa5fdb2(0x8ca)));allQuizzesGlobal=_0x9175[_0xa5fdb2(0x7ed)][_0xa5fdb2(0x9f0)](_0x17e236=>({'id':_0x17e236['id'],..._0x17e236[_0xa5fdb2(0x342)]()}));}renderQuizBankList(''),document['getElementById'](_0xa5fdb2(0x550))[_0xa5fdb2(0x21b)]['remove']('hidden');}function renderQuizBankList(_0x111b33=''){const _0x4addeb=_0x3fa4d9,_0x5d1301=document[_0x4addeb(0x4d6)](_0x4addeb(0x5f9)),_0x1aa961=_0x111b33['toLowerCase']()[_0x4addeb(0x56f)](),_0xa977f8=allQuizzesGlobal['map'](_0x1b2c64=>({..._0x1b2c64,'projectName':allProjects[_0x4addeb(0xa53)](_0x1b35a5=>_0x1b35a5['id']===_0x1b2c64[_0x4addeb(0x59c)])?.[_0x4addeb(0x508)]||_0x4addeb(0x417)}))[_0x4addeb(0x853)](_0x4a4d77=>(_0x4a4d77[_0x4addeb(0x836)]||'')[_0x4addeb(0x4f3)]()['includes'](_0x1aa961)||(_0x4a4d77['projectName']||'')[_0x4addeb(0x4f3)]()[_0x4addeb(0x8f0)](_0x1aa961)||_0x4a4d77['id'][_0x4addeb(0x6dc)]()[_0x4addeb(0x8f0)](_0x1aa961));document['getElementById'](_0x4addeb(0x7aa))[_0x4addeb(0x5b9)]='('+_0xa977f8['length']+_0x4addeb(0x8e4),_0x5d1301[_0x4addeb(0xa8d)]=_0xa977f8['length']?_0xa977f8['map'](_0x2ad78c=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x2ad78c['id']+_0x4addeb(0x876)+(_0x2ad78c['topic']||'(ไม่มีชื่อ)')+_0x4addeb(0x1f1)+(_0x2ad78c[_0x4addeb(0x299)]?.['length']||0x0)+_0x4addeb(0x52b)+_0x2ad78c[_0x4addeb(0x508)]+_0x4addeb(0x6b7)+_0x2ad78c['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2ad78c['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2ad78c['id']+_0x4addeb(0x371)+_0x2ad78c['id']+_0x4addeb(0x1ad)+_0x2ad78c['id']+_0x4addeb(0x6d3)+_0x2ad78c['id']+_0x4addeb(0x7f5)+_0x2ad78c['id']+_0x4addeb(0xa6b)+_0x2ad78c[_0x4addeb(0x836)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x4addeb(0x3d6)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x5d1301[_0x4addeb(0x76c)](_0x4addeb(0x183))[_0x4addeb(0x220)](_0x2b3d23=>{const _0x567856=_0x4addeb;_0x2b3d23[_0x567856(0x795)](_0x567856(0x96d),()=>{const _0x554806=_0x567856,_0xdb2dc9=_0x2b3d23[_0x554806(0x5f3)]['id'];document[_0x554806(0x4d6)](_0x554806(0x550))[_0x554806(0x21b)]['add'](_0x554806(0x88c)),showQuizDetailView(_0xdb2dc9);});}),_0x5d1301['querySelectorAll'](_0x4addeb(0x440))[_0x4addeb(0x220)](_0x536f97=>{const _0x3130fe=_0x4addeb;_0x536f97[_0x3130fe(0x795)](_0x3130fe(0x96d),_0x49a251=>{const _0x365dd4=_0x3130fe;_0x49a251[_0x365dd4(0x536)]();const _0x1fafed=_0x536f97['dataset']['id'],_0x5a012c=allQuizzesGlobal[_0x365dd4(0xa53)](_0x1c2fe7=>_0x1c2fe7['id']===_0x1fafed);_0x5a012c?(currentQuizData=_0x5a012c,document['getElementById'](_0x365dd4(0x550))['classList']['add'](_0x365dd4(0x88c)),startAdminTest()):showMessage(_0x365dd4(0x9d5));});}),_0x5d1301[_0x4addeb(0x76c)](_0x4addeb(0x53f))[_0x4addeb(0x220)](_0x5bae7b=>{const _0x3ced80=_0x4addeb;_0x5bae7b['addEventListener'](_0x3ced80(0x96d),_0x43e475=>{const _0x3c1270=_0x3ced80;_0x43e475['stopPropagation']();const _0x144a69=_0x5bae7b['dataset']['id'],_0x2324ad=allQuizzesGlobal[_0x3c1270(0xa53)](_0x4cdfb5=>_0x4cdfb5['id']===_0x144a69);_0x2324ad?(document['getElementById']('quiz-bank-modal')['classList'][_0x3c1270(0x214)](_0x3c1270(0x88c)),handleGenerateParallelFromBank(_0x2324ad)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5d1301[_0x4addeb(0x76c)]('.quiz-bank-present-btn')[_0x4addeb(0x220)](_0x5e06db=>{const _0x15774e=_0x4addeb;_0x5e06db[_0x15774e(0x795)](_0x15774e(0x96d),_0x3f7ac9=>{const _0x18047e=_0x15774e;_0x3f7ac9['stopPropagation']();const _0xbc2c1c=_0x5e06db[_0x18047e(0x5f3)]['id'],_0xc6d4bf=allQuizzesGlobal[_0x18047e(0xa53)](_0x3f99a6=>_0x3f99a6['id']===_0xbc2c1c);_0xc6d4bf?(document[_0x18047e(0x4d6)](_0x18047e(0x550))['classList'][_0x18047e(0x214)](_0x18047e(0x88c)),startPresentation(_0xc6d4bf)):showMessage(_0x18047e(0x9d5));});}),_0x5d1301[_0x4addeb(0x76c)](_0x4addeb(0x688))[_0x4addeb(0x220)](_0x558c42=>{const _0x404467=_0x4addeb;_0x558c42[_0x404467(0x795)]('click',_0xa756f9=>{const _0x1353fa=_0x404467;_0xa756f9['stopPropagation']();const _0x4305d7=_0x558c42[_0x1353fa(0x5f3)]['id'];document[_0x1353fa(0x4d6)](_0x1353fa(0x550))[_0x1353fa(0x21b)][_0x1353fa(0x214)](_0x1353fa(0x88c)),handleMoveQuiz(_0x4305d7);});}),_0x5d1301[_0x4addeb(0x76c)](_0x4addeb(0x43b))[_0x4addeb(0x220)](_0x58ceeb=>{const _0x4ff659=_0x4addeb;_0x58ceeb['addEventListener'](_0x4ff659(0x96d),_0x3e16b6=>{const _0xa6a553=_0x4ff659;_0x3e16b6[_0xa6a553(0x536)]();const _0x579d7f=_0x58ceeb['dataset']['id'];document[_0xa6a553(0x4d6)](_0xa6a553(0x550))[_0xa6a553(0x21b)]['add'](_0xa6a553(0x88c)),handleQuizSettings(_0x579d7f);});}),_0x5d1301[_0x4addeb(0x76c)](_0x4addeb(0x5a9))[_0x4addeb(0x220)](_0x537463=>{const _0x14e3b2=_0x4addeb;_0x537463['addEventListener'](_0x14e3b2(0x96d),_0x4bf854=>{const _0x5d17f1=_0x14e3b2;_0x4bf854[_0x5d17f1(0x536)]();const _0x22bcb4=_0x537463['dataset']['id'],_0x2761ff=_0x537463[_0x5d17f1(0x5f3)]['topic'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x2761ff+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x22bcb4));});});}async function handleCompareResults(_0xa3ed7d,_0x14649e){const _0x261d07=_0x3fa4d9,_0x4df066=document[_0x261d07(0x4d6)]('comparison-modal'),_0x3dfe10=document[_0x261d07(0x4d6)](_0x261d07(0x630)),_0x585422=document['getElementById'](_0x261d07(0x896));document[_0x261d07(0x4d6)]('comparison-overall-tab')[_0x261d07(0x21b)][_0x261d07(0x214)](_0x261d07(0x8bd)),document['getElementById'](_0x261d07(0x6a3))['classList']['remove']('active'),_0x3dfe10[_0x261d07(0x21b)][_0x261d07(0x621)](_0x261d07(0x88c)),_0x585422[_0x261d07(0x21b)][_0x261d07(0x214)]('hidden'),_0x3dfe10[_0x261d07(0xa8d)]=_0x261d07(0x5be),_0x585422[_0x261d07(0xa8d)]='',_0x4df066[_0x261d07(0x21b)][_0x261d07(0x621)]('hidden');try{const _0x461979=doc(db,'artifacts/'+appId+_0x261d07(0x8ca),_0xa3ed7d),_0x46ddd7=await getDoc(_0x461979);if(!_0x46ddd7[_0x261d07(0x77c)]())throw new Error(_0x261d07(0x930));const _0x2e4376=_0x46ddd7['data'](),_0x5b792c=_0x2e4376[_0x261d07(0x299)][_0x261d07(0x3e1)],_0x1dbcfd=collection(db,_0x261d07(0x31f)+appId+_0x261d07(0x7dd)+_0x14649e+_0x261d07(0x922)),_0x240c9b=collection(db,'artifacts/'+appId+_0x261d07(0x7dd)+_0xa3ed7d+_0x261d07(0x922)),[_0x5182d3,_0x263e3c]=await Promise['all']([getDocs(_0x1dbcfd),getDocs(_0x240c9b)]),_0x486c3d=_0x5182d3['docs'][_0x261d07(0x9f0)](_0x452b7b=>_0x452b7b['data']()),_0x1811e0=_0x263e3c[_0x261d07(0x7ed)][_0x261d07(0x9f0)](_0x7c5697=>_0x7c5697[_0x261d07(0x342)]()),_0x1df1a9=_0x486c3d[_0x261d07(0x9f0)](_0xfecb24=>_0xfecb24[_0x261d07(0x6aa)]),_0x13a7df=_0x1811e0[_0x261d07(0x9f0)](_0x169704=>_0x169704[_0x261d07(0x6aa)]),_0xa3477=calculateMeanAndStdDev(_0x1df1a9),_0x3050db=calculateMeanAndStdDev(_0x13a7df),_0x2ee476=_0xa3477[_0x261d07(0x1fc)],_0x3e28da=_0x3050db[_0x261d07(0x1fc)],_0x36dbac=_0x3e28da-_0x2ee476;let _0x258a51='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x2ee476[_0x261d07(0x459)](0x2)+_0x261d07(0x304)+_0x3e28da['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x36dbac>=0x0?_0x261d07(0x360):'bg-red-100')+_0x261d07(0x327)+(_0x36dbac>=0x0?'text-emerald-800':_0x261d07(0x27e))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x36dbac>=0x0?_0x261d07(0x3bb):_0x261d07(0x71a))+'\x22>'+(_0x36dbac>=0x0?'+':'')+_0x36dbac['toFixed'](0x2)+_0x261d07(0x286);_0x3dfe10[_0x261d07(0xa8d)]=_0x258a51;const _0x412515=document[_0x261d07(0x4d6)]('comparison-chart')[_0x261d07(0x680)]('2d');if(chartInstances[_0x261d07(0x9a8)])chartInstances[_0x261d07(0x9a8)][_0x261d07(0x552)]();chartInstances['comparison']=new Chart(_0x412515,{'type':_0x261d07(0x809),'data':{'labels':[_0x261d07(0x710)],'datasets':[{'label':_0x261d07(0x982),'data':[_0x2ee476],'backgroundColor':_0x261d07(0x7ca)},{'label':_0x261d07(0x4b9),'data':[_0x3e28da],'backgroundColor':_0x261d07(0x68f)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5b792c}}}});const _0x3e81b1=currentProjectData['students']||[],_0x2951af=_0x3e81b1[_0x261d07(0x9f0)](_0x1e04ad=>{const _0x1d041a=_0x261d07,_0x18e2e2=_0x486c3d[_0x1d041a(0xa53)](_0x4a92cf=>_0x4a92cf[_0x1d041a(0x238)]===_0x1e04ad),_0x437b67=_0x1811e0['find'](_0x51ba14=>_0x51ba14[_0x1d041a(0x238)]===_0x1e04ad),_0x5d202a=_0x18e2e2?_0x18e2e2[_0x1d041a(0x6aa)]:null,_0x5a2241=_0x437b67?_0x437b67['latestScore']:null,_0x40a161=_0x5d202a!==null&&_0x5a2241!==null?_0x5a2241-_0x5d202a:null,_0x3f0f86=_0x5d202a!==null?calculateZScore(_0x5d202a,_0xa3477[_0x1d041a(0x1fc)],_0xa3477[_0x1d041a(0x5b0)]):null,_0x55fb55=_0x5a2241!==null?calculateZScore(_0x5a2241,_0x3050db['mean'],_0x3050db[_0x1d041a(0x5b0)]):null,_0x4b215e=_0x3f0f86!==null?calculateTScore(_0x3f0f86):null,_0x3f9bc4=_0x55fb55!==null?calculateTScore(_0x55fb55):null,_0x50fd0c=_0x4b215e!==null&&_0x3f9bc4!==null?_0x3f9bc4-_0x4b215e:null;return{'name':_0x1e04ad,'preScore':_0x5d202a,'postScore':_0x5a2241,'gain':_0x40a161,'preTScore':_0x4b215e,'postTScore':_0x3f9bc4,'tGain':_0x50fd0c};});renderIndividualComparisonTable(_0x2951af,_0x585422);}catch(_0x5bc7ed){console['error'](_0x261d07(0x97c),_0x5bc7ed),_0x3dfe10[_0x261d07(0xa8d)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x16a23d,_0x23b90f){const _0x34f405=_0x3fa4d9,_0x3c847e=_0x16a23d>=_0x23b90f/0x2,_0x142acc=_0x3c847e?_0x34f405(0x8b2):'bg-red-100',_0x3469e5=_0x3c847e?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x5884d0=_0x3c847e?'text-green-800':_0x34f405(0x27e),_0x3d1968=_0x3c847e?_0x34f405(0x9fd):_0x34f405(0x392),_0x598b3d=_0x3c847e?'ยอดเยี่ยม!':_0x34f405(0x30d);let _0x36f6ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x142acc+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3469e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x5884d0+_0x34f405(0x726)+_0x3d1968+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x598b3d+_0x34f405(0x66d);studentResultArea[_0x34f405(0xa8d)]=_0x36f6ff,studentResultArea['classList']['remove'](_0x34f405(0x88c)),studentQuizArea[_0x34f405(0x21b)]['add'](_0x34f405(0x88c)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3c847e});}function displayPerfectScoreResult(_0x102b01,_0x587165){const _0x3bc4ec=_0x3fa4d9,_0x3e48b3=_0x102b01===_0x587165,_0x107415=_0x3e48b3?_0x3bc4ec(0x83a):_0x3bc4ec(0xa28),_0x2c9262=_0x3e48b3?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x3bc4ec(0x22d),_0x322680=_0x3e48b3?_0x3bc4ec(0x4cc):'text-blue-800',_0x263377=_0x3e48b3?'คะแนนเต็ม!':_0x3bc4ec(0x658),_0x4d93eb=_0x3e48b3?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x3bc4ec(0x976);let _0x4a1f4c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x107415+_0x3bc4ec(0x778)+_0x2c9262+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x322680+_0x3bc4ec(0x726)+_0x263377+_0x3bc4ec(0x92a)+_0x4d93eb+_0x3bc4ec(0x66d);studentResultArea[_0x3bc4ec(0xa8d)]=_0x4a1f4c,studentResultArea[_0x3bc4ec(0x21b)][_0x3bc4ec(0x621)]('hidden'),studentQuizArea['classList'][_0x3bc4ec(0x214)](_0x3bc4ec(0x88c)),setupResultScreenBackButton({'showRankings':![],'score':_0x102b01,'totalQuestions':_0x587165});}function renderIndividualComparisonTable(_0x40b632,_0x6f01e2){const _0x4874f4=_0x3fa4d9;_0x40b632[_0x4874f4(0x171)]((_0x3ef91b,_0x17eb7f)=>(_0x17eb7f['tGain']??-Infinity)-(_0x3ef91b[_0x4874f4(0x99a)]??-Infinity));let _0x385dec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x40b632[_0x4874f4(0x3e1)]===0x0?_0x385dec+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x40b632['forEach']((_0x56202d,_0x47c977)=>{const _0xbb42ce=_0x4874f4;let _0x3147d9='-',_0x16bb93='';if(_0x56202d[_0xbb42ce(0x965)]!==null){const _0x4a6f7f=_0x56202d[_0xbb42ce(0x965)]>0x0?_0xbb42ce(0x885):_0x56202d['gain']<0x0?'text-red-600':'text-gray-500',_0x21edb9=_0x56202d[_0xbb42ce(0x965)]>0x0?'+':'';_0x3147d9=_0xbb42ce(0x7b3)+_0x4a6f7f+'\x22>'+_0x21edb9+_0x56202d[_0xbb42ce(0x965)]+_0xbb42ce(0x397);if(_0x56202d[_0xbb42ce(0x965)]>0x0)_0x16bb93=_0xbb42ce(0x26f);else _0x56202d[_0xbb42ce(0x965)]<0x0?_0x16bb93='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x16bb93=_0xbb42ce(0x2d0);}let _0xcc5b1e='-';if(_0x56202d['tGain']!==null){const _0x3bbb49=_0x56202d[_0xbb42ce(0x99a)]>0x0?_0xbb42ce(0x885):_0x56202d['tGain']<0x0?_0xbb42ce(0x79a):_0xbb42ce(0x675),_0x4403e6=_0x56202d[_0xbb42ce(0x99a)]>0x0?'+':'';_0xcc5b1e=_0xbb42ce(0x7b3)+_0x3bbb49+'\x22>'+_0x4403e6+_0x56202d[_0xbb42ce(0x99a)][_0xbb42ce(0x459)](0x2)+_0xbb42ce(0x397);}_0x385dec+=_0xbb42ce(0x1f0)+(_0x47c977+0x1)+_0xbb42ce(0x2aa)+_0x56202d['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x56202d[_0xbb42ce(0x73c)]??'-')+_0xbb42ce(0x1cd)+(_0x56202d[_0xbb42ce(0x549)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3147d9+_0xbb42ce(0x78b)+_0x16bb93+_0xbb42ce(0x9e2)+(_0x56202d[_0xbb42ce(0x5d9)]?.['toFixed'](0x2)??'-')+_0xbb42ce(0x301)+(_0x56202d[_0xbb42ce(0x7a3)]?.[_0xbb42ce(0x459)](0x2)??'-')+_0xbb42ce(0x9f3)+_0xcc5b1e+_0xbb42ce(0x464);}),_0x385dec+=_0x4874f4(0x2f5),_0x6f01e2[_0x4874f4(0xa8d)]=_0x385dec;}function handleRenameQuiz(_0x3ccd0a,_0x5cb9a7){const _0x2d8e48=_0x3fa4d9;actionTargetId=_0x3ccd0a,document[_0x2d8e48(0x4d6)](_0x2d8e48(0x2a8))[_0x2d8e48(0xa87)]=_0x5cb9a7,renameQuizModal[_0x2d8e48(0x21b)]['remove'](_0x2d8e48(0x88c));}function setupComparisonModalTabs(){const _0xb83c41=_0x3fa4d9,_0x2a6311=document['getElementById'](_0xb83c41(0xa75)),_0x4eff18=document[_0xb83c41(0x4d6)](_0xb83c41(0x6a3)),_0x1c7d47=document['getElementById']('comparison-overall-content'),_0x219156=document[_0xb83c41(0x4d6)](_0xb83c41(0x896));_0x2a6311[_0xb83c41(0x795)](_0xb83c41(0x96d),()=>{const _0x4be324=_0xb83c41;_0x2a6311[_0x4be324(0x21b)][_0x4be324(0x214)](_0x4be324(0x8bd)),_0x4eff18[_0x4be324(0x21b)]['remove'](_0x4be324(0x8bd)),_0x1c7d47[_0x4be324(0x21b)]['remove']('hidden'),_0x219156[_0x4be324(0x21b)][_0x4be324(0x214)](_0x4be324(0x88c));}),_0x4eff18[_0xb83c41(0x795)](_0xb83c41(0x96d),()=>{const _0xfc91c3=_0xb83c41;_0x4eff18[_0xfc91c3(0x21b)][_0xfc91c3(0x214)](_0xfc91c3(0x8bd)),_0x2a6311[_0xfc91c3(0x21b)][_0xfc91c3(0x621)]('active'),_0x219156[_0xfc91c3(0x21b)][_0xfc91c3(0x621)]('hidden'),_0x1c7d47[_0xfc91c3(0x21b)][_0xfc91c3(0x214)](_0xfc91c3(0x88c));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x4fb701=''){const _0x56785b=_0x3fa4d9,_0x2b1fab=document['getElementById'](_0x56785b(0x319)),_0x3f97fc=_0x4fb701['toLowerCase']()[_0x56785b(0x56f)](),_0x47f4d1=allQuizzesGlobal[_0x56785b(0x9f0)](_0x2a30f5=>({..._0x2a30f5,'projectName':allProjects[_0x56785b(0xa53)](_0x5bf44f=>_0x5bf44f['id']===_0x2a30f5[_0x56785b(0x59c)])?.[_0x56785b(0x508)]||_0x2a30f5[_0x56785b(0x59c)]}))[_0x56785b(0x853)](_0x1bc131=>(_0x1bc131['topic']||'')[_0x56785b(0x4f3)]()[_0x56785b(0x8f0)](_0x3f97fc)||(_0x1bc131[_0x56785b(0x508)]||'')[_0x56785b(0x4f3)]()[_0x56785b(0x8f0)](_0x3f97fc));document[_0x56785b(0x4d6)](_0x56785b(0x4fa))[_0x56785b(0x5b9)]='('+_0x47f4d1['length']+_0x56785b(0x8e4),_0x2b1fab[_0x56785b(0xa8d)]=_0x47f4d1['length']?_0x47f4d1[_0x56785b(0x9f0)](_0x1a17b8=>_0x56785b(0x2a4)+_0x1a17b8['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x1a17b8[_0x56785b(0x836)]||'(ไม่มีชื่อ)')+_0x56785b(0x9ae)+(_0x1a17b8[_0x56785b(0x299)]?.['length']||0x0)+_0x56785b(0xa00)+_0x1a17b8[_0x56785b(0x508)]+_0x56785b(0x7a8))['join'](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x56785b(0x4d6)](_0x56785b(0x88e))['disabled']=!![],_0x2b1fab[_0x56785b(0x76c)](_0x56785b(0x4a5))[_0x56785b(0x220)](_0x1ae76b=>{const _0x37df97=_0x56785b;_0x1ae76b[_0x37df97(0x795)](_0x37df97(0x96d),()=>{const _0x1ad4a3=_0x37df97;selectedGlobalQuizId=_0x1ae76b[_0x1ad4a3(0x5f3)]['id'],_0x2b1fab[_0x1ad4a3(0x76c)](_0x1ad4a3(0x61e))[_0x1ad4a3(0x220)](_0x91985=>_0x91985[_0x1ad4a3(0x21b)][_0x1ad4a3(0x621)](_0x1ad4a3(0x824),_0x1ad4a3(0x540),_0x1ad4a3(0x8ad))),_0x1ae76b['classList'][_0x1ad4a3(0x214)](_0x1ad4a3(0x824),_0x1ad4a3(0x540),'ring-purple-400'),document[_0x1ad4a3(0x4d6)](_0x1ad4a3(0x88e))[_0x1ad4a3(0x907)]=![];});});}function listenForLiveGameUpdates(){const _0x92f132=_0x3fa4d9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2282c6=doc(db,_0x92f132(0x31f)+appId+_0x92f132(0x9b9),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2282c6,_0x5103f8=>{const _0x28352=_0x92f132;if(!_0x5103f8['exists']()){showMessage(_0x28352(0x9fb)),showView(currentMode);return;}const _0x1155be=_0x5103f8[_0x28352(0x342)]();_0x1155be[_0x28352(0x6d0)]&&(currentQuizData=_0x1155be[_0x28352(0x6d0)]);!currentQuizData&&_0x1155be[_0x28352(0x556)]&&((async()=>{const _0x160966=_0x28352;try{const _0x9207a3=doc(db,_0x160966(0x31f)+appId+_0x160966(0x8ca),_0x1155be['quizId']),_0x8878dd=await getDoc(_0x9207a3);_0x8878dd[_0x160966(0x77c)]()&&(currentQuizData={'id':_0x8878dd['id'],..._0x8878dd[_0x160966(0x342)]()});}catch(_0x209df7){console[_0x160966(0x1d8)](_0x160966(0x234),_0x209df7);}})());switch(_0x1155be[_0x28352(0x442)]){case _0x28352(0x9a2):if(currentMode==='admin'){const _0x48408c=_0x1155be['players']?Object[_0x28352(0x25a)](_0x1155be[_0x28352(0x452)]):[],_0x2c3ce8=_0x48408c[_0x28352(0x853)](([_0x5690ae,_0x4c1fbb])=>_0x4c1fbb[_0x28352(0x442)]==='active'),_0x5e1456=document[_0x28352(0x4d6)](_0x28352(0xa1f));if(_0x5e1456)_0x5e1456[_0x28352(0x5b9)]=_0x2c3ce8['length'];const _0x5aed3a=document['getElementById'](_0x28352(0x6b1));_0x5aed3a&&(_0x5aed3a[_0x28352(0xa8d)]=_0x2c3ce8[_0x28352(0x9f0)](([_0x48957b,_0x5f3780])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x48957b+_0x28352(0x8f6)+_0x48957b+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x28352(0x3d6)](''));const _0x3b8641=document[_0x28352(0x4d6)](_0x28352(0x6af));_0x3b8641&&(_0x3b8641[_0x28352(0x907)]=_0x2c3ce8[_0x28352(0x3e1)]===0x0);}else showView(_0x28352(0x60c)),liveGameView[_0x28352(0xa8d)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x28352(0x912);break;case _0x28352(0x8fd):const _0x4de10b=_0x1155be['currentQuestionIndex'];if(currentQuizData&&currentQuizData['questions'][_0x4de10b]){const _0x4beda2=currentQuizData[_0x28352(0x299)][_0x4de10b],_0x5af443=_0x1155be[_0x28352(0x8dc)]||_0x28352(0x797);switch(_0x5af443){case'summary_chart':currentMode===_0x28352(0x900)?showAdminSummaryView(_0x1155be,_0x4beda2):showPlayerSummaryView(_0x1155be,currentStudentName);break;case _0x28352(0x895):currentMode===_0x28352(0x900)&&showTop5LeaderboardView(_0x1155be);break;case _0x28352(0x797):default:if(currentMode===_0x28352(0x900)){const _0x45d7d2=writeBatch(db);let _0x331f4c=![];Object['entries'](_0x1155be[_0x28352(0x452)])['forEach'](([_0x36cf4d,_0x6e94e3])=>{const _0x5c3f4a=_0x28352;if(_0x6e94e3[_0x5c3f4a(0x442)]===_0x5c3f4a(0x8bd)&&_0x6e94e3[_0x5c3f4a(0x39b)]&&!_0x6e94e3[_0x5c3f4a(0x2bb)]){_0x331f4c=!![];const _0x367a00=_0x6e94e3[_0x5c3f4a(0x39b)][_0x5c3f4a(0x5a7)]()-_0x1155be[_0x5c3f4a(0x84b)][_0x5c3f4a(0x5a7)]();let _0x26553c=0x0;if(_0x6e94e3[_0x5c3f4a(0x56c)]){const _0x3c2fbd=0x3e8,_0x175583=0x1f4,_0x93f583=0x4e20;let _0x1130fc=_0x367a00/_0x93f583;if(_0x1130fc>0x1)_0x1130fc=0x1;const _0xe2bd28=Math['round'](_0x1130fc*_0x175583);_0x26553c=_0x3c2fbd-_0xe2bd28;}const _0x8e9d7f=doc(db,'artifacts/'+appId+_0x5c3f4a(0x9b9),currentLiveGameId);_0x45d7d2['update'](_0x8e9d7f,{['players.'+_0x36cf4d+_0x5c3f4a(0x8a5)]:increment(_0x26553c),[_0x5c3f4a(0x595)+_0x36cf4d+_0x5c3f4a(0x879)]:_0x26553c,[_0x5c3f4a(0x595)+_0x36cf4d+'.isScored']:!![]});}});_0x331f4c&&_0x45d7d2['commit']()[_0x28352(0x204)](_0x3ecfaa=>console[_0x28352(0x1d8)](_0x28352(0x445),_0x3ecfaa));lastRenderedAdminQuestionIndex!==_0x4de10b&&(showAdminLiveQuestionView(_0x4beda2,_0x4de10b,currentQuizData['questions'][_0x28352(0x3e1)]),lastRenderedAdminQuestionIndex=_0x4de10b);const _0x1a3086=_0x1155be[_0x28352(0x452)]||{},_0x3cf95a=Object[_0x28352(0x792)](_0x1a3086)['filter'](_0x3e1c07=>_0x3e1c07[_0x28352(0x442)]===_0x28352(0x8bd)),_0xb58b7d=_0x3cf95a[_0x28352(0x3e1)],_0x3d98fe=_0x3cf95a[_0x28352(0x853)](_0x473cc7=>_0x473cc7[_0x28352(0x25f)]===!![])['length'],_0x1529d6=document['getElementById']('answer-counter');if(_0x1529d6)_0x1529d6[_0x28352(0x5b9)]=_0x3d98fe+'/'+_0xb58b7d;const _0x3d4a18=document[_0x28352(0x4d6)](_0x28352(0x37a));if(_0x3d4a18){let _0x54747f=Object[_0x28352(0x25a)](_0x1a3086)['filter'](([_0xd38d57,_0x4e7f13])=>_0x4e7f13['status']==='active')[_0x28352(0x9f0)](([_0x30267e,_0x234a3c])=>{const _0x204eb9=_0x28352,_0x7c0954=_0x234a3c[_0x204eb9(0x25f)]===!![],_0x444b61=_0x7c0954?'bg-green-500':_0x204eb9(0x29c),_0x10ec9a=_0x7c0954?_0x204eb9(0x93a):_0x204eb9(0x979);return _0x204eb9(0x6c3)+_0x444b61+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10ec9a+_0x204eb9(0x8f9)+_0x30267e+_0x204eb9(0x197)+_0x30267e+_0x204eb9(0x4c7);})[_0x28352(0x3d6)]('');_0x3d4a18[_0x28352(0xa8d)]=_0x54747f||_0x28352(0x2a7);}_0xb58b7d>0x0&&_0x3d98fe===_0xb58b7d&&revealAnswerForAdmin(_0x4de10b,currentQuizData[_0x28352(0x299)][_0x28352(0x3e1)]);}else{const _0x96b5e6=_0x1155be[_0x28352(0x452)][currentStudentName];_0x96b5e6&&!_0x96b5e6['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x4beda2,_0x4de10b,currentQuizData[_0x28352(0x299)][_0x28352(0x3e1)]);}break;}}break;case _0x28352(0x18a):showPodiumView(_0x1155be[_0x28352(0x452)],_0x28352(0x691));break;}});}async function handleKickPlayer(_0x302fc9){const _0x457f7a=_0x3fa4d9;if(!currentLiveGameId||!_0x302fc9)return;const _0x28405c=doc(db,'artifacts/'+appId+_0x457f7a(0x9b9),currentLiveGameId),_0x13a7f5={};_0x13a7f5['players.'+_0x302fc9+'.status']=_0x457f7a(0x9e5);try{await updateDoc(_0x28405c,_0x13a7f5);}catch(_0xe8f42f){console[_0x457f7a(0x1d8)](_0x457f7a(0x517)+_0x302fc9+':',_0xe8f42f),showMessage(_0x457f7a(0x537));}}async function authenticateUser(){const _0x2ed6d6=_0x3fa4d9;try{typeof __initial_auth_token!==_0x2ed6d6(0x927)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4c1d9e){console[_0x2ed6d6(0x1d8)](_0x2ed6d6(0xa22),_0x4c1d9e),showMessage(_0x2ed6d6(0x272));}}function showView(_0x4e55af){const _0xd61797=_0x3fa4d9;adminView['classList']['add']('hidden'),studentView['classList'][_0xd61797(0x214)](_0xd61797(0x88c)),projectDashboardView[_0xd61797(0x21b)]['add'](_0xd61797(0x88c)),projectDetailView[_0xd61797(0x21b)]['add'](_0xd61797(0x88c)),quizResultsView[_0xd61797(0x21b)][_0xd61797(0x214)]('hidden'),liveGameView['classList'][_0xd61797(0x214)](_0xd61797(0x88c)),studentInitialView['classList']['add']('hidden'),studentJoinGameView[_0xd61797(0x21b)][_0xd61797(0x214)](_0xd61797(0x88c)),studentNameSelectionView[_0xd61797(0x21b)]['add'](_0xd61797(0x88c)),studentQuizArea['classList'][_0xd61797(0x214)](_0xd61797(0x88c)),studentResultArea[_0xd61797(0x21b)][_0xd61797(0x214)](_0xd61797(0x88c)),studentReadingArea[_0xd61797(0x21b)][_0xd61797(0x214)](_0xd61797(0x88c));const _0x51f374=document[_0xd61797(0x4d6)](_0xd61797(0x654)),_0x168503=document[_0xd61797(0x4d6)](_0xd61797(0x2a1));if(_0x51f374)_0x51f374[_0xd61797(0x21b)][_0xd61797(0x214)]('hidden');if(_0x168503)_0x168503[_0xd61797(0x21b)][_0xd61797(0x214)](_0xd61797(0x88c));switch(_0x4e55af){case _0xd61797(0x478):adminView[_0xd61797(0x21b)][_0xd61797(0x621)](_0xd61797(0x88c)),projectDashboardView[_0xd61797(0x21b)]['remove'](_0xd61797(0x88c));break;case'project-detail':adminView[_0xd61797(0x21b)]['remove'](_0xd61797(0x88c)),projectDetailView[_0xd61797(0x21b)][_0xd61797(0x621)](_0xd61797(0x88c));break;case _0xd61797(0x1a7):adminView['classList'][_0xd61797(0x621)](_0xd61797(0x88c)),quizResultsView[_0xd61797(0x21b)][_0xd61797(0x621)](_0xd61797(0x88c));break;case _0xd61797(0x564):studentView[_0xd61797(0x21b)]['remove']('hidden'),studentInitialView['classList'][_0xd61797(0x621)](_0xd61797(0x88c));break;case _0xd61797(0x60c):liveGameView[_0xd61797(0x21b)]['remove'](_0xd61797(0x88c));break;case _0xd61797(0x568):studentView['classList'][_0xd61797(0x621)](_0xd61797(0x88c));if(_0x51f374)_0x51f374[_0xd61797(0x21b)]['remove'](_0xd61797(0x88c));break;case'student-progress':studentView[_0xd61797(0x21b)][_0xd61797(0x621)](_0xd61797(0x88c));if(_0x168503)_0x168503[_0xd61797(0x21b)][_0xd61797(0x621)](_0xd61797(0x88c));break;default:studentView[_0xd61797(0x21b)][_0xd61797(0x621)](_0xd61797(0x88c)),studentInitialView[_0xd61797(0x21b)]['remove'](_0xd61797(0x88c));break;}}function showJoinGameView(){const _0x403dca=_0x3fa4d9;studentInitialView[_0x403dca(0x21b)][_0x403dca(0x214)](_0x403dca(0x88c)),studentJoinGameView[_0x403dca(0x21b)][_0x403dca(0x621)](_0x403dca(0x88c));}async function handleSaveVisibilitySettings(){const _0x494710=_0x3fa4d9;if(!currentProjectId)return;const _0x4deffc=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x4deffc,{'settings.showInStudentDashboard':document[_0x494710(0x4d6)](_0x494710(0x59f))[_0x494710(0x5d4)],'settings.isPasscodeEnabled':document[_0x494710(0x4d6)](_0x494710(0x382))[_0x494710(0x5d4)],'settings.passcode':document[_0x494710(0x4d6)](_0x494710(0x85a))[_0x494710(0xa87)]['trim']()}),showMessage(_0x494710(0x5e4));}catch(_0x4d600a){console[_0x494710(0x1d8)](_0x494710(0x5a6),_0x4d600a),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x1f505b=_0x3fa4d9,_0x4b2723=document[_0x1f505b(0x4d6)](_0x1f505b(0x463)),_0xfb92dd=document['getElementById'](_0x1f505b(0x7b5));_0x4b2723[_0x1f505b(0x795)](_0x1f505b(0x5ea),()=>{const _0x3a1a28=_0x1f505b;_0xfb92dd[_0x3a1a28(0x21b)][_0x3a1a28(0x8d1)](_0x3a1a28(0x88c),!_0x4b2723['checked']);});const _0x17aa28=document['getElementById']('modal-confidence-scoring-checkbox'),_0x5995ac=document[_0x1f505b(0x4d6)]('modal-confidence-mode-container');_0x17aa28[_0x1f505b(0x795)](_0x1f505b(0x5ea),()=>{const _0x281c85=_0x1f505b;_0x5995ac['classList'][_0x281c85(0x8d1)](_0x281c85(0x88c),!_0x17aa28[_0x281c85(0x5d4)]);});const _0x5b4e3a=document[_0x1f505b(0x4d6)](_0x1f505b(0x3e6)),_0xcb8c95=_0x2d5a12=>{const _0x3547c2=_0x1f505b;_0x5b4e3a[_0x3547c2(0x21b)][_0x3547c2(0x214)](_0x3547c2(0x88c));const _0x3cb053=document[_0x3547c2(0x4d6)]('selected-answer-index-hidden')['value'],_0x4a3fc9={'answer':_0x3cb053,'wasConfident':_0x2d5a12};proceedToNextQuestion(_0x4a3fc9);};document[_0x1f505b(0x4d6)](_0x1f505b(0x79f))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>_0xcb8c95(!![])),document[_0x1f505b(0x4d6)]('confirm-not-confident')['addEventListener'](_0x1f505b(0x96d),()=>_0xcb8c95(![])),liveGameView[_0x1f505b(0x795)](_0x1f505b(0x96d),_0x314cff=>{const _0x2ff42e=_0x1f505b,_0x4003e6=_0x314cff['target'][_0x2ff42e(0x305)]('.kick-player-btn-sync');if(_0x4003e6){const _0xb1556a=_0x4003e6[_0x2ff42e(0x5f3)][_0x2ff42e(0x340)];_0xb1556a&&handleKickPlayerSync(_0xb1556a);}});const _0xaf1f37=document[_0x1f505b(0x4d6)]('confirm-game-start-btn'),_0x662cc2=document[_0x1f505b(0x4d6)](_0x1f505b(0x9ba));_0x662cc2[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0xd33831=_0x1f505b;document['getElementById'](_0xd33831(0x81b))[_0xd33831(0x21b)][_0xd33831(0x214)](_0xd33831(0x88c));}),_0xaf1f37[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x508349=_0x1f505b,_0xa75e5=document[_0x508349(0x4d6)](_0x508349(0x8fe))[_0x508349(0xa87)],_0x389038=document['getElementById'](_0x508349(0x4d1))[_0x508349(0xa87)],_0x558a34=document[_0x508349(0x4d6)](_0x508349(0x9ee))[_0x508349(0x5d4)];document[_0x508349(0x4d6)](_0x508349(0x81b))[_0x508349(0x21b)][_0x508349(0x214)]('hidden');switch(_0x389038){case _0x508349(0x691):handleStartLiveRace(_0xa75e5,_0x558a34);break;case _0x508349(0x3d0):handleStartTeamQuiz(_0xa75e5,_0x558a34);break;case _0x508349(0x915):handleStartGroupMode(_0xa75e5,_0x558a34);break;case'sync':handleStartSyncMode(_0xa75e5,_0x558a34);break;}}),document[_0x1f505b(0x4d6)](_0x1f505b(0x974))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleJoinGroupActivity),liveGameView['addEventListener'](_0x1f505b(0x96d),_0x20ac06=>{const _0x4eb213=_0x1f505b,_0x5d66b6=_0x20ac06['target'][_0x4eb213(0x305)](_0x4eb213(0x42a));document['querySelectorAll'](_0x4eb213(0xa61))['forEach'](_0x53b433=>{const _0x4f92c3=_0x4eb213;(!_0x5d66b6||_0x53b433['id']!==_0x5d66b6['dataset'][_0x4f92c3(0x1a3)])&&_0x53b433[_0x4f92c3(0x21b)][_0x4f92c3(0x621)]('visible');});if(!_0x5d66b6)return;const _0x1cb9bc=_0x5d66b6[_0x4eb213(0x5f3)][_0x4eb213(0x1a3)],_0x1f6faa=document[_0x4eb213(0x4d6)](_0x1cb9bc);_0x1f6faa&&_0x1f6faa[_0x4eb213(0x21b)][_0x4eb213(0x8d1)](_0x4eb213(0x4b7));}),liveGameView[_0x1f505b(0x795)](_0x1f505b(0x96d),_0x7f4642=>{const _0x439c66=_0x1f505b;if(_0x7f4642['target'][_0x439c66(0x21b)]['contains'](_0x439c66(0x9c1))){const _0x23b4d1=_0x7f4642[_0x439c66(0x736)][_0x439c66(0x5f3)][_0x439c66(0x340)];_0x23b4d1&&handleKickPlayer(_0x23b4d1);}}),document[_0x1f505b(0x4d6)]('project-title')['addEventListener'](_0x1f505b(0x9a9),()=>document[_0x1f505b(0x4d6)](_0x1f505b(0x3e0))[_0x1f505b(0x21b)]['remove'](_0x1f505b(0x88c))),document[_0x1f505b(0x4d6)]('save-project-name-btn')[_0x1f505b(0x795)](_0x1f505b(0x96d),handleSaveProjectName),document[_0x1f505b(0x4d6)](_0x1f505b(0xa2d))[_0x1f505b(0x795)]('keydown',_0x2b9ea8=>{const _0x25697b=_0x1f505b;_0x2b9ea8[_0x25697b(0x6f1)]===_0x25697b(0x57c)&&(_0x2b9ea8[_0x25697b(0x261)](),_0x2b9ea8[_0x25697b(0x736)]['blur'](),handleSaveProjectName());}),document[_0x1f505b(0x4d6)]('bulk-quiz-settings-btn')['addEventListener']('click',()=>{const _0x1bdda5=_0x1f505b;document[_0x1bdda5(0x4d6)](_0x1bdda5(0x6cb))[_0x1bdda5(0x21b)][_0x1bdda5(0x621)](_0x1bdda5(0x88c));}),document[_0x1f505b(0x4d6)](_0x1f505b(0x95e))['addEventListener'](_0x1f505b(0x96d),()=>{const _0x28642f=_0x1f505b;document[_0x28642f(0x4d6)](_0x28642f(0x6cb))[_0x28642f(0x21b)][_0x28642f(0x214)](_0x28642f(0x88c));}),document['getElementById'](_0x1f505b(0x49a))['addEventListener']('click',handleBulkUpdateQuizSettings),document['getElementById'](_0x1f505b(0x84f))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleModeSwitch),document[_0x1f505b(0x4d6)](_0x1f505b(0x9f4))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleUpdateOldQuizzes),document[_0x1f505b(0x4d6)](_0x1f505b(0x553))[_0x1f505b(0x795)]('click',handleResetProjectOrder),document[_0x1f505b(0x4d6)](_0x1f505b(0x219))['addEventListener'](_0x1f505b(0x96d),handleSaveVisibilitySettings),document[_0x1f505b(0x4d6)](_0x1f505b(0x287))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleAddCustomMathTopic),document[_0x1f505b(0x4d6)](_0x1f505b(0x86d))[_0x1f505b(0x795)]('click',handleSelectAllTopics),document[_0x1f505b(0x4d6)](_0x1f505b(0x9b5))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleDeselectAllTopics),document[_0x1f505b(0x4d6)](_0x1f505b(0x7ea))[_0x1f505b(0x795)]('click',()=>{const _0x752324=_0x1f505b;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x752324(0x478));}),document['getElementById'](_0x1f505b(0x6d7))['addEventListener'](_0x1f505b(0x96d),()=>{const _0x479ddc=_0x1f505b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x479ddc(0x364));}),document[_0x1f505b(0x4d6)]('back-to-dashboard-from-results-btn')[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{showView('admin-dashboard');}),document[_0x1f505b(0x4d6)](_0x1f505b(0xa94))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x15b54a=_0x1f505b;messageModal[_0x15b54a(0x21b)]['add']('hidden'),typeof modalConfirmAction===_0x15b54a(0x23e)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1f505b(0x4d6)](_0x1f505b(0x7bc))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>createProjectModal[_0x1f505b(0x21b)]['remove'](_0x1f505b(0x88c))),document[_0x1f505b(0x4d6)](_0x1f505b(0x94f))['addEventListener'](_0x1f505b(0x96d),()=>createProjectModal[_0x1f505b(0x21b)]['add'](_0x1f505b(0x88c))),document[_0x1f505b(0x4d6)](_0x1f505b(0x31c))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>adminPasswordModal[_0x1f505b(0x21b)][_0x1f505b(0x214)](_0x1f505b(0x88c))),document[_0x1f505b(0x4d6)](_0x1f505b(0x345))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleAdminLogin),document[_0x1f505b(0x4d6)](_0x1f505b(0x21f))[_0x1f505b(0x795)]('keyup',_0x2f14fc=>{const _0x517cc5=_0x1f505b;if(_0x2f14fc[_0x517cc5(0x6f1)]==='Enter')handleAdminLogin();}),document[_0x1f505b(0x4d6)]('cancel-delete-btn')[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x2d388e=_0x1f505b;confirmationModal[_0x2d388e(0x21b)][_0x2d388e(0x214)]('hidden'),confirmAction=null;}),document['getElementById']('confirm-delete-btn')['addEventListener'](_0x1f505b(0x96d),()=>{const _0x4a6d24=_0x1f505b;confirmAction&&confirmAction(),confirmationModal[_0x4a6d24(0x21b)][_0x4a6d24(0x214)]('hidden'),confirmAction=null;}),document['getElementById'](_0x1f505b(0xa82))['addEventListener'](_0x1f505b(0x96d),()=>renameQuizModal[_0x1f505b(0x21b)][_0x1f505b(0x214)](_0x1f505b(0x88c))),document[_0x1f505b(0x4d6)](_0x1f505b(0x9f1))['addEventListener'](_0x1f505b(0x96d),confirmRenameQuiz),document['getElementById'](_0x1f505b(0x52e))[_0x1f505b(0x795)]('click',()=>moveQuizModal[_0x1f505b(0x21b)][_0x1f505b(0x214)](_0x1f505b(0x88c))),document[_0x1f505b(0x4d6)](_0x1f505b(0x54f))[_0x1f505b(0x795)]('click',confirmMoveQuiz),document[_0x1f505b(0x4d6)]('cancel-quiz-settings-btn')[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>quizSettingsModal[_0x1f505b(0x21b)][_0x1f505b(0x214)]('hidden')),document['getElementById'](_0x1f505b(0x963))[_0x1f505b(0x795)](_0x1f505b(0x96d),confirmQuizSettings),document[_0x1f505b(0x4d6)](_0x1f505b(0x2f4))['addEventListener'](_0x1f505b(0x96d),()=>quizStatusModal[_0x1f505b(0x21b)]['add'](_0x1f505b(0x88c))),document[_0x1f505b(0x4d6)]('confirm-quiz-status-btn')[_0x1f505b(0x795)]('click',confirmQuizStatus);const _0x31196a=document[_0x1f505b(0x4d6)](_0x1f505b(0x3a4));document[_0x1f505b(0x4d6)](_0x1f505b(0x3e8))['addEventListener'](_0x1f505b(0x96d),()=>{const _0x4ee3b8=_0x1f505b;_0x31196a[_0x4ee3b8(0x21b)][_0x4ee3b8(0x214)]('hidden');}),document[_0x1f505b(0x4d6)](_0x1f505b(0x9a7))[_0x1f505b(0x795)](_0x1f505b(0x96d),async()=>{const _0x2b5815=_0x1f505b,_0x21c6a8=allQuizzes['find'](_0x1b211b=>_0x1b211b['id']===actionTargetId);_0x21c6a8?(currentQuizData=_0x21c6a8,exportQuizAsWorksheetPDF()):showMessage(_0x2b5815(0x9d5)),_0x31196a[_0x2b5815(0x21b)][_0x2b5815(0x214)](_0x2b5815(0x88c));}),document[_0x1f505b(0x4d6)]('export-tutor-pdf-btn')[_0x1f505b(0x795)](_0x1f505b(0x96d),async()=>{const _0x3f3a0d=_0x1f505b,_0x2fa01a=allQuizzes[_0x3f3a0d(0xa53)](_0x5d87da=>_0x5d87da['id']===actionTargetId);_0x2fa01a?(currentQuizData=_0x2fa01a,exportQuizAsTutorPDF()):showMessage(_0x3f3a0d(0x9d5)),_0x31196a['classList'][_0x3f3a0d(0x214)](_0x3f3a0d(0x88c));}),document['getElementById'](_0x1f505b(0x5ab))[_0x1f505b(0x795)](_0x1f505b(0x96d),openGlobalLiveModal),document[_0x1f505b(0x4d6)](_0x1f505b(0x89d))[_0x1f505b(0x795)]('click',()=>{const _0x385fe2=_0x1f505b;document[_0x385fe2(0x4d6)](_0x385fe2(0x4d9))['classList']['add'](_0x385fe2(0x88c)),selectedGlobalQuizId=null;}),document[_0x1f505b(0x4d6)](_0x1f505b(0x325))['addEventListener'](_0x1f505b(0x961),_0x22de97=>renderGlobalQuizList(_0x22de97['target'][_0x1f505b(0xa87)])),document['getElementById'](_0x1f505b(0x88e))['addEventListener'](_0x1f505b(0x96d),()=>{const _0x2cf8aa=_0x1f505b,_0x36e982=selectedGlobalQuizId;if(!_0x36e982)return;document['getElementById'](_0x2cf8aa(0x4d9))[_0x2cf8aa(0x21b)][_0x2cf8aa(0x214)](_0x2cf8aa(0x88c)),handleStartLiveRace(_0x36e982);}),document[_0x1f505b(0x4d6)](_0x1f505b(0xa90))[_0x1f505b(0x795)](_0x1f505b(0x961),renderProjects),document[_0x1f505b(0x4d6)](_0x1f505b(0x823))[_0x1f505b(0x795)](_0x1f505b(0x5ea),async()=>{const _0x1fcada=_0x1f505b,_0x5aa3d2=document[_0x1fcada(0x4d6)](_0x1fcada(0x823))[_0x1fcada(0xa87)],_0x5d04a5=doc(db,'globalSettings',_0x1fcada(0x4f1));try{await setDoc(_0x5d04a5,{'projectSort':_0x5aa3d2},{'merge':!![]});}catch(_0x23aa1d){console[_0x1fcada(0x1d8)]('Error\x20updating\x20sort\x20preference:',_0x23aa1d),showMessage(_0x1fcada(0x612));}}),document['getElementById'](_0x1f505b(0x94e))['addEventListener']('input',renderQuizzes),document[_0x1f505b(0x4d6)](_0x1f505b(0x426))[_0x1f505b(0x795)]('click',()=>{const _0x462563=_0x1f505b;globalDashboardSettings[_0x462563(0x6d4)]='grid',saveUserPreference(_0x462563(0x6d4),_0x462563(0xa46)),renderProjects();}),document[_0x1f505b(0x4d6)](_0x1f505b(0x2c4))[_0x1f505b(0x795)]('click',()=>{const _0x30483f=_0x1f505b;globalDashboardSettings[_0x30483f(0x6d4)]=_0x30483f(0x6bd),saveUserPreference(_0x30483f(0x6d4),'list'),renderProjects();}),manageTab[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>switchProjectTab(_0x1f505b(0x9f9))),resultsTab[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>switchProjectTab(_0x1f505b(0x5c9))),leaderboardTab[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>switchProjectTab(_0x1f505b(0x895))),document['getElementById'](_0x1f505b(0x3c0))[_0x1f505b(0x795)]('click',()=>switchQuizDetailTab(_0x1f505b(0x245))),document[_0x1f505b(0x4d6)](_0x1f505b(0x45b))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>switchQuizDetailTab('scores')),document[_0x1f505b(0x4d6)](_0x1f505b(0x51f))['addEventListener']('click',()=>switchQuizDetailTab(_0x1f505b(0x6d8))),document[_0x1f505b(0x4d6)]('behavior-log-tab-btn')[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>switchQuizDetailTab(_0x1f505b(0x707))),document[_0x1f505b(0x4d6)](_0x1f505b(0x8aa))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleAnalyzeClass),generateWorksheetBtn[_0x1f505b(0x795)](_0x1f505b(0x96d),generateWorksheet);const _0x595c42=document[_0x1f505b(0x4d6)](_0x1f505b(0x627)),_0x440c3d=document[_0x1f505b(0x4d6)]('link-input-area'),_0x245360=document[_0x1f505b(0x4d6)](_0x1f505b(0x9d7)),_0x2fb01c=document[_0x1f505b(0x4d6)](_0x1f505b(0x4aa)),_0x2eee6c=document[_0x1f505b(0x4d6)](_0x1f505b(0x8e7)),_0x18dc66=document[_0x1f505b(0x4d6)](_0x1f505b(0x5e0));topicTab[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x145c69=_0x1f505b;topicTab[_0x145c69(0x21b)]['add'](_0x145c69(0x8bd)),textTab[_0x145c69(0x21b)][_0x145c69(0x621)](_0x145c69(0x8bd)),fileTab['classList'][_0x145c69(0x621)](_0x145c69(0x8bd)),worksheetTab['classList']['remove']('active');if(_0x595c42)_0x595c42[_0x145c69(0x21b)][_0x145c69(0x621)](_0x145c69(0x8bd));if(_0x245360)_0x245360[_0x145c69(0x21b)][_0x145c69(0x621)](_0x145c69(0x8bd));if(_0x2eee6c)_0x2eee6c[_0x145c69(0x21b)][_0x145c69(0x621)](_0x145c69(0x8bd));topicInputArea['classList']['remove'](_0x145c69(0x88c)),textInputArea[_0x145c69(0x21b)][_0x145c69(0x214)](_0x145c69(0x88c)),fileInputArea[_0x145c69(0x21b)][_0x145c69(0x214)](_0x145c69(0x88c)),worksheetInputArea['classList'][_0x145c69(0x214)]('hidden');if(_0x440c3d)_0x440c3d[_0x145c69(0x21b)][_0x145c69(0x214)](_0x145c69(0x88c));if(_0x2fb01c)_0x2fb01c[_0x145c69(0x21b)][_0x145c69(0x214)]('hidden');if(_0x18dc66)_0x18dc66['classList'][_0x145c69(0x214)](_0x145c69(0x88c));}),textTab['addEventListener'](_0x1f505b(0x96d),()=>{const _0x154df1=_0x1f505b;textTab[_0x154df1(0x21b)]['add'](_0x154df1(0x8bd)),topicTab['classList'][_0x154df1(0x621)](_0x154df1(0x8bd)),fileTab[_0x154df1(0x21b)][_0x154df1(0x621)](_0x154df1(0x8bd)),worksheetTab[_0x154df1(0x21b)][_0x154df1(0x621)](_0x154df1(0x8bd));if(_0x595c42)_0x595c42[_0x154df1(0x21b)][_0x154df1(0x621)]('active');if(_0x245360)_0x245360['classList']['remove'](_0x154df1(0x8bd));if(_0x2eee6c)_0x2eee6c['classList'][_0x154df1(0x621)](_0x154df1(0x8bd));textInputArea[_0x154df1(0x21b)]['remove'](_0x154df1(0x88c)),topicInputArea[_0x154df1(0x21b)][_0x154df1(0x214)](_0x154df1(0x88c)),fileInputArea[_0x154df1(0x21b)]['add'](_0x154df1(0x88c)),worksheetInputArea[_0x154df1(0x21b)]['add'](_0x154df1(0x88c));if(_0x440c3d)_0x440c3d[_0x154df1(0x21b)]['add'](_0x154df1(0x88c));if(_0x2fb01c)_0x2fb01c[_0x154df1(0x21b)][_0x154df1(0x214)](_0x154df1(0x88c));if(_0x18dc66)_0x18dc66['classList'][_0x154df1(0x214)](_0x154df1(0x88c));}),fileTab[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x4d5002=_0x1f505b;fileTab[_0x4d5002(0x21b)][_0x4d5002(0x214)](_0x4d5002(0x8bd)),topicTab[_0x4d5002(0x21b)][_0x4d5002(0x621)]('active'),textTab[_0x4d5002(0x21b)][_0x4d5002(0x621)](_0x4d5002(0x8bd)),worksheetTab[_0x4d5002(0x21b)][_0x4d5002(0x621)](_0x4d5002(0x8bd));if(_0x595c42)_0x595c42[_0x4d5002(0x21b)][_0x4d5002(0x621)](_0x4d5002(0x8bd));if(_0x245360)_0x245360['classList'][_0x4d5002(0x621)]('active');if(_0x2eee6c)_0x2eee6c[_0x4d5002(0x21b)][_0x4d5002(0x621)](_0x4d5002(0x8bd));fileInputArea[_0x4d5002(0x21b)][_0x4d5002(0x621)](_0x4d5002(0x88c)),topicInputArea[_0x4d5002(0x21b)][_0x4d5002(0x214)](_0x4d5002(0x88c)),textInputArea['classList'][_0x4d5002(0x214)]('hidden'),worksheetInputArea[_0x4d5002(0x21b)][_0x4d5002(0x214)]('hidden');if(_0x440c3d)_0x440c3d['classList'][_0x4d5002(0x214)](_0x4d5002(0x88c));if(_0x2fb01c)_0x2fb01c[_0x4d5002(0x21b)][_0x4d5002(0x214)](_0x4d5002(0x88c));if(_0x18dc66)_0x18dc66['classList'][_0x4d5002(0x214)](_0x4d5002(0x88c));}),worksheetTab['addEventListener'](_0x1f505b(0x96d),()=>{const _0x303e8c=_0x1f505b;worksheetTab[_0x303e8c(0x21b)][_0x303e8c(0x214)](_0x303e8c(0x8bd)),topicTab[_0x303e8c(0x21b)][_0x303e8c(0x621)](_0x303e8c(0x8bd)),textTab['classList']['remove'](_0x303e8c(0x8bd)),fileTab[_0x303e8c(0x21b)][_0x303e8c(0x621)](_0x303e8c(0x8bd));if(_0x595c42)_0x595c42[_0x303e8c(0x21b)][_0x303e8c(0x621)]('active');if(_0x245360)_0x245360[_0x303e8c(0x21b)][_0x303e8c(0x621)]('active');if(_0x2eee6c)_0x2eee6c[_0x303e8c(0x21b)]['remove'](_0x303e8c(0x8bd));worksheetInputArea['classList'][_0x303e8c(0x621)](_0x303e8c(0x88c)),topicInputArea['classList'][_0x303e8c(0x214)](_0x303e8c(0x88c)),textInputArea[_0x303e8c(0x21b)]['add']('hidden'),fileInputArea[_0x303e8c(0x21b)]['add']('hidden');if(_0x440c3d)_0x440c3d['classList'][_0x303e8c(0x214)](_0x303e8c(0x88c));if(_0x2fb01c)_0x2fb01c[_0x303e8c(0x21b)][_0x303e8c(0x214)](_0x303e8c(0x88c));if(_0x18dc66)_0x18dc66[_0x303e8c(0x21b)][_0x303e8c(0x214)](_0x303e8c(0x88c));});const _0x2b8cc2=document[_0x1f505b(0x4d6)](_0x1f505b(0x2e1)),_0x1cbf65=document[_0x1f505b(0x4d6)](_0x1f505b(0xa54));_0x2b8cc2&&_0x2b8cc2[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x96512=_0x1f505b;topicTab[_0x96512(0x21b)][_0x96512(0x621)]('active'),textTab[_0x96512(0x21b)][_0x96512(0x621)]('active'),fileTab['classList'][_0x96512(0x621)](_0x96512(0x8bd)),worksheetTab[_0x96512(0x21b)][_0x96512(0x621)](_0x96512(0x8bd));if(_0x595c42)_0x595c42[_0x96512(0x21b)][_0x96512(0x621)]('active');if(_0x245360)_0x245360[_0x96512(0x21b)][_0x96512(0x621)](_0x96512(0x8bd));if(_0x2eee6c)_0x2eee6c['classList']['remove'](_0x96512(0x8bd));_0x2b8cc2[_0x96512(0x21b)][_0x96512(0x214)]('active'),topicInputArea['classList']['add'](_0x96512(0x88c)),textInputArea[_0x96512(0x21b)][_0x96512(0x214)](_0x96512(0x88c)),fileInputArea[_0x96512(0x21b)][_0x96512(0x214)](_0x96512(0x88c)),worksheetInputArea[_0x96512(0x21b)]['add'](_0x96512(0x88c));if(_0x440c3d)_0x440c3d[_0x96512(0x21b)][_0x96512(0x214)](_0x96512(0x88c));if(_0x2fb01c)_0x2fb01c[_0x96512(0x21b)][_0x96512(0x214)](_0x96512(0x88c));if(_0x18dc66)_0x18dc66['classList'][_0x96512(0x214)](_0x96512(0x88c));_0x1cbf65[_0x96512(0x21b)][_0x96512(0x621)](_0x96512(0x88c)),displayQuestionBank();});_0x595c42&&(_0x595c42['addEventListener'](_0x1f505b(0x96d),()=>{const _0x2f30ee=_0x1f505b;_0x595c42[_0x2f30ee(0x21b)][_0x2f30ee(0x214)](_0x2f30ee(0x8bd)),topicTab[_0x2f30ee(0x21b)][_0x2f30ee(0x621)](_0x2f30ee(0x8bd)),textTab[_0x2f30ee(0x21b)]['remove'](_0x2f30ee(0x8bd)),fileTab['classList'][_0x2f30ee(0x621)](_0x2f30ee(0x8bd)),worksheetTab[_0x2f30ee(0x21b)][_0x2f30ee(0x621)](_0x2f30ee(0x8bd));if(_0x245360)_0x245360[_0x2f30ee(0x21b)][_0x2f30ee(0x621)](_0x2f30ee(0x8bd));if(_0x2eee6c)_0x2eee6c[_0x2f30ee(0x21b)][_0x2f30ee(0x621)](_0x2f30ee(0x8bd));_0x440c3d['classList'][_0x2f30ee(0x621)](_0x2f30ee(0x88c)),topicInputArea[_0x2f30ee(0x21b)][_0x2f30ee(0x214)]('hidden'),textInputArea[_0x2f30ee(0x21b)]['add'](_0x2f30ee(0x88c)),fileInputArea[_0x2f30ee(0x21b)]['add']('hidden'),worksheetInputArea['classList'][_0x2f30ee(0x214)](_0x2f30ee(0x88c));if(_0x2fb01c)_0x2fb01c['classList'][_0x2f30ee(0x214)](_0x2f30ee(0x88c));if(_0x18dc66)_0x18dc66[_0x2f30ee(0x21b)][_0x2f30ee(0x214)](_0x2f30ee(0x88c));}),document['getElementById'](_0x1f505b(0x2b3))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleGenerateFromLink));_0x245360&&_0x245360[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x309c96=_0x1f505b;_0x245360[_0x309c96(0x21b)][_0x309c96(0x214)](_0x309c96(0x8bd)),topicTab[_0x309c96(0x21b)][_0x309c96(0x621)]('active'),textTab[_0x309c96(0x21b)][_0x309c96(0x621)]('active'),fileTab[_0x309c96(0x21b)][_0x309c96(0x621)](_0x309c96(0x8bd)),worksheetTab[_0x309c96(0x21b)][_0x309c96(0x621)](_0x309c96(0x8bd));if(_0x595c42)_0x595c42['classList'][_0x309c96(0x621)](_0x309c96(0x8bd));if(_0x2b8cc2)_0x2b8cc2[_0x309c96(0x21b)]['remove'](_0x309c96(0x8bd));if(_0x2eee6c)_0x2eee6c[_0x309c96(0x21b)][_0x309c96(0x621)](_0x309c96(0x8bd));_0x2fb01c[_0x309c96(0x21b)]['remove'](_0x309c96(0x88c)),topicInputArea[_0x309c96(0x21b)][_0x309c96(0x214)](_0x309c96(0x88c)),textInputArea[_0x309c96(0x21b)][_0x309c96(0x214)]('hidden'),fileInputArea[_0x309c96(0x21b)][_0x309c96(0x214)](_0x309c96(0x88c)),worksheetInputArea['classList']['add'](_0x309c96(0x88c));if(_0x440c3d)_0x440c3d['classList'][_0x309c96(0x214)](_0x309c96(0x88c));if(_0x1cbf65)_0x1cbf65[_0x309c96(0x21b)][_0x309c96(0x214)](_0x309c96(0x88c));if(_0x18dc66)_0x18dc66['classList'][_0x309c96(0x214)](_0x309c96(0x88c));});_0x2eee6c&&_0x2eee6c[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x3a436e=_0x1f505b;_0x2eee6c['classList'][_0x3a436e(0x214)](_0x3a436e(0x8bd)),topicTab[_0x3a436e(0x21b)][_0x3a436e(0x621)]('active'),textTab[_0x3a436e(0x21b)]['remove'](_0x3a436e(0x8bd)),fileTab['classList'][_0x3a436e(0x621)](_0x3a436e(0x8bd)),worksheetTab[_0x3a436e(0x21b)][_0x3a436e(0x621)]('active');if(_0x595c42)_0x595c42['classList']['remove'](_0x3a436e(0x8bd));if(_0x245360)_0x245360[_0x3a436e(0x21b)]['remove']('active');if(_0x2b8cc2)_0x2b8cc2[_0x3a436e(0x21b)]['remove'](_0x3a436e(0x8bd));_0x18dc66[_0x3a436e(0x21b)]['remove'](_0x3a436e(0x88c)),topicInputArea[_0x3a436e(0x21b)][_0x3a436e(0x214)](_0x3a436e(0x88c)),textInputArea[_0x3a436e(0x21b)][_0x3a436e(0x214)]('hidden'),fileInputArea[_0x3a436e(0x21b)][_0x3a436e(0x214)](_0x3a436e(0x88c)),worksheetInputArea[_0x3a436e(0x21b)]['add'](_0x3a436e(0x88c));if(_0x440c3d)_0x440c3d[_0x3a436e(0x21b)][_0x3a436e(0x214)](_0x3a436e(0x88c));if(_0x2fb01c)_0x2fb01c[_0x3a436e(0x21b)][_0x3a436e(0x214)]('hidden');if(_0x1cbf65)_0x1cbf65[_0x3a436e(0x21b)][_0x3a436e(0x214)](_0x3a436e(0x88c));});const _0x533059=document[_0x1f505b(0x4d6)](_0x1f505b(0x81f)),_0x5dc311=document['getElementById'](_0x1f505b(0xa1c));_0x533059&&_0x533059[_0x1f505b(0x795)](_0x1f505b(0x5ea),_0x4e1313=>{const _0x2d0bd1=_0x1f505b;_0x4e1313[_0x2d0bd1(0x736)][_0x2d0bd1(0x9fa)][_0x2d0bd1(0x3e1)]>0x0?_0x5dc311[_0x2d0bd1(0x907)]=![]:_0x5dc311[_0x2d0bd1(0x907)]=!![];});_0x5dc311&&_0x5dc311[_0x1f505b(0x795)](_0x1f505b(0x96d),handleGenerateFromBlueprint);const _0x2293bf=document[_0x1f505b(0x4d6)](_0x1f505b(0x2b8)),_0x2038aa=document[_0x1f505b(0x4d6)](_0x1f505b(0x918));_0x2293bf&&_0x2293bf[_0x1f505b(0x795)](_0x1f505b(0x5ea),_0x378213=>{const _0x49e592=_0x1f505b;_0x2038aa[_0x49e592(0x907)]=_0x378213[_0x49e592(0x736)]['files'][_0x49e592(0x3e1)]===0x0;});_0x2038aa&&_0x2038aa[_0x1f505b(0x795)](_0x1f505b(0x96d),handleGenerateParallelTest);loadQuizBtn[_0x1f505b(0x795)](_0x1f505b(0x96d),handleLoadQuiz),startQuizBtn[_0x1f505b(0x795)](_0x1f505b(0x96d),async()=>{const _0x4c9b39=_0x1f505b,_0x19c3ec=document[_0x4c9b39(0x4d6)]('student-name-select');currentStudentName=_0x19c3ec['value'];if(!currentStudentName){showMessage(_0x4c9b39(0x1e4));return;}try{const _0x7b3708=currentQuizData['id'],_0x501ca6=doc(db,'artifacts/'+appId+_0x4c9b39(0x7dd)+_0x7b3708+_0x4c9b39(0x922),currentStudentName),_0x27839a=await getDoc(_0x501ca6);!_0x27839a['exists']()?await setDoc(_0x501ca6,{'studentName':currentStudentName,'startedAt':new Date()[_0x4c9b39(0x3c3)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x501ca6,{'startedAt':new Date()['toISOString']()});}catch(_0x26e22c){console[_0x4c9b39(0x1d8)](_0x4c9b39(0x789),_0x26e22c),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView['classList']['add'](_0x4c9b39(0x88c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x1f505b(0x7c3))[_0x1f505b(0x795)](_0x1f505b(0x96d),showJoinGameView),document[_0x1f505b(0x4d6)]('confirm-join-game-btn')[_0x1f505b(0x795)](_0x1f505b(0x96d),handleJoinLiveGame),document['getElementById']('back-to-student-initial-btn')[_0x1f505b(0x795)]('click',()=>showView(_0x1f505b(0x564)));const _0xd46123=()=>{const _0x5cc568=_0x1f505b,_0xb58d71=document[_0x5cc568(0x4d6)]('results-quiz-title')[_0x5cc568(0x5b9)][_0x5cc568(0x159)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x5cc568(0x1a2)+(_0xb58d71||_0x5cc568(0x2d9));},_0x5bcb26=document[_0x1f505b(0x4d6)](_0x1f505b(0x455));_0x5bcb26&&_0x5bcb26[_0x1f505b(0x795)](_0x1f505b(0x961),_0x57a971=>{const _0x20aa57=_0x1f505b,_0x2b7b6e=_0x57a971[_0x20aa57(0x736)][_0x20aa57(0xa87)][_0x20aa57(0x4f3)]()['trim'](),_0x30551b=document[_0x20aa57(0x4d6)](_0x20aa57(0x71e)),_0x368525=_0x30551b['querySelectorAll'](_0x20aa57(0x73d));_0x368525[_0x20aa57(0x220)](_0x126e43=>{const _0x117265=_0x20aa57;let _0x2dfaee=![];const _0x17c7a2=_0x126e43[_0x117265(0x76c)](_0x117265(0x1e8));_0x17c7a2[_0x117265(0x220)](_0x2bb348=>{const _0x3fd4a6=_0x117265,_0x3a4eed=_0x2bb348[_0x3fd4a6(0x8c1)](_0x3fd4a6(0x1e0))['textContent'][_0x3fd4a6(0x4f3)]();_0x3a4eed['includes'](_0x2b7b6e)?(_0x2bb348['style'][_0x3fd4a6(0x56a)]=_0x3fd4a6(0x666),_0x2dfaee=!![]):_0x2bb348[_0x3fd4a6(0x694)]['display']=_0x3fd4a6(0x4c3);}),_0x2dfaee?_0x126e43[_0x117265(0x694)]['display']=_0x117265(0x30e):_0x126e43[_0x117265(0x694)]['display']=_0x117265(0x4c3);});});document[_0x1f505b(0x4d6)](_0x1f505b(0xa8a))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>exportTableAsImage(_0x1f505b(0x3be),_0xd46123())),document[_0x1f505b(0x4d6)](_0x1f505b(0x3e3))['addEventListener']('click',()=>exportTableAsPDF(_0x1f505b(0x894),_0xd46123())),document[_0x1f505b(0x4d6)](_0x1f505b(0x91b))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>exportTableAsWord(_0x1f505b(0x3be),_0xd46123())),document[_0x1f505b(0x4d6)](_0x1f505b(0x759))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>exportTableAsExcel(_0x1f505b(0x894),_0xd46123()));const _0x2d4285=()=>{const _0x5acfde=_0x1f505b,_0x34c8fd=document[_0x5acfde(0x4d6)]('results-quiz-title')[_0x5acfde(0x5b9)][_0x5acfde(0x159)](/[^a-z0-9]/gi,'_')[_0x5acfde(0x4f3)]();return'leaderboard_'+(_0x34c8fd||_0x5acfde(0x2d9));};document[_0x1f505b(0x4d6)](_0x1f505b(0x429))['addEventListener']('click',()=>exportTableAsImage(_0x1f505b(0x437),_0x2d4285())),document[_0x1f505b(0x4d6)](_0x1f505b(0x724))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>exportTableAsPDF(_0x1f505b(0x9e6),_0x2d4285())),document[_0x1f505b(0x4d6)]('export-leaderboard-word-btn')['addEventListener'](_0x1f505b(0x96d),()=>exportTableAsWord(_0x1f505b(0x437),_0x2d4285())),document[_0x1f505b(0x4d6)](_0x1f505b(0x2ad))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>exportTableAsExcel('quiz-leaderboard-table',_0x2d4285())),projectQuizzesList[_0x1f505b(0x795)]('click',async _0x14ce28=>{const _0x5c043d=_0x1f505b,_0x4f2e16=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)](_0x5c043d(0x2f9)),_0x48bd38=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)]('.generate-post-test-btn'),_0x65c3e3=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)](_0x5c043d(0x489)),_0x478812=_0x14ce28[_0x5c043d(0x736)]['closest']('.generate-lesson-btn'),_0x5ec098=_0x14ce28['target']['closest'](_0x5c043d(0x273)),_0x272e2f=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)]('.copy-quiz-id-list-btn'),_0x249a57=_0x14ce28['target'][_0x5c043d(0x305)](_0x5c043d(0xa5c)),_0x3dc5f4=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)](_0x5c043d(0xa08)),_0x1063ec=_0x14ce28[_0x5c043d(0x736)]['closest'](_0x5c043d(0x450)),_0x458b60=_0x14ce28[_0x5c043d(0x736)]['closest'](_0x5c043d(0x998)),_0x290bf9=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)](_0x5c043d(0x1d1)),_0x2aff85=_0x14ce28[_0x5c043d(0x736)]['closest']('.move-quiz-btn'),_0x313f56=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)]('.pair-quiz-btn'),_0x4f01e3=_0x14ce28['target'][_0x5c043d(0x305)](_0x5c043d(0x692)),_0x22bf9e=_0x14ce28['target'][_0x5c043d(0x305)](_0x5c043d(0x86b)),_0x12e005=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)](_0x5c043d(0x349)),_0xf4cc8e=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)](_0x5c043d(0x708)),_0x105b8f=_0x14ce28[_0x5c043d(0x736)]['closest']('.delete-quiz-btn'),_0x5573a7=_0x14ce28['target'][_0x5c043d(0x305)](_0x5c043d(0x80e)),_0x30c37c=_0x14ce28[_0x5c043d(0x736)]['closest']('.toggle-actions-btn'),_0x5bcb74=_0x14ce28['target'][_0x5c043d(0x305)](_0x5c043d(0x7a5)),_0x2a8fed=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)](_0x5c043d(0x170)),_0x2f5e62=_0x14ce28[_0x5c043d(0x736)][_0x5c043d(0x305)](_0x5c043d(0x22c));if(_0x2a8fed){const _0x42052e=_0x2a8fed[_0x5c043d(0x5f3)]['quizId'],_0x1c7714=_0x2a8fed[_0x5c043d(0x5f3)][_0x5c043d(0x3ab)],_0x2bde67=allQuizzes[_0x5c043d(0xa53)](_0x54a475=>_0x54a475['id']===_0x42052e);_0x2bde67&&showGameStartConfirmationModal(_0x42052e,_0x1c7714,_0x2bde67[_0x5c043d(0x836)]);}else{if(_0x2f5e62){const _0x14fe69=_0x2f5e62[_0x5c043d(0x5f3)][_0x5c043d(0x556)];handleStartLiveRace(_0x14fe69);}else{if(_0x30c37c){const _0x16992c=_0x30c37c[_0x5c043d(0x5f3)][_0x5c043d(0x556)],_0x2dd6aa=document[_0x5c043d(0x4d6)](_0x5c043d(0x4a2)+_0x16992c);_0x2dd6aa&&_0x2dd6aa[_0x5c043d(0x21b)][_0x5c043d(0x8d1)](_0x5c043d(0x88c));}else{if(_0x48bd38){const _0x26cacd=_0x48bd38[_0x5c043d(0x5f3)][_0x5c043d(0x556)],_0x4b584b=allQuizzes[_0x5c043d(0xa53)](_0x10133b=>_0x10133b['id']===_0x26cacd);_0x4b584b&&handleGenerateParallelPostTest(_0x4b584b);}else{if(_0x65c3e3)handleCompareResults(_0x65c3e3[_0x5c043d(0x5f3)][_0x5c043d(0x556)],_0x65c3e3[_0x5c043d(0x5f3)][_0x5c043d(0x176)]);else{if(_0x478812){const _0xd206a2=_0x478812['dataset'][_0x5c043d(0x556)],_0x5af8ba=allQuizzes[_0x5c043d(0xa53)](_0x28644f=>_0x28644f['id']===_0xd206a2);_0x5af8ba&&_0x5af8ba[_0x5c043d(0x9f2)]?(displayLessonPlan(_0x5af8ba[_0x5c043d(0x9f2)],_0x5af8ba),showConfirmation(_0x5c043d(0x2c8),()=>handleGenerateLessonPlan(_0xd206a2)),document[_0x5c043d(0x4d6)](_0x5c043d(0x8c9))[_0x5c043d(0x8c1)]('h3')[_0x5c043d(0x5b9)]=_0x5c043d(0x531),document[_0x5c043d(0x4d6)](_0x5c043d(0x1a4))['textContent']=_0x5c043d(0x653)):handleGenerateLessonPlan(_0xd206a2);}else{if(_0x5ec098)handleToggleStarQuiz(_0x5ec098[_0x5c043d(0x5f3)][_0x5c043d(0x556)]);else{if(_0x272e2f)copyTextToClipboard(_0x272e2f['dataset'][_0x5c043d(0x556)],_0x5c043d(0x5b1));else{if(_0x249a57)handleOpenQuizEditor(_0x249a57[_0x5c043d(0x5f3)][_0x5c043d(0x556)]);else{if(_0x3dc5f4)handleQuizSettings(_0x3dc5f4[_0x5c043d(0x5f3)][_0x5c043d(0x556)]);else{if(_0x1063ec)handleDuplicateQuiz(_0x1063ec['dataset'][_0x5c043d(0x556)]);else{if(_0x458b60)handleRenameQuiz(_0x458b60[_0x5c043d(0x5f3)][_0x5c043d(0x556)],_0x458b60[_0x5c043d(0x5f3)]['topic']);else{if(_0x290bf9){const _0x5ae84f=_0x290bf9[_0x5c043d(0x5f3)][_0x5c043d(0x556)],_0x226813=allQuizzes[_0x5c043d(0xa53)](_0x2a2f2a=>_0x2a2f2a['id']===_0x5ae84f);_0x226813&&handleGenerateParallelFromBank(_0x226813);}else{if(_0x2aff85)handleMoveQuiz(_0x2aff85[_0x5c043d(0x5f3)][_0x5c043d(0x556)]);else{if(_0x313f56)handleManualQuizPairing(_0x313f56[_0x5c043d(0x5f3)][_0x5c043d(0x556)]);else{if(_0x4f01e3)handleUnpairQuiz(_0x4f01e3[_0x5c043d(0x5f3)][_0x5c043d(0x556)]);else{if(_0x22bf9e){const _0x4f3e8e=_0x22bf9e[_0x5c043d(0x5f3)][_0x5c043d(0x556)],_0x21bf44=allQuizzes[_0x5c043d(0xa53)](_0x44520b=>_0x44520b['id']===_0x4f3e8e);if(_0x21bf44)startPresentation(_0x21bf44);}else{if(_0x12e005){const _0x108fe1=_0x12e005['dataset'][_0x5c043d(0x556)],_0x788b11=allQuizzes['find'](_0x28301e=>_0x28301e['id']===_0x108fe1);_0x788b11&&(currentQuizData=_0x788b11,startAdminTest());}else{if(_0xf4cc8e)actionTargetId=_0xf4cc8e[_0x5c043d(0x5f3)][_0x5c043d(0x556)],document[_0x5c043d(0x4d6)](_0x5c043d(0x3a4))[_0x5c043d(0x21b)][_0x5c043d(0x621)](_0x5c043d(0x88c));else{if(_0x105b8f)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x105b8f[_0x5c043d(0x5f3)][_0x5c043d(0x836)]+_0x5c043d(0x413),()=>handleDeleteQuiz(_0x105b8f['dataset']['quizId']));else{if(_0x5573a7)handleQuizStatus(_0x5573a7[_0x5c043d(0x5f3)][_0x5c043d(0x556)]);else{if(_0x5bcb74)handleGenerateEasyVersionQuiz(_0x5bcb74[_0x5c043d(0x5f3)][_0x5c043d(0x556)]);else _0x4f2e16&&showQuizDetailView(_0x4f2e16['dataset'][_0x5c043d(0x556)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1f505b(0x4d6)](_0x1f505b(0x8b8))[_0x1f505b(0x795)]('click',()=>showView(_0x1f505b(0x564))),document[_0x1f505b(0x4d6)]('confirm-team-players-btn')['addEventListener'](_0x1f505b(0x96d),confirmAndStartTeamQuiz),document[_0x1f505b(0x4d6)](_0x1f505b(0x9e6))['querySelector']('thead')[_0x1f505b(0x795)](_0x1f505b(0x96d),_0x1d0d53=>{const _0x397989=_0x1f505b,_0x504789=_0x1d0d53[_0x397989(0x736)][_0x397989(0x305)](_0x397989(0x840));if(!_0x504789||!_0x504789['dataset'][_0x397989(0x171)])return;const _0x1d1892=_0x504789[_0x397989(0x5f3)][_0x397989(0x171)];if(quizLeaderboardSortBy===_0x1d1892)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x397989(0x8af)?'desc':_0x397989(0x8af);else{quizLeaderboardSortBy=_0x1d1892;const _0x12f906=[_0x397989(0x238)];quizLeaderboardSortOrder=_0x12f906[_0x397989(0x8f0)](_0x1d1892)?_0x397989(0x8af):_0x397989(0x566);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x397989(0x727));}),document[_0x1f505b(0x4d6)](_0x1f505b(0x23a))[_0x1f505b(0x795)](_0x1f505b(0x96d),closePresentation),document[_0x1f505b(0x4d6)]('prev-question-btn')['addEventListener'](_0x1f505b(0x96d),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x1f505b(0x4a0))['addEventListener'](_0x1f505b(0x96d),()=>{const _0x561d99=_0x1f505b;currentQuizData[_0x561d99(0x299)]&&currentPresentationSlide<currentQuizData['questions'][_0x561d99(0x3e1)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1f505b(0x795)]('fullscreenchange',()=>{const _0x55612e=_0x1f505b;!document[_0x55612e(0x200)]&&(presentationModal['style'][_0x55612e(0x56a)]=_0x55612e(0x4c3));}),document[_0x1f505b(0x4d6)](_0x1f505b(0x902))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleDeleteAllStudents),studentList[_0x1f505b(0x795)](_0x1f505b(0x96d),_0x1ba5ed=>{const _0x746869=_0x1f505b,_0x206191=_0x1ba5ed[_0x746869(0x736)][_0x746869(0x305)](_0x746869(0x2ee));if(_0x206191){const _0x142d0c=_0x206191[_0x746869(0x5f3)][_0x746869(0x238)];handleDeleteStudent(_0x142d0c);}}),document[_0x1f505b(0x4d6)](_0x1f505b(0x96c))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleGenerateFromFileClick),fileUploadInput[_0x1f505b(0x795)](_0x1f505b(0x5ea),_0x348c34=>{const _0x4263bf=_0x1f505b,_0x12f134=_0x348c34[_0x4263bf(0x736)][_0x4263bf(0x9fa)][0x0],_0x2aef82=document[_0x4263bf(0x4d6)]('generate-from-file-btn');_0x12f134?(selectedFile=_0x12f134,_0x2aef82['disabled']=![]):(selectedFile=null,_0x2aef82[_0x4263bf(0x907)]=!![]);}),document[_0x1f505b(0x4d6)](_0x1f505b(0x333))['addEventListener']('change',_0x4e0e0=>{const _0x3d57dc=_0x1f505b,_0x47eab8=document[_0x3d57dc(0x4d6)](_0x3d57dc(0x175)),_0x407dfb=document[_0x3d57dc(0x4d6)](_0x3d57dc(0x4e2)),_0x3c090b=document['getElementById']('timer-duration-input');_0x4e0e0[_0x3d57dc(0x736)][_0x3d57dc(0xa87)]==='none'?_0x47eab8[_0x3d57dc(0x21b)]['add'](_0x3d57dc(0x88c)):(_0x47eab8[_0x3d57dc(0x21b)][_0x3d57dc(0x621)](_0x3d57dc(0x88c)),_0x4e0e0[_0x3d57dc(0x736)][_0x3d57dc(0xa87)]==='whole_quiz'?(_0x407dfb[_0x3d57dc(0x5b9)]=_0x3d57dc(0x321),_0x3c090b[_0x3d57dc(0xa87)]='10'):(_0x407dfb[_0x3d57dc(0x5b9)]='ระยะเวลา\x20(วินาที):',_0x3c090b[_0x3d57dc(0xa87)]='30'));}),document[_0x1f505b(0x4d6)](_0x1f505b(0x776))[_0x1f505b(0x795)](_0x1f505b(0x5ea),_0x20a6c8=>{const _0xbb46a1=_0x1f505b,_0x22d7b7=document[_0xbb46a1(0x4d6)](_0xbb46a1(0x1f6)),_0x195dee=_0x20a6c8[_0xbb46a1(0x736)]['value'],_0x5dfaae=document[_0xbb46a1(0x8c1)]('label[for=\x22num-questions\x22]'),_0x4d9863=document[_0xbb46a1(0x4d6)](_0xbb46a1(0x4df)),_0x81df80=document[_0xbb46a1(0x4d6)](_0xbb46a1(0x362));_0x195dee===_0xbb46a1(0x7e3)?_0x5dfaae[_0xbb46a1(0x5b9)]=_0xbb46a1(0x290):_0x5dfaae['textContent']=_0xbb46a1(0xa43),_0x195dee==='multiple_choice'||_0x195dee===_0xbb46a1(0x307)||_0x195dee===_0xbb46a1(0x483)?_0x22d7b7[_0xbb46a1(0x21b)]['remove'](_0xbb46a1(0x88c)):_0x22d7b7[_0xbb46a1(0x21b)]['add'](_0xbb46a1(0x88c)),_0x4d9863[_0xbb46a1(0x525)]=_0x81df80['value'];}),document[_0x1f505b(0x4d6)](_0x1f505b(0x362))[_0x1f505b(0x795)](_0x1f505b(0x961),_0x216203=>{const _0x1d9958=_0x1f505b;document[_0x1d9958(0x4d6)](_0x1d9958(0x4df))[_0x1d9958(0x525)]=_0x216203['target'][_0x1d9958(0xa87)];}),document[_0x1f505b(0x4d6)](_0x1f505b(0x62f))[_0x1f505b(0x795)](_0x1f505b(0x5ea),_0x304005=>{const _0xced95f=_0x1f505b,_0x2b60e0=document['getElementById'](_0xced95f(0x21c)),_0xa2b771=document[_0xced95f(0x4d6)]('modal-timer-duration-label'),_0x1a2c27=document['getElementById'](_0xced95f(0x406));_0x304005[_0xced95f(0x736)]['value']===_0xced95f(0x4c3)?_0x2b60e0['classList']['add']('hidden'):(_0x2b60e0[_0xced95f(0x21b)]['remove'](_0xced95f(0x88c)),_0x304005[_0xced95f(0x736)]['value']===_0xced95f(0x369)?_0xa2b771[_0xced95f(0x5b9)]='ระยะเวลา\x20(นาที):':_0xa2b771[_0xced95f(0x5b9)]=_0xced95f(0x63e));}),document['getElementById'](_0x1f505b(0x635))[_0x1f505b(0x795)]('click',()=>{const _0x3649bc=_0x1f505b;document[_0x3649bc(0x4d6)]('quiz-editor-modal')[_0x3649bc(0x21b)][_0x3649bc(0x214)](_0x3649bc(0x88c));}),document[_0x1f505b(0x4d6)](_0x1f505b(0x439))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x4b9512=_0x1f505b;document[_0x4b9512(0x4d6)](_0x4b9512(0x9a5))[_0x4b9512(0x21b)][_0x4b9512(0x214)](_0x4b9512(0x88c));}),document['getElementById'](_0x1f505b(0x548))[_0x1f505b(0x795)](_0x1f505b(0x96d),handleVerifyAnswersInEditor),document[_0x1f505b(0x4d6)](_0x1f505b(0x39a))[_0x1f505b(0x795)]('click',()=>{const _0xbd8e63=_0x1f505b;document[_0xbd8e63(0x4d6)](_0xbd8e63(0x9a5))[_0xbd8e63(0x21b)][_0xbd8e63(0x214)](_0xbd8e63(0x88c)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x1f505b(0x4d6)](_0x1f505b(0x561))['addEventListener']('click',handleAutoFixLatex);const _0x268c8b=document[_0x1f505b(0x4d6)](_0x1f505b(0x9cf));_0x268c8b&&_0x268c8b['addEventListener'](_0x1f505b(0x96d),_0x5be57f=>{const _0x509b04=_0x1f505b,_0x2b3699=_0x5be57f[_0x509b04(0x736)][_0x509b04(0x305)](_0x509b04(0x23f)),_0x34958b=_0x5be57f[_0x509b04(0x736)][_0x509b04(0x305)]('.ai-fix-formula-btn');if(_0x2b3699){const _0x5aed80=_0x2b3699[_0x509b04(0x305)](_0x509b04(0xa57)),_0x346dca=parseInt(_0x5aed80[_0x509b04(0x5f3)][_0x509b04(0x61f)],0xa);handleRegenerateQuestionInEditor(_0x346dca);}else{if(_0x34958b){const _0x1efa07=_0x34958b[_0x509b04(0x305)]('.question-editor-item'),_0x26831b=parseInt(_0x1efa07[_0x509b04(0x5f3)][_0x509b04(0x61f)],0xa);handleAiFixFormula(_0x26831b);}}});document[_0x1f505b(0x4d6)]('open-quiz-bank-btn')[_0x1f505b(0x795)]('click',openQuizBankModal),document['getElementById'](_0x1f505b(0x43f))['addEventListener']('click',()=>{const _0x9c8c01=_0x1f505b;document[_0x9c8c01(0x4d6)](_0x9c8c01(0x550))[_0x9c8c01(0x21b)][_0x9c8c01(0x214)](_0x9c8c01(0x88c));}),document[_0x1f505b(0x4d6)](_0x1f505b(0x1cb))[_0x1f505b(0x795)](_0x1f505b(0x961),_0x20dc62=>renderQuizBankList(_0x20dc62[_0x1f505b(0x736)][_0x1f505b(0xa87)]));const _0x3f5af6=document['getElementById']('math-topics-checkbox-container');if(_0x3f5af6){let _0x3f5717=null;_0x3f5af6[_0x1f505b(0x795)](_0x1f505b(0x96d),_0x489996=>{const _0x1c4b32=_0x1f505b,_0x2b7b27=_0x489996[_0x1c4b32(0x736)],_0x3af0d0=_0x2b7b27[_0x1c4b32(0x305)](_0x1c4b32(0x819)),_0x29c0df=_0x2b7b27[_0x1c4b32(0x305)](_0x1c4b32(0x573)),_0x4ad895=_0x2b7b27[_0x1c4b32(0x305)](_0x1c4b32(0x984)),_0x531f3f=_0x2b7b27[_0x1c4b32(0x305)](_0x1c4b32(0x647));if(_0x29c0df){_0x489996[_0x1c4b32(0x261)]();const _0x4f6875=_0x29c0df[_0x1c4b32(0x5f3)]['id'],_0x461cf5=_0x29c0df['closest'](_0x1c4b32(0x5d5))['querySelector'](_0x1c4b32(0x1e0))[_0x1c4b32(0x5b9)];showConfirmation(_0x1c4b32(0x993)+_0x461cf5+'\x22?',()=>handleDeleteCustomTopic(_0x4f6875));}else{if(_0x3af0d0){_0x489996[_0x1c4b32(0x261)]();_0x3f5717&&toggleTopicEditMode(_0x3f5717,![]);const _0x1b2990=_0x3af0d0[_0x1c4b32(0x305)]('[data-topic-container-id]');_0x3f5717=_0x1b2990,toggleTopicEditMode(_0x1b2990,!![]);}else{if(_0x4ad895){_0x489996[_0x1c4b32(0x261)]();const _0x197caa=_0x4ad895['dataset']['id'],_0x53a6a2=_0x4ad895[_0x1c4b32(0x305)]('[data-topic-container-id]'),_0x86c761=_0x53a6a2[_0x1c4b32(0x8c1)](_0x1c4b32(0x820))['value'];handleUpdateCustomTopic(_0x197caa,_0x86c761),_0x3f5717=null;}else{if(_0x531f3f){_0x489996[_0x1c4b32(0x261)]();const _0x5c8893=_0x531f3f[_0x1c4b32(0x305)](_0x1c4b32(0x6a5));toggleTopicEditMode(_0x5c8893,![]),_0x3f5717=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')['addEventListener'](_0x1f505b(0x96d),()=>{const _0x3ad5d6=_0x1f505b;document['getElementById'](_0x3ad5d6(0x38d))[_0x3ad5d6(0x21b)][_0x3ad5d6(0x214)](_0x3ad5d6(0x88c));}),document[_0x1f505b(0x4d6)](_0x1f505b(0x4be))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x1ad0bc=_0x1f505b;document[_0x1ad0bc(0x4d6)](_0x1ad0bc(0x38d))[_0x1ad0bc(0x21b)][_0x1ad0bc(0x214)](_0x1ad0bc(0x88c));}),document[_0x1f505b(0x4d6)]('export-lesson-pdf-btn')[_0x1f505b(0x795)]('click',handleExportLessonPDF);}document['getElementById'](_0x1f505b(0x7f6))[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x3315b8=_0x1f505b;document[_0x3315b8(0x4d6)](_0x3315b8(0x700))['classList'][_0x3315b8(0x214)](_0x3315b8(0x88c));}),document['getElementById']('close-comparison-modal-footer-btn')[_0x1f505b(0x795)](_0x1f505b(0x96d),()=>{const _0x5b1927=_0x1f505b;document['getElementById'](_0x5b1927(0x700))['classList'][_0x5b1927(0x214)]('hidden');}),setupComparisonModalTabs(),document['body'][_0x1f505b(0x795)](_0x1f505b(0x96d),function(_0xaea145){const _0x4ebd75=_0x1f505b;if(_0xaea145['target']['classList']['contains'](_0x4ebd75(0x1c0))){const _0x55958f=unescape(_0xaea145[_0x4ebd75(0x736)][_0x4ebd75(0x5f3)]['topic']);startSkillPractice(_0x55958f);}}),document[_0x1f505b(0x4d6)](_0x1f505b(0x940))[_0x1f505b(0x795)]('click',_0x474dc6=>{const _0x2f1be3=_0x1f505b,_0x44dda7=_0x474dc6[_0x2f1be3(0x736)][_0x2f1be3(0x305)](_0x2f1be3(0x9f8));if(_0x44dda7){const _0x39eb63=_0x44dda7[_0x2f1be3(0x5f3)][_0x2f1be3(0x238)];handleDeleteSubmission(_0x39eb63);}});}async function handleStartGroupMode(_0x58bc49,_0x5ea705=![]){const _0x400ebd=_0x3fa4d9,_0x13d0c4=allQuizzes[_0x400ebd(0xa53)](_0x2aebfa=>_0x2aebfa['id']===_0x58bc49)||allQuizzesGlobal[_0x400ebd(0xa53)](_0x39e4=>_0x39e4['id']===_0x58bc49);if(!_0x13d0c4){showMessage(_0x400ebd(0x9d5));return;}currentQuizData=getShuffledQuiz(_0x13d0c4);const _0x26a663=Math[_0x400ebd(0x67c)](0x3e8+Math[_0x400ebd(0x78e)]()*0x2328)['toString']();try{const _0x151293=await addDoc(collection(db,_0x400ebd(0x31f)+appId+_0x400ebd(0x3e7)),{'quizId':_0x13d0c4['id'],'projectId':_0x13d0c4[_0x400ebd(0x59c)],'status':_0x400ebd(0x9a2),'pin':_0x26a663,'mode':_0x400ebd(0x915),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5ea705});currentTeamQuizId=_0x151293['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x26a663,_0x13d0c4[_0x400ebd(0x836)],_0x400ebd(0x915)),listenForTeamQuizUpdates();}catch(_0x212ba4){console['error'](_0x400ebd(0x9e8),_0x212ba4),showMessage(_0x400ebd(0x88a));}}async function showStudentProgressView(){const _0x54129b=_0x3fa4d9;studentInitialView[_0x54129b(0x21b)][_0x54129b(0x214)](_0x54129b(0x88c)),document[_0x54129b(0x4d6)](_0x54129b(0x2a1))[_0x54129b(0x21b)][_0x54129b(0x621)](_0x54129b(0x88c));const _0xa7839c=document[_0x54129b(0x4d6)](_0x54129b(0x6c1)),_0x31388e=document[_0x54129b(0x4d6)](_0x54129b(0x7b7)),_0x587f0b=document[_0x54129b(0x4d6)]('student-progress-content');_0x587f0b[_0x54129b(0xa8d)]=_0x54129b(0x832),_0x31388e['innerHTML']=_0x54129b(0x6ab),_0x31388e[_0x54129b(0x907)]=!![],_0xa7839c[_0x54129b(0xa8d)]=_0x54129b(0x97f);if(allProjects[_0x54129b(0x3e1)]===0x0){const _0x23ee7f=collection(db,'artifacts/'+appId+'/public/data/projects'),_0xa9a268=await getDocs(_0x23ee7f);allProjects=_0xa9a268[_0x54129b(0x7ed)][_0x54129b(0x9f0)](_0x987cc=>({'id':_0x987cc['id'],..._0x987cc[_0x54129b(0x342)]()}));}const _0xdf65b4=allProjects[_0x54129b(0x853)](_0x3e539f=>_0x3e539f['settings']?.['showInStudentDashboard']!==![]);_0xdf65b4['sort']((_0xb3a460,_0x5377c7)=>_0xb3a460['projectName'][_0x54129b(0x3a2)](_0x5377c7['projectName'],'th')),_0xa7839c[_0x54129b(0xa8d)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0xdf65b4[_0x54129b(0x9f0)](_0xc4c833=>_0x54129b(0x838)+_0xc4c833['id']+'\x22>'+_0xc4c833[_0x54129b(0x508)]+_0x54129b(0x834))['join'](''),_0xa7839c[_0x54129b(0xa17)]=()=>{const _0x4cdbd4=_0x54129b,_0x120918=_0x31388e[_0x4cdbd4(0xa87)],_0x30c8bb=_0xa7839c[_0x4cdbd4(0xa87)];_0x31388e['disabled']=!![],_0x31388e[_0x4cdbd4(0xa8d)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x587f0b[_0x4cdbd4(0xa8d)]=_0x4cdbd4(0x1f7);if(!_0x30c8bb)return;const _0x35b499=allProjects[_0x4cdbd4(0xa53)](_0x38847b=>_0x38847b['id']===_0x30c8bb);if(!_0x35b499||!_0x35b499['students'])return;const _0x160bb4=()=>{const _0x3cc296=_0x4cdbd4;_0x31388e[_0x3cc296(0xa8d)]=_0x3cc296(0x6ab)+_0x35b499[_0x3cc296(0x5ff)][_0x3cc296(0x9f0)](_0x5814a9=>_0x3cc296(0x838)+_0x5814a9+'\x22>'+_0x5814a9+_0x3cc296(0x834))[_0x3cc296(0x3d6)](''),_0x31388e[_0x3cc296(0x907)]=![];const _0x2e6674=Array[_0x3cc296(0x649)](_0x31388e[_0x3cc296(0x35a)])[_0x3cc296(0x9f0)](_0x158186=>_0x158186[_0x3cc296(0xa87)]);if(_0x120918&&_0x2e6674[_0x3cc296(0x8f0)](_0x120918))_0x31388e['value']=_0x120918,_0x31388e[_0x3cc296(0x3fd)](new Event('change'));else _0x35b499[_0x3cc296(0x5ff)][_0x3cc296(0x3e1)]===0x1&&(_0x31388e[_0x3cc296(0xa87)]=_0x35b499[_0x3cc296(0x5ff)][0x0],_0x31388e[_0x3cc296(0x3fd)](new Event(_0x3cc296(0x5ea))));};if(_0x35b499[_0x4cdbd4(0x8a1)]?.['isPasscodeEnabled']){if(sessionStorage[_0x4cdbd4(0x449)]('authed_project_'+_0x30c8bb)==='true'){_0x160bb4();return;}const _0xac075f=document[_0x4cdbd4(0x4d6)](_0x4cdbd4(0x3f0)),_0x43226d=document[_0x4cdbd4(0x4d6)](_0x4cdbd4(0x6e7)),_0xbb2603=document[_0x4cdbd4(0x4d6)](_0x4cdbd4(0x970)),_0x31b54f=document[_0x4cdbd4(0x4d6)]('student-passcode-input'),_0x584cda=document[_0x4cdbd4(0x4d6)](_0x4cdbd4(0x4cd));document[_0x4cdbd4(0x4d6)](_0x4cdbd4(0x414))[_0x4cdbd4(0x5b9)]=_0x4cdbd4(0x65b)+_0x35b499[_0x4cdbd4(0x508)],_0x31b54f['value']='',_0x584cda['classList'][_0x4cdbd4(0x214)]('hidden'),_0xac075f[_0x4cdbd4(0x21b)][_0x4cdbd4(0x621)](_0x4cdbd4(0x88c));const _0x5ccdf9=()=>{const _0x14594a=_0x4cdbd4,_0x206d7d=_0x31b54f[_0x14594a(0xa87)][_0x14594a(0x56f)]();_0x206d7d===_0x35b499[_0x14594a(0x8a1)]['passcode']?(sessionStorage[_0x14594a(0x5ae)](_0x14594a(0x6e4)+_0x30c8bb,'true'),_0xac075f[_0x14594a(0x21b)][_0x14594a(0x214)](_0x14594a(0x88c)),_0x160bb4(),_0x43226d['removeEventListener']('click',_0x5ccdf9)):_0x584cda[_0x14594a(0x21b)]['remove']('hidden');};_0x43226d['onclick']=_0x5ccdf9,_0xbb2603[_0x4cdbd4(0x672)]=()=>{const _0x597e75=_0x4cdbd4;_0xac075f[_0x597e75(0x21b)][_0x597e75(0x214)](_0x597e75(0x88c)),_0xa7839c[_0x597e75(0xa87)]='',_0x43226d['removeEventListener'](_0x597e75(0x96d),_0x5ccdf9);};}else _0x160bb4();},_0x31388e['onchange']=()=>{const _0x411005=_0x54129b,_0x27c18b=_0xa7839c[_0x411005(0xa87)],_0x302239=_0x31388e[_0x411005(0xa87)];_0x27c18b&&_0x302239&&renderStudentProgressDashboard(_0x27c18b,_0x302239);};}async function confirmAndJoinSyncGame(){const _0x2045fb=_0x3fa4d9,_0x31bec8=Array['from'](document[_0x2045fb(0x76c)]('input[name=\x22team_player\x22]:checked'))[_0x2045fb(0x9f0)](_0x37e8b5=>_0x37e8b5[_0x2045fb(0xa87)]);if(_0x31bec8['length']===0x0){showMessage(_0x2045fb(0x9c9));return;}localTeamPlayers=_0x31bec8,localPlayerTurnIndex=0x0;const _0xdd5273=doc(db,'artifacts/'+appId+_0x2045fb(0x3f7),currentLiveGameId),_0x4ecf0c={};_0x31bec8[_0x2045fb(0x220)](_0x21613a=>{const _0x5c7799=_0x2045fb;_0x4ecf0c[_0x5c7799(0x595)+_0x21613a]={'name':_0x21613a,'score':0x0,'answered':![]};});try{await updateDoc(_0xdd5273,_0x4ecf0c),document[_0x2045fb(0x4d6)](_0x2045fb(0x654))['classList'][_0x2045fb(0x214)]('hidden'),currentStudentName=_0x31bec8[0x0],listenForSyncGameUpdates();const _0x277375={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2045fb(0x5ae)]('activeGameSession',JSON[_0x2045fb(0x73b)](_0x277375));}catch(_0x12238c){console[_0x2045fb(0x1d8)](_0x2045fb(0x8df),_0x12238c),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x3fa384=_0x3fa4d9,_0x30a1a1=sessionStorage[_0x3fa384(0x449)](_0x3fa384(0x614));if(!_0x30a1a1)return;const _0x473088=JSON[_0x3fa384(0xa52)](_0x30a1a1),{gameId:_0x4e9cd1,mode:_0x2b232c,players:_0x203841,turnIndex:_0x132780}=_0x473088;try{let _0x39c9ec,_0x232496;_0x2b232c===_0x3fa384(0x80c)?_0x39c9ec=doc(db,'artifacts/'+appId+_0x3fa384(0x3f7),_0x4e9cd1):_0x39c9ec=doc(db,_0x3fa384(0x31f)+appId+_0x3fa384(0x3e7),_0x4e9cd1);_0x232496=await getDoc(_0x39c9ec);if(!_0x232496[_0x3fa384(0x77c)]()||_0x232496['data']()[_0x3fa384(0x442)]===_0x3fa384(0x293)||_0x232496[_0x3fa384(0x342)]()[_0x3fa384(0x442)]==='podium'){sessionStorage[_0x3fa384(0x15e)]('activeGameSession');return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x2b232c+'\x20(ID:\x20'+_0x4e9cd1+')'),localTeamPlayers=_0x203841,localPlayerTurnIndex=_0x132780;if(_0x2b232c==='sync')currentLiveGameId=_0x4e9cd1,currentStudentName=_0x203841[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x4e9cd1;const _0x4ff838=_0x232496[_0x3fa384(0x342)](),_0x3c6735=doc(db,_0x3fa384(0x31f)+appId+'/public/data/quizzes',_0x4ff838['quizId']),_0x592bdd=await getDoc(_0x3c6735);_0x592bdd[_0x3fa384(0x77c)]()&&(currentQuizData=getShuffledQuiz({'id':_0x592bdd['id'],..._0x592bdd[_0x3fa384(0x342)]()}),showView(_0x3fa384(0x564)),studentInitialView[_0x3fa384(0x21b)][_0x3fa384(0x214)](_0x3fa384(0x88c)),renderTeamQuizQuestion());}}catch(_0x46289f){console[_0x3fa384(0x1d8)](_0x3fa384(0xa69),_0x46289f),sessionStorage[_0x3fa384(0x15e)](_0x3fa384(0x614));}}async function handleKickPlayerSync(_0xa8fa68){const _0x4a8cc4=_0x3fa4d9;if(!currentLiveGameId||!_0xa8fa68)return;const _0x50fa43=doc(db,_0x4a8cc4(0x31f)+appId+_0x4a8cc4(0x3f7),currentLiveGameId),_0x570e38={};_0x570e38[_0x4a8cc4(0x595)+_0xa8fa68+_0x4a8cc4(0x3bd)]=_0x4a8cc4(0x9e5);try{await updateDoc(_0x50fa43,_0x570e38);}catch(_0x541ea5){console['error'](_0x4a8cc4(0x517)+_0xa8fa68+_0x4a8cc4(0x201),_0x541ea5),showMessage(_0x4a8cc4(0x537));}}async function renderStudentProgressDashboard(_0x1add30,_0xebf608){const _0xaedc39=_0x3fa4d9,_0x387eba=document['getElementById'](_0xaedc39(0x2e3));_0x387eba[_0xaedc39(0xa8d)]=_0xaedc39(0x5be);try{const _0x24a9ad=collection(db,_0xaedc39(0x31f)+appId+_0xaedc39(0x8ca)),_0x18c09d=query(_0x24a9ad,where(_0xaedc39(0x59c),'==',_0x1add30)),_0x360234=await getDocs(_0x18c09d),_0x5d5ebe=_0x360234[_0xaedc39(0x7ed)][_0xaedc39(0x9f0)](_0x23a701=>({'id':_0x23a701['id'],..._0x23a701[_0xaedc39(0x342)]()})),_0x4ef241=_0x5d5ebe[_0xaedc39(0x9f0)](_0x4ea33d=>getDoc(doc(db,_0xaedc39(0x31f)+appId+_0xaedc39(0x7dd)+_0x4ea33d['id']+_0xaedc39(0x922),_0xebf608))),_0x162f62=await Promise[_0xaedc39(0x277)](_0x4ef241),_0x22e19d=_0x162f62['filter'](_0x2d330a=>_0x2d330a[_0xaedc39(0x77c)]())['map'](_0x1c4b5f=>({'quizId':_0x1c4b5f[_0xaedc39(0x428)]['parent'][_0xaedc39(0x64d)]['id'],..._0x1c4b5f[_0xaedc39(0x342)]()}));if(_0x22e19d[_0xaedc39(0x3e1)]===0x0){_0x387eba[_0xaedc39(0xa8d)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x368713=_0xaedc39(0x1a8);_0x22e19d[_0xaedc39(0x220)](_0x1d0902=>{const _0x1850a6=_0xaedc39,_0x14d53c=_0x5d5ebe[_0x1850a6(0xa53)](_0x1ebc66=>_0x1ebc66['id']===_0x1d0902[_0x1850a6(0x556)]),_0x303ca5=_0x14d53c['settings']?.[_0x1850a6(0x84e)]||_0x1850a6(0x70b),_0x369d0b=_0x14d53c[_0x1850a6(0x8a1)]?.[_0x1850a6(0x82d)]??0x0,_0x29baeb=_0x1d0902['bestScore']>=_0x369d0b;let _0x24555e='',_0x5c64b0=_0x1850a6(0x310);switch(_0x303ca5){case _0x1850a6(0x70b):case _0x1850a6(0x85b):_0x5c64b0=_0x29baeb?_0x1850a6(0x667):'bg-red-50',_0x24555e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x29baeb?_0x1850a6(0x784):_0x1850a6(0x40d))+'\x22>'+_0x1d0902[_0x1850a6(0x6cf)]+_0x1850a6(0x60f)+_0x1d0902[_0x1850a6(0x805)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x29baeb?_0x1850a6(0x7a2):_0x1850a6(0x38e))+'\x22>'+(_0x29baeb?_0x1850a6(0x8d6):_0x1850a6(0x8c7))+_0x1850a6(0x515);break;case _0x1850a6(0xa64):_0x5c64b0=_0x29baeb?_0x1850a6(0x667):'bg-red-50',_0x24555e=_0x1850a6(0x9c3)+(_0x29baeb?_0x1850a6(0x7a2):_0x1850a6(0x38e))+'\x22>'+(_0x29baeb?_0x1850a6(0x8d6):_0x1850a6(0x8c7))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x5c64b0=_0x1850a6(0x253),_0x24555e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x368713+=_0x1850a6(0x4ad)+_0x5c64b0+_0x1850a6(0x5f6)+_0x14d53c[_0x1850a6(0x836)]+_0x1850a6(0x1db)+_0x1d0902['attempts'][_0x1850a6(0x3e1)]+_0x1850a6(0x36c)+new Date(_0x1d0902[_0x1850a6(0x44e)])[_0x1850a6(0x4c5)]('th-TH')+_0x1850a6(0xa76)+_0x24555e+_0x1850a6(0x5a2);}),_0x368713+=_0xaedc39(0x551),_0x387eba['innerHTML']=_0x368713;}catch(_0x53088c){console['error'](_0xaedc39(0x8d9),_0x53088c),_0x387eba[_0xaedc39(0xa8d)]=_0xaedc39(0x5c6);}}function setupStudentProgressListeners(){const _0x48a5f0=_0x3fa4d9;document[_0x48a5f0(0x4d6)](_0x48a5f0(0x4a1))['addEventListener'](_0x48a5f0(0x96d),showStudentProgressView),document[_0x48a5f0(0x4d6)](_0x48a5f0(0x38c))['addEventListener'](_0x48a5f0(0x96d),()=>{const _0x37c7eb=_0x48a5f0;document[_0x37c7eb(0x4d6)]('student-progress-view')[_0x37c7eb(0x21b)][_0x37c7eb(0x214)](_0x37c7eb(0x88c)),document[_0x37c7eb(0x4d6)](_0x37c7eb(0x841))[_0x37c7eb(0x21b)][_0x37c7eb(0x621)](_0x37c7eb(0x88c));});}async function startSkillPractice(_0x3eeca9){const _0x196c37=_0x3fa4d9;studentResultArea[_0x196c37(0x21b)][_0x196c37(0x214)](_0x196c37(0x88c)),studentQuizArea[_0x196c37(0xa8d)]=_0x196c37(0x3c8),studentQuizArea[_0x196c37(0x21b)]['remove'](_0x196c37(0x88c));try{const _0x113792=await getStandardizedTopic(_0x3eeca9);console[_0x196c37(0x3c2)](_0x196c37(0x387)+_0x3eeca9+_0x196c37(0x506)+_0x113792+'\x22'),studentQuizArea[_0x196c37(0x8c1)]('p')[_0x196c37(0x5b9)]=_0x196c37(0x78d)+_0x113792+_0x196c37(0x26b);const _0x571249=collection(db,'artifacts/'+appId+_0x196c37(0x6d2)),_0x514f5d=query(_0x571249,where(_0x196c37(0x836),'==',_0x113792)),_0x36da50=await getDocs(_0x514f5d);if(_0x36da50[_0x196c37(0x7ed)][_0x196c37(0x3e1)]>=0x3){console[_0x196c37(0x3c2)](_0x196c37(0xa6d)+_0x36da50[_0x196c37(0x7ed)][_0x196c37(0x3e1)]+_0x196c37(0xa71)+_0x113792+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x111d6f=_0x36da50[_0x196c37(0x7ed)]['map'](_0x2afcaa=>_0x2afcaa[_0x196c37(0x342)]());shuffleArray(_0x111d6f);const _0x30b823={'topic':_0x113792,'questions':_0x111d6f[_0x196c37(0x6ec)](0x0,0x3)};displaySkillPracticeDrill(_0x30b823);}else{console['log'](_0x196c37(0x6be)+_0x113792+_0x196c37(0xa55));const _0x56986f=await generatePracticeQuestions(_0x113792);await saveDrillToPracticeBank(_0x56986f,_0x113792),displaySkillPracticeDrill(_0x56986f);}}catch(_0x9b2878){console['error'](_0x196c37(0x9d0),_0x9b2878),showMessage(_0x196c37(0x602)),studentQuizArea[_0x196c37(0x21b)]['add'](_0x196c37(0x88c)),studentResultArea[_0x196c37(0x21b)][_0x196c37(0x621)]('hidden');}}async function saveDrillToPracticeBank(_0x508962,_0x291374){const _0x52ee8f=_0x3fa4d9,_0x43daea=collection(db,_0x52ee8f(0x31f)+appId+_0x52ee8f(0x6d2)),_0x133624=writeBatch(db);_0x508962[_0x52ee8f(0x299)][_0x52ee8f(0x220)](_0x2d7dbf=>{const _0x20ff6f=_0x52ee8f,_0x462996=doc(_0x43daea);_0x133624['set'](_0x462996,{'topic':_0x291374,'questionText':_0x2d7dbf[_0x20ff6f(0x490)],'options':_0x2d7dbf['options'],'correctAnswerIndex':_0x2d7dbf['correctAnswerIndex'],'explanation':_0x2d7dbf[_0x20ff6f(0x3a3)],'createdAt':serverTimestamp()});});try{await _0x133624[_0x52ee8f(0x4ef)](),console['log']('บันทึกคำถามใหม่\x20'+_0x508962[_0x52ee8f(0x299)][_0x52ee8f(0x3e1)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x3389f4){console[_0x52ee8f(0x1d8)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x3389f4);}}async function getStandardizedTopic(_0x437bf8){const _0x28284b=_0x3fa4d9,_0x11f92d=_0x28284b(0x2f2)+_0x437bf8+_0x28284b(0x3ed),_0x497553={'type':_0x28284b(0x782),'properties':{'standardTopic':{'type':_0x28284b(0x359)}},'required':['standardTopic']};try{const _0x3c778a=await callAnalysisApi(_0x11f92d,_0x497553);return _0x3c778a[_0x28284b(0x1e9)];}catch(_0x1fb03d){return console[_0x28284b(0x1d8)](_0x28284b(0x5c7),_0x1fb03d),_0x437bf8;}}async function handleGenerateEasyVersionQuiz(_0xadd1da){const _0x378730=_0x3fa4d9,_0x1847ec=document['getElementById'](_0x378730(0x8a7)),_0x28dd7b=document['getElementById']('project-quizzes-list');_0x28dd7b[_0x378730(0x21b)][_0x378730(0x214)]('hidden');const _0x1e3c24=_0x378730(0x65e);_0x1847ec[_0x378730(0x6fa)](_0x378730(0x818),_0x1e3c24);try{const _0x2d86fe=allQuizzes[_0x378730(0xa53)](_0x368dea=>_0x368dea['id']===_0xadd1da);if(!_0x2d86fe)throw new Error(_0x378730(0x190));const _0x26d096=_0x378730(0x4de)+JSON[_0x378730(0x73b)](_0x2d86fe[_0x378730(0x299)])+_0x378730(0x8a2),_0x4c1393={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x378730(0x2f3),'items':{'type':_0x378730(0x359)}},'correctAnswerIndex':{'type':_0x378730(0x88b)},'idealAnswer':{'type':_0x378730(0x359)},'explanation':{'type':_0x378730(0x359)},'imageCode':{'type':'STRING'}},'required':[_0x378730(0x490),'questionType',_0x378730(0x3a3)]},_0x3dd3e1={'type':'OBJECT','properties':{'questions':{'type':'ARRAY','items':_0x4c1393}},'required':[_0x378730(0x299)]},_0x4b2318=await callAnalysisApi(_0x26d096,_0x3dd3e1);_0x4b2318&&_0x4b2318[_0x378730(0x299)]&&_0x4b2318[_0x378730(0x299)][_0x378730(0x220)](_0x57fc8b=>{const _0x5613e8=_0x378730;if(_0x57fc8b['hasOwnProperty'](_0x5613e8(0x39e))){const _0x2f35ae=String(_0x57fc8b[_0x5613e8(0x39e)])[_0x5613e8(0x56f)]();(_0x2f35ae===''||_0x2f35ae[_0x5613e8(0x4f3)]()===_0x5613e8(0x5ce)||!_0x2f35ae[_0x5613e8(0x4f6)](_0x5613e8(0x42f)))&&delete _0x57fc8b['imageCode'];}});if(!_0x4b2318||!_0x4b2318[_0x378730(0x299)]||_0x4b2318[_0x378730(0x299)][_0x378730(0x3e1)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x33e5ad=_0x4b2318['questions'][_0x378730(0x9f0)]((_0x138814,_0x5e2823)=>({..._0x138814,'id':'q_'+Date[_0x378730(0x9ed)]()+'_'+_0x5e2823})),_0x585a46={'projectId':_0x2d86fe[_0x378730(0x59c)],'quizType':_0x2d86fe[_0x378730(0x25e)],'settings':_0x2d86fe[_0x378730(0x8a1)],'createdBy':_0x2d86fe[_0x378730(0x9fe)],'status':_0x378730(0x8bd),'topic':_0x378730(0x893)+_0x2d86fe[_0x378730(0x836)],'questions':_0x33e5ad,'createdAt':new Date()[_0x378730(0x3c3)](),'quizMode':_0x378730(0x427),'pairedQuizId':null};let _0x541f5b;while(!![]){_0x541f5b=Math[_0x378730(0x67c)](0x3e8+Math['random']()*0x2328)[_0x378730(0x6dc)]();const _0x3264c8=await getDoc(doc(db,_0x378730(0x31f)+appId+_0x378730(0x8ca),_0x541f5b));if(!_0x3264c8[_0x378730(0x77c)]())break;}await setDoc(doc(db,_0x378730(0x31f)+appId+_0x378730(0x8ca),_0x541f5b),_0x585a46),showMessage(_0x378730(0x457));}catch(_0x5a2ea6){console[_0x378730(0x1d8)](_0x378730(0x2e5),_0x5a2ea6),showMessage(_0x378730(0x9e3)+_0x5a2ea6[_0x378730(0x936)]);}finally{const _0x46834f=document[_0x378730(0x4d6)]('temp-loader-results');_0x46834f&&_0x46834f[_0x378730(0x621)](),_0x28dd7b['classList'][_0x378730(0x621)](_0x378730(0x88c));}}async function generatePracticeQuestions(_0x5197f2){const _0x3486d5=_0x3fa4d9,_0x2a2a9f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x5197f2+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3486d5(0x8cc),_0x112c15={'type':_0x3486d5(0x782),'properties':{'questionText':{'type':_0x3486d5(0x359)},'options':{'type':_0x3486d5(0x2f3),'items':{'type':_0x3486d5(0x359)}},'correctAnswerIndex':{'type':_0x3486d5(0x88b)},'explanation':{'type':_0x3486d5(0x359)}},'required':[_0x3486d5(0x490),_0x3486d5(0x35a),_0x3486d5(0x6ce),_0x3486d5(0x3a3)]},_0xa0c834={'type':_0x3486d5(0x782),'properties':{'topic':{'type':_0x3486d5(0x359)},'questions':{'type':_0x3486d5(0x2f3),'items':_0x112c15}},'required':[_0x3486d5(0x836),_0x3486d5(0x299)]};return await callAnalysisApi(_0x2a2a9f,_0xa0c834);}function displayLessonPlan(_0x4164f3,_0x20b627){const _0x3cac81=_0x3fa4d9,_0x4a7890=_0x3cac81(0x408)+_0x20b627['topic']+_0x3cac81(0x41f)+_0x4164f3['learningGaps'][_0x3cac81(0x9f0)](_0x5cbd93=>'<li>'+_0x5cbd93+_0x3cac81(0x243))[_0x3cac81(0x3d6)]('')+_0x3cac81(0x6d6)+_0x4164f3[_0x3cac81(0x2d5)]+_0x3cac81(0x999)+_0x4164f3[_0x3cac81(0x40c)][_0x3cac81(0x9f0)](_0x38adc2=>_0x3cac81(0x15c)+_0x38adc2[_0x3cac81(0x8fd)]+_0x3cac81(0x6ac)+_0x38adc2[_0x3cac81(0x2be)]+_0x3cac81(0x534))[_0x3cac81(0x3d6)]('')+_0x3cac81(0x8fc);document[_0x3cac81(0x4d6)](_0x3cac81(0x7ae))['textContent']=_0x3cac81(0x2c2)+_0x20b627[_0x3cac81(0x836)],document[_0x3cac81(0x4d6)](_0x3cac81(0x65c))[_0x3cac81(0xa8d)]=_0x4a7890,document[_0x3cac81(0x4d6)](_0x3cac81(0x38d))[_0x3cac81(0x21b)][_0x3cac81(0x621)](_0x3cac81(0x88c));if(window[_0x3cac81(0xa2e)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0xb87530){const _0x3e3689=_0x3fa4d9;let _0x9f3c07=0x0;const _0x39e1af=_0xb87530[_0x3e3689(0x299)],_0x1074cc=()=>{const _0xe61c84=_0x3e3689,_0x908c3f=_0x39e1af[_0x9f3c07],_0x3e575a=_0xe61c84(0x99f)+(_0x9f3c07+0x1)+_0xe61c84(0x60f)+_0x39e1af['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x908c3f['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x908c3f[_0xe61c84(0x35a)][_0xe61c84(0x9f0)]((_0x1459a7,_0x4eee0b)=>_0xe61c84(0x174)+_0x4eee0b+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x4eee0b+_0xe61c84(0x430)+_0x4eee0b+'\x22>'+_0x1459a7+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0xe61c84(0xa8d)]=_0x3e575a;if(window[_0xe61c84(0xa2e)])MathJax[_0xe61c84(0x2d1)]([studentQuizArea]);document[_0xe61c84(0x4d6)]('hint-btn')['addEventListener'](_0xe61c84(0x96d),async()=>{const _0x197a45=_0xe61c84,_0x3b32d4=await getHintForQuestion(_0x908c3f[_0x197a45(0x490)]);showMessage(_0x3b32d4);}),document[_0xe61c84(0x4d6)](_0xe61c84(0x855))[_0xe61c84(0x795)](_0xe61c84(0x96d),()=>{const _0x281179=_0xe61c84,_0x24d62c=document[_0x281179(0x8c1)](_0x281179(0x28e));if(!_0x24d62c){showMessage(_0x281179(0x4b5));return;}const _0x4a9c9b=document[_0x281179(0x4d6)]('drill-feedback'),_0x31c613=parseInt(_0x24d62c[_0x281179(0xa87)])===_0x908c3f[_0x281179(0x6ce)];_0x31c613?(_0x4a9c9b['className']=_0x281179(0x796),_0x4a9c9b[_0x281179(0xa8d)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x908c3f[_0x281179(0x3a3)]):(_0x4a9c9b[_0x281179(0x26e)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x4a9c9b[_0x281179(0xa8d)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x908c3f[_0x281179(0x3a3)]);_0x4a9c9b[_0x281179(0x21b)][_0x281179(0x621)](_0x281179(0x88c));if(window[_0x281179(0xa2e)])MathJax['typesetPromise']([_0x4a9c9b]);document[_0x281179(0x4d6)](_0x281179(0x855))[_0x281179(0x21b)][_0x281179(0x214)](_0x281179(0x88c)),document[_0x281179(0x4d6)](_0x281179(0x848))[_0x281179(0x21b)][_0x281179(0x214)](_0x281179(0x88c)),document[_0x281179(0x4d6)](_0x281179(0x620))[_0x281179(0x21b)][_0x281179(0x621)](_0x281179(0x88c));}),document[_0xe61c84(0x4d6)](_0xe61c84(0x620))[_0xe61c84(0x795)]('click',()=>{const _0x5a1289=_0xe61c84;_0x9f3c07++,_0x9f3c07<_0x39e1af[_0x5a1289(0x3e1)]?_0x1074cc():(studentQuizArea[_0x5a1289(0xa8d)]=_0x5a1289(0x622),document[_0x5a1289(0x4d6)](_0x5a1289(0x8f8))[_0x5a1289(0x795)](_0x5a1289(0x96d),()=>{const _0x1f20e7=_0x5a1289;studentQuizArea[_0x1f20e7(0x21b)]['add'](_0x1f20e7(0x88c)),studentResultArea[_0x1f20e7(0x21b)][_0x1f20e7(0x621)](_0x1f20e7(0x88c));}));});};_0x1074cc();}function _0x5982(_0x18bee7,_0x2f557f){const _0x3a72d5=_0x3a72();return _0x5982=function(_0x59821f,_0x4b6558){_0x59821f=_0x59821f-0x154;let _0xe03aa=_0x3a72d5[_0x59821f];return _0xe03aa;},_0x5982(_0x18bee7,_0x2f557f);}async function getHintForQuestion(_0x1a27ec){const _0x43b2a5=_0x3fa4d9,_0x28b0c8=_0x43b2a5(0x79b)+_0x1a27ec+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x34a70e={'type':_0x43b2a5(0x782),'properties':{'hint':{'type':_0x43b2a5(0x359)}},'required':[_0x43b2a5(0x6bf)]};try{const _0x33a380=await callAnalysisApi(_0x28b0c8,_0x34a70e);return _0x33a380['hint'];}catch(_0x334875){return console['error']('Failed\x20to\x20get\x20hint:',_0x334875),_0x43b2a5(0x9a0);}}async function extractTextFromPdf(_0x5c8827){const _0x4715b7=_0x3fa4d9;pdfjsLib[_0x4715b7(0x846)][_0x4715b7(0x4b3)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x34ef31=await _0x5c8827[_0x4715b7(0x5cb)](),_0x101131=await pdfjsLib[_0x4715b7(0x3a1)](_0x34ef31)[_0x4715b7(0x4ac)],_0x250fc5=_0x101131['numPages'];let _0x4e8524='';for(let _0x5575b8=0x1;_0x5575b8<=_0x250fc5;_0x5575b8++){const _0x57a535=await _0x101131[_0x4715b7(0x309)](_0x5575b8),_0x556012=await _0x57a535['getTextContent'](),_0x476cfa=_0x556012[_0x4715b7(0x923)][_0x4715b7(0x9f0)](_0x481bf6=>_0x481bf6['str'])['join']('\x20');_0x4e8524+=_0x476cfa+'\x0a\x0a';}return _0x4e8524;}async function handleGenerateFromBlueprint(){const _0x56efd5=_0x3fa4d9,_0x38de71=document[_0x56efd5(0x4d6)]('blueprint-upload-input'),_0x28a580=document[_0x56efd5(0x4d6)](_0x56efd5(0x7e2)),_0x136864=_0x38de71[_0x56efd5(0x9fa)][0x0],_0x4af827=_0x28a580[_0x56efd5(0x9fa)][_0x56efd5(0x3e1)]>0x0?_0x28a580[_0x56efd5(0x9fa)][0x0]:null;if(!_0x136864){showMessage(_0x56efd5(0x985));return;}const _0x4cea4d=document[_0x56efd5(0x4d6)]('loader'),_0x12b730=document[_0x56efd5(0x4d6)](_0x56efd5(0x265)),_0x279e12=document[_0x56efd5(0x4d6)](_0x56efd5(0x7e1)),_0x51d359=document[_0x56efd5(0x4d6)](_0x56efd5(0xa1c));_0x51d359[_0x56efd5(0x907)]=!![],document['getElementById'](_0x56efd5(0x8bc))[_0x56efd5(0x21b)]['remove']('hidden'),_0x279e12[_0x56efd5(0xa8d)]='',_0x4cea4d[_0x56efd5(0x21b)][_0x56efd5(0x621)](_0x56efd5(0x88c));try{_0x12b730[_0x56efd5(0x5b9)]=_0x56efd5(0xa95);const _0x5188ae=await extractTextFromPdf(_0x136864);if(!_0x5188ae['trim']())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x5a00d4='';_0x4af827&&(_0x12b730[_0x56efd5(0x5b9)]=_0x56efd5(0x7c7),_0x5a00d4=await extractTextFromPdf(_0x4af827));_0x12b730[_0x56efd5(0x5b9)]=_0x56efd5(0x241);const _0x3599f4=document[_0x56efd5(0x4d6)](_0x56efd5(0x3c6))[_0x56efd5(0x5d4)],_0x3be013=_0x3599f4?_0x56efd5(0x728):'',_0x472b32=_0x5a00d4?_0x56efd5(0x58d)+_0x5a00d4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x47df39='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5a00d4?_0x56efd5(0x652):'')+_0x56efd5(0x27f)+_0x5188ae+_0x56efd5(0x856)+_0x472b32+_0x56efd5(0x96a)+_0x3be013+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x56efd5(0x4bb),_0x2fb0bc={'type':_0x56efd5(0x782),'properties':{'questionText':{'type':_0x56efd5(0x359)},'questionType':{'type':_0x56efd5(0x359),'enum':[_0x56efd5(0x5c5),_0x56efd5(0x775)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x56efd5(0x88b)},'idealAnswer':{'type':_0x56efd5(0x359)},'explanation':{'type':_0x56efd5(0x359)},'imageCode':{'type':'STRING'}},'required':[_0x56efd5(0x490),'questionType',_0x56efd5(0x3a3)]},_0x21f464={'type':_0x56efd5(0x782),'properties':{'topic':{'type':_0x56efd5(0x359)},'questions':{'type':_0x56efd5(0x2f3),'items':_0x2fb0bc}},'required':[_0x56efd5(0x836),_0x56efd5(0x299)]};await handleApiCall(_0x47df39,_0x56efd5(0x2d7),_0x21f464);}catch(_0x5c29e0){console[_0x56efd5(0x1d8)](_0x56efd5(0x1e1),_0x5c29e0),showMessage(_0x56efd5(0x9e3)+_0x5c29e0[_0x56efd5(0x936)]),_0x279e12[_0x56efd5(0xa8d)]=_0x56efd5(0x383);}finally{_0x4cea4d[_0x56efd5(0x21b)][_0x56efd5(0x214)]('hidden'),_0x51d359[_0x56efd5(0x907)]=![];}}function proceedToNextQuestion(_0x32dbe0){const _0x1c358b=_0x3fa4d9;studentAnswersPerQuestion[_0x1c358b(0x87a)](_0x32dbe0),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x728079,_0x313cf8){const _0xff29a1=_0x3fa4d9,_0x21a6d5=Object[_0xff29a1(0x792)](_0x728079[_0xff29a1(0x452)]||{}),_0x29dff0=_0x21a6d5[_0xff29a1(0x3e1)],_0x4c21f7=[..._0x21a6d5][_0xff29a1(0x171)]((_0x2e067a,_0x18af5a)=>_0x18af5a['score']-_0x2e067a[_0xff29a1(0x41d)]),_0x362b9c=_0x728079[_0xff29a1(0x192)];let _0x49259f='';const _0x2c0367=_0x728079[_0xff29a1(0x6d0)][_0xff29a1(0x299)],_0x1d7855=_0x2c0367[_0x362b9c],_0x497e26=_0x4f3b88=>String[_0xff29a1(0x74e)](0x41+_0x4f3b88);let _0x3c3b02='',_0x4ee8ed='';if(_0x1d7855){const _0x4b4762=_0x1d7855[_0xff29a1(0x36e)]||_0x728079[_0xff29a1(0x6d0)][_0xff29a1(0x25e)];if(_0x4b4762===_0xff29a1(0x5c5)&&_0x1d7855[_0xff29a1(0x35a)]&&_0x1d7855['correctAnswerIndex']!==undefined){const _0x4fed64=_0x1d7855[_0xff29a1(0x6ce)];_0x3c3b02=_0x1d7855[_0xff29a1(0x35a)][_0x4fed64],_0x4ee8ed=_0x497e26(_0x4fed64)+'.';}else{if(_0x4b4762===_0xff29a1(0x860)){const _0x59bddc=_0x1d7855[_0xff29a1(0x185)]===!![]||String(_0x1d7855[_0xff29a1(0x185)])[_0xff29a1(0x4f3)]()==='true';_0x59bddc?(_0x3c3b02=_0xff29a1(0x240),_0x4ee8ed='ก.'):(_0x3c3b02=_0xff29a1(0x5e3),_0x4ee8ed='ข.');}else{if(_0x4b4762===_0xff29a1(0x4f4))_0x3c3b02=_0x1d7855[_0xff29a1(0xa97)]||'-',_0x4ee8ed='';else _0x4b4762===_0xff29a1(0x775)&&(_0x3c3b02=_0x1d7855['idealAnswer']||'-',_0x4ee8ed='');}}}_0x3c3b02&&(_0x49259f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x362b9c+0x1)+_0xff29a1(0x292)+_0x4ee8ed+'\x20'+_0x3c3b02+_0xff29a1(0x898));const _0x12add2=_0x4c21f7['map'](_0x1133b9=>{const _0x1f546b=_0xff29a1;let _0x95f68b=![];if(_0x1133b9[_0x1f546b(0x617)]&&_0x362b9c!==-0x1){const _0x26ce75=_0x1133b9[_0x1f546b(0x617)][_0x1f546b(0xa53)](_0x26f961=>_0x26f961[_0x1f546b(0x1a1)]===_0x362b9c);_0x26ce75&&_0x26ce75[_0x1f546b(0x753)]&&(_0x95f68b=!![]);}const _0x220935=_0x95f68b?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':_0x1f546b(0x977);return _0x1f546b(0x8f1)+_0x220935+_0x1f546b(0x3d1)+_0x1133b9[_0x1f546b(0xa19)]+_0x1f546b(0x786)+_0x1133b9['score']+'\x20คะแนน</span></div>';})['join'](''),_0x331f4e=_0x2c0367[_0xff29a1(0x9f0)]((_0x48d691,_0x2067ce)=>{const _0x221e1a=_0xff29a1,_0x258cb1=_0x21a6d5['filter'](_0x6b8a87=>_0x6b8a87['answers']&&_0x6b8a87[_0x221e1a(0x617)][_0x221e1a(0xa53)](_0x3c6a43=>_0x3c6a43[_0x221e1a(0x1a1)]===_0x2067ce&&_0x3c6a43['isCorrect']))[_0x221e1a(0x3e1)],_0x1d743d=_0x2067ce===_0x362b9c,_0x324065=_0x1d743d?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x221e1a(0x415);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x324065+_0x221e1a(0x9b6)+(_0x2067ce+0x1)+_0x221e1a(0x95b)+_0x258cb1+'\x20/\x20'+_0x29dff0+_0x221e1a(0x8b6);})[_0xff29a1(0x3d6)]('');let _0x3ae11b='',_0x22b526='';if(_0x313cf8){const _0x2629ca=_0x728079[_0xff29a1(0x192)]>=_0x2c0367[_0xff29a1(0x3e1)]-0x1;_0x3ae11b=_0xff29a1(0x6a4)+(_0x2629ca?_0xff29a1(0x19d):'ข้อต่อไป')+_0xff29a1(0x772),_0x22b526=_0xff29a1(0x899);}const _0x5cd69b=_0xff29a1(0x53e)+_0x728079[_0xff29a1(0x6d0)][_0xff29a1(0x836)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22b526+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49259f+_0xff29a1(0x741)+(_0x12add2||_0xff29a1(0x34d))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x331f4e+_0xff29a1(0x673)+(_0x313cf8?_0xff29a1(0x22f)+_0x3ae11b+_0xff29a1(0x551):'')+_0xff29a1(0x5c8);liveGameView[_0xff29a1(0xa8d)]=_0x5cd69b;if(window[_0xff29a1(0xa2e)]){const _0x24073d=document[_0xff29a1(0x4d6)](_0xff29a1(0x491));_0x24073d&&MathJax[_0xff29a1(0x2d1)]([_0x24073d]);}if(_0x313cf8){document[_0xff29a1(0x4d6)]('next-sync-question-btn')[_0xff29a1(0x672)]=async()=>{const _0x1e60eb=_0xff29a1,_0x59ac46=doc(db,_0x1e60eb(0x31f)+appId+_0x1e60eb(0x3f7),currentLiveGameId),_0x1ac6ae=_0x728079[_0x1e60eb(0x192)]+0x1;if(_0x1ac6ae<_0x2c0367[_0x1e60eb(0x3e1)]){const _0x32528c={};Object[_0x1e60eb(0x720)](_0x728079[_0x1e60eb(0x452)])['forEach'](_0x499f3f=>{const _0x2fe870=_0x1e60eb;_0x32528c[_0x2fe870(0x595)+_0x499f3f+_0x2fe870(0x494)]=![],_0x32528c['players.'+_0x499f3f+_0x2fe870(0x60a)]=null;}),await updateDoc(_0x59ac46,{..._0x32528c,'status':'question','currentQuestionIndex':_0x1ac6ae,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x59ac46,{'status':_0x1e60eb(0x18a)});};const _0x433afd=document[_0xff29a1(0x4d6)](_0xff29a1(0x1be));_0x433afd&&(_0x433afd[_0xff29a1(0x672)]=()=>{const _0x459fe5=_0xff29a1;showConfirmation(_0x459fe5(0x52f),async()=>{const _0x2267ae=_0x459fe5,_0x58c5b7=doc(db,_0x2267ae(0x31f)+appId+_0x2267ae(0x3f7),currentLiveGameId);await updateDoc(_0x58c5b7,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x49a3d2){const _0xe7bcc9=_0x3fa4d9,_0x4e3a10=document[_0xe7bcc9(0x4d6)]('results-tab-content'),_0x5634cf=document['getElementById']('project-quizzes-list');_0x5634cf[_0xe7bcc9(0x21b)][_0xe7bcc9(0x214)](_0xe7bcc9(0x88c));const _0x5701f5=_0xe7bcc9(0x7c0)+_0x49a3d2[_0xe7bcc9(0x836)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4e3a10[_0xe7bcc9(0x6fa)]('beforeend',_0x5701f5);const _0x424a9d=document[_0xe7bcc9(0x4d6)]('temp-loader-text-results');try{const _0x114c2d=_0x49a3d2[_0xe7bcc9(0x299)][_0xe7bcc9(0x9f0)]((_0x328f68,_0x2b8c9c)=>{const _0x5775d6=_0xe7bcc9;let _0x3bda99=_0x2b8c9c+0x1+'.\x20'+(_0x328f68[_0x5775d6(0x490)]||_0x328f68['stem'])+'\x0a';if(_0x328f68[_0x5775d6(0x35a)])_0x3bda99+=_0x328f68['options'][_0x5775d6(0x9f0)]((_0x1cd96a,_0x53fae5)=>_0x5775d6(0x93d)+(_0x53fae5===_0x328f68['correctAnswerIndex']?_0x5775d6(0x2cf):'')+'\x20'+_0x1cd96a)[_0x5775d6(0x3d6)]('\x0a');else _0x328f68[_0x5775d6(0x202)]&&(_0x3bda99+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x328f68[_0x5775d6(0x202)]);return _0x3bda99;})[_0xe7bcc9(0x3d6)]('\x0a\x0a');_0x424a9d[_0xe7bcc9(0x5b9)]=_0xe7bcc9(0x1d7);const _0x186964=_0xe7bcc9(0x465)+_0x49a3d2['topic']+_0xe7bcc9(0x7a7)+_0x114c2d+_0xe7bcc9(0x416)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x50db88={'type':_0xe7bcc9(0x782),'properties':{'questionText':{'type':_0xe7bcc9(0x359)},'questionType':{'type':'STRING','enum':[_0xe7bcc9(0x5c5),_0xe7bcc9(0x775),_0xe7bcc9(0x860),_0xe7bcc9(0x4f4)]},'options':{'type':_0xe7bcc9(0x2f3),'items':{'type':_0xe7bcc9(0x359)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0xe7bcc9(0x4db)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0xe7bcc9(0x359)},'imageCode':{'type':_0xe7bcc9(0x359)}},'required':[_0xe7bcc9(0x36e),'explanation']},_0x5b4c77={'type':'OBJECT','properties':{'topic':{'type':_0xe7bcc9(0x359)},'questions':{'type':'ARRAY','items':_0x50db88}},'required':[_0xe7bcc9(0x836),_0xe7bcc9(0x299)]},_0x5c245a=await callAnalysisApi(_0x186964,_0x5b4c77),_0x3a627e=_0x5c245a[_0xe7bcc9(0x299)][_0xe7bcc9(0x9f0)]((_0x3ed081,_0x3f5d8e)=>({..._0x3ed081,'id':'q_'+Date[_0xe7bcc9(0x9ed)]()+'_'+_0x3f5d8e})),_0x548a4f=_0xe7bcc9(0x5ef)+_0x49a3d2[_0xe7bcc9(0x836)],_0x2e1d51={'topic':_0x548a4f,'questions':_0x3a627e,'quizType':_0x49a3d2['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0xe7bcc9(0x8bd),'settings':_0x49a3d2[_0xe7bcc9(0x8a1)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x3515a6;while(!![]){_0x3515a6=Math[_0xe7bcc9(0x67c)](0x3e8+Math['random']()*0x2328)[_0xe7bcc9(0x6dc)]();const _0x5b645e=await getDoc(doc(db,_0xe7bcc9(0x31f)+appId+'/public/data/quizzes',_0x3515a6));if(!_0x5b645e[_0xe7bcc9(0x77c)]())break;}await setDoc(doc(db,_0xe7bcc9(0x31f)+appId+_0xe7bcc9(0x8ca),_0x3515a6),_0x2e1d51),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x8292a5){console['error'](_0xe7bcc9(0x706),_0x8292a5),showMessage('เกิดข้อผิดพลาด:\x20'+_0x8292a5[_0xe7bcc9(0x936)]);}finally{const _0x180657=document[_0xe7bcc9(0x4d6)](_0xe7bcc9(0x6f9));_0x180657&&_0x180657[_0xe7bcc9(0x621)](),_0x5634cf[_0xe7bcc9(0x21b)][_0xe7bcc9(0x621)](_0xe7bcc9(0x88c));}}async function handleGenerateParallelPostTest(_0x2b211){const _0x3a027c=_0x3fa4d9,_0x49439b=document[_0x3a027c(0x4d6)](_0x3a027c(0x8a7)),_0x457003=document[_0x3a027c(0x4d6)](_0x3a027c(0x721));_0x457003[_0x3a027c(0x21b)][_0x3a027c(0x214)](_0x3a027c(0x88c));const _0x51e928='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x49439b['insertAdjacentHTML'](_0x3a027c(0x818),_0x51e928);try{const _0x528d98=_0x2b211['questions']['map']((_0x2c4861,_0x368850)=>{const _0x2167e3=_0x3a027c;let _0x15ea33=_0x368850+0x1+'.\x20'+(_0x2c4861[_0x2167e3(0x490)]||_0x2c4861['stem']);if(_0x2c4861[_0x2167e3(0x35a)])_0x15ea33+=_0x2167e3(0x4ba)+_0x2c4861[_0x2167e3(0x35a)][_0x2167e3(0x3d6)](',\x20');return _0x15ea33;})[_0x3a027c(0x3d6)]('\x0a\x0a'),_0x599f87=_0x3a027c(0x32c)+_0x2b211['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x528d98+_0x3a027c(0x949)+simpleMathPrompt+_0x3a027c(0x4bb),_0x8dc445={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3a027c(0x2f3),'items':{'type':_0x3a027c(0x782),'properties':{'questionText':{'type':_0x3a027c(0x359)},'questionType':{'type':'STRING'},'options':{'type':_0x3a027c(0x2f3),'items':{'type':_0x3a027c(0x359)}},'correctAnswerIndex':{'type':_0x3a027c(0x88b)},'idealAnswer':{'type':_0x3a027c(0x359)},'explanation':{'type':'STRING'}},'required':[_0x3a027c(0x490),_0x3a027c(0x3a3)]}}},'required':['topic',_0x3a027c(0x299)]},_0x475715=await callAnalysisApi(_0x599f87,_0x8dc445),_0x5a085d=_0x2b211[_0x3a027c(0x836)][_0x3a027c(0x159)](_0x3a027c(0xa5f),'')[_0x3a027c(0x56f)](),_0xac7b2f=_0x3a027c(0x8ae)+_0x5a085d,_0x51ae13={..._0x475715,'topic':_0xac7b2f,'quizType':_0x2b211[_0x3a027c(0x25e)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x3a027c(0x8bd),'settings':_0x2b211[_0x3a027c(0x8a1)],'quizMode':_0x3a027c(0x565),'pairedQuizId':_0x2b211['id']};let _0x4d7911;while(!![]){_0x4d7911=Math[_0x3a027c(0x67c)](0x3e8+Math[_0x3a027c(0x78e)]()*0x2328)[_0x3a027c(0x6dc)]();const _0x8897c1=await getDoc(doc(db,_0x3a027c(0x31f)+appId+'/public/data/quizzes',_0x4d7911));if(!_0x8897c1['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3a027c(0x8ca),_0x4d7911),_0x51ae13);const _0x371314=doc(db,'artifacts/'+appId+_0x3a027c(0x8ca),_0x2b211['id']);await updateDoc(_0x371314,{'pairedQuizId':_0x4d7911}),showMessage(_0x3a027c(0x338));}catch(_0x58e458){console[_0x3a027c(0x1d8)](_0x3a027c(0x971),_0x58e458),showMessage(_0x3a027c(0x9e3)+_0x58e458['message']);}finally{const _0x1a5354=document['getElementById'](_0x3a027c(0x6f9));if(_0x1a5354)_0x1a5354['remove']();_0x457003[_0x3a027c(0x21b)][_0x3a027c(0x621)](_0x3a027c(0x88c));}}async function handleGenerateParallelTest(){const _0x3652bf=_0x3fa4d9,_0x22ca5b=document[_0x3652bf(0x4d6)](_0x3652bf(0x2b8)),_0x7bc9aa=_0x22ca5b[_0x3652bf(0x9fa)][0x0];if(!_0x7bc9aa){showMessage(_0x3652bf(0x64f));return;}const _0x1b8ecb=document[_0x3652bf(0x4d6)]('loader'),_0x11e941=document[_0x3652bf(0x4d6)](_0x3652bf(0x265)),_0x3bd0de=document['getElementById'](_0x3652bf(0x7e1)),_0x379087=document[_0x3652bf(0x4d6)]('generate-from-parallel-test-btn');_0x379087[_0x3652bf(0x907)]=!![],document['getElementById'](_0x3652bf(0x8bc))[_0x3652bf(0x21b)][_0x3652bf(0x621)](_0x3652bf(0x88c)),_0x3bd0de[_0x3652bf(0xa8d)]='',_0x1b8ecb[_0x3652bf(0x21b)][_0x3652bf(0x621)]('hidden'),_0x11e941[_0x3652bf(0x5b9)]=_0x3652bf(0x9f5);try{const _0x2b0e74=await extractTextFromPdf(_0x7bc9aa);if(!_0x2b0e74[_0x3652bf(0x56f)]())throw new Error(_0x3652bf(0x1b7));_0x11e941['textContent']=_0x3652bf(0x1d7);const _0x1a3a40=document[_0x3652bf(0x4d6)](_0x3652bf(0x3c6))[_0x3652bf(0x5d4)],_0xbb0c04=_0x1a3a40?_0x3652bf(0x728):'',_0x161317=_0x3652bf(0x336)+_0x2b0e74+_0x3652bf(0x258)+_0xbb0c04+_0x3652bf(0xa25)+simpleMathPrompt+_0x3652bf(0x4bb),_0x29c8f1={'type':_0x3652bf(0x782),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3652bf(0x359),'enum':[_0x3652bf(0x5c5),_0x3652bf(0x775)]},'options':{'type':'ARRAY','items':{'type':_0x3652bf(0x359)}},'correctAnswerIndex':{'type':_0x3652bf(0x88b)},'idealAnswer':{'type':_0x3652bf(0x359)},'explanation':{'type':_0x3652bf(0x359)},'imageCode':{'type':'STRING'}},'required':[_0x3652bf(0x490),_0x3652bf(0x36e),'explanation']},_0x113706={'type':_0x3652bf(0x782),'properties':{'topic':{'type':_0x3652bf(0x359)},'questions':{'type':_0x3652bf(0x2f3),'items':_0x29c8f1}},'required':[_0x3652bf(0x836),'questions']};await handleApiCall(_0x161317,_0x3652bf(0x575),_0x113706);}catch(_0x570d7c){console['error'](_0x3652bf(0x702),_0x570d7c),showMessage(_0x3652bf(0x9e3)+_0x570d7c[_0x3652bf(0x936)]),_0x3bd0de['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x1b8ecb[_0x3652bf(0x21b)]['add']('hidden'),_0x379087[_0x3652bf(0x907)]=![];}}async function handleRegenerateQuestionInEditor(_0x2c90db){const _0x34a990=_0x3fa4d9;if(currentEditingQuizData===null)return;const _0x10b784=document[_0x34a990(0x8c1)](_0x34a990(0x1cc)+_0x2c90db+'\x22]');_0x10b784&&(_0x10b784[_0x34a990(0xa8d)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x276cc8=currentEditingQuizData[_0x34a990(0x299)][_0x2c90db],_0xd5a5d8=currentEditingQuizData['topic'],_0x50bf0f=_0x276cc8['questionType'],_0x834bcc={'type':_0x34a990(0x782),'properties':{'questionText':{'type':_0x34a990(0x359)},'options':{'type':_0x34a990(0x2f3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x34a990(0x359)}},'required':['questionText',_0x34a990(0x35a),'correctAnswerIndex','explanation']},_0x3266e5={'type':_0x34a990(0x782),'properties':{'questionText':{'type':_0x34a990(0x359)},'idealAnswer':{'type':_0x34a990(0x359)},'explanation':{'type':'STRING'}},'required':[_0x34a990(0x490),_0x34a990(0x202),_0x34a990(0x3a3)]};let _0x18e3b1,_0x2ab4f7='';_0x50bf0f===_0x34a990(0x5c5)?(_0x18e3b1=_0x834bcc,_0x2ab4f7=_0x34a990(0x54c)):(_0x18e3b1=_0x3266e5,_0x2ab4f7=_0x34a990(0x587));const _0x54d9f8='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0xd5a5d8+_0x34a990(0x3c9)+_0x2ab4f7+_0x34a990(0x528)+(_0x276cc8[_0x34a990(0x490)]||_0x276cc8[_0x34a990(0x785)])+_0x34a990(0x1b4)+simpleMathPrompt;try{const _0x331caa=await callAnalysisApi(_0x54d9f8,_0x18e3b1);currentEditingQuizData[_0x34a990(0x299)][_0x2c90db]={..._0x276cc8,..._0x331caa},renderQuizEditor(currentEditingQuizData);}catch(_0x4f0dee){console[_0x34a990(0x1d8)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x4f0dee),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4b3257=_0x3fa4d9,_0x37a0d0=document[_0x4b3257(0x4d6)](_0x4b3257(0x84f));currentMode==='student'?(currentMode=_0x4b3257(0x900),_0x37a0d0['innerHTML']=_0x4b3257(0x678),_0x37a0d0[_0x4b3257(0x21a)]='สลับไปโหมดนักเรียน',showView(_0x4b3257(0x478))):(currentMode='student',_0x37a0d0['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x37a0d0[_0x4b3257(0x21a)]='สลับไปโหมดผู้ควบคุม',showView(_0x4b3257(0x564)));}function handleAdminLogin(){const _0x861a4d=_0x3fa4d9,_0x34da3=document[_0x861a4d(0x4d6)](_0x861a4d(0x21f)),_0x3f5a1b=document[_0x861a4d(0x4d6)]('password-error-msg');if(_0x34da3['value']==='27411472'){adminPasswordModal['classList'][_0x861a4d(0x214)](_0x861a4d(0x88c)),_0x34da3[_0x861a4d(0xa87)]='',_0x3f5a1b['classList'][_0x861a4d(0x214)](_0x861a4d(0x88c)),currentMode=_0x861a4d(0x900);const _0x4a225d=document[_0x861a4d(0x4d6)](_0x861a4d(0x84f));_0x4a225d[_0x861a4d(0xa8d)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x4a225d[_0x861a4d(0x21a)]=_0x861a4d(0xa0d),showView('admin-dashboard');}else _0x3f5a1b['classList'][_0x861a4d(0x621)]('hidden'),_0x34da3['value']='';}function switchProjectTab(_0x326cad){const _0x5b6d8b=_0x3fa4d9;[_0x5b6d8b(0x9f9),_0x5b6d8b(0x5c9),_0x5b6d8b(0x895)]['forEach'](_0x22063d=>{const _0x522cb9=_0x5b6d8b;document[_0x522cb9(0x4d6)](_0x22063d+_0x522cb9(0x77d))['classList'][_0x522cb9(0x621)]('active'),document['getElementById'](_0x22063d+_0x522cb9(0x5b4))[_0x522cb9(0x21b)][_0x522cb9(0x214)](_0x522cb9(0x88c));}),document['getElementById'](_0x326cad+'-tab')[_0x5b6d8b(0x21b)][_0x5b6d8b(0x214)]('active'),document[_0x5b6d8b(0x4d6)](_0x326cad+_0x5b6d8b(0x5b4))['classList'][_0x5b6d8b(0x621)](_0x5b6d8b(0x88c));}function switchQuizDetailTab(_0x324cb8){const _0x4ac7cf=_0x3fa4d9,_0x121529={'analytics':{'btn':_0x4ac7cf(0x3c0),'content':_0x4ac7cf(0x4bf)},'scores':{'btn':_0x4ac7cf(0x45b),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x4ac7cf(0x3b1),'content':_0x4ac7cf(0x2fc)}};for(const _0x4fa6a0 in _0x121529){document[_0x4ac7cf(0x4d6)](_0x121529[_0x4fa6a0][_0x4ac7cf(0x938)])['classList'][_0x4ac7cf(0x621)]('active'),document['getElementById'](_0x121529[_0x4fa6a0][_0x4ac7cf(0x905)])[_0x4ac7cf(0x21b)][_0x4ac7cf(0x214)](_0x4ac7cf(0x88c));}document[_0x4ac7cf(0x4d6)](_0x121529[_0x324cb8][_0x4ac7cf(0x938)])[_0x4ac7cf(0x21b)]['add']('active'),document[_0x4ac7cf(0x4d6)](_0x121529[_0x324cb8][_0x4ac7cf(0x905)])[_0x4ac7cf(0x21b)]['remove'](_0x4ac7cf(0x88c));}function showMessage(_0x83241f,_0x167f62=null){const _0x530d92=_0x3fa4d9;modalMessage[_0x530d92(0x5b9)]=_0x83241f,modalConfirmAction=_0x167f62,messageModal[_0x530d92(0x21b)][_0x530d92(0x621)](_0x530d92(0x88c));}function showConfirmation(_0x447328,_0x5dc445){const _0x5112f2=_0x3fa4d9;document[_0x5112f2(0x4d6)](_0x5112f2(0x529))['textContent']=_0x447328,document[_0x5112f2(0x4d6)](_0x5112f2(0x8c9))[_0x5112f2(0x8c1)]('h3')[_0x5112f2(0x5b9)]=_0x5112f2(0x980),confirmAction=_0x5dc445,confirmationModal[_0x5112f2(0x21b)][_0x5112f2(0x621)](_0x5112f2(0x88c));}function listenForProjects(){const _0x33d90d=_0x3fa4d9,_0x3eb4c9=doc(db,_0x33d90d(0x39c),_0x33d90d(0x4f1));onSnapshot(_0x3eb4c9,_0x2f669c=>{const _0x5773ac=_0x33d90d;if(_0x2f669c[_0x5773ac(0x77c)]()){const _0x1fa478=_0x2f669c[_0x5773ac(0x342)]();globalDashboardSettings[_0x5773ac(0x89b)]=_0x1fa478[_0x5773ac(0x89b)]||_0x5773ac(0x967),globalDashboardSettings[_0x5773ac(0x2a6)]=_0x1fa478[_0x5773ac(0x2a6)]||[],globalDashboardSettings[_0x5773ac(0xa07)]=_0x1fa478[_0x5773ac(0xa07)]||[];}allProjects[_0x5773ac(0x3e1)]>0x0&&renderProjects();});const _0x1c94b8=collection(db,_0x33d90d(0x31f)+appId+_0x33d90d(0x4e0));unsubscribeProjectsListener=onSnapshot(_0x1c94b8,_0x100468=>{const _0x2e26c2=_0x33d90d;allProjects=_0x100468[_0x2e26c2(0x7ed)][_0x2e26c2(0x9f0)](_0x467765=>({'id':_0x467765['id'],..._0x467765['data']()})),renderProjects();},_0x3a5137=>{const _0x398b8c=_0x33d90d;console[_0x398b8c(0x1d8)](_0x398b8c(0x47c),_0x3a5137),showMessage(_0x398b8c(0x6b4));});}function showColorPalette(_0x2be500,_0x3d61ff){const _0x28af00=_0x3fa4d9;document[_0x28af00(0x76c)](_0x28af00(0x208))[_0x28af00(0x220)](_0x1eef2e=>_0x1eef2e[_0x28af00(0x621)]());const _0x4288bb=[_0x28af00(0x5e5),'#FEE2E2',_0x28af00(0x6d9),_0x28af00(0x6dd),_0x28af00(0xa7a),_0x28af00(0x8e3),'#F3E8FF',_0x28af00(0x90a),_0x28af00(0x731)],_0x2d38ad=document[_0x28af00(0x75c)]('div');_0x2d38ad[_0x28af00(0x26e)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x4288bb[_0x28af00(0x220)](_0x492efc=>{const _0x23a71a=_0x28af00,_0x25cc5c=document[_0x23a71a(0x75c)](_0x23a71a(0x8d8));_0x25cc5c['className']=_0x23a71a(0x2ec),_0x25cc5c[_0x23a71a(0x694)][_0x23a71a(0x86e)]=_0x492efc,_0x25cc5c[_0x23a71a(0x795)](_0x23a71a(0x96d),()=>{const _0x36ecad=_0x23a71a;handleProjectColorChange(_0x3d61ff,_0x492efc),_0x2d38ad[_0x36ecad(0x621)]();}),_0x2d38ad['appendChild'](_0x25cc5c);}),document[_0x28af00(0x4e1)]['appendChild'](_0x2d38ad);const _0x2fbf80=_0x2be500[_0x28af00(0x55e)]();_0x2d38ad[_0x28af00(0x694)][_0x28af00(0x7da)]=_0x2fbf80[_0x28af00(0x323)]+window[_0x28af00(0x56e)]+'px',_0x2d38ad['style']['left']=_0x2fbf80[_0x28af00(0x2b5)]+window[_0x28af00(0x205)]-_0x2d38ad[_0x28af00(0x68d)]/0x2+'px';}async function handleProjectColorChange(_0x7001ee,_0x3f8ba1){const _0x437cfd=_0x3fa4d9,_0x4e155c=doc(db,'artifacts/'+appId+'/public/data/projects',_0x7001ee);try{await updateDoc(_0x4e155c,{'color':_0x3f8ba1});}catch(_0x1c6088){console[_0x437cfd(0x1d8)](_0x437cfd(0x184),_0x1c6088),showMessage(_0x437cfd(0x9dd));}}async function renderProjects(){const _0xf4fb28=_0x3fa4d9,_0x1d38e5=globalDashboardSettings[_0xf4fb28(0x89b)]||'date_desc',_0xf4e682=new Set(globalDashboardSettings[_0xf4fb28(0x2a6)]||[]),_0x32bce=globalDashboardSettings[_0xf4fb28(0x6d4)]||'grid',_0x271408=document[_0xf4fb28(0x4d6)](_0xf4fb28(0x426)),_0x33ac8d=document[_0xf4fb28(0x4d6)](_0xf4fb28(0x2c4));_0x271408[_0xf4fb28(0x21b)]['toggle'](_0xf4fb28(0x8bd),_0x32bce===_0xf4fb28(0xa46)),_0x33ac8d[_0xf4fb28(0x21b)]['toggle'](_0xf4fb28(0x8bd),_0x32bce===_0xf4fb28(0x6bd)),document['getElementById'](_0xf4fb28(0x823))['value']=_0x1d38e5;const _0x17bb2a=document[_0xf4fb28(0x4d6)](_0xf4fb28(0xa90))[_0xf4fb28(0xa87)][_0xf4fb28(0x4f3)]();let _0x3ecbad=allProjects[_0xf4fb28(0x853)](_0x186326=>_0x186326[_0xf4fb28(0x508)][_0xf4fb28(0x4f3)]()[_0xf4fb28(0x8f0)](_0x17bb2a));const _0x22f17e=_0x3ecbad['filter'](_0x1b2b82=>_0xf4e682[_0xf4fb28(0xa16)](_0x1b2b82['id'])),_0x4da20a=_0x3ecbad[_0xf4fb28(0x853)](_0x37362a=>!_0xf4e682[_0xf4fb28(0xa16)](_0x37362a['id'])),_0x42ce4b=(_0x815987,_0xe833e4)=>{const _0x32c0ce=_0xf4fb28;switch(_0x1d38e5){case'name_asc':return _0x815987['projectName']['localeCompare'](_0xe833e4[_0x32c0ce(0x508)],'th');case _0x32c0ce(0x24d):return _0xe833e4[_0x32c0ce(0x508)][_0x32c0ce(0x3a2)](_0x815987['projectName'],'th');case'date_asc':return new Date(_0x815987[_0x32c0ce(0xa4f)])-new Date(_0xe833e4[_0x32c0ce(0xa4f)]);default:return new Date(_0xe833e4[_0x32c0ce(0xa4f)])-new Date(_0x815987[_0x32c0ce(0xa4f)]);}};_0x22f17e[_0xf4fb28(0x171)](_0x42ce4b),_0x4da20a[_0xf4fb28(0x171)](_0x42ce4b);const _0x288be6=[..._0x22f17e,..._0x4da20a],_0x477f73=globalDashboardSettings['projectOrder']||[];_0x477f73[_0xf4fb28(0x3e1)]>0x0&&_0x32bce===_0xf4fb28(0xa46)&&_0x288be6[_0xf4fb28(0x171)]((_0xa2f49c,_0x55530d)=>{const _0x36c418=_0xf4fb28,_0x11d009=_0x477f73[_0x36c418(0x991)](_0xa2f49c['id']),_0x432d3f=_0x477f73['indexOf'](_0x55530d['id']);if(_0x11d009===-0x1)return 0x1;if(_0x432d3f===-0x1)return-0x1;return _0x11d009-_0x432d3f;});const _0x496a0d={};await Promise[_0xf4fb28(0x277)](_0x288be6[_0xf4fb28(0x9f0)](async _0x3f041f=>{const _0x49fce=_0xf4fb28,_0x17b366=query(collection(db,_0x49fce(0x31f)+appId+'/public/data/quizzes'),where(_0x49fce(0x59c),'==',_0x3f041f['id'])),_0x58a6d9=await getDocs(_0x17b366);_0x496a0d[_0x3f041f['id']]=_0x58a6d9[_0x49fce(0x590)];}));const _0x55b533=document[_0xf4fb28(0x4d6)]('project-list');let _0x1742ef='';if(_0x32bce===_0xf4fb28(0xa46)){_0x55b533[_0xf4fb28(0x26e)]=_0xf4fb28(0x5bb);if(starredQuizzes['length']>0x0&&_0x17bb2a===''){const _0x18ec0e=starredQuizzes['map'](_0x4b1ce8=>{const _0x4307bd=_0xf4fb28,_0x3de5df=allProjects['find'](_0xdb3c18=>_0xdb3c18['id']===_0x4b1ce8[_0x4307bd(0x59c)]);return{..._0x4b1ce8,'projectName':_0x3de5df?_0x3de5df[_0x4307bd(0x508)]:_0x4307bd(0x417)};});_0x1742ef+=_0xf4fb28(0x34f)+_0x18ec0e['map'](_0x4a41e2=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x4a41e2[_0xf4fb28(0x836)]+'\x22>'+_0x4a41e2['topic']+_0xf4fb28(0x616)+_0x4a41e2[_0xf4fb28(0x508)]+_0xf4fb28(0x20f)+_0x4a41e2[_0xf4fb28(0x508)]+_0xf4fb28(0x356))[_0xf4fb28(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes['length']+_0xf4fb28(0x9dc);}_0x288be6[_0xf4fb28(0x220)](_0x344a3b=>{const _0x3c02da=_0xf4fb28,_0x5120f8=_0x496a0d[_0x344a3b['id']]??0x0,_0x37b01a=_0xf4e682[_0x3c02da(0xa16)](_0x344a3b['id']),_0x34086b=_0x344a3b[_0x3c02da(0x441)]||'#FFFFFF',_0x26c367=parseInt(_0x34086b[_0x3c02da(0x375)](0x1,0x3),0x10)*0.299+parseInt(_0x34086b['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x34086b['substring'](0x5,0x7),0x10)*0.114<0xba,_0x45de7e=_0x26c367?_0x3c02da(0x6f8):_0x3c02da(0x762),_0x3dcd69=_0x26c367?_0x3c02da(0x97b):_0x3c02da(0x675);_0x1742ef+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x37b01a?_0x3c02da(0x37c):'border-gray-200')+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x34086b+_0x3c02da(0x87e)+_0x344a3b['id']+_0x3c02da(0x8b9)+_0x344a3b['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x26c367?_0x3c02da(0x5e1):_0x3c02da(0x9cb))+_0x3c02da(0x373)+_0x344a3b['id']+_0x3c02da(0x742)+(_0x26c367?_0x3c02da(0x5e1):_0x3c02da(0x9cb))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x37b01a?_0x26c367?_0x3c02da(0x5f5):_0x3c02da(0xa1e):'')+_0x3c02da(0xa38)+_0x344a3b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x45de7e+_0x3c02da(0x5e7)+_0x344a3b['projectName']+_0x3c02da(0x233)+_0x3dcd69+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x344a3b[_0x3c02da(0xa4f)])[_0x3c02da(0x4c5)](_0x3c02da(0x6ca))+_0x3c02da(0x9fc)+(_0x26c367?_0x3c02da(0x4fb):'text-gray-700')+_0x3c02da(0x158)+_0x5120f8+_0x3c02da(0x166)+_0x344a3b['id']+_0x3c02da(0x61b)+_0x344a3b[_0x3c02da(0x508)]+_0x3c02da(0x3b2)+(_0x26c367?_0x3c02da(0x28f):_0x3c02da(0x889))+_0x3c02da(0x9c2);});}else _0x55b533['className']='flex\x20flex-col\x20gap-2',starredQuizzes[_0xf4fb28(0x3e1)]>0x0&&_0x17bb2a===''&&(_0x1742ef+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0xf4fb28(0x3e1)]+_0xf4fb28(0x70f)),_0x1742ef+=_0xf4fb28(0x2c5),_0x288be6[_0xf4fb28(0x220)](_0x162f10=>{const _0x589d5c=_0xf4fb28,_0x233f2e=_0x496a0d[_0x162f10['id']]??0x0,_0x152698=_0xf4e682[_0x589d5c(0xa16)](_0x162f10['id']);_0x1742ef+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x162f10[_0x589d5c(0x441)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x162f10['id']+_0x589d5c(0x8be)+_0x162f10[_0x589d5c(0x508)]+_0x589d5c(0x770)+_0x233f2e+_0x589d5c(0x1f9)+new Date(_0x162f10[_0x589d5c(0xa4f)])[_0x589d5c(0x861)](_0x589d5c(0x6ca))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x162f10['id']+_0x589d5c(0x5f0)+(_0x152698?_0x589d5c(0xa1e):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x162f10['id']+_0x589d5c(0x61b)+_0x162f10[_0x589d5c(0x508)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList['innerHTML']=_0x1742ef,noProjectsMsg[_0xf4fb28(0x21b)]['toggle'](_0xf4fb28(0x88c),_0x1742ef['length']>0x0);}document['getElementById'](_0x3fa4d9(0x2ba))[_0x3fa4d9(0x795)](_0x3fa4d9(0x96d),async()=>{const _0x4b8e99=_0x3fa4d9,_0x46b0d8=document['getElementById']('project-name-input'),_0x3cee5b=_0x46b0d8[_0x4b8e99(0xa87)][_0x4b8e99(0x56f)]();if(!_0x3cee5b){showMessage(_0x4b8e99(0x48d));return;}try{const _0x203c0c=doc(collection(db,_0x4b8e99(0x31f)+appId+_0x4b8e99(0x4e0)));await setDoc(_0x203c0c,{'projectName':_0x3cee5b,'students':[],'settings':{'resultsDisplay':_0x4b8e99(0x70b),'shuffleSetting':_0x4b8e99(0x4c3),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4b8e99(0x4c3),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4b8e99(0x3c3)]()}),_0x46b0d8[_0x4b8e99(0xa87)]='',createProjectModal['classList'][_0x4b8e99(0x214)](_0x4b8e99(0x88c)),showMessage(_0x4b8e99(0x701));}catch(_0x31419a){console[_0x4b8e99(0x1d8)]('Error\x20creating\x20project:',_0x31419a),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x3fa4d9(0x96d),async _0x43f298=>{const _0x44fbf1=_0x3fa4d9,_0x537504=_0x43f298[_0x44fbf1(0x736)][_0x44fbf1(0x305)](_0x44fbf1(0x69e)),_0x307672=_0x43f298[_0x44fbf1(0x736)]['closest'](_0x44fbf1(0x242)),_0x415470=_0x43f298[_0x44fbf1(0x736)][_0x44fbf1(0x305)](_0x44fbf1(0x443)),_0x150f78=_0x43f298[_0x44fbf1(0x736)][_0x44fbf1(0x305)](_0x44fbf1(0x2b1));if(_0x415470){const _0x59fdbb=_0x415470[_0x44fbf1(0x5f3)]['id'],_0x1bddb0=doc(db,_0x44fbf1(0x39c),_0x44fbf1(0x4f1)),_0x1b86ad=globalDashboardSettings[_0x44fbf1(0x2a6)];let _0x2fbb7d;_0x1b86ad[_0x44fbf1(0x8f0)](_0x59fdbb)?_0x2fbb7d=_0x1b86ad['filter'](_0x28cf05=>_0x28cf05!==_0x59fdbb):_0x2fbb7d=[..._0x1b86ad,_0x59fdbb];try{await setDoc(_0x1bddb0,{'pinnedProjects':_0x2fbb7d},{'merge':!![]});}catch(_0x4913eb){console['error'](_0x44fbf1(0x4a6),_0x4913eb),showMessage(_0x44fbf1(0x6e5));}}else{if(_0x150f78){const _0x3789aa=_0x150f78[_0x44fbf1(0x5f3)]['id'];showColorPalette(_0x150f78,_0x3789aa);}else{if(_0x537504){const _0x36782a=_0x537504[_0x44fbf1(0x5f3)]['id'];_0x36782a===_0x44fbf1(0x474)?showStarredProjectView():(currentProjectId=_0x36782a,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x307672){const _0x49aa7a=_0x307672[_0x44fbf1(0x5f3)]['id'],_0x575f26=_0x307672['dataset']['name'];showConfirmation(_0x44fbf1(0x1d9)+_0x575f26+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x49aa7a));}}}}}),projectList[_0x3fa4d9(0x795)](_0x3fa4d9(0x873),_0x390ad8=>{const _0x33fcbf=_0x3fa4d9,_0x3635b8=_0x390ad8[_0x33fcbf(0x736)][_0x33fcbf(0x305)](_0x33fcbf(0x608));_0x3635b8&&_0x3635b8[_0x33fcbf(0x21b)][_0x33fcbf(0x214)]('opacity-50');}),projectList[_0x3fa4d9(0x795)]('dragend',_0x4ef9bd=>{const _0x4235b7=_0x3fa4d9,_0x28567e=_0x4ef9bd[_0x4235b7(0x736)][_0x4235b7(0x305)](_0x4235b7(0x608));_0x28567e&&_0x28567e[_0x4235b7(0x21b)][_0x4235b7(0x621)](_0x4235b7(0xa86));}),projectList[_0x3fa4d9(0x795)](_0x3fa4d9(0x2c7),_0x46fc9c=>{const _0xd3a3f7=_0x3fa4d9;_0x46fc9c[_0xd3a3f7(0x261)]();const _0x13a007=document[_0xd3a3f7(0x8c1)](_0xd3a3f7(0x821));if(!_0x13a007)return;const _0x4acd23=getDragAfterElement(projectList,_0x46fc9c[_0xd3a3f7(0x725)]);_0x4acd23==null?projectList[_0xd3a3f7(0x541)](_0x13a007):projectList[_0xd3a3f7(0x3bf)](_0x13a007,_0x4acd23);}),projectList[_0x3fa4d9(0x795)](_0x3fa4d9(0x40f),_0xe12ff7=>{const _0x39b2bb=_0x3fa4d9;_0xe12ff7['preventDefault']();const _0x2d98dc=[...projectList[_0x39b2bb(0x76c)](_0x39b2bb(0x9d3))][_0x39b2bb(0x9f0)](_0x5f1ca3=>_0x5f1ca3['dataset']['id']);saveProjectOrder(_0x2d98dc);});function renderBehaviorLog(_0xac0545){const _0x53ccd1=_0x3fa4d9,_0x189dcf=document[_0x53ccd1(0x4d6)](_0x53ccd1(0x487));if(!_0x189dcf)return;const _0x147eab=_0xac0545[_0x53ccd1(0x853)](_0x4e4c2a=>_0x4e4c2a[_0x53ccd1(0x20b)]&&_0x4e4c2a[_0x53ccd1(0x20b)]['length']>0x0);if(_0x147eab[_0x53ccd1(0x3e1)]===0x0){_0x189dcf['innerHTML']=_0x53ccd1(0xa13);return;}let _0x10631c='';_0x147eab[_0x53ccd1(0x220)](_0x198fa9=>{const _0x52a633=_0x53ccd1;_0x10631c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x198fa9['studentName']+_0x52a633(0xa36),_0x198fa9[_0x52a633(0x20b)][_0x52a633(0x171)]((_0x175c9e,_0x5774ac)=>new Date(_0x5774ac['timestamp'])-new Date(_0x175c9e[_0x52a633(0x3dd)]))[_0x52a633(0x220)](_0x5a8e72=>{const _0x225f9d=_0x52a633,_0x2f9638=new Date(_0x5a8e72[_0x225f9d(0x3dd)])[_0x225f9d(0x861)](_0x225f9d(0x6ca),{'dateStyle':_0x225f9d(0x63f),'timeStyle':_0x225f9d(0x62e)});_0x10631c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x5a8e72[_0x225f9d(0x569)]+_0x225f9d(0x5b3)+_0x2f9638+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x10631c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x189dcf[_0x53ccd1(0xa8d)]=_0x10631c;}function getDragAfterElement(_0x394854,_0x205b39){const _0x1a705b=_0x3fa4d9,_0x3f61d6=[..._0x394854['querySelectorAll'](_0x1a705b(0x6bb))];return _0x3f61d6[_0x1a705b(0x842)]((_0x471d1b,_0x4f909e)=>{const _0x1753aa=_0x1a705b,_0x47a64c=_0x4f909e[_0x1753aa(0x55e)](),_0x5bd545=_0x205b39-_0x47a64c['top']-_0x47a64c[_0x1753aa(0xa44)]/0x2;return _0x5bd545<0x0&&_0x5bd545>_0x471d1b[_0x1753aa(0x9c0)]?{'offset':_0x5bd545,'element':_0x4f909e}:_0x471d1b;},{'offset':Number[_0x1a705b(0x903)]})[_0x1a705b(0xa2c)];}async function saveProjectOrder(_0x38a619){const _0x538bce=_0x3fa4d9,_0x2e3142=doc(db,_0x538bce(0x39c),_0x538bce(0x4f1));try{await setDoc(_0x2e3142,{'projectOrder':_0x38a619},{'merge':!![]});}catch(_0x55dd53){console[_0x538bce(0x1d8)]('Error\x20saving\x20project\x20order:',_0x55dd53),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x1c8f37,_0x3839f0={}){const _0x1858ea=_0x3fa4d9;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1858ea(0x29f)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x4012b2=doc(db,_0x1858ea(0x31f)+appId+_0x1858ea(0x7dd)+currentQuizData['id']+_0x1858ea(0x922),currentStudentName),_0x6c1caa={'event':_0x1c8f37,'timestamp':new Date()[_0x1858ea(0x3c3)](),..._0x3839f0};try{await updateDoc(_0x4012b2,{'behaviorLog':arrayUnion(_0x6c1caa)}),console[_0x1858ea(0x3c2)](_0x1858ea(0x379)+currentStudentName+'\x20สำเร็จ');}catch(_0x59d516){_0x59d516[_0x1858ea(0x8f4)]===_0x1858ea(0x7cb)?console['warn'](_0x1858ea(0x53c)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x1858ea(0x1d8)](_0x1858ea(0x6f0),_0x59d516);}}function calculateMeanAndStdDev(_0x5e0268){const _0x371c73=_0x3fa4d9;if(_0x5e0268['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x304085=_0x5e0268['reduce']((_0x94f0ab,_0x330911)=>_0x94f0ab+_0x330911,0x0)/_0x5e0268['length'];if(_0x5e0268[_0x371c73(0x3e1)]===0x1)return{'mean':_0x304085,'stdDev':0x0};const _0x45ceda=Math[_0x371c73(0x70a)](_0x5e0268[_0x371c73(0x9f0)](_0x2904a5=>Math[_0x371c73(0x881)](_0x2904a5-_0x304085,0x2))['reduce']((_0x3e45e3,_0x3698c5)=>_0x3e45e3+_0x3698c5,0x0)/(_0x5e0268[_0x371c73(0x3e1)]-0x1));return{'mean':_0x304085,'stdDev':_0x45ceda};}function calculateZScore(_0x2dcb1a,_0x370a46,_0x3debde){if(_0x3debde===0x0)return 0x0;return(_0x2dcb1a-_0x370a46)/_0x3debde;}function calculateTScore(_0x660707){return 0xa*_0x660707+0x32;}function showStarredProjectView(){const _0x3dcfe2=_0x3fa4d9;currentProjectId=_0x3dcfe2(0x157),currentProjectData=null,projectTitle[_0x3dcfe2(0x5b9)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x3dcfe2(0x5b9)]=_0x3dcfe2(0x50c),showView(_0x3dcfe2(0x364)),manageTab['classList'][_0x3dcfe2(0x214)](_0x3dcfe2(0x88c)),leaderboardTab[_0x3dcfe2(0x21b)][_0x3dcfe2(0x214)](_0x3dcfe2(0x88c)),switchProjectTab(_0x3dcfe2(0x5c9)),renderQuizzes();}async function loadProjectDetails(_0xa3a657){const _0x29bdc4=_0x3fa4d9,_0x8dfff8=doc(db,_0x29bdc4(0x31f)+appId+'/public/data/projects',_0xa3a657),_0x199198=await getDoc(_0x8dfff8);if(_0x199198[_0x29bdc4(0x77c)]()){manageTab[_0x29bdc4(0x21b)][_0x29bdc4(0x621)](_0x29bdc4(0x88c)),leaderboardTab[_0x29bdc4(0x21b)][_0x29bdc4(0x621)](_0x29bdc4(0x88c)),currentProjectData=_0x199198[_0x29bdc4(0x342)](),projectTitle['textContent']=currentProjectData[_0x29bdc4(0x508)],projectIdDisplay[_0x29bdc4(0x5b9)]=_0xa3a657;const _0x556408=currentProjectData['settings']||{};document['getElementById'](_0x29bdc4(0x53d))[_0x29bdc4(0xa87)]=_0x556408[_0x29bdc4(0x31d)]||_0x29bdc4(0x4c3);const _0x46b842=document[_0x29bdc4(0x4d6)](_0x29bdc4(0x59f));_0x46b842['checked']=_0x556408['showInStudentDashboard']!==![];const _0x148464=document[_0x29bdc4(0x4d6)](_0x29bdc4(0x382)),_0x5e051e=document['getElementById'](_0x29bdc4(0x1ed)),_0xe36b8=document[_0x29bdc4(0x4d6)]('project-passcode-input'),_0x1fb224=_0x556408[_0x29bdc4(0x4a4)]||![];_0x148464[_0x29bdc4(0x5d4)]=_0x1fb224,_0xe36b8[_0x29bdc4(0xa87)]=_0x556408[_0x29bdc4(0x1f4)]||'',_0x5e051e[_0x29bdc4(0x21b)][_0x29bdc4(0x8d1)](_0x29bdc4(0x88c),!_0x1fb224),_0x148464['onchange']=()=>{const _0x2083a6=_0x29bdc4;_0x5e051e[_0x2083a6(0x21b)]['toggle'](_0x2083a6(0x88c),!_0x148464[_0x2083a6(0x5d4)]);},document[_0x29bdc4(0x4d6)](_0x29bdc4(0x463))[_0x29bdc4(0x5d4)]=_0x556408[_0x29bdc4(0xa73)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0xa3a657),listenForProjectQuizzes(_0xa3a657),listenForStudentProfiles(_0xa3a657);}else showMessage(_0x29bdc4(0x18b)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0xdd9fa0=_0x3fa4d9,_0x2eb657=doc(db,_0xdd9fa0(0x39c),_0xdd9fa0(0x4f1));try{await setDoc(_0x2eb657,{'projectOrder':[]},{'merge':!![]}),showMessage(_0xdd9fa0(0xa56));}catch(_0x3f27d5){console[_0xdd9fa0(0x1d8)](_0xdd9fa0(0x72d),_0x3f27d5),showMessage(_0xdd9fa0(0x255));}}async function handleTogglePinProject(_0x508b06){const _0x3111a0=_0x3fa4d9;if(!_0x508b06)return;const _0x57bcd4=doc(db,'artifacts/'+appId+'/public/data/projects',_0x508b06);try{const _0xd681d6=await getDoc(_0x57bcd4);if(_0xd681d6[_0x3111a0(0x77c)]()){const _0xc57ad9=_0xd681d6[_0x3111a0(0x342)]()[_0x3111a0(0x850)]||![];await updateDoc(_0x57bcd4,{'isPinned':!_0xc57ad9});}}catch(_0x25fe4d){console[_0x3111a0(0x1d8)](_0x3111a0(0xa7c),_0x25fe4d),showMessage(_0x3111a0(0x6e5));}}async function handleDeleteProject(_0x51a2fe){const _0x2c38d7=_0x3fa4d9;try{const _0x45ee0f=writeBatch(db),_0x26c626=collection(db,'artifacts/'+appId+_0x2c38d7(0x8ca)),_0x35601=query(_0x26c626,where(_0x2c38d7(0x59c),'==',_0x51a2fe)),_0xb43e27=await getDocs(_0x35601);for(const _0x4a0028 of _0xb43e27[_0x2c38d7(0x7ed)]){const _0x5713d7=collection(db,_0x2c38d7(0x31f)+appId+_0x2c38d7(0x7dd)+_0x4a0028['id']+_0x2c38d7(0x922)),_0x43f916=await getDocs(_0x5713d7);_0x43f916[_0x2c38d7(0x220)](_0xcd363b=>{const _0x2900e1=_0x2c38d7;_0x45ee0f[_0x2900e1(0x32d)](_0xcd363b[_0x2900e1(0x428)]);}),_0x45ee0f[_0x2c38d7(0x32d)](_0x4a0028[_0x2c38d7(0x428)]);}const _0x49bbb3=collection(db,_0x2c38d7(0x31f)+appId+_0x2c38d7(0x642)+_0x51a2fe+_0x2c38d7(0x29b)),_0x3056fa=await getDocs(_0x49bbb3);_0x3056fa['forEach'](_0x1a6e46=>{_0x45ee0f['delete'](_0x1a6e46['ref']);});const _0x2c26c2=doc(db,_0x2c38d7(0x31f)+appId+_0x2c38d7(0x4e0),_0x51a2fe);_0x45ee0f[_0x2c38d7(0x32d)](_0x2c26c2),await _0x45ee0f['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x2c38d7(0x478));}catch(_0x30a63b){console['error'](_0x2c38d7(0x398),_0x30a63b),showMessage(_0x2c38d7(0x482));}}document['getElementById'](_0x3fa4d9(0xa68))[_0x3fa4d9(0x795)](_0x3fa4d9(0x96d),async()=>{const _0x40d91c=_0x3fa4d9;if(!currentProjectId)return;const _0x4c364e={'defaultNumQuestions':parseInt(document[_0x40d91c(0x4d6)]('num-questions')[_0x40d91c(0xa87)]),'defaultNumChoices':parseInt(document[_0x40d91c(0x4d6)](_0x40d91c(0x164))[_0x40d91c(0xa87)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')['value']),'resultsDisplay':document['getElementById'](_0x40d91c(0xa05))[_0x40d91c(0xa87)],'shuffleSetting':document[_0x40d91c(0x4d6)](_0x40d91c(0x53d))[_0x40d91c(0xa87)],'timerMode':document['getElementById'](_0x40d91c(0x333))['value'],'timerDuration':parseInt(document[_0x40d91c(0x4d6)](_0x40d91c(0x8f7))[_0x40d91c(0xa87)]),'isConfidenceScoringEnabled':document['getElementById'](_0x40d91c(0x463))['checked'],'confidenceMode':document[_0x40d91c(0x4d6)](_0x40d91c(0x5bc))[_0x40d91c(0xa87)]};try{const _0x5e8625=doc(db,_0x40d91c(0x31f)+appId+_0x40d91c(0x4e0),currentProjectId);await updateDoc(_0x5e8625,{'settings':_0x4c364e}),showMessage(_0x40d91c(0x44c));}catch(_0x4b2911){console[_0x40d91c(0x1d8)](_0x40d91c(0x942),_0x4b2911),showMessage(_0x40d91c(0x390));}});function listenForStudents(_0x2bd1f0){const _0x5a540f=doc(db,'artifacts/'+appId+'/public/data/projects',_0x2bd1f0);unsubscribeStudentsListener=onSnapshot(_0x5a540f,_0x24c9ec=>{const _0x377dbb=_0x5982;if(_0x24c9ec[_0x377dbb(0x77c)]()){const _0x256ca8=_0x24c9ec[_0x377dbb(0x342)]();currentProjectData=_0x256ca8,renderStudentList(_0x256ca8['students']||[]);}});}function renderStudentList(_0x179ae7){const _0x52a574=_0x3fa4d9,_0x575672=document[_0x52a574(0x4d6)](_0x52a574(0x902));_0x179ae7['length']===0x0?(studentList[_0x52a574(0xa8d)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x575672[_0x52a574(0x21b)][_0x52a574(0x214)](_0x52a574(0x88c))):(studentList['innerHTML']=_0x179ae7[_0x52a574(0x9f0)](_0x4fd75d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4fd75d+_0x52a574(0x27a)+_0x4fd75d+_0x52a574(0x5fd))[_0x52a574(0x3d6)](''),_0x575672[_0x52a574(0x21b)][_0x52a574(0x621)](_0x52a574(0x88c)));}document['getElementById'](_0x3fa4d9(0x420))[_0x3fa4d9(0x795)](_0x3fa4d9(0x96d),async()=>{const _0x232a61=_0x3fa4d9;if(!currentProjectId)return;const _0x3b849f=document['getElementById'](_0x232a61(0xa7f)),_0xbfbebb=_0x3b849f[_0x232a61(0xa87)][_0x232a61(0x56f)]();if(!_0xbfbebb){showMessage(_0x232a61(0x98d));return;}const _0x9c89a4=_0xbfbebb[_0x232a61(0x5bf)]('\x0a')[_0x232a61(0x9f0)](_0x165c8b=>_0x165c8b[_0x232a61(0x56f)]())[_0x232a61(0x853)](_0x37c2cc=>_0x37c2cc);if(_0x9c89a4[_0x232a61(0x3e1)]===0x0)return;try{const _0xe3cdc7=doc(db,_0x232a61(0x31f)+appId+_0x232a61(0x4e0),currentProjectId),_0xd05fae=await getDoc(_0xe3cdc7);if(_0xd05fae[_0x232a61(0x77c)]()){const _0x5c628d=_0xd05fae[_0x232a61(0x342)]()[_0x232a61(0x5ff)]||[],_0x4b785d=[...new Set([..._0x5c628d,..._0x9c89a4])];await updateDoc(_0xe3cdc7,{'students':_0x4b785d}),_0x3b849f['value']='';}}catch(_0x4896d2){console[_0x232a61(0x1d8)](_0x232a61(0x9e7),_0x4896d2),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x482d5f){const _0x4af2b9=_0x3fa4d9,_0x394ffb=document['getElementById'](_0x4af2b9(0x82f)),_0xd20b1e=document[_0x4af2b9(0x4d6)](_0x4af2b9(0x16a)),_0x5cccc8=_0x394ffb[_0x4af2b9(0x8c1)]('h3'),_0x320952=document[_0x4af2b9(0x4d6)]('confirm-move-quiz-btn'),_0x38f948=document[_0x4af2b9(0x4d6)](_0x4af2b9(0x52e));_0x5cccc8[_0x4af2b9(0x5b9)]='จับคู่เพื่อเปรียบเทียบผล',_0xd20b1e['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x320952[_0x4af2b9(0x5b9)]=_0x4af2b9(0x3b3),_0x394ffb['classList']['remove'](_0x4af2b9(0x88c));const _0xd514fe=allQuizzes[_0x4af2b9(0x853)](_0xfa561f=>_0xfa561f['id']!==_0x482d5f);_0xd514fe['length']===0x0?(_0xd20b1e[_0x4af2b9(0xa8d)]=_0x4af2b9(0x925),_0x320952[_0x4af2b9(0x907)]=!![]):(_0xd20b1e['innerHTML']=_0x4af2b9(0x224)+_0xd514fe[_0x4af2b9(0x9f0)](_0xa56b8d=>_0x4af2b9(0x838)+_0xa56b8d['id']+'\x22>'+_0xa56b8d[_0x4af2b9(0x836)]+_0x4af2b9(0x834))['join'](''),_0x320952['disabled']=![]);const _0xbfef3=async()=>{const _0x27487a=_0x4af2b9,_0x3fa76b=_0xd20b1e['value'];if(!_0x3fa76b){showMessage(_0x27487a(0xa8f));return;}_0x320952[_0x27487a(0x907)]=!![],_0x320952[_0x27487a(0x5b9)]=_0x27487a(0x8e8);try{const _0x567cb8=doc(db,_0x27487a(0x31f)+appId+'/public/data/quizzes',_0x482d5f),_0x3d22e7=doc(db,_0x27487a(0x31f)+appId+_0x27487a(0x8ca),_0x3fa76b),_0x2b8a4c=writeBatch(db);_0x2b8a4c[_0x27487a(0x897)](_0x567cb8,{'pairedQuizId':_0x3fa76b}),_0x2b8a4c[_0x27487a(0x897)](_0x3d22e7,{'pairedQuizId':_0x482d5f}),await _0x2b8a4c['commit'](),showMessage(_0x27487a(0x90c)),_0x394ffb[_0x27487a(0x21b)][_0x27487a(0x214)](_0x27487a(0x88c));}catch(_0x252463){console['error'](_0x27487a(0x6de),_0x252463),showMessage(_0x27487a(0x2e2));}finally{_0x5cccc8[_0x27487a(0x5b9)]=_0x27487a(0xa63),_0x320952[_0x27487a(0x5b9)]='ย้าย',_0x320952[_0x27487a(0x907)]=![],_0x320952['removeEventListener']('click',_0xbfef3),_0x38f948['removeEventListener'](_0x27487a(0x96d),_0x11a6ee);}},_0x11a6ee=()=>{const _0x54636b=_0x4af2b9;_0x394ffb['classList'][_0x54636b(0x214)](_0x54636b(0x88c)),_0x5cccc8[_0x54636b(0x5b9)]=_0x54636b(0xa63),_0x320952['textContent']=_0x54636b(0x5a5),_0x320952['removeEventListener'](_0x54636b(0x96d),_0xbfef3),_0x38f948['removeEventListener'](_0x54636b(0x96d),_0x11a6ee);};_0x320952[_0x4af2b9(0x795)](_0x4af2b9(0x96d),_0xbfef3),_0x38f948[_0x4af2b9(0x795)](_0x4af2b9(0x96d),_0x11a6ee);}function handleDeleteStudent(_0x3c63bc){const _0xf1d3cc=_0x3fa4d9;showConfirmation(_0xf1d3cc(0x58f)+_0x3c63bc+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x2f4670=_0xf1d3cc;if(!currentProjectId||!currentProjectData)return;const _0x439a23=currentProjectData[_0x2f4670(0x5ff)]['filter'](_0x568f51=>_0x568f51!==_0x3c63bc);try{const _0x13664a=doc(db,_0x2f4670(0x31f)+appId+'/public/data/projects',currentProjectId),_0x23cdc9=doc(db,_0x2f4670(0x31f)+appId+_0x2f4670(0x642)+currentProjectId+_0x2f4670(0x29b),_0x3c63bc),_0xcbf7aa=writeBatch(db);_0xcbf7aa[_0x2f4670(0x897)](_0x13664a,{'students':_0x439a23}),_0xcbf7aa[_0x2f4670(0x32d)](_0x23cdc9),await _0xcbf7aa[_0x2f4670(0x4ef)]();}catch(_0xb6d892){console[_0x2f4670(0x1d8)](_0x2f4670(0x674),_0xb6d892),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x5187d6=_0x3fa4d9;showConfirmation(_0x5187d6(0xa3a),async()=>{const _0x16ce33=_0x5187d6;if(!currentProjectId)return;try{const _0x3e0952=doc(db,_0x16ce33(0x31f)+appId+_0x16ce33(0x4e0),currentProjectId),_0x1f53bf=collection(db,_0x16ce33(0x31f)+appId+_0x16ce33(0x642)+currentProjectId+_0x16ce33(0x29b)),_0x493d27=await getDocs(_0x1f53bf),_0x507154=writeBatch(db);_0x507154['update'](_0x3e0952,{'students':[]}),_0x493d27[_0x16ce33(0x220)](_0x1dbb64=>_0x507154[_0x16ce33(0x32d)](_0x1dbb64[_0x16ce33(0x428)])),await _0x507154[_0x16ce33(0x4ef)]();}catch(_0x593da6){console[_0x16ce33(0x1d8)](_0x16ce33(0x350),_0x593da6),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x56e74c=_0x3fa4d9;if(!selectedFile){showMessage(_0x56e74c(0x871));return;}const _0x37a84a=document[_0x56e74c(0x4d6)](_0x56e74c(0x469)),_0x6cad82=document['getElementById'](_0x56e74c(0x265)),_0x3158f0=document[_0x56e74c(0x4d6)](_0x56e74c(0x7e1)),_0x262930=document[_0x56e74c(0x4d6)]('generate-from-file-btn');_0x262930[_0x56e74c(0x907)]=!![],document[_0x56e74c(0x4d6)]('quiz-generation-area')[_0x56e74c(0x21b)]['remove'](_0x56e74c(0x88c)),_0x3158f0[_0x56e74c(0xa8d)]='',_0x37a84a['classList']['remove']('hidden'),_0x6cad82[_0x56e74c(0x5b9)]=_0x56e74c(0x173);const _0x10d46e=new FileReader();_0x10d46e['readAsDataURL'](selectedFile),_0x10d46e[_0x56e74c(0x64b)]=async()=>{const _0x25f913=_0x56e74c;try{const _0x5f33f4=_0x10d46e[_0x25f913(0x994)]['split'](',')[0x1],_0x3a46e9=selectedFile[_0x25f913(0x4da)];await generateQuizFromFile(_0x3a46e9,_0x5f33f4);}catch(_0x44375f){console[_0x25f913(0x1d8)](_0x25f913(0x5e2),_0x44375f),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x44375f[_0x25f913(0x936)]),_0x37a84a['classList'][_0x25f913(0x214)](_0x25f913(0x88c));}finally{}},_0x10d46e[_0x56e74c(0x686)]=_0x1cb4a5=>{const _0x4278be=_0x56e74c;console[_0x4278be(0x1d8)](_0x4278be(0x1af),_0x1cb4a5),showMessage(_0x4278be(0x92d)),_0x37a84a[_0x4278be(0x21b)]['add'](_0x4278be(0x88c)),_0x262930['disabled']=![];};}function autoFormatMath(_0x1af72f){const _0x5b1576=_0x3fa4d9;if(typeof _0x1af72f!==_0x5b1576(0x217)||!_0x1af72f)return _0x1af72f;const _0x13f9b6=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3f187b=_0x1af72f[_0x5b1576(0x159)](_0x13f9b6,_0xb91cf4=>{const _0x4d30b6=_0x5b1576;return'$'+_0xb91cf4[_0x4d30b6(0x56f)]()+'$';});return _0x3f187b;}function sanitizeQuizData(_0x35dec6){const _0x56fa8a=_0x3fa4d9;if(!_0x35dec6||!_0x35dec6['questions'])return _0x35dec6;const _0x34ccca={'imes':'\x5ctimes','div':_0x56fa8a(0x74a)},_0x228aa4=_0x363da0=>{const _0x4d423f=_0x56fa8a;if(typeof _0x363da0!==_0x4d423f(0x217))return _0x363da0;let _0x15ee9d=_0x363da0;for(const [_0x40e7f0,_0x2fe58b]of Object['entries'](_0x34ccca)){const _0x151de0=new RegExp('\x5cb'+_0x40e7f0+'\x5cb','g');_0x15ee9d=_0x15ee9d['replace'](_0x151de0,_0x2fe58b);}return _0x15ee9d=_0x15ee9d[_0x4d423f(0x159)](/\\\//g,'\x5cdiv'),_0x15ee9d=_0x15ee9d[_0x4d423f(0x159)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4d423f(0x74a))[_0x4d423f(0x159)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4d423f(0x837))[_0x4d423f(0x159)](/÷/g,'\x5cdiv')[_0x4d423f(0x159)](/×/g,_0x4d423f(0x837)),_0x15ee9d=_0x15ee9d[_0x4d423f(0x159)](/(\d)(\\frac)/g,_0x4d423f(0x2bf)),_0x15ee9d=autoFormatMath(_0x15ee9d),_0x15ee9d;};return _0x35dec6[_0x56fa8a(0x836)]&&(_0x35dec6['topic']=_0x228aa4(_0x35dec6[_0x56fa8a(0x836)])),_0x35dec6[_0x56fa8a(0x299)]['forEach'](_0x20f025=>{const _0x2facd9=_0x56fa8a;_0x20f025[_0x2facd9(0x490)]=_0x228aa4(_0x20f025[_0x2facd9(0x490)]),_0x20f025[_0x2facd9(0x35a)]&&(_0x20f025[_0x2facd9(0x35a)]=_0x20f025['options'][_0x2facd9(0x9f0)](_0x228aa4)),_0x20f025[_0x2facd9(0x3a3)]&&(_0x20f025[_0x2facd9(0x3a3)]=_0x228aa4(_0x20f025[_0x2facd9(0x3a3)])),_0x20f025['stem']&&(_0x20f025[_0x2facd9(0x785)]=_0x228aa4(_0x20f025['stem'])),_0x20f025[_0x2facd9(0xa97)]&&(_0x20f025[_0x2facd9(0xa97)]=_0x228aa4(_0x20f025[_0x2facd9(0xa97)])),_0x20f025[_0x2facd9(0x3df)]&&(_0x20f025[_0x2facd9(0x3df)]=_0x20f025[_0x2facd9(0x3df)]['map'](_0x228aa4));}),_0x35dec6;}const simpleMathPrompt=_0x3fa4d9(0x15a);async function handleGenerateFromLink(){const _0x3b988d=_0x3fa4d9,_0x3dae7b=document[_0x3b988d(0x4d6)](_0x3b988d(0x4b8)),_0x24e84e=document[_0x3b988d(0x4d6)](_0x3b988d(0x339)),_0x2c09b8=_0x3dae7b['value'][_0x3b988d(0x56f)](),_0x21baac=_0x24e84e[_0x3b988d(0xa87)][_0x3b988d(0x56f)]();if(!_0x2c09b8){showMessage(_0x3b988d(0x1ba));return;}const _0xdd9a2f=document[_0x3b988d(0x4d6)](_0x3b988d(0x469)),_0x3782a6=document[_0x3b988d(0x4d6)]('loader-text'),_0x155657=document[_0x3b988d(0x4d6)](_0x3b988d(0x7e1)),_0xb870af=document[_0x3b988d(0x4d6)](_0x3b988d(0x2b3));document[_0x3b988d(0x4d6)](_0x3b988d(0x8bc))[_0x3b988d(0x21b)][_0x3b988d(0x621)](_0x3b988d(0x88c)),_0x155657[_0x3b988d(0xa8d)]='',_0xdd9a2f[_0x3b988d(0x21b)][_0x3b988d(0x621)]('hidden'),_0x3782a6[_0x3b988d(0x5b9)]=_0x3b988d(0xa6c),_0xb870af[_0x3b988d(0x907)]=!![];try{const _0x384740=_0x3b988d(0x8cb)+encodeURIComponent(_0x2c09b8),_0x4f8071=await fetch(_0x384740);if(!_0x4f8071['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x4f8071['status']+')');const _0x53ab83=await _0x4f8071['text'](),_0x50a039=extractTextFromHtml(_0x53ab83);if(!_0x50a039||_0x50a039['length']<0x64)throw new Error(_0x3b988d(0x6f6));await generateQuiz(_0x21baac,_0x50a039);}catch(_0x1c2cb9){console[_0x3b988d(0x1d8)](_0x3b988d(0x5de),_0x1c2cb9),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1c2cb9[_0x3b988d(0x936)]),_0x155657[_0x3b988d(0xa8d)]=_0x3b988d(0xa3d);}finally{_0xdd9a2f[_0x3b988d(0x21b)][_0x3b988d(0x214)](_0x3b988d(0x88c)),_0xb870af[_0x3b988d(0x907)]=![];}}function extractTextFromHtml(_0x6a87f7){const _0x2cd4ce=_0x3fa4d9,_0x265237=new DOMParser()[_0x2cd4ce(0x363)](_0x6a87f7,_0x2cd4ce(0x699));return _0x265237[_0x2cd4ce(0x76c)](_0x2cd4ce(0x52d))[_0x2cd4ce(0x220)](_0x3fe0c4=>_0x3fe0c4[_0x2cd4ce(0x621)]()),_0x265237[_0x2cd4ce(0x4e1)][_0x2cd4ce(0x5b9)]||'';}document['getElementById'](_0x3fa4d9(0x67e))[_0x3fa4d9(0x795)](_0x3fa4d9(0x96d),()=>{const _0x229cfb=_0x3fa4d9,_0x44ee24=document[_0x229cfb(0x4d6)](_0x229cfb(0x2da))['value']['trim']();generateQuiz(_0x44ee24,null);}),document[_0x3fa4d9(0x4d6)](_0x3fa4d9(0x4e7))[_0x3fa4d9(0x795)]('click',()=>{const _0x193012=_0x3fa4d9,_0x7c9fcd=document['getElementById'](_0x193012(0x74c))['value'][_0x193012(0x56f)]();if(!_0x7c9fcd){showMessage(_0x193012(0x8b3));return;}const _0xfee7d2=document[_0x193012(0x4d6)](_0x193012(0x2da))['value'][_0x193012(0x56f)]();generateQuiz(_0xfee7d2,_0x7c9fcd);});async function generateQuiz(_0x2e16b1,_0x354393,_0x44bfad=null){const _0x10efce=_0x3fa4d9,_0x5b212e=document[_0x10efce(0x4d6)](_0x10efce(0x3c6))[_0x10efce(0x5d4)],_0x49feba=document[_0x10efce(0x4d6)](_0x10efce(0x776))[_0x10efce(0xa87)],_0x2bc8dd=document[_0x10efce(0x4d6)](_0x10efce(0x362))[_0x10efce(0xa87)],_0x4ab631=document[_0x10efce(0x4d6)](_0x10efce(0x164))['value'],_0x51ed70=document[_0x10efce(0x4d6)]('force-math-checkbox')[_0x10efce(0x5d4)],_0x5b6dde=_0x51ed70?'':_0x10efce(0x633),_0x3eee17=document[_0x10efce(0x4d6)](_0x10efce(0x347)),_0x36e3b8=_0x3eee17[_0x10efce(0xa87)];let _0x2c8877='';_0x36e3b8!==_0x10efce(0x49f)&&(_0x2c8877='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x36e3b8+'\x22');const _0x32ef97=document[_0x10efce(0x4d6)](_0x10efce(0x966)),_0x24b044=_0x32ef97['value'];let _0x592006='';_0x24b044!==_0x10efce(0x483)&&(_0x592006='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x24b044+_0x10efce(0xa3c));const _0x3adac7=document[_0x10efce(0x76c)]('#math-topics-checkbox-container\x20input:checked'),_0x382ba9=Array[_0x10efce(0x649)](_0x3adac7)[_0x10efce(0x9f0)](_0x3a5906=>_0x3a5906[_0x10efce(0xa87)]);let _0x135f38='';_0x382ba9['length']>0x0&&(_0x135f38='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x382ba9[_0x10efce(0x3d6)](',\x20')+_0x10efce(0x35c));let _0x46dde1='',_0x1e733c='',_0x516080,_0xaa82b0='เกี่ยวกับหัวข้อ\x20\x22'+_0x2e16b1+'\x22';if(!_0x2e16b1&&_0x354393)_0xaa82b0=_0x10efce(0x59e);else!_0x2e16b1&&!_0x354393&&(_0xaa82b0=_0x10efce(0x278));const _0x586ae9={'type':_0x10efce(0x782),'properties':{'questionText':{'type':_0x10efce(0x359)},'options':{'type':_0x10efce(0x2f3),'items':{'type':_0x10efce(0x359)}},'correctAnswerIndex':{'type':_0x10efce(0x88b)},'explanation':{'type':_0x10efce(0x359)},'imageCode':{'type':_0x10efce(0x359)}},'required':[_0x10efce(0x490),_0x10efce(0x35a),'correctAnswerIndex',_0x10efce(0x3a3)]},_0x32b5c5={'type':'OBJECT','properties':{'questionText':{'type':_0x10efce(0x359)},'idealAnswer':{'type':_0x10efce(0x359)},'explanation':{'type':_0x10efce(0x359)},'imageCode':{'type':_0x10efce(0x359)}},'required':[_0x10efce(0x490),_0x10efce(0x202),_0x10efce(0x3a3)]},_0x3a4a14={'type':_0x10efce(0x782),'properties':{'questionText':{'type':_0x10efce(0x359)},'questionType':{'type':_0x10efce(0x359),'enum':[_0x10efce(0x5c5),_0x10efce(0x775)]},'options':{'type':'ARRAY','items':{'type':_0x10efce(0x359)}},'correctAnswerIndex':{'type':_0x10efce(0x88b)},'idealAnswer':{'type':_0x10efce(0x359)},'explanation':{'type':_0x10efce(0x359)},'imageCode':{'type':_0x10efce(0x359)}},'required':[_0x10efce(0x490),_0x10efce(0x36e),_0x10efce(0x3a3)]},_0xbcf918={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x10efce(0x4db)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x10efce(0x359)}},'required':[_0x10efce(0x490),_0x10efce(0x185),'explanation']},_0x2b1a8b={'type':_0x10efce(0x782),'properties':{'questionType':{'type':_0x10efce(0x359),'enum':[_0x10efce(0x4f4)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x10efce(0x359)},'allResponses':{'type':_0x10efce(0x2f3),'items':{'type':_0x10efce(0x359)}},'explanation':{'type':_0x10efce(0x359)},'imageCode':{'type':_0x10efce(0x359)}},'required':[_0x10efce(0x36e),_0x10efce(0x785),_0x10efce(0xa97),_0x10efce(0x3df),_0x10efce(0x3a3)]};let _0xae3990;if(_0x44bfad!==null){const _0x508f8a=currentQuizData[_0x10efce(0x299)][_0x44bfad]['questionType'],_0x3f8409=_0x5b212e?_0x10efce(0xa85):'';_0x46dde1='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0xaa82b0+'\x20'+_0x135f38+'\x20'+_0x2c8877+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x3f8409+'\x20'+simpleMathPrompt;if(_0x508f8a==='multiple_choice')_0x516080=_0x586ae9;else{if(_0x508f8a===_0x10efce(0x4f4))_0x516080={'type':'OBJECT','properties':{'questionType':{'type':_0x10efce(0x359),'enum':['matching_item']},'stem':{'type':_0x10efce(0x359)},'correctResponse':{'type':_0x10efce(0x359)},'explanation':{'type':_0x10efce(0x359)},'imageCode':{'type':'STRING'}},'required':[_0x10efce(0x36e),_0x10efce(0x785),_0x10efce(0xa97),_0x10efce(0x3a3)]};else _0x516080=_0x32b5c5;}_0xae3990=_0x516080;}else{const _0x41f3c4=_0x5b212e?_0x10efce(0x9e1):'',_0x37d3e2=_0x10efce(0x346);switch(_0x49feba){case _0x10efce(0x5c5):_0x46dde1=_0x10efce(0x66e)+_0x5b6dde+'\x20'+_0x2bc8dd+_0x10efce(0x713)+_0xaa82b0+'\x20'+_0x135f38+'\x20'+_0x2c8877+'\x20'+_0x592006+_0x10efce(0x78a)+_0x4ab631+_0x10efce(0x96b)+_0x41f3c4+'\x20'+simpleMathPrompt,_0x516080=_0x586ae9;break;case _0x10efce(0x307):_0x46dde1=_0x10efce(0x67f)+_0x5b6dde+'\x20'+_0x2bc8dd+_0x10efce(0x713)+_0xaa82b0+'\x20'+_0x135f38+'\x20'+_0x2c8877+'\x20'+_0x592006+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4ab631+_0x10efce(0x521)+_0x41f3c4+'\x20'+simpleMathPrompt,_0x516080=_0x586ae9;break;case _0x10efce(0x68c):_0x46dde1=_0x10efce(0x67f)+_0x5b6dde+'\x20'+_0x2bc8dd+'\x20ข้อ\x20'+_0xaa82b0+'\x20'+_0x135f38+'\x20'+_0x2c8877+'\x20'+_0x592006+_0x10efce(0x246)+_0x41f3c4+'\x20'+simpleMathPrompt,_0x516080=_0x32b5c5;break;case'mixed':_0x46dde1=_0x10efce(0xa5e)+_0x5b6dde+'\x20'+_0x2bc8dd+_0x10efce(0x713)+_0xaa82b0+'\x20'+_0x135f38+'\x20'+_0x2c8877+'\x20'+_0x592006+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x4ab631+_0x10efce(0x284)+_0x41f3c4+'\x20'+simpleMathPrompt+'.',_0x516080=_0x3a4a14;break;case _0x10efce(0x860):_0x46dde1='สร้างคำถามแบบใช่/ไม่ใช่'+_0x5b6dde+'\x20'+_0x2bc8dd+_0x10efce(0x713)+_0xaa82b0+'\x20'+_0x135f38+'\x20'+_0x2c8877+'\x20'+_0x592006+_0x10efce(0x684)+_0x41f3c4+'\x20'+simpleMathPrompt,_0x516080=_0xbcf918;break;case _0x10efce(0x7e3):_0x46dde1=_0x10efce(0x374)+_0x5b6dde+'\x20'+_0x2bc8dd+_0x10efce(0x46f)+_0xaa82b0+'\x20'+_0x135f38+'\x20'+_0x2c8877+'\x20'+_0x592006+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x41f3c4+'\x20'+simpleMathPrompt,_0x516080=_0x2b1a8b;break;}_0xae3990={'type':_0x10efce(0x782),'properties':{'topic':{'type':_0x10efce(0x359)},'questions':{'type':'ARRAY','items':_0x516080}},'required':[_0x10efce(0x836),'questions']};}return _0x354393?(_0x46dde1='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x354393+_0x10efce(0xa26)+_0x46dde1,_0x1e733c=_0x10efce(0x9af)):_0x1e733c=_0x10efce(0x47e),handleApiCall(_0x46dde1,_0x1e733c,_0xae3990,_0x44bfad);}async function generateQuizFromFile(_0x3f1bfc,_0x47b37e){const _0x47955d=_0x3fa4d9,_0x2d9905=document[_0x47955d(0x4d6)](_0x47955d(0x830))['value'][_0x47955d(0x56f)](),_0x3ceac2=document[_0x47955d(0x4d6)](_0x47955d(0x776))['value'],_0x30bb47=document[_0x47955d(0x4d6)](_0x47955d(0x362))[_0x47955d(0xa87)],_0xcfde38=document['getElementById'](_0x47955d(0x164))[_0x47955d(0xa87)],_0x434640=document[_0x47955d(0x4d6)](_0x47955d(0x3c6))['checked'],_0x5c697e=document[_0x47955d(0x4d6)](_0x47955d(0x1d3))[_0x47955d(0x5d4)],_0x1577b3=_0x5c697e?'':_0x47955d(0x633);let _0x3eb924='',_0x276e4b,_0x4a4eb0=_0x47955d(0x509)+_0x2d9905+'\x22';!_0x2d9905&&(_0x4a4eb0=_0x47955d(0x959));const _0x58c1f0=_0x434640?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x3ceac2){case _0x47955d(0x5c5):_0x3eb924=_0x47955d(0x66e)+_0x1577b3+'\x20'+_0x30bb47+_0x47955d(0x713)+_0x4a4eb0+'.\x20แต่ละข้อมี\x20'+_0xcfde38+_0x47955d(0x96b)+_0x58c1f0+'\x20'+simpleMathPrompt,_0x276e4b={'type':'OBJECT','properties':{'questionText':{'type':_0x47955d(0x359)},'options':{'type':'ARRAY','items':{'type':_0x47955d(0x359)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x47955d(0x359)}},'required':[_0x47955d(0x490),_0x47955d(0x35a),_0x47955d(0x6ce),_0x47955d(0x3a3)]};break;case _0x47955d(0x307):_0x3eb924=_0x47955d(0x67f)+_0x1577b3+'\x20'+_0x30bb47+_0x47955d(0x713)+_0x4a4eb0+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0xcfde38+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x58c1f0+'\x20'+simpleMathPrompt,_0x276e4b={'type':_0x47955d(0x782),'properties':{'questionText':{'type':_0x47955d(0x359)},'options':{'type':_0x47955d(0x2f3),'items':{'type':_0x47955d(0x359)}},'correctAnswerIndex':{'type':_0x47955d(0x88b)},'explanation':{'type':_0x47955d(0x359)},'imageCode':{'type':'STRING'}},'required':[_0x47955d(0x490),_0x47955d(0x35a),_0x47955d(0x6ce),_0x47955d(0x3a3)]};break;case'fill_in_no_choices':_0x3eb924=_0x47955d(0x67f)+_0x1577b3+'\x20'+_0x30bb47+_0x47955d(0x713)+_0x4a4eb0+_0x47955d(0x246)+_0x58c1f0+'\x20'+simpleMathPrompt,_0x276e4b={'type':'OBJECT','properties':{'questionText':{'type':_0x47955d(0x359)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x47955d(0x359)},'imageCode':{'type':'STRING'}},'required':[_0x47955d(0x490),_0x47955d(0x202),_0x47955d(0x3a3)]};break;case _0x47955d(0x483):_0x3eb924=_0x47955d(0xa5e)+_0x1577b3+'\x20'+_0x30bb47+'\x20ข้อ\x20'+_0x4a4eb0+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0xcfde38+_0x47955d(0x284)+_0x58c1f0+'\x20'+simpleMathPrompt+_0x47955d(0x65d),_0x276e4b={'type':'OBJECT','properties':{'questionText':{'type':_0x47955d(0x359)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x47955d(0x775)]},'options':{'type':'ARRAY','items':{'type':_0x47955d(0x359)}},'correctAnswerIndex':{'type':_0x47955d(0x88b)},'idealAnswer':{'type':_0x47955d(0x359)},'explanation':{'type':_0x47955d(0x359)},'imageCode':{'type':_0x47955d(0x359)}},'required':[_0x47955d(0x490),_0x47955d(0x36e),'explanation']};break;case'true_false':_0x3eb924=_0x47955d(0x48c)+_0x1577b3+'\x20'+_0x30bb47+'\x20ข้อ\x20'+_0x4a4eb0+_0x47955d(0x1c2)+_0x58c1f0+'\x20'+simpleMathPrompt,_0x276e4b={'type':_0x47955d(0x782),'properties':{'questionText':{'type':_0x47955d(0x359)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x47955d(0x359)},'imageCode':{'type':_0x47955d(0x359)}},'required':[_0x47955d(0x490),_0x47955d(0x185),_0x47955d(0x3a3)]};break;case _0x47955d(0x7e3):_0x3eb924='สร้างชุดคำถามจับคู่'+_0x1577b3+'\x20'+_0x30bb47+'\x20คู่\x20'+_0x4a4eb0+_0x47955d(0x37f)+_0x30bb47+_0x47955d(0x187)+_0x58c1f0+'\x20'+simpleMathPrompt,_0x276e4b={'type':_0x47955d(0x782),'properties':{'questionType':{'type':_0x47955d(0x359),'enum':[_0x47955d(0x4f4)]},'stem':{'type':_0x47955d(0x359)},'correctResponse':{'type':_0x47955d(0x359)},'allResponses':{'type':_0x47955d(0x2f3),'items':{'type':_0x47955d(0x359)}},'explanation':{'type':_0x47955d(0x359)},'imageCode':{'type':'STRING'}},'required':[_0x47955d(0x36e),_0x47955d(0x785),_0x47955d(0xa97),_0x47955d(0x3df),'explanation']};break;}const _0x39dda6={'type':_0x47955d(0x782),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x276e4b}},'required':['topic',_0x47955d(0x299)]},_0x43ea24='จากไฟล์ที่แนบมานี้,\x20'+_0x3eb924,_0x398f25={'contents':[{'parts':[{'text':_0x43ea24},{'inlineData':{'mimeType':_0x3f1bfc,'data':_0x47b37e}}]}],'generationConfig':{'responseMimeType':_0x47955d(0x3e9),'responseSchema':_0x39dda6}};return handleApiCall(_0x398f25['contents'][0x0]['parts'],_0x47955d(0x6a6),_0x39dda6);}async function handleApiCall(_0xd9f4d3,_0x46374e,_0x2848bf,_0x4d2075=null){const _0x343228=_0x3fa4d9,_0x5578b3=document[_0x343228(0x4d6)]('quiz-generation-area'),_0x2bc34c=document[_0x343228(0x4d6)](_0x343228(0x469)),_0x4867d3=document[_0x343228(0x4d6)]('loader-text'),_0x43d186=document['getElementById'](_0x343228(0x7e1));_0x5578b3[_0x343228(0x21b)][_0x343228(0x621)](_0x343228(0x88c));_0x4d2075===null&&(_0x43d186[_0x343228(0xa8d)]='');_0x2bc34c[_0x343228(0x21b)]['remove'](_0x343228(0x88c)),_0x4867d3[_0x343228(0x5b9)]=_0x46374e,document[_0x343228(0x4d6)](_0x343228(0x67e))[_0x343228(0x907)]=!![],document[_0x343228(0x4d6)](_0x343228(0x4e7))[_0x343228(0x907)]=!![],document[_0x343228(0x4d6)](_0x343228(0x2b3))[_0x343228(0x907)]=!![];try{const _0x239f59={'responseMimeType':'application/json','responseSchema':_0x2848bf},_0x188a38=Array[_0x343228(0x4ca)](_0xd9f4d3)?_0xd9f4d3:[{'text':_0xd9f4d3}],_0x5c9908={'contents':[{'role':_0x343228(0xa7d),'parts':_0x188a38}],'generationConfig':_0x239f59},_0x4c4f17=_0x343228(0x656),_0x13e1d4=_0x343228(0xa79)+_0x4c4f17,_0x21b59d=await fetch(_0x13e1d4,{'method':'POST','headers':{'Content-Type':_0x343228(0x3e9)},'body':JSON[_0x343228(0x73b)](_0x5c9908)});if(!_0x21b59d['ok'])throw new Error(_0x343228(0x8ea)+_0x21b59d[_0x343228(0x442)]);const _0x26b8bc=await _0x21b59d[_0x343228(0x92e)]();if(_0x26b8bc[_0x343228(0x249)]?.[0x0]?.['content']?.[_0x343228(0x3bc)]?.[0x0]){let _0x3cc906=_0x26b8bc[_0x343228(0x249)][0x0]['content'][_0x343228(0x3bc)][0x0][_0x343228(0x606)],_0x2dbdee;try{if(_0x3cc906['startsWith'](_0x343228(0x58b)))_0x3cc906=_0x3cc906['substring'](0x7,_0x3cc906[_0x343228(0x3e1)]-0x3)[_0x343228(0x56f)]();else _0x3cc906[_0x343228(0x4f6)](_0x343228(0x773))&&(_0x3cc906=_0x3cc906[_0x343228(0x375)](0x3,_0x3cc906['length']-0x3)[_0x343228(0x56f)]());_0x2dbdee=JSON['parse'](_0x3cc906);}catch(_0x219370){console[_0x343228(0x1d8)](_0x343228(0x228),_0x219370,_0x3cc906);throw new Error(_0x343228(0x193));}if(_0x4d2075!==null){if(_0x2dbdee[_0x343228(0x36e)]==='matching_item'){const _0x2dddd7=currentQuizData[_0x343228(0x299)][_0x343228(0x9f0)](_0x5d943c=>_0x5d943c['correctResponse']);_0x2dbdee[_0x343228(0x3df)]=_0x2dddd7;const _0x140508=currentQuizData[_0x343228(0x299)][_0x4d2075]['correctResponse'],_0x2f29d3=_0x2dddd7['indexOf'](_0x140508);_0x2f29d3>-0x1&&(_0x2dddd7[_0x2f29d3]=_0x2dbdee[_0x343228(0xa97)]),currentQuizData['questions'][_0x343228(0x220)](_0x5e39ad=>{const _0x4ab36d=_0x343228;if(_0x5e39ad[_0x4ab36d(0x36e)]===_0x4ab36d(0x4f4))_0x5e39ad[_0x4ab36d(0x3df)]=_0x2dddd7;});}currentQuizData[_0x343228(0x299)][_0x4d2075]=_0x2dbdee,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x2dbdee;const _0x2e8f7a=document[_0x343228(0x4d6)](_0x343228(0x776))[_0x343228(0xa87)];currentQuizData[_0x343228(0x25e)]=_0x2e8f7a,currentQuizData[_0x343228(0x299)]&&currentQuizData[_0x343228(0x299)][_0x343228(0x220)](_0x32c863=>{const _0xe83ca8=_0x343228;if(!_0x32c863['questionType']){if(_0x2e8f7a==='fill_in_with_choices')_0x32c863['questionType']=_0xe83ca8(0x5c5);else _0x2e8f7a==='fill_in_no_choices'?_0x32c863['questionType']=_0xe83ca8(0x775):_0x32c863['questionType']=_0x2e8f7a;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x343228(0x1d8)](_0x343228(0x4ec),JSON[_0x343228(0x73b)](_0x26b8bc));throw new Error(_0x343228(0x193));}}catch(_0x301380){console[_0x343228(0x1d8)](_0x343228(0x863),_0x301380),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x4d2075===null&&(_0x43d186[_0x343228(0xa8d)]=_0x343228(0x28c));}finally{_0x2bc34c[_0x343228(0x21b)][_0x343228(0x214)](_0x343228(0x88c)),document[_0x343228(0x4d6)](_0x343228(0x67e))[_0x343228(0x907)]=![],document['getElementById']('generate-from-text-btn')['disabled']=![],document[_0x343228(0x4d6)](_0x343228(0x2b3))[_0x343228(0x907)]=![];const _0x1a73d9=document[_0x343228(0x4d6)](_0x343228(0x96c));_0x1a73d9&&(_0x1a73d9[_0x343228(0x907)]=![]);}}function exitFullscreen(){const _0x287e34=_0x3fa4d9;if(document[_0x287e34(0x5d2)])document['exitFullscreen']()[_0x287e34(0x204)](_0x59c5c0=>console[_0x287e34(0x1d8)](_0x59c5c0));else{if(document['webkitExitFullscreen'])document[_0x287e34(0x810)]();else document[_0x287e34(0x1a6)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x117836=_0x3fa4d9,_0x3c841c=document[_0x117836(0x8b0)];if(_0x3c841c[_0x117836(0x4cb)])_0x3c841c['requestFullscreen']()[_0x117836(0x204)](_0x553150=>{const _0x3ccdd9=_0x117836;console[_0x3ccdd9(0x1d8)](_0x3ccdd9(0x7ac)+_0x553150[_0x3ccdd9(0x936)]+'\x20('+_0x553150[_0x3ccdd9(0xa19)]+')');});else{if(_0x3c841c[_0x117836(0x6e0)])_0x3c841c['webkitRequestFullscreen']();else _0x3c841c[_0x117836(0x41a)]&&_0x3c841c[_0x117836(0x41a)]();}}function handleCheatingEvent(){const _0xf527=_0x3fa4d9;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0xf527(0x434),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0xf527(0x9cc)),document['getElementById']('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0xf527(0x89a),handleVisibilityChange),document[_0xf527(0x51a)]('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0xf527(0x314),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4829f4=_0x3fa4d9;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x4829f4(0x7bf)]==='hidden')handleCheatingEvent();else document[_0x4829f4(0x7bf)]===_0x4829f4(0x4b7)&&(console[_0x4829f4(0x3c2)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x9a4c0a=_0x3fa4d9;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x9a4c0a(0x200)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x5c0663){const _0x3aba23=_0x3fa4d9,_0x579d11=document[_0x3aba23(0x4d6)]('generated-quiz-container');let _0x5d486f=_0x3aba23(0x8e9)+_0x5c0663[_0x3aba23(0x836)]+_0x3aba23(0x332);_0x5c0663[_0x3aba23(0x299)][_0x3aba23(0x220)]((_0xab0e3b,_0x330606)=>{const _0xec8e21=_0x3aba23;!_0xab0e3b['id']&&(_0xab0e3b['id']='q_'+Date['now']()+'_'+_0x330606);const _0x1f25a6=_0xab0e3b[_0xec8e21(0x36e)]||_0x5c0663[_0xec8e21(0x25e)];_0x5d486f+=_0xec8e21(0x431)+_0x330606+_0xec8e21(0x768)+_0x330606+_0xec8e21(0x1de)+_0x330606+_0xec8e21(0x191)+_0x330606+_0xec8e21(0x844);switch(_0x1f25a6){case _0xec8e21(0x4f4):_0x5d486f+=_0xec8e21(0x82c)+_0x330606+'\x22>'+(_0x330606+0x1)+'.\x20'+_0xab0e3b[_0xec8e21(0x785)]+_0xec8e21(0x453);_0xab0e3b[_0xec8e21(0x39e)]&&(_0x5d486f+=_0xec8e21(0x743)+_0x330606+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xab0e3b[_0xec8e21(0x39e)]+'</div>');_0x5d486f+=_0xec8e21(0x1d5)+_0x330606+'\x22>'+_0xab0e3b[_0xec8e21(0xa97)]+_0xec8e21(0x55b),_0x5d486f+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x330606+'\x22>'+_0xab0e3b[_0xec8e21(0x3a3)]+_0xec8e21(0x55b);break;case _0xec8e21(0x775):_0x5d486f+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x330606+'\x22>'+(_0x330606+0x1)+'.\x20'+_0xab0e3b[_0xec8e21(0x490)]+'</p>';_0xab0e3b[_0xec8e21(0x39e)]&&(_0x5d486f+=_0xec8e21(0x743)+_0x330606+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xab0e3b[_0xec8e21(0x39e)]+_0xec8e21(0x551));_0x5d486f+=_0xec8e21(0x933)+_0x330606+'\x22>'+_0xab0e3b['idealAnswer']+'</span></div>',_0x5d486f+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x330606+'\x22>'+_0xab0e3b['explanation']+_0xec8e21(0x55b);break;case _0xec8e21(0x860):_0x5d486f+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x330606+'\x22>'+(_0x330606+0x1)+'.\x20'+_0xab0e3b[_0xec8e21(0x490)]+_0xec8e21(0x453);_0xab0e3b[_0xec8e21(0x39e)]&&(_0x5d486f+='<div\x20id=\x22q-image-container-'+_0x330606+_0xec8e21(0x475)+_0xab0e3b['imageCode']+_0xec8e21(0x551));_0x5d486f+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0xab0e3b[_0xec8e21(0x185)]===!![]?_0xec8e21(0x402):'')+_0xec8e21(0x864)+(_0xab0e3b[_0xec8e21(0x185)]===![]?_0xec8e21(0x402):'')+_0xec8e21(0x82b),_0x5d486f+=_0xec8e21(0x2e8)+_0x330606+'\x22>'+_0xab0e3b[_0xec8e21(0x3a3)]+_0xec8e21(0x55b);break;case _0xec8e21(0x934):case _0xec8e21(0x5c5):default:_0x5d486f+=_0xec8e21(0x82c)+_0x330606+'\x22>'+(_0x330606+0x1)+'.\x20'+_0xab0e3b[_0xec8e21(0x490)]+_0xec8e21(0x453);_0xab0e3b['imageCode']&&(_0x5d486f+=_0xec8e21(0x743)+_0x330606+_0xec8e21(0x475)+_0xab0e3b[_0xec8e21(0x39e)]+_0xec8e21(0x551));_0x5d486f+=_0xec8e21(0x849)+_0x330606+_0xec8e21(0x5ed)+_0xab0e3b['options']['map']((_0x514a67,_0x460165)=>_0xec8e21(0x689)+(_0x460165===_0xab0e3b['correctAnswerIndex']?_0xec8e21(0x402):'')+'\x22>'+_0x514a67+'</li>')[_0xec8e21(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x5d486f+=_0xec8e21(0x2e8)+_0x330606+'\x22>'+_0xab0e3b[_0xec8e21(0x3a3)]+_0xec8e21(0x55b);break;}_0x5d486f+=_0xec8e21(0x551);}),_0x5d486f+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x579d11[_0x3aba23(0xa8d)]=_0x5d486f,document['querySelectorAll'](_0x3aba23(0x75f))[_0x3aba23(0x220)](_0x9ae04f=>_0x9ae04f[_0x3aba23(0x795)](_0x3aba23(0x96d),handleEditQuestion)),document[_0x3aba23(0x76c)](_0x3aba23(0x4d4))['forEach'](_0x1b7290=>_0x1b7290[_0x3aba23(0x795)]('click',handleRegenerateQuestion)),document[_0x3aba23(0x76c)](_0x3aba23(0x8dd))[_0x3aba23(0x220)](_0x529a3f=>_0x529a3f[_0x3aba23(0x795)](_0x3aba23(0x96d),handleSaveToBank)),document[_0x3aba23(0x4d6)](_0x3aba23(0x584))[_0x3aba23(0x795)](_0x3aba23(0x96d),exportQuizAsWorksheetPDF),document[_0x3aba23(0x4d6)](_0x3aba23(0x3ca))[_0x3aba23(0x795)](_0x3aba23(0x96d),saveQuiz),document[_0x3aba23(0x4d6)](_0x3aba23(0x1fd))[_0x3aba23(0x795)]('click',handleVerifyAnswers);if(window[_0x3aba23(0xa2e)])window[_0x3aba23(0xa2e)]['typesetPromise']([_0x579d11]);}function handleRegenerateQuestion(_0x3f1eee){const _0x3d39ad=_0x3fa4d9,_0x11af01=_0x3f1eee[_0x3d39ad(0x236)][_0x3d39ad(0x5f3)][_0x3d39ad(0xa50)],_0x568d66=currentQuizData['topic'];showMessage(_0x3d39ad(0x5ec)+(parseInt(_0x11af01)+0x1)+_0x3d39ad(0x15f)),generateQuiz(_0x568d66,null,parseInt(_0x11af01));}function getPointerPosition(_0x53ffe8,_0x829393){const _0x4df019=_0x3fa4d9,_0x1bd2da=_0x53ffe8[_0x4df019(0x5ba)]();let _0x50817e,_0x29ffd5;return _0x829393['touches']&&_0x829393['touches'][_0x4df019(0x3e1)]>0x0?(_0x50817e=_0x829393[_0x4df019(0x916)][0x0][_0x4df019(0xa5a)],_0x29ffd5=_0x829393['touches'][0x0][_0x4df019(0x725)]):(_0x50817e=_0x829393[_0x4df019(0xa5a)],_0x29ffd5=_0x829393[_0x4df019(0x725)]),{'x':(_0x50817e-_0x1bd2da['e'])/_0x1bd2da['a'],'y':(_0x29ffd5-_0x1bd2da['f'])/_0x1bd2da['d']};}function startDrag(_0x2bea6e){const _0x2c9583=_0x3fa4d9;_0x2bea6e[_0x2c9583(0x4da)]===_0x2c9583(0x554)&&_0x2bea6e[_0x2c9583(0x261)]();const _0x335aa4=_0x2bea6e['target']['closest'](_0x2c9583(0x6fd));if(_0x335aa4){draggedSvgElement=_0x335aa4;const _0x305d4b=draggedSvgElement[_0x2c9583(0x376)],_0x3842b9=getPointerPosition(_0x305d4b,_0x2bea6e);svgOffset['x']=_0x3842b9['x']-parseFloat(draggedSvgElement[_0x2c9583(0x989)](null,'x')),svgOffset['y']=_0x3842b9['y']-parseFloat(draggedSvgElement[_0x2c9583(0x989)](null,'y'));}}function calculateItemAnalysis(_0x56a028,_0x25283a){const _0x4295b8=_0x3fa4d9,_0x38d88d={};if(_0x25283a['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x404958=[..._0x25283a]['sort']((_0x133df4,_0xaaa55a)=>{const _0x4b1512=_0x5982,_0x573386=_0xaaa55a[_0x4b1512(0x6aa)]-_0x133df4[_0x4b1512(0x6aa)];if(_0x573386!==0x0)return _0x573386;const _0x652823=_0x133df4[_0x4b1512(0x594)]?.[_0x4b1512(0x3e1)]||0x1,_0x2aa510=_0xaaa55a[_0x4b1512(0x594)]?.[_0x4b1512(0x3e1)]||0x1,_0x327edf=_0x652823-_0x2aa510;if(_0x327edf!==0x0)return _0x327edf;const _0x476ec5=new Date(_0x133df4[_0x4b1512(0x44e)]),_0xac78a1=new Date(_0xaaa55a[_0x4b1512(0x44e)]),_0x76010f=_0x476ec5-_0xac78a1;if(_0x76010f!==0x0)return _0x76010f;return _0x133df4['studentName'][_0x4b1512(0x3a2)](_0xaaa55a[_0x4b1512(0x238)],'th');}),_0xc75e41=_0x404958[_0x4295b8(0x3e1)],_0x4a7c17=Math[_0x4295b8(0x525)](0x1,Math[_0x4295b8(0x67c)](_0xc75e41*0.33));if(_0x4a7c17===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x17ec0b=_0x404958[_0x4295b8(0x6ec)](0x0,_0x4a7c17),_0x1f007b=_0x404958[_0x4295b8(0x6ec)](-_0x4a7c17),_0x1b4678=_0x17ec0b[_0x4295b8(0x9f0)](_0x9cbc10=>_0x9cbc10[_0x4295b8(0x238)]),_0x16e715=_0x1f007b['map'](_0x98803c=>_0x98803c[_0x4295b8(0x238)]);return _0x56a028[_0x4295b8(0x299)]['forEach']((_0x549322,_0x760dc5)=>{const _0x1aca7c=_0x4295b8,_0x29bf8=_0x549322[_0x1aca7c(0x785)]||_0x549322[_0x1aca7c(0x490)];let _0x3ffaf7=0x0,_0x4d2fa2=0x0,_0x449b34=0x0;const _0x936d06=[],_0x39b2fb=[];_0x17ec0b[_0x1aca7c(0x220)](_0xe8d30b=>{const _0x48894a=_0x1aca7c,_0x291385=_0xe8d30b[_0x48894a(0x594)][_0xe8d30b['attempts']['length']-0x1],_0x55787e=_0x291385[_0x48894a(0x617)][_0x48894a(0xa53)](_0x1bca90=>_0x1bca90[_0x48894a(0x3b8)]===_0x29bf8);_0x936d06[_0x48894a(0x87a)]({'name':_0xe8d30b[_0x48894a(0x238)],'isCorrect':_0x55787e?_0x55787e[_0x48894a(0x753)]:![]}),_0x55787e&&_0x55787e[_0x48894a(0x753)]&&_0x4d2fa2++;}),_0x1f007b['forEach'](_0x3c8b9b=>{const _0x33c991=_0x1aca7c,_0x104dae=_0x3c8b9b[_0x33c991(0x594)][_0x3c8b9b[_0x33c991(0x594)]['length']-0x1],_0x3fd030=_0x104dae[_0x33c991(0x617)][_0x33c991(0xa53)](_0x2d5a52=>_0x2d5a52['originalQuestionText']===_0x29bf8);_0x39b2fb[_0x33c991(0x87a)]({'name':_0x3c8b9b[_0x33c991(0x238)],'isCorrect':_0x3fd030?_0x3fd030[_0x33c991(0x753)]:![]}),_0x3fd030&&_0x3fd030[_0x33c991(0x753)]&&_0x449b34++;}),_0x25283a['forEach'](_0x13528f=>{const _0x17f65e=_0x1aca7c,_0x48b420=_0x13528f[_0x17f65e(0x594)][_0x13528f['attempts']['length']-0x1],_0x16e32b=_0x48b420[_0x17f65e(0x617)][_0x17f65e(0xa53)](_0x4ef3f4=>_0x4ef3f4['originalQuestionText']===_0x29bf8);_0x16e32b&&_0x16e32b[_0x17f65e(0x753)]&&_0x3ffaf7++;});const _0x5b3fe3=_0xc75e41>0x0?_0x3ffaf7/_0xc75e41:0x0,_0x1d5109=_0x4a7c17>0x0?_0x4d2fa2/_0x4a7c17-_0x449b34/_0x4a7c17:0x0;_0x38d88d[_0x760dc5]={'p':_0x5b3fe3,'r':_0x1d5109,'upperGroupResponders':_0x936d06,'lowerGroupResponders':_0x39b2fb};}),{'perQuestionStats':_0x38d88d,'overallGroups':{'upperGroupNames':_0x1b4678,'lowerGroupNames':_0x16e715}};}function drag(_0xf05178){const _0x1c32be=_0x3fa4d9;if(draggedSvgElement){_0xf05178[_0x1c32be(0x261)]();const _0x593a75=draggedSvgElement['ownerSVGElement'],_0x1685b0=getPointerPosition(_0x593a75,_0xf05178),_0x43fdd7=_0x593a75[_0x1c32be(0x86a)][_0x1c32be(0x8a9)];let _0x5d775c=_0x1685b0['x']-svgOffset['x'],_0xed45a5=_0x1685b0['y']-svgOffset['y'];const _0x3865d8=draggedSvgElement[_0x1c32be(0x946)]();_0x5d775c=Math['max'](_0x43fdd7['x'],Math[_0x1c32be(0x275)](_0x5d775c,_0x43fdd7['x']+_0x43fdd7[_0x1c32be(0x3ec)]-_0x3865d8[_0x1c32be(0x3ec)])),_0xed45a5=Math[_0x1c32be(0x525)](_0x43fdd7['y'],Math['min'](_0xed45a5,_0x43fdd7['y']+_0x43fdd7[_0x1c32be(0xa44)]-_0x3865d8[_0x1c32be(0xa44)])),draggedSvgElement[_0x1c32be(0x260)](null,'x',_0x5d775c),draggedSvgElement['setAttributeNS'](null,'y',_0xed45a5);}}function endDrag(_0x1ac2ee){draggedSvgElement=null;}function handleSvgEditClick(_0x415daa){const _0x11f02e=_0x3fa4d9;if(_0x415daa[_0x11f02e(0x736)][_0x11f02e(0x21b)][_0x11f02e(0x63b)](_0x11f02e(0x4bd))){const _0x30fa62=_0x415daa[_0x11f02e(0x736)]['dataset'][_0x11f02e(0x5fb)],_0x5d5e6b=_0x415daa[_0x11f02e(0x236)],_0x3b064=_0x5d5e6b[_0x11f02e(0x8c1)]('#'+_0x30fa62);_0x3b064&&_0x3b064[_0x11f02e(0x621)](),_0x415daa[_0x11f02e(0x736)][_0x11f02e(0x621)]();}}function handleEditQuestion(_0x4c9f11){const _0x51900f=_0x3fa4d9,_0x2cda22=_0x4c9f11[_0x51900f(0x236)],_0x38513f=_0x2cda22[_0x51900f(0x5f3)][_0x51900f(0xa50)],_0x22ca71=currentQuizData['questions'][_0x38513f],_0x2aac11=document[_0x51900f(0x4d6)](_0x51900f(0x60b)+_0x38513f),_0x114524=document[_0x51900f(0x4d6)](_0x51900f(0x852)+_0x38513f),_0x72b38b=document[_0x51900f(0x4d6)](_0x51900f(0x6b5)+_0x38513f);if(_0x2cda22[_0x51900f(0xa8d)][_0x51900f(0x8f0)](_0x51900f(0x563))){_0x2cda22[_0x51900f(0xa8d)]=_0x51900f(0x9e4),_0x2cda22['title']='บันทึกการแก้ไข';if(_0x2aac11)_0x2aac11[_0x51900f(0x330)]=!![];if(_0x114524)_0x114524[_0x51900f(0x330)]=!![];if(_0x72b38b){const _0x2a2278=_0x72b38b[_0x51900f(0x8c1)]('svg');if(_0x2a2278){const _0x33ed46=_0x2a2278[_0x51900f(0x76c)](_0x51900f(0x606));_0x33ed46['forEach']((_0x1178c0,_0x4361de)=>{const _0x986cce=_0x51900f,_0xb76375=_0x986cce(0x9de)+_0x38513f+'-'+_0x4361de;_0x1178c0['id']=_0xb76375,_0x1178c0[_0x986cce(0x21b)][_0x986cce(0x214)]('draggable-text'),_0x1178c0['style'][_0x986cce(0x9a1)]=_0x986cce(0x597);const _0x103d73=document['createElementNS'](_0x986cce(0x9bc),_0x986cce(0x167)),_0x213405=_0x1178c0[_0x986cce(0x946)]();_0x103d73[_0x986cce(0x30f)]('cx',String(_0x213405['x']+_0x213405[_0x986cce(0x3ec)]+0x5)),_0x103d73[_0x986cce(0x30f)]('cy',String(_0x213405['y']+_0x213405['height']/0x2-0x5)),_0x103d73[_0x986cce(0x30f)]('r','5'),_0x103d73[_0x986cce(0x30f)](_0x986cce(0xa77),_0x986cce(0x1d4)),_0x103d73[_0x986cce(0x30f)]('class',_0x986cce(0x4bd)),_0x103d73['dataset']['targetId']=_0xb76375,_0x1178c0['after'](_0x103d73);}),_0x2a2278['addEventListener']('mousedown',startDrag),_0x2a2278[_0x51900f(0x795)]('mousemove',drag),_0x2a2278[_0x51900f(0x795)](_0x51900f(0x93b),endDrag),_0x2a2278[_0x51900f(0x795)](_0x51900f(0xa33),endDrag),_0x2a2278[_0x51900f(0x795)]('touchstart',startDrag,{'passive':![]}),_0x2a2278[_0x51900f(0x795)](_0x51900f(0x20e),drag,{'passive':![]}),_0x2a2278[_0x51900f(0x795)](_0x51900f(0x8de),endDrag),_0x2a2278[_0x51900f(0x795)](_0x51900f(0x545),endDrag),_0x2a2278[_0x51900f(0x795)]('click',handleSvgEditClick);}}if(_0x2aac11)_0x2aac11[_0x51900f(0x9a9)]();}else{_0x2cda22['innerHTML']=_0x51900f(0x78f),_0x2cda22['title']='แก้ไขข้อนี้';if(_0x2aac11){_0x2aac11['contentEditable']=![];const _0x5b5314=_0x22ca71[_0x51900f(0x36e)]||currentQuizData['quizType'];_0x5b5314==='matching_item'?_0x22ca71[_0x51900f(0x785)]=_0x2aac11[_0x51900f(0x542)][_0x51900f(0x375)](_0x2aac11[_0x51900f(0x542)][_0x51900f(0x991)]('.')+0x2)['trim']():_0x22ca71[_0x51900f(0x490)]=_0x2aac11[_0x51900f(0x542)][_0x51900f(0x375)](_0x2aac11[_0x51900f(0x542)][_0x51900f(0x991)]('.')+0x2)[_0x51900f(0x56f)]();}_0x114524&&(_0x114524[_0x51900f(0x330)]=![],_0x22ca71[_0x51900f(0x3a3)]=_0x114524[_0x51900f(0x542)]);if(_0x72b38b){const _0x4bec2b=_0x72b38b[_0x51900f(0x8c1)](_0x51900f(0x48f));if(_0x4bec2b){const _0xe6fd46=_0x4bec2b['cloneNode'](!![]);_0xe6fd46[_0x51900f(0x76c)](_0x51900f(0x3f9))[_0x51900f(0x220)](_0x3b930f=>_0x3b930f['remove']()),_0xe6fd46['querySelectorAll'](_0x51900f(0x6fd))['forEach'](_0x2cbfbb=>{const _0x205bce=_0x51900f;_0x2cbfbb[_0x205bce(0x21b)][_0x205bce(0x621)](_0x205bce(0x5f4)),_0x2cbfbb['style'][_0x205bce(0x9a1)]=_0x205bce(0x835),_0x2cbfbb[_0x205bce(0x685)]('id');}),_0x22ca71['imageCode']=_0xe6fd46[_0x51900f(0x96f)],_0x4bec2b[_0x51900f(0x51a)](_0x51900f(0x7e5),startDrag),_0x4bec2b[_0x51900f(0x51a)](_0x51900f(0xa0f),drag),_0x4bec2b['removeEventListener']('mouseup',endDrag),_0x4bec2b[_0x51900f(0x51a)]('mouseleave',endDrag),_0x4bec2b['removeEventListener'](_0x51900f(0x554),startDrag),_0x4bec2b[_0x51900f(0x51a)]('touchmove',drag),_0x4bec2b[_0x51900f(0x51a)]('touchend',endDrag),_0x4bec2b[_0x51900f(0x51a)]('touchcancel',endDrag),_0x4bec2b[_0x51900f(0x51a)](_0x51900f(0x96d),handleSvgEditClick),_0x4bec2b[_0x51900f(0x76c)]('.delete-svg-btn')['forEach'](_0x2b7e0a=>_0x2b7e0a[_0x51900f(0x621)]()),_0x4bec2b['querySelectorAll']('.draggable-text')['forEach'](_0x19daf1=>{const _0x4337e1=_0x51900f;_0x19daf1[_0x4337e1(0x21b)][_0x4337e1(0x621)](_0x4337e1(0x5f4)),_0x19daf1[_0x4337e1(0x694)][_0x4337e1(0x9a1)]=_0x4337e1(0x835);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x233ad0){const _0x426edb=_0x3fa4d9,_0x32ab71=document['getElementById'](_0x426edb(0x9a5)),_0xb6dbfb=document['getElementById'](_0x426edb(0x9cf));_0xb6dbfb['innerHTML']=_0x426edb(0x5be),_0x32ab71[_0x426edb(0x21b)][_0x426edb(0x621)](_0x426edb(0x88c));try{const _0x1852b4=doc(db,'artifacts/'+appId+_0x426edb(0x8ca),_0x233ad0),_0x1820a7=await getDoc(_0x1852b4);if(!_0x1820a7[_0x426edb(0x77c)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x233ad0,..._0x1820a7[_0x426edb(0x342)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x93a3e9){console[_0x426edb(0x1d8)](_0x426edb(0x74b),_0x93a3e9),showMessage(_0x426edb(0x33d)),_0x32ab71['classList'][_0x426edb(0x214)]('hidden');}}function renderQuizEditor(_0x534bd6){const _0x2b6991=_0x3fa4d9;document[_0x2b6991(0x4d6)]('editor-quiz-topic')['value']=_0x534bd6[_0x2b6991(0x836)];const _0x1a2888=document[_0x2b6991(0x4d6)](_0x2b6991(0x9cf));let _0x20f84d=_0x534bd6['questions'][_0x2b6991(0x9f0)]((_0x597741,_0x43dfef)=>{const _0x2a21df=_0x2b6991;let _0x4033da='';const _0x141cac=_0x597741[_0x2a21df(0x36e)]||_0x534bd6['quizType'];switch(_0x141cac){case _0x2a21df(0x5c5):const _0x452344=(_0x597741[_0x2a21df(0x35a)]||[])['map']((_0x59379d,_0x57ed06)=>_0x2a21df(0x5b2)+_0x43dfef+_0x2a21df(0x83b)+_0x57ed06+'\x22\x20'+(_0x57ed06===_0x597741[_0x2a21df(0x6ce)]?'checked':'')+_0x2a21df(0x926)+_0x59379d+_0x2a21df(0x1b6))[_0x2a21df(0x3d6)]('');_0x4033da=_0x2a21df(0x794)+_0x452344+_0x2a21df(0x225);break;case'short_answer':_0x4033da=_0x2a21df(0xa65)+(_0x597741[_0x2a21df(0x202)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2a21df(0x860):_0x4033da=_0x2a21df(0x2fa)+_0x43dfef+_0x2a21df(0x9a3)+(_0x597741[_0x2a21df(0x185)]===!![]?_0x2a21df(0x5d4):'')+_0x2a21df(0x1fb)+_0x43dfef+_0x2a21df(0x3ef)+(_0x597741[_0x2a21df(0x185)]===![]?_0x2a21df(0x5d4):'')+_0x2a21df(0x884);break;case _0x2a21df(0x4f4):_0x4033da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x597741[_0x2a21df(0xa97)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x1abd6a=_0x597741[_0x2a21df(0x490)]||_0x597741[_0x2a21df(0x785)]||'';return _0x2a21df(0x7b0)+_0x43dfef+_0x2a21df(0x17e)+_0x141cac+_0x2a21df(0x869)+(_0x43dfef+0x1)+'\x20('+_0x141cac+_0x2a21df(0x8b1)+_0x1abd6a+_0x2a21df(0x9c5)+_0x4033da+_0x2a21df(0x793);})[_0x2b6991(0x3d6)]('');_0x1a2888[_0x2b6991(0xa8d)]=_0x20f84d,_0x1a2888[_0x2b6991(0x76c)](_0x2b6991(0x2c6))[_0x2b6991(0x220)](_0x4b215b=>{const _0x2b4c69=_0x2b6991;_0x4b215b[_0x2b4c69(0x795)]('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x379a76){const _0x44afe3=_0x3fa4d9,_0x3ddca6=_0x379a76[_0x44afe3(0x236)],_0x2e88df=_0x3ddca6[_0x44afe3(0x305)](_0x44afe3(0xa57));if(!_0x2e88df)return;const _0x5a3668=parseInt(_0x2e88df[_0x44afe3(0x5f3)][_0x44afe3(0x61f)],0xa);if(isNaN(_0x5a3668)||!currentEditingQuizData['questions'][_0x5a3668]){showMessage(_0x44afe3(0x5ad));return;}const _0x25b49d=currentEditingQuizData[_0x44afe3(0x299)][_0x5a3668];_0x3ddca6[_0x44afe3(0xa8d)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x3ddca6[_0x44afe3(0x907)]=!![];const _0x17740b=_0x44afe3(0x862)+JSON[_0x44afe3(0x73b)](_0x25b49d)+_0x44afe3(0x7fa);let _0x12a25f;const _0x252a37=_0x25b49d[_0x44afe3(0x36e)]||currentEditingQuizData['quizType'];switch(_0x252a37){case _0x44afe3(0x775):_0x12a25f={'type':'OBJECT','properties':{'questionText':{'type':_0x44afe3(0x359)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x44afe3(0x359)},'imageCode':{'type':_0x44afe3(0x359)}},'required':[_0x44afe3(0x490),_0x44afe3(0x202),'explanation']};break;case'multiple_choice':default:_0x12a25f={'type':_0x44afe3(0x782),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x44afe3(0x359)}},'correctAnswerIndex':{'type':_0x44afe3(0x88b)},'explanation':{'type':_0x44afe3(0x359)},'imageCode':{'type':'STRING'}},'required':[_0x44afe3(0x490),_0x44afe3(0x35a),_0x44afe3(0x6ce),'explanation']};break;}try{let _0x13d632=await callAnalysisApi(_0x17740b,_0x12a25f);_0x13d632[_0x44afe3(0x35a)]&&Array[_0x44afe3(0x4ca)](_0x13d632[_0x44afe3(0x35a)])&&(_0x13d632['options']=_0x13d632[_0x44afe3(0x35a)][_0x44afe3(0x9f0)](_0x254d37=>typeof _0x254d37===_0x44afe3(0x217)?_0x254d37[_0x44afe3(0x159)](/S(\s*[\d_]+?\s*)S/g,_0x44afe3(0xa18)):_0x254d37)),_0x25b49d[_0x44afe3(0x39e)]&&_0x25b49d[_0x44afe3(0x39e)][_0x44afe3(0x8f0)]('fix\x20the\x20option')&&(_0x13d632[_0x44afe3(0x39e)]=''),currentEditingQuizData[_0x44afe3(0x299)][_0x5a3668]={..._0x25b49d,..._0x13d632},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x42cd14){console[_0x44afe3(0x1d8)](_0x44afe3(0x16f),_0x42cd14),showMessage(_0x44afe3(0x6df)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x5b2217=_0x3fa4d9,_0x55d938=document[_0x5b2217(0x4d6)](_0x5b2217(0x39a));_0x55d938[_0x5b2217(0x907)]=!![],_0x55d938['innerHTML']=_0x5b2217(0x5b8);try{const _0x615d4d=document[_0x5b2217(0x4d6)](_0x5b2217(0x951))[_0x5b2217(0xa87)],_0x4a0207=document[_0x5b2217(0x76c)](_0x5b2217(0xa57));let _0x216592=[];const _0x62f4b9=Array[_0x5b2217(0x649)](_0x4a0207)[_0x5b2217(0x9f0)]((_0x42900c,_0x82f320)=>{const _0x27294b=_0x5b2217,_0x3aafa5=_0x42900c[_0x27294b(0x5f3)]['qType'],_0x52ea3f=_0x42900c['querySelector'](_0x27294b(0x677))[_0x27294b(0xa87)];let _0xc8dac9={'questionType':_0x3aafa5};const _0x9ac272=currentEditingQuizData['questions'][_0x82f320];switch(_0x3aafa5){case _0x27294b(0x5c5):_0xc8dac9[_0x27294b(0x490)]=_0x52ea3f;const _0x4c657b=_0x42900c['querySelectorAll']('input[type=\x22text\x22]');_0xc8dac9['options']=Array[_0x27294b(0x649)](_0x4c657b)['map'](_0x5970d8=>_0x5970d8[_0x27294b(0xa87)]);const _0x17e973=_0x42900c[_0x27294b(0x8c1)](_0x27294b(0x637));_0xc8dac9[_0x27294b(0x6ce)]=_0x17e973?parseInt(_0x17e973[_0x27294b(0xa87)]):0x0;break;case'short_answer':_0xc8dac9[_0x27294b(0x490)]=_0x52ea3f,_0xc8dac9[_0x27294b(0x202)]=_0x42900c[_0x27294b(0x8c1)](_0x27294b(0xa6a))[_0x27294b(0xa87)];break;case _0x27294b(0x860):_0xc8dac9['questionText']=_0x52ea3f;const _0x1df6f3=_0x42900c[_0x27294b(0x8c1)]('input[type=\x22radio\x22]:checked');_0xc8dac9[_0x27294b(0x185)]=_0x1df6f3?_0x1df6f3[_0x27294b(0xa87)]===_0x27294b(0x218):!![];break;case _0x27294b(0x4f4):_0xc8dac9[_0x27294b(0x785)]=_0x52ea3f;const _0x4135fb=_0x42900c[_0x27294b(0x8c1)]('.correct-response-input');_0xc8dac9[_0x27294b(0xa97)]=_0x4135fb?_0x4135fb['value']:'',_0x216592[_0x27294b(0x87a)](_0xc8dac9[_0x27294b(0xa97)]);break;default:_0xc8dac9[_0x27294b(0x490)]=_0x52ea3f;break;}return{..._0x9ac272,..._0xc8dac9};});_0x216592[_0x5b2217(0x3e1)]>0x0&&_0x62f4b9['forEach'](_0x4ae193=>{const _0x1c567b=_0x5b2217;_0x4ae193[_0x1c567b(0x36e)]==='matching_item'&&(_0x4ae193[_0x1c567b(0x3df)]=_0x216592);});const _0x391807=currentEditingQuizData['id'],_0xe484ec=doc(db,_0x5b2217(0x31f)+appId+_0x5b2217(0x8ca),_0x391807);await updateDoc(_0xe484ec,{'topic':_0x615d4d,'questions':_0x62f4b9}),document[_0x5b2217(0x4d6)](_0x5b2217(0x9a5))[_0x5b2217(0x21b)][_0x5b2217(0x214)](_0x5b2217(0x88c)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x391807));}catch(_0xc3be8b){console[_0x5b2217(0x1d8)](_0x5b2217(0x22a),_0xc3be8b),showMessage(_0x5b2217(0x422));}finally{_0x55d938['disabled']=![],_0x55d938[_0x5b2217(0xa8d)]=_0x5b2217(0x519);}}async function initiateReGradeProcess(_0x421f25){const _0x2ff630=_0x3fa4d9;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x634ea7=doc(db,_0x2ff630(0x31f)+appId+_0x2ff630(0x8ca),_0x421f25),_0x552068=await getDoc(_0x634ea7);if(!_0x552068[_0x2ff630(0x77c)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x376e66={'id':_0x421f25,..._0x552068[_0x2ff630(0x342)]()},_0x35e205=collection(db,_0x2ff630(0x31f)+appId+_0x2ff630(0x8ca),_0x421f25,_0x2ff630(0x687)),_0x44aa73=await getDocs(_0x35e205);if(_0x44aa73['empty']){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x2b826b=_0x44aa73['docs'][_0x2ff630(0x9f0)](_0x18b40b=>reGradeSingleSubmission(_0x18b40b,_0x376e66));await Promise[_0x2ff630(0x277)](_0x2b826b);if(_0x376e66[_0x2ff630(0x59c)]){const _0x368519=doc(db,_0x2ff630(0x31f)+appId+_0x2ff630(0x4e0),_0x376e66[_0x2ff630(0x59c)]),_0x3d0b42=await getDoc(_0x368519);if(_0x3d0b42[_0x2ff630(0x77c)]()&&_0x3d0b42[_0x2ff630(0x342)]()[_0x2ff630(0x5ff)]){const _0x509d54=_0x3d0b42[_0x2ff630(0x342)]()[_0x2ff630(0x5ff)][_0x2ff630(0x9f0)](_0x325184=>updateStudentProfile(_0x376e66[_0x2ff630(0x59c)],_0x325184));await Promise[_0x2ff630(0x277)](_0x509d54);}}showMessage(_0x2ff630(0x2b9)+_0x44aa73[_0x2ff630(0x590)]+_0x2ff630(0x76f));}catch(_0x7ec907){console[_0x2ff630(0x1d8)](_0x2ff630(0x800),_0x7ec907),showMessage(_0x2ff630(0x94d)+_0x7ec907[_0x2ff630(0x936)]);}}async function reGradeSingleSubmission(_0x55a3b1,_0x116b58){const _0x1df4f5=_0x3fa4d9,_0x3069c9=_0x55a3b1[_0x1df4f5(0x342)](),_0x4f7282=_0x3069c9[_0x1df4f5(0x238)],_0x50a35b=_0x3069c9[_0x1df4f5(0x594)]||[],_0x32de88=[];for(const _0x20c081 of _0x50a35b){let _0x5a1b87=0x0,_0x46d2ef=[],_0xf49d81=0x0;const _0x3ffc48=[];for(const _0x3fe8f6 of _0x20c081[_0x1df4f5(0x617)]){let _0x58e912;_0x3fe8f6[_0x1df4f5(0x1bf)]&&(_0x58e912=_0x116b58['questions'][_0x1df4f5(0xa53)](_0x2af297=>_0x2af297['id']===_0x3fe8f6[_0x1df4f5(0x1bf)]));!_0x58e912&&_0x3fe8f6[_0x1df4f5(0x3b8)]&&(_0x58e912=_0x116b58[_0x1df4f5(0x299)]['find'](_0x4a26eb=>(_0x4a26eb[_0x1df4f5(0x785)]||_0x4a26eb[_0x1df4f5(0x490)])===_0x3fe8f6['originalQuestionText']));let _0x349ff2=![];if(_0x58e912){const _0x1a736c=_0x58e912['questionType']||_0x116b58[_0x1df4f5(0x25e)];switch(_0x1a736c){case _0x1df4f5(0x5c5):if(_0x58e912[_0x1df4f5(0x35a)]&&_0x58e912[_0x1df4f5(0x6ce)]<_0x58e912[_0x1df4f5(0x35a)]['length']){const _0x541f42=_0x58e912[_0x1df4f5(0x35a)][_0x58e912['correctAnswerIndex']];_0x349ff2=_0x3fe8f6[_0x1df4f5(0x648)]===_0x541f42;}break;case _0x1df4f5(0x860):const _0x3273f2=_0x3fe8f6['answer']===!![]||_0x3fe8f6[_0x1df4f5(0x924)]==='true';_0x349ff2=_0x3273f2===_0x58e912[_0x1df4f5(0x185)];break;case'matching_item':_0x349ff2=_0x3fe8f6[_0x1df4f5(0x924)]===_0x58e912[_0x1df4f5(0xa97)];break;case'short_answer':_0x349ff2=await gradeShortAnswer(_0x3fe8f6[_0x1df4f5(0x924)],_0x58e912);break;default:_0x349ff2=_0x3fe8f6[_0x1df4f5(0x753)];break;}}if(_0x349ff2){_0x5a1b87++,_0xf49d81++;if(_0xf49d81===0x3)_0x46d2ef[_0x1df4f5(0x87a)](BADGES[_0x1df4f5(0x154)]['id']);}else _0xf49d81=0x0;_0x3ffc48[_0x1df4f5(0x87a)]({..._0x3fe8f6,'isCorrect':_0x349ff2});}let _0x198486=_0x5a1b87*0xa;_0x5a1b87===_0x116b58['questions'][_0x1df4f5(0x3e1)]&&(_0x198486+=0x32,_0x46d2ef[_0x1df4f5(0x87a)](BADGES['PERFECT_SCORE']['id'])),_0x32de88[_0x1df4f5(0x87a)]({..._0x20c081,'score':_0x5a1b87,'points':_0x198486,'badges':Array['from'](new Set(_0x46d2ef)),'answers':_0x3ffc48});}const _0x3cabf9=_0x32de88[_0x1df4f5(0x3e1)]>0x0?_0x32de88[0x0][_0x1df4f5(0x41d)]:0x0,_0x13442b=Math['max'](..._0x32de88['map'](_0x82b477=>_0x82b477[_0x1df4f5(0x41d)])),_0x360be2=_0x32de88[_0x1df4f5(0x3e1)]>0x0?_0x32de88[_0x32de88[_0x1df4f5(0x3e1)]-0x1][_0x1df4f5(0x41d)]:0x0,_0x234819=_0x32de88[_0x1df4f5(0x3e1)]>0x0?_0x32de88[_0x32de88[_0x1df4f5(0x3e1)]-0x1][_0x1df4f5(0x5ca)]:0x0,_0x437888=doc(db,_0x1df4f5(0x31f)+appId+_0x1df4f5(0x7dd)+_0x116b58['id']+_0x1df4f5(0x922),_0x4f7282);await updateDoc(_0x437888,{'attempts':_0x32de88,'firstScore':_0x3cabf9,'bestScore':_0x13442b,'latestScore':_0x360be2,'points':_0x234819});}function cleanupQuizOptions(_0xe3840e){const _0x45bebf=(_0x2ecf6e,_0x27e06b)=>_0x27e06b===0x0?_0x2ecf6e:_0x45bebf(_0x27e06b,_0x2ecf6e%_0x27e06b),_0x19728b=_0x1cb6d1=>{const _0xbb6ef1=_0x5982;if(typeof _0x1cb6d1!==_0xbb6ef1(0x217))return null;_0x1cb6d1=_0x1cb6d1[_0xbb6ef1(0x56f)]();const _0xd171df=_0x1cb6d1[_0xbb6ef1(0x5bf)](/[ /]/)[_0xbb6ef1(0x853)](_0xb0d35f=>_0xb0d35f!=='');if(_0xd171df['length']===0x3)return parseInt(_0xd171df[0x0])+parseInt(_0xd171df[0x1])/parseInt(_0xd171df[0x2]);else{if(_0xd171df[_0xbb6ef1(0x3e1)]===0x2)return parseInt(_0xd171df[0x0])/parseInt(_0xd171df[0x1]);else{if(_0xd171df[_0xbb6ef1(0x3e1)]===0x1&&!isNaN(_0xd171df[0x0]))return parseFloat(_0xd171df[0x0]);}}return null;},_0x2e87db=_0x4ee87d=>{const _0x2c3b43=_0x5982;if(typeof _0x4ee87d!=='string')return _0x4ee87d;const _0x5a7b85=_0x4ee87d[_0x2c3b43(0x9e0)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5a7b85){const _0x43c5a7=parseInt(_0x5a7b85[0x1]);let _0x51edfb=parseInt(_0x5a7b85[0x2]),_0x26a0fd=parseInt(_0x5a7b85[0x3]);const _0x3dc693=_0x45bebf(_0x51edfb,_0x26a0fd);_0x51edfb/=_0x3dc693,_0x26a0fd/=_0x3dc693;if(_0x26a0fd===0x1)return(_0x43c5a7+_0x51edfb)[_0x2c3b43(0x6dc)]();return _0x43c5a7+'\x20'+_0x51edfb+'/'+_0x26a0fd;}return _0x4ee87d;};return _0xe3840e&&_0xe3840e['questions']&&_0xe3840e['questions']['forEach'](_0x30c1a8=>{const _0x3aeff3=_0x5982;if(_0x30c1a8['questionType']===_0x3aeff3(0x5c5)&&_0x30c1a8['options']){const _0x5a9b02=new Map(),_0x34c3b1=_0x30c1a8[_0x3aeff3(0x35a)][_0x30c1a8['correctAnswerIndex']];_0x30c1a8[_0x3aeff3(0x35a)][_0x3aeff3(0x220)](_0x5f3df6=>{const _0x4eb81b=_0x3aeff3,_0x3bc8ec=_0x2e87db(_0x5f3df6),_0x4bfe97=_0x19728b(_0x3bc8ec);_0x4bfe97!==null&&!_0x5a9b02[_0x4eb81b(0xa16)](_0x4bfe97)&&_0x5a9b02[_0x4eb81b(0x331)](_0x4bfe97,_0x3bc8ec);}),_0x30c1a8[_0x3aeff3(0x35a)]=Array[_0x3aeff3(0x649)](_0x5a9b02[_0x3aeff3(0x792)]());const _0x343626=_0x30c1a8[_0x3aeff3(0x35a)][_0x3aeff3(0x765)](_0x1f0151=>_0x1f0151===_0x2e87db(_0x34c3b1));_0x30c1a8[_0x3aeff3(0x6ce)]=_0x343626!==-0x1?_0x343626:0x0;}}),_0xe3840e;}function showGameStartConfirmationModal(_0x263399,_0x3722fe,_0x100c4b){const _0x53b44f=_0x3fa4d9,_0xc5ca51=document[_0x53b44f(0x4d6)](_0x53b44f(0x81b));document['getElementById']('game-start-modal-title')['textContent']='เริ่มกิจกรรม:\x20'+_0x100c4b,document[_0x53b44f(0x4d6)](_0x53b44f(0x8fe))[_0x53b44f(0xa87)]=_0x263399,document[_0x53b44f(0x4d6)](_0x53b44f(0x4d1))['value']=_0x3722fe,document[_0x53b44f(0x4d6)](_0x53b44f(0x9ee))[_0x53b44f(0x5d4)]=!![],_0xc5ca51['classList']['remove']('hidden');}async function saveGameResultsAsSubmissions(_0x5988d9){const _0x3cd48b=_0x3fa4d9;console[_0x3cd48b(0x3c2)]('Attempting\x20to\x20save\x20game\x20results...',_0x5988d9);const _0x505069=_0x5988d9['quizId'];let _0xa7de0c=[];if(_0x5988d9[_0x3cd48b(0x452)])_0xa7de0c=Object[_0x3cd48b(0x25a)](_0x5988d9[_0x3cd48b(0x452)])[_0x3cd48b(0x9f0)](([_0xc5f5ed,_0x210aa9])=>({'name':_0xc5f5ed,..._0x210aa9}));else{if(_0x5988d9['groups'])Object[_0x3cd48b(0x792)](_0x5988d9['groups'])[_0x3cd48b(0x220)](_0xd6e698=>{const _0x4c1fa1=_0x3cd48b;_0xd6e698[_0x4c1fa1(0x2c9)][_0x4c1fa1(0x220)](_0x22ff00=>{const _0x57e9d9=_0x4c1fa1;_0xa7de0c[_0x57e9d9(0x87a)]({'name':_0x22ff00,'score':_0xd6e698['score']});});});else _0x5988d9['responses']&&Object[_0x3cd48b(0x25a)](_0x5988d9[_0x3cd48b(0xa39)])['forEach'](([_0x4f2da9,_0x3b3d4f])=>{const _0x5c9876=_0x3cd48b;_0xa7de0c[_0x5c9876(0x87a)]({'name':_0x4f2da9,..._0x3b3d4f});});}if(_0xa7de0c[_0x3cd48b(0x3e1)]===0x0){console[_0x3cd48b(0x3c2)](_0x3cd48b(0x407));return;}const _0x52ffdb=_0x5988d9[_0x3cd48b(0x6d0)]?.['questions'][_0x3cd48b(0x3e1)]||currentQuizData[_0x3cd48b(0x299)]['length'],_0x274c9e=writeBatch(db);for(const _0x59c1f7 of _0xa7de0c){const _0x583989=_0x59c1f7['score']||0x0,_0x1193b8=doc(db,_0x3cd48b(0x31f)+appId+_0x3cd48b(0x7dd)+_0x505069+_0x3cd48b(0x922),_0x59c1f7[_0x3cd48b(0xa19)]),_0x320098={'score':_0x583989,'points':_0x583989*0xa,'badges':_0x59c1f7['badges']||[],'submittedAt':new Date()[_0x3cd48b(0x3c3)](),'answers':(_0x59c1f7[_0x3cd48b(0x617)]||[])[_0x3cd48b(0x9f0)](_0x4dde37=>({'questionId':_0x4dde37['questionId'],'answer':_0x4dde37['answer'],'answerText':_0x4dde37[_0x3cd48b(0x648)],'isCorrect':_0x4dde37[_0x3cd48b(0x753)],'originalQuestionText':_0x4dde37[_0x3cd48b(0x3b8)]}))},_0xa6a146=await getDoc(_0x1193b8),_0x130646=_0xa6a146[_0x3cd48b(0x77c)]()?_0xa6a146[_0x3cd48b(0x342)]():{},_0x1a6325=_0x130646[_0x3cd48b(0x6cf)]||0x0,_0x15a8f0=_0x130646[_0x3cd48b(0x594)]||[],_0x149086={'studentName':_0x59c1f7[_0x3cd48b(0xa19)],'totalQuestions':_0x52ffdb,'attempts':arrayUnion(_0x320098),'latestScore':_0x583989,'latestSubmittedAt':_0x320098['submittedAt'],'bestScore':Math['max'](_0x1a6325,_0x583989),'firstScore':_0x15a8f0['length']===0x0?_0x583989:_0x130646[_0x3cd48b(0x26a)]||0x0};_0x274c9e['set'](_0x1193b8,_0x149086,{'merge':!![]});}try{await _0x274c9e['commit'](),showMessage(_0x3cd48b(0x264)+_0xa7de0c[_0x3cd48b(0x3e1)]+_0x3cd48b(0x6a0));const _0x54179c=_0x5988d9[_0x3cd48b(0x6d0)]?.[_0x3cd48b(0x59c)]||currentQuizData?.[_0x3cd48b(0x59c)]||currentProjectId;if(_0x54179c){const _0x225cb0=[...new Set(_0xa7de0c[_0x3cd48b(0x9f0)](_0x9048bb=>_0x9048bb[_0x3cd48b(0xa19)]))];for(const _0x1bc771 of _0x225cb0){await updateStudentProfile(_0x54179c,_0x1bc771);}}}catch(_0x283090){console[_0x3cd48b(0x1d8)](_0x3cd48b(0xa14),_0x283090),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(){const _0x22ba2a=_0x3fa4d9;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x22ba2a(0x299)]||!userId){showMessage(_0x22ba2a(0x4c0));return;}const _0xbb3e11=document['getElementById'](_0x22ba2a(0x3ca));_0xbb3e11[_0x22ba2a(0x907)]=!![],_0xbb3e11[_0x22ba2a(0xa8d)]=_0x22ba2a(0x5b8);const _0x5021b1=document[_0x22ba2a(0x4d6)](_0x22ba2a(0x7c9))['checked'];let _0x43d9d7=document['getElementById']('editable-quiz-topic')['innerText']['trim']();_0x5021b1&&!_0x43d9d7[_0x22ba2a(0x4f6)](_0x22ba2a(0xa5f))&&(_0x43d9d7=_0x22ba2a(0x752)+_0x43d9d7);try{const _0x22a754={'resultsDisplay':document[_0x22ba2a(0x4d6)](_0x22ba2a(0xa05))[_0x22ba2a(0xa87)],'shuffle':document[_0x22ba2a(0x4d6)](_0x22ba2a(0x53d))[_0x22ba2a(0xa87)],'timerMode':document[_0x22ba2a(0x4d6)]('timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0x22ba2a(0x8f7))[_0x22ba2a(0xa87)])||0xa,'passingScore':parseInt(document[_0x22ba2a(0x4d6)](_0x22ba2a(0x4df))['value'])||0x0,'isAdaptive':document[_0x22ba2a(0x4d6)](_0x22ba2a(0x995))[_0x22ba2a(0x5d4)],'loopUntilPass':document[_0x22ba2a(0x4d6)](_0x22ba2a(0x6bc))[_0x22ba2a(0x5d4)]},_0x3fad65=(currentQuizData['questions']||[])[_0x22ba2a(0x9f0)]((_0x5e6917,_0x43fe0d)=>{const _0x3dd143=_0x22ba2a,_0x232dcd=document[_0x3dd143(0x4d6)]('quiz-type-select')[_0x3dd143(0xa87)],_0x3cddbd={'id':'q_'+Date[_0x3dd143(0x9ed)]()+'_'+_0x43fe0d,'questionText':_0x5e6917[_0x3dd143(0x490)]||'','explanation':_0x5e6917['explanation']||'ไม่มีคำอธิบาย','questionType':_0x5e6917[_0x3dd143(0x36e)]||_0x232dcd,'imageCode':_0x5e6917[_0x3dd143(0x39e)]||null};return(_0x3cddbd['questionType']===_0x3dd143(0x5c5)||_0x3cddbd[_0x3dd143(0x36e)]===_0x3dd143(0x307)||_0x3cddbd[_0x3dd143(0x36e)]==='mixed'&&_0x5e6917[_0x3dd143(0x35a)])&&(_0x3cddbd[_0x3dd143(0x35a)]=_0x5e6917[_0x3dd143(0x35a)]||[],_0x3cddbd[_0x3dd143(0x6ce)]=_0x5e6917[_0x3dd143(0x6ce)]!==undefined?_0x5e6917[_0x3dd143(0x6ce)]:0x0),(_0x3cddbd[_0x3dd143(0x36e)]==='short_answer'||_0x3cddbd['questionType']===_0x3dd143(0x68c)||_0x3cddbd[_0x3dd143(0x36e)]===_0x3dd143(0x483)&&_0x5e6917[_0x3dd143(0x202)])&&(_0x3cddbd['idealAnswer']=_0x5e6917[_0x3dd143(0x202)]||''),_0x3cddbd['questionType']===_0x3dd143(0x860)&&(_0x3cddbd[_0x3dd143(0x185)]=_0x5e6917[_0x3dd143(0x185)]===!![]),_0x3cddbd['questionType']===_0x3dd143(0x4f4)&&(_0x3cddbd[_0x3dd143(0x785)]=_0x5e6917['stem']||'',_0x3cddbd[_0x3dd143(0xa97)]=_0x5e6917['correctResponse']||'',_0x3cddbd[_0x3dd143(0x3df)]=_0x5e6917[_0x3dd143(0x3df)]||[]),_0x3cddbd;}),_0x354410={'topic':_0x43d9d7,'quizType':currentQuizData[_0x22ba2a(0x25e)]||_0x22ba2a(0x5c5),'questions':_0x3fad65,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x22ba2a(0x3c3)](),'status':_0x22ba2a(0x8bd),'settings':_0x22a754,'quizMode':_0x5021b1?_0x22ba2a(0x2c0):_0x22ba2a(0x427),'pairedQuizId':null,'lessonPlan':null};let _0x362f4f;while(!![]){_0x362f4f=Math[_0x22ba2a(0x67c)](0x3e8+Math[_0x22ba2a(0x78e)]()*0x2328)[_0x22ba2a(0x6dc)]();const _0x232424=await getDoc(doc(db,_0x22ba2a(0x31f)+appId+_0x22ba2a(0x8ca),_0x362f4f));if(!_0x232424[_0x22ba2a(0x77c)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x22ba2a(0x8ca),_0x362f4f),_0x354410),currentQuizData[_0x22ba2a(0x8a1)]=_0x22a754,currentQuizData['id']=_0x362f4f;const _0x260c0f=document['getElementById'](_0x22ba2a(0x61a));_0x260c0f[_0x22ba2a(0xa8d)]=_0x22ba2a(0x2a3)+_0x362f4f+_0x22ba2a(0x580),document[_0x22ba2a(0x4d6)](_0x22ba2a(0x1e3))[_0x22ba2a(0x795)]('click',()=>copyTextToClipboard(_0x362f4f,_0x22ba2a(0x5b1))),document['getElementById'](_0x22ba2a(0x28a))[_0x22ba2a(0x795)](_0x22ba2a(0x96d),()=>handleStartLiveRace(_0x362f4f)),document[_0x22ba2a(0x4d6)](_0x22ba2a(0x909))[_0x22ba2a(0x795)](_0x22ba2a(0x96d),()=>startPresentation(currentQuizData)),document['getElementById'](_0x22ba2a(0x199))[_0x22ba2a(0x795)]('click',startAdminTest),showMessage(_0x22ba2a(0x78c));}catch(_0x5d4766){console['error']('Error\x20saving\x20quiz:',_0x5d4766),showMessage(_0x22ba2a(0x7cf)),_0xbb3e11['disabled']=![],_0xbb3e11[_0x22ba2a(0xa8d)]=_0x22ba2a(0x75b);}}function promptForProjectAndSave(){const _0xcf6299=_0x3fa4d9,_0x4375d3=document['getElementById'](_0xcf6299(0x82f)),_0x3413f8=document[_0xcf6299(0x4d6)]('move-quiz-project-select'),_0x3939dc=_0x4375d3[_0xcf6299(0x8c1)]('h3'),_0xa0f3e4=document[_0xcf6299(0x4d6)](_0xcf6299(0x54f));_0x3939dc[_0xcf6299(0x5b9)]=_0xcf6299(0x421),_0xa0f3e4['textContent']='เลือกและบันทึก';allProjects[_0xcf6299(0x3e1)]===0x0?(_0x3413f8[_0xcf6299(0xa8d)]=_0xcf6299(0x91e),_0xa0f3e4[_0xcf6299(0x907)]=!![]):(_0x3413f8[_0xcf6299(0xa8d)]=allProjects[_0xcf6299(0x9f0)](_0x522b62=>_0xcf6299(0x838)+_0x522b62['id']+'\x22>'+_0x522b62[_0xcf6299(0x508)]+'</option>')['join'](''),_0xa0f3e4[_0xcf6299(0x907)]=![]);_0x4375d3[_0xcf6299(0x21b)][_0xcf6299(0x621)](_0xcf6299(0x88c));const _0x52fbc3=()=>{const _0x1cbf0a=_0xcf6299,_0x46626f=_0x3413f8[_0x1cbf0a(0xa87)];_0x46626f?(currentProjectId=_0x46626f,_0x4375d3[_0x1cbf0a(0x21b)][_0x1cbf0a(0x214)](_0x1cbf0a(0x88c)),saveQuiz(),_0x3939dc[_0x1cbf0a(0x5b9)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0xa0f3e4['textContent']=_0x1cbf0a(0x5a5),_0xa0f3e4[_0x1cbf0a(0x51a)](_0x1cbf0a(0x96d),_0x52fbc3),_0xa0f3e4['addEventListener'](_0x1cbf0a(0x96d),confirmMoveQuiz)):showMessage(_0x1cbf0a(0x456));};_0xa0f3e4[_0xcf6299(0x51a)](_0xcf6299(0x96d),confirmMoveQuiz),_0xa0f3e4['addEventListener'](_0xcf6299(0x96d),_0x52fbc3);}function copyTextToClipboard(_0x5b0751,_0x59c7aa){const _0x4353ad=_0x3fa4d9,_0x1914d7=document[_0x4353ad(0x75c)](_0x4353ad(0x677));_0x1914d7[_0x4353ad(0xa87)]=_0x5b0751,_0x1914d7[_0x4353ad(0x694)][_0x4353ad(0x878)]='fixed',_0x1914d7[_0x4353ad(0x694)]['opacity']='0',document[_0x4353ad(0x4e1)][_0x4353ad(0x541)](_0x1914d7),_0x1914d7[_0x4353ad(0x9a9)](),_0x1914d7[_0x4353ad(0xa1a)]();try{const _0x166684=document[_0x4353ad(0x955)]('copy');showMessage(_0x166684?_0x59c7aa:_0x4353ad(0x8fa));}catch(_0x3e1b9c){showMessage(_0x4353ad(0x8fa)),console[_0x4353ad(0x1d8)](_0x4353ad(0xa45),_0x3e1b9c);}document[_0x4353ad(0x4e1)][_0x4353ad(0x97e)](_0x1914d7);}function listenForProjectQuizzes(_0x128434){const _0x1b9c4f=_0x3fa4d9,_0x1aea0d=collection(db,_0x1b9c4f(0x31f)+appId+'/public/data/quizzes'),_0x51f96b=query(_0x1aea0d,where(_0x1b9c4f(0x59c),'==',_0x128434));unsubscribeQuizzesListener=onSnapshot(_0x51f96b,async _0x172c28=>{const _0x30816c=_0x1b9c4f;allQuizzes=_0x172c28[_0x30816c(0x7ed)][_0x30816c(0x9f0)](_0x58fd62=>({'id':_0x58fd62['id'],..._0x58fd62[_0x30816c(0x342)]()})),renderQuizzes();},_0x273f73=>{const _0x1db01f=_0x1b9c4f;console['error']('Error\x20fetching\x20project\x20quizzes:',_0x273f73),document[_0x1db01f(0x4d6)]('project-quizzes-list')[_0x1db01f(0xa8d)]=_0x1db01f(0x5db);});}async function renderQuizzes(){const _0x281936=_0x3fa4d9,_0xa6ce9=document[_0x281936(0x4d6)](_0x281936(0x721)),_0x5281ab=document['getElementById'](_0x281936(0x94e))[_0x281936(0xa87)][_0x281936(0x4f3)]();let _0x316cab;currentProjectId===_0x281936(0x157)?_0x316cab=starredQuizzes:_0x316cab=allQuizzes;let _0x49d263=_0x316cab[_0x281936(0x853)](_0x216a8a=>_0x216a8a['topic']['toLowerCase']()[_0x281936(0x8f0)](_0x5281ab));_0x49d263[_0x281936(0x171)]((_0x185f58,_0x4a5a57)=>new Date(_0x4a5a57[_0x281936(0xa4f)])-new Date(_0x185f58[_0x281936(0xa4f)]));if(_0x49d263[_0x281936(0x3e1)]===0x0){_0xa6ce9['innerHTML']=_0x281936(0x473);return;}const _0x2ea01f={},_0x3c948f=_0x49d263['map'](async _0x572c25=>{const _0x3a5a04=_0x281936,_0x11d986=collection(db,_0x3a5a04(0x31f)+appId+_0x3a5a04(0x7dd)+_0x572c25['id']+_0x3a5a04(0x922)),_0x22aef0=await getDocs(_0x11d986);_0x2ea01f[_0x572c25['id']]=_0x22aef0[_0x3a5a04(0x590)];});await Promise[_0x281936(0x277)](_0x3c948f);let _0x5cdf2a='';_0x49d263[_0x281936(0x220)](_0x5f587b=>{const _0x2d8de2=_0x281936,_0x4dc236=_0x2ea01f[_0x5f587b['id']]||0x0,_0xe5a864=_0x5f587b['status']||'active',_0x350115=_0x5f587b['settings']?.[_0x2d8de2(0x36a)]||_0x2d8de2(0x4c3);let _0x187049='',_0x32a40b='';const _0x26d705=new Date();let _0x3f148d=_0xe5a864;if(_0xe5a864==='scheduled'){const _0x488926=_0x5f587b[_0x2d8de2(0x95a)]?new Date(_0x5f587b[_0x2d8de2(0x95a)]):null,_0x44369b=_0x5f587b[_0x2d8de2(0x372)]?new Date(_0x5f587b[_0x2d8de2(0x372)]):null;if(_0x44369b&&_0x26d705>_0x44369b)_0x3f148d='inactive';else _0x488926&&_0x26d705<_0x488926?_0x3f148d=_0x2d8de2(0x87f):_0x3f148d=_0x2d8de2(0x8bd);}switch(_0x3f148d){case'inactive':_0x187049=_0x2d8de2(0x1d2),_0x32a40b=_0x2d8de2(0x50d);break;case _0x2d8de2(0x87f):_0x187049=_0x2d8de2(0x54a),_0x32a40b=_0x2d8de2(0x65f);break;case _0x2d8de2(0x8bd):_0x187049=_0x350115!==_0x2d8de2(0x4c3)?_0x2d8de2(0x65a):_0x2d8de2(0x22b),_0x32a40b=_0x2d8de2(0x35b);break;default:_0x187049=_0x2d8de2(0x462),_0x32a40b=_0x2d8de2(0x35b);break;}let _0x5ef48a='';const _0x4514a7={'day':'2-digit','month':_0x2d8de2(0x745),'year':'numeric','hour':'2-digit','minute':_0x2d8de2(0x745),'hour12':![]};if(_0xe5a864==='scheduled'){if(_0x5f587b[_0x2d8de2(0x95a)])_0x5ef48a+=_0x2d8de2(0x3ce)+new Date(_0x5f587b[_0x2d8de2(0x95a)])[_0x2d8de2(0x861)](_0x2d8de2(0x6ca),_0x4514a7)+_0x2d8de2(0x453);if(_0x5f587b['endTime'])_0x5ef48a+=_0x2d8de2(0x872)+new Date(_0x5f587b['endTime'])[_0x2d8de2(0x861)](_0x2d8de2(0x6ca),_0x4514a7)+_0x2d8de2(0x453);}let _0x4dbe84='';if(_0x5f587b[_0x2d8de2(0x5fa)]){const _0x2230c9=allQuizzes['find'](_0x4872b6=>_0x4872b6['id']===_0x5f587b[_0x2d8de2(0x5fa)]);if(_0x2230c9){let _0x2f2de9,_0x1cddd2;new Date(_0x5f587b[_0x2d8de2(0xa4f)])<new Date(_0x2230c9[_0x2d8de2(0xa4f)])?(_0x2f2de9=_0x5f587b['id'],_0x1cddd2=_0x2230c9['id']):(_0x2f2de9=_0x2230c9['id'],_0x1cddd2=_0x5f587b['id']),_0x4dbe84+=_0x2d8de2(0x758)+_0x1cddd2+'\x22\x20data-pre-test-id=\x22'+_0x2f2de9+_0x2d8de2(0x33b);}}else _0x5f587b[_0x2d8de2(0x7e9)]===_0x2d8de2(0x2c0)&&(_0x4dbe84+=_0x2d8de2(0x3d5)+_0x5f587b['id']+_0x2d8de2(0x53b));if(_0x5f587b['quizMode']==='pre-test'&&_0x4dc236>0x0)_0x4dbe84+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5f587b['id']+_0x2d8de2(0x353);else!_0x5f587b['pairedQuizId']&&_0x5f587b['quizMode']!==_0x2d8de2(0x2c0)&&_0x4dc236>0x0&&(_0x4dbe84+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5f587b['id']+_0x2d8de2(0xa5d));let _0x185df0='';_0x5f587b[_0x2d8de2(0x5fa)]?_0x185df0=_0x2d8de2(0x435)+_0x5f587b['id']+_0x2d8de2(0x8ec):_0x185df0=_0x2d8de2(0x435)+_0x5f587b['id']+_0x2d8de2(0x4fc),_0x5cdf2a+=_0x2d8de2(0x53a)+_0x5f587b['id']+_0x2d8de2(0x19a)+_0x5f587b[_0x2d8de2(0x836)]+_0x2d8de2(0x316)+_0x5f587b[_0x2d8de2(0x299)]['length']+_0x2d8de2(0x472)+new Date(_0x5f587b[_0x2d8de2(0xa4f)])[_0x2d8de2(0x861)](_0x2d8de2(0x6ca))+_0x2d8de2(0x1c9)+_0x4dc236+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ef48a+_0x2d8de2(0x4c4)+_0x32a40b+'\x22>'+_0x187049+_0x2d8de2(0x696)+_0x5f587b['id']+_0x2d8de2(0x618)+_0x5f587b['id']+_0x2d8de2(0x9f6)+(_0x5f587b[_0x2d8de2(0x7d6)]?_0x2d8de2(0x50e):_0x2d8de2(0x58e))+_0x2d8de2(0x447)+_0x4dbe84+_0x2d8de2(0x466)+_0x5f587b['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x5f587b['id']+_0x2d8de2(0x17f)+_0x5f587b['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5f587b['id']+_0x2d8de2(0x19c)+_0x5f587b['id']+_0x2d8de2(0x4eb)+_0x5f587b['id']+_0x2d8de2(0x3d2)+_0x5f587b['id']+_0x2d8de2(0xa6b)+_0x5f587b[_0x2d8de2(0x836)]+_0x2d8de2(0x48a)+_0x5f587b['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5f587b['id']+_0x2d8de2(0x4c1)+_0x185df0+_0x2d8de2(0x969)+_0x5f587b['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5f587b['id']+_0x2d8de2(0xa24)+_0x5f587b['id']+_0x2d8de2(0x833)+_0x5f587b['id']+_0x2d8de2(0x370)+_0x5f587b['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5f587b['id']+_0x2d8de2(0x9bf)+_0x5f587b['id']+_0x2d8de2(0x28b)+_0x5f587b['id']+'\x22\x20data-topic=\x22'+_0x5f587b[_0x2d8de2(0x836)]+_0x2d8de2(0x29a)+_0x5f587b['id']+_0x2d8de2(0xa34);}),_0xa6ce9[_0x281936(0xa8d)]=_0x5cdf2a,document[_0x281936(0x76c)](_0x281936(0x2f9))['forEach'](_0x5601d6=>{const _0x157227=_0x281936;_0x5601d6[_0x157227(0x795)](_0x157227(0x96d),()=>{const _0x4a4d57=_0x157227,_0x34a65d=_0x5601d6['dataset'][_0x4a4d57(0x556)];showQuizDetailView(_0x34a65d);});});}async function handleUnpairQuiz(_0x1055b0){const _0x1bb2eb=_0x3fa4d9,_0x35d57f=allQuizzes[_0x1bb2eb(0xa53)](_0x500b99=>_0x500b99['id']===_0x1055b0);if(!_0x35d57f||!_0x35d57f[_0x1bb2eb(0x5fa)]){showMessage(_0x1bb2eb(0x48b));return;}showConfirmation(_0x1bb2eb(0x389),async()=>{const _0x164166=_0x1bb2eb;try{const _0x155903=doc(db,_0x164166(0x31f)+appId+_0x164166(0x8ca),_0x1055b0),_0x2ef8cb=doc(db,_0x164166(0x31f)+appId+_0x164166(0x8ca),_0x35d57f[_0x164166(0x5fa)]),_0x316e6f=writeBatch(db);_0x316e6f[_0x164166(0x897)](_0x155903,{'pairedQuizId':null}),_0x316e6f[_0x164166(0x897)](_0x2ef8cb,{'pairedQuizId':null}),await _0x316e6f[_0x164166(0x4ef)](),showMessage(_0x164166(0x4d2));}catch(_0x2557e5){console[_0x164166(0x1d8)](_0x164166(0x533),_0x2557e5),showMessage(_0x164166(0x49b));}});}function formatAndPrintLessonPlan(_0x1ea36c,_0x4db139){const _0x5d384f=_0x3fa4d9,_0x5d6e65=window[_0x5d384f(0x7d4)]('',_0x5d384f(0xa0b)),_0x3ca24e=_0x5d384f(0x7c5)+_0x4db139[_0x5d384f(0x836)]+_0x5d384f(0x3ac)+_0x4db139[_0x5d384f(0x836)]+_0x5d384f(0x9ad)+_0x1ea36c['learningGaps']['map'](_0xe1fde1=>_0x5d384f(0x570)+_0xe1fde1+_0x5d384f(0x243))[_0x5d384f(0x3d6)]('')+_0x5d384f(0x576)+_0x1ea36c[_0x5d384f(0x2d5)]+_0x5d384f(0x9bd)+_0x1ea36c[_0x5d384f(0x40c)][_0x5d384f(0x9f0)](_0x409ed8=>_0x5d384f(0x807)+_0x409ed8[_0x5d384f(0x8fd)]+_0x5d384f(0x747)+_0x409ed8[_0x5d384f(0x2be)]+_0x5d384f(0x82a))[_0x5d384f(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5d6e65[_0x5d384f(0x8db)]['write'](_0x3ca24e),_0x5d6e65['document'][_0x5d384f(0x40b)](),_0x5d6e65['onload']=function(){setTimeout(()=>{const _0x3e9905=_0x5982;_0x5d6e65[_0x3e9905(0x504)]();},0x3e8);};}async function handleAiFixFormula(_0x53b366){const _0x11c0d2=_0x3fa4d9,_0x656cbf=document[_0x11c0d2(0x8c1)]('.question-editor-item[data-q-index=\x22'+_0x53b366+'\x22]');if(!_0x656cbf)return;const _0x5f4666=_0x656cbf[_0x11c0d2(0x5f3)][_0x11c0d2(0x46c)],_0x1d4800=_0x656cbf[_0x11c0d2(0x8c1)](_0x11c0d2(0x6e1));let _0x3367f9={'question':_0x656cbf[_0x11c0d2(0x8c1)]('textarea')[_0x11c0d2(0xa87)]};switch(_0x5f4666){case _0x11c0d2(0x5c5):_0x3367f9['options']=Array[_0x11c0d2(0x649)](_0x656cbf['querySelectorAll'](_0x11c0d2(0x7ba)))[_0x11c0d2(0x9f0)](_0x323ef4=>_0x323ef4[_0x11c0d2(0xa87)]);break;case _0x11c0d2(0x775):_0x3367f9[_0x11c0d2(0x202)]=_0x656cbf['querySelector'](_0x11c0d2(0xa6a))['value'];break;case _0x11c0d2(0x4f4):_0x3367f9[_0x11c0d2(0xa97)]=_0x656cbf[_0x11c0d2(0x8c1)](_0x11c0d2(0x567))[_0x11c0d2(0xa87)];break;}_0x1d4800[_0x11c0d2(0xa8d)]=_0x11c0d2(0x2ff),_0x1d4800['disabled']=!![];try{const _0xf25849=_0x11c0d2(0x535)+JSON[_0x11c0d2(0x73b)](_0x3367f9)+_0x11c0d2(0x757),_0x63dc82={'type':_0x11c0d2(0x782),'properties':{'fixedData':{'type':_0x11c0d2(0x782),'properties':{'question':{'type':_0x11c0d2(0x359)},'options':{'type':'ARRAY','items':{'type':_0x11c0d2(0x359)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x11c0d2(0x359)}},'required':[_0x11c0d2(0x8fd)]}},'required':[_0x11c0d2(0x9be)]},_0x4d560d=await callAnalysisApi(_0xf25849,_0x63dc82);if(_0x4d560d&&_0x4d560d[_0x11c0d2(0x9be)]){const _0x52833e=_0x4d560d[_0x11c0d2(0x9be)];_0x656cbf[_0x11c0d2(0x8c1)](_0x11c0d2(0x677))[_0x11c0d2(0xa87)]=_0x52833e[_0x11c0d2(0x8fd)]||_0x3367f9['question'];switch(_0x5f4666){case'multiple_choice':_0x52833e[_0x11c0d2(0x35a)]&&_0x52833e[_0x11c0d2(0x35a)][_0x11c0d2(0x3e1)]>0x0&&_0x656cbf[_0x11c0d2(0x76c)](_0x11c0d2(0x7ba))[_0x11c0d2(0x220)]((_0x113835,_0x2b3fe3)=>{const _0x57d256=_0x11c0d2;_0x113835[_0x57d256(0xa87)]=_0x52833e[_0x57d256(0x35a)][_0x2b3fe3]||_0x3367f9['options'][_0x2b3fe3];});break;case _0x11c0d2(0x775):_0x656cbf[_0x11c0d2(0x8c1)](_0x11c0d2(0xa6a))[_0x11c0d2(0xa87)]=_0x52833e[_0x11c0d2(0x202)]||_0x3367f9[_0x11c0d2(0x202)];break;case _0x11c0d2(0x4f4):_0x656cbf[_0x11c0d2(0x8c1)](_0x11c0d2(0x567))[_0x11c0d2(0xa87)]=_0x52833e['correctResponse']||_0x3367f9[_0x11c0d2(0xa97)];break;}if(_0x3367f9['question']!==_0x52833e[_0x11c0d2(0x8fd)])try{const _0x147878=collection(db,'artifacts/'+appId+_0x11c0d2(0x25c));await addDoc(_0x147878,{'broken':_0x3367f9['question'],'fixed':_0x52833e['question'],'createdAt':serverTimestamp()});}catch(_0x2372c0){console['error'](_0x11c0d2(0x70e),_0x2372c0);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x11c0d2(0x203));}catch(_0xb41b24){console[_0x11c0d2(0x1d8)]('AI\x20Formula\x20Fix\x20Error:',_0xb41b24),showMessage(_0x11c0d2(0x93c));}finally{_0x1d4800[_0x11c0d2(0xa8d)]=_0x11c0d2(0x1f8),_0x1d4800['disabled']=![];}}async function handleGenerateLessonPlan(_0x17cd8a){const _0x4bbed2=_0x3fa4d9;showMessage(_0x4bbed2(0x296));try{const _0x1caa87=doc(db,_0x4bbed2(0x31f)+appId+'/public/data/quizzes',_0x17cd8a),_0x5e3e56=await getDoc(_0x1caa87);if(!_0x5e3e56[_0x4bbed2(0x77c)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x2b360c={'id':_0x17cd8a,..._0x5e3e56[_0x4bbed2(0x342)]()},_0x58fea0=collection(db,_0x4bbed2(0x31f)+appId+_0x4bbed2(0x8ca),_0x17cd8a,'submissions'),_0x2b3ffb=await getDocs(_0x58fea0),_0x11b472=_0x2b3ffb[_0x4bbed2(0x7ed)][_0x4bbed2(0x9f0)](_0x344fe7=>_0x344fe7[_0x4bbed2(0x342)]());if(_0x11b472['length']===0x0)throw new Error(_0x4bbed2(0x7ff));const _0x175780=calculateItemAnalysis(_0x2b360c,_0x11b472)[_0x4bbed2(0x5df)],_0x360854=calculateDistractorAnalysis(_0x2b360c,_0x11b472),_0x2060dc=_0x519868=>{const _0x545abc=_0x4bbed2;if(!_0x519868)return'';return _0x519868[_0x545abc(0x159)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x545abc(0x159)](/\n/g,'\x5cn');};let _0x4e9c4c=_0x4bbed2(0x891);_0x2b360c[_0x4bbed2(0x299)]['forEach']((_0x3adfab,_0x4427b7)=>{const _0x1d6544=_0x4bbed2,_0x5e8c96=_0x175780[_0x4427b7]?.['p'][_0x1d6544(0x459)](0x2)||_0x1d6544(0x417),_0x3e0d93=_0x175780[_0x4427b7]?.['r'][_0x1d6544(0x459)](0x2)||'N/A',_0x441feb=_0x2060dc(_0x3adfab[_0x1d6544(0x490)]||_0x3adfab[_0x1d6544(0x785)]);_0x4e9c4c+=_0x1d6544(0x250)+(_0x4427b7+0x1)+'\x20(p='+_0x5e8c96+_0x1d6544(0x50f)+_0x3e0d93+_0x1d6544(0x49d)+_0x441feb+'\x5cn';if(_0x3adfab[_0x1d6544(0x36e)]==='multiple_choice'&&_0x360854[_0x4427b7]){const _0x5ce088=_0x360854[_0x4427b7],_0x1b341b=Object[_0x1d6544(0x720)](_0x5ce088)[_0x1d6544(0x853)](_0x289e79=>parseInt(_0x289e79)!==_0x3adfab[_0x1d6544(0x6ce)])['sort']((_0x3c0546,_0x4fe7b4)=>_0x5ce088[_0x4fe7b4][_0x1d6544(0x7e0)]-_0x5ce088[_0x3c0546][_0x1d6544(0x7e0)])[0x0];if(_0x1b341b&&_0x5ce088[_0x1b341b][_0x1d6544(0x7e0)]>0x0){const _0x2ec476=_0x2060dc(_0x5ce088[_0x1b341b][_0x1d6544(0x606)]);_0x4e9c4c+=_0x1d6544(0xa4b)+_0x2ec476+_0x1d6544(0x615);}}});const _0x44002e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x2b360c[_0x4bbed2(0x836)]+_0x4bbed2(0x557)+_0x4e9c4c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x28dada={'type':_0x4bbed2(0x782),'properties':{'learningGaps':{'type':_0x4bbed2(0x2f3),'items':{'type':_0x4bbed2(0x359)}},'teachingContent':{'type':_0x4bbed2(0x359)},'practiceProblems':{'type':_0x4bbed2(0x2f3),'items':{'type':_0x4bbed2(0x782),'properties':{'question':{'type':_0x4bbed2(0x359)},'solution':{'type':_0x4bbed2(0x359)}}}}},'required':[_0x4bbed2(0x98a),_0x4bbed2(0x2d5),_0x4bbed2(0x40c)]},_0x3cb64b=await callAnalysisApi(_0x44002e,_0x28dada);await updateDoc(_0x1caa87,{'lessonPlan':_0x3cb64b});const _0x183c5e=_0x4bbed2(0x6b2)+_0x2b360c[_0x4bbed2(0x836)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x3cb64b[_0x4bbed2(0x98a)]['map'](_0x347253=>_0x4bbed2(0x570)+_0x347253+_0x4bbed2(0x243))[_0x4bbed2(0x3d6)]('')+_0x4bbed2(0x2ca)+_0x3cb64b[_0x4bbed2(0x2d5)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x3cb64b[_0x4bbed2(0x40c)]['map'](_0x9c23c9=>_0x4bbed2(0x15c)+_0x9c23c9[_0x4bbed2(0x8fd)]+_0x4bbed2(0x6ac)+_0x9c23c9[_0x4bbed2(0x2be)]+_0x4bbed2(0x534))['join']('')+_0x4bbed2(0x8c8);document[_0x4bbed2(0x4d6)](_0x4bbed2(0x7ae))[_0x4bbed2(0x5b9)]=_0x4bbed2(0x2c2)+_0x2b360c[_0x4bbed2(0x836)],document[_0x4bbed2(0x4d6)]('lesson-plan-content')[_0x4bbed2(0xa8d)]=_0x183c5e,document[_0x4bbed2(0x4d6)](_0x4bbed2(0x38d))[_0x4bbed2(0x21b)][_0x4bbed2(0x621)](_0x4bbed2(0x88c));if(window[_0x4bbed2(0xa2e)])MathJax[_0x4bbed2(0x2d1)]();messageModal['classList'][_0x4bbed2(0x214)](_0x4bbed2(0x88c));}catch(_0x4d2745){console['error'](_0x4bbed2(0x1ce),_0x4d2745),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4d2745[_0x4bbed2(0x936)]);}}async function handleDuplicateQuiz(_0x8dd3ca){const _0x21c511=_0x3fa4d9;try{const _0xc81094=doc(db,_0x21c511(0x31f)+appId+_0x21c511(0x8ca),_0x8dd3ca),_0x4ffae9=await getDoc(_0xc81094);if(_0x4ffae9['exists']()){const _0x5d9b82=_0x4ffae9[_0x21c511(0x342)]();let _0x40a736='',_0x3c7f81=_0x21c511(0x427),_0x54ca27=null;if(_0x5d9b82['quizMode']===_0x21c511(0x2c0)){let _0x187b0b=_0x5d9b82[_0x21c511(0x836)][_0x21c511(0x159)](_0x21c511(0xa5f),'')[_0x21c511(0x56f)]();_0x40a736=_0x21c511(0x8ae)+_0x187b0b,_0x3c7f81=_0x21c511(0x565),_0x54ca27=_0x8dd3ca;}else _0x40a736='(คัดลอก)\x20'+_0x5d9b82[_0x21c511(0x836)];const _0x120154={..._0x5d9b82,'topic':_0x40a736,'createdAt':new Date()[_0x21c511(0x3c3)](),'quizMode':_0x3c7f81,'pairedQuizId':_0x54ca27};let _0x476a52;while(!![]){_0x476a52=Math['floor'](0x3e8+Math[_0x21c511(0x78e)]()*0x2328)['toString']();const _0x96eabf=await getDoc(doc(db,_0x21c511(0x31f)+appId+_0x21c511(0x8ca),_0x476a52));if(!_0x96eabf[_0x21c511(0x77c)]())break;}const _0x30b6b0=doc(db,_0x21c511(0x31f)+appId+_0x21c511(0x8ca),_0x476a52);await setDoc(_0x30b6b0,_0x120154),_0x120154[_0x21c511(0x7e9)]===_0x21c511(0x565)&&await updateDoc(_0xc81094,{'pairedQuizId':_0x476a52}),showMessage(_0x21c511(0x80a));}else throw new Error(_0x21c511(0x37b));}catch(_0x5c53ab){console[_0x21c511(0x1d8)](_0x21c511(0x80f),_0x5c53ab),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x2248d5,_0x123f66=!![]){const _0x41b596=_0x3fa4d9;try{const _0x37f44d=writeBatch(db),_0x50b2b6=collection(db,'artifacts/'+appId+_0x41b596(0x7dd)+_0x2248d5+'/submissions'),_0x1ee98f=await getDocs(_0x50b2b6);_0x1ee98f[_0x41b596(0x220)](_0x348f7f=>{const _0x297ab0=_0x41b596;_0x37f44d[_0x297ab0(0x32d)](doc(_0x50b2b6,_0x348f7f['id']));});const _0x55f906=doc(db,_0x41b596(0x31f)+appId+_0x41b596(0x8ca),_0x2248d5);_0x37f44d[_0x41b596(0x32d)](_0x55f906),await _0x37f44d[_0x41b596(0x4ef)](),_0x123f66&&showMessage(_0x41b596(0x826));}catch(_0xbbc831){console[_0x41b596(0x1d8)](_0x41b596(0x845),_0xbbc831),_0x123f66&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x2a55b7){const _0x9d4ee1=_0x3fa4d9;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x37876d=doc(db,'artifacts/'+appId+_0x9d4ee1(0x8ca),_0x2a55b7),_0x1a0a6c=await getDoc(_0x37876d);if(!_0x1a0a6c[_0x9d4ee1(0x77c)]()){showMessage(_0x9d4ee1(0x9d5));return;}const _0x18156f={'id':_0x1a0a6c['id'],..._0x1a0a6c[_0x9d4ee1(0x342)]()};currentQuizData=_0x18156f;const _0x5d9523=doc(db,_0x9d4ee1(0x31f)+appId+_0x9d4ee1(0x4e0),_0x18156f[_0x9d4ee1(0x59c)]),_0x2f6578=await getDoc(_0x5d9523);_0x2f6578['exists']()?(currentProjectData=_0x2f6578['data'](),currentProjectId=_0x18156f['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x18156f['projectId']);document[_0x9d4ee1(0x4d6)](_0x9d4ee1(0x9ec))[_0x9d4ee1(0x5b9)]=_0x18156f[_0x9d4ee1(0x836)],document[_0x9d4ee1(0x4d6)](_0x9d4ee1(0x279))[_0x9d4ee1(0x5b9)]=_0x2a55b7;const _0x40f302=collection(db,'artifacts/'+appId+_0x9d4ee1(0x8ca),_0x2a55b7,_0x9d4ee1(0x687));unsubscribeSubmissionsListener=onSnapshot(_0x40f302,_0x511ca4=>{const _0x38a614=_0x9d4ee1,_0x58ef2f=_0x511ca4[_0x38a614(0x7ed)][_0x38a614(0x9f0)](_0x1f7197=>({'id':_0x1f7197['id'],..._0x1f7197['data']()}));currentSubmissions=_0x58ef2f;const _0x4a7e4c=_0x58ef2f[_0x38a614(0x853)](_0x2a0262=>_0x2a0262['attempts']&&_0x2a0262['attempts'][_0x38a614(0x3e1)]>0x0);renderBehaviorLog(_0x58ef2f),renderAnswerGrid(currentProjectData[_0x38a614(0x5ff)],_0x4a7e4c,_0x18156f),renderAnalytics(_0x18156f,_0x4a7e4c),renderQuizResultsTable(currentProjectData['students'],_0x58ef2f,_0x18156f),renderQuizLeaderboard(_0x4a7e4c,_0x18156f,_0x38a614(0x727));}),showView('quiz-results');}catch(_0x42319c){console[_0x9d4ee1(0x1d8)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x42319c),showMessage(_0x9d4ee1(0x4ea));}}function renderAnswerGrid(_0x20d5f4,_0xce7345,_0x282367){const _0x234bd0=_0x3fa4d9,_0x49e64e=document[_0x234bd0(0x4d6)](_0x234bd0(0x947));if(!_0x49e64e)return;if(!_0x20d5f4||_0x20d5f4[_0x234bd0(0x3e1)]===0x0){_0x49e64e[_0x234bd0(0xa8d)]='<p\x20class.=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x227c71=_0x282367[_0x234bd0(0x299)],_0x183c60=_0xce7345[_0x234bd0(0x842)]((_0x4532e2,_0x13a420)=>{const _0x5a822f=_0x234bd0;return _0x4532e2[_0x13a420[_0x5a822f(0x238)]]=_0x13a420,_0x4532e2;},{}),_0x1ec302=_0x4e3937=>String[_0x234bd0(0x74e)](0x41+_0x4e3937),_0x99e41a=_0x12321b=>{const _0x1162c7=_0x234bd0,_0x277bb8=_0x12321b[_0x1162c7(0x36e)]||_0x282367[_0x1162c7(0x25e)];switch(_0x277bb8){case _0x1162c7(0x5c5):return _0x12321b[_0x1162c7(0x35a)]&&_0x12321b[_0x1162c7(0x35a)][_0x1162c7(0x3e1)]>_0x12321b[_0x1162c7(0x6ce)]?_0x1ec302(_0x12321b[_0x1162c7(0x6ce)]):'-';case _0x1162c7(0x860):const _0x427a2b=_0x12321b[_0x1162c7(0x185)]===!![]||String(_0x12321b[_0x1162c7(0x185)])[_0x1162c7(0x4f3)]()===_0x1162c7(0x218);return _0x427a2b?_0x1162c7(0x7a6):'ไม่ใช่';case _0x1162c7(0x4f4):return _0x12321b[_0x1162c7(0xa97)]||'-';case _0x1162c7(0x775):return _0x1162c7(0x8bf);default:return'-';}},_0x1ae698=(_0xd3bf7c,_0x36a840)=>{const _0x2dae75=_0x234bd0;if(_0x36a840[_0x2dae75(0x924)]===null||_0x36a840[_0x2dae75(0x924)]===undefined)return'-';const _0x231be7=_0xd3bf7c['questionType']||_0x282367[_0x2dae75(0x25e)];switch(_0x231be7){case _0x2dae75(0x5c5):const _0x304cb8=_0xd3bf7c[_0x2dae75(0x35a)][_0x2dae75(0x765)](_0x23f8dc=>_0x23f8dc===_0x36a840[_0x2dae75(0x648)]);return _0x304cb8!==-0x1?_0x1ec302(_0x304cb8):_0x36a840['answerText']||'-';case _0x2dae75(0x860):if(_0x36a840[_0x2dae75(0x924)]=='0'||_0x36a840[_0x2dae75(0x924)]===!![]||_0x36a840['answer']==='true')return'ใช่';return _0x2dae75(0x368);default:return _0x36a840[_0x2dae75(0x924)];}};let _0x2818cf=_0x234bd0(0x69d)+_0x227c71[_0x234bd0(0x9f0)]((_0x268967,_0x275af8)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x275af8+0x1)+_0x234bd0(0x88d))[_0x234bd0(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x227c71[_0x234bd0(0x9f0)](_0x2339d9=>_0x234bd0(0x281)+_0x99e41a(_0x2339d9)+_0x234bd0(0xa0e))[_0x234bd0(0x3d6)]('')+_0x234bd0(0x77a);_0x20d5f4[_0x234bd0(0x220)](_0x653d55=>{const _0x425272=_0x234bd0;_0x2818cf+=_0x425272(0x62d),_0x2818cf+=_0x425272(0x1f3)+_0x653d55+'</td>';const _0x34e61f=_0x183c60[_0x653d55];if(_0x34e61f){const _0x3f85f6=_0x34e61f[_0x425272(0x594)][_0x34e61f['attempts'][_0x425272(0x3e1)]-0x1];_0x227c71['forEach']((_0x2e4201,_0x48b93c)=>{const _0x9537d8=_0x425272,_0x5e8df8=_0x3f85f6[_0x9537d8(0x617)]['find'](_0x289d7b=>_0x289d7b['questionId']===_0x2e4201['id']);if(_0x5e8df8){const _0x320582=_0x5e8df8[_0x9537d8(0x753)]===!![],_0x231116=_0x320582?'bg-green-100':_0x9537d8(0x4dd);_0x2818cf+=_0x9537d8(0x393)+_0x231116+'\x22>'+_0x1ae698(_0x2e4201,_0x5e8df8)+'</td>';}else _0x2818cf+=_0x9537d8(0x659);});}else _0x2818cf+=_0x227c71[_0x425272(0x9f0)](()=>_0x425272(0x5f8))[_0x425272(0x3d6)]('');_0x2818cf+=_0x425272(0x9ea);}),_0x2818cf+=_0x234bd0(0x640),_0x49e64e[_0x234bd0(0xa8d)]=_0x2818cf;}function renderQuizResultsTable(_0x3b97e3,_0x3db6fb,_0x5566e8){const _0x13e8c6=_0x3fa4d9,_0x44254f=_0x3db6fb[_0x13e8c6(0x842)]((_0x57711e,_0x18d97c)=>{return _0x57711e[_0x18d97c['studentName']]=_0x18d97c,_0x57711e;},{}),_0x366435=document[_0x13e8c6(0x8c1)](_0x13e8c6(0x5b7));_0x366435&&!_0x366435[_0x13e8c6(0xa8d)][_0x13e8c6(0x8f0)]('จัดการ')&&(_0x366435[_0x13e8c6(0xa8d)]+=_0x13e8c6(0x1e7));const _0x58ceb8=document[_0x13e8c6(0x4d6)](_0x13e8c6(0x919));if(!_0x3b97e3||_0x3b97e3[_0x13e8c6(0x3e1)]===0x0){_0x58ceb8['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x5a428c=_0x5566e8[_0x13e8c6(0x791)]===!![],_0xe7e5fe=_0x5566e8[_0x13e8c6(0x8a1)]?.[_0x13e8c6(0x82d)]??-0x1;let _0x31817e='';_0x3b97e3[_0x13e8c6(0x220)](_0x42d110=>{const _0x7de47=_0x13e8c6,_0x4574e4=_0x44254f[_0x42d110];let _0x3ba43d=_0x7de47(0x953)+(_0x5a428c?_0x7de47(0x624):_0x7de47(0x668))+'\x22>'+(_0x5a428c?_0x7de47(0x9c8):_0x7de47(0x5bd))+'</span></td>';if(_0x4574e4){if(_0x4574e4[_0x7de47(0x594)]&&_0x4574e4[_0x7de47(0x594)][_0x7de47(0x3e1)]>0x0){let _0x146e54=_0x5a428c?_0x4574e4[_0x7de47(0x6cf)]===_0x4574e4[_0x7de47(0x805)]:_0xe7e5fe!==-0x1&&_0x4574e4['bestScore']>=_0xe7e5fe;const _0x3a92cb=_0x146e54?_0x7de47(0x3cc):_0x7de47(0x8b5),_0x24e8ec=_0x146e54?_0x7de47(0x8d6):_0x7de47(0x8c7),_0x53171c='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x3a92cb+'\x22>'+_0x24e8ec+_0x7de47(0x598),_0x49b6d6=_0x7de47(0x57d)+(_0x4574e4['attempts']?.[_0x7de47(0x3e1)]||0x1)+_0x7de47(0x4f7);_0x31817e+=_0x7de47(0x4d7)+_0x42d110+_0x7de47(0x351)+_0x4574e4[_0x7de47(0x6cf)]+'\x20/\x20'+_0x4574e4[_0x7de47(0x805)]+_0x7de47(0x222)+_0x53171c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ba43d+_0x7de47(0x2e4)+_0x4574e4[_0x7de47(0x26a)]+_0x7de47(0x60f)+_0x4574e4[_0x7de47(0x805)]+_0x7de47(0x76b)+_0x4574e4[_0x7de47(0x6aa)]+_0x7de47(0x60f)+_0x4574e4[_0x7de47(0x805)]+_0x7de47(0x91c)+(_0x4574e4[_0x7de47(0x5ca)]||0x0)+_0x7de47(0x222)+_0x49b6d6+_0x7de47(0x9d9)+new Date(_0x4574e4[_0x7de47(0x44e)])['toLocaleString'](_0x7de47(0x6ca))+_0x7de47(0x2de)+_0x42d110+_0x7de47(0x82e);}else{const _0x13d1d7=_0x7de47(0x859);_0x31817e+=_0x7de47(0x476)+_0x42d110+_0x7de47(0x308)+_0x3ba43d+_0x7de47(0x2ae)+_0x13d1d7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4574e4['startedAt'])[_0x7de47(0x861)](_0x7de47(0x6ca))+_0x7de47(0xa30)+_0x42d110+_0x7de47(0x82e);}}else{const _0x3e58f8='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x31817e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x42d110+_0x7de47(0x904)+_0x3ba43d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e58f8+_0x7de47(0x761);}}),_0x58ceb8[_0x13e8c6(0xa8d)]=_0x31817e;}async function confirmRenameQuiz(){const _0x4ee28d=_0x3fa4d9,_0x560948=document[_0x4ee28d(0x4d6)](_0x4ee28d(0x2a8))[_0x4ee28d(0xa87)][_0x4ee28d(0x56f)]();if(!_0x560948){showMessage(_0x4ee28d(0x2ce));return;}if(!actionTargetId)return;const _0x56a3bc=doc(db,_0x4ee28d(0x31f)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x56a3bc,{'topic':_0x560948}),showMessage(_0x4ee28d(0x8c6)),renameQuizModal[_0x4ee28d(0x21b)][_0x4ee28d(0x214)](_0x4ee28d(0x88c)),actionTargetId=null;}catch(_0x554e51){console['error'](_0x4ee28d(0x992),_0x554e51),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x2f2f25){const _0x3f7c7c=_0x3fa4d9;actionTargetId=_0x2f2f25;const _0x598bf=document[_0x3f7c7c(0x4d6)]('move-quiz-project-select');_0x598bf[_0x3f7c7c(0xa8d)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal['classList']['remove'](_0x3f7c7c(0x88c));try{const _0x490f4d=collection(db,_0x3f7c7c(0x31f)+appId+'/public/data/projects'),_0x745063=await getDocs(_0x490f4d),_0x4ac26b=_0x745063[_0x3f7c7c(0x7ed)][_0x3f7c7c(0x9f0)](_0x5d1367=>({'id':_0x5d1367['id'],..._0x5d1367[_0x3f7c7c(0x342)]()})),_0x14ca0f=_0x4ac26b['filter'](_0x5c57ad=>_0x5c57ad['id']!==currentProjectId);if(_0x14ca0f['length']===0x0){_0x598bf[_0x3f7c7c(0xa8d)]=_0x3f7c7c(0x806),document[_0x3f7c7c(0x4d6)]('confirm-move-quiz-btn')[_0x3f7c7c(0x907)]=!![];return;}_0x598bf[_0x3f7c7c(0xa8d)]=_0x14ca0f[_0x3f7c7c(0x9f0)](_0x55efe4=>_0x3f7c7c(0x838)+_0x55efe4['id']+'\x22>'+_0x55efe4['projectName']+'</option>')[_0x3f7c7c(0x3d6)](''),document[_0x3f7c7c(0x4d6)]('confirm-move-quiz-btn')['disabled']=![];}catch(_0x1e2949){console[_0x3f7c7c(0x1d8)]('Error\x20fetching\x20projects\x20for\x20move:',_0x1e2949),showMessage(_0x3f7c7c(0x5f7)),moveQuizModal[_0x3f7c7c(0x21b)][_0x3f7c7c(0x214)](_0x3f7c7c(0x88c));}}async function confirmMoveQuiz(){const _0x18d5e5=_0x3fa4d9,_0x3b0243=document[_0x18d5e5(0x4d6)](_0x18d5e5(0x16a))['value'];if(!_0x3b0243){showMessage(_0x18d5e5(0x843));return;}if(!actionTargetId)return;const _0x5e9097=doc(db,_0x18d5e5(0x31f)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x5e9097,{'projectId':_0x3b0243}),showMessage(_0x18d5e5(0x254)),moveQuizModal['classList'][_0x18d5e5(0x214)]('hidden'),actionTargetId=null;}catch(_0x5c21c1){console[_0x18d5e5(0x1d8)](_0x18d5e5(0xa7e),_0x5c21c1),showMessage(_0x18d5e5(0x4ed));}}async function handleQuizSettings(_0x569447){const _0x4c96dc=_0x3fa4d9;actionTargetId=_0x569447;const _0x51286c=doc(db,_0x4c96dc(0x31f)+appId+_0x4c96dc(0x8ca),_0x569447);try{const _0xfabc07=await getDoc(_0x51286c);if(_0xfabc07[_0x4c96dc(0x77c)]()){const _0x370294=_0xfabc07[_0x4c96dc(0x342)](),_0x588fa6=_0x370294[_0x4c96dc(0x8a1)]||{},_0x418c4c=_0x370294['questions'][_0x4c96dc(0x3e1)];document['getElementById'](_0x4c96dc(0x5d7))['value']=_0x588fa6[_0x4c96dc(0x42e)]||_0x4c96dc(0x4c3),document[_0x4c96dc(0x4d6)](_0x4c96dc(0x66f))[_0x4c96dc(0xa87)]=_0x588fa6[_0x4c96dc(0x84e)]||'show_results_and_answers',document[_0x4c96dc(0x4d6)](_0x4c96dc(0x62f))[_0x4c96dc(0xa87)]=_0x588fa6[_0x4c96dc(0x36a)]||_0x4c96dc(0x4c3),document['getElementById'](_0x4c96dc(0x406))[_0x4c96dc(0xa87)]=_0x588fa6[_0x4c96dc(0x33e)]||0xa,document['getElementById'](_0x4c96dc(0x7be))['value']=_0x588fa6['passingScore']||Math[_0x4c96dc(0x67c)](_0x418c4c/0x2),document[_0x4c96dc(0x4d6)](_0x4c96dc(0x7be))[_0x4c96dc(0x525)]=_0x418c4c,document['getElementById'](_0x4c96dc(0x2f1))['checked']=_0x588fa6[_0x4c96dc(0x84d)]||![],document['getElementById'](_0x4c96dc(0x68a))['checked']=_0x588fa6[_0x4c96dc(0x623)]||![];const _0x272990=_0x588fa6[_0x4c96dc(0xa73)]||![];document[_0x4c96dc(0x4d6)](_0x4c96dc(0x230))[_0x4c96dc(0x5d4)]=_0x272990,document[_0x4c96dc(0x4d6)]('modal-confidence-mode-select')[_0x4c96dc(0xa87)]=_0x588fa6[_0x4c96dc(0x3d7)]||_0x4c96dc(0x1a5);const _0x36984d=document[_0x4c96dc(0x4d6)](_0x4c96dc(0x6e6));_0x36984d[_0x4c96dc(0x21b)][_0x4c96dc(0x8d1)](_0x4c96dc(0x88c),!_0x272990),document[_0x4c96dc(0x4d6)](_0x4c96dc(0x62f))[_0x4c96dc(0x3fd)](new Event(_0x4c96dc(0x5ea))),quizSettingsModal[_0x4c96dc(0x21b)][_0x4c96dc(0x621)](_0x4c96dc(0x88c));}else showMessage(_0x4c96dc(0x9d5));}catch(_0x16088a){console[_0x4c96dc(0x1d8)]('Error\x20fetching\x20quiz\x20settings:',_0x16088a),showMessage(_0x4c96dc(0x425));}}async function confirmQuizSettings(){const _0x389ed3=_0x3fa4d9;if(!actionTargetId)return;const _0x4d4097=doc(db,_0x389ed3(0x31f)+appId+_0x389ed3(0x8ca),actionTargetId),_0x2cca58={'shuffle':document[_0x389ed3(0x4d6)]('modal-shuffle-select')[_0x389ed3(0xa87)],'resultsDisplay':document[_0x389ed3(0x4d6)](_0x389ed3(0x66f))[_0x389ed3(0xa87)],'timerMode':document['getElementById'](_0x389ed3(0x62f))[_0x389ed3(0xa87)],'timerDuration':parseInt(document[_0x389ed3(0x4d6)]('modal-timer-duration-input')[_0x389ed3(0xa87)])||0xa,'passingScore':parseInt(document[_0x389ed3(0x4d6)](_0x389ed3(0x7be))[_0x389ed3(0xa87)])||0x0,'isAdaptive':document[_0x389ed3(0x4d6)](_0x389ed3(0x2f1))[_0x389ed3(0x5d4)],'loopUntilPass':document[_0x389ed3(0x4d6)](_0x389ed3(0x68a))['checked'],'isConfidenceScoringEnabled':document[_0x389ed3(0x4d6)](_0x389ed3(0x230))[_0x389ed3(0x5d4)],'confidenceMode':document[_0x389ed3(0x4d6)](_0x389ed3(0xa20))[_0x389ed3(0xa87)]};try{await updateDoc(_0x4d4097,{'settings':_0x2cca58}),showMessage(_0x389ed3(0x555)),quizSettingsModal[_0x389ed3(0x21b)][_0x389ed3(0x214)]('hidden'),actionTargetId=null;}catch(_0x128514){console[_0x389ed3(0x1d8)]('Error\x20updating\x20quiz\x20settings:',_0x128514),showMessage(_0x389ed3(0x422));}}async function confirmQuizStatus(){const _0x1a51ba=_0x3fa4d9;if(!actionTargetId)return;const _0x292a30=doc(db,_0x1a51ba(0x31f)+appId+_0x1a51ba(0x8ca),actionTargetId),_0x49b166=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x49b166){showMessage(_0x1a51ba(0x781));return;}const _0xee7dc3=_0x49b166['value'];let _0xed92b3={};if(_0xee7dc3==='active'||_0xee7dc3==='inactive')_0xed92b3={'status':_0xee7dc3,'startTime':null,'endTime':null};else{if(_0xee7dc3===_0x1a51ba(0x35d)){const _0x2b7fd0=document[_0x1a51ba(0x4d6)](_0x1a51ba(0x79d))[_0x1a51ba(0xa87)],_0x152237=document[_0x1a51ba(0x4d6)]('quiz-end-time')[_0x1a51ba(0xa87)];if(!_0x2b7fd0&&!_0x152237){showMessage(_0x1a51ba(0x901));return;}_0xed92b3={'status':_0x1a51ba(0x182),'startTime':_0x2b7fd0?new Date(_0x2b7fd0)[_0x1a51ba(0x3c3)]():null,'endTime':_0x152237?new Date(_0x152237)['toISOString']():null};}}try{await updateDoc(_0x292a30,_0xed92b3),showMessage(_0x1a51ba(0x90b)),quizStatusModal[_0x1a51ba(0x21b)][_0x1a51ba(0x214)](_0x1a51ba(0x88c)),actionTargetId=null;}catch(_0x2d783f){console['error'](_0x1a51ba(0x88f),_0x2d783f),showMessage(_0x1a51ba(0xa2b));}}function listenForStudentProfiles(_0x722c42){const _0x50143b=_0x3fa4d9,_0x1cdf4d=collection(db,'artifacts/'+appId+_0x50143b(0x642)+_0x722c42+_0x50143b(0x29b));unsubscribeStudentProfilesListener=onSnapshot(_0x1cdf4d,_0x52a880=>{const _0x5be73d=_0x50143b,_0x39683b=_0x52a880[_0x5be73d(0x7ed)][_0x5be73d(0x9f0)](_0x355150=>_0x355150[_0x5be73d(0x342)]());renderLeaderboard(_0x39683b,'leaderboard-table-body');},_0x2f5c22=>{const _0x10cb6a=_0x50143b;console[_0x10cb6a(0x1d8)](_0x10cb6a(0x811),_0x2f5c22),document[_0x10cb6a(0x4d6)]('leaderboard-table-body')[_0x10cb6a(0xa8d)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x1a8e29,_0x1ec791){const _0x25709e=_0x3fa4d9,_0xeac184=document[_0x25709e(0x4d6)](_0x1ec791);if(!_0x1a8e29||_0x1a8e29[_0x25709e(0x3e1)]===0x0){_0xeac184[_0x25709e(0xa8d)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x1a8e29['sort']((_0xaf4e4,_0x13c9e9)=>{const _0x321328=_0x25709e,_0xe8d9d9=(_0x13c9e9[_0x321328(0x388)]||0x0)-(_0xaf4e4[_0x321328(0x388)]||0x0);if(_0xe8d9d9!==0x0)return _0xe8d9d9;const _0x5412fb=(_0x13c9e9['badgesCount']?.[_0x321328(0x3b4)]||0x0)-(_0xaf4e4[_0x321328(0x5f1)]?.[_0x321328(0x3b4)]||0x0);if(_0x5412fb!==0x0)return _0x5412fb;const _0x427aea=(_0x13c9e9[_0x321328(0x5f1)]?.['first_try_ace']||0x0)-(_0xaf4e4[_0x321328(0x5f1)]?.['first_try_ace']||0x0);if(_0x427aea!==0x0)return _0x427aea;const _0x48e9e0=(_0x13c9e9['badgesCount']?.[_0x321328(0x257)]||0x0)-(_0xaf4e4[_0x321328(0x5f1)]?.['perfect_score']||0x0);if(_0x48e9e0!==0x0)return _0x48e9e0;const _0x139648=(_0x13c9e9[_0x321328(0x5f1)]?.[_0x321328(0xa92)]||0x0)-(_0xaf4e4[_0x321328(0x5f1)]?.['quick_thinker']||0x0);if(_0x139648!==0x0)return _0x139648;return _0xaf4e4[_0x321328(0x238)][_0x321328(0x3a2)](_0x13c9e9[_0x321328(0x238)],'th');});let _0x202b02='';_0x1a8e29[_0x25709e(0x220)]((_0x1eeff8,_0x126119)=>{const _0x2614fe=_0x25709e,_0x5b026a=_0x126119+0x1,_0x28e282=_0x1eeff8[_0x2614fe(0x5f1)]||{};let _0xf4a50c='';const _0x120326=[_0x2614fe(0x3b4),_0x2614fe(0x257),_0x2614fe(0x829),_0x2614fe(0xa92)];_0x120326['forEach'](_0x2de937=>{const _0x2e6381=_0x2614fe;if(_0x28e282[_0x2de937]>0x0){const _0x517a8b=Object[_0x2e6381(0x792)](BADGES)[_0x2e6381(0xa53)](_0x17ebee=>_0x17ebee['id']===_0x2de937);_0x517a8b&&(_0x2de937===_0x2e6381(0x3b4)?_0xf4a50c+=_0x2e6381(0x24a)+_0x517a8b['name']+_0x2e6381(0x664)+_0x517a8b[_0x2e6381(0x657)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xf4a50c+=_0x2e6381(0x24a)+_0x517a8b[_0x2e6381(0xa19)]+'\x20('+_0x28e282[_0x2de937]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x517a8b[_0x2e6381(0x657)]+_0x2e6381(0x4e9)+_0x28e282[_0x2de937]+_0x2e6381(0x500));}}),_0x202b02+=_0x2614fe(0x4af)+_0x5b026a+_0x2614fe(0x215)+_0x1eeff8[_0x2614fe(0x238)]+_0x2614fe(0x36d)+(_0x1eeff8['totalPoints']||0x0)+_0x2614fe(0x215)+(_0xf4a50c||'-')+_0x2614fe(0x348);}),_0xeac184[_0x25709e(0xa8d)]=_0x202b02;}function displayLoopScreen(_0x3b369a,_0x412ef8,_0x33e91a){const _0x146ed4=_0x3fa4d9;let _0x31633a='';_0x33e91a!=='show_pass_fail_only'&&(_0x31633a=_0x146ed4(0x812)+_0x3b369a+_0x146ed4(0x60f)+_0x412ef8+_0x146ed4(0x2ed));const _0x2d238b=_0x146ed4(0x3ea)+_0x31633a+_0x146ed4(0x510);studentResultArea[_0x146ed4(0xa8d)]=_0x2d238b,studentResultArea[_0x146ed4(0x21b)][_0x146ed4(0x621)](_0x146ed4(0x88c)),studentQuizArea['classList'][_0x146ed4(0x214)]('hidden'),document[_0x146ed4(0x4d6)](_0x146ed4(0x44d))[_0x146ed4(0x795)](_0x146ed4(0x96d),()=>{const _0xa68af1=_0x146ed4;studentResultArea[_0xa68af1(0x21b)][_0xa68af1(0x214)](_0xa68af1(0x88c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x38ecfd,_0x56c281,_0x5a3cb3){const _0x2949d6=_0x3fa4d9,_0x3f194b=document[_0x2949d6(0x4d6)](_0x5a3cb3),_0x1a021b=_0x5a3cb3==='student-quiz-leaderboard-table-body',_0x4d2778=_0x56c281['questions'][_0x2949d6(0x3e1)],_0x1aab86=document[_0x2949d6(0x4d6)](_0x5a3cb3)[_0x2949d6(0x305)](_0x2949d6(0x787));if(_0x1aab86&&!_0x1a021b){const _0x565c77=_0x1aab86[_0x2949d6(0x8c1)]('thead');_0x565c77['innerHTML']=_0x2949d6(0x6cc);}if(!_0x38ecfd||_0x38ecfd[_0x2949d6(0x3e1)]===0x0){_0x3f194b[_0x2949d6(0xa8d)]='<tr><td\x20colspan=\x22'+(_0x1a021b?0x6:0x8)+_0x2949d6(0x783);return;}const _0x59f19f=[..._0x38ecfd];_0x59f19f['sort']((_0x443c7e,_0x39cd16)=>{const _0x1fba1a=_0x2949d6;let _0x4815dc,_0x11782c;switch(quizLeaderboardSortBy){case _0x1fba1a(0x238):_0x4815dc=_0x443c7e[_0x1fba1a(0x238)]||'',_0x11782c=_0x39cd16['studentName']||'';return quizLeaderboardSortOrder===_0x1fba1a(0x8af)?_0x4815dc[_0x1fba1a(0x3a2)](_0x11782c,'th'):_0x11782c['localeCompare'](_0x4815dc,'th');case'points':_0x4815dc=_0x443c7e[_0x1fba1a(0x5ca)]||0x0,_0x11782c=_0x39cd16['points']||0x0;break;case _0x1fba1a(0x594):_0x4815dc=_0x443c7e['attempts']?.[_0x1fba1a(0x3e1)]||0x1,_0x11782c=_0x39cd16[_0x1fba1a(0x594)]?.[_0x1fba1a(0x3e1)]||0x1;break;case _0x1fba1a(0x44e):_0x4815dc=new Date(_0x443c7e[_0x1fba1a(0x44e)]),_0x11782c=new Date(_0x39cd16[_0x1fba1a(0x44e)]);break;case _0x1fba1a(0x6cf):default:_0x4815dc=_0x443c7e[_0x1fba1a(0x6cf)],_0x11782c=_0x39cd16[_0x1fba1a(0x6cf)];break;}if(_0x4815dc<_0x11782c)return quizLeaderboardSortOrder===_0x1fba1a(0x8af)?-0x1:0x1;if(_0x4815dc>_0x11782c)return quizLeaderboardSortOrder===_0x1fba1a(0x8af)?0x1:-0x1;return 0x0;});const _0x2d103e=_0x56c281[_0x2949d6(0x791)]===!![],_0x2141e1=_0x56c281[_0x2949d6(0x8a1)]?.[_0x2949d6(0x82d)]??-0x1;let _0x39dd0b='';_0x59f19f['forEach']((_0x41872a,_0x33c1c2)=>{const _0x31b312=_0x2949d6,_0x4eb9d4=_0x33c1c2+0x1;let _0x2e3da1=_0x31b312(0x670);if(_0x2d103e||_0x2141e1!==-0x1){let _0x263d5f=_0x2d103e?_0x41872a['bestScore']===_0x4d2778:_0x41872a['bestScore']>=_0x2141e1;const _0x15fb87=_0x263d5f?_0x31b312(0x3cc):_0x31b312(0x8b5),_0x15577d=_0x263d5f?'ผ่าน':_0x31b312(0x8c7);_0x2e3da1=_0x31b312(0x211)+_0x15fb87+'\x22>'+_0x15577d+_0x31b312(0x598);}const _0x50ad20=_0x41872a['attempts'][_0x41872a[_0x31b312(0x594)][_0x31b312(0x3e1)]-0x1],_0x23fc77=(_0x50ad20['badges']||[])[_0x31b312(0x9f0)](_0x3f3bdb=>{const _0x5ab4bc=_0x31b312,_0x3b960d=Object[_0x5ab4bc(0x792)](BADGES)[_0x5ab4bc(0xa53)](_0x1ab713=>_0x1ab713['id']===_0x3f3bdb);return _0x3b960d?_0x5ab4bc(0x543)+_0x3b960d[_0x5ab4bc(0xa19)]+_0x5ab4bc(0x6b9)+_0x3b960d[_0x5ab4bc(0x657)]+_0x5ab4bc(0x67b):'';})[_0x31b312(0x3d6)]('');_0x39dd0b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x4eb9d4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x41872a[_0x31b312(0x238)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x41872a[_0x31b312(0x6cf)]+'\x20/\x20'+_0x4d2778+_0x31b312(0xa72)+_0x2e3da1+_0x31b312(0x750)+(_0x41872a[_0x31b312(0x5ca)]||0x0)+_0x31b312(0xa72)+(_0x1a021b?'':_0x31b312(0x2d3)+(_0x41872a[_0x31b312(0x594)]?.['length']||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a021b?'':_0x31b312(0x320)+new Date(_0x41872a['latestSubmittedAt'])[_0x31b312(0x861)](_0x31b312(0x6ca))+_0x31b312(0xa0e))+_0x31b312(0x27b)+(_0x23fc77||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3f194b['innerHTML']=_0x39dd0b,_0x1aab86&&!_0x1a021b&&_0x1aab86[_0x2949d6(0x76c)](_0x2949d6(0x9df))[_0x2949d6(0x220)](_0x50961b=>{const _0x30a248=_0x2949d6,_0x19da37=_0x50961b[_0x30a248(0x8c1)]('.sort-indicator');if(_0x19da37)_0x19da37[_0x30a248(0x621)]();_0x50961b['dataset'][_0x30a248(0x171)]===quizLeaderboardSortBy&&(_0x50961b['innerHTML']+=_0x30a248(0x847)+(quizLeaderboardSortOrder===_0x30a248(0x8af)?'▲':'▼')+_0x30a248(0x397));});}async function handleDeleteSubmission(_0xe45ce9){const _0x408f45=_0x3fa4d9;if(!currentQuizData||!currentQuizData['id']||!_0xe45ce9){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x408f45(0x6eb)+_0xe45ce9+_0x408f45(0x378),async()=>{const _0x2bdf41=_0x408f45,_0x3f218a=currentQuizData['id'],_0x5b5958=doc(db,_0x2bdf41(0x31f)+appId+_0x2bdf41(0x7dd)+_0x3f218a+_0x2bdf41(0x922),_0xe45ce9);try{await deleteDoc(_0x5b5958),showMessage(_0x2bdf41(0x547)+_0xe45ce9+_0x2bdf41(0x5ac));}catch(_0x66d8a5){console[_0x2bdf41(0x1d8)](_0x2bdf41(0x3ee),_0x66d8a5),showMessage(_0x2bdf41(0x55a));}});}async function handleLoadQuiz(){const _0x528fd9=_0x3fa4d9,_0x2574f1=document['getElementById'](_0x528fd9(0x7fc)),_0x32201d=_0x2574f1[_0x528fd9(0xa87)][_0x528fd9(0x56f)]();if(!_0x32201d){showMessage(_0x528fd9(0xa4e));return;}loadQuizBtn[_0x528fd9(0x907)]=!![],loadQuizBtn[_0x528fd9(0xa8d)]=_0x528fd9(0x5e8);try{const _0x4005ae=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x32201d),_0xd5184f=await getDoc(_0x4005ae);if(!_0xd5184f[_0x528fd9(0x77c)]()){showMessage(_0x528fd9(0x6da));return;}currentQuizData={'id':_0xd5184f['id'],..._0xd5184f[_0x528fd9(0x342)]()};const _0x48696c=currentQuizData['status']||_0x528fd9(0x8bd),_0xf0505a=new Date();if(_0x48696c==='inactive'){showMessage(_0x528fd9(0x43a));return;}if(_0x48696c==='scheduled'){const _0x3e8884=currentQuizData['startTime']?new Date(currentQuizData[_0x528fd9(0x95a)]):null,_0x2d5d0f=currentQuizData['endTime']?new Date(currentQuizData[_0x528fd9(0x372)]):null;if(_0x3e8884&&_0xf0505a<_0x3e8884){showMessage(_0x528fd9(0x77b)+_0x3e8884[_0x528fd9(0x861)](_0x528fd9(0x6ca),{'hour12':![]}));return;}if(_0x2d5d0f&&_0xf0505a>_0x2d5d0f){showMessage(_0x528fd9(0x9c6));return;}}const _0x461c51=currentQuizData[_0x528fd9(0x59c)];currentProjectId=_0x461c51;const _0x1ad180=doc(db,_0x528fd9(0x31f)+appId+'/public/data/projects',_0x461c51),_0x30835a=await getDoc(_0x1ad180);if(!_0x30835a['exists']()){showMessage(_0x528fd9(0x2a0));return;}const _0x95479a=_0x30835a['data']();currentStudentProjectData=_0x95479a,displayStudentNameSelector(_0x95479a[_0x528fd9(0x5ff)],currentQuizData['topic']);}catch(_0x497829){console['error'](_0x528fd9(0x73f),_0x497829),showMessage(_0x528fd9(0x9ca));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x528fd9(0xa8d)]=_0x528fd9(0x95f);}}async function handleJoinLiveGame(){const _0x182d7b=_0x3fa4d9,_0x30807a=document['getElementById']('game-pin-input'),_0x2903e4=document['getElementById'](_0x182d7b(0x6d5)),_0x10396d=document[_0x182d7b(0x4d6)](_0x182d7b(0x59d)),_0x207dfa=_0x30807a[_0x182d7b(0xa87)]['trim'](),_0xc04755=_0x2903e4[_0x182d7b(0xa87)][_0x182d7b(0x56f)]();if(!_0x207dfa||!_0xc04755){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x10396d[_0x182d7b(0x907)]=!![],_0x10396d[_0x182d7b(0xa8d)]=_0x182d7b(0x244);try{const _0x8386a9=collection(db,'artifacts/'+appId+_0x182d7b(0x9b9)),_0x294eac=query(_0x8386a9,where(_0x182d7b(0x411),'==',_0x207dfa),where(_0x182d7b(0x442),'in',[_0x182d7b(0x9a2),'question'])),_0x3a8889=await getDocs(_0x294eac);if(_0x3a8889['empty']){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x12f142=_0x3a8889[_0x182d7b(0x7ed)][0x0],_0x132e8f=_0x12f142['data']();currentLiveGameId=_0x12f142['id'];const _0x241c76=_0x132e8f[_0x182d7b(0x556)],_0x44f7b5=doc(db,_0x182d7b(0x31f)+appId+'/public/data/quizzes',_0x241c76),_0x1c7532=await getDoc(_0x44f7b5);if(!_0x1c7532[_0x182d7b(0x77c)]()){showMessage(_0x182d7b(0x4b1));return;}currentQuizData={'id':_0x1c7532['id'],..._0x1c7532['data']()};if(_0x132e8f[_0x182d7b(0x452)]&&_0x132e8f[_0x182d7b(0x452)][_0xc04755]){const _0x5bdc7d=_0x132e8f[_0x182d7b(0x452)][_0xc04755];if(_0x5bdc7d[_0x182d7b(0x442)]==='inactive'){_0x10396d[_0x182d7b(0xa8d)]=_0x182d7b(0x60e);const _0x15f1cb={};_0x15f1cb[_0x182d7b(0x595)+_0xc04755+'.status']=_0x182d7b(0x8bd),await updateDoc(doc(db,_0x182d7b(0x31f)+appId+_0x182d7b(0x9b9),currentLiveGameId),_0x15f1cb),showView(_0x182d7b(0x60c)),currentStudentName=_0xc04755,listenForLiveGameUpdates();return;}else{showMessage(_0x182d7b(0x7b8));return;}}if(_0x132e8f[_0x182d7b(0x442)]!==_0x182d7b(0x9a2)){showMessage(_0x182d7b(0x1fe));return;}_0x10396d[_0x182d7b(0xa8d)]=_0x182d7b(0x252);const _0x202f6b={};_0x202f6b[_0x182d7b(0x595)+_0xc04755]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x182d7b(0x8bd)},await updateDoc(doc(db,'artifacts/'+appId+_0x182d7b(0x9b9),currentLiveGameId),_0x202f6b),currentStudentName=_0xc04755,listenForLiveGameUpdates();}catch(_0x3a657c){console[_0x182d7b(0x1d8)](_0x182d7b(0x69b),_0x3a657c),showMessage(_0x182d7b(0x81c));}finally{_0x10396d[_0x182d7b(0x907)]=![],_0x10396d['innerHTML']=_0x182d7b(0x44b);}}function displayStudentNameSelector(_0x5c7892,_0x2ba700){const _0x3a98c0=_0x3fa4d9,_0x1667ef=document[_0x3a98c0(0x4d6)](_0x3a98c0(0x883));document['getElementById'](_0x3a98c0(0x607))['textContent']=_0x3a98c0(0x266)+_0x2ba700,!_0x5c7892||_0x5c7892[_0x3a98c0(0x3e1)]===0x0?(_0x1667ef['innerHTML']=_0x3a98c0(0x760),startQuizBtn['disabled']=!![]):(_0x1667ef['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x5c7892[_0x3a98c0(0x220)](_0xa73747=>{const _0x153ea1=_0x3a98c0,_0x1cab1f=document[_0x153ea1(0x75c)](_0x153ea1(0x4c6));_0x1cab1f['value']=_0xa73747,_0x1cab1f[_0x153ea1(0x5b9)]=_0xa73747,_0x1667ef[_0x153ea1(0x541)](_0x1cab1f);}),startQuizBtn[_0x3a98c0(0x907)]=![]),studentInitialView[_0x3a98c0(0x21b)][_0x3a98c0(0x214)](_0x3a98c0(0x88c)),studentNameSelectionView['classList'][_0x3a98c0(0x621)](_0x3a98c0(0x88c));}function shuffleArray(_0x5c7dd7){const _0x491062=_0x3fa4d9;for(let _0x2fb200=_0x5c7dd7[_0x491062(0x3e1)]-0x1;_0x2fb200>0x0;_0x2fb200--){const _0x137d14=Math['floor'](Math['random']()*(_0x2fb200+0x1));[_0x5c7dd7[_0x2fb200],_0x5c7dd7[_0x137d14]]=[_0x5c7dd7[_0x137d14],_0x5c7dd7[_0x2fb200]];}}function getShuffledQuiz(_0x38cca6){const _0x27fb19=_0x3fa4d9;let _0x28df4a=JSON[_0x27fb19(0xa52)](JSON[_0x27fb19(0x73b)](_0x38cca6));const _0x5bdb3a=_0x28df4a['settings']?.[_0x27fb19(0x42e)]||_0x27fb19(0x4c3);if(_0x5bdb3a===_0x27fb19(0x4c3))return _0x28df4a;return(_0x5bdb3a===_0x27fb19(0x8a3)||_0x5bdb3a===_0x27fb19(0x613))&&shuffleArray(_0x28df4a['questions']),(_0x5bdb3a===_0x27fb19(0x69c)||_0x5bdb3a==='both')&&_0x28df4a[_0x27fb19(0x299)][_0x27fb19(0x220)](_0x571246=>{const _0x4f16f7=_0x27fb19,_0xfaf4af=_0x571246[_0x4f16f7(0x36e)]||_0x28df4a['quizType'];if(_0x571246['options']){let _0x3e2303=_0x571246[_0x4f16f7(0x35a)]['map']((_0x3da707,_0xbdf82d)=>({'text':_0x3da707,'isCorrect':_0xbdf82d===_0x571246[_0x4f16f7(0x6ce)]}));shuffleArray(_0x3e2303),_0x571246['options']=_0x3e2303[_0x4f16f7(0x9f0)](_0x572e93=>_0x572e93[_0x4f16f7(0x606)]),_0x571246[_0x4f16f7(0x6ce)]=_0x3e2303[_0x4f16f7(0x765)](_0x24c2d1=>_0x24c2d1[_0x4f16f7(0x753)]);}_0xfaf4af===_0x4f16f7(0x4f4)&&_0x571246[_0x4f16f7(0x3df)]&&shuffleArray(_0x571246['allResponses']);}),_0x28df4a;}function displayQuizForStudent(_0x5234cf){const _0x200423=_0x3fa4d9;studentQuizArea[_0x200423(0x21b)][_0x200423(0x621)](_0x200423(0x88c)),currentDisplayedQuiz=getShuffledQuiz(_0x5234cf);currentMode!==_0x200423(0x8b4)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x200423(0x1dc),handleFullscreenChange),document[_0x200423(0x795)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x200423(0x795)](_0x200423(0xa0f),resetDimTimer),window[_0x200423(0x795)](_0x200423(0x7e5),resetDimTimer),window[_0x200423(0x795)](_0x200423(0x554),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x15a12c=currentDisplayedQuiz[_0x200423(0x8a1)]?.[_0x200423(0x36a)]||_0x200423(0x4c3);if(_0x15a12c===_0x200423(0x369))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x200423(0x8a1)][_0x200423(0x33e)]);else _0x15a12c===_0x200423(0x1bd)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xc3f1c0=_0x3fa4d9,_0x160f78=currentDisplayedQuiz[_0xc3f1c0(0x8a1)]?.[_0xc3f1c0(0xa73)]===!![];let _0x3ae8b1=_0xc3f1c0(0x396)+currentDisplayedQuiz[_0xc3f1c0(0x836)]+_0xc3f1c0(0x7bb)+(currentMode===_0xc3f1c0(0x8b4)?_0xc3f1c0(0x8e0):'')+_0xc3f1c0(0x530);currentDisplayedQuiz[_0xc3f1c0(0x299)][_0xc3f1c0(0x220)]((_0x1cf66b,_0x23fb3f)=>{const _0x1ab637=_0xc3f1c0,_0x2c379b=_0x1cf66b[_0x1ab637(0x36e)]||currentDisplayedQuiz['quizType'];_0x3ae8b1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x2c379b==='matching_item'?_0x3ae8b1+=_0x1ab637(0x25d)+(_0x23fb3f+0x1)+'.\x20'+_0x1cf66b[_0x1ab637(0x785)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x23fb3f+_0x1ab637(0x645)+_0x1cf66b[_0x1ab637(0x3df)][_0x1ab637(0x9f0)](_0x3594f5=>_0x1ab637(0x838)+_0x3594f5+'\x22>'+_0x3594f5+_0x1ab637(0x834))[_0x1ab637(0x3d6)]('')+_0x1ab637(0x748):(_0x3ae8b1+=_0x1ab637(0x625)+(_0x23fb3f+0x1)+'.\x20'+(_0x1cf66b[_0x1ab637(0x7d1)]||_0x1cf66b[_0x1ab637(0x490)])+_0x1ab637(0x453),_0x1cf66b[_0x1ab637(0x39e)]&&(_0x3ae8b1+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1cf66b[_0x1ab637(0x39e)]+_0x1ab637(0x551)));_0x3ae8b1+=_0x1ab637(0x593);switch(_0x2c379b){case _0x1ab637(0x775):_0x3ae8b1+=_0x1ab637(0xa91)+_0x23fb3f+_0x1ab637(0x1c7);break;case _0x1ab637(0x860):_0x3ae8b1+=_0x1ab637(0x6a7)+_0x23fb3f+_0x1ab637(0x438)+_0x23fb3f+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x23fb3f+'_opt0\x22>ใช่</label></div>',_0x3ae8b1+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x23fb3f+'_opt1\x22\x20name=\x22question'+_0x23fb3f+_0x1ab637(0x57a)+_0x23fb3f+_0x1ab637(0x9b7);break;case'matching_item':break;case _0x1ab637(0x934):case _0x1ab637(0x5c5):default:_0x3ae8b1+=_0x1cf66b[_0x1ab637(0x35a)][_0x1ab637(0x9f0)]((_0x2f2d63,_0x461b45)=>_0x1ab637(0x601)+_0x23fb3f+_0x1ab637(0x169)+_0x461b45+_0x1ab637(0x3eb)+_0x23fb3f+_0x1ab637(0x83b)+_0x461b45+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x23fb3f+_0x1ab637(0x169)+_0x461b45+'\x22>'+_0x2f2d63+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1ab637(0x3d6)]('');break;}_0x3ae8b1+='</div>',_0x160f78&&(_0x3ae8b1+=_0x1ab637(0x52a)+_0x23fb3f+_0x1ab637(0x262)+_0x23fb3f+_0x1ab637(0x676)+_0x23fb3f+_0x1ab637(0xa93)),_0x3ae8b1+=_0x1ab637(0x551);}),_0x3ae8b1+=_0xc3f1c0(0xa60),_0x3ae8b1+=_0xc3f1c0(0x987),studentQuizArea['innerHTML']=_0x3ae8b1;if(currentMode===_0xc3f1c0(0x8b4)){const _0xe97c19=document[_0xc3f1c0(0x4d6)](_0xc3f1c0(0x4e5));if(_0xe97c19)_0xe97c19[_0xc3f1c0(0x795)](_0xc3f1c0(0x96d),cancelAdminTest);}document[_0xc3f1c0(0x4d6)]('quiz-form')[_0xc3f1c0(0x795)](_0xc3f1c0(0x51e),handleSubmitQuiz);if(window[_0xc3f1c0(0xa2e)])window[_0xc3f1c0(0xa2e)][_0xc3f1c0(0x2d1)]([studentQuizArea]);}async function handleSubmitQuiz(_0x2a5f94){const _0x3edc39=_0x3fa4d9;if(_0x2a5f94)_0x2a5f94['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xa75393=document[_0x3edc39(0x4d6)](_0x3edc39(0x76a));if(!_0xa75393)return;const _0x25c593=_0xa75393[_0x3edc39(0x8c1)]('button[type=\x22submit\x22]'),_0x173fdf=currentDisplayedQuiz[_0x3edc39(0x299)][_0x3edc39(0x28d)](_0x245498=>_0x245498[_0x3edc39(0x36e)]==='short_answer');_0x25c593&&(_0x25c593[_0x3edc39(0x907)]=!![],_0x173fdf?_0x25c593[_0x3edc39(0xa8d)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x25c593[_0x3edc39(0xa8d)]=_0x3edc39(0x8a0));const _0x415cb5=new FormData(_0xa75393),_0x11f220=currentDisplayedQuiz[_0x3edc39(0x299)][_0x3edc39(0x9f0)]((_0x35a21a,_0x1a9aa1)=>{const _0xffc0aa=_0x3edc39,_0xcc0907=_0x35a21a[_0xffc0aa(0x36e)]||currentDisplayedQuiz[_0xffc0aa(0x25e)],_0x3302d6=_0x415cb5['get'](_0xffc0aa(0x8fd)+_0x1a9aa1),_0x45a26d=_0x415cb5['get'](_0xffc0aa(0x8d4)+_0x1a9aa1)==='on';let _0x540484=null;return _0x3302d6!==null&&_0x3302d6!==undefined&&(_0xcc0907===_0xffc0aa(0x5c5)||_0xcc0907===_0xffc0aa(0x934)?_0x540484=parseInt(_0x3302d6):_0x540484=_0x3302d6),{'answer':_0x540484,'wasConfident':_0x45a26d};}),_0x587074=currentQuizData['id'],_0xc6e9eb=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x587074+_0x3edc39(0x922),currentStudentName),_0x1a167d=await getDoc(_0xc6e9eb),_0xbaf5f=_0x1a167d['exists']()?_0x1a167d[_0x3edc39(0x342)]():{},_0x242ca0=_0xbaf5f[_0x3edc39(0x594)]||[];await processAndSubmitAnswers(_0x11f220,_0x242ca0);}async function gradeShortAnswerWithAI(_0x10b661,_0x405db0){const _0x1eda16=_0x3fa4d9;if(!_0x10b661||!_0x405db0)return![];try{const _0x191cc8=_0x1eda16(0x8f2)+_0x10b661+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x405db0+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x56d916={'contents':[{'role':_0x1eda16(0xa7d),'parts':[{'text':_0x191cc8}]}]},_0x264255='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0xcb5781=_0x1eda16(0xa79)+_0x264255,_0x4f7850=await fetch(_0xcb5781,{'method':_0x1eda16(0x957),'headers':{'Content-Type':_0x1eda16(0x3e9)},'body':JSON['stringify'](_0x56d916)});if(!_0x4f7850['ok'])throw new Error(_0x1eda16(0x3de));const _0x36629c=await _0x4f7850['json'](),_0x1efbcd=_0x36629c[_0x1eda16(0x249)][0x0][_0x1eda16(0x905)]['parts'][0x0][_0x1eda16(0x606)]['trim']()[_0x1eda16(0x4f3)]();return _0x1efbcd===_0x1eda16(0x218);}catch(_0x4f26a8){return console[_0x1eda16(0x1d8)](_0x1eda16(0xa42),_0x4f26a8),![];}}async function processAndSubmitAnswers(_0x41eab2,_0x5583a2){const _0x235dc3=_0x3fa4d9;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x235dc3(0x1dc),handleFullscreenChange),document[_0x235dc3(0x51a)](_0x235dc3(0x89a),handleVisibilityChange);let _0x373615=0x0;const _0x5450e5=[],_0x9c30e4=currentDisplayedQuiz[_0x235dc3(0x299)][_0x235dc3(0x3e1)];let _0x3eff99=0x0,_0x2021bf=[];const _0x2e971a=currentDisplayedQuiz[_0x235dc3(0x299)];for(let _0x1e98d3=0x0;_0x1e98d3<_0x2e971a['length'];_0x1e98d3++){const _0x1d39a2=_0x2e971a[_0x1e98d3],_0x523f87=_0x41eab2[_0x1e98d3],_0x2a3b61=_0x523f87?_0x523f87[_0x235dc3(0x924)]:null,_0xc67b9e=_0x523f87?_0x523f87[_0x235dc3(0x94c)]:null;let _0x18f42b=![],_0x1c6085=0x0;if(_0x2a3b61!==null&&_0x2a3b61!==''){const _0xe51f35=_0x1d39a2[_0x235dc3(0x36e)]||currentDisplayedQuiz[_0x235dc3(0x25e)];switch(_0xe51f35){case _0x235dc3(0x4f4):_0x18f42b=_0x2a3b61===_0x1d39a2[_0x235dc3(0xa97)];break;case _0x235dc3(0x860):const _0x22aefc=_0x2a3b61===!![]||_0x2a3b61===_0x235dc3(0x218);_0x18f42b=_0x22aefc===_0x1d39a2['correctAnswer'];break;case _0x235dc3(0x775):_0x18f42b=await gradeShortAnswer(_0x2a3b61,_0x1d39a2);break;case'multiple_choice':default:_0x18f42b=Number(_0x2a3b61)===_0x1d39a2[_0x235dc3(0x6ce)];break;}}if(currentDisplayedQuiz[_0x235dc3(0x8a1)]?.[_0x235dc3(0xa73)]){if(_0x18f42b&&_0xc67b9e)_0x1c6085=0x2;else{if(_0x18f42b&&!_0xc67b9e)_0x1c6085=0x1;else{if(!_0x18f42b&&!_0xc67b9e)_0x1c6085=0x0;else _0x18f42b===![]&&_0xc67b9e&&(_0x1c6085=-0x1);}}}else _0x1c6085=_0x18f42b?0x1:0x0;_0x373615+=_0x1c6085;if(_0x18f42b){_0x3eff99++;if(_0x3eff99===0x3)_0x2021bf[_0x235dc3(0x87a)](BADGES[_0x235dc3(0x154)]['id']);}else _0x3eff99=0x0;let _0x508b47=null;_0x1d39a2[_0x235dc3(0x35a)]&&_0x2a3b61!==null&&(_0x508b47=_0x1d39a2[_0x235dc3(0x35a)][_0x2a3b61]),_0x5450e5[_0x235dc3(0x87a)]({'questionId':_0x1d39a2['id'],'answer':_0x2a3b61,'answerText':_0x508b47,'isCorrect':_0x18f42b,'wasConfident':_0xc67b9e,'pointsAwarded':_0x1c6085,'originalQuestionText':_0x1d39a2['stem']||_0x1d39a2[_0x235dc3(0x490)]});}const _0x18a6cd=_0x5450e5['filter'](_0x3afc26=>_0x3afc26['isCorrect'])[_0x235dc3(0x3e1)],_0x11fcf0=currentDisplayedQuiz[_0x235dc3(0x8a1)]?.[_0x235dc3(0x82d)]??Math[_0x235dc3(0x67c)](_0x9c30e4/0x2);_0x18a6cd===_0x9c30e4&&_0x9c30e4>0x0&&!currentDisplayedQuiz[_0x235dc3(0x791)]&&_0x2021bf[_0x235dc3(0x87a)](BADGES['PERFECT_SCORE']['id']);const _0x12b861=currentDisplayedQuiz[_0x235dc3(0x8a1)]?.[_0x235dc3(0x36a)];if(_0x12b861===_0x235dc3(0x369)&&quizStartTime){const _0x3228b1=(new Date()-quizStartTime)/0x3e8,_0x1840bf=currentDisplayedQuiz['settings'][_0x235dc3(0x33e)]*0x3c;_0x18a6cd>=_0x11fcf0&&_0x3228b1<_0x1840bf/0x2&&_0x2021bf[_0x235dc3(0x87a)](BADGES[_0x235dc3(0xa15)]['id']);}_0x5583a2['length']===0x0&&_0x18a6cd===_0x9c30e4&&_0x9c30e4>0x0&&_0x2021bf[_0x235dc3(0x87a)](BADGES[_0x235dc3(0x6cd)]['id']);if(_0x5583a2[_0x235dc3(0x3e1)]>0x0){const _0xde5023=_0x5583a2[0x0][_0x235dc3(0x41d)];if(_0xde5023<_0x11fcf0&&_0x18a6cd>=_0x11fcf0){const _0x51c9c3=_0x5583a2[_0x235dc3(0x28d)](_0x1f2e0d=>(_0x1f2e0d[_0x235dc3(0x30a)]||[])[_0x235dc3(0x8f0)](BADGES['COMEBACK_KING']['id']));!_0x51c9c3&&_0x2021bf['push'](BADGES[_0x235dc3(0x87c)]['id']);}}_0x5583a2[_0x235dc3(0x3e1)]===0x4&&_0x2021bf[_0x235dc3(0x87a)](BADGES['PERSEVERANCE']['id']);const _0x5da90e=currentDisplayedQuiz[_0x235dc3(0x8a1)]['resultsDisplay'];if(currentMode===_0x235dc3(0x8b4)){handleResultDisplay(_0x5da90e,_0x18a6cd,_0x373615,_0x2021bf,_0x5450e5,_0x9c30e4);return;}const _0xa7bcd4=currentQuizData['id'],_0x48866=doc(db,_0x235dc3(0x31f)+appId+_0x235dc3(0x7dd)+_0xa7bcd4+_0x235dc3(0x922),currentStudentName);try{const _0x361476=[..._0x5583a2],_0x127469={'score':_0x18a6cd,'points':_0x373615,'badges':Array['from'](new Set(_0x2021bf)),'submittedAt':new Date()[_0x235dc3(0x3c3)](),'answers':_0x5450e5};_0x361476[_0x235dc3(0x87a)](_0x127469);const _0x5ee64a=_0x5583a2[_0x235dc3(0x3e1)]===0x0?_0x18a6cd:_0x5583a2[0x0][_0x235dc3(0x41d)]||0x0,_0x5d6bb1=Math[_0x235dc3(0x525)](..._0x361476[_0x235dc3(0x9f0)](_0x1322c8=>_0x1322c8[_0x235dc3(0x41d)]));await setDoc(_0x48866,{'studentName':currentStudentName,'totalQuestions':_0x9c30e4,'attempts':_0x361476,'firstScore':_0x5ee64a,'bestScore':_0x5d6bb1,'latestScore':_0x18a6cd,'points':_0x373615,'latestSubmittedAt':_0x127469['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x235dc3(0x59c)],currentStudentName),handleResultDisplay(_0x5da90e,_0x18a6cd,_0x373615,_0x2021bf,_0x5450e5,_0x9c30e4);}catch(_0x27301b){console[_0x235dc3(0x1d8)](_0x235dc3(0x81a),_0x27301b),showMessage(_0x235dc3(0xa04));}}async function updateStudentProfile(_0x4e523f,_0x138e3f){const _0x27a22b=_0x3fa4d9,_0x2438ff=doc(db,'artifacts/'+appId+_0x27a22b(0x642)+_0x4e523f+'/studentProfiles',_0x138e3f);try{const _0x205f22=query(collection(db,'artifacts/'+appId+_0x27a22b(0x8ca)),where(_0x27a22b(0x59c),'==',_0x4e523f)),_0x4bb6e5=await getDocs(_0x205f22),_0x42c4bd=new Map(_0x4bb6e5[_0x27a22b(0x7ed)][_0x27a22b(0x9f0)](_0x1df149=>[_0x1df149['id'],_0x1df149[_0x27a22b(0x342)]()])),_0x26f6ce=Array['from'](_0x42c4bd[_0x27a22b(0x720)]());await runTransaction(db,async _0x4c181b=>{const _0x29c01d=_0x27a22b;let _0x58c6de=0x0;const _0x15a998={};let _0x544194=!![],_0x255f89=0x0,_0x1137bf=0x0;for(const _0x5ade38 of _0x26f6ce){const _0x5bc629=_0x42c4bd[_0x29c01d(0x39d)](_0x5ade38),_0x373df8=doc(db,_0x29c01d(0x31f)+appId+_0x29c01d(0x7dd)+_0x5ade38+'/submissions',_0x138e3f),_0x3d5880=await _0x4c181b['get'](_0x373df8);if(_0x3d5880[_0x29c01d(0x77c)]()){const _0x111b58=_0x3d5880['data'](),_0x7d808c=_0x111b58[_0x29c01d(0x594)]||[];if(_0x7d808c['length']>0x0){const _0x58200d=_0x7d808c[_0x29c01d(0x842)]((_0x996593,_0x1cfd3a)=>{const _0x5a28d5=_0x29c01d;if(_0x1cfd3a['score']>_0x996593['score'])return _0x1cfd3a;if(_0x1cfd3a['score']===_0x996593[_0x5a28d5(0x41d)])return(_0x1cfd3a[_0x5a28d5(0x5ca)]||0x0)>(_0x996593[_0x5a28d5(0x5ca)]||0x0)?_0x1cfd3a:_0x996593;return _0x996593;},{'score':-0x1,'points':-0x1});_0x58200d['score']>-0x1&&(_0x58c6de+=_0x58200d['points']||0x0,(_0x58200d[_0x29c01d(0x30a)]||[])[_0x29c01d(0x220)](_0x11f56c=>{_0x15a998[_0x11f56c]=(_0x15a998[_0x11f56c]||0x0)+0x1;}));}}if(_0x5bc629[_0x29c01d(0x836)]!==_0x29c01d(0x247)){_0x1137bf++;if(_0x3d5880['exists']()){_0x255f89++;const _0x1a98ed=_0x3d5880[_0x29c01d(0x342)]();_0x1a98ed[_0x29c01d(0x6cf)]!==_0x1a98ed[_0x29c01d(0x805)]&&(_0x544194=![]);}else _0x544194=![];}}_0x1137bf>0x0&&_0x255f89===_0x1137bf&&_0x544194?_0x15a998[_0x29c01d(0x3b4)]=0x1:_0x15a998[_0x29c01d(0x3b4)]=0x0,_0x4c181b[_0x29c01d(0x331)](_0x2438ff,{'studentName':_0x138e3f,'totalPoints':_0x58c6de,'unlockedBadges':Object['keys'](_0x15a998)['filter'](_0x300fc2=>_0x15a998[_0x300fc2]>0x0),'badgesCount':_0x15a998},{'merge':!![]});});}catch(_0x501d6f){console['error'](_0x27a22b(0x596),_0x501d6f),showMessage(_0x27a22b(0x1f2));}}function startAdminTest(){const _0x5a581b=_0x3fa4d9;if(!currentQuizData){showMessage(_0x5a581b(0x3f2));return;}let _0x208753=JSON[_0x5a581b(0xa52)](JSON[_0x5a581b(0x73b)](currentQuizData));currentMode=_0x5a581b(0x8b4),currentStudentName=_0x5a581b(0x5b6),adminView[_0x5a581b(0x21b)][_0x5a581b(0x214)](_0x5a581b(0x88c)),studentView[_0x5a581b(0x21b)][_0x5a581b(0x621)]('hidden'),studentInitialView[_0x5a581b(0x21b)]['add'](_0x5a581b(0x88c)),studentNameSelectionView[_0x5a581b(0x21b)][_0x5a581b(0x214)](_0x5a581b(0x88c)),studentResultArea[_0x5a581b(0x21b)][_0x5a581b(0x214)](_0x5a581b(0x88c)),studentQuizArea['classList']['remove']('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x208753);}function handleResultDisplay(_0x1d4f0b,_0x714f52,_0x26f2c8,_0x29855f,_0x475741,_0x494aa3){const _0xdfba43=_0x3fa4d9;if(_0x1d4f0b==='manual_release'){displaySubmissionConfirmation();return;}const _0x58a106=currentDisplayedQuiz[_0xdfba43(0x8a1)]?.[_0xdfba43(0x82d)]??Math[_0xdfba43(0x67c)](_0x494aa3/0x2),_0x2df0a5=currentDisplayedQuiz[_0xdfba43(0x8a1)]?.[_0xdfba43(0x84d)]??![],_0x354255=currentDisplayedQuiz[_0xdfba43(0x8a1)]?.[_0xdfba43(0x623)]===!![],_0x2805fc=_0x714f52<_0x58a106,_0x48615f=_0x1d4f0b==='half_mark_status'||_0x1d4f0b===_0xdfba43(0x97a);if(_0x354255&&_0x2805fc&&!_0x48615f){_0x1d4f0b===_0xdfba43(0x70b)?displayResultsWithAnswers(_0x714f52,_0x26f2c8,_0x29855f,_0x475741,_0x494aa3,!![]):displayLoopScreen(_0x714f52,_0x494aa3,_0x1d4f0b);return;}if(_0x2df0a5&&_0x2805fc){startAdaptiveFlow(_0x475741,_0x714f52,_0x494aa3);return;}switch(_0x1d4f0b){case _0xdfba43(0x70b):displayResultsWithAnswers(_0x714f52,_0x26f2c8,_0x29855f,_0x475741,_0x494aa3);break;case _0xdfba43(0x85b):displayResultsScoreOnly(_0x714f52,_0x26f2c8,_0x29855f,_0x494aa3);break;case _0xdfba43(0xa64):displayPassFailOnly(_0x714f52,_0x494aa3);break;case'half_mark_status':displayHalfMarkResult(_0x714f52,_0x494aa3);break;case _0xdfba43(0x97a):displayPerfectScoreResult(_0x714f52,_0x494aa3);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x5e9c6a){const _0x3aff98=_0x3fa4d9;studentReadingArea[_0x3aff98(0xa8d)]=_0x3aff98(0x592);const _0x3d1532=_0x3aff98(0xa1d)+_0x5e9c6a+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x3aff98(0x6f4),_0x54fbab={'type':_0x3aff98(0x782),'properties':{'questionText':{'type':_0x3aff98(0x359)},'options':{'type':_0x3aff98(0x2f3),'items':{'type':_0x3aff98(0x359)}},'correctAnswerIndex':{'type':_0x3aff98(0x88b)},'explanation':{'type':'STRING'}},'required':[_0x3aff98(0x490),_0x3aff98(0x35a),_0x3aff98(0x6ce),_0x3aff98(0x3a3)]},_0x1232af={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3aff98(0x2f3),'items':_0x54fbab}},'required':[_0x3aff98(0x836),_0x3aff98(0x299)]};try{const _0x3080f2=await callAnalysisApi(_0x3d1532,_0x1232af);_0x3080f2[_0x3aff98(0x791)]=!![],studentReadingArea['classList']['add'](_0x3aff98(0x88c));const _0x11fada={...currentDisplayedQuiz[_0x3aff98(0x8a1)],'isAdaptive':![],'resultsDisplay':_0x3aff98(0x70b)};_0x3080f2['settings']=_0x11fada,displayQuizForStudent(_0x3080f2);}catch(_0x313928){console[_0x3aff98(0x1d8)](_0x3aff98(0x23c),_0x313928),showMessage(_0x3aff98(0x75e)),showView(_0x3aff98(0x564));}}function displayPassFailOnly(_0x29c340,_0x2d3a7a){const _0x107f10=_0x3fa4d9,_0x213ae3=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x4f7d9e=currentDisplayedQuiz['isRemedial']===!![];let _0x1305c2='',_0x30c9af=![];if(_0x4f7d9e||_0x213ae3!==-0x1){_0x30c9af=_0x4f7d9e?_0x29c340===_0x2d3a7a:_0x29c340>=_0x213ae3;const _0x3864d1=_0x30c9af?_0x107f10(0x3cc):'bg-red-100\x20text-red-800',_0x14e352=_0x30c9af?_0x107f10(0x8d6):_0x107f10(0x8c7);_0x1305c2=_0x107f10(0x591)+_0x3864d1+'\x22>'+_0x14e352+_0x107f10(0x55b);}else _0x1305c2='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x41c1df=_0x107f10(0x3f4)+currentStudentName+_0x107f10(0x6fe)+_0x1305c2+_0x107f10(0x5c8);studentResultArea['innerHTML']=_0x41c1df,studentResultArea[_0x107f10(0x21b)][_0x107f10(0x621)](_0x107f10(0x88c)),studentQuizArea['classList'][_0x107f10(0x214)](_0x107f10(0x88c)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x30c9af});}function cancelAdminTest(){const _0x484b1a=_0x3fa4d9;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x484b1a(0x51a)]('fullscreenchange',handleFullscreenChange),document[_0x484b1a(0x51a)](_0x484b1a(0x89a),handleVisibilityChange),currentMode=_0x484b1a(0x900),studentView['classList']['add'](_0x484b1a(0x88c)),adminView[_0x484b1a(0x21b)][_0x484b1a(0x621)](_0x484b1a(0x88c)),showView(_0x484b1a(0x364));}function setupResultScreenBackButton(_0x2c18f3){const _0x41f649=_0x3fa4d9,_0x2326e5={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x2c18f3};if(_0x2326e5[_0x41f649(0x2e9)]){const _0x26bcab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x41f649(0x6fa)](_0x41f649(0x818),_0x26bcab),document[_0x41f649(0x4d6)](_0x41f649(0x44d))[_0x41f649(0x795)](_0x41f649(0x96d),()=>{const _0x498039=_0x41f649;studentResultArea[_0x498039(0x21b)]['add'](_0x498039(0x88c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x43423c=_0x41f649(0x302),_0x269b6e=currentMode==='admin-testing',_0x43de99=_0x269b6e?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x41f649(0x70d);let _0x13840a='';_0x2326e5[_0x41f649(0x385)]&&(_0x13840a+=_0x41f649(0x280));let _0x4e3f7d=_0x2326e5[_0x41f649(0x503)];_0x4e3f7d===undefined&&(_0x4e3f7d=_0x2326e5[_0x41f649(0x41d)]<_0x2326e5[_0x41f649(0x805)]);_0x4e3f7d&&(_0x13840a+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x13840a+='<button\x20id=\x22'+_0x43423c+_0x41f649(0x216)+_0x43de99+_0x41f649(0x520);const _0xaa037a=_0x41f649(0x3e4)+_0x13840a+_0x41f649(0x551);studentResultArea['insertAdjacentHTML']('beforeend',_0xaa037a),studentResultArea[_0x41f649(0x8c1)](_0x41f649(0x4b0))?.[_0x41f649(0x795)](_0x41f649(0x96d),handleShowStudentRankings);const _0x2e9bbf=studentResultArea[_0x41f649(0x8c1)](_0x41f649(0x5dc));_0x2e9bbf&&_0x2e9bbf[_0x41f649(0x795)](_0x41f649(0x96d),()=>{const _0x6030bf=_0x41f649;studentResultArea[_0x6030bf(0x21b)][_0x6030bf(0x214)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x41f649(0x4d6)](_0x43423c)[_0x41f649(0x795)](_0x41f649(0x96d),()=>{const _0x18e05c=_0x41f649;_0x269b6e?(currentMode='admin',studentView[_0x18e05c(0x21b)][_0x18e05c(0x214)]('hidden'),adminView['classList']['remove'](_0x18e05c(0x88c)),showView('project-detail')):(showView(_0x18e05c(0x564)),document[_0x18e05c(0x4d6)](_0x18e05c(0x7fc))[_0x18e05c(0xa87)]='');});}function displayResultsWithAnswers(_0x1353e4,_0x362eba,_0x2bfb2c,_0x5eb0c5,_0x5c1cb0,_0x397b6f=![]){const _0xbad8e9=_0x3fa4d9,_0x3b60e0=_0x5c1cb0>0x0?_0x1353e4/_0x5c1cb0*0x64:0x0,_0x3c3bd8=currentDisplayedQuiz[_0xbad8e9(0x8a1)]?.[_0xbad8e9(0x82d)]??-0x1,_0x2546ca=currentDisplayedQuiz[_0xbad8e9(0x791)]===!![];let _0x416d5d='';if(_0x2546ca||_0x3c3bd8!==-0x1){let _0x153359=_0x2546ca?_0x1353e4===_0x5c1cb0:_0x1353e4>=_0x3c3bd8;const _0x2d7bec=_0x153359?_0xbad8e9(0x3cc):_0xbad8e9(0x8b5),_0x59f42a=_0x153359?_0xbad8e9(0x8d6):_0xbad8e9(0x8c7);_0x416d5d=_0xbad8e9(0x36f)+_0x2d7bec+'\x22>'+_0x59f42a+'</p>';}let _0x8cea75=_0xbad8e9(0x8ac)+currentStudentName+_0xbad8e9(0x740)+_0x1353e4+_0xbad8e9(0x479)+_0x5c1cb0+_0xbad8e9(0x24b)+_0x416d5d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x362eba+_0xbad8e9(0x7e7)+_0x3b60e0['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0xbad8e9(0x220)]((_0x58ff32,_0x6a6e58)=>{const _0x1dfb7e=_0xbad8e9,_0xc73637=_0x5eb0c5[_0x6a6e58],_0x2cf767=_0xc73637['answer'],_0x30fffd=_0xc73637[_0x1dfb7e(0x753)],_0x3cba53=_0x58ff32[_0x1dfb7e(0x36e)]||currentDisplayedQuiz[_0x1dfb7e(0x25e)];_0x8cea75+=_0x1dfb7e(0x4a7)+(_0x30fffd?_0x1dfb7e(0x357):'border-red-300\x20bg-red-50')+_0x1dfb7e(0xa49)+(_0x6a6e58+0x1)+'.\x20'+(_0x58ff32[_0x1dfb7e(0x785)]||_0x58ff32[_0x1dfb7e(0x490)])+_0x1dfb7e(0x661);switch(_0x3cba53){case _0x1dfb7e(0x4f4):const _0x2d2502=_0x2cf767||'ไม่ได้ตอบ',_0x4408a0=_0x58ff32[_0x1dfb7e(0xa97)];_0x8cea75+=_0x1dfb7e(0x7d9)+(!_0x30fffd?_0x1dfb7e(0x7fd):'')+'\x22>'+_0x2d2502+'</span></p>';!_0x30fffd&&(_0x8cea75+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x4408a0+_0x1dfb7e(0x453));break;case _0x1dfb7e(0x775):_0x8cea75+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x2cf767||_0x1dfb7e(0x71b))+_0x1dfb7e(0x453),_0x8cea75+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x58ff32[_0x1dfb7e(0x202)]+_0x1dfb7e(0x453);break;case _0x1dfb7e(0x860):_0x8cea75+='<p\x20class=\x22'+(_0x58ff32['correctAnswer']===!![]?_0x1dfb7e(0x1eb):'')+'\x20'+(_0x2cf767===_0x1dfb7e(0x218)&&!_0x30fffd?_0x1dfb7e(0x7fd):'')+_0x1dfb7e(0x802),_0x8cea75+='<p\x20class=\x22'+(_0x58ff32[_0x1dfb7e(0x185)]===![]?_0x1dfb7e(0x1eb):'')+'\x20'+(_0x2cf767===_0x1dfb7e(0x3b6)&&!_0x30fffd?_0x1dfb7e(0x7fd):'')+_0x1dfb7e(0x18f);break;default:_0x8cea75+=_0x58ff32[_0x1dfb7e(0x35a)][_0x1dfb7e(0x9f0)]((_0x2a7a9b,_0x533e09)=>{const _0x464dba=_0x1dfb7e;let _0xc6ca3e='',_0x48cf88='';if(_0x533e09===_0x58ff32[_0x464dba(0x6ce)])_0xc6ca3e=_0x464dba(0x1eb),_0x48cf88=_0x464dba(0x505);else _0x533e09===_0x2cf767&&(_0xc6ca3e=_0x464dba(0x30b),_0x48cf88=_0x464dba(0x36b));return _0x464dba(0x711)+_0xc6ca3e+'\x22>'+_0x48cf88+_0x2a7a9b+'</div>';})['join']('');break;}_0x8cea75+=_0x1dfb7e(0x7d3)+(_0x58ff32[_0x1dfb7e(0x3a3)]||'ไม่มีคำอธิบาย')+'</div>';if(!_0x30fffd){const _0x4bfb32=_0x58ff32[_0x1dfb7e(0x785)]||_0x58ff32[_0x1dfb7e(0x490)];_0x8cea75+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x4bfb32)+_0x1dfb7e(0x512);}_0x8cea75+=_0x1dfb7e(0x551);}),studentResultArea[_0xbad8e9(0xa8d)]=_0x8cea75,renderEarnedBadges(_0x2bfb2c,'earned-badges-container'),studentResultArea[_0xbad8e9(0x21b)]['remove']('hidden'),studentQuizArea[_0xbad8e9(0x21b)][_0xbad8e9(0x214)](_0xbad8e9(0x88c)),setupResultScreenBackButton({'isLooping':_0x397b6f,'score':_0x1353e4,'totalQuestions':_0x5c1cb0,'showRankings':!![]});if(window[_0xbad8e9(0xa2e)])window[_0xbad8e9(0xa2e)][_0xbad8e9(0x2d1)]([studentResultArea]);}function displayResultsScoreOnly(_0x39ae11,_0x51f524,_0x1ac586,_0x53acc3){const _0x5f02b=_0x3fa4d9,_0x4f8d6a=_0x53acc3>0x0?_0x39ae11/_0x53acc3*0x64:0x0,_0x303f6b=currentDisplayedQuiz[_0x5f02b(0x8a1)]?.[_0x5f02b(0x82d)]??-0x1,_0x57f0fb=currentDisplayedQuiz[_0x5f02b(0x791)]===!![];let _0x3275a6='';if(_0x57f0fb||_0x303f6b!==-0x1){let _0x5cd182=_0x57f0fb?_0x39ae11===_0x53acc3:_0x39ae11>=_0x303f6b;const _0x18ab2b=_0x5cd182?'bg-green-100\x20text-green-800':_0x5f02b(0x8b5),_0x139d72=_0x5cd182?_0x5f02b(0x8d6):'ไม่ผ่าน';_0x3275a6='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x18ab2b+'\x22>'+_0x139d72+_0x5f02b(0x453);}let _0x206859=_0x5f02b(0x3f4)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x39ae11+_0x5f02b(0x2eb)+_0x53acc3+_0x5f02b(0x24b)+_0x3275a6+_0x5f02b(0xa09)+_0x51f524+_0x5f02b(0x43e)+_0x4f8d6a[_0x5f02b(0x459)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x5f02b(0xa8d)]=_0x206859,renderEarnedBadges(_0x1ac586,_0x5f02b(0x690)),studentResultArea['classList'][_0x5f02b(0x621)](_0x5f02b(0x88c)),studentQuizArea[_0x5f02b(0x21b)]['add']('hidden'),setupResultScreenBackButton({'score':_0x39ae11,'totalQuestions':_0x53acc3,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x493f43=_0x3fa4d9;let _0x3bb1fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x493f43(0x4f0);studentResultArea['innerHTML']=_0x3bb1fd,studentResultArea[_0x493f43(0x21b)]['remove']('hidden'),studentQuizArea[_0x493f43(0x21b)]['add'](_0x493f43(0x88c)),document[_0x493f43(0x4d6)](_0x493f43(0x231))[_0x493f43(0x795)](_0x493f43(0x96d),()=>{const _0x4243ba=_0x493f43;showView(_0x4243ba(0x564)),document[_0x4243ba(0x4d6)](_0x4243ba(0x7fc))[_0x4243ba(0xa87)]='';});}function renderEarnedBadges(_0x5f41f2,_0x4827dc){const _0x30dedf=_0x3fa4d9,_0x20c5f7=document[_0x30dedf(0x4d6)](_0x4827dc);if(!_0x20c5f7||!_0x5f41f2||_0x5f41f2[_0x30dedf(0x3e1)]===0x0)return;let _0x52e71d='';_0x5f41f2[_0x30dedf(0x220)]((_0x2af68a,_0x1cf3b5)=>{const _0x4340dd=_0x30dedf,_0x1797e7=Object[_0x4340dd(0x792)](BADGES)[_0x4340dd(0xa53)](_0x558965=>_0x558965['id']===_0x2af68a);_0x1797e7&&(_0x52e71d+=_0x4340dd(0x679)+_0x1cf3b5*0.2+_0x4340dd(0x854)+_0x1797e7[_0x4340dd(0x7a9)]+_0x4340dd(0xa9b)+_0x1797e7['icon']+_0x4340dd(0x2af)+_0x1797e7[_0x4340dd(0xa19)]+_0x4340dd(0x4c8));}),_0x20c5f7[_0x30dedf(0xa8d)]=_0x52e71d;}function startPresentation(_0x260be3){const _0x37fdfc=_0x3fa4d9;currentQuizData=getShuffledQuiz(_0x260be3),currentPresentationSlide=0x0,presentationModal[_0x37fdfc(0x694)]['display']=_0x37fdfc(0x666),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x4e9b68=_0x3fa4d9;document[_0x4e9b68(0x200)]&&document[_0x4e9b68(0x5d2)](),presentationModal[_0x4e9b68(0x694)][_0x4e9b68(0x56a)]=_0x4e9b68(0x4c3);}function renderPresentationSlide(_0x4e1dc0){const _0x4fb687=_0x3fa4d9,_0x25c233=document[_0x4fb687(0x4d6)](_0x4fb687(0x5c4));if(!currentQuizData||!currentQuizData[_0x4fb687(0x299)]||!currentQuizData[_0x4fb687(0x299)][_0x4e1dc0]){_0x25c233['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x51a71f=currentQuizData[_0x4fb687(0x299)][_0x4e1dc0],_0x55f00e=_0x51a71f[_0x4fb687(0x36e)]||currentQuizData[_0x4fb687(0x25e)];_0x25c233['innerHTML']='';let _0x55ee05=_0x4fb687(0x8c0)+(_0x51a71f['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x51a71f['imageCode']+_0x4fb687(0x551):'')+_0x4fb687(0x72f)+(_0x4e1dc0+0x1)+'.\x20'+(_0x51a71f['stem']||_0x51a71f[_0x4fb687(0x490)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x55f00e){case _0x4fb687(0x4f4):_0x55ee05+=_0x51a71f[_0x4fb687(0x3df)]['map'](_0x596bdb=>_0x4fb687(0x4cf)+_0x596bdb+_0x4fb687(0x3b5))[_0x4fb687(0x3d6)]('');break;case _0x4fb687(0x860):_0x55ee05+=_0x4fb687(0x4f5),_0x55ee05+=_0x4fb687(0x5c3);break;case _0x4fb687(0x68c):case _0x4fb687(0x775):_0x55ee05+=_0x4fb687(0x495);break;case'fill_in_the_blank':case _0x4fb687(0x5c5):default:_0x55ee05+=_0x51a71f['options'][_0x4fb687(0x9f0)]((_0x28d729,_0x2e0338)=>_0x4fb687(0x803)+_0x2e0338+_0x4fb687(0x66b)+_0x28d729+_0x4fb687(0x3b5))[_0x4fb687(0x3d6)]('');break;}_0x55ee05+=_0x4fb687(0x579)+(_0x51a71f[_0x4fb687(0x3a3)]||_0x4fb687(0x6b3))+_0x4fb687(0x5a2),_0x25c233['innerHTML']=_0x55ee05;if(window[_0x4fb687(0xa2e)])window[_0x4fb687(0xa2e)]['typesetPromise']([_0x25c233]);let _0x79f124=[];switch(_0x55f00e){case _0x4fb687(0x4f4):_0x79f124=_0x51a71f[_0x4fb687(0x3df)]||[];break;case _0x4fb687(0x860):_0x79f124=[_0x4fb687(0x7a6),'ไม่ใช่'];break;default:_0x79f124=_0x51a71f[_0x4fb687(0x35a)]||[];break;}const _0x2f1c07=document[_0x4fb687(0x4d6)](_0x4fb687(0x433));_0x2f1c07&&(_0x2f1c07[_0x4fb687(0x672)]=()=>{openScratchpad(_0x51a71f,_0x79f124);});document[_0x4fb687(0x76c)](_0x4fb687(0x6ff))['forEach'](_0x5f0733=>{const _0x265284=_0x4fb687;_0x5f0733[_0x265284(0x795)](_0x265284(0x96d),_0x1194d7=>revealAnswerForPresentation(_0x4e1dc0,_0x1194d7['currentTarget']));});const _0x118338=document[_0x4fb687(0x4d6)](_0x4fb687(0x732));_0x118338&&_0x118338[_0x4fb687(0x795)](_0x4fb687(0x96d),()=>checkShortAnswerForPresentation(_0x4e1dc0)),document[_0x4fb687(0x4d6)](_0x4fb687(0x1b1))[_0x4fb687(0x5b9)]=_0x4fb687(0x1bb)+(_0x4e1dc0+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x4fb687(0x3e1)],document[_0x4fb687(0x4d6)](_0x4fb687(0x16b))[_0x4fb687(0x907)]=_0x4e1dc0===0x0,document[_0x4fb687(0x4d6)](_0x4fb687(0x4a0))[_0x4fb687(0x907)]=_0x4e1dc0===currentQuizData[_0x4fb687(0x299)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x2c1ad6){const _0xd8b323=_0x3fa4d9,_0x10c783=currentQuizData[_0xd8b323(0x299)][_0x2c1ad6],_0x257a93=document[_0xd8b323(0x4d6)](_0xd8b323(0x5dd)),_0x16e68b=document[_0xd8b323(0x4d6)](_0xd8b323(0x732)),_0x43ef73=document['getElementById'](_0xd8b323(0x7db)),_0x54130c=document[_0xd8b323(0x4d6)](_0xd8b323(0x80b));if(!_0x257a93||!_0x16e68b||!_0x43ef73||!_0x54130c)return;const _0xcc4826=_0x257a93[_0xd8b323(0xa87)][_0xd8b323(0x56f)]();if(_0xcc4826==='')return;_0x16e68b[_0xd8b323(0x907)]=!![],_0x16e68b[_0xd8b323(0xa8d)]=_0xd8b323(0x6a1),_0x257a93[_0xd8b323(0x907)]=!![];const _0x252498=await gradeShortAnswer(_0xcc4826,_0x10c783);_0x252498?_0x43ef73['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x43ef73[_0xd8b323(0xa8d)]=_0xd8b323(0x950)+_0x10c783[_0xd8b323(0x202)]+')',_0x43ef73[_0xd8b323(0x21b)][_0xd8b323(0x621)]('hidden'),_0x54130c[_0xd8b323(0x21b)][_0xd8b323(0x621)](_0xd8b323(0x88c)),_0x16e68b[_0xd8b323(0x21b)][_0xd8b323(0x214)](_0xd8b323(0x88c));}function revealAnswerForPresentation(_0x394c71,_0x431cf3){const _0x59879e=_0x3fa4d9,_0x3281b2=currentQuizData[_0x59879e(0x299)][_0x394c71],_0x45879c=_0x3281b2['questionType']||currentQuizData[_0x59879e(0x25e)];document[_0x59879e(0x76c)](_0x59879e(0x6ff))[_0x59879e(0x220)](_0x10f76b=>{const _0xa100fc=_0x59879e;_0x10f76b[_0xa100fc(0x907)]=!![],_0x10f76b[_0xa100fc(0x21b)][_0xa100fc(0x621)]('hover:bg-indigo-100');let _0x4aaf7e=![];if(_0x45879c===_0xa100fc(0x5c5)||_0x45879c===_0xa100fc(0x934)){const _0x474548=parseInt(_0x10f76b[_0xa100fc(0x5f3)]['index']);_0x4aaf7e=_0x474548===_0x3281b2[_0xa100fc(0x6ce)];}else{if(_0x45879c===_0xa100fc(0x860)){const _0x47804a=_0x10f76b[_0xa100fc(0x5f3)]['answer']==='true';_0x4aaf7e=_0x47804a===_0x3281b2['correctAnswer'];}else _0x45879c===_0xa100fc(0x4f4)&&(_0x4aaf7e=_0x10f76b['textContent'][_0xa100fc(0x56f)]()===_0x3281b2['correctResponse']);}_0x4aaf7e?_0x10f76b[_0xa100fc(0x21b)][_0xa100fc(0x214)](_0xa100fc(0x34c),_0xa100fc(0x6f8),_0xa100fc(0x423)):_0x10f76b[_0xa100fc(0x21b)][_0xa100fc(0x214)](_0xa100fc(0xa86));}),_0x431cf3[_0x59879e(0x21b)][_0x59879e(0x621)](_0x59879e(0xa86));let _0x41c7bd=![];if(_0x45879c===_0x59879e(0x5c5))_0x41c7bd=parseInt(_0x431cf3['dataset'][_0x59879e(0xa50)])===_0x3281b2[_0x59879e(0x6ce)];else{if(_0x45879c===_0x59879e(0x860))_0x41c7bd=_0x431cf3['dataset'][_0x59879e(0x924)]===_0x59879e(0x218)===_0x3281b2[_0x59879e(0x185)];else _0x45879c===_0x59879e(0x4f4)&&(_0x41c7bd=_0x431cf3[_0x59879e(0x5b9)][_0x59879e(0x56f)]()===_0x3281b2[_0x59879e(0xa97)]);}!_0x41c7bd&&_0x431cf3[_0x59879e(0x21b)]['add'](_0x59879e(0x195),_0x59879e(0x6f8),_0x59879e(0xa4d)),document['getElementById']('presentation-explanation')[_0x59879e(0x21b)][_0x59879e(0x621)]('hidden');}function startWholeQuizTimer(_0x1c6ad5){const _0x280ec4=_0x3fa4d9,_0x3d213c=document[_0x280ec4(0x4d6)]('timer-container');if(!_0x3d213c)return;const _0x54e5e9=Date[_0x280ec4(0x9ed)]()+_0x1c6ad5*0x3c*0x3e8;_0x3d213c[_0x280ec4(0xa8d)]=_0x280ec4(0x739);const _0x47722e=document[_0x280ec4(0x4d6)](_0x280ec4(0x8cd));quizTimerInterval=setInterval(()=>{const _0xd1b8bb=_0x280ec4,_0x3963f1=_0x54e5e9-Date[_0xd1b8bb(0x9ed)]();if(_0x3963f1<=0x0)clearInterval(quizTimerInterval),_0x47722e[_0xd1b8bb(0x5b9)]=_0xd1b8bb(0x2b4),showMessage(_0xd1b8bb(0x6c6)),handleSubmitQuiz(null);else{const _0x5bb142=Math[_0xd1b8bb(0x67c)](_0x3963f1/0x3e8/0x3c%0x3c)[_0xd1b8bb(0x6dc)]()[_0xd1b8bb(0x660)](0x2,'0'),_0x3f3728=Math[_0xd1b8bb(0x67c)](_0x3963f1/0x3e8%0x3c)[_0xd1b8bb(0x6dc)]()[_0xd1b8bb(0x660)](0x2,'0');_0x47722e[_0xd1b8bb(0x5b9)]=_0x5bb142+':'+_0x3f3728;}},0x3e8);}function renderPerQuestionView(){const _0x280f1e=_0x3fa4d9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2aa810=currentDisplayedQuiz[_0x280f1e(0x299)][currentQuestionIndex],_0x441eba=_0x2aa810[_0x280f1e(0x36e)]||currentDisplayedQuiz[_0x280f1e(0x25e)],_0x3ccfff=currentDisplayedQuiz[_0x280f1e(0x8a1)]?.[_0x280f1e(0xa73)]===!![];let _0x4a83f3=_0x280f1e(0x2c3)+(currentQuestionIndex+0x1)+_0x280f1e(0x1b3)+currentDisplayedQuiz[_0x280f1e(0x299)]['length']+_0x280f1e(0x35f)+(currentMode==='admin-testing'?_0x280f1e(0x8e0):'')+_0x280f1e(0x1fa)+currentDisplayedQuiz['topic']+_0x280f1e(0x34e);studentQuizArea[_0x280f1e(0xa8d)]=_0x4a83f3;let _0x34b90a=_0x2aa810[_0x280f1e(0x785)]||_0x2aa810['questionText'];_0x2aa810[_0x280f1e(0x39e)]&&(_0x34b90a+=_0x280f1e(0x5c1)+_0x2aa810[_0x280f1e(0x39e)]+_0x280f1e(0x551));let _0x16f64e='';switch(_0x441eba){case _0x280f1e(0x775):case'fill_in_no_choices':_0x16f64e=_0x280f1e(0xa6f);break;case _0x280f1e(0x860):_0x16f64e='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x280f1e(0x4f4):_0x16f64e=_0x280f1e(0x7f4)+(_0x2aa810['allResponses']||[])['map'](_0x3f511e=>_0x280f1e(0x838)+_0x3f511e+'\x22>'+_0x3f511e+_0x280f1e(0x834))[_0x280f1e(0x3d6)]('')+_0x280f1e(0x651);break;default:_0x2aa810[_0x280f1e(0x35a)]&&(_0x16f64e=_0x2aa810[_0x280f1e(0x35a)][_0x280f1e(0x9f0)]((_0x58b3b1,_0x65a28e)=>_0x280f1e(0x3b7)+_0x65a28e+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x65a28e+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x65a28e+'\x22>'+_0x58b3b1+_0x280f1e(0x5da))[_0x280f1e(0x3d6)](''));break;}document[_0x280f1e(0x4d6)]('per-question-text')[_0x280f1e(0xa8d)]=_0x34b90a,document[_0x280f1e(0x4d6)](_0x280f1e(0x55d))['innerHTML']=_0x16f64e;const _0x1c8528=currentDisplayedQuiz[_0x280f1e(0x8a1)]?.[_0x280f1e(0xa73)]===!![],_0x3e02ea=currentDisplayedQuiz[_0x280f1e(0x8a1)]?.[_0x280f1e(0x3d7)]||_0x280f1e(0x1a5);if(_0x1c8528&&_0x3e02ea===_0x280f1e(0x1a5)){const _0x54f945='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea['querySelector'](_0x280f1e(0x85d))[_0x280f1e(0x6fa)](_0x280f1e(0x818),_0x54f945);}studentQuizArea[_0x280f1e(0x6fa)](_0x280f1e(0x818),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x280f1e(0x299)][_0x280f1e(0x3e1)]-0x1?_0x280f1e(0x945):_0x280f1e(0x6ed))+_0x280f1e(0x2dd));currentMode===_0x280f1e(0x8b4)&&document[_0x280f1e(0x4d6)](_0x280f1e(0x4e5))?.[_0x280f1e(0x795)](_0x280f1e(0x96d),cancelAdminTest);document[_0x280f1e(0x4d6)](_0x280f1e(0x8f3))[_0x280f1e(0x795)](_0x280f1e(0x96d),()=>handleNextQuestionInTimedMode(![]));if(window[_0x280f1e(0xa2e)])window['MathJax']['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x280f1e(0x8a1)]?.[_0x280f1e(0x36a)]===_0x280f1e(0x1bd)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x343e11=_0x3fa4d9,_0x539bc9=currentDisplayedQuiz[_0x343e11(0x8a1)]['timerDuration'],_0x592a00=document['getElementById'](_0x343e11(0xa9d));if(!_0x592a00)return;let _0x4f4000=_0x539bc9;_0x592a00['innerHTML']=_0x343e11(0x467)+_0x4f4000+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0xf18a5b=document['getElementById'](_0x343e11(0x33c)),_0x202a1d=document[_0x343e11(0x4d6)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x33920c=_0x343e11;_0x4f4000--;const _0x1c1859=_0x4f4000/_0x539bc9*0x64;_0xf18a5b[_0x33920c(0x694)][_0x33920c(0x3ec)]=_0x1c1859+'%',_0x202a1d[_0x33920c(0x5b9)]=_0x4f4000,_0x4f4000<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x33920c(0x15d)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x25a320=![]){const _0x5d0875=_0x3fa4d9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1061fd=null,_0x11cf2e=![];if(!_0x25a320){const _0x54860c=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x45f251=_0x54860c[_0x5d0875(0x36e)]||currentDisplayedQuiz[_0x5d0875(0x25e)];if(_0x45f251===_0x5d0875(0x775)||_0x45f251==='fill_in_no_choices')_0x1061fd=document[_0x5d0875(0x8c1)](_0x5d0875(0x887))?.[_0x5d0875(0xa87)]['trim']()??'';else{if(_0x45f251===_0x5d0875(0x4f4))_0x1061fd=document[_0x5d0875(0x8c1)](_0x5d0875(0x1b5))?.['value']??'';else{const _0x1da028=document['querySelector'](_0x5d0875(0x403));_0x1da028&&(_0x1061fd=_0x1da028[_0x5d0875(0xa87)]);}}if(_0x1061fd===null||_0x1061fd===''){showMessage(_0x5d0875(0x6f3)),startPerQuestionTimer();return;}const _0xa139be=currentDisplayedQuiz[_0x5d0875(0x8a1)]?.[_0x5d0875(0xa73)]===!![],_0x1d1c67=currentDisplayedQuiz['settings']?.[_0x5d0875(0x3d7)]||_0x5d0875(0x1a5);if(_0xa139be&&_0x1d1c67===_0x5d0875(0x996)){document[_0x5d0875(0x4d6)](_0x5d0875(0x155))[_0x5d0875(0xa87)]=_0x1061fd,document[_0x5d0875(0x4d6)](_0x5d0875(0x3e6))['classList'][_0x5d0875(0x621)](_0x5d0875(0x88c));return;}const _0x359f98=document[_0x5d0875(0x4d6)](_0x5d0875(0x983));_0x359f98&&(_0x11cf2e=_0x359f98['checked']);}const _0x215710={'answer':_0x1061fd,'wasConfident':_0x11cf2e};proceedToNextQuestion(_0x215710);}async function finalizePerQuestionQuiz(){const _0x29dad6=_0x3fa4d9,_0x2128a0=currentDisplayedQuiz['questions']['some'](_0x429ba6=>_0x429ba6[_0x29dad6(0x36e)]==='short_answer');_0x2128a0?showMessage(_0x29dad6(0x767)):showMessage(_0x29dad6(0x588));const _0x42de6a=currentQuizData['id'],_0x389c7a=doc(db,_0x29dad6(0x31f)+appId+_0x29dad6(0x7dd)+_0x42de6a+_0x29dad6(0x922),currentStudentName),_0x1b2ad1=await getDoc(_0x389c7a),_0x5b5fe0=_0x1b2ad1[_0x29dad6(0x77c)]()?_0x1b2ad1[_0x29dad6(0x342)]():{},_0x41bb77=_0x5b5fe0['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x41bb77);}function getResultsFilename(){const _0x4a5d9e=_0x3fa4d9,_0x5f3813=document[_0x4a5d9e(0x4d6)](_0x4a5d9e(0x9ec))[_0x4a5d9e(0x5b9)][_0x4a5d9e(0x159)](/[^a-z0-9]/gi,'_')[_0x4a5d9e(0x4f3)]();return'results_'+(_0x5f3813||_0x4a5d9e(0x2d9));}function exportResultsAsImage(){const _0x98c067=_0x3fa4d9,_0x500c47=document[_0x98c067(0x4d6)](_0x98c067(0x3be));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x500c47)['then'](_0x4a6544=>{const _0x47654e=_0x98c067,_0x5b034e=document[_0x47654e(0x75c)]('a');_0x5b034e[_0x47654e(0x3af)]=getResultsFilename()+_0x47654e(0x2e6),_0x5b034e[_0x47654e(0x3f8)]=_0x4a6544['toDataURL']('image/png'),_0x5b034e[_0x47654e(0x96d)](),messageModal['classList'][_0x47654e(0x214)](_0x47654e(0x88c));});}function exportResultsAsPDF(){const _0x16337e=_0x3fa4d9,{jsPDF:_0x228159}=window['jspdf'],_0x51d49a=new _0x228159();_0x51d49a['setFont']('helvetica','normal'),_0x51d49a[_0x16337e(0x71f)]({'html':_0x16337e(0x1ea)}),_0x51d49a['save'](getResultsFilename()+_0x16337e(0x493));}function exportResultsAsWord(){const _0x569afc=_0x3fa4d9,_0x586ed4=_0x569afc(0x334)+_0x569afc(0x322)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x569afc(0x6c9),_0x405124=_0x569afc(0x539),_0x1df1c8=_0x586ed4+document[_0x569afc(0x4d6)](_0x569afc(0x3be))[_0x569afc(0xa8d)]+_0x405124,_0xd66cd4=_0x569afc(0x771)+encodeURIComponent(_0x1df1c8),_0xcc495d=document['createElement']('a');document['body'][_0x569afc(0x541)](_0xcc495d),_0xcc495d['href']=_0xd66cd4,_0xcc495d[_0x569afc(0x3af)]=getResultsFilename()+'.doc',_0xcc495d[_0x569afc(0x96d)](),document[_0x569afc(0x4e1)][_0x569afc(0x97e)](_0xcc495d);}function exportResultsAsExcel(){const _0x334bcd=_0x3fa4d9,_0x528db1=document[_0x334bcd(0x4d6)]('results-table');let _0x15e7cf=[];for(let _0x596b21=0x0;_0x596b21<_0x528db1['rows'][_0x334bcd(0x3e1)];_0x596b21++){let _0x1feb8c=[],_0x207512=_0x528db1[_0x334bcd(0x46d)][_0x596b21][_0x334bcd(0x76c)](_0x334bcd(0x4c9));for(let _0x56a754=0x0;_0x56a754<_0x207512['length'];_0x56a754++){_0x1feb8c['push']('\x22'+_0x207512[_0x56a754][_0x334bcd(0x542)][_0x334bcd(0x159)](/"/g,'\x22\x22')+'\x22');}_0x15e7cf['push'](_0x1feb8c['join'](','));}const _0x502fb1=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x15e7cf[_0x334bcd(0x3d6)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x391223=document['createElement']('a');_0x391223[_0x334bcd(0x3f8)]=URL[_0x334bcd(0x282)](_0x502fb1),_0x391223[_0x334bcd(0x3af)]=getResultsFilename()+'.csv',_0x391223[_0x334bcd(0x96d)]();}function exportTableAsImage(_0x4ae9e0,_0x289244){const _0x499d6a=_0x3fa4d9,_0x467de2=document[_0x499d6a(0x4d6)](_0x4ae9e0);if(!_0x467de2){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x499d6a(0x83e)),html2canvas(_0x467de2)['then'](_0x93a27b=>{const _0x496f32=_0x499d6a,_0x1afa46=document['createElement']('a');_0x1afa46[_0x496f32(0x3af)]=_0x289244+'.png',_0x1afa46['href']=_0x93a27b[_0x496f32(0x6c8)](_0x496f32(0x868)),_0x1afa46[_0x496f32(0x96d)](),messageModal[_0x496f32(0x21b)]['add'](_0x496f32(0x88c));});}function exportTableAsPDF(_0x5a3690,_0x2f2d83){const _0x2bc708=_0x3fa4d9,{jsPDF:_0x3cf16b}=window[_0x2bc708(0x636)],_0x260c00=new _0x3cf16b();_0x260c00[_0x2bc708(0x714)]('helvetica',_0x2bc708(0x1da)),_0x260c00[_0x2bc708(0x71f)]({'html':'#'+_0x5a3690}),_0x260c00[_0x2bc708(0xa0a)](_0x2f2d83+'.pdf');}function exportTableAsWord(_0x2a90c3,_0x1676f3){const _0xe7af1f=_0x3fa4d9,_0x53cf3e=document[_0xe7af1f(0x4d6)](_0x2a90c3);if(!_0x53cf3e){showMessage(_0xe7af1f(0x29d));return;}const _0x4e4462='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0xe7af1f(0x322)+_0xe7af1f(0x23d)+_0xe7af1f(0x6c9),_0x16c8e5=_0xe7af1f(0x539),_0x85aac0=_0x4e4462+_0x53cf3e['innerHTML']+_0x16c8e5,_0x599ed8='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x85aac0),_0x1516a4=document['createElement']('a');document[_0xe7af1f(0x4e1)][_0xe7af1f(0x541)](_0x1516a4),_0x1516a4[_0xe7af1f(0x3f8)]=_0x599ed8,_0x1516a4[_0xe7af1f(0x3af)]=_0x1676f3+_0xe7af1f(0x60d),_0x1516a4[_0xe7af1f(0x96d)](),document[_0xe7af1f(0x4e1)][_0xe7af1f(0x97e)](_0x1516a4);}function exportTableAsExcel(_0x2cb9e5,_0x3bf762){const _0x1aee8d=_0x3fa4d9,_0x4f62e9=document[_0x1aee8d(0x4d6)](_0x2cb9e5);if(!_0x4f62e9){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x3580a1=[];for(let _0x59325d=0x0;_0x59325d<_0x4f62e9[_0x1aee8d(0x46d)][_0x1aee8d(0x3e1)];_0x59325d++){let _0xfa3bc2=[],_0x22004f=_0x4f62e9['rows'][_0x59325d][_0x1aee8d(0x76c)](_0x1aee8d(0x4c9));for(let _0x22fe2f=0x0;_0x22fe2f<_0x22004f[_0x1aee8d(0x3e1)];_0x22fe2f++){_0xfa3bc2[_0x1aee8d(0x87a)]('\x22'+_0x22004f[_0x22fe2f]['innerText'][_0x1aee8d(0x159)](/"/g,'\x22\x22')+'\x22');}_0x3580a1[_0x1aee8d(0x87a)](_0xfa3bc2[_0x1aee8d(0x3d6)](','));}const _0x3a1540=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3580a1['join']('\x0a')],{'type':_0x1aee8d(0x3aa)}),_0x494d53=document['createElement']('a');_0x494d53[_0x1aee8d(0x3f8)]=URL['createObjectURL'](_0x3a1540),_0x494d53[_0x1aee8d(0x3af)]=_0x3bf762+_0x1aee8d(0x40e),_0x494d53['click']();}function renderAnalytics(_0x7a0c0,_0x2e821c){const _0x313ea7=_0x3fa4d9,_0x1eaebf=_0x2e821c[_0x313ea7(0x853)](_0x559cc4=>_0x559cc4[_0x313ea7(0x6aa)]!==undefined),_0x10944d=currentProjectData[_0x313ea7(0x5ff)][_0x313ea7(0x3e1)],_0x5f52a0=_0x1eaebf[_0x313ea7(0x3e1)],_0x2db12d=_0x10944d-_0x5f52a0,_0x1e52a9=_0x10944d>0x0?_0x5f52a0/_0x10944d*0x64:0x0,_0x568537=_0x1eaebf[_0x313ea7(0x9f0)](_0x2834a1=>_0x2834a1[_0x313ea7(0x6aa)]),_0x38802f=_0x568537[_0x313ea7(0x3e1)]>0x0?_0x568537['reduce']((_0x3aad57,_0x5751a1)=>_0x3aad57+_0x5751a1,0x0)/_0x568537[_0x313ea7(0x3e1)]:0x0,_0x551d6d=_0x7a0c0[_0x313ea7(0x299)][_0x313ea7(0x3e1)],_0x4ce74c=_0x551d6d>0x0?_0x38802f/_0x551d6d*0x64:0x0,_0x2cfbcc=calculateItemAnalysis(_0x7a0c0,_0x1eaebf),_0x3de6f7=calculateReliabilityKR20(_0x7a0c0,_0x1eaebf,_0x2cfbcc[_0x313ea7(0x5df)]);let _0x3c7287='';if(_0x3de6f7!==null){let _0x40b3cd='';if(_0x3de6f7>=0.9)_0x40b3cd=_0x313ea7(0x719);else{if(_0x3de6f7>=0.8)_0x40b3cd=_0x313ea7(0x665);else{if(_0x3de6f7>=0.7)_0x40b3cd='ดี';else{if(_0x3de6f7>=0.6)_0x40b3cd=_0x313ea7(0x681);else _0x40b3cd=_0x313ea7(0x716);}}}_0x3c7287=_0x313ea7(0x867)+_0x3de6f7[_0x313ea7(0x459)](0x2)+_0x313ea7(0x6a8)+_0x40b3cd+_0x313ea7(0x662);}const _0x2da60d=document['getElementById']('analytics-summary-cards');_0x2da60d[_0x313ea7(0xa8d)]=_0x313ea7(0x5e6)+_0x1e52a9[_0x313ea7(0x459)](0x0)+_0x313ea7(0x988)+_0x5f52a0+'/'+_0x10944d+_0x313ea7(0x6f7)+_0x38802f[_0x313ea7(0x459)](0x2)+_0x313ea7(0xa81)+_0x4ce74c[_0x313ea7(0x459)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x568537[_0x313ea7(0x3e1)]>0x0?Math[_0x313ea7(0x525)](..._0x568537):_0x313ea7(0x417))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x568537[_0x313ea7(0x3e1)]>0x0?Math[_0x313ea7(0x275)](..._0x568537):_0x313ea7(0x417))+_0x313ea7(0x9c4)+_0x3c7287+_0x313ea7(0x6f4);const _0x258951=document[_0x313ea7(0x4d6)](_0x313ea7(0x49c));_0x258951&&_0x258951[_0x313ea7(0x621)]();const _0x31dcf9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2da60d[_0x313ea7(0x6fa)](_0x313ea7(0x4d3),_0x31dcf9);const _0x3aff92=currentProjectData[_0x313ea7(0x5ff)]||[];renderSubmissionChart(_0x5f52a0,_0x2db12d,_0x1eaebf,_0x3aff92),renderScoreDistributionChart(_0x1eaebf,_0x551d6d),renderQuestionAnalytics(_0x7a0c0,_0x1eaebf,_0x3aff92),renderInterestingStats(_0x7a0c0,_0x1eaebf);}async function handleExportLessonPDF(){const _0x7084b8=_0x3fa4d9,_0x3890b6=document['getElementById']('lesson-plan-content'),_0x2f7470=document['getElementById']('lesson-plan-title')[_0x7084b8(0x5b9)],_0x379e5a=window[_0x7084b8(0x7d4)]('',_0x7084b8(0xa0b)),_0x500ca6=_0x7084b8(0x5e9)+_0x2f7470+_0x7084b8(0xa4c)+_0x3890b6['innerHTML']+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x379e5a[_0x7084b8(0x8db)][_0x7084b8(0x3c7)](_0x500ca6),_0x379e5a[_0x7084b8(0x8db)][_0x7084b8(0x40b)](),_0x379e5a[_0x7084b8(0x64b)]=function(){setTimeout(()=>{const _0x402374=_0x5982;_0x379e5a[_0x402374(0x504)]();},0x5dc);};}function renderInterestingStats(_0x25b11d,_0x114466){const _0x331856=_0x3fa4d9,_0x1b64f1=document[_0x331856(0x4d6)](_0x331856(0xa11));if(!_0x1b64f1)return;if(_0x114466[_0x331856(0x3e1)]===0x0){_0x1b64f1[_0x331856(0xa8d)]=_0x331856(0x7ad);return;}const _0x1ccb94=_0x25b11d['questions']['map']((_0x1468b7,_0x4cd076)=>({'index':_0x4cd076+0x1,'text':_0x1468b7[_0x331856(0x490)]||_0x1468b7[_0x331856(0x785)],'correct':0x0}));_0x114466[_0x331856(0x220)](_0xec70ba=>{const _0xfc5e1b=_0x331856,_0x58cbed=_0xec70ba['attempts'][_0xec70ba[_0xfc5e1b(0x594)][_0xfc5e1b(0x3e1)]-0x1];_0x58cbed&&_0x58cbed['answers']&&_0x58cbed[_0xfc5e1b(0x617)][_0xfc5e1b(0x220)](_0x54f72b=>{const _0x464657=_0xfc5e1b,_0x19512d=_0x1ccb94['find'](_0x449919=>_0x449919['text']===_0x54f72b[_0x464657(0x3b8)]);_0x54f72b[_0x464657(0x753)]&&_0x19512d&&_0x19512d[_0x464657(0x21e)]++;});});const _0x40c30d=_0x114466[_0x331856(0x3e1)],_0x2e270d=Math[_0x331856(0x525)](..._0x1ccb94[_0x331856(0x9f0)](_0x1a2eb1=>_0x1a2eb1[_0x331856(0x21e)])),_0x23f314=Math['min'](..._0x1ccb94[_0x331856(0x9f0)](_0x51d8b7=>_0x51d8b7[_0x331856(0x21e)])),_0x5dcb9e=_0x1ccb94['filter'](_0xbc3c79=>_0xbc3c79[_0x331856(0x21e)]===_0x2e270d)[_0x331856(0x9f0)](_0x365f5b=>'ข้อ\x20'+_0x365f5b[_0x331856(0xa50)]),_0x2cd338=_0x1ccb94[_0x331856(0x853)](_0x26d969=>_0x26d969[_0x331856(0x21e)]===_0x23f314)[_0x331856(0x9f0)](_0x1b76cf=>_0x331856(0x6b6)+_0x1b76cf[_0x331856(0xa50)]),_0x10971a=_0x114466['sort']((_0x304a6b,_0x4e45fc)=>_0x4e45fc[_0x331856(0x6aa)]-_0x304a6b[_0x331856(0x6aa)])[_0x331856(0x853)]((_0x13bae9,_0x40f487,_0x3a70b2)=>_0x13bae9['latestScore']===_0x3a70b2[0x0][_0x331856(0x6aa)]),_0x741174=_0x114466[_0x331856(0x171)]((_0x529fae,_0x4fed78)=>_0x529fae['latestScore']-_0x4fed78['latestScore'])['filter']((_0x5f2705,_0x74ddac,_0xec2c8c)=>_0x5f2705['latestScore']===_0xec2c8c[0x0][_0x331856(0x6aa)]),_0x14676e=_0x331856(0x83f)+_0x5dcb9e['join'](',\x20')+_0x331856(0x3a7)+_0x2e270d+'\x20/\x20'+_0x40c30d+_0x331856(0x815)+_0x2cd338[_0x331856(0x3d6)](',\x20')+_0x331856(0x3a7)+(_0x40c30d-_0x23f314)+_0x331856(0x60f)+_0x40c30d+_0x331856(0x92c)+_0x10971a['map'](_0x270651=>_0x270651[_0x331856(0x238)])[_0x331856(0x3d6)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x10971a[0x0][_0x331856(0x6aa)]+_0x331856(0x89e)+_0x741174['map'](_0x309882=>_0x309882[_0x331856(0x238)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x741174[0x0][_0x331856(0x6aa)]+_0x331856(0x2cb);_0x1b64f1[_0x331856(0xa8d)]=_0x14676e;}function renderSubmissionChart(_0x25cbed,_0x52a0a6,_0x12e5cd,_0x2b1726){const _0x5a75dc=_0x3fa4d9,_0x5f1b07=document[_0x5a75dc(0x4d6)]('submission-status-chart')[_0x5a75dc(0x680)]('2d'),_0x4cc389=_0x12e5cd['map'](_0x4e7d83=>_0x4e7d83['studentName']),_0x37dc5a=_0x2b1726['filter'](_0x5374bf=>!_0x4cc389['includes'](_0x5374bf));chartInstances[_0x5a75dc(0x839)]&&chartInstances[_0x5a75dc(0x839)]['destroy'](),chartInstances[_0x5a75dc(0x839)]=new Chart(_0x5f1b07,{'type':'doughnut','data':{'labels':[_0x5a75dc(0x599),'ยังไม่ส่ง'],'datasets':[{'data':[_0x25cbed,_0x52a0a6],'backgroundColor':[_0x5a75dc(0x605),_0x5a75dc(0x56d)],'borderColor':[_0x5a75dc(0x1ac),_0x5a75dc(0x1ac)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x36ff41){const _0x10ce58=_0x5a75dc;let _0x384278=_0x36ff41[_0x10ce58(0x61c)]||'';return _0x384278&&(_0x384278+=':\x20'),_0x384278+=_0x36ff41[_0x10ce58(0x47b)],_0x384278;},'afterLabel':function(_0x11e5c5){const _0x2fd5d1=_0x5a75dc;let _0x53d95a;return _0x11e5c5['dataIndex']===0x0?_0x53d95a=_0x4cc389:_0x53d95a=_0x37dc5a,_0x53d95a[_0x2fd5d1(0x3e1)]>0x0?_0x53d95a[_0x2fd5d1(0x3d6)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x4e0b1e,_0x19e74c){const _0x129c23=_0x3fa4d9,_0x3e7d87=document['getElementById'](_0x129c23(0x1e6))[_0x129c23(0x680)]('2d'),_0x4d84df={};for(let _0x36b15c=0x0;_0x36b15c<=_0x19e74c;_0x36b15c++){_0x4d84df[_0x36b15c]=0x0;}_0x4e0b1e['forEach'](_0x4d4839=>{const _0x587a35=_0x129c23;_0x4d84df[_0x4d4839[_0x587a35(0x6aa)]]!==undefined&&_0x4d84df[_0x4d4839[_0x587a35(0x6aa)]]++;}),chartInstances[_0x129c23(0x41d)]&&chartInstances[_0x129c23(0x41d)]['destroy'](),chartInstances[_0x129c23(0x41d)]=new Chart(_0x3e7d87,{'type':'bar','data':{'labels':Object['keys'](_0x4d84df),'datasets':[{'label':_0x129c23(0x381),'data':Object['values'](_0x4d84df),'backgroundColor':_0x129c23(0x730),'borderColor':_0x129c23(0xa2f),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x129c23(0x4d8)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x229d64){const _0xd2b8e9=_0x129c23,_0x450c23=_0x229d64[_0xd2b8e9(0x61c)],_0x22ffed=_0x4e0b1e[_0xd2b8e9(0x853)](_0x4558e1=>_0x4558e1['latestScore']==_0x450c23)[_0xd2b8e9(0x9f0)](_0x237b1a=>_0x237b1a[_0xd2b8e9(0x238)]);return _0x22ffed[_0xd2b8e9(0x3e1)]>0x0?_0x22ffed[_0xd2b8e9(0x3d6)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4a6ea8,_0x190de7,_0x371b69){const _0x8d4e03=_0x3fa4d9,_0x475834=document[_0x8d4e03(0x4d6)](_0x8d4e03(0x29e));if(_0x371b69[_0x8d4e03(0x3e1)]===0x0){_0x475834[_0x8d4e03(0xa8d)]=_0x8d4e03(0x888);return;}const _0x1231e9=calculateItemAnalysis(_0x4a6ea8,_0x190de7),_0x46c2a5=calculateDistractorAnalysis(_0x4a6ea8,_0x190de7);let _0x1a3b85='';_0x1231e9[_0x8d4e03(0x401)]&&(_0x1a3b85=_0x8d4e03(0x609)+_0x1231e9[_0x8d4e03(0x401)][_0x8d4e03(0x8b7)][_0x8d4e03(0x3e1)]+_0x8d4e03(0x7f7)+_0x1231e9['overallGroups']['upperGroupNames'][_0x8d4e03(0x9f0)](_0x1842ae=>_0x8d4e03(0x570)+_0x1842ae+'</li>')[_0x8d4e03(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1231e9[_0x8d4e03(0x401)][_0x8d4e03(0xa99)][_0x8d4e03(0x3e1)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1231e9[_0x8d4e03(0x401)][_0x8d4e03(0xa99)][_0x8d4e03(0x9f0)](_0x348169=>_0x8d4e03(0x570)+_0x348169+'</li>')[_0x8d4e03(0x3d6)]('')+_0x8d4e03(0x31e));let _0x6d5862='';const _0x3b1171=_0x190de7[_0x8d4e03(0x9f0)](_0x4afa8a=>_0x4afa8a[_0x8d4e03(0x238)]),_0x145389=_0x243a88=>{const _0x2b2385=_0x8d4e03;if(_0x243a88>=0.8)return _0x2b2385(0x64c);if(_0x243a88>=0.6)return _0x2b2385(0x3fb);if(_0x243a88>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x243a88>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x2b2385(0x177);},_0x2fe8cb=_0x598e67=>{const _0x2c23ce=_0x8d4e03;if(_0x598e67<0x0)return _0x2c23ce(0x74f);if(_0x598e67>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x598e67>=0.3)return _0x2c23ce(0xa5b);if(_0x598e67>=0.2)return _0x2c23ce(0x718);return _0x2c23ce(0x693);},_0x693000=_0x5cc82a=>{const _0x2edc42=_0x8d4e03,_0x14acd4=_0x5cc82a[_0x2edc42(0x459)](0x0);if(parseFloat(_0x14acd4)===0x64)return _0x2edc42(0x886)+_0x14acd4+_0x2edc42(0x71c);if(_0x5cc82a>=0x32)return _0x2edc42(0x289)+_0x14acd4+_0x2edc42(0x71c);return _0x2edc42(0x163)+_0x14acd4+_0x2edc42(0x71c);};_0x4a6ea8[_0x8d4e03(0x299)][_0x8d4e03(0x220)]((_0x5e63c7,_0x3c974a)=>{const _0x234ca9=_0x8d4e03,_0x501137=_0x1231e9[_0x234ca9(0x5df)][_0x3c974a],_0x2f7f49=_0x46c2a5[_0x3c974a],_0x124324=_0x5e63c7[_0x234ca9(0x785)]||_0x5e63c7['questionText']||_0x5e63c7[_0x234ca9(0x7d1)];let _0x74b3df=0x0;const _0x430810=[],_0x16e71a=[];_0x190de7['forEach'](_0x1531be=>{const _0xd25131=_0x234ca9,_0x5e75ef=_0x1531be[_0xd25131(0x594)][_0x1531be['attempts'][_0xd25131(0x3e1)]-0x1];if(_0x5e75ef&&_0x5e75ef['answers']){const _0x85d645=_0x5e75ef[_0xd25131(0x617)][_0xd25131(0xa53)](_0xe9dcf6=>_0xe9dcf6[_0xd25131(0x3b8)]===_0x124324)??_0x5e75ef[_0xd25131(0x617)][_0x3c974a]??null;_0x85d645&&(_0x85d645[_0xd25131(0x753)]?(_0x74b3df++,_0x430810['push'](_0x1531be[_0xd25131(0x238)])):_0x16e71a[_0xd25131(0x87a)](_0x1531be[_0xd25131(0x238)]));}});const _0x260fc5=_0x190de7[_0x234ca9(0x3e1)]>0x0?_0x74b3df/_0x190de7[_0x234ca9(0x3e1)]*0x64:0x0,_0xb9cdb0=_0x371b69[_0x234ca9(0x853)](_0x2ac7a5=>!_0x3b1171[_0x234ca9(0x8f0)](_0x2ac7a5)),_0x14f5b9=_0x501137?_0x234ca9(0x9ef)+_0x501137['p'][_0x234ca9(0x459)](0x2)+_0x234ca9(0x4d0)+_0x145389(_0x501137['p'])+_0x234ca9(0x2a2)+_0x501137['r'][_0x234ca9(0x459)](0x2)+_0x234ca9(0x4d0)+_0x2fe8cb(_0x501137['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x693000(_0x260fc5)+_0x234ca9(0x4f9):'';let _0x18bb30='';_0x2f7f49&&(_0x18bb30=_0x234ca9(0x6e9)+Object[_0x234ca9(0x720)](_0x2f7f49)[_0x234ca9(0x9f0)](_0x1214a9=>{const _0x4c2016=_0x234ca9,_0x409667=_0x2f7f49[_0x1214a9],_0x1f9a25=parseInt(_0x1214a9)===_0x5e63c7['correctAnswerIndex'],_0x2adaf0=!_0x1f9a25&&_0x409667[_0x4c2016(0x7c8)]>_0x409667[_0x4c2016(0x92f)];return _0x4c2016(0x399)+(_0x1f9a25?_0x4c2016(0x6fc):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x1f9a25?'✔\x20':'')+_0x409667[_0x4c2016(0x606)]+_0x4c2016(0x3fc)+_0x409667[_0x4c2016(0x92f)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x409667[_0x4c2016(0x7c8)]+'\x20'+(_0x2adaf0?'👍':'')+_0x4c2016(0x3fc)+_0x409667['total']+_0x4c2016(0x90d);})[_0x234ca9(0x3d6)]('')+_0x234ca9(0x817));let _0x1b6e03='';_0x501137&&_0x501137['upperGroupResponders']&&(_0x1b6e03=_0x234ca9(0x288)+_0x501137[_0x234ca9(0x2f0)][_0x234ca9(0x3e1)]+_0x234ca9(0x41e)+_0x501137[_0x234ca9(0x2f0)][_0x234ca9(0x9f0)](_0x22f3cb=>'<li>'+(_0x22f3cb['isCorrect']?_0x234ca9(0x695):_0x234ca9(0x6ea))+'\x20'+_0x22f3cb[_0x234ca9(0xa19)]+_0x234ca9(0x243))[_0x234ca9(0x3d6)]('')+_0x234ca9(0x343)+_0x501137['lowerGroupResponders']['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x501137['lowerGroupResponders']['map'](_0x1dbeb1=>'<li>'+(_0x1dbeb1['isCorrect']?_0x234ca9(0x695):_0x234ca9(0x6ea))+'\x20'+_0x1dbeb1[_0x234ca9(0xa19)]+_0x234ca9(0x243))[_0x234ca9(0x3d6)]('')+_0x234ca9(0x683)),_0x6d5862+=_0x234ca9(0x3c4)+(_0x3c974a+0x1)+':\x20'+_0x124324+_0x234ca9(0x172)+_0x14f5b9+_0x234ca9(0x571)+_0x124324+_0x234ca9(0x35e)+_0x74b3df+'\x20จาก\x20'+_0x190de7[_0x234ca9(0x3e1)]+_0x234ca9(0x274)+_0x260fc5['toFixed'](0x0)+_0x234ca9(0x46b)+_0x430810[_0x234ca9(0x3e1)]+_0x234ca9(0x8d7)+(_0x430810['length']>0x0?_0x430810[_0x234ca9(0x3d6)](',\x20'):_0x234ca9(0x763))+_0x234ca9(0x502)+_0x16e71a[_0x234ca9(0x3e1)]+_0x234ca9(0x8d7)+(_0x16e71a['length']>0x0?_0x16e71a[_0x234ca9(0x3d6)](',\x20'):'ไม่มี')+_0x234ca9(0x733)+_0xb9cdb0[_0x234ca9(0x3e1)]+_0x234ca9(0x8d7)+(_0xb9cdb0[_0x234ca9(0x3e1)]>0x0?_0xb9cdb0[_0x234ca9(0x3d6)](',\x20'):_0x234ca9(0x763))+_0x234ca9(0x3fa)+_0x18bb30+_0x234ca9(0x232)+_0x1b6e03+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x475834[_0x8d4e03(0xa8d)]=_0x1a3b85+_0x6d5862;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x8d4e03(0x2d1)]([_0x475834]);}catch(_0x3d8253){console[_0x8d4e03(0x1d8)](_0x8d4e03(0x98e),_0x3d8253);}}function calculateDistractorAnalysis(_0x3f3d1a,_0x4acc10){const _0x39d0f8=_0x3fa4d9,_0x20a205={};if(_0x4acc10[_0x39d0f8(0x3e1)]<0x2)return _0x20a205;const _0x1f6d2a=[..._0x4acc10][_0x39d0f8(0x171)]((_0x247038,_0x3fb084)=>{const _0x731d38=_0x39d0f8,_0x6f49a5=_0x3fb084['latestScore']-_0x247038[_0x731d38(0x6aa)];if(_0x6f49a5!==0x0)return _0x6f49a5;const _0x1c4872=_0x247038[_0x731d38(0x594)]?.['length']||0x1,_0x31f7fb=_0x3fb084[_0x731d38(0x594)]?.[_0x731d38(0x3e1)]||0x1,_0x23a812=_0x1c4872-_0x31f7fb;if(_0x23a812!==0x0)return _0x23a812;const _0x5a4234=new Date(_0x247038[_0x731d38(0x44e)]),_0xf54fad=new Date(_0x3fb084[_0x731d38(0x44e)]),_0x376d59=_0x5a4234-_0xf54fad;if(_0x376d59!==0x0)return _0x376d59;return _0x247038[_0x731d38(0x238)][_0x731d38(0x3a2)](_0x3fb084[_0x731d38(0x238)],'th');}),_0xfcb2ac=_0x1f6d2a[_0x39d0f8(0x3e1)],_0x33e6fb=Math[_0x39d0f8(0x525)](0x1,Math['floor'](_0xfcb2ac*0.33)),_0x530349=_0x1f6d2a['slice'](0x0,_0x33e6fb),_0x3b5743=_0x1f6d2a[_0x39d0f8(0x6ec)](-_0x33e6fb);return _0x3f3d1a[_0x39d0f8(0x299)]['forEach']((_0x2fa794,_0x500244)=>{const _0x1a842d=_0x39d0f8;if(_0x2fa794[_0x1a842d(0x36e)]!==_0x1a842d(0x5c5)||!_0x2fa794['options'])return;const _0x2bfe0f=_0x2fa794[_0x1a842d(0x490)],_0x43a183={};_0x2fa794[_0x1a842d(0x35a)][_0x1a842d(0x220)]((_0x374e5f,_0x387b8e)=>{_0x43a183[_0x387b8e]={'text':_0x374e5f,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x1f6d2a['forEach'](_0x58148b=>{const _0x5431a9=_0x1a842d,_0x5ac50a=_0x58148b[_0x5431a9(0x594)][_0x58148b[_0x5431a9(0x594)]['length']-0x1],_0x2d3bcb=_0x5ac50a['answers'][_0x5431a9(0xa53)](_0x5593f8=>_0x5593f8[_0x5431a9(0x3b8)]===_0x2bfe0f);if(_0x2d3bcb&&_0x2d3bcb['answer']!==null){const _0x5d0b39=_0x2fa794[_0x5431a9(0x35a)][_0x5431a9(0x765)](_0x47bcbe=>_0x47bcbe===_0x2d3bcb[_0x5431a9(0x648)]);_0x5d0b39!==-0x1&&_0x43a183[_0x5d0b39]&&(_0x43a183[_0x5d0b39][_0x5431a9(0x7e0)]++,_0x530349['includes'](_0x58148b)&&_0x43a183[_0x5d0b39][_0x5431a9(0x92f)]++,_0x3b5743[_0x5431a9(0x8f0)](_0x58148b)&&_0x43a183[_0x5d0b39][_0x5431a9(0x7c8)]++);}}),_0x20a205[_0x500244]=_0x43a183;}),_0x20a205;}function calculateReliabilityKR20(_0x3319fb,_0x1294e0,_0x5a06a6){const _0x5524bd=_0x3fa4d9,_0x127f3a=_0x3319fb[_0x5524bd(0x299)]['length'];if(_0x127f3a<0x2||_0x1294e0[_0x5524bd(0x3e1)]<0x2)return null;const _0x27595f=_0x1294e0['map'](_0x99f7dc=>_0x99f7dc[_0x5524bd(0x6aa)]),_0x32ebf2=_0x27595f[_0x5524bd(0x842)]((_0x32f3c6,_0x31cd2a)=>_0x32f3c6+_0x31cd2a,0x0)/_0x27595f[_0x5524bd(0x3e1)],_0x46fe9f=_0x27595f[_0x5524bd(0x9f0)](_0x33b936=>Math[_0x5524bd(0x881)](_0x33b936-_0x32ebf2,0x2))[_0x5524bd(0x842)]((_0x3ca6d5,_0x3c61c8)=>_0x3ca6d5+_0x3c61c8,0x0)/_0x27595f['length'];if(_0x46fe9f===0x0)return null;let _0xc8f9c5=0x0;for(let _0x3fc5a6=0x0;_0x3fc5a6<_0x127f3a;_0x3fc5a6++){const _0x57f55b=_0x5a06a6[_0x3fc5a6]?.['p'];if(_0x57f55b===undefined)continue;const _0x9d0924=0x1-_0x57f55b;_0xc8f9c5+=_0x57f55b*_0x9d0924;}if(_0xc8f9c5===0x0)return null;const _0x3c97c4=_0x127f3a/(_0x127f3a-0x1)*(0x1-_0xc8f9c5/_0x46fe9f);if(_0x3c97c4>0x1)return null;return _0x3c97c4;}async function handleAnalyzeClass(){const _0x345ce2=_0x3fa4d9;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x345ce2(0xa58));return;}const _0x49cd9=collection(db,_0x345ce2(0x31f)+appId+_0x345ce2(0x7dd)+currentQuizData['id']+_0x345ce2(0x922)),_0x482169=await getDocs(_0x49cd9),_0x1e6788=_0x482169[_0x345ce2(0x7ed)][_0x345ce2(0x9f0)](_0x1f1746=>_0x1f1746['data']());if(_0x1e6788[_0x345ce2(0x3e1)]<0x2){showMessage(_0x345ce2(0xa84));return;}const _0x33ec9f=document[_0x345ce2(0x4d6)](_0x345ce2(0x45a));_0x33ec9f[_0x345ce2(0xa8d)]=_0x345ce2(0x3a9),document['getElementById'](_0x345ce2(0x8aa))[_0x345ce2(0x907)]=!![];const _0x4438c5=_0x1e6788[_0x345ce2(0x9f0)]((_0x4b5403,_0x22b6f8)=>{const _0x768658=_0x345ce2,_0x5bf65a=_0x4b5403[_0x768658(0x594)][_0x4b5403[_0x768658(0x594)][_0x768658(0x3e1)]-0x1];if(!_0x5bf65a)return'';return _0x768658(0x64e)+(_0x22b6f8+0x1)+'\x20('+_0x4b5403[_0x768658(0x238)]+_0x768658(0x8d3)+_0x5bf65a[_0x768658(0x41d)]+'/'+_0x4b5403[_0x768658(0x805)]+_0x768658(0x9d4)+JSON[_0x768658(0x73b)](_0x5bf65a[_0x768658(0x617)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x345ce2(0x3d6)](_0x345ce2(0x17b)),_0x3527a1=_0x345ce2(0x639)+currentQuizData['topic']+_0x345ce2(0x55c)+JSON[_0x345ce2(0x73b)](currentQuizData['questions'])+_0x345ce2(0x20a)+_0x4438c5+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x57581e={'type':'OBJECT','properties':{'classStrengths':{'type':_0x345ce2(0x2f3),'items':{'type':_0x345ce2(0x359)}},'classWeaknesses':{'type':_0x345ce2(0x2f3),'items':{'type':_0x345ce2(0x359)}},'teacherSuggestions':{'type':_0x345ce2(0x2f3),'items':{'type':_0x345ce2(0x359)}}},'required':[_0x345ce2(0x4c2),'classWeaknesses','teacherSuggestions']};try{const _0x4623a2=await callAnalysisApi(_0x3527a1,_0x57581e);displayClassAnalysis(_0x4623a2);}catch(_0x2a688d){console[_0x345ce2(0x1d8)](_0x345ce2(0x9b4),_0x2a688d),_0x33ec9f[_0x345ce2(0xa8d)]=_0x345ce2(0x816)+_0x2a688d['message']+_0x345ce2(0x534);}finally{document[_0x345ce2(0x4d6)](_0x345ce2(0x8aa))['disabled']=![];}}function displayClassAnalysis(_0x822098){const _0x43b51d=_0x3fa4d9,_0xcc445=document['getElementById']('strength-weakness-analysis-container');if(!_0x822098){_0xcc445[_0x43b51d(0xa8d)]=_0x43b51d(0x3f1);return;}_0xcc445[_0x43b51d(0xa8d)]=_0x43b51d(0x583)+_0x822098[_0x43b51d(0x4c2)][_0x43b51d(0x9f0)](_0x13351c=>_0x43b51d(0x570)+_0x13351c+_0x43b51d(0x243))[_0x43b51d(0x3d6)]('')+_0x43b51d(0xa51)+_0x822098[_0x43b51d(0x18e)][_0x43b51d(0x9f0)](_0x5f1b1b=>_0x43b51d(0x570)+_0x5f1b1b+_0x43b51d(0x243))[_0x43b51d(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x822098[_0x43b51d(0x777)][_0x43b51d(0x9f0)](_0xe1a115=>_0x43b51d(0x570)+_0xe1a115+_0x43b51d(0x243))[_0x43b51d(0x3d6)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x9130f5,_0xaa4f3d){const _0x2b949c=_0x3fa4d9,_0x29ce2d=_0x2b949c(0x62c)+_0x9130f5['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x9130f5['topic']+_0x2b949c(0x386)+_0x9130f5[_0x2b949c(0x299)]['map']((_0x4123a0,_0x39b955)=>_0x2b949c(0x19b)+(_0x39b955+0x1)+'.\x20'+_0x4123a0[_0x2b949c(0x490)]+_0x2b949c(0x267)+(_0x4123a0['imageCode']?_0x2b949c(0x5a0)+_0x4123a0[_0x2b949c(0x39e)]+_0x2b949c(0x551):'')+_0x2b949c(0x56b))[_0x2b949c(0x3d6)]('')+_0x2b949c(0x6f5);_0xaa4f3d[_0x2b949c(0x8db)]['write'](_0x29ce2d),_0xaa4f3d[_0x2b949c(0x8db)][_0x2b949c(0x40b)](),_0xaa4f3d[_0x2b949c(0x64b)]=function(){setTimeout(()=>{_0xaa4f3d['print']();},0x3e8);};}async function generateWorksheet(){const _0x197532=_0x3fa4d9,_0x17b24a=document['getElementById']('worksheet-topic-input')[_0x197532(0xa87)]['trim']();if(!_0x17b24a){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x1b6f0d=document['getElementById']('force-math-checkbox')['checked'],_0x4c85dc=_0x1b6f0d?'':_0x197532(0x633),_0x24e3b9=window[_0x197532(0x7d4)]('',_0x197532(0xa0b));_0x24e3b9[_0x197532(0x8db)][_0x197532(0x3c7)](_0x197532(0x1ca));const _0xc5b414=parseInt(document['getElementById']('num-questions')[_0x197532(0xa87)]),_0x5a24ad=document[_0x197532(0x4d6)]('include-images-checkbox')['checked'],_0x485d8f=_0x5a24ad?_0x197532(0x91a):'',_0x221dcd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x4c85dc+'ที่พิมพ์ได้\x20จำนวน\x20'+_0xc5b414+_0x197532(0x458)+_0x17b24a+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x485d8f+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x205cda={'type':_0x197532(0x782),'properties':{'topic':{'type':_0x197532(0x359)},'questions':{'type':_0x197532(0x2f3),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x197532(0x359)},'imageCode':{'type':_0x197532(0x359)}},'required':[_0x197532(0x490)]}}},'required':[_0x197532(0x836),_0x197532(0x299)]};document[_0x197532(0x4d6)](_0x197532(0x265))[_0x197532(0x5b9)]='',document[_0x197532(0x4d6)](_0x197532(0x469))['classList']['remove']('hidden'),document[_0x197532(0x4d6)](_0x197532(0x8bc))['classList'][_0x197532(0x621)](_0x197532(0x88c)),generateWorksheetBtn[_0x197532(0x907)]=!![];try{const _0x34ceff=await callAnalysisApi(_0x221dcd,_0x205cda);formatAndPrintWorksheet(_0x34ceff,_0x24e3b9);}catch(_0x14c9e5){console[_0x197532(0x1d8)](_0x197532(0x2a9),_0x14c9e5);if(_0x24e3b9)_0x24e3b9[_0x197532(0x40b)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x197532(0x4d6)](_0x197532(0x469))['classList'][_0x197532(0x214)](_0x197532(0x88c)),document[_0x197532(0x4d6)]('quiz-generation-area')[_0x197532(0x21b)]['add'](_0x197532(0x88c)),generateWorksheetBtn[_0x197532(0x907)]=![];}}async function callAnalysisApi(_0x4c9815,_0x5bab80){const _0x434ed5=_0x3fa4d9,_0x170a97={'contents':[{'role':_0x434ed5(0xa7d),'parts':[{'text':_0x4c9815}]}],'generationConfig':{'responseMimeType':_0x434ed5(0x3e9),'responseSchema':_0x5bab80}},_0x2c07f7=_0x434ed5(0x656),_0x13c3ab=_0x434ed5(0xa79)+_0x2c07f7,_0x203ee4=await fetch(_0x13c3ab,{'method':'POST','headers':{'Content-Type':_0x434ed5(0x3e9)},'body':JSON[_0x434ed5(0x73b)](_0x170a97)});if(!_0x203ee4['ok'])throw new Error(_0x434ed5(0x8ea)+_0x203ee4[_0x434ed5(0x442)]);const _0x15f4aa=await _0x203ee4[_0x434ed5(0x92e)]();if(_0x15f4aa['candidates']?.[0x0]?.['content']?.[_0x434ed5(0x3bc)]?.[0x0])return JSON['parse'](_0x15f4aa[_0x434ed5(0x249)][0x0][_0x434ed5(0x905)][_0x434ed5(0x3bc)][0x0][_0x434ed5(0x606)]);else{let _0x47ca44=_0x434ed5(0x193);if(_0x15f4aa[_0x434ed5(0x3cd)]?.[_0x434ed5(0x9d1)])_0x47ca44=_0x434ed5(0x8ce)+_0x15f4aa[_0x434ed5(0x3cd)][_0x434ed5(0x9d1)]+'.';else _0x15f4aa[_0x434ed5(0x249)]?.[0x0]?.[_0x434ed5(0x798)]&&_0x15f4aa[_0x434ed5(0x249)][0x0][_0x434ed5(0x798)]!==_0x434ed5(0x4e3)&&(_0x47ca44=_0x434ed5(0x95d)+_0x15f4aa[_0x434ed5(0x249)][0x0][_0x434ed5(0x798)]+'.');console[_0x434ed5(0x1d8)](_0x47ca44,JSON[_0x434ed5(0x73b)](_0x15f4aa));throw new Error(_0x47ca44);}}async function handleStartSyncMode(_0x4a6c9a,_0x35cf47=![]){const _0xad7e29=_0x3fa4d9,_0x27a0ff=allQuizzes[_0xad7e29(0xa53)](_0x5caecf=>_0x5caecf['id']===_0x4a6c9a)||allQuizzesGlobal[_0xad7e29(0xa53)](_0x547bbd=>_0x547bbd['id']===_0x4a6c9a);if(!_0x27a0ff){showMessage(_0xad7e29(0x9d5));return;}currentQuizData=getShuffledQuiz(_0x27a0ff);const _0x51c8c7=Math[_0xad7e29(0x67c)](0x3e8+Math[_0xad7e29(0x78e)]()*0x2328)[_0xad7e29(0x6dc)]();try{const _0x1614b8=await addDoc(collection(db,_0xad7e29(0x31f)+appId+_0xad7e29(0x3f7)),{'quizId':_0x27a0ff['id'],'pin':_0x51c8c7,'status':_0xad7e29(0x9a2),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x35cf47,'players':{}});currentLiveGameId=_0x1614b8['id'],showView(_0xad7e29(0x60c)),renderSyncLobbyView(_0x51c8c7,_0x27a0ff[_0xad7e29(0x836)]),listenForSyncGameUpdates();}catch(_0x599ff4){console['error']('Error\x20starting\x20sync\x20game:',_0x599ff4),showMessage(_0xad7e29(0xa1b));}}function calculateFinalPodiumScores(_0x4ca452){const _0x2f9d31=_0x3fa4d9;if(!_0x4ca452||!_0x4ca452['shuffledQuiz']||!_0x4ca452[_0x2f9d31(0x452)])return _0x4ca452[_0x2f9d31(0x452)]||{};const _0x3bf87d=_0x4ca452[_0x2f9d31(0x6d0)][_0x2f9d31(0x299)][_0x2f9d31(0x3e1)],_0x409934=JSON['parse'](JSON[_0x2f9d31(0x73b)](_0x4ca452['players']));return Object[_0x2f9d31(0x792)](_0x409934)['forEach'](_0x41dfdd=>{const _0x57f4ec=_0x2f9d31,_0x16cf99=_0x41dfdd[_0x57f4ec(0x41d)];let _0x130e9c=0x0;_0x4ca452[_0x57f4ec(0xa73)]&&_0x41dfdd[_0x57f4ec(0x617)]&&_0x41dfdd[_0x57f4ec(0x617)][_0x57f4ec(0x220)](_0x9d19e=>{const _0x464993=_0x57f4ec;if(_0x9d19e['isCorrect']&&_0x9d19e[_0x464993(0x94c)])_0x130e9c+=0x1;else!_0x9d19e[_0x464993(0x753)]&&_0x9d19e['wasConfident']&&(_0x130e9c-=0x1);}),_0x41dfdd[_0x57f4ec(0x41d)]=_0x16cf99+_0x130e9c,_0x3bf87d>0x0&&_0x16cf99===_0x3bf87d&&(_0x41dfdd[_0x57f4ec(0x41d)]+=0x1,_0x41dfdd[_0x57f4ec(0x43c)]=!![]);}),_0x409934;}function listenForSyncGameUpdates(){const _0x3e35e2=_0x3fa4d9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3592e7=doc(db,_0x3e35e2(0x31f)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3592e7,_0x47e0d4=>{const _0x58682b=_0x3e35e2;if(!_0x47e0d4['exists']()){sessionStorage[_0x58682b(0x15e)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode==='admin'?_0x58682b(0x364):_0x58682b(0x564));return;}const _0x3eaab9=_0x47e0d4[_0x58682b(0x342)]();currentMode==='admin'?updateAdminSyncView(_0x3eaab9):updateStudentSyncView(_0x3eaab9);});}function renderSyncLobbyView(_0x42e063,_0x5ec948){const _0x51f295=_0x3fa4d9;liveGameView['innerHTML']=_0x51f295(0x3fe)+_0x5ec948+_0x51f295(0x7d5)+_0x42e063+_0x51f295(0x611);const _0x12abcc=document[_0x51f295(0x4d6)](_0x51f295(0x746)),_0x2b020c=document[_0x51f295(0x4d6)](_0x51f295(0x54e));_0x12abcc[_0x51f295(0x795)]('change',()=>{const _0x3379fa=_0x51f295;_0x2b020c[_0x3379fa(0x694)][_0x3379fa(0x56a)]=_0x12abcc['checked']?_0x3379fa(0x30e):_0x3379fa(0x4c3);}),document['getElementById'](_0x51f295(0x1c5))[_0x51f295(0x795)]('click',async()=>{const _0xb4363d=_0x51f295,_0x1480ae=doc(db,_0xb4363d(0x31f)+appId+_0xb4363d(0x3f7),currentLiveGameId),_0x2d4b1e=document['getElementById']('confidence-scoring-toggle')[_0xb4363d(0x5d4)];await updateDoc(_0x1480ae,{'status':_0xb4363d(0x8fd),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2d4b1e});});}function updateAdminSyncView(_0x10653e){const _0x5b8dfe=_0x3fa4d9;switch(_0x10653e[_0x5b8dfe(0x442)]){case _0x5b8dfe(0x9a2):renderSyncLobbyView(_0x10653e[_0x5b8dfe(0x8fb)],_0x10653e[_0x5b8dfe(0x6d0)][_0x5b8dfe(0x836)]);const _0x2528f8=Object[_0x5b8dfe(0x25a)](_0x10653e[_0x5b8dfe(0x452)]||{})[_0x5b8dfe(0x853)](([_0x2dfe70,_0x3436f1])=>_0x3436f1[_0x5b8dfe(0x442)]!==_0x5b8dfe(0x9e5));document[_0x5b8dfe(0x4d6)](_0x5b8dfe(0xa1f))[_0x5b8dfe(0x5b9)]=_0x2528f8[_0x5b8dfe(0x3e1)],document[_0x5b8dfe(0x4d6)](_0x5b8dfe(0x6b1))[_0x5b8dfe(0xa8d)]=_0x2528f8['map'](([_0x16cfc1,_0x37a0e9])=>_0x5b8dfe(0x928)+_0x16cfc1+_0x5b8dfe(0x513)+_0x16cfc1+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5b8dfe(0x3d6)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x5b8dfe(0x4d6)](_0x5b8dfe(0x1c5))[_0x5b8dfe(0x907)]=_0x2528f8[_0x5b8dfe(0x3e1)]===0x0;break;case _0x5b8dfe(0x8fd):const _0x859767=Object[_0x5b8dfe(0x792)](_0x10653e[_0x5b8dfe(0x452)]||{})[_0x5b8dfe(0x853)](_0x413e95=>_0x413e95['status']!==_0x5b8dfe(0x9e5)),_0x506e0e=_0x859767['filter'](_0x26afb5=>_0x26afb5[_0x5b8dfe(0x179)])[_0x5b8dfe(0x3e1)],_0x36fe73=_0x506e0e===_0x859767[_0x5b8dfe(0x3e1)]&&_0x859767[_0x5b8dfe(0x3e1)]>0x0;if(_0x36fe73&&_0x10653e[_0x5b8dfe(0x442)]===_0x5b8dfe(0x8fd)){const _0x4c2a12=doc(db,_0x5b8dfe(0x31f)+appId+_0x5b8dfe(0x3f7),currentLiveGameId);updateDoc(_0x4c2a12,{'status':_0x5b8dfe(0xa83)});}else{if(document[_0x5b8dfe(0x4d6)](_0x5b8dfe(0x1e2))===null)renderAdminSyncQuestionView(_0x10653e);else{const _0x4d8a29=document[_0x5b8dfe(0x4d6)](_0x5b8dfe(0x470));_0x4d8a29&&(_0x4d8a29[_0x5b8dfe(0x5b9)]=_0x506e0e+'/'+_0x859767[_0x5b8dfe(0x3e1)]);const _0x30231d=document[_0x5b8dfe(0x4d6)](_0x5b8dfe(0x6c0));_0x30231d&&(_0x30231d[_0x5b8dfe(0xa8d)]=_0x859767['map'](_0x59d3d4=>{const _0x57306c=_0x5b8dfe,_0x22cd83=_0x59d3d4['answered']?_0x57306c(0x34c):'bg-gray-500',_0x4f7240=_0x59d3d4[_0x57306c(0x179)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x57306c(0x979);return _0x57306c(0x391)+_0x22cd83+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f7240+_0x57306c(0x180)+_0x59d3d4[_0x57306c(0xa19)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x59d3d4['name']+_0x57306c(0x4f2);})['join'](''));}}break;case _0x5b8dfe(0xa83):const _0x113b95=_0x10653e[_0x5b8dfe(0x192)],_0x5f3f18=_0x10653e[_0x5b8dfe(0x6d0)][_0x5b8dfe(0x299)][_0x113b95];renderSyncSummaryView(_0x10653e,_0x5f3f18,!![]);break;case'results':renderAdminSyncDashboard(_0x10653e,!![]);break;case'podium':_0x10653e[_0x5b8dfe(0x2e0)]&&saveGameResultsAsSubmissions(_0x10653e);sessionStorage[_0x5b8dfe(0x15e)](_0x5b8dfe(0x614));const _0x321f51=calculateFinalPodiumScores(_0x10653e);showPodiumView(_0x321f51,_0x5b8dfe(0x80c));break;}}function renderAdminSyncQuestionView(_0x18ff80){const _0x4d74a9=_0x3fa4d9,_0x6f0eb3=_0x18ff80[_0x4d74a9(0x192)],_0x4b54d9=_0x18ff80[_0x4d74a9(0x6d0)][_0x4d74a9(0x299)][_0x6f0eb3],_0x288e52=_0x18ff80['shuffledQuiz'][_0x4d74a9(0x299)][_0x4d74a9(0x3e1)],_0x32f5ac=Object['values'](_0x18ff80[_0x4d74a9(0x452)]||{})[_0x4d74a9(0x853)](_0x55baee=>_0x55baee['status']!==_0x4d74a9(0x9e5)),_0x3e2542=_0x32f5ac['filter'](_0xfc5e6d=>_0xfc5e6d[_0x4d74a9(0x179)])['length'],_0x2b451f=_0x3e2542===_0x32f5ac[_0x4d74a9(0x3e1)]&&_0x32f5ac[_0x4d74a9(0x3e1)]>0x0,_0x5d3fbe=(_0x4b54d9[_0x4d74a9(0x35a)]||[])[_0x4d74a9(0x9f0)](_0x36938c=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x36938c+_0x4d74a9(0x551))['join']('');liveGameView[_0x4d74a9(0xa8d)]=_0x4d74a9(0x682)+(_0x6f0eb3+0x1)+'\x20/\x20'+_0x288e52+_0x4d74a9(0x603)+_0x3e2542+'/'+_0x32f5ac[_0x4d74a9(0x3e1)]+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x4b54d9[_0x4d74a9(0x490)]+_0x4d74a9(0x4d5)+_0x5d3fbe+_0x4d74a9(0x808)+(!_0x2b451f?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x4d74a9(0xa2e)])MathJax[_0x4d74a9(0x2d1)]();document[_0x4d74a9(0x4d6)](_0x4d74a9(0x162))['addEventListener'](_0x4d74a9(0x96d),async()=>{const _0x1bf5c1=_0x4d74a9,_0x343c3a=doc(db,'artifacts/'+appId+_0x1bf5c1(0x3f7),currentLiveGameId);await updateDoc(_0x343c3a,{'status':'results'});}),document['getElementById']('open-sync-scratchpad-btn')[_0x4d74a9(0x672)]=()=>{const _0xc257cd=_0x4d74a9;openScratchpad(_0x4b54d9,_0x4b54d9[_0xc257cd(0x35a)]||[]);},document['getElementById'](_0x4d74a9(0x7ce))[_0x4d74a9(0x795)]('click',()=>{const _0x3b4f3f=_0x4d74a9;document[_0x3b4f3f(0x4d6)]('sync-player-management')[_0x3b4f3f(0x21b)]['toggle'](_0x3b4f3f(0x88c));});}function renderSyncLeaderboardView(_0x3fd6a2,_0x209fbb){const _0x271aa1=_0x3fa4d9,_0x473e3e=Object[_0x271aa1(0x792)](_0x3fd6a2[_0x271aa1(0x452)]||{});_0x473e3e[_0x271aa1(0x171)]((_0x3f6e65,_0x385140)=>_0x385140[_0x271aa1(0x41d)]-_0x3f6e65['score']);const _0x195f92=_0x473e3e[_0x271aa1(0x6ec)](0x0,0x5);let _0x3504f8='';if(_0x209fbb){const _0x251e25=_0x3fd6a2[_0x271aa1(0x192)]>=_0x3fd6a2[_0x271aa1(0x6d0)][_0x271aa1(0x299)]['length']-0x1;_0x3504f8='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x251e25?_0x271aa1(0x19d):_0x271aa1(0x669))+_0x271aa1(0x772);}else _0x3504f8='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x271aa1(0xa8d)]=_0x271aa1(0x259)+_0x195f92[_0x271aa1(0x9f0)]((_0x4cc1ee,_0x56d980)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x56d980+0x1)+'.\x20'+_0x4cc1ee[_0x271aa1(0xa19)]+_0x271aa1(0x786)+_0x4cc1ee['score']+_0x271aa1(0x55b))[_0x271aa1(0x3d6)]('')+_0x271aa1(0x5a3)+_0x3504f8+_0x271aa1(0x5c8),_0x209fbb&&document[_0x271aa1(0x4d6)](_0x271aa1(0x84c))[_0x271aa1(0x795)](_0x271aa1(0x96d),async()=>{const _0x307ded=_0x271aa1,_0x3f29b2=doc(db,_0x307ded(0x31f)+appId+'/public/data/syncGames',currentLiveGameId),_0x1f4cd7=_0x3fd6a2[_0x307ded(0x192)]+0x1;if(_0x1f4cd7<_0x3fd6a2[_0x307ded(0x6d0)][_0x307ded(0x299)][_0x307ded(0x3e1)]){const _0x3aad82={};Object['keys'](_0x3fd6a2['players'])['forEach'](_0xe7dc92=>{const _0x12d258=_0x307ded;_0x3aad82[_0x12d258(0x595)+_0xe7dc92+_0x12d258(0x494)]=![];}),await updateDoc(_0x3f29b2,{..._0x3aad82,'status':'question','currentQuestionIndex':_0x1f4cd7,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3f29b2,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x2614f7=_0x3fa4d9,_0x174928=prompt(_0x2614f7(0x2df));if(!_0x174928||_0x174928[_0x2614f7(0x56f)]()[_0x2614f7(0x3e1)]!==0x2){showMessage(_0x2614f7(0x16d));return;}try{const _0x389774=collection(db,_0x2614f7(0x31f)+appId+_0x2614f7(0x3f7)),_0x3bec48=query(_0x389774,where(_0x2614f7(0x8fb),'==',_0x174928['trim']()),where(_0x2614f7(0x442),'==',_0x2614f7(0x9a2))),_0x43d4e8=await getDocs(_0x3bec48);if(_0x43d4e8[_0x2614f7(0x7ab)]){showMessage(_0x2614f7(0x85c));return;}const _0x3738f1=_0x43d4e8['docs'][0x0];currentLiveGameId=_0x3738f1['id'];const _0x482e2b=_0x3738f1[_0x2614f7(0x342)](),_0x11a700=doc(db,'artifacts/'+appId+_0x2614f7(0x8ca),_0x482e2b[_0x2614f7(0x556)]),_0x2c3798=await getDoc(_0x11a700);if(!_0x2c3798['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x2a80fd=_0x2c3798['data'](),_0x13a921=doc(db,_0x2614f7(0x31f)+appId+_0x2614f7(0x4e0),_0x2a80fd[_0x2614f7(0x59c)]),_0x2850d2=await getDoc(_0x13a921);if(!_0x2850d2[_0x2614f7(0x77c)]())throw new Error(_0x2614f7(0x6d1));currentQuizData=_0x482e2b[_0x2614f7(0x6d0)];const _0x935259=_0x2850d2[_0x2614f7(0x342)]();showView('student-team-join'),showTeamPlayerSelection(_0x935259[_0x2614f7(0x5ff)],_0x2a80fd[_0x2614f7(0x836)]);const _0x50d3c7=document[_0x2614f7(0x4d6)](_0x2614f7(0x42c));_0x50d3c7[_0x2614f7(0x672)]=confirmAndJoinSyncGame;}catch(_0x55672d){console[_0x2614f7(0x1d8)]('Error\x20joining\x20sync\x20game:',_0x55672d),showMessage(_0x2614f7(0x9e3)+_0x55672d[_0x2614f7(0x936)]);}}function updateStudentSyncView(_0xb365cf){const _0xca143f=_0x3fa4d9,_0x5c8a40=_0xb365cf['players'][localTeamPlayers[0x0]];switch(_0xb365cf[_0xca143f(0x442)]){case'lobby':showView(_0xca143f(0x60c)),liveGameView[_0xca143f(0xa8d)]=_0xca143f(0x294);break;case _0xca143f(0x8fd):const _0x3a2422=localTeamPlayers[_0xca143f(0x6e2)](_0x384a5a=>_0xb365cf[_0xca143f(0x452)][_0x384a5a]?.['answered']===!![]);_0x3a2422?liveGameView[_0xca143f(0xa8d)]=_0xca143f(0x717):renderStudentSyncQuestionView(_0xb365cf);break;case'summary':liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xca143f(0x5c9):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0xb365cf);break;case _0xca143f(0x18a):sessionStorage[_0xca143f(0x15e)](_0xca143f(0x614));const _0x51490c=calculateFinalPodiumScores(_0xb365cf);showPodiumView(_0x51490c,_0xca143f(0x80c));break;}}function renderStudentSyncResultsView(_0x43e22f){const _0xbeff73=_0x3fa4d9,_0x592f8b=localTeamPlayers[_0xbeff73(0x9f0)](_0x5181e8=>_0x43e22f[_0xbeff73(0x452)][_0x5181e8])[_0xbeff73(0x853)](Boolean);_0x592f8b['sort']((_0x5c19ae,_0xa21771)=>(_0xa21771['score']||0x0)-(_0x5c19ae[_0xbeff73(0x41d)]||0x0));const _0x36ed7a=_0x43e22f[_0xbeff73(0x192)]>=_0x43e22f[_0xbeff73(0x6d0)][_0xbeff73(0x299)][_0xbeff73(0x3e1)]-0x1;let _0x5321e9='';_0x36ed7a?_0x5321e9=_0xbeff73(0x825):_0x5321e9=_0xbeff73(0x968);const _0x5b018e=_0xbeff73(0x57f)+_0x592f8b[_0xbeff73(0x9f0)]((_0x5ae4f8,_0x51d3f5)=>_0xbeff73(0x24e)+(_0x51d3f5+0x1)+_0xbeff73(0x544)+_0x5ae4f8[_0xbeff73(0xa19)]+_0xbeff73(0xa98)+_0x5ae4f8[_0xbeff73(0x41d)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xbeff73(0x3d6)]('')+_0xbeff73(0x92b)+_0x5321e9+_0xbeff73(0x87b);liveGameView[_0xbeff73(0xa8d)]=_0x5b018e;}function renderStudentSyncQuestionView(_0x2f9928){const _0x2acc3a=_0x3fa4d9;while(localPlayerTurnIndex<localTeamPlayers[_0x2acc3a(0x3e1)]&&_0x2f9928['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0x2acc3a(0x179)]===!![]){localPlayerTurnIndex++;}const _0x108a97=localTeamPlayers[localPlayerTurnIndex];if(!_0x108a97)return;const _0x27f6d9=_0x2f9928[_0x2acc3a(0x192)],_0x57b2fe=_0x2f9928[_0x2acc3a(0x6d0)][_0x2acc3a(0x299)][_0x2acc3a(0x3e1)],_0x45d73d=_0x2f9928[_0x2acc3a(0x6d0)][_0x2acc3a(0x299)][_0x27f6d9],_0x365e59=_0x45d73d[_0x2acc3a(0x36e)]||_0x2f9928[_0x2acc3a(0x6d0)][_0x2acc3a(0x25e)];let _0x2545fb='',_0x1c26ae=![];switch(_0x365e59){case'true_false':_0x2545fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x2acc3a(0x68c):_0x1c26ae=!![],_0x2545fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2acc3a(0x4f4):_0x1c26ae=!![],_0x2545fb=_0x2acc3a(0x461)+(_0x45d73d[_0x2acc3a(0x3df)]||[])[_0x2acc3a(0x9f0)](_0x2aa4ec=>_0x2acc3a(0x838)+_0x2aa4ec+'\x22>'+_0x2aa4ec+_0x2acc3a(0x834))[_0x2acc3a(0x3d6)]('')+_0x2acc3a(0x9aa);break;case _0x2acc3a(0x5c5):default:_0x2545fb=(_0x45d73d[_0x2acc3a(0x35a)]||[])[_0x2acc3a(0x9f0)]((_0x4fbd21,_0x4e6de1)=>_0x2acc3a(0x1f5)+_0x4e6de1+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x4fbd21+'</button>')[_0x2acc3a(0x3d6)]('');break;}liveGameView[_0x2acc3a(0xa8d)]=_0x2acc3a(0x997)+(_0x27f6d9+0x1)+_0x2acc3a(0x60f)+_0x57b2fe+_0x2acc3a(0xa67)+_0x108a97+_0x2acc3a(0x582)+(_0x45d73d[_0x2acc3a(0x490)]||_0x45d73d[_0x2acc3a(0x785)])+_0x2acc3a(0x84a)+_0x2545fb+_0x2acc3a(0x5d8);if(window['MathJax'])MathJax['typesetPromise']();const _0x2fd67b=_0x5250d6=>{const _0x5be927=_0x2acc3a;_0x2f9928['isConfidenceScoringEnabled']?(document[_0x5be927(0x4d6)](_0x5be927(0x155))[_0x5be927(0xa87)]=_0x5250d6,document[_0x5be927(0x4d6)]('confidence-modal')[_0x5be927(0x21b)][_0x5be927(0x621)]('hidden')):handleSyncAnswerSubmit(_0x5250d6,_0x45d73d,_0x2f9928,_0x108a97,![]);};_0x1c26ae?document['getElementById'](_0x2acc3a(0x5d6))[_0x2acc3a(0x795)](_0x2acc3a(0x96d),()=>{const _0x28d6eb=_0x2acc3a,_0x1070d1=document[_0x28d6eb(0x4d6)](_0x28d6eb(0x43d))||document[_0x28d6eb(0x4d6)]('sync-matching-select');if(_0x1070d1[_0x28d6eb(0xa87)][_0x28d6eb(0x56f)]()===''){showMessage(_0x28d6eb(0x341));return;}_0x2fd67b(_0x1070d1[_0x28d6eb(0xa87)]);}):document[_0x2acc3a(0x76c)](_0x2acc3a(0x2dc))[_0x2acc3a(0x220)](_0x3b549d=>{const _0x4b0436=_0x2acc3a;_0x3b549d[_0x4b0436(0x795)]('click',()=>{const _0xe370=_0x4b0436;_0x2fd67b(_0x3b549d['dataset'][_0xe370(0xa87)]);});});}async function handleSyncAnswerSubmit(_0x3916f7,_0x1d2923,_0x34ee54,_0x41fe9d,_0x43b704){const _0x83623d=_0x3fa4d9;document[_0x83623d(0x76c)](_0x83623d(0x229))[_0x83623d(0x220)](_0x3794ed=>_0x3794ed[_0x83623d(0x907)]=!![]);const _0x5ca0e3=_0x1d2923[_0x83623d(0x36e)]||_0x34ee54[_0x83623d(0x6d0)][_0x83623d(0x25e)];let _0x465d17=![],_0x23e999=_0x3916f7;switch(_0x5ca0e3){case _0x83623d(0x860):const _0x424ee7=parseInt(_0x3916f7),_0x3d63a7=_0x1d2923['correctAnswer']===!![]||String(_0x1d2923[_0x83623d(0x185)])['toLowerCase']()==='true';_0x465d17=_0x424ee7===0x0&&_0x3d63a7||_0x424ee7===0x1&&!_0x3d63a7,_0x23e999=_0x424ee7===0x0?_0x83623d(0x240):_0x83623d(0x5e3);break;case _0x83623d(0x775):case _0x83623d(0x68c):_0x465d17=await gradeShortAnswer(_0x3916f7,_0x1d2923);break;case _0x83623d(0x4f4):_0x465d17=_0x3916f7===_0x1d2923[_0x83623d(0xa97)];break;case'multiple_choice':default:const _0x15838f=parseInt(_0x3916f7);_0x465d17=_0x15838f===_0x1d2923[_0x83623d(0x6ce)];_0x1d2923[_0x83623d(0x35a)]&&_0x1d2923[_0x83623d(0x35a)][_0x15838f]&&(_0x23e999=_0x1d2923[_0x83623d(0x35a)][_0x15838f]);break;}const _0x371b4d=_0x465d17?0x1:0x0,_0x3072f8=doc(db,_0x83623d(0x31f)+appId+'/public/data/syncGames',currentLiveGameId),_0xdf53bf={};_0xdf53bf[_0x83623d(0x595)+_0x41fe9d+_0x83623d(0x8a5)]=increment(_0x371b4d),_0xdf53bf['players.'+_0x41fe9d+'.answered']=!![];let _0x1cef97=null;(_0x5ca0e3==='multiple_choice'||_0x5ca0e3===_0x83623d(0x860)||_0x5ca0e3===_0x83623d(0x307))&&(_0x1cef97=parseInt(_0x3916f7));_0xdf53bf['players.'+_0x41fe9d+_0x83623d(0x60a)]=_0x1cef97;const _0xba3421={'questionIndex':_0x34ee54[_0x83623d(0x192)],'questionId':_0x1d2923['id'],'answer':_0x3916f7,'answerText':_0x23e999,'isCorrect':_0x465d17,'originalQuestionText':_0x1d2923[_0x83623d(0x490)]||_0x1d2923['stem'],'wasConfident':_0x43b704};_0xdf53bf['players.'+_0x41fe9d+_0x83623d(0x62a)]=arrayUnion(_0xba3421),await updateDoc(_0x3072f8,_0xdf53bf);}initialize();
