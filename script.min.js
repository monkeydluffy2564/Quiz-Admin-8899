const _0x314764=_0x3289;(function(_0x1ac604,_0x33de48){const _0x487fc9=_0x3289,_0x592db2=_0x1ac604();while(!![]){try{const _0x2f905e=-parseInt(_0x487fc9(0x867))/0x1*(parseInt(_0x487fc9(0xb35))/0x2)+-parseInt(_0x487fc9(0x4a8))/0x3+parseInt(_0x487fc9(0x82b))/0x4*(-parseInt(_0x487fc9(0x546))/0x5)+-parseInt(_0x487fc9(0xada))/0x6*(parseInt(_0x487fc9(0x9ea))/0x7)+-parseInt(_0x487fc9(0xc05))/0x8+parseInt(_0x487fc9(0xc1e))/0x9*(parseInt(_0x487fc9(0x697))/0xa)+parseInt(_0x487fc9(0xba8))/0xb*(parseInt(_0x487fc9(0x516))/0xc);if(_0x2f905e===_0x33de48)break;else _0x592db2['push'](_0x592db2['shift']());}catch(_0x29e156){_0x592db2['push'](_0x592db2['shift']());}}}(_0x29db,0xb57fa));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x437443=_0x3289;if(_0x437443(0x357)in navigator)try{wakeLock=await navigator[_0x437443(0x357)]['request']('screen'),console[_0x437443(0xa58)](_0x437443(0x2e3)),wakeLock[_0x437443(0x9cd)](_0x437443(0x572),()=>{const _0x1f47af=_0x437443;console[_0x1f47af(0xa58)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x36efff){console[_0x437443(0x9b3)](_0x437443(0x7e6)+_0x36efff[_0x437443(0x924)]+',\x20'+_0x36efff['message']);}else console['warn'](_0x437443(0x2d2));},releaseWakeLock=async()=>{const _0x209c9f=_0x3289;wakeLock!==null&&(await wakeLock[_0x209c9f(0x572)](),wakeLock=null,console[_0x209c9f(0xa58)](_0x209c9f(0x314)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5070c6=_0x3289;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x5070c6(0x68d)][_0x5070c6(0x49f)](_0x5070c6(0xbcb)),dimTimer=setTimeout(()=>{const _0x3e4b9b=_0x5070c6;document['body'][_0x3e4b9b(0x68d)]['add'](_0x3e4b9b(0xbcb)),console[_0x3e4b9b(0xa58)](_0x3e4b9b(0x70c));},inactivityTime);}function stopDimTimer(){const _0x1515e2=_0x3289;if(dimTimer)clearTimeout(dimTimer);document['body']['classList']['remove'](_0x1515e2(0xbcb)),window[_0x1515e2(0x5af)](_0x1515e2(0x61b),resetDimTimer),window[_0x1515e2(0x5af)]('mousedown',resetDimTimer),window[_0x1515e2(0x5af)]('touchstart',resetDimTimer),window[_0x1515e2(0x5af)](_0x1515e2(0x439),resetDimTimer),console[_0x1515e2(0xa58)](_0x1515e2(0x341));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x4cbe00,_0x1e3239=![]){const _0x5ed825=_0x3289,_0x22b5c5=allQuizzes[_0x5ed825(0xae2)](_0x34c24a=>_0x34c24a['id']===_0x4cbe00)||allQuizzesGlobal[_0x5ed825(0xae2)](_0x17f1bc=>_0x17f1bc['id']===_0x4cbe00);if(!_0x22b5c5){showMessage(_0x5ed825(0x80c));return;}currentQuizData=getShuffledQuiz(_0x22b5c5);const _0x301493=Math[_0x5ed825(0x7d0)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x1ce5ee=await addDoc(collection(db,_0x5ed825(0x21f)+appId+'/public/data/teamQuizzes'),{'quizId':_0x22b5c5['id'],'projectId':_0x22b5c5[_0x5ed825(0x368)],'status':_0x5ed825(0x4b6),'pin':_0x301493,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1e3239});currentTeamQuizId=_0x1ce5ee['id'],showView(_0x5ed825(0x5a8)),renderAdminTeamQuizDashboard(_0x301493,_0x22b5c5['topic']),listenForTeamQuizUpdates();}catch(_0x4963e1){console['error'](_0x5ed825(0x879),_0x4963e1),showMessage(_0x5ed825(0x369));}}function renderAdminTeamQuizDashboard(_0x43709f,_0x1952a9,_0x2cf7a3=_0x314764(0x96e)){const _0x641571=_0x314764,_0x2b7192=_0x2cf7a3===_0x641571(0x8f0)?'Group\x20Mode':'Team\x20Quiz';liveGameView[_0x641571(0x9c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x2b7192+':\x20'+_0x1952a9+_0x641571(0xa84)+_0x43709f+_0x641571(0x473),document[_0x641571(0x6ce)]('end-team-quiz-btn')[_0x641571(0x9cd)](_0x641571(0x58a),async()=>{const _0xd7aa82=_0x641571;showConfirmation(_0xd7aa82(0x8bd),async()=>{const _0x448bf3=_0xd7aa82;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x448bf3(0x21f)+appId+_0x448bf3(0xb02),currentTeamQuizId)),showView(_0x448bf3(0x66f));});});}function listenForTeamQuizUpdates(){const _0x3235f0=_0x314764;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x14c9a7=doc(db,_0x3235f0(0x21f)+appId+_0x3235f0(0xb02),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x14c9a7,_0x386330=>{const _0x25c4dc=_0x3235f0;if(!_0x386330[_0x25c4dc(0x232)]()){sessionStorage['removeItem'](_0x25c4dc(0x736));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x25c4dc(0x4c5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x25c4dc(0x41d)?showView(_0x25c4dc(0x66f)):showView(_0x25c4dc(0xa82));return;}const _0x5872e5=_0x386330[_0x25c4dc(0x31c)]();if(currentMode===_0x25c4dc(0x41d)){if(_0x5872e5[_0x25c4dc(0x1a7)]==='group'&&_0x5872e5['status']!=='podium'&&_0x5872e5[_0x25c4dc(0xbfc)]!==_0x25c4dc(0xa3a)){const _0x5b84d3=Object[_0x25c4dc(0x799)](_0x5872e5[_0x25c4dc(0x749)]||{});if(_0x5b84d3[_0x25c4dc(0x1eb)]>0x0){const _0x30ce66=_0x5b84d3[_0x25c4dc(0x997)](_0x54e72b=>_0x54e72b[_0x25c4dc(0x374)]===!![]);_0x30ce66&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5872e5);}else{if(_0x5872e5[_0x25c4dc(0xbfc)]===_0x25c4dc(0x9ee)||_0x5872e5['status']==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5872e5[_0x25c4dc(0x1a7)]===_0x25c4dc(0x8f0)){const _0x4c6c3b=_0x5872e5['groups'][userId];(!_0x4c6c3b||!_0x4c6c3b['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x30d71d){const _0x49d20e=_0x314764;console[_0x49d20e(0xa58)](_0x49d20e(0x1c1));const _0x1fff07=doc(db,_0x49d20e(0x21f)+appId+_0x49d20e(0xb02),_0x30d71d);try{const _0x2a5e81=await getDoc(_0x1fff07);if(_0x2a5e81[_0x49d20e(0x232)]()){const _0x4d3bf4=_0x2a5e81['data']();_0x4d3bf4[_0x49d20e(0x840)]&&await saveGameResultsAsSubmissions(_0x4d3bf4);}await updateDoc(_0x1fff07,{'status':_0x49d20e(0x9ee)});}catch(_0x25c847){console['error']('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x25c847);}}function updateAdminTeamDashboard(_0x1ac11a){const _0x14ff7f=_0x314764,_0x94076f=document[_0x14ff7f(0x6ce)]('team-player-status-grid');if(!_0x94076f)return;const _0xf47c39=_0x1ac11a['mode']||_0x14ff7f(0x96e),_0x18d94c=currentQuizData[_0x14ff7f(0x7bb)][_0x14ff7f(0x1eb)];if(_0xf47c39==='group'){const _0x7f159a=Object[_0x14ff7f(0x799)](_0x1ac11a['groups']||{});if(_0x7f159a[_0x14ff7f(0x1eb)]===0x0){_0x94076f[_0x14ff7f(0x9c5)]=_0x14ff7f(0x877);return;}const _0x2a86eb=[..._0x7f159a][_0x14ff7f(0x588)]((_0x21c017,_0x117c9c)=>_0x117c9c[_0x14ff7f(0xbde)]-_0x21c017[_0x14ff7f(0xbde)]),_0x2bbc3e=_0x2a86eb[_0x14ff7f(0x83a)]((_0x38efd7,_0x3a82db)=>{const _0x40dee6=_0x14ff7f,_0x5253a1=_0x38efd7['answers']?.[_0x40dee6(0x1eb)]||0x0;return _0x40dee6(0x871)+(_0x3a82db+0x1)+_0x40dee6(0x394)+_0x38efd7[_0x40dee6(0x379)][_0x40dee6(0x47c)](',\x20')+_0x40dee6(0x8c1)+_0x5253a1+'/'+_0x18d94c+_0x40dee6(0x3a4)+_0x38efd7[_0x40dee6(0xbde)]+_0x40dee6(0x281);})[_0x14ff7f(0x47c)](''),_0x562d84=currentQuizData[_0x14ff7f(0x7bb)]['map']((_0x5c0079,_0x5183de)=>{const _0x320b0e=_0x14ff7f;let _0x444990=0x0,_0x352779=0x0;_0x7f159a[_0x320b0e(0x97e)](_0x14f93a=>{const _0x14c3d5=_0x320b0e,_0xa4760d=_0x14f93a[_0x14c3d5(0xb0a)]?.['find'](_0x51d03b=>_0x51d03b[_0x14c3d5(0x517)]===_0x5183de);if(_0xa4760d){_0x352779++;if(_0xa4760d[_0x14c3d5(0x48b)])_0x444990++;}});const _0x4b06f3=_0x352779>0x0&&_0x352779===_0x7f159a['length'],_0x5cdb23=_0x4b06f3?'bg-green-200\x20text-green-900\x20font-bold':_0x320b0e(0x7cd),_0x3ad7b7=_0x4b06f3?_0x320b0e(0xae8):'';return _0x320b0e(0x4f4)+_0x5cdb23+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x5183de+0x1)+_0x320b0e(0x9f0)+_0x3ad7b7+_0x320b0e(0x97a)+_0x444990+'/'+_0x7f159a['length']+_0x320b0e(0x63c);})[_0x14ff7f(0x47c)]('');_0x94076f[_0x14ff7f(0x9c5)]=_0x14ff7f(0xba2)+_0x2bbc3e+_0x14ff7f(0x364)+_0x562d84+_0x14ff7f(0x74e);return;}const _0x4189b9=_0x1ac11a[_0x14ff7f(0xa3f)]||{},_0x8b4bbc=Object[_0x14ff7f(0x34a)](_0x4189b9);if(_0x8b4bbc[_0x14ff7f(0x1eb)]===0x0){_0x94076f[_0x14ff7f(0x9c5)]=_0x14ff7f(0x852);return;}const _0x3ba8de=_0x8b4bbc[_0x14ff7f(0x83a)](_0x30d17d=>({'name':_0x30d17d,'score':_0x4189b9[_0x30d17d][_0x14ff7f(0xbde)]||0x0}))[_0x14ff7f(0x588)]((_0x28aba2,_0x5894f4)=>_0x5894f4['score']-_0x28aba2[_0x14ff7f(0xbde)]),_0x4fb412=_0x3ba8de['map'](_0x269061=>{const _0x1ef436=_0x14ff7f,_0x8f8919=_0x4189b9[_0x269061[_0x1ef436(0x924)]]?.['answers']?.[_0x1ef436(0x1eb)]||0x0,_0xa5ae75=Math['ceil'](_0x18d94c/_0x8b4bbc[_0x1ef436(0x1eb)]);return _0x1ef436(0x815)+_0x269061[_0x1ef436(0x924)]+_0x1ef436(0x7d5)+_0x8f8919+'/'+_0xa5ae75+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x269061[_0x1ef436(0xbde)]+'\x20คะแนน</span></div>';})['join'](''),_0x27efb9=_0x8b4bbc[_0x14ff7f(0xbd7)]((_0x9cf3d7,_0x2945f3)=>_0x9cf3d7+(_0x4189b9[_0x2945f3][_0x14ff7f(0xb0a)]?.[_0x14ff7f(0x1eb)]||0x0),0x0),_0x16643b=currentQuizData[_0x14ff7f(0x7bb)]['map']((_0x5c1222,_0x1fff6c)=>{const _0x43c184=_0x14ff7f;let _0x59cf2d=null,_0x839fff=null;for(const _0x6935e4 of _0x8b4bbc){const _0x4bfe33=_0x4189b9[_0x6935e4][_0x43c184(0xb0a)]?.[_0x43c184(0xae2)](_0x344db0=>_0x344db0[_0x43c184(0x517)]===_0x1fff6c);if(_0x4bfe33){_0x59cf2d=_0x4bfe33,_0x839fff=_0x6935e4;break;}}const _0x56fcad=!!_0x59cf2d,_0x50a492=_0x56fcad&&_0x59cf2d[_0x43c184(0x48b)],_0x3ac40d=(Math[_0x43c184(0x7d0)](_0x1fff6c/_0x8b4bbc['length'])+0x1)*_0x8b4bbc[_0x43c184(0x1eb)],_0x23ba4e=_0x27efb9>=_0x3ac40d,_0x23a730=_0x23ba4e?_0x43c184(0xbe0):_0x43c184(0x7cd),_0x45332c=_0x23ba4e?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x47c39f=_0x43c184(0x30e);return _0x56fcad&&(_0x47c39f=_0x839fff+_0x43c184(0x4cf)+(_0x50a492?_0x43c184(0x751):_0x43c184(0x3e3))),_0x43c184(0x4f4)+_0x23a730+_0x43c184(0x5e0)+(_0x1fff6c+0x1)+_0x43c184(0x9f0)+_0x45332c+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x47c39f+_0x43c184(0x338);})[_0x14ff7f(0x47c)]('');_0x94076f[_0x14ff7f(0x9c5)]=_0x14ff7f(0x51e)+_0x4fb412+_0x14ff7f(0xa10)+_0x16643b+_0x14ff7f(0x74e);}async function handleJoinTeamQuiz(){const _0x579a92=_0x314764,_0x3041f6=prompt(_0x579a92(0xc12));if(!_0x3041f6||_0x3041f6[_0x579a92(0x1b6)]()[_0x579a92(0x1eb)]!==0x4){showMessage(_0x579a92(0x1fd));return;}try{const _0x40ba0b=collection(db,_0x579a92(0x21f)+appId+_0x579a92(0xb02)),_0x191214=query(_0x40ba0b,where(_0x579a92(0x917),'==',_0x3041f6[_0x579a92(0x1b6)]()),where(_0x579a92(0xbfc),'==',_0x579a92(0x4b6))),_0x54d66c=await getDocs(_0x191214);if(_0x54d66c[_0x579a92(0x326)]){showMessage(_0x579a92(0x657));return;}const _0x5cc858=_0x54d66c[_0x579a92(0xc27)][0x0];currentTeamQuizId=_0x5cc858['id'];const _0x138580=_0x5cc858[_0x579a92(0x31c)](),_0x50e491=doc(db,_0x579a92(0x21f)+appId+_0x579a92(0x7fe),_0x138580['projectId']),_0x78c26b=doc(db,_0x579a92(0x21f)+appId+_0x579a92(0x544),_0x138580['quizId']),[_0x1c06c6,_0x5ca233]=await Promise['all']([getDoc(_0x50e491),getDoc(_0x78c26b)]);if(!_0x1c06c6[_0x579a92(0x232)]()||!_0x5ca233[_0x579a92(0x232)]())throw new Error(_0x579a92(0x400));currentQuizData=getShuffledQuiz({'id':_0x5ca233['id'],..._0x5ca233['data']()});const _0xdc1c22=_0x1c06c6[_0x579a92(0x31c)]();showTeamPlayerSelection(_0xdc1c22[_0x579a92(0x801)],currentQuizData[_0x579a92(0x265)]);}catch(_0x471490){console['error']('Error\x20joining\x20team\x20quiz:',_0x471490),showMessage(_0x579a92(0x6e8)+_0x471490[_0x579a92(0x86b)]);}}async function handleJoinGroupActivity(){const _0x293d2f=_0x314764,_0x405cb0=prompt(_0x293d2f(0x27f));if(!_0x405cb0||_0x405cb0[_0x293d2f(0x1b6)]()[_0x293d2f(0x1eb)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x5bc533=_0x405cb0[_0x293d2f(0x1b6)]();showMessage(_0x293d2f(0x68e));try{const _0x59d573=collection(db,_0x293d2f(0x21f)+appId+_0x293d2f(0xb02)),_0x4b7b59=query(_0x59d573,where(_0x293d2f(0x917),'==',_0x5bc533),where(_0x293d2f(0xbfc),'==',_0x293d2f(0x4b6))),_0x38d292=await getDocs(_0x4b7b59);if(!_0x38d292[_0x293d2f(0x326)]){console[_0x293d2f(0xa58)](_0x293d2f(0x355)),await proceedWithTeamQuizJoin(_0x38d292['docs'][0x0]);return;}const _0x58a860=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x4be73b=query(_0x58a860,where(_0x293d2f(0x917),'==',_0x5bc533),where('status','==',_0x293d2f(0x4b6))),_0x552542=await getDocs(_0x4be73b);if(!_0x552542[_0x293d2f(0x326)]){console['log'](_0x293d2f(0x661)),await proceedWithSyncQuizJoin(_0x552542[_0x293d2f(0xc27)][0x0]);return;}showMessage(_0x293d2f(0xc01));}catch(_0x5f51e6){console[_0x293d2f(0x9b3)](_0x293d2f(0x8a8),_0x5f51e6),showMessage(_0x293d2f(0xb63)+_0x5f51e6['message']);}}async function proceedWithTeamQuizJoin(_0x1b766e){const _0x2c6827=_0x314764;currentTeamQuizId=_0x1b766e['id'];const _0x3584de=_0x1b766e['data'](),_0x344b98=doc(db,_0x2c6827(0x21f)+appId+'/public/data/projects',_0x3584de[_0x2c6827(0x368)]),_0x4a88ab=doc(db,_0x2c6827(0x21f)+appId+'/public/data/quizzes',_0x3584de['quizId']),[_0x351468,_0x4f0123]=await Promise[_0x2c6827(0x486)]([getDoc(_0x344b98),getDoc(_0x4a88ab)]);if(!_0x351468['exists']()||!_0x4f0123[_0x2c6827(0x232)]())throw new Error(_0x2c6827(0x400));currentQuizData=getShuffledQuiz({'id':_0x4f0123['id'],..._0x4f0123[_0x2c6827(0x31c)]()}),showTeamPlayerSelection(_0x351468['data']()[_0x2c6827(0x801)],currentQuizData[_0x2c6827(0x265)],_0x3584de[_0x2c6827(0x1a7)]||_0x2c6827(0x96e)),messageModal[_0x2c6827(0x68d)][_0x2c6827(0x8f4)](_0x2c6827(0xbc7));}async function proceedWithSyncQuizJoin(_0x1306ec){const _0x46bc92=_0x314764;currentLiveGameId=_0x1306ec['id'];const _0x3379db=_0x1306ec[_0x46bc92(0x31c)](),_0x533e75=doc(db,_0x46bc92(0x21f)+appId+_0x46bc92(0x544),_0x3379db[_0x46bc92(0x174)]),_0x7d529=await getDoc(_0x533e75);if(!_0x7d529[_0x46bc92(0x232)]())throw new Error(_0x46bc92(0x80c));const _0x4989ce=_0x7d529[_0x46bc92(0x31c)](),_0x231bd1=doc(db,_0x46bc92(0x21f)+appId+_0x46bc92(0x7fe),_0x4989ce[_0x46bc92(0x368)]),_0x5df9d3=await getDoc(_0x231bd1);if(!_0x5df9d3['exists']())throw new Error(_0x46bc92(0x78a));currentQuizData=_0x3379db[_0x46bc92(0xb49)],showView('student-team-join'),showTeamPlayerSelection(_0x5df9d3['data']()[_0x46bc92(0x801)],_0x4989ce['topic'],_0x46bc92(0x49e)),document[_0x46bc92(0x6ce)]('confirm-team-players-btn')[_0x46bc92(0xb41)]=confirmAndJoinSyncGame,messageModal[_0x46bc92(0x68d)]['add'](_0x46bc92(0xbc7));}function getCleanApplicationHTML(){const _0x84a067=_0x314764,_0x4a3868=document[_0x84a067(0x6ce)](_0x84a067(0x93b));if(!_0x4a3868)return'';const _0x4bb193=_0x4a3868[_0x84a067(0x2a2)](!![]);return _0x4bb193['querySelectorAll'](_0x84a067(0x4b8))['forEach'](_0x2bb6f9=>{const _0x56fe1d=_0x84a067;_0x2bb6f9[_0x56fe1d(0x68d)][_0x56fe1d(0x49f)](_0x56fe1d(0x824),_0x56fe1d(0x939)),_0x2bb6f9[_0x56fe1d(0x915)]=![];}),_0x4bb193[_0x84a067(0x9c5)];}function showTeamPlayerSelection(_0x4263f9,_0x170969,_0x437c32=_0x314764(0x96e)){const _0x24a628=_0x314764;studentInitialView[_0x24a628(0x68d)][_0x24a628(0x8f4)](_0x24a628(0xbc7)),studentJoinGameView['classList'][_0x24a628(0x8f4)](_0x24a628(0xbc7)),document[_0x24a628(0x6ce)](_0x24a628(0x5a7))[_0x24a628(0x68d)]['remove'](_0x24a628(0xbc7));let _0x3d7f4b=_0x24a628(0x49c);if(_0x437c32==='group')_0x3d7f4b=_0x24a628(0xbab);else _0x437c32===_0x24a628(0x49e)&&(_0x3d7f4b=_0x24a628(0x60c));document[_0x24a628(0x6ce)](_0x24a628(0x83f))[_0x24a628(0xa88)]=_0x3d7f4b+':\x20'+_0x170969;const _0x583fd0=document['getElementById'](_0x24a628(0x3a6));if(!_0x4263f9||_0x4263f9[_0x24a628(0x1eb)]===0x0){_0x583fd0[_0x24a628(0x9c5)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document['getElementById'](_0x24a628(0x4f3))[_0x24a628(0x915)]=!![];return;}_0x583fd0[_0x24a628(0x9c5)]=_0x4263f9[_0x24a628(0x83a)](_0x214c4b=>_0x24a628(0x762)+_0x214c4b+_0x24a628(0x7bc)+_0x214c4b+_0x24a628(0x663))['join'](''),document[_0x24a628(0x6ce)](_0x24a628(0x4f3))[_0x24a628(0x915)]=![];}async function confirmAndStartTeamQuiz(){const _0x1112d1=_0x314764,_0x45aef7=Array['from'](document[_0x1112d1(0x3e7)](_0x1112d1(0x1e5)))[_0x1112d1(0x83a)](_0x5a3015=>_0x5a3015['value']);if(_0x45aef7['length']===0x0){showMessage(_0x1112d1(0x999));return;}localTeamPlayers=_0x45aef7,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x2abb1e=doc(db,_0x1112d1(0x21f)+appId+_0x1112d1(0xb02),currentTeamQuizId);try{const _0x5f11dd=await getDoc(_0x2abb1e);if(!_0x5f11dd[_0x1112d1(0x232)]())throw new Error(_0x1112d1(0x992));const _0x47f473=_0x5f11dd[_0x1112d1(0x31c)]();if(_0x47f473['mode']==='group'){const _0x3a434a={[_0x1112d1(0x85a)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x2abb1e,_0x3a434a);}else{const _0x3fc2f4=_0x47f473[_0x1112d1(0xa3f)]||{};localTeamPlayers['forEach'](_0x4d8647=>{!_0x3fc2f4[_0x4d8647]&&(_0x3fc2f4[_0x4d8647]={'score':0x0,'answers':[]});}),await updateDoc(_0x2abb1e,{'responses':_0x3fc2f4});}document[_0x1112d1(0x6ce)]('student-team-selection-view')[_0x1112d1(0x68d)][_0x1112d1(0x8f4)](_0x1112d1(0xbc7)),renderTeamQuizQuestion();const _0x3deb9d={'gameId':currentTeamQuizId,'mode':_0x47f473[_0x1112d1(0x1a7)]||_0x1112d1(0x96e),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1112d1(0x1fb)](_0x1112d1(0x736),JSON[_0x1112d1(0x73a)](_0x3deb9d)),listenForTeamQuizUpdates();}catch(_0x79334e){console[_0x1112d1(0x9b3)]('Error\x20confirming\x20players:',_0x79334e),showMessage(_0x1112d1(0xc2c));}}async function renderTeamQuizQuestion(){const _0x30495d=_0x314764;if(localQuestionIndex>=currentQuizData['questions'][_0x30495d(0x1eb)]){displayTeamQuizFinalResults();return;}const _0x4d3f74=currentQuizData[_0x30495d(0x7bb)][localQuestionIndex],_0x3572eb=localTeamPlayers[localPlayerIndex],_0x7ea481=_0x4d3f74[_0x30495d(0xb6e)]||currentQuizData[_0x30495d(0xa1e)];let _0x5839e9=_0x4d3f74['stem']||_0x4d3f74[_0x30495d(0x41e)],_0x19f067='';switch(_0x7ea481){case _0x30495d(0x75c):case _0x30495d(0x248):_0x19f067=_0x4d3f74[_0x30495d(0x9b5)][_0x30495d(0x83a)]((_0x2af9e9,_0x13d075)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x13d075+_0x30495d(0x6e5)+_0x13d075+_0x30495d(0x513)+_0x13d075+'\x22>'+_0x2af9e9+'</label></div>')['join']('');break;case'true_false':_0x19f067='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x30495d(0x8a4):case _0x30495d(0xbbd):_0x19f067=_0x30495d(0x7aa);break;case _0x30495d(0x554):_0x19f067='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x4d3f74['allResponses'][_0x30495d(0x83a)](_0x3a15d4=>'<option\x20value=\x22'+_0x3a15d4+'\x22>'+_0x3a15d4+'</option>')['join']('')+'</select>';break;default:_0x19f067=_0x30495d(0x700);break;}studentQuizArea['innerHTML']=_0x30495d(0x9fd)+(localQuestionIndex+0x1)+_0x30495d(0x2d6)+currentQuizData[_0x30495d(0x7bb)]['length']+_0x30495d(0x858)+_0x3572eb+_0x30495d(0xb26)+(localQuestionIndex+0x1)+'.\x20'+_0x5839e9+_0x30495d(0x1ea)+(_0x4d3f74[_0x30495d(0x25f)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4d3f74[_0x30495d(0x25f)]+_0x30495d(0x67d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x19f067+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x30495d(0x68d)][_0x30495d(0x49f)](_0x30495d(0xbc7));if(window[_0x30495d(0x649)])MathJax[_0x30495d(0x966)]([studentQuizArea]);document[_0x30495d(0x6ce)](_0x30495d(0x7e5))[_0x30495d(0x9cd)](_0x30495d(0x58a),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0xffa961=_0x314764,_0x14a7ab=currentQuizData[_0xffa961(0x7bb)][localQuestionIndex],_0x3a30a9=_0x14a7ab[_0xffa961(0xb6e)]||currentQuizData[_0xffa961(0xa1e)];let _0x3b4360=null,_0x5ab961=![];if(_0x3a30a9===_0xffa961(0x8a4)||_0x3a30a9===_0xffa961(0xbbd)){const _0x38313a=document[_0xffa961(0x612)](_0xffa961(0x1b3));if(!_0x38313a||!_0x38313a[_0xffa961(0x3e6)][_0xffa961(0x1b6)]()){showMessage(_0xffa961(0x557));return;}_0x3b4360=_0x38313a[_0xffa961(0x3e6)][_0xffa961(0x1b6)](),_0x5ab961=await gradeShortAnswer(_0x3b4360,_0x14a7ab);}else{const _0x3e6132=document[_0xffa961(0x612)](_0xffa961(0x950));if(!_0x3e6132||_0x3e6132[_0xffa961(0x3e6)]===''){showMessage(_0xffa961(0x773));return;}_0x3b4360=_0x3e6132[_0xffa961(0x3e6)];switch(_0x3a30a9){case _0xffa961(0xa97):_0x5ab961=_0x3b4360===_0xffa961(0x8de)===_0x14a7ab[_0xffa961(0x7c3)];break;case _0xffa961(0x554):_0x5ab961=_0x3b4360===_0x14a7ab[_0xffa961(0x53e)];break;default:_0x5ab961=parseInt(_0x3b4360)===_0x14a7ab[_0xffa961(0xaca)];break;}}const _0x22187e={'questionIndex':localQuestionIndex,'isCorrect':_0x5ab961},_0x5275e9=userId,_0x19c266={[_0xffa961(0x85a)+_0x5275e9+_0xffa961(0x565)]:arrayUnion(_0x22187e)};_0x5ab961&&(_0x19c266[_0xffa961(0x85a)+_0x5275e9+_0xffa961(0x1a8)]=increment(0x1));try{await updateDoc(doc(db,_0xffa961(0x21f)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x19c266),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0xffa961(0x7bb)][_0xffa961(0x1eb)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x20100f){console[_0xffa961(0x9b3)](_0xffa961(0x8ab),_0x20100f),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0xd86643=_0x314764,_0x320d16=await getDoc(doc(db,_0xd86643(0x21f)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x320d16[_0xd86643(0x232)]())return;const _0xb96e06=_0x320d16['data']();if(_0xb96e06[_0xd86643(0x1a7)]===_0xd86643(0x8f0)){handleGroupAnswerSubmit();return;}const _0x3ce3ac=localTeamPlayers[localPlayerIndex],_0x44b609=currentQuizData[_0xd86643(0x7bb)][localQuestionIndex],_0x51712f=_0x44b609[_0xd86643(0xb6e)]||currentQuizData[_0xd86643(0xa1e)];let _0x220cda=null,_0x5a3ea9=![];if(_0x51712f===_0xd86643(0x8a4)||_0x51712f===_0xd86643(0xbbd)){const _0x3a81f0=document[_0xd86643(0x612)](_0xd86643(0x1b3));if(!_0x3a81f0||!_0x3a81f0[_0xd86643(0x3e6)][_0xd86643(0x1b6)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x220cda=_0x3a81f0['value'][_0xd86643(0x1b6)](),_0x5a3ea9=await gradeShortAnswer(_0x220cda,_0x44b609);}else{const _0x129a34=document[_0xd86643(0x612)](_0xd86643(0x950));if(!_0x129a34||_0x129a34[_0xd86643(0x3e6)]===''){showMessage(_0xd86643(0x987));return;}_0x220cda=_0x129a34[_0xd86643(0x3e6)];switch(_0x51712f){case _0xd86643(0xa97):_0x5a3ea9=_0x220cda===_0xd86643(0x8de)===_0x44b609['correctAnswer'];break;case _0xd86643(0x554):_0x5a3ea9=_0x220cda===_0x44b609[_0xd86643(0x53e)];break;default:_0x5a3ea9=parseInt(_0x220cda)===_0x44b609['correctAnswerIndex'];break;}}const _0x1f9ac3={'questionIndex':localQuestionIndex,'isCorrect':_0x5a3ea9,'answerValue':_0x220cda},_0x3c7e06={[_0xd86643(0x84d)+_0x3ce3ac+'.answers']:arrayUnion(_0x1f9ac3)};_0x5a3ea9&&(_0x3c7e06[_0xd86643(0x84d)+_0x3ce3ac+_0xd86643(0x1a8)]=increment(0x1));try{await updateDoc(doc(db,_0xd86643(0x21f)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x3c7e06),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0xd86643(0x1eb)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x45d661){console['error'](_0xd86643(0x42f),_0x45d661),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x3658b0=_0x314764;studentQuizArea[_0x3658b0(0x68d)][_0x3658b0(0x8f4)]('hidden'),studentResultArea[_0x3658b0(0x68d)][_0x3658b0(0x49f)](_0x3658b0(0xbc7));const _0x4b1bcb=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4744bb=await getDoc(_0x4b1bcb);if(!_0x4744bb['exists']()){studentResultArea['innerHTML']=_0x3658b0(0xbbb);return;}const _0x3e0052=_0x4744bb[_0x3658b0(0x31c)]();let _0x268203=[];const _0x207550=_0x3e0052['mode']||_0x3658b0(0x96e);if(_0x207550===_0x3658b0(0x8f0)){const _0x5b5117=_0x3e0052[_0x3658b0(0x749)][userId];_0x5b5117?_0x268203=[{'name':_0x3658b0(0x196)+localTeamPlayers['join'](',\x20'),'score':_0x5b5117[_0x3658b0(0xbde)]||0x0}]:_0x268203=[{'name':_0x3658b0(0x526),'score':_0x3658b0(0x78b)}];}else _0x268203=localTeamPlayers['map'](_0x2deb30=>({'name':_0x2deb30,'score':_0x3e0052[_0x3658b0(0xa3f)][_0x2deb30]?.['score']||0x0}))['sort']((_0x49887d,_0x4e0a9c)=>_0x4e0a9c[_0x3658b0(0xbde)]-_0x49887d[_0x3658b0(0xbde)]);studentResultArea['innerHTML']=_0x3658b0(0xb4c)+_0x268203['map'](_0x43dabd=>_0x3658b0(0x3b8)+_0x43dabd[_0x3658b0(0x924)]+_0x3658b0(0x35f)+_0x43dabd[_0x3658b0(0xbde)]+_0x3658b0(0xb6a))[_0x3658b0(0x47c)]('')+_0x3658b0(0x7d4),sessionStorage[_0x3658b0(0xa6e)]('activeGameSession'),currentMode===_0x3658b0(0x41d)&&currentTeamQuizId&&setTimeout(()=>{const _0x1eb52b=_0x3658b0;deleteDoc(doc(db,_0x1eb52b(0x21f)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x314764(0xb5f),'pinnedProjects':[],'projectView':_0x314764(0x502)};function _0x3289(_0x3f62ce,_0x48e72b){const _0x29db79=_0x29db();return _0x3289=function(_0x328973,_0x517bb5){_0x328973=_0x328973-0x16e;let _0x3224e1=_0x29db79[_0x328973];return _0x3224e1;},_0x3289(_0x3f62ce,_0x48e72b);}const allMathTopics=[{'category':_0x314764(0xaef),'name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':_0x314764(0x7e2)},{'category':_0x314764(0xaef),'name':_0x314764(0x4dc)},{'category':'จำนวนและการดำเนินการ','name':_0x314764(0xa1c)},{'category':_0x314764(0xaef),'name':_0x314764(0x198)},{'category':_0x314764(0xaef),'name':'การลบ'},{'category':_0x314764(0xaef),'name':_0x314764(0x91a)},{'category':'จำนวนและการดำเนินการ','name':'การหาร'},{'category':_0x314764(0xaef),'name':_0x314764(0x218)},{'category':'จำนวนและการดำเนินการ','name':_0x314764(0x94e)},{'category':_0x314764(0xaef),'name':_0x314764(0x1de)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x314764(0xaef),'name':_0x314764(0x614)},{'category':_0x314764(0xaef),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x314764(0xaef),'name':_0x314764(0x809)},{'category':_0x314764(0xaef),'name':_0x314764(0x55c)},{'category':_0x314764(0xaef),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x314764(0xaef),'name':'อัตราและอัตราหน่วย'},{'category':_0x314764(0xaef),'name':_0x314764(0x646)},{'category':_0x314764(0xaef),'name':_0x314764(0x1e9)},{'category':_0x314764(0xaef),'name':_0x314764(0x558)},{'category':_0x314764(0xaef),'name':_0x314764(0x34d)},{'category':_0x314764(0xaef),'name':_0x314764(0xbda)},{'category':_0x314764(0xaef),'name':_0x314764(0x7f5)},{'category':_0x314764(0xaef),'name':_0x314764(0xad0)},{'category':'จำนวนและการดำเนินการ','name':_0x314764(0xa0e)},{'category':_0x314764(0xaef),'name':_0x314764(0x7a5)},{'category':'จำนวนและการดำเนินการ','name':'การคูณทศนิยม'},{'category':_0x314764(0xaef),'name':_0x314764(0xa16)},{'category':'จำนวนและการดำเนินการ','name':_0x314764(0x46e)},{'category':_0x314764(0xaef),'name':_0x314764(0x54d)},{'category':'จำนวนและการดำเนินการ','name':_0x314764(0x7eb)},{'category':'จำนวนและการดำเนินการ','name':_0x314764(0xb65)},{'category':_0x314764(0xaef),'name':_0x314764(0x722)},{'category':_0x314764(0xaef),'name':_0x314764(0x789)},{'category':'จำนวนและการดำเนินการ','name':_0x314764(0xaaa)},{'category':_0x314764(0xaef),'name':_0x314764(0xb30)},{'category':_0x314764(0x7f9),'name':_0x314764(0x474)},{'category':_0x314764(0x7f9),'name':_0x314764(0xa7c)},{'category':_0x314764(0x7f9),'name':_0x314764(0xb8d)},{'category':_0x314764(0x7f9),'name':_0x314764(0x6e2)},{'category':_0x314764(0x7f9),'name':'อุณหภูมิและการแปลง'},{'category':_0x314764(0x7f9),'name':_0x314764(0x524)},{'category':_0x314764(0x7f9),'name':_0x314764(0x264)},{'category':'การวัด','name':_0x314764(0xbc8)},{'category':_0x314764(0x7f9),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x314764(0x7f9),'name':_0x314764(0x1cf)},{'category':'การวัด','name':_0x314764(0x5b1)},{'category':_0x314764(0x7f9),'name':'มุมและการวัดมุม'},{'category':_0x314764(0x7f9),'name':_0x314764(0x35c)},{'category':_0x314764(0x7f9),'name':_0x314764(0x347)},{'category':'เรขาคณิต','name':_0x314764(0xb15)},{'category':'เรขาคณิต','name':_0x314764(0x774)},{'category':'เรขาคณิต','name':_0x314764(0x432)},{'category':_0x314764(0x6d9),'name':_0x314764(0xbc8)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x314764(0x6d9),'name':_0x314764(0x7f0)},{'category':_0x314764(0x6d9),'name':_0x314764(0x662)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':'เรขาคณิต','name':_0x314764(0x484)},{'category':_0x314764(0x6d9),'name':_0x314764(0x2c4)},{'category':_0x314764(0x6d9),'name':_0x314764(0x17f)},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x314764(0x6d9),'name':_0x314764(0x93e)},{'category':'เรขาคณิต','name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x314764(0x541)},{'category':_0x314764(0x6dd),'name':_0x314764(0x96a)},{'category':_0x314764(0x6dd),'name':_0x314764(0xab8)},{'category':_0x314764(0x6dd),'name':_0x314764(0x834)},{'category':_0x314764(0x6dd),'name':_0x314764(0x9de)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x314764(0x1ee)},{'category':_0x314764(0x6dd),'name':_0x314764(0x2b7)},{'category':_0x314764(0x6dd),'name':_0x314764(0x620)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x314764(0x986)},{'category':_0x314764(0x6dd),'name':_0x314764(0xa0c)},{'category':_0x314764(0x6dd),'name':_0x314764(0x488)},{'category':_0x314764(0x6dd),'name':_0x314764(0x6d4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x314764(0x4bc)},{'category':_0x314764(0x6dd),'name':_0x314764(0x531)},{'category':_0x314764(0x6dd),'name':_0x314764(0x3a9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x314764(0xbec)},{'category':_0x314764(0x6dd),'name':_0x314764(0xaa7)},{'category':_0x314764(0x6dd),'name':_0x314764(0x292)},{'category':_0x314764(0x6dd),'name':_0x314764(0x80d)},{'category':_0x314764(0x6dd),'name':_0x314764(0x543)},{'category':_0x314764(0x6dd),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x314764(0x9b6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x314764(0xb70)},{'category':_0x314764(0x6dd),'name':_0x314764(0x4f6)},{'category':_0x314764(0x6dd),'name':'ฟังก์ชันพหุนาม'},{'category':_0x314764(0x6dd),'name':_0x314764(0xbeb)},{'category':_0x314764(0x6dd),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x314764(0x6dd),'name':_0x314764(0xb28)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x314764(0xb09)},{'category':_0x314764(0x6dd),'name':_0x314764(0x33d)},{'category':_0x314764(0x6dd),'name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x314764(0x525)},{'category':_0x314764(0x6dd),'name':_0x314764(0x830)},{'category':_0x314764(0x6dd),'name':_0x314764(0x763)},{'category':_0x314764(0x6dd),'name':_0x314764(0x74a)},{'category':_0x314764(0x6dd),'name':_0x314764(0x7be)},{'category':_0x314764(0x4b7),'name':_0x314764(0x69c)},{'category':_0x314764(0x4b7),'name':'ความชันและเส้นตรง'},{'category':_0x314764(0x4b7),'name':_0x314764(0x2e4)},{'category':_0x314764(0x4b7),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x314764(0x921)},{'category':'เรขาคณิตวิเคราะห์','name':_0x314764(0x85d)},{'category':_0x314764(0x4b7),'name':_0x314764(0x9cb)},{'category':'เรขาคณิตวิเคราะห์','name':_0x314764(0x5da)},{'category':'เรขาคณิตวิเคราะห์','name':_0x314764(0x81b)},{'category':_0x314764(0x3af),'name':_0x314764(0x1af)},{'category':'ตรีโกณมิติ','name':_0x314764(0xc31)},{'category':_0x314764(0x3af),'name':_0x314764(0xb3b)},{'category':_0x314764(0x3af),'name':_0x314764(0x58f)},{'category':_0x314764(0x3af),'name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':_0x314764(0x7ff)},{'category':_0x314764(0x3af),'name':_0x314764(0xa8b)},{'category':_0x314764(0x3af),'name':_0x314764(0x27e)},{'category':'ตรีโกณมิติ','name':_0x314764(0xb1a)},{'category':_0x314764(0x3af),'name':_0x314764(0x8eb)},{'category':_0x314764(0x3af),'name':_0x314764(0x4d8)},{'category':'สถิติและความน่าจะเป็น','name':_0x314764(0x32c)},{'category':_0x314764(0xb1e),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x314764(0xb1e),'name':'ตารางความถี่'},{'category':_0x314764(0xb1e),'name':_0x314764(0x467)},{'category':_0x314764(0xb1e),'name':_0x314764(0xabd)},{'category':_0x314764(0xb1e),'name':_0x314764(0x3f1)},{'category':'สถิติและความน่าจะเป็น','name':_0x314764(0xbf9)},{'category':_0x314764(0xb1e),'name':'มัธยฐาน'},{'category':_0x314764(0xb1e),'name':'ฐานนิยม'},{'category':_0x314764(0xb1e),'name':_0x314764(0x8df)},{'category':_0x314764(0xb1e),'name':_0x314764(0x8e1)},{'category':_0x314764(0xb1e),'name':_0x314764(0x96b)},{'category':_0x314764(0xb1e),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x314764(0xb1e),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x314764(0xb1e),'name':_0x314764(0x3f0)},{'category':_0x314764(0xb1e),'name':_0x314764(0x433)},{'category':_0x314764(0xb1e),'name':_0x314764(0x498)},{'category':_0x314764(0xb1e),'name':_0x314764(0x8dc)},{'category':_0x314764(0xb1e),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x314764(0xb1e),'name':_0x314764(0x1c8)},{'category':_0x314764(0xb1e),'name':_0x314764(0x371)},{'category':_0x314764(0xb1e),'name':_0x314764(0x836)},{'category':'สถิติและความน่าจะเป็น','name':_0x314764(0x1b7)},{'category':_0x314764(0xb1e),'name':_0x314764(0xa8e)},{'category':_0x314764(0x242),'name':_0x314764(0x343)},{'category':_0x314764(0x242),'name':_0x314764(0x535)},{'category':_0x314764(0x242),'name':_0x314764(0x7b1)},{'category':_0x314764(0x242),'name':_0x314764(0xa56)},{'category':_0x314764(0x242),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x314764(0x242),'name':_0x314764(0x504)},{'category':_0x314764(0x242),'name':'ความชันเส้นสัมผัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x314764(0xa40)},{'category':_0x314764(0x242),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x314764(0x242),'name':_0x314764(0x71d)},{'category':_0x314764(0x242),'name':_0x314764(0x49d)},{'category':_0x314764(0x242),'name':_0x314764(0x83d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x314764(0x91f)},{'category':_0x314764(0x67c),'name':_0x314764(0xbdd)},{'category':_0x314764(0x67c),'name':'ดอทโปรดักต์\x20(dot)'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x314764(0x99f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x314764(0x67c),'name':_0x314764(0x6f2)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x314764(0x4a2)},{'category':_0x314764(0x67c),'name':_0x314764(0x1df)},{'category':_0x314764(0x579),'name':_0x314764(0x8d1)},{'category':_0x314764(0x579),'name':_0x314764(0xa4f)},{'category':_0x314764(0x579),'name':_0x314764(0x29a)},{'category':_0x314764(0x579),'name':_0x314764(0xa6a)},{'category':_0x314764(0x579),'name':_0x314764(0x4a0)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x314764(0x65e)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x314764(0x623)},{'category':_0x314764(0xab3),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x4a8a98=_0x314764,_0x1803d2=document['getElementById'](_0x4a8a98(0x703));if(!_0x1803d2)return;const _0x27bfce=allMathTopics,_0x2ec9b8=customMathTopics[_0x4a8a98(0x83a)](_0x49ca9=>({'id':_0x49ca9['id'],'category':_0x4a8a98(0x66c),'name':_0x49ca9[_0x4a8a98(0x924)]})),_0x256280=[..._0x27bfce,..._0x2ec9b8],_0x48b919=_0x256280[_0x4a8a98(0xbd7)]((_0x1a1105,_0x18105a)=>{const _0x159d08=_0x4a8a98;return!_0x1a1105[_0x18105a['category']]&&(_0x1a1105[_0x18105a[_0x159d08(0x75a)]]=[]),_0x1a1105[_0x18105a[_0x159d08(0x75a)]][_0x159d08(0x403)](_0x18105a),_0x1a1105;},{});let _0x288e8f='';const _0x4144f5=[_0x4a8a98(0x66c),...Object[_0x4a8a98(0x34a)](_0x48b919)[_0x4a8a98(0x595)](_0x4b731a=>_0x4b731a!==_0x4a8a98(0x66c))];for(const _0x2a17b0 of _0x4144f5){if(_0x48b919[_0x2a17b0]){const _0x38b025=_0x2a17b0===_0x4a8a98(0x66c),_0x1038e1=_0x38b025?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0x2ab872=_0x38b025?_0x4a8a98(0x5b6):'text-indigo-700';_0x288e8f+=_0x4a8a98(0x2ad),_0x288e8f+=_0x4a8a98(0xc10)+_0x2ab872+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x1038e1+_0x4a8a98(0x810)+_0x2a17b0+_0x4a8a98(0x1ad),_0x48b919[_0x2a17b0][_0x4a8a98(0x97e)](_0x1362f6=>{const _0x56fe10=_0x4a8a98,_0x56a0fc=!!_0x1362f6['id'],_0x449b78=_0x56a0fc?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1362f6['id']+_0x56fe10(0x372)+_0x1362f6['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1362f6['id']+_0x56fe10(0xc0e)+_0x1362f6['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x288e8f+=_0x56fe10(0xc13)+(_0x1362f6['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x1362f6[_0x56fe10(0x924)]+_0x56fe10(0x664)+_0x1362f6['name']+_0x56fe10(0xc24)+(_0x56a0fc?_0x56fe10(0x5b7)+_0x1362f6[_0x56fe10(0x924)]+'\x22>':'')+_0x56fe10(0x914)+_0x449b78+_0x56fe10(0x63f);}),_0x288e8f+=_0x4a8a98(0x67d);}}_0x1803d2[_0x4a8a98(0x9c5)]=_0x288e8f||_0x4a8a98(0x996),_0x1803d2['removeEventListener']('change',updateSelectedTopicsCount),_0x1803d2['addEventListener'](_0x4a8a98(0xaf9),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x51fc23,_0x30f4ac){const _0x455d71=_0x314764;if(!_0x51fc23||!_0x30f4ac['trim']()){showMessage(_0x455d71(0x7a6));return;}try{const _0x3fe51e=doc(db,_0x455d71(0x21f)+appId+'/public/data/customMathTopics',_0x51fc23);await updateDoc(_0x3fe51e,{'name':_0x30f4ac[_0x455d71(0x1b6)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x1e46cf){console[_0x455d71(0x9b3)]('Error\x20updating\x20custom\x20topic:',_0x1e46cf),showMessage(_0x455d71(0x72a));}}function toggleTopicEditMode(_0x481b5a,_0x51df98){const _0x4d6dce=_0x314764;if(!_0x481b5a)return;const _0x13936b=_0x481b5a[_0x4d6dce(0x612)](_0x4d6dce(0x709)),_0xb0264=_0x481b5a['querySelector'](_0x4d6dce(0x9f1)),_0x4e5681=_0x481b5a[_0x4d6dce(0x612)](_0x4d6dce(0xbd3)),_0x4c1d76=_0x481b5a[_0x4d6dce(0x612)](_0x4d6dce(0x521));_0x13936b[_0x4d6dce(0x68d)][_0x4d6dce(0x8ff)](_0x4d6dce(0xbc7),_0x51df98),_0xb0264[_0x4d6dce(0x68d)][_0x4d6dce(0x8ff)](_0x4d6dce(0xbc7),!_0x51df98),_0x4e5681[_0x4d6dce(0x68d)]['toggle'](_0x4d6dce(0xbc7),_0x51df98),_0x4c1d76[_0x4d6dce(0x68d)]['toggle'](_0x4d6dce(0xbc7),!_0x51df98),_0x51df98&&(_0xb0264[_0x4d6dce(0x26c)](),_0xb0264['select']());}async function handleStartLiveRace(_0x458a04){const _0x13d8c6=_0x314764;let _0x855f51=allQuizzes[_0x13d8c6(0xae2)](_0x2354fa=>_0x2354fa['id']===_0x458a04);if(!_0x855f51){const _0x1d7ee0=doc(db,_0x13d8c6(0x21f)+appId+'/public/data/quizzes',_0x458a04),_0x4b03bf=await getDoc(_0x1d7ee0);if(!_0x4b03bf[_0x13d8c6(0x232)]()){showMessage(_0x13d8c6(0x80c));return;}_0x855f51={'id':_0x4b03bf['id'],..._0x4b03bf['data']()};}const _0x59f8c7=getShuffledQuiz(_0x855f51);currentQuizData=_0x59f8c7;const _0xe6c96b=_0x855f51['projectId']||currentProjectId||null,_0x27cd2d=Math[_0x13d8c6(0x7d0)](0x3e8+Math[_0x13d8c6(0x2e9)]()*0x2328)['toString']();currentLiveGamePin=_0x27cd2d;try{const _0x2d7bbf=await addDoc(collection(db,'artifacts/'+appId+_0x13d8c6(0x937)),{'quizId':_0x458a04,'projectId':_0xe6c96b,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x27cd2d,'createdAt':serverTimestamp(),'shuffledQuiz':_0x59f8c7});currentLiveGameId=_0x2d7bbf['id'],showAdminLobbyView(_0x27cd2d,_0x855f51['topic']),listenForLiveGameUpdates();}catch(_0x11e755){console[_0x13d8c6(0x9b3)](_0x13d8c6(0xb6b),_0x11e755),showMessage(_0x13d8c6(0x1d8));}}function updateSelectedTopicsCount(){const _0x2ad3e4=_0x314764,_0x565c7e=document[_0x2ad3e4(0x6ce)](_0x2ad3e4(0x703)),_0x2af315=_0x565c7e[_0x2ad3e4(0x3e7)](_0x2ad3e4(0x291))[_0x2ad3e4(0x1eb)],_0x8a524=document[_0x2ad3e4(0x6ce)](_0x2ad3e4(0x538));_0x2af315>0x0?_0x8a524[_0x2ad3e4(0xa88)]=_0x2ad3e4(0x4b9)+_0x2af315+_0x2ad3e4(0x577):_0x8a524['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x314764(0xa82),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x314764(0xc0f),quizLeaderboardSortOrder=_0x314764(0x3f2),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x314764(0x1a9),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x314764(0x701),scratchpadPenColor=_0x314764(0x2ce),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x2edd05,_0x4ff583){const _0x17134b=_0x314764;return Math['sqrt'](Math[_0x17134b(0x989)](_0x2edd05['x']-_0x4ff583['x'],0x2)+Math[_0x17134b(0x989)](_0x2edd05['y']-_0x4ff583['y'],0x2));}function getMidpoint(_0x2e4ebe,_0x1831a4){return{'x':(_0x2e4ebe['x']+_0x1831a4['x'])/0x2,'y':(_0x2e4ebe['y']+_0x1831a4['y'])/0x2};}function getTransformedPoint(_0x2951b3,_0x4df7fc){return{'x':(_0x2951b3-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4df7fc-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1a3e80=_0x314764;if(!scratchpadCtx)return;const _0x4f5b8b=scratchpadCtx['canvas'],_0x27d191=window[_0x1a3e80(0xc19)]||0x1,_0x1d3e11=document[_0x1a3e80(0x6ce)](_0x1a3e80(0x93f));_0x1d3e11&&(_0x1d3e11[_0x1a3e80(0x58c)]['transformOrigin']=_0x1a3e80(0x540),_0x1d3e11['style'][_0x1a3e80(0x90a)]='translate('+scratchpadOffset['x']+_0x1a3e80(0x490)+scratchpadOffset['y']+_0x1a3e80(0xb47)+scratchpadScale+')'),scratchpadCtx[_0x1a3e80(0x3c1)](),scratchpadCtx[_0x1a3e80(0x927)](_0x27d191,0x0,0x0,_0x27d191,0x0,0x0),scratchpadCtx[_0x1a3e80(0x674)](0x0,0x0,_0x4f5b8b[_0x1a3e80(0x239)],_0x4f5b8b[_0x1a3e80(0x9f8)]),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx[_0x1a3e80(0x750)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x1a3e80(0x97e)](_0x56e6a2=>{drawStroke(_0x56e6a2);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1a3e80(0x43a)]();}function renderGroupModeQuestion(){const _0x5b6b3d=_0x314764;if(localQuestionIndex>=currentQuizData[_0x5b6b3d(0x7bb)]['length']){displayTeamQuizFinalResults();return;}const _0x54c678=currentQuizData[_0x5b6b3d(0x7bb)][localQuestionIndex],_0x4b3f23=_0x54c678['questionType']||currentQuizData[_0x5b6b3d(0xa1e)];let _0x5b0c65=_0x54c678[_0x5b6b3d(0x458)]||_0x54c678[_0x5b6b3d(0x41e)],_0xc8565a='';switch(_0x4b3f23){case _0x5b6b3d(0x75c):case'fill_in_with_choices':_0xc8565a=_0x54c678[_0x5b6b3d(0x9b5)][_0x5b6b3d(0x83a)]((_0x2c515e,_0x4228f6)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x4228f6+_0x5b6b3d(0x6e5)+_0x4228f6+_0x5b6b3d(0x513)+_0x4228f6+'\x22>'+_0x2c515e+_0x5b6b3d(0x99d))[_0x5b6b3d(0x47c)]('');break;case'true_false':_0xc8565a=_0x5b6b3d(0x7ca);break;case _0x5b6b3d(0x8a4):case _0x5b6b3d(0xbbd):_0xc8565a='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0x5b6b3d(0x554):_0xc8565a=_0x5b6b3d(0x974)+_0x54c678[_0x5b6b3d(0x610)]['map'](_0x48ecf5=>'<option\x20value=\x22'+_0x48ecf5+'\x22>'+_0x48ecf5+_0x5b6b3d(0x92c))['join']('')+'</select>';break;default:_0xc8565a='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x5b6b3d(0x9c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x5b6b3d(0x7bb)][_0x5b6b3d(0x1eb)]+_0x5b6b3d(0x16e)+localTeamPlayers[_0x5b6b3d(0x47c)](',\x20')+_0x5b6b3d(0xb26)+(localQuestionIndex+0x1)+'.\x20'+_0x5b0c65+_0x5b6b3d(0x1ea)+(_0x54c678[_0x5b6b3d(0x25f)]?_0x5b6b3d(0x325)+_0x54c678[_0x5b6b3d(0x25f)]+_0x5b6b3d(0x67d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0xc8565a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x5b6b3d(0x68d)][_0x5b6b3d(0x49f)](_0x5b6b3d(0xbc7));if(window[_0x5b6b3d(0x649)])MathJax['typesetPromise']([studentQuizArea]);document[_0x5b6b3d(0x6ce)]('submit-group-answer-btn')['addEventListener'](_0x5b6b3d(0x58a),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x25aa7c,_0x45dc14=null,_0x3b6e00,_0x4375e5=null,_0x231326=![]){const _0x54380f=_0x314764,_0x233bb4=document[_0x54380f(0x6ce)](_0x54380f(0xc0d));_0x233bb4&&_0x233bb4[_0x54380f(0x5fc)]({'behavior':_0x54380f(0x8b7),'block':'center'}),generateQuiz(_0x25aa7c,_0x45dc14,null,null,!![],_0x3b6e00,_0x4375e5,_0x231326);}function handleGenerateAndShowLesson(_0x1ef905,_0x24f6fc){const _0x33eab3=_0x314764,_0x3d642b=document['getElementById'](_0x33eab3(0x34c)),_0x287d78=document[_0x33eab3(0x6ce)]('lesson-view-title'),_0x44b804=document[_0x33eab3(0x6ce)](_0x33eab3(0x5a0)),_0x326f8f=document[_0x33eab3(0x6ce)](_0x33eab3(0x271));[_0x33eab3(0x829),'memoryContent','applicationContent',_0x33eab3(0x336)][_0x33eab3(0x97e)](_0x3a0fba=>{const _0x136476=_0x33eab3,_0x24712d=document[_0x136476(0x6ce)](_0x3a0fba)[_0x136476(0x613)];_0x24712d&&(_0x24712d[_0x136476(0x58c)]['display']=_0x136476(0x45a));}),_0x287d78['textContent']='กำลังสร้างบทเรียน:\x20'+_0x1ef905,_0x326f8f['classList'][_0x33eab3(0x8f4)](_0x33eab3(0xbc7)),_0x44b804[_0x33eab3(0x68d)]['remove'](_0x33eab3(0xbc7)),_0x3d642b[_0x33eab3(0x68d)]['remove']('hidden'),generateLesson(_0x1ef905,_0x24f6fc)[_0x33eab3(0x5cb)](_0x6486cb=>{const _0x1e0514=_0x33eab3;console['error'](_0x1e0514(0x344),_0x6486cb),showMessage(_0x1e0514(0xbcf)),_0x3d642b[_0x1e0514(0x68d)][_0x1e0514(0x8f4)](_0x1e0514(0xbc7));});}function handlePointerDown(_0x501e4c){const _0x5a8519=_0x314764;_0x501e4c[_0x5a8519(0x668)]();const _0x2fca21=scratchpadCtx['canvas'],_0x235cd3=_0x2fca21[_0x5a8519(0xa53)](),_0x317515=_0x501e4c['pointerType']||(_0x501e4c[_0x5a8519(0x77b)]?_0x5a8519(0x5e4):_0x5a8519(0x2e0));if(_0x317515===_0x5a8519(0x701)||_0x317515===_0x5a8519(0x2e0)){if(_0x501e4c['pointerType']===_0x5a8519(0x2e0)&&_0x501e4c[_0x5a8519(0x7a0)]!==0x0){_0x501e4c[_0x5a8519(0x7a0)]===0x1&&(isMousePanning=!![],panStart={'x':_0x501e4c[_0x5a8519(0x733)],'y':_0x501e4c['clientY']},_0x2fca21[_0x5a8519(0x58c)][_0x5a8519(0x2f1)]='grabbing');return;}activeTool===_0x5a8519(0x869)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x52fe74=getTransformedPoint(_0x501e4c['clientX']-_0x235cd3[_0x5a8519(0x4dd)],_0x501e4c[_0x5a8519(0x507)]-_0x235cd3['top']);let _0x4e40ce={'tool':activeTool,'points':[_0x52fe74]};if(activeTool==='highlighter')_0x4e40ce['color']=scratchpadHighlighterColor,_0x4e40ce['size']=scratchpadHighlighterSize;else activeTool==='trail'?(_0x4e40ce[_0x5a8519(0x8e2)]=scratchpadPenColor,_0x4e40ce[_0x5a8519(0xa6f)]=scratchpadPenSize):(_0x4e40ce['color']=scratchpadPenColor,_0x4e40ce[_0x5a8519(0xa6f)]=scratchpadPenSize);currentStroke=_0x4e40ce;}else _0x501e4c[_0x5a8519(0x77b)]&&(_0x501e4c[_0x5a8519(0x77b)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x501e4c[_0x5a8519(0x77b)][0x0][_0x5a8519(0x733)],'y':_0x501e4c[_0x5a8519(0x77b)][0x0][_0x5a8519(0x507)]},{'x':_0x501e4c[_0x5a8519(0x77b)][0x1][_0x5a8519(0x733)],'y':_0x501e4c['touches'][0x1][_0x5a8519(0x507)]}),initialPinchDistance=getDistance({'x':_0x501e4c[_0x5a8519(0x77b)][0x0][_0x5a8519(0x733)],'y':_0x501e4c['touches'][0x0][_0x5a8519(0x507)]},{'x':_0x501e4c[_0x5a8519(0x77b)][0x1]['clientX'],'y':_0x501e4c[_0x5a8519(0x77b)][0x1][_0x5a8519(0x507)]})));}function animateTrail(){const _0x596474=_0x314764,_0x525ae6=Date[_0x596474(0x72c)]();let _0x51bd4f=![];for(let _0x4359da=strokes['length']-0x1;_0x4359da>=0x0;_0x4359da--){const _0x518736=strokes[_0x4359da];if(_0x518736[_0x596474(0x9e6)]==='trail'&&_0x518736['fadeStartTime']){const _0x394a41=_0x525ae6-_0x518736['fadeStartTime'];_0x394a41>=TRAIL_DURATION?strokes['splice'](_0x4359da,0x1):(_0x518736[_0x596474(0x5fb)]=0x1-_0x394a41/TRAIL_DURATION,_0x51bd4f=!![]);}}redrawScratchpad(),_0x51bd4f?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x327ec8){const _0x808a54=_0x314764;if(!_0x327ec8||_0x327ec8[_0x808a54(0x216)][_0x808a54(0x1eb)]<0x1)return;scratchpadCtx[_0x808a54(0x3c1)](),scratchpadCtx[_0x808a54(0x283)]=_0x808a54(0x522),scratchpadCtx[_0x808a54(0x57e)]=_0x808a54(0x522);if(_0x327ec8['tool']===_0x808a54(0x869)){const _0x47ba6b=_0x327ec8[_0x808a54(0xa6f)]/scratchpadScale;scratchpadCtx[_0x808a54(0x67e)]=_0x327ec8[_0x808a54(0x5fb)]??0x1,scratchpadCtx[_0x808a54(0x782)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x808a54(0xb73)]=_0x47ba6b*0x3,scratchpadCtx[_0x808a54(0x9be)]=_0x808a54(0x4ef),scratchpadCtx[_0x808a54(0x90e)]=_0x47ba6b*2.5,scratchpadCtx[_0x808a54(0x54f)](),scratchpadCtx['moveTo'](_0x327ec8[_0x808a54(0x216)][0x0]['x'],_0x327ec8[_0x808a54(0x216)][0x0]['y']);for(let _0x23ef1e=0x1;_0x23ef1e<_0x327ec8['points'][_0x808a54(0x1eb)]-0x1;_0x23ef1e++){const _0x28e457=getMidpoint(_0x327ec8[_0x808a54(0x216)][_0x23ef1e],_0x327ec8[_0x808a54(0x216)][_0x23ef1e+0x1]);scratchpadCtx[_0x808a54(0x894)](_0x327ec8[_0x808a54(0x216)][_0x23ef1e]['x'],_0x327ec8['points'][_0x23ef1e]['y'],_0x28e457['x'],_0x28e457['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x808a54(0x782)]=_0x808a54(0x8bf),scratchpadCtx[_0x808a54(0xb73)]=0x0,scratchpadCtx[_0x808a54(0x9be)]='#FFFFFF',scratchpadCtx[_0x808a54(0x90e)]=_0x47ba6b,scratchpadCtx[_0x808a54(0xaa5)](),scratchpadCtx[_0x808a54(0x87a)]();}else{if(_0x327ec8['tool']==='highlighter'){scratchpadCtx[_0x808a54(0x79d)]=_0x808a54(0x19c),scratchpadCtx[_0x808a54(0x9be)]=_0x327ec8[_0x808a54(0x8e2)],scratchpadCtx['lineWidth']=_0x327ec8[_0x808a54(0xa6f)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x808a54(0xa03)](_0x327ec8[_0x808a54(0x216)][0x0]['x'],_0x327ec8[_0x808a54(0x216)][0x0]['y']);for(let _0x177831=0x1;_0x177831<_0x327ec8[_0x808a54(0x216)][_0x808a54(0x1eb)]-0x1;_0x177831++){const _0x3318a0=getMidpoint(_0x327ec8[_0x808a54(0x216)][_0x177831],_0x327ec8[_0x808a54(0x216)][_0x177831+0x1]);scratchpadCtx[_0x808a54(0x894)](_0x327ec8[_0x808a54(0x216)][_0x177831]['x'],_0x327ec8[_0x808a54(0x216)][_0x177831]['y'],_0x3318a0['x'],_0x3318a0['y']);}scratchpadCtx[_0x808a54(0xaa5)](),scratchpadCtx[_0x808a54(0x87a)]();}else{scratchpadCtx['globalCompositeOperation']=_0x327ec8[_0x808a54(0x9e6)]===_0x808a54(0x757)?'destination-out':_0x808a54(0x896),scratchpadCtx[_0x808a54(0x9be)]=_0x327ec8['color'],scratchpadCtx[_0x808a54(0x90e)]=_0x327ec8[_0x808a54(0xa6f)],scratchpadCtx[_0x808a54(0x54f)](),scratchpadCtx[_0x808a54(0xa03)](_0x327ec8[_0x808a54(0x216)][0x0]['x'],_0x327ec8[_0x808a54(0x216)][0x0]['y']);for(let _0x3f7ebc=0x1;_0x3f7ebc<_0x327ec8[_0x808a54(0x216)][_0x808a54(0x1eb)]-0x1;_0x3f7ebc++){const _0x3a40fb=getMidpoint(_0x327ec8['points'][_0x3f7ebc],_0x327ec8[_0x808a54(0x216)][_0x3f7ebc+0x1]);scratchpadCtx['quadraticCurveTo'](_0x327ec8[_0x808a54(0x216)][_0x3f7ebc]['x'],_0x327ec8['points'][_0x3f7ebc]['y'],_0x3a40fb['x'],_0x3a40fb['y']);}scratchpadCtx[_0x808a54(0xaa5)](),scratchpadCtx[_0x808a54(0x87a)]();}}scratchpadCtx[_0x808a54(0x43a)]();}function handlePointerMove(_0x2b8a60){const _0xe37139=_0x314764;_0x2b8a60[_0xe37139(0x668)]();const _0x282110=scratchpadCtx['canvas'],_0x28f803=_0x282110[_0xe37139(0xa53)]();if(_0x2b8a60[_0xe37139(0x77b)]){if(_0x2b8a60[_0xe37139(0x77b)]['length']===0x1&&isDrawingOnScratchpad){const _0x557979=getTransformedPoint(_0x2b8a60['touches'][0x0][_0xe37139(0x733)]-_0x28f803[_0xe37139(0x4dd)],_0x2b8a60['touches'][0x0][_0xe37139(0x507)]-_0x28f803[_0xe37139(0xa59)]);currentStroke['points'][_0xe37139(0x403)](_0x557979),redrawScratchpad();}else{if(_0x2b8a60[_0xe37139(0x77b)]['length']===0x2&&isPanning){const _0x14140f=getDistance({'x':_0x2b8a60['touches'][0x0][_0xe37139(0x733)],'y':_0x2b8a60['touches'][0x0]['clientY']},{'x':_0x2b8a60[_0xe37139(0x77b)][0x1][_0xe37139(0x733)],'y':_0x2b8a60[_0xe37139(0x77b)][0x1][_0xe37139(0x507)]}),_0x5915c1=getMidpoint({'x':_0x2b8a60[_0xe37139(0x77b)][0x0][_0xe37139(0x733)],'y':_0x2b8a60[_0xe37139(0x77b)][0x0][_0xe37139(0x507)]},{'x':_0x2b8a60[_0xe37139(0x77b)][0x1][_0xe37139(0x733)],'y':_0x2b8a60['touches'][0x1]['clientY']}),_0x4b92c8=_0x14140f/ initialPinchDistance,_0x686452=Math['min'](Math[_0xe37139(0x2c2)](scratchpadScale*_0x4b92c8,MIN_SCALE),MAX_SCALE),_0x3be33a=_0x5915c1['x']-panStart['x'],_0xc1b9ac=_0x5915c1['y']-panStart['y'];scratchpadOffset['x']=_0x5915c1['x']-(_0x5915c1['x']-scratchpadOffset['x'])*(_0x686452/scratchpadScale),scratchpadOffset['y']=_0x5915c1['y']-(_0x5915c1['y']-scratchpadOffset['y'])*(_0x686452/scratchpadScale),scratchpadOffset['x']+=_0x3be33a,scratchpadOffset['y']+=_0xc1b9ac,scratchpadScale=_0x686452,initialPinchDistance=_0x14140f,panStart=_0x5915c1,redrawScratchpad();}}}else{if(isMousePanning){const _0x4ca4ae=_0x2b8a60['clientX']-panStart['x'],_0x26e177=_0x2b8a60[_0xe37139(0x507)]-panStart['y'];scratchpadOffset['x']+=_0x4ca4ae,scratchpadOffset['y']+=_0x26e177,panStart={'x':_0x2b8a60[_0xe37139(0x733)],'y':_0x2b8a60[_0xe37139(0x507)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x2d82a8=getTransformedPoint(_0x2b8a60[_0xe37139(0x733)]-_0x28f803[_0xe37139(0x4dd)],_0x2b8a60[_0xe37139(0x507)]-_0x28f803[_0xe37139(0xa59)]);currentStroke[_0xe37139(0x216)]['push'](_0x2d82a8),redrawScratchpad();}}}}function handlePointerUp(_0x52411e){const _0x39204b=_0x314764;_0x52411e['preventDefault']();const _0x512f24=scratchpadCtx[_0x39204b(0x658)];isMousePanning&&(isMousePanning=![],_0x512f24[_0x39204b(0x58c)][_0x39204b(0x2f1)]=_0x39204b(0xbf8)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x39204b(0x216)][_0x39204b(0x1eb)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x39204b(0x9e6)]===_0x39204b(0x869)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x31044d=_0x39204b,_0x498762=strokes[_0x31044d(0x595)](_0x5ad893=>_0x5ad893['tool']===_0x31044d(0x869)&&!_0x5ad893[_0x31044d(0x82d)]);if(_0x498762[_0x31044d(0x1eb)]>0x0){const _0x1ebb9b=Date[_0x31044d(0x72c)]();_0x498762[_0x31044d(0x97e)](_0x23068f=>_0x23068f[_0x31044d(0x82d)]=_0x1ebb9b),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x445796){const _0x26aabe=_0x314764;_0x445796[_0x26aabe(0x668)]();const _0x34c6c8=_0x445796['deltaY']*-0.005,_0x1af907=Math[_0x26aabe(0x556)](Math[_0x26aabe(0x2c2)](scratchpadScale+_0x34c6c8,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x445796['clientX']-(_0x445796[_0x26aabe(0x733)]-scratchpadOffset['x'])*(_0x1af907/scratchpadScale),scratchpadOffset['y']=_0x445796['clientY']-(_0x445796[_0x26aabe(0x507)]-scratchpadOffset['y'])*(_0x1af907/scratchpadScale),scratchpadScale=_0x1af907,redrawScratchpad();}function undo(){const _0x53f00d=_0x314764;strokes[_0x53f00d(0x1eb)]>0x0&&(redoStrokes[_0x53f00d(0x403)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x526b1c=_0x314764;redoStrokes[_0x526b1c(0x1eb)]>0x0&&(strokes[_0x526b1c(0x403)](redoStrokes[_0x526b1c(0x91d)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2a4115=_0x314764;document[_0x2a4115(0x6ce)](_0x2a4115(0x716))['disabled']=strokes[_0x2a4115(0x1eb)]===0x0,document[_0x2a4115(0x6ce)](_0x2a4115(0x25a))['disabled']=redoStrokes[_0x2a4115(0x1eb)]===0x0;}function openScratchpad(_0x1fd724,_0x197407){const _0x355a63=_0x314764,_0x252748=document[_0x355a63(0x6ce)](_0x355a63(0x6d8)),_0x31680d=document[_0x355a63(0x6ce)](_0x355a63(0xa51)),_0x4f4365=document[_0x355a63(0x6ce)]('scratchpad-options'),_0x4bcab4=document[_0x355a63(0x6ce)](_0x355a63(0x536));_0x31680d[_0x355a63(0x9c5)]=_0x1fd724[_0x355a63(0x458)]||_0x1fd724[_0x355a63(0x41e)],_0x4f4365['innerHTML']=_0x197407['map']((_0x57d0a5,_0x4f0adb)=>_0x355a63(0x2d8)+String['fromCharCode'](0x41+_0x4f0adb)+'.\x20'+_0x57d0a5+'</div>')[_0x355a63(0x47c)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x252748[_0x355a63(0x68d)]['remove'](_0x355a63(0xbc7)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x355a63(0x649)])MathJax[_0x355a63(0x966)]([_0x31680d,_0x4f4365]);}function openBlueprintQuizSettings(){const _0x18d2fa=_0x314764,_0x4091cc=document[_0x18d2fa(0x6ce)]('blueprint-settings-modal'),_0x2a272a=blueprintPageSettings||(currentProjectData?currentProjectData[_0x18d2fa(0xbd0)]:{})||{};document[_0x18d2fa(0x6ce)](_0x18d2fa(0x4a1))[_0x18d2fa(0x3e6)]=_0x2a272a[_0x18d2fa(0xa1e)]||document[_0x18d2fa(0x6ce)]('quiz-type-select')[_0x18d2fa(0x3e6)],document[_0x18d2fa(0x6ce)](_0x18d2fa(0x3d5))[_0x18d2fa(0x9c5)]=document[_0x18d2fa(0x6ce)](_0x18d2fa(0x714))[_0x18d2fa(0x9c5)],document[_0x18d2fa(0x6ce)](_0x18d2fa(0x3d5))[_0x18d2fa(0x3e6)]=_0x2a272a[_0x18d2fa(0xb72)]||document['getElementById'](_0x18d2fa(0x714))[_0x18d2fa(0x3e6)],document[_0x18d2fa(0x6ce)]('bp-modal-question-complexity-select')[_0x18d2fa(0x9c5)]=document[_0x18d2fa(0x6ce)](_0x18d2fa(0xbd6))[_0x18d2fa(0x9c5)],document[_0x18d2fa(0x6ce)]('bp-modal-question-complexity-select')['value']=_0x2a272a['complexityValue']||document[_0x18d2fa(0x6ce)](_0x18d2fa(0xbd6))[_0x18d2fa(0x3e6)],document['getElementById']('bp-modal-num-questions')[_0x18d2fa(0x3e6)]=_0x2a272a[_0x18d2fa(0x28b)]||document[_0x18d2fa(0x6ce)](_0x18d2fa(0x971))[_0x18d2fa(0x3e6)],document[_0x18d2fa(0x6ce)](_0x18d2fa(0x8ba))[_0x18d2fa(0x3e6)]=_0x2a272a[_0x18d2fa(0xaa1)]||document[_0x18d2fa(0x6ce)]('passing-score-input')[_0x18d2fa(0x3e6)],document[_0x18d2fa(0x6ce)](_0x18d2fa(0x872))[_0x18d2fa(0x3e6)]=_0x2a272a[_0x18d2fa(0x1f4)]||document[_0x18d2fa(0x6ce)](_0x18d2fa(0x647))[_0x18d2fa(0x3e6)],document[_0x18d2fa(0x6ce)](_0x18d2fa(0xb3d))[_0x18d2fa(0x3e6)]=_0x2a272a['shuffle']||document[_0x18d2fa(0x6ce)]('shuffle-setting-select')[_0x18d2fa(0x3e6)],document[_0x18d2fa(0x6ce)](_0x18d2fa(0x171))[_0x18d2fa(0x5dc)]=_0x2a272a['includeImages']||document[_0x18d2fa(0x6ce)](_0x18d2fa(0x6ad))['checked'],_0x4091cc[_0x18d2fa(0x68d)][_0x18d2fa(0x49f)](_0x18d2fa(0xbc7));}function handleSaveBlueprintPageSettings(){const _0x519e75=_0x314764;blueprintPageSettings={'quizType':document[_0x519e75(0x6ce)](_0x519e75(0x4a1))[_0x519e75(0x3e6)],'difficultyValue':document[_0x519e75(0x6ce)]('bp-modal-difficulty-level-select')[_0x519e75(0x3e6)],'complexityValue':document[_0x519e75(0x6ce)](_0x519e75(0x305))[_0x519e75(0x3e6)],'numQuestions':document['getElementById']('bp-modal-num-questions')[_0x519e75(0x3e6)],'passingScore':document[_0x519e75(0x6ce)]('bp-modal-passing-score-input')[_0x519e75(0x3e6)],'numChoices':document[_0x519e75(0x6ce)](_0x519e75(0x872))[_0x519e75(0x3e6)],'shuffle':document['getElementById']('bp-modal-shuffle-setting-select')[_0x519e75(0x3e6)],'includeImages':document[_0x519e75(0x6ce)](_0x519e75(0x171))[_0x519e75(0x5dc)]},showMessage(_0x519e75(0x23e)),document[_0x519e75(0x6ce)]('blueprint-settings-modal')[_0x519e75(0x68d)][_0x519e75(0x8f4)](_0x519e75(0xbc7));}function initializeScratchpadCanvas(){const _0x15c667=_0x314764,_0x4e15ad=document[_0x15c667(0x6ce)](_0x15c667(0x5e8)),_0xdfa295=document[_0x15c667(0x612)](_0x15c667(0xb74));if(!_0x4e15ad||!_0xdfa295)return;scratchpadCtx=_0x4e15ad[_0x15c667(0x5d8)]('2d',{'willReadFrequently':!![]});const _0x5b77f4=window[_0x15c667(0xc19)]||0x1,_0x3ea970=_0xdfa295[_0x15c667(0xa53)]();_0x4e15ad['width']=_0x3ea970['width']*_0x5b77f4,_0x4e15ad['height']=_0x3ea970['height']*_0x5b77f4,_0x4e15ad['style'][_0x15c667(0x239)]=_0x3ea970[_0x15c667(0x239)]+'px',_0x4e15ad[_0x15c667(0x58c)][_0x15c667(0x9f8)]=_0x3ea970[_0x15c667(0x9f8)]+'px',scratchpadCtx[_0x15c667(0x204)](_0x5b77f4,_0x5b77f4),scratchpadCtx[_0x15c667(0x283)]='round',scratchpadCtx[_0x15c667(0x57e)]=_0x15c667(0x522),_0x4e15ad[_0x15c667(0x5af)](_0x15c667(0x225),handlePointerDown),_0x4e15ad[_0x15c667(0x5af)](_0x15c667(0x5c9),handlePointerMove),_0x4e15ad[_0x15c667(0x5af)]('pointerup',handlePointerUp),_0x4e15ad[_0x15c667(0x5af)]('pointercancel',handlePointerUp),_0x4e15ad[_0x15c667(0x5af)](_0x15c667(0xa4b),handleWheel),_0x4e15ad['removeEventListener'](_0x15c667(0x329),handlePointerDown),_0x4e15ad[_0x15c667(0x5af)](_0x15c667(0x8c9),handlePointerMove),_0x4e15ad[_0x15c667(0x5af)](_0x15c667(0x9d9),handlePointerUp),_0x4e15ad[_0x15c667(0x9cd)]('pointerdown',handlePointerDown),_0x4e15ad[_0x15c667(0x9cd)](_0x15c667(0x5c9),handlePointerMove),_0x4e15ad[_0x15c667(0x9cd)](_0x15c667(0xa60),handlePointerUp),_0x4e15ad[_0x15c667(0x9cd)](_0x15c667(0x7ce),handlePointerUp),_0x4e15ad[_0x15c667(0x9cd)](_0x15c667(0xa4b),handleWheel,{'passive':![]}),_0x4e15ad[_0x15c667(0x9cd)](_0x15c667(0x329),handlePointerDown,{'passive':![]}),_0x4e15ad[_0x15c667(0x9cd)](_0x15c667(0x8c9),handlePointerMove,{'passive':![]}),_0x4e15ad[_0x15c667(0x9cd)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4f9fc4=_0x314764,_0x5ed2a5=document[_0x4f9fc4(0x6ce)](_0x4f9fc4(0x6d8)),_0x49013d=document[_0x4f9fc4(0x6ce)](_0x4f9fc4(0x536));_0x49013d[_0x4f9fc4(0x9c5)]=_0x4f9fc4(0x6b0)+scratchpadHighlighterSize+_0x4f9fc4(0x94f);const _0x2dd697=document['getElementById'](_0x4f9fc4(0xbc4)),_0x5265ba=document[_0x4f9fc4(0x6ce)](_0x4f9fc4(0x4e9)),_0x29ebd7=document['getElementById'](_0x4f9fc4(0xb0d)),_0x3f1594=document[_0x4f9fc4(0x6ce)]('highlighter-tool-btn'),_0x50152e=document[_0x4f9fc4(0x6ce)](_0x4f9fc4(0xb27)),_0x1ff4fb=document[_0x4f9fc4(0x6ce)](_0x4f9fc4(0xae6)),_0x26f817=[_0x2dd697,_0x5265ba,_0x29ebd7,_0x3f1594];document['getElementById'](_0x4f9fc4(0x6bd))[_0x4f9fc4(0x9cd)](_0x4f9fc4(0x58a),()=>_0x5ed2a5[_0x4f9fc4(0x68d)][_0x4f9fc4(0x8f4)](_0x4f9fc4(0xbc7))),document[_0x4f9fc4(0x6ce)](_0x4f9fc4(0xac8))['addEventListener'](_0x4f9fc4(0x58a),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x4f9fc4(0x683))[_0x4f9fc4(0x9cd)](_0x4f9fc4(0x58a),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x4f9fc4(0x716))[_0x4f9fc4(0x9cd)](_0x4f9fc4(0x58a),undo),document[_0x4f9fc4(0x6ce)](_0x4f9fc4(0x25a))[_0x4f9fc4(0x9cd)](_0x4f9fc4(0x58a),redo);const _0x504d81=_0x43f4d0=>{const _0x31343b=_0x4f9fc4;_0x26f817['forEach'](_0x14b8f7=>_0x14b8f7['classList']['remove']('active')),_0x43f4d0[_0x31343b(0x68d)][_0x31343b(0x8f4)](_0x31343b(0x7e3));const _0x263b14=_0x43f4d0===_0x3f1594;_0x50152e['classList'][_0x31343b(0x8ff)](_0x31343b(0xbc7),_0x263b14),_0x1ff4fb['classList']['toggle'](_0x31343b(0xbc7),!_0x263b14);};_0x2dd697['addEventListener'](_0x4f9fc4(0x58a),()=>{const _0x375d60=_0x4f9fc4;activeTool=_0x375d60(0x701),_0x504d81(_0x2dd697);}),_0x5265ba[_0x4f9fc4(0x9cd)](_0x4f9fc4(0x58a),()=>{const _0x137d12=_0x4f9fc4;activeTool=_0x137d12(0x757),_0x504d81(_0x5265ba);}),_0x29ebd7[_0x4f9fc4(0x9cd)](_0x4f9fc4(0x58a),()=>{const _0x3cf8ab=_0x4f9fc4;activeTool=_0x3cf8ab(0x869),_0x504d81(_0x29ebd7);}),_0x3f1594[_0x4f9fc4(0x9cd)](_0x4f9fc4(0x58a),()=>{const _0x1ef034=_0x4f9fc4;activeTool=_0x1ef034(0xa0b),_0x504d81(_0x3f1594);}),_0x50152e[_0x4f9fc4(0x3e7)](_0x4f9fc4(0x53b))[_0x4f9fc4(0x97e)](_0x5c99d2=>{const _0x2339f1=_0x4f9fc4;_0x5c99d2[_0x2339f1(0x9cd)](_0x2339f1(0x58a),_0x29dac3=>{const _0x16093c=_0x2339f1;scratchpadPenSize=parseInt(_0x29dac3[_0x16093c(0x3cb)][_0x16093c(0x635)]['size'],0xa),_0x50152e[_0x16093c(0x3e7)](_0x16093c(0x53b))[_0x16093c(0x97e)](_0x4fe233=>_0x4fe233['classList'][_0x16093c(0x49f)]('active')),_0x29dac3[_0x16093c(0x3cb)]['classList'][_0x16093c(0x8f4)](_0x16093c(0x7e3));});}),_0x50152e['querySelectorAll'](_0x4f9fc4(0x308))[_0x4f9fc4(0x97e)](_0x4a25ba=>{const _0x4cfec5=_0x4f9fc4;_0x4a25ba[_0x4cfec5(0x9cd)](_0x4cfec5(0x58a),_0x41d0d9=>{const _0x383a09=_0x4cfec5;scratchpadPenColor=_0x41d0d9['target'][_0x383a09(0x635)][_0x383a09(0x8e2)],_0x50152e[_0x383a09(0x3e7)](_0x383a09(0x308))[_0x383a09(0x97e)](_0x3f9d69=>_0x3f9d69[_0x383a09(0x68d)]['remove'](_0x383a09(0x7e3))),_0x41d0d9[_0x383a09(0x3cb)][_0x383a09(0x68d)][_0x383a09(0x8f4)](_0x383a09(0x7e3));});}),_0x1ff4fb[_0x4f9fc4(0x3e7)](_0x4f9fc4(0x817))[_0x4f9fc4(0x97e)](_0x5e7cd7=>{const _0x19b083=_0x4f9fc4;_0x5e7cd7['addEventListener'](_0x19b083(0x58a),_0xd3a2f2=>{const _0xbb444d=_0x19b083;scratchpadHighlighterColor=_0xd3a2f2['target']['dataset']['color'],_0x1ff4fb[_0xbb444d(0x3e7)](_0xbb444d(0x817))['forEach'](_0x2479ed=>_0x2479ed[_0xbb444d(0x68d)]['remove'](_0xbb444d(0x7e3))),_0xd3a2f2[_0xbb444d(0x3cb)][_0xbb444d(0x68d)][_0xbb444d(0x8f4)](_0xbb444d(0x7e3));});});const _0x6886dc=document[_0x4f9fc4(0x6ce)](_0x4f9fc4(0x6c6)),_0x4bb116=document['getElementById'](_0x4f9fc4(0x1f2));_0x6886dc[_0x4f9fc4(0x9cd)](_0x4f9fc4(0xa57),_0x47593e=>{const _0x1861bb=_0x4f9fc4,_0xcb11a4=parseInt(_0x47593e[_0x1861bb(0x3cb)][_0x1861bb(0x3e6)],0xa);scratchpadHighlighterSize=_0xcb11a4,_0x4bb116[_0x1861bb(0xa88)]=_0xcb11a4;}),window[_0x4f9fc4(0x9cd)]('resize',()=>{const _0x546e76=_0x4f9fc4;!_0x5ed2a5[_0x546e76(0x68d)][_0x546e76(0x7da)](_0x546e76(0xbc7))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x314764(0x617),'name':_0x314764(0x3c8),'description':_0x314764(0x89f),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x314764(0x505),'name':'เซียนสมองไว','description':_0x314764(0x3b6),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':'on_fire','name':_0x314764(0x947),'description':_0x314764(0x4db),'icon':_0x314764(0x207)},'FIRST_TRY_ACE':{'id':_0x314764(0x717),'name':_0x314764(0xabb),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x314764(0x888)},'COMEBACK_KING':{'id':'comeback_king','name':_0x314764(0x332),'description':_0x314764(0x8e5),'icon':_0x314764(0x195)},'SPECIALIST':{'id':'specialist','name':_0x314764(0x941),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x314764(0x848),'name':'ผู้ไม่ยอมแพ้','description':_0x314764(0x188),'icon':_0x314764(0x929)}},firebaseConfig={'apiKey':_0x314764(0x42c),'authDomain':_0x314764(0xa6b),'projectId':'ai-quiz-app-aefee','storageBucket':_0x314764(0x988),'messagingSenderId':_0x314764(0x448),'appId':_0x314764(0x794),'measurementId':_0x314764(0x71f)},appId=typeof __app_id!==_0x314764(0x362)?__app_id:_0x314764(0x6b9),adminView=document[_0x314764(0x6ce)]('admin-view'),studentView=document[_0x314764(0x6ce)](_0x314764(0xbee)),projectDashboardView=document[_0x314764(0x6ce)](_0x314764(0x5e6)),projectDetailView=document[_0x314764(0x6ce)](_0x314764(0x1e3)),quizResultsView=document[_0x314764(0x6ce)](_0x314764(0x93d)),projectList=document[_0x314764(0x6ce)]('project-list'),noProjectsMsg=document['getElementById'](_0x314764(0x6eb)),projectTitle=document['getElementById'](_0x314764(0x43d)),projectIdDisplay=document['getElementById'](_0x314764(0x78d)),studentList=document[_0x314764(0x6ce)](_0x314764(0x9aa)),messageModal=document['getElementById']('message-modal'),modalMessage=document['getElementById'](_0x314764(0x2a3)),createProjectModal=document[_0x314764(0x6ce)](_0x314764(0x88f)),adminPasswordModal=document[_0x314764(0x6ce)](_0x314764(0x673)),confirmationModal=document['getElementById'](_0x314764(0xb5b)),userIdDisplay=document[_0x314764(0x6ce)](_0x314764(0x6df)),topicTab=document[_0x314764(0x6ce)](_0x314764(0x2d0)),textTab=document['getElementById'](_0x314764(0x1cb)),topicInputArea=document[_0x314764(0x6ce)](_0x314764(0x33c)),textInputArea=document[_0x314764(0x6ce)](_0x314764(0x322)),manageTab=document[_0x314764(0x6ce)](_0x314764(0x54b)),resultsTab=document[_0x314764(0x6ce)](_0x314764(0x653)),leaderboardTab=document[_0x314764(0x6ce)]('leaderboard-tab'),manageTabContent=document[_0x314764(0x6ce)](_0x314764(0x4a3)),resultsTabContent=document[_0x314764(0x6ce)]('results-tab-content'),leaderboardTabContent=document['getElementById'](_0x314764(0xc1a)),projectQuizzesList=document[_0x314764(0x6ce)](_0x314764(0x708)),fileTab=document[_0x314764(0x6ce)](_0x314764(0x6db)),fileInputArea=document[_0x314764(0x6ce)](_0x314764(0x36b)),fileUploadInput=document[_0x314764(0x6ce)](_0x314764(0x333)),worksheetTab=document[_0x314764(0x6ce)]('worksheet-tab'),worksheetInputArea=document[_0x314764(0x6ce)](_0x314764(0xad3)),generateWorksheetBtn=document[_0x314764(0x6ce)]('generate-worksheet-btn'),studentInitialView=document[_0x314764(0x6ce)](_0x314764(0x8c6)),studentNameSelectionView=document['getElementById'](_0x314764(0xa79)),studentQuizArea=document[_0x314764(0x6ce)](_0x314764(0x6da)),studentResultArea=document['getElementById']('student-result-area'),studentReadingArea=document[_0x314764(0x6ce)]('student-reading-area'),loadQuizBtn=document[_0x314764(0x6ce)]('load-quiz-btn'),startQuizBtn=document[_0x314764(0x6ce)](_0x314764(0x702)),studentJoinGameView=document[_0x314764(0x6ce)](_0x314764(0x53a)),presentationModal=document[_0x314764(0x6ce)](_0x314764(0x9e7)),renameQuizModal=document[_0x314764(0x6ce)](_0x314764(0x6e0)),moveQuizModal=document['getElementById'](_0x314764(0xb76)),quizSettingsModal=document['getElementById'](_0x314764(0x979)),quizStatusModal=document[_0x314764(0x6ce)](_0x314764(0x71b)),liveGameView=document['getElementById'](_0x314764(0x7df));function handleFixLessonLatex(){const _0x385600=_0x314764,_0x4d23ed=document[_0x385600(0x6ce)]('lesson-view-content');if(!_0x4d23ed){showMessage(_0x385600(0x9ed));return;}const _0x5849be=_0x4d23ed[_0x385600(0x3e7)](['.ai-content\x20p',_0x385600(0x443),_0x385600(0x44d),'.ai-content\x20td','.ai-content\x20h3'][_0x385600(0x47c)](','));let _0x247d3d=0x0;const _0x2d48eb=_0x408cdc=>_0x408cdc[_0x385600(0xa88)]||'',_0x47f618=(_0x49c496,_0x1260e9)=>{const _0x5bacf3=_0x385600;if(_0x49c496[_0x5bacf3(0x612)]&&_0x49c496[_0x5bacf3(0x612)](_0x5bacf3(0x294)))return;_0x49c496[_0x5bacf3(0xa88)]=_0x1260e9;},_0x2091fa=_0x511772=>_0x511772['replace'](/\u00A0/g,'\x20')[_0x385600(0xa99)](/\u200B/g,'')[_0x385600(0xa99)](/\r\n?/g,'\x0a'),_0x48d6b8=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x28d24b=_0x33cea9=>{const _0x4b786b=_0x385600;let _0x26c902=_0x33cea9[_0x4b786b(0x1b6)]();const _0x38ebf0=['frac','dfrac','tfrac',_0x4b786b(0x3d9),_0x4b786b(0xb56),_0x4b786b(0x564),_0x4b786b(0x246),_0x4b786b(0xa9a),_0x4b786b(0x3d6),_0x4b786b(0x8ed),'le','ge',_0x4b786b(0x616),'pm',_0x4b786b(0xb07),_0x4b786b(0xa96),_0x4b786b(0x8b6),'tan','log','ln',_0x4b786b(0x68c),'prod','binom',_0x4b786b(0x4dd),_0x4b786b(0x523),_0x4b786b(0x868),_0x4b786b(0x228),_0x4b786b(0x606),_0x4b786b(0x63e)];_0x38ebf0[_0x4b786b(0x97e)](_0xc90441=>{const _0x243497=_0x4b786b;_0x26c902=_0x26c902[_0x243497(0xa99)](new RegExp(_0x243497(0x8b4)+_0xc90441+'\x5cb','g'),(_0x3da026,_0x46d47b)=>_0x46d47b+'\x5c'+_0xc90441);});const _0x25e150=[[/×/g,_0x4b786b(0xa1f)],[/·/g,'\x5ccdot'],[/÷/g,_0x4b786b(0xaf5)],[/≤/g,_0x4b786b(0x5ef)],[/≥/g,_0x4b786b(0x8f1)],[/≠/g,'\x5cneq'],[/±/g,_0x4b786b(0x86a)],[/∑/g,_0x4b786b(0xb44)],[/−/g,'-']];return _0x25e150[_0x4b786b(0x97e)](([_0x299265,_0x400f22])=>{_0x26c902=_0x26c902['replace'](_0x299265,_0x400f22);}),_0x26c902=_0x26c902[_0x4b786b(0xa99)](/√\s*([A-Za-z0-9]+)/g,_0x4b786b(0xaa0)),_0x26c902=_0x26c902[_0x4b786b(0xa99)](/(\d+)\s*%/g,'$1\x5c%'),_0x26c902;},_0x38b335=_0x48c6bd=>{const _0x2db862=_0x385600;if(/\$|\\\(|\\\[/[_0x2db862(0x257)](_0x48c6bd))return _0x48c6bd;if(!_0x48d6b8['test'](_0x48c6bd))return _0x48c6bd;const _0x49b368=_0x48c6bd['match'](/^\s*/)[0x0],_0x194135=_0x48c6bd[_0x2db862(0xadf)](/\s*$/)[0x0],_0x1bafec=_0x48c6bd[_0x2db862(0x1b6)]();return _0x49b368+'$'+_0x28d24b(_0x1bafec)+'$'+_0x194135;};_0x5849be[_0x385600(0x97e)](_0x34c642=>{const _0x32371b=_0x385600,_0x23b056=_0x2d48eb(_0x34c642);let _0x299d11=_0x2091fa(_0x23b056);_0x299d11=_0x299d11[_0x32371b(0xa99)](/\$([^$]*?)\$/g,(_0x4fe28e,_0x4e6aef)=>'$'+_0x28d24b(_0x4e6aef)+'$');const _0xfbce7a=_0x299d11['split'](/(\s+)/),_0xd1eb84=_0xfbce7a[_0x32371b(0x83a)](_0xaddeb1=>{const _0x681f40=_0x32371b;if(/\s+/[_0x681f40(0x257)](_0xaddeb1))return _0xaddeb1;return _0x38b335(_0xaddeb1);});_0x299d11=_0xd1eb84[_0x32371b(0x47c)](''),_0x299d11!==_0x23b056&&(_0x47f618(_0x34c642,_0x299d11),_0x247d3d++);});if(_0x247d3d>0x0){showMessage(_0x385600(0x52c)+_0x247d3d+_0x385600(0x390));try{window['MathJax']&&MathJax[_0x385600(0x966)]&&MathJax[_0x385600(0x966)]([_0x4d23ed]);}catch(_0x220ee5){console[_0x385600(0x9b3)]('MathJax\x20re-render\x20failed:',_0x220ee5);}}else showMessage(_0x385600(0x5f7));}function handleAutoFixLatex(){const _0x267360=_0x314764,_0x224710=document[_0x267360(0x6ce)]('quiz-editor-questions-container')||document,_0x5c59fc=_0x224710[_0x267360(0x3e7)](_0x267360(0x59b));let _0x4bc36e=0x0;const _0x3776ab=_0x11ef66=>_0x267360(0x3e6)in _0x11ef66?String(_0x11ef66[_0x267360(0x3e6)]):_0x11ef66[_0x267360(0xbb6)]!==undefined?_0x11ef66['innerText']:_0x11ef66[_0x267360(0xa88)]||'',_0x1fa8a8=(_0x406db5,_0x58e709)=>{const _0x755064=_0x267360;if(_0x755064(0x3e6)in _0x406db5){_0x406db5[_0x755064(0x3e6)]=_0x58e709;return;}if(_0x406db5[_0x755064(0x612)]&&_0x406db5[_0x755064(0x612)]('mjx-container'))return;if(_0x406db5['innerText']!==undefined)_0x406db5[_0x755064(0xbb6)]=_0x58e709;else _0x406db5[_0x755064(0xa88)]=_0x58e709;},_0x1caf19=_0x1926ec=>_0x1926ec[_0x267360(0xa99)](/\u00A0/g,'\x20')[_0x267360(0xa99)](/\u200B/g,'')[_0x267360(0xa99)](/\r\n?/g,'\x0a'),_0x93bb1a=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x20619b=_0x430a1b=>{const _0x51cb3d=_0x267360;let _0x171d02=_0x430a1b[_0x51cb3d(0x1b6)]();_0x171d02=_0x171d02[_0x51cb3d(0xa99)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x171d02=_0x171d02[_0x51cb3d(0xa99)](/\bfrac(\d)(\d)/g,_0x51cb3d(0x6fe));const _0x5a6588=[_0x51cb3d(0xbd2),_0x51cb3d(0x3d9),_0x51cb3d(0x564),_0x51cb3d(0x246),'div',_0x51cb3d(0x3d6),'geq','neq','pm',_0x51cb3d(0xa96),'cos',_0x51cb3d(0xa7d),'log','ln'];_0x5a6588[_0x51cb3d(0x97e)](_0x1eca33=>{const _0x56b911=_0x51cb3d;_0x171d02=_0x171d02[_0x56b911(0xa99)](new RegExp(_0x56b911(0x8b4)+_0x1eca33+'\x5cb','g'),(_0x190f27,_0x5444f3)=>_0x5444f3+'\x5c'+_0x1eca33);});const _0x2bad8b=[[/×/g,_0x51cb3d(0xa1f)],[/·/g,_0x51cb3d(0x66a)],[/÷/g,_0x51cb3d(0xaf5)],[/≤/g,'\x5cle'],[/≥/g,_0x51cb3d(0x8f1)],[/≠/g,_0x51cb3d(0x803)],[/±/g,'\x5cpm']];return _0x2bad8b[_0x51cb3d(0x97e)](([_0x4435be,_0x13aa9d])=>{const _0x2a8797=_0x51cb3d;_0x171d02=_0x171d02[_0x2a8797(0xa99)](_0x4435be,_0x13aa9d);}),_0x171d02;},_0x9fe29d=_0x1ccdb6=>{const _0x2e1033=_0x267360;if(/\$|\\\(|\\\[/[_0x2e1033(0x257)](_0x1ccdb6))return _0x1ccdb6;if(!_0x93bb1a[_0x2e1033(0x257)](_0x1ccdb6))return _0x1ccdb6;const _0x328664=_0x1ccdb6[_0x2e1033(0xadf)](/^\s*/)[0x0],_0x169ac6=_0x1ccdb6[_0x2e1033(0xadf)](/\s*$/)[0x0],_0x3e5db3=_0x1ccdb6[_0x2e1033(0x1b6)]();return _0x328664+'$'+_0x20619b(_0x3e5db3)+'$'+_0x169ac6;};_0x5c59fc[_0x267360(0x97e)](_0x32d30d=>{const _0x3b5255=_0x267360,_0x5d8710=_0x3776ab(_0x32d30d);let _0x4a85c4=_0x1caf19(_0x5d8710);_0x4a85c4=_0x4a85c4[_0x3b5255(0xa99)](/\$([^$]*?)\$/g,(_0x3cee98,_0x3aa41e)=>'$'+_0x20619b(_0x3aa41e)+'$');const _0x25006d=_0x4a85c4[_0x3b5255(0x9a3)](/(\s+)/),_0x116382=_0x25006d[_0x3b5255(0x83a)](_0x51c037=>/\s+/[_0x3b5255(0x257)](_0x51c037)?_0x51c037:_0x9fe29d(_0x51c037));_0x4a85c4=_0x116382[_0x3b5255(0x47c)](''),_0x4a85c4!==_0x5d8710&&(_0x1fa8a8(_0x32d30d,_0x4a85c4),_0x4bc36e++);});if(_0x4bc36e>0x0){showMessage(_0x267360(0x413)+_0x4bc36e+_0x267360(0xb6f));try{if(window[_0x267360(0x649)]&&MathJax[_0x267360(0x966)])MathJax[_0x267360(0x966)]();}catch(_0x16ccfe){}}else showMessage(_0x267360(0x348));}async function listenForCustomMathTopics(){const _0x332846=_0x314764,_0x112e6f=collection(db,'artifacts/'+appId+_0x332846(0xba4));onSnapshot(_0x112e6f,_0x15b04a=>{const _0x56ac75=_0x332846;customMathTopics=_0x15b04a[_0x56ac75(0xc27)][_0x56ac75(0x83a)](_0x34def1=>({'id':_0x34def1['id'],..._0x34def1[_0x56ac75(0x31c)]()})),renderTopicCheckboxes();},_0x5501f7=>{const _0x32f197=_0x332846;console[_0x32f197(0x9b3)](_0x32f197(0x98b),_0x5501f7);});}function handleSelectAllTopics(){const _0x14f472=_0x314764,_0x295a7e=document[_0x14f472(0x6ce)](_0x14f472(0x703)),_0x1506cd=_0x295a7e[_0x14f472(0x3e7)](_0x14f472(0xaf4));_0x1506cd['forEach'](_0x2058de=>{_0x2058de['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x3845ec=_0x314764,_0x149261=document[_0x3845ec(0x6ce)](_0x3845ec(0x703)),_0x4e027d=_0x149261[_0x3845ec(0x3e7)](_0x3845ec(0xaf4));_0x4e027d[_0x3845ec(0x97e)](_0x1e5d31=>{_0x1e5d31['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x66b58e){const _0x1d47ec=_0x314764;if(!_0x66b58e)return;try{const _0x176539=doc(db,_0x1d47ec(0x21f)+appId+_0x1d47ec(0xba4),_0x66b58e);await deleteDoc(_0x176539),showMessage('ลบหัวข้อสำเร็จ');}catch(_0xbf253){console[_0x1d47ec(0x9b3)]('Error\x20deleting\x20custom\x20topic:',_0xbf253),showMessage(_0x1d47ec(0x96d));}}async function handleAddCustomMathTopic(){const _0x5924cb=_0x314764,_0x58a87a=document[_0x5924cb(0x6ce)](_0x5924cb(0xb36)),_0x3f4a5a=_0x58a87a[_0x5924cb(0x3e6)][_0x5924cb(0x1b6)]();if(!_0x3f4a5a){showMessage(_0x5924cb(0x58d));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x40911e=collection(db,_0x5924cb(0x21f)+appId+_0x5924cb(0xba4));await addDoc(_0x40911e,{'name':_0x3f4a5a,'createdAt':serverTimestamp()}),_0x58a87a[_0x5924cb(0x3e6)]='',showMessage(_0x5924cb(0x7a1)+_0x3f4a5a+_0x5924cb(0x7c4));}catch(_0x3a1095){console[_0x5924cb(0x9b3)](_0x5924cb(0x92e),_0x3a1095),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x4f1e79=_0x314764;showConfirmation(_0x4f1e79(0x57b),async()=>{const _0x4b4a4f=_0x4f1e79,_0x39a116=document[_0x4b4a4f(0x6ce)](_0x4b4a4f(0x3f8)),_0x3cb783=document['getElementById'](_0x4b4a4f(0x726)),_0x1d48a3=_0x3cb783[_0x4b4a4f(0xa88)];_0x39a116['classList'][_0x4b4a4f(0x49f)](_0x4b4a4f(0xbc7)),_0x3cb783[_0x4b4a4f(0xa88)]=_0x4b4a4f(0x8fb);try{const _0x241132=collection(db,_0x4b4a4f(0x21f)+appId+_0x4b4a4f(0x544)),_0x21a231=await getDocs(_0x241132);if(_0x21a231[_0x4b4a4f(0x326)]){showMessage(_0x4b4a4f(0x321));return;}const _0x53d110=writeBatch(db);let _0x390253=0x0;_0x21a231[_0x4b4a4f(0x97e)](_0x2ee7a5=>{const _0x1d1c42=_0x4b4a4f,_0x2e326f=_0x2ee7a5['data'](),_0x495446=_0x2ee7a5['id'];if(_0x2e326f['questions']&&_0x2e326f[_0x1d1c42(0x7bb)][_0x1d1c42(0x1eb)]>0x0&&!_0x2e326f[_0x1d1c42(0x7bb)][0x0][_0x1d1c42(0x580)]('id')){console[_0x1d1c42(0xa58)](_0x1d1c42(0x451)+_0x495446+'\x20('+_0x2e326f[_0x1d1c42(0x265)]+')'),_0x390253++;const _0x1d2042=_0x2e326f[_0x1d1c42(0x7bb)]['map']((_0x4a0e33,_0x25f30f)=>{const _0x563b20=_0x1d1c42;return{..._0x4a0e33,'id':_0x4a0e33['id']||'q_'+Date[_0x563b20(0x72c)]()+'_'+_0x495446+'_'+_0x25f30f};}),_0x16668c=doc(db,_0x1d1c42(0x21f)+appId+_0x1d1c42(0x544),_0x495446);_0x53d110['update'](_0x16668c,{'questions':_0x1d2042});}}),_0x390253>0x0?(_0x3cb783[_0x4b4a4f(0xa88)]=_0x4b4a4f(0x36f)+_0x390253+_0x4b4a4f(0x9a7),await _0x53d110['commit'](),showMessage(_0x4b4a4f(0x5f6)+_0x390253+_0x4b4a4f(0x998))):showMessage(_0x4b4a4f(0x3bb));}catch(_0x3481cb){console[_0x4b4a4f(0x9b3)](_0x4b4a4f(0x4a9),_0x3481cb),showMessage(_0x4b4a4f(0x9f9)+_0x3481cb[_0x4b4a4f(0x86b)]);}finally{_0x39a116[_0x4b4a4f(0x68d)]['add']('hidden'),_0x3cb783[_0x4b4a4f(0xa88)]=_0x1d48a3;}});}async function handleBulkUpdateQuizSettings(){const _0x2d734e=_0x314764,_0x219503={'shuffle':document[_0x2d734e(0x6ce)](_0x2d734e(0x4b4))['value'],'resultsDisplay':document[_0x2d734e(0x6ce)](_0x2d734e(0x37c))['value'],'loopUntilPass':document[_0x2d734e(0x6ce)](_0x2d734e(0x98f))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x2d734e(0xb3f))[_0x2d734e(0x5dc)],'confidenceMode':document[_0x2d734e(0x6ce)]('bulk-confidence-mode-select')[_0x2d734e(0x3e6)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x310cfd=await getDocs(collection(db,'artifacts/'+appId+_0x2d734e(0x544))),_0x2256f5=_0x310cfd[_0x2d734e(0xc27)][_0x2d734e(0x83a)](_0x27c258=>({'id':_0x27c258['id'],'data':_0x27c258[_0x2d734e(0x31c)]()})),_0x321b25=_0x2256f5[_0x2d734e(0x1eb)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x321b25+_0x2d734e(0x1d3),async()=>{const _0x3edb53=_0x2d734e,_0x4c2b07=document[_0x3edb53(0x6ce)](_0x3edb53(0x1a6));_0x4c2b07[_0x3edb53(0x915)]=!![],_0x4c2b07[_0x3edb53(0x9c5)]=_0x3edb53(0x3f6);try{const _0x56f80e=writeBatch(db);_0x2256f5[_0x3edb53(0x97e)](_0x50b910=>{const _0x31c611=_0x3edb53,_0x3b0b78=doc(db,_0x31c611(0x21f)+appId+_0x31c611(0x544),_0x50b910['id']),_0x4f2c6d={..._0x50b910[_0x31c611(0x31c)][_0x31c611(0xbd0)]||{},..._0x219503};_0x56f80e['update'](_0x3b0b78,{'settings':_0x4f2c6d});}),await _0x56f80e[_0x3edb53(0xb03)](),document[_0x3edb53(0x6ce)](_0x3edb53(0x7ae))[_0x3edb53(0x68d)][_0x3edb53(0x8f4)](_0x3edb53(0xbc7)),showMessage(_0x3edb53(0xba3)+_0x321b25+_0x3edb53(0x946));}catch(_0x4e40d0){console[_0x3edb53(0x9b3)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x4e40d0),showMessage(_0x3edb53(0xb20));}finally{_0x4c2b07[_0x3edb53(0x915)]=![],_0x4c2b07['innerHTML']=_0x3edb53(0x940);}});}catch(_0x5f2f45){console[_0x2d734e(0x9b3)](_0x2d734e(0x9ba),_0x5f2f45),showMessage(_0x2d734e(0x684));}}async function handleSaveProjectName(){const _0x125bf5=_0x314764,_0x1adfea=document[_0x125bf5(0x6ce)](_0x125bf5(0x43d)),_0x453402=document[_0x125bf5(0x6ce)](_0x125bf5(0x39b)),_0x4026d2=_0x1adfea[_0x125bf5(0xa88)]['trim']();if(!_0x4026d2||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x1adfea['textContent']=currentProjectData[_0x125bf5(0xbbf)];return;}_0x453402['disabled']=!![],_0x453402['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x1e8192=doc(db,'artifacts/'+appId+_0x125bf5(0x7fe),currentProjectId);await updateDoc(_0x1e8192,{'projectName':_0x4026d2}),currentProjectData&&(currentProjectData[_0x125bf5(0xbbf)]=_0x4026d2),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x240f5d){console[_0x125bf5(0x9b3)](_0x125bf5(0x676),_0x240f5d),showMessage(_0x125bf5(0xa14)),_0x1adfea['textContent']=currentProjectData[_0x125bf5(0xbbf)];}finally{_0x453402[_0x125bf5(0x68d)][_0x125bf5(0x8f4)](_0x125bf5(0xbc7)),_0x453402['disabled']=![],_0x453402[_0x125bf5(0x9c5)]=_0x125bf5(0x7d6);}}function handleGeneratePracticeTest(_0x13e9c1,_0x2afe13){const _0x19951f=_0x314764,_0x3044bb=document[_0x19951f(0x6ce)](_0x19951f(0x34c)),_0x2a60f3=document[_0x19951f(0x6ce)](_0x19951f(0xb46)),_0xcc120c=document[_0x19951f(0x6ce)](_0x19951f(0x5a0)),_0x36216e=document[_0x19951f(0x6ce)]('lesson-sections-container');_0x2a60f3['textContent']='กำลังสร้างแบบทดสอบ:\x20'+_0x13e9c1,_0x36216e[_0x19951f(0x68d)]['add'](_0x19951f(0xbc7)),_0xcc120c[_0x19951f(0x68d)][_0x19951f(0x49f)](_0x19951f(0xbc7)),_0x3044bb[_0x19951f(0x68d)][_0x19951f(0x49f)]('hidden'),generatePracticeTest(_0x13e9c1,_0x2afe13)[_0x19951f(0x5cb)](_0x408ca9=>{const _0x2e4eb6=_0x19951f;console[_0x2e4eb6(0x9b3)](_0x2e4eb6(0x386),_0x408ca9),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x3044bb[_0x2e4eb6(0x68d)]['add'](_0x2e4eb6(0xbc7));});}async function generatePracticeTest(_0x53aa92,_0x335c32){const _0xa10781=_0x314764;['pointContent',_0xa10781(0x230),'applicationContent','summaryContent']['forEach'](_0x480f22=>{const _0xf4782c=_0xa10781,_0x3d912d=document[_0xf4782c(0x6ce)](_0x480f22)[_0xf4782c(0x613)];_0x3d912d&&(_0x3d912d['style']['display']=_0xf4782c(0x4c0));});try{const _0x50cd84=_0xa10781(0x42d),_0x414aba=_0xa10781(0x274)+_0x335c32+_0xa10781(0x457)+_0x53aa92+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x44b6b2=await callGemini(_0x414aba,!![]),_0x315420=document['getElementById'](_0xa10781(0xb46)),_0x2efd43=document[_0xa10781(0x6ce)](_0xa10781(0x5a0)),_0x4287cd=document[_0xa10781(0x6ce)]('lesson-sections-container'),_0x400531=document[_0xa10781(0x6ce)](_0xa10781(0x93b))[_0xa10781(0x613)];_0x315420[_0xa10781(0xbb6)]=_0xa10781(0x8da)+_0x53aa92['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x335c32+')',currentApplicationData=JSON[_0xa10781(0x36d)](_0x44b6b2);const _0x215dba=document['getElementById'](_0xa10781(0x93b));_0x215dba[_0xa10781(0x9c5)]=currentApplicationData[_0xa10781(0x83a)]((_0x1141a6,_0x4b90d6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4b90d6+0x1)+'.\x20'+marked[_0xa10781(0x60d)](_0x1141a6['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x4b90d6+_0xa10781(0x261)+_0x1141a6[_0xa10781(0x9b5)][_0xa10781(0x83a)]((_0x161123,_0x570e23)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x4b90d6+',\x20'+_0x570e23+')\x22>'+String['fromCharCode'](0x61+_0x570e23)+'.\x20'+marked[_0xa10781(0x60d)](_0x161123)+_0xa10781(0x40e))[_0xa10781(0x47c)]('')+_0xa10781(0x328))[_0xa10781(0x47c)](''),window[_0xa10781(0x649)]&&MathJax['typesetPromise']([_0x215dba]),_0x400531&&(_0x400531[_0xa10781(0x58c)]['display']=_0xa10781(0x45a)),_0x2efd43[_0xa10781(0x68d)][_0xa10781(0x8f4)](_0xa10781(0xbc7)),_0x4287cd['classList'][_0xa10781(0x49f)]('hidden');}catch(_0x25b63c){console[_0xa10781(0x9b3)](_0x25b63c);throw _0x25b63c;}}async function callGemini(_0x5304a2,_0x4a2d29=![]){const _0x4f3122=_0x314764,_0x5ac190=_0x4f3122(0xb4e),_0x5f04cf=_0x4f3122(0x5c8)+_0x5ac190,_0x503d79={'contents':[{'parts':[{'text':_0x5304a2}]}]};_0x4a2d29&&(_0x503d79[_0x4f3122(0x191)]={'responseMimeType':_0x4f3122(0x37e)},_0x5304a2['includes'](_0x4f3122(0xc08))?_0x503d79[_0x4f3122(0x191)]['responseSchema']={'type':_0x4f3122(0x417),'properties':{'gradeLevel':{'type':_0x4f3122(0x5b8)},'curriculum':{'type':_0x4f3122(0x8c2),'items':{'type':_0x4f3122(0x417),'properties':{'sara':{'type':_0x4f3122(0x5b8)},'mainTopics':{'type':_0x4f3122(0x8c2),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x4f3122(0x5b8)},'subTopics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x4f3122(0x5ba),_0x4f3122(0xc1c)]}}},'required':['sara',_0x4f3122(0xa1d)]}}},'required':[_0x4f3122(0x441),_0x4f3122(0x634)]}:_0x503d79[_0x4f3122(0x191)][_0x4f3122(0x38d)]={'type':_0x4f3122(0x8c2),'items':{'type':_0x4f3122(0x417),'properties':{'question':{'type':_0x4f3122(0x5b8)},'options':{'type':_0x4f3122(0x8c2),'items':{'type':_0x4f3122(0x5b8)}},'answer':{'type':'NUMBER'}},'required':[_0x4f3122(0x2d4),_0x4f3122(0x9b5),_0x4f3122(0xa38)]}});try{const _0x500e19=await fetch(_0x5f04cf,{'method':'POST','headers':{'Content-Type':_0x4f3122(0x37e)},'body':JSON['stringify'](_0x503d79)});if(!_0x500e19['ok']){const _0x514beb=await _0x500e19[_0x4f3122(0xb56)]();console[_0x4f3122(0x9b3)](_0x4f3122(0x55a),_0x514beb);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x500e19['status']);}const _0x108ad8=await _0x500e19[_0x4f3122(0x2a7)]();if(_0x108ad8[_0x4f3122(0x468)]&&_0x108ad8[_0x4f3122(0x468)][0x0]['content']&&_0x108ad8[_0x4f3122(0x468)][0x0][_0x4f3122(0x22e)][_0x4f3122(0x5f2)][0x0])return _0x108ad8[_0x4f3122(0x468)][0x0][_0x4f3122(0x22e)][_0x4f3122(0x5f2)][0x0][_0x4f3122(0xb56)];else{console[_0x4f3122(0x9b3)]('Unexpected\x20API\x20response\x20structure:',_0x108ad8);if(_0x108ad8[_0x4f3122(0x468)]&&_0x108ad8['candidates'][0x0][_0x4f3122(0x1ef)]==='SAFETY')return JSON[_0x4f3122(0x73a)]({'error':_0x4f3122(0x61f)});throw new Error(_0x4f3122(0x5b2));}}catch(_0x120c66){console[_0x4f3122(0x9b3)](_0x4f3122(0xb21),_0x120c66);throw _0x120c66;}}async function generateLesson(_0x4f33f5=null,_0x3b92da=null){const _0x457e91=_0x314764,_0x2acd4a=_0x4f33f5,_0x46dc88=_0x3b92da||_0x457e91(0x9c9),_0x2e6f87=document[_0x457e91(0x6ce)](_0x457e91(0x5a0)),_0x4f2a8f=document[_0x457e91(0x6ce)](_0x457e91(0x208));_0x4f2a8f['textContent']='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x2acd4a+_0x457e91(0x205);try{const _0x551207=_0x457e91(0x377),_0x15c774=_0x457e91(0x5d2)+_0x46dc88+_0x457e91(0x457)+_0x2acd4a+_0x457e91(0x496)+_0x551207+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x10e0ea=_0x457e91(0x2dd)+_0x2acd4a+_0x457e91(0x17b)+_0x46dc88+_0x457e91(0x28f)+_0x551207+_0x457e91(0x6a0),_0x11c428=_0x457e91(0x274)+_0x46dc88+_0x457e91(0x457)+_0x2acd4a+_0x457e91(0x77f),_0xbe8872=_0x457e91(0x900)+_0x2acd4a+_0x457e91(0x786)+_0x46dc88+_0x457e91(0x412)+_0x551207+_0x457e91(0x34b),[_0x1e3e77,_0x55f580,_0x5935ce,_0x22b619]=await Promise[_0x457e91(0x486)]([callGemini(_0x15c774),callGemini(_0x10e0ea),callGemini(_0x11c428,!![]),callGemini(_0xbe8872)]),_0x22a635=document[_0x457e91(0x6ce)](_0x457e91(0xb46)),_0x231ab9=document[_0x457e91(0x6ce)]('lesson-sections-container');_0x22a635[_0x457e91(0xbb6)]=_0x457e91(0x6c2)+_0x2acd4a[_0x457e91(0xa99)](/•\s/g,'')+_0x457e91(0x5e3)+_0x46dc88+')',[_0x457e91(0x829),'memoryContent',_0x457e91(0x336)]['forEach'](_0x3271db=>{const _0x298aa2=_0x457e91;document[_0x298aa2(0x6ce)](_0x3271db)[_0x298aa2(0x9c5)]='';}),document[_0x457e91(0x6ce)]('pointContent')[_0x457e91(0x9c5)]=marked[_0x457e91(0x36d)](_0x1e3e77),document[_0x457e91(0x6ce)](_0x457e91(0x230))[_0x457e91(0x9c5)]=marked['parse'](_0x55f580),document['getElementById'](_0x457e91(0x336))[_0x457e91(0x9c5)]=marked['parse'](_0x22b619),currentApplicationData=JSON[_0x457e91(0x36d)](_0x5935ce);const _0x10359e=document[_0x457e91(0x6ce)](_0x457e91(0x93b));_0x10359e[_0x457e91(0x9c5)]=currentApplicationData[_0x457e91(0x83a)]((_0x29cfac,_0x39209e)=>_0x457e91(0x32b)+(_0x39209e+0x1)+'.\x20'+marked[_0x457e91(0x60d)](_0x29cfac[_0x457e91(0x2d4)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x39209e+_0x457e91(0x261)+_0x29cfac[_0x457e91(0x9b5)][_0x457e91(0x83a)]((_0x1eb072,_0x3b03a2)=>_0x457e91(0xb84)+_0x39209e+',\x20'+_0x3b03a2+_0x457e91(0xb43)+String[_0x457e91(0x6f6)](0x61+_0x3b03a2)+'.\x20'+marked[_0x457e91(0x60d)](_0x1eb072)+_0x457e91(0x40e))[_0x457e91(0x47c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x457e91(0x47c)](''),window['MathJax']&&MathJax['typesetPromise']([_0x231ab9]),_0x2e6f87['classList']['add']('hidden'),_0x231ab9[_0x457e91(0x68d)]['remove'](_0x457e91(0xbc7));}catch(_0x109b36){console[_0x457e91(0x9b3)](_0x109b36);throw _0x109b36;}finally{}}function checkAnswer(_0x41664e,_0x17c332){const _0x25ad21=_0x314764,_0x5f5887=currentApplicationData[_0x41664e],_0x5b3641=document[_0x25ad21(0x6ce)]('q'+_0x41664e+_0x25ad21(0x31f)),_0x2571e4=_0x5b3641[_0x25ad21(0x206)](_0x25ad21(0x7a0));for(let _0x1dfde1 of _0x2571e4){_0x1dfde1[_0x25ad21(0x915)]=!![];}_0x17c332===_0x5f5887['answer']?_0x2571e4[_0x17c332][_0x25ad21(0x68d)]['add'](_0x25ad21(0x824)):(_0x2571e4[_0x17c332]['classList'][_0x25ad21(0x8f4)]('incorrect'),_0x2571e4[_0x5f5887['answer']][_0x25ad21(0x68d)][_0x25ad21(0x8f4)](_0x25ad21(0x824)));}window[_0x314764(0x255)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window[_0x314764(0xb77)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x115ad6=_0x314764;try{const _0x44f273=initializeApp(firebaseConfig);db=getFirestore(_0x44f273),auth=getAuth(_0x44f273),setupAuthListener(),setupEventListeners(),showView(_0x115ad6(0xa82)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x256fd0){console[_0x115ad6(0x9b3)](_0x115ad6(0xb85),_0x256fd0),showMessage(_0x115ad6(0x81a));}}async function handleVerifyAnswersInEditor(){const _0x3a3090=_0x314764,_0x46c662=document[_0x3a3090(0x6ce)](_0x3a3090(0x9f4));if(!_0x46c662)return;const _0x59e9e8=document['getElementById'](_0x3a3090(0x89a));_0x59e9e8['disabled']=!![],_0x59e9e8[_0x3a3090(0x9c5)]=_0x3a3090(0x384);try{const _0x53fe92=_0x46c662[_0x3a3090(0x3e7)](_0x3a3090(0x70d)),_0x887004=Array[_0x3a3090(0x2db)](_0x53fe92)[_0x3a3090(0x83a)]((_0x1687b5,_0x131729)=>{const _0x56a22b=_0x3a3090,_0x58fbb9=_0x1687b5['dataset'][_0x56a22b(0xa3e)],_0x391102=_0x1687b5[_0x56a22b(0x612)](_0x56a22b(0x2a1))[_0x56a22b(0x3e6)];let _0x402100=null,_0x5569a2='';switch(_0x58fbb9){case _0x56a22b(0x75c):const _0x629b2f=_0x1687b5[_0x56a22b(0x3e7)]('input[type=\x22text\x22]');_0x402100=Array[_0x56a22b(0x2db)](_0x629b2f)[_0x56a22b(0x83a)](_0x46771e=>_0x46771e[_0x56a22b(0x3e6)]);const _0x8a93a0=_0x1687b5[_0x56a22b(0x612)](_0x56a22b(0x51c));_0x8a93a0&&(_0x5569a2=_0x402100[parseInt(_0x8a93a0[_0x56a22b(0x3e6)])]);break;case _0x56a22b(0x8a4):_0x5569a2=_0x1687b5[_0x56a22b(0x612)](_0x56a22b(0x74f))[_0x56a22b(0x3e6)];break;case'true_false':const _0x516788=_0x1687b5[_0x56a22b(0x612)]('input[type=\x22radio\x22]:checked');_0x5569a2=_0x516788?_0x516788[_0x56a22b(0x3e6)]:'';break;case _0x56a22b(0x554):_0x5569a2=_0x1687b5['querySelector'](_0x56a22b(0x3d2))[_0x56a22b(0x3e6)];break;}return{'question':_0x391102,'options':_0x402100,'proposedAnswer':_0x5569a2};}),_0x4c612b=_0x3a3090(0xb81)+JSON[_0x3a3090(0x73a)](_0x887004)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x6da573={'type':_0x3a3090(0x8c2),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x3a3090(0x31a)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x3a3090(0x5b8)}},'required':[_0x3a3090(0x517),_0x3a3090(0x48b),_0x3a3090(0x269)]}},_0x474399=await callAnalysisApi(_0x4c612b,{'type':_0x3a3090(0x417),'properties':{'result':_0x6da573},'required':['result']});displayVerificationResultsInEditor(_0x474399[_0x3a3090(0x9f5)]);}catch(_0x4b3823){console['error'](_0x3a3090(0x3fe),_0x4b3823),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x59e9e8['disabled']=![],_0x59e9e8['innerHTML']=_0x3a3090(0x952);}}function displayVerificationResultsInEditor(_0x489f5c){const _0x1c0cf3=_0x314764;_0x489f5c[_0x1c0cf3(0x97e)](_0xb10aa3=>{const _0x4a4251=_0x1c0cf3,_0x1eae54=document[_0x4a4251(0x612)](_0x4a4251(0x760)+_0xb10aa3[_0x4a4251(0x517)]+'\x22]');if(!_0x1eae54)return;const _0x51e394=_0x1eae54[_0x4a4251(0x612)](_0x4a4251(0xab9));if(_0x51e394)_0x51e394[_0x4a4251(0x49f)]();let _0x5a9e69='';if(_0xb10aa3[_0x4a4251(0x48b)])_0x5a9e69=_0x4a4251(0x881);else{const _0x59895f=_0xb10aa3['suggestedAnswer']?_0x4a4251(0x85f):'';_0x5a9e69='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x59895f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0xb10aa3[_0x4a4251(0x269)]+_0x4a4251(0x1ac)+(_0xb10aa3[_0x4a4251(0x7f1)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0xb10aa3[_0x4a4251(0x7f1)]+_0x4a4251(0x1ad):'')+_0x4a4251(0xabc);}_0x1eae54[_0x4a4251(0xb1b)](_0x4a4251(0xab5),_0x5a9e69);if(!_0xb10aa3[_0x4a4251(0x48b)]&&_0xb10aa3[_0x4a4251(0x7f1)]){const _0x2ca5cb=_0x1eae54[_0x4a4251(0x635)][_0x4a4251(0xa3e)],_0x1a0361=_0x49dc21=>{const _0x2d72a4=_0x4a4251;if(!_0x49dc21)return;_0x49dc21[_0x2d72a4(0x68d)][_0x2d72a4(0x8f4)](_0x2d72a4(0x61a),_0x2d72a4(0x57a),_0x2d72a4(0x425)),setTimeout(()=>{const _0xc7e5ba=_0x2d72a4;_0x49dc21[_0xc7e5ba(0x68d)]['remove'](_0xc7e5ba(0x61a));},0x9c4);};if(_0x2ca5cb===_0x4a4251(0x75c)){const _0xd4eb02=Array[_0x4a4251(0x2db)](_0x1eae54[_0x4a4251(0x3e7)](_0x4a4251(0x741))),_0xfa1f86=_0xd4eb02['findIndex'](_0x1ffea0=>_0x1ffea0['value'][_0x4a4251(0x1b6)]()['toLowerCase']()===_0xb10aa3[_0x4a4251(0x7f1)][_0x4a4251(0x1b6)]()['toLowerCase']());if(_0xfa1f86!==-0x1){const _0x3c1db7=_0x1eae54['querySelector'](_0x4a4251(0x37d)+_0xfa1f86+'\x22]');_0x3c1db7&&(_0x3c1db7[_0x4a4251(0x5dc)]=!![],_0x1a0361(_0x3c1db7['closest'](_0x4a4251(0xa9a))));}}else{if(_0x2ca5cb===_0x4a4251(0x8a4)||_0x2ca5cb===_0x4a4251(0x554)){const _0x4d37f4=_0x1eae54[_0x4a4251(0x612)](_0x4a4251(0x288));_0x4d37f4&&(_0x4d37f4[_0x4a4251(0x3e6)]=_0xb10aa3[_0x4a4251(0x7f1)],_0x1a0361(_0x4d37f4));}else{if(_0x2ca5cb===_0x4a4251(0xa97)){const _0x84f302=_0xb10aa3[_0x4a4251(0x7f1)]['trim']()[_0x4a4251(0x5db)](),_0x3d1ef3=_0x1eae54[_0x4a4251(0x612)](_0x4a4251(0x37d)+_0x84f302+'\x22]');_0x3d1ef3&&(_0x3d1ef3[_0x4a4251(0x5dc)]=!![],_0x1a0361(_0x3d1ef3[_0x4a4251(0x2ff)](_0x4a4251(0xa9a))));}}}}}),showMessage(_0x1c0cf3(0x389));}async function handleVerifyAnswers(){const _0x2cc1cd=_0x314764;if(!currentQuizData||!currentQuizData[_0x2cc1cd(0x7bb)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x10830b=document['getElementById'](_0x2cc1cd(0x73e));_0x10830b['disabled']=!![],_0x10830b[_0x2cc1cd(0x9c5)]=_0x2cc1cd(0x384);try{const _0x32b123=currentQuizData[_0x2cc1cd(0x7bb)]['map']((_0x4a0cd3,_0x58f8ec)=>{const _0x378698=_0x2cc1cd;let _0x571e98='';const _0x37544a=_0x4a0cd3['questionType']||currentQuizData[_0x378698(0xa1e)];switch(_0x37544a){case _0x378698(0x75c):_0x571e98=_0x4a0cd3[_0x378698(0x9b5)][_0x4a0cd3[_0x378698(0xaca)]];break;case _0x378698(0x8a4):_0x571e98=_0x4a0cd3[_0x378698(0x841)];break;case'true_false':_0x571e98=_0x4a0cd3[_0x378698(0x7c3)][_0x378698(0x2e2)]();break;case'matching_item':_0x571e98=_0x4a0cd3['correctResponse'];break;}return{'question':_0x4a0cd3[_0x378698(0x458)]||_0x4a0cd3[_0x378698(0x41e)],'options':_0x4a0cd3[_0x378698(0x9b5)]||null,'proposedAnswer':_0x571e98};}),_0x8bdf26='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x32b123)+_0x2cc1cd(0x3fc),_0x4da8ba={'type':_0x2cc1cd(0x8c2),'items':{'type':_0x2cc1cd(0x417),'properties':{'questionIndex':{'type':_0x2cc1cd(0x31a)},'isCorrect':{'type':_0x2cc1cd(0x351)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x2cc1cd(0x5b8)}},'required':[_0x2cc1cd(0x517),'isCorrect','justification']}},_0x237f39=await callAnalysisApi(_0x8bdf26,{'type':_0x2cc1cd(0x417),'properties':{'result':_0x4da8ba},'required':[_0x2cc1cd(0x9f5)]});displayVerificationResults(_0x237f39[_0x2cc1cd(0x9f5)]);}catch(_0x1054fa){console['error'](_0x2cc1cd(0x79f),_0x1054fa),showMessage(_0x2cc1cd(0x4eb));}finally{_0x10830b[_0x2cc1cd(0x915)]=![],_0x10830b[_0x2cc1cd(0x9c5)]=_0x2cc1cd(0x399);}}function displayVerificationResults(_0x2c14e1){const _0x15a22d=_0x314764;_0x2c14e1[_0x15a22d(0x97e)](_0x3afbf9=>{const _0x3885b5=_0x15a22d,_0x43b3e1=document[_0x3885b5(0x612)]('div[data-question-index=\x22'+_0x3afbf9[_0x3885b5(0x517)]+'\x22]');if(_0x43b3e1){const _0x58141d=_0x43b3e1[_0x3885b5(0x612)](_0x3885b5(0x3c9));if(_0x58141d)_0x58141d[_0x3885b5(0x49f)]();let _0x3aeebf='';_0x3afbf9[_0x3885b5(0x48b)]?_0x3aeebf=_0x3885b5(0xb58):_0x3aeebf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x3afbf9[_0x3885b5(0x269)]+_0x3885b5(0x5a4)+(_0x3afbf9[_0x3885b5(0x7f1)]?_0x3885b5(0x26b)+_0x3afbf9[_0x3885b5(0x7f1)]+_0x3885b5(0x1ad):'')+_0x3885b5(0x509),_0x43b3e1['insertAdjacentHTML'](_0x3885b5(0xab5),_0x3aeebf);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x23edd5,_0x14bbb4){const _0x5f3028=_0x314764,_0x2fa2af=String(_0x23edd5)['replace'](',','.')[_0x5f3028(0xa99)](/[^\d.-]/g,'')[_0x5f3028(0x1b6)](),_0x4a6503=String(_0x14bbb4)[_0x5f3028(0xa99)](',','.')[_0x5f3028(0xa99)](/[^\d.-]/g,'')['trim']();if(_0x2fa2af===''||_0x4a6503==='')return![];const _0x460f4b=parseFloat(_0x2fa2af),_0x34dbcf=parseFloat(_0x4a6503);if(isNaN(_0x460f4b)||isNaN(_0x34dbcf))return![];return Math[_0x5f3028(0x710)](_0x460f4b-_0x34dbcf)<0.001;}function isPotentiallyNumeric(_0x34fc51){const _0x19ca14=_0x314764;if(typeof _0x34fc51!==_0x19ca14(0xa17)&&typeof _0x34fc51!==_0x19ca14(0x1b5))return![];const _0x20a134=String(_0x34fc51)[_0x19ca14(0xa99)](',','.')[_0x19ca14(0x1b6)]();return _0x20a134!==''&&!isNaN(parseFloat(_0x20a134))&&isFinite(_0x20a134);}async function gradeShortAnswer(_0x2c1f41,_0x5ca896){const _0x2bb1d7=_0x314764,_0x57b7e1=_0x5ca896[_0x2bb1d7(0x841)],_0x1fb3e1=String(_0x2c1f41)[_0x2bb1d7(0xa99)](/\$/g,'')['trim'](),_0x2d27e7=String(_0x57b7e1)['replace'](/\$/g,'')[_0x2bb1d7(0x1b6)]();if(_0x1fb3e1[_0x2bb1d7(0x5db)]()===_0x2d27e7[_0x2bb1d7(0x5db)]())return!![];if(isPotentiallyNumeric(_0x1fb3e1)&&isPotentiallyNumeric(_0x2d27e7)){if(compareNumericalAnswers(_0x1fb3e1,_0x2d27e7))return!![];}return console[_0x2bb1d7(0xa58)](_0x2bb1d7(0xb7f)),await gradeShortAnswerWithAI(_0x2c1f41,_0x57b7e1);}async function revealAnswerForAdmin(_0x25fbf8,_0x8153bf){const _0x95e4c8=_0x314764,_0x1c106e=doc(db,'artifacts/'+appId+_0x95e4c8(0x937),currentLiveGameId);await updateDoc(_0x1c106e,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x1cc047){const _0x47c7fb=_0x314764,_0xb21b3=Object[_0x47c7fb(0x799)](_0x1cc047[_0x47c7fb(0xb90)]||{})[_0x47c7fb(0x595)](_0x1bd0cf=>_0x1bd0cf[_0x47c7fb(0xbfc)]===_0x47c7fb(0x7e3));_0xb21b3['sort']((_0x3fedce,_0x44f4af)=>_0x44f4af[_0x47c7fb(0xbde)]-_0x3fedce[_0x47c7fb(0xbde)]);const _0x57f469=_0xb21b3[_0x47c7fb(0x8e8)](0x0,0x5),_0x36ec50=_0x47c7fb(0x17c)+_0x57f469[_0x47c7fb(0x83a)]((_0x387889,_0x2ebba9)=>_0x47c7fb(0x7b6)+(_0x2ebba9+0x1)+'.\x20'+(_0x387889[_0x47c7fb(0x924)]||Object[_0x47c7fb(0x34a)](_0x1cc047[_0x47c7fb(0xb90)])['find'](_0x2769d7=>_0x1cc047[_0x47c7fb(0xb90)][_0x2769d7]===_0x387889))+_0x47c7fb(0x93c)+_0x387889[_0x47c7fb(0xbde)]+_0x47c7fb(0x2cd))[_0x47c7fb(0x47c)]('')+_0x47c7fb(0xbc0)+(_0x1cc047[_0x47c7fb(0x42a)]+0x1===currentQuizData[_0x47c7fb(0x7bb)][_0x47c7fb(0x1eb)]?'สรุปผลสุดท้าย':'ข้อต่อไป')+_0x47c7fb(0xa91);liveGameView[_0x47c7fb(0x9c5)]=_0x36ec50,document[_0x47c7fb(0x6ce)](_0x47c7fb(0x436))[_0x47c7fb(0x9cd)](_0x47c7fb(0x58a),async()=>{const _0x206403=_0x47c7fb,_0x53297d=doc(db,_0x206403(0x21f)+appId+'/public/data/liveGames',currentLiveGameId),_0x3bc156=_0x1cc047[_0x206403(0x42a)]+0x1;if(_0x3bc156<currentQuizData[_0x206403(0x7bb)][_0x206403(0x1eb)]){const _0x4b913e={'currentQuestionIndex':_0x3bc156,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x206403(0x501)};Object[_0x206403(0x34a)](_0x1cc047[_0x206403(0xb90)])['forEach'](_0x1f4d32=>{const _0x57dab1=_0x206403;_0x4b913e[_0x57dab1(0xab6)+_0x1f4d32+_0x57dab1(0xb7a)]=![];}),await updateDoc(_0x53297d,_0x4b913e);}else await updateDoc(_0x53297d,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xeba753=>{const _0x253f98=_0x3289;if(_0xeba753){userId=_0xeba753[_0x253f98(0xb8b)],userIdDisplay[_0x253f98(0xa88)]=userId;const _0x218cab=await loadUserPreferences();_0x218cab[_0x253f98(0x4e7)]&&(document['getElementById'](_0x253f98(0x4a4))[_0x253f98(0x3e6)]=_0x218cab['projectSortOrder']);globalDashboardSettings[_0x253f98(0x723)]=_0x218cab[_0x253f98(0x723)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x506b0d,_0x2a654f){const _0x233bd2=_0x314764;if(!userId)return;try{const _0x8586fc=doc(db,_0x233bd2(0x21f)+appId+_0x233bd2(0x6a2)+userId+_0x233bd2(0x41c)),_0xef1c6a={};_0xef1c6a[_0x506b0d]=_0x2a654f,await setDoc(_0x8586fc,_0xef1c6a,{'merge':!![]});}catch(_0x37fb0a){console['error']('Error\x20saving\x20user\x20preference:',_0x37fb0a);}}async function loadUserPreferences(){const _0x5f21ad=_0x314764;if(!userId)return{};try{const _0x1ac4cc=doc(db,'artifacts/'+appId+_0x5f21ad(0x6a2)+userId+'/preferences/main'),_0x163a67=await getDoc(_0x1ac4cc);if(_0x163a67[_0x5f21ad(0x232)]())return _0x163a67[_0x5f21ad(0x31c)]();return{};}catch(_0x4ee275){return console[_0x5f21ad(0x9b3)](_0x5f21ad(0x2f7),_0x4ee275),{};}}function parseIndentedBlueprint(_0x2da120){const _0x1e93e2=_0x314764,_0x1b5438=_0x2da120[_0x1e93e2(0x9a3)]('\x0a')[_0x1e93e2(0x595)](_0x5aa66d=>_0x5aa66d[_0x1e93e2(0x1b6)]()!==''),_0x21940c=[];let _0x44223c=null,_0x37d02d=null;return _0x1b5438[_0x1e93e2(0x97e)](_0x178679=>{const _0x4608c1=_0x1e93e2,_0x5c914e=_0x178679[_0x4608c1(0xadf)](/^\s*/)[0x0]['length'],_0x1fe5ef=_0x178679[_0x4608c1(0x1b6)]();if(_0x5c914e===0x0)_0x44223c={'sara':_0x1fe5ef,'mainTopics':[]},_0x21940c[_0x4608c1(0x403)](_0x44223c),_0x37d02d=null;else{if(_0x5c914e>0x0&&_0x5c914e<0x8&&_0x44223c)_0x37d02d={'topicName':_0x1fe5ef,'subTopics':[]},_0x44223c[_0x4608c1(0xa1d)][_0x4608c1(0x403)](_0x37d02d);else _0x5c914e>=0x8&&_0x37d02d&&_0x37d02d['subTopics'][_0x4608c1(0x403)](_0x1fe5ef);}}),{'curriculum':_0x21940c};}async function handleManualBlueprintSave(){const _0x5f1753=_0x314764,_0x1c3e77=document[_0x5f1753(0x6ce)]('manual-bp-project-name')[_0x5f1753(0x3e6)][_0x5f1753(0x1b6)](),_0x4b3155=document['getElementById']('manual-bp-grade-level')['value'][_0x5f1753(0x1b6)](),_0x241dd6=document[_0x5f1753(0x6ce)](_0x5f1753(0x86e))[_0x5f1753(0x3e6)];if(!_0x1c3e77||!_0x4b3155||!_0x241dd6){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x2ec7f0=parseIndentedBlueprint(_0x241dd6);if(!_0x2ec7f0[_0x5f1753(0x634)]||_0x2ec7f0[_0x5f1753(0x634)][_0x5f1753(0x1eb)]===0x0){showMessage(_0x5f1753(0xa15));return;}const _0x1a7dbc={};_0x2ec7f0[_0x5f1753(0x634)]['forEach'](_0x553de5=>{const _0x3d9dc6=_0x5f1753;_0x553de5['mainTopics'][_0x3d9dc6(0x97e)](_0x3d4b59=>{const _0x3b9e5e=_0x3d9dc6;_0x3d4b59[_0x3b9e5e(0xc1c)]['forEach'](_0x325c2a=>{const _0x4ab877=_0x3b9e5e,_0x27b931=_0x4ab877(0x98c)+Date[_0x4ab877(0x72c)]()+Math['random']()['toString'](0x24)[_0x4ab877(0x47e)](0x2,0x9);_0x1a7dbc[_0x27b931]={'sara':_0x553de5[_0x4ab877(0x654)],'mainTopic':_0x3d4b59['topicName'],'subTopic':_0x325c2a,'status':_0x4ab877(0x32f),'lessonContent':null};});});});try{const _0x2386bd=collection(db,_0x5f1753(0x21f)+appId+_0x5f1753(0xa32));await addDoc(_0x2386bd,{'projectName':_0x1c3e77,'gradeLevel':_0x4b3155,'topics':_0x1a7dbc,'createdAt':serverTimestamp()}),showMessage(_0x5f1753(0x585)+_0x1c3e77+'\x22\x20สำเร็จ!'),document[_0x5f1753(0x6ce)](_0x5f1753(0x8f3))[_0x5f1753(0x68d)]['add'](_0x5f1753(0xbc7));}catch(_0x51abc1){console[_0x5f1753(0x9b3)](_0x5f1753(0x421),_0x51abc1),showMessage(_0x5f1753(0x8b0));}}function handleClearAllLinksForTopic(_0x243515){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0xfd5d44=_0x3289;try{const _0xd6156f=doc(db,'artifacts/'+appId+_0xfd5d44(0xa32),currentBlueprintProjectId);await updateDoc(_0xd6156f,{[_0xfd5d44(0x4b5)+_0x243515+_0xfd5d44(0x3ec)]:[]}),showMessage(_0xfd5d44(0x64f)),openTopicQuizBank(_0x243515),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x523013){console[_0xfd5d44(0x9b3)](_0xfd5d44(0x95c),_0x523013),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x48d944,_0x4a797c=_0x314764(0xb1c)){const _0x38491c=_0x314764,_0x4d02fc=Object[_0x38491c(0x5ee)](_0x48d944)[_0x38491c(0x83a)](([_0x434d6b,_0xd030da])=>({'name':_0x434d6b,'score':_0xd030da[_0x38491c(0xbde)]||0x0,'badges':_0xd030da[_0x38491c(0x5cd)]||[],'hasPerfectScoreBonus':_0xd030da[_0x38491c(0x2bc)]||![]}));_0x4d02fc[_0x38491c(0x588)]((_0x2ebd6e,_0x41ad08)=>{const _0x4b1da2=_0x38491c,_0x158b30=_0x41ad08[_0x4b1da2(0xbde)]-_0x2ebd6e[_0x4b1da2(0xbde)];if(_0x158b30!==0x0)return _0x158b30;return(_0x41ad08[_0x4b1da2(0x5cd)][_0x4b1da2(0x1eb)]||0x0)-(_0x2ebd6e[_0x4b1da2(0x5cd)][_0x4b1da2(0x1eb)]||0x0);});const _0x5167c4=_0x5deb0b=>{const _0x545853=_0x38491c;if(!_0x5deb0b||_0x5deb0b[_0x545853(0x1eb)]===0x0)return'';const _0x1df0fb={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x545853(0x640)+_0x5deb0b[_0x545853(0x83a)](_0x596b4e=>_0x1df0fb[_0x596b4e]||'')[_0x545853(0x47c)]('')+'</div>';},_0x264623=_0x4d02fc[_0x38491c(0x8e8)](0x3),_0x143802=_0x264623['length']>0x0?_0x38491c(0x29c)+_0x264623[_0x38491c(0x83a)]((_0x5cddfb,_0x288a1f)=>{const _0x5446ce=_0x38491c,_0x38f240=_0x5cddfb[_0x5446ce(0x2bc)]?_0x5446ce(0x6c3):'';return _0x5446ce(0x6ea)+(_0x288a1f+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5cddfb[_0x5446ce(0x924)]+_0x5446ce(0x913)+_0x5cddfb[_0x5446ce(0xbde)]+_0x5446ce(0x776)+_0x38f240+_0x5446ce(0xbb0);})[_0x38491c(0x47c)]('')+_0x38491c(0x300):'',_0x688ba=_0x38491c(0x260)+(_0x4d02fc[0x1]?_0x38491c(0x4c8)+_0x4d02fc[0x1]['name']+_0x38491c(0x1ad)+_0x5167c4(_0x4d02fc[0x1][_0x38491c(0x5cd)])+_0x38491c(0x5a3)+_0x4d02fc[0x1]['score']+_0x38491c(0x776)+(_0x4d02fc[0x1][_0x38491c(0x2bc)]?_0x38491c(0x2d5):'')+_0x38491c(0x359):'<div\x20class=\x22flex-1\x22></div>')+_0x38491c(0x769)+(_0x4d02fc[0x0]?_0x38491c(0x972)+_0x4d02fc[0x0][_0x38491c(0x924)]+'</p>'+_0x5167c4(_0x4d02fc[0x0]['badges'])+_0x38491c(0x423)+_0x4d02fc[0x0]['score']+'\x20คะแนน\x20'+(_0x4d02fc[0x0]['hasPerfectScoreBonus']?_0x38491c(0x2d5):'')+_0x38491c(0xbc3):_0x38491c(0x753))+_0x38491c(0x769)+(_0x4d02fc[0x2]?_0x38491c(0x7cb)+_0x4d02fc[0x2]['name']+_0x38491c(0x1ad)+_0x5167c4(_0x4d02fc[0x2][_0x38491c(0x5cd)])+'<p\x20class=\x22text-xl\x22>'+_0x4d02fc[0x2][_0x38491c(0xbde)]+_0x38491c(0x776)+(_0x4d02fc[0x2][_0x38491c(0x2bc)]?_0x38491c(0x2d5):'')+_0x38491c(0x262):_0x38491c(0x753))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x143802+_0x38491c(0xb34)+(currentMode===_0x38491c(0x41d)?_0x38491c(0x39f):_0x38491c(0xb82))+_0x38491c(0x882);liveGameView[_0x38491c(0x9c5)]=_0x688ba,currentMode===_0x38491c(0x41d)&&document[_0x38491c(0x6ce)](_0x38491c(0x953))[_0x38491c(0x9cd)](_0x38491c(0x58a),async()=>{const _0x2823ff=_0x38491c;let _0x41beee;_0x4a797c==='sync'?_0x41beee=doc(db,_0x2823ff(0x21f)+appId+_0x2823ff(0x35d),currentLiveGameId):_0x41beee=doc(db,_0x2823ff(0x21f)+appId+_0x2823ff(0x937),currentLiveGameId),await deleteDoc(_0x41beee);});}function renderSyncSummaryView(_0x21ace5,_0x453e31,_0x2a28cf){const _0x3e45ce=_0x314764,_0x1d5b38=Object[_0x3e45ce(0x799)](_0x21ace5[_0x3e45ce(0xb90)]||{}),_0x3d2d3a=_0x453e31[_0x3e45ce(0xb6e)]||_0x21ace5[_0x3e45ce(0xb49)][_0x3e45ce(0xa1e)];let _0x54eb19=[];_0x3d2d3a===_0x3e45ce(0xa97)?_0x54eb19=[_0x3e45ce(0x479),_0x3e45ce(0x648)]:_0x54eb19=_0x453e31[_0x3e45ce(0x9b5)]||[];const _0x59b251=new Array(_0x54eb19['length'])[_0x3e45ce(0x5ab)](0x0),_0x200fad={};_0x54eb19[_0x3e45ce(0x97e)]((_0x49e796,_0xf4af7c)=>{_0x200fad[_0xf4af7c]=[];}),Object[_0x3e45ce(0x5ee)](_0x21ace5[_0x3e45ce(0xb90)]||{})['forEach'](([_0x4f4830,_0x2ad6f5])=>{const _0x23d13e=_0x3e45ce;if(_0x2ad6f5[_0x23d13e(0xbfc)]!==_0x23d13e(0x6b3)&&_0x2ad6f5['lastAnswerIndex']!==undefined&&_0x2ad6f5[_0x23d13e(0x73f)]!==null){const _0x1fde9c=_0x2ad6f5[_0x23d13e(0x73f)];_0x200fad[_0x1fde9c]!==undefined&&(_0x200fad[_0x1fde9c][_0x23d13e(0x403)](_0x4f4830),_0x59b251[_0x1fde9c]++);}});let _0xd7c2d2='';_0x2a28cf?_0xd7c2d2=_0x3e45ce(0x732):_0xd7c2d2=_0x3e45ce(0xb0c);const _0x2c8b6d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x453e31['questionText']+_0x3e45ce(0x9a9)+_0x59b251['map']((_0x7eec22,_0x2df11b)=>{const _0x5316df=_0x3e45ce,_0x24fff7=_0x200fad[_0x2df11b]['length']>0x0?_0x200fad[_0x2df11b][_0x5316df(0x47c)](',\x20'):_0x5316df(0x70f),_0x38404f=_0x5316df(0x928);return _0x5316df(0x7d8)+_0x7eec22+_0x5316df(0x6cf)+_0x38404f+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x2df11b+_0x5316df(0x9a6)+_0x54eb19[_0x2df11b]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x2df11b+_0x5316df(0xbaf)+_0x24fff7+_0x5316df(0x855);})[_0x3e45ce(0x47c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd7c2d2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3e45ce(0x9c5)]=_0x2c8b6d;if(window['MathJax'])MathJax['typesetPromise']();_0x2a28cf&&(document['getElementById'](_0x3e45ce(0x712))[_0x3e45ce(0x9cd)](_0x3e45ce(0x58a),async()=>{const _0x531579=_0x3e45ce,_0x473d70=doc(db,_0x531579(0x21f)+appId+_0x531579(0x35d),currentLiveGameId);await updateDoc(_0x473d70,{'status':_0x531579(0xb97)});}),document[_0x3e45ce(0x6ce)]('open-sync-scratchpad-btn')[_0x3e45ce(0xb41)]=()=>{openScratchpad(_0x453e31,_0x54eb19);});}async function handleShowStudentRankings(){const _0x5ddb33=_0x314764,_0x320d29=document[_0x5ddb33(0x612)](_0x5ddb33(0x688));_0x320d29&&(_0x320d29[_0x5ddb33(0x9c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x29bfa1=document[_0x5ddb33(0x612)](_0x5ddb33(0xbb5));_0x29bfa1&&(_0x29bfa1[_0x5ddb33(0x9c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0xf19216=document['getElementById'](_0x5ddb33(0x1c6));_0xf19216['classList']['remove']('hidden'),document['getElementById'](_0x5ddb33(0x78e))[_0x5ddb33(0xb41)]=()=>_0xf19216[_0x5ddb33(0x68d)][_0x5ddb33(0x8f4)](_0x5ddb33(0xbc7));const _0x1a269a=document[_0x5ddb33(0x6ce)](_0x5ddb33(0x628)),_0x14bb5b=document[_0x5ddb33(0x6ce)](_0x5ddb33(0x528)),_0x38e03f=document['getElementById'](_0x5ddb33(0x26f)),_0x327539=document[_0x5ddb33(0x6ce)](_0x5ddb33(0x8c0));_0x1a269a[_0x5ddb33(0xb41)]=()=>{const _0x88493a=_0x5ddb33;_0x1a269a[_0x88493a(0x68d)]['add'](_0x88493a(0x7e3)),_0x14bb5b['classList'][_0x88493a(0x49f)]('active'),_0x38e03f['classList'][_0x88493a(0x49f)](_0x88493a(0xbc7)),_0x327539[_0x88493a(0x68d)][_0x88493a(0x8f4)]('hidden');},_0x14bb5b[_0x5ddb33(0xb41)]=()=>{const _0x21da2d=_0x5ddb33;_0x14bb5b[_0x21da2d(0x68d)]['add'](_0x21da2d(0x7e3)),_0x1a269a[_0x21da2d(0x68d)]['remove']('active'),_0x327539['classList'][_0x21da2d(0x49f)](_0x21da2d(0xbc7)),_0x38e03f[_0x21da2d(0x68d)]['add'](_0x21da2d(0xbc7));};try{const _0x2f24b7=collection(db,'artifacts/'+appId+_0x5ddb33(0x75f)+currentQuizData['id']+_0x5ddb33(0x9f3)),_0x2a6cd6=await getDocs(_0x2f24b7),_0x57a9ce=_0x2a6cd6[_0x5ddb33(0xc27)]['map'](_0x316149=>_0x316149[_0x5ddb33(0x31c)]());renderQuizLeaderboard(_0x57a9ce,currentQuizData,_0x5ddb33(0x6b7));const _0xe6fc0e=collection(db,'artifacts/'+appId+_0x5ddb33(0xc06)+currentQuizData[_0x5ddb33(0x368)]+_0x5ddb33(0x243)),_0x99f1ca=await getDocs(_0xe6fc0e),_0x576062=_0x99f1ca[_0x5ddb33(0xc27)][_0x5ddb33(0x83a)](_0x3261c8=>_0x3261c8[_0x5ddb33(0x31c)]());renderLeaderboard(_0x576062,_0x5ddb33(0x2f6));}catch(_0x34a2c0){console[_0x5ddb33(0x9b3)](_0x5ddb33(0xa66),_0x34a2c0),showMessage(_0x5ddb33(0xa0d));}}async function handleSaveToBank(_0x37d854){const _0x3ef282=_0x314764,_0x2da964=_0x37d854[_0x3ef282(0xade)],_0x4b85f3=_0x2da964[_0x3ef282(0x635)][_0x3ef282(0x944)],_0x4ef0e1=currentQuizData['questions'][_0x4b85f3];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x9d2b6e={..._0x4ef0e1,'originalTopic':currentQuizData[_0x3ef282(0x265)],'savedAt':serverTimestamp()},_0x115641=collection(db,_0x3ef282(0x21f)+appId+_0x3ef282(0x6a2)+userId+_0x3ef282(0x58e));await addDoc(_0x115641,_0x9d2b6e),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x2da964[_0x3ef282(0x68d)][_0x3ef282(0x49f)](_0x3ef282(0x5eb)),_0x2da964[_0x3ef282(0x68d)]['add']('text-green-600'),_0x2da964['disabled']=!![];}catch(_0x21efa7){console[_0x3ef282(0x9b3)](_0x3ef282(0x955),_0x21efa7),showMessage(_0x3ef282(0xa14));}}function selectProjectAndGenerateBlueprintQuiz(_0x4d0683,_0x3ff71a=null,_0x1705b7=null,_0x4bb03b=![]){const _0x3822da=_0x314764;cameFromBlueprint=!![];const _0x52df76=document['getElementById'](_0x3822da(0xb76)),_0x993e10=document[_0x3822da(0x6ce)](_0x3822da(0xb61)),_0x3ba258=_0x52df76['querySelector']('h3'),_0x21c42c=document[_0x3822da(0x6ce)]('confirm-move-quiz-btn'),_0x47ee75=document[_0x3822da(0x6ce)](_0x3822da(0x8cf));_0x3ba258[_0x3822da(0xa88)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x21c42c[_0x3822da(0xa88)]='เลือกและเริ่มสร้าง',_0x21c42c['disabled']=!![];allProjects['length']===0x0?_0x993e10[_0x3822da(0x9c5)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x993e10[_0x3822da(0x9c5)]=_0x3822da(0x428)+allProjects[_0x3822da(0x83a)](_0x40fc62=>_0x3822da(0x279)+_0x40fc62['id']+'\x22>'+_0x40fc62[_0x3822da(0xbbf)]+'</option>')['join'](''),_0x21c42c[_0x3822da(0x915)]=![]);_0x52df76[_0x3822da(0x68d)][_0x3822da(0x49f)](_0x3822da(0xbc7));const _0x1bdc86=async()=>{const _0x2d96fa=_0x3822da,_0x1a56c6=_0x993e10[_0x2d96fa(0x3e6)];if(!_0x1a56c6){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x52df76[_0x2d96fa(0x68d)][_0x2d96fa(0x8f4)](_0x2d96fa(0xbc7)),document[_0x2d96fa(0x6ce)](_0x2d96fa(0x1bd))['classList'][_0x2d96fa(0x8f4)](_0x2d96fa(0xbc7)),await loadProjectDetails(_0x1a56c6),showView(_0x2d96fa(0x66f)),handleGenerateQuizFromBlueprintTopic(_0x4d0683,_0x3ff71a,_0x1a56c6,_0x1705b7,_0x4bb03b),_0x1b6649();},_0x1b6649=()=>{const _0x51d51a=_0x3822da;_0x3ba258[_0x51d51a(0xa88)]=_0x51d51a(0xae3),_0x21c42c[_0x51d51a(0xa88)]='ย้าย',_0x21c42c[_0x51d51a(0x5af)](_0x51d51a(0x58a),_0x1bdc86),_0x47ee75[_0x51d51a(0x5af)](_0x51d51a(0x58a),_0x1b6649),_0x21c42c[_0x51d51a(0x9cd)](_0x51d51a(0x58a),confirmMoveQuiz);};_0x21c42c['removeEventListener'](_0x3822da(0x58a),confirmMoveQuiz),_0x21c42c[_0x3822da(0x9cd)]('click',_0x1bdc86),_0x47ee75[_0x3822da(0x9cd)]('click',_0x1b6649);}function listenForStarredQuizzes(){const _0x45b71a=_0x314764;if(!userId)return;const _0x28e05e=collection(db,'artifacts/'+appId+_0x45b71a(0x544)),_0x340e09=query(_0x28e05e,where(_0x45b71a(0x822),'==',!![]));onSnapshot(_0x340e09,_0x1822d7=>{const _0x2ee742=_0x45b71a;starredQuizzes=_0x1822d7['docs']['map'](_0x5433ab=>({'id':_0x5433ab['id'],..._0x5433ab[_0x2ee742(0x31c)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x2a11dd=>{const _0x52d675=_0x45b71a;console[_0x52d675(0x9b3)](_0x52d675(0x2fa),_0x2a11dd);});}async function ensureGlobalQuizzesLoaded(){const _0x4bede5=_0x314764;if(allQuizzesGlobal['length']>0x0)return;console['log'](_0x4bede5(0x85b)),showMessage(_0x4bede5(0x964));try{const _0x28d41e=await getDocs(collection(db,_0x4bede5(0x21f)+appId+_0x4bede5(0x544)));allQuizzesGlobal=_0x28d41e[_0x4bede5(0xc27)][_0x4bede5(0x83a)](_0x1d4c80=>({'id':_0x1d4c80['id'],..._0x1d4c80[_0x4bede5(0x31c)]()})),console[_0x4bede5(0xa58)]('Loaded\x20'+allQuizzesGlobal[_0x4bede5(0x1eb)]+_0x4bede5(0x1be)),messageModal['classList'][_0x4bede5(0x8f4)](_0x4bede5(0xbc7));}catch(_0x335fb9){console[_0x4bede5(0x9b3)](_0x4bede5(0x767),_0x335fb9),messageModal[_0x4bede5(0x68d)][_0x4bede5(0x8f4)](_0x4bede5(0xbc7));throw new Error(_0x4bede5(0xc1b));}}function exportQuizAsWorksheetPDF(){const _0x5581ea=_0x314764;if(!currentQuizData||!currentQuizData[_0x5581ea(0x7bb)]){showMessage(_0x5581ea(0x898));return;}const _0xe176ea=currentQuizData,_0x208575=window[_0x5581ea(0x4fe)]('',_0x5581ea(0xa2b)),_0x1d3393=_0x1ccc59=>String[_0x5581ea(0x6f6)](0x41+_0x1ccc59),_0x487709=_0x5581ea(0x4af)+_0xe176ea[_0x5581ea(0x265)]+_0x5581ea(0x5d0)+_0xe176ea[_0x5581ea(0x265)]+_0x5581ea(0x5f9)+_0xe176ea[_0x5581ea(0x7bb)][_0x5581ea(0x83a)]((_0x201d2f,_0x4569ae)=>{const _0xe0d37f=_0x5581ea;let _0x3e6f5f='';const _0x5806f7=_0x201d2f['questionType']||_0xe176ea[_0xe0d37f(0xa1e)];switch(_0x5806f7){case _0xe0d37f(0x75c):case _0xe0d37f(0x248):_0x3e6f5f=_0xe0d37f(0xb4b)+_0x201d2f[_0xe0d37f(0x9b5)][_0xe0d37f(0x83a)]((_0x503e27,_0x113276)=>_0xe0d37f(0x385)+_0x1d3393(_0x113276)+'.\x20'+_0x503e27+_0xe0d37f(0x98e))[_0xe0d37f(0x47c)]('<br>')+'</div>';break;case _0xe0d37f(0xa97):_0x3e6f5f=_0xe0d37f(0xc02);break;default:_0x3e6f5f=_0xe0d37f(0x594);break;}return _0xe0d37f(0x482)+(_0x4569ae+0x1)+_0xe0d37f(0xbe4)+(_0x201d2f[_0xe0d37f(0x458)]||_0x201d2f['questionText'])+_0xe0d37f(0xa43)+(_0x201d2f[_0xe0d37f(0x25f)]?_0xe0d37f(0x2c3)+_0x201d2f[_0xe0d37f(0x25f)]+_0xe0d37f(0x67d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e6f5f+_0xe0d37f(0x693);})['join']('')+_0x5581ea(0x1e2);_0x208575[_0x5581ea(0x404)][_0x5581ea(0x1cd)](_0x487709),_0x208575[_0x5581ea(0x404)][_0x5581ea(0x190)](),_0x208575[_0x5581ea(0x584)]=function(){setTimeout(()=>{const _0x56665f=_0x3289;_0x208575[_0x56665f(0x62c)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x5ee50a=_0x314764;if(!currentQuizData||!currentQuizData[_0x5ee50a(0x7bb)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x4c20cf=currentQuizData,_0x3743c2=window[_0x5ee50a(0x4fe)]('',_0x5ee50a(0xa2b)),_0x2be7cd=_0x1dbb8f=>String['fromCharCode'](0x41+_0x1dbb8f),_0x55b5f8=_0x5ee50a(0xaac)+_0x4c20cf[_0x5ee50a(0x265)]+_0x5ee50a(0x69e)+_0x4c20cf[_0x5ee50a(0x7bb)]['map']((_0x5e08b0,_0x2b2786)=>{const _0x793290=_0x5ee50a;let _0x1d3413='';const _0x1b9267=_0x5e08b0[_0x793290(0xb6e)]||_0x4c20cf[_0x793290(0xa1e)];switch(_0x1b9267){case _0x793290(0x75c):case'fill_in_with_choices':_0x1d3413=_0x793290(0x7f3)+_0x5e08b0['options'][_0x793290(0x83a)]((_0x4390e0,_0x8fa510)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2be7cd(_0x8fa510)+'.\x20'+_0x4390e0+_0x793290(0x37f))[_0x793290(0x47c)](_0x793290(0x3b0))+_0x793290(0xabc);break;case _0x793290(0xa97):_0x1d3413=_0x793290(0x6ca);break;default:_0x1d3413='';break;}return _0x793290(0x3bf)+_0x4c20cf[_0x793290(0x265)]+_0x793290(0xa55)+(_0x2b2786+0x1)+_0x793290(0xc16)+(_0x5e08b0[_0x793290(0x458)]||_0x5e08b0[_0x793290(0x41e)])+_0x793290(0xa43)+(_0x5e08b0['imageCode']?_0x793290(0x4de)+_0x5e08b0[_0x793290(0x25f)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d3413+_0x793290(0x520);})[_0x5ee50a(0x47c)]('')+_0x5ee50a(0x4c7);_0x3743c2[_0x5ee50a(0x404)][_0x5ee50a(0x1cd)](_0x55b5f8),_0x3743c2[_0x5ee50a(0x404)][_0x5ee50a(0x190)](),_0x3743c2[_0x5ee50a(0x584)]=function(){setTimeout(()=>{const _0x4ea2df=_0x3289;_0x3743c2[_0x4ea2df(0x62c)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2a0730){const _0x349899=_0x314764,_0x2d5c02=doc(db,_0x349899(0x21f)+appId+'/public/data/quizzes',_0x2a0730);try{const _0xe617ed=await getDoc(_0x2d5c02);if(_0xe617ed['exists']()){const _0x712e03=_0xe617ed[_0x349899(0x31c)]()[_0x349899(0x822)]||![];await updateDoc(_0x2d5c02,{'isStarred':!_0x712e03});}}catch(_0x455283){console['error'](_0x349899(0x8be),_0x455283),showMessage(_0x349899(0x3a5));}}async function displayQuestionBank(){const _0x22f573=_0x314764,_0x2b9594=document[_0x22f573(0x6ce)](_0x22f573(0x5a1));_0x2b9594[_0x22f573(0x9c5)]=_0x22f573(0x6c4);try{const _0x57c5cb=collection(db,_0x22f573(0x21f)+appId+'/users/'+userId+_0x22f573(0x58e)),_0x80a8da=query(_0x57c5cb),_0x271ac5=await getDocs(_0x80a8da);if(_0x271ac5[_0x22f573(0x326)]){_0x2b9594[_0x22f573(0x9c5)]=_0x22f573(0x6dc);return;}let _0x4806b3=_0x271ac5['docs']['map'](_0x186015=>{const _0x149338=_0x22f573,_0x287496=_0x186015['data'](),_0xa5caf2=_0x186015['id'];return _0x149338(0x47b)+JSON[_0x149338(0x73a)](_0x287496)+_0x149338(0x19d)+(_0x287496['questionText']||_0x287496['stem'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x287496[_0x149338(0xa8f)]+_0x149338(0x8c4);})[_0x22f573(0x47c)]('');_0x2b9594[_0x22f573(0x9c5)]=_0x22f573(0x6e7)+_0x4806b3+_0x22f573(0x6c5),document['getElementById'](_0x22f573(0x1fe))[_0x22f573(0x9cd)]('click',createQuizFromBank);}catch(_0x319251){console[_0x22f573(0x9b3)]('Error\x20displaying\x20question\x20bank:',_0x319251),_0x2b9594['innerHTML']=_0x22f573(0x31d);}}async function handleExportLessonToPDF(){const _0x1dd616=_0x314764,_0x263814=document[_0x1dd616(0x6ce)](_0x1dd616(0x271)),_0x56e350=document[_0x1dd616(0x6ce)](_0x1dd616(0xb46))[_0x1dd616(0xa88)]||_0x1dd616(0x8c5);if(!_0x263814){showMessage(_0x1dd616(0x839));return;}const _0x2ef2e2=window[_0x1dd616(0x4fe)]('','_blank'),_0xd6c26='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x56e350+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x56e350+_0x1dd616(0xa83)+_0x263814['innerHTML']+_0x1dd616(0x1e2);_0x2ef2e2[_0x1dd616(0x404)][_0x1dd616(0x1cd)](_0xd6c26),_0x2ef2e2[_0x1dd616(0x404)][_0x1dd616(0x190)](),_0x2ef2e2[_0x1dd616(0x584)]=function(){setTimeout(()=>{const _0x294130=_0x3289;_0x2ef2e2[_0x294130(0x62c)]();},0x7d0);};}function showAdminLiveQuestionView(_0x1dba27,_0x30c868,_0x986e3f){const _0x86e000=_0x314764,_0x28b45a=_0x1dba27[_0x86e000(0xb6e)]||currentQuizData[_0x86e000(0xa1e)];let _0x207c86='';if(_0x28b45a===_0x86e000(0x75c)||_0x28b45a===_0x86e000(0xa97)){const _0x7c05c3=_0x28b45a==='true_false'?['ใช่',_0x86e000(0x9b7)]:_0x1dba27[_0x86e000(0x9b5)],_0x25c527=_0x28b45a===_0x86e000(0xa97)?_0x1dba27[_0x86e000(0x7c3)]?0x0:0x1:_0x1dba27['correctAnswerIndex'];_0x207c86=_0x7c05c3['map']((_0xeef275,_0x195983)=>_0x86e000(0x3d7)+(_0x195983===_0x25c527)+_0x86e000(0x3d4)+_0xeef275+_0x86e000(0x2de))[_0x86e000(0x47c)]('');}else{if(_0x28b45a===_0x86e000(0x554)){const _0x3d4b6d=_0x1dba27[_0x86e000(0x610)]||[];_0x207c86=_0x3d4b6d[_0x86e000(0x83a)](_0x334c52=>_0x86e000(0x3d7)+(_0x334c52===_0x1dba27[_0x86e000(0x53e)])+_0x86e000(0x3d4)+_0x334c52+_0x86e000(0x2de))[_0x86e000(0x47c)]('');}}const _0x439122=_0x1dba27['stem']||_0x1dba27[_0x86e000(0x41e)],_0x3a52f5=_0x86e000(0x642)+(_0x30c868+0x1)+_0x86e000(0x2d6)+_0x986e3f+_0x86e000(0x6d0)+currentLiveGamePin+_0x86e000(0x643)+_0x439122+_0x86e000(0x9d3)+_0x207c86+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x86e000(0x9c5)]=_0x3a52f5,window[_0x86e000(0x649)]&&MathJax[_0x86e000(0x966)]&&MathJax[_0x86e000(0x966)]([liveGameView]),document[_0x86e000(0x6ce)](_0x86e000(0x184))[_0x86e000(0x9cd)]('click',()=>revealAnswerForAdmin(_0x30c868,_0x986e3f)),document[_0x86e000(0x6ce)](_0x86e000(0xa7a))[_0x86e000(0x9cd)](_0x86e000(0x58a),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x134994=_0x3289,_0x50b74e=doc(db,_0x134994(0x21f)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x50b74e,{'status':_0x134994(0x9ee)});});}),document[_0x86e000(0x6ce)](_0x86e000(0x56d))['addEventListener'](_0x86e000(0x58a),()=>{const _0x3ab2c6=_0x86e000;document[_0x3ab2c6(0x6ce)](_0x3ab2c6(0x958))['classList'][_0x3ab2c6(0x8ff)](_0x3ab2c6(0xbc7));});}function promptForProjectBeforeGenerating(_0x28057b){const _0x35cac2=_0x314764,_0x80c1bb=document['getElementById']('move-quiz-modal'),_0x204e93=document[_0x35cac2(0x6ce)](_0x35cac2(0xb61)),_0x1d3b24=_0x80c1bb['querySelector']('h3'),_0x22b9df=document['getElementById'](_0x35cac2(0x793)),_0x422ca4=document[_0x35cac2(0x6ce)](_0x35cac2(0x8cf));_0x1d3b24[_0x35cac2(0xa88)]=_0x35cac2(0x9a2),_0x22b9df[_0x35cac2(0xa88)]=_0x35cac2(0x1da),_0x22b9df['disabled']=!![];allProjects[_0x35cac2(0x1eb)]===0x0?_0x204e93[_0x35cac2(0x9c5)]=_0x35cac2(0x240):(_0x204e93['innerHTML']=_0x35cac2(0x428)+allProjects['map'](_0x119fee=>'<option\x20value=\x22'+_0x119fee['id']+'\x22>'+_0x119fee[_0x35cac2(0xbbf)]+_0x35cac2(0x92c))[_0x35cac2(0x47c)](''),_0x22b9df[_0x35cac2(0x915)]=![]);_0x80c1bb[_0x35cac2(0x68d)][_0x35cac2(0x49f)](_0x35cac2(0xbc7));const _0x542f90=async()=>{const _0x32b658=_0x35cac2,_0x42bfba=_0x204e93[_0x32b658(0x3e6)];if(!_0x42bfba){showMessage(_0x32b658(0x804));return;}_0x80c1bb[_0x32b658(0x68d)]['add'](_0x32b658(0xbc7)),await loadProjectDetails(_0x42bfba),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x28057b),_0x2f03f9();},_0x2f03f9=()=>{const _0x3c1d44=_0x35cac2;_0x1d3b24[_0x3c1d44(0xa88)]=_0x3c1d44(0xae3),_0x22b9df[_0x3c1d44(0xa88)]=_0x3c1d44(0x56c),_0x22b9df[_0x3c1d44(0x5af)]('click',_0x542f90),_0x422ca4['removeEventListener'](_0x3c1d44(0x58a),_0x2f03f9),_0x22b9df[_0x3c1d44(0x9cd)](_0x3c1d44(0x58a),confirmMoveQuiz);};_0x22b9df['removeEventListener'](_0x35cac2(0x58a),confirmMoveQuiz),_0x22b9df[_0x35cac2(0x9cd)](_0x35cac2(0x58a),_0x542f90),_0x422ca4[_0x35cac2(0x9cd)]('click',_0x2f03f9);}function showStudentLiveQuestionView(_0x41ccc2,_0x2ebf4f,_0x230e30){const _0x5a95a0=_0x314764,_0x22dd57=_0x41ccc2[_0x5a95a0(0xb6e)]||currentQuizData[_0x5a95a0(0xa1e)];let _0x3a93d='';if(_0x22dd57===_0x5a95a0(0x75c)||_0x22dd57===_0x5a95a0(0xa97)){const _0x2b87c8=_0x22dd57==='true_false'?['ใช่',_0x5a95a0(0x9b7)]:_0x41ccc2[_0x5a95a0(0x9b5)];_0x3a93d=_0x2b87c8[_0x5a95a0(0x83a)]((_0x44965a,_0x2d1352)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2d1352+_0x5a95a0(0x728)+_0x44965a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5a95a0(0x47c)]('');}else{if(_0x22dd57===_0x5a95a0(0x554)){const _0x441a60=_0x41ccc2[_0x5a95a0(0x610)]||[];_0x3a93d=_0x441a60['map']((_0x2b26c2,_0x4d1aa5)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4d1aa5+_0x5a95a0(0x728)+_0x2b26c2+_0x5a95a0(0x7e1))[_0x5a95a0(0x47c)]('');}else _0x22dd57===_0x5a95a0(0x8a4)&&(_0x3a93d=_0x5a95a0(0x41a));}const _0x1a5d67=_0x41ccc2[_0x5a95a0(0x458)]||_0x41ccc2[_0x5a95a0(0x41e)],_0x3b8d31=_0x5a95a0(0xbe2)+(_0x2ebf4f+0x1)+_0x5a95a0(0x2d6)+_0x230e30+_0x5a95a0(0x842)+_0x1a5d67+_0x5a95a0(0x7e8)+_0x3a93d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5a95a0(0x9c5)]=_0x3b8d31;window[_0x5a95a0(0x649)]&&MathJax[_0x5a95a0(0x966)]&&MathJax['typesetPromise']([liveGameView]);const _0x273d6f=document['getElementById'](_0x5a95a0(0x7b7));_0x273d6f&&_0x273d6f[_0x5a95a0(0x9cd)](_0x5a95a0(0x58a),()=>{const _0x243884=_0x5a95a0,_0x4ee953=document['getElementById'](_0x243884(0x459))[_0x243884(0x3e6)];handleLiveAnswer(_0x4ee953,_0x41ccc2);}),document[_0x5a95a0(0x6ce)]('live-options-container')[_0x5a95a0(0x9cd)](_0x5a95a0(0x58a),_0x1a0c4a=>{const _0xfdaa29=_0x5a95a0,_0x31435f=_0x1a0c4a[_0xfdaa29(0x3cb)][_0xfdaa29(0x2ff)]('.live-answer-btn');if(_0x31435f){const _0x1a1318=parseInt(_0x31435f[_0xfdaa29(0x635)][_0xfdaa29(0x944)]);handleLiveAnswer(_0x1a1318,_0x41ccc2);}});}async function handleLiveAnswer(_0x19a9ba,_0xc6d16e){const _0x3928e0=_0x314764;document['querySelectorAll'](_0x3928e0(0x440))['forEach'](_0x36cbc2=>_0x36cbc2['disabled']=!![]);const _0x33e5fb=_0xc6d16e['questionType']||currentQuizData[_0x3928e0(0xa1e)];let _0x4a5ae1=![],_0x64472a=_0x19a9ba;if(_0x33e5fb==='short_answer'){const _0x118c7e=(_0x19a9ba||'')[_0x3928e0(0x2e2)]();_0x4a5ae1=await gradeShortAnswer(_0x118c7e,_0xc6d16e);}else{if(_0x33e5fb===_0x3928e0(0x75c))_0x4a5ae1=_0x19a9ba===_0xc6d16e['correctAnswerIndex'];else{if(_0x33e5fb==='true_false'){const _0x2b8adf=_0xc6d16e[_0x3928e0(0x7c3)];_0x4a5ae1=_0x19a9ba===0x0&&_0x2b8adf||_0x19a9ba===0x1&&!_0x2b8adf;}else{if(_0x33e5fb===_0x3928e0(0x554)){const _0x58e1ed=_0xc6d16e['allResponses'][_0x19a9ba];_0x4a5ae1=_0x58e1ed===_0xc6d16e[_0x3928e0(0x53e)],_0x64472a=_0x58e1ed;}}}}const _0x25ec79=doc(db,_0x3928e0(0x21f)+appId+'/public/data/liveGames',currentLiveGameId),_0x33ec93={};_0x33ec93[_0x3928e0(0xab6)+currentStudentName+_0x3928e0(0xb7a)]=!![],_0x33ec93['players.'+currentStudentName+_0x3928e0(0x9b9)]=_0x4a5ae1,_0x33ec93[_0x3928e0(0xab6)+currentStudentName+_0x3928e0(0x8b1)]=_0x33e5fb==='short_answer'||_0x33e5fb===_0x3928e0(0x554)?null:_0x19a9ba,_0x33ec93[_0x3928e0(0xab6)+currentStudentName+'.lastAnswerValue']=_0x64472a,_0x33ec93[_0x3928e0(0xab6)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x33ec93[_0x3928e0(0xab6)+currentStudentName+_0x3928e0(0x796)]=![],await updateDoc(_0x25ec79,_0x33ec93),liveGameView[_0x3928e0(0x9c5)]=_0x3928e0(0x503);}function showAdminSummaryView(_0x2c9cfa,_0x28bed9){const _0x1a39a9=_0x314764,_0x3eb101=Object[_0x1a39a9(0x799)](_0x2c9cfa[_0x1a39a9(0xb90)]||{}),_0x1f7cc9=_0x28bed9[_0x1a39a9(0xb6e)]||currentQuizData[_0x1a39a9(0xa1e)],_0x5f3e20=_0x1f7cc9===_0x1a39a9(0xa97)?[_0x1a39a9(0x1dd),_0x1a39a9(0x9b7)]:_0x28bed9[_0x1a39a9(0x9b5)]||_0x28bed9[_0x1a39a9(0x610)]||[],_0x3a41e4={},_0x380b05=new Array(_0x5f3e20[_0x1a39a9(0x1eb)])[_0x1a39a9(0x5ab)](0x0);_0x5f3e20[_0x1a39a9(0x97e)]((_0x393f65,_0x4e2fe1)=>{_0x3a41e4[_0x4e2fe1]=[];}),Object[_0x1a39a9(0x5ee)](_0x2c9cfa[_0x1a39a9(0xb90)]||{})[_0x1a39a9(0x97e)](([_0x5975fb,_0x1aedfc])=>{const _0x1e8daf=_0x1a39a9;if(_0x1aedfc['status']===_0x1e8daf(0x7e3)&&_0x1aedfc[_0x1e8daf(0x73f)]!==undefined){const _0x48ffe6=_0x1aedfc[_0x1e8daf(0x73f)];_0x3a41e4[_0x48ffe6]&&(_0x3a41e4[_0x48ffe6][_0x1e8daf(0x403)](_0x5975fb),_0x380b05[_0x48ffe6]++);}});const _0x4647c0=Math[_0x1a39a9(0x2c2)](..._0x380b05,0x1),_0x458cda=_0x1a39a9(0x2ea)+(_0x28bed9['stem']||_0x28bed9[_0x1a39a9(0x41e)])+_0x1a39a9(0x686)+_0x380b05[_0x1a39a9(0x83a)]((_0x4d1213,_0x5a8fec)=>{const _0x4beb35=_0x1a39a9,_0x31b2f4=_0x3a41e4[_0x5a8fec][_0x4beb35(0x1eb)]>0x0?_0x3a41e4[_0x5a8fec]['join'](',\x20'):_0x4beb35(0x70f);let _0xf674be=![];if(_0x1f7cc9==='multiple_choice')_0xf674be=_0x5a8fec===_0x28bed9['correctAnswerIndex'];else{if(_0x1f7cc9===_0x4beb35(0xa97)){const _0x269fa9=_0x28bed9[_0x4beb35(0x7c3)];_0xf674be=_0x269fa9&&_0x5a8fec===0x0||!_0x269fa9&&_0x5a8fec===0x1;}else _0x1f7cc9===_0x4beb35(0x554)&&(_0xf674be=_0x5f3e20[_0x5a8fec]===_0x28bed9['correctResponse']);}const _0x30f7ad=_0xf674be?_0x4beb35(0xb37):'#e21b3c';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x4d1213+_0x4beb35(0x4e6)+_0x30f7ad+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x5a8fec+_0x4beb35(0x5fa)+_0x5f3e20[_0x5a8fec]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x5a8fec+_0x4beb35(0xbaf)+_0x31b2f4+_0x4beb35(0x855);})[_0x1a39a9(0x47c)]('')+_0x1a39a9(0x826);liveGameView[_0x1a39a9(0x9c5)]=_0x458cda;if(window[_0x1a39a9(0x649)])MathJax[_0x1a39a9(0x966)]();document[_0x1a39a9(0x6ce)](_0x1a39a9(0x837))['addEventListener'](_0x1a39a9(0x58a),async()=>{const _0xb636c4=_0x1a39a9,_0x22360e=doc(db,_0xb636c4(0x21f)+appId+_0xb636c4(0x937),currentLiveGameId);await updateDoc(_0x22360e,{'questionStatus':_0xb636c4(0x873)});}),document['getElementById']('open-scratchpad-btn')['addEventListener'](_0x1a39a9(0x58a),()=>{openScratchpad(_0x28bed9,_0x5f3e20);});}function showPlayerSummaryView(_0x4dc322,_0x4acbf3){const _0x508ec7=_0x314764,_0x3c54d1=Object['values'](_0x4dc322[_0x508ec7(0xb90)]||{}),_0xcb6e93=_0x4dc322[_0x508ec7(0xb90)][_0x4acbf3],_0x3193f0=_0x3c54d1[_0x508ec7(0x595)](_0x387a5a=>_0x387a5a[_0x508ec7(0xbfc)]===_0x508ec7(0x7e3))[_0x508ec7(0x588)]((_0xba9f88,_0x3804c6)=>_0x3804c6[_0x508ec7(0xbde)]-_0xba9f88['score']),_0x5578d4=_0x3193f0[_0x508ec7(0xb57)](_0x2f290b=>_0x2f290b===_0xcb6e93)+0x1,_0x3df6fc=_0xcb6e93[_0x508ec7(0xbc1)]?_0x508ec7(0x86d):_0x508ec7(0x3e3),_0x22ae50=_0xcb6e93[_0x508ec7(0xbc1)]?_0x508ec7(0x18f):_0x508ec7(0x910),_0x2af0ca=_0xcb6e93[_0x508ec7(0x912)]||0x0,_0x516627=_0x508ec7(0x573),_0x50203=_0x508ec7(0x680)+_0x516627+_0x508ec7(0x331)+_0x22ae50+_0x508ec7(0x98d)+_0x3df6fc+_0x508ec7(0x54a)+_0x2af0ca+_0x508ec7(0xa33)+(_0x5578d4>0x0?_0x5578d4:'-')+_0x508ec7(0x8e6);liveGameView[_0x508ec7(0x9c5)]=_0x50203;}function createQuizFromBank(){const _0x47d118=_0x314764,_0x1aa4f0=document['querySelectorAll'](_0x47d118(0x89e));if(_0x1aa4f0[_0x47d118(0x1eb)]===0x0){showMessage(_0x47d118(0xac7));return;}const _0x382aec=[];_0x1aa4f0[_0x47d118(0x97e)](_0x516ada=>{const _0x100f2b=_0x47d118;_0x382aec[_0x100f2b(0x403)](JSON['parse'](_0x516ada['value']));});const _0x4cf84d={'topic':_0x47d118(0x92a),'questions':_0x382aec};displayGeneratedQuiz(_0x4cf84d);}function showAdminLobbyView(_0x4940d1,_0x22bf2c){const _0x48b4f4=_0x314764;showView(_0x48b4f4(0x5a8));const _0x2fb23e=_0x48b4f4(0xa37)+_0x22bf2c+_0x48b4f4(0xa84)+_0x4940d1+_0x48b4f4(0x7ed);liveGameView[_0x48b4f4(0x9c5)]=_0x2fb23e,document[_0x48b4f4(0x6ce)]('start-game-btn')[_0x48b4f4(0x9cd)]('click',async()=>{const _0x1b0243=_0x48b4f4;if(!currentQuizData||!currentQuizData[_0x1b0243(0x7bb)]||currentQuizData[_0x1b0243(0x7bb)][_0x1b0243(0x1eb)]===0x0){showMessage(_0x1b0243(0x790));return;}try{const _0x20b8b7=doc(db,_0x1b0243(0x21f)+appId+_0x1b0243(0x937),currentLiveGameId);await updateDoc(_0x20b8b7,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x234257=currentQuizData[_0x1b0243(0x7bb)][0x0],_0x7dda86=currentQuizData[_0x1b0243(0x7bb)][_0x1b0243(0x1eb)];showAdminLiveQuestionView(_0x234257,0x0,_0x7dda86);}catch(_0xc18fbe){console[_0x1b0243(0x9b3)](_0x1b0243(0x9b0),_0xc18fbe),showMessage(_0x1b0243(0xbbe));}});}async function openGlobalLiveModal(){const _0x2f2439=_0x314764;if(allQuizzesGlobal[_0x2f2439(0x1eb)]===0x0){const _0x448d05=await getDocs(collection(db,_0x2f2439(0x21f)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x448d05[_0x2f2439(0xc27)][_0x2f2439(0x83a)](_0x1f119a=>({'id':_0x1f119a['id'],..._0x1f119a[_0x2f2439(0x31c)]()}));}renderGlobalQuizList(''),document[_0x2f2439(0x6ce)](_0x2f2439(0x7f4))[_0x2f2439(0x68d)]['remove'](_0x2f2439(0xbc7));}async function openQuizBankModal(){const _0x45ca01=_0x314764;if(allQuizzesGlobal[_0x45ca01(0x1eb)]===0x0){const _0xb0d308=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xb0d308[_0x45ca01(0xc27)][_0x45ca01(0x83a)](_0x1bdeee=>({'id':_0x1bdeee['id'],..._0x1bdeee[_0x45ca01(0x31c)]()}));}renderQuizBankList(''),document[_0x45ca01(0x6ce)](_0x45ca01(0xb39))[_0x45ca01(0x68d)][_0x45ca01(0x49f)](_0x45ca01(0xbc7));}function renderQuizBankList(_0x49514e='',_0xc5fc2e=![]){const _0x2927fe=_0x314764,_0x25697c=document[_0x2927fe(0x6ce)](_0x2927fe(0x9dd)),_0xe2b3eb=_0x49514e[_0x2927fe(0x5db)]()[_0x2927fe(0x1b6)](),_0x117457=allQuizzesGlobal['map'](_0x13f346=>({..._0x13f346,'projectName':allProjects['find'](_0xef3bb8=>_0xef3bb8['id']===_0x13f346[_0x2927fe(0x368)])?.[_0x2927fe(0xbbf)]||_0x2927fe(0x78b)}))[_0x2927fe(0x595)](_0x5d6f05=>(_0x5d6f05[_0x2927fe(0x265)]||'')[_0x2927fe(0x5db)]()['includes'](_0xe2b3eb)||(_0x5d6f05[_0x2927fe(0xbbf)]||'')[_0x2927fe(0x5db)]()[_0x2927fe(0x8f7)](_0xe2b3eb)||_0x5d6f05['id'][_0x2927fe(0x2e2)]()['includes'](_0xe2b3eb));document['getElementById'](_0x2927fe(0x632))[_0x2927fe(0xa88)]='('+_0x117457['length']+_0x2927fe(0x6f5),_0x25697c['innerHTML']=_0x117457['length']?_0x117457[_0x2927fe(0x83a)](_0x16658a=>{const _0x34a8c3=_0x2927fe,_0x13d9bd=!_0xc5fc2e?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x16658a['id']+_0x34a8c3(0xa6d)+_0x16658a['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x16658a['id']+_0x34a8c3(0xb45)+_0x16658a['id']+_0x34a8c3(0x476)+_0x16658a['id']+_0x34a8c3(0xb8c)+_0x16658a['id']+_0x34a8c3(0x633)+_0x16658a[_0x34a8c3(0x265)]+_0x34a8c3(0xab0):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x16658a['id']+_0x34a8c3(0xb9a)+(_0x16658a[_0x34a8c3(0x265)]||_0x34a8c3(0xa77))+_0x34a8c3(0xb33)+(_0x16658a[_0x34a8c3(0x7bb)]?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x16658a[_0x34a8c3(0xbbf)]+_0x34a8c3(0xaf6)+_0x16658a['id']+_0x34a8c3(0x2fc)+_0x13d9bd+'\x0a\x20\x20\x20\x20\x20\x20</div>';})['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0xc5fc2e&&(_0x25697c['querySelectorAll'](_0x2927fe(0x902))[_0x2927fe(0x97e)](_0xf22943=>{const _0x3145fd=_0x2927fe;_0xf22943[_0x3145fd(0x9cd)](_0x3145fd(0x58a),()=>{const _0x5d64dc=_0x3145fd,_0x4d8d6e=_0xf22943[_0x5d64dc(0x635)]['id'];document[_0x5d64dc(0x6ce)](_0x5d64dc(0xb39))[_0x5d64dc(0x68d)]['add'](_0x5d64dc(0xbc7)),showQuizDetailView(_0x4d8d6e);});}),_0x25697c[_0x2927fe(0x3e7)](_0x2927fe(0x5ff))[_0x2927fe(0x97e)](_0x29a6b6=>{const _0x5a257a=_0x2927fe;_0x29a6b6['addEventListener'](_0x5a257a(0x58a),_0x330f06=>{const _0x485bf7=_0x5a257a;_0x330f06['stopPropagation']();const _0x1d40a1=_0x29a6b6[_0x485bf7(0x635)]['id'],_0x1634a8=allQuizzesGlobal['find'](_0x355fe7=>_0x355fe7['id']===_0x1d40a1);_0x1634a8?(currentQuizData=_0x1634a8,document[_0x485bf7(0x6ce)](_0x485bf7(0xb39))[_0x485bf7(0x68d)]['add']('hidden'),startAdminTest()):showMessage(_0x485bf7(0x80c));});}),_0x25697c['querySelectorAll']('.quiz-bank-parallel-btn')[_0x2927fe(0x97e)](_0x3fa086=>{const _0x4ac240=_0x2927fe;_0x3fa086['addEventListener'](_0x4ac240(0x58a),_0x4a1d0c=>{const _0x2b1809=_0x4ac240;_0x4a1d0c['stopPropagation']();const _0xffd341=_0x3fa086['dataset']['id'],_0x2692fc=allQuizzesGlobal[_0x2b1809(0xae2)](_0x457c6e=>_0x457c6e['id']===_0xffd341);_0x2692fc?(document[_0x2b1809(0x6ce)](_0x2b1809(0xb39))[_0x2b1809(0x68d)]['add'](_0x2b1809(0xbc7)),handleGenerateParallelFromBank(_0x2692fc)):showMessage(_0x2b1809(0x80c));});}),_0x25697c['querySelectorAll'](_0x2927fe(0xbc6))[_0x2927fe(0x97e)](_0x3f9f52=>{const _0x1c673b=_0x2927fe;_0x3f9f52[_0x1c673b(0x9cd)]('click',_0x979a8=>{const _0x1e3213=_0x1c673b;_0x979a8[_0x1e3213(0x890)]();const _0x348fa4=_0x3f9f52[_0x1e3213(0x635)]['id'],_0x6f60ee=allQuizzesGlobal[_0x1e3213(0xae2)](_0x5e35ef=>_0x5e35ef['id']===_0x348fa4);_0x6f60ee?(document['getElementById'](_0x1e3213(0xb39))[_0x1e3213(0x68d)]['add'](_0x1e3213(0xbc7)),startPresentation(_0x6f60ee)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x25697c[_0x2927fe(0x3e7)](_0x2927fe(0x9c7))[_0x2927fe(0x97e)](_0x398050=>{const _0x4dac89=_0x2927fe;_0x398050[_0x4dac89(0x9cd)](_0x4dac89(0x58a),_0x358ca8=>{const _0x414c79=_0x4dac89;_0x358ca8[_0x414c79(0x890)]();const _0x11ee32=_0x398050['dataset']['id'];document['getElementById'](_0x414c79(0xb39))['classList'][_0x414c79(0x8f4)](_0x414c79(0xbc7)),handleMoveQuiz(_0x11ee32);});}),_0x25697c[_0x2927fe(0x3e7)](_0x2927fe(0x854))[_0x2927fe(0x97e)](_0x3fc46f=>{const _0x15d971=_0x2927fe;_0x3fc46f[_0x15d971(0x9cd)](_0x15d971(0x58a),_0x1eaa8d=>{const _0x2e70ad=_0x15d971;_0x1eaa8d['stopPropagation']();const _0x36499b=_0x3fc46f[_0x2e70ad(0x635)]['id'];document[_0x2e70ad(0x6ce)]('quiz-bank-modal')[_0x2e70ad(0x68d)][_0x2e70ad(0x8f4)](_0x2e70ad(0xbc7)),handleQuizSettings(_0x36499b);});}),_0x25697c['querySelectorAll'](_0x2927fe(0x593))[_0x2927fe(0x97e)](_0x46b330=>{const _0x352aaf=_0x2927fe;_0x46b330[_0x352aaf(0x9cd)]('click',_0x2630db=>{const _0x45c8a9=_0x352aaf;_0x2630db[_0x45c8a9(0x890)]();const _0x163781=_0x46b330[_0x45c8a9(0x635)]['id'],_0x40734c=_0x46b330[_0x45c8a9(0x635)][_0x45c8a9(0x265)];showConfirmation(_0x45c8a9(0x932)+_0x40734c+_0x45c8a9(0x411),()=>handleDeleteQuiz(_0x163781));});}));}async function handleCompareResults(_0x1c87cb,_0x2e41a8){const _0x1cfacc=_0x314764,_0xf2a230=document['getElementById'](_0x1cfacc(0x865)),_0x454e97=document['getElementById']('comparison-overall-content'),_0x22a354=document[_0x1cfacc(0x6ce)](_0x1cfacc(0xa90));document[_0x1cfacc(0x6ce)](_0x1cfacc(0xb9c))['classList'][_0x1cfacc(0x8f4)]('active'),document[_0x1cfacc(0x6ce)](_0x1cfacc(0x792))[_0x1cfacc(0x68d)][_0x1cfacc(0x49f)]('active'),_0x454e97[_0x1cfacc(0x68d)][_0x1cfacc(0x49f)](_0x1cfacc(0xbc7)),_0x22a354[_0x1cfacc(0x68d)][_0x1cfacc(0x8f4)]('hidden'),_0x454e97[_0x1cfacc(0x9c5)]=_0x1cfacc(0x6c4),_0x22a354[_0x1cfacc(0x9c5)]='',_0xf2a230[_0x1cfacc(0x68d)]['remove']('hidden');try{const _0x80d14e=doc(db,_0x1cfacc(0x21f)+appId+_0x1cfacc(0x544),_0x1c87cb),_0x439197=await getDoc(_0x80d14e);if(!_0x439197[_0x1cfacc(0x232)]())throw new Error(_0x1cfacc(0x33e));const _0x5f236a=_0x439197[_0x1cfacc(0x31c)](),_0x4bc751=_0x5f236a[_0x1cfacc(0x7bb)][_0x1cfacc(0x1eb)],_0x491540=collection(db,'artifacts/'+appId+_0x1cfacc(0x75f)+_0x2e41a8+_0x1cfacc(0x9f3)),_0x51adde=collection(db,_0x1cfacc(0x21f)+appId+'/public/data/quizzes/'+_0x1c87cb+_0x1cfacc(0x9f3)),[_0x211b2a,_0x220dbb]=await Promise['all']([getDocs(_0x491540),getDocs(_0x51adde)]),_0x512411=_0x211b2a[_0x1cfacc(0xc27)][_0x1cfacc(0x83a)](_0x32e73e=>_0x32e73e[_0x1cfacc(0x31c)]()),_0x4f280b=_0x220dbb[_0x1cfacc(0xc27)][_0x1cfacc(0x83a)](_0x1818e3=>_0x1818e3[_0x1cfacc(0x31c)]()),_0xb69998=_0x512411[_0x1cfacc(0x83a)](_0x5cf07f=>_0x5cf07f[_0x1cfacc(0x319)]),_0x29d719=_0x4f280b[_0x1cfacc(0x83a)](_0x503bdf=>_0x503bdf[_0x1cfacc(0x319)]),_0xa71673=calculateMeanAndStdDev(_0xb69998),_0x867ffb=calculateMeanAndStdDev(_0x29d719),_0x28c64c=_0xa71673['mean'],_0x1215de=_0x867ffb[_0x1cfacc(0xb2b)],_0x59d3e5=_0x1215de-_0x28c64c;let _0x158de4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x28c64c[_0x1cfacc(0x5ca)](0x2)+_0x1cfacc(0x186)+_0x1215de['toFixed'](0x2)+_0x1cfacc(0xc1f)+(_0x59d3e5>=0x0?'bg-emerald-100':'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x59d3e5>=0x0?_0x1cfacc(0x604):'text-red-800')+_0x1cfacc(0x599)+(_0x59d3e5>=0x0?_0x1cfacc(0x650):_0x1cfacc(0x3ba))+'\x22>'+(_0x59d3e5>=0x0?'+':'')+_0x59d3e5[_0x1cfacc(0x5ca)](0x2)+_0x1cfacc(0x967);_0x454e97[_0x1cfacc(0x9c5)]=_0x158de4;const _0xe67c52=document[_0x1cfacc(0x6ce)](_0x1cfacc(0x88e))[_0x1cfacc(0x5d8)]('2d');if(chartInstances[_0x1cfacc(0x510)])chartInstances['comparison'][_0x1cfacc(0xaec)]();chartInstances[_0x1cfacc(0x510)]=new Chart(_0xe67c52,{'type':_0x1cfacc(0x813),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x1cfacc(0x1d2),'data':[_0x28c64c],'backgroundColor':_0x1cfacc(0x7f2)},{'label':'หลังเรียน','data':[_0x1215de],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4bc751}}}});const _0x185e5c=currentProjectData[_0x1cfacc(0x801)]||[],_0x1da88e=_0x185e5c[_0x1cfacc(0x83a)](_0x51ac92=>{const _0x1aecc9=_0x1cfacc,_0x4b8a49=_0x512411['find'](_0x4734de=>_0x4734de[_0x1aecc9(0x43f)]===_0x51ac92),_0x4c40cf=_0x4f280b[_0x1aecc9(0xae2)](_0x4e3d96=>_0x4e3d96['studentName']===_0x51ac92),_0x41302e=_0x4b8a49?_0x4b8a49[_0x1aecc9(0x319)]:null,_0x5c67a7=_0x4c40cf?_0x4c40cf[_0x1aecc9(0x319)]:null,_0x4b1f35=_0x41302e!==null&&_0x5c67a7!==null?_0x5c67a7-_0x41302e:null,_0x929c56=_0x41302e!==null?calculateZScore(_0x41302e,_0xa71673[_0x1aecc9(0xb2b)],_0xa71673[_0x1aecc9(0xa2f)]):null,_0xb1a3fc=_0x5c67a7!==null?calculateZScore(_0x5c67a7,_0x867ffb[_0x1aecc9(0xb2b)],_0x867ffb[_0x1aecc9(0xa2f)]):null,_0x1410c8=_0x929c56!==null?calculateTScore(_0x929c56):null,_0x3c4abb=_0xb1a3fc!==null?calculateTScore(_0xb1a3fc):null,_0x3d6395=_0x1410c8!==null&&_0x3c4abb!==null?_0x3c4abb-_0x1410c8:null;return{'name':_0x51ac92,'preScore':_0x41302e,'postScore':_0x5c67a7,'gain':_0x4b1f35,'preTScore':_0x1410c8,'postTScore':_0x3c4abb,'tGain':_0x3d6395};});renderIndividualComparisonTable(_0x1da88e,_0x22a354);}catch(_0x2e2a43){console[_0x1cfacc(0x9b3)](_0x1cfacc(0x21b),_0x2e2a43),_0x454e97['innerHTML']=_0x1cfacc(0x797);}}async function saveBlueprintProject(){const _0x23806b=_0x314764;if(!extractedBlueprintData||!extractedBlueprintData[_0x23806b(0x634)]){showMessage(_0x23806b(0x771));return;}const _0x1dfdac=prompt(_0x23806b(0x6ac),_0x23806b(0x3ed));if(!_0x1dfdac||_0x1dfdac[_0x23806b(0x1b6)]()==='')return;const _0x37a91c={};extractedBlueprintData['curriculum'][_0x23806b(0x97e)](_0xca8f4b=>{const _0x5afd50=_0x23806b;_0xca8f4b['mainTopics'][_0x5afd50(0x97e)](_0x3f5ad1=>{const _0x353647=_0x5afd50;_0x3f5ad1[_0x353647(0xc1c)][_0x353647(0x97e)](_0x4282f6=>{const _0x592b0a=_0x353647,_0x198067=_0x592b0a(0x98c)+Date[_0x592b0a(0x72c)]()+Math[_0x592b0a(0x2e9)]()[_0x592b0a(0x2e2)](0x24)[_0x592b0a(0x47e)](0x2,0x9);_0x37a91c[_0x198067]={'sara':_0xca8f4b['sara'],'mainTopic':_0x3f5ad1[_0x592b0a(0x5ba)],'subTopic':_0x4282f6,'status':'not_generated','lessonContent':null};});});});try{const _0x4fcc79=collection(db,_0x23806b(0x21f)+appId+'/public/data/blueprintProjects');await addDoc(_0x4fcc79,{'projectName':_0x1dfdac[_0x23806b(0x1b6)](),'gradeLevel':extractedBlueprintData[_0x23806b(0x441)],'topics':_0x37a91c,'createdAt':serverTimestamp()}),showMessage(_0x23806b(0x585)+_0x1dfdac[_0x23806b(0x1b6)]()+_0x23806b(0x491)),document[_0x23806b(0x6ce)](_0x23806b(0x5dd))[_0x23806b(0x68d)][_0x23806b(0x8f4)]('hidden');}catch(_0x3b687a){console[_0x23806b(0x9b3)](_0x23806b(0x53c),_0x3b687a),showMessage(_0x23806b(0x8b0));}}async function showBlueprintProjects(){const _0x1a5544=_0x314764,_0x1971ab=document[_0x1a5544(0x6ce)](_0x1a5544(0x3aa)),_0x2c2c15=document[_0x1a5544(0x6ce)](_0x1a5544(0xa61));_0x2c2c15[_0x1a5544(0x9c5)]=_0x1a5544(0x9db),_0x1971ab[_0x1a5544(0x68d)][_0x1a5544(0x49f)](_0x1a5544(0xbc7));try{const _0x35b877=collection(db,_0x1a5544(0x21f)+appId+_0x1a5544(0xa32)),_0x1930d7=await getDocs(_0x35b877);if(_0x1930d7[_0x1a5544(0x326)]){_0x2c2c15[_0x1a5544(0x9c5)]=_0x1a5544(0xa72);return;}const _0xfca6d7=_0x1930d7['docs'][_0x1a5544(0x83a)](_0x549be4=>({'id':_0x549be4['id'],..._0x549be4[_0x1a5544(0x31c)]()}));_0xfca6d7[_0x1a5544(0x588)]((_0x677ef1,_0x5b529e)=>_0x677ef1[_0x1a5544(0xbbf)][_0x1a5544(0xb5d)](_0x5b529e[_0x1a5544(0xbbf)],'th')),_0x2c2c15[_0x1a5544(0x9c5)]=_0xfca6d7[_0x1a5544(0x83a)](_0x2c6bad=>_0x1a5544(0xaae)+_0x2c6bad[_0x1a5544(0xbbf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x2c6bad[_0x1a5544(0x441)]+_0x1a5544(0xb01)+Object[_0x1a5544(0x34a)](_0x2c6bad[_0x1a5544(0x315)])[_0x1a5544(0x1eb)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2c6bad['id']+_0x1a5544(0x4ff)+_0x2c6bad['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1a5544(0x47c)]('');}catch(_0x58e7d4){console['error'](_0x1a5544(0x358),_0x58e7d4),_0x2c2c15[_0x1a5544(0x9c5)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x177057){const _0x85dba4=_0x314764;currentBlueprintProjectId=_0x177057,document[_0x85dba4(0x6ce)]('blueprint-projects-modal')['classList'][_0x85dba4(0x8f4)](_0x85dba4(0xbc7)),showView(_0x85dba4(0x1a4)),projectDashboardView['classList'][_0x85dba4(0x8f4)](_0x85dba4(0xbc7));const _0x4ded88=document['getElementById'](_0x85dba4(0x1bd));_0x4ded88['classList'][_0x85dba4(0x49f)](_0x85dba4(0xbc7)),document[_0x85dba4(0x6ce)]('bp-topic-list-container')[_0x85dba4(0x9c5)]=_0x85dba4(0x6c4);try{const _0x1ae8d6=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x177057),_0x52cd88=await getDoc(_0x1ae8d6);if(!_0x52cd88[_0x85dba4(0x232)]())throw new Error('ไม่พบโปรเจค');const _0x58c948={'id':_0x52cd88['id'],..._0x52cd88[_0x85dba4(0x31c)]()};document[_0x85dba4(0x6ce)](_0x85dba4(0x4ba))[_0x85dba4(0xa88)]=_0x58c948[_0x85dba4(0xbbf)],renderBlueprintTopicManager(_0x58c948);}catch(_0x29d18b){console[_0x85dba4(0x9b3)](_0x85dba4(0x40f),_0x29d18b),showMessage(_0x29d18b['message']),showView(_0x85dba4(0x1a4));}}function renderBlueprintTopicManager(_0xf20f8f){const _0x54e554=_0x314764,_0xc58463=document['getElementById'](_0x54e554(0xb10)),_0x5a773c=_0xf20f8f[_0x54e554(0x315)]||{};if(Object[_0x54e554(0x34a)](_0x5a773c)[_0x54e554(0x1eb)]===0x0){_0xc58463[_0x54e554(0x9c5)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0xfe7a12={};for(const _0x5e7a08 in _0x5a773c){const _0xf01e6b={'id':_0x5e7a08,..._0x5a773c[_0x5e7a08]};_0xfe7a12[_0xf01e6b['sara']]=_0xfe7a12[_0xf01e6b['sara']]||{},_0xfe7a12[_0xf01e6b[_0x54e554(0x654)]][_0xf01e6b[_0x54e554(0x8ec)]]=_0xfe7a12[_0xf01e6b[_0x54e554(0x654)]][_0xf01e6b['mainTopic']]||[],_0xfe7a12[_0xf01e6b[_0x54e554(0x654)]][_0xf01e6b[_0x54e554(0x8ec)]][_0x54e554(0x403)](_0xf01e6b);}let _0x43ba9a='';const _0x284e78=Object['keys'](_0xfe7a12)[_0x54e554(0x588)]((_0x2a990c,_0xe6037e)=>_0x2a990c['localeCompare'](_0xe6037e,'th'));for(const _0x4ad92b of _0x284e78){_0x43ba9a+=_0x54e554(0x5c4)+_0x4ad92b+_0x54e554(0x7af);const _0x1ffa2d=Object['keys'](_0xfe7a12[_0x4ad92b])[_0x54e554(0x588)]((_0x26e6c1,_0x3817a4)=>_0x26e6c1[_0x54e554(0xb5d)](_0x3817a4,'th'));for(const _0x7b684f of _0x1ffa2d){_0x43ba9a+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x7b684f+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0xfe7a12[_0x4ad92b][_0x7b684f][_0x54e554(0x588)]((_0x4df0b2,_0x461ac9)=>_0x4df0b2[_0x54e554(0xa04)][_0x54e554(0xb5d)](_0x461ac9[_0x54e554(0xa04)],'th')),_0xfe7a12[_0x4ad92b][_0x7b684f][_0x54e554(0x97e)](_0x28a6bc=>{const _0x5572ec=_0x54e554,_0x3a2151=_0x28a6bc['id'],_0x58ee8e=_0x28a6bc[_0x5572ec(0x4ed)]||[],_0x1e7de3=_0x58ee8e['length']>0x0,_0xb26cb1=_0x28a6bc[_0x5572ec(0xbfc)]==='generated';let _0x141703='';_0x1e7de3?_0x141703=_0x5572ec(0x743)+_0x58ee8e[_0x5572ec(0x1eb)]+_0x5572ec(0x7e9):_0x141703=_0x5572ec(0x1b1)+(_0xb26cb1?_0x5572ec(0x361):_0x5572ec(0x4f1))+'\x22>'+(_0xb26cb1?'สร้างแล้ว':_0x5572ec(0x98a))+_0x5572ec(0x37f);const _0xdfa061=!_0xb26cb1?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x441ce1=!_0xb26cb1?_0x5572ec(0x901):'';let _0x2fd17b=_0xb26cb1?_0x5572ec(0x420):_0x5572ec(0x297);_0x43ba9a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x3a2151+_0x5572ec(0x784)+_0x28a6bc['subTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x141703+_0x5572ec(0x449)+_0xdfa061+_0x5572ec(0x276)+_0x441ce1+_0x5572ec(0x27b)+_0x2fd17b+_0x5572ec(0x980);}),_0x43ba9a+=_0x54e554(0xa74);}_0x43ba9a+=_0x54e554(0x67d);}_0xc58463[_0x54e554(0x9c5)]=_0x43ba9a;}async function openTopicQuizBank(_0x510272){const _0x69e142=_0x314764,_0x2d7eaf=document['getElementById'](_0x69e142(0x679)),_0x4e436d=document[_0x69e142(0x6ce)](_0x69e142(0x870)),_0x449497=document['getElementById'](_0x69e142(0xaa8));try{await ensureGlobalQuizzesLoaded();const _0x8dfb72=doc(db,_0x69e142(0x21f)+appId+_0x69e142(0xa32),currentBlueprintProjectId),_0x5e5b41=await getDoc(_0x8dfb72);if(!_0x5e5b41['exists']())return;const _0x5e836f=_0x5e5b41['data'](),_0x13ab95=_0x5e836f[_0x69e142(0x315)][_0x510272];document['getElementById'](_0x69e142(0x89b))[_0x69e142(0xa88)]=_0x13ab95[_0x69e142(0xa04)];const _0x5de664=_0x13ab95['linkedQuizIds']||[];_0x449497[_0x69e142(0x68d)][_0x69e142(0x8ff)](_0x69e142(0xbc7),_0x5de664['length']===0x0),_0x449497[_0x69e142(0xb41)]=()=>handleClearAllLinksForTopic(_0x510272);if(_0x5de664[_0x69e142(0x1eb)]===0x0)_0x4e436d[_0x69e142(0x9c5)]=_0x69e142(0x7ee);else{const _0x55a3d0=allQuizzesGlobal[_0x69e142(0x595)](_0x37dc28=>_0x5de664['includes'](_0x37dc28['id']));_0x4e436d['innerHTML']=_0x55a3d0[_0x69e142(0x83a)](_0xaf8928=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0xaf8928['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0xaf8928[_0x69e142(0x265)]+_0x69e142(0x7fa)+_0xaf8928['id']+_0x69e142(0xb01)+_0xaf8928['questions'][_0x69e142(0x1eb)]+_0x69e142(0x45b)+_0xaf8928['id']+_0x69e142(0x24f)+_0xaf8928['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xaf8928['id']+_0x69e142(0x72b)+_0xaf8928['id']+_0x69e142(0xa2e)+_0xaf8928['id']+_0x69e142(0xa9d)+_0xaf8928['id']+_0x69e142(0x87d)+_0x510272+_0x69e142(0x72d)+_0xaf8928['id']+_0x69e142(0x5c5))[_0x69e142(0x47c)]('');}document[_0x69e142(0x6ce)](_0x69e142(0x2c7))[_0x69e142(0xb41)]=()=>{openQuizSelectorForBlueprint(_0x510272);},document[_0x69e142(0x6ce)](_0x69e142(0xc21))['onclick']=()=>_0x2d7eaf[_0x69e142(0x68d)][_0x69e142(0x8f4)]('hidden'),_0x2d7eaf['classList']['remove'](_0x69e142(0xbc7));}catch(_0x348a2c){showMessage(_0x348a2c[_0x69e142(0x86b)]);}}async function openQuizSelectorForBlueprint(_0x319ea6){const _0x33243d=_0x314764,_0x2fd424=document[_0x33243d(0x6ce)]('quiz-bank-modal'),_0x17ee31=document[_0x33243d(0x6ce)](_0x33243d(0x679));_0x17ee31['classList'][_0x33243d(0x8f4)](_0x33243d(0xbc7)),document[_0x33243d(0x6ce)](_0x33243d(0x391))?.[_0x33243d(0x49f)]();const _0x372a7f=document[_0x33243d(0x692)](_0x33243d(0x7a0));_0x372a7f['id']=_0x33243d(0x391),_0x372a7f['className']=_0x33243d(0x561),_0x372a7f[_0x33243d(0xa88)]=_0x33243d(0x69f),_0x372a7f[_0x33243d(0x915)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x2fd424[_0x33243d(0x68d)][_0x33243d(0x49f)](_0x33243d(0xbc7)),renderQuizBankListForMultiSelect(''),document[_0x33243d(0x6ce)](_0x33243d(0x3da))[_0x33243d(0x58c)][_0x33243d(0xbe1)]='none',_0x2fd424[_0x33243d(0x612)]('.flex.justify-between.items-center')['appendChild'](_0x372a7f);const _0x22f77d=(_0x28e135=![])=>{const _0x122295=_0x33243d;_0x2fd424[_0x122295(0x68d)][_0x122295(0x8f4)]('hidden'),document[_0x122295(0x6ce)](_0x122295(0x3da))[_0x122295(0x58c)][_0x122295(0xbe1)]=_0x122295(0xbb9),_0x372a7f[_0x122295(0x49f)](),_0x28e135&&openTopicQuizBank(_0x319ea6);};_0x372a7f[_0x33243d(0xb41)]=async()=>{const _0x48848a=_0x33243d,_0x2dca78=Array[_0x48848a(0x2db)](document[_0x48848a(0x3e7)]('.quiz-bank-checkbox:checked'))['map'](_0x488e8d=>_0x488e8d[_0x48848a(0x3e6)]);if(_0x2dca78[_0x48848a(0x1eb)]===0x0)return;try{const _0x596eae=doc(db,_0x48848a(0x21f)+appId+_0x48848a(0xa32),currentBlueprintProjectId),_0x4918b7=(await getDoc(_0x596eae))[_0x48848a(0x31c)](),_0x6eee88=_0x4918b7[_0x48848a(0x315)][_0x319ea6][_0x48848a(0x4ed)]||[],_0x468cef=[...new Set([..._0x6eee88,..._0x2dca78])];await updateDoc(_0x596eae,{['topics.'+_0x319ea6+'.linkedQuizIds']:_0x468cef}),showMessage(_0x48848a(0x24c)+_0x2dca78['length']+_0x48848a(0x530)),_0x22f77d(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x396275){console[_0x48848a(0x9b3)]('Error\x20linking\x20quizzes:',_0x396275);}},document[_0x33243d(0x6ce)](_0x33243d(0xbf0))['onclick']=()=>_0x22f77d(!![]);}catch(_0x339692){showMessage(_0x339692[_0x33243d(0x86b)]),_0x17ee31[_0x33243d(0x68d)][_0x33243d(0x49f)]('hidden');}}function handleClearLinkedQuiz(_0x4356c1){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x3b4667=_0x3289;try{const _0x1148b9=doc(db,_0x3b4667(0x21f)+appId+_0x3b4667(0xa32),currentBlueprintProjectId);await updateDoc(_0x1148b9,{[_0x3b4667(0x4b5)+_0x4356c1+_0x3b4667(0xac9)]:deleteField()}),showMessage(_0x3b4667(0x8b5)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x447f21){console['error'](_0x3b4667(0x930),_0x447f21),showMessage(_0x3b4667(0x582));}});}async function addTopicToProject(){const _0x509198=_0x314764,_0x3521e5=prompt(_0x509198(0x79c));if(!_0x3521e5||_0x3521e5[_0x509198(0x1b6)]()==='')return;const _0x3f84f6=prompt(_0x509198(0x957),_0x509198(0xa0a)),_0x554d38=prompt(_0x509198(0x4ce),'หัวข้อหลักใหม่'),_0x5a9357=_0x509198(0x98c)+Date[_0x509198(0x72c)]()+Math[_0x509198(0x2e9)]()['toString'](0x24)['substr'](0x2,0x9),_0x47a8b6={'sara':_0x3f84f6,'mainTopic':_0x554d38,'subTopic':_0x3521e5['trim'](),'status':'not_generated','lessonContent':null};try{const _0x30c561=doc(db,_0x509198(0x21f)+appId+_0x509198(0xa32),currentBlueprintProjectId);await updateDoc(_0x30c561,{['topics.'+_0x5a9357]:_0x47a8b6}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x46ad5e){console[_0x509198(0x9b3)](_0x509198(0xac5),_0x46ad5e),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0xfc1f33){const _0x4c8f21=_0x314764,_0x3924f4=document['querySelector'](_0x4c8f21(0x4ab)+_0xfc1f33+'\x22]'),_0x588275=_0x3924f4[_0x4c8f21(0x612)](_0x4c8f21(0x189)),_0x2a1fb9=_0x588275[_0x4c8f21(0xa88)],_0x2a6e72=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x2a1fb9);if(!_0x2a6e72||_0x2a6e72['trim']()===''||_0x2a6e72[_0x4c8f21(0x1b6)]()===_0x2a1fb9)return;try{const _0x34adf8=doc(db,_0x4c8f21(0x21f)+appId+_0x4c8f21(0xa32),currentBlueprintProjectId);await updateDoc(_0x34adf8,{[_0x4c8f21(0x4b5)+_0xfc1f33+'.subTopic']:_0x2a6e72['trim']()}),_0x588275[_0x4c8f21(0xa88)]=_0x2a6e72[_0x4c8f21(0x1b6)](),showMessage(_0x4c8f21(0x1b4));}catch(_0x2484ef){console[_0x4c8f21(0x9b3)](_0x4c8f21(0xb8e),_0x2484ef),showMessage(_0x4c8f21(0xa9e));}}async function deleteTopicFromProject(_0x4c0b5e){const _0x5996e4=_0x314764;if(!confirm(_0x5996e4(0x382)))return;try{const _0x243286=doc(db,'artifacts/'+appId+_0x5996e4(0xa32),currentBlueprintProjectId);await updateDoc(_0x243286,{[_0x5996e4(0x4b5)+_0x4c0b5e]:deleteField()}),document[_0x5996e4(0x612)](_0x5996e4(0x4ab)+_0x4c0b5e+'\x22]')['remove'](),showMessage(_0x5996e4(0x73d));}catch(_0x4f0d9f){console[_0x5996e4(0x9b3)]('Error\x20deleting\x20topic:',_0x4f0d9f),showMessage(_0x5996e4(0x71c));}}async function generateAndSaveLessonForBlueprint(_0xc1d858,_0xa4ab51,_0x38796f){handleGenerateAndShowLesson(_0xa4ab51,_0x38796f);const _0x51d595=setInterval(async()=>{const _0x2b9b46=_0x3289,_0x3e4ef6=document[_0x2b9b46(0x6ce)](_0x2b9b46(0x34c)),_0x21f14f=_0x3e4ef6[_0x2b9b46(0x68d)][_0x2b9b46(0x7da)]('hidden');if(_0x21f14f){clearInterval(_0x51d595);if(currentApplicationData&&currentApplicationData[_0x2b9b46(0x1eb)]>0x0){const _0x553719={'point':document[_0x2b9b46(0x6ce)](_0x2b9b46(0x829))[_0x2b9b46(0x9c5)],'memory':document['getElementById'](_0x2b9b46(0x230))[_0x2b9b46(0x9c5)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x2b9b46(0x336))[_0x2b9b46(0x9c5)]};try{const _0x2bcd62=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2bcd62,{[_0x2b9b46(0x4b5)+_0xc1d858+_0x2b9b46(0x9bb)]:_0x553719,['topics.'+_0xc1d858+'.status']:_0x2b9b46(0xb23)}),console['log'](_0x2b9b46(0x838)+_0xc1d858+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2d0cb2){console[_0x2b9b46(0x9b3)](_0x2b9b46(0x287),_0x2d0cb2);}}}},0x3e8);}function displayHalfMarkResult(_0x3025c7,_0xd38efe){const _0x26c4fa=_0x314764,_0x59bee5=_0x3025c7>=_0xd38efe/0x2,_0x22653a=_0x59bee5?_0x26c4fa(0x298):_0x26c4fa(0x94c),_0x406957=_0x59bee5?_0x26c4fa(0xae4):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x281451=_0x59bee5?_0x26c4fa(0x6f7):_0x26c4fa(0x80e),_0x279d9d=_0x59bee5?_0x26c4fa(0x636):'คะแนนยังไม่ถึงครึ่ง',_0x168fe3=_0x59bee5?_0x26c4fa(0x67f):_0x26c4fa(0x4e1);let _0x4e9700=_0x26c4fa(0x212)+_0x22653a+_0x26c4fa(0x43c)+_0x406957+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x281451+_0x26c4fa(0x6d6)+_0x279d9d+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x168fe3+_0x26c4fa(0x995);studentResultArea[_0x26c4fa(0x9c5)]=_0x4e9700,studentResultArea[_0x26c4fa(0x68d)][_0x26c4fa(0x49f)](_0x26c4fa(0xbc7)),studentQuizArea[_0x26c4fa(0x68d)][_0x26c4fa(0x8f4)](_0x26c4fa(0xbc7)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x59bee5});}function displayPerfectScoreResult(_0x241037,_0x4689bb){const _0x340e06=_0x314764,_0x35fdef=_0x241037===_0x4689bb,_0x55b19d=_0x35fdef?_0x340e06(0xa1b):'bg-blue-100',_0x1d642d=_0x35fdef?_0x340e06(0x5d7):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x3c179e=_0x35fdef?'text-yellow-800':_0x340e06(0x87b),_0xc16ddb=_0x35fdef?_0x340e06(0x99e):_0x340e06(0x9b2),_0x33dd66=_0x35fdef?_0x340e06(0xac1):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x141445='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x55b19d+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d642d+_0x340e06(0x747)+_0x3c179e+_0x340e06(0x6d6)+_0xc16ddb+_0x340e06(0x4ec)+_0x33dd66+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x340e06(0x9c5)]=_0x141445,studentResultArea['classList'][_0x340e06(0x49f)](_0x340e06(0xbc7)),studentQuizArea[_0x340e06(0x68d)][_0x340e06(0x8f4)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x241037,'totalQuestions':_0x4689bb});}function renderIndividualComparisonTable(_0x38ecad,_0x241698){const _0x4df0cc=_0x314764;_0x38ecad[_0x4df0cc(0x588)]((_0x56af18,_0x1eafa0)=>(_0x1eafa0['tGain']??-Infinity)-(_0x56af18[_0x4df0cc(0x758)]??-Infinity));let _0x4182d5=_0x4df0cc(0x407);_0x38ecad[_0x4df0cc(0x1eb)]===0x0?_0x4182d5+=_0x4df0cc(0xbe3):_0x38ecad[_0x4df0cc(0x97e)]((_0x1c2d7f,_0x5bc89f)=>{const _0x1db119=_0x4df0cc;let _0xf0ee73='-',_0x14a874='';if(_0x1c2d7f[_0x1db119(0x8d3)]!==null){const _0x284629=_0x1c2d7f[_0x1db119(0x8d3)]>0x0?_0x1db119(0x3a7):_0x1c2d7f[_0x1db119(0x8d3)]<0x0?'text-red-600':_0x1db119(0x8c3),_0x452bd0=_0x1c2d7f['gain']>0x0?'+':'';_0xf0ee73=_0x1db119(0x8e0)+_0x284629+'\x22>'+_0x452bd0+_0x1c2d7f[_0x1db119(0x8d3)]+'</span>';if(_0x1c2d7f['gain']>0x0)_0x14a874='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x1c2d7f[_0x1db119(0x8d3)]<0x0?_0x14a874=_0x1db119(0x9c2):_0x14a874=_0x1db119(0x2f8);}let _0x367566='-';if(_0x1c2d7f['tGain']!==null){const _0x25ad95=_0x1c2d7f[_0x1db119(0x758)]>0x0?_0x1db119(0x3a7):_0x1c2d7f['tGain']<0x0?_0x1db119(0xbf4):'text-gray-500',_0x54d339=_0x1c2d7f['tGain']>0x0?'+':'';_0x367566=_0x1db119(0x8e0)+_0x25ad95+'\x22>'+_0x54d339+_0x1c2d7f[_0x1db119(0x758)]['toFixed'](0x2)+_0x1db119(0x37f);}_0x4182d5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x5bc89f+0x1)+_0x1db119(0x202)+_0x1c2d7f[_0x1db119(0x924)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x1c2d7f[_0x1db119(0x1f3)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x1c2d7f[_0x1db119(0x176)]??'-')+_0x1db119(0x3be)+_0xf0ee73+_0x1db119(0x66d)+_0x14a874+_0x1db119(0xa68)+(_0x1c2d7f[_0x1db119(0x370)]?.[_0x1db119(0x5ca)](0x2)??'-')+_0x1db119(0x466)+(_0x1c2d7f['postTScore']?.[_0x1db119(0x5ca)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x367566+_0x1db119(0x81c);}),_0x4182d5+='</tbody></table></div>',_0x241698[_0x4df0cc(0x9c5)]=_0x4182d5;}function handleRenameQuiz(_0x591500,_0x5be0da){const _0xbf3010=_0x314764;actionTargetId=_0x591500,document[_0xbf3010(0x6ce)](_0xbf3010(0xa02))[_0xbf3010(0x3e6)]=_0x5be0da,renameQuizModal['classList'][_0xbf3010(0x49f)](_0xbf3010(0xbc7));}function setupComparisonModalTabs(){const _0x30d224=_0x314764,_0x4fa16e=document[_0x30d224(0x6ce)]('comparison-overall-tab'),_0x123367=document['getElementById'](_0x30d224(0x792)),_0x3f1e24=document['getElementById'](_0x30d224(0x95e)),_0x7dc357=document[_0x30d224(0x6ce)](_0x30d224(0xa90));_0x4fa16e[_0x30d224(0x9cd)](_0x30d224(0x58a),()=>{const _0x15ac45=_0x30d224;_0x4fa16e[_0x15ac45(0x68d)][_0x15ac45(0x8f4)]('active'),_0x123367[_0x15ac45(0x68d)][_0x15ac45(0x49f)](_0x15ac45(0x7e3)),_0x3f1e24[_0x15ac45(0x68d)][_0x15ac45(0x49f)]('hidden'),_0x7dc357[_0x15ac45(0x68d)][_0x15ac45(0x8f4)]('hidden');}),_0x123367['addEventListener'](_0x30d224(0x58a),()=>{const _0x3226fe=_0x30d224;_0x123367[_0x3226fe(0x68d)][_0x3226fe(0x8f4)](_0x3226fe(0x7e3)),_0x4fa16e[_0x3226fe(0x68d)]['remove']('active'),_0x7dc357['classList'][_0x3226fe(0x49f)](_0x3226fe(0xbc7)),_0x3f1e24[_0x3226fe(0x68d)][_0x3226fe(0x8f4)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x402ce1=''){const _0x47ce38=_0x314764,_0x16fbfc=document[_0x47ce38(0x6ce)]('global-quiz-list'),_0x44f887=_0x402ce1[_0x47ce38(0x5db)]()[_0x47ce38(0x1b6)](),_0x13aa9b=allQuizzesGlobal['map'](_0x27ac51=>({..._0x27ac51,'projectName':allProjects[_0x47ce38(0xae2)](_0x314e54=>_0x314e54['id']===_0x27ac51[_0x47ce38(0x368)])?.[_0x47ce38(0xbbf)]||_0x27ac51['projectId']}))[_0x47ce38(0x595)](_0x568d72=>(_0x568d72['topic']||'')[_0x47ce38(0x5db)]()[_0x47ce38(0x8f7)](_0x44f887)||(_0x568d72['projectName']||'')['toLowerCase']()[_0x47ce38(0x8f7)](_0x44f887));document[_0x47ce38(0x6ce)](_0x47ce38(0x638))[_0x47ce38(0xa88)]='('+_0x13aa9b[_0x47ce38(0x1eb)]+_0x47ce38(0x6f5),_0x16fbfc['innerHTML']=_0x13aa9b['length']?_0x13aa9b['map'](_0x7ed02a=>_0x47ce38(0x376)+_0x7ed02a['id']+_0x47ce38(0xad9)+(_0x7ed02a['topic']||_0x47ce38(0xa77))+_0x47ce38(0xba0)+(_0x7ed02a[_0x47ce38(0x7bb)]?.['length']||0x0)+_0x47ce38(0x698)+_0x7ed02a[_0x47ce38(0xbbf)]+_0x47ce38(0x96c))[_0x47ce38(0x47c)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x47ce38(0x6ce)]('confirm-global-live-btn')[_0x47ce38(0x915)]=!![],_0x16fbfc[_0x47ce38(0x3e7)](_0x47ce38(0x46b))[_0x47ce38(0x97e)](_0x4cc29a=>{const _0x15ab43=_0x47ce38;_0x4cc29a[_0x15ab43(0x9cd)](_0x15ab43(0x58a),()=>{const _0x1d5ec5=_0x15ab43;selectedGlobalQuizId=_0x4cc29a[_0x1d5ec5(0x635)]['id'],_0x16fbfc[_0x1d5ec5(0x3e7)](_0x1d5ec5(0x7a0))[_0x1d5ec5(0x97e)](_0x5d8c72=>_0x5d8c72['classList']['remove'](_0x1d5ec5(0x416),_0x1d5ec5(0x19b),_0x1d5ec5(0x8a0))),_0x4cc29a[_0x1d5ec5(0x68d)][_0x1d5ec5(0x8f4)](_0x1d5ec5(0x416),_0x1d5ec5(0x19b),_0x1d5ec5(0x8a0)),document[_0x1d5ec5(0x6ce)]('confirm-global-live-btn')[_0x1d5ec5(0x915)]=![];});});}function listenForLiveGameUpdates(){const _0x1cfd20=_0x314764;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x101405=doc(db,_0x1cfd20(0x21f)+appId+_0x1cfd20(0x937),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x101405,_0x320f00=>{const _0x35588e=_0x1cfd20;if(!_0x320f00[_0x35588e(0x232)]()){showMessage(_0x35588e(0x1b9));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x35588e(0x41d)?showView(_0x35588e(0x66f)):showView(_0x35588e(0xa82));return;}const _0x5d5588=_0x320f00[_0x35588e(0x31c)]();_0x5d5588['shuffledQuiz']&&(currentQuizData=_0x5d5588[_0x35588e(0xb49)]);!currentQuizData&&_0x5d5588[_0x35588e(0x174)]&&((async()=>{const _0x43994b=_0x35588e;try{const _0x4b79e4=doc(db,_0x43994b(0x21f)+appId+_0x43994b(0x544),_0x5d5588['quizId']),_0x183c87=await getDoc(_0x4b79e4);_0x183c87[_0x43994b(0x232)]()&&(currentQuizData={'id':_0x183c87['id'],..._0x183c87[_0x43994b(0x31c)]()});}catch(_0x133c4c){console[_0x43994b(0x9b3)](_0x43994b(0x1c4),_0x133c4c);}})());switch(_0x5d5588[_0x35588e(0xbfc)]){case'lobby':if(currentMode===_0x35588e(0x41d)){const _0xef31e1=_0x5d5588[_0x35588e(0xb90)]?Object['entries'](_0x5d5588[_0x35588e(0xb90)]):[],_0x518d8c=_0xef31e1[_0x35588e(0x595)](([_0x5bf76a,_0x3ad324])=>_0x3ad324[_0x35588e(0xbfc)]===_0x35588e(0x7e3)),_0x3d7bf9=document[_0x35588e(0x6ce)](_0x35588e(0x65c));if(_0x3d7bf9)_0x3d7bf9[_0x35588e(0xa88)]=_0x518d8c[_0x35588e(0x1eb)];const _0x2b3afa=document['getElementById'](_0x35588e(0x597));_0x2b3afa&&(_0x2b3afa[_0x35588e(0x9c5)]=_0x518d8c[_0x35588e(0x83a)](([_0x387734,_0xfb07c4])=>_0x35588e(0x893)+_0x387734+_0x35588e(0x48a)+_0x387734+_0x35588e(0x35e))['join'](''));const _0x275197=document[_0x35588e(0x6ce)](_0x35588e(0x70a));_0x275197&&(_0x275197[_0x35588e(0x915)]=_0x518d8c[_0x35588e(0x1eb)]===0x0);}else showView(_0x35588e(0x5a8)),liveGameView[_0x35588e(0x9c5)]=_0x35588e(0x1d1)+currentStudentName+_0x35588e(0xacd);break;case _0x35588e(0x2d4):const _0x20a10a=_0x5d5588[_0x35588e(0x42a)];if(currentQuizData&&currentQuizData[_0x35588e(0x7bb)][_0x20a10a]){const _0x2bcbb2=currentQuizData[_0x35588e(0x7bb)][_0x20a10a],_0x9f3b4b=_0x5d5588['questionStatus']||_0x35588e(0x501);switch(_0x9f3b4b){case _0x35588e(0x35b):currentMode===_0x35588e(0x41d)?showAdminSummaryView(_0x5d5588,_0x2bcbb2):showPlayerSummaryView(_0x5d5588,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x5d5588);break;case _0x35588e(0x501):default:if(currentMode==='admin'){const _0x1f198e=writeBatch(db);let _0x36437e=![];Object[_0x35588e(0x5ee)](_0x5d5588[_0x35588e(0xb90)])[_0x35588e(0x97e)](([_0x55c332,_0x50fd13])=>{const _0x3565e4=_0x35588e;if(_0x50fd13['status']===_0x3565e4(0x7e3)&&_0x50fd13[_0x3565e4(0x268)]&&!_0x50fd13[_0x3565e4(0x445)]){_0x36437e=!![];const _0x46f4f8=_0x50fd13[_0x3565e4(0x268)][_0x3565e4(0x19f)]()-_0x5d5588[_0x3565e4(0x7a3)][_0x3565e4(0x19f)]();let _0x12b795=0x0;if(_0x50fd13[_0x3565e4(0xbc1)]){const _0x3a6c49=0x3e8,_0x1e48aa=0x1f4,_0x3b1dac=0x4e20;let _0x452e8e=_0x46f4f8/_0x3b1dac;if(_0x452e8e>0x1)_0x452e8e=0x1;const _0x4d0d49=Math[_0x3565e4(0x522)](_0x452e8e*_0x1e48aa);_0x12b795=_0x3a6c49-_0x4d0d49;}const _0x2b3df9=doc(db,_0x3565e4(0x21f)+appId+'/public/data/liveGames',currentLiveGameId);_0x1f198e[_0x3565e4(0x3e0)](_0x2b3df9,{[_0x3565e4(0xab6)+_0x55c332+_0x3565e4(0x1a8)]:increment(_0x12b795),['players.'+_0x55c332+_0x3565e4(0x62a)]:_0x12b795,[_0x3565e4(0xab6)+_0x55c332+_0x3565e4(0x796)]:!![]});}});_0x36437e&&_0x1f198e[_0x35588e(0xb03)]()[_0x35588e(0x5cb)](_0x2dbb47=>console['error'](_0x35588e(0x985),_0x2dbb47));lastRenderedAdminQuestionIndex!==_0x20a10a&&(showAdminLiveQuestionView(_0x2bcbb2,_0x20a10a,currentQuizData[_0x35588e(0x7bb)][_0x35588e(0x1eb)]),lastRenderedAdminQuestionIndex=_0x20a10a);const _0x3f7320=_0x5d5588[_0x35588e(0xb90)]||{},_0x52c6a8=Object['values'](_0x3f7320)[_0x35588e(0x595)](_0x44695b=>_0x44695b['status']===_0x35588e(0x7e3)),_0xc277b=_0x52c6a8[_0x35588e(0x1eb)],_0x23fc28=_0x52c6a8[_0x35588e(0x595)](_0x130635=>_0x130635['answeredCurrentQuestion']===!![])[_0x35588e(0x1eb)],_0x52bb19=document['getElementById'](_0x35588e(0xa5d));if(_0x52bb19)_0x52bb19[_0x35588e(0xa88)]=_0x23fc28+'/'+_0xc277b;const _0x40df90=document['getElementById'](_0x35588e(0xaee));if(_0x40df90){let _0x582271=Object[_0x35588e(0x5ee)](_0x3f7320)['filter'](([_0x41c806,_0x3367ab])=>_0x3367ab['status']===_0x35588e(0x7e3))[_0x35588e(0x83a)](([_0x450e32,_0x10de6f])=>{const _0x285e9f=_0x35588e,_0x48e86a=_0x10de6f[_0x285e9f(0x7c0)]===!![],_0x39fb0d=_0x48e86a?_0x285e9f(0x18f):_0x285e9f(0xadd),_0x167207=_0x48e86a?_0x285e9f(0x77c):_0x285e9f(0x352);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x39fb0d+_0x285e9f(0x8ac)+_0x167207+_0x285e9f(0xaf8)+_0x450e32+_0x285e9f(0x89c)+_0x450e32+_0x285e9f(0x7dd);})[_0x35588e(0x47c)]('');_0x40df90[_0x35588e(0x9c5)]=_0x582271||_0x35588e(0xc09);}_0xc277b>0x0&&_0x23fc28===_0xc277b&&revealAnswerForAdmin(_0x20a10a,currentQuizData[_0x35588e(0x7bb)][_0x35588e(0x1eb)]);}else{const _0x1c6232=_0x5d5588['players'][currentStudentName];_0x1c6232&&!_0x1c6232[_0x35588e(0x7c0)]&&showStudentLiveQuestionView(_0x2bcbb2,_0x20a10a,currentQuizData[_0x35588e(0x7bb)][_0x35588e(0x1eb)]);}break;}}break;case _0x35588e(0x9ee):showPodiumView(_0x5d5588[_0x35588e(0xb90)],'live-race');break;}});}async function handleKickPlayer(_0x496d97){const _0x402580=_0x314764;if(!currentLiveGameId||!_0x496d97)return;const _0x54b01e=doc(db,_0x402580(0x21f)+appId+_0x402580(0x937),currentLiveGameId),_0x24303e={};_0x24303e[_0x402580(0xab6)+_0x496d97+_0x402580(0x7ef)]=_0x402580(0x6b3);try{await updateDoc(_0x54b01e,_0x24303e);}catch(_0x213e0a){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x496d97+':',_0x213e0a),showMessage(_0x402580(0xc22));}}async function authenticateUser(){const _0x530171=_0x314764;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x350608){console['error'](_0x530171(0x7fb),_0x350608),showMessage(_0x530171(0x2cc));}}function showView(_0x5bb782){const _0x1062c4=_0x314764;adminView['classList'][_0x1062c4(0x8f4)](_0x1062c4(0xbc7)),studentView['classList']['add']('hidden'),projectDashboardView[_0x1062c4(0x68d)][_0x1062c4(0x8f4)](_0x1062c4(0xbc7)),projectDetailView[_0x1062c4(0x68d)][_0x1062c4(0x8f4)]('hidden'),quizResultsView[_0x1062c4(0x68d)][_0x1062c4(0x8f4)](_0x1062c4(0xbc7)),liveGameView[_0x1062c4(0x68d)][_0x1062c4(0x8f4)]('hidden'),document['getElementById']('blueprint-project-manager-view')['classList'][_0x1062c4(0x8f4)]('hidden'),studentInitialView['classList'][_0x1062c4(0x8f4)]('hidden'),studentJoinGameView[_0x1062c4(0x68d)][_0x1062c4(0x8f4)](_0x1062c4(0xbc7)),studentNameSelectionView[_0x1062c4(0x68d)][_0x1062c4(0x8f4)](_0x1062c4(0xbc7)),studentQuizArea[_0x1062c4(0x68d)][_0x1062c4(0x8f4)](_0x1062c4(0xbc7)),studentResultArea[_0x1062c4(0x68d)][_0x1062c4(0x8f4)]('hidden'),studentReadingArea['classList'][_0x1062c4(0x8f4)](_0x1062c4(0xbc7));const _0x191313=document[_0x1062c4(0x6ce)](_0x1062c4(0x5a7)),_0x2f220e=document[_0x1062c4(0x6ce)](_0x1062c4(0xc26));if(_0x191313)_0x191313['classList'][_0x1062c4(0x8f4)]('hidden');if(_0x2f220e)_0x2f220e[_0x1062c4(0x68d)]['add'](_0x1062c4(0xbc7));switch(_0x5bb782){case _0x1062c4(0x1a4):adminView['classList'][_0x1062c4(0x49f)](_0x1062c4(0xbc7)),projectDashboardView[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7));break;case _0x1062c4(0x66f):adminView[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7)),projectDetailView[_0x1062c4(0x68d)][_0x1062c4(0x49f)]('hidden');break;case _0x1062c4(0xa41):adminView['classList'][_0x1062c4(0x49f)](_0x1062c4(0xbc7)),quizResultsView[_0x1062c4(0x68d)]['remove']('hidden');break;case _0x1062c4(0xa82):studentView[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7)),studentInitialView[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7));break;case _0x1062c4(0x5a8):liveGameView[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7));break;case _0x1062c4(0x356):studentView[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7));if(_0x191313)_0x191313[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7));break;case _0x1062c4(0x6a6):studentView['classList'][_0x1062c4(0x49f)](_0x1062c4(0xbc7));if(_0x2f220e)_0x2f220e[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7));break;default:studentView[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7)),studentInitialView[_0x1062c4(0x68d)][_0x1062c4(0x49f)](_0x1062c4(0xbc7));break;}}function showJoinGameView(){const _0x2f338b=_0x314764;studentInitialView[_0x2f338b(0x68d)][_0x2f338b(0x8f4)]('hidden'),studentJoinGameView[_0x2f338b(0x68d)][_0x2f338b(0x49f)](_0x2f338b(0xbc7));}async function handleSaveVisibilitySettings(){const _0x49a8ec=_0x314764;if(!currentProjectId)return;const _0x534cca=doc(db,'artifacts/'+appId+_0x49a8ec(0x7fe),currentProjectId);try{await updateDoc(_0x534cca,{'settings.showInStudentDashboard':document[_0x49a8ec(0x6ce)](_0x49a8ec(0x185))[_0x49a8ec(0x5dc)],'settings.isPasscodeEnabled':document[_0x49a8ec(0x6ce)](_0x49a8ec(0x622))[_0x49a8ec(0x5dc)],'settings.passcode':document['getElementById'](_0x49a8ec(0x90c))[_0x49a8ec(0x3e6)][_0x49a8ec(0x1b6)]()}),showMessage(_0x49a8ec(0x694));}catch(_0x1c068f){console[_0x49a8ec(0x9b3)]('Error\x20saving\x20visibility\x20settings:',_0x1c068f),showMessage(_0x49a8ec(0xa14));}}function setupEventListeners(){const _0x46cf8d=_0x314764;document[_0x46cf8d(0x6ce)](_0x46cf8d(0x679))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),async _0x4c2c83=>{const _0x48a1a1=_0x46cf8d,_0x4adaa0=document[_0x48a1a1(0x6ce)](_0x48a1a1(0x679)),_0x444ab4=_0x4c2c83[_0x48a1a1(0x3cb)]['closest']('.bp-view-analysis-btn'),_0x1aa94e=_0x4c2c83['target'][_0x48a1a1(0x2ff)](_0x48a1a1(0xb94)),_0x295bee=_0x4c2c83[_0x48a1a1(0x3cb)]['closest']('.bp-present-btn'),_0x53d99e=_0x4c2c83[_0x48a1a1(0x3cb)][_0x48a1a1(0x2ff)](_0x48a1a1(0x3b5)),_0x5c2932=_0x4c2c83['target'][_0x48a1a1(0x2ff)]('.bp-live-btn'),_0x51ce23=_0x4c2c83[_0x48a1a1(0x3cb)][_0x48a1a1(0x2ff)](_0x48a1a1(0xa00));if(_0x444ab4){cameFromBlueprint=!![];const _0xd28796=_0x444ab4['dataset'][_0x48a1a1(0x174)];showQuizDetailView(_0xd28796),_0x4adaa0[_0x48a1a1(0x68d)][_0x48a1a1(0x8f4)](_0x48a1a1(0xbc7));}else{if(_0x1aa94e){const _0x5d074b=_0x1aa94e[_0x48a1a1(0x635)][_0x48a1a1(0xab4)],_0x4f753d=_0x1aa94e[_0x48a1a1(0x635)][_0x48a1a1(0x174)],_0x548084=allQuizzesGlobal[_0x48a1a1(0xae2)](_0x1832de=>_0x1832de['id']===_0x4f753d),_0x32cbf2=_0x548084?_0x548084['topic']:_0x48a1a1(0x306);showConfirmation(_0x48a1a1(0xa80)+_0x32cbf2+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x5676f9=_0x48a1a1;try{const _0xbdbfb1=doc(db,_0x5676f9(0x21f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0xbdbfb1,{[_0x5676f9(0x4b5)+_0x5d074b+_0x5676f9(0x3ec)]:arrayRemove(_0x4f753d)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x5d074b),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4846d0){console[_0x5676f9(0x9b3)](_0x5676f9(0x21c),_0x4846d0),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x295bee){cameFromBlueprint=!![];const _0x13b775=_0x295bee[_0x48a1a1(0x635)][_0x48a1a1(0x174)],_0x542a93=allQuizzesGlobal[_0x48a1a1(0xae2)](_0x575881=>_0x575881['id']===_0x13b775);_0x542a93&&(startPresentation(_0x542a93),_0x4adaa0[_0x48a1a1(0x68d)]['add'](_0x48a1a1(0xbc7)));}else{if(_0x53d99e){cameFromBlueprint=!![];const _0x56b1f9=_0x53d99e[_0x48a1a1(0x635)]['quizId'],_0x37b243=allQuizzesGlobal['find'](_0x2d0e82=>_0x2d0e82['id']===_0x56b1f9);_0x37b243&&(currentQuizData=_0x37b243,startAdminTest(),_0x4adaa0[_0x48a1a1(0x68d)][_0x48a1a1(0x8f4)](_0x48a1a1(0xbc7)));}else{if(_0x5c2932)cameFromBlueprint=!![],handleStartLiveRace(_0x5c2932[_0x48a1a1(0x635)][_0x48a1a1(0x174)]),_0x4adaa0['classList']['add']('hidden');else{if(_0x51ce23){cameFromBlueprint=!![];const _0x1b1faa=_0x51ce23['dataset']['quizId'],_0x55bce8=_0x51ce23[_0x48a1a1(0x635)]['mode'],_0x726f43=allQuizzesGlobal['find'](_0x4b56a0=>_0x4b56a0['id']===_0x1b1faa);_0x726f43&&(showGameStartConfirmationModal(_0x1b1faa,_0x55bce8,_0x726f43[_0x48a1a1(0x265)]),_0x4adaa0[_0x48a1a1(0x68d)][_0x48a1a1(0x8f4)](_0x48a1a1(0xbc7)));}}}}}}}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x56e))['addEventListener']('click',()=>{const _0x50b1c1=_0x46cf8d;document[_0x50b1c1(0x6ce)]('manual-blueprint-modal')[_0x50b1c1(0x68d)][_0x50b1c1(0x49f)](_0x50b1c1(0xbc7)),document['getElementById'](_0x50b1c1(0xb67))[_0x50b1c1(0x3e6)]='',document[_0x50b1c1(0x6ce)](_0x50b1c1(0x3df))[_0x50b1c1(0x3e6)]='',document['getElementById'](_0x50b1c1(0x86e))[_0x50b1c1(0x3e6)]='';}),document[_0x46cf8d(0x6ce)]('cancel-manual-bp-btn')[_0x46cf8d(0x9cd)]('click',()=>{const _0x39225f=_0x46cf8d;document[_0x39225f(0x6ce)](_0x39225f(0x8f3))[_0x39225f(0x68d)][_0x39225f(0x8f4)](_0x39225f(0xbc7));}),document['getElementById'](_0x46cf8d(0x387))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleManualBlueprintSave),document['getElementById'](_0x46cf8d(0x506))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>document[_0x46cf8d(0x6ce)](_0x46cf8d(0x675))[_0x46cf8d(0x68d)][_0x46cf8d(0x8f4)](_0x46cf8d(0xbc7))),document['getElementById']('save-bp-settings-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleSaveBlueprintPageSettings),document['getElementById'](_0x46cf8d(0x28e))['addEventListener']('click',openBlueprintQuizSettings),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x5dd))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),saveBlueprintProject),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x984))['addEventListener'](_0x46cf8d(0x58a),showBlueprintProjects),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xa21))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x2c8eb9=_0x46cf8d;document[_0x2c8eb9(0x6ce)](_0x2c8eb9(0x3aa))['classList'][_0x2c8eb9(0x8f4)](_0x2c8eb9(0xbc7));}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xa61))[_0x46cf8d(0x9cd)]('click',_0x5349d4=>{const _0x1af25f=_0x46cf8d,_0x184b6e=_0x5349d4[_0x1af25f(0x3cb)][_0x1af25f(0x2ff)](_0x1af25f(0x415)),_0x365bef=_0x5349d4[_0x1af25f(0x3cb)]['closest'](_0x1af25f(0x29f));if(_0x184b6e)displayBlueprintProjectManager(_0x184b6e[_0x1af25f(0x635)]['id']);else{if(_0x365bef){if(confirm('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?')){const _0x319064=doc(db,_0x1af25f(0x21f)+appId+_0x1af25f(0xa32),_0x365bef[_0x1af25f(0x635)]['id']);deleteDoc(_0x319064)[_0x1af25f(0x2be)](()=>{const _0xbf438e=_0x1af25f;showMessage(_0xbf438e(0x2cf)),showBlueprintProjects();});}}}}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x74b))[_0x46cf8d(0x9cd)]('click',()=>{const _0x2f4600=_0x46cf8d;currentBlueprintProjectId=null,currentProjectId=null,document[_0x2f4600(0x6ce)]('blueprint-project-manager-view')[_0x2f4600(0x68d)]['add'](_0x2f4600(0xbc7)),showView('admin-dashboard');}),document[_0x46cf8d(0x6ce)]('bp-add-topic-btn')['addEventListener']('click',addTopicToProject),document[_0x46cf8d(0x6ce)]('bp-topic-list-container')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),async _0x5553e3=>{const _0x150b74=_0x46cf8d,_0xa6dc43=_0x5553e3[_0x150b74(0x3cb)][_0x150b74(0x2ff)](_0x150b74(0x991));if(!_0xa6dc43)return;const _0x1cacb9=_0xa6dc43[_0x150b74(0x635)]['topicId'],_0x3acf34=_0x5553e3['target'][_0x150b74(0x2ff)](_0x150b74(0x518)),_0x3e9f5a=_0x5553e3[_0x150b74(0x3cb)][_0x150b74(0x2ff)](_0x150b74(0x9f7)),_0x594b5b=_0x5553e3[_0x150b74(0x3cb)]['closest'](_0x150b74(0x179)),_0x28a1de=_0x5553e3[_0x150b74(0x3cb)][_0x150b74(0x2ff)](_0x150b74(0x29b)),_0x252775=_0x5553e3[_0x150b74(0x3cb)][_0x150b74(0x2ff)]('.view-bp-lesson-btn'),_0x34c4b0=_0x5553e3['target'][_0x150b74(0x2ff)](_0x150b74(0x645)),_0xb5ffeb=_0x5553e3[_0x150b74(0x3cb)][_0x150b74(0x2ff)](_0x150b74(0x8af)),_0xe3b383=_0x5553e3[_0x150b74(0x3cb)]['closest'](_0x150b74(0x8fa));if(_0x28a1de)openTopicQuizBank(_0x1cacb9);else{if(_0x3acf34){console['log'](_0x150b74(0xafd));const _0x18ec7a=_0xa6dc43[_0x150b74(0x612)]('[data-field=\x22subTopic\x22]')[_0x150b74(0xa88)];selectProjectAndGenerateBlueprintQuiz(_0x18ec7a,null,_0x1cacb9,!![]);}else{if(_0x3e9f5a){console[_0x150b74(0xa58)](_0x150b74(0x9c8));try{const _0x1e4d06=doc(db,_0x150b74(0x21f)+appId+_0x150b74(0xa32),currentBlueprintProjectId),_0x1749a6=await getDoc(_0x1e4d06);if(_0x1749a6[_0x150b74(0x232)]()){const _0x5ec051=_0x1749a6[_0x150b74(0x31c)](),_0x46c9a4=_0x5ec051['topics'][_0x1cacb9],_0x41315a=_0x46c9a4[_0x150b74(0x819)],_0x45be8b=document[_0x150b74(0x692)](_0x150b74(0xa9a)),_0x1e3144=_0x5bde78=>{const _0x4de4e9=_0x150b74;if(!_0x5bde78)return'';return _0x45be8b[_0x4de4e9(0x9c5)]=_0x5bde78,_0x45be8b[_0x4de4e9(0xa88)]||_0x45be8b[_0x4de4e9(0xbb6)]||'';},_0x14dc94=(_0x1e3144(_0x41315a[_0x150b74(0x18a)])+'\x20'+_0x1e3144(_0x41315a['memory'])+'\x20'+_0x1e3144(_0x41315a[_0x150b74(0x295)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x46c9a4[_0x150b74(0xa04)],_0x14dc94,_0x1cacb9,![]);}}catch(_0x4c28c1){console[_0x150b74(0x9b3)]('Error\x20preparing\x20content\x20quiz:',_0x4c28c1);}}else{if(_0x594b5b){console['log']('Action:\x20Create\x20topic-based\x20Quiz.');const _0x453810=_0xa6dc43[_0x150b74(0x612)](_0x150b74(0x189))[_0x150b74(0xa88)];selectProjectAndGenerateBlueprintQuiz(_0x453810,null,_0x1cacb9,![]);}else{if(_0x252775){console[_0x150b74(0xa58)](_0x150b74(0x562));const _0x940890=doc(db,'artifacts/'+appId+_0x150b74(0xa32),currentBlueprintProjectId),_0x405541=await getDoc(_0x940890);if(_0x405541[_0x150b74(0x232)]()){const _0x3ecf75=_0x405541[_0x150b74(0x31c)](),_0x3320fa=_0x3ecf75[_0x150b74(0x315)][_0x1cacb9];if(_0x3320fa&&_0x3320fa['lessonContent']){document[_0x150b74(0x6ce)]('lesson-view-title')[_0x150b74(0xa88)]=_0x150b74(0x6c2)+_0x3320fa[_0x150b74(0xa04)],document[_0x150b74(0x6ce)](_0x150b74(0x829))[_0x150b74(0x9c5)]=_0x3320fa[_0x150b74(0x819)][_0x150b74(0x18a)],document[_0x150b74(0x6ce)](_0x150b74(0x230))[_0x150b74(0x9c5)]=_0x3320fa[_0x150b74(0x819)][_0x150b74(0x36c)],document['getElementById']('summaryContent')[_0x150b74(0x9c5)]=_0x3320fa[_0x150b74(0x819)]['summary'];const _0x43f0f4=document[_0x150b74(0x6ce)](_0x150b74(0x93b));_0x3320fa[_0x150b74(0x819)][_0x150b74(0x6b1)]?(currentApplicationData=_0x3320fa[_0x150b74(0x819)][_0x150b74(0x6b1)],_0x43f0f4['innerHTML']=currentApplicationData[_0x150b74(0x83a)]((_0x520b8b,_0x5e209f)=>_0x150b74(0xaa9)+(_0x5e209f+0x1)+'.\x20'+marked['parseInline'](_0x520b8b[_0x150b74(0x2d4)])+_0x150b74(0x766)+_0x5e209f+_0x150b74(0xa24)+_0x520b8b[_0x150b74(0x9b5)][_0x150b74(0x83a)]((_0x3d3c3b,_0x57d255)=>_0x150b74(0x241)+_0x5e209f+',\x20'+_0x57d255+_0x150b74(0xb43)+String['fromCharCode'](0x61+_0x57d255)+'.\x20'+marked[_0x150b74(0x60d)](_0x3d3c3b)+_0x150b74(0x7a8))[_0x150b74(0x47c)]('')+_0x150b74(0x9a8))['join']('')):(currentApplicationData=[],_0x43f0f4[_0x150b74(0x9c5)]=_0x3320fa[_0x150b74(0x819)][_0x150b74(0x752)]||_0x3320fa['lessonContent'][_0x150b74(0xbd1)]),document[_0x150b74(0x6ce)](_0x150b74(0x5a0))['classList']['add']('hidden'),document[_0x150b74(0x6ce)]('lesson-sections-container')[_0x150b74(0x68d)][_0x150b74(0x49f)](_0x150b74(0xbc7)),document[_0x150b74(0x6ce)](_0x150b74(0x34c))[_0x150b74(0x68d)][_0x150b74(0x49f)](_0x150b74(0xbc7)),window[_0x150b74(0x649)]&&MathJax[_0x150b74(0x966)]([document[_0x150b74(0x6ce)](_0x150b74(0x550))]);}else showMessage(_0x150b74(0x69a));}}else{if(_0x34c4b0){console[_0x150b74(0xa58)](_0x150b74(0x938));const _0x1aeef3=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x77f0ee=await getDoc(_0x1aeef3);if(_0x77f0ee['exists']()){const _0x1f453e=_0x77f0ee[_0x150b74(0x31c)](),_0x46bd53=_0x1f453e[_0x150b74(0x315)][_0x1cacb9];generateAndSaveLessonForBlueprint(_0x1cacb9,_0x46bd53[_0x150b74(0xa04)],_0x1f453e[_0x150b74(0x441)]);}}else{if(_0xb5ffeb)editTopicInProject(_0x1cacb9);else _0xe3b383&&deleteTopicFromProject(_0x1cacb9);}}}}}}}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x866))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleFixLessonLatex),document['getElementById'](_0x46cf8d(0x7cc))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleExportLessonToPDF),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x529))['addEventListener']('click',()=>{const _0x4d6571=_0x46cf8d;document[_0x4d6571(0x6ce)]('lesson-view-modal')[_0x4d6571(0x68d)]['add'](_0x4d6571(0xbc7));});const _0x32c177=document['getElementById']('bulk-confidence-scoring-checkbox'),_0x491510=document['getElementById'](_0x46cf8d(0x5e9));_0x32c177['addEventListener'](_0x46cf8d(0xaf9),()=>{const _0x2ddb27=_0x46cf8d;_0x491510[_0x2ddb27(0x68d)][_0x2ddb27(0x8ff)](_0x2ddb27(0xbc7),!_0x32c177[_0x2ddb27(0x5dc)]);});const _0x2a55ec=document['getElementById'](_0x46cf8d(0x629)),_0x3086fd=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x746));_0x2a55ec[_0x46cf8d(0x9cd)](_0x46cf8d(0xaf9),()=>{const _0x4504e0=_0x46cf8d;_0x3086fd[_0x4504e0(0x68d)][_0x4504e0(0x8ff)](_0x4504e0(0xbc7),!_0x2a55ec['checked']);});const _0xb1e5c5=document[_0x46cf8d(0x6ce)]('modal-confidence-scoring-checkbox'),_0x152c60=document[_0x46cf8d(0x6ce)]('modal-confidence-mode-container');_0xb1e5c5[_0x46cf8d(0x9cd)]('change',()=>{_0x152c60['classList']['toggle']('hidden',!_0xb1e5c5['checked']);});const _0x490373=document[_0x46cf8d(0x6ce)]('confidence-modal'),_0x790826=async _0x3c4de8=>{const _0x21ab1d=_0x46cf8d,_0x49ec47=document[_0x21ab1d(0x6ce)](_0x21ab1d(0x6fc)),_0x2fd628=_0x49ec47[_0x21ab1d(0x635)][_0x21ab1d(0x5b4)],_0x34849d=document[_0x21ab1d(0x6ce)](_0x21ab1d(0x39e));_0x49ec47['classList'][_0x21ab1d(0x8f4)](_0x21ab1d(0xbc7));if(_0x2fd628===_0x21ab1d(0x22a)){const _0x27009a=_0x34849d[_0x21ab1d(0x3e6)],_0x3e3489={'answer':_0x27009a,'wasConfident':_0x3c4de8};proceedToNextQuestion(_0x3e3489);}else{if(_0x2fd628==='sync'){const _0x48f63f=_0x34849d[_0x21ab1d(0x635)][_0x21ab1d(0x603)],_0x1676f6=JSON['parse'](_0x34849d[_0x21ab1d(0x635)][_0x21ab1d(0x2d4)]),_0x48393a=JSON[_0x21ab1d(0x36d)](_0x34849d[_0x21ab1d(0x635)][_0x21ab1d(0x4da)]),_0x3e230c=_0x34849d[_0x21ab1d(0x635)][_0x21ab1d(0x8c8)];handleSyncAnswerSubmit(_0x48f63f,_0x1676f6,_0x48393a,_0x3e230c,_0x3c4de8);}}_0x49ec47[_0x21ab1d(0x635)][_0x21ab1d(0x5b4)]='';};document[_0x46cf8d(0x6ce)](_0x46cf8d(0x5f5))['addEventListener']('click',()=>_0x790826(!![])),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x691))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>_0x790826(![])),liveGameView[_0x46cf8d(0x9cd)]('click',_0x689c1a=>{const _0x179a04=_0x46cf8d,_0x3b30e9=_0x689c1a[_0x179a04(0x3cb)][_0x179a04(0x2ff)](_0x179a04(0xb2e));if(_0x3b30e9){const _0x5ce87a=_0x3b30e9['dataset'][_0x179a04(0x8c8)];_0x5ce87a&&handleKickPlayerSync(_0x5ce87a);}});const _0x161625=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x1f0)),_0x2a4f7b=document['getElementById'](_0x46cf8d(0x41b));_0x2a4f7b[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x3e9bd9=_0x46cf8d;document[_0x3e9bd9(0x6ce)]('confirm-game-start-modal')['classList'][_0x3e9bd9(0x8f4)](_0x3e9bd9(0xbc7));}),_0x161625[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x3baf54=_0x46cf8d,_0x5dfa7d=document[_0x3baf54(0x6ce)](_0x3baf54(0x471))[_0x3baf54(0x3e6)],_0x5367a5=document[_0x3baf54(0x6ce)](_0x3baf54(0x8a9))[_0x3baf54(0x3e6)],_0x429b75=document[_0x3baf54(0x6ce)](_0x3baf54(0xb25))[_0x3baf54(0x5dc)];document[_0x3baf54(0x6ce)](_0x3baf54(0x3b1))[_0x3baf54(0x68d)]['add'](_0x3baf54(0xbc7));switch(_0x5367a5){case'live-race':handleStartLiveRace(_0x5dfa7d,_0x429b75);break;case _0x3baf54(0x96e):handleStartTeamQuiz(_0x5dfa7d,_0x429b75);break;case'group':handleStartGroupMode(_0x5dfa7d,_0x429b75);break;case _0x3baf54(0x49e):handleStartSyncMode(_0x5dfa7d,_0x429b75);break;}}),document['getElementById'](_0x46cf8d(0xc1d))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleJoinGroupActivity),liveGameView[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),_0xddecb1=>{const _0x447200=_0x46cf8d,_0x501060=_0xddecb1[_0x447200(0x3cb)][_0x447200(0x2ff)](_0x447200(0x6a8));document[_0x447200(0x3e7)](_0x447200(0x7ea))[_0x447200(0x97e)](_0x19d775=>{const _0x678878=_0x447200;(!_0x501060||_0x19d775['id']!==_0x501060['dataset'][_0x678878(0xb8f)])&&_0x19d775[_0x678878(0x68d)]['remove'](_0x678878(0x7c9));});if(!_0x501060)return;const _0x3a49c=_0x501060[_0x447200(0x635)][_0x447200(0xb8f)],_0x73e495=document[_0x447200(0x6ce)](_0x3a49c);_0x73e495&&_0x73e495[_0x447200(0x68d)][_0x447200(0x8ff)](_0x447200(0x7c9));}),liveGameView['addEventListener']('click',_0x382359=>{const _0x374cb9=_0x46cf8d;if(_0x382359[_0x374cb9(0x3cb)][_0x374cb9(0x68d)][_0x374cb9(0x7da)](_0x374cb9(0x5e7))){const _0x2dcb52=_0x382359[_0x374cb9(0x3cb)]['dataset'][_0x374cb9(0x8c8)];_0x2dcb52&&handleKickPlayer(_0x2dcb52);}}),document['getElementById']('project-title')[_0x46cf8d(0x9cd)](_0x46cf8d(0x26c),()=>document[_0x46cf8d(0x6ce)](_0x46cf8d(0x39b))[_0x46cf8d(0x68d)][_0x46cf8d(0x49f)](_0x46cf8d(0xbc7))),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x39b))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleSaveProjectName),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x43d))['addEventListener'](_0x46cf8d(0x439),_0x5d614d=>{const _0x1a4374=_0x46cf8d;_0x5d614d[_0x1a4374(0xb62)]==='Enter'&&(_0x5d614d['preventDefault'](),_0x5d614d['target'][_0x1a4374(0x2ec)](),handleSaveProjectName());}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x3da))['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x28861c=_0x46cf8d;document[_0x28861c(0x6ce)](_0x28861c(0x7ae))['classList'][_0x28861c(0x49f)]('hidden');}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x9d5))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x53d633=_0x46cf8d;document[_0x53d633(0x6ce)]('bulk-quiz-settings-modal')[_0x53d633(0x68d)][_0x53d633(0x8f4)]('hidden');}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x1a6))[_0x46cf8d(0x9cd)]('click',handleBulkUpdateQuizSettings),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xaea))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleModeSwitch),document['getElementById'](_0x46cf8d(0x32e))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleUpdateOldQuizzes),document['getElementById'](_0x46cf8d(0x3d0))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleResetProjectOrder),document['getElementById']('save-visibility-settings-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleSaveVisibilitySettings),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x97b))['addEventListener'](_0x46cf8d(0x58a),handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')['addEventListener'](_0x46cf8d(0x58a),handleSelectAllTopics),document[_0x46cf8d(0x6ce)]('deselect-all-topics-btn')['addEventListener'](_0x46cf8d(0x58a),handleDeselectAllTopics),document['getElementById'](_0x46cf8d(0x9fb))[_0x46cf8d(0x9cd)]('click',()=>{const _0x315a38=_0x46cf8d;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x315a38(0x1a4));}}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x3f5))['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x146c62=_0x46cf8d;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x146c62(0x66f));}}),document['getElementById'](_0x46cf8d(0x270))['addEventListener']('click',()=>{showView('admin-dashboard');}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xbdc))['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x2ec9e9=_0x46cf8d;messageModal[_0x2ec9e9(0x68d)][_0x2ec9e9(0x8f4)](_0x2ec9e9(0xbc7)),typeof modalConfirmAction===_0x2ec9e9(0xa1a)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x5a6))['addEventListener'](_0x46cf8d(0x58a),()=>createProjectModal[_0x46cf8d(0x68d)][_0x46cf8d(0x49f)](_0x46cf8d(0xbc7))),document['getElementById']('cancel-create-project-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>createProjectModal[_0x46cf8d(0x68d)]['add'](_0x46cf8d(0xbc7))),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x2c1))['addEventListener'](_0x46cf8d(0x58a),()=>adminPasswordModal[_0x46cf8d(0x68d)]['add'](_0x46cf8d(0xbc7))),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x3dd))['addEventListener']('click',handleAdminLogin),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x737))['addEventListener'](_0x46cf8d(0x795),_0xf9b1d9=>{const _0x3ecae8=_0x46cf8d;if(_0xf9b1d9[_0x3ecae8(0xb62)]==='Enter')handleAdminLogin();}),document['getElementById'](_0x46cf8d(0x3ea))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x3461cf=_0x46cf8d;confirmationModal['classList'][_0x3461cf(0x8f4)](_0x3461cf(0xbc7)),confirmAction=null;}),document[_0x46cf8d(0x6ce)]('confirm-delete-btn')[_0x46cf8d(0x9cd)]('click',()=>{const _0x52c00f=_0x46cf8d;confirmAction&&confirmAction(),confirmationModal[_0x52c00f(0x68d)][_0x52c00f(0x8f4)](_0x52c00f(0xbc7)),confirmAction=null;}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x60a))['addEventListener']('click',()=>renameQuizModal['classList'][_0x46cf8d(0x8f4)](_0x46cf8d(0xbc7))),document[_0x46cf8d(0x6ce)]('confirm-rename-quiz-btn')['addEventListener'](_0x46cf8d(0x58a),confirmRenameQuiz),document[_0x46cf8d(0x6ce)]('cancel-move-quiz-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>moveQuizModal['classList'][_0x46cf8d(0x8f4)]('hidden')),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x793))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),confirmMoveQuiz),document['getElementById']('cancel-quiz-settings-btn')[_0x46cf8d(0x9cd)]('click',()=>quizSettingsModal['classList'][_0x46cf8d(0x8f4)](_0x46cf8d(0xbc7))),document['getElementById'](_0x46cf8d(0x79a))['addEventListener']('click',confirmQuizSettings),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xa9f))['addEventListener'](_0x46cf8d(0x58a),()=>quizStatusModal['classList'][_0x46cf8d(0x8f4)]('hidden')),document['getElementById'](_0x46cf8d(0x48e))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),confirmQuizStatus);const _0x3d63a2=document[_0x46cf8d(0x6ce)]('export-pdf-modal');document[_0x46cf8d(0x6ce)](_0x46cf8d(0x3ff))['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x21d75c=_0x46cf8d;_0x3d63a2[_0x21d75c(0x68d)][_0x21d75c(0x8f4)](_0x21d75c(0xbc7));}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x827))['addEventListener'](_0x46cf8d(0x58a),async()=>{const _0x3c25a8=_0x46cf8d,_0x475248=allQuizzes[_0x3c25a8(0xae2)](_0x4682ce=>_0x4682ce['id']===actionTargetId);_0x475248?(currentQuizData=_0x475248,exportQuizAsWorksheetPDF()):showMessage(_0x3c25a8(0x80c)),_0x3d63a2['classList']['add'](_0x3c25a8(0xbc7));}),document[_0x46cf8d(0x6ce)]('export-tutor-pdf-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),async()=>{const _0x481d61=_0x46cf8d,_0x51406a=allQuizzes[_0x481d61(0xae2)](_0x582cc0=>_0x582cc0['id']===actionTargetId);_0x51406a?(currentQuizData=_0x51406a,exportQuizAsTutorPDF()):showMessage(_0x481d61(0x80c)),_0x3d63a2[_0x481d61(0x68d)][_0x481d61(0x8f4)](_0x481d61(0xbc7));}),document[_0x46cf8d(0x6ce)]('open-global-live-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),openGlobalLiveModal),document['getElementById']('cancel-global-live-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0xc0618c=_0x46cf8d;document[_0xc0618c(0x6ce)](_0xc0618c(0x7f4))[_0xc0618c(0x68d)][_0xc0618c(0x8f4)](_0xc0618c(0xbc7)),selectedGlobalQuizId=null;}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x95a))['addEventListener'](_0x46cf8d(0xa57),_0x7e601d=>renderGlobalQuizList(_0x7e601d[_0x46cf8d(0x3cb)][_0x46cf8d(0x3e6)])),document['getElementById']('confirm-global-live-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x4024bc=_0x46cf8d,_0x2c8659=selectedGlobalQuizId;if(!_0x2c8659)return;document[_0x4024bc(0x6ce)](_0x4024bc(0x7f4))[_0x4024bc(0x68d)][_0x4024bc(0x8f4)](_0x4024bc(0xbc7)),handleStartLiveRace(_0x2c8659);}),document['getElementById']('project-search-input')[_0x46cf8d(0x9cd)](_0x46cf8d(0xa57),renderProjects),document['getElementById'](_0x46cf8d(0x4a4))[_0x46cf8d(0x9cd)](_0x46cf8d(0xaf9),async()=>{const _0x54e22e=_0x46cf8d,_0x1c11e6=document['getElementById'](_0x54e22e(0x4a4))[_0x54e22e(0x3e6)],_0x5e1ad5=doc(db,_0x54e22e(0x2a5),_0x54e22e(0x5c2));try{await setDoc(_0x5e1ad5,{'projectSort':_0x1c11e6},{'merge':!![]});}catch(_0x530353){console[_0x54e22e(0x9b3)](_0x54e22e(0x583),_0x530353),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xb64))[_0x46cf8d(0x9cd)](_0x46cf8d(0xa57),renderQuizzes),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x6be))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x27dad6=_0x46cf8d;globalDashboardSettings[_0x27dad6(0x723)]=_0x27dad6(0x502),saveUserPreference(_0x27dad6(0x723),_0x27dad6(0x502)),renderProjects();}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x414))['addEventListener']('click',()=>{const _0x25fa3d=_0x46cf8d;globalDashboardSettings[_0x25fa3d(0x723)]=_0x25fa3d(0x3e4),saveUserPreference(_0x25fa3d(0x723),_0x25fa3d(0x3e4)),renderProjects();}),manageTab[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>switchProjectTab(_0x46cf8d(0x2f3))),resultsTab[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>switchProjectTab(_0x46cf8d(0xb97))),leaderboardTab[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>switchProjectTab(_0x46cf8d(0x873))),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x406))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>switchQuizDetailTab(_0x46cf8d(0xa39))),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x2f5))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>switchQuizDetailTab(_0x46cf8d(0xb66))),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x4e2))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>switchQuizDetailTab('leaderboard-quiz')),document['getElementById'](_0x46cf8d(0x197))[_0x46cf8d(0x9cd)]('click',()=>switchQuizDetailTab('behavior-log')),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x611))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),generateWorksheet);const _0x2c5ea1=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x6ef)),_0x143ace=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x456)),_0x1a6c59=document['getElementById'](_0x46cf8d(0x46f)),_0x4de645=document[_0x46cf8d(0x6ce)](_0x46cf8d(0xae5)),_0xf39177=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x4bd)),_0x13df23=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x45d));topicTab[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x5b1d5f=_0x46cf8d;topicTab[_0x5b1d5f(0x68d)][_0x5b1d5f(0x8f4)](_0x5b1d5f(0x7e3)),textTab[_0x5b1d5f(0x68d)][_0x5b1d5f(0x49f)](_0x5b1d5f(0x7e3)),fileTab[_0x5b1d5f(0x68d)][_0x5b1d5f(0x49f)](_0x5b1d5f(0x7e3)),worksheetTab[_0x5b1d5f(0x68d)][_0x5b1d5f(0x49f)](_0x5b1d5f(0x7e3));if(_0x2c5ea1)_0x2c5ea1[_0x5b1d5f(0x68d)][_0x5b1d5f(0x49f)](_0x5b1d5f(0x7e3));if(_0x1a6c59)_0x1a6c59[_0x5b1d5f(0x68d)]['remove'](_0x5b1d5f(0x7e3));if(_0xf39177)_0xf39177[_0x5b1d5f(0x68d)][_0x5b1d5f(0x49f)](_0x5b1d5f(0x7e3));topicInputArea['classList']['remove'](_0x5b1d5f(0xbc7)),textInputArea[_0x5b1d5f(0x68d)][_0x5b1d5f(0x8f4)]('hidden'),fileInputArea[_0x5b1d5f(0x68d)]['add'](_0x5b1d5f(0xbc7)),worksheetInputArea['classList']['add']('hidden');if(_0x143ace)_0x143ace[_0x5b1d5f(0x68d)][_0x5b1d5f(0x8f4)]('hidden');if(_0x4de645)_0x4de645[_0x5b1d5f(0x68d)][_0x5b1d5f(0x8f4)](_0x5b1d5f(0xbc7));if(_0x13df23)_0x13df23[_0x5b1d5f(0x68d)][_0x5b1d5f(0x8f4)](_0x5b1d5f(0xbc7));}),textTab[_0x46cf8d(0x9cd)]('click',()=>{const _0x36251c=_0x46cf8d;textTab['classList'][_0x36251c(0x8f4)]('active'),topicTab[_0x36251c(0x68d)][_0x36251c(0x49f)](_0x36251c(0x7e3)),fileTab[_0x36251c(0x68d)][_0x36251c(0x49f)](_0x36251c(0x7e3)),worksheetTab[_0x36251c(0x68d)][_0x36251c(0x49f)](_0x36251c(0x7e3));if(_0x2c5ea1)_0x2c5ea1[_0x36251c(0x68d)]['remove'](_0x36251c(0x7e3));if(_0x1a6c59)_0x1a6c59[_0x36251c(0x68d)][_0x36251c(0x49f)]('active');if(_0xf39177)_0xf39177[_0x36251c(0x68d)][_0x36251c(0x49f)](_0x36251c(0x7e3));textInputArea['classList']['remove'](_0x36251c(0xbc7)),topicInputArea[_0x36251c(0x68d)][_0x36251c(0x8f4)]('hidden'),fileInputArea['classList'][_0x36251c(0x8f4)](_0x36251c(0xbc7)),worksheetInputArea[_0x36251c(0x68d)][_0x36251c(0x8f4)]('hidden');if(_0x143ace)_0x143ace[_0x36251c(0x68d)]['add'](_0x36251c(0xbc7));if(_0x4de645)_0x4de645['classList'][_0x36251c(0x8f4)](_0x36251c(0xbc7));if(_0x13df23)_0x13df23[_0x36251c(0x68d)]['add'](_0x36251c(0xbc7));}),fileTab[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x1054f8=_0x46cf8d;fileTab[_0x1054f8(0x68d)][_0x1054f8(0x8f4)](_0x1054f8(0x7e3)),topicTab['classList'][_0x1054f8(0x49f)](_0x1054f8(0x7e3)),textTab['classList'][_0x1054f8(0x49f)](_0x1054f8(0x7e3)),worksheetTab[_0x1054f8(0x68d)][_0x1054f8(0x49f)]('active');if(_0x2c5ea1)_0x2c5ea1[_0x1054f8(0x68d)][_0x1054f8(0x49f)](_0x1054f8(0x7e3));if(_0x1a6c59)_0x1a6c59[_0x1054f8(0x68d)][_0x1054f8(0x49f)](_0x1054f8(0x7e3));if(_0xf39177)_0xf39177[_0x1054f8(0x68d)]['remove'](_0x1054f8(0x7e3));fileInputArea[_0x1054f8(0x68d)][_0x1054f8(0x49f)](_0x1054f8(0xbc7)),topicInputArea['classList'][_0x1054f8(0x8f4)](_0x1054f8(0xbc7)),textInputArea[_0x1054f8(0x68d)]['add'](_0x1054f8(0xbc7)),worksheetInputArea[_0x1054f8(0x68d)][_0x1054f8(0x8f4)](_0x1054f8(0xbc7));if(_0x143ace)_0x143ace['classList']['add'](_0x1054f8(0xbc7));if(_0x4de645)_0x4de645[_0x1054f8(0x68d)][_0x1054f8(0x8f4)](_0x1054f8(0xbc7));if(_0x13df23)_0x13df23[_0x1054f8(0x68d)][_0x1054f8(0x8f4)](_0x1054f8(0xbc7));}),worksheetTab[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x53eddf=_0x46cf8d;worksheetTab[_0x53eddf(0x68d)][_0x53eddf(0x8f4)]('active'),topicTab['classList'][_0x53eddf(0x49f)]('active'),textTab[_0x53eddf(0x68d)][_0x53eddf(0x49f)]('active'),fileTab[_0x53eddf(0x68d)][_0x53eddf(0x49f)](_0x53eddf(0x7e3));if(_0x2c5ea1)_0x2c5ea1['classList'][_0x53eddf(0x49f)](_0x53eddf(0x7e3));if(_0x1a6c59)_0x1a6c59['classList'][_0x53eddf(0x49f)](_0x53eddf(0x7e3));if(_0xf39177)_0xf39177[_0x53eddf(0x68d)][_0x53eddf(0x49f)](_0x53eddf(0x7e3));worksheetInputArea[_0x53eddf(0x68d)][_0x53eddf(0x49f)](_0x53eddf(0xbc7)),topicInputArea[_0x53eddf(0x68d)]['add'](_0x53eddf(0xbc7)),textInputArea['classList']['add'](_0x53eddf(0xbc7)),fileInputArea[_0x53eddf(0x68d)][_0x53eddf(0x8f4)](_0x53eddf(0xbc7));if(_0x143ace)_0x143ace[_0x53eddf(0x68d)][_0x53eddf(0x8f4)](_0x53eddf(0xbc7));if(_0x4de645)_0x4de645[_0x53eddf(0x68d)][_0x53eddf(0x8f4)](_0x53eddf(0xbc7));if(_0x13df23)_0x13df23[_0x53eddf(0x68d)][_0x53eddf(0x8f4)]('hidden');});const _0x261c88=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x1d7)),_0x33405f=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x5a1));_0x261c88&&_0x261c88['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x53752f=_0x46cf8d;topicTab['classList'][_0x53752f(0x49f)](_0x53752f(0x7e3)),textTab['classList'][_0x53752f(0x49f)](_0x53752f(0x7e3)),fileTab['classList'][_0x53752f(0x49f)]('active'),worksheetTab[_0x53752f(0x68d)]['remove'](_0x53752f(0x7e3));if(_0x2c5ea1)_0x2c5ea1[_0x53752f(0x68d)]['remove'](_0x53752f(0x7e3));if(_0x1a6c59)_0x1a6c59[_0x53752f(0x68d)]['remove'](_0x53752f(0x7e3));if(_0xf39177)_0xf39177[_0x53752f(0x68d)][_0x53752f(0x49f)]('active');_0x261c88[_0x53752f(0x68d)][_0x53752f(0x8f4)](_0x53752f(0x7e3)),topicInputArea['classList'][_0x53752f(0x8f4)](_0x53752f(0xbc7)),textInputArea[_0x53752f(0x68d)][_0x53752f(0x8f4)](_0x53752f(0xbc7)),fileInputArea['classList'][_0x53752f(0x8f4)](_0x53752f(0xbc7)),worksheetInputArea[_0x53752f(0x68d)][_0x53752f(0x8f4)](_0x53752f(0xbc7));if(_0x143ace)_0x143ace['classList'][_0x53752f(0x8f4)](_0x53752f(0xbc7));if(_0x4de645)_0x4de645[_0x53752f(0x68d)][_0x53752f(0x8f4)]('hidden');if(_0x13df23)_0x13df23[_0x53752f(0x68d)][_0x53752f(0x8f4)](_0x53752f(0xbc7));_0x33405f[_0x53752f(0x68d)][_0x53752f(0x49f)](_0x53752f(0xbc7)),displayQuestionBank();});_0x2c5ea1&&(_0x2c5ea1[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x11c00d=_0x46cf8d;_0x2c5ea1[_0x11c00d(0x68d)]['add']('active'),topicTab[_0x11c00d(0x68d)][_0x11c00d(0x49f)]('active'),textTab['classList'][_0x11c00d(0x49f)](_0x11c00d(0x7e3)),fileTab[_0x11c00d(0x68d)][_0x11c00d(0x49f)](_0x11c00d(0x7e3)),worksheetTab[_0x11c00d(0x68d)][_0x11c00d(0x49f)](_0x11c00d(0x7e3));if(_0x1a6c59)_0x1a6c59['classList'][_0x11c00d(0x49f)](_0x11c00d(0x7e3));if(_0xf39177)_0xf39177['classList'][_0x11c00d(0x49f)]('active');_0x143ace[_0x11c00d(0x68d)][_0x11c00d(0x49f)](_0x11c00d(0xbc7)),topicInputArea[_0x11c00d(0x68d)][_0x11c00d(0x8f4)](_0x11c00d(0xbc7)),textInputArea[_0x11c00d(0x68d)]['add'](_0x11c00d(0xbc7)),fileInputArea['classList']['add'](_0x11c00d(0xbc7)),worksheetInputArea[_0x11c00d(0x68d)][_0x11c00d(0x8f4)](_0x11c00d(0xbc7));if(_0x4de645)_0x4de645[_0x11c00d(0x68d)][_0x11c00d(0x8f4)](_0x11c00d(0xbc7));if(_0x13df23)_0x13df23[_0x11c00d(0x68d)][_0x11c00d(0x8f4)](_0x11c00d(0xbc7));}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x1a3))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleGenerateFromLink));_0x1a6c59&&_0x1a6c59[_0x46cf8d(0x9cd)]('click',()=>{const _0x2ac4e2=_0x46cf8d;_0x1a6c59[_0x2ac4e2(0x68d)][_0x2ac4e2(0x8f4)]('active'),topicTab['classList']['remove'](_0x2ac4e2(0x7e3)),textTab['classList'][_0x2ac4e2(0x49f)](_0x2ac4e2(0x7e3)),fileTab[_0x2ac4e2(0x68d)]['remove'](_0x2ac4e2(0x7e3)),worksheetTab['classList'][_0x2ac4e2(0x49f)](_0x2ac4e2(0x7e3));if(_0x2c5ea1)_0x2c5ea1[_0x2ac4e2(0x68d)][_0x2ac4e2(0x49f)](_0x2ac4e2(0x7e3));if(_0x261c88)_0x261c88[_0x2ac4e2(0x68d)]['remove'](_0x2ac4e2(0x7e3));if(_0xf39177)_0xf39177[_0x2ac4e2(0x68d)][_0x2ac4e2(0x49f)](_0x2ac4e2(0x7e3));_0x4de645[_0x2ac4e2(0x68d)][_0x2ac4e2(0x49f)](_0x2ac4e2(0xbc7)),topicInputArea[_0x2ac4e2(0x68d)][_0x2ac4e2(0x8f4)]('hidden'),textInputArea[_0x2ac4e2(0x68d)]['add']('hidden'),fileInputArea[_0x2ac4e2(0x68d)][_0x2ac4e2(0x8f4)]('hidden'),worksheetInputArea[_0x2ac4e2(0x68d)][_0x2ac4e2(0x8f4)](_0x2ac4e2(0xbc7));if(_0x143ace)_0x143ace[_0x2ac4e2(0x68d)][_0x2ac4e2(0x8f4)](_0x2ac4e2(0xbc7));if(_0x33405f)_0x33405f[_0x2ac4e2(0x68d)][_0x2ac4e2(0x8f4)]('hidden');if(_0x13df23)_0x13df23[_0x2ac4e2(0x68d)][_0x2ac4e2(0x8f4)]('hidden');});_0xf39177&&_0xf39177[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x527863=_0x46cf8d;_0xf39177['classList']['add'](_0x527863(0x7e3)),topicTab[_0x527863(0x68d)]['remove'](_0x527863(0x7e3)),textTab['classList'][_0x527863(0x49f)](_0x527863(0x7e3)),fileTab[_0x527863(0x68d)][_0x527863(0x49f)]('active'),worksheetTab['classList'][_0x527863(0x49f)](_0x527863(0x7e3));if(_0x2c5ea1)_0x2c5ea1[_0x527863(0x68d)][_0x527863(0x49f)](_0x527863(0x7e3));if(_0x1a6c59)_0x1a6c59['classList'][_0x527863(0x49f)](_0x527863(0x7e3));if(_0x261c88)_0x261c88[_0x527863(0x68d)][_0x527863(0x49f)]('active');_0x13df23[_0x527863(0x68d)]['remove'](_0x527863(0xbc7)),topicInputArea[_0x527863(0x68d)]['add'](_0x527863(0xbc7)),textInputArea[_0x527863(0x68d)][_0x527863(0x8f4)]('hidden'),fileInputArea[_0x527863(0x68d)][_0x527863(0x8f4)](_0x527863(0xbc7)),worksheetInputArea[_0x527863(0x68d)][_0x527863(0x8f4)]('hidden');if(_0x143ace)_0x143ace[_0x527863(0x68d)]['add'](_0x527863(0xbc7));if(_0x4de645)_0x4de645['classList'][_0x527863(0x8f4)](_0x527863(0xbc7));if(_0x33405f)_0x33405f[_0x527863(0x68d)]['add'](_0x527863(0xbc7));});const _0x296225=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x512)),_0x2b591b=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x7fc));if(_0x296225){const _0x450b2a=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x512)),_0x3195f1=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x7fc)),_0x5178f6=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x8fe)),_0x429030=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x21d)),_0x111b7a=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x553)),_0x536092=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x6f0));_0x450b2a&&_0x450b2a[_0x46cf8d(0x9cd)]('change',async _0x458135=>{const _0x5a1438=_0x46cf8d;_0x5178f6[_0x5a1438(0x68d)][_0x5a1438(0x8f4)](_0x5a1438(0xbc7)),_0x111b7a['classList'][_0x5a1438(0x8f4)](_0x5a1438(0xbc7)),_0x429030[_0x5a1438(0x5dc)]=![],_0x3195f1['disabled']=!![];const _0x662502=_0x458135[_0x5a1438(0x3cb)]['files'][0x0];if(_0x662502){_0x3195f1[_0x5a1438(0x915)]=![];try{const _0x4a81a2=await extractTextFromPdf(_0x662502);await analyzeBlueprintForTopics(_0x4a81a2);}catch(_0x37a472){showMessage(_0x5a1438(0x453)),_0x5178f6[_0x5a1438(0x68d)][_0x5a1438(0x8f4)](_0x5a1438(0xbc7));}}}),_0x429030&&_0x429030[_0x46cf8d(0x9cd)](_0x46cf8d(0xaf9),_0x2cb923=>{const _0x1feafd=_0x46cf8d,_0x3b383c=_0x2cb923[_0x1feafd(0x3cb)][_0x1feafd(0x5dc)];_0x111b7a['classList'][_0x1feafd(0x8ff)](_0x1feafd(0xbc7),!_0x3b383c),_0x3195f1[_0x1feafd(0x915)]=_0x3b383c;}),_0x536092&&(_0x536092&&_0x536092[_0x46cf8d(0x9cd)]('click',_0x4ce0b1=>{const _0x78482=_0x46cf8d,_0x85c320=_0x4ce0b1[_0x78482(0x3cb)][_0x78482(0x2ff)](_0x78482(0xb4f)),_0x5562bf=_0x4ce0b1[_0x78482(0x3cb)][_0x78482(0x2ff)](_0x78482(0x77e));if(_0x85c320){const _0x54dbcd=unescape(_0x85c320[_0x78482(0x635)][_0x78482(0x265)]);generateQuizForSingleTopic(_0x54dbcd);}else{if(_0x5562bf){const _0x368ba5=unescape(_0x5562bf['dataset']['topic']);handleGenerateTeachingContent(_0x368ba5);}}}));}_0x2b591b&&_0x2b591b[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleGenerateFromBlueprint);const _0x4a419e=document[_0x46cf8d(0x6ce)](_0x46cf8d(0xaf7)),_0x2be92a=document[_0x46cf8d(0x6ce)]('generate-from-parallel-test-btn');_0x4a419e&&_0x4a419e[_0x46cf8d(0x9cd)](_0x46cf8d(0xaf9),_0x3cff85=>{const _0x5db709=_0x46cf8d;_0x2be92a[_0x5db709(0x915)]=_0x3cff85[_0x5db709(0x3cb)][_0x5db709(0x3e9)][_0x5db709(0x1eb)]===0x0;});_0x2be92a&&_0x2be92a[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleGenerateParallelTest);loadQuizBtn[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleLoadQuiz),startQuizBtn[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),async()=>{const _0x349e71=_0x46cf8d,_0x16645d=document[_0x349e71(0x6ce)]('student-name-select');currentStudentName=_0x16645d['value'];if(!currentStudentName){showMessage(_0x349e71(0x862));return;}try{const _0x235e91=currentQuizData['id'],_0x391f36=doc(db,_0x349e71(0x21f)+appId+_0x349e71(0x75f)+_0x235e91+_0x349e71(0x9f3),currentStudentName),_0x49ced9=await getDoc(_0x391f36);!_0x49ced9['exists']()?await setDoc(_0x391f36,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x391f36,{'startedAt':new Date()[_0x349e71(0x9d8)]()});}catch(_0x4f5f8c){console['error']('Failed\x20to\x20create/update\x20submission\x20record:',_0x4f5f8c),showMessage(_0x349e71(0xabe));return;}studentNameSelectionView[_0x349e71(0x68d)][_0x349e71(0x8f4)](_0x349e71(0xbc7)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x9cf))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleJoinLiveGame),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x59c))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>showView(_0x46cf8d(0xa82)));const _0x4695ed=()=>{const _0x597f10=_0x46cf8d,_0x47836a=document['getElementById'](_0x597f10(0x7e7))['textContent'][_0x597f10(0xa99)](/[^a-z0-9]/gi,'_')[_0x597f10(0x5db)]();return'results_'+(_0x47836a||'quiz');},_0x21de73=document[_0x46cf8d(0x6ce)](_0x46cf8d(0x37b));_0x21de73&&_0x21de73['addEventListener']('input',_0x4b0e29=>{const _0xb29657=_0x46cf8d,_0x2e00f9=_0x4b0e29['target'][_0xb29657(0x3e6)][_0xb29657(0x5db)]()[_0xb29657(0x1b6)](),_0x5b9ddc=document[_0xb29657(0x6ce)](_0xb29657(0x703)),_0x120dfd=_0x5b9ddc[_0xb29657(0x3e7)](_0xb29657(0x527));_0x120dfd[_0xb29657(0x97e)](_0x267889=>{const _0x1f03d9=_0xb29657;let _0xe6fa72=![];const _0x2c19da=_0x267889[_0x1f03d9(0x3e7)](_0x1f03d9(0x380));_0x2c19da['forEach'](_0x578002=>{const _0x54c92d=_0x1f03d9,_0xfd0b57=_0x578002[_0x54c92d(0x612)](_0x54c92d(0x709))[_0x54c92d(0xa88)]['toLowerCase']();_0xfd0b57['includes'](_0x2e00f9)?(_0x578002[_0x54c92d(0x58c)][_0x54c92d(0xbe1)]=_0x54c92d(0xbb9),_0xe6fa72=!![]):_0x578002['style']['display']='none';}),_0xe6fa72?_0x267889['style']['display']=_0x1f03d9(0x45a):_0x267889[_0x1f03d9(0x58c)][_0x1f03d9(0xbe1)]=_0x1f03d9(0x4c0);});});document['getElementById']('export-image-btn')['addEventListener']('click',()=>exportTableAsImage(_0x46cf8d(0x880),_0x4695ed())),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x7c5))[_0x46cf8d(0x9cd)]('click',()=>exportTableAsPDF(_0x46cf8d(0x237),_0x4695ed())),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x435))[_0x46cf8d(0x9cd)]('click',()=>exportTableAsWord('results-table-container',_0x4695ed())),document[_0x46cf8d(0x6ce)]('export-excel-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>exportTableAsExcel(_0x46cf8d(0x237),_0x4695ed()));const _0x267efb=()=>{const _0x76551e=_0x46cf8d,_0x44774e=document[_0x76551e(0x6ce)](_0x76551e(0x7e7))['textContent'][_0x76551e(0xa99)](/[^a-z0-9]/gi,'_')[_0x76551e(0x5db)]();return _0x76551e(0x71a)+(_0x44774e||_0x76551e(0x935));};document[_0x46cf8d(0x6ce)]('export-leaderboard-image-btn')['addEventListener'](_0x46cf8d(0x58a),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x267efb())),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xc0a))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>exportTableAsPDF(_0x46cf8d(0x933),_0x267efb())),document['getElementById']('export-leaderboard-word-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>exportTableAsWord(_0x46cf8d(0x655),_0x267efb())),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x857))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>exportTableAsExcel(_0x46cf8d(0x933),_0x267efb())),projectQuizzesList[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),async _0x1bcc04=>{const _0x18add3=_0x46cf8d,_0x2d5346=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)](_0x18add3(0xa06)),_0x8be960=_0x1bcc04[_0x18add3(0x3cb)]['closest'](_0x18add3(0x3e1)),_0x2fad2a=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)]('.compare-results-btn'),_0x5ac63f=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)]('.generate-lesson-btn'),_0x331176=_0x1bcc04[_0x18add3(0x3cb)]['closest'](_0x18add3(0x442)),_0x4aa2eb=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)]('.copy-quiz-id-list-btn'),_0x15438e=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)](_0x18add3(0x18d)),_0x34e1e9=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)]('.quiz-settings-btn'),_0x2750bb=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)](_0x18add3(0x889)),_0x9c869b=_0x1bcc04[_0x18add3(0x3cb)]['closest'](_0x18add3(0x6aa)),_0x425159=_0x1bcc04['target'][_0x18add3(0x2ff)](_0x18add3(0x346)),_0x236758=_0x1bcc04['target']['closest']('.move-quiz-btn'),_0x40b128=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)](_0x18add3(0x75b)),_0x4da1b1=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)]('.unpair-quiz-btn'),_0x22346e=_0x1bcc04[_0x18add3(0x3cb)]['closest'](_0x18add3(0x99c)),_0x57f0e7=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)]('.admin-try-quiz-list-btn'),_0x54fb19=_0x1bcc04[_0x18add3(0x3cb)]['closest'](_0x18add3(0x615)),_0x4458c4=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)]('.delete-quiz-btn'),_0x325844=_0x1bcc04['target'][_0x18add3(0x2ff)](_0x18add3(0x844)),_0x195d74=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)](_0x18add3(0x40c)),_0x329d14=_0x1bcc04['target'][_0x18add3(0x2ff)]('.generate-easy-version-btn'),_0x3b5c47=_0x1bcc04[_0x18add3(0x3cb)]['closest'](_0x18add3(0xb98)),_0x22595a=_0x1bcc04[_0x18add3(0x3cb)][_0x18add3(0x2ff)](_0x18add3(0x64a));if(_0x3b5c47){const _0x22702b=_0x3b5c47[_0x18add3(0x635)]['quizId'],_0x5d2bdd=_0x3b5c47[_0x18add3(0x635)][_0x18add3(0x1a7)],_0x2248da=allQuizzes['find'](_0x3fb302=>_0x3fb302['id']===_0x22702b);_0x2248da&&showGameStartConfirmationModal(_0x22702b,_0x5d2bdd,_0x2248da[_0x18add3(0x265)]);}else{if(_0x22595a){const _0x38f4cb=_0x22595a['dataset'][_0x18add3(0x174)];handleStartLiveRace(_0x38f4cb);}else{if(_0x195d74){const _0x17ee55=_0x195d74[_0x18add3(0x635)][_0x18add3(0x174)],_0x4fdb9e=document[_0x18add3(0x6ce)](_0x18add3(0x4a7)+_0x17ee55);_0x4fdb9e&&_0x4fdb9e[_0x18add3(0x68d)][_0x18add3(0x8ff)](_0x18add3(0xbc7));}else{if(_0x8be960){const _0x279d19=_0x8be960['dataset'][_0x18add3(0x174)],_0x3aab9d=allQuizzes[_0x18add3(0xae2)](_0x1c6023=>_0x1c6023['id']===_0x279d19);_0x3aab9d&&handleGenerateParallelPostTest(_0x3aab9d);}else{if(_0x2fad2a)handleCompareResults(_0x2fad2a[_0x18add3(0x635)][_0x18add3(0x174)],_0x2fad2a[_0x18add3(0x635)]['preTestId']);else{if(_0x5ac63f){const _0x32a959=_0x5ac63f[_0x18add3(0x635)][_0x18add3(0x174)],_0xc265ef=allQuizzes[_0x18add3(0xae2)](_0x4f75cd=>_0x4f75cd['id']===_0x32a959);_0xc265ef&&_0xc265ef[_0x18add3(0x624)]?(displayLessonPlan(_0xc265ef[_0x18add3(0x624)],_0xc265ef),showConfirmation(_0x18add3(0x47d),()=>handleGenerateLessonPlan(_0x32a959)),document[_0x18add3(0x6ce)](_0x18add3(0xb5b))[_0x18add3(0x612)]('h3')[_0x18add3(0xa88)]=_0x18add3(0x968),document['getElementById'](_0x18add3(0xace))[_0x18add3(0xa88)]=_0x18add3(0x8fd)):handleGenerateLessonPlan(_0x32a959);}else{if(_0x331176)handleToggleStarQuiz(_0x331176[_0x18add3(0x635)][_0x18add3(0x174)]);else{if(_0x4aa2eb)copyTextToClipboard(_0x4aa2eb[_0x18add3(0x635)][_0x18add3(0x174)],_0x18add3(0x1ca));else{if(_0x15438e)handleOpenQuizEditor(_0x15438e[_0x18add3(0x635)][_0x18add3(0x174)]);else{if(_0x34e1e9)handleQuizSettings(_0x34e1e9[_0x18add3(0x635)][_0x18add3(0x174)]);else{if(_0x2750bb)handleDuplicateQuiz(_0x2750bb[_0x18add3(0x635)][_0x18add3(0x174)]);else{if(_0x9c869b)handleRenameQuiz(_0x9c869b[_0x18add3(0x635)]['quizId'],_0x9c869b[_0x18add3(0x635)][_0x18add3(0x265)]);else{if(_0x425159){const _0x4f4180=_0x425159[_0x18add3(0x635)][_0x18add3(0x174)],_0x5f1739=allQuizzes[_0x18add3(0xae2)](_0x59fd06=>_0x59fd06['id']===_0x4f4180);_0x5f1739&&handleGenerateParallelFromBank(_0x5f1739);}else{if(_0x236758)handleMoveQuiz(_0x236758[_0x18add3(0x635)][_0x18add3(0x174)]);else{if(_0x40b128)handleManualQuizPairing(_0x40b128['dataset'][_0x18add3(0x174)]);else{if(_0x4da1b1)handleUnpairQuiz(_0x4da1b1['dataset'][_0x18add3(0x174)]);else{if(_0x22346e){const _0x21739b=_0x22346e['dataset'][_0x18add3(0x174)],_0x214c44=allQuizzes['find'](_0x33ed26=>_0x33ed26['id']===_0x21739b);if(_0x214c44)startPresentation(_0x214c44);}else{if(_0x57f0e7){const _0x272424=_0x57f0e7[_0x18add3(0x635)][_0x18add3(0x174)],_0x162077=allQuizzes[_0x18add3(0xae2)](_0xb1262e=>_0xb1262e['id']===_0x272424);_0x162077&&(currentQuizData=_0x162077,startAdminTest());}else{if(_0x54fb19)actionTargetId=_0x54fb19[_0x18add3(0x635)][_0x18add3(0x174)],document[_0x18add3(0x6ce)]('export-pdf-modal')[_0x18add3(0x68d)][_0x18add3(0x49f)](_0x18add3(0xbc7));else{if(_0x4458c4)showConfirmation(_0x18add3(0x932)+_0x4458c4[_0x18add3(0x635)][_0x18add3(0x265)]+_0x18add3(0x426),()=>handleDeleteQuiz(_0x4458c4[_0x18add3(0x635)]['quizId']));else{if(_0x325844)handleQuizStatus(_0x325844[_0x18add3(0x635)][_0x18add3(0x174)]);else{if(_0x329d14)handleGenerateEasyVersionQuiz(_0x329d14['dataset']['quizId']);else _0x2d5346&&showQuizDetailView(_0x2d5346['dataset'][_0x18add3(0x174)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x46cf8d(0xb14))['addEventListener']('click',()=>showView(_0x46cf8d(0xa82))),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x4f3))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),confirmAndStartTeamQuiz),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x933))[_0x46cf8d(0x612)](_0x46cf8d(0x2bd))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),_0x4f7af6=>{const _0x2f6a09=_0x46cf8d,_0x3ca658=_0x4f7af6[_0x2f6a09(0x3cb)]['closest'](_0x2f6a09(0x51b));if(!_0x3ca658||!_0x3ca658[_0x2f6a09(0x635)][_0x2f6a09(0x588)])return;const _0x2b9d20=_0x3ca658[_0x2f6a09(0x635)]['sort'];if(quizLeaderboardSortBy===_0x2b9d20)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x2f6a09(0x77a)?'desc':'asc';else{quizLeaderboardSortBy=_0x2b9d20;const _0x31535e=[_0x2f6a09(0x43f)];quizLeaderboardSortOrder=_0x31535e['includes'](_0x2b9d20)?_0x2f6a09(0x77a):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x3a3))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),closePresentation),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x7bd))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x48c))['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x5b7d7f=_0x46cf8d;currentQuizData[_0x5b7d7f(0x7bb)]&&currentPresentationSlide<currentQuizData['questions'][_0x5b7d7f(0x1eb)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x46cf8d(0x9cd)](_0x46cf8d(0x55f),()=>{const _0x51f835=_0x46cf8d;!document[_0x51f835(0x23f)]&&(presentationModal[_0x51f835(0x58c)]['display']=_0x51f835(0x4c0));}),document['getElementById'](_0x46cf8d(0x396))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleDeleteAllStudents),studentList[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),_0x1fa945=>{const _0x345c19=_0x46cf8d,_0xba272a=_0x1fa945[_0x345c19(0x3cb)]['closest'](_0x345c19(0x878));if(_0xba272a){const _0x25bce8=_0xba272a[_0x345c19(0x635)][_0x345c19(0x43f)];handleDeleteStudent(_0x25bce8);}}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x9d1))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x46cf8d(0xaf9),_0x58e968=>{const _0x238640=_0x46cf8d,_0x32dfeb=_0x58e968[_0x238640(0x3cb)][_0x238640(0x3e9)][0x0],_0x204a90=document[_0x238640(0x6ce)]('generate-from-file-btn'),_0x1bfbff=document['getElementById'](_0x238640(0x8d5)),_0x5619d8=document[_0x238640(0x6ce)](_0x238640(0x4e3));_0x32dfeb?(selectedFile=_0x32dfeb,_0x5619d8[_0x238640(0x5dc)]?(_0x204a90[_0x238640(0x915)]=!![],analyzeFileForTopics(_0x32dfeb)):(_0x204a90['disabled']=![],_0x1bfbff[_0x238640(0x68d)][_0x238640(0x8f4)](_0x238640(0xbc7)))):(selectedFile=null,_0x204a90[_0x238640(0x915)]=!![],_0x1bfbff[_0x238640(0x68d)][_0x238640(0x8f4)]('hidden'));}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x4e3))['addEventListener'](_0x46cf8d(0xaf9),_0x3ba5f4=>{const _0x3502e1=_0x46cf8d,_0x213985=_0x3ba5f4[_0x3502e1(0x3cb)][_0x3502e1(0x5dc)],_0x200dde=document[_0x3502e1(0x6ce)]('generate-from-file-btn'),_0x44cb56=document[_0x3502e1(0x6ce)](_0x3502e1(0x8d5));_0x213985?(_0x200dde['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x44cb56[_0x3502e1(0x68d)][_0x3502e1(0x49f)]('hidden'),document['getElementById'](_0x3502e1(0x48d))[_0x3502e1(0x9c5)]=_0x3502e1(0xb9e))):(_0x44cb56[_0x3502e1(0x68d)][_0x3502e1(0x8f4)](_0x3502e1(0xbc7)),_0x200dde['disabled']=!selectedFile);}),document[_0x46cf8d(0x6ce)]('file-topics-list-container')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),_0x31d90d=>{const _0x3b095d=_0x46cf8d,_0x544a05=_0x31d90d[_0x3b095d(0x3cb)][_0x3b095d(0x2ff)](_0x3b095d(0xb5e)),_0x4de2e2=_0x31d90d[_0x3b095d(0x3cb)][_0x3b095d(0x2ff)](_0x3b095d(0x77e));if(_0x544a05){const _0x1473e6=unescape(_0x544a05[_0x3b095d(0x635)]['topic']);generateHybridQuizForTopic(_0x1473e6);}else{if(_0x4de2e2){const _0x205e0d=unescape(_0x4de2e2['dataset']['topic']),_0x3f68cc=document['getElementById']('difficulty-level-select')[_0x3b095d(0x3e6)];handleGenerateAndShowLesson(_0x205e0d,_0x3f68cc);}}}),document['getElementById'](_0x46cf8d(0x6ec))['addEventListener']('change',_0x1d9827=>{const _0x8ca783=_0x46cf8d,_0x51d6e5=document['getElementById'](_0x8ca783(0xafb)),_0x4c0ee8=document[_0x8ca783(0x6ce)](_0x8ca783(0x738)),_0x30df8d=document['getElementById'](_0x8ca783(0x221));_0x1d9827[_0x8ca783(0x3cb)][_0x8ca783(0x3e6)]===_0x8ca783(0x4c0)?_0x51d6e5['classList'][_0x8ca783(0x8f4)](_0x8ca783(0xbc7)):(_0x51d6e5[_0x8ca783(0x68d)]['remove'](_0x8ca783(0xbc7)),_0x1d9827[_0x8ca783(0x3cb)]['value']===_0x8ca783(0xb2a)?(_0x4c0ee8[_0x8ca783(0xa88)]=_0x8ca783(0x4f9),_0x30df8d[_0x8ca783(0x3e6)]='10'):(_0x4c0ee8[_0x8ca783(0xa88)]='ระยะเวลา\x20(วินาที):',_0x30df8d[_0x8ca783(0x3e6)]='30'));}),document['getElementById'](_0x46cf8d(0xb2c))[_0x46cf8d(0x9cd)](_0x46cf8d(0xaf9),_0x1481a3=>{const _0x54feae=_0x46cf8d,_0xa43b52=document[_0x54feae(0x6ce)]('num-choices-container'),_0x21d9e=_0x1481a3[_0x54feae(0x3cb)][_0x54feae(0x3e6)],_0x1ac484=document[_0x54feae(0x612)](_0x54feae(0x52a)),_0x1dce63=document[_0x54feae(0x6ce)]('passing-score-input'),_0x3f696f=document[_0x54feae(0x6ce)](_0x54feae(0x971));_0x21d9e===_0x54feae(0x55b)?_0x1ac484['textContent']=_0x54feae(0x92f):_0x1ac484[_0x54feae(0xa88)]=_0x54feae(0x6ee),_0x21d9e===_0x54feae(0x75c)||_0x21d9e===_0x54feae(0x248)||_0x21d9e===_0x54feae(0x8b3)?_0xa43b52[_0x54feae(0x68d)][_0x54feae(0x49f)](_0x54feae(0xbc7)):_0xa43b52[_0x54feae(0x68d)][_0x54feae(0x8f4)](_0x54feae(0xbc7)),_0x1dce63['max']=_0x3f696f[_0x54feae(0x3e6)];}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x971))[_0x46cf8d(0x9cd)]('input',_0x2295aa=>{const _0x2f6364=_0x46cf8d;document[_0x2f6364(0x6ce)]('passing-score-input')[_0x2f6364(0x2c2)]=_0x2295aa[_0x2f6364(0x3cb)]['value'];}),document['getElementById'](_0x46cf8d(0x7c1))[_0x46cf8d(0x9cd)](_0x46cf8d(0xaf9),_0xdcc8d1=>{const _0x2101da=_0x46cf8d,_0x15df57=document[_0x2101da(0x6ce)](_0x2101da(0x8ad)),_0x1dcd9f=document[_0x2101da(0x6ce)]('modal-timer-duration-label'),_0x1359b7=document[_0x2101da(0x6ce)]('modal-timer-duration-input');_0xdcc8d1[_0x2101da(0x3cb)][_0x2101da(0x3e6)]===_0x2101da(0x4c0)?_0x15df57[_0x2101da(0x68d)][_0x2101da(0x8f4)](_0x2101da(0xbc7)):(_0x15df57[_0x2101da(0x68d)][_0x2101da(0x49f)](_0x2101da(0xbc7)),_0xdcc8d1[_0x2101da(0x3cb)][_0x2101da(0x3e6)]===_0x2101da(0xb2a)?_0x1dcd9f[_0x2101da(0xa88)]='ระยะเวลา\x20(นาที):':_0x1dcd9f['textContent']=_0x2101da(0x735));}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x519))[_0x46cf8d(0x9cd)]('click',()=>{const _0x542346=_0x46cf8d;document['getElementById'](_0x542346(0x9f4))['classList'][_0x542346(0x8f4)](_0x542346(0xbc7));}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x253))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x1eeff4=_0x46cf8d;document[_0x1eeff4(0x6ce)]('quiz-editor-modal')[_0x1eeff4(0x68d)]['add'](_0x1eeff4(0xbc7));}),document['getElementById'](_0x46cf8d(0x89a))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleVerifyAnswersInEditor),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xb87))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x453275=_0x46cf8d;document[_0x453275(0x6ce)](_0x453275(0x9f4))[_0x453275(0x68d)][_0x453275(0x8f4)](_0x453275(0xbc7)),showConfirmation(_0x453275(0x194),handleSaveChanges);}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x8ea))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleAutoFixLatex);const _0xed16b7=document[_0x46cf8d(0x6ce)](_0x46cf8d(0xb04));_0xed16b7&&_0xed16b7['addEventListener']('click',_0x359de4=>{const _0x3f11f8=_0x46cf8d,_0x1ff6b8=_0x359de4[_0x3f11f8(0x3cb)]['closest']('.regenerate-question-editor-btn'),_0x548436=_0x359de4[_0x3f11f8(0x3cb)][_0x3f11f8(0x2ff)](_0x3f11f8(0x9a4));if(_0x1ff6b8){const _0x21f56f=_0x1ff6b8['closest'](_0x3f11f8(0x70d)),_0x642024=parseInt(_0x21f56f[_0x3f11f8(0x635)][_0x3f11f8(0xa5c)],0xa);handleRegenerateQuestionInEditor(_0x642024);}else{if(_0x548436){const _0x4c5029=_0x548436['closest'](_0x3f11f8(0x70d)),_0x396aa6=parseInt(_0x4c5029[_0x3f11f8(0x635)][_0x3f11f8(0xa5c)],0xa);handleAiFixFormula(_0x396aa6);}}});document[_0x46cf8d(0x6ce)](_0x46cf8d(0x4fd))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),openQuizBankModal),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xbf0))['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x28d8b1=_0x46cf8d;document['getElementById'](_0x28d8b1(0xb39))['classList'][_0x28d8b1(0x8f4)](_0x28d8b1(0xbc7));}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x8e9))[_0x46cf8d(0x9cd)]('input',_0x4a3b12=>renderQuizBankList(_0x4a3b12[_0x46cf8d(0x3cb)][_0x46cf8d(0x3e6)]));const _0x496d7f=document['getElementById'](_0x46cf8d(0x703));if(_0x496d7f){let _0x416fb7=null;_0x496d7f['addEventListener'](_0x46cf8d(0x58a),_0x14f0cb=>{const _0x118536=_0x46cf8d,_0x231d24=_0x14f0cb[_0x118536(0x3cb)],_0x3bcd80=_0x231d24[_0x118536(0x2ff)]('.edit-custom-topic-btn'),_0x3c6591=_0x231d24['closest'](_0x118536(0x785)),_0x46f899=_0x231d24[_0x118536(0x2ff)](_0x118536(0x3c0)),_0x492645=_0x231d24['closest']('.cancel-edit-topic-btn');if(_0x3c6591){_0x14f0cb[_0x118536(0x668)]();const _0x4610ca=_0x3c6591[_0x118536(0x635)]['id'],_0x34e3fb=_0x3c6591[_0x118536(0x2ff)]('.group')[_0x118536(0x612)]('.topic-name-display')[_0x118536(0xa88)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x34e3fb+'\x22?',()=>handleDeleteCustomTopic(_0x4610ca));}else{if(_0x3bcd80){_0x14f0cb[_0x118536(0x668)]();_0x416fb7&&toggleTopicEditMode(_0x416fb7,![]);const _0xa44eb0=_0x3bcd80[_0x118536(0x2ff)](_0x118536(0x87c));_0x416fb7=_0xa44eb0,toggleTopicEditMode(_0xa44eb0,!![]);}else{if(_0x46f899){_0x14f0cb['preventDefault']();const _0x18c37b=_0x46f899['dataset']['id'],_0x8227c1=_0x46f899['closest'](_0x118536(0x87c)),_0x248650=_0x8227c1['querySelector'](_0x118536(0x9f1))[_0x118536(0x3e6)];handleUpdateCustomTopic(_0x18c37b,_0x248650),_0x416fb7=null;}else{if(_0x492645){_0x14f0cb[_0x118536(0x668)]();const _0x4cc830=_0x492645[_0x118536(0x2ff)](_0x118536(0x87c));toggleTopicEditMode(_0x4cc830,![]),_0x416fb7=null;}}}}}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0xb51))['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x4e5b41=_0x46cf8d;document[_0x4e5b41(0x6ce)](_0x4e5b41(0x5fd))[_0x4e5b41(0x68d)][_0x4e5b41(0x8f4)](_0x4e5b41(0xbc7));}),document[_0x46cf8d(0x6ce)]('close-lesson-plan-modal-footer-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0x10ae83=_0x46cf8d;document[_0x10ae83(0x6ce)](_0x10ae83(0x5fd))[_0x10ae83(0x68d)][_0x10ae83(0x8f4)]('hidden');}),document['getElementById'](_0x46cf8d(0x53f))[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),handleExportLessonPDF);}document['getElementById'](_0x46cf8d(0x942))['addEventListener'](_0x46cf8d(0x58a),()=>{const _0x55b004=_0x46cf8d;document[_0x55b004(0x6ce)](_0x55b004(0x865))['classList']['add']('hidden');}),document[_0x46cf8d(0x6ce)]('close-comparison-modal-footer-btn')[_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),()=>{const _0xfd0c6=_0x46cf8d;document[_0xfd0c6(0x6ce)](_0xfd0c6(0x865))[_0xfd0c6(0x68d)][_0xfd0c6(0x8f4)](_0xfd0c6(0xbc7));}),setupComparisonModalTabs(),document[_0x46cf8d(0xad4)][_0x46cf8d(0x9cd)](_0x46cf8d(0x58a),function(_0x522b0b){const _0xf814ea=_0x46cf8d;if(_0x522b0b[_0xf814ea(0x3cb)][_0xf814ea(0x68d)][_0xf814ea(0x7da)](_0xf814ea(0x3f4))){const _0x235f10=unescape(_0x522b0b[_0xf814ea(0x3cb)][_0xf814ea(0x635)][_0xf814ea(0x265)]);startSkillPractice(_0x235f10);}}),document[_0x46cf8d(0x6ce)](_0x46cf8d(0x3ac))[_0x46cf8d(0x9cd)]('click',_0x379f32=>{const _0x4ca6a4=_0x46cf8d,_0x572903=_0x379f32['target'][_0x4ca6a4(0x2ff)](_0x4ca6a4(0x172));if(_0x572903){const _0x129ae1=_0x572903[_0x4ca6a4(0x635)][_0x4ca6a4(0x43f)];handleDeleteSubmission(_0x129ae1);}});}async function handleStartGroupMode(_0x1e6694,_0x39db91=![]){const _0x33de06=_0x314764,_0x1d4d0a=allQuizzes[_0x33de06(0xae2)](_0x512383=>_0x512383['id']===_0x1e6694)||allQuizzesGlobal[_0x33de06(0xae2)](_0x4561ab=>_0x4561ab['id']===_0x1e6694);if(!_0x1d4d0a){showMessage(_0x33de06(0x80c));return;}currentQuizData=getShuffledQuiz(_0x1d4d0a);const _0x51106a=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x33de06(0x2e2)]();try{const _0x25b11e=await addDoc(collection(db,_0x33de06(0x21f)+appId+_0x33de06(0xb02)),{'quizId':_0x1d4d0a['id'],'projectId':_0x1d4d0a[_0x33de06(0x368)],'status':'lobby','pin':_0x51106a,'mode':_0x33de06(0x8f0),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x39db91});currentTeamQuizId=_0x25b11e['id'],showView(_0x33de06(0x5a8)),renderAdminTeamQuizDashboard(_0x51106a,_0x1d4d0a['topic'],_0x33de06(0x8f0)),listenForTeamQuizUpdates();}catch(_0x1836eb){console['error']('Error\x20starting\x20group\x20quiz:',_0x1836eb),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0xe1c089=_0x314764;studentInitialView[_0xe1c089(0x68d)][_0xe1c089(0x8f4)](_0xe1c089(0xbc7)),document[_0xe1c089(0x6ce)](_0xe1c089(0xc26))[_0xe1c089(0x68d)][_0xe1c089(0x49f)](_0xe1c089(0xbc7));const _0x162903=document['getElementById']('progress-project-select'),_0x1cb927=document[_0xe1c089(0x6ce)]('progress-student-select'),_0x1994bc=document['getElementById'](_0xe1c089(0xa30));_0x1994bc['innerHTML']=_0xe1c089(0x764),_0x1cb927[_0xe1c089(0x9c5)]=_0xe1c089(0x1cc),_0x1cb927[_0xe1c089(0x915)]=!![],_0x162903[_0xe1c089(0x9c5)]=_0xe1c089(0x9e1);if(allProjects[_0xe1c089(0x1eb)]===0x0){const _0x26bd98=collection(db,_0xe1c089(0x21f)+appId+_0xe1c089(0x7fe)),_0x2ae534=await getDocs(_0x26bd98);allProjects=_0x2ae534[_0xe1c089(0xc27)][_0xe1c089(0x83a)](_0x448027=>({'id':_0x448027['id'],..._0x448027[_0xe1c089(0x31c)]()}));}const _0x296dbf=allProjects[_0xe1c089(0x595)](_0x28694d=>_0x28694d[_0xe1c089(0xbd0)]?.[_0xe1c089(0x284)]!==![]);_0x296dbf[_0xe1c089(0x588)]((_0x27dbd1,_0x8a54e5)=>_0x27dbd1['projectName']['localeCompare'](_0x8a54e5['projectName'],'th')),_0x162903[_0xe1c089(0x9c5)]=_0xe1c089(0x428)+_0x296dbf[_0xe1c089(0x83a)](_0x399671=>_0xe1c089(0x279)+_0x399671['id']+'\x22>'+_0x399671[_0xe1c089(0xbbf)]+_0xe1c089(0x92c))[_0xe1c089(0x47c)](''),_0x162903[_0xe1c089(0x4cd)]=()=>{const _0x1f8709=_0xe1c089,_0x224b76=_0x1cb927['value'],_0x596fe2=_0x162903[_0x1f8709(0x3e6)];_0x1cb927['disabled']=!![],_0x1cb927['innerHTML']=_0x1f8709(0x1cc),_0x1994bc[_0x1f8709(0x9c5)]=_0x1f8709(0x235);if(!_0x596fe2)return;const _0x1aaee3=allProjects[_0x1f8709(0xae2)](_0x16f311=>_0x16f311['id']===_0x596fe2);if(!_0x1aaee3||!_0x1aaee3[_0x1f8709(0x801)])return;const _0x57fc5e=()=>{const _0x4b46e3=_0x1f8709;_0x1cb927['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x1aaee3[_0x4b46e3(0x801)][_0x4b46e3(0x83a)](_0x44147c=>_0x4b46e3(0x279)+_0x44147c+'\x22>'+_0x44147c+_0x4b46e3(0x92c))['join'](''),_0x1cb927['disabled']=![];const _0x5cf3c4=Array[_0x4b46e3(0x2db)](_0x1cb927[_0x4b46e3(0x9b5)])[_0x4b46e3(0x83a)](_0x1aff6c=>_0x1aff6c['value']);if(_0x224b76&&_0x5cf3c4[_0x4b46e3(0x8f7)](_0x224b76))_0x1cb927[_0x4b46e3(0x3e6)]=_0x224b76,_0x1cb927[_0x4b46e3(0x38b)](new Event('change'));else _0x1aaee3[_0x4b46e3(0x801)][_0x4b46e3(0x1eb)]===0x1&&(_0x1cb927[_0x4b46e3(0x3e6)]=_0x1aaee3['students'][0x0],_0x1cb927[_0x4b46e3(0x38b)](new Event(_0x4b46e3(0xaf9))));};if(_0x1aaee3[_0x1f8709(0xbd0)]?.[_0x1f8709(0x7b3)]){if(sessionStorage[_0x1f8709(0x44c)](_0x1f8709(0x224)+_0x596fe2)===_0x1f8709(0x8de)){_0x57fc5e();return;}const _0x328073=document['getElementById'](_0x1f8709(0x619)),_0x7ce15b=document[_0x1f8709(0x6ce)](_0x1f8709(0xa27)),_0x1d1877=document[_0x1f8709(0x6ce)](_0x1f8709(0xab1)),_0x1c7067=document['getElementById']('student-passcode-input'),_0x78a62b=document[_0x1f8709(0x6ce)](_0x1f8709(0x5a9));document['getElementById'](_0x1f8709(0x312))[_0x1f8709(0xa88)]=_0x1f8709(0x49a)+_0x1aaee3[_0x1f8709(0xbbf)],_0x1c7067['value']='',_0x78a62b['classList'][_0x1f8709(0x8f4)](_0x1f8709(0xbc7)),_0x328073[_0x1f8709(0x68d)]['remove'](_0x1f8709(0xbc7));const _0x22e0ce=()=>{const _0x1c2c69=_0x1f8709,_0x5130e6=_0x1c7067['value']['trim']();_0x5130e6===_0x1aaee3[_0x1c2c69(0xbd0)][_0x1c2c69(0x3c4)]?(sessionStorage['setItem'](_0x1c2c69(0x224)+_0x596fe2,_0x1c2c69(0x8de)),_0x328073['classList'][_0x1c2c69(0x8f4)]('hidden'),_0x57fc5e(),_0x7ce15b['removeEventListener']('click',_0x22e0ce)):_0x78a62b[_0x1c2c69(0x68d)]['remove']('hidden');};_0x7ce15b[_0x1f8709(0xb41)]=_0x22e0ce,_0x1d1877[_0x1f8709(0xb41)]=()=>{const _0x2c1d00=_0x1f8709;_0x328073[_0x2c1d00(0x68d)][_0x2c1d00(0x8f4)](_0x2c1d00(0xbc7)),_0x162903[_0x2c1d00(0x3e6)]='',_0x7ce15b['removeEventListener']('click',_0x22e0ce);};}else _0x57fc5e();},_0x1cb927[_0xe1c089(0x4cd)]=()=>{const _0x22f1ac=_0xe1c089,_0x3f332e=_0x162903[_0x22f1ac(0x3e6)],_0x5af239=_0x1cb927[_0x22f1ac(0x3e6)];_0x3f332e&&_0x5af239&&renderStudentProgressDashboard(_0x3f332e,_0x5af239);};}async function confirmAndJoinSyncGame(){const _0x11e4e3=_0x314764,_0x3651f7=Array[_0x11e4e3(0x2db)](document[_0x11e4e3(0x3e7)](_0x11e4e3(0x1e5)))[_0x11e4e3(0x83a)](_0x160e9a=>_0x160e9a['value']);if(_0x3651f7[_0x11e4e3(0x1eb)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x3651f7,localPlayerTurnIndex=0x0;const _0x1c4d40=doc(db,_0x11e4e3(0x21f)+appId+_0x11e4e3(0x35d),currentLiveGameId);try{const _0x3964ab=await getDoc(_0x1c4d40);if(!_0x3964ab['exists']())throw new Error(_0x11e4e3(0x992));const _0x450420=_0x3964ab[_0x11e4e3(0x31c)]()[_0x11e4e3(0xb90)]||{};_0x3651f7[_0x11e4e3(0x97e)](_0x91ef1d=>{const _0x29a921=_0x11e4e3;!_0x450420[_0x91ef1d]&&(_0x450420[_0x91ef1d]={'name':_0x91ef1d,'score':0x0,'answered':![],'status':_0x29a921(0x7e3)});}),await updateDoc(_0x1c4d40,{'players':_0x450420}),document[_0x11e4e3(0x6ce)](_0x11e4e3(0x5a7))[_0x11e4e3(0x68d)][_0x11e4e3(0x8f4)](_0x11e4e3(0xbc7)),currentStudentName=_0x3651f7[0x0],listenForSyncGameUpdates();const _0x31edc7={'gameId':currentLiveGameId,'mode':_0x11e4e3(0x49e),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x11e4e3(0x1fb)](_0x11e4e3(0x736),JSON[_0x11e4e3(0x73a)](_0x31edc7));}catch(_0x2d96ed){console[_0x11e4e3(0x9b3)](_0x11e4e3(0xb7d),_0x2d96ed),showMessage(_0x11e4e3(0xc2c));}}async function resumeActiveGameSession(){const _0x42173b=_0x314764,_0x342253=sessionStorage['getItem'](_0x42173b(0x736));if(!_0x342253)return;const _0x2f9951=JSON[_0x42173b(0x36d)](_0x342253),{gameId:_0x58545d,mode:_0x1f8525,players:_0x20c894,turnIndex:_0x5dab1b}=_0x2f9951;try{let _0x31311a,_0x435183;_0x1f8525===_0x42173b(0x49e)?_0x31311a=doc(db,_0x42173b(0x21f)+appId+_0x42173b(0x35d),_0x58545d):_0x31311a=doc(db,_0x42173b(0x21f)+appId+'/public/data/teamQuizzes',_0x58545d);_0x435183=await getDoc(_0x31311a);if(!_0x435183[_0x42173b(0x232)]()||_0x435183[_0x42173b(0x31c)]()['status']===_0x42173b(0xa3a)||_0x435183[_0x42173b(0x31c)]()[_0x42173b(0xbfc)]==='podium'){sessionStorage[_0x42173b(0xa6e)](_0x42173b(0x736));return;}console['log'](_0x42173b(0x76f)+_0x1f8525+_0x42173b(0x6b4)+_0x58545d+')'),localTeamPlayers=_0x20c894,localPlayerTurnIndex=_0x5dab1b;if(_0x1f8525==='sync')currentLiveGameId=_0x58545d,currentStudentName=_0x20c894[0x0],showView(_0x42173b(0x5a8)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x58545d;const _0x40f501=_0x435183[_0x42173b(0x31c)](),_0x26720b=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x40f501['quizId']),_0x16b683=await getDoc(_0x26720b);_0x16b683[_0x42173b(0x232)]()&&(currentQuizData=getShuffledQuiz({'id':_0x16b683['id'],..._0x16b683[_0x42173b(0x31c)]()}),showView(_0x42173b(0xa82)),studentInitialView[_0x42173b(0x68d)][_0x42173b(0x8f4)](_0x42173b(0xbc7)),renderTeamQuizQuestion());}}catch(_0x3cc39f){console[_0x42173b(0x9b3)](_0x42173b(0xc30),_0x3cc39f),sessionStorage[_0x42173b(0xa6e)](_0x42173b(0x736));}}async function handleKickPlayerSync(_0x87d36a){const _0x10c349=_0x314764;if(!currentLiveGameId||!_0x87d36a)return;const _0x4184c9=doc(db,_0x10c349(0x21f)+appId+_0x10c349(0x35d),currentLiveGameId),_0x3d4cab={};_0x3d4cab[_0x10c349(0xab6)+_0x87d36a+'.status']=_0x10c349(0x6b3);try{await updateDoc(_0x4184c9,_0x3d4cab);}catch(_0x8f7920){console[_0x10c349(0x9b3)](_0x10c349(0x478)+_0x87d36a+'\x20from\x20sync\x20game:',_0x8f7920),showMessage(_0x10c349(0xc22));}}async function renderStudentProgressDashboard(_0x587fe5,_0x146c49){const _0xde5425=_0x314764,_0x42bd02=document[_0xde5425(0x6ce)]('student-progress-content');_0x42bd02['innerHTML']=_0xde5425(0x6c4);try{const _0xaa2223=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x53b408=query(_0xaa2223,where(_0xde5425(0x368),'==',_0x587fe5)),_0x59c4bf=await getDocs(_0x53b408),_0x5f2358=_0x59c4bf[_0xde5425(0xc27)][_0xde5425(0x83a)](_0xf17712=>({'id':_0xf17712['id'],..._0xf17712[_0xde5425(0x31c)]()})),_0x427186=_0x5f2358[_0xde5425(0x83a)](_0x3e9817=>getDoc(doc(db,_0xde5425(0x21f)+appId+_0xde5425(0x75f)+_0x3e9817['id']+_0xde5425(0x9f3),_0x146c49))),_0x37555e=await Promise[_0xde5425(0x486)](_0x427186),_0x1903c7=_0x37555e[_0xde5425(0x595)](_0x55060a=>_0x55060a['exists']())[_0xde5425(0x83a)](_0x20a1b5=>({'quizId':_0x20a1b5[_0xde5425(0x919)]['parent'][_0xde5425(0x25e)]['id'],..._0x20a1b5[_0xde5425(0x31c)]()}));if(_0x1903c7[_0xde5425(0x1eb)]===0x0){_0x42bd02['innerHTML']=_0xde5425(0x9ce);return;}let _0x4cbb43=_0xde5425(0xb12);_0x1903c7[_0xde5425(0x97e)](_0xaeccaf=>{const _0x2e3707=_0xde5425,_0x1aac9b=_0x5f2358[_0x2e3707(0xae2)](_0x551904=>_0x551904['id']===_0xaeccaf[_0x2e3707(0x174)]),_0x5d6d51=_0x1aac9b[_0x2e3707(0xbd0)]?.[_0x2e3707(0x57f)]||_0x2e3707(0x46c),_0x3fbb25=_0x1aac9b[_0x2e3707(0xbd0)]?.[_0x2e3707(0xaa1)]??0x0,_0x57dc89=_0xaeccaf[_0x2e3707(0xc0f)]>=_0x3fbb25;let _0xb196c8='',_0x1df7b5=_0x2e3707(0xa47);switch(_0x5d6d51){case _0x2e3707(0x46c):case'show_results_only':_0x1df7b5=_0x57dc89?'bg-green-50':_0x2e3707(0x729),_0xb196c8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x57dc89?_0x2e3707(0x44a):_0x2e3707(0xa8c))+'\x22>'+_0xaeccaf['bestScore']+_0x2e3707(0x2d6)+_0xaeccaf[_0x2e3707(0x2ee)]+_0x2e3707(0x6c9)+(_0x57dc89?'bg-green-200\x20text-green-800':_0x2e3707(0x2e6))+'\x22>'+(_0x57dc89?_0x2e3707(0x5b9):_0x2e3707(0xb6c))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'show_pass_fail_only':_0x1df7b5=_0x57dc89?_0x2e3707(0x82f):_0x2e3707(0x729),_0xb196c8=_0x2e3707(0x859)+(_0x57dc89?_0x2e3707(0x361):_0x2e3707(0x2e6))+'\x22>'+(_0x57dc89?_0x2e3707(0x5b9):_0x2e3707(0xb6c))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2e3707(0xa86):_0x1df7b5=_0x2e3707(0x4d7),_0xb196c8=_0x2e3707(0x5d4);break;}_0x4cbb43+=_0x2e3707(0xaa6)+_0x1df7b5+_0x2e3707(0x173)+_0x1aac9b[_0x2e3707(0x265)]+_0x2e3707(0xa69)+_0xaeccaf[_0x2e3707(0x23c)][_0x2e3707(0x1eb)]+_0x2e3707(0x3db)+new Date(_0xaeccaf[_0x2e3707(0xbd5)])[_0x2e3707(0x8f2)]('th-TH')+_0x2e3707(0x6de)+_0xb196c8+_0x2e3707(0x3b7);}),_0x4cbb43+='</div>',_0x42bd02[_0xde5425(0x9c5)]=_0x4cbb43;}catch(_0x35b8b1){console[_0xde5425(0x9b3)](_0xde5425(0x807),_0x35b8b1),_0x42bd02[_0xde5425(0x9c5)]=_0xde5425(0xb91);}}function renderQuizBankListForMultiSelect(_0x49b1c7=''){const _0x302f5b=_0x314764,_0x547857=document[_0x302f5b(0x6ce)](_0x302f5b(0x9dd)),_0x1c9400=_0x49b1c7[_0x302f5b(0x5db)]()[_0x302f5b(0x1b6)](),_0x253a47=allQuizzesGlobal[_0x302f5b(0x83a)](_0x27626c=>({..._0x27626c,'projectName':allProjects[_0x302f5b(0xae2)](_0x1aefa2=>_0x1aefa2['id']===_0x27626c[_0x302f5b(0x368)])?.['projectName']||_0x302f5b(0x78b)}))[_0x302f5b(0x595)](_0x38c930=>(_0x38c930[_0x302f5b(0x265)]||'')[_0x302f5b(0x5db)]()['includes'](_0x1c9400)||(_0x38c930['projectName']||'')[_0x302f5b(0x5db)]()[_0x302f5b(0x8f7)](_0x1c9400)||_0x38c930['id'][_0x302f5b(0x2e2)]()[_0x302f5b(0x8f7)](_0x1c9400));_0x547857[_0x302f5b(0x9c5)]=_0x253a47[_0x302f5b(0x1eb)]?_0x253a47[_0x302f5b(0x83a)](_0x5c6839=>_0x302f5b(0x67a)+_0x5c6839['id']+_0x302f5b(0x4e4)+(_0x5c6839[_0x302f5b(0x265)]||'(ไม่มีชื่อ)')+_0x302f5b(0x7ec)+_0x5c6839[_0x302f5b(0xbbf)]+'\x20|\x20ID:\x20'+_0x5c6839['id']+_0x302f5b(0xbe8))[_0x302f5b(0x47c)](''):_0x302f5b(0x8b9),_0x547857['onchange']=()=>{const _0x28dd26=_0x302f5b,_0x50918d=document[_0x28dd26(0x612)](_0x28dd26(0x2b4));document['getElementById'](_0x28dd26(0x391))[_0x28dd26(0x915)]=!_0x50918d;};}function setupStudentProgressListeners(){const _0x24bbdd=_0x314764;document[_0x24bbdd(0x6ce)]('view-my-progress-btn')[_0x24bbdd(0x9cd)](_0x24bbdd(0x58a),showStudentProgressView),document['getElementById']('back-to-student-home-btn')['addEventListener'](_0x24bbdd(0x58a),()=>{const _0x4ec81f=_0x24bbdd;document[_0x4ec81f(0x6ce)](_0x4ec81f(0xc26))[_0x4ec81f(0x68d)][_0x4ec81f(0x8f4)]('hidden'),document['getElementById'](_0x4ec81f(0x8c6))[_0x4ec81f(0x68d)][_0x4ec81f(0x49f)](_0x4ec81f(0xbc7));});}async function startSkillPractice(_0x673322){const _0x526659=_0x314764;studentResultArea[_0x526659(0x68d)][_0x526659(0x8f4)]('hidden'),studentQuizArea[_0x526659(0x9c5)]=_0x526659(0x363),studentQuizArea[_0x526659(0x68d)][_0x526659(0x49f)](_0x526659(0xbc7));try{const _0x4351e2=await getStandardizedTopic(_0x673322);console['log'](_0x526659(0x95d)+_0x673322+_0x526659(0x9f6)+_0x4351e2+'\x22'),studentQuizArea[_0x526659(0x612)]('p')[_0x526659(0xa88)]=_0x526659(0x68a)+_0x4351e2+_0x526659(0x205);const _0x1b7066=collection(db,_0x526659(0x21f)+appId+_0x526659(0x8aa)),_0x29d169=query(_0x1b7066,where(_0x526659(0x265),'==',_0x4351e2)),_0x1e224e=await getDocs(_0x29d169);if(_0x1e224e[_0x526659(0xc27)]['length']>=0x3){console[_0x526659(0xa58)](_0x526659(0xb1d)+_0x1e224e[_0x526659(0xc27)]['length']+_0x526659(0x96f)+_0x4351e2+_0x526659(0x9ae));let _0x2e8210=_0x1e224e[_0x526659(0xc27)][_0x526659(0x83a)](_0x1617ae=>_0x1617ae['data']());shuffleArray(_0x2e8210);const _0x357541={'topic':_0x4351e2,'questions':_0x2e8210[_0x526659(0x8e8)](0x0,0x3)};displaySkillPracticeDrill(_0x357541);}else{console[_0x526659(0xa58)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x4351e2+_0x526659(0x3b9));const _0xc45f1b=await generatePracticeQuestions(_0x4351e2);await saveDrillToPracticeBank(_0xc45f1b,_0x4351e2),displaySkillPracticeDrill(_0xc45f1b);}}catch(_0x3ca59a){console[_0x526659(0x9b3)](_0x526659(0x38e),_0x3ca59a),showMessage(_0x526659(0x3c7)),studentQuizArea[_0x526659(0x68d)][_0x526659(0x8f4)](_0x526659(0xbc7)),studentResultArea[_0x526659(0x68d)][_0x526659(0x49f)](_0x526659(0xbc7));}}async function saveDrillToPracticeBank(_0x9d354a,_0x311d71){const _0x2c830d=_0x314764,_0x2129ae=collection(db,_0x2c830d(0x21f)+appId+_0x2c830d(0x8aa)),_0x1b3276=writeBatch(db);_0x9d354a[_0x2c830d(0x7bb)][_0x2c830d(0x97e)](_0x278d57=>{const _0x39baa4=_0x2c830d,_0x59384c=doc(_0x2129ae);_0x1b3276[_0x39baa4(0x4e8)](_0x59384c,{'topic':_0x311d71,'questionText':_0x278d57[_0x39baa4(0x41e)],'options':_0x278d57[_0x39baa4(0x9b5)],'correctAnswerIndex':_0x278d57[_0x39baa4(0xaca)],'explanation':_0x278d57[_0x39baa4(0x823)],'createdAt':serverTimestamp()});});try{await _0x1b3276[_0x2c830d(0xb03)](),console[_0x2c830d(0xa58)]('บันทึกคำถามใหม่\x20'+_0x9d354a[_0x2c830d(0x7bb)][_0x2c830d(0x1eb)]+_0x2c830d(0x7e0));}catch(_0x3020d3){console[_0x2c830d(0x9b3)](_0x2c830d(0x345),_0x3020d3);}}async function getStandardizedTopic(_0x1a7a4b){const _0x56f4b4=_0x314764,_0x283405=_0x56f4b4(0x5b0)+_0x1a7a4b+_0x56f4b4(0x4fb),_0x9c92ee={'type':_0x56f4b4(0x417),'properties':{'standardTopic':{'type':_0x56f4b4(0x5b8)}},'required':['standardTopic']};try{const _0x119c57=await callAnalysisApi(_0x283405,_0x9c92ee);return _0x119c57[_0x56f4b4(0x4f5)];}catch(_0x56a069){return console['error'](_0x56f4b4(0x4c3),_0x56a069),_0x1a7a4b;}}async function handleGenerateEasyVersionQuiz(_0x130648){const _0xf5190a=_0x314764,_0x14ac69=document['getElementById']('results-tab-content'),_0x2e21d1=document[_0xf5190a(0x6ce)](_0xf5190a(0x708));_0x2e21d1['classList'][_0xf5190a(0x8f4)](_0xf5190a(0xbc7));const _0x361f07=_0xf5190a(0xbfa);_0x14ac69['insertAdjacentHTML'](_0xf5190a(0xab5),_0x361f07);try{const _0xc0392b=allQuizzes[_0xf5190a(0xae2)](_0x2ac800=>_0x2ac800['id']===_0x130648);if(!_0xc0392b)throw new Error(_0xf5190a(0x6bc));const _0x3377f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0xf5190a(0x73a)](_0xc0392b[_0xf5190a(0x7bb)])+_0xf5190a(0x772),_0x4ba852={'type':_0xf5190a(0x417),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xf5190a(0x5b8)},'options':{'type':_0xf5190a(0x8c2),'items':{'type':_0xf5190a(0x5b8)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0xf5190a(0x5b8)}},'required':[_0xf5190a(0x41e),_0xf5190a(0xb6e),_0xf5190a(0x823)]},_0x42745a={'type':_0xf5190a(0x417),'properties':{'questions':{'type':_0xf5190a(0x8c2),'items':_0x4ba852}},'required':['questions']},_0x57abed=await callAnalysisApi(_0x3377f1,_0x42745a);_0x57abed&&_0x57abed[_0xf5190a(0x7bb)]&&_0x57abed['questions'][_0xf5190a(0x97e)](_0x187881=>{const _0x173378=_0xf5190a;if(_0x187881[_0x173378(0x580)](_0x173378(0x25f))){const _0xe776e6=String(_0x187881['imageCode'])[_0x173378(0x1b6)]();(_0xe776e6===''||_0xe776e6[_0x173378(0x5db)]()===_0x173378(0x97c)||!_0xe776e6[_0x173378(0x6af)](_0x173378(0x97f)))&&delete _0x187881['imageCode'];}});if(!_0x57abed||!_0x57abed[_0xf5190a(0x7bb)]||_0x57abed['questions'][_0xf5190a(0x1eb)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x3eedbb=_0x57abed['questions']['map']((_0x5193ce,_0xdf968f)=>({..._0x5193ce,'id':'q_'+Date[_0xf5190a(0x72c)]()+'_'+_0xdf968f})),_0x1c77c0={'projectId':_0xc0392b[_0xf5190a(0x368)],'quizType':_0xc0392b[_0xf5190a(0xa1e)],'settings':_0xc0392b[_0xf5190a(0xbd0)],'createdBy':_0xc0392b['createdBy'],'status':'active','topic':_0xf5190a(0x422)+_0xc0392b[_0xf5190a(0x265)],'questions':_0x3eedbb,'createdAt':new Date()[_0xf5190a(0x9d8)](),'quizMode':'standard','pairedQuizId':null};let _0x23de83;while(!![]){_0x23de83=Math[_0xf5190a(0x7d0)](0x3e8+Math[_0xf5190a(0x2e9)]()*0x2328)[_0xf5190a(0x2e2)]();const _0x1251ce=await getDoc(doc(db,'artifacts/'+appId+_0xf5190a(0x544),_0x23de83));if(!_0x1251ce[_0xf5190a(0x232)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0xf5190a(0x544),_0x23de83),_0x1c77c0),showMessage(_0xf5190a(0x2f9));}catch(_0x21ef74){console['error'](_0xf5190a(0x5a5),_0x21ef74),showMessage('เกิดข้อผิดพลาด:\x20'+_0x21ef74['message']);}finally{const _0x1cc9c5=document[_0xf5190a(0x6ce)](_0xf5190a(0x275));_0x1cc9c5&&_0x1cc9c5[_0xf5190a(0x49f)](),_0x2e21d1[_0xf5190a(0x68d)]['remove'](_0xf5190a(0xbc7));}}async function generatePracticeQuestions(_0x3cdc55){const _0x538229=_0x314764,_0x18fa0f=_0x538229(0x876)+_0x3cdc55+_0x538229(0x489)+simpleMathPrompt+_0x538229(0xac2),_0x4f14d6={'type':_0x538229(0x417),'properties':{'questionText':{'type':_0x538229(0x5b8)},'options':{'type':_0x538229(0x8c2),'items':{'type':_0x538229(0x5b8)}},'correctAnswerIndex':{'type':_0x538229(0x31a)},'explanation':{'type':'STRING'}},'required':[_0x538229(0x41e),_0x538229(0x9b5),_0x538229(0xaca),_0x538229(0x823)]},_0x26769b={'type':_0x538229(0x417),'properties':{'topic':{'type':_0x538229(0x5b8)},'questions':{'type':_0x538229(0x8c2),'items':_0x4f14d6}},'required':[_0x538229(0x265),'questions']};return await callAnalysisApi(_0x18fa0f,_0x26769b);}function displayLessonPlan(_0x1c8dfd,_0x3aecb2){const _0x4f444c=_0x314764,_0x45a546='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x3aecb2[_0x4f444c(0x265)]+_0x4f444c(0xa65)+_0x1c8dfd[_0x4f444c(0x891)][_0x4f444c(0x83a)](_0xf1aa0b=>'<li>'+_0xf1aa0b+'</li>')[_0x4f444c(0x47c)]('')+_0x4f444c(0x452)+_0x1c8dfd[_0x4f444c(0xb7b)]+_0x4f444c(0x1f6)+_0x1c8dfd[_0x4f444c(0xaad)][_0x4f444c(0x83a)](_0xa34ce9=>_0x4f444c(0x3bc)+_0xa34ce9[_0x4f444c(0x2d4)]+_0x4f444c(0xb83)+_0xa34ce9[_0x4f444c(0x247)]+_0x4f444c(0x338))[_0x4f444c(0x47c)]('')+_0x4f444c(0x66e);document[_0x4f444c(0x6ce)]('lesson-plan-title')[_0x4f444c(0xa88)]=_0x4f444c(0x3d1)+_0x3aecb2[_0x4f444c(0x265)],document[_0x4f444c(0x6ce)](_0x4f444c(0x8e3))[_0x4f444c(0x9c5)]=_0x45a546,document[_0x4f444c(0x6ce)](_0x4f444c(0x5fd))['classList'][_0x4f444c(0x49f)](_0x4f444c(0xbc7));if(window['MathJax'])MathJax[_0x4f444c(0x966)]();}function displaySkillPracticeDrill(_0x16391e){const _0x7082b1=_0x314764;let _0x371cbe=0x0;const _0x1e220b=_0x16391e[_0x7082b1(0x7bb)],_0x227ea4=()=>{const _0x56f134=_0x7082b1,_0x1a40d4=_0x1e220b[_0x371cbe],_0x5d5f23='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x371cbe+0x1)+_0x56f134(0x2d6)+_0x1e220b[_0x56f134(0x1eb)]+_0x56f134(0x59e)+_0x1a40d4[_0x56f134(0x41e)]+_0x56f134(0x1b8)+_0x1a40d4[_0x56f134(0x9b5)]['map']((_0x4bd32f,_0x55e461)=>_0x56f134(0x8a1)+_0x55e461+_0x56f134(0x22c)+_0x55e461+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x55e461+'\x22>'+_0x4bd32f+_0x56f134(0xc20))[_0x56f134(0x47c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x56f134(0x9c5)]=_0x5d5f23;if(window[_0x56f134(0x649)])MathJax['typesetPromise']([studentQuizArea]);document[_0x56f134(0x6ce)]('hint-btn')['addEventListener']('click',async()=>{const _0x361837=await getHintForQuestion(_0x1a40d4['questionText']);showMessage(_0x361837);}),document[_0x56f134(0x6ce)]('check-answer-btn')[_0x56f134(0x9cd)](_0x56f134(0x58a),()=>{const _0x519c49=_0x56f134,_0x50ba3e=document[_0x519c49(0x612)](_0x519c49(0x66b));if(!_0x50ba3e){showMessage(_0x519c49(0x609));return;}const _0x20280e=document[_0x519c49(0x6ce)](_0x519c49(0x791)),_0x70a101=parseInt(_0x50ba3e[_0x519c49(0x3e6)])===_0x1a40d4[_0x519c49(0xaca)];_0x70a101?(_0x20280e[_0x519c49(0x50a)]=_0x519c49(0x965),_0x20280e[_0x519c49(0x9c5)]=_0x519c49(0x4d5)+_0x1a40d4[_0x519c49(0x823)]):(_0x20280e[_0x519c49(0x50a)]=_0x519c49(0xa45),_0x20280e['innerHTML']=_0x519c49(0x26e)+_0x1a40d4['explanation']);_0x20280e[_0x519c49(0x68d)][_0x519c49(0x49f)]('hidden');if(window[_0x519c49(0x649)])MathJax[_0x519c49(0x966)]([_0x20280e]);document[_0x519c49(0x6ce)](_0x519c49(0x982))[_0x519c49(0x68d)][_0x519c49(0x8f4)](_0x519c49(0xbc7)),document[_0x519c49(0x6ce)]('hint-btn')[_0x519c49(0x68d)][_0x519c49(0x8f4)](_0x519c49(0xbc7)),document[_0x519c49(0x6ce)](_0x519c49(0x24a))['classList'][_0x519c49(0x49f)]('hidden');}),document[_0x56f134(0x6ce)](_0x56f134(0x24a))[_0x56f134(0x9cd)](_0x56f134(0x58a),()=>{const _0x13639f=_0x56f134;_0x371cbe++,_0x371cbe<_0x1e220b[_0x13639f(0x1eb)]?_0x227ea4():(studentQuizArea[_0x13639f(0x9c5)]=_0x13639f(0x26d),document[_0x13639f(0x6ce)](_0x13639f(0xb78))['addEventListener'](_0x13639f(0x58a),()=>{const _0x1ffb4e=_0x13639f;studentQuizArea[_0x1ffb4e(0x68d)][_0x1ffb4e(0x8f4)](_0x1ffb4e(0xbc7)),studentResultArea[_0x1ffb4e(0x68d)][_0x1ffb4e(0x49f)](_0x1ffb4e(0xbc7));}));});};_0x227ea4();}async function getHintForQuestion(_0x2f8291){const _0x332ff7=_0x314764,_0xd01485=_0x332ff7(0x231)+_0x2f8291+_0x332ff7(0x720),_0x1e9e6e={'type':_0x332ff7(0x417),'properties':{'hint':{'type':_0x332ff7(0x5b8)}},'required':['hint']};try{const _0x5b3a03=await callAnalysisApi(_0xd01485,_0x1e9e6e);return _0x5b3a03['hint'];}catch(_0x45f551){return console[_0x332ff7(0x9b3)](_0x332ff7(0x5f8),_0x45f551),_0x332ff7(0x480);}}async function extractTextFromPdf(_0x5837b8){const _0x24c343=_0x314764;pdfjsLib['GlobalWorkerOptions'][_0x24c343(0xbf1)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0xafd7f9=await _0x5837b8[_0x24c343(0xa76)](),_0x3996c6=await pdfjsLib[_0x24c343(0x68b)](_0xafd7f9)[_0x24c343(0x47a)],_0x38113b=_0x3996c6[_0x24c343(0x3b4)];let _0x3e3695='';for(let _0x28ed37=0x1;_0x28ed37<=_0x38113b;_0x28ed37++){const _0x14fe15=await _0x3996c6[_0x24c343(0x249)](_0x28ed37),_0x1c7ded=await _0x14fe15[_0x24c343(0x8bb)](),_0x196521=_0x1c7ded[_0x24c343(0x727)]['map'](_0x1a60c8=>_0x1a60c8[_0x24c343(0x9ac)])[_0x24c343(0x47c)]('\x20');_0x3e3695+=_0x196521+'\x0a\x0a';}return _0x3e3695;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x4e213e){const _0x231b8d=_0x314764,_0x3896b0=document[_0x231b8d(0x6ce)](_0x231b8d(0x8fe)),_0x465453=document[_0x231b8d(0x6ce)](_0x231b8d(0x6f0)),_0x4e96c7=document[_0x231b8d(0x6ce)]('save-blueprint-as-project-btn');_0x3896b0[_0x231b8d(0x68d)][_0x231b8d(0x49f)](_0x231b8d(0xbc7)),_0x465453[_0x231b8d(0x9c5)]=_0x231b8d(0xc2a),_0x4e96c7['classList'][_0x231b8d(0x8f4)]('hidden');try{const _0x5039e3=_0x231b8d(0x3c2)+_0x4e213e+_0x231b8d(0x82c),_0x12f222={'type':_0x231b8d(0x417),'properties':{'gradeLevel':{'type':_0x231b8d(0x5b8)},'curriculum':{'type':_0x231b8d(0x8c2),'items':{'type':_0x231b8d(0x417),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x231b8d(0x8c2),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x231b8d(0x5b8)},'subTopics':{'type':_0x231b8d(0x8c2),'items':{'type':_0x231b8d(0x5b8)}}},'required':['topicName',_0x231b8d(0xc1c)]}}},'required':[_0x231b8d(0x654),'mainTopics']}}},'required':[_0x231b8d(0x441),_0x231b8d(0x634)]},_0x5f06d9=await callAnalysisApi(_0x5039e3,_0x12f222);if(_0x5f06d9&&_0x5f06d9[_0x231b8d(0x634)])extractedBlueprintData=_0x5f06d9,renderBlueprintTopics(_0x5f06d9),_0x4e96c7[_0x231b8d(0x68d)]['remove']('hidden');else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x19635a){console['error'](_0x231b8d(0x266),_0x19635a),_0x465453['innerHTML']=_0x231b8d(0x545);}}function renderBlueprintTopics(_0x73a87d){const _0x3d576c=_0x314764,_0x368c67=document['getElementById'](_0x3d576c(0x6f0)),_0x2d0c58=_0x73a87d[_0x3d576c(0x441)],_0x8695f6=_0x3d576c(0x88d)+_0x2d0c58+_0x3d576c(0x887);let _0x17a76a='';_0x73a87d[_0x3d576c(0x634)][_0x3d576c(0x97e)](_0x3f8ef3=>{const _0x1afe22=_0x3d576c;_0x17a76a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x3f8ef3[_0x1afe22(0x654)]+'</h4>',_0x3f8ef3[_0x1afe22(0xa1d)][_0x1afe22(0x97e)](_0x47020b=>{const _0x5b89b0=_0x1afe22;_0x17a76a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x47020b['topicName']+_0x5b89b0(0x515),_0x47020b[_0x5b89b0(0xc1c)][_0x5b89b0(0x97e)](_0xbf7304=>{const _0x3d0e58=_0x5b89b0;_0x17a76a+=_0x3d0e58(0x318)+_0xbf7304[_0x3d0e58(0xa99)](/'/g,'\x5c\x27')+_0x3d0e58(0xbac)+_0x2d0c58[_0x3d0e58(0xa99)](/'/g,'\x5c\x27')+_0x3d0e58(0x911)+_0xbf7304+_0x3d0e58(0x1c2)+_0xbf7304[_0x3d0e58(0xa99)](/'/g,'\x5c\x27')+_0x3d0e58(0x91c);}),_0x17a76a+='</div></div>';}),_0x17a76a+='</div>';}),_0x368c67[_0x3d576c(0x9c5)]=_0x8695f6+_0x17a76a;}async function handleGenerateTeachingContent(_0x18ff51){const _0x48ee99=_0x314764,_0x159756=document[_0x48ee99(0x6ce)]('lesson-plan-modal'),_0x4856aa=document['getElementById'](_0x48ee99(0x8e3));document[_0x48ee99(0x6ce)](_0x48ee99(0x6e9))[_0x48ee99(0xa88)]=_0x48ee99(0x88b)+_0x18ff51,_0x4856aa[_0x48ee99(0x9c5)]=_0x48ee99(0x9b4),_0x159756[_0x48ee99(0x68d)]['remove'](_0x48ee99(0xbc7));try{const _0x2b106e=_0x48ee99(0x50c)+_0x18ff51+_0x48ee99(0x779),_0x398d42={'type':_0x48ee99(0x417),'properties':{'keyConcepts':{'type':_0x48ee99(0x8c2),'items':{'type':_0x48ee99(0x5b8)}},'commonMistakes':{'type':_0x48ee99(0x8c2),'items':{'type':'STRING'}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x48ee99(0x417),'properties':{'question':{'type':_0x48ee99(0x5b8)},'solution':{'type':'STRING'}},'required':['question',_0x48ee99(0x247)]}},'teacherTips':{'type':_0x48ee99(0x8c2),'items':{'type':_0x48ee99(0x5b8)}}},'required':['keyConcepts','commonMistakes',_0x48ee99(0x9c1),'teacherTips']},_0x22d282=await callAnalysisApi(_0x2b106e,_0x398d42);displayTeachingContent(_0x22d282,_0x18ff51);}catch(_0x4d45d4){console[_0x48ee99(0x9b3)](_0x48ee99(0x81e),_0x4d45d4),_0x4856aa['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x4d45d4[_0x48ee99(0x86b)]+_0x48ee99(0x1ad);}}function displayTeachingContent(_0x20d890,_0x3dfba2){const _0x2f6c80=_0x314764,_0x4705b9=document[_0x2f6c80(0x6ce)]('lesson-plan-content');document['getElementById'](_0x2f6c80(0x6e9))[_0x2f6c80(0xa88)]=_0x2f6c80(0x88c)+_0x3dfba2;const _0x3e39f0=_0x2f6c80(0xb7c)+_0x20d890[_0x2f6c80(0x6a5)][_0x2f6c80(0x83a)](_0x336391=>_0x2f6c80(0x973)+_0x336391+_0x2f6c80(0x302))[_0x2f6c80(0x47c)]('')+_0x2f6c80(0x80a)+_0x20d890[_0x2f6c80(0xaeb)]['map'](_0x59e4d0=>_0x2f6c80(0x973)+_0x59e4d0+'</li>')[_0x2f6c80(0x47c)]('')+_0x2f6c80(0xb5a)+_0x20d890[_0x2f6c80(0x9c1)][_0x2f6c80(0x83a)](_0x356935=>_0x2f6c80(0x213)+_0x356935[_0x2f6c80(0x2d4)]+_0x2f6c80(0x43b)+_0x356935[_0x2f6c80(0x247)]+_0x2f6c80(0x392))['join']('')+_0x2f6c80(0x605)+_0x20d890[_0x2f6c80(0xa49)][_0x2f6c80(0x83a)](_0x3c5ef3=>_0x2f6c80(0x973)+_0x3c5ef3+_0x2f6c80(0x302))[_0x2f6c80(0x47c)]('')+_0x2f6c80(0xa87);_0x4705b9[_0x2f6c80(0x9c5)]=_0x3e39f0;if(window[_0x2f6c80(0x649)])MathJax['typesetPromise']([_0x4705b9]);}async function generateQuizForSingleTopic(_0x524331){const _0x214ffd=_0x314764;console[_0x214ffd(0xa58)](_0x214ffd(0xac6)+_0x524331+'\x22');const _0x53bc5a=document[_0x214ffd(0x6ce)](_0x214ffd(0x5aa)),_0x9abcc2=_0x53bc5a[_0x214ffd(0x3e9)]['length']>0x0?_0x53bc5a[_0x214ffd(0x3e9)][0x0]:null;let _0x21604f=null;if(_0x9abcc2)try{const _0x3b091d=new FileReader();_0x3b091d[_0x214ffd(0x1ff)](_0x9abcc2);const _0x37bf63=await new Promise((_0x7b02a9,_0x404f24)=>{const _0x4bb61e=_0x214ffd;_0x3b091d[_0x4bb61e(0x584)]=()=>_0x7b02a9(_0x3b091d[_0x4bb61e(0x9f5)][_0x4bb61e(0x9a3)](',')[0x1]),_0x3b091d['onerror']=_0x2a27ec=>_0x404f24(_0x2a27ec);});_0x21604f=[{'inlineData':{'mimeType':_0x9abcc2['type'],'data':_0x37bf63}}];}catch(_0x27d5a4){console[_0x214ffd(0x9b3)](_0x214ffd(0x7d3),_0x27d5a4),showMessage(_0x214ffd(0x383));return;}generateQuiz(_0x524331,null,null,_0x21604f,!![],null,null,!![]);}async function handleGenerateFromBlueprint(){const _0x5d1397=_0x314764,_0x233a23=document['getElementById'](_0x5d1397(0x512)),_0x34de2c=document['getElementById'](_0x5d1397(0x5aa)),_0x1ee47f=_0x233a23[_0x5d1397(0x3e9)][0x0],_0x448fa1=_0x34de2c[_0x5d1397(0x3e9)][_0x5d1397(0x1eb)]>0x0?_0x34de2c[_0x5d1397(0x3e9)][0x0]:null;if(!_0x1ee47f){showMessage(_0x5d1397(0x651));return;}const _0x1bbdd7=document[_0x5d1397(0x6ce)](_0x5d1397(0x3f8)),_0x17cfd4=document[_0x5d1397(0x6ce)](_0x5d1397(0x726)),_0x348ce4=document[_0x5d1397(0x6ce)](_0x5d1397(0x600)),_0x2eef42=document[_0x5d1397(0x6ce)](_0x5d1397(0x7fc));_0x2eef42[_0x5d1397(0x915)]=!![],document['getElementById'](_0x5d1397(0xc0d))[_0x5d1397(0x68d)]['remove'](_0x5d1397(0xbc7)),_0x348ce4[_0x5d1397(0x9c5)]='',_0x1bbdd7[_0x5d1397(0x68d)][_0x5d1397(0x49f)](_0x5d1397(0xbc7));try{_0x17cfd4[_0x5d1397(0xa88)]=_0x5d1397(0x581);const _0x127fff=new FileReader();_0x127fff[_0x5d1397(0x1ff)](_0x1ee47f);const _0x3fcdb8=await new Promise((_0x21b1f0,_0x2e4f6d)=>{const _0x4edb55=_0x5d1397;_0x127fff['onload']=()=>_0x21b1f0(_0x127fff[_0x4edb55(0x9f5)][_0x4edb55(0x9a3)](',')[0x1]),_0x127fff[_0x4edb55(0x754)]=_0x12670a=>_0x2e4f6d(_0x12670a);}),_0x248197=[];if(_0x448fa1){_0x17cfd4[_0x5d1397(0xa88)]='กำลังเตรียมไฟล์ข้อสอบอ้างอิง...';const _0x27e579=new FileReader();_0x27e579[_0x5d1397(0x1ff)](_0x448fa1);const _0x28a060=await new Promise((_0x21b5fa,_0x55050b)=>{const _0x4d088c=_0x5d1397;_0x27e579[_0x4d088c(0x584)]=()=>_0x21b5fa(_0x27e579[_0x4d088c(0x9f5)][_0x4d088c(0x9a3)](',')[0x1]),_0x27e579[_0x4d088c(0x754)]=_0x5b5641=>_0x55050b(_0x5b5641);});_0x248197[_0x5d1397(0x403)]({'text':_0x5d1397(0x5d5)}),_0x248197[_0x5d1397(0x403)]({'inlineData':{'mimeType':_0x448fa1[_0x5d1397(0x32a)],'data':_0x28a060}});}const _0x35966a=_0x5d1397(0x327),_0x263d37=_0x5d1397(0x446),_0x35a3c0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20เพื่อหา\x20\x22จำนวนข้อสอบรวม\x22\x20และ\x20\x22จำนวนข้อของแต่ละรูปแบบ\x22\x20(เช่น\x20\x22ปรนัย\x204\x20ตัวเลือก\x20...\x2015\x20ข้อ\x22,\x20\x22ระบายตัวเลข\x20...\x204\x20ข้อ\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20วิเคราะห์\x20\x22สาระการเรียนรู้แกนกลาง\x22\x20และ\x20\x22ตัวชี้วัด\x22\x20ทั้งหมดที่ต้องใช้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x448fa1?_0x5d1397(0x739):'')+_0x5d1397(0xb54)+_0x263d37+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35966a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x5d1397(0x6fd),_0x4a0b11={'type':_0x5d1397(0x417),'properties':{'questionText':{'type':_0x5d1397(0x5b8)},'questionType':{'type':_0x5d1397(0x5b8),'enum':['multiple_choice','short_answer',_0x5d1397(0xa97),_0x5d1397(0x554)]},'options':{'type':_0x5d1397(0x8c2),'items':{'type':_0x5d1397(0x5b8)}},'correctAnswerIndex':{'type':_0x5d1397(0x31a)},'idealAnswer':{'type':_0x5d1397(0x5b8)},'correctAnswer':{'type':_0x5d1397(0x351)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5d1397(0x5b8)}},'required':[_0x5d1397(0xb6e),_0x5d1397(0x823)]},_0x1d42e8={'type':_0x5d1397(0x417),'properties':{'topic':{'type':_0x5d1397(0x5b8)},'questions':{'type':'ARRAY','items':_0x4a0b11}},'required':[_0x5d1397(0x265),'questions']},_0x6bd61=[{'text':_0x35a3c0},{'inlineData':{'mimeType':_0x1ee47f[_0x5d1397(0x32a)],'data':_0x3fcdb8}},..._0x248197];await handleApiCall(_0x6bd61,_0x5d1397(0x777),_0x1d42e8);}catch(_0x40e363){console['error'](_0x5d1397(0x39d),_0x40e363),showMessage(_0x5d1397(0x6e8)+_0x40e363[_0x5d1397(0x86b)]),_0x348ce4['innerHTML']=_0x5d1397(0x93a);}finally{_0x1bbdd7[_0x5d1397(0x68d)][_0x5d1397(0x8f4)](_0x5d1397(0xbc7)),_0x2eef42['disabled']=![];}}function proceedToNextQuestion(_0x52fa60){const _0x3e30bb=_0x314764;studentAnswersPerQuestion[_0x3e30bb(0x403)](_0x52fa60),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3e30bb(0x7bb)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1a5934,_0x9d3069){const _0x2d147f=_0x314764,_0x5de181=Object['values'](_0x1a5934[_0x2d147f(0xb90)]||{}),_0x52f55c=_0x5de181[_0x2d147f(0x1eb)],_0x387a66=[..._0x5de181][_0x2d147f(0x588)]((_0x271d8e,_0x34c474)=>_0x34c474['score']-_0x271d8e[_0x2d147f(0xbde)]),_0x2b2c33=_0x1a5934[_0x2d147f(0x42a)];let _0x305b6a='';const _0x10f51f=_0x1a5934['shuffledQuiz']['questions'],_0x36c339=_0x10f51f[_0x2b2c33],_0x34f787=_0x1ade55=>String[_0x2d147f(0x6f6)](0x41+_0x1ade55);let _0x5e507e='',_0x2aa6d9='';if(_0x36c339){const _0x14f700=_0x36c339[_0x2d147f(0xb6e)]||_0x1a5934[_0x2d147f(0xb49)][_0x2d147f(0xa1e)];if(_0x14f700===_0x2d147f(0x75c)&&_0x36c339[_0x2d147f(0x9b5)]&&_0x36c339[_0x2d147f(0xaca)]!==undefined){const _0x58acab=_0x36c339['correctAnswerIndex'];_0x5e507e=_0x36c339[_0x2d147f(0x9b5)][_0x58acab],_0x2aa6d9=_0x34f787(_0x58acab)+'.';}else{if(_0x14f700===_0x2d147f(0xa97)){const _0x27a26b=_0x36c339[_0x2d147f(0x7c3)]===!![]||String(_0x36c339[_0x2d147f(0x7c3)])['toLowerCase']()==='true';_0x27a26b?(_0x5e507e='ใช่\x20/\x20ถูก',_0x2aa6d9='ก.'):(_0x5e507e=_0x2d147f(0x648),_0x2aa6d9='ข.');}else{if(_0x14f700==='matching_item')_0x5e507e=_0x36c339[_0x2d147f(0x53e)]||'-',_0x2aa6d9='';else _0x14f700===_0x2d147f(0x8a4)&&(_0x5e507e=_0x36c339['idealAnswer']||'-',_0x2aa6d9='');}}}_0x5e507e&&(_0x305b6a=_0x2d147f(0x990)+(_0x2b2c33+0x1)+_0x2d147f(0x6bf)+_0x2aa6d9+'\x20'+_0x5e507e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');const _0x2c2bf2=_0x387a66[_0x2d147f(0x83a)](_0x1f61cb=>{const _0x528bbf=_0x2d147f;let _0x478993=![];if(_0x1f61cb[_0x528bbf(0xb0a)]&&_0x2b2c33!==-0x1){const _0x19bb55=_0x1f61cb['answers']['find'](_0x4ec6e7=>_0x4ec6e7[_0x528bbf(0x517)]===_0x2b2c33);_0x19bb55&&_0x19bb55[_0x528bbf(0x48b)]&&(_0x478993=!![]);}const _0x432be6=_0x478993?_0x528bbf(0x90b):_0x528bbf(0x3fa);return _0x528bbf(0xb40)+_0x432be6+'\x22><span>'+_0x1f61cb[_0x528bbf(0x924)]+'</span><span\x20class=\x22font-bold\x22>'+_0x1f61cb['score']+_0x528bbf(0x690);})[_0x2d147f(0x47c)](''),_0x8c61d9=_0x10f51f[_0x2d147f(0x83a)]((_0x299a57,_0x29e2ab)=>{const _0x8d40d4=_0x2d147f,_0x38de92=_0x5de181[_0x8d40d4(0x595)](_0x241efd=>_0x241efd[_0x8d40d4(0xb0a)]&&_0x241efd[_0x8d40d4(0xb0a)][_0x8d40d4(0xae2)](_0x5a1458=>_0x5a1458[_0x8d40d4(0x517)]===_0x29e2ab&&_0x5a1458[_0x8d40d4(0x48b)]))['length'],_0x411223=_0x29e2ab===_0x2b2c33,_0x2d16ef=_0x411223?_0x8d40d4(0x437):_0x8d40d4(0x393);return _0x8d40d4(0x450)+_0x2d16ef+_0x8d40d4(0x8f9)+(_0x29e2ab+0x1)+_0x8d40d4(0x897)+_0x38de92+'\x20/\x20'+_0x52f55c+_0x8d40d4(0x7a2);})[_0x2d147f(0x47c)]('');let _0x1d2ac1='',_0x3d2a74='';if(_0x9d3069){const _0x3ab25e=_0x1a5934[_0x2d147f(0x42a)]>=_0x10f51f[_0x2d147f(0x1eb)]-0x1;_0x1d2ac1=_0x2d147f(0x920)+(_0x3ab25e?'ดูผลสรุปสุดท้าย':_0x2d147f(0x2df))+_0x2d147f(0x3c3),_0x3d2a74=_0x2d147f(0xa9c);}const _0x46cc5f=_0x2d147f(0x87e)+_0x1a5934[_0x2d147f(0xb49)][_0x2d147f(0x265)]+_0x2d147f(0xbd8)+_0x3d2a74+_0x2d147f(0x3fd)+_0x305b6a+_0x2d147f(0x9f2)+(_0x2c2bf2||_0x2d147f(0x51f))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x8c61d9+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x9d3069?_0x2d147f(0x27c)+_0x1d2ac1+_0x2d147f(0x67d):'')+_0x2d147f(0xa31);liveGameView['innerHTML']=_0x46cc5f;if(window['MathJax']){const _0x551dfc=document['getElementById'](_0x2d147f(0x2dc));_0x551dfc&&MathJax[_0x2d147f(0x966)]([_0x551dfc]);}if(_0x9d3069){document[_0x2d147f(0x6ce)]('next-sync-question-btn')[_0x2d147f(0xb41)]=async()=>{const _0x392701=_0x2d147f,_0x1827b1=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x41eba4=_0x1a5934[_0x392701(0x42a)]+0x1;if(_0x41eba4<_0x10f51f[_0x392701(0x1eb)]){const _0x3740b0={};Object[_0x392701(0x34a)](_0x1a5934[_0x392701(0xb90)])[_0x392701(0x97e)](_0x4e7d1a=>{const _0x487f1f=_0x392701;_0x3740b0['players.'+_0x4e7d1a+_0x487f1f(0x3c5)]=![],_0x3740b0[_0x487f1f(0xab6)+_0x4e7d1a+'.lastAnswerIndex']=null;}),await updateDoc(_0x1827b1,{..._0x3740b0,'status':_0x392701(0x2d4),'currentQuestionIndex':_0x41eba4,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1827b1,{'status':_0x392701(0x9ee)});};const _0x376f75=document['getElementById'](_0x2d147f(0x349));_0x376f75&&(_0x376f75['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x50da86=_0x3289,_0x114818=doc(db,_0x50da86(0x21f)+appId+_0x50da86(0x35d),currentLiveGameId);await updateDoc(_0x114818,{'status':_0x50da86(0x9ee)});});});}}async function handleGenerateParallelFromBank(_0xfb6578){const _0x570d88=_0x314764,_0x31f070=document['getElementById']('results-tab-content'),_0x2c6250=document['getElementById'](_0x570d88(0x708));_0x2c6250[_0x570d88(0x68d)][_0x570d88(0x8f4)](_0x570d88(0xbc7));const _0x25687c=_0x570d88(0x2ca)+_0xfb6578[_0x570d88(0x265)]+_0x570d88(0x6e6);_0x31f070[_0x570d88(0xb1b)](_0x570d88(0xab5),_0x25687c);const _0x329355=document['getElementById'](_0x570d88(0xbdb));try{const _0x36d077=_0xfb6578['questions']['map']((_0x33fc04,_0x204875)=>{const _0x1de4d1=_0x570d88;let _0x527f67=_0x204875+0x1+'.\x20'+(_0x33fc04[_0x1de4d1(0x41e)]||_0x33fc04['stem'])+'\x0a';if(_0x33fc04['options'])_0x527f67+=_0x33fc04[_0x1de4d1(0x9b5)][_0x1de4d1(0x83a)]((_0x48a66d,_0x737ce0)=>_0x1de4d1(0x381)+(_0x737ce0===_0x33fc04[_0x1de4d1(0xaca)]?_0x1de4d1(0x83e):'')+'\x20'+_0x48a66d)['join']('\x0a');else _0x33fc04[_0x1de4d1(0x841)]&&(_0x527f67+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x33fc04[_0x1de4d1(0x841)]);return _0x527f67;})[_0x570d88(0x47c)]('\x0a\x0a');_0x329355[_0x570d88(0xa88)]=_0x570d88(0x95b);const _0x436134=_0x570d88(0x33b)+_0xfb6578[_0x570d88(0x265)]+_0x570d88(0x245)+_0x36d077+_0x570d88(0xbca)+simpleMathPrompt+_0x570d88(0x6fd),_0x2a14d5={'type':_0x570d88(0x417),'properties':{'questionText':{'type':_0x570d88(0x5b8)},'questionType':{'type':_0x570d88(0x5b8),'enum':[_0x570d88(0x75c),'short_answer',_0x570d88(0xa97),_0x570d88(0x554)]},'options':{'type':_0x570d88(0x8c2),'items':{'type':_0x570d88(0x5b8)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x570d88(0x5b8)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0x570d88(0x5b8)},'allResponses':{'type':'ARRAY','items':{'type':_0x570d88(0x5b8)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionType','explanation']},_0x3423f1={'type':_0x570d88(0x417),'properties':{'topic':{'type':_0x570d88(0x5b8)},'questions':{'type':_0x570d88(0x8c2),'items':_0x2a14d5}},'required':[_0x570d88(0x265),'questions']},_0xe2ed18=await callAnalysisApi(_0x436134,_0x3423f1),_0x2b15be=_0xe2ed18[_0x570d88(0x7bb)][_0x570d88(0x83a)]((_0x3ffa45,_0x39e7cd)=>({..._0x3ffa45,'id':'q_'+Date['now']()+'_'+_0x39e7cd})),_0x3b0695=_0x570d88(0x5bf)+_0xfb6578['topic'],_0x16dba3={'topic':_0x3b0695,'questions':_0x2b15be,'quizType':_0xfb6578['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x570d88(0x9d8)](),'status':_0x570d88(0x7e3),'settings':_0xfb6578[_0x570d88(0xbd0)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x3ec061;while(!![]){_0x3ec061=Math[_0x570d88(0x7d0)](0x3e8+Math['random']()*0x2328)[_0x570d88(0x2e2)]();const _0x29d289=await getDoc(doc(db,_0x570d88(0x21f)+appId+_0x570d88(0x544),_0x3ec061));if(!_0x29d289[_0x570d88(0x232)]())break;}await setDoc(doc(db,_0x570d88(0x21f)+appId+_0x570d88(0x544),_0x3ec061),_0x16dba3),showMessage(_0x570d88(0x745));}catch(_0x22ab9f){console[_0x570d88(0x9b3)](_0x570d88(0x2a9),_0x22ab9f),showMessage(_0x570d88(0x6e8)+_0x22ab9f[_0x570d88(0x86b)]);}finally{const _0x1b61a9=document[_0x570d88(0x6ce)]('temp-loader-results');_0x1b61a9&&_0x1b61a9[_0x570d88(0x49f)](),_0x2c6250[_0x570d88(0x68d)][_0x570d88(0x49f)](_0x570d88(0xbc7));}}async function handleGenerateParallelPostTest(_0x419cd2){const _0x10225d=_0x314764,_0x499311=document['getElementById'](_0x10225d(0x8b2)),_0x23aa30=document[_0x10225d(0x6ce)](_0x10225d(0x708));_0x23aa30['classList']['add']('hidden');const _0x28b599='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x499311[_0x10225d(0xb1b)]('beforeend',_0x28b599);try{const _0x25009c=_0x419cd2['questions'][_0x10225d(0x83a)]((_0x351d06,_0x4b2164)=>{const _0x418d9f=_0x10225d;let _0x3ffa8b=_0x4b2164+0x1+'.\x20'+(_0x351d06[_0x418d9f(0x41e)]||_0x351d06[_0x418d9f(0x458)]);if(_0x351d06[_0x418d9f(0x9b5)])_0x3ffa8b+=_0x418d9f(0x551)+_0x351d06[_0x418d9f(0x9b5)][_0x418d9f(0x47c)](',\x20');return _0x3ffa8b;})['join']('\x0a\x0a'),_0x4705b1=_0x10225d(0x200)+_0x419cd2[_0x10225d(0x265)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25009c+_0x10225d(0x234)+simpleMathPrompt+_0x10225d(0x6fd),_0x524226={'type':_0x10225d(0x417),'properties':{'topic':{'type':_0x10225d(0x5b8)},'questions':{'type':'ARRAY','items':{'type':_0x10225d(0x417),'properties':{'questionText':{'type':_0x10225d(0x5b8)},'questionType':{'type':_0x10225d(0x5b8)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x10225d(0x5b8)}},'required':[_0x10225d(0x41e),'explanation']}}},'required':[_0x10225d(0x265),_0x10225d(0x7bb)]},_0x7dec92=await callAnalysisApi(_0x4705b1,_0x524226),_0x5ea8bf=_0x419cd2[_0x10225d(0x265)]['replace'](_0x10225d(0x7c6),'')[_0x10225d(0x1b6)](),_0x4db873=_0x10225d(0x6ed)+_0x5ea8bf,_0xb53f5c={..._0x7dec92,'topic':_0x4db873,'quizType':_0x419cd2[_0x10225d(0xa1e)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x10225d(0x9d8)](),'status':_0x10225d(0x7e3),'settings':_0x419cd2[_0x10225d(0xbd0)],'quizMode':_0x10225d(0x9d0),'pairedQuizId':_0x419cd2['id']};let _0x3f6c0;while(!![]){_0x3f6c0=Math[_0x10225d(0x7d0)](0x3e8+Math[_0x10225d(0x2e9)]()*0x2328)[_0x10225d(0x2e2)]();const _0x2dfb29=await getDoc(doc(db,_0x10225d(0x21f)+appId+_0x10225d(0x544),_0x3f6c0));if(!_0x2dfb29[_0x10225d(0x232)]())break;}await setDoc(doc(db,_0x10225d(0x21f)+appId+_0x10225d(0x544),_0x3f6c0),_0xb53f5c);const _0x313090=doc(db,_0x10225d(0x21f)+appId+'/public/data/quizzes',_0x419cd2['id']);await updateDoc(_0x313090,{'pairedQuizId':_0x3f6c0}),showMessage(_0x10225d(0x808));}catch(_0x5cdfb4){console[_0x10225d(0x9b3)](_0x10225d(0xa85),_0x5cdfb4),showMessage(_0x10225d(0x6e8)+_0x5cdfb4[_0x10225d(0x86b)]);}finally{const _0x3a7686=document[_0x10225d(0x6ce)](_0x10225d(0x275));if(_0x3a7686)_0x3a7686[_0x10225d(0x49f)]();_0x23aa30[_0x10225d(0x68d)][_0x10225d(0x49f)](_0x10225d(0xbc7));}}async function handleGenerateParallelTest(){const _0x178349=_0x314764,_0x2b552f=document[_0x178349(0x6ce)](_0x178349(0xaf7)),_0x48e0ed=_0x2b552f[_0x178349(0x3e9)][0x0];if(!_0x48e0ed){showMessage(_0x178349(0x20d));return;}const _0x476da4=document[_0x178349(0x6ce)]('loader'),_0x37c03c=document[_0x178349(0x6ce)](_0x178349(0x726)),_0xce1bf9=document[_0x178349(0x6ce)]('generated-quiz-container'),_0x3ad089=document[_0x178349(0x6ce)](_0x178349(0xa64));_0x3ad089[_0x178349(0x915)]=!![],document[_0x178349(0x6ce)](_0x178349(0xc0d))['classList'][_0x178349(0x49f)](_0x178349(0xbc7)),_0xce1bf9[_0x178349(0x9c5)]='',_0x476da4['classList']['remove'](_0x178349(0xbc7)),_0x37c03c[_0x178349(0xa88)]=_0x178349(0x45f);const _0x48b863=new FileReader();_0x48b863[_0x178349(0x1ff)](_0x48e0ed),_0x48b863[_0x178349(0x584)]=async()=>{const _0x177288=_0x178349;try{const _0x55679a=_0x48b863[_0x177288(0x9f5)]['split'](',')[0x1],_0x15da7d=_0x48e0ed[_0x177288(0x32a)];_0x37c03c['textContent']=_0x177288(0x2c5);const _0x552408=document['getElementById']('include-images-checkbox')['checked'],_0x4c3ffb=_0x552408?_0x177288(0xb29):'',_0x54f605=_0x177288(0x64d)+_0x4c3ffb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4ac7de={'type':_0x177288(0x417),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x177288(0x5b8),'enum':[_0x177288(0x75c),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x177288(0x5b8)}},'correctAnswerIndex':{'type':_0x177288(0x31a)},'idealAnswer':{'type':_0x177288(0x5b8)},'explanation':{'type':_0x177288(0x5b8)},'imageCode':{'type':_0x177288(0x5b8)}},'required':['questionText',_0x177288(0xb6e),_0x177288(0x823)]},_0x5826b8={'type':_0x177288(0x417),'properties':{'topic':{'type':_0x177288(0x5b8)},'questions':{'type':'ARRAY','items':_0x4ac7de}},'required':[_0x177288(0x265),_0x177288(0x7bb)]},_0x1a047b=[{'text':_0x54f605},{'inlineData':{'mimeType':_0x15da7d,'data':_0x55679a}}];await handleApiCall(_0x1a047b,_0x177288(0x9e9),_0x5826b8);}catch(_0x54c3d2){console['error'](_0x177288(0xa05),_0x54c3d2),showMessage(_0x177288(0x6e8)+_0x54c3d2['message']),_0xce1bf9[_0x177288(0x9c5)]=_0x177288(0x576);}finally{_0x476da4['classList']['add'](_0x177288(0xbc7)),_0x3ad089['disabled']=![];}},_0x48b863[_0x178349(0x754)]=_0x2703c9=>{const _0x37534e=_0x178349;console[_0x37534e(0x9b3)]('FileReader\x20error:',_0x2703c9),showMessage(_0x37534e(0xaba)),_0x476da4[_0x37534e(0x68d)][_0x37534e(0x8f4)](_0x37534e(0xbc7)),_0x3ad089[_0x37534e(0x915)]=![];};}async function handleRegenerateQuestionInEditor(_0x3a58db){const _0x3cacc5=_0x314764;if(currentEditingQuizData===null)return;const _0x46cb85=document[_0x3cacc5(0x612)]('.question-editor-item[data-q-index=\x22'+_0x3a58db+'\x22]');_0x46cb85&&(_0x46cb85['innerHTML']=_0x3cacc5(0xc11));const _0x290a7a=currentEditingQuizData[_0x3cacc5(0x7bb)][_0x3a58db],_0x5ebaab=currentEditingQuizData['topic'],_0x497b14=_0x290a7a[_0x3cacc5(0xb6e)],_0x3ca3ee={'type':_0x3cacc5(0x417),'properties':{'questionText':{'type':_0x3cacc5(0x5b8)},'options':{'type':_0x3cacc5(0x8c2),'items':{'type':_0x3cacc5(0x5b8)}},'correctAnswerIndex':{'type':_0x3cacc5(0x31a)},'explanation':{'type':'STRING'}},'required':[_0x3cacc5(0x41e),_0x3cacc5(0x9b5),'correctAnswerIndex','explanation']},_0x251d6d={'type':_0x3cacc5(0x417),'properties':{'questionText':{'type':_0x3cacc5(0x5b8)},'idealAnswer':{'type':_0x3cacc5(0x5b8)},'explanation':{'type':_0x3cacc5(0x5b8)}},'required':[_0x3cacc5(0x41e),_0x3cacc5(0x841),'explanation']};let _0x13a87e,_0x3979fd='';_0x497b14===_0x3cacc5(0x75c)?(_0x13a87e=_0x3ca3ee,_0x3979fd='แบบปรนัย\x204\x20ตัวเลือก'):(_0x13a87e=_0x251d6d,_0x3979fd=_0x3cacc5(0x7ac));const _0x10e4a8=_0x3cacc5(0x592)+_0x5ebaab+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x3979fd+_0x3cacc5(0x681)+(_0x290a7a['questionText']||_0x290a7a[_0x3cacc5(0x458)])+'\x22.\x20'+simpleMathPrompt;try{const _0xdb61a8=await callAnalysisApi(_0x10e4a8,_0x13a87e);currentEditingQuizData[_0x3cacc5(0x7bb)][_0x3a58db]={..._0x290a7a,..._0xdb61a8},renderQuizEditor(currentEditingQuizData);}catch(_0x1e7de1){console[_0x3cacc5(0x9b3)](_0x3cacc5(0x6ab),_0x1e7de1),showMessage(_0x3cacc5(0x7de)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x35d7d9=_0x314764,_0x1e86c0=document[_0x35d7d9(0x6ce)]('mode-switcher-btn');currentMode===_0x35d7d9(0xa82)?(currentMode='admin',_0x1e86c0[_0x35d7d9(0x9c5)]=_0x35d7d9(0x238),_0x1e86c0[_0x35d7d9(0x1ec)]=_0x35d7d9(0x850),showView(_0x35d7d9(0x1a4))):(currentMode=_0x35d7d9(0xa82),_0x1e86c0[_0x35d7d9(0x9c5)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x1e86c0[_0x35d7d9(0x1ec)]='สลับไปโหมดผู้ควบคุม',showView(_0x35d7d9(0xa82)));}function handleAdminLogin(){const _0x46441d=_0x314764,_0x39f96d=document[_0x46441d(0x6ce)](_0x46441d(0x737)),_0x542f31=document['getElementById']('password-error-msg');if(_0x39f96d[_0x46441d(0x3e6)]===_0x46441d(0x92d)){adminPasswordModal[_0x46441d(0x68d)][_0x46441d(0x8f4)](_0x46441d(0xbc7)),_0x39f96d[_0x46441d(0x3e6)]='',_0x542f31[_0x46441d(0x68d)]['add'](_0x46441d(0xbc7)),currentMode=_0x46441d(0x41d);const _0x10ddb8=document['getElementById'](_0x46441d(0xaea));_0x10ddb8[_0x46441d(0x9c5)]=_0x46441d(0x238),_0x10ddb8['title']=_0x46441d(0x850),showView(_0x46441d(0x1a4));}else _0x542f31[_0x46441d(0x68d)][_0x46441d(0x49f)](_0x46441d(0xbc7)),_0x39f96d['value']='';}function switchProjectTab(_0x3cefc2){const _0xa078d8=_0x314764;['manage',_0xa078d8(0xb97),_0xa078d8(0x873)][_0xa078d8(0x97e)](_0x2f4512=>{const _0xef3eaa=_0xa078d8;document['getElementById'](_0x2f4512+_0xef3eaa(0x410))['classList']['remove'](_0xef3eaa(0x7e3)),document[_0xef3eaa(0x6ce)](_0x2f4512+_0xef3eaa(0x3d8))[_0xef3eaa(0x68d)]['add'](_0xef3eaa(0xbc7));}),document['getElementById'](_0x3cefc2+'-tab')[_0xa078d8(0x68d)][_0xa078d8(0x8f4)](_0xa078d8(0x7e3)),document[_0xa078d8(0x6ce)](_0x3cefc2+_0xa078d8(0x3d8))[_0xa078d8(0x68d)]['remove'](_0xa078d8(0xbc7));}function switchQuizDetailTab(_0x52c99c){const _0x265f2d=_0x314764,_0x1b2b1b={'analytics':{'btn':_0x265f2d(0x406),'content':_0x265f2d(0x4ae)},'scores':{'btn':'scores-tab-btn','content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x265f2d(0x4e2),'content':_0x265f2d(0x226)},'behavior-log':{'btn':_0x265f2d(0x197),'content':_0x265f2d(0x7b2)}};for(const _0x1d9515 in _0x1b2b1b){document[_0x265f2d(0x6ce)](_0x1b2b1b[_0x1d9515][_0x265f2d(0x81d)])[_0x265f2d(0x68d)][_0x265f2d(0x49f)](_0x265f2d(0x7e3)),document['getElementById'](_0x1b2b1b[_0x1d9515]['content'])[_0x265f2d(0x68d)][_0x265f2d(0x8f4)](_0x265f2d(0xbc7));}document[_0x265f2d(0x6ce)](_0x1b2b1b[_0x52c99c][_0x265f2d(0x81d)])[_0x265f2d(0x68d)][_0x265f2d(0x8f4)]('active'),document['getElementById'](_0x1b2b1b[_0x52c99c][_0x265f2d(0x22e)])[_0x265f2d(0x68d)][_0x265f2d(0x49f)](_0x265f2d(0xbc7));}function showMessage(_0x2c61f7,_0x51f36c=null){const _0xd1daac=_0x314764;modalMessage[_0xd1daac(0xa88)]=_0x2c61f7,modalConfirmAction=_0x51f36c,messageModal[_0xd1daac(0x68d)][_0xd1daac(0x49f)](_0xd1daac(0xbc7));}function showConfirmation(_0x20d378,_0x37f88f){const _0x21e78e=_0x314764;document['getElementById'](_0x21e78e(0x65b))[_0x21e78e(0xa88)]=_0x20d378,document[_0x21e78e(0x6ce)]('confirmation-modal')[_0x21e78e(0x612)]('h3')[_0x21e78e(0xa88)]=_0x21e78e(0x2f2),confirmAction=_0x37f88f,confirmationModal[_0x21e78e(0x68d)]['remove'](_0x21e78e(0xbc7));}function listenForProjects(){const _0x409521=_0x314764,_0x362ce1=doc(db,_0x409521(0x2a5),_0x409521(0x5c2));onSnapshot(_0x362ce1,_0x3b922b=>{const _0x4e19dd=_0x409521;if(_0x3b922b[_0x4e19dd(0x232)]()){const _0x582eb3=_0x3b922b['data']();globalDashboardSettings[_0x4e19dd(0x4d3)]=_0x582eb3[_0x4e19dd(0x4d3)]||_0x4e19dd(0xb5f),globalDashboardSettings[_0x4e19dd(0xc28)]=_0x582eb3[_0x4e19dd(0xc28)]||[],globalDashboardSettings[_0x4e19dd(0xbf6)]=_0x582eb3[_0x4e19dd(0xbf6)]||[];}allProjects[_0x4e19dd(0x1eb)]>0x0&&renderProjects();});const _0x288833=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x288833,_0x3d90bc=>{const _0x2f1513=_0x409521;allProjects=_0x3d90bc[_0x2f1513(0xc27)]['map'](_0x1d5ffc=>({'id':_0x1d5ffc['id'],..._0x1d5ffc['data']()})),renderProjects();},_0x3ed4cd=>{const _0x5d1c53=_0x409521;console[_0x5d1c53(0x9b3)](_0x5d1c53(0xb2f),_0x3ed4cd),showMessage(_0x5d1c53(0x405));});}function showColorPalette(_0xffbff1,_0x4ab284){const _0x5dce5a=_0x314764;document[_0x5dce5a(0x3e7)](_0x5dce5a(0x2cb))[_0x5dce5a(0x97e)](_0xadce9e=>_0xadce9e[_0x5dce5a(0x49f)]());const _0x11929a=['#FFFFFF','#FEE2E2','#FEF3C7','#D1FAE5',_0x5dce5a(0x431),_0x5dce5a(0x4d6),'#F3E8FF',_0x5dce5a(0x788),_0x5dce5a(0x233)],_0x46521c=document['createElement'](_0x5dce5a(0xa9a));_0x46521c[_0x5dce5a(0x50a)]=_0x5dce5a(0x5b3),_0x11929a[_0x5dce5a(0x97e)](_0x5ea8f2=>{const _0x3ada99=_0x5dce5a,_0x34a52e=document[_0x3ada99(0x692)](_0x3ada99(0xa9a));_0x34a52e['className']=_0x3ada99(0x223),_0x34a52e['style'][_0x3ada99(0x5c0)]=_0x5ea8f2,_0x34a52e[_0x3ada99(0x9cd)](_0x3ada99(0x58a),()=>{handleProjectColorChange(_0x4ab284,_0x5ea8f2),_0x46521c['remove']();}),_0x46521c[_0x3ada99(0x6fa)](_0x34a52e);}),document[_0x5dce5a(0xad4)]['appendChild'](_0x46521c);const _0x2225b5=_0xffbff1[_0x5dce5a(0xa53)]();_0x46521c['style'][_0x5dce5a(0xa59)]=_0x2225b5[_0x5dce5a(0x730)]+window['scrollY']+'px',_0x46521c[_0x5dce5a(0x58c)][_0x5dce5a(0x4dd)]=_0x2225b5[_0x5dce5a(0x4dd)]+window[_0x5dce5a(0x1db)]-_0x46521c[_0x5dce5a(0x83b)]/0x2+'px';}async function handleProjectColorChange(_0x5c5a28,_0x1b4273){const _0x4d18af=_0x314764,_0x2f0e5a=doc(db,_0x4d18af(0x21f)+appId+_0x4d18af(0x7fe),_0x5c5a28);try{await updateDoc(_0x2f0e5a,{'color':_0x1b4273});}catch(_0x2b2eb9){console['error'](_0x4d18af(0x6d5),_0x2b2eb9),showMessage(_0x4d18af(0x475));}}async function renderProjects(){const _0x3f813e=_0x314764,_0x321562=globalDashboardSettings[_0x3f813e(0x4d3)]||_0x3f813e(0xb5f),_0xf1b06d=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x45b0e3=globalDashboardSettings[_0x3f813e(0x723)]||_0x3f813e(0x502),_0x2e57e4=document[_0x3f813e(0x6ce)](_0x3f813e(0x6be)),_0x1564e2=document[_0x3f813e(0x6ce)](_0x3f813e(0x414));_0x2e57e4[_0x3f813e(0x68d)][_0x3f813e(0x8ff)](_0x3f813e(0x7e3),_0x45b0e3===_0x3f813e(0x502)),_0x1564e2['classList']['toggle']('active',_0x45b0e3==='list'),document[_0x3f813e(0x6ce)]('project-sort-select')[_0x3f813e(0x3e6)]=_0x321562;const _0x3f5962=document[_0x3f813e(0x6ce)](_0x3f813e(0x2bb))[_0x3f813e(0x3e6)][_0x3f813e(0x5db)]();let _0x1b6727=allProjects[_0x3f813e(0x595)](_0x4df766=>_0x4df766[_0x3f813e(0xbbf)][_0x3f813e(0x5db)]()[_0x3f813e(0x8f7)](_0x3f5962));const _0x2b523e=_0x1b6727['filter'](_0x41caac=>_0xf1b06d[_0x3f813e(0x626)](_0x41caac['id'])),_0x201202=_0x1b6727[_0x3f813e(0x595)](_0x42ee6a=>!_0xf1b06d['has'](_0x42ee6a['id'])),_0x10edb3=(_0x19fff1,_0xeab2d9)=>{const _0x45d756=_0x3f813e;switch(_0x321562){case _0x45d756(0x209):return _0x19fff1[_0x45d756(0xbbf)][_0x45d756(0xb5d)](_0xeab2d9[_0x45d756(0xbbf)],'th');case _0x45d756(0x2aa):return _0xeab2d9[_0x45d756(0xbbf)]['localeCompare'](_0x19fff1[_0x45d756(0xbbf)],'th');case'date_asc':return new Date(_0x19fff1[_0x45d756(0x899)])-new Date(_0xeab2d9[_0x45d756(0x899)]);default:return new Date(_0xeab2d9[_0x45d756(0x899)])-new Date(_0x19fff1[_0x45d756(0x899)]);}};_0x2b523e[_0x3f813e(0x588)](_0x10edb3),_0x201202[_0x3f813e(0x588)](_0x10edb3);const _0x437070=[..._0x2b523e,..._0x201202],_0xc7a7cf=globalDashboardSettings[_0x3f813e(0xbf6)]||[];_0xc7a7cf[_0x3f813e(0x1eb)]>0x0&&_0x45b0e3===_0x3f813e(0x502)&&_0x437070['sort']((_0x37e409,_0x3d1cfa)=>{const _0x562eb3=_0x3f813e,_0x477421=_0xc7a7cf[_0x562eb3(0x9e4)](_0x37e409['id']),_0x21f45f=_0xc7a7cf[_0x562eb3(0x9e4)](_0x3d1cfa['id']);if(_0x477421===-0x1)return 0x1;if(_0x21f45f===-0x1)return-0x1;return _0x477421-_0x21f45f;});const _0xa2c82a={};await Promise['all'](_0x437070['map'](async _0x4b8d08=>{const _0x39ac50=_0x3f813e,_0x336484=query(collection(db,'artifacts/'+appId+_0x39ac50(0x544)),where('projectId','==',_0x4b8d08['id'])),_0x19596b=await getDocs(_0x336484);_0xa2c82a[_0x4b8d08['id']]=_0x19596b[_0x39ac50(0xa6f)];}));const _0x340903=document[_0x3f813e(0x6ce)](_0x3f813e(0x1f7));let _0x272f9d='';if(_0x45b0e3===_0x3f813e(0x502)){_0x340903[_0x3f813e(0x50a)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x3f813e(0x1eb)]>0x0&&_0x3f5962===''){const _0x1e2479=starredQuizzes[_0x3f813e(0x83a)](_0x1fa7c0=>{const _0x2ad1f2=_0x3f813e,_0x3c90f8=allProjects[_0x2ad1f2(0xae2)](_0x223e26=>_0x223e26['id']===_0x1fa7c0['projectId']);return{..._0x1fa7c0,'projectName':_0x3c90f8?_0x3c90f8[_0x2ad1f2(0xbbf)]:'N/A'};});_0x272f9d+=_0x3f813e(0x236)+_0x1e2479[_0x3f813e(0x83a)](_0x35bb6e=>_0x3f813e(0x4f2)+_0x35bb6e[_0x3f813e(0x265)]+'\x22>'+_0x35bb6e[_0x3f813e(0x265)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x35bb6e[_0x3f813e(0xbbf)]+_0x3f813e(0x1f5)+_0x35bb6e[_0x3f813e(0xbbf)]+_0x3f813e(0x18b))[_0x3f813e(0x47c)]('')+_0x3f813e(0x3ca)+starredQuizzes[_0x3f813e(0x1eb)]+_0x3f813e(0x56a);}_0x437070['forEach'](_0xeafb7d=>{const _0x321cd6=_0x3f813e,_0x5ce963=_0xa2c82a[_0xeafb7d['id']]??0x0,_0x2086fc=_0xf1b06d[_0x321cd6(0x626)](_0xeafb7d['id']),_0x47e2a6=_0xeafb7d[_0x321cd6(0x8e2)]||_0x321cd6(0x832),_0x1553d5=parseInt(_0x47e2a6[_0x321cd6(0xb9d)](0x1,0x3),0x10)*0.299+parseInt(_0x47e2a6['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x47e2a6[_0x321cd6(0xb9d)](0x5,0x7),0x10)*0.114<0xba,_0x5b9b64=_0x1553d5?_0x321cd6(0x354):_0x321cd6(0xb22),_0x226b22=_0x1553d5?_0x321cd6(0x309):_0x321cd6(0x8c3);_0x272f9d+=_0x321cd6(0x30d)+(_0x2086fc?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x321cd6(0x2c9))+_0x321cd6(0x8f6)+_0x47e2a6+_0x321cd6(0x8d4)+_0xeafb7d['id']+_0x321cd6(0x2e7)+_0xeafb7d['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x1553d5?'text-gray-300\x20hover:text-white':_0x321cd6(0x6f1))+_0x321cd6(0x2b6)+_0xeafb7d['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x1553d5?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x321cd6(0x388)+(_0x2086fc?_0x1553d5?_0x321cd6(0x95f):_0x321cd6(0x22d):'')+_0x321cd6(0x402)+_0xeafb7d['id']+_0x321cd6(0xbb2)+_0x5b9b64+'\x20pointer-events-none\x22>'+_0xeafb7d[_0x321cd6(0xbbf)]+_0x321cd6(0x192)+_0x226b22+_0x321cd6(0x227)+new Date(_0xeafb7d[_0x321cd6(0x899)])[_0x321cd6(0x8f2)](_0x321cd6(0x3e5))+_0x321cd6(0xa09)+(_0x1553d5?_0x321cd6(0x73b):_0x321cd6(0xbb4))+_0x321cd6(0x7db)+_0x5ce963+_0x321cd6(0x705)+_0xeafb7d['id']+_0x321cd6(0x925)+_0xeafb7d[_0x321cd6(0xbbf)]+_0x321cd6(0x17a)+(_0x1553d5?_0x321cd6(0x25d):'text-red-500\x20hover:text-red-700')+_0x321cd6(0x833);});}else _0x340903[_0x3f813e(0x50a)]=_0x3f813e(0xa5f),starredQuizzes['length']>0x0&&_0x3f5962===''&&(_0x272f9d+=_0x3f813e(0x63b)+starredQuizzes[_0x3f813e(0x1eb)]+_0x3f813e(0x36e)),_0x272f9d+=_0x3f813e(0x41f),_0x437070[_0x3f813e(0x97e)](_0x5c6a51=>{const _0x5787de=_0x3f813e,_0x3ba632=_0xa2c82a[_0x5c6a51['id']]??0x0,_0x58cd76=_0xf1b06d['has'](_0x5c6a51['id']);_0x272f9d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x5c6a51['color']||'#E5E7EB')+_0x5787de(0xa46)+_0x5c6a51['id']+_0x5787de(0x3cf)+_0x5c6a51['projectName']+_0x5787de(0x9b8)+_0x3ba632+_0x5787de(0x6fb)+new Date(_0x5c6a51[_0x5787de(0x899)])[_0x5787de(0x533)](_0x5787de(0x3e5))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5c6a51['id']+_0x5787de(0xb2d)+(_0x58cd76?_0x5787de(0x22d):'')+_0x5787de(0x263)+_0x5c6a51['id']+'\x22\x20data-name=\x22'+_0x5c6a51[_0x5787de(0xbbf)]+_0x5787de(0xbc9);});projectList[_0x3f813e(0x9c5)]=_0x272f9d,noProjectsMsg[_0x3f813e(0x68d)][_0x3f813e(0x8ff)](_0x3f813e(0xbc7),_0x272f9d[_0x3f813e(0x1eb)]>0x0);}document[_0x314764(0x6ce)](_0x314764(0x637))[_0x314764(0x9cd)]('click',async()=>{const _0x542f46=_0x314764,_0x14bc86=document[_0x542f46(0x6ce)](_0x542f46(0x569)),_0x4d56fc=_0x14bc86[_0x542f46(0x3e6)]['trim']();if(!_0x4d56fc){showMessage(_0x542f46(0x4b3));return;}try{const _0x424039=doc(collection(db,_0x542f46(0x21f)+appId+_0x542f46(0x7fe)));await setDoc(_0x424039,{'projectName':_0x4d56fc,'students':[],'settings':{'resultsDisplay':_0x542f46(0x46c),'shuffleSetting':_0x542f46(0x4c0),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x542f46(0x4c0),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x542f46(0x9d8)]()}),_0x14bc86[_0x542f46(0x3e6)]='',createProjectModal[_0x542f46(0x68d)][_0x542f46(0x8f4)]('hidden'),showMessage(_0x542f46(0xbed));}catch(_0x5aa90b){console[_0x542f46(0x9b3)](_0x542f46(0x64c),_0x5aa90b),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x314764(0x9cd)](_0x314764(0x58a),async _0x491e54=>{const _0x3d9c28=_0x314764,_0x3387cd=_0x491e54['target'][_0x3d9c28(0x2ff)](_0x3d9c28(0x252)),_0x225fc1=_0x491e54[_0x3d9c28(0x3cb)][_0x3d9c28(0x2ff)](_0x3d9c28(0x1bf)),_0x1cb58f=_0x491e54[_0x3d9c28(0x3cb)][_0x3d9c28(0x2ff)](_0x3d9c28(0x8d9)),_0x19f17b=_0x491e54[_0x3d9c28(0x3cb)][_0x3d9c28(0x2ff)](_0x3d9c28(0x9fe));if(_0x1cb58f){const _0x3d9230=_0x1cb58f[_0x3d9c28(0x635)]['id'],_0x2d9a73=doc(db,_0x3d9c28(0x2a5),_0x3d9c28(0x5c2)),_0x2c4866=globalDashboardSettings['pinnedProjects'];let _0x5989f3;_0x2c4866[_0x3d9c28(0x8f7)](_0x3d9230)?_0x5989f3=_0x2c4866[_0x3d9c28(0x595)](_0x48c67c=>_0x48c67c!==_0x3d9230):_0x5989f3=[..._0x2c4866,_0x3d9230];try{await setDoc(_0x2d9a73,{'pinnedProjects':_0x5989f3},{'merge':!![]});}catch(_0x566a17){console[_0x3d9c28(0x9b3)](_0x3d9c28(0xbea),_0x566a17),showMessage(_0x3d9c28(0x20c));}}else{if(_0x19f17b){const _0x48f5c6=_0x19f17b['dataset']['id'];showColorPalette(_0x19f17b,_0x48f5c6);}else{if(_0x3387cd){const _0x3d5f58=_0x3387cd[_0x3d9c28(0x635)]['id'];_0x3d5f58===_0x3d9c28(0x73c)?showStarredProjectView():(currentProjectId=_0x3d5f58,await loadProjectDetails(currentProjectId),showView(_0x3d9c28(0x66f)));}else{if(_0x225fc1){const _0x4a403f=_0x225fc1[_0x3d9c28(0x635)]['id'],_0x2cc9b1=_0x225fc1[_0x3d9c28(0x635)][_0x3d9c28(0x924)];showConfirmation(_0x3d9c28(0x756)+_0x2cc9b1+_0x3d9c28(0x426),()=>handleDeleteProject(_0x4a403f));}}}}}),projectList[_0x314764(0x9cd)]('dragstart',_0x4a3e90=>{const _0x1048a3=_0x314764,_0x22a39c=_0x4a3e90[_0x1048a3(0x3cb)][_0x1048a3(0x2ff)](_0x1048a3(0x52b));_0x22a39c&&_0x22a39c[_0x1048a3(0x68d)][_0x1048a3(0x8f4)](_0x1048a3(0x293));}),projectList[_0x314764(0x9cd)]('dragend',_0x975027=>{const _0x3388d3=_0x314764,_0x58ed0e=_0x975027[_0x3388d3(0x3cb)][_0x3388d3(0x2ff)](_0x3388d3(0x52b));_0x58ed0e&&_0x58ed0e['classList'][_0x3388d3(0x49f)](_0x3388d3(0x293));}),projectList['addEventListener'](_0x314764(0x24d),_0x25ac2d=>{const _0x56e6e2=_0x314764;_0x25ac2d[_0x56e6e2(0x668)]();const _0x4710c7=document['querySelector'](_0x56e6e2(0xb50));if(!_0x4710c7)return;const _0x1e33cc=getDragAfterElement(projectList,_0x25ac2d['clientY']);_0x1e33cc==null?projectList['appendChild'](_0x4710c7):projectList[_0x56e6e2(0x53d)](_0x4710c7,_0x1e33cc);}),projectList['addEventListener'](_0x314764(0xbfb),_0x15cf8a=>{const _0x530661=_0x314764;_0x15cf8a[_0x530661(0x668)]();const _0x80f753=[...projectList[_0x530661(0x3e7)](_0x530661(0x30a))]['map'](_0x5cb6b5=>_0x5cb6b5['dataset']['id']);saveProjectOrder(_0x80f753);});function renderBehaviorLog(_0x3ae504){const _0x37aceb=_0x314764,_0x5f7226=document['getElementById']('behavior-log-container');if(!_0x5f7226)return;const _0x19e017=_0x3ae504['filter'](_0x41794c=>_0x41794c['behaviorLog']&&_0x41794c[_0x37aceb(0x943)]['length']>0x0);if(_0x19e017[_0x37aceb(0x1eb)]===0x0){_0x5f7226[_0x37aceb(0x9c5)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x189a71='';_0x19e017[_0x37aceb(0x97e)](_0x37e8ce=>{const _0x54f5bb=_0x37aceb;_0x189a71+=_0x54f5bb(0x23d)+_0x37e8ce[_0x54f5bb(0x43f)]+_0x54f5bb(0x6ff),_0x37e8ce[_0x54f5bb(0x943)][_0x54f5bb(0x588)]((_0x16a64f,_0x220dbd)=>new Date(_0x220dbd[_0x54f5bb(0x86c)])-new Date(_0x16a64f[_0x54f5bb(0x86c)]))[_0x54f5bb(0x97e)](_0x1909f8=>{const _0x2c197d=_0x54f5bb,_0x2d1199=new Date(_0x1909f8['timestamp'])[_0x2c197d(0x533)](_0x2c197d(0x3e5),{'dateStyle':_0x2c197d(0x3de),'timeStyle':_0x2c197d(0x907)});_0x189a71+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x1909f8[_0x2c197d(0x9af)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x2d1199+_0x2c197d(0xaaf);}),_0x189a71+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5f7226['innerHTML']=_0x189a71;}function getDragAfterElement(_0x3094d1,_0x165b41){const _0x35e05d=_0x314764,_0x25257b=[..._0x3094d1[_0x35e05d(0x3e7)](_0x35e05d(0xa35))];return _0x25257b[_0x35e05d(0xbd7)]((_0x196b0a,_0x335b53)=>{const _0x441ad7=_0x35e05d,_0x16ef1f=_0x335b53['getBoundingClientRect'](),_0x1ced70=_0x165b41-_0x16ef1f[_0x441ad7(0xa59)]-_0x16ef1f[_0x441ad7(0x9f8)]/0x2;return _0x1ced70<0x0&&_0x1ced70>_0x196b0a[_0x441ad7(0x959)]?{'offset':_0x1ced70,'element':_0x335b53}:_0x196b0a;},{'offset':Number[_0x35e05d(0x608)]})['element'];}async function saveProjectOrder(_0x9c75b6){const _0x3ddaad=_0x314764,_0x425dfd=doc(db,_0x3ddaad(0x2a5),_0x3ddaad(0x5c2));try{await setDoc(_0x425dfd,{'projectOrder':_0x9c75b6},{'merge':!![]});}catch(_0x4d084f){console[_0x3ddaad(0x9b3)]('Error\x20saving\x20project\x20order:',_0x4d084f),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x13d379,_0x3186f5={}){const _0x457d03=_0x314764;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x457d03(0x177));return;}const _0x1cdac1=doc(db,'artifacts/'+appId+_0x457d03(0x75f)+currentQuizData['id']+_0x457d03(0x9f3),currentStudentName),_0x50a2fd={'event':_0x13d379,'timestamp':new Date()[_0x457d03(0x9d8)](),..._0x3186f5};try{await updateDoc(_0x1cdac1,{'behaviorLog':arrayUnion(_0x50a2fd)}),console[_0x457d03(0xa58)](_0x457d03(0x8ef)+currentStudentName+'\x20สำเร็จ');}catch(_0x12e4c0){_0x12e4c0['code']==='not-found'?console['warn'](_0x457d03(0x548)+currentStudentName+_0x457d03(0x718)):console['error'](_0x457d03(0x38f),_0x12e4c0);}}function calculateMeanAndStdDev(_0x33fa10){const _0x4286ac=_0x314764;if(_0x33fa10[_0x4286ac(0x1eb)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x25deca=_0x33fa10[_0x4286ac(0xbd7)]((_0x2de2f7,_0x3d20ad)=>_0x2de2f7+_0x3d20ad,0x0)/_0x33fa10[_0x4286ac(0x1eb)];if(_0x33fa10[_0x4286ac(0x1eb)]===0x1)return{'mean':_0x25deca,'stdDev':0x0};const _0x21bacc=Math[_0x4286ac(0x3d9)](_0x33fa10[_0x4286ac(0x83a)](_0x52a550=>Math['pow'](_0x52a550-_0x25deca,0x2))[_0x4286ac(0xbd7)]((_0x140fe1,_0x237629)=>_0x140fe1+_0x237629,0x0)/(_0x33fa10[_0x4286ac(0x1eb)]-0x1));return{'mean':_0x25deca,'stdDev':_0x21bacc};}function calculateZScore(_0x1c47cf,_0x3515cb,_0x21ec7a){if(_0x21ec7a===0x0)return 0x0;return(_0x1c47cf-_0x3515cb)/_0x21ec7a;}function calculateTScore(_0x223bc9){return 0xa*_0x223bc9+0x32;}function showStarredProjectView(){const _0x1cf373=_0x314764;currentProjectId=_0x1cf373(0x18c),currentProjectData=null,projectTitle[_0x1cf373(0xa88)]=_0x1cf373(0x2d9),projectIdDisplay[_0x1cf373(0xa88)]=_0x1cf373(0x424),showView(_0x1cf373(0x66f)),manageTab[_0x1cf373(0x68d)]['add'](_0x1cf373(0xbc7)),leaderboardTab[_0x1cf373(0x68d)][_0x1cf373(0x8f4)](_0x1cf373(0xbc7)),switchProjectTab(_0x1cf373(0xb97)),renderQuizzes();}async function loadProjectDetails(_0x4a9468){const _0x183056=_0x314764,_0x212dbb=doc(db,_0x183056(0x21f)+appId+_0x183056(0x7fe),_0x4a9468),_0x11804b=await getDoc(_0x212dbb);if(_0x11804b['exists']()){manageTab[_0x183056(0x68d)]['remove'](_0x183056(0xbc7)),leaderboardTab[_0x183056(0x68d)]['remove'](_0x183056(0xbc7)),currentProjectData=_0x11804b[_0x183056(0x31c)](),projectTitle[_0x183056(0xa88)]=currentProjectData[_0x183056(0xbbf)],projectIdDisplay[_0x183056(0xa88)]=_0x4a9468;const _0x204cba=currentProjectData[_0x183056(0xbd0)]||{};document[_0x183056(0x6ce)]('shuffle-setting-select')[_0x183056(0x3e6)]=_0x204cba[_0x183056(0x856)]||'none';const _0x426402=document[_0x183056(0x6ce)](_0x183056(0x185));_0x426402['checked']=_0x204cba['showInStudentDashboard']!==![];const _0x36c39a=document['getElementById'](_0x183056(0x622)),_0x44916a=document[_0x183056(0x6ce)]('passcode-input-container'),_0x3b51c8=document[_0x183056(0x6ce)]('project-passcode-input'),_0x5d7e2e=_0x204cba[_0x183056(0x7b3)]||![];_0x36c39a[_0x183056(0x5dc)]=_0x5d7e2e,_0x3b51c8[_0x183056(0x3e6)]=_0x204cba[_0x183056(0x3c4)]||'',_0x44916a[_0x183056(0x68d)]['toggle']('hidden',!_0x5d7e2e),_0x36c39a[_0x183056(0x4cd)]=()=>{const _0x19b4e0=_0x183056;_0x44916a['classList']['toggle']('hidden',!_0x36c39a[_0x19b4e0(0x5dc)]);},document[_0x183056(0x6ce)](_0x183056(0x629))[_0x183056(0x5dc)]=_0x204cba['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4a9468),listenForProjectQuizzes(_0x4a9468),listenForStudentProfiles(_0x4a9468);}else showMessage(_0x183056(0x4a5)),showView(_0x183056(0x1a4));}async function handleResetProjectOrder(){const _0x2a194e=_0x314764,_0x13a637=doc(db,_0x2a194e(0x2a5),_0x2a194e(0x5c2));try{await setDoc(_0x13a637,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x2a194e(0xb38));}catch(_0x31a7b7){console['error'](_0x2a194e(0x335),_0x31a7b7),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x3a8820){const _0x3bd5ed=_0x314764;if(!_0x3a8820)return;const _0x1eca1f=doc(db,_0x3bd5ed(0x21f)+appId+'/public/data/projects',_0x3a8820);try{const _0x4b786e=await getDoc(_0x1eca1f);if(_0x4b786e[_0x3bd5ed(0x232)]()){const _0x241bab=_0x4b786e[_0x3bd5ed(0x31c)]()[_0x3bd5ed(0x9a5)]||![];await updateDoc(_0x1eca1f,{'isPinned':!_0x241bab});}}catch(_0x125548){console[_0x3bd5ed(0x9b3)](_0x3bd5ed(0x1f1),_0x125548),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x3d8d7d){const _0xd90d88=_0x314764;try{const _0x402832=writeBatch(db),_0xf834fb=collection(db,_0xd90d88(0x21f)+appId+_0xd90d88(0x544)),_0x78bafe=query(_0xf834fb,where(_0xd90d88(0x368),'==',_0x3d8d7d)),_0x24f2bd=await getDocs(_0x78bafe);for(const _0x36ee73 of _0x24f2bd[_0xd90d88(0xc27)]){const _0x3a6aa2=collection(db,_0xd90d88(0x21f)+appId+'/public/data/quizzes/'+_0x36ee73['id']+'/submissions'),_0x4bbc15=await getDocs(_0x3a6aa2);_0x4bbc15[_0xd90d88(0x97e)](_0x19a57b=>{const _0x299e12=_0xd90d88;_0x402832[_0x299e12(0x483)](_0x19a57b['ref']);}),_0x402832[_0xd90d88(0x483)](_0x36ee73[_0xd90d88(0x919)]);}const _0x3a0607=collection(db,'artifacts/'+appId+_0xd90d88(0xc06)+_0x3d8d7d+_0xd90d88(0x243)),_0x6f6dab=await getDocs(_0x3a0607);_0x6f6dab[_0xd90d88(0x97e)](_0x32aa4f=>{const _0x19327e=_0xd90d88;_0x402832[_0x19327e(0x483)](_0x32aa4f[_0x19327e(0x919)]);});const _0x6e9a56=doc(db,_0xd90d88(0x21f)+appId+_0xd90d88(0x7fe),_0x3d8d7d);_0x402832[_0xd90d88(0x483)](_0x6e9a56),await _0x402832[_0xd90d88(0xb03)](),showMessage(_0xd90d88(0x42b)),showView('admin-dashboard');}catch(_0x2b5fcf){console[_0xd90d88(0x9b3)](_0xd90d88(0xad8),_0x2b5fcf),showMessage(_0xd90d88(0x780));}}document['getElementById'](_0x314764(0x90f))['addEventListener'](_0x314764(0x58a),async()=>{const _0x3fbfc4=_0x314764;if(!currentProjectId)return;const _0x51dd23={'defaultNumQuestions':parseInt(document[_0x3fbfc4(0x6ce)](_0x3fbfc4(0x971))[_0x3fbfc4(0x3e6)]),'defaultNumChoices':parseInt(document[_0x3fbfc4(0x6ce)](_0x3fbfc4(0x647))[_0x3fbfc4(0x3e6)]),'defaultPassingScore':parseInt(document['getElementById'](_0x3fbfc4(0x659))[_0x3fbfc4(0x3e6)]),'resultsDisplay':document[_0x3fbfc4(0x6ce)]('results-display-select')[_0x3fbfc4(0x3e6)],'shuffleSetting':document['getElementById'](_0x3fbfc4(0x3fb))['value'],'timerMode':document[_0x3fbfc4(0x6ce)]('timer-mode-select')[_0x3fbfc4(0x3e6)],'timerDuration':parseInt(document[_0x3fbfc4(0x6ce)]('timer-duration-input')[_0x3fbfc4(0x3e6)]),'isConfidenceScoringEnabled':document[_0x3fbfc4(0x6ce)](_0x3fbfc4(0x629))[_0x3fbfc4(0x5dc)],'confidenceMode':document['getElementById'](_0x3fbfc4(0x193))[_0x3fbfc4(0x3e6)]};try{const _0x1a39cc=doc(db,_0x3fbfc4(0x21f)+appId+_0x3fbfc4(0x7fe),currentProjectId);await updateDoc(_0x1a39cc,{'settings':_0x51dd23}),showMessage(_0x3fbfc4(0x6c0));}catch(_0xfe7cf4){console[_0x3fbfc4(0x9b3)](_0x3fbfc4(0xb52),_0xfe7cf4),showMessage(_0x3fbfc4(0x418));}});function listenForStudents(_0x4958d9){const _0x1c0a12=_0x314764,_0x1aad26=doc(db,'artifacts/'+appId+_0x1c0a12(0x7fe),_0x4958d9);unsubscribeStudentsListener=onSnapshot(_0x1aad26,_0x4f338=>{const _0x18c2ed=_0x1c0a12;if(_0x4f338[_0x18c2ed(0x232)]()){const _0x580828=_0x4f338[_0x18c2ed(0x31c)]();currentProjectData=_0x580828,renderStudentList(_0x580828[_0x18c2ed(0x801)]||[]);}});}function renderStudentList(_0x34818a){const _0x369e8a=_0x314764,_0x15ba16=document[_0x369e8a(0x6ce)](_0x369e8a(0x396));_0x34818a[_0x369e8a(0x1eb)]===0x0?(studentList[_0x369e8a(0x9c5)]=_0x369e8a(0xbef),_0x15ba16[_0x369e8a(0x68d)][_0x369e8a(0x8f4)]('hidden')):(studentList[_0x369e8a(0x9c5)]=_0x34818a[_0x369e8a(0x83a)](_0x31dc00=>_0x369e8a(0x3d3)+_0x31dc00+_0x369e8a(0xba6)+_0x31dc00+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x369e8a(0x47c)](''),_0x15ba16['classList'][_0x369e8a(0x49f)](_0x369e8a(0xbc7)));}document['getElementById'](_0x314764(0x7bf))['addEventListener']('click',async()=>{const _0x4df042=_0x314764;if(!currentProjectId)return;const _0x58ebb7=document[_0x4df042(0x6ce)]('student-name-input'),_0x107c8d=_0x58ebb7[_0x4df042(0x3e6)][_0x4df042(0x1b6)]();if(!_0x107c8d){showMessage(_0x4df042(0xba5));return;}const _0x2128a3=_0x107c8d[_0x4df042(0x9a3)]('\x0a')[_0x4df042(0x83a)](_0x5e6211=>_0x5e6211['trim']())['filter'](_0x886751=>_0x886751);if(_0x2128a3[_0x4df042(0x1eb)]===0x0)return;try{const _0x3354ce=doc(db,'artifacts/'+appId+_0x4df042(0x7fe),currentProjectId),_0x535f59=await getDoc(_0x3354ce);if(_0x535f59['exists']()){const _0x263f3b=_0x535f59['data']()[_0x4df042(0x801)]||[],_0x1d8676=[...new Set([..._0x263f3b,..._0x2128a3])];await updateDoc(_0x3354ce,{'students':_0x1d8676}),_0x58ebb7[_0x4df042(0x3e6)]='';}}catch(_0x54d3d5){console[_0x4df042(0x9b3)](_0x4df042(0x568),_0x54d3d5),showMessage(_0x4df042(0x9d4));}});async function handleManualQuizPairing(_0x2000e6){const _0x18f3a4=_0x314764,_0x4ab102=document['getElementById']('move-quiz-modal'),_0x95ed9d=document[_0x18f3a4(0x6ce)](_0x18f3a4(0xb61)),_0x13e344=_0x4ab102[_0x18f3a4(0x612)]('h3'),_0x4f4146=document[_0x18f3a4(0x6ce)](_0x18f3a4(0x793)),_0x2b3b32=document[_0x18f3a4(0x6ce)](_0x18f3a4(0x8cf));_0x13e344[_0x18f3a4(0xa88)]='จับคู่เพื่อเปรียบเทียบผล',_0x95ed9d[_0x18f3a4(0x9c5)]=_0x18f3a4(0x1aa),_0x4f4146[_0x18f3a4(0xa88)]=_0x18f3a4(0xa34),_0x4ab102[_0x18f3a4(0x68d)]['remove'](_0x18f3a4(0xbc7));const _0x4ecbfa=allQuizzes[_0x18f3a4(0x595)](_0x481533=>_0x481533['id']!==_0x2000e6);_0x4ecbfa['length']===0x0?(_0x95ed9d['innerHTML']='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x4f4146[_0x18f3a4(0x915)]=!![]):(_0x95ed9d[_0x18f3a4(0x9c5)]=_0x18f3a4(0x1e0)+_0x4ecbfa['map'](_0x2bd0e9=>_0x18f3a4(0x279)+_0x2bd0e9['id']+'\x22>'+_0x2bd0e9[_0x18f3a4(0x265)]+_0x18f3a4(0x92c))[_0x18f3a4(0x47c)](''),_0x4f4146[_0x18f3a4(0x915)]=![]);const _0x4d4cf1=async()=>{const _0x45bc1c=_0x18f3a4,_0x39439a=_0x95ed9d[_0x45bc1c(0x3e6)];if(!_0x39439a){showMessage(_0x45bc1c(0x825));return;}_0x4f4146[_0x45bc1c(0x915)]=!![],_0x4f4146[_0x45bc1c(0xa88)]=_0x45bc1c(0x25c);try{const _0x748d01=doc(db,_0x45bc1c(0x21f)+appId+'/public/data/quizzes',_0x2000e6),_0x355a9b=doc(db,'artifacts/'+appId+_0x45bc1c(0x544),_0x39439a),_0x3a6ad9=writeBatch(db);_0x3a6ad9[_0x45bc1c(0x3e0)](_0x748d01,{'pairedQuizId':_0x39439a}),_0x3a6ad9[_0x45bc1c(0x3e0)](_0x355a9b,{'pairedQuizId':_0x2000e6}),await _0x3a6ad9[_0x45bc1c(0xb03)](),showMessage(_0x45bc1c(0x199)),_0x4ab102['classList'][_0x45bc1c(0x8f4)](_0x45bc1c(0xbc7));}catch(_0x52b7aa){console[_0x45bc1c(0x9b3)](_0x45bc1c(0x69b),_0x52b7aa),showMessage(_0x45bc1c(0x97d));}finally{_0x13e344[_0x45bc1c(0xa88)]=_0x45bc1c(0xae3),_0x4f4146[_0x45bc1c(0xa88)]=_0x45bc1c(0x56c),_0x4f4146[_0x45bc1c(0x915)]=![],_0x4f4146[_0x45bc1c(0x5af)](_0x45bc1c(0x58a),_0x4d4cf1),_0x2b3b32[_0x45bc1c(0x5af)]('click',_0x87e343);}},_0x87e343=()=>{const _0x4d5f7b=_0x18f3a4;_0x4ab102[_0x4d5f7b(0x68d)][_0x4d5f7b(0x8f4)](_0x4d5f7b(0xbc7)),_0x13e344[_0x4d5f7b(0xa88)]=_0x4d5f7b(0xae3),_0x4f4146[_0x4d5f7b(0xa88)]='ย้าย',_0x4f4146[_0x4d5f7b(0x5af)]('click',_0x4d4cf1),_0x2b3b32['removeEventListener'](_0x4d5f7b(0x58a),_0x87e343);};_0x4f4146['addEventListener'](_0x18f3a4(0x58a),_0x4d4cf1),_0x2b3b32[_0x18f3a4(0x9cd)]('click',_0x87e343);}function handleDeleteStudent(_0x3872ca){const _0x5d4c2e=_0x314764;showConfirmation(_0x5d4c2e(0x8ca)+_0x3872ca+_0x5d4c2e(0x398),async()=>{const _0x34129f=_0x5d4c2e;if(!currentProjectId||!currentProjectData)return;const _0x492aee=currentProjectData[_0x34129f(0x801)][_0x34129f(0x595)](_0x3bf30c=>_0x3bf30c!==_0x3872ca);try{const _0x23ae78=doc(db,_0x34129f(0x21f)+appId+_0x34129f(0x7fe),currentProjectId),_0x2aedf0=doc(db,_0x34129f(0x21f)+appId+_0x34129f(0xc06)+currentProjectId+_0x34129f(0x243),_0x3872ca),_0x115ddc=writeBatch(db);_0x115ddc[_0x34129f(0x3e0)](_0x23ae78,{'students':_0x492aee}),_0x115ddc['delete'](_0x2aedf0),await _0x115ddc[_0x34129f(0xb03)]();}catch(_0x3c841a){console[_0x34129f(0x9b3)](_0x34129f(0xa92),_0x3c841a),showMessage(_0x34129f(0x6e4));}});}function handleDeleteAllStudents(){const _0x10ce2c=_0x314764;showConfirmation(_0x10ce2c(0x464),async()=>{const _0x5b9241=_0x10ce2c;if(!currentProjectId)return;try{const _0x28d48c=doc(db,_0x5b9241(0x21f)+appId+_0x5b9241(0x7fe),currentProjectId),_0x5be6cd=collection(db,_0x5b9241(0x21f)+appId+_0x5b9241(0xc06)+currentProjectId+_0x5b9241(0x243)),_0x4bfe60=await getDocs(_0x5be6cd),_0xbd09ca=writeBatch(db);_0xbd09ca[_0x5b9241(0x3e0)](_0x28d48c,{'students':[]}),_0x4bfe60[_0x5b9241(0x97e)](_0x2725c8=>_0xbd09ca['delete'](_0x2725c8['ref'])),await _0xbd09ca[_0x5b9241(0xb03)]();}catch(_0xea3c21){console[_0x5b9241(0x9b3)](_0x5b9241(0x48f),_0xea3c21),showMessage(_0x5b9241(0x304));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x3073f2){const _0x462dea=_0x314764,_0x237b10=document[_0x462dea(0x6ce)](_0x462dea(0x8d5)),_0x22b55c=document[_0x462dea(0x6ce)](_0x462dea(0x48d));_0x237b10[_0x462dea(0x68d)]['remove']('hidden'),_0x22b55c[_0x462dea(0x9c5)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x1b8d1e=new FileReader();_0x1b8d1e['readAsDataURL'](_0x3073f2),await new Promise((_0x87bb4f,_0x405d44)=>{const _0x5f5154=_0x462dea;_0x1b8d1e[_0x5f5154(0x584)]=()=>{const _0x1691f7=_0x5f5154;fileDataBase64=_0x1b8d1e[_0x1691f7(0x9f5)][_0x1691f7(0x9a3)](',')[0x1],fileMimeType=_0x3073f2[_0x1691f7(0x32a)],_0x87bb4f();},_0x1b8d1e[_0x5f5154(0x754)]=_0x30957f=>_0x405d44(_0x30957f);});if(!fileDataBase64)throw new Error(_0x462dea(0x1dc));const _0x28fa08=_0x462dea(0xb8a),_0x2f8cd2={'type':_0x462dea(0x417),'properties':{'topics':{'type':_0x462dea(0x8c2),'items':{'type':'STRING'}}},'required':[_0x462dea(0x315)]},_0x44faac=[{'text':_0x28fa08},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x412802=await handleApiCall(_0x44faac,_0x462dea(0x259),_0x2f8cd2,null,![]);if(_0x412802&&_0x412802[_0x462dea(0x315)])extractedFileTopics=_0x412802[_0x462dea(0x315)],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x3df06f){console[_0x462dea(0x9b3)](_0x462dea(0x88a),_0x3df06f),_0x22b55c['innerHTML']=_0x462dea(0x2da)+_0x3df06f[_0x462dea(0x86b)]+_0x462dea(0x1ad);}}function renderFileTopics(){const _0x59ab61=_0x314764,_0x230db5=document[_0x59ab61(0x6ce)](_0x59ab61(0x48d));if(extractedFileTopics[_0x59ab61(0x1eb)]===0x0){_0x230db5[_0x59ab61(0x9c5)]=_0x59ab61(0x6b8);return;}_0x230db5[_0x59ab61(0x9c5)]=extractedFileTopics[_0x59ab61(0x83a)](_0x4d6a3e=>_0x59ab61(0x618)+_0x4d6a3e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x4d6a3e)+_0x59ab61(0x4e0)+escape(_0x4d6a3e)+_0x59ab61(0x63a))[_0x59ab61(0x47c)]('');}async function generateHybridQuizForTopic(_0x4ceaf9){const _0x53f747=_0x314764,_0x5698ea=parseInt(document[_0x53f747(0x6ce)](_0x53f747(0x971))[_0x53f747(0x3e6)],0xa),_0x50363c=document[_0x53f747(0x6ce)](_0x53f747(0xb2c))[_0x53f747(0x3e6)],_0x426873=document[_0x53f747(0x6ce)](_0x53f747(0x647))[_0x53f747(0x3e6)],_0x4d72ad=document[_0x53f747(0x6ce)](_0x53f747(0x6ad))['checked'],_0x296b7c=_0x4d72ad?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x53f747(0x56b);let _0x941038='',_0x17ed13;const _0x520b78={'type':_0x53f747(0x417),'properties':{'questionText':{'type':_0x53f747(0x5b8)},'options':{'type':_0x53f747(0x8c2),'items':{'type':_0x53f747(0x5b8)}},'correctAnswerIndex':{'type':_0x53f747(0x31a)},'explanation':{'type':_0x53f747(0x5b8)},'imageCode':{'type':_0x53f747(0x5b8)}},'required':[_0x53f747(0x41e),'options',_0x53f747(0xaca),_0x53f747(0x823)]},_0x1df55a={'type':_0x53f747(0x417),'properties':{'questionText':{'type':_0x53f747(0x5b8)},'correctAnswer':{'type':_0x53f747(0x351)},'explanation':{'type':_0x53f747(0x5b8)},'imageCode':{'type':_0x53f747(0x5b8)}},'required':[_0x53f747(0x41e),_0x53f747(0x7c3),_0x53f747(0x823)]},_0xf10ffb={'type':_0x53f747(0x417),'properties':{'questionText':{'type':_0x53f747(0x5b8)},'idealAnswer':{'type':_0x53f747(0x5b8)},'explanation':{'type':_0x53f747(0x5b8)},'imageCode':{'type':_0x53f747(0x5b8)}},'required':[_0x53f747(0x41e),_0x53f747(0x841),_0x53f747(0x823)]},_0xd1d511={'type':_0x53f747(0x417),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x53f747(0x5b8)},'correctResponse':{'type':_0x53f747(0x5b8)},'allResponses':{'type':'ARRAY','items':{'type':_0x53f747(0x5b8)}},'explanation':{'type':_0x53f747(0x5b8)},'imageCode':{'type':'STRING'}},'required':[_0x53f747(0xb6e),_0x53f747(0x458),'correctResponse','allResponses','explanation']};switch(_0x50363c){case'multiple_choice':_0x941038=_0x53f747(0xb6d)+_0x426873+_0x53f747(0x731),_0x17ed13=_0x520b78;break;case _0x53f747(0xa97):_0x941038=_0x53f747(0x3a8),_0x17ed13=_0x1df55a;break;case'fill_in_no_choices':_0x941038=_0x53f747(0x50b),_0x17ed13=_0xf10ffb;break;case _0x53f747(0x55b):_0x941038=_0x53f747(0x687),_0x17ed13=_0xd1d511;break;case _0x53f747(0x248):_0x941038=_0x53f747(0x7a4)+_0x426873+_0x53f747(0x731),_0x17ed13=_0x520b78;break;default:_0x941038=_0x53f747(0xb6d)+_0x426873+_0x53f747(0x731),_0x17ed13=_0x520b78;break;}const _0x597bfd='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x11fdc4=document[_0x53f747(0x6ce)]('loader'),_0x2d0b0a=document[_0x53f747(0x6ce)](_0x53f747(0x726)),_0x9a8c0f=document['getElementById'](_0x53f747(0x600));document[_0x53f747(0x6ce)](_0x53f747(0xc0d))[_0x53f747(0x68d)][_0x53f747(0x49f)](_0x53f747(0xbc7)),_0x9a8c0f['innerHTML']='',_0x11fdc4[_0x53f747(0x68d)][_0x53f747(0x49f)]('hidden'),_0x2d0b0a[_0x53f747(0xa88)]=_0x53f747(0xa4a)+_0x4ceaf9+'\x22\x20จำนวน\x20'+_0x5698ea+_0x53f747(0x7c7);try{const _0x57146e=_0x53f747(0xbaa),_0x1c3f72='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x4ceaf9+_0x53f747(0x3bd)+_0x5698ea+_0x53f747(0xa2a)+_0x4ceaf9+_0x53f747(0x983)+_0x5698ea+_0x53f747(0x4fa)+_0x296b7c+_0x53f747(0x711)+_0x941038+_0x53f747(0x84e)+_0x597bfd+_0x53f747(0x28c)+_0x57146e+_0x53f747(0x39a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xb67dc3={'type':_0x53f747(0x417),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x53f747(0x8c2),'items':_0x17ed13}},'required':[_0x53f747(0x265),_0x53f747(0x7bb)]},_0x2df91c=[{'text':_0x1c3f72},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x2df91c,_0x53f747(0x6a4)+_0x4ceaf9+_0x53f747(0x205),_0xb67dc3);}catch(_0x21ac2d){console[_0x53f747(0x9b3)]('Error\x20generating\x20hybrid\x20quiz:',_0x21ac2d),showMessage(_0x53f747(0x6e8)+_0x21ac2d['message']),_0x9a8c0f[_0x53f747(0x9c5)]=_0x53f747(0xb88);}finally{_0x11fdc4[_0x53f747(0x68d)]['add'](_0x53f747(0xbc7));}}async function handleGenerateFromFileClick(){const _0x2da2b7=_0x314764;if(!selectedFile){showMessage(_0x2da2b7(0x981));return;}const _0x14261b=document[_0x2da2b7(0x6ce)]('loader'),_0x3eaa90=document[_0x2da2b7(0x6ce)]('loader-text'),_0x287607=document[_0x2da2b7(0x6ce)](_0x2da2b7(0x600)),_0x5ef397=document[_0x2da2b7(0x6ce)](_0x2da2b7(0x9d1));_0x5ef397['disabled']=!![],document[_0x2da2b7(0x6ce)](_0x2da2b7(0xc0d))[_0x2da2b7(0x68d)]['remove'](_0x2da2b7(0xbc7)),_0x287607[_0x2da2b7(0x9c5)]='',_0x14261b[_0x2da2b7(0x68d)][_0x2da2b7(0x49f)](_0x2da2b7(0xbc7)),_0x3eaa90['textContent']=_0x2da2b7(0x2f0);const _0x23f282=new FileReader();_0x23f282[_0x2da2b7(0x1ff)](selectedFile),_0x23f282[_0x2da2b7(0x584)]=async()=>{const _0xd09ab7=_0x2da2b7;try{const _0x48dba0=_0x23f282[_0xd09ab7(0x9f5)]['split'](',')[0x1],_0x34de94=selectedFile[_0xd09ab7(0x32a)];await generateQuizFromFile(_0x34de94,_0x48dba0);}catch(_0x1647a6){console[_0xd09ab7(0x9b3)]('Error\x20processing\x20file\x20for\x20AI:',_0x1647a6),showMessage(_0xd09ab7(0x8d0)+_0x1647a6[_0xd09ab7(0x86b)]),_0x14261b['classList'][_0xd09ab7(0x8f4)](_0xd09ab7(0xbc7));}finally{}},_0x23f282['onerror']=_0x2eee3f=>{const _0x3255bb=_0x2da2b7;console[_0x3255bb(0x9b3)](_0x3255bb(0xa7b),_0x2eee3f),showMessage(_0x3255bb(0xaba)),_0x14261b['classList'][_0x3255bb(0x8f4)]('hidden'),_0x5ef397['disabled']=![];};}function autoFormatMath(_0x373cd0){const _0x2e7acf=_0x314764;if(typeof _0x373cd0!==_0x2e7acf(0xa17)||!_0x373cd0)return _0x373cd0;const _0x487cf0=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1506cf=_0x373cd0['replace'](_0x487cf0,_0x159359=>{const _0x573dd6=_0x2e7acf;return'$'+_0x159359[_0x573dd6(0x1b6)]()+'$';});return _0x1506cf;}function sanitizeQuizData(_0x1a5f5e){const _0x1912f9=_0x314764;if(!_0x1a5f5e||!_0x1a5f5e[_0x1912f9(0x7bb)])return _0x1a5f5e;const _0x38b402={'imes':_0x1912f9(0xa1f),'div':_0x1912f9(0xaf5)},_0x3aeede=_0x283e71=>{const _0x2b60a7=_0x1912f9;if(typeof _0x283e71!==_0x2b60a7(0xa17))return _0x283e71;let _0x3cc034=_0x283e71;for(const [_0x3ba9b4,_0x34cd35]of Object['entries'](_0x38b402)){const _0x1ccf01=new RegExp('\x5cb'+_0x3ba9b4+'\x5cb','g');_0x3cc034=_0x3cc034[_0x2b60a7(0xa99)](_0x1ccf01,_0x34cd35);}return _0x3cc034=_0x3cc034[_0x2b60a7(0xa99)](/\\\//g,_0x2b60a7(0xaf5)),_0x3cc034=_0x3cc034[_0x2b60a7(0xa99)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x2b60a7(0xaf5))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x2b60a7(0xa99)](/÷/g,'\x5cdiv')['replace'](/×/g,_0x2b60a7(0xa1f)),_0x3cc034=_0x3cc034[_0x2b60a7(0xa99)](/(\d)(\\frac)/g,_0x2b60a7(0x313)),_0x3cc034=autoFormatMath(_0x3cc034),_0x3cc034;};return _0x1a5f5e['topic']&&(_0x1a5f5e['topic']=_0x3aeede(_0x1a5f5e[_0x1912f9(0x265)])),_0x1a5f5e['questions'][_0x1912f9(0x97e)](_0x23c39b=>{const _0x52cabb=_0x1912f9;_0x23c39b['questionText']=_0x3aeede(_0x23c39b[_0x52cabb(0x41e)]),_0x23c39b[_0x52cabb(0x9b5)]&&(_0x23c39b[_0x52cabb(0x9b5)]=_0x23c39b[_0x52cabb(0x9b5)][_0x52cabb(0x83a)](_0x3aeede)),_0x23c39b['explanation']&&(_0x23c39b[_0x52cabb(0x823)]=_0x3aeede(_0x23c39b[_0x52cabb(0x823)])),_0x23c39b[_0x52cabb(0x458)]&&(_0x23c39b[_0x52cabb(0x458)]=_0x3aeede(_0x23c39b['stem'])),_0x23c39b[_0x52cabb(0x53e)]&&(_0x23c39b[_0x52cabb(0x53e)]=_0x3aeede(_0x23c39b[_0x52cabb(0x53e)])),_0x23c39b[_0x52cabb(0x610)]&&(_0x23c39b[_0x52cabb(0x610)]=_0x23c39b['allResponses'][_0x52cabb(0x83a)](_0x3aeede));}),_0x1a5f5e;}const simpleMathPrompt=_0x314764(0x1c7);async function handleGenerateFromLink(){const _0x5674c8=_0x314764,_0x1910ea=document[_0x5674c8(0x6ce)](_0x5674c8(0xaab)),_0x106b03=document[_0x5674c8(0x6ce)](_0x5674c8(0xb53)),_0x76ba4d=_0x1910ea[_0x5674c8(0x3e6)][_0x5674c8(0x1b6)](),_0x59e14b=_0x106b03[_0x5674c8(0x3e6)]['trim']();if(!_0x76ba4d){showMessage(_0x5674c8(0x51a));return;}const _0x4e8e25=document['getElementById'](_0x5674c8(0x3f8)),_0x266051=document['getElementById'](_0x5674c8(0x726)),_0x97c265=document['getElementById']('generated-quiz-container'),_0x1014d4=document['getElementById'](_0x5674c8(0x1a3));document['getElementById']('quiz-generation-area')['classList'][_0x5674c8(0x49f)](_0x5674c8(0xbc7)),_0x97c265['innerHTML']='',_0x4e8e25[_0x5674c8(0x68d)]['remove'](_0x5674c8(0xbc7)),_0x266051['textContent']=_0x5674c8(0x9da),_0x1014d4[_0x5674c8(0x915)]=!![];try{const _0x353949=_0x5674c8(0x669)+encodeURIComponent(_0x76ba4d),_0x15696b=await fetch(_0x353949);if(!_0x15696b['ok'])throw new Error(_0x5674c8(0x4f8)+_0x15696b[_0x5674c8(0xbfc)]+')');const _0x3986da=await _0x15696b[_0x5674c8(0xb56)](),_0x282b6f=extractTextFromHtml(_0x3986da);if(!_0x282b6f||_0x282b6f[_0x5674c8(0x1eb)]<0x64)throw new Error(_0x5674c8(0x9e0));await generateQuiz(_0x59e14b,_0x282b6f);}catch(_0x568c46){console[_0x5674c8(0x9b3)](_0x5674c8(0x6b6),_0x568c46),showMessage(_0x5674c8(0x6e8)+_0x568c46[_0x5674c8(0x86b)]),_0x97c265[_0x5674c8(0x9c5)]=_0x5674c8(0xbe5);}finally{_0x4e8e25[_0x5674c8(0x68d)][_0x5674c8(0x8f4)](_0x5674c8(0xbc7)),_0x1014d4['disabled']=![];}}function extractTextFromHtml(_0x1f0896){const _0x5c530d=_0x314764,_0x5bb798=new DOMParser()[_0x5c530d(0x552)](_0x1f0896,_0x5c530d(0x759));return _0x5bb798[_0x5c530d(0x3e7)](_0x5c530d(0xb31))[_0x5c530d(0x97e)](_0x598997=>_0x598997[_0x5c530d(0x49f)]()),_0x5bb798[_0x5c530d(0xad4)]['textContent']||'';}document[_0x314764(0x6ce)](_0x314764(0x34f))[_0x314764(0x9cd)](_0x314764(0x58a),()=>{const _0x1ec0e6=_0x314764,_0x31e3c0=document[_0x1ec0e6(0x6ce)](_0x1ec0e6(0x8cc))[_0x1ec0e6(0x3e6)][_0x1ec0e6(0x1b6)]();generateQuiz(_0x31e3c0,null);}),document['getElementById'](_0x314764(0x61e))[_0x314764(0x9cd)](_0x314764(0x58a),()=>{const _0xc43cb6=_0x314764,_0x485605=document[_0xc43cb6(0x6ce)](_0xc43cb6(0x715))[_0xc43cb6(0x3e6)][_0xc43cb6(0x1b6)]();if(!_0x485605){showMessage(_0xc43cb6(0x87f));return;}const _0x2b9479=document[_0xc43cb6(0x6ce)](_0xc43cb6(0x8cc))[_0xc43cb6(0x3e6)][_0xc43cb6(0x1b6)]();generateQuiz(_0x2b9479,_0x485605);});async function generateQuiz(_0x264684,_0x24f645,_0x2f6eec=null,_0x1c78b2=null,_0x21b87c=![],_0x259dcb=null,_0x6f757=null,_0x42667e=![]){const _0x57a712=_0x314764;let _0x45051b={};if(_0x21b87c&&blueprintPageSettings)console[_0x57a712(0xa58)](_0x57a712(0x9a0)),_0x45051b=blueprintPageSettings;else{console[_0x57a712(0xa58)](_0x57a712(0x55d));const _0x53889c=document[_0x57a712(0x3e7)](_0x57a712(0x7d1));_0x45051b={'quizType':document[_0x57a712(0x6ce)](_0x57a712(0xb2c))[_0x57a712(0x3e6)],'numQuestions':document['getElementById'](_0x57a712(0x971))[_0x57a712(0x3e6)],'numChoices':document[_0x57a712(0x6ce)](_0x57a712(0x647))['value'],'includeImages':document[_0x57a712(0x6ce)](_0x57a712(0x6ad))[_0x57a712(0x5dc)],'isNormalTopic':document[_0x57a712(0x6ce)](_0x57a712(0x2c6))['checked'],'difficultyValue':document[_0x57a712(0x6ce)](_0x57a712(0x714))[_0x57a712(0x3e6)],'complexityValue':document[_0x57a712(0x6ce)]('question-complexity-select')[_0x57a712(0x3e6)],'selectedTopicNames':Array[_0x57a712(0x2db)](_0x53889c)[_0x57a712(0x83a)](_0x570369=>_0x570369[_0x57a712(0x3e6)])};}const _0x4370ea=_0x45051b[_0x57a712(0xa3d)]?'':_0x57a712(0x81f),_0x449905=_0x45051b['difficultyValue']!==_0x57a712(0x37a)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x45051b[_0x57a712(0xb72)]+'\x22':'',_0x449595=_0x45051b['complexityValue']!==_0x57a712(0x8b3)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x45051b[_0x57a712(0x19e)]+_0x57a712(0x8cd):'';let _0x2d4d0e='';_0x45051b['selectedTopicNames']&&_0x45051b['selectedTopicNames'][_0x57a712(0x1eb)]>0x0&&(_0x2d4d0e=_0x57a712(0x5f3)+_0x45051b[_0x57a712(0x4ea)][_0x57a712(0x47c)](',\x20')+'.');let _0xe3d9e2='';_0x1c78b2&&(_0xe3d9e2='โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย');let _0x2ea45e='',_0x2fcc7d='',_0x330a75,_0x2229d0=_0x57a712(0x2e8)+_0x264684+'\x22';if(!_0x264684&&_0x24f645)_0x2229d0=_0x57a712(0x734);else!_0x264684&&!_0x24f645&&(_0x2229d0='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x543cba={'type':'OBJECT','properties':{'questionText':{'type':_0x57a712(0x5b8)},'options':{'type':_0x57a712(0x8c2),'items':{'type':_0x57a712(0x5b8)}},'correctAnswerIndex':{'type':_0x57a712(0x31a)},'explanation':{'type':_0x57a712(0x5b8)},'imageCode':{'type':'STRING'}},'required':[_0x57a712(0x41e),'options',_0x57a712(0xaca),_0x57a712(0x823)]},_0x3ab445={'type':_0x57a712(0x417),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x57a712(0x5b8)},'imageCode':{'type':_0x57a712(0x5b8)}},'required':[_0x57a712(0x41e),_0x57a712(0x841),_0x57a712(0x823)]},_0x190b22={'type':_0x57a712(0x417),'properties':{'questionText':{'type':_0x57a712(0x5b8)},'questionType':{'type':_0x57a712(0x5b8),'enum':[_0x57a712(0x75c),'short_answer']},'options':{'type':_0x57a712(0x8c2),'items':{'type':_0x57a712(0x5b8)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x57a712(0x5b8)},'imageCode':{'type':_0x57a712(0x5b8)}},'required':[_0x57a712(0x41e),_0x57a712(0xb6e),_0x57a712(0x823)]},_0x7911b6={'type':'OBJECT','properties':{'questionText':{'type':_0x57a712(0x5b8)},'correctAnswer':{'type':_0x57a712(0x351)},'explanation':{'type':_0x57a712(0x5b8)},'imageCode':{'type':_0x57a712(0x5b8)}},'required':['questionText',_0x57a712(0x7c3),_0x57a712(0x823)]},_0x2e04d4={'type':_0x57a712(0x417),'properties':{'questionType':{'type':_0x57a712(0x5b8),'enum':[_0x57a712(0x554)]},'stem':{'type':_0x57a712(0x5b8)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x57a712(0x8c2),'items':{'type':_0x57a712(0x5b8)}},'explanation':{'type':_0x57a712(0x5b8)},'imageCode':{'type':_0x57a712(0x5b8)}},'required':[_0x57a712(0xb6e),_0x57a712(0x458),_0x57a712(0x53e),_0x57a712(0x610),_0x57a712(0x823)]};let _0x5b29be;if(_0x2f6eec!==null){const _0xecda34=currentQuizData[_0x57a712(0x7bb)][_0x2f6eec][_0x57a712(0xb6e)],_0x5b1b55=_0x45051b[_0x57a712(0x748)]?_0x57a712(0xb59):'';_0x2ea45e=_0x57a712(0x430)+_0x2229d0+'\x20'+_0x2d4d0e+'\x20'+_0x449905+_0x57a712(0x931)+_0x5b1b55+'\x20'+simpleMathPrompt;if(_0xecda34===_0x57a712(0x75c))_0x330a75=_0x543cba;else{if(_0xecda34===_0x57a712(0x554))_0x330a75={'type':_0x57a712(0x417),'properties':{'questionType':{'type':'STRING','enum':[_0x57a712(0x554)]},'stem':{'type':_0x57a712(0x5b8)},'correctResponse':{'type':_0x57a712(0x5b8)},'explanation':{'type':_0x57a712(0x5b8)},'imageCode':{'type':_0x57a712(0x5b8)}},'required':[_0x57a712(0xb6e),'stem','correctResponse','explanation']};else _0x330a75=_0x3ab445;}_0x5b29be=_0x330a75;}else{const _0x412ca3=_0x45051b['includeImages']?_0x57a712(0x367):'';switch(_0x45051b[_0x57a712(0xa1e)]){case _0x57a712(0x75c):_0x2ea45e='สร้างแบบทดสอบปรนัย'+_0x4370ea+'\x20'+_0x45051b[_0x57a712(0x28b)]+_0x57a712(0x472)+_0x2229d0+'\x20'+_0x2d4d0e+'\x20'+_0x449905+'\x20'+_0x449595+'\x20'+_0xe3d9e2+_0x57a712(0x1fc)+_0x45051b[_0x57a712(0x1f4)]+_0x57a712(0x4fc)+_0x412ca3+'\x20'+simpleMathPrompt,_0x330a75=_0x543cba;break;case _0x57a712(0x248):_0x2ea45e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4370ea+'\x20'+_0x45051b[_0x57a712(0x28b)]+_0x57a712(0x472)+_0x2229d0+'\x20'+_0x2d4d0e+'\x20'+_0x449905+'\x20'+_0x449595+'\x20'+_0xe3d9e2+_0x57a712(0x90d)+_0x45051b[_0x57a712(0x1f4)]+_0x57a712(0x8dd)+_0x412ca3+'\x20'+simpleMathPrompt,_0x330a75=_0x543cba;break;case _0x57a712(0xbbd):_0x2ea45e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4370ea+'\x20'+_0x45051b[_0x57a712(0x28b)]+_0x57a712(0x472)+_0x2229d0+'\x20'+_0x2d4d0e+'\x20'+_0x449905+'\x20'+_0x449595+'\x20'+_0xe3d9e2+_0x57a712(0x2d3)+_0x412ca3+'\x20'+simpleMathPrompt,_0x330a75=_0x3ab445;break;case _0x57a712(0x8b3):_0x2ea45e=_0x57a712(0x884)+_0x4370ea+'\x20'+_0x45051b[_0x57a712(0x28b)]+_0x57a712(0x472)+_0x2229d0+'\x20'+_0x2d4d0e+'\x20'+_0x449905+'\x20'+_0x449595+'\x20'+_0xe3d9e2+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x45051b[_0x57a712(0x1f4)]+'\x20ตัวเลือก.\x20'+_0x412ca3+'\x20'+simpleMathPrompt+'.',_0x330a75=_0x190b22;break;case _0x57a712(0xa97):_0x2ea45e=_0x57a712(0xacf)+_0x4370ea+'\x20'+_0x45051b['numQuestions']+_0x57a712(0x472)+_0x2229d0+'\x20'+_0x2d4d0e+'\x20'+_0x449905+'\x20'+_0x449595+'\x20'+_0xe3d9e2+_0x57a712(0x455)+_0x412ca3+'\x20'+simpleMathPrompt,_0x330a75=_0x7911b6;break;case'matching':_0x2ea45e=_0x57a712(0x7d9)+_0x4370ea+'\x20'+_0x45051b[_0x57a712(0x28b)]+_0x57a712(0x20a)+_0x2229d0+'\x20'+_0x2d4d0e+'\x20'+_0x449905+'\x20'+_0x449595+'\x20'+_0xe3d9e2+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x412ca3+'\x20'+simpleMathPrompt,_0x330a75=_0x2e04d4;break;}_0x5b29be={'type':_0x57a712(0x417),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x57a712(0x8c2),'items':_0x330a75}},'required':['topic',_0x57a712(0x7bb)]};}const _0x364f6b=_0x57a712(0xb4d);_0x24f645?(_0x42667e?_0x2ea45e='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x24f645+_0x57a712(0x39c)+_0x2ea45e+_0x364f6b:_0x2ea45e=_0x57a712(0x4b1)+_0x24f645+_0x57a712(0x39c)+_0x2ea45e,_0x2fcc7d=_0x57a712(0x210)):(_0x42667e&&(_0x2ea45e+=_0x364f6b),_0x2fcc7d=_0x57a712(0x761));let _0x1043e7;return _0x1c78b2?_0x1043e7=[{'text':_0x2ea45e},..._0x1c78b2]:_0x1043e7=_0x2ea45e,handleApiCall(_0x1043e7,_0x2fcc7d,_0x5b29be,_0x2f6eec,!![],_0x259dcb,_0x6f757);}async function generateQuizFromFile(_0x1627c6,_0xe5668d){const _0x2fc610=_0x314764,_0x8b8c5f=document['getElementById'](_0x2fc610(0xb06))['value']['trim'](),_0x4d3cc9=document[_0x2fc610(0x6ce)](_0x2fc610(0xb2c))['value'],_0x513537=document[_0x2fc610(0x6ce)](_0x2fc610(0x971))['value'],_0x3edf29=document[_0x2fc610(0x6ce)](_0x2fc610(0x647))[_0x2fc610(0x3e6)],_0x4e507b=document[_0x2fc610(0x6ce)](_0x2fc610(0x6ad))['checked'],_0x3718f9=document['getElementById'](_0x2fc610(0x2c6))[_0x2fc610(0x5dc)],_0x2ef5a1=_0x3718f9?'':_0x2fc610(0x81f),_0x59a942=document['getElementById']('original-mode-checkbox')[_0x2fc610(0x5dc)];let _0x4ee93a='',_0x1a6f64;const _0x407b23=_0x4e507b?_0x2fc610(0x367):'';if(_0x59a942)_0x4ee93a=_0x2fc610(0x742)+_0x407b23+_0x2fc610(0x462)+simpleMathPrompt+'\x0a',_0x1a6f64={'type':'OBJECT','properties':{'questionText':{'type':_0x2fc610(0x5b8)},'questionType':{'type':'STRING','enum':[_0x2fc610(0x75c),_0x2fc610(0x8a4),_0x2fc610(0xa97),_0x2fc610(0x554)]},'options':{'type':_0x2fc610(0x8c2),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2fc610(0x5b8)},'correctAnswer':{'type':_0x2fc610(0x351)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2fc610(0x5b8)},'allResponses':{'type':'ARRAY','items':{'type':_0x2fc610(0x5b8)}},'explanation':{'type':_0x2fc610(0x5b8)},'imageCode':{'type':'STRING'}},'required':[_0x2fc610(0xb6e),_0x2fc610(0x823)]};else{let _0x56106c=_0x2fc610(0x2e8)+_0x8b8c5f+'\x22';!_0x8b8c5f&&(_0x56106c=_0x2fc610(0x487));switch(_0x4d3cc9){case'multiple_choice':_0x4ee93a=_0x2fc610(0x7a9)+_0x2ef5a1+'\x20'+_0x513537+_0x2fc610(0x472)+_0x56106c+_0x2fc610(0x1fc)+_0x3edf29+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x407b23+'\x20'+simpleMathPrompt,_0x1a6f64={'type':_0x2fc610(0x417),'properties':{'questionText':{'type':_0x2fc610(0x5b8)},'options':{'type':_0x2fc610(0x8c2),'items':{'type':_0x2fc610(0x5b8)}},'correctAnswerIndex':{'type':_0x2fc610(0x31a)},'explanation':{'type':_0x2fc610(0x5b8)},'imageCode':{'type':_0x2fc610(0x5b8)}},'required':['questionText',_0x2fc610(0x9b5),_0x2fc610(0xaca),_0x2fc610(0x823)]};break;case _0x2fc610(0x248):_0x4ee93a=_0x2fc610(0xa50)+_0x2ef5a1+'\x20'+_0x513537+_0x2fc610(0x472)+_0x56106c+_0x2fc610(0x90d)+_0x3edf29+_0x2fc610(0x8dd)+_0x407b23+'\x20'+simpleMathPrompt,_0x1a6f64={'type':_0x2fc610(0x417),'properties':{'questionText':{'type':_0x2fc610(0x5b8)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2fc610(0x31a)},'explanation':{'type':_0x2fc610(0x5b8)},'imageCode':{'type':'STRING'}},'required':[_0x2fc610(0x41e),_0x2fc610(0x9b5),_0x2fc610(0xaca),'explanation']};break;case _0x2fc610(0xbbd):_0x4ee93a=_0x2fc610(0xa50)+_0x2ef5a1+'\x20'+_0x513537+_0x2fc610(0x472)+_0x56106c+_0x2fc610(0x2d3)+_0x407b23+'\x20'+simpleMathPrompt,_0x1a6f64={'type':_0x2fc610(0x417),'properties':{'questionText':{'type':_0x2fc610(0x5b8)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2fc610(0x5b8)},'imageCode':{'type':_0x2fc610(0x5b8)}},'required':[_0x2fc610(0x41e),_0x2fc610(0x841),_0x2fc610(0x823)]};break;case _0x2fc610(0x8b3):_0x4ee93a='สร้างแบบทดสอบ'+_0x2ef5a1+'\x20'+_0x513537+_0x2fc610(0x472)+_0x56106c+_0x2fc610(0x67b)+_0x3edf29+_0x2fc610(0x578)+_0x407b23+'\x20'+simpleMathPrompt+_0x2fc610(0x317),_0x1a6f64={'type':_0x2fc610(0x417),'properties':{'questionText':{'type':_0x2fc610(0x5b8)},'questionType':{'type':'STRING','enum':[_0x2fc610(0x75c),_0x2fc610(0x8a4)]},'options':{'type':_0x2fc610(0x8c2),'items':{'type':_0x2fc610(0x5b8)}},'correctAnswerIndex':{'type':_0x2fc610(0x31a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2fc610(0x5b8)},'imageCode':{'type':_0x2fc610(0x5b8)}},'required':[_0x2fc610(0x41e),'questionType',_0x2fc610(0x823)]};break;case _0x2fc610(0xa97):_0x4ee93a=_0x2fc610(0xacf)+_0x2ef5a1+'\x20'+_0x513537+'\x20ข้อ\x20'+_0x56106c+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x407b23+'\x20'+simpleMathPrompt,_0x1a6f64={'type':_0x2fc610(0x417),'properties':{'questionText':{'type':_0x2fc610(0x5b8)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x2fc610(0x5b8)},'imageCode':{'type':'STRING'}},'required':[_0x2fc610(0x41e),_0x2fc610(0x7c3),_0x2fc610(0x823)]};break;case'matching':_0x4ee93a='สร้างชุดคำถามจับคู่'+_0x2ef5a1+'\x20'+_0x513537+_0x2fc610(0x20a)+_0x56106c+_0x2fc610(0x9e2)+_0x513537+_0x2fc610(0x2b1)+_0x407b23+'\x20'+simpleMathPrompt,_0x1a6f64={'type':_0x2fc610(0x417),'properties':{'questionType':{'type':_0x2fc610(0x5b8),'enum':[_0x2fc610(0x554)]},'stem':{'type':_0x2fc610(0x5b8)},'correctResponse':{'type':_0x2fc610(0x5b8)},'allResponses':{'type':_0x2fc610(0x8c2),'items':{'type':_0x2fc610(0x5b8)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2fc610(0x5b8)}},'required':[_0x2fc610(0xb6e),_0x2fc610(0x458),_0x2fc610(0x53e),_0x2fc610(0x610),_0x2fc610(0x823)]};break;}}const _0x5d95b0={'type':'OBJECT','properties':{'topic':{'type':_0x2fc610(0x5b8)},'questions':{'type':'ARRAY','items':_0x1a6f64}},'required':[_0x2fc610(0x265),'questions']},_0x29fc0e=_0x2fc610(0x307)+_0x4ee93a,_0x4cfaab={'contents':[{'parts':[{'text':_0x29fc0e},{'inlineData':{'mimeType':_0x1627c6,'data':_0xe5668d}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x5d95b0}};return handleApiCall(_0x4cfaab[_0x2fc610(0x44e)][0x0][_0x2fc610(0x5f2)],_0x2fc610(0x477),_0x5d95b0);}async function handleApiCall(_0x244304,_0x4fe72b,_0x592c3e,_0x464fef=null,_0x1544b0=!![],_0x46244c=null,_0x3c4426=null){const _0x28543f=_0x314764,_0xa99ae8=document[_0x28543f(0x6ce)](_0x28543f(0xc0d)),_0x28e28c=document['getElementById'](_0x28543f(0x3f8)),_0x2ea752=document[_0x28543f(0x6ce)]('loader-text'),_0x5638eb=document['getElementById'](_0x28543f(0x600));_0xa99ae8['classList']['remove']('hidden');_0x464fef===null&&_0x1544b0&&(_0x5638eb[_0x28543f(0x9c5)]='');_0x28e28c[_0x28543f(0x68d)]['remove'](_0x28543f(0xbc7)),_0x2ea752[_0x28543f(0xa88)]=_0x4fe72b,document['getElementById'](_0x28543f(0x34f))[_0x28543f(0x915)]=!![],document[_0x28543f(0x6ce)](_0x28543f(0x61e))['disabled']=!![],document[_0x28543f(0x6ce)]('generate-from-link-btn')[_0x28543f(0x915)]=!![];const _0x15539e=document[_0x28543f(0x6ce)](_0x28543f(0x9d1));if(_0x15539e)_0x15539e[_0x28543f(0x915)]=!![];const _0x29f3ca=document['getElementById']('generate-from-blueprint-btn');if(_0x29f3ca)_0x29f3ca[_0x28543f(0x915)]=!![];const _0x298c2b=document['getElementById']('generate-from-parallel-test-btn');if(_0x298c2b)_0x298c2b[_0x28543f(0x915)]=!![];try{const _0x3dd507={'responseMimeType':'application/json','responseSchema':_0x592c3e},_0x1b48fb=Array[_0x28543f(0x254)](_0x244304)?_0x244304:[{'text':_0x244304}],_0x448efe={'contents':[{'role':_0x28543f(0x860),'parts':_0x1b48fb}],'generationConfig':_0x3dd507},_0x301445=_0x28543f(0xb4e),_0x376424='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x301445,_0x2d7196=await fetch(_0x376424,{'method':_0x28543f(0x547),'headers':{'Content-Type':'application/json'},'body':JSON[_0x28543f(0x73a)](_0x448efe)});if(!_0x2d7196['ok']){const _0x4c5b59=await _0x2d7196[_0x28543f(0xb56)]();console[_0x28543f(0x9b3)](_0x28543f(0xc29),_0x4c5b59);throw new Error(_0x28543f(0xb00)+_0x2d7196[_0x28543f(0xbfc)]);}const _0x5da804=await _0x2d7196[_0x28543f(0x2a7)]();if(_0x5da804[_0x28543f(0x468)]?.[0x0]?.['content']?.['parts']?.[0x0]){let _0x2b1a78=_0x5da804[_0x28543f(0x468)][0x0][_0x28543f(0x22e)][_0x28543f(0x5f2)][0x0][_0x28543f(0xb56)];if(_0x2b1a78['startsWith']('```json'))_0x2b1a78=_0x2b1a78[_0x28543f(0xb9d)](0x7,_0x2b1a78['length']-0x3)[_0x28543f(0x1b6)]();else _0x2b1a78[_0x28543f(0x6af)](_0x28543f(0x94d))&&(_0x2b1a78=_0x2b1a78[_0x28543f(0xb9d)](0x3,_0x2b1a78['length']-0x3)[_0x28543f(0x1b6)]());let _0x2af1b3=JSON[_0x28543f(0x36d)](_0x2b1a78);if(_0x1544b0){if(_0x464fef!==null){if(_0x2af1b3[_0x28543f(0xb6e)]==='matching_item'){const _0x39c330=currentQuizData['questions'][_0x28543f(0x83a)](_0x197c85=>_0x197c85[_0x28543f(0x53e)]);_0x2af1b3[_0x28543f(0x610)]=_0x39c330;const _0x2c0399=currentQuizData[_0x28543f(0x7bb)][_0x464fef][_0x28543f(0x53e)],_0x354a76=_0x39c330[_0x28543f(0x9e4)](_0x2c0399);_0x354a76>-0x1&&(_0x39c330[_0x354a76]=_0x2af1b3[_0x28543f(0x53e)]),currentQuizData[_0x28543f(0x7bb)]['forEach'](_0x1497f0=>{const _0x3e732c=_0x28543f;if(_0x1497f0['questionType']===_0x3e732c(0x554))_0x1497f0[_0x3e732c(0x610)]=_0x39c330;});}currentQuizData[_0x28543f(0x7bb)][_0x464fef]=_0x2af1b3,displayGeneratedQuiz(currentQuizData,_0x46244c,_0x3c4426);}else{currentQuizData=_0x2af1b3;const _0x14adf1=document['getElementById']('quiz-type-select')[_0x28543f(0x3e6)];currentQuizData[_0x28543f(0xa1e)]=_0x14adf1,currentQuizData[_0x28543f(0x7bb)]&&currentQuizData[_0x28543f(0x7bb)]['forEach'](_0x191e2b=>{const _0x10e441=_0x28543f;if(!_0x191e2b[_0x10e441(0xb6e)]){if(_0x14adf1==='fill_in_with_choices')_0x191e2b['questionType']=_0x10e441(0x75c);else{if(_0x14adf1===_0x10e441(0xbbd))_0x191e2b[_0x10e441(0xb6e)]=_0x10e441(0x8a4);else _0x191e2b[_0x10e441(0xb6e)]=_0x14adf1;}}}),displayGeneratedQuiz(currentQuizData,_0x46244c,_0x3c4426);}}return _0x2af1b3;}else{let _0x24aeeb=_0x28543f(0x5df);if(_0x5da804[_0x28543f(0x861)]?.[_0x28543f(0xc14)])_0x24aeeb=_0x28543f(0x6f8)+_0x5da804[_0x28543f(0x861)][_0x28543f(0xc14)]+'.';else _0x5da804[_0x28543f(0x468)]?.[0x0]?.['finishReason']&&_0x5da804[_0x28543f(0x468)][0x0]['finishReason']!=='STOP'&&(_0x24aeeb=_0x28543f(0x5ea)+_0x5da804['candidates'][0x0][_0x28543f(0x1ef)]+'.');console[_0x28543f(0x9b3)](_0x24aeeb,JSON[_0x28543f(0x73a)](_0x5da804));throw new Error(_0x24aeeb);}}catch(_0x3b4164){console[_0x28543f(0x9b3)]('Error\x20in\x20handleApiCall:',_0x3b4164),showMessage(_0x28543f(0x7cf)+_0x3b4164['message']);_0x464fef===null&&_0x1544b0&&(_0x5638eb[_0x28543f(0x9c5)]=_0x28543f(0xb88));throw _0x3b4164;}finally{_0x28e28c[_0x28543f(0x68d)][_0x28543f(0x8f4)](_0x28543f(0xbc7)),document[_0x28543f(0x6ce)]('generate-from-topic-btn')[_0x28543f(0x915)]=![],document[_0x28543f(0x6ce)](_0x28543f(0x61e))['disabled']=![],document[_0x28543f(0x6ce)](_0x28543f(0x1a3))['disabled']=![];if(_0x15539e)_0x15539e[_0x28543f(0x915)]=![];if(_0x29f3ca)_0x29f3ca[_0x28543f(0x915)]=![];if(_0x298c2b)_0x298c2b[_0x28543f(0x915)]=![];}}function exitFullscreen(){const _0x566b32=_0x314764;if(document[_0x566b32(0x8d8)])document[_0x566b32(0x8d8)]()[_0x566b32(0x5cb)](_0x425ed5=>console[_0x566b32(0x9b3)](_0x425ed5));else{if(document[_0x566b32(0x83c)])document[_0x566b32(0x83c)]();else document[_0x566b32(0x324)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x17b27f=_0x314764,_0x4d0b37=document[_0x17b27f(0x485)];if(_0x4d0b37[_0x17b27f(0x31b)])_0x4d0b37[_0x17b27f(0x31b)]()[_0x17b27f(0x5cb)](_0x1cfd43=>{const _0x253835=_0x17b27f;console[_0x253835(0x9b3)](_0x253835(0x6d1)+_0x1cfd43[_0x253835(0x86b)]+'\x20('+_0x1cfd43[_0x253835(0x924)]+')');});else{if(_0x4d0b37[_0x17b27f(0x567)])_0x4d0b37[_0x17b27f(0x567)]();else _0x4d0b37[_0x17b27f(0x6c8)]&&_0x4d0b37['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x3d5ba4=_0x314764;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x3d5ba4(0xa26),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x3d5ba4(0x1a2)),document[_0x3d5ba4(0x6ce)](_0x3d5ba4(0x5d9))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x3d5ba4(0x5af)]('visibilitychange',handleVisibilityChange),document[_0x3d5ba4(0x5af)]('fullscreenchange',handleFullscreenChange)):showMessage(_0x3d5ba4(0xc17)+cheatAttempts+'/'+maxCheatAttempts+_0x3d5ba4(0xbb1),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4224e8=_0x314764;if(currentMode===_0x4224e8(0x6ae)||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document['visibilityState']===_0x4224e8(0x7c9)&&(console[_0x4224e8(0xa58)](_0x4224e8(0x8a6)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x2b87bc=_0x314764;if(currentMode===_0x2b87bc(0x6ae)||!isQuizActive)return;!document[_0x2b87bc(0x23f)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x5db904,_0x5d25f8=null,_0x15f801=null){const _0xb12266=_0x314764,_0x44333a=document[_0xb12266(0x6ce)](_0xb12266(0x600));let _0x131958='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x5db904[_0xb12266(0x265)]+_0xb12266(0x887);_0x5db904['questions'][_0xb12266(0x97e)]((_0x156e7c,_0x2ca5b3)=>{const _0xc99c4d=_0xb12266;!_0x156e7c['id']&&(_0x156e7c['id']='q_'+Date[_0xc99c4d(0x72c)]()+'_'+_0x2ca5b3);const _0x2fd298=_0x156e7c[_0xc99c4d(0xb6e)]||_0x5db904[_0xc99c4d(0xa1e)];_0x131958+=_0xc99c4d(0x2e1)+_0x2ca5b3+_0xc99c4d(0x28d)+_0x2ca5b3+_0xc99c4d(0x38c)+_0x2ca5b3+_0xc99c4d(0x59a);switch(_0x2fd298){case'matching_item':_0x131958+=_0xc99c4d(0x864)+_0x2ca5b3+'\x22>'+(_0x2ca5b3+0x1)+'.\x20'+_0x156e7c[_0xc99c4d(0x458)]+_0xc99c4d(0x1ad);_0x156e7c['imageCode']&&(_0x131958+=_0xc99c4d(0x72e)+_0x2ca5b3+_0xc99c4d(0xb99)+_0x156e7c[_0xc99c4d(0x25f)]+_0xc99c4d(0x67d));_0x131958+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x2ca5b3+'\x22>'+_0x156e7c[_0xc99c4d(0x53e)]+_0xc99c4d(0x61c),_0x131958+=_0xc99c4d(0x6ba)+_0x2ca5b3+'\x22>'+_0x156e7c['explanation']+'</span></div>';break;case _0xc99c4d(0x8a4):_0x131958+=_0xc99c4d(0x864)+_0x2ca5b3+'\x22>'+(_0x2ca5b3+0x1)+'.\x20'+_0x156e7c['questionText']+_0xc99c4d(0x1ad);_0x156e7c[_0xc99c4d(0x25f)]&&(_0x131958+='<div\x20id=\x22q-image-container-'+_0x2ca5b3+_0xc99c4d(0xb99)+_0x156e7c['imageCode']+_0xc99c4d(0x67d));_0x131958+=_0xc99c4d(0x320)+_0x2ca5b3+'\x22>'+_0x156e7c['idealAnswer']+_0xc99c4d(0x61c),_0x131958+=_0xc99c4d(0x6ba)+_0x2ca5b3+'\x22>'+_0x156e7c['explanation']+_0xc99c4d(0x61c);break;case _0xc99c4d(0xa97):_0x131958+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2ca5b3+'\x22>'+(_0x2ca5b3+0x1)+'.\x20'+_0x156e7c[_0xc99c4d(0x41e)]+_0xc99c4d(0x1ad);_0x156e7c['imageCode']&&(_0x131958+=_0xc99c4d(0x72e)+_0x2ca5b3+_0xc99c4d(0xb99)+_0x156e7c[_0xc99c4d(0x25f)]+_0xc99c4d(0x67d));_0x131958+=_0xc99c4d(0x64e)+(_0x156e7c[_0xc99c4d(0x7c3)]===!![]?_0xc99c4d(0x905):'')+_0xc99c4d(0x70e)+(_0x156e7c[_0xc99c4d(0x7c3)]===![]?_0xc99c4d(0x905):'')+_0xc99c4d(0x80f),_0x131958+=_0xc99c4d(0x6ba)+_0x2ca5b3+'\x22>'+_0x156e7c[_0xc99c4d(0x823)]+_0xc99c4d(0x61c);break;case _0xc99c4d(0x587):case _0xc99c4d(0x75c):default:_0x131958+=_0xc99c4d(0x864)+_0x2ca5b3+'\x22>'+(_0x2ca5b3+0x1)+'.\x20'+_0x156e7c['questionText']+_0xc99c4d(0x1ad);_0x156e7c[_0xc99c4d(0x25f)]&&(_0x131958+=_0xc99c4d(0x72e)+_0x2ca5b3+_0xc99c4d(0xb99)+_0x156e7c[_0xc99c4d(0x25f)]+_0xc99c4d(0x67d));_0x131958+=_0xc99c4d(0x2b0)+_0x2ca5b3+_0xc99c4d(0x397)+(_0x156e7c[_0xc99c4d(0x9b5)]||[])['map']((_0x121331,_0x109a58)=>'<li\x20class=\x22'+(_0x109a58===_0x156e7c[_0xc99c4d(0xaca)]?_0xc99c4d(0x905):'')+'\x22>'+_0x121331+_0xc99c4d(0x302))[_0xc99c4d(0x47c)]('')+_0xc99c4d(0x4d2),_0x131958+=_0xc99c4d(0x6ba)+_0x2ca5b3+'\x22>'+_0x156e7c[_0xc99c4d(0x823)]+'</span></div>';break;}_0x131958+=_0xc99c4d(0x67d);}),_0x131958+=_0xb12266(0xbc5),_0x44333a[_0xb12266(0x9c5)]=_0x131958,document[_0xb12266(0x3e7)](_0xb12266(0x8a2))['forEach'](_0x1e0285=>_0x1e0285[_0xb12266(0x9cd)](_0xb12266(0x58a),handleEditQuestion)),document['querySelectorAll'](_0xb12266(0x316))[_0xb12266(0x97e)](_0x14823a=>_0x14823a['addEventListener'](_0xb12266(0x58a),handleRegenerateQuestion)),document[_0xb12266(0x6ce)](_0xb12266(0x2a8))[_0xb12266(0x9cd)]('click',exportQuizAsWorksheetPDF),document[_0xb12266(0x6ce)](_0xb12266(0x73e))[_0xb12266(0x9cd)](_0xb12266(0x58a),handleVerifyAnswers);const _0x1fe730=document[_0xb12266(0x6ce)](_0xb12266(0xc07));if(_0x1fe730){const _0x417ad1=_0x5d25f8||currentProjectId;_0x1fe730[_0xb12266(0x9cd)](_0xb12266(0x58a),()=>saveQuiz(_0x417ad1,_0x15f801));}if(window[_0xb12266(0x649)])window[_0xb12266(0x649)][_0xb12266(0x966)]([_0x44333a]);}function handleRegenerateQuestion(_0x25fe15){const _0x8b28a7=_0x314764,_0x155c8a=_0x25fe15[_0x8b28a7(0xade)]['dataset'][_0x8b28a7(0x944)],_0x409eb3=currentQuizData[_0x8b28a7(0x265)];showMessage(_0x8b28a7(0xaf2)+(parseInt(_0x155c8a)+0x1)+_0x8b28a7(0xab2)),generateQuiz(_0x409eb3,null,parseInt(_0x155c8a));}function getPointerPosition(_0x5131bd,_0x471526){const _0x1a9718=_0x314764,_0x317bc6=_0x5131bd['getScreenCTM']();let _0x4fec8c,_0x3adf74;return _0x471526[_0x1a9718(0x77b)]&&_0x471526[_0x1a9718(0x77b)][_0x1a9718(0x1eb)]>0x0?(_0x4fec8c=_0x471526[_0x1a9718(0x77b)][0x0][_0x1a9718(0x733)],_0x3adf74=_0x471526[_0x1a9718(0x77b)][0x0][_0x1a9718(0x507)]):(_0x4fec8c=_0x471526[_0x1a9718(0x733)],_0x3adf74=_0x471526['clientY']),{'x':(_0x4fec8c-_0x317bc6['e'])/_0x317bc6['a'],'y':(_0x3adf74-_0x317bc6['f'])/_0x317bc6['d']};}function startDrag(_0x121fa5){const _0x192ac1=_0x314764;_0x121fa5['type']===_0x192ac1(0x329)&&_0x121fa5['preventDefault']();const _0x10ec18=_0x121fa5[_0x192ac1(0x3cb)][_0x192ac1(0x2ff)](_0x192ac1(0x7b0));if(_0x10ec18){draggedSvgElement=_0x10ec18;const _0x45cc26=draggedSvgElement['ownerSVGElement'],_0x15eca7=getPointerPosition(_0x45cc26,_0x121fa5);svgOffset['x']=_0x15eca7['x']-parseFloat(draggedSvgElement[_0x192ac1(0x781)](null,'x')),svgOffset['y']=_0x15eca7['y']-parseFloat(draggedSvgElement[_0x192ac1(0x781)](null,'y'));}}function calculateItemAnalysis(_0x357af5,_0x1d743d){const _0x10f8f7=_0x314764,_0x22a285={};if(_0x1d743d[_0x10f8f7(0x1eb)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x384f56=[..._0x1d743d][_0x10f8f7(0x588)]((_0x2c497f,_0x354a5c)=>{const _0x595bda=_0x10f8f7,_0x4f7097=_0x354a5c[_0x595bda(0x319)]-_0x2c497f[_0x595bda(0x319)];if(_0x4f7097!==0x0)return _0x4f7097;const _0x4745fe=_0x2c497f[_0x595bda(0x23c)]?.[_0x595bda(0x1eb)]||0x1,_0x219321=_0x354a5c[_0x595bda(0x23c)]?.[_0x595bda(0x1eb)]||0x1,_0x51d90d=_0x4745fe-_0x219321;if(_0x51d90d!==0x0)return _0x51d90d;const _0xdca418=new Date(_0x2c497f[_0x595bda(0xbd5)]),_0x3b54e2=new Date(_0x354a5c['latestSubmittedAt']),_0x152547=_0xdca418-_0x3b54e2;if(_0x152547!==0x0)return _0x152547;return _0x2c497f[_0x595bda(0x43f)][_0x595bda(0xb5d)](_0x354a5c[_0x595bda(0x43f)],'th');}),_0x4345e6=_0x384f56[_0x10f8f7(0x1eb)],_0x545099=Math[_0x10f8f7(0x2c2)](0x1,Math[_0x10f8f7(0x7d0)](_0x4345e6*0.33));if(_0x545099===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x404386=_0x384f56['slice'](0x0,_0x545099),_0x472782=_0x384f56[_0x10f8f7(0x8e8)](-_0x545099),_0xd2aea3=_0x404386[_0x10f8f7(0x83a)](_0x753457=>_0x753457[_0x10f8f7(0x43f)]),_0x42d840=_0x472782[_0x10f8f7(0x83a)](_0x4813ce=>_0x4813ce['studentName']);return _0x357af5['questions']['forEach']((_0x125547,_0x26fb27)=>{const _0x35687=_0x10f8f7,_0x236f08=_0x125547[_0x35687(0x458)]||_0x125547[_0x35687(0x41e)];let _0x4fc9ef=0x0,_0x4ca7c0=0x0,_0x2fbd08=0x0;const _0x556578=[],_0x59a590=[];_0x404386[_0x35687(0x97e)](_0x3b82da=>{const _0x9e3d51=_0x35687,_0x583945=_0x3b82da[_0x9e3d51(0x23c)][_0x3b82da['attempts'][_0x9e3d51(0x1eb)]-0x1],_0x5addbd=_0x583945['answers'][_0x9e3d51(0xae2)](_0x17b100=>_0x17b100[_0x9e3d51(0x182)]===_0x236f08);_0x556578[_0x9e3d51(0x403)]({'name':_0x3b82da['studentName'],'isCorrect':_0x5addbd?_0x5addbd['isCorrect']:![]}),_0x5addbd&&_0x5addbd[_0x9e3d51(0x48b)]&&_0x4ca7c0++;}),_0x472782[_0x35687(0x97e)](_0x3d1f92=>{const _0x41e054=_0x35687,_0x3ea3bd=_0x3d1f92[_0x41e054(0x23c)][_0x3d1f92[_0x41e054(0x23c)][_0x41e054(0x1eb)]-0x1],_0x445de1=_0x3ea3bd[_0x41e054(0xb0a)]['find'](_0x3d8cd0=>_0x3d8cd0[_0x41e054(0x182)]===_0x236f08);_0x59a590[_0x41e054(0x403)]({'name':_0x3d1f92['studentName'],'isCorrect':_0x445de1?_0x445de1['isCorrect']:![]}),_0x445de1&&_0x445de1[_0x41e054(0x48b)]&&_0x2fbd08++;}),_0x1d743d[_0x35687(0x97e)](_0x4ec116=>{const _0x12c8b3=_0x35687,_0x2bae85=_0x4ec116[_0x12c8b3(0x23c)][_0x4ec116['attempts']['length']-0x1],_0x59d99e=_0x2bae85[_0x12c8b3(0xb0a)]['find'](_0x5c6935=>_0x5c6935[_0x12c8b3(0x182)]===_0x236f08);_0x59d99e&&_0x59d99e[_0x12c8b3(0x48b)]&&_0x4fc9ef++;});const _0x1b2d38=_0x4345e6>0x0?_0x4fc9ef/_0x4345e6:0x0,_0x110883=_0x545099>0x0?_0x4ca7c0/_0x545099-_0x2fbd08/_0x545099:0x0;_0x22a285[_0x26fb27]={'p':_0x1b2d38,'r':_0x110883,'upperGroupResponders':_0x556578,'lowerGroupResponders':_0x59a590};}),{'perQuestionStats':_0x22a285,'overallGroups':{'upperGroupNames':_0xd2aea3,'lowerGroupNames':_0x42d840}};}function drag(_0x427813){const _0x1d8d6e=_0x314764;if(draggedSvgElement){_0x427813[_0x1d8d6e(0x668)]();const _0x2573ea=draggedSvgElement[_0x1d8d6e(0x211)],_0x4c00bf=getPointerPosition(_0x2573ea,_0x427813),_0x4e42ea=_0x2573ea[_0x1d8d6e(0x17e)][_0x1d8d6e(0xae0)];let _0x379e94=_0x4c00bf['x']-svgOffset['x'],_0x4714d8=_0x4c00bf['y']-svgOffset['y'];const _0x287b02=draggedSvgElement[_0x1d8d6e(0x76d)]();_0x379e94=Math[_0x1d8d6e(0x2c2)](_0x4e42ea['x'],Math['min'](_0x379e94,_0x4e42ea['x']+_0x4e42ea[_0x1d8d6e(0x239)]-_0x287b02[_0x1d8d6e(0x239)])),_0x4714d8=Math[_0x1d8d6e(0x2c2)](_0x4e42ea['y'],Math[_0x1d8d6e(0x556)](_0x4714d8,_0x4e42ea['y']+_0x4e42ea[_0x1d8d6e(0x9f8)]-_0x287b02['height'])),draggedSvgElement[_0x1d8d6e(0x5ec)](null,'x',_0x379e94),draggedSvgElement['setAttributeNS'](null,'y',_0x4714d8);}}function endDrag(_0x44d5ad){draggedSvgElement=null;}function handleSvgEditClick(_0x5b8ed7){const _0x55c998=_0x314764;if(_0x5b8ed7[_0x55c998(0x3cb)][_0x55c998(0x68d)][_0x55c998(0x7da)]('delete-svg-btn')){const _0x5e1b4c=_0x5b8ed7['target']['dataset'][_0x55c998(0x853)],_0x5c9fc5=_0x5b8ed7['currentTarget'],_0xd34959=_0x5c9fc5[_0x55c998(0x612)]('#'+_0x5e1b4c);_0xd34959&&_0xd34959[_0x55c998(0x49f)](),_0x5b8ed7[_0x55c998(0x3cb)][_0x55c998(0x49f)]();}}function handleEditQuestion(_0x3fcc07){const _0x3b44cf=_0x314764,_0x4dd3d5=_0x3fcc07[_0x3b44cf(0xade)],_0x555a12=_0x4dd3d5[_0x3b44cf(0x635)][_0x3b44cf(0x944)],_0x594ceb=currentQuizData[_0x3b44cf(0x7bb)][_0x555a12],_0xd5ad70=document[_0x3b44cf(0x6ce)](_0x3b44cf(0x340)+_0x555a12),_0x3a76b9=document[_0x3b44cf(0x6ce)](_0x3b44cf(0x469)+_0x555a12),_0x3ff674=document[_0x3b44cf(0x6ce)](_0x3b44cf(0x963)+_0x555a12);if(_0x4dd3d5['innerHTML']['includes'](_0x3b44cf(0x699))){_0x4dd3d5[_0x3b44cf(0x9c5)]=_0x3b44cf(0xa36),_0x4dd3d5[_0x3b44cf(0x1ec)]=_0x3b44cf(0xb0f);if(_0xd5ad70)_0xd5ad70[_0x3b44cf(0x40a)]=!![];if(_0x3a76b9)_0x3a76b9[_0x3b44cf(0x40a)]=!![];if(_0x3ff674){const _0x55dc43=_0x3ff674[_0x3b44cf(0x612)](_0x3b44cf(0xacc));if(_0x55dc43){const _0x20cb9d=_0x55dc43[_0x3b44cf(0x3e7)](_0x3b44cf(0xb56));_0x20cb9d[_0x3b44cf(0x97e)]((_0x4d8465,_0x7bddcb)=>{const _0x982ac4=_0x3b44cf,_0x7bdb99=_0x982ac4(0x3ce)+_0x555a12+'-'+_0x7bddcb;_0x4d8465['id']=_0x7bdb99,_0x4d8465['classList'][_0x982ac4(0x8f4)](_0x982ac4(0xa13)),_0x4d8465['style'][_0x982ac4(0x2f1)]='move';const _0x5e2588=document[_0x982ac4(0x9a1)](_0x982ac4(0x631),_0x982ac4(0x7ad)),_0x4bdcf7=_0x4d8465[_0x982ac4(0x76d)]();_0x5e2588['setAttribute']('cx',String(_0x4bdcf7['x']+_0x4bdcf7[_0x982ac4(0x239)]+0x5)),_0x5e2588['setAttribute']('cy',String(_0x4bdcf7['y']+_0x4bdcf7[_0x982ac4(0x9f8)]/0x2-0x5)),_0x5e2588[_0x982ac4(0x559)]('r','5'),_0x5e2588[_0x982ac4(0x559)](_0x982ac4(0x5ab),'red'),_0x5e2588[_0x982ac4(0x559)](_0x982ac4(0x21e),'delete-svg-btn'),_0x5e2588[_0x982ac4(0x635)][_0x982ac4(0x853)]=_0x7bdb99,_0x4d8465[_0x982ac4(0x783)](_0x5e2588);}),_0x55dc43['addEventListener'](_0x3b44cf(0xa29),startDrag),_0x55dc43[_0x3b44cf(0x9cd)](_0x3b44cf(0x61b),drag),_0x55dc43[_0x3b44cf(0x9cd)](_0x3b44cf(0x2b5),endDrag),_0x55dc43[_0x3b44cf(0x9cd)]('mouseleave',endDrag),_0x55dc43[_0x3b44cf(0x9cd)](_0x3b44cf(0x329),startDrag,{'passive':![]}),_0x55dc43['addEventListener'](_0x3b44cf(0x8c9),drag,{'passive':![]}),_0x55dc43[_0x3b44cf(0x9cd)](_0x3b44cf(0x9d9),endDrag),_0x55dc43[_0x3b44cf(0x9cd)](_0x3b44cf(0x977),endDrag),_0x55dc43[_0x3b44cf(0x9cd)](_0x3b44cf(0x58a),handleSvgEditClick);}}if(_0xd5ad70)_0xd5ad70['focus']();}else{_0x4dd3d5[_0x3b44cf(0x9c5)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x4dd3d5[_0x3b44cf(0x1ec)]=_0x3b44cf(0x499);if(_0xd5ad70){_0xd5ad70[_0x3b44cf(0x40a)]=![];const _0xb028e7=_0x594ceb[_0x3b44cf(0xb6e)]||currentQuizData[_0x3b44cf(0xa1e)];_0xb028e7===_0x3b44cf(0x554)?_0x594ceb[_0x3b44cf(0x458)]=_0xd5ad70[_0x3b44cf(0xbb6)][_0x3b44cf(0xb9d)](_0xd5ad70['innerText'][_0x3b44cf(0x9e4)]('.')+0x2)['trim']():_0x594ceb[_0x3b44cf(0x41e)]=_0xd5ad70[_0x3b44cf(0xbb6)][_0x3b44cf(0xb9d)](_0xd5ad70['innerText'][_0x3b44cf(0x9e4)]('.')+0x2)['trim']();}_0x3a76b9&&(_0x3a76b9[_0x3b44cf(0x40a)]=![],_0x594ceb[_0x3b44cf(0x823)]=_0x3a76b9[_0x3b44cf(0xbb6)]);if(_0x3ff674){const _0x2799f8=_0x3ff674[_0x3b44cf(0x612)]('svg');if(_0x2799f8){const _0x3cf7b5=_0x2799f8['cloneNode'](!![]);_0x3cf7b5[_0x3b44cf(0x3e7)](_0x3b44cf(0x960))[_0x3b44cf(0x97e)](_0x1ca48d=>_0x1ca48d['remove']()),_0x3cf7b5[_0x3b44cf(0x3e7)](_0x3b44cf(0x7b0))[_0x3b44cf(0x97e)](_0x486840=>{const _0x155d06=_0x3b44cf;_0x486840['classList'][_0x155d06(0x49f)](_0x155d06(0xa13)),_0x486840['style'][_0x155d06(0x2f1)]=_0x155d06(0xbf8),_0x486840['removeAttribute']('id');}),_0x594ceb[_0x3b44cf(0x25f)]=_0x3cf7b5[_0x3b44cf(0xa75)],_0x2799f8[_0x3b44cf(0x5af)](_0x3b44cf(0xa29),startDrag),_0x2799f8[_0x3b44cf(0x5af)]('mousemove',drag),_0x2799f8['removeEventListener'](_0x3b44cf(0x2b5),endDrag),_0x2799f8[_0x3b44cf(0x5af)](_0x3b44cf(0x2fb),endDrag),_0x2799f8[_0x3b44cf(0x5af)](_0x3b44cf(0x329),startDrag),_0x2799f8['removeEventListener']('touchmove',drag),_0x2799f8[_0x3b44cf(0x5af)]('touchend',endDrag),_0x2799f8['removeEventListener'](_0x3b44cf(0x977),endDrag),_0x2799f8['removeEventListener']('click',handleSvgEditClick),_0x2799f8['querySelectorAll'](_0x3b44cf(0x960))['forEach'](_0x5403bc=>_0x5403bc[_0x3b44cf(0x49f)]()),_0x2799f8[_0x3b44cf(0x3e7)]('.draggable-text')['forEach'](_0x15cb5f=>{const _0x39b5dd=_0x3b44cf;_0x15cb5f[_0x39b5dd(0x68d)][_0x39b5dd(0x49f)](_0x39b5dd(0xa13)),_0x15cb5f[_0x39b5dd(0x58c)]['cursor']=_0x39b5dd(0xbf8);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x57750c){const _0x5e0531=_0x314764,_0x59bcfc=document['getElementById']('quiz-editor-modal'),_0x21a4a6=document[_0x5e0531(0x6ce)](_0x5e0531(0xb04));_0x21a4a6['innerHTML']=_0x5e0531(0x6c4),_0x59bcfc[_0x5e0531(0x68d)][_0x5e0531(0x49f)](_0x5e0531(0xbc7));try{const _0x4773ef=doc(db,_0x5e0531(0x21f)+appId+_0x5e0531(0x544),_0x57750c),_0x2a2a36=await getDoc(_0x4773ef);if(!_0x2a2a36[_0x5e0531(0x232)]())throw new Error(_0x5e0531(0x787));currentEditingQuizData={'id':_0x57750c,..._0x2a2a36[_0x5e0531(0x31c)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x372cec){console[_0x5e0531(0x9b3)](_0x5e0531(0x7a7),_0x372cec),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x59bcfc[_0x5e0531(0x68d)][_0x5e0531(0x8f4)](_0x5e0531(0xbc7));}}function renderQuizEditor(_0x340915){const _0x32b41d=_0x314764;document[_0x32b41d(0x6ce)](_0x32b41d(0x2af))[_0x32b41d(0x3e6)]=_0x340915[_0x32b41d(0x265)];const _0x8bb54f=document['getElementById']('quiz-editor-questions-container');let _0x20fcf0=_0x340915['questions'][_0x32b41d(0x83a)]((_0x2514eb,_0x3a6f17)=>{const _0x3ae470=_0x32b41d;let _0x3349fe='';const _0x4823b6=_0x2514eb[_0x3ae470(0xb6e)]||_0x340915[_0x3ae470(0xa1e)];switch(_0x4823b6){case _0x3ae470(0x75c):const _0x3fc816=(_0x2514eb['options']||[])[_0x3ae470(0x83a)]((_0x23566f,_0x473ac9)=>_0x3ae470(0x1c9)+_0x3a6f17+_0x3ae470(0x470)+_0x473ac9+'\x22\x20'+(_0x473ac9===_0x2514eb[_0x3ae470(0xaca)]?'checked':'')+_0x3ae470(0x2b9)+_0x23566f+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3ae470(0x47c)]('');_0x3349fe=_0x3ae470(0x6bb)+_0x3fc816+_0x3ae470(0xac4);break;case _0x3ae470(0x8a4):_0x3349fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2514eb[_0x3ae470(0x841)]||'')+_0x3ae470(0x666);break;case _0x3ae470(0xa97):_0x3349fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x3a6f17+'\x22\x20value=\x22true\x22\x20'+(_0x2514eb[_0x3ae470(0x7c3)]===!![]?_0x3ae470(0x5dc):'')+_0x3ae470(0x492)+_0x3a6f17+'\x22\x20value=\x22false\x22\x20'+(_0x2514eb['correctAnswer']===![]?_0x3ae470(0x5dc):'')+_0x3ae470(0x465);break;case _0x3ae470(0x554):_0x3349fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2514eb['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x511568=_0x2514eb[_0x3ae470(0x41e)]||_0x2514eb[_0x3ae470(0x458)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x3a6f17+'\x22\x20data-q-type=\x22'+_0x4823b6+_0x3ae470(0x770)+(_0x3a6f17+0x1)+'\x20('+_0x4823b6+_0x3ae470(0x542)+_0x511568+_0x3ae470(0x845)+_0x3349fe+'</div>\x0a</div>\x0a';})[_0x32b41d(0x47c)]('');_0x8bb54f[_0x32b41d(0x9c5)]=_0x20fcf0,_0x8bb54f['querySelectorAll'](_0x32b41d(0x768))[_0x32b41d(0x97e)](_0x25d585=>{const _0x48f162=_0x32b41d;_0x25d585[_0x48f162(0x9cd)](_0x48f162(0x58a),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3674fe){const _0x571d8a=_0x314764,_0x393339=_0x3674fe[_0x571d8a(0xade)],_0x250198=_0x393339[_0x571d8a(0x2ff)](_0x571d8a(0x70d));if(!_0x250198)return;const _0x795ca6=parseInt(_0x250198[_0x571d8a(0x635)][_0x571d8a(0xa5c)],0xa);if(isNaN(_0x795ca6)||!currentEditingQuizData[_0x571d8a(0x7bb)][_0x795ca6]){showMessage(_0x571d8a(0x5ad));return;}const _0x2c79ab=currentEditingQuizData[_0x571d8a(0x7bb)][_0x795ca6];_0x393339[_0x571d8a(0x9c5)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x393339[_0x571d8a(0x915)]=!![];const _0x4f3083='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x2c79ab)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x3e23ea;const _0x5dd472=_0x2c79ab[_0x571d8a(0xb6e)]||currentEditingQuizData[_0x571d8a(0xa1e)];switch(_0x5dd472){case _0x571d8a(0x8a4):_0x3e23ea={'type':_0x571d8a(0x417),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x571d8a(0x5b8)},'explanation':{'type':_0x571d8a(0x5b8)},'imageCode':{'type':_0x571d8a(0x5b8)}},'required':['questionText','idealAnswer',_0x571d8a(0x823)]};break;case _0x571d8a(0x75c):default:_0x3e23ea={'type':_0x571d8a(0x417),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x571d8a(0x8c2),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x571d8a(0x31a)},'explanation':{'type':_0x571d8a(0x5b8)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x571d8a(0x9b5),'correctAnswerIndex','explanation']};break;}try{let _0xf09088=await callAnalysisApi(_0x4f3083,_0x3e23ea);_0xf09088[_0x571d8a(0x9b5)]&&Array[_0x571d8a(0x254)](_0xf09088[_0x571d8a(0x9b5)])&&(_0xf09088[_0x571d8a(0x9b5)]=_0xf09088['options'][_0x571d8a(0x83a)](_0x1705ca=>typeof _0x1705ca===_0x571d8a(0xa17)?_0x1705ca[_0x571d8a(0xa99)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x1705ca)),_0x2c79ab['imageCode']&&_0x2c79ab['imageCode'][_0x571d8a(0x8f7)](_0x571d8a(0xacb))&&(_0xf09088[_0x571d8a(0x25f)]=''),currentEditingQuizData[_0x571d8a(0x7bb)][_0x795ca6]={..._0x2c79ab,..._0xf09088},renderQuizEditor(currentEditingQuizData),showMessage(_0x571d8a(0x625));}catch(_0x3fe328){console[_0x571d8a(0x9b3)](_0x571d8a(0xbe7),_0x3fe328),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x32e382=_0x314764,_0x6e45f0=document['getElementById']('save-quiz-edits-btn');_0x6e45f0[_0x32e382(0x915)]=!![],_0x6e45f0[_0x32e382(0x9c5)]=_0x32e382(0x602);try{const _0x301afe=document[_0x32e382(0x6ce)](_0x32e382(0x2af))[_0x32e382(0x3e6)],_0x2c75b6=document['querySelectorAll'](_0x32e382(0x70d));let _0x5ea011=[];const _0x4ba5f3=Array[_0x32e382(0x2db)](_0x2c75b6)[_0x32e382(0x83a)]((_0x27c8c3,_0x1a72c1)=>{const _0x2e5145=_0x32e382,_0xc160ac=_0x27c8c3['dataset'][_0x2e5145(0xa3e)],_0xc612dd=_0x27c8c3[_0x2e5145(0x612)](_0x2e5145(0x2a1))[_0x2e5145(0x3e6)]['replace'](/\n/g,_0x2e5145(0x3b0));let _0x4b4c52={'questionType':_0xc160ac};const _0x2515a3=currentEditingQuizData[_0x2e5145(0x7bb)][_0x1a72c1];switch(_0xc160ac){case'multiple_choice':_0x4b4c52[_0x2e5145(0x41e)]=_0xc612dd;const _0x573263=_0x27c8c3['querySelectorAll'](_0x2e5145(0x741));_0x4b4c52[_0x2e5145(0x9b5)]=Array['from'](_0x573263)[_0x2e5145(0x83a)](_0xff3aee=>_0xff3aee[_0x2e5145(0x3e6)]);const _0x5ec9e7=_0x27c8c3[_0x2e5145(0x612)](_0x2e5145(0x51c));_0x4b4c52[_0x2e5145(0xaca)]=_0x5ec9e7?parseInt(_0x5ec9e7[_0x2e5145(0x3e6)]):0x0;break;case'short_answer':_0x4b4c52[_0x2e5145(0x41e)]=_0xc612dd,_0x4b4c52[_0x2e5145(0x841)]=_0x27c8c3[_0x2e5145(0x612)]('.ideal-answer-input')[_0x2e5145(0x3e6)];break;case _0x2e5145(0xa97):_0x4b4c52[_0x2e5145(0x41e)]=_0xc612dd;const _0x3b8c72=_0x27c8c3[_0x2e5145(0x612)]('input[type=\x22radio\x22]:checked');_0x4b4c52[_0x2e5145(0x7c3)]=_0x3b8c72?_0x3b8c72[_0x2e5145(0x3e6)]===_0x2e5145(0x8de):!![];break;case _0x2e5145(0x554):_0x4b4c52[_0x2e5145(0x458)]=_0xc612dd;const _0x3c3d2a=_0x27c8c3['querySelector']('.correct-response-input');_0x4b4c52[_0x2e5145(0x53e)]=_0x3c3d2a?_0x3c3d2a['value']:'',_0x5ea011[_0x2e5145(0x403)](_0x4b4c52[_0x2e5145(0x53e)]);break;default:_0x4b4c52[_0x2e5145(0x41e)]=_0xc612dd;break;}return{..._0x2515a3,..._0x4b4c52};});_0x5ea011[_0x32e382(0x1eb)]>0x0&&_0x4ba5f3[_0x32e382(0x97e)](_0x882887=>{const _0x22aa3a=_0x32e382;_0x882887[_0x22aa3a(0xb6e)]===_0x22aa3a(0x554)&&(_0x882887[_0x22aa3a(0x610)]=_0x5ea011);});const _0x456178=currentEditingQuizData['id'],_0x572634=doc(db,_0x32e382(0x21f)+appId+_0x32e382(0x544),_0x456178);await updateDoc(_0x572634,{'topic':_0x301afe,'questions':_0x4ba5f3}),document[_0x32e382(0x6ce)](_0x32e382(0x9f4))['classList']['add'](_0x32e382(0xbc7)),showMessage(_0x32e382(0x1ab),()=>initiateReGradeProcess(_0x456178));}catch(_0x2885c3){console[_0x32e382(0x9b3)]('Error\x20saving\x20quiz\x20edits:',_0x2885c3),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x6e45f0['disabled']=![],_0x6e45f0[_0x32e382(0x9c5)]=_0x32e382(0x28a);}}async function initiateReGradeProcess(_0x46f8cd){const _0x297205=_0x314764;showMessage(_0x297205(0x23b));try{const _0x34fefe=doc(db,'artifacts/'+appId+_0x297205(0x544),_0x46f8cd),_0x43a22e=await getDoc(_0x34fefe);if(!_0x43a22e[_0x297205(0x232)]())throw new Error(_0x297205(0x80c));const _0x354834={'id':_0x46f8cd,..._0x43a22e[_0x297205(0x31c)]()},_0x125cdf=collection(db,'artifacts/'+appId+_0x297205(0x544),_0x46f8cd,_0x297205(0x5c6)),_0x452624=await getDocs(_0x125cdf);if(_0x452624[_0x297205(0x326)]){showMessage(_0x297205(0x50d));return;}const _0x48aff2=_0x452624[_0x297205(0xc27)]['map'](_0x35b4cc=>reGradeSingleSubmission(_0x35b4cc,_0x354834));await Promise[_0x297205(0x486)](_0x48aff2);if(_0x354834[_0x297205(0x368)]){const _0xb2d611=doc(db,_0x297205(0x21f)+appId+_0x297205(0x7fe),_0x354834[_0x297205(0x368)]),_0x5b4aed=await getDoc(_0xb2d611);if(_0x5b4aed['exists']()&&_0x5b4aed[_0x297205(0x31c)]()[_0x297205(0x801)]){const _0x27020e=_0x5b4aed[_0x297205(0x31c)]()['students'][_0x297205(0x83a)](_0x568a05=>updateStudentProfile(_0x354834[_0x297205(0x368)],_0x568a05));await Promise[_0x297205(0x486)](_0x27020e);}}showMessage(_0x297205(0xac3)+_0x452624[_0x297205(0xa6f)]+_0x297205(0x7d7));}catch(_0x23260b){console[_0x297205(0x9b3)](_0x297205(0xa42),_0x23260b),showMessage(_0x297205(0xb0e)+_0x23260b[_0x297205(0x86b)]);}}async function reGradeSingleSubmission(_0x14d841,_0x583b47){const _0x3c1592=_0x314764,_0x1dbf74=_0x14d841[_0x3c1592(0x31c)](),_0x348a67=_0x1dbf74[_0x3c1592(0x43f)],_0x35f4a6=_0x1dbf74[_0x3c1592(0x23c)]||[],_0x103552=[];for(const _0x3650c1 of _0x35f4a6){let _0x212faa=0x0,_0x5d9368=[],_0x437c00=0x0;const _0x58ffb6=[];for(const _0x4a1ab3 of _0x3650c1[_0x3c1592(0xb0a)]){let _0x3fdb6c;_0x4a1ab3[_0x3c1592(0x91e)]&&(_0x3fdb6c=_0x583b47[_0x3c1592(0x7bb)][_0x3c1592(0xae2)](_0x153e11=>_0x153e11['id']===_0x4a1ab3[_0x3c1592(0x91e)]));!_0x3fdb6c&&_0x4a1ab3[_0x3c1592(0x182)]&&(_0x3fdb6c=_0x583b47['questions']['find'](_0x246bbd=>(_0x246bbd[_0x3c1592(0x458)]||_0x246bbd[_0x3c1592(0x41e)])===_0x4a1ab3[_0x3c1592(0x182)]));let _0x51039b=![];if(_0x3fdb6c){const _0x308f15=_0x3fdb6c['questionType']||_0x583b47[_0x3c1592(0xa1e)];switch(_0x308f15){case'multiple_choice':if(_0x3fdb6c[_0x3c1592(0x9b5)]&&_0x3fdb6c[_0x3c1592(0xaca)]<_0x3fdb6c['options'][_0x3c1592(0x1eb)]){const _0x4609f4=_0x3fdb6c[_0x3c1592(0x9b5)][_0x3fdb6c['correctAnswerIndex']];_0x51039b=_0x4a1ab3[_0x3c1592(0x46a)]===_0x4609f4;}break;case _0x3c1592(0xa97):const _0xa7b2e6=_0x4a1ab3['answer']===!![]||_0x4a1ab3[_0x3c1592(0xa38)]==='true';_0x51039b=_0xa7b2e6===_0x3fdb6c[_0x3c1592(0x7c3)];break;case'matching_item':_0x51039b=_0x4a1ab3[_0x3c1592(0xa38)]===_0x3fdb6c[_0x3c1592(0x53e)];break;case'short_answer':_0x51039b=await gradeShortAnswer(_0x4a1ab3[_0x3c1592(0xa38)],_0x3fdb6c);break;default:_0x51039b=_0x4a1ab3[_0x3c1592(0x48b)];break;}}if(_0x51039b){_0x212faa++,_0x437c00++;if(_0x437c00===0x3)_0x5d9368[_0x3c1592(0x403)](BADGES['ON_FIRE']['id']);}else _0x437c00=0x0;_0x58ffb6[_0x3c1592(0x403)]({..._0x4a1ab3,'isCorrect':_0x51039b});}let _0xddfbc6=_0x212faa*0xa;_0x212faa===_0x583b47[_0x3c1592(0x7bb)][_0x3c1592(0x1eb)]&&(_0xddfbc6+=0x32,_0x5d9368['push'](BADGES[_0x3c1592(0x94b)]['id'])),_0x103552[_0x3c1592(0x403)]({..._0x3650c1,'score':_0x212faa,'points':_0xddfbc6,'badges':Array[_0x3c1592(0x2db)](new Set(_0x5d9368)),'answers':_0x58ffb6});}const _0x4c7c00=_0x103552['length']>0x0?_0x103552[0x0][_0x3c1592(0xbde)]:0x0,_0xda665c=Math['max'](..._0x103552[_0x3c1592(0x83a)](_0x12905e=>_0x12905e[_0x3c1592(0xbde)])),_0x1c30da=_0x103552['length']>0x0?_0x103552[_0x103552[_0x3c1592(0x1eb)]-0x1][_0x3c1592(0xbde)]:0x0,_0x5702b1=_0x103552[_0x3c1592(0x1eb)]>0x0?_0x103552[_0x103552[_0x3c1592(0x1eb)]-0x1]['points']:0x0,_0x314cef=doc(db,_0x3c1592(0x21f)+appId+'/public/data/quizzes/'+_0x583b47['id']+_0x3c1592(0x9f3),_0x348a67);await updateDoc(_0x314cef,{'attempts':_0x103552,'firstScore':_0x4c7c00,'bestScore':_0xda665c,'latestScore':_0x1c30da,'points':_0x5702b1});}function cleanupQuizOptions(_0x19ad27){const _0x1310f0=_0x314764,_0x186386=(_0x29c7a4,_0x112718)=>_0x112718===0x0?_0x29c7a4:_0x186386(_0x112718,_0x29c7a4%_0x112718),_0x5cffc5=_0xa842d7=>{const _0x4e5701=_0x3289;if(typeof _0xa842d7!==_0x4e5701(0xa17))return null;_0xa842d7=_0xa842d7[_0x4e5701(0x1b6)]();const _0x29b149=_0xa842d7['split'](/[ /]/)[_0x4e5701(0x595)](_0x8b89b5=>_0x8b89b5!=='');if(_0x29b149[_0x4e5701(0x1eb)]===0x3)return parseInt(_0x29b149[0x0])+parseInt(_0x29b149[0x1])/parseInt(_0x29b149[0x2]);else{if(_0x29b149[_0x4e5701(0x1eb)]===0x2)return parseInt(_0x29b149[0x0])/parseInt(_0x29b149[0x1]);else{if(_0x29b149['length']===0x1&&!isNaN(_0x29b149[0x0]))return parseFloat(_0x29b149[0x0]);}}return null;},_0x3cf844=_0x253ec6=>{const _0x268d53=_0x3289;if(typeof _0x253ec6!==_0x268d53(0xa17))return _0x253ec6;const _0x19876f=_0x253ec6[_0x268d53(0xadf)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x19876f){const _0x4672b7=parseInt(_0x19876f[0x1]);let _0x521ec1=parseInt(_0x19876f[0x2]),_0x3f6256=parseInt(_0x19876f[0x3]);const _0x16fe2c=_0x186386(_0x521ec1,_0x3f6256);_0x521ec1/=_0x16fe2c,_0x3f6256/=_0x16fe2c;if(_0x3f6256===0x1)return(_0x4672b7+_0x521ec1)[_0x268d53(0x2e2)]();return _0x4672b7+'\x20'+_0x521ec1+'/'+_0x3f6256;}return _0x253ec6;};return _0x19ad27&&_0x19ad27[_0x1310f0(0x7bb)]&&_0x19ad27[_0x1310f0(0x7bb)]['forEach'](_0x2b5789=>{const _0x48d514=_0x1310f0;if(_0x2b5789[_0x48d514(0xb6e)]==='multiple_choice'&&_0x2b5789[_0x48d514(0x9b5)]){const _0x5b99d0=new Map(),_0x19a59a=_0x2b5789[_0x48d514(0x9b5)][_0x2b5789['correctAnswerIndex']];_0x2b5789['options'][_0x48d514(0x97e)](_0x5e5300=>{const _0x331688=_0x3cf844(_0x5e5300),_0x279f7c=_0x5cffc5(_0x331688);_0x279f7c!==null&&!_0x5b99d0['has'](_0x279f7c)&&_0x5b99d0['set'](_0x279f7c,_0x331688);}),_0x2b5789[_0x48d514(0x9b5)]=Array[_0x48d514(0x2db)](_0x5b99d0['values']());const _0x5bd0aa=_0x2b5789[_0x48d514(0x9b5)][_0x48d514(0xb57)](_0x2536a1=>_0x2536a1===_0x3cf844(_0x19a59a));_0x2b5789[_0x48d514(0xaca)]=_0x5bd0aa!==-0x1?_0x5bd0aa:0x0;}}),_0x19ad27;}function showGameStartConfirmationModal(_0x5607fb,_0x2cf19a,_0xe44d8e){const _0x37545a=_0x314764,_0x465556=document[_0x37545a(0x6ce)](_0x37545a(0x3b1));document[_0x37545a(0x6ce)](_0x37545a(0x80b))[_0x37545a(0xa88)]='เริ่มกิจกรรม:\x20'+_0xe44d8e,document[_0x37545a(0x6ce)](_0x37545a(0x471))[_0x37545a(0x3e6)]=_0x5607fb,document[_0x37545a(0x6ce)](_0x37545a(0x8a9))['value']=_0x2cf19a,document[_0x37545a(0x6ce)](_0x37545a(0xb25))[_0x37545a(0x5dc)]=!![],_0x465556['classList']['remove']('hidden');}async function saveGameResultsAsSubmissions(_0x28934a){const _0x35cd38=_0x314764;console['log'](_0x35cd38(0x5cf),_0x28934a);const _0x3a1074=_0x28934a[_0x35cd38(0x174)];let _0x491eaa=[];if(_0x28934a[_0x35cd38(0xb90)])_0x491eaa=Object[_0x35cd38(0x5ee)](_0x28934a['players'])[_0x35cd38(0x83a)](([_0x18c5a9,_0x3c7213])=>({'name':_0x18c5a9,..._0x3c7213}));else{if(_0x28934a['groups'])Object[_0x35cd38(0x799)](_0x28934a[_0x35cd38(0x749)])[_0x35cd38(0x97e)](_0x1aaf99=>{const _0x4edb2b=_0x35cd38;_0x1aaf99[_0x4edb2b(0x379)][_0x4edb2b(0x97e)](_0x399f50=>{const _0x1915ea=_0x4edb2b;_0x491eaa[_0x1915ea(0x403)]({'name':_0x399f50,'score':_0x1aaf99[_0x1915ea(0xbde)]});});});else _0x28934a[_0x35cd38(0xa3f)]&&Object[_0x35cd38(0x5ee)](_0x28934a[_0x35cd38(0xa3f)])[_0x35cd38(0x97e)](([_0x4b381c,_0x59b3cc])=>{const _0x1dd085=_0x35cd38;_0x491eaa[_0x1dd085(0x403)]({'name':_0x4b381c,..._0x59b3cc});});}if(_0x491eaa['length']===0x0){console[_0x35cd38(0xa58)](_0x35cd38(0xb93));return;}const _0x1b2969=_0x28934a[_0x35cd38(0xb49)]?.[_0x35cd38(0x7bb)]['length']||currentQuizData[_0x35cd38(0x7bb)][_0x35cd38(0x1eb)],_0x92a514=writeBatch(db);for(const _0x442f15 of _0x491eaa){const _0x843e4=_0x442f15[_0x35cd38(0xbde)]||0x0,_0x394cb2=doc(db,_0x35cd38(0x21f)+appId+_0x35cd38(0x75f)+_0x3a1074+_0x35cd38(0x9f3),_0x442f15['name']),_0x3a43c4=(_0x442f15[_0x35cd38(0xb0a)]||[])[_0x35cd38(0x595)](_0x566798=>_0x566798[_0x35cd38(0x48b)])[_0x35cd38(0x1eb)],_0x284d20={'score':_0x3a43c4,'points':_0x843e4,'badges':_0x442f15[_0x35cd38(0x5cd)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x442f15['answers']||[])[_0x35cd38(0x83a)](_0x4a9035=>({'questionId':_0x4a9035[_0x35cd38(0x91e)],'answer':_0x4a9035[_0x35cd38(0xa38)],'answerText':_0x4a9035['answerText'],'isCorrect':_0x4a9035[_0x35cd38(0x48b)],'originalQuestionText':_0x4a9035[_0x35cd38(0x182)],'wasConfident':_0x4a9035[_0x35cd38(0x6c7)]}))},_0x5e4e2f=await getDoc(_0x394cb2),_0x296a24=_0x5e4e2f[_0x35cd38(0x232)]()?_0x5e4e2f[_0x35cd38(0x31c)]():{},_0x22383d=_0x296a24[_0x35cd38(0xc0f)]||0x0,_0x4a2b1b=_0x296a24[_0x35cd38(0x23c)]||[],_0x31b26d={'studentName':_0x442f15[_0x35cd38(0x924)],'totalQuestions':_0x1b2969,'attempts':arrayUnion(_0x284d20),'latestScore':_0x3a43c4,'points':_0x843e4,'latestSubmittedAt':_0x284d20[_0x35cd38(0x268)],'bestScore':Math[_0x35cd38(0x2c2)](_0x22383d,_0x3a43c4),'firstScore':_0x4a2b1b[_0x35cd38(0x1eb)]===0x0?_0x3a43c4:_0x296a24['firstScore']||0x0};_0x92a514[_0x35cd38(0x4e8)](_0x394cb2,_0x31b26d,{'merge':!![]});}try{await _0x92a514[_0x35cd38(0xb03)](),showMessage(_0x35cd38(0x277)+_0x491eaa[_0x35cd38(0x1eb)]+_0x35cd38(0x16f));const _0x1c5526=_0x28934a[_0x35cd38(0xb49)]?.[_0x35cd38(0x368)]||currentQuizData?.[_0x35cd38(0x368)]||currentProjectId;if(_0x1c5526){const _0x86cd97=[...new Set(_0x491eaa[_0x35cd38(0x83a)](_0x376168=>_0x376168[_0x35cd38(0x924)]))];for(const _0xddbfb7 of _0x86cd97){await updateStudentProfile(_0x1c5526,_0xddbfb7);}}}catch(_0xdc3b43){console['error']('Error\x20saving\x20game\x20results:',_0xdc3b43),showMessage(_0x35cd38(0x3dc));}}async function saveQuiz(_0x305a4b=null,_0x42f380=null){const _0x395f38=_0x314764,_0x4a40e3=_0x305a4b||currentProjectId;if(!_0x4a40e3){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x395f38(0x7bb)]||!userId){showMessage(_0x395f38(0x20b));return;}const _0xb144c1=document[_0x395f38(0x6ce)]('save-quiz-btn');_0xb144c1[_0x395f38(0x915)]=!![],_0xb144c1[_0x395f38(0x9c5)]=_0x395f38(0x602);const _0x3785f5=document['getElementById'](_0x395f38(0x7dc))['checked'];let _0x14db95=document[_0x395f38(0x6ce)](_0x395f38(0x8f5))['innerText'][_0x395f38(0x1b6)]();_0x3785f5&&!_0x14db95[_0x395f38(0x6af)]('(ก่อนเรียน)')&&(_0x14db95=_0x395f38(0xadc)+_0x14db95);try{const _0x5dbc78={'resultsDisplay':document[_0x395f38(0x6ce)](_0x395f38(0x8d2))['value'],'shuffle':document[_0x395f38(0x6ce)](_0x395f38(0x3fb))[_0x395f38(0x3e6)],'timerMode':document[_0x395f38(0x6ce)]('timer-mode-select')[_0x395f38(0x3e6)],'timerDuration':parseInt(document[_0x395f38(0x6ce)](_0x395f38(0x221))[_0x395f38(0x3e6)])||0xa,'passingScore':parseInt(document[_0x395f38(0x6ce)](_0x395f38(0x659))[_0x395f38(0x3e6)])||0x0,'isAdaptive':document[_0x395f38(0x6ce)](_0x395f38(0x8e7))['checked'],'loopUntilPass':document[_0x395f38(0x6ce)](_0x395f38(0x1f9))[_0x395f38(0x5dc)]},_0x25a552=(currentQuizData['questions']||[])[_0x395f38(0x83a)]((_0x3b64fd,_0x40b3b7)=>{const _0x4ac1ee=_0x395f38,_0x1f0389=document['getElementById'](_0x4ac1ee(0xb2c))['value'],_0x1c6a38={'id':'q_'+Date[_0x4ac1ee(0x72c)]()+'_'+_0x40b3b7,'questionText':_0x3b64fd[_0x4ac1ee(0x41e)]||'','explanation':_0x3b64fd[_0x4ac1ee(0x823)]||'ไม่มีคำอธิบาย','questionType':_0x3b64fd[_0x4ac1ee(0xb6e)]||_0x1f0389,'imageCode':_0x3b64fd[_0x4ac1ee(0x25f)]||null};return(_0x1c6a38[_0x4ac1ee(0xb6e)]===_0x4ac1ee(0x75c)||_0x1c6a38['questionType']===_0x4ac1ee(0x248)||_0x1c6a38[_0x4ac1ee(0xb6e)]===_0x4ac1ee(0x8b3)&&_0x3b64fd['options'])&&(_0x1c6a38['options']=_0x3b64fd[_0x4ac1ee(0x9b5)]||[],_0x1c6a38['correctAnswerIndex']=_0x3b64fd['correctAnswerIndex']!==undefined?_0x3b64fd['correctAnswerIndex']:0x0),(_0x1c6a38[_0x4ac1ee(0xb6e)]===_0x4ac1ee(0x8a4)||_0x1c6a38['questionType']===_0x4ac1ee(0xbbd)||_0x1c6a38[_0x4ac1ee(0xb6e)]==='mixed'&&_0x3b64fd['idealAnswer'])&&(_0x1c6a38[_0x4ac1ee(0x841)]=_0x3b64fd[_0x4ac1ee(0x841)]||''),_0x1c6a38[_0x4ac1ee(0xb6e)]==='true_false'&&(_0x1c6a38[_0x4ac1ee(0x7c3)]=_0x3b64fd[_0x4ac1ee(0x7c3)]===!![]),_0x1c6a38[_0x4ac1ee(0xb6e)]===_0x4ac1ee(0x554)&&(_0x1c6a38[_0x4ac1ee(0x458)]=_0x3b64fd['stem']||'',_0x1c6a38[_0x4ac1ee(0x53e)]=_0x3b64fd[_0x4ac1ee(0x53e)]||'',_0x1c6a38[_0x4ac1ee(0x610)]=_0x3b64fd[_0x4ac1ee(0x610)]||[]),_0x1c6a38;}),_0x332180={'topic':_0x14db95,'quizType':currentQuizData['quizType']||_0x395f38(0x75c),'questions':_0x25a552,'projectId':_0x4a40e3,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x395f38(0x7e3),'settings':_0x5dbc78,'quizMode':_0x3785f5?_0x395f38(0x7b9):'standard','pairedQuizId':null,'lessonPlan':null};let _0x32694c;while(!![]){_0x32694c=Math['floor'](0x3e8+Math[_0x395f38(0x2e9)]()*0x2328)['toString']();const _0x31a00f=await getDoc(doc(db,'artifacts/'+appId+_0x395f38(0x544),_0x32694c));if(!_0x31a00f[_0x395f38(0x232)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x395f38(0x544),_0x32694c),_0x332180);if(_0x42f380&&currentBlueprintProjectId){console[_0x395f38(0xa58)](_0x395f38(0x3ad)+_0x32694c+'\x20to\x20blueprint\x20topic\x20'+_0x42f380);try{const _0x4a2b58=doc(db,_0x395f38(0x21f)+appId+_0x395f38(0xa32),currentBlueprintProjectId);await updateDoc(_0x4a2b58,{['topics.'+_0x42f380+_0x395f38(0x3ec)]:arrayUnion(_0x32694c)});}catch(_0x30adee){console['error']('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x30adee);}}currentQuizData[_0x395f38(0xbd0)]=_0x5dbc78,currentQuizData['id']=_0x32694c;const _0x1f1605=document[_0x395f38(0x6ce)]('generated-quiz-actions');_0x1f1605['innerHTML']=_0x395f38(0x8b8)+_0x32694c+_0x395f38(0x7b5),document[_0x395f38(0x6ce)]('copy-quiz-id-btn')[_0x395f38(0x9cd)](_0x395f38(0x58a),()=>copyTextToClipboard(_0x32694c,_0x395f38(0x1ca))),document[_0x395f38(0x6ce)](_0x395f38(0x76a))['addEventListener'](_0x395f38(0x58a),()=>handleStartLiveRace(_0x32694c)),document['getElementById'](_0x395f38(0xa3b))['addEventListener']('click',()=>startPresentation(currentQuizData)),document[_0x395f38(0x6ce)](_0x395f38(0x6d3))[_0x395f38(0x9cd)](_0x395f38(0x58a),startAdminTest),showMessage(_0x395f38(0x29d));}catch(_0x59dc7d){console[_0x395f38(0x9b3)](_0x395f38(0x46d),_0x59dc7d),showMessage(_0x395f38(0xa94));}finally{_0xb144c1[_0x395f38(0x915)]=![],_0xb144c1[_0x395f38(0x9c5)]=_0x395f38(0x500);}}function promptForProjectAndSave(){const _0x2c7448=_0x314764,_0x5cfc56=document['getElementById'](_0x2c7448(0xb76)),_0x40ff16=document[_0x2c7448(0x6ce)](_0x2c7448(0xb61)),_0x2ae201=_0x5cfc56[_0x2c7448(0x612)]('h3'),_0x18321a=document[_0x2c7448(0x6ce)](_0x2c7448(0x793));_0x2ae201[_0x2c7448(0xa88)]='เลือกโปรเจคเพื่อบันทึก',_0x18321a[_0x2c7448(0xa88)]=_0x2c7448(0x800);allProjects[_0x2c7448(0x1eb)]===0x0?(_0x40ff16[_0x2c7448(0x9c5)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x18321a['disabled']=!![]):(_0x40ff16[_0x2c7448(0x9c5)]=allProjects['map'](_0x534892=>'<option\x20value=\x22'+_0x534892['id']+'\x22>'+_0x534892[_0x2c7448(0xbbf)]+'</option>')['join'](''),_0x18321a['disabled']=![]);_0x5cfc56[_0x2c7448(0x68d)]['remove'](_0x2c7448(0xbc7));const _0xb0d146=()=>{const _0x2409e8=_0x2c7448,_0x3b0327=_0x40ff16['value'];_0x3b0327?(currentProjectId=_0x3b0327,_0x5cfc56[_0x2409e8(0x68d)]['add'](_0x2409e8(0xbc7)),saveQuiz(),_0x2ae201['textContent']=_0x2409e8(0xae3),_0x18321a[_0x2409e8(0xa88)]=_0x2409e8(0x56c),_0x18321a['removeEventListener'](_0x2409e8(0x58a),_0xb0d146),_0x18321a['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x2409e8(0x5d3));};_0x18321a[_0x2c7448(0x5af)]('click',confirmMoveQuiz),_0x18321a[_0x2c7448(0x9cd)](_0x2c7448(0x58a),_0xb0d146);}function copyTextToClipboard(_0x54d67c,_0x124748){const _0x312751=_0x314764,_0x4de5ff=document[_0x312751(0x692)](_0x312751(0x2a1));_0x4de5ff[_0x312751(0x3e6)]=_0x54d67c,_0x4de5ff['style'][_0x312751(0xaff)]=_0x312751(0x2fe),_0x4de5ff[_0x312751(0x58c)][_0x312751(0x5fb)]='0',document['body']['appendChild'](_0x4de5ff),_0x4de5ff[_0x312751(0x26c)](),_0x4de5ff[_0x312751(0x5c3)]();try{const _0x15d34f=document['execCommand'](_0x312751(0x695));showMessage(_0x15d34f?_0x124748:_0x312751(0xa95));}catch(_0x4303c6){showMessage(_0x312751(0xa95)),console[_0x312751(0x9b3)]('Copy\x20command\x20failed',_0x4303c6);}document[_0x312751(0xad4)][_0x312751(0xc2b)](_0x4de5ff);}function listenForProjectQuizzes(_0x56caf3){const _0x456c42=_0x314764,_0x2724f6=collection(db,_0x456c42(0x21f)+appId+_0x456c42(0x544)),_0x3b5326=query(_0x2724f6,where(_0x456c42(0x368),'==',_0x56caf3));unsubscribeQuizzesListener=onSnapshot(_0x3b5326,async _0x7098ce=>{const _0x258a6e=_0x456c42;allQuizzes=_0x7098ce[_0x258a6e(0xc27)][_0x258a6e(0x83a)](_0x4147e6=>({'id':_0x4147e6['id'],..._0x4147e6[_0x258a6e(0x31c)]()})),renderQuizzes();},_0x57c4a6=>{const _0x36a0ea=_0x456c42;console['error'](_0x36a0ea(0x7d2),_0x57c4a6),document['getElementById'](_0x36a0ea(0x708))[_0x36a0ea(0x9c5)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x1b3972=_0x314764,_0x3620fd=document[_0x1b3972(0x6ce)]('project-quizzes-list'),_0x45f0e5=document[_0x1b3972(0x6ce)](_0x1b3972(0xb64))[_0x1b3972(0x3e6)][_0x1b3972(0x5db)]();let _0x50c450;currentProjectId===_0x1b3972(0x18c)?_0x50c450=starredQuizzes:_0x50c450=allQuizzes;let _0xf6a742=_0x50c450[_0x1b3972(0x595)](_0x1f26ed=>_0x1f26ed[_0x1b3972(0x265)]['toLowerCase']()['includes'](_0x45f0e5));_0xf6a742['sort']((_0x16f5de,_0x54cce6)=>new Date(_0x54cce6[_0x1b3972(0x899)])-new Date(_0x16f5de[_0x1b3972(0x899)]));if(_0xf6a742[_0x1b3972(0x1eb)]===0x0){_0x3620fd[_0x1b3972(0x9c5)]=_0x1b3972(0xbf5);return;}const _0xd46173={},_0x59af54=_0xf6a742['map'](async _0x3dee8a=>{const _0x4253b7=_0x1b3972,_0x2661b2=collection(db,_0x4253b7(0x21f)+appId+'/public/data/quizzes/'+_0x3dee8a['id']+_0x4253b7(0x9f3)),_0xa34719=await getDocs(_0x2661b2);_0xd46173[_0x3dee8a['id']]=_0xa34719[_0x4253b7(0xa6f)];});await Promise[_0x1b3972(0x486)](_0x59af54);let _0x45ba68='';_0xf6a742[_0x1b3972(0x97e)](_0x776078=>{const _0x5ad4ad=_0x1b3972,_0x32c6ac=_0xd46173[_0x776078['id']]||0x0,_0x3f6bec=_0x776078[_0x5ad4ad(0xbfc)]||_0x5ad4ad(0x7e3),_0x1214e3=_0x776078['settings']?.[_0x5ad4ad(0xb9b)]||_0x5ad4ad(0x4c0);let _0x73f1='',_0x2365a2='';const _0x6bb7b=new Date();let _0x5dc0c7=_0x3f6bec;if(_0x3f6bec===_0x5ad4ad(0x69d)){const _0x1fbfce=_0x776078[_0x5ad4ad(0x571)]?new Date(_0x776078[_0x5ad4ad(0x571)]):null,_0x54495f=_0x776078[_0x5ad4ad(0x2a6)]?new Date(_0x776078[_0x5ad4ad(0x2a6)]):null;if(_0x54495f&&_0x6bb7b>_0x54495f)_0x5dc0c7='inactive';else _0x1fbfce&&_0x6bb7b<_0x1fbfce?_0x5dc0c7='scheduled_pending':_0x5dc0c7='active';}switch(_0x5dc0c7){case _0x5ad4ad(0x6b3):_0x73f1=_0x5ad4ad(0x408),_0x2365a2='text-red-700\x20bg-red-100';break;case'scheduled_pending':_0x73f1='รอเปิด',_0x2365a2=_0x5ad4ad(0x874);break;case _0x5ad4ad(0x7e3):_0x73f1=_0x1214e3!==_0x5ad4ad(0x4c0)?_0x5ad4ad(0x4a6):_0x5ad4ad(0xa4d),_0x2365a2='text-green-700\x20bg-green-100';break;default:_0x73f1=_0x5ad4ad(0x909),_0x2365a2='text-green-700\x20bg-green-100';break;}let _0x525f67='';const _0x195642={'day':_0x5ad4ad(0x936),'month':'2-digit','year':'numeric','hour':_0x5ad4ad(0x936),'minute':_0x5ad4ad(0x936),'hour12':![]};if(_0x3f6bec===_0x5ad4ad(0x69d)){if(_0x776078[_0x5ad4ad(0x571)])_0x525f67+=_0x5ad4ad(0x892)+new Date(_0x776078[_0x5ad4ad(0x571)])[_0x5ad4ad(0x533)](_0x5ad4ad(0x3e5),_0x195642)+_0x5ad4ad(0x1ad);if(_0x776078['endTime'])_0x525f67+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x776078[_0x5ad4ad(0x2a6)])[_0x5ad4ad(0x533)]('th-TH',_0x195642)+'</p>';}let _0x2cc620='';if(_0x776078[_0x5ad4ad(0x863)]){const _0xa415f1=allQuizzes[_0x5ad4ad(0xae2)](_0x5e1202=>_0x5e1202['id']===_0x776078[_0x5ad4ad(0x863)]);if(_0xa415f1){let _0x52ae24,_0x1f94f3;new Date(_0x776078[_0x5ad4ad(0x899)])<new Date(_0xa415f1['createdAt'])?(_0x52ae24=_0x776078['id'],_0x1f94f3=_0xa415f1['id']):(_0x52ae24=_0xa415f1['id'],_0x1f94f3=_0x776078['id']),_0x2cc620+=_0x5ad4ad(0x744)+_0x1f94f3+_0x5ad4ad(0x62b)+_0x52ae24+_0x5ad4ad(0x258);}}else _0x776078[_0x5ad4ad(0x895)]===_0x5ad4ad(0x7b9)&&(_0x2cc620+=_0x5ad4ad(0x5c1)+_0x776078['id']+_0x5ad4ad(0xa22));if(_0x776078[_0x5ad4ad(0x895)]===_0x5ad4ad(0x7b9)&&_0x32c6ac>0x0)_0x2cc620+=_0x5ad4ad(0x5c1)+_0x776078['id']+_0x5ad4ad(0xb71);else!_0x776078[_0x5ad4ad(0x863)]&&_0x776078[_0x5ad4ad(0x895)]!==_0x5ad4ad(0x7b9)&&_0x32c6ac>0x0&&(_0x2cc620+=_0x5ad4ad(0x5c1)+_0x776078['id']+_0x5ad4ad(0x203));let _0x185b27='';_0x776078[_0x5ad4ad(0x863)]?_0x185b27=_0x5ad4ad(0x33f)+_0x776078['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x185b27=_0x5ad4ad(0x33f)+_0x776078['id']+_0x5ad4ad(0xad6),_0x45ba68+=_0x5ad4ad(0x678)+_0x776078['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x776078[_0x5ad4ad(0x265)]+_0x5ad4ad(0x82e)+_0x776078[_0x5ad4ad(0x7bb)][_0x5ad4ad(0x1eb)]+_0x5ad4ad(0x25b)+new Date(_0x776078[_0x5ad4ad(0x899)])['toLocaleString'](_0x5ad4ad(0x3e5))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x32c6ac+_0x5ad4ad(0xb08)+_0x525f67+_0x5ad4ad(0x2f4)+_0x2365a2+'\x22>'+_0x73f1+_0x5ad4ad(0x429)+_0x776078['id']+_0x5ad4ad(0x6e3)+_0x776078['id']+_0x5ad4ad(0x3b3)+(_0x776078['isStarred']?_0x5ad4ad(0x918):_0x5ad4ad(0x765))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2cc620+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x776078['id']+_0x5ad4ad(0x4cc)+_0x776078['id']+_0x5ad4ad(0x481)+_0x776078['id']+_0x5ad4ad(0x2d1)+_0x776078['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x776078['id']+_0x5ad4ad(0x175)+_0x776078['id']+_0x5ad4ad(0x5f4)+_0x776078['id']+_0x5ad4ad(0x633)+_0x776078[_0x5ad4ad(0x265)]+_0x5ad4ad(0xad2)+_0x776078['id']+_0x5ad4ad(0x514)+_0x776078['id']+_0x5ad4ad(0x286)+_0x185b27+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x776078['id']+_0x5ad4ad(0x52e)+_0x776078['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x776078['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x776078['id']+_0x5ad4ad(0x4bb)+_0x776078['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x776078['id']+_0x5ad4ad(0x923)+_0x776078['id']+_0x5ad4ad(0x52f)+_0x776078['id']+_0x5ad4ad(0x633)+_0x776078[_0x5ad4ad(0x265)]+_0x5ad4ad(0x9ff)+_0x776078['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3620fd[_0x1b3972(0x9c5)]=_0x45ba68,document[_0x1b3972(0x3e7)]('.quiz-result-card')[_0x1b3972(0x97e)](_0x51b658=>{const _0x1ccaf1=_0x1b3972;_0x51b658['addEventListener'](_0x1ccaf1(0x58a),()=>{const _0x1457e2=_0x1ccaf1,_0xbf6997=_0x51b658[_0x1457e2(0x635)][_0x1457e2(0x174)];showQuizDetailView(_0xbf6997);});});}async function handleUnpairQuiz(_0x5de308){const _0x2bef1a=_0x314764,_0x27d66d=allQuizzes[_0x2bef1a(0xae2)](_0x4217ca=>_0x4217ca['id']===_0x5de308);if(!_0x27d66d||!_0x27d66d[_0x2bef1a(0x863)]){showMessage(_0x2bef1a(0xa6c));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x178109=_0x2bef1a;try{const _0x284366=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5de308),_0x421135=doc(db,_0x178109(0x21f)+appId+_0x178109(0x544),_0x27d66d[_0x178109(0x863)]),_0x174cdc=writeBatch(db);_0x174cdc['update'](_0x284366,{'pairedQuizId':null}),_0x174cdc[_0x178109(0x3e0)](_0x421135,{'pairedQuizId':null}),await _0x174cdc[_0x178109(0xb03)](),showMessage(_0x178109(0x2ae));}catch(_0x40555f){console[_0x178109(0x9b3)](_0x178109(0xb42),_0x40555f),showMessage(_0x178109(0x70b));}});}function formatAndPrintLessonPlan(_0x529e34,_0x23301c){const _0x329b17=_0x314764,_0x337fea=window[_0x329b17(0x4fe)]('',_0x329b17(0xa2b)),_0x58c6e7=_0x329b17(0xae1)+_0x23301c[_0x329b17(0x265)]+_0x329b17(0x40b)+_0x23301c['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x529e34[_0x329b17(0x891)][_0x329b17(0x83a)](_0x26e7d5=>'<li>'+_0x26e7d5+_0x329b17(0x302))['join']('')+_0x329b17(0x775)+_0x529e34[_0x329b17(0xb7b)]+_0x329b17(0x493)+_0x529e34[_0x329b17(0xaad)]['map'](_0x3f25c9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x3f25c9[_0x329b17(0x2d4)]+_0x329b17(0x215)+_0x3f25c9[_0x329b17(0x247)]+_0x329b17(0x35a))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x337fea[_0x329b17(0x404)][_0x329b17(0x1cd)](_0x58c6e7),_0x337fea['document'][_0x329b17(0x190)](),_0x337fea[_0x329b17(0x584)]=function(){setTimeout(()=>{_0x337fea['print']();},0x3e8);};}async function handleAiFixFormula(_0x3e91b6){const _0x75c2f3=_0x314764,_0x546f26=document[_0x75c2f3(0x612)](_0x75c2f3(0x760)+_0x3e91b6+'\x22]');if(!_0x546f26)return;const _0x49cc3a=_0x546f26[_0x75c2f3(0x635)][_0x75c2f3(0xa3e)],_0x3d619a=_0x546f26['querySelector'](_0x75c2f3(0x9a4));let _0x1a045d={'question':_0x546f26[_0x75c2f3(0x612)]('textarea')[_0x75c2f3(0x3e6)]};switch(_0x49cc3a){case _0x75c2f3(0x75c):_0x1a045d[_0x75c2f3(0x9b5)]=Array['from'](_0x546f26[_0x75c2f3(0x3e7)](_0x75c2f3(0x741)))[_0x75c2f3(0x83a)](_0xbe7225=>_0xbe7225[_0x75c2f3(0x3e6)]);break;case'short_answer':_0x1a045d[_0x75c2f3(0x841)]=_0x546f26[_0x75c2f3(0x612)]('.ideal-answer-input')[_0x75c2f3(0x3e6)];break;case _0x75c2f3(0x554):_0x1a045d[_0x75c2f3(0x53e)]=_0x546f26[_0x75c2f3(0x612)]('.correct-response-input')['value'];break;}_0x3d619a[_0x75c2f3(0x9c5)]=_0x75c2f3(0x301),_0x3d619a[_0x75c2f3(0x915)]=!![];try{const _0x434337='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON['stringify'](_0x1a045d)+_0x75c2f3(0xbce),_0x4e3e30={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'idealAnswer':{'type':_0x75c2f3(0x5b8)},'correctResponse':{'type':_0x75c2f3(0x5b8)}},'required':[_0x75c2f3(0x2d4)]}},'required':[_0x75c2f3(0x1ed)]},_0x2f2e42=await callAnalysisApi(_0x434337,_0x4e3e30);if(_0x2f2e42&&_0x2f2e42[_0x75c2f3(0x1ed)]){const _0x47a4c2=_0x2f2e42[_0x75c2f3(0x1ed)];_0x546f26[_0x75c2f3(0x612)](_0x75c2f3(0x2a1))[_0x75c2f3(0x3e6)]=_0x47a4c2[_0x75c2f3(0x2d4)]||_0x1a045d['question'];switch(_0x49cc3a){case _0x75c2f3(0x75c):_0x47a4c2[_0x75c2f3(0x9b5)]&&_0x47a4c2[_0x75c2f3(0x9b5)][_0x75c2f3(0x1eb)]>0x0&&_0x546f26['querySelectorAll'](_0x75c2f3(0x741))[_0x75c2f3(0x97e)]((_0xc7e2bf,_0xb73c65)=>{const _0x19a834=_0x75c2f3;_0xc7e2bf[_0x19a834(0x3e6)]=_0x47a4c2['options'][_0xb73c65]||_0x1a045d['options'][_0xb73c65];});break;case _0x75c2f3(0x8a4):_0x546f26[_0x75c2f3(0x612)](_0x75c2f3(0x74f))[_0x75c2f3(0x3e6)]=_0x47a4c2['idealAnswer']||_0x1a045d[_0x75c2f3(0x841)];break;case'matching_item':_0x546f26[_0x75c2f3(0x612)](_0x75c2f3(0x3d2))[_0x75c2f3(0x3e6)]=_0x47a4c2['correctResponse']||_0x1a045d[_0x75c2f3(0x53e)];break;}if(_0x1a045d[_0x75c2f3(0x2d4)]!==_0x47a4c2[_0x75c2f3(0x2d4)])try{const _0x44ce3e=collection(db,_0x75c2f3(0x21f)+appId+_0x75c2f3(0x401));await addDoc(_0x44ce3e,{'broken':_0x1a045d[_0x75c2f3(0x2d4)],'fixed':_0x47a4c2[_0x75c2f3(0x2d4)],'createdAt':serverTimestamp()});}catch(_0xc9b14b){console[_0x75c2f3(0x9b3)](_0x75c2f3(0x5a2),_0xc9b14b);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x75c2f3(0x5f1));}catch(_0x26e3e2){console['error'](_0x75c2f3(0x2a0),_0x26e3e2),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x3d619a['innerHTML']=_0x75c2f3(0xc2f),_0x3d619a[_0x75c2f3(0x915)]=![];}}async function handleGenerateLessonPlan(_0x3b0720){const _0x490991=_0x314764;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x4cc254=doc(db,_0x490991(0x21f)+appId+_0x490991(0x544),_0x3b0720),_0x1d7db5=await getDoc(_0x4cc254);if(!_0x1d7db5['exists']())throw new Error(_0x490991(0x80c));const _0x347119={'id':_0x3b0720,..._0x1d7db5[_0x490991(0x31c)]()},_0x43d474=collection(db,'artifacts/'+appId+_0x490991(0x544),_0x3b0720,_0x490991(0x5c6)),_0x16a2f4=await getDocs(_0x43d474),_0x39d2de=_0x16a2f4['docs'][_0x490991(0x83a)](_0x511b86=>_0x511b86[_0x490991(0x31c)]());if(_0x39d2de[_0x490991(0x1eb)]===0x0)throw new Error(_0x490991(0xa54));const _0xb26454=calculateItemAnalysis(_0x347119,_0x39d2de)[_0x490991(0x285)],_0xc545c4=calculateDistractorAnalysis(_0x347119,_0x39d2de),_0x4da69b=_0x52cf4e=>{const _0x5bbfab=_0x490991;if(!_0x52cf4e)return'';return _0x52cf4e['replace'](/\\/g,'\x5c\x5c')[_0x5bbfab(0xa99)](/"/g,'\x5c\x22')[_0x5bbfab(0xa99)](/\n/g,'\x5cn');};let _0xbbdba5=_0x490991(0x350);_0x347119['questions'][_0x490991(0x97e)]((_0x20afe9,_0x253787)=>{const _0x4be135=_0x490991,_0x273469=_0xb26454[_0x253787]?.['p'][_0x4be135(0x5ca)](0x2)||_0x4be135(0x78b),_0x4e82ac=_0xb26454[_0x253787]?.['r']['toFixed'](0x2)||_0x4be135(0x78b),_0x374c02=_0x4da69b(_0x20afe9['questionText']||_0x20afe9[_0x4be135(0x458)]);_0xbbdba5+=_0x4be135(0x99b)+(_0x253787+0x1)+_0x4be135(0x1d6)+_0x273469+_0x4be135(0x68f)+_0x4e82ac+'):\x20'+_0x374c02+'\x5cn';if(_0x20afe9[_0x4be135(0xb6e)]==='multiple_choice'&&_0xc545c4[_0x253787]){const _0x4206a0=_0xc545c4[_0x253787],_0x1384bb=Object[_0x4be135(0x34a)](_0x4206a0)[_0x4be135(0x595)](_0x1e0851=>parseInt(_0x1e0851)!==_0x20afe9[_0x4be135(0xaca)])[_0x4be135(0x588)]((_0x423170,_0x4ef1db)=>_0x4206a0[_0x4ef1db]['total']-_0x4206a0[_0x423170]['total'])[0x0];if(_0x1384bb&&_0x4206a0[_0x1384bb]['total']>0x0){const _0x5b66dd=_0x4da69b(_0x4206a0[_0x1384bb][_0x4be135(0xb56)]);_0xbbdba5+=_0x4be135(0x1a1)+_0x5b66dd+'\x22\x5cn';}}});const _0x211793=_0x490991(0x9ad)+_0x347119[_0x490991(0x265)]+_0x490991(0x778)+_0xbbdba5+_0x490991(0x4c9),_0x3fe92d={'type':_0x490991(0x417),'properties':{'learningGaps':{'type':_0x490991(0x8c2),'items':{'type':'STRING'}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x490991(0x8c2),'items':{'type':'OBJECT','properties':{'question':{'type':_0x490991(0x5b8)},'solution':{'type':_0x490991(0x5b8)}}}}},'required':[_0x490991(0x891),_0x490991(0xb7b),_0x490991(0xaad)]},_0x50589e=await callAnalysisApi(_0x211793,_0x3fe92d);await updateDoc(_0x4cc254,{'lessonPlan':_0x50589e});const _0x5f2407='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x347119[_0x490991(0x265)]+_0x490991(0x187)+_0x50589e[_0x490991(0x891)][_0x490991(0x83a)](_0x13a5dd=>'<li>'+_0x13a5dd+_0x490991(0x302))[_0x490991(0x47c)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x50589e[_0x490991(0xb7b)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x50589e['practiceProblems'][_0x490991(0x83a)](_0x2b4e4b=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x2b4e4b[_0x490991(0x2d4)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x2b4e4b['solution']+'</p></div>')[_0x490991(0x47c)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x490991(0x6e9))[_0x490991(0xa88)]=_0x490991(0x3d1)+_0x347119[_0x490991(0x265)],document[_0x490991(0x6ce)](_0x490991(0x8e3))[_0x490991(0x9c5)]=_0x5f2407,document[_0x490991(0x6ce)](_0x490991(0x5fd))[_0x490991(0x68d)][_0x490991(0x49f)]('hidden');if(window[_0x490991(0x649)])MathJax['typesetPromise']();messageModal[_0x490991(0x68d)][_0x490991(0x8f4)](_0x490991(0xbc7));}catch(_0x1c2ae2){console[_0x490991(0x9b3)](_0x490991(0x534),_0x1c2ae2),showMessage(_0x490991(0x6e8)+_0x1c2ae2['message']);}}async function handleDuplicateQuiz(_0x4da71e){const _0x113ece=_0x314764;try{const _0x229651=doc(db,'artifacts/'+appId+_0x113ece(0x544),_0x4da71e),_0x579f5d=await getDoc(_0x229651);if(_0x579f5d[_0x113ece(0x232)]()){const _0x3091b8=_0x579f5d['data']();let _0x2264de='',_0x2a476c=_0x113ece(0x4f7),_0x5065e2=null;if(_0x3091b8[_0x113ece(0x895)]===_0x113ece(0x7b9)){let _0x5bd190=_0x3091b8[_0x113ece(0x265)]['replace']('(ก่อนเรียน)','')[_0x113ece(0x1b6)]();_0x2264de=_0x113ece(0x6ed)+_0x5bd190,_0x2a476c=_0x113ece(0x9d0),_0x5065e2=_0x4da71e;}else _0x2264de='(คัดลอก)\x20'+_0x3091b8[_0x113ece(0x265)];const _0x5604b6={..._0x3091b8,'topic':_0x2264de,'createdAt':new Date()['toISOString'](),'quizMode':_0x2a476c,'pairedQuizId':_0x5065e2};let _0x2c3281;while(!![]){_0x2c3281=Math[_0x113ece(0x7d0)](0x3e8+Math[_0x113ece(0x2e9)]()*0x2328)['toString']();const _0xb82b6=await getDoc(doc(db,_0x113ece(0x21f)+appId+_0x113ece(0x544),_0x2c3281));if(!_0xb82b6[_0x113ece(0x232)]())break;}const _0x2347fc=doc(db,_0x113ece(0x21f)+appId+_0x113ece(0x544),_0x2c3281);await setDoc(_0x2347fc,_0x5604b6),_0x5604b6[_0x113ece(0x895)]===_0x113ece(0x9d0)&&await updateDoc(_0x229651,{'pairedQuizId':_0x2c3281}),showMessage(_0x113ece(0x49b));}else throw new Error(_0x113ece(0x60b));}catch(_0x5e4149){console['error'](_0x113ece(0xb3c),_0x5e4149),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x33e750,_0x52c4cc=!![]){const _0x1fdfc5=_0x314764;try{const _0x2a924c=writeBatch(db),_0x3253a9=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x33e750+_0x1fdfc5(0x9f3)),_0x7d84dc=await getDocs(_0x3253a9);_0x7d84dc['forEach'](_0x3a5e57=>{_0x2a924c['delete'](doc(_0x3253a9,_0x3a5e57['id']));});const _0x497e08=doc(db,'artifacts/'+appId+_0x1fdfc5(0x544),_0x33e750);_0x2a924c[_0x1fdfc5(0x483)](_0x497e08),await _0x2a924c[_0x1fdfc5(0xb03)]();try{console[_0x1fdfc5(0xa58)](_0x1fdfc5(0xa01)+_0x33e750+_0x1fdfc5(0xb69));const _0x34acf4=collection(db,_0x1fdfc5(0x21f)+appId+'/public/data/blueprintProjects'),_0x577766=await getDocs(_0x34acf4),_0x5b5fbf=[];_0x577766[_0x1fdfc5(0x97e)](_0x462639=>{const _0x51659d=_0x1fdfc5,_0x2ac2bb=_0x462639[_0x51659d(0x31c)](),_0x1daf5e=_0x2ac2bb[_0x51659d(0x315)]||{};let _0x6e269c=![];for(const _0x4690f6 in _0x1daf5e){const _0x5f44da=_0x1daf5e[_0x4690f6];if(_0x5f44da[_0x51659d(0x4ed)]&&_0x5f44da[_0x51659d(0x4ed)][_0x51659d(0x8f7)](_0x33e750)){_0x6e269c=!![];const _0x257655=doc(db,'artifacts/'+appId+_0x51659d(0xa32),_0x462639['id']),_0x5e8a23=updateDoc(_0x257655,{['topics.'+_0x4690f6+_0x51659d(0x3ec)]:arrayRemove(_0x33e750)});_0x5b5fbf[_0x51659d(0x403)](_0x5e8a23);}}}),_0x5b5fbf[_0x1fdfc5(0x1eb)]>0x0&&(await Promise[_0x1fdfc5(0x486)](_0x5b5fbf),console['log'](_0x1fdfc5(0x6c1)+_0x5b5fbf[_0x1fdfc5(0x1eb)]+_0x1fdfc5(0x21a)+_0x33e750+'.'));}catch(_0xab3fa5){console['error'](_0x1fdfc5(0x6a9),_0xab3fa5);}_0x52c4cc&&showMessage(_0x1fdfc5(0x84c));}catch(_0x3e525a){console[_0x1fdfc5(0x9b3)](_0x1fdfc5(0xa12),_0x3e525a),_0x52c4cc&&showMessage(_0x1fdfc5(0x6cb));}}async function showQuizDetailView(_0x324c0f){const _0x1ea4b9=_0x314764;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x1ea4b9(0xa39));try{const _0xf385f4=doc(db,_0x1ea4b9(0x21f)+appId+_0x1ea4b9(0x544),_0x324c0f),_0x3d0aa2=await getDoc(_0xf385f4);if(!_0x3d0aa2[_0x1ea4b9(0x232)]()){showMessage(_0x1ea4b9(0x80c));return;}const _0x34811e={'id':_0x3d0aa2['id'],..._0x3d0aa2[_0x1ea4b9(0x31c)]()};currentQuizData=_0x34811e;const _0x200a8e=doc(db,'artifacts/'+appId+_0x1ea4b9(0x7fe),_0x34811e[_0x1ea4b9(0x368)]),_0x2836ed=await getDoc(_0x200a8e);_0x2836ed[_0x1ea4b9(0x232)]()?(currentProjectData=_0x2836ed[_0x1ea4b9(0x31c)](),currentProjectId=_0x34811e[_0x1ea4b9(0x368)]):(currentProjectData={'students':[]},currentProjectId=_0x34811e[_0x1ea4b9(0x368)]);document[_0x1ea4b9(0x6ce)]('results-quiz-title')['textContent']=_0x34811e[_0x1ea4b9(0x265)],document[_0x1ea4b9(0x6ce)](_0x1ea4b9(0x2ed))[_0x1ea4b9(0xa88)]=_0x324c0f;const _0x32b6f1=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x324c0f,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x32b6f1,_0x5eb511=>{const _0x695151=_0x1ea4b9,_0x156b15=_0x5eb511['docs'][_0x695151(0x83a)](_0x5c4465=>({'id':_0x5c4465['id'],..._0x5c4465[_0x695151(0x31c)]()}));currentSubmissions=_0x156b15;const _0x540563=_0x156b15['filter'](_0x30be19=>_0x30be19['attempts']&&_0x30be19[_0x695151(0x23c)][_0x695151(0x1eb)]>0x0);renderBehaviorLog(_0x156b15),renderAnswerGrid(currentProjectData[_0x695151(0x801)],_0x540563,_0x34811e),renderAnalytics(_0x34811e,_0x540563),renderQuizResultsTable(currentProjectData[_0x695151(0x801)],_0x156b15,_0x34811e),renderQuizLeaderboard(_0x540563,_0x34811e,_0x695151(0x58b));}),showView('quiz-results');}catch(_0x528edf){console[_0x1ea4b9(0x9b3)](_0x1ea4b9(0x65a),_0x528edf),showMessage(_0x1ea4b9(0xab7));}}function renderAnswerGrid(_0x5a0bfb,_0x123849,_0x34a9fa){const _0x3caaa4=_0x314764,_0x2cc528=document[_0x3caaa4(0x6ce)](_0x3caaa4(0x4cb));if(!_0x2cc528)return;if(!_0x5a0bfb||_0x5a0bfb[_0x3caaa4(0x1eb)]===0x0){_0x2cc528['innerHTML']=_0x3caaa4(0x9df);return;}const _0x1c74b2=_0x34a9fa[_0x3caaa4(0x7bb)],_0x5b29eb=_0x123849[_0x3caaa4(0xbd7)]((_0x38db33,_0x5c620f)=>{const _0x3f12e9=_0x3caaa4;return _0x38db33[_0x5c620f[_0x3f12e9(0x43f)]]=_0x5c620f,_0x38db33;},{}),_0xc7398e=_0x51835f=>String[_0x3caaa4(0x6f6)](0x41+_0x51835f),_0xe3933b=_0x4ac5c7=>{const _0x478b7d=_0x3caaa4,_0x2faf2b=_0x4ac5c7[_0x478b7d(0xb6e)]||_0x34a9fa[_0x478b7d(0xa1e)];switch(_0x2faf2b){case _0x478b7d(0x75c):return _0x4ac5c7[_0x478b7d(0x9b5)]&&_0x4ac5c7['options'][_0x478b7d(0x1eb)]>_0x4ac5c7['correctAnswerIndex']?_0xc7398e(_0x4ac5c7[_0x478b7d(0xaca)]):'-';case _0x478b7d(0xa97):const _0xf5de58=_0x4ac5c7['correctAnswer']===!![]||String(_0x4ac5c7['correctAnswer'])[_0x478b7d(0x5db)]()===_0x478b7d(0x8de);return _0xf5de58?_0x478b7d(0x1dd):_0x478b7d(0x9b7);case _0x478b7d(0x554):return _0x4ac5c7[_0x478b7d(0x53e)]||'-';case _0x478b7d(0x8a4):return'พิมพ์ตอบ';default:return'-';}},_0x1d3dea=(_0x46b969,_0x1a16af)=>{const _0x4e185c=_0x3caaa4;if(_0x1a16af[_0x4e185c(0xa38)]===null||_0x1a16af['answer']===undefined)return'-';const _0xc1907=_0x46b969[_0x4e185c(0xb6e)]||_0x34a9fa['quizType'];switch(_0xc1907){case'multiple_choice':const _0x36d5a=_0x46b969[_0x4e185c(0x9b5)][_0x4e185c(0xb57)](_0x654a50=>_0x654a50===_0x1a16af[_0x4e185c(0x46a)]);return _0x36d5a!==-0x1?_0xc7398e(_0x36d5a):_0x1a16af[_0x4e185c(0x46a)]||'-';case _0x4e185c(0xa97):if(_0x1a16af['answer']=='0'||_0x1a16af[_0x4e185c(0xa38)]===!![]||_0x1a16af[_0x4e185c(0xa38)]===_0x4e185c(0x8de))return _0x4e185c(0x1dd);return _0x4e185c(0x9b7);default:return _0x1a16af[_0x4e185c(0xa38)];}};let _0x3835ef=_0x3caaa4(0x330)+_0x1c74b2[_0x3caaa4(0x83a)]((_0x5ee882,_0x5cb51d)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x5cb51d+0x1)+_0x3caaa4(0x463))[_0x3caaa4(0x47c)]('')+_0x3caaa4(0x961)+_0x1c74b2['map'](_0x4c6845=>_0x3caaa4(0x3ef)+_0xe3933b(_0x4c6845)+_0x3caaa4(0x54c))[_0x3caaa4(0x47c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x5a0bfb[_0x3caaa4(0x97e)](_0xfa8208=>{const _0x1cded2=_0x3caaa4;_0x3835ef+=_0x1cded2(0x59d),_0x3835ef+=_0x1cded2(0x4e5)+_0xfa8208+_0x1cded2(0x54c);const _0x58d57f=_0x5b29eb[_0xfa8208];if(_0x58d57f){const _0x318c64=_0x58d57f[_0x1cded2(0x23c)][_0x58d57f[_0x1cded2(0x23c)][_0x1cded2(0x1eb)]-0x1];_0x1c74b2[_0x1cded2(0x97e)]((_0x365e16,_0x2ada41)=>{const _0x1889ab=_0x1cded2,_0x41a87f=_0x318c64['answers'][_0x1889ab(0xae2)](_0x3fcae5=>_0x3fcae5[_0x1889ab(0x91e)]===_0x365e16['id']);if(_0x41a87f){let _0x422921='';const _0x164330=_0x41a87f[_0x1889ab(0x48b)]===!![],_0x2d8dc7=_0x41a87f[_0x1889ab(0x6c7)]===!![]||_0x41a87f[_0x1889ab(0x6c7)]===_0x1889ab(0xa7f);_0x2d8dc7?_0x422921=_0x164330?_0x1889ab(0x6f4):_0x1889ab(0x50f):_0x422921=_0x164330?'bg-green-100':_0x1889ab(0x94c),_0x3835ef+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x422921+'\x22>'+_0x1d3dea(_0x365e16,_0x41a87f)+_0x1889ab(0x54c);}else _0x3835ef+=_0x1889ab(0x9d7);});}else _0x3835ef+=_0x1c74b2[_0x1cded2(0x83a)](()=>_0x1cded2(0x1d5))[_0x1cded2(0x47c)]('');_0x3835ef+=_0x1cded2(0x22f);}),_0x3835ef+='</tbody></table>',_0x2cc528[_0x3caaa4(0x9c5)]=_0x3835ef;}function renderQuizResultsTable(_0x598291,_0x7c0329,_0x252637){const _0x3dec41=_0x314764,_0x217332=_0x7c0329[_0x3dec41(0xbd7)]((_0x1346f7,_0x47b094)=>{const _0x4998d9=_0x3dec41;return _0x1346f7[_0x47b094[_0x4998d9(0x43f)]]=_0x47b094,_0x1346f7;},{}),_0x848f44=document['querySelector'](_0x3dec41(0x4c1));_0x848f44&&!_0x848f44[_0x3dec41(0x9c5)][_0x3dec41(0x8f7)]('จัดการ')&&(_0x848f44[_0x3dec41(0x9c5)]+=_0x3dec41(0x57d));const _0x4a1f33=document[_0x3dec41(0x6ce)]('quiz-results-table-body');if(!_0x598291||_0x598291[_0x3dec41(0x1eb)]===0x0){_0x4a1f33[_0x3dec41(0x9c5)]=_0x3dec41(0x8ce);return;}const _0x3db68f=_0x252637[_0x3dec41(0x802)]===!![],_0x2ea9c3=_0x252637[_0x3dec41(0xbd0)]?.[_0x3dec41(0xaa1)]??-0x1;let _0x456685='';_0x598291[_0x3dec41(0x97e)](_0x55f87a=>{const _0x4f5937=_0x3dec41,_0x1d2238=_0x217332[_0x55f87a];let _0x325c1f=_0x4f5937(0x9c0)+(_0x3db68f?_0x4f5937(0x303):_0x4f5937(0xa19))+'\x22>'+(_0x3db68f?'สอบซ่อม':_0x4f5937(0x78f))+_0x4f5937(0x9d2);if(_0x1d2238){if(_0x1d2238['attempts']&&_0x1d2238['attempts'][_0x4f5937(0x1eb)]>0x0){let _0x1a525a=_0x3db68f?_0x1d2238[_0x4f5937(0xc0f)]===_0x1d2238['totalQuestions']:_0x2ea9c3!==-0x1&&_0x1d2238[_0x4f5937(0xc0f)]>=_0x2ea9c3;const _0x1d6e05=_0x1a525a?'bg-green-100\x20text-green-800':_0x4f5937(0x560),_0x29ccd3=_0x1a525a?_0x4f5937(0x5b9):_0x4f5937(0xb6c),_0x445eed=_0x4f5937(0x993)+_0x1d6e05+'\x22>'+_0x29ccd3+_0x4f5937(0x9d2),_0x141166=_0x4f5937(0x5bd)+(_0x1d2238[_0x4f5937(0x23c)]?.[_0x4f5937(0x1eb)]||0x1)+_0x4f5937(0x670);_0x456685+=_0x4f5937(0x667)+_0x55f87a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x1d2238['bestScore']+_0x4f5937(0x2d6)+_0x1d2238[_0x4f5937(0x2ee)]+_0x4f5937(0x3ee)+_0x445eed+_0x4f5937(0x906)+_0x325c1f+_0x4f5937(0x7c8)+_0x1d2238[_0x4f5937(0x2b8)]+_0x4f5937(0x2d6)+_0x1d2238[_0x4f5937(0x2ee)]+_0x4f5937(0x511)+_0x1d2238['latestScore']+_0x4f5937(0x2d6)+_0x1d2238[_0x4f5937(0x2ee)]+_0x4f5937(0xb18)+(_0x1d2238[_0x4f5937(0x216)]||0x0)+_0x4f5937(0x3ee)+_0x141166+_0x4f5937(0x44b)+new Date(_0x1d2238['latestSubmittedAt'])['toLocaleString'](_0x4f5937(0x3e5))+_0x4f5937(0xbff)+_0x55f87a+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x157ee0='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x456685+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x55f87a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x325c1f+_0x4f5937(0x45c)+_0x157ee0+_0x4f5937(0x44b)+new Date(_0x1d2238[_0x4f5937(0xa93)])[_0x4f5937(0x533)](_0x4f5937(0x3e5))+_0x4f5937(0x7ba)+_0x55f87a+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x34c33c='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x456685+=_0x4f5937(0x365)+_0x55f87a+_0x4f5937(0x665)+_0x325c1f+_0x4f5937(0x20f)+_0x34c33c+_0x4f5937(0x74c);}}),_0x4a1f33['innerHTML']=_0x456685;}async function confirmRenameQuiz(){const _0x5a7138=_0x314764,_0x1df516=document[_0x5a7138(0x6ce)](_0x5a7138(0xa02))[_0x5a7138(0x3e6)][_0x5a7138(0x1b6)]();if(!_0x1df516){showMessage(_0x5a7138(0xc23));return;}if(!actionTargetId)return;const _0x125966=doc(db,'artifacts/'+appId+_0x5a7138(0x544),actionTargetId);try{await updateDoc(_0x125966,{'topic':_0x1df516}),showMessage(_0x5a7138(0x89d)),renameQuizModal[_0x5a7138(0x68d)][_0x5a7138(0x8f4)](_0x5a7138(0xbc7)),actionTargetId=null;}catch(_0x59f332){console['error']('Error\x20renaming\x20quiz:',_0x59f332),showMessage(_0x5a7138(0xb79));}}function _0x29db(){const _0x182022=['commit','quiz-editor-questions-container','ยอดเยี่ยม','file-topic-input','approx','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','answers','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','trail-tool-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','บันทึกการแก้ไข','bp-topic-list-container','interesting-stats-wrapper','<div\x20class=\x22space-y-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','cancel-team-selection-btn','จุด\x20เส้น\x20ระนาบ','อัปเดตสถานะสำเร็จ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','สมการตรีโกณมิติ','insertAdjacentHTML','live-race','พบข้อสอบ\x20','สถิติและความน่าจะเป็น','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','Error\x20calling\x20Gemini\x20API:','text-indigo-800','generated','<h1></h1>','save-game-results-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','pen-tools-group','ฟังก์ชันค่าสัมบูรณ์','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','whole_quiz','mean','quiz-type-select','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.kick-player-btn-sync','Error\x20listening\x20for\x20projects:','สัญกรณ์วิทยาศาสตร์','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','25708aJxkDx','custom-math-topic-input','#26890c','รีเซ็ตลำดับโปรเจคแล้ว','quiz-bank-modal','border-green-300\x20bg-green-50','มุมพิเศษ\x2045°-45°-90°','Error\x20duplicating\x20quiz:','bp-modal-shuffle-setting-select','some','bulk-confidence-scoring-checkbox','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','onclick','Error\x20unpairing\x20quizzes:',')\x22>','\x5csum','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lesson-view-title','px)\x20scale(','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','shuffledQuiz','ไม่มีคำอธิบาย','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','.topic-selection-btn','.project-card-container.opacity-50','close-lesson-plan-modal-btn','Error\x20saving\x20settings:','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีคุณสมบัติดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20a.\x20\x20**[กฎที่สำคัญที่สุด]**\x20จำนวนข้อสอบรวม\x20และจำนวนข้อในแต่ละรูปแบบ\x20**ต้องตรงกับตัวเลขที่คุณวิเคราะห์ได้จาก\x20Test\x20Blueprint\x20ในข้อ\x201\x20ทุกประการ**\x20ห้ามสร้างข้อสอบเกินหรือขาดจากจำนวนนี้อย่างเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b.\x20\x20**ต้องเรียงลำดับคำถามตามรูปแบบ**\x20ที่ระบุใน\x20Blueprint\x20(เช่น\x20ปรนัยทั้งหมดก่อน,\x20ตามด้วยระบายตัวเลข)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c.\x20\x20**สำหรับรูปแบบ\x20\x27ถูก/ผิด\x27\x20(ถ้ามี):**\x20ต้องสร้างเป็นประโยคบอกเล่า\x20(Statement)\x20ห้ามสร้างเป็นคำถามให้คำนวณหาค่า\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.\x20\x20ต้องครอบคลุมเนื้อหาตามสาระการเรียนรู้ที่กำหนด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e.\x20\x20ต้องสร้างสรรค์โจทย์\x20ไม่ซ้ำซากจำเจ\x20และเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','text','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','confirmation-modal','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','localeCompare','.file-topic-selection-btn','date_desc','\x20คนที่ส่ง\x20ตอบถูก\x20(','move-quiz-project-select','key','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','quiz-search-input','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','scores','manual-bp-project-name','00:00','\x20in\x20all\x20blueprint\x20projects.','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20live\x20race:','ไม่ผ่าน','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','questionType','\x20จุด','ฟังก์ชันเชิงเส้นและกราฟ','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','difficultyValue','shadowBlur','.scratchpad-content-wrapper','Error\x20deleting\x20submission:','move-quiz-modal','handleGenerateQuizFromBlueprintTopic','back-to-results-btn','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','.answeredCurrentQuestion','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','Error\x20confirming\x20players\x20for\x20sync\x20game:','modal-results-display-select','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','Firebase\x20initialization\x20failed:','submission','save-quiz-edits-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','uid','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','หน่วยเวลาและการคำนวณเวลา','Error\x20editing\x20topic:','tooltipTarget','players','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','isConfidenceScoringEnabled','No\x20player\x20data\x20to\x20save.','.bp-unlink-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','cancel-test-btn','results','.start-game-btn','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','timerMode','comparison-overall-tab','substring','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','href','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','/public/data/customMathTopics','กรุณาใส่ชื่อนักเรียน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','176utxtsW','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x20**[กฎเพิ่มเติมที่สำคัญที่สุด]:**\x20ต้องเน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','Group\x20Mode','\x27,\x20\x27','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','question-analytics-container','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','presentation-ai-result','text-gray-700','#student-project-leaderboard-content\x20thead','innerText','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','flex','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_no_choices','ไม่สามารถเริ่มเกมได้','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerCorrect','both','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','pen-tool-btn','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','.quiz-bank-present-btn','hidden','พื้นที่สามเหลี่ยม','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','.mb-6.p-4','ไม่สามารถโหลดรายการโปรเจคได้','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','settings','application','frac','.topic-actions-view','per-question-text','latestSubmittedAt','question-complexity-select','reduce','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','การหารเศษส่วน','temp-loader-text-results','modal-close-btn','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','score','image/png','bg-green-200\x20text-green-900','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','jspdf','AI\x20Fix\x20Error:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','Error\x20updating\x20pin\x20status:','ฟังก์ชันสัมพัทธ์\x20(rational)','อสมการค่าสัมบูรณ์','สร้างโปรเจคสำเร็จ!','student-view','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','cancel-quiz-bank-btn','workerSrc','<textarea\x20name=\x22question','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','text-red-600','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','projectOrder','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','default','ค่าเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','drop','status','Error\x20fetching\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','per_question','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','10441656XoiVdx','/public/data/projects/','save-quiz-btn','Test\x20Blueprint','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','export-leaderboard-pdf-btn','confidence-choice-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','quiz-generation-area','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bestScore','<p\x20class=\x22font-bold\x20text-sm\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','blockReason','autoTable','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','คำเตือน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','devicePixelRatio','leaderboard-tab-content','ไม่สามารถโหลดคลังข้อสอบได้','subTopics','join-group-activity-btn','477pQWMIh','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-topic-bank-btn','เกิดข้อผิดพลาดในการนำผู้เล่นออก','กรุณาใส่ชื่อใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','table','student-progress-view','docs','pinnedProjects','API\x20Error\x20Response:','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','removeChild','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','<p>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','<i\x20class=\x22fas\x20fa-magic\x22></i>','Failed\x20to\x20resume\x20game\x20session:','มุมพิเศษ\x2030°-60°-90°','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','\x20รายการ\x20สำเร็จ!','overallGroups','bp-modal-include-images-checkbox','.delete-submission-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','quizId','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','postScore','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','<tr><td\x20colspan=\x22','.bp-create-topic-quiz-btn','\x22\x20class=\x22delete-project-btn\x20','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดูผลสรุปสุดท้าย','viewBox','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.png','originalQuestionText','upper_group_count','reveal-answer-btn','show-in-student-dashboard-checkbox','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','[data-field=\x22subTopic\x22]','point','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred','.edit-quiz-btn','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','bg-green-500','close','generationConfig','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','confidence-mode-select','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','fa-shield-alt\x20text-gray-600','กลุ่ม:\x20','behavior-log-tab-btn','การบวก','จับคู่แบบทดสอบสำเร็จ!','checkbox','ring-2','multiply','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','complexityValue','toDate','total','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','generate-from-link-btn','admin-dashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','confirm-bulk-quiz-settings-btn','mode','.score','rgba(255,\x20255,\x200,\x200.5)','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','textarea[name=\x22team_answer\x22]','แก้ไขหัวข้อสำเร็จ','number','trim','การแจกแจงทวินาม\x20(พื้นฐาน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','blueprint-project-manager-view','\x20quizzes\x20into\x20global\x20cache.','.delete-project-btn','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','All\x20groups\x20have\x20finished.\x20Ending\x20game.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','STOP','student-rankings-modal','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','คัดลอกรหัสแล้ว!','text-tab','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','write','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','พื้นที่ผิวรูปทรงสามมิติ','timer-bar','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ก่อนเรียน','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x20(p=','bank-tab','เกิดข้อผิดพลาดในการสร้างห้องเกม','createObjectURL','เลือกและเริ่มสร้าง','scrollX','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','ใช่','ศูนย์','แก้ระบบสมการด้วยเมทริกซ์','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','confidence_single','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','project-detail-view','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22team_player\x22]:checked','แบบทดสอบนี้หมดเวลาแล้ว','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','การบวกเศษส่วน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','title','fixedData','สมการเชิงเส้นตัวแปรเดียว','finishReason','confirm-game-start-btn','Error\x20toggling\x20pin\x20status:','highlighter-size-value','preScore','numChoices','\x22>จาก:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','project-list','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','setItem','.\x20แต่ละข้อมี\x20','รหัสไม่ถูกต้อง','create-from-bank-btn','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','ข้อที่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scale','\x22...','getElementsByTagName','fa-fire\x20text-orange-500','lesson-loader-text','name_asc','\x20คู่\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','เกิดข้อผิดพลาดในการปักหมุด','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ownerSVGElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','loopUntilPass','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มบวก','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x20link(s)\x20for\x20quiz\x20ID:\x20','Error\x20comparing\x20results:','Error\x20unlinking\x20quiz:','separate-by-content-checkbox','class','artifacts/','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','timer-duration-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','authed_project_','pointerdown','leaderboard-quiz-tab-content','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','underline','border-green-700','timed','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','text-indigo-600','content','</tr>','memoryContent','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','exists','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','width','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','fullscreenElement','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','แคลคูลัสเบื้องต้น','/studentProfiles','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cdot','solution','fill_in_with_choices','getPage','next-drill-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','เพิ่ม\x20','dragover','confidence-scoring-toggle','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20during\x20class\x20analysis:','quiz-id-input','.project-card-content','cancel-quiz-edits-btn-footer','isArray','handleGenerateAndShowLesson','\x20สำเร็จ','test','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์หัวข้อ...','redo-btn','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','กำลังจับคู่...','text-red-300\x20hover:text-red-100','parent','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พื้นที่สี่เหลี่ยม','topic','Error\x20analyzing\x20blueprint\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submittedAt','justification','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','student-quiz-leaderboard-content','back-to-dashboard-from-results-btn','lesson-sections-container','ที่พิมพ์ได้\x20จำนวน\x20','icon','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','temp-loader-results','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','บันทึกผลการเล่นเกมของ\x20','Error\x20joining\x20live\x20game:','<option\x20value=\x22','visibilitychange','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงรูปอัตลักษณ์','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','s;\x22\x20title=\x22','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','lineJoin','showInStudentDashboard','perQuestionStats','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20lesson\x20to\x20project:','.ideal-answer-input,\x20.correct-response-input','lower_group_count','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','numQuestions','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','bp-quiz-settings-btn','\x27\x20ในส่วน\x20\x27MEMORY\x27\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','input[type=\x22checkbox\x22]:checked','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','opacity-50','mjx-container','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','bg-green-100','ยังไม่ส่ง','เงินงวด\x20(อนุกรมเงินงวด)','.bp-open-topic-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','.delete-bp-project-btn','AI\x20Formula\x20Fix\x20Error:','textarea','cloneNode','modal-message','#ffffff','globalSettings','endTime','json','export-worksheet-pdf-btn','Error\x20generating\x20parallel\x20test\x20from\x20bank:','name_desc','check-presentation-answer-btn','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','<div\x20class=\x22mb-3\x20topic-category\x22>','ยกเลิกการจับคู่สำเร็จ','editor-quiz-topic','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','sync-short-answer-input','perfect_score_status','.quiz-bank-checkbox:checked','mouseup','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ระบบสมการเชิงเส้นสองตัวแปร','firstScore','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','badgesCount','project-search-input','hasPerfectScoreBonus','thead','then','rows','start-sync-game-btn','cancel-admin-login-btn','max','<div\x20class=\x22my-2\x22>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','force-math-checkbox','add-from-global-bank-btn','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','.color-palette-popup','การยืนยันตัวตนล้มเหลว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#000000','ลบโปรเจคสำเร็จ','topic-tab','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','question','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','\x20/\x20','Error\x20loading\x20quiz\x20for\x20student:','<div>','แบบทดสอบที่ติดดาว','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','from','main-correct-answer-display','สำหรับหัวข้อ\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','mouse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','toString','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','เส้นตรง:\x20รูปแบบสมการ','classWeaknesses','bg-red-200\x20text-red-800','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกี่ยวกับหัวข้อ\x20\x22','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','blur','results-quiz-id-display','totalQuestions','ไม่มี','กำลังอ่านและเตรียมไฟล์...','cursor','ยืนยันการกระทำ','manage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','scores-tab-btn','student-project-leaderboard-table-body','Error\x20loading\x20user\x20preferences:','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','Error\x20listening\x20for\x20starred\x20quizzes:','mouseleave','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ควรปรับปรุง','fixed','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','</li>','bg-amber-100\x20text-amber-800','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','bp-modal-question-complexity-select','รายการนี้','จากไฟล์ที่แนบมานี้,\x20','.pen-color-btn','text-gray-200','.project-card-container[data-id]','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20name=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','รอ...','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-prompt-message','$1\x20\x5cfrac','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','topics','.regenerate-question-btn','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','latestScore','NUMBER','requestFullscreen','data','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','-options','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','ไม่พบแบบทดสอบในระบบเลย','text-input-area','<option>กำลังโหลดโปรเจค...</option>','msExitFullscreen','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','empty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ชนิดของข้อมูลและการเก็บข้อมูล','</td></tr>','update-old-quizzes-btn','not_generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','ราชาคัมแบ็ก','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','Error\x20resetting\x20project\x20order:','summaryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>','<tr\x20class=\x22','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','topic-input-area','ฟังก์ชันยกกำลัง','ไม่พบข้อมูลข้อสอบหลังเรียน','<button\x20data-quiz-id=\x22','q-text-','หยุดระบบจับเวลาหรี่หน้าจอ','</body></html>','ลิมิต','Failed\x20to\x20generate\x20lesson:','Error\x20saving\x20questions\x20to\x20practice\x20bank:','.parallel-quiz-btn','ค่าคลาดเคลื่อนของการวัด','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','end-sync-game-btn','keys','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','lesson-view-modal','การคูณเศษส่วน','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-topic-btn','สรุปผลการวิเคราะห์:\x5cn','BOOLEAN','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-white','พบ\x20Team\x20Quiz!','student-team-join','wakeLock','Error\x20loading\x20blueprint\x20projects:','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary_chart','สเกลและแผนที่','/public/data/syncGames','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','showRankings','bg-green-200\x20text-green-800','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','projectId','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','file-input-area','memory','parse','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังอัปเดตแบบทดสอบ\x20','preTScore','การเรียงสับเปลี่ยน\x20(Permutation)','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isFinished','ไม่ได้ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','members','auto','math-topic-search-input','bulk-results-display-select','input[type=\x22radio\x22][value=\x22','application/json','</span>','.topic-row','\x20\x20\x20-\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Failed\x20to\x20generate\x20practice\x20test:','confirm-manual-bp-btn','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','ตรวจทานเฉลยเสร็จสิ้น!','_opt1\x22>ไม่ใช่</label></div>','dispatchEvent','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','responseSchema','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x20จุดเรียบร้อยแล้ว','confirm-link-quiz-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','p-2\x20bg-black/10\x20rounded-md','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','per-question-timer-container','delete-all-students-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','\x22,\x20','Error\x20generating\x20from\x20blueprint:','selected-answer-index-hidden','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','confirm-join-game-btn','close-presentation-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','เกิดข้อผิดพลาดในการติดดาว','team-student-list','text-green-600','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','อสมการเชิงเส้น','blueprint-projects-modal','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','scores-tab-content','Auto-linking\x20new\x20quiz\x20','sync-matching-select','ตรีโกณมิติ','<br>','confirm-game-start-modal','sync-manage-players-btn','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','numPages','.bp-try-btn','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','text-red-900','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','.save-custom-topic-btn','save','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','passcode','.answered','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','คะแนนเต็ม','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','target','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','editable-text-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','reset-project-order-btn','แผนการสอน:\x20','.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-difficulty-level-select','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','-tab-content','sqrt','bulk-quiz-settings-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','confirm-admin-login-btn','short','manual-bp-grade-level','update','.generate-post-test-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','ผิด','list','th-TH','value','querySelectorAll','submit','files','cancel-delete-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','.linkedQuizIds','Blueprint\x20O-NET\x20ป.6','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','แผนภาพกล่อง\x20(box\x20plot)','desc','presentation-explanation','practice-topic-btn','back-to-project-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','modal-loop-until-pass-checkbox','loader','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','bg-black/20','shuffle-setting-select','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers\x20in\x20editor:','cancel-export-pdf-btn','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','/public/data/learnedFixes','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','push','document','เกิดข้อผิดพลาดในการโหลดโปรเจค','analytics-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','contentEditable','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','.toggle-actions-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20displaying\x20blueprint\x20project:','-tab','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','list-view-btn','.open-bp-project-btn','bg-purple-50','OBJECT','ไม่สามารถบันทึกการตั้งค่าได้','หมดเวลาสำหรับข้อนี้!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-game-start-btn','/preferences/main','admin','questionText','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','Error\x20saving\x20manual\x20blueprint\x20project:','(ฉบับง่าย)\x20','<p\x20class=\x22text-2xl\x22>','pinned-items','duration-300','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','currentQuestionIndex','ลบโปรเจคสำเร็จแล้ว','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','Error\x20updating\x20quiz\x20status:','Error\x20submitting\x20team\x20answer:','สร้างคำถามใหม่\x201\x20ข้อ\x20','#DBEAFE','สามเหลี่ยม\x20(ชนิด/สมบัติ)','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','export-word-btn','goto-next-question-btn','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','restore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-title','timerDuration','studentName','.live-answer-btn,\x20#live-submit-short-answer-btn','gradeLevel','.star-quiz-btn','.ai-content\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','isScored','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','lowerGroupNames','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','getItem','.ai-content\x20blockquote','contents','QUICK_THINKER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','upperGroupNames','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','link-input-area','\x27\x20ในหัวข้อ\x20\x27','stem','live-short-answer-input','block','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','border-red-300\x20bg-red-50','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','<button\x20id=\x22','show_pass_fail_only','\x0a\x20\x20\x20\x20','</th>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','กราฟแท่ง\x20กราฟเส้น','candidates','q-explanation-','answerText','button[data-id]','show_results_and_answers','Error\x20saving\x20quiz:','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','blueprint-tab','\x22\x20value=\x22','game-start-quiz-id','\x20ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หน่วยความยาวและการแปลง','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','Failed\x20to\x20kick\x20player\x20','ใช่\x20/\x20ถูก','promise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','join','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','substr','บันทึกการตั้งค่าสำเร็จ','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','delete','วงกลม:\x20คอร์ดและเส้นสัมผัส','documentElement','all','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','สมการเหตุผล\x20(rational)','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','isCorrect','next-question-btn','file-topics-list','confirm-quiz-status-btn','Error\x20deleting\x20all\x20students:','px,\x20','\x22\x20สำเร็จ!','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','กฎบวกและกฎคูณ','แก้ไขข้อนี้','สำหรับโปรเจค:\x20','คัดลอกแบบทดสอบสำเร็จ','Team\x20Quiz','ปริพันธ์จำกัด','sync','remove','ร้อยละประยุกต์','bp-modal-quiz-type-select','ดีเทอร์มิแนนต์','manage-tab-content','project-sort-select','ไม่พบโปรเจค','เปิด\x20(จับเวลา)','actions-container-','4442751kLahBb','Error\x20updating\x20old\x20quizzes:','analytics-summary-cards','[data-topic-id=\x22','hover:bg-indigo-100','<span\x20title=\x22','analytics-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','quiz-end-time','จากเนื้อหาต่อไปนี้:\x20\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','กรุณาใส่ชื่อโปรเจค','bulk-shuffle-select','topics.','lobby','เรขาคณิตวิเคราะห์','.application-options\x20button','(เลือกแล้ว\x20','bp-project-title','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สมการยกกำลัง','parallel-test-tab','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','none','#results-table\x20thead\x20tr','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','Failed\x20to\x20get\x20standardized\x20topic:','confidence-scoring-description','กิจกรรมสิ้นสุดลงแล้ว','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mandatory','answer-grid-container','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','onchange','อยู่ในหัวข้อหลักใด:','\x20ตอบ','Error\x20generating\x20worksheet:','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','projectSort','lowerGroupResponders','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','#E0E7FF','bg-yellow-50','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','gameData','ตอบถูก\x203\x20ข้อติดต่อกัน','การปัดเศษและประมาณค่า','left','<div\x20class=\x22my-6\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','สู้ๆ\x20ลองอีกครั้งนะ','leaderboard-quiz-tab-btn','separate-by-content-from-file-checkbox','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','projectSortOrder','set','eraser-tool-btn','selectedTopicNames','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','linkedQuizIds','modal-confidence-mode-select','rgba(239,\x2068,\x2068,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','bg-gray-200\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','confirm-team-players-btn','<div\x20class=\x22p-2\x20rounded-md\x20','standardTopic','ฟังก์ชันกำลังสองและกราฟ','standard','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','ระยะเวลา\x20(นาที):','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','open-quiz-bank-btn','open','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','answering','grid','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','quick_thinker','cancel-bp-settings-btn','clientY','.presentation-option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','className','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','per-question-options','bg-red-500\x20text-white\x20font-bold','comparison','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','blueprint-upload-input','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','4197816AYNytg','questionIndex','.bp-create-onet-quiz-btn','cancel-quiz-edits-btn','กรุณาวาง\x20URL\x20ของบทความก่อน','.sortable-header','input[type=\x22radio\x22]:checked','<div\x20class=\x22','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-actions-edit','round','right','เส้นรอบรูป','ลำดับเลขคณิต\x20(AP)','กลุ่มของคุณ','.topic-category','student-project-leaderboard-tab','close-lesson-view-btn','label[for=\x22num-questions\x22]','.project-card-container','แก้ไขสูตรคณิตศาสตร์\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20แบบทดสอบลงในคลังสำเร็จ!','สมการลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','toLocaleString','Error\x20generating\x20lesson\x20plan:','ความต่อเนื่อง','scratchpad-controls','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','selected-topics-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','student-join-game-view','.pen-size-btn','Error\x20saving\x20blueprint\x20project:','insertBefore','correctResponse','export-lesson-pdf-btn','0\x200','ทฤษฎีบทพีทาโกรัสและการประยุกต์','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','องค์ประกอบของฟังก์ชัน','/public/data/quizzes','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','193290maAWol','POST','ไม่พบเอกสารการส่งงานของ\x20','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','manage-tab','</td>','ร้อยละพื้นฐาน','sync-player-management','beginPath','lesson-view-content','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','parseFromString','blueprint-topics-list-container','matching_item','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','min','กรุณาพิมพ์คำตอบของกลุ่ม','การลบเศษส่วน','setAttribute','API\x20Error\x20Body:','matching','ค.ร.น.\x20(LCM)','Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.','เกิดข้อผิดพลาดในการลบผลสอบ','fullscreenchange','bg-red-100\x20text-red-800','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','Action:\x20View\x20existing\x20lesson.','modal-timer-duration-input','times','.answers','border-red-700','webkitRequestFullscreen','Error\x20adding\x20students:','project-name-input','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','ย้าย','manage-players-btn','manual-create-blueprint-btn','back-from-results-btn','FIRST_TRY_ACE','startTime','release','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','\x20หัวข้อ)','\x20ตัวเลือก.\x20','คณิตการเงิน/บูรณาการ','transition-all','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','lineCap','resultsDisplay','hasOwnProperty','กำลังเตรียมไฟล์\x20Test\x20Blueprint...','เกิดข้อผิดพลาด','Error\x20updating\x20sort\x20preference:','onload','บันทึกโปรเจค\x20\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','fill_in_the_blank','sort','modal-adaptive-quiz-checkbox','click','quiz-leaderboard-table-body','style','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','/questionBank','เรเดียนและการแปลงหน่วย','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','.quiz-bank-delete-btn','<div\x20class=\x22answer-space\x22></div>','filter','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','back-to-student-initial-btn','<tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<span\x20class=\x22sort-indicator\x20ml-2\x22>','lesson-loader','bank-input-area','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','<p\x20class=\x22text-xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','create-project-btn','student-team-selection-view','live-game','passcode-error-msg','reference-pdf-upload','fill','</span></p>','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','bg-green-100\x20font-bold','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ปริมาตรรูปทรงสามมิติ','Invalid\x20response\x20structure\x20from\x20API.','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','currentMode','specialist','text-blue-700','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','STRING','ผ่าน','topicName','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<p\x20class=\x22','(คู่ขนาน)\x20','backgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','dashboardConfig','select','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submissions','next-question-timed-btn','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','pointermove','toFixed','catch','shuffle','badges','.live-answer-btn','Attempting\x20to\x20save\x20game\x20results...','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','data:application/vnd.ms-word;charset=utf-8,','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','getContext','quiz-form','วงรี','toLowerCase','checked','save-blueprint-as-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI.','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','instructions','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x20(สำหรับ\x20','touch','game-pin-input','project-dashboard-view','kick-player-btn','scratchpad-canvas','bulk-confidence-mode-container','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','text-purple-600','setAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','\x5cle','กำลังสร้างรูปภาพ...','AI\x20ไม่สามารถประมวลผลข้อมูลได้','parts','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-confident','อัปเดตแบบทดสอบเก่า\x20','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','Failed\x20to\x20get\x20hint:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','opacity','scrollIntoView','lesson-plan-modal','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','.quiz-bank-try-btn','generated-quiz-container','interesting-stats-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','answerValue','text-emerald-800','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','circ','กรุณาป้อนรหัสแบบทดสอบ','NEGATIVE_INFINITY','กรุณาเลือกคำตอบก่อนครับ','cancel-rename-quiz-btn','Original\x20quiz\x20not\x20found','Sync\x20Mode','parseInline','leaderboard-table-body','%</span>','allResponses','analyze-strengths-btn','querySelector','parentElement','เส้นจำนวน','.export-pdf-list-btn','neq','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','project-passcode-modal','bg-green-200','mousemove','</span></div>','</form>','generate-from-text-btn','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','enable-passcode-checkbox','รูปแบบการให้เหตุผล','lessonPlan','AI\x20แก้ไขคำถามสำเร็จ!','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-tab','confidence-scoring-checkbox','.pointsLastQuestion','\x22\x20data-pre-test-id=\x22','print','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','http://www.w3.org/2000/svg','quiz-bank-count','\x22\x20data-topic=\x22','curriculum','dataset','ทำคะแนนได้เกินครึ่ง','confirm-create-project-btn','global-live-game-count','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20กลุ่ม</p></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ไม่พบตารางสำหรับ\x20Export','.bp-generate-lesson-btn','เศษส่วน\x20(ย่อ/ขยาย)','num-choices','ไม่ใช่\x20/\x20ผิด','MathJax','.start-live-race-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','text-emerald-900','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','results-tab','sara','quiz-leaderboard-table-container','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','canvas','passing-score-input','Error\x20showing\x20quiz\x20detail\x20view:','confirmation-message','player-count','confidenceMode','ค่าความจริง/ตารางค่าความจริง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','พบ\x20Sync\x20Game!','รูปสี่เหลี่ยมและสมบัติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','preventDefault','https://corsproxy.io/?','\x5ccdot','input[name=\x22drill_answer\x22]:checked','หัวข้อที่สร้างเอง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-detail','\x20ครั้ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-password-modal','clearRect','blueprint-settings-modal','Error\x20updating\x20project\x20name:','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','topic-quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','</div>','globalAlpha','ยอดเยี่ยม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','setFont','scratchpad-clear-btn','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','#student-quiz-leaderboard-content\x20thead','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','getDocument','sum','classList','กำลังค้นหากิจกรรม...',',\x20r=','\x20คะแนน</span></div>','confirm-not-confident','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','copy','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','139510Yymbuj','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','fa-pen','ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','Error\x20pairing\x20quizzes:','ระยะทางและจุดกึ่งกลาง','scheduled','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มรายการที่เลือก','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','แบบทดสอบ:\x20','/users/','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','กำลังสร้างแบบทดสอบ\x20\x22','keyConcepts','student-progress','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.summary-bar-item','Error\x20during\x20blueprint\x20link\x20cleanup:','.rename-quiz-btn','Error\x20regenerating\x20question\x20in\x20editor:','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','include-images-checkbox','admin-testing','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','applicationData','open-sync-scratchpad-btn','inactive','\x20(ID:\x20','คะแนน','Error\x20generating\x20from\x20link:','student-quiz-leaderboard-table-body','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','ai-quiz-generator-v3','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','scratchpad-close-btn','grid-view-btn','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','บันทึกการตั้งค่าแล้ว','Successfully\x20removed\x20','บทเรียนเรื่อง:\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','<div\x20class=\x22loader\x20mx-auto\x22></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-slider','wasConfident','msRequestFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','afterend','getElementById','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','questions_only','admin-try-quiz-btn','สมการราก\x20(radical)','Error\x20updating\x20project\x20color:','\x20mb-2\x22>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','scratchpad-modal','เรขาคณิต','student-quiz-area','file-tab','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','พีชคณิตและฟังก์ชัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','rename-quiz-modal','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','ปริมาตร/ความจุและการแปลง','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการลบนักเรียน','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','เกิดข้อผิดพลาด:\x20','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','no-projects-msg','timer-mode-select','(หลังเรียน)\x20','จำนวนข้อ:','link-tab','blueprint-topics-list','text-gray-400\x20hover:text-indigo-600','อินเวอร์สของเมทริกซ์','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','bg-green-400\x20text-white\x20font-bold','\x20ชุด)','fromCharCode','text-green-800','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','appendChild','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','confidence-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','pen','start-quiz-btn','math-topics-checkbox-container','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','totalPoints','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','project-quizzes-list','.topic-name-display','start-game-btn','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','.question-editor-item','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ไม่มีผู้ตอบตัวเลือกนี้','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','show-results-btn','_opt0\x22>ใช่</label></div>','difficulty-level-select','text-content-input','undo-btn','first_try_ace','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','กรุณาป้อนหัวข้อสำหรับใบงาน','leaderboard_','quiz-status-modal','เกิดข้อผิดพลาดในการลบ','ปริพันธ์ไม่จำกัด','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','G-V90KRM0L63','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','projectView','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','confidence','loader-text','items','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-50','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','now','\x22\x20data-quiz-id=\x22','<div\x20id=\x22q-image-container-','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','\x20ตัวเลือก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','clientX','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','ระยะเวลา\x20(วินาที):','activeGameSession','admin-password-input','timer-duration-label','3.\x20วิเคราะห์\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจสไตล์และระดับความยาก','stringify','text-gray-100','starred-project','ลบหัวข้อสำเร็จ','verify-answers-btn','lastAnswerIndex','\x20\x0a\x20\x20\x20\x20','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','includeImages','groups','ทฤษฎีทวินาม\x20(เบื้องต้น)','back-to-dashboard-from-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.doc','</div></div></div>','.ideal-answer-input','translate','ถูก','applicationHTML','<div\x20class=\x22flex-1\x22></div>','onerror','earned-badges-container','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','eraser','tGain','text/html','category','.pair-quiz-btn','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','/public/data/quizzes/','.question-editor-item[data-q-index=\x22','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','ผลรวมอนุกรม\x20(Σ)','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','far\x20fa-star','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','.ai-fix-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-live-race-generated-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBBox','bg-green-100\x20text-green-800','กำลังกลับเข้าสู่เกม\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ไม่พบข้อมูลหัวข้อที่จะบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบของกลุ่ม','ความสัมพันธ์ของมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x20คะแนน\x20','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','asc','touches','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','dataIndex','.generate-content-btn','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','เกิดข้อผิดพลาดในการลบโปรเจค','getAttributeNS','shadowColor','after','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','.delete-custom-topic-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','ไม่พบแบบทดสอบ','#FCE7F3','รากที่สองและที่สาม','ไม่พบข้อมูลโปรเจค','N/A','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-id-display','close-student-rankings-btn','สอบปกติ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','drill-feedback','comparison-individual-tab','confirm-move-quiz-btn','1:274192258111:web:4120c9118229b5644dd48a','keyup','.isScored','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','score-distribution-chart','values','confirm-quiz-settings-btn','Error\x20joining\x20sync\x20game:','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','globalCompositeOperation','ส่งแล้ว','Error\x20verifying\x20answers:','button','เพิ่มหัวข้อ\x20\x22','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questionDisplayedAt','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','การลบทศนิยม','ชื่อหัวข้อห้ามว่าง','Error\x20opening\x20quiz\x20editor:','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','ข้อ\x20','แบบเติมคำตอบ','circle','bulk-quiz-settings-modal','</h4>','.draggable-text','อนุพันธ์:\x20กฎพื้นฐาน','behavior-log-tab-content','isPasscodeEnabled','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','live-submit-short-answer-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','pre-test','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','questions','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','prev-question-btn','จำนวนเชิงซ้อน\x20(เสริม)','add-student-btn','answeredCurrentQuestion','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','correctAnswer','\x22\x20สำเร็จ','export-pdf-btn','(ก่อนเรียน)','\x20ข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','visible','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','export-lesson-to-pdf-btn','bg-black/10','pointercancel','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','floor','#math-topics-checkbox-container\x20input:checked','Error\x20fetching\x20project\x20quizzes:','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','สร้างชุดคำถามจับคู่','contains','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','pre-test-checkbox','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','live-game-view','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','active','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','submit-team-answer-btn','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','results-quiz-title','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)</span>','.live-summary-tooltip.visible','ปรับเพิ่ม/ลดเป็นร้อยละ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','.status','ความคล้ายของรูป','suggestedAnswer','rgba(59,\x20130,\x20246,\x200.7)','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','global-live-game-modal','จำนวนคละ','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','retake-quiz-loop-btn','การวัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','Authentication\x20failed:','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','/public/data/projects','กฎของโคไซน์','เลือกและบันทึก','students','isRemedial','\x5cneq','กรุณาเลือกโปรเจคก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','Error\x20rendering\x20student\x20progress:','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','ห.ร.ม.\x20(GCD)','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','game-start-modal-title','ไม่พบข้อมูลแบบทดสอบ','โดเมนและเรนจ์','text-red-800','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20mr-2\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','.highlighter-color-btn','slide-counter','lessonContent','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','ไฮเพอร์โบลา','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn','Error\x20generating\x20teaching\x20content:','คณิตศาสตร์','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','padStart','isStarred','explanation','correct','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','export-compact-pdf-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','pointContent','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','132UTkFVc','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','fadeStartTime','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','bg-green-50','ลำดับเรขาคณิต\x20(GP)','Leaderboard\x20update\x20transaction\x20failed:\x20','#FFFFFF','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x20จาก\x20','การจัดหมู่\x20(Combination)','show-leaderboard-btn','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','map','offsetWidth','webkitExitFullscreen','ทฤษฎีบทพื้นฐานของแคลคูลัส','[*]','team-quiz-topic','shouldSaveResults','idealAnswer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','option','.quiz-status-btn','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','perseverance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','sync-player-list','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบแบบทดสอบสำเร็จแล้ว','responses.','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','modal-passing-score-input','สลับไปโหมดนักเรียน','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','targetId','.quiz-bank-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','shuffleSetting','export-leaderboard-excel-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','groups.','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','ON_FIRE','วงกลม:\x20สมการและสมบัติ','not_confident','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','user','promptFeedback','กรุณาเลือกชื่อของคุณ','pairedQuizId','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','comparison-modal','fix-lesson-latex-btn','5tFpOTA','overline','trail','\x5cpm','message','timestamp','ถูกต้อง!','manual-bp-content','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','topic-bank-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','bp-modal-num-choices','leaderboard','text-blue-700\x20bg-blue-100','#confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','.delete-student-btn','Error\x20starting\x20team\x20quiz:','closePath','text-blue-800','[data-topic-container-id]','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','results-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</h3>','fa-rocket\x20text-purple-500','.duplicate-quiz-btn','Error\x20analyzing\x20file\x20for\x20topics:','กำลังสร้างเนื้อหา:\x20','เนื้อหาสำหรับสอน:\x20','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','comparison-chart','create-project-modal','stopPropagation','learningGaps','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quadraticCurveTo','quizMode','source-over',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','createdAt','verify-answers-editor-btn','topic-bank-subtopic-name','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','เปลี่ยนชื่อแบบทดสอบสำเร็จ','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','ตอบถูกทุกข้อในแบบทดสอบนี้','ring-purple-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','.edit-question-btn','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','short_answer','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','PERSEVERANCE','Error\x20joining\x20activity:','game-start-mode','/public/data/practiceBank','Error\x20submitting\x20group\x20answer:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','line-through\x20text-red-700','.bp-edit-topic-btn','เกิดข้อผิดพลาดในการบันทึกโปรเจค','.lastAnswerIndex','results-tab-content','mixed','(^|[^\x5c\x5c])\x5cb','ยกเลิกการเชื่อมโยงสำเร็จ','cos','smooth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','bp-modal-passing-score-input','getTextContent','.sort-indicator','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','Error\x20toggling\x20star\x20status:','transparent','student-project-leaderboard-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','ARRAY','text-gray-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บทเรียน','student-initial-view','student-name-select','playerName','touchmove','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','topic-input','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','cancel-move-quiz-btn','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','ดอกเบี้ยอย่างง่าย','results-display-select','gain',';\x22\x20data-id=\x22','file-topics-list-container','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','exitFullscreen','.pin-project-btn','แบบทดสอบฝึกฝนเรื่อง:\x20','label','แผนภาพเวนน์','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','true','พิสัย','<span\x20class=\x22font-bold\x20','ส่วนเบี่ยงเบนเฉลี่ย','color','lesson-plan-content','#F59E0B','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','adaptive-quiz-checkbox','slice','bank-quiz-search-input','auto-fix-latex-btn','กราฟฟังก์ชันตรีโกณ','mainTopic','geq','คำถามถัดไป','อัปเดตพฤติกรรมสำหรับ\x20','group','\x5cge','toLocaleDateString','manual-blueprint-modal','add','editable-quiz-topic','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','includes','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','.bp-delete-topic-btn','กำลังสแกนหาแบบทดสอบเก่า...','per-q-countdown','สร้างใหม่','blueprint-options-container','toggle','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','กรุณาสร้างบทเรียนก่อน','.quiz-bank-item','raw','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','medium','text/csv;charset=utf-8;','ตั้งเวลา\x20(เปิด)','transform','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','project-passcode-input','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','lineWidth','save-settings-btn','bg-red-500','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','pointsLastQuestion','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','disabled','classStrengths','pin','fas\x20fa-star\x20text-yellow-500','ref','การคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','pop','questionId','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','ระยะจากจุดถึงเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','name','\x22\x20data-name=\x22','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','setTransform','#6366F1','fa-dumbbell\x20text-gray-700','แบบทดสอบจากคลังส่วนตัว','false','</option>','27411472','Error\x20adding\x20custom\x20topic:','จำนวนคู่:','Error\x20clearing\x20linked\x20quiz:','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz','2-digit','/public/data/liveGames','Action:\x20Generate\x20new\x20lesson.','incorrect','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','applicationContent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','quiz-results-view','สมมาตร\x20(แกน/จุด)','scratchpad-header','ยืนยันและอัปเดตทั้งหมด','ผู้เชี่ยวชาญ','close-comparison-modal-btn','behaviorLog','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x20ชุดสำเร็จ!','ท็อปฟอร์ม','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','PERFECT_SCORE','bg-red-100','```','จำนวนเต็มลบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','กรุณาเลือกสถานะ','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','close-game-final-btn','</button>','Error\x20saving\x20to\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในสาระการเรียนรู้ใด:','live-player-management','offset','global-quiz-search-input','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','Error\x20clearing\x20all\x20links:','คำถามดิบ:\x20\x22','comparison-overall-content','text-yellow-300','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','normal','q-image-container-','กำลังโหลดคลังข้อสอบทั้งหมด...','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','typesetPromise','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','แผนการสอน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ตัวแปรและนิพจน์','ความแปรปรวน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','team','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','num-questions','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','<li>','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','download','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','touchcancel','show_results_only','quiz-settings-modal','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','add-custom-math-topic-btn','null','เกิดข้อผิดพลาดในการจับคู่','forEach','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ก่อน','check-answer-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','open-blueprint-projects-btn','Error\x20committing\x20score\x20updates:','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','กรุณาเลือกคำตอบ','ai-quiz-app-aefee.firebasestorage.app','pow','ยังไม่สร้าง','Error\x20listening\x20for\x20custom\x20math\x20topics:','topic_','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','[data-topic-id]','ไม่พบข้อมูลเกม','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','every','\x20รายการสำเร็จ!','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','-\x20ข้อ\x20','.start-presentation-list-btn','</label></div>','คะแนนเต็ม!','การประยุกต์เวกเตอร์พื้นฐาน','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','createElementNS','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','split','.ai-fix-formula-btn','isPinned','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x20รายการ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-list','font-bold\x20text-green-700','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','attemptNumber','Error\x20starting\x20game:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่เต็มนะ','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','options','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','ไม่ใช่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.lastAnswerCorrect','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','.lessonContent','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','presentation-short-answer-input','strokeStyle','get','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','stepByStepExamples','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','innerHTML','\x22><p\x20class=\x22font-semibold\x22>','.quiz-bank-move-btn','Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.','ไม่ระบุ','doughnut','พาราโบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','addEventListener','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','join-live-game-btn','post-test','generate-from-file-btn','</span></td>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเพิ่มนักเรียนได้','cancel-bulk-quiz-settings-btn','presentation-scratchpad-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','toISOString','touchend','กำลังดึงข้อมูลจากลิงก์...','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','teacherSuggestions','bank-quiz-list','การแยกตัวประกอบ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','<option\x20value=\x22\x22>กำลังโหลด...</option>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x22>ใช่</p>','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tool','presentation-modal','helvetica','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','7LHuqtH','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','podium','quiz-start-time',':</span><span>','.topic-name-input','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','/submissions','quiz-editor-modal','result','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','.bp-create-content-quiz-btn','height','เกิดข้อผิดพลาดในการอัปเดต:\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','back-to-dashboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','.color-palette-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','.bp-game-btn','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','rename-quiz-input','moveTo','subTopic','Error\x20generating\x20from\x20parallel\x20test\x20file:','.quiz-result-card','Error\x20moving\x20quiz:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','สาระที่\x201','highlighter','สมการค่าสัมบูรณ์','ไม่สามารถโหลดข้อมูลอันดับได้','การบวกทศนิยม','กรุณาเลือกโปรเจคปลายทาง','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','draggable-text','เกิดข้อผิดพลาดในการบันทึก','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','การหารทศนิยม','string','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100\x20text-blue-800','function','bg-yellow-100','ลำดับการดำเนินการ\x20(PEMDAS)','mainTopics','quizType','\x5ctimes','gamePin','cancel-blueprint-projects-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบซ่อมเสริม','screen_exit','confirm-passcode-btn','input[name=\x22status-option\x22]:checked','mousedown','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','_blank','back-to-home-manual-release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','stdDev','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/blueprintProjects','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','ยืนยันการจับคู่','.project-card-container:not(.opacity-50)','<i\x20class=\x22fas\x20fa-save\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','answer','analytics','finished','start-presentation-btn','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','isNormalTopic','qType','responses','อัตราการเปลี่ยนแปลงทันที','quiz-results','Re-grade\x20process\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','schedule','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','bg-gray-50','toDataURL','teacherTips','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','wheel','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','เปิดใช้งาน','modal-confidence-scoring-checkbox','ดอกเบี้ยทบต้น','สร้างคำถามแบบเติมคำในช่องว่าง','scratchpad-question','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','getBoundingClientRect','ยังไม่มีนักเรียนส่งงาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','อนุพันธ์:\x20กฎลูกโซ่','input','log','top','next-sync-question-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','qIndex','answer-counter','_opt1\x22\x20name=\x22question','flex\x20flex-col\x20gap-2','pointerup','blueprint-project-list','เกิดข้อผิดพลาดในการเข้าร่วมเกม','isLooping','generate-from-parallel-test-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','Error\x20fetching\x20student\x20rankings:','\x22><i\x20class=\x22fas\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','ค่าเสื่อมราคา','ai-quiz-app-aefee.firebaseapp.com','ไม่พบข้อมูลการจับคู่','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','removeItem','size','td,\x20th','.csv','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','</div></div>','outerHTML','arrayBuffer','(ไม่มีชื่อ)','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','student-name-selection-view','end-game-btn','FileReader\x20error:','หน่วยมวล/น้ำหนักและการแปลง','tan','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','confident','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','student','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','Error\x20generating\x20parallel\x20post-test:','manual_release','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','textContent','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','</p><div>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความคาดหมาย\x20(Expected\x20value)','originalTopic','comparison-individual-content','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20student:','startedAt','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','คัดลอกไม่สำเร็จ','sin','true_false','ผู้ควบคุม\x20(ทดสอบ)','replace','div','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการแก้ไข','cancel-quiz-status-btn','\x5csqrt{$1}','passingScore','font-bold\x20text-red-700\x20line-through','#retake-for-improvement-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','stroke','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','ระบบอสมการ','clear-all-links-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','รูปสแควร์รูท\x20(surd)','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','\x20ใหม่...','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','topicId','beforeend','players.','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','การกระจายและการจัดหมู่','.verification-result-editor','เกิดข้อผิดพลาดในการอ่านไฟล์','ผ่านฉลุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ฮิสโตแกรม','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','worksheet-topic-input','สุดยอด!\x20ตอบถูกทุกข้อ','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','ตรวจคะแนนใหม่\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20topic:','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','reset-view-btn','.linkedQuizId','correctAnswerIndex','fix\x20the\x20option','svg','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-delete-btn','สร้างคำถามแบบใช่/ไม่ใช่','ทศนิยม\x20(ค่าประจำหลัก)','strength-weakness-analysis-container','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','worksheet-input-area','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','countdown-display','Error\x20deleting\x20project:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','8801790aTeqnh','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','(ก่อนเรียน)\x20','bg-gray-500','currentTarget','match','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','find','ย้ายแบบทดสอบไปโปรเจคอื่น','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','blueprint-input-area','highlighter-tools-group','choices_only','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','mode-switcher-btn','commonMistakes','destroy','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-player-list','จำนวนและการดำเนินการ','COMEBACK_KING','rgba(79,\x2070,\x20229,\x201)','กำลังสร้างคำถามข้อ\x20','API\x20call\x20failed','input[type=\x22checkbox\x22]','\x5cdiv','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','parallel-test-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','change','Error\x20updating\x20quiz\x20settings:','timer-duration-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','position','API\x20call\x20failed\x20with\x20status:\x20','\x20|\x20','/public/data/teamQuizzes'];_0x29db=function(){return _0x182022;};return _0x29db();}async function handleMoveQuiz(_0x748b79){const _0x5afc8b=_0x314764;actionTargetId=_0x748b79;const _0x50e229=document[_0x5afc8b(0x6ce)]('move-quiz-project-select');_0x50e229['innerHTML']=_0x5afc8b(0x323),moveQuizModal[_0x5afc8b(0x68d)][_0x5afc8b(0x49f)](_0x5afc8b(0xbc7));try{const _0x27d7ef=collection(db,_0x5afc8b(0x21f)+appId+_0x5afc8b(0x7fe)),_0x438d8d=await getDocs(_0x27d7ef),_0x4a38ae=_0x438d8d[_0x5afc8b(0xc27)][_0x5afc8b(0x83a)](_0x4e2b66=>({'id':_0x4e2b66['id'],..._0x4e2b66[_0x5afc8b(0x31c)]()})),_0x59c1d5=_0x4a38ae['filter'](_0x30ff06=>_0x30ff06['id']!==currentProjectId);if(_0x59c1d5[_0x5afc8b(0x1eb)]===0x0){_0x50e229[_0x5afc8b(0x9c5)]=_0x5afc8b(0xafe),document[_0x5afc8b(0x6ce)](_0x5afc8b(0x793))[_0x5afc8b(0x915)]=!![];return;}_0x50e229[_0x5afc8b(0x9c5)]=_0x59c1d5[_0x5afc8b(0x83a)](_0x3f8d60=>_0x5afc8b(0x279)+_0x3f8d60['id']+'\x22>'+_0x3f8d60[_0x5afc8b(0xbbf)]+'</option>')[_0x5afc8b(0x47c)](''),document[_0x5afc8b(0x6ce)](_0x5afc8b(0x793))['disabled']=![];}catch(_0x10a8d8){console[_0x5afc8b(0x9b3)]('Error\x20fetching\x20projects\x20for\x20move:',_0x10a8d8),showMessage(_0x5afc8b(0xbcd)),moveQuizModal[_0x5afc8b(0x68d)][_0x5afc8b(0x8f4)](_0x5afc8b(0xbc7));}}async function confirmMoveQuiz(){const _0x525aa0=_0x314764,_0x22dd03=document['getElementById']('move-quiz-project-select')[_0x525aa0(0x3e6)];if(!_0x22dd03){showMessage(_0x525aa0(0xa0f));return;}if(!actionTargetId)return;const _0x38bccc=doc(db,_0x525aa0(0x21f)+appId+_0x525aa0(0x544),actionTargetId);try{await updateDoc(_0x38bccc,{'projectId':_0x22dd03}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x525aa0(0x68d)][_0x525aa0(0x8f4)](_0x525aa0(0xbc7)),actionTargetId=null;}catch(_0x1de5cf){console[_0x525aa0(0x9b3)](_0x525aa0(0xa07),_0x1de5cf),showMessage(_0x525aa0(0x4d1));}}async function handleQuizSettings(_0x4a14e1){const _0x3a2bf8=_0x314764;actionTargetId=_0x4a14e1;const _0xe1b9bf=doc(db,_0x3a2bf8(0x21f)+appId+'/public/data/quizzes',_0x4a14e1);try{const _0x2b9a1d=await getDoc(_0xe1b9bf);if(_0x2b9a1d[_0x3a2bf8(0x232)]()){const _0x3bddd8=_0x2b9a1d['data'](),_0x50c99=_0x3bddd8['settings']||{},_0x2bd000=_0x3bddd8[_0x3a2bf8(0x7bb)][_0x3a2bf8(0x1eb)];document[_0x3a2bf8(0x6ce)]('modal-shuffle-select')[_0x3a2bf8(0x3e6)]=_0x50c99[_0x3a2bf8(0x5cc)]||_0x3a2bf8(0x4c0),document[_0x3a2bf8(0x6ce)](_0x3a2bf8(0xb7e))[_0x3a2bf8(0x3e6)]=_0x50c99[_0x3a2bf8(0x57f)]||_0x3a2bf8(0x46c),document[_0x3a2bf8(0x6ce)]('modal-timer-mode-select')['value']=_0x50c99[_0x3a2bf8(0xb9b)]||_0x3a2bf8(0x4c0),document[_0x3a2bf8(0x6ce)](_0x3a2bf8(0x563))[_0x3a2bf8(0x3e6)]=_0x50c99[_0x3a2bf8(0x43e)]||0xa,document[_0x3a2bf8(0x6ce)](_0x3a2bf8(0x84f))['value']=_0x50c99[_0x3a2bf8(0xaa1)]||Math['floor'](_0x2bd000/0x2),document['getElementById'](_0x3a2bf8(0x84f))['max']=_0x2bd000,document['getElementById']('modal-adaptive-quiz-checkbox')[_0x3a2bf8(0x5dc)]=_0x50c99['isAdaptive']||![],document['getElementById'](_0x3a2bf8(0x3f7))[_0x3a2bf8(0x5dc)]=_0x50c99[_0x3a2bf8(0x214)]||![];const _0x374aec=_0x50c99['isConfidenceScoringEnabled']||![];document[_0x3a2bf8(0x6ce)](_0x3a2bf8(0xa4e))[_0x3a2bf8(0x5dc)]=_0x374aec,document['getElementById'](_0x3a2bf8(0x4ee))['value']=_0x50c99['confidenceMode']||_0x3a2bf8(0x19a);const _0x518d13=document[_0x3a2bf8(0x6ce)]('modal-confidence-mode-container');_0x518d13['classList'][_0x3a2bf8(0x8ff)](_0x3a2bf8(0xbc7),!_0x374aec),document[_0x3a2bf8(0x6ce)]('modal-timer-mode-select')[_0x3a2bf8(0x38b)](new Event('change')),quizSettingsModal['classList'][_0x3a2bf8(0x49f)](_0x3a2bf8(0xbc7));}else showMessage(_0x3a2bf8(0x80c));}catch(_0x55c2ae){console['error'](_0x3a2bf8(0xbfd),_0x55c2ae),showMessage(_0x3a2bf8(0xb0b));}}async function confirmQuizSettings(){const _0x4b7abe=_0x314764;if(!actionTargetId)return;const _0x52c091=doc(db,_0x4b7abe(0x21f)+appId+'/public/data/quizzes',actionTargetId),_0x28f728={'shuffle':document[_0x4b7abe(0x6ce)]('modal-shuffle-select')[_0x4b7abe(0x3e6)],'resultsDisplay':document[_0x4b7abe(0x6ce)](_0x4b7abe(0xb7e))[_0x4b7abe(0x3e6)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x4b7abe(0x3e6)],'timerDuration':parseInt(document[_0x4b7abe(0x6ce)](_0x4b7abe(0x563))[_0x4b7abe(0x3e6)])||0xa,'passingScore':parseInt(document[_0x4b7abe(0x6ce)](_0x4b7abe(0x84f))['value'])||0x0,'isAdaptive':document[_0x4b7abe(0x6ce)](_0x4b7abe(0x589))[_0x4b7abe(0x5dc)],'loopUntilPass':document[_0x4b7abe(0x6ce)](_0x4b7abe(0x3f7))['checked'],'isConfidenceScoringEnabled':document[_0x4b7abe(0x6ce)]('modal-confidence-scoring-checkbox')['checked'],'confidenceMode':document['getElementById']('modal-confidence-mode-select')[_0x4b7abe(0x3e6)]};try{await updateDoc(_0x52c091,{'settings':_0x28f728}),showMessage(_0x4b7abe(0x47f)),quizSettingsModal[_0x4b7abe(0x68d)]['add'](_0x4b7abe(0xbc7)),actionTargetId=null;}catch(_0x27796c){console[_0x4b7abe(0x9b3)](_0x4b7abe(0xafa),_0x27796c),showMessage(_0x4b7abe(0xa14));}}async function confirmQuizStatus(){const _0x3053ad=_0x314764;if(!actionTargetId)return;const _0x2a661f=doc(db,'artifacts/'+appId+_0x3053ad(0x544),actionTargetId),_0x66873a=document['querySelector'](_0x3053ad(0xa28));if(!_0x66873a){showMessage(_0x3053ad(0x951));return;}const _0x52f02f=_0x66873a['value'];let _0x423344={};if(_0x52f02f==='active'||_0x52f02f===_0x3053ad(0x6b3))_0x423344={'status':_0x52f02f,'startTime':null,'endTime':null};else{if(_0x52f02f===_0x3053ad(0xa44)){const _0xcc26a4=document[_0x3053ad(0x6ce)](_0x3053ad(0x9ef))[_0x3053ad(0x3e6)],_0x18fa9d=document[_0x3053ad(0x6ce)](_0x3053ad(0x4b0))[_0x3053ad(0x3e6)];if(!_0xcc26a4&&!_0x18fa9d){showMessage(_0x3053ad(0x6a7));return;}_0x423344={'status':_0x3053ad(0x69d),'startTime':_0xcc26a4?new Date(_0xcc26a4)[_0x3053ad(0x9d8)]():null,'endTime':_0x18fa9d?new Date(_0x18fa9d)['toISOString']():null};}}try{await updateDoc(_0x2a661f,_0x423344),showMessage(_0x3053ad(0xb16)),quizStatusModal[_0x3053ad(0x68d)][_0x3053ad(0x8f4)]('hidden'),actionTargetId=null;}catch(_0x16fc08){console[_0x3053ad(0x9b3)](_0x3053ad(0x42e),_0x16fc08),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x45bf19){const _0x4fae02=_0x314764,_0x26da5b=collection(db,_0x4fae02(0x21f)+appId+_0x4fae02(0xc06)+_0x45bf19+_0x4fae02(0x243));unsubscribeStudentProfilesListener=onSnapshot(_0x26da5b,_0x21fc47=>{const _0x50bd9c=_0x4fae02,_0x5b85a2=_0x21fc47[_0x50bd9c(0xc27)][_0x50bd9c(0x83a)](_0x261932=>_0x261932[_0x50bd9c(0x31c)]());renderLeaderboard(_0x5b85a2,_0x50bd9c(0x60e));},_0x1d7e5f=>{const _0x281c36=_0x4fae02;console[_0x281c36(0x9b3)](_0x281c36(0x495),_0x1d7e5f),document[_0x281c36(0x6ce)](_0x281c36(0x60e))[_0x281c36(0x9c5)]=_0x281c36(0xa7e);});}function renderLeaderboard(_0x1f7ad4,_0x1dbee2){const _0x10f023=_0x314764,_0x1372c7=document['getElementById'](_0x1dbee2);if(!_0x1f7ad4||_0x1f7ad4[_0x10f023(0x1eb)]===0x0){_0x1372c7[_0x10f023(0x9c5)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x1f7ad4[_0x10f023(0x588)]((_0x178b40,_0x28f95c)=>{const _0x40fc16=_0x10f023,_0x169e90=(_0x28f95c['totalPoints']||0x0)-(_0x178b40[_0x40fc16(0x706)]||0x0);if(_0x169e90!==0x0)return _0x169e90;const _0x46709a=(_0x28f95c[_0x40fc16(0x2ba)]?.[_0x40fc16(0x5b5)]||0x0)-(_0x178b40[_0x40fc16(0x2ba)]?.[_0x40fc16(0x5b5)]||0x0);if(_0x46709a!==0x0)return _0x46709a;const _0xe84d83=(_0x28f95c[_0x40fc16(0x2ba)]?.[_0x40fc16(0x717)]||0x0)-(_0x178b40['badgesCount']?.['first_try_ace']||0x0);if(_0xe84d83!==0x0)return _0xe84d83;const _0x24ff94=(_0x28f95c[_0x40fc16(0x2ba)]?.[_0x40fc16(0x617)]||0x0)-(_0x178b40[_0x40fc16(0x2ba)]?.[_0x40fc16(0x617)]||0x0);if(_0x24ff94!==0x0)return _0x24ff94;const _0x4b176b=(_0x28f95c[_0x40fc16(0x2ba)]?.['quick_thinker']||0x0)-(_0x178b40['badgesCount']?.[_0x40fc16(0x505)]||0x0);if(_0x4b176b!==0x0)return _0x4b176b;return _0x178b40[_0x40fc16(0x43f)]['localeCompare'](_0x28f95c['studentName'],'th');});let _0x1e096c='';_0x1f7ad4[_0x10f023(0x97e)]((_0x214f93,_0x43dd31)=>{const _0x587eb9=_0x10f023,_0x3b5a50=_0x43dd31+0x1,_0x44415d=_0x214f93[_0x587eb9(0x2ba)]||{};let _0x20638b='';const _0x35547e=['specialist',_0x587eb9(0x617),'first_try_ace',_0x587eb9(0x505)];_0x35547e[_0x587eb9(0x97e)](_0x508d26=>{const _0x415212=_0x587eb9;if(_0x44415d[_0x508d26]>0x0){const _0x2ed549=Object[_0x415212(0x799)](BADGES)[_0x415212(0xae2)](_0x47a5cb=>_0x47a5cb['id']===_0x508d26);_0x2ed549&&(_0x508d26===_0x415212(0x5b5)?_0x20638b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2ed549['name']+_0x415212(0x994)+_0x2ed549[_0x415212(0x273)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x20638b+=_0x415212(0x75e)+_0x2ed549[_0x415212(0x924)]+'\x20('+_0x44415d[_0x508d26]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2ed549[_0x415212(0x273)]+_0x415212(0x33a)+_0x44415d[_0x508d26]+_0x415212(0xafc));}}),_0x1e096c+=_0x587eb9(0x180)+_0x3b5a50+_0x587eb9(0x7b8)+_0x214f93[_0x587eb9(0x43f)]+_0x587eb9(0xbf3)+(_0x214f93[_0x587eb9(0x706)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x20638b||'-')+_0x587eb9(0x949);}),_0x1372c7[_0x10f023(0x9c5)]=_0x1e096c;}function displayLoopScreen(_0x3902d6,_0x4b78cb,_0x1149ca){const _0x1a4811=_0x314764;let _0x3853d9='';_0x1149ca!==_0x1a4811(0x461)&&(_0x3853d9='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x3902d6+_0x1a4811(0x2d6)+_0x4b78cb+'</strong></p>');const _0x5c00a5=_0x1a4811(0x5de)+_0x3853d9+_0x1a4811(0x672);studentResultArea[_0x1a4811(0x9c5)]=_0x5c00a5,studentResultArea['classList'][_0x1a4811(0x49f)](_0x1a4811(0xbc7)),studentQuizArea[_0x1a4811(0x68d)]['add'](_0x1a4811(0xbc7)),document[_0x1a4811(0x6ce)](_0x1a4811(0x7f8))[_0x1a4811(0x9cd)](_0x1a4811(0x58a),()=>{const _0x141720=_0x1a4811;studentResultArea[_0x141720(0x68d)][_0x141720(0x8f4)](_0x141720(0xbc7)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x186db0,_0x4d4fb5,_0x351827){const _0x16aa22=_0x314764,_0x59c752=document[_0x16aa22(0x6ce)](_0x351827),_0xaa7e80=_0x351827==='student-quiz-leaderboard-table-body',_0x38bea7=_0x4d4fb5[_0x16aa22(0x7bb)]['length'],_0xe614d3=document[_0x16aa22(0x6ce)](_0x351827)[_0x16aa22(0x2ff)](_0x16aa22(0xc25));if(_0xe614d3&&!_0xaa7e80){const _0x4bc115=_0xe614d3[_0x16aa22(0x612)]('thead');_0x4bc115[_0x16aa22(0x9c5)]=_0x16aa22(0x934);}if(!_0x186db0||_0x186db0[_0x16aa22(0x1eb)]===0x0){_0x59c752[_0x16aa22(0x9c5)]=_0x16aa22(0x178)+(_0xaa7e80?0x6:0x8)+_0x16aa22(0xb55);return;}const _0x321616=[..._0x186db0];_0x321616[_0x16aa22(0x588)]((_0x40c42b,_0x2678ba)=>{const _0x3fc34c=_0x16aa22;let _0x24d9df,_0x3bab8a;switch(quizLeaderboardSortBy){case'studentName':_0x24d9df=_0x40c42b[_0x3fc34c(0x43f)]||'',_0x3bab8a=_0x2678ba[_0x3fc34c(0x43f)]||'';return quizLeaderboardSortOrder===_0x3fc34c(0x77a)?_0x24d9df[_0x3fc34c(0xb5d)](_0x3bab8a,'th'):_0x3bab8a['localeCompare'](_0x24d9df,'th');case'points':_0x24d9df=_0x40c42b[_0x3fc34c(0x216)]||0x0,_0x3bab8a=_0x2678ba[_0x3fc34c(0x216)]||0x0;break;case _0x3fc34c(0x23c):_0x24d9df=_0x40c42b[_0x3fc34c(0x23c)]?.[_0x3fc34c(0x1eb)]||0x1,_0x3bab8a=_0x2678ba[_0x3fc34c(0x23c)]?.['length']||0x1;break;case'latestSubmittedAt':_0x24d9df=new Date(_0x40c42b['latestSubmittedAt']),_0x3bab8a=new Date(_0x2678ba['latestSubmittedAt']);break;case _0x3fc34c(0xc0f):default:_0x24d9df=_0x40c42b[_0x3fc34c(0xc0f)],_0x3bab8a=_0x2678ba['bestScore'];break;}if(_0x24d9df<_0x3bab8a)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x24d9df>_0x3bab8a)return quizLeaderboardSortOrder===_0x3fc34c(0x77a)?0x1:-0x1;return 0x0;});const _0x3e7e0d=_0x4d4fb5['isRemedial']===!![],_0x5016ef=_0x4d4fb5[_0x16aa22(0xbd0)]?.[_0x16aa22(0xaa1)]??-0x1;let _0xc0c687='';_0x321616['forEach']((_0x26af7f,_0x36512e)=>{const _0x4a87f9=_0x16aa22,_0x50257e=_0x36512e+0x1;let _0x10ef8f=_0x4a87f9(0x219);if(_0x3e7e0d||_0x5016ef!==-0x1){let _0x480e8f=_0x3e7e0d?_0x26af7f[_0x4a87f9(0xc0f)]===_0x38bea7:_0x26af7f['bestScore']>=_0x5016ef;const _0x468c13=_0x480e8f?'bg-green-100\x20text-green-800':_0x4a87f9(0x560),_0x3d8620=_0x480e8f?_0x4a87f9(0x5b9):_0x4a87f9(0xb6c);_0x10ef8f='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x468c13+'\x22>'+_0x3d8620+_0x4a87f9(0x9d2);}const _0x382966=_0x26af7f['attempts'][_0x26af7f[_0x4a87f9(0x23c)][_0x4a87f9(0x1eb)]-0x1],_0x5c7303=(_0x382966[_0x4a87f9(0x5cd)]||[])[_0x4a87f9(0x83a)](_0x5c475b=>{const _0x335f7e=_0x4a87f9,_0x9c95f8=Object[_0x335f7e(0x799)](BADGES)[_0x335f7e(0xae2)](_0x52f488=>_0x52f488['id']===_0x5c475b);return _0x9c95f8?_0x335f7e(0x4ad)+_0x9c95f8[_0x335f7e(0x924)]+_0x335f7e(0xa67)+_0x9c95f8[_0x335f7e(0x273)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0xc0c687+=_0x4a87f9(0x7fd)+_0x50257e+_0x4a87f9(0x434)+_0x26af7f[_0x4a87f9(0x43f)]+_0x4a87f9(0x1e8)+_0x26af7f[_0x4a87f9(0xc0f)]+_0x4a87f9(0x2d6)+_0x38bea7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10ef8f+_0x4a87f9(0x945)+(_0x26af7f[_0x4a87f9(0x216)]||0x0)+_0x4a87f9(0x353)+(_0xaa7e80?'':_0x4a87f9(0x6a3)+(_0x26af7f['attempts']?.['length']||0x1)+_0x4a87f9(0x54c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xaa7e80?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x26af7f[_0x4a87f9(0xbd5)])[_0x4a87f9(0x533)](_0x4a87f9(0x3e5))+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x5c7303||'-')+_0x4a87f9(0xa11);}),_0x59c752['innerHTML']=_0xc0c687,_0xe614d3&&!_0xaa7e80&&_0xe614d3[_0x16aa22(0x3e7)]('thead\x20.sortable-header')[_0x16aa22(0x97e)](_0x12ff7f=>{const _0x3f33f1=_0x16aa22,_0x2834a1=_0x12ff7f[_0x3f33f1(0x612)](_0x3f33f1(0x8bc));if(_0x2834a1)_0x2834a1['remove']();_0x12ff7f[_0x3f33f1(0x635)][_0x3f33f1(0x588)]===quizLeaderboardSortBy&&(_0x12ff7f[_0x3f33f1(0x9c5)]+=_0x3f33f1(0x59f)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x5781c6){const _0x957338=_0x314764;if(!currentQuizData||!currentQuizData['id']||!_0x5781c6){showMessage(_0x957338(0x3eb));return;}showConfirmation(_0x957338(0x378)+_0x5781c6+_0x957338(0x8f8),async()=>{const _0x363af8=_0x957338,_0x51a898=currentQuizData['id'],_0x36be44=doc(db,_0x363af8(0x21f)+appId+_0x363af8(0x75f)+_0x51a898+_0x363af8(0x9f3),_0x5781c6);try{await deleteDoc(_0x36be44),showMessage(_0x363af8(0x20e)+_0x5781c6+_0x363af8(0x256));}catch(_0x5691e6){console[_0x363af8(0x9b3)](_0x363af8(0xb75),_0x5691e6),showMessage(_0x363af8(0x55e));}});}async function handleLoadQuiz(){const _0x579c7e=_0x314764,_0x2492b8=document['getElementById'](_0x579c7e(0x251)),_0x291864=_0x2492b8['value'][_0x579c7e(0x1b6)]();if(!_0x291864){showMessage(_0x579c7e(0x607));return;}loadQuizBtn[_0x579c7e(0x915)]=!![],loadQuizBtn[_0x579c7e(0x9c5)]=_0x579c7e(0x3cd);try{const _0x3c6965=doc(db,'artifacts/'+appId+_0x579c7e(0x544),_0x291864),_0x37b3a9=await getDoc(_0x3c6965);if(!_0x37b3a9[_0x579c7e(0x232)]()){showMessage(_0x579c7e(0x3e2));return;}currentQuizData={'id':_0x37b3a9['id'],..._0x37b3a9[_0x579c7e(0x31c)]()};const _0x4b2bf8=currentQuizData[_0x579c7e(0xbfc)]||'active',_0x5ed0ed=new Date();if(_0x4b2bf8==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x4b2bf8===_0x579c7e(0x69d)){const _0x8abccc=currentQuizData[_0x579c7e(0x571)]?new Date(currentQuizData[_0x579c7e(0x571)]):null,_0x2cedb6=currentQuizData[_0x579c7e(0x2a6)]?new Date(currentQuizData[_0x579c7e(0x2a6)]):null;if(_0x8abccc&&_0x5ed0ed<_0x8abccc){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x8abccc['toLocaleString']('th-TH',{'hour12':![]}));return;}if(_0x2cedb6&&_0x5ed0ed>_0x2cedb6){showMessage(_0x579c7e(0x1e6));return;}}const _0x2462e1=currentQuizData[_0x579c7e(0x368)];currentProjectId=_0x2462e1;const _0x3c1ef0=doc(db,'artifacts/'+appId+_0x579c7e(0x7fe),_0x2462e1),_0x3325fe=await getDoc(_0x3c1ef0);if(!_0x3325fe[_0x579c7e(0x232)]()){showMessage(_0x579c7e(0x7e4));return;}const _0x226cb7=_0x3325fe[_0x579c7e(0x31c)]();currentStudentProjectData=_0x226cb7,displayStudentNameSelector(_0x226cb7['students'],currentQuizData[_0x579c7e(0x265)]);}catch(_0x385580){console[_0x579c7e(0x9b3)](_0x579c7e(0x2d7),_0x385580),showMessage(_0x579c7e(0xa78));}finally{loadQuizBtn[_0x579c7e(0x915)]=![],loadQuizBtn[_0x579c7e(0x9c5)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x2eeb04=_0x314764,_0x4a1c0a=document[_0x2eeb04(0x6ce)](_0x2eeb04(0x5e5)),_0x222733=document[_0x2eeb04(0x6ce)]('nickname-input'),_0x2e8a55=document[_0x2eeb04(0x6ce)](_0x2eeb04(0x3a2)),_0x4b5b84=_0x4a1c0a[_0x2eeb04(0x3e6)][_0x2eeb04(0x1b6)](),_0x5a0709=_0x222733[_0x2eeb04(0x3e6)][_0x2eeb04(0x1b6)]();if(!_0x4b5b84||!_0x5a0709){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x2e8a55['disabled']=!![],_0x2e8a55[_0x2eeb04(0x9c5)]=_0x2eeb04(0x8cb);try{const _0x36e239=collection(db,_0x2eeb04(0x21f)+appId+_0x2eeb04(0x937)),_0x62bac8=query(_0x36e239,where(_0x2eeb04(0xa20),'==',_0x4b5b84),where(_0x2eeb04(0xbfc),'in',[_0x2eeb04(0x4b6),_0x2eeb04(0x2d4)])),_0x1ce090=await getDocs(_0x62bac8);if(_0x1ce090[_0x2eeb04(0x326)]){showMessage(_0x2eeb04(0x31e));return;}const _0x32c255=_0x1ce090[_0x2eeb04(0xc27)][0x0],_0x5aab80=_0x32c255[_0x2eeb04(0x31c)]();currentLiveGameId=_0x32c255['id'];const _0x10f7b7=_0x5aab80[_0x2eeb04(0x174)],_0x27ff6c=doc(db,_0x2eeb04(0x21f)+appId+_0x2eeb04(0x544),_0x10f7b7),_0x66bf2a=await getDoc(_0x27ff6c);if(!_0x66bf2a[_0x2eeb04(0x232)]()){showMessage(_0x2eeb04(0x7f7));return;}currentQuizData={'id':_0x66bf2a['id'],..._0x66bf2a[_0x2eeb04(0x31c)]()};if(_0x5aab80['players']&&_0x5aab80['players'][_0x5a0709]){const _0x474c08=_0x5aab80[_0x2eeb04(0xb90)][_0x5a0709];if(_0x474c08[_0x2eeb04(0xbfc)]==='inactive'){_0x2e8a55['innerHTML']=_0x2eeb04(0x24b);const _0x4f6498={};_0x4f6498[_0x2eeb04(0xab6)+_0x5a0709+_0x2eeb04(0x7ef)]=_0x2eeb04(0x7e3),await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x4f6498),showView(_0x2eeb04(0x5a8)),currentStudentName=_0x5a0709,listenForLiveGameUpdates();return;}else{showMessage(_0x2eeb04(0x30f));return;}}if(_0x5aab80[_0x2eeb04(0xbfc)]!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x2e8a55[_0x2eeb04(0x9c5)]=_0x2eeb04(0x1b0);const _0x2d6d11={};_0x2d6d11[_0x2eeb04(0xab6)+_0x5a0709]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x2eeb04(0x21f)+appId+'/public/data/liveGames',currentLiveGameId),_0x2d6d11),currentStudentName=_0x5a0709,listenForLiveGameUpdates();}catch(_0x1084ab){console[_0x2eeb04(0x9b3)](_0x2eeb04(0x278),_0x1084ab),showMessage(_0x2eeb04(0xa62));}finally{_0x2e8a55[_0x2eeb04(0x915)]=![],_0x2e8a55['innerHTML']=_0x2eeb04(0xa3c);}}function displayStudentNameSelector(_0x175be8,_0x1b9d77){const _0x4c323e=_0x314764,_0x50feaf=document[_0x4c323e(0x6ce)](_0x4c323e(0x8c7));document[_0x4c323e(0x6ce)]('student-quiz-topic')[_0x4c323e(0xa88)]=_0x4c323e(0x6a1)+_0x1b9d77,!_0x175be8||_0x175be8[_0x4c323e(0x1eb)]===0x0?(_0x50feaf['innerHTML']=_0x4c323e(0x290),startQuizBtn['disabled']=!![]):(_0x50feaf[_0x4c323e(0x9c5)]=_0x4c323e(0xbad),_0x175be8[_0x4c323e(0x97e)](_0x40cc79=>{const _0x4260c8=_0x4c323e,_0x3823d8=document[_0x4260c8(0x692)](_0x4260c8(0x843));_0x3823d8[_0x4260c8(0x3e6)]=_0x40cc79,_0x3823d8[_0x4260c8(0xa88)]=_0x40cc79,_0x50feaf[_0x4260c8(0x6fa)](_0x3823d8);}),startQuizBtn[_0x4c323e(0x915)]=![]),studentInitialView[_0x4c323e(0x68d)][_0x4c323e(0x8f4)](_0x4c323e(0xbc7)),studentNameSelectionView[_0x4c323e(0x68d)]['remove'](_0x4c323e(0xbc7));}function shuffleArray(_0x84e483){const _0x15e499=_0x314764;for(let _0x51dae4=_0x84e483[_0x15e499(0x1eb)]-0x1;_0x51dae4>0x0;_0x51dae4--){const _0x3de755=Math['floor'](Math[_0x15e499(0x2e9)]()*(_0x51dae4+0x1));[_0x84e483[_0x51dae4],_0x84e483[_0x3de755]]=[_0x84e483[_0x3de755],_0x84e483[_0x51dae4]];}}function getShuffledQuiz(_0x2736fb){const _0x50aa55=_0x314764;let _0x5ca097=JSON[_0x50aa55(0x36d)](JSON['stringify'](_0x2736fb));const _0x53d00f=_0x5ca097[_0x50aa55(0xbd0)]?.['shuffle']||_0x50aa55(0x4c0);if(_0x53d00f===_0x50aa55(0x4c0))return _0x5ca097;return(_0x53d00f===_0x50aa55(0x6d2)||_0x53d00f===_0x50aa55(0xbc2))&&shuffleArray(_0x5ca097[_0x50aa55(0x7bb)]),(_0x53d00f===_0x50aa55(0xae7)||_0x53d00f===_0x50aa55(0xbc2))&&_0x5ca097[_0x50aa55(0x7bb)][_0x50aa55(0x97e)](_0x26a62f=>{const _0x290d34=_0x50aa55,_0x3dc254=_0x26a62f[_0x290d34(0xb6e)]||_0x5ca097[_0x290d34(0xa1e)];if(_0x26a62f[_0x290d34(0x9b5)]){let _0x3afb71=_0x26a62f['options'][_0x290d34(0x83a)]((_0x1d8da9,_0x283284)=>({'text':_0x1d8da9,'isCorrect':_0x283284===_0x26a62f[_0x290d34(0xaca)]}));shuffleArray(_0x3afb71),_0x26a62f[_0x290d34(0x9b5)]=_0x3afb71[_0x290d34(0x83a)](_0x5791c2=>_0x5791c2['text']),_0x26a62f['correctAnswerIndex']=_0x3afb71[_0x290d34(0xb57)](_0xa11b4a=>_0xa11b4a['isCorrect']);}_0x3dc254===_0x290d34(0x554)&&_0x26a62f['allResponses']&&shuffleArray(_0x26a62f['allResponses']);}),_0x5ca097;}function displayQuizForStudent(_0x58edbc){const _0x46449a=_0x314764;studentQuizArea[_0x46449a(0x68d)]['remove'](_0x46449a(0xbc7)),currentDisplayedQuiz=getShuffledQuiz(_0x58edbc);currentMode!==_0x46449a(0x6ae)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x46449a(0x9cd)](_0x46449a(0x55f),handleFullscreenChange),document['addEventListener'](_0x46449a(0x27a),handleVisibilityChange),enterFullscreen(),window['addEventListener']('mousemove',resetDimTimer),window['addEventListener']('mousedown',resetDimTimer),window[_0x46449a(0x9cd)]('touchstart',resetDimTimer),window['addEventListener'](_0x46449a(0x439),resetDimTimer),resetDimTimer());const _0x2b51af=currentDisplayedQuiz[_0x46449a(0xbd0)]?.[_0x46449a(0xb9b)]||_0x46449a(0x4c0);if(_0x2b51af===_0x46449a(0xb2a))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x46449a(0x43e)]);else _0x2b51af===_0x46449a(0xc00)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x11f05e=_0x314764,_0x8cd914=currentDisplayedQuiz[_0x11f05e(0xbd0)]?.['isConfidenceScoringEnabled']===!![],_0x181a8b=currentDisplayedQuiz['settings']?.[_0x11f05e(0x65d)]||_0x11f05e(0x19a);let _0x82615b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x11f05e(0x265)]+_0x11f05e(0x8d6)+(currentMode===_0x11f05e(0x6ae)?_0x11f05e(0x689):'')+_0x11f05e(0x7c2);currentDisplayedQuiz[_0x11f05e(0x7bb)]['forEach']((_0x146164,_0x2c53b8)=>{const _0xeda84d=_0x11f05e,_0xfcabb8=_0x146164[_0xeda84d(0xb6e)]||currentDisplayedQuiz[_0xeda84d(0xa1e)];_0x82615b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0xfcabb8===_0xeda84d(0x554)){}else _0x82615b+=_0xeda84d(0xc2d)+(_0x2c53b8+0x1)+'.\x20'+(_0x146164[_0xeda84d(0x5e1)]||_0x146164[_0xeda84d(0x41e)])+_0xeda84d(0x1ad),_0x146164[_0xeda84d(0x25f)]&&(_0x82615b+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x146164[_0xeda84d(0x25f)]+_0xeda84d(0x67d));_0x82615b+='</div><div\x20class=\x22space-y-2\x22>';switch(_0xfcabb8){case'short_answer':_0x82615b+=_0xeda84d(0xbf2)+_0x2c53b8+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0xeda84d(0xa97):_0x82615b+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2c53b8+'_opt0\x22\x20name=\x22question'+_0x2c53b8+_0xeda84d(0x970)+_0x2c53b8+_0xeda84d(0x713),_0x82615b+=_0xeda84d(0x30b)+_0x2c53b8+_0xeda84d(0xa5e)+_0x2c53b8+_0xeda84d(0x621)+_0x2c53b8+_0xeda84d(0x38a);break;case _0xeda84d(0x554):_0x82615b+=_0xeda84d(0x922)+_0x146164[_0xeda84d(0x458)]+_0xeda84d(0x828)+_0x2c53b8+_0xeda84d(0x438)+_0x146164[_0xeda84d(0x610)][_0xeda84d(0x83a)](_0x28fdf5=>'<option\x20value=\x22'+_0x28fdf5+'\x22>'+_0x28fdf5+_0xeda84d(0x92c))[_0xeda84d(0x47c)]('')+_0xeda84d(0x311);break;default:_0x82615b+=_0x146164['options'][_0xeda84d(0x83a)]((_0x5acc29,_0xb50ec)=>_0xeda84d(0x4f0)+_0x2c53b8+'_opt'+_0xb50ec+'\x22\x20name=\x22question'+_0x2c53b8+'\x22\x20value=\x22'+_0xb50ec+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x2c53b8+'_opt'+_0xb50ec+'\x22>'+_0x5acc29+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xeda84d(0x47c)]('');break;}_0x82615b+=_0xeda84d(0x67d),_0x8cd914&&(_0x82615b+=_0xeda84d(0x2ac),_0x181a8b===_0xeda84d(0x4ca)?_0x82615b+=_0xeda84d(0x5bc)+_0x2c53b8+_0xeda84d(0x30c)+_0x2c53b8+_0xeda84d(0x5e2)+_0x2c53b8+_0xeda84d(0x1b2)+_0x2c53b8+_0xeda84d(0x427):_0x82615b+=_0xeda84d(0x816)+_0x2c53b8+'\x22\x20name=\x22confidence'+_0x2c53b8+_0xeda84d(0xaa4)+_0x2c53b8+_0xeda84d(0xaed),_0x82615b+=_0xeda84d(0x67d)),_0x82615b+=_0xeda84d(0x67d);}),_0x82615b+=_0x11f05e(0xc0c),_0x82615b+=_0x11f05e(0x61d),studentQuizArea[_0x11f05e(0x9c5)]=_0x82615b;if(currentMode===_0x11f05e(0x6ae)){const _0x336b1e=document[_0x11f05e(0x6ce)](_0x11f05e(0xb96));if(_0x336b1e)_0x336b1e[_0x11f05e(0x9cd)](_0x11f05e(0x58a),cancelAdminTest);}const _0x11afc4=document['getElementById'](_0x11f05e(0x5d9));_0x11afc4&&(_0x11afc4[_0x11f05e(0x9cd)](_0x11f05e(0x3e8),handleSubmitQuiz),_0x11afc4[_0x11f05e(0x9cd)]('click',_0x337f94=>{const _0x353a6e=_0x11f05e;if(_0x337f94[_0x353a6e(0x3cb)][_0x353a6e(0x68d)][_0x353a6e(0x7da)](_0x353a6e(0xc0b))){const _0x5749da=_0x337f94[_0x353a6e(0x3cb)],_0x43317f=_0x5749da[_0x353a6e(0x635)][_0x353a6e(0x517)],_0x47a6d1=_0x5749da[_0x353a6e(0x635)][_0x353a6e(0x3e6)];document[_0x353a6e(0x6ce)]('confidence-input-'+_0x43317f)[_0x353a6e(0x3e6)]=_0x47a6d1;const _0x29f6cc=_0x5749da['parentElement'];_0x29f6cc[_0x353a6e(0x3e7)]('.confidence-choice-btn')[_0x353a6e(0x97e)](_0x282d7c=>_0x282d7c[_0x353a6e(0x68d)]['remove'](_0x353a6e(0x7e3))),_0x5749da['classList'][_0x353a6e(0x8f4)](_0x353a6e(0x7e3));}}));if(window[_0x11f05e(0x649)])window[_0x11f05e(0x649)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x37241d){const _0x2d9711=_0x314764;if(_0x37241d)_0x37241d[_0x2d9711(0x668)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4d7875=document[_0x2d9711(0x6ce)](_0x2d9711(0x5d9));if(!_0x4d7875)return;const _0xec1e37=currentDisplayedQuiz[_0x2d9711(0xbd0)]?.['isConfidenceScoringEnabled']===!![],_0x29f306=currentDisplayedQuiz[_0x2d9711(0xbd0)]?.[_0x2d9711(0x65d)]||'checkbox';if(_0xec1e37&&_0x29f306===_0x2d9711(0x4ca)){let _0xb0c1c7=!![];for(let _0x3a0444=0x0;_0x3a0444<currentDisplayedQuiz[_0x2d9711(0x7bb)][_0x2d9711(0x1eb)];_0x3a0444++){const _0x9dd631=_0x4d7875[_0x2d9711(0x612)](_0x2d9711(0x875)+_0x3a0444);if(!_0x9dd631||_0x9dd631[_0x2d9711(0x3e6)]===''){_0xb0c1c7=![];break;}}if(!_0xb0c1c7){showMessage(_0x2d9711(0x2eb));return;}}const _0x330b17=_0x4d7875['querySelector']('button[type=\x22submit\x22]'),_0x2eb568=currentDisplayedQuiz[_0x2d9711(0x7bb)]['some'](_0x529294=>_0x529294[_0x2d9711(0xb6e)]==='short_answer');_0x330b17&&(_0x330b17[_0x2d9711(0x915)]=!![],_0x330b17[_0x2d9711(0x9c5)]=_0x2eb568?_0x2d9711(0xa5b):_0x2d9711(0x8d7));const _0x3576eb=new FormData(_0x4d7875),_0x1f62bd=currentDisplayedQuiz['questions'][_0x2d9711(0x83a)]((_0x8c4cce,_0x4081c7)=>{const _0x45f5f8=_0x2d9711,_0x4ddc43=_0x3576eb[_0x45f5f8(0x9bf)]('question'+_0x4081c7);let _0x56d57f;_0x29f306===_0x45f5f8(0x4ca)?_0x56d57f=_0x3576eb['get'](_0x45f5f8(0x725)+_0x4081c7):_0x56d57f=_0x3576eb['get'](_0x45f5f8(0x725)+_0x4081c7)==='on';let _0x1c4f93=null;if(_0x4ddc43!==null&&_0x4ddc43!==undefined){const _0x1b3d3b=_0x8c4cce[_0x45f5f8(0xb6e)]||currentDisplayedQuiz[_0x45f5f8(0xa1e)];_0x1b3d3b===_0x45f5f8(0x75c)||_0x1b3d3b===_0x45f5f8(0x587)?_0x1c4f93=parseInt(_0x4ddc43):_0x1c4f93=_0x4ddc43;}return{'answer':_0x1c4f93,'wasConfident':_0x56d57f};}),_0x486e07=currentQuizData['id'],_0x312f3e=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x486e07+_0x2d9711(0x9f3),currentStudentName),_0x4ab1ce=await getDoc(_0x312f3e),_0x204da1=_0x4ab1ce['exists']()?_0x4ab1ce[_0x2d9711(0x31c)]():{},_0x8ef566=_0x204da1[_0x2d9711(0x23c)]||[];await processAndSubmitAnswers(_0x1f62bd,_0x8ef566);}async function gradeShortAnswerWithAI(_0x5024c7,_0x210c30){const _0xb25cd6=_0x314764;if(!_0x5024c7||!_0x210c30)return![];try{const _0x1d4c51=_0xb25cd6(0x71e)+_0x5024c7+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x210c30+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x29e704={'contents':[{'role':_0xb25cd6(0x860),'parts':[{'text':_0x1d4c51}]}]},_0x22123d='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x4d85b2='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x22123d,_0x593b0f=await fetch(_0x4d85b2,{'method':'POST','headers':{'Content-Type':_0xb25cd6(0x37e)},'body':JSON[_0xb25cd6(0x73a)](_0x29e704)});if(!_0x593b0f['ok'])throw new Error(_0xb25cd6(0xaf3));const _0x5a8eb5=await _0x593b0f[_0xb25cd6(0x2a7)](),_0x27530b=_0x5a8eb5['candidates'][0x0][_0xb25cd6(0x22e)]['parts'][0x0]['text'][_0xb25cd6(0x1b6)]()[_0xb25cd6(0x5db)]();return _0x27530b===_0xb25cd6(0x8de);}catch(_0x2d21e5){return console[_0xb25cd6(0x9b3)]('AI\x20grading\x20failed:',_0x2d21e5),![];}}async function processAndSubmitAnswers(_0x1bcedf,_0x378952){const _0x213a55=_0x314764;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x213a55(0x55f),handleFullscreenChange),document['removeEventListener'](_0x213a55(0x27a),handleVisibilityChange);let _0x2abc69=0x0;const _0x7b6965=[],_0x4146e4=currentDisplayedQuiz['questions']['length'];let _0x3dc0f6=0x0,_0x26c913=[];const _0x16a8bc=currentDisplayedQuiz[_0x213a55(0x7bb)];for(let _0x319c3d=0x0;_0x319c3d<_0x16a8bc['length'];_0x319c3d++){const _0xfa2d35=_0x16a8bc[_0x319c3d],_0x308380=_0x1bcedf[_0x319c3d],_0x48e83c=_0x308380?_0x308380[_0x213a55(0xa38)]:null,_0xb4a5a5=_0x308380?_0x308380[_0x213a55(0x6c7)]:null;let _0x52fd6d=![],_0x44d2d0=0x0;if(_0x48e83c!==null&&_0x48e83c!==''){const _0x2196e0=_0xfa2d35[_0x213a55(0xb6e)]||currentDisplayedQuiz['quizType'];switch(_0x2196e0){case'matching_item':_0x52fd6d=_0x48e83c===_0xfa2d35[_0x213a55(0x53e)];break;case _0x213a55(0xa97):const _0xd3d2b=_0x48e83c===!![]||_0x48e83c===_0x213a55(0x8de);_0x52fd6d=_0xd3d2b===_0xfa2d35[_0x213a55(0x7c3)];break;case _0x213a55(0x8a4):_0x52fd6d=await gradeShortAnswer(_0x48e83c,_0xfa2d35);break;case'multiple_choice':default:_0x52fd6d=Number(_0x48e83c)===_0xfa2d35[_0x213a55(0xaca)];break;}}if(currentDisplayedQuiz[_0x213a55(0xbd0)]?.[_0x213a55(0xb92)]){const _0x5aa6d1=_0x308380?_0x308380[_0x213a55(0x6c7)]:null;if(_0x52fd6d&&(_0x5aa6d1===!![]||_0x5aa6d1===_0x213a55(0xa7f)))_0x44d2d0=0x2;else{if(_0x52fd6d)_0x44d2d0=0x1;else{if(!_0x52fd6d&&(_0x5aa6d1===![]||_0x5aa6d1===_0x213a55(0x85e)||_0x5aa6d1===null))_0x44d2d0=0x0;else!_0x52fd6d&&(_0x5aa6d1===!![]||_0x5aa6d1===_0x213a55(0xa7f))&&(_0x44d2d0=-0x1);}}}else _0x44d2d0=_0x52fd6d?0x1:0x0;_0x2abc69+=_0x44d2d0;if(_0x52fd6d){_0x3dc0f6++;if(_0x3dc0f6===0x3)_0x26c913[_0x213a55(0x403)](BADGES[_0x213a55(0x85c)]['id']);}else _0x3dc0f6=0x0;let _0x20e749=null;_0xfa2d35['options']&&_0x48e83c!==null&&(_0x20e749=_0xfa2d35[_0x213a55(0x9b5)][_0x48e83c]),_0x7b6965['push']({'questionId':_0xfa2d35['id'],'answer':_0x48e83c,'answerText':_0x20e749,'isCorrect':_0x52fd6d,'wasConfident':_0xb4a5a5,'pointsAwarded':_0x44d2d0,'originalQuestionText':_0xfa2d35[_0x213a55(0x458)]||_0xfa2d35[_0x213a55(0x41e)]});}const _0x595c9a=_0x7b6965[_0x213a55(0x595)](_0x13f600=>_0x13f600[_0x213a55(0x48b)])[_0x213a55(0x1eb)],_0x1e4fc3=currentDisplayedQuiz[_0x213a55(0xbd0)]?.['passingScore']??Math[_0x213a55(0x7d0)](_0x4146e4/0x2);_0x595c9a===_0x4146e4&&_0x4146e4>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x26c913[_0x213a55(0x403)](BADGES[_0x213a55(0x94b)]['id']);const _0x4d6402=currentDisplayedQuiz[_0x213a55(0xbd0)]?.[_0x213a55(0xb9b)];if(_0x4d6402==='whole_quiz'&&quizStartTime){const _0x5be396=(new Date()-quizStartTime)/0x3e8,_0x57a599=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x595c9a>=_0x1e4fc3&&_0x5be396<_0x57a599/0x2&&_0x26c913[_0x213a55(0x403)](BADGES[_0x213a55(0x44f)]['id']);}_0x378952[_0x213a55(0x1eb)]===0x0&&_0x595c9a===_0x4146e4&&_0x4146e4>0x0&&_0x26c913['push'](BADGES[_0x213a55(0x570)]['id']);if(_0x378952[_0x213a55(0x1eb)]>0x0){const _0x2bb78e=_0x378952[0x0][_0x213a55(0xbde)];if(_0x2bb78e<_0x1e4fc3&&_0x595c9a>=_0x1e4fc3){const _0x4edb1f=_0x378952[_0x213a55(0xb3e)](_0x49dbf8=>(_0x49dbf8['badges']||[])[_0x213a55(0x8f7)](BADGES[_0x213a55(0xaf0)]['id']));!_0x4edb1f&&_0x26c913[_0x213a55(0x403)](BADGES['COMEBACK_KING']['id']);}}_0x378952[_0x213a55(0x1eb)]===0x4&&_0x26c913[_0x213a55(0x403)](BADGES[_0x213a55(0x8a7)]['id']);const _0x884f67=currentDisplayedQuiz[_0x213a55(0xbd0)]['resultsDisplay'];if(currentMode===_0x213a55(0x6ae)){handleResultDisplay(_0x884f67,_0x595c9a,_0x2abc69,_0x26c913,_0x7b6965,_0x4146e4);return;}const _0x250156=currentQuizData['id'],_0x3ad486=doc(db,_0x213a55(0x21f)+appId+_0x213a55(0x75f)+_0x250156+_0x213a55(0x9f3),currentStudentName);try{const _0x371082=[..._0x378952],_0x50b897={'score':_0x595c9a,'points':_0x2abc69,'badges':Array['from'](new Set(_0x26c913)),'submittedAt':new Date()[_0x213a55(0x9d8)](),'answers':_0x7b6965};_0x371082['push'](_0x50b897);const _0x57e4bf=_0x378952[_0x213a55(0x1eb)]===0x0?_0x595c9a:_0x378952[0x0][_0x213a55(0xbde)]||0x0,_0x354150=Math[_0x213a55(0x2c2)](..._0x371082[_0x213a55(0x83a)](_0xc5fdf6=>_0xc5fdf6[_0x213a55(0xbde)]));await setDoc(_0x3ad486,{'studentName':currentStudentName,'totalQuestions':_0x4146e4,'attempts':_0x371082,'firstScore':_0x57e4bf,'bestScore':_0x354150,'latestScore':_0x595c9a,'points':_0x2abc69,'latestSubmittedAt':_0x50b897[_0x213a55(0x268)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x213a55(0x368)],currentStudentName),handleResultDisplay(_0x884f67,_0x595c9a,_0x2abc69,_0x26c913,_0x7b6965,_0x4146e4);}catch(_0x8c687d){console['error']('Error\x20saving\x20submission:',_0x8c687d),showMessage(_0x213a55(0xb1f));}}async function updateStudentProfile(_0x1b053d,_0x302bdb){const _0x153270=_0x314764,_0x5f1c55=doc(db,_0x153270(0x21f)+appId+_0x153270(0xc06)+_0x1b053d+_0x153270(0x243),_0x302bdb);try{const _0x504e1b=query(collection(db,_0x153270(0x21f)+appId+_0x153270(0x544)),where(_0x153270(0x368),'==',_0x1b053d)),_0x2cf28e=await getDocs(_0x504e1b),_0x32b523=new Map(_0x2cf28e[_0x153270(0xc27)][_0x153270(0x83a)](_0x3720f0=>[_0x3720f0['id'],_0x3720f0[_0x153270(0x31c)]()])),_0x4ef59a=Array[_0x153270(0x2db)](_0x32b523['keys']());await runTransaction(db,async _0x2057bb=>{const _0x2553ff=_0x153270;let _0x26019b=0x0;const _0x155e1d={};let _0x4e86d6=!![],_0x4ed1ee=0x0,_0x1ab2c6=0x0;for(const _0x3a7202 of _0x4ef59a){const _0x3ae163=_0x32b523['get'](_0x3a7202),_0x4a3308=doc(db,_0x2553ff(0x21f)+appId+_0x2553ff(0x75f)+_0x3a7202+'/submissions',_0x302bdb),_0x26b1ff=await _0x2057bb[_0x2553ff(0x9bf)](_0x4a3308);if(_0x26b1ff[_0x2553ff(0x232)]()){const _0x539ead=_0x26b1ff[_0x2553ff(0x31c)](),_0x22b5c9=_0x539ead[_0x2553ff(0x23c)]||[];if(_0x22b5c9['length']>0x0){const _0x2cd7cd=_0x22b5c9['reduce']((_0x4c8441,_0x369ef9)=>{const _0x3ad321=_0x2553ff;if(_0x369ef9['score']>_0x4c8441['score'])return _0x369ef9;if(_0x369ef9[_0x3ad321(0xbde)]===_0x4c8441['score'])return(_0x369ef9['points']||0x0)>(_0x4c8441['points']||0x0)?_0x369ef9:_0x4c8441;return _0x4c8441;},{'score':-0x1,'points':-0x1});_0x2cd7cd[_0x2553ff(0xbde)]>-0x1&&(_0x26019b+=_0x2cd7cd[_0x2553ff(0x216)]||0x0,(_0x2cd7cd['badges']||[])[_0x2553ff(0x97e)](_0x66bda=>{_0x155e1d[_0x66bda]=(_0x155e1d[_0x66bda]||0x0)+0x1;}));}}if(_0x3ae163[_0x2553ff(0x265)]!==_0x2553ff(0xa25)){_0x1ab2c6++;if(_0x26b1ff[_0x2553ff(0x232)]()){_0x4ed1ee++;const _0x117dd9=_0x26b1ff[_0x2553ff(0x31c)]();_0x117dd9[_0x2553ff(0xc0f)]!==_0x117dd9['totalQuestions']&&(_0x4e86d6=![]);}else _0x4e86d6=![];}}_0x1ab2c6>0x0&&_0x4ed1ee===_0x1ab2c6&&_0x4e86d6?_0x155e1d[_0x2553ff(0x5b5)]=0x1:_0x155e1d[_0x2553ff(0x5b5)]=0x0,_0x2057bb[_0x2553ff(0x4e8)](_0x5f1c55,{'studentName':_0x302bdb,'totalPoints':_0x26019b,'unlockedBadges':Object[_0x2553ff(0x34a)](_0x155e1d)['filter'](_0x21dd18=>_0x155e1d[_0x21dd18]>0x0),'badgesCount':_0x155e1d},{'merge':!![]});});}catch(_0x11c9f6){console[_0x153270(0x9b3)](_0x153270(0x831),_0x11c9f6),showMessage(_0x153270(0x9eb));}}function startAdminTest(){const _0xb6971c=_0x314764;if(!currentQuizData){showMessage(_0xb6971c(0x9c4));return;}let _0x25d128=JSON[_0xb6971c(0x36d)](JSON[_0xb6971c(0x73a)](currentQuizData));currentMode=_0xb6971c(0x6ae),currentStudentName=_0xb6971c(0xa98),adminView[_0xb6971c(0x68d)][_0xb6971c(0x8f4)](_0xb6971c(0xbc7)),studentView['classList'][_0xb6971c(0x49f)](_0xb6971c(0xbc7)),studentInitialView['classList']['add'](_0xb6971c(0xbc7)),studentNameSelectionView[_0xb6971c(0x68d)][_0xb6971c(0x8f4)](_0xb6971c(0xbc7)),studentResultArea[_0xb6971c(0x68d)][_0xb6971c(0x8f4)](_0xb6971c(0xbc7)),studentQuizArea[_0xb6971c(0x68d)]['remove']('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x25d128);}function handleResultDisplay(_0x5116b1,_0xda1188,_0x3f4e35,_0x413c02,_0x1b8b8f,_0x14688d){const _0x1e20e9=_0x314764;if(_0x5116b1==='manual_release'){displaySubmissionConfirmation();return;}const _0x4b9af6=currentDisplayedQuiz[_0x1e20e9(0xbd0)]?.[_0x1e20e9(0xaa1)]??Math['floor'](_0x14688d/0x2),_0x29c25d=currentDisplayedQuiz[_0x1e20e9(0xbd0)]?.['isAdaptive']??![],_0x1ea12c=currentDisplayedQuiz[_0x1e20e9(0xbd0)]?.[_0x1e20e9(0x214)]===!![],_0xfe2203=_0xda1188<_0x4b9af6,_0xa0e4e5=_0x5116b1===_0x1e20e9(0xb80)||_0x5116b1===_0x1e20e9(0x2b3);if(_0x1ea12c&&_0xfe2203&&!_0xa0e4e5){_0x5116b1===_0x1e20e9(0x46c)?displayResultsWithAnswers(_0xda1188,_0x3f4e35,_0x413c02,_0x1b8b8f,_0x14688d,!![]):displayLoopScreen(_0xda1188,_0x14688d,_0x5116b1);return;}if(_0x29c25d&&_0xfe2203){startAdaptiveFlow(_0x1b8b8f,_0xda1188,_0x14688d);return;}switch(_0x5116b1){case _0x1e20e9(0x46c):displayResultsWithAnswers(_0xda1188,_0x3f4e35,_0x413c02,_0x1b8b8f,_0x14688d);break;case _0x1e20e9(0x978):displayResultsScoreOnly(_0xda1188,_0x3f4e35,_0x413c02,_0x14688d);break;case'show_pass_fail_only':displayPassFailOnly(_0xda1188,_0x14688d);break;case _0x1e20e9(0xb80):displayHalfMarkResult(_0xda1188,_0x14688d);break;case _0x1e20e9(0x2b3):displayPerfectScoreResult(_0xda1188,_0x14688d);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x594c12){const _0x56ecf1=_0x314764;studentReadingArea[_0x56ecf1(0x9c5)]=_0x56ecf1(0x598);const _0x410877=_0x56ecf1(0x956)+_0x594c12+_0x56ecf1(0x652)+simpleMathPrompt+_0x56ecf1(0x462),_0x282bd1={'type':_0x56ecf1(0x417),'properties':{'questionText':{'type':_0x56ecf1(0x5b8)},'options':{'type':_0x56ecf1(0x8c2),'items':{'type':_0x56ecf1(0x5b8)}},'correctAnswerIndex':{'type':_0x56ecf1(0x31a)},'explanation':{'type':_0x56ecf1(0x5b8)}},'required':[_0x56ecf1(0x41e),'options','correctAnswerIndex',_0x56ecf1(0x823)]},_0x296c7f={'type':'OBJECT','properties':{'topic':{'type':_0x56ecf1(0x5b8)},'questions':{'type':'ARRAY','items':_0x282bd1}},'required':[_0x56ecf1(0x265),_0x56ecf1(0x7bb)]};try{const _0xf7bdb6=await callAnalysisApi(_0x410877,_0x296c7f);_0xf7bdb6[_0x56ecf1(0x802)]=!![],studentReadingArea[_0x56ecf1(0x68d)][_0x56ecf1(0x8f4)](_0x56ecf1(0xbc7));const _0x507747={...currentDisplayedQuiz[_0x56ecf1(0xbd0)],'isAdaptive':![],'resultsDisplay':_0x56ecf1(0x46c)};_0xf7bdb6[_0x56ecf1(0xbd0)]=_0x507747,displayQuizForStudent(_0xf7bdb6);}catch(_0x822aee){console[_0x56ecf1(0x9b3)]('Remedial\x20quiz\x20generation\x20failed:',_0x822aee),showMessage(_0x56ecf1(0xb32)),showView(_0x56ecf1(0xa82));}}function displayPassFailOnly(_0x305a62,_0x490b5a){const _0x2c0e15=_0x314764,_0x3c05b2=currentDisplayedQuiz[_0x2c0e15(0xbd0)]?.[_0x2c0e15(0xaa1)]??-0x1,_0x4f496b=currentDisplayedQuiz[_0x2c0e15(0x802)]===!![];let _0x5c85e7='',_0xf09c5a=![];if(_0x4f496b||_0x3c05b2!==-0x1){_0xf09c5a=_0x4f496b?_0x305a62===_0x490b5a:_0x305a62>=_0x3c05b2;const _0x135a17=_0xf09c5a?_0x2c0e15(0x76e):_0x2c0e15(0x560),_0x352f2a=_0xf09c5a?'ผ่าน':'ไม่ผ่าน';_0x5c85e7=_0x2c0e15(0xabf)+_0x135a17+'\x22>'+_0x352f2a+_0x2c0e15(0x61c);}else _0x5c85e7=_0x2c0e15(0x806);let _0x3b8e1f=_0x2c0e15(0x9cc)+currentStudentName+_0x2c0e15(0x34e)+_0x5c85e7+_0x2c0e15(0xa31);studentResultArea[_0x2c0e15(0x9c5)]=_0x3b8e1f,studentResultArea[_0x2c0e15(0x68d)][_0x2c0e15(0x49f)](_0x2c0e15(0xbc7)),studentQuizArea[_0x2c0e15(0x68d)][_0x2c0e15(0x8f4)](_0x2c0e15(0xbc7)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0xf09c5a});}function cancelAdminTest(){const _0x5db3ea=_0x314764;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x5db3ea(0x5af)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x5db3ea(0x27a),handleVisibilityChange),currentMode=_0x5db3ea(0x41d),studentView['classList'][_0x5db3ea(0x8f4)](_0x5db3ea(0xbc7)),adminView[_0x5db3ea(0x68d)][_0x5db3ea(0x49f)](_0x5db3ea(0xbc7)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x41c6ec){const _0x9d3499=_0x314764,_0x288b87={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x41c6ec};if(_0x288b87[_0x9d3499(0xa63)]){const _0x51eb4f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x9d3499(0xab5),_0x51eb4f),document[_0x9d3499(0x6ce)](_0x9d3499(0x7f8))['addEventListener'](_0x9d3499(0x58a),()=>{const _0x346a88=_0x9d3499;studentResultArea[_0x346a88(0x68d)][_0x346a88(0x8f4)](_0x346a88(0xbc7)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x59e805=_0x9d3499(0x56f),_0x6d492a=currentMode===_0x9d3499(0x6ae),_0x979b2d=_0x6d492a?_0x9d3499(0x62d):_0x9d3499(0xadb);let _0x268836='';_0x288b87[_0x9d3499(0x360)]&&(_0x268836+=_0x9d3499(0x4d9));let _0x156802=_0x288b87[_0x9d3499(0xb89)];_0x156802===undefined&&(_0x156802=_0x288b87[_0x9d3499(0xbde)]<_0x288b87[_0x9d3499(0x2ee)]);_0x156802&&(_0x268836+=_0x9d3499(0x86f));_0x268836+=_0x9d3499(0x460)+_0x59e805+_0x9d3499(0x1ce)+_0x979b2d+_0x9d3499(0x954);const _0x1e9938=_0x9d3499(0x707)+_0x268836+_0x9d3499(0x67d);studentResultArea[_0x9d3499(0xb1b)](_0x9d3499(0xab5),_0x1e9938),studentResultArea[_0x9d3499(0x612)]('#view-rankings-btn')?.[_0x9d3499(0x9cd)](_0x9d3499(0x58a),handleShowStudentRankings);const _0x1c30d3=studentResultArea[_0x9d3499(0x612)](_0x9d3499(0xaa3));_0x1c30d3&&_0x1c30d3[_0x9d3499(0x9cd)](_0x9d3499(0x58a),()=>{const _0x25d420=_0x9d3499;studentResultArea[_0x25d420(0x68d)][_0x25d420(0x8f4)](_0x25d420(0xbc7)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x59e805)[_0x9d3499(0x9cd)](_0x9d3499(0x58a),()=>{const _0x39b29e=_0x9d3499;_0x6d492a?(currentMode=_0x39b29e(0x41d),studentView[_0x39b29e(0x68d)][_0x39b29e(0x8f4)](_0x39b29e(0xbc7)),adminView[_0x39b29e(0x68d)][_0x39b29e(0x49f)]('hidden'),showView(_0x39b29e(0x66f))):(showView(_0x39b29e(0xa82)),document[_0x39b29e(0x6ce)](_0x39b29e(0x251))[_0x39b29e(0x3e6)]='');});}function displayResultsWithAnswers(_0x569b31,_0x44d57a,_0x4f50ad,_0xb957ce,_0x42ab09,_0xd9a49a=![]){const _0x23bc5e=_0x314764,_0x31169b=_0x42ab09>0x0?_0x569b31/_0x42ab09*0x64:0x0,_0x106030=currentDisplayedQuiz[_0x23bc5e(0xbd0)]?.['passingScore']??-0x1,_0x463600=currentDisplayedQuiz[_0x23bc5e(0x802)]===!![];let _0x26f12c='';if(_0x463600||_0x106030!==-0x1){let _0x45867d=_0x463600?_0x569b31===_0x42ab09:_0x569b31>=_0x106030;const _0x2879d5=_0x45867d?_0x23bc5e(0x76e):_0x23bc5e(0x560),_0x316138=_0x45867d?'ผ่าน':_0x23bc5e(0xb6c);_0x26f12c=_0x23bc5e(0x537)+_0x2879d5+'\x22>'+_0x316138+_0x23bc5e(0x1ad);}let _0x57753b=_0x23bc5e(0x9fc)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x569b31+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x42ab09+_0x23bc5e(0x373)+_0x26f12c+_0x23bc5e(0x91b)+_0x44d57a+_0x23bc5e(0x976)+_0x31169b['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x23bc5e(0x7bb)][_0x23bc5e(0x97e)]((_0x4cc8e6,_0x18d71f)=>{const _0x502299=_0x23bc5e,_0x286139=_0xb957ce[_0x18d71f],_0x220722=_0x286139[_0x502299(0xa38)],_0x43e3a3=_0x286139[_0x502299(0x48b)],_0x5e3535=_0x4cc8e6[_0x502299(0xb6e)]||currentDisplayedQuiz[_0x502299(0xa1e)];_0x57753b+=_0x502299(0x4be)+(_0x43e3a3?_0x502299(0xb3a):_0x502299(0x45e))+_0x502299(0x9c6)+(_0x18d71f+0x1)+'.\x20'+(_0x4cc8e6[_0x502299(0x458)]||_0x4cc8e6[_0x502299(0x41e)])+_0x502299(0x3a1);switch(_0x5e3535){case'matching_item':const _0x915b92=_0x220722||_0x502299(0x375),_0x14f729=_0x4cc8e6[_0x502299(0x53e)];_0x57753b+=_0x502299(0x82a)+(!_0x43e3a3?_0x502299(0x8ae):'')+'\x22>'+_0x915b92+_0x502299(0x5ac);!_0x43e3a3&&(_0x57753b+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x14f729+_0x502299(0x1ad));break;case _0x502299(0x8a4):_0x57753b+=_0x502299(0xb19)+(_0x220722||_0x502299(0x375))+_0x502299(0x1ad),_0x57753b+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x4cc8e6['idealAnswer']+_0x502299(0x1ad);break;case _0x502299(0xa97):_0x57753b+=_0x502299(0x5be)+(_0x4cc8e6[_0x502299(0x7c3)]===!![]?_0x502299(0x9ab):'')+'\x20'+(_0x220722===_0x502299(0x8de)&&!_0x43e3a3?_0x502299(0x8ae):'')+_0x502299(0x9e3),_0x57753b+=_0x502299(0x5be)+(_0x4cc8e6[_0x502299(0x7c3)]===![]?_0x502299(0x9ab):'')+'\x20'+(_0x220722===_0x502299(0x92b)&&!_0x43e3a3?_0x502299(0x8ae):'')+'\x22>ไม่ใช่</p>';break;default:_0x57753b+=_0x4cc8e6[_0x502299(0x9b5)]['map']((_0x3bbbbf,_0x87571c)=>{const _0x4f0ca9=_0x502299;let _0x557d0f='',_0x1abdae='';if(_0x87571c===_0x4cc8e6[_0x4f0ca9(0xaca)])_0x557d0f=_0x4f0ca9(0x9ab),_0x1abdae=_0x4f0ca9(0x497);else _0x87571c===_0x220722&&(_0x557d0f=_0x4f0ca9(0xaa2),_0x1abdae=_0x4f0ca9(0x5fe));return _0x4f0ca9(0x51d)+_0x557d0f+'\x22>'+_0x1abdae+_0x3bbbbf+_0x4f0ca9(0x67d);})[_0x502299(0x47c)]('');break;}_0x57753b+=_0x502299(0xb48)+(_0x4cc8e6[_0x502299(0x823)]||_0x502299(0xb4a))+_0x502299(0x67d);if(!_0x43e3a3){const _0x370320=_0x4cc8e6[_0x502299(0x458)]||_0x4cc8e6[_0x502299(0x41e)];_0x57753b+=_0x502299(0x1c0)+escape(_0x370320)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x57753b+=_0x502299(0x67d);}),studentResultArea[_0x23bc5e(0x9c5)]=_0x57753b,renderEarnedBadges(_0x4f50ad,_0x23bc5e(0x755)),studentResultArea[_0x23bc5e(0x68d)][_0x23bc5e(0x49f)](_0x23bc5e(0xbc7)),studentQuizArea[_0x23bc5e(0x68d)][_0x23bc5e(0x8f4)]('hidden'),setupResultScreenBackButton({'isLooping':_0xd9a49a,'score':_0x569b31,'totalQuestions':_0x42ab09,'showRankings':!![]});if(window[_0x23bc5e(0x649)])window[_0x23bc5e(0x649)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0xc6a4f8,_0xb0b8ec,_0x4b7344,_0x265bb5){const _0x357e3a=_0x314764,_0x3d833f=_0x265bb5>0x0?_0xc6a4f8/_0x265bb5*0x64:0x0,_0x9ebe67=currentDisplayedQuiz[_0x357e3a(0xbd0)]?.[_0x357e3a(0xaa1)]??-0x1,_0x215190=currentDisplayedQuiz[_0x357e3a(0x802)]===!![];let _0x15d856='';if(_0x215190||_0x9ebe67!==-0x1){let _0x5b0e58=_0x215190?_0xc6a4f8===_0x265bb5:_0xc6a4f8>=_0x9ebe67;const _0x3f545f=_0x5b0e58?'bg-green-100\x20text-green-800':_0x357e3a(0x560),_0x3b6788=_0x5b0e58?_0x357e3a(0x5b9):_0x357e3a(0xb6c);_0x15d856=_0x357e3a(0x537)+_0x3f545f+'\x22>'+_0x3b6788+_0x357e3a(0x1ad);}let _0x1d98ae=_0x357e3a(0x9cc)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0xc6a4f8+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x265bb5+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15d856+_0x357e3a(0x91b)+_0xb0b8ec+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x3d833f[_0x357e3a(0x5ca)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x357e3a(0x9c5)]=_0x1d98ae,renderEarnedBadges(_0x4b7344,_0x357e3a(0x755)),studentResultArea['classList'][_0x357e3a(0x49f)]('hidden'),studentQuizArea['classList'][_0x357e3a(0x8f4)](_0x357e3a(0xbc7)),setupResultScreenBackButton({'score':_0xc6a4f8,'totalQuestions':_0x265bb5,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1cdf85=_0x314764;let _0x34d257=_0x1cdf85(0x334)+currentStudentName+_0x1cdf85(0x596);studentResultArea[_0x1cdf85(0x9c5)]=_0x34d257,studentResultArea[_0x1cdf85(0x68d)][_0x1cdf85(0x49f)](_0x1cdf85(0xbc7)),studentQuizArea['classList']['add'](_0x1cdf85(0xbc7)),document[_0x1cdf85(0x6ce)](_0x1cdf85(0xa2c))[_0x1cdf85(0x9cd)](_0x1cdf85(0x58a),()=>{const _0x331846=_0x1cdf85;showView(_0x331846(0xa82)),document[_0x331846(0x6ce)](_0x331846(0x251))['value']='';});}function renderEarnedBadges(_0x44214f,_0x27d196){const _0x4060f8=_0x314764,_0x5c8b9e=document[_0x4060f8(0x6ce)](_0x27d196);if(!_0x5c8b9e||!_0x44214f||_0x44214f[_0x4060f8(0x1eb)]===0x0)return;let _0x4074e9='';_0x44214f[_0x4060f8(0x97e)]((_0x49ef22,_0x27b28b)=>{const _0xfa6d08=_0x4060f8,_0x908246=Object[_0xfa6d08(0x799)](BADGES)[_0xfa6d08(0xae2)](_0x31de3e=>_0x31de3e['id']===_0x49ef22);_0x908246&&(_0x4074e9+=_0xfa6d08(0x444)+_0x27b28b*0.2+_0xfa6d08(0x280)+_0x908246['description']+_0xfa6d08(0x641)+_0x908246[_0xfa6d08(0x273)]+_0xfa6d08(0x812)+_0x908246[_0xfa6d08(0x924)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x5c8b9e[_0x4060f8(0x9c5)]=_0x4074e9;}function startPresentation(_0x33bfb2){const _0x138b75=_0x314764;currentQuizData=getShuffledQuiz(_0x33bfb2),currentPresentationSlide=0x0,presentationModal[_0x138b75(0x58c)][_0x138b75(0xbe1)]=_0x138b75(0xbb9),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x4e6db9=_0x314764;document['fullscreenElement']&&document[_0x4e6db9(0x8d8)](),presentationModal['style']['display']=_0x4e6db9(0x4c0);}function renderPresentationSlide(_0x40ca17){const _0x495d37=_0x314764,_0x50081f=document[_0x495d37(0x6ce)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x495d37(0x7bb)]||!currentQuizData[_0x495d37(0x7bb)][_0x40ca17]){_0x50081f['innerHTML']=_0x495d37(0x926);return;}const _0x336825=currentQuizData[_0x495d37(0x7bb)][_0x40ca17],_0x32e4ca=_0x336825[_0x495d37(0xb6e)]||currentQuizData[_0x495d37(0xa1e)];_0x50081f[_0x495d37(0x9c5)]='';let _0x42d254=_0x495d37(0xa18)+(_0x336825['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x336825['imageCode']+_0x495d37(0x67d):'')+_0x495d37(0x1a5)+(_0x40ca17+0x1)+'.\x20'+(_0x336825[_0x495d37(0x458)]||_0x336825[_0x495d37(0x41e)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x32e4ca){case'matching_item':_0x42d254+=_0x336825[_0x495d37(0x610)][_0x495d37(0x83a)](_0x53b8f8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53b8f8+_0x495d37(0x27d))['join']('');break;case _0x495d37(0xa97):_0x42d254+=_0x495d37(0x3a0),_0x42d254+=_0x495d37(0x8a5);break;case _0x495d37(0xbbd):case _0x495d37(0x8a4):_0x42d254+=_0x495d37(0x5ed);break;case _0x495d37(0x587):case _0x495d37(0x75c):default:_0x42d254+=_0x336825[_0x495d37(0x9b5)][_0x495d37(0x83a)]((_0x1a1e0d,_0x839e81)=>_0x495d37(0x814)+_0x839e81+_0x495d37(0x84b)+_0x1a1e0d+_0x495d37(0x27d))[_0x495d37(0x47c)]('');break;}_0x42d254+=_0x495d37(0xb13)+(_0x336825['explanation']||_0x495d37(0xb4a))+_0x495d37(0x3b7),_0x50081f[_0x495d37(0x9c5)]=_0x42d254;if(window[_0x495d37(0x649)])window[_0x495d37(0x649)][_0x495d37(0x966)]([_0x50081f]);let _0x5a75f1=[];switch(_0x32e4ca){case _0x495d37(0x554):_0x5a75f1=_0x336825[_0x495d37(0x610)]||[];break;case _0x495d37(0xa97):_0x5a75f1=[_0x495d37(0x1dd),_0x495d37(0x9b7)];break;default:_0x5a75f1=_0x336825[_0x495d37(0x9b5)]||[];break;}const _0xdc7c15=document[_0x495d37(0x6ce)](_0x495d37(0x9d6));_0xdc7c15&&(_0xdc7c15[_0x495d37(0xb41)]=()=>{openScratchpad(_0x336825,_0x5a75f1);});document[_0x495d37(0x3e7)](_0x495d37(0x508))[_0x495d37(0x97e)](_0x25c5b5=>{const _0x4f1274=_0x495d37;_0x25c5b5[_0x4f1274(0x9cd)]('click',_0x3e45eb=>revealAnswerForPresentation(_0x40ca17,_0x3e45eb[_0x4f1274(0xade)]));});const _0x9b7d6a=document[_0x495d37(0x6ce)]('check-presentation-answer-btn');_0x9b7d6a&&_0x9b7d6a[_0x495d37(0x9cd)](_0x495d37(0x58a),()=>checkShortAnswerForPresentation(_0x40ca17)),document[_0x495d37(0x6ce)](_0x495d37(0x818))[_0x495d37(0xa88)]=_0x495d37(0x201)+(_0x40ca17+0x1)+_0x495d37(0x2d6)+currentQuizData[_0x495d37(0x7bb)]['length'],document['getElementById'](_0x495d37(0x7bd))[_0x495d37(0x915)]=_0x40ca17===0x0,document[_0x495d37(0x6ce)](_0x495d37(0x48c))[_0x495d37(0x915)]=_0x40ca17===currentQuizData[_0x495d37(0x7bb)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x4b5793){const _0x118c9d=_0x314764,_0x571cc9=currentQuizData[_0x118c9d(0x7bb)][_0x4b5793],_0xd7adde=document[_0x118c9d(0x6ce)](_0x118c9d(0x9bd)),_0xf6a759=document[_0x118c9d(0x6ce)](_0x118c9d(0x2ab)),_0x5cad04=document[_0x118c9d(0x6ce)](_0x118c9d(0xbb3)),_0x247489=document[_0x118c9d(0x6ce)](_0x118c9d(0x3f3));if(!_0xd7adde||!_0xf6a759||!_0x5cad04||!_0x247489)return;const _0x247251=_0xd7adde['value'][_0x118c9d(0x1b6)]();if(_0x247251==='')return;_0xf6a759[_0x118c9d(0x915)]=!![],_0xf6a759[_0x118c9d(0x9c5)]=_0x118c9d(0xa81),_0xd7adde[_0x118c9d(0x915)]=!![];const _0x5eb6da=await gradeShortAnswer(_0x247251,_0x571cc9);_0x5eb6da?_0x5cad04[_0x118c9d(0x9c5)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x5cad04[_0x118c9d(0x9c5)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x571cc9[_0x118c9d(0x841)]+')',_0x5cad04['classList'][_0x118c9d(0x49f)]('hidden'),_0x247489[_0x118c9d(0x68d)][_0x118c9d(0x49f)]('hidden'),_0xf6a759[_0x118c9d(0x68d)][_0x118c9d(0x8f4)](_0x118c9d(0xbc7));}function revealAnswerForPresentation(_0x2c002f,_0x427709){const _0x3cb36d=_0x314764,_0x373a8a=currentQuizData[_0x3cb36d(0x7bb)][_0x2c002f],_0x53a719=_0x373a8a[_0x3cb36d(0xb6e)]||currentQuizData['quizType'];document[_0x3cb36d(0x3e7)](_0x3cb36d(0x508))['forEach'](_0x450014=>{const _0x1bca68=_0x3cb36d;_0x450014[_0x1bca68(0x915)]=!![],_0x450014[_0x1bca68(0x68d)][_0x1bca68(0x49f)](_0x1bca68(0x4ac));let _0x200f01=![];if(_0x53a719==='multiple_choice'||_0x53a719===_0x1bca68(0x587)){const _0x1734f2=parseInt(_0x450014[_0x1bca68(0x635)]['index']);_0x200f01=_0x1734f2===_0x373a8a[_0x1bca68(0xaca)];}else{if(_0x53a719==='true_false'){const _0xf26bd1=_0x450014[_0x1bca68(0x635)][_0x1bca68(0xa38)]===_0x1bca68(0x8de);_0x200f01=_0xf26bd1===_0x373a8a[_0x1bca68(0x7c3)];}else _0x53a719==='matching_item'&&(_0x200f01=_0x450014[_0x1bca68(0xa88)][_0x1bca68(0x1b6)]()===_0x373a8a[_0x1bca68(0x53e)]);}_0x200f01?_0x450014[_0x1bca68(0x68d)][_0x1bca68(0x8f4)]('bg-green-500',_0x1bca68(0x354),_0x1bca68(0x229)):_0x450014[_0x1bca68(0x68d)][_0x1bca68(0x8f4)](_0x1bca68(0x293));}),_0x427709[_0x3cb36d(0x68d)][_0x3cb36d(0x49f)]('opacity-50');let _0x4fddb7=![];if(_0x53a719===_0x3cb36d(0x75c))_0x4fddb7=parseInt(_0x427709['dataset'][_0x3cb36d(0x944)])===_0x373a8a[_0x3cb36d(0xaca)];else{if(_0x53a719===_0x3cb36d(0xa97))_0x4fddb7=_0x427709[_0x3cb36d(0x635)][_0x3cb36d(0xa38)]===_0x3cb36d(0x8de)===_0x373a8a[_0x3cb36d(0x7c3)];else _0x53a719===_0x3cb36d(0x554)&&(_0x4fddb7=_0x427709[_0x3cb36d(0xa88)][_0x3cb36d(0x1b6)]()===_0x373a8a[_0x3cb36d(0x53e)]);}!_0x4fddb7&&_0x427709['classList'][_0x3cb36d(0x8f4)]('bg-red-500','text-white',_0x3cb36d(0x566)),document[_0x3cb36d(0x6ce)]('presentation-explanation')[_0x3cb36d(0x68d)][_0x3cb36d(0x49f)](_0x3cb36d(0xbc7));}function startWholeQuizTimer(_0x4a13ea){const _0x432b5=_0x314764,_0x5cca7b=document[_0x432b5(0x6ce)]('timer-container');if(!_0x5cca7b)return;const _0x5ca783=Date['now']()+_0x4a13ea*0x3c*0x3e8;_0x5cca7b['innerHTML']=_0x432b5(0xa8d);const _0x773424=document[_0x432b5(0x6ce)](_0x432b5(0xad7));quizTimerInterval=setInterval(()=>{const _0x31a20d=_0x432b5,_0x4f1c85=_0x5ca783-Date[_0x31a20d(0x72c)]();if(_0x4f1c85<=0x0)clearInterval(quizTimerInterval),_0x773424[_0x31a20d(0xa88)]=_0x31a20d(0xb68),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x51afc4=Math[_0x31a20d(0x7d0)](_0x4f1c85/0x3e8/0x3c%0x3c)[_0x31a20d(0x2e2)]()['padStart'](0x2,'0'),_0x445702=Math[_0x31a20d(0x7d0)](_0x4f1c85/0x3e8%0x3c)[_0x31a20d(0x2e2)]()[_0x31a20d(0x821)](0x2,'0');_0x773424['textContent']=_0x51afc4+':'+_0x445702;}},0x3e8);}function renderPerQuestionView(){const _0x237d44=_0x314764;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x46ebcd=currentDisplayedQuiz[_0x237d44(0x7bb)][currentQuestionIndex],_0x15fafd=_0x46ebcd[_0x237d44(0xb6e)]||currentDisplayedQuiz[_0x237d44(0xa1e)],_0x2dfa5e=currentDisplayedQuiz[_0x237d44(0xbd0)]?.[_0x237d44(0xb92)]===!![];let _0x3e2273=_0x237d44(0xc18)+(currentQuestionIndex+0x1)+_0x237d44(0x835)+currentDisplayedQuiz[_0x237d44(0x7bb)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x237d44(0x6ae)?_0x237d44(0x689):'')+_0x237d44(0xb95)+currentDisplayedQuiz[_0x237d44(0x265)]+_0x237d44(0x78c);studentQuizArea[_0x237d44(0x9c5)]=_0x3e2273;let _0x7766be=_0x46ebcd['stem']||_0x46ebcd['questionText'];_0x46ebcd[_0x237d44(0x25f)]&&(_0x7766be+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x46ebcd[_0x237d44(0x25f)]+_0x237d44(0x67d));let _0x25f293='';switch(_0x15fafd){case _0x237d44(0x8a4):case _0x237d44(0xbbd):_0x25f293=_0x237d44(0x549);break;case _0x237d44(0xa97):_0x25f293=_0x237d44(0x23a);break;case'matching_item':_0x25f293='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x46ebcd[_0x237d44(0x610)]||[])[_0x237d44(0x83a)](_0x461706=>_0x237d44(0x279)+_0x461706+'\x22>'+_0x461706+_0x237d44(0x92c))[_0x237d44(0x47c)]('')+_0x237d44(0x6f9);break;default:_0x46ebcd['options']&&(_0x25f293=_0x46ebcd[_0x237d44(0x9b5)]['map']((_0x2ce29e,_0x4ddce2)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x4ddce2+_0x237d44(0x4bf)+_0x4ddce2+_0x237d44(0x1c3)+_0x4ddce2+'\x22>'+_0x2ce29e+_0x237d44(0x99d))['join'](''));break;}document[_0x237d44(0x6ce)](_0x237d44(0xbd4))[_0x237d44(0x9c5)]=_0x7766be,document[_0x237d44(0x6ce)](_0x237d44(0x50e))[_0x237d44(0x9c5)]=_0x25f293;const _0x2d1559=currentDisplayedQuiz[_0x237d44(0xbd0)]?.['isConfidenceScoringEnabled']===!![],_0x54caf4=currentDisplayedQuiz[_0x237d44(0xbd0)]?.[_0x237d44(0x65d)]||_0x237d44(0x19a);if(_0x2d1559&&_0x54caf4===_0x237d44(0x19a)){const _0x4aa17a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea['querySelector'](_0x237d44(0xbcc))['insertAdjacentHTML']('beforeend',_0x4aa17a);}studentQuizArea['insertAdjacentHTML']('beforeend',_0x237d44(0x217)+(currentQuestionIndex===currentDisplayedQuiz[_0x237d44(0x7bb)][_0x237d44(0x1eb)]-0x1?'ส่งคำตอบ':_0x237d44(0x8ee))+_0x237d44(0xbb8));currentMode==='admin-testing'&&document[_0x237d44(0x6ce)]('cancel-test-btn')?.[_0x237d44(0x9cd)](_0x237d44(0x58a),cancelAdminTest);document[_0x237d44(0x6ce)](_0x237d44(0x5c7))[_0x237d44(0x9cd)](_0x237d44(0x58a),()=>handleNextQuestionInTimedMode(![]));if(window[_0x237d44(0x649)])window[_0x237d44(0x649)][_0x237d44(0x966)]([studentQuizArea]);currentDisplayedQuiz[_0x237d44(0xbd0)]?.[_0x237d44(0xb9b)]===_0x237d44(0xc00)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x4d1947=_0x314764,_0x88e332=currentDisplayedQuiz[_0x4d1947(0xbd0)][_0x4d1947(0x43e)],_0x17c469=document[_0x4d1947(0x6ce)](_0x4d1947(0x395));if(!_0x17c469)return;let _0x3043fa=_0x88e332;_0x17c469[_0x4d1947(0x9c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x3043fa+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x87672d=document['getElementById'](_0x4d1947(0x1d0)),_0x371aac=document[_0x4d1947(0x6ce)](_0x4d1947(0x8fc));perQuestionTimerInterval=setInterval(()=>{const _0x4ef4a5=_0x4d1947;_0x3043fa--;const _0x32a9db=_0x3043fa/_0x88e332*0x64;_0x87672d[_0x4ef4a5(0x58c)][_0x4ef4a5(0x239)]=_0x32a9db+'%',_0x371aac[_0x4ef4a5(0xa88)]=_0x3043fa,_0x3043fa<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4ef4a5(0x419)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5b2501=![]){const _0x2cacff=_0x314764;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4567f5=null,_0x13b2d7=![];if(!_0x5b2501){const _0x1addbc=currentDisplayedQuiz[_0x2cacff(0x7bb)][currentQuestionIndex],_0x3b3428=_0x1addbc[_0x2cacff(0xb6e)]||currentDisplayedQuiz[_0x2cacff(0xa1e)];if(_0x3b3428==='short_answer'||_0x3b3428==='fill_in_no_choices')_0x4567f5=document[_0x2cacff(0x612)]('textarea[name=\x22question_single\x22]')?.['value'][_0x2cacff(0x1b6)]()??'';else{if(_0x3b3428==='matching_item')_0x4567f5=document[_0x2cacff(0x612)]('select[name=\x22question_single\x22]')?.[_0x2cacff(0x3e6)]??'';else{const _0x38cb18=document[_0x2cacff(0x612)](_0x2cacff(0x677));_0x38cb18&&(_0x4567f5=_0x38cb18[_0x2cacff(0x3e6)]);}}if(_0x4567f5===null||_0x4567f5===''){showMessage(_0x2cacff(0x6d7)),startPerQuestionTimer();return;}const _0x4cb208=currentDisplayedQuiz['settings']?.[_0x2cacff(0xb92)]===!![],_0x232d4c=currentDisplayedQuiz[_0x2cacff(0xbd0)]?.['confidenceMode']||_0x2cacff(0x19a);if(_0x4cb208&&_0x232d4c===_0x2cacff(0x4ca)){document[_0x2cacff(0x6ce)](_0x2cacff(0x6fc))['dataset']['currentMode']=_0x2cacff(0x22a),document[_0x2cacff(0x6ce)]('selected-answer-index-hidden')[_0x2cacff(0x3e6)]=_0x4567f5,document[_0x2cacff(0x6ce)](_0x2cacff(0x6fc))['classList'][_0x2cacff(0x49f)](_0x2cacff(0xbc7));return;}const _0x274327=document[_0x2cacff(0x6ce)](_0x2cacff(0x1e1));_0x274327&&(_0x13b2d7=_0x274327['checked']);}const _0x25fca3={'answer':_0x4567f5,'wasConfident':_0x13b2d7};proceedToNextQuestion(_0x25fca3);}async function finalizePerQuestionQuiz(){const _0x4c0bec=_0x314764,_0x16f137=currentDisplayedQuiz['questions'][_0x4c0bec(0xb3e)](_0x37b875=>_0x37b875[_0x4c0bec(0xb6e)]===_0x4c0bec(0x8a4));_0x16f137?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x4c0bec(0x696));const _0x2c0df9=currentQuizData['id'],_0x12a1c3=doc(db,_0x4c0bec(0x21f)+appId+'/public/data/quizzes/'+_0x2c0df9+'/submissions',currentStudentName),_0x2b0b6d=await getDoc(_0x12a1c3),_0x4b62c4=_0x2b0b6d[_0x4c0bec(0x232)]()?_0x2b0b6d[_0x4c0bec(0x31c)]():{},_0x3d8446=_0x4b62c4[_0x4c0bec(0x23c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x3d8446);}function getResultsFilename(){const _0xa24823=_0x314764,_0x4fbaea=document[_0xa24823(0x6ce)](_0xa24823(0x7e7))[_0xa24823(0xa88)][_0xa24823(0xa99)](/[^a-z0-9]/gi,'_')[_0xa24823(0x5db)]();return'results_'+(_0x4fbaea||_0xa24823(0x935));}function exportResultsAsImage(){const _0x654d7d=_0x314764,_0x33c7c1=document[_0x654d7d(0x6ce)](_0x654d7d(0x880));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x33c7c1)[_0x654d7d(0x2be)](_0x6ef14a=>{const _0x34c780=_0x654d7d,_0x1f10a4=document[_0x34c780(0x692)]('a');_0x1f10a4[_0x34c780(0x975)]=getResultsFilename()+_0x34c780(0x181),_0x1f10a4[_0x34c780(0xb9f)]=_0x6ef14a[_0x34c780(0xa48)](_0x34c780(0xbdf)),_0x1f10a4[_0x34c780(0x58a)](),messageModal[_0x34c780(0x68d)]['add'](_0x34c780(0xbc7));});}function exportResultsAsPDF(){const _0x1987da=_0x314764,{jsPDF:_0xf8a662}=window[_0x1987da(0xbe6)],_0x1586dc=new _0xf8a662();_0x1586dc[_0x1987da(0x682)]('helvetica','normal'),_0x1586dc[_0x1987da(0xc15)]({'html':'#results-table'}),_0x1586dc[_0x1987da(0x3c1)](getResultsFilename()+_0x1987da(0xbd9));}function exportResultsAsWord(){const _0x26112a=_0x314764,_0x220408=_0x26112a(0x7f6)+_0x26112a(0x851)+_0x26112a(0x9c3)+_0x26112a(0xba1),_0x18fc36=_0x26112a(0x342),_0x31eb77=_0x220408+document[_0x26112a(0x6ce)](_0x26112a(0x880))[_0x26112a(0x9c5)]+_0x18fc36,_0x152801=_0x26112a(0x5d1)+encodeURIComponent(_0x31eb77),_0x3c610b=document['createElement']('a');document['body'][_0x26112a(0x6fa)](_0x3c610b),_0x3c610b[_0x26112a(0xb9f)]=_0x152801,_0x3c610b[_0x26112a(0x975)]=getResultsFilename()+'.doc',_0x3c610b[_0x26112a(0x58a)](),document[_0x26112a(0xad4)][_0x26112a(0xc2b)](_0x3c610b);}function exportResultsAsExcel(){const _0x461252=_0x314764,_0x13c5a9=document['getElementById'](_0x461252(0x237));let _0x255984=[];for(let _0x192cf5=0x0;_0x192cf5<_0x13c5a9['rows'][_0x461252(0x1eb)];_0x192cf5++){let _0x4379fc=[],_0x49e9d5=_0x13c5a9[_0x461252(0x2bf)][_0x192cf5][_0x461252(0x3e7)](_0x461252(0xa70));for(let _0x32828b=0x0;_0x32828b<_0x49e9d5[_0x461252(0x1eb)];_0x32828b++){_0x4379fc[_0x461252(0x403)]('\x22'+_0x49e9d5[_0x32828b]['innerText'][_0x461252(0xa99)](/"/g,'\x22\x22')+'\x22');}_0x255984[_0x461252(0x403)](_0x4379fc[_0x461252(0x47c)](','));}const _0x28e423=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x255984['join']('\x0a')],{'type':_0x461252(0x908)}),_0x1d8345=document[_0x461252(0x692)]('a');_0x1d8345[_0x461252(0xb9f)]=URL['createObjectURL'](_0x28e423),_0x1d8345[_0x461252(0x975)]=getResultsFilename()+_0x461252(0xa71),_0x1d8345[_0x461252(0x58a)]();}function exportTableAsImage(_0x4863ff,_0xe13573){const _0x288508=_0x314764,_0x4bd8ee=document[_0x288508(0x6ce)](_0x4863ff);if(!_0x4bd8ee){showMessage(_0x288508(0x644));return;}showMessage(_0x288508(0x5f0)),html2canvas(_0x4bd8ee)['then'](_0x25c597=>{const _0x23c933=_0x288508,_0x4be562=document['createElement']('a');_0x4be562['download']=_0xe13573+_0x23c933(0x181),_0x4be562['href']=_0x25c597[_0x23c933(0xa48)]('image/png'),_0x4be562[_0x23c933(0x58a)](),messageModal[_0x23c933(0x68d)][_0x23c933(0x8f4)](_0x23c933(0xbc7));});}function exportTableAsPDF(_0x22443c,_0x3621a1){const _0x863be5=_0x314764,{jsPDF:_0x3e3981}=window[_0x863be5(0xbe6)],_0x45f751=new _0x3e3981();_0x45f751['setFont'](_0x863be5(0x9e8),_0x863be5(0x962)),_0x45f751[_0x863be5(0xc15)]({'html':'#'+_0x22443c}),_0x45f751[_0x863be5(0x3c1)](_0x3621a1+_0x863be5(0xbd9));}function exportTableAsWord(_0x3502ec,_0x1d5cf8){const _0x5b112a=_0x314764,_0x338cfd=document['getElementById'](_0x3502ec);if(!_0x338cfd){showMessage(_0x5b112a(0x644));return;}const _0x428467=_0x5b112a(0x7f6)+_0x5b112a(0x851)+_0x5b112a(0x9c3)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x446bf8=_0x5b112a(0x342),_0x2f4a4b=_0x428467+_0x338cfd[_0x5b112a(0x9c5)]+_0x446bf8,_0x5165c6='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x2f4a4b),_0x4bfa39=document['createElement']('a');document[_0x5b112a(0xad4)][_0x5b112a(0x6fa)](_0x4bfa39),_0x4bfa39[_0x5b112a(0xb9f)]=_0x5165c6,_0x4bfa39[_0x5b112a(0x975)]=_0x1d5cf8+_0x5b112a(0x74d),_0x4bfa39[_0x5b112a(0x58a)](),document[_0x5b112a(0xad4)][_0x5b112a(0xc2b)](_0x4bfa39);}function exportTableAsExcel(_0x1b261d,_0x4a411){const _0x3aebd8=_0x314764,_0x575c17=document['getElementById'](_0x1b261d);if(!_0x575c17){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x3f9a0b=[];for(let _0x3e4e90=0x0;_0x3e4e90<_0x575c17[_0x3aebd8(0x2bf)][_0x3aebd8(0x1eb)];_0x3e4e90++){let _0x56c952=[],_0x2937fe=_0x575c17['rows'][_0x3e4e90]['querySelectorAll'](_0x3aebd8(0xa70));for(let _0x1156be=0x0;_0x1156be<_0x2937fe[_0x3aebd8(0x1eb)];_0x1156be++){_0x56c952[_0x3aebd8(0x403)]('\x22'+_0x2937fe[_0x1156be]['innerText'][_0x3aebd8(0xa99)](/"/g,'\x22\x22')+'\x22');}_0x3f9a0b[_0x3aebd8(0x403)](_0x56c952['join'](','));}const _0x3970dd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3f9a0b['join']('\x0a')],{'type':_0x3aebd8(0x908)}),_0x49176c=document[_0x3aebd8(0x692)]('a');_0x49176c[_0x3aebd8(0xb9f)]=URL[_0x3aebd8(0x1d9)](_0x3970dd),_0x49176c[_0x3aebd8(0x975)]=_0x4a411+'.csv',_0x49176c['click']();}function renderAnalytics(_0x55e5fa,_0x3a3b00){const _0x1e4aa5=_0x314764,_0x2b2f65=_0x3a3b00[_0x1e4aa5(0x595)](_0x4b6f4b=>_0x4b6f4b['latestScore']!==undefined),_0x2ad63e=currentProjectData[_0x1e4aa5(0x801)][_0x1e4aa5(0x1eb)],_0x822d6f=_0x2b2f65['length'],_0x13f5e4=_0x2ad63e-_0x822d6f,_0x51f897=_0x2ad63e>0x0?_0x822d6f/_0x2ad63e*0x64:0x0,_0x5ce5de=_0x2b2f65[_0x1e4aa5(0x83a)](_0x548d66=>_0x548d66[_0x1e4aa5(0x319)]),_0x5e0399=_0x5ce5de[_0x1e4aa5(0x1eb)]>0x0?_0x5ce5de['reduce']((_0xcc8143,_0x104b3d)=>_0xcc8143+_0x104b3d,0x0)/_0x5ce5de[_0x1e4aa5(0x1eb)]:0x0,_0x36fd76=_0x55e5fa[_0x1e4aa5(0x7bb)]['length'],_0xc86693=_0x36fd76>0x0?_0x5e0399/_0x36fd76*0x64:0x0,_0x13f27c=calculateItemAnalysis(_0x55e5fa,_0x2b2f65),_0x352007=calculateReliabilityKR20(_0x55e5fa,_0x2b2f65,_0x13f27c['perQuestionStats']);let _0x73c7b0='';if(_0x352007!==null){let _0x1d5070='';if(_0x352007>=0.9)_0x1d5070=_0x1e4aa5(0xb05);else{if(_0x352007>=0.8)_0x1d5070='ดีมาก';else{if(_0x352007>=0.7)_0x1d5070='ดี';else{if(_0x352007>=0.6)_0x1d5070='พอใช้';else _0x1d5070=_0x1e4aa5(0x2fd);}}}_0x73c7b0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x352007[_0x1e4aa5(0x5ca)](0x2)+_0x1e4aa5(0x64b)+_0x1d5070+_0x1e4aa5(0x805);}const _0x58b59=document[_0x1e4aa5(0x6ce)](_0x1e4aa5(0x4aa));_0x58b59['innerHTML']=_0x1e4aa5(0x630)+_0x51f897['toFixed'](0x0)+_0x1e4aa5(0x220)+_0x822d6f+'/'+_0x2ad63e+_0x1e4aa5(0x586)+_0x5e0399['toFixed'](0x2)+_0x1e4aa5(0x1bc)+_0xc86693[_0x1e4aa5(0x5ca)](0x0)+_0x1e4aa5(0x846)+(_0x5ce5de['length']>0x0?Math[_0x1e4aa5(0x2c2)](..._0x5ce5de):_0x1e4aa5(0x78b))+_0x1e4aa5(0x76b)+(_0x5ce5de[_0x1e4aa5(0x1eb)]>0x0?Math[_0x1e4aa5(0x556)](..._0x5ce5de):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x73c7b0+_0x1e4aa5(0x462);const _0x507989=document['getElementById'](_0x1e4aa5(0xb11));_0x507989&&_0x507989[_0x1e4aa5(0x49f)]();const _0x3af8f4=_0x1e4aa5(0xba7);_0x58b59['insertAdjacentHTML'](_0x1e4aa5(0x6cd),_0x3af8f4);const _0x3df102=currentProjectData[_0x1e4aa5(0x801)]||[];renderSubmissionChart(_0x822d6f,_0x13f5e4,_0x2b2f65,_0x3df102),renderScoreDistributionChart(_0x2b2f65,_0x36fd76),renderQuestionAnalytics(_0x55e5fa,_0x2b2f65,_0x3df102),renderInterestingStats(_0x55e5fa,_0x2b2f65);}async function handleExportLessonPDF(){const _0x485e85=_0x314764,_0x4d4932=document[_0x485e85(0x6ce)](_0x485e85(0x8e3)),_0x53ed1c=document[_0x485e85(0x6ce)]('lesson-plan-title')[_0x485e85(0xa88)],_0x7ecaa5=window[_0x485e85(0x4fe)]('','_blank'),_0x343efa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x53ed1c+_0x485e85(0x72f)+_0x4d4932[_0x485e85(0x9c5)]+_0x485e85(0x282);_0x7ecaa5['document']['write'](_0x343efa),_0x7ecaa5[_0x485e85(0x404)][_0x485e85(0x190)](),_0x7ecaa5[_0x485e85(0x584)]=function(){setTimeout(()=>{_0x7ecaa5['print']();},0x5dc);};}function renderInterestingStats(_0x5c7adc,_0x452788){const _0x3323b2=_0x314764,_0x32115e=document[_0x3323b2(0x6ce)](_0x3323b2(0x601));if(!_0x32115e)return;if(_0x452788[_0x3323b2(0x1eb)]===0x0){_0x32115e[_0x3323b2(0x9c5)]=_0x3323b2(0x1ae);return;}const _0x3f90de=_0x5c7adc[_0x3323b2(0x7bb)][_0x3323b2(0x83a)]((_0x4f53d8,_0x2ba227)=>({'index':_0x2ba227+0x1,'text':_0x4f53d8[_0x3323b2(0x41e)]||_0x4f53d8[_0x3323b2(0x458)],'correct':0x0}));_0x452788[_0x3323b2(0x97e)](_0x5452d8=>{const _0x4c6456=_0x3323b2,_0x29426a=_0x5452d8[_0x4c6456(0x23c)][_0x5452d8[_0x4c6456(0x23c)][_0x4c6456(0x1eb)]-0x1];_0x29426a&&_0x29426a[_0x4c6456(0xb0a)]&&_0x29426a[_0x4c6456(0xb0a)]['forEach'](_0x205d3c=>{const _0x4f08ac=_0x4c6456,_0x7afbc4=_0x3f90de['find'](_0x550dac=>_0x550dac[_0x4f08ac(0xb56)]===_0x205d3c[_0x4f08ac(0x182)]);_0x205d3c[_0x4f08ac(0x48b)]&&_0x7afbc4&&_0x7afbc4[_0x4f08ac(0x824)]++;});});const _0x54c9f0=_0x452788[_0x3323b2(0x1eb)],_0x5d39a4=Math['max'](..._0x3f90de['map'](_0x20d144=>_0x20d144[_0x3323b2(0x824)])),_0x55d970=Math['min'](..._0x3f90de[_0x3323b2(0x83a)](_0x3de0d8=>_0x3de0d8[_0x3323b2(0x824)])),_0x647c08=_0x3f90de[_0x3323b2(0x595)](_0x50daaf=>_0x50daaf[_0x3323b2(0x824)]===_0x5d39a4)[_0x3323b2(0x83a)](_0x2d9339=>_0x3323b2(0x7ab)+_0x2d9339[_0x3323b2(0x944)]),_0x2b74e6=_0x3f90de['filter'](_0x7499ea=>_0x7499ea['correct']===_0x55d970)['map'](_0x38c271=>_0x3323b2(0x7ab)+_0x38c271[_0x3323b2(0x944)]),_0x4d3f61=_0x452788[_0x3323b2(0x588)]((_0x394ce8,_0x249f06)=>_0x249f06[_0x3323b2(0x319)]-_0x394ce8['latestScore'])['filter']((_0x514677,_0xa28dbf,_0x5bfadf)=>_0x514677[_0x3323b2(0x319)]===_0x5bfadf[0x0][_0x3323b2(0x319)]),_0x66dabc=_0x452788[_0x3323b2(0x588)]((_0x52b04c,_0x3f069b)=>_0x52b04c[_0x3323b2(0x319)]-_0x3f069b[_0x3323b2(0x319)])[_0x3323b2(0x595)]((_0x5dfd49,_0x323dbe,_0x584895)=>_0x5dfd49[_0x3323b2(0x319)]===_0x584895[0x0]['latestScore']),_0x4732ae=_0x3323b2(0x1fa)+_0x647c08[_0x3323b2(0x47c)](',\x20')+_0x3323b2(0x7b4)+_0x5d39a4+_0x3323b2(0x2d6)+_0x54c9f0+_0x3323b2(0x6e1)+_0x2b74e6['join'](',\x20')+_0x3323b2(0x7b4)+(_0x54c9f0-_0x55d970)+_0x3323b2(0x2d6)+_0x54c9f0+_0x3323b2(0x99a)+_0x4d3f61['map'](_0x5283ba=>_0x5283ba[_0x3323b2(0x43f)])[_0x3323b2(0x47c)](',\x20')+_0x3323b2(0x575)+_0x4d3f61[0x0][_0x3323b2(0x319)]+_0x3323b2(0x656)+_0x66dabc[_0x3323b2(0x83a)](_0x1c8983=>_0x1c8983[_0x3323b2(0x43f)])[_0x3323b2(0x47c)](',\x20')+_0x3323b2(0x575)+_0x66dabc[0x0][_0x3323b2(0x319)]+_0x3323b2(0x9fa);_0x32115e['innerHTML']=_0x4732ae;}function renderSubmissionChart(_0x40a6bb,_0x3f5335,_0x864adb,_0x4148dd){const _0x4ea225=_0x314764,_0x5ea47b=document[_0x4ea225(0x6ce)]('submission-status-chart')[_0x4ea225(0x5d8)]('2d'),_0x6debb3=_0x864adb[_0x4ea225(0x83a)](_0x3718cb=>_0x3718cb[_0x4ea225(0x43f)]),_0x24aa2b=_0x4148dd[_0x4ea225(0x595)](_0x282f27=>!_0x6debb3[_0x4ea225(0x8f7)](_0x282f27));chartInstances[_0x4ea225(0xb86)]&&chartInstances[_0x4ea225(0xb86)][_0x4ea225(0xaec)](),chartInstances[_0x4ea225(0xb86)]=new Chart(_0x5ea47b,{'type':_0x4ea225(0x9ca),'data':{'labels':[_0x4ea225(0x79e),_0x4ea225(0x299)],'datasets':[{'data':[_0x40a6bb,_0x3f5335],'backgroundColor':[_0x4ea225(0x5bb),_0x4ea225(0x8e4)],'borderColor':[_0x4ea225(0x2a4),_0x4ea225(0x2a4)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4ea225(0x730)},'tooltip':{'callbacks':{'label':function(_0x1a865c){const _0x2f5841=_0x4ea225;let _0xc9761f=_0x1a865c[_0x2f5841(0x8db)]||'';return _0xc9761f&&(_0xc9761f+=':\x20'),_0xc9761f+=_0x1a865c[_0x2f5841(0x903)],_0xc9761f;},'afterLabel':function(_0x4bdc1d){const _0x33c020=_0x4ea225;let _0x155682;return _0x4bdc1d[_0x33c020(0x77d)]===0x0?_0x155682=_0x6debb3:_0x155682=_0x24aa2b,_0x155682[_0x33c020(0x1eb)]>0x0?_0x155682[_0x33c020(0x47c)]('\x0a'):_0x33c020(0x2ef);}}}}}});}function renderScoreDistributionChart(_0x5d88a5,_0x3b76ba){const _0x1708df=_0x314764,_0x279ed0=document[_0x1708df(0x6ce)](_0x1708df(0x798))[_0x1708df(0x5d8)]('2d'),_0x12b40b={};for(let _0x28b1d0=0x0;_0x28b1d0<=_0x3b76ba;_0x28b1d0++){_0x12b40b[_0x28b1d0]=0x0;}_0x5d88a5[_0x1708df(0x97e)](_0x21aa6f=>{const _0x49dba6=_0x1708df;_0x12b40b[_0x21aa6f['latestScore']]!==undefined&&_0x12b40b[_0x21aa6f[_0x49dba6(0x319)]]++;}),chartInstances[_0x1708df(0xbde)]&&chartInstances['score'][_0x1708df(0xaec)](),chartInstances['score']=new Chart(_0x279ed0,{'type':'bar','data':{'labels':Object[_0x1708df(0x34a)](_0x12b40b),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x1708df(0x799)](_0x12b40b),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x1708df(0xaf1),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1708df(0x6b5)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x3d6c6d){const _0x286077=_0x1708df,_0x2e8dae=_0x3d6c6d[_0x286077(0x8db)],_0x48c8e6=_0x5d88a5[_0x286077(0x595)](_0x119826=>_0x119826[_0x286077(0x319)]==_0x2e8dae)[_0x286077(0x83a)](_0x25bd9e=>_0x25bd9e[_0x286077(0x43f)]);return _0x48c8e6[_0x286077(0x1eb)]>0x0?_0x48c8e6[_0x286077(0x47c)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x33d4a1,_0xfd767d,_0x56b050){const _0xb6a432=_0x314764,_0x1ee56b=document['getElementById'](_0xb6a432(0xbae));if(_0x56b050[_0xb6a432(0x1eb)]===0x0){_0x1ee56b['innerHTML']=_0xb6a432(0xbf7);return;}const _0x482034=calculateItemAnalysis(_0x33d4a1,_0xfd767d),_0x591865=calculateDistractorAnalysis(_0x33d4a1,_0xfd767d);let _0x1e6837='';_0x482034[_0xb6a432(0x170)]&&(_0x1e6837=_0xb6a432(0x532)+_0x482034[_0xb6a432(0x170)][_0xb6a432(0x454)][_0xb6a432(0x1eb)]+_0xb6a432(0x9b1)+_0x482034['overallGroups'][_0xb6a432(0x454)][_0xb6a432(0x83a)](_0x285b9c=>_0xb6a432(0x973)+_0x285b9c+_0xb6a432(0x302))['join']('')+_0xb6a432(0x5d6)+_0x482034['overallGroups']['lowerGroupNames'][_0xb6a432(0x1eb)]+_0xb6a432(0x9b1)+_0x482034['overallGroups'][_0xb6a432(0x447)][_0xb6a432(0x83a)](_0x140dbe=>_0xb6a432(0x973)+_0x140dbe+_0xb6a432(0x302))[_0xb6a432(0x47c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x2ae65f='';const _0xec1c4b=_0xfd767d[_0xb6a432(0x83a)](_0x24b806=>_0x24b806['studentName']),_0x57e438=_0x19544f=>{const _0x1b3898=_0xb6a432;if(_0x19544f>=0.8)return _0x1b3898(0x36a);if(_0x19544f>=0.6)return _0x1b3898(0x4c6);if(_0x19544f>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x19544f>=0.2)return _0x1b3898(0x4c2);return _0x1b3898(0x62f);},_0x1a75f8=_0x44b98e=>{const _0xd0a217=_0xb6a432;if(_0x44b98e<0x0)return _0xd0a217(0x29e);if(_0x44b98e>=0.4)return _0xd0a217(0x6cc);if(_0x44b98e>=0.3)return _0xd0a217(0x904);if(_0x44b98e>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x12f47f=_0x10b1fa=>{const _0x4d81d3=_0xb6a432,_0x1d9f0c=_0x10b1fa[_0x4d81d3(0x5ca)](0x0);if(parseFloat(_0x1d9f0c)===0x64)return _0x4d81d3(0x2c8)+_0x1d9f0c+_0x4d81d3(0x60f);if(_0x10b1fa>=0x32)return _0x4d81d3(0x1e7)+_0x1d9f0c+_0x4d81d3(0x60f);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x1d9f0c+'%</span>';};_0x33d4a1[_0xb6a432(0x7bb)][_0xb6a432(0x97e)]((_0x83da67,_0x29ae70)=>{const _0x4119d3=_0xb6a432,_0x1a8d41=_0x482034['perQuestionStats'][_0x29ae70],_0x348aef=_0x591865[_0x29ae70],_0xbf0ed5=_0x83da67[_0x4119d3(0x458)]||_0x83da67[_0x4119d3(0x41e)]||_0x83da67[_0x4119d3(0x5e1)];let _0x5ae54e=0x0;const _0x5cbe14=[],_0x5a1ac9=[];_0xfd767d[_0x4119d3(0x97e)](_0x124762=>{const _0x1f14e9=_0x4119d3,_0x5d165f=_0x124762[_0x1f14e9(0x23c)][_0x124762[_0x1f14e9(0x23c)][_0x1f14e9(0x1eb)]-0x1];if(_0x5d165f&&_0x5d165f[_0x1f14e9(0xb0a)]){const _0x3e9d90=_0x5d165f[_0x1f14e9(0xb0a)][_0x1f14e9(0xae2)](_0x5708da=>_0x5708da[_0x1f14e9(0x182)]===_0xbf0ed5)??_0x5d165f['answers'][_0x29ae70]??null;_0x3e9d90&&(_0x3e9d90['isCorrect']?(_0x5ae54e++,_0x5cbe14[_0x1f14e9(0x403)](_0x124762[_0x1f14e9(0x43f)])):_0x5a1ac9[_0x1f14e9(0x403)](_0x124762[_0x1f14e9(0x43f)]));}});const _0x3142bb=_0xfd767d['length']>0x0?_0x5ae54e/_0xfd767d[_0x4119d3(0x1eb)]*0x64:0x0,_0x5c0eec=_0x56b050[_0x4119d3(0x595)](_0x4f4160=>!_0xec1c4b[_0x4119d3(0x8f7)](_0x4f4160)),_0x3ec96e=_0x1a8d41?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x1a8d41['p']['toFixed'](0x2)+'</p><div>'+_0x57e438(_0x1a8d41['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x1a8d41['r'][_0x4119d3(0x5ca)](0x2)+_0x4119d3(0xa8a)+_0x1a75f8(_0x1a8d41['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12f47f(_0x3142bb)+_0x4119d3(0x849):'';let _0x4d2ade='';_0x348aef&&(_0x4d2ade=_0x4119d3(0x539)+Object['keys'](_0x348aef)[_0x4119d3(0x83a)](_0x2eafad=>{const _0x3711b0=_0x4119d3,_0x82d80b=_0x348aef[_0x2eafad],_0xb08fdf=parseInt(_0x2eafad)===_0x83da67['correctAnswerIndex'],_0x59694d=!_0xb08fdf&&_0x82d80b[_0x3711b0(0x289)]>_0x82d80b[_0x3711b0(0x183)];return _0x3711b0(0x339)+(_0xb08fdf?_0x3711b0(0x5ae):'')+_0x3711b0(0xba9)+(_0xb08fdf?'✔\x20':'')+_0x82d80b['text']+_0x3711b0(0x660)+_0x82d80b[_0x3711b0(0x183)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x82d80b[_0x3711b0(0x289)]+'\x20'+(_0x59694d?'👍':'')+_0x3711b0(0x660)+_0x82d80b[_0x3711b0(0x1a0)]+_0x3711b0(0x32d);})[_0x4119d3(0x47c)]('')+_0x4119d3(0x885));let _0x22b35a='';_0x1a8d41&&_0x1a8d41[_0x4119d3(0x310)]&&(_0x22b35a=_0x4119d3(0x1bb)+_0x1a8d41[_0x4119d3(0x310)]['length']+_0x4119d3(0x886)+_0x1a8d41[_0x4119d3(0x310)][_0x4119d3(0x83a)](_0x4e695c=>_0x4119d3(0x973)+(_0x4e695c[_0x4119d3(0x48b)]?_0x4119d3(0x6f3):_0x4119d3(0x574))+'\x20'+_0x4e695c[_0x4119d3(0x924)]+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1a8d41['lowerGroupResponders'][_0x4119d3(0x1eb)]+_0x4119d3(0x886)+_0x1a8d41[_0x4119d3(0x4d4)][_0x4119d3(0x83a)](_0x2d5195=>'<li>'+(_0x2d5195[_0x4119d3(0x48b)]?_0x4119d3(0x6f3):_0x4119d3(0x574))+'\x20'+_0x2d5195[_0x4119d3(0x924)]+_0x4119d3(0x302))[_0x4119d3(0x47c)]('')+_0x4119d3(0xa23)),_0x2ae65f+=_0x4119d3(0x65f)+(_0x29ae70+0x1)+':\x20'+_0xbf0ed5+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x3ec96e+_0x4119d3(0xc04)+_0xbf0ed5+_0x4119d3(0xae9)+_0x5ae54e+_0x4119d3(0x835)+_0xfd767d[_0x4119d3(0x1eb)]+_0x4119d3(0xb60)+_0x3142bb[_0x4119d3(0x5ca)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x5cbe14[_0x4119d3(0x1eb)]+_0x4119d3(0x18e)+(_0x5cbe14[_0x4119d3(0x1eb)]>0x0?_0x5cbe14[_0x4119d3(0x47c)](',\x20'):_0x4119d3(0x2ef))+_0x4119d3(0x590)+_0x5a1ac9['length']+_0x4119d3(0x18e)+(_0x5a1ac9[_0x4119d3(0x1eb)]>0x0?_0x5a1ac9['join'](',\x20'):_0x4119d3(0x2ef))+_0x4119d3(0x883)+_0x5c0eec[_0x4119d3(0x1eb)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5c0eec[_0x4119d3(0x1eb)]>0x0?_0x5c0eec[_0x4119d3(0x47c)](',\x20'):_0x4119d3(0x2ef))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d2ade+_0x4119d3(0x9e5)+_0x22b35a+_0x4119d3(0xa2d);}),_0x1ee56b[_0xb6a432(0x9c5)]=_0x1e6837+_0x2ae65f;try{window['MathJax']&&MathJax[_0xb6a432(0x966)]&&MathJax[_0xb6a432(0x966)]([_0x1ee56b]);}catch(_0x11abd7){console[_0xb6a432(0x9b3)]('MathJax\x20typeset\x20error\x20(analytics):',_0x11abd7);}}function calculateDistractorAnalysis(_0x18372c,_0x295c6c){const _0x4561b3=_0x314764,_0x31339d={};if(_0x295c6c['length']<0x2)return _0x31339d;const _0x78e21=[..._0x295c6c][_0x4561b3(0x588)]((_0x258903,_0x4a1449)=>{const _0x6dcbae=_0x4561b3,_0x5ac115=_0x4a1449[_0x6dcbae(0x319)]-_0x258903[_0x6dcbae(0x319)];if(_0x5ac115!==0x0)return _0x5ac115;const _0x129343=_0x258903['attempts']?.[_0x6dcbae(0x1eb)]||0x1,_0x1d1504=_0x4a1449[_0x6dcbae(0x23c)]?.[_0x6dcbae(0x1eb)]||0x1,_0x39c23e=_0x129343-_0x1d1504;if(_0x39c23e!==0x0)return _0x39c23e;const _0x5717b7=new Date(_0x258903[_0x6dcbae(0xbd5)]),_0x55e110=new Date(_0x4a1449['latestSubmittedAt']),_0xd2f48=_0x5717b7-_0x55e110;if(_0xd2f48!==0x0)return _0xd2f48;return _0x258903[_0x6dcbae(0x43f)][_0x6dcbae(0xb5d)](_0x4a1449['studentName'],'th');}),_0x52bbc7=_0x78e21['length'],_0x2a6f01=Math[_0x4561b3(0x2c2)](0x1,Math[_0x4561b3(0x7d0)](_0x52bbc7*0.33)),_0x2d3bbd=_0x78e21[_0x4561b3(0x8e8)](0x0,_0x2a6f01),_0x1a00db=_0x78e21[_0x4561b3(0x8e8)](-_0x2a6f01);return _0x18372c['questions'][_0x4561b3(0x97e)]((_0x52233a,_0x324f2a)=>{const _0x1a8133=_0x4561b3;if(_0x52233a[_0x1a8133(0xb6e)]!=='multiple_choice'||!_0x52233a['options'])return;const _0x3b1eba=_0x52233a[_0x1a8133(0x41e)],_0x33e426={};_0x52233a[_0x1a8133(0x9b5)][_0x1a8133(0x97e)]((_0x1cab01,_0x5948b9)=>{_0x33e426[_0x5948b9]={'text':_0x1cab01,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x78e21[_0x1a8133(0x97e)](_0x5085cd=>{const _0x49fd01=_0x1a8133,_0x50dc5c=_0x5085cd[_0x49fd01(0x23c)][_0x5085cd[_0x49fd01(0x23c)][_0x49fd01(0x1eb)]-0x1],_0x2721a5=_0x50dc5c['answers'][_0x49fd01(0xae2)](_0x2284d8=>_0x2284d8[_0x49fd01(0x182)]===_0x3b1eba);if(_0x2721a5&&_0x2721a5[_0x49fd01(0xa38)]!==null){const _0x1634ed=_0x52233a['options'][_0x49fd01(0xb57)](_0x21ebbb=>_0x21ebbb===_0x2721a5[_0x49fd01(0x46a)]);_0x1634ed!==-0x1&&_0x33e426[_0x1634ed]&&(_0x33e426[_0x1634ed][_0x49fd01(0x1a0)]++,_0x2d3bbd['includes'](_0x5085cd)&&_0x33e426[_0x1634ed]['upper_group_count']++,_0x1a00db['includes'](_0x5085cd)&&_0x33e426[_0x1634ed][_0x49fd01(0x289)]++);}}),_0x31339d[_0x324f2a]=_0x33e426;}),_0x31339d;}function calculateReliabilityKR20(_0x415c37,_0x4f01a0,_0x992709){const _0x5cc3ee=_0x314764,_0x3174f3=_0x415c37[_0x5cc3ee(0x7bb)]['length'];if(_0x3174f3<0x2||_0x4f01a0['length']<0x2)return null;const _0xf3bc47=_0x4f01a0[_0x5cc3ee(0x83a)](_0x9da56b=>_0x9da56b[_0x5cc3ee(0x319)]),_0x533b93=_0xf3bc47[_0x5cc3ee(0xbd7)]((_0x47a838,_0x2a7f2f)=>_0x47a838+_0x2a7f2f,0x0)/_0xf3bc47[_0x5cc3ee(0x1eb)],_0x466a70=_0xf3bc47[_0x5cc3ee(0x83a)](_0x26e04e=>Math[_0x5cc3ee(0x989)](_0x26e04e-_0x533b93,0x2))[_0x5cc3ee(0xbd7)]((_0x3e1a8d,_0x5e863d)=>_0x3e1a8d+_0x5e863d,0x0)/_0xf3bc47[_0x5cc3ee(0x1eb)];if(_0x466a70===0x0)return null;let _0x4d26f1=0x0;for(let _0x17fc44=0x0;_0x17fc44<_0x3174f3;_0x17fc44++){const _0x5c395e=_0x992709[_0x17fc44]?.['p'];if(_0x5c395e===undefined)continue;const _0x26469a=0x1-_0x5c395e;_0x4d26f1+=_0x5c395e*_0x26469a;}if(_0x4d26f1===0x0)return null;const _0x3c1a85=_0x3174f3/(_0x3174f3-0x1)*(0x1-_0x4d26f1/_0x466a70);if(_0x3c1a85>0x1)return null;return _0x3c1a85;}async function handleAnalyzeClass(){const _0x3c66ba=_0x314764;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x226fb1=collection(db,_0x3c66ba(0x21f)+appId+_0x3c66ba(0x75f)+currentQuizData['id']+_0x3c66ba(0x9f3)),_0x42bbb4=await getDocs(_0x226fb1),_0x377626=_0x42bbb4['docs'][_0x3c66ba(0x83a)](_0x1c0a3f=>_0x1c0a3f[_0x3c66ba(0x31c)]());if(_0x377626[_0x3c66ba(0x1eb)]<0x2){showMessage(_0x3c66ba(0x3ab));return;}const _0x5a1a30=document[_0x3c66ba(0x6ce)](_0x3c66ba(0xad1));_0x5a1a30[_0x3c66ba(0x9c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x3c66ba(0x6ce)](_0x3c66ba(0x611))[_0x3c66ba(0x915)]=!![];const _0x4fa15d=_0x377626['map']((_0x474540,_0x2038ac)=>{const _0x35aabe=_0x3c66ba,_0x4d7e15=_0x474540[_0x35aabe(0x23c)][_0x474540['attempts']['length']-0x1];if(!_0x4d7e15)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x2038ac+0x1)+'\x20('+_0x474540[_0x35aabe(0x43f)]+_0x35aabe(0xb5c)+_0x4d7e15[_0x35aabe(0xbde)]+'/'+_0x474540[_0x35aabe(0x2ee)]+_0x35aabe(0x1ba)+JSON[_0x35aabe(0x73a)](_0x4d7e15[_0x35aabe(0xb0a)])+_0x35aabe(0x6fd);})[_0x3c66ba(0x47c)]('\x0a---\x0a'),_0x564465='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x3c66ba(0x265)]+_0x3c66ba(0x94a)+JSON[_0x3c66ba(0x73a)](currentQuizData[_0x3c66ba(0x7bb)])+_0x3c66ba(0x1e4)+_0x4fa15d+_0x3c66ba(0xbba),_0x57b456={'type':_0x3c66ba(0x417),'properties':{'classStrengths':{'type':_0x3c66ba(0x8c2),'items':{'type':_0x3c66ba(0x5b8)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x3c66ba(0x5b8)}},'teacherSuggestions':{'type':_0x3c66ba(0x8c2),'items':{'type':_0x3c66ba(0x5b8)}}},'required':['classStrengths',_0x3c66ba(0x2e5),_0x3c66ba(0x9dc)]};try{const _0x5c8674=await callAnalysisApi(_0x564465,_0x57b456);displayClassAnalysis(_0x5c8674);}catch(_0x19d13e){console['error'](_0x3c66ba(0x250),_0x19d13e),_0x5a1a30[_0x3c66ba(0x9c5)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x19d13e[_0x3c66ba(0x86b)]+_0x3c66ba(0x338);}finally{document[_0x3c66ba(0x6ce)](_0x3c66ba(0x611))[_0x3c66ba(0x915)]=![];}}function displayClassAnalysis(_0x16967e){const _0x5e8ee0=_0x314764,_0x47c2f5=document['getElementById'](_0x5e8ee0(0xad1));if(!_0x16967e){_0x47c2f5[_0x5e8ee0(0x9c5)]=_0x5e8ee0(0xa4c);return;}_0x47c2f5[_0x5e8ee0(0x9c5)]=_0x5e8ee0(0x591)+_0x16967e[_0x5e8ee0(0x916)][_0x5e8ee0(0x83a)](_0xe689f0=>_0x5e8ee0(0x973)+_0xe689f0+_0x5e8ee0(0x302))['join']('')+_0x5e8ee0(0x267)+_0x16967e[_0x5e8ee0(0x2e5)]['map'](_0x2efd50=>_0x5e8ee0(0x973)+_0x2efd50+'</li>')[_0x5e8ee0(0x47c)]('')+_0x5e8ee0(0xbbc)+_0x16967e[_0x5e8ee0(0x9dc)][_0x5e8ee0(0x83a)](_0x116597=>_0x5e8ee0(0x973)+_0x116597+_0x5e8ee0(0x302))['join']('')+_0x5e8ee0(0x75d);}function formatAndPrintWorksheet(_0x2c6ca5,_0x2415e6){const _0x244d70=_0x314764,_0x176287=_0x244d70(0x721)+_0x2c6ca5[_0x244d70(0x265)]+_0x244d70(0x820)+_0x2c6ca5[_0x244d70(0x265)]+_0x244d70(0x4df)+_0x2c6ca5['questions'][_0x244d70(0x83a)]((_0x2fa08b,_0x2c947a)=>_0x244d70(0x409)+(_0x2c947a+0x1)+'.\x20'+_0x2fa08b[_0x244d70(0x41e)]+_0x244d70(0x63d)+(_0x2fa08b['imageCode']?_0x244d70(0xa89)+_0x2fa08b[_0x244d70(0x25f)]+'</div>':'')+_0x244d70(0x671))[_0x244d70(0x47c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2415e6[_0x244d70(0x404)][_0x244d70(0x1cd)](_0x176287),_0x2415e6[_0x244d70(0x404)][_0x244d70(0x190)](),_0x2415e6['onload']=function(){setTimeout(()=>{const _0x550c5c=_0x3289;_0x2415e6[_0x550c5c(0x62c)]();},0x3e8);};}async function generateWorksheet(){const _0x3a8840=_0x314764,_0x3d0bf4=document[_0x3a8840(0x6ce)](_0x3a8840(0xac0))['value'][_0x3a8840(0x1b6)]();if(!_0x3d0bf4){showMessage(_0x3a8840(0x719));return;}const _0x371784=document['getElementById'](_0x3a8840(0x2c6))[_0x3a8840(0x5dc)],_0x21a61b=_0x371784?'':_0x3a8840(0x81f),_0x58939d=window[_0x3a8840(0x4fe)]('','_blank');_0x58939d[_0x3a8840(0x404)][_0x3a8840(0x1cd)](_0x3a8840(0xb24));const _0x3f8710=parseInt(document[_0x3a8840(0x6ce)]('num-questions')['value']),_0x1edaa2=document[_0x3a8840(0x6ce)](_0x3a8840(0x6ad))[_0x3a8840(0x5dc)],_0x22ff3d=_0x1edaa2?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x52a271='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x21a61b+_0x3a8840(0x272)+_0x3f8710+_0x3a8840(0xa73)+_0x3d0bf4+_0x3a8840(0x244)+_0x22ff3d+_0x3a8840(0x494)+simpleMathPrompt+_0x3a8840(0x740),_0x535bb7={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3a8840(0x8c2),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x3a8840(0x5b8)},'imageCode':{'type':_0x3a8840(0x5b8)}},'required':[_0x3a8840(0x41e)]}}},'required':[_0x3a8840(0x265),_0x3a8840(0x7bb)]};document['getElementById'](_0x3a8840(0x726))['textContent']='',document[_0x3a8840(0x6ce)](_0x3a8840(0x3f8))['classList'][_0x3a8840(0x49f)](_0x3a8840(0xbc7)),document[_0x3a8840(0x6ce)]('quiz-generation-area')[_0x3a8840(0x68d)][_0x3a8840(0x49f)]('hidden'),generateWorksheetBtn[_0x3a8840(0x915)]=!![];try{const _0x4befb0=await callAnalysisApi(_0x52a271,_0x535bb7);formatAndPrintWorksheet(_0x4befb0,_0x58939d);}catch(_0x33ac17){console[_0x3a8840(0x9b3)](_0x3a8840(0x4d0),_0x33ac17);if(_0x58939d)_0x58939d[_0x3a8840(0x190)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x3a8840(0x6ce)](_0x3a8840(0x3f8))['classList'][_0x3a8840(0x8f4)](_0x3a8840(0xbc7)),document['getElementById'](_0x3a8840(0xc0d))[_0x3a8840(0x68d)][_0x3a8840(0x8f4)](_0x3a8840(0xbc7)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x12089f,_0x4a342e){const _0x6e8b7c=_0x314764,_0x1af24b={'contents':[{'role':_0x6e8b7c(0x860),'parts':[{'text':_0x12089f}]}],'generationConfig':{'responseMimeType':_0x6e8b7c(0x37e),'responseSchema':_0x4a342e}},_0x3f368f=_0x6e8b7c(0xb4e),_0x2062aa='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3f368f,_0x2d2959=await fetch(_0x2062aa,{'method':_0x6e8b7c(0x547),'headers':{'Content-Type':_0x6e8b7c(0x37e)},'body':JSON['stringify'](_0x1af24b)});if(!_0x2d2959['ok'])throw new Error(_0x6e8b7c(0xb00)+_0x2d2959[_0x6e8b7c(0xbfc)]);const _0x8300f7=await _0x2d2959[_0x6e8b7c(0x2a7)]();if(_0x8300f7[_0x6e8b7c(0x468)]?.[0x0]?.[_0x6e8b7c(0x22e)]?.['parts']?.[0x0])return JSON[_0x6e8b7c(0x36d)](_0x8300f7[_0x6e8b7c(0x468)][0x0][_0x6e8b7c(0x22e)][_0x6e8b7c(0x5f2)][0x0]['text']);else{let _0x45e994=_0x6e8b7c(0x5df);if(_0x8300f7[_0x6e8b7c(0x861)]?.[_0x6e8b7c(0xc14)])_0x45e994=_0x6e8b7c(0x6f8)+_0x8300f7[_0x6e8b7c(0x861)]['blockReason']+'.';else _0x8300f7[_0x6e8b7c(0x468)]?.[0x0]?.[_0x6e8b7c(0x1ef)]&&_0x8300f7['candidates'][0x0][_0x6e8b7c(0x1ef)]!==_0x6e8b7c(0x1c5)&&(_0x45e994='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x8300f7[_0x6e8b7c(0x468)][0x0][_0x6e8b7c(0x1ef)]+'.');console[_0x6e8b7c(0x9b3)](_0x45e994,JSON[_0x6e8b7c(0x73a)](_0x8300f7));throw new Error(_0x45e994);}}async function handleStartSyncMode(_0x38cc98,_0x30baaf=![]){const _0x13e44f=_0x314764,_0x4a99bc=allQuizzes[_0x13e44f(0xae2)](_0x3f18a3=>_0x3f18a3['id']===_0x38cc98)||allQuizzesGlobal[_0x13e44f(0xae2)](_0x6ae7ba=>_0x6ae7ba['id']===_0x38cc98);if(!_0x4a99bc){showMessage(_0x13e44f(0x80c));return;}currentQuizData=getShuffledQuiz(_0x4a99bc);const _0x364fd0=Math[_0x13e44f(0x7d0)](0x3e8+Math[_0x13e44f(0x2e9)]()*0x2328)[_0x13e44f(0x2e2)]();try{const _0x1f7bbe=await addDoc(collection(db,'artifacts/'+appId+_0x13e44f(0x35d)),{'quizId':_0x4a99bc['id'],'pin':_0x364fd0,'status':_0x13e44f(0x4b6),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x30baaf,'players':{}});currentLiveGameId=_0x1f7bbe['id'],showView(_0x13e44f(0x5a8)),renderSyncLobbyView(_0x364fd0,_0x4a99bc[_0x13e44f(0x265)]),listenForSyncGameUpdates();}catch(_0x370706){console['error']('Error\x20starting\x20sync\x20game:',_0x370706),showMessage(_0x13e44f(0x9bc));}}function calculateFinalPodiumScores(_0x2c64b5){const _0x5aeaa0=_0x314764;if(!_0x2c64b5||!_0x2c64b5[_0x5aeaa0(0xb49)]||!_0x2c64b5[_0x5aeaa0(0xb90)])return _0x2c64b5[_0x5aeaa0(0xb90)]||{};const _0x3e0120=_0x2c64b5[_0x5aeaa0(0xb49)]['questions']['length'],_0x160dbd=JSON['parse'](JSON['stringify'](_0x2c64b5['players']));return Object[_0x5aeaa0(0x799)](_0x160dbd)[_0x5aeaa0(0x97e)](_0x196448=>{const _0x3cd0b7=_0x5aeaa0,_0x4bf9b2=_0x196448[_0x3cd0b7(0xbde)];let _0x25291e=0x0;_0x2c64b5[_0x3cd0b7(0xb92)]&&_0x196448['answers']&&_0x196448['answers']['forEach'](_0x2f15c7=>{const _0x31a21c=_0x3cd0b7;if(_0x2f15c7[_0x31a21c(0x48b)]&&_0x2f15c7[_0x31a21c(0x6c7)])_0x25291e+=0x1;else!_0x2f15c7[_0x31a21c(0x48b)]&&_0x2f15c7[_0x31a21c(0x6c7)]&&(_0x25291e-=0x1);}),_0x196448['score']=_0x4bf9b2+_0x25291e,_0x3e0120>0x0&&_0x4bf9b2===_0x3e0120&&(_0x196448[_0x3cd0b7(0xbde)]+=0x1,_0x196448['hasPerfectScoreBonus']=!![]);}),_0x160dbd;}function listenForSyncGameUpdates(){const _0x32d715=_0x314764;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x245084=doc(db,_0x32d715(0x21f)+appId+_0x32d715(0x35d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x245084,_0x3826a0=>{const _0x2b8640=_0x32d715;if(!_0x3826a0[_0x2b8640(0x232)]()){sessionStorage[_0x2b8640(0xa6e)](_0x2b8640(0x736));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x2b8640(0x4c5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x2b8640(0x66f)):showView(_0x2b8640(0xa82));return;}const _0x15cc2f=_0x3826a0['data']();currentMode===_0x2b8640(0x41d)?updateAdminSyncView(_0x15cc2f):updateStudentSyncView(_0x15cc2f);});}function renderSyncLobbyView(_0x430532,_0x4c4d3e){const _0x912e33=_0x314764;liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x4c4d3e+_0x912e33(0xa84)+_0x430532+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2803af=document[_0x912e33(0x6ce)](_0x912e33(0x24e)),_0x455804=document['getElementById'](_0x912e33(0x4c4));_0x2803af[_0x912e33(0x9cd)]('change',()=>{const _0x526b4d=_0x912e33;_0x455804['style'][_0x526b4d(0xbe1)]=_0x2803af['checked']?'block':'none';}),document['getElementById'](_0x912e33(0x2c0))[_0x912e33(0x9cd)](_0x912e33(0x58a),async()=>{const _0x2676f8=_0x912e33,_0x4601a1=doc(db,_0x2676f8(0x21f)+appId+_0x2676f8(0x35d),currentLiveGameId),_0x1584c3=document[_0x2676f8(0x6ce)](_0x2676f8(0x24e))['checked'];await updateDoc(_0x4601a1,{'status':_0x2676f8(0x2d4),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x1584c3});});}function updateAdminSyncView(_0x477bb3){const _0x3c32eb=_0x314764;switch(_0x477bb3['status']){case _0x3c32eb(0x4b6):renderSyncLobbyView(_0x477bb3[_0x3c32eb(0x917)],_0x477bb3[_0x3c32eb(0xb49)][_0x3c32eb(0x265)]);const _0x3cc676=Object[_0x3c32eb(0x5ee)](_0x477bb3['players']||{})[_0x3c32eb(0x595)](([_0x26fb9a,_0x287b5e])=>_0x287b5e[_0x3c32eb(0xbfc)]!=='inactive');document[_0x3c32eb(0x6ce)]('player-count')['textContent']=_0x3cc676[_0x3c32eb(0x1eb)],document[_0x3c32eb(0x6ce)](_0x3c32eb(0x597))[_0x3c32eb(0x9c5)]=_0x3cc676[_0x3c32eb(0x83a)](([_0x2583b5,_0x2aa70c])=>_0x3c32eb(0xbfe)+_0x2583b5+_0x3c32eb(0xa52)+_0x2583b5+_0x3c32eb(0x948))[_0x3c32eb(0x47c)]('')||_0x3c32eb(0x8a3),document[_0x3c32eb(0x6ce)]('start-sync-game-btn')[_0x3c32eb(0x915)]=_0x3cc676[_0x3c32eb(0x1eb)]===0x0;break;case _0x3c32eb(0x2d4):const _0x5c1205=Object[_0x3c32eb(0x799)](_0x477bb3[_0x3c32eb(0xb90)]||{})[_0x3c32eb(0x595)](_0x46d279=>_0x46d279[_0x3c32eb(0xbfc)]!==_0x3c32eb(0x6b3)),_0xf92e7d=_0x5c1205[_0x3c32eb(0x595)](_0x1ec42c=>_0x1ec42c[_0x3c32eb(0xbb7)])[_0x3c32eb(0x1eb)],_0x20bfc6=_0xf92e7d===_0x5c1205[_0x3c32eb(0x1eb)]&&_0x5c1205[_0x3c32eb(0x1eb)]>0x0;if(_0x20bfc6&&_0x477bb3['status']===_0x3c32eb(0x2d4)){const _0x37641b=doc(db,'artifacts/'+appId+_0x3c32eb(0x35d),currentLiveGameId);updateDoc(_0x37641b,{'status':'summary'});}else{if(document[_0x3c32eb(0x6ce)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x477bb3);else{const _0x48a29d=document[_0x3c32eb(0x6ce)]('answer-counter');_0x48a29d&&(_0x48a29d[_0x3c32eb(0xa88)]=_0xf92e7d+'/'+_0x5c1205[_0x3c32eb(0x1eb)]);const _0x322618=document[_0x3c32eb(0x6ce)](_0x3c32eb(0x84a));_0x322618&&(_0x322618[_0x3c32eb(0x9c5)]=_0x5c1205['map'](_0x80cab8=>{const _0x15f518=_0x3c32eb,_0x3401ad=_0x80cab8[_0x15f518(0xbb7)]?_0x15f518(0x18f):'bg-gray-500',_0x566723=_0x80cab8[_0x15f518(0xbb7)]?_0x15f518(0x77c):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x15f518(0x57c)+_0x3401ad+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x566723+_0x15f518(0xad5)+_0x80cab8['name']+_0x15f518(0xa08)+_0x80cab8[_0x15f518(0x924)]+_0x15f518(0x3c6);})[_0x3c32eb(0x47c)](''));}}break;case'summary':const _0x1e7335=_0x477bb3[_0x3c32eb(0x42a)],_0x1c3ae0=_0x477bb3['shuffledQuiz'][_0x3c32eb(0x7bb)][_0x1e7335];renderSyncSummaryView(_0x477bb3,_0x1c3ae0,!![]);break;case _0x3c32eb(0xb97):renderAdminSyncDashboard(_0x477bb3,!![]);break;case _0x3c32eb(0x9ee):_0x477bb3['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x477bb3);sessionStorage['removeItem'](_0x3c32eb(0x736));const _0x304103=calculateFinalPodiumScores(_0x477bb3);showPodiumView(_0x304103,'sync');break;}}function renderAdminSyncQuestionView(_0x113800){const _0x26dc83=_0x314764,_0x2d484f=_0x113800[_0x26dc83(0x42a)],_0x210b43=_0x113800['shuffledQuiz'][_0x26dc83(0x7bb)][_0x2d484f],_0x4b8344=_0x113800[_0x26dc83(0xb49)][_0x26dc83(0x7bb)][_0x26dc83(0x1eb)],_0xb3ad8f=Object[_0x26dc83(0x799)](_0x113800[_0x26dc83(0xb90)]||{})[_0x26dc83(0x595)](_0x47cca8=>_0x47cca8['status']!==_0x26dc83(0x6b3)),_0x5b24bf=_0xb3ad8f[_0x26dc83(0x595)](_0x433aae=>_0x433aae[_0x26dc83(0xbb7)])['length'],_0x36c49d=_0x5b24bf===_0xb3ad8f[_0x26dc83(0x1eb)]&&_0xb3ad8f[_0x26dc83(0x1eb)]>0x0,_0x32b609=(_0x210b43[_0x26dc83(0x9b5)]||[])[_0x26dc83(0x83a)](_0x43ec9c=>_0x26dc83(0xc2e)+_0x43ec9c+_0x26dc83(0x67d))[_0x26dc83(0x47c)]('');liveGameView[_0x26dc83(0x9c5)]=_0x26dc83(0x9ec)+(_0x2d484f+0x1)+_0x26dc83(0x2d6)+_0x4b8344+_0x26dc83(0xb17)+_0x5b24bf+'/'+_0xb3ad8f[_0x26dc83(0x1eb)]+_0x26dc83(0xc03)+_0x210b43[_0x26dc83(0x41e)]+_0x26dc83(0x969)+_0x32b609+_0x26dc83(0x3f9)+(!_0x36c49d?_0x26dc83(0x915):'')+_0x26dc83(0x22b);if(window['MathJax'])MathJax['typesetPromise']();document[_0x26dc83(0x6ce)](_0x26dc83(0x712))[_0x26dc83(0x9cd)](_0x26dc83(0x58a),async()=>{const _0x590fbb=_0x26dc83,_0x1dd36e=doc(db,_0x590fbb(0x21f)+appId+_0x590fbb(0x35d),currentLiveGameId);await updateDoc(_0x1dd36e,{'status':_0x590fbb(0xb97)});}),document['getElementById'](_0x26dc83(0x6b2))[_0x26dc83(0xb41)]=()=>{const _0x310bbd=_0x26dc83;openScratchpad(_0x210b43,_0x210b43[_0x310bbd(0x9b5)]||[]);},document[_0x26dc83(0x6ce)](_0x26dc83(0x3b2))[_0x26dc83(0x9cd)](_0x26dc83(0x58a),()=>{const _0x3293e4=_0x26dc83;document[_0x3293e4(0x6ce)](_0x3293e4(0x54e))[_0x3293e4(0x68d)][_0x3293e4(0x8ff)](_0x3293e4(0xbc7));});}function renderSyncLeaderboardView(_0x31ec48,_0x22ec52){const _0x4d342d=_0x314764,_0x3132ec=Object[_0x4d342d(0x799)](_0x31ec48[_0x4d342d(0xb90)]||{});_0x3132ec[_0x4d342d(0x588)]((_0x48178e,_0x5e5df0)=>_0x5e5df0[_0x4d342d(0xbde)]-_0x48178e[_0x4d342d(0xbde)]);const _0x4e1a75=_0x3132ec['slice'](0x0,0x5);let _0x17a93e='';if(_0x22ec52){const _0x211b97=_0x31ec48[_0x4d342d(0x42a)]>=_0x31ec48['shuffledQuiz'][_0x4d342d(0x7bb)][_0x4d342d(0x1eb)]-0x1;_0x17a93e=_0x4d342d(0x40d)+(_0x211b97?_0x4d342d(0x17d):_0x4d342d(0x2df))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x17a93e=_0x4d342d(0xbe9);liveGameView[_0x4d342d(0x9c5)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x4e1a75[_0x4d342d(0x83a)]((_0x498e6d,_0x5e21c8)=>_0x4d342d(0xa9b)+(_0x5e21c8+0x1)+'.\x20'+_0x498e6d['name']+'</span><span\x20class=\x22font-bold\x22>'+_0x498e6d[_0x4d342d(0xbde)]+_0x4d342d(0x61c))[_0x4d342d(0x47c)]('')+_0x4d342d(0x26a)+_0x17a93e+_0x4d342d(0xa31),_0x22ec52&&document[_0x4d342d(0x6ce)](_0x4d342d(0xa5a))['addEventListener'](_0x4d342d(0x58a),async()=>{const _0x365cf2=_0x4d342d,_0xfab708=doc(db,'artifacts/'+appId+_0x365cf2(0x35d),currentLiveGameId),_0x2af493=_0x31ec48[_0x365cf2(0x42a)]+0x1;if(_0x2af493<_0x31ec48[_0x365cf2(0xb49)]['questions'][_0x365cf2(0x1eb)]){const _0x148f05={};Object[_0x365cf2(0x34a)](_0x31ec48[_0x365cf2(0xb90)])[_0x365cf2(0x97e)](_0x5d8261=>{const _0x49530a=_0x365cf2;_0x148f05[_0x49530a(0xab6)+_0x5d8261+_0x49530a(0x3c5)]=![];}),await updateDoc(_0xfab708,{..._0x148f05,'status':_0x365cf2(0x2d4),'currentQuestionIndex':_0x2af493,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xfab708,{'status':_0x365cf2(0x9ee)});});}async function handleJoinSyncGame(){const _0x2976dd=_0x314764,_0x2b630a=prompt(_0x2976dd(0x555));if(!_0x2b630a||_0x2b630a[_0x2976dd(0x1b6)]()[_0x2976dd(0x1eb)]!==0x2){showMessage(_0x2976dd(0x1fd));return;}try{const _0x10ae95=collection(db,_0x2976dd(0x21f)+appId+_0x2976dd(0x35d)),_0x28f4c6=query(_0x10ae95,where(_0x2976dd(0x917),'==',_0x2b630a[_0x2976dd(0x1b6)]()),where(_0x2976dd(0xbfc),'==',_0x2976dd(0x4b6))),_0x2b9ae6=await getDocs(_0x28f4c6);if(_0x2b9ae6[_0x2976dd(0x326)]){showMessage(_0x2976dd(0x366));return;}const _0x4cbd0e=_0x2b9ae6['docs'][0x0];currentLiveGameId=_0x4cbd0e['id'];const _0x495d21=_0x4cbd0e[_0x2976dd(0x31c)](),_0x17b865=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x495d21[_0x2976dd(0x174)]),_0x109a17=await getDoc(_0x17b865);if(!_0x109a17[_0x2976dd(0x232)]())throw new Error(_0x2976dd(0x62e));const _0x1235a4=_0x109a17[_0x2976dd(0x31c)](),_0x5a6c2e=doc(db,_0x2976dd(0x21f)+appId+_0x2976dd(0x7fe),_0x1235a4[_0x2976dd(0x368)]),_0x3b3603=await getDoc(_0x5a6c2e);if(!_0x3b3603[_0x2976dd(0x232)]())throw new Error(_0x2976dd(0x78a));currentQuizData=_0x495d21[_0x2976dd(0xb49)];const _0x51b2ff=_0x3b3603[_0x2976dd(0x31c)]();showView(_0x2976dd(0x356)),showTeamPlayerSelection(_0x51b2ff[_0x2976dd(0x801)],_0x1235a4[_0x2976dd(0x265)]);const _0x5ad038=document[_0x2976dd(0x6ce)](_0x2976dd(0x4f3));_0x5ad038['onclick']=confirmAndJoinSyncGame;}catch(_0x326d32){console['error'](_0x2976dd(0x79b),_0x326d32),showMessage(_0x2976dd(0x6e8)+_0x326d32[_0x2976dd(0x86b)]);}}function updateStudentSyncView(_0x2fe342){const _0x3a64fc=_0x314764,_0x2978f6=_0x2fe342[_0x3a64fc(0xb90)][localTeamPlayers[0x0]];switch(_0x2fe342[_0x3a64fc(0xbfc)]){case _0x3a64fc(0x4b6):showView(_0x3a64fc(0x5a8)),liveGameView[_0x3a64fc(0x9c5)]=_0x3a64fc(0x704);break;case _0x3a64fc(0x2d4):const _0x47fe51=localTeamPlayers[_0x3a64fc(0x997)](_0x2724b3=>_0x2fe342[_0x3a64fc(0xb90)][_0x2724b3]?.['answered']===!![]);_0x47fe51?liveGameView[_0x3a64fc(0x9c5)]=_0x3a64fc(0x724):renderStudentSyncQuestionView(_0x2fe342);break;case _0x3a64fc(0x295):liveGameView['innerHTML']=_0x3a64fc(0x685);break;case _0x3a64fc(0xb97):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x2fe342);break;case _0x3a64fc(0x9ee):sessionStorage[_0x3a64fc(0xa6e)]('activeGameSession');const _0x15e685=calculateFinalPodiumScores(_0x2fe342);showPodiumView(_0x15e685,_0x3a64fc(0x49e));break;}}function renderStudentSyncResultsView(_0x5d02d5){const _0x53bea2=_0x314764,_0xebe02a=localTeamPlayers[_0x53bea2(0x83a)](_0x5821ce=>_0x5d02d5[_0x53bea2(0xb90)][_0x5821ce])[_0x53bea2(0x595)](Boolean);_0xebe02a['sort']((_0x1384ec,_0xb7a031)=>(_0xb7a031['score']||0x0)-(_0x1384ec[_0x53bea2(0xbde)]||0x0));const _0x206f6c=_0x5d02d5[_0x53bea2(0x42a)]>=_0x5d02d5[_0x53bea2(0xb49)][_0x53bea2(0x7bb)][_0x53bea2(0x1eb)]-0x1;let _0x149843='';_0x206f6c?_0x149843=_0x53bea2(0x639):_0x149843=_0x53bea2(0x4b2);const _0x1ca76d=_0x53bea2(0x76c)+_0xebe02a[_0x53bea2(0x83a)]((_0x260410,_0x17ab80)=>_0x53bea2(0x296)+(_0x17ab80+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x260410[_0x53bea2(0x924)]+_0x53bea2(0x913)+_0x260410[_0x53bea2(0xbde)]+_0x53bea2(0xb6a))[_0x53bea2(0x47c)]('')+_0x53bea2(0x337)+_0x149843+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x53bea2(0x9c5)]=_0x1ca76d;}function renderStudentSyncQuestionView(_0x1ded36){const _0x4cf8d0=_0x314764;while(localPlayerTurnIndex<localTeamPlayers[_0x4cf8d0(0x1eb)]&&_0x1ded36[_0x4cf8d0(0xb90)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x4cf8d0(0xbb7)]===!![]){localPlayerTurnIndex++;}const _0x310156=localTeamPlayers[localPlayerTurnIndex];if(!_0x310156)return;const _0x12d089=_0x1ded36['currentQuestionIndex'],_0xe35215=_0x1ded36[_0x4cf8d0(0xb49)][_0x4cf8d0(0x7bb)]['length'],_0x5c53b1=_0x1ded36[_0x4cf8d0(0xb49)][_0x4cf8d0(0x7bb)][_0x12d089],_0x1b2c5e=_0x5c53b1[_0x4cf8d0(0xb6e)]||_0x1ded36[_0x4cf8d0(0xb49)][_0x4cf8d0(0xa1e)];let _0x36ed0f='',_0x2fb320=![];switch(_0x1b2c5e){case'true_false':_0x36ed0f=_0x4cf8d0(0x627);break;case _0x4cf8d0(0x8a4):case _0x4cf8d0(0xbbd):_0x2fb320=!![],_0x36ed0f=_0x4cf8d0(0x811);break;case _0x4cf8d0(0x554):_0x2fb320=!![],_0x36ed0f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5c53b1[_0x4cf8d0(0x610)]||[])['map'](_0x21df2e=>_0x4cf8d0(0x279)+_0x21df2e+'\x22>'+_0x21df2e+_0x4cf8d0(0x92c))['join']('')+_0x4cf8d0(0x52d);break;case'multiple_choice':default:_0x36ed0f=(_0x5c53b1[_0x4cf8d0(0x9b5)]||[])[_0x4cf8d0(0x83a)]((_0x2b8816,_0x2267aa)=>'<button\x20data-value=\x22'+_0x2267aa+_0x4cf8d0(0x847)+_0x2b8816+_0x4cf8d0(0x954))['join']('');break;}liveGameView[_0x4cf8d0(0x9c5)]=_0x4cf8d0(0x1d4)+(_0x12d089+0x1)+_0x4cf8d0(0x2d6)+_0xe35215+_0x4cf8d0(0x222)+_0x310156+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x5c53b1[_0x4cf8d0(0x41e)]||_0x5c53b1['stem'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x36ed0f+_0x4cf8d0(0x1f8);if(window[_0x4cf8d0(0x649)])MathJax['typesetPromise']();function _0x37fb98(_0x26d4fa,_0x3d0a31,_0x4ecf0f,_0x28d557){const _0x5f3490=_0x4cf8d0,_0x117fca=_0x4ecf0f[_0x5f3490(0xb92)]===!![];if(_0x117fca){document[_0x5f3490(0x6ce)](_0x5f3490(0x6fc))['dataset']['currentMode']=_0x5f3490(0x49e);const _0x29d2e9=document['getElementById'](_0x5f3490(0x39e));_0x29d2e9[_0x5f3490(0x635)]['answerValue']=_0x26d4fa,_0x29d2e9['dataset'][_0x5f3490(0x2d4)]=JSON['stringify'](_0x3d0a31),_0x29d2e9[_0x5f3490(0x635)]['gameData']=JSON['stringify'](_0x4ecf0f),_0x29d2e9[_0x5f3490(0x635)]['playerName']=_0x28d557,document[_0x5f3490(0x6ce)](_0x5f3490(0x6fc))['classList'][_0x5f3490(0x49f)](_0x5f3490(0xbc7));}else handleSyncAnswerSubmit(_0x26d4fa,_0x3d0a31,_0x4ecf0f,_0x28d557,![]);}_0x2fb320?document['getElementById']('sync-submit-btn')[_0x4cf8d0(0x9cd)](_0x4cf8d0(0x58a),()=>{const _0x5246fe=_0x4cf8d0,_0x166e16=document[_0x5246fe(0x6ce)](_0x5246fe(0x2b2))||document[_0x5246fe(0x6ce)](_0x5246fe(0x3ae));if(_0x166e16[_0x5246fe(0x3e6)]['trim']()===''){showMessage(_0x5246fe(0x3cc));return;}_0x37fb98(_0x166e16['value'],_0x5c53b1,_0x1ded36,_0x310156);}):document[_0x4cf8d0(0x3e7)](_0x4cf8d0(0x5ce))['forEach'](_0x5a27da=>{const _0x424ddb=_0x4cf8d0;_0x5a27da[_0x424ddb(0x9cd)](_0x424ddb(0x58a),()=>{const _0x30414a=_0x424ddb;_0x37fb98(_0x5a27da[_0x30414a(0x635)][_0x30414a(0x3e6)],_0x5c53b1,_0x1ded36,_0x310156);});});}async function handleSyncAnswerSubmit(_0x369a1c,_0xee8b96,_0x46322c,_0xf276ae,_0x109758){const _0x44685d=_0x314764;document[_0x44685d(0x3e7)]('.live-answer-btn,\x20#sync-submit-btn')[_0x44685d(0x97e)](_0x6e42d2=>_0x6e42d2['disabled']=!![]);const _0x24c4aa=_0xee8b96[_0x44685d(0xb6e)]||_0x46322c[_0x44685d(0xb49)][_0x44685d(0xa1e)];let _0x45489a=![],_0x1efc5a=_0x369a1c;switch(_0x24c4aa){case'true_false':const _0x1df7fc=parseInt(_0x369a1c),_0x2e2e7d=_0xee8b96[_0x44685d(0x7c3)]===!![]||String(_0xee8b96['correctAnswer'])[_0x44685d(0x5db)]()===_0x44685d(0x8de);_0x45489a=_0x1df7fc===0x0&&_0x2e2e7d||_0x1df7fc===0x1&&!_0x2e2e7d,_0x1efc5a=_0x1df7fc===0x0?_0x44685d(0x479):'ไม่ใช่\x20/\x20ผิด';break;case _0x44685d(0x8a4):case _0x44685d(0xbbd):_0x45489a=await gradeShortAnswer(_0x369a1c,_0xee8b96);break;case _0x44685d(0x554):_0x45489a=_0x369a1c===_0xee8b96[_0x44685d(0x53e)];break;case'multiple_choice':default:const _0x896353=parseInt(_0x369a1c);_0x45489a=_0x896353===_0xee8b96['correctAnswerIndex'];_0xee8b96[_0x44685d(0x9b5)]&&_0xee8b96[_0x44685d(0x9b5)][_0x896353]&&(_0x1efc5a=_0xee8b96[_0x44685d(0x9b5)][_0x896353]);break;}let _0x13e2c8=0x0;if(_0x45489a&&_0x109758)_0x13e2c8=0x2;else{if(_0x45489a)_0x13e2c8=0x1;else!_0x45489a&&_0x109758&&(_0x13e2c8=-0x1);}const _0xfe5706=doc(db,_0x44685d(0x21f)+appId+_0x44685d(0x35d),currentLiveGameId),_0xd29bc1={};_0xd29bc1['players.'+_0xf276ae+_0x44685d(0x1a8)]=increment(_0x13e2c8),_0xd29bc1[_0x44685d(0xab6)+_0xf276ae+_0x44685d(0x3c5)]=!![];let _0x200deb=null;(_0x24c4aa==='multiple_choice'||_0x24c4aa==='true_false'||_0x24c4aa==='fill_in_with_choices')&&(_0x200deb=parseInt(_0x369a1c));_0xd29bc1[_0x44685d(0xab6)+_0xf276ae+_0x44685d(0x8b1)]=_0x200deb;const _0x19fe21={'questionIndex':_0x46322c[_0x44685d(0x42a)],'questionId':_0xee8b96['id'],'answer':_0x369a1c,'answerText':_0x1efc5a,'isCorrect':_0x45489a,'originalQuestionText':_0xee8b96[_0x44685d(0x41e)]||_0xee8b96[_0x44685d(0x458)],'wasConfident':_0x109758};_0xd29bc1[_0x44685d(0xab6)+_0xf276ae+'.answers']=arrayUnion(_0x19fe21),await updateDoc(_0xfe5706,_0xd29bc1);}initialize();
