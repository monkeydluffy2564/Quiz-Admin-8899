const _0x1d88bf=_0x5713;(function(_0x26c13a,_0x117e2b){const _0xd62e05=_0x5713,_0x5590e6=_0x26c13a();while(!![]){try{const _0x5a4022=-parseInt(_0xd62e05(0x671))/0x1*(parseInt(_0xd62e05(0x38b))/0x2)+parseInt(_0xd62e05(0xb8e))/0x3+parseInt(_0xd62e05(0x247))/0x4*(-parseInt(_0xd62e05(0x482))/0x5)+-parseInt(_0xd62e05(0xa74))/0x6*(parseInt(_0xd62e05(0x61c))/0x7)+-parseInt(_0xd62e05(0x3c1))/0x8+parseInt(_0xd62e05(0xb49))/0x9+parseInt(_0xd62e05(0x786))/0xa;if(_0x5a4022===_0x117e2b)break;else _0x5590e6['push'](_0x5590e6['shift']());}catch(_0x4d18a1){_0x5590e6['push'](_0x5590e6['shift']());}}}(_0x9fd1,0x92c96));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x1d88bf(0x875),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x1d88bf(0x875),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x48fff4=_0x1d88bf;if(_0x48fff4(0x921)in navigator)try{wakeLock=await navigator['wakeLock']['request'](_0x48fff4(0xad6)),console[_0x48fff4(0xc30)](_0x48fff4(0xa82)),wakeLock[_0x48fff4(0x8c1)]('release',()=>{const _0x13021b=_0x48fff4;console['log'](_0x13021b(0x22a));});}catch(_0x2ffca1){console['error']('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x2ffca1[_0x48fff4(0xa80)]+',\x20'+_0x2ffca1['message']);}else console[_0x48fff4(0x1f4)](_0x48fff4(0x970));},releaseWakeLock=async()=>{const _0x3d92d2=_0x1d88bf;wakeLock!==null&&(await wakeLock[_0x3d92d2(0xb18)](),wakeLock=null,console[_0x3d92d2(0xc30)](_0x3d92d2(0x3fb)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x1b5183=_0x1d88bf;if(dimTimer)clearTimeout(dimTimer);document['body']['classList'][_0x1b5183(0x2bd)](_0x1b5183(0x5c8)),dimTimer=setTimeout(()=>{const _0x400ef1=_0x1b5183;document[_0x400ef1(0x7bf)][_0x400ef1(0x5a7)]['add']('dimmed'),console[_0x400ef1(0xc30)](_0x400ef1(0x7de));},inactivityTime);}function stopDimTimer(){const _0x517c58=_0x1d88bf;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x517c58(0x5a7)]['remove']('dimmed'),window['removeEventListener']('mousemove',resetDimTimer),window[_0x517c58(0x930)](_0x517c58(0x42c),resetDimTimer),window[_0x517c58(0x930)](_0x517c58(0x5e1),resetDimTimer),window['removeEventListener'](_0x517c58(0x59b),resetDimTimer),console[_0x517c58(0xc30)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x1510c1,_0x54e047=![]){const _0x506446=_0x1d88bf,_0x562665=allQuizzes['find'](_0x4368ed=>_0x4368ed['id']===_0x1510c1)||allQuizzesGlobal['find'](_0x57966a=>_0x57966a['id']===_0x1510c1);if(!_0x562665){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x562665);const _0x2c9773=Math[_0x506446(0x92f)](0x3e8+Math['random']()*0x2328)[_0x506446(0xce7)]();try{const _0x16bffa=await addDoc(collection(db,_0x506446(0x30c)+appId+_0x506446(0x40b)),{'quizId':_0x562665['id'],'projectId':_0x562665['projectId'],'status':_0x506446(0xc58),'pin':_0x2c9773,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x54e047});currentTeamQuizId=_0x16bffa['id'],showView(_0x506446(0x924)),renderAdminTeamQuizDashboard(_0x2c9773,_0x562665['topic']),listenForTeamQuizUpdates();}catch(_0x618bdb){console[_0x506446(0x56e)](_0x506446(0xa28),_0x618bdb),showMessage(_0x506446(0xa07));}}function renderAdminTeamQuizDashboard(_0x2184ee,_0x1ca2f9,_0x55977e=_0x1d88bf(0xc3f)){const _0x35296f=_0x1d88bf,_0x2468f1=_0x55977e===_0x35296f(0x1a2)?_0x35296f(0x6fe):_0x35296f(0x8cb);liveGameView[_0x35296f(0x6b3)]=_0x35296f(0x420)+_0x2468f1+':\x20'+_0x1ca2f9+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2184ee+_0x35296f(0x21a),document['getElementById'](_0x35296f(0x68c))[_0x35296f(0x8c1)](_0x35296f(0x7c2),async()=>{const _0x5bd6f3=_0x35296f;showConfirmation(_0x5bd6f3(0xad5),async()=>{const _0x4b8ffe=_0x5bd6f3;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x4b8ffe(0x30c)+appId+_0x4b8ffe(0x40b),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x122945=_0x1d88bf;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x211aa4=doc(db,_0x122945(0x30c)+appId+_0x122945(0x40b),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x211aa4,_0x38ab2c=>{const _0x1658e3=_0x122945;if(!_0x38ab2c[_0x1658e3(0xb67)]()){sessionStorage[_0x1658e3(0x47e)](_0x1658e3(0xbc7));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1658e3(0x8c7)?showView(_0x1658e3(0xb9c)):showView(_0x1658e3(0x655));return;}const _0x3d5f35=_0x38ab2c[_0x1658e3(0x7bb)]();if(currentMode===_0x1658e3(0x8c7)){if(_0x3d5f35[_0x1658e3(0x1ae)]==='group'&&_0x3d5f35[_0x1658e3(0x5e0)]!==_0x1658e3(0x21b)&&_0x3d5f35['status']!==_0x1658e3(0x9e7)){const _0x1bcd7f=Object[_0x1658e3(0xce2)](_0x3d5f35['groups']||{});if(_0x1bcd7f[_0x1658e3(0x9dc)]>0x0){const _0x5952cf=_0x1bcd7f[_0x1658e3(0x456)](_0x4b369d=>_0x4b369d[_0x1658e3(0xcea)]===!![]);_0x5952cf&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3d5f35);}else{if(_0x3d5f35['status']===_0x1658e3(0x21b)||_0x3d5f35['status']===_0x1658e3(0x9e7)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3d5f35[_0x1658e3(0x1ae)]===_0x1658e3(0x1a2)){const _0x4ed07b=_0x3d5f35['groups'][userId];(!_0x4ed07b||!_0x4ed07b[_0x1658e3(0xcea)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x444521){const _0x23b762=_0x1d88bf;console[_0x23b762(0xc30)](_0x23b762(0x357));const _0x2ba280=doc(db,_0x23b762(0x30c)+appId+_0x23b762(0x40b),_0x444521);try{const _0x43ab6d=await getDoc(_0x2ba280);if(_0x43ab6d[_0x23b762(0xb67)]()){const _0x4de56e=_0x43ab6d[_0x23b762(0x7bb)]();_0x4de56e[_0x23b762(0x8cf)]&&await saveGameResultsAsSubmissions(_0x4de56e);}await updateDoc(_0x2ba280,{'status':_0x23b762(0x21b)});}catch(_0x5cd802){console['error']('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x5cd802);}}function updateAdminTeamDashboard(_0x13dfd6){const _0x54d987=_0x1d88bf,_0x2655fa=document[_0x54d987(0x9bf)]('team-player-status-grid');if(!_0x2655fa)return;const _0x18564d=_0x13dfd6[_0x54d987(0x1ae)]||_0x54d987(0xc3f),_0x345c8c=currentQuizData[_0x54d987(0xcaf)][_0x54d987(0x9dc)];if(_0x18564d===_0x54d987(0x1a2)){const _0x18af28=Object['values'](_0x13dfd6[_0x54d987(0x6a1)]||{});if(_0x18af28['length']===0x0){_0x2655fa[_0x54d987(0x6b3)]=_0x54d987(0xa1a);return;}const _0x1554e3=[..._0x18af28][_0x54d987(0x79f)]((_0x584587,_0x5ecba8)=>_0x5ecba8['score']-_0x584587[_0x54d987(0x847)]),_0x324b8f=_0x1554e3[_0x54d987(0x2b5)]((_0x5640cb,_0x4d7046)=>{const _0x218b65=_0x54d987,_0x319643=_0x5640cb[_0x218b65(0x8ec)]?.[_0x218b65(0x9dc)]||0x0;return _0x218b65(0x865)+(_0x4d7046+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x5640cb[_0x218b65(0x8db)][_0x218b65(0x77f)](',\x20')+_0x218b65(0x345)+_0x319643+'/'+_0x345c8c+_0x218b65(0xc64)+_0x5640cb['score']+_0x218b65(0x44d);})[_0x54d987(0x77f)](''),_0x4a070c=currentQuizData[_0x54d987(0xcaf)][_0x54d987(0x2b5)]((_0x1005bd,_0x2b76dd)=>{const _0x42f96c=_0x54d987;let _0x561fc4=0x0,_0x40cecd=0x0;_0x18af28[_0x42f96c(0xb2a)](_0x5629a7=>{const _0x1a7a6a=_0x42f96c,_0x612326=_0x5629a7['answers']?.['find'](_0x4f6967=>_0x4f6967['questionIndex']===_0x2b76dd);if(_0x612326){_0x40cecd++;if(_0x612326[_0x1a7a6a(0x23a)])_0x561fc4++;}});const _0x52bc9c=_0x40cecd>0x0&&_0x40cecd===_0x18af28[_0x42f96c(0x9dc)],_0x14c592=_0x52bc9c?_0x42f96c(0xa96):_0x42f96c(0x2d2),_0x2aa12f=_0x52bc9c?_0x42f96c(0x68a):'';return _0x42f96c(0x417)+_0x14c592+_0x42f96c(0xcc9)+(_0x2b76dd+0x1)+_0x42f96c(0x51d)+_0x2aa12f+_0x42f96c(0xb38)+_0x561fc4+'/'+_0x18af28[_0x42f96c(0x9dc)]+_0x42f96c(0x936);})['join']('');_0x2655fa['innerHTML']=_0x54d987(0x940)+_0x324b8f+_0x54d987(0x602)+_0x4a070c+'</div></div></div>';return;}const _0x5eb3cb=_0x13dfd6[_0x54d987(0xa58)]||{},_0xfb2d1b=Object['keys'](_0x5eb3cb);if(_0xfb2d1b[_0x54d987(0x9dc)]===0x0){_0x2655fa[_0x54d987(0x6b3)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x8aa653=_0xfb2d1b[_0x54d987(0x2b5)](_0x558aac=>({'name':_0x558aac,'score':_0x5eb3cb[_0x558aac][_0x54d987(0x847)]||0x0}))[_0x54d987(0x79f)]((_0x74b3f9,_0x353593)=>_0x353593[_0x54d987(0x847)]-_0x74b3f9['score']),_0x355be4=_0x8aa653['map'](_0x3bdced=>{const _0x2597b8=_0x54d987,_0x355f62=_0x5eb3cb[_0x3bdced[_0x2597b8(0xa80)]]?.['answers']?.[_0x2597b8(0x9dc)]||0x0,_0x2f348c=Math['ceil'](_0x345c8c/_0xfb2d1b[_0x2597b8(0x9dc)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x3bdced[_0x2597b8(0xa80)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x355f62+'/'+_0x2f348c+_0x2597b8(0x388)+_0x3bdced[_0x2597b8(0x847)]+_0x2597b8(0x84a);})[_0x54d987(0x77f)](''),_0x48ed31=_0xfb2d1b['reduce']((_0x4714eb,_0x5c28dc)=>_0x4714eb+(_0x5eb3cb[_0x5c28dc]['answers']?.[_0x54d987(0x9dc)]||0x0),0x0),_0x1362b0=currentQuizData[_0x54d987(0xcaf)][_0x54d987(0x2b5)]((_0xca2418,_0x5ee43f)=>{const _0x1c867a=_0x54d987;let _0x3b7961=null,_0x2e7869=null;for(const _0x260349 of _0xfb2d1b){const _0x47877d=_0x5eb3cb[_0x260349][_0x1c867a(0x8ec)]?.['find'](_0x2d5905=>_0x2d5905['questionIndex']===_0x5ee43f);if(_0x47877d){_0x3b7961=_0x47877d,_0x2e7869=_0x260349;break;}}const _0x49ba4b=!!_0x3b7961,_0x22a721=_0x49ba4b&&_0x3b7961[_0x1c867a(0x23a)],_0x578578=(Math[_0x1c867a(0x92f)](_0x5ee43f/_0xfb2d1b[_0x1c867a(0x9dc)])+0x1)*_0xfb2d1b[_0x1c867a(0x9dc)],_0x1bdf49=_0x48ed31>=_0x578578,_0x594747=_0x1bdf49?_0x1c867a(0x91c):_0x1c867a(0x2d2),_0x45688b=_0x1bdf49?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x455b46='รอ...';return _0x49ba4b&&(_0x455b46=_0x2e7869+_0x1c867a(0x813)+(_0x22a721?_0x1c867a(0x376):_0x1c867a(0x24a))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x594747+_0x1c867a(0xcc9)+(_0x5ee43f+0x1)+_0x1c867a(0x51d)+_0x45688b+_0x1c867a(0x4a8)+_0x455b46+'</p></div>';})[_0x54d987(0x77f)]('');_0x2655fa[_0x54d987(0x6b3)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x355be4+_0x54d987(0x2ca)+_0x1362b0+_0x54d987(0x253);}async function handleJoinTeamQuiz(){const _0x2427b5=_0x1d88bf,_0x111cff=prompt(_0x2427b5(0x8f8));if(!_0x111cff||_0x111cff[_0x2427b5(0xb22)]()[_0x2427b5(0x9dc)]!==0x4){showMessage(_0x2427b5(0x28b));return;}try{const _0x2ade82=collection(db,_0x2427b5(0x30c)+appId+_0x2427b5(0x40b)),_0x330194=query(_0x2ade82,where(_0x2427b5(0x92e),'==',_0x111cff[_0x2427b5(0xb22)]()),where(_0x2427b5(0x5e0),'==',_0x2427b5(0xc58))),_0xf231f=await getDocs(_0x330194);if(_0xf231f['empty']){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x468901=_0xf231f[_0x2427b5(0xa78)][0x0];currentTeamQuizId=_0x468901['id'];const _0x46cb32=_0x468901[_0x2427b5(0x7bb)](),_0x32946e=doc(db,_0x2427b5(0x30c)+appId+_0x2427b5(0x433),_0x46cb32[_0x2427b5(0xb16)]),_0x11acb2=doc(db,_0x2427b5(0x30c)+appId+_0x2427b5(0x289),_0x46cb32[_0x2427b5(0x2cf)]),[_0x4040ef,_0x1eb75b]=await Promise['all']([getDoc(_0x32946e),getDoc(_0x11acb2)]);if(!_0x4040ef['exists']()||!_0x1eb75b[_0x2427b5(0xb67)]())throw new Error(_0x2427b5(0x458));currentQuizData=getShuffledQuiz({'id':_0x1eb75b['id'],..._0x1eb75b['data']()});const _0x9bd8e2=_0x4040ef[_0x2427b5(0x7bb)]();showTeamPlayerSelection(_0x9bd8e2[_0x2427b5(0xa64)],currentQuizData['topic']);}catch(_0x35e012){console['error']('Error\x20joining\x20team\x20quiz:',_0x35e012),showMessage(_0x2427b5(0x96a)+_0x35e012[_0x2427b5(0x68b)]);}}async function handleJoinGroupActivity(){const _0x9f7e54=_0x1d88bf,_0x4b5f0d=prompt(_0x9f7e54(0x68e));if(!_0x4b5f0d||_0x4b5f0d[_0x9f7e54(0xb22)]()['length']!==0x4){showMessage(_0x9f7e54(0x290));return;}const _0x43f879=_0x4b5f0d[_0x9f7e54(0xb22)]();showMessage(_0x9f7e54(0x31a));try{const _0x3551ce=collection(db,'artifacts/'+appId+_0x9f7e54(0x40b)),_0x5cfc03=query(_0x3551ce,where(_0x9f7e54(0x92e),'==',_0x43f879),where(_0x9f7e54(0x5e0),'==',_0x9f7e54(0xc58))),_0x4585e4=await getDocs(_0x5cfc03);if(!_0x4585e4[_0x9f7e54(0xc88)]){console[_0x9f7e54(0xc30)](_0x9f7e54(0x55f)),await proceedWithTeamQuizJoin(_0x4585e4[_0x9f7e54(0xa78)][0x0]);return;}const _0x4b2662=collection(db,_0x9f7e54(0x30c)+appId+'/public/data/syncGames'),_0x4ccf2f=query(_0x4b2662,where(_0x9f7e54(0x92e),'==',_0x43f879),where('status','==','lobby')),_0x800dfb=await getDocs(_0x4ccf2f);if(!_0x800dfb[_0x9f7e54(0xc88)]){console['log'](_0x9f7e54(0x9e3)),await proceedWithSyncQuizJoin(_0x800dfb[_0x9f7e54(0xa78)][0x0]);return;}showMessage(_0x9f7e54(0xcd1));}catch(_0x5c0138){console[_0x9f7e54(0x56e)]('Error\x20joining\x20activity:',_0x5c0138),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x5c0138['message']);}}async function proceedWithTeamQuizJoin(_0x570196){const _0x2fd279=_0x1d88bf;currentTeamQuizId=_0x570196['id'];const _0x4187cf=_0x570196['data'](),_0x4d8a0f=doc(db,_0x2fd279(0x30c)+appId+_0x2fd279(0x433),_0x4187cf['projectId']),_0x3d1e2d=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4187cf['quizId']),[_0x2529c1,_0x39b9e6]=await Promise[_0x2fd279(0x875)]([getDoc(_0x4d8a0f),getDoc(_0x3d1e2d)]);if(!_0x2529c1[_0x2fd279(0xb67)]()||!_0x39b9e6[_0x2fd279(0xb67)]())throw new Error(_0x2fd279(0x458));currentQuizData=getShuffledQuiz({'id':_0x39b9e6['id'],..._0x39b9e6[_0x2fd279(0x7bb)]()}),showTeamPlayerSelection(_0x2529c1['data']()[_0x2fd279(0xa64)],currentQuizData[_0x2fd279(0x6f8)],_0x4187cf[_0x2fd279(0x1ae)]||_0x2fd279(0xc3f)),messageModal[_0x2fd279(0x5a7)]['add'](_0x2fd279(0x8da));}async function proceedWithSyncQuizJoin(_0x777eb1){const _0x4cc226=_0x1d88bf;currentLiveGameId=_0x777eb1['id'];const _0xc31e83=_0x777eb1[_0x4cc226(0x7bb)](),_0x13dc42=doc(db,_0x4cc226(0x30c)+appId+'/public/data/quizzes',_0xc31e83[_0x4cc226(0x2cf)]),_0x3dbbc1=await getDoc(_0x13dc42);if(!_0x3dbbc1['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x1b7fd8=_0x3dbbc1[_0x4cc226(0x7bb)](),_0x382e67=doc(db,_0x4cc226(0x30c)+appId+_0x4cc226(0x433),_0x1b7fd8[_0x4cc226(0xb16)]),_0x1a170d=await getDoc(_0x382e67);if(!_0x1a170d[_0x4cc226(0xb67)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0xc31e83['shuffledQuiz'],showView(_0x4cc226(0xa97)),showTeamPlayerSelection(_0x1a170d[_0x4cc226(0x7bb)]()[_0x4cc226(0xa64)],_0x1b7fd8[_0x4cc226(0x6f8)],_0x4cc226(0xb1b)),document[_0x4cc226(0x9bf)](_0x4cc226(0xc85))[_0x4cc226(0xc96)]=confirmAndJoinSyncGame,messageModal[_0x4cc226(0x5a7)][_0x4cc226(0x3b1)](_0x4cc226(0x8da));}function getCleanApplicationHTML(){const _0x22dcbd=_0x1d88bf,_0x39e5b2=document[_0x22dcbd(0x9bf)]('applicationContent');if(!_0x39e5b2)return'';const _0x2a9405=_0x39e5b2[_0x22dcbd(0x5d6)](!![]);return _0x2a9405[_0x22dcbd(0x468)](_0x22dcbd(0x36c))[_0x22dcbd(0xb2a)](_0xc90269=>{const _0x38c48c=_0x22dcbd;_0xc90269[_0x38c48c(0x5a7)]['remove'](_0x38c48c(0xccc),_0x38c48c(0x601)),_0xc90269[_0x38c48c(0x6d3)]=![];}),_0x2a9405[_0x22dcbd(0x6b3)];}function showTeamPlayerSelection(_0x313bf0,_0x26ba20,_0x27cb78=_0x1d88bf(0xc3f)){const _0x1fc39f=_0x1d88bf;studentInitialView[_0x1fc39f(0x5a7)]['add'](_0x1fc39f(0x8da)),studentJoinGameView[_0x1fc39f(0x5a7)][_0x1fc39f(0x3b1)](_0x1fc39f(0x8da)),document[_0x1fc39f(0x9bf)]('student-team-selection-view')['classList']['remove'](_0x1fc39f(0x8da));let _0x1afe02=_0x1fc39f(0x8cb);if(_0x27cb78===_0x1fc39f(0x1a2))_0x1afe02=_0x1fc39f(0x6fe);else _0x27cb78===_0x1fc39f(0xb1b)&&(_0x1afe02=_0x1fc39f(0x63d));document[_0x1fc39f(0x9bf)](_0x1fc39f(0x4ba))[_0x1fc39f(0xa9a)]=_0x1afe02+':\x20'+_0x26ba20;const _0x48fb43=document[_0x1fc39f(0x9bf)](_0x1fc39f(0x932));if(!_0x313bf0||_0x313bf0[_0x1fc39f(0x9dc)]===0x0){_0x48fb43[_0x1fc39f(0x6b3)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document['getElementById'](_0x1fc39f(0xc85))['disabled']=!![];return;}_0x48fb43[_0x1fc39f(0x6b3)]=_0x313bf0[_0x1fc39f(0x2b5)](_0x5c82fe=>_0x1fc39f(0x80e)+_0x5c82fe+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x5c82fe+_0x1fc39f(0x745))[_0x1fc39f(0x77f)](''),document[_0x1fc39f(0x9bf)]('confirm-team-players-btn')[_0x1fc39f(0x6d3)]=![];}async function confirmAndStartTeamQuiz(){const _0x32d29a=_0x1d88bf,_0x2acc79=Array[_0x32d29a(0x788)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))[_0x32d29a(0x2b5)](_0x5ee829=>_0x5ee829[_0x32d29a(0xb00)]);if(_0x2acc79[_0x32d29a(0x9dc)]===0x0){showMessage(_0x32d29a(0xb83));return;}localTeamPlayers=_0x2acc79,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0xe65fe8=doc(db,_0x32d29a(0x30c)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x1df4b5=await getDoc(_0xe65fe8);if(!_0x1df4b5[_0x32d29a(0xb67)]())throw new Error(_0x32d29a(0x2c9));const _0x4ec902=_0x1df4b5[_0x32d29a(0x7bb)]();if(_0x4ec902[_0x32d29a(0x1ae)]===_0x32d29a(0x1a2)){const _0xbae32f={[_0x32d29a(0x799)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0xe65fe8,_0xbae32f);}else{const _0x2e1fbe=_0x4ec902[_0x32d29a(0xa58)]||{};localTeamPlayers['forEach'](_0x5a727e=>{!_0x2e1fbe[_0x5a727e]&&(_0x2e1fbe[_0x5a727e]={'score':0x0,'answers':[]});}),await updateDoc(_0xe65fe8,{'responses':_0x2e1fbe});}document['getElementById'](_0x32d29a(0x712))[_0x32d29a(0x5a7)]['add']('hidden'),renderTeamQuizQuestion();const _0x5de978={'gameId':currentTeamQuizId,'mode':_0x4ec902[_0x32d29a(0x1ae)]||_0x32d29a(0xc3f),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x32d29a(0x9cc)]('activeGameSession',JSON['stringify'](_0x5de978)),listenForTeamQuizUpdates();}catch(_0x58d2f9){console[_0x32d29a(0x56e)](_0x32d29a(0x8a8),_0x58d2f9),showMessage(_0x32d29a(0xce8));}}async function renderTeamQuizQuestion(){const _0x1c3a77=_0x1d88bf;if(localQuestionIndex>=currentQuizData[_0x1c3a77(0xcaf)][_0x1c3a77(0x9dc)]){displayTeamQuizFinalResults();return;}const _0x52aebc=currentQuizData['questions'][localQuestionIndex],_0x188e85=localTeamPlayers[localPlayerIndex],_0x3b577d=_0x52aebc[_0x1c3a77(0xa42)]||currentQuizData['quizType'];let _0x512f04=_0x52aebc[_0x1c3a77(0xc5b)]||_0x52aebc[_0x1c3a77(0x3ab)],_0x326f13='';switch(_0x3b577d){case _0x1c3a77(0xa01):case'fill_in_with_choices':_0x326f13=_0x52aebc[_0x1c3a77(0x69b)][_0x1c3a77(0x2b5)]((_0x415c93,_0xe26987)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0xe26987+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0xe26987+_0x1c3a77(0x830)+_0xe26987+'\x22>'+_0x415c93+_0x1c3a77(0x996))[_0x1c3a77(0x77f)]('');break;case'true_false':_0x326f13='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x1c3a77(0x7ff):case _0x1c3a77(0x761):_0x326f13=_0x1c3a77(0x58e);break;case _0x1c3a77(0x8ad):_0x326f13=_0x1c3a77(0xa6e)+_0x52aebc['allResponses']['map'](_0x3d77eb=>_0x1c3a77(0x78c)+_0x3d77eb+'\x22>'+_0x3d77eb+_0x1c3a77(0x1b9))[_0x1c3a77(0x77f)]('')+'</select>';break;default:_0x326f13=_0x1c3a77(0x56a);break;}studentQuizArea[_0x1c3a77(0x6b3)]=_0x1c3a77(0xbcb)+(localQuestionIndex+0x1)+_0x1c3a77(0xb32)+currentQuizData[_0x1c3a77(0xcaf)][_0x1c3a77(0x9dc)]+_0x1c3a77(0x48d)+_0x188e85+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x512f04+_0x1c3a77(0x4ff)+(_0x52aebc[_0x1c3a77(0xbe1)]?_0x1c3a77(0x9c2)+_0x52aebc[_0x1c3a77(0xbe1)]+'</div>':'')+_0x1c3a77(0x9ef)+_0x326f13+_0x1c3a77(0x5f9),studentQuizArea[_0x1c3a77(0x5a7)][_0x1c3a77(0x2bd)](_0x1c3a77(0x8da));if(window['MathJax'])MathJax[_0x1c3a77(0xa7b)]([studentQuizArea]);document[_0x1c3a77(0x9bf)](_0x1c3a77(0x445))['addEventListener'](_0x1c3a77(0x7c2),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x34ee07=_0x1d88bf,_0x3aa72f=currentQuizData['questions'][localQuestionIndex],_0x57e4bd=_0x3aa72f[_0x34ee07(0xa42)]||currentQuizData[_0x34ee07(0x854)];let _0x201a9a=null,_0x53967c=![];if(_0x57e4bd===_0x34ee07(0x7ff)||_0x57e4bd==='fill_in_no_choices'){const _0x5ed691=document[_0x34ee07(0x583)](_0x34ee07(0xb7a));if(!_0x5ed691||!_0x5ed691['value'][_0x34ee07(0xb22)]()){showMessage(_0x34ee07(0x3a4));return;}_0x201a9a=_0x5ed691[_0x34ee07(0xb00)]['trim'](),_0x53967c=await gradeShortAnswer(_0x201a9a,_0x3aa72f);}else{const _0xccfe69=document[_0x34ee07(0x583)](_0x34ee07(0x4b1));if(!_0xccfe69||_0xccfe69['value']===''){showMessage(_0x34ee07(0x571));return;}_0x201a9a=_0xccfe69[_0x34ee07(0xb00)];switch(_0x57e4bd){case _0x34ee07(0x9c3):_0x53967c=_0x201a9a===_0x34ee07(0x8a5)===_0x3aa72f[_0x34ee07(0x661)];break;case _0x34ee07(0x8ad):_0x53967c=_0x201a9a===_0x3aa72f['correctResponse'];break;default:_0x53967c=parseInt(_0x201a9a)===_0x3aa72f[_0x34ee07(0xcf3)];break;}}const _0x4a5fce={'questionIndex':localQuestionIndex,'isCorrect':_0x53967c},_0x43037c=userId,_0x52d206={[_0x34ee07(0x799)+_0x43037c+'.answers']:arrayUnion(_0x4a5fce)};_0x53967c&&(_0x52d206[_0x34ee07(0x799)+_0x43037c+'.score']=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x34ee07(0x40b),currentTeamQuizId),_0x52d206),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x34ee07(0xcaf)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x3b2609){console[_0x34ee07(0x56e)](_0x34ee07(0x3df),_0x3b2609),showMessage(_0x34ee07(0x680));}}async function handleTeamAnswerSubmit(){const _0x52a56f=_0x1d88bf,_0x1f7a70=await getDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x1f7a70[_0x52a56f(0xb67)]())return;const _0x122c33=_0x1f7a70[_0x52a56f(0x7bb)]();if(_0x122c33[_0x52a56f(0x1ae)]===_0x52a56f(0x1a2)){handleGroupAnswerSubmit();return;}const _0x38d4d5=localTeamPlayers[localPlayerIndex],_0x2cf295=currentQuizData[_0x52a56f(0xcaf)][localQuestionIndex],_0x3455fb=_0x2cf295[_0x52a56f(0xa42)]||currentQuizData['quizType'];let _0x49fca8=null,_0x41b7e4=![];if(_0x3455fb===_0x52a56f(0x7ff)||_0x3455fb===_0x52a56f(0x761)){const _0x5e5c30=document['querySelector']('textarea[name=\x22team_answer\x22]');if(!_0x5e5c30||!_0x5e5c30['value'][_0x52a56f(0xb22)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x49fca8=_0x5e5c30[_0x52a56f(0xb00)][_0x52a56f(0xb22)](),_0x41b7e4=await gradeShortAnswer(_0x49fca8,_0x2cf295);}else{const _0x56f8c6=document['querySelector'](_0x52a56f(0x4b1));if(!_0x56f8c6||_0x56f8c6[_0x52a56f(0xb00)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x49fca8=_0x56f8c6['value'];switch(_0x3455fb){case'true_false':_0x41b7e4=_0x49fca8===_0x52a56f(0x8a5)===_0x2cf295[_0x52a56f(0x661)];break;case _0x52a56f(0x8ad):_0x41b7e4=_0x49fca8===_0x2cf295[_0x52a56f(0x1db)];break;default:_0x41b7e4=parseInt(_0x49fca8)===_0x2cf295[_0x52a56f(0xcf3)];break;}}const _0x5def7f={'questionIndex':localQuestionIndex,'isCorrect':_0x41b7e4,'answerValue':_0x49fca8},_0x3f710c={[_0x52a56f(0x733)+_0x38d4d5+_0x52a56f(0xabf)]:arrayUnion(_0x5def7f)};_0x41b7e4&&(_0x3f710c[_0x52a56f(0x733)+_0x38d4d5+_0x52a56f(0xa08)]=increment(0x1));try{await updateDoc(doc(db,_0x52a56f(0x30c)+appId+_0x52a56f(0x40b),currentTeamQuizId),_0x3f710c),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x52a56f(0x9dc)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x342efc){console['error'](_0x52a56f(0x652),_0x342efc),showMessage(_0x52a56f(0x680));}}async function displayTeamQuizFinalResults(){const _0x4966f0=_0x1d88bf;studentQuizArea['classList']['add']('hidden'),studentResultArea['classList'][_0x4966f0(0x2bd)](_0x4966f0(0x8da));const _0x195044=doc(db,_0x4966f0(0x30c)+appId+_0x4966f0(0x40b),currentTeamQuizId),_0x1edb26=await getDoc(_0x195044);if(!_0x1edb26['exists']()){studentResultArea[_0x4966f0(0x6b3)]=_0x4966f0(0xbe4);return;}const _0x526bfe=_0x1edb26[_0x4966f0(0x7bb)]();let _0xe6db61=[];const _0x3715ac=_0x526bfe[_0x4966f0(0x1ae)]||_0x4966f0(0xc3f);if(_0x3715ac===_0x4966f0(0x1a2)){const _0x275d8a=_0x526bfe[_0x4966f0(0x6a1)][userId];_0x275d8a?_0xe6db61=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x4966f0(0x77f)](',\x20'),'score':_0x275d8a[_0x4966f0(0x847)]||0x0}]:_0xe6db61=[{'name':'กลุ่มของคุณ','score':_0x4966f0(0x9b2)}];}else _0xe6db61=localTeamPlayers[_0x4966f0(0x2b5)](_0x1130d6=>({'name':_0x1130d6,'score':_0x526bfe[_0x4966f0(0xa58)][_0x1130d6]?.['score']||0x0}))[_0x4966f0(0x79f)]((_0x642a90,_0x408c9b)=>_0x408c9b['score']-_0x642a90[_0x4966f0(0x847)]);studentResultArea[_0x4966f0(0x6b3)]=_0x4966f0(0xccb)+_0xe6db61[_0x4966f0(0x2b5)](_0x272252=>_0x4966f0(0x5cc)+_0x272252[_0x4966f0(0xa80)]+_0x4966f0(0x216)+_0x272252[_0x4966f0(0x847)]+_0x4966f0(0x77e))['join']('')+_0x4966f0(0x709),sessionStorage[_0x4966f0(0x47e)](_0x4966f0(0xbc7)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x5649f4=_0x4966f0;deleteDoc(doc(db,_0x5649f4(0x30c)+appId+_0x5649f4(0x40b),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1d88bf(0xb34),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x762)},{'category':'จำนวนและการดำเนินการ','name':_0x1d88bf(0x7ce)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x22e)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x983)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x573)},{'category':_0x1d88bf(0x5cb),'name':'การลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x1d88bf(0x418)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0xcc3)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0xbc1)},{'category':_0x1d88bf(0x5cb),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x1d88bf(0x2bf)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0xcfc)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x6b1)},{'category':'จำนวนและการดำเนินการ','name':_0x1d88bf(0x8b9)},{'category':'จำนวนและการดำเนินการ','name':'ห.ร.ม.\x20(GCD)'},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x820)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x771)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x88d)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0xc0b)},{'category':'จำนวนและการดำเนินการ','name':_0x1d88bf(0x842)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x8de)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x1f8)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x3a7)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0xca0)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0xb62)},{'category':'จำนวนและการดำเนินการ','name':'การลบทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x1d88bf(0x76e)},{'category':'จำนวนและการดำเนินการ','name':_0x1d88bf(0xbde)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x1d88bf(0x5cb),'name':'ร้อยละพื้นฐาน'},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x681)},{'category':_0x1d88bf(0x5cb),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x5df)},{'category':_0x1d88bf(0x5cb),'name':'รากที่สองและที่สาม'},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x696)},{'category':_0x1d88bf(0x5cb),'name':_0x1d88bf(0x2e8)},{'category':_0x1d88bf(0xb66),'name':_0x1d88bf(0xb0c)},{'category':_0x1d88bf(0xb66),'name':_0x1d88bf(0xac8)},{'category':_0x1d88bf(0xb66),'name':_0x1d88bf(0xa83)},{'category':_0x1d88bf(0xb66),'name':_0x1d88bf(0xc2f)},{'category':_0x1d88bf(0xb66),'name':'อุณหภูมิและการแปลง'},{'category':_0x1d88bf(0xb66),'name':'เส้นรอบรูป'},{'category':_0x1d88bf(0xb66),'name':_0x1d88bf(0x50e)},{'category':_0x1d88bf(0xb66),'name':_0x1d88bf(0x1fc)},{'category':'การวัด','name':_0x1d88bf(0x383)},{'category':_0x1d88bf(0xb66),'name':_0x1d88bf(0xc80)},{'category':_0x1d88bf(0xb66),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x1d88bf(0xb66),'name':'มุมและการวัดมุม'},{'category':_0x1d88bf(0xb66),'name':'สเกลและแผนที่'},{'category':_0x1d88bf(0xb66),'name':_0x1d88bf(0x790)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x45f)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x739)},{'category':'เรขาคณิต','name':_0x1d88bf(0x560)},{'category':'เรขาคณิต','name':_0x1d88bf(0x1fc)},{'category':_0x1d88bf(0x9a0),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x987)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0xb74)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x476)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x9ae)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x7f6)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x4fb)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x80c)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x697)},{'category':_0x1d88bf(0x9a0),'name':_0x1d88bf(0x56f)},{'category':_0x1d88bf(0x590),'name':'ตัวแปรและนิพจน์'},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x5ac)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d88bf(0x38e)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0xb8d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d88bf(0x7f1)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x8c3)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x77a)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x2c3)},{'category':_0x1d88bf(0x590),'name':'สมการค่าสัมบูรณ์'},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x904)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x44b)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x527)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1d88bf(0x997)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x51b)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x1f5)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x8b0)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x275)},{'category':_0x1d88bf(0x590),'name':'โดเมนและเรนจ์'},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x6bf)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x6c5)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x7f8)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x35f)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x19a)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x752)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x556)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x979)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x596)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0xaf6)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x259)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x4f5)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x5b7)},{'category':_0x1d88bf(0x590),'name':_0x1d88bf(0x2c5)},{'category':_0x1d88bf(0x590),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x1d88bf(0x66a),'name':_0x1d88bf(0xcfe)},{'category':_0x1d88bf(0x66a),'name':_0x1d88bf(0x31d)},{'category':_0x1d88bf(0x66a),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x1d88bf(0x66a),'name':_0x1d88bf(0x23b)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1d88bf(0x83a)},{'category':_0x1d88bf(0x66a),'name':_0x1d88bf(0x60f)},{'category':_0x1d88bf(0x66a),'name':_0x1d88bf(0x6d4)},{'category':_0x1d88bf(0x66a),'name':'วงรี'},{'category':_0x1d88bf(0x66a),'name':_0x1d88bf(0x4d4)},{'category':_0x1d88bf(0xb93),'name':_0x1d88bf(0x8e0)},{'category':_0x1d88bf(0xb93),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':_0x1d88bf(0x481)},{'category':_0x1d88bf(0xb93),'name':_0x1d88bf(0x38c)},{'category':_0x1d88bf(0xb93),'name':_0x1d88bf(0x283)},{'category':_0x1d88bf(0xb93),'name':_0x1d88bf(0x441)},{'category':_0x1d88bf(0xb93),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x1d88bf(0xb93),'name':_0x1d88bf(0xa61)},{'category':_0x1d88bf(0xb93),'name':_0x1d88bf(0x507)},{'category':_0x1d88bf(0xb93),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':'ตรีโกณมิติ','name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x992)},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x859)},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x9d3)},{'category':_0x1d88bf(0x6d9),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x1d88bf(0xc65)},{'category':_0x1d88bf(0x6d9),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x232)},{'category':'สถิติและความน่าจะเป็น','name':_0x1d88bf(0xb08)},{'category':_0x1d88bf(0x6d9),'name':'ฐานนิยม'},{'category':'สถิติและความน่าจะเป็น','name':'พิสัย'},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x700)},{'category':_0x1d88bf(0x6d9),'name':'ความแปรปรวน'},{'category':_0x1d88bf(0x6d9),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0xbf6)},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x41c)},{'category':_0x1d88bf(0x6d9),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x36f)},{'category':'สถิติและความน่าจะเป็น','name':_0x1d88bf(0x796)},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0xad2)},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x305)},{'category':_0x1d88bf(0x6d9),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':_0x1d88bf(0xc3a)},{'category':_0x1d88bf(0x6d9),'name':_0x1d88bf(0x3f5)},{'category':_0x1d88bf(0x6d9),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x1d88bf(0x1fb)},{'category':_0x1d88bf(0x62a),'name':_0x1d88bf(0xaf4)},{'category':_0x1d88bf(0x62a),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x1d88bf(0x62a),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x1d88bf(0x62a),'name':_0x1d88bf(0x6ae)},{'category':_0x1d88bf(0x62a),'name':_0x1d88bf(0xb44)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1d88bf(0xcc0)},{'category':_0x1d88bf(0x62a),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x1d88bf(0x62a),'name':_0x1d88bf(0x49b)},{'category':_0x1d88bf(0x62a),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x1d88bf(0x62a),'name':_0x1d88bf(0x220)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1d88bf(0x67a)},{'category':_0x1d88bf(0x62a),'name':_0x1d88bf(0x8f1)},{'category':_0x1d88bf(0x852),'name':_0x1d88bf(0x7d4)},{'category':_0x1d88bf(0x852),'name':_0x1d88bf(0x1d5)},{'category':_0x1d88bf(0x852),'name':_0x1d88bf(0xbcc)},{'category':_0x1d88bf(0x852),'name':_0x1d88bf(0x86e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1d88bf(0x6b2)},{'category':_0x1d88bf(0x852),'name':_0x1d88bf(0xb0a)},{'category':_0x1d88bf(0x852),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x1d88bf(0xa1b),'name':_0x1d88bf(0x8a7)},{'category':_0x1d88bf(0xa1b),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1d88bf(0xb0f)},{'category':_0x1d88bf(0xa1b),'name':_0x1d88bf(0x55d)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1d88bf(0x6d7)},{'category':_0x1d88bf(0xbd6),'name':_0x1d88bf(0x810)},{'category':_0x1d88bf(0xbd6),'name':_0x1d88bf(0xc43)},{'category':_0x1d88bf(0xbd6),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x4ea744=_0x1d88bf,_0x47909a=document[_0x4ea744(0x9bf)](_0x4ea744(0x39c));if(!_0x47909a)return;const _0x26ebfa=allMathTopics,_0x2f5802=customMathTopics['map'](_0x44040c=>({'id':_0x44040c['id'],'category':_0x4ea744(0xc8a),'name':_0x44040c[_0x4ea744(0xa80)]})),_0x3e4634=[..._0x26ebfa,..._0x2f5802],_0x5844d9=_0x3e4634['reduce']((_0x17381c,_0x507854)=>{const _0x2c525d=_0x4ea744;return!_0x17381c[_0x507854[_0x2c525d(0x3d5)]]&&(_0x17381c[_0x507854[_0x2c525d(0x3d5)]]=[]),_0x17381c[_0x507854[_0x2c525d(0x3d5)]][_0x2c525d(0x488)](_0x507854),_0x17381c;},{});let _0x5eac6e='';const _0x3c0f76=[_0x4ea744(0xc8a),...Object[_0x4ea744(0x70c)](_0x5844d9)['filter'](_0x187f01=>_0x187f01!==_0x4ea744(0xc8a))];for(const _0x36feef of _0x3c0f76){if(_0x5844d9[_0x36feef]){const _0x41e48a=_0x36feef==='หัวข้อที่สร้างเอง',_0x3d4311=_0x41e48a?_0x4ea744(0xc14):'fas\x20fa-bookmark',_0x47bff2=_0x41e48a?_0x4ea744(0x1ce):'text-indigo-700';_0x5eac6e+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x5eac6e+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x47bff2+_0x4ea744(0xca4)+_0x3d4311+'\x20mr-2\x22></i>'+_0x36feef+_0x4ea744(0xbab),_0x5844d9[_0x36feef]['forEach'](_0x3ec175=>{const _0x19a453=_0x4ea744,_0x46b087=!!_0x3ec175['id'],_0xfa44bc=_0x46b087?_0x19a453(0x6bd)+_0x3ec175['id']+_0x19a453(0x846)+_0x3ec175['id']+_0x19a453(0x900)+_0x3ec175['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ec175['id']+_0x19a453(0x5bd):'';_0x5eac6e+=_0x19a453(0x245)+(_0x3ec175['id']||'')+_0x19a453(0x28c)+_0x3ec175[_0x19a453(0xa80)]+_0x19a453(0xc62)+_0x3ec175[_0x19a453(0xa80)]+_0x19a453(0xae9)+(_0x46b087?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x3ec175[_0x19a453(0xa80)]+'\x22>':'')+_0x19a453(0x525)+_0xfa44bc+_0x19a453(0xcb9);}),_0x5eac6e+=_0x4ea744(0x5a5);}}_0x47909a[_0x4ea744(0x6b3)]=_0x5eac6e||_0x4ea744(0xb79),_0x47909a[_0x4ea744(0x930)](_0x4ea744(0x3ef),updateSelectedTopicsCount),_0x47909a[_0x4ea744(0x8c1)](_0x4ea744(0x3ef),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x26beef,_0x498a11){const _0x290de2=_0x1d88bf;if(!_0x26beef||!_0x498a11[_0x290de2(0xb22)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x18a883=doc(db,'artifacts/'+appId+_0x290de2(0x548),_0x26beef);await updateDoc(_0x18a883,{'name':_0x498a11[_0x290de2(0xb22)]()}),showMessage(_0x290de2(0x2d8));}catch(_0x2ab70c){console[_0x290de2(0x56e)]('Error\x20updating\x20custom\x20topic:',_0x2ab70c),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x5022f8,_0x52e1b9){const _0x214f6c=_0x1d88bf;if(!_0x5022f8)return;const _0x4f95ca=_0x5022f8[_0x214f6c(0x583)](_0x214f6c(0x920)),_0x4d6642=_0x5022f8['querySelector'](_0x214f6c(0x836)),_0x2fb424=_0x5022f8['querySelector'](_0x214f6c(0x2a1)),_0xd1459e=_0x5022f8[_0x214f6c(0x583)](_0x214f6c(0xb69));_0x4f95ca[_0x214f6c(0x5a7)][_0x214f6c(0x372)]('hidden',_0x52e1b9),_0x4d6642['classList']['toggle'](_0x214f6c(0x8da),!_0x52e1b9),_0x2fb424['classList'][_0x214f6c(0x372)]('hidden',_0x52e1b9),_0xd1459e[_0x214f6c(0x5a7)]['toggle'](_0x214f6c(0x8da),!_0x52e1b9),_0x52e1b9&&(_0x4d6642['focus'](),_0x4d6642[_0x214f6c(0x81a)]());}async function handleStartLiveRace(_0xba0564){const _0x3c9026=_0x1d88bf;let _0xebfb0e=allQuizzes[_0x3c9026(0x9c1)](_0x18dae1=>_0x18dae1['id']===_0xba0564);if(!_0xebfb0e){const _0x2df519=doc(db,'artifacts/'+appId+_0x3c9026(0x289),_0xba0564),_0x378972=await getDoc(_0x2df519);if(!_0x378972[_0x3c9026(0xb67)]()){showMessage(_0x3c9026(0xa66));return;}_0xebfb0e={'id':_0x378972['id'],..._0x378972[_0x3c9026(0x7bb)]()};}const _0x4f2758=getShuffledQuiz(_0xebfb0e);currentQuizData=_0x4f2758;const _0x18723f=_0xebfb0e[_0x3c9026(0xb16)]||currentProjectId||null,_0x5f8c3b=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x3c9026(0xce7)]();currentLiveGamePin=_0x5f8c3b;try{const _0x505895=await addDoc(collection(db,_0x3c9026(0x30c)+appId+_0x3c9026(0x9cd)),{'quizId':_0xba0564,'projectId':_0x18723f,'status':_0x3c9026(0xc58),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x5f8c3b,'createdAt':serverTimestamp(),'shuffledQuiz':_0x4f2758});currentLiveGameId=_0x505895['id'],showAdminLobbyView(_0x5f8c3b,_0xebfb0e['topic']),listenForLiveGameUpdates();}catch(_0x4b6891){console[_0x3c9026(0x56e)](_0x3c9026(0x302),_0x4b6891),showMessage(_0x3c9026(0x825));}}function updateSelectedTopicsCount(){const _0x49a90c=_0x1d88bf,_0xe7e3df=document[_0x49a90c(0x9bf)]('math-topics-checkbox-container'),_0x3b0a58=_0xe7e3df[_0x49a90c(0x468)](_0x49a90c(0x50d))[_0x49a90c(0x9dc)],_0x56e5c3=document['getElementById'](_0x49a90c(0x48b));_0x3b0a58>0x0?_0x56e5c3[_0x49a90c(0xa9a)]=_0x49a90c(0x70a)+_0x3b0a58+_0x49a90c(0x7ad):_0x56e5c3[_0x49a90c(0xa9a)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1d88bf(0x655),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1d88bf(0xa30),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1d88bf(0x6df),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1d88bf(0xbb6),scratchpadPenColor=_0x1d88bf(0x341),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5e14f1,_0xe554c7){const _0x4cb249=_0x1d88bf;return Math[_0x4cb249(0x4c3)](Math[_0x4cb249(0x487)](_0x5e14f1['x']-_0xe554c7['x'],0x2)+Math[_0x4cb249(0x487)](_0x5e14f1['y']-_0xe554c7['y'],0x2));}function getMidpoint(_0x37b792,_0x542c61){return{'x':(_0x37b792['x']+_0x542c61['x'])/0x2,'y':(_0x37b792['y']+_0x542c61['y'])/0x2};}function getTransformedPoint(_0x3414cc,_0xd6982f){return{'x':(_0x3414cc-scratchpadOffset['x'])/scratchpadScale,'y':(_0xd6982f-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1bb6e9=_0x1d88bf;if(!scratchpadCtx)return;const _0x1006d4=scratchpadCtx[_0x1bb6e9(0x432)],_0x2aefba=window[_0x1bb6e9(0xbaa)]||0x1,_0x4d3b6a=document['getElementById']('scratchpad-header');_0x4d3b6a&&(_0x4d3b6a[_0x1bb6e9(0x641)]['transformOrigin']='0\x200',_0x4d3b6a[_0x1bb6e9(0x641)][_0x1bb6e9(0x850)]=_0x1bb6e9(0xb2c)+scratchpadOffset['x']+_0x1bb6e9(0xc3e)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x1bb6e9(0x3b0)](),scratchpadCtx[_0x1bb6e9(0x8e3)](_0x2aefba,0x0,0x0,_0x2aefba,0x0,0x0),scratchpadCtx[_0x1bb6e9(0x714)](0x0,0x0,_0x1006d4[_0x1bb6e9(0x31e)],_0x1006d4[_0x1bb6e9(0xb89)]),scratchpadCtx[_0x1bb6e9(0x233)](),scratchpadCtx[_0x1bb6e9(0x3b0)](),scratchpadCtx[_0x1bb6e9(0x8d2)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x1bb6e9(0x8fc)](scratchpadScale,scratchpadScale),strokes[_0x1bb6e9(0xb2a)](_0x4c33b3=>{drawStroke(_0x4c33b3);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1bb6e9(0x233)]();}function renderGroupModeQuestion(){const _0x17386d=_0x1d88bf;if(localQuestionIndex>=currentQuizData[_0x17386d(0xcaf)][_0x17386d(0x9dc)]){displayTeamQuizFinalResults();return;}const _0x1bd4e7=currentQuizData[_0x17386d(0xcaf)][localQuestionIndex],_0x37c4f6=_0x1bd4e7['questionType']||currentQuizData['quizType'];let _0x4980b8=_0x1bd4e7[_0x17386d(0xc5b)]||_0x1bd4e7[_0x17386d(0x3ab)],_0x1ffe90='';switch(_0x37c4f6){case _0x17386d(0xa01):case _0x17386d(0xaa4):_0x1ffe90=_0x1bd4e7[_0x17386d(0x69b)][_0x17386d(0x2b5)]((_0xf0e447,_0x5aaed9)=>_0x17386d(0x28e)+_0x5aaed9+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x5aaed9+_0x17386d(0x830)+_0x5aaed9+'\x22>'+_0xf0e447+_0x17386d(0x996))[_0x17386d(0x77f)]('');break;case _0x17386d(0x9c3):_0x1ffe90=_0x17386d(0xce3);break;case'short_answer':case'fill_in_no_choices':_0x1ffe90='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0x17386d(0x8ad):_0x1ffe90=_0x17386d(0xa6e)+_0x1bd4e7[_0x17386d(0x783)][_0x17386d(0x2b5)](_0x33d784=>_0x17386d(0x78c)+_0x33d784+'\x22>'+_0x33d784+_0x17386d(0x1b9))[_0x17386d(0x77f)]('')+_0x17386d(0xa37);break;default:_0x1ffe90=_0x17386d(0x56a);break;}studentQuizArea[_0x17386d(0x6b3)]=_0x17386d(0xbcb)+(localQuestionIndex+0x1)+_0x17386d(0xb32)+currentQuizData[_0x17386d(0xcaf)][_0x17386d(0x9dc)]+_0x17386d(0xba5)+localTeamPlayers['join'](',\x20')+_0x17386d(0x223)+(localQuestionIndex+0x1)+'.\x20'+_0x4980b8+_0x17386d(0x4ff)+(_0x1bd4e7['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1bd4e7[_0x17386d(0xbe1)]+_0x17386d(0x5a5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x1ffe90+_0x17386d(0x5f7),studentQuizArea['classList']['remove'](_0x17386d(0x8da));if(window[_0x17386d(0x7c4)])MathJax[_0x17386d(0xa7b)]([studentQuizArea]);document[_0x17386d(0x9bf)](_0x17386d(0xc9c))['addEventListener'](_0x17386d(0x7c2),handleGroupAnswerSubmit);}function _0x9fd1(){const _0x3e955c=['sync-short-answer-input','การจัดหมู่\x20(Combination)','cancel-quiz-edits-btn-footer','earned-badges-container','bp-topic-list-container','px,\x20','team','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x20สำเร็จ','confirmation-modal','รูปแบบการให้เหตุผล','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','modal-confidence-mode-container','Error\x20generating\x20parallel\x20post-test:','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','FIRST_TRY_ACE','passcode-error-msg','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','</tbody></table>','ไม่สามารถโหลดข้อมูลอันดับได้','endTime','.shortcut-list-item:not(.opacity-50)','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','แท็บใหม่','Blueprint\x201','ลบแบบทดสอบสำเร็จแล้ว','</span></div>','Error\x20listening\x20for\x20custom\x20math\x20topics:','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','stem','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-modal','bar','.delete-hidden-file-shortcut-btn','.confidence-choice-btn','.move-shortcut-item','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','สลับไปโหมดนักเรียน','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ฮิสโตแกรม','(ก่อนเรียน)\x20','1:274192258111:web:4120c9118229b5644dd48a','max','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','border-indigo-500\x20text-indigo-600','.project-card-container.opacity-50','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','live-race','parallel-test-upload-input','confirm-quiz-status-btn','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x20ชุด)','msExitFullscreen','deselect-all-topics-btn','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','bg-green-50','กำลังสร้างบทเรียน:\x20','\x5csqrt{$1}','parseFromString','Error\x20updating\x20old\x20quizzes:','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','\x22...','.quiz-bank-move-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พื้นที่ผิวรูปทรงสามมิติ','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','confirm-team-players-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelTestShortcutsConfig','empty','visible','หัวข้อที่สร้างเอง','hasOwnProperty','tab_','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','<tr>','export-leaderboard-image-btn','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','button','ยืนยันการจับคู่','disabled\x20bg-gray-400\x20cursor-not-allowed','test','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<option>กำลังโหลดโปรเจค...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','source_document.txt','submit-group-answer-btn','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','text-red-900','ทศนิยม\x20(ค่าประจำหลัก)','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','.group/dropdown','Error\x20confirming\x20players\x20for\x20sync\x20game:','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','สร้างคำถามแบบใช่/ไม่ใช่','presentation-scratchpad-btn','ไม่มีผู้ตอบตัวเลือกนี้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','back-to-dashboard-from-bp-btn','<p\x20class=\x22text-2xl\x22>','questions','random','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','.subTopic','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','รอเปิด','reference.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','open-scratchpad-btn','localeCompare','mixed','bulk-loop-until-pass-checkbox','ความชันเส้นสัมผัส','scratchpad-options','smooth','การหาร','scores-tab-content','wasConfident','.remove-parallel-shortcut-from-tab-btn','stroke','isRemedial','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.move-shortcut-menu-btn','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','tabId','input[type=\x22checkbox\x22]','เซียนสมองไว','cancel-global-live-btn','answered','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','COMEBACK_KING','/public/data/syncGames','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','คะแนนเฉลี่ย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','.bp-create-topic-quiz-btn','text-gray-700','สำหรับหัวข้อ\x20\x27','student-progress-content','grid','values','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x201','numQuestions','toString','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','workerSrc','isFinished',')\x22>','Error\x20generating\x20from\x20link:','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','results-display-select','Error\x20verifying\x20answers\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','correctAnswerIndex','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','cos','lesson-loader','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','commonMistakes','open-sync-scratchpad-btn','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','ค่าสัมบูรณ์','<p\x20class=\x22text-xl\x22>','ระยะทางและจุดกึ่งกลาง','.bp-game-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','#FEF3C7','quiz-results-table-body','generationConfig','<p>','passing-score-input','ON_FIRE','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','bp-modal-num-choices','<li\x20class=\x22','Auto-linking\x20new\x20quiz\x20','bottom','teacherTips','text-content-input','shuffle','file-shortcut_','ฟังก์ชันกำลังสองและกราฟ','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','Error\x20fetching\x20project\x20quizzes:','create-from-bank-btn','cancel-create-project-btn','bg-purple-50','presentation-ai-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','group','separate-by-content-checkbox','preventDefault','.bp-view-analysis-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','.tab-name-display','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x27\x20ในหัวข้อ\x20\x27','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','Failed\x20to\x20generate\x20practice\x20test:','mode','binom','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','สร้างโปรเจคสำเร็จ!','ref','Error\x20adding\x20custom\x20topic:','bg-green-500\x20hover:bg-green-600\x20text-white','STOP','<li>','กรุณาใส่ชื่อใหม่','</option>','กรุณาป้อนรหัสแบบทดสอบ','เกิดข้อผิดพลาดในการอ่านไฟล์','project-id-display','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','/questionBank','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','selected-answer-index-hidden','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','ondragstart','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','onerror','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','.topic-category','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','text-blue-700','global-quiz-search-input','isStarred','standard','manual-bp-project-name','คัดลอกรหัสแล้ว!','line-through\x20text-red-700','ดอทโปรดักต์\x20(dot)','clientY','file-topic-input','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','msRequestFullscreen','#open-additional-parallel-shortcuts-btn','correctResponse','results-table','bg-blue-100\x20text-blue-800','cancel-bp-settings-btn','ไม่ใช่','pinned-items','table','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','file-topics-list','tGain','project-passcode-modal','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x22\x20class=\x22pin-project-btn\x20','textarea','border-green-300\x20bg-green-50','Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.','.quiz-bank-delete-btn','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','live-short-answer-input','next-sync-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','starred','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','redo-btn','warn','อสมการค่าสัมบูรณ์','Error\x20analyzing\x20blueprint\x20topics:','project-quizzes-list','การหารเศษส่วน','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','ลิมิต','พื้นที่สามเหลี่ยม','<span\x20title=\x22','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','.topic-row','index','Error\x20renaming\x20quiz:','live-player-list','Error\x20clearing\x20all\x20links:','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','Error\x20processing\x20parallel\x20shortcut\x20click:','passcode-input-container','viewBox','คณิตศาสตร์','\x22\x20data-pre-test-id=\x22','\x22>ไม่ใช่</p>','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>','match','lesson-plan-content','\x27\x20ในส่วน\x20\x27MEMORY\x27\x20','\x22.\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','#retake-for-improvement-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','podium','กำลังสร้างแบบทดสอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','comparison-modal','summary_chart','ปริพันธ์จำกัด','confidence-scoring-toggle','files','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','currentMode','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-file-shortcut-btn','(ฉบับง่าย)\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.delete-parallel-shortcut-btn','bulk-quiz-settings-modal','student-rankings-modal','การปัดเศษและประมาณค่า','startedAt','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','<div\x20class=\x22my-2\x22>','ค่าเฉลี่ย','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','export-word-btn','isCorrect','เส้นตรง:\x20ขนาน/ตั้งฉาก','start-live-race-generated-btn','แบบทดสอบนี้ปิดใช้งานอยู่','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','.sortable-header','modal-confidence-scoring-checkbox','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','gamePin','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','ผู้ไม่ยอมแพ้','4zBMgZo','perfect_score_status','close-lesson-view-btn','ผิด','insertAdjacentHTML','quizMode','ผู้เชี่ยวชาญ','student-project-leaderboard-tab','student-progress','กำลังอ่านและเตรียมไฟล์...','lowerGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','</div></div></div>','point','gain','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','ลำดับเลขคณิต\x20(AP)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','pdf','AI\x20Fix\x20Error:','Failed\x20to\x20resume\x20game\x20session:','round','Error\x20saving\x20shortcut:','topicId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','text-red-700','text-green-700','input[type=\x22text\x22]','getBBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','string','export-lesson-pdf-btn','responseSchema','blueprint-settings-modal','className','actions-container-','startsWith','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','ไม่พบข้อมูลโปรเจค','title','student-reading-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','far\x20fa-star','quiz-start-time','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','กำลังสร้างเนื้อหา:\x20','numChoices','Error\x20deleting\x20project:','getItem','applicationData','STRING','modal-shuffle-select','grid-view-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','manual_release','documentElement','bg-green-200','sync-submit-btn','กฎของไซน์','<div\x20id=\x22q-image-container-','toLocaleDateString','createElementNS','strokeStyle','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','/public/data/quizzes','API\x20call\x20failed\x20with\x20status:\x20','รหัสไม่ถูกต้อง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','blueprint-project-list','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาใส่ชื่อโปรเจค','update','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','project-dashboard-view','blueprint-shortcut-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x22\x20name=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','ต้นฉบับทั้งหมด','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','referenceUrl','.topic-actions-view','manage','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','.ideal-answer-input,\x20.correct-response-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','กำลังดึงข้อมูลจากลิงก์...','<p><strong>คำตอบของคุณ:</strong>\x20','interesting-stats-wrapper','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','download','file-shortcut-modal-title','ไฟล์ลัด\x202','ทำคะแนนเต็มในการทำครั้งแรก','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','text/plain','offsetWidth','MathJax\x20typeset\x20error\x20(analytics):','map','admin-testing','cancel-quiz-edits-btn','hasPerfectScoreBonus','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','remove','contains','ศูนย์','showInStudentDashboard','\x22\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','loopUntilPass','ทฤษฎีทวินาม\x20(เบื้องต้น)','handleGenerateAndShowLesson','.ideal-answer-input','manual-blueprint-modal','ไม่พบข้อมูลเกม','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','border-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','quizId','Error\x20deleting\x20student:','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','bg-black/10','AI\x20Formula\x20Fix\x20Error:','\x5cfrac{$1}{$2}','เกิดข้อผิดพลาดในการลบโปรเจค','fixedData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','แก้ไขหัวข้อสำเร็จ','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','quiz-type-select','pop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถสร้างโปรเจคได้','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x20(สำหรับ\x20','AI\x20แก้ไขคำถามสำเร็จ!','\x22\x20data-target-tab-id=\x22','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','join-group-activity-btn','isDefault','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','file-default-2','.delete-custom-topic-btn','#F3E8FF','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','normal','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20|\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','results-table-container','upperGroupNames','original-mode-checkbox','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','shuffledQuiz','file-shortcuts-loading-msg','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','blueprint-options-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x20</div>\x0a\x20\x20\x20\x20','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','practice-topic-btn','Error\x20starting\x20live\x20race:','\x20in\x20all\x20blueprint\x20projects.','[*]','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','cancel-move-quiz-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','txt','ย้าย','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','artifacts/','จำนวนข้อ:','Error\x20moving\x20quiz:','confidence-modal','setAttribute','.delete-svg-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','manage-tab','parallel-shortcut-name-input','คะแนนเต็ม!','<div\x20class=\x22loader\x20mx-auto\x22></div>','false','.quiz-bank-parallel-btn','rgba(239,\x2068,\x2068,\x200.7)','กำลังค้นหากิจกรรม...','.bp-create-content-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ความชันและเส้นตรง','width','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','text-yellow-300','blueprint-upload-input','คำถามดิบ:\x20\x22','\x5ccdot','\x20รายการ...','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-item','\x20คู่\x20','Error\x20saving\x20quiz:','quiz-editor-modal','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','hint','Error\x20toggling\x20star\x20status:','global-quiz-list','comparison-individual-tab','Invalid\x20response\x20structure\x20from\x20API.','dragend','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','[data-topic-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','สร้างชุดคำถามจับคู่','</div><div\x20class=\x22space-y-2\x22>','.csv','baseVal','Error\x20deleting\x20all\x20students:','standardTopic','confidence-choice-btn','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','confirm-rename-quiz-btn','สอบปกติ','lesson-view-modal','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','#000000','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ก่อนเรียน','generate-from-blueprint-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','พิมพ์ตอบ','<p\x20class=\x22','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','สอบซ่อม','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','content','timer-duration-label','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','ตั้งเวลา\x20(เปิด)','export-pdf-btn','</form>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','opacity-50','generate-from-link-btn','All\x20groups\x20have\x20finished.\x20Ending\x20game.','answering','Error\x20updating\x20project\x20name:','.remove-file-shortcut-from-tab-btn','confidence-scoring-description','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-file-shortcuts-btn','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','summaryContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x20O-NET\x20ป.6','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','ไม่ใช่\x20/\x20ผิด','ownerSVGElement','.move-parallel-shortcut-item','.application-options\x20button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','กฎบวกและกฎคูณ','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','players','Error\x20during\x20class\x20analysis:','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ถูก','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','bp-modal-question-complexity-select','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','.export-pdf-list-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','user-id-display','lesson-view-content','cancel-file-shortcut-edit-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','bp-modal-passing-score-input','ยกเลิกการเชื่อมโยงสำเร็จ','พื้นที่วงกลม/ส่วนของวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x5cge','blueprintUrl','4NUmnfG','เรเดียนและการแปลงหน่วย','ไม่ผ่าน','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','student-result-area','Error\x20deleting\x20submission:','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','eraser-tool-btn','.project-card-container','q-text-','<i\x20class=\x22fas\x20fa-magic\x22></i>','type','confidenceMode','keyConcepts','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','Error\x20unpairing\x20quizzes:','math-topics-checkbox-container','toDataURL','ai-quiz-generator-v3','bg-yellow-100','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','Error\x20saving\x20submission:','#student-project-leaderboard-content\x20thead','กรุณาพิมพ์คำตอบของกลุ่ม','additional-parallel-shortcuts-list','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','จำนวนคละ','pointContent','lineCap','linkedQuizIds','questionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','settings','doughnut','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','save','add','application','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','\x20ข้อ\x20','บทเรียนเรื่อง:\x20','file-shortcut-id-input','shortcut-reference-url-input','isAdaptive','.star-quiz-btn','pairedQuizId','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button[data-id]','7453320LHCPvL','\x20ใหม่...','isNormalTopic','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelShortcutTabs','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อยู่ในสาระการเรียนรู้ใด:','Error\x20generating\x20lesson\x20plan:','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','text-red-600','reset-view-btn','quiz-leaderboard-table-body','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','add-custom-math-topic-btn','check-answer-btn','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x20\x0a\x20\x20\x20\x20','projectSort','category','Error\x20deleting\x20custom\x20topic:','modal-timer-mode-select','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','slice','touchcancel','additional-file-shortcuts-modal','parallel-default-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','catch','Error\x20submitting\x20group\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','pre-test-checkbox','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','timer-duration-input','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','indexOf','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','insertBefore','specialist','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','change','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','bp-add-topic-btn','บันทึกคำถามใหม่\x20','\x22\x20value=\x22false\x22\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-btn','#10B981','show_results_and_answers','confidence_single','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','<button\x20data-id=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','เกิดข้อผิดพลาดในการอัปเดตสถานะ','เกิดข้อผิดพลาดในการนำผู้เล่นออก','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-quiz-status-btn','รายการนี้','password-error-msg','numeric','multiply','.verification-result-editor','filter','.start-presentation-list-btn','%</span>','/public/data/teamQuizzes','timer-mode-select','visibilitychange','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dblclick','.parallel-quiz-btn','comparison','targetId','.generate-content-btn','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','<div\x20class=\x22p-2\x20rounded-md\x20','การคูณ','presentation-slide-container','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','projectSortOrder','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','fix\x20the\x20option','ไม่สามารถบันทึกการตั้งค่าได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-select','confirm-quiz-settings-btn','bank-input-area','substring','shadowColor','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','mousedown','.edit-shortcut-btn','.verification-result','เกิดข้อผิดพลาดในการลบนักเรียน','Error\x20processing\x20file\x20shortcut\x20click:','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','canvas','/public/data/projects','ที่พิมพ์ได้\x20จำนวน\x20','transition-all','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','confirm-passcode-btn','pen-tool-btn','Action:\x20Generate\x20new\x20lesson.','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','createdAt','add-from-global-bank-btn','file-topics-list-container','กฎของโคไซน์','.ai-fix-formula-btn','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','block','submit-team-answer-btn','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','เกิดข้อผิดพลาดในการลบหัวข้อ','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','text-red-700\x20bg-red-100','cancel-parallel-shortcut-edit-btn','สมการราก\x20(radical)','cancel-export-pdf-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','bg-green-100\x20font-bold','สรุปผลสุดท้าย','[data-topic-container-id]','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','visibilityState','.generate-lesson-btn','every','source_document.pdf','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','.edit-quiz-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','getDocument','\x20จาก\x20','จุด\x20เส้น\x20ระนาบ','hint-btn','.delete-project-btn','lastIndexOf','currentQuestionIndex','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','fromCharCode','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','isPasscodeEnabled','querySelectorAll','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','file-shortcut-container','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','/submissions','temp-loader-results','.question-editor-item[data-q-index=\x22','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','รูปหลายเหลี่ยมและมุมภายใน','parseInline','generate-from-text-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','quiz-form',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','questionIndex','removeItem','.admin-try-quiz-list-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','มุมพิเศษ\x2045°-45°-90°','4350590DYXufA','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','bg-gray-50','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','Firebase\x20initialization\x20failed:','pow','push','ไม่พบข้อมูลข้อสอบหลังเรียน','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','selected-topics-count','.presentation-option','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offset','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end-sync-game-btn','พบข้อสอบ\x20','back-to-student-initial-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','file-default-','now','additional-parallel-shortcuts-modal','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','.file-shortcut-btn','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-btn','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','cancel-test-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','solution','.bp-create-onet-quiz-btn','default-','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','.use-hidden-parallel-shortcut-btn','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','.shortcut-tab-btn','แผนการสอน:\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','center','cancel-bulk-quiz-settings-btn','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team-quiz-topic','analytics-tab-content','shortcut-name-input','postScore','.open-bp-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-title','circ','.file-topic-selection-btn','sqrt','.correct-response-input','สร้างคำถามแบบเติมคำในช่องว่าง','parallel-shortcut-id-input','topic-input-area','\x22\x20สำเร็จ','NEGATIVE_INFINITY','both','generate-from-parallel-test-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','globalAlpha','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','.answered','<div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','.move-file-shortcut-dropdown','ไฮเพอร์โบลา','answer-counter','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group\x5c/dropdown-file','student-progress-view','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','screen_exit','บันทึกการตั้งค่าแล้ว','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','quadraticCurveTo','[data-field=\x22subTopic\x22]','ควรปรับปรุง','#FEE2E2','choices_only','scheduled','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','additional-shortcuts-list','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20showing\x20quiz\x20detail\x20view:','isArray','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','bank-quiz-search-input','.regenerate-question-editor-btn','No\x20player\x20data\x20to\x20save.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','afterend','on_fire','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','save-project-name-btn','shortcut-editor-modal','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','ลำดับเรขาคณิต\x20(GP)','red','.rename-quiz-btn','sync-player-list','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','Error\x20calling\x20Gemini\x20API:','.bp-delete-topic-btn','เพิ่มปุ่มลัดจากไฟล์ใหม่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionStatus','บันทึกการตั้งค่าสำเร็จ','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','quiz-results-view','export-image-btn','สมการตรีโกณมิติ','คัดลอกแบบทดสอบสำเร็จ','PERFECT_SCORE','not_confident','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','input[type=\x22checkbox\x22]:checked','พื้นที่สี่เหลี่ยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','Error\x20unlinking\x20quiz:','shortcuts','shortcutTabs','SAFETY','checkAnswer','Original\x20quiz\x20not\x20found','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topics.','project-list','.isScored','url','อสมการเชิงเส้น','date_asc',':</span><span>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','$1\x20\x5cfrac','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','data:application/vnd.ms-word;charset=utf-8,','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</td>','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move','สมการยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','num-choices','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','mean','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','add-student-btn','#e21b3c','questions_only','Error\x20adding\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','student-quiz-leaderboard-table-body','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-game-start-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','add-parallel-shortcut-btn','reveal-answer-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','parentElement','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','border-red-300\x20bg-red-50','save-quiz-edits-btn','active','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','stepByStepExamples','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-list','focus','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','bp-project-title','/public/data/customMathTopics','idealAnswer','generate-from-topic-btn','totalPoints','questionId','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.doc','scratchpad-controls','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คะแนนยังไม่ถึงครึ่ง','AI\x20grading\x20failed:','shortcuts-loading-msg','ฟังก์ชันราก\x20(root)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ค่าเสื่อมราคา','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Team\x20Quiz!','สามเหลี่ยม\x20(ชนิด/สมบัติ)','.pen-size-btn','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','เปิดใช้งาน','Error\x20saving\x20to\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','showRankings','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','not-found','error','ทฤษฎีบทพีทาโกรัสและการประยุกต์','create-project-modal','กรุณาเลือกคำตอบของกลุ่ม','Error\x20toggling\x20pin\x20status:','การบวก','file.txt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','eraser','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','.remove-shortcut-from-tab-btn','confirm-link-quiz-btn','ไม่พบข้อมูลการจับคู่','select[name=\x22question_single\x22]','ไม่ได้ตอบ','ปิดใช้งาน','submissions','กำลังอัปเดตแบบทดสอบ\x20','not_generated','querySelector','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','display','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','admin-dashboard','leaderboard','manual-bp-content','scrollY','function','lower_group_count','onkeydown','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','กำลังโหลดคลังข้อสอบทั้งหมด...','พีชคณิตและฟังก์ชัน','กำลังเตรียมไฟล์...','</p></div>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerIndex','ฟังก์ชันยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','question-complexity-select','handleGeneratePracticeTest','keydown','additional-shortcuts-modal','FileReader\x20error:','POST','generated-quiz-container','BOOLEAN','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','</span>','.edit-hidden-parallel-shortcut-btn','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','classList','</span></p>','student-view','\x20mx-1\x20text-lg\x22></i></span>','จัดการ','การกระจายและการจัดหมู่','modal-results-display-select','upperGroupResponders','checkbox','game-pin-input','\x22><i\x20class=\x22fas\x20','modal-message','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','passcode-prompt-message','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ผลรวมอนุกรม\x20(Σ)','back-to-project-btn','appendChild','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','complexityValue','summary','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','quiz-bank-modal','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','highlighter-tool-btn','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','pre-test','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','Error\x20in\x20handleApiCall:','save-game-results-checkbox','Error\x20displaying\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','loop-until-pass-checkbox','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','move-quiz-modal','unshift','cloneNode','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','mode-switcher-btn','modal-timer-duration-input','Error\x20listening\x20for\x20student\x20profiles:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-shortcut-edit-btn','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','status','touchstart','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','สร้างแล้ว','set','กรุณาเลือกไฟล์ก่อน','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','.group\x5c/dropdown-parallel','เปลี่ยนชื่อโปรเจคสำเร็จ','auto-fix-latex-btn','</h3>','\x20รายการ\x20สำเร็จ!','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','เลือกโปรเจคเพื่อบันทึก','justification','bg-red-50','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','show-in-student-dashboard-checkbox','application/json','start-game-btn','showImproveButton','duration-300','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show_results_only','confirm-bulk-quiz-settings-btn','dataIndex','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','incorrect','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','innerText','ข้อ\x20','first_try_ace','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','modal-timer-duration-container','latestSubmittedAt','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perseverance','btn','คำเตือน\x20(','วงกลม:\x20สมการและสมบัติ','pointercancel','\x5cneq','highlighter','Error\x20clearing\x20linked\x20quiz:','.flex.justify-between.items-center','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-green-100','result','\x22\x20class=\x22color-palette-btn\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.view-bp-lesson-btn','1132775NuUxEv','.generate-easy-version-btn','blur','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shortcut_','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','text-emerald-800','\x20จุดเรียบร้อยแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>',';\x22\x20data-id=\x22','timer-duration-container','text-gray-500','submission','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-white','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','text-green-600\x20font-bold','ถูกต้อง!','subTopic','AI\x20request\x20was\x20blocked.\x20Reason:\x20','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','.linkedQuizIds','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','.bp-generate-lesson-btn','admin-try-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','neq','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','Sync\x20Mode','.live-answer-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','style','show-results-btn','Error\x20processing\x20shortcut\x20click:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-container','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจคะแนนใหม่\x20','Error\x20saving\x20manual\x20blueprint\x20project:','.cancel-edit-topic-btn','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x22\x20class=\x22delete-project-btn\x20','pinnedProjects','สำหรับโปรเจค:\x20','Error\x20submitting\x20team\x20answer:','save-visibility-settings-btn','แบบทดสอบ:\x20','student','half_mark_status','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','originalTopic','.lastAnswerValue','</td></tr>','สลับไปโหมดผู้ควบคุม','modal-adaptive-quiz-checkbox','/studentProfiles','ยังไม่สร้าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','correctAnswer','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','file-shortcut-editor-modal','</div></div>','parts','.ai-content\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','players.','q-image-container-','เรขาคณิตวิเคราะห์','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','shadowBlur','question','blueprint-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','79231FzEvkX','rows','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutOrder','getScreenCTM','ไม่สามารถเพิ่มนักเรียนได้','projectView','ทฤษฎีบทพื้นฐานของแคลคูลัส','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','ไม่พบโปรเจค','\x20ครั้ง)</span></td>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','เกิดข้อผิดพลาดในการส่งคำตอบ','ปรับเพิ่ม/ลดเป็นร้อยละ','text-input-area','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','เพิ่มรายการที่เลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','คัดลอกไม่สำเร็จ','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','message','end-team-quiz-btn','uid','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','รูปสแควร์รูท\x20(surd)','การสร้างรูปด้วยวงเวียน–สันตรง','\x5csum','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','options','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.copy-quiz-id-list-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','.\x20แต่ละข้อมี\x20','ai-quiz-app-aefee.firebaseapp.com','groups','.delete-parallel-shortcut-tab-btn','text-gray-100','submit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','.ai-content\x20h3','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','badgesCount','เกมสิ้นสุดลงแล้ว','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20r=','อนุพันธ์:\x20ผลคูณ/ผลหาร','sin','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นจำนวน','อินเวอร์สของเมทริกซ์','innerHTML','คำถามถัดไป','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','parallelShortcutOrder','total','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','องค์ประกอบของฟังก์ชัน','#D1FAE5','project-passcode-input','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','project-name-input','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','ฟังก์ชันผกผัน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-comparison-modal-btn','ส่งคำตอบ','บันทึกโปรเจค\x20\x22','.quiz-bank-checkbox:checked','startTime','\x20แบบทดสอบลงในคลังสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.delete-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','selectedTopicNames','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','disabled','พาราโบลา','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','confirm-move-quiz-btn','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20</div>','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','auto','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','rgba(255,\x20255,\x200,\x200.5)','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','export-leaderboard-pdf-btn','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','modal-loop-until-pass-checkbox','save-quiz-btn','quiz','leaderboard-table-body','ท็อปฟอร์ม','leaderboard-quiz-tab-content','rgba(239,\x2068,\x2068,\x200.9)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','add-parallel-shortcut-tab-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20teaching\x20content:','\x22\x20สำเร็จ!','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ไม่สามารถเริ่มเกมได้','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','topic','เลือกและเริ่มสร้าง','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','หัวข้อหลักใหม่','link-input-area','bp-modal-difficulty-level-select','Group\x20Mode','input[name=\x22team_player\x22]:checked','ส่วนเบี่ยงเบนเฉลี่ย','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','Failed\x20to\x20create/update\x20submission\x20record:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.pen-color-btn','default','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','QUICK_THINKER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','(เลือกแล้ว\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','keys','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','confidence-mode-container','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','shortcut-blueprint-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','student-team-selection-view','.edit-file-shortcut-btn','clearRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','shortcutId','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','delete-all-students-btn','ลบโปรเจคสำเร็จแล้ว','global-live-game-count','.file-shortcut-tab-btn','then','has','wheel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','application/pdf','ondragend','tool','fullscreenchange','ไม่พบตารางสำหรับ\x20Export','game-start-quiz-id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตพฤติกรรมสำหรับ\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','.bp-edit-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','file-default-1','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','responses.','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','Error\x20verifying\x20answers:','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ความสัมพันธ์ของมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-project-leaderboard-content','dispatchEvent','leaderboard-tab-content','.status','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confident','behaviorLog','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','memoryContent','#results-table','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','Error\x20rendering\x20student\x20progress:','text-red-800','.quiz-result-card','เกิดข้อผิดพลาดในการบันทึก','select-all-topics-btn','fill_in_the_blank','bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ฟังก์ชันพหุนาม','currentTarget','Error\x20in\x20generating\x20from\x20files:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','Error\x20deleting\x20shortcut:','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','export-pdf-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','message-modal','สร้างแบบทดสอบ','/public/data/blueprintProjects','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','fill_in_no_choices','การนับ','some','score-distribution-chart','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','#file-shortcut-tabs-nav\x20.tab-name-input','Action:\x20Create\x20topic-based\x20Quiz.','%PDF','getTextContent','NUMBER','confirm-join-game-btn','ondragover','nextElementSibling','การคูณทศนิยม','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','อัตราส่วนและสัดส่วน','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','force-math-checkbox','-tab-content','isPinned','stopPropagation','delete','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','text/html','text/csv;charset=utf-8;','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','fa-rocket\x20text-purple-500','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','allResponses','parse','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','25132850gFfZrP','Enter','from','clientX','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','<option\x20value=\x22','pointermove','bg-amber-100\x20text-amber-800','ตรวจทานเฉลยเสร็จสิ้น!','ค่าคลาดเคลื่อนของการวัด','(หลังเรียน)\x20','show-leaderboard-btn','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-additional-parallel-shortcuts-btn','แผนภาพเวนน์','ยังไม่ส่ง','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','groups.','บันทึกผลการเล่นเกมของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','save-blueprint-as-project-btn','sort','ดีมาก','readAsDataURL','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','editable-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','blockReason','results-tab-content','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','แก้ไขสูตรคณิตศาสตร์\x20','<span\x20class=\x22font-bold\x20','\x20หัวข้อ)','\x20**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','blueprint-tab','fas\x20fa-star\x20text-yellow-500','qType','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-id]','parallel-shortcut-url-input','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','กิจกรรมสิ้นสุดลงแล้ว','อัปเดตแบบทดสอบเก่า\x20','comparison-individual-content','export-tutor-pdf-btn','data','ai-quiz-app-aefee','<i\x20class=\x22fas\x20fa-pen\x22></i>','Error\x20saving\x20user\x20preference:','body','Error\x20saving\x20visibility\x20settings:','#ffffff','click','per_question','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','#E0E7FF','button[type=\x22submit\x22]','toISOString','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','_opt1\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','blueprint-topics-list-container','backgroundColor','border-green-700','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','แบบทดสอบจากคลังส่วนตัว','bg-red-100\x20text-red-800','decode','whole_quiz','MathJax\x20re-render\x20failed:','dragover','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','separate-by-content-from-file-checkbox','upper_group_count','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.submittedAt','.edit-hidden-file-shortcut-btn','add-file-shortcut-tab-btn','.answeredCurrentQuestion','onchange','beforeend','overallGroups','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#sync-submit-btn','ไม่ระบุ','เกิดข้อผิดพลาดในการลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','studentName','sync-player-management','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','สมการเชิงเส้นตัวแปรเดียว','student-quiz-area','finishReason','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','เปิด\x20(จับเวลา)','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','```json','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','scrollX','<button\x20id=\x22','applicationContent','(ไม่มีชื่อ)','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','short_answer','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','comeback_king','คะแนนเต็ม','practiceProblems','game-start-mode','grabbing','</li>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','Error\x20fetching\x20quiz\x20settings:','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','commit','show_pass_fail_only','สมมาตร\x20(แกน/จุด)','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','</a>','ค่าความจริง/ตารางค่าความจริง','bp-modal-quiz-type-select','presentation-modal','\x20ตอบ','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','matching','.move-parallel-shortcut-dropdown','answerValue','select','จำนวนคู่:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lessonContent','back-to-home-manual-release','ค.ร.น.\x20(LCM)','create-project-btn','.summary-bar-item','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','เกิดข้อผิดพลาดในการสร้างห้องเกม','.shortcut-list-item','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','option','worksheet-input-area','transparent','input','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fa-pen','icon','results','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','Copy\x20command\x20failed','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','text-indigo-800','student-passcode-input','.topic-name-input','load-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','tooltipTarget','ระยะจากจุดถึงเส้นตรง','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','open-quiz-bank-btn','timerDuration','ลบผลสอบของ\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','การลบเศษส่วน','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','manage-players-btn','Error\x20saving\x20lesson\x20to\x20project:','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','score','mainTopics','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span></div>','</body></html>','lessonPlan','underline','shortcutIds','\x20\x20\x20-\x20','transform','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','เวกเตอร์และเมทริกซ์\x20(เสริม)','</div>\x0a</div>\x0a','quizType','parent','scratchpad-clear-btn','topic-quiz-bank-modal','กรุณากรอกข้อมูลให้ครบทุกช่อง','การจัดกลุ่มข้อมูล','file-shortcut-url-input','isConfidenceScoringEnabled','กำลังสร้างรูปภาพ...','.parallel-shortcut-tab-btn','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','quiz-results','modal-passing-score-input','quiz-bank-count','timer-bar','comparison-overall-tab','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x20\x20\x20-\x20คำตอบ:\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','<svg','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.bp-try-btn','เมทริกซ์:\x20บวก/คูณ','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','all','add-shortcut-btn','candidates','quiz-editor-questions-container','attempts','กำลังสร้างคำถามข้อ\x20','lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Unexpected\x20API\x20response\x20structure:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.png','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','.unpair-quiz-btn','ทำคะแนนได้เกินครึ่ง','include-images-checkbox','<button\x20data-quiz-id=\x22','.edit-question-btn','gameData','classWeaknesses','text-yellow-800','print','parallel-shortcut-tabs-nav','เศษส่วน\x20(ย่อ/ขยาย)','topic_','\x22\x20ออกจากคลังนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ต้นฉบับ\x202','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จากเนื้อหาต่อไปนี้:\x20\x22','memory','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','border-gray-200','.move-file-shortcut-item','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','end-game-btn','\x22\x20value=\x22true\x22\x20','Error\x20linking\x20quizzes:','learningGaps','\x27,\x20\x27','blueprint-project-manager-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-bp-settings-btn','svg','_opt0\x22\x20name=\x22question','true','back-to-student-home-btn','ดอกเบี้ยอย่างง่าย','Error\x20confirming\x20players:','Failed\x20to\x20kick\x20player\x20','progress-project-select','เกี่ยวกับหัวข้อ\x20\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','matching_item','.delete-student-btn','getBoundingClientRect','ระบบอสมการ','interesting-stats-container','font-bold\x20text-red-700\x20line-through','สุดยอด!\x20ตอบถูกทุกข้อ','originalQuestionText','confirm-confident','toFixed','document','#confidence-input-','ตัวประกอบและตัวประกอบเฉพาะ','_blank','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','resultsDisplay','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','fill','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','ระบบสมการเชิงเส้นสองตัวแปร','comparison-overall-content','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','admin','bg-green-200\x20text-green-800','(ก่อนเรียน)','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','Team\x20Quiz','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','.group','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','shouldSaveResults','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x22\x20data-topic=\x22','translate','bp-modal-num-questions','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','flex','scores-tab-btn','size','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','hidden','members','firstScore','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','การคูณเศษส่วน','\x20ตัวเลือก)','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','findIndex','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','setTransform','arrayBuffer','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.highlighter-color-btn','analytics','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','#DBEAFE','answers','confirm-game-start-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','asc','แบบปรนัย\x204\x20ตัวเลือก','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','ยืนยันการกระทำ','กำลังวิเคราะห์หัวข้อ...','topic-tab','question-analytics-container','bulk-confidence-scoring-checkbox','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','cancel-quiz-bank-btn','เกิดข้อผิดพลาดในการติดดาว','student-project-leaderboard-table-body','scale','สร้างแบบทดสอบปรนัย','cancel-manual-bp-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','passingScore','Error\x20loading\x20blueprint\x20projects:','สมการเหตุผล\x20(rational)','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','/public/data/projects/','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','.save-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','รีเซ็ตลำดับโปรเจคแล้ว','parallel-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','dragstart','setAttributeNS','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','.delete-bp-project-btn','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','AI\x20ไม่สามารถประมวลผลข้อมูลได้','default-2','link-url-input','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-200\x20text-green-900','preScore','loader','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','.topic-name-display','wakeLock','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','live-game','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ปุ่มลัดทั้งหมด','.delete-shortcut-tab-btn','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','.lessonContent','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','pin','floor','removeEventListener','text-indigo-600','team-student-list','thead','bg-red-200\x20text-red-800','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x20กลุ่ม</p></div>','.duplicate-quiz-btn','confirm-global-live-btn','.bp-live-btn','save-parallel-shortcut-btn','คะแนน','\x20to\x20blueprint\x20topic\x20','\x22>จาก:\x20','postTScore','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','Error\x20saving\x20file\x20shortcut\x20config:','2-digit','Error\x20saving\x20parallel\x20shortcut:','กรุณาเลือกโปรเจคปลายทาง','bg-red-500','\x22\x20value=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','webkitExitFullscreen','ตอบถูก\x203\x20ข้อติดต่อกัน','pathname','shortcut-id-input','):\x20','worksheet-tab','.delete-hidden-parallel-shortcut-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','contentEditable','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','start-sync-game-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','times','bg-teal-500\x20hover:bg-teal-600\x20text-white','student-quiz-leaderboard-content','timestamp','ondrop','ai-quiz-app-aefee.firebasestorage.app','ลบโปรเจคสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20listening\x20for\x20projects:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','fileShortcutsConfig','target','ระยะเวลา\x20(วินาที):','<button\x20data-tab-id=\x22','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ...','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','เกิดข้อผิดพลาด:\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-select','.pdf','curriculum','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','ย้ายแบบทดสอบสำเร็จ','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','ไม่มี','</strong></p>','สาระที่\x201','\x22.\x20Ideal\x20Answer:\x20\x22','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','timerMode','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','fix-lesson-latex-btn','mjx-container','\x5cdiv','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','ลำดับการดำเนินการ\x20(PEMDAS)','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','bg-blue-100','confirm-create-project-btn','ความคล้ายของรูป','.color-palette-btn','explanation','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสแกนหาแบบทดสอบเก่า...','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','<tr><td\x20colspan=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','link-tab','td,\x20th','ชนิดของข้อมูลและการเก็บข้อมูล','touchend','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','</label></div>','สมการลอการิทึม','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-400\x20hover:text-indigo-600','text-gray-200','\x5ctimes','default-1','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','.generate-post-test-btn','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิต','Error\x20saving\x20game\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','_opt','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','right','input[name=\x22question_single\x22]:checked','suggestedAnswer','หมดเวลา!\x20กำลังส่งคำตอบ...','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item','วงกลม:\x20คอร์ดและเส้นสัมผัส','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','exitFullscreen','\x5cpm','N/A','ไม่พบแบบทดสอบในระบบเลย','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','parallel-test-input-area','student-quiz-leaderboard-tab','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20จุด','sync-matching-select','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','close-comparison-modal-footer-btn','getElementById','analytics-tab-btn','find','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','true_false','เกิดข้อผิดพลาดในการลบแบบทดสอบ','rgba(16,\x20185,\x20129,\x200.7)','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.parallel-shortcut-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','ไม่สามารถโหลดรายการโปรเจคได้','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','setItem','/public/data/liveGames','delete-svg-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','desc','number','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','ตารางความถี่','cancel-admin-login-btn','open-blueprint-projects-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ไม่สามารถโหลดคลังข้อสอบได้','.use-hidden-shortcut-btn','modal-close-btn','ไม่พบข้อมูลหัวข้อที่จะบันทึก','parallel-shortcut-modal-title','length','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','แบบทดสอบฝึกฝนเรื่อง:\x20','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','teacherSuggestions','drop','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','พบ\x20Sync\x20Game!','pointsLastQuestion','Error\x20comparing\x20results:','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','finished','ชื่อโปรเจคห้ามว่าง','projectName','<i\x20class=\x22fas\x20fa-save\x22></i>','เพิ่มหัวข้อ\x20\x22','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','add-shortcut-tab-btn','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','generated','back-to-dashboard-from-results-btn','reduce','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://corsproxy.io/?','#6366F1','อยู่ในหัวข้อหลักใด:','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode','export-leaderboard-word-btn','</tbody></table></div>','multiple_choice','bg-gray-500','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ผ่าน','Blueprint\x202','API\x20Error\x20Body:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','.score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ai-content\x20td','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','global-live-game-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerdown','num-questions','</tr>','setFont','autoTable','closest','เนื้อหาสำหรับสอน:\x20','min','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','Error\x20updating\x20quiz\x20settings:','/preferences/main','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','คณิตการเงิน/บูรณาการ','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','กรุณาเลือกโปรเจคก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','p-2\x20bg-black/10\x20rounded-md','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','moveTo','Error\x20starting\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dashboardConfig','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tfrac','mandatory','/public/data/practiceBank','bestScore','strength-weakness-analysis-container','globalCompositeOperation','#FFFFFF','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</select>','post-test','cancel-rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','#F59E0B','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','</p><p><strong>เฉลย:</strong>\x20','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','\x22\x20data-name=\x22','questionType','stringify','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','parallel-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','textarea[name=\x22question_single\x22]','href','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.scratchpad-content-wrapper','blueprint-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','timed','/users/','submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bg-green-100\x20text-green-800','responses','ring-2','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','input[name=\x22status-option\x22]:checked','blueprint.pdf','quiz-generation-area','ไม่พบแบบทดสอบ','การแปลงรูปอัตลักษณ์','topic-input','.move-shortcut-dropdown','students','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','ไม่พบข้อมูลแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','bp-modal-shuffle-setting-select','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ยกเลิกการจับคู่สำเร็จ','project-sort-select','student-quiz-topic','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','#math-topics-checkbox-container\x20input:checked','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','42VvOmKU','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generated-quiz-actions','<div\x20class=\x22flex-1\x22></div>','docs','sync-manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','typesetPromise','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','draggable-text','$$$1$','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','name','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','หน่วยเวลาและการคำนวณเวลา','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','reference-pdf-upload','PERSEVERANCE','scheduled_pending','destroy','lesson-plan-title','-\x20ข้อ\x20','</span><span\x20class=\x22font-bold\x22>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','code','Error\x20starting\x20group\x20quiz:','raw','<p><strong>คำตอบที่แนะนำ:</strong>\x20','difficultyValue','text','bg-green-200\x20text-green-900\x20font-bold','student-team-join','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','add-file-shortcut-btn','textContent','Error\x20listening\x20for\x20starred\x20quizzes:','กรุณาเลือกชื่อของคุณ','.project-card-container[data-id]','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','manage-tab-content','list-view-btn','topicName','kick-player-btn','analyze-strengths-btn','fill_in_with_choices','q-explanation-','cursor','highlighter-size-slider','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics','onblur','Failed\x20to\x20generate\x20lesson:','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','blueprint-projects-modal','additional-file-shortcuts-list','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','custom-math-topic-input','ไม่พบไฟล์\x20Test\x20Blueprint','removeChild','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','_opt1\x22>ไม่ใช่</label></div>','</p><div>','bg-green-500','name_desc','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','quick_thinker','div[data-question-index=\x22','.answers','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','perQuestionStats','เริ่มกิจกรรม:\x20','touch','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','หน่วยมวล/น้ำหนักและการแปลง','.topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','get','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerup','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ondblclick','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','ความน่าจะเป็นแบบมีเงื่อนไข','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22][value=\x22','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','screen','move-quiz-project-select','replace','schedule','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','label','per-question-timer-container','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','fadeStartTime','answeredCurrentQuestion','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','bank-tab','editor-quiz-topic','goto-next-question-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</span></td>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20(ID:\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','ARRAY','แก้ไขข้อนี้','color','check-presentation-answer-btn','resize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ความต่อเนื่อง','\x20คะแนน\x20','ฟังก์ชันลอการิทึม','getContext','confidence','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','bulk-confidence-mode-select','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20hybrid\x20quiz:','pen-tools-group','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','value','\x22\x20name=\x22question','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','กรุณาสร้างบทเรียนก่อน','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','shuffle-setting-select','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','มัธยฐาน','.project-card-content','ดีเทอร์มิแนนต์','latestScore','หน่วยความยาวและการแปลง','student-name-selection-view','00:00','เงินงวด\x20(อนุกรมเงินงวด)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ใช่','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','/public/data/quizzes/','projectOrder','projectId','confidence-scoring-checkbox','release','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','.move-file-shortcut-menu-btn','sync','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','fixed','.quiz-status-btn','.sort-indicator','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','trim','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','th-TH','back-to-dashboard-btn','perfect_score','file-tab',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','translate(','แบบทดสอบนี้หมดเวลาแล้ว','left','Attempting\x20to\x20save\x20game\x20results...','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22><p\x20class=\x22font-semibold\x22>','\x20/\x20','parallel-shortcut-container','date_desc','globalSettings','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','highlighter-size-value','parallel-default-2','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','totalQuestions','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','#26890c','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','<button\x20data-shortcut-id=\x22','split','abs','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','4023684lDIAhl','.quiz-bank-present-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','outerHTML','Error\x20starting\x20sync\x20game:','bg-yellow-50','padStart','qIndex','#results-table\x20thead\x20tr','Error\x20resetting\x20project\x20order:','\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','toLocaleString','Error\x20updating\x20pin\x20status:','ดูผลสรุปสุดท้าย','_opt0\x22>ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขชื่อหัวข้อย่อย:','.tab-name-input','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','การบวกทศนิยม','topic-bank-subtopic-name','file-input-area','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','การวัด','exists','live-options-container','.topic-actions-edit','Invalid\x20response\x20structure\x20from\x20AI.','\x20from\x20sync\x20game:','open-global-live-btn','lineWidth','instructions','ส่งแล้ว','close','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','trail','top','รูปสี่เหลี่ยมและสมบัติ','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','save-file-shortcut-btn','no-projects-msg','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','textarea[name=\x22team_answer\x22]','bp-modal-include-images-checkbox','results-quiz-title','project-detail-view','กรุณาเลือกโปรเจคที่ต้องการบันทึก','includeImages','undo-btn','mainTopic','.bp-unlink-quiz-btn','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','lineJoin','.quiz-bank-settings-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจพบการออกจากหน้าจอครบ\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','height','subTopics','ring-purple-400','<div\x20class=\x22','การแยกตัวประกอบ','2201691UEOdYl','difficulty-level-select','answerText','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','จับคู่แบบทดสอบสำเร็จ!','ตรีโกณมิติ','points','<span\x20class=\x22sort-indicator\x20ml-2\x22>','admin-password-modal','cdot','แบบทดสอบที่ติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','splice','<br>','project-detail','text-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<div\x20class=\x22my-6\x22>','เกิดข้อผิดพลาดในการอัปเดต:\x20','behavior-log-container','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blueprintShortcuts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','cancel-team-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','bulk-confidence-mode-container','devicePixelRatio','</p>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','Error\x20saving\x20parallel\x20shortcut\x20config:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-quiz-id=\x22','.ai-fix-question-btn','toLowerCase','next-question-timed-btn','fileShortcutTabs','pen','Error\x20joining\x20sync\x20game:','json','Error\x20updating\x20project\x20color:','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','ยอดเยี่ยม','text-gray-300\x20hover:text-white','temp-loader-text-results','จำนวนเต็มบวก','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','student-initial-view','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','activeGameSession','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','presentation-short-answer-input','.start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','การประยุกต์เวกเตอร์พื้นฐาน','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','promptFeedback','closePath','\x22\x20ให้เป็นคำถามประเภท\x20\x22','str','per-question-text','<div><input\x20type=\x22radio\x22\x20id=\x22q','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','bg-blue-500\x20hover:bg-blue-600\x20text-white','#FCE7F3','attemptNumber','next-drill-btn','shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','การหารทศนิยม','thead\x20.sortable-header','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','imageCode','ผ่านฉลุย','หมดเวลาสำหรับข้อนี้!','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','copy-quiz-id-btn','opacity','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','quiz-settings-modal','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ใช่\x20/\x20ถูก','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','results-tab','PROMPT_PLACEHOLDER','\x5cle','scratchpad-modal','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','div','การแจกแจงปกติและ\x20z-score','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','starred-project','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','bg-red-500\x20text-white\x20font-bold','approx','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','(คู่ขนาน)\x20','\x22\x20จำนวน\x20','dataset','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','key','parallel-shortcut_','loader-text','กรุณาเลือกคำตอบก่อนครับ','การบวกเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','onloadend','start-quiz-btn','results_','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','checked','fas\x20fa-user-edit','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-sections-container','geq','แบบเติมคำตอบ','fa-user-astronaut\x20text-blue-700','modal-timer-duration-label','project-title','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','submission-status-chart','.bp-present-btn','quiz-search-input','endsWith','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sara','font-bold\x20text-green-700','main-correct-answer-display','\x20mb-2\x22>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','gradeLevel','verify-answers-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','Error\x20displaying\x20blueprint\x20project:','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ปริมาตร/ความจุและการแปลง','log','pointer-events-none','.draggable-text','open','close-topic-bank-btn','requestFullscreen','file-shortcut-name-input','mouseup','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'];_0x9fd1=function(){return _0x3e955c;};return _0x9fd1();}function handleGenerateQuizFromBlueprintTopic(_0x4ebb58,_0x4f13ec=null,_0x32f00c,_0x100fb5=null,_0x180b0b=![]){const _0x327972=_0x1d88bf,_0x374a8e=document['getElementById'](_0x327972(0xa5f));_0x374a8e&&_0x374a8e['scrollIntoView']({'behavior':_0x327972(0xcc2),'block':_0x327972(0x4b7)}),generateQuiz(_0x4ebb58,_0x4f13ec,null,null,!![],_0x32f00c,_0x100fb5,_0x180b0b);}function handleGenerateAndShowLesson(_0x1ab8c3,_0x2c67f8){const _0x259009=_0x1d88bf,_0x1c5ea5=document[_0x259009(0x9bf)]('lesson-view-modal'),_0x18c40f=document[_0x259009(0x9bf)](_0x259009(0x4c0)),_0x22201a=document['getElementById'](_0x259009(0xcf6)),_0x2587cf=document[_0x259009(0x9bf)](_0x259009(0xc18));['pointContent','memoryContent','applicationContent',_0x259009(0x364)][_0x259009(0xb2a)](_0x2e34d9=>{const _0x469f02=_0x259009,_0x4dacfc=document['getElementById'](_0x2e34d9)[_0x469f02(0x53a)];_0x4dacfc&&(_0x4dacfc[_0x469f02(0x641)][_0x469f02(0x585)]=_0x469f02(0x444));}),_0x18c40f[_0x259009(0xa9a)]=_0x259009(0xc78)+_0x1ab8c3,_0x2587cf[_0x259009(0x5a7)][_0x259009(0x3b1)]('hidden'),_0x22201a[_0x259009(0x5a7)]['remove'](_0x259009(0x8da)),_0x1c5ea5['classList'][_0x259009(0x2bd)](_0x259009(0x8da)),generateLesson(_0x1ab8c3,_0x2c67f8)[_0x259009(0x3de)](_0x44c325=>{const _0x1a0d10=_0x259009;console['error'](_0x1a0d10(0xaab),_0x44c325),showMessage(_0x1a0d10(0x471)),_0x1c5ea5[_0x1a0d10(0x5a7)]['add'](_0x1a0d10(0x8da));});}function handlePointerDown(_0x20a59b){const _0x252d9e=_0x1d88bf;_0x20a59b['preventDefault']();const _0x3d68b7=scratchpadCtx['canvas'],_0x562566=_0x3d68b7['getBoundingClientRect'](),_0x258925=_0x20a59b['pointerType']||(_0x20a59b[_0x252d9e(0x7a8)]?_0x252d9e(0xac5):_0x252d9e(0x578));if(_0x258925===_0x252d9e(0xbb6)||_0x258925===_0x252d9e(0x578)){if(_0x20a59b['pointerType']===_0x252d9e(0x578)&&_0x20a59b[_0x252d9e(0xc92)]!==0x0){_0x20a59b[_0x252d9e(0xc92)]===0x1&&(isMousePanning=!![],panStart={'x':_0x20a59b[_0x252d9e(0x789)],'y':_0x20a59b['clientY']},_0x3d68b7[_0x252d9e(0x641)]['cursor']=_0x252d9e(0x805));return;}activeTool===_0x252d9e(0xb72)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x17f7db=getTransformedPoint(_0x20a59b['clientX']-_0x562566[_0x252d9e(0xb2e)],_0x20a59b[_0x252d9e(0x1d6)]-_0x562566[_0x252d9e(0xb73)]);let _0x18423b={'tool':activeTool,'points':[_0x17f7db]};if(activeTool===_0x252d9e(0x612))_0x18423b['color']=scratchpadHighlighterColor,_0x18423b[_0x252d9e(0x8d7)]=scratchpadHighlighterSize;else activeTool===_0x252d9e(0xb72)?(_0x18423b[_0x252d9e(0xaf0)]=scratchpadPenColor,_0x18423b[_0x252d9e(0x8d7)]=scratchpadPenSize):(_0x18423b[_0x252d9e(0xaf0)]=scratchpadPenColor,_0x18423b[_0x252d9e(0x8d7)]=scratchpadPenSize);currentStroke=_0x18423b;}else _0x20a59b['touches']&&(_0x20a59b['touches']['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x20a59b[_0x252d9e(0x7a8)][0x0]['clientX'],'y':_0x20a59b[_0x252d9e(0x7a8)][0x0]['clientY']},{'x':_0x20a59b[_0x252d9e(0x7a8)][0x1][_0x252d9e(0x789)],'y':_0x20a59b['touches'][0x1][_0x252d9e(0x1d6)]}),initialPinchDistance=getDistance({'x':_0x20a59b[_0x252d9e(0x7a8)][0x0][_0x252d9e(0x789)],'y':_0x20a59b['touches'][0x0][_0x252d9e(0x1d6)]},{'x':_0x20a59b['touches'][0x1][_0x252d9e(0x789)],'y':_0x20a59b[_0x252d9e(0x7a8)][0x1][_0x252d9e(0x1d6)]})));}function animateTrail(){const _0x3eac37=_0x1d88bf,_0x3cdba=Date['now']();let _0x44aeba=![];for(let _0xba015=strokes[_0x3eac37(0x9dc)]-0x1;_0xba015>=0x0;_0xba015--){const _0xdc3cbd=strokes[_0xba015];if(_0xdc3cbd[_0x3eac37(0x728)]===_0x3eac37(0xb72)&&_0xdc3cbd['fadeStartTime']){const _0x4b9cb0=_0x3cdba-_0xdc3cbd[_0x3eac37(0xae1)];_0x4b9cb0>=TRAIL_DURATION?strokes[_0x3eac37(0xb9a)](_0xba015,0x1):(_0xdc3cbd[_0x3eac37(0xbe6)]=0x1-_0x4b9cb0/TRAIL_DURATION,_0x44aeba=!![]);}}redrawScratchpad(),_0x44aeba?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x59b318){const _0x10b3eb=_0x1d88bf;if(!_0x59b318||_0x59b318[_0x10b3eb(0xb94)][_0x10b3eb(0x9dc)]<0x1)return;scratchpadCtx[_0x10b3eb(0x3b0)](),scratchpadCtx['lineJoin']=_0x10b3eb(0x25e),scratchpadCtx[_0x10b3eb(0x3a9)]=_0x10b3eb(0x25e);if(_0x59b318[_0x10b3eb(0x728)]===_0x10b3eb(0xb72)){const _0x383c2b=_0x59b318[_0x10b3eb(0x8d7)]/scratchpadScale;scratchpadCtx[_0x10b3eb(0x4ce)]=_0x59b318['opacity']??0x1,scratchpadCtx['shadowColor']=_0x10b3eb(0x6e9),scratchpadCtx[_0x10b3eb(0x66c)]=_0x383c2b*0x3,scratchpadCtx[_0x10b3eb(0x287)]=_0x10b3eb(0x319),scratchpadCtx['lineWidth']=_0x383c2b*2.5,scratchpadCtx[_0x10b3eb(0x8bb)](),scratchpadCtx[_0x10b3eb(0xa27)](_0x59b318['points'][0x0]['x'],_0x59b318['points'][0x0]['y']);for(let _0xc037b2=0x1;_0xc037b2<_0x59b318['points'][_0x10b3eb(0x9dc)]-0x1;_0xc037b2++){const _0x3c3d7b=getMidpoint(_0x59b318['points'][_0xc037b2],_0x59b318[_0x10b3eb(0xb94)][_0xc037b2+0x1]);scratchpadCtx[_0x10b3eb(0x4dd)](_0x59b318[_0x10b3eb(0xb94)][_0xc037b2]['x'],_0x59b318['points'][_0xc037b2]['y'],_0x3c3d7b['x'],_0x3c3d7b['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x10b3eb(0x427)]=_0x10b3eb(0x82a),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x10b3eb(0x287)]=_0x10b3eb(0xa33),scratchpadCtx[_0x10b3eb(0xb6d)]=_0x383c2b,scratchpadCtx[_0x10b3eb(0xcc7)](),scratchpadCtx[_0x10b3eb(0xbd0)]();}else{if(_0x59b318[_0x10b3eb(0x728)]===_0x10b3eb(0x612)){scratchpadCtx['globalCompositeOperation']=_0x10b3eb(0x406),scratchpadCtx[_0x10b3eb(0x287)]=_0x59b318[_0x10b3eb(0xaf0)],scratchpadCtx['lineWidth']=_0x59b318[_0x10b3eb(0x8d7)],scratchpadCtx[_0x10b3eb(0x8bb)](),scratchpadCtx[_0x10b3eb(0xa27)](_0x59b318[_0x10b3eb(0xb94)][0x0]['x'],_0x59b318[_0x10b3eb(0xb94)][0x0]['y']);for(let _0x5af8ca=0x1;_0x5af8ca<_0x59b318[_0x10b3eb(0xb94)]['length']-0x1;_0x5af8ca++){const _0x2dbe63=getMidpoint(_0x59b318['points'][_0x5af8ca],_0x59b318[_0x10b3eb(0xb94)][_0x5af8ca+0x1]);scratchpadCtx[_0x10b3eb(0x4dd)](_0x59b318[_0x10b3eb(0xb94)][_0x5af8ca]['x'],_0x59b318[_0x10b3eb(0xb94)][_0x5af8ca]['y'],_0x2dbe63['x'],_0x2dbe63['y']);}scratchpadCtx[_0x10b3eb(0xcc7)](),scratchpadCtx[_0x10b3eb(0xbd0)]();}else{scratchpadCtx[_0x10b3eb(0xa32)]=_0x59b318[_0x10b3eb(0x728)]===_0x10b3eb(0x576)?'destination-out':'source-over',scratchpadCtx[_0x10b3eb(0x287)]=_0x59b318['color'],scratchpadCtx[_0x10b3eb(0xb6d)]=_0x59b318['size'],scratchpadCtx[_0x10b3eb(0x8bb)](),scratchpadCtx[_0x10b3eb(0xa27)](_0x59b318[_0x10b3eb(0xb94)][0x0]['x'],_0x59b318[_0x10b3eb(0xb94)][0x0]['y']);for(let _0x37c418=0x1;_0x37c418<_0x59b318[_0x10b3eb(0xb94)][_0x10b3eb(0x9dc)]-0x1;_0x37c418++){const _0x3bd3ba=getMidpoint(_0x59b318[_0x10b3eb(0xb94)][_0x37c418],_0x59b318[_0x10b3eb(0xb94)][_0x37c418+0x1]);scratchpadCtx[_0x10b3eb(0x4dd)](_0x59b318[_0x10b3eb(0xb94)][_0x37c418]['x'],_0x59b318[_0x10b3eb(0xb94)][_0x37c418]['y'],_0x3bd3ba['x'],_0x3bd3ba['y']);}scratchpadCtx[_0x10b3eb(0xcc7)](),scratchpadCtx[_0x10b3eb(0xbd0)]();}}scratchpadCtx[_0x10b3eb(0x233)]();}function handlePointerMove(_0x1cfecd){const _0xfd8d6e=_0x1d88bf;_0x1cfecd['preventDefault']();const _0x265a5e=scratchpadCtx['canvas'],_0x50282b=_0x265a5e[_0xfd8d6e(0x8af)]();if(_0x1cfecd['touches']){if(_0x1cfecd[_0xfd8d6e(0x7a8)][_0xfd8d6e(0x9dc)]===0x1&&isDrawingOnScratchpad){const _0x4c2ac5=getTransformedPoint(_0x1cfecd['touches'][0x0]['clientX']-_0x50282b['left'],_0x1cfecd[_0xfd8d6e(0x7a8)][0x0]['clientY']-_0x50282b[_0xfd8d6e(0xb73)]);currentStroke['points'][_0xfd8d6e(0x488)](_0x4c2ac5),redrawScratchpad();}else{if(_0x1cfecd['touches'][_0xfd8d6e(0x9dc)]===0x2&&isPanning){const _0x48f25f=getDistance({'x':_0x1cfecd['touches'][0x0][_0xfd8d6e(0x789)],'y':_0x1cfecd[_0xfd8d6e(0x7a8)][0x0][_0xfd8d6e(0x1d6)]},{'x':_0x1cfecd['touches'][0x1][_0xfd8d6e(0x789)],'y':_0x1cfecd[_0xfd8d6e(0x7a8)][0x1][_0xfd8d6e(0x1d6)]}),_0x218999=getMidpoint({'x':_0x1cfecd[_0xfd8d6e(0x7a8)][0x0][_0xfd8d6e(0x789)],'y':_0x1cfecd['touches'][0x0][_0xfd8d6e(0x1d6)]},{'x':_0x1cfecd[_0xfd8d6e(0x7a8)][0x1][_0xfd8d6e(0x789)],'y':_0x1cfecd[_0xfd8d6e(0x7a8)][0x1][_0xfd8d6e(0x1d6)]}),_0x207b36=_0x48f25f/ initialPinchDistance,_0x4f419e=Math['min'](Math['max'](scratchpadScale*_0x207b36,MIN_SCALE),MAX_SCALE),_0x11443a=_0x218999['x']-panStart['x'],_0x3b70df=_0x218999['y']-panStart['y'];scratchpadOffset['x']=_0x218999['x']-(_0x218999['x']-scratchpadOffset['x'])*(_0x4f419e/scratchpadScale),scratchpadOffset['y']=_0x218999['y']-(_0x218999['y']-scratchpadOffset['y'])*(_0x4f419e/scratchpadScale),scratchpadOffset['x']+=_0x11443a,scratchpadOffset['y']+=_0x3b70df,scratchpadScale=_0x4f419e,initialPinchDistance=_0x48f25f,panStart=_0x218999,redrawScratchpad();}}}else{if(isMousePanning){const _0x2ca4f2=_0x1cfecd[_0xfd8d6e(0x789)]-panStart['x'],_0x168232=_0x1cfecd[_0xfd8d6e(0x1d6)]-panStart['y'];scratchpadOffset['x']+=_0x2ca4f2,scratchpadOffset['y']+=_0x168232,panStart={'x':_0x1cfecd[_0xfd8d6e(0x789)],'y':_0x1cfecd['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x34ed1b=getTransformedPoint(_0x1cfecd[_0xfd8d6e(0x789)]-_0x50282b[_0xfd8d6e(0xb2e)],_0x1cfecd[_0xfd8d6e(0x1d6)]-_0x50282b[_0xfd8d6e(0xb73)]);currentStroke[_0xfd8d6e(0xb94)][_0xfd8d6e(0x488)](_0x34ed1b),redrawScratchpad();}}}}function handlePointerUp(_0x167e34){const _0x2b7cda=_0x1d88bf;_0x167e34['preventDefault']();const _0x299756=scratchpadCtx[_0x2b7cda(0x432)];isMousePanning&&(isMousePanning=![],_0x299756[_0x2b7cda(0x641)][_0x2b7cda(0xaa6)]=_0x2b7cda(0x705)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2b7cda(0xb94)][_0x2b7cda(0x9dc)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x2b7cda(0x728)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x53886d=_0x2b7cda,_0x9d3f66=strokes[_0x53886d(0x408)](_0x4e7b14=>_0x4e7b14[_0x53886d(0x728)]==='trail'&&!_0x4e7b14[_0x53886d(0xae1)]);if(_0x9d3f66['length']>0x0){const _0x212f2e=Date[_0x53886d(0x49e)]();_0x9d3f66[_0x53886d(0xb2a)](_0x49069a=>_0x49069a[_0x53886d(0xae1)]=_0x212f2e),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1f4572){const _0xf733ee=_0x1d88bf;_0x1f4572[_0xf733ee(0x1a4)]();const _0x177b72=_0x1f4572['deltaY']*-0.005,_0x27533a=Math[_0xf733ee(0xa15)](Math[_0xf733ee(0xc68)](scratchpadScale+_0x177b72,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1f4572[_0xf733ee(0x789)]-(_0x1f4572[_0xf733ee(0x789)]-scratchpadOffset['x'])*(_0x27533a/scratchpadScale),scratchpadOffset['y']=_0x1f4572[_0xf733ee(0x1d6)]-(_0x1f4572[_0xf733ee(0x1d6)]-scratchpadOffset['y'])*(_0x27533a/scratchpadScale),scratchpadScale=_0x27533a,redrawScratchpad();}function undo(){const _0x1a596c=_0x1d88bf;strokes['length']>0x0&&(redoStrokes['push'](strokes[_0x1a596c(0x2dc)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x44dacb=_0x1d88bf;redoStrokes[_0x44dacb(0x9dc)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x1dcd65=_0x1d88bf;document[_0x1dcd65(0x9bf)](_0x1dcd65(0xb80))[_0x1dcd65(0x6d3)]=strokes[_0x1dcd65(0x9dc)]===0x0,document[_0x1dcd65(0x9bf)](_0x1dcd65(0x1f3))[_0x1dcd65(0x6d3)]=redoStrokes[_0x1dcd65(0x9dc)]===0x0;}function openScratchpad(_0x4a6c4d,_0x3f17cd){const _0x399273=_0x1d88bf,_0x2d745c=document['getElementById'](_0x399273(0xbf2)),_0x23ba4b=document[_0x399273(0x9bf)]('scratchpad-question'),_0x5dfb67=document[_0x399273(0x9bf)](_0x399273(0xcc1)),_0x1343e7=document[_0x399273(0x9bf)](_0x399273(0x551));_0x23ba4b[_0x399273(0x6b3)]=_0x4a6c4d[_0x399273(0xc5b)]||_0x4a6c4d[_0x399273(0x3ab)],_0x5dfb67['innerHTML']=_0x3f17cd['map']((_0x25fdae,_0x12671a)=>_0x399273(0x4d1)+String[_0x399273(0x465)](0x41+_0x12671a)+'.\x20'+_0x25fdae+_0x399273(0x5a5))[_0x399273(0x77f)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2d745c['classList'][_0x399273(0x2bd)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x399273(0x7c4)])MathJax[_0x399273(0xa7b)]([_0x23ba4b,_0x5dfb67]);}function openBlueprintQuizSettings(){const _0x5cdf20=_0x1d88bf,_0x269cee=document['getElementById'](_0x5cdf20(0x26a)),_0x1a7f47=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x5cdf20(0x9bf)](_0x5cdf20(0x811))['value']=_0x1a7f47[_0x5cdf20(0x854)]||document['getElementById'](_0x5cdf20(0x2db))[_0x5cdf20(0xb00)],document[_0x5cdf20(0x9bf)](_0x5cdf20(0x6fd))[_0x5cdf20(0x6b3)]=document[_0x5cdf20(0x9bf)](_0x5cdf20(0xb8f))[_0x5cdf20(0x6b3)],document[_0x5cdf20(0x9bf)](_0x5cdf20(0x6fd))[_0x5cdf20(0xb00)]=_0x1a7f47[_0x5cdf20(0xa94)]||document['getElementById'](_0x5cdf20(0xb8f))[_0x5cdf20(0xb00)],document[_0x5cdf20(0x9bf)](_0x5cdf20(0x378))[_0x5cdf20(0x6b3)]=document['getElementById'](_0x5cdf20(0x599))[_0x5cdf20(0x6b3)],document[_0x5cdf20(0x9bf)](_0x5cdf20(0x378))['value']=_0x1a7f47[_0x5cdf20(0x5bb)]||document['getElementById'](_0x5cdf20(0x599))[_0x5cdf20(0xb00)],document[_0x5cdf20(0x9bf)](_0x5cdf20(0x8d3))[_0x5cdf20(0xb00)]=_0x1a7f47[_0x5cdf20(0xce6)]||document['getElementById'](_0x5cdf20(0xa0f))[_0x5cdf20(0xb00)],document[_0x5cdf20(0x9bf)](_0x5cdf20(0x381))['value']=_0x1a7f47[_0x5cdf20(0x902)]||document['getElementById']('passing-score-input')['value'],document[_0x5cdf20(0x9bf)](_0x5cdf20(0x192))[_0x5cdf20(0xb00)]=_0x1a7f47['numChoices']||document[_0x5cdf20(0x9bf)]('num-choices')[_0x5cdf20(0xb00)],document['getElementById'](_0x5cdf20(0xa69))[_0x5cdf20(0xb00)]=_0x1a7f47['shuffle']||document['getElementById'](_0x5cdf20(0xb06))[_0x5cdf20(0xb00)],document[_0x5cdf20(0x9bf)](_0x5cdf20(0xb7b))[_0x5cdf20(0xc13)]=_0x1a7f47[_0x5cdf20(0xb7f)]||document[_0x5cdf20(0x9bf)](_0x5cdf20(0x885))['checked'],_0x269cee[_0x5cdf20(0x5a7)]['remove'](_0x5cdf20(0x8da));}function handleSaveBlueprintPageSettings(){const _0x528f57=_0x1d88bf;blueprintPageSettings={'quizType':document[_0x528f57(0x9bf)](_0x528f57(0x811))[_0x528f57(0xb00)],'difficultyValue':document[_0x528f57(0x9bf)](_0x528f57(0x6fd))[_0x528f57(0xb00)],'complexityValue':document[_0x528f57(0x9bf)](_0x528f57(0x378))[_0x528f57(0xb00)],'numQuestions':document[_0x528f57(0x9bf)](_0x528f57(0x8d3))['value'],'passingScore':document[_0x528f57(0x9bf)](_0x528f57(0x381))[_0x528f57(0xb00)],'numChoices':document['getElementById'](_0x528f57(0x192))[_0x528f57(0xb00)],'shuffle':document[_0x528f57(0x9bf)](_0x528f57(0xa69))[_0x528f57(0xb00)],'includeImages':document[_0x528f57(0x9bf)]('bp-modal-include-images-checkbox')[_0x528f57(0xc13)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document['getElementById'](_0x528f57(0x26a))['classList'][_0x528f57(0x3b1)](_0x528f57(0x8da));}function listenForParallelTestShortcuts(){const _0x1d1cf9=_0x1d88bf,_0x5a9b83=doc(db,_0x1d1cf9(0xb35),_0x1d1cf9(0xc87));onSnapshot(_0x5a9b83,_0x511226=>{const _0x389fd0=_0x1d1cf9;let _0x14b094=[],_0x53d22b=[],_0xc634bb={};if(_0x511226[_0x389fd0(0xb67)]()){const _0x39824a=_0x511226['data']();_0x14b094=_0x39824a['shortcuts']||[],_0x53d22b=_0x39824a[_0x389fd0(0x3c5)]||[],_0xc634bb=_0x39824a[_0x389fd0(0x6bb)]||{};}!_0x53d22b['find'](_0x2ae089=>_0x2ae089['id']===_0x389fd0(0x875))&&_0x53d22b[_0x389fd0(0x5d5)]({'id':_0x389fd0(0x875),'name':_0x389fd0(0x29c),'isDefault':!![]}),!_0x14b094['find'](_0x446398=>_0x446398['id']==='parallel-default-1')&&_0x14b094[_0x389fd0(0x5d5)]({'id':_0x389fd0(0xa45),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x14b094[_0x389fd0(0x9c1)](_0x443920=>_0x443920['id']===_0x389fd0(0xb3a))&&_0x14b094[_0x389fd0(0x5d5)]({'id':_0x389fd0(0xb3a),'name':_0x389fd0(0x891),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x14b094,parallelShortcutTabs=_0x53d22b,parallelShortcutOrder=_0xc634bb,renderParallelTestShortcuts(),!document[_0x389fd0(0x9bf)](_0x389fd0(0x49f))['classList'][_0x389fd0(0x2be)](_0x389fd0(0x8da))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x3d643d=_0x1d88bf,_0x5bf90e=doc(db,_0x3d643d(0xb35),_0x3d643d(0xc87));try{await setDoc(_0x5bf90e,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x526554){console[_0x3d643d(0x56e)](_0x3d643d(0xbad),_0x526554);}}function renderAdditionalParallelShortcutsModal(){const _0x1cf219=_0x1d88bf,_0x25e63a=document[_0x1cf219(0x9bf)](_0x1cf219(0x88c)),_0x498ef6=document[_0x1cf219(0x9bf)]('additional-parallel-shortcuts-list');if(!_0x25e63a||!_0x498ef6)return;_0x25e63a['innerHTML']=parallelShortcutTabs[_0x1cf219(0x2b5)](_0x248068=>{const _0x2108f0=_0x1cf219,_0x235ac6=_0x248068['id']===activeParallelShortcutTabId;return _0x2108f0(0x2af)+_0x248068['id']+_0x2108f0(0xadf)+(_0x235ac6?_0x2108f0(0xc6a):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x2108f0(0xa7f)+_0x248068[_0x2108f0(0xa80)]+_0x2108f0(0x1a9)+_0x248068[_0x2108f0(0xa80)]+_0x2108f0(0x436)+(!_0x248068[_0x2108f0(0x2e5)]?_0x2108f0(0x966)+_0x248068['id']+_0x2108f0(0x995):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');const _0xeb1463=parallelShortcutTabs['find'](_0x4850c0=>_0x4850c0['id']===activeParallelShortcutTabId);let _0x26ce13=_0xeb1463?.[_0x1cf219(0x2e5)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x3f1870=>(_0xeb1463?.[_0x1cf219(0x84e)]||[])[_0x1cf219(0x3b4)](_0x3f1870['id']));const _0x2f874c=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x26ce13[_0x1cf219(0x79f)]((_0x5e9488,_0xa1bd29)=>{const _0x3fbcfe=_0x1cf219,_0x75102e=_0x2f874c[_0x3fbcfe(0x3e8)](_0x5e9488['id']),_0x5392e4=_0x2f874c[_0x3fbcfe(0x3e8)](_0xa1bd29['id']);return(_0x75102e===-0x1?Infinity:_0x75102e)-(_0x5392e4===-0x1?Infinity:_0x5392e4);}),_0x498ef6[_0x1cf219(0x6b3)]=_0x26ce13['map'](_0x758026=>{const _0x111435=_0x1cf219,_0x4c6db7=_0x758026[_0x111435(0x51a)]?'🔁':'🔗',_0x3acc2d=parallelShortcutTabs['filter'](_0x3a61a4=>!_0x3a61a4[_0x111435(0x2e5)]),_0xe788d=_0xeb1463[_0x111435(0x2e5)]&&_0x3acc2d['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3acc2d[_0x111435(0x2b5)](_0x4e4e32=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x758026['id']+_0x111435(0x2e2)+_0x4e4e32['id']+'\x22>'+_0x4e4e32[_0x111435(0xa80)]+'</a>')[_0x111435(0x77f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x111435(0x83b)+_0x758026['id']+_0x111435(0x670)+_0x4c6db7+'\x20'+_0x758026['name']+_0x111435(0xcac)+_0x758026['id']+_0x111435(0x218)+_0x758026['id']+_0x111435(0x5bf)+(!_0x758026[_0x111435(0x2e5)]?_0x111435(0x3fc)+_0x758026['id']+_0x111435(0x96b):'')+_0x111435(0xaa8)+(!_0xeb1463[_0x111435(0x2e5)]?'<button\x20data-shortcut-id=\x22'+_0x758026['id']+_0x111435(0x8cc):'')+_0x111435(0xaa8)+_0xe788d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1cf219(0x77f)]('')||_0x1cf219(0xa26),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x8661c5=_0x1d88bf;document[_0x8661c5(0x468)](_0x8661c5(0x85d))[_0x8661c5(0xb2a)](_0x229c83=>{const _0x1722dc=_0x8661c5;_0x229c83[_0x1722dc(0xc96)]=_0xacd116=>{const _0x40a4c0=_0x1722dc;activeParallelShortcutTabId=_0xacd116[_0x40a4c0(0x753)][_0x40a4c0(0xc05)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x229c83[_0x1722dc(0xad0)]=_0x10eda5=>{const _0x15d415=_0x1722dc,_0x31d450=_0x10eda5[_0x15d415(0x753)]['querySelector'](_0x15d415(0xb60));_0x10eda5[_0x15d415(0x753)][_0x15d415(0x583)]('.tab-name-display')[_0x15d415(0x5a7)]['add'](_0x15d415(0x8da)),_0x31d450[_0x15d415(0x5a7)][_0x15d415(0x2bd)](_0x15d415(0x8da)),_0x31d450['focus'](),_0x31d450['select']();};}),document[_0x8661c5(0x468)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x8661c5(0xb2a)](_0x51ad2e=>{const _0x40d675=_0x8661c5,_0xf9c562=()=>{const _0x4fcb91=_0x5713,_0x19ad49=_0x51ad2e[_0x4fcb91(0xa13)](_0x4fcb91(0x85d))['dataset']['tabId'],_0x4cb6b3=parallelShortcutTabs[_0x4fcb91(0x9c1)](_0x1ed024=>_0x1ed024['id']===_0x19ad49);_0x4cb6b3&&(_0x4cb6b3[_0x4fcb91(0xa80)]=_0x51ad2e[_0x4fcb91(0xb00)][_0x4fcb91(0xb22)]()||_0x4cb6b3[_0x4fcb91(0xa80)],saveParallelShortcutConfig());};_0x51ad2e[_0x40d675(0xaaa)]=_0xf9c562,_0x51ad2e[_0x40d675(0x58d)]=_0x45ad7c=>{const _0xc49d2f=_0x40d675;if(_0x45ad7c['key']===_0xc49d2f(0x787))_0x51ad2e['blur']();};}),document[_0x8661c5(0x468)](_0x8661c5(0x6a2))[_0x8661c5(0xb2a)](_0x14807e=>_0x14807e['onclick']=_0x2f3d21=>{const _0x465b34=_0x8661c5,_0x4ba523=_0x2f3d21['currentTarget']['dataset'][_0x465b34(0xcd2)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x315a95=_0x465b34;parallelShortcutTabs=parallelShortcutTabs[_0x315a95(0x408)](_0x8174cd=>_0x8174cd['id']!==_0x4ba523),delete parallelShortcutOrder[_0x4ba523];if(activeParallelShortcutTabId===_0x4ba523)activeParallelShortcutTabId=_0x315a95(0x875);saveParallelShortcutConfig();});}),document[_0x8661c5(0x468)](_0x8661c5(0x36b))[_0x8661c5(0xb2a)](_0x3252bb=>_0x3252bb[_0x8661c5(0xc96)]=_0x5a7995=>{const _0x42b233=_0x8661c5;_0x5a7995[_0x42b233(0x1a4)]();const {shortcutId:_0xf0a9b1,targetTabId:_0x3acc6e}=_0x5a7995['currentTarget'][_0x42b233(0xc05)],_0x482dea=parallelShortcutTabs[_0x42b233(0x9c1)](_0x414e77=>_0x414e77['id']===_0x3acc6e);_0x482dea&&!_0x482dea['shortcutIds'][_0x42b233(0x3b4)](_0xf0a9b1)&&(_0x482dea[_0x42b233(0x84e)][_0x42b233(0x488)](_0xf0a9b1),saveParallelShortcutConfig());}),document[_0x8661c5(0x468)](_0x8661c5(0xcc6))['forEach'](_0x35c6f0=>_0x35c6f0[_0x8661c5(0xc96)]=_0x2bb724=>{const _0xb02f8a=_0x8661c5,_0x4e28a8=_0x2bb724[_0xb02f8a(0x753)]['dataset'][_0xb02f8a(0x719)],_0x53c3d=parallelShortcutTabs[_0xb02f8a(0x9c1)](_0x58bc34=>_0x58bc34['id']===activeParallelShortcutTabId);_0x53c3d&&!_0x53c3d[_0xb02f8a(0x2e5)]&&(_0x53c3d[_0xb02f8a(0x84e)]=_0x53c3d[_0xb02f8a(0x84e)][_0xb02f8a(0x408)](_0x3780f1=>_0x3780f1!==_0x4e28a8),saveParallelShortcutConfig());}),document['querySelectorAll']('.move-parallel-shortcut-menu-btn')[_0x8661c5(0xb2a)](_0x251a9a=>_0x251a9a[_0x8661c5(0xc96)]=_0x1b919c=>{const _0x291dad=_0x8661c5;_0x1b919c['stopPropagation']();const _0x2fcdf2=_0x1b919c[_0x291dad(0x753)][_0x291dad(0x76d)];document[_0x291dad(0x468)](_0x291dad(0x818))['forEach'](_0x699245=>_0x699245[_0x291dad(0x5a7)][_0x291dad(0x3b1)](_0x291dad(0x8da))),_0x2fcdf2[_0x291dad(0x5a7)]['remove'](_0x291dad(0x8da));});const _0x4a2e2a=document[_0x8661c5(0x9bf)](_0x8661c5(0x3a5));let _0x4864e8=null;_0x4a2e2a[_0x8661c5(0x1c5)]=_0x5b6177=>{const _0x3bf119=_0x8661c5;_0x4864e8=_0x5b6177[_0x3bf119(0x964)][_0x3bf119(0xa13)]('.shortcut-list-item');if(_0x4864e8)setTimeout(()=>_0x4864e8[_0x3bf119(0x5a7)][_0x3bf119(0x3b1)](_0x3bf119(0x355)),0x0);},_0x4a2e2a[_0x8661c5(0x727)]=()=>{const _0x37bd08=_0x8661c5;_0x4864e8&&(_0x4864e8['classList'][_0x37bd08(0x2bd)](_0x37bd08(0x355)),_0x4864e8=null);},_0x4a2e2a['ondragover']=_0x39111c=>{const _0x1b6037=_0x8661c5;_0x39111c[_0x1b6037(0x1a4)]();},_0x4a2e2a[_0x8661c5(0x95b)]=_0x3636c2=>{const _0x252ade=_0x8661c5;_0x3636c2[_0x252ade(0x1a4)]();if(_0x4864e8){const _0x2c66ed=[..._0x4a2e2a[_0x252ade(0x468)](_0x252ade(0xc50))][_0x252ade(0x9f5)]((_0x1ee8d7,_0x1e1f1d)=>{const _0x403e50=_0x252ade,_0x455ad2=_0x1e1f1d[_0x403e50(0x8af)](),_0x163f67=_0x3636c2['clientY']-_0x455ad2[_0x403e50(0xb73)]-_0x455ad2['height']/0x2;return _0x163f67<0x0&&_0x163f67>_0x1ee8d7[_0x403e50(0x491)]?{'offset':_0x163f67,'element':_0x1e1f1d}:_0x1ee8d7;},{'offset':Number[_0x252ade(0x4c9)]})[_0x252ade(0x325)];_0x2c66ed==null?_0x4a2e2a[_0x252ade(0x5b9)](_0x4864e8):_0x4a2e2a['insertBefore'](_0x4864e8,_0x2c66ed);const _0x91133=[..._0x4a2e2a[_0x252ade(0x468)](_0x252ade(0x826))][_0x252ade(0x2b5)](_0x1a636a=>_0x1a636a[_0x252ade(0xc05)][_0x252ade(0x719)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x91133,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x398f9c=_0x1d88bf,_0xe6d29c=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0xe6d29c&&_0xe6d29c[_0x398f9c(0xb22)]()&&(parallelShortcutTabs[_0x398f9c(0x488)]({'id':'tab_'+Date['now'](),'name':_0xe6d29c[_0x398f9c(0xb22)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x53a25b=_0x1d88bf,_0x3975ec=document[_0x53a25b(0x9bf)](_0x53a25b(0xb33)),_0x1420f8=document[_0x53a25b(0x9bf)](_0x53a25b(0x3a5)),_0x28f49f=document[_0x53a25b(0x9bf)]('parallel-shortcuts-loading-msg');if(_0x28f49f)_0x28f49f['classList'][_0x53a25b(0x3b1)](_0x53a25b(0x8da));if(!_0x3975ec||!_0x1420f8)return;const _0x5ee3c2=parallelTestShortcuts['slice'](0x0,0x4),_0x39b3a2=parallelTestShortcuts['slice'](0x4);_0x3975ec[_0x53a25b(0x6b3)]=_0x5ee3c2[_0x53a25b(0x2b5)](_0x3c8c8e=>{const _0x508f96=_0x53a25b,_0x3fed2d=_0x3c8c8e[_0x508f96(0x51a)]&&_0x3c8c8e[_0x508f96(0x51a)][_0x508f96(0xb22)]()!=='',_0x4810f3=_0x3fed2d?_0x508f96(0x958):'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x446f29=_0x3fed2d?'🔁':'🔗',_0x3f9a96=!_0x3c8c8e[_0x508f96(0x2e5)]?_0x508f96(0x3fc)+_0x3c8c8e['id']+_0x508f96(0x2ee):'';return _0x508f96(0x361)+_0x3c8c8e['id']+_0x508f96(0x798)+_0x4810f3+_0x508f96(0x4cd)+_0x446f29+'\x20'+_0x3c8c8e[_0x508f96(0xa80)]+_0x508f96(0xb41)+_0x3c8c8e['id']+_0x508f96(0x4a0)+_0x3f9a96+_0x508f96(0xcba);})['join'](''),_0x39b3a2['length']>0x0&&(_0x3975ec['innerHTML']+=_0x53a25b(0x7cd)),_0x39b3a2['length']>0x0?_0x1420f8[_0x53a25b(0x6b3)]=_0x39b3a2[_0x53a25b(0x2b5)](_0xb645db=>_0x53a25b(0xc91)+(_0xb645db[_0x53a25b(0x51a)]?'🔁':'🔗')+'\x20'+_0xb645db[_0x53a25b(0xa80)]+_0x53a25b(0x3dd)+_0xb645db['id']+_0x53a25b(0x20f)+_0xb645db['id']+_0x53a25b(0x415)+(!_0xb645db['isDefault']?_0x53a25b(0x3fc)+_0xb645db['id']+_0x53a25b(0x96b):'')+_0x53a25b(0x326))[_0x53a25b(0x77f)](''):_0x1420f8[_0x53a25b(0x6b3)]=_0x53a25b(0x535);}function openParallelTestShortcutEditor(_0x234c77=null){const _0x2164ec=_0x1d88bf,_0x185bc9=document[_0x2164ec(0x9bf)](_0x2164ec(0x911)),_0x106ba1=document[_0x2164ec(0x9bf)](_0x2164ec(0x9db)),_0x4b4f4e=document[_0x2164ec(0x9bf)](_0x2164ec(0x4c6)),_0x3ffdaa=document[_0x2164ec(0x9bf)](_0x2164ec(0x314)),_0x4a77f5=document[_0x2164ec(0x9bf)]('parallel-shortcut-url-input');if(_0x234c77){const _0x4dc916=parallelTestShortcuts[_0x2164ec(0x9c1)](_0x150ffd=>_0x150ffd['id']===_0x234c77);if(!_0x4dc916)return;_0x106ba1[_0x2164ec(0xa9a)]=_0x2164ec(0x9df),_0x4b4f4e['value']=_0x4dc916['id'],_0x3ffdaa[_0x2164ec(0xb00)]=_0x4dc916['name'],_0x4a77f5[_0x2164ec(0xb00)]=_0x4dc916[_0x2164ec(0x51a)]||'';}else _0x106ba1[_0x2164ec(0xa9a)]=_0x2164ec(0x70f),_0x4b4f4e[_0x2164ec(0xb00)]='',_0x3ffdaa['value']='',_0x4a77f5['value']='';_0x185bc9['classList'][_0x2164ec(0x2bd)](_0x2164ec(0x8da));}async function saveParallelTestShortcutChanges(){const _0x4917cf=_0x1d88bf,_0xf70f34=document['getElementById'](_0x4917cf(0x4c6))[_0x4917cf(0xb00)],_0x18d490=document['getElementById'](_0x4917cf(0x314))[_0x4917cf(0xb00)][_0x4917cf(0xb22)](),_0x4ad0e6=document[_0x4917cf(0x9bf)](_0x4917cf(0x7b4))['value'][_0x4917cf(0xb22)]();if(!_0x18d490){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x468b19={'id':_0xf70f34||_0x4917cf(0xc08)+Date[_0x4917cf(0x49e)](),'name':_0x18d490,'url':_0x4ad0e6,'isDefault':_0xf70f34[_0x4917cf(0x26d)](_0x4917cf(0x3dc))};let _0x1b5d67;_0xf70f34?_0x1b5d67=parallelTestShortcuts[_0x4917cf(0x2b5)](_0x48bccb=>_0x48bccb['id']===_0xf70f34?_0x468b19:_0x48bccb):_0x1b5d67=[...parallelTestShortcuts,_0x468b19];try{const _0x90ecd4=doc(db,_0x4917cf(0xb35),_0x4917cf(0xc87));await setDoc(_0x90ecd4,{'shortcuts':_0x1b5d67},{'merge':!![]}),document[_0x4917cf(0x9bf)](_0x4917cf(0x911))['classList'][_0x4917cf(0x3b1)]('hidden');}catch(_0x538d8c){console['error'](_0x4917cf(0x943),_0x538d8c),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x5d7cf5){const _0x5cc37b=_0x1d88bf,_0x5b1546=parallelTestShortcuts[_0x5cc37b(0x9c1)](_0x28f13c=>_0x28f13c['id']===_0x5d7cf5);if(!_0x5b1546)return;if(!_0x5b1546[_0x5cc37b(0x51a)]||_0x5b1546[_0x5cc37b(0x51a)]['trim']()===''){openParallelTestShortcutEditor(_0x5d7cf5);return;}const _0x24db2c=document[_0x5cc37b(0x9bf)](_0x5cc37b(0x91e)),_0x1124d6=document[_0x5cc37b(0x9bf)](_0x5cc37b(0xc09));document[_0x5cc37b(0x9bf)](_0x5cc37b(0xa5f))[_0x5cc37b(0x5a7)]['remove'](_0x5cc37b(0x8da)),document['getElementById']('generated-quiz-container')[_0x5cc37b(0x6b3)]='',_0x24db2c['classList'][_0x5cc37b(0x2bd)](_0x5cc37b(0x8da)),_0x1124d6[_0x5cc37b(0xa9a)]=_0x5cc37b(0xb19);try{let _0x2bc94f;_0x5b1546[_0x5cc37b(0x51a)][_0x5cc37b(0xbb3)]()['includes']('.txt')?_0x2bc94f=_0x5cc37b(0xc9b):_0x2bc94f=_0x5cc37b(0x457);const _0x46bcb2=await fetchFileFromUrl(_0x5b1546[_0x5cc37b(0x51a)],_0x2bc94f);await handleGenerateParallelTest(_0x46bcb2);}catch(_0x174ff3){console[_0x5cc37b(0x56e)](_0x5cc37b(0x208),_0x174ff3),showMessage(_0x5cc37b(0x96a)+_0x174ff3[_0x5cc37b(0x68b)]),_0x24db2c['classList'][_0x5cc37b(0x3b1)](_0x5cc37b(0x8da));}}function initializeScratchpadCanvas(){const _0x370856=_0x1d88bf,_0x1ace6c=document[_0x370856(0x9bf)]('scratchpad-canvas'),_0x2fb919=document[_0x370856(0x583)](_0x370856(0xa4b));if(!_0x1ace6c||!_0x2fb919)return;scratchpadCtx=_0x1ace6c[_0x370856(0xaf7)]('2d',{'willReadFrequently':!![]});const _0x4cd46f=window[_0x370856(0xbaa)]||0x1,_0x266d45=_0x2fb919['getBoundingClientRect']();_0x1ace6c[_0x370856(0x31e)]=_0x266d45[_0x370856(0x31e)]*_0x4cd46f,_0x1ace6c[_0x370856(0xb89)]=_0x266d45['height']*_0x4cd46f,_0x1ace6c[_0x370856(0x641)]['width']=_0x266d45[_0x370856(0x31e)]+'px',_0x1ace6c[_0x370856(0x641)][_0x370856(0xb89)]=_0x266d45['height']+'px',scratchpadCtx[_0x370856(0x8fc)](_0x4cd46f,_0x4cd46f),scratchpadCtx[_0x370856(0xb84)]=_0x370856(0x25e),scratchpadCtx[_0x370856(0x3a9)]=_0x370856(0x25e),_0x1ace6c[_0x370856(0x930)](_0x370856(0xa0e),handlePointerDown),_0x1ace6c[_0x370856(0x930)]('pointermove',handlePointerMove),_0x1ace6c['removeEventListener']('pointerup',handlePointerUp),_0x1ace6c[_0x370856(0x930)](_0x370856(0x610),handlePointerUp),_0x1ace6c[_0x370856(0x930)](_0x370856(0x724),handleWheel),_0x1ace6c[_0x370856(0x930)](_0x370856(0x5e1),handlePointerDown),_0x1ace6c['removeEventListener'](_0x370856(0x256),handlePointerMove),_0x1ace6c[_0x370856(0x930)](_0x370856(0x993),handlePointerUp),_0x1ace6c[_0x370856(0x8c1)](_0x370856(0xa0e),handlePointerDown),_0x1ace6c[_0x370856(0x8c1)](_0x370856(0x78d),handlePointerMove),_0x1ace6c[_0x370856(0x8c1)](_0x370856(0xacd),handlePointerUp),_0x1ace6c['addEventListener'](_0x370856(0x610),handlePointerUp),_0x1ace6c['addEventListener'](_0x370856(0x724),handleWheel,{'passive':![]}),_0x1ace6c['addEventListener'](_0x370856(0x5e1),handlePointerDown,{'passive':![]}),_0x1ace6c['addEventListener'](_0x370856(0x256),handlePointerMove,{'passive':![]}),_0x1ace6c[_0x370856(0x8c1)](_0x370856(0x993),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5b3f6c=_0x1d88bf,_0x453fb3=document[_0x5b3f6c(0x9bf)](_0x5b3f6c(0xbf2)),_0x5c6ecd=document[_0x5b3f6c(0x9bf)](_0x5b3f6c(0x551));_0x5c6ecd[_0x5b3f6c(0x6b3)]=_0x5b3f6c(0x597)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x5f02ed=document[_0x5b3f6c(0x9bf)](_0x5b3f6c(0x439)),_0x5f1d72=document[_0x5b3f6c(0x9bf)](_0x5b3f6c(0x393)),_0x326eb2=document['getElementById']('trail-tool-btn'),_0x4b9e0c=document[_0x5b3f6c(0x9bf)](_0x5b3f6c(0x5c6)),_0x513311=document[_0x5b3f6c(0x9bf)](_0x5b3f6c(0xafe)),_0x23a54d=document[_0x5b3f6c(0x9bf)]('highlighter-tools-group'),_0xabf8f9=[_0x5f02ed,_0x5f1d72,_0x326eb2,_0x4b9e0c];document[_0x5b3f6c(0x9bf)]('scratchpad-close-btn')[_0x5b3f6c(0x8c1)]('click',()=>_0x453fb3[_0x5b3f6c(0x5a7)][_0x5b3f6c(0x3b1)](_0x5b3f6c(0x8da))),document[_0x5b3f6c(0x9bf)](_0x5b3f6c(0x3cc))[_0x5b3f6c(0x8c1)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x5b3f6c(0x856))['addEventListener'](_0x5b3f6c(0x7c2),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x5b3f6c(0xb80))['addEventListener'](_0x5b3f6c(0x7c2),undo),document['getElementById'](_0x5b3f6c(0x1f3))['addEventListener']('click',redo);const _0x1c80b2=_0x43c81f=>{const _0x4e8444=_0x5b3f6c;_0xabf8f9['forEach'](_0x2fe43c=>_0x2fe43c[_0x4e8444(0x5a7)][_0x4e8444(0x2bd)](_0x4e8444(0x53f))),_0x43c81f[_0x4e8444(0x5a7)][_0x4e8444(0x3b1)]('active');const _0x578556=_0x43c81f===_0x4b9e0c;_0x513311[_0x4e8444(0x5a7)][_0x4e8444(0x372)](_0x4e8444(0x8da),_0x578556),_0x23a54d[_0x4e8444(0x5a7)][_0x4e8444(0x372)]('hidden',!_0x578556);};_0x5f02ed[_0x5b3f6c(0x8c1)](_0x5b3f6c(0x7c2),()=>{activeTool='pen',_0x1c80b2(_0x5f02ed);}),_0x5f1d72['addEventListener'](_0x5b3f6c(0x7c2),()=>{const _0x11e0f8=_0x5b3f6c;activeTool=_0x11e0f8(0x576),_0x1c80b2(_0x5f1d72);}),_0x326eb2[_0x5b3f6c(0x8c1)]('click',()=>{activeTool='trail',_0x1c80b2(_0x326eb2);}),_0x4b9e0c[_0x5b3f6c(0x8c1)](_0x5b3f6c(0x7c2),()=>{const _0x46a1cd=_0x5b3f6c;activeTool=_0x46a1cd(0x612),_0x1c80b2(_0x4b9e0c);}),_0x513311[_0x5b3f6c(0x468)](_0x5b3f6c(0x561))[_0x5b3f6c(0xb2a)](_0x1212e1=>{const _0x3a66aa=_0x5b3f6c;_0x1212e1[_0x3a66aa(0x8c1)](_0x3a66aa(0x7c2),_0x5cffd3=>{const _0x2d53dc=_0x3a66aa;scratchpadPenSize=parseInt(_0x5cffd3['target']['dataset'][_0x2d53dc(0x8d7)],0xa),_0x513311[_0x2d53dc(0x468)](_0x2d53dc(0x561))[_0x2d53dc(0xb2a)](_0x560f6f=>_0x560f6f[_0x2d53dc(0x5a7)][_0x2d53dc(0x2bd)](_0x2d53dc(0x53f))),_0x5cffd3[_0x2d53dc(0x964)][_0x2d53dc(0x5a7)][_0x2d53dc(0x3b1)](_0x2d53dc(0x53f));});}),_0x513311[_0x5b3f6c(0x468)](_0x5b3f6c(0x704))['forEach'](_0x4d924d=>{const _0x26a879=_0x5b3f6c;_0x4d924d[_0x26a879(0x8c1)](_0x26a879(0x7c2),_0x57e460=>{const _0x271e0a=_0x26a879;scratchpadPenColor=_0x57e460['target']['dataset'][_0x271e0a(0xaf0)],_0x513311['querySelectorAll'](_0x271e0a(0x704))[_0x271e0a(0xb2a)](_0x822c6f=>_0x822c6f[_0x271e0a(0x5a7)][_0x271e0a(0x2bd)]('active')),_0x57e460[_0x271e0a(0x964)][_0x271e0a(0x5a7)][_0x271e0a(0x3b1)]('active');});}),_0x23a54d[_0x5b3f6c(0x468)](_0x5b3f6c(0x8e7))['forEach'](_0x2d58ac=>{const _0x3a41ab=_0x5b3f6c;_0x2d58ac[_0x3a41ab(0x8c1)](_0x3a41ab(0x7c2),_0x58043d=>{const _0x3618b5=_0x3a41ab;scratchpadHighlighterColor=_0x58043d[_0x3618b5(0x964)][_0x3618b5(0xc05)][_0x3618b5(0xaf0)],_0x23a54d[_0x3618b5(0x468)]('.highlighter-color-btn')[_0x3618b5(0xb2a)](_0x5440d8=>_0x5440d8[_0x3618b5(0x5a7)][_0x3618b5(0x2bd)](_0x3618b5(0x53f))),_0x58043d[_0x3618b5(0x964)]['classList'][_0x3618b5(0x3b1)](_0x3618b5(0x53f));});});const _0xba679d=document[_0x5b3f6c(0x9bf)](_0x5b3f6c(0xaa7)),_0x1e1100=document['getElementById'](_0x5b3f6c(0xb39));_0xba679d['addEventListener'](_0x5b3f6c(0x82b),_0x5a6cf6=>{const _0x5bc188=_0x5b3f6c,_0x58350c=parseInt(_0x5a6cf6[_0x5bc188(0x964)][_0x5bc188(0xb00)],0xa);scratchpadHighlighterSize=_0x58350c,_0x1e1100[_0x5bc188(0xa9a)]=_0x58350c;}),window[_0x5b3f6c(0x8c1)](_0x5b3f6c(0xaf2),()=>{const _0x4bf941=_0x5b3f6c;!_0x453fb3[_0x4bf941(0x5a7)]['contains'](_0x4bf941(0x8da))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x1d88bf(0xb27),'name':_0x1d88bf(0x802),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x1d88bf(0xcd4),'description':_0x1d88bf(0x3e2),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x1d88bf(0x4f0),'name':_0x1d88bf(0x6e7),'description':_0x1d88bf(0x949),'icon':_0x1d88bf(0x2ff)},'FIRST_TRY_ACE':{'id':_0x1d88bf(0x605),'name':_0x1d88bf(0xbe2),'description':_0x1d88bf(0x2ae),'icon':_0x1d88bf(0x780)},'COMEBACK_KING':{'id':_0x1d88bf(0x801),'name':'ราชาคัมแบ็ก','description':_0x1d88bf(0x8ce),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x1d88bf(0x3eb),'name':_0x1d88bf(0x24d),'description':_0x1d88bf(0x683),'icon':_0x1d88bf(0xc1b)},'PERSEVERANCE':{'id':_0x1d88bf(0x60c),'name':_0x1d88bf(0x246),'description':_0x1d88bf(0x646),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x1d88bf(0x6a0),'projectId':_0x1d88bf(0x7bc),'storageBucket':_0x1d88bf(0x95c),'messagingSenderId':_0x1d88bf(0x781),'appId':_0x1d88bf(0xc67),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x1d88bf(0x34b)?__app_id:_0x1d88bf(0x39e),adminView=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x956)),studentView=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x5a9)),projectDashboardView=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x295)),projectDetailView=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xb7d)),quizResultsView=document['getElementById'](_0x1d88bf(0x505)),projectList=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x518)),noProjectsMsg=document['getElementById'](_0x1d88bf(0xb77)),projectTitle=document['getElementById'](_0x1d88bf(0xc1d)),projectIdDisplay=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x1bc)),studentList=document[_0x1d88bf(0x9bf)]('student-list'),messageModal=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x75c)),modalMessage=document['getElementById'](_0x1d88bf(0x5b2)),createProjectModal=document['getElementById'](_0x1d88bf(0x570)),adminPasswordModal=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xb96)),confirmationModal=document['getElementById'](_0x1d88bf(0xc42)),userIdDisplay=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x37d)),topicTab=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x8f5)),textTab=document['getElementById'](_0x1d88bf(0xb9d)),topicInputArea=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x4c7)),textInputArea=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x682)),manageTab=document['getElementById'](_0x1d88bf(0x313)),resultsTab=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xbef)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xa9f)),resultsTabContent=document['getElementById'](_0x1d88bf(0x7a7)),leaderboardTabContent=document['getElementById'](_0x1d88bf(0x73d)),projectQuizzesList=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x1f7)),fileTab=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xb28)),fileInputArea=document['getElementById'](_0x1d88bf(0xb64)),fileUploadInput=document[_0x1d88bf(0x9bf)]('file-upload-input'),worksheetTab=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x94d)),worksheetInputArea=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x829)),generateWorksheetBtn=document[_0x1d88bf(0x9bf)]('generate-worksheet-btn'),studentInitialView=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xbc4)),studentNameSelectionView=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xb0d)),studentQuizArea=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x7f2)),studentResultArea=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x38f)),studentReadingArea=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x271)),loadQuizBtn=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x837)),startQuizBtn=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xc0f)),studentJoinGameView=document[_0x1d88bf(0x9bf)]('student-join-game-view'),presentationModal=document['getElementById'](_0x1d88bf(0x812)),renameQuizModal=document[_0x1d88bf(0x9bf)]('rename-quiz-modal'),moveQuizModal=document[_0x1d88bf(0x9bf)](_0x1d88bf(0x5d4)),quizSettingsModal=document[_0x1d88bf(0x9bf)](_0x1d88bf(0xbe8)),quizStatusModal=document['getElementById']('quiz-status-modal'),liveGameView=document['getElementById']('live-game-view');function handleFixLessonLatex(){const _0x462672=_0x1d88bf,_0x4d8e51=document['getElementById'](_0x462672(0x37e));if(!_0x4d8e51){showMessage(_0x462672(0x475));return;}const _0x186647=_0x4d8e51[_0x462672(0x468)](['.ai-content\x20p',_0x462672(0x666),'.ai-content\x20blockquote',_0x462672(0xa0a),_0x462672(0x6a6)][_0x462672(0x77f)](','));let _0x447425=0x0;const _0x4d3c4c=_0x1ef854=>_0x1ef854[_0x462672(0xa9a)]||'',_0x10e64b=(_0x21bf4c,_0x5693b0)=>{const _0x186475=_0x462672;if(_0x21bf4c[_0x186475(0x583)]&&_0x21bf4c[_0x186475(0x583)](_0x186475(0x980)))return;_0x21bf4c[_0x186475(0xa9a)]=_0x5693b0;},_0x1a43e0=_0x438b18=>_0x438b18[_0x462672(0xad8)](/\u00A0/g,'\x20')[_0x462672(0xad8)](/\u200B/g,'')[_0x462672(0xad8)](/\r\n?/g,'\x0a'),_0x15958d=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x29196d=_0x504000=>{const _0x591111=_0x462672;let _0x6c0dde=_0x504000[_0x591111(0xb22)]();const _0x1df52f=[_0x591111(0x4e8),'dfrac',_0x591111(0xa2d),_0x591111(0x4c3),'text',_0x591111(0x957),_0x591111(0xb97),_0x591111(0xbf5),'leq',_0x591111(0xc19),'le','ge',_0x591111(0x63b),'pm',_0x591111(0xbff),_0x591111(0x6af),_0x591111(0xcf5),'tan','log','ln','sum','prod',_0x591111(0x1af),_0x591111(0xb2e),_0x591111(0x9a7),'overline',_0x591111(0x84d),_0x591111(0x4c1),'deg'];_0x1df52f[_0x591111(0xb2a)](_0x26b69d=>{const _0x31417f=_0x591111;_0x6c0dde=_0x6c0dde[_0x31417f(0xad8)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x26b69d+'\x5cb','g'),(_0x6b1731,_0x165860)=>_0x165860+'\x5c'+_0x26b69d);});const _0x3374e1=[[/×/g,_0x591111(0x99b)],[/·/g,_0x591111(0x323)],[/÷/g,_0x591111(0x981)],[/≤/g,_0x591111(0xbf1)],[/≥/g,_0x591111(0x389)],[/≠/g,_0x591111(0x611)],[/±/g,_0x591111(0x9b1)],[/∑/g,_0x591111(0x698)],[/−/g,'-']];return _0x3374e1[_0x591111(0xb2a)](([_0x452053,_0x5968ef])=>{_0x6c0dde=_0x6c0dde['replace'](_0x452053,_0x5968ef);}),_0x6c0dde=_0x6c0dde[_0x591111(0xad8)](/√\s*([A-Za-z0-9]+)/g,_0x591111(0xc79)),_0x6c0dde=_0x6c0dde[_0x591111(0xad8)](/(\d+)\s*%/g,_0x591111(0xc47)),_0x6c0dde;},_0x2246e5=_0x549978=>{const _0x19078c=_0x462672;if(/\$|\\\(|\\\[/['test'](_0x549978))return _0x549978;if(!_0x15958d['test'](_0x549978))return _0x549978;const _0x2b7dea=_0x549978['match'](/^\s*/)[0x0],_0x2fc15c=_0x549978[_0x19078c(0x212)](/\s*$/)[0x0],_0x29f73b=_0x549978[_0x19078c(0xb22)]();return _0x2b7dea+'$'+_0x29196d(_0x29f73b)+'$'+_0x2fc15c;};_0x186647[_0x462672(0xb2a)](_0x12c2c3=>{const _0x2534f6=_0x462672,_0x1f77fd=_0x4d3c4c(_0x12c2c3);let _0x333c3c=_0x1a43e0(_0x1f77fd);_0x333c3c=_0x333c3c[_0x2534f6(0xad8)](/\$([^$]*?)\$/g,(_0x34878e,_0x261ca3)=>'$'+_0x29196d(_0x261ca3)+'$');const _0x2bd6c8=_0x333c3c['split'](/(\s+)/),_0x1c8825=_0x2bd6c8[_0x2534f6(0x2b5)](_0x345416=>{const _0x10e8dd=_0x2534f6;if(/\s+/[_0x10e8dd(0xc95)](_0x345416))return _0x345416;return _0x2246e5(_0x345416);});_0x333c3c=_0x1c8825[_0x2534f6(0x77f)](''),_0x333c3c!==_0x1f77fd&&(_0x10e64b(_0x12c2c3,_0x333c3c),_0x447425++);});if(_0x447425>0x0){showMessage(_0x462672(0x7ab)+_0x447425+_0x462672(0x623));try{window['MathJax']&&MathJax[_0x462672(0xa7b)]&&MathJax[_0x462672(0xa7b)]([_0x4d8e51]);}catch(_0x49a1ac){console['error'](_0x462672(0x7d9),_0x49a1ac);}}else showMessage(_0x462672(0x3e7));}function handleAutoFixLatex(){const _0x1b018f=_0x1d88bf,_0x57b1f6=document[_0x1b018f(0x9bf)](_0x1b018f(0x878))||document,_0x4a92b6=_0x57b1f6[_0x1b018f(0x468)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x31d2ca=0x0;const _0x5eba62=_0x3d9647=>_0x1b018f(0xb00)in _0x3d9647?String(_0x3d9647[_0x1b018f(0xb00)]):_0x3d9647['innerText']!==undefined?_0x3d9647[_0x1b018f(0x603)]:_0x3d9647[_0x1b018f(0xa9a)]||'',_0x2658ea=(_0x46328a,_0x562ec8)=>{const _0x1bb553=_0x1b018f;if(_0x1bb553(0xb00)in _0x46328a){_0x46328a[_0x1bb553(0xb00)]=_0x562ec8;return;}if(_0x46328a[_0x1bb553(0x583)]&&_0x46328a['querySelector'](_0x1bb553(0x980)))return;if(_0x46328a[_0x1bb553(0x603)]!==undefined)_0x46328a['innerText']=_0x562ec8;else _0x46328a[_0x1bb553(0xa9a)]=_0x562ec8;},_0x2c4cb3=_0x3df317=>_0x3df317[_0x1b018f(0xad8)](/\u00A0/g,'\x20')[_0x1b018f(0xad8)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x233bcb=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x20fef6=_0xc0b4b2=>{const _0xc444d8=_0x1b018f;let _0x55ebd6=_0xc0b4b2['trim']();_0x55ebd6=_0x55ebd6[_0xc444d8(0xad8)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0xc444d8(0x2d4)),_0x55ebd6=_0x55ebd6[_0xc444d8(0xad8)](/\bfrac(\d)(\d)/g,_0xc444d8(0x2d4));const _0x17d6d6=[_0xc444d8(0x4e8),'sqrt',_0xc444d8(0x957),_0xc444d8(0xb97),_0xc444d8(0xbf5),'leq','geq','neq','pm','sin',_0xc444d8(0xcf5),'tan',_0xc444d8(0xc30),'ln'];_0x17d6d6['forEach'](_0x3bb094=>{const _0x3b5b48=_0xc444d8;_0x55ebd6=_0x55ebd6[_0x3b5b48(0xad8)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3bb094+'\x5cb','g'),(_0x367873,_0x52eb40)=>_0x52eb40+'\x5c'+_0x3bb094);});const _0x2322a5=[[/×/g,_0xc444d8(0x99b)],[/·/g,_0xc444d8(0x323)],[/÷/g,'\x5cdiv'],[/≤/g,_0xc444d8(0xbf1)],[/≥/g,_0xc444d8(0x389)],[/≠/g,_0xc444d8(0x611)],[/±/g,_0xc444d8(0x9b1)]];return _0x2322a5[_0xc444d8(0xb2a)](([_0x42e080,_0x1bf790])=>{_0x55ebd6=_0x55ebd6['replace'](_0x42e080,_0x1bf790);}),_0x55ebd6;},_0x467793=_0x2233a5=>{const _0x5a76b5=_0x1b018f;if(/\$|\\\(|\\\[/[_0x5a76b5(0xc95)](_0x2233a5))return _0x2233a5;if(!_0x233bcb[_0x5a76b5(0xc95)](_0x2233a5))return _0x2233a5;const _0x3b5b8c=_0x2233a5[_0x5a76b5(0x212)](/^\s*/)[0x0],_0x3f61d9=_0x2233a5['match'](/\s*$/)[0x0],_0x7bee4b=_0x2233a5[_0x5a76b5(0xb22)]();return _0x3b5b8c+'$'+_0x20fef6(_0x7bee4b)+'$'+_0x3f61d9;};_0x4a92b6[_0x1b018f(0xb2a)](_0x4654f9=>{const _0x39c9f6=_0x1b018f,_0x403219=_0x5eba62(_0x4654f9);let _0x37c622=_0x2c4cb3(_0x403219);_0x37c622=_0x37c622[_0x39c9f6(0xad8)](/\$([^$]*?)\$/g,(_0x326dbc,_0x1e6577)=>'$'+_0x20fef6(_0x1e6577)+'$');const _0x2478ae=_0x37c622[_0x39c9f6(0xb46)](/(\s+)/),_0x3e771a=_0x2478ae[_0x39c9f6(0x2b5)](_0x2a15bf=>/\s+/['test'](_0x2a15bf)?_0x2a15bf:_0x467793(_0x2a15bf));_0x37c622=_0x3e771a[_0x39c9f6(0x77f)](''),_0x37c622!==_0x403219&&(_0x2658ea(_0x4654f9,_0x37c622),_0x31d2ca++);});if(_0x31d2ca>0x0){showMessage(_0x1b018f(0x841)+_0x31d2ca+_0x1b018f(0x9b9));try{if(window['MathJax']&&MathJax[_0x1b018f(0xa7b)])MathJax[_0x1b018f(0xa7b)]();}catch(_0x592da4){}}else showMessage(_0x1b018f(0x469));}async function listenForCustomMathTopics(){const _0x521dc4=_0x1d88bf,_0x5b8651=collection(db,_0x521dc4(0x30c)+appId+'/public/data/customMathTopics');onSnapshot(_0x5b8651,_0x46d613=>{const _0x3d7497=_0x521dc4;customMathTopics=_0x46d613['docs'][_0x3d7497(0x2b5)](_0x338012=>({'id':_0x338012['id'],..._0x338012[_0x3d7497(0x7bb)]()})),renderTopicCheckboxes();},_0x2b6455=>{const _0x1f6ab6=_0x521dc4;console['error'](_0x1f6ab6(0xc56),_0x2b6455);});}function handleSelectAllTopics(){const _0x575026=_0x1d88bf,_0x54ba6c=document[_0x575026(0x9bf)](_0x575026(0x39c)),_0x2428bd=_0x54ba6c[_0x575026(0x468)]('input[type=\x22checkbox\x22]');_0x2428bd[_0x575026(0xb2a)](_0xeb2251=>{const _0x120143=_0x575026;_0xeb2251[_0x120143(0xc13)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x5a6c49=_0x1d88bf,_0x4d3194=document['getElementById'](_0x5a6c49(0x39c)),_0x5b241a=_0x4d3194['querySelectorAll'](_0x5a6c49(0xcd3));_0x5b241a[_0x5a6c49(0xb2a)](_0xa18b6f=>{const _0xb4c5e4=_0x5a6c49;_0xa18b6f[_0xb4c5e4(0xc13)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4c96e0){const _0x50acec=_0x1d88bf;if(!_0x4c96e0)return;try{const _0x92600c=doc(db,_0x50acec(0x30c)+appId+_0x50acec(0x548),_0x4c96e0);await deleteDoc(_0x92600c),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x4cde00){console['error'](_0x50acec(0x3d6),_0x4cde00),showMessage(_0x50acec(0x447));}}async function handleAddCustomMathTopic(){const _0x454858=_0x1d88bf,_0x524666=document[_0x454858(0x9bf)](_0x454858(0xab0)),_0x5651c7=_0x524666[_0x454858(0xb00)][_0x454858(0xb22)]();if(!_0x5651c7){showMessage(_0x454858(0x737));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x367d74=collection(db,_0x454858(0x30c)+appId+_0x454858(0x548));await addDoc(_0x367d74,{'name':_0x5651c7,'createdAt':serverTimestamp()}),_0x524666['value']='',showMessage(_0x454858(0x9eb)+_0x5651c7+_0x454858(0x4c8));}catch(_0x38f9b5){console[_0x454858(0x56e)](_0x454858(0x1b4),_0x38f9b5),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x1a4c6b=_0x1d88bf;showConfirmation(_0x1a4c6b(0x6f1),async()=>{const _0x3f1934=_0x1a4c6b,_0x4102d2=document['getElementById']('loader'),_0x397a8d=document[_0x3f1934(0x9bf)](_0x3f1934(0xc09)),_0x2e9059=_0x397a8d[_0x3f1934(0xa9a)];_0x4102d2[_0x3f1934(0x5a7)]['remove'](_0x3f1934(0x8da)),_0x397a8d[_0x3f1934(0xa9a)]=_0x3f1934(0x98b);try{const _0x148907=collection(db,_0x3f1934(0x30c)+appId+_0x3f1934(0x289)),_0x44f272=await getDocs(_0x148907);if(_0x44f272['empty']){showMessage(_0x3f1934(0x9b3));return;}const _0x5cdcea=writeBatch(db);let _0x509b4e=0x0;_0x44f272[_0x3f1934(0xb2a)](_0x45391f=>{const _0x2396c9=_0x3f1934,_0x17ed32=_0x45391f['data'](),_0x39a782=_0x45391f['id'];if(_0x17ed32[_0x2396c9(0xcaf)]&&_0x17ed32[_0x2396c9(0xcaf)]['length']>0x0&&!_0x17ed32[_0x2396c9(0xcaf)][0x0][_0x2396c9(0xc8b)]('id')){console[_0x2396c9(0xc30)](_0x2396c9(0x732)+_0x39a782+'\x20('+_0x17ed32[_0x2396c9(0x6f8)]+')'),_0x509b4e++;const _0x582ecf=_0x17ed32[_0x2396c9(0xcaf)][_0x2396c9(0x2b5)]((_0x2bbf67,_0x3988f2)=>{const _0x50e496=_0x2396c9;return{..._0x2bbf67,'id':_0x2bbf67['id']||'q_'+Date[_0x50e496(0x49e)]()+'_'+_0x39a782+'_'+_0x3988f2};}),_0x1d5e5c=doc(db,_0x2396c9(0x30c)+appId+_0x2396c9(0x289),_0x39a782);_0x5cdcea['update'](_0x1d5e5c,{'questions':_0x582ecf});}}),_0x509b4e>0x0?(_0x397a8d[_0x3f1934(0xa9a)]=_0x3f1934(0x581)+_0x509b4e+_0x3f1934(0x324),await _0x5cdcea[_0x3f1934(0x80a)](),showMessage(_0x3f1934(0x7b8)+_0x509b4e+'\x20รายการสำเร็จ!')):showMessage(_0x3f1934(0x78a));}catch(_0x5056b2){console[_0x3f1934(0x56e)](_0x3f1934(0xc7b),_0x5056b2),showMessage(_0x3f1934(0xba1)+_0x5056b2[_0x3f1934(0x68b)]);}finally{_0x4102d2[_0x3f1934(0x5a7)]['add'](_0x3f1934(0x8da)),_0x397a8d[_0x3f1934(0xa9a)]=_0x2e9059;}});}async function handleBulkUpdateQuizSettings(){const _0x476e7a=_0x1d88bf,_0x2fc0d4={'shuffle':document[_0x476e7a(0x9bf)]('bulk-shuffle-select')['value'],'resultsDisplay':document[_0x476e7a(0x9bf)]('bulk-results-display-select')[_0x476e7a(0xb00)],'loopUntilPass':document[_0x476e7a(0x9bf)](_0x476e7a(0xcbf))[_0x476e7a(0xc13)],'isConfidenceScoringEnabled':document[_0x476e7a(0x9bf)](_0x476e7a(0x8f7))['checked'],'confidenceMode':document[_0x476e7a(0x9bf)](_0x476e7a(0xafa))[_0x476e7a(0xb00)]};try{showMessage(_0x476e7a(0xc84));const _0x46b40f=await getDocs(collection(db,_0x476e7a(0x30c)+appId+_0x476e7a(0x289))),_0x141815=_0x46b40f[_0x476e7a(0xa78)][_0x476e7a(0x2b5)](_0x1cf71b=>({'id':_0x1cf71b['id'],'data':_0x1cf71b[_0x476e7a(0x7bb)]()})),_0x397fe=_0x141815[_0x476e7a(0x9dc)];showConfirmation(_0x476e7a(0x391)+_0x397fe+_0x476e7a(0x2b0),async()=>{const _0x106308=_0x476e7a,_0x471c8d=document[_0x106308(0x9bf)]('confirm-bulk-quiz-settings-btn');_0x471c8d['disabled']=!![],_0x471c8d[_0x106308(0x6b3)]=_0x106308(0x8c6);try{const _0x595fd6=writeBatch(db);_0x141815[_0x106308(0xb2a)](_0x5c4067=>{const _0x3ca3ef=_0x106308,_0xf98bc6=doc(db,_0x3ca3ef(0x30c)+appId+_0x3ca3ef(0x289),_0x5c4067['id']),_0x1da650={..._0x5c4067[_0x3ca3ef(0x7bb)]['settings']||{},..._0x2fc0d4};_0x595fd6[_0x3ca3ef(0x293)](_0xf98bc6,{'settings':_0x1da650});}),await _0x595fd6[_0x106308(0x80a)](),document[_0x106308(0x9bf)](_0x106308(0x22c))[_0x106308(0x5a7)][_0x106308(0x3b1)](_0x106308(0x8da)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x397fe+'\x20ชุดสำเร็จ!');}catch(_0x509a44){console[_0x106308(0x56e)](_0x106308(0xb43),_0x509a44),showMessage(_0x106308(0x1d8));}finally{_0x471c8d['disabled']=![],_0x471c8d['innerHTML']='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x44f99e){console[_0x476e7a(0x56e)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x44f99e),showMessage(_0x476e7a(0x363));}}async function handleSaveProjectName(){const _0x524dc2=_0x1d88bf,_0xd076ee=document['getElementById'](_0x524dc2(0xc1d)),_0x569985=document[_0x524dc2(0x9bf)](_0x524dc2(0x4f2)),_0x5b6ce7=_0xd076ee[_0x524dc2(0xa9a)]['trim']();if(!_0x5b6ce7||!currentProjectId){showMessage(_0x524dc2(0x9e8)),_0xd076ee[_0x524dc2(0xa9a)]=currentProjectData[_0x524dc2(0x9e9)];return;}_0x569985[_0x524dc2(0x6d3)]=!![],_0x569985[_0x524dc2(0x6b3)]=_0x524dc2(0xb21);try{const _0x5b1cbd=doc(db,_0x524dc2(0x30c)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x5b1cbd,{'projectName':_0x5b6ce7}),currentProjectData&&(currentProjectData['projectName']=_0x5b6ce7),showMessage(_0x524dc2(0x5e9));}catch(_0x303148){console[_0x524dc2(0x56e)](_0x524dc2(0x359),_0x303148),showMessage(_0x524dc2(0x74d)),_0xd076ee[_0x524dc2(0xa9a)]=currentProjectData[_0x524dc2(0x9e9)];}finally{_0x569985['classList'][_0x524dc2(0x3b1)](_0x524dc2(0x8da)),_0x569985[_0x524dc2(0x6d3)]=![],_0x569985[_0x524dc2(0x6b3)]=_0x524dc2(0xb78);}}function handleGeneratePracticeTest(_0x3724ba,_0x569f91){const _0x1c5b11=_0x1d88bf,_0x32e754=document[_0x1c5b11(0x9bf)]('lesson-view-modal'),_0x2b964b=document['getElementById']('lesson-view-title'),_0x54b54=document[_0x1c5b11(0x9bf)](_0x1c5b11(0xcf6)),_0xe02f81=document[_0x1c5b11(0x9bf)]('lesson-sections-container');_0x2b964b[_0x1c5b11(0xa9a)]=_0x1c5b11(0x21c)+_0x3724ba,_0xe02f81[_0x1c5b11(0x5a7)][_0x1c5b11(0x3b1)]('hidden'),_0x54b54[_0x1c5b11(0x5a7)]['remove']('hidden'),_0x32e754[_0x1c5b11(0x5a7)]['remove'](_0x1c5b11(0x8da)),generatePracticeTest(_0x3724ba,_0x569f91)[_0x1c5b11(0x3de)](_0x42beb4=>{const _0xb19acc=_0x1c5b11;console[_0xb19acc(0x56e)](_0xb19acc(0x1ad),_0x42beb4),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x32e754[_0xb19acc(0x5a7)][_0xb19acc(0x3b1)](_0xb19acc(0x8da));});}async function generatePracticeTest(_0x283cc9,_0x1ca249){const _0x116129=_0x1d88bf;[_0x116129(0x3a8),'memoryContent',_0x116129(0x7fb),_0x116129(0x364)]['forEach'](_0x1d5f0f=>{const _0x49e14a=_0x116129,_0x3fa47d=document[_0x49e14a(0x9bf)](_0x1d5f0f)[_0x49e14a(0x53a)];_0x3fa47d&&(_0x3fa47d[_0x49e14a(0x641)]['display']=_0x49e14a(0x44e));});try{const _0x35c46f=_0x116129(0x636),_0x43bb6f=_0x116129(0x33c)+_0x1ca249+_0x116129(0x1ab)+_0x283cc9+_0x116129(0x735),_0x1e8653=await callGemini(_0x43bb6f,!![]),_0x293de8=document[_0x116129(0x9bf)](_0x116129(0x4c0)),_0x2c2c6b=document[_0x116129(0x9bf)](_0x116129(0xcf6)),_0x39d48e=document[_0x116129(0x9bf)](_0x116129(0xc18)),_0x257ae6=document[_0x116129(0x9bf)](_0x116129(0x7fb))[_0x116129(0x53a)];_0x293de8[_0x116129(0x603)]=_0x116129(0x9de)+_0x283cc9['replace'](/•\s/g,'')+_0x116129(0x2e0)+_0x1ca249+')',currentApplicationData=JSON['parse'](_0x1e8653);const _0x4acc9a=document[_0x116129(0x9bf)](_0x116129(0x7fb));_0x4acc9a[_0x116129(0x6b3)]=currentApplicationData[_0x116129(0x2b5)]((_0x2452ab,_0x3eb1b5)=>_0x116129(0x667)+(_0x3eb1b5+0x1)+'.\x20'+marked[_0x116129(0x477)](_0x2452ab[_0x116129(0x66d)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x3eb1b5+_0x116129(0x1fe)+_0x2452ab['options'][_0x116129(0x2b5)]((_0x28661f,_0x39418c)=>_0x116129(0xca8)+_0x3eb1b5+',\x20'+_0x39418c+_0x116129(0xceb)+String[_0x116129(0x465)](0x61+_0x39418c)+'.\x20'+marked[_0x116129(0x477)](_0x28661f)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x116129(0x326))[_0x116129(0x77f)](''),window['MathJax']&&MathJax[_0x116129(0xa7b)]([_0x4acc9a]),_0x257ae6&&(_0x257ae6[_0x116129(0x641)][_0x116129(0x585)]='block'),_0x2c2c6b[_0x116129(0x5a7)][_0x116129(0x3b1)]('hidden'),_0x39d48e[_0x116129(0x5a7)][_0x116129(0x2bd)](_0x116129(0x8da));}catch(_0x13786e){console['error'](_0x13786e);throw _0x13786e;}}async function callGemini(_0x2fa93c,_0x45bc72=![]){const _0x5a4266=_0x1d88bf,_0x1e1779=_0x5a4266(0xb13),_0x429fd1=_0x5a4266(0x6e0)+_0x1e1779,_0x108930={'contents':[{'parts':[{'text':_0x2fa93c}]}]};_0x45bc72&&(_0x108930[_0x5a4266(0xd03)]={'responseMimeType':_0x5a4266(0x5f3)},_0x2fa93c[_0x5a4266(0x3b4)]('Test\x20Blueprint')?_0x108930[_0x5a4266(0xd03)][_0x5a4266(0x269)]={'type':_0x5a4266(0xca7),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'sara':{'type':_0x5a4266(0x27b)},'mainTopics':{'type':_0x5a4266(0xaee),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x5a4266(0x27b)},'subTopics':{'type':_0x5a4266(0xaee),'items':{'type':_0x5a4266(0x27b)}}},'required':[_0x5a4266(0xaa1),'subTopics']}}},'required':[_0x5a4266(0xc24),_0x5a4266(0x848)]}}},'required':[_0x5a4266(0xc29),_0x5a4266(0x96f)]}:_0x108930['generationConfig'][_0x5a4266(0x269)]={'type':_0x5a4266(0xaee),'items':{'type':'OBJECT','properties':{'question':{'type':_0x5a4266(0x27b)},'options':{'type':'ARRAY','items':{'type':_0x5a4266(0x27b)}},'answer':{'type':_0x5a4266(0x76a)}},'required':[_0x5a4266(0x66d),_0x5a4266(0x69b),'answer']}});try{const _0x17ad40=await fetch(_0x429fd1,{'method':'POST','headers':{'Content-Type':_0x5a4266(0x5f3)},'body':JSON['stringify'](_0x108930)});if(!_0x17ad40['ok']){const _0x38ce56=await _0x17ad40[_0x5a4266(0xa95)]();console['error'](_0x5a4266(0xa06),_0x38ce56);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x17ad40['status']);}const _0x500bc5=await _0x17ad40['json']();if(_0x500bc5[_0x5a4266(0x877)]&&_0x500bc5[_0x5a4266(0x877)][0x0][_0x5a4266(0x34e)]&&_0x500bc5[_0x5a4266(0x877)][0x0][_0x5a4266(0x34e)]['parts'][0x0])return _0x500bc5['candidates'][0x0][_0x5a4266(0x34e)]['parts'][0x0]['text'];else{console[_0x5a4266(0x56e)](_0x5a4266(0x87e),_0x500bc5);if(_0x500bc5['candidates']&&_0x500bc5[_0x5a4266(0x877)][0x0]['finishReason']===_0x5a4266(0x513))return JSON['stringify']({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error(_0x5a4266(0x330));}}catch(_0x45f643){console[_0x5a4266(0x56e)](_0x5a4266(0x4fc),_0x45f643);throw _0x45f643;}}async function generateLesson(_0x149b1b=null,_0x36696b=null){const _0x53aa59=_0x1d88bf,_0x18aeaa=_0x149b1b,_0x580018=_0x36696b||_0x53aa59(0x7ea),_0x23c873=document[_0x53aa59(0x9bf)](_0x53aa59(0xcf6)),_0x28e2b2=document['getElementById']('lesson-loader-text');_0x28e2b2[_0x53aa59(0xa9a)]=_0x53aa59(0x1c1)+_0x18aeaa+_0x53aa59(0xc7d);try{const _0x19671f=_0x53aa59(0x428),_0x530a55=_0x53aa59(0x984)+_0x580018+_0x53aa59(0x1ab)+_0x18aeaa+'\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20'+_0x19671f+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x2c0e32=_0x53aa59(0xcdf)+_0x18aeaa+_0x53aa59(0x89a)+_0x580018+_0x53aa59(0x214)+_0x19671f+_0x53aa59(0x9e2),_0x14db6f=_0x53aa59(0x33c)+_0x580018+_0x53aa59(0x1ab)+_0x18aeaa+_0x53aa59(0x584),_0x4b3116=_0x53aa59(0x4a3)+_0x18aeaa+_0x53aa59(0x7f0)+_0x580018+_0x53aa59(0xc69)+_0x19671f+_0x53aa59(0x340),[_0x526320,_0x120981,_0x4515f3,_0x397952]=await Promise[_0x53aa59(0x875)]([callGemini(_0x530a55),callGemini(_0x2c0e32),callGemini(_0x14db6f,!![]),callGemini(_0x4b3116)]),_0x17e4d2=document['getElementById'](_0x53aa59(0x4c0)),_0x46e5e2=document[_0x53aa59(0x9bf)](_0x53aa59(0xc18));_0x17e4d2[_0x53aa59(0x603)]='บทเรียนเรื่อง:\x20'+_0x18aeaa['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x580018+')',[_0x53aa59(0x3a8),'memoryContent',_0x53aa59(0x364)][_0x53aa59(0xb2a)](_0x2d29f5=>{const _0xec5c89=_0x53aa59;document[_0xec5c89(0x9bf)](_0x2d29f5)[_0xec5c89(0x6b3)]='';}),document[_0x53aa59(0x9bf)](_0x53aa59(0x3a8))[_0x53aa59(0x6b3)]=marked[_0x53aa59(0x784)](_0x526320),document[_0x53aa59(0x9bf)](_0x53aa59(0x746))[_0x53aa59(0x6b3)]=marked['parse'](_0x120981),document[_0x53aa59(0x9bf)](_0x53aa59(0x364))[_0x53aa59(0x6b3)]=marked['parse'](_0x397952),currentApplicationData=JSON['parse'](_0x4515f3);const _0x496d02=document['getElementById'](_0x53aa59(0x7fb));_0x496d02[_0x53aa59(0x6b3)]=currentApplicationData[_0x53aa59(0x2b5)]((_0x25bfc3,_0x2941c6)=>_0x53aa59(0x667)+(_0x2941c6+0x1)+'.\x20'+marked['parseInline'](_0x25bfc3[_0x53aa59(0x66d)])+_0x53aa59(0xcd7)+_0x2941c6+_0x53aa59(0x1fe)+_0x25bfc3['options']['map']((_0x549079,_0x1989d6)=>_0x53aa59(0xca8)+_0x2941c6+',\x20'+_0x1989d6+_0x53aa59(0xceb)+String[_0x53aa59(0x465)](0x61+_0x1989d6)+'.\x20'+marked[_0x53aa59(0x477)](_0x549079)+_0x53aa59(0x45a))[_0x53aa59(0x77f)]('')+_0x53aa59(0x326))[_0x53aa59(0x77f)](''),window['MathJax']&&MathJax[_0x53aa59(0xa7b)]([_0x46e5e2]),_0x23c873[_0x53aa59(0x5a7)][_0x53aa59(0x3b1)](_0x53aa59(0x8da)),_0x46e5e2[_0x53aa59(0x5a7)][_0x53aa59(0x2bd)]('hidden');}catch(_0x2c9f4c){console[_0x53aa59(0x56e)](_0x2c9f4c);throw _0x2c9f4c;}finally{}}function checkAnswer(_0xe9f3d0,_0x5efba3){const _0x58ee93=_0x1d88bf,_0x2c96bd=currentApplicationData[_0xe9f3d0],_0x1dc639=document[_0x58ee93(0x9bf)]('q'+_0xe9f3d0+'-options'),_0x1e4ab4=_0x1dc639['getElementsByTagName']('button');for(let _0x8c1302 of _0x1e4ab4){_0x8c1302['disabled']=!![];}_0x5efba3===_0x2c96bd[_0x58ee93(0x5be)]?_0x1e4ab4[_0x5efba3]['classList'][_0x58ee93(0x3b1)](_0x58ee93(0xccc)):(_0x1e4ab4[_0x5efba3][_0x58ee93(0x5a7)][_0x58ee93(0x3b1)](_0x58ee93(0x601)),_0x1e4ab4[_0x2c96bd[_0x58ee93(0x5be)]][_0x58ee93(0x5a7)][_0x58ee93(0x3b1)](_0x58ee93(0xccc)));}window[_0x1d88bf(0x2c6)]=handleGenerateAndShowLesson,window[_0x1d88bf(0x514)]=checkAnswer,window[_0x1d88bf(0x59a)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x592fd1=_0x1d88bf;try{const _0x5cd713=initializeApp(firebaseConfig);db=getFirestore(_0x5cd713),auth=getAuth(_0x5cd713),setupAuthListener(),setupEventListeners(),showView(_0x592fd1(0x655)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x40728c){console[_0x592fd1(0x56e)](_0x592fd1(0x486),_0x40728c),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x5ad09b=_0x1d88bf,_0x368321=document[_0x5ad09b(0x9bf)]('quiz-editor-modal');if(!_0x368321)return;const _0xb3b6fd=document['getElementById']('verify-answers-editor-btn');_0xb3b6fd[_0x5ad09b(0x6d3)]=!![],_0xb3b6fd[_0x5ad09b(0x6b3)]=_0x5ad09b(0x52a);try{const _0x130af5=_0x368321[_0x5ad09b(0x468)](_0x5ad09b(0x9ad)),_0x38959e=Array['from'](_0x130af5)[_0x5ad09b(0x2b5)]((_0x574e78,_0x1edf66)=>{const _0x228818=_0x5ad09b,_0x38c59c=_0x574e78['dataset']['qType'],_0x4dda7f=_0x574e78[_0x228818(0x583)](_0x228818(0x1e8))[_0x228818(0xb00)];let _0x5d24c1=null,_0x8a494d='';switch(_0x38c59c){case _0x228818(0xa01):const _0x21805c=_0x574e78[_0x228818(0x468)](_0x228818(0x264));_0x5d24c1=Array[_0x228818(0x788)](_0x21805c)[_0x228818(0x2b5)](_0x1b58b2=>_0x1b58b2[_0x228818(0xb00)]);const _0x2e0c3d=_0x574e78[_0x228818(0x583)]('input[type=\x22radio\x22]:checked');_0x2e0c3d&&(_0x8a494d=_0x5d24c1[parseInt(_0x2e0c3d[_0x228818(0xb00)])]);break;case _0x228818(0x7ff):_0x8a494d=_0x574e78[_0x228818(0x583)](_0x228818(0x2c7))[_0x228818(0xb00)];break;case _0x228818(0x9c3):const _0x2938d5=_0x574e78[_0x228818(0x583)](_0x228818(0x3be));_0x8a494d=_0x2938d5?_0x2938d5[_0x228818(0xb00)]:'';break;case _0x228818(0x8ad):_0x8a494d=_0x574e78[_0x228818(0x583)](_0x228818(0x4c4))[_0x228818(0xb00)];break;}return{'question':_0x4dda7f,'options':_0x5d24c1,'proposedAnswer':_0x8a494d};}),_0x2d9dea=_0x5ad09b(0x890)+JSON[_0x5ad09b(0xa43)](_0x38959e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x367faf={'type':_0x5ad09b(0xaee),'items':{'type':_0x5ad09b(0xca7),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x5ad09b(0x27b)}},'required':[_0x5ad09b(0x47d),_0x5ad09b(0x23a),_0x5ad09b(0x5ef)]}},_0x4f24c9=await callAnalysisApi(_0x2d9dea,{'type':_0x5ad09b(0xca7),'properties':{'result':_0x367faf},'required':['result']});displayVerificationResultsInEditor(_0x4f24c9[_0x5ad09b(0x618)]);}catch(_0x4367d0){console['error'](_0x5ad09b(0xcef),_0x4367d0),showMessage(_0x5ad09b(0xced));}finally{_0xb3b6fd[_0x5ad09b(0x6d3)]=![],_0xb3b6fd[_0x5ad09b(0x6b3)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x3450ae){const _0x3944bc=_0x1d88bf;_0x3450ae[_0x3944bc(0xb2a)](_0x1cf503=>{const _0x21d7f4=_0x3944bc,_0x267b88=document[_0x21d7f4(0x583)](_0x21d7f4(0x474)+_0x1cf503['questionIndex']+'\x22]');if(!_0x267b88)return;const _0x5d638f=_0x267b88[_0x21d7f4(0x583)](_0x21d7f4(0x407));if(_0x5d638f)_0x5d638f[_0x21d7f4(0x2bd)]();let _0x471c5b='';if(_0x1cf503['isCorrect'])_0x471c5b=_0x21d7f4(0x55c);else{const _0x3bd967=_0x1cf503['suggestedAnswer']?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x471c5b=_0x21d7f4(0x660)+_0x3bd967+_0x21d7f4(0x50f)+_0x1cf503[_0x21d7f4(0x5ef)]+_0x21d7f4(0x210)+(_0x1cf503[_0x21d7f4(0x9a9)]?_0x21d7f4(0xa93)+_0x1cf503[_0x21d7f4(0x9a9)]+_0x21d7f4(0xbab):'')+_0x21d7f4(0x386);}_0x267b88[_0x21d7f4(0x24b)](_0x21d7f4(0x7e6),_0x471c5b);if(!_0x1cf503['isCorrect']&&_0x1cf503[_0x21d7f4(0x9a9)]){const _0x5d1d0c=_0x267b88[_0x21d7f4(0xc05)][_0x21d7f4(0x7b1)],_0x1f6b51=_0x3b494d=>{const _0xc6cb11=_0x21d7f4;if(!_0x3b494d)return;_0x3b494d[_0xc6cb11(0x5a7)][_0xc6cb11(0x3b1)](_0xc6cb11(0x281),_0xc6cb11(0x435),_0xc6cb11(0x5f6)),setTimeout(()=>{const _0x55c17b=_0xc6cb11;_0x3b494d[_0x55c17b(0x5a7)]['remove'](_0x55c17b(0x281));},0x9c4);};if(_0x5d1d0c===_0x21d7f4(0xa01)){const _0x1c6d81=Array[_0x21d7f4(0x788)](_0x267b88[_0x21d7f4(0x468)](_0x21d7f4(0x264))),_0x16174d=_0x1c6d81[_0x21d7f4(0x8e1)](_0x599ebf=>_0x599ebf['value'][_0x21d7f4(0xb22)]()[_0x21d7f4(0xbb3)]()===_0x1cf503[_0x21d7f4(0x9a9)][_0x21d7f4(0xb22)]()[_0x21d7f4(0xbb3)]());if(_0x16174d!==-0x1){const _0x13a7bd=_0x267b88['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x16174d+'\x22]');_0x13a7bd&&(_0x13a7bd[_0x21d7f4(0xc13)]=!![],_0x1f6b51(_0x13a7bd['closest']('div')));}}else{if(_0x5d1d0c==='short_answer'||_0x5d1d0c==='matching_item'){const _0x3979ba=_0x267b88[_0x21d7f4(0x583)](_0x21d7f4(0x2a4));_0x3979ba&&(_0x3979ba[_0x21d7f4(0xb00)]=_0x1cf503[_0x21d7f4(0x9a9)],_0x1f6b51(_0x3979ba));}else{if(_0x5d1d0c===_0x21d7f4(0x9c3)){const _0x9d3867=_0x1cf503[_0x21d7f4(0x9a9)][_0x21d7f4(0xb22)]()['toLowerCase'](),_0x4a874d=_0x267b88[_0x21d7f4(0x583)](_0x21d7f4(0xad4)+_0x9d3867+'\x22]');_0x4a874d&&(_0x4a874d[_0x21d7f4(0xc13)]=!![],_0x1f6b51(_0x4a874d['closest'](_0x21d7f4(0xbf5))));}}}}}),showMessage(_0x3944bc(0x78f));}async function handleVerifyAnswers(){const _0x5e1f22=_0x1d88bf;if(!currentQuizData||!currentQuizData[_0x5e1f22(0xcaf)]){showMessage(_0x5e1f22(0xada));return;}const _0x41c318=document['getElementById']('verify-answers-btn');_0x41c318[_0x5e1f22(0x6d3)]=!![],_0x41c318[_0x5e1f22(0x6b3)]=_0x5e1f22(0x52a);try{const _0x3f8141=currentQuizData['questions'][_0x5e1f22(0x2b5)]((_0x1138a6,_0x3933b3)=>{const _0xb62a0b=_0x5e1f22;let _0x8416ea='';const _0x1099a8=_0x1138a6[_0xb62a0b(0xa42)]||currentQuizData[_0xb62a0b(0x854)];switch(_0x1099a8){case'multiple_choice':_0x8416ea=_0x1138a6[_0xb62a0b(0x69b)][_0x1138a6[_0xb62a0b(0xcf3)]];break;case'short_answer':_0x8416ea=_0x1138a6[_0xb62a0b(0x549)];break;case _0xb62a0b(0x9c3):_0x8416ea=_0x1138a6[_0xb62a0b(0x661)][_0xb62a0b(0xce7)]();break;case _0xb62a0b(0x8ad):_0x8416ea=_0x1138a6[_0xb62a0b(0x1db)];break;}return{'question':_0x1138a6[_0xb62a0b(0xc5b)]||_0x1138a6['questionText'],'options':_0x1138a6['options']||null,'proposedAnswer':_0x8416ea};}),_0x319353='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x3f8141)+_0x5e1f22(0xc17),_0x8a1cf1={'type':'ARRAY','items':{'type':_0x5e1f22(0xca7),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x5e1f22(0x5a0)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x5e1f22(0x27b)}},'required':[_0x5e1f22(0x47d),_0x5e1f22(0x23a),_0x5e1f22(0x5ef)]}},_0xba2a9e=await callAnalysisApi(_0x319353,{'type':_0x5e1f22(0xca7),'properties':{'result':_0x8a1cf1},'required':[_0x5e1f22(0x618)]});displayVerificationResults(_0xba2a9e[_0x5e1f22(0x618)]);}catch(_0x3c3164){console[_0x5e1f22(0x56e)](_0x5e1f22(0x736),_0x3c3164),showMessage(_0x5e1f22(0xced));}finally{_0x41c318['disabled']=![],_0x41c318['innerHTML']=_0x5e1f22(0x298);}}function displayVerificationResults(_0x448de5){const _0x2011cb=_0x1d88bf;_0x448de5['forEach'](_0x15e226=>{const _0x226fa6=_0x5713,_0x3c3703=document['querySelector'](_0x226fa6(0xabe)+_0x15e226[_0x226fa6(0x47d)]+'\x22]');if(_0x3c3703){const _0x49738d=_0x3c3703['querySelector'](_0x226fa6(0x42e));if(_0x49738d)_0x49738d[_0x226fa6(0x2bd)]();let _0x3d08c4='';_0x15e226[_0x226fa6(0x23a)]?_0x3d08c4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3d08c4=_0x226fa6(0xa86)+_0x15e226[_0x226fa6(0x5ef)]+_0x226fa6(0xacc)+(_0x15e226[_0x226fa6(0x9a9)]?_0x226fa6(0xa93)+_0x15e226['suggestedAnswer']+_0x226fa6(0xbab):'')+_0x226fa6(0x1ef),_0x3c3703[_0x226fa6(0x24b)](_0x226fa6(0x7e6),_0x3d08c4);}}),showMessage(_0x2011cb(0x78f));}function compareNumericalAnswers(_0x22fad6,_0x4bc50b){const _0x2cd20d=_0x1d88bf,_0xbc15a2=String(_0x22fad6)[_0x2cd20d(0xad8)](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x3d92ec=String(_0x4bc50b)[_0x2cd20d(0xad8)](',','.')[_0x2cd20d(0xad8)](/[^\d.-]/g,'')[_0x2cd20d(0xb22)]();if(_0xbc15a2===''||_0x3d92ec==='')return![];const _0x2c96d7=parseFloat(_0xbc15a2),_0x577b85=parseFloat(_0x3d92ec);if(isNaN(_0x2c96d7)||isNaN(_0x577b85))return![];return Math[_0x2cd20d(0xb47)](_0x2c96d7-_0x577b85)<0.001;}function isPotentiallyNumeric(_0x51ffc3){const _0x33ab3b=_0x1d88bf;if(typeof _0x51ffc3!==_0x33ab3b(0x267)&&typeof _0x51ffc3!==_0x33ab3b(0x9d1))return![];const _0x2f7fff=String(_0x51ffc3)[_0x33ab3b(0xad8)](',','.')[_0x33ab3b(0xb22)]();return _0x2f7fff!==''&&!isNaN(parseFloat(_0x2f7fff))&&isFinite(_0x2f7fff);}async function gradeShortAnswer(_0x1ba1d1,_0x29b018){const _0x42575d=_0x1d88bf,_0x575b39=_0x29b018[_0x42575d(0x549)],_0x471071=String(_0x1ba1d1)[_0x42575d(0xad8)](/\$/g,'')[_0x42575d(0xb22)](),_0x303e65=String(_0x575b39)[_0x42575d(0xad8)](/\$/g,'')[_0x42575d(0xb22)]();if(_0x471071['toLowerCase']()===_0x303e65[_0x42575d(0xbb3)]())return!![];if(isPotentiallyNumeric(_0x471071)&&isPotentiallyNumeric(_0x303e65)){if(compareNumericalAnswers(_0x471071,_0x303e65))return!![];}return console['log'](_0x42575d(0xba8)),await gradeShortAnswerWithAI(_0x1ba1d1,_0x575b39);}async function revealAnswerForAdmin(_0xbb6f3b,_0x476176){const _0x27d6d9=_0x1d88bf,_0x3f4ab2=doc(db,_0x27d6d9(0x30c)+appId+_0x27d6d9(0x9cd),currentLiveGameId);await updateDoc(_0x3f4ab2,{'questionStatus':_0x27d6d9(0x21f)});}function showTop5LeaderboardView(_0x521a65){const _0x164e46=_0x1d88bf,_0x5d49eb=Object[_0x164e46(0xce2)](_0x521a65['players']||{})[_0x164e46(0x408)](_0xa5843c=>_0xa5843c[_0x164e46(0x5e0)]===_0x164e46(0x53f));_0x5d49eb['sort']((_0x748052,_0x12eba5)=>_0x12eba5['score']-_0x748052[_0x164e46(0x847)]);const _0x43513d=_0x5d49eb['slice'](0x0,0x5),_0x36aa6c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43513d[_0x164e46(0x2b5)]((_0x1e28d4,_0xdf1cd3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0xdf1cd3+0x1)+'.\x20'+(_0x1e28d4['name']||Object[_0x164e46(0x70c)](_0x521a65[_0x164e46(0x373)])[_0x164e46(0x9c1)](_0x1ea022=>_0x521a65['players'][_0x1ea022]===_0x1e28d4))+_0x164e46(0xac6)+_0x1e28d4[_0x164e46(0x847)]+_0x164e46(0x237))[_0x164e46(0x77f)]('')+_0x164e46(0x7a9)+(_0x521a65[_0x164e46(0x463)]+0x1===currentQuizData['questions'][_0x164e46(0x9dc)]?_0x164e46(0x450):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x36aa6c,document[_0x164e46(0x9bf)](_0x164e46(0xae6))[_0x164e46(0x8c1)](_0x164e46(0x7c2),async()=>{const _0x2919a6=_0x164e46,_0x9ccb52=doc(db,_0x2919a6(0x30c)+appId+_0x2919a6(0x9cd),currentLiveGameId),_0x6ef4ed=_0x521a65['currentQuestionIndex']+0x1;if(_0x6ef4ed<currentQuizData['questions'][_0x2919a6(0x9dc)]){const _0x34e361={'currentQuestionIndex':_0x6ef4ed,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x2919a6(0x358)};Object['keys'](_0x521a65['players'])[_0x2919a6(0xb2a)](_0x4bda35=>{const _0x26468b=_0x2919a6;_0x34e361[_0x26468b(0x668)+_0x4bda35+_0x26468b(0x7e4)]=![];}),await updateDoc(_0x9ccb52,_0x34e361);}else await updateDoc(_0x9ccb52,{'status':_0x2919a6(0x21b)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x163061=>{const _0x3e27c3=_0x5713;if(_0x163061){userId=_0x163061[_0x3e27c3(0x68d)],userIdDisplay[_0x3e27c3(0xa9a)]=userId;const _0x4b8bb4=await loadUserPreferences();_0x4b8bb4[_0x3e27c3(0x41b)]&&(document[_0x3e27c3(0x9bf)](_0x3e27c3(0xa6c))[_0x3e27c3(0xb00)]=_0x4b8bb4[_0x3e27c3(0x41b)]);globalDashboardSettings['projectView']=_0x4b8bb4[_0x3e27c3(0x679)]||_0x3e27c3(0xce1);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x5346f8,_0x548ac6){const _0x3e6e8e=_0x1d88bf;if(!userId)return;try{const _0x1e0f9b=doc(db,_0x3e6e8e(0x30c)+appId+_0x3e6e8e(0xa54)+userId+'/preferences/main'),_0x1a4167={};_0x1a4167[_0x5346f8]=_0x548ac6,await setDoc(_0x1e0f9b,_0x1a4167,{'merge':!![]});}catch(_0x42ce1b){console[_0x3e6e8e(0x56e)](_0x3e6e8e(0x7be),_0x42ce1b);}}async function loadUserPreferences(){const _0xbe6610=_0x1d88bf;if(!userId)return{};try{const _0x4a1b44=doc(db,_0xbe6610(0x30c)+appId+_0xbe6610(0xa54)+userId+_0xbe6610(0xa18)),_0x463d91=await getDoc(_0x4a1b44);if(_0x463d91[_0xbe6610(0xb67)]())return _0x463d91[_0xbe6610(0x7bb)]();return{};}catch(_0x472d59){return console[_0xbe6610(0x56e)]('Error\x20loading\x20user\x20preferences:',_0x472d59),{};}}function parseIndentedBlueprint(_0x5d7c22){const _0x526a32=_0x1d88bf,_0x392511=_0x5d7c22[_0x526a32(0xb46)]('\x0a')[_0x526a32(0x408)](_0x2ed194=>_0x2ed194[_0x526a32(0xb22)]()!==''),_0xc734c3=[];let _0x15bd47=null,_0x55fb9f=null;return _0x392511['forEach'](_0x1911eb=>{const _0x256f0e=_0x526a32,_0x1be4a2=_0x1911eb[_0x256f0e(0x212)](/^\s*/)[0x0][_0x256f0e(0x9dc)],_0x1bf0ad=_0x1911eb[_0x256f0e(0xb22)]();if(_0x1be4a2===0x0)_0x15bd47={'sara':_0x1bf0ad,'mainTopics':[]},_0xc734c3[_0x256f0e(0x488)](_0x15bd47),_0x55fb9f=null;else{if(_0x1be4a2>0x0&&_0x1be4a2<0x8&&_0x15bd47)_0x55fb9f={'topicName':_0x1bf0ad,'subTopics':[]},_0x15bd47[_0x256f0e(0x848)][_0x256f0e(0x488)](_0x55fb9f);else _0x1be4a2>=0x8&&_0x55fb9f&&_0x55fb9f['subTopics'][_0x256f0e(0x488)](_0x1bf0ad);}}),{'curriculum':_0xc734c3};}async function handleManualBlueprintSave(){const _0x37f48c=_0x1d88bf,_0x86751d=document[_0x37f48c(0x9bf)](_0x37f48c(0x1d2))[_0x37f48c(0xb00)][_0x37f48c(0xb22)](),_0x3f6257=document[_0x37f48c(0x9bf)]('manual-bp-grade-level')[_0x37f48c(0xb00)][_0x37f48c(0xb22)](),_0x4c1b3b=document[_0x37f48c(0x9bf)]('manual-bp-content')[_0x37f48c(0xb00)];if(!_0x86751d||!_0x3f6257||!_0x4c1b3b){showMessage(_0x37f48c(0x858));return;}const _0x10ef98=parseIndentedBlueprint(_0x4c1b3b);if(!_0x10ef98[_0x37f48c(0x96f)]||_0x10ef98[_0x37f48c(0x96f)][_0x37f48c(0x9dc)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x2c0cac={};_0x10ef98[_0x37f48c(0x96f)][_0x37f48c(0xb2a)](_0x1c8a86=>{_0x1c8a86['mainTopics']['forEach'](_0x25a768=>{const _0x467430=_0x5713;_0x25a768[_0x467430(0xb8a)]['forEach'](_0x4b7081=>{const _0x703a68=_0x467430,_0x5437ac=_0x703a68(0x88e)+Date[_0x703a68(0x49e)]()+Math[_0x703a68(0xcb0)]()[_0x703a68(0xce7)](0x24)['substr'](0x2,0x9);_0x2c0cac[_0x5437ac]={'sara':_0x1c8a86['sara'],'mainTopic':_0x25a768[_0x703a68(0xaa1)],'subTopic':_0x4b7081,'status':_0x703a68(0x582),'lessonContent':null};});});});try{const _0x2bc91d=collection(db,_0x37f48c(0x30c)+appId+_0x37f48c(0x75e));await addDoc(_0x2bc91d,{'projectName':_0x86751d,'gradeLevel':_0x3f6257,'topics':_0x2c0cac,'createdAt':serverTimestamp()}),showMessage(_0x37f48c(0x6c9)+_0x86751d+'\x22\x20สำเร็จ!'),document[_0x37f48c(0x9bf)]('manual-blueprint-modal')['classList'][_0x37f48c(0x3b1)]('hidden');}catch(_0x2d478f){console[_0x37f48c(0x56e)](_0x37f48c(0x64b),_0x2d478f),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x6aecea){const _0x1ff82d=_0x1d88bf;showConfirmation(_0x1ff82d(0x48e),async()=>{const _0x117786=_0x1ff82d;try{const _0x5d32a4=doc(db,_0x117786(0x30c)+appId+_0x117786(0x75e),currentBlueprintProjectId);await updateDoc(_0x5d32a4,{[_0x117786(0x517)+_0x6aecea+'.linkedQuizIds']:[]}),showMessage(_0x117786(0x75a)),openTopicQuizBank(_0x6aecea),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x235045){console[_0x117786(0x56e)](_0x117786(0x204),_0x235045),showMessage(_0x117786(0xcd0));}});}function showPodiumView(_0x3a42c5,_0x348563='live-race'){const _0x166083=_0x1d88bf,_0x43fc93=Object[_0x166083(0xb37)](_0x3a42c5)[_0x166083(0x2b5)](([_0x458e63,_0x2bb3c4])=>({'name':_0x458e63,'score':_0x2bb3c4[_0x166083(0x847)]||0x0,'badges':_0x2bb3c4[_0x166083(0x9ca)]||[],'hasPerfectScoreBonus':_0x2bb3c4['hasPerfectScoreBonus']||![]}));_0x43fc93[_0x166083(0x79f)]((_0x38a565,_0x2d379f)=>{const _0x522893=_0x166083,_0x4e9d76=_0x2d379f[_0x522893(0x847)]-_0x38a565[_0x522893(0x847)];if(_0x4e9d76!==0x0)return _0x4e9d76;return(_0x2d379f[_0x522893(0x9ca)][_0x522893(0x9dc)]||0x0)-(_0x38a565[_0x522893(0x9ca)][_0x522893(0x9dc)]||0x0);});const _0xac0043=_0x4fa2e7=>{const _0x306a4a=_0x166083;if(!_0x4fa2e7||_0x4fa2e7[_0x306a4a(0x9dc)]===0x0)return'';const _0x34b83f={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x306a4a(0x1c6)+_0x4fa2e7[_0x306a4a(0x2b5)](_0x407bfe=>_0x34b83f[_0x407bfe]||'')[_0x306a4a(0x77f)]('')+_0x306a4a(0x5a5);},_0x27d287=_0x43fc93[_0x166083(0x3d9)](0x3),_0x4d7cf0=_0x27d287[_0x166083(0x9dc)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27d287[_0x166083(0x2b5)]((_0x52ac53,_0x17e3c8)=>{const _0x3e78f3=_0x166083,_0xcc89f5=_0x52ac53[_0x3e78f3(0x2b8)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x3e78f3(0x953)+(_0x17e3c8+0x4)+_0x3e78f3(0x4e3)+_0x52ac53[_0x3e78f3(0xa80)]+_0x3e78f3(0x575)+_0x52ac53['score']+_0x3e78f3(0xaf5)+_0xcc89f5+_0x3e78f3(0x6c6);})[_0x166083(0x77f)]('')+_0x166083(0x960):'',_0x1d22d7=_0x166083(0x8d8)+(_0x43fc93[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x43fc93[0x1][_0x166083(0xa80)]+_0x166083(0xbab)+_0xac0043(_0x43fc93[0x1][_0x166083(0x9ca)])+_0x166083(0xcfd)+_0x43fc93[0x1][_0x166083(0x847)]+_0x166083(0xaf5)+(_0x43fc93[0x1][_0x166083(0x2b8)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x166083(0x1c3):_0x166083(0xa77))+_0x166083(0xce4)+(_0x43fc93[0x0]?_0x166083(0x6de)+_0x43fc93[0x0][_0x166083(0xa80)]+_0x166083(0xbab)+_0xac0043(_0x43fc93[0x0][_0x166083(0x9ca)])+_0x166083(0xcae)+_0x43fc93[0x0]['score']+'\x20คะแนน\x20'+(_0x43fc93[0x0][_0x166083(0x2b8)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x166083(0xa77))+_0x166083(0xce4)+(_0x43fc93[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x43fc93[0x2][_0x166083(0xa80)]+'</p>'+_0xac0043(_0x43fc93[0x2]['badges'])+_0x166083(0xcfd)+_0x43fc93[0x2][_0x166083(0x847)]+_0x166083(0xaf5)+(_0x43fc93[0x2][_0x166083(0x2b8)]?_0x166083(0x868):'')+_0x166083(0x79d):'<div\x20class=\x22flex-1\x22></div>')+_0x166083(0x371)+_0x4d7cf0+_0x166083(0xca6)+(currentMode==='admin'?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x166083(0x91f))+_0x166083(0x43d);liveGameView['innerHTML']=_0x1d22d7,currentMode===_0x166083(0x8c7)&&document[_0x166083(0x9bf)]('close-game-final-btn')[_0x166083(0x8c1)](_0x166083(0x7c2),async()=>{const _0x2ed8a5=_0x166083;let _0x219ea8;_0x348563===_0x2ed8a5(0xb1b)?_0x219ea8=doc(db,'artifacts/'+appId+_0x2ed8a5(0xcd9),currentLiveGameId):_0x219ea8=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x219ea8);});}function renderSyncSummaryView(_0x4decec,_0x4e6a83,_0x21941){const _0x374028=_0x1d88bf,_0x5d7b05=Object['values'](_0x4decec[_0x374028(0x373)]||{}),_0x3a3324=_0x4e6a83['questionType']||_0x4decec[_0x374028(0x2f8)][_0x374028(0x854)];let _0x250b42=[];_0x3a3324===_0x374028(0x9c3)?_0x250b42=['ใช่\x20/\x20ถูก','ไม่ใช่\x20/\x20ผิด']:_0x250b42=_0x4e6a83[_0x374028(0x69b)]||[];const _0x599dca=new Array(_0x250b42[_0x374028(0x9dc)])[_0x374028(0x8bf)](0x0),_0x9e3286={};_0x250b42[_0x374028(0xb2a)]((_0x126291,_0x50f364)=>{_0x9e3286[_0x50f364]=[];}),Object['entries'](_0x4decec['players']||{})[_0x374028(0xb2a)](([_0x2edc8b,_0x473486])=>{const _0x5f0e2b=_0x374028;if(_0x473486['status']!=='inactive'&&_0x473486['lastAnswerIndex']!==undefined&&_0x473486[_0x5f0e2b(0x205)]!==null){const _0x15eef6=_0x473486[_0x5f0e2b(0x205)];_0x9e3286[_0x15eef6]!==undefined&&(_0x9e3286[_0x15eef6][_0x5f0e2b(0x488)](_0x2edc8b),_0x599dca[_0x15eef6]++);}});let _0x56e271='';_0x21941?_0x56e271=_0x374028(0xa4d):_0x56e271=_0x374028(0x1fa);const _0x1661e1=_0x374028(0x3a1)+_0x4e6a83[_0x374028(0x3ab)]+_0x374028(0xb36)+_0x599dca[_0x374028(0x2b5)]((_0x28b69a,_0x36dba0)=>{const _0x28e354=_0x374028,_0x3cf42d=_0x9e3286[_0x36dba0][_0x28e354(0x9dc)]>0x0?_0x9e3286[_0x36dba0][_0x28e354(0x77f)](',\x20'):_0x28e354(0xcab),_0x244bb4=_0x28e354(0x9fa);return _0x28e354(0xbec)+_0x28b69a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x244bb4+_0x28e354(0x47b)+_0x36dba0+_0x28e354(0xb3f)+_0x250b42[_0x36dba0]+_0x28e354(0x897)+_0x36dba0+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cf42d+_0x28e354(0x53c);})[_0x374028(0x77f)]('')+_0x374028(0x87d)+_0x56e271+_0x374028(0xc7f);liveGameView[_0x374028(0x6b3)]=_0x1661e1;if(window[_0x374028(0x7c4)])MathJax[_0x374028(0xa7b)]();_0x21941&&(document[_0x374028(0x9bf)](_0x374028(0x642))['addEventListener'](_0x374028(0x7c2),async()=>{const _0x4ad98d=_0x374028,_0x5201e7=doc(db,_0x4ad98d(0x30c)+appId+_0x4ad98d(0xcd9),currentLiveGameId);await updateDoc(_0x5201e7,{'status':'results'});}),document[_0x374028(0x9bf)]('open-sync-scratchpad-btn')[_0x374028(0xc96)]=()=>{openScratchpad(_0x4e6a83,_0x250b42);});}async function handleShowStudentRankings(){const _0x30121b=_0x1d88bf,_0x55a75b=document[_0x30121b(0x583)]('#student-quiz-leaderboard-content\x20thead');_0x55a75b&&(_0x55a75b[_0x30121b(0x6b3)]=_0x30121b(0x90b));const _0x493ed1=document['querySelector'](_0x30121b(0x3a3));_0x493ed1&&(_0x493ed1['innerHTML']=_0x30121b(0x751));const _0x4d13c7=document[_0x30121b(0x9bf)](_0x30121b(0x22d));_0x4d13c7['classList'][_0x30121b(0x2bd)](_0x30121b(0x8da)),document[_0x30121b(0x9bf)](_0x30121b(0x75f))[_0x30121b(0xc96)]=()=>_0x4d13c7[_0x30121b(0x5a7)][_0x30121b(0x3b1)](_0x30121b(0x8da));const _0x322191=document[_0x30121b(0x9bf)](_0x30121b(0x9b7)),_0x5317a7=document[_0x30121b(0x9bf)](_0x30121b(0x24e)),_0x346c9b=document[_0x30121b(0x9bf)](_0x30121b(0x959)),_0x5e7a4a=document[_0x30121b(0x9bf)](_0x30121b(0x73b));_0x322191[_0x30121b(0xc96)]=()=>{const _0x1c8a0b=_0x30121b;_0x322191['classList']['add'](_0x1c8a0b(0x53f)),_0x5317a7[_0x1c8a0b(0x5a7)]['remove']('active'),_0x346c9b[_0x1c8a0b(0x5a7)][_0x1c8a0b(0x2bd)](_0x1c8a0b(0x8da)),_0x5e7a4a[_0x1c8a0b(0x5a7)][_0x1c8a0b(0x3b1)](_0x1c8a0b(0x8da));},_0x5317a7['onclick']=()=>{const _0x598c57=_0x30121b;_0x5317a7[_0x598c57(0x5a7)][_0x598c57(0x3b1)](_0x598c57(0x53f)),_0x322191[_0x598c57(0x5a7)][_0x598c57(0x2bd)](_0x598c57(0x53f)),_0x5e7a4a[_0x598c57(0x5a7)]['remove'](_0x598c57(0x8da)),_0x346c9b[_0x598c57(0x5a7)][_0x598c57(0x3b1)](_0x598c57(0x8da));};try{const _0xefc217=collection(db,'artifacts/'+appId+_0x30121b(0xb14)+currentQuizData['id']+_0x30121b(0x472)),_0x27f497=await getDocs(_0xefc217),_0x42296c=_0x27f497[_0x30121b(0xa78)][_0x30121b(0x2b5)](_0x4a0019=>_0x4a0019[_0x30121b(0x7bb)]());renderQuizLeaderboard(_0x42296c,currentQuizData,'student-quiz-leaderboard-table-body');const _0x10308d=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentQuizData['projectId']+_0x30121b(0x65e)),_0xb32073=await getDocs(_0x10308d),_0xdc7eca=_0xb32073[_0x30121b(0xa78)][_0x30121b(0x2b5)](_0x5be4a8=>_0x5be4a8[_0x30121b(0x7bb)]());renderLeaderboard(_0xdc7eca,_0x30121b(0x8fb));}catch(_0x41e495){console[_0x30121b(0x56e)]('Error\x20fetching\x20student\x20rankings:',_0x41e495),showMessage(_0x30121b(0xc4e));}}async function handleSaveToBank(_0x42c3e0){const _0x535f8b=_0x1d88bf,_0x4d39b8=_0x42c3e0['currentTarget'],_0x510c7d=_0x4d39b8[_0x535f8b(0xc05)][_0x535f8b(0x201)],_0x192cd2=currentQuizData[_0x535f8b(0xcaf)][_0x510c7d];if(!userId){showMessage(_0x535f8b(0x9ee));return;}try{const _0x420d2d={..._0x192cd2,'originalTopic':currentQuizData[_0x535f8b(0x6f8)],'savedAt':serverTimestamp()},_0x237275=collection(db,_0x535f8b(0x30c)+appId+_0x535f8b(0xa54)+userId+_0x535f8b(0x1be));await addDoc(_0x237275,_0x420d2d),showMessage(_0x535f8b(0x41d)),_0x4d39b8[_0x535f8b(0x5a7)]['remove']('text-purple-600'),_0x4d39b8[_0x535f8b(0x5a7)][_0x535f8b(0x3b1)](_0x535f8b(0x492)),_0x4d39b8[_0x535f8b(0x6d3)]=!![];}catch(_0x2649d6){console[_0x535f8b(0x56e)](_0x535f8b(0x565),_0x2649d6),showMessage(_0x535f8b(0x74d));}}function _0x5713(_0x3f2e59,_0x1b2763){const _0x9fd1b6=_0x9fd1();return _0x5713=function(_0x571314,_0x50cf0d){_0x571314=_0x571314-0x191;let _0x112b77=_0x9fd1b6[_0x571314];return _0x112b77;},_0x5713(_0x3f2e59,_0x1b2763);}function selectProjectAndGenerateBlueprintQuiz(_0x34d759,_0x4d8c0a=null,_0x1ab645=null,_0x202b0a=![]){const _0x2b7346=_0x1d88bf;cameFromBlueprint=!![];const _0x550bfa=document[_0x2b7346(0x9bf)](_0x2b7346(0x5d4)),_0x50a2a3=document['getElementById'](_0x2b7346(0xad7)),_0x496f90=_0x550bfa['querySelector']('h3'),_0x1fb31a=document['getElementById']('confirm-move-quiz-btn'),_0xdc2e3d=document[_0x2b7346(0x9bf)](_0x2b7346(0x307));_0x496f90[_0x2b7346(0xa9a)]=_0x2b7346(0x9fc),_0x1fb31a[_0x2b7346(0xa9a)]=_0x2b7346(0x6f9),_0x1fb31a[_0x2b7346(0x6d3)]=!![];allProjects[_0x2b7346(0x9dc)]===0x0?_0x50a2a3[_0x2b7346(0x6b3)]=_0x2b7346(0x49a):(_0x50a2a3['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x2b7346(0x2b5)](_0x139533=>_0x2b7346(0x78c)+_0x139533['id']+'\x22>'+_0x139533[_0x2b7346(0x9e9)]+_0x2b7346(0x1b9))['join'](''),_0x1fb31a[_0x2b7346(0x6d3)]=![]);_0x550bfa['classList'][_0x2b7346(0x2bd)](_0x2b7346(0x8da));const _0x53b8fd=async()=>{const _0x37d05b=_0x2b7346,_0x214033=_0x50a2a3[_0x37d05b(0xb00)];if(!_0x214033){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x550bfa['classList']['add'](_0x37d05b(0x8da)),document['getElementById'](_0x37d05b(0x8a0))[_0x37d05b(0x5a7)]['add'](_0x37d05b(0x8da)),await loadProjectDetails(_0x214033),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x34d759,_0x4d8c0a,_0x214033,_0x1ab645,_0x202b0a),_0x1facbd();},_0x1facbd=()=>{const _0x1783d0=_0x2b7346;_0x496f90[_0x1783d0(0xa9a)]=_0x1783d0(0x5d1),_0x1fb31a[_0x1783d0(0xa9a)]='ย้าย',_0x1fb31a[_0x1783d0(0x930)]('click',_0x53b8fd),_0xdc2e3d[_0x1783d0(0x930)](_0x1783d0(0x7c2),_0x1facbd),_0x1fb31a[_0x1783d0(0x8c1)](_0x1783d0(0x7c2),confirmMoveQuiz);};_0x1fb31a[_0x2b7346(0x930)](_0x2b7346(0x7c2),confirmMoveQuiz),_0x1fb31a['addEventListener'](_0x2b7346(0x7c2),_0x53b8fd),_0xdc2e3d[_0x2b7346(0x8c1)](_0x2b7346(0x7c2),_0x1facbd);}function listenForStarredQuizzes(){const _0x335e0e=_0x1d88bf;if(!userId)return;const _0x162a6f=collection(db,_0x335e0e(0x30c)+appId+'/public/data/quizzes'),_0x5f47ba=query(_0x162a6f,where(_0x335e0e(0x1d0),'==',!![]));onSnapshot(_0x5f47ba,_0x5f0edc=>{const _0x3c6a15=_0x335e0e;starredQuizzes=_0x5f0edc[_0x3c6a15(0xa78)][_0x3c6a15(0x2b5)](_0x25c242=>({'id':_0x25c242['id'],..._0x25c242[_0x3c6a15(0x7bb)]()})),currentProjectId===_0x3c6a15(0x1f1)?renderQuizzes():renderProjects();},_0x3da7f4=>{const _0x37d782=_0x335e0e;console['error'](_0x37d782(0xa9b),_0x3da7f4);});}function listenForFileShortcuts(){const _0x2f1a62=_0x1d88bf,_0x2e0889=doc(db,_0x2f1a62(0xb35),_0x2f1a62(0x963));onSnapshot(_0x2e0889,_0x71ce71=>{const _0x393d5a=_0x2f1a62;let _0x2e0c3f=[],_0x2ac1c9=[],_0x396bcc={};if(_0x71ce71['exists']()){const _0x16cd5f=_0x71ce71[_0x393d5a(0x7bb)]();_0x2e0c3f=_0x16cd5f[_0x393d5a(0x511)]||[],_0x2ac1c9=_0x16cd5f[_0x393d5a(0xbb5)]||[],_0x396bcc=_0x16cd5f[_0x393d5a(0x676)]||{};}!_0x2ac1c9[_0x393d5a(0x9c1)](_0x2b12fd=>_0x2b12fd['id']===_0x393d5a(0x875))&&_0x2ac1c9[_0x393d5a(0x5d5)]({'id':'all','name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x2e0c3f[_0x393d5a(0x9c1)](_0x5c8aaf=>_0x5c8aaf['id']===_0x393d5a(0x731))&&_0x2e0c3f[_0x393d5a(0x5d5)]({'id':_0x393d5a(0x731),'name':_0x393d5a(0xce5),'url':'','isDefault':!![]}),!_0x2e0c3f[_0x393d5a(0x9c1)](_0x50e3e7=>_0x50e3e7['id']==='file-default-2')&&_0x2e0c3f[_0x393d5a(0x5d5)]({'id':_0x393d5a(0x2eb),'name':_0x393d5a(0x2ad),'url':'','isDefault':!![]}),fileShortcuts=_0x2e0c3f,fileShortcutTabs=_0x2ac1c9,fileShortcutOrder=_0x396bcc,renderFileShortcuts(),!document[_0x393d5a(0x9bf)](_0x393d5a(0x3db))[_0x393d5a(0x5a7)]['contains'](_0x393d5a(0x8da))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x18e74d=_0x1d88bf,_0x37036e=doc(db,_0x18e74d(0xb35),_0x18e74d(0x963));try{await setDoc(_0x37036e,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x30ab38){console[_0x18e74d(0x56e)](_0x18e74d(0x941),_0x30ab38);}}function renderAdditionalFileShortcutsModal(){const _0x471e2b=_0x1d88bf,_0x589e84=document[_0x471e2b(0x9bf)]('file-shortcut-tabs-nav'),_0x1422c8=document[_0x471e2b(0x9bf)]('additional-file-shortcuts-list');if(!_0x589e84||!_0x1422c8)return;_0x589e84[_0x471e2b(0x6b3)]=fileShortcutTabs[_0x471e2b(0x2b5)](_0x46c303=>{const _0x5526e0=_0x471e2b,_0x84a9f2=_0x46c303['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x46c303['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x84a9f2?_0x5526e0(0xc6a):_0x5526e0(0xbfb))+_0x5526e0(0xa7f)+_0x46c303[_0x5526e0(0xa80)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x46c303[_0x5526e0(0xa80)]+_0x5526e0(0x436)+(!_0x46c303['isDefault']?'<button\x20data-tab-id=\x22'+_0x46c303['id']+_0x5526e0(0xc76):'')+_0x5526e0(0x1c2);})[_0x471e2b(0x77f)]('');const _0x298252=fileShortcutTabs[_0x471e2b(0x9c1)](_0x164b4c=>_0x164b4c['id']===activeFileShortcutTabId);let _0x49c727=_0x298252?.[_0x471e2b(0x2e5)]?[...fileShortcuts]:fileShortcuts[_0x471e2b(0x408)](_0x1a9ccb=>(_0x298252?.[_0x471e2b(0x84e)]||[])['includes'](_0x1a9ccb['id']));const _0x97c799=fileShortcutOrder[activeFileShortcutTabId]||[];_0x49c727[_0x471e2b(0x79f)]((_0x2d1e2f,_0x5dd49f)=>{const _0x44e7c9=_0x471e2b,_0x382788=_0x97c799[_0x44e7c9(0x3e8)](_0x2d1e2f['id']),_0xc90cd3=_0x97c799['indexOf'](_0x5dd49f['id']);return(_0x382788===-0x1?Infinity:_0x382788)-(_0xc90cd3===-0x1?Infinity:_0xc90cd3);}),_0x1422c8[_0x471e2b(0x6b3)]=_0x49c727[_0x471e2b(0x2b5)](_0x402add=>{const _0x2c4566=_0x471e2b,_0x5a50b8=_0x402add['url']?'📄':'🔗',_0x201cba=fileShortcutTabs[_0x2c4566(0x408)](_0x21bb4a=>!_0x21bb4a['isDefault']),_0x18d8a2=_0x298252[_0x2c4566(0x2e5)]&&_0x201cba[_0x2c4566(0x9dc)]>0x0?_0x2c4566(0x5c4)+_0x201cba[_0x2c4566(0x2b5)](_0x16ed31=>_0x2c4566(0xaec)+_0x402add['id']+_0x2c4566(0x2e2)+_0x16ed31['id']+'\x22>'+_0x16ed31['name']+_0x2c4566(0x80f))[_0x2c4566(0x77f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x2c4566(0x83b)+_0x402add['id']+_0x2c4566(0x36e)+_0x5a50b8+'\x20'+_0x402add[_0x2c4566(0xa80)]+_0x2c4566(0xcac)+_0x402add['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x402add['id']+_0x2c4566(0x657)+(!_0x402add[_0x2c4566(0x2e5)]?_0x2c4566(0x3fc)+_0x402add['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x2c4566(0xaa8)+(!_0x298252[_0x2c4566(0x2e5)]?_0x2c4566(0xb45)+_0x402add['id']+_0x2c4566(0x2cc):'')+_0x2c4566(0xaa8)+_0x18d8a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x471e2b(0x77f)]('')||_0x471e2b(0xa26),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x55fc92=_0x1d88bf;document['querySelectorAll']('.file-shortcut-tab-btn')[_0x55fc92(0xb2a)](_0x283171=>{const _0x7b390a=_0x55fc92;_0x283171['onclick']=_0x4d6caf=>{const _0x1ce97c=_0x5713;activeFileShortcutTabId=_0x4d6caf['currentTarget']['dataset'][_0x1ce97c(0xcd2)],renderAdditionalFileShortcutsModal();},_0x283171[_0x7b390a(0xad0)]=_0xb9d6f4=>{const _0x12500e=_0x7b390a,_0x8a40e3=_0xb9d6f4[_0x12500e(0x753)]['querySelector'](_0x12500e(0xb60));_0xb9d6f4[_0x12500e(0x753)][_0x12500e(0x583)](_0x12500e(0x1a7))[_0x12500e(0x5a7)]['add'](_0x12500e(0x8da)),_0x8a40e3[_0x12500e(0x5a7)]['remove'](_0x12500e(0x8da)),_0x8a40e3[_0x12500e(0x544)](),_0x8a40e3[_0x12500e(0x81a)]();};}),document[_0x55fc92(0x468)](_0x55fc92(0x766))[_0x55fc92(0xb2a)](_0x1e7515=>{const _0x28ef83=_0x55fc92,_0x492b47=()=>{const _0x44138f=_0x5713,_0x6c7ba8=_0x1e7515[_0x44138f(0xa13)](_0x44138f(0x721))['dataset'][_0x44138f(0xcd2)],_0x3be1a5=fileShortcutTabs[_0x44138f(0x9c1)](_0x13cb58=>_0x13cb58['id']===_0x6c7ba8);_0x3be1a5&&(_0x3be1a5[_0x44138f(0xa80)]=_0x1e7515['value'][_0x44138f(0xb22)]()||_0x3be1a5[_0x44138f(0xa80)],saveFileShortcutConfig());};_0x1e7515[_0x28ef83(0xaaa)]=_0x492b47,_0x1e7515[_0x28ef83(0x58d)]=_0x26d2a2=>{const _0x2bbecc=_0x28ef83;if(_0x26d2a2[_0x2bbecc(0xc07)]===_0x2bbecc(0x787))_0x1e7515[_0x2bbecc(0x61e)]();};}),document['querySelectorAll']('.delete-file-shortcut-tab-btn')[_0x55fc92(0xb2a)](_0xab018b=>_0xab018b[_0x55fc92(0xc96)]=_0x439bfb=>{const _0x53f45b=_0x55fc92,_0x10f8b9=_0x439bfb[_0x53f45b(0x753)][_0x53f45b(0xc05)][_0x53f45b(0xcd2)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x2c1b7b=_0x53f45b;fileShortcutTabs=fileShortcutTabs[_0x2c1b7b(0x408)](_0x5c84bc=>_0x5c84bc['id']!==_0x10f8b9),delete fileShortcutOrder[_0x10f8b9];if(activeFileShortcutTabId===_0x10f8b9)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x55fc92(0x468)](_0x55fc92(0x899))[_0x55fc92(0xb2a)](_0xde39b=>_0xde39b['onclick']=_0x3bcdc4=>{const _0x3dafd3=_0x55fc92;_0x3bcdc4[_0x3dafd3(0x1a4)]();const {shortcutId:_0x2148c8,targetTabId:_0x27b6a4}=_0x3bcdc4[_0x3dafd3(0x753)]['dataset'],_0x2e48fc=fileShortcutTabs[_0x3dafd3(0x9c1)](_0x29e87a=>_0x29e87a['id']===_0x27b6a4);_0x2e48fc&&!_0x2e48fc['shortcutIds'][_0x3dafd3(0x3b4)](_0x2148c8)&&(_0x2e48fc[_0x3dafd3(0x84e)][_0x3dafd3(0x488)](_0x2148c8),saveFileShortcutConfig());}),document[_0x55fc92(0x468)](_0x55fc92(0x35a))['forEach'](_0x59977d=>_0x59977d[_0x55fc92(0xc96)]=_0x494b0b=>{const _0x3cb500=_0x55fc92,_0x202e38=_0x494b0b[_0x3cb500(0x753)][_0x3cb500(0xc05)]['shortcutId'],_0x5789e0=fileShortcutTabs[_0x3cb500(0x9c1)](_0x9d4d8d=>_0x9d4d8d['id']===activeFileShortcutTabId);_0x5789e0&&!_0x5789e0[_0x3cb500(0x2e5)]&&(_0x5789e0['shortcutIds']=_0x5789e0[_0x3cb500(0x84e)]['filter'](_0x353040=>_0x353040!==_0x202e38),saveFileShortcutConfig());}),document[_0x55fc92(0x468)](_0x55fc92(0xb1a))[_0x55fc92(0xb2a)](_0x333f3b=>_0x333f3b['onclick']=_0x2591f3=>{const _0x38a3e0=_0x55fc92;_0x2591f3[_0x38a3e0(0x778)]();const _0x1061e=_0x2591f3[_0x38a3e0(0x753)][_0x38a3e0(0x76d)];document[_0x38a3e0(0x468)](_0x38a3e0(0x4d3))['forEach'](_0x3b1f80=>_0x3b1f80[_0x38a3e0(0x5a7)][_0x38a3e0(0x3b1)](_0x38a3e0(0x8da))),_0x1061e[_0x38a3e0(0x5a7)][_0x38a3e0(0x2bd)](_0x38a3e0(0x8da));});const _0x150cea=document[_0x55fc92(0x9bf)](_0x55fc92(0xaae));let _0x1e6994=null;_0x150cea['ondragstart']=_0x4f4ac0=>{const _0x5a76d4=_0x55fc92;_0x1e6994=_0x4f4ac0[_0x5a76d4(0x964)]['closest'](_0x5a76d4(0x826));if(_0x1e6994)setTimeout(()=>_0x1e6994[_0x5a76d4(0x5a7)][_0x5a76d4(0x3b1)]('opacity-50'),0x0);},_0x150cea[_0x55fc92(0x727)]=()=>{const _0x1e49a2=_0x55fc92;_0x1e6994&&(_0x1e6994['classList'][_0x1e49a2(0x2bd)]('opacity-50'),_0x1e6994=null);},_0x150cea[_0x55fc92(0x76c)]=_0x2a1a9a=>{_0x2a1a9a['preventDefault']();},_0x150cea[_0x55fc92(0x95b)]=_0x4078e4=>{const _0x171a13=_0x55fc92;_0x4078e4[_0x171a13(0x1a4)]();if(_0x1e6994){const _0x57b511=[..._0x150cea['querySelectorAll'](_0x171a13(0xc50))][_0x171a13(0x9f5)]((_0xf6e2d8,_0x23a355)=>{const _0x19ae7d=_0x171a13,_0x2339eb=_0x23a355['getBoundingClientRect'](),_0x3303d7=_0x4078e4[_0x19ae7d(0x1d6)]-_0x2339eb[_0x19ae7d(0xb73)]-_0x2339eb['height']/0x2;return _0x3303d7<0x0&&_0x3303d7>_0xf6e2d8[_0x19ae7d(0x491)]?{'offset':_0x3303d7,'element':_0x23a355}:_0xf6e2d8;},{'offset':Number[_0x171a13(0x4c9)]})[_0x171a13(0x325)];_0x57b511==null?_0x150cea[_0x171a13(0x5b9)](_0x1e6994):_0x150cea['insertBefore'](_0x1e6994,_0x57b511);const _0x4ec896=[..._0x150cea[_0x171a13(0x468)](_0x171a13(0x826))][_0x171a13(0x2b5)](_0x1b44c6=>_0x1b44c6[_0x171a13(0xc05)][_0x171a13(0x719)]);fileShortcutOrder[activeFileShortcutTabId]=_0x4ec896,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x16a5fa=_0x1d88bf,_0x5af250=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x16a5fa(0xc52));_0x5af250&&_0x5af250[_0x16a5fa(0xb22)]()&&(fileShortcutTabs['push']({'id':_0x16a5fa(0xc8c)+Date[_0x16a5fa(0x49e)](),'name':_0x5af250[_0x16a5fa(0xb22)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x5d9f28=_0x1d88bf,_0x51b889=document[_0x5d9f28(0x9bf)]('file-shortcut-container'),_0x4c8174=document['getElementById'](_0x5d9f28(0xaae)),_0x458a3b=document[_0x5d9f28(0x9bf)](_0x5d9f28(0x2f9));if(_0x458a3b)_0x458a3b[_0x5d9f28(0x5a7)][_0x5d9f28(0x3b1)](_0x5d9f28(0x8da));if(!_0x51b889||!_0x4c8174)return;const _0x13c238=fileShortcuts['slice'](0x0,0x4),_0x160dbe=fileShortcuts['slice'](0x4);_0x51b889[_0x5d9f28(0x6b3)]=_0x13c238[_0x5d9f28(0x2b5)](_0x59d6a5=>{const _0x3ac1eb=_0x5d9f28,_0x1dcddf=_0x59d6a5[_0x3ac1eb(0x51a)]&&_0x59d6a5[_0x3ac1eb(0x51a)][_0x3ac1eb(0xb22)]()!=='',_0x4a2a02=selectedFile&&selectedFile[_0x3ac1eb(0x719)]===_0x59d6a5['id'];let _0x4866fd='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x38251a='🔗';if(_0x4a2a02)_0x4866fd='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x38251a=_0x3ac1eb(0x925);else _0x1dcddf&&(_0x4866fd='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x38251a='📄');const _0x39457b=!_0x59d6a5[_0x3ac1eb(0x2e5)]?'<button\x20data-id=\x22'+_0x59d6a5['id']+_0x3ac1eb(0xb3b):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x59d6a5['id']+_0x3ac1eb(0x443)+_0x4866fd+_0x3ac1eb(0x1a6)+_0x38251a+_0x3ac1eb(0x694)+_0x59d6a5[_0x3ac1eb(0xa80)]+_0x3ac1eb(0xafc)+_0x59d6a5['id']+_0x3ac1eb(0x4d6)+_0x39457b+_0x3ac1eb(0xcba);})[_0x5d9f28(0x77f)](''),_0x160dbe[_0x5d9f28(0x9dc)]>0x0&&(_0x51b889['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x160dbe[_0x5d9f28(0x9dc)]>0x0?_0x4c8174[_0x5d9f28(0x6b3)]=_0x160dbe['map'](_0x1a6573=>_0x5d9f28(0x87f)+(_0x1a6573['url']?'📄':'🔗')+'\x20'+_0x1a6573[_0x5d9f28(0xa80)]+_0x5d9f28(0x3dd)+_0x1a6573['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1a6573['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1a6573[_0x5d9f28(0x2e5)]?'<button\x20data-id=\x22'+_0x1a6573['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x5d9f28(0x326))['join'](''):_0x4c8174[_0x5d9f28(0x6b3)]=_0x5d9f28(0x535);}function openFileShortcutEditor(_0x5c5081=null){const _0x1c6e85=_0x1d88bf,_0x5c4160=document[_0x1c6e85(0x9bf)](_0x1c6e85(0x663)),_0x4a0ce8=document[_0x1c6e85(0x9bf)](_0x1c6e85(0x2ac)),_0x45eb2f=document[_0x1c6e85(0x9bf)](_0x1c6e85(0x3b7)),_0x2c97d7=document[_0x1c6e85(0x9bf)](_0x1c6e85(0xc36)),_0x50a0d9=document[_0x1c6e85(0x9bf)]('file-shortcut-url-input');if(_0x5c5081){const _0x85106d=fileShortcuts['find'](_0x1ffe05=>_0x1ffe05['id']===_0x5c5081);if(!_0x85106d)return;_0x4a0ce8[_0x1c6e85(0xa9a)]='แก้ไขปุ่มลัดจากไฟล์',_0x45eb2f['value']=_0x85106d['id'],_0x2c97d7[_0x1c6e85(0xb00)]=_0x85106d[_0x1c6e85(0xa80)],_0x50a0d9[_0x1c6e85(0xb00)]=_0x85106d[_0x1c6e85(0x51a)]||'';}else _0x4a0ce8['textContent']=_0x1c6e85(0x4fe),_0x45eb2f[_0x1c6e85(0xb00)]='',_0x2c97d7['value']='',_0x50a0d9[_0x1c6e85(0xb00)]='';_0x5c4160[_0x1c6e85(0x5a7)][_0x1c6e85(0x2bd)](_0x1c6e85(0x8da));}async function saveFileShortcutChanges(){const _0x3a27a9=_0x1d88bf,_0xa4a967=document[_0x3a27a9(0x9bf)]('file-shortcut-id-input')[_0x3a27a9(0xb00)],_0x49d79f=document[_0x3a27a9(0x9bf)]('file-shortcut-name-input')[_0x3a27a9(0xb00)]['trim'](),_0x161524=document[_0x3a27a9(0x9bf)](_0x3a27a9(0x85a))[_0x3a27a9(0xb00)]['trim']();if(!_0x49d79f){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x54e8a1={'id':_0xa4a967||_0x3a27a9(0x199)+Date[_0x3a27a9(0x49e)](),'name':_0x49d79f,'url':_0x161524,'isDefault':_0xa4a967['startsWith'](_0x3a27a9(0x49d))};let _0x3a0372;_0xa4a967?_0x3a0372=fileShortcuts[_0x3a27a9(0x2b5)](_0x2c4843=>_0x2c4843['id']===_0xa4a967?_0x54e8a1:_0x2c4843):_0x3a0372=[...fileShortcuts,_0x54e8a1];try{const _0x5e1a33=doc(db,_0x3a27a9(0xb35),_0x3a27a9(0x963));await setDoc(_0x5e1a33,{'shortcuts':_0x3a0372},{'merge':!![]}),document[_0x3a27a9(0x9bf)](_0x3a27a9(0x663))['classList'][_0x3a27a9(0x3b1)]('hidden');}catch(_0x52d6be){console[_0x3a27a9(0x56e)]('Error\x20saving\x20file\x20shortcut:',_0x52d6be),showMessage(_0x3a27a9(0x74d));}}async function handleFileShortcutClick(_0x567864){const _0x19de96=_0x1d88bf,_0x4eba0e=fileShortcuts[_0x19de96(0x9c1)](_0x183e3b=>_0x183e3b['id']===_0x567864);if(!_0x4eba0e)return;if(!_0x4eba0e['url']||_0x4eba0e[_0x19de96(0x51a)][_0x19de96(0xb22)]()===''){openFileShortcutEditor(_0x567864);return;}const _0x44adce=document[_0x19de96(0x583)]('.file-shortcut-btn[data-id=\x22'+_0x567864+'\x22]');if(_0x44adce){const _0x4d6770=_0x44adce[_0x19de96(0x6b3)];_0x44adce[_0x19de96(0x6b3)]=_0x19de96(0x464),_0x44adce['disabled']=!![];}document['querySelectorAll'](_0x19de96(0x4a4))[_0x19de96(0xb2a)](_0x23b72a=>{const _0x181a50=_0x19de96;if(_0x23b72a[_0x181a50(0xc05)]['id']!==_0x567864)_0x23b72a[_0x181a50(0x5a7)]['add'](_0x181a50(0x355),_0x181a50(0xc31));});try{const _0x5998f8=new URL(_0x4eba0e[_0x19de96(0x51a)])[_0x19de96(0x94a)],_0x48ce8e=_0x5998f8[_0x19de96(0x426)](_0x5998f8[_0x19de96(0x462)]('/')+0x1)||(_0x4eba0e['url'][_0x19de96(0x3b4)]('.txt')?_0x19de96(0x574):'file.pdf'),_0x7efa1d=await fetchFileFromUrl(_0x4eba0e[_0x19de96(0x51a)],_0x48ce8e);_0x7efa1d[_0x19de96(0x719)]=_0x567864,selectedFile=_0x7efa1d,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x19de96(0x9bf)](_0x19de96(0xb64))['scrollIntoView']({'behavior':'smooth','block':'center'});}catch(_0x56860f){console[_0x19de96(0x56e)](_0x19de96(0x430),_0x56860f),showMessage(_0x19de96(0xbba)+_0x56860f[_0x19de96(0x68b)]),renderFileShortcuts();}finally{document[_0x19de96(0x468)]('.file-shortcut-btn')[_0x19de96(0xb2a)](_0xd2aa9c=>{const _0x1e960f=_0x19de96;_0xd2aa9c['classList']['remove'](_0x1e960f(0x355),'pointer-events-none'),_0xd2aa9c['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x29ac15=_0x1d88bf;if(allQuizzesGlobal[_0x29ac15(0x9dc)]>0x0)return;console[_0x29ac15(0xc30)](_0x29ac15(0x972)),showMessage(_0x29ac15(0x58f));try{const _0x48e5e1=await getDocs(collection(db,_0x29ac15(0x30c)+appId+_0x29ac15(0x289)));allQuizzesGlobal=_0x48e5e1[_0x29ac15(0xa78)][_0x29ac15(0x2b5)](_0x3df56e=>({'id':_0x3df56e['id'],..._0x3df56e['data']()})),console[_0x29ac15(0xc30)]('Loaded\x20'+allQuizzesGlobal[_0x29ac15(0x9dc)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x29ac15(0x5a7)]['add'](_0x29ac15(0x8da));}catch(_0x25bc74){console[_0x29ac15(0x56e)](_0x29ac15(0x2a6),_0x25bc74),messageModal[_0x29ac15(0x5a7)][_0x29ac15(0x3b1)](_0x29ac15(0x8da));throw new Error(_0x29ac15(0x9d7));}}function exportQuizAsWorksheetPDF(){const _0x3c895e=_0x1d88bf;if(!currentQuizData||!currentQuizData[_0x3c895e(0xcaf)]){showMessage(_0x3c895e(0x1ff));return;}const _0x46d682=currentQuizData,_0x537a17=window[_0x3c895e(0xc33)]('','_blank'),_0x35a786=_0x1be220=>String[_0x3c895e(0x465)](0x41+_0x1be220),_0x563587='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x46d682[_0x3c895e(0x6f8)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x46d682[_0x3c895e(0x6f8)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46d682[_0x3c895e(0xcaf)]['map']((_0x1dc7a5,_0x5d6177)=>{const _0x212a22=_0x3c895e;let _0x3ebac0='';const _0x18d685=_0x1dc7a5[_0x212a22(0xa42)]||_0x46d682['quizType'];switch(_0x18d685){case _0x212a22(0xa01):case _0x212a22(0xaa4):_0x3ebac0=_0x212a22(0x8ff)+_0x1dc7a5['options'][_0x212a22(0x2b5)]((_0x5a9a76,_0x3b719c)=>_0x212a22(0x1aa)+_0x35a786(_0x3b719c)+'.\x20'+_0x5a9a76+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x212a22(0x77f)](_0x212a22(0xb9b))+_0x212a22(0x5a5);break;case _0x212a22(0x9c3):_0x3ebac0=_0x212a22(0x552);break;default:_0x3ebac0=_0x212a22(0xa3e);break;}return _0x212a22(0x31f)+(_0x5d6177+0x1)+_0x212a22(0x4e5)+(_0x1dc7a5[_0x212a22(0xc5b)]||_0x1dc7a5[_0x212a22(0x3ab)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1dc7a5[_0x212a22(0xbe1)]?_0x212a22(0x231)+_0x1dc7a5[_0x212a22(0xbe1)]+_0x212a22(0x5a5):'')+_0x212a22(0xa29)+_0x3ebac0+_0x212a22(0xb5e);})[_0x3c895e(0x77f)]('')+_0x3c895e(0x75b);_0x537a17['document'][_0x3c895e(0x7aa)](_0x563587),_0x537a17[_0x3c895e(0x8b7)][_0x3c895e(0xb70)](),_0x537a17[_0x3c895e(0x97a)]=function(){setTimeout(()=>{const _0x67e3ac=_0x5713;_0x537a17[_0x67e3ac(0x88b)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x414f45=_0x1d88bf;if(!currentQuizData||!currentQuizData[_0x414f45(0xcaf)]){showMessage(_0x414f45(0x1ff));return;}const _0x335537=currentQuizData,_0x171711=window[_0x414f45(0xc33)]('',_0x414f45(0x8ba)),_0x344804=_0x49b379=>String[_0x414f45(0x465)](0x41+_0x49b379),_0xdc762a=_0x414f45(0x749)+_0x335537[_0x414f45(0x6f8)]+_0x414f45(0xa73)+_0x335537[_0x414f45(0xcaf)]['map']((_0x195b86,_0x3bcf38)=>{const _0x1889f9=_0x414f45;let _0x5da91c='';const _0x592721=_0x195b86[_0x1889f9(0xa42)]||_0x335537[_0x1889f9(0x854)];switch(_0x592721){case _0x1889f9(0xa01):case _0x1889f9(0xaa4):_0x5da91c=_0x1889f9(0x9af)+_0x195b86['options'][_0x1889f9(0x2b5)]((_0x588f8b,_0x5d4f4d)=>_0x1889f9(0x7a5)+_0x344804(_0x5d4f4d)+'.\x20'+_0x588f8b+_0x1889f9(0x5a3))['join'](_0x1889f9(0xb9b))+_0x1889f9(0x386);break;case'true_false':_0x5da91c='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x5da91c='';break;}return _0x1889f9(0x8bc)+_0x335537[_0x1889f9(0x6f8)]+_0x1889f9(0xbbc)+(_0x3bcf38+0x1)+_0x1889f9(0x6ba)+(_0x195b86[_0x1889f9(0xc5b)]||_0x195b86[_0x1889f9(0x3ab)])+_0x1889f9(0xa81)+(_0x195b86[_0x1889f9(0xbe1)]?_0x1889f9(0xba0)+_0x195b86[_0x1889f9(0xbe1)]+_0x1889f9(0x5a5):'')+_0x1889f9(0xa29)+_0x5da91c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x414f45(0x77f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x171711[_0x414f45(0x8b7)]['write'](_0xdc762a),_0x171711[_0x414f45(0x8b7)][_0x414f45(0xb70)](),_0x171711[_0x414f45(0x97a)]=function(){setTimeout(()=>{const _0x9c1a77=_0x5713;_0x171711[_0x9c1a77(0x88b)]();},0x5dc);};}async function handleToggleStarQuiz(_0x45f6a3){const _0x13057d=_0x1d88bf,_0x45446d=doc(db,_0x13057d(0x30c)+appId+_0x13057d(0x289),_0x45f6a3);try{const _0x91d0d5=await getDoc(_0x45446d);if(_0x91d0d5[_0x13057d(0xb67)]()){const _0x5a9eda=_0x91d0d5['data']()[_0x13057d(0x1d0)]||![];await updateDoc(_0x45446d,{'isStarred':!_0x5a9eda});}}catch(_0xf5c424){console['error'](_0x13057d(0x32d),_0xf5c424),showMessage(_0x13057d(0x8fa));}}async function displayQuestionBank(){const _0x57d559=_0x1d88bf,_0x5d8bde=document[_0x57d559(0x9bf)](_0x57d559(0x425));_0x5d8bde[_0x57d559(0x6b3)]=_0x57d559(0x316);try{const _0x4338a1=collection(db,_0x57d559(0x30c)+appId+_0x57d559(0xa54)+userId+_0x57d559(0x1be)),_0x12f53e=query(_0x4338a1),_0x450c64=await getDocs(_0x12f53e);if(_0x450c64[_0x57d559(0xc88)]){_0x5d8bde[_0x57d559(0x6b3)]=_0x57d559(0x2d1);return;}let _0x555d22=_0x450c64[_0x57d559(0xa78)][_0x57d559(0x2b5)](_0x592ad4=>{const _0x3ac2ac=_0x57d559,_0x2f01b3=_0x592ad4[_0x3ac2ac(0x7bb)](),_0x587f54=_0x592ad4['id'];return _0x3ac2ac(0x2bc)+JSON[_0x3ac2ac(0xa43)](_0x2f01b3)+_0x3ac2ac(0xa4f)+(_0x2f01b3['questionText']||_0x2f01b3[_0x3ac2ac(0xc5b)])+_0x3ac2ac(0xb10)+_0x2f01b3[_0x3ac2ac(0x659)]+_0x3ac2ac(0x594);})[_0x57d559(0x77f)]('');_0x5d8bde[_0x57d559(0x6b3)]=_0x57d559(0x8d9)+_0x555d22+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x57d559(0x9bf)](_0x57d559(0x19d))[_0x57d559(0x8c1)](_0x57d559(0x7c2),createQuizFromBank);}catch(_0x351c97){console['error'](_0x57d559(0x5cf),_0x351c97),_0x5d8bde['innerHTML']=_0x57d559(0x67b);}}async function handleExportLessonToPDF(){const _0x290d0c=_0x1d88bf,_0x30d269=document[_0x290d0c(0x9bf)]('lesson-sections-container'),_0x53a12a=document[_0x290d0c(0x9bf)]('lesson-view-title')[_0x290d0c(0xa9a)]||'บทเรียน';if(!_0x30d269){showMessage(_0x290d0c(0xbe0));return;}const _0xe8e13=window['open']('','_blank'),_0x2dce93=_0x290d0c(0x8d0)+_0x53a12a+_0x290d0c(0x8e2)+_0x53a12a+_0x290d0c(0x98a)+_0x30d269[_0x290d0c(0x6b3)]+_0x290d0c(0x75b);_0xe8e13['document']['write'](_0x2dce93),_0xe8e13[_0x290d0c(0x8b7)][_0x290d0c(0xb70)](),_0xe8e13['onload']=function(){setTimeout(()=>{const _0x57e26f=_0x5713;_0xe8e13[_0x57e26f(0x88b)]();},0x7d0);};}function showAdminLiveQuestionView(_0x19becc,_0x5d2540,_0x5c4459){const _0xeab65d=_0x1d88bf,_0xc2d7ea=_0x19becc[_0xeab65d(0xa42)]||currentQuizData['quizType'];let _0x405d8d='';if(_0xc2d7ea===_0xeab65d(0xa01)||_0xc2d7ea===_0xeab65d(0x9c3)){const _0x24defa=_0xc2d7ea===_0xeab65d(0x9c3)?[_0xeab65d(0xb12),_0xeab65d(0x1df)]:_0x19becc['options'],_0x3e34a5=_0xc2d7ea===_0xeab65d(0x9c3)?_0x19becc[_0xeab65d(0x661)]?0x0:0x1:_0x19becc[_0xeab65d(0xcf3)];_0x405d8d=_0x24defa['map']((_0x5b788b,_0x723e6f)=>_0xeab65d(0x79b)+(_0x723e6f===_0x3e34a5)+_0xeab65d(0x872)+_0x5b788b+_0xeab65d(0xcba))[_0xeab65d(0x77f)]('');}else{if(_0xc2d7ea===_0xeab65d(0x8ad)){const _0x5ec0c0=_0x19becc[_0xeab65d(0x783)]||[];_0x405d8d=_0x5ec0c0[_0xeab65d(0x2b5)](_0x5da41d=>_0xeab65d(0x79b)+(_0x5da41d===_0x19becc[_0xeab65d(0x1db)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5da41d+_0xeab65d(0xcba))[_0xeab65d(0x77f)]('');}}const _0x4b0e51=_0x19becc[_0xeab65d(0xc5b)]||_0x19becc[_0xeab65d(0x3ab)],_0x41e7b9=_0xeab65d(0xaca)+(_0x5d2540+0x1)+_0xeab65d(0xb32)+_0x5c4459+_0xeab65d(0xc15)+currentLiveGamePin+_0xeab65d(0x3cf)+_0x4b0e51+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x405d8d+_0xeab65d(0x2dd);liveGameView[_0xeab65d(0x6b3)]=_0x41e7b9,window[_0xeab65d(0x7c4)]&&MathJax[_0xeab65d(0xa7b)]&&MathJax[_0xeab65d(0xa7b)]([liveGameView]),document[_0xeab65d(0x9bf)](_0xeab65d(0x537))[_0xeab65d(0x8c1)](_0xeab65d(0x7c2),()=>revealAnswerForAdmin(_0x5d2540,_0x5c4459)),document[_0xeab65d(0x9bf)](_0xeab65d(0x89b))['addEventListener'](_0xeab65d(0x7c2),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x387115=_0x5713,_0x455feb=doc(db,_0x387115(0x30c)+appId+_0x387115(0x9cd),currentLiveGameId);await updateDoc(_0x455feb,{'status':_0x387115(0x21b)});});}),document[_0xeab65d(0x9bf)](_0xeab65d(0x844))[_0xeab65d(0x8c1)](_0xeab65d(0x7c2),()=>{const _0x247fff=_0xeab65d;document[_0x247fff(0x9bf)]('live-player-management')['classList']['toggle'](_0x247fff(0x8da));});}function promptForProjectBeforeGenerating(_0x2aad65){const _0x4d20f1=_0x1d88bf,_0x612d0a=document[_0x4d20f1(0x9bf)](_0x4d20f1(0x5d4)),_0x59bdae=document[_0x4d20f1(0x9bf)](_0x4d20f1(0xad7)),_0xf62fae=_0x612d0a[_0x4d20f1(0x583)]('h3'),_0x299f07=document['getElementById'](_0x4d20f1(0x6d6)),_0x5df7d7=document[_0x4d20f1(0x9bf)]('cancel-move-quiz-btn');_0xf62fae[_0x4d20f1(0xa9a)]=_0x4d20f1(0x9fc),_0x299f07['textContent']='เลือกและเริ่มสร้าง',_0x299f07[_0x4d20f1(0x6d3)]=!![];allProjects[_0x4d20f1(0x9dc)]===0x0?_0x59bdae['innerHTML']=_0x4d20f1(0x49a):(_0x59bdae['innerHTML']=_0x4d20f1(0x392)+allProjects[_0x4d20f1(0x2b5)](_0x27d3e0=>_0x4d20f1(0x78c)+_0x27d3e0['id']+'\x22>'+_0x27d3e0[_0x4d20f1(0x9e9)]+_0x4d20f1(0x1b9))[_0x4d20f1(0x77f)](''),_0x299f07[_0x4d20f1(0x6d3)]=![]);_0x612d0a['classList'][_0x4d20f1(0x2bd)](_0x4d20f1(0x8da));const _0xc78a2d=async()=>{const _0x2518bc=_0x4d20f1,_0x553e54=_0x59bdae[_0x2518bc(0xb00)];if(!_0x553e54){showMessage(_0x2518bc(0xa1d));return;}_0x612d0a[_0x2518bc(0x5a7)]['add']('hidden'),await loadProjectDetails(_0x553e54),showView(_0x2518bc(0xb9c)),handleGenerateQuizFromBlueprintTopic(_0x2aad65),_0x1189d8();},_0x1189d8=()=>{const _0x300108=_0x4d20f1;_0xf62fae[_0x300108(0xa9a)]=_0x300108(0x5d1),_0x299f07[_0x300108(0xa9a)]='ย้าย',_0x299f07[_0x300108(0x930)]('click',_0xc78a2d),_0x5df7d7[_0x300108(0x930)](_0x300108(0x7c2),_0x1189d8),_0x299f07[_0x300108(0x8c1)](_0x300108(0x7c2),confirmMoveQuiz);};_0x299f07[_0x4d20f1(0x930)](_0x4d20f1(0x7c2),confirmMoveQuiz),_0x299f07[_0x4d20f1(0x8c1)](_0x4d20f1(0x7c2),_0xc78a2d),_0x5df7d7[_0x4d20f1(0x8c1)](_0x4d20f1(0x7c2),_0x1189d8);}function showStudentLiveQuestionView(_0x59a09e,_0x441953,_0x36e458){const _0x31967b=_0x1d88bf,_0x4cbd5c=_0x59a09e[_0x31967b(0xa42)]||currentQuizData['quizType'];let _0x5ce4f2='';if(_0x4cbd5c==='multiple_choice'||_0x4cbd5c===_0x31967b(0x9c3)){const _0x424374=_0x4cbd5c===_0x31967b(0x9c3)?[_0x31967b(0xb12),'ไม่ใช่']:_0x59a09e['options'];_0x5ce4f2=_0x424374[_0x31967b(0x2b5)]((_0x4cee43,_0x293bd4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x293bd4+_0x31967b(0x4cc)+_0x4cee43+_0x31967b(0x658))[_0x31967b(0x77f)]('');}else{if(_0x4cbd5c===_0x31967b(0x8ad)){const _0x3357a9=_0x59a09e['allResponses']||[];_0x5ce4f2=_0x3357a9[_0x31967b(0x2b5)]((_0x1e1b83,_0x366add)=>_0x31967b(0x1c9)+_0x366add+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e1b83+_0x31967b(0x658))['join']('');}else _0x4cbd5c==='short_answer'&&(_0x5ce4f2=_0x31967b(0x794));}const _0x320528=_0x59a09e['stem']||_0x59a09e['questionText'],_0x126689='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x441953+0x1)+_0x31967b(0xb32)+_0x36e458+_0x31967b(0x718)+_0x320528+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ce4f2+_0x31967b(0x8e6);liveGameView['innerHTML']=_0x126689;window[_0x31967b(0x7c4)]&&MathJax['typesetPromise']&&MathJax[_0x31967b(0xa7b)]([liveGameView]);const _0x31329c=document[_0x31967b(0x9bf)](_0x31967b(0x3fe));_0x31329c&&_0x31329c[_0x31967b(0x8c1)](_0x31967b(0x7c2),()=>{const _0x586416=_0x31967b,_0x481ce4=document[_0x586416(0x9bf)](_0x586416(0x1ed))[_0x586416(0xb00)];handleLiveAnswer(_0x481ce4,_0x59a09e);}),document[_0x31967b(0x9bf)](_0x31967b(0xb68))[_0x31967b(0x8c1)]('click',_0x147d27=>{const _0x364689=_0x31967b,_0x438fd8=_0x147d27[_0x364689(0x964)][_0x364689(0xa13)](_0x364689(0x63e));if(_0x438fd8){const _0x4d1b26=parseInt(_0x438fd8[_0x364689(0xc05)][_0x364689(0x201)]);handleLiveAnswer(_0x4d1b26,_0x59a09e);}});}function listenForBlueprintShortcuts(){const _0x1a34b9=_0x1d88bf,_0x1fcd6f=doc(db,_0x1a34b9(0xb35),_0x1a34b9(0xa2a));onSnapshot(_0x1fcd6f,_0x182c27=>{const _0x5c89c1=_0x1a34b9;let _0x4330be=[],_0x594bb3=[],_0x393da9={};if(_0x182c27['exists']()){const _0xa5ab07=_0x182c27[_0x5c89c1(0x7bb)]();_0x4330be=_0xa5ab07[_0x5c89c1(0xba4)]||[],_0x594bb3=_0xa5ab07[_0x5c89c1(0x512)]||[],_0x393da9=_0xa5ab07['shortcutOrder']||{};}!_0x594bb3['find'](_0xa72300=>_0xa72300['id']===_0x5c89c1(0x875))&&_0x594bb3[_0x5c89c1(0x5d5)]({'id':_0x5c89c1(0x875),'name':_0x5c89c1(0x927),'isDefault':!![]}),!_0x4330be[_0x5c89c1(0x9c1)](_0x498597=>_0x498597['id']==='default-1')&&_0x4330be[_0x5c89c1(0x5d5)]({'id':_0x5c89c1(0x99c),'name':_0x5c89c1(0xc53),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x4330be[_0x5c89c1(0x9c1)](_0x35e7be=>_0x35e7be['id']===_0x5c89c1(0x919))&&_0x4330be[_0x5c89c1(0x5d5)]({'id':_0x5c89c1(0x919),'name':_0x5c89c1(0xa05),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x4330be,shortcutTabs=_0x594bb3,shortcutOrder=_0x393da9,renderBlueprintShortcuts(),!document[_0x5c89c1(0x9bf)](_0x5c89c1(0x59c))[_0x5c89c1(0x5a7)][_0x5c89c1(0x2be)](_0x5c89c1(0x8da))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x17c98d=_0x1d88bf,_0x176240=document[_0x17c98d(0x9bf)](_0x17c98d(0xbdb)),_0x27d686=document[_0x17c98d(0x9bf)](_0x17c98d(0x4e4));if(!_0x176240||!_0x27d686)return;_0x176240[_0x17c98d(0x6b3)]=shortcutTabs['map'](_0x1e0f19=>{const _0x5997f3=_0x17c98d,_0x16ea1f=_0x1e0f19['id']===activeShortcutTabId,_0x24c3e3=_0x5997f3(0xc6a),_0x3ffcc9=_0x5997f3(0xbfb);return _0x5997f3(0x816)+_0x1e0f19['id']+_0x5997f3(0x466)+(_0x16ea1f?_0x24c3e3:_0x3ffcc9)+_0x5997f3(0x947)+_0x1e0f19[_0x5997f3(0xa80)]+_0x5997f3(0xc83)+_0x1e0f19['name']+_0x5997f3(0x675)+(!_0x1e0f19[_0x5997f3(0x2e5)]?_0x5997f3(0x206)+_0x1e0f19['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x5997f3(0xcba);})[_0x17c98d(0x77f)]('');const _0x26df2e=shortcutTabs[_0x17c98d(0x9c1)](_0x4b5155=>_0x4b5155['id']===activeShortcutTabId);let _0x95442=[];if(_0x26df2e){if(_0x26df2e['isDefault'])_0x95442=[...blueprintShortcuts];else{const _0x18265c=_0x26df2e[_0x17c98d(0x84e)]||[];_0x95442=blueprintShortcuts[_0x17c98d(0x408)](_0x53ed46=>_0x18265c[_0x17c98d(0x3b4)](_0x53ed46['id']));}}const _0x43af89=shortcutOrder[activeShortcutTabId]||[];_0x95442[_0x17c98d(0x79f)]((_0x448396,_0x977c58)=>{const _0x44c71a=_0x17c98d,_0x3a8096=_0x43af89[_0x44c71a(0x3e8)](_0x448396['id']),_0x1eeeaa=_0x43af89['indexOf'](_0x977c58['id']);if(_0x3a8096===-0x1)return 0x1;if(_0x1eeeaa===-0x1)return-0x1;return _0x3a8096-_0x1eeeaa;}),_0x27d686[_0x17c98d(0x6b3)]=_0x95442[_0x17c98d(0x9dc)]>0x0?_0x95442[_0x17c98d(0x2b5)](_0x4860b8=>{const _0x38f7a7=_0x17c98d;let _0x1c5625='🧩';if(_0x4860b8[_0x38f7a7(0x38a)]&&_0x4860b8[_0x38f7a7(0x2a0)])_0x1c5625='📗';else{if(_0x4860b8[_0x38f7a7(0x38a)])_0x1c5625='📘';}const _0x4cbe30=shortcutTabs[_0x38f7a7(0x408)](_0x4f9c05=>!_0x4f9c05['isDefault']),_0x55c541=_0x26df2e['isDefault']&&_0x4cbe30[_0x38f7a7(0x9dc)]>0x0?_0x38f7a7(0x7e8)+_0x4cbe30[_0x38f7a7(0x2b5)](_0x54d3dc=>_0x38f7a7(0x37a)+_0x4860b8['id']+_0x38f7a7(0x2e2)+_0x54d3dc['id']+'\x22>'+_0x54d3dc[_0x38f7a7(0xa80)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x38f7a7(0x77f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x4860b8['id']+_0x38f7a7(0x43b)+_0x1c5625+'\x20'+_0x4860b8['name']+_0x38f7a7(0xb5d)+_0x4860b8['id']+_0x38f7a7(0x3d8)+_0x4860b8['id']+_0x38f7a7(0xac0)+(!_0x4860b8['isDefault']?_0x38f7a7(0x3fc)+_0x4860b8['id']+_0x38f7a7(0xc16):'')+_0x38f7a7(0x2c2)+(!_0x26df2e[_0x38f7a7(0x2e5)]?_0x38f7a7(0xb45)+_0x4860b8['id']+_0x38f7a7(0x8c5):'')+_0x38f7a7(0x2c2)+_0x55c541+_0x38f7a7(0xc59);})['join'](''):_0x17c98d(0xa26),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x737c7=_0x1d88bf;document['querySelectorAll'](_0x737c7(0x4b2))[_0x737c7(0xb2a)](_0x193eb9=>{const _0x3d5e56=_0x737c7;_0x193eb9[_0x3d5e56(0x8c1)](_0x3d5e56(0x7c2),_0x59b1eb=>{const _0x19aca8=_0x3d5e56;activeShortcutTabId=_0x59b1eb[_0x19aca8(0x753)]['dataset'][_0x19aca8(0xcd2)],renderAdditionalShortcutsModal();}),_0x193eb9[_0x3d5e56(0x8c1)](_0x3d5e56(0x40f),_0xb637cd=>{const _0x55e1a3=_0x3d5e56,_0x343966=_0xb637cd[_0x55e1a3(0x753)];_0x343966[_0x55e1a3(0x583)](_0x55e1a3(0x1a7))[_0x55e1a3(0x5a7)]['add']('hidden');const _0x30bbf2=_0x343966['querySelector'](_0x55e1a3(0xb60));_0x30bbf2['classList'][_0x55e1a3(0x2bd)](_0x55e1a3(0x8da)),_0x30bbf2[_0x55e1a3(0x544)](),_0x30bbf2[_0x55e1a3(0x81a)]();});}),document[_0x737c7(0x468)]('.tab-name-input')[_0x737c7(0xb2a)](_0x1126dc=>{const _0x154e20=_0x737c7,_0x581fb4=()=>{const _0x36f047=_0x5713,_0x466d24=_0x1126dc[_0x36f047(0xa13)](_0x36f047(0x4b2))[_0x36f047(0xc05)][_0x36f047(0xcd2)];handleRenameShortcutTab(_0x466d24,_0x1126dc[_0x36f047(0xb00)]);};_0x1126dc[_0x154e20(0x8c1)]('blur',_0x581fb4),_0x1126dc[_0x154e20(0x8c1)](_0x154e20(0x59b),_0x34a035=>{const _0x1d6ce7=_0x154e20;if(_0x34a035[_0x1d6ce7(0xc07)]===_0x1d6ce7(0x787))_0x1126dc[_0x1d6ce7(0x61e)]();});}),document['querySelectorAll'](_0x737c7(0x928))[_0x737c7(0xb2a)](_0x63210c=>{const _0x22ace5=_0x737c7;_0x63210c['addEventListener'](_0x22ace5(0x7c2),_0x2df51f=>handleDeleteShortcutTab(_0x2df51f[_0x22ace5(0x753)]['dataset'][_0x22ace5(0xcd2)]));}),document['querySelectorAll'](_0x737c7(0xc61))[_0x737c7(0xb2a)](_0x3320a3=>{const _0x3dcf1f=_0x737c7;_0x3320a3[_0x3dcf1f(0x8c1)](_0x3dcf1f(0x7c2),_0x55d0c4=>{const _0x3cfb35=_0x3dcf1f;_0x55d0c4[_0x3cfb35(0x1a4)]();const {shortcutId:_0x3a0c88,targetTabId:_0x546d91}=_0x55d0c4[_0x3cfb35(0x753)][_0x3cfb35(0xc05)];handleMoveShortcutToTab(_0x3a0c88,_0x546d91);});}),document[_0x737c7(0x468)](_0x737c7(0x57a))[_0x737c7(0xb2a)](_0x5a9fac=>{const _0x454024=_0x737c7;_0x5a9fac[_0x454024(0x8c1)]('click',_0x39e0f0=>{const _0x3e4d17=_0x454024;handleRemoveShortcutFromTab(_0x39e0f0[_0x3e4d17(0x753)][_0x3e4d17(0xc05)][_0x3e4d17(0x719)],activeShortcutTabId);});});const _0x110890=document[_0x737c7(0x9bf)](_0x737c7(0x4e4));_0x110890[_0x737c7(0x468)](_0x737c7(0x9d8))[_0x737c7(0xb2a)](_0x595f8d=>{_0x595f8d['addEventListener']('click',()=>{const _0x123e1d=_0x5713;document['getElementById'](_0x123e1d(0x59c))[_0x123e1d(0x5a7)][_0x123e1d(0x3b1)](_0x123e1d(0x8da)),handleShortcutClick(_0x595f8d[_0x123e1d(0xc05)]['id']);});});let _0x18bd32=null;_0x110890['addEventListener'](_0x737c7(0x913),_0x576517=>{const _0x237ac4=_0x737c7;_0x18bd32=_0x576517[_0x237ac4(0x964)][_0x237ac4(0xa13)](_0x237ac4(0x826)),_0x18bd32&&setTimeout(()=>_0x18bd32[_0x237ac4(0x5a7)]['add'](_0x237ac4(0x355)),0x0);}),_0x110890[_0x737c7(0x8c1)](_0x737c7(0x331),()=>{const _0xcf47d2=_0x737c7;_0x18bd32&&(_0x18bd32['classList'][_0xcf47d2(0x2bd)]('opacity-50'),_0x18bd32=null);}),_0x110890['addEventListener'](_0x737c7(0x7da),_0x3cfa6b=>{const _0x17abaf=_0x737c7;_0x3cfa6b['preventDefault']();const _0x4af7f5=[..._0x110890['querySelectorAll'](_0x17abaf(0xc50))][_0x17abaf(0x9f5)]((_0x4d5f95,_0x3dc5b6)=>{const _0x4d9270=_0x17abaf,_0x2622c8=_0x3dc5b6['getBoundingClientRect'](),_0x1dcfd8=_0x3cfa6b[_0x4d9270(0x1d6)]-_0x2622c8['top']-_0x2622c8[_0x4d9270(0xb89)]/0x2;return _0x1dcfd8<0x0&&_0x1dcfd8>_0x4d5f95['offset']?{'offset':_0x1dcfd8,'element':_0x3dc5b6}:_0x4d5f95;},{'offset':Number[_0x17abaf(0x4c9)]})[_0x17abaf(0x325)];_0x4af7f5==null?_0x110890[_0x17abaf(0x5b9)](_0x18bd32):_0x110890[_0x17abaf(0x3ea)](_0x18bd32,_0x4af7f5);}),_0x110890[_0x737c7(0x8c1)](_0x737c7(0x9e1),_0x4317de=>{const _0x2edde8=_0x737c7;_0x4317de[_0x2edde8(0x1a4)]();if(_0x18bd32){const _0x571bcd=[..._0x110890['querySelectorAll']('.shortcut-list-item')][_0x2edde8(0x2b5)](_0x19d64d=>_0x19d64d[_0x2edde8(0xc05)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x571bcd);}}),document['querySelectorAll'](_0x737c7(0xccf))[_0x737c7(0xb2a)](_0x2c3a7b=>{const _0x59c7fa=_0x737c7;_0x2c3a7b['addEventListener'](_0x59c7fa(0x7c2),_0x11ccd4=>{const _0x365559=_0x59c7fa;_0x11ccd4[_0x365559(0x778)]();const _0x55966c=_0x11ccd4['currentTarget']['nextElementSibling'],_0x424964=_0x55966c[_0x365559(0x5a7)][_0x365559(0x2be)](_0x365559(0x8da));document['querySelectorAll']('.move-shortcut-dropdown')[_0x365559(0xb2a)](_0x14573d=>_0x14573d['classList'][_0x365559(0x3b1)](_0x365559(0x8da))),_0x424964&&_0x55966c[_0x365559(0x5a7)][_0x365559(0x2bd)](_0x365559(0x8da));});});}document[_0x1d88bf(0x8c1)]('click',_0x46a213=>{const _0x40377b=_0x1d88bf;!_0x46a213[_0x40377b(0x964)]['closest'](_0x40377b(0xca2))&&document['querySelectorAll'](_0x40377b(0xa63))[_0x40377b(0xb2a)](_0x445054=>_0x445054[_0x40377b(0x5a7)]['add']('hidden'));});async function saveShortcutConfig(){const _0x571999=_0x1d88bf,_0x37908f=doc(db,_0x571999(0xb35),'dashboardConfig');try{await setDoc(_0x37908f,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x330b01){console[_0x571999(0x56e)]('Error\x20saving\x20shortcut\x20config:',_0x330b01);}}async function handleAddShortcutTab(){const _0x5a04ca=_0x1d88bf,_0x1b3ca5=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x1b3ca5||_0x1b3ca5['trim']()==='')return;shortcutTabs[_0x5a04ca(0x488)]({'id':_0x5a04ca(0xc8c)+Date['now'](),'name':_0x1b3ca5[_0x5a04ca(0xb22)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x2cd5f7,_0x472fe6){const _0x4fc3da=_0x1d88bf,_0x405313=shortcutTabs[_0x4fc3da(0x9c1)](_0x4ad032=>_0x4ad032['id']===_0x2cd5f7);_0x405313&&_0x472fe6['trim']()!==''&&(_0x405313['name']=_0x472fe6[_0x4fc3da(0xb22)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x5021fe){const _0x53bf46=_0x1d88bf,_0x60e2e7=shortcutTabs['find'](_0x43f918=>_0x43f918['id']===_0x5021fe);_0x60e2e7&&!_0x60e2e7[_0x53bf46(0x2e5)]&&showConfirmation(_0x53bf46(0xbbd)+_0x60e2e7[_0x53bf46(0xa80)]+_0x53bf46(0xcda),async()=>{const _0x201712=_0x53bf46;shortcutTabs=shortcutTabs[_0x201712(0x408)](_0x47bbce=>_0x47bbce['id']!==_0x5021fe),delete shortcutOrder[_0x5021fe];if(activeShortcutTabId===_0x5021fe)activeShortcutTabId=_0x201712(0x875);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x9a8d45,_0x3d6dfe){const _0x220696=_0x1d88bf,_0x4199c8=shortcutTabs['find'](_0x7d7a04=>_0x7d7a04['id']===_0x3d6dfe);_0x4199c8&&!_0x4199c8[_0x220696(0x84e)][_0x220696(0x3b4)](_0x9a8d45)&&(_0x4199c8[_0x220696(0x84e)][_0x220696(0x488)](_0x9a8d45),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x2cc30e,_0x146776){const _0x25b460=_0x1d88bf,_0x109a23=shortcutTabs[_0x25b460(0x9c1)](_0x321565=>_0x321565['id']===_0x146776);_0x109a23&&!_0x109a23['isDefault']&&(_0x109a23[_0x25b460(0x84e)]=_0x109a23[_0x25b460(0x84e)][_0x25b460(0x408)](_0x3a16f3=>_0x3a16f3!==_0x2cc30e),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x718286,_0x9e7cef){shortcutOrder[_0x718286]=_0x9e7cef,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x1f2975=_0x1d88bf,_0x50d82a=document['getElementById'](_0x1f2975(0x296)),_0x593f8f=document[_0x1f2975(0x9bf)]('additional-shortcuts-list'),_0x4dcf34=document[_0x1f2975(0x9bf)](_0x1f2975(0x555));_0x4dcf34&&_0x4dcf34[_0x1f2975(0x5a7)][_0x1f2975(0x3b1)](_0x1f2975(0x8da));if(!_0x50d82a||!_0x593f8f)return;const _0x36b30f=blueprintShortcuts[_0x1f2975(0x3d9)](0x0,0x4),_0x4e5ab3=blueprintShortcuts[_0x1f2975(0x3d9)](0x4);_0x50d82a[_0x1f2975(0x6b3)]=_0x36b30f[_0x1f2975(0x2b5)](_0x2cd600=>{const _0x430ffa=_0x1f2975;let _0x111f65=_0x430ffa(0x4f4),_0x18f130='🧩';if(_0x2cd600['blueprintUrl']&&_0x2cd600[_0x430ffa(0x2a0)])_0x111f65=_0x430ffa(0x1b5),_0x18f130='📗';else _0x2cd600[_0x430ffa(0x38a)]&&(_0x111f65=_0x430ffa(0xbd7),_0x18f130='📘');const _0xab1f70=!_0x2cd600[_0x430ffa(0x2e5)]?_0x430ffa(0x3fc)+_0x2cd600['id']+_0x430ffa(0xc2e):'';return _0x430ffa(0x361)+_0x2cd600['id']+_0x430ffa(0xa52)+_0x111f65+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x18f130+'\x20'+_0x2cd600['name']+_0x430ffa(0xb41)+_0x2cd600['id']+_0x430ffa(0x5c7)+_0xab1f70+_0x430ffa(0xcba);})[_0x1f2975(0x77f)](''),_0x4e5ab3[_0x1f2975(0x9dc)]>0x0&&(_0x50d82a[_0x1f2975(0x6b3)]+=_0x1f2975(0x54f)),_0x4e5ab3['length']>0x0?_0x593f8f[_0x1f2975(0x6b3)]=_0x4e5ab3['map'](_0x2821ac=>{const _0x2d79a9=_0x1f2975;let _0x5f3b36='🧩';if(_0x2821ac['blueprintUrl']&&_0x2821ac['referenceUrl'])_0x5f3b36='📗';else _0x2821ac['blueprintUrl']&&(_0x5f3b36='📘');return _0x2d79a9(0xc02)+_0x5f3b36+'\x20'+_0x2821ac[_0x2d79a9(0xa80)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2821ac['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2821ac['id']+_0x2d79a9(0xac0)+(!_0x2821ac[_0x2d79a9(0x2e5)]?_0x2d79a9(0x3fc)+_0x2821ac['id']+_0x2d79a9(0xc16):'')+_0x2d79a9(0x542);})[_0x1f2975(0x77f)](''):_0x593f8f[_0x1f2975(0x6b3)]=_0x1f2975(0x535);}function getMimeTypeFromFilename(_0x1ec286){const _0xde8a13=_0x1d88bf,_0x4295d4=_0x1ec286['split']('.')[_0xde8a13(0x2dc)]()['toLowerCase']();switch(_0x4295d4){case _0xde8a13(0x25b):return _0xde8a13(0x726);case _0xde8a13(0x309):return _0xde8a13(0x2b2);default:return _0xde8a13(0x726);}}function openShortcutEditor(_0x58fdbc=null){const _0x261f38=_0x1d88bf,_0x11b563=document[_0x261f38(0x9bf)](_0x261f38(0x4f3)),_0x17cf04=document[_0x261f38(0x9bf)]('shortcut-modal-title'),_0x69e6ca=document[_0x261f38(0x9bf)](_0x261f38(0x94b)),_0x5917af=document['getElementById'](_0x261f38(0x4bc)),_0x20ef63=document[_0x261f38(0x9bf)](_0x261f38(0x710)),_0x4c0063=document[_0x261f38(0x9bf)]('shortcut-reference-url-input');if(_0x58fdbc){const _0x217c26=blueprintShortcuts[_0x261f38(0x9c1)](_0x30a2e9=>_0x30a2e9['id']===_0x58fdbc);if(!_0x217c26)return;_0x17cf04[_0x261f38(0xa9a)]='แก้ไขปุ่มลัด',_0x69e6ca[_0x261f38(0xb00)]=_0x217c26['id'],_0x5917af[_0x261f38(0xb00)]=_0x217c26['name'],_0x20ef63[_0x261f38(0xb00)]=_0x217c26[_0x261f38(0x38a)]||'',_0x4c0063['value']=_0x217c26[_0x261f38(0x2a0)]||'';}else _0x17cf04[_0x261f38(0xa9a)]='เพิ่มปุ่มลัดใหม่',_0x69e6ca['value']='',_0x5917af[_0x261f38(0xb00)]='',_0x20ef63[_0x261f38(0xb00)]='',_0x4c0063[_0x261f38(0xb00)]='';_0x11b563[_0x261f38(0x5a7)][_0x261f38(0x2bd)](_0x261f38(0x8da));}async function saveShortcutChanges(){const _0x23332f=_0x1d88bf,_0x5713e7=document[_0x23332f(0x9bf)](_0x23332f(0x94b))['value'],_0x4cfa78=document['getElementById']('shortcut-name-input')[_0x23332f(0xb00)]['trim'](),_0x33015d=document[_0x23332f(0x9bf)](_0x23332f(0x710))[_0x23332f(0xb00)][_0x23332f(0xb22)]();if(!_0x4cfa78||!_0x33015d){showMessage(_0x23332f(0x23f));return;}const _0x3996ca={'id':_0x5713e7||_0x23332f(0x620)+Date[_0x23332f(0x49e)](),'name':_0x4cfa78,'blueprintUrl':_0x33015d,'referenceUrl':document[_0x23332f(0x9bf)](_0x23332f(0x3b8))[_0x23332f(0xb00)]['trim'](),'isDefault':_0x5713e7[_0x23332f(0x26d)](_0x23332f(0x4ad))};let _0x136aa6;_0x5713e7?_0x136aa6=blueprintShortcuts[_0x23332f(0x2b5)](_0xd3a26b=>_0xd3a26b['id']===_0x5713e7?_0x3996ca:_0xd3a26b):_0x136aa6=[...blueprintShortcuts,_0x3996ca];try{const _0x535ba7=doc(db,_0x23332f(0xb35),_0x23332f(0xa2a));await setDoc(_0x535ba7,{'blueprintShortcuts':_0x136aa6},{'merge':!![]}),document[_0x23332f(0x9bf)](_0x23332f(0x4f3))[_0x23332f(0x5a7)][_0x23332f(0x3b1)]('hidden');}catch(_0x356b8e){console[_0x23332f(0x56e)](_0x23332f(0x25f),_0x356b8e),showMessage(_0x23332f(0x74d));}}async function handleShortcutClick(_0x4ed813){const _0xd34a97=_0x1d88bf,_0x3a85ff=blueprintShortcuts['find'](_0x148705=>_0x148705['id']===_0x4ed813);if(!_0x3a85ff||!_0x3a85ff[_0xd34a97(0x38a)])return;document['getElementById'](_0xd34a97(0x2fc))[_0xd34a97(0x5a7)][_0xd34a97(0x3b1)](_0xd34a97(0x8da)),document['getElementById'](_0xd34a97(0x344))[_0xd34a97(0x6d3)]=!![];const _0x379081=document[_0xd34a97(0x9bf)]('loader'),_0x4b7c5f=document[_0xd34a97(0x9bf)](_0xd34a97(0xc09));document[_0xd34a97(0x9bf)]('quiz-generation-area')[_0xd34a97(0x5a7)]['remove'](_0xd34a97(0x8da)),document[_0xd34a97(0x9bf)](_0xd34a97(0x59f))[_0xd34a97(0x6b3)]='',_0x379081['classList']['remove'](_0xd34a97(0x8da));try{_0x4b7c5f[_0xd34a97(0xa9a)]=_0xd34a97(0x827);const _0x5a3e7c=await fetchFileFromUrl(_0x3a85ff['blueprintUrl'],_0xd34a97(0xa5e));let _0x513ba6=null;if(_0x3a85ff[_0xd34a97(0x2a0)]){_0x4b7c5f[_0xd34a97(0xa9a)]=_0xd34a97(0x46e);const _0x6f2050=_0x3a85ff['referenceUrl'][_0xd34a97(0xbb3)]()[_0xd34a97(0xc22)]('.txt')?'reference.txt':_0xd34a97(0xcb8);_0x513ba6=await fetchFileFromUrl(_0x3a85ff[_0xd34a97(0x2a0)],_0x6f2050);}await handleGenerateFromBlueprintWithFiles(_0x5a3e7c,_0x513ba6);}catch(_0x328707){console[_0xd34a97(0x56e)](_0xd34a97(0x643),_0x328707),showMessage('เกิดข้อผิดพลาด:\x20'+_0x328707[_0xd34a97(0x68b)]),_0x379081['classList'][_0xd34a97(0x3b1)](_0xd34a97(0x8da));}}function getDirectDownloadUrl(_0x343714){const _0x59b3e6=_0x1d88bf,_0x1b9a41=_0x343714[_0x59b3e6(0x212)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x1b9a41&&_0x1b9a41[0x1])return'https://drive.google.com/uc?export=download&id='+_0x1b9a41[0x1];return _0x343714;}async function fetchFileFromUrl(_0x38c524,_0x1e665f){const _0x3457fc=_0x1d88bf,_0x1fe585=getDirectDownloadUrl(_0x38c524),_0x3c9bca='https://corsproxy.io/?'+encodeURIComponent(_0x1fe585),_0xaf120d=await fetch(_0x3c9bca);if(!_0xaf120d['ok'])throw new Error(_0x3457fc(0xae0)+_0xaf120d[_0x3457fc(0x5e0)]+')');const _0x2f62e8=await _0xaf120d['blob'](),_0x214b86=await new Promise((_0x37d638,_0x5dace0)=>{const _0x1018bc=_0x3457fc,_0x51dffc=new FileReader();_0x51dffc[_0x1018bc(0xc0e)]=()=>_0x37d638(new Uint8Array(_0x51dffc[_0x1018bc(0x618)])),_0x51dffc[_0x1018bc(0x1c7)]=_0x5dace0,_0x51dffc['readAsArrayBuffer'](_0x2f62e8[_0x1018bc(0x3d9)](0x0,0x4));});let _0x490283='';const _0x5bc7b6=new TextDecoder()[_0x3457fc(0x7d7)](_0x214b86);return _0x5bc7b6===_0x3457fc(0x768)?(_0x490283='application/pdf',console[_0x3457fc(0xc30)](_0x3457fc(0xc06))):(_0x490283=_0x3457fc(0x2b2),console[_0x3457fc(0xc30)](_0x3457fc(0xb20))),new File([_0x2f62e8],_0x1e665f,{'type':_0x490283});}async function handleGenerateFromBlueprintWithFiles(_0x2dfc86,_0x6bb357=null){const _0x17d53d=_0x1d88bf;if(!_0x2dfc86){showMessage(_0x17d53d(0xab1));return;}const _0x41218e=document[_0x17d53d(0x9bf)](_0x17d53d(0x91e)),_0x176b76=document[_0x17d53d(0x9bf)](_0x17d53d(0xc09));_0x41218e[_0x17d53d(0x5a7)][_0x17d53d(0x2bd)](_0x17d53d(0x8da)),document[_0x17d53d(0x9bf)]('quiz-generation-area')[_0x17d53d(0x5a7)]['remove'](_0x17d53d(0x8da)),document[_0x17d53d(0x9bf)](_0x17d53d(0x59f))['innerHTML']='';try{_0x176b76['textContent']=_0x17d53d(0x6b9);const _0xd61b3a=await new Promise((_0x464da0,_0x59b1e3)=>{const _0x4f1490=_0x17d53d,_0x550f19=new FileReader();_0x550f19[_0x4f1490(0x7a1)](_0x2dfc86),_0x550f19[_0x4f1490(0x97a)]=()=>_0x464da0(_0x550f19[_0x4f1490(0x618)]['split'](',')[0x1]),_0x550f19[_0x4f1490(0x1c7)]=_0x59b1e3;}),_0x2a0a23=[];if(_0x6bb357){_0x176b76[_0x17d53d(0xa9a)]='กำลังอ่านไฟล์อ้างอิง...';const _0x4d064f=await _0x6bb357[_0x17d53d(0xa95)]();_0x2a0a23[_0x17d53d(0x488)]({'text':_0x17d53d(0x9ec)+_0x4d064f});}const _0x55d24e=[{'text':'...'},{'inlineData':{'mimeType':_0x2dfc86[_0x17d53d(0x397)],'data':_0xd61b3a}},..._0x2a0a23];await handleGenerateFromBlueprint(_0x55d24e);}catch(_0x3dd1e0){console[_0x17d53d(0x56e)](_0x17d53d(0x754),_0x3dd1e0),showMessage(_0x17d53d(0x96a)+_0x3dd1e0['message']),_0x41218e[_0x17d53d(0x5a7)][_0x17d53d(0x3b1)](_0x17d53d(0x8da));}}async function handleLiveAnswer(_0x4f6a9,_0x19623e){const _0x33168f=_0x1d88bf;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x33168f(0xb2a)](_0x2136ee=>_0x2136ee[_0x33168f(0x6d3)]=!![]);const _0x19113c=_0x19623e[_0x33168f(0xa42)]||currentQuizData[_0x33168f(0x854)];let _0xa271be=![],_0x9e1078=_0x4f6a9;if(_0x19113c==='short_answer'){const _0x14605e=(_0x4f6a9||'')[_0x33168f(0xce7)]();_0xa271be=await gradeShortAnswer(_0x14605e,_0x19623e);}else{if(_0x19113c===_0x33168f(0xa01))_0xa271be=_0x4f6a9===_0x19623e[_0x33168f(0xcf3)];else{if(_0x19113c===_0x33168f(0x9c3)){const _0x254865=_0x19623e[_0x33168f(0x661)];_0xa271be=_0x4f6a9===0x0&&_0x254865||_0x4f6a9===0x1&&!_0x254865;}else{if(_0x19113c===_0x33168f(0x8ad)){const _0x481f5d=_0x19623e[_0x33168f(0x783)][_0x4f6a9];_0xa271be=_0x481f5d===_0x19623e[_0x33168f(0x1db)],_0x9e1078=_0x481f5d;}}}}const _0xccac9f=doc(db,_0x33168f(0x30c)+appId+_0x33168f(0x9cd),currentLiveGameId),_0x89863d={};_0x89863d[_0x33168f(0x668)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x89863d[_0x33168f(0x668)+currentStudentName+_0x33168f(0xa24)]=_0xa271be,_0x89863d[_0x33168f(0x668)+currentStudentName+'.lastAnswerIndex']=_0x19113c==='short_answer'||_0x19113c===_0x33168f(0x8ad)?null:_0x4f6a9,_0x89863d['players.'+currentStudentName+_0x33168f(0x65a)]=_0x9e1078,_0x89863d[_0x33168f(0x668)+currentStudentName+_0x33168f(0x7e1)]=serverTimestamp(),_0x89863d['players.'+currentStudentName+_0x33168f(0x519)]=![],await updateDoc(_0xccac9f,_0x89863d),liveGameView[_0x33168f(0x6b3)]=_0x33168f(0x648);}function showAdminSummaryView(_0x4372f9,_0x11bd3d){const _0x3b6620=_0x1d88bf,_0x5af3e8=Object[_0x3b6620(0xce2)](_0x4372f9[_0x3b6620(0x373)]||{}),_0x313266=_0x11bd3d['questionType']||currentQuizData[_0x3b6620(0x854)],_0x54d642=_0x313266===_0x3b6620(0x9c3)?[_0x3b6620(0xb12),_0x3b6620(0x1df)]:_0x11bd3d['options']||_0x11bd3d[_0x3b6620(0x783)]||[],_0x28dd0a={},_0x5706a1=new Array(_0x54d642['length'])['fill'](0x0);_0x54d642[_0x3b6620(0xb2a)]((_0x109050,_0x19af68)=>{_0x28dd0a[_0x19af68]=[];}),Object[_0x3b6620(0xb37)](_0x4372f9[_0x3b6620(0x373)]||{})[_0x3b6620(0xb2a)](([_0x5a65ce,_0x5dc2c7])=>{const _0x53e4e5=_0x3b6620;if(_0x5dc2c7[_0x53e4e5(0x5e0)]===_0x53e4e5(0x53f)&&_0x5dc2c7[_0x53e4e5(0x205)]!==undefined){const _0x360a21=_0x5dc2c7[_0x53e4e5(0x205)];_0x28dd0a[_0x360a21]&&(_0x28dd0a[_0x360a21][_0x53e4e5(0x488)](_0x5a65ce),_0x5706a1[_0x360a21]++);}});const _0x7c16a7=Math[_0x3b6620(0xc68)](..._0x5706a1,0x1),_0x4eba2a=_0x3b6620(0x429)+(_0x11bd3d[_0x3b6620(0xc5b)]||_0x11bd3d[_0x3b6620(0x3ab)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5706a1['map']((_0x6a9789,_0x462f11)=>{const _0x6638a=_0x3b6620,_0x4cd2b2=_0x28dd0a[_0x462f11]['length']>0x0?_0x28dd0a[_0x462f11][_0x6638a(0x77f)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x134667=![];if(_0x313266==='multiple_choice')_0x134667=_0x462f11===_0x11bd3d['correctAnswerIndex'];else{if(_0x313266===_0x6638a(0x9c3)){const _0x2646d5=_0x11bd3d[_0x6638a(0x661)];_0x134667=_0x2646d5&&_0x462f11===0x0||!_0x2646d5&&_0x462f11===0x1;}else _0x313266===_0x6638a(0x8ad)&&(_0x134667=_0x54d642[_0x462f11]===_0x11bd3d['correctResponse']);}const _0x2827b4=_0x134667?_0x6638a(0xb40):_0x6638a(0x52e);return _0x6638a(0x36d)+_0x6a9789+_0x6638a(0x5e6)+_0x2827b4+_0x6638a(0x47b)+_0x462f11+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x54d642[_0x462f11]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x462f11+_0x6638a(0xad3)+_0x4cd2b2+_0x6638a(0x53c);})[_0x3b6620(0x77f)]('')+_0x3b6620(0x66f);liveGameView[_0x3b6620(0x6b3)]=_0x4eba2a;if(window['MathJax'])MathJax['typesetPromise']();document['getElementById'](_0x3b6620(0x792))[_0x3b6620(0x8c1)](_0x3b6620(0x7c2),async()=>{const _0x40e2d7=_0x3b6620,_0x1ea419=doc(db,'artifacts/'+appId+_0x40e2d7(0x9cd),currentLiveGameId);await updateDoc(_0x1ea419,{'questionStatus':'leaderboard'});}),document[_0x3b6620(0x9bf)](_0x3b6620(0xcbc))[_0x3b6620(0x8c1)](_0x3b6620(0x7c2),()=>{openScratchpad(_0x11bd3d,_0x54d642);});}function showPlayerSummaryView(_0x3784dc,_0x4b61d5){const _0x5d4951=_0x1d88bf,_0x1a1b6f=Object[_0x5d4951(0xce2)](_0x3784dc['players']||{}),_0x40383c=_0x3784dc['players'][_0x4b61d5],_0x3a6e81=_0x1a1b6f['filter'](_0x5933ec=>_0x5933ec[_0x5d4951(0x5e0)]===_0x5d4951(0x53f))[_0x5d4951(0x79f)]((_0x237ca6,_0x388b74)=>_0x388b74[_0x5d4951(0x847)]-_0x237ca6[_0x5d4951(0x847)]),_0x16221e=_0x3a6e81[_0x5d4951(0x8e1)](_0x68153b=>_0x68153b===_0x40383c)+0x1,_0x955d50=_0x40383c[_0x5d4951(0x87b)]?_0x5d4951(0x630):_0x5d4951(0x24a),_0x1441cd=_0x40383c['lastAnswerCorrect']?_0x5d4951(0xab8):_0x5d4951(0x945),_0x330e5b=_0x40383c[_0x5d4951(0x9e4)]||0x0,_0xa42166='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x602770='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0xa42166+_0x5d4951(0x8ee)+_0x1441cd+_0x5d4951(0x334)+_0x955d50+_0x5d4951(0x4a1)+_0x330e5b+_0x5d4951(0x379)+(_0x16221e>0x0?_0x16221e:'-')+_0x5d4951(0xcf1);liveGameView[_0x5d4951(0x6b3)]=_0x602770;}function createQuizFromBank(){const _0x1e6d4d=_0x1d88bf,_0x416cfb=document[_0x1e6d4d(0x468)](_0x1e6d4d(0xab4));if(_0x416cfb[_0x1e6d4d(0x9dc)]===0x0){showMessage(_0x1e6d4d(0x69e));return;}const _0x298f10=[];_0x416cfb[_0x1e6d4d(0xb2a)](_0x1f7e48=>{const _0xe67b9d=_0x1e6d4d;_0x298f10[_0xe67b9d(0x488)](JSON[_0xe67b9d(0x784)](_0x1f7e48[_0xe67b9d(0xb00)]));});const _0x81763b={'topic':_0x1e6d4d(0x7d5),'questions':_0x298f10};displayGeneratedQuiz(_0x81763b);}function showAdminLobbyView(_0x109129,_0x30477c){const _0x45eebb=_0x1d88bf;showView(_0x45eebb(0x924));const _0x199d47=_0x45eebb(0x87c)+_0x30477c+_0x45eebb(0x522)+_0x109129+_0x45eebb(0x520);liveGameView['innerHTML']=_0x199d47,document['getElementById'](_0x45eebb(0x5f4))[_0x45eebb(0x8c1)](_0x45eebb(0x7c2),async()=>{const _0x59ef64=_0x45eebb;if(!currentQuizData||!currentQuizData['questions']||currentQuizData['questions'][_0x59ef64(0x9dc)]===0x0){showMessage(_0x59ef64(0xaac));return;}try{const _0xd6fbd2=doc(db,_0x59ef64(0x30c)+appId+_0x59ef64(0x9cd),currentLiveGameId);await updateDoc(_0xd6fbd2,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xbbec3a=currentQuizData[_0x59ef64(0xcaf)][0x0],_0x3d9b4b=currentQuizData[_0x59ef64(0xcaf)][_0x59ef64(0x9dc)];showAdminLiveQuestionView(_0xbbec3a,0x0,_0x3d9b4b);}catch(_0x12bd2e){console[_0x59ef64(0x56e)](_0x59ef64(0x43c),_0x12bd2e),showMessage(_0x59ef64(0x6f2));}});}async function openGlobalLiveModal(){const _0x3f8ed4=_0x1d88bf;if(allQuizzesGlobal[_0x3f8ed4(0x9dc)]===0x0){const _0x1f3298=await getDocs(collection(db,_0x3f8ed4(0x30c)+appId+_0x3f8ed4(0x289)));allQuizzesGlobal=_0x1f3298[_0x3f8ed4(0xa78)][_0x3f8ed4(0x2b5)](_0x4cd774=>({'id':_0x4cd774['id'],..._0x4cd774[_0x3f8ed4(0x7bb)]()}));}renderGlobalQuizList(''),document['getElementById'](_0x3f8ed4(0xa0c))[_0x3f8ed4(0x5a7)][_0x3f8ed4(0x2bd)](_0x3f8ed4(0x8da));}async function openQuizBankModal(){const _0x44908e=_0x1d88bf;if(allQuizzesGlobal['length']===0x0){const _0x21027a=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x21027a[_0x44908e(0xa78)]['map'](_0x5f4a6c=>({'id':_0x5f4a6c['id'],..._0x5f4a6c[_0x44908e(0x7bb)]()}));}renderQuizBankList(''),document['getElementById']('quiz-bank-modal')[_0x44908e(0x5a7)][_0x44908e(0x2bd)](_0x44908e(0x8da));}function renderQuizBankList(_0x5f214e='',_0x11ec7a=![]){const _0x1ccdbd=_0x1d88bf,_0x19b046=document[_0x1ccdbd(0x9bf)](_0x1ccdbd(0x543)),_0x5f5926=_0x5f214e[_0x1ccdbd(0xbb3)]()['trim'](),_0xec9dc5=allQuizzesGlobal[_0x1ccdbd(0x2b5)](_0xcd5879=>({..._0xcd5879,'projectName':allProjects['find'](_0x531eaa=>_0x531eaa['id']===_0xcd5879[_0x1ccdbd(0xb16)])?.[_0x1ccdbd(0x9e9)]||_0x1ccdbd(0x9b2)}))[_0x1ccdbd(0x408)](_0xe78d2b=>(_0xe78d2b[_0x1ccdbd(0x6f8)]||'')[_0x1ccdbd(0xbb3)]()['includes'](_0x5f5926)||(_0xe78d2b[_0x1ccdbd(0x9e9)]||'')[_0x1ccdbd(0xbb3)]()['includes'](_0x5f5926)||_0xe78d2b['id'][_0x1ccdbd(0xce7)]()[_0x1ccdbd(0x3b4)](_0x5f5926));document['getElementById'](_0x1ccdbd(0x861))['textContent']='('+_0xec9dc5[_0x1ccdbd(0x9dc)]+_0x1ccdbd(0xc73),_0x19b046['innerHTML']=_0xec9dc5[_0x1ccdbd(0x9dc)]?_0xec9dc5[_0x1ccdbd(0x2b5)](_0xa9076=>{const _0x433214=_0x1ccdbd,_0x348482=!_0x11ec7a?_0x433214(0xa7a)+_0xa9076['id']+_0x433214(0xb30)+_0xa9076['id']+_0x433214(0x40e)+_0xa9076['id']+_0x433214(0x893)+_0xa9076['id']+_0x433214(0xa5a)+_0xa9076['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa9076['id']+_0x433214(0x8d1)+_0xa9076[_0x433214(0x6f8)]+_0x433214(0x2b1):'';return _0x433214(0x9a4)+_0xa9076['id']+_0x433214(0xc44)+(_0xa9076['topic']||_0x433214(0x7fc))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0xa9076[_0x433214(0xcaf)]?.[_0x433214(0x9dc)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0xa9076[_0x433214(0x9e9)]+_0x433214(0x568)+_0xa9076['id']+_0x433214(0x742)+_0x348482+_0x433214(0x6d8);})[_0x1ccdbd(0x77f)](''):_0x1ccdbd(0xb65),!_0x11ec7a&&(_0x19b046[_0x1ccdbd(0x468)](_0x1ccdbd(0x327))[_0x1ccdbd(0xb2a)](_0x2fe85d=>{const _0x351884=_0x1ccdbd;_0x2fe85d['addEventListener'](_0x351884(0x7c2),()=>{const _0x35f21c=_0x351884,_0x4b19e3=_0x2fe85d[_0x35f21c(0xc05)]['id'];document[_0x35f21c(0x9bf)](_0x35f21c(0x5c1))['classList'][_0x35f21c(0x3b1)]('hidden'),showQuizDetailView(_0x4b19e3);});}),_0x19b046['querySelectorAll']('.quiz-bank-try-btn')['forEach'](_0x2ae72f=>{_0x2ae72f['addEventListener']('click',_0x41e04c=>{const _0x40a8cd=_0x5713;_0x41e04c[_0x40a8cd(0x778)]();const _0x384743=_0x2ae72f['dataset']['id'],_0x7787d3=allQuizzesGlobal[_0x40a8cd(0x9c1)](_0x3faa73=>_0x3faa73['id']===_0x384743);_0x7787d3?(currentQuizData=_0x7787d3,document['getElementById'](_0x40a8cd(0x5c1))[_0x40a8cd(0x5a7)][_0x40a8cd(0x3b1)](_0x40a8cd(0x8da)),startAdminTest()):showMessage(_0x40a8cd(0xa66));});}),_0x19b046['querySelectorAll'](_0x1ccdbd(0x318))[_0x1ccdbd(0xb2a)](_0x3ebc22=>{const _0xb388b2=_0x1ccdbd;_0x3ebc22[_0xb388b2(0x8c1)](_0xb388b2(0x7c2),_0x5837d9=>{const _0xd000ca=_0xb388b2;_0x5837d9[_0xd000ca(0x778)]();const _0x568b4a=_0x3ebc22['dataset']['id'],_0x1ea9d6=allQuizzesGlobal[_0xd000ca(0x9c1)](_0x34e9db=>_0x34e9db['id']===_0x568b4a);_0x1ea9d6?(document[_0xd000ca(0x9bf)]('quiz-bank-modal')['classList'][_0xd000ca(0x3b1)](_0xd000ca(0x8da)),handleGenerateParallelFromBank(_0x1ea9d6)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x19b046['querySelectorAll'](_0x1ccdbd(0xb4a))[_0x1ccdbd(0xb2a)](_0xe22647=>{const _0x3f2097=_0x1ccdbd;_0xe22647[_0x3f2097(0x8c1)](_0x3f2097(0x7c2),_0x257f95=>{const _0xbae5d6=_0x3f2097;_0x257f95['stopPropagation']();const _0x1fc00a=_0xe22647['dataset']['id'],_0xd95ac0=allQuizzesGlobal[_0xbae5d6(0x9c1)](_0x1ad78f=>_0x1ad78f['id']===_0x1fc00a);_0xd95ac0?(document[_0xbae5d6(0x9bf)]('quiz-bank-modal')['classList']['add'](_0xbae5d6(0x8da)),startPresentation(_0xd95ac0)):showMessage(_0xbae5d6(0xa66));});}),_0x19b046[_0x1ccdbd(0x468)](_0x1ccdbd(0xc7e))[_0x1ccdbd(0xb2a)](_0x371fe2=>{const _0x444011=_0x1ccdbd;_0x371fe2['addEventListener'](_0x444011(0x7c2),_0x475f13=>{const _0xa47ed0=_0x444011;_0x475f13[_0xa47ed0(0x778)]();const _0x16de8a=_0x371fe2[_0xa47ed0(0xc05)]['id'];document[_0xa47ed0(0x9bf)](_0xa47ed0(0x5c1))[_0xa47ed0(0x5a7)][_0xa47ed0(0x3b1)](_0xa47ed0(0x8da)),handleMoveQuiz(_0x16de8a);});}),_0x19b046['querySelectorAll'](_0x1ccdbd(0xb85))[_0x1ccdbd(0xb2a)](_0x3d0138=>{const _0x245981=_0x1ccdbd;_0x3d0138[_0x245981(0x8c1)](_0x245981(0x7c2),_0x15196f=>{const _0x35dc6c=_0x245981;_0x15196f['stopPropagation']();const _0x2c7fd5=_0x3d0138[_0x35dc6c(0xc05)]['id'];document[_0x35dc6c(0x9bf)]('quiz-bank-modal')[_0x35dc6c(0x5a7)][_0x35dc6c(0x3b1)](_0x35dc6c(0x8da)),handleQuizSettings(_0x2c7fd5);});}),_0x19b046[_0x1ccdbd(0x468)](_0x1ccdbd(0x1eb))[_0x1ccdbd(0xb2a)](_0x3eb76d=>{const _0x3a1149=_0x1ccdbd;_0x3eb76d[_0x3a1149(0x8c1)](_0x3a1149(0x7c2),_0x1ae970=>{const _0x477a01=_0x3a1149;_0x1ae970[_0x477a01(0x778)]();const _0x52488a=_0x3eb76d[_0x477a01(0xc05)]['id'],_0x975c9c=_0x3eb76d[_0x477a01(0xc05)][_0x477a01(0x6f8)];showConfirmation(_0x477a01(0x431)+_0x975c9c+_0x477a01(0x977),()=>handleDeleteQuiz(_0x52488a));});}));}async function handleCompareResults(_0x55d22c,_0x55eead){const _0x2922bf=_0x1d88bf,_0x4ea28a=document[_0x2922bf(0x9bf)](_0x2922bf(0x21e)),_0x41539f=document[_0x2922bf(0x9bf)](_0x2922bf(0x8c4)),_0x2c1562=document[_0x2922bf(0x9bf)](_0x2922bf(0x7b9));document[_0x2922bf(0x9bf)](_0x2922bf(0x863))['classList'][_0x2922bf(0x3b1)]('active'),document[_0x2922bf(0x9bf)](_0x2922bf(0x32f))['classList'][_0x2922bf(0x2bd)](_0x2922bf(0x53f)),_0x41539f[_0x2922bf(0x5a7)][_0x2922bf(0x2bd)](_0x2922bf(0x8da)),_0x2c1562[_0x2922bf(0x5a7)]['add'](_0x2922bf(0x8da)),_0x41539f['innerHTML']=_0x2922bf(0x316),_0x2c1562[_0x2922bf(0x6b3)]='',_0x4ea28a['classList']['remove'](_0x2922bf(0x8da));try{const _0x417eba=doc(db,_0x2922bf(0x30c)+appId+'/public/data/quizzes',_0x55d22c),_0xf4fecc=await getDoc(_0x417eba);if(!_0xf4fecc[_0x2922bf(0xb67)]())throw new Error(_0x2922bf(0x489));const _0x4ebcd3=_0xf4fecc[_0x2922bf(0x7bb)](),_0x5cb5e7=_0x4ebcd3['questions'][_0x2922bf(0x9dc)],_0x57a0ab=collection(db,_0x2922bf(0x30c)+appId+_0x2922bf(0xb14)+_0x55eead+_0x2922bf(0x472)),_0x41383b=collection(db,_0x2922bf(0x30c)+appId+_0x2922bf(0xb14)+_0x55d22c+_0x2922bf(0x472)),[_0x2b1241,_0x1dbaa2]=await Promise[_0x2922bf(0x875)]([getDocs(_0x57a0ab),getDocs(_0x41383b)]),_0x2a6cd2=_0x2b1241[_0x2922bf(0xa78)]['map'](_0x464644=>_0x464644[_0x2922bf(0x7bb)]()),_0x55a706=_0x1dbaa2[_0x2922bf(0xa78)]['map'](_0xcc20e2=>_0xcc20e2[_0x2922bf(0x7bb)]()),_0x20dc4d=_0x2a6cd2[_0x2922bf(0x2b5)](_0x348be8=>_0x348be8[_0x2922bf(0xb0b)]),_0x320e3e=_0x55a706[_0x2922bf(0x2b5)](_0x29dada=>_0x29dada[_0x2922bf(0xb0b)]),_0x19b1ca=calculateMeanAndStdDev(_0x20dc4d),_0xd8a974=calculateMeanAndStdDev(_0x320e3e),_0xaf2f08=_0x19b1ca[_0x2922bf(0x52b)],_0x29ff4d=_0xd8a974[_0x2922bf(0x52b)],_0x39f6ce=_0x29ff4d-_0xaf2f08;let _0x5a0d04='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0xaf2f08[_0x2922bf(0x8b6)](0x2)+_0x2922bf(0x6ec)+_0x29ff4d[_0x2922bf(0x8b6)](0x2)+_0x2922bf(0x3af)+(_0x39f6ce>=0x0?'bg-emerald-100':_0x2922bf(0xb3c))+_0x2922bf(0x230)+(_0x39f6ce>=0x0?_0x2922bf(0x622):_0x2922bf(0x74b))+_0x2922bf(0x9a6)+(_0x39f6ce>=0x0?'text-emerald-900':_0x2922bf(0xc9f))+'\x22>'+(_0x39f6ce>=0x0?'+':'')+_0x39f6ce[_0x2922bf(0x8b6)](0x2)+_0x2922bf(0x800);_0x41539f['innerHTML']=_0x5a0d04;const _0x5e8e44=document['getElementById']('comparison-chart')[_0x2922bf(0xaf7)]('2d');if(chartInstances[_0x2922bf(0x411)])chartInstances[_0x2922bf(0x411)][_0x2922bf(0xa8a)]();chartInstances[_0x2922bf(0x411)]=new Chart(_0x5e8e44,{'type':'bar','data':{'labels':[_0x2922bf(0xcdb)],'datasets':[{'label':_0x2922bf(0x343),'data':[_0xaf2f08],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x29ff4d],'backgroundColor':_0x2922bf(0x9c5)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5cb5e7}}}});const _0x2745ef=currentProjectData[_0x2922bf(0xa64)]||[],_0x5a0e19=_0x2745ef['map'](_0x693988=>{const _0x2ca084=_0x2922bf,_0x26b1e4=_0x2a6cd2[_0x2ca084(0x9c1)](_0x5d121a=>_0x5d121a[_0x2ca084(0x7ed)]===_0x693988),_0x41b639=_0x55a706['find'](_0x3bf05e=>_0x3bf05e[_0x2ca084(0x7ed)]===_0x693988),_0x242cbf=_0x26b1e4?_0x26b1e4[_0x2ca084(0xb0b)]:null,_0xbddf8b=_0x41b639?_0x41b639['latestScore']:null,_0x5730b1=_0x242cbf!==null&&_0xbddf8b!==null?_0xbddf8b-_0x242cbf:null,_0x283836=_0x242cbf!==null?calculateZScore(_0x242cbf,_0x19b1ca[_0x2ca084(0x52b)],_0x19b1ca['stdDev']):null,_0x166fd0=_0xbddf8b!==null?calculateZScore(_0xbddf8b,_0xd8a974[_0x2ca084(0x52b)],_0xd8a974['stdDev']):null,_0x341416=_0x283836!==null?calculateTScore(_0x283836):null,_0x1c650a=_0x166fd0!==null?calculateTScore(_0x166fd0):null,_0x46ad12=_0x341416!==null&&_0x1c650a!==null?_0x1c650a-_0x341416:null;return{'name':_0x693988,'preScore':_0x242cbf,'postScore':_0xbddf8b,'gain':_0x5730b1,'preTScore':_0x341416,'postTScore':_0x1c650a,'tGain':_0x46ad12};});renderIndividualComparisonTable(_0x5a0e19,_0x2c1562);}catch(_0xff1ec4){console[_0x2922bf(0x56e)](_0x2922bf(0x9e5),_0xff1ec4),_0x41539f[_0x2922bf(0x6b3)]=_0x2922bf(0x833);}}async function saveBlueprintProject(){const _0x31d657=_0x1d88bf;if(!extractedBlueprintData||!extractedBlueprintData[_0x31d657(0x96f)]){showMessage(_0x31d657(0x9da));return;}const _0x4ddc88=prompt(_0x31d657(0xb75),_0x31d657(0x367));if(!_0x4ddc88||_0x4ddc88[_0x31d657(0xb22)]()==='')return;const _0x3e9e44={};extractedBlueprintData[_0x31d657(0x96f)][_0x31d657(0xb2a)](_0x1697f0=>{const _0x1c5e97=_0x31d657;_0x1697f0[_0x1c5e97(0x848)][_0x1c5e97(0xb2a)](_0x450d73=>{const _0xc73005=_0x1c5e97;_0x450d73[_0xc73005(0xb8a)][_0xc73005(0xb2a)](_0x287d37=>{const _0x4c404a=_0xc73005,_0x2dfe34='topic_'+Date[_0x4c404a(0x49e)]()+Math['random']()[_0x4c404a(0xce7)](0x24)['substr'](0x2,0x9);_0x3e9e44[_0x2dfe34]={'sara':_0x1697f0[_0x4c404a(0xc24)],'mainTopic':_0x450d73[_0x4c404a(0xaa1)],'subTopic':_0x287d37,'status':'not_generated','lessonContent':null};});});});try{const _0x11f792=collection(db,_0x31d657(0x30c)+appId+_0x31d657(0x75e));await addDoc(_0x11f792,{'projectName':_0x4ddc88[_0x31d657(0xb22)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x3e9e44,'createdAt':serverTimestamp()}),showMessage(_0x31d657(0x6c9)+_0x4ddc88['trim']()+_0x31d657(0x6f0)),document['getElementById']('save-blueprint-as-project-btn')[_0x31d657(0x5a7)]['add']('hidden');}catch(_0x5a9cac){console[_0x31d657(0x56e)]('Error\x20saving\x20blueprint\x20project:',_0x5a9cac),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x3b1279=_0x1d88bf,_0x11b38e=document[_0x3b1279(0x9bf)](_0x3b1279(0xaad)),_0x2fce11=document[_0x3b1279(0x9bf)](_0x3b1279(0x28d));_0x2fce11[_0x3b1279(0x6b3)]=_0x3b1279(0x615),_0x11b38e[_0x3b1279(0x5a7)][_0x3b1279(0x2bd)](_0x3b1279(0x8da));try{const _0x4256b5=collection(db,_0x3b1279(0x30c)+appId+_0x3b1279(0x75e)),_0x584c9e=await getDocs(_0x4256b5);if(_0x584c9e['empty']){_0x2fce11[_0x3b1279(0x6b3)]=_0x3b1279(0x76f);return;}const _0x43b91a=_0x584c9e[_0x3b1279(0xa78)][_0x3b1279(0x2b5)](_0x3f7295=>({'id':_0x3f7295['id'],..._0x3f7295['data']()}));_0x43b91a[_0x3b1279(0x79f)]((_0xaf5a0c,_0x1ec499)=>_0xaf5a0c['projectName'][_0x3b1279(0xcbd)](_0x1ec499[_0x3b1279(0x9e9)],'th')),_0x2fce11['innerHTML']=_0x43b91a[_0x3b1279(0x2b5)](_0xb9f52=>_0x3b1279(0xc9a)+_0xb9f52[_0x3b1279(0x9e9)]+_0x3b1279(0xabc)+_0xb9f52[_0x3b1279(0xc29)]+_0x3b1279(0x2f1)+Object[_0x3b1279(0x70c)](_0xb9f52[_0x3b1279(0xaa9)])[_0x3b1279(0x9dc)]+_0x3b1279(0xc1e)+_0xb9f52['id']+_0x3b1279(0x2e6)+_0xb9f52['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3b1279(0x77f)]('');}catch(_0x227f27){console[_0x3b1279(0x56e)](_0x3b1279(0x903),_0x227f27),_0x2fce11[_0x3b1279(0x6b3)]=_0x3b1279(0x9b4);}}async function displayBlueprintProjectManager(_0x5e9433){const _0x63f71b=_0x1d88bf;currentBlueprintProjectId=_0x5e9433,document[_0x63f71b(0x9bf)](_0x63f71b(0xaad))[_0x63f71b(0x5a7)]['add'](_0x63f71b(0x8da)),showView(_0x63f71b(0x587)),projectDashboardView[_0x63f71b(0x5a7)][_0x63f71b(0x3b1)](_0x63f71b(0x8da));const _0x4c3f59=document['getElementById'](_0x63f71b(0x8a0));_0x4c3f59['classList'][_0x63f71b(0x2bd)](_0x63f71b(0x8da)),document[_0x63f71b(0x9bf)](_0x63f71b(0xc3d))[_0x63f71b(0x6b3)]=_0x63f71b(0x316);try{const _0x1601fe=doc(db,_0x63f71b(0x30c)+appId+_0x63f71b(0x75e),_0x5e9433),_0x21cfde=await getDoc(_0x1601fe);if(!_0x21cfde[_0x63f71b(0xb67)]())throw new Error(_0x63f71b(0x67d));const _0x50aee4={'id':_0x21cfde['id'],..._0x21cfde[_0x63f71b(0x7bb)]()};document[_0x63f71b(0x9bf)](_0x63f71b(0x547))[_0x63f71b(0xa9a)]=_0x50aee4[_0x63f71b(0x9e9)],renderBlueprintTopicManager(_0x50aee4);}catch(_0x2578ce){console[_0x63f71b(0x56e)](_0x63f71b(0xc2d),_0x2578ce),showMessage(_0x2578ce[_0x63f71b(0x68b)]),showView(_0x63f71b(0x587));}}function renderBlueprintTopicManager(_0x2d0782){const _0x31cc34=_0x1d88bf,_0x4e0c2c=document[_0x31cc34(0x9bf)]('bp-topic-list-container'),_0x459304=_0x2d0782[_0x31cc34(0xaa9)]||{};if(Object[_0x31cc34(0x70c)](_0x459304)[_0x31cc34(0x9dc)]===0x0){_0x4e0c2c[_0x31cc34(0x6b3)]=_0x31cc34(0x63c);return;}const _0x401207={};for(const _0x407f55 in _0x459304){const _0x12bb75={'id':_0x407f55,..._0x459304[_0x407f55]};_0x401207[_0x12bb75[_0x31cc34(0xc24)]]=_0x401207[_0x12bb75['sara']]||{},_0x401207[_0x12bb75[_0x31cc34(0xc24)]][_0x12bb75[_0x31cc34(0xb81)]]=_0x401207[_0x12bb75[_0x31cc34(0xc24)]][_0x12bb75[_0x31cc34(0xb81)]]||[],_0x401207[_0x12bb75['sara']][_0x12bb75[_0x31cc34(0xb81)]][_0x31cc34(0x488)](_0x12bb75);}let _0x6c7af5='';const _0x5827d5=Object[_0x31cc34(0x70c)](_0x401207)[_0x31cc34(0x79f)]((_0x5581a7,_0x3c1189)=>_0x5581a7[_0x31cc34(0xcbd)](_0x3c1189,'th'));for(const _0xfd84d2 of _0x5827d5){_0x6c7af5+=_0x31cc34(0x4cf)+_0xfd84d2+_0x31cc34(0xbc2);const _0x119122=Object['keys'](_0x401207[_0xfd84d2])['sort']((_0x34028f,_0x4e492f)=>_0x34028f['localeCompare'](_0x4e492f,'th'));for(const _0x68139d of _0x119122){_0x6c7af5+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x68139d+_0x31cc34(0x97e),_0x401207[_0xfd84d2][_0x68139d][_0x31cc34(0x79f)]((_0x135f42,_0x3b22f1)=>_0x135f42['subTopic'][_0x31cc34(0xcbd)](_0x3b22f1['subTopic'],'th')),_0x401207[_0xfd84d2][_0x68139d][_0x31cc34(0xb2a)](_0x188fd2=>{const _0x1cd671=_0x31cc34,_0x27ec99=_0x188fd2['id'],_0x3c30fc=_0x188fd2['linkedQuizIds']||[],_0x5916e7=_0x3c30fc[_0x1cd671(0x9dc)]>0x0,_0xae0678=_0x188fd2[_0x1cd671(0x5e0)]===_0x1cd671(0x9f3);let _0x348f9e='';_0x5916e7?_0x348f9e=_0x1cd671(0x27e)+_0x3c30fc[_0x1cd671(0x9dc)]+_0x1cd671(0x7a2):_0x348f9e=_0x1cd671(0xcca)+(_0xae0678?_0x1cd671(0x8c8):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0xae0678?_0x1cd671(0x5e3):_0x1cd671(0x65f))+'</span>';const _0x34748e=!_0xae0678?_0x1cd671(0xc94):'',_0x2a6e18=!_0xae0678?_0x1cd671(0xb03):'';let _0x390819=_0xae0678?_0x1cd671(0xc11):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x6c7af5+=_0x1cd671(0x3ed)+_0x27ec99+_0x1cd671(0x6be)+_0x188fd2[_0x1cd671(0x631)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x348f9e+_0x1cd671(0x569)+_0x34748e+_0x1cd671(0x7ef)+_0x2a6e18+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x390819+_0x1cd671(0xbb0);}),_0x6c7af5+=_0x31cc34(0x664);}_0x6c7af5+='</div>';}_0x4e0c2c[_0x31cc34(0x6b3)]=_0x6c7af5;}async function openTopicQuizBank(_0x1c8145){const _0x1cef4a=_0x1d88bf,_0x328386=document['getElementById']('topic-quiz-bank-modal'),_0x5e25dc=document[_0x1cef4a(0x9bf)]('topic-bank-list'),_0x184f81=document[_0x1cef4a(0x9bf)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x5c1cde=doc(db,_0x1cef4a(0x30c)+appId+_0x1cef4a(0x75e),currentBlueprintProjectId),_0x207e25=await getDoc(_0x5c1cde);if(!_0x207e25['exists']())return;const _0x472d4c=_0x207e25[_0x1cef4a(0x7bb)](),_0x101369=_0x472d4c[_0x1cef4a(0xaa9)][_0x1c8145];document[_0x1cef4a(0x9bf)](_0x1cef4a(0xb63))[_0x1cef4a(0xa9a)]=_0x101369[_0x1cef4a(0x631)];const _0x3ccda5=_0x101369[_0x1cef4a(0x3aa)]||[];_0x184f81[_0x1cef4a(0x5a7)][_0x1cef4a(0x372)](_0x1cef4a(0x8da),_0x3ccda5[_0x1cef4a(0x9dc)]===0x0),_0x184f81[_0x1cef4a(0xc96)]=()=>handleClearAllLinksForTopic(_0x1c8145);if(_0x3ccda5[_0x1cef4a(0x9dc)]===0x0)_0x5e25dc['innerHTML']=_0x1cef4a(0x362);else{const _0x50f2ef=allQuizzesGlobal['filter'](_0x130eff=>_0x3ccda5[_0x1cef4a(0x3b4)](_0x130eff['id']));_0x5e25dc[_0x1cef4a(0x6b3)]=_0x50f2ef[_0x1cef4a(0x2b5)](_0x548479=>_0x1cef4a(0x741)+_0x548479['id']+_0x1cef4a(0x807)+_0x548479[_0x1cef4a(0x6f8)]+_0x1cef4a(0xccd)+_0x548479['id']+_0x1cef4a(0x2f1)+_0x548479['questions'][_0x1cef4a(0x9dc)]+_0x1cef4a(0x2f0)+_0x548479['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x548479['id']+_0x1cef4a(0x9bb)+_0x548479['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x548479['id']+_0x1cef4a(0x616)+_0x548479['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x548479['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x1c8145+_0x1cef4a(0xbb1)+_0x548479['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}document[_0x1cef4a(0x9bf)](_0x1cef4a(0x43f))['onclick']=()=>{openQuizSelectorForBlueprint(_0x1c8145);},document['getElementById'](_0x1cef4a(0xc34))[_0x1cef4a(0xc96)]=()=>_0x328386['classList'][_0x1cef4a(0x3b1)](_0x1cef4a(0x8da)),_0x328386[_0x1cef4a(0x5a7)]['remove'](_0x1cef4a(0x8da));}catch(_0x140260){showMessage(_0x140260[_0x1cef4a(0x68b)]);}}async function openQuizSelectorForBlueprint(_0x53da98){const _0x1a84bf=_0x1d88bf,_0x357175=document[_0x1a84bf(0x9bf)](_0x1a84bf(0x5c1)),_0x2669c6=document[_0x1a84bf(0x9bf)](_0x1a84bf(0x857));_0x2669c6[_0x1a84bf(0x5a7)]['add']('hidden'),document[_0x1a84bf(0x9bf)](_0x1a84bf(0x57b))?.[_0x1a84bf(0x2bd)]();const _0x497370=document[_0x1a84bf(0xb04)]('button');_0x497370['id']=_0x1a84bf(0x57b),_0x497370[_0x1a84bf(0x26b)]=_0x1a84bf(0xc7c),_0x497370[_0x1a84bf(0xa9a)]=_0x1a84bf(0x685),_0x497370['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x357175[_0x1a84bf(0x5a7)][_0x1a84bf(0x2bd)](_0x1a84bf(0x8da)),renderQuizBankListForMultiSelect(''),document[_0x1a84bf(0x9bf)]('bulk-quiz-settings-btn')[_0x1a84bf(0x641)]['display']='none',_0x357175['querySelector'](_0x1a84bf(0x614))['appendChild'](_0x497370);const _0x1fe7d0=(_0x4d42e9=![])=>{const _0x5a2c1b=_0x1a84bf;_0x357175['classList'][_0x5a2c1b(0x3b1)](_0x5a2c1b(0x8da)),document[_0x5a2c1b(0x9bf)](_0x5a2c1b(0x750))[_0x5a2c1b(0x641)][_0x5a2c1b(0x585)]=_0x5a2c1b(0x8d5),_0x497370[_0x5a2c1b(0x2bd)](),_0x4d42e9&&openTopicQuizBank(_0x53da98);};_0x497370['onclick']=async()=>{const _0x34485e=_0x1a84bf,_0x4f9df6=Array[_0x34485e(0x788)](document[_0x34485e(0x468)](_0x34485e(0x6ca)))['map'](_0x336834=>_0x336834['value']);if(_0x4f9df6[_0x34485e(0x9dc)]===0x0)return;try{const _0x4790ba=doc(db,_0x34485e(0x30c)+appId+_0x34485e(0x75e),currentBlueprintProjectId),_0x31438d=(await getDoc(_0x4790ba))[_0x34485e(0x7bb)](),_0x1b9d8c=_0x31438d[_0x34485e(0xaa9)][_0x53da98][_0x34485e(0x3aa)]||[],_0x4e52bb=[...new Set([..._0x1b9d8c,..._0x4f9df6])];await updateDoc(_0x4790ba,{[_0x34485e(0x517)+_0x53da98+'.linkedQuizIds']:_0x4e52bb}),showMessage('เพิ่ม\x20'+_0x4f9df6[_0x34485e(0x9dc)]+_0x34485e(0x6cc)),_0x1fe7d0(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x261797){console['error'](_0x34485e(0x89d),_0x261797);}},document[_0x1a84bf(0x9bf)]('cancel-quiz-bank-btn')[_0x1a84bf(0xc96)]=()=>_0x1fe7d0(!![]);}catch(_0x3fa749){showMessage(_0x3fa749[_0x1a84bf(0x68b)]),_0x2669c6[_0x1a84bf(0x5a7)]['remove'](_0x1a84bf(0x8da));}}function handleClearLinkedQuiz(_0x38f15c){const _0x51ffad=_0x1d88bf;showConfirmation(_0x51ffad(0x716),async()=>{const _0xdd5e73=_0x51ffad;try{const _0x5b9437=doc(db,'artifacts/'+appId+_0xdd5e73(0x75e),currentBlueprintProjectId);await updateDoc(_0x5b9437,{['topics.'+_0x38f15c+'.linkedQuizId']:deleteField()}),showMessage(_0xdd5e73(0x382)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xb72207){console[_0xdd5e73(0x56e)](_0xdd5e73(0x613),_0xb72207),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x19087a=_0x1d88bf,_0x3fe2c1=prompt(_0x19087a(0x8e9));if(!_0x3fe2c1||_0x3fe2c1[_0x19087a(0xb22)]()==='')return;const _0x31baf6=prompt(_0x19087a(0x3c7),_0x19087a(0x975)),_0x4c0228=prompt(_0x19087a(0x9fb),_0x19087a(0x6fb)),_0x425843=_0x19087a(0x88e)+Date[_0x19087a(0x49e)]()+Math[_0x19087a(0xcb0)]()[_0x19087a(0xce7)](0x24)['substr'](0x2,0x9),_0x3e22c8={'sara':_0x31baf6,'mainTopic':_0x4c0228,'subTopic':_0x3fe2c1[_0x19087a(0xb22)](),'status':_0x19087a(0x582),'lessonContent':null};try{const _0x2c97b0=doc(db,_0x19087a(0x30c)+appId+_0x19087a(0x75e),currentBlueprintProjectId);await updateDoc(_0x2c97b0,{[_0x19087a(0x517)+_0x425843]:_0x3e22c8}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5e4254){console[_0x19087a(0x56e)](_0x19087a(0x530),_0x5e4254),showMessage(_0x19087a(0x562));}}async function editTopicInProject(_0x1ddd39){const _0x5e1a68=_0x1d88bf,_0x351b0e=document[_0x5e1a68(0x583)]('[data-topic-id=\x22'+_0x1ddd39+'\x22]'),_0x25dda3=_0x351b0e[_0x5e1a68(0x583)](_0x5e1a68(0x4de)),_0x1ce017=_0x25dda3[_0x5e1a68(0xa9a)],_0x3328ae=prompt(_0x5e1a68(0xb5f),_0x1ce017);if(!_0x3328ae||_0x3328ae[_0x5e1a68(0xb22)]()===''||_0x3328ae['trim']()===_0x1ce017)return;try{const _0xb10cc=doc(db,_0x5e1a68(0x30c)+appId+_0x5e1a68(0x75e),currentBlueprintProjectId);await updateDoc(_0xb10cc,{['topics.'+_0x1ddd39+_0x5e1a68(0xcb3)]:_0x3328ae[_0x5e1a68(0xb22)]()}),_0x25dda3[_0x5e1a68(0xa9a)]=_0x3328ae[_0x5e1a68(0xb22)](),showMessage(_0x5e1a68(0x2d8));}catch(_0x328091){console[_0x5e1a68(0x56e)]('Error\x20editing\x20topic:',_0x328091),showMessage(_0x5e1a68(0x3e1));}}async function deleteTopicFromProject(_0x444420){const _0x28f3f7=_0x1d88bf;if(!confirm(_0x28f3f7(0xaf9)))return;try{const _0x5a9584=doc(db,'artifacts/'+appId+_0x28f3f7(0x75e),currentBlueprintProjectId);await updateDoc(_0x5a9584,{[_0x28f3f7(0x517)+_0x444420]:deleteField()}),document[_0x28f3f7(0x583)](_0x28f3f7(0x333)+_0x444420+'\x22]')['remove'](),showMessage(_0x28f3f7(0x416));}catch(_0x4e2313){console[_0x28f3f7(0x56e)]('Error\x20deleting\x20topic:',_0x4e2313),showMessage(_0x28f3f7(0x7eb));}}async function generateAndSaveLessonForBlueprint(_0x156996,_0x515ae6,_0x4536b6){handleGenerateAndShowLesson(_0x515ae6,_0x4536b6);const _0xdf7fe3=setInterval(async()=>{const _0x27a24a=_0x5713,_0x25d8df=document['getElementById'](_0x27a24a(0x33f)),_0x22638d=_0x25d8df[_0x27a24a(0x5a7)]['contains'](_0x27a24a(0x8da));if(_0x22638d){clearInterval(_0xdf7fe3);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x253206={'point':document['getElementById'](_0x27a24a(0x3a8))[_0x27a24a(0x6b3)],'memory':document[_0x27a24a(0x9bf)]('memoryContent')[_0x27a24a(0x6b3)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x27a24a(0x9bf)](_0x27a24a(0x364))['innerHTML']};try{const _0x189ce5=doc(db,_0x27a24a(0x30c)+appId+_0x27a24a(0x75e),currentBlueprintProjectId);await updateDoc(_0x189ce5,{['topics.'+_0x156996+_0x27a24a(0x92b)]:_0x253206,[_0x27a24a(0x517)+_0x156996+'.status']:'generated'}),console[_0x27a24a(0xc30)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x156996+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x51f069){console[_0x27a24a(0x56e)](_0x27a24a(0x845),_0x51f069);}}}},0x3e8);}function displayHalfMarkResult(_0x3ef832,_0x5bde3c){const _0x545b0c=_0x1d88bf,_0x3ca5ae=_0x3ef832>=_0x5bde3c/0x2,_0x153d4a=_0x3ca5ae?_0x545b0c(0x617):'bg-red-100',_0x1fbc6f=_0x3ca5ae?_0x545b0c(0xd07):_0x545b0c(0x94f),_0x54a966=_0x3ca5ae?'text-green-800':'text-red-800',_0x3f92d2=_0x3ca5ae?_0x545b0c(0x884):_0x545b0c(0x553),_0x210539=_0x3ca5ae?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x469f23='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x153d4a+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fbc6f+_0x545b0c(0x689)+_0x54a966+_0x545b0c(0xc27)+_0x3f92d2+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x210539+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x545b0c(0x6b3)]=_0x469f23,studentResultArea[_0x545b0c(0x5a7)][_0x545b0c(0x2bd)]('hidden'),studentQuizArea['classList'][_0x545b0c(0x3b1)](_0x545b0c(0x8da)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3ca5ae});}function displayPerfectScoreResult(_0x5dc3bb,_0x3bb0a4){const _0x19f7f5=_0x1d88bf,_0x471d51=_0x5dc3bb===_0x3bb0a4,_0x5796f4=_0x471d51?_0x19f7f5(0x39f):_0x19f7f5(0x985),_0x4f4d9f=_0x471d51?_0x19f7f5(0x814):_0x19f7f5(0x600),_0x3c94af=_0x471d51?_0x19f7f5(0x88a):'text-blue-800',_0x1e3682=_0x471d51?_0x19f7f5(0x315):'ยังไม่เต็มนะ',_0x4f1904=_0x471d51?_0x19f7f5(0x8b3):_0x19f7f5(0x99d);let _0x2907ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x5796f4+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f4d9f+_0x19f7f5(0x689)+_0x3c94af+_0x19f7f5(0xc27)+_0x1e3682+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x4f1904+_0x19f7f5(0x6cd);studentResultArea[_0x19f7f5(0x6b3)]=_0x2907ae,studentResultArea['classList'][_0x19f7f5(0x2bd)](_0x19f7f5(0x8da)),studentQuizArea[_0x19f7f5(0x5a7)][_0x19f7f5(0x3b1)](_0x19f7f5(0x8da)),setupResultScreenBackButton({'showRankings':![],'score':_0x5dc3bb,'totalQuestions':_0x3bb0a4});}function renderIndividualComparisonTable(_0x479b14,_0x1c6e3f){const _0x567100=_0x1d88bf;_0x479b14['sort']((_0x5b22a9,_0x57c841)=>(_0x57c841[_0x567100(0x1e4)]??-Infinity)-(_0x5b22a9[_0x567100(0x1e4)]??-Infinity));let _0x4f1a9d=_0x567100(0x7cb);_0x479b14[_0x567100(0x9dc)]===0x0?_0x4f1a9d+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x479b14['forEach']((_0x24d320,_0x1eec96)=>{const _0x307a92=_0x567100;let _0x252d36='-',_0x5ce328='';if(_0x24d320[_0x307a92(0x255)]!==null){const _0x261d93=_0x24d320[_0x307a92(0x255)]>0x0?_0x307a92(0x492):_0x24d320[_0x307a92(0x255)]<0x0?_0x307a92(0x3cb):_0x307a92(0x628),_0x5798cc=_0x24d320[_0x307a92(0x255)]>0x0?'+':'';_0x252d36='<span\x20class=\x22font-bold\x20'+_0x261d93+'\x22>'+_0x5798cc+_0x24d320[_0x307a92(0x255)]+'</span>';if(_0x24d320[_0x307a92(0x255)]>0x0)_0x5ce328=_0x307a92(0xac1);else _0x24d320[_0x307a92(0x255)]<0x0?_0x5ce328='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x5ce328=_0x307a92(0x67c);}let _0x52df7b='-';if(_0x24d320[_0x307a92(0x1e4)]!==null){const _0x390d36=_0x24d320[_0x307a92(0x1e4)]>0x0?_0x307a92(0x492):_0x24d320[_0x307a92(0x1e4)]<0x0?'text-red-600':_0x307a92(0x628),_0x1dc63c=_0x24d320[_0x307a92(0x1e4)]>0x0?'+':'';_0x52df7b=_0x307a92(0x7ac)+_0x390d36+'\x22>'+_0x1dc63c+_0x24d320[_0x307a92(0x1e4)][_0x307a92(0x8b6)](0x2)+'</span>';}_0x4f1a9d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x1eec96+0x1)+_0x307a92(0x368)+_0x24d320[_0x307a92(0xa80)]+_0x307a92(0x47c)+(_0x24d320[_0x307a92(0x91d)]??'-')+_0x307a92(0xcdc)+(_0x24d320[_0x307a92(0x4bd)]??'-')+_0x307a92(0x47c)+_0x252d36+_0x307a92(0x63f)+_0x5ce328+_0x307a92(0xb1c)+(_0x24d320[_0x307a92(0x370)]?.[_0x307a92(0x8b6)](0x2)??'-')+_0x307a92(0x558)+(_0x24d320[_0x307a92(0x93e)]?.['toFixed'](0x2)??'-')+_0x307a92(0x47c)+_0x52df7b+_0x307a92(0x1f2);}),_0x4f1a9d+=_0x567100(0xa00),_0x1c6e3f['innerHTML']=_0x4f1a9d;}function handleRenameQuiz(_0x5cd11c,_0xf242a0){const _0x555644=_0x1d88bf;actionTargetId=_0x5cd11c,document[_0x555644(0x9bf)]('rename-quiz-input')[_0x555644(0xb00)]=_0xf242a0,renameQuizModal[_0x555644(0x5a7)][_0x555644(0x2bd)](_0x555644(0x8da));}function setupComparisonModalTabs(){const _0x5d74f8=_0x1d88bf,_0x485736=document[_0x5d74f8(0x9bf)](_0x5d74f8(0x863)),_0x47973c=document['getElementById']('comparison-individual-tab'),_0x155690=document[_0x5d74f8(0x9bf)](_0x5d74f8(0x8c4)),_0x310192=document[_0x5d74f8(0x9bf)](_0x5d74f8(0x7b9));_0x485736[_0x5d74f8(0x8c1)]('click',()=>{const _0x56c86c=_0x5d74f8;_0x485736[_0x56c86c(0x5a7)][_0x56c86c(0x3b1)]('active'),_0x47973c[_0x56c86c(0x5a7)][_0x56c86c(0x2bd)]('active'),_0x155690[_0x56c86c(0x5a7)][_0x56c86c(0x2bd)](_0x56c86c(0x8da)),_0x310192['classList']['add'](_0x56c86c(0x8da));}),_0x47973c[_0x5d74f8(0x8c1)]('click',()=>{const _0x11dc33=_0x5d74f8;_0x47973c[_0x11dc33(0x5a7)][_0x11dc33(0x3b1)](_0x11dc33(0x53f)),_0x485736[_0x11dc33(0x5a7)]['remove'](_0x11dc33(0x53f)),_0x310192[_0x11dc33(0x5a7)][_0x11dc33(0x2bd)](_0x11dc33(0x8da)),_0x155690[_0x11dc33(0x5a7)]['add']('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x1b079b=''){const _0x4b7fdb=_0x1d88bf,_0x5b811a=document[_0x4b7fdb(0x9bf)](_0x4b7fdb(0x32e)),_0x32d2ef=_0x1b079b[_0x4b7fdb(0xbb3)]()[_0x4b7fdb(0xb22)](),_0x1c9f8b=allQuizzesGlobal[_0x4b7fdb(0x2b5)](_0x69d9d8=>({..._0x69d9d8,'projectName':allProjects['find'](_0x2ad601=>_0x2ad601['id']===_0x69d9d8[_0x4b7fdb(0xb16)])?.['projectName']||_0x69d9d8[_0x4b7fdb(0xb16)]}))['filter'](_0x42e092=>(_0x42e092[_0x4b7fdb(0x6f8)]||'')[_0x4b7fdb(0xbb3)]()['includes'](_0x32d2ef)||(_0x42e092['projectName']||'')[_0x4b7fdb(0xbb3)]()[_0x4b7fdb(0x3b4)](_0x32d2ef));document[_0x4b7fdb(0x9bf)](_0x4b7fdb(0x720))['textContent']='('+_0x1c9f8b[_0x4b7fdb(0x9dc)]+_0x4b7fdb(0xc73),_0x5b811a[_0x4b7fdb(0x6b3)]=_0x1c9f8b[_0x4b7fdb(0x9dc)]?_0x1c9f8b[_0x4b7fdb(0x2b5)](_0x5530f3=>_0x4b7fdb(0x291)+_0x5530f3['id']+_0x4b7fdb(0x5fe)+(_0x5530f3['topic']||_0x4b7fdb(0x7fc))+_0x4b7fdb(0xa9e)+(_0x5530f3['questions']?.[_0x4b7fdb(0x9dc)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x5530f3[_0x4b7fdb(0x9e9)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x4b7fdb(0x77f)](''):_0x4b7fdb(0x32b),selectedGlobalQuizId=null,document['getElementById'](_0x4b7fdb(0x938))[_0x4b7fdb(0x6d3)]=!![],_0x5b811a[_0x4b7fdb(0x468)](_0x4b7fdb(0x3c0))[_0x4b7fdb(0xb2a)](_0x40457b=>{const _0x3df3fe=_0x4b7fdb;_0x40457b[_0x3df3fe(0x8c1)](_0x3df3fe(0x7c2),()=>{const _0x437fdf=_0x3df3fe;selectedGlobalQuizId=_0x40457b[_0x437fdf(0xc05)]['id'],_0x5b811a[_0x437fdf(0x468)](_0x437fdf(0xc92))['forEach'](_0x2b180f=>_0x2b180f[_0x437fdf(0x5a7)]['remove'](_0x437fdf(0x19f),_0x437fdf(0xa59),_0x437fdf(0xb8b))),_0x40457b[_0x437fdf(0x5a7)][_0x437fdf(0x3b1)]('bg-purple-50','ring-2',_0x437fdf(0xb8b)),document[_0x437fdf(0x9bf)]('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x147b16=_0x1d88bf;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3e4354=doc(db,_0x147b16(0x30c)+appId+_0x147b16(0x9cd),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3e4354,_0x455024=>{const _0x238a1b=_0x147b16;if(!_0x455024[_0x238a1b(0xb67)]()){showMessage(_0x238a1b(0x6aa));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x238a1b(0xb9c)):showView(_0x238a1b(0x655));return;}const _0x4d5a20=_0x455024[_0x238a1b(0x7bb)]();_0x4d5a20[_0x238a1b(0x2f8)]&&(currentQuizData=_0x4d5a20[_0x238a1b(0x2f8)]);!currentQuizData&&_0x4d5a20[_0x238a1b(0x2cf)]&&((async()=>{const _0x4c0698=_0x238a1b;try{const _0xb98a3f=doc(db,'artifacts/'+appId+_0x4c0698(0x289),_0x4d5a20[_0x4c0698(0x2cf)]),_0x3d1ff2=await getDoc(_0xb98a3f);_0x3d1ff2[_0x4c0698(0xb67)]()&&(currentQuizData={'id':_0x3d1ff2['id'],..._0x3d1ff2['data']()});}catch(_0x25e5f6){console[_0x4c0698(0x56e)](_0x4c0698(0x448),_0x25e5f6);}})());switch(_0x4d5a20[_0x238a1b(0x5e0)]){case _0x238a1b(0xc58):if(currentMode===_0x238a1b(0x8c7)){const _0x5e0297=_0x4d5a20['players']?Object[_0x238a1b(0xb37)](_0x4d5a20[_0x238a1b(0x373)]):[],_0x1dfcc6=_0x5e0297[_0x238a1b(0x408)](([_0x250984,_0x47aa62])=>_0x47aa62['status']===_0x238a1b(0x53f)),_0x230c63=document[_0x238a1b(0x9bf)]('player-count');if(_0x230c63)_0x230c63[_0x238a1b(0xa9a)]=_0x1dfcc6[_0x238a1b(0x9dc)];const _0x407751=document['getElementById']('player-list-lobby');_0x407751&&(_0x407751[_0x238a1b(0x6b3)]=_0x1dfcc6['map'](([_0x262cda,_0x5d4769])=>_0x238a1b(0x71b)+_0x262cda+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x262cda+_0x238a1b(0x80d))[_0x238a1b(0x77f)](''));const _0x321a4f=document[_0x238a1b(0x9bf)]('start-game-btn');_0x321a4f&&(_0x321a4f['disabled']=_0x1dfcc6[_0x238a1b(0x9dc)]===0x0);}else showView('live-game'),liveGameView[_0x238a1b(0x6b3)]=_0x238a1b(0xbf4)+currentStudentName+_0x238a1b(0xb4b);break;case _0x238a1b(0x66d):const _0x1450d8=_0x4d5a20[_0x238a1b(0x463)];if(currentQuizData&&currentQuizData[_0x238a1b(0xcaf)][_0x1450d8]){const _0x474aa8=currentQuizData[_0x238a1b(0xcaf)][_0x1450d8],_0x4e020c=_0x4d5a20[_0x238a1b(0x500)]||_0x238a1b(0x358);switch(_0x4e020c){case'summary_chart':currentMode===_0x238a1b(0x8c7)?showAdminSummaryView(_0x4d5a20,_0x474aa8):showPlayerSummaryView(_0x4d5a20,currentStudentName);break;case _0x238a1b(0x588):currentMode===_0x238a1b(0x8c7)&&showTop5LeaderboardView(_0x4d5a20);break;case _0x238a1b(0x358):default:if(currentMode===_0x238a1b(0x8c7)){const _0x5adc1a=writeBatch(db);let _0x57f9b3=![];Object[_0x238a1b(0xb37)](_0x4d5a20[_0x238a1b(0x373)])['forEach'](([_0x57ce19,_0x6618b])=>{const _0x1343b4=_0x238a1b;if(_0x6618b[_0x1343b4(0x5e0)]===_0x1343b4(0x53f)&&_0x6618b[_0x1343b4(0xa55)]&&!_0x6618b[_0x1343b4(0xbfc)]){_0x57f9b3=!![];const _0xac2ecb=_0x6618b['submittedAt']['toDate']()-_0x4d5a20['questionDisplayedAt']['toDate']();let _0x1772cb=0x0;if(_0x6618b[_0x1343b4(0x87b)]){const _0x29410d=0x3e8,_0x2b29c7=0x1f4,_0x3e4955=0x4e20;let _0x29670a=_0xac2ecb/_0x3e4955;if(_0x29670a>0x1)_0x29670a=0x1;const _0x5e5367=Math[_0x1343b4(0x25e)](_0x29670a*_0x2b29c7);_0x1772cb=_0x29410d-_0x5e5367;}const _0x4763d5=doc(db,'artifacts/'+appId+_0x1343b4(0x9cd),currentLiveGameId);_0x5adc1a[_0x1343b4(0x293)](_0x4763d5,{[_0x1343b4(0x668)+_0x57ce19+_0x1343b4(0xa08)]:increment(_0x1772cb),[_0x1343b4(0x668)+_0x57ce19+'.pointsLastQuestion']:_0x1772cb,[_0x1343b4(0x668)+_0x57ce19+_0x1343b4(0x519)]:!![]});}});_0x57f9b3&&_0x5adc1a['commit']()['catch'](_0xbc44ca=>console[_0x238a1b(0x56e)]('Error\x20committing\x20score\x20updates:',_0xbc44ca));lastRenderedAdminQuestionIndex!==_0x1450d8&&(showAdminLiveQuestionView(_0x474aa8,_0x1450d8,currentQuizData[_0x238a1b(0xcaf)][_0x238a1b(0x9dc)]),lastRenderedAdminQuestionIndex=_0x1450d8);const _0x4cd1fe=_0x4d5a20['players']||{},_0x54372f=Object[_0x238a1b(0xce2)](_0x4cd1fe)[_0x238a1b(0x408)](_0x1def7c=>_0x1def7c[_0x238a1b(0x5e0)]===_0x238a1b(0x53f)),_0x520b00=_0x54372f['length'],_0x5340b1=_0x54372f[_0x238a1b(0x408)](_0x1068c5=>_0x1068c5[_0x238a1b(0xae2)]===!![])[_0x238a1b(0x9dc)],_0x58248c=document['getElementById'](_0x238a1b(0x4d5));if(_0x58248c)_0x58248c[_0x238a1b(0xa9a)]=_0x5340b1+'/'+_0x520b00;const _0x51fa6b=document[_0x238a1b(0x9bf)](_0x238a1b(0x203));if(_0x51fa6b){let _0x22313b=Object['entries'](_0x4cd1fe)[_0x238a1b(0x408)](([_0x436872,_0x1fb988])=>_0x1fb988['status']===_0x238a1b(0x53f))[_0x238a1b(0x2b5)](([_0x393019,_0x395c43])=>{const _0x2ed69f=_0x238a1b,_0x47fa3c=_0x395c43[_0x2ed69f(0xae2)]===!![],_0x2f785d=_0x47fa3c?_0x2ed69f(0xab8):'bg-gray-500',_0x509e3e=_0x47fa3c?_0x2ed69f(0x925):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x2ed69f(0x2d7)+_0x2f785d+_0x2ed69f(0xa0d)+_0x509e3e+_0x2ed69f(0xb5c)+_0x393019+_0x2ed69f(0x31c)+_0x393019+_0x2ed69f(0x873);})[_0x238a1b(0x77f)]('');_0x51fa6b[_0x238a1b(0x6b3)]=_0x22313b||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x520b00>0x0&&_0x5340b1===_0x520b00&&revealAnswerForAdmin(_0x1450d8,currentQuizData[_0x238a1b(0xcaf)][_0x238a1b(0x9dc)]);}else{const _0x2c4bfc=_0x4d5a20[_0x238a1b(0x373)][currentStudentName];_0x2c4bfc&&!_0x2c4bfc[_0x238a1b(0xae2)]&&showStudentLiveQuestionView(_0x474aa8,_0x1450d8,currentQuizData[_0x238a1b(0xcaf)][_0x238a1b(0x9dc)]);}break;}}break;case _0x238a1b(0x21b):showPodiumView(_0x4d5a20['players'],_0x238a1b(0xc6e));break;}});}async function handleKickPlayer(_0x5867dd){const _0x2af68e=_0x1d88bf;if(!currentLiveGameId||!_0x5867dd)return;const _0x4311cf=doc(db,'artifacts/'+appId+_0x2af68e(0x9cd),currentLiveGameId),_0x5ed176={};_0x5ed176[_0x2af68e(0x668)+_0x5867dd+_0x2af68e(0x73e)]=_0x2af68e(0x95f);try{await updateDoc(_0x4311cf,_0x5ed176);}catch(_0x2e09de){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x5867dd+':',_0x2e09de),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x3a26f1=_0x1d88bf;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x10a8c5){console[_0x3a26f1(0x56e)]('Authentication\x20failed:',_0x10a8c5),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x2d06c2){const _0x76de84=_0x1d88bf;adminView[_0x76de84(0x5a7)][_0x76de84(0x3b1)](_0x76de84(0x8da)),studentView[_0x76de84(0x5a7)][_0x76de84(0x3b1)](_0x76de84(0x8da)),projectDashboardView[_0x76de84(0x5a7)]['add']('hidden'),projectDetailView['classList']['add']('hidden'),quizResultsView[_0x76de84(0x5a7)][_0x76de84(0x3b1)](_0x76de84(0x8da)),liveGameView[_0x76de84(0x5a7)][_0x76de84(0x3b1)]('hidden'),document[_0x76de84(0x9bf)](_0x76de84(0x8a0))[_0x76de84(0x5a7)][_0x76de84(0x3b1)](_0x76de84(0x8da)),studentInitialView['classList']['add'](_0x76de84(0x8da)),studentJoinGameView[_0x76de84(0x5a7)]['add']('hidden'),studentNameSelectionView[_0x76de84(0x5a7)][_0x76de84(0x3b1)](_0x76de84(0x8da)),studentQuizArea[_0x76de84(0x5a7)]['add'](_0x76de84(0x8da)),studentResultArea[_0x76de84(0x5a7)][_0x76de84(0x3b1)](_0x76de84(0x8da)),studentReadingArea[_0x76de84(0x5a7)]['add'](_0x76de84(0x8da));const _0x3733ed=document[_0x76de84(0x9bf)](_0x76de84(0x712)),_0x1239ec=document[_0x76de84(0x9bf)]('student-progress-view');if(_0x3733ed)_0x3733ed[_0x76de84(0x5a7)][_0x76de84(0x3b1)](_0x76de84(0x8da));if(_0x1239ec)_0x1239ec['classList'][_0x76de84(0x3b1)](_0x76de84(0x8da));switch(_0x2d06c2){case _0x76de84(0x587):adminView[_0x76de84(0x5a7)][_0x76de84(0x2bd)](_0x76de84(0x8da)),projectDashboardView[_0x76de84(0x5a7)][_0x76de84(0x2bd)](_0x76de84(0x8da));break;case _0x76de84(0xb9c):adminView['classList'][_0x76de84(0x2bd)]('hidden'),projectDetailView[_0x76de84(0x5a7)]['remove'](_0x76de84(0x8da));break;case _0x76de84(0x85f):adminView[_0x76de84(0x5a7)][_0x76de84(0x2bd)](_0x76de84(0x8da)),quizResultsView[_0x76de84(0x5a7)][_0x76de84(0x2bd)](_0x76de84(0x8da));break;case _0x76de84(0x655):studentView[_0x76de84(0x5a7)][_0x76de84(0x2bd)]('hidden'),studentInitialView[_0x76de84(0x5a7)][_0x76de84(0x2bd)]('hidden');break;case'live-game':liveGameView[_0x76de84(0x5a7)]['remove'](_0x76de84(0x8da));break;case _0x76de84(0xa97):studentView['classList'][_0x76de84(0x2bd)](_0x76de84(0x8da));if(_0x3733ed)_0x3733ed['classList'][_0x76de84(0x2bd)](_0x76de84(0x8da));break;case _0x76de84(0x24f):studentView[_0x76de84(0x5a7)][_0x76de84(0x2bd)](_0x76de84(0x8da));if(_0x1239ec)_0x1239ec[_0x76de84(0x5a7)][_0x76de84(0x2bd)]('hidden');break;default:studentView[_0x76de84(0x5a7)][_0x76de84(0x2bd)](_0x76de84(0x8da)),studentInitialView[_0x76de84(0x5a7)][_0x76de84(0x2bd)](_0x76de84(0x8da));break;}}function showJoinGameView(){const _0x338bf6=_0x1d88bf;studentInitialView['classList'][_0x338bf6(0x3b1)](_0x338bf6(0x8da)),studentJoinGameView['classList'][_0x338bf6(0x2bd)](_0x338bf6(0x8da));}async function handleSaveVisibilitySettings(){const _0x8ca9d3=_0x1d88bf;if(!currentProjectId)return;const _0x37b817=doc(db,_0x8ca9d3(0x30c)+appId+_0x8ca9d3(0x433),currentProjectId);try{await updateDoc(_0x37b817,{'settings.showInStudentDashboard':document['getElementById'](_0x8ca9d3(0x5f2))[_0x8ca9d3(0xc13)],'settings.isPasscodeEnabled':document[_0x8ca9d3(0x9bf)]('enable-passcode-checkbox')[_0x8ca9d3(0xc13)],'settings.passcode':document[_0x8ca9d3(0x9bf)](_0x8ca9d3(0x6c1))[_0x8ca9d3(0xb00)][_0x8ca9d3(0xb22)]()}),showMessage(_0x8ca9d3(0x866));}catch(_0x52204a){console[_0x8ca9d3(0x56e)](_0x8ca9d3(0x7c0),_0x52204a),showMessage(_0x8ca9d3(0x74d));}}function setupEventListeners(){const _0x575c6f=_0x1d88bf;document['getElementById'](_0x575c6f(0x6eb))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleAddParallelShortcutTab),document[_0x575c6f(0x9bf)]('parallel-test-input-area')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x54c1b3=>{const _0x4def0d=_0x575c6f;_0x54c1b3[_0x4def0d(0x964)]['closest'](_0x4def0d(0x1da))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x4def0d(0x9bf)](_0x4def0d(0x49f))[_0x4def0d(0x5a7)][_0x4def0d(0x2bd)]('hidden'));}),document['getElementById'](_0x575c6f(0x795))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x13a480=_0x575c6f;document['getElementById']('additional-parallel-shortcuts-modal')[_0x13a480(0x5a7)][_0x13a480(0x3b1)](_0x13a480(0x8da));}),document['addEventListener']('click',_0x8c5338=>{const _0xb9a2f2=_0x575c6f;!_0x8c5338['target'][_0xb9a2f2(0xa13)](_0xb9a2f2(0x5e8))&&document['querySelectorAll'](_0xb9a2f2(0x818))[_0xb9a2f2(0xb2a)](_0x26f73f=>_0x26f73f[_0xb9a2f2(0x5a7)]['add'](_0xb9a2f2(0x8da)));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x7e3))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleAddFileShortcutTab),document[_0x575c6f(0x9bf)]('file-input-area')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0xae870b=>{const _0x1f41a3=_0x575c6f;_0xae870b[_0x1f41a3(0x964)][_0x1f41a3(0xa13)](_0x1f41a3(0x35e))&&(activeFileShortcutTabId=_0x1f41a3(0x875),renderAdditionalFileShortcutsModal(),document[_0x1f41a3(0x9bf)](_0x1f41a3(0x3db))[_0x1f41a3(0x5a7)][_0x1f41a3(0x2bd)](_0x1f41a3(0x8da)));}),document[_0x575c6f(0x9bf)]('close-additional-file-shortcuts-btn')['addEventListener']('click',()=>{const _0x1c3ed7=_0x575c6f;document[_0x1c3ed7(0x9bf)]('additional-file-shortcuts-modal')[_0x1c3ed7(0x5a7)][_0x1c3ed7(0x3b1)]('hidden');}),document[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x108cc8=>{const _0x38361a=_0x575c6f;!_0x108cc8[_0x38361a(0x964)][_0x38361a(0xa13)](_0x38361a(0x4d7))&&document['querySelectorAll'](_0x38361a(0x4d3))[_0x38361a(0xb2a)](_0x59fb6b=>_0x59fb6b['classList'][_0x38361a(0x3b1)](_0x38361a(0x8da)));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x9f0))[_0x575c6f(0x8c1)]('click',handleAddShortcutTab),document[_0x575c6f(0x9bf)](_0x575c6f(0xb33))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x4c80a1=>{const _0xd1625a=_0x575c6f,_0x2ae737=_0x4c80a1['target'][_0xd1625a(0xa13)](_0xd1625a(0x9c7)),_0x2f330b=_0x4c80a1[_0xd1625a(0x964)][_0xd1625a(0xa13)]('.edit-parallel-shortcut-btn'),_0x24c27b=_0x4c80a1['target'][_0xd1625a(0xa13)](_0xd1625a(0x22b));if(_0x2f330b)openParallelTestShortcutEditor(_0x2f330b[_0xd1625a(0xc05)]['id']);else{if(_0x24c27b){const _0x1ec43d=_0x24c27b[_0xd1625a(0xc05)]['id'];showConfirmation(_0xd1625a(0x98c),async()=>{const _0x33763c=_0xd1625a,_0x189499=parallelTestShortcuts[_0x33763c(0x408)](_0x4fce29=>_0x4fce29['id']!==_0x1ec43d),_0x451fd2=doc(db,_0x33763c(0xb35),_0x33763c(0xc87));await setDoc(_0x451fd2,{'shortcuts':_0x189499},{'merge':!![]});});}else _0x2ae737&&handleParallelTestShortcutClick(_0x2ae737[_0xd1625a(0xc05)]['id']);}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x536))['addEventListener'](_0x575c6f(0x7c2),()=>openParallelTestShortcutEditor(null)),document[_0x575c6f(0x9bf)](_0x575c6f(0x44a))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x17d334=_0x575c6f;document['getElementById']('parallel-shortcut-editor-modal')[_0x17d334(0x5a7)][_0x17d334(0x3b1)](_0x17d334(0x8da));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x93a))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),saveParallelTestShortcutChanges),document[_0x575c6f(0x9bf)](_0x575c6f(0x9b6))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x5974c1=>{const _0x53a8c2=_0x575c6f;_0x5974c1[_0x53a8c2(0x964)][_0x53a8c2(0xa13)]('#open-additional-parallel-shortcuts-btn')&&document[_0x53a8c2(0x9bf)](_0x53a8c2(0x49f))[_0x53a8c2(0x5a7)]['remove'](_0x53a8c2(0x8da));}),document['getElementById'](_0x575c6f(0x795))['addEventListener'](_0x575c6f(0x7c2),()=>{const _0xc82ab6=_0x575c6f;document[_0xc82ab6(0x9bf)](_0xc82ab6(0x49f))[_0xc82ab6(0x5a7)][_0xc82ab6(0x3b1)]('hidden');}),document['getElementById'](_0x575c6f(0x3a5))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x456bcb=>{const _0x419ff8=_0x575c6f,_0x77c79f=document[_0x419ff8(0x9bf)](_0x419ff8(0x49f)),_0x4e3a15=_0x456bcb[_0x419ff8(0x964)][_0x419ff8(0xa13)](_0x419ff8(0x4af)),_0x235bb4=_0x456bcb[_0x419ff8(0x964)]['closest'](_0x419ff8(0x5a4)),_0x1ff361=_0x456bcb[_0x419ff8(0x964)]['closest'](_0x419ff8(0x94e));if(_0x4e3a15)_0x77c79f[_0x419ff8(0x5a7)]['add'](_0x419ff8(0x8da)),handleParallelTestShortcutClick(_0x4e3a15[_0x419ff8(0xc05)]['id']);else{if(_0x235bb4)_0x77c79f[_0x419ff8(0x5a7)][_0x419ff8(0x3b1)](_0x419ff8(0x8da)),openParallelTestShortcutEditor(_0x235bb4['dataset']['id']);else{if(_0x1ff361){const _0x588760=_0x1ff361[_0x419ff8(0xc05)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x5b972c=_0x419ff8,_0x65eba0=parallelTestShortcuts['filter'](_0x425661=>_0x425661['id']!==_0x588760),_0x5b1369=doc(db,_0x5b972c(0xb35),_0x5b972c(0xc87));await setDoc(_0x5b1369,{'shortcuts':_0x65eba0},{'merge':!![]});});}}}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x46d))['addEventListener'](_0x575c6f(0x7c2),_0x2994a8=>{const _0x285df9=_0x575c6f,_0xa107bb=_0x2994a8[_0x285df9(0x964)][_0x285df9(0xa13)](_0x285df9(0x4a4)),_0xb99c97=_0x2994a8[_0x285df9(0x964)][_0x285df9(0xa13)](_0x285df9(0x713)),_0x1883ea=_0x2994a8[_0x285df9(0x964)][_0x285df9(0xa13)](_0x285df9(0x228));if(_0xb99c97)openFileShortcutEditor(_0xb99c97['dataset']['id']);else{if(_0x1883ea){const _0x355489=_0x1883ea[_0x285df9(0xc05)]['id'];showConfirmation(_0x285df9(0x98c),async()=>{const _0x2ea54d=_0x285df9,_0x4f3551=fileShortcuts['filter'](_0x5369fe=>_0x5369fe['id']!==_0x355489),_0x4da8e6=doc(db,_0x2ea54d(0xb35),'fileShortcutsConfig');await setDoc(_0x4da8e6,{'shortcuts':_0x4f3551},{'merge':!![]});});}else _0xa107bb&&handleFileShortcutClick(_0xa107bb['dataset']['id']);}}),document[_0x575c6f(0x9bf)](_0x575c6f(0xa99))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>openFileShortcutEditor(null)),document[_0x575c6f(0x9bf)](_0x575c6f(0x37f))[_0x575c6f(0x8c1)]('click',()=>{const _0xf8ffef=_0x575c6f;document['getElementById'](_0xf8ffef(0x663))[_0xf8ffef(0x5a7)][_0xf8ffef(0x3b1)](_0xf8ffef(0x8da));}),document['getElementById'](_0x575c6f(0xb76))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),saveFileShortcutChanges),document[_0x575c6f(0x9bf)](_0x575c6f(0xb64))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x3ee091=>{const _0xdfce0b=_0x575c6f;_0x3ee091[_0xdfce0b(0x964)][_0xdfce0b(0xa13)]('#open-additional-file-shortcuts-btn')&&document['getElementById'](_0xdfce0b(0x3db))[_0xdfce0b(0x5a7)][_0xdfce0b(0x2bd)]('hidden');}),document[_0x575c6f(0x9bf)]('close-additional-file-shortcuts-btn')['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x3faaf2=_0x575c6f;document[_0x3faaf2(0x9bf)]('additional-file-shortcuts-modal')[_0x3faaf2(0x5a7)][_0x3faaf2(0x3b1)](_0x3faaf2(0x8da));}),document[_0x575c6f(0x9bf)]('additional-file-shortcuts-list')['addEventListener'](_0x575c6f(0x7c2),_0x5aa3fb=>{const _0x36285e=_0x575c6f,_0x325448=document[_0x36285e(0x9bf)](_0x36285e(0x3db)),_0x32a34a=_0x5aa3fb[_0x36285e(0x964)][_0x36285e(0xa13)]('.use-hidden-file-shortcut-btn'),_0x3a84f5=_0x5aa3fb[_0x36285e(0x964)][_0x36285e(0xa13)](_0x36285e(0x7e2)),_0x353bae=_0x5aa3fb[_0x36285e(0x964)][_0x36285e(0xa13)](_0x36285e(0xc5f));if(_0x32a34a)_0x325448[_0x36285e(0x5a7)][_0x36285e(0x3b1)](_0x36285e(0x8da)),handleFileShortcutClick(_0x32a34a[_0x36285e(0xc05)]['id']);else{if(_0x3a84f5)_0x325448['classList'][_0x36285e(0x3b1)](_0x36285e(0x8da)),openFileShortcutEditor(_0x3a84f5[_0x36285e(0xc05)]['id']);else{if(_0x353bae){const _0x3f0c54=_0x353bae[_0x36285e(0xc05)]['id'];showConfirmation(_0x36285e(0x98c),async()=>{const _0x44634d=_0x36285e,_0xe6a642=fileShortcuts['filter'](_0x203974=>_0x203974['id']!==_0x3f0c54),_0x5d006f=doc(db,'globalSettings',_0x44634d(0x963));await setDoc(_0x5d006f,{'shortcuts':_0xe6a642},{'merge':!![]});});}}}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x66e))[_0x575c6f(0x8c1)]('click',_0x3292d7=>{const _0x5f5792=_0x575c6f;_0x3292d7[_0x5f5792(0x964)][_0x5f5792(0xa13)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x5f5792(0x875),renderAdditionalShortcutsModal(),document[_0x5f5792(0x9bf)](_0x5f5792(0x59c))[_0x5f5792(0x5a7)][_0x5f5792(0x2bd)](_0x5f5792(0x8da)));}),document[_0x575c6f(0x9bf)]('close-additional-shortcuts-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x1b75cb=_0x575c6f;document[_0x1b75cb(0x9bf)](_0x1b75cb(0x59c))[_0x1b75cb(0x5a7)][_0x1b75cb(0x3b1)](_0x1b75cb(0x8da));}),document['getElementById'](_0x575c6f(0x4e4))['addEventListener'](_0x575c6f(0x7c2),_0x13f4b5=>{const _0x5d97c6=_0x575c6f,_0x593e12=_0x13f4b5[_0x5d97c6(0x964)]['closest'](_0x5d97c6(0x9d8)),_0x35451a=_0x13f4b5[_0x5d97c6(0x964)][_0x5d97c6(0xa13)]('.edit-hidden-shortcut-btn'),_0x2f9315=_0x13f4b5['target'][_0x5d97c6(0xa13)]('.delete-hidden-shortcut-btn'),_0x43b6ac=document[_0x5d97c6(0x9bf)]('additional-shortcuts-modal');if(_0x593e12)_0x43b6ac['classList'][_0x5d97c6(0x3b1)](_0x5d97c6(0x8da)),handleShortcutClick(_0x593e12[_0x5d97c6(0xc05)]['id']);else{if(_0x35451a)_0x43b6ac[_0x5d97c6(0x5a7)][_0x5d97c6(0x3b1)](_0x5d97c6(0x8da)),openShortcutEditor(_0x35451a['dataset']['id']);else{if(_0x2f9315){const _0x599e86=_0x2f9315['dataset']['id'],_0x15eeca=blueprintShortcuts[_0x5d97c6(0x9c1)](_0x34a7cf=>_0x34a7cf['id']===_0x599e86)?.[_0x5d97c6(0xa80)];showConfirmation(_0x5d97c6(0xa40)+_0x15eeca+'\x22?',async()=>{const _0x18b805=_0x5d97c6,_0x4062dd=blueprintShortcuts[_0x18b805(0x408)](_0x4cefb3=>_0x4cefb3['id']!==_0x599e86);try{const _0xce7203=doc(db,_0x18b805(0xb35),'dashboardConfig');await setDoc(_0xce7203,{'blueprintShortcuts':_0x4062dd},{'merge':!![]});}catch(_0x1516f6){console['error'](_0x18b805(0x756),_0x1516f6);}});}}}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x296))['addEventListener']('click',_0x3447c2=>{const _0x3e237a=_0x575c6f,_0xf5f989=_0x3447c2[_0x3e237a(0x964)]['closest']('.shortcut-btn'),_0x35d53b=_0x3447c2[_0x3e237a(0x964)][_0x3e237a(0xa13)](_0x3e237a(0x42d)),_0x3329e5=_0x3447c2[_0x3e237a(0x964)]['closest'](_0x3e237a(0x6ce));if(_0x35d53b)openShortcutEditor(_0x35d53b[_0x3e237a(0xc05)]['id']);else{if(_0x3329e5){const _0x4f088f=_0x3329e5['dataset']['id'],_0x4efbef=blueprintShortcuts[_0x3e237a(0x9c1)](_0x157298=>_0x157298['id']===_0x4f088f)?.['name'];showConfirmation(_0x3e237a(0xa40)+_0x4efbef+'\x22?',async()=>{const _0x3e7064=_0x3e237a,_0x2a26ee=blueprintShortcuts[_0x3e7064(0x408)](_0x15de72=>_0x15de72['id']!==_0x4f088f);try{const _0x126e55=doc(db,_0x3e7064(0xb35),'dashboardConfig');await setDoc(_0x126e55,{'blueprintShortcuts':_0x2a26ee},{'merge':!![]});}catch(_0xac70ec){console[_0x3e7064(0x56e)](_0x3e7064(0x756),_0xac70ec);}});}else _0xf5f989&&handleShortcutClick(_0xf5f989[_0x3e237a(0xc05)]['id']);}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x876))['addEventListener'](_0x575c6f(0x7c2),()=>openShortcutEditor(null)),document[_0x575c6f(0x9bf)](_0x575c6f(0x5de))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x270320=_0x575c6f;document[_0x270320(0x9bf)](_0x270320(0x4f3))[_0x270320(0x5a7)][_0x270320(0x3b1)]('hidden');}),document['getElementById']('save-shortcut-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),saveShortcutChanges),document['getElementById'](_0x575c6f(0x344))[_0x575c6f(0x8c1)]('click',async()=>{const _0x15ab22=_0x575c6f,_0x5b63ed=document['getElementById']('blueprint-upload-input'),_0x14ad5c=document[_0x15ab22(0x9bf)](_0x15ab22(0xa87));_0x5b63ed['files']['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x5b63ed[_0x15ab22(0x222)][0x0],_0x14ad5c['files'][0x0]||null):showMessage(_0x15ab22(0xc8d));}),document[_0x575c6f(0x9bf)]('topic-quiz-bank-modal')[_0x575c6f(0x8c1)]('click',async _0x206e3c=>{const _0x211351=_0x575c6f,_0x799ee2=document[_0x211351(0x9bf)](_0x211351(0x857)),_0x42dad5=_0x206e3c[_0x211351(0x964)][_0x211351(0xa13)](_0x211351(0x1a5)),_0x407791=_0x206e3c['target'][_0x211351(0xa13)](_0x211351(0xb82)),_0x59d11c=_0x206e3c['target'][_0x211351(0xa13)](_0x211351(0xc20)),_0x157958=_0x206e3c[_0x211351(0x964)][_0x211351(0xa13)](_0x211351(0x86d)),_0x4587cc=_0x206e3c[_0x211351(0x964)]['closest'](_0x211351(0x939)),_0x4baa88=_0x206e3c[_0x211351(0x964)][_0x211351(0xa13)](_0x211351(0xcff));if(_0x42dad5){cameFromBlueprint=!![];const _0x9f45b6=_0x42dad5[_0x211351(0xc05)][_0x211351(0x2cf)];showQuizDetailView(_0x9f45b6),_0x799ee2['classList']['add'](_0x211351(0x8da));}else{if(_0x407791){const _0x3b66a8=_0x407791[_0x211351(0xc05)][_0x211351(0x260)],_0x110f75=_0x407791[_0x211351(0xc05)]['quizId'],_0x17acfc=allQuizzesGlobal[_0x211351(0x9c1)](_0x511a01=>_0x511a01['id']===_0x110f75),_0x2d4d0=_0x17acfc?_0x17acfc['topic']:_0x211351(0x403);showConfirmation(_0x211351(0xc38)+_0x2d4d0+_0x211351(0x88f),async()=>{const _0x1ddb26=_0x211351;try{const _0x50d81a=doc(db,_0x1ddb26(0x30c)+appId+_0x1ddb26(0x75e),currentBlueprintProjectId);await updateDoc(_0x50d81a,{[_0x1ddb26(0x517)+_0x3b66a8+_0x1ddb26(0x635)]:arrayRemove(_0x110f75)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x3b66a8),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xcf7961){console[_0x1ddb26(0x56e)](_0x1ddb26(0x510),_0xcf7961),showMessage(_0x1ddb26(0x2cb));}});}else{if(_0x59d11c){cameFromBlueprint=!![];const _0x4384e5=_0x59d11c[_0x211351(0xc05)][_0x211351(0x2cf)],_0x3e585c=allQuizzesGlobal['find'](_0x4acc0c=>_0x4acc0c['id']===_0x4384e5);_0x3e585c&&(startPresentation(_0x3e585c),_0x799ee2['classList'][_0x211351(0x3b1)](_0x211351(0x8da)));}else{if(_0x157958){cameFromBlueprint=!![];const _0x623ed6=_0x157958[_0x211351(0xc05)][_0x211351(0x2cf)],_0x103979=allQuizzesGlobal['find'](_0xddd36a=>_0xddd36a['id']===_0x623ed6);_0x103979&&(currentQuizData=_0x103979,startAdminTest(),_0x799ee2['classList'][_0x211351(0x3b1)](_0x211351(0x8da)));}else{if(_0x4587cc)cameFromBlueprint=!![],handleStartLiveRace(_0x4587cc[_0x211351(0xc05)][_0x211351(0x2cf)]),_0x799ee2[_0x211351(0x5a7)][_0x211351(0x3b1)](_0x211351(0x8da));else{if(_0x4baa88){cameFromBlueprint=!![];const _0x1e2fc7=_0x4baa88['dataset']['quizId'],_0x326bba=_0x4baa88[_0x211351(0xc05)][_0x211351(0x1ae)],_0x124675=allQuizzesGlobal[_0x211351(0x9c1)](_0x3d0d44=>_0x3d0d44['id']===_0x1e2fc7);_0x124675&&(showGameStartConfirmationModal(_0x1e2fc7,_0x326bba,_0x124675[_0x211351(0x6f8)]),_0x799ee2[_0x211351(0x5a7)][_0x211351(0x3b1)](_0x211351(0x8da)));}}}}}}}),document[_0x575c6f(0x9bf)]('manual-create-blueprint-btn')['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x5bb10c=_0x575c6f;document[_0x5bb10c(0x9bf)](_0x5bb10c(0x2c8))['classList']['remove'](_0x5bb10c(0x8da)),document['getElementById'](_0x5bb10c(0x1d2))[_0x5bb10c(0xb00)]='',document[_0x5bb10c(0x9bf)](_0x5bb10c(0x773))['value']='',document[_0x5bb10c(0x9bf)](_0x5bb10c(0x589))['value']='';}),document[_0x575c6f(0x9bf)](_0x575c6f(0x8fe))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x118d5d=_0x575c6f;document[_0x118d5d(0x9bf)](_0x118d5d(0x2c8))[_0x118d5d(0x5a7)][_0x118d5d(0x3b1)](_0x118d5d(0x8da));}),document[_0x575c6f(0x9bf)]('confirm-manual-bp-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleManualBlueprintSave),document[_0x575c6f(0x9bf)](_0x575c6f(0x1de))[_0x575c6f(0x8c1)]('click',()=>document['getElementById'](_0x575c6f(0x26a))[_0x575c6f(0x5a7)][_0x575c6f(0x3b1)](_0x575c6f(0x8da))),document[_0x575c6f(0x9bf)](_0x575c6f(0x8a2))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleSaveBlueprintPageSettings),document['getElementById']('bp-quiz-settings-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),openBlueprintQuizSettings),document[_0x575c6f(0x9bf)]('save-blueprint-as-project-btn')['addEventListener'](_0x575c6f(0x7c2),saveBlueprintProject),document[_0x575c6f(0x9bf)](_0x575c6f(0x9d5))[_0x575c6f(0x8c1)]('click',showBlueprintProjects),document[_0x575c6f(0x9bf)]('cancel-blueprint-projects-btn')['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x4ff7d4=_0x575c6f;document['getElementById'](_0x4ff7d4(0xaad))[_0x4ff7d4(0x5a7)][_0x4ff7d4(0x3b1)](_0x4ff7d4(0x8da));}),document[_0x575c6f(0x9bf)]('blueprint-project-list')['addEventListener']('click',_0x1b9974=>{const _0x3e04fe=_0x575c6f,_0x4bc2df=_0x1b9974['target'][_0x3e04fe(0xa13)](_0x3e04fe(0x4be)),_0x2de798=_0x1b9974[_0x3e04fe(0x964)][_0x3e04fe(0xa13)](_0x3e04fe(0x916));if(_0x4bc2df)displayBlueprintProjectManager(_0x4bc2df['dataset']['id']);else{if(_0x2de798){if(confirm('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?')){const _0x4f51a2=doc(db,'artifacts/'+appId+_0x3e04fe(0x75e),_0x2de798['dataset']['id']);deleteDoc(_0x4f51a2)['then'](()=>{const _0x71ad35=_0x3e04fe;showMessage(_0x71ad35(0x95d)),showBlueprintProjects();});}}}}),document[_0x575c6f(0x9bf)](_0x575c6f(0xcad))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x5bc585=_0x575c6f;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x5bc585(0x8a0))['classList'][_0x5bc585(0x3b1)](_0x5bc585(0x8da)),showView(_0x5bc585(0x587));}),document['getElementById'](_0x575c6f(0x3f2))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),addTopicToProject),document['getElementById'](_0x575c6f(0xc3d))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),async _0x1faf8d=>{const _0xefdfd6=_0x575c6f,_0x4b2311=_0x1faf8d[_0xefdfd6(0x964)][_0xefdfd6(0xa13)](_0xefdfd6(0x7b3));if(!_0x4b2311)return;const _0x109339=_0x4b2311[_0xefdfd6(0xc05)][_0xefdfd6(0x260)],_0xea299f=_0x1faf8d[_0xefdfd6(0x964)][_0xefdfd6(0xa13)](_0xefdfd6(0x4ac)),_0x846bc1=_0x1faf8d[_0xefdfd6(0x964)][_0xefdfd6(0xa13)](_0xefdfd6(0x31b)),_0x33c9c7=_0x1faf8d['target'][_0xefdfd6(0xa13)](_0xefdfd6(0xcdd)),_0x5ce104=_0x1faf8d[_0xefdfd6(0x964)][_0xefdfd6(0xa13)]('.bp-open-topic-bank-btn'),_0x22c05a=_0x1faf8d[_0xefdfd6(0x964)]['closest'](_0xefdfd6(0x61b)),_0x5272bd=_0x1faf8d[_0xefdfd6(0x964)][_0xefdfd6(0xa13)](_0xefdfd6(0x637)),_0x2a0fba=_0x1faf8d[_0xefdfd6(0x964)][_0xefdfd6(0xa13)](_0xefdfd6(0x72f)),_0x22e135=_0x1faf8d[_0xefdfd6(0x964)][_0xefdfd6(0xa13)](_0xefdfd6(0x4fd));if(_0x5ce104)openTopicQuizBank(_0x109339);else{if(_0xea299f){console[_0xefdfd6(0xc30)]('Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.');const _0x8a28ec=_0x4b2311[_0xefdfd6(0x583)](_0xefdfd6(0x4de))[_0xefdfd6(0xa9a)];selectProjectAndGenerateBlueprintQuiz(_0x8a28ec,null,_0x109339,!![]);}else{if(_0x846bc1){console['log'](_0xefdfd6(0x1ea));try{const _0x97c6df=doc(db,_0xefdfd6(0x30c)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x26c9ae=await getDoc(_0x97c6df);if(_0x26c9ae[_0xefdfd6(0xb67)]()){const _0x44904a=_0x26c9ae['data'](),_0x206d1b=_0x44904a[_0xefdfd6(0xaa9)][_0x109339],_0x31b17d=_0x206d1b[_0xefdfd6(0x81e)],_0x407ed9=document['createElement'](_0xefdfd6(0xbf5)),_0x2c3bab=_0x101321=>{const _0x54b142=_0xefdfd6;if(!_0x101321)return'';return _0x407ed9[_0x54b142(0x6b3)]=_0x101321,_0x407ed9[_0x54b142(0xa9a)]||_0x407ed9[_0x54b142(0x603)]||'';},_0x2e85ff=(_0x2c3bab(_0x31b17d['point'])+'\x20'+_0x2c3bab(_0x31b17d[_0xefdfd6(0x895)])+'\x20'+_0x2c3bab(_0x31b17d['summary']))[_0xefdfd6(0xb22)]();selectProjectAndGenerateBlueprintQuiz(_0x206d1b[_0xefdfd6(0x631)],_0x2e85ff,_0x109339,![]);}}catch(_0x43d81f){console[_0xefdfd6(0x56e)]('Error\x20preparing\x20content\x20quiz:',_0x43d81f);}}else{if(_0x33c9c7){console['log'](_0xefdfd6(0x767));const _0x5e047c=_0x4b2311[_0xefdfd6(0x583)]('[data-field=\x22subTopic\x22]')[_0xefdfd6(0xa9a)];selectProjectAndGenerateBlueprintQuiz(_0x5e047c,null,_0x109339,![]);}else{if(_0x22c05a){console[_0xefdfd6(0xc30)]('Action:\x20View\x20existing\x20lesson.');const _0x3390a2=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x39e56e=await getDoc(_0x3390a2);if(_0x39e56e['exists']()){const _0x314899=_0x39e56e['data'](),_0x5ca4b9=_0x314899[_0xefdfd6(0xaa9)][_0x109339];if(_0x5ca4b9&&_0x5ca4b9[_0xefdfd6(0x81e)]){document[_0xefdfd6(0x9bf)](_0xefdfd6(0x4c0))[_0xefdfd6(0xa9a)]=_0xefdfd6(0x3b6)+_0x5ca4b9[_0xefdfd6(0x631)],document[_0xefdfd6(0x9bf)]('pointContent')['innerHTML']=_0x5ca4b9[_0xefdfd6(0x81e)][_0xefdfd6(0x254)],document['getElementById']('memoryContent')['innerHTML']=_0x5ca4b9[_0xefdfd6(0x81e)][_0xefdfd6(0x895)],document['getElementById'](_0xefdfd6(0x364))[_0xefdfd6(0x6b3)]=_0x5ca4b9[_0xefdfd6(0x81e)][_0xefdfd6(0x5bc)];const _0x464cf0=document[_0xefdfd6(0x9bf)](_0xefdfd6(0x7fb));_0x5ca4b9['lessonContent'][_0xefdfd6(0x27a)]?(currentApplicationData=_0x5ca4b9['lessonContent'][_0xefdfd6(0x27a)],_0x464cf0['innerHTML']=currentApplicationData[_0xefdfd6(0x2b5)]((_0x1c027d,_0x5d9e61)=>_0xefdfd6(0x6ea)+(_0x5d9e61+0x1)+'.\x20'+marked[_0xefdfd6(0x477)](_0x1c027d[_0xefdfd6(0x66d)])+_0xefdfd6(0x6b7)+_0x5d9e61+_0xefdfd6(0x3c4)+_0x1c027d[_0xefdfd6(0x69b)]['map']((_0xbf7c8c,_0x3c43f9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x5d9e61+',\x20'+_0x3c43f9+_0xefdfd6(0xceb)+String[_0xefdfd6(0x465)](0x61+_0x3c43f9)+'.\x20'+marked['parseInline'](_0xbf7c8c)+_0xefdfd6(0x9f6))[_0xefdfd6(0x77f)]('')+_0xefdfd6(0xbea))[_0xefdfd6(0x77f)]('')):(currentApplicationData=[],_0x464cf0[_0xefdfd6(0x6b3)]=_0x5ca4b9[_0xefdfd6(0x81e)]['applicationHTML']||_0x5ca4b9[_0xefdfd6(0x81e)][_0xefdfd6(0x3b2)]),document[_0xefdfd6(0x9bf)](_0xefdfd6(0xcf6))['classList']['add'](_0xefdfd6(0x8da)),document[_0xefdfd6(0x9bf)](_0xefdfd6(0xc18))[_0xefdfd6(0x5a7)]['remove'](_0xefdfd6(0x8da)),document['getElementById'](_0xefdfd6(0x33f))[_0xefdfd6(0x5a7)][_0xefdfd6(0x2bd)](_0xefdfd6(0x8da)),window[_0xefdfd6(0x7c4)]&&MathJax[_0xefdfd6(0xa7b)]([document[_0xefdfd6(0x9bf)](_0xefdfd6(0x37e))]);}else showMessage(_0xefdfd6(0x770));}}else{if(_0x5272bd){console[_0xefdfd6(0xc30)](_0xefdfd6(0x43a));const _0x5e1925=doc(db,'artifacts/'+appId+_0xefdfd6(0x75e),currentBlueprintProjectId),_0x2926b0=await getDoc(_0x5e1925);if(_0x2926b0[_0xefdfd6(0xb67)]()){const _0x24e24b=_0x2926b0[_0xefdfd6(0x7bb)](),_0x384f3f=_0x24e24b['topics'][_0x109339];generateAndSaveLessonForBlueprint(_0x109339,_0x384f3f[_0xefdfd6(0x631)],_0x24e24b[_0xefdfd6(0xc29)]);}}else{if(_0x2a0fba)editTopicInProject(_0x109339);else _0x22e135&&deleteTopicFromProject(_0x109339);}}}}}}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x97f))['addEventListener'](_0x575c6f(0x7c2),handleFixLessonLatex),document['getElementById']('export-lesson-to-pdf-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleExportLessonToPDF),document[_0x575c6f(0x9bf)](_0x575c6f(0x249))['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x4ca770=_0x575c6f;document[_0x4ca770(0x9bf)]('lesson-view-modal')[_0x4ca770(0x5a7)][_0x4ca770(0x3b1)](_0x4ca770(0x8da));});const _0x369552=document['getElementById'](_0x575c6f(0x8f7)),_0x573df4=document[_0x575c6f(0x9bf)](_0x575c6f(0xba9));_0x369552['addEventListener'](_0x575c6f(0x3ef),()=>{const _0x270c6c=_0x575c6f;_0x573df4[_0x270c6c(0x5a7)][_0x270c6c(0x372)](_0x270c6c(0x8da),!_0x369552[_0x270c6c(0xc13)]);});const _0x1fedd2=document[_0x575c6f(0x9bf)](_0x575c6f(0xb17)),_0x4b8d55=document[_0x575c6f(0x9bf)](_0x575c6f(0x70e));_0x1fedd2[_0x575c6f(0x8c1)](_0x575c6f(0x3ef),()=>{_0x4b8d55['classList']['toggle']('hidden',!_0x1fedd2['checked']);});const _0x38a927=document[_0x575c6f(0x9bf)](_0x575c6f(0x241)),_0x1da4f3=document[_0x575c6f(0x9bf)](_0x575c6f(0xc45));_0x38a927[_0x575c6f(0x8c1)](_0x575c6f(0x3ef),()=>{const _0x31e02d=_0x575c6f;_0x1da4f3[_0x31e02d(0x5a7)][_0x31e02d(0x372)](_0x31e02d(0x8da),!_0x38a927[_0x31e02d(0xc13)]);});const _0x4d400b=document[_0x575c6f(0x9bf)](_0x575c6f(0x30f)),_0x59754a=async _0x59ad92=>{const _0x57caab=_0x575c6f,_0x221691=document[_0x57caab(0x9bf)](_0x57caab(0x30f)),_0x37e82a=_0x221691['dataset']['currentMode'],_0xb87ab=document[_0x57caab(0x9bf)](_0x57caab(0x1c0));_0x221691[_0x57caab(0x5a7)][_0x57caab(0x3b1)](_0x57caab(0x8da));if(_0x37e82a===_0x57caab(0xa53)){const _0x417c0d=_0xb87ab[_0x57caab(0xb00)],_0x176ebf={'answer':_0x417c0d,'wasConfident':_0x59ad92};proceedToNextQuestion(_0x176ebf);}else{if(_0x37e82a==='sync'){const _0x50e026=_0xb87ab[_0x57caab(0xc05)][_0x57caab(0x819)],_0x689071=JSON[_0x57caab(0x784)](_0xb87ab[_0x57caab(0xc05)][_0x57caab(0x66d)]),_0x567c7c=JSON[_0x57caab(0x784)](_0xb87ab[_0x57caab(0xc05)][_0x57caab(0x888)]),_0x45cb66=_0xb87ab[_0x57caab(0xc05)][_0x57caab(0x5d7)];handleSyncAnswerSubmit(_0x50e026,_0x689071,_0x567c7c,_0x45cb66,_0x59ad92);}}_0x221691[_0x57caab(0xc05)][_0x57caab(0x224)]='';};document[_0x575c6f(0x9bf)](_0x575c6f(0x8b5))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>_0x59754a(!![])),document[_0x575c6f(0x9bf)]('confirm-not-confident')['addEventListener'](_0x575c6f(0x7c2),()=>_0x59754a(![])),liveGameView['addEventListener'](_0x575c6f(0x7c2),_0x5a873c=>{const _0x107571=_0x575c6f,_0x376d32=_0x5a873c[_0x107571(0x964)][_0x107571(0xa13)]('.kick-player-btn-sync');if(_0x376d32){const _0x31b984=_0x376d32['dataset'][_0x107571(0x5d7)];_0x31b984&&handleKickPlayerSync(_0x31b984);}});const _0x5982a5=document[_0x575c6f(0x9bf)]('confirm-game-start-btn'),_0x59f2d1=document['getElementById'](_0x575c6f(0x534));_0x59f2d1[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x401d30=_0x575c6f;document['getElementById'](_0x401d30(0x8ed))[_0x401d30(0x5a7)][_0x401d30(0x3b1)]('hidden');}),_0x5982a5[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x5682ff=_0x575c6f,_0x37fbfd=document[_0x5682ff(0x9bf)](_0x5682ff(0x72b))[_0x5682ff(0xb00)],_0x2e1b0e=document[_0x5682ff(0x9bf)](_0x5682ff(0x804))[_0x5682ff(0xb00)],_0x3f1314=document['getElementById'](_0x5682ff(0x5ce))[_0x5682ff(0xc13)];document[_0x5682ff(0x9bf)](_0x5682ff(0x8ed))[_0x5682ff(0x5a7)]['add'](_0x5682ff(0x8da));switch(_0x2e1b0e){case'live-race':handleStartLiveRace(_0x37fbfd,_0x3f1314);break;case _0x5682ff(0xc3f):handleStartTeamQuiz(_0x37fbfd,_0x3f1314);break;case _0x5682ff(0x1a2):handleStartGroupMode(_0x37fbfd,_0x3f1314);break;case _0x5682ff(0xb1b):handleStartSyncMode(_0x37fbfd,_0x3f1314);break;}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x2e4))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleJoinGroupActivity),liveGameView[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x59c5d2=>{const _0x656b27=_0x575c6f,_0x5b7f48=_0x59c5d2[_0x656b27(0x964)][_0x656b27(0xa13)](_0x656b27(0x822));document['querySelectorAll']('.live-summary-tooltip.visible')[_0x656b27(0xb2a)](_0x16b64a=>{const _0x338829=_0x656b27;(!_0x5b7f48||_0x16b64a['id']!==_0x5b7f48[_0x338829(0xc05)]['tooltipTarget'])&&_0x16b64a[_0x338829(0x5a7)][_0x338829(0x2bd)](_0x338829(0xc89));});if(!_0x5b7f48)return;const _0x40db26=_0x5b7f48[_0x656b27(0xc05)][_0x656b27(0x839)],_0x152da1=document['getElementById'](_0x40db26);_0x152da1&&_0x152da1['classList'][_0x656b27(0x372)](_0x656b27(0xc89));}),liveGameView[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x1923ef=>{const _0x4a927f=_0x575c6f;if(_0x1923ef[_0x4a927f(0x964)][_0x4a927f(0x5a7)][_0x4a927f(0x2be)](_0x4a927f(0xaa2))){const _0x3c28ed=_0x1923ef[_0x4a927f(0x964)][_0x4a927f(0xc05)][_0x4a927f(0x5d7)];_0x3c28ed&&handleKickPlayer(_0x3c28ed);}}),document['getElementById']('project-title')['addEventListener'](_0x575c6f(0x544),()=>document[_0x575c6f(0x9bf)](_0x575c6f(0x4f2))['classList'][_0x575c6f(0x2bd)](_0x575c6f(0x8da))),document[_0x575c6f(0x9bf)](_0x575c6f(0x4f2))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleSaveProjectName),document['getElementById'](_0x575c6f(0xc1d))[_0x575c6f(0x8c1)](_0x575c6f(0x59b),_0x210029=>{const _0x3e9f50=_0x575c6f;_0x210029['key']===_0x3e9f50(0x787)&&(_0x210029[_0x3e9f50(0x1a4)](),_0x210029[_0x3e9f50(0x964)][_0x3e9f50(0x61e)](),handleSaveProjectName());}),document[_0x575c6f(0x9bf)](_0x575c6f(0x750))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x20a20b=_0x575c6f;document['getElementById'](_0x20a20b(0x22c))[_0x20a20b(0x5a7)][_0x20a20b(0x2bd)]('hidden');}),document[_0x575c6f(0x9bf)](_0x575c6f(0x4b8))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x489e93=_0x575c6f;document[_0x489e93(0x9bf)](_0x489e93(0x22c))['classList'][_0x489e93(0x3b1)](_0x489e93(0x8da));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x5fb))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleBulkUpdateQuizSettings),document['getElementById'](_0x575c6f(0x5da))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleModeSwitch),document[_0x575c6f(0x9bf)]('update-old-quizzes-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleUpdateOldQuizzes),document['getElementById']('reset-project-order-btn')['addEventListener']('click',handleResetProjectOrder),document[_0x575c6f(0x9bf)](_0x575c6f(0x653))['addEventListener'](_0x575c6f(0x7c2),handleSaveVisibilitySettings),document[_0x575c6f(0x9bf)](_0x575c6f(0x3d0))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleAddCustomMathTopic),document[_0x575c6f(0x9bf)](_0x575c6f(0x74e))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleSelectAllTopics),document[_0x575c6f(0x9bf)](_0x575c6f(0xc75))[_0x575c6f(0x8c1)]('click',handleDeselectAllTopics),document['getElementById'](_0x575c6f(0xb26))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x6a54b1=_0x575c6f;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x6a54b1(0x587));}}),document['getElementById'](_0x575c6f(0x5b8))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x4e3aae=_0x575c6f;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4e3aae(0xb9c));}}),document['getElementById'](_0x575c6f(0x9f4))[_0x575c6f(0x8c1)]('click',()=>{const _0xc7843e=_0x575c6f;showView(_0xc7843e(0x587));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x9d9))['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x2284f6=_0x575c6f;messageModal[_0x2284f6(0x5a7)][_0x2284f6(0x3b1)]('hidden'),typeof modalConfirmAction===_0x2284f6(0x58b)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x575c6f(0x9bf)](_0x575c6f(0x821))[_0x575c6f(0x8c1)]('click',()=>createProjectModal[_0x575c6f(0x5a7)][_0x575c6f(0x2bd)](_0x575c6f(0x8da))),document[_0x575c6f(0x9bf)](_0x575c6f(0x19e))[_0x575c6f(0x8c1)]('click',()=>createProjectModal[_0x575c6f(0x5a7)][_0x575c6f(0x3b1)](_0x575c6f(0x8da))),document[_0x575c6f(0x9bf)](_0x575c6f(0x9d4))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>adminPasswordModal['classList']['add'](_0x575c6f(0x8da))),document['getElementById']('confirm-admin-login-btn')['addEventListener']('click',handleAdminLogin),document[_0x575c6f(0x9bf)]('admin-password-input')[_0x575c6f(0x8c1)](_0x575c6f(0x9ab),_0x481e5c=>{const _0x4e8645=_0x575c6f;if(_0x481e5c[_0x4e8645(0xc07)]===_0x4e8645(0x787))handleAdminLogin();}),document['getElementById']('cancel-delete-btn')['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x47fee8=_0x575c6f;confirmationModal[_0x47fee8(0x5a7)][_0x47fee8(0x3b1)](_0x47fee8(0x8da)),confirmAction=null;}),document[_0x575c6f(0x9bf)]('confirm-delete-btn')['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x4ab8fe=_0x575c6f;confirmAction&&confirmAction(),confirmationModal['classList']['add'](_0x4ab8fe(0x8da)),confirmAction=null;}),document[_0x575c6f(0x9bf)](_0x575c6f(0xa39))['addEventListener']('click',()=>renameQuizModal[_0x575c6f(0x5a7)][_0x575c6f(0x3b1)](_0x575c6f(0x8da))),document[_0x575c6f(0x9bf)](_0x575c6f(0x33d))['addEventListener'](_0x575c6f(0x7c2),confirmRenameQuiz),document[_0x575c6f(0x9bf)]('cancel-move-quiz-btn')['addEventListener'](_0x575c6f(0x7c2),()=>moveQuizModal[_0x575c6f(0x5a7)][_0x575c6f(0x3b1)](_0x575c6f(0x8da))),document[_0x575c6f(0x9bf)](_0x575c6f(0x6d6))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),confirmMoveQuiz),document[_0x575c6f(0x9bf)]('cancel-quiz-settings-btn')['addEventListener'](_0x575c6f(0x7c2),()=>quizSettingsModal[_0x575c6f(0x5a7)]['add'](_0x575c6f(0x8da))),document['getElementById'](_0x575c6f(0x424))[_0x575c6f(0x8c1)]('click',confirmQuizSettings),document['getElementById'](_0x575c6f(0x402))['addEventListener'](_0x575c6f(0x7c2),()=>quizStatusModal[_0x575c6f(0x5a7)]['add']('hidden')),document[_0x575c6f(0x9bf)](_0x575c6f(0xc70))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),confirmQuizStatus);const _0xf14ffd=document[_0x575c6f(0x9bf)]('export-pdf-modal');document[_0x575c6f(0x9bf)](_0x575c6f(0x44c))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x1215d2=_0x575c6f;_0xf14ffd[_0x1215d2(0x5a7)][_0x1215d2(0x3b1)](_0x1215d2(0x8da));}),document[_0x575c6f(0x9bf)]('export-compact-pdf-btn')['addEventListener'](_0x575c6f(0x7c2),async()=>{const _0x56489a=_0x575c6f,_0x1f1ff0=allQuizzes[_0x56489a(0x9c1)](_0x1ebae2=>_0x1ebae2['id']===actionTargetId);_0x1f1ff0?(currentQuizData=_0x1f1ff0,exportQuizAsWorksheetPDF()):showMessage(_0x56489a(0xa66)),_0xf14ffd[_0x56489a(0x5a7)][_0x56489a(0x3b1)](_0x56489a(0x8da));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x7ba))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),async()=>{const _0xc35f39=_0x575c6f,_0x492dc2=allQuizzes[_0xc35f39(0x9c1)](_0x20acce=>_0x20acce['id']===actionTargetId);_0x492dc2?(currentQuizData=_0x492dc2,exportQuizAsTutorPDF()):showMessage(_0xc35f39(0xa66)),_0xf14ffd[_0xc35f39(0x5a7)][_0xc35f39(0x3b1)](_0xc35f39(0x8da));}),document[_0x575c6f(0x9bf)](_0x575c6f(0xb6c))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),openGlobalLiveModal),document['getElementById'](_0x575c6f(0xcd5))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x15f886=_0x575c6f;document[_0x15f886(0x9bf)](_0x15f886(0xa0c))['classList'][_0x15f886(0x3b1)](_0x15f886(0x8da)),selectedGlobalQuizId=null;}),document[_0x575c6f(0x9bf)](_0x575c6f(0x1cf))[_0x575c6f(0x8c1)]('input',_0x5cff86=>renderGlobalQuizList(_0x5cff86[_0x575c6f(0x964)][_0x575c6f(0xb00)])),document[_0x575c6f(0x9bf)](_0x575c6f(0x938))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x35a97b=_0x575c6f,_0x44e1e4=selectedGlobalQuizId;if(!_0x44e1e4)return;document['getElementById'](_0x35a97b(0xa0c))['classList']['add']('hidden'),handleStartLiveRace(_0x44e1e4);}),document[_0x575c6f(0x9bf)](_0x575c6f(0x567))[_0x575c6f(0x8c1)]('input',renderProjects),document[_0x575c6f(0x9bf)](_0x575c6f(0xa6c))['addEventListener'](_0x575c6f(0x3ef),async()=>{const _0x41deca=_0x575c6f,_0x45e1a9=document[_0x41deca(0x9bf)]('project-sort-select')['value'],_0x4c5421=doc(db,_0x41deca(0xb35),'dashboardConfig');try{await setDoc(_0x4c5421,{'projectSort':_0x45e1a9},{'merge':!![]});}catch(_0x246456){console[_0x41deca(0x56e)]('Error\x20updating\x20sort\x20preference:',_0x246456),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x575c6f(0x9bf)](_0x575c6f(0xc21))[_0x575c6f(0x8c1)](_0x575c6f(0x82b),renderQuizzes),document[_0x575c6f(0x9bf)](_0x575c6f(0x27d))['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x194e4f=_0x575c6f;globalDashboardSettings[_0x194e4f(0x679)]=_0x194e4f(0xce1),saveUserPreference('projectView',_0x194e4f(0xce1)),renderProjects();}),document[_0x575c6f(0x9bf)](_0x575c6f(0xaa0))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x56b833=_0x575c6f;globalDashboardSettings[_0x56b833(0x679)]='list',saveUserPreference(_0x56b833(0x679),'list'),renderProjects();}),manageTab[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>switchProjectTab(_0x575c6f(0x2a2))),resultsTab['addEventListener'](_0x575c6f(0x7c2),()=>switchProjectTab(_0x575c6f(0x82f))),leaderboardTab['addEventListener'](_0x575c6f(0x7c2),()=>switchProjectTab('leaderboard')),document[_0x575c6f(0x9bf)](_0x575c6f(0x9c0))['addEventListener'](_0x575c6f(0x7c2),()=>switchQuizDetailTab('analytics')),document[_0x575c6f(0x9bf)](_0x575c6f(0x8d6))[_0x575c6f(0x8c1)]('click',()=>switchQuizDetailTab('scores')),document[_0x575c6f(0x9bf)](_0x575c6f(0x4a7))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x575c6f(0x9bf)]('behavior-log-tab-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>switchQuizDetailTab('behavior-log')),document[_0x575c6f(0x9bf)]('analyze-strengths-btn')['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn[_0x575c6f(0x8c1)]('click',generateWorksheet);const _0x1a20a7=document[_0x575c6f(0x9bf)](_0x575c6f(0x990)),_0x4b83bc=document[_0x575c6f(0x9bf)](_0x575c6f(0x6fc)),_0x487d58=document['getElementById'](_0x575c6f(0x7af)),_0x132991=document[_0x575c6f(0x9bf)](_0x575c6f(0x66e)),_0x48f89c=document['getElementById']('parallel-test-tab'),_0x384547=document[_0x575c6f(0x9bf)](_0x575c6f(0x9b6));topicTab['addEventListener']('click',()=>{const _0x3597bd=_0x575c6f;topicTab[_0x3597bd(0x5a7)][_0x3597bd(0x3b1)](_0x3597bd(0x53f)),textTab['classList'][_0x3597bd(0x2bd)](_0x3597bd(0x53f)),fileTab[_0x3597bd(0x5a7)][_0x3597bd(0x2bd)](_0x3597bd(0x53f)),worksheetTab[_0x3597bd(0x5a7)][_0x3597bd(0x2bd)](_0x3597bd(0x53f));if(_0x1a20a7)_0x1a20a7[_0x3597bd(0x5a7)]['remove'](_0x3597bd(0x53f));if(_0x487d58)_0x487d58[_0x3597bd(0x5a7)][_0x3597bd(0x2bd)]('active');if(_0x48f89c)_0x48f89c[_0x3597bd(0x5a7)]['remove'](_0x3597bd(0x53f));topicInputArea['classList'][_0x3597bd(0x2bd)](_0x3597bd(0x8da)),textInputArea[_0x3597bd(0x5a7)][_0x3597bd(0x3b1)]('hidden'),fileInputArea[_0x3597bd(0x5a7)][_0x3597bd(0x3b1)](_0x3597bd(0x8da)),worksheetInputArea[_0x3597bd(0x5a7)][_0x3597bd(0x3b1)](_0x3597bd(0x8da));if(_0x4b83bc)_0x4b83bc[_0x3597bd(0x5a7)][_0x3597bd(0x3b1)](_0x3597bd(0x8da));if(_0x132991)_0x132991[_0x3597bd(0x5a7)][_0x3597bd(0x3b1)](_0x3597bd(0x8da));if(_0x384547)_0x384547[_0x3597bd(0x5a7)][_0x3597bd(0x3b1)](_0x3597bd(0x8da));}),textTab[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x22a9f0=_0x575c6f;textTab[_0x22a9f0(0x5a7)][_0x22a9f0(0x3b1)](_0x22a9f0(0x53f)),topicTab[_0x22a9f0(0x5a7)][_0x22a9f0(0x2bd)](_0x22a9f0(0x53f)),fileTab[_0x22a9f0(0x5a7)][_0x22a9f0(0x2bd)](_0x22a9f0(0x53f)),worksheetTab[_0x22a9f0(0x5a7)][_0x22a9f0(0x2bd)]('active');if(_0x1a20a7)_0x1a20a7['classList'][_0x22a9f0(0x2bd)](_0x22a9f0(0x53f));if(_0x487d58)_0x487d58['classList'][_0x22a9f0(0x2bd)](_0x22a9f0(0x53f));if(_0x48f89c)_0x48f89c['classList'][_0x22a9f0(0x2bd)](_0x22a9f0(0x53f));textInputArea[_0x22a9f0(0x5a7)][_0x22a9f0(0x2bd)](_0x22a9f0(0x8da)),topicInputArea[_0x22a9f0(0x5a7)][_0x22a9f0(0x3b1)]('hidden'),fileInputArea['classList']['add']('hidden'),worksheetInputArea[_0x22a9f0(0x5a7)]['add'](_0x22a9f0(0x8da));if(_0x4b83bc)_0x4b83bc['classList'][_0x22a9f0(0x3b1)](_0x22a9f0(0x8da));if(_0x132991)_0x132991[_0x22a9f0(0x5a7)][_0x22a9f0(0x3b1)](_0x22a9f0(0x8da));if(_0x384547)_0x384547[_0x22a9f0(0x5a7)][_0x22a9f0(0x3b1)]('hidden');}),fileTab[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x2908b4=_0x575c6f;fileTab[_0x2908b4(0x5a7)][_0x2908b4(0x3b1)](_0x2908b4(0x53f)),topicTab['classList'][_0x2908b4(0x2bd)](_0x2908b4(0x53f)),textTab['classList'][_0x2908b4(0x2bd)](_0x2908b4(0x53f)),worksheetTab[_0x2908b4(0x5a7)][_0x2908b4(0x2bd)]('active');if(_0x1a20a7)_0x1a20a7['classList'][_0x2908b4(0x2bd)]('active');if(_0x487d58)_0x487d58[_0x2908b4(0x5a7)][_0x2908b4(0x2bd)](_0x2908b4(0x53f));if(_0x48f89c)_0x48f89c[_0x2908b4(0x5a7)][_0x2908b4(0x2bd)](_0x2908b4(0x53f));fileInputArea[_0x2908b4(0x5a7)][_0x2908b4(0x2bd)](_0x2908b4(0x8da)),topicInputArea['classList']['add'](_0x2908b4(0x8da)),textInputArea[_0x2908b4(0x5a7)]['add']('hidden'),worksheetInputArea['classList'][_0x2908b4(0x3b1)](_0x2908b4(0x8da));if(_0x4b83bc)_0x4b83bc['classList'][_0x2908b4(0x3b1)](_0x2908b4(0x8da));if(_0x132991)_0x132991['classList'][_0x2908b4(0x3b1)](_0x2908b4(0x8da));if(_0x384547)_0x384547[_0x2908b4(0x5a7)][_0x2908b4(0x3b1)]('hidden');}),worksheetTab[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x49c9e0=_0x575c6f;worksheetTab[_0x49c9e0(0x5a7)][_0x49c9e0(0x3b1)](_0x49c9e0(0x53f)),topicTab[_0x49c9e0(0x5a7)][_0x49c9e0(0x2bd)](_0x49c9e0(0x53f)),textTab['classList'][_0x49c9e0(0x2bd)]('active'),fileTab[_0x49c9e0(0x5a7)]['remove'](_0x49c9e0(0x53f));if(_0x1a20a7)_0x1a20a7['classList'][_0x49c9e0(0x2bd)](_0x49c9e0(0x53f));if(_0x487d58)_0x487d58['classList'][_0x49c9e0(0x2bd)](_0x49c9e0(0x53f));if(_0x48f89c)_0x48f89c['classList'][_0x49c9e0(0x2bd)](_0x49c9e0(0x53f));worksheetInputArea[_0x49c9e0(0x5a7)][_0x49c9e0(0x2bd)](_0x49c9e0(0x8da)),topicInputArea[_0x49c9e0(0x5a7)][_0x49c9e0(0x3b1)]('hidden'),textInputArea[_0x49c9e0(0x5a7)]['add']('hidden'),fileInputArea[_0x49c9e0(0x5a7)][_0x49c9e0(0x3b1)]('hidden');if(_0x4b83bc)_0x4b83bc[_0x49c9e0(0x5a7)]['add']('hidden');if(_0x132991)_0x132991[_0x49c9e0(0x5a7)]['add'](_0x49c9e0(0x8da));if(_0x384547)_0x384547[_0x49c9e0(0x5a7)][_0x49c9e0(0x3b1)](_0x49c9e0(0x8da));});const _0x5a13a6=document['getElementById'](_0x575c6f(0xae4)),_0x49d182=document[_0x575c6f(0x9bf)](_0x575c6f(0x425));_0x5a13a6&&_0x5a13a6[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x5041fd=_0x575c6f;topicTab[_0x5041fd(0x5a7)][_0x5041fd(0x2bd)](_0x5041fd(0x53f)),textTab[_0x5041fd(0x5a7)][_0x5041fd(0x2bd)](_0x5041fd(0x53f)),fileTab[_0x5041fd(0x5a7)][_0x5041fd(0x2bd)](_0x5041fd(0x53f)),worksheetTab[_0x5041fd(0x5a7)][_0x5041fd(0x2bd)]('active');if(_0x1a20a7)_0x1a20a7[_0x5041fd(0x5a7)][_0x5041fd(0x2bd)]('active');if(_0x487d58)_0x487d58[_0x5041fd(0x5a7)][_0x5041fd(0x2bd)](_0x5041fd(0x53f));if(_0x48f89c)_0x48f89c[_0x5041fd(0x5a7)][_0x5041fd(0x2bd)](_0x5041fd(0x53f));_0x5a13a6[_0x5041fd(0x5a7)][_0x5041fd(0x3b1)](_0x5041fd(0x53f)),topicInputArea[_0x5041fd(0x5a7)][_0x5041fd(0x3b1)](_0x5041fd(0x8da)),textInputArea[_0x5041fd(0x5a7)][_0x5041fd(0x3b1)](_0x5041fd(0x8da)),fileInputArea[_0x5041fd(0x5a7)]['add'](_0x5041fd(0x8da)),worksheetInputArea[_0x5041fd(0x5a7)][_0x5041fd(0x3b1)](_0x5041fd(0x8da));if(_0x4b83bc)_0x4b83bc[_0x5041fd(0x5a7)]['add'](_0x5041fd(0x8da));if(_0x132991)_0x132991[_0x5041fd(0x5a7)][_0x5041fd(0x3b1)](_0x5041fd(0x8da));if(_0x384547)_0x384547[_0x5041fd(0x5a7)][_0x5041fd(0x3b1)](_0x5041fd(0x8da));_0x49d182[_0x5041fd(0x5a7)][_0x5041fd(0x2bd)](_0x5041fd(0x8da)),displayQuestionBank();});_0x1a20a7&&(_0x1a20a7[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x3ee536=_0x575c6f;_0x1a20a7[_0x3ee536(0x5a7)][_0x3ee536(0x3b1)](_0x3ee536(0x53f)),topicTab['classList'][_0x3ee536(0x2bd)]('active'),textTab[_0x3ee536(0x5a7)][_0x3ee536(0x2bd)](_0x3ee536(0x53f)),fileTab[_0x3ee536(0x5a7)][_0x3ee536(0x2bd)](_0x3ee536(0x53f)),worksheetTab[_0x3ee536(0x5a7)]['remove']('active');if(_0x487d58)_0x487d58[_0x3ee536(0x5a7)][_0x3ee536(0x2bd)](_0x3ee536(0x53f));if(_0x48f89c)_0x48f89c[_0x3ee536(0x5a7)][_0x3ee536(0x2bd)](_0x3ee536(0x53f));_0x4b83bc[_0x3ee536(0x5a7)]['remove']('hidden'),topicInputArea[_0x3ee536(0x5a7)][_0x3ee536(0x3b1)](_0x3ee536(0x8da)),textInputArea[_0x3ee536(0x5a7)][_0x3ee536(0x3b1)](_0x3ee536(0x8da)),fileInputArea[_0x3ee536(0x5a7)][_0x3ee536(0x3b1)](_0x3ee536(0x8da)),worksheetInputArea[_0x3ee536(0x5a7)]['add'](_0x3ee536(0x8da));if(_0x132991)_0x132991[_0x3ee536(0x5a7)][_0x3ee536(0x3b1)](_0x3ee536(0x8da));if(_0x384547)_0x384547[_0x3ee536(0x5a7)]['add']('hidden');}),document[_0x575c6f(0x9bf)]('generate-from-link-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleGenerateFromLink));_0x487d58&&_0x487d58[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x4f0703=_0x575c6f;_0x487d58['classList'][_0x4f0703(0x3b1)](_0x4f0703(0x53f)),topicTab[_0x4f0703(0x5a7)][_0x4f0703(0x2bd)](_0x4f0703(0x53f)),textTab['classList']['remove'](_0x4f0703(0x53f)),fileTab['classList'][_0x4f0703(0x2bd)](_0x4f0703(0x53f)),worksheetTab[_0x4f0703(0x5a7)][_0x4f0703(0x2bd)](_0x4f0703(0x53f));if(_0x1a20a7)_0x1a20a7[_0x4f0703(0x5a7)][_0x4f0703(0x2bd)]('active');if(_0x5a13a6)_0x5a13a6[_0x4f0703(0x5a7)][_0x4f0703(0x2bd)](_0x4f0703(0x53f));if(_0x48f89c)_0x48f89c[_0x4f0703(0x5a7)][_0x4f0703(0x2bd)](_0x4f0703(0x53f));_0x132991[_0x4f0703(0x5a7)][_0x4f0703(0x2bd)](_0x4f0703(0x8da)),topicInputArea[_0x4f0703(0x5a7)][_0x4f0703(0x3b1)](_0x4f0703(0x8da)),textInputArea[_0x4f0703(0x5a7)]['add']('hidden'),fileInputArea['classList'][_0x4f0703(0x3b1)](_0x4f0703(0x8da)),worksheetInputArea[_0x4f0703(0x5a7)][_0x4f0703(0x3b1)](_0x4f0703(0x8da));if(_0x4b83bc)_0x4b83bc[_0x4f0703(0x5a7)][_0x4f0703(0x3b1)](_0x4f0703(0x8da));if(_0x49d182)_0x49d182[_0x4f0703(0x5a7)][_0x4f0703(0x3b1)](_0x4f0703(0x8da));if(_0x384547)_0x384547[_0x4f0703(0x5a7)][_0x4f0703(0x3b1)](_0x4f0703(0x8da));});_0x48f89c&&_0x48f89c[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0xff77af=_0x575c6f;_0x48f89c[_0xff77af(0x5a7)][_0xff77af(0x3b1)](_0xff77af(0x53f)),topicTab[_0xff77af(0x5a7)][_0xff77af(0x2bd)](_0xff77af(0x53f)),textTab[_0xff77af(0x5a7)]['remove'](_0xff77af(0x53f)),fileTab['classList'][_0xff77af(0x2bd)]('active'),worksheetTab[_0xff77af(0x5a7)][_0xff77af(0x2bd)](_0xff77af(0x53f));if(_0x1a20a7)_0x1a20a7[_0xff77af(0x5a7)]['remove']('active');if(_0x487d58)_0x487d58[_0xff77af(0x5a7)]['remove'](_0xff77af(0x53f));if(_0x5a13a6)_0x5a13a6[_0xff77af(0x5a7)][_0xff77af(0x2bd)]('active');_0x384547[_0xff77af(0x5a7)][_0xff77af(0x2bd)](_0xff77af(0x8da)),topicInputArea[_0xff77af(0x5a7)][_0xff77af(0x3b1)](_0xff77af(0x8da)),textInputArea['classList'][_0xff77af(0x3b1)](_0xff77af(0x8da)),fileInputArea[_0xff77af(0x5a7)][_0xff77af(0x3b1)]('hidden'),worksheetInputArea[_0xff77af(0x5a7)]['add'](_0xff77af(0x8da));if(_0x4b83bc)_0x4b83bc[_0xff77af(0x5a7)][_0xff77af(0x3b1)](_0xff77af(0x8da));if(_0x132991)_0x132991[_0xff77af(0x5a7)][_0xff77af(0x3b1)]('hidden');if(_0x49d182)_0x49d182[_0xff77af(0x5a7)][_0xff77af(0x3b1)]('hidden');});const _0x316be5=document[_0x575c6f(0x9bf)]('blueprint-upload-input'),_0x8b096c=document[_0x575c6f(0x9bf)](_0x575c6f(0x344));if(_0x316be5){const _0x223900=document[_0x575c6f(0x9bf)](_0x575c6f(0x321)),_0x4581f9=document[_0x575c6f(0x9bf)](_0x575c6f(0x344)),_0x59ee10=document[_0x575c6f(0x9bf)]('blueprint-options-container'),_0x3e9c71=document['getElementById'](_0x575c6f(0x1a3)),_0x5ae37c=document[_0x575c6f(0x9bf)](_0x575c6f(0x7d1)),_0x23a879=document[_0x575c6f(0x9bf)](_0x575c6f(0xa4c));_0x223900&&_0x223900['addEventListener'](_0x575c6f(0x3ef),async _0x331111=>{const _0x56c38b=_0x575c6f;_0x59ee10[_0x56c38b(0x5a7)][_0x56c38b(0x3b1)](_0x56c38b(0x8da)),_0x5ae37c['classList'][_0x56c38b(0x3b1)](_0x56c38b(0x8da)),_0x3e9c71[_0x56c38b(0xc13)]=![],_0x4581f9[_0x56c38b(0x6d3)]=!![];const _0x397662=_0x331111['target']['files'][0x0];if(_0x397662){_0x4581f9[_0x56c38b(0x6d3)]=![];try{const _0x3f7043=await extractTextFromPdf(_0x397662);await analyzeBlueprintForTopics(_0x3f7043);}catch(_0x16a037){showMessage(_0x56c38b(0x843)),_0x59ee10['classList'][_0x56c38b(0x3b1)]('hidden');}}}),_0x3e9c71&&_0x3e9c71[_0x575c6f(0x8c1)]('change',_0x35b8e4=>{const _0xfde1f=_0x575c6f,_0x37c7eb=_0x35b8e4[_0xfde1f(0x964)][_0xfde1f(0xc13)];_0x5ae37c[_0xfde1f(0x5a7)][_0xfde1f(0x372)](_0xfde1f(0x8da),!_0x37c7eb),_0x4581f9[_0xfde1f(0x6d3)]=_0x37c7eb;}),_0x23a879&&(_0x23a879&&_0x23a879[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x13bcb=>{const _0xf90f84=_0x575c6f,_0x469fdd=_0x13bcb[_0xf90f84(0x964)][_0xf90f84(0xa13)](_0xf90f84(0xac9)),_0x4109b7=_0x13bcb[_0xf90f84(0x964)][_0xf90f84(0xa13)](_0xf90f84(0x413));if(_0x469fdd){const _0xdff9f8=unescape(_0x469fdd[_0xf90f84(0xc05)][_0xf90f84(0x6f8)]);generateQuizForSingleTopic(_0xdff9f8);}else{if(_0x4109b7){const _0xa2eb7c=unescape(_0x4109b7['dataset'][_0xf90f84(0x6f8)]);handleGenerateTeachingContent(_0xa2eb7c);}}}));}_0x8b096c&&_0x8b096c['addEventListener']('click',handleGenerateFromBlueprint);const _0x128519=document[_0x575c6f(0x9bf)]('parallel-test-upload-input'),_0x195af1=document[_0x575c6f(0x9bf)](_0x575c6f(0x4cb));_0x128519&&_0x128519[_0x575c6f(0x8c1)](_0x575c6f(0x3ef),_0x2341e2=>{const _0x263dda=_0x575c6f;_0x195af1[_0x263dda(0x6d3)]=_0x2341e2[_0x263dda(0x964)][_0x263dda(0x222)][_0x263dda(0x9dc)]===0x0;});_0x195af1&&_0x195af1[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener'](_0x575c6f(0x7c2),handleLoadQuiz),startQuizBtn[_0x575c6f(0x8c1)]('click',async()=>{const _0x429baa=_0x575c6f,_0x2477d2=document['getElementById'](_0x429baa(0x423));currentStudentName=_0x2477d2[_0x429baa(0xb00)];if(!currentStudentName){showMessage(_0x429baa(0xa9c));return;}try{const _0x2e667c=currentQuizData['id'],_0x37db8d=doc(db,_0x429baa(0x30c)+appId+_0x429baa(0xb14)+_0x2e667c+_0x429baa(0x472),currentStudentName),_0x4f65a4=await getDoc(_0x37db8d);!_0x4f65a4['exists']()?await setDoc(_0x37db8d,{'studentName':currentStudentName,'startedAt':new Date()[_0x429baa(0x7c9)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x37db8d,{'startedAt':new Date()['toISOString']()});}catch(_0x373d9d){console[_0x429baa(0x56e)](_0x429baa(0x702),_0x373d9d),showMessage(_0x429baa(0x6d1));return;}studentNameSelectionView[_0x429baa(0x5a7)][_0x429baa(0x3b1)](_0x429baa(0x8da)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x575c6f(0x9bf)]('join-live-game-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),showJoinGameView),document[_0x575c6f(0x9bf)](_0x575c6f(0x76b))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleJoinLiveGame),document[_0x575c6f(0x9bf)](_0x575c6f(0x498))['addEventListener']('click',()=>showView('student'));const _0x37cae8=()=>{const _0x45903d=_0x575c6f,_0x2fbbde=document[_0x45903d(0x9bf)](_0x45903d(0xb7c))[_0x45903d(0xa9a)][_0x45903d(0xad8)](/[^a-z0-9]/gi,'_')[_0x45903d(0xbb3)]();return'results_'+(_0x2fbbde||_0x45903d(0x6e5));},_0x3b0a19=document['getElementById']('math-topic-search-input');_0x3b0a19&&_0x3b0a19[_0x575c6f(0x8c1)](_0x575c6f(0x82b),_0x2b98fd=>{const _0x1d45b4=_0x575c6f,_0xabfa38=_0x2b98fd[_0x1d45b4(0x964)][_0x1d45b4(0xb00)]['toLowerCase']()[_0x1d45b4(0xb22)](),_0x1b7cc5=document['getElementById'](_0x1d45b4(0x39c)),_0x53abce=_0x1b7cc5[_0x1d45b4(0x468)](_0x1d45b4(0x1cc));_0x53abce[_0x1d45b4(0xb2a)](_0x3ca20b=>{const _0x50c00e=_0x1d45b4;let _0x5bb736=![];const _0x50972c=_0x3ca20b[_0x50c00e(0x468)](_0x50c00e(0x200));_0x50972c[_0x50c00e(0xb2a)](_0xa456e3=>{const _0x520140=_0x50c00e,_0x5b705a=_0xa456e3[_0x520140(0x583)](_0x520140(0x920))['textContent'][_0x520140(0xbb3)]();_0x5b705a[_0x520140(0x3b4)](_0xabfa38)?(_0xa456e3[_0x520140(0x641)][_0x520140(0x585)]=_0x520140(0x8d5),_0x5bb736=!![]):_0xa456e3[_0x520140(0x641)][_0x520140(0x585)]='none';}),_0x5bb736?_0x3ca20b[_0x50c00e(0x641)][_0x50c00e(0x585)]=_0x50c00e(0x444):_0x3ca20b[_0x50c00e(0x641)][_0x50c00e(0x585)]=_0x50c00e(0x44e);});});document['getElementById'](_0x575c6f(0x506))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>exportTableAsImage('results-table-container',_0x37cae8())),document[_0x575c6f(0x9bf)](_0x575c6f(0x352))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>exportTableAsPDF(_0x575c6f(0x1dc),_0x37cae8())),document[_0x575c6f(0x9bf)](_0x575c6f(0x239))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>exportTableAsWord('results-table-container',_0x37cae8())),document[_0x575c6f(0x9bf)](_0x575c6f(0x815))['addEventListener']('click',()=>exportTableAsExcel('results-table',_0x37cae8()));const _0x43f6d2=()=>{const _0x446287=_0x575c6f,_0x4b2373=document[_0x446287(0x9bf)]('results-quiz-title')[_0x446287(0xa9a)][_0x446287(0xad8)](/[^a-z0-9]/gi,'_')[_0x446287(0xbb3)]();return'leaderboard_'+(_0x4b2373||'quiz');};document['getElementById'](_0x575c6f(0xc8f))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>exportTableAsImage(_0x575c6f(0x645),_0x43f6d2())),document[_0x575c6f(0x9bf)](_0x575c6f(0x6e1))['addEventListener'](_0x575c6f(0x7c2),()=>exportTableAsPDF('quiz-leaderboard-table',_0x43f6d2())),document[_0x575c6f(0x9bf)](_0x575c6f(0x9ff))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>exportTableAsWord(_0x575c6f(0x645),_0x43f6d2())),document[_0x575c6f(0x9bf)](_0x575c6f(0x385))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>exportTableAsExcel('quiz-leaderboard-table',_0x43f6d2())),projectQuizzesList[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),async _0xb423d8=>{const _0x31eeff=_0x575c6f,_0x2b5b90=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)]('.quiz-result-card'),_0x266fe3=_0xb423d8['target'][_0x31eeff(0xa13)](_0x31eeff(0x99e)),_0xcc0a6e=_0xb423d8['target']['closest']('.compare-results-btn'),_0xd29202=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0x455)),_0x229a9b=_0xb423d8['target'][_0x31eeff(0xa13)](_0x31eeff(0x3ba)),_0x4ccab3=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0x69d)),_0x3c4218=_0xb423d8[_0x31eeff(0x964)]['closest'](_0x31eeff(0x459)),_0x8e2e9c=_0xb423d8[_0x31eeff(0x964)]['closest'](_0x31eeff(0x503)),_0x19dd17=_0xb423d8[_0x31eeff(0x964)]['closest'](_0x31eeff(0x937)),_0xf36fe0=_0xb423d8['target'][_0x31eeff(0xa13)](_0x31eeff(0x4f7)),_0x4667d2=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0x410)),_0x2411ca=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)]('.move-quiz-btn'),_0x5af8be=_0xb423d8[_0x31eeff(0x964)]['closest']('.pair-quiz-btn'),_0x8c6fef=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0x883)),_0x56b7e4=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0x409)),_0x24a134=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0x47f)),_0x6b62a5=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0x37b)),_0xc488b5=_0xb423d8[_0x31eeff(0x964)]['closest'](_0x31eeff(0x6ed)),_0x336dc4=_0xb423d8['target']['closest'](_0x31eeff(0xb1e)),_0x3475f6=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0x83c)),_0x40b6cb=_0xb423d8['target'][_0x31eeff(0xa13)](_0x31eeff(0x61d)),_0x1a6348=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)](_0x31eeff(0xbca)),_0x277b25=_0xb423d8[_0x31eeff(0x964)][_0x31eeff(0xa13)]('.start-live-race-btn');if(_0x1a6348){const _0xb8d087=_0x1a6348['dataset']['quizId'],_0x21985e=_0x1a6348[_0x31eeff(0xc05)][_0x31eeff(0x1ae)],_0xba608c=allQuizzes[_0x31eeff(0x9c1)](_0x19ab03=>_0x19ab03['id']===_0xb8d087);_0xba608c&&showGameStartConfirmationModal(_0xb8d087,_0x21985e,_0xba608c[_0x31eeff(0x6f8)]);}else{if(_0x277b25){const _0xc69dda=_0x277b25['dataset'][_0x31eeff(0x2cf)];handleStartLiveRace(_0xc69dda);}else{if(_0x3475f6){const _0x18b041=_0x3475f6[_0x31eeff(0xc05)][_0x31eeff(0x2cf)],_0x537e11=document[_0x31eeff(0x9bf)](_0x31eeff(0x26c)+_0x18b041);_0x537e11&&_0x537e11[_0x31eeff(0x5a7)][_0x31eeff(0x372)](_0x31eeff(0x8da));}else{if(_0x266fe3){const _0x395c9a=_0x266fe3[_0x31eeff(0xc05)]['quizId'],_0x54a260=allQuizzes[_0x31eeff(0x9c1)](_0x39a377=>_0x39a377['id']===_0x395c9a);_0x54a260&&handleGenerateParallelPostTest(_0x54a260);}else{if(_0xcc0a6e)handleCompareResults(_0xcc0a6e[_0x31eeff(0xc05)][_0x31eeff(0x2cf)],_0xcc0a6e[_0x31eeff(0xc05)]['preTestId']);else{if(_0xd29202){const _0x59d1ac=_0xd29202['dataset'][_0x31eeff(0x2cf)],_0xe03a8b=allQuizzes['find'](_0x4a728a=>_0x4a728a['id']===_0x59d1ac);_0xe03a8b&&_0xe03a8b[_0x31eeff(0x84c)]?(displayLessonPlan(_0xe03a8b[_0x31eeff(0x84c)],_0xe03a8b),showConfirmation(_0x31eeff(0x969),()=>handleGenerateLessonPlan(_0x59d1ac)),document[_0x31eeff(0x9bf)]('confirmation-modal')[_0x31eeff(0x583)]('h3')['textContent']='แผนการสอน',document[_0x31eeff(0x9bf)]('confirm-delete-btn')['textContent']='สร้างใหม่'):handleGenerateLessonPlan(_0x59d1ac);}else{if(_0x229a9b)handleToggleStarQuiz(_0x229a9b[_0x31eeff(0xc05)][_0x31eeff(0x2cf)]);else{if(_0x4ccab3)copyTextToClipboard(_0x4ccab3[_0x31eeff(0xc05)]['quizId'],_0x31eeff(0x1d3));else{if(_0x3c4218)handleOpenQuizEditor(_0x3c4218['dataset'][_0x31eeff(0x2cf)]);else{if(_0x8e2e9c)handleQuizSettings(_0x8e2e9c[_0x31eeff(0xc05)][_0x31eeff(0x2cf)]);else{if(_0x19dd17)handleDuplicateQuiz(_0x19dd17['dataset'][_0x31eeff(0x2cf)]);else{if(_0xf36fe0)handleRenameQuiz(_0xf36fe0[_0x31eeff(0xc05)][_0x31eeff(0x2cf)],_0xf36fe0[_0x31eeff(0xc05)][_0x31eeff(0x6f8)]);else{if(_0x4667d2){const _0x551396=_0x4667d2['dataset'][_0x31eeff(0x2cf)],_0x21cdbf=allQuizzes['find'](_0xea7fe9=>_0xea7fe9['id']===_0x551396);_0x21cdbf&&handleGenerateParallelFromBank(_0x21cdbf);}else{if(_0x2411ca)handleMoveQuiz(_0x2411ca['dataset'][_0x31eeff(0x2cf)]);else{if(_0x5af8be)handleManualQuizPairing(_0x5af8be[_0x31eeff(0xc05)][_0x31eeff(0x2cf)]);else{if(_0x8c6fef)handleUnpairQuiz(_0x8c6fef[_0x31eeff(0xc05)][_0x31eeff(0x2cf)]);else{if(_0x56b7e4){const _0x13c109=_0x56b7e4[_0x31eeff(0xc05)][_0x31eeff(0x2cf)],_0x32b2cb=allQuizzes['find'](_0x3d24e8=>_0x3d24e8['id']===_0x13c109);if(_0x32b2cb)startPresentation(_0x32b2cb);}else{if(_0x24a134){const _0x21315c=_0x24a134[_0x31eeff(0xc05)][_0x31eeff(0x2cf)],_0x57cd14=allQuizzes[_0x31eeff(0x9c1)](_0xc89c89=>_0xc89c89['id']===_0x21315c);_0x57cd14&&(currentQuizData=_0x57cd14,startAdminTest());}else{if(_0x6b62a5)actionTargetId=_0x6b62a5['dataset'][_0x31eeff(0x2cf)],document[_0x31eeff(0x9bf)](_0x31eeff(0x758))['classList'][_0x31eeff(0x2bd)](_0x31eeff(0x8da));else{if(_0xc488b5)showConfirmation(_0x31eeff(0x431)+_0xc488b5['dataset']['topic']+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0xc488b5['dataset'][_0x31eeff(0x2cf)]));else{if(_0x336dc4)handleQuizStatus(_0x336dc4[_0x31eeff(0xc05)][_0x31eeff(0x2cf)]);else{if(_0x40b6cb)handleGenerateEasyVersionQuiz(_0x40b6cb[_0x31eeff(0xc05)][_0x31eeff(0x2cf)]);else _0x2b5b90&&showQuizDetailView(_0x2b5b90[_0x31eeff(0xc05)][_0x31eeff(0x2cf)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x575c6f(0x9bf)](_0x575c6f(0xba6))[_0x575c6f(0x8c1)]('click',()=>showView(_0x575c6f(0x655))),document['getElementById']('confirm-team-players-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),confirmAndStartTeamQuiz),document[_0x575c6f(0x9bf)]('quiz-leaderboard-table')[_0x575c6f(0x583)](_0x575c6f(0x933))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x46ae30=>{const _0x5eb2d6=_0x575c6f,_0x4ba5cc=_0x46ae30['target']['closest'](_0x5eb2d6(0x240));if(!_0x4ba5cc||!_0x4ba5cc[_0x5eb2d6(0xc05)][_0x5eb2d6(0x79f)])return;const _0x1249d5=_0x4ba5cc[_0x5eb2d6(0xc05)][_0x5eb2d6(0x79f)];if(quizLeaderboardSortBy===_0x1249d5)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5eb2d6(0x8ef)?_0x5eb2d6(0x9d0):_0x5eb2d6(0x8ef);else{quizLeaderboardSortBy=_0x1249d5;const _0x30f0ee=[_0x5eb2d6(0x7ed)];quizLeaderboardSortOrder=_0x30f0ee['includes'](_0x1249d5)?'asc':_0x5eb2d6(0x9d0);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById']('close-presentation-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),closePresentation),document['getElementById']('prev-question-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x575c6f(0x9bf)]('next-question-btn')[_0x575c6f(0x8c1)]('click',()=>{const _0x1b8c05=_0x575c6f;currentQuizData[_0x1b8c05(0xcaf)]&&currentPresentationSlide<currentQuizData[_0x1b8c05(0xcaf)][_0x1b8c05(0x9dc)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x575c6f(0x8c1)](_0x575c6f(0x729),()=>{const _0x377451=_0x575c6f;!document[_0x377451(0x7ca)]&&(presentationModal['style'][_0x377451(0x585)]='none');}),document[_0x575c6f(0x9bf)](_0x575c6f(0x71e))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleDeleteAllStudents),studentList['addEventListener'](_0x575c6f(0x7c2),_0x2d97f3=>{const _0x2867c7=_0x575c6f,_0x3d1a4f=_0x2d97f3['target']['closest'](_0x2867c7(0x8ae));if(_0x3d1a4f){const _0x2c69c6=_0x3d1a4f[_0x2867c7(0xc05)][_0x2867c7(0x7ed)];handleDeleteStudent(_0x2c69c6);}}),document[_0x575c6f(0x9bf)](_0x575c6f(0xbeb))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleGenerateFromFileClick),fileUploadInput[_0x575c6f(0x8c1)]('change',_0x424df8=>{const _0x2aa7be=_0x575c6f,_0x3e628a=_0x424df8[_0x2aa7be(0x964)][_0x2aa7be(0x222)][0x0],_0x38100b=document[_0x2aa7be(0x9bf)](_0x2aa7be(0xbeb)),_0x2e98ba=document['getElementById'](_0x2aa7be(0x440)),_0x3b8633=document[_0x2aa7be(0x9bf)](_0x2aa7be(0x7dc));_0x3e628a?(selectedFile=_0x3e628a,_0x3b8633['checked']?(_0x38100b[_0x2aa7be(0x6d3)]=!![],analyzeFileForTopics(_0x3e628a)):(_0x38100b['disabled']=![],_0x2e98ba[_0x2aa7be(0x5a7)][_0x2aa7be(0x3b1)](_0x2aa7be(0x8da)))):(selectedFile=null,_0x38100b[_0x2aa7be(0x6d3)]=!![],_0x2e98ba[_0x2aa7be(0x5a7)]['add']('hidden'));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x7dc))['addEventListener'](_0x575c6f(0x3ef),_0x1c4393=>{const _0x2a69fa=_0x575c6f,_0x2e0322=_0x1c4393[_0x2a69fa(0x964)]['checked'],_0x468ccf=document[_0x2a69fa(0x9bf)](_0x2a69fa(0xbeb)),_0x12cf1a=document[_0x2a69fa(0x9bf)]('file-topics-list-container');_0x2e0322?(_0x468ccf[_0x2a69fa(0x6d3)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x12cf1a[_0x2a69fa(0x5a7)][_0x2a69fa(0x2bd)](_0x2a69fa(0x8da)),document[_0x2a69fa(0x9bf)](_0x2a69fa(0x1e3))[_0x2a69fa(0x6b3)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x12cf1a[_0x2a69fa(0x5a7)][_0x2a69fa(0x3b1)](_0x2a69fa(0x8da)),_0x468ccf[_0x2a69fa(0x6d3)]=!selectedFile);}),document[_0x575c6f(0x9bf)]('file-topics-list-container')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x3052c2=>{const _0x259390=_0x575c6f,_0x2680ca=_0x3052c2['target'][_0x259390(0xa13)](_0x259390(0x4c2)),_0x38df69=_0x3052c2['target'][_0x259390(0xa13)](_0x259390(0x413));if(_0x2680ca){const _0x2ad8cc=unescape(_0x2680ca[_0x259390(0xc05)][_0x259390(0x6f8)]);generateHybridQuizForTopic(_0x2ad8cc);}else{if(_0x38df69){const _0xba250c=unescape(_0x38df69[_0x259390(0xc05)][_0x259390(0x6f8)]),_0x4b0604=document['getElementById']('difficulty-level-select')[_0x259390(0xb00)];handleGenerateAndShowLesson(_0xba250c,_0x4b0604);}}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x40c))['addEventListener'](_0x575c6f(0x3ef),_0x5034ef=>{const _0x2ee936=_0x575c6f,_0x1a4bbd=document['getElementById'](_0x2ee936(0x627)),_0x381696=document[_0x2ee936(0x9bf)](_0x2ee936(0x34f)),_0x2d7542=document[_0x2ee936(0x9bf)](_0x2ee936(0x3e5));_0x5034ef['target'][_0x2ee936(0xb00)]==='none'?_0x1a4bbd[_0x2ee936(0x5a7)][_0x2ee936(0x3b1)]('hidden'):(_0x1a4bbd[_0x2ee936(0x5a7)][_0x2ee936(0x2bd)]('hidden'),_0x5034ef[_0x2ee936(0x964)][_0x2ee936(0xb00)]===_0x2ee936(0x7d8)?(_0x381696['textContent']='ระยะเวลา\x20(นาที):',_0x2d7542[_0x2ee936(0xb00)]='10'):(_0x381696[_0x2ee936(0xa9a)]=_0x2ee936(0x965),_0x2d7542[_0x2ee936(0xb00)]='30'));}),document['getElementById'](_0x575c6f(0x2db))[_0x575c6f(0x8c1)]('change',_0x41ddd7=>{const _0x2ea2e9=_0x575c6f,_0x551365=document[_0x2ea2e9(0x9bf)]('num-choices-container'),_0x4b04c6=_0x41ddd7[_0x2ea2e9(0x964)][_0x2ea2e9(0xb00)],_0x50f116=document[_0x2ea2e9(0x583)]('label[for=\x22num-questions\x22]'),_0x5abbe8=document[_0x2ea2e9(0x9bf)](_0x2ea2e9(0xd05)),_0x367598=document['getElementById']('num-questions');_0x4b04c6==='matching'?_0x50f116[_0x2ea2e9(0xa9a)]=_0x2ea2e9(0x81b):_0x50f116[_0x2ea2e9(0xa9a)]=_0x2ea2e9(0x30d),_0x4b04c6==='multiple_choice'||_0x4b04c6===_0x2ea2e9(0xaa4)||_0x4b04c6===_0x2ea2e9(0xcbe)?_0x551365[_0x2ea2e9(0x5a7)][_0x2ea2e9(0x2bd)]('hidden'):_0x551365[_0x2ea2e9(0x5a7)]['add'](_0x2ea2e9(0x8da)),_0x5abbe8[_0x2ea2e9(0xc68)]=_0x367598[_0x2ea2e9(0xb00)];}),document['getElementById'](_0x575c6f(0xa0f))['addEventListener'](_0x575c6f(0x82b),_0x14b9e2=>{const _0x55f46e=_0x575c6f;document[_0x55f46e(0x9bf)]('passing-score-input')[_0x55f46e(0xc68)]=_0x14b9e2[_0x55f46e(0x964)][_0x55f46e(0xb00)];}),document[_0x575c6f(0x9bf)]('modal-timer-mode-select')[_0x575c6f(0x8c1)](_0x575c6f(0x3ef),_0xde9b83=>{const _0x3e25ea=_0x575c6f,_0x4a617e=document[_0x3e25ea(0x9bf)](_0x3e25ea(0x607)),_0x138726=document[_0x3e25ea(0x9bf)](_0x3e25ea(0xc1c)),_0x3b57cc=document[_0x3e25ea(0x9bf)](_0x3e25ea(0x5db));_0xde9b83[_0x3e25ea(0x964)][_0x3e25ea(0xb00)]===_0x3e25ea(0x44e)?_0x4a617e[_0x3e25ea(0x5a7)][_0x3e25ea(0x3b1)](_0x3e25ea(0x8da)):(_0x4a617e['classList'][_0x3e25ea(0x2bd)](_0x3e25ea(0x8da)),_0xde9b83['target'][_0x3e25ea(0xb00)]==='whole_quiz'?_0x138726['textContent']=_0x3e25ea(0xcf2):_0x138726[_0x3e25ea(0xa9a)]=_0x3e25ea(0x965));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x2b7))['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x20b8f0=_0x575c6f;document[_0x20b8f0(0x9bf)]('quiz-editor-modal')[_0x20b8f0(0x5a7)]['add'](_0x20b8f0(0x8da));}),document[_0x575c6f(0x9bf)](_0x575c6f(0xc3b))['addEventListener']('click',()=>{const _0x5379ad=_0x575c6f;document[_0x5379ad(0x9bf)](_0x5379ad(0x32a))[_0x5379ad(0x5a7)][_0x5379ad(0x3b1)](_0x5379ad(0x8da));}),document[_0x575c6f(0x9bf)]('verify-answers-editor-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),handleVerifyAnswersInEditor),document[_0x575c6f(0x9bf)](_0x575c6f(0x53e))['addEventListener'](_0x575c6f(0x7c2),()=>{const _0x187401=_0x575c6f;document[_0x187401(0x9bf)](_0x187401(0x32a))[_0x187401(0x5a7)][_0x187401(0x3b1)](_0x187401(0x8da)),showConfirmation(_0x187401(0x294),handleSaveChanges);}),document[_0x575c6f(0x9bf)](_0x575c6f(0x5ea))['addEventListener'](_0x575c6f(0x7c2),handleAutoFixLatex);const _0x4bea9f=document[_0x575c6f(0x9bf)](_0x575c6f(0x878));_0x4bea9f&&_0x4bea9f[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x49f8ac=>{const _0x43d78c=_0x575c6f,_0x371f31=_0x49f8ac[_0x43d78c(0x964)][_0x43d78c(0xa13)](_0x43d78c(0x4eb)),_0x16af7a=_0x49f8ac[_0x43d78c(0x964)][_0x43d78c(0xa13)](_0x43d78c(0x442));if(_0x371f31){const _0x3e4df9=_0x371f31[_0x43d78c(0xa13)](_0x43d78c(0x9ad)),_0x2681e0=parseInt(_0x3e4df9[_0x43d78c(0xc05)][_0x43d78c(0xb51)],0xa);handleRegenerateQuestionInEditor(_0x2681e0);}else{if(_0x16af7a){const _0x537cda=_0x16af7a[_0x43d78c(0xa13)]('.question-editor-item'),_0xceff39=parseInt(_0x537cda[_0x43d78c(0xc05)][_0x43d78c(0xb51)],0xa);handleAiFixFormula(_0xceff39);}}});document[_0x575c6f(0x9bf)](_0x575c6f(0x83e))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),openQuizBankModal),document[_0x575c6f(0x9bf)](_0x575c6f(0x8f9))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x3e10aa=_0x575c6f;document[_0x3e10aa(0x9bf)](_0x3e10aa(0x5c1))[_0x3e10aa(0x5a7)][_0x3e10aa(0x3b1)](_0x3e10aa(0x8da));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x4ea))['addEventListener'](_0x575c6f(0x82b),_0x822431=>renderQuizBankList(_0x822431[_0x575c6f(0x964)][_0x575c6f(0xb00)]));const _0x4871b3=document[_0x575c6f(0x9bf)]('math-topics-checkbox-container');if(_0x4871b3){let _0x42a8e7=null;_0x4871b3[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),_0x1c14b6=>{const _0x337040=_0x575c6f,_0x2148c6=_0x1c14b6[_0x337040(0x964)],_0x5308dc=_0x2148c6['closest']('.edit-custom-topic-btn'),_0x32bd2e=_0x2148c6[_0x337040(0xa13)](_0x337040(0x2ec)),_0x5479e3=_0x2148c6[_0x337040(0xa13)](_0x337040(0x90e)),_0x413ad2=_0x2148c6[_0x337040(0xa13)](_0x337040(0x64c));if(_0x32bd2e){_0x1c14b6[_0x337040(0x1a4)]();const _0x2c6487=_0x32bd2e[_0x337040(0xc05)]['id'],_0x6b19ce=_0x32bd2e[_0x337040(0xa13)](_0x337040(0x8cd))[_0x337040(0x583)](_0x337040(0x920))['textContent'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x6b19ce+'\x22?',()=>handleDeleteCustomTopic(_0x2c6487));}else{if(_0x5308dc){_0x1c14b6[_0x337040(0x1a4)]();_0x42a8e7&&toggleTopicEditMode(_0x42a8e7,![]);const _0x2313a8=_0x5308dc['closest']('[data-topic-container-id]');_0x42a8e7=_0x2313a8,toggleTopicEditMode(_0x2313a8,!![]);}else{if(_0x5479e3){_0x1c14b6[_0x337040(0x1a4)]();const _0x1fd42d=_0x5479e3[_0x337040(0xc05)]['id'],_0x7f5394=_0x5479e3[_0x337040(0xa13)]('[data-topic-container-id]'),_0x44d397=_0x7f5394[_0x337040(0x583)](_0x337040(0x836))[_0x337040(0xb00)];handleUpdateCustomTopic(_0x1fd42d,_0x44d397),_0x42a8e7=null;}else{if(_0x413ad2){_0x1c14b6[_0x337040(0x1a4)]();const _0x4f1cea=_0x413ad2['closest'](_0x337040(0x451));toggleTopicEditMode(_0x4f1cea,![]),_0x42a8e7=null;}}}}}),document[_0x575c6f(0x9bf)](_0x575c6f(0x3f7))[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0x2f36fa=_0x575c6f;document['getElementById']('lesson-plan-modal')[_0x2f36fa(0x5a7)][_0x2f36fa(0x3b1)](_0x2f36fa(0x8da));}),document[_0x575c6f(0x9bf)]('close-lesson-plan-modal-footer-btn')[_0x575c6f(0x8c1)](_0x575c6f(0x7c2),()=>{const _0xdfb625=_0x575c6f;document[_0xdfb625(0x9bf)]('lesson-plan-modal')['classList'][_0xdfb625(0x3b1)](_0xdfb625(0x8da));}),document[_0x575c6f(0x9bf)](_0x575c6f(0x268))[_0x575c6f(0x8c1)]('click',handleExportLessonPDF);}document[_0x575c6f(0x9bf)](_0x575c6f(0x6c7))[_0x575c6f(0x8c1)]('click',()=>{const _0x4751fe=_0x575c6f;document['getElementById']('comparison-modal')[_0x4751fe(0x5a7)]['add']('hidden');}),document[_0x575c6f(0x9bf)](_0x575c6f(0x9be))['addEventListener']('click',()=>{const _0x36c3ad=_0x575c6f;document[_0x36c3ad(0x9bf)]('comparison-modal')[_0x36c3ad(0x5a7)][_0x36c3ad(0x3b1)]('hidden');}),setupComparisonModalTabs(),document[_0x575c6f(0x7bf)][_0x575c6f(0x8c1)](_0x575c6f(0x7c2),function(_0x55d18f){const _0x194ccc=_0x575c6f;if(_0x55d18f[_0x194ccc(0x964)][_0x194ccc(0x5a7)][_0x194ccc(0x2be)](_0x194ccc(0x301))){const _0x1d8e58=unescape(_0x55d18f['target'][_0x194ccc(0xc05)]['topic']);startSkillPractice(_0x1d8e58);}}),document[_0x575c6f(0x9bf)](_0x575c6f(0xcc4))['addEventListener']('click',_0x5c07b3=>{const _0x355bae=_0x575c6f,_0x121175=_0x5c07b3[_0x355bae(0x964)][_0x355bae(0xa13)]('.delete-submission-btn');if(_0x121175){const _0x5d73bb=_0x121175['dataset'][_0x355bae(0x7ed)];handleDeleteSubmission(_0x5d73bb);}});}async function handleStartGroupMode(_0x2c16ce,_0x29ea17=![]){const _0x4357af=_0x1d88bf,_0x294697=allQuizzes[_0x4357af(0x9c1)](_0x53d425=>_0x53d425['id']===_0x2c16ce)||allQuizzesGlobal[_0x4357af(0x9c1)](_0x23a781=>_0x23a781['id']===_0x2c16ce);if(!_0x294697){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x294697);const _0x17a030=Math[_0x4357af(0x92f)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x423ccd=await addDoc(collection(db,_0x4357af(0x30c)+appId+'/public/data/teamQuizzes'),{'quizId':_0x294697['id'],'projectId':_0x294697[_0x4357af(0xb16)],'status':_0x4357af(0xc58),'pin':_0x17a030,'mode':_0x4357af(0x1a2),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x29ea17});currentTeamQuizId=_0x423ccd['id'],showView(_0x4357af(0x924)),renderAdminTeamQuizDashboard(_0x17a030,_0x294697[_0x4357af(0x6f8)],_0x4357af(0x1a2)),listenForTeamQuizUpdates();}catch(_0x299741){console[_0x4357af(0x56e)](_0x4357af(0xa91),_0x299741),showMessage(_0x4357af(0x7b6));}}async function showStudentProgressView(){const _0x7f8fe1=_0x1d88bf;studentInitialView[_0x7f8fe1(0x5a7)][_0x7f8fe1(0x3b1)](_0x7f8fe1(0x8da)),document[_0x7f8fe1(0x9bf)]('student-progress-view')['classList'][_0x7f8fe1(0x2bd)](_0x7f8fe1(0x8da));const _0x3b5ffe=document[_0x7f8fe1(0x9bf)](_0x7f8fe1(0x8aa)),_0x48bdc9=document[_0x7f8fe1(0x9bf)]('progress-student-select'),_0x571a72=document[_0x7f8fe1(0x9bf)](_0x7f8fe1(0xce0));_0x571a72['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x48bdc9[_0x7f8fe1(0x6b3)]=_0x7f8fe1(0x288),_0x48bdc9[_0x7f8fe1(0x6d3)]=!![],_0x3b5ffe[_0x7f8fe1(0x6b3)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x7f8fe1(0x9dc)]===0x0){const _0x35b695=collection(db,_0x7f8fe1(0x30c)+appId+_0x7f8fe1(0x433)),_0x12bd71=await getDocs(_0x35b695);allProjects=_0x12bd71['docs']['map'](_0x15b177=>({'id':_0x15b177['id'],..._0x15b177[_0x7f8fe1(0x7bb)]()}));}const _0x285b81=allProjects['filter'](_0xea4b=>_0xea4b[_0x7f8fe1(0x3ad)]?.[_0x7f8fe1(0x2c0)]!==![]);_0x285b81[_0x7f8fe1(0x79f)]((_0x536fb3,_0x1bc8b7)=>_0x536fb3[_0x7f8fe1(0x9e9)][_0x7f8fe1(0xcbd)](_0x1bc8b7[_0x7f8fe1(0x9e9)],'th')),_0x3b5ffe[_0x7f8fe1(0x6b3)]=_0x7f8fe1(0x392)+_0x285b81[_0x7f8fe1(0x2b5)](_0x29176f=>_0x7f8fe1(0x78c)+_0x29176f['id']+'\x22>'+_0x29176f[_0x7f8fe1(0x9e9)]+'</option>')[_0x7f8fe1(0x77f)](''),_0x3b5ffe[_0x7f8fe1(0x7e5)]=()=>{const _0x4f83ca=_0x7f8fe1,_0x40d173=_0x48bdc9['value'],_0x5b18ac=_0x3b5ffe[_0x4f83ca(0xb00)];_0x48bdc9[_0x4f83ca(0x6d3)]=!![],_0x48bdc9[_0x4f83ca(0x6b3)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x571a72[_0x4f83ca(0x6b3)]=_0x4f83ca(0xcf7);if(!_0x5b18ac)return;const _0x4556c5=allProjects[_0x4f83ca(0x9c1)](_0x42d862=>_0x42d862['id']===_0x5b18ac);if(!_0x4556c5||!_0x4556c5[_0x4f83ca(0xa64)])return;const _0x514286=()=>{const _0x35d905=_0x4f83ca;_0x48bdc9[_0x35d905(0x6b3)]=_0x35d905(0x288)+_0x4556c5[_0x35d905(0xa64)]['map'](_0xa9c245=>_0x35d905(0x78c)+_0xa9c245+'\x22>'+_0xa9c245+'</option>')[_0x35d905(0x77f)](''),_0x48bdc9[_0x35d905(0x6d3)]=![];const _0x3573a1=Array[_0x35d905(0x788)](_0x48bdc9[_0x35d905(0x69b)])[_0x35d905(0x2b5)](_0x5db015=>_0x5db015[_0x35d905(0xb00)]);if(_0x40d173&&_0x3573a1[_0x35d905(0x3b4)](_0x40d173))_0x48bdc9[_0x35d905(0xb00)]=_0x40d173,_0x48bdc9[_0x35d905(0x73c)](new Event(_0x35d905(0x3ef)));else _0x4556c5[_0x35d905(0xa64)]['length']===0x1&&(_0x48bdc9[_0x35d905(0xb00)]=_0x4556c5[_0x35d905(0xa64)][0x0],_0x48bdc9[_0x35d905(0x73c)](new Event('change')));};if(_0x4556c5['settings']?.['isPasscodeEnabled']){if(sessionStorage[_0x4f83ca(0x279)]('authed_project_'+_0x5b18ac)===_0x4f83ca(0x8a5)){_0x514286();return;}const _0x22dd39=document[_0x4f83ca(0x9bf)](_0x4f83ca(0x1e5)),_0x2c222b=document[_0x4f83ca(0x9bf)](_0x4f83ca(0x438)),_0x142d11=document[_0x4f83ca(0x9bf)](_0x4f83ca(0x244)),_0x31770f=document['getElementById'](_0x4f83ca(0x835)),_0x377d3c=document[_0x4f83ca(0x9bf)](_0x4f83ca(0xc4b));document[_0x4f83ca(0x9bf)](_0x4f83ca(0x5b5))[_0x4f83ca(0xa9a)]=_0x4f83ca(0x651)+_0x4556c5[_0x4f83ca(0x9e9)],_0x31770f[_0x4f83ca(0xb00)]='',_0x377d3c[_0x4f83ca(0x5a7)][_0x4f83ca(0x3b1)](_0x4f83ca(0x8da)),_0x22dd39['classList'][_0x4f83ca(0x2bd)](_0x4f83ca(0x8da));const _0x2959eb=()=>{const _0x3c6447=_0x4f83ca,_0x32e5f5=_0x31770f[_0x3c6447(0xb00)][_0x3c6447(0xb22)]();_0x32e5f5===_0x4556c5['settings'][_0x3c6447(0x9fe)]?(sessionStorage['setItem']('authed_project_'+_0x5b18ac,_0x3c6447(0x8a5)),_0x22dd39[_0x3c6447(0x5a7)]['add']('hidden'),_0x514286(),_0x2c222b[_0x3c6447(0x930)](_0x3c6447(0x7c2),_0x2959eb)):_0x377d3c['classList'][_0x3c6447(0x2bd)]('hidden');};_0x2c222b['onclick']=_0x2959eb,_0x142d11[_0x4f83ca(0xc96)]=()=>{const _0x1c3388=_0x4f83ca;_0x22dd39['classList'][_0x1c3388(0x3b1)]('hidden'),_0x3b5ffe[_0x1c3388(0xb00)]='',_0x2c222b[_0x1c3388(0x930)](_0x1c3388(0x7c2),_0x2959eb);};}else _0x514286();},_0x48bdc9['onchange']=()=>{const _0x400b2a=_0x7f8fe1,_0x3eaf09=_0x3b5ffe[_0x400b2a(0xb00)],_0x46aa14=_0x48bdc9[_0x400b2a(0xb00)];_0x3eaf09&&_0x46aa14&&renderStudentProgressDashboard(_0x3eaf09,_0x46aa14);};}async function confirmAndJoinSyncGame(){const _0x21baf0=_0x1d88bf,_0xef0c9a=Array['from'](document['querySelectorAll'](_0x21baf0(0x6ff)))[_0x21baf0(0x2b5)](_0x42ce88=>_0x42ce88[_0x21baf0(0xb00)]);if(_0xef0c9a[_0x21baf0(0x9dc)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0xef0c9a,localPlayerTurnIndex=0x0;const _0x4a5c05=doc(db,_0x21baf0(0x30c)+appId+_0x21baf0(0xcd9),currentLiveGameId);try{const _0x481f57=await getDoc(_0x4a5c05);if(!_0x481f57[_0x21baf0(0xb67)]())throw new Error(_0x21baf0(0x2c9));const _0x55f3e5=_0x481f57[_0x21baf0(0x7bb)]()[_0x21baf0(0x373)]||{};_0xef0c9a[_0x21baf0(0xb2a)](_0x23b655=>{const _0x53235f=_0x21baf0;!_0x55f3e5[_0x23b655]&&(_0x55f3e5[_0x23b655]={'name':_0x23b655,'score':0x0,'answered':![],'status':_0x53235f(0x53f)});}),await updateDoc(_0x4a5c05,{'players':_0x55f3e5}),document[_0x21baf0(0x9bf)](_0x21baf0(0x712))[_0x21baf0(0x5a7)]['add'](_0x21baf0(0x8da)),currentStudentName=_0xef0c9a[0x0],listenForSyncGameUpdates();const _0xcf28ac={'gameId':currentLiveGameId,'mode':_0x21baf0(0xb1b),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x21baf0(0x9cc)](_0x21baf0(0xbc7),JSON['stringify'](_0xcf28ac));}catch(_0x2e29a7){console[_0x21baf0(0x56e)](_0x21baf0(0xca3),_0x2e29a7),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x2c28c6=_0x1d88bf,_0x389522=sessionStorage[_0x2c28c6(0x279)](_0x2c28c6(0xbc7));if(!_0x389522)return;const _0x1168c2=JSON[_0x2c28c6(0x784)](_0x389522),{gameId:_0x16666f,mode:_0x211711,players:_0x18d004,turnIndex:_0x4e3466}=_0x1168c2;try{let _0x3d3faf,_0x43177d;_0x211711===_0x2c28c6(0xb1b)?_0x3d3faf=doc(db,_0x2c28c6(0x30c)+appId+'/public/data/syncGames',_0x16666f):_0x3d3faf=doc(db,_0x2c28c6(0x30c)+appId+_0x2c28c6(0x40b),_0x16666f);_0x43177d=await getDoc(_0x3d3faf);if(!_0x43177d[_0x2c28c6(0xb67)]()||_0x43177d['data']()[_0x2c28c6(0x5e0)]===_0x2c28c6(0x9e7)||_0x43177d[_0x2c28c6(0x7bb)]()[_0x2c28c6(0x5e0)]===_0x2c28c6(0x21b)){sessionStorage[_0x2c28c6(0x47e)](_0x2c28c6(0xbc7));return;}console[_0x2c28c6(0xc30)]('กำลังกลับเข้าสู่เกม\x20'+_0x211711+_0x2c28c6(0xaeb)+_0x16666f+')'),localTeamPlayers=_0x18d004,localPlayerTurnIndex=_0x4e3466;if(_0x211711===_0x2c28c6(0xb1b))currentLiveGameId=_0x16666f,currentStudentName=_0x18d004[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x16666f;const _0x200682=_0x43177d['data'](),_0x2dcc20=doc(db,_0x2c28c6(0x30c)+appId+_0x2c28c6(0x289),_0x200682[_0x2c28c6(0x2cf)]),_0x2272ad=await getDoc(_0x2dcc20);_0x2272ad[_0x2c28c6(0xb67)]()&&(currentQuizData=getShuffledQuiz({'id':_0x2272ad['id'],..._0x2272ad[_0x2c28c6(0x7bb)]()}),showView(_0x2c28c6(0x655)),studentInitialView[_0x2c28c6(0x5a7)][_0x2c28c6(0x3b1)]('hidden'),renderTeamQuizQuestion());}}catch(_0x450e87){console[_0x2c28c6(0x56e)](_0x2c28c6(0x25d),_0x450e87),sessionStorage[_0x2c28c6(0x47e)]('activeGameSession');}}function activateFileInputAreaWithLoadedFile(){const _0x3037b1=_0x1d88bf,_0x5d55ea=document[_0x3037b1(0x9bf)]('generate-from-file-btn'),_0x3e4241=document['getElementById'](_0x3037b1(0x440)),_0x14a1df=document['getElementById'](_0x3037b1(0x7dc));selectedFile?_0x14a1df[_0x3037b1(0xc13)]?(_0x5d55ea['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x5d55ea[_0x3037b1(0x6d3)]=![],_0x3e4241[_0x3037b1(0x5a7)]['add'](_0x3037b1(0x8da))):(_0x5d55ea[_0x3037b1(0x6d3)]=!![],_0x3e4241[_0x3037b1(0x5a7)][_0x3037b1(0x3b1)](_0x3037b1(0x8da)));}async function handleKickPlayerSync(_0xbefadc){const _0x612141=_0x1d88bf;if(!currentLiveGameId||!_0xbefadc)return;const _0x3266c8=doc(db,_0x612141(0x30c)+appId+_0x612141(0xcd9),currentLiveGameId),_0x310a88={};_0x310a88[_0x612141(0x668)+_0xbefadc+_0x612141(0x73e)]=_0x612141(0x95f);try{await updateDoc(_0x3266c8,_0x310a88);}catch(_0x5949a9){console['error'](_0x612141(0x8a9)+_0xbefadc+_0x612141(0xb6b),_0x5949a9),showMessage(_0x612141(0x400));}}async function renderStudentProgressDashboard(_0x58ff89,_0x111471){const _0x56d53c=_0x1d88bf,_0x32cad=document[_0x56d53c(0x9bf)](_0x56d53c(0xce0));_0x32cad[_0x56d53c(0x6b3)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x46b9ef=collection(db,_0x56d53c(0x30c)+appId+_0x56d53c(0x289)),_0xbfb1f2=query(_0x46b9ef,where('projectId','==',_0x58ff89)),_0x38df1f=await getDocs(_0xbfb1f2),_0x5131d0=_0x38df1f[_0x56d53c(0xa78)][_0x56d53c(0x2b5)](_0x5dfe08=>({'id':_0x5dfe08['id'],..._0x5dfe08[_0x56d53c(0x7bb)]()})),_0x3889f2=_0x5131d0[_0x56d53c(0x2b5)](_0x14177f=>getDoc(doc(db,_0x56d53c(0x30c)+appId+_0x56d53c(0xb14)+_0x14177f['id']+_0x56d53c(0x472),_0x111471))),_0x541edd=await Promise[_0x56d53c(0x875)](_0x3889f2),_0x1fa6ba=_0x541edd[_0x56d53c(0x408)](_0x2ef7ee=>_0x2ef7ee[_0x56d53c(0xb67)]())[_0x56d53c(0x2b5)](_0x281a15=>({'quizId':_0x281a15[_0x56d53c(0x1b3)][_0x56d53c(0x855)][_0x56d53c(0x855)]['id'],..._0x281a15[_0x56d53c(0x7bb)]()}));if(_0x1fa6ba[_0x56d53c(0x9dc)]===0x0){_0x32cad['innerHTML']=_0x56d53c(0xbac);return;}let _0x5c9f76='<div\x20class=\x22space-y-4\x22>';_0x1fa6ba['forEach'](_0x643a99=>{const _0x52d9b1=_0x56d53c,_0x507c4a=_0x5131d0[_0x52d9b1(0x9c1)](_0x2ed469=>_0x2ed469['id']===_0x643a99[_0x52d9b1(0x2cf)]),_0x2442bf=_0x507c4a[_0x52d9b1(0x3ad)]?.['resultsDisplay']||_0x52d9b1(0x3f9),_0x261a90=_0x507c4a[_0x52d9b1(0x3ad)]?.[_0x52d9b1(0x902)]??0x0,_0x21dbb8=_0x643a99[_0x52d9b1(0xa30)]>=_0x261a90;let _0x41942f='',_0x6efdc9=_0x52d9b1(0x484);switch(_0x2442bf){case'show_results_and_answers':case'show_results_only':_0x6efdc9=_0x21dbb8?_0x52d9b1(0xc77):_0x52d9b1(0x5f0),_0x41942f=_0x52d9b1(0x908)+(_0x21dbb8?_0x52d9b1(0x263):_0x52d9b1(0x262))+'\x22>'+_0x643a99[_0x52d9b1(0xa30)]+_0x52d9b1(0xb32)+_0x643a99[_0x52d9b1(0xb3e)]+_0x52d9b1(0x78b)+(_0x21dbb8?_0x52d9b1(0x8c8):_0x52d9b1(0x934))+'\x22>'+(_0x21dbb8?_0x52d9b1(0xa04):_0x52d9b1(0x38d))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x52d9b1(0x80b):_0x6efdc9=_0x21dbb8?_0x52d9b1(0xc77):_0x52d9b1(0x5f0),_0x41942f=_0x52d9b1(0x46f)+(_0x21dbb8?_0x52d9b1(0x8c8):_0x52d9b1(0x934))+'\x22>'+(_0x21dbb8?_0x52d9b1(0xa04):_0x52d9b1(0x38d))+_0x52d9b1(0x4ff);break;case'manual_release':_0x6efdc9=_0x52d9b1(0xb4f),_0x41942f=_0x52d9b1(0x96c);break;}_0x5c9f76+=_0x52d9b1(0xba7)+_0x6efdc9+_0x52d9b1(0x90c)+_0x507c4a[_0x52d9b1(0x6f8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x643a99[_0x52d9b1(0x879)][_0x52d9b1(0x9dc)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x643a99['latestSubmittedAt'])[_0x52d9b1(0x285)]('th-TH')+_0x52d9b1(0x365)+_0x41942f+_0x52d9b1(0x577);}),_0x5c9f76+=_0x56d53c(0x5a5),_0x32cad[_0x56d53c(0x6b3)]=_0x5c9f76;}catch(_0x469fad){console[_0x56d53c(0x56e)](_0x56d53c(0x74a),_0x469fad),_0x32cad['innerHTML']=_0x56d53c(0x62e);}}function renderQuizBankListForMultiSelect(_0x1b9f69=''){const _0x5e4262=_0x1d88bf,_0x3c13cf=document[_0x5e4262(0x9bf)](_0x5e4262(0x543)),_0x2e5cd2=_0x1b9f69[_0x5e4262(0xbb3)]()[_0x5e4262(0xb22)](),_0x570f1a=allQuizzesGlobal['map'](_0x52721d=>({..._0x52721d,'projectName':allProjects[_0x5e4262(0x9c1)](_0x3b57df=>_0x3b57df['id']===_0x52721d['projectId'])?.['projectName']||_0x5e4262(0x9b2)}))[_0x5e4262(0x408)](_0x24a999=>(_0x24a999[_0x5e4262(0x6f8)]||'')[_0x5e4262(0xbb3)]()[_0x5e4262(0x3b4)](_0x2e5cd2)||(_0x24a999[_0x5e4262(0x9e9)]||'')[_0x5e4262(0xbb3)]()[_0x5e4262(0x3b4)](_0x2e5cd2)||_0x24a999['id'][_0x5e4262(0xce7)]()[_0x5e4262(0x3b4)](_0x2e5cd2));_0x3c13cf[_0x5e4262(0x6b3)]=_0x570f1a[_0x5e4262(0x9dc)]?_0x570f1a[_0x5e4262(0x2b5)](_0x54d8c2=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x54d8c2['id']+_0x5e4262(0x29d)+(_0x54d8c2[_0x5e4262(0x6f8)]||'(ไม่มีชื่อ)')+_0x5e4262(0x2fd)+_0x54d8c2['projectName']+'\x20|\x20ID:\x20'+_0x54d8c2['id']+_0x5e4262(0x730))[_0x5e4262(0x77f)](''):_0x5e4262(0xb65),_0x3c13cf[_0x5e4262(0x7e5)]=()=>{const _0x2ccd29=_0x5e4262,_0x5d2ab5=document[_0x2ccd29(0x583)](_0x2ccd29(0x6ca));document[_0x2ccd29(0x9bf)](_0x2ccd29(0x57b))[_0x2ccd29(0x6d3)]=!_0x5d2ab5;};}function setupStudentProgressListeners(){const _0x38ecac=_0x1d88bf;document[_0x38ecac(0x9bf)]('view-my-progress-btn')['addEventListener']('click',showStudentProgressView),document[_0x38ecac(0x9bf)](_0x38ecac(0x8a6))[_0x38ecac(0x8c1)](_0x38ecac(0x7c2),()=>{const _0x45b6ce=_0x38ecac;document[_0x45b6ce(0x9bf)](_0x45b6ce(0x4d8))[_0x45b6ce(0x5a7)][_0x45b6ce(0x3b1)](_0x45b6ce(0x8da)),document[_0x45b6ce(0x9bf)](_0x45b6ce(0xbc4))[_0x45b6ce(0x5a7)][_0x45b6ce(0x2bd)](_0x45b6ce(0x8da));});}async function startSkillPractice(_0x87c252){const _0x19f9d8=_0x1d88bf;studentResultArea[_0x19f9d8(0x5a7)][_0x19f9d8(0x3b1)]('hidden'),studentQuizArea['innerHTML']=_0x19f9d8(0x870),studentQuizArea[_0x19f9d8(0x5a7)][_0x19f9d8(0x2bd)](_0x19f9d8(0x8da));try{const _0x550027=await getStandardizedTopic(_0x87c252);console[_0x19f9d8(0xc30)](_0x19f9d8(0x322)+_0x87c252+_0x19f9d8(0x6b6)+_0x550027+'\x22'),studentQuizArea[_0x19f9d8(0x583)]('p')['textContent']=_0x19f9d8(0x2d9)+_0x550027+_0x19f9d8(0xc7d);const _0xa113b4=collection(db,_0x19f9d8(0x30c)+appId+_0x19f9d8(0xa2f)),_0x4ebfb3=query(_0xa113b4,where(_0x19f9d8(0x6f8),'==',_0x550027)),_0x37ff62=await getDocs(_0x4ebfb3);if(_0x37ff62[_0x19f9d8(0xa78)]['length']>=0x3){console[_0x19f9d8(0xc30)](_0x19f9d8(0x497)+_0x37ff62[_0x19f9d8(0xa78)]['length']+_0x19f9d8(0x3ee)+_0x550027+_0x19f9d8(0x598));let _0x2fc7d9=_0x37ff62[_0x19f9d8(0xa78)][_0x19f9d8(0x2b5)](_0x502b7f=>_0x502b7f[_0x19f9d8(0x7bb)]());shuffleArray(_0x2fc7d9);const _0x5d97e5={'topic':_0x550027,'questions':_0x2fc7d9[_0x19f9d8(0x3d9)](0x0,0x3)};displaySkillPracticeDrill(_0x5d97e5);}else{console[_0x19f9d8(0xc30)](_0x19f9d8(0xa35)+_0x550027+_0x19f9d8(0x4d9));const _0x400f10=await generatePracticeQuestions(_0x550027);await saveDrillToPracticeBank(_0x400f10,_0x550027),displaySkillPracticeDrill(_0x400f10);}}catch(_0x3b4789){console[_0x19f9d8(0x56e)](_0x19f9d8(0xa1c),_0x3b4789),showMessage(_0x19f9d8(0xadd)),studentQuizArea[_0x19f9d8(0x5a7)][_0x19f9d8(0x3b1)]('hidden'),studentResultArea[_0x19f9d8(0x5a7)][_0x19f9d8(0x2bd)]('hidden');}}async function saveDrillToPracticeBank(_0x16ab38,_0x2c8444){const _0x27a986=_0x1d88bf,_0x1bf775=collection(db,_0x27a986(0x30c)+appId+'/public/data/practiceBank'),_0x5dd185=writeBatch(db);_0x16ab38['questions'][_0x27a986(0xb2a)](_0x4b8693=>{const _0x3ac350=_0x27a986,_0x2c1e7b=doc(_0x1bf775);_0x5dd185[_0x3ac350(0x5e4)](_0x2c1e7b,{'topic':_0x2c8444,'questionText':_0x4b8693['questionText'],'options':_0x4b8693[_0x3ac350(0x69b)],'correctAnswerIndex':_0x4b8693[_0x3ac350(0xcf3)],'explanation':_0x4b8693[_0x3ac350(0x989)],'createdAt':serverTimestamp()});});try{await _0x5dd185[_0x27a986(0x80a)](),console[_0x27a986(0xc30)](_0x27a986(0x3f3)+_0x16ab38[_0x27a986(0xcaf)]['length']+_0x27a986(0xcbb));}catch(_0x5237e0){console['error']('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x5237e0);}}async function getStandardizedTopic(_0x5dc88c){const _0x29ebca=_0x1d88bf,_0x5880cd=_0x29ebca(0xbdc)+_0x5dc88c+_0x29ebca(0x1c4),_0x390f5c={'type':_0x29ebca(0xca7),'properties':{'standardTopic':{'type':_0x29ebca(0x27b)}},'required':[_0x29ebca(0x33a)]};try{const _0x2daa76=await callAnalysisApi(_0x5880cd,_0x390f5c);return _0x2daa76['standardTopic'];}catch(_0x455e1f){return console[_0x29ebca(0x56e)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x455e1f),_0x5dc88c;}}async function handleGenerateEasyVersionQuiz(_0x3d886d){const _0x5c7b40=_0x1d88bf,_0x48a8c1=document[_0x5c7b40(0x9bf)](_0x5c7b40(0x7a7)),_0x548b39=document[_0x5c7b40(0x9bf)](_0x5c7b40(0x1f7));_0x548b39['classList'][_0x5c7b40(0x3b1)](_0x5c7b40(0x8da));const _0x47eabb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x48a8c1['insertAdjacentHTML'](_0x5c7b40(0x7e6),_0x47eabb);try{const _0xb12cf2=allQuizzes[_0x5c7b40(0x9c1)](_0x1831f5=>_0x1831f5['id']===_0x3d886d);if(!_0xb12cf2)throw new Error(_0x5c7b40(0x748));const _0x1bef0a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x5c7b40(0xa43)](_0xb12cf2[_0x5c7b40(0xcaf)])+_0x5c7b40(0x5d8),_0x1c30ce={'type':'OBJECT','properties':{'questionText':{'type':_0x5c7b40(0x27b)},'questionType':{'type':_0x5c7b40(0x27b)},'options':{'type':_0x5c7b40(0xaee),'items':{'type':_0x5c7b40(0x27b)}},'correctAnswerIndex':{'type':_0x5c7b40(0x76a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5c7b40(0x27b)},'imageCode':{'type':'STRING'}},'required':[_0x5c7b40(0x3ab),'questionType',_0x5c7b40(0x989)]},_0x3dfad5={'type':'OBJECT','properties':{'questions':{'type':_0x5c7b40(0xaee),'items':_0x1c30ce}},'required':[_0x5c7b40(0xcaf)]},_0x406a11=await callAnalysisApi(_0x1bef0a,_0x3dfad5);_0x406a11&&_0x406a11[_0x5c7b40(0xcaf)]&&_0x406a11[_0x5c7b40(0xcaf)][_0x5c7b40(0xb2a)](_0x5d4e59=>{const _0x1fbf4b=_0x5c7b40;if(_0x5d4e59['hasOwnProperty']('imageCode')){const _0x5accc8=String(_0x5d4e59[_0x1fbf4b(0xbe1)])[_0x1fbf4b(0xb22)]();(_0x5accc8===''||_0x5accc8['toLowerCase']()==='null'||!_0x5accc8[_0x1fbf4b(0x26d)](_0x1fbf4b(0x869)))&&delete _0x5d4e59['imageCode'];}});if(!_0x406a11||!_0x406a11[_0x5c7b40(0xcaf)]||_0x406a11[_0x5c7b40(0xcaf)][_0x5c7b40(0x9dc)]===0x0)throw new Error(_0x5c7b40(0xcb4));const _0x4c0c02=_0x406a11[_0x5c7b40(0xcaf)][_0x5c7b40(0x2b5)]((_0x5a66be,_0xace327)=>({..._0x5a66be,'id':'q_'+Date['now']()+'_'+_0xace327})),_0x19d002={'projectId':_0xb12cf2[_0x5c7b40(0xb16)],'quizType':_0xb12cf2[_0x5c7b40(0x854)],'settings':_0xb12cf2['settings'],'createdBy':_0xb12cf2['createdBy'],'status':_0x5c7b40(0x53f),'topic':_0x5c7b40(0x229)+_0xb12cf2[_0x5c7b40(0x6f8)],'questions':_0x4c0c02,'createdAt':new Date()[_0x5c7b40(0x7c9)](),'quizMode':_0x5c7b40(0x1d1),'pairedQuizId':null};let _0xe250c8;while(!![]){_0xe250c8=Math[_0x5c7b40(0x92f)](0x3e8+Math[_0x5c7b40(0xcb0)]()*0x2328)[_0x5c7b40(0xce7)]();const _0x199ec7=await getDoc(doc(db,_0x5c7b40(0x30c)+appId+_0x5c7b40(0x289),_0xe250c8));if(!_0x199ec7[_0x5c7b40(0xb67)]())break;}await setDoc(doc(db,_0x5c7b40(0x30c)+appId+_0x5c7b40(0x289),_0xe250c8),_0x19d002),showMessage(_0x5c7b40(0x909));}catch(_0x36adc0){console[_0x5c7b40(0x56e)](_0x5c7b40(0x793),_0x36adc0),showMessage(_0x5c7b40(0x96a)+_0x36adc0[_0x5c7b40(0x68b)]);}finally{const _0xe66153=document[_0x5c7b40(0x9bf)](_0x5c7b40(0x473));_0xe66153&&_0xe66153[_0x5c7b40(0x2bd)](),_0x548b39[_0x5c7b40(0x5a7)][_0x5c7b40(0x2bd)](_0x5c7b40(0x8da));}}async function generatePracticeQuestions(_0x2eb4d8){const _0x5a2537=_0x1d88bf,_0x5e7b56=_0x5a2537(0xc0c)+_0x2eb4d8+_0x5a2537(0x955)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x261335={'type':_0x5a2537(0xca7),'properties':{'questionText':{'type':_0x5a2537(0x27b)},'options':{'type':'ARRAY','items':{'type':_0x5a2537(0x27b)}},'correctAnswerIndex':{'type':_0x5a2537(0x76a)},'explanation':{'type':_0x5a2537(0x27b)}},'required':[_0x5a2537(0x3ab),'options',_0x5a2537(0xcf3),_0x5a2537(0x989)]},_0x1f1c07={'type':_0x5a2537(0xca7),'properties':{'topic':{'type':_0x5a2537(0x27b)},'questions':{'type':_0x5a2537(0xaee),'items':_0x261335}},'required':[_0x5a2537(0x6f8),_0x5a2537(0xcaf)]};return await callAnalysisApi(_0x5e7b56,_0x1f1c07);}function displayLessonPlan(_0x1ffa9a,_0xd3aa47){const _0x253f30=_0x1d88bf,_0x673304=_0x253f30(0xa5b)+_0xd3aa47[_0x253f30(0x6f8)]+_0x253f30(0x72e)+_0x1ffa9a[_0x253f30(0x89e)]['map'](_0x4eeff1=>_0x253f30(0x1b7)+_0x4eeff1+'</li>')['join']('')+_0x253f30(0x45c)+_0x1ffa9a['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x1ffa9a[_0x253f30(0x803)]['map'](_0x371bbc=>_0x253f30(0x6a7)+_0x371bbc[_0x253f30(0x66d)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x371bbc['solution']+'</p></div>')[_0x253f30(0x77f)]('')+_0x253f30(0x673);document[_0x253f30(0x9bf)](_0x253f30(0xa8b))[_0x253f30(0xa9a)]=_0x253f30(0x4b3)+_0xd3aa47['topic'],document[_0x253f30(0x9bf)](_0x253f30(0x213))['innerHTML']=_0x673304,document[_0x253f30(0x9bf)](_0x253f30(0xc5d))[_0x253f30(0x5a7)][_0x253f30(0x2bd)](_0x253f30(0x8da));if(window[_0x253f30(0x7c4)])MathJax[_0x253f30(0xa7b)]();}function displaySkillPracticeDrill(_0x32321d){const _0x501598=_0x1d88bf;let _0x49db49=0x0;const _0x163b42=_0x32321d[_0x501598(0xcaf)],_0x858759=()=>{const _0x34bcc5=_0x501598,_0x2bce67=_0x163b42[_0x49db49],_0x500fbe=_0x34bcc5(0x4e9)+(_0x49db49+0x1)+_0x34bcc5(0xb32)+_0x163b42[_0x34bcc5(0x9dc)]+_0x34bcc5(0xa67)+_0x2bce67[_0x34bcc5(0x3ab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bce67[_0x34bcc5(0x69b)][_0x34bcc5(0x2b5)]((_0xb60f5c,_0x19e632)=>_0x34bcc5(0x236)+_0x19e632+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x19e632+_0x34bcc5(0x1bf)+_0x19e632+'\x22>'+_0xb60f5c+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x500fbe;if(window[_0x34bcc5(0x7c4)])MathJax[_0x34bcc5(0xa7b)]([studentQuizArea]);document[_0x34bcc5(0x9bf)](_0x34bcc5(0x460))[_0x34bcc5(0x8c1)]('click',async()=>{const _0x3676c4=_0x34bcc5,_0x85c1f8=await getHintForQuestion(_0x2bce67[_0x3676c4(0x3ab)]);showMessage(_0x85c1f8);}),document['getElementById'](_0x34bcc5(0x3d1))[_0x34bcc5(0x8c1)]('click',()=>{const _0x4a54c0=_0x34bcc5,_0x108591=document[_0x4a54c0(0x583)]('input[name=\x22drill_answer\x22]:checked');if(!_0x108591){showMessage(_0x4a54c0(0xc0a));return;}const _0x36cba1=document[_0x4a54c0(0x9bf)]('drill-feedback'),_0x474350=parseInt(_0x108591[_0x4a54c0(0xb00)])===_0x2bce67[_0x4a54c0(0xcf3)];_0x474350?(_0x36cba1['className']=_0x4a54c0(0x68f),_0x36cba1['innerHTML']=_0x4a54c0(0x690)+_0x2bce67[_0x4a54c0(0x989)]):(_0x36cba1[_0x4a54c0(0x26b)]=_0x4a54c0(0x86f),_0x36cba1[_0x4a54c0(0x6b3)]=_0x4a54c0(0x625)+_0x2bce67[_0x4a54c0(0x989)]);_0x36cba1['classList'][_0x4a54c0(0x2bd)](_0x4a54c0(0x8da));if(window[_0x4a54c0(0x7c4)])MathJax[_0x4a54c0(0xa7b)]([_0x36cba1]);document[_0x4a54c0(0x9bf)](_0x4a54c0(0x3d1))['classList']['add'](_0x4a54c0(0x8da)),document[_0x4a54c0(0x9bf)](_0x4a54c0(0x460))[_0x4a54c0(0x5a7)][_0x4a54c0(0x3b1)](_0x4a54c0(0x8da)),document['getElementById'](_0x4a54c0(0xbda))[_0x4a54c0(0x5a7)][_0x4a54c0(0x2bd)](_0x4a54c0(0x8da));}),document[_0x34bcc5(0x9bf)](_0x34bcc5(0xbda))[_0x34bcc5(0x8c1)](_0x34bcc5(0x7c2),()=>{const _0x440931=_0x34bcc5;_0x49db49++,_0x49db49<_0x163b42[_0x440931(0x9dc)]?_0x858759():(studentQuizArea[_0x440931(0x6b3)]=_0x440931(0x72c),document['getElementById']('back-to-results-btn')[_0x440931(0x8c1)](_0x440931(0x7c2),()=>{const _0x1fcfd2=_0x440931;studentQuizArea[_0x1fcfd2(0x5a7)]['add']('hidden'),studentResultArea[_0x1fcfd2(0x5a7)][_0x1fcfd2(0x2bd)]('hidden');}));});};_0x858759();}async function getHintForQuestion(_0x3090b7){const _0x8b1631=_0x1d88bf,_0x2b8abb=_0x8b1631(0x1ec)+_0x3090b7+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x4891b7={'type':_0x8b1631(0xca7),'properties':{'hint':{'type':_0x8b1631(0x27b)}},'required':[_0x8b1631(0x32c)]};try{const _0x108ebe=await callAnalysisApi(_0x2b8abb,_0x4891b7);return _0x108ebe['hint'];}catch(_0x219df9){return console['error']('Failed\x20to\x20get\x20hint:',_0x219df9),_0x8b1631(0x5f1);}}async function extractTextFromPdf(_0x1026f0){const _0x46283b=_0x1d88bf;pdfjsLib[_0x46283b(0x3ec)][_0x46283b(0xce9)]=_0x46283b(0x915);const _0x38f03f=await _0x1026f0[_0x46283b(0x8e4)](),_0x411a05=await pdfjsLib[_0x46283b(0x45d)](_0x38f03f)['promise'],_0x44cb22=_0x411a05['numPages'];let _0x156a01='';for(let _0x69d035=0x1;_0x69d035<=_0x44cb22;_0x69d035++){const _0x93d3c9=await _0x411a05['getPage'](_0x69d035),_0x4ee361=await _0x93d3c9[_0x46283b(0x769)](),_0x440bc2=_0x4ee361['items'][_0x46283b(0x2b5)](_0x4c2044=>_0x4c2044[_0x46283b(0xbd2)])[_0x46283b(0x77f)]('\x20');_0x156a01+=_0x440bc2+'\x0a\x0a';}return _0x156a01;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x418b1c){const _0x105e96=_0x1d88bf,_0x17c15c=document[_0x105e96(0x9bf)](_0x105e96(0x2fc)),_0x4e37ef=document[_0x105e96(0x9bf)](_0x105e96(0xa4c)),_0xed91fe=document[_0x105e96(0x9bf)](_0x105e96(0x79e));_0x17c15c[_0x105e96(0x5a7)][_0x105e96(0x2bd)]('hidden'),_0x4e37ef[_0x105e96(0x6b3)]=_0x105e96(0x85e),_0xed91fe[_0x105e96(0x5a7)][_0x105e96(0x3b1)](_0x105e96(0x8da));try{const _0x24fd34=_0x105e96(0xa71)+_0x418b1c+_0x105e96(0xc4c),_0x24def1={'type':_0x105e96(0xca7),'properties':{'gradeLevel':{'type':_0x105e96(0x27b)},'curriculum':{'type':'ARRAY','items':{'type':_0x105e96(0xca7),'properties':{'sara':{'type':_0x105e96(0x27b)},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':_0x105e96(0x27b)},'subTopics':{'type':_0x105e96(0xaee),'items':{'type':'STRING'}}},'required':[_0x105e96(0xaa1),_0x105e96(0xb8a)]}}},'required':['sara',_0x105e96(0x848)]}}},'required':['gradeLevel',_0x105e96(0x96f)]},_0xe428f6=await callAnalysisApi(_0x24fd34,_0x24def1);if(_0xe428f6&&_0xe428f6[_0x105e96(0x96f)])extractedBlueprintData=_0xe428f6,renderBlueprintTopics(_0xe428f6),_0xed91fe['classList'][_0x105e96(0x2bd)](_0x105e96(0x8da));else throw new Error(_0x105e96(0x9b5));}catch(_0x321386){console[_0x105e96(0x56e)](_0x105e96(0x1f6),_0x321386),_0x4e37ef[_0x105e96(0x6b3)]=_0x105e96(0x717);}}function renderBlueprintTopics(_0x105e31){const _0x29aabf=_0x1d88bf,_0x3b3d9c=document[_0x29aabf(0x9bf)](_0x29aabf(0xa4c)),_0x1e3369=_0x105e31[_0x29aabf(0xc29)],_0x3da14a=_0x29aabf(0x7fd)+_0x1e3369+_0x29aabf(0x5eb);let _0x373a27='';_0x105e31[_0x29aabf(0x96f)][_0x29aabf(0xb2a)](_0x3a1241=>{const _0xe12105=_0x29aabf;_0x373a27+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x3a1241[_0xe12105(0xc24)]+_0xe12105(0xbc2),_0x3a1241[_0xe12105(0x848)][_0xe12105(0xb2a)](_0x1604ce=>{const _0x2be4e2=_0xe12105;_0x373a27+=_0x2be4e2(0xc97)+_0x1604ce[_0x2be4e2(0xaa1)]+_0x2be4e2(0x2b9),_0x1604ce[_0x2be4e2(0xb8a)][_0x2be4e2(0xb2a)](_0xe259b5=>{const _0x5538b7=_0x2be4e2;_0x373a27+=_0x5538b7(0x9dd)+_0xe259b5[_0x5538b7(0xad8)](/'/g,'\x5c\x27')+_0x5538b7(0x89f)+_0x1e3369[_0x5538b7(0xad8)](/'/g,'\x5c\x27')+_0x5538b7(0xa44)+_0xe259b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0xe259b5['replace'](/'/g,'\x5c\x27')+_0x5538b7(0x5d3);}),_0x373a27+=_0x2be4e2(0x664);}),_0x373a27+='</div>';}),_0x3b3d9c[_0x29aabf(0x6b3)]=_0x3da14a+_0x373a27;}async function handleGenerateTeachingContent(_0x17ad81){const _0x2660e9=_0x1d88bf,_0x5ed37d=document[_0x2660e9(0x9bf)](_0x2660e9(0xc5d)),_0x52167f=document['getElementById'](_0x2660e9(0x213));document[_0x2660e9(0x9bf)](_0x2660e9(0xa8b))[_0x2660e9(0xa9a)]=_0x2660e9(0x276)+_0x17ad81,_0x52167f['innerHTML']=_0x2660e9(0x257),_0x5ed37d['classList'][_0x2660e9(0x2bd)]('hidden');try{const _0x2408c8=_0x2660e9(0x60a)+_0x17ad81+_0x2660e9(0xc5c),_0x4876a0={'type':_0x2660e9(0xca7),'properties':{'keyConcepts':{'type':_0x2660e9(0xaee),'items':{'type':_0x2660e9(0x27b)}},'commonMistakes':{'type':_0x2660e9(0xaee),'items':{'type':_0x2660e9(0x27b)}},'stepByStepExamples':{'type':_0x2660e9(0xaee),'items':{'type':_0x2660e9(0xca7),'properties':{'question':{'type':_0x2660e9(0x27b)},'solution':{'type':_0x2660e9(0x27b)}},'required':['question','solution']}},'teacherTips':{'type':_0x2660e9(0xaee),'items':{'type':_0x2660e9(0x27b)}}},'required':['keyConcepts',_0x2660e9(0xcf8),_0x2660e9(0x541),'teacherTips']},_0x3e3878=await callAnalysisApi(_0x2408c8,_0x4876a0);displayTeachingContent(_0x3e3878,_0x17ad81);}catch(_0x4ec2b7){console['error'](_0x2660e9(0x6ef),_0x4ec2b7),_0x52167f['innerHTML']=_0x2660e9(0xb55)+_0x4ec2b7['message']+_0x2660e9(0xbab);}}function displayTeachingContent(_0x1073af,_0x335241){const _0x7880e4=_0x1d88bf,_0x4dd68c=document['getElementById']('lesson-plan-content');document[_0x7880e4(0x9bf)]('lesson-plan-title')['textContent']=_0x7880e4(0xa14)+_0x335241;const _0x103bb8=_0x7880e4(0x50c)+_0x1073af[_0x7880e4(0x399)][_0x7880e4(0x2b5)](_0x2ea39=>_0x7880e4(0x1b7)+_0x2ea39+_0x7880e4(0x806))[_0x7880e4(0x77f)]('')+_0x7880e4(0xb11)+_0x1073af['commonMistakes'][_0x7880e4(0x2b5)](_0x49943f=>_0x7880e4(0x1b7)+_0x49943f+'</li>')['join']('')+_0x7880e4(0x545)+_0x1073af[_0x7880e4(0x541)][_0x7880e4(0x2b5)](_0xf82688=>_0x7880e4(0x686)+_0xf82688[_0x7880e4(0x66d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0xf82688[_0x7880e4(0x4ab)]+_0x7880e4(0x3bc))[_0x7880e4(0x77f)]('')+_0x7880e4(0x5e7)+_0x1073af[_0x7880e4(0x196)]['map'](_0x503648=>'<li>'+_0x503648+_0x7880e4(0x806))[_0x7880e4(0x77f)]('')+_0x7880e4(0x516);_0x4dd68c[_0x7880e4(0x6b3)]=_0x103bb8;if(window[_0x7880e4(0x7c4)])MathJax[_0x7880e4(0xa7b)]([_0x4dd68c]);}async function generateQuizForSingleTopic(_0x16362a){const _0x28ee7e=_0x1d88bf;console[_0x28ee7e(0xc30)](_0x28ee7e(0x524)+_0x16362a+'\x22');const _0x58aa05=document[_0x28ee7e(0x9bf)](_0x28ee7e(0xa87)),_0x1ee04b=_0x58aa05[_0x28ee7e(0x222)][_0x28ee7e(0x9dc)]>0x0?_0x58aa05[_0x28ee7e(0x222)][0x0]:null;let _0x40ef69=null;if(_0x1ee04b)try{const _0x48d603=new FileReader();_0x48d603[_0x28ee7e(0x7a1)](_0x1ee04b);const _0x737c65=await new Promise((_0x32c87f,_0x37e1b0)=>{const _0x47e4e4=_0x28ee7e;_0x48d603['onload']=()=>_0x32c87f(_0x48d603[_0x47e4e4(0x618)][_0x47e4e4(0xb46)](',')[0x1]),_0x48d603[_0x47e4e4(0x1c7)]=_0x1c3bfc=>_0x37e1b0(_0x1c3bfc);});_0x40ef69=[{'inlineData':{'mimeType':_0x1ee04b['type'],'data':_0x737c65}}];}catch(_0x5e8fcb){console[_0x28ee7e(0x56e)](_0x28ee7e(0x1cb),_0x5e8fcb),showMessage(_0x28ee7e(0x349));return;}generateQuiz(_0x16362a,null,null,_0x40ef69,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x304fd4=null){const _0x18d941=_0x1d88bf,_0x4a3f09=document[_0x18d941(0x9bf)](_0x18d941(0x91e)),_0x57a179=document['getElementById'](_0x18d941(0xc09));let _0xac8c2f;if(_0x304fd4)_0xac8c2f=_0x304fd4;else{const _0x1449ae=document[_0x18d941(0x9bf)](_0x18d941(0x321)),_0x519d2d=_0x1449ae[_0x18d941(0x222)][0x0];if(!_0x519d2d){showMessage(_0x18d941(0x2e3));return;}_0x57a179[_0x18d941(0xa9a)]=_0x18d941(0x591);const _0x3a1e68=await new Promise((_0x19699d,_0x1f4e88)=>{const _0x41d1b9=_0x18d941,_0x4a8f50=new FileReader();_0x4a8f50[_0x41d1b9(0x7a1)](_0x519d2d),_0x4a8f50[_0x41d1b9(0x97a)]=()=>_0x19699d(_0x4a8f50[_0x41d1b9(0x618)][_0x41d1b9(0xb46)](',')[0x1]),_0x4a8f50['onerror']=_0x1f4e88;});_0xac8c2f=[{'text':_0x18d941(0xbf0)},{'inlineData':{'mimeType':_0x519d2d[_0x18d941(0x397)],'data':_0x3a1e68}}];}const _0x2896b1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20',_0x26cec3=_0x18d941(0x49c),_0x3bfeeb='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$.**\x0a',_0x2061ed={'type':_0x18d941(0xca7),'properties':{'questionText':{'type':_0x18d941(0x27b)},'questionType':{'type':_0x18d941(0x27b),'enum':[_0x18d941(0xa01),'short_answer',_0x18d941(0x9c3),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x18d941(0x27b)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x18d941(0x27b)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x18d941(0x27b)},'imageCode':{'type':_0x18d941(0x27b)}},'required':['questionType','explanation']},_0x4f2672={'type':_0x18d941(0xca7),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x2061ed}},'required':[_0x18d941(0x6f8),_0x18d941(0xcaf)]};_0xac8c2f[0x0]['text']=_0x3bfeeb,await handleApiCall(_0xac8c2f,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x4f2672);}function proceedToNextQuestion(_0x24da10){const _0x4bb98c=_0x1d88bf;studentAnswersPerQuestion[_0x4bb98c(0x488)](_0x24da10),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x4bb98c(0xcaf)][_0x4bb98c(0x9dc)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x2ca503,_0x35970f){const _0x11777c=_0x1d88bf,_0x3dbaf6=Object[_0x11777c(0xce2)](_0x2ca503['players']||{}),_0x356783=_0x3dbaf6[_0x11777c(0x9dc)],_0x12a488=[..._0x3dbaf6]['sort']((_0x53f2d6,_0x5ebad9)=>_0x5ebad9[_0x11777c(0x847)]-_0x53f2d6['score']),_0x381404=_0x2ca503[_0x11777c(0x463)];let _0x5dfadf='';const _0x58f5da=_0x2ca503[_0x11777c(0x2f8)][_0x11777c(0xcaf)],_0x1aca3d=_0x58f5da[_0x381404],_0x370bbe=_0x19605b=>String['fromCharCode'](0x41+_0x19605b);let _0x4dca9f='',_0x21f6cb='';if(_0x1aca3d){const _0x7a8e03=_0x1aca3d[_0x11777c(0xa42)]||_0x2ca503[_0x11777c(0x2f8)][_0x11777c(0x854)];if(_0x7a8e03===_0x11777c(0xa01)&&_0x1aca3d['options']&&_0x1aca3d[_0x11777c(0xcf3)]!==undefined){const _0x40addc=_0x1aca3d[_0x11777c(0xcf3)];_0x4dca9f=_0x1aca3d[_0x11777c(0x69b)][_0x40addc],_0x21f6cb=_0x370bbe(_0x40addc)+'.';}else{if(_0x7a8e03===_0x11777c(0x9c3)){const _0xbb5779=_0x1aca3d['correctAnswer']===!![]||String(_0x1aca3d[_0x11777c(0x661)])[_0x11777c(0xbb3)]()===_0x11777c(0x8a5);_0xbb5779?(_0x4dca9f='ใช่\x20/\x20ถูก',_0x21f6cb='ก.'):(_0x4dca9f=_0x11777c(0x369),_0x21f6cb='ข.');}else{if(_0x7a8e03===_0x11777c(0x8ad))_0x4dca9f=_0x1aca3d['correctResponse']||'-',_0x21f6cb='';else _0x7a8e03==='short_answer'&&(_0x4dca9f=_0x1aca3d['idealAnswer']||'-',_0x21f6cb='');}}}_0x4dca9f&&(_0x5dfadf=_0x11777c(0x62b)+(_0x381404+0x1)+_0x11777c(0xa0b)+_0x21f6cb+'\x20'+_0x4dca9f+_0x11777c(0x2a5));const _0x5ecf24=_0x12a488[_0x11777c(0x2b5)](_0xf4c6a0=>{const _0x287979=_0x11777c;let _0xbbc9fa=![];if(_0xf4c6a0['answers']&&_0x381404!==-0x1){const _0x4db6a3=_0xf4c6a0[_0x287979(0x8ec)][_0x287979(0x9c1)](_0x5c98c4=>_0x5c98c4['questionIndex']===_0x381404);_0x4db6a3&&_0x4db6a3[_0x287979(0x23a)]&&(_0xbbc9fa=!![]);}const _0x1d6a3b=_0xbbc9fa?_0x287979(0xb56):'bg-black/20';return _0x287979(0x662)+_0x1d6a3b+'\x22><span>'+_0xf4c6a0['name']+_0x287979(0xa8d)+_0xf4c6a0[_0x287979(0x847)]+_0x287979(0x84a);})[_0x11777c(0x77f)](''),_0x362561=_0x58f5da['map']((_0x2093ca,_0x3ae1c2)=>{const _0x493d0a=_0x11777c,_0x20eae8=_0x3dbaf6[_0x493d0a(0x408)](_0x3517ed=>_0x3517ed[_0x493d0a(0x8ec)]&&_0x3517ed[_0x493d0a(0x8ec)][_0x493d0a(0x9c1)](_0x40bafd=>_0x40bafd[_0x493d0a(0x47d)]===_0x3ae1c2&&_0x40bafd[_0x493d0a(0x23a)]))['length'],_0x16fdcd=_0x3ae1c2===_0x381404,_0x3b9d43=_0x16fdcd?_0x493d0a(0x1e6):_0x493d0a(0xa20);return _0x493d0a(0x923)+_0x3b9d43+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x3ae1c2+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x20eae8+'\x20/\x20'+_0x356783+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x11777c(0x77f)]('');let _0x30fe4a='',_0x4358af='';if(_0x35970f){const _0x182b0f=_0x2ca503[_0x11777c(0x463)]>=_0x58f5da['length']-0x1;_0x30fe4a='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x182b0f?_0x11777c(0xb5a):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x4358af=_0x11777c(0x6d5);}const _0x54631f=_0x11777c(0x504)+_0x2ca503[_0x11777c(0x2f8)][_0x11777c(0x6f8)]+_0x11777c(0x9fd)+_0x4358af+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dfadf+_0x11777c(0xb61)+(_0x5ecf24||_0x11777c(0xcb2))+_0x11777c(0x9cf)+_0x362561+_0x11777c(0xa50)+(_0x35970f?_0x11777c(0x45b)+_0x30fe4a+_0x11777c(0x5a5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x11777c(0x6b3)]=_0x54631f;if(window[_0x11777c(0x7c4)]){const _0x5dcb60=document[_0x11777c(0x9bf)](_0x11777c(0xc26));_0x5dcb60&&MathJax[_0x11777c(0xa7b)]([_0x5dcb60]);}if(_0x35970f){document['getElementById'](_0x11777c(0x1ee))[_0x11777c(0xc96)]=async()=>{const _0x1feffb=_0x11777c,_0x47aac6=doc(db,_0x1feffb(0x30c)+appId+_0x1feffb(0xcd9),currentLiveGameId),_0x49abf1=_0x2ca503[_0x1feffb(0x463)]+0x1;if(_0x49abf1<_0x58f5da[_0x1feffb(0x9dc)]){const _0x14b469={};Object[_0x1feffb(0x70c)](_0x2ca503[_0x1feffb(0x373)])[_0x1feffb(0xb2a)](_0x439ab9=>{const _0x4e16ec=_0x1feffb;_0x14b469[_0x4e16ec(0x668)+_0x439ab9+_0x4e16ec(0x4d0)]=![],_0x14b469[_0x4e16ec(0x668)+_0x439ab9+_0x4e16ec(0x595)]=null;}),await updateDoc(_0x47aac6,{..._0x14b469,'status':'question','currentQuestionIndex':_0x49abf1,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x47aac6,{'status':'podium'});};const _0x42d209=document[_0x11777c(0x9bf)](_0x11777c(0x496));_0x42d209&&(_0x42d209[_0x11777c(0xc96)]=()=>{const _0x9feda5=_0x11777c;showConfirmation(_0x9feda5(0x7df),async()=>{const _0x1d8de2=_0x9feda5,_0x3375c4=doc(db,_0x1d8de2(0x30c)+appId+_0x1d8de2(0xcd9),currentLiveGameId);await updateDoc(_0x3375c4,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x717bbe){const _0x5f4bb3=_0x1d88bf,_0x11785a=document[_0x5f4bb3(0x9bf)](_0x5f4bb3(0x7a7)),_0xa0ea36=document['getElementById'](_0x5f4bb3(0x1f7));_0xa0ea36[_0x5f4bb3(0x5a7)]['add']('hidden');const _0x3b53cd=_0x5f4bb3(0x782)+_0x717bbe[_0x5f4bb3(0x6f8)]+_0x5f4bb3(0x738);_0x11785a[_0x5f4bb3(0x24b)](_0x5f4bb3(0x7e6),_0x3b53cd);const _0x1313a5=document[_0x5f4bb3(0x9bf)](_0x5f4bb3(0xbc0));try{const _0x2426b0=_0x717bbe['questions'][_0x5f4bb3(0x2b5)]((_0x3a424b,_0x44bbdb)=>{const _0x2559c6=_0x5f4bb3;let _0x26e8dc=_0x44bbdb+0x1+'.\x20'+(_0x3a424b[_0x2559c6(0x3ab)]||_0x3a424b[_0x2559c6(0xc5b)])+'\x0a';if(_0x3a424b[_0x2559c6(0x69b)])_0x26e8dc+=_0x3a424b[_0x2559c6(0x69b)]['map']((_0x434798,_0x102dee)=>_0x2559c6(0x84f)+(_0x102dee===_0x3a424b[_0x2559c6(0xcf3)]?_0x2559c6(0x304):'')+'\x20'+_0x434798)[_0x2559c6(0x77f)]('\x0a');else _0x3a424b[_0x2559c6(0x549)]&&(_0x26e8dc+=_0x2559c6(0x867)+_0x3a424b[_0x2559c6(0x549)]);return _0x26e8dc;})[_0x5f4bb3(0x77f)]('\x0a\x0a');_0x1313a5[_0x5f4bb3(0xa9a)]=_0x5f4bb3(0x9c8);const _0x1712b9=_0x5f4bb3(0xbfd)+_0x717bbe[_0x5f4bb3(0x6f8)]+_0x5f4bb3(0x219)+_0x2426b0+_0x5f4bb3(0x3f6)+simpleMathPrompt+_0x5f4bb3(0x566),_0x394c25={'type':_0x5f4bb3(0xca7),'properties':{'questionText':{'type':_0x5f4bb3(0x27b)},'questionType':{'type':_0x5f4bb3(0x27b),'enum':[_0x5f4bb3(0xa01),_0x5f4bb3(0x7ff),_0x5f4bb3(0x9c3),_0x5f4bb3(0x8ad)]},'options':{'type':_0x5f4bb3(0xaee),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5f4bb3(0x76a)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x5f4bb3(0x5a0)},'stem':{'type':_0x5f4bb3(0x27b)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5f4bb3(0xaee),'items':{'type':_0x5f4bb3(0x27b)}},'explanation':{'type':_0x5f4bb3(0x27b)},'imageCode':{'type':_0x5f4bb3(0x27b)}},'required':['questionType',_0x5f4bb3(0x989)]},_0x71015={'type':_0x5f4bb3(0xca7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5f4bb3(0xaee),'items':_0x394c25}},'required':[_0x5f4bb3(0x6f8),_0x5f4bb3(0xcaf)]},_0x15baa2=await callAnalysisApi(_0x1712b9,_0x71015),_0xd31321=_0x15baa2[_0x5f4bb3(0xcaf)][_0x5f4bb3(0x2b5)]((_0x2a63d8,_0xc18745)=>({..._0x2a63d8,'id':'q_'+Date[_0x5f4bb3(0x49e)]()+'_'+_0xc18745})),_0x555254=_0x5f4bb3(0xc03)+_0x717bbe[_0x5f4bb3(0x6f8)],_0xc903b={'topic':_0x555254,'questions':_0xd31321,'quizType':_0x717bbe[_0x5f4bb3(0x854)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5f4bb3(0x7c9)](),'status':_0x5f4bb3(0x53f),'settings':_0x717bbe['settings'],'quizMode':_0x5f4bb3(0x1d1),'pairedQuizId':null,'lessonPlan':null};let _0x158b14;while(!![]){_0x158b14=Math[_0x5f4bb3(0x92f)](0x3e8+Math['random']()*0x2328)['toString']();const _0xb4144e=await getDoc(doc(db,_0x5f4bb3(0x30c)+appId+_0x5f4bb3(0x289),_0x158b14));if(!_0xb4144e['exists']())break;}await setDoc(doc(db,_0x5f4bb3(0x30c)+appId+_0x5f4bb3(0x289),_0x158b14),_0xc903b),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x544360){console[_0x5f4bb3(0x56e)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x544360),showMessage(_0x5f4bb3(0x96a)+_0x544360[_0x5f4bb3(0x68b)]);}finally{const _0x65b249=document[_0x5f4bb3(0x9bf)](_0x5f4bb3(0x473));_0x65b249&&_0x65b249[_0x5f4bb3(0x2bd)](),_0xa0ea36[_0x5f4bb3(0x5a7)][_0x5f4bb3(0x2bd)]('hidden');}}async function handleGenerateParallelPostTest(_0x56ccac){const _0x4a5db8=_0x1d88bf,_0xeb7e9e=document['getElementById'](_0x4a5db8(0x7a7)),_0x40776b=document[_0x4a5db8(0x9bf)](_0x4a5db8(0x1f7));_0x40776b[_0x4a5db8(0x5a7)]['add'](_0x4a5db8(0x8da));const _0x3c6300='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xeb7e9e[_0x4a5db8(0x24b)](_0x4a5db8(0x7e6),_0x3c6300);try{const _0x59a029=_0x56ccac[_0x4a5db8(0xcaf)][_0x4a5db8(0x2b5)]((_0x1fe209,_0x32e8ba)=>{const _0xd11308=_0x4a5db8;let _0x5ce473=_0x32e8ba+0x1+'.\x20'+(_0x1fe209['questionText']||_0x1fe209[_0xd11308(0xc5b)]);if(_0x1fe209[_0xd11308(0x69b)])_0x5ce473+=_0xd11308(0x5b3)+_0x1fe209[_0xd11308(0x69b)][_0xd11308(0x77f)](',\x20');return _0x5ce473;})['join']('\x0a\x0a'),_0x124681=_0x4a5db8(0xc48)+_0x56ccac[_0x4a5db8(0x6f8)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59a029+_0x4a5db8(0x639)+simpleMathPrompt+_0x4a5db8(0x566),_0x335449={'type':_0x4a5db8(0xca7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4a5db8(0xaee),'items':{'type':_0x4a5db8(0xca7),'properties':{'questionText':{'type':_0x4a5db8(0x27b)},'questionType':{'type':_0x4a5db8(0x27b)},'options':{'type':_0x4a5db8(0xaee),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4a5db8(0x76a)},'idealAnswer':{'type':_0x4a5db8(0x27b)},'explanation':{'type':'STRING'}},'required':[_0x4a5db8(0x3ab),'explanation']}}},'required':['topic',_0x4a5db8(0xcaf)]},_0x3fa834=await callAnalysisApi(_0x124681,_0x335449),_0x282691=_0x56ccac[_0x4a5db8(0x6f8)][_0x4a5db8(0xad8)](_0x4a5db8(0x8c9),'')[_0x4a5db8(0xb22)](),_0x3d3603=_0x4a5db8(0x791)+_0x282691,_0xdb3d78={..._0x3fa834,'topic':_0x3d3603,'quizType':_0x56ccac[_0x4a5db8(0x854)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4a5db8(0x7c9)](),'status':_0x4a5db8(0x53f),'settings':_0x56ccac[_0x4a5db8(0x3ad)],'quizMode':_0x4a5db8(0xa38),'pairedQuizId':_0x56ccac['id']};let _0x401549;while(!![]){_0x401549=Math[_0x4a5db8(0x92f)](0x3e8+Math[_0x4a5db8(0xcb0)]()*0x2328)[_0x4a5db8(0xce7)]();const _0x2a7d40=await getDoc(doc(db,_0x4a5db8(0x30c)+appId+_0x4a5db8(0x289),_0x401549));if(!_0x2a7d40[_0x4a5db8(0xb67)]())break;}await setDoc(doc(db,_0x4a5db8(0x30c)+appId+_0x4a5db8(0x289),_0x401549),_0xdb3d78);const _0x172f70=doc(db,'artifacts/'+appId+_0x4a5db8(0x289),_0x56ccac['id']);await updateDoc(_0x172f70,{'pairedQuizId':_0x401549}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x64eecd){console[_0x4a5db8(0x56e)](_0x4a5db8(0xc46),_0x64eecd),showMessage('เกิดข้อผิดพลาด:\x20'+_0x64eecd[_0x4a5db8(0x68b)]);}finally{const _0x4d2a07=document[_0x4a5db8(0x9bf)]('temp-loader-results');if(_0x4d2a07)_0x4d2a07[_0x4a5db8(0x2bd)]();_0x40776b['classList'][_0x4a5db8(0x2bd)](_0x4a5db8(0x8da));}}async function handleGenerateParallelTest(_0x43446c=null){const _0x5f101e=_0x1d88bf;let _0x6cc535=_0x43446c;if(!_0x6cc535){const _0x140905=document[_0x5f101e(0x9bf)](_0x5f101e(0xc6f));_0x140905[_0x5f101e(0x222)][_0x5f101e(0x9dc)]>0x0&&(_0x6cc535=_0x140905[_0x5f101e(0x222)][0x0]);}if(!_0x6cc535){showMessage(_0x5f101e(0x6d2));return;}const _0x3355d7=document[_0x5f101e(0x9bf)](_0x5f101e(0x91e)),_0x26e065=document[_0x5f101e(0x9bf)](_0x5f101e(0xc09)),_0x4a0660=document[_0x5f101e(0x9bf)](_0x5f101e(0x59f)),_0x421f9d=document[_0x5f101e(0x9bf)]('generate-from-parallel-test-btn');_0x421f9d['disabled']=!![],document[_0x5f101e(0x9bf)]('quiz-generation-area')[_0x5f101e(0x5a7)][_0x5f101e(0x2bd)]('hidden'),_0x4a0660['innerHTML']='',_0x3355d7[_0x5f101e(0x5a7)][_0x5f101e(0x2bd)](_0x5f101e(0x8da)),_0x26e065[_0x5f101e(0xa9a)]=_0x5f101e(0xc00);const _0x43df53=new FileReader();_0x43df53[_0x5f101e(0x7a1)](_0x6cc535),_0x43df53[_0x5f101e(0x97a)]=async()=>{const _0x58bd0d=_0x5f101e;try{const _0x34d03a=_0x43df53[_0x58bd0d(0x618)][_0x58bd0d(0xb46)](',')[0x1],_0xa740a9=_0x6cc535[_0x58bd0d(0x397)];_0x26e065[_0x58bd0d(0xa9a)]=_0x58bd0d(0x3f0);const _0x40ab90=document['getElementById']('include-images-checkbox')[_0x58bd0d(0xc13)],_0x40e9b5=_0x40ab90?_0x58bd0d(0xb9f):'',_0x566cfc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$.**\x0a',_0x102b53={'type':_0x58bd0d(0xca7),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x58bd0d(0x27b),'enum':['multiple_choice',_0x58bd0d(0x7ff)]},'options':{'type':_0x58bd0d(0xaee),'items':{'type':_0x58bd0d(0x27b)}},'correctAnswerIndex':{'type':_0x58bd0d(0x76a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x58bd0d(0x27b)},'imageCode':{'type':_0x58bd0d(0x27b)}},'required':[_0x58bd0d(0x3ab),_0x58bd0d(0xa42),_0x58bd0d(0x989)]},_0x1fe67e={'type':_0x58bd0d(0xca7),'properties':{'topic':{'type':_0x58bd0d(0x27b)},'questions':{'type':'ARRAY','items':_0x102b53}},'required':[_0x58bd0d(0x6f8),_0x58bd0d(0xcaf)]},_0x5864ae=[{'text':_0x566cfc},{'inlineData':{'mimeType':_0xa740a9,'data':_0x34d03a}}];await handleApiCall(_0x5864ae,_0x58bd0d(0x4ae),_0x1fe67e);}catch(_0x3515b6){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x3515b6),showMessage(_0x58bd0d(0x96a)+_0x3515b6[_0x58bd0d(0x68b)]),_0x4a0660[_0x58bd0d(0x6b3)]=_0x58bd0d(0x755);}finally{_0x3355d7['classList']['add'](_0x58bd0d(0x8da)),_0x421f9d[_0x58bd0d(0x6d3)]=![];}},_0x43df53[_0x5f101e(0x1c7)]=_0x26a468=>{const _0x44ede1=_0x5f101e;console['error'](_0x44ede1(0x59d),_0x26a468),showMessage(_0x44ede1(0x1bb)),_0x3355d7[_0x44ede1(0x5a7)][_0x44ede1(0x3b1)]('hidden'),_0x421f9d[_0x44ede1(0x6d3)]=![];};}async function handleRegenerateQuestionInEditor(_0xb3c1b1){const _0x2e12c2=_0x1d88bf;if(currentEditingQuizData===null)return;const _0x13d364=document[_0x2e12c2(0x583)](_0x2e12c2(0x474)+_0xb3c1b1+'\x22]');_0x13d364&&(_0x13d364[_0x2e12c2(0x6b3)]=_0x2e12c2(0x688));const _0x2e1c09=currentEditingQuizData['questions'][_0xb3c1b1],_0x372db9=currentEditingQuizData[_0x2e12c2(0x6f8)],_0x1b0bd9=_0x2e1c09[_0x2e12c2(0xa42)],_0x292f77={'type':_0x2e12c2(0xca7),'properties':{'questionText':{'type':_0x2e12c2(0x27b)},'options':{'type':_0x2e12c2(0xaee),'items':{'type':_0x2e12c2(0x27b)}},'correctAnswerIndex':{'type':_0x2e12c2(0x76a)},'explanation':{'type':'STRING'}},'required':['questionText',_0x2e12c2(0x69b),'correctAnswerIndex',_0x2e12c2(0x989)]},_0x3008da={'type':_0x2e12c2(0xca7),'properties':{'questionText':{'type':_0x2e12c2(0x27b)},'idealAnswer':{'type':_0x2e12c2(0x27b)},'explanation':{'type':_0x2e12c2(0x27b)}},'required':[_0x2e12c2(0x3ab),_0x2e12c2(0x549),_0x2e12c2(0x989)]};let _0x34d71b,_0x22fab1='';_0x1b0bd9===_0x2e12c2(0xa01)?(_0x34d71b=_0x292f77,_0x22fab1=_0x2e12c2(0x8f0)):(_0x34d71b=_0x3008da,_0x22fab1=_0x2e12c2(0xc1a));const _0x1786e1=_0x2e12c2(0x5d9)+_0x372db9+_0x2e12c2(0xbd1)+_0x22fab1+_0x2e12c2(0x1cd)+(_0x2e1c09[_0x2e12c2(0x3ab)]||_0x2e1c09[_0x2e12c2(0xc5b)])+_0x2e12c2(0x215)+simpleMathPrompt;try{const _0x28a847=await callAnalysisApi(_0x1786e1,_0x34d71b);currentEditingQuizData[_0x2e12c2(0xcaf)][_0xb3c1b1]={..._0x2e1c09,..._0x28a847},renderQuizEditor(currentEditingQuizData);}catch(_0x2376a1){console[_0x2e12c2(0x56e)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x2376a1),showMessage(_0x2e12c2(0xa6f)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x1aecc2=_0x1d88bf,_0x129762=document[_0x1aecc2(0x9bf)](_0x1aecc2(0x5da));currentMode===_0x1aecc2(0x655)?(currentMode=_0x1aecc2(0x8c7),_0x129762['innerHTML']=_0x1aecc2(0x701),_0x129762[_0x1aecc2(0x270)]=_0x1aecc2(0xc63),showView(_0x1aecc2(0x587))):(currentMode='student',_0x129762['innerHTML']=_0x1aecc2(0x6f6),_0x129762[_0x1aecc2(0x270)]=_0x1aecc2(0x65c),showView(_0x1aecc2(0x655)));}function handleAdminLogin(){const _0x30c65a=_0x1d88bf,_0x381595=document[_0x30c65a(0x9bf)]('admin-password-input'),_0x35354a=document[_0x30c65a(0x9bf)](_0x30c65a(0x404));if(_0x381595[_0x30c65a(0xb00)]==='27411472'){adminPasswordModal['classList']['add'](_0x30c65a(0x8da)),_0x381595[_0x30c65a(0xb00)]='',_0x35354a[_0x30c65a(0x5a7)][_0x30c65a(0x3b1)](_0x30c65a(0x8da)),currentMode=_0x30c65a(0x8c7);const _0xead7cd=document[_0x30c65a(0x9bf)](_0x30c65a(0x5da));_0xead7cd['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0xead7cd[_0x30c65a(0x270)]=_0x30c65a(0xc63),showView(_0x30c65a(0x587));}else _0x35354a[_0x30c65a(0x5a7)][_0x30c65a(0x2bd)](_0x30c65a(0x8da)),_0x381595[_0x30c65a(0xb00)]='';}function switchProjectTab(_0x43d75f){const _0xd09cc1=_0x1d88bf;['manage',_0xd09cc1(0x82f),_0xd09cc1(0x588)][_0xd09cc1(0xb2a)](_0x2baf19=>{const _0x647afc=_0xd09cc1;document[_0x647afc(0x9bf)](_0x2baf19+'-tab')['classList'][_0x647afc(0x2bd)](_0x647afc(0x53f)),document['getElementById'](_0x2baf19+'-tab-content')[_0x647afc(0x5a7)][_0x647afc(0x3b1)]('hidden');}),document[_0xd09cc1(0x9bf)](_0x43d75f+_0xd09cc1(0x633))[_0xd09cc1(0x5a7)][_0xd09cc1(0x3b1)](_0xd09cc1(0x53f)),document[_0xd09cc1(0x9bf)](_0x43d75f+_0xd09cc1(0x776))[_0xd09cc1(0x5a7)][_0xd09cc1(0x2bd)](_0xd09cc1(0x8da));}function switchQuizDetailTab(_0x1f7db2){const _0x2d1b73=_0x1d88bf,_0x520535={'analytics':{'btn':_0x2d1b73(0x9c0),'content':_0x2d1b73(0x4bb)},'scores':{'btn':_0x2d1b73(0x8d6),'content':_0x2d1b73(0xcc4)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x2d1b73(0x6e8)},'behavior-log':{'btn':'behavior-log-tab-btn','content':'behavior-log-tab-content'}};for(const _0x34449c in _0x520535){document[_0x2d1b73(0x9bf)](_0x520535[_0x34449c][_0x2d1b73(0x60d)])['classList'][_0x2d1b73(0x2bd)](_0x2d1b73(0x53f)),document[_0x2d1b73(0x9bf)](_0x520535[_0x34449c][_0x2d1b73(0x34e)])['classList'][_0x2d1b73(0x3b1)](_0x2d1b73(0x8da));}document['getElementById'](_0x520535[_0x1f7db2][_0x2d1b73(0x60d)])[_0x2d1b73(0x5a7)][_0x2d1b73(0x3b1)](_0x2d1b73(0x53f)),document[_0x2d1b73(0x9bf)](_0x520535[_0x1f7db2]['content'])[_0x2d1b73(0x5a7)][_0x2d1b73(0x2bd)]('hidden');}function showMessage(_0x1f2fa5,_0x588cc4=null){const _0x44fd4b=_0x1d88bf;modalMessage['textContent']=_0x1f2fa5,modalConfirmAction=_0x588cc4,messageModal[_0x44fd4b(0x5a7)]['remove'](_0x44fd4b(0x8da));}function showConfirmation(_0x2179b0,_0x5b0376){const _0x5d3057=_0x1d88bf;document[_0x5d3057(0x9bf)]('confirmation-message')[_0x5d3057(0xa9a)]=_0x2179b0,document[_0x5d3057(0x9bf)]('confirmation-modal')[_0x5d3057(0x583)]('h3')[_0x5d3057(0xa9a)]=_0x5d3057(0x8f3),confirmAction=_0x5b0376,confirmationModal['classList'][_0x5d3057(0x2bd)](_0x5d3057(0x8da));}function listenForProjects(){const _0x2d075f=_0x1d88bf,_0x43cc75=doc(db,_0x2d075f(0xb35),'dashboardConfig');onSnapshot(_0x43cc75,_0x33ffb6=>{const _0x493a7d=_0x2d075f;if(_0x33ffb6['exists']()){const _0x17ae43=_0x33ffb6['data']();globalDashboardSettings[_0x493a7d(0x3d4)]=_0x17ae43[_0x493a7d(0x3d4)]||_0x493a7d(0xb34),globalDashboardSettings[_0x493a7d(0x650)]=_0x17ae43[_0x493a7d(0x650)]||[],globalDashboardSettings[_0x493a7d(0xb15)]=_0x17ae43['projectOrder']||[];}allProjects[_0x493a7d(0x9dc)]>0x0&&renderProjects();});const _0x5d9e07=collection(db,'artifacts/'+appId+_0x2d075f(0x433));unsubscribeProjectsListener=onSnapshot(_0x5d9e07,_0x3b82b3=>{const _0x2c8bf3=_0x2d075f;allProjects=_0x3b82b3['docs']['map'](_0x1953a5=>({'id':_0x1953a5['id'],..._0x1953a5[_0x2c8bf3(0x7bb)]()})),renderProjects();},_0x1eaac3=>{const _0x495cd6=_0x2d075f;console['error'](_0x495cd6(0x961),_0x1eaac3),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x13f08d,_0x473024){const _0x5c539f=_0x1d88bf;document[_0x5c539f(0x468)]('.color-palette-popup')[_0x5c539f(0xb2a)](_0x3b495d=>_0x3b495d['remove']());const _0x4e10b0=[_0x5c539f(0xa33),_0x5c539f(0x4e0),_0x5c539f(0xd01),_0x5c539f(0x6c0),_0x5c539f(0x8eb),_0x5c539f(0x7c7),_0x5c539f(0x2ed),_0x5c539f(0xbd8),_0x5c539f(0x691)],_0x2aa8bd=document[_0x5c539f(0xb04)](_0x5c539f(0xbf5));_0x2aa8bd[_0x5c539f(0x26b)]=_0x5c539f(0xbc5),_0x4e10b0[_0x5c539f(0xb2a)](_0x2e1fcf=>{const _0x3ac63d=_0x5c539f,_0x2a2913=document[_0x3ac63d(0xb04)](_0x3ac63d(0xbf5));_0x2a2913[_0x3ac63d(0x26b)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x2a2913[_0x3ac63d(0x641)][_0x3ac63d(0x7d2)]=_0x2e1fcf,_0x2a2913[_0x3ac63d(0x8c1)]('click',()=>{const _0x28456a=_0x3ac63d;handleProjectColorChange(_0x473024,_0x2e1fcf),_0x2aa8bd[_0x28456a(0x2bd)]();}),_0x2aa8bd[_0x3ac63d(0x5b9)](_0x2a2913);}),document['body'][_0x5c539f(0x5b9)](_0x2aa8bd);const _0x4bdd6a=_0x13f08d[_0x5c539f(0x8af)]();_0x2aa8bd[_0x5c539f(0x641)][_0x5c539f(0xb73)]=_0x4bdd6a[_0x5c539f(0x195)]+window[_0x5c539f(0x58a)]+'px',_0x2aa8bd[_0x5c539f(0x641)]['left']=_0x4bdd6a[_0x5c539f(0xb2e)]+window[_0x5c539f(0x7f9)]-_0x2aa8bd[_0x5c539f(0x2b3)]/0x2+'px';}async function handleProjectColorChange(_0x2eab52,_0x5840b6){const _0x1598b0=_0x1d88bf,_0x465661=doc(db,'artifacts/'+appId+_0x1598b0(0x433),_0x2eab52);try{await updateDoc(_0x465661,{'color':_0x5840b6});}catch(_0x1cabd5){console[_0x1598b0(0x56e)](_0x1598b0(0xbb9),_0x1cabd5),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x2d56fd=_0x1d88bf,_0x1956c6=globalDashboardSettings[_0x2d56fd(0x3d4)]||_0x2d56fd(0xb34),_0x487fb9=new Set(globalDashboardSettings[_0x2d56fd(0x650)]||[]),_0x47dd1b=globalDashboardSettings[_0x2d56fd(0x679)]||_0x2d56fd(0xce1),_0x4cbd08=document[_0x2d56fd(0x9bf)]('grid-view-btn'),_0x367ed0=document[_0x2d56fd(0x9bf)]('list-view-btn');_0x4cbd08['classList'][_0x2d56fd(0x372)](_0x2d56fd(0x53f),_0x47dd1b==='grid'),_0x367ed0['classList'][_0x2d56fd(0x372)](_0x2d56fd(0x53f),_0x47dd1b==='list'),document[_0x2d56fd(0x9bf)]('project-sort-select')[_0x2d56fd(0xb00)]=_0x1956c6;const _0x2d209f=document['getElementById'](_0x2d56fd(0x567))[_0x2d56fd(0xb00)][_0x2d56fd(0xbb3)]();let _0x17140a=allProjects[_0x2d56fd(0x408)](_0x3ffc9e=>_0x3ffc9e['projectName'][_0x2d56fd(0xbb3)]()['includes'](_0x2d209f));const _0x53c04a=_0x17140a[_0x2d56fd(0x408)](_0x36f930=>_0x487fb9[_0x2d56fd(0x723)](_0x36f930['id'])),_0x23d785=_0x17140a[_0x2d56fd(0x408)](_0x3d45b3=>!_0x487fb9[_0x2d56fd(0x723)](_0x3d45b3['id'])),_0x40fa44=(_0x7b6b,_0x223f83)=>{const _0x6e2e04=_0x2d56fd;switch(_0x1956c6){case _0x6e2e04(0x5c3):return _0x7b6b[_0x6e2e04(0x9e9)][_0x6e2e04(0xcbd)](_0x223f83[_0x6e2e04(0x9e9)],'th');case _0x6e2e04(0xab9):return _0x223f83['projectName'][_0x6e2e04(0xcbd)](_0x7b6b[_0x6e2e04(0x9e9)],'th');case _0x6e2e04(0x51c):return new Date(_0x7b6b[_0x6e2e04(0x43e)])-new Date(_0x223f83[_0x6e2e04(0x43e)]);default:return new Date(_0x223f83[_0x6e2e04(0x43e)])-new Date(_0x7b6b[_0x6e2e04(0x43e)]);}};_0x53c04a[_0x2d56fd(0x79f)](_0x40fa44),_0x23d785[_0x2d56fd(0x79f)](_0x40fa44);const _0x2fbd27=[..._0x53c04a,..._0x23d785],_0x5003b1=globalDashboardSettings[_0x2d56fd(0xb15)]||[];_0x5003b1[_0x2d56fd(0x9dc)]>0x0&&_0x47dd1b==='grid'&&_0x2fbd27[_0x2d56fd(0x79f)]((_0x32c63d,_0x3bd071)=>{const _0x1ac13a=_0x2d56fd,_0x45aa71=_0x5003b1[_0x1ac13a(0x3e8)](_0x32c63d['id']),_0x403102=_0x5003b1['indexOf'](_0x3bd071['id']);if(_0x45aa71===-0x1)return 0x1;if(_0x403102===-0x1)return-0x1;return _0x45aa71-_0x403102;});const _0x5ea49b={};await Promise[_0x2d56fd(0x875)](_0x2fbd27['map'](async _0x33730a=>{const _0x28ea31=_0x2d56fd,_0x1ba3ca=query(collection(db,_0x28ea31(0x30c)+appId+_0x28ea31(0x289)),where(_0x28ea31(0xb16),'==',_0x33730a['id'])),_0x1648e=await getDocs(_0x1ba3ca);_0x5ea49b[_0x33730a['id']]=_0x1648e[_0x28ea31(0x8d7)];}));const _0x50f674=document['getElementById'](_0x2d56fd(0x518));let _0x35aa4f='';if(_0x47dd1b===_0x2d56fd(0xce1)){_0x50f674[_0x2d56fd(0x26b)]=_0x2d56fd(0x5f8);if(starredQuizzes['length']>0x0&&_0x2d209f===''){const _0x19e11f=starredQuizzes[_0x2d56fd(0x2b5)](_0x5468df=>{const _0x151f08=_0x2d56fd,_0x1d60eb=allProjects[_0x151f08(0x9c1)](_0x192b8f=>_0x192b8f['id']===_0x5468df[_0x151f08(0xb16)]);return{..._0x5468df,'projectName':_0x1d60eb?_0x1d60eb[_0x151f08(0x9e9)]:_0x151f08(0x9b2)};});_0x35aa4f+=_0x2d56fd(0xb48)+_0x19e11f[_0x2d56fd(0x2b5)](_0x5a3166=>_0x2d56fd(0x6da)+_0x5a3166[_0x2d56fd(0x6f8)]+'\x22>'+_0x5a3166[_0x2d56fd(0x6f8)]+_0x2d56fd(0xa1f)+_0x5a3166['projectName']+_0x2d56fd(0x93d)+_0x5a3166[_0x2d56fd(0x9e9)]+_0x2d56fd(0xa22))[_0x2d56fd(0x77f)]('')+_0x2d56fd(0xa36)+starredQuizzes['length']+_0x2d56fd(0x91b);}_0x2fbd27['forEach'](_0xabf8f4=>{const _0x2c8fbf=_0x2d56fd,_0x54e234=_0x5ea49b[_0xabf8f4['id']]??0x0,_0x5039d1=_0x487fb9[_0x2c8fbf(0x723)](_0xabf8f4['id']),_0x21407d=_0xabf8f4['color']||'#FFFFFF',_0xe59ec1=parseInt(_0x21407d[_0x2c8fbf(0x426)](0x1,0x3),0x10)*0.299+parseInt(_0x21407d['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x21407d[_0x2c8fbf(0x426)](0x5,0x7),0x10)*0.114<0xba,_0x292299=_0xe59ec1?_0x2c8fbf(0x62d):_0x2c8fbf(0x834),_0x430ad2=_0xe59ec1?_0x2c8fbf(0x99a):_0x2c8fbf(0x628);_0x35aa4f+=_0x2c8fbf(0x579)+(_0x5039d1?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x2c8fbf(0x898))+_0x2c8fbf(0xa85)+_0x21407d+_0x2c8fbf(0x626)+_0xabf8f4['id']+_0x2c8fbf(0xb42)+_0xabf8f4['id']+_0x2c8fbf(0x619)+(_0xe59ec1?'text-gray-300\x20hover:text-white':_0x2c8fbf(0x999))+_0x2c8fbf(0x5b6)+_0xabf8f4['id']+_0x2c8fbf(0x1e7)+(_0xe59ec1?_0x2c8fbf(0xbbf):'text-gray-400\x20hover:text-indigo-600')+_0x2c8fbf(0xc6c)+(_0x5039d1?_0xe59ec1?_0x2c8fbf(0x320):_0x2c8fbf(0x931):'')+_0x2c8fbf(0x1bd)+_0xabf8f4['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x292299+'\x20pointer-events-none\x22>'+_0xabf8f4[_0x2c8fbf(0x9e9)]+_0x2c8fbf(0xa03)+_0x430ad2+_0x2c8fbf(0x926)+new Date(_0xabf8f4[_0x2c8fbf(0x43e)])[_0x2c8fbf(0x285)](_0x2c8fbf(0xb25))+_0x2c8fbf(0x6a5)+(_0xe59ec1?_0x2c8fbf(0x6a3):_0x2c8fbf(0xcde))+_0x2c8fbf(0x92d)+_0x54e234+_0x2c8fbf(0x51e)+_0xabf8f4['id']+_0x2c8fbf(0xa41)+_0xabf8f4[_0x2c8fbf(0x9e9)]+_0x2c8fbf(0x64f)+(_0xe59ec1?_0x2c8fbf(0x864):'text-red-500\x20hover:text-red-700')+_0x2c8fbf(0x82c);});}else _0x50f674[_0x2d56fd(0x26b)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x2d56fd(0x9dc)]>0x0&&_0x2d209f===''&&(_0x35aa4f+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x2d56fd(0x9dc)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x35aa4f+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2fbd27[_0x2d56fd(0xb2a)](_0x17f4f4=>{const _0x5a7d91=_0x2d56fd,_0x2a8bad=_0x5ea49b[_0x17f4f4['id']]??0x0,_0x1d1a9b=_0x487fb9['has'](_0x17f4f4['id']);_0x35aa4f+=_0x5a7d91(0x760)+(_0x17f4f4[_0x5a7d91(0xaf0)]||'#E5E7EB')+_0x5a7d91(0x6e2)+_0x17f4f4['id']+_0x5a7d91(0x272)+_0x17f4f4['projectName']+_0x5a7d91(0xa7c)+_0x2a8bad+_0x5a7d91(0x29b)+new Date(_0x17f4f4['createdAt'])[_0x5a7d91(0xb58)]('th-TH')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x17f4f4['id']+_0x5a7d91(0xaea)+(_0x1d1a9b?'text-indigo-600':'')+_0x5a7d91(0x2e9)+_0x17f4f4['id']+'\x22\x20data-name=\x22'+_0x17f4f4[_0x5a7d91(0x9e9)]+_0x5a7d91(0x5c2);});projectList[_0x2d56fd(0x6b3)]=_0x35aa4f,noProjectsMsg[_0x2d56fd(0x5a7)][_0x2d56fd(0x372)]('hidden',_0x35aa4f[_0x2d56fd(0x9dc)]>0x0);}document[_0x1d88bf(0x9bf)](_0x1d88bf(0x986))[_0x1d88bf(0x8c1)](_0x1d88bf(0x7c2),async()=>{const _0x328b0d=_0x1d88bf,_0x53ee98=document[_0x328b0d(0x9bf)](_0x328b0d(0x6c3)),_0xa42ac9=_0x53ee98['value'][_0x328b0d(0xb22)]();if(!_0xa42ac9){showMessage(_0x328b0d(0x292));return;}try{const _0x53bff4=doc(collection(db,_0x328b0d(0x30c)+appId+_0x328b0d(0x433)));await setDoc(_0x53bff4,{'projectName':_0xa42ac9,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x328b0d(0x44e),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x328b0d(0x44e),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x328b0d(0x7c9)]()}),_0x53ee98['value']='',createProjectModal['classList'][_0x328b0d(0x3b1)](_0x328b0d(0x8da)),showMessage(_0x328b0d(0x1b2));}catch(_0x48d65e){console[_0x328b0d(0x56e)]('Error\x20creating\x20project:',_0x48d65e),showMessage(_0x328b0d(0x2de));}}),projectList[_0x1d88bf(0x8c1)]('click',async _0x1762bf=>{const _0x5f1cce=_0x1d88bf,_0x376bf5=_0x1762bf[_0x5f1cce(0x964)][_0x5f1cce(0xa13)](_0x5f1cce(0xb09)),_0x239390=_0x1762bf[_0x5f1cce(0x964)]['closest'](_0x5f1cce(0x461)),_0x23cbb6=_0x1762bf[_0x5f1cce(0x964)][_0x5f1cce(0xa13)]('.pin-project-btn'),_0x13daa9=_0x1762bf[_0x5f1cce(0x964)]['closest'](_0x5f1cce(0x988));if(_0x23cbb6){const _0x3720d9=_0x23cbb6['dataset']['id'],_0x36beac=doc(db,'globalSettings',_0x5f1cce(0xa2a)),_0x379d06=globalDashboardSettings[_0x5f1cce(0x650)];let _0x10b70f;_0x379d06[_0x5f1cce(0x3b4)](_0x3720d9)?_0x10b70f=_0x379d06['filter'](_0x4e38bf=>_0x4e38bf!==_0x3720d9):_0x10b70f=[..._0x379d06,_0x3720d9];try{await setDoc(_0x36beac,{'pinnedProjects':_0x10b70f},{'merge':!![]});}catch(_0x5767c4){console[_0x5f1cce(0x56e)](_0x5f1cce(0xb59),_0x5767c4),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x13daa9){const _0x114eac=_0x13daa9[_0x5f1cce(0xc05)]['id'];showColorPalette(_0x13daa9,_0x114eac);}else{if(_0x376bf5){const _0x6793b=_0x376bf5[_0x5f1cce(0xc05)]['id'];_0x6793b===_0x5f1cce(0xbfa)?showStarredProjectView():(currentProjectId=_0x6793b,await loadProjectDetails(currentProjectId),showView(_0x5f1cce(0xb9c)));}else{if(_0x239390){const _0x35fcc8=_0x239390[_0x5f1cce(0xc05)]['id'],_0x27ff9f=_0x239390['dataset'][_0x5f1cce(0xa80)];showConfirmation(_0x5f1cce(0x8ea)+_0x27ff9f+_0x5f1cce(0x917),()=>handleDeleteProject(_0x35fcc8));}}}}}),projectList[_0x1d88bf(0x8c1)](_0x1d88bf(0x913),_0x21a8e9=>{const _0x590a8d=_0x1d88bf,_0x593751=_0x21a8e9['target'][_0x590a8d(0xa13)](_0x590a8d(0x394));_0x593751&&_0x593751[_0x590a8d(0x5a7)]['add']('opacity-50');}),projectList[_0x1d88bf(0x8c1)]('dragend',_0x5e720c=>{const _0x2d370e=_0x1d88bf,_0x30a21e=_0x5e720c[_0x2d370e(0x964)][_0x2d370e(0xa13)](_0x2d370e(0x394));_0x30a21e&&_0x30a21e[_0x2d370e(0x5a7)][_0x2d370e(0x2bd)](_0x2d370e(0x355));}),projectList['addEventListener'](_0x1d88bf(0x7da),_0x562e8e=>{const _0x229a83=_0x1d88bf;_0x562e8e[_0x229a83(0x1a4)]();const _0xb270c4=document['querySelector'](_0x229a83(0xc6b));if(!_0xb270c4)return;const _0x3558cb=getDragAfterElement(projectList,_0x562e8e[_0x229a83(0x1d6)]);_0x3558cb==null?projectList[_0x229a83(0x5b9)](_0xb270c4):projectList[_0x229a83(0x3ea)](_0xb270c4,_0x3558cb);}),projectList[_0x1d88bf(0x8c1)](_0x1d88bf(0x9e1),_0x5c0ccc=>{const _0x33a92e=_0x1d88bf;_0x5c0ccc['preventDefault']();const _0x1ad491=[...projectList[_0x33a92e(0x468)](_0x33a92e(0xa9d))]['map'](_0x3e4dbe=>_0x3e4dbe[_0x33a92e(0xc05)]['id']);saveProjectOrder(_0x1ad491);});function renderBehaviorLog(_0x2c7785){const _0x1ee9fb=_0x1d88bf,_0x1cb640=document[_0x1ee9fb(0x9bf)](_0x1ee9fb(0xba2));if(!_0x1cb640)return;const _0x52c290=_0x2c7785[_0x1ee9fb(0x408)](_0x35ce64=>_0x35ce64[_0x1ee9fb(0x744)]&&_0x35ce64['behaviorLog'][_0x1ee9fb(0x9dc)]>0x0);if(_0x52c290[_0x1ee9fb(0x9dc)]===0x0){_0x1cb640[_0x1ee9fb(0x6b3)]=_0x1ee9fb(0x92c);return;}let _0xfce59f='';_0x52c290[_0x1ee9fb(0xb2a)](_0x271f8e=>{const _0x44d054=_0x1ee9fb;_0xfce59f+=_0x44d054(0x2ce)+_0x271f8e[_0x44d054(0x7ed)]+_0x44d054(0x62c),_0x271f8e['behaviorLog'][_0x44d054(0x79f)]((_0x44fece,_0x355b84)=>new Date(_0x355b84[_0x44d054(0x95a)])-new Date(_0x44fece[_0x44d054(0x95a)]))['forEach'](_0x569387=>{const _0xa54da0=_0x44d054,_0x4a1601=new Date(_0x569387[_0xa54da0(0x95a)])[_0xa54da0(0xb58)](_0xa54da0(0xb25),{'dateStyle':'short','timeStyle':'medium'});_0xfce59f+=_0xa54da0(0x64e)+_0x569387[_0xa54da0(0xbd9)]+_0xa54da0(0xb29)+_0x4a1601+_0xa54da0(0x55e);}),_0xfce59f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1cb640['innerHTML']=_0xfce59f;}function getDragAfterElement(_0x4c7a45,_0x4981be){const _0x2fafc4=_0x1d88bf,_0x4a12f9=[..._0x4c7a45[_0x2fafc4(0x468)]('.project-card-container:not(.opacity-50)')];return _0x4a12f9[_0x2fafc4(0x9f5)]((_0x5efb85,_0x54060f)=>{const _0x3b2849=_0x2fafc4,_0x4e610e=_0x54060f[_0x3b2849(0x8af)](),_0x2cd1db=_0x4981be-_0x4e610e[_0x3b2849(0xb73)]-_0x4e610e[_0x3b2849(0xb89)]/0x2;return _0x2cd1db<0x0&&_0x2cd1db>_0x5efb85[_0x3b2849(0x491)]?{'offset':_0x2cd1db,'element':_0x54060f}:_0x5efb85;},{'offset':Number['NEGATIVE_INFINITY']})[_0x2fafc4(0x325)];}async function saveProjectOrder(_0x24ba9e){const _0x5b2151=_0x1d88bf,_0x2b2b28=doc(db,'globalSettings',_0x5b2151(0xa2a));try{await setDoc(_0x2b2b28,{'projectOrder':_0x24ba9e},{'merge':!![]});}catch(_0x123c71){console[_0x5b2151(0x56e)]('Error\x20saving\x20project\x20order:',_0x123c71),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x18b42e,_0x2e794e={}){const _0x587557=_0x1d88bf;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x587557(0x1f4)](_0x587557(0x8c0));return;}const _0x47f864=doc(db,'artifacts/'+appId+_0x587557(0xb14)+currentQuizData['id']+'/submissions',currentStudentName),_0x1b0f35={'event':_0x18b42e,'timestamp':new Date()[_0x587557(0x7c9)](),..._0x2e794e};try{await updateDoc(_0x47f864,{'behaviorLog':arrayUnion(_0x1b0f35)}),console[_0x587557(0xc30)](_0x587557(0x72d)+currentStudentName+'\x20สำเร็จ');}catch(_0x4b33dd){_0x4b33dd[_0x587557(0xa90)]===_0x587557(0x56d)?console[_0x587557(0x1f4)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x587557(0x70d)):console[_0x587557(0x56e)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x4b33dd);}}function calculateMeanAndStdDev(_0x90daf9){const _0x131084=_0x1d88bf;if(_0x90daf9[_0x131084(0x9dc)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2fb468=_0x90daf9[_0x131084(0x9f5)]((_0x3376d9,_0x3af8cc)=>_0x3376d9+_0x3af8cc,0x0)/_0x90daf9[_0x131084(0x9dc)];if(_0x90daf9[_0x131084(0x9dc)]===0x1)return{'mean':_0x2fb468,'stdDev':0x0};const _0x18f024=Math[_0x131084(0x4c3)](_0x90daf9[_0x131084(0x2b5)](_0x5446d4=>Math['pow'](_0x5446d4-_0x2fb468,0x2))[_0x131084(0x9f5)]((_0x55a4f2,_0x16f634)=>_0x55a4f2+_0x16f634,0x0)/(_0x90daf9[_0x131084(0x9dc)]-0x1));return{'mean':_0x2fb468,'stdDev':_0x18f024};}function calculateZScore(_0x11440e,_0x2941bf,_0x2de505){if(_0x2de505===0x0)return 0x0;return(_0x11440e-_0x2941bf)/_0x2de505;}function calculateTScore(_0x45c6db){return 0xa*_0x45c6db+0x32;}function showStarredProjectView(){const _0x2f3f1d=_0x1d88bf;currentProjectId=_0x2f3f1d(0x1f1),currentProjectData=null,projectTitle[_0x2f3f1d(0xa9a)]=_0x2f3f1d(0xb98),projectIdDisplay[_0x2f3f1d(0xa9a)]=_0x2f3f1d(0x1e0),showView(_0x2f3f1d(0xb9c)),manageTab[_0x2f3f1d(0x5a7)]['add'](_0x2f3f1d(0x8da)),leaderboardTab[_0x2f3f1d(0x5a7)][_0x2f3f1d(0x3b1)]('hidden'),switchProjectTab(_0x2f3f1d(0x82f)),renderQuizzes();}async function loadProjectDetails(_0x5582d9){const _0x1c1b18=_0x1d88bf,_0x18b909=doc(db,'artifacts/'+appId+_0x1c1b18(0x433),_0x5582d9),_0x28423f=await getDoc(_0x18b909);if(_0x28423f['exists']()){manageTab[_0x1c1b18(0x5a7)][_0x1c1b18(0x2bd)](_0x1c1b18(0x8da)),leaderboardTab[_0x1c1b18(0x5a7)][_0x1c1b18(0x2bd)](_0x1c1b18(0x8da)),currentProjectData=_0x28423f[_0x1c1b18(0x7bb)](),projectTitle[_0x1c1b18(0xa9a)]=currentProjectData['projectName'],projectIdDisplay[_0x1c1b18(0xa9a)]=_0x5582d9;const _0x3032a9=currentProjectData[_0x1c1b18(0x3ad)]||{};document['getElementById']('shuffle-setting-select')[_0x1c1b18(0xb00)]=_0x3032a9['shuffleSetting']||_0x1c1b18(0x44e);const _0x3574ad=document[_0x1c1b18(0x9bf)](_0x1c1b18(0x5f2));_0x3574ad[_0x1c1b18(0xc13)]=_0x3032a9[_0x1c1b18(0x2c0)]!==![];const _0x3d8368=document[_0x1c1b18(0x9bf)]('enable-passcode-checkbox'),_0x4e0756=document[_0x1c1b18(0x9bf)](_0x1c1b18(0x209)),_0x14ea43=document[_0x1c1b18(0x9bf)](_0x1c1b18(0x6c1)),_0x5b536a=_0x3032a9[_0x1c1b18(0x467)]||![];_0x3d8368[_0x1c1b18(0xc13)]=_0x5b536a,_0x14ea43[_0x1c1b18(0xb00)]=_0x3032a9[_0x1c1b18(0x9fe)]||'',_0x4e0756[_0x1c1b18(0x5a7)][_0x1c1b18(0x372)]('hidden',!_0x5b536a),_0x3d8368[_0x1c1b18(0x7e5)]=()=>{const _0x18df06=_0x1c1b18;_0x4e0756[_0x18df06(0x5a7)][_0x18df06(0x372)](_0x18df06(0x8da),!_0x3d8368[_0x18df06(0xc13)]);},document[_0x1c1b18(0x9bf)](_0x1c1b18(0xb17))[_0x1c1b18(0xc13)]=_0x3032a9[_0x1c1b18(0x85b)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5582d9),listenForProjectQuizzes(_0x5582d9),listenForStudentProfiles(_0x5582d9);}else showMessage(_0x1c1b18(0x67d)),showView(_0x1c1b18(0x587));}async function handleResetProjectOrder(){const _0x4ea80d=_0x1d88bf,_0x4c393c=doc(db,_0x4ea80d(0xb35),_0x4ea80d(0xa2a));try{await setDoc(_0x4c393c,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4ea80d(0x910));}catch(_0x5b779c){console['error'](_0x4ea80d(0xb53),_0x5b779c),showMessage(_0x4ea80d(0x5b4));}}async function handleTogglePinProject(_0x2d91da){const _0x5b3658=_0x1d88bf;if(!_0x2d91da)return;const _0x481c69=doc(db,_0x5b3658(0x30c)+appId+_0x5b3658(0x433),_0x2d91da);try{const _0x29f337=await getDoc(_0x481c69);if(_0x29f337[_0x5b3658(0xb67)]()){const _0x1fb61f=_0x29f337['data']()[_0x5b3658(0x777)]||![];await updateDoc(_0x481c69,{'isPinned':!_0x1fb61f});}}catch(_0x12de02){console[_0x5b3658(0x56e)](_0x5b3658(0x572),_0x12de02),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x36b0e0){const _0x442952=_0x1d88bf;try{const _0x5efd59=writeBatch(db),_0x217506=collection(db,_0x442952(0x30c)+appId+_0x442952(0x289)),_0x15674c=query(_0x217506,where(_0x442952(0xb16),'==',_0x36b0e0)),_0x373e45=await getDocs(_0x15674c);for(const _0x373d93 of _0x373e45[_0x442952(0xa78)]){const _0x1310d8=collection(db,_0x442952(0x30c)+appId+_0x442952(0xb14)+_0x373d93['id']+_0x442952(0x472)),_0x52bbc4=await getDocs(_0x1310d8);_0x52bbc4[_0x442952(0xb2a)](_0x258a48=>{const _0xbcca8f=_0x442952;_0x5efd59['delete'](_0x258a48[_0xbcca8f(0x1b3)]);}),_0x5efd59[_0x442952(0x779)](_0x373d93[_0x442952(0x1b3)]);}const _0x511de2=collection(db,_0x442952(0x30c)+appId+_0x442952(0x906)+_0x36b0e0+_0x442952(0x65e)),_0x3505a9=await getDocs(_0x511de2);_0x3505a9['forEach'](_0x365b6e=>{const _0x1bf762=_0x442952;_0x5efd59['delete'](_0x365b6e[_0x1bf762(0x1b3)]);});const _0x14f875=doc(db,_0x442952(0x30c)+appId+_0x442952(0x433),_0x36b0e0);_0x5efd59[_0x442952(0x779)](_0x14f875),await _0x5efd59[_0x442952(0x80a)](),showMessage(_0x442952(0x71f)),showView('admin-dashboard');}catch(_0x69a0e1){console['error'](_0x442952(0x278),_0x69a0e1),showMessage(_0x442952(0x2d5));}}document[_0x1d88bf(0x9bf)]('save-settings-btn')[_0x1d88bf(0x8c1)]('click',async()=>{const _0x1018de=_0x1d88bf;if(!currentProjectId)return;const _0x190d5b={'defaultNumQuestions':parseInt(document[_0x1018de(0x9bf)](_0x1018de(0xa0f))[_0x1018de(0xb00)]),'defaultNumChoices':parseInt(document[_0x1018de(0x9bf)](_0x1018de(0x529))[_0x1018de(0xb00)]),'defaultPassingScore':parseInt(document[_0x1018de(0x9bf)](_0x1018de(0xd05))['value']),'resultsDisplay':document[_0x1018de(0x9bf)](_0x1018de(0xcee))[_0x1018de(0xb00)],'shuffleSetting':document['getElementById']('shuffle-setting-select')[_0x1018de(0xb00)],'timerMode':document['getElementById'](_0x1018de(0x40c))[_0x1018de(0xb00)],'timerDuration':parseInt(document[_0x1018de(0x9bf)](_0x1018de(0x3e5))[_0x1018de(0xb00)]),'isConfidenceScoringEnabled':document[_0x1018de(0x9bf)]('confidence-scoring-checkbox')[_0x1018de(0xc13)],'confidenceMode':document[_0x1018de(0x9bf)]('confidence-mode-select')[_0x1018de(0xb00)]};try{const _0xf4407d=doc(db,'artifacts/'+appId+_0x1018de(0x433),currentProjectId);await updateDoc(_0xf4407d,{'settings':_0x190d5b}),showMessage(_0x1018de(0x4db));}catch(_0x1e0a26){console['error']('Error\x20saving\x20settings:',_0x1e0a26),showMessage(_0x1018de(0x41f));}});function listenForStudents(_0x26c442){const _0x1b72c8=_0x1d88bf,_0xf14343=doc(db,_0x1b72c8(0x30c)+appId+_0x1b72c8(0x433),_0x26c442);unsubscribeStudentsListener=onSnapshot(_0xf14343,_0x5c5380=>{const _0x3f5489=_0x1b72c8;if(_0x5c5380[_0x3f5489(0xb67)]()){const _0xd9b89f=_0x5c5380[_0x3f5489(0x7bb)]();currentProjectData=_0xd9b89f,renderStudentList(_0xd9b89f[_0x3f5489(0xa64)]||[]);}});}function renderStudentList(_0x5c4275){const _0x398180=_0x1d88bf,_0x1b0201=document[_0x398180(0x9bf)](_0x398180(0x71e));_0x5c4275[_0x398180(0x9dc)]===0x0?(studentList[_0x398180(0x6b3)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x1b0201[_0x398180(0x5a7)][_0x398180(0x3b1)](_0x398180(0x8da))):(studentList[_0x398180(0x6b3)]=_0x5c4275[_0x398180(0x2b5)](_0x55f28d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x55f28d+_0x398180(0x81c)+_0x55f28d+_0x398180(0x9f1))[_0x398180(0x77f)](''),_0x1b0201[_0x398180(0x5a7)][_0x398180(0x2bd)](_0x398180(0x8da)));}document[_0x1d88bf(0x9bf)](_0x1d88bf(0x52d))[_0x1d88bf(0x8c1)]('click',async()=>{const _0x402647=_0x1d88bf;if(!currentProjectId)return;const _0x2d8ec9=document[_0x402647(0x9bf)]('student-name-input'),_0x25a05b=_0x2d8ec9['value'][_0x402647(0xb22)]();if(!_0x25a05b){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x16dc37=_0x25a05b[_0x402647(0xb46)]('\x0a')[_0x402647(0x2b5)](_0x4e7ac8=>_0x4e7ac8['trim']())[_0x402647(0x408)](_0x31f062=>_0x31f062);if(_0x16dc37[_0x402647(0x9dc)]===0x0)return;try{const _0x5279a5=doc(db,_0x402647(0x30c)+appId+_0x402647(0x433),currentProjectId),_0x279652=await getDoc(_0x5279a5);if(_0x279652[_0x402647(0xb67)]()){const _0x3d6d93=_0x279652[_0x402647(0x7bb)]()[_0x402647(0xa64)]||[],_0x35aaf8=[...new Set([..._0x3d6d93,..._0x16dc37])];await updateDoc(_0x5279a5,{'students':_0x35aaf8}),_0x2d8ec9[_0x402647(0xb00)]='';}}catch(_0x28926a){console['error']('Error\x20adding\x20students:',_0x28926a),showMessage(_0x402647(0x678));}});async function handleManualQuizPairing(_0x507192){const _0x1ae25a=_0x1d88bf,_0x7d9da3=document[_0x1ae25a(0x9bf)](_0x1ae25a(0x5d4)),_0x580bb4=document[_0x1ae25a(0x9bf)]('move-quiz-project-select'),_0x1fd5b2=_0x7d9da3[_0x1ae25a(0x583)]('h3'),_0x5e4964=document['getElementById']('confirm-move-quiz-btn'),_0x456824=document[_0x1ae25a(0x9bf)](_0x1ae25a(0x307));_0x1fd5b2['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x580bb4['innerHTML']=_0x1ae25a(0x42a),_0x5e4964[_0x1ae25a(0xa9a)]=_0x1ae25a(0xc93),_0x7d9da3[_0x1ae25a(0x5a7)][_0x1ae25a(0x2bd)](_0x1ae25a(0x8da));const _0x59524c=allQuizzes[_0x1ae25a(0x408)](_0x895a93=>_0x895a93['id']!==_0x507192);_0x59524c[_0x1ae25a(0x9dc)]===0x0?(_0x580bb4[_0x1ae25a(0x6b3)]=_0x1ae25a(0x67f),_0x5e4964[_0x1ae25a(0x6d3)]=!![]):(_0x580bb4[_0x1ae25a(0x6b3)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x59524c[_0x1ae25a(0x2b5)](_0x2f8e29=>_0x1ae25a(0x78c)+_0x2f8e29['id']+'\x22>'+_0x2f8e29['topic']+'</option>')[_0x1ae25a(0x77f)](''),_0x5e4964['disabled']=![]);const _0x355682=async()=>{const _0x2d4506=_0x1ae25a,_0x5cb148=_0x580bb4[_0x2d4506(0xb00)];if(!_0x5cb148){showMessage(_0x2d4506(0xad1));return;}_0x5e4964['disabled']=!![],_0x5e4964[_0x2d4506(0xa9a)]='กำลังจับคู่...';try{const _0x1eafe0=doc(db,_0x2d4506(0x30c)+appId+_0x2d4506(0x289),_0x507192),_0x3d86ef=doc(db,_0x2d4506(0x30c)+appId+_0x2d4506(0x289),_0x5cb148),_0x46e9ec=writeBatch(db);_0x46e9ec[_0x2d4506(0x293)](_0x1eafe0,{'pairedQuizId':_0x5cb148}),_0x46e9ec[_0x2d4506(0x293)](_0x3d86ef,{'pairedQuizId':_0x507192}),await _0x46e9ec[_0x2d4506(0x80a)](),showMessage(_0x2d4506(0xb92)),_0x7d9da3[_0x2d4506(0x5a7)][_0x2d4506(0x3b1)](_0x2d4506(0x8da));}catch(_0xb01021){console['error']('Error\x20pairing\x20quizzes:',_0xb01021),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x1fd5b2[_0x2d4506(0xa9a)]=_0x2d4506(0x5d1),_0x5e4964[_0x2d4506(0xa9a)]=_0x2d4506(0x30a),_0x5e4964['disabled']=![],_0x5e4964['removeEventListener'](_0x2d4506(0x7c2),_0x355682),_0x456824[_0x2d4506(0x930)](_0x2d4506(0x7c2),_0x33c497);}},_0x33c497=()=>{const _0x302c3e=_0x1ae25a;_0x7d9da3['classList'][_0x302c3e(0x3b1)](_0x302c3e(0x8da)),_0x1fd5b2[_0x302c3e(0xa9a)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5e4964[_0x302c3e(0xa9a)]=_0x302c3e(0x30a),_0x5e4964[_0x302c3e(0x930)](_0x302c3e(0x7c2),_0x355682),_0x456824[_0x302c3e(0x930)]('click',_0x33c497);};_0x5e4964['addEventListener'](_0x1ae25a(0x7c2),_0x355682),_0x456824[_0x1ae25a(0x8c1)](_0x1ae25a(0x7c2),_0x33c497);}function handleDeleteStudent(_0x4e84c1){const _0x5ae78e=_0x1d88bf;showConfirmation(_0x5ae78e(0x647)+_0x4e84c1+_0x5ae78e(0xa34),async()=>{const _0x494ed0=_0x5ae78e;if(!currentProjectId||!currentProjectData)return;const _0x47a103=currentProjectData[_0x494ed0(0xa64)][_0x494ed0(0x408)](_0x391427=>_0x391427!==_0x4e84c1);try{const _0x4e013b=doc(db,_0x494ed0(0x30c)+appId+'/public/data/projects',currentProjectId),_0x2f01a9=doc(db,_0x494ed0(0x30c)+appId+_0x494ed0(0x906)+currentProjectId+_0x494ed0(0x65e),_0x4e84c1),_0x20358e=writeBatch(db);_0x20358e[_0x494ed0(0x293)](_0x4e013b,{'students':_0x47a103}),_0x20358e[_0x494ed0(0x779)](_0x2f01a9),await _0x20358e[_0x494ed0(0x80a)]();}catch(_0x5d2766){console['error'](_0x494ed0(0x2d0),_0x5d2766),showMessage(_0x494ed0(0x42f));}});}function handleDeleteAllStudents(){const _0x12854c=_0x1d88bf;showConfirmation(_0x12854c(0xb07),async()=>{const _0x2c1b18=_0x12854c;if(!currentProjectId)return;try{const _0x47de4c=doc(db,_0x2c1b18(0x30c)+appId+_0x2c1b18(0x433),currentProjectId),_0x36d18b=collection(db,_0x2c1b18(0x30c)+appId+_0x2c1b18(0x906)+currentProjectId+'/studentProfiles'),_0x485493=await getDocs(_0x36d18b),_0x2981fe=writeBatch(db);_0x2981fe[_0x2c1b18(0x293)](_0x47de4c,{'students':[]}),_0x485493[_0x2c1b18(0xb2a)](_0x3031e7=>_0x2981fe[_0x2c1b18(0x779)](_0x3031e7[_0x2c1b18(0x1b3)])),await _0x2981fe[_0x2c1b18(0x80a)]();}catch(_0x3224c3){console[_0x2c1b18(0x56e)](_0x2c1b18(0x339),_0x3224c3),showMessage(_0x2c1b18(0x539));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x4fe9e9){const _0x40b850=_0x1d88bf,_0x53150b=document[_0x40b850(0x9bf)](_0x40b850(0x440)),_0x338c3b=document[_0x40b850(0x9bf)](_0x40b850(0x1e3));_0x53150b[_0x40b850(0x5a7)][_0x40b850(0x2bd)]('hidden'),_0x338c3b['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x3548e3=new FileReader();_0x3548e3[_0x40b850(0x7a1)](_0x4fe9e9),await new Promise((_0x4c76cb,_0x5a10b0)=>{const _0x1f2bef=_0x40b850;_0x3548e3['onload']=()=>{const _0x49490b=_0x5713;fileDataBase64=_0x3548e3[_0x49490b(0x618)][_0x49490b(0xb46)](',')[0x1],fileMimeType=_0x4fe9e9[_0x49490b(0x397)],_0x4c76cb();},_0x3548e3[_0x1f2bef(0x1c7)]=_0xdc97c5=>_0x5a10b0(_0xdc97c5);});if(!fileDataBase64)throw new Error(_0x40b850(0x242));const _0x5cf365=_0x40b850(0x3e0),_0x209188={'type':_0x40b850(0xca7),'properties':{'topics':{'type':_0x40b850(0xaee),'items':{'type':_0x40b850(0x27b)}}},'required':[_0x40b850(0xaa9)]},_0x5b8637=[{'text':_0x5cf365},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x36c45c=await handleApiCall(_0x5b8637,_0x40b850(0x8f4),_0x209188,null,![]);if(_0x36c45c&&_0x36c45c[_0x40b850(0xaa9)])extractedFileTopics=_0x36c45c['topics'],renderFileTopics();else throw new Error(_0x40b850(0x7b5));}catch(_0x118e84){console[_0x40b850(0x56e)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x118e84),_0x338c3b[_0x40b850(0x6b3)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20'+_0x118e84[_0x40b850(0x68b)]+_0x40b850(0xbab);}}function renderFileTopics(){const _0x4530e2=_0x1d88bf,_0x3bbb5b=document[_0x4530e2(0x9bf)](_0x4530e2(0x1e3));if(extractedFileTopics[_0x4530e2(0x9dc)]===0x0){_0x3bbb5b[_0x4530e2(0x6b3)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x3bbb5b['innerHTML']=extractedFileTopics[_0x4530e2(0x2b5)](_0x19a1d1=>_0x4530e2(0xa4e)+_0x19a1d1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x19a1d1)+_0x4530e2(0xc0d)+escape(_0x19a1d1)+_0x4530e2(0x2aa))[_0x4530e2(0x77f)]('');}async function generateHybridQuizForTopic(_0x2a3547){const _0x1c86b6=_0x1d88bf,_0x266a51=parseInt(document[_0x1c86b6(0x9bf)](_0x1c86b6(0xa0f))['value'],0xa),_0x54d84a=document[_0x1c86b6(0x9bf)]('quiz-type-select')[_0x1c86b6(0xb00)],_0x57be65=document[_0x1c86b6(0x9bf)](_0x1c86b6(0x529))[_0x1c86b6(0xb00)],_0x5d8a72=document[_0x1c86b6(0x9bf)](_0x1c86b6(0x885))[_0x1c86b6(0xc13)],_0x77ee0b=_0x5d8a72?_0x1c86b6(0x53b):_0x1c86b6(0xb91);let _0x512fb6='',_0x3ffd4a;const _0x305bea={'type':_0x1c86b6(0xca7),'properties':{'questionText':{'type':_0x1c86b6(0x27b)},'options':{'type':_0x1c86b6(0xaee),'items':{'type':_0x1c86b6(0x27b)}},'correctAnswerIndex':{'type':_0x1c86b6(0x76a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1c86b6(0x27b)}},'required':[_0x1c86b6(0x3ab),_0x1c86b6(0x69b),_0x1c86b6(0xcf3),_0x1c86b6(0x989)]},_0x533714={'type':'OBJECT','properties':{'questionText':{'type':_0x1c86b6(0x27b)},'correctAnswer':{'type':_0x1c86b6(0x5a0)},'explanation':{'type':_0x1c86b6(0x27b)},'imageCode':{'type':_0x1c86b6(0x27b)}},'required':[_0x1c86b6(0x3ab),_0x1c86b6(0x661),'explanation']},_0x52b217={'type':_0x1c86b6(0xca7),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1c86b6(0x27b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1c86b6(0x27b)}},'required':[_0x1c86b6(0x3ab),'idealAnswer',_0x1c86b6(0x989)]},_0x286a43={'type':_0x1c86b6(0xca7),'properties':{'questionType':{'type':_0x1c86b6(0x27b),'enum':['matching_item']},'stem':{'type':_0x1c86b6(0x27b)},'correctResponse':{'type':_0x1c86b6(0x27b)},'allResponses':{'type':_0x1c86b6(0xaee),'items':{'type':_0x1c86b6(0x27b)}},'explanation':{'type':_0x1c86b6(0x27b)},'imageCode':{'type':'STRING'}},'required':[_0x1c86b6(0xa42),'stem',_0x1c86b6(0x1db),_0x1c86b6(0x783),_0x1c86b6(0x989)]};switch(_0x54d84a){case _0x1c86b6(0xa01):_0x512fb6=_0x1c86b6(0x831)+_0x57be65+_0x1c86b6(0x8df),_0x3ffd4a=_0x305bea;break;case'true_false':_0x512fb6='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x3ffd4a=_0x533714;break;case _0x1c86b6(0x761):_0x512fb6=_0x1c86b6(0x4f1),_0x3ffd4a=_0x52b217;break;case _0x1c86b6(0x817):_0x512fb6=_0x1c86b6(0x54d),_0x3ffd4a=_0x286a43;break;case _0x1c86b6(0xaa4):_0x512fb6='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x57be65+_0x1c86b6(0x8df),_0x3ffd4a=_0x305bea;break;default:_0x512fb6=_0x1c86b6(0x831)+_0x57be65+'\x20ตัวเลือก)',_0x3ffd4a=_0x305bea;break;}const _0x4a791d=_0x1c86b6(0xb02),_0x3ec8ac=document[_0x1c86b6(0x9bf)](_0x1c86b6(0x91e)),_0x38a104=document[_0x1c86b6(0x9bf)](_0x1c86b6(0xc09)),_0x5895b4=document[_0x1c86b6(0x9bf)]('generated-quiz-container');document[_0x1c86b6(0x9bf)](_0x1c86b6(0xa5f))[_0x1c86b6(0x5a7)][_0x1c86b6(0x2bd)](_0x1c86b6(0x8da)),_0x5895b4['innerHTML']='',_0x3ec8ac[_0x1c86b6(0x5a7)][_0x1c86b6(0x2bd)](_0x1c86b6(0x8da)),_0x38a104[_0x1c86b6(0xa9a)]=_0x1c86b6(0x421)+_0x2a3547+_0x1c86b6(0xc04)+_0x266a51+_0x1c86b6(0x968);try{const _0x3893a8='\x20**[กฎเพิ่มเติมที่สำคัญที่สุด]:**\x20ต้องเน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET',_0x4f8db9=_0x1c86b6(0xa46)+_0x2a3547+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x266a51+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x2a3547+_0x1c86b6(0x695)+_0x266a51+_0x1c86b6(0x86a)+_0x77ee0b+_0x1c86b6(0x6cf)+_0x512fb6+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x4a791d+_0x1c86b6(0x6f3)+_0x3893a8+_0x1c86b6(0x422)+simpleMathPrompt+_0x1c86b6(0x566),_0x151114={'type':_0x1c86b6(0xca7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1c86b6(0xaee),'items':_0x3ffd4a}},'required':[_0x1c86b6(0x6f8),_0x1c86b6(0xcaf)]},_0x151489=[{'text':_0x4f8db9},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x151489,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x2a3547+_0x1c86b6(0xc7d),_0x151114);}catch(_0x551556){console[_0x1c86b6(0x56e)](_0x1c86b6(0xafd),_0x551556),showMessage(_0x1c86b6(0x96a)+_0x551556['message']),_0x5895b4[_0x1c86b6(0x6b3)]=_0x1c86b6(0x5c5);}finally{_0x3ec8ac['classList']['add'](_0x1c86b6(0x8da));}}async function handleGenerateFromFileClick(){const _0x3b410e=_0x1d88bf;if(!selectedFile){showMessage(_0x3b410e(0x5e5));return;}const _0x2cbd27=document[_0x3b410e(0x9bf)](_0x3b410e(0x91e)),_0x2402c4=document['getElementById']('loader-text'),_0x2d8eee=document['getElementById'](_0x3b410e(0x59f)),_0x59e6ea=document[_0x3b410e(0x9bf)](_0x3b410e(0xbeb));_0x59e6ea[_0x3b410e(0x6d3)]=!![],document[_0x3b410e(0x9bf)]('quiz-generation-area')[_0x3b410e(0x5a7)][_0x3b410e(0x2bd)]('hidden'),_0x2d8eee['innerHTML']='',_0x2cbd27[_0x3b410e(0x5a7)][_0x3b410e(0x2bd)](_0x3b410e(0x8da)),_0x2402c4[_0x3b410e(0xa9a)]=_0x3b410e(0x250);try{const _0x58fd9e=await new Promise((_0x307133,_0x28a4af)=>{const _0x502f97=_0x3b410e,_0x2eed5b=new FileReader();_0x2eed5b[_0x502f97(0x7a1)](selectedFile),_0x2eed5b[_0x502f97(0x97a)]=()=>_0x307133(_0x2eed5b[_0x502f97(0x618)][_0x502f97(0xb46)](',')[0x1]),_0x2eed5b['onerror']=_0x588f93=>_0x28a4af(_0x588f93);});await generateQuizFromFile(selectedFile[_0x3b410e(0x397)],_0x58fd9e);}catch(_0x59330e){console[_0x3b410e(0x56e)]('Error\x20processing\x20file\x20for\x20AI:',_0x59330e),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x59330e['message']),_0x2cbd27[_0x3b410e(0x5a7)][_0x3b410e(0x3b1)](_0x3b410e(0x8da)),_0x59e6ea[_0x3b410e(0x6d3)]=![];}}function autoFormatMath(_0x4be5c6){const _0x4ee030=_0x1d88bf;if(typeof _0x4be5c6!=='string'||!_0x4be5c6)return _0x4be5c6;const _0x1273c9=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x56c972=_0x4be5c6[_0x4ee030(0xad8)](_0x1273c9,_0x4c1c6e=>{const _0x4f08be=_0x4ee030;return'$'+_0x4c1c6e[_0x4f08be(0xb22)]()+'$';});return _0x56c972;}function sanitizeQuizData(_0x58c6d6){const _0x4e597e=_0x1d88bf;if(!_0x58c6d6||!_0x58c6d6[_0x4e597e(0xcaf)])return _0x58c6d6;const _0x289939={'imes':'\x5ctimes','div':'\x5cdiv'},_0x57a5dd=_0x4313aa=>{const _0x415e16=_0x4e597e;if(typeof _0x4313aa!==_0x415e16(0x267))return _0x4313aa;let _0x66031e=_0x4313aa;for(const [_0x3aa9fa,_0x952bae]of Object[_0x415e16(0xb37)](_0x289939)){const _0xd9c1ea=new RegExp('\x5cb'+_0x3aa9fa+'\x5cb','g');_0x66031e=_0x66031e[_0x415e16(0xad8)](_0xd9c1ea,_0x952bae);}return _0x66031e=_0x66031e[_0x415e16(0xad8)](/\\\//g,_0x415e16(0x981)),_0x66031e=_0x66031e['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x415e16(0x981))[_0x415e16(0xad8)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x415e16(0xad8)](/÷/g,_0x415e16(0x981))['replace'](/×/g,_0x415e16(0x99b)),_0x66031e=_0x66031e[_0x415e16(0xad8)](/(\d)(\\frac)/g,_0x415e16(0x51f)),_0x66031e=autoFormatMath(_0x66031e),_0x66031e;};return _0x58c6d6['topic']&&(_0x58c6d6['topic']=_0x57a5dd(_0x58c6d6['topic'])),_0x58c6d6[_0x4e597e(0xcaf)][_0x4e597e(0xb2a)](_0x152a6e=>{const _0x93540f=_0x4e597e;_0x152a6e[_0x93540f(0x3ab)]=_0x57a5dd(_0x152a6e[_0x93540f(0x3ab)]),_0x152a6e[_0x93540f(0x69b)]&&(_0x152a6e[_0x93540f(0x69b)]=_0x152a6e['options'][_0x93540f(0x2b5)](_0x57a5dd)),_0x152a6e[_0x93540f(0x989)]&&(_0x152a6e[_0x93540f(0x989)]=_0x57a5dd(_0x152a6e[_0x93540f(0x989)])),_0x152a6e[_0x93540f(0xc5b)]&&(_0x152a6e[_0x93540f(0xc5b)]=_0x57a5dd(_0x152a6e['stem'])),_0x152a6e[_0x93540f(0x1db)]&&(_0x152a6e[_0x93540f(0x1db)]=_0x57a5dd(_0x152a6e[_0x93540f(0x1db)])),_0x152a6e['allResponses']&&(_0x152a6e[_0x93540f(0x783)]=_0x152a6e['allResponses'][_0x93540f(0x2b5)](_0x57a5dd));}),_0x58c6d6;}const simpleMathPrompt=_0x1d88bf(0x41a);async function handleGenerateFromLink(){const _0x22f295=_0x1d88bf,_0x21292e=document[_0x22f295(0x9bf)](_0x22f295(0x91a)),_0x14374a=document[_0x22f295(0x9bf)]('link-topic-input'),_0x2c2682=_0x21292e[_0x22f295(0xb00)][_0x22f295(0xb22)](),_0x403ee5=_0x14374a['value']['trim']();if(!_0x2c2682){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x11d73f=document[_0x22f295(0x9bf)](_0x22f295(0x91e)),_0x1120ea=document[_0x22f295(0x9bf)]('loader-text'),_0x557839=document['getElementById']('generated-quiz-container'),_0x3a5574=document[_0x22f295(0x9bf)](_0x22f295(0x356));document[_0x22f295(0x9bf)]('quiz-generation-area')['classList'][_0x22f295(0x2bd)](_0x22f295(0x8da)),_0x557839['innerHTML']='',_0x11d73f[_0x22f295(0x5a7)]['remove'](_0x22f295(0x8da)),_0x1120ea[_0x22f295(0xa9a)]=_0x22f295(0x2a7),_0x3a5574[_0x22f295(0x6d3)]=!![];try{const _0x36b096=_0x22f295(0x9f9)+encodeURIComponent(_0x2c2682),_0xf08580=await fetch(_0x36b096);if(!_0xf08580['ok'])throw new Error(_0x22f295(0x71a)+_0xf08580['status']+')');const _0x4ebbe6=await _0xf08580[_0x22f295(0xa95)](),_0xffbc3d=extractTextFromHtml(_0x4ebbe6);if(!_0xffbc3d||_0xffbc3d[_0x22f295(0x9dc)]<0x64)throw new Error(_0x22f295(0x19b));await generateQuiz(_0x403ee5,_0xffbc3d);}catch(_0x29835a){console[_0x22f295(0x56e)](_0x22f295(0xcec),_0x29835a),showMessage(_0x22f295(0x96a)+_0x29835a[_0x22f295(0x68b)]),_0x557839['innerHTML']=_0x22f295(0xb4c);}finally{_0x11d73f[_0x22f295(0x5a7)][_0x22f295(0x3b1)](_0x22f295(0x8da)),_0x3a5574['disabled']=![];}}function extractTextFromHtml(_0x33160b){const _0x1a2283=_0x1d88bf,_0x3483d9=new DOMParser()[_0x1a2283(0xc7a)](_0x33160b,_0x1a2283(0x77c));return _0x3483d9[_0x1a2283(0x468)](_0x1a2283(0x71d))['forEach'](_0x5283d7=>_0x5283d7['remove']()),_0x3483d9[_0x1a2283(0x7bf)][_0x1a2283(0xa9a)]||'';}document[_0x1d88bf(0x9bf)](_0x1d88bf(0x54a))[_0x1d88bf(0x8c1)](_0x1d88bf(0x7c2),()=>{const _0x5c5a14=_0x1d88bf,_0x221fa8=document[_0x5c5a14(0x9bf)](_0x5c5a14(0xa62))[_0x5c5a14(0xb00)][_0x5c5a14(0xb22)]();generateQuiz(_0x221fa8,null);}),document[_0x1d88bf(0x9bf)](_0x1d88bf(0x478))[_0x1d88bf(0x8c1)]('click',()=>{const _0x1ba826=_0x1d88bf,_0x24db36=document[_0x1ba826(0x9bf)](_0x1ba826(0x197))[_0x1ba826(0xb00)]['trim']();if(!_0x24db36){showMessage(_0x1ba826(0x3f1));return;}const _0x39f207=document[_0x1ba826(0x9bf)](_0x1ba826(0xa62))['value']['trim']();generateQuiz(_0x39f207,_0x24db36);});async function generateQuiz(_0x4306f0,_0x43b70a,_0x12dfa4=null,_0x34ab05=null,_0x22c390=![],_0xab530b=null,_0x352f39=null,_0x5e6971=![]){const _0x2917f5=_0x1d88bf;let _0x330d2e={};if(_0x22c390&&blueprintPageSettings)console[_0x2917f5(0xc30)](_0x2917f5(0x35c)),_0x330d2e=blueprintPageSettings;else{console[_0x2917f5(0xc30)]('Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.');const _0x57b1d8=document[_0x2917f5(0x468)](_0x2917f5(0xa70));_0x330d2e={'quizType':document[_0x2917f5(0x9bf)](_0x2917f5(0x2db))[_0x2917f5(0xb00)],'numQuestions':document['getElementById'](_0x2917f5(0xa0f))[_0x2917f5(0xb00)],'numChoices':document[_0x2917f5(0x9bf)](_0x2917f5(0x529))['value'],'includeImages':document['getElementById'](_0x2917f5(0x885))[_0x2917f5(0xc13)],'isNormalTopic':document[_0x2917f5(0x9bf)](_0x2917f5(0x775))[_0x2917f5(0xc13)],'difficultyValue':document[_0x2917f5(0x9bf)](_0x2917f5(0xb8f))[_0x2917f5(0xb00)],'complexityValue':document['getElementById'](_0x2917f5(0x599))[_0x2917f5(0xb00)],'selectedTopicNames':Array[_0x2917f5(0x788)](_0x57b1d8)[_0x2917f5(0x2b5)](_0x11a67b=>_0x11a67b['value'])};}const _0x2a5a3e=_0x330d2e[_0x2917f5(0x3c3)]?'':_0x2917f5(0x20b),_0x1c4c9e=_0x330d2e[_0x2917f5(0xa94)]!==_0x2917f5(0x6dc)?_0x2917f5(0x9bd)+_0x330d2e[_0x2917f5(0xa94)]+'\x22':'',_0x112287=_0x330d2e['complexityValue']!==_0x2917f5(0xcbe)?_0x2917f5(0x377)+_0x330d2e[_0x2917f5(0x5bb)]+_0x2917f5(0xa51):'';let _0x2032fb='';_0x330d2e[_0x2917f5(0x6d0)]&&_0x330d2e[_0x2917f5(0x6d0)][_0x2917f5(0x9dc)]>0x0&&(_0x2032fb=_0x2917f5(0x258)+_0x330d2e['selectedTopicNames'][_0x2917f5(0x77f)](',\x20')+'.');let _0x149af7='';_0x34ab05&&(_0x149af7=_0x2917f5(0x20e));let _0xd3c3b1='',_0x453324='',_0x154ee7,_0x1bb4bb=_0x2917f5(0x8ab)+_0x4306f0+'\x22';if(!_0x4306f0&&_0x43b70a)_0x1bb4bb='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x4306f0&&!_0x43b70a&&(_0x1bb4bb=_0x2917f5(0x4aa));const _0x53c1c5={'type':'OBJECT','properties':{'questionText':{'type':_0x2917f5(0x27b)},'options':{'type':'ARRAY','items':{'type':_0x2917f5(0x27b)}},'correctAnswerIndex':{'type':_0x2917f5(0x76a)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2917f5(0x69b),'correctAnswerIndex',_0x2917f5(0x989)]},_0x4d18d6={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x2917f5(0x27b)},'explanation':{'type':_0x2917f5(0x27b)},'imageCode':{'type':'STRING'}},'required':[_0x2917f5(0x3ab),_0x2917f5(0x549),'explanation']},_0x9f12a2={'type':_0x2917f5(0xca7),'properties':{'questionText':{'type':_0x2917f5(0x27b)},'questionType':{'type':_0x2917f5(0x27b),'enum':[_0x2917f5(0xa01),_0x2917f5(0x7ff)]},'options':{'type':_0x2917f5(0xaee),'items':{'type':_0x2917f5(0x27b)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2917f5(0x27b)},'explanation':{'type':_0x2917f5(0x27b)},'imageCode':{'type':'STRING'}},'required':[_0x2917f5(0x3ab),_0x2917f5(0xa42),_0x2917f5(0x989)]},_0x44889e={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x2917f5(0x5a0)},'explanation':{'type':_0x2917f5(0x27b)},'imageCode':{'type':_0x2917f5(0x27b)}},'required':[_0x2917f5(0x3ab),_0x2917f5(0x661),_0x2917f5(0x989)]},_0x2ea099={'type':_0x2917f5(0xca7),'properties':{'questionType':{'type':'STRING','enum':[_0x2917f5(0x8ad)]},'stem':{'type':_0x2917f5(0x27b)},'correctResponse':{'type':_0x2917f5(0x27b)},'allResponses':{'type':_0x2917f5(0xaee),'items':{'type':_0x2917f5(0x27b)}},'explanation':{'type':_0x2917f5(0x27b)},'imageCode':{'type':'STRING'}},'required':[_0x2917f5(0xa42),'stem','correctResponse',_0x2917f5(0x783),_0x2917f5(0x989)]};let _0xc8f6cf;if(_0x12dfa4!==null){const _0x4428f4=currentQuizData[_0x2917f5(0xcaf)][_0x12dfa4][_0x2917f5(0xa42)],_0x46c456=_0x330d2e[_0x2917f5(0xb7f)]?_0x2917f5(0x48f):'';_0xd3c3b1='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x1bb4bb+'\x20'+_0x2032fb+'\x20'+_0x1c4c9e+_0x2917f5(0xa4a)+_0x46c456+'\x20'+simpleMathPrompt;if(_0x4428f4===_0x2917f5(0xa01))_0x154ee7=_0x53c1c5;else{if(_0x4428f4===_0x2917f5(0x8ad))_0x154ee7={'type':_0x2917f5(0xca7),'properties':{'questionType':{'type':_0x2917f5(0x27b),'enum':[_0x2917f5(0x8ad)]},'stem':{'type':_0x2917f5(0x27b)},'correctResponse':{'type':_0x2917f5(0x27b)},'explanation':{'type':_0x2917f5(0x27b)},'imageCode':{'type':_0x2917f5(0x27b)}},'required':[_0x2917f5(0xa42),_0x2917f5(0xc5b),_0x2917f5(0x1db),'explanation']};else _0x154ee7=_0x4d18d6;}_0xc8f6cf=_0x154ee7;}else{const _0x451184=_0x330d2e[_0x2917f5(0xb7f)]?_0x2917f5(0x2f2):'';switch(_0x330d2e[_0x2917f5(0x854)]){case _0x2917f5(0xa01):_0xd3c3b1='สร้างแบบทดสอบปรนัย'+_0x2a5a3e+'\x20'+_0x330d2e[_0x2917f5(0xce6)]+_0x2917f5(0x3b5)+_0x1bb4bb+'\x20'+_0x2032fb+'\x20'+_0x1c4c9e+'\x20'+_0x112287+'\x20'+_0x149af7+_0x2917f5(0x69f)+_0x330d2e[_0x2917f5(0x277)]+_0x2917f5(0x332)+_0x451184+'\x20'+simpleMathPrompt,_0x154ee7=_0x53c1c5;break;case _0x2917f5(0xaa4):_0xd3c3b1=_0x2917f5(0x4c5)+_0x2a5a3e+'\x20'+_0x330d2e[_0x2917f5(0xce6)]+'\x20ข้อ\x20'+_0x1bb4bb+'\x20'+_0x2032fb+'\x20'+_0x1c4c9e+'\x20'+_0x112287+'\x20'+_0x149af7+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x330d2e['numChoices']+_0x2917f5(0xc49)+_0x451184+'\x20'+simpleMathPrompt,_0x154ee7=_0x53c1c5;break;case'fill_in_no_choices':_0xd3c3b1='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2a5a3e+'\x20'+_0x330d2e[_0x2917f5(0xce6)]+'\x20ข้อ\x20'+_0x1bb4bb+'\x20'+_0x2032fb+'\x20'+_0x1c4c9e+'\x20'+_0x112287+'\x20'+_0x149af7+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x451184+'\x20'+simpleMathPrompt,_0x154ee7=_0x4d18d6;break;case _0x2917f5(0xcbe):_0xd3c3b1=_0x2917f5(0x75d)+_0x2a5a3e+'\x20'+_0x330d2e[_0x2917f5(0xce6)]+_0x2917f5(0x3b5)+_0x1bb4bb+'\x20'+_0x2032fb+'\x20'+_0x1c4c9e+'\x20'+_0x112287+'\x20'+_0x149af7+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x330d2e['numChoices']+'\x20ตัวเลือก.\x20'+_0x451184+'\x20'+simpleMathPrompt+'.',_0x154ee7=_0x9f12a2;break;case _0x2917f5(0x9c3):_0xd3c3b1=_0x2917f5(0xca9)+_0x2a5a3e+'\x20'+_0x330d2e['numQuestions']+_0x2917f5(0x3b5)+_0x1bb4bb+'\x20'+_0x2032fb+'\x20'+_0x1c4c9e+'\x20'+_0x112287+'\x20'+_0x149af7+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x451184+'\x20'+simpleMathPrompt,_0x154ee7=_0x44889e;break;case'matching':_0xd3c3b1=_0x2917f5(0x335)+_0x2a5a3e+'\x20'+_0x330d2e[_0x2917f5(0xce6)]+_0x2917f5(0x328)+_0x1bb4bb+'\x20'+_0x2032fb+'\x20'+_0x1c4c9e+'\x20'+_0x112287+'\x20'+_0x149af7+_0x2917f5(0xac2)+_0x451184+'\x20'+simpleMathPrompt,_0x154ee7=_0x2ea099;break;}_0xc8f6cf={'type':_0x2917f5(0xca7),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2917f5(0xaee),'items':_0x154ee7}},'required':['topic',_0x2917f5(0xcaf)]};}const _0x352150=_0x2917f5(0x7ae);_0x43b70a?(_0x5e6971?_0xd3c3b1=_0x2917f5(0x894)+_0x43b70a+'\x22,\x20'+_0xd3c3b1+_0x352150:_0xd3c3b1=_0x2917f5(0x894)+_0x43b70a+'\x22,\x20'+_0xd3c3b1,_0x453324=_0x2917f5(0x238)):(_0x5e6971&&(_0xd3c3b1+=_0x352150),_0x453324='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x492d6b;return _0x34ab05?_0x492d6b=[{'text':_0xd3c3b1},..._0x34ab05]:_0x492d6b=_0xd3c3b1,handleApiCall(_0x492d6b,_0x453324,_0xc8f6cf,_0x12dfa4,!![],_0xab530b,_0x352f39);}async function generateQuizFromFile(_0x38fea4,_0x4aab0c){const _0x1c981a=_0x1d88bf,_0x3a7845=document[_0x1c981a(0x9bf)](_0x1c981a(0x1d7))[_0x1c981a(0xb00)]['trim'](),_0x119efb=document[_0x1c981a(0x9bf)](_0x1c981a(0x2db))[_0x1c981a(0xb00)],_0xdda05e=document['getElementById']('num-questions')[_0x1c981a(0xb00)],_0x139d9e=document[_0x1c981a(0x9bf)](_0x1c981a(0x529))['value'],_0x104ba1=document[_0x1c981a(0x9bf)](_0x1c981a(0x885))[_0x1c981a(0xc13)],_0x2244b7=document['getElementById'](_0x1c981a(0x775))[_0x1c981a(0xc13)],_0x1a08cb=_0x2244b7?'':_0x1c981a(0x20b),_0x11c2d4=document[_0x1c981a(0x9bf)](_0x1c981a(0x2f6))[_0x1c981a(0xc13)];let _0x2e4e67='',_0x540e8b;const _0x4bf54a=_0x104ba1?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x11c2d4)_0x2e4e67='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x4bf54a+'\x0a'+simpleMathPrompt+'\x0a',_0x540e8b={'type':_0x1c981a(0xca7),'properties':{'questionText':{'type':_0x1c981a(0x27b)},'questionType':{'type':_0x1c981a(0x27b),'enum':[_0x1c981a(0xa01),'short_answer',_0x1c981a(0x9c3),_0x1c981a(0x8ad)]},'options':{'type':_0x1c981a(0xaee),'items':{'type':_0x1c981a(0x27b)}},'correctAnswerIndex':{'type':_0x1c981a(0x76a)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x1c981a(0x5a0)},'stem':{'type':_0x1c981a(0x27b)},'correctResponse':{'type':_0x1c981a(0x27b)},'allResponses':{'type':_0x1c981a(0xaee),'items':{'type':_0x1c981a(0x27b)}},'explanation':{'type':_0x1c981a(0x27b)},'imageCode':{'type':'STRING'}},'required':[_0x1c981a(0xa42),_0x1c981a(0x989)]};else{let _0x5b5c0c='เกี่ยวกับหัวข้อ\x20\x22'+_0x3a7845+'\x22';!_0x3a7845&&(_0x5b5c0c=_0x1c981a(0x9a3));switch(_0x119efb){case _0x1c981a(0xa01):_0x2e4e67=_0x1c981a(0x8fd)+_0x1a08cb+'\x20'+_0xdda05e+_0x1c981a(0x3b5)+_0x5b5c0c+'.\x20แต่ละข้อมี\x20'+_0x139d9e+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x4bf54a+'\x20'+simpleMathPrompt,_0x540e8b={'type':_0x1c981a(0xca7),'properties':{'questionText':{'type':_0x1c981a(0x27b)},'options':{'type':_0x1c981a(0xaee),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1c981a(0x76a)},'explanation':{'type':_0x1c981a(0x27b)},'imageCode':{'type':_0x1c981a(0x27b)}},'required':[_0x1c981a(0x3ab),_0x1c981a(0x69b),_0x1c981a(0xcf3),_0x1c981a(0x989)]};break;case _0x1c981a(0xaa4):_0x2e4e67=_0x1c981a(0x4c5)+_0x1a08cb+'\x20'+_0xdda05e+_0x1c981a(0x3b5)+_0x5b5c0c+_0x1c981a(0x52c)+_0x139d9e+_0x1c981a(0xc49)+_0x4bf54a+'\x20'+simpleMathPrompt,_0x540e8b={'type':'OBJECT','properties':{'questionText':{'type':_0x1c981a(0x27b)},'options':{'type':'ARRAY','items':{'type':_0x1c981a(0x27b)}},'correctAnswerIndex':{'type':_0x1c981a(0x76a)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x1c981a(0x3ab),_0x1c981a(0x69b),_0x1c981a(0xcf3),_0x1c981a(0x989)]};break;case'fill_in_no_choices':_0x2e4e67=_0x1c981a(0x4c5)+_0x1a08cb+'\x20'+_0xdda05e+_0x1c981a(0x3b5)+_0x5b5c0c+_0x1c981a(0xa5c)+_0x4bf54a+'\x20'+simpleMathPrompt,_0x540e8b={'type':_0x1c981a(0xca7),'properties':{'questionText':{'type':_0x1c981a(0x27b)},'idealAnswer':{'type':_0x1c981a(0x27b)},'explanation':{'type':_0x1c981a(0x27b)},'imageCode':{'type':_0x1c981a(0x27b)}},'required':[_0x1c981a(0x3ab),'idealAnswer',_0x1c981a(0x989)]};break;case _0x1c981a(0xcbe):_0x2e4e67=_0x1c981a(0x75d)+_0x1a08cb+'\x20'+_0xdda05e+_0x1c981a(0x3b5)+_0x5b5c0c+_0x1c981a(0x950)+_0x139d9e+_0x1c981a(0xc9e)+_0x4bf54a+'\x20'+simpleMathPrompt+_0x1c981a(0xa3c),_0x540e8b={'type':'OBJECT','properties':{'questionText':{'type':_0x1c981a(0x27b)},'questionType':{'type':'STRING','enum':[_0x1c981a(0xa01),'short_answer']},'options':{'type':_0x1c981a(0xaee),'items':{'type':_0x1c981a(0x27b)}},'correctAnswerIndex':{'type':_0x1c981a(0x76a)},'idealAnswer':{'type':_0x1c981a(0x27b)},'explanation':{'type':_0x1c981a(0x27b)},'imageCode':{'type':_0x1c981a(0x27b)}},'required':[_0x1c981a(0x3ab),_0x1c981a(0xa42),'explanation']};break;case _0x1c981a(0x9c3):_0x2e4e67=_0x1c981a(0xca9)+_0x1a08cb+'\x20'+_0xdda05e+_0x1c981a(0x3b5)+_0x5b5c0c+_0x1c981a(0x342)+_0x4bf54a+'\x20'+simpleMathPrompt,_0x540e8b={'type':_0x1c981a(0xca7),'properties':{'questionText':{'type':_0x1c981a(0x27b)},'correctAnswer':{'type':_0x1c981a(0x5a0)},'explanation':{'type':_0x1c981a(0x27b)},'imageCode':{'type':'STRING'}},'required':[_0x1c981a(0x3ab),_0x1c981a(0x661),_0x1c981a(0x989)]};break;case _0x1c981a(0x817):_0x2e4e67=_0x1c981a(0x335)+_0x1a08cb+'\x20'+_0xdda05e+_0x1c981a(0x328)+_0x5b5c0c+_0x1c981a(0xc01)+_0xdda05e+_0x1c981a(0x42b)+_0x4bf54a+'\x20'+simpleMathPrompt,_0x540e8b={'type':_0x1c981a(0xca7),'properties':{'questionType':{'type':_0x1c981a(0x27b),'enum':['matching_item']},'stem':{'type':_0x1c981a(0x27b)},'correctResponse':{'type':_0x1c981a(0x27b)},'allResponses':{'type':_0x1c981a(0xaee),'items':{'type':_0x1c981a(0x27b)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1c981a(0x27b)}},'required':['questionType',_0x1c981a(0xc5b),_0x1c981a(0x1db),_0x1c981a(0x783),_0x1c981a(0x989)]};break;}}const _0x3493f7={'type':'OBJECT','properties':{'topic':{'type':_0x1c981a(0x27b)},'questions':{'type':_0x1c981a(0xaee),'items':_0x540e8b}},'required':[_0x1c981a(0x6f8),_0x1c981a(0xcaf)]},_0x4fe9ad='จากไฟล์ที่แนบมานี้,\x20'+_0x2e4e67,_0x5a86d3={'contents':[{'parts':[{'text':_0x4fe9ad},{'inlineData':{'mimeType':_0x38fea4,'data':_0x4aab0c}}]}],'generationConfig':{'responseMimeType':_0x1c981a(0x5f3),'responseSchema':_0x3493f7}};return handleApiCall(_0x5a86d3['contents'][0x0][_0x1c981a(0x665)],_0x1c981a(0x6b5),_0x3493f7);}async function handleApiCall(_0x1c9609,_0x440bb3,_0x5a73a8,_0x463a8a=null,_0xd112f8=!![],_0x506268=null,_0x482533=null){const _0x2ce073=_0x1d88bf,_0x3ea32e=document['getElementById']('quiz-generation-area'),_0x4c1c95=document['getElementById'](_0x2ce073(0x91e)),_0x2098a8=document[_0x2ce073(0x9bf)](_0x2ce073(0xc09)),_0x2a00ec=document['getElementById'](_0x2ce073(0x59f));_0x3ea32e['classList'][_0x2ce073(0x2bd)]('hidden');_0x463a8a===null&&_0xd112f8&&(_0x2a00ec[_0x2ce073(0x6b3)]='');_0x4c1c95[_0x2ce073(0x5a7)][_0x2ce073(0x2bd)](_0x2ce073(0x8da)),_0x2098a8['textContent']=_0x440bb3,document[_0x2ce073(0x9bf)](_0x2ce073(0x54a))[_0x2ce073(0x6d3)]=!![],document[_0x2ce073(0x9bf)](_0x2ce073(0x478))[_0x2ce073(0x6d3)]=!![],document[_0x2ce073(0x9bf)](_0x2ce073(0x356))['disabled']=!![];const _0x41431b=document[_0x2ce073(0x9bf)](_0x2ce073(0xbeb));if(_0x41431b)_0x41431b[_0x2ce073(0x6d3)]=!![];const _0x268417=document[_0x2ce073(0x9bf)](_0x2ce073(0x344));if(_0x268417)_0x268417[_0x2ce073(0x6d3)]=!![];const _0x449395=document[_0x2ce073(0x9bf)](_0x2ce073(0x4cb));if(_0x449395)_0x449395[_0x2ce073(0x6d3)]=!![];try{const _0xc2fffb={'responseMimeType':_0x2ce073(0x5f3),'responseSchema':_0x5a73a8},_0x1c2f02=Array[_0x2ce073(0x4e7)](_0x1c9609)?_0x1c9609:[{'text':_0x1c9609}],_0x2e8900={'contents':[{'role':_0x2ce073(0x7c6),'parts':_0x1c2f02}],'generationConfig':_0xc2fffb},_0x5d0ced=_0x2ce073(0xb13),_0x34a7cd='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5d0ced,_0x191def=await fetch(_0x34a7cd,{'method':_0x2ce073(0x59e),'headers':{'Content-Type':_0x2ce073(0x5f3)},'body':JSON[_0x2ce073(0xa43)](_0x2e8900)});if(!_0x191def['ok']){const _0x51534f=await _0x191def[_0x2ce073(0xa95)]();console['error']('API\x20Error\x20Response:',_0x51534f);throw new Error(_0x2ce073(0x28a)+_0x191def[_0x2ce073(0x5e0)]);}const _0x45027e=await _0x191def[_0x2ce073(0xbb8)]();if(_0x45027e[_0x2ce073(0x877)]?.[0x0]?.[_0x2ce073(0x34e)]?.[_0x2ce073(0x665)]?.[0x0]){let _0x5196a0=_0x45027e[_0x2ce073(0x877)][0x0][_0x2ce073(0x34e)][_0x2ce073(0x665)][0x0][_0x2ce073(0xa95)];if(_0x5196a0[_0x2ce073(0x26d)](_0x2ce073(0x7f7)))_0x5196a0=_0x5196a0[_0x2ce073(0x426)](0x7,_0x5196a0[_0x2ce073(0x9dc)]-0x3)[_0x2ce073(0xb22)]();else _0x5196a0[_0x2ce073(0x26d)]('```')&&(_0x5196a0=_0x5196a0[_0x2ce073(0x426)](0x3,_0x5196a0[_0x2ce073(0x9dc)]-0x3)[_0x2ce073(0xb22)]());let _0xfc394f=JSON[_0x2ce073(0x784)](_0x5196a0);if(_0xd112f8){if(_0x463a8a!==null){if(_0xfc394f[_0x2ce073(0xa42)]===_0x2ce073(0x8ad)){const _0x2e2ebc=currentQuizData[_0x2ce073(0xcaf)][_0x2ce073(0x2b5)](_0x37363c=>_0x37363c[_0x2ce073(0x1db)]);_0xfc394f[_0x2ce073(0x783)]=_0x2e2ebc;const _0x2e0781=currentQuizData[_0x2ce073(0xcaf)][_0x463a8a]['correctResponse'],_0x19cd40=_0x2e2ebc['indexOf'](_0x2e0781);_0x19cd40>-0x1&&(_0x2e2ebc[_0x19cd40]=_0xfc394f[_0x2ce073(0x1db)]),currentQuizData[_0x2ce073(0xcaf)][_0x2ce073(0xb2a)](_0x22bd9f=>{const _0x4ec23a=_0x2ce073;if(_0x22bd9f[_0x4ec23a(0xa42)]==='matching_item')_0x22bd9f[_0x4ec23a(0x783)]=_0x2e2ebc;});}currentQuizData[_0x2ce073(0xcaf)][_0x463a8a]=_0xfc394f,displayGeneratedQuiz(currentQuizData,_0x506268,_0x482533);}else{currentQuizData=_0xfc394f;const _0x2aaf26=document['getElementById'](_0x2ce073(0x2db))[_0x2ce073(0xb00)];currentQuizData[_0x2ce073(0x854)]=_0x2aaf26,currentQuizData[_0x2ce073(0xcaf)]&&currentQuizData[_0x2ce073(0xcaf)][_0x2ce073(0xb2a)](_0x364263=>{const _0x7c70c9=_0x2ce073;if(!_0x364263[_0x7c70c9(0xa42)]){if(_0x2aaf26===_0x7c70c9(0xaa4))_0x364263['questionType']=_0x7c70c9(0xa01);else{if(_0x2aaf26===_0x7c70c9(0x761))_0x364263[_0x7c70c9(0xa42)]=_0x7c70c9(0x7ff);else _0x364263[_0x7c70c9(0xa42)]=_0x2aaf26;}}}),displayGeneratedQuiz(currentQuizData,_0x506268,_0x482533);}}return _0xfc394f;}else{let _0x5058a8='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x45027e['promptFeedback']?.[_0x2ce073(0x7a6)])_0x5058a8=_0x2ce073(0x632)+_0x45027e[_0x2ce073(0xbcf)][_0x2ce073(0x7a6)]+'.';else _0x45027e[_0x2ce073(0x877)]?.[0x0]?.[_0x2ce073(0x7f3)]&&_0x45027e[_0x2ce073(0x877)][0x0][_0x2ce073(0x7f3)]!==_0x2ce073(0x1b6)&&(_0x5058a8='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x45027e[_0x2ce073(0x877)][0x0]['finishReason']+'.');console[_0x2ce073(0x56e)](_0x5058a8,JSON['stringify'](_0x45027e));throw new Error(_0x5058a8);}}catch(_0x20d53b){console[_0x2ce073(0x56e)](_0x2ce073(0x5cd),_0x20d53b),showMessage(_0x2ce073(0x4b5)+_0x20d53b[_0x2ce073(0x68b)]);_0x463a8a===null&&_0xd112f8&&(_0x2a00ec[_0x2ce073(0x6b3)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');throw _0x20d53b;}finally{_0x4c1c95[_0x2ce073(0x5a7)][_0x2ce073(0x3b1)](_0x2ce073(0x8da)),document[_0x2ce073(0x9bf)](_0x2ce073(0x54a))[_0x2ce073(0x6d3)]=![],document[_0x2ce073(0x9bf)](_0x2ce073(0x478))[_0x2ce073(0x6d3)]=![],document['getElementById'](_0x2ce073(0x356))[_0x2ce073(0x6d3)]=![];if(_0x41431b)_0x41431b[_0x2ce073(0x6d3)]=![];if(_0x268417)_0x268417[_0x2ce073(0x6d3)]=![];if(_0x449395)_0x449395['disabled']=![];}}function exitFullscreen(){const _0x3fb711=_0x1d88bf;if(document['exitFullscreen'])document['exitFullscreen']()['catch'](_0x189ee8=>console['error'](_0x189ee8));else{if(document[_0x3fb711(0x948)])document[_0x3fb711(0x948)]();else document[_0x3fb711(0xc74)]&&document[_0x3fb711(0xc74)]();}}function enterFullscreen(){const _0x256834=_0x1d88bf,_0x183d7d=document[_0x256834(0x280)];if(_0x183d7d['requestFullscreen'])_0x183d7d[_0x256834(0xc35)]()[_0x256834(0x3de)](_0xe21e03=>{const _0x41864d=_0x256834;console[_0x41864d(0x56e)](_0x41864d(0x2f3)+_0xe21e03[_0x41864d(0x68b)]+'\x20('+_0xe21e03['name']+')');});else{if(_0x183d7d['webkitRequestFullscreen'])_0x183d7d['webkitRequestFullscreen']();else _0x183d7d[_0x256834(0x1d9)]&&_0x183d7d['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x23129d=_0x1d88bf;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x23129d(0x4da),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x23129d(0xb87)+maxCheatAttempts+_0x23129d(0x2fb)),document[_0x23129d(0x9bf)](_0x23129d(0x47a))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document['removeEventListener'](_0x23129d(0x729),handleFullscreenChange)):showMessage(_0x23129d(0x60e)+cheatAttempts+'/'+maxCheatAttempts+_0x23129d(0x6a8),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x29928e=_0x1d88bf;if(currentMode===_0x29928e(0x2b6)||!isQuizActive)return;if(document[_0x29928e(0x454)]===_0x29928e(0x8da))handleCheatingEvent();else document[_0x29928e(0x454)]===_0x29928e(0xc89)&&(console[_0x29928e(0xc30)](_0x29928e(0x699)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x5b57be=_0x1d88bf;if(currentMode===_0x5b57be(0x2b6)||!isQuizActive)return;!document[_0x5b57be(0x7ca)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x52bb8c,_0x2323c0=null,_0x5da6d9=null){const _0x3f8d9a=_0x1d88bf,_0x108914=document[_0x3f8d9a(0x9bf)](_0x3f8d9a(0x59f));let _0x4fe8ba='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x52bb8c[_0x3f8d9a(0x6f8)]+'</h3>';_0x52bb8c[_0x3f8d9a(0xcaf)][_0x3f8d9a(0xb2a)]((_0x1761d7,_0x322569)=>{const _0x1cd79e=_0x3f8d9a;!_0x1761d7['id']&&(_0x1761d7['id']='q_'+Date['now']()+'_'+_0x322569);const _0x91e217=_0x1761d7[_0x1cd79e(0xa42)]||_0x52bb8c[_0x1cd79e(0x854)];_0x4fe8ba+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x322569+_0x1cd79e(0xd00)+_0x322569+_0x1cd79e(0x905)+_0x322569+_0x1cd79e(0x4b4);switch(_0x91e217){case _0x1cd79e(0x8ad):_0x4fe8ba+=_0x1cd79e(0x50b)+_0x322569+'\x22>'+(_0x322569+0x1)+'.\x20'+_0x1761d7[_0x1cd79e(0xc5b)]+_0x1cd79e(0xbab);_0x1761d7[_0x1cd79e(0xbe1)]&&(_0x4fe8ba+=_0x1cd79e(0x284)+_0x322569+_0x1cd79e(0x55b)+_0x1761d7[_0x1cd79e(0xbe1)]+'</div>');_0x4fe8ba+=_0x1cd79e(0x6fa)+_0x322569+'\x22>'+_0x1761d7[_0x1cd79e(0x1db)]+_0x1cd79e(0xc55),_0x4fe8ba+=_0x1cd79e(0x380)+_0x322569+'\x22>'+_0x1761d7['explanation']+'</span></div>';break;case _0x1cd79e(0x7ff):_0x4fe8ba+=_0x1cd79e(0x50b)+_0x322569+'\x22>'+(_0x322569+0x1)+'.\x20'+_0x1761d7['questionText']+_0x1cd79e(0xbab);_0x1761d7[_0x1cd79e(0xbe1)]&&(_0x4fe8ba+='<div\x20id=\x22q-image-container-'+_0x322569+_0x1cd79e(0x55b)+_0x1761d7['imageCode']+'</div>');_0x4fe8ba+=_0x1cd79e(0x4dc)+_0x322569+'\x22>'+_0x1761d7[_0x1cd79e(0x549)]+'</span></div>',_0x4fe8ba+=_0x1cd79e(0x380)+_0x322569+'\x22>'+_0x1761d7['explanation']+_0x1cd79e(0xc55);break;case _0x1cd79e(0x9c3):_0x4fe8ba+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x322569+'\x22>'+(_0x322569+0x1)+'.\x20'+_0x1761d7['questionText']+_0x1cd79e(0xbab);_0x1761d7['imageCode']&&(_0x4fe8ba+=_0x1cd79e(0x284)+_0x322569+_0x1cd79e(0x55b)+_0x1761d7[_0x1cd79e(0xbe1)]+'</div>');_0x4fe8ba+=_0x1cd79e(0x70b)+(_0x1761d7[_0x1cd79e(0x661)]===!![]?_0x1cd79e(0x62f):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x1761d7[_0x1cd79e(0x661)]===![]?'text-green-600\x20font-bold':'')+_0x1cd79e(0x533),_0x4fe8ba+=_0x1cd79e(0x380)+_0x322569+'\x22>'+_0x1761d7['explanation']+_0x1cd79e(0xc55);break;case _0x1cd79e(0x74f):case _0x1cd79e(0xa01):default:_0x4fe8ba+=_0x1cd79e(0x50b)+_0x322569+'\x22>'+(_0x322569+0x1)+'.\x20'+_0x1761d7['questionText']+'</p>';_0x1761d7[_0x1cd79e(0xbe1)]&&(_0x4fe8ba+=_0x1cd79e(0x284)+_0x322569+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1761d7[_0x1cd79e(0xbe1)]+'</div>');_0x4fe8ba+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x322569+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1761d7[_0x1cd79e(0x69b)]||[])[_0x1cd79e(0x2b5)]((_0x19f987,_0x290f79)=>_0x1cd79e(0x193)+(_0x290f79===_0x1761d7['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x19f987+'</li>')[_0x1cd79e(0x77f)]('')+_0x1cd79e(0x29e),_0x4fe8ba+=_0x1cd79e(0x380)+_0x322569+'\x22>'+_0x1761d7[_0x1cd79e(0x989)]+'</span></div>';break;}_0x4fe8ba+='</div>';}),_0x4fe8ba+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x108914['innerHTML']=_0x4fe8ba,document[_0x3f8d9a(0x468)](_0x3f8d9a(0x887))[_0x3f8d9a(0xb2a)](_0x5c6b05=>_0x5c6b05[_0x3f8d9a(0x8c1)]('click',handleEditQuestion)),document[_0x3f8d9a(0x468)]('.regenerate-question-btn')[_0x3f8d9a(0xb2a)](_0x58d7e2=>_0x58d7e2[_0x3f8d9a(0x8c1)](_0x3f8d9a(0x7c2),handleRegenerateQuestion)),document[_0x3f8d9a(0x9bf)]('export-worksheet-pdf-btn')[_0x3f8d9a(0x8c1)](_0x3f8d9a(0x7c2),exportQuizAsWorksheetPDF),document[_0x3f8d9a(0x9bf)](_0x3f8d9a(0xc2a))[_0x3f8d9a(0x8c1)](_0x3f8d9a(0x7c2),handleVerifyAnswers);const _0x16930b=document['getElementById'](_0x3f8d9a(0x6e4));if(_0x16930b){const _0x17e368=_0x2323c0||currentProjectId;_0x16930b['addEventListener'](_0x3f8d9a(0x7c2),()=>saveQuiz(_0x17e368,_0x5da6d9));}if(window[_0x3f8d9a(0x7c4)])window[_0x3f8d9a(0x7c4)][_0x3f8d9a(0xa7b)]([_0x108914]);}function handleRegenerateQuestion(_0x3424f8){const _0x3d125d=_0x1d88bf,_0x2471aa=_0x3424f8[_0x3d125d(0x753)][_0x3d125d(0xc05)][_0x3d125d(0x201)],_0x25ca70=currentQuizData['topic'];showMessage(_0x3d125d(0x87a)+(parseInt(_0x2471aa)+0x1)+_0x3d125d(0x3c2)),generateQuiz(_0x25ca70,null,parseInt(_0x2471aa));}function getPointerPosition(_0x5e2bd0,_0x2d2c50){const _0x58bf49=_0x1d88bf,_0x5a996f=_0x5e2bd0[_0x58bf49(0x677)]();let _0x5e6e8a,_0x1270f6;return _0x2d2c50['touches']&&_0x2d2c50[_0x58bf49(0x7a8)]['length']>0x0?(_0x5e6e8a=_0x2d2c50[_0x58bf49(0x7a8)][0x0][_0x58bf49(0x789)],_0x1270f6=_0x2d2c50['touches'][0x0][_0x58bf49(0x1d6)]):(_0x5e6e8a=_0x2d2c50[_0x58bf49(0x789)],_0x1270f6=_0x2d2c50[_0x58bf49(0x1d6)]),{'x':(_0x5e6e8a-_0x5a996f['e'])/_0x5a996f['a'],'y':(_0x1270f6-_0x5a996f['f'])/_0x5a996f['d']};}function startDrag(_0x36f9e2){const _0x1d9c73=_0x1d88bf;_0x36f9e2[_0x1d9c73(0x397)]===_0x1d9c73(0x5e1)&&_0x36f9e2[_0x1d9c73(0x1a4)]();const _0x4c4197=_0x36f9e2[_0x1d9c73(0x964)][_0x1d9c73(0xa13)](_0x1d9c73(0xc32));if(_0x4c4197){draggedSvgElement=_0x4c4197;const _0x954e6b=draggedSvgElement[_0x1d9c73(0x36a)],_0x2efd03=getPointerPosition(_0x954e6b,_0x36f9e2);svgOffset['x']=_0x2efd03['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x2efd03['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x329e61,_0x57929c){const _0x4faef0=_0x1d88bf,_0x45e2fe={};if(_0x57929c['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x95cb2a=[..._0x57929c][_0x4faef0(0x79f)]((_0x4b8da8,_0x29cacc)=>{const _0x12142a=_0x4faef0,_0x170568=_0x29cacc[_0x12142a(0xb0b)]-_0x4b8da8[_0x12142a(0xb0b)];if(_0x170568!==0x0)return _0x170568;const _0x23a3f9=_0x4b8da8[_0x12142a(0x879)]?.['length']||0x1,_0x26c0c0=_0x29cacc[_0x12142a(0x879)]?.[_0x12142a(0x9dc)]||0x1,_0x43a5c2=_0x23a3f9-_0x26c0c0;if(_0x43a5c2!==0x0)return _0x43a5c2;const _0x3f4e7e=new Date(_0x4b8da8['latestSubmittedAt']),_0x46b279=new Date(_0x29cacc[_0x12142a(0x608)]),_0x5d77b1=_0x3f4e7e-_0x46b279;if(_0x5d77b1!==0x0)return _0x5d77b1;return _0x4b8da8[_0x12142a(0x7ed)][_0x12142a(0xcbd)](_0x29cacc[_0x12142a(0x7ed)],'th');}),_0x36455a=_0x95cb2a[_0x4faef0(0x9dc)],_0x4e194d=Math[_0x4faef0(0xc68)](0x1,Math[_0x4faef0(0x92f)](_0x36455a*0.33));if(_0x4e194d===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2adbdc=_0x95cb2a[_0x4faef0(0x3d9)](0x0,_0x4e194d),_0x4baff1=_0x95cb2a[_0x4faef0(0x3d9)](-_0x4e194d),_0x5c372a=_0x2adbdc[_0x4faef0(0x2b5)](_0x587678=>_0x587678[_0x4faef0(0x7ed)]),_0x55fa7a=_0x4baff1[_0x4faef0(0x2b5)](_0x1d4ae8=>_0x1d4ae8[_0x4faef0(0x7ed)]);return _0x329e61[_0x4faef0(0xcaf)][_0x4faef0(0xb2a)]((_0x4ed678,_0x2d4b60)=>{const _0x47b927=_0x4faef0,_0x118776=_0x4ed678[_0x47b927(0xc5b)]||_0x4ed678[_0x47b927(0x3ab)];let _0x4dcce8=0x0,_0x196ab5=0x0,_0x5b6fff=0x0;const _0x31815e=[],_0x43e280=[];_0x2adbdc[_0x47b927(0xb2a)](_0x15f226=>{const _0x2384ba=_0x47b927,_0x413e7c=_0x15f226[_0x2384ba(0x879)][_0x15f226[_0x2384ba(0x879)][_0x2384ba(0x9dc)]-0x1],_0x3f9d11=_0x413e7c[_0x2384ba(0x8ec)][_0x2384ba(0x9c1)](_0x328b16=>_0x328b16[_0x2384ba(0x8b4)]===_0x118776);_0x31815e[_0x2384ba(0x488)]({'name':_0x15f226['studentName'],'isCorrect':_0x3f9d11?_0x3f9d11[_0x2384ba(0x23a)]:![]}),_0x3f9d11&&_0x3f9d11[_0x2384ba(0x23a)]&&_0x196ab5++;}),_0x4baff1[_0x47b927(0xb2a)](_0x475b0c=>{const _0x16f69d=_0x47b927,_0x1d7fbd=_0x475b0c[_0x16f69d(0x879)][_0x475b0c[_0x16f69d(0x879)]['length']-0x1],_0x204491=_0x1d7fbd[_0x16f69d(0x8ec)]['find'](_0x14f474=>_0x14f474['originalQuestionText']===_0x118776);_0x43e280[_0x16f69d(0x488)]({'name':_0x475b0c[_0x16f69d(0x7ed)],'isCorrect':_0x204491?_0x204491[_0x16f69d(0x23a)]:![]}),_0x204491&&_0x204491[_0x16f69d(0x23a)]&&_0x5b6fff++;}),_0x57929c[_0x47b927(0xb2a)](_0xe042fb=>{const _0x49346d=_0x47b927,_0x528a97=_0xe042fb['attempts'][_0xe042fb[_0x49346d(0x879)]['length']-0x1],_0x1c4df1=_0x528a97[_0x49346d(0x8ec)][_0x49346d(0x9c1)](_0x5725bc=>_0x5725bc[_0x49346d(0x8b4)]===_0x118776);_0x1c4df1&&_0x1c4df1[_0x49346d(0x23a)]&&_0x4dcce8++;});const _0x4a7f21=_0x36455a>0x0?_0x4dcce8/_0x36455a:0x0,_0x3a2f70=_0x4e194d>0x0?_0x196ab5/_0x4e194d-_0x5b6fff/_0x4e194d:0x0;_0x45e2fe[_0x2d4b60]={'p':_0x4a7f21,'r':_0x3a2f70,'upperGroupResponders':_0x31815e,'lowerGroupResponders':_0x43e280};}),{'perQuestionStats':_0x45e2fe,'overallGroups':{'upperGroupNames':_0x5c372a,'lowerGroupNames':_0x55fa7a}};}function drag(_0x52359a){const _0x29d8c4=_0x1d88bf;if(draggedSvgElement){_0x52359a[_0x29d8c4(0x1a4)]();const _0x2a90ba=draggedSvgElement[_0x29d8c4(0x36a)],_0x135724=getPointerPosition(_0x2a90ba,_0x52359a),_0xbdc2cb=_0x2a90ba[_0x29d8c4(0x20a)][_0x29d8c4(0x338)];let _0x1c0bb5=_0x135724['x']-svgOffset['x'],_0x144eac=_0x135724['y']-svgOffset['y'];const _0x53e29e=draggedSvgElement['getBBox']();_0x1c0bb5=Math['max'](_0xbdc2cb['x'],Math[_0x29d8c4(0xa15)](_0x1c0bb5,_0xbdc2cb['x']+_0xbdc2cb[_0x29d8c4(0x31e)]-_0x53e29e[_0x29d8c4(0x31e)])),_0x144eac=Math[_0x29d8c4(0xc68)](_0xbdc2cb['y'],Math['min'](_0x144eac,_0xbdc2cb['y']+_0xbdc2cb['height']-_0x53e29e[_0x29d8c4(0xb89)])),draggedSvgElement[_0x29d8c4(0x914)](null,'x',_0x1c0bb5),draggedSvgElement[_0x29d8c4(0x914)](null,'y',_0x144eac);}}function endDrag(_0x233b59){draggedSvgElement=null;}function handleSvgEditClick(_0x34f25e){const _0x50db50=_0x1d88bf;if(_0x34f25e[_0x50db50(0x964)][_0x50db50(0x5a7)][_0x50db50(0x2be)]('delete-svg-btn')){const _0x2838d7=_0x34f25e['target'][_0x50db50(0xc05)][_0x50db50(0x412)],_0x351a01=_0x34f25e[_0x50db50(0x753)],_0xce1f42=_0x351a01['querySelector']('#'+_0x2838d7);_0xce1f42&&_0xce1f42[_0x50db50(0x2bd)](),_0x34f25e[_0x50db50(0x964)][_0x50db50(0x2bd)]();}}function handleEditQuestion(_0x17387b){const _0x1c4943=_0x1d88bf,_0x5543f7=_0x17387b['currentTarget'],_0x398870=_0x5543f7[_0x1c4943(0xc05)]['index'],_0x355902=currentQuizData['questions'][_0x398870],_0x1981b7=document[_0x1c4943(0x9bf)](_0x1c4943(0x395)+_0x398870),_0xda2819=document[_0x1c4943(0x9bf)](_0x1c4943(0xaa5)+_0x398870),_0xadfb21=document[_0x1c4943(0x9bf)](_0x1c4943(0x669)+_0x398870);if(_0x5543f7[_0x1c4943(0x6b3)][_0x1c4943(0x3b4)](_0x1c4943(0x82d))){_0x5543f7[_0x1c4943(0x6b3)]=_0x1c4943(0x9ea),_0x5543f7[_0x1c4943(0x270)]='บันทึกการแก้ไข';if(_0x1981b7)_0x1981b7['contentEditable']=!![];if(_0xda2819)_0xda2819[_0x1c4943(0x951)]=!![];if(_0xadfb21){const _0xb8312e=_0xadfb21[_0x1c4943(0x583)](_0x1c4943(0x8a3));if(_0xb8312e){const _0x215e38=_0xb8312e[_0x1c4943(0x468)]('text');_0x215e38[_0x1c4943(0xb2a)]((_0x1bcb9c,_0x1e146a)=>{const _0x538a8b=_0x1c4943,_0x1978c8='editable-text-'+_0x398870+'-'+_0x1e146a;_0x1bcb9c['id']=_0x1978c8,_0x1bcb9c[_0x538a8b(0x5a7)][_0x538a8b(0x3b1)](_0x538a8b(0xa7d)),_0x1bcb9c[_0x538a8b(0x641)][_0x538a8b(0xaa6)]=_0x538a8b(0x526);const _0x53a0c8=document[_0x538a8b(0x286)]('http://www.w3.org/2000/svg','circle'),_0x31eb98=_0x1bcb9c[_0x538a8b(0x265)]();_0x53a0c8[_0x538a8b(0x310)]('cx',String(_0x31eb98['x']+_0x31eb98['width']+0x5)),_0x53a0c8[_0x538a8b(0x310)]('cy',String(_0x31eb98['y']+_0x31eb98['height']/0x2-0x5)),_0x53a0c8[_0x538a8b(0x310)]('r','5'),_0x53a0c8[_0x538a8b(0x310)](_0x538a8b(0x8bf),_0x538a8b(0x4f6)),_0x53a0c8[_0x538a8b(0x310)]('class',_0x538a8b(0x9ce)),_0x53a0c8[_0x538a8b(0xc05)][_0x538a8b(0x412)]=_0x1978c8,_0x1bcb9c['after'](_0x53a0c8);}),_0xb8312e[_0x1c4943(0x8c1)](_0x1c4943(0x42c),startDrag),_0xb8312e[_0x1c4943(0x8c1)](_0x1c4943(0x907),drag),_0xb8312e[_0x1c4943(0x8c1)](_0x1c4943(0xc37),endDrag),_0xb8312e[_0x1c4943(0x8c1)]('mouseleave',endDrag),_0xb8312e['addEventListener']('touchstart',startDrag,{'passive':![]}),_0xb8312e[_0x1c4943(0x8c1)](_0x1c4943(0x256),drag,{'passive':![]}),_0xb8312e['addEventListener']('touchend',endDrag),_0xb8312e[_0x1c4943(0x8c1)](_0x1c4943(0x3da),endDrag),_0xb8312e[_0x1c4943(0x8c1)]('click',handleSvgEditClick);}}if(_0x1981b7)_0x1981b7['focus']();}else{_0x5543f7['innerHTML']=_0x1c4943(0x7bd),_0x5543f7['title']=_0x1c4943(0xaef);if(_0x1981b7){_0x1981b7[_0x1c4943(0x951)]=![];const _0xe6abd8=_0x355902[_0x1c4943(0xa42)]||currentQuizData['quizType'];_0xe6abd8==='matching_item'?_0x355902[_0x1c4943(0xc5b)]=_0x1981b7['innerText'][_0x1c4943(0x426)](_0x1981b7[_0x1c4943(0x603)][_0x1c4943(0x3e8)]('.')+0x2)['trim']():_0x355902['questionText']=_0x1981b7['innerText'][_0x1c4943(0x426)](_0x1981b7['innerText']['indexOf']('.')+0x2)[_0x1c4943(0xb22)]();}_0xda2819&&(_0xda2819[_0x1c4943(0x951)]=![],_0x355902['explanation']=_0xda2819[_0x1c4943(0x603)]);if(_0xadfb21){const _0x3dd80e=_0xadfb21[_0x1c4943(0x583)](_0x1c4943(0x8a3));if(_0x3dd80e){const _0x98d744=_0x3dd80e[_0x1c4943(0x5d6)](!![]);_0x98d744[_0x1c4943(0x468)](_0x1c4943(0x311))['forEach'](_0x38f7fc=>_0x38f7fc[_0x1c4943(0x2bd)]()),_0x98d744[_0x1c4943(0x468)](_0x1c4943(0xc32))[_0x1c4943(0xb2a)](_0x5419a8=>{const _0x3b3d1d=_0x1c4943;_0x5419a8[_0x3b3d1d(0x5a7)][_0x3b3d1d(0x2bd)]('draggable-text'),_0x5419a8[_0x3b3d1d(0x641)]['cursor']=_0x3b3d1d(0x705),_0x5419a8['removeAttribute']('id');}),_0x355902[_0x1c4943(0xbe1)]=_0x98d744[_0x1c4943(0xb4d)],_0x3dd80e[_0x1c4943(0x930)]('mousedown',startDrag),_0x3dd80e[_0x1c4943(0x930)](_0x1c4943(0x907),drag),_0x3dd80e['removeEventListener']('mouseup',endDrag),_0x3dd80e[_0x1c4943(0x930)]('mouseleave',endDrag),_0x3dd80e[_0x1c4943(0x930)](_0x1c4943(0x5e1),startDrag),_0x3dd80e['removeEventListener']('touchmove',drag),_0x3dd80e[_0x1c4943(0x930)](_0x1c4943(0x993),endDrag),_0x3dd80e[_0x1c4943(0x930)](_0x1c4943(0x3da),endDrag),_0x3dd80e[_0x1c4943(0x930)](_0x1c4943(0x7c2),handleSvgEditClick),_0x3dd80e[_0x1c4943(0x468)](_0x1c4943(0x311))[_0x1c4943(0xb2a)](_0x44711e=>_0x44711e['remove']()),_0x3dd80e[_0x1c4943(0x468)](_0x1c4943(0xc32))[_0x1c4943(0xb2a)](_0xc3bfe3=>{const _0x2e60e2=_0x1c4943;_0xc3bfe3['classList'][_0x2e60e2(0x2bd)](_0x2e60e2(0xa7d)),_0xc3bfe3[_0x2e60e2(0x641)][_0x2e60e2(0xaa6)]=_0x2e60e2(0x705);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5af96b){const _0x4be13c=_0x1d88bf,_0x1f9862=document[_0x4be13c(0x9bf)](_0x4be13c(0x32a)),_0x7a4b09=document[_0x4be13c(0x9bf)](_0x4be13c(0x878));_0x7a4b09[_0x4be13c(0x6b3)]=_0x4be13c(0x316),_0x1f9862[_0x4be13c(0x5a7)][_0x4be13c(0x2bd)](_0x4be13c(0x8da));try{const _0x423f0f=doc(db,'artifacts/'+appId+_0x4be13c(0x289),_0x5af96b),_0x11892c=await getDoc(_0x423f0f);if(!_0x11892c[_0x4be13c(0xb67)]())throw new Error(_0x4be13c(0xa60));currentEditingQuizData={'id':_0x5af96b,..._0x11892c[_0x4be13c(0x7bb)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x2f8d78){console[_0x4be13c(0x56e)](_0x4be13c(0x922),_0x2f8d78),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x1f9862[_0x4be13c(0x5a7)]['add'](_0x4be13c(0x8da));}}function renderQuizEditor(_0x25eb08){const _0x121a1d=_0x1d88bf;document['getElementById'](_0x121a1d(0xae5))[_0x121a1d(0xb00)]=_0x25eb08['topic'];const _0x20ab86=document[_0x121a1d(0x9bf)](_0x121a1d(0x878));let _0x13b47b=_0x25eb08[_0x121a1d(0xcaf)][_0x121a1d(0x2b5)]((_0x1d43a3,_0x2c17f5)=>{const _0x58c51e=_0x121a1d;let _0x504f7b='';const _0x56040a=_0x1d43a3['questionType']||_0x25eb08[_0x58c51e(0x854)];switch(_0x56040a){case _0x58c51e(0xa01):const _0x4e09a4=(_0x1d43a3['options']||[])[_0x58c51e(0x2b5)]((_0x40bcd8,_0x5c0a81)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2c17f5+_0x58c51e(0x946)+_0x5c0a81+'\x22\x20'+(_0x5c0a81===_0x1d43a3[_0x58c51e(0xcf3)]?_0x58c51e(0xc13):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x40bcd8+_0x58c51e(0x495))[_0x58c51e(0x77f)]('');_0x504f7b=_0x58c51e(0xabb)+_0x4e09a4+_0x58c51e(0x5a1);break;case _0x58c51e(0x7ff):_0x504f7b=_0x58c51e(0x9d6)+(_0x1d43a3[_0x58c51e(0x549)]||'')+_0x58c51e(0x98e);break;case'true_false':_0x504f7b=_0x58c51e(0xb3d)+_0x2c17f5+_0x58c51e(0x89c)+(_0x1d43a3[_0x58c51e(0x661)]===!![]?_0x58c51e(0xc13):'')+_0x58c51e(0x3a6)+_0x2c17f5+_0x58c51e(0x3f4)+(_0x1d43a3[_0x58c51e(0x661)]===![]?_0x58c51e(0xc13):'')+_0x58c51e(0x3bd);break;case _0x58c51e(0x8ad):_0x504f7b=_0x58c51e(0x97b)+(_0x1d43a3[_0x58c51e(0x1db)]||'')+_0x58c51e(0xb86);break;}const _0x52b9b5=_0x1d43a3[_0x58c51e(0x3ab)]||_0x1d43a3['stem']||'';return _0x58c51e(0xc81)+_0x2c17f5+'\x22\x20data-q-type=\x22'+_0x56040a+_0x58c51e(0xbdd)+(_0x2c17f5+0x1)+'\x20('+_0x56040a+_0x58c51e(0x64d)+_0x52b9b5+_0x58c51e(0x483)+_0x504f7b+_0x58c51e(0x853);})[_0x121a1d(0x77f)]('');_0x20ab86[_0x121a1d(0x6b3)]=_0x13b47b,_0x20ab86[_0x121a1d(0x468)](_0x121a1d(0xbb2))[_0x121a1d(0xb2a)](_0xae7ebb=>{const _0x2aa100=_0x121a1d;_0xae7ebb[_0x2aa100(0x8c1)](_0x2aa100(0x7c2),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x459d2c){const _0x5c7e66=_0x1d88bf,_0x3e159a=_0x459d2c[_0x5c7e66(0x753)],_0x2e4615=_0x3e159a[_0x5c7e66(0xa13)]('.question-editor-item');if(!_0x2e4615)return;const _0x213945=parseInt(_0x2e4615[_0x5c7e66(0xc05)][_0x5c7e66(0xb51)],0xa);if(isNaN(_0x213945)||!currentEditingQuizData['questions'][_0x213945]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x100412=currentEditingQuizData[_0x5c7e66(0xcaf)][_0x213945];_0x3e159a[_0x5c7e66(0x6b3)]=_0x5c7e66(0xb21),_0x3e159a[_0x5c7e66(0x6d3)]=!![];const _0x4aa268=_0x5c7e66(0xc2c)+JSON['stringify'](_0x100412)+_0x5c7e66(0xa72);let _0x4c4a55;const _0x5623e7=_0x100412[_0x5c7e66(0xa42)]||currentEditingQuizData[_0x5c7e66(0x854)];switch(_0x5623e7){case _0x5c7e66(0x7ff):_0x4c4a55={'type':_0x5c7e66(0xca7),'properties':{'questionText':{'type':_0x5c7e66(0x27b)},'idealAnswer':{'type':_0x5c7e66(0x27b)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5c7e66(0x3ab),_0x5c7e66(0x549),_0x5c7e66(0x989)]};break;case'multiple_choice':default:_0x4c4a55={'type':_0x5c7e66(0xca7),'properties':{'questionText':{'type':_0x5c7e66(0x27b)},'options':{'type':_0x5c7e66(0xaee),'items':{'type':_0x5c7e66(0x27b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5c7e66(0x27b)},'imageCode':{'type':_0x5c7e66(0x27b)}},'required':['questionText',_0x5c7e66(0x69b),_0x5c7e66(0xcf3),_0x5c7e66(0x989)]};break;}try{let _0x8ddd27=await callAnalysisApi(_0x4aa268,_0x4c4a55);_0x8ddd27[_0x5c7e66(0x69b)]&&Array[_0x5c7e66(0x4e7)](_0x8ddd27['options'])&&(_0x8ddd27[_0x5c7e66(0x69b)]=_0x8ddd27[_0x5c7e66(0x69b)][_0x5c7e66(0x2b5)](_0x50f9db=>typeof _0x50f9db===_0x5c7e66(0x267)?_0x50f9db[_0x5c7e66(0xad8)](/S(\s*[\d_]+?\s*)S/g,_0x5c7e66(0xa7e)):_0x50f9db)),_0x100412[_0x5c7e66(0xbe1)]&&_0x100412[_0x5c7e66(0xbe1)]['includes'](_0x5c7e66(0x41e))&&(_0x8ddd27[_0x5c7e66(0xbe1)]=''),currentEditingQuizData[_0x5c7e66(0xcaf)][_0x213945]={..._0x100412,..._0x8ddd27},renderQuizEditor(currentEditingQuizData),showMessage(_0x5c7e66(0x2e1));}catch(_0x36a6f5){console[_0x5c7e66(0x56e)](_0x5c7e66(0x25c),_0x36a6f5),showMessage(_0x5c7e66(0x7f4)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x595c8f=_0x1d88bf,_0x3b68de=document['getElementById'](_0x595c8f(0x53e));_0x3b68de[_0x595c8f(0x6d3)]=!![],_0x3b68de[_0x595c8f(0x6b3)]=_0x595c8f(0xaed);try{const _0x3b5992=document[_0x595c8f(0x9bf)]('editor-quiz-topic')[_0x595c8f(0xb00)],_0x3be84e=document['querySelectorAll'](_0x595c8f(0x9ad));let _0x4294b6=[];const _0xea95c0=Array[_0x595c8f(0x788)](_0x3be84e)['map']((_0x50a1b7,_0x2eddd4)=>{const _0x385d91=_0x595c8f,_0x18cfec=_0x50a1b7[_0x385d91(0xc05)][_0x385d91(0x7b1)],_0x322bef=_0x50a1b7[_0x385d91(0x583)](_0x385d91(0x1e8))[_0x385d91(0xb00)][_0x385d91(0xad8)](/\n/g,_0x385d91(0xb9b));let _0x268d34={'questionType':_0x18cfec};const _0x5c7a53=currentEditingQuizData[_0x385d91(0xcaf)][_0x2eddd4];switch(_0x18cfec){case _0x385d91(0xa01):_0x268d34[_0x385d91(0x3ab)]=_0x322bef;const _0x1d16fc=_0x50a1b7[_0x385d91(0x468)](_0x385d91(0x264));_0x268d34[_0x385d91(0x69b)]=Array[_0x385d91(0x788)](_0x1d16fc)[_0x385d91(0x2b5)](_0x4e556e=>_0x4e556e[_0x385d91(0xb00)]);const _0x4df46a=_0x50a1b7[_0x385d91(0x583)](_0x385d91(0x3be));_0x268d34[_0x385d91(0xcf3)]=_0x4df46a?parseInt(_0x4df46a[_0x385d91(0xb00)]):0x0;break;case _0x385d91(0x7ff):_0x268d34[_0x385d91(0x3ab)]=_0x322bef,_0x268d34[_0x385d91(0x549)]=_0x50a1b7[_0x385d91(0x583)]('.ideal-answer-input')['value'];break;case _0x385d91(0x9c3):_0x268d34[_0x385d91(0x3ab)]=_0x322bef;const _0x358d0a=_0x50a1b7[_0x385d91(0x583)](_0x385d91(0x3be));_0x268d34[_0x385d91(0x661)]=_0x358d0a?_0x358d0a['value']==='true':!![];break;case'matching_item':_0x268d34[_0x385d91(0xc5b)]=_0x322bef;const _0x54b4ed=_0x50a1b7[_0x385d91(0x583)](_0x385d91(0x4c4));_0x268d34[_0x385d91(0x1db)]=_0x54b4ed?_0x54b4ed[_0x385d91(0xb00)]:'',_0x4294b6['push'](_0x268d34[_0x385d91(0x1db)]);break;default:_0x268d34['questionText']=_0x322bef;break;}return{..._0x5c7a53,..._0x268d34};});_0x4294b6[_0x595c8f(0x9dc)]>0x0&&_0xea95c0['forEach'](_0x5edde6=>{const _0x1ff5a0=_0x595c8f;_0x5edde6[_0x1ff5a0(0xa42)]===_0x1ff5a0(0x8ad)&&(_0x5edde6[_0x1ff5a0(0x783)]=_0x4294b6);});const _0x10ea27=currentEditingQuizData['id'],_0x45c734=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x10ea27);await updateDoc(_0x45c734,{'topic':_0x3b5992,'questions':_0xea95c0}),document[_0x595c8f(0x9bf)](_0x595c8f(0x32a))['classList']['add'](_0x595c8f(0x8da)),showMessage(_0x595c8f(0x4b0),()=>initiateReGradeProcess(_0x10ea27));}catch(_0x267706){console[_0x595c8f(0x56e)]('Error\x20saving\x20quiz\x20edits:',_0x267706),showMessage(_0x595c8f(0x74d));}finally{_0x3b68de[_0x595c8f(0x6d3)]=![],_0x3b68de[_0x595c8f(0x6b3)]=_0x595c8f(0xc6d);}}async function initiateReGradeProcess(_0x2b0aef){const _0x175216=_0x1d88bf;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x3ee26c=doc(db,'artifacts/'+appId+_0x175216(0x289),_0x2b0aef),_0x283e4c=await getDoc(_0x3ee26c);if(!_0x283e4c[_0x175216(0xb67)]())throw new Error(_0x175216(0xa66));const _0x2e94c3={'id':_0x2b0aef,..._0x283e4c[_0x175216(0x7bb)]()},_0x23ea0a=collection(db,_0x175216(0x30c)+appId+_0x175216(0x289),_0x2b0aef,_0x175216(0x580)),_0x2bd034=await getDocs(_0x23ea0a);if(_0x2bd034['empty']){showMessage(_0x175216(0x586));return;}const _0x59c140=_0x2bd034[_0x175216(0xa78)][_0x175216(0x2b5)](_0x4ca6bf=>reGradeSingleSubmission(_0x4ca6bf,_0x2e94c3));await Promise[_0x175216(0x875)](_0x59c140);if(_0x2e94c3[_0x175216(0xb16)]){const _0x4f706f=doc(db,'artifacts/'+appId+'/public/data/projects',_0x2e94c3[_0x175216(0xb16)]),_0x5bf49e=await getDoc(_0x4f706f);if(_0x5bf49e[_0x175216(0xb67)]()&&_0x5bf49e[_0x175216(0x7bb)]()[_0x175216(0xa64)]){const _0x336a0e=_0x5bf49e['data']()[_0x175216(0xa64)][_0x175216(0x2b5)](_0x5b7523=>updateStudentProfile(_0x2e94c3[_0x175216(0xb16)],_0x5b7523));await Promise[_0x175216(0x875)](_0x336a0e);}}showMessage(_0x175216(0x64a)+_0x2bd034[_0x175216(0x8d7)]+_0x175216(0x485));}catch(_0x346c29){console['error']('Re-grade\x20process\x20failed:',_0x346c29),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x346c29['message']);}}async function reGradeSingleSubmission(_0x3111eb,_0x182d6a){const _0x1b2974=_0x1d88bf,_0x3134c2=_0x3111eb['data'](),_0x37e0e5=_0x3134c2[_0x1b2974(0x7ed)],_0x214941=_0x3134c2[_0x1b2974(0x879)]||[],_0x22d4fa=[];for(const _0x289610 of _0x214941){let _0x22d6fe=0x0,_0x26fd39=[],_0x12e308=0x0;const _0x1b8243=[];for(const _0xf6cdc4 of _0x289610['answers']){let _0x284796;_0xf6cdc4[_0x1b2974(0x54c)]&&(_0x284796=_0x182d6a[_0x1b2974(0xcaf)]['find'](_0x3e2367=>_0x3e2367['id']===_0xf6cdc4[_0x1b2974(0x54c)]));!_0x284796&&_0xf6cdc4[_0x1b2974(0x8b4)]&&(_0x284796=_0x182d6a[_0x1b2974(0xcaf)]['find'](_0x5a7da1=>(_0x5a7da1[_0x1b2974(0xc5b)]||_0x5a7da1[_0x1b2974(0x3ab)])===_0xf6cdc4[_0x1b2974(0x8b4)]));let _0x13332b=![];if(_0x284796){const _0x3b5a43=_0x284796[_0x1b2974(0xa42)]||_0x182d6a['quizType'];switch(_0x3b5a43){case _0x1b2974(0xa01):if(_0x284796[_0x1b2974(0x69b)]&&_0x284796['correctAnswerIndex']<_0x284796['options'][_0x1b2974(0x9dc)]){const _0x4a5a77=_0x284796['options'][_0x284796['correctAnswerIndex']];_0x13332b=_0xf6cdc4[_0x1b2974(0xb90)]===_0x4a5a77;}break;case _0x1b2974(0x9c3):const _0x4eae46=_0xf6cdc4['answer']===!![]||_0xf6cdc4[_0x1b2974(0x5be)]===_0x1b2974(0x8a5);_0x13332b=_0x4eae46===_0x284796['correctAnswer'];break;case _0x1b2974(0x8ad):_0x13332b=_0xf6cdc4['answer']===_0x284796['correctResponse'];break;case'short_answer':_0x13332b=await gradeShortAnswer(_0xf6cdc4[_0x1b2974(0x5be)],_0x284796);break;default:_0x13332b=_0xf6cdc4[_0x1b2974(0x23a)];break;}}if(_0x13332b){_0x22d6fe++,_0x12e308++;if(_0x12e308===0x3)_0x26fd39['push'](BADGES[_0x1b2974(0xd06)]['id']);}else _0x12e308=0x0;_0x1b8243[_0x1b2974(0x488)]({..._0xf6cdc4,'isCorrect':_0x13332b});}let _0x3c1494=_0x22d6fe*0xa;_0x22d6fe===_0x182d6a[_0x1b2974(0xcaf)][_0x1b2974(0x9dc)]&&(_0x3c1494+=0x32,_0x26fd39[_0x1b2974(0x488)](BADGES[_0x1b2974(0x509)]['id'])),_0x22d4fa[_0x1b2974(0x488)]({..._0x289610,'score':_0x22d6fe,'points':_0x3c1494,'badges':Array[_0x1b2974(0x788)](new Set(_0x26fd39)),'answers':_0x1b8243});}const _0x18d479=_0x22d4fa[_0x1b2974(0x9dc)]>0x0?_0x22d4fa[0x0][_0x1b2974(0x847)]:0x0,_0x1331e0=Math[_0x1b2974(0xc68)](..._0x22d4fa[_0x1b2974(0x2b5)](_0xfe10aa=>_0xfe10aa[_0x1b2974(0x847)])),_0x708270=_0x22d4fa[_0x1b2974(0x9dc)]>0x0?_0x22d4fa[_0x22d4fa[_0x1b2974(0x9dc)]-0x1][_0x1b2974(0x847)]:0x0,_0x1d2c08=_0x22d4fa[_0x1b2974(0x9dc)]>0x0?_0x22d4fa[_0x22d4fa[_0x1b2974(0x9dc)]-0x1][_0x1b2974(0xb94)]:0x0,_0x59684c=doc(db,_0x1b2974(0x30c)+appId+_0x1b2974(0xb14)+_0x182d6a['id']+_0x1b2974(0x472),_0x37e0e5);await updateDoc(_0x59684c,{'attempts':_0x22d4fa,'firstScore':_0x18d479,'bestScore':_0x1331e0,'latestScore':_0x708270,'points':_0x1d2c08});}function cleanupQuizOptions(_0x1ee427){const _0x4f613c=_0x1d88bf,_0x8fbb7c=(_0x1a3749,_0x2088e0)=>_0x2088e0===0x0?_0x1a3749:_0x8fbb7c(_0x2088e0,_0x1a3749%_0x2088e0),_0x1891a0=_0x5c1410=>{const _0x374540=_0x5713;if(typeof _0x5c1410!==_0x374540(0x267))return null;_0x5c1410=_0x5c1410[_0x374540(0xb22)]();const _0x1bd936=_0x5c1410[_0x374540(0xb46)](/[ /]/)[_0x374540(0x408)](_0x111420=>_0x111420!=='');if(_0x1bd936[_0x374540(0x9dc)]===0x3)return parseInt(_0x1bd936[0x0])+parseInt(_0x1bd936[0x1])/parseInt(_0x1bd936[0x2]);else{if(_0x1bd936['length']===0x2)return parseInt(_0x1bd936[0x0])/parseInt(_0x1bd936[0x1]);else{if(_0x1bd936[_0x374540(0x9dc)]===0x1&&!isNaN(_0x1bd936[0x0]))return parseFloat(_0x1bd936[0x0]);}}return null;},_0x245d2b=_0x17ec4d=>{const _0x514ecd=_0x5713;if(typeof _0x17ec4d!=='string')return _0x17ec4d;const _0x5bc9a3=_0x17ec4d[_0x514ecd(0x212)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5bc9a3){const _0x530afb=parseInt(_0x5bc9a3[0x1]);let _0x185d0f=parseInt(_0x5bc9a3[0x2]),_0x3f4a79=parseInt(_0x5bc9a3[0x3]);const _0x4f3f47=_0x8fbb7c(_0x185d0f,_0x3f4a79);_0x185d0f/=_0x4f3f47,_0x3f4a79/=_0x4f3f47;if(_0x3f4a79===0x1)return(_0x530afb+_0x185d0f)[_0x514ecd(0xce7)]();return _0x530afb+'\x20'+_0x185d0f+'/'+_0x3f4a79;}return _0x17ec4d;};return _0x1ee427&&_0x1ee427['questions']&&_0x1ee427[_0x4f613c(0xcaf)][_0x4f613c(0xb2a)](_0x4934a0=>{const _0x55c8ba=_0x4f613c;if(_0x4934a0[_0x55c8ba(0xa42)]===_0x55c8ba(0xa01)&&_0x4934a0[_0x55c8ba(0x69b)]){const _0x272853=new Map(),_0x753da3=_0x4934a0[_0x55c8ba(0x69b)][_0x4934a0[_0x55c8ba(0xcf3)]];_0x4934a0['options'][_0x55c8ba(0xb2a)](_0x37db27=>{const _0x534514=_0x55c8ba,_0x5592a4=_0x245d2b(_0x37db27),_0x3f8e26=_0x1891a0(_0x5592a4);_0x3f8e26!==null&&!_0x272853[_0x534514(0x723)](_0x3f8e26)&&_0x272853[_0x534514(0x5e4)](_0x3f8e26,_0x5592a4);}),_0x4934a0[_0x55c8ba(0x69b)]=Array[_0x55c8ba(0x788)](_0x272853['values']());const _0x4f9c64=_0x4934a0[_0x55c8ba(0x69b)]['findIndex'](_0x1e13f4=>_0x1e13f4===_0x245d2b(_0x753da3));_0x4934a0[_0x55c8ba(0xcf3)]=_0x4f9c64!==-0x1?_0x4f9c64:0x0;}}),_0x1ee427;}function showGameStartConfirmationModal(_0x495235,_0x219d19,_0x469517){const _0x19a354=_0x1d88bf,_0x2db58c=document[_0x19a354(0x9bf)](_0x19a354(0x8ed));document[_0x19a354(0x9bf)]('game-start-modal-title')[_0x19a354(0xa9a)]=_0x19a354(0xac4)+_0x469517,document[_0x19a354(0x9bf)]('game-start-quiz-id')[_0x19a354(0xb00)]=_0x495235,document[_0x19a354(0x9bf)]('game-start-mode')[_0x19a354(0xb00)]=_0x219d19,document[_0x19a354(0x9bf)]('save-game-results-checkbox')[_0x19a354(0xc13)]=!![],_0x2db58c[_0x19a354(0x5a7)][_0x19a354(0x2bd)](_0x19a354(0x8da));}async function saveGameResultsAsSubmissions(_0x7579ce){const _0x1b16c5=_0x1d88bf;console[_0x1b16c5(0xc30)](_0x1b16c5(0xb2f),_0x7579ce);const _0x95c29c=_0x7579ce[_0x1b16c5(0x2cf)];let _0x4ae730=[];if(_0x7579ce['players'])_0x4ae730=Object[_0x1b16c5(0xb37)](_0x7579ce[_0x1b16c5(0x373)])[_0x1b16c5(0x2b5)](([_0x5328f0,_0x376eb9])=>({'name':_0x5328f0,..._0x376eb9}));else{if(_0x7579ce[_0x1b16c5(0x6a1)])Object[_0x1b16c5(0xce2)](_0x7579ce[_0x1b16c5(0x6a1)])[_0x1b16c5(0xb2a)](_0x264534=>{const _0x4c76e1=_0x1b16c5;_0x264534['members'][_0x4c76e1(0xb2a)](_0x1211bd=>{const _0xb4c287=_0x4c76e1;_0x4ae730[_0xb4c287(0x488)]({'name':_0x1211bd,'score':_0x264534['score']});});});else _0x7579ce[_0x1b16c5(0xa58)]&&Object[_0x1b16c5(0xb37)](_0x7579ce[_0x1b16c5(0xa58)])[_0x1b16c5(0xb2a)](([_0x249306,_0x2d5d1b])=>{const _0x448a1a=_0x1b16c5;_0x4ae730[_0x448a1a(0x488)]({'name':_0x249306,..._0x2d5d1b});});}if(_0x4ae730[_0x1b16c5(0x9dc)]===0x0){console[_0x1b16c5(0xc30)](_0x1b16c5(0x4ec));return;}const _0x396547=_0x7579ce[_0x1b16c5(0x2f8)]?.[_0x1b16c5(0xcaf)][_0x1b16c5(0x9dc)]||currentQuizData[_0x1b16c5(0xcaf)][_0x1b16c5(0x9dc)],_0x29e8f9=writeBatch(db);for(const _0x931ba6 of _0x4ae730){const _0x1bdeac=_0x931ba6[_0x1b16c5(0x847)]||0x0,_0x4ac804=doc(db,_0x1b16c5(0x30c)+appId+_0x1b16c5(0xb14)+_0x95c29c+'/submissions',_0x931ba6[_0x1b16c5(0xa80)]),_0x4a15e3=(_0x931ba6[_0x1b16c5(0x8ec)]||[])[_0x1b16c5(0x408)](_0x1a8a20=>_0x1a8a20[_0x1b16c5(0x23a)])[_0x1b16c5(0x9dc)],_0xb79d00={'score':_0x4a15e3,'points':_0x1bdeac,'badges':_0x931ba6[_0x1b16c5(0x9ca)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x931ba6[_0x1b16c5(0x8ec)]||[])[_0x1b16c5(0x2b5)](_0x36200d=>({'questionId':_0x36200d[_0x1b16c5(0x54c)],'answer':_0x36200d[_0x1b16c5(0x5be)],'answerText':_0x36200d[_0x1b16c5(0xb90)],'isCorrect':_0x36200d[_0x1b16c5(0x23a)],'originalQuestionText':_0x36200d[_0x1b16c5(0x8b4)],'wasConfident':_0x36200d[_0x1b16c5(0xcc5)]}))},_0x4df884=await getDoc(_0x4ac804),_0x10423a=_0x4df884[_0x1b16c5(0xb67)]()?_0x4df884[_0x1b16c5(0x7bb)]():{},_0xb94d28=_0x10423a[_0x1b16c5(0xa30)]||0x0,_0x130813=_0x10423a[_0x1b16c5(0x879)]||[],_0x2c57e9={'studentName':_0x931ba6[_0x1b16c5(0xa80)],'totalQuestions':_0x396547,'attempts':arrayUnion(_0xb79d00),'latestScore':_0x4a15e3,'points':_0x1bdeac,'latestSubmittedAt':_0xb79d00[_0x1b16c5(0xa55)],'bestScore':Math[_0x1b16c5(0xc68)](_0xb94d28,_0x4a15e3),'firstScore':_0x130813[_0x1b16c5(0x9dc)]===0x0?_0x4a15e3:_0x10423a['firstScore']||0x0};_0x29e8f9[_0x1b16c5(0x5e4)](_0x4ac804,_0x2c57e9,{'merge':!![]});}try{await _0x29e8f9[_0x1b16c5(0x80a)](),showMessage(_0x1b16c5(0x79a)+_0x4ae730[_0x1b16c5(0x9dc)]+_0x1b16c5(0x5ec));const _0x418c18=_0x7579ce[_0x1b16c5(0x2f8)]?.[_0x1b16c5(0xb16)]||currentQuizData?.[_0x1b16c5(0xb16)]||currentProjectId;if(_0x418c18){const _0x598374=[...new Set(_0x4ae730[_0x1b16c5(0x2b5)](_0x4c3045=>_0x4c3045[_0x1b16c5(0xa80)]))];for(const _0x32f375 of _0x598374){await updateStudentProfile(_0x418c18,_0x32f375);}}}catch(_0x393ffb){console['error'](_0x1b16c5(0x9a1),_0x393ffb),showMessage(_0x1b16c5(0x6c4));}}async function saveQuiz(_0x3fd67b=null,_0xc5d61b=null){const _0x1ffdab=_0x1d88bf,_0x3d3eca=_0x3fd67b||currentProjectId;if(!_0x3d3eca){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1ffdab(0xcaf)]||!userId){showMessage(_0x1ffdab(0x772));return;}const _0x2f9bfa=document['getElementById']('save-quiz-btn');_0x2f9bfa[_0x1ffdab(0x6d3)]=!![],_0x2f9bfa[_0x1ffdab(0x6b3)]=_0x1ffdab(0xaed);const _0x2ad4c1=document[_0x1ffdab(0x9bf)](_0x1ffdab(0x3e3))[_0x1ffdab(0xc13)];let _0x27a449=document[_0x1ffdab(0x9bf)](_0x1ffdab(0x7a4))[_0x1ffdab(0x603)][_0x1ffdab(0xb22)]();_0x2ad4c1&&!_0x27a449['startsWith'](_0x1ffdab(0x8c9))&&(_0x27a449=_0x1ffdab(0xc66)+_0x27a449);try{const _0x538b8c={'resultsDisplay':document[_0x1ffdab(0x9bf)](_0x1ffdab(0xcee))[_0x1ffdab(0xb00)],'shuffle':document[_0x1ffdab(0x9bf)](_0x1ffdab(0xb06))['value'],'timerMode':document[_0x1ffdab(0x9bf)]('timer-mode-select')[_0x1ffdab(0xb00)],'timerDuration':parseInt(document[_0x1ffdab(0x9bf)]('timer-duration-input')[_0x1ffdab(0xb00)])||0xa,'passingScore':parseInt(document['getElementById'](_0x1ffdab(0xd05))['value'])||0x0,'isAdaptive':document[_0x1ffdab(0x9bf)]('adaptive-quiz-checkbox')[_0x1ffdab(0xc13)],'loopUntilPass':document['getElementById'](_0x1ffdab(0x5d2))['checked']},_0x525676=(currentQuizData[_0x1ffdab(0xcaf)]||[])[_0x1ffdab(0x2b5)]((_0x1474fb,_0x4241d5)=>{const _0x1fea40=_0x1ffdab,_0x4e631b=document[_0x1fea40(0x9bf)](_0x1fea40(0x2db))[_0x1fea40(0xb00)],_0x3bd911={'id':'q_'+Date[_0x1fea40(0x49e)]()+'_'+_0x4241d5,'questionText':_0x1474fb[_0x1fea40(0x3ab)]||'','explanation':_0x1474fb[_0x1fea40(0x989)]||_0x1fea40(0xbce),'questionType':_0x1474fb[_0x1fea40(0xa42)]||_0x4e631b,'imageCode':_0x1474fb[_0x1fea40(0xbe1)]||null};return(_0x3bd911[_0x1fea40(0xa42)]===_0x1fea40(0xa01)||_0x3bd911['questionType']==='fill_in_with_choices'||_0x3bd911['questionType']===_0x1fea40(0xcbe)&&_0x1474fb[_0x1fea40(0x69b)])&&(_0x3bd911[_0x1fea40(0x69b)]=_0x1474fb[_0x1fea40(0x69b)]||[],_0x3bd911['correctAnswerIndex']=_0x1474fb[_0x1fea40(0xcf3)]!==undefined?_0x1474fb[_0x1fea40(0xcf3)]:0x0),(_0x3bd911[_0x1fea40(0xa42)]===_0x1fea40(0x7ff)||_0x3bd911[_0x1fea40(0xa42)]===_0x1fea40(0x761)||_0x3bd911[_0x1fea40(0xa42)]==='mixed'&&_0x1474fb[_0x1fea40(0x549)])&&(_0x3bd911[_0x1fea40(0x549)]=_0x1474fb[_0x1fea40(0x549)]||''),_0x3bd911[_0x1fea40(0xa42)]===_0x1fea40(0x9c3)&&(_0x3bd911[_0x1fea40(0x661)]=_0x1474fb[_0x1fea40(0x661)]===!![]),_0x3bd911[_0x1fea40(0xa42)]==='matching_item'&&(_0x3bd911[_0x1fea40(0xc5b)]=_0x1474fb[_0x1fea40(0xc5b)]||'',_0x3bd911[_0x1fea40(0x1db)]=_0x1474fb[_0x1fea40(0x1db)]||'',_0x3bd911[_0x1fea40(0x783)]=_0x1474fb[_0x1fea40(0x783)]||[]),_0x3bd911;}),_0x4aea60={'topic':_0x27a449,'quizType':currentQuizData[_0x1ffdab(0x854)]||_0x1ffdab(0xa01),'questions':_0x525676,'projectId':_0x3d3eca,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x1ffdab(0x53f),'settings':_0x538b8c,'quizMode':_0x2ad4c1?_0x1ffdab(0x5c9):_0x1ffdab(0x1d1),'pairedQuizId':null,'lessonPlan':null};let _0x8fb352;while(!![]){_0x8fb352=Math[_0x1ffdab(0x92f)](0x3e8+Math[_0x1ffdab(0xcb0)]()*0x2328)[_0x1ffdab(0xce7)]();const _0x90c99b=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x8fb352));if(!_0x90c99b[_0x1ffdab(0xb67)]())break;}await setDoc(doc(db,_0x1ffdab(0x30c)+appId+_0x1ffdab(0x289),_0x8fb352),_0x4aea60);if(_0xc5d61b&&currentBlueprintProjectId){console[_0x1ffdab(0xc30)](_0x1ffdab(0x194)+_0x8fb352+_0x1ffdab(0x93c)+_0xc5d61b);try{const _0xada575=doc(db,_0x1ffdab(0x30c)+appId+_0x1ffdab(0x75e),currentBlueprintProjectId);await updateDoc(_0xada575,{[_0x1ffdab(0x517)+_0xc5d61b+'.linkedQuizIds']:arrayUnion(_0x8fb352)});}catch(_0x3cee48){console[_0x1ffdab(0x56e)](_0x1ffdab(0x563),_0x3cee48);}}currentQuizData[_0x1ffdab(0x3ad)]=_0x538b8c,currentQuizData['id']=_0x8fb352;const _0x341280=document[_0x1ffdab(0x9bf)](_0x1ffdab(0xa76));_0x341280['innerHTML']=_0x1ffdab(0xbf8)+_0x8fb352+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x1ffdab(0x9bf)](_0x1ffdab(0xbe5))[_0x1ffdab(0x8c1)]('click',()=>copyTextToClipboard(_0x8fb352,_0x1ffdab(0x1d3))),document[_0x1ffdab(0x9bf)](_0x1ffdab(0x23c))['addEventListener'](_0x1ffdab(0x7c2),()=>handleStartLiveRace(_0x8fb352)),document[_0x1ffdab(0x9bf)]('start-presentation-btn')[_0x1ffdab(0x8c1)]('click',()=>startPresentation(currentQuizData)),document[_0x1ffdab(0x9bf)](_0x1ffdab(0x638))['addEventListener']('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x23ca41){console[_0x1ffdab(0x56e)](_0x1ffdab(0x329),_0x23ca41),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x2f9bfa['disabled']=![],_0x2f9bfa[_0x1ffdab(0x6b3)]=_0x1ffdab(0xc82);}}function promptForProjectAndSave(){const _0x55b552=_0x1d88bf,_0x3d4905=document[_0x55b552(0x9bf)]('move-quiz-modal'),_0x16ea41=document['getElementById'](_0x55b552(0xad7)),_0x503bc4=_0x3d4905['querySelector']('h3'),_0x3b8455=document['getElementById'](_0x55b552(0x6d6));_0x503bc4['textContent']=_0x55b552(0x5ee),_0x3b8455[_0x55b552(0xa9a)]='เลือกและบันทึก';allProjects[_0x55b552(0x9dc)]===0x0?(_0x16ea41[_0x55b552(0x6b3)]=_0x55b552(0x348),_0x3b8455[_0x55b552(0x6d3)]=!![]):(_0x16ea41['innerHTML']=allProjects[_0x55b552(0x2b5)](_0x3d5893=>_0x55b552(0x78c)+_0x3d5893['id']+'\x22>'+_0x3d5893['projectName']+'</option>')[_0x55b552(0x77f)](''),_0x3b8455[_0x55b552(0x6d3)]=![]);_0x3d4905[_0x55b552(0x5a7)][_0x55b552(0x2bd)](_0x55b552(0x8da));const _0x67bc4b=()=>{const _0x251ceb=_0x55b552,_0x5550fb=_0x16ea41['value'];_0x5550fb?(currentProjectId=_0x5550fb,_0x3d4905['classList'][_0x251ceb(0x3b1)](_0x251ceb(0x8da)),saveQuiz(),_0x503bc4['textContent']=_0x251ceb(0x5d1),_0x3b8455[_0x251ceb(0xa9a)]=_0x251ceb(0x30a),_0x3b8455[_0x251ceb(0x930)](_0x251ceb(0x7c2),_0x67bc4b),_0x3b8455[_0x251ceb(0x8c1)](_0x251ceb(0x7c2),confirmMoveQuiz)):showMessage(_0x251ceb(0xb7e));};_0x3b8455['removeEventListener'](_0x55b552(0x7c2),confirmMoveQuiz),_0x3b8455['addEventListener'](_0x55b552(0x7c2),_0x67bc4b);}function copyTextToClipboard(_0x22f6bc,_0x506730){const _0x375340=_0x1d88bf,_0x30fe1e=document[_0x375340(0xb04)](_0x375340(0x1e8));_0x30fe1e[_0x375340(0xb00)]=_0x22f6bc,_0x30fe1e['style']['position']=_0x375340(0xb1d),_0x30fe1e[_0x375340(0x641)][_0x375340(0xbe6)]='0',document['body'][_0x375340(0x5b9)](_0x30fe1e),_0x30fe1e[_0x375340(0x544)](),_0x30fe1e['select']();try{const _0x4154ea=document[_0x375340(0x952)]('copy');showMessage(_0x4154ea?_0x506730:_0x375340(0x687));}catch(_0x10001f){showMessage('คัดลอกไม่สำเร็จ'),console[_0x375340(0x56e)](_0x375340(0x832),_0x10001f);}document[_0x375340(0x7bf)][_0x375340(0xab2)](_0x30fe1e);}function listenForProjectQuizzes(_0x2c0e37){const _0x2faec4=_0x1d88bf,_0x39fb71=collection(db,_0x2faec4(0x30c)+appId+_0x2faec4(0x289)),_0x10c2df=query(_0x39fb71,where(_0x2faec4(0xb16),'==',_0x2c0e37));unsubscribeQuizzesListener=onSnapshot(_0x10c2df,async _0x563bc1=>{const _0x113641=_0x2faec4;allQuizzes=_0x563bc1[_0x113641(0xa78)]['map'](_0x387b1d=>({'id':_0x387b1d['id'],..._0x387b1d[_0x113641(0x7bb)]()})),renderQuizzes();},_0x4e615a=>{const _0x58b7ae=_0x2faec4;console['error'](_0x58b7ae(0x19c),_0x4e615a),document['getElementById'](_0x58b7ae(0x1f7))[_0x58b7ae(0x6b3)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x137ae4=_0x1d88bf,_0x5b02e5=document['getElementById'](_0x137ae4(0x1f7)),_0x473408=document['getElementById']('quiz-search-input')[_0x137ae4(0xb00)][_0x137ae4(0xbb3)]();let _0x50bc24;currentProjectId===_0x137ae4(0x1f1)?_0x50bc24=starredQuizzes:_0x50bc24=allQuizzes;let _0x41a0ba=_0x50bc24['filter'](_0x21cb31=>_0x21cb31[_0x137ae4(0x6f8)][_0x137ae4(0xbb3)]()['includes'](_0x473408));_0x41a0ba[_0x137ae4(0x79f)]((_0x5aab0b,_0x497216)=>new Date(_0x497216[_0x137ae4(0x43e)])-new Date(_0x5aab0b[_0x137ae4(0x43e)]));if(_0x41a0ba[_0x137ae4(0x9dc)]===0x0){_0x5b02e5[_0x137ae4(0x6b3)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x3476d5={},_0x4ddd79=_0x41a0ba['map'](async _0x16ac54=>{const _0x2a83ca=_0x137ae4,_0x2bae07=collection(db,_0x2a83ca(0x30c)+appId+_0x2a83ca(0xb14)+_0x16ac54['id']+_0x2a83ca(0x472)),_0x226241=await getDocs(_0x2bae07);_0x3476d5[_0x16ac54['id']]=_0x226241[_0x2a83ca(0x8d7)];});await Promise[_0x137ae4(0x875)](_0x4ddd79);let _0x4217a7='';_0x41a0ba[_0x137ae4(0xb2a)](_0x10cbcf=>{const _0x452e5f=_0x137ae4,_0x1a4b9f=_0x3476d5[_0x10cbcf['id']]||0x0,_0x4c5a00=_0x10cbcf[_0x452e5f(0x5e0)]||_0x452e5f(0x53f),_0x4bb8d8=_0x10cbcf['settings']?.[_0x452e5f(0x97c)]||'none';let _0x2ae330='',_0x408040='';const _0x15a5ca=new Date();let _0xd10295=_0x4c5a00;if(_0x4c5a00===_0x452e5f(0x4e2)){const _0x41fd56=_0x10cbcf[_0x452e5f(0x6cb)]?new Date(_0x10cbcf[_0x452e5f(0x6cb)]):null,_0x409d25=_0x10cbcf[_0x452e5f(0xc4f)]?new Date(_0x10cbcf[_0x452e5f(0xc4f)]):null;if(_0x409d25&&_0x15a5ca>_0x409d25)_0xd10295=_0x452e5f(0x95f);else _0x41fd56&&_0x15a5ca<_0x41fd56?_0xd10295=_0x452e5f(0xa89):_0xd10295=_0x452e5f(0x53f);}switch(_0xd10295){case _0x452e5f(0x95f):_0x2ae330=_0x452e5f(0x57f),_0x408040=_0x452e5f(0x449);break;case _0x452e5f(0xa89):_0x2ae330=_0x452e5f(0xcb7),_0x408040='text-blue-700\x20bg-blue-100';break;case'active':_0x2ae330=_0x4bb8d8!==_0x452e5f(0x44e)?_0x452e5f(0x7f5):_0x452e5f(0x564),_0x408040='text-green-700\x20bg-green-100';break;default:_0x2ae330=_0x452e5f(0x351),_0x408040='text-green-700\x20bg-green-100';break;}let _0x26910e='';const _0x29e6e9={'day':'2-digit','month':_0x452e5f(0x942),'year':_0x452e5f(0x405),'hour':_0x452e5f(0x942),'minute':'2-digit','hour12':![]};if(_0x4c5a00===_0x452e5f(0x4e2)){if(_0x10cbcf[_0x452e5f(0x6cb)])_0x26910e+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x10cbcf['startTime'])['toLocaleString'](_0x452e5f(0xb25),_0x29e6e9)+_0x452e5f(0xbab);if(_0x10cbcf[_0x452e5f(0xc4f)])_0x26910e+=_0x452e5f(0x502)+new Date(_0x10cbcf['endTime'])[_0x452e5f(0xb58)](_0x452e5f(0xb25),_0x29e6e9)+_0x452e5f(0xbab);}let _0x431fa4='';if(_0x10cbcf[_0x452e5f(0x3bb)]){const _0x3abd7f=allQuizzes[_0x452e5f(0x9c1)](_0x2799ee=>_0x2799ee['id']===_0x10cbcf[_0x452e5f(0x3bb)]);if(_0x3abd7f){let _0x41486a,_0x3c2892;new Date(_0x10cbcf[_0x452e5f(0x43e)])<new Date(_0x3abd7f[_0x452e5f(0x43e)])?(_0x41486a=_0x10cbcf['id'],_0x3c2892=_0x3abd7f['id']):(_0x41486a=_0x3abd7f['id'],_0x3c2892=_0x10cbcf['id']),_0x431fa4+=_0x452e5f(0x5dd)+_0x3c2892+_0x452e5f(0x20c)+_0x41486a+_0x452e5f(0x978);}}else _0x10cbcf[_0x452e5f(0x24c)]===_0x452e5f(0x5c9)&&(_0x431fa4+=_0x452e5f(0x838)+_0x10cbcf['id']+_0x452e5f(0x967));if(_0x10cbcf['quizMode']===_0x452e5f(0x5c9)&&_0x1a4b9f>0x0)_0x431fa4+=_0x452e5f(0x838)+_0x10cbcf['id']+_0x452e5f(0x6b0);else!_0x10cbcf['pairedQuizId']&&_0x10cbcf[_0x452e5f(0x24c)]!==_0x452e5f(0x5c9)&&_0x1a4b9f>0x0&&(_0x431fa4+=_0x452e5f(0x838)+_0x10cbcf['id']+_0x452e5f(0x4b9));let _0x354def='';_0x10cbcf['pairedQuizId']?_0x354def='<button\x20data-quiz-id=\x22'+_0x10cbcf['id']+_0x452e5f(0xb71):_0x354def=_0x452e5f(0x886)+_0x10cbcf['id']+_0x452e5f(0x39a),_0x4217a7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x10cbcf['id']+_0x452e5f(0x2ba)+_0x10cbcf[_0x452e5f(0x6f8)]+_0x452e5f(0x207)+_0x10cbcf[_0x452e5f(0xcaf)]['length']+_0x452e5f(0x5ff)+new Date(_0x10cbcf[_0x452e5f(0x43e)])['toLocaleString'](_0x452e5f(0xb25))+_0x452e5f(0x606)+_0x1a4b9f+_0x452e5f(0x4a6)+_0x26910e+_0x452e5f(0x4ed)+_0x408040+'\x22>'+_0x2ae330+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x10cbcf['id']+_0x452e5f(0x93f)+_0x10cbcf['id']+_0x452e5f(0x6c2)+(_0x10cbcf['isStarred']?_0x452e5f(0x7b0):_0x452e5f(0x273))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x431fa4+_0x452e5f(0xa09)+_0x10cbcf['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x10cbcf['id']+_0x452e5f(0x9e6)+_0x10cbcf['id']+_0x452e5f(0x693)+_0x10cbcf['id']+_0x452e5f(0xa6a)+_0x10cbcf['id']+_0x452e5f(0x1e2)+_0x10cbcf['id']+_0x452e5f(0xba3)+_0x10cbcf['id']+_0x452e5f(0x8d1)+_0x10cbcf['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x10cbcf['id']+_0x452e5f(0x9b8)+_0x10cbcf['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x354def+_0x452e5f(0xcce)+_0x10cbcf['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x10cbcf['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x10cbcf['id']+_0x452e5f(0xa75)+_0x10cbcf['id']+_0x452e5f(0x994)+_0x10cbcf['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x10cbcf['id']+_0x452e5f(0x809)+_0x10cbcf['id']+_0x452e5f(0x3c6)+_0x10cbcf['id']+_0x452e5f(0x8d1)+_0x10cbcf[_0x452e5f(0x6f8)]+_0x452e5f(0x414)+_0x10cbcf['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5b02e5[_0x137ae4(0x6b3)]=_0x4217a7,document[_0x137ae4(0x468)](_0x137ae4(0x74c))[_0x137ae4(0xb2a)](_0x3589ed=>{const _0x151c31=_0x137ae4;_0x3589ed[_0x151c31(0x8c1)](_0x151c31(0x7c2),()=>{const _0x39918d=_0x151c31,_0x324c9f=_0x3589ed[_0x39918d(0xc05)][_0x39918d(0x2cf)];showQuizDetailView(_0x324c9f);});});}async function handleUnpairQuiz(_0x4bc58c){const _0x33eb0a=_0x1d88bf,_0x2581e2=allQuizzes['find'](_0x144f12=>_0x144f12['id']===_0x4bc58c);if(!_0x2581e2||!_0x2581e2[_0x33eb0a(0x3bb)]){showMessage(_0x33eb0a(0x57c));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x479251=_0x33eb0a;try{const _0x2c8ec2=doc(db,'artifacts/'+appId+_0x479251(0x289),_0x4bc58c),_0xc76e6=doc(db,_0x479251(0x30c)+appId+_0x479251(0x289),_0x2581e2[_0x479251(0x3bb)]),_0x2366bd=writeBatch(db);_0x2366bd[_0x479251(0x293)](_0x2c8ec2,{'pairedQuizId':null}),_0x2366bd[_0x479251(0x293)](_0xc76e6,{'pairedQuizId':null}),await _0x2366bd[_0x479251(0x80a)](),showMessage(_0x479251(0xa6b));}catch(_0x57c3ef){console[_0x479251(0x56e)](_0x479251(0x39b),_0x57c3ef),showMessage(_0x479251(0x1ca));}});}function formatAndPrintLessonPlan(_0x2dc202,_0x5d231a){const _0x1b3760=_0x1d88bf,_0x2d4c8d=window[_0x1b3760(0xc33)]('',_0x1b3760(0x8ba)),_0x13ecc4=_0x1b3760(0x9cb)+_0x5d231a[_0x1b3760(0x6f8)]+_0x1b3760(0x982)+_0x5d231a[_0x1b3760(0x6f8)]+_0x1b3760(0x35d)+_0x2dc202[_0x1b3760(0x89e)][_0x1b3760(0x2b5)](_0x14ba31=>'<li>'+_0x14ba31+_0x1b3760(0x806))[_0x1b3760(0x77f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x2dc202[_0x1b3760(0x9f2)]+_0x1b3760(0x60b)+_0x2dc202[_0x1b3760(0x803)][_0x1b3760(0x2b5)](_0xb439a7=>_0x1b3760(0x711)+_0xb439a7[_0x1b3760(0x66d)]+_0x1b3760(0x77b)+_0xb439a7[_0x1b3760(0x4ab)]+_0x1b3760(0x7b2))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2d4c8d[_0x1b3760(0x8b7)]['write'](_0x13ecc4),_0x2d4c8d[_0x1b3760(0x8b7)][_0x1b3760(0xb70)](),_0x2d4c8d['onload']=function(){setTimeout(()=>{const _0x296ceb=_0x5713;_0x2d4c8d[_0x296ceb(0x88b)]();},0x3e8);};}async function handleAiFixFormula(_0x429936){const _0x491bdc=_0x1d88bf,_0x3488d2=document[_0x491bdc(0x583)](_0x491bdc(0x474)+_0x429936+'\x22]');if(!_0x3488d2)return;const _0x4d70ee=_0x3488d2[_0x491bdc(0xc05)][_0x491bdc(0x7b1)],_0x31b55e=_0x3488d2[_0x491bdc(0x583)]('.ai-fix-formula-btn');let _0x3a2505={'question':_0x3488d2['querySelector'](_0x491bdc(0x1e8))[_0x491bdc(0xb00)]};switch(_0x4d70ee){case _0x491bdc(0xa01):_0x3a2505[_0x491bdc(0x69b)]=Array[_0x491bdc(0x788)](_0x3488d2[_0x491bdc(0x468)](_0x491bdc(0x264)))[_0x491bdc(0x2b5)](_0x599662=>_0x599662['value']);break;case'short_answer':_0x3a2505[_0x491bdc(0x549)]=_0x3488d2[_0x491bdc(0x583)](_0x491bdc(0x2c7))[_0x491bdc(0xb00)];break;case _0x491bdc(0x8ad):_0x3a2505[_0x491bdc(0x1db)]=_0x3488d2[_0x491bdc(0x583)](_0x491bdc(0x4c4))[_0x491bdc(0xb00)];break;}_0x31b55e[_0x491bdc(0x6b3)]=_0x491bdc(0xb21),_0x31b55e['disabled']=!![];try{const _0x1ccc60=_0x491bdc(0x634)+JSON[_0x491bdc(0xa43)](_0x3a2505)+_0x491bdc(0x61f),_0x3abecc={'type':'OBJECT','properties':{'fixedData':{'type':_0x491bdc(0xca7),'properties':{'question':{'type':_0x491bdc(0x27b)},'options':{'type':_0x491bdc(0xaee),'items':{'type':_0x491bdc(0x27b)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x491bdc(0x27b)}},'required':[_0x491bdc(0x66d)]}},'required':[_0x491bdc(0x2d6)]},_0x41352=await callAnalysisApi(_0x1ccc60,_0x3abecc);if(_0x41352&&_0x41352['fixedData']){const _0x1e0a4a=_0x41352[_0x491bdc(0x2d6)];_0x3488d2[_0x491bdc(0x583)]('textarea')[_0x491bdc(0xb00)]=_0x1e0a4a['question']||_0x3a2505[_0x491bdc(0x66d)];switch(_0x4d70ee){case'multiple_choice':_0x1e0a4a[_0x491bdc(0x69b)]&&_0x1e0a4a[_0x491bdc(0x69b)]['length']>0x0&&_0x3488d2[_0x491bdc(0x468)](_0x491bdc(0x264))[_0x491bdc(0xb2a)]((_0x2be4ec,_0x5a4f1f)=>{const _0x2b7e64=_0x491bdc;_0x2be4ec[_0x2b7e64(0xb00)]=_0x1e0a4a['options'][_0x5a4f1f]||_0x3a2505[_0x2b7e64(0x69b)][_0x5a4f1f];});break;case'short_answer':_0x3488d2[_0x491bdc(0x583)](_0x491bdc(0x2c7))[_0x491bdc(0xb00)]=_0x1e0a4a[_0x491bdc(0x549)]||_0x3a2505['idealAnswer'];break;case _0x491bdc(0x8ad):_0x3488d2[_0x491bdc(0x583)](_0x491bdc(0x4c4))['value']=_0x1e0a4a[_0x491bdc(0x1db)]||_0x3a2505[_0x491bdc(0x1db)];break;}if(_0x3a2505[_0x491bdc(0x66d)]!==_0x1e0a4a[_0x491bdc(0x66d)])try{const _0x232abe=collection(db,_0x491bdc(0x30c)+appId+'/public/data/learnedFixes');await addDoc(_0x232abe,{'broken':_0x3a2505['question'],'fixed':_0x1e0a4a[_0x491bdc(0x66d)],'createdAt':serverTimestamp()});}catch(_0x1594a8){console['error']('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x1594a8);}showMessage(_0x491bdc(0x66b));}else throw new Error(_0x491bdc(0x918));}catch(_0x5a3f57){console['error'](_0x491bdc(0x2d3),_0x5a3f57),showMessage(_0x491bdc(0x26e));}finally{_0x31b55e[_0x491bdc(0x6b3)]=_0x491bdc(0x396),_0x31b55e['disabled']=![];}}async function handleGenerateLessonPlan(_0x22cb35){const _0x2b987f=_0x1d88bf;showMessage(_0x2b987f(0x2da));try{const _0x5bf35c=doc(db,_0x2b987f(0x30c)+appId+_0x2b987f(0x289),_0x22cb35),_0x3fdfcc=await getDoc(_0x5bf35c);if(!_0x3fdfcc[_0x2b987f(0xb67)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x236d31={'id':_0x22cb35,..._0x3fdfcc['data']()},_0x12d047=collection(db,_0x2b987f(0x30c)+appId+_0x2b987f(0x289),_0x22cb35,_0x2b987f(0x580)),_0x20a1fb=await getDocs(_0x12d047),_0x16664b=_0x20a1fb['docs'][_0x2b987f(0x2b5)](_0x4fb6fb=>_0x4fb6fb[_0x2b987f(0x7bb)]());if(_0x16664b[_0x2b987f(0x9dc)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x23a295=calculateItemAnalysis(_0x236d31,_0x16664b)[_0x2b987f(0xac3)],_0x2e487c=calculateDistractorAnalysis(_0x236d31,_0x16664b),_0x4d6bb3=_0x31d1b8=>{const _0x2e9a44=_0x2b987f;if(!_0x31d1b8)return'';return _0x31d1b8['replace'](/\\/g,'\x5c\x5c')[_0x2e9a44(0xad8)](/"/g,'\x5c\x22')[_0x2e9a44(0xad8)](/\n/g,'\x5cn');};let _0x1fc790='สรุปผลการวิเคราะห์:\x5cn';_0x236d31['questions'][_0x2b987f(0xb2a)]((_0x3f7850,_0x323d9d)=>{const _0x510559=_0x2b987f,_0x3f93fa=_0x23a295[_0x323d9d]?.['p']['toFixed'](0x2)||'N/A',_0x5e0f75=_0x23a295[_0x323d9d]?.['r'][_0x510559(0x8b6)](0x2)||_0x510559(0x9b2),_0x6de92b=_0x4d6bb3(_0x3f7850['questionText']||_0x3f7850[_0x510559(0xc5b)]);_0x1fc790+=_0x510559(0xa8c)+(_0x323d9d+0x1)+_0x510559(0x5a2)+_0x3f93fa+_0x510559(0x6ad)+_0x5e0f75+_0x510559(0x94c)+_0x6de92b+'\x5cn';if(_0x3f7850['questionType']==='multiple_choice'&&_0x2e487c[_0x323d9d]){const _0x55cb54=_0x2e487c[_0x323d9d],_0x575b99=Object[_0x510559(0x70c)](_0x55cb54)[_0x510559(0x408)](_0x5a8c44=>parseInt(_0x5a8c44)!==_0x3f7850[_0x510559(0xcf3)])[_0x510559(0x79f)]((_0x13b13a,_0x53e8fc)=>_0x55cb54[_0x53e8fc]['total']-_0x55cb54[_0x13b13a][_0x510559(0x6bc)])[0x0];if(_0x575b99&&_0x55cb54[_0x575b99][_0x510559(0x6bc)]>0x0){const _0x4a08cf=_0x4d6bb3(_0x55cb54[_0x575b99][_0x510559(0xa95)]);_0x1fc790+=_0x510559(0x350)+_0x4a08cf+_0x510559(0x2c1);}}});const _0x5f4812=_0x2b987f(0xcfb)+_0x236d31[_0x2b987f(0x6f8)]+_0x2b987f(0x4ee)+_0x1fc790+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x350251={'type':_0x2b987f(0xca7),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x2b987f(0x27b)}},'teachingContent':{'type':_0x2b987f(0x27b)},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x2b987f(0x27b)},'solution':{'type':_0x2b987f(0x27b)}}}}},'required':[_0x2b987f(0x89e),'teachingContent','practiceProblems']},_0xf579b2=await callAnalysisApi(_0x5f4812,_0x350251);await updateDoc(_0x5bf35c,{'lessonPlan':_0xf579b2});const _0x5c032e=_0x2b987f(0x6b8)+_0x236d31[_0x2b987f(0x6f8)]+_0x2b987f(0x452)+_0xf579b2[_0x2b987f(0x89e)]['map'](_0x59c232=>_0x2b987f(0x1b7)+_0x59c232+'</li>')[_0x2b987f(0x77f)]('')+_0x2b987f(0x354)+_0xf579b2['teachingContent']+_0x2b987f(0x765)+_0xf579b2[_0x2b987f(0x803)]['map'](_0x1b7a0d=>_0x2b987f(0x6a7)+_0x1b7a0d[_0x2b987f(0x66d)]+_0x2b987f(0xa3d)+_0x1b7a0d[_0x2b987f(0x4ab)]+_0x2b987f(0x592))[_0x2b987f(0x77f)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x2b987f(0xa8b))[_0x2b987f(0xa9a)]=_0x2b987f(0x4b3)+_0x236d31[_0x2b987f(0x6f8)],document['getElementById'](_0x2b987f(0x213))[_0x2b987f(0x6b3)]=_0x5c032e,document[_0x2b987f(0x9bf)](_0x2b987f(0xc5d))['classList'][_0x2b987f(0x2bd)](_0x2b987f(0x8da));if(window[_0x2b987f(0x7c4)])MathJax['typesetPromise']();messageModal[_0x2b987f(0x5a7)]['add']('hidden');}catch(_0x4c9abc){console['error'](_0x2b987f(0x3c8),_0x4c9abc),showMessage(_0x2b987f(0x96a)+_0x4c9abc[_0x2b987f(0x68b)]);}}async function handleDuplicateQuiz(_0x307e96){const _0x44434c=_0x1d88bf;try{const _0x4cd1d4=doc(db,_0x44434c(0x30c)+appId+_0x44434c(0x289),_0x307e96),_0x5917b4=await getDoc(_0x4cd1d4);if(_0x5917b4[_0x44434c(0xb67)]()){const _0x562827=_0x5917b4['data']();let _0x4ce287='',_0x21ceab=_0x44434c(0x1d1),_0x54c557=null;if(_0x562827[_0x44434c(0x24c)]===_0x44434c(0x5c9)){let _0x598fa9=_0x562827[_0x44434c(0x6f8)]['replace'](_0x44434c(0x8c9),'')[_0x44434c(0xb22)]();_0x4ce287='(หลังเรียน)\x20'+_0x598fa9,_0x21ceab=_0x44434c(0xa38),_0x54c557=_0x307e96;}else _0x4ce287='(คัดลอก)\x20'+_0x562827[_0x44434c(0x6f8)];const _0x362ac5={..._0x562827,'topic':_0x4ce287,'createdAt':new Date()[_0x44434c(0x7c9)](),'quizMode':_0x21ceab,'pairedQuizId':_0x54c557};let _0x54ef54;while(!![]){_0x54ef54=Math[_0x44434c(0x92f)](0x3e8+Math[_0x44434c(0xcb0)]()*0x2328)[_0x44434c(0xce7)]();const _0x1b7b2d=await getDoc(doc(db,_0x44434c(0x30c)+appId+_0x44434c(0x289),_0x54ef54));if(!_0x1b7b2d['exists']())break;}const _0x27afc1=doc(db,_0x44434c(0x30c)+appId+_0x44434c(0x289),_0x54ef54);await setDoc(_0x27afc1,_0x362ac5),_0x362ac5[_0x44434c(0x24c)]===_0x44434c(0xa38)&&await updateDoc(_0x4cd1d4,{'pairedQuizId':_0x54ef54}),showMessage(_0x44434c(0x508));}else throw new Error(_0x44434c(0x515));}catch(_0xad9142){console['error']('Error\x20duplicating\x20quiz:',_0xad9142),showMessage(_0x44434c(0x1a8));}}async function handleDeleteQuiz(_0x4fd129,_0x2eeb2e=!![]){const _0x5f11c5=_0x1d88bf;try{const _0x3763e9=writeBatch(db),_0x1961c3=collection(db,_0x5f11c5(0x30c)+appId+'/public/data/quizzes/'+_0x4fd129+_0x5f11c5(0x472)),_0x24f807=await getDocs(_0x1961c3);_0x24f807[_0x5f11c5(0xb2a)](_0x5bcfa6=>{const _0xe6e6a6=_0x5f11c5;_0x3763e9[_0xe6e6a6(0x779)](doc(_0x1961c3,_0x5bcfa6['id']));});const _0x19704d=doc(db,_0x5f11c5(0x30c)+appId+_0x5f11c5(0x289),_0x4fd129);_0x3763e9['delete'](_0x19704d),await _0x3763e9[_0x5f11c5(0x80a)]();try{console['log'](_0x5f11c5(0x929)+_0x4fd129+_0x5f11c5(0x303));const _0x513444=collection(db,_0x5f11c5(0x30c)+appId+'/public/data/blueprintProjects'),_0x6cb56a=await getDocs(_0x513444),_0x301334=[];_0x6cb56a['forEach'](_0x1797c0=>{const _0x593df1=_0x5f11c5,_0x208bab=_0x1797c0['data'](),_0x412aa0=_0x208bab['topics']||{};let _0x559240=![];for(const _0x2a36e8 in _0x412aa0){const _0x25001b=_0x412aa0[_0x2a36e8];if(_0x25001b['linkedQuizIds']&&_0x25001b[_0x593df1(0x3aa)][_0x593df1(0x3b4)](_0x4fd129)){_0x559240=!![];const _0x15502e=doc(db,_0x593df1(0x30c)+appId+_0x593df1(0x75e),_0x1797c0['id']),_0x208476=updateDoc(_0x15502e,{['topics.'+_0x2a36e8+'.linkedQuizIds']:arrayRemove(_0x4fd129)});_0x301334[_0x593df1(0x488)](_0x208476);}}}),_0x301334[_0x5f11c5(0x9dc)]>0x0&&(await Promise['all'](_0x301334),console['log']('Successfully\x20removed\x20'+_0x301334[_0x5f11c5(0x9dc)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x4fd129+'.'));}catch(_0x276dc0){console[_0x5f11c5(0x56e)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x276dc0);}_0x2eeb2e&&showMessage(_0x5f11c5(0xc54));}catch(_0x4ee24d){console[_0x5f11c5(0x56e)]('Error\x20deleting\x20quiz:',_0x4ee24d),_0x2eeb2e&&showMessage(_0x5f11c5(0x9c4));}}async function showQuizDetailView(_0xf3b0a8){const _0x183c4a=_0x1d88bf;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x183c4a(0x8e8));try{const _0x1d38a2=doc(db,_0x183c4a(0x30c)+appId+_0x183c4a(0x289),_0xf3b0a8),_0xbbd5c0=await getDoc(_0x1d38a2);if(!_0xbbd5c0[_0x183c4a(0xb67)]()){showMessage(_0x183c4a(0xa66));return;}const _0x1cb609={'id':_0xbbd5c0['id'],..._0xbbd5c0[_0x183c4a(0x7bb)]()};currentQuizData=_0x1cb609;const _0x3528cd=doc(db,'artifacts/'+appId+_0x183c4a(0x433),_0x1cb609['projectId']),_0x3846f9=await getDoc(_0x3528cd);_0x3846f9['exists']()?(currentProjectData=_0x3846f9[_0x183c4a(0x7bb)](),currentProjectId=_0x1cb609['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x1cb609[_0x183c4a(0xb16)]);document[_0x183c4a(0x9bf)](_0x183c4a(0xb7c))[_0x183c4a(0xa9a)]=_0x1cb609[_0x183c4a(0x6f8)],document[_0x183c4a(0x9bf)]('results-quiz-id-display')[_0x183c4a(0xa9a)]=_0xf3b0a8;const _0x19777d=collection(db,_0x183c4a(0x30c)+appId+_0x183c4a(0x289),_0xf3b0a8,_0x183c4a(0x580));unsubscribeSubmissionsListener=onSnapshot(_0x19777d,_0xc2ad5d=>{const _0x489d18=_0x183c4a,_0x2dca16=_0xc2ad5d[_0x489d18(0xa78)][_0x489d18(0x2b5)](_0x8d0c1d=>({'id':_0x8d0c1d['id'],..._0x8d0c1d[_0x489d18(0x7bb)]()}));currentSubmissions=_0x2dca16;const _0x34120f=_0x2dca16[_0x489d18(0x408)](_0x38bb9a=>_0x38bb9a['attempts']&&_0x38bb9a[_0x489d18(0x879)][_0x489d18(0x9dc)]>0x0);renderBehaviorLog(_0x2dca16),renderAnswerGrid(currentProjectData[_0x489d18(0xa64)],_0x34120f,_0x1cb609),renderAnalytics(_0x1cb609,_0x34120f),renderQuizResultsTable(currentProjectData[_0x489d18(0xa64)],_0x2dca16,_0x1cb609),renderQuizLeaderboard(_0x34120f,_0x1cb609,_0x489d18(0x3cd));}),showView(_0x183c4a(0x85f));}catch(_0x54f8d1){console[_0x183c4a(0x56e)](_0x183c4a(0x4e6),_0x54f8d1),showMessage(_0x183c4a(0x97d));}}function renderAnswerGrid(_0x4e6280,_0x3d50e8,_0x1d33ec){const _0xbcde33=_0x1d88bf,_0x43bc28=document[_0xbcde33(0x9bf)]('answer-grid-container');if(!_0x43bc28)return;if(!_0x4e6280||_0x4e6280[_0xbcde33(0x9dc)]===0x0){_0x43bc28[_0xbcde33(0x6b3)]=_0xbcde33(0x901);return;}const _0x3c80be=_0x1d33ec[_0xbcde33(0xcaf)],_0x5abdaf=_0x3d50e8['reduce']((_0x4aafb8,_0x164b67)=>{const _0x340ef7=_0xbcde33;return _0x4aafb8[_0x164b67[_0x340ef7(0x7ed)]]=_0x164b67,_0x4aafb8;},{}),_0x4fe044=_0x274fc9=>String[_0xbcde33(0x465)](0x41+_0x274fc9),_0x35af10=_0x5300cf=>{const _0x582cac=_0xbcde33,_0x436156=_0x5300cf['questionType']||_0x1d33ec['quizType'];switch(_0x436156){case _0x582cac(0xa01):return _0x5300cf[_0x582cac(0x69b)]&&_0x5300cf[_0x582cac(0x69b)]['length']>_0x5300cf[_0x582cac(0xcf3)]?_0x4fe044(_0x5300cf[_0x582cac(0xcf3)]):'-';case _0x582cac(0x9c3):const _0x33958d=_0x5300cf[_0x582cac(0x661)]===!![]||String(_0x5300cf[_0x582cac(0x661)])[_0x582cac(0xbb3)]()===_0x582cac(0x8a5);return _0x33958d?_0x582cac(0xb12):_0x582cac(0x1df);case _0x582cac(0x8ad):return _0x5300cf[_0x582cac(0x1db)]||'-';case _0x582cac(0x7ff):return _0x582cac(0x346);default:return'-';}},_0x2e279a=(_0x94a34b,_0x4ac658)=>{const _0x4b56d8=_0xbcde33;if(_0x4ac658[_0x4b56d8(0x5be)]===null||_0x4ac658[_0x4b56d8(0x5be)]===undefined)return'-';const _0x1dd148=_0x94a34b[_0x4b56d8(0xa42)]||_0x1d33ec['quizType'];switch(_0x1dd148){case _0x4b56d8(0xa01):const _0x28a050=_0x94a34b[_0x4b56d8(0x69b)][_0x4b56d8(0x8e1)](_0x5cf94e=>_0x5cf94e===_0x4ac658['answerText']);return _0x28a050!==-0x1?_0x4fe044(_0x28a050):_0x4ac658['answerText']||'-';case _0x4b56d8(0x9c3):if(_0x4ac658[_0x4b56d8(0x5be)]=='0'||_0x4ac658[_0x4b56d8(0x5be)]===!![]||_0x4ac658[_0x4b56d8(0x5be)]===_0x4b56d8(0x8a5))return'ใช่';return _0x4b56d8(0x1df);default:return _0x4ac658[_0x4b56d8(0x5be)];}};let _0x5af45e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c80be[_0xbcde33(0x2b5)]((_0x1213b2,_0x58c10a)=>_0xbcde33(0x446)+(_0x58c10a+0x1)+'</th>')[_0xbcde33(0x77f)]('')+_0xbcde33(0x1a1)+_0x3c80be[_0xbcde33(0x2b5)](_0x633eb7=>_0xbcde33(0xc57)+_0x35af10(_0x633eb7)+'</td>')[_0xbcde33(0x77f)]('')+_0xbcde33(0xb24);_0x4e6280[_0xbcde33(0xb2a)](_0xdbc33f=>{const _0x374745=_0xbcde33;_0x5af45e+=_0x374745(0xc8e),_0x5af45e+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0xdbc33f+_0x374745(0x523);const _0x5cea0e=_0x5abdaf[_0xdbc33f];if(_0x5cea0e){const _0x3afcd6=_0x5cea0e[_0x374745(0x879)][_0x5cea0e['attempts'][_0x374745(0x9dc)]-0x1];_0x3c80be[_0x374745(0xb2a)]((_0x3dd78f,_0x3e7180)=>{const _0x39421c=_0x374745,_0x3d40d8=_0x3afcd6['answers'][_0x39421c(0x9c1)](_0x4cc94b=>_0x4cc94b[_0x39421c(0x54c)]===_0x3dd78f['id']);if(_0x3d40d8){let _0x4c139a='';const _0x3e0e3d=_0x3d40d8[_0x39421c(0x23a)]===!![],_0x3928f9=_0x3d40d8[_0x39421c(0xcc5)]===!![]||_0x3d40d8[_0x39421c(0xcc5)]==='confident';_0x3928f9?_0x4c139a=_0x3e0e3d?'bg-green-400\x20text-white\x20font-bold':_0x39421c(0xbfe):_0x4c139a=_0x3e0e3d?_0x39421c(0x617):_0x39421c(0xb3c),_0x5af45e+=_0x39421c(0x46c)+_0x4c139a+'\x22>'+_0x2e279a(_0x3dd78f,_0x3d40d8)+_0x39421c(0x523);}else _0x5af45e+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x5af45e+=_0x3c80be[_0x374745(0x2b5)](()=>_0x374745(0x962))[_0x374745(0x77f)]('');_0x5af45e+=_0x374745(0xa10);}),_0x5af45e+=_0xbcde33(0xc4d),_0x43bc28[_0xbcde33(0x6b3)]=_0x5af45e;}function renderQuizResultsTable(_0x1f50f9,_0x389e95,_0xa7daab){const _0x3fe2d9=_0x1d88bf,_0x242b15=_0x389e95['reduce']((_0x538c62,_0x58937e)=>{const _0x3d07c6=_0x5713;return _0x538c62[_0x58937e[_0x3d07c6(0x7ed)]]=_0x58937e,_0x538c62;},{}),_0x5b6383=document[_0x3fe2d9(0x583)](_0x3fe2d9(0xb52));_0x5b6383&&!_0x5b6383['innerHTML'][_0x3fe2d9(0x3b4)](_0x3fe2d9(0x5ab))&&(_0x5b6383[_0x3fe2d9(0x6b3)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x3203f6=document['getElementById'](_0x3fe2d9(0xd02));if(!_0x1f50f9||_0x1f50f9[_0x3fe2d9(0x9dc)]===0x0){_0x3203f6['innerHTML']=_0x3fe2d9(0xcfa);return;}const _0x3ee58a=_0xa7daab[_0x3fe2d9(0xcc8)]===!![],_0x5cf600=_0xa7daab[_0x3fe2d9(0x3ad)]?.[_0x3fe2d9(0x902)]??-0x1;let _0x240b77='';_0x1f50f9[_0x3fe2d9(0xb2a)](_0x39d598=>{const _0x2cfdf7=_0x3fe2d9,_0xa38833=_0x242b15[_0x39d598];let _0x4630e0=_0x2cfdf7(0x871)+(_0x3ee58a?_0x2cfdf7(0x78e):_0x2cfdf7(0x1dd))+'\x22>'+(_0x3ee58a?_0x2cfdf7(0x34a):_0x2cfdf7(0x33e))+_0x2cfdf7(0xae8);if(_0xa38833){if(_0xa38833[_0x2cfdf7(0x879)]&&_0xa38833[_0x2cfdf7(0x879)][_0x2cfdf7(0x9dc)]>0x0){let _0x90a4e3=_0x3ee58a?_0xa38833['bestScore']===_0xa38833[_0x2cfdf7(0xb3e)]:_0x5cf600!==-0x1&&_0xa38833[_0x2cfdf7(0xa30)]>=_0x5cf600;const _0x90bc84=_0x90a4e3?_0x2cfdf7(0xa57):_0x2cfdf7(0x7d6),_0x41e3ae=_0x90a4e3?'ผ่าน':_0x2cfdf7(0x38d),_0x43a44b=_0x2cfdf7(0x5ed)+_0x90bc84+'\x22>'+_0x41e3ae+_0x2cfdf7(0xae8),_0x2dfc14='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0xa38833[_0x2cfdf7(0x879)]?.[_0x2cfdf7(0x9dc)]||0x1)+_0x2cfdf7(0x67e);_0x240b77+=_0x2cfdf7(0xa25)+_0x39d598+_0x2cfdf7(0xc72)+_0xa38833['bestScore']+_0x2cfdf7(0xb32)+_0xa38833['totalQuestions']+_0x2cfdf7(0x644)+_0x43a44b+_0x2cfdf7(0x8a1)+_0x4630e0+_0x2cfdf7(0xac7)+_0xa38833[_0x2cfdf7(0x8dc)]+_0x2cfdf7(0xb32)+_0xa38833[_0x2cfdf7(0xb3e)]+_0x2cfdf7(0x86c)+_0xa38833[_0x2cfdf7(0xb0b)]+_0x2cfdf7(0xb32)+_0xa38833[_0x2cfdf7(0xb3e)]+_0x2cfdf7(0x881)+(_0xa38833[_0x2cfdf7(0xb94)]||0x0)+_0x2cfdf7(0x644)+_0x2dfc14+_0x2cfdf7(0x707)+new Date(_0xa38833['latestSubmittedAt'])[_0x2cfdf7(0xb58)](_0x2cfdf7(0xb25))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x39d598+_0x2cfdf7(0x8e5);}else{const _0x463bdc='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x240b77+=_0x2cfdf7(0xa56)+_0x39d598+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4630e0+_0x2cfdf7(0x4bf)+_0x463bdc+_0x2cfdf7(0x707)+new Date(_0xa38833[_0x2cfdf7(0x22f)])[_0x2cfdf7(0xb58)](_0x2cfdf7(0xb25))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x39d598+_0x2cfdf7(0x8e5);}}else{const _0x59d875='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x240b77+=_0x2cfdf7(0x266)+_0x39d598+_0x2cfdf7(0x29f)+_0x4630e0+_0x2cfdf7(0x9a2)+_0x59d875+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x3203f6[_0x3fe2d9(0x6b3)]=_0x240b77;}async function confirmRenameQuiz(){const _0x4fe7d0=_0x1d88bf,_0x5aeebf=document[_0x4fe7d0(0x9bf)]('rename-quiz-input')[_0x4fe7d0(0xb00)][_0x4fe7d0(0xb22)]();if(!_0x5aeebf){showMessage(_0x4fe7d0(0x1b8));return;}if(!actionTargetId)return;const _0x225dd7=doc(db,_0x4fe7d0(0x30c)+appId+_0x4fe7d0(0x289),actionTargetId);try{await updateDoc(_0x225dd7,{'topic':_0x5aeebf}),showMessage(_0x4fe7d0(0x2fa)),renameQuizModal[_0x4fe7d0(0x5a7)][_0x4fe7d0(0x3b1)](_0x4fe7d0(0x8da)),actionTargetId=null;}catch(_0x12c5b9){console[_0x4fe7d0(0x56e)](_0x4fe7d0(0x202),_0x12c5b9),showMessage(_0x4fe7d0(0xace));}}async function handleMoveQuiz(_0x3f24ad){const _0x4e2544=_0x1d88bf;actionTargetId=_0x3f24ad;const _0x5050a3=document[_0x4e2544(0x9bf)](_0x4e2544(0xad7));_0x5050a3[_0x4e2544(0x6b3)]=_0x4e2544(0xc98),moveQuizModal[_0x4e2544(0x5a7)][_0x4e2544(0x2bd)]('hidden');try{const _0xea7f82=collection(db,_0x4e2544(0x30c)+appId+_0x4e2544(0x433)),_0x100882=await getDocs(_0xea7f82),_0x101246=_0x100882[_0x4e2544(0xa78)][_0x4e2544(0x2b5)](_0xb35082=>({'id':_0xb35082['id'],..._0xb35082[_0x4e2544(0x7bb)]()})),_0x3915bf=_0x101246['filter'](_0x562ba0=>_0x562ba0['id']!==currentProjectId);if(_0x3915bf[_0x4e2544(0x9dc)]===0x0){_0x5050a3[_0x4e2544(0x6b3)]=_0x4e2544(0x30b),document[_0x4e2544(0x9bf)](_0x4e2544(0x6d6))['disabled']=!![];return;}_0x5050a3['innerHTML']=_0x3915bf['map'](_0x248725=>_0x4e2544(0x78c)+_0x248725['id']+'\x22>'+_0x248725['projectName']+_0x4e2544(0x1b9))['join'](''),document[_0x4e2544(0x9bf)](_0x4e2544(0x6d6))[_0x4e2544(0x6d3)]=![];}catch(_0x46791f){console[_0x4e2544(0x56e)]('Error\x20fetching\x20projects\x20for\x20move:',_0x46791f),showMessage(_0x4e2544(0x9c9)),moveQuizModal[_0x4e2544(0x5a7)][_0x4e2544(0x3b1)](_0x4e2544(0x8da));}}async function confirmMoveQuiz(){const _0x4d4f7e=_0x1d88bf,_0x241a21=document[_0x4d4f7e(0x9bf)](_0x4d4f7e(0xad7))['value'];if(!_0x241a21){showMessage(_0x4d4f7e(0x944));return;}if(!actionTargetId)return;const _0x443956=doc(db,_0x4d4f7e(0x30c)+appId+_0x4d4f7e(0x289),actionTargetId);try{await updateDoc(_0x443956,{'projectId':_0x241a21}),showMessage(_0x4d4f7e(0x971)),moveQuizModal[_0x4d4f7e(0x5a7)][_0x4d4f7e(0x3b1)]('hidden'),actionTargetId=null;}catch(_0x1d930c){console[_0x4d4f7e(0x56e)](_0x4d4f7e(0x30e),_0x1d930c),showMessage(_0x4d4f7e(0x98f));}}async function handleQuizSettings(_0x9a6f57){const _0x1d206a=_0x1d88bf;actionTargetId=_0x9a6f57;const _0x4039e5=doc(db,_0x1d206a(0x30c)+appId+_0x1d206a(0x289),_0x9a6f57);try{const _0x81aa6b=await getDoc(_0x4039e5);if(_0x81aa6b[_0x1d206a(0xb67)]()){const _0x47ba82=_0x81aa6b['data'](),_0x2eed09=_0x47ba82['settings']||{},_0x191bc1=_0x47ba82['questions']['length'];document[_0x1d206a(0x9bf)]('modal-shuffle-select')[_0x1d206a(0xb00)]=_0x2eed09[_0x1d206a(0x198)]||'none',document[_0x1d206a(0x9bf)](_0x1d206a(0x5ad))['value']=_0x2eed09[_0x1d206a(0x8bd)]||_0x1d206a(0x3f9),document['getElementById'](_0x1d206a(0x3d7))[_0x1d206a(0xb00)]=_0x2eed09[_0x1d206a(0x97c)]||_0x1d206a(0x44e),document[_0x1d206a(0x9bf)](_0x1d206a(0x5db))[_0x1d206a(0xb00)]=_0x2eed09['timerDuration']||0xa,document[_0x1d206a(0x9bf)](_0x1d206a(0x860))[_0x1d206a(0xb00)]=_0x2eed09[_0x1d206a(0x902)]||Math[_0x1d206a(0x92f)](_0x191bc1/0x2),document['getElementById'](_0x1d206a(0x860))[_0x1d206a(0xc68)]=_0x191bc1,document[_0x1d206a(0x9bf)](_0x1d206a(0x65d))[_0x1d206a(0xc13)]=_0x2eed09[_0x1d206a(0x3b9)]||![],document[_0x1d206a(0x9bf)](_0x1d206a(0x6e3))['checked']=_0x2eed09[_0x1d206a(0x2c4)]||![];const _0x307b20=_0x2eed09[_0x1d206a(0x85b)]||![];document['getElementById']('modal-confidence-scoring-checkbox')[_0x1d206a(0xc13)]=_0x307b20,document[_0x1d206a(0x9bf)](_0x1d206a(0x96d))[_0x1d206a(0xb00)]=_0x2eed09['confidenceMode']||_0x1d206a(0x5af);const _0x5b8a01=document[_0x1d206a(0x9bf)](_0x1d206a(0xc45));_0x5b8a01[_0x1d206a(0x5a7)][_0x1d206a(0x372)](_0x1d206a(0x8da),!_0x307b20),document[_0x1d206a(0x9bf)](_0x1d206a(0x3d7))['dispatchEvent'](new Event('change')),quizSettingsModal[_0x1d206a(0x5a7)][_0x1d206a(0x2bd)](_0x1d206a(0x8da));}else showMessage(_0x1d206a(0xa66));}catch(_0x1db79e){console['error'](_0x1d206a(0x808),_0x1db79e),showMessage(_0x1d206a(0x2a3));}}async function confirmQuizSettings(){const _0x1410df=_0x1d88bf;if(!actionTargetId)return;const _0xbea880=doc(db,_0x1410df(0x30c)+appId+_0x1410df(0x289),actionTargetId),_0xd67ebf={'shuffle':document[_0x1410df(0x9bf)](_0x1410df(0x27c))[_0x1410df(0xb00)],'resultsDisplay':document['getElementById']('modal-results-display-select')[_0x1410df(0xb00)],'timerMode':document['getElementById'](_0x1410df(0x3d7))[_0x1410df(0xb00)],'timerDuration':parseInt(document[_0x1410df(0x9bf)](_0x1410df(0x5db))[_0x1410df(0xb00)])||0xa,'passingScore':parseInt(document[_0x1410df(0x9bf)]('modal-passing-score-input')[_0x1410df(0xb00)])||0x0,'isAdaptive':document[_0x1410df(0x9bf)](_0x1410df(0x65d))['checked'],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x1410df(0xc13)],'isConfidenceScoringEnabled':document[_0x1410df(0x9bf)](_0x1410df(0x241))[_0x1410df(0xc13)],'confidenceMode':document['getElementById'](_0x1410df(0x96d))[_0x1410df(0xb00)]};try{await updateDoc(_0xbea880,{'settings':_0xd67ebf}),showMessage(_0x1410df(0x501)),quizSettingsModal[_0x1410df(0x5a7)][_0x1410df(0x3b1)](_0x1410df(0x8da)),actionTargetId=null;}catch(_0x372727){console['error'](_0x1410df(0xa17),_0x372727),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x2f54d5=_0x1d88bf;if(!actionTargetId)return;const _0x4828f5=doc(db,_0x2f54d5(0x30c)+appId+_0x2f54d5(0x289),actionTargetId),_0x2bbda0=document['querySelector'](_0x2f54d5(0xa5d));if(!_0x2bbda0){showMessage('กรุณาเลือกสถานะ');return;}const _0x2959c8=_0x2bbda0['value'];let _0x134215={};if(_0x2959c8===_0x2f54d5(0x53f)||_0x2959c8===_0x2f54d5(0x95f))_0x134215={'status':_0x2959c8,'startTime':null,'endTime':null};else{if(_0x2959c8===_0x2f54d5(0xad9)){const _0x14d494=document[_0x2f54d5(0x9bf)](_0x2f54d5(0x274))[_0x2f54d5(0xb00)],_0xe34aad=document[_0x2f54d5(0x9bf)]('quiz-end-time')[_0x2f54d5(0xb00)];if(!_0x14d494&&!_0xe34aad){showMessage(_0x2f54d5(0xa65));return;}_0x134215={'status':_0x2f54d5(0x4e2),'startTime':_0x14d494?new Date(_0x14d494)[_0x2f54d5(0x7c9)]():null,'endTime':_0xe34aad?new Date(_0xe34aad)[_0x2f54d5(0x7c9)]():null};}}try{await updateDoc(_0x4828f5,_0x134215),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList'][_0x2f54d5(0x3b1)](_0x2f54d5(0x8da)),actionTargetId=null;}catch(_0x1e289a){console['error']('Error\x20updating\x20quiz\x20status:',_0x1e289a),showMessage(_0x2f54d5(0x3ff));}}function listenForStudentProfiles(_0x58cd71){const _0x1655e0=_0x1d88bf,_0xef4527=collection(db,_0x1655e0(0x30c)+appId+'/public/data/projects/'+_0x58cd71+_0x1655e0(0x65e));unsubscribeStudentProfilesListener=onSnapshot(_0xef4527,_0x44bea1=>{const _0x4e267c=_0x1655e0,_0x530245=_0x44bea1[_0x4e267c(0xa78)][_0x4e267c(0x2b5)](_0x16955a=>_0x16955a[_0x4e267c(0x7bb)]());renderLeaderboard(_0x530245,_0x4e267c(0x6e6));},_0x2d4379=>{const _0x1713be=_0x1655e0;console['error'](_0x1713be(0x5dc),_0x2d4379),document[_0x1713be(0x9bf)](_0x1713be(0x6e6))[_0x1713be(0x6b3)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x3fb277,_0x4e3fab){const _0x4afbd8=_0x1d88bf,_0xda3619=document[_0x4afbd8(0x9bf)](_0x4e3fab);if(!_0x3fb277||_0x3fb277[_0x4afbd8(0x9dc)]===0x0){_0xda3619[_0x4afbd8(0x6b3)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x3fb277[_0x4afbd8(0x79f)]((_0x241ead,_0x44bcd7)=>{const _0xa72c78=_0x4afbd8,_0x4d001c=(_0x44bcd7['totalPoints']||0x0)-(_0x241ead[_0xa72c78(0x54b)]||0x0);if(_0x4d001c!==0x0)return _0x4d001c;const _0x26d8e9=(_0x44bcd7['badgesCount']?.['specialist']||0x0)-(_0x241ead[_0xa72c78(0x6a9)]?.[_0xa72c78(0x3eb)]||0x0);if(_0x26d8e9!==0x0)return _0x26d8e9;const _0x1fecaf=(_0x44bcd7[_0xa72c78(0x6a9)]?.['first_try_ace']||0x0)-(_0x241ead[_0xa72c78(0x6a9)]?.[_0xa72c78(0x605)]||0x0);if(_0x1fecaf!==0x0)return _0x1fecaf;const _0x14011d=(_0x44bcd7[_0xa72c78(0x6a9)]?.[_0xa72c78(0xb27)]||0x0)-(_0x241ead[_0xa72c78(0x6a9)]?.[_0xa72c78(0xb27)]||0x0);if(_0x14011d!==0x0)return _0x14011d;const _0x17d6ae=(_0x44bcd7['badgesCount']?.[_0xa72c78(0xabd)]||0x0)-(_0x241ead['badgesCount']?.['quick_thinker']||0x0);if(_0x17d6ae!==0x0)return _0x17d6ae;return _0x241ead['studentName']['localeCompare'](_0x44bcd7[_0xa72c78(0x7ed)],'th');});let _0x23548d='';_0x3fb277[_0x4afbd8(0xb2a)]((_0x17500d,_0xb22c63)=>{const _0x1fa268=_0x4afbd8,_0x119cb7=_0xb22c63+0x1,_0x19fb0c=_0x17500d['badgesCount']||{};let _0x52707e='';const _0x16a672=[_0x1fa268(0x3eb),_0x1fa268(0xb27),_0x1fa268(0x605),_0x1fa268(0xabd)];_0x16a672[_0x1fa268(0xb2a)](_0x39aa43=>{const _0x495061=_0x1fa268;if(_0x19fb0c[_0x39aa43]>0x0){const _0x59ed88=Object['values'](BADGES)[_0x495061(0x9c1)](_0x559851=>_0x559851['id']===_0x39aa43);_0x59ed88&&(_0x39aa43==='specialist'?_0x52707e+=_0x495061(0x55a)+_0x59ed88[_0x495061(0xa80)]+_0x495061(0xa8f)+_0x59ed88[_0x495061(0x82e)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x52707e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x59ed88['name']+'\x20('+_0x19fb0c[_0x39aa43]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x59ed88[_0x495061(0x82e)]+_0x495061(0xb57)+_0x19fb0c[_0x39aa43]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x23548d+=_0x1fa268(0x34c)+_0x119cb7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x17500d[_0x1fa268(0x7ed)]+_0x1fa268(0x5ba)+(_0x17500d[_0x1fa268(0x54b)]||0x0)+_0x1fa268(0x674)+(_0x52707e||'-')+_0x1fa268(0x849);}),_0xda3619[_0x4afbd8(0x6b3)]=_0x23548d;}function displayLoopScreen(_0x2f607f,_0x2f4c2a,_0x2f60f4){const _0x5c38cd=_0x1d88bf;let _0x34fc4a='';_0x2f60f4!==_0x5c38cd(0x80b)&&(_0x34fc4a=_0x5c38cd(0xa8e)+_0x2f607f+_0x5c38cd(0xb32)+_0x2f4c2a+_0x5c38cd(0x974));const _0x363ba8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34fc4a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x5c38cd(0x6b3)]=_0x363ba8,studentResultArea['classList'][_0x5c38cd(0x2bd)](_0x5c38cd(0x8da)),studentQuizArea['classList']['add']('hidden'),document[_0x5c38cd(0x9bf)]('retake-quiz-loop-btn')[_0x5c38cd(0x8c1)](_0x5c38cd(0x7c2),()=>{const _0x191526=_0x5c38cd;studentResultArea['classList'][_0x191526(0x3b1)](_0x191526(0x8da)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x302080,_0x20ac3f,_0x41fb45){const _0x5d9125=_0x1d88bf,_0x1f9f62=document[_0x5d9125(0x9bf)](_0x41fb45),_0x450f74=_0x41fb45===_0x5d9125(0x532),_0x2db348=_0x20ac3f[_0x5d9125(0xcaf)][_0x5d9125(0x9dc)],_0x32e31e=document[_0x5d9125(0x9bf)](_0x41fb45)[_0x5d9125(0xa13)](_0x5d9125(0x1e1));if(_0x32e31e&&!_0x450f74){const _0x36bd2f=_0x32e31e[_0x5d9125(0x583)]('thead');_0x36bd2f[_0x5d9125(0x6b3)]=_0x5d9125(0xa1e);}if(!_0x302080||_0x302080['length']===0x0){_0x1f9f62[_0x5d9125(0x6b3)]=_0x5d9125(0x98d)+(_0x450f74?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x23e2e9=[..._0x302080];_0x23e2e9[_0x5d9125(0x79f)]((_0x6020de,_0x533fd6)=>{const _0x349fee=_0x5d9125;let _0x21a097,_0x26b582;switch(quizLeaderboardSortBy){case _0x349fee(0x7ed):_0x21a097=_0x6020de[_0x349fee(0x7ed)]||'',_0x26b582=_0x533fd6[_0x349fee(0x7ed)]||'';return quizLeaderboardSortOrder==='asc'?_0x21a097[_0x349fee(0xcbd)](_0x26b582,'th'):_0x26b582[_0x349fee(0xcbd)](_0x21a097,'th');case _0x349fee(0xb94):_0x21a097=_0x6020de[_0x349fee(0xb94)]||0x0,_0x26b582=_0x533fd6['points']||0x0;break;case'attempts':_0x21a097=_0x6020de[_0x349fee(0x879)]?.[_0x349fee(0x9dc)]||0x1,_0x26b582=_0x533fd6['attempts']?.[_0x349fee(0x9dc)]||0x1;break;case _0x349fee(0x608):_0x21a097=new Date(_0x6020de['latestSubmittedAt']),_0x26b582=new Date(_0x533fd6[_0x349fee(0x608)]);break;case _0x349fee(0xa30):default:_0x21a097=_0x6020de['bestScore'],_0x26b582=_0x533fd6['bestScore'];break;}if(_0x21a097<_0x26b582)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x21a097>_0x26b582)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x4d544a=_0x20ac3f[_0x5d9125(0xcc8)]===!![],_0xc31b77=_0x20ac3f[_0x5d9125(0x3ad)]?.['passingScore']??-0x1;let _0x127761='';_0x23e2e9[_0x5d9125(0xb2a)]((_0x4bdb30,_0x501117)=>{const _0x4f0b4d=_0x5d9125,_0x4f06fb=_0x501117+0x1;let _0x630f6c='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x4d544a||_0xc31b77!==-0x1){let _0x4f53ce=_0x4d544a?_0x4bdb30['bestScore']===_0x2db348:_0x4bdb30['bestScore']>=_0xc31b77;const _0xb4f027=_0x4f53ce?_0x4f0b4d(0xa57):_0x4f0b4d(0x7d6),_0x4ea3a8=_0x4f53ce?_0x4f0b4d(0xa04):_0x4f0b4d(0x38d);_0x630f6c=_0x4f0b4d(0x61a)+_0xb4f027+'\x22>'+_0x4ea3a8+_0x4f0b4d(0xae8);}const _0x48d93e=_0x4bdb30[_0x4f0b4d(0x879)][_0x4bdb30[_0x4f0b4d(0x879)][_0x4f0b4d(0x9dc)]-0x1],_0x3865ad=(_0x48d93e[_0x4f0b4d(0x9ca)]||[])[_0x4f0b4d(0x2b5)](_0x442087=>{const _0x9de606=_0x4f0b4d,_0x23c108=Object[_0x9de606(0xce2)](BADGES)['find'](_0x37364b=>_0x37364b['id']===_0x442087);return _0x23c108?_0x9de606(0x1fd)+_0x23c108['name']+_0x9de606(0x5b1)+_0x23c108[_0x9de606(0x82e)]+_0x9de606(0x5aa):'';})['join']('');_0x127761+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x4f06fb+_0x4f0b4d(0xa23)+_0x4bdb30[_0x4f0b4d(0x7ed)]+_0x4f0b4d(0x71c)+_0x4bdb30[_0x4f0b4d(0xa30)]+_0x4f0b4d(0xb32)+_0x2db348+_0x4f0b4d(0x227)+_0x630f6c+_0x4f0b4d(0x692)+(_0x4bdb30[_0x4f0b4d(0xb94)]||0x0)+_0x4f0b4d(0x227)+(_0x450f74?'':_0x4f0b4d(0x8be)+(_0x4bdb30['attempts']?.[_0x4f0b4d(0x9dc)]||0x1)+'</td>')+_0x4f0b4d(0xce4)+(_0x450f74?'':_0x4f0b4d(0x25a)+new Date(_0x4bdb30[_0x4f0b4d(0x608)])[_0x4f0b4d(0xb58)](_0x4f0b4d(0xb25))+_0x4f0b4d(0x523))+_0x4f0b4d(0xbc3)+(_0x3865ad||'-')+_0x4f0b4d(0x640);}),_0x1f9f62[_0x5d9125(0x6b3)]=_0x127761,_0x32e31e&&!_0x450f74&&_0x32e31e['querySelectorAll'](_0x5d9125(0xbdf))[_0x5d9125(0xb2a)](_0x586a6a=>{const _0x122aee=_0x5d9125,_0x4d5013=_0x586a6a['querySelector'](_0x122aee(0xb1f));if(_0x4d5013)_0x4d5013[_0x122aee(0x2bd)]();_0x586a6a[_0x122aee(0xc05)][_0x122aee(0x79f)]===quizLeaderboardSortBy&&(_0x586a6a[_0x122aee(0x6b3)]+=_0x122aee(0xb95)+(quizLeaderboardSortOrder===_0x122aee(0x8ef)?'▲':'▼')+_0x122aee(0x5a3));});}async function handleDeleteSubmission(_0x24b312){const _0xbddabf=_0x1d88bf;if(!currentQuizData||!currentQuizData['id']||!_0x24b312){showMessage(_0xbddabf(0x1ac));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x24b312+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x31e74e=_0xbddabf,_0x4aeef0=currentQuizData['id'],_0x246d92=doc(db,'artifacts/'+appId+_0x31e74e(0xb14)+_0x4aeef0+_0x31e74e(0x472),_0x24b312);try{await deleteDoc(_0x246d92),showMessage(_0x31e74e(0x840)+_0x24b312+_0x31e74e(0xc41));}catch(_0x345b01){console[_0x31e74e(0x56e)](_0x31e74e(0x390),_0x345b01),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x38225d=_0x1d88bf,_0x3742ab=document['getElementById'](_0x38225d(0x9f7)),_0x5bf190=_0x3742ab[_0x38225d(0xb00)][_0x38225d(0xb22)]();if(!_0x5bf190){showMessage(_0x38225d(0x1ba));return;}loadQuizBtn[_0x38225d(0x6d3)]=!![],loadQuizBtn[_0x38225d(0x6b3)]=_0x38225d(0x312);try{const _0x381655=doc(db,_0x38225d(0x30c)+appId+_0x38225d(0x289),_0x5bf190),_0x5e5f1e=await getDoc(_0x381655);if(!_0x5e5f1e[_0x38225d(0xb67)]()){showMessage(_0x38225d(0xc2b));return;}currentQuizData={'id':_0x5e5f1e['id'],..._0x5e5f1e[_0x38225d(0x7bb)]()};const _0x1460b8=currentQuizData[_0x38225d(0x5e0)]||_0x38225d(0x53f),_0x432fb8=new Date();if(_0x1460b8===_0x38225d(0x95f)){showMessage(_0x38225d(0x23d));return;}if(_0x1460b8===_0x38225d(0x4e2)){const _0x5b5677=currentQuizData[_0x38225d(0x6cb)]?new Date(currentQuizData['startTime']):null,_0xc480bc=currentQuizData['endTime']?new Date(currentQuizData[_0x38225d(0xc4f)]):null;if(_0x5b5677&&_0x432fb8<_0x5b5677){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x5b5677[_0x38225d(0xb58)](_0x38225d(0xb25),{'hour12':![]}));return;}if(_0xc480bc&&_0x432fb8>_0xc480bc){showMessage(_0x38225d(0xb2d));return;}}const _0x52092d=currentQuizData[_0x38225d(0xb16)];currentProjectId=_0x52092d;const _0x9fe583=doc(db,_0x38225d(0x30c)+appId+_0x38225d(0x433),_0x52092d),_0x52be7d=await getDoc(_0x9fe583);if(!_0x52be7d[_0x38225d(0xb67)]()){showMessage(_0x38225d(0xc40));return;}const _0x238731=_0x52be7d[_0x38225d(0x7bb)]();currentStudentProjectData=_0x238731,displayStudentNameSelector(_0x238731['students'],currentQuizData[_0x38225d(0x6f8)]);}catch(_0x428582){console['error']('Error\x20loading\x20quiz\x20for\x20student:',_0x428582),showMessage(_0x38225d(0xbee));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x38225d(0x6b3)]=_0x38225d(0xcb1);}}async function handleJoinLiveGame(){const _0x58fc11=_0x1d88bf,_0x416215=document[_0x58fc11(0x9bf)](_0x58fc11(0x5b0)),_0x57492e=document['getElementById']('nickname-input'),_0x4c318b=document['getElementById'](_0x58fc11(0x76b)),_0x161f87=_0x416215[_0x58fc11(0xb00)]['trim'](),_0x2467a5=_0x57492e[_0x58fc11(0xb00)][_0x58fc11(0xb22)]();if(!_0x161f87||!_0x2467a5){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x4c318b['disabled']=!![],_0x4c318b[_0x58fc11(0x6b3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x2cecf2=collection(db,_0x58fc11(0x30c)+appId+_0x58fc11(0x9cd)),_0x5e8dbf=query(_0x2cecf2,where(_0x58fc11(0x243),'==',_0x161f87),where(_0x58fc11(0x5e0),'in',[_0x58fc11(0xc58),'question'])),_0x4977d2=await getDocs(_0x5e8dbf);if(_0x4977d2[_0x58fc11(0xc88)]){showMessage(_0x58fc11(0xca1));return;}const _0x24c540=_0x4977d2[_0x58fc11(0xa78)][0x0],_0xd19ccf=_0x24c540['data']();currentLiveGameId=_0x24c540['id'];const _0x448eb6=_0xd19ccf[_0x58fc11(0x2cf)],_0xf795d1=doc(db,'artifacts/'+appId+_0x58fc11(0x289),_0x448eb6),_0x59bc26=await getDoc(_0xf795d1);if(!_0x59bc26[_0x58fc11(0xb67)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x59bc26['id'],..._0x59bc26[_0x58fc11(0x7bb)]()};if(_0xd19ccf[_0x58fc11(0x373)]&&_0xd19ccf[_0x58fc11(0x373)][_0x2467a5]){const _0x380628=_0xd19ccf[_0x58fc11(0x373)][_0x2467a5];if(_0x380628[_0x58fc11(0x5e0)]===_0x58fc11(0x95f)){_0x4c318b['innerHTML']=_0x58fc11(0x480);const _0x4fbbbc={};_0x4fbbbc[_0x58fc11(0x668)+_0x2467a5+_0x58fc11(0x73e)]=_0x58fc11(0x53f),await updateDoc(doc(db,'artifacts/'+appId+_0x58fc11(0x9cd),currentLiveGameId),_0x4fbbbc),showView(_0x58fc11(0x924)),currentStudentName=_0x2467a5,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0xd19ccf['status']!==_0x58fc11(0xc58)){showMessage(_0x58fc11(0x1f9));return;}_0x4c318b['innerHTML']=_0x58fc11(0xbc8);const _0x2d1606={};_0x2d1606[_0x58fc11(0x668)+_0x2467a5]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,'artifacts/'+appId+_0x58fc11(0x9cd),currentLiveGameId),_0x2d1606),currentStudentName=_0x2467a5,listenForLiveGameUpdates();}catch(_0xa82a0f){console[_0x58fc11(0x56e)]('Error\x20joining\x20live\x20game:',_0xa82a0f),showMessage(_0x58fc11(0xc12));}finally{_0x4c318b['disabled']=![],_0x4c318b['innerHTML']=_0x58fc11(0xc28);}}function displayStudentNameSelector(_0x1bd4cf,_0x3638b1){const _0xcec074=_0x1d88bf,_0x1df5b8=document[_0xcec074(0x9bf)]('student-name-select');document['getElementById'](_0xcec074(0xa6d))[_0xcec074(0xa9a)]=_0xcec074(0x654)+_0x3638b1,!_0x1bd4cf||_0x1bd4cf[_0xcec074(0x9dc)]===0x0?(_0x1df5b8[_0xcec074(0x6b3)]=_0xcec074(0x3d2),startQuizBtn[_0xcec074(0x6d3)]=!![]):(_0x1df5b8[_0xcec074(0x6b3)]=_0xcec074(0x226),_0x1bd4cf[_0xcec074(0xb2a)](_0x247358=>{const _0x519c19=_0xcec074,_0x1ee6fd=document[_0x519c19(0xb04)](_0x519c19(0x828));_0x1ee6fd[_0x519c19(0xb00)]=_0x247358,_0x1ee6fd['textContent']=_0x247358,_0x1df5b8[_0x519c19(0x5b9)](_0x1ee6fd);}),startQuizBtn['disabled']=![]),studentInitialView[_0xcec074(0x5a7)][_0xcec074(0x3b1)](_0xcec074(0x8da)),studentNameSelectionView[_0xcec074(0x5a7)][_0xcec074(0x2bd)]('hidden');}function shuffleArray(_0x3ec6f5){const _0x1020db=_0x1d88bf;for(let _0x13f8f5=_0x3ec6f5[_0x1020db(0x9dc)]-0x1;_0x13f8f5>0x0;_0x13f8f5--){const _0x2a575a=Math[_0x1020db(0x92f)](Math[_0x1020db(0xcb0)]()*(_0x13f8f5+0x1));[_0x3ec6f5[_0x13f8f5],_0x3ec6f5[_0x2a575a]]=[_0x3ec6f5[_0x2a575a],_0x3ec6f5[_0x13f8f5]];}}function getShuffledQuiz(_0x5c2ea1){const _0x5423e4=_0x1d88bf;let _0xedb7db=JSON['parse'](JSON[_0x5423e4(0xa43)](_0x5c2ea1));const _0x5bc12a=_0xedb7db[_0x5423e4(0x3ad)]?.['shuffle']||_0x5423e4(0x44e);if(_0x5bc12a===_0x5423e4(0x44e))return _0xedb7db;return(_0x5bc12a===_0x5423e4(0x52f)||_0x5bc12a===_0x5423e4(0x4ca))&&shuffleArray(_0xedb7db[_0x5423e4(0xcaf)]),(_0x5bc12a===_0x5423e4(0x4e1)||_0x5bc12a==='both')&&_0xedb7db['questions'][_0x5423e4(0xb2a)](_0x4f3b0c=>{const _0x3013c9=_0x5423e4,_0x590791=_0x4f3b0c[_0x3013c9(0xa42)]||_0xedb7db[_0x3013c9(0x854)];if(_0x4f3b0c[_0x3013c9(0x69b)]){let _0x47214d=_0x4f3b0c[_0x3013c9(0x69b)]['map']((_0x2704d5,_0x129b9b)=>({'text':_0x2704d5,'isCorrect':_0x129b9b===_0x4f3b0c['correctAnswerIndex']}));shuffleArray(_0x47214d),_0x4f3b0c[_0x3013c9(0x69b)]=_0x47214d['map'](_0x34e8a0=>_0x34e8a0[_0x3013c9(0xa95)]),_0x4f3b0c[_0x3013c9(0xcf3)]=_0x47214d[_0x3013c9(0x8e1)](_0x2f0bd6=>_0x2f0bd6[_0x3013c9(0x23a)]);}_0x590791===_0x3013c9(0x8ad)&&_0x4f3b0c['allResponses']&&shuffleArray(_0x4f3b0c[_0x3013c9(0x783)]);}),_0xedb7db;}function displayQuizForStudent(_0x23cfe7){const _0x2cb877=_0x1d88bf;studentQuizArea[_0x2cb877(0x5a7)][_0x2cb877(0x2bd)](_0x2cb877(0x8da)),currentDisplayedQuiz=getShuffledQuiz(_0x23cfe7);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2cb877(0x8c1)](_0x2cb877(0x729),handleFullscreenChange),document[_0x2cb877(0x8c1)](_0x2cb877(0x40d),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x2cb877(0x907),resetDimTimer),window[_0x2cb877(0x8c1)](_0x2cb877(0x42c),resetDimTimer),window['addEventListener'](_0x2cb877(0x5e1),resetDimTimer),window[_0x2cb877(0x8c1)](_0x2cb877(0x59b),resetDimTimer),resetDimTimer());const _0x1098cc=currentDisplayedQuiz[_0x2cb877(0x3ad)]?.[_0x2cb877(0x97c)]||'none';if(_0x1098cc===_0x2cb877(0x7d8))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2cb877(0x3ad)][_0x2cb877(0x83f)]);else _0x1098cc===_0x2cb877(0x7c3)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x8d99ab=_0x1d88bf,_0x50b7c6=currentDisplayedQuiz[_0x8d99ab(0x3ad)]?.[_0x8d99ab(0x85b)]===!![],_0xdb2335=currentDisplayedQuiz[_0x8d99ab(0x3ad)]?.[_0x8d99ab(0x398)]||_0x8d99ab(0x5af);let _0x6e8cad=_0x8d99ab(0x494)+currentDisplayedQuiz[_0x8d99ab(0x6f8)]+_0x8d99ab(0x998)+(currentMode===_0x8d99ab(0x2b6)?_0x8d99ab(0x5fd):'')+_0x8d99ab(0x1c8);currentDisplayedQuiz[_0x8d99ab(0xcaf)][_0x8d99ab(0xb2a)]((_0x52306a,_0x2a5030)=>{const _0x5370b8=_0x8d99ab,_0x308cd0=_0x52306a[_0x5370b8(0xa42)]||currentDisplayedQuiz[_0x5370b8(0x854)];_0x6e8cad+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x308cd0===_0x5370b8(0x8ad)){}else _0x6e8cad+=_0x5370b8(0xd04)+(_0x2a5030+0x1)+'.\x20'+(_0x52306a[_0x5370b8(0xb6e)]||_0x52306a[_0x5370b8(0x3ab)])+_0x5370b8(0xbab),_0x52306a[_0x5370b8(0xbe1)]&&(_0x6e8cad+=_0x5370b8(0x9c2)+_0x52306a[_0x5370b8(0xbe1)]+_0x5370b8(0x5a5));_0x6e8cad+=_0x5370b8(0x336);switch(_0x308cd0){case'short_answer':_0x6e8cad+='<textarea\x20name=\x22question'+_0x2a5030+_0x5370b8(0x375);break;case _0x5370b8(0x9c3):_0x6e8cad+=_0x5370b8(0xbd4)+_0x2a5030+_0x5370b8(0x8a4)+_0x2a5030+_0x5370b8(0x823)+_0x2a5030+_0x5370b8(0xb5b),_0x6e8cad+=_0x5370b8(0xbd4)+_0x2a5030+_0x5370b8(0x7cc)+_0x2a5030+_0x5370b8(0xb88)+_0x2a5030+_0x5370b8(0xab6);break;case _0x5370b8(0x8ad):_0x6e8cad+=_0x5370b8(0xb99)+_0x52306a[_0x5370b8(0xc5b)]+_0x5370b8(0xacf)+_0x2a5030+_0x5370b8(0x225)+_0x52306a[_0x5370b8(0x783)][_0x5370b8(0x2b5)](_0x3e7947=>'<option\x20value=\x22'+_0x3e7947+'\x22>'+_0x3e7947+_0x5370b8(0x1b9))[_0x5370b8(0x77f)]('')+_0x5370b8(0x4a2);break;default:_0x6e8cad+=_0x52306a[_0x5370b8(0x69b)]['map']((_0xa38ab2,_0x39878f)=>_0x5370b8(0x360)+_0x2a5030+_0x5370b8(0x9a5)+_0x39878f+_0x5370b8(0xb01)+_0x2a5030+'\x22\x20value=\x22'+_0x39878f+_0x5370b8(0x499)+_0x2a5030+_0x5370b8(0x9a5)+_0x39878f+'\x22>'+_0xa38ab2+_0x5370b8(0x3c9))[_0x5370b8(0x77f)]('');break;}_0x6e8cad+='</div>',_0x50b7c6&&(_0x6e8cad+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0xdb2335===_0x5370b8(0xa2e)?_0x6e8cad+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x2a5030+_0x5370b8(0x299)+_0x2a5030+_0x5370b8(0x1b1)+_0x2a5030+_0x5370b8(0x757)+_0x2a5030+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x6e8cad+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x2a5030+_0x5370b8(0x299)+_0x2a5030+_0x5370b8(0x79c)+_0x2a5030+_0x5370b8(0x99f),_0x6e8cad+=_0x5370b8(0x5a5)),_0x6e8cad+=_0x5370b8(0x5a5);}),_0x6e8cad+=_0x8d99ab(0xa2b),_0x6e8cad+=_0x8d99ab(0x353),studentQuizArea['innerHTML']=_0x6e8cad;if(currentMode===_0x8d99ab(0x2b6)){const _0x6447e7=document[_0x8d99ab(0x9bf)](_0x8d99ab(0x4a9));if(_0x6447e7)_0x6447e7[_0x8d99ab(0x8c1)](_0x8d99ab(0x7c2),cancelAdminTest);}const _0x33c4c0=document[_0x8d99ab(0x9bf)](_0x8d99ab(0x47a));_0x33c4c0&&(_0x33c4c0[_0x8d99ab(0x8c1)](_0x8d99ab(0x6a4),handleSubmitQuiz),_0x33c4c0[_0x8d99ab(0x8c1)](_0x8d99ab(0x7c2),_0x7c96b4=>{const _0x3217fa=_0x8d99ab;if(_0x7c96b4[_0x3217fa(0x964)][_0x3217fa(0x5a7)]['contains'](_0x3217fa(0x33b))){const _0x31cb93=_0x7c96b4[_0x3217fa(0x964)],_0x16bf13=_0x31cb93[_0x3217fa(0xc05)][_0x3217fa(0x47d)],_0x5dd155=_0x31cb93[_0x3217fa(0xc05)][_0x3217fa(0xb00)];document[_0x3217fa(0x9bf)]('confidence-input-'+_0x16bf13)[_0x3217fa(0xb00)]=_0x5dd155;const _0x49c59a=_0x31cb93[_0x3217fa(0x53a)];_0x49c59a[_0x3217fa(0x468)](_0x3217fa(0xc60))[_0x3217fa(0xb2a)](_0x2f457d=>_0x2f457d[_0x3217fa(0x5a7)][_0x3217fa(0x2bd)](_0x3217fa(0x53f))),_0x31cb93[_0x3217fa(0x5a7)][_0x3217fa(0x3b1)](_0x3217fa(0x53f));}}));if(window[_0x8d99ab(0x7c4)])window[_0x8d99ab(0x7c4)][_0x8d99ab(0xa7b)]([studentQuizArea]);}async function handleSubmitQuiz(_0x19e4ed){const _0x546c4e=_0x1d88bf;if(_0x19e4ed)_0x19e4ed[_0x546c4e(0x1a4)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x218140=document[_0x546c4e(0x9bf)]('quiz-form');if(!_0x218140)return;const _0x109a77=currentDisplayedQuiz[_0x546c4e(0x3ad)]?.['isConfidenceScoringEnabled']===!![],_0x304db9=currentDisplayedQuiz[_0x546c4e(0x3ad)]?.[_0x546c4e(0x398)]||_0x546c4e(0x5af);if(_0x109a77&&_0x304db9==='mandatory'){let _0x53ecec=!![];for(let _0x4399e3=0x0;_0x4399e3<currentDisplayedQuiz[_0x546c4e(0xcaf)]['length'];_0x4399e3++){const _0x1f5e4a=_0x218140[_0x546c4e(0x583)](_0x546c4e(0x8b8)+_0x4399e3);if(!_0x1f5e4a||_0x1f5e4a['value']===''){_0x53ecec=![];break;}}if(!_0x53ecec){showMessage(_0x546c4e(0x3ca));return;}}const _0x31015e=_0x218140['querySelector'](_0x546c4e(0x7c8)),_0x3d92c5=currentDisplayedQuiz[_0x546c4e(0xcaf)]['some'](_0x191287=>_0x191287['questionType']===_0x546c4e(0x7ff));_0x31015e&&(_0x31015e['disabled']=!![],_0x31015e[_0x546c4e(0x6b3)]=_0x3d92c5?_0x546c4e(0xcf4):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x283160=new FormData(_0x218140),_0x596dfd=currentDisplayedQuiz[_0x546c4e(0xcaf)][_0x546c4e(0x2b5)]((_0x5df12f,_0x438a88)=>{const _0x3e2a5a=_0x546c4e,_0x3dbb7d=_0x283160['get'](_0x3e2a5a(0x66d)+_0x438a88);let _0x2f2326;_0x304db9===_0x3e2a5a(0xa2e)?_0x2f2326=_0x283160[_0x3e2a5a(0xacb)](_0x3e2a5a(0xaf8)+_0x438a88):_0x2f2326=_0x283160['get'](_0x3e2a5a(0xaf8)+_0x438a88)==='on';let _0x5c3b3a=null;if(_0x3dbb7d!==null&&_0x3dbb7d!==undefined){const _0x258677=_0x5df12f[_0x3e2a5a(0xa42)]||currentDisplayedQuiz[_0x3e2a5a(0x854)];_0x258677===_0x3e2a5a(0xa01)||_0x258677===_0x3e2a5a(0x74f)?_0x5c3b3a=parseInt(_0x3dbb7d):_0x5c3b3a=_0x3dbb7d;}return{'answer':_0x5c3b3a,'wasConfident':_0x2f2326};}),_0x34e02f=currentQuizData['id'],_0x141232=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x34e02f+_0x546c4e(0x472),currentStudentName),_0x1e7703=await getDoc(_0x141232),_0x1e064e=_0x1e7703[_0x546c4e(0xb67)]()?_0x1e7703[_0x546c4e(0x7bb)]():{},_0x50d689=_0x1e064e[_0x546c4e(0x879)]||[];await processAndSubmitAnswers(_0x596dfd,_0x50d689);}async function gradeShortAnswerWithAI(_0xdb76e4,_0x226caa){const _0xeed27=_0x1d88bf;if(!_0xdb76e4||!_0x226caa)return![];try{const _0x2f3f34='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0xdb76e4+_0xeed27(0x976)+_0x226caa+_0xeed27(0x593),_0x48fb5f={'contents':[{'role':_0xeed27(0x7c6),'parts':[{'text':_0x2f3f34}]}]},_0x592f8d=_0xeed27(0xb13),_0x192e75=_0xeed27(0x6e0)+_0x592f8d,_0x20ebc7=await fetch(_0x192e75,{'method':_0xeed27(0x59e),'headers':{'Content-Type':_0xeed27(0x5f3)},'body':JSON[_0xeed27(0xa43)](_0x48fb5f)});if(!_0x20ebc7['ok'])throw new Error('API\x20call\x20failed');const _0x4fafbe=await _0x20ebc7[_0xeed27(0xbb8)](),_0x183694=_0x4fafbe[_0xeed27(0x877)][0x0]['content']['parts'][0x0]['text'][_0xeed27(0xb22)]()[_0xeed27(0xbb3)]();return _0x183694===_0xeed27(0x8a5);}catch(_0x125e9f){return console[_0xeed27(0x56e)](_0xeed27(0x554),_0x125e9f),![];}}async function processAndSubmitAnswers(_0x3654f4,_0xd767e5){const _0x72977e=_0x1d88bf;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x72977e(0x930)](_0x72977e(0x729),handleFullscreenChange),document[_0x72977e(0x930)](_0x72977e(0x40d),handleVisibilityChange);let _0x376458=0x0;const _0x32446f=[],_0x2256d1=currentDisplayedQuiz[_0x72977e(0xcaf)][_0x72977e(0x9dc)];let _0x46689e=0x0,_0x4f904a=[];const _0x582676=currentDisplayedQuiz['questions'];for(let _0x180ca1=0x0;_0x180ca1<_0x582676[_0x72977e(0x9dc)];_0x180ca1++){const _0x3d568e=_0x582676[_0x180ca1],_0x31bfaf=_0x3654f4[_0x180ca1],_0x399858=_0x31bfaf?_0x31bfaf[_0x72977e(0x5be)]:null,_0x2e450b=_0x31bfaf?_0x31bfaf[_0x72977e(0xcc5)]:null;let _0x4497bb=![],_0x3b4acd=0x0;if(_0x399858!==null&&_0x399858!==''){const _0x2804ae=_0x3d568e[_0x72977e(0xa42)]||currentDisplayedQuiz[_0x72977e(0x854)];switch(_0x2804ae){case _0x72977e(0x8ad):_0x4497bb=_0x399858===_0x3d568e['correctResponse'];break;case _0x72977e(0x9c3):const _0x51fb3c=_0x399858===!![]||_0x399858==='true';_0x4497bb=_0x51fb3c===_0x3d568e[_0x72977e(0x661)];break;case'short_answer':_0x4497bb=await gradeShortAnswer(_0x399858,_0x3d568e);break;case _0x72977e(0xa01):default:_0x4497bb=Number(_0x399858)===_0x3d568e[_0x72977e(0xcf3)];break;}}if(currentDisplayedQuiz[_0x72977e(0x3ad)]?.[_0x72977e(0x85b)]){const _0x1f520b=_0x31bfaf?_0x31bfaf[_0x72977e(0xcc5)]:null;if(_0x4497bb&&(_0x1f520b===!![]||_0x1f520b===_0x72977e(0x743)))_0x3b4acd=0x2;else{if(_0x4497bb)_0x3b4acd=0x1;else{if(!_0x4497bb&&(_0x1f520b===![]||_0x1f520b===_0x72977e(0x50a)||_0x1f520b===null))_0x3b4acd=0x0;else!_0x4497bb&&(_0x1f520b===!![]||_0x1f520b==='confident')&&(_0x3b4acd=-0x1);}}}else _0x3b4acd=_0x4497bb?0x1:0x0;_0x376458+=_0x3b4acd;if(_0x4497bb){_0x46689e++;if(_0x46689e===0x3)_0x4f904a[_0x72977e(0x488)](BADGES[_0x72977e(0xd06)]['id']);}else _0x46689e=0x0;let _0x1920fa=null;_0x3d568e[_0x72977e(0x69b)]&&_0x399858!==null&&(_0x1920fa=_0x3d568e[_0x72977e(0x69b)][_0x399858]),_0x32446f[_0x72977e(0x488)]({'questionId':_0x3d568e['id'],'answer':_0x399858,'answerText':_0x1920fa,'isCorrect':_0x4497bb,'wasConfident':_0x2e450b,'pointsAwarded':_0x3b4acd,'originalQuestionText':_0x3d568e[_0x72977e(0xc5b)]||_0x3d568e[_0x72977e(0x3ab)]});}const _0x6aa20f=_0x32446f['filter'](_0x270100=>_0x270100[_0x72977e(0x23a)])['length'],_0x2ae249=currentDisplayedQuiz[_0x72977e(0x3ad)]?.[_0x72977e(0x902)]??Math[_0x72977e(0x92f)](_0x2256d1/0x2);_0x6aa20f===_0x2256d1&&_0x2256d1>0x0&&!currentDisplayedQuiz[_0x72977e(0xcc8)]&&_0x4f904a['push'](BADGES[_0x72977e(0x509)]['id']);const _0x41f146=currentDisplayedQuiz['settings']?.[_0x72977e(0x97c)];if(_0x41f146===_0x72977e(0x7d8)&&quizStartTime){const _0x5d7d7a=(new Date()-quizStartTime)/0x3e8,_0x3e5222=currentDisplayedQuiz[_0x72977e(0x3ad)]['timerDuration']*0x3c;_0x6aa20f>=_0x2ae249&&_0x5d7d7a<_0x3e5222/0x2&&_0x4f904a[_0x72977e(0x488)](BADGES[_0x72977e(0x708)]['id']);}_0xd767e5[_0x72977e(0x9dc)]===0x0&&_0x6aa20f===_0x2256d1&&_0x2256d1>0x0&&_0x4f904a[_0x72977e(0x488)](BADGES[_0x72977e(0xc4a)]['id']);if(_0xd767e5[_0x72977e(0x9dc)]>0x0){const _0x2bb212=_0xd767e5[0x0]['score'];if(_0x2bb212<_0x2ae249&&_0x6aa20f>=_0x2ae249){const _0xe4ada1=_0xd767e5[_0x72977e(0x763)](_0x1884e0=>(_0x1884e0[_0x72977e(0x9ca)]||[])[_0x72977e(0x3b4)](BADGES[_0x72977e(0xcd8)]['id']));!_0xe4ada1&&_0x4f904a['push'](BADGES['COMEBACK_KING']['id']);}}_0xd767e5[_0x72977e(0x9dc)]===0x4&&_0x4f904a[_0x72977e(0x488)](BADGES[_0x72977e(0xa88)]['id']);const _0x31d68b=currentDisplayedQuiz[_0x72977e(0x3ad)][_0x72977e(0x8bd)];if(currentMode==='admin-testing'){handleResultDisplay(_0x31d68b,_0x6aa20f,_0x376458,_0x4f904a,_0x32446f,_0x2256d1);return;}const _0x40c53f=currentQuizData['id'],_0x3aa805=doc(db,_0x72977e(0x30c)+appId+'/public/data/quizzes/'+_0x40c53f+_0x72977e(0x472),currentStudentName);try{const _0x2a8770=[..._0xd767e5],_0xfe3468={'score':_0x6aa20f,'points':_0x376458,'badges':Array[_0x72977e(0x788)](new Set(_0x4f904a)),'submittedAt':new Date()[_0x72977e(0x7c9)](),'answers':_0x32446f};_0x2a8770[_0x72977e(0x488)](_0xfe3468);const _0x5ab422=_0xd767e5[_0x72977e(0x9dc)]===0x0?_0x6aa20f:_0xd767e5[0x0][_0x72977e(0x847)]||0x0,_0x26124c=Math[_0x72977e(0xc68)](..._0x2a8770['map'](_0x5938a6=>_0x5938a6[_0x72977e(0x847)]));await setDoc(_0x3aa805,{'studentName':currentStudentName,'totalQuestions':_0x2256d1,'attempts':_0x2a8770,'firstScore':_0x5ab422,'bestScore':_0x26124c,'latestScore':_0x6aa20f,'points':_0x376458,'latestSubmittedAt':_0xfe3468[_0x72977e(0xa55)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x72977e(0xb16)],currentStudentName),handleResultDisplay(_0x31d68b,_0x6aa20f,_0x376458,_0x4f904a,_0x32446f,_0x2256d1);}catch(_0x1b6d86){console['error'](_0x72977e(0x3a2),_0x1b6d86),showMessage(_0x72977e(0xbc6));}}async function updateStudentProfile(_0x5b5608,_0x31d340){const _0x2e9508=_0x1d88bf,_0xbcc059=doc(db,_0x2e9508(0x30c)+appId+_0x2e9508(0x906)+_0x5b5608+_0x2e9508(0x65e),_0x31d340);try{const _0x1f19be=query(collection(db,_0x2e9508(0x30c)+appId+'/public/data/quizzes'),where(_0x2e9508(0xb16),'==',_0x5b5608)),_0x1e1267=await getDocs(_0x1f19be),_0x34b6b7=new Map(_0x1e1267[_0x2e9508(0xa78)][_0x2e9508(0x2b5)](_0x148443=>[_0x148443['id'],_0x148443[_0x2e9508(0x7bb)]()])),_0x579969=Array['from'](_0x34b6b7[_0x2e9508(0x70c)]());await runTransaction(db,async _0x47aada=>{const _0xd9fee7=_0x2e9508;let _0x4cf6cf=0x0;const _0xc506ee={};let _0x30d80e=!![],_0x26b396=0x0,_0x566249=0x0;for(const _0x5ce0aa of _0x579969){const _0x34feb1=_0x34b6b7['get'](_0x5ce0aa),_0x34b3e5=doc(db,_0xd9fee7(0x30c)+appId+'/public/data/quizzes/'+_0x5ce0aa+_0xd9fee7(0x472),_0x31d340),_0x9cc393=await _0x47aada[_0xd9fee7(0xacb)](_0x34b3e5);if(_0x9cc393[_0xd9fee7(0xb67)]()){const _0x529ece=_0x9cc393['data'](),_0x145754=_0x529ece['attempts']||[];if(_0x145754[_0xd9fee7(0x9dc)]>0x0){const _0x56abab=_0x145754[_0xd9fee7(0x9f5)]((_0x163b67,_0x5ad55f)=>{const _0x62a675=_0xd9fee7;if(_0x5ad55f[_0x62a675(0x847)]>_0x163b67[_0x62a675(0x847)])return _0x5ad55f;if(_0x5ad55f['score']===_0x163b67[_0x62a675(0x847)])return(_0x5ad55f[_0x62a675(0xb94)]||0x0)>(_0x163b67[_0x62a675(0xb94)]||0x0)?_0x5ad55f:_0x163b67;return _0x163b67;},{'score':-0x1,'points':-0x1});_0x56abab[_0xd9fee7(0x847)]>-0x1&&(_0x4cf6cf+=_0x56abab[_0xd9fee7(0xb94)]||0x0,(_0x56abab[_0xd9fee7(0x9ca)]||[])[_0xd9fee7(0xb2a)](_0x3d3897=>{_0xc506ee[_0x3d3897]=(_0xc506ee[_0x3d3897]||0x0)+0x1;}));}}if(_0x34feb1['topic']!=='แบบทดสอบซ่อมเสริม'){_0x566249++;if(_0x9cc393[_0xd9fee7(0xb67)]()){_0x26b396++;const _0x385eb3=_0x9cc393[_0xd9fee7(0x7bb)]();_0x385eb3[_0xd9fee7(0xa30)]!==_0x385eb3[_0xd9fee7(0xb3e)]&&(_0x30d80e=![]);}else _0x30d80e=![];}}_0x566249>0x0&&_0x26b396===_0x566249&&_0x30d80e?_0xc506ee[_0xd9fee7(0x3eb)]=0x1:_0xc506ee[_0xd9fee7(0x3eb)]=0x0,_0x47aada['set'](_0xbcc059,{'studentName':_0x31d340,'totalPoints':_0x4cf6cf,'unlockedBadges':Object[_0xd9fee7(0x70c)](_0xc506ee)[_0xd9fee7(0x408)](_0x24c1f3=>_0xc506ee[_0x24c1f3]>0x0),'badgesCount':_0xc506ee},{'merge':!![]});});}catch(_0x428123){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x428123),showMessage(_0x2e9508(0x2f7));}}function startAdminTest(){const _0x433153=_0x1d88bf;if(!currentQuizData){showMessage(_0x433153(0x479));return;}let _0x4ffab9=JSON[_0x433153(0x784)](JSON[_0x433153(0xa43)](currentQuizData));currentMode=_0x433153(0x2b6),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x433153(0x5a7)][_0x433153(0x3b1)](_0x433153(0x8da)),studentView[_0x433153(0x5a7)]['remove'](_0x433153(0x8da)),studentInitialView[_0x433153(0x5a7)][_0x433153(0x3b1)](_0x433153(0x8da)),studentNameSelectionView[_0x433153(0x5a7)][_0x433153(0x3b1)](_0x433153(0x8da)),studentResultArea[_0x433153(0x5a7)][_0x433153(0x3b1)](_0x433153(0x8da)),studentQuizArea[_0x433153(0x5a7)][_0x433153(0x2bd)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x4ffab9);}function handleResultDisplay(_0xa0d5cb,_0x1cb7b0,_0x5829e7,_0x52a5ce,_0x2f8052,_0x5027dc){const _0x55b95c=_0x1d88bf;if(_0xa0d5cb===_0x55b95c(0x27f)){displaySubmissionConfirmation();return;}const _0x32b5ef=currentDisplayedQuiz[_0x55b95c(0x3ad)]?.['passingScore']??Math[_0x55b95c(0x92f)](_0x5027dc/0x2),_0x375194=currentDisplayedQuiz[_0x55b95c(0x3ad)]?.[_0x55b95c(0x3b9)]??![],_0x2513fc=currentDisplayedQuiz[_0x55b95c(0x3ad)]?.['loopUntilPass']===!![],_0x121054=_0x1cb7b0<_0x32b5ef,_0xf00f22=_0xa0d5cb===_0x55b95c(0x656)||_0xa0d5cb===_0x55b95c(0x248);if(_0x2513fc&&_0x121054&&!_0xf00f22){_0xa0d5cb===_0x55b95c(0x3f9)?displayResultsWithAnswers(_0x1cb7b0,_0x5829e7,_0x52a5ce,_0x2f8052,_0x5027dc,!![]):displayLoopScreen(_0x1cb7b0,_0x5027dc,_0xa0d5cb);return;}if(_0x375194&&_0x121054){startAdaptiveFlow(_0x2f8052,_0x1cb7b0,_0x5027dc);return;}switch(_0xa0d5cb){case _0x55b95c(0x3f9):displayResultsWithAnswers(_0x1cb7b0,_0x5829e7,_0x52a5ce,_0x2f8052,_0x5027dc);break;case _0x55b95c(0x5fa):displayResultsScoreOnly(_0x1cb7b0,_0x5829e7,_0x52a5ce,_0x5027dc);break;case'show_pass_fail_only':displayPassFailOnly(_0x1cb7b0,_0x5027dc);break;case'half_mark_status':displayHalfMarkResult(_0x1cb7b0,_0x5027dc);break;case'perfect_score_status':displayPerfectScoreResult(_0x1cb7b0,_0x5027dc);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2bd93c){const _0x2e5ff5=_0x1d88bf;studentReadingArea[_0x2e5ff5(0x6b3)]=_0x2e5ff5(0xaf3);const _0x4a361a=_0x2e5ff5(0x90a)+_0x2bd93c+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x2e5ff5(0xb54),_0x1d3d00={'type':'OBJECT','properties':{'questionText':{'type':_0x2e5ff5(0x27b)},'options':{'type':_0x2e5ff5(0xaee),'items':{'type':_0x2e5ff5(0x27b)}},'correctAnswerIndex':{'type':_0x2e5ff5(0x76a)},'explanation':{'type':'STRING'}},'required':[_0x2e5ff5(0x3ab),_0x2e5ff5(0x69b),_0x2e5ff5(0xcf3),_0x2e5ff5(0x989)]},_0x4527e3={'type':_0x2e5ff5(0xca7),'properties':{'topic':{'type':_0x2e5ff5(0x27b)},'questions':{'type':'ARRAY','items':_0x1d3d00}},'required':[_0x2e5ff5(0x6f8),'questions']};try{const _0x1e387d=await callAnalysisApi(_0x4a361a,_0x4527e3);_0x1e387d['isRemedial']=!![],studentReadingArea[_0x2e5ff5(0x5a7)][_0x2e5ff5(0x3b1)](_0x2e5ff5(0x8da));const _0x5d47ab={...currentDisplayedQuiz[_0x2e5ff5(0x3ad)],'isAdaptive':![],'resultsDisplay':_0x2e5ff5(0x3f9)};_0x1e387d[_0x2e5ff5(0x3ad)]=_0x5d47ab,displayQuizForStudent(_0x1e387d);}catch(_0x2d118a){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x2d118a),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x2e5ff5(0x655));}}function displayPassFailOnly(_0x5d1bcf,_0x191468){const _0x22be09=_0x1d88bf,_0x250c65=currentDisplayedQuiz[_0x22be09(0x3ad)]?.[_0x22be09(0x902)]??-0x1,_0x12878e=currentDisplayedQuiz[_0x22be09(0xcc8)]===!![];let _0x470068='',_0x560cf2=![];if(_0x12878e||_0x250c65!==-0x1){_0x560cf2=_0x12878e?_0x5d1bcf===_0x191468:_0x5d1bcf>=_0x250c65;const _0x4ae09=_0x560cf2?_0x22be09(0xa57):'bg-red-100\x20text-red-800',_0x50f673=_0x560cf2?'ผ่าน':'ไม่ผ่าน';_0x470068=_0x22be09(0x8d4)+_0x4ae09+'\x22>'+_0x50f673+_0x22be09(0xc55);}else _0x470068=_0x22be09(0x1f0);let _0x812643=_0x22be09(0x2ea)+currentStudentName+_0x22be09(0x366)+_0x470068+_0x22be09(0x6ee);studentResultArea[_0x22be09(0x6b3)]=_0x812643,studentResultArea[_0x22be09(0x5a7)][_0x22be09(0x2bd)](_0x22be09(0x8da)),studentQuizArea[_0x22be09(0x5a7)][_0x22be09(0x3b1)](_0x22be09(0x8da)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x560cf2});}function cancelAdminTest(){const _0xa0a8c5=_0x1d88bf;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0xa0a8c5(0x930)](_0xa0a8c5(0x729),handleFullscreenChange),document[_0xa0a8c5(0x930)](_0xa0a8c5(0x40d),handleVisibilityChange),currentMode=_0xa0a8c5(0x8c7),studentView[_0xa0a8c5(0x5a7)][_0xa0a8c5(0x3b1)](_0xa0a8c5(0x8da)),adminView[_0xa0a8c5(0x5a7)][_0xa0a8c5(0x2bd)](_0xa0a8c5(0x8da)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0xa0a8c5(0xb9c));}function setupResultScreenBackButton(_0x1f9c5d){const _0x599d55=_0x1d88bf,_0x307369={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1f9c5d};if(_0x307369['isLooping']){const _0x141ccc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x599d55(0x24b)](_0x599d55(0x7e6),_0x141ccc),document[_0x599d55(0x9bf)]('retake-quiz-loop-btn')[_0x599d55(0x8c1)](_0x599d55(0x7c2),()=>{const _0x331ebb=_0x599d55;studentResultArea[_0x331ebb(0x5a7)]['add'](_0x331ebb(0x8da)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x239818='back-from-results-btn',_0x1c52d0=currentMode==='admin-testing',_0x33189b=_0x1c52d0?_0x599d55(0x7db):_0x599d55(0x3e4);let _0x313214='';_0x307369[_0x599d55(0x56b)]&&(_0x313214+=_0x599d55(0x896));let _0x507a4c=_0x307369[_0x599d55(0x5f5)];_0x507a4c===undefined&&(_0x507a4c=_0x307369[_0x599d55(0x847)]<_0x307369['totalQuestions']);_0x507a4c&&(_0x313214+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x313214+=_0x599d55(0x7fa)+_0x239818+_0x599d55(0x2bb)+_0x33189b+_0x599d55(0x211);const _0x2cde27=_0x599d55(0x46b)+_0x313214+'</div>';studentResultArea['insertAdjacentHTML'](_0x599d55(0x7e6),_0x2cde27),studentResultArea[_0x599d55(0x583)]('#view-rankings-btn')?.[_0x599d55(0x8c1)](_0x599d55(0x7c2),handleShowStudentRankings);const _0x58f962=studentResultArea[_0x599d55(0x583)](_0x599d55(0x217));_0x58f962&&_0x58f962[_0x599d55(0x8c1)](_0x599d55(0x7c2),()=>{const _0x2dac00=_0x599d55;studentResultArea[_0x2dac00(0x5a7)][_0x2dac00(0x3b1)](_0x2dac00(0x8da)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x599d55(0x9bf)](_0x239818)['addEventListener'](_0x599d55(0x7c2),()=>{const _0x4bc90a=_0x599d55;_0x1c52d0?(currentMode=_0x4bc90a(0x8c7),studentView[_0x4bc90a(0x5a7)][_0x4bc90a(0x3b1)](_0x4bc90a(0x8da)),adminView[_0x4bc90a(0x5a7)][_0x4bc90a(0x2bd)](_0x4bc90a(0x8da)),showView(_0x4bc90a(0xb9c))):(showView(_0x4bc90a(0x655)),document[_0x4bc90a(0x9bf)](_0x4bc90a(0x9f7))[_0x4bc90a(0xb00)]='');});}function displayResultsWithAnswers(_0x518cff,_0x4d3ec8,_0x26c05d,_0x4e4967,_0x5407a9,_0xdaaa3e=![]){const _0x511c81=_0x1d88bf,_0x3e17eb=_0x5407a9>0x0?_0x518cff/_0x5407a9*0x64:0x0,_0x4d8b97=currentDisplayedQuiz[_0x511c81(0x3ad)]?.[_0x511c81(0x902)]??-0x1,_0x4c2015=currentDisplayedQuiz[_0x511c81(0xcc8)]===!![];let _0x1e754e='';if(_0x4c2015||_0x4d8b97!==-0x1){let _0x5c9719=_0x4c2015?_0x518cff===_0x5407a9:_0x518cff>=_0x4d8b97;const _0x43aa9d=_0x5c9719?_0x511c81(0xa57):_0x511c81(0x7d6),_0x558a1d=_0x5c9719?'ผ่าน':_0x511c81(0x38d);_0x1e754e=_0x511c81(0xbe9)+_0x43aa9d+'\x22>'+_0x558a1d+_0x511c81(0xbab);}let _0xc55ab2=_0x511c81(0x7cf)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x518cff+_0x511c81(0x5e2)+_0x5407a9+_0x511c81(0x3fd)+_0x1e754e+_0x511c81(0x453)+_0x4d3ec8+_0x511c81(0x609)+_0x3e17eb[_0x511c81(0x8b6)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions']['forEach']((_0x315bca,_0xde0c5c)=>{const _0x1cc01d=_0x511c81,_0x151a3b=_0x4e4967[_0xde0c5c],_0x5ca41e=_0x151a3b[_0x1cc01d(0x5be)],_0x5be846=_0x151a3b[_0x1cc01d(0x23a)],_0x164669=_0x315bca[_0x1cc01d(0xa42)]||currentDisplayedQuiz[_0x1cc01d(0x854)];_0xc55ab2+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x5be846?_0x1cc01d(0x1e9):_0x1cc01d(0x53d))+_0x1cc01d(0xb31)+(_0xde0c5c+0x1)+'.\x20'+(_0x315bca[_0x1cc01d(0xc5b)]||_0x315bca['questionText'])+_0x1cc01d(0x4a5);switch(_0x164669){case _0x1cc01d(0x8ad):const _0x14a7a8=_0x5ca41e||_0x1cc01d(0x57e),_0x1eefdd=_0x315bca[_0x1cc01d(0x1db)];_0xc55ab2+=_0x1cc01d(0x86b)+(!_0x5be846?_0x1cc01d(0x1d4):'')+'\x22>'+_0x14a7a8+_0x1cc01d(0x5a8);!_0x5be846&&(_0xc55ab2+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x1eefdd+'</p>');break;case'short_answer':_0xc55ab2+=_0x1cc01d(0x2a8)+(_0x5ca41e||_0x1cc01d(0x57e))+'</p>',_0xc55ab2+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x315bca['idealAnswer']+'</p>';break;case _0x1cc01d(0x9c3):_0xc55ab2+=_0x1cc01d(0x347)+(_0x315bca[_0x1cc01d(0x661)]===!![]?_0x1cc01d(0xc25):'')+'\x20'+(_0x5ca41e===_0x1cc01d(0x8a5)&&!_0x5be846?_0x1cc01d(0x1d4):'')+'\x22>ใช่</p>',_0xc55ab2+='<p\x20class=\x22'+(_0x315bca[_0x1cc01d(0x661)]===![]?_0x1cc01d(0xc25):'')+'\x20'+(_0x5ca41e===_0x1cc01d(0x317)&&!_0x5be846?_0x1cc01d(0x1d4):'')+_0x1cc01d(0x20d);break;default:_0xc55ab2+=_0x315bca[_0x1cc01d(0x69b)]['map']((_0x31bd17,_0x2eb25c)=>{const _0x1d8fc7=_0x1cc01d;let _0x2877e5='',_0xbee772='';if(_0x2eb25c===_0x315bca[_0x1d8fc7(0xcf3)])_0x2877e5=_0x1d8fc7(0xc25),_0xbee772=_0x1d8fc7(0xcb5);else _0x2eb25c===_0x5ca41e&&(_0x2877e5=_0x1d8fc7(0x8b2),_0xbee772=_0x1d8fc7(0x48a));return _0x1d8fc7(0xb8c)+_0x2877e5+'\x22>'+_0xbee772+_0x31bd17+_0x1d8fc7(0x5a5);})['join']('');break;}_0xc55ab2+=_0x1cc01d(0x191)+(_0x315bca[_0x1cc01d(0x989)]||_0x1cc01d(0xbce))+_0x1cc01d(0x5a5);if(!_0x5be846){const _0x2f49e6=_0x315bca['stem']||_0x315bca[_0x1cc01d(0x3ab)];_0xc55ab2+=_0x1cc01d(0xbe7)+escape(_0x2f49e6)+_0x1cc01d(0xc5a);}_0xc55ab2+=_0x1cc01d(0x5a5);}),studentResultArea[_0x511c81(0x6b3)]=_0xc55ab2,renderEarnedBadges(_0x26c05d,_0x511c81(0xc3c)),studentResultArea['classList']['remove'](_0x511c81(0x8da)),studentQuizArea['classList'][_0x511c81(0x3b1)](_0x511c81(0x8da)),setupResultScreenBackButton({'isLooping':_0xdaaa3e,'score':_0x518cff,'totalQuestions':_0x5407a9,'showRankings':!![]});if(window[_0x511c81(0x7c4)])window['MathJax'][_0x511c81(0xa7b)]([studentResultArea]);}function displayResultsScoreOnly(_0x1dfc23,_0x3dbec0,_0x31d6c6,_0xac6f5b){const _0x3cef56=_0x1d88bf,_0x20b361=_0xac6f5b>0x0?_0x1dfc23/_0xac6f5b*0x64:0x0,_0x294a7a=currentDisplayedQuiz['settings']?.[_0x3cef56(0x902)]??-0x1,_0x5be1fd=currentDisplayedQuiz['isRemedial']===!![];let _0x4e34a2='';if(_0x5be1fd||_0x294a7a!==-0x1){let _0x1a2872=_0x5be1fd?_0x1dfc23===_0xac6f5b:_0x1dfc23>=_0x294a7a;const _0x86ca5d=_0x1a2872?_0x3cef56(0xa57):_0x3cef56(0x7d6),_0x3711cd=_0x1a2872?'ผ่าน':_0x3cef56(0x38d);_0x4e34a2=_0x3cef56(0xbe9)+_0x86ca5d+'\x22>'+_0x3711cd+_0x3cef56(0xbab);}let _0x4e7ace='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x3cef56(0x882)+_0x1dfc23+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0xac6f5b+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e34a2+_0x3cef56(0x453)+_0x3dbec0+_0x3cef56(0xa84)+_0x20b361[_0x3cef56(0x8b6)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3cef56(0x6b3)]=_0x4e7ace,renderEarnedBadges(_0x31d6c6,_0x3cef56(0xc3c)),studentResultArea['classList']['remove'](_0x3cef56(0x8da)),studentQuizArea['classList'][_0x3cef56(0x3b1)]('hidden'),setupResultScreenBackButton({'score':_0x1dfc23,'totalQuestions':_0xac6f5b,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x2b91a1=_0x1d88bf;let _0xdceffd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x2b91a1(0x81d);studentResultArea[_0x2b91a1(0x6b3)]=_0xdceffd,studentResultArea[_0x2b91a1(0x5a7)][_0x2b91a1(0x2bd)]('hidden'),studentQuizArea[_0x2b91a1(0x5a7)][_0x2b91a1(0x3b1)](_0x2b91a1(0x8da)),document[_0x2b91a1(0x9bf)](_0x2b91a1(0x81f))[_0x2b91a1(0x8c1)](_0x2b91a1(0x7c2),()=>{const _0x5e076b=_0x2b91a1;showView('student'),document['getElementById'](_0x5e076b(0x9f7))[_0x5e076b(0xb00)]='';});}function renderEarnedBadges(_0x103a7c,_0x43c802){const _0x26160c=_0x1d88bf,_0x5e119b=document[_0x26160c(0x9bf)](_0x43c802);if(!_0x5e119b||!_0x103a7c||_0x103a7c[_0x26160c(0x9dc)]===0x0)return;let _0xf573b3='';_0x103a7c[_0x26160c(0xb2a)]((_0x5e1649,_0x275cb9)=>{const _0x4f6373=_0x26160c,_0x179872=Object[_0x4f6373(0xce2)](BADGES)[_0x4f6373(0x9c1)](_0x19de47=>_0x19de47['id']===_0x5e1649);_0x179872&&(_0xf573b3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x275cb9*0.2+'s;\x22\x20title=\x22'+_0x179872['description']+_0x4f6373(0xb9e)+_0x179872[_0x4f6373(0x82e)]+_0x4f6373(0xbf7)+_0x179872[_0x4f6373(0xa80)]+_0x4f6373(0x2e7));}),_0x5e119b[_0x26160c(0x6b3)]=_0xf573b3;}function startPresentation(_0x34fe66){const _0x8ac2e8=_0x1d88bf;currentQuizData=getShuffledQuiz(_0x34fe66),currentPresentationSlide=0x0,presentationModal['style'][_0x8ac2e8(0x585)]=_0x8ac2e8(0x8d5),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x4fa4eb=_0x1d88bf;document[_0x4fa4eb(0x7ca)]&&document[_0x4fa4eb(0x9b0)](),presentationModal['style'][_0x4fa4eb(0x585)]=_0x4fa4eb(0x44e);}function renderPresentationSlide(_0x314f72){const _0x1d57d0=_0x1d88bf,_0xed8b6a=document[_0x1d57d0(0x9bf)](_0x1d57d0(0x419));if(!currentQuizData||!currentQuizData[_0x1d57d0(0xcaf)]||!currentQuizData['questions'][_0x314f72]){_0xed8b6a[_0x1d57d0(0x6b3)]=_0x1d57d0(0xc90);return;}const _0x3db1de=currentQuizData[_0x1d57d0(0xcaf)][_0x314f72],_0x4f1ea5=_0x3db1de[_0x1d57d0(0xa42)]||currentQuizData['quizType'];_0xed8b6a[_0x1d57d0(0x6b3)]='';let _0x5f00f4=_0x1d57d0(0x9f8)+(_0x3db1de[_0x1d57d0(0xbe1)]?_0x1d57d0(0x9c2)+_0x3db1de[_0x1d57d0(0xbe1)]+_0x1d57d0(0x5a5):'')+_0x1d57d0(0x7ec)+(_0x314f72+0x1)+'.\x20'+(_0x3db1de[_0x1d57d0(0xc5b)]||_0x3db1de[_0x1d57d0(0x3ab)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x4f1ea5){case'matching_item':_0x5f00f4+=_0x3db1de[_0x1d57d0(0x783)][_0x1d57d0(0x2b5)](_0x148e86=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x148e86+_0x1d57d0(0x7c5))[_0x1d57d0(0x77f)]('');break;case'true_false':_0x5f00f4+=_0x1d57d0(0xbaf),_0x5f00f4+=_0x1d57d0(0x46a);break;case _0x1d57d0(0x761):case _0x1d57d0(0x7ff):_0x5f00f4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x1d57d0(0xa01):default:_0x5f00f4+=_0x3db1de[_0x1d57d0(0x69b)][_0x1d57d0(0x2b5)]((_0x97693e,_0x461604)=>_0x1d57d0(0x83d)+_0x461604+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x97693e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1d57d0(0x77f)]('');break;}_0x5f00f4+=_0x1d57d0(0x4d2)+(_0x3db1de[_0x1d57d0(0x989)]||_0x1d57d0(0xbce))+_0x1d57d0(0x577),_0xed8b6a[_0x1d57d0(0x6b3)]=_0x5f00f4;if(window[_0x1d57d0(0x7c4)])window['MathJax'][_0x1d57d0(0xa7b)]([_0xed8b6a]);let _0x379744=[];switch(_0x4f1ea5){case'matching_item':_0x379744=_0x3db1de[_0x1d57d0(0x783)]||[];break;case _0x1d57d0(0x9c3):_0x379744=[_0x1d57d0(0xb12),_0x1d57d0(0x1df)];break;default:_0x379744=_0x3db1de[_0x1d57d0(0x69b)]||[];break;}const _0x3b8f68=document[_0x1d57d0(0x9bf)](_0x1d57d0(0xcaa));_0x3b8f68&&(_0x3b8f68[_0x1d57d0(0xc96)]=()=>{openScratchpad(_0x3db1de,_0x379744);});document[_0x1d57d0(0x468)]('.presentation-option')['forEach'](_0x5cf55f=>{const _0x3d9ab4=_0x1d57d0;_0x5cf55f[_0x3d9ab4(0x8c1)]('click',_0x272c11=>revealAnswerForPresentation(_0x314f72,_0x272c11[_0x3d9ab4(0x753)]));});const _0x31183d=document['getElementById'](_0x1d57d0(0xaf1));_0x31183d&&_0x31183d['addEventListener'](_0x1d57d0(0x7c2),()=>checkShortAnswerForPresentation(_0x314f72)),document[_0x1d57d0(0x9bf)]('slide-counter')['textContent']='ข้อที่\x20'+(_0x314f72+0x1)+_0x1d57d0(0xb32)+currentQuizData['questions'][_0x1d57d0(0x9dc)],document[_0x1d57d0(0x9bf)]('prev-question-btn')[_0x1d57d0(0x6d3)]=_0x314f72===0x0,document[_0x1d57d0(0x9bf)]('next-question-btn')[_0x1d57d0(0x6d3)]=_0x314f72===currentQuizData[_0x1d57d0(0xcaf)][_0x1d57d0(0x9dc)]-0x1;}async function checkShortAnswerForPresentation(_0x172a29){const _0x346df2=_0x1d88bf,_0x35865a=currentQuizData[_0x346df2(0xcaf)][_0x172a29],_0xa506e4=document[_0x346df2(0x9bf)](_0x346df2(0xbc9)),_0x35651f=document[_0x346df2(0x9bf)]('check-presentation-answer-btn'),_0x53be1f=document[_0x346df2(0x9bf)](_0x346df2(0x1a0)),_0x3b0d36=document[_0x346df2(0x9bf)](_0x346df2(0x235));if(!_0xa506e4||!_0x35651f||!_0x53be1f||!_0x3b0d36)return;const _0x4df4d5=_0xa506e4['value'][_0x346df2(0xb22)]();if(_0x4df4d5==='')return;_0x35651f['disabled']=!![],_0x35651f[_0x346df2(0x6b3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0xa506e4[_0x346df2(0x6d3)]=!![];const _0x39b739=await gradeShortAnswer(_0x4df4d5,_0x35865a);_0x39b739?_0x53be1f['innerHTML']=_0x346df2(0x874):_0x53be1f[_0x346df2(0x6b3)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x35865a[_0x346df2(0x549)]+')',_0x53be1f['classList']['remove'](_0x346df2(0x8da)),_0x3b0d36['classList'][_0x346df2(0x2bd)](_0x346df2(0x8da)),_0x35651f[_0x346df2(0x5a7)][_0x346df2(0x3b1)](_0x346df2(0x8da));}function revealAnswerForPresentation(_0x5097e6,_0x4bbd7b){const _0x56500b=_0x1d88bf,_0x4aef4a=currentQuizData['questions'][_0x5097e6],_0x272002=_0x4aef4a[_0x56500b(0xa42)]||currentQuizData['quizType'];document[_0x56500b(0x468)](_0x56500b(0x48c))[_0x56500b(0xb2a)](_0x1d85d9=>{const _0x4bdd18=_0x56500b;_0x1d85d9[_0x4bdd18(0x6d3)]=!![],_0x1d85d9[_0x4bdd18(0x5a7)][_0x4bdd18(0x2bd)]('hover:bg-indigo-100');let _0x36d489=![];if(_0x272002===_0x4bdd18(0xa01)||_0x272002===_0x4bdd18(0x74f)){const _0x1bccca=parseInt(_0x1d85d9[_0x4bdd18(0xc05)][_0x4bdd18(0x201)]);_0x36d489=_0x1bccca===_0x4aef4a[_0x4bdd18(0xcf3)];}else{if(_0x272002===_0x4bdd18(0x9c3)){const _0x3a5b0e=_0x1d85d9[_0x4bdd18(0xc05)][_0x4bdd18(0x5be)]===_0x4bdd18(0x8a5);_0x36d489=_0x3a5b0e===_0x4aef4a[_0x4bdd18(0x661)];}else _0x272002===_0x4bdd18(0x8ad)&&(_0x36d489=_0x1d85d9[_0x4bdd18(0xa9a)][_0x4bdd18(0xb22)]()===_0x4aef4a[_0x4bdd18(0x1db)]);}_0x36d489?_0x1d85d9[_0x4bdd18(0x5a7)]['add']('bg-green-500','text-white',_0x4bdd18(0x7d3)):_0x1d85d9[_0x4bdd18(0x5a7)][_0x4bdd18(0x3b1)](_0x4bdd18(0x355));}),_0x4bbd7b[_0x56500b(0x5a7)][_0x56500b(0x2bd)]('opacity-50');let _0x46327c=![];if(_0x272002===_0x56500b(0xa01))_0x46327c=parseInt(_0x4bbd7b[_0x56500b(0xc05)][_0x56500b(0x201)])===_0x4aef4a[_0x56500b(0xcf3)];else{if(_0x272002===_0x56500b(0x9c3))_0x46327c=_0x4bbd7b[_0x56500b(0xc05)][_0x56500b(0x5be)]===_0x56500b(0x8a5)===_0x4aef4a[_0x56500b(0x661)];else _0x272002===_0x56500b(0x8ad)&&(_0x46327c=_0x4bbd7b['textContent'][_0x56500b(0xb22)]()===_0x4aef4a[_0x56500b(0x1db)]);}!_0x46327c&&_0x4bbd7b[_0x56500b(0x5a7)][_0x56500b(0x3b1)](_0x56500b(0x945),'text-white',_0x56500b(0x2cd)),document['getElementById'](_0x56500b(0x235))[_0x56500b(0x5a7)][_0x56500b(0x2bd)](_0x56500b(0x8da));}function startWholeQuizTimer(_0x3d1091){const _0x181525=_0x1d88bf,_0x27e52b=document['getElementById']('timer-container');if(!_0x27e52b)return;const _0x20e34b=Date[_0x181525(0x49e)]()+_0x3d1091*0x3c*0x3e8;_0x27e52b['innerHTML']=_0x181525(0x384);const _0x4ecf84=document[_0x181525(0x9bf)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x36d285=_0x181525,_0xfad154=_0x20e34b-Date[_0x36d285(0x49e)]();if(_0xfad154<=0x0)clearInterval(quizTimerInterval),_0x4ecf84[_0x36d285(0xa9a)]=_0x36d285(0xb0e),showMessage(_0x36d285(0x9aa)),handleSubmitQuiz(null);else{const _0x47d3b9=Math['floor'](_0xfad154/0x3e8/0x3c%0x3c)[_0x36d285(0xce7)]()['padStart'](0x2,'0'),_0x5252a0=Math[_0x36d285(0x92f)](_0xfad154/0x3e8%0x3c)[_0x36d285(0xce7)]()[_0x36d285(0xb50)](0x2,'0');_0x4ecf84['textContent']=_0x47d3b9+':'+_0x5252a0;}},0x3e8);}function renderPerQuestionView(){const _0x307f46=_0x1d88bf;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x21d5dd=currentDisplayedQuiz[_0x307f46(0xcaf)][currentQuestionIndex],_0x23b9ef=_0x21d5dd['questionType']||currentDisplayedQuiz['quizType'],_0xba3197=currentDisplayedQuiz[_0x307f46(0x3ad)]?.[_0x307f46(0x85b)]===!![];let _0xed2846=_0x307f46(0x5c0)+(currentQuestionIndex+0x1)+_0x307f46(0x45e)+currentDisplayedQuiz[_0x307f46(0xcaf)][_0x307f46(0x9dc)]+_0x307f46(0xc86)+(currentMode==='admin-testing'?_0x307f46(0x5fd):'')+_0x307f46(0xa3f)+currentDisplayedQuiz[_0x307f46(0x6f8)]+_0x307f46(0xbbb);studentQuizArea[_0x307f46(0x6b3)]=_0xed2846;let _0x59026a=_0x21d5dd['stem']||_0x21d5dd[_0x307f46(0x3ab)];_0x21d5dd['imageCode']&&(_0x59026a+=_0x307f46(0x9c2)+_0x21d5dd[_0x307f46(0xbe1)]+_0x307f46(0x5a5));let _0x334690='';switch(_0x23b9ef){case _0x307f46(0x7ff):case _0x307f46(0x761):_0x334690=_0x307f46(0xaff);break;case'true_false':_0x334690='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x307f46(0x8ad):_0x334690=_0x307f46(0xade)+(_0x21d5dd['allResponses']||[])['map'](_0x441a0e=>_0x307f46(0x78c)+_0x441a0e+'\x22>'+_0x441a0e+_0x307f46(0x1b9))[_0x307f46(0x77f)]('')+_0x307f46(0x624);break;default:_0x21d5dd['options']&&(_0x334690=_0x21d5dd[_0x307f46(0x69b)]['map']((_0x1625c6,_0x4cda1c)=>_0x307f46(0x37c)+_0x4cda1c+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x4cda1c+_0x307f46(0x8f2)+_0x4cda1c+'\x22>'+_0x1625c6+_0x307f46(0x996))[_0x307f46(0x77f)](''));break;}document['getElementById'](_0x307f46(0xbd3))['innerHTML']=_0x59026a,document[_0x307f46(0x9bf)]('per-question-options')['innerHTML']=_0x334690;const _0x3a04d7=currentDisplayedQuiz[_0x307f46(0x3ad)]?.['isConfidenceScoringEnabled']===!![],_0x4a0812=currentDisplayedQuiz[_0x307f46(0x3ad)]?.[_0x307f46(0x398)]||_0x307f46(0x5af);if(_0x3a04d7&&_0x4a0812==='checkbox'){const _0x9688b2=_0x307f46(0x703);studentQuizArea[_0x307f46(0x583)]('.mb-6.p-4')[_0x307f46(0x24b)](_0x307f46(0x7e6),_0x9688b2);}studentQuizArea[_0x307f46(0x24b)](_0x307f46(0x7e6),_0x307f46(0xa2c)+(currentQuestionIndex===currentDisplayedQuiz[_0x307f46(0xcaf)]['length']-0x1?_0x307f46(0x6c8):_0x307f46(0x6b4))+_0x307f46(0x531));currentMode===_0x307f46(0x2b6)&&document[_0x307f46(0x9bf)]('cancel-test-btn')?.[_0x307f46(0x8c1)](_0x307f46(0x7c2),cancelAdminTest);document[_0x307f46(0x9bf)](_0x307f46(0xbb4))[_0x307f46(0x8c1)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x307f46(0x7c4)][_0x307f46(0xa7b)]([studentQuizArea]);currentDisplayedQuiz[_0x307f46(0x3ad)]?.[_0x307f46(0x97c)]===_0x307f46(0x7c3)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x16b681=_0x1d88bf,_0x132188=currentDisplayedQuiz[_0x16b681(0x3ad)]['timerDuration'],_0x10702a=document[_0x16b681(0x9bf)](_0x16b681(0xadc));if(!_0x10702a)return;let _0x4116fe=_0x132188;_0x10702a[_0x16b681(0x6b3)]=_0x16b681(0x8c2)+_0x4116fe+_0x16b681(0xbcd);const _0x25f2f0=document[_0x16b681(0x9bf)](_0x16b681(0x862)),_0x549e41=document[_0x16b681(0x9bf)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x4fc99d=_0x16b681;_0x4116fe--;const _0xff995b=_0x4116fe/_0x132188*0x64;_0x25f2f0[_0x4fc99d(0x641)][_0x4fc99d(0x31e)]=_0xff995b+'%',_0x549e41[_0x4fc99d(0xa9a)]=_0x4116fe,_0x4116fe<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4fc99d(0xbe3)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3a6d85=![]){const _0x1b43af=_0x1d88bf;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3c9c97=null,_0x47f80b=![];if(!_0x3a6d85){const _0x38b1fc=currentDisplayedQuiz[_0x1b43af(0xcaf)][currentQuestionIndex],_0x5705f4=_0x38b1fc[_0x1b43af(0xa42)]||currentDisplayedQuiz[_0x1b43af(0x854)];if(_0x5705f4==='short_answer'||_0x5705f4===_0x1b43af(0x761))_0x3c9c97=document[_0x1b43af(0x583)](_0x1b43af(0xa47))?.[_0x1b43af(0xb00)][_0x1b43af(0xb22)]()??'';else{if(_0x5705f4===_0x1b43af(0x8ad))_0x3c9c97=document[_0x1b43af(0x583)](_0x1b43af(0x57d))?.[_0x1b43af(0xb00)]??'';else{const _0xd5f602=document[_0x1b43af(0x583)](_0x1b43af(0x9a8));_0xd5f602&&(_0x3c9c97=_0xd5f602[_0x1b43af(0xb00)]);}}if(_0x3c9c97===null||_0x3c9c97===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x5092f5=currentDisplayedQuiz[_0x1b43af(0x3ad)]?.[_0x1b43af(0x85b)]===!![],_0x3880ff=currentDisplayedQuiz[_0x1b43af(0x3ad)]?.[_0x1b43af(0x398)]||_0x1b43af(0x5af);if(_0x5092f5&&_0x3880ff===_0x1b43af(0xa2e)){document[_0x1b43af(0x9bf)]('confidence-modal')['dataset'][_0x1b43af(0x224)]=_0x1b43af(0xa53),document[_0x1b43af(0x9bf)](_0x1b43af(0x1c0))['value']=_0x3c9c97,document[_0x1b43af(0x9bf)](_0x1b43af(0x30f))[_0x1b43af(0x5a7)][_0x1b43af(0x2bd)](_0x1b43af(0x8da));return;}const _0x4c809d=document[_0x1b43af(0x9bf)](_0x1b43af(0x3fa));_0x4c809d&&(_0x47f80b=_0x4c809d[_0x1b43af(0xc13)]);}const _0x41094f={'answer':_0x3c9c97,'wasConfident':_0x47f80b};proceedToNextQuestion(_0x41094f);}async function finalizePerQuestionQuiz(){const _0x48d39f=_0x1d88bf,_0x38336c=currentDisplayedQuiz['questions'][_0x48d39f(0x763)](_0x3dcee4=>_0x3dcee4['questionType']===_0x48d39f(0x7ff));_0x38336c?showMessage(_0x48d39f(0xcb6)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x4b8051=currentQuizData['id'],_0x35d7ff=doc(db,_0x48d39f(0x30c)+appId+'/public/data/quizzes/'+_0x4b8051+'/submissions',currentStudentName),_0x5dedbf=await getDoc(_0x35d7ff),_0x17d227=_0x5dedbf['exists']()?_0x5dedbf[_0x48d39f(0x7bb)]():{},_0x1a9c79=_0x17d227[_0x48d39f(0x879)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x1a9c79);}function getResultsFilename(){const _0x12cee0=_0x1d88bf,_0x577888=document['getElementById'](_0x12cee0(0xb7c))[_0x12cee0(0xa9a)][_0x12cee0(0xad8)](/[^a-z0-9]/gi,'_')[_0x12cee0(0xbb3)]();return _0x12cee0(0xc10)+(_0x577888||_0x12cee0(0x6e5));}function exportResultsAsImage(){const _0x5a69c4=_0x1d88bf,_0x57fc4e=document[_0x5a69c4(0x9bf)]('results-table-container');showMessage(_0x5a69c4(0x85c)),html2canvas(_0x57fc4e)[_0x5a69c4(0x722)](_0x378548=>{const _0x3e524a=_0x5a69c4,_0x4cc01b=document[_0x3e524a(0xb04)]('a');_0x4cc01b['download']=getResultsFilename()+_0x3e524a(0x880),_0x4cc01b['href']=_0x378548[_0x3e524a(0x39d)]('image/png'),_0x4cc01b['click'](),messageModal['classList'][_0x3e524a(0x3b1)](_0x3e524a(0x8da));});}function exportResultsAsPDF(){const _0x3f033f=_0x1d88bf,{jsPDF:_0x203efe}=window['jspdf'],_0x581a9a=new _0x203efe();_0x581a9a[_0x3f033f(0xa11)]('helvetica','normal'),_0x581a9a[_0x3f033f(0xa12)]({'html':_0x3f033f(0x747)}),_0x581a9a[_0x3f033f(0x3b0)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x422ee4=_0x1d88bf,_0x97995e=_0x422ee4(0x23e)+_0x422ee4(0x6ab)+_0x422ee4(0xa19)+_0x422ee4(0xa68),_0x532289=_0x422ee4(0x84b),_0x34cd96=_0x97995e+document[_0x422ee4(0x9bf)](_0x422ee4(0x2f4))[_0x422ee4(0x6b3)]+_0x532289,_0x2dd85a=_0x422ee4(0x521)+encodeURIComponent(_0x34cd96),_0x5d2ad3=document[_0x422ee4(0xb04)]('a');document[_0x422ee4(0x7bf)][_0x422ee4(0x5b9)](_0x5d2ad3),_0x5d2ad3[_0x422ee4(0xa48)]=_0x2dd85a,_0x5d2ad3[_0x422ee4(0x2ab)]=getResultsFilename()+_0x422ee4(0x550),_0x5d2ad3['click'](),document['body'][_0x422ee4(0xab2)](_0x5d2ad3);}function exportResultsAsExcel(){const _0x30a736=_0x1d88bf,_0x98128f=document['getElementById'](_0x30a736(0x1dc));let _0x780ab3=[];for(let _0x4ed4aa=0x0;_0x4ed4aa<_0x98128f[_0x30a736(0x672)][_0x30a736(0x9dc)];_0x4ed4aa++){let _0x17e132=[],_0x4afa29=_0x98128f[_0x30a736(0x672)][_0x4ed4aa][_0x30a736(0x468)](_0x30a736(0x991));for(let _0x8f8786=0x0;_0x8f8786<_0x4afa29['length'];_0x8f8786++){_0x17e132['push']('\x22'+_0x4afa29[_0x8f8786][_0x30a736(0x603)][_0x30a736(0xad8)](/"/g,'\x22\x22')+'\x22');}_0x780ab3[_0x30a736(0x488)](_0x17e132['join'](','));}const _0x1f161a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x780ab3['join']('\x0a')],{'type':_0x30a736(0x77d)}),_0x35947c=document['createElement']('a');_0x35947c[_0x30a736(0xa48)]=URL[_0x30a736(0x706)](_0x1f161a),_0x35947c[_0x30a736(0x2ab)]=getResultsFilename()+'.csv',_0x35947c[_0x30a736(0x7c2)]();}function exportTableAsImage(_0x39e0d6,_0x4df4af){const _0x57d154=_0x1d88bf,_0xef7094=document[_0x57d154(0x9bf)](_0x39e0d6);if(!_0xef7094){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x57d154(0x85c)),html2canvas(_0xef7094)['then'](_0x48d2fb=>{const _0x546f2d=_0x57d154,_0x5ab616=document['createElement']('a');_0x5ab616[_0x546f2d(0x2ab)]=_0x4df4af+_0x546f2d(0x880),_0x5ab616[_0x546f2d(0xa48)]=_0x48d2fb[_0x546f2d(0x39d)]('image/png'),_0x5ab616['click'](),messageModal[_0x546f2d(0x5a7)][_0x546f2d(0x3b1)](_0x546f2d(0x8da));});}function exportTableAsPDF(_0x15a416,_0x26ade0){const _0xbf771=_0x1d88bf,{jsPDF:_0x54097d}=window['jspdf'],_0x466511=new _0x54097d();_0x466511[_0xbf771(0xa11)]('helvetica',_0xbf771(0x2ef)),_0x466511[_0xbf771(0xa12)]({'html':'#'+_0x15a416}),_0x466511[_0xbf771(0x3b0)](_0x26ade0+_0xbf771(0x96e));}function exportTableAsWord(_0x2dc141,_0x3f0fe0){const _0x5f350a=_0x1d88bf,_0x308be2=document[_0x5f350a(0x9bf)](_0x2dc141);if(!_0x308be2){showMessage(_0x5f350a(0x72a));return;}const _0x4d7454=_0x5f350a(0x23e)+_0x5f350a(0x6ab)+_0x5f350a(0xa19)+_0x5f350a(0xa68),_0x5cb86b=_0x5f350a(0x84b),_0x40d34a=_0x4d7454+_0x308be2[_0x5f350a(0x6b3)]+_0x5cb86b,_0x3d92fb=_0x5f350a(0x521)+encodeURIComponent(_0x40d34a),_0x12444c=document[_0x5f350a(0xb04)]('a');document[_0x5f350a(0x7bf)][_0x5f350a(0x5b9)](_0x12444c),_0x12444c['href']=_0x3d92fb,_0x12444c['download']=_0x3f0fe0+_0x5f350a(0x550),_0x12444c[_0x5f350a(0x7c2)](),document[_0x5f350a(0x7bf)][_0x5f350a(0xab2)](_0x12444c);}function exportTableAsExcel(_0x153b54,_0x1d840c){const _0xc295fc=_0x1d88bf,_0x14e736=document[_0xc295fc(0x9bf)](_0x153b54);if(!_0x14e736){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x5f0eaa=[];for(let _0x5c2a61=0x0;_0x5c2a61<_0x14e736['rows']['length'];_0x5c2a61++){let _0x4b87e0=[],_0x70365b=_0x14e736[_0xc295fc(0x672)][_0x5c2a61][_0xc295fc(0x468)](_0xc295fc(0x991));for(let _0x32d75a=0x0;_0x32d75a<_0x70365b[_0xc295fc(0x9dc)];_0x32d75a++){_0x4b87e0[_0xc295fc(0x488)]('\x22'+_0x70365b[_0x32d75a][_0xc295fc(0x603)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x5f0eaa[_0xc295fc(0x488)](_0x4b87e0[_0xc295fc(0x77f)](','));}const _0x45090d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5f0eaa[_0xc295fc(0x77f)]('\x0a')],{'type':_0xc295fc(0x77d)}),_0xdd57bf=document[_0xc295fc(0xb04)]('a');_0xdd57bf['href']=URL[_0xc295fc(0x706)](_0x45090d),_0xdd57bf['download']=_0x1d840c+_0xc295fc(0x337),_0xdd57bf['click']();}function renderAnalytics(_0x1d624c,_0x4abf21){const _0x4799ae=_0x1d88bf,_0x35a8e7=_0x4abf21[_0x4799ae(0x408)](_0x305b78=>_0x305b78[_0x4799ae(0xb0b)]!==undefined),_0x305689=currentProjectData['students'][_0x4799ae(0x9dc)],_0x24d92e=_0x35a8e7['length'],_0x3308ac=_0x305689-_0x24d92e,_0x2f11cc=_0x305689>0x0?_0x24d92e/_0x305689*0x64:0x0,_0x4845d4=_0x35a8e7[_0x4799ae(0x2b5)](_0x15ba90=>_0x15ba90[_0x4799ae(0xb0b)]),_0x67673e=_0x4845d4[_0x4799ae(0x9dc)]>0x0?_0x4845d4['reduce']((_0xb61a11,_0x450493)=>_0xb61a11+_0x450493,0x0)/_0x4845d4['length']:0x0,_0x4d67dd=_0x1d624c[_0x4799ae(0xcaf)][_0x4799ae(0x9dc)],_0xf0f2f9=_0x4d67dd>0x0?_0x67673e/_0x4d67dd*0x64:0x0,_0x455971=calculateItemAnalysis(_0x1d624c,_0x35a8e7),_0x4402ca=calculateReliabilityKR20(_0x1d624c,_0x35a8e7,_0x455971[_0x4799ae(0xac3)]);let _0x461bed='';if(_0x4402ca!==null){let _0xa81306='';if(_0x4402ca>=0.9)_0xa81306=_0x4799ae(0xbbe);else{if(_0x4402ca>=0.8)_0xa81306=_0x4799ae(0x7a0);else{if(_0x4402ca>=0.7)_0xa81306='ดี';else{if(_0x4402ca>=0.6)_0xa81306='พอใช้';else _0xa81306=_0x4799ae(0x4df);}}}_0x461bed=_0x4799ae(0xa3a)+_0x4402ca[_0x4799ae(0x8b6)](0x2)+_0x4799ae(0x90f)+_0xa81306+_0x4799ae(0x785);}const _0x16139d=document[_0x4799ae(0x9bf)]('analytics-summary-cards');_0x16139d[_0x4799ae(0x6b3)]=_0x4799ae(0x3ac)+_0x2f11cc[_0x4799ae(0x8b6)](0x0)+_0x4799ae(0xc51)+_0x24d92e+'/'+_0x305689+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x67673e['toFixed'](0x2)+_0x4799ae(0x261)+_0xf0f2f9['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x4845d4['length']>0x0?Math['max'](..._0x4845d4):_0x4799ae(0x9b2))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x4845d4['length']>0x0?Math[_0x4799ae(0xa15)](..._0x4845d4):_0x4799ae(0x9b2))+_0x4799ae(0x742)+_0x461bed+_0x4799ae(0xb54);const _0x36fe9d=document['getElementById'](_0x4799ae(0x2a9));_0x36fe9d&&_0x36fe9d['remove']();const _0x38d2e7=_0x4799ae(0x715);_0x16139d[_0x4799ae(0x24b)](_0x4799ae(0x4ef),_0x38d2e7);const _0x404b22=currentProjectData[_0x4799ae(0xa64)]||[];renderSubmissionChart(_0x24d92e,_0x3308ac,_0x35a8e7,_0x404b22),renderScoreDistributionChart(_0x35a8e7,_0x4d67dd),renderQuestionAnalytics(_0x1d624c,_0x35a8e7,_0x404b22),renderInterestingStats(_0x1d624c,_0x35a8e7);}async function handleExportLessonPDF(){const _0xf0ef33=_0x1d88bf,_0x1c1a43=document[_0xf0ef33(0x9bf)](_0xf0ef33(0x213)),_0x10b099=document['getElementById'](_0xf0ef33(0xa8b))[_0xf0ef33(0xa9a)],_0x47b95d=window[_0xf0ef33(0xc33)]('',_0xf0ef33(0x8ba)),_0x9f40f4=_0xf0ef33(0x8d0)+_0x10b099+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c1a43['innerHTML']+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x47b95d[_0xf0ef33(0x8b7)][_0xf0ef33(0x7aa)](_0x9f40f4),_0x47b95d[_0xf0ef33(0x8b7)][_0xf0ef33(0xb70)](),_0x47b95d[_0xf0ef33(0x97a)]=function(){setTimeout(()=>{const _0x2e0113=_0x5713;_0x47b95d[_0x2e0113(0x88b)]();},0x5dc);};}function renderInterestingStats(_0x5f232b,_0x5bbc29){const _0x4e3470=_0x1d88bf,_0x1c2633=document[_0x4e3470(0x9bf)](_0x4e3470(0x8b1));if(!_0x1c2633)return;if(_0x5bbc29[_0x4e3470(0x9dc)]===0x0){_0x1c2633[_0x4e3470(0x6b3)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x48fce9=_0x5f232b[_0x4e3470(0xcaf)]['map']((_0xd4ec3f,_0x1c9425)=>({'index':_0x1c9425+0x1,'text':_0xd4ec3f[_0x4e3470(0x3ab)]||_0xd4ec3f[_0x4e3470(0xc5b)],'correct':0x0}));_0x5bbc29[_0x4e3470(0xb2a)](_0x16a291=>{const _0x1889c4=_0x4e3470,_0x48a04e=_0x16a291[_0x1889c4(0x879)][_0x16a291['attempts'][_0x1889c4(0x9dc)]-0x1];_0x48a04e&&_0x48a04e[_0x1889c4(0x8ec)]&&_0x48a04e[_0x1889c4(0x8ec)][_0x1889c4(0xb2a)](_0x1bc8be=>{const _0x36665a=_0x1889c4,_0x392265=_0x48fce9['find'](_0xc1a8cc=>_0xc1a8cc[_0x36665a(0xa95)]===_0x1bc8be['originalQuestionText']);_0x1bc8be['isCorrect']&&_0x392265&&_0x392265[_0x36665a(0xccc)]++;});});const _0x12b5df=_0x5bbc29[_0x4e3470(0x9dc)],_0x5d3dfa=Math['max'](..._0x48fce9[_0x4e3470(0x2b5)](_0xccf920=>_0xccf920[_0x4e3470(0xccc)])),_0x50661d=Math[_0x4e3470(0xa15)](..._0x48fce9[_0x4e3470(0x2b5)](_0x38ac89=>_0x38ac89['correct'])),_0x4d8e23=_0x48fce9[_0x4e3470(0x408)](_0x21e855=>_0x21e855[_0x4e3470(0xccc)]===_0x5d3dfa)[_0x4e3470(0x2b5)](_0xaedd51=>_0x4e3470(0x604)+_0xaedd51[_0x4e3470(0x201)]),_0x279f2a=_0x48fce9['filter'](_0x2bfccf=>_0x2bfccf['correct']===_0x50661d)['map'](_0x135605=>_0x4e3470(0x604)+_0x135605[_0x4e3470(0x201)]),_0x45f0b7=_0x5bbc29['sort']((_0x1d1e05,_0x43804c)=>_0x43804c[_0x4e3470(0xb0b)]-_0x1d1e05[_0x4e3470(0xb0b)])[_0x4e3470(0x408)]((_0x1c2da7,_0x56cada,_0x3f75b2)=>_0x1c2da7[_0x4e3470(0xb0b)]===_0x3f75b2[0x0][_0x4e3470(0xb0b)]),_0x24d988=_0x5bbc29['sort']((_0x3d5070,_0x880198)=>_0x3d5070[_0x4e3470(0xb0b)]-_0x880198[_0x4e3470(0xb0b)])[_0x4e3470(0x408)]((_0x5923b9,_0x18c0cd,_0x2cb882)=>_0x5923b9[_0x4e3470(0xb0b)]===_0x2cb882[0x0][_0x4e3470(0xb0b)]),_0x78bcb=_0x4e3470(0x252)+_0x4d8e23[_0x4e3470(0x77f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x5d3dfa+_0x4e3470(0xb32)+_0x12b5df+_0x4e3470(0x56c)+_0x279f2a['join'](',\x20')+_0x4e3470(0x21d)+(_0x12b5df-_0x50661d)+'\x20/\x20'+_0x12b5df+_0x4e3470(0xab5)+_0x45f0b7[_0x4e3470(0x2b5)](_0x4297d1=>_0x4297d1['studentName'])[_0x4e3470(0x77f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x45f0b7[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x24d988[_0x4e3470(0x2b5)](_0x4096b0=>_0x4096b0[_0x4e3470(0x7ed)])[_0x4e3470(0x77f)](',\x20')+_0x4e3470(0x6db)+_0x24d988[0x0][_0x4e3470(0xb0b)]+_0x4e3470(0x63a);_0x1c2633[_0x4e3470(0x6b3)]=_0x78bcb;}function renderSubmissionChart(_0x5e0e9e,_0x33f159,_0x4a1d4c,_0xe7b41){const _0x8c9861=_0x1d88bf,_0x5b350f=document[_0x8c9861(0x9bf)](_0x8c9861(0xc1f))[_0x8c9861(0xaf7)]('2d'),_0x25c2e6=_0x4a1d4c['map'](_0x25b7e7=>_0x25b7e7[_0x8c9861(0x7ed)]),_0x8238d8=_0xe7b41[_0x8c9861(0x408)](_0x3c2381=>!_0x25c2e6['includes'](_0x3c2381));chartInstances[_0x8c9861(0x629)]&&chartInstances[_0x8c9861(0x629)][_0x8c9861(0xa8a)](),chartInstances[_0x8c9861(0x629)]=new Chart(_0x5b350f,{'type':_0x8c9861(0x3ae),'data':{'labels':[_0x8c9861(0xb6f),_0x8c9861(0x797)],'datasets':[{'data':[_0x5e0e9e,_0x33f159],'backgroundColor':[_0x8c9861(0x3f8),_0x8c9861(0xa3b)],'borderColor':[_0x8c9861(0x7c1),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x5916de){const _0x3e9806=_0x8c9861;let _0x452137=_0x5916de[_0x3e9806(0xadb)]||'';return _0x452137&&(_0x452137+=':\x20'),_0x452137+=_0x5916de[_0x3e9806(0xa92)],_0x452137;},'afterLabel':function(_0x566175){const _0x3dc5d8=_0x8c9861;let _0x528efc;return _0x566175[_0x3dc5d8(0x5fc)]===0x0?_0x528efc=_0x25c2e6:_0x528efc=_0x8238d8,_0x528efc['length']>0x0?_0x528efc[_0x3dc5d8(0x77f)]('\x0a'):_0x3dc5d8(0x973);}}}}}});}function renderScoreDistributionChart(_0x3ed45a,_0x2a4a3e){const _0x1f7ec3=_0x1d88bf,_0x41784c=document[_0x1f7ec3(0x9bf)](_0x1f7ec3(0x764))[_0x1f7ec3(0xaf7)]('2d'),_0x4c3782={};for(let _0x471d4c=0x0;_0x471d4c<=_0x2a4a3e;_0x471d4c++){_0x4c3782[_0x471d4c]=0x0;}_0x3ed45a['forEach'](_0x432d14=>{const _0x57de67=_0x1f7ec3;_0x4c3782[_0x432d14['latestScore']]!==undefined&&_0x4c3782[_0x432d14[_0x57de67(0xb0b)]]++;}),chartInstances['score']&&chartInstances[_0x1f7ec3(0x847)][_0x1f7ec3(0xa8a)](),chartInstances[_0x1f7ec3(0x847)]=new Chart(_0x41784c,{'type':_0x1f7ec3(0xc5e),'data':{'labels':Object[_0x1f7ec3(0x70c)](_0x4c3782),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x4c3782),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x1f7ec3(0x559),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1f7ec3(0x93b)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x35c0ee){const _0x14130e=_0x1f7ec3,_0x408987=_0x35c0ee[_0x14130e(0xadb)],_0x524847=_0x3ed45a['filter'](_0x12a787=>_0x12a787[_0x14130e(0xb0b)]==_0x408987)[_0x14130e(0x2b5)](_0x225f08=>_0x225f08[_0x14130e(0x7ed)]);return _0x524847[_0x14130e(0x9dc)]>0x0?_0x524847['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x26078d,_0x24b54f,_0xe51c3e){const _0x5311a1=_0x1d88bf,_0x1bc15f=document[_0x5311a1(0x9bf)](_0x5311a1(0x8f6));if(_0xe51c3e[_0x5311a1(0x9dc)]===0x0){_0x1bc15f['innerHTML']=_0x5311a1(0xaaf);return;}const _0x3e6c37=calculateItemAnalysis(_0x26078d,_0x24b54f),_0x1790b4=calculateDistractorAnalysis(_0x26078d,_0x24b54f);let _0x5a6182='';_0x3e6c37[_0x5311a1(0x7e7)]&&(_0x5a6182=_0x5311a1(0x95e)+_0x3e6c37[_0x5311a1(0x7e7)][_0x5311a1(0x2f5)][_0x5311a1(0x9dc)]+_0x5311a1(0x1b0)+_0x3e6c37[_0x5311a1(0x7e7)][_0x5311a1(0x2f5)][_0x5311a1(0x2b5)](_0x2bc645=>'<li>'+_0x2bc645+_0x5311a1(0x806))[_0x5311a1(0x77f)]('')+_0x5311a1(0xb05)+_0x3e6c37[_0x5311a1(0x7e7)][_0x5311a1(0x4f9)][_0x5311a1(0x9dc)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e6c37[_0x5311a1(0x7e7)][_0x5311a1(0x4f9)][_0x5311a1(0x2b5)](_0x38bbf0=>'<li>'+_0x38bbf0+_0x5311a1(0x806))['join']('')+_0x5311a1(0x9ac));let _0x281fbd='';const _0x12a2d9=_0x24b54f[_0x5311a1(0x2b5)](_0x2e688e=>_0x2e688e[_0x5311a1(0x7ed)]),_0x4bd03f=_0x518e91=>{const _0x2e0796=_0x5311a1;if(_0x518e91>=0.8)return _0x2e0796(0x6dd);if(_0x518e91>=0.6)return _0x2e0796(0xab3);if(_0x518e91>=0.4)return _0x2e0796(0x9ed);if(_0x518e91>=0.2)return _0x2e0796(0x824);return _0x2e0796(0x4b6);},_0x2970e8=_0x2bbf76=>{const _0x219ea3=_0x5311a1;if(_0x2bbf76<0x0)return _0x219ea3(0x73f);if(_0x2bbf76>=0.4)return _0x219ea3(0x8dd);if(_0x2bbf76>=0.3)return _0x219ea3(0x621);if(_0x2bbf76>=0.2)return _0x219ea3(0x734);return _0x219ea3(0x3a0);},_0x5c9435=_0x3cce9d=>{const _0x510e03=_0x5311a1,_0xa1daaa=_0x3cce9d[_0x510e03(0x8b6)](0x0);if(parseFloat(_0xa1daaa)===0x64)return _0x510e03(0x9c6)+_0xa1daaa+'%</span>';if(_0x3cce9d>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xa1daaa+_0x510e03(0x40a);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xa1daaa+_0x510e03(0x40a);};_0x26078d[_0x5311a1(0xcaf)]['forEach']((_0x22e752,_0x14e8f7)=>{const _0x3de3be=_0x5311a1,_0x86fc86=_0x3e6c37[_0x3de3be(0xac3)][_0x14e8f7],_0x2745a7=_0x1790b4[_0x14e8f7],_0x348b34=_0x22e752[_0x3de3be(0xc5b)]||_0x22e752[_0x3de3be(0x3ab)]||_0x22e752[_0x3de3be(0xb6e)];let _0x5e922d=0x0;const _0x5c66c4=[],_0x553cf4=[];_0x24b54f[_0x3de3be(0xb2a)](_0x601220=>{const _0x14fe14=_0x3de3be,_0xf23a78=_0x601220[_0x14fe14(0x879)][_0x601220[_0x14fe14(0x879)][_0x14fe14(0x9dc)]-0x1];if(_0xf23a78&&_0xf23a78['answers']){const _0x47b6c3=_0xf23a78[_0x14fe14(0x8ec)][_0x14fe14(0x9c1)](_0x565653=>_0x565653[_0x14fe14(0x8b4)]===_0x348b34)??_0xf23a78[_0x14fe14(0x8ec)][_0x14e8f7]??null;_0x47b6c3&&(_0x47b6c3['isCorrect']?(_0x5e922d++,_0x5c66c4['push'](_0x601220[_0x14fe14(0x7ed)])):_0x553cf4[_0x14fe14(0x488)](_0x601220[_0x14fe14(0x7ed)]));}});const _0x4aef83=_0x24b54f[_0x3de3be(0x9dc)]>0x0?_0x5e922d/_0x24b54f['length']*0x64:0x0,_0x551b3c=_0xe51c3e[_0x3de3be(0x408)](_0x609361=>!_0x12a2d9['includes'](_0x609361)),_0x570dbd=_0x86fc86?_0x3de3be(0x528)+_0x86fc86['p'][_0x3de3be(0x8b6)](0x2)+_0x3de3be(0xab7)+_0x4bd03f(_0x86fc86['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x86fc86['r'][_0x3de3be(0x8b6)](0x2)+'</p><div>'+_0x2970e8(_0x86fc86['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c9435(_0x4aef83)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x138dc7='';_0x2745a7&&(_0x138dc7=_0x3de3be(0xcf0)+Object['keys'](_0x2745a7)['map'](_0x4662a5=>{const _0x3c53f0=_0x3de3be,_0x2e01e3=_0x2745a7[_0x4662a5],_0x16b884=parseInt(_0x4662a5)===_0x22e752['correctAnswerIndex'],_0x1bacfd=!_0x16b884&&_0x2e01e3[_0x3c53f0(0x58c)]>_0x2e01e3[_0x3c53f0(0x7dd)];return'<tr\x20class=\x22'+(_0x16b884?_0x3c53f0(0x44f):'')+_0x3c53f0(0x935)+(_0x16b884?'✔\x20':'')+_0x2e01e3[_0x3c53f0(0xa95)]+_0x3c53f0(0x69a)+_0x2e01e3[_0x3c53f0(0x7dd)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2e01e3[_0x3c53f0(0x58c)]+'\x20'+(_0x1bacfd?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2e01e3[_0x3c53f0(0x6bc)]+_0x3c53f0(0x65b);})[_0x3de3be(0x77f)]('')+_0x3de3be(0x7d0));let _0x2940a6='';_0x86fc86&&_0x86fc86[_0x3de3be(0x5ae)]&&(_0x2940a6=_0x3de3be(0x34d)+_0x86fc86[_0x3de3be(0x5ae)][_0x3de3be(0x9dc)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x86fc86[_0x3de3be(0x5ae)]['map'](_0x4d537d=>_0x3de3be(0x1b7)+(_0x4d537d[_0x3de3be(0x23a)]?_0x3de3be(0x6f5):_0x3de3be(0xaba))+'\x20'+_0x4d537d[_0x3de3be(0xa80)]+_0x3de3be(0x806))[_0x3de3be(0x77f)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x86fc86[_0x3de3be(0x251)][_0x3de3be(0x9dc)]+_0x3de3be(0xb23)+_0x86fc86[_0x3de3be(0x251)][_0x3de3be(0x2b5)](_0x5b73c1=>_0x3de3be(0x1b7)+(_0x5b73c1[_0x3de3be(0x23a)]?_0x3de3be(0x6f5):_0x3de3be(0xaba))+'\x20'+_0x5b73c1[_0x3de3be(0xa80)]+'</li>')['join']('')+_0x3de3be(0x308)),_0x281fbd+=_0x3de3be(0x725)+(_0x14e8f7+0x1)+':\x20'+_0x348b34+_0x3de3be(0x3ce)+_0x570dbd+_0x3de3be(0x28f)+_0x348b34+_0x3de3be(0x9d2)+_0x5e922d+_0x3de3be(0x45e)+_0x24b54f['length']+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x4aef83[_0x3de3be(0x8b6)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x5c66c4[_0x3de3be(0x9dc)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x5c66c4[_0x3de3be(0x9dc)]>0x0?_0x5c66c4['join'](',\x20'):_0x3de3be(0x973))+_0x3de3be(0xae3)+_0x553cf4[_0x3de3be(0x9dc)]+_0x3de3be(0x7fe)+(_0x553cf4[_0x3de3be(0x9dc)]>0x0?_0x553cf4[_0x3de3be(0x77f)](',\x20'):_0x3de3be(0x973))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x551b3c[_0x3de3be(0x9dc)]+_0x3de3be(0x7fe)+(_0x551b3c['length']>0x0?_0x551b3c['join'](',\x20'):_0x3de3be(0x973))+_0x3de3be(0x3bf)+_0x138dc7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2940a6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1bc15f[_0x5311a1(0x6b3)]=_0x5a6182+_0x281fbd;try{window[_0x5311a1(0x7c4)]&&MathJax['typesetPromise']&&MathJax[_0x5311a1(0xa7b)]([_0x1bc15f]);}catch(_0x4996ac){console[_0x5311a1(0x56e)](_0x5311a1(0x2b4),_0x4996ac);}}function calculateDistractorAnalysis(_0x2b96d3,_0x1a1a94){const _0x305a07=_0x1d88bf,_0x1655dc={};if(_0x1a1a94['length']<0x2)return _0x1655dc;const _0x3c4ce6=[..._0x1a1a94][_0x305a07(0x79f)]((_0x43c987,_0x29bcbb)=>{const _0x128799=_0x305a07,_0x2ece03=_0x29bcbb['latestScore']-_0x43c987[_0x128799(0xb0b)];if(_0x2ece03!==0x0)return _0x2ece03;const _0x12ff2c=_0x43c987[_0x128799(0x879)]?.[_0x128799(0x9dc)]||0x1,_0x1f9f8a=_0x29bcbb['attempts']?.[_0x128799(0x9dc)]||0x1,_0x47792c=_0x12ff2c-_0x1f9f8a;if(_0x47792c!==0x0)return _0x47792c;const _0x45878b=new Date(_0x43c987[_0x128799(0x608)]),_0x3537d7=new Date(_0x29bcbb['latestSubmittedAt']),_0x4948c4=_0x45878b-_0x3537d7;if(_0x4948c4!==0x0)return _0x4948c4;return _0x43c987[_0x128799(0x7ed)][_0x128799(0xcbd)](_0x29bcbb[_0x128799(0x7ed)],'th');}),_0x405023=_0x3c4ce6[_0x305a07(0x9dc)],_0x1f3e83=Math['max'](0x1,Math[_0x305a07(0x92f)](_0x405023*0.33)),_0x492a09=_0x3c4ce6[_0x305a07(0x3d9)](0x0,_0x1f3e83),_0x492c16=_0x3c4ce6[_0x305a07(0x3d9)](-_0x1f3e83);return _0x2b96d3[_0x305a07(0xcaf)]['forEach']((_0x62e57e,_0x227b9b)=>{const _0x1361ee=_0x305a07;if(_0x62e57e['questionType']!==_0x1361ee(0xa01)||!_0x62e57e[_0x1361ee(0x69b)])return;const _0x2b6c2f=_0x62e57e[_0x1361ee(0x3ab)],_0x1de089={};_0x62e57e['options']['forEach']((_0x11c22b,_0xebc1d8)=>{_0x1de089[_0xebc1d8]={'text':_0x11c22b,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3c4ce6[_0x1361ee(0xb2a)](_0x331706=>{const _0x2b69db=_0x1361ee,_0x99ae74=_0x331706[_0x2b69db(0x879)][_0x331706[_0x2b69db(0x879)][_0x2b69db(0x9dc)]-0x1],_0x38406e=_0x99ae74[_0x2b69db(0x8ec)]['find'](_0x230d7e=>_0x230d7e[_0x2b69db(0x8b4)]===_0x2b6c2f);if(_0x38406e&&_0x38406e['answer']!==null){const _0x21ce66=_0x62e57e[_0x2b69db(0x69b)][_0x2b69db(0x8e1)](_0x16aff8=>_0x16aff8===_0x38406e[_0x2b69db(0xb90)]);_0x21ce66!==-0x1&&_0x1de089[_0x21ce66]&&(_0x1de089[_0x21ce66]['total']++,_0x492a09[_0x2b69db(0x3b4)](_0x331706)&&_0x1de089[_0x21ce66][_0x2b69db(0x7dd)]++,_0x492c16[_0x2b69db(0x3b4)](_0x331706)&&_0x1de089[_0x21ce66][_0x2b69db(0x58c)]++);}}),_0x1655dc[_0x227b9b]=_0x1de089;}),_0x1655dc;}function calculateReliabilityKR20(_0x1d8486,_0x4b02a0,_0x4a1566){const _0x5668ef=_0x1d88bf,_0x5659c4=_0x1d8486[_0x5668ef(0xcaf)]['length'];if(_0x5659c4<0x2||_0x4b02a0[_0x5668ef(0x9dc)]<0x2)return null;const _0x2b4305=_0x4b02a0['map'](_0x335aff=>_0x335aff[_0x5668ef(0xb0b)]),_0x4e8afd=_0x2b4305[_0x5668ef(0x9f5)]((_0x10f83e,_0x297a7d)=>_0x10f83e+_0x297a7d,0x0)/_0x2b4305['length'],_0x1d649b=_0x2b4305['map'](_0x7712ec=>Math[_0x5668ef(0x487)](_0x7712ec-_0x4e8afd,0x2))[_0x5668ef(0x9f5)]((_0x42ef69,_0x13994c)=>_0x42ef69+_0x13994c,0x0)/_0x2b4305['length'];if(_0x1d649b===0x0)return null;let _0x24b73b=0x0;for(let _0xf98001=0x0;_0xf98001<_0x5659c4;_0xf98001++){const _0x497bba=_0x4a1566[_0xf98001]?.['p'];if(_0x497bba===undefined)continue;const _0x35827e=0x1-_0x497bba;_0x24b73b+=_0x497bba*_0x35827e;}if(_0x24b73b===0x0)return null;const _0x4d9725=_0x5659c4/(_0x5659c4-0x1)*(0x1-_0x24b73b/_0x1d649b);if(_0x4d9725>0x1)return null;return _0x4d9725;}async function handleAnalyzeClass(){const _0x620583=_0x1d88bf;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x246eef=collection(db,_0x620583(0x30c)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x620583(0x472)),_0x30f94d=await getDocs(_0x246eef),_0x1197f3=_0x30f94d['docs'][_0x620583(0x2b5)](_0x5d941e=>_0x5d941e[_0x620583(0x7bb)]());if(_0x1197f3[_0x620583(0x9dc)]<0x2){showMessage(_0x620583(0x8ca));return;}const _0x23b1d4=document['getElementById'](_0x620583(0xa31));_0x23b1d4[_0x620583(0x6b3)]=_0x620583(0x73a),document['getElementById'](_0x620583(0xaa3))[_0x620583(0x6d3)]=!![];const _0x5e784e=_0x1197f3[_0x620583(0x2b5)]((_0x3c7846,_0x5b5f9f)=>{const _0x4f7218=_0x620583,_0x5de8a7=_0x3c7846[_0x4f7218(0x879)][_0x3c7846[_0x4f7218(0x879)]['length']-0x1];if(!_0x5de8a7)return'';return _0x4f7218(0xb2b)+(_0x5b5f9f+0x1)+'\x20('+_0x3c7846[_0x4f7218(0x7ed)]+_0x4f7218(0xbd5)+_0x5de8a7[_0x4f7218(0x847)]+'/'+_0x3c7846[_0x4f7218(0xb3e)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x4f7218(0xa43)](_0x5de8a7[_0x4f7218(0x8ec)])+_0x4f7218(0x566);})['join']('\x0a---\x0a'),_0x4f70ea=_0x620583(0x5a6)+currentQuizData[_0x620583(0x6f8)]+_0x620583(0x892)+JSON[_0x620583(0xa43)](currentQuizData['questions'])+_0x620583(0x649)+_0x5e784e+_0x620583(0x8ac),_0x5d6b20={'type':_0x620583(0xca7),'properties':{'classStrengths':{'type':_0x620583(0xaee),'items':{'type':_0x620583(0x27b)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x620583(0x27b)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x620583(0x27b)}}},'required':['classStrengths',_0x620583(0x889),'teacherSuggestions']};try{const _0x61494a=await callAnalysisApi(_0x4f70ea,_0x5d6b20);displayClassAnalysis(_0x61494a);}catch(_0x1d2156){console[_0x620583(0x56e)](_0x620583(0x374),_0x1d2156),_0x23b1d4[_0x620583(0x6b3)]=_0x620583(0x6f7)+_0x1d2156[_0x620583(0x68b)]+_0x620583(0x592);}finally{document[_0x620583(0x9bf)](_0x620583(0xaa3))[_0x620583(0x6d3)]=![];}}function displayClassAnalysis(_0x20ff92){const _0x3be79b=_0x1d88bf,_0x3f4302=document['getElementById'](_0x3be79b(0xa31));if(!_0x20ff92){_0x3f4302[_0x3be79b(0x6b3)]=_0x3be79b(0xbf3);return;}_0x3f4302['innerHTML']=_0x3be79b(0x54e)+_0x20ff92['classStrengths'][_0x3be79b(0x2b5)](_0x32cfce=>'<li>'+_0x32cfce+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20ff92[_0x3be79b(0x889)][_0x3be79b(0x2b5)](_0x4d4bc8=>'<li>'+_0x4d4bc8+'</li>')[_0x3be79b(0x77f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20ff92[_0x3be79b(0x9e0)][_0x3be79b(0x2b5)](_0xefa1f=>_0x3be79b(0x1b7)+_0xefa1f+_0x3be79b(0x806))[_0x3be79b(0x77f)]('')+_0x3be79b(0x300);}function formatAndPrintWorksheet(_0x4c0d7c,_0x5b54eb){const _0x1c01bc=_0x1d88bf,_0x129f9b=_0x1c01bc(0x774)+_0x4c0d7c[_0x1c01bc(0x6f8)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x4c0d7c[_0x1c01bc(0x6f8)]+_0x1c01bc(0x6ac)+_0x4c0d7c[_0x1c01bc(0xcaf)][_0x1c01bc(0x2b5)]((_0xd73d79,_0x4072cf)=>_0x1c01bc(0x306)+(_0x4072cf+0x1)+'.\x20'+_0xd73d79[_0x1c01bc(0x3ab)]+_0x1c01bc(0x557)+(_0xd73d79[_0x1c01bc(0xbe1)]?_0x1c01bc(0xa98)+_0xd73d79[_0x1c01bc(0xbe1)]+_0x1c01bc(0x5a5):'')+_0x1c01bc(0x297))[_0x1c01bc(0x77f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5b54eb['document'][_0x1c01bc(0x7aa)](_0x129f9b),_0x5b54eb[_0x1c01bc(0x8b7)][_0x1c01bc(0xb70)](),_0x5b54eb[_0x1c01bc(0x97a)]=function(){setTimeout(()=>{_0x5b54eb['print']();},0x3e8);};}async function generateWorksheet(){const _0x42c439=_0x1d88bf,_0x15b830=document[_0x42c439(0x9bf)]('worksheet-topic-input')['value'][_0x42c439(0xb22)]();if(!_0x15b830){showMessage(_0x42c439(0x92a));return;}const _0x113187=document[_0x42c439(0x9bf)]('force-math-checkbox')['checked'],_0x1289d8=_0x113187?'':_0x42c439(0x20b),_0x28ccf6=window[_0x42c439(0xc33)]('',_0x42c439(0x8ba));_0x28ccf6[_0x42c439(0x8b7)][_0x42c439(0x7aa)]('<h1></h1>');const _0x4a5ebd=parseInt(document['getElementById']('num-questions')[_0x42c439(0xb00)]),_0x19bb3f=document['getElementById']('include-images-checkbox')[_0x42c439(0xc13)],_0x5f6c43=_0x19bb3f?_0x42c439(0x684):'',_0x4897d6=_0x42c439(0xc99)+_0x1289d8+_0x42c439(0x434)+_0x4a5ebd+_0x42c439(0xbf9)+_0x15b830+_0x42c439(0xc23)+_0x5f6c43+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x42c439(0x3d3),_0x298238={'type':_0x42c439(0xca7),'properties':{'topic':{'type':_0x42c439(0x27b)},'questions':{'type':_0x42c439(0xaee),'items':{'type':_0x42c439(0xca7),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x42c439(0x27b)}},'required':[_0x42c439(0x3ab)]}}},'required':['topic','questions']};document[_0x42c439(0x9bf)](_0x42c439(0xc09))[_0x42c439(0xa9a)]='',document[_0x42c439(0x9bf)](_0x42c439(0x91e))[_0x42c439(0x5a7)][_0x42c439(0x2bd)](_0x42c439(0x8da)),document['getElementById'](_0x42c439(0xa5f))[_0x42c439(0x5a7)][_0x42c439(0x2bd)]('hidden'),generateWorksheetBtn[_0x42c439(0x6d3)]=!![];try{const _0x18e41d=await callAnalysisApi(_0x4897d6,_0x298238);formatAndPrintWorksheet(_0x18e41d,_0x28ccf6);}catch(_0x33d86d){console['error']('Error\x20generating\x20worksheet:',_0x33d86d);if(_0x28ccf6)_0x28ccf6['close']();showMessage(_0x42c439(0x470));}finally{document[_0x42c439(0x9bf)](_0x42c439(0x91e))['classList'][_0x42c439(0x3b1)](_0x42c439(0x8da)),document['getElementById'](_0x42c439(0xa5f))[_0x42c439(0x5a7)]['add']('hidden'),generateWorksheetBtn[_0x42c439(0x6d3)]=![];}}async function callAnalysisApi(_0x52ca48,_0xc1b618){const _0x42b5d5=_0x1d88bf,_0x429f52={'contents':[{'role':_0x42b5d5(0x7c6),'parts':[{'text':_0x52ca48}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0xc1b618}},_0x4cbae5=_0x42b5d5(0xb13),_0x29e392=_0x42b5d5(0x6e0)+_0x4cbae5,_0x46b7f8=await fetch(_0x29e392,{'method':_0x42b5d5(0x59e),'headers':{'Content-Type':_0x42b5d5(0x5f3)},'body':JSON['stringify'](_0x429f52)});if(!_0x46b7f8['ok'])throw new Error(_0x42b5d5(0x28a)+_0x46b7f8[_0x42b5d5(0x5e0)]);const _0x29766e=await _0x46b7f8[_0x42b5d5(0xbb8)]();if(_0x29766e[_0x42b5d5(0x877)]?.[0x0]?.[_0x42b5d5(0x34e)]?.[_0x42b5d5(0x665)]?.[0x0])return JSON[_0x42b5d5(0x784)](_0x29766e[_0x42b5d5(0x877)][0x0][_0x42b5d5(0x34e)][_0x42b5d5(0x665)][0x0]['text']);else{let _0x522226=_0x42b5d5(0xb6a);if(_0x29766e['promptFeedback']?.['blockReason'])_0x522226='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x29766e['promptFeedback']['blockReason']+'.';else _0x29766e[_0x42b5d5(0x877)]?.[0x0]?.['finishReason']&&_0x29766e[_0x42b5d5(0x877)][0x0][_0x42b5d5(0x7f3)]!==_0x42b5d5(0x1b6)&&(_0x522226=_0x42b5d5(0xc71)+_0x29766e['candidates'][0x0][_0x42b5d5(0x7f3)]+'.');console[_0x42b5d5(0x56e)](_0x522226,JSON[_0x42b5d5(0xa43)](_0x29766e));throw new Error(_0x522226);}}async function handleStartSyncMode(_0x4b9364,_0x4789cc=![]){const _0x570c4c=_0x1d88bf,_0x187293=allQuizzes[_0x570c4c(0x9c1)](_0x2fc8d3=>_0x2fc8d3['id']===_0x4b9364)||allQuizzesGlobal['find'](_0x21e9fd=>_0x21e9fd['id']===_0x4b9364);if(!_0x187293){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x187293);const _0x5727c8=Math[_0x570c4c(0x92f)](0x3e8+Math[_0x570c4c(0xcb0)]()*0x2328)['toString']();try{const _0x2b5c85=await addDoc(collection(db,'artifacts/'+appId+_0x570c4c(0xcd9)),{'quizId':_0x187293['id'],'pin':_0x5727c8,'status':_0x570c4c(0xc58),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4789cc,'players':{}});currentLiveGameId=_0x2b5c85['id'],showView(_0x570c4c(0x924)),renderSyncLobbyView(_0x5727c8,_0x187293[_0x570c4c(0x6f8)]),listenForSyncGameUpdates();}catch(_0x4e2414){console[_0x570c4c(0x56e)](_0x570c4c(0xb4e),_0x4e2414),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x266fc6){const _0x228630=_0x1d88bf;if(!_0x266fc6||!_0x266fc6['shuffledQuiz']||!_0x266fc6['players'])return _0x266fc6[_0x228630(0x373)]||{};const _0x294f29=_0x266fc6[_0x228630(0x2f8)][_0x228630(0xcaf)][_0x228630(0x9dc)],_0x530cb7=JSON[_0x228630(0x784)](JSON['stringify'](_0x266fc6[_0x228630(0x373)]));return Object[_0x228630(0xce2)](_0x530cb7)[_0x228630(0xb2a)](_0x220dc9=>{const _0xd6f2a3=_0x228630,_0x52cab8=_0x220dc9[_0xd6f2a3(0x847)];let _0x1fca1e=0x0;_0x266fc6[_0xd6f2a3(0x85b)]&&_0x220dc9[_0xd6f2a3(0x8ec)]&&_0x220dc9[_0xd6f2a3(0x8ec)][_0xd6f2a3(0xb2a)](_0x146dc6=>{const _0x1579c3=_0xd6f2a3;if(_0x146dc6[_0x1579c3(0x23a)]&&_0x146dc6['wasConfident'])_0x1fca1e+=0x1;else!_0x146dc6[_0x1579c3(0x23a)]&&_0x146dc6[_0x1579c3(0xcc5)]&&(_0x1fca1e-=0x1);}),_0x220dc9[_0xd6f2a3(0x847)]=_0x52cab8+_0x1fca1e,_0x294f29>0x0&&_0x52cab8===_0x294f29&&(_0x220dc9[_0xd6f2a3(0x847)]+=0x1,_0x220dc9['hasPerfectScoreBonus']=!![]);}),_0x530cb7;}function listenForSyncGameUpdates(){const _0x18bcf7=_0x1d88bf;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3c9834=doc(db,_0x18bcf7(0x30c)+appId+_0x18bcf7(0xcd9),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3c9834,_0x1261b2=>{const _0x2eab31=_0x18bcf7;if(!_0x1261b2[_0x2eab31(0xb67)]()){sessionStorage['removeItem'](_0x2eab31(0xbc7));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x2eab31(0x7b7));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2eab31(0x8c7)?showView(_0x2eab31(0xb9c)):showView('student');return;}const _0x257d58=_0x1261b2[_0x2eab31(0x7bb)]();currentMode===_0x2eab31(0x8c7)?updateAdminSyncView(_0x257d58):updateStudentSyncView(_0x257d58);});}function renderSyncLobbyView(_0x246f04,_0x472e3f){const _0x1a440b=_0x1d88bf;liveGameView[_0x1a440b(0x6b3)]=_0x1a440b(0x912)+_0x472e3f+_0x1a440b(0x522)+_0x246f04+_0x1a440b(0x387);const _0x51ade9=document[_0x1a440b(0x9bf)](_0x1a440b(0x221)),_0x4c0317=document[_0x1a440b(0x9bf)](_0x1a440b(0x35b));_0x51ade9[_0x1a440b(0x8c1)](_0x1a440b(0x3ef),()=>{const _0x2baf3a=_0x1a440b;_0x4c0317[_0x2baf3a(0x641)][_0x2baf3a(0x585)]=_0x51ade9['checked']?_0x2baf3a(0x444):'none';}),document[_0x1a440b(0x9bf)](_0x1a440b(0x954))[_0x1a440b(0x8c1)](_0x1a440b(0x7c2),async()=>{const _0xfbbe73=_0x1a440b,_0x3ceb90=doc(db,'artifacts/'+appId+_0xfbbe73(0xcd9),currentLiveGameId),_0x44de8e=document['getElementById'](_0xfbbe73(0x221))[_0xfbbe73(0xc13)];await updateDoc(_0x3ceb90,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x44de8e});});}function updateAdminSyncView(_0xc3b56){const _0x4239fa=_0x1d88bf;switch(_0xc3b56[_0x4239fa(0x5e0)]){case _0x4239fa(0xc58):renderSyncLobbyView(_0xc3b56[_0x4239fa(0x92e)],_0xc3b56[_0x4239fa(0x2f8)][_0x4239fa(0x6f8)]);const _0x38119f=Object[_0x4239fa(0xb37)](_0xc3b56[_0x4239fa(0x373)]||{})[_0x4239fa(0x408)](([_0x179288,_0x559f20])=>_0x559f20['status']!==_0x4239fa(0x95f));document[_0x4239fa(0x9bf)]('player-count')['textContent']=_0x38119f[_0x4239fa(0x9dc)],document[_0x4239fa(0x9bf)]('player-list-lobby')[_0x4239fa(0x6b3)]=_0x38119f[_0x4239fa(0x2b5)](([_0x473bfa,_0xb8cc9d])=>_0x4239fa(0x7a3)+_0x473bfa+_0x4239fa(0xae7)+_0x473bfa+_0x4239fa(0x490))[_0x4239fa(0x77f)]('')||_0x4239fa(0x851),document['getElementById'](_0x4239fa(0x954))[_0x4239fa(0x6d3)]=_0x38119f[_0x4239fa(0x9dc)]===0x0;break;case _0x4239fa(0x66d):const _0x3c7c71=Object['values'](_0xc3b56[_0x4239fa(0x373)]||{})['filter'](_0x1c495d=>_0x1c495d[_0x4239fa(0x5e0)]!==_0x4239fa(0x95f)),_0x27d0ba=_0x3c7c71['filter'](_0x3afa4c=>_0x3afa4c['answered'])['length'],_0x8f56c7=_0x27d0ba===_0x3c7c71['length']&&_0x3c7c71[_0x4239fa(0x9dc)]>0x0;if(_0x8f56c7&&_0xc3b56['status']===_0x4239fa(0x66d)){const _0x156ba2=doc(db,_0x4239fa(0x30c)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x156ba2,{'status':_0x4239fa(0x5bc)});}else{if(document[_0x4239fa(0x9bf)](_0x4239fa(0x7ee))===null)renderAdminSyncQuestionView(_0xc3b56);else{const _0x2dccdc=document[_0x4239fa(0x9bf)](_0x4239fa(0x4d5));_0x2dccdc&&(_0x2dccdc[_0x4239fa(0xa9a)]=_0x27d0ba+'/'+_0x3c7c71[_0x4239fa(0x9dc)]);const _0x447259=document[_0x4239fa(0x9bf)](_0x4239fa(0x4f8));_0x447259&&(_0x447259[_0x4239fa(0x6b3)]=_0x3c7c71[_0x4239fa(0x2b5)](_0x214371=>{const _0x2daba0=_0x4239fa,_0x19c092=_0x214371[_0x2daba0(0xcd6)]?_0x2daba0(0xab8):_0x2daba0(0xa02),_0xcd3ff1=_0x214371[_0x2daba0(0xcd6)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x2daba0(0x29a)+_0x19c092+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcd3ff1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x214371[_0x2daba0(0xa80)]+_0x2daba0(0x540)+_0x214371[_0x2daba0(0xa80)]+_0x2daba0(0xafb);})[_0x4239fa(0x77f)](''));}}break;case _0x4239fa(0x5bc):const _0x484844=_0xc3b56[_0x4239fa(0x463)],_0x1fb4b8=_0xc3b56[_0x4239fa(0x2f8)][_0x4239fa(0xcaf)][_0x484844];renderSyncSummaryView(_0xc3b56,_0x1fb4b8,!![]);break;case'results':renderAdminSyncDashboard(_0xc3b56,!![]);break;case _0x4239fa(0x21b):_0xc3b56['shouldSaveResults']&&saveGameResultsAsSubmissions(_0xc3b56);sessionStorage['removeItem'](_0x4239fa(0xbc7));const _0x41cdc4=calculateFinalPodiumScores(_0xc3b56);showPodiumView(_0x41cdc4,_0x4239fa(0xb1b));break;}}function renderAdminSyncQuestionView(_0x5c63b0){const _0x465a47=_0x1d88bf,_0x531a36=_0x5c63b0[_0x465a47(0x463)],_0x740414=_0x5c63b0[_0x465a47(0x2f8)]['questions'][_0x531a36],_0x5b54f5=_0x5c63b0['shuffledQuiz'][_0x465a47(0xcaf)][_0x465a47(0x9dc)],_0xd097b4=Object[_0x465a47(0xce2)](_0x5c63b0[_0x465a47(0x373)]||{})[_0x465a47(0x408)](_0x4758eb=>_0x4758eb[_0x465a47(0x5e0)]!==_0x465a47(0x95f)),_0x4eb4ec=_0xd097b4[_0x465a47(0x408)](_0x2e9c9d=>_0x2e9c9d[_0x465a47(0xcd6)])[_0x465a47(0x9dc)],_0x9b415a=_0x4eb4ec===_0xd097b4[_0x465a47(0x9dc)]&&_0xd097b4[_0x465a47(0x9dc)]>0x0,_0x4f0ca9=(_0x740414[_0x465a47(0x69b)]||[])[_0x465a47(0x2b5)](_0x1b0507=>_0x465a47(0xa16)+_0x1b0507+_0x465a47(0x5a5))[_0x465a47(0x77f)]('');liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x531a36+0x1)+_0x465a47(0xb32)+_0x5b54f5+_0x465a47(0xbae)+_0x4eb4ec+'/'+_0xd097b4['length']+_0x465a47(0xa49)+_0x740414[_0x465a47(0x3ab)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x4f0ca9+_0x465a47(0x5ca)+(!_0x9b415a?'disabled':'')+_0x465a47(0x401);if(window[_0x465a47(0x7c4)])MathJax[_0x465a47(0xa7b)]();document[_0x465a47(0x9bf)]('show-results-btn')[_0x465a47(0x8c1)](_0x465a47(0x7c2),async()=>{const _0xa71dfb=_0x465a47,_0x50573=doc(db,'artifacts/'+appId+_0xa71dfb(0xcd9),currentLiveGameId);await updateDoc(_0x50573,{'status':_0xa71dfb(0x82f)});}),document[_0x465a47(0x9bf)](_0x465a47(0xcf9))[_0x465a47(0xc96)]=()=>{const _0x417733=_0x465a47;openScratchpad(_0x740414,_0x740414[_0x417733(0x69b)]||[]);},document['getElementById'](_0x465a47(0xa79))[_0x465a47(0x8c1)]('click',()=>{const _0x25e0c6=_0x465a47;document[_0x25e0c6(0x9bf)]('sync-player-management')['classList']['toggle'](_0x25e0c6(0x8da));});}function renderSyncLeaderboardView(_0x4337c9,_0x1d271f){const _0x5270d0=_0x1d88bf,_0x158bec=Object[_0x5270d0(0xce2)](_0x4337c9[_0x5270d0(0x373)]||{});_0x158bec[_0x5270d0(0x79f)]((_0x5ee974,_0x201342)=>_0x201342['score']-_0x5ee974[_0x5270d0(0x847)]);const _0x38ec46=_0x158bec[_0x5270d0(0x3d9)](0x0,0x5);let _0x3e3cc6='';if(_0x1d271f){const _0x1afb97=_0x4337c9[_0x5270d0(0x463)]>=_0x4337c9['shuffledQuiz'][_0x5270d0(0xcaf)][_0x5270d0(0x9dc)]-0x1;_0x3e3cc6=_0x5270d0(0x538)+(_0x1afb97?_0x5270d0(0xb5a):'ข้อต่อไป')+_0x5270d0(0xca5);}else _0x3e3cc6='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x5270d0(0x6b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x38ec46[_0x5270d0(0x2b5)]((_0x497736,_0x446523)=>_0x5270d0(0x437)+(_0x446523+0x1)+'.\x20'+_0x497736[_0x5270d0(0xa80)]+_0x5270d0(0xa8d)+_0x497736[_0x5270d0(0x847)]+_0x5270d0(0xc55))['join']('')+_0x5270d0(0x7e0)+_0x3e3cc6+_0x5270d0(0x6ee),_0x1d271f&&document[_0x5270d0(0x9bf)]('next-sync-question-btn')[_0x5270d0(0x8c1)](_0x5270d0(0x7c2),async()=>{const _0x50d7d2=_0x5270d0,_0x55353d=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x5ea37b=_0x4337c9['currentQuestionIndex']+0x1;if(_0x5ea37b<_0x4337c9[_0x50d7d2(0x2f8)][_0x50d7d2(0xcaf)][_0x50d7d2(0x9dc)]){const _0x3b7e36={};Object[_0x50d7d2(0x70c)](_0x4337c9['players'])[_0x50d7d2(0xb2a)](_0x5ae327=>{const _0x33d850=_0x50d7d2;_0x3b7e36[_0x33d850(0x668)+_0x5ae327+'.answered']=![];}),await updateDoc(_0x55353d,{..._0x3b7e36,'status':_0x50d7d2(0x66d),'currentQuestionIndex':_0x5ea37b,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x55353d,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x46119f=_0x1d88bf,_0x54f96e=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x54f96e||_0x54f96e[_0x46119f(0xb22)]()[_0x46119f(0x9dc)]!==0x2){showMessage(_0x46119f(0x28b));return;}try{const _0x1568e6=collection(db,_0x46119f(0x30c)+appId+_0x46119f(0xcd9)),_0x5aa311=query(_0x1568e6,where(_0x46119f(0x92e),'==',_0x54f96e[_0x46119f(0xb22)]()),where(_0x46119f(0x5e0),'==','lobby')),_0x437fa4=await getDocs(_0x5aa311);if(_0x437fa4['empty']){showMessage(_0x46119f(0xc9d));return;}const _0x3d1c18=_0x437fa4[_0x46119f(0xa78)][0x0];currentLiveGameId=_0x3d1c18['id'];const _0x5314e0=_0x3d1c18['data'](),_0x22251a=doc(db,_0x46119f(0x30c)+appId+'/public/data/quizzes',_0x5314e0[_0x46119f(0x2cf)]),_0x3e8a39=await getDoc(_0x22251a);if(!_0x3e8a39[_0x46119f(0xb67)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x1f0600=_0x3e8a39['data'](),_0x5dc3d4=doc(db,_0x46119f(0x30c)+appId+_0x46119f(0x433),_0x1f0600[_0x46119f(0xb16)]),_0x53fc0e=await getDoc(_0x5dc3d4);if(!_0x53fc0e[_0x46119f(0xb67)]())throw new Error(_0x46119f(0x26f));currentQuizData=_0x5314e0['shuffledQuiz'];const _0x46fca2=_0x53fc0e['data']();showView(_0x46119f(0xa97)),showTeamPlayerSelection(_0x46fca2[_0x46119f(0xa64)],_0x1f0600['topic']);const _0x435716=document[_0x46119f(0x9bf)](_0x46119f(0xc85));_0x435716[_0x46119f(0xc96)]=confirmAndJoinSyncGame;}catch(_0x528fed){console[_0x46119f(0x56e)](_0x46119f(0xbb7),_0x528fed),showMessage('เกิดข้อผิดพลาด:\x20'+_0x528fed[_0x46119f(0x68b)]);}}function updateStudentSyncView(_0xd211d2){const _0x149409=_0x1d88bf,_0xa00e1b=_0xd211d2[_0x149409(0x373)][localTeamPlayers[0x0]];switch(_0xd211d2['status']){case _0x149409(0xc58):showView('live-game'),liveGameView[_0x149409(0x6b3)]=_0x149409(0x90d);break;case _0x149409(0x66d):const _0x3e6371=localTeamPlayers[_0x149409(0x456)](_0x5a04fd=>_0xd211d2[_0x149409(0x373)][_0x5a04fd]?.['answered']===!![]);_0x3e6371?liveGameView[_0x149409(0x6b3)]=_0x149409(0x2df):renderStudentSyncQuestionView(_0xd211d2);break;case _0x149409(0x5bc):liveGameView[_0x149409(0x6b3)]=_0x149409(0x740);break;case'results':localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0xd211d2);break;case'podium':sessionStorage[_0x149409(0x47e)](_0x149409(0xbc7));const _0xe208b9=calculateFinalPodiumScores(_0xd211d2);showPodiumView(_0xe208b9,_0x149409(0xb1b));break;}}function renderStudentSyncResultsView(_0xcc9fa6){const _0x4adf39=_0x1d88bf,_0x66cbc3=localTeamPlayers[_0x4adf39(0x2b5)](_0x3ffa1e=>_0xcc9fa6[_0x4adf39(0x373)][_0x3ffa1e])[_0x4adf39(0x408)](Boolean);_0x66cbc3['sort']((_0x34bcda,_0x1d777b)=>(_0x1d777b['score']||0x0)-(_0x34bcda[_0x4adf39(0x847)]||0x0));const _0x3a13c9=_0xcc9fa6[_0x4adf39(0x463)]>=_0xcc9fa6[_0x4adf39(0x2f8)][_0x4adf39(0xcaf)][_0x4adf39(0x9dc)]-0x1;let _0x31cddf='';_0x3a13c9?_0x31cddf=_0x4adf39(0x546):_0x31cddf='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0xbb3638=_0x4adf39(0x493)+_0x66cbc3[_0x4adf39(0x2b5)]((_0x5b92c8,_0x1e5906)=>_0x4adf39(0x234)+(_0x1e5906+0x1)+_0x4adf39(0x3e6)+_0x5b92c8['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x5b92c8[_0x4adf39(0x847)]+_0x4adf39(0x77e))[_0x4adf39(0x77f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31cddf+_0x4adf39(0x2fe);liveGameView['innerHTML']=_0xbb3638;}function renderStudentSyncQuestionView(_0x3cb8e0){const _0x231bef=_0x1d88bf;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x3cb8e0[_0x231bef(0x373)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x4ae34e=localTeamPlayers[localPlayerTurnIndex];if(!_0x4ae34e)return;const _0x4198a8=_0x3cb8e0[_0x231bef(0x463)],_0x22248a=_0x3cb8e0[_0x231bef(0x2f8)]['questions'][_0x231bef(0x9dc)],_0x217d7d=_0x3cb8e0[_0x231bef(0x2f8)][_0x231bef(0xcaf)][_0x4198a8],_0x4266fd=_0x217d7d['questionType']||_0x3cb8e0[_0x231bef(0x2f8)][_0x231bef(0x854)];let _0xce42bf='',_0x2bb848=![];switch(_0x4266fd){case _0x231bef(0x9c3):_0xce42bf=_0x231bef(0x6f4);break;case'short_answer':case _0x231bef(0x761):_0x2bb848=!![],_0xce42bf=_0x231bef(0x4fa);break;case _0x231bef(0x8ad):_0x2bb848=!![],_0xce42bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x217d7d['allResponses']||[])[_0x231bef(0x2b5)](_0x4b1cd1=>'<option\x20value=\x22'+_0x4b1cd1+'\x22>'+_0x4b1cd1+'</option>')[_0x231bef(0x77f)]('')+_0x231bef(0x3b3);break;case _0x231bef(0xa01):default:_0xce42bf=(_0x217d7d[_0x231bef(0x69b)]||[])[_0x231bef(0x2b5)]((_0x50c2bb,_0x1f00c6)=>'<button\x20data-value=\x22'+_0x1f00c6+_0x231bef(0x9bc)+_0x50c2bb+'</button>')[_0x231bef(0x77f)]('');break;}liveGameView[_0x231bef(0x6b3)]=_0x231bef(0x5d0)+(_0x4198a8+0x1)+'\x20/\x20'+_0x22248a+_0x231bef(0xa21)+_0x4ae34e+_0x231bef(0x759)+(_0x217d7d[_0x231bef(0x3ab)]||_0x217d7d['stem'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0xce42bf+_0x231bef(0x69c);if(window[_0x231bef(0x7c4)])MathJax[_0x231bef(0xa7b)]();function _0x43ac24(_0x1690da,_0x44fd2b,_0x3c743a,_0x1ce65a){const _0x545e51=_0x231bef,_0x10d907=_0x3c743a[_0x545e51(0x85b)]===!![];if(_0x10d907){document[_0x545e51(0x9bf)](_0x545e51(0x30f))['dataset'][_0x545e51(0x224)]='sync';const _0x166caf=document['getElementById'](_0x545e51(0x1c0));_0x166caf['dataset'][_0x545e51(0x819)]=_0x1690da,_0x166caf[_0x545e51(0xc05)][_0x545e51(0x66d)]=JSON[_0x545e51(0xa43)](_0x44fd2b),_0x166caf['dataset'][_0x545e51(0x888)]=JSON[_0x545e51(0xa43)](_0x3c743a),_0x166caf[_0x545e51(0xc05)][_0x545e51(0x5d7)]=_0x1ce65a,document[_0x545e51(0x9bf)](_0x545e51(0x30f))[_0x545e51(0x5a7)][_0x545e51(0x2bd)]('hidden');}else handleSyncAnswerSubmit(_0x1690da,_0x44fd2b,_0x3c743a,_0x1ce65a,![]);}_0x2bb848?document[_0x231bef(0x9bf)](_0x231bef(0x282))[_0x231bef(0x8c1)]('click',()=>{const _0x50a378=_0x231bef,_0x3ab46f=document[_0x50a378(0x9bf)](_0x50a378(0xc39))||document[_0x50a378(0x9bf)](_0x50a378(0x9ba));if(_0x3ab46f['value'][_0x50a378(0xb22)]()===''){showMessage(_0x50a378(0x3e9));return;}_0x43ac24(_0x3ab46f[_0x50a378(0xb00)],_0x217d7d,_0x3cb8e0,_0x4ae34e);}):document[_0x231bef(0x468)]('.live-answer-btn')[_0x231bef(0xb2a)](_0x13f85f=>{const _0x328bd7=_0x231bef;_0x13f85f[_0x328bd7(0x8c1)](_0x328bd7(0x7c2),()=>{const _0x2d9310=_0x328bd7;_0x43ac24(_0x13f85f[_0x2d9310(0xc05)][_0x2d9310(0xb00)],_0x217d7d,_0x3cb8e0,_0x4ae34e);});});}async function handleSyncAnswerSubmit(_0x156331,_0x1bd8f2,_0x407fab,_0x930a0e,_0xd76784){const _0x5b989e=_0x1d88bf;document[_0x5b989e(0x468)](_0x5b989e(0x7e9))[_0x5b989e(0xb2a)](_0x2e39c9=>_0x2e39c9['disabled']=!![]);const _0x42404b=_0x1bd8f2['questionType']||_0x407fab[_0x5b989e(0x2f8)][_0x5b989e(0x854)];let _0x2e815d=![],_0x140b5c=_0x156331;switch(_0x42404b){case _0x5b989e(0x9c3):const _0x5f117e=parseInt(_0x156331),_0x1d8737=_0x1bd8f2[_0x5b989e(0x661)]===!![]||String(_0x1bd8f2[_0x5b989e(0x661)])[_0x5b989e(0xbb3)]()===_0x5b989e(0x8a5);_0x2e815d=_0x5f117e===0x0&&_0x1d8737||_0x5f117e===0x1&&!_0x1d8737,_0x140b5c=_0x5f117e===0x0?_0x5b989e(0xbed):_0x5b989e(0x369);break;case _0x5b989e(0x7ff):case _0x5b989e(0x761):_0x2e815d=await gradeShortAnswer(_0x156331,_0x1bd8f2);break;case _0x5b989e(0x8ad):_0x2e815d=_0x156331===_0x1bd8f2['correctResponse'];break;case _0x5b989e(0xa01):default:const _0x4c12c3=parseInt(_0x156331);_0x2e815d=_0x4c12c3===_0x1bd8f2[_0x5b989e(0xcf3)];_0x1bd8f2[_0x5b989e(0x69b)]&&_0x1bd8f2[_0x5b989e(0x69b)][_0x4c12c3]&&(_0x140b5c=_0x1bd8f2[_0x5b989e(0x69b)][_0x4c12c3]);break;}let _0x378072=0x0;if(_0x2e815d&&_0xd76784)_0x378072=0x2;else{if(_0x2e815d)_0x378072=0x1;else!_0x2e815d&&_0xd76784&&(_0x378072=-0x1);}const _0x9539b8=doc(db,_0x5b989e(0x30c)+appId+'/public/data/syncGames',currentLiveGameId),_0x1d7b1e={};_0x1d7b1e[_0x5b989e(0x668)+_0x930a0e+'.score']=increment(_0x378072),_0x1d7b1e['players.'+_0x930a0e+_0x5b989e(0x4d0)]=!![];let _0x2485e9=null;(_0x42404b===_0x5b989e(0xa01)||_0x42404b===_0x5b989e(0x9c3)||_0x42404b==='fill_in_with_choices')&&(_0x2485e9=parseInt(_0x156331));_0x1d7b1e[_0x5b989e(0x668)+_0x930a0e+'.lastAnswerIndex']=_0x2485e9;const _0x6b721a={'questionIndex':_0x407fab[_0x5b989e(0x463)],'questionId':_0x1bd8f2['id'],'answer':_0x156331,'answerText':_0x140b5c,'isCorrect':_0x2e815d,'originalQuestionText':_0x1bd8f2[_0x5b989e(0x3ab)]||_0x1bd8f2['stem'],'wasConfident':_0xd76784};_0x1d7b1e[_0x5b989e(0x668)+_0x930a0e+_0x5b989e(0xabf)]=arrayUnion(_0x6b721a),await updateDoc(_0x9539b8,_0x1d7b1e);}initialize();
