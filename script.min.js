const _0x121993=_0x32db;(function(_0x5e361e,_0x162fcd){const _0x2cab47=_0x32db,_0x1ae873=_0x5e361e();while(!![]){try{const _0xe57d45=parseInt(_0x2cab47(0x740))/0x1*(parseInt(_0x2cab47(0x1ed))/0x2)+-parseInt(_0x2cab47(0xe08))/0x3+-parseInt(_0x2cab47(0x7d3))/0x4+-parseInt(_0x2cab47(0x756))/0x5+parseInt(_0x2cab47(0xb6a))/0x6*(-parseInt(_0x2cab47(0x296))/0x7)+-parseInt(_0x2cab47(0xa92))/0x8*(parseInt(_0x2cab47(0x41c))/0x9)+parseInt(_0x2cab47(0xb63))/0xa;if(_0xe57d45===_0x162fcd)break;else _0x1ae873['push'](_0x1ae873['shift']());}catch(_0x43acc8){_0x1ae873['push'](_0x1ae873['shift']());}}}(_0x13e5,0x64715));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=['นักล่าฝัน',_0x121993(0x514),_0x121993(0xb09),_0x121993(0x919),_0x121993(0x8eb),_0x121993(0x7d8),_0x121993(0x9a5),_0x121993(0x5b2),'เพนกวินไฟ',_0x121993(0x56e),_0x121993(0x85e),_0x121993(0x6ca),_0x121993(0x6cb),'สายลมแห่งโชคชะตา','อัศวินรัตติกาล','จอมเวทย์ขนมหวาน',_0x121993(0x995),_0x121993(0x32d),_0x121993(0xc49),_0x121993(0x67a),_0x121993(0x3e6),_0x121993(0xc9b),_0x121993(0xb2c),'ไก่ฟ้าพญาลอ',_0x121993(0xc9c),_0x121993(0x2a8),_0x121993(0x808),'เสือซ่อนเล็บ','ม้าดีดกะโหลก',_0x121993(0x60c),_0x121993(0x239),_0x121993(0x786),'คนดีศรีสยาม',_0x121993(0xa79),_0x121993(0xa2d),_0x121993(0xc7f),_0x121993(0x801),_0x121993(0x5f6),_0x121993(0x9d8),_0x121993(0x511),'กาแฟขม',_0x121993(0xb74),'ส้มตำปูปลาร้า',_0x121993(0x650),'ไอติมทอด',_0x121993(0xa64),_0x121993(0x475),_0x121993(0x9b8),_0x121993(0x457),_0x121993(0x7f9),_0x121993(0x81a),_0x121993(0x333),_0x121993(0x757),'นอนไม่พอ','ติดซีรีส์',_0x121993(0xa58),_0x121993(0xc48),_0x121993(0xb32),_0x121993(0x6d4),_0x121993(0x5be),_0x121993(0xd49),_0x121993(0x54e),_0x121993(0x3b6),'ก้อนเมฆ',_0x121993(0x482),_0x121993(0xa08),_0x121993(0x5cf),_0x121993(0x2c4),_0x121993(0xcf9),'แม่น้ำ',_0x121993(0x8c3),'ช่างภาพ',_0x121993(0x817),_0x121993(0x25e),_0x121993(0x359),_0x121993(0xa10),_0x121993(0x5d8),_0x121993(0x47c),'นักกีฬา',_0x121993(0x26e),'พลังคลื่นเต่า',_0x121993(0x9ae),_0x121993(0xd3b),'ตัวแทนแห่งดวงจันทร์',_0x121993(0x452),_0x121993(0xde0),_0x121993(0xa11),'ไอรอนแมน',_0x121993(0x7eb),'ฮัลค์',_0x121993(0x7ee),_0x121993(0x543),_0x121993(0xdc6),_0x121993(0x384),'เพื่อนสนิท',_0x121993(0x4a6),'แฟนทิพย์',_0x121993(0xd26),'สถานะไม่ชัดเจน','มูเตลู'];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x121993(0x943),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x121993(0x943),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x1f4189=_0x121993;if(_0x1f4189(0x867)in navigator)try{wakeLock=await navigator['wakeLock'][_0x1f4189(0x6b7)]('screen'),console[_0x1f4189(0x92e)](_0x1f4189(0x849)),wakeLock[_0x1f4189(0xdd3)](_0x1f4189(0xdea),()=>{const _0x17c4e8=_0x1f4189;console['log'](_0x17c4e8(0x1e4));});}catch(_0x1040a8){console[_0x1f4189(0x274)](_0x1f4189(0x33d)+_0x1040a8[_0x1f4189(0xa7e)]+',\x20'+_0x1040a8[_0x1f4189(0x5e6)]);}else console['warn'](_0x1f4189(0x90d));},releaseWakeLock=async()=>{const _0xcc809b=_0x121993;wakeLock!==null&&(await wakeLock[_0xcc809b(0xdea)](),wakeLock=null,console[_0xcc809b(0x92e)](_0xcc809b(0xa50)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2bdbad=_0x121993;if(!document[_0x2bdbad(0x536)][_0x2bdbad(0x2ff)][_0x2bdbad(0x416)](_0x2bdbad(0xd91))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x52b56f=_0x2bdbad;document[_0x52b56f(0x536)][_0x52b56f(0x2ff)][_0x52b56f(0x30d)]('dimmed'),console['log'](_0x52b56f(0x5f4));},inactivityTime);}}function wakeUpScreen(_0x48bed6){const _0x33670f=_0x121993;_0x48bed6&&(_0x48bed6[_0x33670f(0x5c0)](),_0x48bed6['preventDefault']());document[_0x33670f(0x536)][_0x33670f(0x2ff)][_0x33670f(0x2cf)](_0x33670f(0xd91));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1b003b=_0x33670f;document[_0x1b003b(0x536)][_0x1b003b(0x2ff)][_0x1b003b(0x30d)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x52666d=_0x121993;if(dimTimer)clearTimeout(dimTimer);document[_0x52666d(0x536)]['classList'][_0x52666d(0x2cf)]('dimmed'),window[_0x52666d(0x223)](_0x52666d(0xc8c),resetDimTimer),window[_0x52666d(0x223)](_0x52666d(0x24e),resetDimTimer),window[_0x52666d(0x223)](_0x52666d(0xa47),resetDimTimer),window[_0x52666d(0x223)](_0x52666d(0x6fe),resetDimTimer),console[_0x52666d(0x92e)](_0x52666d(0x2a1));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0xb4c1b1,_0xa47291=![]){const _0x35c2a4=_0x121993,_0x58fc5c=allQuizzes[_0x35c2a4(0x266)](_0x13153d=>_0x13153d['id']===_0xb4c1b1)||allQuizzesGlobal[_0x35c2a4(0x266)](_0x5f5091=>_0x5f5091['id']===_0xb4c1b1);if(!_0x58fc5c){showMessage(_0x35c2a4(0x377));return;}currentQuizData=getShuffledQuiz(_0x58fc5c);const _0x97b098=Math[_0x35c2a4(0x442)](0x3e8+Math['random']()*0x2328)[_0x35c2a4(0x24c)]();try{const _0xf76599=await addDoc(collection(db,_0x35c2a4(0x1da)+appId+'/public/data/teamQuizzes'),{'quizId':_0x58fc5c['id'],'projectId':_0x58fc5c[_0x35c2a4(0xd51)],'status':_0x35c2a4(0x6f3),'pin':_0x97b098,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xa47291});currentTeamQuizId=_0xf76599['id'],showView(_0x35c2a4(0x40f)),renderAdminTeamQuizDashboard(_0x97b098,_0x58fc5c[_0x35c2a4(0x9ce)]),listenForTeamQuizUpdates();}catch(_0x32a404){console[_0x35c2a4(0x274)](_0x35c2a4(0x480),_0x32a404),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x18eb9e,_0x4ef86e,_0x348934=_0x121993(0x205)){const _0x393eda=_0x121993,_0x1cf877=_0x348934===_0x393eda(0x996)?_0x393eda(0x9d2):'Team\x20Quiz';liveGameView[_0x393eda(0x8c4)]=_0x393eda(0xb4b)+_0x1cf877+':\x20'+_0x4ef86e+_0x393eda(0x84c)+_0x18eb9e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x393eda(0x2f7)](_0x393eda(0x40b))['addEventListener'](_0x393eda(0x754),async()=>{const _0x3014ad=_0x393eda;showConfirmation(_0x3014ad(0x6e5),async()=>{const _0x2db328=_0x3014ad;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x2db328(0x1da)+appId+_0x2db328(0xa78),currentTeamQuizId)),showView(_0x2db328(0x6d3));});});}function listenForTeamQuizUpdates(){const _0x108677=_0x121993;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x12b192=doc(db,_0x108677(0x1da)+appId+_0x108677(0xa78),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x12b192,_0x419f3b=>{const _0x1abd50=_0x108677;if(!_0x419f3b['exists']()){sessionStorage[_0x1abd50(0x37f)](_0x1abd50(0xe1b));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x1abd50(0x1e6));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x1abd50(0x6d3)):showView(_0x1abd50(0xc2d));return;}const _0x305d2f=_0x419f3b[_0x1abd50(0x72a)]();if(currentMode===_0x1abd50(0x8fa)){if(_0x305d2f[_0x1abd50(0xde3)]==='group'&&_0x305d2f[_0x1abd50(0x2d4)]!==_0x1abd50(0xb3b)&&_0x305d2f[_0x1abd50(0x2d4)]!==_0x1abd50(0x537)){const _0x45381e=Object['values'](_0x305d2f[_0x1abd50(0xa6c)]||{});if(_0x45381e[_0x1abd50(0x2b5)]>0x0){const _0x98e0e9=_0x45381e[_0x1abd50(0x76d)](_0x8f754e=>_0x8f754e[_0x1abd50(0x4cc)]===!![]);_0x98e0e9&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x305d2f);}else{if(_0x305d2f[_0x1abd50(0x2d4)]===_0x1abd50(0xb3b)||_0x305d2f['status']===_0x1abd50(0x537)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x305d2f[_0x1abd50(0xde3)]==='group'){const _0x5d0fd3=_0x305d2f['groups'][userId];(!_0x5d0fd3||!_0x5d0fd3[_0x1abd50(0x4cc)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x37ac59){const _0x32e1b5=_0x121993;console['log'](_0x32e1b5(0x760));const _0x3dcdbe=doc(db,'artifacts/'+appId+_0x32e1b5(0xa78),_0x37ac59);try{const _0x547616=await getDoc(_0x3dcdbe);if(_0x547616[_0x32e1b5(0x75c)]()){const _0x258ab9=_0x547616[_0x32e1b5(0x72a)]();_0x258ab9[_0x32e1b5(0x604)]&&await saveGameResultsAsSubmissions(_0x258ab9);}await updateDoc(_0x3dcdbe,{'status':_0x32e1b5(0xb3b)});}catch(_0x1b4ff8){console[_0x32e1b5(0x274)](_0x32e1b5(0xb81),_0x1b4ff8);}}function updateAdminTeamDashboard(_0x1fe585){const _0x197d4d=_0x121993,_0x37a0fa=document[_0x197d4d(0x2f7)](_0x197d4d(0x292));if(!_0x37a0fa)return;const _0x15ca83=_0x1fe585[_0x197d4d(0xde3)]||_0x197d4d(0x205),_0x58b387=currentQuizData[_0x197d4d(0xc33)]['length'];if(_0x15ca83==='group'){const _0x5d7685=Object[_0x197d4d(0xe02)](_0x1fe585[_0x197d4d(0xa6c)]||{});if(_0x5d7685['length']===0x0){_0x37a0fa[_0x197d4d(0x8c4)]=_0x197d4d(0xd72);return;}const _0x316228=[..._0x5d7685][_0x197d4d(0x423)]((_0x49c650,_0x5be93b)=>_0x5be93b['score']-_0x49c650[_0x197d4d(0xbf1)]),_0x1a41eb=_0x316228[_0x197d4d(0xce7)]((_0x147edd,_0x1bb4a0)=>{const _0x585742=_0x197d4d,_0x3a5da7=_0x147edd['answers']?.[_0x585742(0x2b5)]||0x0;return _0x585742(0x1f8)+(_0x1bb4a0+0x1)+_0x585742(0x5fb)+_0x147edd['members'][_0x585742(0x5c4)](',\x20')+_0x585742(0xa09)+_0x3a5da7+'/'+_0x58b387+_0x585742(0x5e1)+_0x147edd['score']+_0x585742(0x4c3);})[_0x197d4d(0x5c4)](''),_0x55b88b=currentQuizData[_0x197d4d(0xc33)][_0x197d4d(0xce7)]((_0x590721,_0x3a0226)=>{const _0xcdcf5e=_0x197d4d;let _0x5c007e=0x0,_0x330955=0x0;_0x5d7685['forEach'](_0x469261=>{const _0x421109=_0x32db,_0x1ffdf9=_0x469261[_0x421109(0x847)]?.[_0x421109(0x266)](_0x31082f=>_0x31082f[_0x421109(0x51a)]===_0x3a0226);if(_0x1ffdf9){_0x330955++;if(_0x1ffdf9[_0x421109(0xd90)])_0x5c007e++;}});const _0x442340=_0x330955>0x0&&_0x330955===_0x5d7685[_0xcdcf5e(0x2b5)],_0x3cde38=_0x442340?_0xcdcf5e(0xacf):_0xcdcf5e(0x70d),_0x534fac=_0x442340?_0xcdcf5e(0x2f8):'';return _0xcdcf5e(0xa5b)+_0x3cde38+_0xcdcf5e(0xb33)+(_0x3a0226+0x1)+_0xcdcf5e(0xa2c)+_0x534fac+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x5c007e+'/'+_0x5d7685[_0xcdcf5e(0x2b5)]+'\x20กลุ่ม</p></div>';})[_0x197d4d(0x5c4)]('');_0x37a0fa[_0x197d4d(0x8c4)]=_0x197d4d(0x9a4)+_0x1a41eb+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x55b88b+'</div></div></div>';return;}const _0x2a518b=_0x1fe585['responses']||{},_0x3aa6df=Object['keys'](_0x2a518b);if(_0x3aa6df[_0x197d4d(0x2b5)]===0x0){_0x37a0fa[_0x197d4d(0x8c4)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x566b14=_0x3aa6df[_0x197d4d(0xce7)](_0x35e31a=>({'name':_0x35e31a,'score':_0x2a518b[_0x35e31a][_0x197d4d(0xbf1)]||0x0}))['sort']((_0x2ed600,_0x50e860)=>_0x50e860['score']-_0x2ed600[_0x197d4d(0xbf1)]),_0x5b9bba=_0x566b14['map'](_0x4163a3=>{const _0x5326cc=_0x197d4d,_0x108354=_0x2a518b[_0x4163a3[_0x5326cc(0xa7e)]]?.[_0x5326cc(0x847)]?.[_0x5326cc(0x2b5)]||0x0,_0x307c3c=Math[_0x5326cc(0x88a)](_0x58b387/_0x3aa6df['length']);return _0x5326cc(0x35d)+_0x4163a3[_0x5326cc(0xa7e)]+_0x5326cc(0xcf7)+_0x108354+'/'+_0x307c3c+_0x5326cc(0xa81)+_0x4163a3[_0x5326cc(0xbf1)]+'\x20คะแนน</span></div>';})['join'](''),_0x65fa5f=_0x3aa6df['reduce']((_0x54aa56,_0xdf2dd2)=>_0x54aa56+(_0x2a518b[_0xdf2dd2][_0x197d4d(0x847)]?.[_0x197d4d(0x2b5)]||0x0),0x0),_0x49668a=currentQuizData[_0x197d4d(0xc33)][_0x197d4d(0xce7)]((_0x51677e,_0xe56789)=>{const _0x4179f8=_0x197d4d;let _0x3edd4c=null,_0x30706b=null;for(const _0x1c9201 of _0x3aa6df){const _0x1822d4=_0x2a518b[_0x1c9201][_0x4179f8(0x847)]?.[_0x4179f8(0x266)](_0x2d631a=>_0x2d631a[_0x4179f8(0x51a)]===_0xe56789);if(_0x1822d4){_0x3edd4c=_0x1822d4,_0x30706b=_0x1c9201;break;}}const _0x2113f1=!!_0x3edd4c,_0x350ebe=_0x2113f1&&_0x3edd4c[_0x4179f8(0xd90)],_0x5320a9=(Math[_0x4179f8(0x442)](_0xe56789/_0x3aa6df['length'])+0x1)*_0x3aa6df[_0x4179f8(0x2b5)],_0xbec79c=_0x65fa5f>=_0x5320a9,_0x45ef97=_0xbec79c?_0x4179f8(0xdb5):_0x4179f8(0x70d),_0x28309d=_0xbec79c?_0x4179f8(0x2f8):'';let _0x397b2e=_0x4179f8(0x7c9);return _0x2113f1&&(_0x397b2e=_0x30706b+_0x4179f8(0xa5e)+(_0x350ebe?_0x4179f8(0xc2f):_0x4179f8(0x6b2))),_0x4179f8(0xa5b)+_0x45ef97+_0x4179f8(0xb33)+(_0xe56789+0x1)+_0x4179f8(0xa2c)+_0x28309d+_0x4179f8(0x285)+_0x397b2e+_0x4179f8(0xa97);})[_0x197d4d(0x5c4)]('');_0x37a0fa[_0x197d4d(0x8c4)]=_0x197d4d(0x8c7)+_0x5b9bba+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x49668a+_0x197d4d(0xc5f);}async function handleJoinTeamQuiz(){const _0x8e17e9=_0x121993,_0x4887ea=prompt(_0x8e17e9(0x9b7));if(!_0x4887ea||_0x4887ea['trim']()[_0x8e17e9(0x2b5)]!==0x4){showMessage(_0x8e17e9(0x82b));return;}try{const _0x18ac43=collection(db,'artifacts/'+appId+_0x8e17e9(0xa78)),_0xde9357=query(_0x18ac43,where(_0x8e17e9(0xd2f),'==',_0x4887ea[_0x8e17e9(0xe11)]()),where('status','==',_0x8e17e9(0x6f3))),_0x4fa24d=await getDocs(_0xde9357);if(_0x4fa24d['empty']){showMessage(_0x8e17e9(0xb9e));return;}const _0x452f1b=_0x4fa24d[_0x8e17e9(0x3c3)][0x0];currentTeamQuizId=_0x452f1b['id'];const _0x1997f7=_0x452f1b[_0x8e17e9(0x72a)](),_0x281c21=doc(db,_0x8e17e9(0x1da)+appId+'/public/data/projects',_0x1997f7['projectId']),_0x48dc61=doc(db,_0x8e17e9(0x1da)+appId+_0x8e17e9(0x653),_0x1997f7[_0x8e17e9(0xb99)]),[_0x505ded,_0x52c5da]=await Promise['all']([getDoc(_0x281c21),getDoc(_0x48dc61)]);if(!_0x505ded[_0x8e17e9(0x75c)]()||!_0x52c5da[_0x8e17e9(0x75c)]())throw new Error(_0x8e17e9(0xb44));currentQuizData=getShuffledQuiz({'id':_0x52c5da['id'],..._0x52c5da['data']()});const _0x43b1ea=_0x505ded[_0x8e17e9(0x72a)]();showTeamPlayerSelection(_0x43b1ea[_0x8e17e9(0x559)],currentQuizData[_0x8e17e9(0x9ce)]);}catch(_0x330fa9){console[_0x8e17e9(0x274)]('Error\x20joining\x20team\x20quiz:',_0x330fa9),showMessage(_0x8e17e9(0x663)+_0x330fa9[_0x8e17e9(0x5e6)]);}}async function handleJoinGroupActivity(){const _0x5d06a7=_0x121993,_0x10a948=prompt(_0x5d06a7(0xb39));if(!_0x10a948||_0x10a948[_0x5d06a7(0xe11)]()[_0x5d06a7(0x2b5)]!==0x4){showMessage(_0x5d06a7(0x3cb));return;}const _0x25471d=_0x10a948[_0x5d06a7(0xe11)]();showMessage(_0x5d06a7(0x222));try{const _0x45fc0e=collection(db,'artifacts/'+appId+_0x5d06a7(0xa78)),_0x2706e8=query(_0x45fc0e,where(_0x5d06a7(0xd2f),'==',_0x25471d),where(_0x5d06a7(0x2d4),'==',_0x5d06a7(0x6f3))),_0x4442ef=await getDocs(_0x2706e8);if(!_0x4442ef[_0x5d06a7(0xc89)]){console[_0x5d06a7(0x92e)](_0x5d06a7(0xdf7)),await proceedWithTeamQuizJoin(_0x4442ef['docs'][0x0]);return;}const _0x4eb4e6=collection(db,_0x5d06a7(0x1da)+appId+_0x5d06a7(0xda1)),_0x574b20=query(_0x4eb4e6,where(_0x5d06a7(0xd2f),'==',_0x25471d),where('status','in',[_0x5d06a7(0x6f3),_0x5d06a7(0xa75),_0x5d06a7(0xd8a),_0x5d06a7(0xb2b)])),_0x23565c=await getDocs(_0x574b20);if(!_0x23565c[_0x5d06a7(0xc89)]){console[_0x5d06a7(0x92e)](_0x5d06a7(0xb12)),await proceedWithSyncQuizJoin(_0x23565c[_0x5d06a7(0x3c3)][0x0]);return;}showMessage(_0x5d06a7(0xc71));}catch(_0x22f8b6){console[_0x5d06a7(0x274)](_0x5d06a7(0x9f8),_0x22f8b6),showMessage(_0x5d06a7(0x48a)+_0x22f8b6['message']);}}async function proceedWithTeamQuizJoin(_0x115003){const _0x128cdb=_0x121993;currentTeamQuizId=_0x115003['id'];const _0x46ce6f=_0x115003[_0x128cdb(0x72a)](),_0x4b9453=doc(db,_0x128cdb(0x1da)+appId+_0x128cdb(0x9f0),_0x46ce6f['projectId']),_0x303004=doc(db,_0x128cdb(0x1da)+appId+_0x128cdb(0x653),_0x46ce6f[_0x128cdb(0xb99)]),[_0x27fd5b,_0x3e6387]=await Promise['all']([getDoc(_0x4b9453),getDoc(_0x303004)]);if(!_0x27fd5b[_0x128cdb(0x75c)]()||!_0x3e6387['exists']())throw new Error(_0x128cdb(0xb44));currentQuizData=getShuffledQuiz({'id':_0x3e6387['id'],..._0x3e6387[_0x128cdb(0x72a)]()}),showTeamPlayerSelection(_0x27fd5b[_0x128cdb(0x72a)]()['students'],currentQuizData[_0x128cdb(0x9ce)],_0x46ce6f['mode']||_0x128cdb(0x205)),messageModal[_0x128cdb(0x2ff)][_0x128cdb(0x30d)](_0x128cdb(0xad0));}async function proceedWithSyncQuizJoin(_0x1dc097){const _0x3e2944=_0x121993;currentLiveGameId=_0x1dc097['id'];const _0x7008a0=_0x1dc097[_0x3e2944(0x72a)](),_0x354b6c=doc(db,_0x3e2944(0x1da)+appId+_0x3e2944(0x653),_0x7008a0['quizId']),_0x578165=await getDoc(_0x354b6c);if(!_0x578165['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x1223de=_0x578165[_0x3e2944(0x72a)](),_0x4d6f68=doc(db,_0x3e2944(0x1da)+appId+_0x3e2944(0x9f0),_0x1223de[_0x3e2944(0xd51)]),_0x350f0b=await getDoc(_0x4d6f68);if(!_0x350f0b['exists']())throw new Error(_0x3e2944(0x5a6));currentQuizData=_0x7008a0[_0x3e2944(0x926)],showView(_0x3e2944(0x5ba)),showTeamPlayerSelection(_0x350f0b['data']()['students'],_0x1223de[_0x3e2944(0x9ce)],_0x3e2944(0x6a7));const _0x30b9cd=document[_0x3e2944(0x2f7)](_0x3e2944(0x3de)),_0x205939=_0x30b9cd[_0x3e2944(0xd05)](!![]);_0x30b9cd[_0x3e2944(0xad7)]['replaceChild'](_0x205939,_0x30b9cd),_0x205939[_0x3e2944(0x717)]=confirmAndJoinSyncGame,messageModal[_0x3e2944(0x2ff)][_0x3e2944(0x30d)](_0x3e2944(0xad0));}function _0x32db(_0x22fc32,_0x5d9c76){const _0x13e5ad=_0x13e5();return _0x32db=function(_0x32dbd5,_0x3de2fa){_0x32dbd5=_0x32dbd5-0x1c2;let _0x16a76e=_0x13e5ad[_0x32dbd5];return _0x16a76e;},_0x32db(_0x22fc32,_0x5d9c76);}function getCleanApplicationHTML(){const _0x1ea83f=_0x121993,_0x3bf0b1=document[_0x1ea83f(0x2f7)](_0x1ea83f(0xda4));if(!_0x3bf0b1)return'';const _0x6263bd=_0x3bf0b1[_0x1ea83f(0xd05)](!![]);return _0x6263bd[_0x1ea83f(0x4cb)](_0x1ea83f(0x6fb))[_0x1ea83f(0x616)](_0x1ad502=>{const _0x30a76e=_0x1ea83f;_0x1ad502[_0x30a76e(0x2ff)]['remove'](_0x30a76e(0xd08),_0x30a76e(0xba4)),_0x1ad502[_0x30a76e(0x687)]=![];}),_0x6263bd['innerHTML'];}function showTeamPlayerSelection(_0x143ee8,_0x5b7239,_0x27f4c5=_0x121993(0x205)){const _0x45e474=_0x121993;studentInitialView[_0x45e474(0x2ff)][_0x45e474(0x30d)](_0x45e474(0xad0)),studentJoinGameView[_0x45e474(0x2ff)]['add'](_0x45e474(0xad0)),document[_0x45e474(0x2f7)](_0x45e474(0x6fa))['classList'][_0x45e474(0x2cf)](_0x45e474(0xad0));let _0x48a199=_0x45e474(0xd58);if(_0x27f4c5===_0x45e474(0x996))_0x48a199='Group\x20Mode';else _0x27f4c5==='sync'&&(_0x48a199=_0x45e474(0x35e));document['getElementById'](_0x45e474(0x52b))[_0x45e474(0xa28)]=_0x48a199+':\x20'+_0x5b7239;const _0xde9477=document[_0x45e474(0x2f7)]('team-student-list');if(!_0x143ee8||_0x143ee8[_0x45e474(0x2b5)]===0x0){_0xde9477[_0x45e474(0x8c4)]=_0x45e474(0x3b8),document[_0x45e474(0x2f7)](_0x45e474(0x3de))[_0x45e474(0x687)]=!![];return;}_0xde9477[_0x45e474(0x8c4)]=_0x143ee8[_0x45e474(0xce7)](_0x2ba8e9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x2ba8e9+_0x45e474(0xd63)+_0x2ba8e9+_0x45e474(0xd27))[_0x45e474(0x5c4)](''),document[_0x45e474(0x2f7)](_0x45e474(0x3de))[_0x45e474(0x687)]=![];}async function confirmAndStartTeamQuiz(){const _0x2f26c1=_0x121993,_0x12f318=Array[_0x2f26c1(0x8a8)](document['querySelectorAll'](_0x2f26c1(0xbc3)))[_0x2f26c1(0xce7)](_0x31d71e=>_0x31d71e[_0x2f26c1(0x5b6)]);if(_0x12f318[_0x2f26c1(0x2b5)]===0x0){showMessage(_0x2f26c1(0x214));return;}localTeamPlayers=_0x12f318,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x4a2e6d=doc(db,_0x2f26c1(0x1da)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x2c02bb=await getDoc(_0x4a2e6d);if(!_0x2c02bb[_0x2f26c1(0x75c)]())throw new Error(_0x2f26c1(0x9f4));const _0x430b29=_0x2c02bb[_0x2f26c1(0x72a)]();if(_0x430b29['mode']==='group'){const _0x557c85={[_0x2f26c1(0xd84)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x4a2e6d,_0x557c85);}else{const _0x374526=_0x430b29[_0x2f26c1(0xdca)]||{};localTeamPlayers[_0x2f26c1(0x616)](_0x2c6823=>{!_0x374526[_0x2c6823]&&(_0x374526[_0x2c6823]={'score':0x0,'answers':[]});}),await updateDoc(_0x4a2e6d,{'responses':_0x374526});}document[_0x2f26c1(0x2f7)](_0x2f26c1(0x6fa))[_0x2f26c1(0x2ff)][_0x2f26c1(0x30d)](_0x2f26c1(0xad0)),renderTeamQuizQuestion();const _0x287688={'gameId':currentTeamQuizId,'mode':_0x430b29[_0x2f26c1(0xde3)]||_0x2f26c1(0x205),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x2f26c1(0xe1b),JSON['stringify'](_0x287688)),listenForTeamQuizUpdates();}catch(_0x1e2abf){console[_0x2f26c1(0x274)]('Error\x20confirming\x20players:',_0x1e2abf),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x5114fe=_0x121993;if(localQuestionIndex>=currentQuizData[_0x5114fe(0xc33)]['length']){displayTeamQuizFinalResults();return;}const _0x277ed9=currentQuizData[_0x5114fe(0xc33)][localQuestionIndex],_0x2b9d14=localTeamPlayers[localPlayerIndex],_0x3e23ed=_0x277ed9[_0x5114fe(0x5ac)]||currentQuizData[_0x5114fe(0x4d2)];let _0x44f312=_0x277ed9[_0x5114fe(0x859)]||_0x277ed9[_0x5114fe(0x41b)],_0x507a1b='';switch(_0x3e23ed){case'multiple_choice':case _0x5114fe(0x419):_0x507a1b=_0x277ed9[_0x5114fe(0x450)][_0x5114fe(0xce7)]((_0x4f2e1d,_0x571fe0)=>_0x5114fe(0x1f7)+_0x571fe0+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x571fe0+_0x5114fe(0x820)+_0x571fe0+'\x22>'+_0x4f2e1d+_0x5114fe(0x950))['join']('');break;case _0x5114fe(0x668):_0x507a1b='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x5114fe(0x2bc):case'fill_in_no_choices':_0x507a1b=_0x5114fe(0x31e);break;case'matching_item':_0x507a1b=_0x5114fe(0xc39)+_0x277ed9['allResponses']['map'](_0x187df0=>_0x5114fe(0xc7d)+_0x187df0+'\x22>'+_0x187df0+'</option>')['join']('')+_0x5114fe(0x444);break;default:_0x507a1b='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x5114fe(0x8c4)]=_0x5114fe(0x9c1)+(localQuestionIndex+0x1)+_0x5114fe(0xd43)+currentQuizData[_0x5114fe(0xc33)]['length']+_0x5114fe(0x6d2)+_0x2b9d14+_0x5114fe(0xbf9)+(localQuestionIndex+0x1)+'.\x20'+_0x44f312+_0x5114fe(0xaf0)+(_0x277ed9[_0x5114fe(0x426)]?_0x5114fe(0xd03)+_0x277ed9[_0x5114fe(0x426)]+_0x5114fe(0x72e):'')+_0x5114fe(0xa80)+_0x507a1b+_0x5114fe(0x9cf),studentQuizArea['classList']['remove']('hidden');if(window[_0x5114fe(0xc16)])MathJax[_0x5114fe(0xe06)]([studentQuizArea]);document['getElementById']('submit-team-answer-btn')[_0x5114fe(0xdd3)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x44ef7f=_0x121993,_0x397e3d=currentQuizData['questions'][localQuestionIndex],_0x3d1a0e=_0x397e3d[_0x44ef7f(0x5ac)]||currentQuizData[_0x44ef7f(0x4d2)];let _0x2b4b8c=null,_0x4a22b8=![];if(_0x3d1a0e===_0x44ef7f(0x2bc)||_0x3d1a0e===_0x44ef7f(0x32f)){const _0x359949=document[_0x44ef7f(0x839)](_0x44ef7f(0xdfb));if(!_0x359949||!_0x359949[_0x44ef7f(0x5b6)][_0x44ef7f(0xe11)]()){showMessage(_0x44ef7f(0x771));return;}_0x2b4b8c=_0x359949['value'][_0x44ef7f(0xe11)](),_0x4a22b8=await gradeShortAnswer(_0x2b4b8c,_0x397e3d);}else{const _0x4d0558=document[_0x44ef7f(0x839)](_0x44ef7f(0xc9d));if(!_0x4d0558||_0x4d0558[_0x44ef7f(0x5b6)]===''){showMessage(_0x44ef7f(0x991));return;}_0x2b4b8c=_0x4d0558[_0x44ef7f(0x5b6)];switch(_0x3d1a0e){case _0x44ef7f(0x668):_0x4a22b8=_0x2b4b8c===_0x44ef7f(0xc10)===_0x397e3d[_0x44ef7f(0x836)];break;case _0x44ef7f(0x5f5):_0x4a22b8=_0x2b4b8c===_0x397e3d[_0x44ef7f(0xa17)];break;default:_0x4a22b8=parseInt(_0x2b4b8c)===_0x397e3d[_0x44ef7f(0xc9f)];break;}}const _0x5b0023={'questionIndex':localQuestionIndex,'isCorrect':_0x4a22b8},_0x52aab1=userId,_0x324ce6={[_0x44ef7f(0xd84)+_0x52aab1+_0x44ef7f(0x241)]:arrayUnion(_0x5b0023)};_0x4a22b8&&(_0x324ce6[_0x44ef7f(0xd84)+_0x52aab1+_0x44ef7f(0xc82)]=increment(0x1));try{await updateDoc(doc(db,_0x44ef7f(0x1da)+appId+_0x44ef7f(0xa78),currentTeamQuizId),_0x324ce6),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x44ef7f(0x2b5)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x44833f){console[_0x44ef7f(0x274)](_0x44ef7f(0x8e0),_0x44833f),showMessage(_0x44ef7f(0x2bd));}}async function handleTeamAnswerSubmit(){const _0x5e17d8=_0x121993,_0x153b4e=await getDoc(doc(db,_0x5e17d8(0x1da)+appId+_0x5e17d8(0xa78),currentTeamQuizId));if(!_0x153b4e['exists']())return;const _0x53aaaa=_0x153b4e[_0x5e17d8(0x72a)]();if(_0x53aaaa[_0x5e17d8(0xde3)]===_0x5e17d8(0x996)){handleGroupAnswerSubmit();return;}const _0xb2bad8=localTeamPlayers[localPlayerIndex],_0x5a50f8=currentQuizData[_0x5e17d8(0xc33)][localQuestionIndex],_0x205aa0=_0x5a50f8[_0x5e17d8(0x5ac)]||currentQuizData[_0x5e17d8(0x4d2)];let _0x2b3095=null,_0x37c34e=![];if(_0x205aa0==='short_answer'||_0x205aa0===_0x5e17d8(0x32f)){const _0x275b2f=document[_0x5e17d8(0x839)](_0x5e17d8(0xdfb));if(!_0x275b2f||!_0x275b2f[_0x5e17d8(0x5b6)][_0x5e17d8(0xe11)]()){showMessage(_0x5e17d8(0x284));return;}_0x2b3095=_0x275b2f[_0x5e17d8(0x5b6)]['trim'](),_0x37c34e=await gradeShortAnswer(_0x2b3095,_0x5a50f8);}else{const _0x291ed5=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x291ed5||_0x291ed5[_0x5e17d8(0x5b6)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x2b3095=_0x291ed5['value'];switch(_0x205aa0){case _0x5e17d8(0x668):_0x37c34e=_0x2b3095===_0x5e17d8(0xc10)===_0x5a50f8[_0x5e17d8(0x836)];break;case'matching_item':_0x37c34e=_0x2b3095===_0x5a50f8['correctResponse'];break;default:_0x37c34e=parseInt(_0x2b3095)===_0x5a50f8[_0x5e17d8(0xc9f)];break;}}const _0x74659c={'questionIndex':localQuestionIndex,'isCorrect':_0x37c34e,'answerValue':_0x2b3095},_0x4d0877={['responses.'+_0xb2bad8+_0x5e17d8(0x241)]:arrayUnion(_0x74659c)};_0x37c34e&&(_0x4d0877[_0x5e17d8(0x7e2)+_0xb2bad8+_0x5e17d8(0xc82)]=increment(0x1));try{await updateDoc(doc(db,_0x5e17d8(0x1da)+appId+_0x5e17d8(0xa78),currentTeamQuizId),_0x4d0877),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5e17d8(0x2b5)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x8587c8){console['error'](_0x5e17d8(0x6b9),_0x8587c8),showMessage(_0x5e17d8(0x2bd));}}async function displayTeamQuizFinalResults(){const _0x404989=_0x121993;studentQuizArea[_0x404989(0x2ff)]['add'](_0x404989(0xad0)),studentResultArea['classList'][_0x404989(0x2cf)](_0x404989(0xad0));const _0x1cdb7e=doc(db,_0x404989(0x1da)+appId+_0x404989(0xa78),currentTeamQuizId),_0x3a419b=await getDoc(_0x1cdb7e);if(!_0x3a419b[_0x404989(0x75c)]()){studentResultArea['innerHTML']=_0x404989(0x96f);return;}const _0x213d48=_0x3a419b['data']();let _0x16f014=[];const _0xd746f2=_0x213d48['mode']||_0x404989(0x205);if(_0xd746f2===_0x404989(0x996)){const _0x5cfb45=_0x213d48[_0x404989(0xa6c)][userId];_0x5cfb45?_0x16f014=[{'name':_0x404989(0x9dc)+localTeamPlayers[_0x404989(0x5c4)](',\x20'),'score':_0x5cfb45[_0x404989(0xbf1)]||0x0}]:_0x16f014=[{'name':_0x404989(0xa31),'score':_0x404989(0x633)}];}else _0x16f014=localTeamPlayers['map'](_0x2ae6ff=>({'name':_0x2ae6ff,'score':_0x213d48[_0x404989(0xdca)][_0x2ae6ff]?.[_0x404989(0xbf1)]||0x0}))[_0x404989(0x423)]((_0xfac2f2,_0x1c8cc1)=>_0x1c8cc1[_0x404989(0xbf1)]-_0xfac2f2[_0x404989(0xbf1)]);studentResultArea[_0x404989(0x8c4)]=_0x404989(0xd1d)+_0x16f014[_0x404989(0xce7)](_0x47fd43=>_0x404989(0xb28)+_0x47fd43[_0x404989(0xa7e)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x47fd43[_0x404989(0xbf1)]+_0x404989(0xd16))['join']('')+_0x404989(0x6d8),sessionStorage[_0x404989(0x37f)](_0x404989(0xe1b)),currentMode===_0x404989(0x8fa)&&currentTeamQuizId&&setTimeout(()=>{const _0x3f4dbf=_0x404989;deleteDoc(doc(db,_0x3f4dbf(0x1da)+appId+_0x3f4dbf(0xa78),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x121993(0x865)};const allMathTopics=[{'category':_0x121993(0xb98),'name':_0x121993(0x550)},{'category':_0x121993(0xb98),'name':_0x121993(0xcd8)},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0x63b)},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0xaea)},{'category':_0x121993(0xb98),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0x8b2)},{'category':_0x121993(0xb98),'name':_0x121993(0xdf6)},{'category':'จำนวนและการดำเนินการ','name':'การหาร'},{'category':_0x121993(0xb98),'name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0x510)},{'category':_0x121993(0xb98),'name':_0x121993(0x646)},{'category':_0x121993(0xb98),'name':_0x121993(0xbd3)},{'category':_0x121993(0xb98),'name':_0x121993(0x396)},{'category':_0x121993(0xb98),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0x3ee)},{'category':_0x121993(0xb98),'name':'ค.ร.น.\x20(LCM)'},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0x8dd)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':_0x121993(0xb98),'name':_0x121993(0x75f)},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0x7c2)},{'category':_0x121993(0xb98),'name':_0x121993(0x883)},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0xd2b)},{'category':_0x121993(0xb98),'name':_0x121993(0x63e)},{'category':_0x121993(0xb98),'name':_0x121993(0x720)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x121993(0xb98),'name':'การบวกทศนิยม'},{'category':_0x121993(0xb98),'name':_0x121993(0xb79)},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0x5d6)},{'category':_0x121993(0xb98),'name':_0x121993(0x983)},{'category':_0x121993(0xb98),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x121993(0xb98),'name':_0x121993(0x20e)},{'category':_0x121993(0xb98),'name':_0x121993(0x2fd)},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0xa91)},{'category':_0x121993(0xb98),'name':_0x121993(0x1fc)},{'category':_0x121993(0xb98),'name':_0x121993(0x33f)},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0xadf)},{'category':'จำนวนและการดำเนินการ','name':_0x121993(0x39c)},{'category':_0x121993(0x569),'name':_0x121993(0x80c)},{'category':_0x121993(0x569),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x121993(0x569),'name':_0x121993(0xb23)},{'category':_0x121993(0x569),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':_0x121993(0xbe7)},{'category':'การวัด','name':_0x121993(0xc75)},{'category':_0x121993(0x569),'name':_0x121993(0xc1f)},{'category':_0x121993(0x569),'name':_0x121993(0xb22)},{'category':_0x121993(0x569),'name':_0x121993(0xd4f)},{'category':_0x121993(0x569),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x121993(0x569),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x121993(0x569),'name':_0x121993(0xd3f)},{'category':_0x121993(0x569),'name':'สเกลและแผนที่'},{'category':_0x121993(0x569),'name':_0x121993(0xbf8)},{'category':'เรขาคณิต','name':_0x121993(0x4ee)},{'category':'เรขาคณิต','name':_0x121993(0xdff)},{'category':_0x121993(0x97f),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x121993(0x97f),'name':_0x121993(0xb22)},{'category':_0x121993(0x97f),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x121993(0x97f),'name':_0x121993(0x4dd)},{'category':_0x121993(0x97f),'name':_0x121993(0x3f8)},{'category':_0x121993(0x97f),'name':_0x121993(0xbb3)},{'category':'เรขาคณิต','name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x121993(0x97f),'name':_0x121993(0x4e5)},{'category':'เรขาคณิต','name':_0x121993(0xbf5)},{'category':'เรขาคณิต','name':_0x121993(0x752)},{'category':_0x121993(0x97f),'name':_0x121993(0xddb)},{'category':'เรขาคณิต','name':_0x121993(0x937)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x121993(0xdde),'name':_0x121993(0xcbc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x121993(0xc88)},{'category':_0x121993(0xdde),'name':_0x121993(0x248)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x121993(0x586)},{'category':_0x121993(0xdde),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x121993(0xded)},{'category':_0x121993(0xdde),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x121993(0xdde),'name':_0x121993(0x732)},{'category':_0x121993(0xdde),'name':_0x121993(0xaab)},{'category':_0x121993(0xdde),'name':'สมการเหตุผล\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':_0x121993(0xdde),'name':_0x121993(0xa2e)},{'category':_0x121993(0xdde),'name':_0x121993(0x6a6)},{'category':_0x121993(0xdde),'name':_0x121993(0xcb6)},{'category':_0x121993(0xdde),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x121993(0xdde),'name':_0x121993(0xab2)},{'category':_0x121993(0xdde),'name':_0x121993(0xaa2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x121993(0x900)},{'category':_0x121993(0xdde),'name':_0x121993(0xd1a)},{'category':_0x121993(0xdde),'name':_0x121993(0x394)},{'category':_0x121993(0xdde),'name':_0x121993(0xb72)},{'category':_0x121993(0xdde),'name':_0x121993(0x302)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x121993(0xdde),'name':'ฟังก์ชันพหุนาม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x121993(0x979)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x121993(0x8f4)},{'category':_0x121993(0xdde),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x121993(0xdde),'name':_0x121993(0x36b)},{'category':_0x121993(0xdde),'name':_0x121993(0xc8b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x121993(0x390)},{'category':_0x121993(0xdde),'name':_0x121993(0x512)},{'category':_0x121993(0xdde),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x121993(0xdec)},{'category':_0x121993(0xdde),'name':_0x121993(0xd85)},{'category':_0x121993(0xdde),'name':_0x121993(0xce0)},{'category':'เรขาคณิตวิเคราะห์','name':_0x121993(0x8cd)},{'category':_0x121993(0x704),'name':_0x121993(0x53c)},{'category':_0x121993(0x704),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x121993(0x704),'name':_0x121993(0x85c)},{'category':'เรขาคณิตวิเคราะห์','name':_0x121993(0x974)},{'category':_0x121993(0x704),'name':_0x121993(0x535)},{'category':_0x121993(0x704),'name':'พาราโบลา'},{'category':_0x121993(0x704),'name':_0x121993(0xcf5)},{'category':_0x121993(0x704),'name':'ไฮเพอร์โบลา'},{'category':_0x121993(0x48e),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':'ตรีโกณมิติ','name':_0x121993(0x8da)},{'category':_0x121993(0x48e),'name':_0x121993(0xc40)},{'category':'ตรีโกณมิติ','name':_0x121993(0x748)},{'category':_0x121993(0x48e),'name':'กฎของไซน์'},{'category':_0x121993(0x48e),'name':_0x121993(0x7ea)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x121993(0x48e),'name':_0x121993(0x26a)},{'category':_0x121993(0x48e),'name':_0x121993(0x8e7)},{'category':'ตรีโกณมิติ','name':_0x121993(0x50f)},{'category':_0x121993(0x48e),'name':_0x121993(0x26d)},{'category':_0x121993(0x851),'name':_0x121993(0xc3c)},{'category':_0x121993(0x851),'name':_0x121993(0x8ec)},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0x551)},{'category':_0x121993(0x851),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0xbb0)},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0x35b)},{'category':_0x121993(0x851),'name':_0x121993(0xcf8)},{'category':_0x121993(0x851),'name':'มัธยฐาน'},{'category':_0x121993(0x851),'name':_0x121993(0x93e)},{'category':_0x121993(0x851),'name':'พิสัย'},{'category':_0x121993(0x851),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x121993(0x851),'name':_0x121993(0xd53)},{'category':_0x121993(0x851),'name':_0x121993(0xb68)},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0x48f)},{'category':_0x121993(0x851),'name':_0x121993(0xc14)},{'category':_0x121993(0x851),'name':_0x121993(0x7db)},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0x5a8)},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0x7cf)},{'category':_0x121993(0x851),'name':_0x121993(0x59e)},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0x74a)},{'category':_0x121993(0x851),'name':_0x121993(0x1f9)},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0x866)},{'category':'สถิติและความน่าจะเป็น','name':_0x121993(0xd23)},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x121993(0x97d),'name':_0x121993(0x484)},{'category':_0x121993(0x97d),'name':_0x121993(0x68d)},{'category':_0x121993(0x97d),'name':_0x121993(0xdf3)},{'category':_0x121993(0x97d),'name':_0x121993(0x2b2)},{'category':_0x121993(0x97d),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x121993(0x97d),'name':_0x121993(0xc78)},{'category':_0x121993(0x97d),'name':_0x121993(0xc1e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x121993(0xd24)},{'category':_0x121993(0x97d),'name':_0x121993(0x952)},{'category':_0x121993(0x97d),'name':_0x121993(0xe12)},{'category':_0x121993(0x97d),'name':_0x121993(0x21b)},{'category':_0x121993(0x97d),'name':_0x121993(0x961)},{'category':_0x121993(0x97d),'name':_0x121993(0xd70)},{'category':_0x121993(0xb82),'name':_0x121993(0xb2f)},{'category':_0x121993(0xb82),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x121993(0xb82),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x121993(0x1c7)},{'category':_0x121993(0xb82),'name':_0x121993(0xc28)},{'category':_0x121993(0xb82),'name':'ดีเทอร์มิแนนต์'},{'category':_0x121993(0xb82),'name':_0x121993(0x45f)},{'category':_0x121993(0xb7a),'name':_0x121993(0x2c5)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x121993(0xaef)},{'category':_0x121993(0xb7a),'name':_0x121993(0x589)},{'category':_0x121993(0xb7a),'name':_0x121993(0x7b5)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x121993(0xbd6)},{'category':_0x121993(0x6c6),'name':_0x121993(0xb1c)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x121993(0x83f)},{'category':_0x121993(0x6c6),'name':_0x121993(0xde4)}];function renderTopicCheckboxes(){const _0x1cb4a7=_0x121993,_0x4f3b88=document[_0x1cb4a7(0x2f7)](_0x1cb4a7(0xc09));if(!_0x4f3b88)return;const _0x4d7deb=allMathTopics,_0x2f7236=customMathTopics[_0x1cb4a7(0xce7)](_0x422192=>({'id':_0x422192['id'],'category':_0x1cb4a7(0x265),'name':_0x422192['name']})),_0x4213e5=[..._0x4d7deb,..._0x2f7236],_0x26292a=_0x4213e5[_0x1cb4a7(0x971)]((_0x45357f,_0x2bac38)=>{const _0x3fa6ff=_0x1cb4a7;return!_0x45357f[_0x2bac38['category']]&&(_0x45357f[_0x2bac38[_0x3fa6ff(0xbbb)]]=[]),_0x45357f[_0x2bac38[_0x3fa6ff(0xbbb)]][_0x3fa6ff(0xdc4)](_0x2bac38),_0x45357f;},{});let _0x4673ae='';const _0x2a2531=[_0x1cb4a7(0x265),...Object[_0x1cb4a7(0xc27)](_0x26292a)[_0x1cb4a7(0x9a7)](_0x238112=>_0x238112!=='หัวข้อที่สร้างเอง')];for(const _0x51c230 of _0x2a2531){if(_0x26292a[_0x51c230]){const _0x7f0cc1=_0x51c230==='หัวข้อที่สร้างเอง',_0x1f0ce5=_0x7f0cc1?_0x1cb4a7(0x719):_0x1cb4a7(0x9e0),_0x238790=_0x7f0cc1?'text-blue-700':_0x1cb4a7(0x218);_0x4673ae+=_0x1cb4a7(0xdce),_0x4673ae+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x238790+_0x1cb4a7(0xd66)+_0x1f0ce5+'\x20mr-2\x22></i>'+_0x51c230+_0x1cb4a7(0xb6e),_0x26292a[_0x51c230][_0x1cb4a7(0x616)](_0x344ae4=>{const _0x44af71=_0x1cb4a7,_0x388d29=!!_0x344ae4['id'],_0x79dd3b=_0x388d29?_0x44af71(0x322)+_0x344ae4['id']+_0x44af71(0x990)+_0x344ae4['id']+_0x44af71(0x5c3)+_0x344ae4['id']+_0x44af71(0xd01)+_0x344ae4['id']+_0x44af71(0x8b5):'';_0x4673ae+=_0x44af71(0x951)+(_0x344ae4['id']||'')+_0x44af71(0x3f2)+_0x344ae4[_0x44af71(0xa7e)]+_0x44af71(0x298)+_0x344ae4[_0x44af71(0xa7e)]+_0x44af71(0x90b)+(_0x388d29?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x344ae4[_0x44af71(0xa7e)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x79dd3b+_0x44af71(0xa4a);}),_0x4673ae+='</div>';}}_0x4f3b88[_0x1cb4a7(0x8c4)]=_0x4673ae||_0x1cb4a7(0x989),_0x4f3b88[_0x1cb4a7(0x223)]('change',updateSelectedTopicsCount),_0x4f3b88[_0x1cb4a7(0xdd3)](_0x1cb4a7(0x9af),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x335123,_0x4e964d){const _0x40a4e2=_0x121993;if(!_0x335123||!_0x4e964d['trim']()){showMessage(_0x40a4e2(0x9f6));return;}try{const _0x53eb0c=doc(db,'artifacts/'+appId+_0x40a4e2(0xa2f),_0x335123);await updateDoc(_0x53eb0c,{'name':_0x4e964d['trim']()}),showMessage(_0x40a4e2(0xad8));}catch(_0x1e1f44){console[_0x40a4e2(0x274)](_0x40a4e2(0x826),_0x1e1f44),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x5c0640,_0x53e7a7){const _0x23c3af=_0x121993;if(!_0x5c0640)return;const _0x410faa=_0x5c0640[_0x23c3af(0x839)](_0x23c3af(0x8a4)),_0x466546=_0x5c0640[_0x23c3af(0x839)]('.topic-name-input'),_0x281b04=_0x5c0640[_0x23c3af(0x839)]('.topic-actions-view'),_0x20edf4=_0x5c0640[_0x23c3af(0x839)](_0x23c3af(0x499));_0x410faa['classList'][_0x23c3af(0x65e)](_0x23c3af(0xad0),_0x53e7a7),_0x466546[_0x23c3af(0x2ff)][_0x23c3af(0x65e)](_0x23c3af(0xad0),!_0x53e7a7),_0x281b04[_0x23c3af(0x2ff)]['toggle'](_0x23c3af(0xad0),_0x53e7a7),_0x20edf4[_0x23c3af(0x2ff)][_0x23c3af(0x65e)]('hidden',!_0x53e7a7),_0x53e7a7&&(_0x466546[_0x23c3af(0x383)](),_0x466546[_0x23c3af(0xcda)]());}async function handleStartLiveRace(_0x2155c0){const _0x37c225=_0x121993;let _0x1fcf31=allQuizzes[_0x37c225(0x266)](_0x3589d5=>_0x3589d5['id']===_0x2155c0);if(!_0x1fcf31){const _0x5d3867=doc(db,_0x37c225(0x1da)+appId+_0x37c225(0x653),_0x2155c0),_0x8eabf4=await getDoc(_0x5d3867);if(!_0x8eabf4['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x1fcf31={'id':_0x8eabf4['id'],..._0x8eabf4[_0x37c225(0x72a)]()};}const _0x50acfd=getShuffledQuiz(_0x1fcf31);currentQuizData=_0x50acfd;const _0x536b49=_0x1fcf31[_0x37c225(0xd51)]||currentProjectId||null,_0x2b5e0b=Math[_0x37c225(0x442)](0x3e8+Math[_0x37c225(0x51e)]()*0x2328)['toString']();currentLiveGamePin=_0x2b5e0b;try{const _0x50d000=await addDoc(collection(db,'artifacts/'+appId+_0x37c225(0x928)),{'quizId':_0x2155c0,'projectId':_0x536b49,'status':_0x37c225(0x6f3),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2b5e0b,'createdAt':serverTimestamp(),'shuffledQuiz':_0x50acfd});currentLiveGameId=_0x50d000['id'],showAdminLobbyView(_0x2b5e0b,_0x1fcf31[_0x37c225(0x9ce)]),listenForLiveGameUpdates();}catch(_0x2054db){console['error'](_0x37c225(0x8ff),_0x2054db),showMessage(_0x37c225(0x7be));}}function updateSelectedTopicsCount(){const _0x173d8b=_0x121993,_0x5d1948=document[_0x173d8b(0x2f7)]('math-topics-checkbox-container'),_0x46733f=_0x5d1948[_0x173d8b(0x4cb)](_0x173d8b(0x90f))[_0x173d8b(0x2b5)],_0x4eb590=document['getElementById'](_0x173d8b(0xb34));_0x46733f>0x0?_0x4eb590[_0x173d8b(0xa28)]=_0x173d8b(0x332)+_0x46733f+_0x173d8b(0x35c):_0x4eb590['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x121993(0xc2d),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x121993(0x8d7),quizLeaderboardSortOrder=_0x121993(0x95e),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x121993(0x698),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5b859c,_0x292409){const _0xebcfaa=_0x121993;return Math[_0xebcfaa(0x675)](Math[_0xebcfaa(0x29c)](_0x5b859c['x']-_0x292409['x'],0x2)+Math['pow'](_0x5b859c['y']-_0x292409['y'],0x2));}function getMidpoint(_0x4f2efa,_0x553680){return{'x':(_0x4f2efa['x']+_0x553680['x'])/0x2,'y':(_0x4f2efa['y']+_0x553680['y'])/0x2};}function getTransformedPoint(_0xeed1c1,_0x508f2a){return{'x':(_0xeed1c1-scratchpadOffset['x'])/scratchpadScale,'y':(_0x508f2a-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0xc3b5b9=_0x121993;if(!scratchpadCtx)return;const _0x7944f3=scratchpadCtx[_0xc3b5b9(0x9cc)],_0x4ac4d3=window[_0xc3b5b9(0xd95)]||0x1,_0x14af2d=document[_0xc3b5b9(0x2f7)](_0xc3b5b9(0xc1a));_0x14af2d&&(_0x14af2d[_0xc3b5b9(0x259)][_0xc3b5b9(0x702)]='0\x200',_0x14af2d[_0xc3b5b9(0x259)][_0xc3b5b9(0x58d)]=_0xc3b5b9(0x95d)+scratchpadOffset['x']+_0xc3b5b9(0x9e6)+scratchpadOffset['y']+_0xc3b5b9(0xaca)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0xc3b5b9(0xbfa)](_0x4ac4d3,0x0,0x0,_0x4ac4d3,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x7944f3[_0xc3b5b9(0xa61)],_0x7944f3['height']),scratchpadCtx[_0xc3b5b9(0x478)](),scratchpadCtx[_0xc3b5b9(0x5d1)](),scratchpadCtx[_0xc3b5b9(0xcff)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x879b50=>{drawStroke(_0x879b50);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0xc3b5b9(0x478)]();}function renderGroupModeQuestion(){const _0x570dd1=_0x121993;if(localQuestionIndex>=currentQuizData[_0x570dd1(0xc33)]['length']){displayTeamQuizFinalResults();return;}const _0x402a30=currentQuizData[_0x570dd1(0xc33)][localQuestionIndex],_0x28e7c1=_0x402a30[_0x570dd1(0x5ac)]||currentQuizData['quizType'];let _0x21cb2e=_0x402a30[_0x570dd1(0x859)]||_0x402a30[_0x570dd1(0x41b)],_0x8f9c2d='';switch(_0x28e7c1){case _0x570dd1(0xc3f):case _0x570dd1(0x419):_0x8f9c2d=_0x402a30[_0x570dd1(0x450)][_0x570dd1(0xce7)]((_0x239ca7,_0x5da872)=>_0x570dd1(0x1f7)+_0x5da872+_0x570dd1(0xd75)+_0x5da872+_0x570dd1(0x820)+_0x5da872+'\x22>'+_0x239ca7+_0x570dd1(0x950))[_0x570dd1(0x5c4)]('');break;case _0x570dd1(0x668):_0x8f9c2d=_0x570dd1(0x64c);break;case _0x570dd1(0x2bc):case _0x570dd1(0x32f):_0x8f9c2d=_0x570dd1(0xda3);break;case _0x570dd1(0x5f5):_0x8f9c2d=_0x570dd1(0xc39)+_0x402a30[_0x570dd1(0x711)]['map'](_0x452f2a=>_0x570dd1(0xc7d)+_0x452f2a+'\x22>'+_0x452f2a+_0x570dd1(0xbc5))[_0x570dd1(0x5c4)]('')+_0x570dd1(0x444);break;default:_0x8f9c2d='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x570dd1(0x8c4)]=_0x570dd1(0x9c1)+(localQuestionIndex+0x1)+_0x570dd1(0xd43)+currentQuizData[_0x570dd1(0xc33)][_0x570dd1(0x2b5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers['join'](',\x20')+_0x570dd1(0xbf9)+(localQuestionIndex+0x1)+'.\x20'+_0x21cb2e+_0x570dd1(0xaf0)+(_0x402a30[_0x570dd1(0x426)]?_0x570dd1(0xd03)+_0x402a30[_0x570dd1(0x426)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x8f9c2d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x570dd1(0x2ff)][_0x570dd1(0x2cf)](_0x570dd1(0xad0));if(window[_0x570dd1(0xc16)])MathJax[_0x570dd1(0xe06)]([studentQuizArea]);document[_0x570dd1(0x2f7)](_0x570dd1(0xd12))[_0x570dd1(0xdd3)](_0x570dd1(0x754),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x20d0e8,_0x28147c=null,_0x499f9d,_0x5e6a45=null,_0x33097e=![],_0x289bdc=null){const _0x43be5d=_0x121993,_0x1a681b=document['getElementById'](_0x43be5d(0xb0d));_0x1a681b&&_0x1a681b[_0x43be5d(0x98c)]({'behavior':_0x43be5d(0x4f5),'block':_0x43be5d(0xdb9)}),generateQuiz(_0x20d0e8,_0x28147c,null,_0x289bdc,!![],_0x499f9d,_0x5e6a45,_0x33097e);}function handleGenerateAndShowLesson(_0x252967,_0x41bba3){const _0x39ded0=_0x121993,_0x4135ee=document[_0x39ded0(0x2f7)](_0x39ded0(0x562)),_0x3d55bd=document[_0x39ded0(0x2f7)](_0x39ded0(0x67e)),_0x4b77c1=document[_0x39ded0(0x2f7)]('lesson-loader'),_0x1d48a0=document[_0x39ded0(0x2f7)](_0x39ded0(0x2f3));[_0x39ded0(0xd7c),_0x39ded0(0x57c),_0x39ded0(0xda4),_0x39ded0(0xab4)][_0x39ded0(0x616)](_0x215b3a=>{const _0x5e4a70=_0x39ded0,_0x3408e6=document[_0x5e4a70(0x2f7)](_0x215b3a)['parentElement'];_0x3408e6&&(_0x3408e6[_0x5e4a70(0x259)][_0x5e4a70(0x8aa)]=_0x5e4a70(0xc12));}),_0x3d55bd['textContent']=_0x39ded0(0xd9a)+_0x252967,_0x1d48a0['classList'][_0x39ded0(0x30d)](_0x39ded0(0xad0)),_0x4b77c1[_0x39ded0(0x2ff)]['remove']('hidden'),_0x4135ee['classList'][_0x39ded0(0x2cf)](_0x39ded0(0xad0)),generateLesson(_0x252967,_0x41bba3)[_0x39ded0(0x57f)](_0x3110af=>{const _0xfb8449=_0x39ded0;console[_0xfb8449(0x274)](_0xfb8449(0x627),_0x3110af),showMessage(_0xfb8449(0x83a)),_0x4135ee[_0xfb8449(0x2ff)][_0xfb8449(0x30d)](_0xfb8449(0xad0));});}function handlePointerDown(_0x5cf4f4){const _0x2f1934=_0x121993;_0x5cf4f4[_0x2f1934(0xd5c)]();const _0x2ddbab=scratchpadCtx[_0x2f1934(0x9cc)],_0x10392f=_0x2ddbab['getBoundingClientRect'](),_0x13b8bf=_0x5cf4f4['pointerType']||(_0x5cf4f4[_0x2f1934(0x8a3)]?_0x2f1934(0xa40):_0x2f1934(0x38b));if(_0x13b8bf===_0x2f1934(0x221)||_0x13b8bf===_0x2f1934(0x38b)){if(_0x5cf4f4[_0x2f1934(0x303)]===_0x2f1934(0x38b)&&_0x5cf4f4[_0x2f1934(0x64b)]!==0x0){_0x5cf4f4[_0x2f1934(0x64b)]===0x1&&(isMousePanning=!![],panStart={'x':_0x5cf4f4[_0x2f1934(0xc1c)],'y':_0x5cf4f4[_0x2f1934(0x639)]},_0x2ddbab[_0x2f1934(0x259)][_0x2f1934(0x69e)]=_0x2f1934(0x522));return;}activeTool===_0x2f1934(0x800)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2feb45=getTransformedPoint(_0x5cf4f4[_0x2f1934(0xc1c)]-_0x10392f['left'],_0x5cf4f4[_0x2f1934(0x639)]-_0x10392f[_0x2f1934(0xa57)]);let _0x5ae5f8={'tool':activeTool,'points':[_0x2feb45]};if(activeTool===_0x2f1934(0x221))_0x5ae5f8['color']=scratchpadPenColor,_0x5ae5f8[_0x2f1934(0x3e3)]=scratchpadPenSize;else{if(activeTool===_0x2f1934(0x72d))_0x5ae5f8['color']=scratchpadPenColor,_0x5ae5f8['size']=scratchpadEraserSize;else{if(activeTool===_0x2f1934(0xa46))_0x5ae5f8[_0x2f1934(0x84b)]=scratchpadHighlighterColor,_0x5ae5f8[_0x2f1934(0x3e3)]=scratchpadHighlighterSize;else activeTool===_0x2f1934(0x800)&&(_0x5ae5f8[_0x2f1934(0x84b)]=scratchpadPenColor,_0x5ae5f8[_0x2f1934(0x3e3)]=scratchpadPenSize);}}currentStroke=_0x5ae5f8;}else _0x5cf4f4[_0x2f1934(0x8a3)]&&(_0x5cf4f4[_0x2f1934(0x8a3)][_0x2f1934(0x2b5)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x5cf4f4[_0x2f1934(0x8a3)][0x0][_0x2f1934(0xc1c)],'y':_0x5cf4f4[_0x2f1934(0x8a3)][0x0][_0x2f1934(0x639)]},{'x':_0x5cf4f4[_0x2f1934(0x8a3)][0x1]['clientX'],'y':_0x5cf4f4['touches'][0x1][_0x2f1934(0x639)]}),initialPinchDistance=getDistance({'x':_0x5cf4f4['touches'][0x0][_0x2f1934(0xc1c)],'y':_0x5cf4f4[_0x2f1934(0x8a3)][0x0][_0x2f1934(0x639)]},{'x':_0x5cf4f4[_0x2f1934(0x8a3)][0x1][_0x2f1934(0xc1c)],'y':_0x5cf4f4['touches'][0x1][_0x2f1934(0x639)]})));}function animateTrail(){const _0x131bca=_0x121993,_0x483a3b=Date[_0x131bca(0x2a6)]();let _0x59426b=![];for(let _0x57cb6b=strokes['length']-0x1;_0x57cb6b>=0x0;_0x57cb6b--){const _0x1fcab8=strokes[_0x57cb6b];if(_0x1fcab8[_0x131bca(0x2de)]==='trail'&&_0x1fcab8[_0x131bca(0x823)]){const _0x170c64=_0x483a3b-_0x1fcab8[_0x131bca(0x823)];_0x170c64>=TRAIL_DURATION?strokes[_0x131bca(0x1c9)](_0x57cb6b,0x1):(_0x1fcab8[_0x131bca(0xa42)]=0x1-_0x170c64/TRAIL_DURATION,_0x59426b=!![]);}}redrawScratchpad(),_0x59426b?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x72b60b){const _0x1acef8=_0x121993;if(!_0x72b60b||_0x72b60b[_0x1acef8(0xcaf)]['length']<0x1)return;scratchpadCtx[_0x1acef8(0x5d1)](),scratchpadCtx[_0x1acef8(0x697)]=_0x1acef8(0x91d),scratchpadCtx[_0x1acef8(0x5e5)]='round';if(_0x72b60b[_0x1acef8(0x2de)]===_0x1acef8(0x800)){const _0x266e0e=_0x72b60b['size']/scratchpadScale;scratchpadCtx[_0x1acef8(0x534)]=_0x72b60b['opacity']??0x1,scratchpadCtx[_0x1acef8(0xb25)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x1acef8(0xc79)]=_0x266e0e*0x3,scratchpadCtx['strokeStyle']='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x1acef8(0x4db)]=_0x266e0e*2.5,scratchpadCtx[_0x1acef8(0x5a4)](),scratchpadCtx[_0x1acef8(0xc11)](_0x72b60b[_0x1acef8(0xcaf)][0x0]['x'],_0x72b60b[_0x1acef8(0xcaf)][0x0]['y']);for(let _0x2bcfbf=0x1;_0x2bcfbf<_0x72b60b['points'][_0x1acef8(0x2b5)]-0x1;_0x2bcfbf++){const _0x2dc88f=getMidpoint(_0x72b60b[_0x1acef8(0xcaf)][_0x2bcfbf],_0x72b60b[_0x1acef8(0xcaf)][_0x2bcfbf+0x1]);scratchpadCtx[_0x1acef8(0x8e6)](_0x72b60b[_0x1acef8(0xcaf)][_0x2bcfbf]['x'],_0x72b60b['points'][_0x2bcfbf]['y'],_0x2dc88f['x'],_0x2dc88f['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x1acef8(0xb25)]=_0x1acef8(0xa3a),scratchpadCtx[_0x1acef8(0xc79)]=0x0,scratchpadCtx[_0x1acef8(0x582)]='#FFFFFF',scratchpadCtx[_0x1acef8(0x4db)]=_0x266e0e,scratchpadCtx[_0x1acef8(0x27d)](),scratchpadCtx[_0x1acef8(0x778)]();}else{if(_0x72b60b[_0x1acef8(0x2de)]===_0x1acef8(0xa46)){scratchpadCtx[_0x1acef8(0xa6a)]=_0x1acef8(0xba7),scratchpadCtx[_0x1acef8(0x582)]=_0x72b60b[_0x1acef8(0x84b)],scratchpadCtx[_0x1acef8(0x4db)]=_0x72b60b[_0x1acef8(0x3e3)],scratchpadCtx[_0x1acef8(0x5a4)](),scratchpadCtx[_0x1acef8(0xc11)](_0x72b60b[_0x1acef8(0xcaf)][0x0]['x'],_0x72b60b['points'][0x0]['y']);for(let _0x3a67a6=0x1;_0x3a67a6<_0x72b60b[_0x1acef8(0xcaf)][_0x1acef8(0x2b5)]-0x1;_0x3a67a6++){const _0x243ff6=getMidpoint(_0x72b60b[_0x1acef8(0xcaf)][_0x3a67a6],_0x72b60b[_0x1acef8(0xcaf)][_0x3a67a6+0x1]);scratchpadCtx['quadraticCurveTo'](_0x72b60b[_0x1acef8(0xcaf)][_0x3a67a6]['x'],_0x72b60b[_0x1acef8(0xcaf)][_0x3a67a6]['y'],_0x243ff6['x'],_0x243ff6['y']);}scratchpadCtx[_0x1acef8(0x27d)](),scratchpadCtx[_0x1acef8(0x778)]();}else{scratchpadCtx['globalCompositeOperation']=_0x72b60b['tool']==='eraser'?_0x1acef8(0x819):_0x1acef8(0x9c6),scratchpadCtx['strokeStyle']=_0x72b60b[_0x1acef8(0x84b)],scratchpadCtx[_0x1acef8(0x4db)]=_0x72b60b['size'],scratchpadCtx[_0x1acef8(0x5a4)](),scratchpadCtx[_0x1acef8(0xc11)](_0x72b60b[_0x1acef8(0xcaf)][0x0]['x'],_0x72b60b[_0x1acef8(0xcaf)][0x0]['y']);for(let _0xc477e7=0x1;_0xc477e7<_0x72b60b[_0x1acef8(0xcaf)]['length']-0x1;_0xc477e7++){const _0x4287cf=getMidpoint(_0x72b60b[_0x1acef8(0xcaf)][_0xc477e7],_0x72b60b[_0x1acef8(0xcaf)][_0xc477e7+0x1]);scratchpadCtx[_0x1acef8(0x8e6)](_0x72b60b[_0x1acef8(0xcaf)][_0xc477e7]['x'],_0x72b60b[_0x1acef8(0xcaf)][_0xc477e7]['y'],_0x4287cf['x'],_0x4287cf['y']);}scratchpadCtx[_0x1acef8(0x27d)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x1acef8(0x478)]();}function handlePointerMove(_0x418258){const _0x2c0ae1=_0x121993;_0x418258[_0x2c0ae1(0xd5c)]();const _0x24e6ec=scratchpadCtx[_0x2c0ae1(0x9cc)],_0x130ffc=_0x24e6ec[_0x2c0ae1(0xc65)]();if(_0x418258[_0x2c0ae1(0x8a3)]){if(_0x418258[_0x2c0ae1(0x8a3)][_0x2c0ae1(0x2b5)]===0x1&&isDrawingOnScratchpad){const _0x1095df=getTransformedPoint(_0x418258[_0x2c0ae1(0x8a3)][0x0][_0x2c0ae1(0xc1c)]-_0x130ffc[_0x2c0ae1(0x917)],_0x418258[_0x2c0ae1(0x8a3)][0x0][_0x2c0ae1(0x639)]-_0x130ffc['top']);currentStroke[_0x2c0ae1(0xcaf)][_0x2c0ae1(0xdc4)](_0x1095df),redrawScratchpad();}else{if(_0x418258[_0x2c0ae1(0x8a3)][_0x2c0ae1(0x2b5)]===0x2&&isPanning){const _0xd1f65c=getDistance({'x':_0x418258['touches'][0x0]['clientX'],'y':_0x418258[_0x2c0ae1(0x8a3)][0x0]['clientY']},{'x':_0x418258[_0x2c0ae1(0x8a3)][0x1][_0x2c0ae1(0xc1c)],'y':_0x418258[_0x2c0ae1(0x8a3)][0x1]['clientY']}),_0x3068a4=getMidpoint({'x':_0x418258['touches'][0x0][_0x2c0ae1(0xc1c)],'y':_0x418258[_0x2c0ae1(0x8a3)][0x0][_0x2c0ae1(0x639)]},{'x':_0x418258['touches'][0x1][_0x2c0ae1(0xc1c)],'y':_0x418258[_0x2c0ae1(0x8a3)][0x1]['clientY']}),_0x45bb38=_0xd1f65c/ initialPinchDistance,_0x53e5c2=Math['min'](Math[_0x2c0ae1(0x73a)](scratchpadScale*_0x45bb38,MIN_SCALE),MAX_SCALE),_0x2041d3=_0x3068a4['x']-panStart['x'],_0x27c991=_0x3068a4['y']-panStart['y'];scratchpadOffset['x']=_0x3068a4['x']-(_0x3068a4['x']-scratchpadOffset['x'])*(_0x53e5c2/scratchpadScale),scratchpadOffset['y']=_0x3068a4['y']-(_0x3068a4['y']-scratchpadOffset['y'])*(_0x53e5c2/scratchpadScale),scratchpadOffset['x']+=_0x2041d3,scratchpadOffset['y']+=_0x27c991,scratchpadScale=_0x53e5c2,initialPinchDistance=_0xd1f65c,panStart=_0x3068a4,redrawScratchpad();}}}else{if(isMousePanning){const _0x2abdcd=_0x418258['clientX']-panStart['x'],_0xcec0c=_0x418258[_0x2c0ae1(0x639)]-panStart['y'];scratchpadOffset['x']+=_0x2abdcd,scratchpadOffset['y']+=_0xcec0c,panStart={'x':_0x418258['clientX'],'y':_0x418258['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x3cbf2d=getTransformedPoint(_0x418258[_0x2c0ae1(0xc1c)]-_0x130ffc[_0x2c0ae1(0x917)],_0x418258[_0x2c0ae1(0x639)]-_0x130ffc[_0x2c0ae1(0xa57)]);currentStroke[_0x2c0ae1(0xcaf)][_0x2c0ae1(0xdc4)](_0x3cbf2d),redrawScratchpad();}}}}function handlePointerUp(_0x3d8e23){const _0x54e508=_0x121993;_0x3d8e23[_0x54e508(0xd5c)]();const _0x1224ca=scratchpadCtx[_0x54e508(0x9cc)];isMousePanning&&(isMousePanning=![],_0x1224ca[_0x54e508(0x259)][_0x54e508(0x69e)]=_0x54e508(0x33b)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x54e508(0xcaf)][_0x54e508(0x2b5)]>0x1&&(strokes[_0x54e508(0xdc4)](currentStroke),currentStroke[_0x54e508(0x2de)]===_0x54e508(0x800)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x442ee3=_0x54e508,_0x1b3bcc=strokes[_0x442ee3(0x9a7)](_0x12d603=>_0x12d603[_0x442ee3(0x2de)]===_0x442ee3(0x800)&&!_0x12d603[_0x442ee3(0x823)]);if(_0x1b3bcc[_0x442ee3(0x2b5)]>0x0){const _0x511dfe=Date[_0x442ee3(0x2a6)]();_0x1b3bcc[_0x442ee3(0x616)](_0x5a1204=>_0x5a1204[_0x442ee3(0x823)]=_0x511dfe),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x16c536){const _0x500eae=_0x121993;_0x16c536[_0x500eae(0xd5c)]();const _0x3b3d4a=_0x16c536[_0x500eae(0xd6b)]*-0.005,_0x1a9e05=Math[_0x500eae(0xd4b)](Math[_0x500eae(0x73a)](scratchpadScale+_0x3b3d4a,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x16c536[_0x500eae(0xc1c)]-(_0x16c536[_0x500eae(0xc1c)]-scratchpadOffset['x'])*(_0x1a9e05/scratchpadScale),scratchpadOffset['y']=_0x16c536[_0x500eae(0x639)]-(_0x16c536['clientY']-scratchpadOffset['y'])*(_0x1a9e05/scratchpadScale),scratchpadScale=_0x1a9e05,redrawScratchpad();}function undo(){const _0x427777=_0x121993;strokes[_0x427777(0x2b5)]>0x0&&(redoStrokes[_0x427777(0xdc4)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x467463=_0x121993;redoStrokes[_0x467463(0x2b5)]>0x0&&(strokes[_0x467463(0xdc4)](redoStrokes[_0x467463(0x1fb)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x473f4f=_0x121993;document['getElementById']('undo-btn')['disabled']=strokes[_0x473f4f(0x2b5)]===0x0,document['getElementById'](_0x473f4f(0xbb6))[_0x473f4f(0x687)]=redoStrokes[_0x473f4f(0x2b5)]===0x0;}function openScratchpad(_0x327006,_0x5933a5){const _0x2f9db4=_0x121993,_0x141b90=document['getElementById']('scratchpad-modal'),_0x37a317=document['getElementById'](_0x2f9db4(0xcb0)),_0x3a1d8f=document['getElementById'](_0x2f9db4(0x389)),_0x5be2a3=document[_0x2f9db4(0x2f7)](_0x2f9db4(0xab6));_0x37a317[_0x2f9db4(0x8c4)]=_0x327006['stem']||_0x327006['questionText'],_0x3a1d8f[_0x2f9db4(0x8c4)]=_0x5933a5['map']((_0x4e6340,_0x46823e)=>_0x2f9db4(0x80e)+String[_0x2f9db4(0xdbf)](0x41+_0x46823e)+'.\x20'+_0x4e6340+_0x2f9db4(0x72e))[_0x2f9db4(0x5c4)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x141b90['classList']['remove'](_0x2f9db4(0xad0)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x2f9db4(0xc16)])MathJax['typesetPromise']([_0x37a317,_0x3a1d8f]);}function openBlueprintQuizSettings(){const _0x5ec493=_0x121993,_0x361c1d=document[_0x5ec493(0x2f7)](_0x5ec493(0xcbf)),_0x51a18c=blueprintPageSettings||(currentProjectData?currentProjectData[_0x5ec493(0x5a5)]:{})||{};document['getElementById'](_0x5ec493(0x884))[_0x5ec493(0x5b6)]=_0x51a18c[_0x5ec493(0x4d2)]||document[_0x5ec493(0x2f7)](_0x5ec493(0xb3e))['value'],document['getElementById'](_0x5ec493(0x9a9))[_0x5ec493(0x8c4)]=document['getElementById']('difficulty-level-select')['innerHTML'],document[_0x5ec493(0x2f7)]('bp-modal-difficulty-level-select')[_0x5ec493(0x5b6)]=_0x51a18c[_0x5ec493(0x246)]||document['getElementById'](_0x5ec493(0x8f0))[_0x5ec493(0x5b6)],document['getElementById'](_0x5ec493(0x33c))['innerHTML']=document[_0x5ec493(0x2f7)](_0x5ec493(0xdc9))['innerHTML'],document[_0x5ec493(0x2f7)]('bp-modal-question-complexity-select')[_0x5ec493(0x5b6)]=_0x51a18c[_0x5ec493(0xd4a)]||document[_0x5ec493(0x2f7)](_0x5ec493(0xdc9))['value'],document['getElementById'](_0x5ec493(0x52a))[_0x5ec493(0x5b6)]=_0x51a18c[_0x5ec493(0xc90)]||document['getElementById']('num-questions')[_0x5ec493(0x5b6)],document['getElementById'](_0x5ec493(0x87d))[_0x5ec493(0x5b6)]=_0x51a18c[_0x5ec493(0x765)]||document['getElementById']('passing-score-input')[_0x5ec493(0x5b6)],document[_0x5ec493(0x2f7)]('bp-modal-num-choices')[_0x5ec493(0x5b6)]=_0x51a18c[_0x5ec493(0x3d0)]||document[_0x5ec493(0x2f7)](_0x5ec493(0x9cb))[_0x5ec493(0x5b6)],document['getElementById'](_0x5ec493(0x498))[_0x5ec493(0x5b6)]=_0x51a18c[_0x5ec493(0xb64)]||document[_0x5ec493(0x2f7)](_0x5ec493(0x8c2))[_0x5ec493(0x5b6)],document[_0x5ec493(0x2f7)](_0x5ec493(0xabb))[_0x5ec493(0x28f)]=_0x51a18c[_0x5ec493(0x567)]||document['getElementById'](_0x5ec493(0x213))['checked'],_0x361c1d[_0x5ec493(0x2ff)]['remove'](_0x5ec493(0xad0));}function handleSaveBlueprintPageSettings(){const _0xc98791=_0x121993;blueprintPageSettings={'quizType':document[_0xc98791(0x2f7)](_0xc98791(0x884))[_0xc98791(0x5b6)],'difficultyValue':document[_0xc98791(0x2f7)](_0xc98791(0x9a9))[_0xc98791(0x5b6)],'complexityValue':document['getElementById']('bp-modal-question-complexity-select')[_0xc98791(0x5b6)],'numQuestions':document[_0xc98791(0x2f7)](_0xc98791(0x52a))['value'],'passingScore':document['getElementById'](_0xc98791(0x87d))[_0xc98791(0x5b6)],'numChoices':document[_0xc98791(0x2f7)](_0xc98791(0x3cd))[_0xc98791(0x5b6)],'shuffle':document[_0xc98791(0x2f7)](_0xc98791(0x498))[_0xc98791(0x5b6)],'includeImages':document[_0xc98791(0x2f7)](_0xc98791(0xabb))[_0xc98791(0x28f)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document['getElementById']('blueprint-settings-modal')[_0xc98791(0x2ff)][_0xc98791(0x30d)]('hidden');}function listenForParallelTestShortcuts(){const _0x13ecb5=_0x121993,_0x111ee8=doc(db,_0x13ecb5(0xb89),_0x13ecb5(0x7fb));onSnapshot(_0x111ee8,_0xd574d7=>{const _0x194751=_0x13ecb5;let _0x16fa65=[],_0x2e621a=[],_0x459e61={};if(_0xd574d7[_0x194751(0x75c)]()){const _0x52dea4=_0xd574d7[_0x194751(0x72a)]();_0x16fa65=_0x52dea4[_0x194751(0x731)]||[],_0x2e621a=_0x52dea4[_0x194751(0x2a3)]||[],_0x459e61=_0x52dea4[_0x194751(0x694)]||{};}!_0x2e621a[_0x194751(0x266)](_0x1e0717=>_0x1e0717['id']===_0x194751(0x943))&&_0x2e621a['unshift']({'id':_0x194751(0x943),'name':_0x194751(0xd46),'isDefault':!![]}),!_0x16fa65[_0x194751(0x266)](_0x2e8dae=>_0x2e8dae['id']===_0x194751(0xc2a))&&_0x16fa65[_0x194751(0xb24)]({'id':_0x194751(0xc2a),'name':_0x194751(0x8e3),'url':'','isDefault':!![]}),!_0x16fa65['find'](_0x5eb366=>_0x5eb366['id']===_0x194751(0x74f))&&_0x16fa65[_0x194751(0xb24)]({'id':_0x194751(0x74f),'name':_0x194751(0x1d2),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x16fa65,parallelShortcutTabs=_0x2e621a,parallelShortcutOrder=_0x459e61,renderParallelTestShortcuts(),!document[_0x194751(0x2f7)](_0x194751(0x49a))[_0x194751(0x2ff)][_0x194751(0x416)](_0x194751(0xad0))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x4c59e1=_0x121993,_0x49affc=doc(db,_0x4c59e1(0xb89),_0x4c59e1(0x7fb));try{await setDoc(_0x49affc,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x4651d4){console['error'](_0x4c59e1(0x376),_0x4651d4);}}function renderAdditionalParallelShortcutsModal(){const _0x3eb537=_0x121993,_0x57f67d=document['getElementById'](_0x3eb537(0x909)),_0x3ca63e=document['getElementById']('additional-parallel-shortcuts-list');if(!_0x57f67d||!_0x3ca63e)return;_0x57f67d[_0x3eb537(0x8c4)]=parallelShortcutTabs[_0x3eb537(0xce7)](_0x500c19=>{const _0x20b7f6=_0x3eb537,_0x5c99f0=_0x500c19['id']===activeParallelShortcutTabId;return _0x20b7f6(0xa05)+_0x500c19['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x5c99f0?_0x20b7f6(0xbf3):_0x20b7f6(0x382))+_0x20b7f6(0x777)+_0x500c19[_0x20b7f6(0xa7e)]+_0x20b7f6(0x790)+_0x500c19[_0x20b7f6(0xa7e)]+_0x20b7f6(0x73b)+(!_0x500c19['isDefault']?'<button\x20data-tab-id=\x22'+_0x500c19['id']+_0x20b7f6(0x43d):'')+_0x20b7f6(0x6ed);})['join']('');const _0x1a6d72=parallelShortcutTabs['find'](_0x2e4477=>_0x2e4477['id']===activeParallelShortcutTabId);let _0x4eb926=_0x1a6d72?.[_0x3eb537(0x5d0)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0xe3c8aa=>(_0x1a6d72?.['shortcutIds']||[])[_0x3eb537(0xcec)](_0xe3c8aa['id']));const _0x3481cd=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x4eb926[_0x3eb537(0x423)]((_0x4568db,_0x70ca9c)=>{const _0x421321=_0x3eb537,_0x1c54bb=_0x3481cd[_0x421321(0xc45)](_0x4568db['id']),_0x493711=_0x3481cd['indexOf'](_0x70ca9c['id']);return(_0x1c54bb===-0x1?Infinity:_0x1c54bb)-(_0x493711===-0x1?Infinity:_0x493711);}),_0x3ca63e[_0x3eb537(0x8c4)]=_0x4eb926[_0x3eb537(0xce7)](_0x1abe97=>{const _0x14725d=_0x3eb537,_0xf0eac7=_0x1abe97[_0x14725d(0x25a)]?'🔁':'🔗',_0x5bb2a2=parallelShortcutTabs['filter'](_0x5151a8=>!_0x5151a8[_0x14725d(0x5d0)]),_0x1ff5a5=_0x1a6d72['isDefault']&&_0x5bb2a2[_0x14725d(0x2b5)]>0x0?_0x14725d(0xab0)+_0x5bb2a2[_0x14725d(0xce7)](_0x3a1f49=>_0x14725d(0xce9)+_0x1abe97['id']+_0x14725d(0x374)+_0x3a1f49['id']+'\x22>'+_0x3a1f49[_0x14725d(0xa7e)]+_0x14725d(0xa6d))['join']('')+_0x14725d(0x506):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x1abe97['id']+_0x14725d(0xc02)+_0xf0eac7+'\x20'+_0x1abe97[_0x14725d(0xa7e)]+_0x14725d(0x44d)+_0x1abe97['id']+_0x14725d(0x52e)+_0x1abe97['id']+_0x14725d(0x72c)+(!_0x1abe97[_0x14725d(0x5d0)]?_0x14725d(0xdfc)+_0x1abe97['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x14725d(0x5fa)+(!_0x1a6d72[_0x14725d(0x5d0)]?_0x14725d(0x42c)+_0x1abe97['id']+_0x14725d(0xbb5):'')+_0x14725d(0x5fa)+_0x1ff5a5+_0x14725d(0x294);})[_0x3eb537(0x5c4)]('')||_0x3eb537(0xc43),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4d7d18=_0x121993;document[_0x4d7d18(0x4cb)](_0x4d7d18(0x415))[_0x4d7d18(0x616)](_0x4fdaa7=>{const _0x497b9d=_0x4d7d18;_0x4fdaa7[_0x497b9d(0x717)]=_0x2eb1a7=>{const _0x239ee7=_0x497b9d;activeParallelShortcutTabId=_0x2eb1a7[_0x239ee7(0x305)][_0x239ee7(0x683)][_0x239ee7(0x9e5)],renderAdditionalParallelShortcutsModal();},_0x4fdaa7[_0x497b9d(0x873)]=_0x3995fb=>{const _0x2ae169=_0x497b9d,_0x573c42=_0x3995fb[_0x2ae169(0x305)][_0x2ae169(0x839)](_0x2ae169(0x980));_0x3995fb[_0x2ae169(0x305)]['querySelector'](_0x2ae169(0xd4d))[_0x2ae169(0x2ff)][_0x2ae169(0x30d)]('hidden'),_0x573c42[_0x2ae169(0x2ff)][_0x2ae169(0x2cf)](_0x2ae169(0xad0)),_0x573c42[_0x2ae169(0x383)](),_0x573c42['select']();};}),document[_0x4d7d18(0x4cb)](_0x4d7d18(0x362))[_0x4d7d18(0x616)](_0x47b12b=>{const _0x13acb2=_0x4d7d18,_0x41d422=()=>{const _0x24af7d=_0x32db,_0x47a8d8=_0x47b12b[_0x24af7d(0xb5f)](_0x24af7d(0x415))[_0x24af7d(0x683)][_0x24af7d(0x9e5)],_0x4d206f=parallelShortcutTabs[_0x24af7d(0x266)](_0x4bf1a2=>_0x4bf1a2['id']===_0x47a8d8);_0x4d206f&&(_0x4d206f[_0x24af7d(0xa7e)]=_0x47b12b[_0x24af7d(0x5b6)]['trim']()||_0x4d206f['name'],saveParallelShortcutConfig());};_0x47b12b[_0x13acb2(0x693)]=_0x41d422,_0x47b12b['onkeydown']=_0x209f8d=>{const _0x36220c=_0x13acb2;if(_0x209f8d[_0x36220c(0xb94)]===_0x36220c(0x3c4))_0x47b12b['blur']();};}),document[_0x4d7d18(0x4cb)](_0x4d7d18(0xbb1))[_0x4d7d18(0x616)](_0x363b39=>_0x363b39[_0x4d7d18(0x717)]=_0x320d5c=>{const _0x2bb544=_0x4d7d18,_0x19fab2=_0x320d5c[_0x2bb544(0x305)][_0x2bb544(0x683)]['tabId'];showConfirmation(_0x2bb544(0x399),()=>{const _0x378abb=_0x2bb544;parallelShortcutTabs=parallelShortcutTabs[_0x378abb(0x9a7)](_0x94a145=>_0x94a145['id']!==_0x19fab2),delete parallelShortcutOrder[_0x19fab2];if(activeParallelShortcutTabId===_0x19fab2)activeParallelShortcutTabId=_0x378abb(0x943);saveParallelShortcutConfig();});}),document[_0x4d7d18(0x4cb)](_0x4d7d18(0x791))[_0x4d7d18(0x616)](_0x16e45b=>_0x16e45b['onclick']=_0x144017=>{const _0x2a72c7=_0x4d7d18;_0x144017[_0x2a72c7(0xd5c)]();const {shortcutId:_0x358e4f,targetTabId:_0x2f6143}=_0x144017['currentTarget']['dataset'],_0x1bb31b=parallelShortcutTabs[_0x2a72c7(0x266)](_0x1fe47a=>_0x1fe47a['id']===_0x2f6143);_0x1bb31b&&!_0x1bb31b['shortcutIds']['includes'](_0x358e4f)&&(_0x1bb31b[_0x2a72c7(0xc63)][_0x2a72c7(0xdc4)](_0x358e4f),saveParallelShortcutConfig());}),document[_0x4d7d18(0x4cb)]('.remove-parallel-shortcut-from-tab-btn')[_0x4d7d18(0x616)](_0xb4292=>_0xb4292[_0x4d7d18(0x717)]=_0x5b591f=>{const _0x232da3=_0x4d7d18,_0x48c10e=_0x5b591f[_0x232da3(0x305)]['dataset'][_0x232da3(0x3a1)],_0xfbfccb=parallelShortcutTabs[_0x232da3(0x266)](_0x4d1591=>_0x4d1591['id']===activeParallelShortcutTabId);_0xfbfccb&&!_0xfbfccb[_0x232da3(0x5d0)]&&(_0xfbfccb[_0x232da3(0xc63)]=_0xfbfccb[_0x232da3(0xc63)][_0x232da3(0x9a7)](_0x48887d=>_0x48887d!==_0x48c10e),saveParallelShortcutConfig());}),document[_0x4d7d18(0x4cb)](_0x4d7d18(0x7ec))[_0x4d7d18(0x616)](_0x69f557=>_0x69f557[_0x4d7d18(0x717)]=_0x21c5c7=>{const _0x27c3eb=_0x4d7d18;_0x21c5c7['stopPropagation']();const _0xd4faaa=_0x21c5c7[_0x27c3eb(0x305)][_0x27c3eb(0x763)];document['querySelectorAll']('.move-parallel-shortcut-dropdown')[_0x27c3eb(0x616)](_0x42eac2=>_0x42eac2['classList'][_0x27c3eb(0x30d)](_0x27c3eb(0xad0))),_0xd4faaa[_0x27c3eb(0x2ff)][_0x27c3eb(0x2cf)]('hidden');});const _0x1b4e41=document[_0x4d7d18(0x2f7)]('additional-parallel-shortcuts-list');let _0x445ebc=null;_0x1b4e41['ondragstart']=_0x181ce1=>{const _0x35dbcb=_0x4d7d18;_0x445ebc=_0x181ce1[_0x35dbcb(0x898)][_0x35dbcb(0xb5f)](_0x35dbcb(0x313));if(_0x445ebc)setTimeout(()=>_0x445ebc[_0x35dbcb(0x2ff)][_0x35dbcb(0x30d)]('opacity-50'),0x0);},_0x1b4e41[_0x4d7d18(0xe0a)]=()=>{const _0x315169=_0x4d7d18;_0x445ebc&&(_0x445ebc[_0x315169(0x2ff)][_0x315169(0x2cf)](_0x315169(0xb00)),_0x445ebc=null);},_0x1b4e41[_0x4d7d18(0x860)]=_0x131aad=>{const _0x1193a9=_0x4d7d18;_0x131aad[_0x1193a9(0xd5c)]();},_0x1b4e41[_0x4d7d18(0xd76)]=_0x43504d=>{const _0x4b9092=_0x4d7d18;_0x43504d[_0x4b9092(0xd5c)]();if(_0x445ebc){const _0x119d64=[..._0x1b4e41[_0x4b9092(0x4cb)]('.shortcut-list-item:not(.opacity-50)')][_0x4b9092(0x971)]((_0xec9da8,_0x34ad6b)=>{const _0x1117b5=_0x4b9092,_0x1e75e7=_0x34ad6b[_0x1117b5(0xc65)](),_0x51b8a2=_0x43504d[_0x1117b5(0x639)]-_0x1e75e7[_0x1117b5(0xa57)]-_0x1e75e7[_0x1117b5(0x77b)]/0x2;return _0x51b8a2<0x0&&_0x51b8a2>_0xec9da8[_0x1117b5(0x544)]?{'offset':_0x51b8a2,'element':_0x34ad6b}:_0xec9da8;},{'offset':Number[_0x4b9092(0x96b)]})['element'];_0x119d64==null?_0x1b4e41[_0x4b9092(0xd74)](_0x445ebc):_0x1b4e41[_0x4b9092(0xaa3)](_0x445ebc,_0x119d64);const _0x7e8260=[..._0x1b4e41[_0x4b9092(0x4cb)](_0x4b9092(0x313))][_0x4b9092(0xce7)](_0xaefc4=>_0xaefc4['dataset']['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x7e8260,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x454d06=_0x121993,_0x445208=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x445208&&_0x445208[_0x454d06(0xe11)]()&&(parallelShortcutTabs['push']({'id':_0x454d06(0x370)+Date['now'](),'name':_0x445208[_0x454d06(0xe11)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x2f2a4d=_0x121993,_0x20cdfd=document[_0x2f2a4d(0x2f7)](_0x2f2a4d(0xc76)),_0x3a800d=document['getElementById'](_0x2f2a4d(0xac2)),_0x5aa361=document[_0x2f2a4d(0x2f7)](_0x2f2a4d(0x60e));if(_0x5aa361)_0x5aa361['classList'][_0x2f2a4d(0x30d)](_0x2f2a4d(0xad0));if(!_0x20cdfd||!_0x3a800d)return;const _0x1bc05e=parallelTestShortcuts[_0x2f2a4d(0x7bc)](0x0,0x4),_0x575962=parallelTestShortcuts[_0x2f2a4d(0x7bc)](0x4);_0x20cdfd[_0x2f2a4d(0x8c4)]=_0x1bc05e[_0x2f2a4d(0xce7)](_0x454919=>{const _0x15f652=_0x2f2a4d,_0x474e89=_0x454919[_0x15f652(0x25a)]&&_0x454919[_0x15f652(0x25a)][_0x15f652(0xe11)]()!=='',_0x15870a=_0x474e89?_0x15f652(0x3e7):_0x15f652(0x3f4),_0x4a5e56=_0x474e89?'🔁':'🔗',_0x50d1aa=!_0x454919['isDefault']?_0x15f652(0xdfc)+_0x454919['id']+_0x15f652(0x31c):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x454919['id']+_0x15f652(0xb90)+_0x15870a+_0x15f652(0x810)+_0x4a5e56+'\x20'+_0x454919[_0x15f652(0xa7e)]+_0x15f652(0x227)+_0x454919['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50d1aa+_0x15f652(0x706);})[_0x2f2a4d(0x5c4)](''),_0x575962[_0x2f2a4d(0x2b5)]>0x0&&(_0x20cdfd[_0x2f2a4d(0x8c4)]+=_0x2f2a4d(0x435)),_0x575962[_0x2f2a4d(0x2b5)]>0x0?_0x3a800d[_0x2f2a4d(0x8c4)]=_0x575962['map'](_0x3172ba=>_0x2f2a4d(0xa68)+(_0x3172ba[_0x2f2a4d(0x25a)]?'🔁':'🔗')+'\x20'+_0x3172ba[_0x2f2a4d(0xa7e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3172ba['id']+_0x2f2a4d(0x477)+_0x3172ba['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3172ba[_0x2f2a4d(0x5d0)]?'<button\x20data-id=\x22'+_0x3172ba['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2f2a4d(0x5c4)](''):_0x3a800d[_0x2f2a4d(0x8c4)]=_0x2f2a4d(0x1f3);}function openParallelTestShortcutEditor(_0x137fa4=null){const _0x44f060=_0x121993,_0x3e5553=document[_0x44f060(0x2f7)](_0x44f060(0xdc5)),_0x49ee79=document[_0x44f060(0x2f7)](_0x44f060(0x60f)),_0x34effd=document['getElementById'](_0x44f060(0xa54)),_0x1de848=document['getElementById'](_0x44f060(0xd9b)),_0x5bf459=document[_0x44f060(0x2f7)]('parallel-shortcut-url-input');if(_0x137fa4){const _0x43b3a4=parallelTestShortcuts[_0x44f060(0x266)](_0x5aa9c9=>_0x5aa9c9['id']===_0x137fa4);if(!_0x43b3a4)return;_0x49ee79['textContent']=_0x44f060(0xc6d),_0x34effd[_0x44f060(0x5b6)]=_0x43b3a4['id'],_0x1de848[_0x44f060(0x5b6)]=_0x43b3a4['name'],_0x5bf459[_0x44f060(0x5b6)]=_0x43b3a4['url']||'';}else _0x49ee79[_0x44f060(0xa28)]=_0x44f060(0x476),_0x34effd[_0x44f060(0x5b6)]='',_0x1de848[_0x44f060(0x5b6)]='',_0x5bf459[_0x44f060(0x5b6)]='';_0x3e5553[_0x44f060(0x2ff)][_0x44f060(0x2cf)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x54042c=_0x121993,_0x1b0076=document[_0x54042c(0x2f7)](_0x54042c(0xa54))[_0x54042c(0x5b6)],_0x4e542d=document[_0x54042c(0x2f7)](_0x54042c(0xd9b))[_0x54042c(0x5b6)][_0x54042c(0xe11)](),_0x24eb97=document[_0x54042c(0x2f7)](_0x54042c(0x93b))[_0x54042c(0x5b6)][_0x54042c(0xe11)]();if(!_0x4e542d){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x25c525={'id':_0x1b0076||_0x54042c(0xc80)+Date['now'](),'name':_0x4e542d,'url':_0x24eb97,'isDefault':_0x1b0076[_0x54042c(0x215)](_0x54042c(0x55c))};let _0x464b85;_0x1b0076?_0x464b85=parallelTestShortcuts['map'](_0x38e7c8=>_0x38e7c8['id']===_0x1b0076?_0x25c525:_0x38e7c8):_0x464b85=[...parallelTestShortcuts,_0x25c525];try{const _0x60635a=doc(db,_0x54042c(0xb89),_0x54042c(0x7fb));await setDoc(_0x60635a,{'shortcuts':_0x464b85},{'merge':!![]}),document[_0x54042c(0x2f7)]('parallel-shortcut-editor-modal')['classList']['add'](_0x54042c(0xad0));}catch(_0x10bab5){console[_0x54042c(0x274)]('Error\x20saving\x20parallel\x20shortcut:',_0x10bab5),showMessage(_0x54042c(0xb80));}}async function handleParallelTestShortcutClick(_0x231b49){const _0x28ac5a=_0x121993,_0x39a17f=parallelTestShortcuts['find'](_0x5bfd2f=>_0x5bfd2f['id']===_0x231b49);if(!_0x39a17f)return;if(!_0x39a17f[_0x28ac5a(0x25a)]||_0x39a17f['url'][_0x28ac5a(0xe11)]()===''){openParallelTestShortcutEditor(_0x231b49);return;}const _0x3cb4e0=document[_0x28ac5a(0x2f7)](_0x28ac5a(0xd29)),_0xa64c18=document[_0x28ac5a(0x2f7)](_0x28ac5a(0x488));document[_0x28ac5a(0x2f7)](_0x28ac5a(0xb0d))['classList'][_0x28ac5a(0x2cf)]('hidden'),document['getElementById'](_0x28ac5a(0xcd1))['innerHTML']='',_0x3cb4e0[_0x28ac5a(0x2ff)]['remove'](_0x28ac5a(0xad0)),_0xa64c18[_0x28ac5a(0xa28)]=_0x28ac5a(0x89d);try{let _0x5383b8;_0x39a17f[_0x28ac5a(0x25a)][_0x28ac5a(0xcfa)]()['includes'](_0x28ac5a(0x87c))?_0x5383b8=_0x28ac5a(0xb2e):_0x5383b8=_0x28ac5a(0x3db);const _0x2c2cdf=await fetchFileFromUrl(_0x39a17f['url'],_0x5383b8);await handleGenerateParallelTest(_0x2c2cdf);}catch(_0x1e7eab){console[_0x28ac5a(0x274)](_0x28ac5a(0xb0f),_0x1e7eab),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1e7eab['message']),_0x3cb4e0[_0x28ac5a(0x2ff)][_0x28ac5a(0x30d)](_0x28ac5a(0xad0));}}function initializeScratchpadCanvas(){const _0x32575b=_0x121993,_0xd60db2=document[_0x32575b(0x2f7)](_0x32575b(0x78b)),_0x2b96b2=document[_0x32575b(0x839)](_0x32575b(0x61c));if(!_0xd60db2||!_0x2b96b2)return;scratchpadCtx=_0xd60db2[_0x32575b(0x504)]('2d',{'willReadFrequently':!![]});const _0x57c1db=window[_0x32575b(0xd95)]||0x1,_0x252534=_0x2b96b2['getBoundingClientRect']();_0xd60db2[_0x32575b(0xa61)]=_0x252534[_0x32575b(0xa61)]*_0x57c1db,_0xd60db2[_0x32575b(0x77b)]=_0x252534['height']*_0x57c1db,_0xd60db2['style']['width']=_0x252534['width']+'px',_0xd60db2['style'][_0x32575b(0x77b)]=_0x252534[_0x32575b(0x77b)]+'px',scratchpadCtx['scale'](_0x57c1db,_0x57c1db),scratchpadCtx['lineJoin']=_0x32575b(0x91d),scratchpadCtx['lineCap']='round',_0xd60db2[_0x32575b(0x223)](_0x32575b(0xc97),handlePointerDown),_0xd60db2[_0x32575b(0x223)](_0x32575b(0x2d7),handlePointerMove),_0xd60db2[_0x32575b(0x223)](_0x32575b(0x710),handlePointerUp),_0xd60db2[_0x32575b(0x223)](_0x32575b(0xdb0),handlePointerUp),_0xd60db2[_0x32575b(0x223)](_0x32575b(0xabd),handleWheel),_0xd60db2[_0x32575b(0x223)](_0x32575b(0xa47),handlePointerDown),_0xd60db2['removeEventListener'](_0x32575b(0x5e8),handlePointerMove),_0xd60db2[_0x32575b(0x223)]('touchend',handlePointerUp),_0xd60db2[_0x32575b(0xdd3)]('pointerdown',handlePointerDown),_0xd60db2[_0x32575b(0xdd3)](_0x32575b(0x2d7),handlePointerMove),_0xd60db2['addEventListener'](_0x32575b(0x710),handlePointerUp),_0xd60db2[_0x32575b(0xdd3)](_0x32575b(0xdb0),handlePointerUp),_0xd60db2[_0x32575b(0xdd3)](_0x32575b(0xabd),handleWheel,{'passive':![]}),_0xd60db2[_0x32575b(0xdd3)](_0x32575b(0xa47),handlePointerDown,{'passive':![]}),_0xd60db2['addEventListener'](_0x32575b(0x5e8),handlePointerMove,{'passive':![]}),_0xd60db2[_0x32575b(0xdd3)](_0x32575b(0x485),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x339778=_0x121993,_0x48e392=document[_0x339778(0x2f7)](_0x339778(0x7b4)),_0x28c944=document[_0x339778(0x2f7)](_0x339778(0xab6));_0x28c944[_0x339778(0x8c4)]=_0x339778(0xbe0)+scratchpadHighlighterSize+_0x339778(0x3fb);const _0x102ac9=document['getElementById'](_0x339778(0xbbc)),_0x1a6437=document['getElementById'](_0x339778(0x4ef)),_0xba4521=document['getElementById']('trail-tool-btn'),_0x252a6d=document['getElementById'](_0x339778(0x65a)),_0x2afdf9=document['getElementById'](_0x339778(0x2c7)),_0x40fa11=document[_0x339778(0x2f7)](_0x339778(0x5fc)),_0x5214aa=document[_0x339778(0x2f7)](_0x339778(0xa0d)),_0x3fdc08=[_0x102ac9,_0x1a6437,_0xba4521,_0x252a6d];document[_0x339778(0x2f7)](_0x339778(0x4cf))[_0x339778(0xdd3)](_0x339778(0x754),()=>_0x48e392['classList'][_0x339778(0x30d)]('hidden')),document[_0x339778(0x2f7)](_0x339778(0x2ed))[_0x339778(0xdd3)](_0x339778(0x754),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x339778(0x2f7)](_0x339778(0x8f6))[_0x339778(0xdd3)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x339778(0xb8b))[_0x339778(0xdd3)](_0x339778(0x754),undo),document[_0x339778(0x2f7)](_0x339778(0xbb6))[_0x339778(0xdd3)]('click',redo);const _0x9dfdfa=_0x423d91=>{const _0x47a087=_0x339778;_0x3fdc08['forEach'](_0x1b1273=>_0x1b1273['classList'][_0x47a087(0x2cf)](_0x47a087(0x72f))),_0x423d91[_0x47a087(0x2ff)]['add'](_0x47a087(0x72f)),_0x2afdf9['classList'][_0x47a087(0x30d)](_0x47a087(0xad0)),_0x40fa11['classList']['add'](_0x47a087(0xad0)),_0x5214aa[_0x47a087(0x2ff)][_0x47a087(0x30d)]('hidden');if(activeTool===_0x47a087(0x221)||activeTool===_0x47a087(0x800))_0x2afdf9['classList'][_0x47a087(0x2cf)](_0x47a087(0xad0));else{if(activeTool==='highlighter')_0x40fa11[_0x47a087(0x2ff)][_0x47a087(0x2cf)](_0x47a087(0xad0));else activeTool==='eraser'&&_0x5214aa[_0x47a087(0x2ff)][_0x47a087(0x2cf)]('hidden');}};_0x102ac9['addEventListener'](_0x339778(0x754),()=>{const _0x2f73ec=_0x339778;activeTool=_0x2f73ec(0x221),_0x9dfdfa(_0x102ac9);}),_0x1a6437[_0x339778(0xdd3)](_0x339778(0x754),()=>{activeTool='eraser',_0x9dfdfa(_0x1a6437);}),_0xba4521['addEventListener'](_0x339778(0x754),()=>{const _0x30629c=_0x339778;activeTool=_0x30629c(0x800),_0x9dfdfa(_0xba4521);}),_0x252a6d[_0x339778(0xdd3)](_0x339778(0x754),()=>{activeTool='highlighter',_0x9dfdfa(_0x252a6d);}),_0x2afdf9['querySelectorAll'](_0x339778(0xb77))[_0x339778(0x616)](_0x176843=>{const _0x261ba8=_0x339778;_0x176843[_0x261ba8(0xdd3)]('click',_0x394cd0=>{const _0x27e896=_0x261ba8;scratchpadPenSize=parseInt(_0x394cd0[_0x27e896(0x898)]['dataset']['size'],0xa),_0x2afdf9['querySelectorAll']('.pen-size-btn')[_0x27e896(0x616)](_0x18221c=>_0x18221c[_0x27e896(0x2ff)][_0x27e896(0x2cf)](_0x27e896(0x72f))),_0x394cd0['target'][_0x27e896(0x2ff)][_0x27e896(0x30d)](_0x27e896(0x72f));});}),_0x5214aa[_0x339778(0x4cb)](_0x339778(0x946))[_0x339778(0x616)](_0x2e84a9=>{const _0x178e05=_0x339778;_0x2e84a9[_0x178e05(0xdd3)]('click',_0x3818d5=>{const _0x557ebc=_0x178e05,_0xdfb951=_0x3818d5[_0x557ebc(0x305)];scratchpadEraserSize=parseInt(_0xdfb951['dataset']['size'],0xa),_0x5214aa[_0x557ebc(0x4cb)](_0x557ebc(0x946))[_0x557ebc(0x616)](_0x415d1e=>_0x415d1e[_0x557ebc(0x2ff)][_0x557ebc(0x2cf)](_0x557ebc(0x72f))),_0xdfb951[_0x557ebc(0x2ff)][_0x557ebc(0x30d)](_0x557ebc(0x72f));});}),_0x2afdf9[_0x339778(0x4cb)](_0x339778(0x712))[_0x339778(0x616)](_0x4fb7fe=>{const _0x2fa606=_0x339778;_0x4fb7fe[_0x2fa606(0xdd3)]('click',_0xae6b99=>{const _0xc48325=_0x2fa606;scratchpadPenColor=_0xae6b99[_0xc48325(0x898)][_0xc48325(0x683)][_0xc48325(0x84b)],_0x2afdf9['querySelectorAll'](_0xc48325(0x712))[_0xc48325(0x616)](_0x2d3212=>_0x2d3212[_0xc48325(0x2ff)]['remove'](_0xc48325(0x72f))),_0xae6b99[_0xc48325(0x898)][_0xc48325(0x2ff)][_0xc48325(0x30d)](_0xc48325(0x72f));});}),_0x40fa11[_0x339778(0x4cb)](_0x339778(0x558))['forEach'](_0x2a03a5=>{const _0x297f7a=_0x339778;_0x2a03a5[_0x297f7a(0xdd3)](_0x297f7a(0x754),_0x286372=>{const _0x454a73=_0x297f7a;scratchpadHighlighterColor=_0x286372['target'][_0x454a73(0x683)][_0x454a73(0x84b)],_0x40fa11[_0x454a73(0x4cb)](_0x454a73(0x558))[_0x454a73(0x616)](_0x341e52=>_0x341e52[_0x454a73(0x2ff)][_0x454a73(0x2cf)](_0x454a73(0x72f))),_0x286372[_0x454a73(0x898)][_0x454a73(0x2ff)][_0x454a73(0x30d)](_0x454a73(0x72f));});});const _0x454f27=document['getElementById'](_0x339778(0x1e8)),_0x4abbd8=document[_0x339778(0x2f7)](_0x339778(0x679));_0x454f27['addEventListener'](_0x339778(0xe09),_0x43363b=>{const _0x1d6bea=_0x339778,_0x2b72db=parseInt(_0x43363b['target'][_0x1d6bea(0x5b6)],0xa);scratchpadHighlighterSize=_0x2b72db,_0x4abbd8['textContent']=_0x2b72db;}),window['addEventListener']('resize',()=>{const _0x1c3bf3=_0x339778;!_0x48e392[_0x1c3bf3(0x2ff)][_0x1c3bf3(0x416)](_0x1c3bf3(0xad0))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x121993(0x734),'name':_0x121993(0xa1b),'description':_0x121993(0xca9),'icon':_0x121993(0xb08)},'QUICK_THINKER':{'id':_0x121993(0x7b6),'name':_0x121993(0x2ae),'description':_0x121993(0xd7d),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x121993(0xcaa),'name':_0x121993(0x922),'description':_0x121993(0xd09),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x121993(0x9e3),'name':_0x121993(0x1d4),'description':_0x121993(0x4e7),'icon':_0x121993(0xa29)},'COMEBACK_KING':{'id':_0x121993(0x44a),'name':_0x121993(0x647),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x121993(0x1fa),'name':_0x121993(0x556),'description':_0x121993(0x262),'icon':_0x121993(0xa99)},'PERSEVERANCE':{'id':_0x121993(0x37e),'name':_0x121993(0x50d),'description':_0x121993(0x2ee),'icon':_0x121993(0xa23)}},firebaseConfig={'apiKey':_0x121993(0x203),'authDomain':_0x121993(0x879),'projectId':_0x121993(0xa72),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x121993(0xda8),'appId':_0x121993(0xa7d),'measurementId':_0x121993(0x39e)},appId=typeof __app_id!=='undefined'?__app_id:_0x121993(0x1ff),adminView=document[_0x121993(0x2f7)](_0x121993(0xa36)),studentView=document[_0x121993(0x2f7)](_0x121993(0x81f)),projectDashboardView=document['getElementById'](_0x121993(0xb5b)),projectDetailView=document['getElementById'](_0x121993(0x815)),quizResultsView=document[_0x121993(0x2f7)](_0x121993(0x9ff)),projectList=document[_0x121993(0x2f7)](_0x121993(0x5e9)),noProjectsMsg=document[_0x121993(0x2f7)]('no-projects-msg'),projectTitle=document[_0x121993(0x2f7)](_0x121993(0x4c4)),projectIdDisplay=document[_0x121993(0x2f7)](_0x121993(0x931)),studentList=document[_0x121993(0x2f7)](_0x121993(0xd80)),messageModal=document[_0x121993(0x2f7)](_0x121993(0x9ec)),modalMessage=document[_0x121993(0x2f7)]('modal-message'),createProjectModal=document['getElementById'](_0x121993(0x2f4)),adminPasswordModal=document[_0x121993(0x2f7)](_0x121993(0xd22)),confirmationModal=document[_0x121993(0x2f7)](_0x121993(0x232)),userIdDisplay=document[_0x121993(0x2f7)](_0x121993(0x2a5)),topicTab=document[_0x121993(0x2f7)]('topic-tab'),textTab=document[_0x121993(0x2f7)](_0x121993(0x62a)),topicInputArea=document['getElementById'](_0x121993(0x237)),textInputArea=document[_0x121993(0x2f7)](_0x121993(0x342)),manageTab=document[_0x121993(0x2f7)]('manage-tab'),resultsTab=document[_0x121993(0x2f7)](_0x121993(0x408)),leaderboardTab=document[_0x121993(0x2f7)](_0x121993(0x99b)),manageTabContent=document[_0x121993(0x2f7)](_0x121993(0x392)),resultsTabContent=document[_0x121993(0x2f7)](_0x121993(0x804)),leaderboardTabContent=document[_0x121993(0x2f7)](_0x121993(0x410)),projectQuizzesList=document[_0x121993(0x2f7)](_0x121993(0x3df)),fileTab=document[_0x121993(0x2f7)](_0x121993(0x6ec)),fileInputArea=document[_0x121993(0x2f7)](_0x121993(0xe1c)),fileUploadInput=document['getElementById']('file-upload-input'),worksheetTab=document[_0x121993(0x2f7)](_0x121993(0x9f7)),worksheetInputArea=document[_0x121993(0x2f7)](_0x121993(0x912)),generateWorksheetBtn=document[_0x121993(0x2f7)]('generate-worksheet-btn'),studentInitialView=document[_0x121993(0x2f7)](_0x121993(0xb35)),studentNameSelectionView=document[_0x121993(0x2f7)](_0x121993(0x37c)),studentQuizArea=document[_0x121993(0x2f7)](_0x121993(0xce8)),studentResultArea=document[_0x121993(0x2f7)](_0x121993(0xb60)),studentReadingArea=document[_0x121993(0x2f7)](_0x121993(0xaf9)),loadQuizBtn=document[_0x121993(0x2f7)](_0x121993(0x420)),startQuizBtn=document[_0x121993(0x2f7)](_0x121993(0xd8d)),studentJoinGameView=document['getElementById']('student-join-game-view'),presentationModal=document[_0x121993(0x2f7)](_0x121993(0xab8)),renameQuizModal=document['getElementById'](_0x121993(0xa20)),moveQuizModal=document[_0x121993(0x2f7)](_0x121993(0x320)),quizSettingsModal=document[_0x121993(0x2f7)]('quiz-settings-modal'),quizStatusModal=document[_0x121993(0x2f7)]('quiz-status-modal'),liveGameView=document[_0x121993(0x2f7)](_0x121993(0xd3a));function handleFixLessonLatex(){const _0x158ba7=_0x121993,_0x26f99c=document[_0x158ba7(0x2f7)](_0x158ba7(0x201));if(!_0x26f99c){showMessage(_0x158ba7(0xa22));return;}const _0x2b1cc0=_0x26f99c[_0x158ba7(0x4cb)]([_0x158ba7(0xc64),_0x158ba7(0x79e),_0x158ba7(0xb70),'.ai-content\x20td',_0x158ba7(0x605)][_0x158ba7(0x5c4)](','));let _0x30db23=0x0;const _0x307b22=_0x53b57e=>_0x53b57e[_0x158ba7(0xa28)]||'',_0x1a0010=(_0x4d218e,_0x55d02a)=>{const _0x384718=_0x158ba7;if(_0x4d218e['querySelector']&&_0x4d218e[_0x384718(0x839)](_0x384718(0xd35)))return;_0x4d218e['textContent']=_0x55d02a;},_0x1c7324=_0x5e6721=>_0x5e6721[_0x158ba7(0xbbe)](/\u00A0/g,'\x20')[_0x158ba7(0xbbe)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x4ee97f=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x253a69=_0x5dd8b1=>{const _0xe7012e=_0x158ba7;let _0x3f190c=_0x5dd8b1['trim']();const _0x59f7ee=[_0xe7012e(0x519),'dfrac',_0xe7012e(0x8f9),_0xe7012e(0x675),'text',_0xe7012e(0xa8c),_0xe7012e(0xc8d),_0xe7012e(0x5e2),_0xe7012e(0x7fc),'geq','le','ge',_0xe7012e(0xb76),'pm','approx',_0xe7012e(0x8ab),_0xe7012e(0x844),'tan',_0xe7012e(0x92e),'ln',_0xe7012e(0x473),'prod',_0xe7012e(0x31b),_0xe7012e(0x917),'right',_0xe7012e(0x286),_0xe7012e(0x856),_0xe7012e(0xc3d),_0xe7012e(0x667)];_0x59f7ee['forEach'](_0x3e0f3b=>{const _0xb78e6f=_0xe7012e;_0x3f190c=_0x3f190c[_0xb78e6f(0xbbe)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3e0f3b+'\x5cb','g'),(_0x4c5a2a,_0x327d97)=>_0x327d97+'\x5c'+_0x3e0f3b);});const _0x2868d1=[[/×/g,'\x5ctimes'],[/·/g,_0xe7012e(0x541)],[/÷/g,'\x5cdiv'],[/≤/g,_0xe7012e(0x7e8)],[/≥/g,_0xe7012e(0x83c)],[/≠/g,_0xe7012e(0xc8a)],[/±/g,'\x5cpm'],[/∑/g,_0xe7012e(0x73f)],[/−/g,'-']];return _0x2868d1[_0xe7012e(0x616)](([_0xbfcdeb,_0x30e809])=>{const _0x48b30b=_0xe7012e;_0x3f190c=_0x3f190c[_0x48b30b(0xbbe)](_0xbfcdeb,_0x30e809);}),_0x3f190c=_0x3f190c[_0xe7012e(0xbbe)](/√\s*([A-Za-z0-9]+)/g,_0xe7012e(0xdf4)),_0x3f190c=_0x3f190c[_0xe7012e(0xbbe)](/(\d+)\s*%/g,_0xe7012e(0x2b3)),_0x3f190c;},_0x59ccbf=_0x5445a5=>{const _0x479926=_0x158ba7;if(/\$|\\\(|\\\[/['test'](_0x5445a5))return _0x5445a5;if(!_0x4ee97f[_0x479926(0x82c)](_0x5445a5))return _0x5445a5;const _0x1de720=_0x5445a5[_0x479926(0xe04)](/^\s*/)[0x0],_0x28b93f=_0x5445a5['match'](/\s*$/)[0x0],_0x4ba7e8=_0x5445a5[_0x479926(0xe11)]();return _0x1de720+'$'+_0x253a69(_0x4ba7e8)+'$'+_0x28b93f;};_0x2b1cc0[_0x158ba7(0x616)](_0x4601a4=>{const _0x5f3355=_0x158ba7,_0x5a30a0=_0x307b22(_0x4601a4);let _0x464587=_0x1c7324(_0x5a30a0);_0x464587=_0x464587[_0x5f3355(0xbbe)](/\$([^$]*?)\$/g,(_0x129b5f,_0x41e983)=>'$'+_0x253a69(_0x41e983)+'$');const _0x302e97=_0x464587[_0x5f3355(0xd47)](/(\s+)/),_0x58904e=_0x302e97['map'](_0x5704d9=>{const _0x4bec87=_0x5f3355;if(/\s+/[_0x4bec87(0x82c)](_0x5704d9))return _0x5704d9;return _0x59ccbf(_0x5704d9);});_0x464587=_0x58904e[_0x5f3355(0x5c4)](''),_0x464587!==_0x5a30a0&&(_0x1a0010(_0x4601a4,_0x464587),_0x30db23++);});if(_0x30db23>0x0){showMessage(_0x158ba7(0xa63)+_0x30db23+_0x158ba7(0x6c5));try{window['MathJax']&&MathJax[_0x158ba7(0xe06)]&&MathJax['typesetPromise']([_0x26f99c]);}catch(_0x54db06){console[_0x158ba7(0x274)](_0x158ba7(0x496),_0x54db06);}}else showMessage(_0x158ba7(0x6fd));}function handleAutoFixLatex(){const _0x46fdf7=_0x121993,_0x2122e0=document[_0x46fdf7(0x2f7)](_0x46fdf7(0x8fd))||document,_0x1f2745=_0x2122e0[_0x46fdf7(0x4cb)](_0x46fdf7(0xda0));let _0x5a0d5c=0x0;const _0x2626d9=_0x25c3fe=>_0x46fdf7(0x5b6)in _0x25c3fe?String(_0x25c3fe[_0x46fdf7(0x5b6)]):_0x25c3fe[_0x46fdf7(0x907)]!==undefined?_0x25c3fe[_0x46fdf7(0x907)]:_0x25c3fe[_0x46fdf7(0xa28)]||'',_0x590e4f=(_0x4a1915,_0x70949b)=>{const _0x1078eb=_0x46fdf7;if(_0x1078eb(0x5b6)in _0x4a1915){_0x4a1915['value']=_0x70949b;return;}if(_0x4a1915[_0x1078eb(0x839)]&&_0x4a1915[_0x1078eb(0x839)]('mjx-container'))return;if(_0x4a1915[_0x1078eb(0x907)]!==undefined)_0x4a1915['innerText']=_0x70949b;else _0x4a1915[_0x1078eb(0xa28)]=_0x70949b;},_0x3bedff=_0x270cc6=>_0x270cc6[_0x46fdf7(0xbbe)](/\u00A0/g,'\x20')[_0x46fdf7(0xbbe)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x211ac8=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x2c4a2b=_0x400ea4=>{const _0x244d4d=_0x46fdf7;let _0x51ae8c=_0x400ea4['trim']();_0x51ae8c=_0x51ae8c[_0x244d4d(0xbbe)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x51ae8c=_0x51ae8c[_0x244d4d(0xbbe)](/\bfrac(\d)(\d)/g,_0x244d4d(0x2fc));const _0x4e9f9d=[_0x244d4d(0x519),'sqrt','times','cdot',_0x244d4d(0x5e2),_0x244d4d(0x7fc),_0x244d4d(0x96a),_0x244d4d(0xb76),'pm','sin','cos',_0x244d4d(0xbf2),'log','ln'];_0x4e9f9d['forEach'](_0x3f7844=>{const _0x2917d7=_0x244d4d;_0x51ae8c=_0x51ae8c['replace'](new RegExp(_0x2917d7(0x90c)+_0x3f7844+'\x5cb','g'),(_0x3aca39,_0x332621)=>_0x332621+'\x5c'+_0x3f7844);});const _0x48b5df=[[/×/g,_0x244d4d(0x344)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x244d4d(0x7e8)],[/≥/g,_0x244d4d(0x83c)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0x48b5df[_0x244d4d(0x616)](([_0x224807,_0x1dcf96])=>{const _0x29b29d=_0x244d4d;_0x51ae8c=_0x51ae8c[_0x29b29d(0xbbe)](_0x224807,_0x1dcf96);}),_0x51ae8c;},_0x2ec56f=_0x246d0d=>{const _0x2a7091=_0x46fdf7;if(/\$|\\\(|\\\[/[_0x2a7091(0x82c)](_0x246d0d))return _0x246d0d;if(!_0x211ac8[_0x2a7091(0x82c)](_0x246d0d))return _0x246d0d;const _0x1cba10=_0x246d0d['match'](/^\s*/)[0x0],_0x1abf01=_0x246d0d[_0x2a7091(0xe04)](/\s*$/)[0x0],_0x5d3e7c=_0x246d0d['trim']();return _0x1cba10+'$'+_0x2c4a2b(_0x5d3e7c)+'$'+_0x1abf01;};_0x1f2745[_0x46fdf7(0x616)](_0x551b44=>{const _0x3d84dc=_0x46fdf7,_0x17ad84=_0x2626d9(_0x551b44);let _0x241132=_0x3bedff(_0x17ad84);_0x241132=_0x241132['replace'](/\$([^$]*?)\$/g,(_0x3a542a,_0x399acb)=>'$'+_0x2c4a2b(_0x399acb)+'$');const _0x324833=_0x241132['split'](/(\s+)/),_0x33bee8=_0x324833[_0x3d84dc(0xce7)](_0x711d09=>/\s+/[_0x3d84dc(0x82c)](_0x711d09)?_0x711d09:_0x2ec56f(_0x711d09));_0x241132=_0x33bee8[_0x3d84dc(0x5c4)](''),_0x241132!==_0x17ad84&&(_0x590e4f(_0x551b44,_0x241132),_0x5a0d5c++);});if(_0x5a0d5c>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x5a0d5c+_0x46fdf7(0x768));try{if(window['MathJax']&&MathJax[_0x46fdf7(0xe06)])MathJax[_0x46fdf7(0xe06)]();}catch(_0x5de7b7){}}else showMessage(_0x46fdf7(0x798));}async function listenForCustomMathTopics(){const _0x62e1e3=_0x121993,_0x3dd115=collection(db,_0x62e1e3(0x1da)+appId+_0x62e1e3(0xa2f));onSnapshot(_0x3dd115,_0x1dd198=>{const _0x453a39=_0x62e1e3;customMathTopics=_0x1dd198[_0x453a39(0x3c3)][_0x453a39(0xce7)](_0x4e84d6=>({'id':_0x4e84d6['id'],..._0x4e84d6[_0x453a39(0x72a)]()})),renderTopicCheckboxes();},_0x5df099=>{const _0x4ac3e0=_0x62e1e3;console['error'](_0x4ac3e0(0xb03),_0x5df099);});}function handleSelectAllTopics(){const _0x57f0e0=_0x121993,_0xb3a2a5=document[_0x57f0e0(0x2f7)](_0x57f0e0(0xc09)),_0x564a4e=_0xb3a2a5[_0x57f0e0(0x4cb)](_0x57f0e0(0x31a));_0x564a4e['forEach'](_0x533fd8=>{_0x533fd8['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x225022=_0x121993,_0x19c79f=document[_0x225022(0x2f7)]('math-topics-checkbox-container'),_0x1329ab=_0x19c79f[_0x225022(0x4cb)](_0x225022(0x31a));_0x1329ab[_0x225022(0x616)](_0x1eef1b=>{const _0x5af5c0=_0x225022;_0x1eef1b[_0x5af5c0(0x28f)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3e7e5e){const _0x2e9a13=_0x121993;if(!_0x3e7e5e)return;try{const _0x32686a=doc(db,_0x2e9a13(0x1da)+appId+'/public/data/customMathTopics',_0x3e7e5e);await deleteDoc(_0x32686a),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x14ecbd){console['error']('Error\x20deleting\x20custom\x20topic:',_0x14ecbd),showMessage(_0x2e9a13(0x628));}}async function handleAddCustomMathTopic(){const _0x1874ef=_0x121993,_0x2373e4=document['getElementById'](_0x1874ef(0xd88)),_0x2ea8e5=_0x2373e4[_0x1874ef(0x5b6)][_0x1874ef(0xe11)]();if(!_0x2ea8e5){showMessage(_0x1874ef(0x2e4));return;}if(!userId){showMessage(_0x1874ef(0x65c));return;}try{const _0x5b455c=collection(db,_0x1874ef(0x1da)+appId+'/public/data/customMathTopics');await addDoc(_0x5b455c,{'name':_0x2ea8e5,'createdAt':serverTimestamp()}),_0x2373e4['value']='',showMessage(_0x1874ef(0x501)+_0x2ea8e5+_0x1874ef(0x91f));}catch(_0x315774){console[_0x1874ef(0x274)]('Error\x20adding\x20custom\x20topic:',_0x315774),showMessage(_0x1874ef(0xb93));}}async function handleUpdateOldQuizzes(){const _0x336bea=_0x121993;showConfirmation(_0x336bea(0xdcd),async()=>{const _0x250743=_0x336bea,_0x4c8173=document[_0x250743(0x2f7)](_0x250743(0xd29)),_0x4c78b6=document[_0x250743(0x2f7)]('loader-text'),_0xd20033=_0x4c78b6[_0x250743(0xa28)];_0x4c8173[_0x250743(0x2ff)][_0x250743(0x2cf)](_0x250743(0xad0)),_0x4c78b6[_0x250743(0xa28)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x19279c=collection(db,_0x250743(0x1da)+appId+'/public/data/quizzes'),_0x45e97a=await getDocs(_0x19279c);if(_0x45e97a[_0x250743(0xc89)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x1b50c2=writeBatch(db);let _0x4205ec=0x0;_0x45e97a['forEach'](_0x1c0cf7=>{const _0x28d8f8=_0x250743,_0x2ae526=_0x1c0cf7['data'](),_0x30ed0e=_0x1c0cf7['id'];if(_0x2ae526[_0x28d8f8(0xc33)]&&_0x2ae526[_0x28d8f8(0xc33)]['length']>0x0&&!_0x2ae526[_0x28d8f8(0xc33)][0x0]['hasOwnProperty']('id')){console[_0x28d8f8(0x92e)](_0x28d8f8(0x3a7)+_0x30ed0e+'\x20('+_0x2ae526['topic']+')'),_0x4205ec++;const _0x2ad7ba=_0x2ae526[_0x28d8f8(0xc33)]['map']((_0x1d0692,_0x1ff9d8)=>{const _0x59fd8f=_0x28d8f8;return{..._0x1d0692,'id':_0x1d0692['id']||'q_'+Date[_0x59fd8f(0x2a6)]()+'_'+_0x30ed0e+'_'+_0x1ff9d8};}),_0xb6fd4c=doc(db,_0x28d8f8(0x1da)+appId+_0x28d8f8(0x653),_0x30ed0e);_0x1b50c2[_0x28d8f8(0xa1f)](_0xb6fd4c,{'questions':_0x2ad7ba});}}),_0x4205ec>0x0?(_0x4c78b6[_0x250743(0xa28)]=_0x250743(0xdba)+_0x4205ec+'\x20รายการ...',await _0x1b50c2[_0x250743(0x794)](),showMessage(_0x250743(0xc6c)+_0x4205ec+_0x250743(0x2c2))):showMessage(_0x250743(0x973));}catch(_0x5738c6){console[_0x250743(0x274)](_0x250743(0x202),_0x5738c6),showMessage(_0x250743(0xb20)+_0x5738c6['message']);}finally{_0x4c8173[_0x250743(0x2ff)]['add'](_0x250743(0xad0)),_0x4c78b6[_0x250743(0xa28)]=_0xd20033;}});}async function handleBulkUpdateQuizSettings(){const _0x531d93=_0x121993,_0x5bda5d={'shuffle':document['getElementById'](_0x531d93(0x94b))['value'],'resultsDisplay':document[_0x531d93(0x2f7)]('bulk-results-display-select')[_0x531d93(0x5b6)],'loopUntilPass':document['getElementById']('bulk-loop-until-pass-checkbox')[_0x531d93(0x28f)],'isConfidenceScoringEnabled':document[_0x531d93(0x2f7)]('bulk-confidence-scoring-checkbox')[_0x531d93(0x28f)],'confidenceMode':document[_0x531d93(0x2f7)]('bulk-confidence-mode-select')['value']};try{showMessage(_0x531d93(0x939));const _0x8e1f92=await getDocs(collection(db,_0x531d93(0x1da)+appId+_0x531d93(0x653))),_0x52ecad=_0x8e1f92['docs']['map'](_0x5b4c14=>({'id':_0x5b4c14['id'],'data':_0x5b4c14['data']()})),_0x317062=_0x52ecad['length'];showConfirmation(_0x531d93(0xac4)+_0x317062+_0x531d93(0xd32),async()=>{const _0x1c820e=_0x531d93,_0x29dcdf=document[_0x1c820e(0x2f7)](_0x1c820e(0xa51));_0x29dcdf[_0x1c820e(0x687)]=!![],_0x29dcdf['innerHTML']=_0x1c820e(0xa62);try{const _0x31404c=writeBatch(db);_0x52ecad[_0x1c820e(0x616)](_0x38fa24=>{const _0x37f5d7=_0x1c820e,_0x3992fa=doc(db,_0x37f5d7(0x1da)+appId+_0x37f5d7(0x653),_0x38fa24['id']),_0x14fffc={..._0x38fa24['data'][_0x37f5d7(0x5a5)]||{},..._0x5bda5d};_0x31404c[_0x37f5d7(0xa1f)](_0x3992fa,{'settings':_0x14fffc});}),await _0x31404c[_0x1c820e(0x794)](),document[_0x1c820e(0x2f7)](_0x1c820e(0x6f6))[_0x1c820e(0x2ff)][_0x1c820e(0x30d)](_0x1c820e(0xad0)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x317062+_0x1c820e(0x5a9));}catch(_0x26dec1){console[_0x1c820e(0x274)](_0x1c820e(0x459),_0x26dec1),showMessage(_0x1c820e(0x75e));}finally{_0x29dcdf[_0x1c820e(0x687)]=![],_0x29dcdf['innerHTML']=_0x1c820e(0x4da);}});}catch(_0x314055){console[_0x531d93(0x274)](_0x531d93(0x802),_0x314055),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x1f2026=_0x121993,_0x17b53a=document[_0x1f2026(0x2f7)](_0x1f2026(0x4c4)),_0x108afd=document[_0x1f2026(0x2f7)]('save-project-name-btn'),_0x127018=_0x17b53a[_0x1f2026(0xa28)][_0x1f2026(0xe11)]();if(!_0x127018||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x17b53a[_0x1f2026(0xa28)]=currentProjectData[_0x1f2026(0x5d3)];return;}_0x108afd['disabled']=!![],_0x108afd[_0x1f2026(0x8c4)]=_0x1f2026(0xb9c);try{const _0x18b6d7=doc(db,_0x1f2026(0x1da)+appId+_0x1f2026(0x9f0),currentProjectId);await updateDoc(_0x18b6d7,{'projectName':_0x127018}),currentProjectData&&(currentProjectData[_0x1f2026(0x5d3)]=_0x127018),showMessage(_0x1f2026(0x5aa));}catch(_0x43cb72){console['error']('Error\x20updating\x20project\x20name:',_0x43cb72),showMessage(_0x1f2026(0xb80)),_0x17b53a[_0x1f2026(0xa28)]=currentProjectData[_0x1f2026(0x5d3)];}finally{_0x108afd[_0x1f2026(0x2ff)][_0x1f2026(0x30d)]('hidden'),_0x108afd[_0x1f2026(0x687)]=![],_0x108afd['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x4d0fa7,_0x4b6d9b){const _0xa77883=_0x121993,_0x2eb2c3=document[_0xa77883(0x2f7)](_0xa77883(0x562)),_0xa7c6f1=document[_0xa77883(0x2f7)](_0xa77883(0x67e)),_0x42da8d=document[_0xa77883(0x2f7)](_0xa77883(0x574)),_0x49b2da=document['getElementById'](_0xa77883(0x2f3));_0xa7c6f1[_0xa77883(0xa28)]='กำลังสร้างแบบทดสอบ:\x20'+_0x4d0fa7,_0x49b2da[_0xa77883(0x2ff)][_0xa77883(0x30d)](_0xa77883(0xad0)),_0x42da8d[_0xa77883(0x2ff)]['remove'](_0xa77883(0xad0)),_0x2eb2c3['classList']['remove'](_0xa77883(0xad0)),generatePracticeTest(_0x4d0fa7,_0x4b6d9b)[_0xa77883(0x57f)](_0xfb286c=>{const _0x54681f=_0xa77883;console[_0x54681f(0x274)](_0x54681f(0x904),_0xfb286c),showMessage(_0x54681f(0x509)),_0x2eb2c3['classList'][_0x54681f(0x30d)](_0x54681f(0xad0));});}async function generatePracticeTest(_0x2eaba9,_0x100701){const _0x433487=_0x121993;[_0x433487(0xd7c),_0x433487(0x57c),_0x433487(0xda4),'summaryContent'][_0x433487(0x616)](_0x546340=>{const _0x537aa1=_0x433487,_0x23e4f1=document[_0x537aa1(0x2f7)](_0x546340)[_0x537aa1(0x231)];_0x23e4f1&&(_0x23e4f1['style'][_0x537aa1(0x8aa)]=_0x537aa1(0x346));});try{const _0x212d0e=_0x433487(0x762),_0x430014='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x100701+_0x433487(0x759)+_0x2eaba9+_0x433487(0x443),_0x4b49ab=await callGemini(_0x430014,!![]),_0x25a964=document['getElementById']('lesson-view-title'),_0x3a1e5e=document[_0x433487(0x2f7)]('lesson-loader'),_0x979576=document[_0x433487(0x2f7)]('lesson-sections-container'),_0x5b5546=document[_0x433487(0x2f7)]('applicationContent')[_0x433487(0x231)];_0x25a964[_0x433487(0x907)]=_0x433487(0x7ed)+_0x2eaba9[_0x433487(0xbbe)](/•\s/g,'')+_0x433487(0xc85)+_0x100701+')',currentApplicationData=JSON[_0x433487(0x2cd)](_0x4b49ab);const _0x426e47=document[_0x433487(0x2f7)](_0x433487(0xda4));_0x426e47[_0x433487(0x8c4)]=currentApplicationData[_0x433487(0xce7)]((_0x426889,_0x33c099)=>_0x433487(0x243)+(_0x33c099+0x1)+'.\x20'+marked[_0x433487(0xcbe)](_0x426889[_0x433487(0xa75)])+_0x433487(0x5b5)+_0x33c099+_0x433487(0x325)+_0x426889[_0x433487(0x450)][_0x433487(0xce7)]((_0x833cad,_0x32cb9b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x33c099+',\x20'+_0x32cb9b+_0x433487(0x275)+String[_0x433487(0xdbf)](0x61+_0x32cb9b)+'.\x20'+marked['parseInline'](_0x833cad)+_0x433487(0x8bb))[_0x433487(0x5c4)]('')+_0x433487(0x970))['join'](''),window[_0x433487(0xc16)]&&MathJax['typesetPromise']([_0x426e47]),_0x5b5546&&(_0x5b5546[_0x433487(0x259)][_0x433487(0x8aa)]='block'),_0x3a1e5e[_0x433487(0x2ff)][_0x433487(0x30d)](_0x433487(0xad0)),_0x979576['classList'][_0x433487(0x2cf)](_0x433487(0xad0));}catch(_0x59fdf1){console[_0x433487(0x274)](_0x59fdf1);throw _0x59fdf1;}}async function callGemini(_0x4d0081,_0x2d434f=![]){const _0x33a4ef=_0x121993,_0x36ecc2='AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44',_0x342a57=_0x33a4ef(0xc94)+_0x36ecc2,_0xe7652f={'contents':[{'parts':[{'text':_0x4d0081}]}]};_0x2d434f&&(_0xe7652f[_0x33a4ef(0x9b5)]={'responseMimeType':'application/json'},_0x4d0081[_0x33a4ef(0xcec)](_0x33a4ef(0x373))?_0xe7652f[_0x33a4ef(0x9b5)][_0x33a4ef(0x8af)]={'type':_0x33a4ef(0xde6),'properties':{'gradeLevel':{'type':_0x33a4ef(0xcd6)},'curriculum':{'type':_0x33a4ef(0xd78),'items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':'ARRAY','items':{'type':_0x33a4ef(0xde6),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':'ARRAY','items':{'type':_0x33a4ef(0xcd6)}}},'required':[_0x33a4ef(0xc17),_0x33a4ef(0x606)]}}},'required':[_0x33a4ef(0xbf6),_0x33a4ef(0xd36)]}}},'required':[_0x33a4ef(0xbf0),_0x33a4ef(0x4d9)]}:_0xe7652f[_0x33a4ef(0x9b5)]['responseSchema']={'type':'ARRAY','items':{'type':_0x33a4ef(0xde6),'properties':{'question':{'type':'STRING'},'options':{'type':_0x33a4ef(0xd78),'items':{'type':_0x33a4ef(0xcd6)}},'answer':{'type':'NUMBER'}},'required':[_0x33a4ef(0xa75),_0x33a4ef(0x450),_0x33a4ef(0xb05)]}});try{const _0x5084eb=await fetch(_0x342a57,{'method':_0x33a4ef(0x3a3),'headers':{'Content-Type':_0x33a4ef(0x5fd)},'body':JSON[_0x33a4ef(0xd68)](_0xe7652f)});if(!_0x5084eb['ok']){const _0x4be32b=await _0x5084eb['text']();console[_0x33a4ef(0x274)](_0x33a4ef(0xac1),_0x4be32b);throw new Error(_0x33a4ef(0x9f2)+_0x5084eb[_0x33a4ef(0x2d4)]);}const _0x56dcb2=await _0x5084eb[_0x33a4ef(0x3c9)]();if(_0x56dcb2['candidates']&&_0x56dcb2[_0x33a4ef(0xa06)][0x0][_0x33a4ef(0x261)]&&_0x56dcb2[_0x33a4ef(0xa06)][0x0][_0x33a4ef(0x261)]['parts'][0x0])return _0x56dcb2[_0x33a4ef(0xa06)][0x0][_0x33a4ef(0x261)][_0x33a4ef(0xb67)][0x0][_0x33a4ef(0xc0b)];else{console['error'](_0x33a4ef(0xbea),_0x56dcb2);if(_0x56dcb2[_0x33a4ef(0xa06)]&&_0x56dcb2[_0x33a4ef(0xa06)][0x0][_0x33a4ef(0xa30)]===_0x33a4ef(0x8ca))return JSON[_0x33a4ef(0xd68)]({'error':_0x33a4ef(0x288)});throw new Error(_0x33a4ef(0x220));}}catch(_0x58eb0c){console[_0x33a4ef(0x274)]('Error\x20calling\x20Gemini\x20API:',_0x58eb0c);throw _0x58eb0c;}}async function generateLesson(_0x2a08ed=null,_0x4f1cac=null){const _0x47e9b2=_0x121993,_0x48629b=_0x2a08ed,_0x38a114=_0x4f1cac||_0x47e9b2(0x666),_0x34aa01=document[_0x47e9b2(0x2f7)](_0x47e9b2(0x574)),_0x3a69c1=document[_0x47e9b2(0x2f7)]('lesson-loader-text');_0x3a69c1['textContent']=_0x47e9b2(0xd55)+_0x48629b+_0x47e9b2(0x385);try{let _0x51ec60=[];const _0x2cb035=document[_0x47e9b2(0x2f7)]('bp-reference-file-url')?.[_0x47e9b2(0x5b6)][_0x47e9b2(0xe11)]();if(_0x2cb035)try{_0x3a69c1[_0x47e9b2(0xa28)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x2ae819=await fetchFileFromUrl(_0x2cb035,_0x47e9b2(0x94e)),_0x1cdb84=await new Promise((_0x54dff0,_0x169655)=>{const _0x32e2a8=_0x47e9b2,_0x28486e=new FileReader();_0x28486e['readAsDataURL'](_0x2ae819),_0x28486e[_0x32e2a8(0x391)]=()=>_0x54dff0(_0x28486e[_0x32e2a8(0x5ec)]['split'](',')[0x1]),_0x28486e[_0x32e2a8(0x4a5)]=_0x169655;});_0x51ec60[_0x47e9b2(0xdc4)]({'inlineData':{'mimeType':_0x2ae819[_0x47e9b2(0x9c8)],'data':_0x1cdb84}});}catch(_0xd7bf84){console[_0x47e9b2(0x274)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0xd7bf84),showMessage(_0x47e9b2(0x833));}const _0x50631b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x48629b+_0x47e9b2(0x838)+_0x48629b+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x3a69c1[_0x47e9b2(0xa28)]=_0x47e9b2(0xd55)+_0x48629b+_0x47e9b2(0x385);const _0x30691a=_0x47e9b2(0x7cc)+_0x38a114+_0x47e9b2(0x759)+_0x48629b+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x50631b+_0x47e9b2(0xd3e),_0x2223d4=_0x47e9b2(0x4b3)+_0x48629b+_0x47e9b2(0x721)+_0x38a114+_0x47e9b2(0x1df)+_0x50631b+_0x47e9b2(0x6b1),_0x5dbfb0=_0x47e9b2(0x733)+_0x38a114+_0x47e9b2(0x759)+_0x48629b+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x50631b+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x3301d9=_0x47e9b2(0xe01)+_0x48629b+_0x47e9b2(0xbd5)+_0x38a114+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x50631b+_0x47e9b2(0x3b2),_0x50ec39={'type':_0x47e9b2(0xd78),'items':{'type':_0x47e9b2(0xde6),'properties':{'question':{'type':'STRING'},'options':{'type':_0x47e9b2(0xd78),'items':{'type':_0x47e9b2(0xcd6)}},'answer':{'type':'NUMBER'}},'required':[_0x47e9b2(0xa75),'options',_0x47e9b2(0xb05)]}},[_0x14208d,_0x3ee9e4,_0x4b855a,_0x148bb6]=await Promise[_0x47e9b2(0x943)]([handleApiCall([{'text':_0x30691a},..._0x51ec60],_0x47e9b2(0xb31),null,null,![]),handleApiCall([{'text':_0x2223d4},..._0x51ec60],'...',null,null,![]),handleApiCall([{'text':_0x5dbfb0},..._0x51ec60],_0x47e9b2(0xb31),_0x50ec39,null,![]),handleApiCall([{'text':_0x3301d9},..._0x51ec60],_0x47e9b2(0xb31),null,null,![])]),_0x4de428=JSON[_0x47e9b2(0xd68)](_0x4b855a||[]),_0x525e6f=document[_0x47e9b2(0x2f7)](_0x47e9b2(0x67e)),_0x5ea6f1=document[_0x47e9b2(0x2f7)](_0x47e9b2(0x2f3));_0x525e6f['innerText']=_0x47e9b2(0x62b)+_0x48629b[_0x47e9b2(0xbbe)](/•\\s/g,'')+_0x47e9b2(0xc85)+_0x38a114+')',[_0x47e9b2(0xd7c),'memoryContent',_0x47e9b2(0xab4)][_0x47e9b2(0x616)](_0x489c59=>{const _0x3375b4=_0x47e9b2;document[_0x3375b4(0x2f7)](_0x489c59)[_0x3375b4(0x8c4)]='';}),document['getElementById'](_0x47e9b2(0xd7c))[_0x47e9b2(0x8c4)]=_0x14208d?marked['parse'](_0x14208d):_0x47e9b2(0x76c),document[_0x47e9b2(0x2f7)](_0x47e9b2(0x57c))[_0x47e9b2(0x8c4)]=_0x3ee9e4?marked[_0x47e9b2(0x2cd)](_0x3ee9e4):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x47e9b2(0x2f7)](_0x47e9b2(0xab4))[_0x47e9b2(0x8c4)]=_0x148bb6?marked[_0x47e9b2(0x2cd)](_0x148bb6):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x47e9b2(0x2cd)](_0x4de428);const _0x3197f7=document[_0x47e9b2(0x2f7)](_0x47e9b2(0xda4));_0x3197f7[_0x47e9b2(0x8c4)]=(currentApplicationData||[])[_0x47e9b2(0xce7)]((_0x295c9c,_0x12b5bb)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x12b5bb+0x1)+'.\x20'+marked[_0x47e9b2(0xcbe)](_0x295c9c[_0x47e9b2(0xa75)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x12b5bb+_0x47e9b2(0x325)+(_0x295c9c[_0x47e9b2(0x450)]||[])[_0x47e9b2(0xce7)]((_0x31e1b0,_0x3c2408)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x12b5bb+',\x20'+_0x3c2408+')\x22>'+String[_0x47e9b2(0xdbf)](0x61+_0x3c2408)+'.\x20'+marked[_0x47e9b2(0xcbe)](_0x31e1b0||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x47e9b2(0x5c4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x47e9b2(0x5c4)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x47e9b2(0xc16)]&&MathJax[_0x47e9b2(0xe06)]([_0x5ea6f1]),_0x34aa01[_0x47e9b2(0x2ff)][_0x47e9b2(0x30d)]('hidden'),_0x5ea6f1[_0x47e9b2(0x2ff)][_0x47e9b2(0x2cf)](_0x47e9b2(0xad0));}catch(_0xc88ac8){console[_0x47e9b2(0x274)](_0xc88ac8);throw _0xc88ac8;}}function checkAnswer(_0x225a17,_0x39a0f4){const _0x49f0ee=_0x121993,_0x4fe899=currentApplicationData[_0x225a17],_0x283ed4=document[_0x49f0ee(0x2f7)]('q'+_0x225a17+'-options'),_0x29483d=_0x283ed4[_0x49f0ee(0x8bd)](_0x49f0ee(0x64b));for(let _0x44e3db of _0x29483d){_0x44e3db[_0x49f0ee(0x687)]=!![];}_0x39a0f4===_0x4fe899['answer']?_0x29483d[_0x39a0f4]['classList'][_0x49f0ee(0x30d)](_0x49f0ee(0xd08)):(_0x29483d[_0x39a0f4]['classList']['add'](_0x49f0ee(0xba4)),_0x29483d[_0x4fe899[_0x49f0ee(0xb05)]][_0x49f0ee(0x2ff)][_0x49f0ee(0x30d)](_0x49f0ee(0xd08)));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x121993(0x283)]=checkAnswer,window[_0x121993(0x6d9)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x33018d=_0x121993;try{const _0xfc6c74=initializeApp(firebaseConfig);db=getFirestore(_0xfc6c74),auth=getAuth(_0xfc6c74),setupAuthListener(),setupEventListeners(),showView(_0x33018d(0xc2d)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x1ee98d){console[_0x33018d(0x274)](_0x33018d(0x4b8),_0x1ee98d),showMessage(_0x33018d(0x8f1));}}async function handleVerifyAnswersInEditor(){const _0x41261e=_0x121993,_0x136f14=document[_0x41261e(0x2f7)]('quiz-editor-modal');if(!_0x136f14)return;const _0x331b19=document[_0x41261e(0x2f7)](_0x41261e(0x8db));_0x331b19[_0x41261e(0x687)]=!![],_0x331b19[_0x41261e(0x8c4)]=_0x41261e(0x3e5);try{const _0x466fd1=_0x136f14[_0x41261e(0x4cb)](_0x41261e(0x972)),_0x114796=Array[_0x41261e(0x8a8)](_0x466fd1)[_0x41261e(0xce7)]((_0x4bcc37,_0x607fce)=>{const _0x5c7e88=_0x41261e,_0x4a9288=_0x4bcc37[_0x5c7e88(0x683)][_0x5c7e88(0xb1a)],_0x345bca=_0x4bcc37[_0x5c7e88(0x839)](_0x5c7e88(0x5db))[_0x5c7e88(0x5b6)];let _0x1f9d4d=null,_0x15a534='';switch(_0x4a9288){case _0x5c7e88(0xc3f):const _0x1b9573=_0x4bcc37[_0x5c7e88(0x4cb)](_0x5c7e88(0x4fd));_0x1f9d4d=Array[_0x5c7e88(0x8a8)](_0x1b9573)[_0x5c7e88(0xce7)](_0x455b49=>_0x455b49['value']);const _0x25043a=_0x4bcc37[_0x5c7e88(0x839)](_0x5c7e88(0x81d));_0x25043a&&(_0x15a534=_0x1f9d4d[parseInt(_0x25043a[_0x5c7e88(0x5b6)])]);break;case _0x5c7e88(0x2bc):_0x1f9d4d=[],_0x15a534=_0x4bcc37[_0x5c7e88(0x839)](_0x5c7e88(0xac0))[_0x5c7e88(0x5b6)];break;case'true_false':_0x1f9d4d=[_0x5c7e88(0xc10),_0x5c7e88(0x427)];const _0x1cd482=_0x4bcc37['querySelector'](_0x5c7e88(0x81d));_0x15a534=_0x1cd482?_0x1cd482[_0x5c7e88(0x5b6)]:'';break;case _0x5c7e88(0x5f5):_0x1f9d4d=[],_0x15a534=_0x4bcc37[_0x5c7e88(0x839)](_0x5c7e88(0x7a6))[_0x5c7e88(0x5b6)];break;}return{'question':_0x345bca,'options':_0x1f9d4d,'proposedAnswer':_0x15a534};}),_0x3cd26c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x114796)+_0x41261e(0x8ba),_0x2be986={'type':_0x41261e(0xd78),'items':{'type':_0x41261e(0xde6),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x41261e(0x7d7)},'justification':{'type':_0x41261e(0xcd6)},'correctOptionExists':{'type':_0x41261e(0x7d7)},'suggestedAnswer':{'type':_0x41261e(0xcd6)},'newOptionsPayload':{'type':_0x41261e(0xde6),'properties':{'newOptions':{'type':_0x41261e(0xd78),'items':{'type':_0x41261e(0xcd6)}},'newCorrectIndex':{'type':_0x41261e(0x714)}}}},'required':[_0x41261e(0x51a),_0x41261e(0xd90),'justification']}},_0x5e3a97=await callAnalysisApi(_0x3cd26c,{'type':'OBJECT','properties':{'result':_0x2be986},'required':[_0x41261e(0x5ec)]});displayVerificationResultsInEditor(_0x5e3a97[_0x41261e(0x5ec)]);}catch(_0x5e36c6){console[_0x41261e(0x274)](_0x41261e(0x7b0),_0x5e36c6),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x331b19['disabled']=![],_0x331b19[_0x41261e(0x8c4)]=_0x41261e(0xcde);}}function displayVerificationResultsInEditor(_0x4daf1b){const _0x350f32=_0x121993;_0x4daf1b[_0x350f32(0x616)](_0x206153=>{const _0x123bc3=_0x350f32,_0x18baf5=document[_0x123bc3(0x839)](_0x123bc3(0xdc3)+_0x206153[_0x123bc3(0x51a)]+'\x22]');if(!_0x18baf5)return;const _0x2d1bce=_0x18baf5['querySelector']('.verification-result-editor');if(_0x2d1bce)_0x2d1bce['remove']();let _0x532e90='';if(_0x206153[_0x123bc3(0x686)]&&_0x206153[_0x123bc3(0x686)][_0x123bc3(0x7d9)]){const _0x64827b=_0x206153['newOptionsPayload'][_0x123bc3(0x7d9)],_0x31b4c5=_0x206153[_0x123bc3(0x686)][_0x123bc3(0x37d)],_0x321cd3=_0x18baf5['dataset']['qType'];if(_0x321cd3===_0x123bc3(0xc3f)){const _0x3ba058=_0x18baf5['querySelectorAll'](_0x123bc3(0x4fd));_0x3ba058[_0x123bc3(0x616)]((_0x31f9e3,_0xdaa2a0)=>{const _0x3e8ab6=_0x123bc3;_0x64827b[_0xdaa2a0]?_0x31f9e3[_0x3e8ab6(0x5b6)]=_0x64827b[_0xdaa2a0]:_0x31f9e3[_0x3e8ab6(0x5b6)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0x20d19e=_0x18baf5[_0x123bc3(0x839)](_0x123bc3(0xb7d)+_0x31b4c5+'\x22]');_0x20d19e&&(_0x20d19e[_0x123bc3(0x28f)]=!![]),_0x532e90=_0x123bc3(0x8d0),_0x18baf5['classList'][_0x123bc3(0x30d)](_0x123bc3(0x5b1),_0x123bc3(0xaba),_0x123bc3(0x21f)),setTimeout(()=>{const _0x426a4d=_0x123bc3;_0x18baf5[_0x426a4d(0x2ff)][_0x426a4d(0x2cf)](_0x426a4d(0x5b1));},0x9c4);}}else{if(!_0x206153[_0x123bc3(0xd90)]&&_0x206153[_0x123bc3(0x358)]){const _0x29e0e6=_0x206153[_0x123bc3(0x358)]?_0x123bc3(0x965):'';_0x532e90='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x29e0e6+_0x123bc3(0xd45)+_0x206153[_0x123bc3(0x98b)]+_0x123bc3(0x3f7)+(_0x206153[_0x123bc3(0x358)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x206153[_0x123bc3(0x358)]+_0x123bc3(0xb6e):'')+_0x123bc3(0xc54);const _0xd0ba97=_0x18baf5[_0x123bc3(0x683)][_0x123bc3(0xb1a)],_0x2e37df=_0x22491e=>{const _0x25bf92=_0x123bc3;if(!_0x22491e)return;_0x22491e[_0x25bf92(0x2ff)][_0x25bf92(0x30d)](_0x25bf92(0x2dd),_0x25bf92(0xaba),_0x25bf92(0x21f)),setTimeout(()=>{const _0x376873=_0x25bf92;_0x22491e['classList'][_0x376873(0x2cf)](_0x376873(0x2dd));},0x9c4);};if(_0xd0ba97===_0x123bc3(0xc3f)){const _0x5f3ede=Array[_0x123bc3(0x8a8)](_0x18baf5[_0x123bc3(0x4cb)](_0x123bc3(0x4fd))),_0x94bf43=_0x5f3ede['findIndex'](_0x446f38=>_0x446f38['value'][_0x123bc3(0xe11)]()[_0x123bc3(0xcfa)]()===_0x206153[_0x123bc3(0x358)][_0x123bc3(0xe11)]()['toLowerCase']());if(_0x94bf43!==-0x1){const _0x45ec75=_0x18baf5[_0x123bc3(0x839)](_0x123bc3(0xb7d)+_0x94bf43+'\x22]');_0x45ec75&&(_0x45ec75['checked']=!![],_0x2e37df(_0x45ec75['closest'](_0x123bc3(0x5e2))));}}else{if(_0xd0ba97==='short_answer'||_0xd0ba97===_0x123bc3(0x5f5)){const _0x265959=_0x18baf5[_0x123bc3(0x839)](_0x123bc3(0xc6a));_0x265959&&(_0x265959[_0x123bc3(0x5b6)]=_0x206153[_0x123bc3(0x358)],_0x2e37df(_0x265959));}else{if(_0xd0ba97===_0x123bc3(0x668)){const _0x359eaf=_0x206153[_0x123bc3(0x358)]['trim']()['toLowerCase'](),_0x13ce8d=_0x18baf5[_0x123bc3(0x839)](_0x123bc3(0xb7d)+_0x359eaf+'\x22]');_0x13ce8d&&(_0x13ce8d['checked']=!![],_0x2e37df(_0x13ce8d[_0x123bc3(0xb5f)]('div')));}}}}else _0x206153['isCorrect']&&(_0x532e90='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x18baf5[_0x123bc3(0x8b3)]('beforeend',_0x532e90);}),showMessage(_0x350f32(0xcac));}async function handleVerifyAnswers(){const _0x2daaba=_0x121993;if(!currentQuizData||!currentQuizData[_0x2daaba(0xc33)]){showMessage(_0x2daaba(0xa56));return;}const _0x2147bd=document[_0x2daaba(0x2f7)]('verify-answers-btn');_0x2147bd[_0x2daaba(0x687)]=!![],_0x2147bd[_0x2daaba(0x8c4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x523189=currentQuizData['questions'][_0x2daaba(0xce7)]((_0x8ddb17,_0x4ce740)=>{const _0x5387bb=_0x2daaba;let _0x1ff52c='';const _0xac6893=_0x8ddb17['questionType']||currentQuizData[_0x5387bb(0x4d2)];switch(_0xac6893){case _0x5387bb(0xc3f):_0x1ff52c=_0x8ddb17[_0x5387bb(0x450)][_0x8ddb17['correctAnswerIndex']];break;case _0x5387bb(0x2bc):_0x1ff52c=_0x8ddb17[_0x5387bb(0x4a4)];break;case'true_false':_0x1ff52c=_0x8ddb17['correctAnswer'][_0x5387bb(0x24c)]();break;case'matching_item':_0x1ff52c=_0x8ddb17[_0x5387bb(0xa17)];break;}return{'question':_0x8ddb17[_0x5387bb(0x859)]||_0x8ddb17['questionText'],'options':_0x8ddb17[_0x5387bb(0x450)]||null,'proposedAnswer':_0x1ff52c};}),_0x120b36='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x2daaba(0xd68)](_0x523189)+_0x2daaba(0x84e),_0x136418={'type':'ARRAY','items':{'type':_0x2daaba(0xde6),'properties':{'questionIndex':{'type':_0x2daaba(0x714)},'isCorrect':{'type':_0x2daaba(0x7d7)},'justification':{'type':_0x2daaba(0xcd6)},'suggestedAnswer':{'type':_0x2daaba(0xcd6)}},'required':[_0x2daaba(0x51a),_0x2daaba(0xd90),_0x2daaba(0x98b)]}},_0x3a0bf8=await callAnalysisApi(_0x120b36,{'type':'OBJECT','properties':{'result':_0x136418},'required':[_0x2daaba(0x5ec)]});displayVerificationResults(_0x3a0bf8[_0x2daaba(0x5ec)]);}catch(_0x466e4c){console[_0x2daaba(0x274)]('Error\x20verifying\x20answers:',_0x466e4c),showMessage(_0x2daaba(0x9f5));}finally{_0x2147bd['disabled']=![],_0x2147bd[_0x2daaba(0x8c4)]=_0x2daaba(0x7dd);}}function displayVerificationResults(_0x413d30){_0x413d30['forEach'](_0x129276=>{const _0x438813=_0x32db,_0x2bf775=document[_0x438813(0x839)](_0x438813(0xc31)+_0x129276[_0x438813(0x51a)]+'\x22]');if(_0x2bf775){const _0x5ca3fc=_0x2bf775[_0x438813(0x839)](_0x438813(0x878));if(_0x5ca3fc)_0x5ca3fc[_0x438813(0x2cf)]();let _0x392930='';_0x129276[_0x438813(0xd90)]?_0x392930=_0x438813(0x56f):_0x392930='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x129276[_0x438813(0x98b)]+_0x438813(0x638)+(_0x129276[_0x438813(0x358)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x129276[_0x438813(0x358)]+_0x438813(0xb6e):'')+_0x438813(0xaa4),_0x2bf775[_0x438813(0x8b3)](_0x438813(0x630),_0x392930);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x41cbeb,_0x2a9e74){const _0x5854cc=_0x121993,_0x48abf5=String(_0x41cbeb)[_0x5854cc(0xbbe)](',','.')[_0x5854cc(0xbbe)](/[^\d.-]/g,'')[_0x5854cc(0xe11)](),_0x2f11af=String(_0x2a9e74)[_0x5854cc(0xbbe)](',','.')[_0x5854cc(0xbbe)](/[^\d.-]/g,'')['trim']();if(_0x48abf5===''||_0x2f11af==='')return![];const _0x5e9348=parseFloat(_0x48abf5),_0x501cd=parseFloat(_0x2f11af);if(isNaN(_0x5e9348)||isNaN(_0x501cd))return![];return Math['abs'](_0x5e9348-_0x501cd)<0.001;}function isPotentiallyNumeric(_0x2f8bfb){const _0x1ccd65=_0x121993;if(typeof _0x2f8bfb!==_0x1ccd65(0xb73)&&typeof _0x2f8bfb!==_0x1ccd65(0xc3e))return![];const _0x5bc3ab=String(_0x2f8bfb)[_0x1ccd65(0xbbe)](',','.')[_0x1ccd65(0xe11)]();return _0x5bc3ab!==''&&!isNaN(parseFloat(_0x5bc3ab))&&isFinite(_0x5bc3ab);}async function gradeShortAnswer(_0x81b610,_0x437d87){const _0x270e8a=_0x121993,_0x3d8c15=_0x437d87[_0x270e8a(0x4a4)],_0x354df6=String(_0x81b610)[_0x270e8a(0xbbe)](/\$/g,'')[_0x270e8a(0xe11)](),_0x43df5d=String(_0x3d8c15)['replace'](/\$/g,'')[_0x270e8a(0xe11)]();if(_0x354df6[_0x270e8a(0xcfa)]()===_0x43df5d[_0x270e8a(0xcfa)]())return!![];if(isPotentiallyNumeric(_0x354df6)&&isPotentiallyNumeric(_0x43df5d)){if(compareNumericalAnswers(_0x354df6,_0x43df5d))return!![];}return console[_0x270e8a(0x92e)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x81b610,_0x3d8c15);}async function revealAnswerForAdmin(_0x31254d,_0x585f2f){const _0x1df51c=_0x121993,_0x34b3b3=doc(db,_0x1df51c(0x1da)+appId+_0x1df51c(0x928),currentLiveGameId);await updateDoc(_0x34b3b3,{'questionStatus':_0x1df51c(0xbcc)});}function showTop5LeaderboardView(_0x113aed){const _0x5dd187=_0x121993,_0x4c8e5a=Object[_0x5dd187(0xe02)](_0x113aed[_0x5dd187(0x32a)]||{})[_0x5dd187(0x9a7)](_0x3db51e=>_0x3db51e['status']===_0x5dd187(0x72f));_0x4c8e5a[_0x5dd187(0x423)]((_0x9ce328,_0x2c8955)=>_0x2c8955[_0x5dd187(0xbf1)]-_0x9ce328[_0x5dd187(0xbf1)]);const _0x402173=_0x4c8e5a['slice'](0x0,0x5),_0x4d13ff=_0x5dd187(0x2e2)+_0x402173[_0x5dd187(0xce7)]((_0x4c26d1,_0xe8ec18)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0xe8ec18+0x1)+'.\x20'+(_0x4c26d1[_0x5dd187(0xa7e)]||Object['keys'](_0x113aed[_0x5dd187(0x32a)])[_0x5dd187(0x266)](_0x53f3ba=>_0x113aed[_0x5dd187(0x32a)][_0x53f3ba]===_0x4c26d1))+_0x5dd187(0x3b3)+_0x4c26d1[_0x5dd187(0xbf1)]+_0x5dd187(0xc4a))[_0x5dd187(0x5c4)]('')+_0x5dd187(0x8ce)+(_0x113aed[_0x5dd187(0x21d)]+0x1===currentQuizData[_0x5dd187(0xc33)][_0x5dd187(0x2b5)]?_0x5dd187(0x85d):'ข้อต่อไป')+_0x5dd187(0x592);liveGameView[_0x5dd187(0x8c4)]=_0x4d13ff,document[_0x5dd187(0x2f7)](_0x5dd187(0x434))[_0x5dd187(0xdd3)](_0x5dd187(0x754),async()=>{const _0xe4a92c=_0x5dd187,_0x10abc8=doc(db,_0xe4a92c(0x1da)+appId+_0xe4a92c(0x928),currentLiveGameId),_0x41bb9e=_0x113aed[_0xe4a92c(0x21d)]+0x1;if(_0x41bb9e<currentQuizData['questions'][_0xe4a92c(0x2b5)]){const _0x30e0d0={'currentQuestionIndex':_0x41bb9e,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0xe4a92c(0xc27)](_0x113aed[_0xe4a92c(0x32a)])['forEach'](_0x59b339=>{const _0xe5dc39=_0xe4a92c;_0x30e0d0['players.'+_0x59b339+_0xe5dc39(0x8ac)]=![];}),await updateDoc(_0x10abc8,_0x30e0d0);}else await updateDoc(_0x10abc8,{'status':_0xe4a92c(0xb3b)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x336420=>{const _0x5d775b=_0x32db;if(_0x336420){userId=_0x336420[_0x5d775b(0x39a)],userIdDisplay[_0x5d775b(0xa28)]=userId;const _0x1596ac=await loadUserPreferences();_0x1596ac['projectSortOrder']&&(document[_0x5d775b(0x2f7)](_0x5d775b(0xb4e))[_0x5d775b(0x5b6)]=_0x1596ac['projectSortOrder']);globalDashboardSettings[_0x5d775b(0x607)]=_0x1596ac[_0x5d775b(0x607)]||_0x5d775b(0x865);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x5cab31,_0x467c28){const _0x303b8d=_0x121993;if(!userId)return;try{const _0x514866=doc(db,'artifacts/'+appId+_0x303b8d(0x4d6)+userId+'/preferences/main'),_0x2ae87a={};_0x2ae87a[_0x5cab31]=_0x467c28,await setDoc(_0x514866,_0x2ae87a,{'merge':!![]});}catch(_0x53ad73){console['error'](_0x303b8d(0x76b),_0x53ad73);}}async function loadUserPreferences(){const _0x26e0ed=_0x121993;if(!userId)return{};try{const _0x381b28=doc(db,_0x26e0ed(0x1da)+appId+_0x26e0ed(0x4d6)+userId+'/preferences/main'),_0x13c2aa=await getDoc(_0x381b28);if(_0x13c2aa[_0x26e0ed(0x75c)]())return _0x13c2aa[_0x26e0ed(0x72a)]();return{};}catch(_0x3a9713){return console['error'](_0x26e0ed(0x235),_0x3a9713),{};}}function parseIndentedBlueprint(_0x3fef0d){const _0x56aac2=_0x121993,_0x28f948=_0x3fef0d['split']('\x0a')[_0x56aac2(0x9a7)](_0x19e568=>_0x19e568[_0x56aac2(0xe11)]()!==''),_0x4c17ff=[];let _0x54a150=null,_0x228a08=null;return _0x28f948[_0x56aac2(0x616)](_0x2f5ea0=>{const _0x101cd5=_0x56aac2,_0x44ec23=_0x2f5ea0[_0x101cd5(0xe04)](/^\s*/)[0x0][_0x101cd5(0x2b5)],_0x1ef5fd=_0x2f5ea0[_0x101cd5(0xe11)]();if(_0x44ec23===0x0)_0x54a150={'sara':_0x1ef5fd,'mainTopics':[]},_0x4c17ff[_0x101cd5(0xdc4)](_0x54a150),_0x228a08=null;else{if(_0x44ec23>0x0&&_0x44ec23<0x8&&_0x54a150)_0x228a08={'topicName':_0x1ef5fd,'subTopics':[]},_0x54a150[_0x101cd5(0xd36)][_0x101cd5(0xdc4)](_0x228a08);else _0x44ec23>=0x8&&_0x228a08&&_0x228a08[_0x101cd5(0x606)]['push'](_0x1ef5fd);}}),{'curriculum':_0x4c17ff};}async function handleManualBlueprintSave(){const _0x40b5f7=_0x121993,_0x21e856=document['getElementById']('manual-bp-project-name')['value'][_0x40b5f7(0xe11)](),_0x55fe8c=document['getElementById'](_0x40b5f7(0x992))['value'][_0x40b5f7(0xe11)](),_0x3bce4c=document[_0x40b5f7(0x2f7)](_0x40b5f7(0xb6b))[_0x40b5f7(0x5b6)];if(!_0x21e856||!_0x55fe8c||!_0x3bce4c){showMessage(_0x40b5f7(0x6ea));return;}const _0x5a5e16=parseIndentedBlueprint(_0x3bce4c);if(!_0x5a5e16['curriculum']||_0x5a5e16[_0x40b5f7(0x4d9)]['length']===0x0){showMessage(_0x40b5f7(0x9ab));return;}const _0x1af052={};let _0x146989=0x0;_0x5a5e16['curriculum'][_0x40b5f7(0x616)](_0x2cf99d=>{const _0x23d7c8=_0x40b5f7;_0x2cf99d[_0x23d7c8(0xd36)][_0x23d7c8(0x616)](_0x55ebc9=>{const _0x2a20c1=_0x23d7c8;_0x55ebc9['subTopics'][_0x2a20c1(0x616)](_0x372c1e=>{const _0x22fec3=_0x2a20c1,_0x38a1e=_0x22fec3(0x308)+Date['now']()+Math[_0x22fec3(0x51e)]()['toString'](0x24)[_0x22fec3(0x716)](0x2,0x9);_0x1af052[_0x38a1e]={'sara':_0x2cf99d[_0x22fec3(0xbf6)],'mainTopic':_0x55ebc9[_0x22fec3(0xc17)],'subTopic':_0x372c1e,'status':'not_generated','lessonContent':null,'order':_0x146989++};});});});try{const _0x5e5546=collection(db,'artifacts/'+appId+_0x40b5f7(0xb14));await addDoc(_0x5e5546,{'projectName':_0x21e856,'gradeLevel':_0x55fe8c,'topics':_0x1af052,'createdAt':serverTimestamp()}),showMessage(_0x40b5f7(0x5de)+_0x21e856+_0x40b5f7(0x34f)),document['getElementById'](_0x40b5f7(0xd83))['classList'][_0x40b5f7(0x30d)]('hidden');}catch(_0x309d22){console['error'](_0x40b5f7(0x55b),_0x309d22),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x2be49d){const _0x542b40=_0x121993;showConfirmation(_0x542b40(0xe1a),async()=>{const _0x52c21a=_0x542b40;try{const _0x55da43=doc(db,_0x52c21a(0x1da)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x55da43,{[_0x52c21a(0x513)+_0x2be49d+_0x52c21a(0xc62)]:[]}),showMessage(_0x52c21a(0xddd)),openTopicQuizBank(_0x2be49d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3a2256){console[_0x52c21a(0x274)](_0x52c21a(0x5cc),_0x3a2256),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x3c824a,_0x4a521d=_0x121993(0xdb3)){const _0x218569=_0x121993,_0x4553a0=Object['entries'](_0x3c824a)[_0x218569(0xce7)](([_0x16149b,_0x34012e])=>({'name':_0x16149b,'score':_0x34012e[_0x218569(0xbf1)]||0x0,'badges':_0x34012e[_0x218569(0xbb7)]||[],'hasPerfectScoreBonus':_0x34012e[_0x218569(0x3a2)]||![]}));_0x4553a0[_0x218569(0x423)]((_0x23a792,_0x1192a4)=>{const _0x1f9ec2=_0x218569,_0x37f3e2=_0x1192a4['score']-_0x23a792[_0x1f9ec2(0xbf1)];if(_0x37f3e2!==0x0)return _0x37f3e2;return(_0x1192a4[_0x1f9ec2(0xbb7)][_0x1f9ec2(0x2b5)]||0x0)-(_0x23a792['badges'][_0x1f9ec2(0x2b5)]||0x0);});const _0x28d796=_0x2cfd91=>{const _0x39e822=_0x218569;if(!_0x2cfd91||_0x2cfd91[_0x39e822(0x2b5)]===0x0)return'';const _0x518c01={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x39e822(0xd19)+_0x2cfd91[_0x39e822(0xce7)](_0x2085ca=>_0x518c01[_0x2085ca]||'')[_0x39e822(0x5c4)]('')+'</div>';},_0x4ac934=_0x4553a0[_0x218569(0x7bc)](0x3),_0x208e38=_0x4ac934[_0x218569(0x2b5)]>0x0?_0x218569(0x386)+_0x4ac934['map']((_0x462d76,_0x50a605)=>{const _0x4414a6=_0x218569,_0x2e4ce1=_0x462d76[_0x4414a6(0x3a2)]?_0x4414a6(0x880):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x50a605+0x4)+_0x4414a6(0x2b7)+_0x462d76[_0x4414a6(0xa7e)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x462d76[_0x4414a6(0xbf1)]+_0x4414a6(0x2b1)+_0x2e4ce1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x218569(0x5c4)]('')+_0x218569(0x857):'',_0x304f1f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4553a0[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x4553a0[0x1]['name']+_0x218569(0xb6e)+_0x28d796(_0x4553a0[0x1][_0x218569(0xbb7)])+'<p\x20class=\x22text-xl\x22>'+_0x4553a0[0x1][_0x218569(0xbf1)]+_0x218569(0x2b1)+(_0x4553a0[0x1]['hasPerfectScoreBonus']?_0x218569(0x5f1):'')+_0x218569(0x268):'<div\x20class=\x22flex-1\x22></div>')+_0x218569(0x8ba)+(_0x4553a0[0x0]?_0x218569(0x7b1)+_0x4553a0[0x0][_0x218569(0xa7e)]+_0x218569(0xb6e)+_0x28d796(_0x4553a0[0x0]['badges'])+_0x218569(0x5b3)+_0x4553a0[0x0]['score']+_0x218569(0x2b1)+(_0x4553a0[0x0][_0x218569(0x3a2)]?_0x218569(0x5f1):'')+_0x218569(0xbb4):_0x218569(0x9f1))+_0x218569(0x8ba)+(_0x4553a0[0x2]?_0x218569(0xdb7)+_0x4553a0[0x2][_0x218569(0xa7e)]+_0x218569(0xb6e)+_0x28d796(_0x4553a0[0x2][_0x218569(0xbb7)])+_0x218569(0x210)+_0x4553a0[0x2][_0x218569(0xbf1)]+'\x20คะแนน\x20'+(_0x4553a0[0x2][_0x218569(0x3a2)]?_0x218569(0x5f1):'')+_0x218569(0xa94):_0x218569(0x9f1))+_0x218569(0x66c)+_0x208e38+_0x218569(0x7ad)+(currentMode===_0x218569(0x8fa)?_0x218569(0x3d3):_0x218569(0x45c))+_0x218569(0x2a7);liveGameView['innerHTML']=_0x304f1f,currentMode==='admin'&&document[_0x218569(0x2f7)](_0x218569(0x6c1))[_0x218569(0xdd3)](_0x218569(0x754),async()=>{const _0x36c82d=_0x218569;let _0x4b125b;_0x4a521d===_0x36c82d(0x6a7)?_0x4b125b=doc(db,_0x36c82d(0x1da)+appId+_0x36c82d(0xda1),currentLiveGameId):_0x4b125b=doc(db,_0x36c82d(0x1da)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x4b125b);});}function renderSyncSummaryView(_0x2f54ba,_0x194b58,_0x4396a1){const _0xb0b571=_0x121993,_0x5a1701=_0x2f54ba['gameVariant']||_0xb0b571(0xb7e),_0x1dc5c5=_0x5a1701==='anonymous'&&_0x2f54ba['isAnonymousRevealed']===![],_0x2ae317=Object[_0xb0b571(0xe02)](_0x2f54ba[_0xb0b571(0x32a)]||{}),_0x2339a5=_0x2f54ba[_0xb0b571(0x926)][_0xb0b571(0xc33)],_0x10d9d6=_0x194b58[_0xb0b571(0x5ac)]||_0x2f54ba['shuffledQuiz'][_0xb0b571(0x4d2)];let _0x2814ed=[];_0x10d9d6==='true_false'?_0x2814ed=[_0xb0b571(0x824),_0xb0b571(0x341)]:_0x2814ed=_0x194b58[_0xb0b571(0x450)]||[];const _0x3518f5=new Array(_0x2814ed[_0xb0b571(0x2b5)])[_0xb0b571(0x63c)](0x0),_0x36c3fd={};_0x2814ed[_0xb0b571(0x616)]((_0x507f93,_0x2403a4)=>{_0x36c3fd[_0x2403a4]=[];}),Object['entries'](_0x2f54ba[_0xb0b571(0x32a)]||{})[_0xb0b571(0x616)](([_0x9e9bb7,_0xa239a3])=>{const _0x4905af=_0xb0b571;if(_0xa239a3['status']!==_0x4905af(0x251)&&_0xa239a3[_0x4905af(0x645)]!==undefined&&_0xa239a3[_0x4905af(0x645)]!==null){const _0x578815=_0xa239a3['lastAnswerIndex'];if(_0x36c3fd[_0x578815]!==undefined){const _0x13bfea=_0x1dc5c5?_0x2f54ba[_0x4905af(0x422)][_0x9e9bb7]||'???':_0x9e9bb7;_0x36c3fd[_0x578815][_0x4905af(0xdc4)](_0x13bfea),_0x3518f5[_0x578815]++;}}});let _0x32a991='';const _0x428d8a=_0x2f54ba[_0xb0b571(0x21d)]>=_0x2339a5['length']-0x1;_0x4396a1?_0x5a1701===_0xb0b571(0x55d)?_0x428d8a?_0x32a991=_0xb0b571(0xb71):_0x32a991=_0xb0b571(0x7ae):_0x32a991=_0xb0b571(0xa43):_0x5a1701===_0xb0b571(0x55d)?_0x32a991='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x32a991=_0xb0b571(0x4ca);const _0x44ac13=_0x4396a1?'<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x2f54ba['pin']+_0xb0b571(0x6ac):'',_0x55303a=_0xb0b571(0xe10)+_0x44ac13+_0xb0b571(0x5d7)+_0x194b58[_0xb0b571(0x41b)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3518f5[_0xb0b571(0xce7)]((_0x10baed,_0x239f38)=>{const _0x3007ea=_0xb0b571,_0x429b30=_0x36c3fd[_0x239f38]['length']>0x0?_0x36c3fd[_0x239f38][_0x3007ea(0x5c4)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x421b34=_0x3007ea(0x634);return _0x3007ea(0xcb4)+_0x10baed+_0x3007ea(0x1f5)+_0x421b34+_0x3007ea(0xd37)+_0x239f38+_0x3007ea(0x959)+_0x2814ed[_0x239f38]+_0x3007ea(0xe0f)+_0x239f38+_0x3007ea(0xabf)+_0x429b30+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32a991+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xb0b571(0x8c4)]=_0x55303a;if(window['MathJax'])MathJax['typesetPromise']();if(_0x4396a1){const _0x32f43d=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);document[_0xb0b571(0x2f7)](_0xb0b571(0x74e))?.[_0xb0b571(0xdd3)](_0xb0b571(0x754),async()=>{const _0x12e676=_0xb0b571;await updateDoc(_0x32f43d,{'status':_0x12e676(0xb2b)});}),document[_0xb0b571(0x2f7)]('open-sync-scratchpad-btn')?.['addEventListener'](_0xb0b571(0x754),()=>{openScratchpad(_0x194b58,_0x2814ed);}),document[_0xb0b571(0x2f7)](_0xb0b571(0xcdc))?.['addEventListener'](_0xb0b571(0x754),async()=>{const _0x331349=_0xb0b571,_0x5f882f=_0x2f54ba[_0x331349(0x21d)]+0x1,_0x4b5e09={};Object['keys'](_0x2f54ba[_0x331349(0x32a)])[_0x331349(0x616)](_0xca4195=>{const _0x1a7b38=_0x331349;_0x4b5e09[_0x1a7b38(0x3d1)+_0xca4195+_0x1a7b38(0x271)]=![],_0x4b5e09[_0x1a7b38(0x3d1)+_0xca4195+_0x1a7b38(0x6dc)]=null;}),await updateDoc(_0x32f43d,{..._0x4b5e09,'status':_0x331349(0xa75),'currentQuestionIndex':_0x5f882f,'questionDisplayedAt':serverTimestamp()});}),document[_0xb0b571(0x2f7)](_0xb0b571(0x538))?.[_0xb0b571(0xdd3)](_0xb0b571(0x754),async()=>{const _0x374f3b=_0xb0b571;await updateDoc(_0x32f43d,{'status':_0x374f3b(0xb2b),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x2e80b6){const _0x2e790d=_0x121993,_0x2b5452=_0x2e80b6[_0x2e790d(0x21d)]>=_0x2e80b6[_0x2e790d(0x926)]['questions'][_0x2e790d(0x2b5)]-0x1;let _0x2d6ddf='';if(_0x2e80b6[_0x2e790d(0x624)]===!![]){const _0x23dfc5=_0x2e80b6[_0x2e790d(0x32a)][localTeamPlayers[0x0]],_0x2f5302=_0x23dfc5[_0x2e790d(0xa7e)],_0xa91590=_0x23dfc5[_0x2e790d(0xbf1)];_0x2d6ddf=_0x2e790d(0xd42)+_0x2f5302+_0x2e790d(0xc53)+_0xa91590+_0x2e790d(0xa71);}else _0x2d6ddf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2b5452?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x2e790d(0xb65))+_0x2e790d(0xb1f);const _0x12aac7=_0x2e790d(0xc46)+_0x2d6ddf+_0x2e790d(0x520);liveGameView['innerHTML']=_0x12aac7;}async function handleShowStudentRankings(){const _0x57c9a9=_0x121993,_0x4612d6=document[_0x57c9a9(0x839)](_0x57c9a9(0xaff));_0x4612d6&&(_0x4612d6[_0x57c9a9(0x8c4)]=_0x57c9a9(0x806));const _0x56450c=document[_0x57c9a9(0x839)]('#student-project-leaderboard-content\x20thead');_0x56450c&&(_0x56450c[_0x57c9a9(0x8c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x3480ce=document['getElementById'](_0x57c9a9(0xe18));_0x3480ce[_0x57c9a9(0x2ff)][_0x57c9a9(0x2cf)](_0x57c9a9(0xad0)),document['getElementById'](_0x57c9a9(0x432))[_0x57c9a9(0x717)]=()=>_0x3480ce[_0x57c9a9(0x2ff)][_0x57c9a9(0x30d)](_0x57c9a9(0xad0));const _0x5d5684=document[_0x57c9a9(0x2f7)](_0x57c9a9(0x78a)),_0x2c56ba=document[_0x57c9a9(0x2f7)](_0x57c9a9(0xa67)),_0x5b6835=document[_0x57c9a9(0x2f7)]('student-quiz-leaderboard-content'),_0x26b631=document[_0x57c9a9(0x2f7)]('student-project-leaderboard-content');_0x5d5684['onclick']=()=>{const _0x3e2db8=_0x57c9a9;_0x5d5684[_0x3e2db8(0x2ff)][_0x3e2db8(0x30d)](_0x3e2db8(0x72f)),_0x2c56ba['classList']['remove']('active'),_0x5b6835[_0x3e2db8(0x2ff)][_0x3e2db8(0x2cf)](_0x3e2db8(0xad0)),_0x26b631[_0x3e2db8(0x2ff)]['add'](_0x3e2db8(0xad0));},_0x2c56ba['onclick']=()=>{const _0x2d3aee=_0x57c9a9;_0x2c56ba['classList'][_0x2d3aee(0x30d)](_0x2d3aee(0x72f)),_0x5d5684[_0x2d3aee(0x2ff)][_0x2d3aee(0x2cf)](_0x2d3aee(0x72f)),_0x26b631[_0x2d3aee(0x2ff)]['remove'](_0x2d3aee(0xad0)),_0x5b6835['classList'][_0x2d3aee(0x30d)]('hidden');};try{const _0x24aed3=collection(db,_0x57c9a9(0x1da)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x4f204c=await getDocs(_0x24aed3),_0x496308=_0x4f204c[_0x57c9a9(0x3c3)][_0x57c9a9(0xce7)](_0x4232d8=>_0x4232d8[_0x57c9a9(0x72a)]());renderQuizLeaderboard(_0x496308,currentQuizData,_0x57c9a9(0xd92));const _0x294ca6=collection(db,_0x57c9a9(0x1da)+appId+'/public/data/projects/'+currentQuizData['projectId']+'/studentProfiles'),_0x34287f=await getDocs(_0x294ca6),_0x775f23=_0x34287f[_0x57c9a9(0x3c3)][_0x57c9a9(0xce7)](_0x1c31de=>_0x1c31de['data']());renderLeaderboard(_0x775f23,_0x57c9a9(0x4a9));}catch(_0x1f8a84){console[_0x57c9a9(0x274)](_0x57c9a9(0x4bf),_0x1f8a84),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x11529e){const _0x4fd0de=_0x121993,_0x1508f3=_0x11529e[_0x4fd0de(0x305)],_0x40d9fc=_0x1508f3[_0x4fd0de(0x683)][_0x4fd0de(0xbd2)],_0x2208d1=currentQuizData[_0x4fd0de(0xc33)][_0x40d9fc];if(!userId){showMessage(_0x4fd0de(0xd8b));return;}try{const _0x24f4b9={..._0x2208d1,'originalTopic':currentQuizData[_0x4fd0de(0x9ce)],'savedAt':serverTimestamp()},_0x12c33a=collection(db,_0x4fd0de(0x1da)+appId+'/users/'+userId+_0x4fd0de(0xbeb));await addDoc(_0x12c33a,_0x24f4b9),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x1508f3[_0x4fd0de(0x2ff)][_0x4fd0de(0x2cf)](_0x4fd0de(0x975)),_0x1508f3[_0x4fd0de(0x2ff)][_0x4fd0de(0x30d)]('text-green-600'),_0x1508f3[_0x4fd0de(0x687)]=!![];}catch(_0x55c0bc){console['error'](_0x4fd0de(0xa4e),_0x55c0bc),showMessage(_0x4fd0de(0xb80));}}async function selectProjectAndGenerateBlueprintQuiz(_0xfae2a5,_0xf8d719=null,_0x2ef132=null,_0x33e6b1=![]){const _0x3bf1d3=_0x121993;cameFromBlueprint=!![];const _0x42cdb8=document[_0x3bf1d3(0x2f7)](_0x3bf1d3(0x68e))?.[_0x3bf1d3(0x5b6)][_0x3bf1d3(0xe11)]();let _0x72f93e=null;if(_0x42cdb8){showMessage(_0x3bf1d3(0x4b5));try{const _0x370db2=await fetchFileFromUrl(_0x42cdb8,_0x3bf1d3(0x94e)),_0x3e4988=await new Promise((_0x109353,_0x569ca0)=>{const _0x25563e=_0x3bf1d3,_0x2ebc76=new FileReader();_0x2ebc76[_0x25563e(0x61a)](_0x370db2),_0x2ebc76['onload']=()=>_0x109353(_0x2ebc76['result'][_0x25563e(0xd47)](',')[0x1]),_0x2ebc76['onerror']=_0x569ca0;});_0x72f93e=[{'inlineData':{'mimeType':_0x370db2[_0x3bf1d3(0x9c8)],'data':_0x3e4988}}],messageModal[_0x3bf1d3(0x2ff)][_0x3bf1d3(0x30d)](_0x3bf1d3(0xad0));}catch(_0x53decd){console[_0x3bf1d3(0x274)](_0x3bf1d3(0x811),_0x53decd),showMessage(_0x3bf1d3(0x366));}}const _0x1cb21d=document[_0x3bf1d3(0x2f7)](_0x3bf1d3(0x320)),_0x324207=document[_0x3bf1d3(0x2f7)](_0x3bf1d3(0x75d)),_0x2c736d=_0x1cb21d[_0x3bf1d3(0x839)]('h3'),_0x4a0b46=document['getElementById'](_0x3bf1d3(0xcd3)),_0x1044d1=document['getElementById'](_0x3bf1d3(0xd5d));_0x2c736d[_0x3bf1d3(0xa28)]=_0x3bf1d3(0x54a),_0x4a0b46['textContent']=_0x3bf1d3(0x354),_0x4a0b46[_0x3bf1d3(0x687)]=!![];allProjects[_0x3bf1d3(0x2b5)]===0x0?_0x324207[_0x3bf1d3(0x8c4)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x324207['innerHTML']=_0x3bf1d3(0xa9e)+allProjects['map'](_0x45ec7c=>_0x3bf1d3(0xc7d)+_0x45ec7c['id']+'\x22>'+_0x45ec7c[_0x3bf1d3(0x5d3)]+_0x3bf1d3(0xbc5))['join'](''),_0x4a0b46['disabled']=![]);_0x1cb21d[_0x3bf1d3(0x2ff)][_0x3bf1d3(0x2cf)](_0x3bf1d3(0xad0));const _0x5f5add=async()=>{const _0x3c1b51=_0x3bf1d3,_0xd817c0=_0x324207[_0x3c1b51(0x5b6)];if(!_0xd817c0){showMessage(_0x3c1b51(0x88d));return;}_0x1cb21d['classList'][_0x3c1b51(0x30d)](_0x3c1b51(0xad0)),document[_0x3c1b51(0x2f7)](_0x3c1b51(0xcf1))[_0x3c1b51(0x2ff)]['add'](_0x3c1b51(0xad0)),await loadProjectDetails(_0xd817c0),showView(_0x3c1b51(0x6d3)),handleGenerateQuizFromBlueprintTopic(_0xfae2a5,_0xf8d719,_0xd817c0,_0x2ef132,_0x33e6b1,_0x72f93e),_0x373217();},_0x373217=()=>{const _0x324c49=_0x3bf1d3;_0x2c736d['textContent']=_0x324c49(0x4f0),_0x4a0b46[_0x324c49(0xa28)]=_0x324c49(0x669),_0x4a0b46[_0x324c49(0x223)]('click',_0x5f5add),_0x1044d1[_0x324c49(0x223)](_0x324c49(0x754),_0x373217),_0x4a0b46[_0x324c49(0xdd3)](_0x324c49(0x754),confirmMoveQuiz);};_0x4a0b46[_0x3bf1d3(0x223)](_0x3bf1d3(0x754),confirmMoveQuiz),_0x4a0b46[_0x3bf1d3(0xdd3)](_0x3bf1d3(0x754),_0x5f5add),_0x1044d1['addEventListener']('click',_0x373217);}function listenForStarredQuizzes(){const _0x3c15c9=_0x121993;if(!userId)return;const _0x462194=collection(db,_0x3c15c9(0x1da)+appId+_0x3c15c9(0x653)),_0x562053=query(_0x462194,where('isStarred','==',!![]));onSnapshot(_0x562053,_0x3810f9=>{const _0x51c5c3=_0x3c15c9;starredQuizzes=_0x3810f9[_0x51c5c3(0x3c3)][_0x51c5c3(0xce7)](_0x357751=>({'id':_0x357751['id'],..._0x357751[_0x51c5c3(0x72a)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x4ef9cf=>{const _0x464a46=_0x3c15c9;console['error'](_0x464a46(0xacc),_0x4ef9cf);});}function listenForFileShortcuts(){const _0x2d885b=_0x121993,_0x6e46d7=doc(db,_0x2d885b(0xb89),_0x2d885b(0xb5c));onSnapshot(_0x6e46d7,_0x4ff964=>{const _0x487aff=_0x2d885b;let _0x13c3c8=[],_0x4044f7=[],_0x49b0c0={};if(_0x4ff964['exists']()){const _0x3fc1c0=_0x4ff964[_0x487aff(0x72a)]();_0x13c3c8=_0x3fc1c0[_0x487aff(0x731)]||[],_0x4044f7=_0x3fc1c0['fileShortcutTabs']||[],_0x49b0c0=_0x3fc1c0[_0x487aff(0x489)]||{};}!_0x4044f7[_0x487aff(0x266)](_0x7a8ea7=>_0x7a8ea7['id']===_0x487aff(0x943))&&_0x4044f7[_0x487aff(0xb24)]({'id':_0x487aff(0x943),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x13c3c8[_0x487aff(0x266)](_0x57a4e2=>_0x57a4e2['id']===_0x487aff(0xc87))&&_0x13c3c8[_0x487aff(0xb24)]({'id':'file-default-1','name':_0x487aff(0xd30),'url':'','isDefault':!![]}),!_0x13c3c8[_0x487aff(0x266)](_0x4f0296=>_0x4f0296['id']===_0x487aff(0x94f))&&_0x13c3c8[_0x487aff(0xb24)]({'id':_0x487aff(0x94f),'name':_0x487aff(0xa9c),'url':'','isDefault':!![]}),fileShortcuts=_0x13c3c8,fileShortcutTabs=_0x4044f7,fileShortcutOrder=_0x49b0c0,renderFileShortcuts(),!document['getElementById'](_0x487aff(0xccc))[_0x487aff(0x2ff)][_0x487aff(0x416)](_0x487aff(0xad0))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0xd49890=_0x121993,_0x636f9c=doc(db,_0xd49890(0xb89),_0xd49890(0xb5c));try{await setDoc(_0x636f9c,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x3e6600){console[_0xd49890(0x274)](_0xd49890(0xac3),_0x3e6600);}}function renderAdditionalFileShortcutsModal(){const _0x4cfc15=_0x121993,_0x32b24d=document[_0x4cfc15(0x2f7)]('file-shortcut-tabs-nav'),_0x37a1ef=document[_0x4cfc15(0x2f7)]('additional-file-shortcuts-list');if(!_0x32b24d||!_0x37a1ef)return;_0x32b24d[_0x4cfc15(0x8c4)]=fileShortcutTabs[_0x4cfc15(0xce7)](_0xb5cbeb=>{const _0x4b5fc3=_0x4cfc15,_0x4ae98a=_0xb5cbeb['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0xb5cbeb['id']+_0x4b5fc3(0x609)+(_0x4ae98a?_0x4b5fc3(0xbf3):_0x4b5fc3(0x382))+_0x4b5fc3(0x777)+_0xb5cbeb['name']+_0x4b5fc3(0x790)+_0xb5cbeb['name']+_0x4b5fc3(0x73b)+(!_0xb5cbeb[_0x4b5fc3(0x5d0)]?_0x4b5fc3(0xda5)+_0xb5cbeb['id']+_0x4b5fc3(0x5e3):'')+_0x4b5fc3(0x6ed);})['join']('');const _0x4050ea=fileShortcutTabs['find'](_0x301bd9=>_0x301bd9['id']===activeFileShortcutTabId);let _0x46aebd=_0x4050ea?.['isDefault']?[...fileShortcuts]:fileShortcuts[_0x4cfc15(0x9a7)](_0x180fc6=>(_0x4050ea?.['shortcutIds']||[])[_0x4cfc15(0xcec)](_0x180fc6['id']));const _0x2137d8=fileShortcutOrder[activeFileShortcutTabId]||[];_0x46aebd['sort']((_0x42305d,_0x538424)=>{const _0x54f4af=_0x4cfc15,_0x1b0312=_0x2137d8[_0x54f4af(0xc45)](_0x42305d['id']),_0x586ced=_0x2137d8[_0x54f4af(0xc45)](_0x538424['id']);return(_0x1b0312===-0x1?Infinity:_0x1b0312)-(_0x586ced===-0x1?Infinity:_0x586ced);}),_0x37a1ef[_0x4cfc15(0x8c4)]=_0x46aebd[_0x4cfc15(0xce7)](_0x1d82cb=>{const _0x30ce50=_0x4cfc15,_0x4f5898=_0x1d82cb[_0x30ce50(0x25a)]?'📄':'🔗',_0x43d61e=fileShortcutTabs['filter'](_0x5cded4=>!_0x5cded4['isDefault']),_0x5923d3=_0x4050ea[_0x30ce50(0x5d0)]&&_0x43d61e[_0x30ce50(0x2b5)]>0x0?_0x30ce50(0x84d)+_0x43d61e[_0x30ce50(0xce7)](_0x11f179=>_0x30ce50(0x664)+_0x1d82cb['id']+'\x22\x20data-target-tab-id=\x22'+_0x11f179['id']+'\x22>'+_0x11f179['name']+_0x30ce50(0xa6d))['join']('')+_0x30ce50(0x506):'';return _0x30ce50(0x1d3)+_0x1d82cb['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x4f5898+'\x20'+_0x1d82cb['name']+_0x30ce50(0x44d)+_0x1d82cb['id']+_0x30ce50(0x637)+_0x1d82cb['id']+_0x30ce50(0x36a)+(!_0x1d82cb[_0x30ce50(0x5d0)]?_0x30ce50(0xdfc)+_0x1d82cb['id']+_0x30ce50(0xe19):'')+_0x30ce50(0x5fa)+(!_0x4050ea[_0x30ce50(0x5d0)]?_0x30ce50(0x42c)+_0x1d82cb['id']+_0x30ce50(0x58e):'')+_0x30ce50(0x5fa)+_0x5923d3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4cfc15(0x5c4)]('')||_0x4cfc15(0xc43),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x3e6c67=_0x121993;document['querySelectorAll'](_0x3e6c67(0x9ac))[_0x3e6c67(0x616)](_0x4e67dc=>{const _0x56c7f4=_0x3e6c67;_0x4e67dc[_0x56c7f4(0x717)]=_0x2c4220=>{const _0xb10ba5=_0x56c7f4;activeFileShortcutTabId=_0x2c4220[_0xb10ba5(0x305)][_0xb10ba5(0x683)][_0xb10ba5(0x9e5)],renderAdditionalFileShortcutsModal();},_0x4e67dc['ondblclick']=_0x231f5e=>{const _0xffff13=_0x56c7f4,_0x567fc2=_0x231f5e[_0xffff13(0x305)]['querySelector'](_0xffff13(0x980));_0x231f5e[_0xffff13(0x305)]['querySelector'](_0xffff13(0xd4d))[_0xffff13(0x2ff)][_0xffff13(0x30d)](_0xffff13(0xad0)),_0x567fc2[_0xffff13(0x2ff)]['remove'](_0xffff13(0xad0)),_0x567fc2[_0xffff13(0x383)](),_0x567fc2[_0xffff13(0xcda)]();};}),document[_0x3e6c67(0x4cb)](_0x3e6c67(0x5fe))[_0x3e6c67(0x616)](_0x40e102=>{const _0x4f16a1=_0x3e6c67,_0x4b8dc4=()=>{const _0x377edc=_0x32db,_0x4f166b=_0x40e102[_0x377edc(0xb5f)](_0x377edc(0x9ac))[_0x377edc(0x683)]['tabId'],_0x5505fa=fileShortcutTabs[_0x377edc(0x266)](_0x4be3c9=>_0x4be3c9['id']===_0x4f166b);_0x5505fa&&(_0x5505fa[_0x377edc(0xa7e)]=_0x40e102['value'][_0x377edc(0xe11)]()||_0x5505fa[_0x377edc(0xa7e)],saveFileShortcutConfig());};_0x40e102['onblur']=_0x4b8dc4,_0x40e102[_0x4f16a1(0xde2)]=_0x40868c=>{const _0x5c79fb=_0x4f16a1;if(_0x40868c['key']===_0x5c79fb(0x3c4))_0x40e102[_0x5c79fb(0x993)]();};}),document[_0x3e6c67(0x4cb)](_0x3e6c67(0xce5))[_0x3e6c67(0x616)](_0x46c582=>_0x46c582[_0x3e6c67(0x717)]=_0x33ace3=>{const _0x5a40b9=_0x3e6c67,_0x4d13e9=_0x33ace3[_0x5a40b9(0x305)][_0x5a40b9(0x683)][_0x5a40b9(0x9e5)];showConfirmation(_0x5a40b9(0x399),()=>{const _0x37b33b=_0x5a40b9;fileShortcutTabs=fileShortcutTabs['filter'](_0x4c5047=>_0x4c5047['id']!==_0x4d13e9),delete fileShortcutOrder[_0x4d13e9];if(activeFileShortcutTabId===_0x4d13e9)activeFileShortcutTabId=_0x37b33b(0x943);saveFileShortcutConfig();});}),document[_0x3e6c67(0x4cb)](_0x3e6c67(0x400))[_0x3e6c67(0x616)](_0xaa31ee=>_0xaa31ee[_0x3e6c67(0x717)]=_0x480871=>{const _0x55dcb0=_0x3e6c67;_0x480871[_0x55dcb0(0xd5c)]();const {shortcutId:_0x22c3da,targetTabId:_0x596405}=_0x480871['currentTarget']['dataset'],_0x1ac7c8=fileShortcutTabs['find'](_0x34d6b9=>_0x34d6b9['id']===_0x596405);_0x1ac7c8&&!_0x1ac7c8['shortcutIds'][_0x55dcb0(0xcec)](_0x22c3da)&&(_0x1ac7c8[_0x55dcb0(0xc63)][_0x55dcb0(0xdc4)](_0x22c3da),saveFileShortcutConfig());}),document[_0x3e6c67(0x4cb)](_0x3e6c67(0xba3))['forEach'](_0x423ce1=>_0x423ce1[_0x3e6c67(0x717)]=_0x5894ae=>{const _0x5eef5b=_0x3e6c67,_0x14729d=_0x5894ae[_0x5eef5b(0x305)]['dataset']['shortcutId'],_0x4742f9=fileShortcutTabs[_0x5eef5b(0x266)](_0x64c9c2=>_0x64c9c2['id']===activeFileShortcutTabId);_0x4742f9&&!_0x4742f9[_0x5eef5b(0x5d0)]&&(_0x4742f9[_0x5eef5b(0xc63)]=_0x4742f9[_0x5eef5b(0xc63)]['filter'](_0x1557a7=>_0x1557a7!==_0x14729d),saveFileShortcutConfig());}),document[_0x3e6c67(0x4cb)](_0x3e6c67(0x3ea))['forEach'](_0x547073=>_0x547073[_0x3e6c67(0x717)]=_0x5c9577=>{const _0x206b35=_0x3e6c67;_0x5c9577[_0x206b35(0x5c0)]();const _0x32eeda=_0x5c9577[_0x206b35(0x305)][_0x206b35(0x763)];document[_0x206b35(0x4cb)](_0x206b35(0xd17))[_0x206b35(0x616)](_0x1b1ab2=>_0x1b1ab2['classList']['add']('hidden')),_0x32eeda[_0x206b35(0x2ff)]['remove'](_0x206b35(0xad0));});const _0x56a8fc=document['getElementById'](_0x3e6c67(0x8d6));let _0x332574=null;_0x56a8fc[_0x3e6c67(0x73d)]=_0x12d9ed=>{const _0x390016=_0x3e6c67;_0x332574=_0x12d9ed[_0x390016(0x898)]['closest']('.shortcut-list-item');if(_0x332574)setTimeout(()=>_0x332574[_0x390016(0x2ff)][_0x390016(0x30d)](_0x390016(0xb00)),0x0);},_0x56a8fc[_0x3e6c67(0xe0a)]=()=>{const _0x218e2f=_0x3e6c67;_0x332574&&(_0x332574[_0x218e2f(0x2ff)]['remove'](_0x218e2f(0xb00)),_0x332574=null);},_0x56a8fc[_0x3e6c67(0x860)]=_0x478215=>{const _0x2646ca=_0x3e6c67;_0x478215[_0x2646ca(0xd5c)]();},_0x56a8fc[_0x3e6c67(0xd76)]=_0x359aa7=>{const _0x5dc220=_0x3e6c67;_0x359aa7[_0x5dc220(0xd5c)]();if(_0x332574){const _0x4b05a0=[..._0x56a8fc['querySelectorAll'](_0x5dc220(0xc59))][_0x5dc220(0x971)]((_0x55f712,_0x4c2d3e)=>{const _0x306361=_0x5dc220,_0x49d418=_0x4c2d3e[_0x306361(0xc65)](),_0x2b45b4=_0x359aa7[_0x306361(0x639)]-_0x49d418[_0x306361(0xa57)]-_0x49d418[_0x306361(0x77b)]/0x2;return _0x2b45b4<0x0&&_0x2b45b4>_0x55f712[_0x306361(0x544)]?{'offset':_0x2b45b4,'element':_0x4c2d3e}:_0x55f712;},{'offset':Number[_0x5dc220(0x96b)]})[_0x5dc220(0x9be)];_0x4b05a0==null?_0x56a8fc[_0x5dc220(0xd74)](_0x332574):_0x56a8fc[_0x5dc220(0xaa3)](_0x332574,_0x4b05a0);const _0x54fe93=[..._0x56a8fc['querySelectorAll'](_0x5dc220(0x313))]['map'](_0x2ad34a=>_0x2ad34a['dataset'][_0x5dc220(0x3a1)]);fileShortcutOrder[activeFileShortcutTabId]=_0x54fe93,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x14a11d=_0x121993,_0x1b2365=prompt(_0x14a11d(0x412),_0x14a11d(0xc47));_0x1b2365&&_0x1b2365[_0x14a11d(0xe11)]()&&(fileShortcutTabs[_0x14a11d(0xdc4)]({'id':_0x14a11d(0x370)+Date[_0x14a11d(0x2a6)](),'name':_0x1b2365[_0x14a11d(0xe11)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x1145fb=_0x121993,_0x480c26=document[_0x1145fb(0x2f7)](_0x1145fb(0x678)),_0x39477a=document['getElementById'](_0x1145fb(0x8d6)),_0x179fba=document[_0x1145fb(0x2f7)](_0x1145fb(0x97b));if(_0x179fba)_0x179fba[_0x1145fb(0x2ff)][_0x1145fb(0x30d)](_0x1145fb(0xad0));if(!_0x480c26||!_0x39477a)return;const _0x4470ca=fileShortcuts[_0x1145fb(0x7bc)](0x0,0x4),_0x392463=fileShortcuts[_0x1145fb(0x7bc)](0x4);_0x480c26[_0x1145fb(0x8c4)]=_0x4470ca[_0x1145fb(0xce7)](_0x2cefa4=>{const _0x512126=_0x1145fb,_0x51b3cc=_0x2cefa4[_0x512126(0x25a)]&&_0x2cefa4[_0x512126(0x25a)][_0x512126(0xe11)]()!=='',_0x591582=selectedFile&&selectedFile[_0x512126(0x3a1)]===_0x2cefa4['id'];let _0x5e35dc='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x34788b='🔗';if(_0x591582)_0x5e35dc=_0x512126(0x632),_0x34788b=_0x512126(0xbac);else _0x51b3cc&&(_0x5e35dc=_0x512126(0x9fe),_0x34788b='📄');const _0x58dc43=!_0x2cefa4[_0x512126(0x5d0)]?_0x512126(0xdfc)+_0x2cefa4['id']+_0x512126(0x978):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x2cefa4['id']+_0x512126(0x8f7)+_0x5e35dc+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x34788b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x2cefa4[_0x512126(0xa7e)]+_0x512126(0xa0a)+_0x2cefa4['id']+_0x512126(0xa8f)+_0x58dc43+_0x512126(0x706);})[_0x1145fb(0x5c4)](''),_0x392463['length']>0x0&&(_0x480c26[_0x1145fb(0x8c4)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x392463[_0x1145fb(0x2b5)]>0x0?_0x39477a['innerHTML']=_0x392463[_0x1145fb(0xce7)](_0x50c93d=>_0x1145fb(0x726)+(_0x50c93d[_0x1145fb(0x25a)]?'📄':'🔗')+'\x20'+_0x50c93d[_0x1145fb(0xa7e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x50c93d['id']+_0x1145fb(0xbb8)+_0x50c93d['id']+_0x1145fb(0x671)+(!_0x50c93d[_0x1145fb(0x5d0)]?_0x1145fb(0xdfc)+_0x50c93d['id']+_0x1145fb(0xe19):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1145fb(0x5c4)](''):_0x39477a[_0x1145fb(0x8c4)]=_0x1145fb(0x1f3);}function openFileShortcutEditor(_0x39439d=null){const _0x3b73b0=_0x121993,_0x2e259c=document[_0x3b73b0(0x2f7)](_0x3b73b0(0xb27)),_0x8c2197=document[_0x3b73b0(0x2f7)]('file-shortcut-modal-title'),_0x14de1c=document['getElementById'](_0x3b73b0(0x8c5)),_0x582643=document['getElementById']('file-shortcut-name-input'),_0x4613fd=document[_0x3b73b0(0x2f7)](_0x3b73b0(0xda6));if(_0x39439d){const _0x2acb62=fileShortcuts[_0x3b73b0(0x266)](_0xe2cf72=>_0xe2cf72['id']===_0x39439d);if(!_0x2acb62)return;_0x8c2197['textContent']=_0x3b73b0(0xdf9),_0x14de1c['value']=_0x2acb62['id'],_0x582643['value']=_0x2acb62[_0x3b73b0(0xa7e)],_0x4613fd[_0x3b73b0(0x5b6)]=_0x2acb62[_0x3b73b0(0x25a)]||'';}else _0x8c2197[_0x3b73b0(0xa28)]=_0x3b73b0(0x6cf),_0x14de1c[_0x3b73b0(0x5b6)]='',_0x582643[_0x3b73b0(0x5b6)]='',_0x4613fd['value']='';_0x2e259c['classList']['remove'](_0x3b73b0(0xad0));}async function saveFileShortcutChanges(){const _0x56e2dc=_0x121993,_0x284b98=document[_0x56e2dc(0x2f7)](_0x56e2dc(0x8c5))[_0x56e2dc(0x5b6)],_0x424fee=document[_0x56e2dc(0x2f7)]('file-shortcut-name-input')['value'][_0x56e2dc(0xe11)](),_0x52d688=document[_0x56e2dc(0x2f7)](_0x56e2dc(0xda6))[_0x56e2dc(0x5b6)][_0x56e2dc(0xe11)]();if(!_0x424fee){showMessage(_0x56e2dc(0x4f8));return;}const _0x2a615a={'id':_0x284b98||_0x56e2dc(0x3a6)+Date[_0x56e2dc(0x2a6)](),'name':_0x424fee,'url':_0x52d688,'isDefault':_0x284b98['startsWith'](_0x56e2dc(0xa76))};let _0x37a65b;_0x284b98?_0x37a65b=fileShortcuts[_0x56e2dc(0xce7)](_0x5c1ec1=>_0x5c1ec1['id']===_0x284b98?_0x2a615a:_0x5c1ec1):_0x37a65b=[...fileShortcuts,_0x2a615a];try{const _0x3a63d5=doc(db,_0x56e2dc(0xb89),_0x56e2dc(0xb5c));await setDoc(_0x3a63d5,{'shortcuts':_0x37a65b},{'merge':!![]}),document[_0x56e2dc(0x2f7)]('file-shortcut-editor-modal')[_0x56e2dc(0x2ff)][_0x56e2dc(0x30d)](_0x56e2dc(0xad0));}catch(_0x438117){console[_0x56e2dc(0x274)](_0x56e2dc(0x773),_0x438117),showMessage(_0x56e2dc(0xb80));}}async function handleFileShortcutClick(_0x86ccd1){const _0x1704fc=_0x121993,_0x4041d3=fileShortcuts[_0x1704fc(0x266)](_0x5a7c7b=>_0x5a7c7b['id']===_0x86ccd1);if(!_0x4041d3)return;if(!_0x4041d3['url']||_0x4041d3[_0x1704fc(0x25a)]['trim']()===''){openFileShortcutEditor(_0x86ccd1);return;}const _0x3b246e=document['querySelector'](_0x1704fc(0x35f)+_0x86ccd1+'\x22]');if(_0x3b246e){const _0x4ba635=_0x3b246e[_0x1704fc(0x8c4)];_0x3b246e[_0x1704fc(0x8c4)]=_0x1704fc(0xa3c),_0x3b246e[_0x1704fc(0x687)]=!![];}document['querySelectorAll'](_0x1704fc(0x2f0))[_0x1704fc(0x616)](_0x56a192=>{const _0x1d7dc8=_0x1704fc;if(_0x56a192[_0x1d7dc8(0x683)]['id']!==_0x86ccd1)_0x56a192['classList'][_0x1d7dc8(0x30d)](_0x1d7dc8(0xb00),_0x1d7dc8(0x460));});try{const _0x5d325e=new URL(_0x4041d3[_0x1704fc(0x25a)])[_0x1704fc(0xceb)],_0x3994a6=_0x5d325e[_0x1704fc(0x755)](_0x5d325e['lastIndexOf']('/')+0x1)||(_0x4041d3[_0x1704fc(0x25a)][_0x1704fc(0xcec)](_0x1704fc(0x87c))?_0x1704fc(0xcbd):_0x1704fc(0xb42)),_0x288172=await fetchFileFromUrl(_0x4041d3[_0x1704fc(0x25a)],_0x3994a6);_0x288172['shortcutId']=_0x86ccd1,selectedFile=_0x288172,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x1704fc(0xe1c))[_0x1704fc(0x98c)]({'behavior':'smooth','block':_0x1704fc(0xdb9)});}catch(_0x15f888){console[_0x1704fc(0x274)](_0x1704fc(0x622),_0x15f888),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x15f888[_0x1704fc(0x5e6)]),renderFileShortcuts();}finally{document[_0x1704fc(0x4cb)](_0x1704fc(0x2f0))[_0x1704fc(0x616)](_0x4f6e85=>{const _0x5d2e17=_0x1704fc;_0x4f6e85[_0x5d2e17(0x2ff)][_0x5d2e17(0x2cf)]('opacity-50',_0x5d2e17(0x460)),_0x4f6e85['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x4a9ee2=_0x121993;if(allQuizzesGlobal[_0x4a9ee2(0x2b5)]>0x0)return;console[_0x4a9ee2(0x92e)](_0x4a9ee2(0x8b0)),showMessage(_0x4a9ee2(0xd8e));try{const _0x507850=await getDocs(collection(db,_0x4a9ee2(0x1da)+appId+_0x4a9ee2(0x653)));allQuizzesGlobal=_0x507850[_0x4a9ee2(0x3c3)][_0x4a9ee2(0xce7)](_0x25a1b8=>({'id':_0x25a1b8['id'],..._0x25a1b8['data']()})),console[_0x4a9ee2(0x92e)](_0x4a9ee2(0x447)+allQuizzesGlobal[_0x4a9ee2(0x2b5)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal['classList'][_0x4a9ee2(0x30d)](_0x4a9ee2(0xad0));}catch(_0x57c521){console['error'](_0x4a9ee2(0xd77),_0x57c521),messageModal[_0x4a9ee2(0x2ff)][_0x4a9ee2(0x30d)]('hidden');throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x420f56=_0x121993;if(!currentQuizData||!currentQuizData[_0x420f56(0xc33)]){showMessage(_0x420f56(0x9da));return;}const _0x4623ed=currentQuizData,_0x539374=window[_0x420f56(0x598)]('',_0x420f56(0x88b)),_0x330ede=_0xc3e3ce=>String[_0x420f56(0xdbf)](0x41+_0xc3e3ce),_0x51e780=_0x420f56(0x42d)+_0x4623ed[_0x420f56(0x9ce)]+_0x420f56(0x565)+_0x4623ed[_0x420f56(0x9ce)]+_0x420f56(0xa74)+_0x4623ed[_0x420f56(0xc33)][_0x420f56(0xce7)]((_0x36820f,_0x2f20dc)=>{const _0x57d994=_0x420f56;let _0x558238='';const _0x1687ff=_0x36820f[_0x57d994(0x5ac)]||_0x4623ed['quizType'];switch(_0x1687ff){case _0x57d994(0xc3f):case _0x57d994(0x419):_0x558238='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x36820f['options'][_0x57d994(0xce7)]((_0x5deddf,_0x20d732)=>_0x57d994(0x7d5)+_0x330ede(_0x20d732)+'.\x20'+_0x5deddf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x57d994(0x5c4)]('<br>')+_0x57d994(0x72e);break;case _0x57d994(0x668):_0x558238=_0x57d994(0x590);break;default:_0x558238=_0x57d994(0xc91);break;}return _0x57d994(0x98a)+(_0x2f20dc+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x36820f['stem']||_0x36820f[_0x57d994(0x41b)])+_0x57d994(0x436)+(_0x36820f[_0x57d994(0x426)]?_0x57d994(0x79a)+_0x36820f['imageCode']+_0x57d994(0x72e):'')+_0x57d994(0xaa1)+_0x558238+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x420f56(0x5c4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x539374['document'][_0x420f56(0xd73)](_0x51e780),_0x539374[_0x420f56(0x31f)]['close'](),_0x539374[_0x420f56(0x391)]=function(){setTimeout(()=>{const _0x3011a4=_0x32db;_0x539374[_0x3011a4(0xc74)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xea8c35=_0x121993;if(!currentQuizData||!currentQuizData[_0xea8c35(0xc33)]){showMessage(_0xea8c35(0x9da));return;}const _0x4faa8f=currentQuizData,_0x452873=window[_0xea8c35(0x598)]('','_blank'),_0x4c9511=_0x436c11=>String[_0xea8c35(0xdbf)](0x41+_0x436c11),_0x3ead2b=_0xea8c35(0x8f5)+_0x4faa8f[_0xea8c35(0x9ce)]+_0xea8c35(0x71b)+_0x4faa8f[_0xea8c35(0xc33)]['map']((_0x4ffbeb,_0x21a2d0)=>{const _0x9ab684=_0xea8c35;let _0x76a180='';const _0x3ab8bd=_0x4ffbeb[_0x9ab684(0x5ac)]||_0x4faa8f[_0x9ab684(0x4d2)];switch(_0x3ab8bd){case'multiple_choice':case _0x9ab684(0x419):_0x76a180='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x4ffbeb[_0x9ab684(0x450)][_0x9ab684(0xce7)]((_0x4f9b95,_0x1ccf6d)=>_0x9ab684(0x701)+_0x4c9511(_0x1ccf6d)+'.\x20'+_0x4f9b95+'</span>')[_0x9ab684(0x5c4)]('<br>')+_0x9ab684(0xc54);break;case _0x9ab684(0x668):_0x76a180=_0x9ab684(0x66f);break;default:_0x76a180='';break;}return _0x9ab684(0xbdb)+_0x4faa8f[_0x9ab684(0x9ce)]+_0x9ab684(0x2a4)+(_0x21a2d0+0x1)+_0x9ab684(0x51b)+(_0x4ffbeb[_0x9ab684(0x859)]||_0x4ffbeb['questionText'])+_0x9ab684(0x436)+(_0x4ffbeb[_0x9ab684(0x426)]?_0x9ab684(0x497)+_0x4ffbeb['imageCode']+_0x9ab684(0x72e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x76a180+_0x9ab684(0xa85);})['join']('')+_0xea8c35(0x97e);_0x452873[_0xea8c35(0x31f)][_0xea8c35(0xd73)](_0x3ead2b),_0x452873[_0xea8c35(0x31f)][_0xea8c35(0xced)](),_0x452873[_0xea8c35(0x391)]=function(){setTimeout(()=>{const _0x120912=_0x32db;_0x452873[_0x120912(0xc74)]();},0x5dc);};}async function handleToggleStarQuiz(_0x39e575){const _0x5c6379=_0x121993,_0x531387=doc(db,_0x5c6379(0x1da)+appId+_0x5c6379(0x653),_0x39e575);try{const _0x514dc4=await getDoc(_0x531387);if(_0x514dc4[_0x5c6379(0x75c)]()){const _0x7ccbe9=_0x514dc4['data']()[_0x5c6379(0x3be)]||![];await updateDoc(_0x531387,{'isStarred':!_0x7ccbe9});}}catch(_0xbf2479){console[_0x5c6379(0x274)](_0x5c6379(0x3ac),_0xbf2479),showMessage(_0x5c6379(0xa35));}}async function displayQuestionBank(){const _0x22a979=_0x121993,_0x161b6f=document[_0x22a979(0x2f7)](_0x22a979(0xa2a));_0x161b6f['innerHTML']=_0x22a979(0xd2a);try{const _0x5a6fbc=collection(db,'artifacts/'+appId+'/users/'+userId+_0x22a979(0xbeb)),_0x406485=query(_0x5a6fbc),_0x2866b1=await getDocs(_0x406485);if(_0x2866b1[_0x22a979(0xc89)]){_0x161b6f['innerHTML']=_0x22a979(0x858);return;}let _0x57a1a1=_0x2866b1['docs']['map'](_0x329847=>{const _0x3cc9e5=_0x22a979,_0x23df6e=_0x329847[_0x3cc9e5(0x72a)](),_0xbd88df=_0x329847['id'];return _0x3cc9e5(0xae2)+JSON['stringify'](_0x23df6e)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x23df6e[_0x3cc9e5(0x41b)]||_0x23df6e[_0x3cc9e5(0x859)])+_0x3cc9e5(0x7e1)+_0x23df6e[_0x3cc9e5(0x36f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x22a979(0x5c4)]('');_0x161b6f[_0x22a979(0x8c4)]=_0x22a979(0x66b)+_0x57a1a1+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x22a979(0x2f7)](_0x22a979(0xaa8))['addEventListener'](_0x22a979(0x754),createQuizFromBank);}catch(_0x3d300e){console['error']('Error\x20displaying\x20question\x20bank:',_0x3d300e),_0x161b6f['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x1eac05=_0x121993,_0xd55079=document[_0x1eac05(0x2f7)](_0x1eac05(0x2f3)),_0x422aab=document[_0x1eac05(0x2f7)]('lesson-view-title')[_0x1eac05(0xa28)]||_0x1eac05(0x846);if(!_0xd55079){showMessage(_0x1eac05(0x832));return;}const _0x342410=window[_0x1eac05(0x598)]('',_0x1eac05(0x88b)),_0xfaaf6b=_0x1eac05(0x969)+_0x422aab+_0x1eac05(0xbe3)+_0x422aab+_0x1eac05(0x9ea)+_0xd55079['innerHTML']+_0x1eac05(0xd6f);_0x342410[_0x1eac05(0x31f)][_0x1eac05(0xd73)](_0xfaaf6b),_0x342410[_0x1eac05(0x31f)][_0x1eac05(0xced)](),_0x342410[_0x1eac05(0x391)]=function(){setTimeout(()=>{const _0x3bb799=_0x32db;_0x342410[_0x3bb799(0xc74)]();},0x7d0);};}function showAdminLiveQuestionView(_0x4f3188,_0x3482ec,_0x45a2f2){const _0x3ccbdc=_0x121993,_0x484cce=_0x4f3188['questionType']||currentQuizData[_0x3ccbdc(0x4d2)];let _0x29573b='';if(_0x484cce===_0x3ccbdc(0xc3f)||_0x484cce===_0x3ccbdc(0x668)){const _0x497911=_0x484cce==='true_false'?[_0x3ccbdc(0xb38),'ไม่ใช่']:_0x4f3188[_0x3ccbdc(0x450)],_0x2e2e94=_0x484cce===_0x3ccbdc(0x668)?_0x4f3188['correctAnswer']?0x0:0x1:_0x4f3188['correctAnswerIndex'];_0x29573b=_0x497911[_0x3ccbdc(0xce7)]((_0x37ab61,_0x8f409d)=>_0x3ccbdc(0xa9d)+(_0x8f409d===_0x2e2e94)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37ab61+_0x3ccbdc(0x706))[_0x3ccbdc(0x5c4)]('');}else{if(_0x484cce===_0x3ccbdc(0x5f5)){const _0x39ee61=_0x4f3188[_0x3ccbdc(0x711)]||[];_0x29573b=_0x39ee61['map'](_0x1ceaef=>_0x3ccbdc(0xa9d)+(_0x1ceaef===_0x4f3188[_0x3ccbdc(0xa17)])+_0x3ccbdc(0xa7a)+_0x1ceaef+_0x3ccbdc(0x706))[_0x3ccbdc(0x5c4)]('');}}const _0x123697=_0x4f3188[_0x3ccbdc(0x859)]||_0x4f3188[_0x3ccbdc(0x41b)],_0x18bcd4=_0x3ccbdc(0x1e5)+(_0x3482ec+0x1)+_0x3ccbdc(0xd43)+_0x45a2f2+_0x3ccbdc(0x27e)+currentLiveGamePin+_0x3ccbdc(0x85a)+_0x123697+_0x3ccbdc(0x89a)+_0x29573b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3ccbdc(0x8c4)]=_0x18bcd4,window[_0x3ccbdc(0xc16)]&&MathJax[_0x3ccbdc(0xe06)]&&MathJax[_0x3ccbdc(0xe06)]([liveGameView]),document[_0x3ccbdc(0x2f7)]('reveal-answer-btn')[_0x3ccbdc(0xdd3)](_0x3ccbdc(0x754),()=>revealAnswerForAdmin(_0x3482ec,_0x45a2f2)),document[_0x3ccbdc(0x2f7)]('end-game-btn')[_0x3ccbdc(0xdd3)](_0x3ccbdc(0x754),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x4cdf53=_0x32db,_0xb9eabe=doc(db,_0x4cdf53(0x1da)+appId+_0x4cdf53(0x928),currentLiveGameId);await updateDoc(_0xb9eabe,{'status':_0x4cdf53(0xb3b)});});}),document[_0x3ccbdc(0x2f7)](_0x3ccbdc(0xbc9))[_0x3ccbdc(0xdd3)]('click',()=>{const _0x155ef3=_0x3ccbdc;document['getElementById'](_0x155ef3(0x9cd))['classList'][_0x155ef3(0x65e)](_0x155ef3(0xad0));});}function promptForProjectBeforeGenerating(_0x361bb9){const _0x1ffc15=_0x121993,_0x2a9c65=document[_0x1ffc15(0x2f7)](_0x1ffc15(0x320)),_0x27b6fd=document[_0x1ffc15(0x2f7)](_0x1ffc15(0x75d)),_0x2fbaec=_0x2a9c65['querySelector']('h3'),_0x37c8dc=document[_0x1ffc15(0x2f7)](_0x1ffc15(0xcd3)),_0x44df1c=document['getElementById'](_0x1ffc15(0xd5d));_0x2fbaec['textContent']=_0x1ffc15(0x54a),_0x37c8dc[_0x1ffc15(0xa28)]=_0x1ffc15(0x354),_0x37c8dc['disabled']=!![];allProjects[_0x1ffc15(0x2b5)]===0x0?_0x27b6fd['innerHTML']='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x27b6fd[_0x1ffc15(0x8c4)]=_0x1ffc15(0xa9e)+allProjects[_0x1ffc15(0xce7)](_0x334a3b=>_0x1ffc15(0xc7d)+_0x334a3b['id']+'\x22>'+_0x334a3b[_0x1ffc15(0x5d3)]+_0x1ffc15(0xbc5))[_0x1ffc15(0x5c4)](''),_0x37c8dc[_0x1ffc15(0x687)]=![]);_0x2a9c65[_0x1ffc15(0x2ff)][_0x1ffc15(0x2cf)]('hidden');const _0x50fa11=async()=>{const _0x976d26=_0x1ffc15,_0x5e9b1d=_0x27b6fd[_0x976d26(0x5b6)];if(!_0x5e9b1d){showMessage(_0x976d26(0x88d));return;}_0x2a9c65[_0x976d26(0x2ff)][_0x976d26(0x30d)](_0x976d26(0xad0)),await loadProjectDetails(_0x5e9b1d),showView(_0x976d26(0x6d3)),handleGenerateQuizFromBlueprintTopic(_0x361bb9),_0x3a2eb2();},_0x3a2eb2=()=>{const _0x459733=_0x1ffc15;_0x2fbaec['textContent']=_0x459733(0x4f0),_0x37c8dc[_0x459733(0xa28)]=_0x459733(0x669),_0x37c8dc[_0x459733(0x223)](_0x459733(0x754),_0x50fa11),_0x44df1c[_0x459733(0x223)](_0x459733(0x754),_0x3a2eb2),_0x37c8dc[_0x459733(0xdd3)](_0x459733(0x754),confirmMoveQuiz);};_0x37c8dc[_0x1ffc15(0x223)](_0x1ffc15(0x754),confirmMoveQuiz),_0x37c8dc[_0x1ffc15(0xdd3)](_0x1ffc15(0x754),_0x50fa11),_0x44df1c[_0x1ffc15(0xdd3)]('click',_0x3a2eb2);}function showStudentLiveQuestionView(_0x3866ce,_0xe31d27,_0x308285){const _0x211924=_0x121993,_0x2415d3=_0x3866ce[_0x211924(0x5ac)]||currentQuizData[_0x211924(0x4d2)];let _0x415581='';if(_0x2415d3==='multiple_choice'||_0x2415d3==='true_false'){const _0x525a4d=_0x2415d3===_0x211924(0x668)?[_0x211924(0xb38),'ไม่ใช่']:_0x3866ce['options'];_0x415581=_0x525a4d[_0x211924(0xce7)]((_0x40d76f,_0x593cb8)=>_0x211924(0x6a0)+_0x593cb8+_0x211924(0x7e6)+_0x40d76f+_0x211924(0xb7b))['join']('');}else{if(_0x2415d3===_0x211924(0x5f5)){const _0x38237a=_0x3866ce[_0x211924(0x711)]||[];_0x415581=_0x38237a[_0x211924(0xce7)]((_0x4e46b8,_0x44c639)=>_0x211924(0x6a0)+_0x44c639+_0x211924(0x7e6)+_0x4e46b8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x211924(0x5c4)]('');}else _0x2415d3==='short_answer'&&(_0x415581=_0x211924(0x985));}const _0x40a542=_0x3866ce['stem']||_0x3866ce[_0x211924(0x41b)],_0x203e8e=_0x211924(0x2bf)+(_0xe31d27+0x1)+_0x211924(0xd43)+_0x308285+_0x211924(0x864)+_0x40a542+_0x211924(0xca4)+_0x415581+_0x211924(0x339);liveGameView[_0x211924(0x8c4)]=_0x203e8e;window[_0x211924(0xc16)]&&MathJax[_0x211924(0xe06)]&&MathJax['typesetPromise']([liveGameView]);const _0x4b838a=document[_0x211924(0x2f7)](_0x211924(0x5ae));_0x4b838a&&_0x4b838a[_0x211924(0xdd3)](_0x211924(0x754),()=>{const _0x2763ef=_0x211924,_0x533c2b=document[_0x2763ef(0x2f7)](_0x2763ef(0xb3a))[_0x2763ef(0x5b6)];handleLiveAnswer(_0x533c2b,_0x3866ce);}),document[_0x211924(0x2f7)](_0x211924(0x3c5))['addEventListener'](_0x211924(0x754),_0x62ff2b=>{const _0x2382e0=_0x211924,_0x39e8fa=_0x62ff2b[_0x2382e0(0x898)]['closest'](_0x2382e0(0x2c1));if(_0x39e8fa){const _0xb3e813=parseInt(_0x39e8fa['dataset'][_0x2382e0(0xbd2)]);handleLiveAnswer(_0xb3e813,_0x3866ce);}});}function listenForBlueprintShortcuts(){const _0x45964d=_0x121993,_0x261cf6=doc(db,_0x45964d(0xb89),_0x45964d(0x828));onSnapshot(_0x261cf6,_0x8542d3=>{const _0x1a717e=_0x45964d;let _0x4e8f46=[],_0xf1effb=[],_0x1f0453={};if(_0x8542d3['exists']()){const _0x3b62c9=_0x8542d3[_0x1a717e(0x72a)]();_0x4e8f46=_0x3b62c9[_0x1a717e(0x502)]||[],_0xf1effb=_0x3b62c9[_0x1a717e(0xbba)]||[],_0x1f0453=_0x3b62c9[_0x1a717e(0x479)]||{};}!_0xf1effb[_0x1a717e(0x266)](_0x4d7e0a=>_0x4d7e0a['id']===_0x1a717e(0x943))&&_0xf1effb[_0x1a717e(0xb24)]({'id':_0x1a717e(0x943),'name':_0x1a717e(0x1d7),'isDefault':!![]}),!_0x4e8f46[_0x1a717e(0x266)](_0x62eaa=>_0x62eaa['id']===_0x1a717e(0x79f))&&_0x4e8f46['unshift']({'id':_0x1a717e(0x79f),'name':_0x1a717e(0x3eb),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x4e8f46[_0x1a717e(0x266)](_0x23c956=>_0x23c956['id']===_0x1a717e(0xa82))&&_0x4e8f46[_0x1a717e(0xb24)]({'id':_0x1a717e(0xa82),'name':'Blueprint\x202','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x4e8f46,shortcutTabs=_0xf1effb,shortcutOrder=_0x1f0453,renderBlueprintShortcuts(),!document[_0x1a717e(0x2f7)](_0x1a717e(0x2d9))[_0x1a717e(0x2ff)][_0x1a717e(0x416)](_0x1a717e(0xad0))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x505141=_0x121993,_0x358a9c=document['getElementById'](_0x505141(0x7a0)),_0x6cfc69=document[_0x505141(0x2f7)](_0x505141(0x9e1));if(!_0x358a9c||!_0x6cfc69)return;_0x358a9c['innerHTML']=shortcutTabs[_0x505141(0xce7)](_0x5bf280=>{const _0x57703e=_0x505141,_0x2ca29d=_0x5bf280['id']===activeShortcutTabId,_0x303dfb=_0x57703e(0xbf3),_0x273053=_0x57703e(0x382);return _0x57703e(0xab5)+_0x5bf280['id']+_0x57703e(0xccf)+(_0x2ca29d?_0x303dfb:_0x273053)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x5bf280[_0x57703e(0xa7e)]+_0x57703e(0x546)+_0x5bf280[_0x57703e(0xa7e)]+_0x57703e(0x307)+(!_0x5bf280[_0x57703e(0x5d0)]?_0x57703e(0x923)+_0x5bf280['id']+_0x57703e(0xd04):'')+_0x57703e(0x706);})[_0x505141(0x5c4)]('');const _0x3e1ad4=shortcutTabs[_0x505141(0x266)](_0x1e4847=>_0x1e4847['id']===activeShortcutTabId);let _0x622f40=[];if(_0x3e1ad4){if(_0x3e1ad4[_0x505141(0x5d0)])_0x622f40=[...blueprintShortcuts];else{const _0x5a8f2c=_0x3e1ad4[_0x505141(0xc63)]||[];_0x622f40=blueprintShortcuts['filter'](_0x3c8a34=>_0x5a8f2c[_0x505141(0xcec)](_0x3c8a34['id']));}}const _0x385f57=shortcutOrder[activeShortcutTabId]||[];_0x622f40[_0x505141(0x423)]((_0x2f8354,_0x230972)=>{const _0x3d4455=_0x505141,_0x29a64b=_0x385f57['indexOf'](_0x2f8354['id']),_0x511d41=_0x385f57[_0x3d4455(0xc45)](_0x230972['id']);if(_0x29a64b===-0x1)return 0x1;if(_0x511d41===-0x1)return-0x1;return _0x29a64b-_0x511d41;}),_0x6cfc69[_0x505141(0x8c4)]=_0x622f40[_0x505141(0x2b5)]>0x0?_0x622f40[_0x505141(0xce7)](_0x3d4aab=>{const _0x40748d=_0x505141;let _0xd3ce49='🧩';if(_0x3d4aab[_0x40748d(0x240)]&&_0x3d4aab[_0x40748d(0x47f)])_0xd3ce49='📗';else{if(_0x3d4aab[_0x40748d(0x240)])_0xd3ce49='📘';}const _0x43ef72=shortcutTabs[_0x40748d(0x9a7)](_0x202f69=>!_0x202f69[_0x40748d(0x5d0)]),_0xdd000b=_0x3e1ad4['isDefault']&&_0x43ef72[_0x40748d(0x2b5)]>0x0?_0x40748d(0x676)+_0x43ef72[_0x40748d(0xce7)](_0x337a26=>_0x40748d(0xa39)+_0x3d4aab['id']+_0x40748d(0x374)+_0x337a26['id']+'\x22>'+_0x337a26[_0x40748d(0xa7e)]+_0x40748d(0x94d))[_0x40748d(0x5c4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x40748d(0xd0c)+_0x3d4aab['id']+_0x40748d(0xb8d)+_0xd3ce49+'\x20'+_0x3d4aab['name']+_0x40748d(0xbc6)+_0x3d4aab['id']+_0x40748d(0x9c0)+_0x3d4aab['id']+_0x40748d(0xe13)+(!_0x3d4aab[_0x40748d(0x5d0)]?_0x40748d(0xdfc)+_0x3d4aab['id']+_0x40748d(0x297):'')+_0x40748d(0xc93)+(!_0x3e1ad4['isDefault']?_0x40748d(0x42c)+_0x3d4aab['id']+_0x40748d(0x2e0):'')+_0x40748d(0xc93)+_0xdd000b+_0x40748d(0xa73);})['join'](''):_0x505141(0xc43),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x36b561=_0x121993;document['querySelectorAll'](_0x36b561(0xb30))[_0x36b561(0x616)](_0x1cc9f8=>{const _0x422465=_0x36b561;_0x1cc9f8[_0x422465(0xdd3)](_0x422465(0x754),_0x138230=>{const _0x5b7863=_0x422465;activeShortcutTabId=_0x138230[_0x5b7863(0x305)][_0x5b7863(0x683)][_0x5b7863(0x9e5)],renderAdditionalShortcutsModal();}),_0x1cc9f8[_0x422465(0xdd3)]('dblclick',_0x4b1970=>{const _0x3fca67=_0x422465,_0x55108f=_0x4b1970[_0x3fca67(0x305)];_0x55108f[_0x3fca67(0x839)]('.tab-name-display')[_0x3fca67(0x2ff)][_0x3fca67(0x30d)](_0x3fca67(0xad0));const _0x3d4f65=_0x55108f['querySelector']('.tab-name-input');_0x3d4f65[_0x3fca67(0x2ff)][_0x3fca67(0x2cf)](_0x3fca67(0xad0)),_0x3d4f65['focus'](),_0x3d4f65['select']();});}),document[_0x36b561(0x4cb)](_0x36b561(0x980))[_0x36b561(0x616)](_0x778800=>{const _0x32590f=_0x36b561,_0x38eeeb=()=>{const _0x7a4a3a=_0x32db,_0x5639f9=_0x778800[_0x7a4a3a(0xb5f)]('.shortcut-tab-btn')[_0x7a4a3a(0x683)][_0x7a4a3a(0x9e5)];handleRenameShortcutTab(_0x5639f9,_0x778800[_0x7a4a3a(0x5b6)]);};_0x778800['addEventListener'](_0x32590f(0x993),_0x38eeeb),_0x778800[_0x32590f(0xdd3)](_0x32590f(0x6fe),_0x13d393=>{const _0x549e11=_0x32590f;if(_0x13d393[_0x549e11(0xb94)]===_0x549e11(0x3c4))_0x778800[_0x549e11(0x993)]();});}),document[_0x36b561(0x4cb)](_0x36b561(0x886))[_0x36b561(0x616)](_0x13e08f=>{const _0xdf9443=_0x36b561;_0x13e08f['addEventListener']('click',_0x4ab8ec=>handleDeleteShortcutTab(_0x4ab8ec[_0xdf9443(0x305)][_0xdf9443(0x683)][_0xdf9443(0x9e5)]));}),document[_0x36b561(0x4cb)](_0x36b561(0x34a))[_0x36b561(0x616)](_0x275c73=>{const _0x7a20cc=_0x36b561;_0x275c73[_0x7a20cc(0xdd3)](_0x7a20cc(0x754),_0x505bf1=>{const _0x5b84ff=_0x7a20cc;_0x505bf1[_0x5b84ff(0xd5c)]();const {shortcutId:_0x5159c3,targetTabId:_0x6e98ce}=_0x505bf1[_0x5b84ff(0x305)]['dataset'];handleMoveShortcutToTab(_0x5159c3,_0x6e98ce);});}),document['querySelectorAll']('.remove-shortcut-from-tab-btn')['forEach'](_0x2893a3=>{const _0x3b7e9c=_0x36b561;_0x2893a3[_0x3b7e9c(0xdd3)](_0x3b7e9c(0x754),_0x1e9684=>{const _0x2a6bd6=_0x3b7e9c;handleRemoveShortcutFromTab(_0x1e9684[_0x2a6bd6(0x305)][_0x2a6bd6(0x683)][_0x2a6bd6(0x3a1)],activeShortcutTabId);});});const _0x534b1a=document['getElementById']('additional-shortcuts-list');_0x534b1a[_0x36b561(0x4cb)](_0x36b561(0x429))[_0x36b561(0x616)](_0x3fd3ab=>{const _0xaa9ae1=_0x36b561;_0x3fd3ab[_0xaa9ae1(0xdd3)](_0xaa9ae1(0x754),()=>{const _0x24ae40=_0xaa9ae1;document[_0x24ae40(0x2f7)](_0x24ae40(0x2d9))[_0x24ae40(0x2ff)][_0x24ae40(0x30d)](_0x24ae40(0xad0)),handleShortcutClick(_0x3fd3ab['dataset']['id']);});});let _0xec905e=null;_0x534b1a[_0x36b561(0xdd3)](_0x36b561(0xaee),_0x5caa2e=>{const _0x14243f=_0x36b561;_0xec905e=_0x5caa2e[_0x14243f(0x898)][_0x14243f(0xb5f)]('.shortcut-list-item'),_0xec905e&&setTimeout(()=>_0xec905e['classList'][_0x14243f(0x30d)]('opacity-50'),0x0);}),_0x534b1a[_0x36b561(0xdd3)](_0x36b561(0x2a2),()=>{const _0x221006=_0x36b561;_0xec905e&&(_0xec905e[_0x221006(0x2ff)][_0x221006(0x2cf)]('opacity-50'),_0xec905e=null);}),_0x534b1a[_0x36b561(0xdd3)](_0x36b561(0xa66),_0x5437cc=>{const _0x82e652=_0x36b561;_0x5437cc['preventDefault']();const _0x23ada1=[..._0x534b1a[_0x82e652(0x4cb)](_0x82e652(0xc59))][_0x82e652(0x971)]((_0x2cbe49,_0x1ef3d8)=>{const _0x134999=_0x82e652,_0x5a18ef=_0x1ef3d8[_0x134999(0xc65)](),_0x44a7c6=_0x5437cc[_0x134999(0x639)]-_0x5a18ef['top']-_0x5a18ef[_0x134999(0x77b)]/0x2;return _0x44a7c6<0x0&&_0x44a7c6>_0x2cbe49['offset']?{'offset':_0x44a7c6,'element':_0x1ef3d8}:_0x2cbe49;},{'offset':Number[_0x82e652(0x96b)]})[_0x82e652(0x9be)];_0x23ada1==null?_0x534b1a[_0x82e652(0xd74)](_0xec905e):_0x534b1a[_0x82e652(0xaa3)](_0xec905e,_0x23ada1);}),_0x534b1a[_0x36b561(0xdd3)](_0x36b561(0x27b),_0x6acac3=>{const _0xfd60f1=_0x36b561;_0x6acac3[_0xfd60f1(0xd5c)]();if(_0xec905e){const _0x595c7c=[..._0x534b1a[_0xfd60f1(0x4cb)]('.shortcut-list-item')][_0xfd60f1(0xce7)](_0x2cefec=>_0x2cefec[_0xfd60f1(0x683)][_0xfd60f1(0x3a1)]);handleShortcutOrderChange(activeShortcutTabId,_0x595c7c);}}),document[_0x36b561(0x4cb)](_0x36b561(0x651))['forEach'](_0x4cde46=>{const _0x848501=_0x36b561;_0x4cde46[_0x848501(0xdd3)](_0x848501(0x754),_0x5becf3=>{const _0xfa3f3e=_0x848501;_0x5becf3[_0xfa3f3e(0x5c0)]();const _0x426721=_0x5becf3[_0xfa3f3e(0x305)][_0xfa3f3e(0x763)],_0x37d54f=_0x426721[_0xfa3f3e(0x2ff)][_0xfa3f3e(0x416)](_0xfa3f3e(0xad0));document[_0xfa3f3e(0x4cb)]('.move-shortcut-dropdown')[_0xfa3f3e(0x616)](_0x218fb8=>_0x218fb8[_0xfa3f3e(0x2ff)][_0xfa3f3e(0x30d)](_0xfa3f3e(0xad0))),_0x37d54f&&_0x426721[_0xfa3f3e(0x2ff)][_0xfa3f3e(0x2cf)]('hidden');});});}document[_0x121993(0xdd3)]('click',_0x15980d=>{const _0x4ed028=_0x121993;!_0x15980d[_0x4ed028(0x898)]['closest'](_0x4ed028(0x216))&&document[_0x4ed028(0x4cb)](_0x4ed028(0x7bb))[_0x4ed028(0x616)](_0x5c506b=>_0x5c506b['classList'][_0x4ed028(0x30d)]('hidden'));});async function saveShortcutConfig(){const _0x1f544e=_0x121993,_0x520e4d=doc(db,_0x1f544e(0xb89),'dashboardConfig');try{await setDoc(_0x520e4d,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x26194f){console[_0x1f544e(0x274)](_0x1f544e(0xb0e),_0x26194f);}}async function handleAddShortcutTab(){const _0x268b34=_0x121993,_0xe0da80=prompt(_0x268b34(0x412),_0x268b34(0xc47));if(!_0xe0da80||_0xe0da80[_0x268b34(0xe11)]()==='')return;shortcutTabs[_0x268b34(0xdc4)]({'id':_0x268b34(0x370)+Date[_0x268b34(0x2a6)](),'name':_0xe0da80['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x2c8b40,_0x3de793){const _0xfd0f4f=_0x121993,_0x38bd65=shortcutTabs[_0xfd0f4f(0x266)](_0x356396=>_0x356396['id']===_0x2c8b40);_0x38bd65&&_0x3de793['trim']()!==''&&(_0x38bd65[_0xfd0f4f(0xa7e)]=_0x3de793['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0xd8e5c0){const _0x5640d5=_0x121993,_0x52079a=shortcutTabs[_0x5640d5(0x266)](_0xa60a08=>_0xa60a08['id']===_0xd8e5c0);_0x52079a&&!_0x52079a['isDefault']&&showConfirmation(_0x5640d5(0xd02)+_0x52079a[_0x5640d5(0xa7e)]+_0x5640d5(0x9df),async()=>{const _0xceae45=_0x5640d5;shortcutTabs=shortcutTabs['filter'](_0x4b06c3=>_0x4b06c3['id']!==_0xd8e5c0),delete shortcutOrder[_0xd8e5c0];if(activeShortcutTabId===_0xd8e5c0)activeShortcutTabId=_0xceae45(0x943);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x1cbf9c,_0x187b7c){const _0x215e4e=_0x121993,_0x4671fd=shortcutTabs[_0x215e4e(0x266)](_0x1c77a8=>_0x1c77a8['id']===_0x187b7c);_0x4671fd&&!_0x4671fd[_0x215e4e(0xc63)][_0x215e4e(0xcec)](_0x1cbf9c)&&(_0x4671fd[_0x215e4e(0xc63)]['push'](_0x1cbf9c),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x528a69,_0x10b343){const _0x22e2ee=_0x121993,_0x5a1fc6=shortcutTabs[_0x22e2ee(0x266)](_0x498c05=>_0x498c05['id']===_0x10b343);_0x5a1fc6&&!_0x5a1fc6['isDefault']&&(_0x5a1fc6[_0x22e2ee(0xc63)]=_0x5a1fc6['shortcutIds']['filter'](_0x398200=>_0x398200!==_0x528a69),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x4c4deb,_0x23cd8f){shortcutOrder[_0x4c4deb]=_0x23cd8f,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x2bcb2b=_0x121993,_0x428cf1=document[_0x2bcb2b(0x2f7)](_0x2bcb2b(0xbc0)),_0x4ad314=document['getElementById'](_0x2bcb2b(0x9e1)),_0x350a76=document['getElementById'](_0x2bcb2b(0x8c0));_0x350a76&&_0x350a76[_0x2bcb2b(0x2ff)][_0x2bcb2b(0x30d)](_0x2bcb2b(0xad0));if(!_0x428cf1||!_0x4ad314)return;const _0x5a3676=blueprintShortcuts['slice'](0x0,0x4),_0x51bab4=blueprintShortcuts[_0x2bcb2b(0x7bc)](0x4);_0x428cf1[_0x2bcb2b(0x8c4)]=_0x5a3676[_0x2bcb2b(0xce7)](_0x4f268c=>{const _0x5ad79e=_0x2bcb2b;let _0x1d7d41='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x2ddbf9='🧩';if(_0x4f268c[_0x5ad79e(0x240)]&&_0x4f268c[_0x5ad79e(0x47f)])_0x1d7d41=_0x5ad79e(0x56d),_0x2ddbf9='📗';else _0x4f268c[_0x5ad79e(0x240)]&&(_0x1d7d41=_0x5ad79e(0x9fe),_0x2ddbf9='📘');const _0x526cff=!_0x4f268c[_0x5ad79e(0x5d0)]?_0x5ad79e(0xdfc)+_0x4f268c['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x5ad79e(0xae9)+_0x4f268c['id']+_0x5ad79e(0xacd)+_0x1d7d41+_0x5ad79e(0x810)+_0x2ddbf9+'\x20'+_0x4f268c[_0x5ad79e(0xa7e)]+_0x5ad79e(0x227)+_0x4f268c['id']+_0x5ad79e(0x50e)+_0x526cff+_0x5ad79e(0x706);})[_0x2bcb2b(0x5c4)](''),_0x51bab4[_0x2bcb2b(0x2b5)]>0x0&&(_0x428cf1[_0x2bcb2b(0x8c4)]+=_0x2bcb2b(0xc0f)),_0x51bab4[_0x2bcb2b(0x2b5)]>0x0?_0x4ad314[_0x2bcb2b(0x8c4)]=_0x51bab4['map'](_0x4f6951=>{const _0x584e88=_0x2bcb2b;let _0x2675ba='🧩';if(_0x4f6951[_0x584e88(0x240)]&&_0x4f6951[_0x584e88(0x47f)])_0x2675ba='📗';else _0x4f6951[_0x584e88(0x240)]&&(_0x2675ba='📘');return _0x584e88(0x204)+_0x2675ba+'\x20'+_0x4f6951[_0x584e88(0xa7e)]+_0x584e88(0xbc6)+_0x4f6951['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f6951['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4f6951[_0x584e88(0x5d0)]?_0x584e88(0xdfc)+_0x4f6951['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x584e88(0x27c);})[_0x2bcb2b(0x5c4)](''):_0x4ad314[_0x2bcb2b(0x8c4)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x1d6511){const _0x1ef311=_0x121993,_0x382a6c=_0x1d6511['split']('.')[_0x1ef311(0x1fb)]()['toLowerCase']();switch(_0x382a6c){case _0x1ef311(0xc4b):return _0x1ef311(0x23a);case'txt':return _0x1ef311(0x620);default:return _0x1ef311(0x23a);}}function openShortcutEditor(_0x11f12c=null){const _0x1b1166=_0x121993,_0x39a962=document[_0x1b1166(0x2f7)](_0x1b1166(0x64a)),_0x154b35=document[_0x1b1166(0x2f7)]('shortcut-modal-title'),_0x48bdd3=document[_0x1b1166(0x2f7)]('shortcut-id-input'),_0x2de7c1=document[_0x1b1166(0x2f7)](_0x1b1166(0x4a8)),_0x14a3da=document['getElementById'](_0x1b1166(0x78c)),_0x307718=document[_0x1b1166(0x2f7)](_0x1b1166(0x6e9));if(_0x11f12c){const _0x2122c3=blueprintShortcuts[_0x1b1166(0x266)](_0x2bba82=>_0x2bba82['id']===_0x11f12c);if(!_0x2122c3)return;_0x154b35[_0x1b1166(0xa28)]=_0x1b1166(0x32e),_0x48bdd3[_0x1b1166(0x5b6)]=_0x2122c3['id'],_0x2de7c1[_0x1b1166(0x5b6)]=_0x2122c3['name'],_0x14a3da[_0x1b1166(0x5b6)]=_0x2122c3['blueprintUrl']||'',_0x307718['value']=_0x2122c3[_0x1b1166(0x47f)]||'';}else _0x154b35['textContent']=_0x1b1166(0x56b),_0x48bdd3['value']='',_0x2de7c1[_0x1b1166(0x5b6)]='',_0x14a3da['value']='',_0x307718[_0x1b1166(0x5b6)]='';_0x39a962[_0x1b1166(0x2ff)][_0x1b1166(0x2cf)](_0x1b1166(0xad0));}async function saveShortcutChanges(){const _0x2ef367=_0x121993,_0x5e4d80=document['getElementById'](_0x2ef367(0x317))[_0x2ef367(0x5b6)],_0x184264=document[_0x2ef367(0x2f7)](_0x2ef367(0x4a8))[_0x2ef367(0x5b6)][_0x2ef367(0xe11)](),_0x48a228=document[_0x2ef367(0x2f7)](_0x2ef367(0x78c))[_0x2ef367(0x5b6)]['trim']();if(!_0x184264||!_0x48a228){showMessage(_0x2ef367(0x9c9));return;}const _0x2b0516={'id':_0x5e4d80||_0x2ef367(0xbfc)+Date['now'](),'name':_0x184264,'blueprintUrl':_0x48a228,'referenceUrl':document[_0x2ef367(0x2f7)](_0x2ef367(0x6e9))['value'][_0x2ef367(0xe11)](),'isDefault':_0x5e4d80['startsWith'](_0x2ef367(0x76a))};let _0xfc0a6c;_0x5e4d80?_0xfc0a6c=blueprintShortcuts[_0x2ef367(0xce7)](_0x414044=>_0x414044['id']===_0x5e4d80?_0x2b0516:_0x414044):_0xfc0a6c=[...blueprintShortcuts,_0x2b0516];try{const _0x46ec8d=doc(db,_0x2ef367(0xb89),'dashboardConfig');await setDoc(_0x46ec8d,{'blueprintShortcuts':_0xfc0a6c},{'merge':!![]}),document[_0x2ef367(0x2f7)]('shortcut-editor-modal')[_0x2ef367(0x2ff)][_0x2ef367(0x30d)](_0x2ef367(0xad0));}catch(_0x3f9127){console[_0x2ef367(0x274)](_0x2ef367(0x6b4),_0x3f9127),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0xe8753f){const _0x2a34a1=_0x121993,_0x2a564a=blueprintShortcuts[_0x2a34a1(0x266)](_0x2f34b5=>_0x2f34b5['id']===_0xe8753f);if(!_0x2a564a||!_0x2a564a['blueprintUrl'])return;document[_0x2a34a1(0x2f7)]('blueprint-options-container')[_0x2a34a1(0x2ff)][_0x2a34a1(0x30d)](_0x2a34a1(0xad0)),document[_0x2a34a1(0x2f7)]('generate-from-blueprint-btn')[_0x2a34a1(0x687)]=!![];const _0x53832f=document['getElementById']('loader'),_0x5a6c8d=document['getElementById'](_0x2a34a1(0x488));document[_0x2a34a1(0x2f7)]('quiz-generation-area')[_0x2a34a1(0x2ff)][_0x2a34a1(0x2cf)](_0x2a34a1(0xad0)),document[_0x2a34a1(0x2f7)](_0x2a34a1(0xcd1))[_0x2a34a1(0x8c4)]='',_0x53832f[_0x2a34a1(0x2ff)][_0x2a34a1(0x2cf)]('hidden');try{_0x5a6c8d[_0x2a34a1(0xa28)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x3f3f81=await fetchFileFromUrl(_0x2a564a[_0x2a34a1(0x240)],'blueprint.pdf');let _0x4bed77=null;if(_0x2a564a['referenceUrl']){_0x5a6c8d[_0x2a34a1(0xa28)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x15d5cc=_0x2a564a[_0x2a34a1(0x47f)][_0x2a34a1(0xcfa)]()[_0x2a34a1(0x63f)](_0x2a34a1(0x87c))?_0x2a34a1(0xcc8):'reference.pdf';_0x4bed77=await fetchFileFromUrl(_0x2a564a['referenceUrl'],_0x15d5cc);}await handleGenerateFromBlueprintWithFiles(_0x3f3f81,_0x4bed77);}catch(_0x43389f){console['error'](_0x2a34a1(0x1c5),_0x43389f),showMessage(_0x2a34a1(0x663)+_0x43389f[_0x2a34a1(0x5e6)]),_0x53832f['classList'][_0x2a34a1(0x30d)](_0x2a34a1(0xad0));}}function getDirectDownloadUrl(_0x2f1353){const _0x1c5199=_0x121993,_0x5f2851=_0x2f1353['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x5f2851&&_0x5f2851[0x1])return _0x1c5199(0xce2)+_0x5f2851[0x1];return _0x2f1353;}async function fetchFileFromUrl(_0x2970aa,_0x9c677){const _0x4fb849=_0x121993,_0x18e598=getDirectDownloadUrl(_0x2970aa),_0xbf3927=_0x4fb849(0x309)+encodeURIComponent(_0x18e598),_0x870124=await fetch(_0xbf3927);if(!_0x870124['ok'])throw new Error(_0x4fb849(0x7ff)+_0x870124[_0x4fb849(0x2d4)]+')');const _0x224c94=await _0x870124[_0x4fb849(0x593)](),_0x596d7b=await new Promise((_0x26ddb3,_0x369fe5)=>{const _0x4be8af=_0x4fb849,_0x2e1d49=new FileReader();_0x2e1d49[_0x4be8af(0x542)]=()=>_0x26ddb3(new Uint8Array(_0x2e1d49[_0x4be8af(0x5ec)])),_0x2e1d49[_0x4be8af(0x4a5)]=_0x369fe5,_0x2e1d49[_0x4be8af(0x20a)](_0x224c94[_0x4be8af(0x7bc)](0x0,0x4));});let _0x928fe7='';const _0x24ff39=new TextDecoder()[_0x4fb849(0x894)](_0x596d7b);return _0x24ff39===_0x4fb849(0x4eb)?(_0x928fe7=_0x4fb849(0x23a),console['log'](_0x4fb849(0x9ed))):(_0x928fe7=_0x4fb849(0x620),console['log'](_0x4fb849(0x1d1))),new File([_0x224c94],_0x9c677,{'type':_0x928fe7});}async function handleGenerateFromBlueprintWithFiles(_0xaf7f4e,_0x57c391=null){const _0x4d369c=_0x121993;if(!_0xaf7f4e){showMessage(_0x4d369c(0x895));return;}const _0x21fe7a=document[_0x4d369c(0x2f7)](_0x4d369c(0xd29)),_0x33ac45=document[_0x4d369c(0x2f7)](_0x4d369c(0x488));_0x21fe7a[_0x4d369c(0x2ff)][_0x4d369c(0x2cf)](_0x4d369c(0xad0)),document['getElementById'](_0x4d369c(0xb0d))[_0x4d369c(0x2ff)][_0x4d369c(0x2cf)](_0x4d369c(0xad0)),document[_0x4d369c(0x2f7)](_0x4d369c(0xcd1))[_0x4d369c(0x8c4)]='';try{_0x33ac45[_0x4d369c(0xa28)]=_0x4d369c(0x614);const _0x55f4ef=await new Promise((_0x53ddba,_0x548249)=>{const _0x2c7682=_0x4d369c,_0x12acfa=new FileReader();_0x12acfa[_0x2c7682(0x61a)](_0xaf7f4e),_0x12acfa[_0x2c7682(0x391)]=()=>_0x53ddba(_0x12acfa[_0x2c7682(0x5ec)][_0x2c7682(0xd47)](',')[0x1]),_0x12acfa[_0x2c7682(0x4a5)]=_0x548249;}),_0x30381d=[];if(_0x57c391){_0x33ac45['textContent']=_0x4d369c(0x74c);const _0x522257=await _0x57c391[_0x4d369c(0xc0b)]();_0x30381d[_0x4d369c(0xdc4)]({'text':_0x4d369c(0x5ea)+_0x522257});}const _0x5a6168=[{'text':_0x4d369c(0xb31)},{'inlineData':{'mimeType':_0xaf7f4e[_0x4d369c(0x9c8)],'data':_0x55f4ef}},..._0x30381d];await handleGenerateFromBlueprint(_0x5a6168);}catch(_0x51ce14){console[_0x4d369c(0x274)]('Error\x20in\x20generating\x20from\x20files:',_0x51ce14),showMessage('เกิดข้อผิดพลาด:\x20'+_0x51ce14['message']),_0x21fe7a[_0x4d369c(0x2ff)][_0x4d369c(0x30d)](_0x4d369c(0xad0));}}async function handleLiveAnswer(_0x2baf5c,_0x5f481b){const _0x525ab5=_0x121993;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')['forEach'](_0x321405=>_0x321405['disabled']=!![]);const _0x236857=_0x5f481b[_0x525ab5(0x5ac)]||currentQuizData[_0x525ab5(0x4d2)];let _0x2fb5cd=![],_0x3de34d=_0x2baf5c;if(_0x236857===_0x525ab5(0x2bc)){const _0x7a73f2=(_0x2baf5c||'')[_0x525ab5(0x24c)]();_0x2fb5cd=await gradeShortAnswer(_0x7a73f2,_0x5f481b);}else{if(_0x236857===_0x525ab5(0xc3f))_0x2fb5cd=_0x2baf5c===_0x5f481b['correctAnswerIndex'];else{if(_0x236857===_0x525ab5(0x668)){const _0x2c1dde=_0x5f481b[_0x525ab5(0x836)];_0x2fb5cd=_0x2baf5c===0x0&&_0x2c1dde||_0x2baf5c===0x1&&!_0x2c1dde;}else{if(_0x236857===_0x525ab5(0x5f5)){const _0x234ba4=_0x5f481b[_0x525ab5(0x711)][_0x2baf5c];_0x2fb5cd=_0x234ba4===_0x5f481b[_0x525ab5(0xa17)],_0x3de34d=_0x234ba4;}}}}const _0x4903af=doc(db,'artifacts/'+appId+_0x525ab5(0x928),currentLiveGameId),_0x44f506={};_0x44f506['players.'+currentStudentName+_0x525ab5(0x8ac)]=!![],_0x44f506[_0x525ab5(0x3d1)+currentStudentName+_0x525ab5(0x7b9)]=_0x2fb5cd,_0x44f506[_0x525ab5(0x3d1)+currentStudentName+_0x525ab5(0x6dc)]=_0x236857===_0x525ab5(0x2bc)||_0x236857===_0x525ab5(0x5f5)?null:_0x2baf5c,_0x44f506[_0x525ab5(0x3d1)+currentStudentName+_0x525ab5(0xcef)]=_0x3de34d,_0x44f506[_0x525ab5(0x3d1)+currentStudentName+_0x525ab5(0xcb8)]=serverTimestamp(),_0x44f506[_0x525ab5(0x3d1)+currentStudentName+_0x525ab5(0x751)]=![],await updateDoc(_0x4903af,_0x44f506),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x2fce85,_0x1de7b7){const _0x286c69=_0x121993,_0x43ee22=Object[_0x286c69(0xe02)](_0x2fce85[_0x286c69(0x32a)]||{}),_0x115fc4=_0x1de7b7[_0x286c69(0x5ac)]||currentQuizData[_0x286c69(0x4d2)],_0x566144=_0x115fc4===_0x286c69(0x668)?[_0x286c69(0xb38),_0x286c69(0x935)]:_0x1de7b7[_0x286c69(0x450)]||_0x1de7b7[_0x286c69(0x711)]||[],_0x316b08={},_0x48f865=new Array(_0x566144['length'])['fill'](0x0);_0x566144['forEach']((_0x27f63d,_0x20e2ac)=>{_0x316b08[_0x20e2ac]=[];}),Object['entries'](_0x2fce85['players']||{})[_0x286c69(0x616)](([_0x531553,_0xd89f11])=>{const _0x413f7d=_0x286c69;if(_0xd89f11[_0x413f7d(0x2d4)]===_0x413f7d(0x72f)&&_0xd89f11[_0x413f7d(0x645)]!==undefined){const _0x3b543d=_0xd89f11['lastAnswerIndex'];_0x316b08[_0x3b543d]&&(_0x316b08[_0x3b543d][_0x413f7d(0xdc4)](_0x531553),_0x48f865[_0x3b543d]++);}});const _0x209887=Math['max'](..._0x48f865,0x1),_0x483809='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x1de7b7[_0x286c69(0x859)]||_0x1de7b7[_0x286c69(0x41b)])+_0x286c69(0x2f2)+_0x48f865[_0x286c69(0xce7)]((_0x1fea6d,_0x32e25f)=>{const _0x5027b9=_0x286c69,_0x405e97=_0x316b08[_0x32e25f]['length']>0x0?_0x316b08[_0x32e25f][_0x5027b9(0x5c4)](',\x20'):_0x5027b9(0x914);let _0x231b54=![];if(_0x115fc4==='multiple_choice')_0x231b54=_0x32e25f===_0x1de7b7['correctAnswerIndex'];else{if(_0x115fc4===_0x5027b9(0x668)){const _0x1172c6=_0x1de7b7[_0x5027b9(0x836)];_0x231b54=_0x1172c6&&_0x32e25f===0x0||!_0x1172c6&&_0x32e25f===0x1;}else _0x115fc4==='matching_item'&&(_0x231b54=_0x566144[_0x32e25f]===_0x1de7b7[_0x5027b9(0xa17)]);}const _0x18958a=_0x231b54?_0x5027b9(0xcfd):_0x5027b9(0x9d4);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x1fea6d+_0x5027b9(0x6a1)+_0x18958a+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x32e25f+_0x5027b9(0x90a)+_0x566144[_0x32e25f]+_0x5027b9(0xe0f)+_0x32e25f+_0x5027b9(0xabf)+_0x405e97+_0x5027b9(0x869);})[_0x286c69(0x5c4)]('')+_0x286c69(0x3ab);liveGameView[_0x286c69(0x8c4)]=_0x483809;if(window[_0x286c69(0xc16)])MathJax['typesetPromise']();document[_0x286c69(0x2f7)](_0x286c69(0xab9))[_0x286c69(0xdd3)](_0x286c69(0x754),async()=>{const _0x2496c3=_0x286c69,_0x22ff81=doc(db,_0x2496c3(0x1da)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x22ff81,{'questionStatus':_0x2496c3(0x6ce)});}),document[_0x286c69(0x2f7)]('open-scratchpad-btn')[_0x286c69(0xdd3)]('click',()=>{openScratchpad(_0x1de7b7,_0x566144);});}function showPlayerSummaryView(_0x3c8658,_0x51098c){const _0x4abe10=_0x121993,_0x4b887d=Object['values'](_0x3c8658[_0x4abe10(0x32a)]||{}),_0x5119fe=_0x3c8658[_0x4abe10(0x32a)][_0x51098c],_0x2bb5ab=_0x4b887d[_0x4abe10(0x9a7)](_0x432405=>_0x432405[_0x4abe10(0x2d4)]===_0x4abe10(0x72f))[_0x4abe10(0x423)]((_0x488746,_0x5cabc6)=>_0x5cabc6['score']-_0x488746[_0x4abe10(0xbf1)]),_0xe52867=_0x2bb5ab[_0x4abe10(0x868)](_0x1c4344=>_0x1c4344===_0x5119fe)+0x1,_0x579d64=_0x5119fe['lastAnswerCorrect']?_0x4abe10(0x941):_0x4abe10(0x6b2),_0x59ecc3=_0x5119fe['lastAnswerCorrect']?_0x4abe10(0x38c):'bg-red-500',_0x493f2c=_0x5119fe[_0x4abe10(0x79b)]||0x0,_0x2b1893=_0x4abe10(0x2ad),_0x3cd0fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x2b1893+_0x4abe10(0xbae)+_0x59ecc3+_0x4abe10(0x225)+_0x579d64+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x493f2c+_0x4abe10(0xcc3)+(_0xe52867>0x0?_0xe52867:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x4abe10(0x8c4)]=_0x3cd0fd;}function _0x13e5(){const _0x2a3da9=['point','loader','<div\x20class=\x22loader\x20mx-auto\x22></div>','การคูณเศษส่วน','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','scheduled_pending','กำลังสร้างคำถามข้อ\x20','pin','ไฟล์ลัด\x201','Error\x20duplicating\x20quiz:','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','mjx-container','mainTopics',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','scores','COMEBACK_KING','live-game-view','แปลงร่าง','.quiz-status-btn','setAttribute','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','overflowY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x20/\x20','topics','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ต้นฉบับทั้งหมด','split','.delete-hidden-shortcut-btn','จันทร์เจ้า','complexityValue','min','answering','.tab-name-display','.doc','พื้นที่วงกลม/ส่วนของวงกลม','confidence','projectId','arrayBuffer','ความแปรปรวน','reset-project-order-btn','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x22\x20name=\x22question_single\x22\x20value=\x22','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','Team\x20Quiz','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','date_asc','.quiz-bank-settings-btn','preventDefault','cancel-move-quiz-btn','global-activity-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','\x20สำเร็จ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manage','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','text-gray-100','stringify','บันทึกผลการเล่นเกมของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','deltaY','select[name=\x22question_single\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','solution','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','write','appendChild','\x22\x20name=\x22team_answer\x22\x20value=\x22','ondrop','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','ARRAY','next-question-btn','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','applicationData','pointContent','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','date_desc','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','student-list','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','คัดลอกรหัสแล้ว!','manual-blueprint-modal','groups.','ทฤษฎีทวินาม\x20(เบื้องต้น)','Error\x20saving\x20lesson\x20to\x20project:','bg-red-500','custom-math-topic-input','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','summary','ไม่พบข้อมูลผู้ใช้','เกิดข้อผิดพลาดในการบันทึกลำดับ','start-quiz-btn','กำลังโหลดคลังข้อสอบทั้งหมด...','leaderboard_','isCorrect','dimmed','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','blueprint-options-container','devicePixelRatio','border-gray-200','</div>\x0a</div>\x0a','text-blue-800','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','กำลังสร้างบทเรียน:\x20','parallel-shortcut-name-input','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','save-file-shortcut-btn','delete-svg-btn','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','/public/data/syncGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','applicationContent','<button\x20data-tab-id=\x22','file-shortcut-url-input','ยอดเยี่ยม!','274192258111','Error\x20deleting\x20shortcut:','confidence-scoring-toggle','confidence_single','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','admin-try-quiz-btn','\x22>ไม่ใช่</p>','auto-fix-latex-btn','pointercancel','Error\x20showing\x20quiz\x20detail\x20view:','bg-green-200\x20text-green-800','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','center','กำลังอัปเดตแบบทดสอบ\x20','#ffffff','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','confirm-game-start-btn','fromCharCode','---\x20[คำถามใหม่]\x20---','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-value=\x22','.question-editor-item[data-q-index=\x22','push','parallel-shortcut-editor-modal','แอบชอบ','ระยะเวลา\x20(นาที):','webkitRequestFullscreen','question-complexity-select','responses','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<li>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','<div\x20class=\x22mb-3\x20topic-category\x22>','<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','addEventListener','bulk-confidence-scoring-checkbox','confirm-game-start-modal','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','bg-green-100','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สมมาตร\x20(แกน/จุด)','toLocaleDateString','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','คาถาแยกเงาพันร่าง','undefined','onkeydown','mode','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','OBJECT','presentation-explanation','_opt0\x22>ใช่</label></div>','behavior-log-tab-btn','release','comparison-overall-tab','ผลรวมอนุกรม\x20(Σ)','ระบบสมการเชิงเส้นสองตัวแปร','drill-feedback','tGain','API\x20Error\x20Response:','เกิดข้อผิดพลาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','อนุพันธ์:\x20กฎพื้นฐาน','\x5csqrt{$1}','Error\x20saving\x20settings:','การคูณ','พบ\x20Team\x20Quiz!','.delete-hidden-file-shortcut-btn','แก้ไขปุ่มลัดจากไฟล์','save-game-results-checkbox','textarea[name=\x22team_answer\x22]','<button\x20data-id=\x22','Error\x20starting\x20group\x20quiz:','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ความสัมพันธ์ของมุม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','values','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','match','):\x20','typesetPromise','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','1218870IcMGyj','input','ondragend','save-quiz-edits-btn','isScored','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','ปริพันธ์ไม่จำกัด','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenElement','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x20(p=','student-rankings-modal','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','activeGameSession','file-input-area','Error\x20editing\x20topic:','.edit-shortcut-btn','math-topic-search-input','Error\x20processing\x20shortcut\x20click:','text-green-800','เมทริกซ์:\x20บวก/คูณ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','splice','player-count','per-q-countdown','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ไม่พบตารางสำหรับ\x20Export','Error\x20opening\x20quiz\x20editor:','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','ต้นฉบับ\x202','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','ผ่านฉลุย','.bp-view-analysis-btn','Error\x20fetching\x20lesson\x20content:','ปุ่มลัดทั้งหมด','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','-\x20ข้อ\x20','artifacts/','สาระที่\x201','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','short','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','add-parallel-shortcut-tab-btn','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','กิจกรรมสิ้นสุดลงแล้ว','.open-bp-project-btn','highlighter-size-slider','href','Error\x20updating\x20pin\x20status:','หมดเวลา!\x20กำลังส่งคำตอบ...','_opt0\x22\x20name=\x22question','4wxKjOB','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Error\x20generating\x20hybrid\x20quiz:','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','Error\x20displaying\x20blueprint\x20project:','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','specialist','pop','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','passcode-input-container','Error\x20updating\x20project\x20color:','ai-quiz-generator-v3','viewBox','lesson-view-content','Error\x20updating\x20old\x20quizzes:','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','team','.draggable-text','numPages','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','manual-create-blueprint-btn','readAsArrayBuffer','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','student-passcode-input','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','ร้อยละพื้นฐาน','bottom','<p\x20class=\x22text-xl\x22>','entries','ข้อ\x20','include-images-checkbox','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','startsWith','.group\x5c/dropdown','mixed','text-indigo-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#confidence-input-','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','currentQuestionIndex','blueprint-topics-list','duration-300','Invalid\x20response\x20structure\x20from\x20API.','pen','กำลังค้นหากิจกรรม...','removeEventListener','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','className','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-red-50','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','warn','contentEditable','#FFFFFF','ไม่ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bar','parentElement','confirmation-modal','Error\x20starting\x20game:','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','Error\x20loading\x20user\x20preferences:','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','topic-input-area','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','ยอดนักสืบ','application/pdf','Error\x20saving\x20quiz:','sync-matching-select','.bp-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blueprintUrl','.answers','survivor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','difficultyValue','รายการนี้','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','#FEE2E2','Failed\x20to\x20get\x20hint:','toString','bank-quiz-list','mousedown','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','จากไฟล์ที่แนบมานี้,\x20','inactive','bg-[#DCFCE7]\x20text-green-900','classWeaknesses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','check-presentation-answer-btn','ตั้งเวลา\x20(เปิด)','.bp-delete-topic-btn','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','style','url','</span><span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','Error\x20deleting\x20all\x20students:','ศิลปิน','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','content','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','postTScore','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','หัวข้อที่สร้างเอง','find','num-choices-container','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','การแปลงรูปอัตลักษณ์','<li\x20class=\x22','แบบทดสอบนี้ปิดใช้งานอยู่','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','ครูใหญ่','กำลังดึงข้อมูลจากลิงก์...','.status','.answered','screen_exit','</button>','error',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','confirm-not-confident','bank-quiz-search-input','[*]','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stroke','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','q-explanation-','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','manual_release','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkAnswer','กรุณาพิมพ์คำตอบ','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','overline','Error\x20saving\x20reference\x20URL:','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','teachingContent','.quiz-bank-delete-btn','.pdf','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','ตัวเลือก\x20ก','pairedQuizId','checked','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x20mb-2\x22>','team-player-status-grid','Error\x20during\x20deep\x20delete:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','move','2693929YdhzAq','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','promptFeedback','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x20คน\x20ตอบถูก</p></div>','pow','\x22\x20name=\x22drill_answer\x22\x20value=\x22','#open-additional-parallel-shortcuts-btn','getTextContent','สร้างแล้ว','หยุดระบบจับเวลาหรี่หน้าจอ','dragend','parallelShortcutTabs','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','user-id-display','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','หมาป่าเดียวดาย','00:00','คณิตศาสตร์','stepByStepExamples','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','เซียนสมองไว','\x20link(s)\x20for\x20quiz\x20ID:\x20','confident','\x20คะแนน\x20','อนุพันธ์:\x20กฎลูกโซ่','$1\x5c%','dispatchEvent','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','next-question-timed-btn','\x22\x20data-topic=\x22','.start-live-race-btn','short_answer','เกิดข้อผิดพลาดในการส่งคำตอบ','sync-timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','text-red-700\x20bg-red-100','.live-answer-btn','\x20รายการสำเร็จ!','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','ภูเขา','ดอกเบี้ยอย่างง่าย','confidence-scoring-checkbox','pen-tools-group','next-drill-btn','Error\x20unlinking\x20quiz:','createdAt','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','parse','.quiz-bank-checkbox:checked','remove','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','submissions','กำลังจับคู่...','ยังไม่สร้าง','status','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','endTime','pointermove','กำลังสร้างแบบทดสอบจากหัวข้อ...','additional-shortcuts-modal','\x22\x20name=\x22question','close-lesson-view-btn','\x22.\x20Ideal\x20Answer:\x20\x22','bg-green-200','tool','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ใหม่...','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','_new','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-shortcut-btn','msRequestFullscreen','สร้างแบบทดสอบปรนัย','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','#results-table','gameData','reset-view-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','cancel-game-start-btn','.file-shortcut-btn','latestScore','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-sections-container','create-project-modal','members','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','getElementById','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x22,\x20','setFont','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5cfrac{$1}{$2}','ปรับเพิ่ม/ลดเป็นร้อยละ','msExitFullscreen','classList','สร้างคำถามแบบใช่/ไม่ใช่','getItem','ฟังก์ชันเชิงเส้นและกราฟ','pointerType','download','currentTarget','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic_','https://corsproxy.io/?','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','start-sync-game-btn','results-table-container','add','เกิดข้อผิดพลาดในการโหลดโปรเจค','interesting-stats-wrapper','พิมพ์ตอบ','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','preScore','.shortcut-list-item','blueprint-projects-modal','.kick-player-btn-sync','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-id-input','linkedQuizIds','close-lesson-plan-modal-footer-btn','input[type=\x22checkbox\x22]','binom','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','.group','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','document','move-quiz-modal','\x27,\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-parallel-shortcut-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','กรุณาเลือกไฟล์ก่อน','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','.edit-quiz-btn','players','image/png','confirm-manual-bp-btn','ซามูไรสายเดี่ยว','แก้ไขปุ่มลัด','fill_in_no_choices','\x20|\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','(เลือกแล้ว\x20','ปวดหลัง','add-shortcut-tab-btn','สำหรับโปรเจค:\x20','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','getBBox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','default','bp-modal-question-complexity-select','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','รากที่สองและที่สาม','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','ไม่ใช่\x20/\x20ผิด','text-input-area','toFixed','\x5ctimes','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','none','.bp-live-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','.move-shortcut-item','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','results-display-select','\x22\x20สำเร็จ!','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','standardTopic','เลือกและเริ่มสร้าง','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','suggestedAnswer','นักดนตรี','กรุณาวาง\x20URL\x20ของบทความก่อน','แผนภาพกล่อง\x20(box\x20plot)','\x20หัวข้อ)','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','Sync\x20Mode','.file-shortcut-btn[data-id=\x22','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','cancel-global-activity-btn','#parallel-shortcut-tabs-nav\x20.tab-name-input','Re-grade\x20process\x20failed:','getDocument','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ไม่พบโปรเจค','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','originalTopic','tab_','ที่พิมพ์ได้\x20จำนวน\x20','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','Test\x20Blueprint','\x22\x20data-target-tab-id=\x22','get','Error\x20saving\x20parallel\x20shortcut\x20config:','ไม่พบข้อมูลแบบทดสอบ','.quiz-settings-btn','reveal-names-btn','gameVariant','.unpair-quiz-btn','student-name-selection-view','newCorrectIndex','perseverance','removeItem','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','focus','อกหัก','\x22...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','scratchpad-options',':</p><p\x20class=\x22text-xs\x22>','mouse','bg-green-500','progress-project-select','</td></tr>','MathJax\x20typeset\x20error\x20(analytics):','ฟังก์ชันลอการิทึม','onload','manage-tab-content','กรุณาเลือกโปรเจคที่ต้องการบันทึก','ฟังก์ชันผกผัน','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เส้นจำนวน','ผ่าน','project-passcode-modal','คุณแน่ใจว่าต้องการลบแท็บนี้?','uid','Successfully\x20removed\x20','สัญกรณ์วิทยาศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','G-V90KRM0L63','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.subTopic','shortcutId','hasPerfectScoreBonus','POST','ส่งคำตอบ','sync-player-list','file-shortcut_','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','.delete-file-shortcut-btn','Error\x20adding\x20students:','ผู้เล่นใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20toggling\x20star\x20status:','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','text-red-600','competition','เกิดข้อผิดพลาดในการสร้างใบงาน','leaderboard-table-body','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','border-red-300\x20bg-red-50','สร้างชุดคำถามจับคู่','สายหมอก','bg-gray-50','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','$$$1$','createElementNS','<div\x20class=\x22','scores-tab-content','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isStarred','AI\x20request\x20was\x20blocked.\x20Reason:\x20','perQuestionStats','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','docs','Enter','live-options-container','originalQuestionText','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','json','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','bp-modal-num-choices','.summary-bar-item','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','numChoices','players.','code','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x22\x20data-quiz-id=\x22','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','source_document.pdf','parallel-test-tab','cancel-delete-btn','confirm-team-players-btn','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','size','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','หมีขั้วโลกใต้','bg-teal-500\x20hover:bg-teal-600\x20text-white','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x20คนที่ส่ง\x20ตอบถูก\x20(','.move-file-shortcut-menu-btn','Blueprint\x201','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','.color-palette-btn','ห.ร.ม.\x20(GCD)','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','กำลังสร้างแบบทดสอบ\x20\x22','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','overallGroups','totalDisplayScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสี่เหลี่ยมและสมบัติ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ...','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','behaviorLog','.move-file-shortcut-item','(หลังเรียน)\x20','.flex.justify-between.items-center','presentation-ai-result','บันทึกการตั้งค่าแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','text-red-300\x20hover:text-red-100','แบบทดสอบนี้หมดเวลาแล้ว','results-tab','fas\x20fa-star\x20text-yellow-500','promise','end-team-quiz-btn','quiz-bank-count','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','API\x20call\x20failed','live-game','leaderboard-tab-content','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาตั้งชื่อแท็บใหม่:','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','lastAnswerCorrect','.parallel-shortcut-tab-btn','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','fill_in_with_choices','leaderboard-quiz','questionText','6795wHZmSE','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','load-quiz-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','playerNicknames','sort','submission','คำถามถัดไป','imageCode','false','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','.use-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','Error\x20starting\x20sync\x20game:','<button\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','ref','Error\x20updating\x20quiz\x20settings:','text-content-input','description','close-student-rankings-btn','gamePin','goto-next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20creating\x20project:','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','floor','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','</select>','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','analytics-tab-content','Loaded\x20','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','results-quiz-title','comeback_king','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','add-parallel-shortcut-btn','.live-summary-tooltip.visible','options','isAdaptive','ดาบพิฆาตอสูร','\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ชีสเค้ก','กำลังอ่านและเตรียมไฟล์...','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','/public/data/projects/','text-red-900','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','generate-from-blueprint-btn','AI\x20แก้ไขคำถามสำเร็จ!','แก้ระบบสมการด้วยเมทริกซ์','pointer-events-none','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','view-my-progress-btn','instructions','countdown-display','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','.auto-resize-textarea','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','Error\x20updating\x20sort\x20preference:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','previousElementSibling','leaderboard-quiz-tab-content','schedule','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','.project-card-container.opacity-50','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','หมูกระทะจะเยียวยาทุกสิ่ง','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','restore','shortcutOrder','.parallel-quiz-btn','Blueprint\x20O-NET\x20ป.6','นักประดิษฐ์','destroy','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','referenceUrl','Error\x20starting\x20team\x20quiz:','ผู้เล่น\x20','ดวงดาว','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','ลิมิต','touchend','kick-player-btn','bg-green-100\x20text-green-800','loader-text','fileShortcutOrder','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','ตัวเลือก\x20ค','analytics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตรีโกณมิติ','การแจกแจงปกติและ\x20z-score','\x22>(','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','ดูผลสรุปสุดท้าย','\x20to\x20blueprint\x20topic\x20','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list','MathJax\x20re-render\x20failed:','<div\x20class=\x22my-6\x22>','bp-modal-shuffle-setting-select','.topic-actions-edit','additional-parallel-shortcuts-modal','execCommand','</tbody></table></div>','ข้อต่อไป','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','quiz-leaderboard-table-container','คะแนนเต็ม!','สลับไปโหมดผู้ควบคุม','startedAt','bp-project-title','idealAnswer','onerror','คู่จิ้น','ลบโปรเจค\x20\x22','shortcut-name-input','student-project-leaderboard-table-body','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','bg-gray-200\x20text-gray-700','getPage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.view-bp-lesson-btn','\x20\x0a\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','สำหรับหัวข้อ\x20\x27','actions-container-','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','timer-duration-label','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','Firebase\x20initialization\x20failed:','bg-emerald-100','#DBEAFE','ไม่พบโปรเจคที่ต้องการลบ','set','anonymous','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Error\x20fetching\x20student\x20rankings:','editor-quiz-topic','.edit-file-shortcut-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-title','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','lesson-plan-title','text-gray-300\x20hover:text-white','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','querySelectorAll','isFinished','separate-by-content-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scratchpad-close-btn','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quizType','Error\x20regenerating\x20question\x20in\x20editor:','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/users/','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','curriculum','ยืนยันและอัปเดตทั้งหมด','lineWidth','export-word-btn','ความคล้ายของรูป','Error\x20joining\x20live\x20game:','back-to-results-btn','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','quiz-form','#E0E7FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','<div\x20style=\x22','ทำคะแนนเต็มในการทำครั้งแรก','กรุณาป้อนหัวข้อสำหรับใบงาน','\x20</div>\x0a\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','%PDF','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','lowerGroupResponders','จุด\x20เส้น\x20ระนาบ','eraser-tool-btn','ย้ายแบบทดสอบไปโปรเจคอื่น','<i\x20class=\x22fas\x20fa-magic\x22></i>','text-gray-200','Error\x20saving\x20submission:','input[name=\x22question_single\x22]:checked','smooth','Error\x20analyzing\x20blueprint\x20topics:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','sync-timer-duration-container','```','\x20|\x20ID:\x20','checkbox','input[type=\x22text\x22]','export-leaderboard-image-btn','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','visibilitychange','เพิ่มหัวข้อ\x20\x22','blueprintShortcuts','คำถามดิบ:\x20\x22','getContext','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','leaderboard-quiz-tab-btn','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','...\x22)?','เนื้อหาสำหรับสอน:\x20','not-found','ผู้ไม่ยอมแพ้','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กราฟฟังก์ชันตรีโกณ','จำนวนเต็มลบ','ดาวสภา','ลำดับเลขคณิต\x20(AP)','topics.','บักแตงโม','passcode-error-msg','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','classStrengths','\x22\x20data-pre-test-id=\x22','frac','questionIndex','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','shuffleSetting','random','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<tr>','grabbing','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','hint','.edit-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','td,\x20th','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','สร้างแบบทดสอบ','bp-modal-num-questions','team-quiz-topic','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แบบทดสอบ:\x20','start-presentation-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','เริ่มกิจกรรม:\x20','globalAlpha','วงกลม:\x20สมการและสมบัติ','body','finished','show-final-results-btn','บันทึกการแก้ไข','<div\x20class=\x22space-y-4\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันและเส้นตรง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-id-input','button[type=\x22submit\x22]','\x5ccdot','onloadend','คนโสด','offset','กำลังกลับเข้าสู่เกม\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','confirm-passcode-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','Error\x20toggling\x20pin\x20status:','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-custom-topic-btn','ตะวันฉาย','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','การนับ','ตารางความถี่','sync-variant-selector','has','save-bp-reference-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้เชี่ยวชาญ','student-progress-view','.highlighter-color-btn','students','medium','Error\x20saving\x20manual\x20blueprint\x20project:','parallel-default-','reveal_at_end','temp-loader-results','strength-weakness-analysis-container','[data-topic-id=\x22','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','lesson-view-modal','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','.quiz-bank-move-btn','includeImages','คะแนนยังไม่ถึงครึ่ง','การวัด','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','เพิ่มปุ่มลัดใหม่','save-quiz-btn','bg-green-500\x20hover:bg-green-600\x20text-white','จิงโจ้สโลว์ไลฟ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','</span></td>','lesson-loader','bulk-quiz-settings-btn','gain','timed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','.regenerate-question-editor-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','memoryContent','\x20รายการ\x20สำเร็จ!','totalPoints','catch','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','helvetica','strokeStyle','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div>','การแยกตัวประกอบ','ทำคะแนนได้เกินครึ่ง','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เงินงวด\x20(อนุกรมเงินงวด)','.duplicate-quiz-btn','answer-grid-container','bg-green-400\x20text-white\x20font-bold','transform','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','bp-topic-list-container','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blob','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','open','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','save-settings-btn','reference-pdf-upload','-tab-content','\x20ตัวเลือก)','ความน่าจะเป็นแบบมีเงื่อนไข','modal-results-display-select','open-blueprint-projects-btn','onchange','.bp-create-onet-quiz-btn','</td>','beginPath','settings','ไม่พบข้อมูลโปรเจค','Error\x20renaming\x20quiz:','กฎบวกและกฎคูณ','\x20ชุดสำเร็จ!','เปลี่ยนชื่อโปรเจคสำเร็จ','\x22\x20class=\x22color-palette-btn\x20','questionType','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','live-submit-short-answer-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-yellow-200','สิงโตยิ้ม','<p\x20class=\x22text-2xl\x22>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','value','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','Error\x20during\x20blueprint\x20link\x20cleanup:','rows','student-team-join','touchcancel','\x20\x20\x20-\x20คำตอบ:\x20','Error\x20generating\x20worksheet:','กองดอง','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','join','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','ตัวเลือก\x20ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','Error\x20saving\x20visibility\x20settings:','modal-confidence-scoring-checkbox',')\x22><span\x20style=\x22','/public/data/practiceBank','Error\x20clearing\x20all\x20links:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','ทะเล','isDefault','save','cancel-bp-settings-btn','projectName','.generate-easy-version-btn','timer-container','การคูณทศนิยม','\x20<!--\x20[เพิ่ม]\x20แสดง\x20PIN\x20ที่นี่\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','นักวิทยาศาสตร์','normal','removeChild','textarea','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','```json','บันทึกโปรเจค\x20\x22','Error\x20deleting\x20quiz:','<br>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','div','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','delete-all-students-btn','lineCap','message','เกี่ยวกับหัวข้อ\x20\x22','touchmove','project-list','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','result','live-player-list','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','exitFullscreen','scrollHeight','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','ไม่พบแบบทดสอบ','selected-answer-index-hidden','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','matching_item','อินฟลูเอนเซอร์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passcode','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','highlighter-tools-group','application/json','#file-shortcut-tabs-nav\x20.tab-name-input','เกิดข้อผิดพลาดในการลบผลสอบ','</strong></p>','myAnonymousNickname','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','shouldSaveResults','.ai-content\x20h3','subTopics','projectView','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','results_','หนอนหนังสือ','generated','parallel-shortcuts-loading-msg','parallel-shortcut-modal-title','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','retake-quiz-loop-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การยืนยันตัวตนล้มเหลว','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','forEach','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','Error\x20saving\x20project\x20order:','readAsDataURL','text-gray-700','.scratchpad-content-wrapper','Error\x20generating\x20parallel\x20post-test:','แบบทดสอบซ่อมเสริม','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','text/plain','.move-parallel-shortcut-dropdown','Error\x20processing\x20file\x20shortcut\x20click:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','isAnonymousRevealed','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','AI\x20Fix\x20Error:','Failed\x20to\x20generate\x20lesson:','เกิดข้อผิดพลาดในการลบหัวข้อ','save-bp-settings-btn','text-tab','บทเรียนเรื่อง:\x20','student-progress-content','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','projectSort','analyze-strengths-btn','beforeend','save-parallel-shortcut-btn','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','N/A','#6366F1','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','แก้ไขชื่อหัวข้อย่อย:','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','/studentProfiles','การปัดเศษและประมาณค่า','fill','answered','การหารเศษส่วน','endsWith','.sort-indicator','Error\x20clearing\x20linked\x20quiz:','isRemedial','close-additional-parallel-shortcuts-btn','.bp-open-topic-bank-btn','lastAnswerIndex','ศูนย์','ราชาคัมแบ็ก','earned-badges-container','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','shortcut-editor-modal','button','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','#FEF3C7','autoTable','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','พิซซ่าหน้าทุเรียน','.move-shortcut-menu-btn','files','/public/data/quizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','.project-card-container:not(.opacity-50)','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','quiz','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tool-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','toggle','hint-btn','.group\x5c/dropdown-file','cancel-blueprint-projects-btn','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','เกิดข้อผิดพลาด:\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','fixed','ไม่ระบุ','deg','true_false','ย้าย','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20from\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-table-body','selectedTopicNames','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','sqrt','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สรุปผลการวิเคราะห์:\x5cn','file-shortcut-container','highlighter-size-value','มังกรกินจุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','.edit-hidden-parallel-shortcut-btn','toISOString','lesson-view-title','toLocaleString','grid-view-btn','getTime','playerName','dataset','question-analytics-container','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','newOptionsPayload','disabled','คำอธิบาย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','loop-until-pass-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','#D1FAE5','ความต่อเนื่อง','bp-reference-file-url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','.ai-fix-question-btn','onblur','parallelShortcutOrder','firstScore','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','lineJoin','#000000','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.generate-post-test-btn','interesting-stats-container','cursor','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','half_mark_status','fullscreenchange','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','md:col-span-1','สมการลอการิทึม','sync','quiz-bank-modal','บันทึกการตั้งค่าสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','FileReader\x20error:','</strong></div>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','modal-confidence-mode-container','ไม่พบเอกสารการส่งงานของ\x20','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','ผิด','.cancel-edit-topic-btn','Error\x20saving\x20shortcut:','back-to-dashboard-btn','AI\x20did\x20not\x20return\x20any\x20content.','request','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','Error\x20submitting\x20team\x20answer:','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','[data-field=\x22subTopic\x22]','close-topic-bank-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','game-start-mode','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','close-game-final-btn','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x20จุดเรียบร้อยแล้ว','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','adaptive-quiz-checkbox','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มือปราบสายรุ้ง','เงาปริศนา','cancel-rename-quiz-btn','\x22\x20title=\x22','leaderboard','เพิ่มปุ่มลัดจากไฟล์ใหม่','export-leaderboard-excel-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','project-detail','404\x20Not\x20Found','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','handleGeneratePracticeTest','.edit-hidden-file-shortcut-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerIndex','link-tab','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','แบบทดสอบที่ติดดาว','2-digit','items','font-bold\x20text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','(ฉบับง่าย)\x20','save-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-reference-url-input','กรุณากรอกข้อมูลให้ครบทุกช่อง','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','scheduled','player-list-lobby','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','not_generated','ไม่พบข้อมูลหัวข้อที่จะบันทึก','lobby','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','currentMode','bulk-quiz-settings-modal','class','p-2\x20bg-black/10\x20rounded-md','Error\x20deleting\x20submission:','student-team-selection-view','.application-options\x20button','เกิดข้อผิดพลาดในการลบ','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','keydown','ยอดเยี่ยม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','transformOrigin','Error\x20rendering\x20student\x20progress:','เรขาคณิตวิเคราะห์','questionDisplayedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','cancel-parallel-shortcut-edit-btn','เกิดข้อผิดพลาดในการลบนักเรียน','.bp-edit-topic-btn','bg-black/10','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','pointerup','allResponses','.pen-color-btn','</span></div>','NUMBER','Error\x20during\x20class\x20analysis:','substr','onclick','visible','fas\x20fa-user-edit','open-quiz-bank-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes/','.quiz-bank-try-btn','อยู่ในสาระการเรียนรู้ใด:','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','จำนวนคละ','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','timerDuration','minHeight','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','กรุณาเลือกคำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','teacherSuggestions','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','</div>','active','Error\x20saving\x20quiz\x20edits:','shortcuts','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','perfect_score','word-break:\x20break-all;','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','worksheet-topic-input','setItem','max','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-in-student-dashboard-checkbox','ondragstart','latestSubmittedAt','\x5csum','68892bDuOQY','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','http://www.w3.org/2000/svg','Original\x20quiz\x20not\x20found','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','เรเดียนและการแปลงหน่วย','project-search-input','ความเป็นอิสระของเหตุการณ์','cancel-admin-login-btn','กำลังอ่านไฟล์อ้างอิง...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','show-results-btn','parallel-default-2','หมดเวลาสำหรับข้อนี้!','.isScored','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','backgroundColor','click','substring','1949860pTuBdH','ออฟฟิศซินโดรม','\x20in\x20all\x20blueprint\x20projects.','\x27\x20ในหัวข้อ\x20\x27','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','svg','exists','move-quiz-project-select','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','เศษส่วน\x20(ย่อ/ขยาย)','All\x20groups\x20have\x20finished.\x20Ending\x20game.','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','nextElementSibling','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','passingScore','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','back-to-project-btn','\x20จุด','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','default-','Error\x20saving\x20user\x20preference:','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','every','visibilityState','$1\x20\x5cfrac','bg-red-500\x20text-white\x20font-bold','กรุณาพิมพ์คำตอบของกลุ่ม','tooltipTarget','Error\x20saving\x20file\x20shortcut:','upperGroupNames','quiz-results','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','closePath','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','height','Error\x20listening\x20for\x20student\x20profiles:','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ส่งแล้ว','\x5cdiv','answeredCurrentQuestion','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','Error\x20fetching\x20quiz\x20settings:','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','บันทึกแบบทดสอบสำเร็จแล้ว!','text-blue-700\x20bg-blue-100','สายลับจับบ้านเล็ก','จำนวนคู่:','เกิดข้อผิดพลาดในการลบโปรเจค','timerMode','student-quiz-leaderboard-tab','scratchpad-canvas','shortcut-blueprint-url-input','จัดการ','createElement','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.move-parallel-shortcut-item','แบบปรนัย\x204\x20ตัวเลือก','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','commit','quiz-end-time','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','.file-topic-selection-btn','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','จากเนื้อหาต่อไปนี้:\x20\x22','<div\x20class=\x22my-2\x22>','pointsLastQuestion','blockReason','student-name-select','.ai-content\x20li','default-1','shortcut-tabs-nav','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x22><p\x20class=\x22font-semibold\x22>','Error\x20unpairing\x20quizzes:','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','order','.correct-response-input','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-modal','bp-add-topic-btn','Error\x20analyzing\x20file\x20for\x20topics:','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','Error\x20verifying\x20answers\x20in\x20editor:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x22.\x20','PERFECT_SCORE','scratchpad-modal','ค่าเสื่อมราคา','quick_thinker','Auto-linking\x20new\x20quiz\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.lastAnswerCorrect','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','.move-shortcut-dropdown','slice','sync-timer-countdown','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการกระทำ','blueprint-topics-list-container','การบวกเศษส่วน','ไม่มีคำอธิบาย','bg-red-100','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','.delete-hidden-parallel-shortcut-btn','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอ...','.quiz-bank-item','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','.color-palette-popup','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','แผนภาพเวนน์','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','confidence-mode-select','pinned-items','1692564QXeDIj','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','BOOLEAN','เต่าสายฟ้า','newOptions','\x22\x20class=\x22pin-project-btn\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','preTestId','<p>','flex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','responses.','data:application/vnd.ms-word;charset=utf-8,','สุดยอด!\x20ตอบถูกทุกข้อ','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x5cle','fix\x20the\x20option','กฎของโคไซน์','กัปตัน','.move-parallel-shortcut-menu-btn','แบบทดสอบฝึกฝนเรื่อง:\x20','รักแรกพบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','outerHTML','timer-bar','\x0a---\x0a','modal-close-btn','27411472','force-math-checkbox','add-file-shortcut-btn','totalQuestions','ลาเต้ไม่หวาน','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','parallelTestShortcutsConfig','leq','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','trail','เศรษฐีดูไบ','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','results-tab-content','\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','กระต่ายตื่นตูม','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยความยาวและการแปลง','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<div>','text-white','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','Could\x20not\x20fetch\x20reference\x20file:','bg-yellow-100','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','project-detail-view','sync-player-management','เกมเมอร์','close-comparison-modal-btn','destination-out','สายตาสั้น','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','input[type=\x22radio\x22]:checked','rgba(59,\x20130,\x20246,\x200.7)','student-view','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','fixedData','fadeStartTime','ใช่\x20/\x20ถูก','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','#F3E8FF','dashboardConfig','quiz-leaderboard-table-body','.start-game-btn','รหัสไม่ถูกต้อง','test','reviewQuestionIndex','join-group-activity-btn','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','สอบซ่อม','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','game-start-modal-title','file-topics-list-container','correctAnswer','แบบเติมคำตอบ','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','querySelector','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','.confidence-choice-btn','\x5cge','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปแบบการให้เหตุผล','removeAttribute','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','cos','\x20ชุด)','บทเรียน','answers','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','จับคู่แบบทดสอบสำเร็จ!','color','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','total','สถิติและความน่าจะเป็น','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','topic-quiz-bank-modal','</th>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','สรุปผลสุดท้าย','ผู้พิชิตดาว','sync-manage-players-btn','ondragover','Error\x20joining\x20sync\x20game:','border-indigo-400\x20ring-2\x20ring-indigo-200','ข้อที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','grid','การจัดหมู่\x20(Combination)','wakeLock','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x22\x20value=\x22true\x22\x20','comparison-modal','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','สอบปกติ','ยังไม่เต็มนะ','ดีมาก','questionId','cancel-manual-bp-btn','ondblclick','border-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','Error\x20generating\x20easy\x20version\x20quiz:','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','.verification-result','ai-quiz-app-aefee.firebaseapp.com','teacherTips','perfect_score_status','.txt','bp-modal-passing-score-input','generate-from-text-btn','copy-quiz-id-btn','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','การลบเศษส่วน','bp-modal-quiz-type-select','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','.delete-shortcut-tab-btn','blueprint-project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','ceil','_blank','resultsDisplay','กรุณาเลือกโปรเจคก่อน','copy','คัดลอกแบบทดสอบสำเร็จ','confidence-choice-btn','projectOrder','.move-quiz-btn','close-lesson-plan-modal-btn','decode','ไม่พบไฟล์\x20Test\x20Blueprint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','No\x20player\x20data\x20to\x20save.','target','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','memory','(ก่อนเรียน)\x20','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','timer-mode-select','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','close-presentation-btn','name_asc','cancel-team-selection-btn','touches','.topic-name-display','\x22\x20class=\x22delete-project-btn\x20','contents','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','from','เลือกโปรเจคเพื่อบันทึก','display','sin','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','responseSchema','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','submit','การลบ','insertAdjacentHTML','<p><strong>คำตอบของคุณ:</strong>\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','confidence-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getElementsByTagName','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','shortcuts-loading-msg','<i\x20class=\x22fas\x20fa-save\x22></i>','shuffle-setting-select','นักเดินทาง','innerHTML','file-shortcut-id-input','parallel-test-input-area','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','cancel-passcode-btn','answer-counter','SAFETY','behavior-log-tab-content','พอใช้','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.bp-create-topic-quiz-btn','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','comparison-individual-tab','additional-file-shortcuts-list','bestScore','.rename-quiz-btn','line-through\x20text-red-700','มุมพิเศษ\x2030°-60°-90°','verify-answers-editor-btn','Failed\x20to\x20resume\x20game\x20session:','อัตราส่วนและสัดส่วน','bg-green-100\x20font-bold','back-to-student-home-btn','Error\x20submitting\x20group\x20answer:','.question-editor-item:last-of-type','.project-card-container','ต้นฉบับ\x201','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','รีเซ็ตลำดับโปรเจคแล้ว','quadraticCurveTo','สมการตรีโกณมิติ','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','link-input-area','นกฮูกกลางวัน','การจัดกลุ่มข้อมูล','.ai-fix-formula-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','difficulty-level-select','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','AI\x20Formula\x20Fix\x20Error:','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','ฟังก์ชันราก\x20(root)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','scratchpad-clear-btn','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','bank-tab','tfrac','admin','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sync-timer-enable-checkbox','quiz-editor-questions-container','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','Error\x20starting\x20live\x20race:','โดเมนและเรนจ์','save-project-name-btn','\x22><i\x20class=\x22fas\x20','scrollX','Failed\x20to\x20generate\x20practice\x20test:','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','innerText','Error\x20deleting\x20student:','parallel-shortcut-tabs-nav','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(^|[^\x5c\x5c])\x5cb','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','export-pdf-modal','input[type=\x22checkbox\x22]:checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-input-area','admin-testing','ไม่มีผู้ตอบตัวเลือกนี้','/public/data/blueprintProjects/','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','left','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เหมียวขี้เซา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','thead','round','project-passcode-input','\x22\x20สำเร็จ','practiceProblems','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','upperGroupResponders','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','shuffledQuiz','mean','/public/data/liveGames','-options\x22>','bg-red-100\x20text-red-800','quiz-search-input','numeric','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x20data-id=\x22','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','ไม่ใช่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','การสร้างรูปด้วยวงเวียน–สันตรง','confidenceMode','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','getAttributeNS','parallel-shortcut-url-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','ฐานนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','post-test','ถูกต้อง!','/submissions','all','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.eraser-size-btn','pre-test','Failed\x20to\x20get\x20standardized\x20topic:','.sortable-header','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference_onet.pdf','file-default-2','</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','#results-table\x20thead\x20tr','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test-checkbox','thead\x20.sortable-header','close-additional-file-shortcuts-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','separate-by-content-from-file-checkbox','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','list','translate(','desc','th-TH','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ทฤษฎีบทพื้นฐานของแคลคูลัส','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','name_desc','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','<button\x20id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#math-topics-checkbox-container\x20input:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','geq','NEGATIVE_INFINITY','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-quiz-id','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reduce','.question-editor-item','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','ระยะจากจุดถึงเส้นตรง','text-purple-600','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ฟังก์ชันสัมพัทธ์\x20(rational)','timer-duration-input','file-shortcuts-loading-msg','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เรขาคณิต','.tab-name-input','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','การหารทศนิยม','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enable-passcode-checkbox','icon','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','justification','scrollIntoView','ON_FIRE','line-height:\x201.3;\x20min-width:\x200;','topic-input','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกคำตอบของกลุ่ม','manual-bp-grade-level','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นินจาชาเขียว','group','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','</span><span\x20class=\x22font-bold\x22>','leaderboard-tab','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','export-excel-btn','pinnedProjects','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','โลมาบิน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','filter','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bp-modal-difficulty-level-select','กรุณาใส่ชื่อโปรเจค','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','.file-shortcut-tab-btn','analytics-summary-cards','ปล่อยพลัง','change','save-blueprint-as-project-btn','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','ควรปรับปรุง','option','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','generationConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','ครัวซองต์','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-compact-pdf-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','auto','cancel-quiz-bank-btn','element','attempts','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','Attempting\x20to\x20save\x20game\x20results...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','source-over','Error\x20fetching\x20projects\x20for\x20move:','type','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','bg-green-50','num-choices','canvas','live-player-management','topic','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','Error\x20generating\x20from\x20link:','Group\x20Mode','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#e21b3c','comparison','end-sync-game-btn','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','เน็ตไอดอล','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เกิดข้อผิดพลาดในการนำผู้เล่นออก','กลุ่ม:\x20','results-table','confidence-mode-container','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','fas\x20fa-bookmark','additional-shortcuts-list','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','first_try_ace','localeCompare','tabId','px,\x20','</tbody></table>','topicId','.presentation-option','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกไม่สำเร็จ','message-modal','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','parseFromString','input[name=\x22syncVariant\x22][value=\x22classic\x22]','/public/data/projects','<div\x20class=\x22flex-1\x22></div>','API\x20call\x20failed\x20with\x20status:\x20','ไม่สามารถเพิ่มนักเรียนได้','ไม่พบข้อมูลเกม','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','ชื่อหัวข้อห้ามว่าง','worksheet-tab','Error\x20joining\x20activity:','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','.delete-student-btn','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','prev-question-btn','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','bg-blue-500\x20hover:bg-blue-600\x20text-white','quiz-results-view','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','isLooping','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','Remedial\x20quiz\x20generation\x20failed:','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','candidates','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ท้องฟ้า','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','modal-timer-duration-container','eraser-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','นักเขียน','ธอร์ค้อนบิน','table','dataIndex','Error\x20committing\x20score\x20updates:','lives','authed_project_','correctResponse','\x22>จาก:\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','GlobalWorkerOptions','คะแนนเต็ม','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','cancel-quiz-edits-btn-footer','.bp-present-btn','update','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','fa-dumbbell\x20text-gray-700','per_question','commonMistakes','text/html','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','textContent','fa-rocket\x20text-purple-500','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27',':</span><span>','ยูทูปเบอร์ฝึกหัด','สมการยกกำลัง','/public/data/customMathTopics','finishReason','กลุ่มของคุณ','Error\x20saving\x20game\x20results:','font-bold\x20text-red-700\x20line-through','then','เกิดข้อผิดพลาดในการติดดาว','admin-view','back-to-dashboard-from-bp-btn','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','transparent','.bp-create-content-quiz-btn','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','จำนวนนักเรียน','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','touch','</div><div\x20class=\x22space-y-2\x22>','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20▼▼▼\x20[นี่คือจุดที่แก้ไข\x20Bug]\x20▼▼▼\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20▲▲▲\x20[สิ้นสุดการแก้ไข]\x20▲▲▲\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','bulk-confidence-mode-container','highlighter','touchstart','สร้างใหม่','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-emerald-800','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','#E5E7EB','Error\x20saving\x20to\x20question\x20bank:','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','confirm-bulk-quiz-settings-btn','padStart','showImproveButton','parallel-shortcut-id-input','\x20จาก\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','top','แบตหมด','เกิดข้อผิดพลาดในการลบแบบทดสอบ','wasConfident','<div\x20class=\x22p-2\x20rounded-md\x20','upper_group_count','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x20ตอบ','questionStatus','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','width','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','แก้ไขสูตรคณิตศาสตร์\x20','ข้าวมันไก่พิเศษ','<button\x20data-quiz-id=\x22','dragover','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','globalCompositeOperation','modal-shuffle-select','groups','</a>','confidence-scoring-description','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question','file-default-','Error\x20generating\x20parallel\x20test\x20from\x20bank:','/public/data/teamQuizzes','ดาวTikTok','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-label','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','1:274192258111:web:4120c9118229b5644dd48a','name','</h3>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','both','Error\x20saving\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-800','times','blueprint-upload-input','text/csv;charset=utf-8;','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','2968tYHFHP','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','parent','isArray','</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','fa-user-astronaut\x20text-blue-700','\x22>ใช่</p>','learningGaps','ไฟล์ลัด\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','insertBefore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','(ไม่มีชื่อ)','create-from-bank-btn','scores-tab-btn','isNormalTopic','สมการค่าสัมบูรณ์','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','submittedAt','topic-bank-subtopic-name','mandatory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','ระบบอสมการ','startTime','summaryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','scratchpad-controls','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','presentation-modal','show-leaderboard-btn','transition-all','bp-modal-include-images-checkbox','generate-from-link-btn','wheel','\x0a\x20\x20\x20\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input','API\x20Error\x20Body:','additional-parallel-shortcuts-list','Error\x20saving\x20file\x20shortcut\x20config:','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-admin-login-btn','.delete-shortcut-btn','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','px)\x20scale(','rgba(16,\x20185,\x20129,\x200.7)','Error\x20listening\x20for\x20starred\x20quizzes:','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','bg-green-200\x20text-green-900\x20font-bold','hidden','application','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','confirm-link-quiz-btn','text-gray-500','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parentNode','แก้ไขหัวข้อสำเร็จ','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','choices_only','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','สร้างคำถามแบบเติมคำในช่องว่าง','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','.bp-try-btn','กรุณาเลือกโปรเจคปลายทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','text-indigo-800','studentName','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยกเลิกการเชื่อมโยงสำเร็จ','.generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ลำดับการดำเนินการ\x20(PEMDAS)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','dragstart','ดอกเบี้ยทบต้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','กรุณาใส่ชื่อนักเรียน','quizMode','show_results_only','admin-dashboard','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','Failed\x20to\x20kick\x20player\x20','clear-all-links-btn','student-reading-area','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</li>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','input[name=\x22syncVariant\x22]:checked','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','#student-quiz-leaderboard-content\x20thead','opacity-50','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','documentElement','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x20ข้อ\x20','answer','</div></div>','นำแบบทดสอบออกจากคลังนี้แล้ว','fa-crown\x20text-yellow-500','เทพทรู','#open-additional-shortcuts-btn','กำลังสร้างรูปภาพ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-generation-area','Error\x20saving\x20shortcut\x20config:','Error\x20processing\x20parallel\x20shortcut\x20click:','</body></html>','user','พบ\x20Sync\x20Game!','Error\x20adding\x20topic:','/public/data/blueprintProjects','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','disabled\x20bg-gray-400\x20cursor-not-allowed','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','qType','.pointsLastQuestion','ค่าความจริง/ตารางค่าความจริง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','พื้นที่สามเหลี่ยม','หน่วยเวลาและการคำนวณเวลา','unshift','shadowColor','\x20ตัวเลือก.\x20','file-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<textarea\x20name=\x22question','results','ปลาทูคะนอง','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','source_document.txt','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','.shortcut-tab-btn','...','โหลดนาน','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','selected-topics-count','student-initial-view','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','ไม่มี','ใช่','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','live-short-answer-input','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','explanation','quiz-type-select','createdBy','.export-pdf-list-btn','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file.pdf','sync-timer-duration-input','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','practice-topic-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','q-image-container-','cancel-bulk-quiz-settings-btn','isConfidenceScoringEnabled','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','behavior-log','project-sort-select','quiz-editor-modal','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','กรุณาเลือกชื่อของคุณ','start-game-btn','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','cancel-quiz-edits-btn','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','Error\x20pairing\x20quizzes:','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','ย้ายแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x22\x5cn','project-dashboard-view','fileShortcutsConfig','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','generate-from-file-btn','closest','student-result-area','confirmation-message','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','25428310gGgZYf','shuffle','รอผู้ควบคุมไปข้อต่อไป...','กรุณาป้อนรหัสแบบทดสอบ','parts','ส่วนเบี่ยงเบนมาตรฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','12aXLOcc','manual-bp-content','Error\x20deleting\x20topic:','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','</p>','check-answer-btn','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','string','ชาไข่มุก','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','neq','.pen-size-btn','เกมสิ้นสุดลงแล้ว','การลบทศนิยม','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','input[type=\x22radio\x22][value=\x22','classic','\x22\x20data-name=\x22','เกิดข้อผิดพลาดในการบันทึก','Failed\x20to\x20end\x20group\x20mode\x20game:','เวกเตอร์และเมทริกซ์\x20(เสริม)','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','toDate','comparison-individual-content','export-pdf-btn','\x20\x20\x20-\x20','240','globalSettings','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','undo-btn','raw','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','cancel-test-btn','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20',')</span></div>','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','key','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิด\x20(จับเวลา)','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','จำนวนและการดำเนินการ','quizId','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.shortcut-btn','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','/lessons','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','keyup','.remove-file-shortcut-from-tab-btn','incorrect','score-distribution-chart','update-old-quizzes-btn','multiply','quiz-leaderboard-table','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','list-view-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','manual-bp-project-name','ฮิสโตแกรม','.delete-parallel-shortcut-tab-btn','lowerGroupNames','รูปหลายเหลี่ยมและมุมภายใน','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','redo-btn','badges','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','sync-short-answer-input','shortcutTabs','category','pen-tool-btn','<h1></h1>','replace','บันทึกการตั้งค่าการแสดงผลสำเร็จ','blueprint-shortcut-container','standard','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','input[name=\x22team_player\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','close-comparison-modal-footer-btn','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','manage-players-btn','เกิดข้อผิดพลาดในการสร้าง:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','summary_chart','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','answerText','analytics-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','index','ค่าสัมบูรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','ร้อยละประยุกต์','(คู่ขนาน)\x20','ownerSVGElement','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ลบผลสอบของ\x20','parallel-test-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','QUICK_THINKER','generated-quiz-actions','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','ไม่ได้ตอบ','answerValue','referenceFileUrl','อุณหภูมิและการแปลง','cancel-create-project-btn','.topic-category','Unexpected\x20API\x20response\x20structure:','/questionBank','whole_quiz','ตรวจพบการออกจากหน้าจอครบ\x20','asc','label','gradeLevel','score','tan','border-indigo-500\x20text-indigo-600','project-name-input','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','sara','\x20เข้าร่วมกลางเกม','ค่าคลาดเคลื่อนของการวัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','setTransform','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','shortcut_','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการปักหมุด','not_confident','<p\x20class=\x22','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','main-correct-answer-display','num-questions','Error\x20updating\x20quiz\x20status:','math-topics-checkbox-container','จับคู่เพื่อเปรียบเทียบผล','text','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x22><span\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','true','moveTo','block','Error\x20in\x20handleApiCall:','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','timer-duration-container','MathJax','topicName','Error\x20linking\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','scratchpad-header','keyConcepts','clientX','global-quiz-search-input','ความชันเส้นสัมผัส','พื้นที่สี่เหลี่ยม','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</span>','applicationHTML','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','keys','อินเวอร์สของเมทริกซ์','lesson-plan-content','parallel-default-1','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','student','%</span>','ถูก','submission-status-chart','div[data-question-index=\x22','generate-from-topic-btn','questions','กำลังเตรียมไฟล์...','\x20ชุด)</span>','title','Invalid\x20response\x20structure\x20from\x20AI.','add-student-btn','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','workerSrc','.copy-quiz-id-list-btn','ชนิดของข้อมูลและการเก็บข้อมูล','circ','number','multiple_choice','มุมพิเศษ\x2045°-45°-90°','-tab','doughnut','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แท็บใหม่','เน็ตช้า','โจรสลัดอวกาศ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pdf','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','Error\x20loading\x20quiz\x20for\x20student:','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','back-to-home-manual-release','hasOwnProperty','<div\x20id=\x22q-image-container-','confirm-delete-btn','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p><p><strong>เฉลย:</strong>\x20','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20</div>','.shortcut-list-item:not(.opacity-50)','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','.generate-content-btn','#view-rankings-btn','delete','เปิดใช้งาน','</div></div></div>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.linkedQuizIds','shortcutIds','.ai-content\x20p','getBoundingClientRect','\x20ครั้ง)</span></td>','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','เกิดข้อผิดพลาดในการเปลี่ยนสี','.ideal-answer-input,\x20.correct-response-input','blueprint-input-area','อัปเดตแบบทดสอบเก่า\x20','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','timestamp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20create/update\x20submission\x20record:','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','passcode-prompt-message','<div><input\x20type=\x22radio\x22\x20id=\x22q','print','เส้นรอบรูป','parallel-shortcut-container','back-to-dashboard-from-results-btn','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','shadowBlur','mouseleave','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','<option\x20value=\x22','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','CEOพันล้าน','parallel-shortcut_','bg-black/20','.score','matching','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x20(สำหรับ\x20','.delete-question-editor-btn','file-default-1','การกระจายและการจัดหมู่','empty','\x5cneq','ฟังก์ชันยกกำลัง','mousemove','cdot','showRankings','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','numQuestions','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','generate-from-parallel-test-btn','subTopic','pointerdown','requestFullscreen','Error\x20generating\x20from\x20parallel\x20test\x20file:','fix-lesson-latex-btn','แมวเก้าชีวิต','กุ้งเต้นแร้งกา','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','FIRST_TRY_ACE','correctAnswerIndex','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','AI\x20grading\x20failed:','.parallel-shortcut-btn','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toDataURL','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','draggable-text','modal-passing-score-input','ตอบถูกทุกข้อในแบบทดสอบนี้','on_fire','nickname-input','ตรวจทานเฉลยเสร็จสิ้น!','close-additional-shortcuts-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','points','scratchpad-question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','show_results_and_answers','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการเชิงเส้น','แผนการสอน:\x20','.submittedAt','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','bg-red-200\x20text-red-800','per-question-text','ตัวแปรและนิพจน์','file.txt','parseInline','blueprint-settings-modal','อยู่ในหัวข้อหลักใด:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','webkitExitFullscreen','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','join-live-game-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','.quiz-result-card','hover:bg-indigo-100','reference.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','back-from-results-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','additional-file-shortcuts-modal','\x22\x20name=\x22confidence','confirm-join-game-btn','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','generated-quiz-container','createObjectURL','confirm-move-quiz-btn','100px','cancel-file-shortcut-edit-btn','STRING','\x22\x20ออกจากคลังนี้?','ระบบเลขและค่าประจำหลัก','per-question-timer-container','select','text-green-700','next-sync-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','.png','จำนวนเชิงซ้อน\x20(เสริม)','progress-student-select','https://drive.google.com/uc?export=download&id=','</span><span\x20class=\x22block\x20text-sm\x20text-gray-400\x22\x20style=\x22','.live-answer-btn,\x20#sync-submit-btn','.delete-file-shortcut-tab-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','student-quiz-area','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','modal-confidence-mode-select','pathname','includes','close','bg-yellow-50','.lastAnswerValue','behavior-log-container','blueprint-project-manager-view','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','.bp-unlink-quiz-btn','วงรี','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','ค่าเฉลี่ย','ป่าไม้','toLowerCase','export-leaderboard-word-btn','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#26890c','editable-text-','translate','text-red-500\x20hover:text-red-700','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cloneNode','.edit-custom-topic-btn','afterend','correct','ตอบถูก\x203\x20ข้อติดต่อกัน','null','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','topic-bank-list','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','global-activity-modal','Error\x20comparing\x20results:','q-text-','submit-group-answer-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lower_group_count','[data-topic-container-id]','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-file-shortcut-dropdown','mode-switcher-btn','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','องค์ประกอบของฟังก์ชัน','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','admin-password-modal','การแจกแจงทวินาม\x20(พื้นฐาน)','อัตราการเปลี่ยนแปลงทันที','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','คนคุย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20'];_0x13e5=function(){return _0x2a3da9;};return _0x13e5();}function createQuizFromBank(){const _0x2364e9=_0x121993,_0x1e0210=document[_0x2364e9(0x4cb)](_0x2364e9(0x6c4));if(_0x1e0210[_0x2364e9(0x2b5)]===0x0){showMessage(_0x2364e9(0x20b));return;}const _0x48c6b3=[];_0x1e0210[_0x2364e9(0x616)](_0xd6f143=>{const _0x3e13d6=_0x2364e9;_0x48c6b3[_0x3e13d6(0xdc4)](JSON['parse'](_0xd6f143[_0x3e13d6(0x5b6)]));});const _0x332f8d={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x48c6b3};displayGeneratedQuiz(_0x332f8d);}function showAdminLobbyView(_0x51fb92,_0x4099e5){const _0x56fc12=_0x121993;showView(_0x56fc12(0x40f));const _0x55f8ee=_0x56fc12(0x6d6)+_0x4099e5+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x51fb92+_0x56fc12(0x3e2);liveGameView['innerHTML']=_0x55f8ee,document[_0x56fc12(0x2f7)]('start-game-btn')[_0x56fc12(0xdd3)](_0x56fc12(0x754),async()=>{const _0x44b119=_0x56fc12;if(!currentQuizData||!currentQuizData[_0x44b119(0xc33)]||currentQuizData[_0x44b119(0xc33)]['length']===0x0){showMessage(_0x44b119(0x2cc));return;}try{const _0x479ce7=doc(db,_0x44b119(0x1da)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x479ce7,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3a2d3c=currentQuizData[_0x44b119(0xc33)][0x0],_0x5afbd6=currentQuizData[_0x44b119(0xc33)][_0x44b119(0x2b5)];showAdminLiveQuestionView(_0x3a2d3c,0x0,_0x5afbd6);}catch(_0x314f6c){console[_0x44b119(0x274)](_0x44b119(0x233),_0x314f6c),showMessage(_0x44b119(0x905));}});}async function openQuizBankModal(){const _0xf9ab46=_0x121993;if(allQuizzesGlobal[_0xf9ab46(0x2b5)]===0x0){const _0x166b45=await getDocs(collection(db,_0xf9ab46(0x1da)+appId+_0xf9ab46(0x653)));allQuizzesGlobal=_0x166b45[_0xf9ab46(0x3c3)]['map'](_0x186f87=>({'id':_0x186f87['id'],..._0x186f87[_0xf9ab46(0x72a)]()}));}renderQuizBankList(''),document[_0xf9ab46(0x2f7)](_0xf9ab46(0x6a8))['classList']['remove'](_0xf9ab46(0xad0));}function renderQuizBankList(_0x870cf4='',_0xa662e8=![]){const _0x5acd75=_0x121993,_0x2ce7db=document[_0x5acd75(0x2f7)](_0x5acd75(0x24d)),_0x565afc=_0x870cf4[_0x5acd75(0xcfa)]()[_0x5acd75(0xe11)](),_0x12af72=allQuizzesGlobal['map'](_0x4db3ff=>({..._0x4db3ff,'projectName':allProjects['find'](_0x549222=>_0x549222['id']===_0x4db3ff[_0x5acd75(0xd51)])?.[_0x5acd75(0x5d3)]||_0x5acd75(0x633)}))[_0x5acd75(0x9a7)](_0x577c4e=>(_0x577c4e[_0x5acd75(0x9ce)]||'')[_0x5acd75(0xcfa)]()[_0x5acd75(0xcec)](_0x565afc)||(_0x577c4e[_0x5acd75(0x5d3)]||'')[_0x5acd75(0xcfa)]()[_0x5acd75(0xcec)](_0x565afc)||_0x577c4e['id'][_0x5acd75(0x24c)]()[_0x5acd75(0xcec)](_0x565afc));document[_0x5acd75(0x2f7)](_0x5acd75(0x40c))[_0x5acd75(0xa28)]='('+_0x12af72[_0x5acd75(0x2b5)]+_0x5acd75(0x845),_0x2ce7db[_0x5acd75(0x8c4)]=_0x12af72[_0x5acd75(0x2b5)]?_0x12af72[_0x5acd75(0xce7)](_0x18c95c=>{const _0x14298e=_0x5acd75,_0x441de6=!_0xa662e8?_0x14298e(0x615)+_0x18c95c['id']+_0x14298e(0x3c1)+_0x18c95c['id']+_0x14298e(0xa27)+_0x18c95c['id']+_0x14298e(0x3bd)+_0x18c95c['id']+_0x14298e(0x744)+_0x18c95c['id']+_0x14298e(0x855)+_0x18c95c['id']+_0x14298e(0x2ba)+_0x18c95c[_0x14298e(0x9ce)]+_0x14298e(0x508):'';return _0x14298e(0xd1c)+_0x18c95c['id']+_0x14298e(0x39f)+(_0x18c95c[_0x14298e(0x9ce)]||_0x14298e(0xaa7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x18c95c['questions']?.['length']||0x0)+_0x14298e(0x603)+_0x18c95c[_0x14298e(0x5d3)]+_0x14298e(0xcc1)+_0x18c95c['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x441de6+_0x14298e(0xc58);})[_0x5acd75(0x5c4)](''):_0x5acd75(0xa3f),!_0xa662e8&&(_0x2ce7db[_0x5acd75(0x4cb)](_0x5acd75(0x7ca))[_0x5acd75(0x616)](_0xeab725=>{const _0x34e8be=_0x5acd75;_0xeab725[_0x34e8be(0xdd3)]('click',()=>{const _0x4a0da5=_0x34e8be,_0x461496=_0xeab725['dataset']['id'];document['getElementById'](_0x4a0da5(0x6a8))['classList']['add'](_0x4a0da5(0xad0)),showQuizDetailView(_0x461496);});}),_0x2ce7db[_0x5acd75(0x4cb)](_0x5acd75(0x71d))[_0x5acd75(0x616)](_0x1298b8=>{const _0x56eefe=_0x5acd75;_0x1298b8[_0x56eefe(0xdd3)]('click',_0x141ab3=>{const _0x5c1378=_0x56eefe;_0x141ab3[_0x5c1378(0x5c0)]();const _0x35f523=_0x1298b8['dataset']['id'],_0x296a81=allQuizzesGlobal[_0x5c1378(0x266)](_0x187e57=>_0x187e57['id']===_0x35f523);_0x296a81?(currentQuizData=_0x296a81,document['getElementById'](_0x5c1378(0x6a8))[_0x5c1378(0x2ff)][_0x5c1378(0x30d)]('hidden'),startAdminTest()):showMessage(_0x5c1378(0x377));});}),_0x2ce7db[_0x5acd75(0x4cb)]('.quiz-bank-parallel-btn')[_0x5acd75(0x616)](_0x58a808=>{const _0x35d8d5=_0x5acd75;_0x58a808['addEventListener'](_0x35d8d5(0x754),_0x339338=>{const _0x2ac561=_0x35d8d5;_0x339338[_0x2ac561(0x5c0)]();const _0x2966ba=_0x58a808[_0x2ac561(0x683)]['id'],_0x9552ca=allQuizzesGlobal['find'](_0x13fde2=>_0x13fde2['id']===_0x2966ba);_0x9552ca?(document[_0x2ac561(0x2f7)](_0x2ac561(0x6a8))[_0x2ac561(0x2ff)][_0x2ac561(0x30d)](_0x2ac561(0xad0)),handleGenerateParallelFromBank(_0x9552ca)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2ce7db[_0x5acd75(0x4cb)](_0x5acd75(0xd1b))[_0x5acd75(0x616)](_0x1ba53c=>{const _0x1dce4d=_0x5acd75;_0x1ba53c[_0x1dce4d(0xdd3)](_0x1dce4d(0x754),_0x3a7d37=>{const _0x47592c=_0x1dce4d;_0x3a7d37[_0x47592c(0x5c0)]();const _0x3db062=_0x1ba53c['dataset']['id'],_0x2e5139=allQuizzesGlobal[_0x47592c(0x266)](_0x296147=>_0x296147['id']===_0x3db062);_0x2e5139?(document[_0x47592c(0x2f7)](_0x47592c(0x6a8))[_0x47592c(0x2ff)][_0x47592c(0x30d)]('hidden'),startPresentation(_0x2e5139)):showMessage(_0x47592c(0x377));});}),_0x2ce7db[_0x5acd75(0x4cb)](_0x5acd75(0x566))[_0x5acd75(0x616)](_0x1e0613=>{const _0x1c2d42=_0x5acd75;_0x1e0613[_0x1c2d42(0xdd3)]('click',_0x289059=>{const _0x31e785=_0x1c2d42;_0x289059[_0x31e785(0x5c0)]();const _0x3d9145=_0x1e0613[_0x31e785(0x683)]['id'];document['getElementById'](_0x31e785(0x6a8))[_0x31e785(0x2ff)][_0x31e785(0x30d)]('hidden'),handleMoveQuiz(_0x3d9145);});}),_0x2ce7db[_0x5acd75(0x4cb)](_0x5acd75(0xd5b))[_0x5acd75(0x616)](_0xeac9c5=>{const _0x45e7e3=_0x5acd75;_0xeac9c5[_0x45e7e3(0xdd3)](_0x45e7e3(0x754),_0x3b6722=>{const _0x41dc94=_0x45e7e3;_0x3b6722[_0x41dc94(0x5c0)]();const _0x1d8433=_0xeac9c5['dataset']['id'];document['getElementById'](_0x41dc94(0x6a8))[_0x41dc94(0x2ff)][_0x41dc94(0x30d)](_0x41dc94(0xad0)),handleQuizSettings(_0x1d8433);});}),_0x2ce7db[_0x5acd75(0x4cb)](_0x5acd75(0x28a))[_0x5acd75(0x616)](_0x16be2f=>{const _0x254ed8=_0x5acd75;_0x16be2f[_0x254ed8(0xdd3)]('click',_0x1a7a37=>{const _0x3ff3a4=_0x254ed8;_0x1a7a37['stopPropagation']();const _0x5b7d0b=_0x16be2f[_0x3ff3a4(0x683)]['id'],_0x5ed55d=_0x16be2f[_0x3ff3a4(0x683)][_0x3ff3a4(0x9ce)];showConfirmation(_0x3ff3a4(0x3e1)+_0x5ed55d+_0x3ff3a4(0x428),()=>handleDeleteQuiz(_0x5b7d0b));});}));}async function handleCompareResults(_0x2e2069,_0x1e2603){const _0xba1c83=_0x121993,_0x37eead=document['getElementById']('comparison-modal'),_0x154b7f=document['getElementById']('comparison-overall-content'),_0x3d40f5=document[_0xba1c83(0x2f7)](_0xba1c83(0xb85));document[_0xba1c83(0x2f7)]('comparison-overall-tab')[_0xba1c83(0x2ff)][_0xba1c83(0x30d)](_0xba1c83(0x72f)),document['getElementById'](_0xba1c83(0x8d5))[_0xba1c83(0x2ff)]['remove'](_0xba1c83(0x72f)),_0x154b7f[_0xba1c83(0x2ff)][_0xba1c83(0x2cf)](_0xba1c83(0xad0)),_0x3d40f5[_0xba1c83(0x2ff)][_0xba1c83(0x30d)]('hidden'),_0x154b7f[_0xba1c83(0x8c4)]=_0xba1c83(0xd2a),_0x3d40f5[_0xba1c83(0x8c4)]='',_0x37eead[_0xba1c83(0x2ff)][_0xba1c83(0x2cf)](_0xba1c83(0xad0));try{const _0x5274e0=doc(db,_0xba1c83(0x1da)+appId+_0xba1c83(0x653),_0x2e2069),_0x399c24=await getDoc(_0x5274e0);if(!_0x399c24[_0xba1c83(0x75c)]())throw new Error(_0xba1c83(0xcae));const _0x2cefde=_0x399c24[_0xba1c83(0x72a)](),_0x4eae76=_0x2cefde[_0xba1c83(0xc33)][_0xba1c83(0x2b5)],_0x46a12b=collection(db,'artifacts/'+appId+_0xba1c83(0x71c)+_0x1e2603+_0xba1c83(0x942)),_0x231f23=collection(db,_0xba1c83(0x1da)+appId+_0xba1c83(0x71c)+_0x2e2069+_0xba1c83(0x942)),[_0xb25736,_0x40d19a]=await Promise['all']([getDocs(_0x46a12b),getDocs(_0x231f23)]),_0x51cdd2=_0xb25736[_0xba1c83(0x3c3)][_0xba1c83(0xce7)](_0x23c787=>_0x23c787[_0xba1c83(0x72a)]()),_0x1d49ff=_0x40d19a[_0xba1c83(0x3c3)]['map'](_0x65fcaf=>_0x65fcaf[_0xba1c83(0x72a)]()),_0x38a4dc=_0x51cdd2['map'](_0x78f6c6=>_0x78f6c6[_0xba1c83(0x2f1)]),_0x380514=_0x1d49ff[_0xba1c83(0xce7)](_0x6923f4=>_0x6923f4['latestScore']),_0x55cdef=calculateMeanAndStdDev(_0x38a4dc),_0xb842cc=calculateMeanAndStdDev(_0x380514),_0x40779f=_0x55cdef[_0xba1c83(0x927)],_0xf63c4d=_0xb842cc['mean'],_0x322218=_0xf63c4d-_0x40779f;let _0x9dd2c2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x40779f['toFixed'](0x2)+_0xba1c83(0x3f9)+_0xf63c4d['toFixed'](0x2)+_0xba1c83(0xd81)+(_0x322218>=0x0?_0xba1c83(0x4b9):_0xba1c83(0x7c4))+_0xba1c83(0x696)+(_0x322218>=0x0?_0xba1c83(0xa4b):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x322218>=0x0?'text-emerald-900':_0xba1c83(0x45b))+'\x22>'+(_0x322218>=0x0?'+':'')+_0x322218[_0xba1c83(0x343)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x154b7f['innerHTML']=_0x9dd2c2;const _0x355475=document[_0xba1c83(0x2f7)]('comparison-chart')[_0xba1c83(0x504)]('2d');if(chartInstances[_0xba1c83(0x9d5)])chartInstances[_0xba1c83(0x9d5)][_0xba1c83(0x47d)]();chartInstances[_0xba1c83(0x9d5)]=new Chart(_0x355475,{'type':_0xba1c83(0x230),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0x40779f],'backgroundColor':_0xba1c83(0x81e)},{'label':'หลังเรียน','data':[_0xf63c4d],'backgroundColor':_0xba1c83(0xacb)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4eae76}}}});const _0x57cd00=currentProjectData[_0xba1c83(0x559)]||[],_0x40f296=_0x57cd00['map'](_0x4a960d=>{const _0x553309=_0xba1c83,_0x1cbb58=_0x51cdd2[_0x553309(0x266)](_0x1fa902=>_0x1fa902[_0x553309(0xae4)]===_0x4a960d),_0x280ad5=_0x1d49ff[_0x553309(0x266)](_0x233f48=>_0x233f48[_0x553309(0xae4)]===_0x4a960d),_0x4f13e7=_0x1cbb58?_0x1cbb58[_0x553309(0x2f1)]:null,_0x52670d=_0x280ad5?_0x280ad5[_0x553309(0x2f1)]:null,_0x5315e2=_0x4f13e7!==null&&_0x52670d!==null?_0x52670d-_0x4f13e7:null,_0xef143=_0x4f13e7!==null?calculateZScore(_0x4f13e7,_0x55cdef[_0x553309(0x927)],_0x55cdef[_0x553309(0x737)]):null,_0x4926a9=_0x52670d!==null?calculateZScore(_0x52670d,_0xb842cc[_0x553309(0x927)],_0xb842cc[_0x553309(0x737)]):null,_0x10dfcd=_0xef143!==null?calculateTScore(_0xef143):null,_0x593359=_0x4926a9!==null?calculateTScore(_0x4926a9):null,_0x368075=_0x10dfcd!==null&&_0x593359!==null?_0x593359-_0x10dfcd:null;return{'name':_0x4a960d,'preScore':_0x4f13e7,'postScore':_0x52670d,'gain':_0x5315e2,'preTScore':_0x10dfcd,'postTScore':_0x593359,'tGain':_0x368075};});renderIndividualComparisonTable(_0x40f296,_0x3d40f5);}catch(_0x18c6fc){console[_0xba1c83(0x274)](_0xba1c83(0xd10),_0x18c6fc),_0x154b7f[_0xba1c83(0x8c4)]=_0xba1c83(0x47e);}}async function saveBlueprintProject(){const _0x37ee1f=_0x121993;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x37ee1f(0x6f2));return;}const _0x1950ee=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x37ee1f(0x47b));if(!_0x1950ee||_0x1950ee[_0x37ee1f(0xe11)]()==='')return;const _0x244734={};extractedBlueprintData[_0x37ee1f(0x4d9)][_0x37ee1f(0x616)](_0x14692c=>{const _0x362d6f=_0x37ee1f;_0x14692c[_0x362d6f(0xd36)][_0x362d6f(0x616)](_0x3f8a77=>{const _0x536430=_0x362d6f;_0x3f8a77[_0x536430(0x606)][_0x536430(0x616)](_0x57781f=>{const _0x1f36e5=_0x536430,_0x5aa15f=_0x1f36e5(0x308)+Date[_0x1f36e5(0x2a6)]()+Math[_0x1f36e5(0x51e)]()['toString'](0x24)[_0x1f36e5(0x716)](0x2,0x9);_0x244734[_0x5aa15f]={'sara':_0x14692c[_0x1f36e5(0xbf6)],'mainTopic':_0x3f8a77[_0x1f36e5(0xc17)],'subTopic':_0x57781f,'status':_0x1f36e5(0x6f1),'lessonContent':null};});});});try{const _0x1248d5=collection(db,_0x37ee1f(0x1da)+appId+_0x37ee1f(0xb14));await addDoc(_0x1248d5,{'projectName':_0x1950ee[_0x37ee1f(0xe11)](),'gradeLevel':extractedBlueprintData[_0x37ee1f(0xbf0)],'topics':_0x244734,'createdAt':serverTimestamp()}),showMessage(_0x37ee1f(0x5de)+_0x1950ee[_0x37ee1f(0xe11)]()+_0x37ee1f(0x34f)),document[_0x37ee1f(0x2f7)](_0x37ee1f(0x9b0))[_0x37ee1f(0x2ff)][_0x37ee1f(0x30d)](_0x37ee1f(0xad0));}catch(_0x178a04){console[_0x37ee1f(0x274)](_0x37ee1f(0xa89),_0x178a04),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x31828e=_0x121993,_0x369131=document[_0x31828e(0x2f7)]('blueprint-projects-modal'),_0x2273d9=document[_0x31828e(0x2f7)](_0x31828e(0x887));_0x2273d9[_0x31828e(0x8c4)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x369131[_0x31828e(0x2ff)][_0x31828e(0x2cf)](_0x31828e(0xad0));try{const _0x470013=collection(db,_0x31828e(0x1da)+appId+'/public/data/blueprintProjects'),_0x5d757b=await getDocs(_0x470013);if(_0x5d757b['empty']){_0x2273d9[_0x31828e(0x8c4)]=_0x31828e(0xc60);return;}const _0x135d8a=_0x5d757b[_0x31828e(0x3c3)][_0x31828e(0xce7)](_0x427707=>({'id':_0x427707['id'],..._0x427707[_0x31828e(0x72a)]()}));_0x135d8a[_0x31828e(0x423)]((_0x3968ed,_0xd5d726)=>_0x3968ed[_0x31828e(0x5d3)][_0x31828e(0x9e4)](_0xd5d726[_0x31828e(0x5d3)],'th')),_0x2273d9[_0x31828e(0x8c4)]=_0x135d8a[_0x31828e(0xce7)](_0x52387f=>_0x31828e(0x65d)+_0x52387f[_0x31828e(0x5d3)]+_0x31828e(0x724)+_0x52387f[_0x31828e(0xbf0)]+_0x31828e(0x330)+Object[_0x31828e(0xc27)](_0x52387f[_0x31828e(0xd44)])[_0x31828e(0x2b5)]+_0x31828e(0xa49)+_0x52387f['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x52387f['id']+_0x31828e(0x4d7))[_0x31828e(0x5c4)]('');}catch(_0x134535){console[_0x31828e(0x274)]('Error\x20loading\x20blueprint\x20projects:',_0x134535),_0x2273d9[_0x31828e(0x8c4)]=_0x31828e(0xa9f);}}async function displayBlueprintProjectManager(_0x4eb5e8){const _0x4fa821=_0x121993;currentBlueprintProjectId=_0x4eb5e8,document[_0x4fa821(0x2f7)]('blueprint-projects-modal')[_0x4fa821(0x2ff)]['add'](_0x4fa821(0xad0)),showView(_0x4fa821(0xaf5)),projectDashboardView[_0x4fa821(0x2ff)][_0x4fa821(0x30d)](_0x4fa821(0xad0));const _0x11fd22=document['getElementById'](_0x4fa821(0xcf1));_0x11fd22[_0x4fa821(0x2ff)][_0x4fa821(0x2cf)](_0x4fa821(0xad0)),document['getElementById'](_0x4fa821(0x58f))[_0x4fa821(0x8c4)]=_0x4fa821(0xd2a);try{const _0x441312=doc(db,_0x4fa821(0x1da)+appId+_0x4fa821(0xb14),_0x4eb5e8),_0x2d8c49=await getDoc(_0x441312);if(!_0x2d8c49[_0x4fa821(0x75c)]())throw new Error(_0x4fa821(0x36d));const _0x2374e2={'id':_0x2d8c49['id'],..._0x2d8c49[_0x4fa821(0x72a)]()};document[_0x4fa821(0x2f7)](_0x4fa821(0x4a3))['textContent']=_0x2374e2[_0x4fa821(0x5d3)],document['getElementById'](_0x4fa821(0x68e))[_0x4fa821(0x5b6)]=_0x2374e2[_0x4fa821(0xbe6)]||'',renderBlueprintTopicManager(_0x2374e2);}catch(_0x44db44){console[_0x4fa821(0x274)](_0x4fa821(0x1f6),_0x44db44),showMessage(_0x44db44[_0x4fa821(0x5e6)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x2abff5){const _0xe5e6ef=_0x121993,_0x56f612=document['getElementById']('bp-topic-list-container'),_0x40cded=_0x2abff5[_0xe5e6ef(0xd44)]||{};if(Object[_0xe5e6ef(0xc27)](_0x40cded)[_0xe5e6ef(0x2b5)]===0x0){_0x56f612['innerHTML']=_0xe5e6ef(0x746);return;}const _0x57c8e1=Object[_0xe5e6ef(0x211)](_0x40cded)[_0xe5e6ef(0xce7)](([_0x296c03,_0x2337ea])=>({'id':_0x296c03,..._0x2337ea}))[_0xe5e6ef(0x423)]((_0x1803a7,_0x44f44d)=>(_0x1803a7[_0xe5e6ef(0x7a5)]??Infinity)-(_0x44f44d[_0xe5e6ef(0x7a5)]??Infinity)),_0x52cf54={};_0x57c8e1[_0xe5e6ef(0x616)](_0x132530=>{const _0x435adc=_0xe5e6ef,{sara:_0x308885,mainTopic:_0x25e6e4}=_0x132530;!_0x52cf54[_0x308885]&&(_0x52cf54[_0x308885]={}),!_0x52cf54[_0x308885][_0x25e6e4]&&(_0x52cf54[_0x308885][_0x25e6e4]=[]),_0x52cf54[_0x308885][_0x25e6e4][_0x435adc(0xdc4)](_0x132530);});let _0x57a891='';for(const _0x47c43b in _0x52cf54){_0x57a891+=_0xe5e6ef(0x24f)+_0x47c43b+_0xe5e6ef(0xe0d);for(const _0x14d66e in _0x52cf54[_0x47c43b]){_0x57a891+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x14d66e+_0xe5e6ef(0x448),_0x52cf54[_0x47c43b][_0x14d66e][_0xe5e6ef(0x616)](_0x23ed7b=>{const _0x5bd108=_0xe5e6ef,_0x323f1a=_0x23ed7b['id'],_0x14867c=_0x23ed7b[_0x5bd108(0x318)]||[],_0x5d2728=_0x14867c['length']>0x0,_0x59360b=_0x23ed7b[_0x5bd108(0x2d4)]===_0x5bd108(0x60d);let _0x54466c='';_0x5d2728?_0x54466c=_0x5bd108(0xb15)+_0x14867c[_0x5bd108(0x2b5)]+_0x5bd108(0xc35):_0x54466c=_0x5bd108(0xd7f)+(_0x59360b?_0x5bd108(0xdb2):_0x5bd108(0x4ab))+'\x22>'+(_0x59360b?_0x5bd108(0x2a0):_0x5bd108(0x2d3))+_0x5bd108(0xc24);const _0x98665c=!_0x59360b?_0x5bd108(0xb17):'',_0x8e4d36=!_0x59360b?'กรุณาสร้างบทเรียนก่อน':'';let _0x38c458=_0x59360b?_0x5bd108(0x944):_0x5bd108(0xa69);_0x57a891+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x323f1a+_0x5bd108(0x523)+_0x23ed7b['subTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54466c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x98665c+_0x5bd108(0x813)+_0x8e4d36+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38c458+_0x5bd108(0xd1f);}),_0x57a891+=_0xe5e6ef(0xb06);}_0x57a891+=_0xe5e6ef(0x72e);}_0x56f612[_0xe5e6ef(0x8c4)]=_0x57a891;}async function handleDeepDeleteBlueprintProject(_0x1d8127){const _0x6a6c4d=_0x121993,_0x6e8b8c=doc(db,_0x6a6c4d(0x1da)+appId+'/public/data/blueprintProjects',_0x1d8127),_0x47dd98=await getDoc(_0x6e8b8c);if(!_0x47dd98[_0x6a6c4d(0x75c)]()){showMessage(_0x6a6c4d(0x4bb));return;}const _0x4f6bb0=_0x47dd98[_0x6a6c4d(0x72a)]()[_0x6a6c4d(0x5d3)];showConfirmation(_0x6a6c4d(0xdd1)+_0x4f6bb0+_0x6a6c4d(0xcb9),async()=>{const _0x2117e8=_0x6a6c4d;showMessage(_0x2117e8(0x5bf));try{const _0x46a51a=writeBatch(db),_0xf5076=_0x47dd98[_0x2117e8(0x72a)](),_0x548edd=_0xf5076[_0x2117e8(0xd44)]||{};for(const _0x4707e7 in _0x548edd){const _0x4f90c8=doc(db,_0x2117e8(0x1da)+appId+'/public/data/blueprintProjects/'+_0x1d8127+'/lessons',_0x4707e7);_0x46a51a[_0x2117e8(0xc5d)](_0x4f90c8);}const _0x30aaa9=new Set();for(const _0x3fcd27 in _0x548edd){_0x548edd[_0x3fcd27][_0x2117e8(0x318)]&&_0x548edd[_0x3fcd27]['linkedQuizIds'][_0x2117e8(0x616)](_0x19ad04=>_0x30aaa9[_0x2117e8(0x30d)](_0x19ad04));}for(const _0x5154a8 of _0x30aaa9){await handleDeleteQuiz(_0x5154a8,![]);}_0x46a51a[_0x2117e8(0xc5d)](_0x6e8b8c),await _0x46a51a[_0x2117e8(0x794)](),showMessage(_0x2117e8(0x4a7)+_0x4f6bb0+_0x2117e8(0x5ad)),showBlueprintProjects();}catch(_0x562924){console[_0x2117e8(0x274)](_0x2117e8(0x293),_0x562924),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x4e007e){const _0x2aa971=_0x121993,_0x326012=document[_0x2aa971(0x2f7)](_0x2aa971(0x853)),_0x4fc674=document['getElementById'](_0x2aa971(0xd0d)),_0x2ee5b9=document[_0x2aa971(0x2f7)](_0x2aa971(0xaf8));try{await ensureGlobalQuizzesLoaded();const _0x27ff22=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x29fdf1=await getDoc(_0x27ff22);if(!_0x29fdf1[_0x2aa971(0x75c)]())return;const _0x2cc5b4=_0x29fdf1[_0x2aa971(0x72a)](),_0x59b624=_0x2cc5b4[_0x2aa971(0xd44)][_0x4e007e];document['getElementById'](_0x2aa971(0xaae))[_0x2aa971(0xa28)]=_0x59b624[_0x2aa971(0xc96)];const _0x140643=_0x59b624[_0x2aa971(0x318)]||[];_0x2ee5b9[_0x2aa971(0x2ff)][_0x2aa971(0x65e)](_0x2aa971(0xad0),_0x140643[_0x2aa971(0x2b5)]===0x0),_0x2ee5b9[_0x2aa971(0x717)]=()=>handleClearAllLinksForTopic(_0x4e007e);if(_0x140643[_0x2aa971(0x2b5)]===0x0)_0x4fc674[_0x2aa971(0x8c4)]=_0x2aa971(0xb83);else{const _0x41bf8f=allQuizzesGlobal[_0x2aa971(0x9a7)](_0x3b76f6=>_0x140643[_0x2aa971(0xcec)](_0x3b76f6['id']));_0x4fc674[_0x2aa971(0x8c4)]=_0x41bf8f[_0x2aa971(0xce7)](_0x25014a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x25014a['id']+_0x2aa971(0x1e3)+_0x25014a[_0x2aa971(0x9ce)]+_0x2aa971(0x74d)+_0x25014a['id']+_0x2aa971(0x330)+_0x25014a[_0x2aa971(0xc33)][_0x2aa971(0x2b5)]+_0x2aa971(0x7e5)+_0x25014a['id']+_0x2aa971(0x69b)+_0x25014a['id']+_0x2aa971(0x345)+_0x25014a['id']+_0x2aa971(0x8e8)+_0x25014a['id']+_0x2aa971(0x80a)+_0x25014a['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x25014a['id']+_0x2aa971(0x977)+_0x4e007e+_0x2aa971(0x3d9)+_0x25014a['id']+_0x2aa971(0xcfc))[_0x2aa971(0x5c4)]('');}document[_0x2aa971(0x2f7)]('add-from-global-bank-btn')[_0x2aa971(0x717)]=()=>{openQuizSelectorForBlueprint(_0x4e007e);},document[_0x2aa971(0x2f7)](_0x2aa971(0x6bc))['onclick']=()=>_0x326012[_0x2aa971(0x2ff)][_0x2aa971(0x30d)](_0x2aa971(0xad0)),_0x326012[_0x2aa971(0x2ff)][_0x2aa971(0x2cf)](_0x2aa971(0xad0));}catch(_0x3c91e1){showMessage(_0x3c91e1[_0x2aa971(0x5e6)]);}}async function openQuizSelectorForBlueprint(_0x18dad8){const _0x4bf135=_0x121993,_0x4e080b=document['getElementById'](_0x4bf135(0x6a8)),_0x2e3143=document[_0x4bf135(0x2f7)](_0x4bf135(0x853));_0x2e3143[_0x4bf135(0x2ff)][_0x4bf135(0x30d)]('hidden'),document[_0x4bf135(0x2f7)]('confirm-link-quiz-btn')?.[_0x4bf135(0x2cf)]();const _0x2680f2=document[_0x4bf135(0x78e)](_0x4bf135(0x64b));_0x2680f2['id']='confirm-link-quiz-btn',_0x2680f2[_0x4bf135(0x226)]=_0x4bf135(0x326),_0x2680f2[_0x4bf135(0xa28)]='เพิ่มรายการที่เลือก',_0x2680f2[_0x4bf135(0x687)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x4e080b[_0x4bf135(0x2ff)][_0x4bf135(0x2cf)]('hidden'),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x4bf135(0x575))[_0x4bf135(0x259)][_0x4bf135(0x8aa)]=_0x4bf135(0x346),_0x4e080b[_0x4bf135(0x839)](_0x4bf135(0x402))[_0x4bf135(0xd74)](_0x2680f2);const _0x503fb8=(_0x4685d9=![])=>{const _0x55b6c0=_0x4bf135;_0x4e080b['classList']['add'](_0x55b6c0(0xad0)),document[_0x55b6c0(0x2f7)](_0x55b6c0(0x575))[_0x55b6c0(0x259)][_0x55b6c0(0x8aa)]=_0x55b6c0(0x7e0),_0x2680f2[_0x55b6c0(0x2cf)](),_0x4685d9&&openTopicQuizBank(_0x18dad8);};_0x2680f2[_0x4bf135(0x717)]=async()=>{const _0xb9674a=_0x4bf135,_0x40f58d=Array['from'](document['querySelectorAll'](_0xb9674a(0x2ce)))['map'](_0x58499e=>_0x58499e[_0xb9674a(0x5b6)]);if(_0x40f58d['length']===0x0)return;try{const _0x2448f6=doc(db,_0xb9674a(0x1da)+appId+_0xb9674a(0xb14),currentBlueprintProjectId),_0x15a896=(await getDoc(_0x2448f6))[_0xb9674a(0x72a)](),_0x542ca3=_0x15a896['topics'][_0x18dad8][_0xb9674a(0x318)]||[],_0x1c4865=[...new Set([..._0x542ca3,..._0x40f58d])];await updateDoc(_0x2448f6,{[_0xb9674a(0x513)+_0x18dad8+_0xb9674a(0xc62)]:_0x1c4865}),showMessage('เพิ่ม\x20'+_0x40f58d[_0xb9674a(0x2b5)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x503fb8(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x29f03e){console['error'](_0xb9674a(0xc18),_0x29f03e);}},document[_0x4bf135(0x2f7)](_0x4bf135(0x9bd))[_0x4bf135(0x717)]=()=>_0x503fb8(!![]);}catch(_0x377864){showMessage(_0x377864[_0x4bf135(0x5e6)]),_0x2e3143['classList']['remove'](_0x4bf135(0xad0));}}function handleClearLinkedQuiz(_0x55a4f0){const _0x2556db=_0x121993;showConfirmation(_0x2556db(0xa0b),async()=>{const _0x4b23fd=_0x2556db;try{const _0x280541=doc(db,_0x4b23fd(0x1da)+appId+_0x4b23fd(0xb14),currentBlueprintProjectId);await updateDoc(_0x280541,{[_0x4b23fd(0x513)+_0x55a4f0+'.linkedQuizId']:deleteField()}),showMessage(_0x4b23fd(0xae7)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x238386){console[_0x4b23fd(0x274)](_0x4b23fd(0x641),_0x238386),showMessage(_0x4b23fd(0xdf1));}});}async function addTopicToProject(){const _0x4280d9=_0x121993,_0x3adb2d=prompt(_0x4280d9(0x9e2));if(!_0x3adb2d||_0x3adb2d[_0x4280d9(0xe11)]()==='')return;const _0x49adf7=prompt(_0x4280d9(0x71e),_0x4280d9(0x1db)),_0x4c16e9=prompt(_0x4280d9(0xcc0),'หัวข้อหลักใหม่'),_0xfd61d6=_0x4280d9(0x308)+Date['now']()+Math['random']()[_0x4280d9(0x24c)](0x24)[_0x4280d9(0x716)](0x2,0x9),_0x5ed91c={'sara':_0x49adf7,'mainTopic':_0x4c16e9,'subTopic':_0x3adb2d[_0x4280d9(0xe11)](),'status':_0x4280d9(0x6f1),'lessonContent':null};try{const _0x34bda2=doc(db,_0x4280d9(0x1da)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x34bda2,{['topics.'+_0xfd61d6]:_0x5ed91c}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4ddacb){console['error'](_0x4280d9(0xb13),_0x4ddacb),showMessage(_0x4280d9(0xc5a));}}async function editTopicInProject(_0xadf976){const _0xbac33f=_0x121993,_0xc83547=document['querySelector'](_0xbac33f(0x560)+_0xadf976+'\x22]'),_0x3fb0c6=_0xc83547[_0xbac33f(0x839)](_0xbac33f(0x6bb)),_0x3fa976=_0x3fb0c6['textContent'],_0x549f8a=prompt(_0xbac33f(0x636),_0x3fa976);if(!_0x549f8a||_0x549f8a['trim']()===''||_0x549f8a[_0xbac33f(0xe11)]()===_0x3fa976)return;try{const _0x222db9=doc(db,_0xbac33f(0x1da)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x222db9,{['topics.'+_0xadf976+_0xbac33f(0x3a0)]:_0x549f8a[_0xbac33f(0xe11)]()}),_0x3fb0c6[_0xbac33f(0xa28)]=_0x549f8a[_0xbac33f(0xe11)](),showMessage(_0xbac33f(0xad8));}catch(_0x194ef0){console[_0xbac33f(0x274)](_0xbac33f(0x1c2),_0x194ef0),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x585f34){const _0x1f89c4=_0x121993;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0xc25d5e=doc(db,'artifacts/'+appId+_0x1f89c4(0xb14),currentBlueprintProjectId);await updateDoc(_0xc25d5e,{[_0x1f89c4(0x513)+_0x585f34]:deleteField()}),document['querySelector'](_0x1f89c4(0x560)+_0x585f34+'\x22]')[_0x1f89c4(0x2cf)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x593ec2){console[_0x1f89c4(0x274)](_0x1f89c4(0xb6c),_0x593ec2),showMessage(_0x1f89c4(0x6fc));}}async function generateAndSaveLessonForBlueprint(_0x32d466,_0x5a1bcb,_0x4a5bad){handleGenerateAndShowLesson(_0x5a1bcb,_0x4a5bad);const _0x387cd7=setInterval(async()=>{const _0x380a45=_0x32db,_0x3ae842=document[_0x380a45(0x2f7)]('lesson-view-modal'),_0x2ec142=_0x3ae842['classList'][_0x380a45(0x416)]('hidden');if(_0x2ec142){clearInterval(_0x387cd7);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x11a0f7={'point':document[_0x380a45(0x2f7)]('pointContent')[_0x380a45(0x8c4)],'memory':document['getElementById'](_0x380a45(0x57c))[_0x380a45(0x8c4)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x380a45(0x2f7)](_0x380a45(0xab4))[_0x380a45(0x8c4)]};try{const _0x2e4add=doc(db,_0x380a45(0x1da)+appId+_0x380a45(0xb14),currentBlueprintProjectId),_0x48364c=doc(db,_0x380a45(0x1da)+appId+_0x380a45(0x915)+currentBlueprintProjectId+_0x380a45(0xb9f),_0x32d466),_0x3cf046=writeBatch(db);_0x3cf046[_0x380a45(0x4bc)](_0x48364c,{'content':_0x11a0f7}),_0x3cf046[_0x380a45(0xa1f)](_0x2e4add,{[_0x380a45(0x513)+_0x32d466+_0x380a45(0x270)]:_0x380a45(0x60d)}),await _0x3cf046['commit'](),console[_0x380a45(0x92e)](_0x380a45(0xbad)+_0x32d466+_0x380a45(0xd61)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x592ccc){console[_0x380a45(0x274)](_0x380a45(0xd86),_0x592ccc);}}}},0x3e8);}function displayHalfMarkResult(_0x312d54,_0x289e79){const _0xad5918=_0x121993,_0x1e932d=_0x312d54>=_0x289e79/0x2,_0x5d55a6=_0x1e932d?_0xad5918(0xdd9):_0xad5918(0x7c4),_0x86121=_0x1e932d?_0xad5918(0x988):_0xad5918(0xb92),_0x31c449=_0x1e932d?_0xad5918(0x1c6):'text-red-800',_0x2829f0=_0x1e932d?_0xad5918(0x587):_0xad5918(0x568),_0x17f0cc=_0x1e932d?_0xad5918(0xda7):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x42d52e=_0xad5918(0x69a)+_0x5d55a6+_0xad5918(0x94a)+_0x86121+_0xad5918(0x440)+_0x31c449+'\x20mb-2\x22>'+_0x2829f0+_0xad5918(0x7af)+_0x17f0cc+_0xad5918(0x99d);studentResultArea['innerHTML']=_0x42d52e,studentResultArea[_0xad5918(0x2ff)]['remove']('hidden'),studentQuizArea[_0xad5918(0x2ff)][_0xad5918(0x30d)](_0xad5918(0xad0)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1e932d});}function displayPerfectScoreResult(_0x4723d0,_0x1a2084){const _0xd98cb3=_0x121993,_0x1187fd=_0x4723d0===_0x1a2084,_0x589b8b=_0x1187fd?_0xd98cb3(0x812):'bg-blue-100',_0x20624b=_0x1187fd?_0xd98cb3(0x89f):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x183b26=_0x1187fd?_0xd98cb3(0xa8b):_0xd98cb3(0xd98),_0x2f3d84=_0x1187fd?_0xd98cb3(0x4a0):_0xd98cb3(0x86f),_0x5165f6=_0x1187fd?_0xd98cb3(0x7e4):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x2459d2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x589b8b+_0xd98cb3(0x94a)+_0x20624b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x183b26+_0xd98cb3(0x291)+_0x2f3d84+_0xd98cb3(0x7af)+_0x5165f6+_0xd98cb3(0x99d);studentResultArea['innerHTML']=_0x2459d2,studentResultArea[_0xd98cb3(0x2ff)]['remove']('hidden'),studentQuizArea[_0xd98cb3(0x2ff)][_0xd98cb3(0x30d)](_0xd98cb3(0xad0)),setupResultScreenBackButton({'showRankings':![],'score':_0x4723d0,'totalQuestions':_0x1a2084});}function renderIndividualComparisonTable(_0x2e299a,_0x5568b7){const _0x4c3f0b=_0x121993;_0x2e299a['sort']((_0x52047e,_0x5d0cf4)=>(_0x5d0cf4['tGain']??-Infinity)-(_0x52047e[_0x4c3f0b(0xdef)]??-Infinity));let _0x350a56=_0x4c3f0b(0x6e3);_0x2e299a[_0x4c3f0b(0x2b5)]===0x0?_0x350a56+=_0x4c3f0b(0x776):_0x2e299a[_0x4c3f0b(0x616)]((_0x5ae8fd,_0x4b0b13)=>{const _0x2b3524=_0x4c3f0b;let _0x190730='-',_0x38e43c='';if(_0x5ae8fd[_0x2b3524(0x576)]!==null){const _0x2bfe8b=_0x5ae8fd[_0x2b3524(0x576)]>0x0?'text-green-600':_0x5ae8fd[_0x2b3524(0x576)]<0x0?_0x2b3524(0x3ae):_0x2b3524(0xad5),_0x9c3c17=_0x5ae8fd[_0x2b3524(0x576)]>0x0?'+':'';_0x190730=_0x2b3524(0xcb3)+_0x2bfe8b+'\x22>'+_0x9c3c17+_0x5ae8fd[_0x2b3524(0x576)]+_0x2b3524(0xc24);if(_0x5ae8fd[_0x2b3524(0x576)]>0x0)_0x38e43c=_0x2b3524(0x9a0);else _0x5ae8fd[_0x2b3524(0x576)]<0x0?_0x38e43c=_0x2b3524(0x4b0):_0x38e43c=_0x2b3524(0x4e1);}let _0x4113f8='-';if(_0x5ae8fd[_0x2b3524(0xdef)]!==null){const _0x5df6d3=_0x5ae8fd[_0x2b3524(0xdef)]>0x0?'text-green-600':_0x5ae8fd[_0x2b3524(0xdef)]<0x0?'text-red-600':'text-gray-500',_0x2f7323=_0x5ae8fd[_0x2b3524(0xdef)]>0x0?'+':'';_0x4113f8=_0x2b3524(0xcb3)+_0x5df6d3+'\x22>'+_0x2f7323+_0x5ae8fd['tGain'][_0x2b3524(0x343)](0x2)+'</span>';}_0x350a56+=_0x2b3524(0xb59)+(_0x4b0b13+0x1)+_0x2b3524(0x7ce)+_0x5ae8fd[_0x2b3524(0xa7e)]+_0x2b3524(0x910)+(_0x5ae8fd[_0x2b3524(0x312)]??'-')+_0x2b3524(0xa7c)+(_0x5ae8fd['postScore']??'-')+_0x2b3524(0x910)+_0x190730+_0x2b3524(0x93d)+_0x38e43c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x5ae8fd['preTScore']?.[_0x2b3524(0x343)](0x2)??'-')+_0x2b3524(0x369)+(_0x5ae8fd[_0x2b3524(0x263)]?.[_0x2b3524(0x343)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x4113f8+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x350a56+=_0x4c3f0b(0x49c),_0x5568b7[_0x4c3f0b(0x8c4)]=_0x350a56;}function handleRenameQuiz(_0x2c41d3,_0x30f25c){const _0x457055=_0x121993;actionTargetId=_0x2c41d3,document['getElementById']('rename-quiz-input')['value']=_0x30f25c,renameQuizModal[_0x457055(0x2ff)][_0x457055(0x2cf)]('hidden');}function setupComparisonModalTabs(){const _0x2dd5ef=_0x121993,_0x1a3ca4=document[_0x2dd5ef(0x2f7)](_0x2dd5ef(0xdeb)),_0x203295=document[_0x2dd5ef(0x2f7)](_0x2dd5ef(0x8d5)),_0x4c798f=document[_0x2dd5ef(0x2f7)]('comparison-overall-content'),_0x5baec8=document[_0x2dd5ef(0x2f7)](_0x2dd5ef(0xb85));_0x1a3ca4[_0x2dd5ef(0xdd3)](_0x2dd5ef(0x754),()=>{const _0xb044a6=_0x2dd5ef;_0x1a3ca4['classList'][_0xb044a6(0x30d)](_0xb044a6(0x72f)),_0x203295['classList'][_0xb044a6(0x2cf)]('active'),_0x4c798f[_0xb044a6(0x2ff)]['remove'](_0xb044a6(0xad0)),_0x5baec8['classList'][_0xb044a6(0x30d)]('hidden');}),_0x203295[_0x2dd5ef(0xdd3)](_0x2dd5ef(0x754),()=>{const _0x5a915a=_0x2dd5ef;_0x203295['classList'][_0x5a915a(0x30d)](_0x5a915a(0x72f)),_0x1a3ca4[_0x5a915a(0x2ff)][_0x5a915a(0x2cf)](_0x5a915a(0x72f)),_0x5baec8[_0x5a915a(0x2ff)]['remove'](_0x5a915a(0xad0)),_0x4c798f[_0x5a915a(0x2ff)][_0x5a915a(0x30d)](_0x5a915a(0xad0));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x194948=_0x121993;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5c536c=doc(db,'artifacts/'+appId+_0x194948(0x928),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5c536c,_0x905584=>{const _0x5088fe=_0x194948;if(!_0x905584[_0x5088fe(0x75c)]()){showMessage(_0x5088fe(0xb78));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5088fe(0x8fa)?showView(_0x5088fe(0x6d3)):showView('student');return;}const _0x4e741d=_0x905584[_0x5088fe(0x72a)]();_0x4e741d[_0x5088fe(0x926)]&&(currentQuizData=_0x4e741d[_0x5088fe(0x926)]);!currentQuizData&&_0x4e741d[_0x5088fe(0xb99)]&&((async()=>{const _0x35e58b=_0x5088fe;try{const _0x2a3ccc=doc(db,_0x35e58b(0x1da)+appId+_0x35e58b(0x653),_0x4e741d[_0x35e58b(0xb99)]),_0x488471=await getDoc(_0x2a3ccc);_0x488471['exists']()&&(currentQuizData={'id':_0x488471['id'],..._0x488471[_0x35e58b(0x72a)]()});}catch(_0x40fe8e){console[_0x35e58b(0x274)](_0x35e58b(0x439),_0x40fe8e);}})());switch(_0x4e741d[_0x5088fe(0x2d4)]){case'lobby':if(currentMode===_0x5088fe(0x8fa)){const _0x10afbc=_0x4e741d[_0x5088fe(0x32a)]?Object[_0x5088fe(0x211)](_0x4e741d[_0x5088fe(0x32a)]):[],_0xfa551c=_0x10afbc[_0x5088fe(0x9a7)](([_0x153aef,_0x39222d])=>_0x39222d[_0x5088fe(0x2d4)]===_0x5088fe(0x72f)),_0x35c9aa=document['getElementById']('player-count');if(_0x35c9aa)_0x35c9aa[_0x5088fe(0xa28)]=_0xfa551c[_0x5088fe(0x2b5)];const _0x13deff=document[_0x5088fe(0x2f7)](_0x5088fe(0x6ef));_0x13deff&&(_0x13deff[_0x5088fe(0x8c4)]=_0xfa551c[_0x5088fe(0xce7)](([_0x2d3933,_0x3b0607])=>_0x5088fe(0x8d4)+_0x2d3933+_0x5088fe(0xbfb)+_0x2d3933+_0x5088fe(0x6db))[_0x5088fe(0x5c4)](''));const _0x5d9cb9=document[_0x5088fe(0x2f7)](_0x5088fe(0xb52));_0x5d9cb9&&(_0x5d9cb9['disabled']=_0xfa551c[_0x5088fe(0x2b5)]===0x0);}else showView('live-game'),liveGameView[_0x5088fe(0x8c4)]=_0x5088fe(0x997)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x5088fe(0xa75):const _0x50abbd=_0x4e741d[_0x5088fe(0x21d)];if(currentQuizData&&currentQuizData[_0x5088fe(0xc33)][_0x50abbd]){const _0x4c5d04=currentQuizData[_0x5088fe(0xc33)][_0x50abbd],_0x278782=_0x4e741d[_0x5088fe(0xa5f)]||_0x5088fe(0xd4c);switch(_0x278782){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0x4e741d,_0x4c5d04):showPlayerSummaryView(_0x4e741d,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x4e741d);break;case _0x5088fe(0xd4c):default:if(currentMode===_0x5088fe(0x8fa)){const _0x2269e9=writeBatch(db);let _0x5c511d=![];Object[_0x5088fe(0x211)](_0x4e741d[_0x5088fe(0x32a)])[_0x5088fe(0x616)](([_0x2e416a,_0x433a7f])=>{const _0x1cae01=_0x5088fe;if(_0x433a7f[_0x1cae01(0x2d4)]===_0x1cae01(0x72f)&&_0x433a7f['submittedAt']&&!_0x433a7f[_0x1cae01(0xe0c)]){_0x5c511d=!![];const _0x85db91=_0x433a7f['submittedAt'][_0x1cae01(0xb84)]()-_0x4e741d[_0x1cae01(0x705)][_0x1cae01(0xb84)]();let _0x55524c=0x0;if(_0x433a7f[_0x1cae01(0x414)]){const _0x2714d6=0x3e8,_0x5ec642=0x1f4,_0x297f35=0x4e20;let _0x2474ac=_0x85db91/_0x297f35;if(_0x2474ac>0x1)_0x2474ac=0x1;const _0x165c5a=Math[_0x1cae01(0x91d)](_0x2474ac*_0x5ec642);_0x55524c=_0x2714d6-_0x165c5a;}const _0x46ebfa=doc(db,_0x1cae01(0x1da)+appId+_0x1cae01(0x928),currentLiveGameId);_0x2269e9['update'](_0x46ebfa,{['players.'+_0x2e416a+_0x1cae01(0xc82)]:increment(_0x55524c),[_0x1cae01(0x3d1)+_0x2e416a+_0x1cae01(0xb1b)]:_0x55524c,[_0x1cae01(0x3d1)+_0x2e416a+'.isScored']:!![]});}});_0x5c511d&&_0x2269e9[_0x5088fe(0x794)]()[_0x5088fe(0x57f)](_0x2985cd=>console['error'](_0x5088fe(0xa14),_0x2985cd));lastRenderedAdminQuestionIndex!==_0x50abbd&&(showAdminLiveQuestionView(_0x4c5d04,_0x50abbd,currentQuizData[_0x5088fe(0xc33)][_0x5088fe(0x2b5)]),lastRenderedAdminQuestionIndex=_0x50abbd);const _0x1abf0d=_0x4e741d[_0x5088fe(0x32a)]||{},_0x21ff42=Object['values'](_0x1abf0d)['filter'](_0x3868d1=>_0x3868d1[_0x5088fe(0x2d4)]==='active'),_0x3eb90f=_0x21ff42[_0x5088fe(0x2b5)],_0x59e66c=_0x21ff42['filter'](_0x48ea29=>_0x48ea29[_0x5088fe(0x780)]===!![])[_0x5088fe(0x2b5)],_0x4a3098=document[_0x5088fe(0x2f7)](_0x5088fe(0x8c9));if(_0x4a3098)_0x4a3098[_0x5088fe(0xa28)]=_0x59e66c+'/'+_0x3eb90f;const _0x23f77a=document[_0x5088fe(0x2f7)](_0x5088fe(0x5ed));if(_0x23f77a){let _0x13a65e=Object[_0x5088fe(0x211)](_0x1abf0d)[_0x5088fe(0x9a7)](([_0x2d8259,_0x22c261])=>_0x22c261[_0x5088fe(0x2d4)]===_0x5088fe(0x72f))[_0x5088fe(0xce7)](([_0x563e2e,_0x342a70])=>{const _0x54ac6a=_0x5088fe,_0x49197d=_0x342a70[_0x54ac6a(0x780)]===!![],_0x3ead75=_0x49197d?_0x54ac6a(0x38c):'bg-gray-500',_0x4c1874=_0x49197d?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x54ac6a(0x311);return _0x54ac6a(0xd33)+_0x3ead75+_0x54ac6a(0x6e8)+_0x4c1874+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x563e2e+_0x54ac6a(0xab7)+_0x563e2e+_0x54ac6a(0x918);})['join']('');_0x23f77a['innerHTML']=_0x13a65e||_0x5088fe(0x9a3);}_0x3eb90f>0x0&&_0x59e66c===_0x3eb90f&&revealAnswerForAdmin(_0x50abbd,currentQuizData[_0x5088fe(0xc33)]['length']);}else{const _0x32256a=_0x4e741d['players'][currentStudentName];_0x32256a&&!_0x32256a[_0x5088fe(0x780)]&&showStudentLiveQuestionView(_0x4c5d04,_0x50abbd,currentQuizData[_0x5088fe(0xc33)][_0x5088fe(0x2b5)]);}break;}}break;case _0x5088fe(0xb3b):showPodiumView(_0x4e741d[_0x5088fe(0x32a)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x581aff=_0x121993;if(allQuizzesGlobal[_0x581aff(0x2b5)]===0x0){const _0x307a95=await getDocs(collection(db,_0x581aff(0x1da)+appId+_0x581aff(0x653)));allQuizzesGlobal=_0x307a95[_0x581aff(0x3c3)][_0x581aff(0xce7)](_0x4fa0c3=>({'id':_0x4fa0c3['id'],..._0x4fa0c3[_0x581aff(0x72a)]()}));}renderGlobalActivityList(''),document[_0x581aff(0x2f7)]('global-activity-modal')[_0x581aff(0x2ff)][_0x581aff(0x2cf)](_0x581aff(0xad0));}function renderGlobalActivityList(_0x572720=''){const _0x36a89a=_0x121993,_0x4ac533=document[_0x36a89a(0x2f7)](_0x36a89a(0xd5e)),_0x418c2d=_0x572720['toLowerCase']()[_0x36a89a(0xe11)](),_0x12d473=allQuizzesGlobal[_0x36a89a(0xce7)](_0x4e958c=>({..._0x4e958c,'projectName':allProjects[_0x36a89a(0x266)](_0x282fbe=>_0x282fbe['id']===_0x4e958c['projectId'])?.[_0x36a89a(0x5d3)]||_0x36a89a(0x633)}))[_0x36a89a(0x9a7)](_0x595590=>(_0x595590['topic']||'')[_0x36a89a(0xcfa)]()[_0x36a89a(0xcec)](_0x418c2d)||(_0x595590['projectName']||'')[_0x36a89a(0xcfa)]()[_0x36a89a(0xcec)](_0x418c2d));document[_0x36a89a(0x2f7)]('global-quiz-count')[_0x36a89a(0xa28)]='('+_0x12d473[_0x36a89a(0x2b5)]+_0x36a89a(0x845),_0x4ac533['innerHTML']=_0x12d473[_0x36a89a(0x2b5)]?_0x12d473['map'](_0x33e4fb=>_0x36a89a(0x99f)+(_0x33e4fb['topic']||_0x36a89a(0xaa7))+_0x36a89a(0x3d5)+(_0x33e4fb[_0x36a89a(0xc33)]?.[_0x36a89a(0x2b5)]||0x0)+_0x36a89a(0x7d0)+_0x33e4fb[_0x36a89a(0x5d3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x33e4fb['id']+_0x36a89a(0xb19)+_0x33e4fb['id']+_0x36a89a(0x9d3)+_0x33e4fb['id']+_0x36a89a(0x1f4)+_0x33e4fb['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x36a89a(0x5c4)](''):_0x36a89a(0xa3f);}async function handleKickPlayer(_0x40ced6){const _0x1804fa=_0x121993;if(!currentLiveGameId||!_0x40ced6)return;const _0x7664c6=doc(db,'artifacts/'+appId+_0x1804fa(0x928),currentLiveGameId),_0x566cfc={};_0x566cfc[_0x1804fa(0x3d1)+_0x40ced6+_0x1804fa(0x270)]=_0x1804fa(0x251);try{await updateDoc(_0x7664c6,_0x566cfc);}catch(_0x1728e8){console['error'](_0x1804fa(0xaf7)+_0x40ced6+':',_0x1728e8),showMessage(_0x1804fa(0x9db));}}async function authenticateUser(){const _0x3ed94b=_0x121993;try{typeof __initial_auth_token!==_0x3ed94b(0xde1)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x15bb24){console[_0x3ed94b(0x274)]('Authentication\x20failed:',_0x15bb24),showMessage(_0x3ed94b(0x613));}}function showView(_0x27d282){const _0x203738=_0x121993;adminView[_0x203738(0x2ff)][_0x203738(0x30d)](_0x203738(0xad0)),studentView[_0x203738(0x2ff)][_0x203738(0x30d)]('hidden'),projectDashboardView[_0x203738(0x2ff)][_0x203738(0x30d)]('hidden'),projectDetailView[_0x203738(0x2ff)][_0x203738(0x30d)]('hidden'),quizResultsView['classList']['add'](_0x203738(0xad0)),liveGameView[_0x203738(0x2ff)][_0x203738(0x30d)](_0x203738(0xad0)),document[_0x203738(0x2f7)]('blueprint-project-manager-view')['classList']['add'](_0x203738(0xad0)),studentInitialView[_0x203738(0x2ff)]['add'](_0x203738(0xad0)),studentJoinGameView[_0x203738(0x2ff)][_0x203738(0x30d)](_0x203738(0xad0)),studentNameSelectionView[_0x203738(0x2ff)][_0x203738(0x30d)](_0x203738(0xad0)),studentQuizArea[_0x203738(0x2ff)][_0x203738(0x30d)](_0x203738(0xad0)),studentResultArea[_0x203738(0x2ff)][_0x203738(0x30d)](_0x203738(0xad0)),studentReadingArea[_0x203738(0x2ff)][_0x203738(0x30d)](_0x203738(0xad0));const _0x58958d=document['getElementById']('student-team-selection-view'),_0x129b2f=document[_0x203738(0x2f7)](_0x203738(0x557));if(_0x58958d)_0x58958d['classList']['add']('hidden');if(_0x129b2f)_0x129b2f[_0x203738(0x2ff)]['add']('hidden');switch(_0x27d282){case _0x203738(0xaf5):adminView[_0x203738(0x2ff)]['remove'](_0x203738(0xad0)),projectDashboardView['classList'][_0x203738(0x2cf)](_0x203738(0xad0));break;case _0x203738(0x6d3):adminView[_0x203738(0x2ff)]['remove']('hidden'),projectDetailView[_0x203738(0x2ff)][_0x203738(0x2cf)](_0x203738(0xad0));break;case _0x203738(0x775):adminView['classList'][_0x203738(0x2cf)]('hidden'),quizResultsView[_0x203738(0x2ff)][_0x203738(0x2cf)](_0x203738(0xad0));break;case _0x203738(0xc2d):studentView[_0x203738(0x2ff)][_0x203738(0x2cf)]('hidden'),studentInitialView['classList']['remove'](_0x203738(0xad0));break;case _0x203738(0x40f):liveGameView[_0x203738(0x2ff)][_0x203738(0x2cf)](_0x203738(0xad0));break;case _0x203738(0x5ba):studentView[_0x203738(0x2ff)][_0x203738(0x2cf)](_0x203738(0xad0));if(_0x58958d)_0x58958d[_0x203738(0x2ff)][_0x203738(0x2cf)]('hidden');break;case'student-progress':studentView[_0x203738(0x2ff)][_0x203738(0x2cf)](_0x203738(0xad0));if(_0x129b2f)_0x129b2f[_0x203738(0x2ff)][_0x203738(0x2cf)](_0x203738(0xad0));break;default:studentView[_0x203738(0x2ff)][_0x203738(0x2cf)](_0x203738(0xad0)),studentInitialView[_0x203738(0x2ff)]['remove'](_0x203738(0xad0));break;}}function showJoinGameView(){const _0x53cdb3=_0x121993;studentInitialView[_0x53cdb3(0x2ff)]['add'](_0x53cdb3(0xad0)),studentJoinGameView[_0x53cdb3(0x2ff)][_0x53cdb3(0x2cf)](_0x53cdb3(0xad0));}async function handleSaveVisibilitySettings(){const _0x60ee50=_0x121993;if(!currentProjectId)return;const _0x2ee6f5=doc(db,_0x60ee50(0x1da)+appId+_0x60ee50(0x9f0),currentProjectId);try{await updateDoc(_0x2ee6f5,{'settings.showInStudentDashboard':document[_0x60ee50(0x2f7)](_0x60ee50(0x73c))[_0x60ee50(0x28f)],'settings.isPasscodeEnabled':document['getElementById']('enable-passcode-checkbox')[_0x60ee50(0x28f)],'settings.passcode':document[_0x60ee50(0x2f7)]('project-passcode-input')['value'][_0x60ee50(0xe11)]()}),showMessage(_0x60ee50(0xbbf));}catch(_0xd4969b){console['error'](_0x60ee50(0x5c8),_0xd4969b),showMessage(_0x60ee50(0xb80));}}function setupEventListeners(){const _0x6f1056=_0x121993;document[_0x6f1056(0x2f7)](_0x6f1056(0x8fc))[_0x6f1056(0xdd3)](_0x6f1056(0x9af),_0x170ad4=>{const _0x5cfb0f=_0x6f1056;document[_0x5cfb0f(0x2f7)](_0x5cfb0f(0x4f9))[_0x5cfb0f(0x2ff)]['toggle']('hidden',!_0x170ad4['target'][_0x5cfb0f(0x28f)]);});const _0x46ffc2=document[_0x6f1056(0x2f7)]('cancel-confidence-btn'),_0x30e154=document[_0x6f1056(0x2f7)]('confidence-modal');_0x46ffc2&&_0x30e154&&_0x46ffc2[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x18d324=_0x6f1056;_0x30e154[_0x18d324(0x2ff)][_0x18d324(0x30d)](_0x18d324(0xad0)),_0x30e154[_0x18d324(0x683)][_0x18d324(0x6f5)]='';});const _0x1c2896=document[_0x6f1056(0x2f7)]('dim-overlay');_0x1c2896&&(_0x1c2896[_0x6f1056(0xdd3)](_0x6f1056(0x24e),wakeUpScreen),_0x1c2896[_0x6f1056(0xdd3)](_0x6f1056(0xa47),wakeUpScreen));document[_0x6f1056(0x2f7)](_0x6f1056(0x554))[_0x6f1056(0xdd3)]('click',async()=>{const _0x345c9d=_0x6f1056;if(!currentBlueprintProjectId)return;const _0x1ba15e=document[_0x345c9d(0x2f7)](_0x345c9d(0x68e))[_0x345c9d(0x5b6)]['trim'](),_0x487dd7=doc(db,_0x345c9d(0x1da)+appId+_0x345c9d(0xb14),currentBlueprintProjectId);try{await updateDoc(_0x487dd7,{'referenceFileUrl':_0x1ba15e}),showMessage(_0x345c9d(0x445));}catch(_0x5a66b8){console[_0x345c9d(0x274)](_0x345c9d(0x287),_0x5a66b8),showMessage(_0x345c9d(0xb80));}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x1e0))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleAddParallelShortcutTab),document[_0x6f1056(0x2f7)](_0x6f1056(0x8c6))[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x48a068=>{const _0x5b2374=_0x6f1056;_0x48a068[_0x5b2374(0x898)][_0x5b2374(0xb5f)](_0x5b2374(0x29e))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x5b2374(0x2f7)](_0x5b2374(0x49a))['classList'][_0x5b2374(0x2cf)]('hidden'));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x643))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x52e602=_0x6f1056;document[_0x52e602(0x2f7)]('additional-parallel-shortcuts-modal')[_0x52e602(0x2ff)][_0x52e602(0x30d)]('hidden');}),document[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x4c90d6=>{const _0x1e49d4=_0x6f1056;!_0x4c90d6['target']['closest']('.group\x5c/dropdown-parallel')&&document['querySelectorAll'](_0x1e49d4(0x621))[_0x1e49d4(0x616)](_0x1de991=>_0x1de991[_0x1e49d4(0x2ff)][_0x1e49d4(0x30d)](_0x1e49d4(0xad0)));}),document[_0x6f1056(0x2f7)]('add-file-shortcut-tab-btn')['addEventListener'](_0x6f1056(0x754),handleAddFileShortcutTab),document[_0x6f1056(0x2f7)]('file-input-area')['addEventListener'](_0x6f1056(0x754),_0x66bbce=>{const _0x705e99=_0x6f1056;_0x66bbce['target'][_0x705e99(0xb5f)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x705e99(0x943),renderAdditionalFileShortcutsModal(),document[_0x705e99(0x2f7)]('additional-file-shortcuts-modal')[_0x705e99(0x2ff)][_0x705e99(0x2cf)]('hidden'));}),document['getElementById'](_0x6f1056(0x958))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x57d552=_0x6f1056;document[_0x57d552(0x2f7)](_0x57d552(0xccc))[_0x57d552(0x2ff)][_0x57d552(0x30d)](_0x57d552(0xad0));}),document[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x3b5e00=>{const _0x3a6910=_0x6f1056;!_0x3b5e00[_0x3a6910(0x898)]['closest'](_0x3a6910(0x660))&&document[_0x3a6910(0x4cb)]('.move-file-shortcut-dropdown')[_0x3a6910(0x616)](_0x123287=>_0x123287['classList'][_0x3a6910(0x30d)](_0x3a6910(0xad0)));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x334))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleAddShortcutTab),document[_0x6f1056(0x2f7)](_0x6f1056(0xc76))[_0x6f1056(0xdd3)]('click',_0x2c125a=>{const _0x26ae69=_0x6f1056,_0x4e5efb=_0x2c125a['target'][_0x26ae69(0xb5f)](_0x26ae69(0xca2)),_0x327fd5=_0x2c125a[_0x26ae69(0x898)][_0x26ae69(0xb5f)]('.edit-parallel-shortcut-btn'),_0x52d544=_0x2c125a[_0x26ae69(0x898)][_0x26ae69(0xb5f)](_0x26ae69(0x323));if(_0x327fd5)openParallelTestShortcutEditor(_0x327fd5[_0x26ae69(0x683)]['id']);else{if(_0x52d544){const _0x3a61fc=_0x52d544[_0x26ae69(0x683)]['id'];showConfirmation(_0x26ae69(0x78f),async()=>{const _0x32943=_0x26ae69,_0x4a676e=parallelTestShortcuts[_0x32943(0x9a7)](_0x170633=>_0x170633['id']!==_0x3a61fc),_0x1c56fb=doc(db,_0x32943(0xb89),_0x32943(0x7fb));await setDoc(_0x1c56fb,{'shortcuts':_0x4a676e},{'merge':!![]});});}else _0x4e5efb&&handleParallelTestShortcutClick(_0x4e5efb['dataset']['id']);}}),document['getElementById'](_0x6f1056(0x44e))['addEventListener'](_0x6f1056(0x754),()=>openParallelTestShortcutEditor(null)),document[_0x6f1056(0x2f7)](_0x6f1056(0x70a))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x19a84e=_0x6f1056;document[_0x19a84e(0x2f7)](_0x19a84e(0xdc5))[_0x19a84e(0x2ff)]['add'](_0x19a84e(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x631))[_0x6f1056(0xdd3)](_0x6f1056(0x754),saveParallelTestShortcutChanges),document[_0x6f1056(0x2f7)](_0x6f1056(0x8c6))[_0x6f1056(0xdd3)]('click',_0x58638d=>{const _0x2029fc=_0x6f1056;_0x58638d[_0x2029fc(0x898)]['closest'](_0x2029fc(0x29e))&&document[_0x2029fc(0x2f7)]('additional-parallel-shortcuts-modal')['classList'][_0x2029fc(0x2cf)](_0x2029fc(0xad0));}),document['getElementById']('close-additional-parallel-shortcuts-btn')[_0x6f1056(0xdd3)]('click',()=>{const _0x7cefd3=_0x6f1056;document[_0x7cefd3(0x2f7)](_0x7cefd3(0x49a))[_0x7cefd3(0x2ff)][_0x7cefd3(0x30d)](_0x7cefd3(0xad0));}),document[_0x6f1056(0x2f7)]('additional-parallel-shortcuts-list')[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x1d9292=>{const _0x380161=_0x6f1056,_0x173b8b=document['getElementById'](_0x380161(0x49a)),_0x401d4e=_0x1d9292[_0x380161(0x898)][_0x380161(0xb5f)]('.use-hidden-parallel-shortcut-btn'),_0x3f46c0=_0x1d9292[_0x380161(0x898)]['closest'](_0x380161(0x67c)),_0x4f4b84=_0x1d9292[_0x380161(0x898)][_0x380161(0xb5f)](_0x380161(0x7c6));if(_0x401d4e)_0x173b8b[_0x380161(0x2ff)][_0x380161(0x30d)](_0x380161(0xad0)),handleParallelTestShortcutClick(_0x401d4e[_0x380161(0x683)]['id']);else{if(_0x3f46c0)_0x173b8b[_0x380161(0x2ff)][_0x380161(0x30d)]('hidden'),openParallelTestShortcutEditor(_0x3f46c0[_0x380161(0x683)]['id']);else{if(_0x4f4b84){const _0x342d89=_0x4f4b84[_0x380161(0x683)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x2e8615=_0x380161,_0x331df3=parallelTestShortcuts[_0x2e8615(0x9a7)](_0x1af3cc=>_0x1af3cc['id']!==_0x342d89),_0x3dd186=doc(db,_0x2e8615(0xb89),_0x2e8615(0x7fb));await setDoc(_0x3dd186,{'shortcuts':_0x331df3},{'merge':!![]});});}}}}),document[_0x6f1056(0x2f7)]('file-shortcut-container')[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x1585c0=>{const _0x494b35=_0x6f1056,_0x38c916=_0x1585c0['target'][_0x494b35(0xb5f)](_0x494b35(0x2f0)),_0x3ab45c=_0x1585c0[_0x494b35(0x898)][_0x494b35(0xb5f)](_0x494b35(0x4c1)),_0x246a50=_0x1585c0[_0x494b35(0x898)][_0x494b35(0xb5f)](_0x494b35(0x3a8));if(_0x3ab45c)openFileShortcutEditor(_0x3ab45c[_0x494b35(0x683)]['id']);else{if(_0x246a50){const _0x1cfb0f=_0x246a50[_0x494b35(0x683)]['id'];showConfirmation(_0x494b35(0x78f),async()=>{const _0x5ae27c=_0x494b35,_0x2e1e78=fileShortcuts[_0x5ae27c(0x9a7)](_0x2ff95d=>_0x2ff95d['id']!==_0x1cfb0f),_0x5a31a6=doc(db,_0x5ae27c(0xb89),'fileShortcutsConfig');await setDoc(_0x5a31a6,{'shortcuts':_0x2e1e78},{'merge':!![]});});}else _0x38c916&&handleFileShortcutClick(_0x38c916[_0x494b35(0x683)]['id']);}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x7f7))['addEventListener'](_0x6f1056(0x754),()=>openFileShortcutEditor(null)),document['getElementById'](_0x6f1056(0xcd5))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x450453=_0x6f1056;document[_0x450453(0x2f7)](_0x450453(0xb27))[_0x450453(0x2ff)][_0x450453(0x30d)](_0x450453(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0xd9d))[_0x6f1056(0xdd3)]('click',saveFileShortcutChanges),document['getElementById'](_0x6f1056(0xe1c))[_0x6f1056(0xdd3)]('click',_0x4d208c=>{const _0x4c5766=_0x6f1056;_0x4d208c['target'][_0x4c5766(0xb5f)]('#open-additional-file-shortcuts-btn')&&document[_0x4c5766(0x2f7)](_0x4c5766(0xccc))[_0x4c5766(0x2ff)][_0x4c5766(0x2cf)](_0x4c5766(0xad0));}),document[_0x6f1056(0x2f7)]('close-additional-file-shortcuts-btn')['addEventListener'](_0x6f1056(0x754),()=>{const _0x2ea46a=_0x6f1056;document['getElementById'](_0x2ea46a(0xccc))['classList']['add'](_0x2ea46a(0xad0));}),document['getElementById'](_0x6f1056(0x8d6))[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x3ff432=>{const _0x31fe68=_0x6f1056,_0x40c2d3=document[_0x31fe68(0x2f7)](_0x31fe68(0xccc)),_0x1b98cf=_0x3ff432[_0x31fe68(0x898)][_0x31fe68(0xb5f)]('.use-hidden-file-shortcut-btn'),_0x5b4ddd=_0x3ff432[_0x31fe68(0x898)][_0x31fe68(0xb5f)](_0x31fe68(0x6da)),_0x46ae8e=_0x3ff432[_0x31fe68(0x898)][_0x31fe68(0xb5f)](_0x31fe68(0xdf8));if(_0x1b98cf)_0x40c2d3['classList'][_0x31fe68(0x30d)](_0x31fe68(0xad0)),handleFileShortcutClick(_0x1b98cf[_0x31fe68(0x683)]['id']);else{if(_0x5b4ddd)_0x40c2d3[_0x31fe68(0x2ff)][_0x31fe68(0x30d)](_0x31fe68(0xad0)),openFileShortcutEditor(_0x5b4ddd[_0x31fe68(0x683)]['id']);else{if(_0x46ae8e){const _0x1d36c9=_0x46ae8e[_0x31fe68(0x683)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x27a1ee=_0x31fe68,_0x30807d=fileShortcuts[_0x27a1ee(0x9a7)](_0x3d8d1d=>_0x3d8d1d['id']!==_0x1d36c9),_0x5b8a31=doc(db,_0x27a1ee(0xb89),'fileShortcutsConfig');await setDoc(_0x5b8a31,{'shortcuts':_0x30807d},{'merge':!![]});});}}}}),document[_0x6f1056(0x2f7)](_0x6f1056(0xc6b))[_0x6f1056(0xdd3)]('click',_0x15c3ef=>{const _0x380185=_0x6f1056;_0x15c3ef[_0x380185(0x898)][_0x380185(0xb5f)](_0x380185(0xb0a))&&(activeShortcutTabId=_0x380185(0x943),renderAdditionalShortcutsModal(),document[_0x380185(0x2f7)]('additional-shortcuts-modal')[_0x380185(0x2ff)][_0x380185(0x2cf)](_0x380185(0xad0)));}),document['getElementById'](_0x6f1056(0xcad))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x1d66c0=_0x6f1056;document[_0x1d66c0(0x2f7)](_0x1d66c0(0x2d9))[_0x1d66c0(0x2ff)][_0x1d66c0(0x30d)](_0x1d66c0(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x9e1))[_0x6f1056(0xdd3)]('click',_0x993b2e=>{const _0x24af28=_0x6f1056,_0x247dab=_0x993b2e[_0x24af28(0x898)]['closest']('.use-hidden-shortcut-btn'),_0x425474=_0x993b2e[_0x24af28(0x898)][_0x24af28(0xb5f)]('.edit-hidden-shortcut-btn'),_0x22274c=_0x993b2e[_0x24af28(0x898)][_0x24af28(0xb5f)](_0x24af28(0xd48)),_0xd5c68d=document[_0x24af28(0x2f7)](_0x24af28(0x2d9));if(_0x247dab)_0xd5c68d[_0x24af28(0x2ff)][_0x24af28(0x30d)](_0x24af28(0xad0)),handleShortcutClick(_0x247dab['dataset']['id']);else{if(_0x425474)_0xd5c68d[_0x24af28(0x2ff)]['add']('hidden'),openShortcutEditor(_0x425474[_0x24af28(0x683)]['id']);else{if(_0x22274c){const _0x12cbe5=_0x22274c[_0x24af28(0x683)]['id'],_0x139617=blueprintShortcuts[_0x24af28(0x266)](_0xed01e1=>_0xed01e1['id']===_0x12cbe5)?.[_0x24af28(0xa7e)];showConfirmation(_0x24af28(0xe07)+_0x139617+'\x22?',async()=>{const _0x37600a=_0x24af28,_0x440d8f=blueprintShortcuts[_0x37600a(0x9a7)](_0x43388a=>_0x43388a['id']!==_0x12cbe5);try{const _0xb16af=doc(db,_0x37600a(0xb89),_0x37600a(0x828));await setDoc(_0xb16af,{'blueprintShortcuts':_0x440d8f},{'merge':!![]});}catch(_0x597e1a){console[_0x37600a(0x274)]('Error\x20deleting\x20shortcut:',_0x597e1a);}});}}}}),document[_0x6f1056(0x2f7)](_0x6f1056(0xbc0))['addEventListener'](_0x6f1056(0x754),_0xba0421=>{const _0x468e50=_0x6f1056,_0x46d66f=_0xba0421[_0x468e50(0x898)][_0x468e50(0xb5f)](_0x468e50(0xb9d)),_0x3208fb=_0xba0421[_0x468e50(0x898)]['closest'](_0x468e50(0x1c3)),_0x224952=_0xba0421[_0x468e50(0x898)][_0x468e50(0xb5f)](_0x468e50(0xac7));if(_0x3208fb)openShortcutEditor(_0x3208fb[_0x468e50(0x683)]['id']);else{if(_0x224952){const _0x951a3f=_0x224952[_0x468e50(0x683)]['id'],_0x597755=blueprintShortcuts[_0x468e50(0x266)](_0x9a949=>_0x9a949['id']===_0x951a3f)?.[_0x468e50(0xa7e)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x597755+'\x22?',async()=>{const _0x5b3b27=_0x468e50,_0x47bf60=blueprintShortcuts['filter'](_0xeccb90=>_0xeccb90['id']!==_0x951a3f);try{const _0x45e300=doc(db,_0x5b3b27(0xb89),'dashboardConfig');await setDoc(_0x45e300,{'blueprintShortcuts':_0x47bf60},{'merge':!![]});}catch(_0x33977d){console[_0x5b3b27(0x274)](_0x5b3b27(0xda9),_0x33977d);}});}else _0x46d66f&&handleShortcutClick(_0x46d66f[_0x468e50(0x683)]['id']);}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x2e7))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>openShortcutEditor(null)),document['getElementById']('cancel-shortcut-edit-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x455251=_0x6f1056;document['getElementById'](_0x455251(0x64a))[_0x455251(0x2ff)]['add']('hidden');}),document[_0x6f1056(0x2f7)](_0x6f1056(0x6e7))[_0x6f1056(0xdd3)]('click',saveShortcutChanges),document[_0x6f1056(0x2f7)](_0x6f1056(0x45d))['addEventListener']('click',async()=>{const _0x2545c8=_0x6f1056,_0x1fb73c=document[_0x2545c8(0x2f7)](_0x2545c8(0xa8d)),_0x51ecd2=document[_0x2545c8(0x2f7)](_0x2545c8(0x59b));_0x1fb73c['files']['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x1fb73c[_0x2545c8(0x652)][0x0],_0x51ecd2['files'][0x0]||null):showMessage(_0x2545c8(0x9fb));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x853))['addEventListener'](_0x6f1056(0x754),async _0x48d6b1=>{const _0x115ede=_0x6f1056,_0x28b36f=document['getElementById'](_0x115ede(0x853)),_0x5182fe=_0x48d6b1[_0x115ede(0x898)][_0x115ede(0xb5f)](_0x115ede(0x1d5)),_0x5bf067=_0x48d6b1[_0x115ede(0x898)][_0x115ede(0xb5f)](_0x115ede(0xcf4)),_0x34c20a=_0x48d6b1[_0x115ede(0x898)]['closest'](_0x115ede(0xa1e)),_0x57e918=_0x48d6b1[_0x115ede(0x898)][_0x115ede(0xb5f)](_0x115ede(0xae0)),_0x5d5872=_0x48d6b1[_0x115ede(0x898)][_0x115ede(0xb5f)](_0x115ede(0x347)),_0x2e0565=_0x48d6b1[_0x115ede(0x898)]['closest'](_0x115ede(0x23d));if(_0x5182fe){cameFromBlueprint=!![];const _0x5e8778=_0x5182fe[_0x115ede(0x683)]['quizId'];showQuizDetailView(_0x5e8778),_0x28b36f['classList'][_0x115ede(0x30d)](_0x115ede(0xad0));}else{if(_0x5bf067){const _0x17781d=_0x5bf067[_0x115ede(0x683)][_0x115ede(0x9e8)],_0x537c8f=_0x5bf067['dataset'][_0x115ede(0xb99)],_0x328838=allQuizzesGlobal[_0x115ede(0x266)](_0x29a4cd=>_0x29a4cd['id']===_0x537c8f),_0x5720f3=_0x328838?_0x328838[_0x115ede(0x9ce)]:_0x115ede(0x247);showConfirmation(_0x115ede(0x4d0)+_0x5720f3+_0x115ede(0xcd7),async()=>{const _0x488e3b=_0x115ede;try{const _0x2670f4=doc(db,'artifacts/'+appId+_0x488e3b(0xb14),currentBlueprintProjectId);await updateDoc(_0x2670f4,{[_0x488e3b(0x513)+_0x17781d+_0x488e3b(0xc62)]:arrayRemove(_0x537c8f)}),showMessage(_0x488e3b(0xb07)),openTopicQuizBank(_0x17781d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3d8a97){console['error'](_0x488e3b(0x2c9),_0x3d8a97),showMessage(_0x488e3b(0xad9));}});}else{if(_0x34c20a){cameFromBlueprint=!![];const _0xa76c35=_0x34c20a['dataset'][_0x115ede(0xb99)],_0x14b47c=allQuizzesGlobal[_0x115ede(0x266)](_0x18146d=>_0x18146d['id']===_0xa76c35);_0x14b47c&&(startPresentation(_0x14b47c),_0x28b36f[_0x115ede(0x2ff)]['add'](_0x115ede(0xad0)));}else{if(_0x57e918){cameFromBlueprint=!![];const _0x5517cf=_0x57e918[_0x115ede(0x683)]['quizId'],_0x59303e=allQuizzesGlobal[_0x115ede(0x266)](_0x289e09=>_0x289e09['id']===_0x5517cf);_0x59303e&&(currentQuizData=_0x59303e,startAdminTest(),_0x28b36f[_0x115ede(0x2ff)][_0x115ede(0x30d)](_0x115ede(0xad0)));}else{if(_0x5d5872)cameFromBlueprint=!![],handleStartLiveRace(_0x5d5872[_0x115ede(0x683)]['quizId']),_0x28b36f[_0x115ede(0x2ff)]['add'](_0x115ede(0xad0));else{if(_0x2e0565){cameFromBlueprint=!![];const _0x5123e2=_0x2e0565[_0x115ede(0x683)]['quizId'],_0x19e5bb=_0x2e0565[_0x115ede(0x683)][_0x115ede(0xde3)],_0x5707fd=allQuizzesGlobal[_0x115ede(0x266)](_0x37b673=>_0x37b673['id']===_0x5123e2);_0x5707fd&&(showGameStartConfirmationModal(_0x5123e2,_0x19e5bb,_0x5707fd[_0x115ede(0x9ce)]),_0x28b36f['classList'][_0x115ede(0x30d)](_0x115ede(0xad0)));}}}}}}}),document['getElementById'](_0x6f1056(0x209))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x55cf29=_0x6f1056;document[_0x55cf29(0x2f7)](_0x55cf29(0xd83))[_0x55cf29(0x2ff)][_0x55cf29(0x2cf)](_0x55cf29(0xad0)),document[_0x55cf29(0x2f7)](_0x55cf29(0xbaf))[_0x55cf29(0x5b6)]='',document[_0x55cf29(0x2f7)](_0x55cf29(0x992))['value']='',document[_0x55cf29(0x2f7)](_0x55cf29(0xb6b))[_0x55cf29(0x5b6)]='';}),document[_0x6f1056(0x2f7)](_0x6f1056(0x872))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x369427=_0x6f1056;document[_0x369427(0x2f7)](_0x369427(0xd83))[_0x369427(0x2ff)][_0x369427(0x30d)](_0x369427(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x32c))[_0x6f1056(0xdd3)]('click',handleManualBlueprintSave),document[_0x6f1056(0x2f7)](_0x6f1056(0x5d2))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>document[_0x6f1056(0x2f7)](_0x6f1056(0xcbf))[_0x6f1056(0x2ff)][_0x6f1056(0x30d)](_0x6f1056(0xad0))),document[_0x6f1056(0x2f7)](_0x6f1056(0x629))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleSaveBlueprintPageSettings),document['getElementById']('bp-quiz-settings-btn')['addEventListener']('click',openBlueprintQuizSettings),document[_0x6f1056(0x2f7)](_0x6f1056(0x9b0))[_0x6f1056(0xdd3)](_0x6f1056(0x754),saveBlueprintProject),document['getElementById'](_0x6f1056(0x5a0))[_0x6f1056(0xdd3)](_0x6f1056(0x754),showBlueprintProjects),document[_0x6f1056(0x2f7)](_0x6f1056(0x661))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x1c743a=_0x6f1056;document['getElementById'](_0x1c743a(0x314))[_0x1c743a(0x2ff)]['add'](_0x1c743a(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x887))[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x4bd2ad=>{const _0x337e26=_0x6f1056,_0x317c71=_0x4bd2ad[_0x337e26(0x898)]['closest'](_0x337e26(0x1e7)),_0x59df3a=_0x4bd2ad['target'][_0x337e26(0xb5f)]('.delete-bp-project-btn');if(_0x317c71)displayBlueprintProjectManager(_0x317c71['dataset']['id']);else _0x59df3a&&handleDeepDeleteBlueprintProject(_0x59df3a[_0x337e26(0x683)]['id']);}),document[_0x6f1056(0x2f7)](_0x6f1056(0xa37))['addEventListener'](_0x6f1056(0x754),()=>{const _0x13c33b=_0x6f1056;currentBlueprintProjectId=null,currentProjectId=null,document[_0x13c33b(0x2f7)]('blueprint-project-manager-view')[_0x13c33b(0x2ff)][_0x13c33b(0x30d)]('hidden'),showView(_0x13c33b(0xaf5));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x7ab))[_0x6f1056(0xdd3)]('click',addTopicToProject),document[_0x6f1056(0x2f7)](_0x6f1056(0x58f))[_0x6f1056(0xdd3)]('click',async _0x371250=>{const _0x27dce6=_0x6f1056,_0x28bbaa=_0x371250[_0x27dce6(0x898)]['closest']('[data-topic-id]');if(!_0x28bbaa)return;const _0x21311c=_0x28bbaa[_0x27dce6(0x683)][_0x27dce6(0x9e8)],_0x36c793=_0x371250[_0x27dce6(0x898)][_0x27dce6(0xb5f)](_0x27dce6(0x5a2)),_0x18d2b8=_0x371250['target'][_0x27dce6(0xb5f)](_0x27dce6(0xa3b)),_0x43db13=_0x371250[_0x27dce6(0x898)][_0x27dce6(0xb5f)](_0x27dce6(0x8d2)),_0x2c0681=_0x371250[_0x27dce6(0x898)]['closest'](_0x27dce6(0x644)),_0x96c308=_0x371250[_0x27dce6(0x898)]['closest'](_0x27dce6(0x4ae)),_0x3909ef=_0x371250[_0x27dce6(0x898)]['closest']('.bp-generate-lesson-btn'),_0x3a70ae=_0x371250[_0x27dce6(0x898)][_0x27dce6(0xb5f)](_0x27dce6(0x70c)),_0x535856=_0x371250[_0x27dce6(0x898)][_0x27dce6(0xb5f)](_0x27dce6(0x257)),_0x3ce676=_0x3b1abf=>{const _0x583694=_0x27dce6,_0x40fc88=_0x3b1abf[_0x583694(0x839)]('[data-field=\x22subTopic\x22]')[_0x583694(0xa28)][_0x583694(0xe11)](),_0x1373e2=_0x3b1abf[_0x583694(0xb5f)]('.space-y-1.pl-4')[_0x583694(0x46b)],_0x255ab7=_0x1373e2?_0x1373e2[_0x583694(0xa28)][_0x583694(0xe11)]():'';return _0x255ab7+':\x20'+_0x40fc88;};if(_0x2c0681)openTopicQuizBank(_0x21311c);else{if(_0x36c793){const _0x3b4678=_0x3ce676(_0x28bbaa);selectProjectAndGenerateBlueprintQuiz(_0x3b4678,null,_0x21311c,!![]);}else{if(_0x18d2b8){const _0x44ffdc=_0x3ce676(_0x28bbaa);try{const _0x14aa4b=doc(db,_0x27dce6(0x1da)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x27dce6(0xb9f),_0x21311c),_0x12ef0e=await getDoc(_0x14aa4b);if(_0x12ef0e[_0x27dce6(0x75c)]()){const _0x314f90=_0x12ef0e['data']()[_0x27dce6(0x261)],_0xfa26c3=document['createElement']('div'),_0x5a67d6=_0x5de92b=>{const _0x5dbb03=_0x27dce6;if(!_0x5de92b)return'';return _0xfa26c3['innerHTML']=_0x5de92b,_0xfa26c3[_0x5dbb03(0xa28)]||_0xfa26c3[_0x5dbb03(0x907)]||'';},_0xd90db2=(_0x5a67d6(_0x314f90[_0x27dce6(0xd28)])+'\x20'+_0x5a67d6(_0x314f90['memory'])+'\x20'+_0x5a67d6(_0x314f90[_0x27dce6(0xd8a)]))[_0x27dce6(0xe11)]();selectProjectAndGenerateBlueprintQuiz(_0x44ffdc,_0xd90db2,_0x21311c,![]);}else showMessage(_0x27dce6(0x355));}catch(_0x4ecf03){console['error']('Error\x20preparing\x20content\x20quiz:',_0x4ecf03),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x43db13){const _0x1c502a=_0x3ce676(_0x28bbaa);selectProjectAndGenerateBlueprintQuiz(_0x1c502a,null,_0x21311c,![]);}else{if(_0x96c308){const _0x28b8fb=doc(db,'artifacts/'+appId+_0x27dce6(0xb14),currentBlueprintProjectId),_0x303596=await getDoc(_0x28b8fb);if(_0x303596[_0x27dce6(0x75c)]()){const _0x125a42=_0x303596[_0x27dce6(0x72a)](),_0x431629=_0x125a42[_0x27dce6(0xd44)][_0x21311c];if(_0x431629&&_0x431629['status']==='generated')try{const _0x591c77=doc(db,_0x27dce6(0x1da)+appId+_0x27dce6(0x915)+currentBlueprintProjectId+_0x27dce6(0xb9f),_0x21311c),_0xca7a37=await getDoc(_0x591c77);if(_0xca7a37[_0x27dce6(0x75c)]()){const _0x3ef842=_0xca7a37[_0x27dce6(0x72a)]()['content'];document[_0x27dce6(0x2f7)]('lesson-view-title')['textContent']=_0x27dce6(0x62b)+_0x3ce676(_0x28bbaa),document[_0x27dce6(0x2f7)](_0x27dce6(0xd7c))[_0x27dce6(0x8c4)]=_0x3ef842[_0x27dce6(0xd28)],document[_0x27dce6(0x2f7)]('memoryContent')[_0x27dce6(0x8c4)]=_0x3ef842[_0x27dce6(0x89b)],document['getElementById'](_0x27dce6(0xab4))[_0x27dce6(0x8c4)]=_0x3ef842['summary'];const _0x55da86=document[_0x27dce6(0x2f7)](_0x27dce6(0xda4));_0x3ef842[_0x27dce6(0xd7b)]?(currentApplicationData=_0x3ef842['applicationData'],_0x55da86[_0x27dce6(0x8c4)]=currentApplicationData[_0x27dce6(0xce7)]((_0x3a3e63,_0x269a5b)=>_0x27dce6(0xcd0)+(_0x269a5b+0x1)+'.\x20'+marked[_0x27dce6(0xcbe)](_0x3a3e63[_0x27dce6(0xa75)])+_0x27dce6(0x649)+_0x269a5b+_0x27dce6(0x929)+_0x3a3e63[_0x27dce6(0x450)][_0x27dce6(0xce7)]((_0x573a84,_0xfc80e7)=>_0x27dce6(0xafe)+_0x269a5b+',\x20'+_0xfc80e7+_0x27dce6(0x275)+String[_0x27dce6(0xdbf)](0x61+_0xfc80e7)+'.\x20'+marked[_0x27dce6(0xcbe)](_0x573a84)+'</button>')[_0x27dce6(0x5c4)]('')+_0x27dce6(0xb06))['join']('')):(currentApplicationData=[],_0x55da86[_0x27dce6(0x8c4)]=_0x3ef842[_0x27dce6(0xc25)]||_0x3ef842[_0x27dce6(0xad1)]),document[_0x27dce6(0x2f7)](_0x27dce6(0x574))[_0x27dce6(0x2ff)]['add'](_0x27dce6(0xad0)),document[_0x27dce6(0x2f7)](_0x27dce6(0x2f3))['classList'][_0x27dce6(0x2cf)](_0x27dce6(0xad0)),document[_0x27dce6(0x2f7)](_0x27dce6(0x562))[_0x27dce6(0x2ff)][_0x27dce6(0x2cf)](_0x27dce6(0xad0)),window[_0x27dce6(0xc16)]&&MathJax['typesetPromise']([document[_0x27dce6(0x2f7)]('lesson-view-content')]);}else showMessage(_0x27dce6(0xbc2));}catch(_0x54738d){console[_0x27dce6(0x274)](_0x27dce6(0x1d6),_0x54738d),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x27dce6(0x9c4));}}else{if(_0x3909ef){const _0x263e01=_0x3ce676(_0x28bbaa),_0x5175b2=doc(db,_0x27dce6(0x1da)+appId+_0x27dce6(0xb14),currentBlueprintProjectId),_0x2f4c1b=await getDoc(_0x5175b2);if(_0x2f4c1b[_0x27dce6(0x75c)]()){const _0x247d75=_0x2f4c1b['data']();generateAndSaveLessonForBlueprint(_0x21311c,_0x263e01,_0x247d75[_0x27dce6(0xbf0)]);}}else{if(_0x3a70ae)editTopicInProject(_0x21311c);else _0x535856&&deleteTopicFromProject(_0x21311c);}}}}}}}),document[_0x6f1056(0x2f7)](_0x6f1056(0xc9a))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleFixLessonLatex),document[_0x6f1056(0x2f7)]('export-lesson-to-pdf-btn')['addEventListener'](_0x6f1056(0x754),handleExportLessonToPDF),document[_0x6f1056(0x2f7)](_0x6f1056(0x2db))[_0x6f1056(0xdd3)]('click',()=>{const _0x28f3dc=_0x6f1056;document[_0x28f3dc(0x2f7)](_0x28f3dc(0x562))[_0x28f3dc(0x2ff)][_0x28f3dc(0x30d)](_0x28f3dc(0xad0));});const _0x7a8d2d=document[_0x6f1056(0x2f7)](_0x6f1056(0xdd4)),_0x3c8611=document['getElementById'](_0x6f1056(0xa45));_0x7a8d2d[_0x6f1056(0xdd3)]('change',()=>{const _0x27b3d9=_0x6f1056;_0x3c8611[_0x27b3d9(0x2ff)][_0x27b3d9(0x65e)](_0x27b3d9(0xad0),!_0x7a8d2d[_0x27b3d9(0x28f)]);});const _0x45a270=document['getElementById'](_0x6f1056(0x2c6)),_0x11d130=document[_0x6f1056(0x2f7)](_0x6f1056(0x9de));_0x45a270[_0x6f1056(0xdd3)](_0x6f1056(0x9af),()=>{const _0x46a3c6=_0x6f1056;_0x11d130['classList'][_0x46a3c6(0x65e)](_0x46a3c6(0xad0),!_0x45a270[_0x46a3c6(0x28f)]);});const _0x42a175=document['getElementById'](_0x6f1056(0x5c9)),_0x343041=document['getElementById'](_0x6f1056(0x6af));_0x42a175[_0x6f1056(0xdd3)](_0x6f1056(0x9af),()=>{const _0x2c5afa=_0x6f1056;_0x343041['classList']['toggle']('hidden',!_0x42a175[_0x2c5afa(0x28f)]);});const _0x5c9bff=document[_0x6f1056(0x2f7)](_0x6f1056(0x8b9)),_0x32c66d=async _0x5bcea9=>{const _0x2897fe=_0x6f1056,_0x2aa766=document[_0x2897fe(0x2f7)](_0x2897fe(0x8b9)),_0x10ee8e=_0x2aa766[_0x2897fe(0x683)][_0x2897fe(0x6f5)],_0x37d51b=document['getElementById'](_0x2897fe(0x5f3));_0x2aa766[_0x2897fe(0x2ff)]['add'](_0x2897fe(0xad0));if(_0x10ee8e===_0x2897fe(0x577)){const _0x1024ed=_0x37d51b[_0x2897fe(0x5b6)],_0x284463={'answer':_0x1024ed,'wasConfident':_0x5bcea9};proceedToNextQuestion(_0x284463);}else{if(_0x10ee8e===_0x2897fe(0x6a7)){const _0x203d32=_0x37d51b[_0x2897fe(0x683)][_0x2897fe(0xbe5)],_0xe1689e=JSON[_0x2897fe(0x2cd)](_0x37d51b[_0x2897fe(0x683)][_0x2897fe(0xa75)]),_0x2c67da=JSON[_0x2897fe(0x2cd)](_0x37d51b['dataset'][_0x2897fe(0x2ec)]),_0x42cc21=_0x37d51b[_0x2897fe(0x683)]['playerName'];handleSyncAnswerSubmit(_0x203d32,_0xe1689e,_0x2c67da,_0x42cc21,_0x5bcea9);}}_0x2aa766[_0x2897fe(0x683)]['currentMode']='';};document[_0x6f1056(0x2f7)](_0x6f1056(0x8cf))[_0x6f1056(0xdd3)]('click',()=>_0x32c66d(!![])),document[_0x6f1056(0x2f7)](_0x6f1056(0x278))[_0x6f1056(0xdd3)]('click',()=>_0x32c66d(![])),liveGameView['addEventListener'](_0x6f1056(0x754),_0x2fe1ce=>{const _0x532a47=_0x6f1056,_0x21a767=_0x2fe1ce[_0x532a47(0x898)]['closest'](_0x532a47(0x315));if(_0x21a767){const _0x23ba14=_0x21a767[_0x532a47(0x683)][_0x532a47(0x682)];_0x23ba14&&handleKickPlayerSync(_0x23ba14);}});const _0x1b6724=document[_0x6f1056(0x2f7)](_0x6f1056(0xdbe)),_0x3d5134=document['getElementById'](_0x6f1056(0x2ef));_0x3d5134['addEventListener'](_0x6f1056(0x754),()=>{const _0x1cc26a=_0x6f1056;document[_0x1cc26a(0x2f7)]('confirm-game-start-modal')['classList'][_0x1cc26a(0x30d)](_0x1cc26a(0xad0));}),_0x1b6724[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x1975ac=_0x6f1056,_0x49c11b=document[_0x1975ac(0x2f7)](_0x1975ac(0x96e))['value'],_0x3f318e=document[_0x1975ac(0x2f7)](_0x1975ac(0x6bf))['value'],_0xf62afd=document['getElementById'](_0x1975ac(0xdfa))[_0x1975ac(0x28f)];document[_0x1975ac(0x2f7)](_0x1975ac(0xdd5))[_0x1975ac(0x2ff)][_0x1975ac(0x30d)](_0x1975ac(0xad0));switch(_0x3f318e){case _0x1975ac(0xdb3):handleStartLiveRace(_0x49c11b,_0xf62afd);break;case _0x1975ac(0x205):handleStartTeamQuiz(_0x49c11b,_0xf62afd);break;case _0x1975ac(0x996):handleStartGroupMode(_0x49c11b,_0xf62afd);break;case _0x1975ac(0x6a7):const _0x2e96af=document['querySelector'](_0x1975ac(0xafd))[_0x1975ac(0x5b6)]||_0x1975ac(0xb7e);handleStartSyncMode(_0x49c11b,_0xf62afd,_0x2e96af);break;}}),document['getElementById'](_0x6f1056(0x82e))[_0x6f1056(0xdd3)]('click',handleJoinGroupActivity),liveGameView[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x4fae41=>{const _0x154994=_0x6f1056,_0x2a18d7=_0x4fae41['target'][_0x154994(0xb5f)](_0x154994(0x3ce));document[_0x154994(0x4cb)](_0x154994(0x44f))[_0x154994(0x616)](_0x97a32e=>{const _0x4fd7d5=_0x154994;(!_0x2a18d7||_0x97a32e['id']!==_0x2a18d7[_0x4fd7d5(0x683)][_0x4fd7d5(0x772)])&&_0x97a32e[_0x4fd7d5(0x2ff)]['remove'](_0x4fd7d5(0x718));});if(!_0x2a18d7)return;const _0x5ebd4c=_0x2a18d7[_0x154994(0x683)][_0x154994(0x772)],_0x53b22b=document['getElementById'](_0x5ebd4c);_0x53b22b&&_0x53b22b[_0x154994(0x2ff)]['toggle'](_0x154994(0x718));}),liveGameView[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x33aa39=>{const _0x592dc6=_0x6f1056;if(_0x33aa39[_0x592dc6(0x898)][_0x592dc6(0x2ff)][_0x592dc6(0x416)](_0x592dc6(0x486))){const _0x3a416c=_0x33aa39['target'][_0x592dc6(0x683)]['playerName'];_0x3a416c&&handleKickPlayer(_0x3a416c);}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x4c4))[_0x6f1056(0xdd3)](_0x6f1056(0x383),()=>document['getElementById']('save-project-name-btn')[_0x6f1056(0x2ff)][_0x6f1056(0x2cf)](_0x6f1056(0xad0))),document[_0x6f1056(0x2f7)](_0x6f1056(0x901))[_0x6f1056(0xdd3)]('click',handleSaveProjectName),document[_0x6f1056(0x2f7)](_0x6f1056(0x4c4))['addEventListener'](_0x6f1056(0x6fe),_0x46f089=>{const _0x3ca646=_0x6f1056;_0x46f089[_0x3ca646(0xb94)]===_0x3ca646(0x3c4)&&(_0x46f089[_0x3ca646(0xd5c)](),_0x46f089[_0x3ca646(0x898)][_0x3ca646(0x993)](),handleSaveProjectName());}),document[_0x6f1056(0x2f7)](_0x6f1056(0x575))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x1284bf=_0x6f1056;document['getElementById'](_0x1284bf(0x6f6))['classList']['remove'](_0x1284bf(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0xb48))['addEventListener'](_0x6f1056(0x754),()=>{const _0x4e5243=_0x6f1056;document[_0x4e5243(0x2f7)]('bulk-quiz-settings-modal')[_0x4e5243(0x2ff)]['add'](_0x4e5243(0xad0));}),document[_0x6f1056(0x2f7)]('confirm-bulk-quiz-settings-btn')[_0x6f1056(0xdd3)]('click',handleBulkUpdateQuizSettings),document['getElementById'](_0x6f1056(0xd18))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleModeSwitch),document['getElementById'](_0x6f1056(0xba6))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleUpdateOldQuizzes),document[_0x6f1056(0x2f7)](_0x6f1056(0xd54))['addEventListener'](_0x6f1056(0x754),handleResetProjectOrder),document[_0x6f1056(0x2f7)](_0x6f1056(0x699))['addEventListener'](_0x6f1056(0x754),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleAddCustomMathTopic),document[_0x6f1056(0x2f7)]('select-all-topics-btn')['addEventListener'](_0x6f1056(0x754),handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleDeselectAllTopics),document['getElementById'](_0x6f1056(0x6b5))['addEventListener'](_0x6f1056(0x754),()=>{const _0x4a2c12=_0x6f1056;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x4a2c12(0xaf5));}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x767))['addEventListener'](_0x6f1056(0x754),()=>{const _0x19a749=_0x6f1056;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x19a749(0x6d3));}}),document[_0x6f1056(0x2f7)](_0x6f1056(0xc77))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{showView('admin-dashboard');}),document[_0x6f1056(0x2f7)](_0x6f1056(0x7f4))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x244f07=_0x6f1056;messageModal[_0x244f07(0x2ff)][_0x244f07(0x30d)](_0x244f07(0xad0)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x6f1056(0x2f7)]('create-project-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>createProjectModal[_0x6f1056(0x2ff)][_0x6f1056(0x2cf)](_0x6f1056(0xad0))),document['getElementById'](_0x6f1056(0xbe8))['addEventListener'](_0x6f1056(0x754),()=>createProjectModal[_0x6f1056(0x2ff)][_0x6f1056(0x30d)]('hidden')),document[_0x6f1056(0x2f7)](_0x6f1056(0x74b))['addEventListener'](_0x6f1056(0x754),()=>adminPasswordModal[_0x6f1056(0x2ff)][_0x6f1056(0x30d)](_0x6f1056(0xad0))),document['getElementById'](_0x6f1056(0xac6))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleAdminLogin),document['getElementById']('admin-password-input')[_0x6f1056(0xdd3)](_0x6f1056(0xba2),_0x504da4=>{if(_0x504da4['key']==='Enter')handleAdminLogin();}),document[_0x6f1056(0x2f7)](_0x6f1056(0x3dd))[_0x6f1056(0xdd3)]('click',()=>{const _0x599331=_0x6f1056;confirmationModal[_0x599331(0x2ff)][_0x599331(0x30d)](_0x599331(0xad0)),confirmAction=null;}),document[_0x6f1056(0x2f7)](_0x6f1056(0xc52))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x58d3cf=_0x6f1056;confirmAction&&confirmAction(),confirmationModal[_0x58d3cf(0x2ff)][_0x58d3cf(0x30d)](_0x58d3cf(0xad0)),confirmAction=null;}),document[_0x6f1056(0x2f7)](_0x6f1056(0x6cc))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>renameQuizModal[_0x6f1056(0x2ff)][_0x6f1056(0x30d)]('hidden')),document[_0x6f1056(0x2f7)]('confirm-rename-quiz-btn')['addEventListener'](_0x6f1056(0x754),confirmRenameQuiz),document['getElementById']('cancel-move-quiz-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>moveQuizModal[_0x6f1056(0x2ff)][_0x6f1056(0x30d)](_0x6f1056(0xad0))),document['getElementById'](_0x6f1056(0xcd3))['addEventListener'](_0x6f1056(0x754),confirmMoveQuiz),document[_0x6f1056(0x2f7)]('cancel-quiz-settings-btn')['addEventListener'](_0x6f1056(0x754),()=>quizSettingsModal[_0x6f1056(0x2ff)]['add'](_0x6f1056(0xad0))),document[_0x6f1056(0x2f7)]('confirm-quiz-settings-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),confirmQuizSettings),document['getElementById'](_0x6f1056(0x356))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>quizStatusModal[_0x6f1056(0x2ff)][_0x6f1056(0x30d)](_0x6f1056(0xad0))),document[_0x6f1056(0x2f7)]('confirm-quiz-status-btn')[_0x6f1056(0xdd3)]('click',confirmQuizStatus);const _0xecb5b8=document['getElementById'](_0x6f1056(0x90e));document['getElementById']('cancel-export-pdf-btn')['addEventListener'](_0x6f1056(0x754),()=>{const _0x27e859=_0x6f1056;_0xecb5b8[_0x27e859(0x2ff)][_0x27e859(0x30d)](_0x27e859(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x9ba))[_0x6f1056(0xdd3)](_0x6f1056(0x754),async()=>{const _0x4aba69=_0x6f1056,_0x3eafd3=allQuizzes[_0x4aba69(0x266)](_0x327113=>_0x327113['id']===actionTargetId);_0x3eafd3?(currentQuizData=_0x3eafd3,exportQuizAsWorksheetPDF()):showMessage(_0x4aba69(0x377)),_0xecb5b8[_0x4aba69(0x2ff)][_0x4aba69(0x30d)]('hidden');}),document['getElementById'](_0x6f1056(0xbfd))[_0x6f1056(0xdd3)](_0x6f1056(0x754),async()=>{const _0x25d718=_0x6f1056,_0x77f88a=allQuizzes[_0x25d718(0x266)](_0x93f026=>_0x93f026['id']===actionTargetId);_0x77f88a?(currentQuizData=_0x77f88a,exportQuizAsTutorPDF()):showMessage(_0x25d718(0x377)),_0xecb5b8[_0x25d718(0x2ff)][_0x25d718(0x30d)]('hidden');});const _0x469363=document[_0x6f1056(0x2f7)]('open-global-live-btn');_0x469363[_0x6f1056(0x8c4)]=_0x6f1056(0x580),_0x469363['addEventListener'](_0x6f1056(0x754),openGlobalActivityModal),document[_0x6f1056(0x2f7)](_0x6f1056(0x361))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x17539e=_0x6f1056;document[_0x17539e(0x2f7)](_0x17539e(0xd0f))['classList']['add']('hidden');}),document[_0x6f1056(0x2f7)](_0x6f1056(0xc1d))[_0x6f1056(0xdd3)]('input',_0x32af58=>{const _0x2b0638=_0x6f1056;renderGlobalActivityList(_0x32af58[_0x2b0638(0x898)]['value']);}),document[_0x6f1056(0x2f7)](_0x6f1056(0xd5e))[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x53e7ae=>{const _0x4ab84f=_0x6f1056,_0xfed316=_0x53e7ae[_0x4ab84f(0x898)][_0x4ab84f(0xb5f)]('.game-start-btn');if(!_0xfed316)return;const _0x1b4e77=_0xfed316['dataset']['id'],_0x5c28fc=_0xfed316[_0x4ab84f(0x683)]['mode'],_0x21fe23=allQuizzesGlobal[_0x4ab84f(0x266)](_0x1b702d=>_0x1b702d['id']===_0x1b4e77);_0x21fe23&&(document[_0x4ab84f(0x2f7)]('global-activity-modal')[_0x4ab84f(0x2ff)][_0x4ab84f(0x30d)](_0x4ab84f(0xad0)),_0x5c28fc==='live-race'?handleStartLiveRace(_0x1b4e77):showGameStartConfirmationModal(_0x1b4e77,_0x5c28fc,_0x21fe23[_0x4ab84f(0x9ce)]));}),document[_0x6f1056(0x2f7)]('project-search-input')[_0x6f1056(0xdd3)](_0x6f1056(0xe09),renderProjects),document['getElementById'](_0x6f1056(0xb4e))[_0x6f1056(0xdd3)](_0x6f1056(0x9af),async()=>{const _0x754946=_0x6f1056,_0x27cbff=document[_0x754946(0x2f7)](_0x754946(0xb4e))['value'],_0x131940=doc(db,_0x754946(0xb89),'dashboardConfig');try{await setDoc(_0x131940,{'projectSort':_0x27cbff},{'merge':!![]});}catch(_0xc34e1d){console['error'](_0x754946(0x469),_0xc34e1d),showMessage(_0x754946(0xd9c));}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x92b))[_0x6f1056(0xdd3)](_0x6f1056(0xe09),renderQuizzes),document[_0x6f1056(0x2f7)]('grid-view-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x887f5d=_0x6f1056;globalDashboardSettings[_0x887f5d(0x607)]=_0x887f5d(0x865),saveUserPreference('projectView',_0x887f5d(0x865)),renderProjects();}),document[_0x6f1056(0x2f7)](_0x6f1056(0xbab))['addEventListener'](_0x6f1056(0x754),()=>{const _0x257e8e=_0x6f1056;globalDashboardSettings[_0x257e8e(0x607)]=_0x257e8e(0x95c),saveUserPreference('projectView','list'),renderProjects();}),manageTab[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>switchProjectTab(_0x6f1056(0xd65))),resultsTab[_0x6f1056(0xdd3)]('click',()=>switchProjectTab(_0x6f1056(0xb2b))),leaderboardTab['addEventListener'](_0x6f1056(0x754),()=>switchProjectTab('leaderboard')),document[_0x6f1056(0x2f7)](_0x6f1056(0xbd0))['addEventListener'](_0x6f1056(0x754),()=>switchQuizDetailTab(_0x6f1056(0x48c))),document['getElementById']('scores-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x6f1056(0xd38))),document[_0x6f1056(0x2f7)](_0x6f1056(0x507))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>switchQuizDetailTab(_0x6f1056(0x41a))),document['getElementById']('behavior-log-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x6f1056(0xb4d))),document[_0x6f1056(0x2f7)](_0x6f1056(0x62f))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x36df1c=document['getElementById'](_0x6f1056(0x6dd)),_0x864389=document['getElementById'](_0x6f1056(0x8ea)),_0x4f45b8=document[_0x6f1056(0x2f7)]('blueprint-tab'),_0x3e8287=document[_0x6f1056(0x2f7)](_0x6f1056(0xc6b)),_0x176cf4=document[_0x6f1056(0x2f7)](_0x6f1056(0x3dc)),_0x554d5a=document[_0x6f1056(0x2f7)](_0x6f1056(0x8c6));topicTab[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x1d7133=_0x6f1056;topicTab['classList'][_0x1d7133(0x30d)]('active'),textTab[_0x1d7133(0x2ff)]['remove'](_0x1d7133(0x72f)),fileTab[_0x1d7133(0x2ff)][_0x1d7133(0x2cf)](_0x1d7133(0x72f)),worksheetTab[_0x1d7133(0x2ff)][_0x1d7133(0x2cf)](_0x1d7133(0x72f));if(_0x36df1c)_0x36df1c[_0x1d7133(0x2ff)][_0x1d7133(0x2cf)]('active');if(_0x4f45b8)_0x4f45b8['classList'][_0x1d7133(0x2cf)](_0x1d7133(0x72f));if(_0x176cf4)_0x176cf4['classList'][_0x1d7133(0x2cf)](_0x1d7133(0x72f));topicInputArea[_0x1d7133(0x2ff)]['remove'](_0x1d7133(0xad0)),textInputArea[_0x1d7133(0x2ff)]['add'](_0x1d7133(0xad0)),fileInputArea['classList'][_0x1d7133(0x30d)](_0x1d7133(0xad0)),worksheetInputArea[_0x1d7133(0x2ff)][_0x1d7133(0x30d)](_0x1d7133(0xad0));if(_0x864389)_0x864389['classList']['add']('hidden');if(_0x3e8287)_0x3e8287['classList']['add']('hidden');if(_0x554d5a)_0x554d5a[_0x1d7133(0x2ff)][_0x1d7133(0x30d)](_0x1d7133(0xad0));}),textTab['addEventListener']('click',()=>{const _0xe77d5a=_0x6f1056;textTab[_0xe77d5a(0x2ff)][_0xe77d5a(0x30d)]('active'),topicTab['classList'][_0xe77d5a(0x2cf)](_0xe77d5a(0x72f)),fileTab['classList'][_0xe77d5a(0x2cf)](_0xe77d5a(0x72f)),worksheetTab[_0xe77d5a(0x2ff)][_0xe77d5a(0x2cf)](_0xe77d5a(0x72f));if(_0x36df1c)_0x36df1c[_0xe77d5a(0x2ff)][_0xe77d5a(0x2cf)](_0xe77d5a(0x72f));if(_0x4f45b8)_0x4f45b8['classList'][_0xe77d5a(0x2cf)](_0xe77d5a(0x72f));if(_0x176cf4)_0x176cf4[_0xe77d5a(0x2ff)]['remove']('active');textInputArea[_0xe77d5a(0x2ff)][_0xe77d5a(0x2cf)](_0xe77d5a(0xad0)),topicInputArea[_0xe77d5a(0x2ff)][_0xe77d5a(0x30d)](_0xe77d5a(0xad0)),fileInputArea[_0xe77d5a(0x2ff)][_0xe77d5a(0x30d)](_0xe77d5a(0xad0)),worksheetInputArea[_0xe77d5a(0x2ff)][_0xe77d5a(0x30d)]('hidden');if(_0x864389)_0x864389[_0xe77d5a(0x2ff)][_0xe77d5a(0x30d)](_0xe77d5a(0xad0));if(_0x3e8287)_0x3e8287['classList'][_0xe77d5a(0x30d)](_0xe77d5a(0xad0));if(_0x554d5a)_0x554d5a['classList'][_0xe77d5a(0x30d)]('hidden');}),fileTab[_0x6f1056(0xdd3)]('click',()=>{const _0x37917a=_0x6f1056;fileTab[_0x37917a(0x2ff)][_0x37917a(0x30d)](_0x37917a(0x72f)),topicTab[_0x37917a(0x2ff)]['remove'](_0x37917a(0x72f)),textTab[_0x37917a(0x2ff)]['remove'](_0x37917a(0x72f)),worksheetTab[_0x37917a(0x2ff)][_0x37917a(0x2cf)]('active');if(_0x36df1c)_0x36df1c[_0x37917a(0x2ff)][_0x37917a(0x2cf)](_0x37917a(0x72f));if(_0x4f45b8)_0x4f45b8[_0x37917a(0x2ff)][_0x37917a(0x2cf)](_0x37917a(0x72f));if(_0x176cf4)_0x176cf4[_0x37917a(0x2ff)]['remove']('active');fileInputArea[_0x37917a(0x2ff)][_0x37917a(0x2cf)]('hidden'),topicInputArea[_0x37917a(0x2ff)][_0x37917a(0x30d)](_0x37917a(0xad0)),textInputArea[_0x37917a(0x2ff)][_0x37917a(0x30d)]('hidden'),worksheetInputArea['classList'][_0x37917a(0x30d)](_0x37917a(0xad0));if(_0x864389)_0x864389[_0x37917a(0x2ff)][_0x37917a(0x30d)](_0x37917a(0xad0));if(_0x3e8287)_0x3e8287[_0x37917a(0x2ff)][_0x37917a(0x30d)](_0x37917a(0xad0));if(_0x554d5a)_0x554d5a['classList'][_0x37917a(0x30d)](_0x37917a(0xad0));}),worksheetTab[_0x6f1056(0xdd3)]('click',()=>{const _0x522c97=_0x6f1056;worksheetTab['classList']['add'](_0x522c97(0x72f)),topicTab[_0x522c97(0x2ff)][_0x522c97(0x2cf)]('active'),textTab[_0x522c97(0x2ff)][_0x522c97(0x2cf)]('active'),fileTab[_0x522c97(0x2ff)][_0x522c97(0x2cf)]('active');if(_0x36df1c)_0x36df1c[_0x522c97(0x2ff)]['remove'](_0x522c97(0x72f));if(_0x4f45b8)_0x4f45b8['classList'][_0x522c97(0x2cf)]('active');if(_0x176cf4)_0x176cf4[_0x522c97(0x2ff)][_0x522c97(0x2cf)]('active');worksheetInputArea[_0x522c97(0x2ff)][_0x522c97(0x2cf)](_0x522c97(0xad0)),topicInputArea[_0x522c97(0x2ff)][_0x522c97(0x30d)]('hidden'),textInputArea['classList']['add']('hidden'),fileInputArea[_0x522c97(0x2ff)][_0x522c97(0x30d)](_0x522c97(0xad0));if(_0x864389)_0x864389[_0x522c97(0x2ff)][_0x522c97(0x30d)](_0x522c97(0xad0));if(_0x3e8287)_0x3e8287[_0x522c97(0x2ff)][_0x522c97(0x30d)](_0x522c97(0xad0));if(_0x554d5a)_0x554d5a[_0x522c97(0x2ff)]['add'](_0x522c97(0xad0));});const _0x4ef935=document['getElementById'](_0x6f1056(0x8f8)),_0x33a97c=document[_0x6f1056(0x2f7)](_0x6f1056(0xa2a));_0x4ef935&&_0x4ef935[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0xa6ec08=_0x6f1056;topicTab[_0xa6ec08(0x2ff)][_0xa6ec08(0x2cf)](_0xa6ec08(0x72f)),textTab[_0xa6ec08(0x2ff)][_0xa6ec08(0x2cf)]('active'),fileTab[_0xa6ec08(0x2ff)][_0xa6ec08(0x2cf)]('active'),worksheetTab[_0xa6ec08(0x2ff)][_0xa6ec08(0x2cf)](_0xa6ec08(0x72f));if(_0x36df1c)_0x36df1c[_0xa6ec08(0x2ff)]['remove']('active');if(_0x4f45b8)_0x4f45b8[_0xa6ec08(0x2ff)][_0xa6ec08(0x2cf)](_0xa6ec08(0x72f));if(_0x176cf4)_0x176cf4[_0xa6ec08(0x2ff)][_0xa6ec08(0x2cf)]('active');_0x4ef935[_0xa6ec08(0x2ff)][_0xa6ec08(0x30d)](_0xa6ec08(0x72f)),topicInputArea[_0xa6ec08(0x2ff)][_0xa6ec08(0x30d)](_0xa6ec08(0xad0)),textInputArea['classList'][_0xa6ec08(0x30d)](_0xa6ec08(0xad0)),fileInputArea[_0xa6ec08(0x2ff)][_0xa6ec08(0x30d)]('hidden'),worksheetInputArea['classList'][_0xa6ec08(0x30d)]('hidden');if(_0x864389)_0x864389[_0xa6ec08(0x2ff)][_0xa6ec08(0x30d)](_0xa6ec08(0xad0));if(_0x3e8287)_0x3e8287[_0xa6ec08(0x2ff)]['add']('hidden');if(_0x554d5a)_0x554d5a[_0xa6ec08(0x2ff)][_0xa6ec08(0x30d)](_0xa6ec08(0xad0));_0x33a97c[_0xa6ec08(0x2ff)][_0xa6ec08(0x2cf)](_0xa6ec08(0xad0)),displayQuestionBank();});_0x36df1c&&(_0x36df1c[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x5b08d0=_0x6f1056;_0x36df1c[_0x5b08d0(0x2ff)]['add'](_0x5b08d0(0x72f)),topicTab[_0x5b08d0(0x2ff)][_0x5b08d0(0x2cf)](_0x5b08d0(0x72f)),textTab[_0x5b08d0(0x2ff)][_0x5b08d0(0x2cf)](_0x5b08d0(0x72f)),fileTab[_0x5b08d0(0x2ff)][_0x5b08d0(0x2cf)](_0x5b08d0(0x72f)),worksheetTab[_0x5b08d0(0x2ff)]['remove'](_0x5b08d0(0x72f));if(_0x4f45b8)_0x4f45b8[_0x5b08d0(0x2ff)]['remove'](_0x5b08d0(0x72f));if(_0x176cf4)_0x176cf4[_0x5b08d0(0x2ff)][_0x5b08d0(0x2cf)](_0x5b08d0(0x72f));_0x864389[_0x5b08d0(0x2ff)]['remove'](_0x5b08d0(0xad0)),topicInputArea['classList'][_0x5b08d0(0x30d)](_0x5b08d0(0xad0)),textInputArea[_0x5b08d0(0x2ff)][_0x5b08d0(0x30d)](_0x5b08d0(0xad0)),fileInputArea[_0x5b08d0(0x2ff)][_0x5b08d0(0x30d)](_0x5b08d0(0xad0)),worksheetInputArea[_0x5b08d0(0x2ff)][_0x5b08d0(0x30d)]('hidden');if(_0x3e8287)_0x3e8287['classList'][_0x5b08d0(0x30d)]('hidden');if(_0x554d5a)_0x554d5a[_0x5b08d0(0x2ff)]['add'](_0x5b08d0(0xad0));}),document[_0x6f1056(0x2f7)]('generate-from-link-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleGenerateFromLink));_0x4f45b8&&_0x4f45b8[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x5b4708=_0x6f1056;_0x4f45b8[_0x5b4708(0x2ff)][_0x5b4708(0x30d)](_0x5b4708(0x72f)),topicTab[_0x5b4708(0x2ff)][_0x5b4708(0x2cf)](_0x5b4708(0x72f)),textTab['classList'][_0x5b4708(0x2cf)](_0x5b4708(0x72f)),fileTab[_0x5b4708(0x2ff)][_0x5b4708(0x2cf)]('active'),worksheetTab['classList'][_0x5b4708(0x2cf)]('active');if(_0x36df1c)_0x36df1c['classList']['remove']('active');if(_0x4ef935)_0x4ef935['classList'][_0x5b4708(0x2cf)](_0x5b4708(0x72f));if(_0x176cf4)_0x176cf4[_0x5b4708(0x2ff)][_0x5b4708(0x2cf)]('active');_0x3e8287[_0x5b4708(0x2ff)][_0x5b4708(0x2cf)](_0x5b4708(0xad0)),topicInputArea['classList']['add'](_0x5b4708(0xad0)),textInputArea[_0x5b4708(0x2ff)][_0x5b4708(0x30d)](_0x5b4708(0xad0)),fileInputArea[_0x5b4708(0x2ff)][_0x5b4708(0x30d)]('hidden'),worksheetInputArea[_0x5b4708(0x2ff)]['add'](_0x5b4708(0xad0));if(_0x864389)_0x864389[_0x5b4708(0x2ff)][_0x5b4708(0x30d)](_0x5b4708(0xad0));if(_0x33a97c)_0x33a97c[_0x5b4708(0x2ff)][_0x5b4708(0x30d)](_0x5b4708(0xad0));if(_0x554d5a)_0x554d5a[_0x5b4708(0x2ff)][_0x5b4708(0x30d)](_0x5b4708(0xad0));});_0x176cf4&&_0x176cf4['addEventListener'](_0x6f1056(0x754),()=>{const _0xfe7128=_0x6f1056;_0x176cf4['classList'][_0xfe7128(0x30d)](_0xfe7128(0x72f)),topicTab[_0xfe7128(0x2ff)][_0xfe7128(0x2cf)](_0xfe7128(0x72f)),textTab[_0xfe7128(0x2ff)][_0xfe7128(0x2cf)](_0xfe7128(0x72f)),fileTab[_0xfe7128(0x2ff)]['remove'](_0xfe7128(0x72f)),worksheetTab[_0xfe7128(0x2ff)][_0xfe7128(0x2cf)](_0xfe7128(0x72f));if(_0x36df1c)_0x36df1c[_0xfe7128(0x2ff)][_0xfe7128(0x2cf)](_0xfe7128(0x72f));if(_0x4f45b8)_0x4f45b8['classList']['remove'](_0xfe7128(0x72f));if(_0x4ef935)_0x4ef935['classList']['remove']('active');_0x554d5a['classList']['remove'](_0xfe7128(0xad0)),topicInputArea['classList'][_0xfe7128(0x30d)](_0xfe7128(0xad0)),textInputArea[_0xfe7128(0x2ff)][_0xfe7128(0x30d)]('hidden'),fileInputArea[_0xfe7128(0x2ff)]['add'](_0xfe7128(0xad0)),worksheetInputArea[_0xfe7128(0x2ff)]['add'](_0xfe7128(0xad0));if(_0x864389)_0x864389[_0xfe7128(0x2ff)]['add'](_0xfe7128(0xad0));if(_0x3e8287)_0x3e8287[_0xfe7128(0x2ff)][_0xfe7128(0x30d)](_0xfe7128(0xad0));if(_0x33a97c)_0x33a97c[_0xfe7128(0x2ff)][_0xfe7128(0x30d)](_0xfe7128(0xad0));});const _0x186095=document[_0x6f1056(0x2f7)](_0x6f1056(0xa8d)),_0x40e755=document['getElementById'](_0x6f1056(0x45d));if(_0x186095){const _0x30b76d=document['getElementById'](_0x6f1056(0xa8d)),_0x36bb67=document[_0x6f1056(0x2f7)](_0x6f1056(0x45d)),_0x5c48ab=document[_0x6f1056(0x2f7)](_0x6f1056(0xd94)),_0x2dad57=document[_0x6f1056(0x2f7)](_0x6f1056(0x4cd)),_0x52ed54=document[_0x6f1056(0x2f7)](_0x6f1056(0x7c1)),_0x737ea0=document['getElementById'](_0x6f1056(0x21e));_0x30b76d&&_0x30b76d['addEventListener'](_0x6f1056(0x9af),async _0x2fa8f3=>{const _0x3c92b1=_0x6f1056;_0x5c48ab[_0x3c92b1(0x2ff)]['add'](_0x3c92b1(0xad0)),_0x52ed54[_0x3c92b1(0x2ff)][_0x3c92b1(0x30d)](_0x3c92b1(0xad0)),_0x2dad57[_0x3c92b1(0x28f)]=![],_0x36bb67['disabled']=!![];const _0x2f3b0b=_0x2fa8f3[_0x3c92b1(0x898)]['files'][0x0];if(_0x2f3b0b){_0x36bb67[_0x3c92b1(0x687)]=![];try{const _0x1056db=await extractTextFromPdf(_0x2f3b0b);await analyzeBlueprintForTopics(_0x1056db);}catch(_0xff5331){showMessage(_0x3c92b1(0x4ff)),_0x5c48ab[_0x3c92b1(0x2ff)][_0x3c92b1(0x30d)]('hidden');}}}),_0x2dad57&&_0x2dad57[_0x6f1056(0xdd3)](_0x6f1056(0x9af),_0x23d2d4=>{const _0x2f308b=_0x6f1056,_0x306001=_0x23d2d4['target'][_0x2f308b(0x28f)];_0x52ed54['classList'][_0x2f308b(0x65e)](_0x2f308b(0xad0),!_0x306001),_0x36bb67['disabled']=_0x306001;}),_0x737ea0&&(_0x737ea0&&_0x737ea0[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x11c7ec=>{const _0x1564cc=_0x6f1056,_0x4aeeaf=_0x11c7ec[_0x1564cc(0x898)][_0x1564cc(0xb5f)]('.topic-selection-btn'),_0x4060c1=_0x11c7ec[_0x1564cc(0x898)][_0x1564cc(0xb5f)](_0x1564cc(0xc5b));if(_0x4aeeaf){const _0x57d008=unescape(_0x4aeeaf[_0x1564cc(0x683)][_0x1564cc(0x9ce)]);generateQuizForSingleTopic(_0x57d008);}else{if(_0x4060c1){const _0x20c85a=unescape(_0x4060c1[_0x1564cc(0x683)]['topic']);handleGenerateTeachingContent(_0x20c85a);}}}));}_0x40e755&&_0x40e755[_0x6f1056(0xdd3)]('click',handleGenerateFromBlueprint);const _0x115f33=document[_0x6f1056(0x2f7)](_0x6f1056(0xbdd)),_0x332313=document[_0x6f1056(0x2f7)](_0x6f1056(0xc95));_0x115f33&&_0x115f33[_0x6f1056(0xdd3)](_0x6f1056(0x9af),_0x33604f=>{const _0x1df849=_0x6f1056;_0x332313[_0x1df849(0x687)]=_0x33604f[_0x1df849(0x898)][_0x1df849(0x652)][_0x1df849(0x2b5)]===0x0;});_0x332313&&_0x332313[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x5183a2=_0x6f1056,_0x3a6ff0=document[_0x5183a2(0x2f7)](_0x5183a2(0x79d));currentStudentName=_0x3a6ff0[_0x5183a2(0x5b6)];if(!currentStudentName){showMessage(_0x5183a2(0xb51));return;}try{const _0x37602f=currentQuizData['id'],_0x355f1e=doc(db,'artifacts/'+appId+_0x5183a2(0x71c)+_0x37602f+_0x5183a2(0x942),currentStudentName),_0x5840c4=await getDoc(_0x355f1e);!_0x5840c4[_0x5183a2(0x75c)]()?await setDoc(_0x355f1e,{'studentName':currentStudentName,'startedAt':new Date()[_0x5183a2(0x67d)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x355f1e,{'startedAt':new Date()['toISOString']()});}catch(_0x263a46){console[_0x5183a2(0x274)](_0x5183a2(0xc70),_0x263a46),showMessage(_0x5183a2(0x761));return;}studentNameSelectionView['classList'][_0x5183a2(0x30d)](_0x5183a2(0xad0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x6f1056(0xcc4))[_0x6f1056(0xdd3)]('click',showJoinGameView),document[_0x6f1056(0x2f7)](_0x6f1056(0xcce))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleJoinLiveGame),document['getElementById'](_0x6f1056(0x77a))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>showView(_0x6f1056(0xc2d)));const _0x4a4814=()=>{const _0x51bf84=_0x6f1056,_0xe7fa86=document[_0x51bf84(0x2f7)]('results-quiz-title')[_0x51bf84(0xa28)][_0x51bf84(0xbbe)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x51bf84(0x60b)+(_0xe7fa86||_0x51bf84(0x658));},_0xae8ae=document['getElementById'](_0x6f1056(0x1c4));_0xae8ae&&_0xae8ae[_0x6f1056(0xdd3)](_0x6f1056(0xe09),_0x3188b8=>{const _0x4916bf=_0x6f1056,_0x45ba67=_0x3188b8[_0x4916bf(0x898)][_0x4916bf(0x5b6)]['toLowerCase']()[_0x4916bf(0xe11)](),_0x4af17e=document['getElementById'](_0x4916bf(0xc09)),_0x4d2559=_0x4af17e['querySelectorAll'](_0x4916bf(0xbe9));_0x4d2559['forEach'](_0x3bc144=>{const _0x1d0f80=_0x4916bf;let _0x17ef56=![];const _0x1bacfd=_0x3bc144[_0x1d0f80(0x4cb)]('.topic-row');_0x1bacfd[_0x1d0f80(0x616)](_0x292386=>{const _0x5585d1=_0x1d0f80,_0x14ab63=_0x292386[_0x5585d1(0x839)](_0x5585d1(0x8a4))[_0x5585d1(0xa28)][_0x5585d1(0xcfa)]();_0x14ab63[_0x5585d1(0xcec)](_0x45ba67)?(_0x292386[_0x5585d1(0x259)][_0x5585d1(0x8aa)]=_0x5585d1(0x7e0),_0x17ef56=!![]):_0x292386[_0x5585d1(0x259)]['display']=_0x5585d1(0x346);}),_0x17ef56?_0x3bc144[_0x1d0f80(0x259)][_0x1d0f80(0x8aa)]=_0x1d0f80(0xc12):_0x3bc144[_0x1d0f80(0x259)]['display']=_0x1d0f80(0x346);});});document[_0x6f1056(0x2f7)]('export-image-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>exportTableAsImage(_0x6f1056(0x30c),_0x4a4814())),document['getElementById'](_0x6f1056(0xb86))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>exportTableAsPDF('results-table',_0x4a4814())),document[_0x6f1056(0x2f7)](_0x6f1056(0x4dc))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>exportTableAsWord(_0x6f1056(0x30c),_0x4a4814())),document[_0x6f1056(0x2f7)](_0x6f1056(0x9a1))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>exportTableAsExcel('results-table',_0x4a4814()));const _0x4d801a=()=>{const _0x2cacd4=_0x6f1056,_0x4bea0e=document[_0x2cacd4(0x2f7)](_0x2cacd4(0x449))[_0x2cacd4(0xa28)]['replace'](/[^a-z0-9]/gi,'_')[_0x2cacd4(0xcfa)]();return _0x2cacd4(0xd8f)+(_0x4bea0e||_0x2cacd4(0x658));};document[_0x6f1056(0x2f7)](_0x6f1056(0x4fe))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4d801a())),document[_0x6f1056(0x2f7)]('export-leaderboard-pdf-btn')['addEventListener'](_0x6f1056(0x754),()=>exportTableAsPDF('quiz-leaderboard-table',_0x4d801a())),document[_0x6f1056(0x2f7)](_0x6f1056(0xcfb))['addEventListener']('click',()=>exportTableAsWord(_0x6f1056(0x49f),_0x4d801a())),document[_0x6f1056(0x2f7)](_0x6f1056(0x6d0))[_0x6f1056(0xdd3)]('click',()=>exportTableAsExcel('quiz-leaderboard-table',_0x4d801a())),projectQuizzesList[_0x6f1056(0xdd3)](_0x6f1056(0x754),async _0x397cdf=>{const _0x3cab61=_0x6f1056,_0x1f916f=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)]('.quiz-result-card'),_0x39d334=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0x69c)),_0x28ca93=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)]('.compare-results-btn'),_0x2251ec=_0x397cdf[_0x3cab61(0x898)]['closest'](_0x3cab61(0xae8)),_0x463fad=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)]('.star-quiz-btn'),_0x569251=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0xc3b)),_0x439749=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0x329)),_0x593aae=_0x397cdf['target'][_0x3cab61(0xb5f)](_0x3cab61(0x378)),_0xd8709b=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0x58a)),_0x321b51=_0x397cdf[_0x3cab61(0x898)]['closest'](_0x3cab61(0x8d8)),_0x50f01e=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0x47a)),_0x5ef13d=_0x397cdf[_0x3cab61(0x898)]['closest'](_0x3cab61(0x892)),_0x26fdc3=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)]('.pair-quiz-btn'),_0x42992d=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0x37b)),_0x5a2e80=_0x397cdf['target'][_0x3cab61(0xb5f)]('.start-presentation-list-btn'),_0x16ce8a=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)]('.admin-try-quiz-list-btn'),_0x432a9f=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0xb40)),_0xc32642=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0x7c7)),_0x1b44f1=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0xd3c)),_0x1adb88=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)]('.toggle-actions-btn'),_0x131377=_0x397cdf[_0x3cab61(0x898)][_0x3cab61(0xb5f)](_0x3cab61(0x5d4)),_0x13548d=_0x397cdf['target']['closest'](_0x3cab61(0x82a)),_0x2015ff=_0x397cdf[_0x3cab61(0x898)]['closest'](_0x3cab61(0x2bb));if(_0x13548d){const _0x13eeae=_0x13548d[_0x3cab61(0x683)]['quizId'],_0x724033=_0x13548d['dataset']['mode'],_0x17a652=allQuizzes['find'](_0x1fe2a8=>_0x1fe2a8['id']===_0x13eeae);_0x17a652&&showGameStartConfirmationModal(_0x13eeae,_0x724033,_0x17a652[_0x3cab61(0x9ce)]);}else{if(_0x2015ff){const _0x31fedb=_0x2015ff[_0x3cab61(0x683)][_0x3cab61(0xb99)];handleStartLiveRace(_0x31fedb);}else{if(_0x1adb88){const _0x411f5b=_0x1adb88[_0x3cab61(0x683)][_0x3cab61(0xb99)],_0x2acccb=document[_0x3cab61(0x2f7)](_0x3cab61(0x4b4)+_0x411f5b);_0x2acccb&&_0x2acccb['classList'][_0x3cab61(0x65e)](_0x3cab61(0xad0));}else{if(_0x39d334){const _0x3bb035=_0x39d334['dataset'][_0x3cab61(0xb99)],_0x3cfbf7=allQuizzes[_0x3cab61(0x266)](_0x126528=>_0x126528['id']===_0x3bb035);_0x3cfbf7&&handleGenerateParallelPostTest(_0x3cfbf7);}else{if(_0x28ca93)handleCompareResults(_0x28ca93[_0x3cab61(0x683)]['quizId'],_0x28ca93[_0x3cab61(0x683)][_0x3cab61(0x7de)]);else{if(_0x2251ec){const _0x3573eb=_0x2251ec[_0x3cab61(0x683)][_0x3cab61(0xb99)],_0xc20033=allQuizzes['find'](_0x3e8597=>_0x3e8597['id']===_0x3573eb);_0xc20033&&_0xc20033['lessonPlan']?(displayLessonPlan(_0xc20033['lessonPlan'],_0xc20033),showConfirmation(_0x3cab61(0xc0c),()=>handleGenerateLessonPlan(_0x3573eb)),document[_0x3cab61(0x2f7)](_0x3cab61(0x232))[_0x3cab61(0x839)]('h3')[_0x3cab61(0xa28)]='แผนการสอน',document['getElementById']('confirm-delete-btn')[_0x3cab61(0xa28)]=_0x3cab61(0xa48)):handleGenerateLessonPlan(_0x3573eb);}else{if(_0x463fad)handleToggleStarQuiz(_0x463fad[_0x3cab61(0x683)][_0x3cab61(0xb99)]);else{if(_0x569251)copyTextToClipboard(_0x569251[_0x3cab61(0x683)]['quizId'],_0x3cab61(0xd82));else{if(_0x439749)handleOpenQuizEditor(_0x439749[_0x3cab61(0x683)][_0x3cab61(0xb99)]);else{if(_0x593aae)handleQuizSettings(_0x593aae[_0x3cab61(0x683)][_0x3cab61(0xb99)]);else{if(_0xd8709b)handleDuplicateQuiz(_0xd8709b[_0x3cab61(0x683)][_0x3cab61(0xb99)]);else{if(_0x321b51)handleRenameQuiz(_0x321b51['dataset'][_0x3cab61(0xb99)],_0x321b51[_0x3cab61(0x683)][_0x3cab61(0x9ce)]);else{if(_0x50f01e){const _0xda2dc7=_0x50f01e['dataset'][_0x3cab61(0xb99)],_0x467254=allQuizzes[_0x3cab61(0x266)](_0x532f0d=>_0x532f0d['id']===_0xda2dc7);_0x467254&&handleGenerateParallelFromBank(_0x467254);}else{if(_0x5ef13d)handleMoveQuiz(_0x5ef13d['dataset'][_0x3cab61(0xb99)]);else{if(_0x26fdc3)handleManualQuizPairing(_0x26fdc3['dataset'][_0x3cab61(0xb99)]);else{if(_0x42992d)handleUnpairQuiz(_0x42992d[_0x3cab61(0x683)]['quizId']);else{if(_0x5a2e80){const _0x1147cd=_0x5a2e80[_0x3cab61(0x683)][_0x3cab61(0xb99)],_0x481b8b=allQuizzes[_0x3cab61(0x266)](_0x58615c=>_0x58615c['id']===_0x1147cd);if(_0x481b8b)startPresentation(_0x481b8b);}else{if(_0x16ce8a){const _0x42cec2=_0x16ce8a[_0x3cab61(0x683)][_0x3cab61(0xb99)],_0x1f643e=allQuizzes[_0x3cab61(0x266)](_0x324a9d=>_0x324a9d['id']===_0x42cec2);_0x1f643e&&(currentQuizData=_0x1f643e,startAdminTest());}else{if(_0x432a9f)actionTargetId=_0x432a9f[_0x3cab61(0x683)][_0x3cab61(0xb99)],document[_0x3cab61(0x2f7)](_0x3cab61(0x90e))[_0x3cab61(0x2ff)]['remove'](_0x3cab61(0xad0));else{if(_0xc32642)showConfirmation(_0x3cab61(0x3e1)+_0xc32642[_0x3cab61(0x683)][_0x3cab61(0x9ce)]+_0x3cab61(0xb50),()=>handleDeleteQuiz(_0xc32642[_0x3cab61(0x683)]['quizId']));else{if(_0x1b44f1)handleQuizStatus(_0x1b44f1[_0x3cab61(0x683)][_0x3cab61(0xb99)]);else{if(_0x131377)handleGenerateEasyVersionQuiz(_0x131377['dataset'][_0x3cab61(0xb99)]);else _0x1f916f&&showQuizDetailView(_0x1f916f[_0x3cab61(0x683)][_0x3cab61(0xb99)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x8a2))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>showView('student')),document['getElementById'](_0x6f1056(0x3de))[_0x6f1056(0xdd3)](_0x6f1056(0x754),confirmAndStartTeamQuiz),document[_0x6f1056(0x2f7)](_0x6f1056(0xba8))['querySelector']('thead')['addEventListener'](_0x6f1056(0x754),_0x21bdd3=>{const _0x2d3ce4=_0x6f1056,_0x13e942=_0x21bdd3[_0x2d3ce4(0x898)][_0x2d3ce4(0xb5f)](_0x2d3ce4(0x949));if(!_0x13e942||!_0x13e942['dataset'][_0x2d3ce4(0x423)])return;const _0x4a6968=_0x13e942[_0x2d3ce4(0x683)][_0x2d3ce4(0x423)];if(quizLeaderboardSortBy===_0x4a6968)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?'desc':_0x2d3ce4(0xbee);else{quizLeaderboardSortBy=_0x4a6968;const _0x232172=[_0x2d3ce4(0xae4)];quizLeaderboardSortOrder=_0x232172[_0x2d3ce4(0xcec)](_0x4a6968)?_0x2d3ce4(0xbee):_0x2d3ce4(0x95e);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x2d3ce4(0x829));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x8a0))['addEventListener'](_0x6f1056(0x754),closePresentation),document[_0x6f1056(0x2f7)](_0x6f1056(0x9fc))['addEventListener'](_0x6f1056(0x754),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x6f1056(0xd79))[_0x6f1056(0xdd3)]('click',()=>{const _0x391390=_0x6f1056;currentQuizData[_0x391390(0xc33)]&&currentPresentationSlide<currentQuizData[_0x391390(0xc33)][_0x391390(0x2b5)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x6f1056(0xdd3)](_0x6f1056(0x6a3),()=>{const _0x521280=_0x6f1056;!document[_0x521280(0xe14)]&&(presentationModal['style'][_0x521280(0x8aa)]=_0x521280(0x346));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x5e4))[_0x6f1056(0xdd3)]('click',handleDeleteAllStudents),studentList[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x2d94de=>{const _0x2e0582=_0x6f1056,_0x1e7229=_0x2d94de[_0x2e0582(0x898)][_0x2e0582(0xb5f)](_0x2e0582(0x9fa));if(_0x1e7229){const _0xe59dd3=_0x1e7229[_0x2e0582(0x683)][_0x2e0582(0xae4)];handleDeleteStudent(_0xe59dd3);}}),document['getElementById']('generate-from-file-btn')['addEventListener'](_0x6f1056(0x754),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x6f1056(0x9af),_0xb030f1=>{const _0x4ee278=_0x6f1056,_0x305faa=_0xb030f1[_0x4ee278(0x898)][_0x4ee278(0x652)][0x0],_0x21921e=document[_0x4ee278(0x2f7)](_0x4ee278(0xb5e)),_0x2718f1=document[_0x4ee278(0x2f7)](_0x4ee278(0x835)),_0x4dbd46=document['getElementById'](_0x4ee278(0x95a));_0x305faa?(selectedFile=_0x305faa,_0x4dbd46[_0x4ee278(0x28f)]?(_0x21921e[_0x4ee278(0x687)]=!![],analyzeFileForTopics(_0x305faa)):(_0x21921e[_0x4ee278(0x687)]=![],_0x2718f1[_0x4ee278(0x2ff)][_0x4ee278(0x30d)]('hidden'))):(selectedFile=null,_0x21921e['disabled']=!![],_0x2718f1[_0x4ee278(0x2ff)][_0x4ee278(0x30d)](_0x4ee278(0xad0)));}),document['getElementById'](_0x6f1056(0x95a))[_0x6f1056(0xdd3)]('change',_0x452a38=>{const _0x5c9166=_0x6f1056,_0x4c9496=_0x452a38[_0x5c9166(0x898)][_0x5c9166(0x28f)],_0x14cbdf=document[_0x5c9166(0x2f7)](_0x5c9166(0xb5e)),_0x32fb9e=document[_0x5c9166(0x2f7)](_0x5c9166(0x835));_0x4c9496?(_0x14cbdf[_0x5c9166(0x687)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x32fb9e['classList'][_0x5c9166(0x2cf)]('hidden'),document['getElementById'](_0x5c9166(0x495))[_0x5c9166(0x8c4)]=_0x5c9166(0xa6f))):(_0x32fb9e[_0x5c9166(0x2ff)][_0x5c9166(0x30d)]('hidden'),_0x14cbdf[_0x5c9166(0x687)]=!selectedFile);}),document['getElementById']('file-topics-list-container')['addEventListener'](_0x6f1056(0x754),_0x413245=>{const _0x19408c=_0x6f1056,_0x2aa69b=_0x413245[_0x19408c(0x898)]['closest'](_0x19408c(0x797)),_0x27256b=_0x413245[_0x19408c(0x898)][_0x19408c(0xb5f)](_0x19408c(0xc5b));if(_0x2aa69b){const _0x3ecd70=unescape(_0x2aa69b[_0x19408c(0x683)][_0x19408c(0x9ce)]);generateHybridQuizForTopic(_0x3ecd70);}else{if(_0x27256b){const _0x3aa5b4=unescape(_0x27256b[_0x19408c(0x683)][_0x19408c(0x9ce)]),_0x1e374a=document['getElementById'](_0x19408c(0x8f0))['value'];handleGenerateAndShowLesson(_0x3aa5b4,_0x1e374a);}}}),document[_0x6f1056(0x2f7)]('timer-mode-select')[_0x6f1056(0xdd3)]('change',_0x5a819a=>{const _0x3f9a9b=_0x6f1056,_0x4cbfe7=document[_0x3f9a9b(0x2f7)](_0x3f9a9b(0xc15)),_0x3f7573=document[_0x3f9a9b(0x2f7)](_0x3f9a9b(0x4b6)),_0x14f56b=document[_0x3f9a9b(0x2f7)](_0x3f9a9b(0x97a));_0x5a819a['target'][_0x3f9a9b(0x5b6)]==='none'?_0x4cbfe7[_0x3f9a9b(0x2ff)][_0x3f9a9b(0x30d)](_0x3f9a9b(0xad0)):(_0x4cbfe7[_0x3f9a9b(0x2ff)]['remove']('hidden'),_0x5a819a['target'][_0x3f9a9b(0x5b6)]===_0x3f9a9b(0xbec)?(_0x3f7573[_0x3f9a9b(0xa28)]=_0x3f9a9b(0xdc7),_0x14f56b[_0x3f9a9b(0x5b6)]='10'):(_0x3f7573[_0x3f9a9b(0xa28)]=_0x3f9a9b(0xaa5),_0x14f56b[_0x3f9a9b(0x5b6)]='30'));}),document[_0x6f1056(0x2f7)](_0x6f1056(0xb3e))['addEventListener'](_0x6f1056(0x9af),_0x4da307=>{const _0x1e47a7=_0x6f1056,_0x84bfbd=document[_0x1e47a7(0x2f7)](_0x1e47a7(0x267)),_0x82e305=_0x4da307['target'][_0x1e47a7(0x5b6)],_0xf251a4=document[_0x1e47a7(0x839)]('label[for=\x22num-questions\x22]'),_0x3224ef=document[_0x1e47a7(0x2f7)](_0x1e47a7(0x7f0)),_0x3129ff=document['getElementById'](_0x1e47a7(0xc07));_0x82e305===_0x1e47a7(0xc83)?_0xf251a4['textContent']=_0x1e47a7(0x787):_0xf251a4[_0x1e47a7(0xa28)]='จำนวนข้อ:',_0x82e305===_0x1e47a7(0xc3f)||_0x82e305===_0x1e47a7(0x419)||_0x82e305==='mixed'?_0x84bfbd[_0x1e47a7(0x2ff)][_0x1e47a7(0x2cf)](_0x1e47a7(0xad0)):_0x84bfbd[_0x1e47a7(0x2ff)]['add'](_0x1e47a7(0xad0)),_0x3224ef['max']=_0x3129ff[_0x1e47a7(0x5b6)];}),document[_0x6f1056(0x2f7)](_0x6f1056(0xc07))[_0x6f1056(0xdd3)]('input',_0x1368d5=>{const _0xf630c7=_0x6f1056;document[_0xf630c7(0x2f7)](_0xf630c7(0x7f0))[_0xf630c7(0x73a)]=_0x1368d5['target'][_0xf630c7(0x5b6)];}),document[_0x6f1056(0x2f7)]('modal-timer-mode-select')[_0x6f1056(0xdd3)](_0x6f1056(0x9af),_0x3d9ac6=>{const _0x355384=_0x6f1056,_0x5d690c=document[_0x355384(0x2f7)](_0x355384(0xa0c)),_0x1f5799=document[_0x355384(0x2f7)](_0x355384(0xa7b)),_0x39aa58=document['getElementById'](_0x355384(0x99e));_0x3d9ac6[_0x355384(0x898)][_0x355384(0x5b6)]==='none'?_0x5d690c[_0x355384(0x2ff)][_0x355384(0x30d)]('hidden'):(_0x5d690c['classList'][_0x355384(0x2cf)](_0x355384(0xad0)),_0x3d9ac6['target']['value']===_0x355384(0xbec)?_0x1f5799[_0x355384(0xa28)]=_0x355384(0xdc7):_0x1f5799[_0x355384(0xa28)]=_0x355384(0xaa5));}),document[_0x6f1056(0x2f7)](_0x6f1056(0xb54))[_0x6f1056(0xdd3)]('click',()=>{const _0x514e7c=_0x6f1056;document[_0x514e7c(0x2f7)](_0x514e7c(0xb4f))[_0x514e7c(0x2ff)][_0x514e7c(0x30d)]('hidden');}),document[_0x6f1056(0x2f7)](_0x6f1056(0xa1d))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x2679db=_0x6f1056;document[_0x2679db(0x2f7)](_0x2679db(0xb4f))[_0x2679db(0x2ff)][_0x2679db(0x30d)](_0x2679db(0xad0));}),document['getElementById']('verify-answers-editor-btn')[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleVerifyAnswersInEditor),document['getElementById'](_0x6f1056(0xe0b))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x493ef2=_0x6f1056;document['getElementById'](_0x493ef2(0xb4f))[_0x493ef2(0x2ff)][_0x493ef2(0x30d)](_0x493ef2(0xad0)),showConfirmation(_0x493ef2(0x75a),handleSaveChanges);}),document[_0x6f1056(0x2f7)](_0x6f1056(0xdaf))[_0x6f1056(0xdd3)](_0x6f1056(0x754),handleAutoFixLatex);const _0x5ec003=document[_0x6f1056(0x2f7)](_0x6f1056(0x8fd));_0x5ec003&&_0x5ec003['addEventListener'](_0x6f1056(0x754),_0x37c4ef=>{const _0xf58b27=_0x6f1056,_0x5e6d20=_0x37c4ef[_0xf58b27(0x898)][_0xf58b27(0xb5f)](_0xf58b27(0x579));if(_0x5e6d20){const _0x38d7db=_0x5e6d20[_0xf58b27(0xb5f)]('.question-editor-item'),_0x195a0c=parseInt(_0x38d7db[_0xf58b27(0x683)][_0xf58b27(0xa02)],0xa);handleRegenerateQuestionInEditor(_0x195a0c);return;}const _0x5155df=_0x37c4ef[_0xf58b27(0x898)][_0xf58b27(0xb5f)](_0xf58b27(0xc86));if(_0x5155df){const _0x4c5a8a=_0x5155df[_0xf58b27(0xb5f)](_0xf58b27(0x972)),_0x205b42=parseInt(_0x4c5a8a[_0xf58b27(0x683)][_0xf58b27(0xa02)],0xa);handleDeleteQuestionInEditor(_0x205b42);return;}const _0x2ac1a9=_0x37c4ef[_0xf58b27(0x898)][_0xf58b27(0xb5f)]('#add-question-editor-btn');if(_0x2ac1a9){handleAddQuestionInEditor();return;}});document['getElementById'](_0x6f1056(0x71a))[_0x6f1056(0xdd3)](_0x6f1056(0x754),openQuizBankModal),document[_0x6f1056(0x2f7)]('cancel-quiz-bank-btn')['addEventListener'](_0x6f1056(0x754),()=>{const _0x19e6b1=_0x6f1056;document['getElementById']('quiz-bank-modal')[_0x19e6b1(0x2ff)]['add'](_0x19e6b1(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x279))[_0x6f1056(0xdd3)]('input',_0x11d211=>renderQuizBankList(_0x11d211[_0x6f1056(0x898)][_0x6f1056(0x5b6)]));const _0x53ae39=document['getElementById'](_0x6f1056(0xc09));if(_0x53ae39){let _0x245652=null;_0x53ae39[_0x6f1056(0xdd3)](_0x6f1056(0x754),_0x20f135=>{const _0x282539=_0x6f1056,_0x1c3ea7=_0x20f135['target'],_0xfd1e5b=_0x1c3ea7[_0x282539(0xb5f)](_0x282539(0xd06)),_0x514066=_0x1c3ea7[_0x282539(0xb5f)](_0x282539(0x54d)),_0x305672=_0x1c3ea7[_0x282539(0xb5f)]('.save-custom-topic-btn'),_0x446662=_0x1c3ea7[_0x282539(0xb5f)](_0x282539(0x6b3));if(_0x514066){_0x20f135['preventDefault']();const _0x56cad2=_0x514066['dataset']['id'],_0xaa0796=_0x514066[_0x282539(0xb5f)](_0x282539(0x31d))['querySelector'](_0x282539(0x8a4))[_0x282539(0xa28)];showConfirmation(_0x282539(0x44b)+_0xaa0796+'\x22?',()=>handleDeleteCustomTopic(_0x56cad2));}else{if(_0xfd1e5b){_0x20f135['preventDefault']();_0x245652&&toggleTopicEditMode(_0x245652,![]);const _0xa48f7f=_0xfd1e5b[_0x282539(0xb5f)]('[data-topic-container-id]');_0x245652=_0xa48f7f,toggleTopicEditMode(_0xa48f7f,!![]);}else{if(_0x305672){_0x20f135[_0x282539(0xd5c)]();const _0x1d678b=_0x305672['dataset']['id'],_0x209f60=_0x305672[_0x282539(0xb5f)](_0x282539(0xd15)),_0x203c2f=_0x209f60['querySelector']('.topic-name-input')[_0x282539(0x5b6)];handleUpdateCustomTopic(_0x1d678b,_0x203c2f),_0x245652=null;}else{if(_0x446662){_0x20f135[_0x282539(0xd5c)]();const _0x54848c=_0x446662['closest'](_0x282539(0xd15));toggleTopicEditMode(_0x54848c,![]),_0x245652=null;}}}}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x893))['addEventListener'](_0x6f1056(0x754),()=>{const _0x43fd37=_0x6f1056;document['getElementById'](_0x43fd37(0x7aa))[_0x43fd37(0x2ff)][_0x43fd37(0x30d)](_0x43fd37(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0x319))[_0x6f1056(0xdd3)]('click',()=>{const _0x3b99b5=_0x6f1056;document[_0x3b99b5(0x2f7)](_0x3b99b5(0x7aa))[_0x3b99b5(0x2ff)][_0x3b99b5(0x30d)](_0x3b99b5(0xad0));}),document[_0x6f1056(0x2f7)]('export-lesson-pdf-btn')['addEventListener']('click',handleExportLessonPDF);}document[_0x6f1056(0x2f7)](_0x6f1056(0x818))[_0x6f1056(0xdd3)](_0x6f1056(0x754),()=>{const _0x1c2dee=_0x6f1056;document[_0x1c2dee(0x2f7)](_0x1c2dee(0x86c))[_0x1c2dee(0x2ff)][_0x1c2dee(0x30d)](_0x1c2dee(0xad0));}),document[_0x6f1056(0x2f7)](_0x6f1056(0xbc7))['addEventListener'](_0x6f1056(0x754),()=>{const _0x5430b7=_0x6f1056;document[_0x5430b7(0x2f7)](_0x5430b7(0x86c))['classList'][_0x5430b7(0x30d)]('hidden');}),setupComparisonModalTabs(),document[_0x6f1056(0x536)][_0x6f1056(0xdd3)](_0x6f1056(0x754),function(_0x1f303a){const _0x4cb632=_0x6f1056;if(_0x1f303a[_0x4cb632(0x898)][_0x4cb632(0x2ff)][_0x4cb632(0x416)](_0x4cb632(0xb45))){const _0x6176e9=unescape(_0x1f303a['target'][_0x4cb632(0x683)][_0x4cb632(0x9ce)]);startSkillPractice(_0x6176e9);}}),document[_0x6f1056(0x2f7)](_0x6f1056(0x3bc))['addEventListener'](_0x6f1056(0x754),_0x2d25da=>{const _0x172912=_0x6f1056,_0x39785d=_0x2d25da[_0x172912(0x898)][_0x172912(0xb5f)]('.delete-submission-btn');if(_0x39785d){const _0x2eb238=_0x39785d[_0x172912(0x683)]['studentName'];handleDeleteSubmission(_0x2eb238);}});}async function handleStartGroupMode(_0x585804,_0x2a709f=![]){const _0xddef58=_0x121993,_0x18eb85=allQuizzes[_0xddef58(0x266)](_0x145e7e=>_0x145e7e['id']===_0x585804)||allQuizzesGlobal['find'](_0x2eb38f=>_0x2eb38f['id']===_0x585804);if(!_0x18eb85){showMessage(_0xddef58(0x377));return;}currentQuizData=getShuffledQuiz(_0x18eb85);const _0x12b220=Math[_0xddef58(0x442)](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x5b9786=await addDoc(collection(db,_0xddef58(0x1da)+appId+'/public/data/teamQuizzes'),{'quizId':_0x18eb85['id'],'projectId':_0x18eb85[_0xddef58(0xd51)],'status':'lobby','pin':_0x12b220,'mode':_0xddef58(0x996),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2a709f});currentTeamQuizId=_0x5b9786['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x12b220,_0x18eb85[_0xddef58(0x9ce)],_0xddef58(0x996)),listenForTeamQuizUpdates();}catch(_0x50c951){console[_0xddef58(0x274)](_0xddef58(0xdfd),_0x50c951),showMessage(_0xddef58(0xc84));}}async function showStudentProgressView(){const _0x2bbc9e=_0x121993;studentInitialView[_0x2bbc9e(0x2ff)][_0x2bbc9e(0x30d)](_0x2bbc9e(0xad0)),document[_0x2bbc9e(0x2f7)](_0x2bbc9e(0x557))[_0x2bbc9e(0x2ff)][_0x2bbc9e(0x2cf)]('hidden');const _0x588f37=document[_0x2bbc9e(0x2f7)](_0x2bbc9e(0x38d)),_0x3ad29a=document[_0x2bbc9e(0x2f7)](_0x2bbc9e(0xce1)),_0x44443b=document[_0x2bbc9e(0x2f7)](_0x2bbc9e(0x62c));_0x44443b[_0x2bbc9e(0x8c4)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x3ad29a['innerHTML']=_0x2bbc9e(0x70f),_0x3ad29a[_0x2bbc9e(0x687)]=!![],_0x588f37[_0x2bbc9e(0x8c4)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x3b2af7=collection(db,_0x2bbc9e(0x1da)+appId+_0x2bbc9e(0x9f0)),_0x59c926=await getDocs(_0x3b2af7);allProjects=_0x59c926[_0x2bbc9e(0x3c3)][_0x2bbc9e(0xce7)](_0x3585ce=>({'id':_0x3585ce['id'],..._0x3585ce['data']()}));}const _0x49de90=allProjects['filter'](_0x2d46c8=>_0x2d46c8[_0x2bbc9e(0x5a5)]?.['showInStudentDashboard']!==![]);_0x49de90[_0x2bbc9e(0x423)]((_0x148fe4,_0x44e591)=>_0x148fe4[_0x2bbc9e(0x5d3)][_0x2bbc9e(0x9e4)](_0x44e591['projectName'],'th')),_0x588f37[_0x2bbc9e(0x8c4)]=_0x2bbc9e(0xa9e)+_0x49de90[_0x2bbc9e(0xce7)](_0x172e3a=>_0x2bbc9e(0xc7d)+_0x172e3a['id']+'\x22>'+_0x172e3a[_0x2bbc9e(0x5d3)]+'</option>')[_0x2bbc9e(0x5c4)](''),_0x588f37[_0x2bbc9e(0x5a1)]=()=>{const _0x1c00a5=_0x2bbc9e,_0xf88d9=_0x3ad29a[_0x1c00a5(0x5b6)],_0xcf5df0=_0x588f37[_0x1c00a5(0x5b6)];_0x3ad29a['disabled']=!![],_0x3ad29a[_0x1c00a5(0x8c4)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x44443b[_0x1c00a5(0x8c4)]=_0x1c00a5(0xcf3);if(!_0xcf5df0)return;const _0x4aee0c=allProjects[_0x1c00a5(0x266)](_0xfeee47=>_0xfeee47['id']===_0xcf5df0);if(!_0x4aee0c||!_0x4aee0c[_0x1c00a5(0x559)])return;const _0x53bc58=()=>{const _0x2faaf6=_0x1c00a5;_0x3ad29a[_0x2faaf6(0x8c4)]=_0x2faaf6(0x70f)+_0x4aee0c[_0x2faaf6(0x559)]['map'](_0x4ac41b=>_0x2faaf6(0xc7d)+_0x4ac41b+'\x22>'+_0x4ac41b+_0x2faaf6(0xbc5))[_0x2faaf6(0x5c4)](''),_0x3ad29a[_0x2faaf6(0x687)]=![];const _0x87a4a=Array[_0x2faaf6(0x8a8)](_0x3ad29a[_0x2faaf6(0x450)])[_0x2faaf6(0xce7)](_0x7d735a=>_0x7d735a['value']);if(_0xf88d9&&_0x87a4a[_0x2faaf6(0xcec)](_0xf88d9))_0x3ad29a['value']=_0xf88d9,_0x3ad29a[_0x2faaf6(0x2b4)](new Event('change'));else _0x4aee0c['students']['length']===0x1&&(_0x3ad29a['value']=_0x4aee0c[_0x2faaf6(0x559)][0x0],_0x3ad29a[_0x2faaf6(0x2b4)](new Event(_0x2faaf6(0x9af))));};if(_0x4aee0c[_0x1c00a5(0x5a5)]?.[_0x1c00a5(0x8d3)]){if(sessionStorage[_0x1c00a5(0x301)](_0x1c00a5(0xa16)+_0xcf5df0)===_0x1c00a5(0xc10)){_0x53bc58();return;}const _0x78bdcd=document[_0x1c00a5(0x2f7)](_0x1c00a5(0x398)),_0x990fb8=document[_0x1c00a5(0x2f7)](_0x1c00a5(0x547)),_0x55e994=document[_0x1c00a5(0x2f7)](_0x1c00a5(0x8c8)),_0x5e3088=document[_0x1c00a5(0x2f7)](_0x1c00a5(0x20c)),_0x4c547e=document[_0x1c00a5(0x2f7)](_0x1c00a5(0x515));document['getElementById'](_0x1c00a5(0xc72))[_0x1c00a5(0xa28)]=_0x1c00a5(0x335)+_0x4aee0c[_0x1c00a5(0x5d3)],_0x5e3088['value']='',_0x4c547e[_0x1c00a5(0x2ff)]['add'](_0x1c00a5(0xad0)),_0x78bdcd[_0x1c00a5(0x2ff)][_0x1c00a5(0x2cf)](_0x1c00a5(0xad0));const _0xf253bf=()=>{const _0xa318e2=_0x1c00a5,_0x47df69=_0x5e3088['value']['trim']();_0x47df69===_0x4aee0c[_0xa318e2(0x5a5)][_0xa318e2(0x5f8)]?(sessionStorage[_0xa318e2(0x739)](_0xa318e2(0xa16)+_0xcf5df0,'true'),_0x78bdcd[_0xa318e2(0x2ff)][_0xa318e2(0x30d)](_0xa318e2(0xad0)),_0x53bc58(),_0x990fb8[_0xa318e2(0x223)]('click',_0xf253bf)):_0x4c547e['classList'][_0xa318e2(0x2cf)](_0xa318e2(0xad0));};_0x990fb8[_0x1c00a5(0x717)]=_0xf253bf,_0x55e994[_0x1c00a5(0x717)]=()=>{const _0x58c1f8=_0x1c00a5;_0x78bdcd[_0x58c1f8(0x2ff)][_0x58c1f8(0x30d)](_0x58c1f8(0xad0)),_0x588f37[_0x58c1f8(0x5b6)]='',_0x990fb8[_0x58c1f8(0x223)](_0x58c1f8(0x754),_0xf253bf);};}else _0x53bc58();},_0x3ad29a[_0x2bbc9e(0x5a1)]=()=>{const _0x1332fc=_0x2bbc9e,_0x796959=_0x588f37[_0x1332fc(0x5b6)],_0x21458c=_0x3ad29a['value'];_0x796959&&_0x21458c&&renderStudentProgressDashboard(_0x796959,_0x21458c);};}async function confirmAndJoinSyncGame(){const _0x4a9b34=_0x121993,_0x260168=Array[_0x4a9b34(0x8a8)](document[_0x4a9b34(0x4cb)](_0x4a9b34(0xbc3)))[_0x4a9b34(0xce7)](_0x5bd5b3=>_0x5bd5b3[_0x4a9b34(0x5b6)]);if(_0x260168['length']===0x0){showMessage(_0x4a9b34(0x214));return;}localTeamPlayers=_0x260168,localPlayerTurnIndex=0x0;const _0x36c2f1=doc(db,_0x4a9b34(0x1da)+appId+_0x4a9b34(0xda1),currentLiveGameId);try{const _0x3962a9=await getDoc(_0x36c2f1);if(!_0x3962a9['exists']())throw new Error('ไม่พบเกมที่กำลังเข้าร่วม');const _0x480a34=_0x3962a9['data'](),_0xf69989=_0x480a34[_0x4a9b34(0x37a)]||_0x4a9b34(0xb7e),_0x43d2b0={};_0x260168['forEach'](_0x1711aa=>{const _0x7538ec=_0x4a9b34,_0x2b22a4=_0x480a34['players'][_0x1711aa];if(_0x2b22a4){console[_0x7538ec(0x92e)]('ผู้เล่น\x20'+_0x1711aa+'\x20กลับเข้าสู่เกม!'),_0x43d2b0[_0x7538ec(0x3d1)+_0x1711aa+'.status']='active';const _0x4e2581=_0x2b22a4[_0x7538ec(0x847)]?.[_0x2b22a4['answers']['length']-0x1],_0xc2760=!!(_0x4e2581&&_0x4e2581[_0x7538ec(0x51a)]===_0x480a34[_0x7538ec(0x21d)]);_0x43d2b0['players.'+_0x1711aa+_0x7538ec(0x271)]=_0xc2760;}else{console[_0x7538ec(0x92e)](_0x7538ec(0x3aa)+_0x1711aa+_0x7538ec(0xbf7));const _0x3465d4={'name':_0x1711aa,'score':0x0,'answered':![],'status':'active','answers':[]};_0xf69989===_0x7538ec(0x242)&&(typeof STARTING_LIVES!=='undefined'?_0x3465d4[_0x7538ec(0xa15)]=STARTING_LIVES:(console[_0x7538ec(0x274)](_0x7538ec(0x470)),_0x3465d4['lives']=0x3)),_0x43d2b0[_0x7538ec(0x3d1)+_0x1711aa]=_0x3465d4;}}),await updateDoc(_0x36c2f1,_0x43d2b0),showView(_0x4a9b34(0x40f)),document[_0x4a9b34(0x2f7)](_0x4a9b34(0x6fa))[_0x4a9b34(0x2ff)]['add'](_0x4a9b34(0xad0)),currentStudentName=_0x260168[0x0],listenForSyncGameUpdates();const _0x4abe02={'gameId':currentLiveGameId,'mode':_0x4a9b34(0x6a7),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4a9b34(0x739)]('activeGameSession',JSON['stringify'](_0x4abe02)),currentMode!==_0x4a9b34(0x913)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x4a9b34(0xdd3)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x4a9b34(0xdd3)](_0x4a9b34(0xc8c),resetDimTimer),window[_0x4a9b34(0xdd3)]('mousedown',resetDimTimer),window[_0x4a9b34(0xdd3)](_0x4a9b34(0xa47),resetDimTimer),window[_0x4a9b34(0xdd3)](_0x4a9b34(0x6fe),resetDimTimer),resetDimTimer());}catch(_0x545bff){console[_0x4a9b34(0x274)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x545bff),showMessage(_0x4a9b34(0x741)+_0x545bff[_0x4a9b34(0x5e6)]);}}async function resumeActiveGameSession(){const _0x55cf94=_0x121993,_0x373651=sessionStorage[_0x55cf94(0x301)](_0x55cf94(0xe1b));if(!_0x373651)return;const _0x36eb65=JSON['parse'](_0x373651),{gameId:_0x3da642,mode:_0x414223,players:_0x42690f,turnIndex:_0x2770de}=_0x36eb65;try{let _0x4e31a4,_0x2292f9;_0x414223===_0x55cf94(0x6a7)?_0x4e31a4=doc(db,_0x55cf94(0x1da)+appId+'/public/data/syncGames',_0x3da642):_0x4e31a4=doc(db,_0x55cf94(0x1da)+appId+'/public/data/teamQuizzes',_0x3da642);_0x2292f9=await getDoc(_0x4e31a4);if(!_0x2292f9[_0x55cf94(0x75c)]()||_0x2292f9[_0x55cf94(0x72a)]()['status']===_0x55cf94(0x537)||_0x2292f9['data']()[_0x55cf94(0x2d4)]==='podium'){sessionStorage[_0x55cf94(0x37f)]('activeGameSession');return;}console[_0x55cf94(0x92e)](_0x55cf94(0x545)+_0x414223+'\x20(ID:\x20'+_0x3da642+')'),localTeamPlayers=_0x42690f,localPlayerTurnIndex=_0x2770de;if(_0x414223===_0x55cf94(0x6a7))currentLiveGameId=_0x3da642,currentStudentName=_0x42690f[0x0],showView(_0x55cf94(0x40f)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x3da642;const _0x19b99f=_0x2292f9[_0x55cf94(0x72a)](),_0xc29cee=doc(db,_0x55cf94(0x1da)+appId+_0x55cf94(0x653),_0x19b99f[_0x55cf94(0xb99)]),_0x4efec3=await getDoc(_0xc29cee);_0x4efec3['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x4efec3['id'],..._0x4efec3[_0x55cf94(0x72a)]()}),showView('student'),studentInitialView['classList'][_0x55cf94(0x30d)](_0x55cf94(0xad0)),renderTeamQuizQuestion());}}catch(_0x4172a6){console[_0x55cf94(0x274)](_0x55cf94(0x8dc),_0x4172a6),sessionStorage[_0x55cf94(0x37f)]('activeGameSession');}}function activateFileInputAreaWithLoadedFile(){const _0x91641c=_0x121993,_0x4e06ce=document[_0x91641c(0x2f7)](_0x91641c(0xb5e)),_0x191cc5=document[_0x91641c(0x2f7)](_0x91641c(0x835)),_0x4e28f5=document[_0x91641c(0x2f7)](_0x91641c(0x95a));selectedFile?_0x4e28f5[_0x91641c(0x28f)]?(_0x4e06ce['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x4e06ce['disabled']=![],_0x191cc5[_0x91641c(0x2ff)]['add'](_0x91641c(0xad0))):(_0x4e06ce[_0x91641c(0x687)]=!![],_0x191cc5['classList'][_0x91641c(0x30d)]('hidden'));}async function handleKickPlayerSync(_0x333abf){const _0x821b5=_0x121993;if(!currentLiveGameId||!_0x333abf)return;const _0x6213da=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x3fda88={};_0x3fda88[_0x821b5(0x3d1)+_0x333abf+_0x821b5(0x270)]='inactive';try{await updateDoc(_0x6213da,_0x3fda88);}catch(_0x563ee5){console[_0x821b5(0x274)](_0x821b5(0xaf7)+_0x333abf+_0x821b5(0x66d),_0x563ee5),showMessage(_0x821b5(0x9db));}}async function renderStudentProgressDashboard(_0x2b3c60,_0x482b3b){const _0x1e15c7=_0x121993,_0xa171c6=document['getElementById']('student-progress-content');_0xa171c6['innerHTML']=_0x1e15c7(0xd2a);try{const _0x5811a5=collection(db,_0x1e15c7(0x1da)+appId+'/public/data/quizzes'),_0x3a28c7=query(_0x5811a5,where('projectId','==',_0x2b3c60)),_0xa7915f=await getDocs(_0x3a28c7),_0x5a643e=_0xa7915f['docs']['map'](_0x440e80=>({'id':_0x440e80['id'],..._0x440e80['data']()})),_0x3a5b31=_0x5a643e[_0x1e15c7(0xce7)](_0x5de0b9=>getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x5de0b9['id']+_0x1e15c7(0x942),_0x482b3b))),_0x4b284a=await Promise[_0x1e15c7(0x943)](_0x3a5b31),_0x46f4b1=_0x4b284a[_0x1e15c7(0x9a7)](_0x2fe915=>_0x2fe915[_0x1e15c7(0x75c)]())[_0x1e15c7(0xce7)](_0x4e1dc7=>({'quizId':_0x4e1dc7[_0x1e15c7(0x42e)][_0x1e15c7(0xa95)][_0x1e15c7(0xa95)]['id'],..._0x4e1dc7[_0x1e15c7(0x72a)]()}));if(_0x46f4b1[_0x1e15c7(0x2b5)]===0x0){_0xa171c6['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x1784c8=_0x1e15c7(0x53a);_0x46f4b1[_0x1e15c7(0x616)](_0x327b65=>{const _0xafe491=_0x1e15c7,_0x2a40bd=_0x5a643e['find'](_0xc29822=>_0xc29822['id']===_0x327b65[_0xafe491(0xb99)]),_0xd05e2c=_0x2a40bd[_0xafe491(0x5a5)]?.[_0xafe491(0x88c)]||_0xafe491(0xcb2),_0x513558=_0x2a40bd['settings']?.[_0xafe491(0x765)]??0x0,_0x32c162=_0x327b65[_0xafe491(0x8d7)]>=_0x513558;let _0x18d7da='',_0x2ca7f9=_0xafe491(0x3b7);switch(_0xd05e2c){case'show_results_and_answers':case'show_results_only':_0x2ca7f9=_0x32c162?_0xafe491(0x9ca):'bg-red-50',_0x18d7da=_0xafe491(0x34d)+(_0x32c162?_0xafe491(0xcdb):'text-red-700')+'\x22>'+_0x327b65['bestScore']+_0xafe491(0xd43)+_0x327b65[_0xafe491(0x7f8)]+_0xafe491(0x709)+(_0x32c162?_0xafe491(0xdb2):_0xafe491(0xcba))+'\x22>'+(_0x32c162?_0xafe491(0x397):_0xafe491(0x22d))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xafe491(0x6d5):_0x2ca7f9=_0x32c162?_0xafe491(0x9ca):_0xafe491(0x228),_0x18d7da=_0xafe491(0xa98)+(_0x32c162?_0xafe491(0xdb2):_0xafe491(0xcba))+'\x22>'+(_0x32c162?_0xafe491(0x397):_0xafe491(0x22d))+_0xafe491(0xaf0);break;case _0xafe491(0x281):_0x2ca7f9=_0xafe491(0xcee),_0x18d7da=_0xafe491(0xb0c);break;}_0x1784c8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x2ca7f9+_0xafe491(0x1dc)+_0x2a40bd['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x327b65[_0xafe491(0x9bf)][_0xafe491(0x2b5)]+_0xafe491(0xb36)+new Date(_0x327b65[_0xafe491(0x73e)])['toLocaleDateString'](_0xafe491(0x95f))+_0xafe491(0x338)+_0x18d7da+_0xafe491(0x8ad);}),_0x1784c8+=_0x1e15c7(0x72e),_0xa171c6[_0x1e15c7(0x8c4)]=_0x1784c8;}catch(_0x24390f){console[_0x1e15c7(0x274)](_0x1e15c7(0x703),_0x24390f),_0xa171c6[_0x1e15c7(0x8c4)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x455234=''){const _0x74c082=_0x121993,_0x1eb85d=document[_0x74c082(0x2f7)]('bank-quiz-list'),_0x26af1=_0x455234[_0x74c082(0xcfa)]()[_0x74c082(0xe11)](),_0x1d55a3=allQuizzesGlobal['map'](_0x5b5522=>({..._0x5b5522,'projectName':allProjects[_0x74c082(0x266)](_0xbc32d=>_0xbc32d['id']===_0x5b5522[_0x74c082(0xd51)])?.['projectName']||_0x74c082(0x633)}))[_0x74c082(0x9a7)](_0x556793=>(_0x556793[_0x74c082(0x9ce)]||'')[_0x74c082(0xcfa)]()[_0x74c082(0xcec)](_0x26af1)||(_0x556793[_0x74c082(0x5d3)]||'')[_0x74c082(0xcfa)]()[_0x74c082(0xcec)](_0x26af1)||_0x556793['id']['toString']()[_0x74c082(0xcec)](_0x26af1));_0x1eb85d[_0x74c082(0x8c4)]=_0x1d55a3[_0x74c082(0x2b5)]?_0x1d55a3[_0x74c082(0xce7)](_0x4543c0=>_0x74c082(0x6aa)+_0x4543c0['id']+_0x74c082(0xa1c)+(_0x4543c0[_0x74c082(0x9ce)]||_0x74c082(0xaa7))+_0x74c082(0x9d0)+_0x4543c0[_0x74c082(0x5d3)]+_0x74c082(0x4fb)+_0x4543c0['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x74c082(0x5c4)](''):_0x74c082(0xa3f),_0x1eb85d[_0x74c082(0x5a1)]=()=>{const _0x52563e=_0x74c082,_0x542b88=document['querySelector'](_0x52563e(0x2ce));document[_0x52563e(0x2f7)](_0x52563e(0xad4))[_0x52563e(0x687)]=!_0x542b88;};}function setupStudentProgressListeners(){const _0x31ce6a=_0x121993;document[_0x31ce6a(0x2f7)](_0x31ce6a(0x463))[_0x31ce6a(0xdd3)](_0x31ce6a(0x754),showStudentProgressView),document[_0x31ce6a(0x2f7)](_0x31ce6a(0x8df))[_0x31ce6a(0xdd3)](_0x31ce6a(0x754),()=>{const _0x2a3218=_0x31ce6a;document[_0x2a3218(0x2f7)](_0x2a3218(0x557))[_0x2a3218(0x2ff)]['add'](_0x2a3218(0xad0)),document['getElementById'](_0x2a3218(0xb35))['classList'][_0x2a3218(0x2cf)](_0x2a3218(0xad0));});}async function startSkillPractice(_0xff3887){const _0x12ee63=_0x121993;studentResultArea[_0x12ee63(0x2ff)][_0x12ee63(0x30d)](_0x12ee63(0xad0)),studentQuizArea[_0x12ee63(0x8c4)]=_0x12ee63(0xe0e),studentQuizArea['classList'][_0x12ee63(0x2cf)](_0x12ee63(0xad0));try{const _0x52417c=await getStandardizedTopic(_0xff3887);console['log'](_0x12ee63(0x503)+_0xff3887+_0x12ee63(0xa3d)+_0x52417c+'\x22'),studentQuizArea['querySelector']('p')[_0x12ee63(0xa28)]=_0x12ee63(0x3fd)+_0x52417c+_0x12ee63(0x385);const _0x36b208=collection(db,_0x12ee63(0x1da)+appId+_0x12ee63(0x5cb)),_0x4e8e19=query(_0x36b208,where('topic','==',_0x52417c)),_0xf8ea07=await getDocs(_0x4e8e19);if(_0xf8ea07['docs'][_0x12ee63(0x2b5)]>=0x3){console[_0x12ee63(0x92e)]('พบข้อสอบ\x20'+_0xf8ea07['docs']['length']+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x52417c+_0x12ee63(0xb57));let _0x3e175d=_0xf8ea07[_0x12ee63(0x3c3)][_0x12ee63(0xce7)](_0x2fe9f1=>_0x2fe9f1['data']());shuffleArray(_0x3e175d);const _0x29f181={'topic':_0x52417c,'questions':_0x3e175d[_0x12ee63(0x7bc)](0x0,0x3)};displaySkillPracticeDrill(_0x29f181);}else{console[_0x12ee63(0x92e)](_0x12ee63(0x33a)+_0x52417c+_0x12ee63(0xaa0));const _0x366ce0=await generatePracticeQuestions(_0x52417c);await saveDrillToPracticeBank(_0x366ce0,_0x52417c),displaySkillPracticeDrill(_0x366ce0);}}catch(_0x179f56){console[_0x12ee63(0x274)](_0x12ee63(0x852),_0x179f56),showMessage(_0x12ee63(0xa4c)),studentQuizArea[_0x12ee63(0x2ff)][_0x12ee63(0x30d)](_0x12ee63(0xad0)),studentResultArea[_0x12ee63(0x2ff)][_0x12ee63(0x2cf)](_0x12ee63(0xad0));}}async function saveDrillToPracticeBank(_0x14255c,_0x18c9ef){const _0x1fa4ff=_0x121993,_0x346ae0=collection(db,_0x1fa4ff(0x1da)+appId+'/public/data/practiceBank'),_0x5ac2e0=writeBatch(db);_0x14255c[_0x1fa4ff(0xc33)][_0x1fa4ff(0x616)](_0x933d52=>{const _0x56d084=_0x1fa4ff,_0x3305f6=doc(_0x346ae0);_0x5ac2e0[_0x56d084(0x4bc)](_0x3305f6,{'topic':_0x18c9ef,'questionText':_0x933d52[_0x56d084(0x41b)],'options':_0x933d52[_0x56d084(0x450)],'correctAnswerIndex':_0x933d52[_0x56d084(0xc9f)],'explanation':_0x933d52[_0x56d084(0xb3d)],'createdAt':serverTimestamp()});});try{await _0x5ac2e0['commit'](),console[_0x1fa4ff(0x92e)]('บันทึกคำถามใหม่\x20'+_0x14255c['questions'][_0x1fa4ff(0x2b5)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x4ce4b2){console[_0x1fa4ff(0x274)](_0x1fa4ff(0x3e8),_0x4ce4b2);}}async function getStandardizedTopic(_0x237174){const _0x26a37b=_0x121993,_0x394105=_0x26a37b(0x906)+_0x237174+_0x26a37b(0x62d),_0x40745d={'type':_0x26a37b(0xde6),'properties':{'standardTopic':{'type':_0x26a37b(0xcd6)}},'required':['standardTopic']};try{const _0x314d49=await callAnalysisApi(_0x394105,_0x40745d);return _0x314d49[_0x26a37b(0x353)];}catch(_0x11a774){return console[_0x26a37b(0x274)](_0x26a37b(0x948),_0x11a774),_0x237174;}}async function handleGenerateEasyVersionQuiz(_0x40584c){const _0xbbb415=_0x121993,_0xf786d5=document['getElementById']('results-tab-content'),_0x5e6ad4=document[_0xbbb415(0x2f7)]('project-quizzes-list');_0x5e6ad4[_0xbbb415(0x2ff)][_0xbbb415(0x30d)](_0xbbb415(0xad0));const _0x36e151='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xf786d5[_0xbbb415(0x8b3)](_0xbbb415(0x630),_0x36e151);try{const _0x5cbb77=allQuizzes[_0xbbb415(0x266)](_0x3bbe0a=>_0x3bbe0a['id']===_0x40584c);if(!_0x5cbb77)throw new Error(_0xbbb415(0x6eb));const _0x2ddbee=_0xbbb415(0x526)+JSON[_0xbbb415(0xd68)](_0x5cbb77['questions'])+_0xbbb415(0x94c),_0x5ea914={'type':_0xbbb415(0xde6),'properties':{'questionText':{'type':_0xbbb415(0xcd6)},'questionType':{'type':_0xbbb415(0xcd6)},'options':{'type':_0xbbb415(0xd78),'items':{'type':_0xbbb415(0xcd6)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xbbb415(0xcd6)},'imageCode':{'type':'STRING'}},'required':[_0xbbb415(0x41b),_0xbbb415(0x5ac),_0xbbb415(0xb3d)]},_0x3efb34={'type':'OBJECT','properties':{'questions':{'type':_0xbbb415(0xd78),'items':_0x5ea914}},'required':['questions']},_0x11b724=await callAnalysisApi(_0x2ddbee,_0x3efb34);_0x11b724&&_0x11b724[_0xbbb415(0xc33)]&&_0x11b724[_0xbbb415(0xc33)][_0xbbb415(0x616)](_0x3bb16f=>{const _0x1375df=_0xbbb415;if(_0x3bb16f[_0x1375df(0xc50)](_0x1375df(0x426))){const _0xa51094=String(_0x3bb16f[_0x1375df(0x426)])[_0x1375df(0xe11)]();(_0xa51094===''||_0xa51094[_0x1375df(0xcfa)]()===_0x1375df(0xd0a)||!_0xa51094[_0x1375df(0x215)](_0x1375df(0x505)))&&delete _0x3bb16f[_0x1375df(0x426)];}});if(!_0x11b724||!_0x11b724[_0xbbb415(0xc33)]||_0x11b724[_0xbbb415(0xc33)]['length']===0x0)throw new Error(_0xbbb415(0xad2));const _0x57dda9=_0x11b724[_0xbbb415(0xc33)][_0xbbb415(0xce7)]((_0x5cc9c7,_0x4a7a88)=>({..._0x5cc9c7,'id':'q_'+Date['now']()+'_'+_0x4a7a88})),_0x5af04e={'projectId':_0x5cbb77[_0xbbb415(0xd51)],'quizType':_0x5cbb77[_0xbbb415(0x4d2)],'settings':_0x5cbb77['settings'],'createdBy':_0x5cbb77[_0xbbb415(0xb3f)],'status':_0xbbb415(0x72f),'topic':_0xbbb415(0x6e6)+_0x5cbb77[_0xbbb415(0x9ce)],'questions':_0x57dda9,'createdAt':new Date()['toISOString'](),'quizMode':_0xbbb415(0xbc1),'pairedQuizId':null};let _0xa11b28;while(!![]){_0xa11b28=Math[_0xbbb415(0x442)](0x3e8+Math[_0xbbb415(0x51e)]()*0x2328)[_0xbbb415(0x24c)]();const _0x572865=await getDoc(doc(db,_0xbbb415(0x1da)+appId+_0xbbb415(0x653),_0xa11b28));if(!_0x572865[_0xbbb415(0x75c)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xa11b28),_0x5af04e),showMessage(_0xbbb415(0x635));}catch(_0x127a26){console[_0xbbb415(0x274)](_0xbbb415(0x876),_0x127a26),showMessage(_0xbbb415(0x663)+_0x127a26['message']);}finally{const _0x1dee7e=document[_0xbbb415(0x2f7)]('temp-loader-results');_0x1dee7e&&_0x1dee7e[_0xbbb415(0x2cf)](),_0x5e6ad4[_0xbbb415(0x2ff)][_0xbbb415(0x2cf)](_0xbbb415(0xad0));}}async function generatePracticeQuestions(_0x42be75){const _0x4a3a69=_0x121993,_0xb94f19='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x42be75+_0x4a3a69(0x456)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x3710e9={'type':_0x4a3a69(0xde6),'properties':{'questionText':{'type':_0x4a3a69(0xcd6)},'options':{'type':_0x4a3a69(0xd78),'items':{'type':_0x4a3a69(0xcd6)}},'correctAnswerIndex':{'type':_0x4a3a69(0x714)},'explanation':{'type':_0x4a3a69(0xcd6)}},'required':[_0x4a3a69(0x41b),_0x4a3a69(0x450),'correctAnswerIndex',_0x4a3a69(0xb3d)]},_0x2da351={'type':_0x4a3a69(0xde6),'properties':{'topic':{'type':_0x4a3a69(0xcd6)},'questions':{'type':_0x4a3a69(0xd78),'items':_0x3710e9}},'required':[_0x4a3a69(0x9ce),_0x4a3a69(0xc33)]};return await callAnalysisApi(_0xb94f19,_0x2da351);}function displayLessonPlan(_0x463cd3,_0x3c6ec2){const _0x49da61=_0x121993,_0x1d7bdf=_0x49da61(0xc92)+_0x3c6ec2['topic']+_0x49da61(0x64f)+_0x463cd3[_0x49da61(0xa9b)][_0x49da61(0xce7)](_0x1b4713=>_0x49da61(0xdcc)+_0x1b4713+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x463cd3[_0x49da61(0x289)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x463cd3[_0x49da61(0x920)][_0x49da61(0xce7)](_0x50a54e=>_0x49da61(0x563)+_0x50a54e[_0x49da61(0xa75)]+_0x49da61(0xc55)+_0x50a54e[_0x49da61(0xd71)]+'</p></div>')[_0x49da61(0x5c4)]('')+_0x49da61(0x97c);document[_0x49da61(0x2f7)](_0x49da61(0x4c6))[_0x49da61(0xa28)]=_0x49da61(0xcb7)+_0x3c6ec2['topic'],document['getElementById']('lesson-plan-content')['innerHTML']=_0x1d7bdf,document['getElementById'](_0x49da61(0x7aa))['classList'][_0x49da61(0x2cf)](_0x49da61(0xad0));if(window[_0x49da61(0xc16)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x1825dd){const _0x4732b2=_0x121993;let _0xe7ab16=0x0;const _0x4b3383=_0x1825dd[_0x4732b2(0xc33)],_0x1eb63d=()=>{const _0x4eb26f=_0x4732b2,_0x52136c=_0x4b3383[_0xe7ab16],_0x5073bf=_0x4eb26f(0x54b)+(_0xe7ab16+0x1)+_0x4eb26f(0xd43)+_0x4b3383[_0x4eb26f(0x2b5)]+_0x4eb26f(0xb1d)+_0x52136c['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52136c['options'][_0x4eb26f(0xce7)]((_0x4d2cfe,_0x34e5a1)=>_0x4eb26f(0xa87)+_0x34e5a1+_0x4eb26f(0x29d)+_0x34e5a1+_0x4eb26f(0xdbc)+_0x34e5a1+'\x22>'+_0x4d2cfe+_0x4eb26f(0x793))[_0x4eb26f(0x5c4)]('')+_0x4eb26f(0x1ef);studentQuizArea[_0x4eb26f(0x8c4)]=_0x5073bf;if(window[_0x4eb26f(0xc16)])MathJax[_0x4eb26f(0xe06)]([studentQuizArea]);document[_0x4eb26f(0x2f7)](_0x4eb26f(0x65f))['addEventListener'](_0x4eb26f(0x754),async()=>{const _0x547032=await getHintForQuestion(_0x52136c['questionText']);showMessage(_0x547032);}),document['getElementById'](_0x4eb26f(0xb6f))[_0x4eb26f(0xdd3)](_0x4eb26f(0x754),()=>{const _0x506df8=_0x4eb26f,_0x3664f5=document[_0x506df8(0x839)]('input[name=\x22drill_answer\x22]:checked');if(!_0x3664f5){showMessage(_0x506df8(0x725));return;}const _0x19f7da=document['getElementById'](_0x506df8(0xdee)),_0x420942=parseInt(_0x3664f5[_0x506df8(0x5b6)])===_0x52136c[_0x506df8(0xc9f)];_0x420942?(_0x19f7da['className']=_0x506df8(0xadb),_0x19f7da[_0x506df8(0x8c4)]=_0x506df8(0x8b8)+_0x52136c[_0x506df8(0xb3d)]):(_0x19f7da[_0x506df8(0x226)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x19f7da[_0x506df8(0x8c4)]=_0x506df8(0xba1)+_0x52136c['explanation']);_0x19f7da['classList'][_0x506df8(0x2cf)](_0x506df8(0xad0));if(window[_0x506df8(0xc16)])MathJax[_0x506df8(0xe06)]([_0x19f7da]);document[_0x506df8(0x2f7)](_0x506df8(0xb6f))[_0x506df8(0x2ff)][_0x506df8(0x30d)](_0x506df8(0xad0)),document[_0x506df8(0x2f7)](_0x506df8(0x65f))[_0x506df8(0x2ff)][_0x506df8(0x30d)]('hidden'),document[_0x506df8(0x2f7)](_0x506df8(0x2c8))[_0x506df8(0x2ff)][_0x506df8(0x2cf)](_0x506df8(0xad0));}),document[_0x4eb26f(0x2f7)](_0x4eb26f(0x2c8))['addEventListener']('click',()=>{const _0x412921=_0x4eb26f;_0xe7ab16++,_0xe7ab16<_0x4b3383[_0x412921(0x2b5)]?_0x1eb63d():(studentQuizArea[_0x412921(0x8c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x412921(0x2f7)](_0x412921(0x4df))[_0x412921(0xdd3)](_0x412921(0x754),()=>{const _0x11ce4c=_0x412921;studentQuizArea[_0x11ce4c(0x2ff)][_0x11ce4c(0x30d)](_0x11ce4c(0xad0)),studentResultArea[_0x11ce4c(0x2ff)][_0x11ce4c(0x2cf)]('hidden');}));});};_0x1eb63d();}async function getHintForQuestion(_0x373d17){const _0x2f03ce=_0x121993,_0x328682=_0x2f03ce(0xb75)+_0x373d17+_0x2f03ce(0x655),_0x4f0c97={'type':_0x2f03ce(0xde6),'properties':{'hint':{'type':'STRING'}},'required':[_0x2f03ce(0x524)]};try{const _0x345373=await callAnalysisApi(_0x328682,_0x4f0c97);return _0x345373['hint'];}catch(_0x4ccd18){return console[_0x2f03ce(0x274)](_0x2f03ce(0x24b),_0x4ccd18),_0x2f03ce(0x877);}}async function extractTextFromPdf(_0x44d105){const _0x5ceb87=_0x121993;pdfjsLib[_0x5ceb87(0xa1a)][_0x5ceb87(0xc3a)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x2c1606=await _0x44d105[_0x5ceb87(0xd52)](),_0x3b67d5=await pdfjsLib[_0x5ceb87(0x364)](_0x2c1606)[_0x5ceb87(0x40a)],_0x3dfe2b=_0x3b67d5[_0x5ceb87(0x207)];let _0x12c405='';for(let _0x56b1e6=0x1;_0x56b1e6<=_0x3dfe2b;_0x56b1e6++){const _0xcaef84=await _0x3b67d5[_0x5ceb87(0x4ac)](_0x56b1e6),_0x423c27=await _0xcaef84[_0x5ceb87(0x29f)](),_0x15d7c3=_0x423c27[_0x5ceb87(0x6e1)]['map'](_0x51e089=>_0x51e089[_0x5ceb87(0x984)])[_0x5ceb87(0x5c4)]('\x20');_0x12c405+=_0x15d7c3+'\x0a\x0a';}return _0x12c405;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x4b6bff){const _0x4f432a=_0x121993,_0x116d3b=document['getElementById']('blueprint-options-container'),_0x369c37=document[_0x4f432a(0x2f7)]('blueprint-topics-list'),_0x3927b8=document['getElementById'](_0x4f432a(0x9b0));_0x116d3b[_0x4f432a(0x2ff)][_0x4f432a(0x2cf)](_0x4f432a(0xad0)),_0x369c37[_0x4f432a(0x8c4)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x3927b8['classList'][_0x4f432a(0x30d)]('hidden');try{const _0x3bf407=_0x4f432a(0x7ba)+_0x4b6bff+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0x3076b4={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x4f432a(0xcd6)},'curriculum':{'type':'ARRAY','items':{'type':_0x4f432a(0xde6),'properties':{'sara':{'type':_0x4f432a(0xcd6)},'mainTopics':{'type':_0x4f432a(0xd78),'items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x4f432a(0xd78),'items':{'type':_0x4f432a(0xcd6)}}},'required':[_0x4f432a(0xc17),_0x4f432a(0x606)]}}},'required':[_0x4f432a(0xbf6),_0x4f432a(0xd36)]}}},'required':['gradeLevel',_0x4f432a(0x4d9)]},_0xc3b7d9=await callAnalysisApi(_0x3bf407,_0x3076b4);if(_0xc3b7d9&&_0xc3b7d9[_0x4f432a(0x4d9)])extractedBlueprintData=_0xc3b7d9,renderBlueprintTopics(_0xc3b7d9),_0x3927b8['classList']['remove'](_0x4f432a(0xad0));else throw new Error(_0x4f432a(0xdd2));}catch(_0x6ad223){console[_0x4f432a(0x274)](_0x4f432a(0x4f6),_0x6ad223),_0x369c37['innerHTML']=_0x4f432a(0x280);}}function renderBlueprintTopics(_0x242d11){const _0x41244f=_0x121993,_0x2ec453=document[_0x41244f(0x2f7)](_0x41244f(0x21e)),_0x1f244b=_0x242d11[_0x41244f(0xbf0)],_0x2bcba7='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x1f244b+_0x41244f(0xa7f);let _0xcee100='';_0x242d11[_0x41244f(0x4d9)][_0x41244f(0x616)](_0x129c7d=>{const _0x3beb3b=_0x41244f;_0xcee100+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x129c7d['sara']+_0x3beb3b(0xe0d),_0x129c7d[_0x3beb3b(0xd36)][_0x3beb3b(0x616)](_0x4687c8=>{const _0x256756=_0x3beb3b;_0xcee100+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x4687c8[_0x256756(0xc17)]+_0x256756(0x1e1),_0x4687c8[_0x256756(0x606)][_0x256756(0x616)](_0x1392d1=>{const _0x1700a3=_0x256756;_0xcee100+=_0x1700a3(0x3ad)+_0x1392d1['replace'](/'/g,'\x5c\x27')+_0x1700a3(0x321)+_0x1f244b[_0x1700a3(0xbbe)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x1392d1+_0x1700a3(0xa2b)+_0x1392d1[_0x1700a3(0xbbe)](/'/g,'\x5c\x27')+_0x1700a3(0x244);}),_0xcee100+='</div></div>';}),_0xcee100+=_0x3beb3b(0x72e);}),_0x2ec453['innerHTML']=_0x2bcba7+_0xcee100;}async function handleGenerateTeachingContent(_0x2c6518){const _0x4d1df9=_0x121993,_0x1e34fd=document[_0x4d1df9(0x2f7)](_0x4d1df9(0x7aa)),_0x3a0e44=document['getElementById'](_0x4d1df9(0xc29));document['getElementById'](_0x4d1df9(0x4c6))['textContent']='กำลังสร้างเนื้อหา:\x20'+_0x2c6518,_0x3a0e44[_0x4d1df9(0x8c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x1e34fd[_0x4d1df9(0x2ff)][_0x4d1df9(0x2cf)]('hidden');try{const _0x39823f=_0x4d1df9(0x5c1)+_0x2c6518+_0x4d1df9(0x588),_0x59098f={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x4d1df9(0xd78),'items':{'type':_0x4d1df9(0xcd6)}},'commonMistakes':{'type':_0x4d1df9(0xd78),'items':{'type':_0x4d1df9(0xcd6)}},'stepByStepExamples':{'type':_0x4d1df9(0xd78),'items':{'type':_0x4d1df9(0xde6),'properties':{'question':{'type':_0x4d1df9(0xcd6)},'solution':{'type':'STRING'}},'required':[_0x4d1df9(0xa75),_0x4d1df9(0xd71)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x4d1df9(0xcd6)}}},'required':[_0x4d1df9(0xc1b),_0x4d1df9(0xa25),_0x4d1df9(0x2ab),_0x4d1df9(0x87a)]},_0x22db30=await callAnalysisApi(_0x39823f,_0x59098f);displayTeachingContent(_0x22db30,_0x2c6518);}catch(_0x33dcda){console[_0x4d1df9(0x274)]('Error\x20generating\x20teaching\x20content:',_0x33dcda),_0x3a0e44['innerHTML']=_0x4d1df9(0x421)+_0x33dcda[_0x4d1df9(0x5e6)]+_0x4d1df9(0xb6e);}}function displayTeachingContent(_0x34af15,_0x403b57){const _0x275e55=_0x121993,_0x1e2ff1=document[_0x275e55(0x2f7)](_0x275e55(0xc29));document[_0x275e55(0x2f7)](_0x275e55(0x4c6))[_0x275e55(0xa28)]=_0x275e55(0x50b)+_0x403b57;const _0x3c1675=_0x275e55(0x9b6)+_0x34af15['keyConcepts'][_0x275e55(0xce7)](_0xad45fa=>'<li>'+_0xad45fa+_0x275e55(0xafb))[_0x275e55(0x5c4)]('')+_0x275e55(0x1e2)+_0x34af15[_0x275e55(0xa25)][_0x275e55(0xce7)](_0x5ceeb3=>'<li>'+_0x5ceeb3+'</li>')[_0x275e55(0x5c4)]('')+_0x275e55(0xb4a)+_0x34af15[_0x275e55(0x2ab)][_0x275e55(0xce7)](_0x424d13=>_0x275e55(0x689)+_0x424d13['question']+_0x275e55(0x596)+_0x424d13[_0x275e55(0xd71)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x275e55(0x5c4)]('')+_0x275e55(0xaac)+_0x34af15['teacherTips']['map'](_0x42dda6=>_0x275e55(0xdcc)+_0x42dda6+_0x275e55(0xafb))[_0x275e55(0x5c4)]('')+_0x275e55(0x8fb);_0x1e2ff1[_0x275e55(0x8c4)]=_0x3c1675;if(window[_0x275e55(0xc16)])MathJax[_0x275e55(0xe06)]([_0x1e2ff1]);}async function generateQuizForSingleTopic(_0x1e05de){const _0x2c755c=_0x121993;console[_0x2c755c(0x92e)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x1e05de+'\x22');const _0x25eca6=document[_0x2c755c(0x2f7)]('reference-pdf-upload'),_0x42c111=_0x25eca6[_0x2c755c(0x652)][_0x2c755c(0x2b5)]>0x0?_0x25eca6[_0x2c755c(0x652)][0x0]:null;let _0x4f9a90=null;if(_0x42c111)try{const _0x14b0fc=new FileReader();_0x14b0fc[_0x2c755c(0x61a)](_0x42c111);const _0x40b29f=await new Promise((_0x248c37,_0x3c0a2d)=>{const _0x13ffb5=_0x2c755c;_0x14b0fc[_0x13ffb5(0x391)]=()=>_0x248c37(_0x14b0fc['result'][_0x13ffb5(0xd47)](',')[0x1]),_0x14b0fc['onerror']=_0x4d1ae9=>_0x3c0a2d(_0x4d1ae9);});_0x4f9a90=[{'inlineData':{'mimeType':_0x42c111[_0x2c755c(0x9c8)],'data':_0x40b29f}}];}catch(_0x2fa22){console[_0x2c755c(0x274)](_0x2c755c(0x781),_0x2fa22),showMessage(_0x2c755c(0xca3));return;}generateQuiz(_0x1e05de,null,null,_0x4f9a90,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x4a3edc=null){const _0x566595=_0x121993,_0x20e173=document[_0x566595(0x2f7)]('loader'),_0x2c87f5=document['getElementById'](_0x566595(0x488));let _0x125411,_0x48700a=[];if(_0x4a3edc)_0x125411=_0x4a3edc,_0x48700a=_0x125411['slice'](0x2);else{const _0x1c7ed1=document['getElementById'](_0x566595(0xa8d)),_0x42831c=document['getElementById'](_0x566595(0x59b)),_0xb0906f=_0x1c7ed1['files'][0x0];if(!_0xb0906f){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x2c87f5['textContent']=_0x566595(0xc34);const _0x2fb7ea=await new Promise((_0x269119,_0xff38df)=>{const _0x3b8d2e=_0x566595,_0x1124ad=new FileReader();_0x1124ad[_0x3b8d2e(0x61a)](_0xb0906f),_0x1124ad[_0x3b8d2e(0x391)]=()=>_0x269119(_0x1124ad[_0x3b8d2e(0x5ec)][_0x3b8d2e(0xd47)](',')[0x1]),_0x1124ad['onerror']=_0xff38df;});_0x125411=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0xb0906f[_0x566595(0x9c8)],'data':_0x2fb7ea}}];if(_0x42831c[_0x566595(0x652)][_0x566595(0x2b5)]>0x0){const _0x699762=_0x42831c[_0x566595(0x652)][0x0];_0x2c87f5['textContent']='กำลังเตรียมไฟล์อ้างอิง...';const _0x94891d=await new Promise((_0x2f6677,_0x4ca44b)=>{const _0x12ad77=_0x566595,_0x3db5f2=new FileReader();_0x3db5f2['readAsDataURL'](_0x699762),_0x3db5f2[_0x12ad77(0x391)]=()=>_0x2f6677(_0x3db5f2['result']['split'](',')[0x1]),_0x3db5f2[_0x12ad77(0x4a5)]=_0x4ca44b;}),_0x20670d={'inlineData':{'mimeType':_0x699762[_0x566595(0x9c8)],'data':_0x94891d}};_0x125411[_0x566595(0xdc4)](_0x20670d),_0x48700a[_0x566595(0xdc4)](_0x20670d);}}const _0x15fb82=_0x566595(0x360),_0x24b9cd=_0x566595(0x7c5);let _0xb76b4d='';_0x48700a&&_0x48700a[_0x566595(0x2b5)]>0x0?_0xb76b4d=_0x15fb82:_0xb76b4d=_0x24b9cd;const _0x166986=_0x566595(0x4b7)+_0xb76b4d+_0x566595(0x3ef),_0x16700b={'type':'OBJECT','properties':{'questionText':{'type':_0x566595(0xcd6)},'questionType':{'type':_0x566595(0xcd6),'enum':[_0x566595(0xc3f),_0x566595(0x2bc),_0x566595(0x668),_0x566595(0x5f5)]},'options':{'type':_0x566595(0xd78),'items':{'type':_0x566595(0xcd6)}},'correctAnswerIndex':{'type':_0x566595(0x714)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x566595(0x7d7)},'explanation':{'type':_0x566595(0xcd6)},'imageCode':{'type':_0x566595(0xcd6)}},'required':[_0x566595(0x5ac),_0x566595(0xb3d)]},_0x226da8={'type':_0x566595(0xde6),'properties':{'topic':{'type':_0x566595(0xcd6)},'questions':{'type':_0x566595(0xd78),'items':_0x16700b}},'required':[_0x566595(0x9ce),_0x566595(0xc33)]};_0x125411[0x0][_0x566595(0xc0b)]=_0x166986,await handleApiCall(_0x125411,_0x566595(0xbaa),_0x226da8);}function proceedToNextQuestion(_0x4d18b0){const _0x3f6972=_0x121993;studentAnswersPerQuestion['push'](_0x4d18b0),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3f6972(0xc33)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x7afd01,_0x30710b,_0x556716){const _0x57fdaa=_0x121993,_0x9c6514=Object[_0x57fdaa(0xe02)](_0x7afd01[_0x57fdaa(0x32a)]||{}),_0x1b69d0=_0x9c6514[_0x57fdaa(0x2b5)],_0x4aa43b=_0x556716,_0x21d399=_0x7afd01[_0x57fdaa(0x926)][_0x57fdaa(0xc33)],_0x37e0d3=_0x21d399[_0x4aa43b],_0x2c4c8a=_0x5d4628=>String[_0x57fdaa(0xdbf)](0x41+_0x5d4628),_0x5ec0d7=_0x7afd01[_0x57fdaa(0x37a)]||_0x57fdaa(0xb7e),_0x400cb3=_0x5ec0d7===_0x57fdaa(0x4bd),_0x166618=_0x7afd01[_0x57fdaa(0x624)]===!![],_0x510ffc=_0x5ec0d7===_0x57fdaa(0x3af),_0x2ca377=_0x9c6514[_0x57fdaa(0xce7)](_0x4cf812=>{const _0x5c9b31=_0x57fdaa,_0x320896=_0x4cf812[_0x5c9b31(0xbf1)]||0x0;let _0x23f254=0x0;return _0x7afd01[_0x5c9b31(0xb49)]&&_0x4cf812['answers']&&_0x4cf812['answers']['forEach'](_0x317691=>{const _0x19cd01=_0x5c9b31;if(_0x317691[_0x19cd01(0xd90)]&&(_0x317691[_0x19cd01(0xa5a)]===!![]||_0x317691[_0x19cd01(0xa5a)]===_0x19cd01(0x2b0)))_0x23f254+=0x1;else!_0x317691[_0x19cd01(0xd90)]&&(_0x317691[_0x19cd01(0xa5a)]===!![]||_0x317691[_0x19cd01(0xa5a)]===_0x19cd01(0x2b0))&&(_0x23f254-=0x1);}),{..._0x4cf812,'realScore':_0x320896,'confidenceBonus':_0x23f254,'totalDisplayScore':_0x320896+_0x23f254};}),_0x2d4aa5=[..._0x2ca377][_0x57fdaa(0x423)]((_0x82ab40,_0x5650fc)=>_0x5650fc[_0x57fdaa(0x3f6)]-_0x82ab40['totalDisplayScore']),_0x4fb9b2=_0x2d4aa5[_0x57fdaa(0x2b5)]>0x0?_0x2d4aa5[0x0][_0x57fdaa(0x3f6)]:0x0;let _0x19901d=null;if(!_0x30710b){const _0x2c3085=_0x2ca377[_0x57fdaa(0x9a7)](_0x231309=>localTeamPlayers['includes'](_0x231309[_0x57fdaa(0xa7e)]));_0x2c3085[_0x57fdaa(0x2b5)]>0x0?_0x19901d=_0x2c3085[_0x57fdaa(0x423)]((_0x586a67,_0x126ccd)=>_0x126ccd[_0x57fdaa(0x3f6)]-_0x586a67[_0x57fdaa(0x3f6)])[0x0]:_0x19901d=_0x2ca377['find'](_0x4d1470=>_0x4d1470[_0x57fdaa(0xa7e)]===localTeamPlayers[0x0])||_0x2ca377[0x0];}let _0x992155=null;!_0x30710b&&_0x19901d&&(_0x992155=sessionStorage[_0x57fdaa(0x301)]('myAnonymousNickname'),!_0x992155&&_0x19901d[_0x57fdaa(0x3f6)]===_0x4fb9b2&&(_0x992155=_0x7afd01[_0x57fdaa(0x422)][_0x19901d['name']],sessionStorage['setItem'](_0x57fdaa(0x601),_0x992155)));let _0x361b7e='';if(_0x37e0d3&&(!_0x400cb3||_0x166618)&&!_0x510ffc){let _0x51e7d0='',_0x4acc70='';const _0xa7128=_0x37e0d3[_0x57fdaa(0x5ac)]||_0x7afd01[_0x57fdaa(0x926)][_0x57fdaa(0x4d2)];if(_0xa7128===_0x57fdaa(0xc3f)&&_0x37e0d3[_0x57fdaa(0x450)]&&_0x37e0d3[_0x57fdaa(0xc9f)]!==undefined){const _0x20fcc4=_0x37e0d3[_0x57fdaa(0xc9f)];_0x51e7d0=_0x37e0d3[_0x57fdaa(0x450)][_0x20fcc4],_0x4acc70=_0x2c4c8a(_0x20fcc4)+'.';}else{if(_0xa7128===_0x57fdaa(0x668)){const _0x55f095=_0x37e0d3[_0x57fdaa(0x836)]===!![]||String(_0x37e0d3['correctAnswer'])[_0x57fdaa(0xcfa)]()==='true';_0x55f095?(_0x51e7d0=_0x57fdaa(0x824),_0x4acc70='ก.'):(_0x51e7d0=_0x57fdaa(0x341),_0x4acc70='ข.');}else{if(_0xa7128===_0x57fdaa(0x5f5))_0x51e7d0=_0x37e0d3[_0x57fdaa(0xa17)]||'-',_0x4acc70='';else _0xa7128===_0x57fdaa(0x2bc)&&(_0x51e7d0=_0x37e0d3[_0x57fdaa(0x4a4)]||'-',_0x4acc70='');}}_0x51e7d0&&(_0x361b7e=_0x57fdaa(0x68f)+(_0x4aa43b+0x1)+_0x57fdaa(0x597)+_0x4acc70+'\x20'+_0x51e7d0+_0x57fdaa(0xc04));}const _0x4c6ae7=_0x2d4aa5[_0x57fdaa(0xce7)](_0x281a58=>{const _0x320ee7=_0x57fdaa;let _0x1cf0a8=_0x281a58[_0x320ee7(0x3f6)];if(_0x5ec0d7===_0x320ee7(0x55d)){const _0x188034=(_0x281a58[_0x320ee7(0x847)]||[])[_0x320ee7(0x9a7)](_0x3b9ed8=>_0x3b9ed8[_0x320ee7(0x51a)]<=_0x4aa43b),_0x3e9216=_0x188034['filter'](_0x3d6b1b=>_0x3d6b1b['isCorrect'])['length'];let _0x5067fa=0x0;_0x7afd01[_0x320ee7(0xb49)]&&_0x188034[_0x320ee7(0x616)](_0x261bab=>{const _0xdb6cb8=_0x320ee7;if(_0x261bab[_0xdb6cb8(0xd90)]&&(_0x261bab['wasConfident']===!![]||_0x261bab[_0xdb6cb8(0xa5a)]===_0xdb6cb8(0x2b0)))_0x5067fa+=0x1;else{if(!_0x261bab[_0xdb6cb8(0xd90)]&&(_0x261bab['wasConfident']===!![]||_0x261bab['wasConfident']===_0xdb6cb8(0x2b0)))_0x5067fa-=0x1;}}),_0x1cf0a8=_0x3e9216+_0x5067fa;}let _0x1b1cd3=_0x320ee7(0xc81);if(!_0x510ffc){const _0xe39c73=(_0x281a58[_0x320ee7(0x847)]||[])['find'](_0x371421=>_0x371421['questionIndex']===_0x4aa43b);if(_0xe39c73){const _0x50519f=_0xe39c73[_0x320ee7(0xd90)],_0x41e520=_0xe39c73[_0x320ee7(0xa5a)]===!![]||_0xe39c73[_0x320ee7(0xa5a)]===_0x320ee7(0x2b0);if(_0x41e520&&_0x50519f)_0x1b1cd3=_0x320ee7(0x82f);else{if(_0x41e520&&!_0x50519f)_0x1b1cd3='bg-[#EF4444]\x20text-white\x20font-bold';else{if(!_0x41e520&&_0x50519f)_0x1b1cd3=_0x320ee7(0x252);}}}}let _0x23759c='';const _0x272e19=_0x281a58['name'],_0x46b4ec=_0x7afd01[_0x320ee7(0x422)][_0x281a58[_0x320ee7(0xa7e)]]||'???',_0x4495d4=_0x320ee7(0x98e),_0x19eb47=_0x320ee7(0x735);if(_0x30710b){if(_0x400cb3&&!_0x166618)_0x23759c='<div\x20style=\x22'+_0x4495d4+_0x320ee7(0x6cd)+_0x46b4ec+_0x320ee7(0xc0e)+_0x19eb47+'\x22>'+_0x46b4ec+'</span></div>';else _0x400cb3&&_0x166618?_0x23759c=_0x320ee7(0x4e6)+_0x4495d4+_0x320ee7(0x6cd)+_0x272e19+'\x20('+_0x46b4ec+_0x320ee7(0x5ca)+_0x19eb47+'\x22>'+_0x272e19+_0x320ee7(0x25b)+_0x19eb47+_0x320ee7(0x490)+_0x46b4ec+')</span></div>':_0x23759c='<div\x20style=\x22'+_0x4495d4+_0x320ee7(0x6cd)+_0x272e19+_0x320ee7(0xc0e)+_0x19eb47+'\x22>'+_0x272e19+_0x320ee7(0x713);}else _0x400cb3?_0x272e19===_0x19901d['name']?_0x992155?_0x23759c=_0x320ee7(0x4e6)+_0x4495d4+_0x320ee7(0x6cd)+_0x272e19+'\x20('+_0x992155+_0x320ee7(0x5ca)+_0x19eb47+'\x22>'+_0x272e19+'</span><span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x19eb47+_0x320ee7(0x490)+_0x992155+_0x320ee7(0xb91):_0x23759c=_0x320ee7(0x4e6)+_0x4495d4+_0x320ee7(0x6cd)+_0x272e19+_0x320ee7(0xc0e)+_0x19eb47+'\x22>'+_0x272e19+_0x320ee7(0xce3)+_0x19eb47+'\x22>(???)</span></div>':_0x19901d['totalDisplayScore']>_0x281a58[_0x320ee7(0x3f6)]?_0x23759c=_0x320ee7(0x4e6)+_0x4495d4+'\x22\x20title=\x22'+_0x272e19+'\x20('+_0x46b4ec+_0x320ee7(0x5ca)+_0x19eb47+'\x22>'+_0x272e19+_0x320ee7(0x25b)+_0x19eb47+'\x22>('+_0x46b4ec+')</span></div>':_0x23759c=_0x320ee7(0x4e6)+_0x4495d4+_0x320ee7(0x6cd)+_0x46b4ec+'\x22><span\x20style=\x22'+_0x19eb47+'\x22>'+_0x46b4ec+_0x320ee7(0x713):_0x23759c=_0x320ee7(0x4e6)+_0x4495d4+_0x320ee7(0x6cd)+_0x272e19+'\x22><span\x20style=\x22'+_0x19eb47+'\x22>'+_0x272e19+_0x320ee7(0x713);const _0x222885=_0x510ffc?'':'<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x1cf0a8+'\x20คะแนน</span>';return _0x320ee7(0xdcf)+_0x1b1cd3+'\x20gap-2\x22>'+_0x23759c+_0x222885+_0x320ee7(0x72e);})['join'](''),_0x7402d6=_0x21d399[_0x57fdaa(0xce7)]((_0x553b77,_0xb6f67d)=>{const _0x463a02=_0x57fdaa;if(_0x5ec0d7===_0x463a02(0x55d)&&_0xb6f67d>_0x4aa43b||_0x510ffc)return'';const _0x22a6d9=_0x9c6514[_0x463a02(0x9a7)](_0x2d830a=>_0x2d830a[_0x463a02(0x847)]&&_0x2d830a['answers'][_0x463a02(0x266)](_0x2d98be=>_0x2d98be[_0x463a02(0x51a)]===_0xb6f67d&&_0x2d98be[_0x463a02(0xd90)]))['length'],_0xde2930=_0xb6f67d===_0x4aa43b,_0x3936cd=_0xde2930?_0x463a02(0x96c):_0x463a02(0x6f8);return _0x463a02(0x3bb)+_0x3936cd+_0x463a02(0x453)+(_0xb6f67d+0x1)+_0x463a02(0x38a)+_0x22a6d9+_0x463a02(0xd43)+_0x1b69d0+_0x463a02(0x29b);})['join']('');let _0x1df9cc='',_0xefbe0f='';if(_0x30710b){const _0x529b44=_0x5ec0d7==='classic'&&_0x7afd01[_0x57fdaa(0x21d)]>=_0x21d399[_0x57fdaa(0x2b5)]-0x1,_0x278575=_0x5ec0d7===_0x57fdaa(0x55d)&&_0x7afd01[_0x57fdaa(0x82d)]>=_0x21d399[_0x57fdaa(0x2b5)]-0x1,_0x33556b=_0x5ec0d7===_0x57fdaa(0x4bd)&&_0x7afd01['currentQuestionIndex']>=_0x21d399[_0x57fdaa(0x2b5)]-0x1,_0x15513d=_0x5ec0d7===_0x57fdaa(0x3af)&&_0x7afd01[_0x57fdaa(0x21d)]>=_0x21d399['length']-0x1;_0x529b44||_0x278575||_0x33556b||_0x15513d?_0x400cb3&&!_0x166618?_0x1df9cc=_0x57fdaa(0x468):_0x1df9cc=_0x57fdaa(0xd0e):_0x1df9cc=_0x57fdaa(0x348),_0xefbe0f=_0x57fdaa(0xe03);}const _0x385342=_0x510ffc?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x7402d6+_0x57fdaa(0xb06),_0x4f8943=_0x510ffc?'md:col-span-3':_0x57fdaa(0x6a5),_0x42fcba=_0x57fdaa(0x888)+_0x7afd01[_0x57fdaa(0x926)][_0x57fdaa(0x9ce)]+_0x57fdaa(0x769)+_0x7afd01['pin']+_0x57fdaa(0x83e)+_0xefbe0f+_0x57fdaa(0x66c)+_0x361b7e+_0x57fdaa(0xa03)+_0x4f8943+'\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x4c6ae7||_0x57fdaa(0x2d5))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x385342+_0x57fdaa(0x66c)+(_0x30710b?_0x57fdaa(0xc67)+_0x1df9cc+'</div>':'')+_0x57fdaa(0x520);liveGameView[_0x57fdaa(0x8c4)]=_0x42fcba;if(window[_0x57fdaa(0xc16)]){const _0x2700e8=document['getElementById'](_0x57fdaa(0xc06));_0x2700e8&&MathJax[_0x57fdaa(0xe06)]([_0x2700e8]);}if(_0x30710b){document[_0x57fdaa(0x2f7)](_0x57fdaa(0xcdc))['onclick']=async()=>{const _0x5231e6=_0x57fdaa,_0x2a28d3=doc(db,_0x5231e6(0x1da)+appId+_0x5231e6(0xda1),currentLiveGameId),_0x2f6eba=_0x5ec0d7===_0x5231e6(0xb7e)&&_0x7afd01[_0x5231e6(0x21d)]>=_0x21d399[_0x5231e6(0x2b5)]-0x1,_0xe3d22=_0x5ec0d7===_0x5231e6(0x55d)&&_0x7afd01[_0x5231e6(0x82d)]>=_0x21d399[_0x5231e6(0x2b5)]-0x1,_0x4a1959=_0x5ec0d7===_0x5231e6(0x4bd)&&_0x7afd01[_0x5231e6(0x21d)]>=_0x21d399['length']-0x1,_0x3a6dce=_0x5ec0d7==='competition'&&_0x7afd01[_0x5231e6(0x21d)]>=_0x21d399[_0x5231e6(0x2b5)]-0x1;if(_0x5ec0d7===_0x5231e6(0x55d))!_0xe3d22?await updateDoc(_0x2a28d3,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x2a28d3,{'status':_0x5231e6(0xb3b)});else{if(!_0x2f6eba&&!_0x4a1959&&!_0x3a6dce){const _0x284e76=_0x7afd01['currentQuestionIndex']+0x1,_0x2a57b3={};Object[_0x5231e6(0xc27)](_0x7afd01[_0x5231e6(0x32a)])[_0x5231e6(0x616)](_0x1ef175=>{const _0x15b445=_0x5231e6;_0x2a57b3[_0x15b445(0x3d1)+_0x1ef175+'.answered']=![],_0x2a57b3[_0x15b445(0x3d1)+_0x1ef175+'.lastAnswerIndex']=null;}),await updateDoc(_0x2a28d3,{..._0x2a57b3,'status':'question','currentQuestionIndex':_0x284e76,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2a28d3,{'status':_0x5231e6(0xb3b)});}},document['getElementById'](_0x57fdaa(0x379))?.[_0x57fdaa(0xdd3)]('click',async()=>{const _0x2b0767=_0x57fdaa;await updateDoc(doc(db,_0x2b0767(0x1da)+appId+_0x2b0767(0xda1),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x157ba5=document[_0x57fdaa(0x2f7)](_0x57fdaa(0x9d6));_0x157ba5&&(_0x157ba5['onclick']=()=>{const _0x1dd0c0=_0x57fdaa;showConfirmation(_0x1dd0c0(0x9d7),async()=>{const _0x30e92a=_0x1dd0c0;await updateDoc(doc(db,_0x30e92a(0x1da)+appId+_0x30e92a(0xda1),currentLiveGameId),{'status':_0x30e92a(0xb3b)});});});}}async function handleGenerateParallelFromBank(_0x86d2e1){const _0x409358=_0x121993,_0x1b10c4=document[_0x409358(0x2f7)](_0x409358(0x804)),_0x2283f7=document[_0x409358(0x2f7)](_0x409358(0x3df));_0x2283f7[_0x409358(0x2ff)][_0x409358(0x30d)](_0x409358(0xad0));const _0x5d04de=_0x409358(0xdb6)+_0x86d2e1[_0x409358(0x9ce)]+_0x409358(0x77d);_0x1b10c4[_0x409358(0x8b3)](_0x409358(0x630),_0x5d04de);const _0x68dd23=document['getElementById']('temp-loader-text-results');try{const _0x3547bd=_0x86d2e1[_0x409358(0xc33)][_0x409358(0xce7)]((_0x508bfc,_0xf54554)=>{const _0x168ec=_0x409358;let _0x504578=_0xf54554+0x1+'.\x20'+(_0x508bfc['questionText']||_0x508bfc[_0x168ec(0x859)])+'\x0a';if(_0x508bfc[_0x168ec(0x450)])_0x504578+=_0x508bfc[_0x168ec(0x450)][_0x168ec(0xce7)]((_0x3bb3b1,_0x23470f)=>_0x168ec(0xb87)+(_0x23470f===_0x508bfc['correctAnswerIndex']?_0x168ec(0x27a):'')+'\x20'+_0x3bb3b1)[_0x168ec(0x5c4)]('\x0a');else _0x508bfc[_0x168ec(0x4a4)]&&(_0x504578+=_0x168ec(0x5bc)+_0x508bfc[_0x168ec(0x4a4)]);return _0x504578;})[_0x409358(0x5c4)]('\x0a\x0a');_0x68dd23[_0x409358(0xa28)]=_0x409358(0xcc5);const _0x1e6c26='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x86d2e1[_0x409358(0x9ce)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3547bd+_0x409358(0x6c9)+simpleMathPrompt+_0x409358(0xa8a),_0x20bb5b={'type':_0x409358(0xde6),'properties':{'questionText':{'type':_0x409358(0xcd6)},'questionType':{'type':_0x409358(0xcd6),'enum':[_0x409358(0xc3f),'short_answer',_0x409358(0x668),_0x409358(0x5f5)]},'options':{'type':_0x409358(0xd78),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x409358(0x714)},'idealAnswer':{'type':_0x409358(0xcd6)},'correctAnswer':{'type':_0x409358(0x7d7)},'stem':{'type':_0x409358(0xcd6)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x409358(0xd78),'items':{'type':_0x409358(0xcd6)}},'explanation':{'type':_0x409358(0xcd6)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x409358(0xb3d)]},_0x43c046={'type':'OBJECT','properties':{'topic':{'type':_0x409358(0xcd6)},'questions':{'type':'ARRAY','items':_0x20bb5b}},'required':[_0x409358(0x9ce),_0x409358(0xc33)]},_0x1c2fc6=await callAnalysisApi(_0x1e6c26,_0x43c046),_0x4ab15b=_0x1c2fc6['questions']['map']((_0x1ff893,_0x5e0d41)=>({..._0x1ff893,'id':'q_'+Date[_0x409358(0x2a6)]()+'_'+_0x5e0d41})),_0x4d20ce=_0x409358(0xbd7)+_0x86d2e1['topic'],_0x1039b3={'topic':_0x4d20ce,'questions':_0x4ab15b,'quizType':_0x86d2e1[_0x409358(0x4d2)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x409358(0x67d)](),'status':_0x409358(0x72f),'settings':_0x86d2e1[_0x409358(0x5a5)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x48ac11;while(!![]){_0x48ac11=Math[_0x409358(0x442)](0x3e8+Math[_0x409358(0x51e)]()*0x2328)[_0x409358(0x24c)]();const _0x2a4ce8=await getDoc(doc(db,'artifacts/'+appId+_0x409358(0x653),_0x48ac11));if(!_0x2a4ce8[_0x409358(0x75c)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x409358(0x653),_0x48ac11),_0x1039b3),showMessage(_0x409358(0x747));}catch(_0x256fad){console[_0x409358(0x274)](_0x409358(0xa77),_0x256fad),showMessage('เกิดข้อผิดพลาด:\x20'+_0x256fad[_0x409358(0x5e6)]);}finally{const _0x1124ac=document[_0x409358(0x2f7)](_0x409358(0x55e));_0x1124ac&&_0x1124ac[_0x409358(0x2cf)](),_0x2283f7[_0x409358(0x2ff)][_0x409358(0x2cf)](_0x409358(0xad0));}}async function handleGenerateParallelPostTest(_0x31b532){const _0x74de47=_0x121993,_0x55ca86=document[_0x74de47(0x2f7)]('results-tab-content'),_0x2934dd=document[_0x74de47(0x2f7)](_0x74de47(0x3df));_0x2934dd['classList']['add'](_0x74de47(0xad0));const _0x14c78e=_0x74de47(0xbda);_0x55ca86[_0x74de47(0x8b3)]('beforeend',_0x14c78e);try{const _0x507acd=_0x31b532[_0x74de47(0xc33)][_0x74de47(0xce7)]((_0x64b1cb,_0x3b5821)=>{const _0x3b90d2=_0x74de47;let _0x234659=_0x3b5821+0x1+'.\x20'+(_0x64b1cb[_0x3b90d2(0x41b)]||_0x64b1cb[_0x3b90d2(0x859)]);if(_0x64b1cb[_0x3b90d2(0x450)])_0x234659+=_0x3b90d2(0x662)+_0x64b1cb['options'][_0x3b90d2(0x5c4)](',\x20');return _0x234659;})[_0x74de47(0x5c4)]('\x0a\x0a'),_0x1252e2=_0x74de47(0xcc9)+_0x31b532[_0x74de47(0x9ce)]+_0x74de47(0x69f)+_0x507acd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x74de47(0xa8a),_0x3ce32f={'type':'OBJECT','properties':{'topic':{'type':_0x74de47(0xcd6)},'questions':{'type':_0x74de47(0xd78),'items':{'type':_0x74de47(0xde6),'properties':{'questionText':{'type':_0x74de47(0xcd6)},'questionType':{'type':_0x74de47(0xcd6)},'options':{'type':_0x74de47(0xd78),'items':{'type':_0x74de47(0xcd6)}},'correctAnswerIndex':{'type':_0x74de47(0x714)},'idealAnswer':{'type':_0x74de47(0xcd6)},'explanation':{'type':'STRING'}},'required':[_0x74de47(0x41b),'explanation']}}},'required':[_0x74de47(0x9ce),_0x74de47(0xc33)]},_0x3675fe=await callAnalysisApi(_0x1252e2,_0x3ce32f),_0x41d315=_0x31b532[_0x74de47(0x9ce)][_0x74de47(0xbbe)](_0x74de47(0x3d4),'')['trim'](),_0x2e7ab3=_0x74de47(0x401)+_0x41d315,_0x3b5c87={..._0x3675fe,'topic':_0x2e7ab3,'quizType':_0x31b532[_0x74de47(0x4d2)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x74de47(0x67d)](),'status':_0x74de47(0x72f),'settings':_0x31b532['settings'],'quizMode':_0x74de47(0x940),'pairedQuizId':_0x31b532['id']};let _0x281940;while(!![]){_0x281940=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0x4c9520=await getDoc(doc(db,_0x74de47(0x1da)+appId+'/public/data/quizzes',_0x281940));if(!_0x4c9520[_0x74de47(0x75c)]())break;}await setDoc(doc(db,_0x74de47(0x1da)+appId+_0x74de47(0x653),_0x281940),_0x3b5c87);const _0xe0ae3f=doc(db,_0x74de47(0x1da)+appId+_0x74de47(0x653),_0x31b532['id']);await updateDoc(_0xe0ae3f,{'pairedQuizId':_0x281940}),showMessage(_0x74de47(0xaec));}catch(_0x35cb17){console[_0x74de47(0x274)](_0x74de47(0x61d),_0x35cb17),showMessage(_0x74de47(0x663)+_0x35cb17[_0x74de47(0x5e6)]);}finally{const _0x2e8b99=document[_0x74de47(0x2f7)](_0x74de47(0x55e));if(_0x2e8b99)_0x2e8b99[_0x74de47(0x2cf)]();_0x2934dd[_0x74de47(0x2ff)][_0x74de47(0x2cf)]('hidden');}}async function handleGenerateParallelTest(_0x2a5137=null){const _0x4cbe27=_0x121993;let _0x1f40e5=_0x2a5137;if(!_0x1f40e5){const _0x3b9f1f=document[_0x4cbe27(0x2f7)](_0x4cbe27(0xbdd));_0x3b9f1f['files']['length']>0x0&&(_0x1f40e5=_0x3b9f1f['files'][0x0]);}if(!_0x1f40e5){showMessage(_0x4cbe27(0x4ec));return;}const _0x37784d=document[_0x4cbe27(0x2f7)](_0x4cbe27(0xd29)),_0x188b54=document[_0x4cbe27(0x2f7)](_0x4cbe27(0x488)),_0x4bbf5d=document['getElementById']('generated-quiz-container'),_0x2372c7=document[_0x4cbe27(0x2f7)](_0x4cbe27(0xc95));_0x2372c7[_0x4cbe27(0x687)]=!![],document[_0x4cbe27(0x2f7)]('quiz-generation-area')[_0x4cbe27(0x2ff)]['remove'](_0x4cbe27(0xad0)),_0x4bbf5d[_0x4cbe27(0x8c4)]='',_0x37784d[_0x4cbe27(0x2ff)][_0x4cbe27(0x2cf)](_0x4cbe27(0xad0)),_0x188b54[_0x4cbe27(0xa28)]=_0x4cbe27(0x9b4);const _0x48495e=new FileReader();_0x48495e[_0x4cbe27(0x61a)](_0x1f40e5),_0x48495e[_0x4cbe27(0x391)]=async()=>{const _0x177421=_0x4cbe27;try{const _0x568b13=_0x48495e[_0x177421(0x5ec)][_0x177421(0xd47)](',')[0x1],_0x389edf=_0x1f40e5['type'];_0x188b54['textContent']=_0x177421(0x7dc);const _0x220a21=document[_0x177421(0x2f7)]('include-images-checkbox')[_0x177421(0x28f)],_0x5e5ea3=_0x220a21?_0x177421(0x783):'',_0x39a3be=_0x177421(0x5c7),_0x22dc05={'type':_0x177421(0xde6),'properties':{'questionText':{'type':_0x177421(0xcd6)},'questionType':{'type':'STRING','enum':[_0x177421(0xc3f),_0x177421(0x2bc)]},'options':{'type':_0x177421(0xd78),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x177421(0x714)},'idealAnswer':{'type':_0x177421(0xcd6)},'explanation':{'type':_0x177421(0xcd6)},'imageCode':{'type':'STRING'}},'required':[_0x177421(0x41b),_0x177421(0x5ac),'explanation']},_0x1badc3={'type':'OBJECT','properties':{'topic':{'type':_0x177421(0xcd6)},'questions':{'type':_0x177421(0xd78),'items':_0x22dc05}},'required':[_0x177421(0x9ce),_0x177421(0xc33)]},_0x1fdf31=[{'text':_0x39a3be},{'inlineData':{'mimeType':_0x389edf,'data':_0x568b13}}];await handleApiCall(_0x1fdf31,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x1badc3);}catch(_0x50c958){console['error'](_0x177421(0xc99),_0x50c958),showMessage('เกิดข้อผิดพลาด:\x20'+_0x50c958[_0x177421(0x5e6)]),_0x4bbf5d['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x37784d[_0x177421(0x2ff)]['add'](_0x177421(0xad0)),_0x2372c7[_0x177421(0x687)]=![];}},_0x48495e['onerror']=_0x419db5=>{const _0x5958b5=_0x4cbe27;console[_0x5958b5(0x274)](_0x5958b5(0x6ab),_0x419db5),showMessage(_0x5958b5(0xccb)),_0x37784d[_0x5958b5(0x2ff)][_0x5958b5(0x30d)]('hidden'),_0x2372c7[_0x5958b5(0x687)]=![];};}async function handleRegenerateQuestionInEditor(_0xfc3c3a){const _0x13a7ba=_0x121993;if(currentEditingQuizData===null)return;const _0x15d2b1=document[_0x13a7ba(0x839)](_0x13a7ba(0xdc3)+_0xfc3c3a+'\x22]');_0x15d2b1&&(_0x15d2b1[_0x13a7ba(0x8c4)]=_0x13a7ba(0xa0f));const _0x186271=currentEditingQuizData[_0x13a7ba(0xc33)][_0xfc3c3a],_0x1df62e=currentEditingQuizData[_0x13a7ba(0x9ce)],_0x221469=_0x186271[_0x13a7ba(0x5ac)],_0x4e83b3={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x13a7ba(0xd78),'items':{'type':_0x13a7ba(0xcd6)}},'correctAnswerIndex':{'type':_0x13a7ba(0x714)},'explanation':{'type':'STRING'}},'required':['questionText','options',_0x13a7ba(0xc9f),_0x13a7ba(0xb3d)]},_0x59fbfa={'type':_0x13a7ba(0xde6),'properties':{'questionText':{'type':_0x13a7ba(0xcd6)},'idealAnswer':{'type':_0x13a7ba(0xcd6)},'explanation':{'type':_0x13a7ba(0xcd6)}},'required':[_0x13a7ba(0x41b),'idealAnswer','explanation']};let _0x591554,_0x5615dd='';_0x221469===_0x13a7ba(0xc3f)?(_0x591554=_0x4e83b3,_0x5615dd=_0x13a7ba(0x792)):(_0x591554=_0x59fbfa,_0x5615dd=_0x13a7ba(0x837));const _0x4a74e2=_0x13a7ba(0x229)+_0x1df62e+_0x13a7ba(0xc05)+_0x5615dd+_0x13a7ba(0x1ee)+(_0x186271[_0x13a7ba(0x41b)]||_0x186271['stem'])+_0x13a7ba(0x7b2)+simpleMathPrompt;try{const _0x5a7364=await callAnalysisApi(_0x4a74e2,_0x591554);currentEditingQuizData[_0x13a7ba(0xc33)][_0xfc3c3a]={..._0x186271,..._0x5a7364},renderQuizEditor(currentEditingQuizData);}catch(_0x2fb90b){console[_0x13a7ba(0x274)](_0x13a7ba(0x4d3),_0x2fb90b),showMessage(_0x13a7ba(0x4aa)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x51e4a6=_0x121993,_0x3656e0=document[_0x51e4a6(0x2f7)](_0x51e4a6(0xd18));currentMode===_0x51e4a6(0xc2d)?(currentMode='admin',_0x3656e0[_0x51e4a6(0x8c4)]=_0x51e4a6(0xd0b),_0x3656e0['title']='สลับไปโหมดนักเรียน',showView(_0x51e4a6(0xaf5))):(currentMode=_0x51e4a6(0xc2d),_0x3656e0[_0x51e4a6(0x8c4)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x3656e0[_0x51e4a6(0xc36)]=_0x51e4a6(0x4a1),showView(_0x51e4a6(0xc2d)));}function handleAdminLogin(){const _0x4ba6a0=_0x121993,_0xb9fe2b=document[_0x4ba6a0(0x2f7)]('admin-password-input'),_0x3d666f=document[_0x4ba6a0(0x2f7)]('password-error-msg');if(_0xb9fe2b[_0x4ba6a0(0x5b6)]===_0x4ba6a0(0x7f5)){adminPasswordModal['classList']['add'](_0x4ba6a0(0xad0)),_0xb9fe2b['value']='',_0x3d666f['classList'][_0x4ba6a0(0x30d)](_0x4ba6a0(0xad0)),currentMode=_0x4ba6a0(0x8fa);const _0x55d958=document['getElementById'](_0x4ba6a0(0xd18));_0x55d958['innerHTML']=_0x4ba6a0(0xd0b),_0x55d958[_0x4ba6a0(0xc36)]='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x3d666f[_0x4ba6a0(0x2ff)][_0x4ba6a0(0x2cf)](_0x4ba6a0(0xad0)),_0xb9fe2b['value']='';}function switchProjectTab(_0x58ee89){const _0x45a1e0=_0x121993;[_0x45a1e0(0xd65),_0x45a1e0(0xb2b),_0x45a1e0(0x6ce)][_0x45a1e0(0x616)](_0x21aa39=>{const _0xa71e38=_0x45a1e0;document['getElementById'](_0x21aa39+_0xa71e38(0xc41))[_0xa71e38(0x2ff)][_0xa71e38(0x2cf)](_0xa71e38(0x72f)),document[_0xa71e38(0x2f7)](_0x21aa39+_0xa71e38(0x59c))[_0xa71e38(0x2ff)]['add'](_0xa71e38(0xad0));}),document[_0x45a1e0(0x2f7)](_0x58ee89+_0x45a1e0(0xc41))[_0x45a1e0(0x2ff)]['add'](_0x45a1e0(0x72f)),document['getElementById'](_0x58ee89+_0x45a1e0(0x59c))['classList'][_0x45a1e0(0x2cf)](_0x45a1e0(0xad0));}function switchQuizDetailTab(_0x399a4d){const _0x264282=_0x121993,_0x4d391c={'analytics':{'btn':_0x264282(0xbd0),'content':_0x264282(0x446)},'scores':{'btn':_0x264282(0xaa9),'content':_0x264282(0x3bc)},'leaderboard-quiz':{'btn':_0x264282(0x507),'content':_0x264282(0x46c)},'behavior-log':{'btn':_0x264282(0xde9),'content':_0x264282(0x8cb)}};for(const _0x172cca in _0x4d391c){document['getElementById'](_0x4d391c[_0x172cca]['btn'])['classList']['remove']('active'),document['getElementById'](_0x4d391c[_0x172cca][_0x264282(0x261)])[_0x264282(0x2ff)]['add'](_0x264282(0xad0));}document[_0x264282(0x2f7)](_0x4d391c[_0x399a4d][_0x264282(0x3d7)])[_0x264282(0x2ff)][_0x264282(0x30d)](_0x264282(0x72f)),document['getElementById'](_0x4d391c[_0x399a4d][_0x264282(0x261)])[_0x264282(0x2ff)][_0x264282(0x2cf)](_0x264282(0xad0));}function showMessage(_0x4e2b55,_0x5ce49e=null){const _0x6416e4=_0x121993;modalMessage[_0x6416e4(0xa28)]=_0x4e2b55,modalConfirmAction=_0x5ce49e,messageModal['classList'][_0x6416e4(0x2cf)](_0x6416e4(0xad0));}function showConfirmation(_0x291644,_0xf0559f){const _0x300730=_0x121993;document['getElementById'](_0x300730(0xb61))[_0x300730(0xa28)]=_0x291644,document[_0x300730(0x2f7)](_0x300730(0x232))['querySelector']('h3')['textContent']=_0x300730(0x7c0),confirmAction=_0xf0559f,confirmationModal[_0x300730(0x2ff)][_0x300730(0x2cf)](_0x300730(0xad0));}function listenForProjects(){const _0x36f1eb=_0x121993,_0x104ca6=doc(db,_0x36f1eb(0xb89),_0x36f1eb(0x828));onSnapshot(_0x104ca6,_0x4d0f21=>{const _0x5854c3=_0x36f1eb;if(_0x4d0f21['exists']()){const _0x5cfcba=_0x4d0f21[_0x5854c3(0x72a)]();globalDashboardSettings[_0x5854c3(0x62e)]=_0x5cfcba['projectSort']||_0x5854c3(0xd7e),globalDashboardSettings['pinnedProjects']=_0x5cfcba[_0x5854c3(0x9a2)]||[],globalDashboardSettings[_0x5854c3(0x891)]=_0x5cfcba[_0x5854c3(0x891)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x1484fe=collection(db,_0x36f1eb(0x1da)+appId+_0x36f1eb(0x9f0));unsubscribeProjectsListener=onSnapshot(_0x1484fe,_0x281363=>{const _0x1a8de8=_0x36f1eb;allProjects=_0x281363['docs']['map'](_0x5e63d0=>({'id':_0x5e63d0['id'],..._0x5e63d0[_0x1a8de8(0x72a)]()})),renderProjects();},_0x2e468f=>{const _0x4c8c82=_0x36f1eb;console[_0x4c8c82(0x274)]('Error\x20listening\x20for\x20projects:',_0x2e468f),showMessage(_0x4c8c82(0x30e));});}function showColorPalette(_0x3b36f4,_0x1eb383){const _0x2904f2=_0x121993;document[_0x2904f2(0x4cb)](_0x2904f2(0x7cd))['forEach'](_0x183971=>_0x183971['remove']());const _0x204802=[_0x2904f2(0x22c),_0x2904f2(0x24a),_0x2904f2(0x64d),_0x2904f2(0x68c),_0x2904f2(0x4ba),_0x2904f2(0x4e3),_0x2904f2(0x827),'#FCE7F3',_0x2904f2(0xa4d)],_0x133ea3=document[_0x2904f2(0x78e)](_0x2904f2(0x5e2));_0x133ea3['className']=_0x2904f2(0xad3),_0x204802['forEach'](_0x42dd2c=>{const _0x3f176a=_0x2904f2,_0x40925c=document['createElement']('div');_0x40925c[_0x3f176a(0x226)]=_0x3f176a(0x916),_0x40925c[_0x3f176a(0x259)][_0x3f176a(0x753)]=_0x42dd2c,_0x40925c[_0x3f176a(0xdd3)](_0x3f176a(0x754),()=>{const _0x311f53=_0x3f176a;handleProjectColorChange(_0x1eb383,_0x42dd2c),_0x133ea3[_0x311f53(0x2cf)]();}),_0x133ea3[_0x3f176a(0xd74)](_0x40925c);}),document[_0x2904f2(0x536)]['appendChild'](_0x133ea3);const _0x333a71=_0x3b36f4['getBoundingClientRect']();_0x133ea3[_0x2904f2(0x259)]['top']=_0x333a71['bottom']+window['scrollY']+'px',_0x133ea3[_0x2904f2(0x259)][_0x2904f2(0x917)]=_0x333a71[_0x2904f2(0x917)]+window[_0x2904f2(0x903)]-_0x133ea3['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x164fbb,_0x4cbd41){const _0x1bdfb4=_0x121993,_0x56c501=doc(db,_0x1bdfb4(0x1da)+appId+_0x1bdfb4(0x9f0),_0x164fbb);try{await updateDoc(_0x56c501,{'color':_0x4cbd41});}catch(_0x54ff07){console[_0x1bdfb4(0x274)](_0x1bdfb4(0x1fe),_0x54ff07),showMessage(_0x1bdfb4(0xc69));}}async function renderProjects(){const _0x40893c=_0x121993,_0xae8dd6=globalDashboardSettings[_0x40893c(0x62e)]||_0x40893c(0xd7e),_0x5b7d6b=new Set(globalDashboardSettings[_0x40893c(0x9a2)]||[]),_0x5e1d3b=globalDashboardSettings[_0x40893c(0x607)]||_0x40893c(0x865),_0x1c8779=document[_0x40893c(0x2f7)](_0x40893c(0x680)),_0x3ed19c=document['getElementById'](_0x40893c(0xbab));_0x1c8779['classList'][_0x40893c(0x65e)]('active',_0x5e1d3b===_0x40893c(0x865)),_0x3ed19c[_0x40893c(0x2ff)][_0x40893c(0x65e)](_0x40893c(0x72f),_0x5e1d3b===_0x40893c(0x95c)),document[_0x40893c(0x2f7)](_0x40893c(0xb4e))[_0x40893c(0x5b6)]=_0xae8dd6;const _0xaf2969=document[_0x40893c(0x2f7)](_0x40893c(0x749))['value']['toLowerCase']();let _0xc6044b=allProjects['filter'](_0x191923=>_0x191923[_0x40893c(0x5d3)][_0x40893c(0xcfa)]()[_0x40893c(0xcec)](_0xaf2969));const _0x1ad58b=_0xc6044b[_0x40893c(0x9a7)](_0x5c0b5=>_0x5b7d6b['has'](_0x5c0b5['id'])),_0x2c330a=_0xc6044b[_0x40893c(0x9a7)](_0x34cc9e=>!_0x5b7d6b['has'](_0x34cc9e['id'])),_0x4f1970=(_0x16b818,_0x3cc9d0)=>{const _0x5059af=_0x40893c;switch(_0xae8dd6){case _0x5059af(0x8a1):return _0x16b818['projectName']['localeCompare'](_0x3cc9d0[_0x5059af(0x5d3)],'th');case _0x5059af(0x964):return _0x3cc9d0[_0x5059af(0x5d3)][_0x5059af(0x9e4)](_0x16b818[_0x5059af(0x5d3)],'th');case _0x5059af(0xd5a):return new Date(_0x16b818[_0x5059af(0x2ca)])-new Date(_0x3cc9d0[_0x5059af(0x2ca)]);default:return new Date(_0x3cc9d0['createdAt'])-new Date(_0x16b818['createdAt']);}};_0x1ad58b[_0x40893c(0x423)](_0x4f1970),_0x2c330a[_0x40893c(0x423)](_0x4f1970);const _0x59bf81=[..._0x1ad58b,..._0x2c330a],_0x4c8831=globalDashboardSettings[_0x40893c(0x891)]||[];_0x4c8831['length']>0x0&&_0x5e1d3b===_0x40893c(0x865)&&_0x59bf81[_0x40893c(0x423)]((_0x12e584,_0x350181)=>{const _0x28490e=_0x40893c,_0x446a1f=_0x4c8831[_0x28490e(0xc45)](_0x12e584['id']),_0x5daf3d=_0x4c8831[_0x28490e(0xc45)](_0x350181['id']);if(_0x446a1f===-0x1)return 0x1;if(_0x5daf3d===-0x1)return-0x1;return _0x446a1f-_0x5daf3d;});const _0xddd1f5={};await Promise[_0x40893c(0x943)](_0x59bf81[_0x40893c(0xce7)](async _0x364493=>{const _0x55d883=_0x40893c,_0x2ae14f=query(collection(db,_0x55d883(0x1da)+appId+'/public/data/quizzes'),where(_0x55d883(0xd51),'==',_0x364493['id'])),_0x53b5d8=await getDocs(_0x2ae14f);_0xddd1f5[_0x364493['id']]=_0x53b5d8['size'];}));const _0x2c5cb6=document[_0x40893c(0x2f7)](_0x40893c(0x5e9));let _0xcae3c='';if(_0x5e1d3b==='grid'){_0x2c5cb6[_0x40893c(0x226)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x40893c(0x2b5)]>0x0&&_0xaf2969===''){const _0x3e73bb=starredQuizzes[_0x40893c(0xce7)](_0xf6c1a4=>{const _0x40aafe=_0x40893c,_0x77fbc9=allProjects[_0x40aafe(0x266)](_0x4024a3=>_0x4024a3['id']===_0xf6c1a4[_0x40aafe(0xd51)]);return{..._0xf6c1a4,'projectName':_0x77fbc9?_0x77fbc9[_0x40aafe(0x5d3)]:_0x40aafe(0x633)};});_0xcae3c+=_0x40893c(0x955)+_0x3e73bb[_0x40893c(0xce7)](_0x3d3008=>_0x40893c(0xb4c)+_0x3d3008[_0x40893c(0x9ce)]+'\x22>'+_0x3d3008['topic']+_0x40893c(0x68b)+_0x3d3008[_0x40893c(0x5d3)]+_0x40893c(0xa18)+_0x3d3008['projectName']+_0x40893c(0x54c))[_0x40893c(0x5c4)]('')+_0x40893c(0x67b)+starredQuizzes[_0x40893c(0x2b5)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x59bf81['forEach'](_0x24cebc=>{const _0x183787=_0x40893c,_0x32a751=_0xddd1f5[_0x24cebc['id']]??0x0,_0x5b0711=_0x5b7d6b['has'](_0x24cebc['id']),_0x55c6b0=_0x24cebc[_0x183787(0x84b)]||'#FFFFFF',_0x2cc52d=parseInt(_0x55c6b0['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x55c6b0[_0x183787(0x755)](0x3,0x5),0x10)*0.587+parseInt(_0x55c6b0[_0x183787(0x755)](0x5,0x7),0x10)*0.114<0xba,_0x474391=_0x2cc52d?_0x183787(0x80f):_0x183787(0xae3),_0x8a0bf2=_0x2cc52d?_0x183787(0x4f2):_0x183787(0xad5);_0xcae3c+=_0x183787(0x982)+(_0x5b0711?_0x183787(0x862):_0x183787(0xd96))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x55c6b0+_0x183787(0x930)+_0x24cebc['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24cebc['id']+_0x183787(0x5ab)+(_0x2cc52d?_0x183787(0x4c7):'text-gray-400\x20hover:text-indigo-600')+_0x183787(0xd9f)+_0x24cebc['id']+_0x183787(0x7da)+(_0x2cc52d?_0x183787(0x4c7):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5b0711?_0x2cc52d?'text-yellow-300':'text-indigo-600':'')+_0x183787(0xa44)+_0x24cebc['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x474391+'\x20pointer-events-none\x22>'+_0x24cebc[_0x183787(0x5d3)]+_0x183787(0x1f0)+_0x8a0bf2+_0x183787(0xdda)+new Date(_0x24cebc['createdAt'])[_0x183787(0xddc)](_0x183787(0x95f))+_0x183787(0x405)+(_0x2cc52d?_0x183787(0xd67):_0x183787(0x61b))+_0x183787(0x3e4)+_0x32a751+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24cebc['id']+_0x183787(0xb7f)+_0x24cebc[_0x183787(0x5d3)]+_0x183787(0x8a5)+(_0x2cc52d?_0x183787(0x406):_0x183787(0xd00))+_0x183787(0x51c);});}else _0x2c5cb6[_0x40893c(0x226)]='flex\x20flex-col\x20gap-2',starredQuizzes['length']>0x0&&_0xaf2969===''&&(_0xcae3c+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x40893c(0x2b5)]+_0x40893c(0x6c3)),_0xcae3c+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x59bf81[_0x40893c(0x616)](_0x599881=>{const _0x2b70de=_0x40893c,_0x217fca=_0xddd1f5[_0x599881['id']]??0x0,_0x5e5fc9=_0x5b7d6b[_0x2b70de(0x553)](_0x599881['id']);_0xcae3c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x599881[_0x2b70de(0x84b)]||'#E5E7EB')+_0x2b70de(0x3ec)+_0x599881['id']+_0x2b70de(0x610)+_0x599881[_0x2b70de(0x5d3)]+_0x2b70de(0x8d1)+_0x217fca+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x599881[_0x2b70de(0x2ca)])[_0x2b70de(0x67f)](_0x2b70de(0x95f))+_0x2b70de(0x8ee)+_0x599881['id']+_0x2b70de(0x258)+(_0x5e5fc9?_0x2b70de(0xb7c):'')+_0x2b70de(0x809)+_0x599881['id']+_0x2b70de(0xb7f)+_0x599881['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x40893c(0x8c4)]=_0xcae3c,noProjectsMsg[_0x40893c(0x2ff)][_0x40893c(0x65e)](_0x40893c(0xad0),_0xcae3c['length']>0x0);}document[_0x121993(0x2f7)]('confirm-create-project-btn')[_0x121993(0xdd3)]('click',async()=>{const _0x57760f=_0x121993,_0x262808=document[_0x57760f(0x2f7)](_0x57760f(0xbf4)),_0x20bad4=_0x262808[_0x57760f(0x5b6)][_0x57760f(0xe11)]();if(!_0x20bad4){showMessage(_0x57760f(0x9aa));return;}try{const _0x181ffc=doc(collection(db,_0x57760f(0x1da)+appId+_0x57760f(0x9f0)));await setDoc(_0x181ffc,{'projectName':_0x20bad4,'students':[],'settings':{'resultsDisplay':_0x57760f(0xcb2),'shuffleSetting':_0x57760f(0x346),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x57760f(0x346),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x57760f(0x67d)]()}),_0x262808['value']='',createProjectModal[_0x57760f(0x2ff)]['add']('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0xffc127){console[_0x57760f(0x274)](_0x57760f(0x438),_0xffc127),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x121993(0xdd3)](_0x121993(0x754),async _0x22ac35=>{const _0x4ad8e8=_0x121993,_0x125b0f=_0x22ac35['target'][_0x4ad8e8(0xb5f)](_0x4ad8e8(0x277)),_0x110a4a=_0x22ac35[_0x4ad8e8(0x898)]['closest']('.delete-project-btn'),_0x440b31=_0x22ac35[_0x4ad8e8(0x898)][_0x4ad8e8(0xb5f)]('.pin-project-btn'),_0x560946=_0x22ac35['target']['closest'](_0x4ad8e8(0x3ed));if(_0x440b31){const _0x443ead=_0x440b31[_0x4ad8e8(0x683)]['id'],_0x94f533=doc(db,_0x4ad8e8(0xb89),_0x4ad8e8(0x828)),_0x42fbd9=globalDashboardSettings[_0x4ad8e8(0x9a2)];let _0xd38021;_0x42fbd9['includes'](_0x443ead)?_0xd38021=_0x42fbd9[_0x4ad8e8(0x9a7)](_0x4b8f5c=>_0x4b8f5c!==_0x443ead):_0xd38021=[..._0x42fbd9,_0x443ead];try{await setDoc(_0x94f533,{'pinnedProjects':_0xd38021},{'merge':!![]});}catch(_0xfe668c){console[_0x4ad8e8(0x274)](_0x4ad8e8(0x1ea),_0xfe668c),showMessage(_0x4ad8e8(0xbff));}}else{if(_0x560946){const _0x33bd0d=_0x560946[_0x4ad8e8(0x683)]['id'];showColorPalette(_0x560946,_0x33bd0d);}else{if(_0x125b0f){const _0x49fea0=_0x125b0f[_0x4ad8e8(0x683)]['id'];_0x49fea0==='starred-project'?showStarredProjectView():(currentProjectId=_0x49fea0,await loadProjectDetails(currentProjectId),showView(_0x4ad8e8(0x6d3)));}else{if(_0x110a4a){const _0xa68e3a=_0x110a4a[_0x4ad8e8(0x683)]['id'],_0xa3a23f=_0x110a4a[_0x4ad8e8(0x683)]['name'];showConfirmation(_0x4ad8e8(0xd7a)+_0xa3a23f+_0x4ad8e8(0xb50),()=>handleDeleteProject(_0xa68e3a));}}}}}),projectList['addEventListener'](_0x121993(0xaee),_0x18ece2=>{const _0x22b529=_0x121993,_0x518d51=_0x18ece2['target'][_0x22b529(0xb5f)](_0x22b529(0x8e2));_0x518d51&&_0x518d51[_0x22b529(0x2ff)][_0x22b529(0x30d)](_0x22b529(0xb00));}),projectList[_0x121993(0xdd3)](_0x121993(0x2a2),_0x303d56=>{const _0x4f7bb5=_0x121993,_0x512c94=_0x303d56[_0x4f7bb5(0x898)][_0x4f7bb5(0xb5f)]('.project-card-container');_0x512c94&&_0x512c94[_0x4f7bb5(0x2ff)][_0x4f7bb5(0x2cf)](_0x4f7bb5(0xb00));}),projectList[_0x121993(0xdd3)](_0x121993(0xa66),_0x220ebc=>{const _0x220749=_0x121993;_0x220ebc[_0x220749(0xd5c)]();const _0xa84bb1=document['querySelector'](_0x220749(0x471));if(!_0xa84bb1)return;const _0x198101=getDragAfterElement(projectList,_0x220ebc[_0x220749(0x639)]);_0x198101==null?projectList['appendChild'](_0xa84bb1):projectList[_0x220749(0xaa3)](_0xa84bb1,_0x198101);}),projectList[_0x121993(0xdd3)](_0x121993(0x27b),_0x253aa3=>{const _0x4a1b2d=_0x121993;_0x253aa3[_0x4a1b2d(0xd5c)]();const _0x482bdd=[...projectList[_0x4a1b2d(0x4cb)]('.project-card-container[data-id]')][_0x4a1b2d(0xce7)](_0x6c651c=>_0x6c651c[_0x4a1b2d(0x683)]['id']);saveProjectOrder(_0x482bdd);});function renderBehaviorLog(_0x14ffc7){const _0x2506d5=_0x121993,_0x175e7a=document[_0x2506d5(0x2f7)](_0x2506d5(0xcf0));if(!_0x175e7a)return;const _0x560c0e=_0x14ffc7[_0x2506d5(0x9a7)](_0x12e587=>_0x12e587[_0x2506d5(0x3ff)]&&_0x12e587[_0x2506d5(0x3ff)][_0x2506d5(0x2b5)]>0x0);if(_0x560c0e[_0x2506d5(0x2b5)]===0x0){_0x175e7a[_0x2506d5(0x8c4)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x25a426='';_0x560c0e[_0x2506d5(0x616)](_0x192a03=>{const _0x10408c=_0x2506d5;_0x25a426+=_0x10408c(0x23e)+_0x192a03[_0x10408c(0xae4)]+_0x10408c(0xdc1),_0x192a03[_0x10408c(0x3ff)][_0x10408c(0x423)]((_0x22531f,_0x41d3df)=>new Date(_0x41d3df['timestamp'])-new Date(_0x22531f['timestamp']))[_0x10408c(0x616)](_0x1a700b=>{const _0x46bf33=_0x10408c,_0x375d43=new Date(_0x1a700b[_0x46bf33(0xc6e)])[_0x46bf33(0x67f)](_0x46bf33(0x95f),{'dateStyle':_0x46bf33(0x1dd),'timeStyle':_0x46bf33(0x55a)});_0x25a426+=_0x46bf33(0xbde)+_0x1a700b['attemptNumber']+_0x46bf33(0x3f3)+_0x375d43+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x25a426+=_0x10408c(0x970);}),_0x175e7a[_0x2506d5(0x8c4)]=_0x25a426;}function getDragAfterElement(_0xdb99c2,_0x59d064){const _0x4bde21=_0x121993,_0x5e2163=[..._0xdb99c2['querySelectorAll'](_0x4bde21(0x656))];return _0x5e2163[_0x4bde21(0x971)]((_0x430dd4,_0x101799)=>{const _0x464d1e=_0x4bde21,_0x392d61=_0x101799['getBoundingClientRect'](),_0x33bca8=_0x59d064-_0x392d61['top']-_0x392d61[_0x464d1e(0x77b)]/0x2;return _0x33bca8<0x0&&_0x33bca8>_0x430dd4['offset']?{'offset':_0x33bca8,'element':_0x101799}:_0x430dd4;},{'offset':Number[_0x4bde21(0x96b)]})['element'];}async function saveProjectOrder(_0x491325){const _0xcce2b=_0x121993,_0x236b50=doc(db,_0xcce2b(0xb89),'dashboardConfig');try{await setDoc(_0x236b50,{'projectOrder':_0x491325},{'merge':!![]});}catch(_0x4c90d0){console[_0xcce2b(0x274)](_0xcce2b(0x619),_0x4c90d0),showMessage(_0xcce2b(0xd8c));}}async function logBehaviorEvent(_0x1ecf1d,_0x315d8f={}){const _0x39055a=_0x121993;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x39055a(0x22a)](_0x39055a(0x6f0));return;}const _0x5bd7fd=doc(db,_0x39055a(0x1da)+appId+_0x39055a(0x71c)+currentQuizData['id']+'/submissions',currentStudentName),_0x2d06aa={'event':_0x1ecf1d,'timestamp':new Date()[_0x39055a(0x67d)](),..._0x315d8f};try{await updateDoc(_0x5bd7fd,{'behaviorLog':arrayUnion(_0x2d06aa)}),console['log']('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x39055a(0xd61));}catch(_0x285c2f){_0x285c2f[_0x39055a(0x3d2)]===_0x39055a(0x50c)?console[_0x39055a(0x22a)](_0x39055a(0x6b0)+currentStudentName+_0x39055a(0xd89)):console[_0x39055a(0x274)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x285c2f);}}function calculateMeanAndStdDev(_0x5184b3){const _0x35f93c=_0x121993;if(_0x5184b3['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x22baa2=_0x5184b3[_0x35f93c(0x971)]((_0x1bfc9e,_0x5d0748)=>_0x1bfc9e+_0x5d0748,0x0)/_0x5184b3[_0x35f93c(0x2b5)];if(_0x5184b3[_0x35f93c(0x2b5)]===0x1)return{'mean':_0x22baa2,'stdDev':0x0};const _0x40d732=Math['sqrt'](_0x5184b3[_0x35f93c(0xce7)](_0x16d7ee=>Math['pow'](_0x16d7ee-_0x22baa2,0x2))['reduce']((_0x34ae15,_0x54fa6c)=>_0x34ae15+_0x54fa6c,0x0)/(_0x5184b3[_0x35f93c(0x2b5)]-0x1));return{'mean':_0x22baa2,'stdDev':_0x40d732};}function calculateZScore(_0x24d698,_0x1e3ceb,_0x39c4b0){if(_0x39c4b0===0x0)return 0x0;return(_0x24d698-_0x1e3ceb)/_0x39c4b0;}function calculateTScore(_0x2241ea){return 0xa*_0x2241ea+0x32;}function showStarredProjectView(){const _0x2da1ed=_0x121993;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0x2da1ed(0x6df),projectIdDisplay[_0x2da1ed(0xa28)]=_0x2da1ed(0x7d2),showView(_0x2da1ed(0x6d3)),manageTab[_0x2da1ed(0x2ff)][_0x2da1ed(0x30d)](_0x2da1ed(0xad0)),leaderboardTab['classList']['add'](_0x2da1ed(0xad0)),switchProjectTab(_0x2da1ed(0xb2b)),renderQuizzes();}async function loadProjectDetails(_0x2c58ca){const _0x3edb97=_0x121993,_0xc8c681=doc(db,_0x3edb97(0x1da)+appId+_0x3edb97(0x9f0),_0x2c58ca),_0x19928a=await getDoc(_0xc8c681);if(_0x19928a[_0x3edb97(0x75c)]()){manageTab['classList'][_0x3edb97(0x2cf)](_0x3edb97(0xad0)),leaderboardTab[_0x3edb97(0x2ff)][_0x3edb97(0x2cf)](_0x3edb97(0xad0)),currentProjectData=_0x19928a[_0x3edb97(0x72a)](),projectTitle[_0x3edb97(0xa28)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x2c58ca;const _0x4a6bb8=currentProjectData['settings']||{};document['getElementById'](_0x3edb97(0x8c2))[_0x3edb97(0x5b6)]=_0x4a6bb8[_0x3edb97(0x51d)]||_0x3edb97(0x346);const _0x1acf0a=document['getElementById'](_0x3edb97(0x73c));_0x1acf0a[_0x3edb97(0x28f)]=_0x4a6bb8['showInStudentDashboard']!==![];const _0x2e9f1a=document[_0x3edb97(0x2f7)](_0x3edb97(0x986)),_0x46ee22=document[_0x3edb97(0x2f7)](_0x3edb97(0x1fd)),_0x2d8523=document['getElementById'](_0x3edb97(0x91e)),_0xa9a84a=_0x4a6bb8['isPasscodeEnabled']||![];_0x2e9f1a[_0x3edb97(0x28f)]=_0xa9a84a,_0x2d8523[_0x3edb97(0x5b6)]=_0x4a6bb8['passcode']||'',_0x46ee22[_0x3edb97(0x2ff)][_0x3edb97(0x65e)]('hidden',!_0xa9a84a),_0x2e9f1a[_0x3edb97(0x5a1)]=()=>{const _0x499925=_0x3edb97;_0x46ee22['classList']['toggle'](_0x499925(0xad0),!_0x2e9f1a[_0x499925(0x28f)]);},document['getElementById'](_0x3edb97(0x2c6))['checked']=_0x4a6bb8[_0x3edb97(0xb49)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2c58ca),listenForProjectQuizzes(_0x2c58ca),listenForStudentProfiles(_0x2c58ca);}else showMessage(_0x3edb97(0x36d)),showView(_0x3edb97(0xaf5));}async function handleResetProjectOrder(){const _0x55e250=_0x121993,_0x380dcf=doc(db,'globalSettings',_0x55e250(0x828));try{await setDoc(_0x380dcf,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x55e250(0x8e5));}catch(_0x2b0520){console[_0x55e250(0x274)]('Error\x20resetting\x20project\x20order:',_0x2b0520),showMessage(_0x55e250(0x57a));}}async function handleTogglePinProject(_0x1c4a90){const _0x22e0d9=_0x121993;if(!_0x1c4a90)return;const _0x483ec8=doc(db,'artifacts/'+appId+_0x22e0d9(0x9f0),_0x1c4a90);try{const _0xfe6adf=await getDoc(_0x483ec8);if(_0xfe6adf[_0x22e0d9(0x75c)]()){const _0x4b03b7=_0xfe6adf[_0x22e0d9(0x72a)]()['isPinned']||![];await updateDoc(_0x483ec8,{'isPinned':!_0x4b03b7});}}catch(_0x4f0627){console[_0x22e0d9(0x274)](_0x22e0d9(0x549),_0x4f0627),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0xd5cf9d){const _0x1d8a00=_0x121993;try{const _0xa24ab9=writeBatch(db),_0x1ce39d=collection(db,_0x1d8a00(0x1da)+appId+'/public/data/quizzes'),_0x38998a=query(_0x1ce39d,where(_0x1d8a00(0xd51),'==',_0xd5cf9d)),_0x21cb37=await getDocs(_0x38998a);for(const _0x23f516 of _0x21cb37[_0x1d8a00(0x3c3)]){const _0x212d76=collection(db,'artifacts/'+appId+_0x1d8a00(0x71c)+_0x23f516['id']+'/submissions'),_0x380838=await getDocs(_0x212d76);_0x380838['forEach'](_0x28dd1c=>{const _0x1446d5=_0x1d8a00;_0xa24ab9[_0x1446d5(0xc5d)](_0x28dd1c['ref']);}),_0xa24ab9[_0x1d8a00(0xc5d)](_0x23f516[_0x1d8a00(0x42e)]);}const _0x1e899c=collection(db,_0x1d8a00(0x1da)+appId+_0x1d8a00(0x45a)+_0xd5cf9d+_0x1d8a00(0x63a)),_0x1f3b74=await getDocs(_0x1e899c);_0x1f3b74[_0x1d8a00(0x616)](_0x9f5a1c=>{const _0x4d8c19=_0x1d8a00;_0xa24ab9[_0x4d8c19(0xc5d)](_0x9f5a1c[_0x4d8c19(0x42e)]);});const _0x56150b=doc(db,_0x1d8a00(0x1da)+appId+'/public/data/projects',_0xd5cf9d);_0xa24ab9['delete'](_0x56150b),await _0xa24ab9['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x1d8a00(0xaf5));}catch(_0x1e0c16){console[_0x1d8a00(0x274)]('Error\x20deleting\x20project:',_0x1e0c16),showMessage(_0x1d8a00(0x788));}}document[_0x121993(0x2f7)](_0x121993(0x59a))[_0x121993(0xdd3)](_0x121993(0x754),async()=>{const _0x26dcac=_0x121993;if(!currentProjectId)return;const _0x3ca340={'defaultNumQuestions':parseInt(document['getElementById']('num-questions')['value']),'defaultNumChoices':parseInt(document[_0x26dcac(0x2f7)](_0x26dcac(0x9cb))[_0x26dcac(0x5b6)]),'defaultPassingScore':parseInt(document[_0x26dcac(0x2f7)]('passing-score-input')[_0x26dcac(0x5b6)]),'resultsDisplay':document['getElementById']('results-display-select')[_0x26dcac(0x5b6)],'shuffleSetting':document[_0x26dcac(0x2f7)]('shuffle-setting-select')[_0x26dcac(0x5b6)],'timerMode':document[_0x26dcac(0x2f7)](_0x26dcac(0x89e))[_0x26dcac(0x5b6)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x26dcac(0x5b6)]),'isConfidenceScoringEnabled':document[_0x26dcac(0x2f7)](_0x26dcac(0x2c6))[_0x26dcac(0x28f)],'confidenceMode':document[_0x26dcac(0x2f7)](_0x26dcac(0x7d1))['value']};try{const _0x4d6192=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x4d6192,{'settings':_0x3ca340}),showMessage(_0x26dcac(0x404));}catch(_0x5901e2){console['error'](_0x26dcac(0xdf5),_0x5901e2),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x3880af){const _0x241e27=_0x121993,_0x30567a=doc(db,_0x241e27(0x1da)+appId+'/public/data/projects',_0x3880af);unsubscribeStudentsListener=onSnapshot(_0x30567a,_0x70c014=>{const _0x2699c1=_0x241e27;if(_0x70c014[_0x2699c1(0x75c)]()){const _0x15b1af=_0x70c014[_0x2699c1(0x72a)]();currentProjectData=_0x15b1af,renderStudentList(_0x15b1af[_0x2699c1(0x559)]||[]);}});}function renderStudentList(_0x1db53f){const _0x5c285b=_0x121993,_0x521213=document['getElementById'](_0x5c285b(0x5e4));_0x1db53f[_0x5c285b(0x2b5)]===0x0?(studentList[_0x5c285b(0x8c4)]=_0x5c285b(0xdd0),_0x521213[_0x5c285b(0x2ff)][_0x5c285b(0x30d)](_0x5c285b(0xad0))):(studentList[_0x5c285b(0x8c4)]=_0x1db53f[_0x5c285b(0xce7)](_0x4fb38a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4fb38a+_0x5c285b(0xe16)+_0x4fb38a+_0x5c285b(0x7bf))[_0x5c285b(0x5c4)](''),_0x521213[_0x5c285b(0x2ff)][_0x5c285b(0x2cf)](_0x5c285b(0xad0)));}document[_0x121993(0x2f7)](_0x121993(0xc38))[_0x121993(0xdd3)](_0x121993(0x754),async()=>{const _0x24806c=_0x121993;if(!currentProjectId)return;const _0x4e4eb8=document['getElementById']('student-name-input'),_0x2a7821=_0x4e4eb8['value']['trim']();if(!_0x2a7821){showMessage(_0x24806c(0xaf2));return;}const _0x32824c=_0x2a7821[_0x24806c(0xd47)]('\x0a')[_0x24806c(0xce7)](_0x21d0ef=>_0x21d0ef[_0x24806c(0xe11)]())['filter'](_0x39f4ed=>_0x39f4ed);if(_0x32824c[_0x24806c(0x2b5)]===0x0)return;try{const _0x9c38b4=doc(db,_0x24806c(0x1da)+appId+'/public/data/projects',currentProjectId),_0x5c4fdf=await getDoc(_0x9c38b4);if(_0x5c4fdf['exists']()){const _0x286c0c=_0x5c4fdf[_0x24806c(0x72a)]()[_0x24806c(0x559)]||[],_0x4d2923=[...new Set([..._0x286c0c,..._0x32824c])];await updateDoc(_0x9c38b4,{'students':_0x4d2923}),_0x4e4eb8[_0x24806c(0x5b6)]='';}}catch(_0x46c1e8){console[_0x24806c(0x274)](_0x24806c(0x3a9),_0x46c1e8),showMessage(_0x24806c(0x9f3));}});async function handleManualQuizPairing(_0x3267b3){const _0x2af26b=_0x121993,_0x3faf89=document[_0x2af26b(0x2f7)]('move-quiz-modal'),_0x2ccfbc=document[_0x2af26b(0x2f7)](_0x2af26b(0x75d)),_0x921c0d=_0x3faf89[_0x2af26b(0x839)]('h3'),_0x57430e=document[_0x2af26b(0x2f7)]('confirm-move-quiz-btn'),_0x238094=document[_0x2af26b(0x2f7)](_0x2af26b(0xd5d));_0x921c0d[_0x2af26b(0xa28)]=_0x2af26b(0xc0a),_0x2ccfbc['innerHTML']=_0x2af26b(0x842),_0x57430e[_0x2af26b(0xa28)]='ยืนยันการจับคู่',_0x3faf89[_0x2af26b(0x2ff)][_0x2af26b(0x2cf)]('hidden');const _0x21b21a=allQuizzes[_0x2af26b(0x9a7)](_0x2b7f16=>_0x2b7f16['id']!==_0x3267b3);_0x21b21a[_0x2af26b(0x2b5)]===0x0?(_0x2ccfbc[_0x2af26b(0x8c4)]=_0x2af26b(0xb6d),_0x57430e[_0x2af26b(0x687)]=!![]):(_0x2ccfbc[_0x2af26b(0x8c4)]=_0x2af26b(0x8e9)+_0x21b21a[_0x2af26b(0xce7)](_0x346eae=>_0x2af26b(0xc7d)+_0x346eae['id']+'\x22>'+_0x346eae[_0x2af26b(0x9ce)]+_0x2af26b(0xbc5))[_0x2af26b(0x5c4)](''),_0x57430e[_0x2af26b(0x687)]=![]);const _0x595b9e=async()=>{const _0x466932=_0x2af26b,_0x48fd55=_0x2ccfbc[_0x466932(0x5b6)];if(!_0x48fd55){showMessage(_0x466932(0x2ac));return;}_0x57430e[_0x466932(0x687)]=!![],_0x57430e[_0x466932(0xa28)]=_0x466932(0x2d2);try{const _0x3b654c=doc(db,'artifacts/'+appId+_0x466932(0x653),_0x3267b3),_0x1ba450=doc(db,_0x466932(0x1da)+appId+'/public/data/quizzes',_0x48fd55),_0x40e521=writeBatch(db);_0x40e521['update'](_0x3b654c,{'pairedQuizId':_0x48fd55}),_0x40e521['update'](_0x1ba450,{'pairedQuizId':_0x3267b3}),await _0x40e521[_0x466932(0x794)](),showMessage(_0x466932(0x84a)),_0x3faf89[_0x466932(0x2ff)]['add'](_0x466932(0xad0));}catch(_0x345adb){console[_0x466932(0x274)](_0x466932(0xb56),_0x345adb),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x921c0d[_0x466932(0xa28)]=_0x466932(0x4f0),_0x57430e[_0x466932(0xa28)]=_0x466932(0x669),_0x57430e[_0x466932(0x687)]=![],_0x57430e[_0x466932(0x223)](_0x466932(0x754),_0x595b9e),_0x238094['removeEventListener']('click',_0x38a7b5);}},_0x38a7b5=()=>{const _0x1ae670=_0x2af26b;_0x3faf89['classList'][_0x1ae670(0x30d)](_0x1ae670(0xad0)),_0x921c0d[_0x1ae670(0xa28)]=_0x1ae670(0x4f0),_0x57430e[_0x1ae670(0xa28)]=_0x1ae670(0x669),_0x57430e['removeEventListener'](_0x1ae670(0x754),_0x595b9e),_0x238094[_0x1ae670(0x223)](_0x1ae670(0x754),_0x38a7b5);};_0x57430e[_0x2af26b(0xdd3)](_0x2af26b(0x754),_0x595b9e),_0x238094[_0x2af26b(0xdd3)](_0x2af26b(0x754),_0x38a7b5);}function handleDeleteStudent(_0x47287e){const _0x531e42=_0x121993;showConfirmation(_0x531e42(0xb46)+_0x47287e+_0x531e42(0x41d),async()=>{const _0x2d9638=_0x531e42;if(!currentProjectId||!currentProjectData)return;const _0x4ca17c=currentProjectData[_0x2d9638(0x559)]['filter'](_0x17a7f3=>_0x17a7f3!==_0x47287e);try{const _0x39b035=doc(db,_0x2d9638(0x1da)+appId+_0x2d9638(0x9f0),currentProjectId),_0x5d71a4=doc(db,_0x2d9638(0x1da)+appId+_0x2d9638(0x45a)+currentProjectId+'/studentProfiles',_0x47287e),_0x4eb406=writeBatch(db);_0x4eb406[_0x2d9638(0xa1f)](_0x39b035,{'students':_0x4ca17c}),_0x4eb406[_0x2d9638(0xc5d)](_0x5d71a4),await _0x4eb406[_0x2d9638(0x794)]();}catch(_0x2ed31d){console['error'](_0x2d9638(0x908),_0x2ed31d),showMessage(_0x2d9638(0x70b));}});}function handleDeleteAllStudents(){const _0x5b4b1b=_0x121993;showConfirmation(_0x5b4b1b(0x81c),async()=>{const _0x334f61=_0x5b4b1b;if(!currentProjectId)return;try{const _0x439f81=doc(db,_0x334f61(0x1da)+appId+'/public/data/projects',currentProjectId),_0x39aea5=collection(db,_0x334f61(0x1da)+appId+_0x334f61(0x45a)+currentProjectId+_0x334f61(0x63a)),_0x838553=await getDocs(_0x39aea5),_0x5ce58e=writeBatch(db);_0x5ce58e[_0x334f61(0xa1f)](_0x439f81,{'students':[]}),_0x838553[_0x334f61(0x616)](_0x550853=>_0x5ce58e[_0x334f61(0xc5d)](_0x550853[_0x334f61(0x42e)])),await _0x5ce58e['commit']();}catch(_0x52659b){console[_0x334f61(0x274)](_0x334f61(0x25d),_0x52659b),showMessage(_0x334f61(0x236));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x5f160c){const _0x5317cd=_0x121993,_0x197ce4=document[_0x5317cd(0x2f7)](_0x5317cd(0x835)),_0x2c7da2=document[_0x5317cd(0x2f7)](_0x5317cd(0x495));_0x197ce4[_0x5317cd(0x2ff)][_0x5317cd(0x2cf)](_0x5317cd(0xad0)),_0x2c7da2[_0x5317cd(0x8c4)]=_0x5317cd(0x28c);try{const _0x155f99=new FileReader();_0x155f99[_0x5317cd(0x61a)](_0x5f160c),await new Promise((_0x44de88,_0x513118)=>{const _0x3effd6=_0x5317cd;_0x155f99['onload']=()=>{const _0x1db814=_0x32db;fileDataBase64=_0x155f99[_0x1db814(0x5ec)][_0x1db814(0xd47)](',')[0x1],fileMimeType=_0x5f160c['type'],_0x44de88();},_0x155f99[_0x3effd6(0x4a5)]=_0x30cc23=>_0x513118(_0x30cc23);});if(!fileDataBase64)throw new Error(_0x5317cd(0x336));const _0x5d6dfe=_0x5317cd(0xc57),_0x1d12d0={'type':'OBJECT','properties':{'topics':{'type':_0x5317cd(0xd78),'items':{'type':_0x5317cd(0xcd6)}}},'required':[_0x5317cd(0xd44)]},_0x461f12=[{'text':_0x5d6dfe},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4b4d37=await handleApiCall(_0x461f12,'กำลังวิเคราะห์หัวข้อ...',_0x1d12d0,null,![]);if(_0x4b4d37&&_0x4b4d37[_0x5317cd(0xd44)])extractedFileTopics=_0x4b4d37[_0x5317cd(0xd44)],renderFileTopics();else throw new Error(_0x5317cd(0xb18));}catch(_0x5ad1c3){console[_0x5317cd(0x274)](_0x5317cd(0x7ac),_0x5ad1c3),_0x2c7da2[_0x5317cd(0x8c4)]=_0x5317cd(0x9c5)+_0x5ad1c3[_0x5317cd(0x5e6)]+_0x5317cd(0xb6e);}}function renderFileTopics(){const _0x7f0c90=_0x121993,_0x319b67=document['getElementById'](_0x7f0c90(0x495));if(extractedFileTopics['length']===0x0){_0x319b67[_0x7f0c90(0x8c4)]=_0x7f0c90(0x349);return;}_0x319b67['innerHTML']=extractedFileTopics[_0x7f0c90(0xce7)](_0x3e88d7=>_0x7f0c90(0xd6a)+_0x3e88d7+_0x7f0c90(0xdb8)+escape(_0x3e88d7)+_0x7f0c90(0xbcb)+escape(_0x3e88d7)+_0x7f0c90(0x9a6))['join']('');}async function generateHybridQuizForTopic(_0x5b4c1d){const _0x28a61a=_0x121993,_0x77e059=parseInt(document[_0x28a61a(0x2f7)](_0x28a61a(0xc07))[_0x28a61a(0x5b6)],0xa),_0x57ebdc=document[_0x28a61a(0x2f7)](_0x28a61a(0xb3e))['value'],_0x55566e=document['getElementById'](_0x28a61a(0x9cb))[_0x28a61a(0x5b6)],_0x107ca7=document[_0x28a61a(0x2f7)](_0x28a61a(0x213))[_0x28a61a(0x28f)],_0x35c081=_0x107ca7?_0x28a61a(0x238):_0x28a61a(0xb97);let _0x29078c='',_0x156b31;const _0x4d8495={'type':_0x28a61a(0xde6),'properties':{'questionText':{'type':_0x28a61a(0xcd6)},'options':{'type':'ARRAY','items':{'type':_0x28a61a(0xcd6)}},'correctAnswerIndex':{'type':_0x28a61a(0x714)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x28a61a(0xcd6)}},'required':[_0x28a61a(0x41b),_0x28a61a(0x450),'correctAnswerIndex','explanation']},_0x15dacf={'type':_0x28a61a(0xde6),'properties':{'questionText':{'type':_0x28a61a(0xcd6)},'correctAnswer':{'type':_0x28a61a(0x7d7)},'explanation':{'type':_0x28a61a(0xcd6)},'imageCode':{'type':'STRING'}},'required':[_0x28a61a(0x41b),_0x28a61a(0x836),_0x28a61a(0xb3d)]},_0x54c392={'type':_0x28a61a(0xde6),'properties':{'questionText':{'type':_0x28a61a(0xcd6)},'idealAnswer':{'type':_0x28a61a(0xcd6)},'explanation':{'type':_0x28a61a(0xcd6)},'imageCode':{'type':_0x28a61a(0xcd6)}},'required':['questionText',_0x28a61a(0x4a4),_0x28a61a(0xb3d)]},_0x38ed3c={'type':'OBJECT','properties':{'questionType':{'type':_0x28a61a(0xcd6),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x28a61a(0xcd6)},'allResponses':{'type':'ARRAY','items':{'type':_0x28a61a(0xcd6)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x28a61a(0xcd6)}},'required':['questionType',_0x28a61a(0x859),_0x28a61a(0xa17),_0x28a61a(0x711),_0x28a61a(0xb3d)]};switch(_0x57ebdc){case _0x28a61a(0xc3f):_0x29078c='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x55566e+_0x28a61a(0x59d),_0x156b31=_0x4d8495;break;case _0x28a61a(0x668):_0x29078c='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x156b31=_0x15dacf;break;case _0x28a61a(0x32f):_0x29078c=_0x28a61a(0x1de),_0x156b31=_0x54c392;break;case _0x28a61a(0xc83):_0x29078c=_0x28a61a(0x66a),_0x156b31=_0x38ed3c;break;case _0x28a61a(0x419):_0x29078c=_0x28a61a(0x20d)+_0x55566e+'\x20ตัวเลือก)',_0x156b31=_0x4d8495;break;default:_0x29078c=_0x28a61a(0x6de)+_0x55566e+_0x28a61a(0x59d),_0x156b31=_0x4d8495;break;}const _0x49cd08=_0x28a61a(0x6c2),_0x191c11=document['getElementById'](_0x28a61a(0xd29)),_0x938b3=document[_0x28a61a(0x2f7)](_0x28a61a(0x488)),_0x14160d=document['getElementById'](_0x28a61a(0xcd1));document[_0x28a61a(0x2f7)](_0x28a61a(0xb0d))['classList'][_0x28a61a(0x2cf)]('hidden'),_0x14160d[_0x28a61a(0x8c4)]='',_0x191c11[_0x28a61a(0x2ff)][_0x28a61a(0x2cf)](_0x28a61a(0xad0)),_0x938b3[_0x28a61a(0xa28)]=_0x28a61a(0xca0)+_0x5b4c1d+'\x22\x20จำนวน\x20'+_0x77e059+_0x28a61a(0x3fc);try{const _0x25f79a=_0x28a61a(0x5b4),_0x12f164='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x5b4c1d+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x77e059+_0x28a61a(0x4c5)+_0x5b4c1d+_0x28a61a(0xc4c)+_0x77e059+_0x28a61a(0x8fe)+_0x35c081+_0x28a61a(0xc7c)+_0x29078c+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x49cd08+_0x28a61a(0x351)+_0x25f79a+_0x28a61a(0x70e)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x401912={'type':_0x28a61a(0xde6),'properties':{'topic':{'type':_0x28a61a(0xcd6)},'questions':{'type':_0x28a61a(0xd78),'items':_0x156b31}},'required':[_0x28a61a(0x9ce),'questions']},_0x337961=[{'text':_0x12f164},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x337961,_0x28a61a(0x3f0)+_0x5b4c1d+'\x22...',_0x401912);}catch(_0x4954a1){console[_0x28a61a(0x274)](_0x28a61a(0x1f1),_0x4954a1),showMessage(_0x28a61a(0x663)+_0x4954a1[_0x28a61a(0x5e6)]),_0x14160d[_0x28a61a(0x8c4)]=_0x28a61a(0xaed);}finally{_0x191c11[_0x28a61a(0x2ff)]['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x337fa8=_0x121993;if(!selectedFile){showMessage(_0x337fa8(0x327));return;}const _0x487b6a=document[_0x337fa8(0x2f7)](_0x337fa8(0xd29)),_0x4e441b=document['getElementById']('loader-text'),_0x28b97e=document[_0x337fa8(0x2f7)](_0x337fa8(0xcd1)),_0x2611f1=document[_0x337fa8(0x2f7)](_0x337fa8(0xb5e));_0x2611f1['disabled']=!![],document[_0x337fa8(0x2f7)](_0x337fa8(0xb0d))[_0x337fa8(0x2ff)][_0x337fa8(0x2cf)]('hidden'),_0x28b97e[_0x337fa8(0x8c4)]='',_0x487b6a['classList'][_0x337fa8(0x2cf)](_0x337fa8(0xad0)),_0x4e441b[_0x337fa8(0xa28)]=_0x337fa8(0x458);try{const _0x1b586c=await new Promise((_0xaff3d9,_0x109911)=>{const _0x1c65b9=_0x337fa8,_0x46cdd7=new FileReader();_0x46cdd7[_0x1c65b9(0x61a)](selectedFile),_0x46cdd7[_0x1c65b9(0x391)]=()=>_0xaff3d9(_0x46cdd7[_0x1c65b9(0x5ec)][_0x1c65b9(0xd47)](',')[0x1]),_0x46cdd7[_0x1c65b9(0x4a5)]=_0x391dc3=>_0x109911(_0x391dc3);});await generateQuizFromFile(selectedFile['type'],_0x1b586c);}catch(_0x1cdc09){console[_0x337fa8(0x274)]('Error\x20processing\x20file\x20for\x20AI:',_0x1cdc09),showMessage(_0x337fa8(0x380)+_0x1cdc09[_0x337fa8(0x5e6)]),_0x487b6a[_0x337fa8(0x2ff)][_0x337fa8(0x30d)](_0x337fa8(0xad0)),_0x2611f1[_0x337fa8(0x687)]=![];}}function autoFormatMath(_0x34d5d6){const _0x23b722=_0x121993;if(typeof _0x34d5d6!=='string'||!_0x34d5d6)return _0x34d5d6;const _0x2a9daa=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x24d417=_0x34d5d6[_0x23b722(0xbbe)](_0x2a9daa,_0x5d844f=>{return'$'+_0x5d844f['trim']()+'$';});return _0x24d417;}function sanitizeQuizData(_0xa6b8de){const _0x1b8541=_0x121993;if(!_0xa6b8de||!_0xa6b8de[_0x1b8541(0xc33)])return _0xa6b8de;const _0xe461a={'imes':_0x1b8541(0x344),'div':'\x5cdiv'},_0x261a9d=_0x30ca72=>{const _0x42ade2=_0x1b8541;if(typeof _0x30ca72!==_0x42ade2(0xb73))return _0x30ca72;let _0x1f53ea=_0x30ca72;for(const [_0x5d7596,_0x297211]of Object[_0x42ade2(0x211)](_0xe461a)){const _0x40cbb3=new RegExp('\x5cb'+_0x5d7596+'\x5cb','g');_0x1f53ea=_0x1f53ea['replace'](_0x40cbb3,_0x297211);}return _0x1f53ea=_0x1f53ea[_0x42ade2(0xbbe)](/\\\//g,_0x42ade2(0x77f)),_0x1f53ea=_0x1f53ea[_0x42ade2(0xbbe)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x42ade2(0xbbe)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x42ade2(0x344))['replace'](/÷/g,_0x42ade2(0x77f))[_0x42ade2(0xbbe)](/×/g,_0x42ade2(0x344)),_0x1f53ea=_0x1f53ea[_0x42ade2(0xbbe)](/(\d)(\\frac)/g,_0x42ade2(0x76f)),_0x1f53ea=autoFormatMath(_0x1f53ea),_0x1f53ea;};return _0xa6b8de[_0x1b8541(0x9ce)]&&(_0xa6b8de[_0x1b8541(0x9ce)]=_0x261a9d(_0xa6b8de[_0x1b8541(0x9ce)])),_0xa6b8de['questions'][_0x1b8541(0x616)](_0x17a35e=>{const _0x44abc3=_0x1b8541;_0x17a35e[_0x44abc3(0x41b)]=_0x261a9d(_0x17a35e[_0x44abc3(0x41b)]),_0x17a35e['options']&&(_0x17a35e[_0x44abc3(0x450)]=_0x17a35e[_0x44abc3(0x450)][_0x44abc3(0xce7)](_0x261a9d)),_0x17a35e[_0x44abc3(0xb3d)]&&(_0x17a35e['explanation']=_0x261a9d(_0x17a35e[_0x44abc3(0xb3d)])),_0x17a35e['stem']&&(_0x17a35e[_0x44abc3(0x859)]=_0x261a9d(_0x17a35e[_0x44abc3(0x859)])),_0x17a35e[_0x44abc3(0xa17)]&&(_0x17a35e['correctResponse']=_0x261a9d(_0x17a35e[_0x44abc3(0xa17)])),_0x17a35e['allResponses']&&(_0x17a35e[_0x44abc3(0x711)]=_0x17a35e[_0x44abc3(0x711)]['map'](_0x261a9d));}),_0xa6b8de;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x3541fd=_0x121993,_0x555e7d=document[_0x3541fd(0x2f7)]('link-url-input'),_0x1b52d7=document[_0x3541fd(0x2f7)](_0x3541fd(0xd1e)),_0x46ae1b=_0x555e7d['value'][_0x3541fd(0xe11)](),_0x8994fb=_0x1b52d7[_0x3541fd(0x5b6)]['trim']();if(!_0x46ae1b){showMessage(_0x3541fd(0x35a));return;}const _0x295a88=document[_0x3541fd(0x2f7)]('loader'),_0x55c369=document[_0x3541fd(0x2f7)]('loader-text'),_0x1f17a0=document[_0x3541fd(0x2f7)](_0x3541fd(0xcd1)),_0x38968a=document[_0x3541fd(0x2f7)]('generate-from-link-btn');document[_0x3541fd(0x2f7)](_0x3541fd(0xb0d))[_0x3541fd(0x2ff)][_0x3541fd(0x2cf)](_0x3541fd(0xad0)),_0x1f17a0[_0x3541fd(0x8c4)]='',_0x295a88[_0x3541fd(0x2ff)]['remove'](_0x3541fd(0xad0)),_0x55c369[_0x3541fd(0xa28)]=_0x3541fd(0x26f),_0x38968a[_0x3541fd(0x687)]=!![];try{const _0x328633=_0x3541fd(0x309)+encodeURIComponent(_0x46ae1b),_0x145b07=await fetch(_0x328633);if(!_0x145b07['ok'])throw new Error(_0x3541fd(0x885)+_0x145b07[_0x3541fd(0x2d4)]+')');const _0xc3c580=await _0x145b07['text'](),_0x1c4efa=extractTextFromHtml(_0xc3c580);if(!_0x1c4efa||_0x1c4efa[_0x3541fd(0x2b5)]<0x64)throw new Error(_0x3541fd(0x882));await generateQuiz(_0x8994fb,_0x1c4efa);}catch(_0x427669){console[_0x3541fd(0x274)](_0x3541fd(0x9d1),_0x427669),showMessage(_0x3541fd(0x663)+_0x427669[_0x3541fd(0x5e6)]),_0x1f17a0[_0x3541fd(0x8c4)]=_0x3541fd(0x4b2);}finally{_0x295a88['classList'][_0x3541fd(0x30d)](_0x3541fd(0xad0)),_0x38968a[_0x3541fd(0x687)]=![];}}function extractTextFromHtml(_0x477bec){const _0x3a7591=_0x121993,_0x81814e=new DOMParser()[_0x3a7591(0x9ee)](_0x477bec,_0x3a7591(0xa26));return _0x81814e[_0x3a7591(0x4cb)](_0x3a7591(0xc20))['forEach'](_0x889cce=>_0x889cce[_0x3a7591(0x2cf)]()),_0x81814e['body'][_0x3a7591(0xa28)]||'';}document[_0x121993(0x2f7)](_0x121993(0xc32))['addEventListener'](_0x121993(0x754),()=>{const _0x1f2dbe=_0x121993,_0x10a209=document[_0x1f2dbe(0x2f7)](_0x1f2dbe(0x98f))[_0x1f2dbe(0x5b6)][_0x1f2dbe(0xe11)]();generateQuiz(_0x10a209,null);}),document[_0x121993(0x2f7)](_0x121993(0x87e))['addEventListener'](_0x121993(0x754),()=>{const _0x302a41=_0x121993,_0x25a026=document[_0x302a41(0x2f7)](_0x302a41(0x430))[_0x302a41(0x5b6)][_0x302a41(0xe11)]();if(!_0x25a026){showMessage(_0x302a41(0xbc8));return;}const _0x4b1324=document['getElementById']('topic-input')[_0x302a41(0x5b6)][_0x302a41(0xe11)]();generateQuiz(_0x4b1324,_0x25a026);});async function generateQuiz(_0x3b5e74,_0x2d216a,_0x4fae69=null,_0x26ae61=null,_0x1545ae=![],_0xa1aff=null,_0xfc94b8=null,_0x5d1f26=![]){const _0x313d64=_0x121993;let _0x162410={};if(_0x1545ae&&blueprintPageSettings)_0x162410=blueprintPageSettings;else{const _0xa014d1=document[_0x313d64(0x4cb)](_0x313d64(0x968));_0x162410={'quizType':document[_0x313d64(0x2f7)](_0x313d64(0xb3e))[_0x313d64(0x5b6)],'numQuestions':document[_0x313d64(0x2f7)]('num-questions')[_0x313d64(0x5b6)],'numChoices':document[_0x313d64(0x2f7)]('num-choices')[_0x313d64(0x5b6)],'includeImages':document[_0x313d64(0x2f7)](_0x313d64(0x213))[_0x313d64(0x28f)],'isNormalTopic':document[_0x313d64(0x2f7)](_0x313d64(0x7f6))['checked'],'difficultyValue':document['getElementById'](_0x313d64(0x8f0))[_0x313d64(0x5b6)],'complexityValue':document[_0x313d64(0x2f7)](_0x313d64(0xdc9))[_0x313d64(0x5b6)],'selectedTopicNames':Array['from'](_0xa014d1)[_0x313d64(0xce7)](_0x576ad6=>_0x576ad6['value'])};}const _0xe657b1=_0x162410[_0x313d64(0xaaa)]?'':_0x313d64(0x2aa),_0x9ebcd=_0x162410[_0x313d64(0x246)]!==_0x313d64(0x9bc)?_0x313d64(0xb2d)+_0x162410['difficultyValue']+'\x22':'',_0x3539d2=_0x162410[_0x313d64(0xd4a)]!==_0x313d64(0x217)?_0x313d64(0xc26)+_0x162410[_0x313d64(0xd4a)]+_0x313d64(0x350):'';let _0x328d35='';_0x162410[_0x313d64(0x673)]&&_0x162410['selectedTopicNames'][_0x313d64(0x2b5)]>0x0&&(_0x328d35='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x162410['selectedTopicNames'][_0x313d64(0x5c4)](',\x20')+'.');let _0x230532='';_0x26ae61&&(_0x230532=_0x313d64(0xbfe));let _0x590953='',_0x44a1c2='',_0x79564,_0xd0a69='เกี่ยวกับหัวข้อ\x20\x22'+_0x3b5e74+'\x22';if(!_0x3b5e74&&_0x2d216a)_0xd0a69=_0x313d64(0xc0d);else!_0x3b5e74&&!_0x2d216a&&(_0xd0a69=_0x313d64(0x43b));const _0x24ff22={'type':_0x313d64(0xde6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x313d64(0xd78),'items':{'type':_0x313d64(0xcd6)}},'correctAnswerIndex':{'type':_0x313d64(0x714)},'explanation':{'type':_0x313d64(0xcd6)},'imageCode':{'type':_0x313d64(0xcd6)}},'required':['questionText',_0x313d64(0x450),_0x313d64(0xc9f),_0x313d64(0xb3d)]},_0x3b6132={'type':_0x313d64(0xde6),'properties':{'questionText':{'type':_0x313d64(0xcd6)},'idealAnswer':{'type':_0x313d64(0xcd6)},'explanation':{'type':_0x313d64(0xcd6)},'imageCode':{'type':_0x313d64(0xcd6)}},'required':['questionText','idealAnswer','explanation']},_0x125a7b={'type':_0x313d64(0xde6),'properties':{'questionText':{'type':_0x313d64(0xcd6)},'questionType':{'type':_0x313d64(0xcd6),'enum':[_0x313d64(0xc3f),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x313d64(0xcd6)}},'correctAnswerIndex':{'type':_0x313d64(0x714)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x313d64(0x41b),'questionType',_0x313d64(0xb3d)]},_0x121f7b={'type':_0x313d64(0xde6),'properties':{'questionText':{'type':_0x313d64(0xcd6)},'correctAnswer':{'type':_0x313d64(0x7d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x313d64(0xcd6)}},'required':[_0x313d64(0x41b),_0x313d64(0x836),_0x313d64(0xb3d)]},_0x3b91cf={'type':_0x313d64(0xde6),'properties':{'questionType':{'type':_0x313d64(0xcd6),'enum':[_0x313d64(0x5f5)]},'stem':{'type':_0x313d64(0xcd6)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x313d64(0xd78),'items':{'type':_0x313d64(0xcd6)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x313d64(0x5ac),_0x313d64(0x859),_0x313d64(0xa17),_0x313d64(0x711),_0x313d64(0xb3d)]};let _0x357021;if(_0x4fae69!==null){const _0x1f63e9=currentQuizData[_0x313d64(0xc33)][_0x4fae69][_0x313d64(0x5ac)],_0x3a8ab2=_0x162410['includeImages']?_0x313d64(0x745):'';_0x590953=_0x313d64(0x3d8)+_0xd0a69+'\x20'+_0x328d35+'\x20'+_0x9ebcd+_0x313d64(0x945)+_0x3a8ab2+'\x20'+simpleMathPrompt;if(_0x1f63e9===_0x313d64(0xc3f))_0x79564=_0x24ff22;else{if(_0x1f63e9===_0x313d64(0x5f5))_0x79564={'type':_0x313d64(0xde6),'properties':{'questionType':{'type':'STRING','enum':[_0x313d64(0x5f5)]},'stem':{'type':_0x313d64(0xcd6)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x313d64(0xcd6)},'imageCode':{'type':_0x313d64(0xcd6)}},'required':[_0x313d64(0x5ac),'stem',_0x313d64(0xa17),_0x313d64(0xb3d)]};else _0x79564=_0x3b6132;}_0x357021=_0x79564;}else{const _0x8ff915=_0x162410['includeImages']?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x162410[_0x313d64(0x4d2)]){case _0x313d64(0xc3f):_0x590953=_0x313d64(0x2e9)+_0xe657b1+'\x20'+_0x162410['numQuestions']+_0x313d64(0xb04)+_0xd0a69+'\x20'+_0x328d35+'\x20'+_0x9ebcd+'\x20'+_0x3539d2+'\x20'+_0x230532+_0x313d64(0x6e4)+_0x162410[_0x313d64(0x3d0)]+_0x313d64(0xbdf)+_0x8ff915+'\x20'+simpleMathPrompt,_0x79564=_0x24ff22;break;case _0x313d64(0x419):_0x590953=_0x313d64(0xadc)+_0xe657b1+'\x20'+_0x162410[_0x313d64(0xc90)]+_0x313d64(0xb04)+_0xd0a69+'\x20'+_0x328d35+'\x20'+_0x9ebcd+'\x20'+_0x3539d2+'\x20'+_0x230532+_0x313d64(0x3ca)+_0x162410[_0x313d64(0x3d0)]+_0x313d64(0x9d9)+_0x8ff915+'\x20'+simpleMathPrompt,_0x79564=_0x24ff22;break;case _0x313d64(0x32f):_0x590953=_0x313d64(0xadc)+_0xe657b1+'\x20'+_0x162410['numQuestions']+_0x313d64(0xb04)+_0xd0a69+'\x20'+_0x328d35+'\x20'+_0x9ebcd+'\x20'+_0x3539d2+'\x20'+_0x230532+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x8ff915+'\x20'+simpleMathPrompt,_0x79564=_0x3b6132;break;case _0x313d64(0x217):_0x590953=_0x313d64(0x529)+_0xe657b1+'\x20'+_0x162410['numQuestions']+'\x20ข้อ\x20'+_0xd0a69+'\x20'+_0x328d35+'\x20'+_0x9ebcd+'\x20'+_0x3539d2+'\x20'+_0x230532+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x162410[_0x313d64(0x3d0)]+_0x313d64(0xb26)+_0x8ff915+'\x20'+simpleMathPrompt+'.',_0x79564=_0x125a7b;break;case'true_false':_0x590953=_0x313d64(0x300)+_0xe657b1+'\x20'+_0x162410[_0x313d64(0xc90)]+_0x313d64(0xb04)+_0xd0a69+'\x20'+_0x328d35+'\x20'+_0x9ebcd+'\x20'+_0x3539d2+'\x20'+_0x230532+_0x313d64(0x841)+_0x8ff915+'\x20'+simpleMathPrompt,_0x79564=_0x121f7b;break;case'matching':_0x590953='สร้างชุดคำถามจับคู่'+_0xe657b1+'\x20'+_0x162410['numQuestions']+'\x20คู่\x20'+_0xd0a69+'\x20'+_0x328d35+'\x20'+_0x9ebcd+'\x20'+_0x3539d2+'\x20'+_0x230532+_0x313d64(0x43c)+_0x8ff915+'\x20'+simpleMathPrompt,_0x79564=_0x3b91cf;break;}_0x357021={'type':_0x313d64(0xde6),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x313d64(0xd78),'items':_0x79564}},'required':[_0x313d64(0x9ce),_0x313d64(0xc33)]};}const _0xc2e6ef=_0x313d64(0x360);_0x2d216a?(_0x5d1f26?_0x590953=_0x313d64(0x799)+_0x2d216a+_0x313d64(0x2f9)+_0x590953+_0xc2e6ef:_0x590953=_0x313d64(0x799)+_0x2d216a+'\x22,\x20'+_0x590953,_0x44a1c2='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x5d1f26&&(_0x590953+=_0xc2e6ef),_0x44a1c2=_0x313d64(0x2d8));let _0xdd4091;return _0x26ae61?(_0xdd4091=[{'text':_0x590953},..._0x26ae61],_0x44a1c2=_0x313d64(0x372)):_0xdd4091=_0x590953,handleApiCall(_0xdd4091,_0x44a1c2,_0x357021,_0x4fae69,!![],_0xa1aff,_0xfc94b8);}async function generateQuizFromFile(_0x752df0,_0x294eb9){const _0x2c5a11=_0x121993,_0xa1379c=document['getElementById']('file-topic-input')['value'][_0x2c5a11(0xe11)](),_0x376c95=document[_0x2c5a11(0x2f7)](_0x2c5a11(0xb3e))[_0x2c5a11(0x5b6)],_0x270ad1=document[_0x2c5a11(0x2f7)](_0x2c5a11(0xc07))[_0x2c5a11(0x5b6)],_0x5970a2=document[_0x2c5a11(0x2f7)]('num-choices')[_0x2c5a11(0x5b6)],_0x31f718=document[_0x2c5a11(0x2f7)]('include-images-checkbox')[_0x2c5a11(0x28f)],_0x420a98=document[_0x2c5a11(0x2f7)]('force-math-checkbox')['checked'],_0xd13410=_0x420a98?'':_0x2c5a11(0x2aa),_0x22b7f1=document['getElementById']('original-mode-checkbox')[_0x2c5a11(0x28f)];let _0x51785d='',_0x8d2c87;const _0x361a15=_0x31f718?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x22b7f1)_0x51785d=_0x2c5a11(0x934)+_0x361a15+'\x0a'+simpleMathPrompt+'\x0a',_0x8d2c87={'type':_0x2c5a11(0xde6),'properties':{'questionText':{'type':_0x2c5a11(0xcd6)},'questionType':{'type':_0x2c5a11(0xcd6),'enum':[_0x2c5a11(0xc3f),_0x2c5a11(0x2bc),_0x2c5a11(0x668),_0x2c5a11(0x5f5)]},'options':{'type':_0x2c5a11(0xd78),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c5a11(0x714)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x2c5a11(0xcd6)},'correctResponse':{'type':_0x2c5a11(0xcd6)},'allResponses':{'type':_0x2c5a11(0xd78),'items':{'type':_0x2c5a11(0xcd6)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c5a11(0xcd6)}},'required':['questionType',_0x2c5a11(0xb3d)]};else{let _0x5a1e95=_0x2c5a11(0x5e7)+_0xa1379c+'\x22';!_0xa1379c&&(_0x5a1e95='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x376c95){case _0x2c5a11(0xc3f):_0x51785d=_0x2c5a11(0x2e9)+_0xd13410+'\x20'+_0x270ad1+_0x2c5a11(0xb04)+_0x5a1e95+_0x2c5a11(0x6e4)+_0x5970a2+_0x2c5a11(0xbdf)+_0x361a15+'\x20'+simpleMathPrompt,_0x8d2c87={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2c5a11(0xd78),'items':{'type':_0x2c5a11(0xcd6)}},'correctAnswerIndex':{'type':_0x2c5a11(0x714)},'explanation':{'type':_0x2c5a11(0xcd6)},'imageCode':{'type':_0x2c5a11(0xcd6)}},'required':[_0x2c5a11(0x41b),_0x2c5a11(0x450),_0x2c5a11(0xc9f),_0x2c5a11(0xb3d)]};break;case _0x2c5a11(0x419):_0x51785d=_0x2c5a11(0xadc)+_0xd13410+'\x20'+_0x270ad1+'\x20ข้อ\x20'+_0x5a1e95+_0x2c5a11(0x3ca)+_0x5970a2+_0x2c5a11(0x9d9)+_0x361a15+'\x20'+simpleMathPrompt,_0x8d2c87={'type':_0x2c5a11(0xde6),'properties':{'questionText':{'type':_0x2c5a11(0xcd6)},'options':{'type':_0x2c5a11(0xd78),'items':{'type':_0x2c5a11(0xcd6)}},'correctAnswerIndex':{'type':_0x2c5a11(0x714)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c5a11(0xcd6)}},'required':['questionText',_0x2c5a11(0x450),_0x2c5a11(0xc9f),_0x2c5a11(0xb3d)]};break;case _0x2c5a11(0x32f):_0x51785d=_0x2c5a11(0xadc)+_0xd13410+'\x20'+_0x270ad1+_0x2c5a11(0xb04)+_0x5a1e95+_0x2c5a11(0x3cc)+_0x361a15+'\x20'+simpleMathPrompt,_0x8d2c87={'type':_0x2c5a11(0xde6),'properties':{'questionText':{'type':_0x2c5a11(0xcd6)},'idealAnswer':{'type':_0x2c5a11(0xcd6)},'explanation':{'type':_0x2c5a11(0xcd6)},'imageCode':{'type':_0x2c5a11(0xcd6)}},'required':[_0x2c5a11(0x41b),_0x2c5a11(0x4a4),_0x2c5a11(0xb3d)]};break;case _0x2c5a11(0x217):_0x51785d=_0x2c5a11(0x529)+_0xd13410+'\x20'+_0x270ad1+_0x2c5a11(0xb04)+_0x5a1e95+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x5970a2+_0x2c5a11(0x6ba)+_0x361a15+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x8d2c87={'type':_0x2c5a11(0xde6),'properties':{'questionText':{'type':_0x2c5a11(0xcd6)},'questionType':{'type':_0x2c5a11(0xcd6),'enum':[_0x2c5a11(0xc3f),_0x2c5a11(0x2bc)]},'options':{'type':'ARRAY','items':{'type':_0x2c5a11(0xcd6)}},'correctAnswerIndex':{'type':_0x2c5a11(0x714)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2c5a11(0xcd6)},'imageCode':{'type':_0x2c5a11(0xcd6)}},'required':[_0x2c5a11(0x41b),'questionType','explanation']};break;case _0x2c5a11(0x668):_0x51785d=_0x2c5a11(0x300)+_0xd13410+'\x20'+_0x270ad1+_0x2c5a11(0xb04)+_0x5a1e95+_0x2c5a11(0xdd8)+_0x361a15+'\x20'+simpleMathPrompt,_0x8d2c87={'type':_0x2c5a11(0xde6),'properties':{'questionText':{'type':_0x2c5a11(0xcd6)},'correctAnswer':{'type':_0x2c5a11(0x7d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c5a11(0xcd6)}},'required':[_0x2c5a11(0x41b),_0x2c5a11(0x836),'explanation']};break;case _0x2c5a11(0xc83):_0x51785d=_0x2c5a11(0x3b5)+_0xd13410+'\x20'+_0x270ad1+_0x2c5a11(0x8b6)+_0x5a1e95+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x270ad1+_0x2c5a11(0xafc)+_0x361a15+'\x20'+simpleMathPrompt,_0x8d2c87={'type':_0x2c5a11(0xde6),'properties':{'questionType':{'type':_0x2c5a11(0xcd6),'enum':[_0x2c5a11(0x5f5)]},'stem':{'type':_0x2c5a11(0xcd6)},'correctResponse':{'type':_0x2c5a11(0xcd6)},'allResponses':{'type':_0x2c5a11(0xd78),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c5a11(0xcd6)}},'required':[_0x2c5a11(0x5ac),_0x2c5a11(0x859),'correctResponse','allResponses',_0x2c5a11(0xb3d)]};break;}}const _0x58986b={'type':_0x2c5a11(0xde6),'properties':{'topic':{'type':_0x2c5a11(0xcd6)},'questions':{'type':_0x2c5a11(0xd78),'items':_0x8d2c87}},'required':[_0x2c5a11(0x9ce),_0x2c5a11(0xc33)]},_0x4eb32c=_0x2c5a11(0x250)+_0x51785d,_0x4dfd1d={'contents':[{'parts':[{'text':_0x4eb32c},{'inlineData':{'mimeType':_0x752df0,'data':_0x294eb9}}]}],'generationConfig':{'responseMimeType':_0x2c5a11(0x5fd),'responseSchema':_0x58986b}};return handleApiCall(_0x4dfd1d[_0x2c5a11(0x8a6)][0x0][_0x2c5a11(0xb67)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x58986b);}async function handleApiCall(_0x1f77c5,_0x4b92ac,_0x30c7a3,_0x471716=null,_0x3c595f=!![],_0x160c23=null,_0x3576d1=null){const _0x5801aa=_0x121993,_0xa34c5a=document[_0x5801aa(0x2f7)](_0x5801aa(0xb0d)),_0x136693=document[_0x5801aa(0x2f7)](_0x5801aa(0xd29)),_0x46aafd=document['getElementById'](_0x5801aa(0x488)),_0x2ccde0=document[_0x5801aa(0x2f7)]('generated-quiz-container');_0xa34c5a[_0x5801aa(0x2ff)]['remove']('hidden');_0x471716===null&&_0x3c595f&&(_0x2ccde0['innerHTML']='');_0x136693[_0x5801aa(0x2ff)][_0x5801aa(0x2cf)](_0x5801aa(0xad0)),_0x46aafd['textContent']=_0x4b92ac,document[_0x5801aa(0x2f7)](_0x5801aa(0xc32))[_0x5801aa(0x687)]=!![],document[_0x5801aa(0x2f7)](_0x5801aa(0x87e))[_0x5801aa(0x687)]=!![],document['getElementById'](_0x5801aa(0xabc))[_0x5801aa(0x687)]=!![];const _0x3c7516=document[_0x5801aa(0x2f7)](_0x5801aa(0xb5e));if(_0x3c7516)_0x3c7516[_0x5801aa(0x687)]=!![];const _0x3dbc36=document[_0x5801aa(0x2f7)](_0x5801aa(0x45d));if(_0x3dbc36)_0x3dbc36[_0x5801aa(0x687)]=!![];const _0x2e7624=document[_0x5801aa(0x2f7)](_0x5801aa(0xc95));if(_0x2e7624)_0x2e7624[_0x5801aa(0x687)]=!![];try{const _0x432952=Array[_0x5801aa(0xa96)](_0x1f77c5)?_0x1f77c5:[{'text':_0x1f77c5}],_0x217441={'contents':[{'role':_0x5801aa(0xb11),'parts':_0x432952}]};_0x30c7a3&&(_0x217441[_0x5801aa(0x9b5)]={'responseMimeType':_0x5801aa(0x5fd),'responseSchema':_0x30c7a3});const _0x31758b='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x5a2f83='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x31758b,_0x3b74aa=await fetch(_0x5a2f83,{'method':_0x5801aa(0x3a3),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5801aa(0xd68)](_0x217441)});if(!_0x3b74aa['ok']){const _0x220281=await _0x3b74aa['text']();console[_0x5801aa(0x274)](_0x5801aa(0xdf0),_0x220281);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x3b74aa[_0x5801aa(0x2d4)]);}const _0x4edf10=await _0x3b74aa[_0x5801aa(0x3c9)]();if(!_0x4edf10[_0x5801aa(0xa06)]||_0x4edf10[_0x5801aa(0xa06)]['length']===0x0){let _0x11c882=_0x5801aa(0x6b6);return _0x4edf10[_0x5801aa(0x299)]?.[_0x5801aa(0x79c)]&&(_0x11c882=_0x5801aa(0xb55)+_0x4edf10[_0x5801aa(0x299)][_0x5801aa(0x79c)]+'.'),console[_0x5801aa(0x274)](_0x11c882,JSON[_0x5801aa(0xd68)](_0x4edf10)),null;}const _0x54093b=_0x4edf10['candidates'][0x0][_0x5801aa(0x261)][_0x5801aa(0xb67)][0x0][_0x5801aa(0xc0b)];if(_0x30c7a3){let _0x24daff=_0x54093b;if(_0x24daff['startsWith'](_0x5801aa(0x5dd)))_0x24daff=_0x24daff['substring'](0x7,_0x24daff['length']-0x3)[_0x5801aa(0xe11)]();else _0x24daff[_0x5801aa(0x215)](_0x5801aa(0x4fa))&&(_0x24daff=_0x24daff[_0x5801aa(0x755)](0x3,_0x24daff[_0x5801aa(0x2b5)]-0x3)[_0x5801aa(0xe11)]());let _0x30a3a8=JSON[_0x5801aa(0x2cd)](_0x24daff);if(_0x3c595f){if(_0x471716!==null){}else currentQuizData=_0x30a3a8,displayGeneratedQuiz(currentQuizData,_0x160c23,_0x3576d1);}return _0x30a3a8;}else return _0x54093b;}catch(_0x126548){console['error'](_0x5801aa(0xc13),_0x126548),showMessage(_0x5801aa(0xbca)+_0x126548['message']);_0x3c595f&&(_0x2ccde0[_0x5801aa(0x8c4)]=_0x5801aa(0x4c9));throw _0x126548;}finally{_0x136693[_0x5801aa(0x2ff)]['add'](_0x5801aa(0xad0)),document['getElementById'](_0x5801aa(0xc32))[_0x5801aa(0x687)]=![],document[_0x5801aa(0x2f7)](_0x5801aa(0x87e))[_0x5801aa(0x687)]=![],document[_0x5801aa(0x2f7)](_0x5801aa(0xabc))[_0x5801aa(0x687)]=![];if(_0x3c7516)_0x3c7516['disabled']=![];if(_0x3dbc36)_0x3dbc36['disabled']=![];if(_0x2e7624)_0x2e7624[_0x5801aa(0x687)]=![];}}function exitFullscreen(){const _0x2c9faa=_0x121993;if(document['exitFullscreen'])document[_0x2c9faa(0x5ef)]()[_0x2c9faa(0x57f)](_0x248bb8=>console[_0x2c9faa(0x274)](_0x248bb8));else{if(document[_0x2c9faa(0xcc2)])document['webkitExitFullscreen']();else document[_0x2c9faa(0x2fe)]&&document[_0x2c9faa(0x2fe)]();}}function enterFullscreen(){const _0x3b0c09=_0x121993,_0x4284f4=document[_0x3b0c09(0xb02)];if(_0x4284f4['requestFullscreen'])_0x4284f4[_0x3b0c09(0xc98)]()[_0x3b0c09(0x57f)](_0x3a3332=>{const _0x381f28=_0x3b0c09;console['error'](_0x381f28(0x5c2)+_0x3a3332['message']+'\x20('+_0x3a3332[_0x381f28(0xa7e)]+')');});else{if(_0x4284f4['webkitRequestFullscreen'])_0x4284f4[_0x3b0c09(0xdc8)]();else _0x4284f4[_0x3b0c09(0x2e8)]&&_0x4284f4[_0x3b0c09(0x2e8)]();}}function handleCheatingEvent(){const _0xfe8c1f=_0x121993;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0xfe8c1f(0x272),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0xfe8c1f(0xbed)+maxCheatAttempts+_0xfe8c1f(0xcf6)),document[_0xfe8c1f(0x2f7)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0xfe8c1f(0x223)](_0xfe8c1f(0x500),handleVisibilityChange),document[_0xfe8c1f(0x223)](_0xfe8c1f(0x6a3),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0xfe8c1f(0x657),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x11e8a4=_0x121993;if(currentMode===_0x11e8a4(0x913)||!isQuizActive)return;if(document['visibilityState']===_0x11e8a4(0xad0))handleCheatingEvent();else document[_0x11e8a4(0x76e)]===_0x11e8a4(0x718)&&(console['log'](_0x11e8a4(0x95b)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x3b1dc3=_0x121993;if(currentMode===_0x3b1dc3(0x913)||!isQuizActive)return;!document[_0x3b1dc3(0xe14)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x5c3607,_0x59cfa9=null,_0x334c76=null){const _0x46b006=_0x121993,_0xfe3d7b=document['getElementById']('generated-quiz-container');let _0x46efa9=_0x46b006(0x7a4)+_0x5c3607['topic']+'</h3>';_0x5c3607['questions'][_0x46b006(0x616)]((_0x25d2bf,_0x5f4eaf)=>{const _0x5a6d92=_0x46b006;!_0x25d2bf['id']&&(_0x25d2bf['id']='q_'+Date[_0x5a6d92(0x2a6)]()+'_'+_0x5f4eaf);const _0x15f232=_0x25d2bf[_0x5a6d92(0x5ac)]||_0x5c3607['quizType'];_0x46efa9+=_0x5a6d92(0x42a)+_0x5f4eaf+_0x5a6d92(0x1c8)+_0x5f4eaf+_0x5a6d92(0x41f)+_0x5f4eaf+_0x5a6d92(0x825);switch(_0x15f232){case _0x5a6d92(0x5f5):_0x46efa9+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x5f4eaf+'\x22>'+(_0x5f4eaf+0x1)+'.\x20'+_0x25d2bf[_0x5a6d92(0x859)]+_0x5a6d92(0xb6e);_0x25d2bf[_0x5a6d92(0x426)]&&(_0x46efa9+=_0x5a6d92(0xc51)+_0x5f4eaf+_0x5a6d92(0x3cf)+_0x25d2bf[_0x5a6d92(0x426)]+_0x5a6d92(0x72e));_0x46efa9+=_0x5a6d92(0x46e)+_0x5f4eaf+'\x22>'+_0x25d2bf[_0x5a6d92(0xa17)]+'</span></div>',_0x46efa9+=_0x5a6d92(0x4c8)+_0x5f4eaf+'\x22>'+_0x25d2bf[_0x5a6d92(0xb3d)]+_0x5a6d92(0x713);break;case _0x5a6d92(0x2bc):_0x46efa9+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x5f4eaf+'\x22>'+(_0x5f4eaf+0x1)+'.\x20'+_0x25d2bf['questionText']+_0x5a6d92(0xb6e);_0x25d2bf['imageCode']&&(_0x46efa9+=_0x5a6d92(0xc51)+_0x5f4eaf+_0x5a6d92(0x3cf)+_0x25d2bf[_0x5a6d92(0x426)]+_0x5a6d92(0x72e));_0x46efa9+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x5f4eaf+'\x22>'+_0x25d2bf[_0x5a6d92(0x4a4)]+_0x5a6d92(0x713),_0x46efa9+=_0x5a6d92(0x4c8)+_0x5f4eaf+'\x22>'+_0x25d2bf[_0x5a6d92(0xb3d)]+'</span></div>';break;case _0x5a6d92(0x668):_0x46efa9+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x5f4eaf+'\x22>'+(_0x5f4eaf+0x1)+'.\x20'+_0x25d2bf[_0x5a6d92(0x41b)]+_0x5a6d92(0xb6e);_0x25d2bf[_0x5a6d92(0x426)]&&(_0x46efa9+=_0x5a6d92(0xc51)+_0x5f4eaf+_0x5a6d92(0x3cf)+_0x25d2bf['imageCode']+_0x5a6d92(0x72e));_0x46efa9+=_0x5a6d92(0x764)+(_0x25d2bf[_0x5a6d92(0x836)]===!![]?_0x5a6d92(0x571):'')+_0x5a6d92(0xaf1)+(_0x25d2bf[_0x5a6d92(0x836)]===![]?_0x5a6d92(0x571):'')+_0x5a6d92(0x3da),_0x46efa9+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x5f4eaf+'\x22>'+_0x25d2bf[_0x5a6d92(0xb3d)]+'</span></div>';break;case _0x5a6d92(0x7d4):case'multiple_choice':default:_0x46efa9+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x5f4eaf+'\x22>'+(_0x5f4eaf+0x1)+'.\x20'+_0x25d2bf[_0x5a6d92(0x41b)]+'</p>';_0x25d2bf[_0x5a6d92(0x426)]&&(_0x46efa9+=_0x5a6d92(0xc51)+_0x5f4eaf+_0x5a6d92(0x3cf)+_0x25d2bf[_0x5a6d92(0x426)]+_0x5a6d92(0x72e));_0x46efa9+=_0x5a6d92(0xb01)+_0x5f4eaf+_0x5a6d92(0x976)+(_0x25d2bf[_0x5a6d92(0x450)]||[])[_0x5a6d92(0xce7)]((_0x163420,_0x18a20d)=>_0x5a6d92(0x26b)+(_0x18a20d===_0x25d2bf[_0x5a6d92(0xc9f)]?_0x5a6d92(0x571):'')+'\x22>'+_0x163420+'</li>')['join']('')+_0x5a6d92(0x462),_0x46efa9+=_0x5a6d92(0x4c8)+_0x5f4eaf+'\x22>'+_0x25d2bf['explanation']+_0x5a6d92(0x713);break;}_0x46efa9+='</div>';}),_0x46efa9+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0xfe3d7b['innerHTML']=_0x46efa9,document[_0x46b006(0x4cb)](_0x46b006(0x525))[_0x46b006(0x616)](_0x5d3254=>_0x5d3254['addEventListener']('click',handleEditQuestion)),document[_0x46b006(0x4cb)]('.regenerate-question-btn')[_0x46b006(0x616)](_0x4cc727=>_0x4cc727[_0x46b006(0xdd3)](_0x46b006(0x754),handleRegenerateQuestion)),document['getElementById']('export-worksheet-pdf-btn')[_0x46b006(0xdd3)](_0x46b006(0x754),exportQuizAsWorksheetPDF),document['getElementById']('verify-answers-btn')['addEventListener'](_0x46b006(0x754),handleVerifyAnswers);const _0x441ba6=document['getElementById']('save-quiz-btn');if(_0x441ba6){const _0x108e46=_0x59cfa9||currentProjectId;_0x441ba6[_0x46b006(0xdd3)](_0x46b006(0x754),()=>saveQuiz(_0x108e46,_0x334c76));}if(window['MathJax'])window['MathJax'][_0x46b006(0xe06)]([_0xfe3d7b]);}function handleRegenerateQuestion(_0x122158){const _0x4e63d3=_0x121993,_0xc2287f=_0x122158['currentTarget'][_0x4e63d3(0x683)][_0x4e63d3(0xbd2)],_0x5b46ef=currentQuizData[_0x4e63d3(0x9ce)];showMessage(_0x4e63d3(0xd2e)+(parseInt(_0xc2287f)+0x1)+_0x4e63d3(0x2e3)),generateQuiz(_0x5b46ef,null,parseInt(_0xc2287f));}function getPointerPosition(_0x4d21d4,_0x512d63){const _0x270f36=_0x121993,_0x5ab4ad=_0x4d21d4['getScreenCTM']();let _0x2de723,_0x5e9211;return _0x512d63[_0x270f36(0x8a3)]&&_0x512d63[_0x270f36(0x8a3)][_0x270f36(0x2b5)]>0x0?(_0x2de723=_0x512d63['touches'][0x0][_0x270f36(0xc1c)],_0x5e9211=_0x512d63[_0x270f36(0x8a3)][0x0][_0x270f36(0x639)]):(_0x2de723=_0x512d63[_0x270f36(0xc1c)],_0x5e9211=_0x512d63[_0x270f36(0x639)]),{'x':(_0x2de723-_0x5ab4ad['e'])/_0x5ab4ad['a'],'y':(_0x5e9211-_0x5ab4ad['f'])/_0x5ab4ad['d']};}function startDrag(_0x2013bc){const _0x425e7b=_0x121993;_0x2013bc[_0x425e7b(0x9c8)]==='touchstart'&&_0x2013bc[_0x425e7b(0xd5c)]();const _0x5d6e2b=_0x2013bc[_0x425e7b(0x898)][_0x425e7b(0xb5f)](_0x425e7b(0x206));if(_0x5d6e2b){draggedSvgElement=_0x5d6e2b;const _0x238de7=draggedSvgElement['ownerSVGElement'],_0x4967bb=getPointerPosition(_0x238de7,_0x2013bc);svgOffset['x']=_0x4967bb['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x4967bb['y']-parseFloat(draggedSvgElement[_0x425e7b(0x93a)](null,'y'));}}function calculateItemAnalysis(_0x25ed53,_0x42abf6){const _0x5c92ea=_0x121993,_0x3b07a9={};if(_0x42abf6['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x17170a=[..._0x42abf6][_0x5c92ea(0x423)]((_0x4c402f,_0xb22f11)=>{const _0x1b39e8=_0x5c92ea,_0x446df0=_0xb22f11[_0x1b39e8(0x2f1)]-_0x4c402f['latestScore'];if(_0x446df0!==0x0)return _0x446df0;const _0x21e79c=_0x4c402f['attempts']?.[_0x1b39e8(0x2b5)]||0x1,_0x1dcfa7=_0xb22f11[_0x1b39e8(0x9bf)]?.[_0x1b39e8(0x2b5)]||0x1,_0xa449c2=_0x21e79c-_0x1dcfa7;if(_0xa449c2!==0x0)return _0xa449c2;const _0x21b388=new Date(_0x4c402f[_0x1b39e8(0x73e)]),_0x3da062=new Date(_0xb22f11[_0x1b39e8(0x73e)]),_0x389e5d=_0x21b388-_0x3da062;if(_0x389e5d!==0x0)return _0x389e5d;return _0x4c402f[_0x1b39e8(0xae4)][_0x1b39e8(0x9e4)](_0xb22f11['studentName'],'th');}),_0x503cf5=_0x17170a['length'],_0x4d5dcf=Math[_0x5c92ea(0x73a)](0x1,Math['floor'](_0x503cf5*0.33));if(_0x4d5dcf===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3003e9=_0x17170a[_0x5c92ea(0x7bc)](0x0,_0x4d5dcf),_0x2fe29f=_0x17170a[_0x5c92ea(0x7bc)](-_0x4d5dcf),_0x3fccf2=_0x3003e9[_0x5c92ea(0xce7)](_0x4b1e42=>_0x4b1e42[_0x5c92ea(0xae4)]),_0x54e799=_0x2fe29f[_0x5c92ea(0xce7)](_0x3ff944=>_0x3ff944[_0x5c92ea(0xae4)]);return _0x25ed53[_0x5c92ea(0xc33)][_0x5c92ea(0x616)]((_0x2b7329,_0xd73aa3)=>{const _0x3bd303=_0x5c92ea,_0x16f005=_0x2b7329[_0x3bd303(0x859)]||_0x2b7329['questionText'];let _0x202c46=0x0,_0x264985=0x0,_0x43f13e=0x0;const _0x427845=[],_0xba6952=[];_0x3003e9[_0x3bd303(0x616)](_0x48a61f=>{const _0x44cc15=_0x3bd303,_0x4ffea1=_0x48a61f[_0x44cc15(0x9bf)][_0x48a61f[_0x44cc15(0x9bf)][_0x44cc15(0x2b5)]-0x1],_0x18b67f=_0x4ffea1['answers'][_0x44cc15(0x266)](_0x1e53e8=>_0x1e53e8['originalQuestionText']===_0x16f005);_0x427845[_0x44cc15(0xdc4)]({'name':_0x48a61f['studentName'],'isCorrect':_0x18b67f?_0x18b67f[_0x44cc15(0xd90)]:![]}),_0x18b67f&&_0x18b67f[_0x44cc15(0xd90)]&&_0x264985++;}),_0x2fe29f['forEach'](_0x574b41=>{const _0x2090fd=_0x3bd303,_0xc4f295=_0x574b41[_0x2090fd(0x9bf)][_0x574b41['attempts']['length']-0x1],_0x150367=_0xc4f295[_0x2090fd(0x847)][_0x2090fd(0x266)](_0x3fbeb2=>_0x3fbeb2[_0x2090fd(0x3c6)]===_0x16f005);_0xba6952[_0x2090fd(0xdc4)]({'name':_0x574b41[_0x2090fd(0xae4)],'isCorrect':_0x150367?_0x150367[_0x2090fd(0xd90)]:![]}),_0x150367&&_0x150367[_0x2090fd(0xd90)]&&_0x43f13e++;}),_0x42abf6['forEach'](_0x3dbc46=>{const _0x212d66=_0x3bd303,_0x1c91a6=_0x3dbc46[_0x212d66(0x9bf)][_0x3dbc46[_0x212d66(0x9bf)][_0x212d66(0x2b5)]-0x1],_0x1d156f=_0x1c91a6[_0x212d66(0x847)][_0x212d66(0x266)](_0x4669ea=>_0x4669ea[_0x212d66(0x3c6)]===_0x16f005);_0x1d156f&&_0x1d156f[_0x212d66(0xd90)]&&_0x202c46++;});const _0x2c3928=_0x503cf5>0x0?_0x202c46/_0x503cf5:0x0,_0x4df2f0=_0x4d5dcf>0x0?_0x264985/_0x4d5dcf-_0x43f13e/_0x4d5dcf:0x0;_0x3b07a9[_0xd73aa3]={'p':_0x2c3928,'r':_0x4df2f0,'upperGroupResponders':_0x427845,'lowerGroupResponders':_0xba6952};}),{'perQuestionStats':_0x3b07a9,'overallGroups':{'upperGroupNames':_0x3fccf2,'lowerGroupNames':_0x54e799}};}function drag(_0x84f6e){const _0xf3a3a9=_0x121993;if(draggedSvgElement){_0x84f6e[_0xf3a3a9(0xd5c)]();const _0x3bfe3e=draggedSvgElement[_0xf3a3a9(0xbd8)],_0x31fc80=getPointerPosition(_0x3bfe3e,_0x84f6e),_0x39b00b=_0x3bfe3e[_0xf3a3a9(0x200)]['baseVal'];let _0x574f50=_0x31fc80['x']-svgOffset['x'],_0x132ddd=_0x31fc80['y']-svgOffset['y'];const _0x2d490b=draggedSvgElement[_0xf3a3a9(0x337)]();_0x574f50=Math['max'](_0x39b00b['x'],Math['min'](_0x574f50,_0x39b00b['x']+_0x39b00b['width']-_0x2d490b[_0xf3a3a9(0xa61)])),_0x132ddd=Math['max'](_0x39b00b['y'],Math['min'](_0x132ddd,_0x39b00b['y']+_0x39b00b[_0xf3a3a9(0x77b)]-_0x2d490b[_0xf3a3a9(0x77b)])),draggedSvgElement['setAttributeNS'](null,'x',_0x574f50),draggedSvgElement['setAttributeNS'](null,'y',_0x132ddd);}}function endDrag(_0xce7f0){draggedSvgElement=null;}function handleSvgEditClick(_0x27fedc){const _0x588d76=_0x121993;if(_0x27fedc[_0x588d76(0x898)][_0x588d76(0x2ff)][_0x588d76(0x416)](_0x588d76(0xd9e))){const _0x2b4f98=_0x27fedc[_0x588d76(0x898)][_0x588d76(0x683)][_0x588d76(0x5f9)],_0x58e266=_0x27fedc[_0x588d76(0x305)],_0x3816ed=_0x58e266[_0x588d76(0x839)]('#'+_0x2b4f98);_0x3816ed&&_0x3816ed['remove'](),_0x27fedc[_0x588d76(0x898)][_0x588d76(0x2cf)]();}}function handleEditQuestion(_0x54ece4){const _0xd87f9=_0x121993,_0x1aad0a=_0x54ece4[_0xd87f9(0x305)],_0x4d0d4b=_0x1aad0a[_0xd87f9(0x683)]['index'],_0x26a6fb=currentQuizData[_0xd87f9(0xc33)][_0x4d0d4b],_0x2f4b14=document[_0xd87f9(0x2f7)](_0xd87f9(0xd11)+_0x4d0d4b),_0x53c467=document['getElementById'](_0xd87f9(0x27f)+_0x4d0d4b),_0x53d431=document[_0xd87f9(0x2f7)](_0xd87f9(0xb47)+_0x4d0d4b);if(_0x1aad0a[_0xd87f9(0x8c4)][_0xd87f9(0xcec)]('fa-pen')){_0x1aad0a[_0xd87f9(0x8c4)]=_0xd87f9(0x8c1),_0x1aad0a['title']=_0xd87f9(0x539);if(_0x2f4b14)_0x2f4b14['contentEditable']=!![];if(_0x53c467)_0x53c467[_0xd87f9(0x22b)]=!![];if(_0x53d431){const _0x138cb0=_0x53d431[_0xd87f9(0x839)](_0xd87f9(0x75b));if(_0x138cb0){const _0xf09f43=_0x138cb0[_0xd87f9(0x4cb)]('text');_0xf09f43[_0xd87f9(0x616)]((_0x1a355e,_0x25a06a)=>{const _0x207734=_0xd87f9,_0x30a5a8=_0x207734(0xcfe)+_0x4d0d4b+'-'+_0x25a06a;_0x1a355e['id']=_0x30a5a8,_0x1a355e[_0x207734(0x2ff)][_0x207734(0x30d)](_0x207734(0xca7)),_0x1a355e[_0x207734(0x259)][_0x207734(0x69e)]=_0x207734(0x295);const _0x3a7d4d=document[_0x207734(0x3ba)](_0x207734(0x742),'circle'),_0x184431=_0x1a355e[_0x207734(0x337)]();_0x3a7d4d[_0x207734(0xd3d)]('cx',String(_0x184431['x']+_0x184431[_0x207734(0xa61)]+0x5)),_0x3a7d4d[_0x207734(0xd3d)]('cy',String(_0x184431['y']+_0x184431[_0x207734(0x77b)]/0x2-0x5)),_0x3a7d4d['setAttribute']('r','5'),_0x3a7d4d['setAttribute'](_0x207734(0x63c),_0x207734(0xa84)),_0x3a7d4d[_0x207734(0xd3d)](_0x207734(0x6f7),_0x207734(0xd9e)),_0x3a7d4d[_0x207734(0x683)][_0x207734(0x5f9)]=_0x30a5a8,_0x1a355e['after'](_0x3a7d4d);}),_0x138cb0[_0xd87f9(0xdd3)]('mousedown',startDrag),_0x138cb0[_0xd87f9(0xdd3)](_0xd87f9(0xc8c),drag),_0x138cb0[_0xd87f9(0xdd3)]('mouseup',endDrag),_0x138cb0['addEventListener'](_0xd87f9(0xc7a),endDrag),_0x138cb0[_0xd87f9(0xdd3)](_0xd87f9(0xa47),startDrag,{'passive':![]}),_0x138cb0[_0xd87f9(0xdd3)](_0xd87f9(0x5e8),drag,{'passive':![]}),_0x138cb0[_0xd87f9(0xdd3)](_0xd87f9(0x485),endDrag),_0x138cb0[_0xd87f9(0xdd3)](_0xd87f9(0x5bb),endDrag),_0x138cb0[_0xd87f9(0xdd3)]('click',handleSvgEditClick);}}if(_0x2f4b14)_0x2f4b14['focus']();}else{_0x1aad0a[_0xd87f9(0x8c4)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x1aad0a[_0xd87f9(0xc36)]='แก้ไขข้อนี้';if(_0x2f4b14){_0x2f4b14[_0xd87f9(0x22b)]=![];const _0x2238d5=_0x26a6fb[_0xd87f9(0x5ac)]||currentQuizData[_0xd87f9(0x4d2)];_0x2238d5===_0xd87f9(0x5f5)?_0x26a6fb[_0xd87f9(0x859)]=_0x2f4b14['innerText'][_0xd87f9(0x755)](_0x2f4b14[_0xd87f9(0x907)][_0xd87f9(0xc45)]('.')+0x2)[_0xd87f9(0xe11)]():_0x26a6fb['questionText']=_0x2f4b14[_0xd87f9(0x907)][_0xd87f9(0x755)](_0x2f4b14[_0xd87f9(0x907)][_0xd87f9(0xc45)]('.')+0x2)[_0xd87f9(0xe11)]();}_0x53c467&&(_0x53c467[_0xd87f9(0x22b)]=![],_0x26a6fb['explanation']=_0x53c467[_0xd87f9(0x907)]);if(_0x53d431){const _0xf0d67c=_0x53d431[_0xd87f9(0x839)](_0xd87f9(0x75b));if(_0xf0d67c){const _0x5e8878=_0xf0d67c['cloneNode'](!![]);_0x5e8878[_0xd87f9(0x4cb)](_0xd87f9(0x43f))[_0xd87f9(0x616)](_0x42d56a=>_0x42d56a[_0xd87f9(0x2cf)]()),_0x5e8878[_0xd87f9(0x4cb)](_0xd87f9(0x206))[_0xd87f9(0x616)](_0x47f631=>{const _0x255467=_0xd87f9;_0x47f631['classList'][_0x255467(0x2cf)](_0x255467(0xca7)),_0x47f631[_0x255467(0x259)][_0x255467(0x69e)]=_0x255467(0x33b),_0x47f631[_0x255467(0x840)]('id');}),_0x26a6fb['imageCode']=_0x5e8878[_0xd87f9(0x7f1)],_0xf0d67c[_0xd87f9(0x223)](_0xd87f9(0x24e),startDrag),_0xf0d67c[_0xd87f9(0x223)](_0xd87f9(0xc8c),drag),_0xf0d67c[_0xd87f9(0x223)]('mouseup',endDrag),_0xf0d67c[_0xd87f9(0x223)](_0xd87f9(0xc7a),endDrag),_0xf0d67c[_0xd87f9(0x223)](_0xd87f9(0xa47),startDrag),_0xf0d67c[_0xd87f9(0x223)]('touchmove',drag),_0xf0d67c[_0xd87f9(0x223)]('touchend',endDrag),_0xf0d67c[_0xd87f9(0x223)](_0xd87f9(0x5bb),endDrag),_0xf0d67c[_0xd87f9(0x223)](_0xd87f9(0x754),handleSvgEditClick),_0xf0d67c['querySelectorAll']('.delete-svg-btn')[_0xd87f9(0x616)](_0x398338=>_0x398338['remove']()),_0xf0d67c[_0xd87f9(0x4cb)](_0xd87f9(0x206))[_0xd87f9(0x616)](_0x21c8da=>{const _0x454969=_0xd87f9;_0x21c8da['classList'][_0x454969(0x2cf)]('draggable-text'),_0x21c8da[_0x454969(0x259)][_0x454969(0x69e)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x440602){const _0x11b68d=_0x121993,_0x270873=document[_0x11b68d(0x2f7)]('quiz-editor-modal'),_0x16d44c=document[_0x11b68d(0x2f7)](_0x11b68d(0x8fd));_0x16d44c[_0x11b68d(0x8c4)]=_0x11b68d(0xd2a),_0x270873[_0x11b68d(0x2ff)]['remove'](_0x11b68d(0xad0));try{const _0x4876c7=doc(db,_0x11b68d(0x1da)+appId+_0x11b68d(0x653),_0x440602),_0x9a6646=await getDoc(_0x4876c7);if(!_0x9a6646[_0x11b68d(0x75c)]())throw new Error(_0x11b68d(0x5f2));currentEditingQuizData={'id':_0x440602,..._0x9a6646['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x562ab1){console[_0x11b68d(0x274)](_0x11b68d(0x1d0),_0x562ab1),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x270873['classList'][_0x11b68d(0x30d)]('hidden');}}function renderQuizEditor(_0x5618d4){const _0x3789e4=_0x121993;document['getElementById'](_0x3789e4(0x4c0))[_0x3789e4(0x5b6)]=_0x5618d4['topic'];const _0x196c63=document[_0x3789e4(0x2f7)](_0x3789e4(0x8fd));let _0x318e33=_0x5618d4[_0x3789e4(0xc33)]['map']((_0x2d2b25,_0xd86245)=>{const _0x436c21=_0x3789e4;let _0x3e1e1a='';const _0x1ef1cb=_0x2d2b25[_0x436c21(0x5ac)]||_0x5618d4['quizType'];switch(_0x1ef1cb){case _0x436c21(0xc3f):const _0x28e017=(_0x2d2b25[_0x436c21(0x450)]||[])['map']((_0x4d690b,_0x43488e)=>_0x436c21(0x830)+_0xd86245+_0x436c21(0xc03)+_0x43488e+'\x22\x20'+(_0x43488e===_0x2d2b25[_0x436c21(0xc9f)]?_0x436c21(0x28f):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x4d690b+_0x436c21(0x2e6))['join']('');_0x3e1e1a=_0x436c21(0x22e)+_0x28e017+_0x436c21(0x53d);break;case'short_answer':_0x3e1e1a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2d2b25[_0x436c21(0x4a4)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'true_false':_0x3e1e1a=_0x436c21(0xdf2)+_0xd86245+_0x436c21(0x86b)+(_0x2d2b25[_0x436c21(0x836)]===!![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0xd86245+'\x22\x20value=\x22false\x22\x20'+(_0x2d2b25[_0x436c21(0x836)]===![]?'checked':'')+_0x436c21(0xcb5);break;case _0x436c21(0x5f5):_0x3e1e1a=_0x436c21(0x4b1)+(_0x2d2b25[_0x436c21(0xa17)]||'')+_0x436c21(0x967);break;}let _0x36181c=_0x2d2b25['questionText']||_0x2d2b25[_0x436c21(0x859)]||'';return _0x36181c=_0x36181c[_0x436c21(0xbbe)](/<br\s*\/?>/gi,'\x0a'),'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0xd86245+'\x22\x20data-q-type=\x22'+_0x1ef1cb+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0xd86245+0x1)+'\x20('+_0x1ef1cb+_0x436c21(0x594)+_0x36181c+_0x436c21(0x80d)+_0x3e1e1a+_0x436c21(0xd97);})['join']('');_0x196c63[_0x3789e4(0x8c4)]=_0x318e33;const _0xcd7cab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x196c63[_0x3789e4(0x8b3)](_0x3789e4(0x630),_0xcd7cab),_0x196c63[_0x3789e4(0x4cb)](_0x3789e4(0x467))[_0x3789e4(0x616)](_0x2a5ba9=>{const _0x4e3887=_0x3789e4;_0x2a5ba9['style'][_0x4e3887(0xd41)]=_0x4e3887(0xad0),_0x2a5ba9[_0x4e3887(0x259)][_0x4e3887(0x723)]=_0x4e3887(0xcd4),_0x2a5ba9[_0x4e3887(0x5b9)]=0x4;const _0x59ceef=()=>{const _0x2882a0=_0x4e3887;_0x2a5ba9[_0x2882a0(0x259)][_0x2882a0(0x77b)]='auto',_0x2a5ba9[_0x2882a0(0x259)][_0x2882a0(0x77b)]=_0x2a5ba9[_0x2882a0(0x5f0)]+'px';};_0x2a5ba9[_0x4e3887(0xdd3)]('input',_0x59ceef),_0x59ceef();}),_0x196c63['querySelectorAll'](_0x3789e4(0x692))[_0x3789e4(0x616)](_0x545e91=>{const _0x513b4b=_0x3789e4;_0x545e91[_0x513b4b(0xdd3)](_0x513b4b(0x754),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x373870){const _0x3468c4=_0x121993;if(!currentEditingQuizData||!currentEditingQuizData[_0x3468c4(0xc33)][_0x373870])return;const _0x3186b8=currentEditingQuizData[_0x3468c4(0xc33)][_0x373870][_0x3468c4(0x41b)]||currentEditingQuizData[_0x3468c4(0xc33)][_0x373870][_0x3468c4(0x859)];showConfirmation(_0x3468c4(0xd60)+(_0x373870+0x1)+'\x20(\x22'+_0x3186b8[_0x3468c4(0x755)](0x0,0x14)+_0x3468c4(0x50a),()=>{const _0x42c0b2=_0x3468c4;currentEditingQuizData[_0x42c0b2(0xc33)][_0x42c0b2(0x1c9)](_0x373870,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x46cfb4=_0x121993;if(!currentEditingQuizData)return;const _0x1a7b41={'id':'q_'+Date['now']()+_0x46cfb4(0x2e5),'questionType':_0x46cfb4(0xc3f),'questionText':_0x46cfb4(0xdc0),'options':[_0x46cfb4(0x28d),'ตัวเลือก\x20ข',_0x46cfb4(0x48b),_0x46cfb4(0x5c6)],'correctAnswerIndex':0x0,'explanation':_0x46cfb4(0x688)};currentEditingQuizData[_0x46cfb4(0xc33)][_0x46cfb4(0xdc4)](_0x1a7b41),renderQuizEditor(currentEditingQuizData);const _0x8db300=document[_0x46cfb4(0x839)](_0x46cfb4(0x8e1));_0x8db300&&(_0x8db300[_0x46cfb4(0x98c)]({'behavior':_0x46cfb4(0x4f5),'block':_0x46cfb4(0xdb9)}),_0x8db300[_0x46cfb4(0x839)]('textarea')[_0x46cfb4(0x383)]());}async function handleAiFixQuestion(_0x3a3327){const _0x1e78b4=_0x121993,_0x1c33da=_0x3a3327[_0x1e78b4(0x305)],_0x8bab10=_0x1c33da[_0x1e78b4(0xb5f)]('.question-editor-item');if(!_0x8bab10)return;const _0x1c8c9d=parseInt(_0x8bab10[_0x1e78b4(0x683)][_0x1e78b4(0xa02)],0xa);if(isNaN(_0x1c8c9d)||!currentEditingQuizData[_0x1e78b4(0xc33)][_0x1c8c9d]){showMessage(_0x1e78b4(0x9fd));return;}const _0x214d01=currentEditingQuizData[_0x1e78b4(0xc33)][_0x1c8c9d];_0x1c33da[_0x1e78b4(0x8c4)]=_0x1e78b4(0xb9c),_0x1c33da[_0x1e78b4(0x687)]=!![];const _0x395de8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x214d01)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x23c858;const _0x52eb4d=_0x214d01[_0x1e78b4(0x5ac)]||currentEditingQuizData['quizType'];switch(_0x52eb4d){case _0x1e78b4(0x2bc):_0x23c858={'type':_0x1e78b4(0xde6),'properties':{'questionText':{'type':_0x1e78b4(0xcd6)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x1e78b4(0x4a4),_0x1e78b4(0xb3d)]};break;case _0x1e78b4(0xc3f):default:_0x23c858={'type':_0x1e78b4(0xde6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1e78b4(0xd78),'items':{'type':_0x1e78b4(0xcd6)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1e78b4(0xcd6)}},'required':['questionText',_0x1e78b4(0x450),_0x1e78b4(0xc9f),_0x1e78b4(0xb3d)]};break;}try{let _0x5e99bc=await callAnalysisApi(_0x395de8,_0x23c858);_0x5e99bc[_0x1e78b4(0x450)]&&Array[_0x1e78b4(0xa96)](_0x5e99bc[_0x1e78b4(0x450)])&&(_0x5e99bc[_0x1e78b4(0x450)]=_0x5e99bc[_0x1e78b4(0x450)][_0x1e78b4(0xce7)](_0x125f06=>typeof _0x125f06===_0x1e78b4(0xb73)?_0x125f06[_0x1e78b4(0xbbe)](/S(\s*[\d_]+?\s*)S/g,_0x1e78b4(0x3b9)):_0x125f06)),_0x214d01[_0x1e78b4(0x426)]&&_0x214d01['imageCode']['includes'](_0x1e78b4(0x7e9))&&(_0x5e99bc[_0x1e78b4(0x426)]=''),currentEditingQuizData[_0x1e78b4(0xc33)][_0x1c8c9d]={..._0x214d01,..._0x5e99bc},renderQuizEditor(currentEditingQuizData),showMessage(_0x1e78b4(0x45e));}catch(_0x457532){console[_0x1e78b4(0x274)](_0x1e78b4(0x626),_0x457532),showMessage(_0x1e78b4(0x532)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x58bea7=_0x121993,_0x163ca5=document[_0x58bea7(0x2f7)](_0x58bea7(0xe0b));_0x163ca5['disabled']=!![],_0x163ca5[_0x58bea7(0x8c4)]=_0x58bea7(0x3c7);try{const _0x3b0b88=document['getElementById'](_0x58bea7(0x4c0))['value'],_0x29becc=document[_0x58bea7(0x4cb)]('.question-editor-item');let _0x10ce11=[];const _0x16cd1b=Array[_0x58bea7(0x8a8)](_0x29becc)[_0x58bea7(0xce7)]((_0x17cd22,_0x409a19)=>{const _0x4aaf93=_0x58bea7,_0x4d8550=_0x17cd22[_0x4aaf93(0x683)][_0x4aaf93(0xb1a)],_0x50c7f9=_0x17cd22[_0x4aaf93(0x839)](_0x4aaf93(0x5db))[_0x4aaf93(0x5b6)][_0x4aaf93(0xbbe)](/\n/g,_0x4aaf93(0x5e0));let _0x36cc45={'questionType':_0x4d8550};const _0x7eaf9=currentEditingQuizData[_0x4aaf93(0xc33)][_0x409a19];switch(_0x4d8550){case'multiple_choice':_0x36cc45[_0x4aaf93(0x41b)]=_0x50c7f9;const _0x261693=_0x17cd22[_0x4aaf93(0x4cb)](_0x4aaf93(0x4fd));_0x36cc45[_0x4aaf93(0x450)]=Array['from'](_0x261693)[_0x4aaf93(0xce7)](_0x10040b=>_0x10040b[_0x4aaf93(0x5b6)]);const _0x52bb1f=_0x17cd22[_0x4aaf93(0x839)](_0x4aaf93(0x81d));_0x36cc45[_0x4aaf93(0xc9f)]=_0x52bb1f?parseInt(_0x52bb1f['value']):0x0;break;case _0x4aaf93(0x2bc):_0x36cc45[_0x4aaf93(0x41b)]=_0x50c7f9,_0x36cc45['idealAnswer']=_0x17cd22[_0x4aaf93(0x839)](_0x4aaf93(0xac0))[_0x4aaf93(0x5b6)];break;case _0x4aaf93(0x668):_0x36cc45[_0x4aaf93(0x41b)]=_0x50c7f9;const _0x525a33=_0x17cd22[_0x4aaf93(0x839)]('input[type=\x22radio\x22]:checked');_0x36cc45[_0x4aaf93(0x836)]=_0x525a33?_0x525a33[_0x4aaf93(0x5b6)]===_0x4aaf93(0xc10):!![];break;case _0x4aaf93(0x5f5):_0x36cc45['stem']=_0x50c7f9;const _0x4293d1=_0x17cd22['querySelector'](_0x4aaf93(0x7a6));_0x36cc45[_0x4aaf93(0xa17)]=_0x4293d1?_0x4293d1[_0x4aaf93(0x5b6)]:'',_0x10ce11[_0x4aaf93(0xdc4)](_0x36cc45[_0x4aaf93(0xa17)]);break;default:_0x36cc45[_0x4aaf93(0x41b)]=_0x50c7f9;break;}return{..._0x7eaf9,..._0x36cc45};});_0x10ce11['length']>0x0&&_0x16cd1b['forEach'](_0x2d7ffd=>{const _0xfe8753=_0x58bea7;_0x2d7ffd['questionType']===_0xfe8753(0x5f5)&&(_0x2d7ffd[_0xfe8753(0x711)]=_0x10ce11);});const _0x21b026=currentEditingQuizData['id'],_0x558120=doc(db,_0x58bea7(0x1da)+appId+_0x58bea7(0x653),_0x21b026);await updateDoc(_0x558120,{'topic':_0x3b0b88,'questions':_0x16cd1b}),document[_0x58bea7(0x2f7)](_0x58bea7(0xb4f))[_0x58bea7(0x2ff)][_0x58bea7(0x30d)](_0x58bea7(0xad0)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x21b026));}catch(_0x2e065c){console[_0x58bea7(0x274)](_0x58bea7(0x730),_0x2e065c),showMessage(_0x58bea7(0xb80));}finally{_0x163ca5['disabled']=![],_0x163ca5['innerHTML']=_0x58bea7(0x998);}}async function initiateReGradeProcess(_0x3aac76){const _0x8d568=_0x121993;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x2735f5=doc(db,_0x8d568(0x1da)+appId+_0x8d568(0x653),_0x3aac76),_0x6948a6=await getDoc(_0x2735f5);if(!_0x6948a6[_0x8d568(0x75c)]())throw new Error(_0x8d568(0x377));const _0x4129c5={'id':_0x3aac76,..._0x6948a6[_0x8d568(0x72a)]()},_0x193097=collection(db,_0x8d568(0x1da)+appId+_0x8d568(0x653),_0x3aac76,_0x8d568(0x2d1)),_0x2ecb75=await getDocs(_0x193097);if(_0x2ecb75[_0x8d568(0xc89)]){showMessage(_0x8d568(0x981));return;}const _0x594ea6=_0x2ecb75[_0x8d568(0x3c3)][_0x8d568(0xce7)](_0x35fc8a=>reGradeSingleSubmission(_0x35fc8a,_0x4129c5));await Promise['all'](_0x594ea6);if(_0x4129c5[_0x8d568(0xd51)]){const _0x4ab9f3=doc(db,_0x8d568(0x1da)+appId+_0x8d568(0x9f0),_0x4129c5[_0x8d568(0xd51)]),_0x58d808=await getDoc(_0x4ab9f3);if(_0x58d808[_0x8d568(0x75c)]()&&_0x58d808[_0x8d568(0x72a)]()[_0x8d568(0x559)]){const _0x4e0411=_0x58d808[_0x8d568(0x72a)]()['students'][_0x8d568(0xce7)](_0x5592f2=>updateStudentProfile(_0x4129c5[_0x8d568(0xd51)],_0x5592f2));await Promise[_0x8d568(0x943)](_0x4e0411);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x2ecb75[_0x8d568(0x3e3)]+_0x8d568(0x814));}catch(_0x3791e8){console[_0x8d568(0x274)](_0x8d568(0x363),_0x3791e8),showMessage(_0x8d568(0x208)+_0x3791e8[_0x8d568(0x5e6)]);}}async function reGradeSingleSubmission(_0x403c19,_0xd4cdd2){const _0x380c0b=_0x121993,_0x54eafe=_0x403c19[_0x380c0b(0x72a)](),_0x159f3b=_0x54eafe['studentName'],_0x2a4b44=_0x54eafe['attempts']||[],_0x30e5a2=[];for(const _0x331ca6 of _0x2a4b44){let _0x50830c=0x0,_0x1b62a9=[],_0xfc0b4d=0x0;const _0x42d890=[];for(const _0x58e7f0 of _0x331ca6[_0x380c0b(0x847)]){let _0x1c184a;_0x58e7f0['questionId']&&(_0x1c184a=_0xd4cdd2[_0x380c0b(0xc33)]['find'](_0x54093c=>_0x54093c['id']===_0x58e7f0[_0x380c0b(0x871)]));!_0x1c184a&&_0x58e7f0[_0x380c0b(0x3c6)]&&(_0x1c184a=_0xd4cdd2[_0x380c0b(0xc33)]['find'](_0x4c72f=>(_0x4c72f[_0x380c0b(0x859)]||_0x4c72f[_0x380c0b(0x41b)])===_0x58e7f0[_0x380c0b(0x3c6)]));let _0x4ccbb1=![];if(_0x1c184a){const _0xfbcebd=_0x1c184a[_0x380c0b(0x5ac)]||_0xd4cdd2[_0x380c0b(0x4d2)];switch(_0xfbcebd){case'multiple_choice':if(_0x1c184a[_0x380c0b(0x450)]&&_0x1c184a[_0x380c0b(0xc9f)]<_0x1c184a[_0x380c0b(0x450)][_0x380c0b(0x2b5)]){const _0x252e24=_0x1c184a[_0x380c0b(0x450)][_0x1c184a[_0x380c0b(0xc9f)]];_0x4ccbb1=_0x58e7f0[_0x380c0b(0xbcf)]===_0x252e24;}break;case _0x380c0b(0x668):const _0xb6f101=_0x58e7f0[_0x380c0b(0xb05)]===!![]||_0x58e7f0[_0x380c0b(0xb05)]===_0x380c0b(0xc10);_0x4ccbb1=_0xb6f101===_0x1c184a[_0x380c0b(0x836)];break;case _0x380c0b(0x5f5):_0x4ccbb1=_0x58e7f0[_0x380c0b(0xb05)]===_0x1c184a['correctResponse'];break;case'short_answer':_0x4ccbb1=await gradeShortAnswer(_0x58e7f0['answer'],_0x1c184a);break;default:_0x4ccbb1=_0x58e7f0[_0x380c0b(0xd90)];break;}}if(_0x4ccbb1){_0x50830c++,_0xfc0b4d++;if(_0xfc0b4d===0x3)_0x1b62a9[_0x380c0b(0xdc4)](BADGES[_0x380c0b(0x98d)]['id']);}else _0xfc0b4d=0x0;_0x42d890['push']({..._0x58e7f0,'isCorrect':_0x4ccbb1});}let _0x19ed0a=_0x50830c*0xa;_0x50830c===_0xd4cdd2[_0x380c0b(0xc33)]['length']&&(_0x19ed0a+=0x32,_0x1b62a9[_0x380c0b(0xdc4)](BADGES[_0x380c0b(0x7b3)]['id'])),_0x30e5a2[_0x380c0b(0xdc4)]({..._0x331ca6,'score':_0x50830c,'points':_0x19ed0a,'badges':Array[_0x380c0b(0x8a8)](new Set(_0x1b62a9)),'answers':_0x42d890});}const _0x4919b7=_0x30e5a2[_0x380c0b(0x2b5)]>0x0?_0x30e5a2[0x0]['score']:0x0,_0x80728d=Math[_0x380c0b(0x73a)](..._0x30e5a2['map'](_0x98dce5=>_0x98dce5[_0x380c0b(0xbf1)])),_0x5c708c=_0x30e5a2['length']>0x0?_0x30e5a2[_0x30e5a2[_0x380c0b(0x2b5)]-0x1][_0x380c0b(0xbf1)]:0x0,_0x109acc=_0x30e5a2[_0x380c0b(0x2b5)]>0x0?_0x30e5a2[_0x30e5a2[_0x380c0b(0x2b5)]-0x1][_0x380c0b(0xcaf)]:0x0,_0x68f3d5=doc(db,_0x380c0b(0x1da)+appId+'/public/data/quizzes/'+_0xd4cdd2['id']+_0x380c0b(0x942),_0x159f3b);await updateDoc(_0x68f3d5,{'attempts':_0x30e5a2,'firstScore':_0x4919b7,'bestScore':_0x80728d,'latestScore':_0x5c708c,'points':_0x109acc});}function cleanupQuizOptions(_0x101cca){const _0x59f636=_0x121993,_0x32ac74=(_0x418bc4,_0x1c5fdf)=>_0x1c5fdf===0x0?_0x418bc4:_0x32ac74(_0x1c5fdf,_0x418bc4%_0x1c5fdf),_0x28d004=_0x50f0f4=>{const _0x26d798=_0x32db;if(typeof _0x50f0f4!=='string')return null;_0x50f0f4=_0x50f0f4[_0x26d798(0xe11)]();const _0x19285e=_0x50f0f4['split'](/[ /]/)['filter'](_0x54cb4b=>_0x54cb4b!=='');if(_0x19285e['length']===0x3)return parseInt(_0x19285e[0x0])+parseInt(_0x19285e[0x1])/parseInt(_0x19285e[0x2]);else{if(_0x19285e[_0x26d798(0x2b5)]===0x2)return parseInt(_0x19285e[0x0])/parseInt(_0x19285e[0x1]);else{if(_0x19285e['length']===0x1&&!isNaN(_0x19285e[0x0]))return parseFloat(_0x19285e[0x0]);}}return null;},_0x48e1d8=_0xe51056=>{const _0x2c35fe=_0x32db;if(typeof _0xe51056!==_0x2c35fe(0xb73))return _0xe51056;const _0x3edad4=_0xe51056['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3edad4){const _0x40a882=parseInt(_0x3edad4[0x1]);let _0x373711=parseInt(_0x3edad4[0x2]),_0x47f714=parseInt(_0x3edad4[0x3]);const _0xc1089f=_0x32ac74(_0x373711,_0x47f714);_0x373711/=_0xc1089f,_0x47f714/=_0xc1089f;if(_0x47f714===0x1)return(_0x40a882+_0x373711)[_0x2c35fe(0x24c)]();return _0x40a882+'\x20'+_0x373711+'/'+_0x47f714;}return _0xe51056;};return _0x101cca&&_0x101cca['questions']&&_0x101cca[_0x59f636(0xc33)][_0x59f636(0x616)](_0x207919=>{const _0x56e005=_0x59f636;if(_0x207919[_0x56e005(0x5ac)]===_0x56e005(0xc3f)&&_0x207919[_0x56e005(0x450)]){const _0x77adc2=new Map(),_0x486e5b=_0x207919[_0x56e005(0x450)][_0x207919[_0x56e005(0xc9f)]];_0x207919[_0x56e005(0x450)]['forEach'](_0x176915=>{const _0x373bff=_0x56e005,_0x4f4a86=_0x48e1d8(_0x176915),_0x19ee87=_0x28d004(_0x4f4a86);_0x19ee87!==null&&!_0x77adc2[_0x373bff(0x553)](_0x19ee87)&&_0x77adc2[_0x373bff(0x4bc)](_0x19ee87,_0x4f4a86);}),_0x207919[_0x56e005(0x450)]=Array[_0x56e005(0x8a8)](_0x77adc2[_0x56e005(0xe02)]());const _0x3a4e60=_0x207919[_0x56e005(0x450)][_0x56e005(0x868)](_0xe2daa4=>_0xe2daa4===_0x48e1d8(_0x486e5b));_0x207919[_0x56e005(0xc9f)]=_0x3a4e60!==-0x1?_0x3a4e60:0x0;}}),_0x101cca;}function showGameStartConfirmationModal(_0x1d044f,_0x539d67,_0x3393c8){const _0x355e9c=_0x121993,_0x5a7a5b=document[_0x355e9c(0x2f7)](_0x355e9c(0xdd5));document['getElementById'](_0x355e9c(0x834))['textContent']=_0x355e9c(0x533)+_0x3393c8,document['getElementById'](_0x355e9c(0x96e))['value']=_0x1d044f,document[_0x355e9c(0x2f7)](_0x355e9c(0x6bf))[_0x355e9c(0x5b6)]=_0x539d67,document[_0x355e9c(0x2f7)](_0x355e9c(0xdfa))[_0x355e9c(0x28f)]=!![];const _0x1d8e94=document[_0x355e9c(0x2f7)](_0x355e9c(0x552)),_0x199b02=document[_0x355e9c(0x2f7)](_0x355e9c(0x8fc)),_0x4a5815=document['getElementById']('sync-timer-duration-container');_0x539d67===_0x355e9c(0x6a7)?(_0x1d8e94['classList']['remove'](_0x355e9c(0xad0)),document[_0x355e9c(0x839)](_0x355e9c(0x9ef))['checked']=!![],_0x199b02[_0x355e9c(0x28f)]=!![],_0x4a5815[_0x355e9c(0x2ff)][_0x355e9c(0x2cf)]('hidden'),document[_0x355e9c(0x2f7)]('sync-timer-duration-input')['value']=_0x355e9c(0xb88)):(_0x1d8e94[_0x355e9c(0x2ff)][_0x355e9c(0x30d)]('hidden'),_0x199b02[_0x355e9c(0x28f)]=![],_0x4a5815[_0x355e9c(0x2ff)][_0x355e9c(0x30d)]('hidden')),_0x5a7a5b[_0x355e9c(0x2ff)][_0x355e9c(0x2cf)]('hidden');}async function saveGameResultsAsSubmissions(_0xbfa101){const _0x241ff6=_0x121993;console[_0x241ff6(0x92e)](_0x241ff6(0x9c2),_0xbfa101);const _0x5e9056=_0xbfa101[_0x241ff6(0xb99)];let _0xaf08c4=[];if(_0xbfa101[_0x241ff6(0x32a)])_0xaf08c4=Object[_0x241ff6(0x211)](_0xbfa101[_0x241ff6(0x32a)])[_0x241ff6(0xce7)](([_0x4c50f3,_0x5a9a0a])=>({'name':_0x4c50f3,..._0x5a9a0a}));else{if(_0xbfa101[_0x241ff6(0xa6c)])Object[_0x241ff6(0xe02)](_0xbfa101[_0x241ff6(0xa6c)])[_0x241ff6(0x616)](_0x320afa=>{const _0x183f78=_0x241ff6;_0x320afa[_0x183f78(0x2f5)][_0x183f78(0x616)](_0x12d207=>{const _0x392872=_0x183f78;_0xaf08c4[_0x392872(0xdc4)]({'name':_0x12d207,'score':_0x320afa['score'],'answers':_0x320afa[_0x392872(0x847)]});});});else _0xbfa101[_0x241ff6(0xdca)]&&Object[_0x241ff6(0x211)](_0xbfa101[_0x241ff6(0xdca)])['forEach'](([_0x1ae1d2,_0x23d3fc])=>{const _0x303179=_0x241ff6;_0xaf08c4[_0x303179(0xdc4)]({'name':_0x1ae1d2,..._0x23d3fc});});}if(_0xaf08c4[_0x241ff6(0x2b5)]===0x0){console['log'](_0x241ff6(0x897));return;}const _0xdf0c16=_0xbfa101[_0x241ff6(0x926)]?.['questions'][_0x241ff6(0x2b5)]||currentQuizData[_0x241ff6(0xc33)][_0x241ff6(0x2b5)],_0x1bae46=writeBatch(db);for(const _0x2de585 of _0xaf08c4){const _0x2ef767=doc(db,_0x241ff6(0x1da)+appId+_0x241ff6(0x71c)+_0x5e9056+_0x241ff6(0x942),_0x2de585[_0x241ff6(0xa7e)]),_0x11ddf7=(_0x2de585[_0x241ff6(0x847)]||[])['filter'](_0x59c8c0=>_0x59c8c0[_0x241ff6(0xd90)])['length'];let _0x4a8f8a=_0x11ddf7;_0xbfa101[_0x241ff6(0xb49)]&&_0x2de585['answers']&&_0x2de585[_0x241ff6(0x847)][_0x241ff6(0x616)](_0x2ac23d=>{const _0x16e917=_0x241ff6;if(_0x2ac23d[_0x16e917(0xd90)]&&(_0x2ac23d[_0x16e917(0xa5a)]===!![]||_0x2ac23d[_0x16e917(0xa5a)]===_0x16e917(0x2b0)))_0x4a8f8a+=0x1;else!_0x2ac23d[_0x16e917(0xd90)]&&(_0x2ac23d['wasConfident']===!![]||_0x2ac23d[_0x16e917(0xa5a)]===_0x16e917(0x2b0))&&(_0x4a8f8a-=0x1);});_0xdf0c16>0x0&&_0x11ddf7===_0xdf0c16&&(_0x4a8f8a+=0x1);const _0x20cee5={'score':_0x11ddf7,'points':_0x4a8f8a,'badges':_0x2de585[_0x241ff6(0xbb7)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x2de585['answers']||[])[_0x241ff6(0xce7)](_0x86908d=>({'questionId':_0x86908d[_0x241ff6(0x871)],'answer':_0x86908d[_0x241ff6(0xb05)],'answerText':_0x86908d['answerText'],'isCorrect':_0x86908d[_0x241ff6(0xd90)],'originalQuestionText':_0x86908d['originalQuestionText'],'wasConfident':_0x86908d[_0x241ff6(0xa5a)]}))},_0x57a61c=await getDoc(_0x2ef767),_0x4a117f=_0x57a61c[_0x241ff6(0x75c)]()?_0x57a61c[_0x241ff6(0x72a)]():{},_0x5dc307=_0x4a117f[_0x241ff6(0x8d7)]||0x0,_0x1d5035=_0x4a117f[_0x241ff6(0x9bf)]||[],_0x178ea1={'studentName':_0x2de585[_0x241ff6(0xa7e)],'totalQuestions':_0xdf0c16,'attempts':arrayUnion(_0x20cee5),'latestScore':_0x11ddf7,'points':_0x4a8f8a,'latestSubmittedAt':_0x20cee5[_0x241ff6(0xaad)],'bestScore':Math[_0x241ff6(0x73a)](_0x5dc307,_0x11ddf7),'firstScore':_0x1d5035['length']===0x0?_0x11ddf7:_0x4a117f[_0x241ff6(0x695)]||0x0};_0x1bae46[_0x241ff6(0x4bc)](_0x2ef767,_0x178ea1,{'merge':!![]});}try{await _0x1bae46[_0x241ff6(0x794)](),showMessage(_0x241ff6(0xd69)+_0xaf08c4[_0x241ff6(0x2b5)]+_0x241ff6(0x57d));const _0x3e0df3=_0xbfa101[_0x241ff6(0x926)]?.['projectId']||currentQuizData?.[_0x241ff6(0xd51)]||currentProjectId;if(_0x3e0df3){const _0x4365bb=[...new Set(_0xaf08c4[_0x241ff6(0xce7)](_0x31a4fa=>_0x31a4fa[_0x241ff6(0xa7e)]))];for(const _0x5ef007 of _0x4365bb){await updateStudentProfile(_0x3e0df3,_0x5ef007);}}}catch(_0x1ebb33){console[_0x241ff6(0x274)](_0x241ff6(0xa32),_0x1ebb33),showMessage(_0x241ff6(0x821));}}async function saveQuiz(_0x254c56=null,_0x4571d0=null){const _0x3b57d5=_0x121993,_0x4783a6=_0x254c56||currentProjectId;if(!_0x4783a6){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x2a9fdd=document[_0x3b57d5(0x2f7)](_0x3b57d5(0x56c));_0x2a9fdd[_0x3b57d5(0x687)]=!![],_0x2a9fdd['innerHTML']=_0x3b57d5(0x3c7);const _0x4b1076=document[_0x3b57d5(0x2f7)](_0x3b57d5(0x956))[_0x3b57d5(0x28f)];let _0x3cb011=document[_0x3b57d5(0x2f7)]('editable-quiz-topic')[_0x3b57d5(0x907)]['trim']();_0x4b1076&&!_0x3cb011[_0x3b57d5(0x215)](_0x3b57d5(0x3d4))&&(_0x3cb011=_0x3b57d5(0x89c)+_0x3cb011);try{const _0x2c5cfe={'resultsDisplay':document[_0x3b57d5(0x2f7)](_0x3b57d5(0x34e))['value'],'shuffle':document[_0x3b57d5(0x2f7)](_0x3b57d5(0x8c2))[_0x3b57d5(0x5b6)],'timerMode':document[_0x3b57d5(0x2f7)](_0x3b57d5(0x89e))[_0x3b57d5(0x5b6)],'timerDuration':parseInt(document[_0x3b57d5(0x2f7)]('timer-duration-input')['value'])||0xa,'passingScore':parseInt(document[_0x3b57d5(0x2f7)](_0x3b57d5(0x7f0))[_0x3b57d5(0x5b6)])||0x0,'isAdaptive':document['getElementById'](_0x3b57d5(0x6c7))[_0x3b57d5(0x28f)],'loopUntilPass':document[_0x3b57d5(0x2f7)](_0x3b57d5(0x68a))[_0x3b57d5(0x28f)]},_0x3cb141=(currentQuizData[_0x3b57d5(0xc33)]||[])[_0x3b57d5(0xce7)]((_0x2cab30,_0x15dccb)=>{const _0x1ad426=_0x3b57d5,_0x2570f9=document[_0x1ad426(0x2f7)](_0x1ad426(0xb3e))['value'],_0x26fec5={'id':'q_'+Date[_0x1ad426(0x2a6)]()+'_'+_0x15dccb,'questionText':_0x2cab30['questionText']||'','explanation':_0x2cab30[_0x1ad426(0xb3d)]||_0x1ad426(0x7c3),'questionType':_0x2cab30['questionType']||_0x2570f9,'imageCode':_0x2cab30[_0x1ad426(0x426)]||null};return(_0x26fec5[_0x1ad426(0x5ac)]===_0x1ad426(0xc3f)||_0x26fec5[_0x1ad426(0x5ac)]===_0x1ad426(0x419)||_0x26fec5[_0x1ad426(0x5ac)]===_0x1ad426(0x217)&&_0x2cab30[_0x1ad426(0x450)])&&(_0x26fec5[_0x1ad426(0x450)]=_0x2cab30[_0x1ad426(0x450)]||[],_0x26fec5[_0x1ad426(0xc9f)]=_0x2cab30[_0x1ad426(0xc9f)]!==undefined?_0x2cab30[_0x1ad426(0xc9f)]:0x0),(_0x26fec5[_0x1ad426(0x5ac)]===_0x1ad426(0x2bc)||_0x26fec5[_0x1ad426(0x5ac)]==='fill_in_no_choices'||_0x26fec5[_0x1ad426(0x5ac)]===_0x1ad426(0x217)&&_0x2cab30[_0x1ad426(0x4a4)])&&(_0x26fec5['idealAnswer']=_0x2cab30[_0x1ad426(0x4a4)]||''),_0x26fec5[_0x1ad426(0x5ac)]===_0x1ad426(0x668)&&(_0x26fec5[_0x1ad426(0x836)]=_0x2cab30['correctAnswer']===!![]),_0x26fec5[_0x1ad426(0x5ac)]===_0x1ad426(0x5f5)&&(_0x26fec5[_0x1ad426(0x859)]=_0x2cab30[_0x1ad426(0x859)]||'',_0x26fec5['correctResponse']=_0x2cab30[_0x1ad426(0xa17)]||'',_0x26fec5[_0x1ad426(0x711)]=_0x2cab30[_0x1ad426(0x711)]||[]),_0x26fec5;}),_0x1c35aa={'topic':_0x3cb011,'quizType':currentQuizData['quizType']||_0x3b57d5(0xc3f),'questions':_0x3cb141,'projectId':_0x4783a6,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x2c5cfe,'quizMode':_0x4b1076?_0x3b57d5(0x947):_0x3b57d5(0xbc1),'pairedQuizId':null,'lessonPlan':null};let _0x4e2a2c;while(!![]){_0x4e2a2c=Math[_0x3b57d5(0x442)](0x3e8+Math['random']()*0x2328)[_0x3b57d5(0x24c)]();const _0x2dfc2c=await getDoc(doc(db,_0x3b57d5(0x1da)+appId+'/public/data/quizzes',_0x4e2a2c));if(!_0x2dfc2c[_0x3b57d5(0x75c)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3b57d5(0x653),_0x4e2a2c),_0x1c35aa);if(_0x4571d0&&currentBlueprintProjectId){console[_0x3b57d5(0x92e)](_0x3b57d5(0x7b7)+_0x4e2a2c+_0x3b57d5(0x493)+_0x4571d0);try{const _0x4de398=doc(db,_0x3b57d5(0x1da)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4de398,{[_0x3b57d5(0x513)+_0x4571d0+_0x3b57d5(0xc62)]:arrayUnion(_0x4e2a2c)});}catch(_0x307318){console[_0x3b57d5(0x274)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x307318);}}currentQuizData[_0x3b57d5(0x5a5)]=_0x2c5cfe,currentQuizData['id']=_0x4e2a2c;const _0x473282=document['getElementById'](_0x3b57d5(0xbe2));_0x473282[_0x3b57d5(0x8c4)]=_0x3b57d5(0x83d)+_0x4e2a2c+_0x3b57d5(0x30a),document[_0x3b57d5(0x2f7)](_0x3b57d5(0x87f))['addEventListener']('click',()=>copyTextToClipboard(_0x4e2a2c,_0x3b57d5(0xd82))),document[_0x3b57d5(0x2f7)]('start-live-race-generated-btn')[_0x3b57d5(0xdd3)](_0x3b57d5(0x754),()=>handleStartLiveRace(_0x4e2a2c)),document[_0x3b57d5(0x2f7)](_0x3b57d5(0x530))[_0x3b57d5(0xdd3)](_0x3b57d5(0x754),()=>startPresentation(currentQuizData)),document[_0x3b57d5(0x2f7)](_0x3b57d5(0xdad))[_0x3b57d5(0xdd3)](_0x3b57d5(0x754),startAdminTest),showMessage(_0x3b57d5(0x784));}catch(_0x1fce2b){console['error'](_0x3b57d5(0x23b),_0x1fce2b),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x2a9fdd[_0x3b57d5(0x687)]=![],_0x2a9fdd[_0x3b57d5(0x8c4)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x402b72=_0x121993,_0x41b082=document[_0x402b72(0x2f7)](_0x402b72(0x320)),_0x5425b1=document[_0x402b72(0x2f7)](_0x402b72(0x75d)),_0x342900=_0x41b082[_0x402b72(0x839)]('h3'),_0xbce9ae=document[_0x402b72(0x2f7)](_0x402b72(0xcd3));_0x342900[_0x402b72(0xa28)]=_0x402b72(0x8a9),_0xbce9ae[_0x402b72(0xa28)]='เลือกและบันทึก';allProjects[_0x402b72(0x2b5)]===0x0?(_0x5425b1[_0x402b72(0x8c4)]=_0x402b72(0x9f9),_0xbce9ae['disabled']=!![]):(_0x5425b1[_0x402b72(0x8c4)]=allProjects['map'](_0xba5686=>_0x402b72(0xc7d)+_0xba5686['id']+'\x22>'+_0xba5686[_0x402b72(0x5d3)]+_0x402b72(0xbc5))[_0x402b72(0x5c4)](''),_0xbce9ae[_0x402b72(0x687)]=![]);_0x41b082[_0x402b72(0x2ff)][_0x402b72(0x2cf)](_0x402b72(0xad0));const _0x153e89=()=>{const _0x278962=_0x402b72,_0x544f61=_0x5425b1['value'];_0x544f61?(currentProjectId=_0x544f61,_0x41b082[_0x278962(0x2ff)][_0x278962(0x30d)](_0x278962(0xad0)),saveQuiz(),_0x342900[_0x278962(0xa28)]=_0x278962(0x4f0),_0xbce9ae['textContent']=_0x278962(0x669),_0xbce9ae[_0x278962(0x223)](_0x278962(0x754),_0x153e89),_0xbce9ae['addEventListener'](_0x278962(0x754),confirmMoveQuiz)):showMessage(_0x278962(0x393));};_0xbce9ae[_0x402b72(0x223)](_0x402b72(0x754),confirmMoveQuiz),_0xbce9ae['addEventListener'](_0x402b72(0x754),_0x153e89);}function copyTextToClipboard(_0x148774,_0x331a3a){const _0x5862a8=_0x121993,_0x3ca250=document[_0x5862a8(0x78e)](_0x5862a8(0x5db));_0x3ca250['value']=_0x148774,_0x3ca250[_0x5862a8(0x259)]['position']=_0x5862a8(0x665),_0x3ca250[_0x5862a8(0x259)]['opacity']='0',document[_0x5862a8(0x536)][_0x5862a8(0xd74)](_0x3ca250),_0x3ca250['focus'](),_0x3ca250[_0x5862a8(0xcda)]();try{const _0x387a07=document[_0x5862a8(0x49b)](_0x5862a8(0x88e));showMessage(_0x387a07?_0x331a3a:_0x5862a8(0x9eb));}catch(_0x12dffe){showMessage(_0x5862a8(0x9eb)),console[_0x5862a8(0x274)]('Copy\x20command\x20failed',_0x12dffe);}document[_0x5862a8(0x536)][_0x5862a8(0x5da)](_0x3ca250);}function listenForProjectQuizzes(_0x54d203){const _0x14e9b8=_0x121993,_0x50dc91=collection(db,_0x14e9b8(0x1da)+appId+_0x14e9b8(0x653)),_0x2cdb63=query(_0x50dc91,where('projectId','==',_0x54d203));unsubscribeQuizzesListener=onSnapshot(_0x2cdb63,async _0x59b0c4=>{const _0x537483=_0x14e9b8;allQuizzes=_0x59b0c4[_0x537483(0x3c3)][_0x537483(0xce7)](_0x5d4751=>({'id':_0x5d4751['id'],..._0x5d4751['data']()})),renderQuizzes();},_0x1fdc15=>{const _0x300f66=_0x14e9b8;console[_0x300f66(0x274)]('Error\x20fetching\x20project\x20quizzes:',_0x1fdc15),document[_0x300f66(0x2f7)](_0x300f66(0x3df))[_0x300f66(0x8c4)]=_0x300f66(0x7a1);});}async function renderQuizzes(){const _0x19b677=_0x121993,_0x32b5bc=document[_0x19b677(0x2f7)](_0x19b677(0x3df)),_0x4768af=document[_0x19b677(0x2f7)](_0x19b677(0x92b))[_0x19b677(0x5b6)]['toLowerCase']();let _0x452bf7;currentProjectId==='starred'?_0x452bf7=starredQuizzes:_0x452bf7=allQuizzes;let _0x5c82bd=_0x452bf7['filter'](_0x5755b3=>_0x5755b3[_0x19b677(0x9ce)][_0x19b677(0xcfa)]()[_0x19b677(0xcec)](_0x4768af));_0x5c82bd[_0x19b677(0x423)]((_0x2367ce,_0x15e710)=>new Date(_0x15e710[_0x19b677(0x2ca)])-new Date(_0x2367ce['createdAt']));if(_0x5c82bd[_0x19b677(0x2b5)]===0x0){_0x32b5bc[_0x19b677(0x8c4)]=_0x19b677(0x4c2);return;}const _0x464f0c={},_0x3c3f08=_0x5c82bd[_0x19b677(0xce7)](async _0x30df90=>{const _0x51cd72=_0x19b677,_0x438a4e=collection(db,_0x51cd72(0x1da)+appId+_0x51cd72(0x71c)+_0x30df90['id']+_0x51cd72(0x942)),_0x522121=await getDocs(_0x438a4e);_0x464f0c[_0x30df90['id']]=_0x522121['size'];});await Promise[_0x19b677(0x943)](_0x3c3f08);let _0x3f57a6='';_0x5c82bd['forEach'](_0xd072a3=>{const _0x131f52=_0x19b677,_0x2858fb=_0x464f0c[_0xd072a3['id']]||0x0,_0xb8b825=_0xd072a3[_0x131f52(0x2d4)]||_0x131f52(0x72f),_0x1da84a=_0xd072a3[_0x131f52(0x5a5)]?.['timerMode']||_0x131f52(0x346);let _0x510432='',_0x2e0013='';const _0x2f5412=new Date();let _0x3e0de9=_0xb8b825;if(_0xb8b825===_0x131f52(0x6ee)){const _0x2f523c=_0xd072a3[_0x131f52(0xab3)]?new Date(_0xd072a3[_0x131f52(0xab3)]):null,_0x1b0a22=_0xd072a3[_0x131f52(0x2d6)]?new Date(_0xd072a3['endTime']):null;if(_0x1b0a22&&_0x2f5412>_0x1b0a22)_0x3e0de9=_0x131f52(0x251);else _0x2f523c&&_0x2f5412<_0x2f523c?_0x3e0de9=_0x131f52(0xd2d):_0x3e0de9=_0x131f52(0x72f);}switch(_0x3e0de9){case'inactive':_0x510432='ปิดใช้งาน',_0x2e0013=_0x131f52(0x2c0);break;case _0x131f52(0xd2d):_0x510432='รอเปิด',_0x2e0013=_0x131f52(0x785);break;case _0x131f52(0x72f):_0x510432=_0x1da84a!==_0x131f52(0x346)?_0x131f52(0xb96):_0x131f52(0xc5e),_0x2e0013=_0x131f52(0x25f);break;default:_0x510432=_0x131f52(0x256),_0x2e0013='text-green-700\x20bg-green-100';break;}let _0x59b62e='';const _0x2a2121={'day':_0x131f52(0x6e0),'month':_0x131f52(0x6e0),'year':_0x131f52(0x92c),'hour':_0x131f52(0x6e0),'minute':_0x131f52(0x6e0),'hour12':![]};if(_0xb8b825===_0x131f52(0x6ee)){if(_0xd072a3[_0x131f52(0xab3)])_0x59b62e+=_0x131f52(0x625)+new Date(_0xd072a3[_0x131f52(0xab3)])['toLocaleString']('th-TH',_0x2a2121)+_0x131f52(0xb6e);if(_0xd072a3['endTime'])_0x59b62e+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0xd072a3[_0x131f52(0x2d6)])[_0x131f52(0x67f)](_0x131f52(0x95f),_0x2a2121)+_0x131f52(0xb6e);}let _0x31af7e='';if(_0xd072a3[_0x131f52(0x28e)]){const _0x59eb30=allQuizzes[_0x131f52(0x266)](_0x29ce5d=>_0x29ce5d['id']===_0xd072a3[_0x131f52(0x28e)]);if(_0x59eb30){let _0x192de3,_0x27b9c8;new Date(_0xd072a3[_0x131f52(0x2ca)])<new Date(_0x59eb30[_0x131f52(0x2ca)])?(_0x192de3=_0xd072a3['id'],_0x27b9c8=_0x59eb30['id']):(_0x192de3=_0x59eb30['id'],_0x27b9c8=_0xd072a3['id']),_0x31af7e+=_0x131f52(0x4ce)+_0x27b9c8+_0x131f52(0x518)+_0x192de3+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0xd072a3[_0x131f52(0xaf3)]===_0x131f52(0x947)&&(_0x31af7e+=_0x131f52(0x43e)+_0xd072a3['id']+_0x131f52(0x282));if(_0xd072a3[_0x131f52(0xaf3)]==='pre-test'&&_0x2858fb>0x0)_0x31af7e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd072a3['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0xd072a3[_0x131f52(0x28e)]&&_0xd072a3['quizMode']!==_0x131f52(0x947)&&_0x2858fb>0x0&&(_0x31af7e+=_0x131f52(0x43e)+_0xd072a3['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x1f3911='';_0xd072a3[_0x131f52(0x28e)]?_0x1f3911=_0x131f52(0xa65)+_0xd072a3['id']+_0x131f52(0x234):_0x1f3911='<button\x20data-quiz-id=\x22'+_0xd072a3['id']+_0x131f52(0x84f),_0x3f57a6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0xd072a3['id']+_0x131f52(0x5c5)+_0xd072a3['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0xd072a3[_0x131f52(0xc33)]['length']+_0x131f52(0xca6)+new Date(_0xd072a3[_0x131f52(0x2ca)])[_0x131f52(0x67f)](_0x131f52(0x95f))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x2858fb+_0x131f52(0xb95)+_0x59b62e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x2e0013+'\x22>'+_0x510432+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd072a3['id']+_0x131f52(0x2fb)+_0xd072a3['id']+_0x131f52(0x472)+(_0xd072a3[_0x131f52(0x3be)]?_0x131f52(0x409):'far\x20fa-star')+_0x131f52(0xa07)+_0x31af7e+_0x131f52(0x22f)+_0xd072a3['id']+_0x131f52(0x61f)+_0xd072a3['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd072a3['id']+_0x131f52(0xd64)+_0xd072a3['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd072a3['id']+_0x131f52(0xdfe)+_0xd072a3['id']+_0x131f52(0x9a8)+_0xd072a3['id']+_0x131f52(0x2ba)+_0xd072a3[_0x131f52(0x9ce)]+_0x131f52(0x617)+_0xd072a3['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd072a3['id']+_0x131f52(0xd20)+_0x1f3911+_0x131f52(0x474)+_0xd072a3['id']+_0x131f52(0x1d8)+_0xd072a3['id']+_0x131f52(0xae5)+_0xd072a3['id']+_0x131f52(0x848)+_0xd072a3['id']+_0x131f52(0x411)+_0xd072a3['id']+_0x131f52(0xac5)+_0xd072a3['id']+_0x131f52(0x395)+_0xd072a3['id']+_0x131f52(0x23f)+_0xd072a3['id']+_0x131f52(0x2ba)+_0xd072a3['topic']+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0xd072a3['id']+_0x131f52(0x65b);}),_0x32b5bc[_0x19b677(0x8c4)]=_0x3f57a6,document[_0x19b677(0x4cb)](_0x19b677(0xcc6))[_0x19b677(0x616)](_0x3cf35b=>{const _0x11f6f2=_0x19b677;_0x3cf35b[_0x11f6f2(0xdd3)](_0x11f6f2(0x754),()=>{const _0x11f537=_0x11f6f2,_0x5b3b50=_0x3cf35b[_0x11f537(0x683)]['quizId'];showQuizDetailView(_0x5b3b50);});});}async function handleUnpairQuiz(_0xecdae2){const _0x5f2c72=_0x121993,_0x4a7aa1=allQuizzes['find'](_0x2be83c=>_0x2be83c['id']===_0xecdae2);if(!_0x4a7aa1||!_0x4a7aa1[_0x5f2c72(0x28e)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x5f2c72(0x36e),async()=>{const _0x3a34b1=_0x5f2c72;try{const _0x4ebac9=doc(db,'artifacts/'+appId+_0x3a34b1(0x653),_0xecdae2),_0x22bdf7=doc(db,_0x3a34b1(0x1da)+appId+'/public/data/quizzes',_0x4a7aa1[_0x3a34b1(0x28e)]),_0x11ce77=writeBatch(db);_0x11ce77['update'](_0x4ebac9,{'pairedQuizId':null}),_0x11ce77[_0x3a34b1(0xa1f)](_0x22bdf7,{'pairedQuizId':null}),await _0x11ce77[_0x3a34b1(0x794)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x3afc7b){console[_0x3a34b1(0x274)](_0x3a34b1(0x7a3),_0x3afc7b),showMessage(_0x3a34b1(0x2c3));}});}function formatAndPrintLessonPlan(_0x3c8226,_0x38a9f8){const _0x7325b1=_0x121993,_0x3911d4=window[_0x7325b1(0x598)]('',_0x7325b1(0x88b)),_0x47572c=_0x7325b1(0x3c2)+_0x38a9f8[_0x7325b1(0x9ce)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x38a9f8[_0x7325b1(0x9ce)]+_0x7325b1(0xad6)+_0x3c8226['learningGaps'][_0x7325b1(0xce7)](_0x54caaa=>_0x7325b1(0xdcc)+_0x54caaa+_0x7325b1(0xafb))['join']('')+_0x7325b1(0x896)+_0x3c8226[_0x7325b1(0x289)]+_0x7325b1(0xae6)+_0x3c8226[_0x7325b1(0x920)]['map'](_0x1703ef=>_0x7325b1(0x3c8)+_0x1703ef[_0x7325b1(0xa75)]+_0x7325b1(0xe00)+_0x1703ef['solution']+_0x7325b1(0x52d))[_0x7325b1(0x5c4)]('')+_0x7325b1(0xc19);_0x3911d4[_0x7325b1(0x31f)][_0x7325b1(0xd73)](_0x47572c),_0x3911d4['document'][_0x7325b1(0xced)](),_0x3911d4['onload']=function(){setTimeout(()=>{_0x3911d4['print']();},0x3e8);};}async function handleAiFixFormula(_0x410e93){const _0x5a9e11=_0x121993,_0x599e68=document[_0x5a9e11(0x839)](_0x5a9e11(0xdc3)+_0x410e93+'\x22]');if(!_0x599e68)return;const _0x764644=_0x599e68[_0x5a9e11(0x683)][_0x5a9e11(0xb1a)],_0x2bf4a2=_0x599e68[_0x5a9e11(0x839)](_0x5a9e11(0x8ed));let _0x1fe2f9={'question':_0x599e68[_0x5a9e11(0x839)](_0x5a9e11(0x5db))['value']};switch(_0x764644){case _0x5a9e11(0xc3f):_0x1fe2f9[_0x5a9e11(0x450)]=Array['from'](_0x599e68[_0x5a9e11(0x4cb)](_0x5a9e11(0x4fd)))[_0x5a9e11(0xce7)](_0x489d7e=>_0x489d7e[_0x5a9e11(0x5b6)]);break;case'short_answer':_0x1fe2f9[_0x5a9e11(0x4a4)]=_0x599e68['querySelector'](_0x5a9e11(0xac0))[_0x5a9e11(0x5b6)];break;case'matching_item':_0x1fe2f9[_0x5a9e11(0xa17)]=_0x599e68[_0x5a9e11(0x839)]('.correct-response-input')[_0x5a9e11(0x5b6)];break;}_0x2bf4a2[_0x5a9e11(0x8c4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x2bf4a2[_0x5a9e11(0x687)]=!![];try{const _0x1b6d3c=_0x5a9e11(0xb69)+JSON[_0x5a9e11(0xd68)](_0x1fe2f9)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x237b38={'type':_0x5a9e11(0xde6),'properties':{'fixedData':{'type':_0x5a9e11(0xde6),'properties':{'question':{'type':'STRING'},'options':{'type':_0x5a9e11(0xd78),'items':{'type':_0x5a9e11(0xcd6)}},'idealAnswer':{'type':_0x5a9e11(0xcd6)},'correctResponse':{'type':_0x5a9e11(0xcd6)}},'required':[_0x5a9e11(0xa75)]}},'required':[_0x5a9e11(0x822)]},_0x20861b=await callAnalysisApi(_0x1b6d3c,_0x237b38);if(_0x20861b&&_0x20861b[_0x5a9e11(0x822)]){const _0x315624=_0x20861b[_0x5a9e11(0x822)];_0x599e68['querySelector'](_0x5a9e11(0x5db))[_0x5a9e11(0x5b6)]=_0x315624['question']||_0x1fe2f9[_0x5a9e11(0xa75)];switch(_0x764644){case _0x5a9e11(0xc3f):_0x315624[_0x5a9e11(0x450)]&&_0x315624[_0x5a9e11(0x450)]['length']>0x0&&_0x599e68['querySelectorAll'](_0x5a9e11(0x4fd))[_0x5a9e11(0x616)]((_0x2c21c9,_0x482a76)=>{const _0xd94c1a=_0x5a9e11;_0x2c21c9[_0xd94c1a(0x5b6)]=_0x315624[_0xd94c1a(0x450)][_0x482a76]||_0x1fe2f9[_0xd94c1a(0x450)][_0x482a76];});break;case'short_answer':_0x599e68['querySelector'](_0x5a9e11(0xac0))[_0x5a9e11(0x5b6)]=_0x315624['idealAnswer']||_0x1fe2f9[_0x5a9e11(0x4a4)];break;case _0x5a9e11(0x5f5):_0x599e68[_0x5a9e11(0x839)](_0x5a9e11(0x7a6))[_0x5a9e11(0x5b6)]=_0x315624[_0x5a9e11(0xa17)]||_0x1fe2f9[_0x5a9e11(0xa17)];break;}if(_0x1fe2f9[_0x5a9e11(0xa75)]!==_0x315624['question'])try{const _0x17a0ae=collection(db,_0x5a9e11(0x1da)+appId+'/public/data/learnedFixes');await addDoc(_0x17a0ae,{'broken':_0x1fe2f9[_0x5a9e11(0xa75)],'fixed':_0x315624['question'],'createdAt':serverTimestamp()});}catch(_0x2b971a){console[_0x5a9e11(0x274)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x2b971a);}showMessage(_0x5a9e11(0xb21));}else throw new Error(_0x5a9e11(0xa38));}catch(_0x46853b){console['error'](_0x5a9e11(0x8f2),_0x46853b),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x2bf4a2[_0x5a9e11(0x8c4)]=_0x5a9e11(0x4f1),_0x2bf4a2[_0x5a9e11(0x687)]=![];}}async function handleGenerateLessonPlan(_0x2d2b10){const _0x226d04=_0x121993;showMessage(_0x226d04(0xb8e));try{const _0x4f1253=doc(db,'artifacts/'+appId+_0x226d04(0x653),_0x2d2b10),_0x3721f4=await getDoc(_0x4f1253);if(!_0x3721f4['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x2a92d4={'id':_0x2d2b10,..._0x3721f4[_0x226d04(0x72a)]()},_0x21dd27=collection(db,_0x226d04(0x1da)+appId+_0x226d04(0x653),_0x2d2b10,'submissions'),_0x276f6e=await getDocs(_0x21dd27),_0x561dd9=_0x276f6e[_0x226d04(0x3c3)][_0x226d04(0xce7)](_0x189f8c=>_0x189f8c['data']());if(_0x561dd9[_0x226d04(0x2b5)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x19c758=calculateItemAnalysis(_0x2a92d4,_0x561dd9)[_0x226d04(0x3c0)],_0x545593=calculateDistractorAnalysis(_0x2a92d4,_0x561dd9),_0x236522=_0x3fdf25=>{const _0x56f0b1=_0x226d04;if(!_0x3fdf25)return'';return _0x3fdf25[_0x56f0b1(0xbbe)](/\\/g,'\x5c\x5c')[_0x56f0b1(0xbbe)](/"/g,'\x5c\x22')[_0x56f0b1(0xbbe)](/\n/g,'\x5cn');};let _0x1127bc=_0x226d04(0x677);_0x2a92d4[_0x226d04(0xc33)][_0x226d04(0x616)]((_0x1b87d3,_0x506591)=>{const _0x195f54=_0x226d04,_0x492f82=_0x19c758[_0x506591]?.['p'][_0x195f54(0x343)](0x2)||_0x195f54(0x633),_0x2032ab=_0x19c758[_0x506591]?.['r']['toFixed'](0x2)||_0x195f54(0x633),_0x43cd22=_0x236522(_0x1b87d3[_0x195f54(0x41b)]||_0x1b87d3[_0x195f54(0x859)]);_0x1127bc+=_0x195f54(0x1d9)+(_0x506591+0x1)+_0x195f54(0xe17)+_0x492f82+',\x20r='+_0x2032ab+_0x195f54(0xe05)+_0x43cd22+'\x5cn';if(_0x1b87d3[_0x195f54(0x5ac)]===_0x195f54(0xc3f)&&_0x545593[_0x506591]){const _0x1b0371=_0x545593[_0x506591],_0x3edb2d=Object[_0x195f54(0xc27)](_0x1b0371)[_0x195f54(0x9a7)](_0x55cb37=>parseInt(_0x55cb37)!==_0x1b87d3['correctAnswerIndex'])[_0x195f54(0x423)]((_0x3a1b7c,_0x37af23)=>_0x1b0371[_0x37af23][_0x195f54(0x850)]-_0x1b0371[_0x3a1b7c][_0x195f54(0x850)])[0x0];if(_0x3edb2d&&_0x1b0371[_0x3edb2d]['total']>0x0){const _0x949fe7=_0x236522(_0x1b0371[_0x3edb2d][_0x195f54(0xc0b)]);_0x1127bc+=_0x195f54(0x8ae)+_0x949fe7+_0x195f54(0xb5a);}}});const _0x526512=_0x226d04(0x455)+_0x2a92d4['topic']+_0x226d04(0x911)+_0x1127bc+_0x226d04(0x352),_0x5e305f={'type':_0x226d04(0xde6),'properties':{'learningGaps':{'type':_0x226d04(0xd78),'items':{'type':'STRING'}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x226d04(0xa9b),_0x226d04(0x289),_0x226d04(0x920)]},_0x4249c7=await callAnalysisApi(_0x526512,_0x5e305f);await updateDoc(_0x4f1253,{'lessonPlan':_0x4249c7});const _0x2e2108='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x2a92d4['topic']+_0x226d04(0x889)+_0x4249c7[_0x226d04(0xa9b)][_0x226d04(0xce7)](_0x2fff60=>_0x226d04(0xdcc)+_0x2fff60+_0x226d04(0xafb))[_0x226d04(0x5c4)]('')+_0x226d04(0x583)+_0x4249c7[_0x226d04(0x289)]+_0x226d04(0x7fd)+_0x4249c7[_0x226d04(0x920)][_0x226d04(0xce7)](_0x537061=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x537061[_0x226d04(0xa75)]+_0x226d04(0xc55)+_0x537061[_0x226d04(0xd71)]+_0x226d04(0xa97))[_0x226d04(0x5c4)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x226d04(0x4c6))['textContent']=_0x226d04(0xcb7)+_0x2a92d4[_0x226d04(0x9ce)],document[_0x226d04(0x2f7)]('lesson-plan-content')[_0x226d04(0x8c4)]=_0x2e2108,document[_0x226d04(0x2f7)](_0x226d04(0x7aa))[_0x226d04(0x2ff)][_0x226d04(0x2cf)]('hidden');if(window[_0x226d04(0xc16)])MathJax[_0x226d04(0xe06)]();messageModal[_0x226d04(0x2ff)][_0x226d04(0x30d)]('hidden');}catch(_0x4af29b){console[_0x226d04(0x274)]('Error\x20generating\x20lesson\x20plan:',_0x4af29b),showMessage(_0x226d04(0x663)+_0x4af29b['message']);}}async function handleDuplicateQuiz(_0x46b239){const _0x221a62=_0x121993;try{const _0x4796ab=doc(db,_0x221a62(0x1da)+appId+_0x221a62(0x653),_0x46b239),_0x7f2806=await getDoc(_0x4796ab);if(_0x7f2806['exists']()){const _0x1e9105=_0x7f2806[_0x221a62(0x72a)]();let _0x188938='',_0x1f3f32=_0x221a62(0xbc1),_0x2b15cf=null;if(_0x1e9105[_0x221a62(0xaf3)]===_0x221a62(0x947)){let _0x14eaae=_0x1e9105['topic']['replace'](_0x221a62(0x3d4),'')[_0x221a62(0xe11)]();_0x188938='(หลังเรียน)\x20'+_0x14eaae,_0x1f3f32=_0x221a62(0x940),_0x2b15cf=_0x46b239;}else _0x188938=_0x221a62(0xbd9)+_0x1e9105['topic'];const _0x15c1a5={..._0x1e9105,'topic':_0x188938,'createdAt':new Date()['toISOString'](),'quizMode':_0x1f3f32,'pairedQuizId':_0x2b15cf};let _0x47e08d;while(!![]){_0x47e08d=Math[_0x221a62(0x442)](0x3e8+Math[_0x221a62(0x51e)]()*0x2328)['toString']();const _0x5597cd=await getDoc(doc(db,_0x221a62(0x1da)+appId+_0x221a62(0x653),_0x47e08d));if(!_0x5597cd[_0x221a62(0x75c)]())break;}const _0x19c667=doc(db,_0x221a62(0x1da)+appId+_0x221a62(0x653),_0x47e08d);await setDoc(_0x19c667,_0x15c1a5),_0x15c1a5[_0x221a62(0xaf3)]==='post-test'&&await updateDoc(_0x4796ab,{'pairedQuizId':_0x47e08d}),showMessage(_0x221a62(0x88f));}else throw new Error(_0x221a62(0x743));}catch(_0xafda34){console[_0x221a62(0x274)](_0x221a62(0xd31),_0xafda34),showMessage(_0x221a62(0xdd6));}}async function handleDeleteQuiz(_0xe9c4fc,_0x317e70=!![]){const _0x3e44b3=_0x121993;try{const _0x28fb0d=writeBatch(db),_0x4221d4=collection(db,_0x3e44b3(0x1da)+appId+'/public/data/quizzes/'+_0xe9c4fc+_0x3e44b3(0x942)),_0x16c708=await getDocs(_0x4221d4);_0x16c708['forEach'](_0x57cb14=>{_0x28fb0d['delete'](doc(_0x4221d4,_0x57cb14['id']));});const _0x2d754d=doc(db,_0x3e44b3(0x1da)+appId+_0x3e44b3(0x653),_0xe9c4fc);_0x28fb0d[_0x3e44b3(0xc5d)](_0x2d754d),await _0x28fb0d[_0x3e44b3(0x794)]();try{console['log'](_0x3e44b3(0xa90)+_0xe9c4fc+_0x3e44b3(0x758));const _0x5832a7=collection(db,_0x3e44b3(0x1da)+appId+_0x3e44b3(0xb14)),_0x45662b=await getDocs(_0x5832a7),_0x52b00e=[];_0x45662b[_0x3e44b3(0x616)](_0x2056e7=>{const _0x4b974f=_0x3e44b3,_0x2a19ed=_0x2056e7[_0x4b974f(0x72a)](),_0x47d289=_0x2a19ed['topics']||{};let _0x3913dd=![];for(const _0x181613 in _0x47d289){const _0x467926=_0x47d289[_0x181613];if(_0x467926[_0x4b974f(0x318)]&&_0x467926[_0x4b974f(0x318)][_0x4b974f(0xcec)](_0xe9c4fc)){_0x3913dd=!![];const _0x51b185=doc(db,_0x4b974f(0x1da)+appId+_0x4b974f(0xb14),_0x2056e7['id']),_0x4343f9=updateDoc(_0x51b185,{[_0x4b974f(0x513)+_0x181613+'.linkedQuizIds']:arrayRemove(_0xe9c4fc)});_0x52b00e[_0x4b974f(0xdc4)](_0x4343f9);}}}),_0x52b00e['length']>0x0&&(await Promise[_0x3e44b3(0x943)](_0x52b00e),console['log'](_0x3e44b3(0x39b)+_0x52b00e[_0x3e44b3(0x2b5)]+_0x3e44b3(0x2af)+_0xe9c4fc+'.'));}catch(_0x3a8902){console['error'](_0x3e44b3(0x5b8),_0x3a8902);}_0x317e70&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x46b135){console['error'](_0x3e44b3(0x5df),_0x46b135),_0x317e70&&showMessage(_0x3e44b3(0xa59));}}async function showQuizDetailView(_0x203680){const _0x50936e=_0x121993;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x5673f0=doc(db,'artifacts/'+appId+_0x50936e(0x653),_0x203680),_0x6e915f=await getDoc(_0x5673f0);if(!_0x6e915f['exists']()){showMessage(_0x50936e(0x377));return;}const _0x2be04b={'id':_0x6e915f['id'],..._0x6e915f[_0x50936e(0x72a)]()};currentQuizData=_0x2be04b;const _0x231545=doc(db,_0x50936e(0x1da)+appId+_0x50936e(0x9f0),_0x2be04b['projectId']),_0x2221ac=await getDoc(_0x231545);_0x2221ac['exists']()?(currentProjectData=_0x2221ac[_0x50936e(0x72a)](),currentProjectId=_0x2be04b[_0x50936e(0xd51)]):(currentProjectData={'students':[]},currentProjectId=_0x2be04b[_0x50936e(0xd51)]);document[_0x50936e(0x2f7)](_0x50936e(0x449))[_0x50936e(0xa28)]=_0x2be04b[_0x50936e(0x9ce)],document['getElementById']('results-quiz-id-display')['textContent']=_0x203680;const _0x389193=collection(db,_0x50936e(0x1da)+appId+_0x50936e(0x653),_0x203680,_0x50936e(0x2d1));unsubscribeSubmissionsListener=onSnapshot(_0x389193,_0x541bbe=>{const _0x4844d5=_0x50936e,_0x1401d8=_0x541bbe[_0x4844d5(0x3c3)][_0x4844d5(0xce7)](_0x46c1e6=>({'id':_0x46c1e6['id'],..._0x46c1e6['data']()}));currentSubmissions=_0x1401d8;const _0x36e189=_0x1401d8['filter'](_0x3a9b9a=>_0x3a9b9a[_0x4844d5(0x9bf)]&&_0x3a9b9a[_0x4844d5(0x9bf)][_0x4844d5(0x2b5)]>0x0);renderBehaviorLog(_0x1401d8),renderAnswerGrid(currentProjectData['students'],_0x36e189,_0x2be04b),renderAnalytics(_0x2be04b,_0x36e189),renderQuizResultsTable(currentProjectData[_0x4844d5(0x559)],_0x1401d8,_0x2be04b),renderQuizLeaderboard(_0x36e189,_0x2be04b,_0x4844d5(0x829));}),showView(_0x50936e(0x775));}catch(_0x13c327){console[_0x50936e(0x274)](_0x50936e(0xdb1),_0x13c327),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x5159ae,_0x2e0075,_0x369558){const _0x894f6b=_0x121993,_0x38c474=document[_0x894f6b(0x2f7)](_0x894f6b(0x58b));if(!_0x38c474)return;if(!_0x5159ae||_0x5159ae[_0x894f6b(0x2b5)]===0x0){_0x38c474['innerHTML']=_0x894f6b(0x290);return;}const _0x201735=_0x369558[_0x894f6b(0xc33)],_0x1e1c01=_0x2e0075[_0x894f6b(0x971)]((_0x2ebd30,_0x43d641)=>{return _0x2ebd30[_0x43d641['studentName']]=_0x43d641,_0x2ebd30;},{}),_0x17b683=_0x410c76=>String[_0x894f6b(0xdbf)](0x41+_0x410c76),_0x4bf8cf=_0x15309c=>{const _0x7ef51a=_0x894f6b,_0xf9e0e3=_0x15309c[_0x7ef51a(0x5ac)]||_0x369558[_0x7ef51a(0x4d2)];switch(_0xf9e0e3){case _0x7ef51a(0xc3f):return _0x15309c[_0x7ef51a(0x450)]&&_0x15309c[_0x7ef51a(0x450)][_0x7ef51a(0x2b5)]>_0x15309c[_0x7ef51a(0xc9f)]?_0x17b683(_0x15309c[_0x7ef51a(0xc9f)]):'-';case _0x7ef51a(0x668):const _0x588d0a=_0x15309c['correctAnswer']===!![]||String(_0x15309c[_0x7ef51a(0x836)])[_0x7ef51a(0xcfa)]()===_0x7ef51a(0xc10);return _0x588d0a?_0x7ef51a(0xb38):_0x7ef51a(0x935);case _0x7ef51a(0x5f5):return _0x15309c['correctResponse']||'-';case _0x7ef51a(0x2bc):return _0x7ef51a(0x310);default:return'-';}},_0x3a6643=(_0x13d91f,_0xe74207)=>{const _0x41b39a=_0x894f6b;if(_0xe74207[_0x41b39a(0xb05)]===null||_0xe74207['answer']===undefined)return'-';const _0xa872b5=_0x13d91f[_0x41b39a(0x5ac)]||_0x369558[_0x41b39a(0x4d2)];switch(_0xa872b5){case'multiple_choice':const _0x2cb579=_0x13d91f[_0x41b39a(0x450)]['findIndex'](_0x57714f=>_0x57714f===_0xe74207[_0x41b39a(0xbcf)]);return _0x2cb579!==-0x1?_0x17b683(_0x2cb579):_0xe74207[_0x41b39a(0xbcf)]||'-';case _0x41b39a(0x668):if(_0xe74207[_0x41b39a(0xb05)]=='0'||_0xe74207[_0x41b39a(0xb05)]===!![]||_0xe74207[_0x41b39a(0xb05)]==='true')return _0x41b39a(0xb38);return _0x41b39a(0x935);default:return _0xe74207[_0x41b39a(0xb05)];}};let _0x3b82cf=_0x894f6b(0x654)+_0x201735[_0x894f6b(0xce7)]((_0x4b2e40,_0x2c4a4f)=>_0x894f6b(0x86d)+(_0x2c4a4f+0x1)+_0x894f6b(0x854))[_0x894f6b(0x5c4)]('')+_0x894f6b(0x584)+_0x201735[_0x894f6b(0xce7)](_0x5e3a43=>_0x894f6b(0x388)+_0x4bf8cf(_0x5e3a43)+_0x894f6b(0x5a3))[_0x894f6b(0x5c4)]('')+_0x894f6b(0x85b);_0x5159ae[_0x894f6b(0x616)](_0x47a128=>{const _0x1a4201=_0x894f6b;_0x3b82cf+=_0x1a4201(0x521),_0x3b82cf+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x47a128+'</td>';const _0x5bfd9c=_0x1e1c01[_0x47a128];if(_0x5bfd9c){const _0x34963b=_0x5bfd9c[_0x1a4201(0x9bf)][_0x5bfd9c[_0x1a4201(0x9bf)][_0x1a4201(0x2b5)]-0x1];_0x201735[_0x1a4201(0x616)]((_0x1eb261,_0x599af7)=>{const _0x3cdf3f=_0x1a4201,_0x987e50=_0x34963b[_0x3cdf3f(0x847)][_0x3cdf3f(0x266)](_0x3e8159=>_0x3e8159[_0x3cdf3f(0x871)]===_0x1eb261['id']);if(_0x987e50){let _0x1e7b1e='';const _0x567875=_0x987e50['isCorrect']===!![],_0x34ea23=_0x987e50[_0x3cdf3f(0xa5a)]===!![]||_0x987e50[_0x3cdf3f(0xa5a)]===_0x3cdf3f(0x2b0);_0x34ea23?_0x1e7b1e=_0x567875?_0x3cdf3f(0x58c):_0x3cdf3f(0x770):_0x1e7b1e=_0x567875?_0x3cdf3f(0xdd9):_0x3cdf3f(0x7c4),_0x3b82cf+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x1e7b1e+'\x22>'+_0x3a6643(_0x1eb261,_0x987e50)+_0x3cdf3f(0x5a3);}else _0x3b82cf+=_0x3cdf3f(0x528);});}else _0x3b82cf+=_0x201735[_0x1a4201(0xce7)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x1a4201(0x5c4)]('');_0x3b82cf+='</tr>';}),_0x3b82cf+=_0x894f6b(0x9e7),_0x38c474[_0x894f6b(0x8c4)]=_0x3b82cf;}function renderQuizResultsTable(_0x5f5db5,_0x547c79,_0xc047d5){const _0x5c1008=_0x121993,_0x4abeba=_0x547c79[_0x5c1008(0x971)]((_0x56abdb,_0x3a5a0e)=>{const _0x4f873b=_0x5c1008;return _0x56abdb[_0x3a5a0e[_0x4f873b(0xae4)]]=_0x3a5a0e,_0x56abdb;},{}),_0x4723ef=document[_0x5c1008(0x839)](_0x5c1008(0x953));_0x4723ef&&!_0x4723ef['innerHTML'][_0x5c1008(0xcec)](_0x5c1008(0x78d))&&(_0x4723ef[_0x5c1008(0x8c4)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x49aa74=document[_0x5c1008(0x2f7)](_0x5c1008(0x672));if(!_0x5f5db5||_0x5f5db5[_0x5c1008(0x2b5)]===0x0){_0x49aa74[_0x5c1008(0x8c4)]=_0x5c1008(0x2df);return;}const _0x298975=_0xc047d5[_0x5c1008(0x642)]===!![],_0x5d7fb8=_0xc047d5[_0x5c1008(0x5a5)]?.['passingScore']??-0x1;let _0x389fcc='';_0x5f5db5[_0x5c1008(0x616)](_0x1c8990=>{const _0x2443ec=_0x5c1008,_0x94053=_0x4abeba[_0x1c8990];let _0x20acff=_0x2443ec(0xc7b)+(_0x298975?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x298975?_0x2443ec(0x831):_0x2443ec(0x86e))+_0x2443ec(0x573);if(_0x94053){if(_0x94053[_0x2443ec(0x9bf)]&&_0x94053['attempts'][_0x2443ec(0x2b5)]>0x0){let _0x58e4b0=_0x298975?_0x94053['bestScore']===_0x94053[_0x2443ec(0x7f8)]:_0x5d7fb8!==-0x1&&_0x94053[_0x2443ec(0x8d7)]>=_0x5d7fb8;const _0x2fed3c=_0x58e4b0?_0x2443ec(0x487):_0x2443ec(0x92a),_0x321bbc=_0x58e4b0?_0x2443ec(0x397):'ไม่ผ่าน',_0x2fb2cf='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x2fed3c+'\x22>'+_0x321bbc+_0x2443ec(0x573),_0x3f2ff0=_0x2443ec(0xc68)+(_0x94053[_0x2443ec(0x9bf)]?.[_0x2443ec(0x2b5)]||0x1)+_0x2443ec(0xc66);_0x389fcc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1c8990+_0x2443ec(0x564)+_0x94053[_0x2443ec(0x8d7)]+_0x2443ec(0xd43)+_0x94053[_0x2443ec(0x7f8)]+_0x2443ec(0x53b)+_0x2fb2cf+_0x2443ec(0x417)+_0x20acff+_0x2443ec(0x7b8)+_0x94053['firstScore']+'\x20/\x20'+_0x94053[_0x2443ec(0x7f8)]+_0x2443ec(0x52c)+_0x94053[_0x2443ec(0x2f1)]+_0x2443ec(0xd43)+_0x94053[_0x2443ec(0x7f8)]+_0x2443ec(0x936)+(_0x94053[_0x2443ec(0xcaf)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f2ff0+_0x2443ec(0x933)+new Date(_0x94053[_0x2443ec(0x73e)])['toLocaleString']('th-TH')+_0x2443ec(0xaf6)+_0x1c8990+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x283911='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x389fcc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1c8990+_0x2443ec(0x779)+_0x20acff+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x283911+_0x2443ec(0x933)+new Date(_0x94053[_0x2443ec(0x4a2)])[_0x2443ec(0x67f)]('th-TH')+_0x2443ec(0x224)+_0x1c8990+_0x2443ec(0x4e0);}}else{const _0x527a20=_0x2443ec(0x608);_0x389fcc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1c8990+_0x2443ec(0x96d)+_0x20acff+_0x2443ec(0x555)+_0x527a20+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x49aa74['innerHTML']=_0x389fcc;}async function confirmRenameQuiz(){const _0x15aec7=_0x121993,_0x21ed30=document[_0x15aec7(0x2f7)]('rename-quiz-input')[_0x15aec7(0x5b6)][_0x15aec7(0xe11)]();if(!_0x21ed30){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x1d7cda=doc(db,_0x15aec7(0x1da)+appId+_0x15aec7(0x653),actionTargetId);try{await updateDoc(_0x1d7cda,{'topic':_0x21ed30}),showMessage(_0x15aec7(0xc44)),renameQuizModal[_0x15aec7(0x2ff)][_0x15aec7(0x30d)](_0x15aec7(0xad0)),actionTargetId=null;}catch(_0x26ebc9){console['error'](_0x15aec7(0x5a7),_0x26ebc9),showMessage(_0x15aec7(0x728));}}async function handleMoveQuiz(_0x10a5ea){const _0x599319=_0x121993;actionTargetId=_0x10a5ea;const _0x31737b=document[_0x599319(0x2f7)]('move-quiz-project-select');_0x31737b[_0x599319(0x8c4)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x599319(0x2ff)][_0x599319(0x2cf)](_0x599319(0xad0));try{const _0x4b1643=collection(db,'artifacts/'+appId+_0x599319(0x9f0)),_0x357af6=await getDocs(_0x4b1643),_0x2012c4=_0x357af6[_0x599319(0x3c3)][_0x599319(0xce7)](_0x4212e1=>({'id':_0x4212e1['id'],..._0x4212e1[_0x599319(0x72a)]()})),_0x7d2e4b=_0x2012c4['filter'](_0x5426c8=>_0x5426c8['id']!==currentProjectId);if(_0x7d2e4b[_0x599319(0x2b5)]===0x0){_0x31737b[_0x599319(0x8c4)]=_0x599319(0x1f2),document[_0x599319(0x2f7)]('confirm-move-quiz-btn')['disabled']=!![];return;}_0x31737b[_0x599319(0x8c4)]=_0x7d2e4b[_0x599319(0xce7)](_0x3f3cbb=>_0x599319(0xc7d)+_0x3f3cbb['id']+'\x22>'+_0x3f3cbb[_0x599319(0x5d3)]+_0x599319(0xbc5))['join'](''),document[_0x599319(0x2f7)](_0x599319(0xcd3))['disabled']=![];}catch(_0x566a5a){console[_0x599319(0x274)](_0x599319(0x9c7),_0x566a5a),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x599319(0x2ff)]['add'](_0x599319(0xad0));}}async function confirmMoveQuiz(){const _0x4fe67f=_0x121993,_0x47376d=document[_0x4fe67f(0x2f7)](_0x4fe67f(0x75d))['value'];if(!_0x47376d){showMessage(_0x4fe67f(0xae1));return;}if(!actionTargetId)return;const _0x3d6925=doc(db,_0x4fe67f(0x1da)+appId+_0x4fe67f(0x653),actionTargetId);try{await updateDoc(_0x3d6925,{'projectId':_0x47376d}),showMessage(_0x4fe67f(0xb58)),moveQuizModal['classList'][_0x4fe67f(0x30d)](_0x4fe67f(0xad0)),actionTargetId=null;}catch(_0x5c4570){console[_0x4fe67f(0x274)]('Error\x20moving\x20quiz:',_0x5c4570),showMessage(_0x4fe67f(0xaa6));}}async function handleQuizSettings(_0x25aacb){const _0x127344=_0x121993;actionTargetId=_0x25aacb;const _0x180968=doc(db,_0x127344(0x1da)+appId+_0x127344(0x653),_0x25aacb);try{const _0x445c63=await getDoc(_0x180968);if(_0x445c63['exists']()){const _0x30b057=_0x445c63[_0x127344(0x72a)](),_0x25b606=_0x30b057[_0x127344(0x5a5)]||{},_0x2b4a06=_0x30b057[_0x127344(0xc33)]['length'];document[_0x127344(0x2f7)](_0x127344(0xa6b))[_0x127344(0x5b6)]=_0x25b606['shuffle']||_0x127344(0x346),document[_0x127344(0x2f7)]('modal-results-display-select')[_0x127344(0x5b6)]=_0x25b606['resultsDisplay']||_0x127344(0xcb2),document[_0x127344(0x2f7)](_0x127344(0x6d7))[_0x127344(0x5b6)]=_0x25b606['timerMode']||_0x127344(0x346),document[_0x127344(0x2f7)](_0x127344(0x99e))[_0x127344(0x5b6)]=_0x25b606['timerDuration']||0xa,document[_0x127344(0x2f7)](_0x127344(0xca8))[_0x127344(0x5b6)]=_0x25b606[_0x127344(0x765)]||Math[_0x127344(0x442)](_0x2b4a06/0x2),document[_0x127344(0x2f7)](_0x127344(0xca8))[_0x127344(0x73a)]=_0x2b4a06,document['getElementById']('modal-adaptive-quiz-checkbox')['checked']=_0x25b606[_0x127344(0x451)]||![],document[_0x127344(0x2f7)]('modal-loop-until-pass-checkbox')[_0x127344(0x28f)]=_0x25b606['loopUntilPass']||![];const _0x509d5a=_0x25b606['isConfidenceScoringEnabled']||![];document['getElementById']('modal-confidence-scoring-checkbox')[_0x127344(0x28f)]=_0x509d5a,document[_0x127344(0x2f7)]('modal-confidence-mode-select')['value']=_0x25b606[_0x127344(0x938)]||'checkbox';const _0xa84d7f=document['getElementById'](_0x127344(0x6af));_0xa84d7f[_0x127344(0x2ff)][_0x127344(0x65e)](_0x127344(0xad0),!_0x509d5a),document['getElementById']('modal-timer-mode-select')[_0x127344(0x2b4)](new Event(_0x127344(0x9af))),quizSettingsModal[_0x127344(0x2ff)][_0x127344(0x2cf)](_0x127344(0xad0));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x4c4bb6){console['error'](_0x127344(0x782),_0x4c4bb6),showMessage(_0x127344(0x461));}}async function confirmQuizSettings(){const _0x541739=_0x121993;if(!actionTargetId)return;const _0x2fa277=doc(db,_0x541739(0x1da)+appId+_0x541739(0x653),actionTargetId),_0x49f43f={'shuffle':document[_0x541739(0x2f7)](_0x541739(0xa6b))[_0x541739(0x5b6)],'resultsDisplay':document[_0x541739(0x2f7)](_0x541739(0x59f))[_0x541739(0x5b6)],'timerMode':document[_0x541739(0x2f7)](_0x541739(0x6d7))[_0x541739(0x5b6)],'timerDuration':parseInt(document[_0x541739(0x2f7)](_0x541739(0x99e))[_0x541739(0x5b6)])||0xa,'passingScore':parseInt(document[_0x541739(0x2f7)](_0x541739(0xca8))[_0x541739(0x5b6)])||0x0,'isAdaptive':document[_0x541739(0x2f7)](_0x541739(0x6be))[_0x541739(0x28f)],'loopUntilPass':document[_0x541739(0x2f7)](_0x541739(0x2e1))[_0x541739(0x28f)],'isConfidenceScoringEnabled':document[_0x541739(0x2f7)](_0x541739(0x5c9))[_0x541739(0x28f)],'confidenceMode':document[_0x541739(0x2f7)](_0x541739(0xcea))[_0x541739(0x5b6)]};try{await updateDoc(_0x2fa277,{'settings':_0x49f43f}),showMessage(_0x541739(0x6a9)),quizSettingsModal[_0x541739(0x2ff)][_0x541739(0x30d)](_0x541739(0xad0)),actionTargetId=null;}catch(_0x3b72e9){console[_0x541739(0x274)](_0x541739(0x42f),_0x3b72e9),showMessage(_0x541739(0xb80));}}async function confirmQuizStatus(){const _0x44937b=_0x121993;if(!actionTargetId)return;const _0x4268b7=doc(db,_0x44937b(0x1da)+appId+_0x44937b(0x653),actionTargetId),_0x2b1072=document[_0x44937b(0x839)]('input[name=\x22status-option\x22]:checked');if(!_0x2b1072){showMessage('กรุณาเลือกสถานะ');return;}const _0x19f907=_0x2b1072[_0x44937b(0x5b6)];let _0x55d167={};if(_0x19f907===_0x44937b(0x72f)||_0x19f907===_0x44937b(0x251))_0x55d167={'status':_0x19f907,'startTime':null,'endTime':null};else{if(_0x19f907===_0x44937b(0x46d)){const _0x4adc77=document[_0x44937b(0x2f7)](_0x44937b(0xc56))[_0x44937b(0x5b6)],_0xd50d6d=document[_0x44937b(0x2f7)](_0x44937b(0x795))[_0x44937b(0x5b6)];if(!_0x4adc77&&!_0xd50d6d){showMessage(_0x44937b(0x899));return;}_0x55d167={'status':_0x44937b(0x6ee),'startTime':_0x4adc77?new Date(_0x4adc77)[_0x44937b(0x67d)]():null,'endTime':_0xd50d6d?new Date(_0xd50d6d)['toISOString']():null};}}try{await updateDoc(_0x4268b7,_0x55d167),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x44937b(0x2ff)]['add'](_0x44937b(0xad0)),actionTargetId=null;}catch(_0x32d920){console[_0x44937b(0x274)](_0x44937b(0xc08),_0x32d920),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x2f0323){const _0x42a84d=_0x121993,_0xc1097d=collection(db,_0x42a84d(0x1da)+appId+'/public/data/projects/'+_0x2f0323+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0xc1097d,_0x3d89e7=>{const _0x40f525=_0x42a84d,_0x381bdf=_0x3d89e7[_0x40f525(0x3c3)][_0x40f525(0xce7)](_0x2b2a0e=>_0x2b2a0e['data']());renderLeaderboard(_0x381bdf,_0x40f525(0x3b1));},_0x25914e=>{const _0x7b8eed=_0x42a84d;console['error'](_0x7b8eed(0x77c),_0x25914e),document[_0x7b8eed(0x2f7)](_0x7b8eed(0x3b1))['innerHTML']=_0x7b8eed(0x7fa);});}function renderLeaderboard(_0xb9cab,_0x595205){const _0x12f10b=_0x121993,_0x1fbeba=document[_0x12f10b(0x2f7)](_0x595205);if(!_0xb9cab||_0xb9cab['length']===0x0){_0x1fbeba[_0x12f10b(0x8c4)]=_0x12f10b(0x516);return;}_0xb9cab[_0x12f10b(0x423)]((_0x26c8cd,_0x204602)=>{const _0x138c86=_0x12f10b,_0x27d2d4=(_0x204602['totalPoints']||0x0)-(_0x26c8cd[_0x138c86(0x57e)]||0x0);if(_0x27d2d4!==0x0)return _0x27d2d4;const _0x4f2fcb=(_0x204602[_0x138c86(0xb1e)]?.[_0x138c86(0x1fa)]||0x0)-(_0x26c8cd[_0x138c86(0xb1e)]?.[_0x138c86(0x1fa)]||0x0);if(_0x4f2fcb!==0x0)return _0x4f2fcb;const _0x4f8220=(_0x204602['badgesCount']?.['first_try_ace']||0x0)-(_0x26c8cd['badgesCount']?.[_0x138c86(0x9e3)]||0x0);if(_0x4f8220!==0x0)return _0x4f8220;const _0x3f89fe=(_0x204602['badgesCount']?.[_0x138c86(0x734)]||0x0)-(_0x26c8cd[_0x138c86(0xb1e)]?.['perfect_score']||0x0);if(_0x3f89fe!==0x0)return _0x3f89fe;const _0x3e80a4=(_0x204602[_0x138c86(0xb1e)]?.['quick_thinker']||0x0)-(_0x26c8cd[_0x138c86(0xb1e)]?.['quick_thinker']||0x0);if(_0x3e80a4!==0x0)return _0x3e80a4;return _0x26c8cd[_0x138c86(0xae4)][_0x138c86(0x9e4)](_0x204602['studentName'],'th');});let _0x20e400='';_0xb9cab[_0x12f10b(0x616)]((_0x52189e,_0x5f0ca9)=>{const _0x3b0e9d=_0x12f10b,_0x46db75=_0x5f0ca9+0x1,_0x4e5767=_0x52189e['badgesCount']||{};let _0xc2fa2b='';const _0x258729=[_0x3b0e9d(0x1fa),_0x3b0e9d(0x734),_0x3b0e9d(0x9e3),'quick_thinker'];_0x258729['forEach'](_0x122b0d=>{const _0x5d6b0b=_0x3b0e9d;if(_0x4e5767[_0x122b0d]>0x0){const _0x320023=Object['values'](BADGES)['find'](_0x17f698=>_0x17f698['id']===_0x122b0d);_0x320023&&(_0x122b0d===_0x5d6b0b(0x1fa)?_0xc2fa2b+=_0x5d6b0b(0x4be)+_0x320023[_0x5d6b0b(0xa7e)]+_0x5d6b0b(0xb9a)+_0x320023['icon']+_0x5d6b0b(0xd13):_0xc2fa2b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x320023['name']+'\x20('+_0x4e5767[_0x122b0d]+_0x5d6b0b(0x963)+_0x320023['icon']+_0x5d6b0b(0x264)+_0x4e5767[_0x122b0d]+_0x5d6b0b(0xba9));}}),_0x20e400+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x46db75+_0x3b0e9d(0x9bb)+_0x52189e[_0x3b0e9d(0xae4)]+_0x3b0e9d(0x2cb)+(_0x52189e['totalPoints']||0x0)+_0x3b0e9d(0x9bb)+(_0xc2fa2b||'-')+_0x3b0e9d(0x316);}),_0x1fbeba[_0x12f10b(0x8c4)]=_0x20e400;}function displayLoopScreen(_0x3310fd,_0x5a84ff,_0x22549c){const _0x5b5482=_0x121993;let _0x5824cc='';_0x22549c!==_0x5b5482(0x6d5)&&(_0x5824cc=_0x5b5482(0x491)+_0x3310fd+_0x5b5482(0xd43)+_0x5a84ff+_0x5b5482(0x600));const _0x37b634=_0x5b5482(0x219)+_0x5824cc+_0x5b5482(0x437);studentResultArea[_0x5b5482(0x8c4)]=_0x37b634,studentResultArea[_0x5b5482(0x2ff)]['remove'](_0x5b5482(0xad0)),studentQuizArea[_0x5b5482(0x2ff)][_0x5b5482(0x30d)]('hidden'),document[_0x5b5482(0x2f7)](_0x5b5482(0x611))[_0x5b5482(0xdd3)](_0x5b5482(0x754),()=>{const _0x540789=_0x5b5482;studentResultArea[_0x540789(0x2ff)][_0x540789(0x30d)](_0x540789(0xad0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x511559,_0x31b262,_0x451727){const _0x49de55=_0x121993,_0x15dcb4=document[_0x49de55(0x2f7)](_0x451727),_0x2d4a7d=_0x451727===_0x49de55(0xd92),_0xd7a84c=_0x31b262[_0x49de55(0xc33)]['length'],_0x2b4c91=document[_0x49de55(0x2f7)](_0x451727)['closest'](_0x49de55(0xa12));if(_0x2b4c91&&!_0x2d4a7d){const _0xfbe887=_0x2b4c91[_0x49de55(0x839)](_0x49de55(0x91c));_0xfbe887[_0x49de55(0x8c4)]=_0x49de55(0xc6f);}if(!_0x511559||_0x511559[_0x49de55(0x2b5)]===0x0){_0x15dcb4[_0x49de55(0x8c4)]='<tr><td\x20colspan=\x22'+(_0x2d4a7d?0x6:0x8)+_0x49de55(0x3f1);return;}const _0x29bd72=[..._0x511559];_0x29bd72[_0x49de55(0x423)]((_0x2a73eb,_0x27d677)=>{const _0x348525=_0x49de55;let _0x355aa4,_0x27e459;switch(quizLeaderboardSortBy){case _0x348525(0xae4):_0x355aa4=_0x2a73eb['studentName']||'',_0x27e459=_0x27d677[_0x348525(0xae4)]||'';return quizLeaderboardSortOrder===_0x348525(0xbee)?_0x355aa4[_0x348525(0x9e4)](_0x27e459,'th'):_0x27e459[_0x348525(0x9e4)](_0x355aa4,'th');case _0x348525(0xcaf):_0x355aa4=_0x2a73eb[_0x348525(0xcaf)]||0x0,_0x27e459=_0x27d677[_0x348525(0xcaf)]||0x0;break;case _0x348525(0x9bf):_0x355aa4=_0x2a73eb['attempts']?.[_0x348525(0x2b5)]||0x1,_0x27e459=_0x27d677[_0x348525(0x9bf)]?.['length']||0x1;break;case _0x348525(0x73e):_0x355aa4=new Date(_0x2a73eb[_0x348525(0x73e)]),_0x27e459=new Date(_0x27d677['latestSubmittedAt']);break;case _0x348525(0x8d7):default:_0x355aa4=_0x2a73eb[_0x348525(0x8d7)],_0x27e459=_0x27d677[_0x348525(0x8d7)];break;}if(_0x355aa4<_0x27e459)return quizLeaderboardSortOrder===_0x348525(0xbee)?-0x1:0x1;if(_0x355aa4>_0x27e459)return quizLeaderboardSortOrder===_0x348525(0xbee)?0x1:-0x1;return 0x0;});const _0x1e395d=_0x31b262[_0x49de55(0x642)]===!![],_0x2ef375=_0x31b262['settings']?.[_0x49de55(0x765)]??-0x1;let _0x4fcb81='';_0x29bd72[_0x49de55(0x616)]((_0x3052a7,_0x213e77)=>{const _0x1227ce=_0x49de55,_0xca359f=_0x213e77+0x1;let _0x584050=_0x1227ce(0x86a);if(_0x1e395d||_0x2ef375!==-0x1){let _0xa36e54=_0x1e395d?_0x3052a7[_0x1227ce(0x8d7)]===_0xd7a84c:_0x3052a7[_0x1227ce(0x8d7)]>=_0x2ef375;const _0x4eb928=_0xa36e54?_0x1227ce(0x487):_0x1227ce(0x92a),_0x1260e5=_0xa36e54?'ผ่าน':_0x1227ce(0x22d);_0x584050=_0x1227ce(0xb29)+_0x4eb928+'\x22>'+_0x1260e5+_0x1227ce(0x573);}const _0x249c67=_0x3052a7[_0x1227ce(0x9bf)][_0x3052a7[_0x1227ce(0x9bf)][_0x1227ce(0x2b5)]-0x1],_0x5d42e1=(_0x249c67[_0x1227ce(0xbb7)]||[])['map'](_0x585269=>{const _0x4094c2=_0x1227ce,_0xbb01e6=Object['values'](BADGES)['find'](_0x5e0e08=>_0x5e0e08['id']===_0x585269);return _0xbb01e6?'<span\x20title=\x22'+_0xbb01e6[_0x4094c2(0xa7e)]+_0x4094c2(0x902)+_0xbb01e6[_0x4094c2(0x987)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x1227ce(0x5c4)]('');_0x4fcb81+=_0x1227ce(0x4ad)+_0xca359f+_0x1227ce(0x690)+_0x3052a7[_0x1227ce(0xae4)]+_0x1227ce(0xd25)+_0x3052a7[_0x1227ce(0x8d7)]+_0x1227ce(0xd43)+_0xd7a84c+_0x1227ce(0x34c)+_0x584050+_0x1227ce(0xd93)+(_0x3052a7['points']||0x0)+_0x1227ce(0x34c)+(_0x2d4a7d?'':_0x1227ce(0x306)+(_0x3052a7[_0x1227ce(0x9bf)]?.[_0x1227ce(0x2b5)]||0x1)+_0x1227ce(0x5a3))+_0x1227ce(0x8ba)+(_0x2d4a7d?'':_0x1227ce(0xdcb)+new Date(_0x3052a7['latestSubmittedAt'])[_0x1227ce(0x67f)]('th-TH')+'</td>')+_0x1227ce(0x9c3)+(_0x5d42e1||'-')+_0x1227ce(0x80b);}),_0x15dcb4[_0x49de55(0x8c4)]=_0x4fcb81,_0x2b4c91&&!_0x2d4a7d&&_0x2b4c91[_0x49de55(0x4cb)](_0x49de55(0x957))['forEach'](_0x3b2d11=>{const _0xc7c61b=_0x49de55,_0x379f25=_0x3b2d11[_0xc7c61b(0x839)](_0xc7c61b(0x640));if(_0x379f25)_0x379f25[_0xc7c61b(0x2cf)]();_0x3b2d11[_0xc7c61b(0x683)][_0xc7c61b(0x423)]===quizLeaderboardSortBy&&(_0x3b2d11['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0xc7c61b(0xbee)?'▲':'▼')+_0xc7c61b(0xc24));});}async function handleDeleteSubmission(_0x1d07d2){const _0x2d246a=_0x121993;if(!currentQuizData||!currentQuizData['id']||!_0x1d07d2){showMessage(_0x2d246a(0x999));return;}showConfirmation(_0x2d246a(0x368)+_0x1d07d2+_0x2d246a(0xe15),async()=>{const _0x33ade5=_0x2d246a,_0x55ac8b=currentQuizData['id'],_0x30c345=doc(db,_0x33ade5(0x1da)+appId+'/public/data/quizzes/'+_0x55ac8b+_0x33ade5(0x942),_0x1d07d2);try{await deleteDoc(_0x30c345),showMessage(_0x33ade5(0xbdc)+_0x1d07d2+_0x33ade5(0xd61));}catch(_0x26ad26){console[_0x33ade5(0x274)](_0x33ade5(0x6f9),_0x26ad26),showMessage(_0x33ade5(0x5ff));}});}async function handleLoadQuiz(){const _0x1583e1=_0x121993,_0x47232c=document[_0x1583e1(0x2f7)]('quiz-id-input'),_0xbd4865=_0x47232c[_0x1583e1(0x5b6)]['trim']();if(!_0xbd4865){showMessage(_0x1583e1(0xb66));return;}loadQuizBtn[_0x1583e1(0x687)]=!![],loadQuizBtn[_0x1583e1(0x8c4)]=_0x1583e1(0x8bf);try{const _0x14ea21=doc(db,_0x1583e1(0x1da)+appId+_0x1583e1(0x653),_0xbd4865),_0x28f7bd=await getDoc(_0x14ea21);if(!_0x28f7bd['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x28f7bd['id'],..._0x28f7bd[_0x1583e1(0x72a)]()};const _0x49e755=currentQuizData[_0x1583e1(0x2d4)]||_0x1583e1(0x72f),_0x2e75ac=new Date();if(_0x49e755===_0x1583e1(0x251)){showMessage(_0x1583e1(0x26c));return;}if(_0x49e755===_0x1583e1(0x6ee)){const _0xd33cd0=currentQuizData['startTime']?new Date(currentQuizData[_0x1583e1(0xab3)]):null,_0x1724b2=currentQuizData['endTime']?new Date(currentQuizData['endTime']):null;if(_0xd33cd0&&_0x2e75ac<_0xd33cd0){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0xd33cd0[_0x1583e1(0x67f)](_0x1583e1(0x95f),{'hour12':![]}));return;}if(_0x1724b2&&_0x2e75ac>_0x1724b2){showMessage(_0x1583e1(0x407));return;}}const _0x183caf=currentQuizData[_0x1583e1(0xd51)];currentProjectId=_0x183caf;const _0x39ba1d=doc(db,'artifacts/'+appId+'/public/data/projects',_0x183caf),_0x1a9b54=await getDoc(_0x39ba1d);if(!_0x1a9b54[_0x1583e1(0x75c)]()){showMessage(_0x1583e1(0xc4e));return;}const _0x2e3446=_0x1a9b54[_0x1583e1(0x72a)]();currentStudentProjectData=_0x2e3446,displayStudentNameSelector(_0x2e3446['students'],currentQuizData[_0x1583e1(0x9ce)]);}catch(_0x404eb7){console[_0x1583e1(0x274)](_0x1583e1(0xc4d),_0x404eb7),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x1583e1(0x687)]=![],loadQuizBtn[_0x1583e1(0x8c4)]=_0x1583e1(0x599);}}async function handleJoinLiveGame(){const _0x4e8e44=_0x121993,_0x59d9d3=document[_0x4e8e44(0x2f7)]('game-pin-input'),_0x1dcf1a=document['getElementById'](_0x4e8e44(0xcab)),_0x25387f=document['getElementById'](_0x4e8e44(0xcce)),_0x546888=_0x59d9d3[_0x4e8e44(0x5b6)]['trim'](),_0x4c8bf6=_0x1dcf1a[_0x4e8e44(0x5b6)]['trim']();if(!_0x546888||!_0x4c8bf6){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x25387f[_0x4e8e44(0x687)]=!![],_0x25387f[_0x4e8e44(0x8c4)]=_0x4e8e44(0xb16);try{const _0x366b91=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x4b0d54=query(_0x366b91,where(_0x4e8e44(0x433),'==',_0x546888),where(_0x4e8e44(0x2d4),'in',[_0x4e8e44(0x6f3),_0x4e8e44(0xa75)])),_0x4b91e3=await getDocs(_0x4b0d54);if(_0x4b91e3[_0x4e8e44(0xc89)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x35da00=_0x4b91e3['docs'][0x0],_0x5080aa=_0x35da00['data']();currentLiveGameId=_0x35da00['id'];const _0xb20b32=_0x5080aa['quizId'],_0x4f50e7=doc(db,'artifacts/'+appId+_0x4e8e44(0x653),_0xb20b32),_0x5a1953=await getDoc(_0x4f50e7);if(!_0x5a1953['exists']()){showMessage(_0x4e8e44(0xc23));return;}currentQuizData={'id':_0x5a1953['id'],..._0x5a1953['data']()};if(_0x5080aa[_0x4e8e44(0x32a)]&&_0x5080aa[_0x4e8e44(0x32a)][_0x4c8bf6]){const _0xbcf020=_0x5080aa[_0x4e8e44(0x32a)][_0x4c8bf6];if(_0xbcf020[_0x4e8e44(0x2d4)]===_0x4e8e44(0x251)){_0x25387f['innerHTML']=_0x4e8e44(0x6a4);const _0x2de963={};_0x2de963[_0x4e8e44(0x3d1)+_0x4c8bf6+_0x4e8e44(0x270)]=_0x4e8e44(0x72f),await updateDoc(doc(db,_0x4e8e44(0x1da)+appId+_0x4e8e44(0x928),currentLiveGameId),_0x2de963),showView('live-game'),currentStudentName=_0x4c8bf6,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x5080aa['status']!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x25387f[_0x4e8e44(0x8c4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x3ed336={};_0x3ed336[_0x4e8e44(0x3d1)+_0x4c8bf6]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x4e8e44(0x72f)},await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x3ed336),currentStudentName=_0x4c8bf6,listenForLiveGameUpdates();}catch(_0xf5dc23){console[_0x4e8e44(0x274)](_0x4e8e44(0x4de),_0xf5dc23),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x25387f[_0x4e8e44(0x687)]=![],_0x25387f['innerHTML']=_0x4e8e44(0x5ce);}}function displayStudentNameSelector(_0x3e57bd,_0x4de9ce){const _0x22b129=_0x121993,_0x36d8f7=document[_0x22b129(0x2f7)](_0x22b129(0x79d));document[_0x22b129(0x2f7)]('student-quiz-topic')[_0x22b129(0xa28)]=_0x22b129(0x52f)+_0x4de9ce,!_0x3e57bd||_0x3e57bd[_0x22b129(0x2b5)]===0x0?(_0x36d8f7[_0x22b129(0x8c4)]=_0x22b129(0xa00),startQuizBtn['disabled']=!![]):(_0x36d8f7[_0x22b129(0x8c4)]=_0x22b129(0x685),_0x3e57bd[_0x22b129(0x616)](_0x25a926=>{const _0x865784=_0x22b129,_0x4cfd81=document[_0x865784(0x78e)](_0x865784(0x9b3));_0x4cfd81[_0x865784(0x5b6)]=_0x25a926,_0x4cfd81[_0x865784(0xa28)]=_0x25a926,_0x36d8f7[_0x865784(0xd74)](_0x4cfd81);}),startQuizBtn[_0x22b129(0x687)]=![]),studentInitialView[_0x22b129(0x2ff)][_0x22b129(0x30d)]('hidden'),studentNameSelectionView['classList'][_0x22b129(0x2cf)](_0x22b129(0xad0));}function shuffleArray(_0x26549c){const _0xe28cad=_0x121993;for(let _0x13d1c3=_0x26549c[_0xe28cad(0x2b5)]-0x1;_0x13d1c3>0x0;_0x13d1c3--){const _0x7f2422=Math['floor'](Math[_0xe28cad(0x51e)]()*(_0x13d1c3+0x1));[_0x26549c[_0x13d1c3],_0x26549c[_0x7f2422]]=[_0x26549c[_0x7f2422],_0x26549c[_0x13d1c3]];}}function getShuffledQuiz(_0x32e6b6){const _0x79ffdc=_0x121993;let _0x23403e=JSON[_0x79ffdc(0x2cd)](JSON[_0x79ffdc(0xd68)](_0x32e6b6));const _0x1604f7=_0x23403e['settings']?.[_0x79ffdc(0xb64)]||_0x79ffdc(0x346);if(_0x1604f7===_0x79ffdc(0x346))return _0x23403e;return(_0x1604f7==='questions_only'||_0x1604f7===_0x79ffdc(0xa88))&&shuffleArray(_0x23403e['questions']),(_0x1604f7===_0x79ffdc(0xada)||_0x1604f7===_0x79ffdc(0xa88))&&_0x23403e['questions'][_0x79ffdc(0x616)](_0x1dafd8=>{const _0x311cb2=_0x79ffdc,_0x18dd67=_0x1dafd8[_0x311cb2(0x5ac)]||_0x23403e['quizType'];if(_0x1dafd8[_0x311cb2(0x450)]){let _0x1c4ef3=_0x1dafd8[_0x311cb2(0x450)][_0x311cb2(0xce7)]((_0x196aa5,_0x5d3f5f)=>({'text':_0x196aa5,'isCorrect':_0x5d3f5f===_0x1dafd8[_0x311cb2(0xc9f)]}));shuffleArray(_0x1c4ef3),_0x1dafd8[_0x311cb2(0x450)]=_0x1c4ef3['map'](_0x3ca574=>_0x3ca574['text']),_0x1dafd8['correctAnswerIndex']=_0x1c4ef3[_0x311cb2(0x868)](_0x17fc5e=>_0x17fc5e[_0x311cb2(0xd90)]);}_0x18dd67==='matching_item'&&_0x1dafd8[_0x311cb2(0x711)]&&shuffleArray(_0x1dafd8[_0x311cb2(0x711)]);}),_0x23403e;}function displayQuizForStudent(_0xbfffe){const _0x50212b=_0x121993;studentQuizArea[_0x50212b(0x2ff)]['remove'](_0x50212b(0xad0)),currentDisplayedQuiz=getShuffledQuiz(_0xbfffe);currentMode!==_0x50212b(0x913)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x50212b(0x6a3),handleFullscreenChange),document[_0x50212b(0xdd3)](_0x50212b(0x500),handleVisibilityChange),enterFullscreen(),window[_0x50212b(0xdd3)](_0x50212b(0xc8c),resetDimTimer),window[_0x50212b(0xdd3)]('mousedown',resetDimTimer),window[_0x50212b(0xdd3)](_0x50212b(0xa47),resetDimTimer),window[_0x50212b(0xdd3)](_0x50212b(0x6fe),resetDimTimer),resetDimTimer());const _0x3ff5d4=currentDisplayedQuiz[_0x50212b(0x5a5)]?.['timerMode']||_0x50212b(0x346);if(_0x3ff5d4==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x50212b(0x5a5)][_0x50212b(0x722)]);else _0x3ff5d4===_0x50212b(0xa24)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xdf95f7=_0x121993,_0x13368c=currentDisplayedQuiz[_0xdf95f7(0x5a5)]?.[_0xdf95f7(0xb49)]===!![],_0x5c4201=currentDisplayedQuiz['settings']?.['confidenceMode']||_0xdf95f7(0x4fc);let _0x4fedd5=_0xdf95f7(0x5cd)+currentDisplayedQuiz[_0xdf95f7(0x9ce)]+_0xdf95f7(0x4f7)+(currentMode===_0xdf95f7(0x913)?_0xdf95f7(0xc8f):'')+_0xdf95f7(0x21c);currentDisplayedQuiz['questions'][_0xdf95f7(0x616)]((_0x163edc,_0x30d204)=>{const _0x57ef9a=_0xdf95f7,_0x16883a=_0x163edc[_0x57ef9a(0x5ac)]||currentDisplayedQuiz['quizType'];_0x4fedd5+=_0x57ef9a(0x7a9);if(_0x16883a===_0x57ef9a(0x5f5)){}else _0x4fedd5+=_0x57ef9a(0x7df)+(_0x30d204+0x1)+'.\x20'+(_0x163edc[_0x57ef9a(0x464)]||_0x163edc[_0x57ef9a(0x41b)])+_0x57ef9a(0xb6e),_0x163edc[_0x57ef9a(0x426)]&&(_0x4fedd5+=_0x57ef9a(0xd03)+_0x163edc[_0x57ef9a(0x426)]+_0x57ef9a(0x72e));_0x4fedd5+=_0x57ef9a(0xa41);switch(_0x16883a){case'short_answer':_0x4fedd5+=_0x57ef9a(0xb2a)+_0x30d204+_0x57ef9a(0x674);break;case'true_false':_0x4fedd5+=_0x57ef9a(0xc73)+_0x30d204+_0x57ef9a(0x1ec)+_0x30d204+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x30d204+_0x57ef9a(0xde8),_0x4fedd5+=_0x57ef9a(0xc73)+_0x30d204+'_opt1\x22\x20name=\x22question'+_0x30d204+_0x57ef9a(0x5dc)+_0x30d204+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x57ef9a(0x5f5):_0x4fedd5+=_0x57ef9a(0x578)+_0x163edc['stem']+_0x57ef9a(0xd62)+_0x30d204+_0x57ef9a(0x4d5)+_0x163edc['allResponses'][_0x57ef9a(0xce7)](_0x32debb=>_0x57ef9a(0xc7d)+_0x32debb+'\x22>'+_0x32debb+_0x57ef9a(0xbc5))[_0x57ef9a(0x5c4)]('')+_0x57ef9a(0x53e);break;default:_0x4fedd5+=_0x163edc[_0x57ef9a(0x450)][_0x57ef9a(0xce7)]((_0x56347b,_0x992886)=>_0x57ef9a(0x39d)+_0x30d204+'_opt'+_0x992886+_0x57ef9a(0x2da)+_0x30d204+_0x57ef9a(0xc03)+_0x992886+_0x57ef9a(0xd99)+_0x30d204+'_opt'+_0x992886+'\x22>'+_0x56347b+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x57ef9a(0x5c4)]('');break;}_0x4fedd5+=_0x57ef9a(0x72e),_0x13368c&&(_0x4fedd5+=_0x57ef9a(0x4d4),_0x5c4201===_0x57ef9a(0xaaf)?_0x4fedd5+=_0x57ef9a(0xcdd)+_0x30d204+_0x57ef9a(0xccd)+_0x30d204+_0x57ef9a(0x6c8)+_0x30d204+_0x57ef9a(0x92d)+_0x30d204+_0x57ef9a(0x494):_0x4fedd5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x30d204+_0x57ef9a(0xccd)+_0x30d204+_0x57ef9a(0x6b8)+_0x30d204+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4fedd5+=_0x57ef9a(0x72e)),_0x4fedd5+=_0x57ef9a(0x72e);}),_0x4fedd5+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x4fedd5+='</form>',studentQuizArea[_0xdf95f7(0x8c4)]=_0x4fedd5;if(currentMode===_0xdf95f7(0x913)){const _0x5abea7=document[_0xdf95f7(0x2f7)](_0xdf95f7(0xb8f));if(_0x5abea7)_0x5abea7[_0xdf95f7(0xdd3)](_0xdf95f7(0x754),cancelAdminTest);}const _0x256330=document['getElementById'](_0xdf95f7(0x4e2));_0x256330&&(_0x256330[_0xdf95f7(0xdd3)](_0xdf95f7(0x8b1),handleSubmitQuiz),_0x256330['addEventListener'](_0xdf95f7(0x754),_0x32e978=>{const _0x252915=_0xdf95f7;if(_0x32e978[_0x252915(0x898)][_0x252915(0x2ff)]['contains'](_0x252915(0x890))){const _0x5d6fab=_0x32e978[_0x252915(0x898)],_0x5c3b56=_0x5d6fab['dataset']['questionIndex'],_0x4edbdd=_0x5d6fab[_0x252915(0x683)][_0x252915(0x5b6)];document[_0x252915(0x2f7)]('confidence-input-'+_0x5c3b56)[_0x252915(0x5b6)]=_0x4edbdd;const _0x52ed33=_0x5d6fab[_0x252915(0x231)];_0x52ed33['querySelectorAll'](_0x252915(0x83b))[_0x252915(0x616)](_0x11001b=>_0x11001b[_0x252915(0x2ff)][_0x252915(0x2cf)](_0x252915(0x72f))),_0x5d6fab[_0x252915(0x2ff)][_0x252915(0x30d)](_0x252915(0x72f));}}));if(window[_0xdf95f7(0xc16)])window[_0xdf95f7(0xc16)][_0xdf95f7(0xe06)]([studentQuizArea]);}async function handleSubmitQuiz(_0x5b27fe){const _0x2ff814=_0x121993;if(_0x5b27fe)_0x5b27fe['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x478638=document[_0x2ff814(0x2f7)](_0x2ff814(0x4e2));if(!_0x478638)return;const _0x438407=currentDisplayedQuiz[_0x2ff814(0x5a5)]?.[_0x2ff814(0xb49)]===!![],_0x473785=currentDisplayedQuiz[_0x2ff814(0x5a5)]?.[_0x2ff814(0x938)]||_0x2ff814(0x4fc);if(_0x438407&&_0x473785===_0x2ff814(0xaaf)){let _0x14ab95=!![];for(let _0x4dd9b7=0x0;_0x4dd9b7<currentDisplayedQuiz[_0x2ff814(0xc33)][_0x2ff814(0x2b5)];_0x4dd9b7++){const _0x1175cb=_0x478638['querySelector'](_0x2ff814(0x21a)+_0x4dd9b7);if(!_0x1175cb||_0x1175cb[_0x2ff814(0x5b6)]===''){_0x14ab95=![];break;}}if(!_0x14ab95){showMessage(_0x2ff814(0x7a7));return;}}const _0x5d9f40=_0x478638[_0x2ff814(0x839)](_0x2ff814(0x540)),_0x5ef159=currentDisplayedQuiz['questions']['some'](_0x22000d=>_0x22000d[_0x2ff814(0x5ac)]===_0x2ff814(0x2bc));_0x5d9f40&&(_0x5d9f40[_0x2ff814(0x687)]=!![],_0x5d9f40[_0x2ff814(0x8c4)]=_0x5ef159?_0x2ff814(0x700):_0x2ff814(0xd34));const _0x3dd85e=new FormData(_0x478638),_0x25a099=currentDisplayedQuiz[_0x2ff814(0xc33)][_0x2ff814(0xce7)]((_0x36b9e3,_0x1679e5)=>{const _0x1f5b74=_0x2ff814,_0x2f318c=_0x3dd85e[_0x1f5b74(0x375)]('question'+_0x1679e5);let _0x3a8491;_0x473785===_0x1f5b74(0xaaf)?_0x3a8491=_0x3dd85e[_0x1f5b74(0x375)](_0x1f5b74(0xd50)+_0x1679e5):_0x3a8491=_0x3dd85e[_0x1f5b74(0x375)](_0x1f5b74(0xd50)+_0x1679e5)==='on';let _0x5b6460=null;if(_0x2f318c!==null&&_0x2f318c!==undefined){const _0x46ab38=_0x36b9e3['questionType']||currentDisplayedQuiz[_0x1f5b74(0x4d2)];_0x46ab38==='multiple_choice'||_0x46ab38===_0x1f5b74(0x7d4)?_0x5b6460=parseInt(_0x2f318c):_0x5b6460=_0x2f318c;}return{'answer':_0x5b6460,'wasConfident':_0x3a8491};}),_0xf7f4e2=currentQuizData['id'],_0x2ada13=doc(db,_0x2ff814(0x1da)+appId+_0x2ff814(0x71c)+_0xf7f4e2+_0x2ff814(0x942),currentStudentName),_0x53bf84=await getDoc(_0x2ada13),_0x1a7184=_0x53bf84[_0x2ff814(0x75c)]()?_0x53bf84['data']():{},_0x5d2cfa=_0x1a7184[_0x2ff814(0x9bf)]||[];await processAndSubmitAnswers(_0x25a099,_0x5d2cfa);}async function gradeShortAnswerWithAI(_0x587c4e,_0x639670){const _0x225d61=_0x121993;if(!_0x587c4e||!_0x639670)return![];try{const _0x57fd1d='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x587c4e+_0x225d61(0x2dc)+_0x639670+_0x225d61(0xd2c),_0x34ee1d={'contents':[{'role':_0x225d61(0xb11),'parts':[{'text':_0x57fd1d}]}]},_0x429e51=_0x225d61(0xb53),_0x43defc=_0x225d61(0xc94)+_0x429e51,_0x3fc6f1=await fetch(_0x43defc,{'method':_0x225d61(0x3a3),'headers':{'Content-Type':_0x225d61(0x5fd)},'body':JSON[_0x225d61(0xd68)](_0x34ee1d)});if(!_0x3fc6f1['ok'])throw new Error(_0x225d61(0x40e));const _0x5b05ee=await _0x3fc6f1[_0x225d61(0x3c9)](),_0x42c2d3=_0x5b05ee[_0x225d61(0xa06)][0x0][_0x225d61(0x261)]['parts'][0x0]['text'][_0x225d61(0xe11)]()[_0x225d61(0xcfa)]();return _0x42c2d3==='true';}catch(_0x131833){return console['error'](_0x225d61(0xca1),_0x131833),![];}}async function processAndSubmitAnswers(_0x105c10,_0x3396a0){const _0x4f2205=_0x121993;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4f2205(0x223)](_0x4f2205(0x6a3),handleFullscreenChange),document[_0x4f2205(0x223)](_0x4f2205(0x500),handleVisibilityChange);let _0x57b7c9=0x0;const _0x49d85a=[],_0x25903e=currentDisplayedQuiz['questions'][_0x4f2205(0x2b5)];let _0x31fdca=0x0,_0x2ce367=[];const _0x35e5e9=currentDisplayedQuiz[_0x4f2205(0xc33)];for(let _0x4a9459=0x0;_0x4a9459<_0x35e5e9[_0x4f2205(0x2b5)];_0x4a9459++){const _0x53c1f9=_0x35e5e9[_0x4a9459],_0x16b5e1=_0x105c10[_0x4a9459],_0x37a053=_0x16b5e1?_0x16b5e1[_0x4f2205(0xb05)]:null,_0x9fa8a4=_0x16b5e1?_0x16b5e1['wasConfident']:null;let _0x443612=![],_0x395a8a=0x0;if(_0x37a053!==null&&_0x37a053!==''){const _0xc3cbaa=_0x53c1f9[_0x4f2205(0x5ac)]||currentDisplayedQuiz[_0x4f2205(0x4d2)];switch(_0xc3cbaa){case'matching_item':_0x443612=_0x37a053===_0x53c1f9[_0x4f2205(0xa17)];break;case _0x4f2205(0x668):const _0x22fa56=_0x37a053===!![]||_0x37a053==='true';_0x443612=_0x22fa56===_0x53c1f9[_0x4f2205(0x836)];break;case _0x4f2205(0x2bc):_0x443612=await gradeShortAnswer(_0x37a053,_0x53c1f9);break;case _0x4f2205(0xc3f):default:_0x443612=Number(_0x37a053)===_0x53c1f9[_0x4f2205(0xc9f)];break;}}if(currentDisplayedQuiz[_0x4f2205(0x5a5)]?.[_0x4f2205(0xb49)]){const _0x525501=_0x16b5e1?_0x16b5e1[_0x4f2205(0xa5a)]:null;if(_0x443612&&(_0x525501===!![]||_0x525501===_0x4f2205(0x2b0)))_0x395a8a=0x2;else{if(_0x443612)_0x395a8a=0x1;else{if(!_0x443612&&(_0x525501===![]||_0x525501===_0x4f2205(0xc00)||_0x525501===null))_0x395a8a=0x0;else!_0x443612&&(_0x525501===!![]||_0x525501===_0x4f2205(0x2b0))&&(_0x395a8a=-0x1);}}}else _0x395a8a=_0x443612?0x1:0x0;_0x57b7c9+=_0x395a8a;if(_0x443612){_0x31fdca++;if(_0x31fdca===0x3)_0x2ce367['push'](BADGES[_0x4f2205(0x98d)]['id']);}else _0x31fdca=0x0;let _0x4b0819=null;_0x53c1f9[_0x4f2205(0x450)]&&_0x37a053!==null&&(_0x4b0819=_0x53c1f9['options'][_0x37a053]),_0x49d85a[_0x4f2205(0xdc4)]({'questionId':_0x53c1f9['id'],'answer':_0x37a053,'answerText':_0x4b0819,'isCorrect':_0x443612,'wasConfident':_0x9fa8a4,'pointsAwarded':_0x395a8a,'originalQuestionText':_0x53c1f9[_0x4f2205(0x859)]||_0x53c1f9[_0x4f2205(0x41b)]});}const _0x41cc56=_0x49d85a[_0x4f2205(0x9a7)](_0x345b67=>_0x345b67[_0x4f2205(0xd90)])[_0x4f2205(0x2b5)],_0x58b2a0=currentDisplayedQuiz[_0x4f2205(0x5a5)]?.[_0x4f2205(0x765)]??Math['floor'](_0x25903e/0x2);_0x41cc56===_0x25903e&&_0x25903e>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x2ce367[_0x4f2205(0xdc4)](BADGES[_0x4f2205(0x7b3)]['id']);const _0x1ec550=currentDisplayedQuiz[_0x4f2205(0x5a5)]?.[_0x4f2205(0x789)];if(_0x1ec550===_0x4f2205(0xbec)&&quizStartTime){const _0x470fdc=(new Date()-quizStartTime)/0x3e8,_0x1a9503=currentDisplayedQuiz['settings'][_0x4f2205(0x722)]*0x3c;_0x41cc56>=_0x58b2a0&&_0x470fdc<_0x1a9503/0x2&&_0x2ce367[_0x4f2205(0xdc4)](BADGES[_0x4f2205(0xbe1)]['id']);}_0x3396a0[_0x4f2205(0x2b5)]===0x0&&_0x41cc56===_0x25903e&&_0x25903e>0x0&&_0x2ce367[_0x4f2205(0xdc4)](BADGES[_0x4f2205(0xc9e)]['id']);if(_0x3396a0[_0x4f2205(0x2b5)]>0x0){const _0x4d631a=_0x3396a0[0x0][_0x4f2205(0xbf1)];if(_0x4d631a<_0x58b2a0&&_0x41cc56>=_0x58b2a0){const _0x283a6c=_0x3396a0['some'](_0x31666d=>(_0x31666d[_0x4f2205(0xbb7)]||[])[_0x4f2205(0xcec)](BADGES['COMEBACK_KING']['id']));!_0x283a6c&&_0x2ce367[_0x4f2205(0xdc4)](BADGES[_0x4f2205(0xd39)]['id']);}}_0x3396a0['length']===0x4&&_0x2ce367['push'](BADGES['PERSEVERANCE']['id']);const _0x24dbfb=currentDisplayedQuiz[_0x4f2205(0x5a5)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x24dbfb,_0x41cc56,_0x57b7c9,_0x2ce367,_0x49d85a,_0x25903e);return;}const _0x510243=currentQuizData['id'],_0x1df776=doc(db,_0x4f2205(0x1da)+appId+_0x4f2205(0x71c)+_0x510243+_0x4f2205(0x942),currentStudentName);try{const _0x39fa4e=[..._0x3396a0],_0x228015={'score':_0x41cc56,'points':_0x57b7c9,'badges':Array[_0x4f2205(0x8a8)](new Set(_0x2ce367)),'submittedAt':new Date()['toISOString'](),'answers':_0x49d85a};_0x39fa4e['push'](_0x228015);const _0x347726=_0x3396a0[_0x4f2205(0x2b5)]===0x0?_0x41cc56:_0x3396a0[0x0][_0x4f2205(0xbf1)]||0x0,_0x57d11c=Math[_0x4f2205(0x73a)](..._0x39fa4e[_0x4f2205(0xce7)](_0x511d27=>_0x511d27['score']));await setDoc(_0x1df776,{'studentName':currentStudentName,'totalQuestions':_0x25903e,'attempts':_0x39fa4e,'firstScore':_0x347726,'bestScore':_0x57d11c,'latestScore':_0x41cc56,'points':_0x57b7c9,'latestSubmittedAt':_0x228015[_0x4f2205(0xaad)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x4f2205(0xd51)],currentStudentName),handleResultDisplay(_0x24dbfb,_0x41cc56,_0x57b7c9,_0x2ce367,_0x49d85a,_0x25903e);}catch(_0x31f942){console['error'](_0x4f2205(0x4f3),_0x31f942),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x2da5ff,_0x9b3cc6){const _0x467268=_0x121993,_0x3095d1=doc(db,_0x467268(0x1da)+appId+'/public/data/projects/'+_0x2da5ff+'/studentProfiles',_0x9b3cc6);try{const _0x143b93=query(collection(db,_0x467268(0x1da)+appId+_0x467268(0x653)),where('projectId','==',_0x2da5ff)),_0x20d67c=await getDocs(_0x143b93),_0x271037=new Map(_0x20d67c[_0x467268(0x3c3)][_0x467268(0xce7)](_0x54143a=>[_0x54143a['id'],_0x54143a['data']()])),_0x48adfe=Array[_0x467268(0x8a8)](_0x271037[_0x467268(0xc27)]());await runTransaction(db,async _0x44a179=>{const _0x405faf=_0x467268;let _0x65559c=0x0;const _0x2cb707={};let _0x37cabe=!![],_0x3f5990=0x0,_0x24a5a1=0x0;for(const _0xfab049 of _0x48adfe){const _0x38f1da=_0x271037[_0x405faf(0x375)](_0xfab049),_0xd00db8=doc(db,_0x405faf(0x1da)+appId+_0x405faf(0x71c)+_0xfab049+'/submissions',_0x9b3cc6),_0x4bcb38=await _0x44a179['get'](_0xd00db8);if(_0x4bcb38[_0x405faf(0x75c)]()){const _0x15f2a8=_0x4bcb38[_0x405faf(0x72a)](),_0x151720=_0x15f2a8[_0x405faf(0x9bf)]||[];if(_0x151720[_0x405faf(0x2b5)]>0x0){const _0x261804=_0x151720['reduce']((_0x1d524a,_0x4fd050)=>{const _0x1104a8=_0x405faf;if(_0x4fd050[_0x1104a8(0xbf1)]>_0x1d524a[_0x1104a8(0xbf1)])return _0x4fd050;if(_0x4fd050['score']===_0x1d524a[_0x1104a8(0xbf1)])return(_0x4fd050[_0x1104a8(0xcaf)]||0x0)>(_0x1d524a[_0x1104a8(0xcaf)]||0x0)?_0x4fd050:_0x1d524a;return _0x1d524a;},{'score':-0x1,'points':-0x1});_0x261804[_0x405faf(0xbf1)]>-0x1&&(_0x65559c+=_0x261804['points']||0x0,(_0x261804['badges']||[])['forEach'](_0x24f8a1=>{_0x2cb707[_0x24f8a1]=(_0x2cb707[_0x24f8a1]||0x0)+0x1;}));}}if(_0x38f1da[_0x405faf(0x9ce)]!==_0x405faf(0x61e)){_0x24a5a1++;if(_0x4bcb38['exists']()){_0x3f5990++;const _0x54fe0e=_0x4bcb38[_0x405faf(0x72a)]();_0x54fe0e[_0x405faf(0x8d7)]!==_0x54fe0e[_0x405faf(0x7f8)]&&(_0x37cabe=![]);}else _0x37cabe=![];}}_0x24a5a1>0x0&&_0x3f5990===_0x24a5a1&&_0x37cabe?_0x2cb707[_0x405faf(0x1fa)]=0x1:_0x2cb707['specialist']=0x0,_0x44a179[_0x405faf(0x4bc)](_0x3095d1,{'studentName':_0x9b3cc6,'totalPoints':_0x65559c,'unlockedBadges':Object[_0x405faf(0xc27)](_0x2cb707)[_0x405faf(0x9a7)](_0x40c0b9=>_0x2cb707[_0x40c0b9]>0x0),'badgesCount':_0x2cb707},{'merge':!![]});});}catch(_0x54ac2b){console[_0x467268(0x274)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x54ac2b),showMessage(_0x467268(0x9b1));}}function startAdminTest(){const _0x5abd64=_0x121993;if(!currentQuizData){showMessage(_0x5abd64(0x766));return;}let _0x583635=JSON[_0x5abd64(0x2cd)](JSON[_0x5abd64(0xd68)](currentQuizData));currentMode=_0x5abd64(0x913),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x5abd64(0x2ff)]['add']('hidden'),studentView[_0x5abd64(0x2ff)][_0x5abd64(0x2cf)]('hidden'),studentInitialView['classList'][_0x5abd64(0x30d)]('hidden'),studentNameSelectionView[_0x5abd64(0x2ff)][_0x5abd64(0x30d)](_0x5abd64(0xad0)),studentResultArea[_0x5abd64(0x2ff)][_0x5abd64(0x30d)](_0x5abd64(0xad0)),studentQuizArea[_0x5abd64(0x2ff)]['remove'](_0x5abd64(0xad0)),quizStartTime=new Date(),displayQuizForStudent(_0x583635);}function handleResultDisplay(_0x5a7b23,_0x923db6,_0x1a23cb,_0x2a8c08,_0x22938c,_0x51de4f){const _0x3292f8=_0x121993;if(_0x5a7b23===_0x3292f8(0x281)){displaySubmissionConfirmation();return;}const _0x1c666b=currentDisplayedQuiz['settings']?.[_0x3292f8(0x765)]??Math[_0x3292f8(0x442)](_0x51de4f/0x2),_0x55ab54=currentDisplayedQuiz[_0x3292f8(0x5a5)]?.[_0x3292f8(0x451)]??![],_0x324e04=currentDisplayedQuiz[_0x3292f8(0x5a5)]?.['loopUntilPass']===!![],_0x4f4622=_0x923db6<_0x1c666b,_0x5a3ab6=_0x5a7b23==='half_mark_status'||_0x5a7b23===_0x3292f8(0x87b);if(_0x324e04&&_0x4f4622&&!_0x5a3ab6){_0x5a7b23===_0x3292f8(0xcb2)?displayResultsWithAnswers(_0x923db6,_0x1a23cb,_0x2a8c08,_0x22938c,_0x51de4f,!![]):displayLoopScreen(_0x923db6,_0x51de4f,_0x5a7b23);return;}if(_0x55ab54&&_0x4f4622){startAdaptiveFlow(_0x22938c,_0x923db6,_0x51de4f);return;}switch(_0x5a7b23){case _0x3292f8(0xcb2):displayResultsWithAnswers(_0x923db6,_0x1a23cb,_0x2a8c08,_0x22938c,_0x51de4f);break;case _0x3292f8(0xaf4):displayResultsScoreOnly(_0x923db6,_0x1a23cb,_0x2a8c08,_0x51de4f);break;case _0x3292f8(0x6d5):displayPassFailOnly(_0x923db6,_0x51de4f);break;case _0x3292f8(0x6a2):displayHalfMarkResult(_0x923db6,_0x51de4f);break;case _0x3292f8(0x87b):displayPerfectScoreResult(_0x923db6,_0x51de4f);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x38cd16){const _0x434a0f=_0x121993;studentReadingArea[_0x434a0f(0x8c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2e8639='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38cd16+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x434a0f(0xabe),_0x584ea9={'type':_0x434a0f(0xde6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x434a0f(0xd78),'items':{'type':_0x434a0f(0xcd6)}},'correctAnswerIndex':{'type':_0x434a0f(0x714)},'explanation':{'type':_0x434a0f(0xcd6)}},'required':[_0x434a0f(0x41b),'options','correctAnswerIndex',_0x434a0f(0xb3d)]},_0x49e1c5={'type':_0x434a0f(0xde6),'properties':{'topic':{'type':_0x434a0f(0xcd6)},'questions':{'type':_0x434a0f(0xd78),'items':_0x584ea9}},'required':['topic','questions']};try{const _0x160445=await callAnalysisApi(_0x2e8639,_0x49e1c5);_0x160445[_0x434a0f(0x642)]=!![],studentReadingArea['classList'][_0x434a0f(0x30d)](_0x434a0f(0xad0));const _0x166979={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x434a0f(0xcb2)};_0x160445['settings']=_0x166979,displayQuizForStudent(_0x160445);}catch(_0x1d89cc){console[_0x434a0f(0x274)](_0x434a0f(0xa04),_0x1d89cc),showMessage(_0x434a0f(0x6d1)),showView('student');}}function displayPassFailOnly(_0x51c7a3,_0x14f59b){const _0x1e936e=_0x121993,_0x11735e=currentDisplayedQuiz[_0x1e936e(0x5a5)]?.[_0x1e936e(0x765)]??-0x1,_0x167e07=currentDisplayedQuiz[_0x1e936e(0x642)]===!![];let _0x1cf0d3='',_0xfca6df=![];if(_0x167e07||_0x11735e!==-0x1){_0xfca6df=_0x167e07?_0x51c7a3===_0x14f59b:_0x51c7a3>=_0x11735e;const _0x5802d6=_0xfca6df?'bg-green-100\x20text-green-800':_0x1e936e(0x92a),_0x5bf9aa=_0xfca6df?_0x1e936e(0x397):_0x1e936e(0x22d);_0x1cf0d3=_0x1e936e(0xac9)+_0x5802d6+'\x22>'+_0x5bf9aa+_0x1e936e(0x713);}else _0x1cf0d3='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x4cd28c=_0x1e936e(0x803)+currentStudentName+_0x1e936e(0x7a8)+_0x1cf0d3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x4cd28c,studentResultArea['classList']['remove'](_0x1e936e(0xad0)),studentQuizArea[_0x1e936e(0x2ff)][_0x1e936e(0x30d)](_0x1e936e(0xad0)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0xfca6df});}function cancelAdminTest(){const _0x5a51d7=_0x121993;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x5a51d7(0x6a3),handleFullscreenChange),document['removeEventListener'](_0x5a51d7(0x500),handleVisibilityChange),currentMode=_0x5a51d7(0x8fa),studentView[_0x5a51d7(0x2ff)][_0x5a51d7(0x30d)]('hidden'),adminView[_0x5a51d7(0x2ff)][_0x5a51d7(0x2cf)](_0x5a51d7(0xad0)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x5a51d7(0x6d3));}function setupResultScreenBackButton(_0x3f1633){const _0x25b347=_0x121993,_0x460a87={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3f1633};if(_0x460a87[_0x25b347(0xa01)]){const _0x2cc319=_0x25b347(0x381);studentResultArea['insertAdjacentHTML'](_0x25b347(0x630),_0x2cc319),document[_0x25b347(0x2f7)]('retake-quiz-loop-btn')[_0x25b347(0xdd3)](_0x25b347(0x754),()=>{const _0x39465b=_0x25b347;studentResultArea['classList'][_0x39465b(0x30d)](_0x39465b(0xad0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x549a59=_0x25b347(0xcca),_0x79d5e7=currentMode===_0x25b347(0x913),_0x433ea4=_0x79d5e7?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x25b347(0x57b);let _0x5d8d98='';_0x460a87[_0x25b347(0xc8e)]&&(_0x5d8d98+=_0x25b347(0xba0));let _0x1403b5=_0x460a87[_0x25b347(0xa53)];_0x1403b5===undefined&&(_0x1403b5=_0x460a87['score']<_0x460a87[_0x25b347(0x7f8)]);_0x1403b5&&(_0x5d8d98+=_0x25b347(0xa60));_0x5d8d98+=_0x25b347(0x966)+_0x549a59+_0x25b347(0xa93)+_0x433ea4+_0x25b347(0x273);const _0x38cec7=_0x25b347(0x3fe)+_0x5d8d98+_0x25b347(0x72e);studentResultArea[_0x25b347(0x8b3)]('beforeend',_0x38cec7),studentResultArea[_0x25b347(0x839)](_0x25b347(0xc5c))?.[_0x25b347(0xdd3)](_0x25b347(0x754),handleShowStudentRankings);const _0x3040da=studentResultArea['querySelector']('#retake-for-improvement-btn');_0x3040da&&_0x3040da[_0x25b347(0xdd3)]('click',()=>{const _0x3ace2b=_0x25b347;studentResultArea[_0x3ace2b(0x2ff)][_0x3ace2b(0x30d)](_0x3ace2b(0xad0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x25b347(0x2f7)](_0x549a59)['addEventListener'](_0x25b347(0x754),()=>{const _0x360929=_0x25b347;_0x79d5e7?(currentMode=_0x360929(0x8fa),studentView[_0x360929(0x2ff)]['add'](_0x360929(0xad0)),adminView['classList'][_0x360929(0x2cf)](_0x360929(0xad0)),showView('project-detail')):(showView('student'),document[_0x360929(0x2f7)](_0x360929(0x53f))[_0x360929(0x5b6)]='');});}function displayResultsWithAnswers(_0x21fe87,_0x5e8414,_0x243892,_0x5364aa,_0xe39cbe,_0x9a9b06=![]){const _0x44c6ea=_0x121993,_0x51d346=_0xe39cbe>0x0?_0x21fe87/_0xe39cbe*0x64:0x0,_0x48af1f=currentDisplayedQuiz[_0x44c6ea(0x5a5)]?.[_0x44c6ea(0x765)]??-0x1,_0x1e3bf4=currentDisplayedQuiz[_0x44c6ea(0x642)]===!![];let _0x3d08b0='';if(_0x1e3bf4||_0x48af1f!==-0x1){let _0x299ee9=_0x1e3bf4?_0x21fe87===_0xe39cbe:_0x21fe87>=_0x48af1f;const _0x297d33=_0x299ee9?_0x44c6ea(0x487):_0x44c6ea(0x92a),_0x59e00c=_0x299ee9?_0x44c6ea(0x397):_0x44c6ea(0x22d);_0x3d08b0=_0x44c6ea(0x2ea)+_0x297d33+'\x22>'+_0x59e00c+_0x44c6ea(0xb6e);}let _0x10a17d=_0x44c6ea(0xbce)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x21fe87+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0xe39cbe+_0x44c6ea(0xcf2)+_0x3d08b0+_0x44c6ea(0x595)+_0x5e8414+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x51d346[_0x44c6ea(0x343)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x44c6ea(0xc33)][_0x44c6ea(0x616)]((_0x22dcd1,_0x1ea4d8)=>{const _0x11591c=_0x44c6ea,_0x1045d5=_0x5364aa[_0x1ea4d8],_0x32b019=_0x1045d5[_0x11591c(0xb05)],_0x5313e4=_0x1045d5[_0x11591c(0xd90)],_0x356854=_0x22dcd1[_0x11591c(0x5ac)]||currentDisplayedQuiz[_0x11591c(0x4d2)];_0x10a17d+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x5313e4?'border-green-300\x20bg-green-50':_0x11591c(0x3b4))+_0x11591c(0x7a2)+(_0x1ea4d8+0x1)+'.\x20'+(_0x22dcd1[_0x11591c(0x859)]||_0x22dcd1[_0x11591c(0x41b)])+_0x11591c(0x71f);switch(_0x356854){case'matching_item':const _0x254ff2=_0x32b019||_0x11591c(0xbe4),_0x1cc176=_0x22dcd1[_0x11591c(0xa17)];_0x10a17d+=_0x11591c(0xc22)+(!_0x5313e4?'line-through\x20text-red-700':'')+'\x22>'+_0x254ff2+'</span></p>';!_0x5313e4&&(_0x10a17d+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x1cc176+_0x11591c(0xb6e));break;case _0x11591c(0x2bc):_0x10a17d+=_0x11591c(0x8b4)+(_0x32b019||_0x11591c(0xbe4))+_0x11591c(0xb6e),_0x10a17d+=_0x11591c(0xab1)+_0x22dcd1[_0x11591c(0x4a4)]+_0x11591c(0xb6e);break;case _0x11591c(0x668):_0x10a17d+=_0x11591c(0xc01)+(_0x22dcd1[_0x11591c(0x836)]===!![]?_0x11591c(0x6e2):'')+'\x20'+(_0x32b019===_0x11591c(0xc10)&&!_0x5313e4?_0x11591c(0x8d9):'')+_0x11591c(0xa9a),_0x10a17d+=_0x11591c(0xc01)+(_0x22dcd1[_0x11591c(0x836)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x32b019===_0x11591c(0x427)&&!_0x5313e4?_0x11591c(0x8d9):'')+_0x11591c(0xdae);break;default:_0x10a17d+=_0x22dcd1[_0x11591c(0x450)][_0x11591c(0xce7)]((_0x4910be,_0x1d3c4b)=>{const _0xc630fd=_0x11591c;let _0x104d8a='',_0x58eb5c='';if(_0x1d3c4b===_0x22dcd1['correctAnswerIndex'])_0x104d8a=_0xc630fd(0x6e2),_0x58eb5c=_0xc630fd(0x81b);else _0x1d3c4b===_0x32b019&&(_0x104d8a=_0xc630fd(0xa33),_0x58eb5c=_0xc630fd(0x602));return _0xc630fd(0x3bb)+_0x104d8a+'\x22>'+_0x58eb5c+_0x4910be+'</div>';})[_0x11591c(0x5c4)]('');break;}_0x10a17d+=_0x11591c(0x561)+(_0x22dcd1['explanation']||_0x11591c(0x7c3))+_0x11591c(0x72e);if(!_0x5313e4){const _0x435614=_0x22dcd1['stem']||_0x22dcd1[_0x11591c(0x41b)];_0x10a17d+=_0x11591c(0xa5d)+escape(_0x435614)+_0x11591c(0x8b7);}_0x10a17d+=_0x11591c(0x72e);}),studentResultArea[_0x44c6ea(0x8c4)]=_0x10a17d,renderEarnedBadges(_0x243892,'earned-badges-container'),studentResultArea[_0x44c6ea(0x2ff)]['remove']('hidden'),studentQuizArea[_0x44c6ea(0x2ff)][_0x44c6ea(0x30d)](_0x44c6ea(0xad0)),setupResultScreenBackButton({'isLooping':_0x9a9b06,'score':_0x21fe87,'totalQuestions':_0xe39cbe,'showRankings':!![]});if(window[_0x44c6ea(0xc16)])window[_0x44c6ea(0xc16)][_0x44c6ea(0xe06)]([studentResultArea]);}function displayResultsScoreOnly(_0x2e0a93,_0x2b571b,_0x427e39,_0x585aac){const _0x3348e5=_0x121993,_0x271ff8=_0x585aac>0x0?_0x2e0a93/_0x585aac*0x64:0x0,_0x389f93=currentDisplayedQuiz['settings']?.[_0x3348e5(0x765)]??-0x1,_0x44c4c7=currentDisplayedQuiz[_0x3348e5(0x642)]===!![];let _0x497d8b='';if(_0x44c4c7||_0x389f93!==-0x1){let _0x31302d=_0x44c4c7?_0x2e0a93===_0x585aac:_0x2e0a93>=_0x389f93;const _0x441bf3=_0x31302d?'bg-green-100\x20text-green-800':_0x3348e5(0x92a),_0x264641=_0x31302d?_0x3348e5(0x397):_0x3348e5(0x22d);_0x497d8b='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x441bf3+'\x22>'+_0x264641+_0x3348e5(0xb6e);}let _0x305af0=_0x3348e5(0x803)+currentStudentName+_0x3348e5(0x3fa)+_0x2e0a93+_0x3348e5(0x324)+_0x585aac+_0x3348e5(0xcf2)+_0x497d8b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x2b571b+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x271ff8[_0x3348e5(0x343)](0x0)+_0x3348e5(0x4d1);studentResultArea[_0x3348e5(0x8c4)]=_0x305af0,renderEarnedBadges(_0x427e39,_0x3348e5(0x648)),studentResultArea['classList'][_0x3348e5(0x2cf)](_0x3348e5(0xad0)),studentQuizArea['classList'][_0x3348e5(0x30d)]('hidden'),setupResultScreenBackButton({'score':_0x2e0a93,'totalQuestions':_0x585aac,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x44d2f9=_0x121993;let _0x35760b=_0x44d2f9(0x7d6)+currentStudentName+_0x44d2f9(0x40d);studentResultArea[_0x44d2f9(0x8c4)]=_0x35760b,studentResultArea[_0x44d2f9(0x2ff)][_0x44d2f9(0x2cf)](_0x44d2f9(0xad0)),studentQuizArea[_0x44d2f9(0x2ff)][_0x44d2f9(0x30d)](_0x44d2f9(0xad0)),document[_0x44d2f9(0x2f7)](_0x44d2f9(0xc4f))[_0x44d2f9(0xdd3)](_0x44d2f9(0x754),()=>{const _0x2e3806=_0x44d2f9;showView(_0x2e3806(0xc2d)),document['getElementById']('quiz-id-input')[_0x2e3806(0x5b6)]='';});}function renderEarnedBadges(_0x14c06b,_0x52fd8d){const _0x369cb4=_0x121993,_0x2946fc=document[_0x369cb4(0x2f7)](_0x52fd8d);if(!_0x2946fc||!_0x14c06b||_0x14c06b['length']===0x0)return;let _0x366d76='';_0x14c06b['forEach']((_0x55fa86,_0x569363)=>{const _0x2d3779=_0x369cb4,_0x3d9d9f=Object[_0x2d3779(0xe02)](BADGES)[_0x2d3779(0x266)](_0x32740c=>_0x32740c['id']===_0x55fa86);_0x3d9d9f&&(_0x366d76+=_0x2d3779(0xddf)+_0x569363*0.2+'s;\x22\x20title=\x22'+_0x3d9d9f[_0x2d3779(0x431)]+_0x2d3779(0xaeb)+_0x3d9d9f[_0x2d3779(0x987)]+_0x2d3779(0x340)+_0x3d9d9f[_0x2d3779(0xa7e)]+_0x2d3779(0x91a));}),_0x2946fc[_0x369cb4(0x8c4)]=_0x366d76;}function startPresentation(_0x52a6a2){const _0x372212=_0x121993;currentQuizData=getShuffledQuiz(_0x52a6a2),currentPresentationSlide=0x0,presentationModal['style']['display']=_0x372212(0x7e0),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3a21ce=_0x121993;document[_0x3a21ce(0xe14)]&&document[_0x3a21ce(0x5ef)](),presentationModal[_0x3a21ce(0x259)][_0x3a21ce(0x8aa)]=_0x3a21ce(0x346);}function renderPresentationSlide(_0x6f204d){const _0x3b9c34=_0x121993,_0x13e0a6=document['getElementById']('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x3b9c34(0xc33)]||!currentQuizData[_0x3b9c34(0xc33)][_0x6f204d]){_0x13e0a6['innerHTML']=_0x3b9c34(0x328);return;}const _0x18392a=currentQuizData[_0x3b9c34(0xc33)][_0x6f204d],_0x147f93=_0x18392a[_0x3b9c34(0x5ac)]||currentQuizData['quizType'];_0x13e0a6[_0x3b9c34(0x8c4)]='';let _0x2c9b1e=_0x3b9c34(0xc61)+(_0x18392a[_0x3b9c34(0x426)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x18392a[_0x3b9c34(0x426)]+_0x3b9c34(0x72e):'')+_0x3b9c34(0xdac)+(_0x6f204d+0x1)+'.\x20'+(_0x18392a['stem']||_0x18392a[_0x3b9c34(0x41b)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x147f93){case _0x3b9c34(0x5f5):_0x2c9b1e+=_0x18392a[_0x3b9c34(0x711)][_0x3b9c34(0xce7)](_0x439157=>_0x3b9c34(0xa83)+_0x439157+_0x3b9c34(0x729))[_0x3b9c34(0x5c4)]('');break;case _0x3b9c34(0x668):_0x2c9b1e+=_0x3b9c34(0xa19),_0x2c9b1e+=_0x3b9c34(0x56a);break;case _0x3b9c34(0x32f):case _0x3b9c34(0x2bc):_0x2c9b1e+=_0x3b9c34(0xbc4);break;case _0x3b9c34(0x7d4):case'multiple_choice':default:_0x2c9b1e+=_0x18392a[_0x3b9c34(0x450)][_0x3b9c34(0xce7)]((_0x1b3de0,_0x5479f1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x5479f1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b3de0+_0x3b9c34(0x729))[_0x3b9c34(0x5c4)]('');break;}_0x2c9b1e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x18392a[_0x3b9c34(0xb3d)]||'ไม่มีคำอธิบาย')+_0x3b9c34(0x8ad),_0x13e0a6['innerHTML']=_0x2c9b1e;if(window[_0x3b9c34(0xc16)])window[_0x3b9c34(0xc16)][_0x3b9c34(0xe06)]([_0x13e0a6]);let _0x33dbf7=[];switch(_0x147f93){case _0x3b9c34(0x5f5):_0x33dbf7=_0x18392a[_0x3b9c34(0x711)]||[];break;case'true_false':_0x33dbf7=[_0x3b9c34(0xb38),'ไม่ใช่'];break;default:_0x33dbf7=_0x18392a[_0x3b9c34(0x450)]||[];break;}const _0xa46852=document[_0x3b9c34(0x2f7)]('presentation-scratchpad-btn');_0xa46852&&(_0xa46852[_0x3b9c34(0x717)]=()=>{openScratchpad(_0x18392a,_0x33dbf7);});document[_0x3b9c34(0x4cb)](_0x3b9c34(0x9e9))[_0x3b9c34(0x616)](_0x471c2b=>{const _0x566980=_0x3b9c34;_0x471c2b[_0x566980(0xdd3)](_0x566980(0x754),_0x6b4011=>revealAnswerForPresentation(_0x6f204d,_0x6b4011[_0x566980(0x305)]));});const _0x3f3a5e=document['getElementById'](_0x3b9c34(0x255));_0x3f3a5e&&_0x3f3a5e['addEventListener']('click',()=>checkShortAnswerForPresentation(_0x6f204d)),document[_0x3b9c34(0x2f7)]('slide-counter')['textContent']=_0x3b9c34(0x863)+(_0x6f204d+0x1)+_0x3b9c34(0xd43)+currentQuizData[_0x3b9c34(0xc33)][_0x3b9c34(0x2b5)],document[_0x3b9c34(0x2f7)](_0x3b9c34(0x9fc))[_0x3b9c34(0x687)]=_0x6f204d===0x0,document['getElementById'](_0x3b9c34(0xd79))[_0x3b9c34(0x687)]=_0x6f204d===currentQuizData['questions'][_0x3b9c34(0x2b5)]-0x1;}async function checkShortAnswerForPresentation(_0x4e9641){const _0x2d7667=_0x121993,_0x4cda3b=currentQuizData[_0x2d7667(0xc33)][_0x4e9641],_0x283e6a=document[_0x2d7667(0x2f7)]('presentation-short-answer-input'),_0x55c0ad=document[_0x2d7667(0x2f7)](_0x2d7667(0x255)),_0x480daf=document[_0x2d7667(0x2f7)](_0x2d7667(0x403)),_0x34c016=document[_0x2d7667(0x2f7)](_0x2d7667(0xde7));if(!_0x283e6a||!_0x55c0ad||!_0x480daf||!_0x34c016)return;const _0x31f481=_0x283e6a[_0x2d7667(0x5b6)][_0x2d7667(0xe11)]();if(_0x31f481==='')return;_0x55c0ad[_0x2d7667(0x687)]=!![],_0x55c0ad['innerHTML']=_0x2d7667(0xb8a),_0x283e6a['disabled']=!![];const _0x39a94e=await gradeShortAnswer(_0x31f481,_0x4cda3b);_0x39a94e?_0x480daf[_0x2d7667(0x8c4)]=_0x2d7667(0x925):_0x480daf[_0x2d7667(0x8c4)]=_0x2d7667(0x249)+_0x4cda3b[_0x2d7667(0x4a4)]+')',_0x480daf[_0x2d7667(0x2ff)][_0x2d7667(0x2cf)](_0x2d7667(0xad0)),_0x34c016[_0x2d7667(0x2ff)][_0x2d7667(0x2cf)](_0x2d7667(0xad0)),_0x55c0ad[_0x2d7667(0x2ff)][_0x2d7667(0x30d)](_0x2d7667(0xad0));}function revealAnswerForPresentation(_0x3b6f53,_0x383687){const _0x4c8b62=_0x121993,_0x22f64f=currentQuizData[_0x4c8b62(0xc33)][_0x3b6f53],_0x1c0a59=_0x22f64f['questionType']||currentQuizData[_0x4c8b62(0x4d2)];document[_0x4c8b62(0x4cb)](_0x4c8b62(0x9e9))[_0x4c8b62(0x616)](_0x1574c9=>{const _0x4d25fe=_0x4c8b62;_0x1574c9[_0x4d25fe(0x687)]=!![],_0x1574c9[_0x4d25fe(0x2ff)][_0x4d25fe(0x2cf)](_0x4d25fe(0xcc7));let _0x527407=![];if(_0x1c0a59===_0x4d25fe(0xc3f)||_0x1c0a59===_0x4d25fe(0x7d4)){const _0x12ef82=parseInt(_0x1574c9[_0x4d25fe(0x683)][_0x4d25fe(0xbd2)]);_0x527407=_0x12ef82===_0x22f64f[_0x4d25fe(0xc9f)];}else{if(_0x1c0a59===_0x4d25fe(0x668)){const _0x3d4233=_0x1574c9['dataset'][_0x4d25fe(0xb05)]===_0x4d25fe(0xc10);_0x527407=_0x3d4233===_0x22f64f[_0x4d25fe(0x836)];}else _0x1c0a59===_0x4d25fe(0x5f5)&&(_0x527407=_0x1574c9['textContent'][_0x4d25fe(0xe11)]()===_0x22f64f[_0x4d25fe(0xa17)]);}_0x527407?_0x1574c9[_0x4d25fe(0x2ff)][_0x4d25fe(0x30d)](_0x4d25fe(0x38c),_0x4d25fe(0x80f),_0x4d25fe(0xadd)):_0x1574c9[_0x4d25fe(0x2ff)][_0x4d25fe(0x30d)]('opacity-50');}),_0x383687['classList'][_0x4c8b62(0x2cf)](_0x4c8b62(0xb00));let _0x36d5e3=![];if(_0x1c0a59==='multiple_choice')_0x36d5e3=parseInt(_0x383687[_0x4c8b62(0x683)]['index'])===_0x22f64f[_0x4c8b62(0xc9f)];else{if(_0x1c0a59===_0x4c8b62(0x668))_0x36d5e3=_0x383687['dataset'][_0x4c8b62(0xb05)]===_0x4c8b62(0xc10)===_0x22f64f[_0x4c8b62(0x836)];else _0x1c0a59==='matching_item'&&(_0x36d5e3=_0x383687['textContent'][_0x4c8b62(0xe11)]()===_0x22f64f['correctResponse']);}!_0x36d5e3&&_0x383687[_0x4c8b62(0x2ff)][_0x4c8b62(0x30d)](_0x4c8b62(0xd87),_0x4c8b62(0x80f),_0x4c8b62(0x874)),document['getElementById'](_0x4c8b62(0xde7))['classList']['remove'](_0x4c8b62(0xad0));}function startWholeQuizTimer(_0x3659d2){const _0x25aa8d=_0x121993,_0x4a84f4=document['getElementById'](_0x25aa8d(0x5d5));if(!_0x4a84f4)return;const _0x5640ed=Date[_0x25aa8d(0x2a6)]()+_0x3659d2*0x3c*0x3e8;_0x4a84f4[_0x25aa8d(0x8c4)]=_0x25aa8d(0x7c8);const _0x3710d1=document[_0x25aa8d(0x2f7)](_0x25aa8d(0x465));quizTimerInterval=setInterval(()=>{const _0x422ac6=_0x25aa8d,_0x466168=_0x5640ed-Date[_0x422ac6(0x2a6)]();if(_0x466168<=0x0)clearInterval(quizTimerInterval),_0x3710d1['textContent']=_0x422ac6(0x2a9),showMessage(_0x422ac6(0x1eb)),handleSubmitQuiz(null);else{const _0x147fb8=Math[_0x422ac6(0x442)](_0x466168/0x3e8/0x3c%0x3c)[_0x422ac6(0x24c)]()[_0x422ac6(0xa52)](0x2,'0'),_0x55602b=Math['floor'](_0x466168/0x3e8%0x3c)[_0x422ac6(0x24c)]()['padStart'](0x2,'0');_0x3710d1['textContent']=_0x147fb8+':'+_0x55602b;}},0x3e8);}function renderPerQuestionView(){const _0x56f3b9=_0x121993;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1f2e73=currentDisplayedQuiz[_0x56f3b9(0xc33)][currentQuestionIndex],_0x533eb4=_0x1f2e73['questionType']||currentDisplayedQuiz[_0x56f3b9(0x4d2)],_0x41d54a=currentDisplayedQuiz[_0x56f3b9(0x5a5)]?.['isConfidenceScoringEnabled']===!![];let _0x38adf9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x56f3b9(0xc33)]['length']+_0x56f3b9(0x707)+(currentMode===_0x56f3b9(0x913)?_0x56f3b9(0xc8f):'')+_0x56f3b9(0xd5f)+currentDisplayedQuiz[_0x56f3b9(0x9ce)]+_0x56f3b9(0x7fe);studentQuizArea[_0x56f3b9(0x8c4)]=_0x38adf9;let _0x1e32c2=_0x1f2e73['stem']||_0x1f2e73['questionText'];_0x1f2e73[_0x56f3b9(0x426)]&&(_0x1e32c2+=_0x56f3b9(0xd03)+_0x1f2e73['imageCode']+'</div>');let _0x4517b8='';switch(_0x533eb4){case _0x56f3b9(0x2bc):case _0x56f3b9(0x32f):_0x4517b8=_0x56f3b9(0xa4f);break;case _0x56f3b9(0x668):_0x4517b8='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case'matching_item':_0x4517b8=_0x56f3b9(0x4d8)+(_0x1f2e73[_0x56f3b9(0x711)]||[])[_0x56f3b9(0xce7)](_0x56b6cf=>_0x56f3b9(0xc7d)+_0x56b6cf+'\x22>'+_0x56b6cf+_0x56f3b9(0xbc5))[_0x56f3b9(0x5c4)]('')+_0x56f3b9(0x618);break;default:_0x1f2e73[_0x56f3b9(0x450)]&&(_0x4517b8=_0x1f2e73[_0x56f3b9(0x450)]['map']((_0x4078d1,_0x4d2259)=>_0x56f3b9(0xdbd)+_0x4d2259+_0x56f3b9(0xd56)+_0x4d2259+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x4d2259+'\x22>'+_0x4078d1+_0x56f3b9(0x950))['join'](''));break;}document['getElementById'](_0x56f3b9(0xcbb))[_0x56f3b9(0x8c4)]=_0x1e32c2,document['getElementById']('per-question-options')['innerHTML']=_0x4517b8;const _0x26e4cb=currentDisplayedQuiz[_0x56f3b9(0x5a5)]?.['isConfidenceScoringEnabled']===!![],_0x5ebbed=currentDisplayedQuiz[_0x56f3b9(0x5a5)]?.[_0x56f3b9(0x938)]||'checkbox';if(_0x26e4cb&&_0x5ebbed===_0x56f3b9(0x4fc)){const _0x130c0a=_0x56f3b9(0x881);studentQuizArea['querySelector']('.mb-6.p-4')[_0x56f3b9(0x8b3)](_0x56f3b9(0x630),_0x130c0a);}studentQuizArea[_0x56f3b9(0x8b3)](_0x56f3b9(0x630),_0x56f3b9(0x994)+(currentQuestionIndex===currentDisplayedQuiz[_0x56f3b9(0xc33)][_0x56f3b9(0x2b5)]-0x1?_0x56f3b9(0x3a4):_0x56f3b9(0x425))+_0x56f3b9(0x260));currentMode==='admin-testing'&&document[_0x56f3b9(0x2f7)](_0x56f3b9(0xb8f))?.[_0x56f3b9(0xdd3)](_0x56f3b9(0x754),cancelAdminTest);document[_0x56f3b9(0x2f7)](_0x56f3b9(0x2b9))[_0x56f3b9(0xdd3)](_0x56f3b9(0x754),()=>handleNextQuestionInTimedMode(![]));if(window[_0x56f3b9(0xc16)])window['MathJax'][_0x56f3b9(0xe06)]([studentQuizArea]);currentDisplayedQuiz[_0x56f3b9(0x5a5)]?.[_0x56f3b9(0x789)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3a6a02=_0x121993,_0x435241=currentDisplayedQuiz[_0x3a6a02(0x5a5)][_0x3a6a02(0x722)],_0x1fe0d5=document[_0x3a6a02(0x2f7)](_0x3a6a02(0xcd9));if(!_0x1fe0d5)return;let _0x34d076=_0x435241;_0x1fe0d5[_0x3a6a02(0x8c4)]=_0x3a6a02(0x2f6)+_0x34d076+_0x3a6a02(0xafa);const _0x59625c=document[_0x3a6a02(0x2f7)](_0x3a6a02(0x7f2)),_0x5c50c4=document[_0x3a6a02(0x2f7)](_0x3a6a02(0x1cb));perQuestionTimerInterval=setInterval(()=>{const _0x55e2bb=_0x3a6a02;_0x34d076--;const _0x1e8575=_0x34d076/_0x435241*0x64;_0x59625c[_0x55e2bb(0x259)][_0x55e2bb(0xa61)]=_0x1e8575+'%',_0x5c50c4[_0x55e2bb(0xa28)]=_0x34d076,_0x34d076<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x55e2bb(0x750)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xe1d826=![]){const _0x5a135c=_0x121993;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3b9fb5=null,_0x3bb50c=![];if(!_0xe1d826){const _0x13ce06=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x1d8fc7=_0x13ce06[_0x5a135c(0x5ac)]||currentDisplayedQuiz[_0x5a135c(0x4d2)];if(_0x1d8fc7===_0x5a135c(0x2bc)||_0x1d8fc7==='fill_in_no_choices')_0x3b9fb5=document[_0x5a135c(0x839)]('textarea[name=\x22question_single\x22]')?.[_0x5a135c(0x5b6)][_0x5a135c(0xe11)]()??'';else{if(_0x1d8fc7===_0x5a135c(0x5f5))_0x3b9fb5=document[_0x5a135c(0x839)](_0x5a135c(0xd6c))?.['value']??'';else{const _0x556055=document[_0x5a135c(0x839)](_0x5a135c(0x4f4));_0x556055&&(_0x3b9fb5=_0x556055['value']);}}if(_0x3b9fb5===null||_0x3b9fb5===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x4481ac=currentDisplayedQuiz[_0x5a135c(0x5a5)]?.[_0x5a135c(0xb49)]===!![],_0x5d2386=currentDisplayedQuiz[_0x5a135c(0x5a5)]?.[_0x5a135c(0x938)]||_0x5a135c(0x4fc);if(_0x4481ac&&_0x5d2386===_0x5a135c(0xaaf)){document[_0x5a135c(0x2f7)](_0x5a135c(0x8b9))[_0x5a135c(0x683)]['currentMode']=_0x5a135c(0x577),document['getElementById'](_0x5a135c(0x5f3))[_0x5a135c(0x5b6)]=_0x3b9fb5,document[_0x5a135c(0x2f7)](_0x5a135c(0x8b9))[_0x5a135c(0x2ff)]['remove'](_0x5a135c(0xad0));return;}const _0x4d5b39=document[_0x5a135c(0x2f7)](_0x5a135c(0xdab));_0x4d5b39&&(_0x3bb50c=_0x4d5b39[_0x5a135c(0x28f)]);}const _0x316e31={'answer':_0x3b9fb5,'wasConfident':_0x3bb50c};proceedToNextQuestion(_0x316e31);}async function finalizePerQuestionQuiz(){const _0x4520d2=_0x121993,_0x218bd5=currentDisplayedQuiz['questions']['some'](_0x3caa49=>_0x3caa49['questionType']===_0x4520d2(0x2bc));_0x218bd5?showMessage(_0x4520d2(0x691)):showMessage(_0x4520d2(0xdd7));const _0x5d282c=currentQuizData['id'],_0x4d9a82=doc(db,_0x4520d2(0x1da)+appId+_0x4520d2(0x71c)+_0x5d282c+_0x4520d2(0x942),currentStudentName),_0x10d357=await getDoc(_0x4d9a82),_0xc88a98=_0x10d357[_0x4520d2(0x75c)]()?_0x10d357[_0x4520d2(0x72a)]():{},_0x18d56d=_0xc88a98[_0x4520d2(0x9bf)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x18d56d);}function getResultsFilename(){const _0x5667d7=_0x121993,_0x30989c=document[_0x5667d7(0x2f7)]('results-quiz-title')[_0x5667d7(0xa28)][_0x5667d7(0xbbe)](/[^a-z0-9]/gi,'_')[_0x5667d7(0xcfa)]();return _0x5667d7(0x60b)+(_0x30989c||_0x5667d7(0x658));}function exportResultsAsImage(){const _0x1a2ec5=_0x121993,_0x4eb42e=document[_0x1a2ec5(0x2f7)]('results-table-container');showMessage(_0x1a2ec5(0xb0b)),html2canvas(_0x4eb42e)[_0x1a2ec5(0xa34)](_0x11f083=>{const _0x25251c=_0x1a2ec5,_0x4144e5=document[_0x25251c(0x78e)]('a');_0x4144e5[_0x25251c(0x304)]=getResultsFilename()+'.png',_0x4144e5[_0x25251c(0x1e9)]=_0x11f083[_0x25251c(0xca5)](_0x25251c(0x32b)),_0x4144e5['click'](),messageModal['classList']['add']('hidden');});}function exportResultsAsPDF(){const _0x288bc1=_0x121993,{jsPDF:_0xfcf817}=window['jspdf'],_0x274666=new _0xfcf817();_0x274666[_0x288bc1(0x2fa)](_0x288bc1(0x581),_0x288bc1(0x5d9)),_0x274666[_0x288bc1(0x64e)]({'html':_0x288bc1(0x2eb)}),_0x274666[_0x288bc1(0x5d1)](getResultsFilename()+_0x288bc1(0x28b));}function exportResultsAsWord(){const _0x36f333=_0x121993,_0x537982='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x36f333(0x8ef)+_0x36f333(0xc2b)+_0x36f333(0xd57),_0x56181f=_0x36f333(0xb10),_0x574c9d=_0x537982+document[_0x36f333(0x2f7)](_0x36f333(0x30c))[_0x36f333(0x8c4)]+_0x56181f,_0x25b9f8=_0x36f333(0x7e3)+encodeURIComponent(_0x574c9d),_0x2de6a0=document[_0x36f333(0x78e)]('a');document['body']['appendChild'](_0x2de6a0),_0x2de6a0[_0x36f333(0x1e9)]=_0x25b9f8,_0x2de6a0['download']=getResultsFilename()+_0x36f333(0xd4e),_0x2de6a0['click'](),document[_0x36f333(0x536)][_0x36f333(0x5da)](_0x2de6a0);}function exportResultsAsExcel(){const _0x41fd16=_0x121993,_0x390476=document[_0x41fd16(0x2f7)](_0x41fd16(0x9dd));let _0x1b5a9a=[];for(let _0x59e650=0x0;_0x59e650<_0x390476[_0x41fd16(0x5b9)]['length'];_0x59e650++){let _0x32c013=[],_0x2ee8b1=_0x390476[_0x41fd16(0x5b9)][_0x59e650][_0x41fd16(0x4cb)](_0x41fd16(0x527));for(let _0x595719=0x0;_0x595719<_0x2ee8b1[_0x41fd16(0x2b5)];_0x595719++){_0x32c013[_0x41fd16(0xdc4)]('\x22'+_0x2ee8b1[_0x595719][_0x41fd16(0x907)][_0x41fd16(0xbbe)](/"/g,'\x22\x22')+'\x22');}_0x1b5a9a['push'](_0x32c013[_0x41fd16(0x5c4)](','));}const _0x3c107e=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1b5a9a[_0x41fd16(0x5c4)]('\x0a')],{'type':_0x41fd16(0xa8e)}),_0x377b71=document[_0x41fd16(0x78e)]('a');_0x377b71[_0x41fd16(0x1e9)]=URL[_0x41fd16(0xcd2)](_0x3c107e),_0x377b71[_0x41fd16(0x304)]=getResultsFilename()+'.csv',_0x377b71[_0x41fd16(0x754)]();}function exportTableAsImage(_0x134734,_0x16fc87){const _0x5936ef=_0x121993,_0x109788=document[_0x5936ef(0x2f7)](_0x134734);if(!_0x109788){showMessage(_0x5936ef(0x1cf));return;}showMessage(_0x5936ef(0xb0b)),html2canvas(_0x109788)[_0x5936ef(0xa34)](_0x777eda=>{const _0x3d61cf=_0x5936ef,_0x4f8088=document['createElement']('a');_0x4f8088[_0x3d61cf(0x304)]=_0x16fc87+_0x3d61cf(0xcdf),_0x4f8088[_0x3d61cf(0x1e9)]=_0x777eda[_0x3d61cf(0xca5)](_0x3d61cf(0x32b)),_0x4f8088[_0x3d61cf(0x754)](),messageModal['classList'][_0x3d61cf(0x30d)](_0x3d61cf(0xad0));});}function exportTableAsPDF(_0xce8c7a,_0x1b3296){const _0xe4a8bf=_0x121993,{jsPDF:_0x60a983}=window['jspdf'],_0x75ed26=new _0x60a983();_0x75ed26[_0xe4a8bf(0x2fa)]('helvetica',_0xe4a8bf(0x5d9)),_0x75ed26[_0xe4a8bf(0x64e)]({'html':'#'+_0xce8c7a}),_0x75ed26['save'](_0x1b3296+'.pdf');}function exportTableAsWord(_0x29219e,_0x28a090){const _0x31c5d3=_0x121993,_0x1ea52d=document[_0x31c5d3(0x2f7)](_0x29219e);if(!_0x1ea52d){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x56eae4='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x31c5d3(0x8ef)+_0x31c5d3(0xc2b)+_0x31c5d3(0xd57),_0x226dc7=_0x31c5d3(0xb10),_0x25ce6a=_0x56eae4+_0x1ea52d['innerHTML']+_0x226dc7,_0x3bf1ba=_0x31c5d3(0x7e3)+encodeURIComponent(_0x25ce6a),_0x57445b=document[_0x31c5d3(0x78e)]('a');document[_0x31c5d3(0x536)][_0x31c5d3(0xd74)](_0x57445b),_0x57445b[_0x31c5d3(0x1e9)]=_0x3bf1ba,_0x57445b[_0x31c5d3(0x304)]=_0x28a090+'.doc',_0x57445b[_0x31c5d3(0x754)](),document[_0x31c5d3(0x536)][_0x31c5d3(0x5da)](_0x57445b);}function exportTableAsExcel(_0x31271a,_0x4f8148){const _0x2f547b=_0x121993,_0x57014e=document['getElementById'](_0x31271a);if(!_0x57014e){showMessage(_0x2f547b(0x1cf));return;}let _0x39c1fa=[];for(let _0x564052=0x0;_0x564052<_0x57014e[_0x2f547b(0x5b9)][_0x2f547b(0x2b5)];_0x564052++){let _0x1a5363=[],_0x2c137e=_0x57014e['rows'][_0x564052][_0x2f547b(0x4cb)]('td,\x20th');for(let _0x28bd1d=0x0;_0x28bd1d<_0x2c137e[_0x2f547b(0x2b5)];_0x28bd1d++){_0x1a5363[_0x2f547b(0xdc4)]('\x22'+_0x2c137e[_0x28bd1d][_0x2f547b(0x907)][_0x2f547b(0xbbe)](/"/g,'\x22\x22')+'\x22');}_0x39c1fa[_0x2f547b(0xdc4)](_0x1a5363['join'](','));}const _0x49d732=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x39c1fa['join']('\x0a')],{'type':_0x2f547b(0xa8e)}),_0x54cc30=document[_0x2f547b(0x78e)]('a');_0x54cc30['href']=URL['createObjectURL'](_0x49d732),_0x54cc30[_0x2f547b(0x304)]=_0x4f8148+'.csv',_0x54cc30[_0x2f547b(0x754)]();}function renderAnalytics(_0x4d5447,_0x36fd83){const _0x3061e9=_0x121993,_0x17763c=_0x36fd83[_0x3061e9(0x9a7)](_0xe4503e=>_0xe4503e[_0x3061e9(0x2f1)]!==undefined),_0x3df97e=currentProjectData[_0x3061e9(0x559)]['length'],_0x476451=_0x17763c[_0x3061e9(0x2b5)],_0x4372c8=_0x3df97e-_0x476451,_0x348010=_0x3df97e>0x0?_0x476451/_0x3df97e*0x64:0x0,_0x33ff68=_0x17763c[_0x3061e9(0xce7)](_0x2c0a25=>_0x2c0a25[_0x3061e9(0x2f1)]),_0x3a626=_0x33ff68['length']>0x0?_0x33ff68[_0x3061e9(0x971)]((_0x550a25,_0x38c818)=>_0x550a25+_0x38c818,0x0)/_0x33ff68[_0x3061e9(0x2b5)]:0x0,_0x666c91=_0x4d5447[_0x3061e9(0xc33)][_0x3061e9(0x2b5)],_0x44b7e2=_0x666c91>0x0?_0x3a626/_0x666c91*0x64:0x0,_0x266632=calculateItemAnalysis(_0x4d5447,_0x17763c),_0x3493a4=calculateReliabilityKR20(_0x4d5447,_0x17763c,_0x266632[_0x3061e9(0x3c0)]);let _0x172ea5='';if(_0x3493a4!==null){let _0x5376d0='';if(_0x3493a4>=0.9)_0x5376d0=_0x3061e9(0x6ff);else{if(_0x3493a4>=0.8)_0x5376d0=_0x3061e9(0x870);else{if(_0x3493a4>=0.7)_0x5376d0='ดี';else{if(_0x3493a4>=0.6)_0x5376d0=_0x3061e9(0x8cc);else _0x5376d0=_0x3061e9(0x9b2);}}}_0x172ea5=_0x3061e9(0xd40)+_0x3493a4[_0x3061e9(0x343)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x5376d0+_0x3061e9(0x5f7);}const _0x387a7a=document[_0x3061e9(0x2f7)](_0x3061e9(0x9ad));_0x387a7a[_0x3061e9(0x8c4)]=_0x3061e9(0x3d6)+_0x348010['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x476451+'/'+_0x3df97e+_0x3061e9(0x5ee)+_0x3a626[_0x3061e9(0x343)](0x2)+_0x3061e9(0xbd4)+_0x44b7e2[_0x3061e9(0x343)](0x0)+_0x3061e9(0x441)+(_0x33ff68['length']>0x0?Math[_0x3061e9(0x73a)](..._0x33ff68):_0x3061e9(0x633))+_0x3061e9(0xbd1)+(_0x33ff68['length']>0x0?Math[_0x3061e9(0xd4b)](..._0x33ff68):'N/A')+_0x3061e9(0x92f)+_0x172ea5+_0x3061e9(0xabe);const _0x573c64=document[_0x3061e9(0x2f7)](_0x3061e9(0x30f));_0x573c64&&_0x573c64['remove']();const _0x5c2c9f=_0x3061e9(0xd6d);_0x387a7a['insertAdjacentHTML'](_0x3061e9(0xd07),_0x5c2c9f);const _0x370c4b=currentProjectData['students']||[];renderSubmissionChart(_0x476451,_0x4372c8,_0x17763c,_0x370c4b),renderScoreDistributionChart(_0x17763c,_0x666c91),renderQuestionAnalytics(_0x4d5447,_0x17763c,_0x370c4b),renderInterestingStats(_0x4d5447,_0x17763c);}async function handleExportLessonPDF(){const _0x554b76=_0x121993,_0x349f11=document[_0x554b76(0x2f7)](_0x554b76(0xc29)),_0x553836=document['getElementById'](_0x554b76(0x4c6))['textContent'],_0x1be1ed=window['open']('','_blank'),_0xb86be1=_0x554b76(0x969)+_0x553836+_0x554b76(0x34b)+_0x349f11[_0x554b76(0x8c4)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1be1ed[_0x554b76(0x31f)][_0x554b76(0xd73)](_0xb86be1),_0x1be1ed[_0x554b76(0x31f)][_0x554b76(0xced)](),_0x1be1ed[_0x554b76(0x391)]=function(){setTimeout(()=>{const _0x143bce=_0x32db;_0x1be1ed[_0x143bce(0xc74)]();},0x5dc);};}function renderInterestingStats(_0x1115e1,_0x512ccd){const _0x153a58=_0x121993,_0x459d79=document['getElementById'](_0x153a58(0x69d));if(!_0x459d79)return;if(_0x512ccd[_0x153a58(0x2b5)]===0x0){_0x459d79[_0x153a58(0x8c4)]=_0x153a58(0x5b7);return;}const _0x3d15a2=_0x1115e1[_0x153a58(0xc33)][_0x153a58(0xce7)]((_0x4be2f0,_0x5ba38d)=>({'index':_0x5ba38d+0x1,'text':_0x4be2f0['questionText']||_0x4be2f0[_0x153a58(0x859)],'correct':0x0}));_0x512ccd[_0x153a58(0x616)](_0x49230f=>{const _0x84e91f=_0x153a58,_0xb8279b=_0x49230f[_0x84e91f(0x9bf)][_0x49230f[_0x84e91f(0x9bf)][_0x84e91f(0x2b5)]-0x1];_0xb8279b&&_0xb8279b[_0x84e91f(0x847)]&&_0xb8279b[_0x84e91f(0x847)][_0x84e91f(0x616)](_0x467e65=>{const _0x2d9812=_0x84e91f,_0x3a5992=_0x3d15a2['find'](_0x35b26e=>_0x35b26e[_0x2d9812(0xc0b)]===_0x467e65['originalQuestionText']);_0x467e65['isCorrect']&&_0x3a5992&&_0x3a5992[_0x2d9812(0xd08)]++;});});const _0x223fde=_0x512ccd[_0x153a58(0x2b5)],_0x204365=Math[_0x153a58(0x73a)](..._0x3d15a2[_0x153a58(0xce7)](_0x303c75=>_0x303c75['correct'])),_0x86e4de=Math[_0x153a58(0xd4b)](..._0x3d15a2[_0x153a58(0xce7)](_0x5d340c=>_0x5d340c[_0x153a58(0xd08)])),_0x1ae6a3=_0x3d15a2[_0x153a58(0x9a7)](_0x9e1670=>_0x9e1670[_0x153a58(0xd08)]===_0x204365)[_0x153a58(0xce7)](_0x170f18=>_0x153a58(0x212)+_0x170f18[_0x153a58(0xbd2)]),_0x216e24=_0x3d15a2[_0x153a58(0x9a7)](_0x50573d=>_0x50573d['correct']===_0x86e4de)[_0x153a58(0xce7)](_0x57c31b=>_0x153a58(0x212)+_0x57c31b['index']),_0x3bfe69=_0x512ccd['sort']((_0x587d8d,_0x234c5c)=>_0x234c5c[_0x153a58(0x2f1)]-_0x587d8d[_0x153a58(0x2f1)])[_0x153a58(0x9a7)]((_0x486aaf,_0x42bb78,_0x339bd2)=>_0x486aaf['latestScore']===_0x339bd2[0x0][_0x153a58(0x2f1)]),_0x17dfa0=_0x512ccd[_0x153a58(0x423)]((_0x1c62e0,_0x2f580f)=>_0x1c62e0[_0x153a58(0x2f1)]-_0x2f580f[_0x153a58(0x2f1)])[_0x153a58(0x9a7)]((_0xf94f80,_0x39b219,_0x3431dc)=>_0xf94f80[_0x153a58(0x2f1)]===_0x3431dc[0x0][_0x153a58(0x2f1)]),_0x14b1b0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x1ae6a3['join'](',\x20')+_0x153a58(0x46f)+_0x204365+_0x153a58(0xd43)+_0x223fde+_0x153a58(0x41e)+_0x216e24[_0x153a58(0x5c4)](',\x20')+_0x153a58(0x46f)+(_0x223fde-_0x86e4de)+_0x153a58(0xd43)+_0x223fde+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x3bfe69[_0x153a58(0xce7)](_0x1990f3=>_0x1990f3['studentName'])[_0x153a58(0x5c4)](',\x20')+_0x153a58(0x921)+_0x3bfe69[0x0][_0x153a58(0x2f1)]+_0x153a58(0x91b)+_0x17dfa0[_0x153a58(0xce7)](_0x1bdb36=>_0x1bdb36[_0x153a58(0xae4)])[_0x153a58(0x5c4)](',\x20')+_0x153a58(0x921)+_0x17dfa0[0x0][_0x153a58(0x2f1)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x459d79['innerHTML']=_0x14b1b0;}function renderSubmissionChart(_0x44e15e,_0x580d19,_0x19caff,_0x29ce3e){const _0x3e1154=_0x121993,_0x28a7f6=document['getElementById'](_0x3e1154(0xc30))[_0x3e1154(0x504)]('2d'),_0x5dd9fc=_0x19caff[_0x3e1154(0xce7)](_0x43a13e=>_0x43a13e[_0x3e1154(0xae4)]),_0x169b66=_0x29ce3e[_0x3e1154(0x9a7)](_0x2f3ade=>!_0x5dd9fc[_0x3e1154(0xcec)](_0x2f3ade));chartInstances[_0x3e1154(0x424)]&&chartInstances[_0x3e1154(0x424)][_0x3e1154(0x47d)](),chartInstances[_0x3e1154(0x424)]=new Chart(_0x28a7f6,{'type':_0x3e1154(0xc42),'data':{'labels':[_0x3e1154(0x77e),'ยังไม่ส่ง'],'datasets':[{'data':[_0x44e15e,_0x580d19],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x3e1154(0xdbb),_0x3e1154(0xdbb)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x3e1154(0x20f)},'tooltip':{'callbacks':{'label':function(_0x4dca4c){const _0x4c2d91=_0x3e1154;let _0x4829f8=_0x4dca4c[_0x4c2d91(0xbef)]||'';return _0x4829f8&&(_0x4829f8+=':\x20'),_0x4829f8+=_0x4dca4c[_0x4c2d91(0xb8c)],_0x4829f8;},'afterLabel':function(_0x513618){const _0xf52525=_0x3e1154;let _0x30cfd2;return _0x513618[_0xf52525(0xa13)]===0x0?_0x30cfd2=_0x5dd9fc:_0x30cfd2=_0x169b66,_0x30cfd2['length']>0x0?_0x30cfd2['join']('\x0a'):_0xf52525(0xb37);}}}}}});}function renderScoreDistributionChart(_0x29b8d9,_0x149648){const _0x337ae3=_0x121993,_0x4bb2c8=document[_0x337ae3(0x2f7)](_0x337ae3(0xba5))[_0x337ae3(0x504)]('2d'),_0x7ad7a={};for(let _0x4d275c=0x0;_0x4d275c<=_0x149648;_0x4d275c++){_0x7ad7a[_0x4d275c]=0x0;}_0x29b8d9['forEach'](_0x34e49a=>{const _0x2d5df2=_0x337ae3;_0x7ad7a[_0x34e49a['latestScore']]!==undefined&&_0x7ad7a[_0x34e49a[_0x2d5df2(0x2f1)]]++;}),chartInstances[_0x337ae3(0xbf1)]&&chartInstances[_0x337ae3(0xbf1)][_0x337ae3(0x47d)](),chartInstances[_0x337ae3(0xbf1)]=new Chart(_0x4bb2c8,{'type':'bar','data':{'labels':Object['keys'](_0x7ad7a),'datasets':[{'label':_0x337ae3(0xa3e),'data':Object[_0x337ae3(0xe02)](_0x7ad7a),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1c575){const _0x2105cc=_0x337ae3,_0x8de24=_0x1c575['label'],_0x4b2547=_0x29b8d9[_0x2105cc(0x9a7)](_0x1a0084=>_0x1a0084[_0x2105cc(0x2f1)]==_0x8de24)[_0x2105cc(0xce7)](_0x1422f0=>_0x1422f0[_0x2105cc(0xae4)]);return _0x4b2547[_0x2105cc(0x2b5)]>0x0?_0x4b2547['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x36863a,_0x4ff351,_0x3e0b26){const _0x5d312f=_0x121993,_0x5ecaf5=document['getElementById'](_0x5d312f(0x684));if(_0x3e0b26[_0x5d312f(0x2b5)]===0x0){_0x5ecaf5[_0x5d312f(0x8c4)]=_0x5d312f(0xc7e);return;}const _0x419f3f=calculateItemAnalysis(_0x36863a,_0x4ff351),_0x11d388=calculateDistractorAnalysis(_0x36863a,_0x4ff351);let _0x368b82='';_0x419f3f['overallGroups']&&(_0x368b82=_0x5d312f(0x5eb)+_0x419f3f[_0x5d312f(0x3f5)][_0x5d312f(0x774)][_0x5d312f(0x2b5)]+_0x5d312f(0x46a)+_0x419f3f[_0x5d312f(0x3f5)][_0x5d312f(0x774)][_0x5d312f(0xce7)](_0x2050cc=>_0x5d312f(0xdcc)+_0x2050cc+_0x5d312f(0xafb))[_0x5d312f(0x5c4)]('')+_0x5d312f(0x93f)+_0x419f3f[_0x5d312f(0x3f5)]['lowerGroupNames'][_0x5d312f(0x2b5)]+_0x5d312f(0x46a)+_0x419f3f[_0x5d312f(0x3f5)][_0x5d312f(0xbb2)]['map'](_0x25a618=>_0x5d312f(0xdcc)+_0x25a618+'</li>')[_0x5d312f(0x5c4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x481755='';const _0xe7ee34=_0x4ff351['map'](_0x57602c=>_0x57602c[_0x5d312f(0xae4)]),_0x1b3634=_0xe9bc8b=>{const _0x56d184=_0x5d312f;if(_0xe9bc8b>=0.8)return _0x56d184(0x43a);if(_0xe9bc8b>=0.6)return _0x56d184(0x7cb);if(_0xe9bc8b>=0.4)return _0x56d184(0x413);if(_0xe9bc8b>=0.2)return _0x56d184(0x2b8);return _0x56d184(0xace);},_0x373635=_0x34d035=>{const _0x569844=_0x5d312f;if(_0x34d035<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x34d035>=0.4)return _0x569844(0x6ad);if(_0x34d035>=0.3)return _0x569844(0x8be);if(_0x34d035>=0.2)return _0x569844(0x2d0);return _0x569844(0xbcd);},_0x503093=_0x50beab=>{const _0x44b925=_0x5d312f,_0x5d8fe1=_0x50beab['toFixed'](0x0);if(parseFloat(_0x5d8fe1)===0x64)return _0x44b925(0x954)+_0x5d8fe1+'%</span>';if(_0x50beab>=0x32)return _0x44b925(0x33e)+_0x5d8fe1+'%</span>';return _0x44b925(0x8a7)+_0x5d8fe1+_0x44b925(0xc2e);};_0x36863a[_0x5d312f(0xc33)]['forEach']((_0x31e0b1,_0x36d8fc)=>{const _0xa42571=_0x5d312f,_0x43e5d6=_0x419f3f[_0xa42571(0x3c0)][_0x36d8fc],_0x14a084=_0x11d388[_0x36d8fc],_0x5bedd2=_0x31e0b1[_0xa42571(0x859)]||_0x31e0b1['questionText']||_0x31e0b1['instructions'];let _0x1b4704=0x0;const _0x2493f3=[],_0xde1cc2=[];_0x4ff351[_0xa42571(0x616)](_0x2c5dae=>{const _0x5c56b3=_0xa42571,_0x4aaa8d=_0x2c5dae[_0x5c56b3(0x9bf)][_0x2c5dae[_0x5c56b3(0x9bf)]['length']-0x1];if(_0x4aaa8d&&_0x4aaa8d[_0x5c56b3(0x847)]){const _0x5f8ade=_0x4aaa8d['answers'][_0x5c56b3(0x266)](_0x1052c2=>_0x1052c2[_0x5c56b3(0x3c6)]===_0x5bedd2)??_0x4aaa8d['answers'][_0x36d8fc]??null;_0x5f8ade&&(_0x5f8ade[_0x5c56b3(0xd90)]?(_0x1b4704++,_0x2493f3[_0x5c56b3(0xdc4)](_0x2c5dae[_0x5c56b3(0xae4)])):_0xde1cc2[_0x5c56b3(0xdc4)](_0x2c5dae[_0x5c56b3(0xae4)]));}});const _0x5df36d=_0x4ff351['length']>0x0?_0x1b4704/_0x4ff351['length']*0x64:0x0,_0x58ebdc=_0x3e0b26[_0xa42571(0x9a7)](_0x3c6815=>!_0xe7ee34[_0xa42571(0xcec)](_0x3c6815)),_0x3bfa39=_0x43e5d6?_0xa42571(0x572)+_0x43e5d6['p'][_0xa42571(0x343)](0x2)+_0xa42571(0x585)+_0x1b3634(_0x43e5d6['p'])+_0xa42571(0x548)+_0x43e5d6['r'][_0xa42571(0x343)](0x2)+'</p><div>'+_0x373635(_0x43e5d6['r'])+_0xa42571(0x736)+_0x503093(_0x5df36d)+_0xa42571(0xcb1):'';let _0x3c0605='';_0x14a084&&(_0x3c0605=_0xa42571(0x25c)+Object[_0xa42571(0xc27)](_0x14a084)[_0xa42571(0xce7)](_0x2d2574=>{const _0x18f36d=_0xa42571,_0xc19370=_0x14a084[_0x2d2574],_0x4f9290=parseInt(_0x2d2574)===_0x31e0b1[_0x18f36d(0xc9f)],_0x2dd497=!_0x4f9290&&_0xc19370[_0x18f36d(0xd14)]>_0xc19370[_0x18f36d(0xa5c)];return'<tr\x20class=\x22'+(_0x4f9290?_0x18f36d(0x8de):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x4f9290?'✔\x20':'')+_0xc19370[_0x18f36d(0xc0b)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xc19370[_0x18f36d(0xa5c)]+_0x18f36d(0x331)+_0xc19370[_0x18f36d(0xd14)]+'\x20'+(_0x2dd497?'👍':'')+_0x18f36d(0x331)+_0xc19370[_0x18f36d(0x850)]+_0x18f36d(0x38e);})[_0xa42571(0x5c4)]('')+_0xa42571(0xb3c));let _0x20073='';_0x43e5d6&&_0x43e5d6['upperGroupResponders']&&(_0x20073=_0xa42571(0x670)+_0x43e5d6['upperGroupResponders']['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x43e5d6[_0xa42571(0x924)][_0xa42571(0xce7)](_0x23abb4=>_0xa42571(0xdcc)+(_0x23abb4['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0xa42571(0x1cd))+'\x20'+_0x23abb4[_0xa42571(0xa7e)]+'</li>')[_0xa42571(0x5c4)]('')+_0xa42571(0xde5)+_0x43e5d6[_0xa42571(0x4ed)][_0xa42571(0x2b5)]+_0xa42571(0x6f4)+_0x43e5d6['lowerGroupResponders'][_0xa42571(0xce7)](_0x3b5349=>'<li>'+(_0x3b5349[_0xa42571(0xd90)]?_0xa42571(0xb9b):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x3b5349[_0xa42571(0xa7e)]+_0xa42571(0xafb))[_0xa42571(0x5c4)]('')+_0xa42571(0x5b0)),_0x481755+=_0xa42571(0xa70)+(_0x36d8fc+0x1)+':\x20'+_0x5bedd2+_0xa42571(0xd59)+_0x3bfa39+_0xa42571(0x36c)+_0x5bedd2+_0xa42571(0x727)+_0x1b4704+_0xa42571(0xa55)+_0x4ff351['length']+_0xa42571(0x3e9)+_0x5df36d[_0xa42571(0x343)](0x0)+_0xa42571(0x962)+_0x2493f3['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x2493f3['length']>0x0?_0x2493f3[_0xa42571(0x5c4)](',\x20'):_0xa42571(0xb37))+_0xa42571(0x466)+_0xde1cc2[_0xa42571(0x2b5)]+_0xa42571(0x483)+(_0xde1cc2['length']>0x0?_0xde1cc2[_0xa42571(0x5c4)](',\x20'):_0xa42571(0xb37))+_0xa42571(0x796)+_0x58ebdc['length']+_0xa42571(0x483)+(_0x58ebdc['length']>0x0?_0x58ebdc['join'](',\x20'):_0xa42571(0xb37))+_0xa42571(0x612)+_0x3c0605+_0xa42571(0xc93)+_0x20073+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5ecaf5[_0x5d312f(0x8c4)]=_0x368b82+_0x481755;try{window[_0x5d312f(0xc16)]&&MathJax[_0x5d312f(0xe06)]&&MathJax[_0x5d312f(0xe06)]([_0x5ecaf5]);}catch(_0x13086d){console['error'](_0x5d312f(0x38f),_0x13086d);}}function calculateDistractorAnalysis(_0x3ca0b2,_0x52ef62){const _0x39ff56=_0x121993,_0x68df4c={};if(_0x52ef62[_0x39ff56(0x2b5)]<0x2)return _0x68df4c;const _0x2c4b4c=[..._0x52ef62]['sort']((_0x5e35f5,_0x1cf190)=>{const _0x6300e7=_0x39ff56,_0x1aa1dc=_0x1cf190[_0x6300e7(0x2f1)]-_0x5e35f5[_0x6300e7(0x2f1)];if(_0x1aa1dc!==0x0)return _0x1aa1dc;const _0x28596e=_0x5e35f5['attempts']?.[_0x6300e7(0x2b5)]||0x1,_0x4c2a25=_0x1cf190['attempts']?.[_0x6300e7(0x2b5)]||0x1,_0x4ac367=_0x28596e-_0x4c2a25;if(_0x4ac367!==0x0)return _0x4ac367;const _0x409240=new Date(_0x5e35f5[_0x6300e7(0x73e)]),_0x5a5a2b=new Date(_0x1cf190[_0x6300e7(0x73e)]),_0x46a289=_0x409240-_0x5a5a2b;if(_0x46a289!==0x0)return _0x46a289;return _0x5e35f5['studentName'][_0x6300e7(0x9e4)](_0x1cf190[_0x6300e7(0xae4)],'th');}),_0x794467=_0x2c4b4c[_0x39ff56(0x2b5)],_0x1a9703=Math[_0x39ff56(0x73a)](0x1,Math[_0x39ff56(0x442)](_0x794467*0.33)),_0x23170f=_0x2c4b4c[_0x39ff56(0x7bc)](0x0,_0x1a9703),_0x4ab31b=_0x2c4b4c['slice'](-_0x1a9703);return _0x3ca0b2['questions'][_0x39ff56(0x616)]((_0x1b646f,_0x3510c9)=>{const _0x100ddc=_0x39ff56;if(_0x1b646f[_0x100ddc(0x5ac)]!=='multiple_choice'||!_0x1b646f[_0x100ddc(0x450)])return;const _0x30321e=_0x1b646f[_0x100ddc(0x41b)],_0x38c994={};_0x1b646f[_0x100ddc(0x450)][_0x100ddc(0x616)]((_0x3b0be9,_0x5bcabe)=>{_0x38c994[_0x5bcabe]={'text':_0x3b0be9,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2c4b4c['forEach'](_0x47f45a=>{const _0x2c842e=_0x100ddc,_0x5c9702=_0x47f45a[_0x2c842e(0x9bf)][_0x47f45a['attempts'][_0x2c842e(0x2b5)]-0x1],_0x58d527=_0x5c9702[_0x2c842e(0x847)][_0x2c842e(0x266)](_0x20423d=>_0x20423d['originalQuestionText']===_0x30321e);if(_0x58d527&&_0x58d527[_0x2c842e(0xb05)]!==null){const _0x223458=_0x1b646f[_0x2c842e(0x450)][_0x2c842e(0x868)](_0x272d64=>_0x272d64===_0x58d527['answerText']);_0x223458!==-0x1&&_0x38c994[_0x223458]&&(_0x38c994[_0x223458]['total']++,_0x23170f[_0x2c842e(0xcec)](_0x47f45a)&&_0x38c994[_0x223458]['upper_group_count']++,_0x4ab31b[_0x2c842e(0xcec)](_0x47f45a)&&_0x38c994[_0x223458][_0x2c842e(0xd14)]++);}}),_0x68df4c[_0x3510c9]=_0x38c994;}),_0x68df4c;}function calculateReliabilityKR20(_0x2ce025,_0x44fa2d,_0x59330c){const _0x5b81e6=_0x121993,_0x47e44c=_0x2ce025[_0x5b81e6(0xc33)][_0x5b81e6(0x2b5)];if(_0x47e44c<0x2||_0x44fa2d['length']<0x2)return null;const _0x1c38ae=_0x44fa2d[_0x5b81e6(0xce7)](_0xaeb2bd=>_0xaeb2bd[_0x5b81e6(0x2f1)]),_0x42c1eb=_0x1c38ae['reduce']((_0x327f2c,_0x225f9f)=>_0x327f2c+_0x225f9f,0x0)/_0x1c38ae[_0x5b81e6(0x2b5)],_0xbeea50=_0x1c38ae['map'](_0x1b14d9=>Math[_0x5b81e6(0x29c)](_0x1b14d9-_0x42c1eb,0x2))[_0x5b81e6(0x971)]((_0x70c3a4,_0x14d48b)=>_0x70c3a4+_0x14d48b,0x0)/_0x1c38ae['length'];if(_0xbeea50===0x0)return null;let _0x8c2afc=0x0;for(let _0x1153df=0x0;_0x1153df<_0x47e44c;_0x1153df++){const _0x281ab6=_0x59330c[_0x1153df]?.['p'];if(_0x281ab6===undefined)continue;const _0x4b4bc5=0x1-_0x281ab6;_0x8c2afc+=_0x281ab6*_0x4b4bc5;}if(_0x8c2afc===0x0)return null;const _0x5298c7=_0x47e44c/(_0x47e44c-0x1)*(0x1-_0x8c2afc/_0xbeea50);if(_0x5298c7>0x1)return null;return _0x5298c7;}async function handleAnalyzeClass(){const _0x50c154=_0x121993;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x50c154(0xb5d));return;}const _0x557619=collection(db,'artifacts/'+appId+_0x50c154(0x71c)+currentQuizData['id']+_0x50c154(0x942)),_0x1bfdbc=await getDocs(_0x557619),_0x369b4a=_0x1bfdbc[_0x50c154(0x3c3)][_0x50c154(0xce7)](_0x51fe32=>_0x51fe32[_0x50c154(0x72a)]());if(_0x369b4a[_0x50c154(0x2b5)]<0x2){showMessage(_0x50c154(0x4ea));return;}const _0x450d82=document['getElementById'](_0x50c154(0x55f));_0x450d82[_0x50c154(0x8c4)]=_0x50c154(0x48d),document[_0x50c154(0x2f7)]('analyze-strengths-btn')[_0x50c154(0x687)]=!![];const _0x528488=_0x369b4a['map']((_0x5eef99,_0x39645c)=>{const _0x57d35d=_0x50c154,_0x4d4848=_0x5eef99[_0x57d35d(0x9bf)][_0x5eef99[_0x57d35d(0x9bf)]['length']-0x1];if(!_0x4d4848)return'';return _0x57d35d(0xa21)+(_0x39645c+0x1)+'\x20('+_0x5eef99[_0x57d35d(0xae4)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x4d4848[_0x57d35d(0xbf1)]+'/'+_0x5eef99['totalQuestions']+_0x57d35d(0x254)+JSON[_0x57d35d(0xd68)](_0x4d4848[_0x57d35d(0x847)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x50c154(0x5c4)](_0x50c154(0x7f3)),_0x2fa1a9=_0x50c154(0xdb4)+currentQuizData[_0x50c154(0x9ce)]+_0x50c154(0x8e4)+JSON[_0x50c154(0xd68)](currentQuizData[_0x50c154(0xc33)])+_0x50c154(0x659)+_0x528488+_0x50c154(0x99c),_0x213bc0={'type':_0x50c154(0xde6),'properties':{'classStrengths':{'type':_0x50c154(0xd78),'items':{'type':_0x50c154(0xcd6)}},'classWeaknesses':{'type':_0x50c154(0xd78),'items':{'type':_0x50c154(0xcd6)}},'teacherSuggestions':{'type':_0x50c154(0xd78),'items':{'type':'STRING'}}},'required':[_0x50c154(0x517),_0x50c154(0x253),'teacherSuggestions']};try{const _0x5bcf9e=await callAnalysisApi(_0x2fa1a9,_0x213bc0);displayClassAnalysis(_0x5bcf9e);}catch(_0x28b2ea){console['error'](_0x50c154(0x715),_0x28b2ea),_0x450d82[_0x50c154(0x8c4)]=_0x50c154(0x8f3)+_0x28b2ea[_0x50c154(0x5e6)]+_0x50c154(0xa97);}finally{document[_0x50c154(0x2f7)]('analyze-strengths-btn')[_0x50c154(0x687)]=![];}}function displayClassAnalysis(_0xbd3bfa){const _0x2c07bf=_0x121993,_0x350c6a=document[_0x2c07bf(0x2f7)](_0x2c07bf(0x55f));if(!_0xbd3bfa){_0x350c6a['innerHTML']=_0x2c07bf(0xd21);return;}_0x350c6a[_0x2c07bf(0x8c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbd3bfa[_0x2c07bf(0x517)][_0x2c07bf(0xce7)](_0x2aa92f=>_0x2c07bf(0xdcc)+_0x2aa92f+_0x2c07bf(0xafb))[_0x2c07bf(0x5c4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbd3bfa[_0x2c07bf(0x253)][_0x2c07bf(0xce7)](_0x366e8=>_0x2c07bf(0xdcc)+_0x366e8+_0x2c07bf(0xafb))[_0x2c07bf(0x5c4)]('')+_0x2c07bf(0xade)+_0xbd3bfa[_0x2c07bf(0x72b)][_0x2c07bf(0xce7)](_0x1216ed=>'<li>'+_0x1216ed+_0x2c07bf(0xafb))[_0x2c07bf(0x5c4)]('')+_0x2c07bf(0xda2);}function formatAndPrintWorksheet(_0x55fbe8,_0x3d4146){const _0x5632f2=_0x121993,_0x3d34a6=_0x5632f2(0x269)+_0x55fbe8[_0x5632f2(0x9ce)]+_0x5632f2(0xc21)+_0x55fbe8[_0x5632f2(0x9ce)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55fbe8[_0x5632f2(0xc33)][_0x5632f2(0xce7)]((_0x4dd346,_0x2baf6e)=>_0x5632f2(0x2b6)+(_0x2baf6e+0x1)+'.\x20'+_0x4dd346['questionText']+_0x5632f2(0x44c)+(_0x4dd346[_0x5632f2(0x426)]?_0x5632f2(0x387)+_0x4dd346[_0x5632f2(0x426)]+_0x5632f2(0x72e):'')+_0x5632f2(0x276))[_0x5632f2(0x5c4)]('')+_0x5632f2(0xd6f);_0x3d4146[_0x5632f2(0x31f)][_0x5632f2(0xd73)](_0x3d34a6),_0x3d4146[_0x5632f2(0x31f)][_0x5632f2(0xced)](),_0x3d4146[_0x5632f2(0x391)]=function(){setTimeout(()=>{const _0x3e6242=_0x32db;_0x3d4146[_0x3e6242(0xc74)]();},0x3e8);};}async function generateWorksheet(){const _0x79efb7=_0x121993,_0x1e2b48=document[_0x79efb7(0x2f7)](_0x79efb7(0x738))[_0x79efb7(0x5b6)]['trim']();if(!_0x1e2b48){showMessage(_0x79efb7(0x4e8));return;}const _0x37464f=document[_0x79efb7(0x2f7)]('force-math-checkbox')[_0x79efb7(0x28f)],_0x91c800=_0x37464f?'':_0x79efb7(0x2aa),_0x83e74e=window[_0x79efb7(0x598)]('',_0x79efb7(0x88b));_0x83e74e[_0x79efb7(0x31f)][_0x79efb7(0xd73)](_0x79efb7(0xbbd));const _0x2c5659=parseInt(document[_0x79efb7(0x2f7)](_0x79efb7(0xc07))[_0x79efb7(0x5b6)]),_0x39c622=document[_0x79efb7(0x2f7)](_0x79efb7(0x213))[_0x79efb7(0x28f)],_0x55104b=_0x39c622?_0x79efb7(0x5af):'',_0xa2acdc=_0x79efb7(0x875)+_0x91c800+_0x79efb7(0x371)+_0x2c5659+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x1e2b48+_0x79efb7(0x8bc)+_0x55104b+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x79efb7(0x4af),_0x4f10f9={'type':_0x79efb7(0xde6),'properties':{'topic':{'type':_0x79efb7(0xcd6)},'questions':{'type':'ARRAY','items':{'type':_0x79efb7(0xde6),'properties':{'questionText':{'type':_0x79efb7(0xcd6)},'imageCode':{'type':'STRING'}},'required':[_0x79efb7(0x41b)]}}},'required':[_0x79efb7(0x9ce),_0x79efb7(0xc33)]};document['getElementById'](_0x79efb7(0x488))[_0x79efb7(0xa28)]='',document[_0x79efb7(0x2f7)](_0x79efb7(0xd29))['classList'][_0x79efb7(0x2cf)](_0x79efb7(0xad0)),document[_0x79efb7(0x2f7)](_0x79efb7(0xb0d))[_0x79efb7(0x2ff)][_0x79efb7(0x2cf)](_0x79efb7(0xad0)),generateWorksheetBtn['disabled']=!![];try{const _0x3183c9=await callAnalysisApi(_0xa2acdc,_0x4f10f9);formatAndPrintWorksheet(_0x3183c9,_0x83e74e);}catch(_0x201ab2){console[_0x79efb7(0x274)](_0x79efb7(0x5bd),_0x201ab2);if(_0x83e74e)_0x83e74e[_0x79efb7(0xced)]();showMessage(_0x79efb7(0x3b0));}finally{document[_0x79efb7(0x2f7)](_0x79efb7(0xd29))[_0x79efb7(0x2ff)][_0x79efb7(0x30d)](_0x79efb7(0xad0)),document[_0x79efb7(0x2f7)](_0x79efb7(0xb0d))[_0x79efb7(0x2ff)][_0x79efb7(0x30d)](_0x79efb7(0xad0)),generateWorksheetBtn[_0x79efb7(0x687)]=![];}}async function callAnalysisApi(_0x50af48,_0x5f2116){const _0x2d632d=_0x121993,_0x2348ae={'contents':[{'role':_0x2d632d(0xb11),'parts':[{'text':_0x50af48}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x5f2116}},_0x1103e7=_0x2d632d(0xb53),_0x6992b9=_0x2d632d(0xc94)+_0x1103e7,_0x4419d4=await fetch(_0x6992b9,{'method':_0x2d632d(0x3a3),'headers':{'Content-Type':_0x2d632d(0x5fd)},'body':JSON[_0x2d632d(0xd68)](_0x2348ae)});if(!_0x4419d4['ok'])throw new Error(_0x2d632d(0x9f2)+_0x4419d4[_0x2d632d(0x2d4)]);const _0x4ab6af=await _0x4419d4['json']();if(_0x4ab6af[_0x2d632d(0xa06)]?.[0x0]?.[_0x2d632d(0x261)]?.['parts']?.[0x0])return JSON['parse'](_0x4ab6af[_0x2d632d(0xa06)][0x0][_0x2d632d(0x261)][_0x2d632d(0xb67)][0x0][_0x2d632d(0xc0b)]);else{let _0x74d630=_0x2d632d(0xc37);if(_0x4ab6af[_0x2d632d(0x299)]?.[_0x2d632d(0x79c)])_0x74d630=_0x2d632d(0x3bf)+_0x4ab6af[_0x2d632d(0x299)][_0x2d632d(0x79c)]+'.';else _0x4ab6af[_0x2d632d(0xa06)]?.[0x0]?.[_0x2d632d(0xa30)]&&_0x4ab6af['candidates'][0x0][_0x2d632d(0xa30)]!=='STOP'&&(_0x74d630='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x4ab6af[_0x2d632d(0xa06)][0x0][_0x2d632d(0xa30)]+'.');console[_0x2d632d(0x274)](_0x74d630,JSON[_0x2d632d(0xd68)](_0x4ab6af));throw new Error(_0x74d630);}}async function handleStartSyncMode(_0x197fa7,_0x4718b7=![],_0x356a5c=_0x121993(0xb7e)){const _0x452f0c=_0x121993,_0x37d8fe=allQuizzes[_0x452f0c(0x266)](_0x4935a7=>_0x4935a7['id']===_0x197fa7)||allQuizzesGlobal['find'](_0x569c88=>_0x569c88['id']===_0x197fa7);if(!_0x37d8fe){showMessage(_0x452f0c(0x377));return;}currentQuizData=getShuffledQuiz(_0x37d8fe);const _0x8623d2=Math[_0x452f0c(0x442)](0x3e8+Math[_0x452f0c(0x51e)]()*0x2328)[_0x452f0c(0x24c)](),_0x3b2fcc=doc(db,_0x452f0c(0x1da)+appId+_0x452f0c(0x9f0),_0x37d8fe[_0x452f0c(0xd51)]),_0x22b1eb=await getDoc(_0x3b2fcc);if(!_0x22b1eb[_0x452f0c(0x75c)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x39ea51=_0x22b1eb[_0x452f0c(0x72a)]()[_0x452f0c(0x559)]||[],_0x3311d8={};if(_0x356a5c===_0x452f0c(0x4bd)){const _0x3b5993=[...ANONYMOUS_NAMES][_0x452f0c(0x423)](()=>0.5-Math['random']());_0x39ea51[_0x452f0c(0x616)]((_0x3563e,_0x90b93a)=>{const _0x130b3d=_0x452f0c;_0x3311d8[_0x3563e]=_0x3b5993[_0x90b93a]||_0x130b3d(0x481)+(_0x90b93a+0x1);});}const _0x5c223f=document[_0x452f0c(0x2f7)](_0x452f0c(0x8fc))[_0x452f0c(0x28f)],_0x3f393e=parseInt(document['getElementById'](_0x452f0c(0xb43))['value'],0xa);let _0x5ce299={'timerMode':_0x452f0c(0x346),'timerDuration':0x0};_0x5c223f&&(_0x5ce299[_0x452f0c(0x789)]=_0x452f0c(0xa24),_0x5ce299[_0x452f0c(0x722)]=_0x3f393e||0xf0);try{const _0x53b69d=await addDoc(collection(db,_0x452f0c(0x1da)+appId+_0x452f0c(0xda1)),{'quizId':_0x37d8fe['id'],'pin':_0x8623d2,'status':_0x452f0c(0x6f3),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4718b7,'players':{},'gameVariant':_0x356a5c,'reviewQuestionIndex':0x0,'playerNicknames':_0x3311d8,'isAnonymousRevealed':![],..._0x5ce299});currentLiveGameId=_0x53b69d['id'],showView(_0x452f0c(0x40f)),renderSyncLobbyView(_0x8623d2,_0x37d8fe['topic']),listenForSyncGameUpdates();}catch(_0x439e41){console['error'](_0x452f0c(0x42b),_0x439e41),showMessage(_0x452f0c(0x1ce));}}function calculateFinalPodiumScores(_0x3c12c3){const _0x28e366=_0x121993;if(!_0x3c12c3||!_0x3c12c3[_0x28e366(0x926)]||!_0x3c12c3[_0x28e366(0x32a)])return _0x3c12c3[_0x28e366(0x32a)]||{};const _0x17aba1=_0x3c12c3[_0x28e366(0x926)][_0x28e366(0xc33)][_0x28e366(0x2b5)],_0xb65f44=JSON['parse'](JSON[_0x28e366(0xd68)](_0x3c12c3['players']));return Object[_0x28e366(0xe02)](_0xb65f44)[_0x28e366(0x616)](_0x51807d=>{const _0x1a8b82=_0x28e366,_0x50e510=_0x51807d[_0x1a8b82(0xbf1)];let _0x4afd57=_0x50e510,_0x38172=0x0;_0x3c12c3[_0x1a8b82(0xb49)]&&_0x51807d['answers']&&_0x51807d[_0x1a8b82(0x847)][_0x1a8b82(0x616)](_0x19ffb1=>{const _0x13d505=_0x1a8b82;if(_0x19ffb1[_0x13d505(0xd90)]&&(_0x19ffb1['wasConfident']===!![]||_0x19ffb1[_0x13d505(0xa5a)]===_0x13d505(0x2b0)))_0x38172+=0x1;else!_0x19ffb1[_0x13d505(0xd90)]&&(_0x19ffb1[_0x13d505(0xa5a)]===!![]||_0x19ffb1['wasConfident']==='confident')&&(_0x38172-=0x1);}),_0x4afd57+=_0x38172,_0x17aba1>0x0&&_0x50e510===_0x17aba1&&(_0x4afd57+=0x1,_0x51807d[_0x1a8b82(0x3a2)]=!![]),_0x51807d['score']=_0x4afd57;}),_0xb65f44;}function listenForSyncGameUpdates(){const _0x151d68=_0x121993;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2a7a42=doc(db,_0x151d68(0x1da)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2a7a42,_0x292e4e=>{const _0x3fcf2f=_0x151d68;if(!_0x292e4e[_0x3fcf2f(0x75c)]()){sessionStorage[_0x3fcf2f(0x37f)](_0x3fcf2f(0xe1b));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x3fcf2f(0x1e6));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x3fcf2f(0x6d3)):showView(_0x3fcf2f(0xc2d));return;}const _0x72908a=_0x292e4e[_0x3fcf2f(0x72a)]();currentMode===_0x3fcf2f(0x8fa)?updateAdminSyncView(_0x72908a):updateStudentSyncView(_0x72908a);});}function renderSyncLobbyView(_0x5c5e02,_0x5d1cc6){const _0x564364=_0x121993;liveGameView[_0x564364(0x8c4)]=_0x564364(0x591)+_0x5d1cc6+_0x564364(0x84c)+_0x5c5e02+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x5c1655=document['getElementById'](_0x564364(0xdaa)),_0x8da726=document[_0x564364(0x2f7)](_0x564364(0xa6e));_0x5c1655[_0x564364(0xdd3)](_0x564364(0x9af),()=>{const _0x3f9f3b=_0x564364;_0x8da726[_0x3f9f3b(0x259)][_0x3f9f3b(0x8aa)]=_0x5c1655['checked']?'block':_0x3f9f3b(0x346);}),document[_0x564364(0x2f7)]('start-sync-game-btn')[_0x564364(0xdd3)](_0x564364(0x754),async()=>{const _0x599601=_0x564364,_0x4dac9c=doc(db,_0x599601(0x1da)+appId+_0x599601(0xda1),currentLiveGameId),_0x19f77a=document[_0x599601(0x2f7)](_0x599601(0xdaa))[_0x599601(0x28f)];await updateDoc(_0x4dac9c,{'status':_0x599601(0xa75),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x19f77a});});}function updateAdminSyncView(_0x4fd223){const _0x3d3c9f=_0x121993;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x4fd223[_0x3d3c9f(0x2d4)]){case _0x3d3c9f(0x6f3):renderSyncLobbyView(_0x4fd223[_0x3d3c9f(0xd2f)],_0x4fd223['shuffledQuiz'][_0x3d3c9f(0x9ce)]);const _0x30d26d=Object[_0x3d3c9f(0x211)](_0x4fd223[_0x3d3c9f(0x32a)]||{})[_0x3d3c9f(0x9a7)](([_0x35ad1c,_0x53c8ab])=>_0x53c8ab[_0x3d3c9f(0x2d4)]!==_0x3d3c9f(0x251));document[_0x3d3c9f(0x2f7)](_0x3d3c9f(0x1ca))[_0x3d3c9f(0xa28)]=_0x30d26d[_0x3d3c9f(0x2b5)],document[_0x3d3c9f(0x2f7)]('player-list-lobby')[_0x3d3c9f(0x8c4)]=_0x30d26d[_0x3d3c9f(0xce7)](([_0x90fd47,_0x344faf])=>_0x3d3c9f(0xc2c)+_0x90fd47+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x90fd47+_0x3d3c9f(0xce6))[_0x3d3c9f(0x5c4)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x3d3c9f(0x2f7)](_0x3d3c9f(0x30b))[_0x3d3c9f(0x687)]=_0x30d26d[_0x3d3c9f(0x2b5)]===0x0;break;case _0x3d3c9f(0xa75):const _0x270948=Object[_0x3d3c9f(0xe02)](_0x4fd223[_0x3d3c9f(0x32a)]||{})[_0x3d3c9f(0x9a7)](_0x27aa91=>_0x27aa91[_0x3d3c9f(0x2d4)]!==_0x3d3c9f(0x251)),_0x108a7a=_0x270948[_0x3d3c9f(0x9a7)](_0x22852a=>_0x22852a[_0x3d3c9f(0x63d)])['length'],_0x2222f0=_0x108a7a===_0x270948[_0x3d3c9f(0x2b5)]&&_0x270948['length']>0x0;let _0x471ce6=![];if(_0x4fd223[_0x3d3c9f(0x789)]===_0x3d3c9f(0xa24)){if(!_0x4fd223['questionDisplayedAt']){console[_0x3d3c9f(0x92e)](_0x3d3c9f(0x807));return;}const _0x1015a1=_0x4fd223[_0x3d3c9f(0x705)][_0x3d3c9f(0xb84)]()['getTime'](),_0x641fea=_0x4fd223['timerDuration']*0x3e8,_0x4c4bff=_0x1015a1+_0x641fea,_0x1c4e08=_0x4c4bff-Date['now']();_0x1c4e08<=0x0&&(_0x471ce6=!![]);}if((_0x2222f0||_0x471ce6)&&_0x4fd223[_0x3d3c9f(0x2d4)]===_0x3d3c9f(0xa75)){if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);const _0x1e4491=doc(db,_0x3d3c9f(0x1da)+appId+_0x3d3c9f(0xda1),currentLiveGameId),_0x49d108=_0x4fd223['gameVariant']||_0x3d3c9f(0xb7e);_0x49d108===_0x3d3c9f(0x4bd)||_0x49d108===_0x3d3c9f(0x3af)?updateDoc(_0x1e4491,{'status':_0x3d3c9f(0xb2b)}):updateDoc(_0x1e4491,{'status':_0x3d3c9f(0xd8a)});return;}if(document[_0x3d3c9f(0x2f7)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x4fd223);else{const _0x2c367b=document[_0x3d3c9f(0x2f7)](_0x3d3c9f(0x8c9));_0x2c367b&&(_0x2c367b[_0x3d3c9f(0xa28)]=_0x108a7a+'/'+_0x270948[_0x3d3c9f(0x2b5)]);const _0x5a1403=document[_0x3d3c9f(0x2f7)](_0x3d3c9f(0x3a5));_0x5a1403&&(_0x5a1403[_0x3d3c9f(0x8c4)]=_0x270948[_0x3d3c9f(0xce7)](_0x3816c6=>{const _0x476967=_0x3d3c9f,_0x13e1a2=_0x3816c6[_0x476967(0x63d)]?_0x476967(0x38c):'bg-gray-500',_0x2592ae=_0x3816c6[_0x476967(0x63d)]?_0x476967(0xbac):_0x476967(0x311);return _0x476967(0xa0e)+_0x13e1a2+_0x476967(0x570)+_0x2592ae+_0x476967(0xa86)+_0x3816c6['name']+_0x476967(0x960)+_0x3816c6[_0x476967(0xa7e)]+_0x476967(0x9b9);})[_0x3d3c9f(0x5c4)](''));}if(_0x4fd223[_0x3d3c9f(0x789)]===_0x3d3c9f(0xa24)&&!_0x471ce6){const _0x42566c=_0x4fd223[_0x3d3c9f(0x705)][_0x3d3c9f(0xb84)]()[_0x3d3c9f(0x681)](),_0x26bfdb=_0x4fd223['timerDuration']*0x3e8,_0x1492ec=_0x42566c+_0x26bfdb;syncQuestionTimerInterval=setInterval(()=>{const _0x265b76=_0x3d3c9f,_0x5481cf=_0x1492ec-Date[_0x265b76(0x2a6)](),_0x459c82=document[_0x265b76(0x2f7)](_0x265b76(0x2be)),_0x346e51=document[_0x265b76(0x2f7)](_0x265b76(0x7bd));if(_0x5481cf<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x459c82)_0x459c82[_0x265b76(0x259)][_0x265b76(0xa61)]='0%';if(_0x346e51)_0x346e51[_0x265b76(0xa28)]='0';const _0x333ac1=doc(db,_0x265b76(0x1da)+appId+_0x265b76(0xda1),currentLiveGameId),_0x162203=_0x4fd223[_0x265b76(0x37a)]||'classic';_0x162203==='anonymous'||_0x162203===_0x265b76(0x3af)?updateDoc(_0x333ac1,{'status':'results'}):updateDoc(_0x333ac1,{'status':_0x265b76(0xd8a)});}else{if(_0x459c82&&_0x346e51){const _0x35dcea=_0x5481cf/_0x26bfdb*0x64;_0x459c82['style']['width']=_0x35dcea+'%',_0x346e51[_0x265b76(0xa28)]=Math[_0x265b76(0x88a)](_0x5481cf/0x3e8);}}},0x1f4);}break;case'summary':const _0xdbe77e=_0x4fd223['currentQuestionIndex'],_0x15ea5f=_0x4fd223[_0x3d3c9f(0x926)][_0x3d3c9f(0xc33)][_0xdbe77e];renderSyncSummaryView(_0x4fd223,_0x15ea5f,!![]);break;case _0x3d3c9f(0xb2b):const _0x24e11f=_0x4fd223[_0x3d3c9f(0x37a)]||'classic';_0x24e11f===_0x3d3c9f(0x55d)?renderAdminSyncDashboard(_0x4fd223,!![],_0x4fd223[_0x3d3c9f(0x82d)]):renderAdminSyncDashboard(_0x4fd223,!![],_0x4fd223[_0x3d3c9f(0x21d)]);break;case _0x3d3c9f(0xb3b):_0x4fd223[_0x3d3c9f(0x604)]&&saveGameResultsAsSubmissions(_0x4fd223);sessionStorage[_0x3d3c9f(0x37f)](_0x3d3c9f(0xe1b));const _0x305c41=calculateFinalPodiumScores(_0x4fd223);showPodiumView(_0x305c41,'sync');break;}}function renderAdminSyncQuestionView(_0x1e1035){const _0x58d251=_0x121993,_0x971724=_0x1e1035['currentQuestionIndex'],_0x2b56f6=_0x1e1035['shuffledQuiz'][_0x58d251(0xc33)][_0x971724],_0x2e1b1d=_0x1e1035[_0x58d251(0x926)][_0x58d251(0xc33)][_0x58d251(0x2b5)],_0x1d68f5=Object[_0x58d251(0xe02)](_0x1e1035[_0x58d251(0x32a)]||{})['filter'](_0x2574d6=>_0x2574d6[_0x58d251(0x2d4)]!==_0x58d251(0x251)),_0x495ada=_0x1d68f5[_0x58d251(0x9a7)](_0x36432f=>_0x36432f[_0x58d251(0x63d)])[_0x58d251(0x2b5)],_0x33a57f=_0x495ada===_0x1d68f5[_0x58d251(0x2b5)]&&_0x1d68f5[_0x58d251(0x2b5)]>0x0,_0x282c7e=(_0x2b56f6[_0x58d251(0x450)]||[])[_0x58d251(0xce7)](_0x17f2f5=>_0x58d251(0x60a)+_0x17f2f5+_0x58d251(0x72e))['join']('');let _0x49fcc2='';_0x1e1035[_0x58d251(0x789)]===_0x58d251(0xa24)&&(_0x49fcc2=_0x58d251(0x843)+_0x1e1035[_0x58d251(0x722)]+_0x58d251(0xb41));liveGameView[_0x58d251(0x8c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x971724+0x1)+_0x58d251(0xd43)+_0x2e1b1d+_0x58d251(0x27e)+_0x1e1035['pin']+_0x58d251(0x357)+_0x495ada+'/'+_0x1d68f5[_0x58d251(0x2b5)]+_0x58d251(0x6bd)+_0x49fcc2+'\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x2b56f6[_0x58d251(0x41b)]+_0x58d251(0x623)+_0x282c7e+_0x58d251(0x454)+(!_0x33a57f?_0x58d251(0x687):'')+_0x58d251(0x365);if(window['MathJax'])MathJax['typesetPromise']();document[_0x58d251(0x2f7)](_0x58d251(0x74e))[_0x58d251(0xdd3)](_0x58d251(0x754),async()=>{const _0x4323df=_0x58d251,_0x30bcbb=doc(db,_0x4323df(0x1da)+appId+_0x4323df(0xda1),currentLiveGameId);await updateDoc(_0x30bcbb,{'status':_0x4323df(0xd8a)});}),document[_0x58d251(0x2f7)]('open-sync-scratchpad-btn')[_0x58d251(0x717)]=()=>{const _0x266b65=_0x58d251;openScratchpad(_0x2b56f6,_0x2b56f6[_0x266b65(0x450)]||[]);},document[_0x58d251(0x2f7)](_0x58d251(0x85f))['addEventListener'](_0x58d251(0x754),()=>{const _0x241439=_0x58d251;document[_0x241439(0x2f7)](_0x241439(0x816))['classList'][_0x241439(0x65e)](_0x241439(0xad0));});const _0x4384af=document[_0x58d251(0x2f7)]('end-sync-game-btn');_0x4384af&&(_0x4384af[_0x58d251(0x717)]=()=>{const _0x245c1b=_0x58d251;showConfirmation(_0x245c1b(0x9d7),async()=>{const _0x74a9d8=_0x245c1b,_0x2b7505=doc(db,_0x74a9d8(0x1da)+appId+_0x74a9d8(0xda1),currentLiveGameId);await updateDoc(_0x2b7505,{'status':'podium'});});});}function renderSyncLeaderboardView(_0x26993e,_0x191a3f){const _0xd91ffe=_0x121993,_0x221b52=Object[_0xd91ffe(0xe02)](_0x26993e[_0xd91ffe(0x32a)]||{});_0x221b52[_0xd91ffe(0x423)]((_0x5c8e25,_0x30da96)=>_0x30da96['score']-_0x5c8e25[_0xd91ffe(0xbf1)]);const _0x5d3145=_0x221b52[_0xd91ffe(0x7bc)](0x0,0x5);let _0x30b7f8='';if(_0x191a3f){const _0x4129b3=_0x26993e['currentQuestionIndex']>=_0x26993e[_0xd91ffe(0x926)][_0xd91ffe(0xc33)][_0xd91ffe(0x2b5)]-0x1;_0x30b7f8=_0xd91ffe(0x367)+(_0x4129b3?_0xd91ffe(0x492):_0xd91ffe(0x49d))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x30b7f8=_0xd91ffe(0x54f);liveGameView[_0xd91ffe(0x8c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x5d3145[_0xd91ffe(0xce7)]((_0x16143f,_0x599c6b)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x599c6b+0x1)+'.\x20'+_0x16143f['name']+_0xd91ffe(0x99a)+_0x16143f[_0xd91ffe(0xbf1)]+_0xd91ffe(0x713))[_0xd91ffe(0x5c4)]('')+_0xd91ffe(0x93c)+_0x30b7f8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x191a3f&&document[_0xd91ffe(0x2f7)](_0xd91ffe(0xcdc))[_0xd91ffe(0xdd3)](_0xd91ffe(0x754),async()=>{const _0x30546a=_0xd91ffe,_0x5db333=doc(db,_0x30546a(0x1da)+appId+_0x30546a(0xda1),currentLiveGameId),_0x3508e4=_0x26993e[_0x30546a(0x21d)]+0x1;if(_0x3508e4<_0x26993e[_0x30546a(0x926)][_0x30546a(0xc33)][_0x30546a(0x2b5)]){const _0x59f6fe={};Object['keys'](_0x26993e[_0x30546a(0x32a)])[_0x30546a(0x616)](_0x4f087b=>{const _0x326d6b=_0x30546a;_0x59f6fe[_0x326d6b(0x3d1)+_0x4f087b+_0x326d6b(0x271)]=![];}),await updateDoc(_0x5db333,{..._0x59f6fe,'status':_0x30546a(0xa75),'currentQuestionIndex':_0x3508e4,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5db333,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x51afd6=_0x121993,_0xacb219=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0xacb219||_0xacb219[_0x51afd6(0xe11)]()[_0x51afd6(0x2b5)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x31fd9d=collection(db,_0x51afd6(0x1da)+appId+_0x51afd6(0xda1)),_0x20c23c=query(_0x31fd9d,where('pin','==',_0xacb219[_0x51afd6(0xe11)]()),where(_0x51afd6(0x2d4),'==',_0x51afd6(0x6f3))),_0x357482=await getDocs(_0x20c23c);if(_0x357482[_0x51afd6(0xc89)]){showMessage(_0x51afd6(0x418));return;}const _0x384446=_0x357482['docs'][0x0];currentLiveGameId=_0x384446['id'];const _0xc20ac8=_0x384446[_0x51afd6(0x72a)](),_0x47a2ac=doc(db,_0x51afd6(0x1da)+appId+'/public/data/quizzes',_0xc20ac8[_0x51afd6(0xb99)]),_0x4be04c=await getDoc(_0x47a2ac);if(!_0x4be04c[_0x51afd6(0x75c)]())throw new Error(_0x51afd6(0x6ae));const _0x514855=_0x4be04c[_0x51afd6(0x72a)](),_0x2356a7=doc(db,'artifacts/'+appId+'/public/data/projects',_0x514855[_0x51afd6(0xd51)]),_0x4b7472=await getDoc(_0x2356a7);if(!_0x4b7472[_0x51afd6(0x75c)]())throw new Error(_0x51afd6(0x5a6));currentQuizData=_0xc20ac8['shuffledQuiz'];const _0x127e6e=_0x4b7472[_0x51afd6(0x72a)]();showView(_0x51afd6(0x5ba)),showTeamPlayerSelection(_0x127e6e[_0x51afd6(0x559)],_0x514855[_0x51afd6(0x9ce)]);const _0x1819ec=document[_0x51afd6(0x2f7)]('confirm-team-players-btn');_0x1819ec[_0x51afd6(0x717)]=confirmAndJoinSyncGame;}catch(_0x75714c){console[_0x51afd6(0x274)](_0x51afd6(0x861),_0x75714c),showMessage(_0x51afd6(0x663)+_0x75714c['message']);}}function updateStudentSyncView(_0x1dd25e){const _0x5801d6=_0x121993,_0x365632=_0x1dd25e['players'][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x1dd25e['status']){case'lobby':showView(_0x5801d6(0x40f)),liveGameView[_0x5801d6(0x8c4)]=_0x5801d6(0x1cc);break;case _0x5801d6(0xa75):localPlayerTurnIndex=0x0;const _0x1d7260=localTeamPlayers[_0x5801d6(0x76d)](_0x17431d=>_0x1dd25e[_0x5801d6(0x32a)][_0x17431d]?.[_0x5801d6(0x63d)]===!![]);if(_0x1d7260)liveGameView[_0x5801d6(0x8c4)]=_0x5801d6(0x29a);else{renderStudentSyncQuestionView(_0x1dd25e);if(_0x1dd25e[_0x5801d6(0x789)]===_0x5801d6(0xa24)){if(!_0x1dd25e[_0x5801d6(0x705)]){console[_0x5801d6(0x92e)](_0x5801d6(0x807));return;}const _0x3777ed=_0x1dd25e[_0x5801d6(0x705)][_0x5801d6(0xb84)]()['getTime'](),_0x17269c=_0x1dd25e['timerDuration']*0x3e8,_0x34b10b=_0x3777ed+_0x17269c;syncQuestionTimerInterval=setInterval(()=>{const _0x2564aa=_0x5801d6,_0x583316=_0x34b10b-Date[_0x2564aa(0x2a6)](),_0x2e484a=document[_0x2564aa(0x2f7)](_0x2564aa(0x2be)),_0x3eaf57=document[_0x2564aa(0x2f7)](_0x2564aa(0x7bd));if(_0x583316<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x2e484a)_0x2e484a[_0x2564aa(0x259)][_0x2564aa(0xa61)]='0%';if(_0x3eaf57)_0x3eaf57[_0x2564aa(0xa28)]='0';liveGameView[_0x2564aa(0x8c4)]=_0x2564aa(0x3e0);}else{if(_0x2e484a&&_0x3eaf57){const _0x19b2b0=_0x583316/_0x17269c*0x64;_0x2e484a['style'][_0x2564aa(0xa61)]=_0x19b2b0+'%',_0x3eaf57[_0x2564aa(0xa28)]=Math[_0x2564aa(0x88a)](_0x583316/0x3e8);}}},0x1f4);}}break;case _0x5801d6(0xd8a):liveGameView[_0x5801d6(0x8c4)]=_0x5801d6(0x4e4);break;case _0x5801d6(0xb2b):localPlayerTurnIndex=0x0;const _0x53aa7a=_0x1dd25e[_0x5801d6(0x37a)]||_0x5801d6(0xb7e);if(_0x53aa7a===_0x5801d6(0x55d))renderAdminSyncDashboard(_0x1dd25e,![],_0x1dd25e[_0x5801d6(0x82d)]);else _0x53aa7a===_0x5801d6(0x4bd)||_0x53aa7a===_0x5801d6(0x3af)?renderAdminSyncDashboard(_0x1dd25e,![],_0x1dd25e['currentQuestionIndex']):renderStudentSyncResultsView(_0x1dd25e);break;case _0x5801d6(0xb3b):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x5801d6(0x223)](_0x5801d6(0x6a3),handleFullscreenChange),document[_0x5801d6(0x223)](_0x5801d6(0x500),handleVisibilityChange),sessionStorage[_0x5801d6(0x37f)]('myAnonymousNickname'),sessionStorage['removeItem'](_0x5801d6(0xe1b));const _0x3b6029=calculateFinalPodiumScores(_0x1dd25e);showPodiumView(_0x3b6029,_0x5801d6(0x6a7));break;}}function renderStudentSyncResultsView(_0x1050d1){const _0x11ecd3=_0x121993,_0x398404=localTeamPlayers[_0x11ecd3(0xce7)](_0x50486c=>_0x1050d1[_0x11ecd3(0x32a)][_0x50486c])['filter'](Boolean);_0x398404[_0x11ecd3(0x423)]((_0x3b5335,_0x4f3110)=>(_0x4f3110[_0x11ecd3(0xbf1)]||0x0)-(_0x3b5335['score']||0x0));const _0x194d49=_0x1050d1[_0x11ecd3(0x37a)]||_0x11ecd3(0xb7e),_0x1416cc=_0x1050d1[_0x11ecd3(0x926)]['questions'];let _0x2ae2e1='';if(_0x194d49==='reveal_at_end'){const _0x2805f4=_0x1050d1['reviewQuestionIndex']>=_0x1416cc[_0x11ecd3(0x2b5)]-0x1;_0x2805f4?_0x2ae2e1='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x2ae2e1=_0x11ecd3(0x531);}else{const _0x36cbfe=_0x1050d1[_0x11ecd3(0x21d)]>=_0x1416cc[_0x11ecd3(0x2b5)]-0x1;_0x36cbfe?_0x2ae2e1=_0x11ecd3(0x49e):_0x2ae2e1=_0x11ecd3(0x51f);}const _0x5d3df6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x398404[_0x11ecd3(0xce7)]((_0x1c516f,_0x5550ad)=>_0x11ecd3(0x7e7)+(_0x5550ad+0x1)+_0x11ecd3(0x6c0)+_0x1c516f[_0x11ecd3(0xa7e)]+_0x11ecd3(0xb62)+_0x1c516f[_0x11ecd3(0xbf1)]+_0x11ecd3(0xd16))[_0x11ecd3(0x5c4)]('')+_0x11ecd3(0x66c)+_0x2ae2e1+_0x11ecd3(0x4e9);liveGameView[_0x11ecd3(0x8c4)]=_0x5d3df6;}function renderStudentSyncQuestionView(_0xbf00fc){const _0x59c458=_0x121993,_0x548482=localTeamPlayers['find'](_0x38c1f4=>_0xbf00fc['players'][_0x38c1f4]&&_0xbf00fc['players'][_0x38c1f4][_0x59c458(0x63d)]===![]);if(!_0x548482){console[_0x59c458(0x92e)](_0x59c458(0xac8));return;}const _0x41124f=_0xbf00fc[_0x59c458(0x21d)],_0x2352a3=_0xbf00fc['shuffledQuiz'][_0x59c458(0xc33)][_0x59c458(0x2b5)],_0x18d615=_0xbf00fc[_0x59c458(0x926)]['questions'][_0x41124f],_0x22a2e6=_0x18d615['questionType']||_0xbf00fc[_0x59c458(0x926)][_0x59c458(0x4d2)];let _0x3fe4aa='',_0x3b79ff=![];switch(_0x22a2e6){case _0x59c458(0x668):_0x3fe4aa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x59c458(0x2bc):case _0x59c458(0x32f):_0x3b79ff=!![],_0x3fe4aa=_0x59c458(0x66e);break;case _0x59c458(0x5f5):_0x3b79ff=!![],_0x3fe4aa=_0x59c458(0x245)+(_0x18d615[_0x59c458(0x711)]||[])[_0x59c458(0xce7)](_0x44e73e=>_0x59c458(0xc7d)+_0x44e73e+'\x22>'+_0x44e73e+_0x59c458(0xbc5))[_0x59c458(0x5c4)]('')+_0x59c458(0x708);break;case _0x59c458(0xc3f):default:_0x3fe4aa=(_0x18d615[_0x59c458(0x450)]||[])['map']((_0x11a69c,_0x455333)=>_0x59c458(0xdc2)+_0x455333+_0x59c458(0xd6e)+_0x11a69c+_0x59c458(0x273))[_0x59c458(0x5c4)]('');break;}let _0x4919c3='';_0xbf00fc[_0x59c458(0x789)]===_0x59c458(0xa24)&&(_0x4919c3=_0x59c458(0x843)+_0xbf00fc['timerDuration']+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x59c458(0x8c4)]=_0x59c458(0x932)+(_0x41124f+0x1)+_0x59c458(0xd43)+_0x2352a3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x548482+_0x59c458(0x7ef)+_0x4919c3+_0x59c458(0x805)+(_0x18d615['questionText']||_0x18d615[_0x59c458(0x859)])+_0x59c458(0x623)+_0x3fe4aa+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window['MathJax'])MathJax[_0x59c458(0xe06)]();function _0x36b88e(_0x109f64,_0x2a7934,_0x5d2754,_0x5355c6){const _0x1b0792=_0x59c458,_0x3b3c91=_0x5d2754['isConfidenceScoringEnabled']===!![];if(_0x3b3c91){document[_0x1b0792(0x2f7)]('confidence-modal')[_0x1b0792(0x683)]['currentMode']=_0x1b0792(0x6a7);const _0x458647=document['getElementById'](_0x1b0792(0x5f3));_0x458647['dataset'][_0x1b0792(0xbe5)]=_0x109f64,_0x458647[_0x1b0792(0x683)][_0x1b0792(0xa75)]=JSON['stringify'](_0x2a7934),_0x458647[_0x1b0792(0x683)][_0x1b0792(0x2ec)]=JSON[_0x1b0792(0xd68)](_0x5d2754),_0x458647[_0x1b0792(0x683)][_0x1b0792(0x682)]=_0x5355c6,document[_0x1b0792(0x2f7)](_0x1b0792(0x8b9))[_0x1b0792(0x2ff)][_0x1b0792(0x2cf)](_0x1b0792(0xad0));}else handleSyncAnswerSubmit(_0x109f64,_0x2a7934,_0x5d2754,_0x5355c6,![]);}_0x3b79ff?document[_0x59c458(0x2f7)]('sync-submit-btn')[_0x59c458(0xdd3)](_0x59c458(0x754),()=>{const _0xa21602=_0x59c458,_0x573bd2=document[_0xa21602(0x2f7)](_0xa21602(0xbb9))||document[_0xa21602(0x2f7)](_0xa21602(0x23c));if(_0x573bd2[_0xa21602(0x5b6)]['trim']()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x36b88e(_0x573bd2[_0xa21602(0x5b6)],_0x18d615,_0xbf00fc,_0x548482);}):document['querySelectorAll'](_0x59c458(0x2c1))['forEach'](_0x8efce1=>{const _0x1bb9b9=_0x59c458;_0x8efce1[_0x1bb9b9(0xdd3)](_0x1bb9b9(0x754),()=>{const _0x145681=_0x1bb9b9;_0x36b88e(_0x8efce1[_0x145681(0x683)]['value'],_0x18d615,_0xbf00fc,_0x548482);});});}async function handleSyncAnswerSubmit(_0x162311,_0x4c0bdd,_0x1ac845,_0x5e0f13,_0x3f5ba6){const _0x5a29cc=_0x121993;document['querySelectorAll'](_0x5a29cc(0xce4))[_0x5a29cc(0x616)](_0x87f7d5=>_0x87f7d5[_0x5a29cc(0x687)]=!![]);const _0x1d3323=_0x4c0bdd[_0x5a29cc(0x5ac)]||_0x1ac845[_0x5a29cc(0x926)]['quizType'];let _0x43c92f=![],_0x53884b=_0x162311;switch(_0x1d3323){case _0x5a29cc(0x668):const _0x13a8bb=parseInt(_0x162311),_0x490f34=_0x4c0bdd[_0x5a29cc(0x836)]===!![]||String(_0x4c0bdd[_0x5a29cc(0x836)])[_0x5a29cc(0xcfa)]()===_0x5a29cc(0xc10);_0x43c92f=_0x13a8bb===0x0&&_0x490f34||_0x13a8bb===0x1&&!_0x490f34,_0x53884b=_0x13a8bb===0x0?_0x5a29cc(0x824):'ไม่ใช่\x20/\x20ผิด';break;case _0x5a29cc(0x2bc):case _0x5a29cc(0x32f):_0x43c92f=await gradeShortAnswer(_0x162311,_0x4c0bdd);break;case _0x5a29cc(0x5f5):_0x43c92f=_0x162311===_0x4c0bdd[_0x5a29cc(0xa17)];break;case'multiple_choice':default:const _0x3819f7=parseInt(_0x162311);_0x43c92f=_0x3819f7===_0x4c0bdd[_0x5a29cc(0xc9f)];_0x4c0bdd[_0x5a29cc(0x450)]&&_0x4c0bdd[_0x5a29cc(0x450)][_0x3819f7]&&(_0x53884b=_0x4c0bdd[_0x5a29cc(0x450)][_0x3819f7]);break;}const _0x4f56a5=doc(db,'artifacts/'+appId+_0x5a29cc(0xda1),currentLiveGameId),_0x55c0dd={},_0x3c6ecc=_0x1ac845[_0x5a29cc(0x32a)][_0x5e0f13]?.['answers']||[],_0x1251ac={'questionIndex':_0x1ac845[_0x5a29cc(0x21d)],'questionId':_0x4c0bdd['id'],'answer':_0x162311,'answerText':_0x53884b,'isCorrect':_0x43c92f,'originalQuestionText':_0x4c0bdd[_0x5a29cc(0x41b)]||_0x4c0bdd['stem'],'wasConfident':_0x3f5ba6},_0x15c94d=_0x3c6ecc[_0x5a29cc(0x9a7)](_0x860e78=>_0x860e78[_0x5a29cc(0x51a)]!==_0x1ac845[_0x5a29cc(0x21d)]),_0x81afa5=[..._0x15c94d,_0x1251ac],_0x328b43=_0x81afa5['filter'](_0x513919=>_0x513919['isCorrect'])[_0x5a29cc(0x2b5)];_0x55c0dd[_0x5a29cc(0x3d1)+_0x5e0f13+'.answers']=_0x81afa5,_0x55c0dd[_0x5a29cc(0x3d1)+_0x5e0f13+_0x5a29cc(0xc82)]=_0x328b43,_0x55c0dd[_0x5a29cc(0x3d1)+_0x5e0f13+_0x5a29cc(0x271)]=!![];let _0x4c4903=null;(_0x1d3323===_0x5a29cc(0xc3f)||_0x1d3323===_0x5a29cc(0x668)||_0x1d3323===_0x5a29cc(0x419))&&(_0x4c4903=parseInt(_0x162311)),_0x55c0dd[_0x5a29cc(0x3d1)+_0x5e0f13+'.lastAnswerIndex']=_0x4c4903,await updateDoc(_0x4f56a5,_0x55c0dd);}initialize();
