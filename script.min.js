const _0x26020e=_0x48bc;(function(_0x508e95,_0x517367){const _0x3035c4=_0x48bc,_0x201fe8=_0x508e95();while(!![]){try{const _0x55617d=parseInt(_0x3035c4(0x9d7))/0x1*(-parseInt(_0x3035c4(0x8ff))/0x2)+-parseInt(_0x3035c4(0xa3c))/0x3+parseInt(_0x3035c4(0x5f4))/0x4+-parseInt(_0x3035c4(0xcbf))/0x5*(-parseInt(_0x3035c4(0xadf))/0x6)+parseInt(_0x3035c4(0x41e))/0x7*(parseInt(_0x3035c4(0x9f3))/0x8)+-parseInt(_0x3035c4(0x22f))/0x9+parseInt(_0x3035c4(0xade))/0xa*(parseInt(_0x3035c4(0xaa9))/0xb);if(_0x55617d===_0x517367)break;else _0x201fe8['push'](_0x201fe8['shift']());}catch(_0x406cc7){_0x201fe8['push'](_0x201fe8['shift']());}}}(_0x421b,0x57372));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x26020e(0x3bc),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x17b1d8=_0x26020e;if('wakeLock'in navigator)try{wakeLock=await navigator['wakeLock'][_0x17b1d8(0xa98)](_0x17b1d8(0x5cb)),console[_0x17b1d8(0x824)](_0x17b1d8(0x75c)),wakeLock[_0x17b1d8(0xb41)](_0x17b1d8(0x459),()=>{const _0x23756f=_0x17b1d8;console['log'](_0x23756f(0x1f8));});}catch(_0x4a5f6a){console[_0x17b1d8(0x2fe)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x4a5f6a['name']+',\x20'+_0x4a5f6a[_0x17b1d8(0x9d4)]);}else console[_0x17b1d8(0x4fe)](_0x17b1d8(0x38a));},releaseWakeLock=async()=>{const _0x11c9d3=_0x26020e;wakeLock!==null&&(await wakeLock[_0x11c9d3(0x459)](),wakeLock=null,console[_0x11c9d3(0x824)](_0x11c9d3(0xad3)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x20ce1f=_0x26020e;if(dimTimer)clearTimeout(dimTimer);document[_0x20ce1f(0x859)][_0x20ce1f(0xab0)]['remove']('dimmed'),dimTimer=setTimeout(()=>{const _0x41ece6=_0x20ce1f;document['body']['classList'][_0x41ece6(0x75b)](_0x41ece6(0x2da)),console['log'](_0x41ece6(0xb4d));},inactivityTime);}function stopDimTimer(){const _0x169795=_0x26020e;if(dimTimer)clearTimeout(dimTimer);document[_0x169795(0x859)][_0x169795(0xab0)][_0x169795(0x48e)](_0x169795(0x2da)),window[_0x169795(0x50b)](_0x169795(0x8bd),resetDimTimer),window[_0x169795(0x50b)](_0x169795(0xbf2),resetDimTimer),window[_0x169795(0x50b)](_0x169795(0x2bb),resetDimTimer),window[_0x169795(0x50b)]('keydown',resetDimTimer),console[_0x169795(0x824)](_0x169795(0xbec));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x849eef,_0x33b215=![]){const _0x28b448=_0x26020e,_0xe62caa=allQuizzes[_0x28b448(0x2ba)](_0x45cdd5=>_0x45cdd5['id']===_0x849eef)||allQuizzesGlobal[_0x28b448(0x2ba)](_0x330733=>_0x330733['id']===_0x849eef);if(!_0xe62caa){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0xe62caa);const _0x4cf38a=Math[_0x28b448(0x513)](0x3e8+Math[_0x28b448(0x522)]()*0x2328)['toString']();try{const _0x835c83=await addDoc(collection(db,_0x28b448(0xc3e)+appId+_0x28b448(0x9ca)),{'quizId':_0xe62caa['id'],'projectId':_0xe62caa['projectId'],'status':_0x28b448(0x34d),'pin':_0x4cf38a,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x33b215});currentTeamQuizId=_0x835c83['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4cf38a,_0xe62caa['topic']),listenForTeamQuizUpdates();}catch(_0x470fd5){console[_0x28b448(0x2fe)](_0x28b448(0x929),_0x470fd5),showMessage(_0x28b448(0x791));}}function renderAdminTeamQuizDashboard(_0x236c92,_0x3e240f,_0x5b719e='team'){const _0x4c582b=_0x26020e,_0x4c7502=_0x5b719e===_0x4c582b(0x261)?_0x4c582b(0x559):_0x4c582b(0x856);liveGameView['innerHTML']=_0x4c582b(0xc30)+_0x4c7502+':\x20'+_0x3e240f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x236c92+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x4c582b(0x44e)](_0x4c582b(0xc72))['addEventListener'](_0x4c582b(0x560),async()=>{const _0x5873dd=_0x4c582b;showConfirmation(_0x5873dd(0xa9c),async()=>{const _0x2d3e9a=_0x5873dd;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x2d3e9a(0xc3e)+appId+_0x2d3e9a(0x9ca),currentTeamQuizId)),showView(_0x2d3e9a(0xb15));});});}function listenForTeamQuizUpdates(){const _0x3db806=_0x26020e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x5071c4=doc(db,_0x3db806(0xc3e)+appId+_0x3db806(0x9ca),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x5071c4,_0x200da2=>{const _0x24b8e7=_0x3db806;if(!_0x200da2[_0x24b8e7(0xd0a)]()){sessionStorage[_0x24b8e7(0x30a)](_0x24b8e7(0x3ff));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x24b8e7(0x727));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x24b8e7(0x713)?showView(_0x24b8e7(0xb15)):showView(_0x24b8e7(0x62d));return;}const _0x43e810=_0x200da2[_0x24b8e7(0xb97)]();if(currentMode===_0x24b8e7(0x713)){if(_0x43e810[_0x24b8e7(0x8eb)]===_0x24b8e7(0x261)&&_0x43e810['status']!==_0x24b8e7(0xa1b)&&_0x43e810['status']!==_0x24b8e7(0x6b0)){const _0x2c7b48=Object[_0x24b8e7(0x20d)](_0x43e810[_0x24b8e7(0x4f2)]||{});if(_0x2c7b48[_0x24b8e7(0x73e)]>0x0){const _0x1ea133=_0x2c7b48[_0x24b8e7(0xa08)](_0x2f5d2c=>_0x2f5d2c['isFinished']===!![]);_0x1ea133&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x43e810);}else{if(_0x43e810[_0x24b8e7(0x8b8)]===_0x24b8e7(0xa1b)||_0x43e810['status']==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x43e810['mode']==='group'){const _0x4936c9=_0x43e810[_0x24b8e7(0x4f2)][userId];(!_0x4936c9||!_0x4936c9[_0x24b8e7(0x315)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x2e4b71){const _0x423377=_0x26020e;console[_0x423377(0x824)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x3b9dab=doc(db,_0x423377(0xc3e)+appId+_0x423377(0x9ca),_0x2e4b71);try{const _0x5db38a=await getDoc(_0x3b9dab);if(_0x5db38a[_0x423377(0xd0a)]()){const _0x14155c=_0x5db38a[_0x423377(0xb97)]();_0x14155c[_0x423377(0x977)]&&await saveGameResultsAsSubmissions(_0x14155c);}await updateDoc(_0x3b9dab,{'status':_0x423377(0xa1b)});}catch(_0x49426f){console[_0x423377(0x2fe)](_0x423377(0x296),_0x49426f);}}function updateAdminTeamDashboard(_0xe6a6fc){const _0xbeeef=_0x26020e,_0x2e9e70=document['getElementById'](_0xbeeef(0x566));if(!_0x2e9e70)return;const _0x3e5b5c=_0xe6a6fc['mode']||_0xbeeef(0xb0b),_0xc2719f=currentQuizData['questions'][_0xbeeef(0x73e)];if(_0x3e5b5c==='group'){const _0x423305=Object[_0xbeeef(0x20d)](_0xe6a6fc['groups']||{});if(_0x423305[_0xbeeef(0x73e)]===0x0){_0x2e9e70[_0xbeeef(0x4c4)]=_0xbeeef(0x1f6);return;}const _0x3013d7=[..._0x423305]['sort']((_0x4e7c96,_0x5395de)=>_0x5395de['score']-_0x4e7c96['score']),_0x12a486=_0x3013d7[_0xbeeef(0xd0b)]((_0xb08225,_0x2fcc7d)=>{const _0xcd538b=_0xbeeef,_0x3f55eb=_0xb08225['answers']?.[_0xcd538b(0x73e)]||0x0;return _0xcd538b(0x4e9)+(_0x2fcc7d+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0xb08225['members']['join'](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x3f55eb+'/'+_0xc2719f+_0xcd538b(0x8fe)+_0xb08225['score']+_0xcd538b(0x231);})[_0xbeeef(0xaa4)](''),_0x1e6bb0=currentQuizData[_0xbeeef(0x1c9)][_0xbeeef(0xd0b)]((_0xda6ed,_0x35f725)=>{const _0x1f3b3e=_0xbeeef;let _0x2ad1dd=0x0,_0x491328=0x0;_0x423305[_0x1f3b3e(0x488)](_0x358763=>{const _0x245bdc=_0x1f3b3e,_0x37c2a5=_0x358763[_0x245bdc(0xc9e)]?.['find'](_0x325e25=>_0x325e25[_0x245bdc(0x923)]===_0x35f725);if(_0x37c2a5){_0x491328++;if(_0x37c2a5[_0x245bdc(0xaf2)])_0x2ad1dd++;}});const _0x50c31b=_0x491328>0x0&&_0x491328===_0x423305['length'],_0x517be9=_0x50c31b?'bg-green-200\x20text-green-900\x20font-bold':_0x1f3b3e(0x851),_0x2f1078=_0x50c31b?_0x1f3b3e(0xad7):'';return _0x1f3b3e(0x7cb)+_0x517be9+_0x1f3b3e(0x56d)+(_0x35f725+0x1)+_0x1f3b3e(0x33d)+_0x2f1078+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x2ad1dd+'/'+_0x423305['length']+_0x1f3b3e(0x70a);})['join']('');_0x2e9e70['innerHTML']=_0xbeeef(0x3c0)+_0x12a486+_0xbeeef(0xc39)+_0x1e6bb0+_0xbeeef(0xcff);return;}const _0x30061b=_0xe6a6fc[_0xbeeef(0x2e3)]||{},_0x4078c8=Object[_0xbeeef(0x4bc)](_0x30061b);if(_0x4078c8[_0xbeeef(0x73e)]===0x0){_0x2e9e70['innerHTML']=_0xbeeef(0x193);return;}const _0x51b042=_0x4078c8['map'](_0x37fa68=>({'name':_0x37fa68,'score':_0x30061b[_0x37fa68][_0xbeeef(0x635)]||0x0}))['sort']((_0x3b9c44,_0x346f3a)=>_0x346f3a['score']-_0x3b9c44[_0xbeeef(0x635)]),_0x15aeec=_0x51b042[_0xbeeef(0xd0b)](_0x1ded0d=>{const _0x22dc45=_0xbeeef,_0x1c2db7=_0x30061b[_0x1ded0d[_0x22dc45(0x7c3)]]?.[_0x22dc45(0xc9e)]?.[_0x22dc45(0x73e)]||0x0,_0x524bce=Math[_0x22dc45(0x405)](_0xc2719f/_0x4078c8[_0x22dc45(0x73e)]);return _0x22dc45(0xb00)+_0x1ded0d[_0x22dc45(0x7c3)]+_0x22dc45(0xb8a)+_0x1c2db7+'/'+_0x524bce+_0x22dc45(0x6f7)+_0x1ded0d['score']+'\x20คะแนน</span></div>';})[_0xbeeef(0xaa4)](''),_0x22051a=_0x4078c8['reduce']((_0x5ec7b4,_0x34cc71)=>_0x5ec7b4+(_0x30061b[_0x34cc71]['answers']?.['length']||0x0),0x0),_0x3bedd8=currentQuizData[_0xbeeef(0x1c9)][_0xbeeef(0xd0b)]((_0x28b716,_0x54d652)=>{const _0x196fe2=_0xbeeef;let _0x501566=null,_0x5042f0=null;for(const _0x6c549b of _0x4078c8){const _0x483cde=_0x30061b[_0x6c549b][_0x196fe2(0xc9e)]?.['find'](_0x51aee8=>_0x51aee8[_0x196fe2(0x923)]===_0x54d652);if(_0x483cde){_0x501566=_0x483cde,_0x5042f0=_0x6c549b;break;}}const _0x338df1=!!_0x501566,_0x260a4b=_0x338df1&&_0x501566[_0x196fe2(0xaf2)],_0xfc7476=(Math[_0x196fe2(0x513)](_0x54d652/_0x4078c8['length'])+0x1)*_0x4078c8['length'],_0x4690c1=_0x22051a>=_0xfc7476,_0x5c24a2=_0x4690c1?_0x196fe2(0xa87):_0x196fe2(0x851),_0x83a679=_0x4690c1?_0x196fe2(0xad7):'';let _0x1f6bd3=_0x196fe2(0x229);return _0x338df1&&(_0x1f6bd3=_0x5042f0+_0x196fe2(0x31e)+(_0x260a4b?'ถูก':'ผิด')),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x5c24a2+_0x196fe2(0x56d)+(_0x54d652+0x1)+_0x196fe2(0x33d)+_0x83a679+_0x196fe2(0x822)+_0x1f6bd3+'</p></div>';})[_0xbeeef(0xaa4)]('');_0x2e9e70[_0xbeeef(0x4c4)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x15aeec+_0xbeeef(0x28b)+_0x3bedd8+_0xbeeef(0xcff);}async function handleJoinTeamQuiz(){const _0x27428e=_0x26020e,_0x47f6d5=prompt(_0x27428e(0xb44));if(!_0x47f6d5||_0x47f6d5[_0x27428e(0x30d)]()[_0x27428e(0x73e)]!==0x4){showMessage(_0x27428e(0xac6));return;}try{const _0x18d89e=collection(db,_0x27428e(0xc3e)+appId+'/public/data/teamQuizzes'),_0x3a9985=query(_0x18d89e,where(_0x27428e(0x3df),'==',_0x47f6d5['trim']()),where(_0x27428e(0x8b8),'==',_0x27428e(0x34d))),_0x57c6f3=await getDocs(_0x3a9985);if(_0x57c6f3[_0x27428e(0x266)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x5a7f31=_0x57c6f3['docs'][0x0];currentTeamQuizId=_0x5a7f31['id'];const _0x37fe7c=_0x5a7f31['data'](),_0x2cd4a2=doc(db,_0x27428e(0xc3e)+appId+'/public/data/projects',_0x37fe7c['projectId']),_0x2d4c9f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x37fe7c['quizId']),[_0x35f441,_0x9d9bc6]=await Promise['all']([getDoc(_0x2cd4a2),getDoc(_0x2d4c9f)]);if(!_0x35f441[_0x27428e(0xd0a)]()||!_0x9d9bc6[_0x27428e(0xd0a)]())throw new Error(_0x27428e(0x3d6));currentQuizData=getShuffledQuiz({'id':_0x9d9bc6['id'],..._0x9d9bc6[_0x27428e(0xb97)]()});const _0x145366=_0x35f441[_0x27428e(0xb97)]();showTeamPlayerSelection(_0x145366[_0x27428e(0x926)],currentQuizData[_0x27428e(0x255)]);}catch(_0x402b43){console['error'](_0x27428e(0xba3),_0x402b43),showMessage('เกิดข้อผิดพลาด:\x20'+_0x402b43[_0x27428e(0x9d4)]);}}async function handleJoinGroupActivity(){const _0x56dd61=_0x26020e,_0x566428=prompt(_0x56dd61(0xc51));if(!_0x566428||_0x566428[_0x56dd61(0x30d)]()[_0x56dd61(0x73e)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x4db5e=_0x566428['trim']();showMessage(_0x56dd61(0x4ba));try{const _0x14d093=collection(db,_0x56dd61(0xc3e)+appId+_0x56dd61(0x9ca)),_0x5812ad=query(_0x14d093,where(_0x56dd61(0x3df),'==',_0x4db5e),where('status','==',_0x56dd61(0x34d))),_0x4e6d81=await getDocs(_0x5812ad);if(!_0x4e6d81[_0x56dd61(0x266)]){console['log'](_0x56dd61(0x63b)),await proceedWithTeamQuizJoin(_0x4e6d81[_0x56dd61(0x8d6)][0x0]);return;}const _0x418e51=collection(db,_0x56dd61(0xc3e)+appId+_0x56dd61(0x437)),_0x1e39af=query(_0x418e51,where('pin','==',_0x4db5e),where(_0x56dd61(0x8b8),'==',_0x56dd61(0x34d))),_0x1167a8=await getDocs(_0x1e39af);if(!_0x1167a8[_0x56dd61(0x266)]){console['log'](_0x56dd61(0x7cd)),await proceedWithSyncQuizJoin(_0x1167a8['docs'][0x0]);return;}showMessage(_0x56dd61(0xb55));}catch(_0xb65c32){console['error'](_0x56dd61(0xc78),_0xb65c32),showMessage(_0x56dd61(0x530)+_0xb65c32['message']);}}async function proceedWithTeamQuizJoin(_0x43134a){const _0xb0c361=_0x26020e;currentTeamQuizId=_0x43134a['id'];const _0x588294=_0x43134a[_0xb0c361(0xb97)](),_0x36dd52=doc(db,'artifacts/'+appId+_0xb0c361(0x828),_0x588294[_0xb0c361(0xc0b)]),_0x2b9e32=doc(db,_0xb0c361(0xc3e)+appId+'/public/data/quizzes',_0x588294['quizId']),[_0x11fca3,_0x51c48b]=await Promise[_0xb0c361(0x3bc)]([getDoc(_0x36dd52),getDoc(_0x2b9e32)]);if(!_0x11fca3[_0xb0c361(0xd0a)]()||!_0x51c48b[_0xb0c361(0xd0a)]())throw new Error(_0xb0c361(0x3d6));currentQuizData=getShuffledQuiz({'id':_0x51c48b['id'],..._0x51c48b[_0xb0c361(0xb97)]()}),showTeamPlayerSelection(_0x11fca3[_0xb0c361(0xb97)]()[_0xb0c361(0x926)],currentQuizData[_0xb0c361(0x255)],_0x588294[_0xb0c361(0x8eb)]||'team'),messageModal[_0xb0c361(0xab0)]['add']('hidden');}async function proceedWithSyncQuizJoin(_0x3db469){const _0x1e9975=_0x26020e;currentLiveGameId=_0x3db469['id'];const _0x54df5d=_0x3db469[_0x1e9975(0xb97)](),_0x27a2cc=doc(db,_0x1e9975(0xc3e)+appId+_0x1e9975(0xa7d),_0x54df5d[_0x1e9975(0x673)]),_0x411afb=await getDoc(_0x27a2cc);if(!_0x411afb[_0x1e9975(0xd0a)]())throw new Error(_0x1e9975(0xbf0));const _0x26f467=_0x411afb[_0x1e9975(0xb97)](),_0x1db4c2=doc(db,_0x1e9975(0xc3e)+appId+_0x1e9975(0x828),_0x26f467[_0x1e9975(0xc0b)]),_0x5c4c74=await getDoc(_0x1db4c2);if(!_0x5c4c74[_0x1e9975(0xd0a)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x54df5d['shuffledQuiz'],showView(_0x1e9975(0x453)),showTeamPlayerSelection(_0x5c4c74['data']()[_0x1e9975(0x926)],_0x26f467['topic'],_0x1e9975(0x3aa)),document['getElementById'](_0x1e9975(0xc00))[_0x1e9975(0x847)]=confirmAndJoinSyncGame,messageModal[_0x1e9975(0xab0)][_0x1e9975(0x75b)](_0x1e9975(0x47d));}function getCleanApplicationHTML(){const _0x3a05f4=_0x26020e,_0x27c14d=document[_0x3a05f4(0x44e)](_0x3a05f4(0xb71));if(!_0x27c14d)return'';const _0xa6b376=_0x27c14d[_0x3a05f4(0x72a)](!![]);return _0xa6b376['querySelectorAll'](_0x3a05f4(0x1d7))[_0x3a05f4(0x488)](_0x618b2e=>{const _0x305117=_0x3a05f4;_0x618b2e['classList'][_0x305117(0x48e)](_0x305117(0x51d),_0x305117(0xaad)),_0x618b2e[_0x305117(0x993)]=![];}),_0xa6b376[_0x3a05f4(0x4c4)];}function showTeamPlayerSelection(_0x1089f6,_0x5247ff,_0x50cced=_0x26020e(0xb0b)){const _0x49e4b3=_0x26020e;studentInitialView[_0x49e4b3(0xab0)]['add'](_0x49e4b3(0x47d)),studentJoinGameView[_0x49e4b3(0xab0)][_0x49e4b3(0x75b)]('hidden'),document[_0x49e4b3(0x44e)](_0x49e4b3(0xad0))[_0x49e4b3(0xab0)][_0x49e4b3(0x48e)](_0x49e4b3(0x47d));let _0x467e19=_0x49e4b3(0x856);if(_0x50cced===_0x49e4b3(0x261))_0x467e19=_0x49e4b3(0x559);else _0x50cced==='sync'&&(_0x467e19=_0x49e4b3(0x38d));document[_0x49e4b3(0x44e)](_0x49e4b3(0x71f))[_0x49e4b3(0xb23)]=_0x467e19+':\x20'+_0x5247ff;const _0x166fd2=document[_0x49e4b3(0x44e)](_0x49e4b3(0x41f));if(!_0x1089f6||_0x1089f6['length']===0x0){_0x166fd2['innerHTML']=_0x49e4b3(0x4d0),document[_0x49e4b3(0x44e)](_0x49e4b3(0xc00))[_0x49e4b3(0x993)]=!![];return;}_0x166fd2[_0x49e4b3(0x4c4)]=_0x1089f6['map'](_0x267d69=>_0x49e4b3(0xc2a)+_0x267d69+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x267d69+_0x49e4b3(0x27a))[_0x49e4b3(0xaa4)](''),document['getElementById'](_0x49e4b3(0xc00))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x229311=_0x26020e,_0x3310a0=Array[_0x229311(0x346)](document[_0x229311(0xb04)](_0x229311(0x34c)))['map'](_0x563f07=>_0x563f07[_0x229311(0x6ea)]);if(_0x3310a0[_0x229311(0x73e)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x3310a0,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x3db54a=doc(db,'artifacts/'+appId+_0x229311(0x9ca),currentTeamQuizId);try{const _0x5a0fe9=await getDoc(_0x3db54a);if(!_0x5a0fe9['exists']())throw new Error(_0x229311(0xa65));const _0x6e615=_0x5a0fe9[_0x229311(0xb97)]();if(_0x6e615[_0x229311(0x8eb)]===_0x229311(0x261)){const _0x3906a2={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x3db54a,_0x3906a2);}else{const _0x1e5602=_0x6e615[_0x229311(0x2e3)]||{};localTeamPlayers[_0x229311(0x488)](_0x46f6b3=>{!_0x1e5602[_0x46f6b3]&&(_0x1e5602[_0x46f6b3]={'score':0x0,'answers':[]});}),await updateDoc(_0x3db54a,{'responses':_0x1e5602});}document[_0x229311(0x44e)](_0x229311(0xad0))[_0x229311(0xab0)][_0x229311(0x75b)]('hidden'),renderTeamQuizQuestion();const _0xda842={'gameId':currentTeamQuizId,'mode':_0x6e615[_0x229311(0x8eb)]||_0x229311(0xb0b),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x229311(0xa0f)](_0x229311(0x3ff),JSON[_0x229311(0x98d)](_0xda842)),listenForTeamQuizUpdates();}catch(_0x45cd24){console[_0x229311(0x2fe)](_0x229311(0xca3),_0x45cd24),showMessage(_0x229311(0x975));}}async function renderTeamQuizQuestion(){const _0x1db8b4=_0x26020e;if(localQuestionIndex>=currentQuizData['questions'][_0x1db8b4(0x73e)]){displayTeamQuizFinalResults();return;}const _0x5c18d7=currentQuizData[_0x1db8b4(0x1c9)][localQuestionIndex],_0x3018fd=localTeamPlayers[localPlayerIndex],_0x857a9d=_0x5c18d7['questionType']||currentQuizData[_0x1db8b4(0x31d)];let _0x212f8b=_0x5c18d7['stem']||_0x5c18d7['questionText'],_0x179839='';switch(_0x857a9d){case _0x1db8b4(0xbad):case'fill_in_with_choices':_0x179839=_0x5c18d7[_0x1db8b4(0x3e3)]['map']((_0x3498e8,_0x5296df)=>_0x1db8b4(0x5c2)+_0x5296df+_0x1db8b4(0x72b)+_0x5296df+_0x1db8b4(0x688)+_0x5296df+'\x22>'+_0x3498e8+'</label></div>')[_0x1db8b4(0xaa4)]('');break;case _0x1db8b4(0x7e8):_0x179839=_0x1db8b4(0x3e4);break;case'short_answer':case'fill_in_no_choices':_0x179839='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x1db8b4(0x5b6):_0x179839=_0x1db8b4(0x26f)+_0x5c18d7['allResponses'][_0x1db8b4(0xd0b)](_0x574f6f=>_0x1db8b4(0x514)+_0x574f6f+'\x22>'+_0x574f6f+_0x1db8b4(0xcba))[_0x1db8b4(0xaa4)]('')+'</select>';break;default:_0x179839=_0x1db8b4(0x95f);break;}studentQuizArea[_0x1db8b4(0x4c4)]=_0x1db8b4(0x8f1)+(localQuestionIndex+0x1)+_0x1db8b4(0x690)+currentQuizData[_0x1db8b4(0x1c9)][_0x1db8b4(0x73e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x3018fd+_0x1db8b4(0xcec)+(localQuestionIndex+0x1)+'.\x20'+_0x212f8b+_0x1db8b4(0x33c)+(_0x5c18d7[_0x1db8b4(0xb2a)]?_0x1db8b4(0x63d)+_0x5c18d7[_0x1db8b4(0xb2a)]+_0x1db8b4(0xa82):'')+_0x1db8b4(0x323)+_0x179839+_0x1db8b4(0x4cf),studentQuizArea['classList'][_0x1db8b4(0x48e)]('hidden');if(window[_0x1db8b4(0x597)])MathJax[_0x1db8b4(0xc74)]([studentQuizArea]);document[_0x1db8b4(0x44e)](_0x1db8b4(0x725))[_0x1db8b4(0xb41)](_0x1db8b4(0x560),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x1a3828=_0x26020e,_0x16e143=currentQuizData[_0x1a3828(0x1c9)][localQuestionIndex],_0x346c3e=_0x16e143[_0x1a3828(0x425)]||currentQuizData['quizType'];let _0x2a3964=null,_0x29e4e0=![];if(_0x346c3e==='short_answer'||_0x346c3e===_0x1a3828(0x248)){const _0xb220e7=document[_0x1a3828(0x6ca)](_0x1a3828(0x3ce));if(!_0xb220e7||!_0xb220e7[_0x1a3828(0x6ea)][_0x1a3828(0x30d)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x2a3964=_0xb220e7['value'][_0x1a3828(0x30d)](),_0x29e4e0=await gradeShortAnswer(_0x2a3964,_0x16e143);}else{const _0x666f6c=document[_0x1a3828(0x6ca)](_0x1a3828(0x672));if(!_0x666f6c||_0x666f6c['value']===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x2a3964=_0x666f6c[_0x1a3828(0x6ea)];switch(_0x346c3e){case'true_false':_0x29e4e0=_0x2a3964===_0x1a3828(0x668)===_0x16e143[_0x1a3828(0x7ba)];break;case _0x1a3828(0x5b6):_0x29e4e0=_0x2a3964===_0x16e143['correctResponse'];break;default:_0x29e4e0=parseInt(_0x2a3964)===_0x16e143[_0x1a3828(0xa5b)];break;}}const _0x478ff8={'questionIndex':localQuestionIndex,'isCorrect':_0x29e4e0},_0x4bebf1=userId,_0x127c00={[_0x1a3828(0x839)+_0x4bebf1+_0x1a3828(0x80d)]:arrayUnion(_0x478ff8)};_0x29e4e0&&(_0x127c00[_0x1a3828(0x839)+_0x4bebf1+_0x1a3828(0x85b)]=increment(0x1));try{await updateDoc(doc(db,_0x1a3828(0xc3e)+appId+_0x1a3828(0x9ca),currentTeamQuizId),_0x127c00),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x1a3828(0x1c9)][_0x1a3828(0x73e)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x52a609){console[_0x1a3828(0x2fe)](_0x1a3828(0xae0),_0x52a609),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0xcc54bd=_0x26020e,_0x158c09=await getDoc(doc(db,_0xcc54bd(0xc3e)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x158c09[_0xcc54bd(0xd0a)]())return;const _0x3d5576=_0x158c09[_0xcc54bd(0xb97)]();if(_0x3d5576['mode']===_0xcc54bd(0x261)){handleGroupAnswerSubmit();return;}const _0x4a2bbf=localTeamPlayers[localPlayerIndex],_0x47566d=currentQuizData[_0xcc54bd(0x1c9)][localQuestionIndex],_0x4d0942=_0x47566d[_0xcc54bd(0x425)]||currentQuizData[_0xcc54bd(0x31d)];let _0x5852fc=null,_0x5508f1=![];if(_0x4d0942===_0xcc54bd(0x500)||_0x4d0942===_0xcc54bd(0x248)){const _0x53c155=document['querySelector'](_0xcc54bd(0x3ce));if(!_0x53c155||!_0x53c155['value'][_0xcc54bd(0x30d)]()){showMessage(_0xcc54bd(0xc47));return;}_0x5852fc=_0x53c155[_0xcc54bd(0x6ea)]['trim'](),_0x5508f1=await gradeShortAnswer(_0x5852fc,_0x47566d);}else{const _0x509487=document[_0xcc54bd(0x6ca)](_0xcc54bd(0x672));if(!_0x509487||_0x509487[_0xcc54bd(0x6ea)]===''){showMessage(_0xcc54bd(0x5ce));return;}_0x5852fc=_0x509487[_0xcc54bd(0x6ea)];switch(_0x4d0942){case _0xcc54bd(0x7e8):_0x5508f1=_0x5852fc===_0xcc54bd(0x668)===_0x47566d['correctAnswer'];break;case _0xcc54bd(0x5b6):_0x5508f1=_0x5852fc===_0x47566d['correctResponse'];break;default:_0x5508f1=parseInt(_0x5852fc)===_0x47566d['correctAnswerIndex'];break;}}const _0x4d3758={'questionIndex':localQuestionIndex,'isCorrect':_0x5508f1,'answerValue':_0x5852fc},_0x3be343={[_0xcc54bd(0x8e0)+_0x4a2bbf+_0xcc54bd(0x80d)]:arrayUnion(_0x4d3758)};_0x5508f1&&(_0x3be343[_0xcc54bd(0x8e0)+_0x4a2bbf+_0xcc54bd(0x85b)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x3be343),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0xcc54bd(0x73e)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x239ad9){console[_0xcc54bd(0x2fe)](_0xcc54bd(0xbd4),_0x239ad9),showMessage(_0xcc54bd(0xb6b));}}async function displayTeamQuizFinalResults(){const _0x4fbe42=_0x26020e;studentQuizArea[_0x4fbe42(0xab0)][_0x4fbe42(0x75b)](_0x4fbe42(0x47d)),studentResultArea[_0x4fbe42(0xab0)][_0x4fbe42(0x48e)](_0x4fbe42(0x47d));const _0x5d3a4f=doc(db,_0x4fbe42(0xc3e)+appId+_0x4fbe42(0x9ca),currentTeamQuizId),_0xc5ded2=await getDoc(_0x5d3a4f);if(!_0xc5ded2[_0x4fbe42(0xd0a)]()){studentResultArea[_0x4fbe42(0x4c4)]=_0x4fbe42(0xc6c);return;}const _0x333d8a=_0xc5ded2[_0x4fbe42(0xb97)]();let _0x1bcea2=[];const _0x1d1b4c=_0x333d8a[_0x4fbe42(0x8eb)]||'team';if(_0x1d1b4c==='group'){const _0x10aab6=_0x333d8a[_0x4fbe42(0x4f2)][userId];_0x10aab6?_0x1bcea2=[{'name':_0x4fbe42(0xabe)+localTeamPlayers[_0x4fbe42(0xaa4)](',\x20'),'score':_0x10aab6[_0x4fbe42(0x635)]||0x0}]:_0x1bcea2=[{'name':_0x4fbe42(0x44b),'score':_0x4fbe42(0x61d)}];}else _0x1bcea2=localTeamPlayers[_0x4fbe42(0xd0b)](_0x3fedb3=>({'name':_0x3fedb3,'score':_0x333d8a[_0x4fbe42(0x2e3)][_0x3fedb3]?.['score']||0x0}))[_0x4fbe42(0x80a)]((_0xd69c8f,_0x4c1083)=>_0x4c1083[_0x4fbe42(0x635)]-_0xd69c8f[_0x4fbe42(0x635)]);studentResultArea[_0x4fbe42(0x4c4)]=_0x4fbe42(0x274)+_0x1bcea2[_0x4fbe42(0xd0b)](_0x4fdc0e=>_0x4fbe42(0x7d0)+_0x4fdc0e[_0x4fbe42(0x7c3)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4fdc0e[_0x4fbe42(0x635)]+_0x4fbe42(0x3e9))['join']('')+_0x4fbe42(0x81e),sessionStorage['removeItem'](_0x4fbe42(0x3ff)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x1a536a=_0x4fbe42;deleteDoc(doc(db,_0x1a536a(0xc3e)+appId+_0x1a536a(0x9ca),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x26020e(0x879),'pinnedProjects':[],'projectView':_0x26020e(0x784)};const allMathTopics=[{'category':_0x26020e(0x6ed),'name':'การนับ'},{'category':_0x26020e(0x6ed),'name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x26020e(0x6ed),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':_0x26020e(0x905)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0xb3b)},{'category':_0x26020e(0x6ed),'name':'การลบ'},{'category':_0x26020e(0x6ed),'name':_0x26020e(0xc7c)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x336)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x382)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0x26020e(0x6ed),'name':_0x26020e(0xa84)},{'category':'จำนวนและการดำเนินการ','name':_0x26020e(0x6b9)},{'category':'จำนวนและการดำเนินการ','name':_0x26020e(0x532)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x60f)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x43d)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x35f)},{'category':'จำนวนและการดำเนินการ','name':'อัตราส่วนและสัดส่วน'},{'category':_0x26020e(0x6ed),'name':_0x26020e(0xbc8)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0xc85)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0xa2b)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x35a)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x6f9)},{'category':'จำนวนและการดำเนินการ','name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':'จำนวนคละ'},{'category':_0x26020e(0x6ed),'name':_0x26020e(0xae5)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x648)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0xaa0)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x1f2)},{'category':_0x26020e(0x6ed),'name':'การหารทศนิยม'},{'category':_0x26020e(0x6ed),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x385)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x4d9)},{'category':_0x26020e(0x6ed),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x572)},{'category':'จำนวนและการดำเนินการ','name':_0x26020e(0x2bf)},{'category':_0x26020e(0x6ed),'name':_0x26020e(0x2c5)},{'category':'จำนวนและการดำเนินการ','name':_0x26020e(0x755)},{'category':_0x26020e(0xa8e),'name':_0x26020e(0x8a0)},{'category':'การวัด','name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x26020e(0xa8e),'name':_0x26020e(0xc86)},{'category':_0x26020e(0xa8e),'name':_0x26020e(0x290)},{'category':_0x26020e(0xa8e),'name':_0x26020e(0x762)},{'category':'การวัด','name':_0x26020e(0x300)},{'category':_0x26020e(0xa8e),'name':_0x26020e(0xc34)},{'category':'การวัด','name':_0x26020e(0x7fd)},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x26020e(0xa8e),'name':_0x26020e(0xb70)},{'category':_0x26020e(0xa8e),'name':_0x26020e(0xa7f)},{'category':_0x26020e(0xa8e),'name':_0x26020e(0x9ff)},{'category':_0x26020e(0xa8e),'name':'สเกลและแผนที่'},{'category':_0x26020e(0xa8e),'name':_0x26020e(0xc53)},{'category':_0x26020e(0x35e),'name':_0x26020e(0x3bd)},{'category':'เรขาคณิต','name':_0x26020e(0x8a8)},{'category':'เรขาคณิต','name':_0x26020e(0x60c)},{'category':'เรขาคณิต','name':_0x26020e(0x7fd)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x26020e(0x35e),'name':_0x26020e(0x3db)},{'category':_0x26020e(0x35e),'name':_0x26020e(0x1bb)},{'category':_0x26020e(0x35e),'name':_0x26020e(0x7ce)},{'category':_0x26020e(0x35e),'name':_0x26020e(0x710)},{'category':_0x26020e(0x35e),'name':_0x26020e(0x665)},{'category':'เรขาคณิต','name':_0x26020e(0xbbd)},{'category':_0x26020e(0x35e),'name':_0x26020e(0xc1f)},{'category':_0x26020e(0x35e),'name':_0x26020e(0x32e)},{'category':_0x26020e(0x35e),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x26020e(0x35e),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x26020e(0x289),'name':_0x26020e(0x867)},{'category':_0x26020e(0x289),'name':'การกระจายและการจัดหมู่'},{'category':_0x26020e(0x289),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x26020e(0x536)},{'category':_0x26020e(0x289),'name':_0x26020e(0x6fe)},{'category':_0x26020e(0x289),'name':_0x26020e(0x882)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x26020e(0xcc3)},{'category':_0x26020e(0x289),'name':_0x26020e(0xaa2)},{'category':_0x26020e(0x289),'name':_0x26020e(0xbf4)},{'category':_0x26020e(0x289),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x26020e(0x289),'name':'สมการราก\x20(radical)'},{'category':_0x26020e(0x289),'name':_0x26020e(0x1c8)},{'category':_0x26020e(0x289),'name':_0x26020e(0xa30)},{'category':_0x26020e(0x289),'name':_0x26020e(0x932)},{'category':_0x26020e(0x289),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x26020e(0x289),'name':'ระบบอสมการ'},{'category':_0x26020e(0x289),'name':_0x26020e(0x1c5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x26020e(0x27e)},{'category':_0x26020e(0x289),'name':_0x26020e(0xb8e)},{'category':_0x26020e(0x289),'name':'ฟังก์ชันผกผัน'},{'category':_0x26020e(0x289),'name':_0x26020e(0x5d7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x26020e(0x638)},{'category':_0x26020e(0x289),'name':_0x26020e(0xabc)},{'category':_0x26020e(0x289),'name':'ฟังก์ชันพหุนาม'},{'category':_0x26020e(0x289),'name':_0x26020e(0x404)},{'category':_0x26020e(0x289),'name':_0x26020e(0x8dd)},{'category':_0x26020e(0x289),'name':_0x26020e(0xc2b)},{'category':_0x26020e(0x289),'name':_0x26020e(0x84a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x26020e(0x8b7)},{'category':_0x26020e(0x289),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x26020e(0x289),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x26020e(0x289),'name':_0x26020e(0x96e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x26020e(0x216)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x26020e(0x4e6)},{'category':_0x26020e(0x289),'name':_0x26020e(0xc57)},{'category':_0x26020e(0x4f8),'name':_0x26020e(0x539)},{'category':_0x26020e(0x4f8),'name':'ความชันและเส้นตรง'},{'category':_0x26020e(0x4f8),'name':_0x26020e(0x8cc)},{'category':'เรขาคณิตวิเคราะห์','name':_0x26020e(0x1e1)},{'category':_0x26020e(0x4f8),'name':_0x26020e(0x6d1)},{'category':_0x26020e(0x4f8),'name':_0x26020e(0x482)},{'category':'เรขาคณิตวิเคราะห์','name':_0x26020e(0xa58)},{'category':_0x26020e(0x4f8),'name':_0x26020e(0x2b6)},{'category':'เรขาคณิตวิเคราะห์','name':_0x26020e(0x7a1)},{'category':_0x26020e(0xcd0),'name':_0x26020e(0x2d9)},{'category':_0x26020e(0xcd0),'name':_0x26020e(0x6a8)},{'category':'ตรีโกณมิติ','name':_0x26020e(0x3b6)},{'category':_0x26020e(0xcd0),'name':_0x26020e(0x75a)},{'category':'ตรีโกณมิติ','name':_0x26020e(0x714)},{'category':_0x26020e(0xcd0),'name':'กฎของโคไซน์'},{'category':_0x26020e(0xcd0),'name':_0x26020e(0x927)},{'category':_0x26020e(0xcd0),'name':_0x26020e(0x205)},{'category':_0x26020e(0xcd0),'name':_0x26020e(0xbdd)},{'category':_0x26020e(0xcd0),'name':_0x26020e(0x1d6)},{'category':'ตรีโกณมิติ','name':_0x26020e(0x3d0)},{'category':_0x26020e(0x44f),'name':_0x26020e(0x736)},{'category':'สถิติและความน่าจะเป็น','name':_0x26020e(0x5fe)},{'category':_0x26020e(0x44f),'name':_0x26020e(0xa0e)},{'category':'สถิติและความน่าจะเป็น','name':_0x26020e(0x75e)},{'category':'สถิติและความน่าจะเป็น','name':_0x26020e(0xb37)},{'category':_0x26020e(0x44f),'name':_0x26020e(0x980)},{'category':_0x26020e(0x44f),'name':'ค่าเฉลี่ย'},{'category':_0x26020e(0x44f),'name':_0x26020e(0x5a7)},{'category':_0x26020e(0x44f),'name':'ฐานนิยม'},{'category':'สถิติและความน่าจะเป็น','name':_0x26020e(0x7d3)},{'category':_0x26020e(0x44f),'name':_0x26020e(0xab7)},{'category':'สถิติและความน่าจะเป็น','name':_0x26020e(0x5bd)},{'category':_0x26020e(0x44f),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x26020e(0x44f),'name':_0x26020e(0x876)},{'category':_0x26020e(0x44f),'name':_0x26020e(0x63f)},{'category':_0x26020e(0x44f),'name':_0x26020e(0x9e2)},{'category':_0x26020e(0x44f),'name':_0x26020e(0xac9)},{'category':_0x26020e(0x44f),'name':_0x26020e(0xc65)},{'category':_0x26020e(0x44f),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x26020e(0x44f),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x26020e(0x44f),'name':_0x26020e(0x445)},{'category':_0x26020e(0x44f),'name':'การจัดหมู่\x20(Combination)'},{'category':'สถิติและความน่าจะเป็น','name':_0x26020e(0xb90)},{'category':_0x26020e(0x44f),'name':_0x26020e(0x9bb)},{'category':_0x26020e(0x916),'name':_0x26020e(0xbb8)},{'category':_0x26020e(0x916),'name':_0x26020e(0x252)},{'category':_0x26020e(0x916),'name':_0x26020e(0xac4)},{'category':_0x26020e(0x916),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x26020e(0x916),'name':_0x26020e(0x63a)},{'category':_0x26020e(0x916),'name':_0x26020e(0x230)},{'category':_0x26020e(0x916),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':_0x26020e(0x327)},{'category':_0x26020e(0x916),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x26020e(0x916),'name':_0x26020e(0xc4b)},{'category':_0x26020e(0x916),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x26020e(0x916),'name':_0x26020e(0x92b)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x26020e(0x793),'name':_0x26020e(0xc2c)},{'category':_0x26020e(0x793),'name':_0x26020e(0xb9a)},{'category':_0x26020e(0x793),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x26020e(0x793),'name':'ดีเทอร์มิแนนต์'},{'category':_0x26020e(0x793),'name':_0x26020e(0xac1)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x26020e(0x937)},{'category':_0x26020e(0xc42),'name':_0x26020e(0x74e)},{'category':_0x26020e(0xc42),'name':_0x26020e(0x8e9)},{'category':_0x26020e(0xc42),'name':_0x26020e(0xc4a)},{'category':_0x26020e(0xc42),'name':_0x26020e(0xc7e)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x26020e(0xc79)},{'category':_0x26020e(0x652),'name':_0x26020e(0x523)},{'category':_0x26020e(0x652),'name':_0x26020e(0x55b)}];function renderTopicCheckboxes(){const _0x457417=_0x26020e,_0x297026=document[_0x457417(0x44e)](_0x457417(0xbf6));if(!_0x297026)return;const _0x599846=allMathTopics,_0x169b9f=customMathTopics['map'](_0x385f3d=>({'id':_0x385f3d['id'],'category':_0x457417(0x4b5),'name':_0x385f3d['name']})),_0x5ae27d=[..._0x599846,..._0x169b9f],_0x542691=_0x5ae27d[_0x457417(0xbe4)]((_0x5dc5e2,_0x30ad71)=>{const _0x395e71=_0x457417;return!_0x5dc5e2[_0x30ad71[_0x395e71(0x8f8)]]&&(_0x5dc5e2[_0x30ad71['category']]=[]),_0x5dc5e2[_0x30ad71[_0x395e71(0x8f8)]]['push'](_0x30ad71),_0x5dc5e2;},{});let _0x5b763d='';const _0x1545ea=[_0x457417(0x4b5),...Object[_0x457417(0x4bc)](_0x542691)[_0x457417(0x1f5)](_0x23ef69=>_0x23ef69!==_0x457417(0x4b5))];for(const _0x3ed5fe of _0x1545ea){if(_0x542691[_0x3ed5fe]){const _0x49ce11=_0x3ed5fe===_0x457417(0x4b5),_0x57fd1f=_0x49ce11?_0x457417(0x7df):'fas\x20fa-bookmark',_0x3c5aba=_0x49ce11?'text-blue-700':'text-indigo-700';_0x5b763d+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x5b763d+=_0x457417(0x983)+_0x3c5aba+_0x457417(0x1d5)+_0x57fd1f+_0x457417(0xc4c)+_0x3ed5fe+_0x457417(0xb75),_0x542691[_0x3ed5fe][_0x457417(0x488)](_0x55f175=>{const _0x2c53ad=_0x457417,_0x362b89=!!_0x55f175['id'],_0x378c78=_0x362b89?_0x2c53ad(0x1f0)+_0x55f175['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x55f175['id']+_0x2c53ad(0x609)+_0x55f175['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x55f175['id']+_0x2c53ad(0x9f9):'';_0x5b763d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x55f175['id']||'')+_0x2c53ad(0xab5)+_0x55f175[_0x2c53ad(0x7c3)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x55f175[_0x2c53ad(0x7c3)]+_0x2c53ad(0x1f4)+(_0x362b89?_0x2c53ad(0xaf5)+_0x55f175[_0x2c53ad(0x7c3)]+'\x22>':'')+_0x2c53ad(0xcfd)+_0x378c78+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5b763d+=_0x457417(0xa82);}}_0x297026[_0x457417(0x4c4)]=_0x5b763d||_0x457417(0x8ae),_0x297026[_0x457417(0x50b)]('change',updateSelectedTopicsCount),_0x297026[_0x457417(0xb41)](_0x457417(0x5ad),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4fecf6,_0x2adb0a){const _0xd4e4bb=_0x26020e;if(!_0x4fecf6||!_0x2adb0a[_0xd4e4bb(0x30d)]()){showMessage(_0xd4e4bb(0xca9));return;}try{const _0x594d7a=doc(db,_0xd4e4bb(0xc3e)+appId+_0xd4e4bb(0x4a9),_0x4fecf6);await updateDoc(_0x594d7a,{'name':_0x2adb0a[_0xd4e4bb(0x30d)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x2f56bf){console[_0xd4e4bb(0x2fe)](_0xd4e4bb(0xa3a),_0x2f56bf),showMessage(_0xd4e4bb(0xcbd));}}function toggleTopicEditMode(_0x46b30,_0x45f78c){const _0x398bfd=_0x26020e;if(!_0x46b30)return;const _0x1e2944=_0x46b30[_0x398bfd(0x6ca)](_0x398bfd(0x3a3)),_0x50cafe=_0x46b30['querySelector'](_0x398bfd(0x550)),_0x49f271=_0x46b30[_0x398bfd(0x6ca)](_0x398bfd(0x689)),_0x33d176=_0x46b30[_0x398bfd(0x6ca)](_0x398bfd(0xb2f));_0x1e2944[_0x398bfd(0xab0)][_0x398bfd(0x8ce)](_0x398bfd(0x47d),_0x45f78c),_0x50cafe[_0x398bfd(0xab0)][_0x398bfd(0x8ce)]('hidden',!_0x45f78c),_0x49f271[_0x398bfd(0xab0)][_0x398bfd(0x8ce)](_0x398bfd(0x47d),_0x45f78c),_0x33d176[_0x398bfd(0xab0)][_0x398bfd(0x8ce)](_0x398bfd(0x47d),!_0x45f78c),_0x45f78c&&(_0x50cafe[_0x398bfd(0x28c)](),_0x50cafe[_0x398bfd(0x943)]());}async function handleStartLiveRace(_0x41322e){const _0x5b3d6b=_0x26020e;let _0x1dd726=allQuizzes[_0x5b3d6b(0x2ba)](_0x2ad460=>_0x2ad460['id']===_0x41322e);if(!_0x1dd726){const _0xcfe20a=doc(db,_0x5b3d6b(0xc3e)+appId+'/public/data/quizzes',_0x41322e),_0x4b56b7=await getDoc(_0xcfe20a);if(!_0x4b56b7[_0x5b3d6b(0xd0a)]()){showMessage(_0x5b3d6b(0xbf0));return;}_0x1dd726={'id':_0x4b56b7['id'],..._0x4b56b7[_0x5b3d6b(0xb97)]()};}const _0x5340cb=getShuffledQuiz(_0x1dd726);currentQuizData=_0x5340cb;const _0x17bb0c=_0x1dd726[_0x5b3d6b(0xc0b)]||currentProjectId||null,_0x11546b=Math[_0x5b3d6b(0x513)](0x3e8+Math[_0x5b3d6b(0x522)]()*0x2328)[_0x5b3d6b(0x1e5)]();currentLiveGamePin=_0x11546b;try{const _0x397c81=await addDoc(collection(db,_0x5b3d6b(0xc3e)+appId+_0x5b3d6b(0x758)),{'quizId':_0x41322e,'projectId':_0x17bb0c,'status':_0x5b3d6b(0x34d),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x11546b,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5340cb});currentLiveGameId=_0x397c81['id'],showAdminLobbyView(_0x11546b,_0x1dd726[_0x5b3d6b(0x255)]),listenForLiveGameUpdates();}catch(_0x44528d){console['error'](_0x5b3d6b(0x5cf),_0x44528d),showMessage(_0x5b3d6b(0xaa7));}}function updateSelectedTopicsCount(){const _0x1f16e2=_0x26020e,_0x5565c1=document['getElementById'](_0x1f16e2(0xbf6)),_0x125b1d=_0x5565c1[_0x1f16e2(0xb04)](_0x1f16e2(0x35d))[_0x1f16e2(0x73e)],_0x219760=document['getElementById'](_0x1f16e2(0x857));_0x125b1d>0x0?_0x219760[_0x1f16e2(0xb23)]=_0x1f16e2(0x7b5)+_0x125b1d+_0x1f16e2(0x801):_0x219760[_0x1f16e2(0xb23)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x26020e(0xcca),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x26020e(0x580),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x1933d7,_0x21995a){const _0x3e9c99=_0x26020e;return Math['sqrt'](Math[_0x3e9c99(0x8e3)](_0x1933d7['x']-_0x21995a['x'],0x2)+Math[_0x3e9c99(0x8e3)](_0x1933d7['y']-_0x21995a['y'],0x2));}function getMidpoint(_0x422799,_0x4a37d5){return{'x':(_0x422799['x']+_0x4a37d5['x'])/0x2,'y':(_0x422799['y']+_0x4a37d5['y'])/0x2};}function getTransformedPoint(_0x2a0976,_0x283d1e){return{'x':(_0x2a0976-scratchpadOffset['x'])/scratchpadScale,'y':(_0x283d1e-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x524b17=_0x26020e;if(!scratchpadCtx)return;const _0x3fbf1e=scratchpadCtx['canvas'],_0x2c4fa6=window['devicePixelRatio']||0x1,_0x320e8e=document['getElementById'](_0x524b17(0xabf));_0x320e8e&&(_0x320e8e[_0x524b17(0x456)]['transformOrigin']=_0x524b17(0xa41),_0x320e8e[_0x524b17(0x456)][_0x524b17(0x9dd)]=_0x524b17(0xcab)+scratchpadOffset['x']+_0x524b17(0x735)+scratchpadOffset['y']+_0x524b17(0x5b5)+scratchpadScale+')'),scratchpadCtx[_0x524b17(0x25e)](),scratchpadCtx[_0x524b17(0x697)](_0x2c4fa6,0x0,0x0,_0x2c4fa6,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x3fbf1e[_0x524b17(0xa1e)],_0x3fbf1e[_0x524b17(0xa8f)]),scratchpadCtx['restore'](),scratchpadCtx[_0x524b17(0x25e)](),scratchpadCtx[_0x524b17(0xad5)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x524b17(0xba6)](scratchpadScale,scratchpadScale),strokes[_0x524b17(0x488)](_0x380d29=>{drawStroke(_0x380d29);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x524b17(0x85e)]();}function renderGroupModeQuestion(){const _0x1aa257=_0x26020e;if(localQuestionIndex>=currentQuizData[_0x1aa257(0x1c9)][_0x1aa257(0x73e)]){displayTeamQuizFinalResults();return;}const _0x455792=currentQuizData['questions'][localQuestionIndex],_0x18f6ee=_0x455792[_0x1aa257(0x425)]||currentQuizData[_0x1aa257(0x31d)];let _0x15d062=_0x455792['stem']||_0x455792['questionText'],_0x5244c0='';switch(_0x18f6ee){case _0x1aa257(0xbad):case'fill_in_with_choices':_0x5244c0=_0x455792[_0x1aa257(0x3e3)][_0x1aa257(0xd0b)]((_0x1fe486,_0x495cc5)=>_0x1aa257(0x5c2)+_0x495cc5+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x495cc5+_0x1aa257(0x688)+_0x495cc5+'\x22>'+_0x1fe486+_0x1aa257(0x3f5))[_0x1aa257(0xaa4)]('');break;case _0x1aa257(0x7e8):_0x5244c0='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x1aa257(0x500):case _0x1aa257(0x248):_0x5244c0=_0x1aa257(0x3d5);break;case _0x1aa257(0x5b6):_0x5244c0=_0x1aa257(0x26f)+_0x455792['allResponses'][_0x1aa257(0xd0b)](_0x37fa23=>_0x1aa257(0x514)+_0x37fa23+'\x22>'+_0x37fa23+_0x1aa257(0xcba))[_0x1aa257(0xaa4)]('')+_0x1aa257(0x528);break;default:_0x5244c0=_0x1aa257(0x95f);break;}studentQuizArea[_0x1aa257(0x4c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x1aa257(0x690)+currentQuizData[_0x1aa257(0x1c9)][_0x1aa257(0x73e)]+_0x1aa257(0xb92)+localTeamPlayers[_0x1aa257(0xaa4)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x15d062+_0x1aa257(0x33c)+(_0x455792['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x455792[_0x1aa257(0xb2a)]+'</div>':'')+_0x1aa257(0x323)+_0x5244c0+_0x1aa257(0xa46),studentQuizArea[_0x1aa257(0xab0)]['remove'](_0x1aa257(0x47d));if(window[_0x1aa257(0x597)])MathJax[_0x1aa257(0xc74)]([studentQuizArea]);document[_0x1aa257(0x44e)](_0x1aa257(0x8e4))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0xc8cfaf,_0x55cb6a=null,_0x28e226,_0x51eda8=null,_0x5e1908=![],_0x45e58c=null){const _0x2d90b4=_0x26020e,_0x5ac9ae=document[_0x2d90b4(0x44e)](_0x2d90b4(0x439));_0x5ac9ae&&_0x5ac9ae[_0x2d90b4(0x4e1)]({'behavior':_0x2d90b4(0x4ef),'block':_0x2d90b4(0xcbb)}),generateQuiz(_0xc8cfaf,_0x55cb6a,null,_0x45e58c,!![],_0x28e226,_0x51eda8,_0x5e1908);}function handleGenerateAndShowLesson(_0x513ff7,_0x474eac){const _0x4f4cd1=_0x26020e,_0x8cfd6=document[_0x4f4cd1(0x44e)](_0x4f4cd1(0x7c9)),_0x293615=document['getElementById'](_0x4f4cd1(0x587)),_0x326e5b=document[_0x4f4cd1(0x44e)](_0x4f4cd1(0x339)),_0x15ac39=document[_0x4f4cd1(0x44e)](_0x4f4cd1(0x3e0));['pointContent',_0x4f4cd1(0x778),_0x4f4cd1(0xb71),_0x4f4cd1(0xcf7)][_0x4f4cd1(0x488)](_0x26e034=>{const _0x27bd25=_0x4f4cd1,_0x59f7e3=document[_0x27bd25(0x44e)](_0x26e034)[_0x27bd25(0x72d)];_0x59f7e3&&(_0x59f7e3[_0x27bd25(0x456)]['display']=_0x27bd25(0xa9a));}),_0x293615[_0x4f4cd1(0xb23)]='กำลังสร้างบทเรียน:\x20'+_0x513ff7,_0x15ac39[_0x4f4cd1(0xab0)][_0x4f4cd1(0x75b)](_0x4f4cd1(0x47d)),_0x326e5b[_0x4f4cd1(0xab0)][_0x4f4cd1(0x48e)](_0x4f4cd1(0x47d)),_0x8cfd6[_0x4f4cd1(0xab0)][_0x4f4cd1(0x48e)]('hidden'),generateLesson(_0x513ff7,_0x474eac)[_0x4f4cd1(0xb45)](_0xe3a193=>{const _0x475a9a=_0x4f4cd1;console[_0x475a9a(0x2fe)]('Failed\x20to\x20generate\x20lesson:',_0xe3a193),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x8cfd6[_0x475a9a(0xab0)][_0x475a9a(0x75b)](_0x475a9a(0x47d));});}function handlePointerDown(_0x105fbb){const _0x74fa35=_0x26020e;_0x105fbb['preventDefault']();const _0x12157a=scratchpadCtx[_0x74fa35(0x625)],_0x4f7f85=_0x12157a[_0x74fa35(0x4db)](),_0x243e19=_0x105fbb[_0x74fa35(0x1ec)]||(_0x105fbb[_0x74fa35(0x9e9)]?_0x74fa35(0x957):_0x74fa35(0x359));if(_0x243e19===_0x74fa35(0x974)||_0x243e19==='mouse'){if(_0x105fbb[_0x74fa35(0x1ec)]==='mouse'&&_0x105fbb[_0x74fa35(0x4a1)]!==0x0){_0x105fbb[_0x74fa35(0x4a1)]===0x1&&(isMousePanning=!![],panStart={'x':_0x105fbb[_0x74fa35(0xb8f)],'y':_0x105fbb['clientY']},_0x12157a[_0x74fa35(0x456)][_0x74fa35(0x561)]=_0x74fa35(0x78c));return;}activeTool===_0x74fa35(0x5da)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x232210=getTransformedPoint(_0x105fbb[_0x74fa35(0xb8f)]-_0x4f7f85['left'],_0x105fbb[_0x74fa35(0x386)]-_0x4f7f85[_0x74fa35(0x23b)]);let _0x488bf1={'tool':activeTool,'points':[_0x232210]};if(activeTool===_0x74fa35(0x919))_0x488bf1[_0x74fa35(0x303)]=scratchpadHighlighterColor,_0x488bf1[_0x74fa35(0x466)]=scratchpadHighlighterSize;else activeTool===_0x74fa35(0x5da)?(_0x488bf1[_0x74fa35(0x303)]=scratchpadPenColor,_0x488bf1[_0x74fa35(0x466)]=scratchpadPenSize):(_0x488bf1['color']=scratchpadPenColor,_0x488bf1[_0x74fa35(0x466)]=scratchpadPenSize);currentStroke=_0x488bf1;}else _0x105fbb[_0x74fa35(0x9e9)]&&(_0x105fbb['touches'][_0x74fa35(0x73e)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x105fbb[_0x74fa35(0x9e9)][0x0][_0x74fa35(0xb8f)],'y':_0x105fbb['touches'][0x0][_0x74fa35(0x386)]},{'x':_0x105fbb[_0x74fa35(0x9e9)][0x1]['clientX'],'y':_0x105fbb[_0x74fa35(0x9e9)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x105fbb[_0x74fa35(0x9e9)][0x0][_0x74fa35(0xb8f)],'y':_0x105fbb[_0x74fa35(0x9e9)][0x0]['clientY']},{'x':_0x105fbb['touches'][0x1]['clientX'],'y':_0x105fbb[_0x74fa35(0x9e9)][0x1][_0x74fa35(0x386)]})));}function animateTrail(){const _0x1db9f0=_0x26020e,_0x20670a=Date[_0x1db9f0(0xc63)]();let _0x83177=![];for(let _0x35f14c=strokes[_0x1db9f0(0x73e)]-0x1;_0x35f14c>=0x0;_0x35f14c--){const _0x39e58a=strokes[_0x35f14c];if(_0x39e58a[_0x1db9f0(0xb0a)]==='trail'&&_0x39e58a[_0x1db9f0(0x7ae)]){const _0x2d66c1=_0x20670a-_0x39e58a[_0x1db9f0(0x7ae)];_0x2d66c1>=TRAIL_DURATION?strokes[_0x1db9f0(0xa15)](_0x35f14c,0x1):(_0x39e58a[_0x1db9f0(0x3e5)]=0x1-_0x2d66c1/TRAIL_DURATION,_0x83177=!![]);}}redrawScratchpad(),_0x83177?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0xdcf0a1){const _0x144b93=_0x26020e;if(!_0xdcf0a1||_0xdcf0a1[_0x144b93(0x9db)][_0x144b93(0x73e)]<0x1)return;scratchpadCtx[_0x144b93(0x25e)](),scratchpadCtx['lineJoin']=_0x144b93(0x519),scratchpadCtx[_0x144b93(0x624)]=_0x144b93(0x519);if(_0xdcf0a1[_0x144b93(0xb0a)]===_0x144b93(0x5da)){const _0x537778=_0xdcf0a1[_0x144b93(0x466)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0xdcf0a1[_0x144b93(0x3e5)]??0x1,scratchpadCtx[_0x144b93(0x829)]=_0x144b93(0x7ea),scratchpadCtx[_0x144b93(0x35b)]=_0x537778*0x3,scratchpadCtx[_0x144b93(0x3b7)]=_0x144b93(0x4d2),scratchpadCtx[_0x144b93(0xa37)]=_0x537778*2.5,scratchpadCtx[_0x144b93(0x938)](),scratchpadCtx[_0x144b93(0x524)](_0xdcf0a1[_0x144b93(0x9db)][0x0]['x'],_0xdcf0a1[_0x144b93(0x9db)][0x0]['y']);for(let _0x1c1396=0x1;_0x1c1396<_0xdcf0a1[_0x144b93(0x9db)]['length']-0x1;_0x1c1396++){const _0x2d8956=getMidpoint(_0xdcf0a1[_0x144b93(0x9db)][_0x1c1396],_0xdcf0a1[_0x144b93(0x9db)][_0x1c1396+0x1]);scratchpadCtx['quadraticCurveTo'](_0xdcf0a1['points'][_0x1c1396]['x'],_0xdcf0a1['points'][_0x1c1396]['y'],_0x2d8956['x'],_0x2d8956['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x144b93(0x829)]=_0x144b93(0x3d3),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x144b93(0x3b7)]=_0x144b93(0x7bb),scratchpadCtx[_0x144b93(0xa37)]=_0x537778,scratchpadCtx[_0x144b93(0x99e)](),scratchpadCtx['closePath']();}else{if(_0xdcf0a1[_0x144b93(0xb0a)]===_0x144b93(0x919)){scratchpadCtx[_0x144b93(0xc52)]=_0x144b93(0x241),scratchpadCtx['strokeStyle']=_0xdcf0a1['color'],scratchpadCtx['lineWidth']=_0xdcf0a1[_0x144b93(0x466)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0xdcf0a1['points'][0x0]['x'],_0xdcf0a1[_0x144b93(0x9db)][0x0]['y']);for(let _0x5b7a18=0x1;_0x5b7a18<_0xdcf0a1[_0x144b93(0x9db)][_0x144b93(0x73e)]-0x1;_0x5b7a18++){const _0x3113ef=getMidpoint(_0xdcf0a1['points'][_0x5b7a18],_0xdcf0a1['points'][_0x5b7a18+0x1]);scratchpadCtx['quadraticCurveTo'](_0xdcf0a1[_0x144b93(0x9db)][_0x5b7a18]['x'],_0xdcf0a1[_0x144b93(0x9db)][_0x5b7a18]['y'],_0x3113ef['x'],_0x3113ef['y']);}scratchpadCtx[_0x144b93(0x99e)](),scratchpadCtx[_0x144b93(0x1e8)]();}else{scratchpadCtx[_0x144b93(0xc52)]=_0xdcf0a1[_0x144b93(0xb0a)]===_0x144b93(0x4fc)?'destination-out':_0x144b93(0x468),scratchpadCtx['strokeStyle']=_0xdcf0a1[_0x144b93(0x303)],scratchpadCtx[_0x144b93(0xa37)]=_0xdcf0a1['size'],scratchpadCtx[_0x144b93(0x938)](),scratchpadCtx[_0x144b93(0x524)](_0xdcf0a1['points'][0x0]['x'],_0xdcf0a1[_0x144b93(0x9db)][0x0]['y']);for(let _0x36ec1d=0x1;_0x36ec1d<_0xdcf0a1[_0x144b93(0x9db)]['length']-0x1;_0x36ec1d++){const _0xc8f676=getMidpoint(_0xdcf0a1[_0x144b93(0x9db)][_0x36ec1d],_0xdcf0a1[_0x144b93(0x9db)][_0x36ec1d+0x1]);scratchpadCtx[_0x144b93(0x419)](_0xdcf0a1['points'][_0x36ec1d]['x'],_0xdcf0a1[_0x144b93(0x9db)][_0x36ec1d]['y'],_0xc8f676['x'],_0xc8f676['y']);}scratchpadCtx[_0x144b93(0x99e)](),scratchpadCtx[_0x144b93(0x1e8)]();}}scratchpadCtx[_0x144b93(0x85e)]();}function handlePointerMove(_0x2f9ea6){const _0x5c99e7=_0x26020e;_0x2f9ea6['preventDefault']();const _0x152d4b=scratchpadCtx[_0x5c99e7(0x625)],_0x1f285f=_0x152d4b['getBoundingClientRect']();if(_0x2f9ea6[_0x5c99e7(0x9e9)]){if(_0x2f9ea6[_0x5c99e7(0x9e9)][_0x5c99e7(0x73e)]===0x1&&isDrawingOnScratchpad){const _0x453abe=getTransformedPoint(_0x2f9ea6['touches'][0x0][_0x5c99e7(0xb8f)]-_0x1f285f['left'],_0x2f9ea6[_0x5c99e7(0x9e9)][0x0][_0x5c99e7(0x386)]-_0x1f285f[_0x5c99e7(0x23b)]);currentStroke[_0x5c99e7(0x9db)][_0x5c99e7(0xa2a)](_0x453abe),redrawScratchpad();}else{if(_0x2f9ea6[_0x5c99e7(0x9e9)][_0x5c99e7(0x73e)]===0x2&&isPanning){const _0x31b5c6=getDistance({'x':_0x2f9ea6[_0x5c99e7(0x9e9)][0x0][_0x5c99e7(0xb8f)],'y':_0x2f9ea6[_0x5c99e7(0x9e9)][0x0][_0x5c99e7(0x386)]},{'x':_0x2f9ea6[_0x5c99e7(0x9e9)][0x1][_0x5c99e7(0xb8f)],'y':_0x2f9ea6['touches'][0x1]['clientY']}),_0x4232cd=getMidpoint({'x':_0x2f9ea6[_0x5c99e7(0x9e9)][0x0][_0x5c99e7(0xb8f)],'y':_0x2f9ea6[_0x5c99e7(0x9e9)][0x0][_0x5c99e7(0x386)]},{'x':_0x2f9ea6[_0x5c99e7(0x9e9)][0x1]['clientX'],'y':_0x2f9ea6[_0x5c99e7(0x9e9)][0x1][_0x5c99e7(0x386)]}),_0x4f3be8=_0x31b5c6/ initialPinchDistance,_0x37a8ac=Math['min'](Math['max'](scratchpadScale*_0x4f3be8,MIN_SCALE),MAX_SCALE),_0x1a8d53=_0x4232cd['x']-panStart['x'],_0x28725f=_0x4232cd['y']-panStart['y'];scratchpadOffset['x']=_0x4232cd['x']-(_0x4232cd['x']-scratchpadOffset['x'])*(_0x37a8ac/scratchpadScale),scratchpadOffset['y']=_0x4232cd['y']-(_0x4232cd['y']-scratchpadOffset['y'])*(_0x37a8ac/scratchpadScale),scratchpadOffset['x']+=_0x1a8d53,scratchpadOffset['y']+=_0x28725f,scratchpadScale=_0x37a8ac,initialPinchDistance=_0x31b5c6,panStart=_0x4232cd,redrawScratchpad();}}}else{if(isMousePanning){const _0x52bf04=_0x2f9ea6[_0x5c99e7(0xb8f)]-panStart['x'],_0x586788=_0x2f9ea6[_0x5c99e7(0x386)]-panStart['y'];scratchpadOffset['x']+=_0x52bf04,scratchpadOffset['y']+=_0x586788,panStart={'x':_0x2f9ea6[_0x5c99e7(0xb8f)],'y':_0x2f9ea6[_0x5c99e7(0x386)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x56b26e=getTransformedPoint(_0x2f9ea6[_0x5c99e7(0xb8f)]-_0x1f285f[_0x5c99e7(0xa90)],_0x2f9ea6[_0x5c99e7(0x386)]-_0x1f285f[_0x5c99e7(0x23b)]);currentStroke[_0x5c99e7(0x9db)][_0x5c99e7(0xa2a)](_0x56b26e),redrawScratchpad();}}}}function handlePointerUp(_0x5f03e0){const _0x1797eb=_0x26020e;_0x5f03e0[_0x1797eb(0x1b0)]();const _0x3ba4b1=scratchpadCtx[_0x1797eb(0x625)];isMousePanning&&(isMousePanning=![],_0x3ba4b1[_0x1797eb(0x456)][_0x1797eb(0x561)]=_0x1797eb(0xa40)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x1797eb(0x9db)][_0x1797eb(0x73e)]>0x1&&(strokes[_0x1797eb(0xa2a)](currentStroke),currentStroke[_0x1797eb(0xb0a)]===_0x1797eb(0x5da)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x297796=_0x1797eb,_0x3d72c9=strokes[_0x297796(0x1f5)](_0x2ad52b=>_0x2ad52b[_0x297796(0xb0a)]===_0x297796(0x5da)&&!_0x2ad52b[_0x297796(0x7ae)]);if(_0x3d72c9[_0x297796(0x73e)]>0x0){const _0x227c55=Date['now']();_0x3d72c9['forEach'](_0x1ce590=>_0x1ce590['fadeStartTime']=_0x227c55),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4d5e8d){const _0x34660c=_0x26020e;_0x4d5e8d[_0x34660c(0x1b0)]();const _0x4f6f75=_0x4d5e8d[_0x34660c(0xc5e)]*-0.005,_0xe2d631=Math[_0x34660c(0x363)](Math[_0x34660c(0x6c6)](scratchpadScale+_0x4f6f75,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4d5e8d[_0x34660c(0xb8f)]-(_0x4d5e8d['clientX']-scratchpadOffset['x'])*(_0xe2d631/scratchpadScale),scratchpadOffset['y']=_0x4d5e8d[_0x34660c(0x386)]-(_0x4d5e8d[_0x34660c(0x386)]-scratchpadOffset['y'])*(_0xe2d631/scratchpadScale),scratchpadScale=_0xe2d631,redrawScratchpad();}function undo(){const _0x5ada94=_0x26020e;strokes[_0x5ada94(0x73e)]>0x0&&(redoStrokes['push'](strokes[_0x5ada94(0x970)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x1c0fc5=_0x26020e;redoStrokes[_0x1c0fc5(0x73e)]>0x0&&(strokes[_0x1c0fc5(0xa2a)](redoStrokes[_0x1c0fc5(0x970)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x554709=_0x26020e;document['getElementById'](_0x554709(0x838))[_0x554709(0x993)]=strokes['length']===0x0,document[_0x554709(0x44e)](_0x554709(0x249))[_0x554709(0x993)]=redoStrokes[_0x554709(0x73e)]===0x0;}function openScratchpad(_0x271552,_0x40a64e){const _0x26eff9=_0x26020e,_0x3cc360=document[_0x26eff9(0x44e)](_0x26eff9(0x636)),_0xb6e134=document[_0x26eff9(0x44e)](_0x26eff9(0x1cd)),_0x4b26ac=document[_0x26eff9(0x44e)]('scratchpad-options'),_0x1712d7=document[_0x26eff9(0x44e)]('scratchpad-controls');_0xb6e134[_0x26eff9(0x4c4)]=_0x271552[_0x26eff9(0xb16)]||_0x271552[_0x26eff9(0xbbe)],_0x4b26ac[_0x26eff9(0x4c4)]=_0x40a64e[_0x26eff9(0xd0b)]((_0x46751c,_0x1c5307)=>_0x26eff9(0x7a7)+String['fromCharCode'](0x41+_0x1c5307)+'.\x20'+_0x46751c+_0x26eff9(0xa82))['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x3cc360['classList'][_0x26eff9(0x48e)](_0x26eff9(0x47d)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x26eff9(0x597)])MathJax[_0x26eff9(0xc74)]([_0xb6e134,_0x4b26ac]);}function openBlueprintQuizSettings(){const _0x42417e=_0x26020e,_0x487247=document['getElementById'](_0x42417e(0xc41)),_0x418d0c=blueprintPageSettings||(currentProjectData?currentProjectData[_0x42417e(0x798)]:{})||{};document[_0x42417e(0x44e)]('bp-modal-quiz-type-select')[_0x42417e(0x6ea)]=_0x418d0c['quizType']||document[_0x42417e(0x44e)](_0x42417e(0xaaf))[_0x42417e(0x6ea)],document[_0x42417e(0x44e)]('bp-modal-difficulty-level-select')[_0x42417e(0x4c4)]=document[_0x42417e(0x44e)]('difficulty-level-select')['innerHTML'],document['getElementById'](_0x42417e(0x3ee))[_0x42417e(0x6ea)]=_0x418d0c[_0x42417e(0x67e)]||document[_0x42417e(0x44e)](_0x42417e(0x1eb))['value'],document[_0x42417e(0x44e)](_0x42417e(0x785))[_0x42417e(0x4c4)]=document[_0x42417e(0x44e)](_0x42417e(0x6c9))[_0x42417e(0x4c4)],document[_0x42417e(0x44e)](_0x42417e(0x785))[_0x42417e(0x6ea)]=_0x418d0c[_0x42417e(0x17d)]||document[_0x42417e(0x44e)](_0x42417e(0x6c9))[_0x42417e(0x6ea)],document[_0x42417e(0x44e)](_0x42417e(0x833))['value']=_0x418d0c[_0x42417e(0x54a)]||document['getElementById'](_0x42417e(0x6c8))[_0x42417e(0x6ea)],document[_0x42417e(0x44e)](_0x42417e(0x432))[_0x42417e(0x6ea)]=_0x418d0c[_0x42417e(0x483)]||document[_0x42417e(0x44e)](_0x42417e(0x491))['value'],document[_0x42417e(0x44e)](_0x42417e(0x2d3))[_0x42417e(0x6ea)]=_0x418d0c[_0x42417e(0x219)]||document[_0x42417e(0x44e)](_0x42417e(0x772))[_0x42417e(0x6ea)],document[_0x42417e(0x44e)](_0x42417e(0x3a8))[_0x42417e(0x6ea)]=_0x418d0c[_0x42417e(0xacb)]||document[_0x42417e(0x44e)]('shuffle-setting-select')[_0x42417e(0x6ea)],document[_0x42417e(0x44e)](_0x42417e(0x5f5))['checked']=_0x418d0c[_0x42417e(0x5de)]||document[_0x42417e(0x44e)]('include-images-checkbox')[_0x42417e(0x8ab)],_0x487247['classList'][_0x42417e(0x48e)](_0x42417e(0x47d));}function handleSaveBlueprintPageSettings(){const _0x109edd=_0x26020e;blueprintPageSettings={'quizType':document['getElementById'](_0x109edd(0xb47))['value'],'difficultyValue':document[_0x109edd(0x44e)](_0x109edd(0x3ee))[_0x109edd(0x6ea)],'complexityValue':document['getElementById'](_0x109edd(0x785))[_0x109edd(0x6ea)],'numQuestions':document[_0x109edd(0x44e)](_0x109edd(0x833))['value'],'passingScore':document['getElementById'](_0x109edd(0x432))[_0x109edd(0x6ea)],'numChoices':document['getElementById'](_0x109edd(0x2d3))[_0x109edd(0x6ea)],'shuffle':document['getElementById']('bp-modal-shuffle-setting-select')[_0x109edd(0x6ea)],'includeImages':document[_0x109edd(0x44e)](_0x109edd(0x5f5))[_0x109edd(0x8ab)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x109edd(0x44e)](_0x109edd(0xc41))[_0x109edd(0xab0)]['add'](_0x109edd(0x47d));}function listenForParallelTestShortcuts(){const _0x4ae9a8=_0x26020e,_0x30e542=doc(db,_0x4ae9a8(0xcfb),'parallelTestShortcutsConfig');onSnapshot(_0x30e542,_0x350a3e=>{const _0x333ddb=_0x4ae9a8;let _0x2e318b=[],_0x4675c0=[],_0x31e182={};if(_0x350a3e[_0x333ddb(0xd0a)]()){const _0x4e1c1c=_0x350a3e['data']();_0x2e318b=_0x4e1c1c['shortcuts']||[],_0x4675c0=_0x4e1c1c[_0x333ddb(0xa22)]||[],_0x31e182=_0x4e1c1c[_0x333ddb(0x8ad)]||{};}!_0x4675c0['find'](_0x49f0ec=>_0x49f0ec['id']===_0x333ddb(0x3bc))&&_0x4675c0[_0x333ddb(0xc88)]({'id':_0x333ddb(0x3bc),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x2e318b[_0x333ddb(0x2ba)](_0x54dc91=>_0x54dc91['id']===_0x333ddb(0x29d))&&_0x2e318b['unshift']({'id':_0x333ddb(0x29d),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x2e318b[_0x333ddb(0x2ba)](_0xce7a2d=>_0xce7a2d['id']===_0x333ddb(0xc5b))&&_0x2e318b[_0x333ddb(0xc88)]({'id':_0x333ddb(0xc5b),'name':_0x333ddb(0x3e7),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x2e318b,parallelShortcutTabs=_0x4675c0,parallelShortcutOrder=_0x31e182,renderParallelTestShortcuts(),!document[_0x333ddb(0x44e)](_0x333ddb(0x74b))[_0x333ddb(0xab0)][_0x333ddb(0x8be)](_0x333ddb(0x47d))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x25b8e7=_0x26020e,_0x2d554e=doc(db,'globalSettings',_0x25b8e7(0x82a));try{await setDoc(_0x2d554e,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x429aaf){console['error'](_0x25b8e7(0x4dc),_0x429aaf);}}function renderAdditionalParallelShortcutsModal(){const _0x5006df=_0x26020e,_0x11ef18=document[_0x5006df(0x44e)]('parallel-shortcut-tabs-nav'),_0xa72732=document[_0x5006df(0x44e)]('additional-parallel-shortcuts-list');if(!_0x11ef18||!_0xa72732)return;_0x11ef18[_0x5006df(0x4c4)]=parallelShortcutTabs[_0x5006df(0xd0b)](_0x3b2058=>{const _0x2e8753=_0x5006df,_0x6f188=_0x3b2058['id']===activeParallelShortcutTabId;return _0x2e8753(0x737)+_0x3b2058['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x6f188?'border-indigo-500\x20text-indigo-600':_0x2e8753(0xb18))+_0x2e8753(0x3c8)+_0x3b2058[_0x2e8753(0x7c3)]+_0x2e8753(0x654)+_0x3b2058['name']+_0x2e8753(0x280)+(!_0x3b2058['isDefault']?'<button\x20data-tab-id=\x22'+_0x3b2058['id']+_0x2e8753(0x538):'')+_0x2e8753(0x1da);})['join']('');const _0x5858ea=parallelShortcutTabs[_0x5006df(0x2ba)](_0x1c256d=>_0x1c256d['id']===activeParallelShortcutTabId);let _0x13305b=_0x5858ea?.[_0x5006df(0x78f)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x5006df(0x1f5)](_0x238b77=>(_0x5858ea?.[_0x5006df(0x89d)]||[])[_0x5006df(0xae9)](_0x238b77['id']));const _0x242f65=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x13305b[_0x5006df(0x80a)]((_0x42f5b7,_0x116436)=>{const _0x39ed19=_0x5006df,_0x5a60d2=_0x242f65[_0x39ed19(0x31a)](_0x42f5b7['id']),_0x18338a=_0x242f65[_0x39ed19(0x31a)](_0x116436['id']);return(_0x5a60d2===-0x1?Infinity:_0x5a60d2)-(_0x18338a===-0x1?Infinity:_0x18338a);}),_0xa72732[_0x5006df(0x4c4)]=_0x13305b[_0x5006df(0xd0b)](_0x16ce8b=>{const _0x18773a=_0x5006df,_0x184d60=_0x16ce8b[_0x18773a(0x366)]?'🔁':'🔗',_0x24dd33=parallelShortcutTabs[_0x18773a(0x1f5)](_0x1466aa=>!_0x1466aa[_0x18773a(0x78f)]),_0x507545=_0x5858ea[_0x18773a(0x78f)]&&_0x24dd33[_0x18773a(0x73e)]>0x0?_0x18773a(0x414)+_0x24dd33[_0x18773a(0xd0b)](_0x53a0ca=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x16ce8b['id']+_0x18773a(0x407)+_0x53a0ca['id']+'\x22>'+_0x53a0ca[_0x18773a(0x7c3)]+_0x18773a(0x6ff))[_0x18773a(0xaa4)]('')+_0x18773a(0xa79):'';return _0x18773a(0xb3d)+_0x16ce8b['id']+_0x18773a(0x7a9)+_0x184d60+'\x20'+_0x16ce8b[_0x18773a(0x7c3)]+_0x18773a(0x1e9)+_0x16ce8b['id']+_0x18773a(0x9de)+_0x16ce8b['id']+_0x18773a(0xc95)+(!_0x16ce8b[_0x18773a(0x78f)]?_0x18773a(0x3dd)+_0x16ce8b['id']+_0x18773a(0x7c0):'')+_0x18773a(0x845)+(!_0x5858ea['isDefault']?_0x18773a(0x416)+_0x16ce8b['id']+_0x18773a(0x618):'')+_0x18773a(0x845)+_0x507545+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x3a3143=_0x26020e;document[_0x3a3143(0xb04)](_0x3a3143(0xc2e))[_0x3a3143(0x488)](_0x50c048=>{const _0x49f741=_0x3a3143;_0x50c048[_0x49f741(0x847)]=_0x37c4d5=>{const _0x4cb48f=_0x49f741;activeParallelShortcutTabId=_0x37c4d5[_0x4cb48f(0x73f)][_0x4cb48f(0xd00)][_0x4cb48f(0x5b4)],renderAdditionalParallelShortcutsModal();},_0x50c048[_0x49f741(0xba0)]=_0x160243=>{const _0x1c2cc7=_0x49f741,_0x561326=_0x160243[_0x1c2cc7(0x73f)]['querySelector'](_0x1c2cc7(0x27b));_0x160243[_0x1c2cc7(0x73f)][_0x1c2cc7(0x6ca)](_0x1c2cc7(0xc98))[_0x1c2cc7(0xab0)][_0x1c2cc7(0x75b)](_0x1c2cc7(0x47d)),_0x561326[_0x1c2cc7(0xab0)][_0x1c2cc7(0x48e)]('hidden'),_0x561326[_0x1c2cc7(0x28c)](),_0x561326['select']();};}),document[_0x3a3143(0xb04)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x3a3143(0x488)](_0x1445ed=>{const _0x3842e2=_0x3a3143,_0x15dc8a=()=>{const _0x3a395d=_0x48bc,_0x56a458=_0x1445ed[_0x3a395d(0xcf9)]('.parallel-shortcut-tab-btn')['dataset'][_0x3a395d(0x5b4)],_0x56222a=parallelShortcutTabs[_0x3a395d(0x2ba)](_0x1ef9f7=>_0x1ef9f7['id']===_0x56a458);_0x56222a&&(_0x56222a['name']=_0x1445ed['value'][_0x3a395d(0x30d)]()||_0x56222a[_0x3a395d(0x7c3)],saveParallelShortcutConfig());};_0x1445ed[_0x3842e2(0x6be)]=_0x15dc8a,_0x1445ed[_0x3842e2(0x794)]=_0x19ca17=>{const _0x35375d=_0x3842e2;if(_0x19ca17[_0x35375d(0xc0a)]===_0x35375d(0x5c6))_0x1445ed[_0x35375d(0xcdd)]();};}),document[_0x3a3143(0xb04)](_0x3a3143(0x537))['forEach'](_0x4f4990=>_0x4f4990[_0x3a3143(0x847)]=_0x11700f=>{const _0x22f190=_0x3a3143,_0x55eb2c=_0x11700f[_0x22f190(0x73f)][_0x22f190(0xd00)][_0x22f190(0x5b4)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x180242=_0x22f190;parallelShortcutTabs=parallelShortcutTabs[_0x180242(0x1f5)](_0x5f3292=>_0x5f3292['id']!==_0x55eb2c),delete parallelShortcutOrder[_0x55eb2c];if(activeParallelShortcutTabId===_0x55eb2c)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document['querySelectorAll'](_0x3a3143(0x3e1))[_0x3a3143(0x488)](_0x5c549e=>_0x5c549e[_0x3a3143(0x847)]=_0x41760f=>{const _0x463b3e=_0x3a3143;_0x41760f[_0x463b3e(0x1b0)]();const {shortcutId:_0xc0b729,targetTabId:_0x7dc08c}=_0x41760f[_0x463b3e(0x73f)][_0x463b3e(0xd00)],_0x231d3f=parallelShortcutTabs['find'](_0xf7628f=>_0xf7628f['id']===_0x7dc08c);_0x231d3f&&!_0x231d3f[_0x463b3e(0x89d)]['includes'](_0xc0b729)&&(_0x231d3f[_0x463b3e(0x89d)][_0x463b3e(0xa2a)](_0xc0b729),saveParallelShortcutConfig());}),document[_0x3a3143(0xb04)]('.remove-parallel-shortcut-from-tab-btn')[_0x3a3143(0x488)](_0x48dd31=>_0x48dd31['onclick']=_0x19fa98=>{const _0x13d8cf=_0x3a3143,_0x287e0e=_0x19fa98['currentTarget'][_0x13d8cf(0xd00)]['shortcutId'],_0x2b8308=parallelShortcutTabs['find'](_0x196afa=>_0x196afa['id']===activeParallelShortcutTabId);_0x2b8308&&!_0x2b8308[_0x13d8cf(0x78f)]&&(_0x2b8308[_0x13d8cf(0x89d)]=_0x2b8308[_0x13d8cf(0x89d)]['filter'](_0x35d1e5=>_0x35d1e5!==_0x287e0e),saveParallelShortcutConfig());}),document['querySelectorAll']('.move-parallel-shortcut-menu-btn')[_0x3a3143(0x488)](_0x3c0d68=>_0x3c0d68['onclick']=_0x438683=>{const _0x5d5686=_0x3a3143;_0x438683[_0x5d5686(0x472)]();const _0x2cc76c=_0x438683['currentTarget'][_0x5d5686(0x452)];document[_0x5d5686(0xb04)](_0x5d5686(0x2fb))['forEach'](_0xae6aa2=>_0xae6aa2[_0x5d5686(0xab0)][_0x5d5686(0x75b)]('hidden')),_0x2cc76c[_0x5d5686(0xab0)][_0x5d5686(0x48e)]('hidden');});const _0x2301e5=document[_0x3a3143(0x44e)](_0x3a3143(0x5d5));let _0xd9edc2=null;_0x2301e5[_0x3a3143(0x4c7)]=_0x6f76b7=>{const _0x1f5ce1=_0x3a3143;_0xd9edc2=_0x6f76b7[_0x1f5ce1(0x440)][_0x1f5ce1(0xcf9)](_0x1f5ce1(0x79c));if(_0xd9edc2)setTimeout(()=>_0xd9edc2[_0x1f5ce1(0xab0)][_0x1f5ce1(0x75b)](_0x1f5ce1(0x990)),0x0);},_0x2301e5[_0x3a3143(0x9d5)]=()=>{const _0x1e54c5=_0x3a3143;_0xd9edc2&&(_0xd9edc2[_0x1e54c5(0xab0)]['remove'](_0x1e54c5(0x990)),_0xd9edc2=null);},_0x2301e5[_0x3a3143(0x7eb)]=_0x4993d7=>{const _0x3cdb07=_0x3a3143;_0x4993d7[_0x3cdb07(0x1b0)]();},_0x2301e5['ondrop']=_0xb7f1cf=>{const _0x320552=_0x3a3143;_0xb7f1cf[_0x320552(0x1b0)]();if(_0xd9edc2){const _0x13e383=[..._0x2301e5['querySelectorAll'](_0x320552(0xcb1))][_0x320552(0xbe4)]((_0x4d7d4b,_0x27770c)=>{const _0x16c565=_0x320552,_0x23f5e3=_0x27770c[_0x16c565(0x4db)](),_0x360a1d=_0xb7f1cf['clientY']-_0x23f5e3[_0x16c565(0x23b)]-_0x23f5e3[_0x16c565(0xa8f)]/0x2;return _0x360a1d<0x0&&_0x360a1d>_0x4d7d4b[_0x16c565(0xb5c)]?{'offset':_0x360a1d,'element':_0x27770c}:_0x4d7d4b;},{'offset':Number[_0x320552(0x999)]})[_0x320552(0x6cf)];_0x13e383==null?_0x2301e5[_0x320552(0xccd)](_0xd9edc2):_0x2301e5[_0x320552(0x398)](_0xd9edc2,_0x13e383);const _0x5262a7=[..._0x2301e5[_0x320552(0xb04)](_0x320552(0x79c))][_0x320552(0xd0b)](_0xd6dbd1=>_0xd6dbd1[_0x320552(0xd00)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x5262a7,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x23012c=_0x26020e,_0x414606=prompt(_0x23012c(0x5d2),_0x23012c(0xb7d));_0x414606&&_0x414606[_0x23012c(0x30d)]()&&(parallelShortcutTabs['push']({'id':_0x23012c(0x272)+Date[_0x23012c(0xc63)](),'name':_0x414606[_0x23012c(0x30d)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0xffdb64=_0x26020e,_0x291a77=document[_0xffdb64(0x44e)](_0xffdb64(0x77c)),_0x24dfb8=document[_0xffdb64(0x44e)](_0xffdb64(0x5d5)),_0x1b3e56=document[_0xffdb64(0x44e)](_0xffdb64(0x305));if(_0x1b3e56)_0x1b3e56['classList'][_0xffdb64(0x75b)](_0xffdb64(0x47d));if(!_0x291a77||!_0x24dfb8)return;const _0x19fa1e=parallelTestShortcuts['slice'](0x0,0x4),_0x206104=parallelTestShortcuts[_0xffdb64(0x8ac)](0x4);_0x291a77[_0xffdb64(0x4c4)]=_0x19fa1e[_0xffdb64(0xd0b)](_0x238e0=>{const _0x45e6a5=_0xffdb64,_0x357459=_0x238e0[_0x45e6a5(0x366)]&&_0x238e0['url'][_0x45e6a5(0x30d)]()!=='',_0x1f9e24=_0x357459?'bg-teal-500\x20hover:bg-teal-600\x20text-white':'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x2989e7=_0x357459?'🔁':'🔗',_0x4f78bf=!_0x238e0[_0x45e6a5(0x78f)]?_0x45e6a5(0x3dd)+_0x238e0['id']+_0x45e6a5(0x671):'';return _0x45e6a5(0x352)+_0x238e0['id']+_0x45e6a5(0x945)+_0x1f9e24+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x2989e7+'\x20'+_0x238e0[_0x45e6a5(0x7c3)]+_0x45e6a5(0x670)+_0x238e0['id']+_0x45e6a5(0x8f2)+_0x4f78bf+_0x45e6a5(0x373);})['join'](''),_0x206104[_0xffdb64(0x73e)]>0x0&&(_0x291a77[_0xffdb64(0x4c4)]+=_0xffdb64(0x8de)),_0x206104[_0xffdb64(0x73e)]>0x0?_0x24dfb8[_0xffdb64(0x4c4)]=_0x206104['map'](_0x31e985=>_0xffdb64(0x260)+(_0x31e985[_0xffdb64(0x366)]?'🔁':'🔗')+'\x20'+_0x31e985[_0xffdb64(0x7c3)]+_0xffdb64(0x8f4)+_0x31e985['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x31e985['id']+_0xffdb64(0xa14)+(!_0x31e985[_0xffdb64(0x78f)]?_0xffdb64(0x3dd)+_0x31e985['id']+_0xffdb64(0x7c0):'')+_0xffdb64(0x4d3))[_0xffdb64(0xaa4)](''):_0x24dfb8[_0xffdb64(0x4c4)]=_0xffdb64(0x406);}function openParallelTestShortcutEditor(_0x23c15d=null){const _0x3ee7a6=_0x26020e,_0x37b063=document[_0x3ee7a6(0x44e)](_0x3ee7a6(0xb91)),_0x24d9cd=document[_0x3ee7a6(0x44e)]('parallel-shortcut-modal-title'),_0x5cb012=document[_0x3ee7a6(0x44e)](_0x3ee7a6(0x1e6)),_0x32c61d=document[_0x3ee7a6(0x44e)](_0x3ee7a6(0xb9e)),_0x28b17c=document['getElementById'](_0x3ee7a6(0xa23));if(_0x23c15d){const _0x120df3=parallelTestShortcuts[_0x3ee7a6(0x2ba)](_0x294928=>_0x294928['id']===_0x23c15d);if(!_0x120df3)return;_0x24d9cd[_0x3ee7a6(0xb23)]=_0x3ee7a6(0x598),_0x5cb012[_0x3ee7a6(0x6ea)]=_0x120df3['id'],_0x32c61d[_0x3ee7a6(0x6ea)]=_0x120df3['name'],_0x28b17c[_0x3ee7a6(0x6ea)]=_0x120df3['url']||'';}else _0x24d9cd['textContent']='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x5cb012[_0x3ee7a6(0x6ea)]='',_0x32c61d['value']='',_0x28b17c[_0x3ee7a6(0x6ea)]='';_0x37b063[_0x3ee7a6(0xab0)]['remove'](_0x3ee7a6(0x47d));}async function saveParallelTestShortcutChanges(){const _0x26ae70=_0x26020e,_0x59544f=document[_0x26ae70(0x44e)]('parallel-shortcut-id-input')[_0x26ae70(0x6ea)],_0x35d2d6=document[_0x26ae70(0x44e)](_0x26ae70(0xb9e))[_0x26ae70(0x6ea)][_0x26ae70(0x30d)](),_0x16922c=document[_0x26ae70(0x44e)](_0x26ae70(0xa23))[_0x26ae70(0x6ea)][_0x26ae70(0x30d)]();if(!_0x35d2d6){showMessage(_0x26ae70(0x55a));return;}const _0x70327f={'id':_0x59544f||'parallel-shortcut_'+Date[_0x26ae70(0xc63)](),'name':_0x35d2d6,'url':_0x16922c,'isDefault':_0x59544f[_0x26ae70(0x259)](_0x26ae70(0x8a5))};let _0x43eeb8;_0x59544f?_0x43eeb8=parallelTestShortcuts[_0x26ae70(0xd0b)](_0x146936=>_0x146936['id']===_0x59544f?_0x70327f:_0x146936):_0x43eeb8=[...parallelTestShortcuts,_0x70327f];try{const _0x16ce52=doc(db,_0x26ae70(0xcfb),_0x26ae70(0x82a));await setDoc(_0x16ce52,{'shortcuts':_0x43eeb8},{'merge':!![]}),document[_0x26ae70(0x44e)](_0x26ae70(0xb91))['classList']['add'](_0x26ae70(0x47d));}catch(_0x1b2ffa){console['error']('Error\x20saving\x20parallel\x20shortcut:',_0x1b2ffa),showMessage(_0x26ae70(0xadd));}}async function handleParallelTestShortcutClick(_0x51cee5){const _0x7cfc89=_0x26020e,_0x40db5b=parallelTestShortcuts[_0x7cfc89(0x2ba)](_0x260367=>_0x260367['id']===_0x51cee5);if(!_0x40db5b)return;if(!_0x40db5b[_0x7cfc89(0x366)]||_0x40db5b[_0x7cfc89(0x366)][_0x7cfc89(0x30d)]()===''){openParallelTestShortcutEditor(_0x51cee5);return;}const _0x4f00aa=document['getElementById']('loader'),_0x2d3971=document['getElementById'](_0x7cfc89(0x734));document[_0x7cfc89(0x44e)](_0x7cfc89(0x439))[_0x7cfc89(0xab0)][_0x7cfc89(0x48e)]('hidden'),document[_0x7cfc89(0x44e)](_0x7cfc89(0xae7))['innerHTML']='',_0x4f00aa['classList'][_0x7cfc89(0x48e)](_0x7cfc89(0x47d)),_0x2d3971[_0x7cfc89(0xb23)]=_0x7cfc89(0xa4e);try{let _0x528325;_0x40db5b[_0x7cfc89(0x366)]['toLowerCase']()['includes'](_0x7cfc89(0x65c))?_0x528325=_0x7cfc89(0x662):_0x528325=_0x7cfc89(0x8e2);const _0x3af53b=await fetchFileFromUrl(_0x40db5b[_0x7cfc89(0x366)],_0x528325);await handleGenerateParallelTest(_0x3af53b);}catch(_0x53712a){console['error']('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x53712a),showMessage('เกิดข้อผิดพลาด:\x20'+_0x53712a[_0x7cfc89(0x9d4)]),_0x4f00aa['classList'][_0x7cfc89(0x75b)](_0x7cfc89(0x47d));}}function initializeScratchpadCanvas(){const _0x82bd2b=_0x26020e,_0x1f442c=document[_0x82bd2b(0x44e)](_0x82bd2b(0x32d)),_0xa8896e=document['querySelector'](_0x82bd2b(0x423));if(!_0x1f442c||!_0xa8896e)return;scratchpadCtx=_0x1f442c[_0x82bd2b(0x2c8)]('2d',{'willReadFrequently':!![]});const _0x3ce258=window[_0x82bd2b(0x748)]||0x1,_0x502170=_0xa8896e[_0x82bd2b(0x4db)]();_0x1f442c[_0x82bd2b(0xa1e)]=_0x502170[_0x82bd2b(0xa1e)]*_0x3ce258,_0x1f442c[_0x82bd2b(0xa8f)]=_0x502170[_0x82bd2b(0xa8f)]*_0x3ce258,_0x1f442c[_0x82bd2b(0x456)]['width']=_0x502170['width']+'px',_0x1f442c[_0x82bd2b(0x456)][_0x82bd2b(0xa8f)]=_0x502170[_0x82bd2b(0xa8f)]+'px',scratchpadCtx[_0x82bd2b(0xba6)](_0x3ce258,_0x3ce258),scratchpadCtx[_0x82bd2b(0x92e)]=_0x82bd2b(0x519),scratchpadCtx[_0x82bd2b(0x624)]=_0x82bd2b(0x519),_0x1f442c['removeEventListener'](_0x82bd2b(0x73a),handlePointerDown),_0x1f442c['removeEventListener'](_0x82bd2b(0x4cb),handlePointerMove),_0x1f442c[_0x82bd2b(0x50b)](_0x82bd2b(0xb32),handlePointerUp),_0x1f442c['removeEventListener'](_0x82bd2b(0x24a),handlePointerUp),_0x1f442c[_0x82bd2b(0x50b)](_0x82bd2b(0x2d4),handleWheel),_0x1f442c[_0x82bd2b(0x50b)](_0x82bd2b(0x2bb),handlePointerDown),_0x1f442c['removeEventListener'](_0x82bd2b(0x8c8),handlePointerMove),_0x1f442c['removeEventListener'](_0x82bd2b(0x6d7),handlePointerUp),_0x1f442c['addEventListener']('pointerdown',handlePointerDown),_0x1f442c[_0x82bd2b(0xb41)]('pointermove',handlePointerMove),_0x1f442c[_0x82bd2b(0xb41)](_0x82bd2b(0xb32),handlePointerUp),_0x1f442c['addEventListener']('pointercancel',handlePointerUp),_0x1f442c[_0x82bd2b(0xb41)](_0x82bd2b(0x2d4),handleWheel,{'passive':![]}),_0x1f442c[_0x82bd2b(0xb41)]('touchstart',handlePointerDown,{'passive':![]}),_0x1f442c[_0x82bd2b(0xb41)](_0x82bd2b(0x8c8),handlePointerMove,{'passive':![]}),_0x1f442c[_0x82bd2b(0xb41)](_0x82bd2b(0x6d7),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0xc25bcb=_0x26020e,_0x425e35=document[_0xc25bcb(0x44e)](_0xc25bcb(0x636)),_0x201153=document[_0xc25bcb(0x44e)](_0xc25bcb(0x210));_0x201153['innerHTML']=_0xc25bcb(0xb7a)+scratchpadHighlighterSize+_0xc25bcb(0xa89);const _0x4c2512=document[_0xc25bcb(0x44e)](_0xc25bcb(0x47a)),_0x635a82=document['getElementById'](_0xc25bcb(0x393)),_0x144075=document['getElementById'](_0xc25bcb(0x6c0)),_0x9796f8=document[_0xc25bcb(0x44e)](_0xc25bcb(0x39f)),_0x1557ed=document['getElementById'](_0xc25bcb(0x6d2)),_0x57c265=document['getElementById'](_0xc25bcb(0xcf3)),_0x106f22=[_0x4c2512,_0x635a82,_0x144075,_0x9796f8];document[_0xc25bcb(0x44e)]('scratchpad-close-btn')[_0xc25bcb(0xb41)]('click',()=>_0x425e35[_0xc25bcb(0xab0)][_0xc25bcb(0x75b)]('hidden')),document[_0xc25bcb(0x44e)](_0xc25bcb(0x6e9))[_0xc25bcb(0xb41)](_0xc25bcb(0x560),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0xc25bcb(0x44e)]('scratchpad-clear-btn')[_0xc25bcb(0xb41)](_0xc25bcb(0x560),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0xc25bcb(0x44e)](_0xc25bcb(0x838))[_0xc25bcb(0xb41)](_0xc25bcb(0x560),undo),document[_0xc25bcb(0x44e)](_0xc25bcb(0x249))[_0xc25bcb(0xb41)](_0xc25bcb(0x560),redo);const _0x449df5=_0x536a18=>{const _0xa6ac74=_0xc25bcb;_0x106f22[_0xa6ac74(0x488)](_0x2f7445=>_0x2f7445['classList']['remove'](_0xa6ac74(0x57f))),_0x536a18[_0xa6ac74(0xab0)][_0xa6ac74(0x75b)]('active');const _0x42417a=_0x536a18===_0x9796f8;_0x1557ed[_0xa6ac74(0xab0)][_0xa6ac74(0x8ce)]('hidden',_0x42417a),_0x57c265[_0xa6ac74(0xab0)][_0xa6ac74(0x8ce)](_0xa6ac74(0x47d),!_0x42417a);};_0x4c2512[_0xc25bcb(0xb41)](_0xc25bcb(0x560),()=>{const _0x5c8e79=_0xc25bcb;activeTool=_0x5c8e79(0x974),_0x449df5(_0x4c2512);}),_0x635a82[_0xc25bcb(0xb41)]('click',()=>{const _0x514a68=_0xc25bcb;activeTool=_0x514a68(0x4fc),_0x449df5(_0x635a82);}),_0x144075[_0xc25bcb(0xb41)]('click',()=>{const _0x17808d=_0xc25bcb;activeTool=_0x17808d(0x5da),_0x449df5(_0x144075);}),_0x9796f8[_0xc25bcb(0xb41)]('click',()=>{const _0x3fa4d6=_0xc25bcb;activeTool=_0x3fa4d6(0x919),_0x449df5(_0x9796f8);}),_0x1557ed['querySelectorAll']('.pen-size-btn')[_0xc25bcb(0x488)](_0x27e493=>{const _0x347de4=_0xc25bcb;_0x27e493[_0x347de4(0xb41)](_0x347de4(0x560),_0x44c092=>{const _0x30d7ef=_0x347de4;scratchpadPenSize=parseInt(_0x44c092[_0x30d7ef(0x440)]['dataset'][_0x30d7ef(0x466)],0xa),_0x1557ed[_0x30d7ef(0xb04)]('.pen-size-btn')[_0x30d7ef(0x488)](_0x1d6228=>_0x1d6228[_0x30d7ef(0xab0)]['remove'](_0x30d7ef(0x57f))),_0x44c092[_0x30d7ef(0x440)]['classList'][_0x30d7ef(0x75b)]('active');});}),_0x1557ed[_0xc25bcb(0xb04)]('.pen-color-btn')['forEach'](_0x211c07=>{const _0x232bab=_0xc25bcb;_0x211c07[_0x232bab(0xb41)](_0x232bab(0x560),_0x24a96a=>{const _0x3f47a9=_0x232bab;scratchpadPenColor=_0x24a96a[_0x3f47a9(0x440)][_0x3f47a9(0xd00)][_0x3f47a9(0x303)],_0x1557ed[_0x3f47a9(0xb04)](_0x3f47a9(0x7ed))[_0x3f47a9(0x488)](_0x1390c6=>_0x1390c6[_0x3f47a9(0xab0)][_0x3f47a9(0x48e)](_0x3f47a9(0x57f))),_0x24a96a[_0x3f47a9(0x440)]['classList'][_0x3f47a9(0x75b)](_0x3f47a9(0x57f));});}),_0x57c265[_0xc25bcb(0xb04)]('.highlighter-color-btn')[_0xc25bcb(0x488)](_0x2bfef4=>{const _0x1f7eff=_0xc25bcb;_0x2bfef4[_0x1f7eff(0xb41)](_0x1f7eff(0x560),_0x1c3774=>{const _0x56cffa=_0x1f7eff;scratchpadHighlighterColor=_0x1c3774[_0x56cffa(0x440)]['dataset'][_0x56cffa(0x303)],_0x57c265['querySelectorAll'](_0x56cffa(0x651))[_0x56cffa(0x488)](_0x4c52df=>_0x4c52df[_0x56cffa(0xab0)][_0x56cffa(0x48e)](_0x56cffa(0x57f))),_0x1c3774[_0x56cffa(0x440)][_0x56cffa(0xab0)]['add'](_0x56cffa(0x57f));});});const _0x2beabe=document[_0xc25bcb(0x44e)](_0xc25bcb(0x91a)),_0x2f6351=document['getElementById'](_0xc25bcb(0x19f));_0x2beabe[_0xc25bcb(0xb41)](_0xc25bcb(0x57e),_0x3cbf26=>{const _0x4d71d6=_0xc25bcb,_0xf4a7ed=parseInt(_0x3cbf26[_0x4d71d6(0x440)][_0x4d71d6(0x6ea)],0xa);scratchpadHighlighterSize=_0xf4a7ed,_0x2f6351[_0x4d71d6(0xb23)]=_0xf4a7ed;}),window['addEventListener'](_0xc25bcb(0x9e3),()=>{const _0x490335=_0xc25bcb;!_0x425e35[_0x490335(0xab0)][_0x490335(0x8be)](_0x490335(0x47d))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x26020e(0x39a),'name':_0x26020e(0x657),'description':_0x26020e(0x873),'icon':_0x26020e(0x91c)},'QUICK_THINKER':{'id':_0x26020e(0x441),'name':'เซียนสมองไว','description':_0x26020e(0x70c),'icon':_0x26020e(0x8c5)},'ON_FIRE':{'id':'on_fire','name':_0x26020e(0x18c),'description':_0x26020e(0x448),'icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0x26020e(0xbc0),'name':_0x26020e(0x649),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x26020e(0x930),'name':'ราชาคัมแบ็ก','description':_0x26020e(0x244),'icon':_0x26020e(0x1fe)},'SPECIALIST':{'id':_0x26020e(0x84f),'name':_0x26020e(0x389),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x26020e(0x730),'name':_0x26020e(0xc27),'description':_0x26020e(0xc2f),'icon':_0x26020e(0x95d)}},firebaseConfig={'apiKey':_0x26020e(0x982),'authDomain':_0x26020e(0x34a),'projectId':_0x26020e(0x93b),'storageBucket':_0x26020e(0x4ac),'messagingSenderId':'274192258111','appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x26020e(0x224)},appId=typeof __app_id!==_0x26020e(0x76e)?__app_id:_0x26020e(0xb60),adminView=document[_0x26020e(0x44e)](_0x26020e(0x67a)),studentView=document[_0x26020e(0x44e)](_0x26020e(0xc89)),projectDashboardView=document['getElementById']('project-dashboard-view'),projectDetailView=document[_0x26020e(0x44e)]('project-detail-view'),quizResultsView=document[_0x26020e(0x44e)](_0x26020e(0x78b)),projectList=document[_0x26020e(0x44e)](_0x26020e(0x742)),noProjectsMsg=document[_0x26020e(0x44e)](_0x26020e(0x6b6)),projectTitle=document[_0x26020e(0x44e)](_0x26020e(0xbac)),projectIdDisplay=document['getElementById'](_0x26020e(0x7c6)),studentList=document[_0x26020e(0x44e)](_0x26020e(0xb0f)),messageModal=document[_0x26020e(0x44e)](_0x26020e(0x5a4)),modalMessage=document[_0x26020e(0x44e)](_0x26020e(0x484)),createProjectModal=document[_0x26020e(0x44e)]('create-project-modal'),adminPasswordModal=document[_0x26020e(0x44e)](_0x26020e(0x4ca)),confirmationModal=document[_0x26020e(0x44e)](_0x26020e(0xc09)),userIdDisplay=document[_0x26020e(0x44e)](_0x26020e(0x384)),topicTab=document[_0x26020e(0x44e)](_0x26020e(0xbb6)),textTab=document[_0x26020e(0x44e)](_0x26020e(0x596)),topicInputArea=document['getElementById'](_0x26020e(0x623)),textInputArea=document[_0x26020e(0x44e)](_0x26020e(0x4c0)),manageTab=document[_0x26020e(0x44e)](_0x26020e(0x795)),resultsTab=document[_0x26020e(0x44e)](_0x26020e(0x3ef)),leaderboardTab=document[_0x26020e(0x44e)](_0x26020e(0x9a7)),manageTabContent=document[_0x26020e(0x44e)](_0x26020e(0x47b)),resultsTabContent=document[_0x26020e(0x44e)](_0x26020e(0x594)),leaderboardTabContent=document[_0x26020e(0x44e)](_0x26020e(0x6ec)),projectQuizzesList=document[_0x26020e(0x44e)](_0x26020e(0xa6b)),fileTab=document[_0x26020e(0x44e)](_0x26020e(0x6cc)),fileInputArea=document[_0x26020e(0x44e)]('file-input-area'),fileUploadInput=document[_0x26020e(0x44e)]('file-upload-input'),worksheetTab=document[_0x26020e(0x44e)](_0x26020e(0x3a7)),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document[_0x26020e(0x44e)](_0x26020e(0x40e)),studentInitialView=document[_0x26020e(0x44e)](_0x26020e(0xb11)),studentNameSelectionView=document[_0x26020e(0x44e)](_0x26020e(0x1dd)),studentQuizArea=document['getElementById'](_0x26020e(0x746)),studentResultArea=document[_0x26020e(0x44e)](_0x26020e(0xcce)),studentReadingArea=document[_0x26020e(0x44e)](_0x26020e(0x2c9)),loadQuizBtn=document[_0x26020e(0x44e)]('load-quiz-btn'),startQuizBtn=document['getElementById'](_0x26020e(0xab2)),studentJoinGameView=document[_0x26020e(0x44e)](_0x26020e(0x59c)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document[_0x26020e(0x44e)](_0x26020e(0x21d)),moveQuizModal=document['getElementById'](_0x26020e(0x181)),quizSettingsModal=document[_0x26020e(0x44e)](_0x26020e(0x7a6)),quizStatusModal=document[_0x26020e(0x44e)](_0x26020e(0xb99)),liveGameView=document[_0x26020e(0x44e)]('live-game-view');function handleFixLessonLatex(){const _0x44295d=_0x26020e,_0x2f2be5=document['getElementById'](_0x44295d(0xa83));if(!_0x2f2be5){showMessage(_0x44295d(0xc62));return;}const _0x30e7ad=_0x2f2be5['querySelectorAll']([_0x44295d(0xbc4),'.ai-content\x20li',_0x44295d(0x996),_0x44295d(0x811),_0x44295d(0x410)]['join'](','));let _0x5f25af=0x0;const _0x56d39b=_0x221e5a=>_0x221e5a[_0x44295d(0xb23)]||'',_0x24ff4d=(_0xfb360f,_0xae0c8)=>{const _0x4acb04=_0x44295d;if(_0xfb360f[_0x4acb04(0x6ca)]&&_0xfb360f[_0x4acb04(0x6ca)](_0x4acb04(0x9ac)))return;_0xfb360f['textContent']=_0xae0c8;},_0x19d7fa=_0x58ada9=>_0x58ada9['replace'](/\u00A0/g,'\x20')[_0x44295d(0x558)](/\u200B/g,'')[_0x44295d(0x558)](/\r\n?/g,'\x0a'),_0x46f07c=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4ed5fc=_0x4ece80=>{const _0x52967=_0x44295d;let _0x5d95d8=_0x4ece80[_0x52967(0x30d)]();const _0x3fb475=['frac',_0x52967(0x7f5),'tfrac',_0x52967(0x41d),'text',_0x52967(0xcd9),_0x52967(0x4fd),_0x52967(0xb39),'leq',_0x52967(0x6e2),'le','ge',_0x52967(0xafb),'pm',_0x52967(0x312),_0x52967(0x23a),_0x52967(0x480),_0x52967(0x1b1),'log','ln',_0x52967(0xc4e),_0x52967(0x5a3),'binom',_0x52967(0xa90),_0x52967(0x960),_0x52967(0x964),_0x52967(0x808),'circ','deg'];_0x3fb475[_0x52967(0x488)](_0x1aa115=>{const _0xfa6d04=_0x52967;_0x5d95d8=_0x5d95d8[_0xfa6d04(0x558)](new RegExp(_0xfa6d04(0x1c7)+_0x1aa115+'\x5cb','g'),(_0x2c60ae,_0x37ce1f)=>_0x37ce1f+'\x5c'+_0x1aa115);});const _0x5a1c88=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x52967(0x42c)],[/≤/g,_0x52967(0x29a)],[/≥/g,_0x52967(0x4b1)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,_0x52967(0x93a)],[/−/g,'-']];return _0x5a1c88[_0x52967(0x488)](([_0x5dc711,_0x153785])=>{const _0x55ac3a=_0x52967;_0x5d95d8=_0x5d95d8[_0x55ac3a(0x558)](_0x5dc711,_0x153785);}),_0x5d95d8=_0x5d95d8['replace'](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x5d95d8=_0x5d95d8[_0x52967(0x558)](/(\d+)\s*%/g,_0x52967(0x42b)),_0x5d95d8;},_0x40f6d2=_0x372f88=>{const _0x3aa63b=_0x44295d;if(/\$|\\\(|\\\[/['test'](_0x372f88))return _0x372f88;if(!_0x46f07c[_0x3aa63b(0x568)](_0x372f88))return _0x372f88;const _0x3b19ed=_0x372f88['match'](/^\s*/)[0x0],_0xfa1a96=_0x372f88[_0x3aa63b(0x728)](/\s*$/)[0x0],_0x118d3f=_0x372f88['trim']();return _0x3b19ed+'$'+_0x4ed5fc(_0x118d3f)+'$'+_0xfa1a96;};_0x30e7ad[_0x44295d(0x488)](_0x13f90f=>{const _0x57c488=_0x44295d,_0x1fc33a=_0x56d39b(_0x13f90f);let _0x1b045d=_0x19d7fa(_0x1fc33a);_0x1b045d=_0x1b045d[_0x57c488(0x558)](/\$([^$]*?)\$/g,(_0x91cf02,_0x247a83)=>'$'+_0x4ed5fc(_0x247a83)+'$');const _0x3fd252=_0x1b045d[_0x57c488(0x232)](/(\s+)/),_0x136dc1=_0x3fd252[_0x57c488(0xd0b)](_0x2fbf06=>{if(/\s+/['test'](_0x2fbf06))return _0x2fbf06;return _0x40f6d2(_0x2fbf06);});_0x1b045d=_0x136dc1[_0x57c488(0xaa4)](''),_0x1b045d!==_0x1fc33a&&(_0x24ff4d(_0x13f90f,_0x1b045d),_0x5f25af++);});if(_0x5f25af>0x0){showMessage(_0x44295d(0xbfc)+_0x5f25af+_0x44295d(0xb95));try{window[_0x44295d(0x597)]&&MathJax[_0x44295d(0xc74)]&&MathJax['typesetPromise']([_0x2f2be5]);}catch(_0x377470){console[_0x44295d(0x2fe)](_0x44295d(0x52e),_0x377470);}}else showMessage(_0x44295d(0x557));}function _0x48bc(_0x6bd730,_0x5c198e){const _0x421b2e=_0x421b();return _0x48bc=function(_0x48bc4d,_0x30aaa3){_0x48bc4d=_0x48bc4d-0x17d;let _0x100a6a=_0x421b2e[_0x48bc4d];return _0x100a6a;},_0x48bc(_0x6bd730,_0x5c198e);}function handleAutoFixLatex(){const _0x619094=_0x26020e,_0x2b8d19=document[_0x619094(0x44e)](_0x619094(0x584))||document,_0x30adf3=_0x2b8d19['querySelectorAll']('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x251092=0x0;const _0x3704cb=_0x37a272=>'value'in _0x37a272?String(_0x37a272['value']):_0x37a272[_0x619094(0x792)]!==undefined?_0x37a272[_0x619094(0x792)]:_0x37a272['textContent']||'',_0x5145dc=(_0x5cc54c,_0x16a094)=>{const _0x2a03ca=_0x619094;if(_0x2a03ca(0x6ea)in _0x5cc54c){_0x5cc54c[_0x2a03ca(0x6ea)]=_0x16a094;return;}if(_0x5cc54c[_0x2a03ca(0x6ca)]&&_0x5cc54c[_0x2a03ca(0x6ca)](_0x2a03ca(0x9ac)))return;if(_0x5cc54c[_0x2a03ca(0x792)]!==undefined)_0x5cc54c[_0x2a03ca(0x792)]=_0x16a094;else _0x5cc54c[_0x2a03ca(0xb23)]=_0x16a094;},_0x214f8a=_0xa3d2e3=>_0xa3d2e3['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x619094(0x558)](/\r\n?/g,'\x0a'),_0x202fd2=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x5b0ac4=_0x3821ca=>{const _0x3bed7f=_0x619094;let _0x553bcf=_0x3821ca[_0x3bed7f(0x30d)]();_0x553bcf=_0x553bcf['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x553bcf=_0x553bcf[_0x3bed7f(0x558)](/\bfrac(\d)(\d)/g,_0x3bed7f(0x9c7));const _0x1aa6dd=[_0x3bed7f(0x7e3),'sqrt',_0x3bed7f(0xcd9),_0x3bed7f(0x4fd),_0x3bed7f(0xb39),_0x3bed7f(0x321),_0x3bed7f(0x6e2),_0x3bed7f(0xafb),'pm',_0x3bed7f(0x23a),'cos',_0x3bed7f(0x1b1),'log','ln'];_0x1aa6dd['forEach'](_0x2dbcb9=>{const _0x43048f=_0x3bed7f;_0x553bcf=_0x553bcf[_0x43048f(0x558)](new RegExp(_0x43048f(0x1c7)+_0x2dbcb9+'\x5cb','g'),(_0x44335a,_0x59d2e4)=>_0x59d2e4+'\x5c'+_0x2dbcb9);});const _0x205935=[[/×/g,_0x3bed7f(0x294)],[/·/g,_0x3bed7f(0x24e)],[/÷/g,'\x5cdiv'],[/≤/g,_0x3bed7f(0x29a)],[/≥/g,'\x5cge'],[/≠/g,_0x3bed7f(0x38c)],[/±/g,'\x5cpm']];return _0x205935[_0x3bed7f(0x488)](([_0x5a3f5f,_0x17102d])=>{const _0xf506c6=_0x3bed7f;_0x553bcf=_0x553bcf[_0xf506c6(0x558)](_0x5a3f5f,_0x17102d);}),_0x553bcf;},_0x34491a=_0xb9d618=>{const _0x1a2840=_0x619094;if(/\$|\\\(|\\\[/[_0x1a2840(0x568)](_0xb9d618))return _0xb9d618;if(!_0x202fd2[_0x1a2840(0x568)](_0xb9d618))return _0xb9d618;const _0x2307e0=_0xb9d618[_0x1a2840(0x728)](/^\s*/)[0x0],_0x3b9db8=_0xb9d618[_0x1a2840(0x728)](/\s*$/)[0x0],_0x5ea4bb=_0xb9d618[_0x1a2840(0x30d)]();return _0x2307e0+'$'+_0x5b0ac4(_0x5ea4bb)+'$'+_0x3b9db8;};_0x30adf3[_0x619094(0x488)](_0xf7df41=>{const _0x5dd35d=_0x619094,_0x461f27=_0x3704cb(_0xf7df41);let _0x286c0c=_0x214f8a(_0x461f27);_0x286c0c=_0x286c0c[_0x5dd35d(0x558)](/\$([^$]*?)\$/g,(_0x5b5d02,_0x4e9340)=>'$'+_0x5b0ac4(_0x4e9340)+'$');const _0x181040=_0x286c0c[_0x5dd35d(0x232)](/(\s+)/),_0x1f2f24=_0x181040['map'](_0x373506=>/\s+/[_0x5dd35d(0x568)](_0x373506)?_0x373506:_0x34491a(_0x373506));_0x286c0c=_0x1f2f24[_0x5dd35d(0xaa4)](''),_0x286c0c!==_0x461f27&&(_0x5145dc(_0xf7df41,_0x286c0c),_0x251092++);});if(_0x251092>0x0){showMessage(_0x619094(0xbcf)+_0x251092+_0x619094(0xc1a));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax[_0x619094(0xc74)]();}catch(_0x2d3185){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0xa49a55=_0x26020e,_0x1f8a50=collection(db,_0xa49a55(0xc3e)+appId+_0xa49a55(0x4a9));onSnapshot(_0x1f8a50,_0x2a66a3=>{const _0x193ff3=_0xa49a55;customMathTopics=_0x2a66a3[_0x193ff3(0x8d6)]['map'](_0x215bc7=>({'id':_0x215bc7['id'],..._0x215bc7[_0x193ff3(0xb97)]()})),renderTopicCheckboxes();},_0x15e5ab=>{const _0x832bd5=_0xa49a55;console[_0x832bd5(0x2fe)](_0x832bd5(0xc05),_0x15e5ab);});}function handleSelectAllTopics(){const _0x44bd59=_0x26020e,_0x7b84c=document['getElementById']('math-topics-checkbox-container'),_0x4dbc74=_0x7b84c[_0x44bd59(0xb04)](_0x44bd59(0x40a));_0x4dbc74[_0x44bd59(0x488)](_0x75d62f=>{const _0x1f7dea=_0x44bd59;_0x75d62f[_0x1f7dea(0x8ab)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x348a6a=_0x26020e,_0xc7f66a=document[_0x348a6a(0x44e)](_0x348a6a(0xbf6)),_0x13215f=_0xc7f66a[_0x348a6a(0xb04)](_0x348a6a(0x40a));_0x13215f[_0x348a6a(0x488)](_0x8695ef=>{const _0x13aa93=_0x348a6a;_0x8695ef[_0x13aa93(0x8ab)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x356a88){const _0x2012fd=_0x26020e;if(!_0x356a88)return;try{const _0x206160=doc(db,_0x2012fd(0xc3e)+appId+_0x2012fd(0x4a9),_0x356a88);await deleteDoc(_0x206160),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x37bff1){console['error'](_0x2012fd(0x6de),_0x37bff1),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x517138=_0x26020e,_0x138fc0=document[_0x517138(0x44e)](_0x517138(0x56a)),_0x404441=_0x138fc0[_0x517138(0x6ea)]['trim']();if(!_0x404441){showMessage(_0x517138(0x81d));return;}if(!userId){showMessage(_0x517138(0x5f2));return;}try{const _0x5f554c=collection(db,_0x517138(0xc3e)+appId+'/public/data/customMathTopics');await addDoc(_0x5f554c,{'name':_0x404441,'createdAt':serverTimestamp()}),_0x138fc0['value']='',showMessage(_0x517138(0xc58)+_0x404441+_0x517138(0x921));}catch(_0x1ca6a5){console[_0x517138(0x2fe)](_0x517138(0x465),_0x1ca6a5),showMessage(_0x517138(0x86c));}}async function handleUpdateOldQuizzes(){const _0x5bb6cd=_0x26020e;showConfirmation(_0x5bb6cd(0x41b),async()=>{const _0xcd820b=_0x5bb6cd,_0x36c3cc=document['getElementById'](_0xcd820b(0x438)),_0x19cf26=document[_0xcd820b(0x44e)]('loader-text'),_0x50755c=_0x19cf26[_0xcd820b(0xb23)];_0x36c3cc[_0xcd820b(0xab0)][_0xcd820b(0x48e)](_0xcd820b(0x47d)),_0x19cf26[_0xcd820b(0xb23)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x439f61=collection(db,_0xcd820b(0xc3e)+appId+_0xcd820b(0xa7d)),_0x5d06d5=await getDocs(_0x439f61);if(_0x5d06d5['empty']){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0xfa6d38=writeBatch(db);let _0x41dbe0=0x0;_0x5d06d5[_0xcd820b(0x488)](_0x1b6438=>{const _0x15d0fe=_0xcd820b,_0x3a1220=_0x1b6438[_0x15d0fe(0xb97)](),_0x533c9a=_0x1b6438['id'];if(_0x3a1220[_0x15d0fe(0x1c9)]&&_0x3a1220[_0x15d0fe(0x1c9)][_0x15d0fe(0x73e)]>0x0&&!_0x3a1220['questions'][0x0][_0x15d0fe(0x628)]('id')){console[_0x15d0fe(0x824)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x533c9a+'\x20('+_0x3a1220['topic']+')'),_0x41dbe0++;const _0x175d95=_0x3a1220['questions'][_0x15d0fe(0xd0b)]((_0x19c04e,_0x4c9f24)=>{const _0x33bbfb=_0x15d0fe;return{..._0x19c04e,'id':_0x19c04e['id']||'q_'+Date[_0x33bbfb(0xc63)]()+'_'+_0x533c9a+'_'+_0x4c9f24};}),_0x42fff8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x533c9a);_0xfa6d38[_0x15d0fe(0x183)](_0x42fff8,{'questions':_0x175d95});}}),_0x41dbe0>0x0?(_0x19cf26[_0xcd820b(0xb23)]=_0xcd820b(0x18a)+_0x41dbe0+_0xcd820b(0x2b2),await _0xfa6d38[_0xcd820b(0x7dc)](),showMessage(_0xcd820b(0xa94)+_0x41dbe0+_0xcd820b(0x5d6))):showMessage(_0xcd820b(0x92c));}catch(_0x447bf9){console[_0xcd820b(0x2fe)]('Error\x20updating\x20old\x20quizzes:',_0x447bf9),showMessage(_0xcd820b(0x368)+_0x447bf9[_0xcd820b(0x9d4)]);}finally{_0x36c3cc[_0xcd820b(0xab0)][_0xcd820b(0x75b)]('hidden'),_0x19cf26['textContent']=_0x50755c;}});}async function handleBulkUpdateQuizSettings(){const _0x328796=_0x26020e,_0x5980d9={'shuffle':document[_0x328796(0x44e)](_0x328796(0x7ad))[_0x328796(0x6ea)],'resultsDisplay':document[_0x328796(0x44e)]('bulk-results-display-select')[_0x328796(0x6ea)],'loopUntilPass':document[_0x328796(0x44e)](_0x328796(0x32b))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x328796(0x2c2))[_0x328796(0x8ab)],'confidenceMode':document[_0x328796(0x44e)](_0x328796(0x966))[_0x328796(0x6ea)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x3ab0e3=await getDocs(collection(db,_0x328796(0xc3e)+appId+_0x328796(0xa7d))),_0x4cb131=_0x3ab0e3[_0x328796(0x8d6)][_0x328796(0xd0b)](_0x203b43=>({'id':_0x203b43['id'],'data':_0x203b43[_0x328796(0xb97)]()})),_0x200928=_0x4cb131[_0x328796(0x73e)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x200928+_0x328796(0xba9),async()=>{const _0x4a68bb=_0x328796,_0x12b5ef=document[_0x4a68bb(0x44e)](_0x4a68bb(0x408));_0x12b5ef[_0x4a68bb(0x993)]=!![],_0x12b5ef[_0x4a68bb(0x4c4)]=_0x4a68bb(0x90a);try{const _0x2d89f4=writeBatch(db);_0x4cb131[_0x4a68bb(0x488)](_0x40214d=>{const _0xfd04c8=_0x4a68bb,_0x20fd25=doc(db,'artifacts/'+appId+_0xfd04c8(0xa7d),_0x40214d['id']),_0x3b6793={..._0x40214d['data'][_0xfd04c8(0x798)]||{},..._0x5980d9};_0x2d89f4[_0xfd04c8(0x183)](_0x20fd25,{'settings':_0x3b6793});}),await _0x2d89f4['commit'](),document[_0x4a68bb(0x44e)](_0x4a68bb(0x4e7))['classList']['add'](_0x4a68bb(0x47d)),showMessage(_0x4a68bb(0xcb8)+_0x200928+'\x20ชุดสำเร็จ!');}catch(_0x17d2b3){console[_0x4a68bb(0x2fe)](_0x4a68bb(0xc25),_0x17d2b3),showMessage(_0x4a68bb(0x316));}finally{_0x12b5ef[_0x4a68bb(0x993)]=![],_0x12b5ef[_0x4a68bb(0x4c4)]=_0x4a68bb(0x69e);}});}catch(_0x5442c6){console[_0x328796(0x2fe)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x5442c6),showMessage(_0x328796(0xbda));}}async function handleSaveProjectName(){const _0x54846a=_0x26020e,_0x5e316c=document[_0x54846a(0x44e)](_0x54846a(0xbac)),_0x1e7699=document[_0x54846a(0x44e)](_0x54846a(0x7e1)),_0x4f4d32=_0x5e316c[_0x54846a(0xb23)][_0x54846a(0x30d)]();if(!_0x4f4d32||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x5e316c[_0x54846a(0xb23)]=currentProjectData[_0x54846a(0x8d8)];return;}_0x1e7699[_0x54846a(0x993)]=!![],_0x1e7699[_0x54846a(0x4c4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x1d27a3=doc(db,_0x54846a(0xc3e)+appId+_0x54846a(0x828),currentProjectId);await updateDoc(_0x1d27a3,{'projectName':_0x4f4d32}),currentProjectData&&(currentProjectData[_0x54846a(0x8d8)]=_0x4f4d32),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x24ffca){console['error'](_0x54846a(0xc4f),_0x24ffca),showMessage(_0x54846a(0xadd)),_0x5e316c['textContent']=currentProjectData[_0x54846a(0x8d8)];}finally{_0x1e7699[_0x54846a(0xab0)]['add'](_0x54846a(0x47d)),_0x1e7699[_0x54846a(0x993)]=![],_0x1e7699[_0x54846a(0x4c4)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x5334aa,_0x26c4dd){const _0x19dc49=_0x26020e,_0xbe837=document[_0x19dc49(0x44e)](_0x19dc49(0x7c9)),_0x2d33fc=document[_0x19dc49(0x44e)](_0x19dc49(0x587)),_0x18fd98=document[_0x19dc49(0x44e)]('lesson-loader'),_0xbb247f=document[_0x19dc49(0x44e)](_0x19dc49(0x3e0));_0x2d33fc[_0x19dc49(0xb23)]=_0x19dc49(0x541)+_0x5334aa,_0xbb247f['classList'][_0x19dc49(0x75b)](_0x19dc49(0x47d)),_0x18fd98['classList'][_0x19dc49(0x48e)](_0x19dc49(0x47d)),_0xbe837[_0x19dc49(0xab0)][_0x19dc49(0x48e)](_0x19dc49(0x47d)),generatePracticeTest(_0x5334aa,_0x26c4dd)['catch'](_0x38eea9=>{const _0x8ff5a5=_0x19dc49;console[_0x8ff5a5(0x2fe)](_0x8ff5a5(0x268),_0x38eea9),showMessage(_0x8ff5a5(0x58c)),_0xbe837[_0x8ff5a5(0xab0)][_0x8ff5a5(0x75b)](_0x8ff5a5(0x47d));});}async function generatePracticeTest(_0x35e56e,_0x56f24d){const _0x48c98d=_0x26020e;[_0x48c98d(0x72f),_0x48c98d(0x778),_0x48c98d(0xb71),_0x48c98d(0xcf7)]['forEach'](_0xb72708=>{const _0x334f1b=_0x48c98d,_0x92df2f=document[_0x334f1b(0x44e)](_0xb72708)['parentElement'];_0x92df2f&&(_0x92df2f[_0x334f1b(0x456)][_0x334f1b(0x890)]=_0x334f1b(0x334));});try{const _0x3a4dfb='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x168892='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x56f24d+_0x48c98d(0x79a)+_0x35e56e+_0x48c98d(0x963),_0x38f485=await callGemini(_0x168892,!![]),_0x4054d0=document[_0x48c98d(0x44e)](_0x48c98d(0x587)),_0x1190cb=document['getElementById'](_0x48c98d(0x339)),_0x6be4a2=document[_0x48c98d(0x44e)]('lesson-sections-container'),_0x5cd7d1=document[_0x48c98d(0x44e)](_0x48c98d(0xb71))[_0x48c98d(0x72d)];_0x4054d0[_0x48c98d(0x792)]=_0x48c98d(0x83d)+_0x35e56e[_0x48c98d(0x558)](/•\s/g,'')+_0x48c98d(0x547)+_0x56f24d+')',currentApplicationData=JSON[_0x48c98d(0x22b)](_0x38f485);const _0x3366b7=document[_0x48c98d(0x44e)](_0x48c98d(0xb71));_0x3366b7[_0x48c98d(0x4c4)]=currentApplicationData['map']((_0x4ba129,_0x1c8df0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x1c8df0+0x1)+'.\x20'+marked[_0x48c98d(0xb83)](_0x4ba129['question'])+_0x48c98d(0x92a)+_0x1c8df0+_0x48c98d(0x331)+_0x4ba129[_0x48c98d(0x3e3)][_0x48c98d(0xd0b)]((_0x543a46,_0x251120)=>_0x48c98d(0x764)+_0x1c8df0+',\x20'+_0x251120+')\x22>'+String[_0x48c98d(0x3cd)](0x61+_0x251120)+'.\x20'+marked['parseInline'](_0x543a46)+_0x48c98d(0xb62))[_0x48c98d(0xaa4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x48c98d(0xaa4)](''),window['MathJax']&&MathJax[_0x48c98d(0xc74)]([_0x3366b7]),_0x5cd7d1&&(_0x5cd7d1[_0x48c98d(0x456)][_0x48c98d(0x890)]='block'),_0x1190cb[_0x48c98d(0xab0)][_0x48c98d(0x75b)](_0x48c98d(0x47d)),_0x6be4a2[_0x48c98d(0xab0)][_0x48c98d(0x48e)](_0x48c98d(0x47d));}catch(_0x49d9da){console[_0x48c98d(0x2fe)](_0x49d9da);throw _0x49d9da;}}async function callGemini(_0x597fe6,_0x42b710=![]){const _0x457767=_0x26020e,_0x278a29=_0x457767(0x6b2),_0x33faef=_0x457767(0x9e8)+_0x278a29,_0x28eefc={'contents':[{'parts':[{'text':_0x597fe6}]}]};_0x42b710&&(_0x28eefc[_0x457767(0x880)]={'responseMimeType':_0x457767(0x6bf)},_0x597fe6[_0x457767(0xae9)]('Test\x20Blueprint')?_0x28eefc[_0x457767(0x880)][_0x457767(0x1b5)]={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x457767(0x52a)},'curriculum':{'type':_0x457767(0x7ca),'items':{'type':_0x457767(0x51e),'properties':{'sara':{'type':_0x457767(0x52a)},'mainTopics':{'type':_0x457767(0x7ca),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x457767(0x52a)},'subTopics':{'type':'ARRAY','items':{'type':_0x457767(0x52a)}}},'required':['topicName',_0x457767(0x521)]}}},'required':[_0x457767(0x77f),_0x457767(0x6d8)]}}},'required':[_0x457767(0x442),_0x457767(0x94e)]}:_0x28eefc['generationConfig'][_0x457767(0x1b5)]={'type':'ARRAY','items':{'type':_0x457767(0x51e),'properties':{'question':{'type':_0x457767(0x52a)},'options':{'type':_0x457767(0x7ca),'items':{'type':'STRING'}},'answer':{'type':_0x457767(0x877)}},'required':['question','options',_0x457767(0x204)]}});try{const _0x16251b=await fetch(_0x33faef,{'method':_0x457767(0x7a5),'headers':{'Content-Type':_0x457767(0x6bf)},'body':JSON[_0x457767(0x98d)](_0x28eefc)});if(!_0x16251b['ok']){const _0x33ce75=await _0x16251b[_0x457767(0x2ac)]();console[_0x457767(0x2fe)](_0x457767(0xbcc),_0x33ce75);throw new Error(_0x457767(0xba8)+_0x16251b['status']);}const _0x2be372=await _0x16251b[_0x457767(0xb0d)]();if(_0x2be372[_0x457767(0xa7a)]&&_0x2be372[_0x457767(0xa7a)][0x0][_0x457767(0x25a)]&&_0x2be372['candidates'][0x0]['content'][_0x457767(0x3fa)][0x0])return _0x2be372[_0x457767(0xa7a)][0x0][_0x457767(0x25a)][_0x457767(0x3fa)][0x0][_0x457767(0x2ac)];else{console[_0x457767(0x2fe)](_0x457767(0x5c7),_0x2be372);if(_0x2be372[_0x457767(0xa7a)]&&_0x2be372['candidates'][0x0][_0x457767(0x894)]===_0x457767(0x7e2))return JSON[_0x457767(0x98d)]({'error':_0x457767(0x390)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x2b748d){console[_0x457767(0x2fe)](_0x457767(0x67f),_0x2b748d);throw _0x2b748d;}}async function generateLesson(_0x88fc31=null,_0x47f5d2=null){const _0x52dbe4=_0x26020e,_0x5a6ca7=_0x88fc31,_0x2dec96=_0x47f5d2||_0x52dbe4(0x8c6),_0x4e032d=document[_0x52dbe4(0x44e)]('lesson-loader'),_0x1f5a43=document[_0x52dbe4(0x44e)](_0x52dbe4(0xba1));_0x1f5a43[_0x52dbe4(0xb23)]=_0x52dbe4(0x9cf)+_0x5a6ca7+_0x52dbe4(0xa06);try{let _0xa94a37=[];const _0x4d0ba5=document[_0x52dbe4(0x44e)](_0x52dbe4(0x218))?.[_0x52dbe4(0x6ea)]['trim']();if(_0x4d0ba5)try{_0x1f5a43[_0x52dbe4(0xb23)]=_0x52dbe4(0xa4c);const _0x44d31c=await fetchFileFromUrl(_0x4d0ba5,'reference_onet.pdf'),_0x3c3667=await new Promise((_0x2ab300,_0xdfe5b0)=>{const _0x1cda89=_0x52dbe4,_0xa36ce8=new FileReader();_0xa36ce8[_0x1cda89(0x56e)](_0x44d31c),_0xa36ce8[_0x1cda89(0x217)]=()=>_0x2ab300(_0xa36ce8[_0x1cda89(0x961)][_0x1cda89(0x232)](',')[0x1]),_0xa36ce8['onerror']=_0xdfe5b0;});_0xa94a37[_0x52dbe4(0xa2a)]({'inlineData':{'mimeType':_0x44d31c['type'],'data':_0x3c3667}});}catch(_0x31be49){console[_0x52dbe4(0x2fe)](_0x52dbe4(0x946),_0x31be49),showMessage(_0x52dbe4(0x337));}const _0x570e1e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x5a6ca7+_0x52dbe4(0x286)+_0x5a6ca7+_0x52dbe4(0xa50);_0x1f5a43[_0x52dbe4(0xb23)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x5a6ca7+_0x52dbe4(0xa06);const _0x2a0650=_0x52dbe4(0x1fa)+_0x2dec96+'\x27\x20ในหัวข้อ\x20\x27'+_0x5a6ca7+_0x52dbe4(0x31c)+_0x570e1e+_0x52dbe4(0x632),_0x73581b='สำหรับหัวข้อ\x20\x27'+_0x5a6ca7+_0x52dbe4(0x956)+_0x2dec96+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x570e1e+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x4ae3c2='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x2dec96+'\x27\x20ในหัวข้อ\x20\x27'+_0x5a6ca7+_0x52dbe4(0x804)+_0x570e1e+_0x52dbe4(0x311),_0x51b708=_0x52dbe4(0xbfb)+_0x5a6ca7+_0x52dbe4(0x1e7)+_0x2dec96+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x570e1e+_0x52dbe4(0x284),_0x1acc9c={'type':_0x52dbe4(0x7ca),'items':{'type':_0x52dbe4(0x51e),'properties':{'question':{'type':_0x52dbe4(0x52a)},'options':{'type':_0x52dbe4(0x7ca),'items':{'type':_0x52dbe4(0x52a)}},'answer':{'type':'NUMBER'}},'required':[_0x52dbe4(0xbe6),_0x52dbe4(0x3e3),_0x52dbe4(0x204)]}},[_0x5e25c3,_0x13013e,_0x430ef2,_0x1ed664]=await Promise[_0x52dbe4(0x3bc)]([handleApiCall([{'text':_0x2a0650},..._0xa94a37],'...',null,null,![]),handleApiCall([{'text':_0x73581b},..._0xa94a37],'...',null,null,![]),handleApiCall([{'text':_0x4ae3c2},..._0xa94a37],_0x52dbe4(0xca0),_0x1acc9c,null,![]),handleApiCall([{'text':_0x51b708},..._0xa94a37],_0x52dbe4(0xca0),null,null,![])]),_0x524a76=JSON[_0x52dbe4(0x98d)](_0x430ef2||[]),_0x36a465=document[_0x52dbe4(0x44e)](_0x52dbe4(0x587)),_0x4b0840=document['getElementById'](_0x52dbe4(0x3e0));_0x36a465[_0x52dbe4(0x792)]='บทเรียนเรื่อง:\x20'+_0x5a6ca7[_0x52dbe4(0x558)](/•\\s/g,'')+_0x52dbe4(0x547)+_0x2dec96+')',['pointContent','memoryContent',_0x52dbe4(0xcf7)][_0x52dbe4(0x488)](_0x330adb=>{const _0x10e46a=_0x52dbe4;document['getElementById'](_0x330adb)[_0x10e46a(0x4c4)]='';}),document[_0x52dbe4(0x44e)](_0x52dbe4(0x72f))['innerHTML']=_0x5e25c3?marked[_0x52dbe4(0x22b)](_0x5e25c3):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x52dbe4(0x44e)](_0x52dbe4(0x778))[_0x52dbe4(0x4c4)]=_0x13013e?marked[_0x52dbe4(0x22b)](_0x13013e):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById'](_0x52dbe4(0xcf7))[_0x52dbe4(0x4c4)]=_0x1ed664?marked[_0x52dbe4(0x22b)](_0x1ed664):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON['parse'](_0x524a76);const _0x278c07=document[_0x52dbe4(0x44e)]('applicationContent');_0x278c07['innerHTML']=(currentApplicationData||[])[_0x52dbe4(0xd0b)]((_0x383fd7,_0x4cb7a7)=>_0x52dbe4(0x61c)+(_0x4cb7a7+0x1)+'.\x20'+marked[_0x52dbe4(0xb83)](_0x383fd7['question']||'')+_0x52dbe4(0x92a)+_0x4cb7a7+_0x52dbe4(0x331)+(_0x383fd7[_0x52dbe4(0x3e3)]||[])[_0x52dbe4(0xd0b)]((_0x2b0b35,_0x2c9899)=>_0x52dbe4(0x764)+_0x4cb7a7+',\x20'+_0x2c9899+_0x52dbe4(0x7cf)+String[_0x52dbe4(0x3cd)](0x61+_0x2c9899)+'.\x20'+marked[_0x52dbe4(0xb83)](_0x2b0b35||'')+_0x52dbe4(0xb62))[_0x52dbe4(0xaa4)]('')+_0x52dbe4(0x4d3))['join']('')||_0x52dbe4(0x17f),window[_0x52dbe4(0x597)]&&MathJax[_0x52dbe4(0xc74)]([_0x4b0840]),_0x4e032d[_0x52dbe4(0xab0)][_0x52dbe4(0x75b)](_0x52dbe4(0x47d)),_0x4b0840[_0x52dbe4(0xab0)][_0x52dbe4(0x48e)](_0x52dbe4(0x47d));}catch(_0x17e9ec){console[_0x52dbe4(0x2fe)](_0x17e9ec);throw _0x17e9ec;}}function checkAnswer(_0x403814,_0x457f12){const _0x33c4cb=_0x26020e,_0x17828c=currentApplicationData[_0x403814],_0x2554fa=document[_0x33c4cb(0x44e)]('q'+_0x403814+_0x33c4cb(0x236)),_0x574be8=_0x2554fa[_0x33c4cb(0x180)](_0x33c4cb(0x4a1));for(let _0x436dc9 of _0x574be8){_0x436dc9[_0x33c4cb(0x993)]=!![];}_0x457f12===_0x17828c['answer']?_0x574be8[_0x457f12][_0x33c4cb(0xab0)][_0x33c4cb(0x75b)]('correct'):(_0x574be8[_0x457f12][_0x33c4cb(0xab0)][_0x33c4cb(0x75b)](_0x33c4cb(0xaad)),_0x574be8[_0x17828c[_0x33c4cb(0x204)]][_0x33c4cb(0xab0)]['add'](_0x33c4cb(0x51d)));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x26020e(0xb96)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x5475f4=_0x26020e;try{const _0x5032fc=initializeApp(firebaseConfig);db=getFirestore(_0x5032fc),auth=getAuth(_0x5032fc),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x2a4e64){console[_0x5475f4(0x2fe)](_0x5475f4(0x8cf),_0x2a4e64),showMessage(_0x5475f4(0xb09));}}async function handleVerifyAnswersInEditor(){const _0x2176b3=_0x26020e,_0x3e3bc9=document[_0x2176b3(0x44e)](_0x2176b3(0x1fb));if(!_0x3e3bc9)return;const _0xa762da=document[_0x2176b3(0x44e)](_0x2176b3(0x246));_0xa762da[_0x2176b3(0x993)]=!![],_0xa762da[_0x2176b3(0x4c4)]=_0x2176b3(0x2a0);try{const _0x490ebb=_0x3e3bc9[_0x2176b3(0xb04)]('.question-editor-item'),_0x1bab8b=Array['from'](_0x490ebb)[_0x2176b3(0xd0b)]((_0x1b7474,_0x1e3896)=>{const _0x2d0efb=_0x2176b3,_0x38ae22=_0x1b7474[_0x2d0efb(0xd00)][_0x2d0efb(0x89c)],_0x224436=_0x1b7474[_0x2d0efb(0x6ca)]('textarea')[_0x2d0efb(0x6ea)];let _0x110131=null,_0x5850db='';switch(_0x38ae22){case _0x2d0efb(0xbad):const _0x4c3644=_0x1b7474[_0x2d0efb(0xb04)](_0x2d0efb(0x1fc));_0x110131=Array[_0x2d0efb(0x346)](_0x4c3644)[_0x2d0efb(0xd0b)](_0x5b1953=>_0x5b1953[_0x2d0efb(0x6ea)]);const _0x4ce9a1=_0x1b7474[_0x2d0efb(0x6ca)]('input[type=\x22radio\x22]:checked');_0x4ce9a1&&(_0x5850db=_0x110131[parseInt(_0x4ce9a1[_0x2d0efb(0x6ea)])]);break;case'short_answer':_0x5850db=_0x1b7474[_0x2d0efb(0x6ca)](_0x2d0efb(0x34f))[_0x2d0efb(0x6ea)];break;case'true_false':const _0x135427=_0x1b7474[_0x2d0efb(0x6ca)](_0x2d0efb(0x8cb));_0x5850db=_0x135427?_0x135427[_0x2d0efb(0x6ea)]:'';break;case'matching_item':_0x5850db=_0x1b7474[_0x2d0efb(0x6ca)](_0x2d0efb(0x895))[_0x2d0efb(0x6ea)];break;}return{'question':_0x224436,'options':_0x110131,'proposedAnswer':_0x5850db};}),_0x4b4c89=_0x2176b3(0x202)+JSON[_0x2176b3(0x98d)](_0x1bab8b)+_0x2176b3(0x45e),_0x5164f6={'type':'ARRAY','items':{'type':_0x2176b3(0x51e),'properties':{'questionIndex':{'type':_0x2176b3(0x877)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x2176b3(0x52a)},'suggestedAnswer':{'type':_0x2176b3(0x52a)}},'required':[_0x2176b3(0x923),_0x2176b3(0xaf2),_0x2176b3(0xc33)]}},_0x24f44d=await callAnalysisApi(_0x4b4c89,{'type':'OBJECT','properties':{'result':_0x5164f6},'required':[_0x2176b3(0x961)]});displayVerificationResultsInEditor(_0x24f44d[_0x2176b3(0x961)]);}catch(_0x56070f){console[_0x2176b3(0x2fe)](_0x2176b3(0xcee),_0x56070f),showMessage(_0x2176b3(0xb80));}finally{_0xa762da[_0x2176b3(0x993)]=![],_0xa762da[_0x2176b3(0x4c4)]=_0x2176b3(0x4b8);}}function displayVerificationResultsInEditor(_0xb21077){const _0x6cff72=_0x26020e;_0xb21077[_0x6cff72(0x488)](_0x1291af=>{const _0x10e91e=_0x6cff72,_0x452101=document[_0x10e91e(0x6ca)](_0x10e91e(0xa76)+_0x1291af[_0x10e91e(0x923)]+'\x22]');if(!_0x452101)return;const _0x57f2c3=_0x452101[_0x10e91e(0x6ca)]('.verification-result-editor');if(_0x57f2c3)_0x57f2c3[_0x10e91e(0x48e)]();let _0x564277='';if(_0x1291af[_0x10e91e(0xaf2)])_0x564277=_0x10e91e(0xc20);else{const _0x5c270e=_0x1291af[_0x10e91e(0x4c3)]?_0x10e91e(0x8c9):'';_0x564277=_0x10e91e(0x630)+_0x5c270e+_0x10e91e(0x601)+_0x1291af[_0x10e91e(0xc33)]+_0x10e91e(0xcde)+(_0x1291af['suggestedAnswer']?_0x10e91e(0x345)+_0x1291af[_0x10e91e(0x4c3)]+_0x10e91e(0xb75):'')+_0x10e91e(0xa11);}_0x452101['insertAdjacentHTML'](_0x10e91e(0x87a),_0x564277);if(!_0x1291af[_0x10e91e(0xaf2)]&&_0x1291af['suggestedAnswer']){const _0x389b25=_0x452101[_0x10e91e(0xd00)][_0x10e91e(0x89c)],_0xcc4fa4=_0x1905bd=>{const _0x569ea4=_0x10e91e;if(!_0x1905bd)return;_0x1905bd[_0x569ea4(0xab0)]['add'](_0x569ea4(0x4c9),_0x569ea4(0x65d),_0x569ea4(0x86d)),setTimeout(()=>{const _0x5adfbc=_0x569ea4;_0x1905bd[_0x5adfbc(0xab0)]['remove']('bg-green-200');},0x9c4);};if(_0x389b25===_0x10e91e(0xbad)){const _0x30d304=Array[_0x10e91e(0x346)](_0x452101[_0x10e91e(0xb04)]('input[type=\x22text\x22]')),_0x282585=_0x30d304[_0x10e91e(0xc87)](_0x4668f0=>_0x4668f0[_0x10e91e(0x6ea)][_0x10e91e(0x30d)]()[_0x10e91e(0x552)]()===_0x1291af[_0x10e91e(0x4c3)][_0x10e91e(0x30d)]()[_0x10e91e(0x552)]());if(_0x282585!==-0x1){const _0x34c1e9=_0x452101[_0x10e91e(0x6ca)](_0x10e91e(0x774)+_0x282585+'\x22]');_0x34c1e9&&(_0x34c1e9[_0x10e91e(0x8ab)]=!![],_0xcc4fa4(_0x34c1e9[_0x10e91e(0xcf9)]('div')));}}else{if(_0x389b25===_0x10e91e(0x500)||_0x389b25===_0x10e91e(0x5b6)){const _0x49c5b5=_0x452101[_0x10e91e(0x6ca)](_0x10e91e(0x295));_0x49c5b5&&(_0x49c5b5[_0x10e91e(0x6ea)]=_0x1291af[_0x10e91e(0x4c3)],_0xcc4fa4(_0x49c5b5));}else{if(_0x389b25===_0x10e91e(0x7e8)){const _0x1742f3=_0x1291af['suggestedAnswer']['trim']()[_0x10e91e(0x552)](),_0x2b1f86=_0x452101['querySelector'](_0x10e91e(0x774)+_0x1742f3+'\x22]');_0x2b1f86&&(_0x2b1f86['checked']=!![],_0xcc4fa4(_0x2b1f86[_0x10e91e(0xcf9)](_0x10e91e(0xb39))));}}}}}),showMessage(_0x6cff72(0x333));}async function handleVerifyAnswers(){const _0x355e8d=_0x26020e;if(!currentQuizData||!currentQuizData[_0x355e8d(0x1c9)]){showMessage(_0x355e8d(0x431));return;}const _0xe4feb7=document[_0x355e8d(0x44e)](_0x355e8d(0x979));_0xe4feb7[_0x355e8d(0x993)]=!![],_0xe4feb7[_0x355e8d(0x4c4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x5b78d3=currentQuizData['questions'][_0x355e8d(0xd0b)]((_0x4812aa,_0x2bb615)=>{const _0x5583a1=_0x355e8d;let _0xac34ce='';const _0x1c565e=_0x4812aa['questionType']||currentQuizData[_0x5583a1(0x31d)];switch(_0x1c565e){case _0x5583a1(0xbad):_0xac34ce=_0x4812aa[_0x5583a1(0x3e3)][_0x4812aa[_0x5583a1(0xa5b)]];break;case'short_answer':_0xac34ce=_0x4812aa[_0x5583a1(0x2a5)];break;case _0x5583a1(0x7e8):_0xac34ce=_0x4812aa[_0x5583a1(0x7ba)][_0x5583a1(0x1e5)]();break;case _0x5583a1(0x5b6):_0xac34ce=_0x4812aa[_0x5583a1(0xb53)];break;}return{'question':_0x4812aa[_0x5583a1(0xb16)]||_0x4812aa[_0x5583a1(0xbbe)],'options':_0x4812aa[_0x5583a1(0x3e3)]||null,'proposedAnswer':_0xac34ce};}),_0x25a24e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x355e8d(0x98d)](_0x5b78d3)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2d374f={'type':_0x355e8d(0x7ca),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x355e8d(0x877)},'isCorrect':{'type':_0x355e8d(0x533)},'justification':{'type':_0x355e8d(0x52a)},'suggestedAnswer':{'type':_0x355e8d(0x52a)}},'required':['questionIndex','isCorrect',_0x355e8d(0xc33)]}},_0x9a0726=await callAnalysisApi(_0x25a24e,{'type':_0x355e8d(0x51e),'properties':{'result':_0x2d374f},'required':[_0x355e8d(0x961)]});displayVerificationResults(_0x9a0726[_0x355e8d(0x961)]);}catch(_0x37d913){console[_0x355e8d(0x2fe)](_0x355e8d(0x8a7),_0x37d913),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0xe4feb7['disabled']=![],_0xe4feb7[_0x355e8d(0x4c4)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x11dfdd){const _0x31d20a=_0x26020e;_0x11dfdd[_0x31d20a(0x488)](_0x248ca5=>{const _0x582e23=_0x31d20a,_0x396dc4=document[_0x582e23(0x6ca)](_0x582e23(0x951)+_0x248ca5[_0x582e23(0x923)]+'\x22]');if(_0x396dc4){const _0x3f0fcf=_0x396dc4['querySelector'](_0x582e23(0x563));if(_0x3f0fcf)_0x3f0fcf['remove']();let _0x52726a='';_0x248ca5['isCorrect']?_0x52726a=_0x582e23(0x372):_0x52726a=_0x582e23(0x5e7)+_0x248ca5[_0x582e23(0xc33)]+_0x582e23(0x9b2)+(_0x248ca5[_0x582e23(0x4c3)]?_0x582e23(0x345)+_0x248ca5[_0x582e23(0x4c3)]+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x396dc4['insertAdjacentHTML'](_0x582e23(0x87a),_0x52726a);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x1ace57,_0x20a7be){const _0x1233fd=_0x26020e,_0xb15105=String(_0x1ace57)['replace'](',','.')[_0x1233fd(0x558)](/[^\d.-]/g,'')[_0x1233fd(0x30d)](),_0x4c98f8=String(_0x20a7be)[_0x1233fd(0x558)](',','.')[_0x1233fd(0x558)](/[^\d.-]/g,'')[_0x1233fd(0x30d)]();if(_0xb15105===''||_0x4c98f8==='')return![];const _0x4cf900=parseFloat(_0xb15105),_0x183330=parseFloat(_0x4c98f8);if(isNaN(_0x4cf900)||isNaN(_0x183330))return![];return Math[_0x1233fd(0x8d9)](_0x4cf900-_0x183330)<0.001;}function isPotentiallyNumeric(_0x1e9722){const _0x538e14=_0x26020e;if(typeof _0x1e9722!==_0x538e14(0x8d3)&&typeof _0x1e9722!=='number')return![];const _0xcee1b4=String(_0x1e9722)['replace'](',','.')[_0x538e14(0x30d)]();return _0xcee1b4!==''&&!isNaN(parseFloat(_0xcee1b4))&&isFinite(_0xcee1b4);}async function gradeShortAnswer(_0x27e68d,_0x32accb){const _0x2ba78c=_0x26020e,_0x55b5d8=_0x32accb[_0x2ba78c(0x2a5)],_0x5cc7ae=String(_0x27e68d)[_0x2ba78c(0x558)](/\$/g,'')[_0x2ba78c(0x30d)](),_0x3ac609=String(_0x55b5d8)[_0x2ba78c(0x558)](/\$/g,'')[_0x2ba78c(0x30d)]();if(_0x5cc7ae['toLowerCase']()===_0x3ac609[_0x2ba78c(0x552)]())return!![];if(isPotentiallyNumeric(_0x5cc7ae)&&isPotentiallyNumeric(_0x3ac609)){if(compareNumericalAnswers(_0x5cc7ae,_0x3ac609))return!![];}return console[_0x2ba78c(0x824)](_0x2ba78c(0x388)),await gradeShortAnswerWithAI(_0x27e68d,_0x55b5d8);}async function revealAnswerForAdmin(_0x126edc,_0x5124cb){const _0x3b6d0a=_0x26020e,_0x3bed1f=doc(db,_0x3b6d0a(0xc3e)+appId+_0x3b6d0a(0x758),currentLiveGameId);await updateDoc(_0x3bed1f,{'questionStatus':_0x3b6d0a(0xc14)});}function showTop5LeaderboardView(_0x4d673a){const _0x2779ff=_0x26020e,_0x32c1ca=Object[_0x2779ff(0x20d)](_0x4d673a[_0x2779ff(0xb73)]||{})[_0x2779ff(0x1f5)](_0x1a7ca7=>_0x1a7ca7[_0x2779ff(0x8b8)]==='active');_0x32c1ca[_0x2779ff(0x80a)]((_0x173892,_0x12627a)=>_0x12627a[_0x2779ff(0x635)]-_0x173892[_0x2779ff(0x635)]);const _0x51d76e=_0x32c1ca[_0x2779ff(0x8ac)](0x0,0x5),_0x168c87=_0x2779ff(0xc12)+_0x51d76e[_0x2779ff(0xd0b)]((_0x5efc34,_0x68e783)=>_0x2779ff(0xc29)+(_0x68e783+0x1)+'.\x20'+(_0x5efc34[_0x2779ff(0x7c3)]||Object['keys'](_0x4d673a[_0x2779ff(0xb73)])['find'](_0x4496ae=>_0x4d673a[_0x2779ff(0xb73)][_0x4496ae]===_0x5efc34))+_0x2779ff(0x54d)+_0x5efc34[_0x2779ff(0x635)]+_0x2779ff(0x427))[_0x2779ff(0xaa4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4d673a[_0x2779ff(0x354)]+0x1===currentQuizData[_0x2779ff(0x1c9)][_0x2779ff(0x73e)]?_0x2779ff(0xab9):_0x2779ff(0x853))+_0x2779ff(0x184);liveGameView[_0x2779ff(0x4c4)]=_0x168c87,document[_0x2779ff(0x44e)](_0x2779ff(0x972))['addEventListener'](_0x2779ff(0x560),async()=>{const _0x55d58f=_0x2779ff,_0x47daec=doc(db,_0x55d58f(0xc3e)+appId+_0x55d58f(0x758),currentLiveGameId),_0x2edaf3=_0x4d673a[_0x55d58f(0x354)]+0x1;if(_0x2edaf3<currentQuizData['questions']['length']){const _0x4faff6={'currentQuestionIndex':_0x2edaf3,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x55d58f(0xad2)};Object[_0x55d58f(0x4bc)](_0x4d673a[_0x55d58f(0xb73)])[_0x55d58f(0x488)](_0x388757=>{_0x4faff6['players.'+_0x388757+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x47daec,_0x4faff6);}else await updateDoc(_0x47daec,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x11adef=>{const _0x486398=_0x48bc;if(_0x11adef){userId=_0x11adef[_0x486398(0x9d1)],userIdDisplay[_0x486398(0xb23)]=userId;const _0x3238a5=await loadUserPreferences();_0x3238a5[_0x486398(0x760)]&&(document[_0x486398(0x44e)](_0x486398(0x401))[_0x486398(0x6ea)]=_0x3238a5[_0x486398(0x760)]);globalDashboardSettings['projectView']=_0x3238a5[_0x486398(0x789)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x6a7012,_0x3d4a16){const _0x40b0b3=_0x26020e;if(!userId)return;try{const _0x35164b=doc(db,_0x40b0b3(0xc3e)+appId+'/users/'+userId+_0x40b0b3(0x8ba)),_0x4c6e3c={};_0x4c6e3c[_0x6a7012]=_0x3d4a16,await setDoc(_0x35164b,_0x4c6e3c,{'merge':!![]});}catch(_0x245e9c){console[_0x40b0b3(0x2fe)](_0x40b0b3(0xce0),_0x245e9c);}}async function loadUserPreferences(){const _0x2c2d44=_0x26020e;if(!userId)return{};try{const _0x4e703a=doc(db,_0x2c2d44(0xc3e)+appId+_0x2c2d44(0xcb3)+userId+_0x2c2d44(0x8ba)),_0x8142df=await getDoc(_0x4e703a);if(_0x8142df[_0x2c2d44(0xd0a)]())return _0x8142df[_0x2c2d44(0xb97)]();return{};}catch(_0x409a66){return console[_0x2c2d44(0x2fe)](_0x2c2d44(0xcd7),_0x409a66),{};}}function parseIndentedBlueprint(_0x96ad00){const _0x1dc2b1=_0x26020e,_0x412fc7=_0x96ad00['split']('\x0a')[_0x1dc2b1(0x1f5)](_0x33945e=>_0x33945e['trim']()!==''),_0x6f5864=[];let _0x2d23c3=null,_0x5b2bd2=null;return _0x412fc7[_0x1dc2b1(0x488)](_0x1ecbdc=>{const _0x1b4749=_0x1dc2b1,_0x285065=_0x1ecbdc[_0x1b4749(0x728)](/^\s*/)[0x0][_0x1b4749(0x73e)],_0x51995d=_0x1ecbdc[_0x1b4749(0x30d)]();if(_0x285065===0x0)_0x2d23c3={'sara':_0x51995d,'mainTopics':[]},_0x6f5864['push'](_0x2d23c3),_0x5b2bd2=null;else{if(_0x285065>0x0&&_0x285065<0x8&&_0x2d23c3)_0x5b2bd2={'topicName':_0x51995d,'subTopics':[]},_0x2d23c3[_0x1b4749(0x6d8)][_0x1b4749(0xa2a)](_0x5b2bd2);else _0x285065>=0x8&&_0x5b2bd2&&_0x5b2bd2[_0x1b4749(0x521)]['push'](_0x51995d);}}),{'curriculum':_0x6f5864};}async function handleManualBlueprintSave(){const _0x120a5b=_0x26020e,_0x4ff923=document[_0x120a5b(0x44e)](_0x120a5b(0x8ee))[_0x120a5b(0x6ea)]['trim'](),_0xb31762=document[_0x120a5b(0x44e)](_0x120a5b(0xa5a))[_0x120a5b(0x6ea)][_0x120a5b(0x30d)](),_0x3e678c=document['getElementById']('manual-bp-content')[_0x120a5b(0x6ea)];if(!_0x4ff923||!_0xb31762||!_0x3e678c){showMessage(_0x120a5b(0x52b));return;}const _0x230d5e=parseIndentedBlueprint(_0x3e678c);if(!_0x230d5e[_0x120a5b(0x94e)]||_0x230d5e[_0x120a5b(0x94e)][_0x120a5b(0x73e)]===0x0){showMessage(_0x120a5b(0x335));return;}const _0x46f1a6={};_0x230d5e[_0x120a5b(0x94e)]['forEach'](_0x2d3092=>{const _0x4e8eb1=_0x120a5b;_0x2d3092[_0x4e8eb1(0x6d8)]['forEach'](_0x352511=>{const _0x11a34f=_0x4e8eb1;_0x352511[_0x11a34f(0x521)][_0x11a34f(0x488)](_0x4983c8=>{const _0x4f7d82=_0x11a34f,_0x328684='topic_'+Date[_0x4f7d82(0xc63)]()+Math[_0x4f7d82(0x522)]()[_0x4f7d82(0x1e5)](0x24)[_0x4f7d82(0x9a0)](0x2,0x9);_0x46f1a6[_0x328684]={'sara':_0x2d3092[_0x4f7d82(0x77f)],'mainTopic':_0x352511[_0x4f7d82(0xb5d)],'subTopic':_0x4983c8,'status':_0x4f7d82(0x7f9),'lessonContent':null};});});});try{const _0x6fd194=collection(db,'artifacts/'+appId+_0x120a5b(0x9a9));await addDoc(_0x6fd194,{'projectName':_0x4ff923,'gradeLevel':_0xb31762,'topics':_0x46f1a6,'createdAt':serverTimestamp()}),showMessage(_0x120a5b(0x591)+_0x4ff923+_0x120a5b(0x342)),document[_0x120a5b(0x44e)](_0x120a5b(0x1e3))[_0x120a5b(0xab0)][_0x120a5b(0x75b)](_0x120a5b(0x47d));}catch(_0xb3ba4b){console['error']('Error\x20saving\x20manual\x20blueprint\x20project:',_0xb3ba4b),showMessage(_0x120a5b(0x1d0));}}function handleClearAllLinksForTopic(_0x41fa1b){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x3faeef=_0x48bc;try{const _0xe23895=doc(db,_0x3faeef(0xc3e)+appId+_0x3faeef(0x9a9),currentBlueprintProjectId);await updateDoc(_0xe23895,{[_0x3faeef(0xad9)+_0x41fa1b+_0x3faeef(0x344)]:[]}),showMessage(_0x3faeef(0x489)),openTopicQuizBank(_0x41fa1b),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4c3765){console[_0x3faeef(0x2fe)](_0x3faeef(0x69d),_0x4c3765),showMessage(_0x3faeef(0x253));}});}function showPodiumView(_0x45c8ca,_0xca3b8f=_0x26020e(0x994)){const _0x236e1e=_0x26020e,_0x52774a=Object['entries'](_0x45c8ca)['map'](([_0x599e19,_0x459a15])=>({'name':_0x599e19,'score':_0x459a15[_0x236e1e(0x635)]||0x0,'badges':_0x459a15[_0x236e1e(0x38e)]||[],'hasPerfectScoreBonus':_0x459a15[_0x236e1e(0x6fc)]||![]}));_0x52774a[_0x236e1e(0x80a)]((_0x348f6a,_0xd41390)=>{const _0x1ee3b4=_0x236e1e,_0x511e37=_0xd41390[_0x1ee3b4(0x635)]-_0x348f6a['score'];if(_0x511e37!==0x0)return _0x511e37;return(_0xd41390[_0x1ee3b4(0x38e)][_0x1ee3b4(0x73e)]||0x0)-(_0x348f6a[_0x1ee3b4(0x38e)][_0x1ee3b4(0x73e)]||0x0);});const _0x35b2f6=_0x52e7b5=>{const _0x7530a6=_0x236e1e;if(!_0x52e7b5||_0x52e7b5['length']===0x0)return'';const _0x5ce586={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x7530a6(0x242)+_0x52e7b5[_0x7530a6(0xd0b)](_0x2e9170=>_0x5ce586[_0x2e9170]||'')['join']('')+_0x7530a6(0xa82);},_0x5394b3=_0x52774a[_0x236e1e(0x8ac)](0x3),_0x37ee5b=_0x5394b3[_0x236e1e(0x73e)]>0x0?_0x236e1e(0x9eb)+_0x5394b3['map']((_0x4a0a53,_0x53c41e)=>{const _0x50efe8=_0x236e1e,_0x54dcc7=_0x4a0a53[_0x50efe8(0x6fc)]?_0x50efe8(0x1be):'';return _0x50efe8(0x818)+(_0x53c41e+0x4)+_0x50efe8(0x7de)+_0x4a0a53[_0x50efe8(0x7c3)]+_0x50efe8(0x69c)+_0x4a0a53[_0x50efe8(0x635)]+'\x20คะแนน\x20'+_0x54dcc7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x28c1c6=_0x236e1e(0xa4a)+(_0x52774a[0x1]?_0x236e1e(0x55d)+_0x52774a[0x1][_0x236e1e(0x7c3)]+'</p>'+_0x35b2f6(_0x52774a[0x1][_0x236e1e(0x38e)])+_0x236e1e(0xc3d)+_0x52774a[0x1]['score']+_0x236e1e(0xce9)+(_0x52774a[0x1][_0x236e1e(0x6fc)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x236e1e(0xa1d):'<div\x20class=\x22flex-1\x22></div>')+_0x236e1e(0x362)+(_0x52774a[0x0]?_0x236e1e(0x6cb)+_0x52774a[0x0][_0x236e1e(0x7c3)]+_0x236e1e(0xb75)+_0x35b2f6(_0x52774a[0x0][_0x236e1e(0x38e)])+_0x236e1e(0xcf5)+_0x52774a[0x0][_0x236e1e(0x635)]+_0x236e1e(0xce9)+(_0x52774a[0x0]['hasPerfectScoreBonus']?_0x236e1e(0x251):'')+_0x236e1e(0x777):'<div\x20class=\x22flex-1\x22></div>')+_0x236e1e(0x362)+(_0x52774a[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x52774a[0x2][_0x236e1e(0x7c3)]+_0x236e1e(0xb75)+_0x35b2f6(_0x52774a[0x2][_0x236e1e(0x38e)])+'<p\x20class=\x22text-xl\x22>'+_0x52774a[0x2]['score']+_0x236e1e(0xce9)+(_0x52774a[0x2][_0x236e1e(0x6fc)]?_0x236e1e(0x251):'')+_0x236e1e(0x20a):_0x236e1e(0xccb))+_0x236e1e(0x226)+_0x37ee5b+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x236e1e(0x713)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x236e1e(0x4c4)]=_0x28c1c6,currentMode==='admin'&&document[_0x236e1e(0x44e)](_0x236e1e(0x675))['addEventListener'](_0x236e1e(0x560),async()=>{const _0x3ba79f=_0x236e1e;let _0x9cd6c2;_0xca3b8f===_0x3ba79f(0x3aa)?_0x9cd6c2=doc(db,'artifacts/'+appId+_0x3ba79f(0x437),currentLiveGameId):_0x9cd6c2=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x9cd6c2);});}function renderSyncSummaryView(_0x2e42ca,_0x1bb3c4,_0x263095){const _0x25ccdb=_0x26020e,_0x4d8b4e=Object['values'](_0x2e42ca['players']||{}),_0x2c1f48=_0x1bb3c4['questionType']||_0x2e42ca[_0x25ccdb(0x91d)][_0x25ccdb(0x31d)];let _0x59725a=[];_0x2c1f48===_0x25ccdb(0x7e8)?_0x59725a=[_0x25ccdb(0xb54),_0x25ccdb(0xacf)]:_0x59725a=_0x1bb3c4[_0x25ccdb(0x3e3)]||[];const _0x9aa1de=new Array(_0x59725a[_0x25ccdb(0x73e)])[_0x25ccdb(0x81b)](0x0),_0x151228={};_0x59725a[_0x25ccdb(0x488)]((_0xb99b60,_0x12fb6f)=>{_0x151228[_0x12fb6f]=[];}),Object[_0x25ccdb(0xa5d)](_0x2e42ca['players']||{})[_0x25ccdb(0x488)](([_0x4716bd,_0x54d573])=>{const _0x3894c0=_0x25ccdb;if(_0x54d573[_0x3894c0(0x8b8)]!=='inactive'&&_0x54d573[_0x3894c0(0x44a)]!==undefined&&_0x54d573[_0x3894c0(0x44a)]!==null){const _0x5a9da6=_0x54d573[_0x3894c0(0x44a)];_0x151228[_0x5a9da6]!==undefined&&(_0x151228[_0x5a9da6]['push'](_0x4716bd),_0x9aa1de[_0x5a9da6]++);}});let _0x5c3ad2='';_0x263095?_0x5c3ad2=_0x25ccdb(0x39e):_0x5c3ad2='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>';const _0x15e7df=_0x25ccdb(0x411)+_0x1bb3c4[_0x25ccdb(0xbbe)]+_0x25ccdb(0x5e0)+_0x9aa1de[_0x25ccdb(0xd0b)]((_0x220acd,_0x36eeec)=>{const _0x2e1121=_0x25ccdb,_0x17d6db=_0x151228[_0x36eeec][_0x2e1121(0x73e)]>0x0?_0x151228[_0x36eeec]['join'](',\x20'):_0x2e1121(0x77b),_0x649f47=_0x2e1121(0x969);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x220acd+_0x2e1121(0x76b)+_0x649f47+_0x2e1121(0xb27)+_0x36eeec+_0x2e1121(0xb79)+_0x59725a[_0x36eeec]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x36eeec+_0x2e1121(0x495)+_0x17d6db+_0x2e1121(0x987);})[_0x25ccdb(0xaa4)]('')+_0x25ccdb(0xa86)+_0x5c3ad2+_0x25ccdb(0x23c);liveGameView['innerHTML']=_0x15e7df;if(window['MathJax'])MathJax[_0x25ccdb(0xc74)]();_0x263095&&(document[_0x25ccdb(0x44e)](_0x25ccdb(0x2f6))[_0x25ccdb(0xb41)]('click',async()=>{const _0xf53f6e=_0x25ccdb,_0x23606a=doc(db,_0xf53f6e(0xc3e)+appId+_0xf53f6e(0x437),currentLiveGameId);await updateDoc(_0x23606a,{'status':_0xf53f6e(0x497)});}),document[_0x25ccdb(0x44e)](_0x25ccdb(0x1b9))[_0x25ccdb(0x847)]=()=>{openScratchpad(_0x1bb3c4,_0x59725a);});}async function handleShowStudentRankings(){const _0x356ac2=_0x26020e,_0x484af3=document[_0x356ac2(0x6ca)]('#student-quiz-leaderboard-content\x20thead');_0x484af3&&(_0x484af3['innerHTML']=_0x356ac2(0x2d6));const _0x6c3709=document['querySelector'](_0x356ac2(0x55c));_0x6c3709&&(_0x6c3709['innerHTML']=_0x356ac2(0xccf));const _0x2ace99=document[_0x356ac2(0x44e)](_0x356ac2(0xae6));_0x2ace99[_0x356ac2(0xab0)][_0x356ac2(0x48e)](_0x356ac2(0x47d)),document[_0x356ac2(0x44e)]('close-student-rankings-btn')[_0x356ac2(0x847)]=()=>_0x2ace99[_0x356ac2(0xab0)]['add'](_0x356ac2(0x47d));const _0x51d9a4=document[_0x356ac2(0x44e)](_0x356ac2(0x1ed)),_0x34ebdc=document['getElementById'](_0x356ac2(0x700)),_0x681c1b=document[_0x356ac2(0x44e)](_0x356ac2(0x70e)),_0x21e865=document[_0x356ac2(0x44e)](_0x356ac2(0x75f));_0x51d9a4[_0x356ac2(0x847)]=()=>{const _0x1481b9=_0x356ac2;_0x51d9a4['classList'][_0x1481b9(0x75b)](_0x1481b9(0x57f)),_0x34ebdc['classList'][_0x1481b9(0x48e)](_0x1481b9(0x57f)),_0x681c1b[_0x1481b9(0xab0)]['remove']('hidden'),_0x21e865[_0x1481b9(0xab0)][_0x1481b9(0x75b)](_0x1481b9(0x47d));},_0x34ebdc['onclick']=()=>{const _0x5e255a=_0x356ac2;_0x34ebdc['classList']['add'](_0x5e255a(0x57f)),_0x51d9a4[_0x5e255a(0xab0)][_0x5e255a(0x48e)](_0x5e255a(0x57f)),_0x21e865[_0x5e255a(0xab0)][_0x5e255a(0x48e)]('hidden'),_0x681c1b[_0x5e255a(0xab0)][_0x5e255a(0x75b)](_0x5e255a(0x47d));};try{const _0xbfdfce=collection(db,_0x356ac2(0xc3e)+appId+_0x356ac2(0xa6e)+currentQuizData['id']+_0x356ac2(0xab1)),_0x379783=await getDocs(_0xbfdfce),_0x15c474=_0x379783[_0x356ac2(0x8d6)][_0x356ac2(0xd0b)](_0x1803f7=>_0x1803f7['data']());renderQuizLeaderboard(_0x15c474,currentQuizData,_0x356ac2(0xcdc));const _0x1bba22=collection(db,_0x356ac2(0xc3e)+appId+_0x356ac2(0x5fc)+currentQuizData[_0x356ac2(0xc0b)]+_0x356ac2(0xc6f)),_0x5009ed=await getDocs(_0x1bba22),_0x2b1aca=_0x5009ed[_0x356ac2(0x8d6)]['map'](_0x48f8cf=>_0x48f8cf['data']());renderLeaderboard(_0x2b1aca,_0x356ac2(0x844));}catch(_0x33956c){console['error'](_0x356ac2(0xc07),_0x33956c),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x43d4e5){const _0x480e1a=_0x26020e,_0x368de0=_0x43d4e5[_0x480e1a(0x73f)],_0x301bbc=_0x368de0[_0x480e1a(0xd00)][_0x480e1a(0x517)],_0x5017c2=currentQuizData['questions'][_0x301bbc];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x33dc5b={..._0x5017c2,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x59857d=collection(db,_0x480e1a(0xc3e)+appId+_0x480e1a(0xcb3)+userId+_0x480e1a(0x3af));await addDoc(_0x59857d,_0x33dc5b),showMessage(_0x480e1a(0x33e)),_0x368de0[_0x480e1a(0xab0)][_0x480e1a(0x48e)](_0x480e1a(0x94b)),_0x368de0['classList'][_0x480e1a(0x75b)]('text-green-600'),_0x368de0[_0x480e1a(0x993)]=!![];}catch(_0x42e631){console[_0x480e1a(0x2fe)]('Error\x20saving\x20to\x20question\x20bank:',_0x42e631),showMessage(_0x480e1a(0xadd));}}async function selectProjectAndGenerateBlueprintQuiz(_0xb7480a,_0x57b996=null,_0x403619=null,_0x515ad6=![]){const _0x5e48b8=_0x26020e;cameFromBlueprint=!![];const _0x570aac=document[_0x5e48b8(0x44e)](_0x5e48b8(0x218))?.[_0x5e48b8(0x6ea)][_0x5e48b8(0x30d)]();let _0x4fff57=null;if(_0x570aac){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0x4744c8=await fetchFileFromUrl(_0x570aac,_0x5e48b8(0xd06)),_0x387d2b=await new Promise((_0x38368f,_0x291c7c)=>{const _0x1aa038=_0x5e48b8,_0x39ad52=new FileReader();_0x39ad52[_0x1aa038(0x56e)](_0x4744c8),_0x39ad52['onload']=()=>_0x38368f(_0x39ad52['result']['split'](',')[0x1]),_0x39ad52[_0x1aa038(0x5d0)]=_0x291c7c;});_0x4fff57=[{'inlineData':{'mimeType':_0x4744c8[_0x5e48b8(0x3c9)],'data':_0x387d2b}}],messageModal[_0x5e48b8(0xab0)][_0x5e48b8(0x75b)]('hidden');}catch(_0x3d025e){console['error'](_0x5e48b8(0xc59),_0x3d025e),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x37f8df=document[_0x5e48b8(0x44e)](_0x5e48b8(0x181)),_0xd4a3b3=document['getElementById']('move-quiz-project-select'),_0x52998a=_0x37f8df[_0x5e48b8(0x6ca)]('h3'),_0x1bb3c1=document[_0x5e48b8(0x44e)](_0x5e48b8(0x750)),_0x5d3eb0=document[_0x5e48b8(0x44e)](_0x5e48b8(0x9f4));_0x52998a[_0x5e48b8(0xb23)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x1bb3c1[_0x5e48b8(0xb23)]=_0x5e48b8(0x544),_0x1bb3c1[_0x5e48b8(0x993)]=!![];allProjects[_0x5e48b8(0x73e)]===0x0?_0xd4a3b3[_0x5e48b8(0x4c4)]=_0x5e48b8(0xcf6):(_0xd4a3b3['innerHTML']=_0x5e48b8(0x902)+allProjects[_0x5e48b8(0xd0b)](_0x199272=>'<option\x20value=\x22'+_0x199272['id']+'\x22>'+_0x199272[_0x5e48b8(0x8d8)]+_0x5e48b8(0xcba))[_0x5e48b8(0xaa4)](''),_0x1bb3c1[_0x5e48b8(0x993)]=![]);_0x37f8df[_0x5e48b8(0xab0)]['remove'](_0x5e48b8(0x47d));const _0x274a66=async()=>{const _0x2bf0f5=_0x5e48b8,_0x94dca7=_0xd4a3b3['value'];if(!_0x94dca7){showMessage(_0x2bf0f5(0xc37));return;}_0x37f8df[_0x2bf0f5(0xab0)][_0x2bf0f5(0x75b)](_0x2bf0f5(0x47d)),document[_0x2bf0f5(0x44e)]('blueprint-project-manager-view')['classList'][_0x2bf0f5(0x75b)](_0x2bf0f5(0x47d)),await loadProjectDetails(_0x94dca7),showView(_0x2bf0f5(0xb15)),handleGenerateQuizFromBlueprintTopic(_0xb7480a,_0x57b996,_0x94dca7,_0x403619,_0x515ad6,_0x4fff57),_0x5e1a84();},_0x5e1a84=()=>{const _0x42cc43=_0x5e48b8;_0x52998a[_0x42cc43(0xb23)]=_0x42cc43(0xa9b),_0x1bb3c1[_0x42cc43(0xb23)]=_0x42cc43(0xcb5),_0x1bb3c1[_0x42cc43(0x50b)](_0x42cc43(0x560),_0x274a66),_0x5d3eb0[_0x42cc43(0x50b)]('click',_0x5e1a84),_0x1bb3c1[_0x42cc43(0xb41)]('click',confirmMoveQuiz);};_0x1bb3c1[_0x5e48b8(0x50b)](_0x5e48b8(0x560),confirmMoveQuiz),_0x1bb3c1[_0x5e48b8(0xb41)]('click',_0x274a66),_0x5d3eb0[_0x5e48b8(0xb41)]('click',_0x5e1a84);}function listenForStarredQuizzes(){const _0xa10972=_0x26020e;if(!userId)return;const _0x17a6be=collection(db,_0xa10972(0xc3e)+appId+_0xa10972(0xa7d)),_0x59339d=query(_0x17a6be,where('isStarred','==',!![]));onSnapshot(_0x59339d,_0x49e9d4=>{const _0x1b731a=_0xa10972;starredQuizzes=_0x49e9d4[_0x1b731a(0x8d6)][_0x1b731a(0xd0b)](_0x21086e=>({'id':_0x21086e['id'],..._0x21086e[_0x1b731a(0xb97)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x4a79bf=>{const _0x352ada=_0xa10972;console[_0x352ada(0x2fe)](_0x352ada(0x306),_0x4a79bf);});}function listenForFileShortcuts(){const _0x3ecd52=_0x26020e,_0x421110=doc(db,_0x3ecd52(0xcfb),_0x3ecd52(0xbc6));onSnapshot(_0x421110,_0x204289=>{const _0x27a703=_0x3ecd52;let _0x31da92=[],_0x4410bc=[],_0x696d76={};if(_0x204289[_0x27a703(0xd0a)]()){const _0x3ca6e0=_0x204289['data']();_0x31da92=_0x3ca6e0[_0x27a703(0x5d4)]||[],_0x4410bc=_0x3ca6e0['fileShortcutTabs']||[],_0x696d76=_0x3ca6e0[_0x27a703(0xbab)]||{};}!_0x4410bc['find'](_0x4beff1=>_0x4beff1['id']==='all')&&_0x4410bc[_0x27a703(0xc88)]({'id':_0x27a703(0x3bc),'name':_0x27a703(0x931),'isDefault':!![]}),!_0x31da92[_0x27a703(0x2ba)](_0x31b408=>_0x31b408['id']===_0x27a703(0x7a0))&&_0x31da92['unshift']({'id':_0x27a703(0x7a0),'name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x31da92[_0x27a703(0x2ba)](_0xda176f=>_0xda176f['id']===_0x27a703(0x2c3))&&_0x31da92['unshift']({'id':'file-default-2','name':_0x27a703(0xaa1),'url':'','isDefault':!![]}),fileShortcuts=_0x31da92,fileShortcutTabs=_0x4410bc,fileShortcutOrder=_0x696d76,renderFileShortcuts(),!document[_0x27a703(0x44e)](_0x27a703(0xb07))[_0x27a703(0xab0)][_0x27a703(0x8be)](_0x27a703(0x47d))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x3b6a33=_0x26020e,_0x54c097=doc(db,_0x3b6a33(0xcfb),_0x3b6a33(0xbc6));try{await setDoc(_0x54c097,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x9e312a){console[_0x3b6a33(0x2fe)](_0x3b6a33(0x4d5),_0x9e312a);}}function renderAdditionalFileShortcutsModal(){const _0x203565=_0x26020e,_0x1566ea=document[_0x203565(0x44e)](_0x203565(0x7d4)),_0x1c9776=document['getElementById'](_0x203565(0x2ce));if(!_0x1566ea||!_0x1c9776)return;_0x1566ea[_0x203565(0x4c4)]=fileShortcutTabs[_0x203565(0xd0b)](_0x150a14=>{const _0x1dbb48=_0x203565,_0x51b2c2=_0x150a14['id']===activeFileShortcutTabId;return _0x1dbb48(0x737)+_0x150a14['id']+_0x1dbb48(0x313)+(_0x51b2c2?_0x1dbb48(0x696):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x1dbb48(0x3c8)+_0x150a14[_0x1dbb48(0x7c3)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x150a14['name']+_0x1dbb48(0x280)+(!_0x150a14[_0x1dbb48(0x78f)]?_0x1dbb48(0x43f)+_0x150a14['id']+_0x1dbb48(0x4d6):'')+_0x1dbb48(0x1da);})[_0x203565(0xaa4)]('');const _0x5db3d5=fileShortcutTabs[_0x203565(0x2ba)](_0x4e9f7c=>_0x4e9f7c['id']===activeFileShortcutTabId);let _0x22ffc5=_0x5db3d5?.[_0x203565(0x78f)]?[...fileShortcuts]:fileShortcuts[_0x203565(0x1f5)](_0xc01c30=>(_0x5db3d5?.[_0x203565(0x89d)]||[])[_0x203565(0xae9)](_0xc01c30['id']));const _0x369129=fileShortcutOrder[activeFileShortcutTabId]||[];_0x22ffc5[_0x203565(0x80a)]((_0x4acf8f,_0x56ea4b)=>{const _0x3e33c1=_0x203565,_0x1a2e1f=_0x369129[_0x3e33c1(0x31a)](_0x4acf8f['id']),_0x2ae06e=_0x369129['indexOf'](_0x56ea4b['id']);return(_0x1a2e1f===-0x1?Infinity:_0x1a2e1f)-(_0x2ae06e===-0x1?Infinity:_0x2ae06e);}),_0x1c9776[_0x203565(0x4c4)]=_0x22ffc5[_0x203565(0xd0b)](_0x72d9a1=>{const _0x4cad02=_0x203565,_0x4342db=_0x72d9a1[_0x4cad02(0x366)]?'📄':'🔗',_0x59419d=fileShortcutTabs[_0x4cad02(0x1f5)](_0x28fab0=>!_0x28fab0[_0x4cad02(0x78f)]),_0x57a4dc=_0x5db3d5['isDefault']&&_0x59419d[_0x4cad02(0x73e)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59419d[_0x4cad02(0xd0b)](_0x25dbf2=>_0x4cad02(0x542)+_0x72d9a1['id']+'\x22\x20data-target-tab-id=\x22'+_0x25dbf2['id']+'\x22>'+_0x25dbf2[_0x4cad02(0x7c3)]+_0x4cad02(0x6ff))[_0x4cad02(0xaa4)]('')+_0x4cad02(0xa79):'';return _0x4cad02(0xb3d)+_0x72d9a1['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x4342db+'\x20'+_0x72d9a1[_0x4cad02(0x7c3)]+_0x4cad02(0x1e9)+_0x72d9a1['id']+_0x4cad02(0x820)+_0x72d9a1['id']+_0x4cad02(0x8d5)+(!_0x72d9a1['isDefault']?_0x4cad02(0x3dd)+_0x72d9a1['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x4cad02(0x845)+(!_0x5db3d5['isDefault']?_0x4cad02(0x416)+_0x72d9a1['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57a4dc+_0x4cad02(0x1a1);})[_0x203565(0xaa4)]('')||_0x203565(0xc8a),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0xdb2cea=_0x26020e;document[_0xdb2cea(0xb04)]('.file-shortcut-tab-btn')[_0xdb2cea(0x488)](_0x4c86d2=>{const _0x2b3a1=_0xdb2cea;_0x4c86d2[_0x2b3a1(0x847)]=_0x2c3b71=>{const _0x501e96=_0x2b3a1;activeFileShortcutTabId=_0x2c3b71[_0x501e96(0x73f)][_0x501e96(0xd00)][_0x501e96(0x5b4)],renderAdditionalFileShortcutsModal();},_0x4c86d2[_0x2b3a1(0xba0)]=_0x5bd4e9=>{const _0x385a7d=_0x2b3a1,_0x44c394=_0x5bd4e9[_0x385a7d(0x73f)][_0x385a7d(0x6ca)](_0x385a7d(0x27b));_0x5bd4e9[_0x385a7d(0x73f)][_0x385a7d(0x6ca)](_0x385a7d(0xc98))['classList']['add'](_0x385a7d(0x47d)),_0x44c394[_0x385a7d(0xab0)][_0x385a7d(0x48e)]('hidden'),_0x44c394['focus'](),_0x44c394[_0x385a7d(0x943)]();};}),document[_0xdb2cea(0xb04)]('#file-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x14b78e=>{const _0x381bb9=_0xdb2cea,_0x533d7f=()=>{const _0x460b08=_0x48bc,_0x1ada2c=_0x14b78e['closest']('.file-shortcut-tab-btn')[_0x460b08(0xd00)]['tabId'],_0xd0072a=fileShortcutTabs['find'](_0x44980e=>_0x44980e['id']===_0x1ada2c);_0xd0072a&&(_0xd0072a['name']=_0x14b78e[_0x460b08(0x6ea)][_0x460b08(0x30d)]()||_0xd0072a[_0x460b08(0x7c3)],saveFileShortcutConfig());};_0x14b78e[_0x381bb9(0x6be)]=_0x533d7f,_0x14b78e[_0x381bb9(0x794)]=_0x664605=>{const _0x103343=_0x381bb9;if(_0x664605[_0x103343(0xc0a)]===_0x103343(0x5c6))_0x14b78e[_0x103343(0xcdd)]();};}),document[_0xdb2cea(0xb04)](_0xdb2cea(0x565))[_0xdb2cea(0x488)](_0x29c9bb=>_0x29c9bb[_0xdb2cea(0x847)]=_0x694b30=>{const _0x5916b2=_0xdb2cea,_0x212f1d=_0x694b30[_0x5916b2(0x73f)]['dataset']['tabId'];showConfirmation(_0x5916b2(0x684),()=>{const _0x8f0a88=_0x5916b2;fileShortcutTabs=fileShortcutTabs[_0x8f0a88(0x1f5)](_0x1f26aa=>_0x1f26aa['id']!==_0x212f1d),delete fileShortcutOrder[_0x212f1d];if(activeFileShortcutTabId===_0x212f1d)activeFileShortcutTabId=_0x8f0a88(0x3bc);saveFileShortcutConfig();});}),document[_0xdb2cea(0xb04)](_0xdb2cea(0x41c))['forEach'](_0x5453b0=>_0x5453b0[_0xdb2cea(0x847)]=_0x4dc7e4=>{const _0x189aec=_0xdb2cea;_0x4dc7e4[_0x189aec(0x1b0)]();const {shortcutId:_0x410455,targetTabId:_0x10de21}=_0x4dc7e4['currentTarget'][_0x189aec(0xd00)],_0x52ab90=fileShortcutTabs[_0x189aec(0x2ba)](_0x1fa135=>_0x1fa135['id']===_0x10de21);_0x52ab90&&!_0x52ab90[_0x189aec(0x89d)][_0x189aec(0xae9)](_0x410455)&&(_0x52ab90['shortcutIds'][_0x189aec(0xa2a)](_0x410455),saveFileShortcutConfig());}),document[_0xdb2cea(0xb04)](_0xdb2cea(0x595))[_0xdb2cea(0x488)](_0x4eb953=>_0x4eb953[_0xdb2cea(0x847)]=_0xf0d55e=>{const _0xd8205c=_0xdb2cea,_0x4c2596=_0xf0d55e[_0xd8205c(0x73f)][_0xd8205c(0xd00)]['shortcutId'],_0x5245e1=fileShortcutTabs['find'](_0x552849=>_0x552849['id']===activeFileShortcutTabId);_0x5245e1&&!_0x5245e1['isDefault']&&(_0x5245e1[_0xd8205c(0x89d)]=_0x5245e1[_0xd8205c(0x89d)][_0xd8205c(0x1f5)](_0x8deaa9=>_0x8deaa9!==_0x4c2596),saveFileShortcutConfig());}),document[_0xdb2cea(0xb04)](_0xdb2cea(0xcb4))['forEach'](_0x50f01e=>_0x50f01e['onclick']=_0x58e3cd=>{const _0x399729=_0xdb2cea;_0x58e3cd[_0x399729(0x472)]();const _0x5cfb0=_0x58e3cd[_0x399729(0x73f)]['nextElementSibling'];document[_0x399729(0xb04)](_0x399729(0xc23))[_0x399729(0x488)](_0x30a1dd=>_0x30a1dd[_0x399729(0xab0)]['add'](_0x399729(0x47d))),_0x5cfb0[_0x399729(0xab0)][_0x399729(0x48e)](_0x399729(0x47d));});const _0x5accfb=document[_0xdb2cea(0x44e)]('additional-file-shortcuts-list');let _0x1e9198=null;_0x5accfb[_0xdb2cea(0x4c7)]=_0x710b6d=>{const _0xc2dcbc=_0xdb2cea;_0x1e9198=_0x710b6d[_0xc2dcbc(0x440)]['closest']('.shortcut-list-item');if(_0x1e9198)setTimeout(()=>_0x1e9198[_0xc2dcbc(0xab0)][_0xc2dcbc(0x75b)](_0xc2dcbc(0x990)),0x0);},_0x5accfb[_0xdb2cea(0x9d5)]=()=>{const _0x10d6e0=_0xdb2cea;_0x1e9198&&(_0x1e9198[_0x10d6e0(0xab0)][_0x10d6e0(0x48e)](_0x10d6e0(0x990)),_0x1e9198=null);},_0x5accfb[_0xdb2cea(0x7eb)]=_0x34eb2e=>{_0x34eb2e['preventDefault']();},_0x5accfb[_0xdb2cea(0xaf3)]=_0x3c6bdd=>{const _0x4cacb6=_0xdb2cea;_0x3c6bdd[_0x4cacb6(0x1b0)]();if(_0x1e9198){const _0x1aa564=[..._0x5accfb[_0x4cacb6(0xb04)](_0x4cacb6(0xcb1))]['reduce']((_0xee8586,_0x2021cf)=>{const _0x559b69=_0x4cacb6,_0x1bd151=_0x2021cf['getBoundingClientRect'](),_0x19eb9a=_0x3c6bdd[_0x559b69(0x386)]-_0x1bd151['top']-_0x1bd151[_0x559b69(0xa8f)]/0x2;return _0x19eb9a<0x0&&_0x19eb9a>_0xee8586[_0x559b69(0xb5c)]?{'offset':_0x19eb9a,'element':_0x2021cf}:_0xee8586;},{'offset':Number[_0x4cacb6(0x999)]})[_0x4cacb6(0x6cf)];_0x1aa564==null?_0x5accfb[_0x4cacb6(0xccd)](_0x1e9198):_0x5accfb[_0x4cacb6(0x398)](_0x1e9198,_0x1aa564);const _0x2bbd8a=[..._0x5accfb[_0x4cacb6(0xb04)](_0x4cacb6(0x79c))]['map'](_0x50219e=>_0x50219e[_0x4cacb6(0xd00)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x2bbd8a,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x26d705=_0x26020e,_0x4f0c57=prompt(_0x26d705(0x5d2),'แท็บใหม่');_0x4f0c57&&_0x4f0c57[_0x26d705(0x30d)]()&&(fileShortcutTabs[_0x26d705(0xa2a)]({'id':'tab_'+Date[_0x26d705(0xc63)](),'name':_0x4f0c57[_0x26d705(0x30d)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x553c03=_0x26020e,_0x2b95be=document['getElementById'](_0x553c03(0x664)),_0x1f96f1=document[_0x553c03(0x44e)](_0x553c03(0x2ce)),_0x311b1d=document['getElementById']('file-shortcuts-loading-msg');if(_0x311b1d)_0x311b1d[_0x553c03(0xab0)][_0x553c03(0x75b)]('hidden');if(!_0x2b95be||!_0x1f96f1)return;const _0x3b5c7d=fileShortcuts[_0x553c03(0x8ac)](0x0,0x4),_0x5224c9=fileShortcuts[_0x553c03(0x8ac)](0x4);_0x2b95be[_0x553c03(0x4c4)]=_0x3b5c7d[_0x553c03(0xd0b)](_0x475bc6=>{const _0x4ef945=_0x553c03,_0x44d799=_0x475bc6[_0x4ef945(0x366)]&&_0x475bc6[_0x4ef945(0x366)][_0x4ef945(0x30d)]()!=='',_0xdcd6cf=selectedFile&&selectedFile[_0x4ef945(0xb42)]===_0x475bc6['id'];let _0x33a197=_0x4ef945(0x1c3),_0x21ec66='🔗';if(_0xdcd6cf)_0x33a197=_0x4ef945(0x2fd),_0x21ec66=_0x4ef945(0x554);else _0x44d799&&(_0x33a197=_0x4ef945(0x3ec),_0x21ec66='📄');const _0x190fbb=!_0x475bc6[_0x4ef945(0x78f)]?_0x4ef945(0x3dd)+_0x475bc6['id']+_0x4ef945(0x756):'';return _0x4ef945(0x352)+_0x475bc6['id']+_0x4ef945(0x45f)+_0x33a197+_0x4ef945(0x70b)+_0x21ec66+_0x4ef945(0x5bb)+_0x475bc6[_0x4ef945(0x7c3)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x475bc6['id']+_0x4ef945(0x87f)+_0x190fbb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x553c03(0xaa4)](''),_0x5224c9[_0x553c03(0x73e)]>0x0&&(_0x2b95be[_0x553c03(0x4c4)]+=_0x553c03(0xc64)),_0x5224c9[_0x553c03(0x73e)]>0x0?_0x1f96f1[_0x553c03(0x4c4)]=_0x5224c9[_0x553c03(0xd0b)](_0x5470cf=>_0x553c03(0x9ad)+(_0x5470cf[_0x553c03(0x366)]?'📄':'🔗')+'\x20'+_0x5470cf[_0x553c03(0x7c3)]+_0x553c03(0x8f4)+_0x5470cf['id']+_0x553c03(0x4e4)+_0x5470cf['id']+_0x553c03(0xa35)+(!_0x5470cf['isDefault']?_0x553c03(0x3dd)+_0x5470cf['id']+_0x553c03(0x7b0):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x553c03(0xaa4)](''):_0x1f96f1[_0x553c03(0x4c4)]=_0x553c03(0x406);}function openFileShortcutEditor(_0x97ded1=null){const _0x37b561=_0x26020e,_0x4cef1c=document[_0x37b561(0x44e)](_0x37b561(0xadb)),_0x2f9a94=document[_0x37b561(0x44e)](_0x37b561(0x37c)),_0xd4eadf=document[_0x37b561(0x44e)](_0x37b561(0x17e)),_0x230f74=document[_0x37b561(0x44e)](_0x37b561(0xbd0)),_0x2dae61=document[_0x37b561(0x44e)](_0x37b561(0x73c));if(_0x97ded1){const _0x3bbff6=fileShortcuts['find'](_0x5b1311=>_0x5b1311['id']===_0x97ded1);if(!_0x3bbff6)return;_0x2f9a94['textContent']=_0x37b561(0x258),_0xd4eadf[_0x37b561(0x6ea)]=_0x3bbff6['id'],_0x230f74[_0x37b561(0x6ea)]=_0x3bbff6[_0x37b561(0x7c3)],_0x2dae61[_0x37b561(0x6ea)]=_0x3bbff6[_0x37b561(0x366)]||'';}else _0x2f9a94[_0x37b561(0xb23)]='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0xd4eadf[_0x37b561(0x6ea)]='',_0x230f74['value']='',_0x2dae61['value']='';_0x4cef1c[_0x37b561(0xab0)][_0x37b561(0x48e)](_0x37b561(0x47d));}async function saveFileShortcutChanges(){const _0x550df8=_0x26020e,_0x4a33fd=document['getElementById']('file-shortcut-id-input')[_0x550df8(0x6ea)],_0x59f51b=document['getElementById']('file-shortcut-name-input')[_0x550df8(0x6ea)][_0x550df8(0x30d)](),_0x18f73d=document['getElementById']('file-shortcut-url-input')[_0x550df8(0x6ea)]['trim']();if(!_0x59f51b){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x812a68={'id':_0x4a33fd||_0x550df8(0x503)+Date['now'](),'name':_0x59f51b,'url':_0x18f73d,'isDefault':_0x4a33fd[_0x550df8(0x259)](_0x550df8(0x6f4))};let _0x155f39;_0x4a33fd?_0x155f39=fileShortcuts[_0x550df8(0xd0b)](_0x47c1f0=>_0x47c1f0['id']===_0x4a33fd?_0x812a68:_0x47c1f0):_0x155f39=[...fileShortcuts,_0x812a68];try{const _0x2a306a=doc(db,_0x550df8(0xcfb),_0x550df8(0xbc6));await setDoc(_0x2a306a,{'shortcuts':_0x155f39},{'merge':!![]}),document[_0x550df8(0x44e)](_0x550df8(0xadb))[_0x550df8(0xab0)][_0x550df8(0x75b)](_0x550df8(0x47d));}catch(_0x1a831a){console[_0x550df8(0x2fe)](_0x550df8(0x7f1),_0x1a831a),showMessage(_0x550df8(0xadd));}}async function handleFileShortcutClick(_0x4ecdb1){const _0xe689c7=_0x26020e,_0x19fb14=fileShortcuts[_0xe689c7(0x2ba)](_0x3feb16=>_0x3feb16['id']===_0x4ecdb1);if(!_0x19fb14)return;if(!_0x19fb14['url']||_0x19fb14[_0xe689c7(0x366)]['trim']()===''){openFileShortcutEditor(_0x4ecdb1);return;}const _0x2f3843=document[_0xe689c7(0x6ca)](_0xe689c7(0xb56)+_0x4ecdb1+'\x22]');if(_0x2f3843){const _0x4e428e=_0x2f3843[_0xe689c7(0x4c4)];_0x2f3843[_0xe689c7(0x4c4)]=_0xe689c7(0xaf1),_0x2f3843[_0xe689c7(0x993)]=!![];}document[_0xe689c7(0xb04)]('.file-shortcut-btn')[_0xe689c7(0x488)](_0x5902b9=>{const _0x3b832e=_0xe689c7;if(_0x5902b9[_0x3b832e(0xd00)]['id']!==_0x4ecdb1)_0x5902b9[_0x3b832e(0xab0)][_0x3b832e(0x75b)]('opacity-50',_0x3b832e(0x3a4));});try{const _0x4c265a=new URL(_0x19fb14[_0xe689c7(0x366)])[_0xe689c7(0x685)],_0x51d627=_0x4c265a[_0xe689c7(0x9c1)](_0x4c265a[_0xe689c7(0x4a8)]('/')+0x1)||(_0x19fb14['url'][_0xe689c7(0xae9)](_0xe689c7(0x65c))?_0xe689c7(0xb6d):'file.pdf'),_0x405e28=await fetchFileFromUrl(_0x19fb14[_0xe689c7(0x366)],_0x51d627);_0x405e28[_0xe689c7(0xb42)]=_0x4ecdb1,selectedFile=_0x405e28,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0xe689c7(0x44e)](_0xe689c7(0x9e1))[_0xe689c7(0x4e1)]({'behavior':'smooth','block':'center'});}catch(_0x93b944){console[_0xe689c7(0x2fe)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x93b944),showMessage(_0xe689c7(0x6a9)+_0x93b944[_0xe689c7(0x9d4)]),renderFileShortcuts();}finally{document[_0xe689c7(0xb04)](_0xe689c7(0x474))['forEach'](_0x12aeda=>{const _0x3e1431=_0xe689c7;_0x12aeda['classList'][_0x3e1431(0x48e)](_0x3e1431(0x990),_0x3e1431(0x3a4)),_0x12aeda[_0x3e1431(0x993)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x1741f8=_0x26020e;if(allQuizzesGlobal['length']>0x0)return;console[_0x1741f8(0x824)](_0x1741f8(0x86a)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x3a0aa4=await getDocs(collection(db,_0x1741f8(0xc3e)+appId+_0x1741f8(0xa7d)));allQuizzesGlobal=_0x3a0aa4['docs'][_0x1741f8(0xd0b)](_0x541dee=>({'id':_0x541dee['id'],..._0x541dee[_0x1741f8(0xb97)]()})),console[_0x1741f8(0x824)](_0x1741f8(0xc8d)+allQuizzesGlobal[_0x1741f8(0x73e)]+_0x1741f8(0x3c3)),messageModal['classList'][_0x1741f8(0x75b)](_0x1741f8(0x47d));}catch(_0x1c6ea0){console[_0x1741f8(0x2fe)]('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x1c6ea0),messageModal[_0x1741f8(0xab0)][_0x1741f8(0x75b)](_0x1741f8(0x47d));throw new Error(_0x1741f8(0x227));}}function exportQuizAsWorksheetPDF(){const _0x65bd78=_0x26020e;if(!currentQuizData||!currentQuizData[_0x65bd78(0x1c9)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x30fc9e=currentQuizData,_0x118ebd=window[_0x65bd78(0x1c4)]('',_0x65bd78(0x936)),_0x4183ff=_0x713aa0=>String[_0x65bd78(0x3cd)](0x41+_0x713aa0),_0x32bb1a=_0x65bd78(0x3ac)+_0x30fc9e[_0x65bd78(0x255)]+_0x65bd78(0x211)+_0x30fc9e['topic']+_0x65bd78(0xae3)+_0x30fc9e['questions']['map']((_0x3817a4,_0x3b9f38)=>{const _0x3dba9b=_0x65bd78;let _0x2fb799='';const _0x360d6e=_0x3817a4[_0x3dba9b(0x425)]||_0x30fc9e['quizType'];switch(_0x360d6e){case _0x3dba9b(0xbad):case _0x3dba9b(0xb06):_0x2fb799=_0x3dba9b(0x7c1)+_0x3817a4['options']['map']((_0x179b0f,_0x24f028)=>_0x3dba9b(0x610)+_0x4183ff(_0x24f028)+'.\x20'+_0x179b0f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('<br>')+_0x3dba9b(0xa82);break;case _0x3dba9b(0x7e8):_0x2fb799='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x2fb799='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x3b9f38+0x1)+_0x3dba9b(0x308)+(_0x3817a4[_0x3dba9b(0xb16)]||_0x3817a4[_0x3dba9b(0xbbe)])+_0x3dba9b(0xd0c)+(_0x3817a4[_0x3dba9b(0xb2a)]?_0x3dba9b(0x58b)+_0x3817a4[_0x3dba9b(0xb2a)]+_0x3dba9b(0xa82):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2fb799+_0x3dba9b(0x7b9);})['join']('')+_0x65bd78(0x81a);_0x118ebd[_0x65bd78(0x2f4)][_0x65bd78(0x46b)](_0x32bb1a),_0x118ebd[_0x65bd78(0x2f4)]['close'](),_0x118ebd[_0x65bd78(0x217)]=function(){setTimeout(()=>{const _0x43ca50=_0x48bc;_0x118ebd[_0x43ca50(0x90c)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x16bcc2=_0x26020e;if(!currentQuizData||!currentQuizData[_0x16bcc2(0x1c9)]){showMessage(_0x16bcc2(0x997));return;}const _0x5430ed=currentQuizData,_0x29502b=window[_0x16bcc2(0x1c4)]('',_0x16bcc2(0x936)),_0x1a217a=_0x2efab0=>String['fromCharCode'](0x41+_0x2efab0),_0x4aace2=_0x16bcc2(0x93e)+_0x5430ed[_0x16bcc2(0x255)]+_0x16bcc2(0x7c4)+_0x5430ed[_0x16bcc2(0x1c9)][_0x16bcc2(0xd0b)]((_0x3b80ca,_0x33e188)=>{const _0x4aacca=_0x16bcc2;let _0x30a729='';const _0x21afad=_0x3b80ca['questionType']||_0x5430ed[_0x4aacca(0x31d)];switch(_0x21afad){case'multiple_choice':case'fill_in_with_choices':_0x30a729=_0x4aacca(0xbcd)+_0x3b80ca['options'][_0x4aacca(0xd0b)]((_0x3e7fcf,_0x43a642)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1a217a(_0x43a642)+'.\x20'+_0x3e7fcf+'</span>')[_0x4aacca(0xaa4)](_0x4aacca(0x73b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x30a729=_0x4aacca(0x4b6);break;default:_0x30a729='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x5430ed[_0x4aacca(0x255)]+_0x4aacca(0xb4f)+(_0x33e188+0x1)+_0x4aacca(0x92d)+(_0x3b80ca[_0x4aacca(0xb16)]||_0x3b80ca[_0x4aacca(0xbbe)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3b80ca[_0x4aacca(0xb2a)]?_0x4aacca(0x4d1)+_0x3b80ca[_0x4aacca(0xb2a)]+_0x4aacca(0xa82):'')+_0x4aacca(0x653)+_0x30a729+_0x4aacca(0x28e);})[_0x16bcc2(0xaa4)]('')+_0x16bcc2(0x20f);_0x29502b[_0x16bcc2(0x2f4)][_0x16bcc2(0x46b)](_0x4aace2),_0x29502b['document'][_0x16bcc2(0x455)](),_0x29502b[_0x16bcc2(0x217)]=function(){setTimeout(()=>{const _0x372cf4=_0x48bc;_0x29502b[_0x372cf4(0x90c)]();},0x5dc);};}async function handleToggleStarQuiz(_0x322b7b){const _0x42607f=_0x26020e,_0x56f9cd=doc(db,_0x42607f(0xc3e)+appId+_0x42607f(0xa7d),_0x322b7b);try{const _0x44532f=await getDoc(_0x56f9cd);if(_0x44532f[_0x42607f(0xd0a)]()){const _0x50e823=_0x44532f[_0x42607f(0xb97)]()['isStarred']||![];await updateDoc(_0x56f9cd,{'isStarred':!_0x50e823});}}catch(_0x5c5178){console[_0x42607f(0x2fe)](_0x42607f(0x4f1),_0x5c5178),showMessage(_0x42607f(0x2f5));}}async function displayQuestionBank(){const _0x1e0e03=_0x26020e,_0x2ce56d=document[_0x1e0e03(0x44e)](_0x1e0e03(0xc3a));_0x2ce56d['innerHTML']=_0x1e0e03(0x61f);try{const _0x6fa6cc=collection(db,_0x1e0e03(0xc3e)+appId+'/users/'+userId+_0x1e0e03(0x3af)),_0x37f71d=query(_0x6fa6cc),_0x32ecb0=await getDocs(_0x37f71d);if(_0x32ecb0[_0x1e0e03(0x266)]){_0x2ce56d[_0x1e0e03(0x4c4)]=_0x1e0e03(0x64a);return;}let _0x4fc732=_0x32ecb0[_0x1e0e03(0x8d6)][_0x1e0e03(0xd0b)](_0x1f9280=>{const _0x447723=_0x1e0e03,_0x72391f=_0x1f9280['data'](),_0x12369e=_0x1f9280['id'];return _0x447723(0xb86)+JSON[_0x447723(0x98d)](_0x72391f)+_0x447723(0x3f0)+(_0x72391f[_0x447723(0xbbe)]||_0x72391f[_0x447723(0xb16)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x72391f[_0x447723(0x62b)]+_0x447723(0xbf8);})['join']('');_0x2ce56d['innerHTML']=_0x1e0e03(0xb7b)+_0x4fc732+_0x1e0e03(0x647),document['getElementById']('create-from-bank-btn')[_0x1e0e03(0xb41)]('click',createQuizFromBank);}catch(_0x2652c7){console[_0x1e0e03(0x2fe)]('Error\x20displaying\x20question\x20bank:',_0x2652c7),_0x2ce56d[_0x1e0e03(0x4c4)]=_0x1e0e03(0x3fc);}}async function handleExportLessonToPDF(){const _0x134183=_0x26020e,_0x1b1285=document['getElementById'](_0x134183(0x3e0)),_0x32d811=document['getElementById'](_0x134183(0x587))['textContent']||_0x134183(0xb88);if(!_0x1b1285){showMessage(_0x134183(0x182));return;}const _0x3ab868=window['open']('',_0x134183(0x936)),_0x5e55f5=_0x134183(0x72c)+_0x32d811+_0x134183(0x986)+_0x32d811+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b1285['innerHTML']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3ab868[_0x134183(0x2f4)][_0x134183(0x46b)](_0x5e55f5),_0x3ab868[_0x134183(0x2f4)][_0x134183(0x455)](),_0x3ab868[_0x134183(0x217)]=function(){setTimeout(()=>{const _0x49851a=_0x48bc;_0x3ab868[_0x49851a(0x90c)]();},0x7d0);};}function showAdminLiveQuestionView(_0x5ca94e,_0xdec2a1,_0x79d32d){const _0x33d7f4=_0x26020e,_0x4812d3=_0x5ca94e[_0x33d7f4(0x425)]||currentQuizData['quizType'];let _0x48f341='';if(_0x4812d3==='multiple_choice'||_0x4812d3===_0x33d7f4(0x7e8)){const _0x416082=_0x4812d3==='true_false'?['ใช่',_0x33d7f4(0x68e)]:_0x5ca94e['options'],_0x51e787=_0x4812d3===_0x33d7f4(0x7e8)?_0x5ca94e[_0x33d7f4(0x7ba)]?0x0:0x1:_0x5ca94e[_0x33d7f4(0xa5b)];_0x48f341=_0x416082[_0x33d7f4(0xd0b)]((_0x47577f,_0x4a57dc)=>_0x33d7f4(0x89a)+(_0x4a57dc===_0x51e787)+_0x33d7f4(0x8b2)+_0x47577f+_0x33d7f4(0x373))[_0x33d7f4(0xaa4)]('');}else{if(_0x4812d3===_0x33d7f4(0x5b6)){const _0x1009ef=_0x5ca94e[_0x33d7f4(0x93c)]||[];_0x48f341=_0x1009ef[_0x33d7f4(0xd0b)](_0x466802=>_0x33d7f4(0x89a)+(_0x466802===_0x5ca94e[_0x33d7f4(0xb53)])+_0x33d7f4(0x8b2)+_0x466802+_0x33d7f4(0x373))[_0x33d7f4(0xaa4)]('');}}const _0x4cf1a6=_0x5ca94e[_0x33d7f4(0xb16)]||_0x5ca94e[_0x33d7f4(0xbbe)],_0x42aa21=_0x33d7f4(0x738)+(_0xdec2a1+0x1)+'\x20/\x20'+_0x79d32d+_0x33d7f4(0x87c)+currentLiveGamePin+_0x33d7f4(0x92f)+_0x4cf1a6+_0x33d7f4(0x694)+_0x48f341+_0x33d7f4(0x5a2);liveGameView[_0x33d7f4(0x4c4)]=_0x42aa21,window[_0x33d7f4(0x597)]&&MathJax[_0x33d7f4(0xc74)]&&MathJax[_0x33d7f4(0xc74)]([liveGameView]),document['getElementById']('reveal-answer-btn')[_0x33d7f4(0xb41)](_0x33d7f4(0x560),()=>revealAnswerForAdmin(_0xdec2a1,_0x79d32d)),document[_0x33d7f4(0x44e)](_0x33d7f4(0xae1))[_0x33d7f4(0xb41)](_0x33d7f4(0x560),async()=>{const _0x3911b9=_0x33d7f4;showConfirmation(_0x3911b9(0x797),async()=>{const _0x29adb3=_0x3911b9,_0x1e345f=doc(db,_0x29adb3(0xc3e)+appId+_0x29adb3(0x758),currentLiveGameId);await updateDoc(_0x1e345f,{'status':_0x29adb3(0xa1b)});});}),document[_0x33d7f4(0x44e)]('manage-players-btn')[_0x33d7f4(0xb41)](_0x33d7f4(0x560),()=>{const _0x5e766b=_0x33d7f4;document['getElementById'](_0x5e766b(0x46c))['classList'][_0x5e766b(0x8ce)](_0x5e766b(0x47d));});}function promptForProjectBeforeGenerating(_0x5a293f){const _0x3ac119=_0x26020e,_0x17409a=document[_0x3ac119(0x44e)]('move-quiz-modal'),_0x1406c0=document[_0x3ac119(0x44e)]('move-quiz-project-select'),_0x1ca511=_0x17409a[_0x3ac119(0x6ca)]('h3'),_0x364e63=document[_0x3ac119(0x44e)](_0x3ac119(0x750)),_0x13cd03=document['getElementById']('cancel-move-quiz-btn');_0x1ca511['textContent']=_0x3ac119(0x45d),_0x364e63[_0x3ac119(0xb23)]='เลือกและเริ่มสร้าง',_0x364e63[_0x3ac119(0x993)]=!![];allProjects['length']===0x0?_0x1406c0[_0x3ac119(0x4c4)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x1406c0[_0x3ac119(0x4c4)]=_0x3ac119(0x902)+allProjects['map'](_0x246316=>_0x3ac119(0x514)+_0x246316['id']+'\x22>'+_0x246316[_0x3ac119(0x8d8)]+_0x3ac119(0xcba))['join'](''),_0x364e63[_0x3ac119(0x993)]=![]);_0x17409a[_0x3ac119(0xab0)][_0x3ac119(0x48e)](_0x3ac119(0x47d));const _0x167597=async()=>{const _0x3ba36e=_0x3ac119,_0x25d23c=_0x1406c0[_0x3ba36e(0x6ea)];if(!_0x25d23c){showMessage(_0x3ba36e(0xc37));return;}_0x17409a[_0x3ba36e(0xab0)][_0x3ba36e(0x75b)]('hidden'),await loadProjectDetails(_0x25d23c),showView(_0x3ba36e(0xb15)),handleGenerateQuizFromBlueprintTopic(_0x5a293f),_0x31bc65();},_0x31bc65=()=>{const _0x193509=_0x3ac119;_0x1ca511[_0x193509(0xb23)]=_0x193509(0xa9b),_0x364e63[_0x193509(0xb23)]=_0x193509(0xcb5),_0x364e63[_0x193509(0x50b)]('click',_0x167597),_0x13cd03[_0x193509(0x50b)](_0x193509(0x560),_0x31bc65),_0x364e63[_0x193509(0xb41)](_0x193509(0x560),confirmMoveQuiz);};_0x364e63['removeEventListener'](_0x3ac119(0x560),confirmMoveQuiz),_0x364e63[_0x3ac119(0xb41)](_0x3ac119(0x560),_0x167597),_0x13cd03[_0x3ac119(0xb41)](_0x3ac119(0x560),_0x31bc65);}function showStudentLiveQuestionView(_0x425797,_0x3584a5,_0x50925a){const _0xf63c98=_0x26020e,_0x3e5d43=_0x425797['questionType']||currentQuizData[_0xf63c98(0x31d)];let _0x1691fd='';if(_0x3e5d43===_0xf63c98(0xbad)||_0x3e5d43===_0xf63c98(0x7e8)){const _0x4d52c3=_0x3e5d43===_0xf63c98(0x7e8)?['ใช่','ไม่ใช่']:_0x425797[_0xf63c98(0x3e3)];_0x1691fd=_0x4d52c3['map']((_0x498446,_0xd80a8d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xd80a8d+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x498446+_0xf63c98(0x38f))['join']('');}else{if(_0x3e5d43==='matching_item'){const _0x58e079=_0x425797[_0xf63c98(0x93c)]||[];_0x1691fd=_0x58e079[_0xf63c98(0xd0b)]((_0x37b60c,_0x482dd0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x482dd0+_0xf63c98(0x377)+_0x37b60c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xf63c98(0xaa4)]('');}else _0x3e5d43===_0xf63c98(0x500)&&(_0x1691fd=_0xf63c98(0x44c));}const _0x4b54e6=_0x425797['stem']||_0x425797[_0xf63c98(0xbbe)],_0x2b15d3=_0xf63c98(0x304)+(_0x3584a5+0x1)+_0xf63c98(0x690)+_0x50925a+_0xf63c98(0x952)+_0x4b54e6+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1691fd+_0xf63c98(0x77d);liveGameView[_0xf63c98(0x4c4)]=_0x2b15d3;window[_0xf63c98(0x597)]&&MathJax['typesetPromise']&&MathJax[_0xf63c98(0xc74)]([liveGameView]);const _0xccc16e=document['getElementById']('live-submit-short-answer-btn');_0xccc16e&&_0xccc16e[_0xf63c98(0xb41)](_0xf63c98(0x560),()=>{const _0x4664c3=_0xf63c98,_0x5ca0ec=document[_0x4664c3(0x44e)](_0x4664c3(0x79b))['value'];handleLiveAnswer(_0x5ca0ec,_0x425797);}),document[_0xf63c98(0x44e)](_0xf63c98(0x5d1))[_0xf63c98(0xb41)](_0xf63c98(0x560),_0x3c681a=>{const _0x358bce=_0xf63c98,_0x53d674=_0x3c681a[_0x358bce(0x440)][_0x358bce(0xcf9)](_0x358bce(0x223));if(_0x53d674){const _0x5daa19=parseInt(_0x53d674[_0x358bce(0xd00)][_0x358bce(0x517)]);handleLiveAnswer(_0x5daa19,_0x425797);}});}function listenForBlueprintShortcuts(){const _0x492d53=_0x26020e,_0x559b4b=doc(db,'globalSettings',_0x492d53(0x53f));onSnapshot(_0x559b4b,_0x25bd20=>{const _0x1fa67e=_0x492d53;let _0x2d0eb4=[],_0x3fb41b=[],_0x563a7b={};if(_0x25bd20['exists']()){const _0x172fdf=_0x25bd20[_0x1fa67e(0xb97)]();_0x2d0eb4=_0x172fdf['blueprintShortcuts']||[],_0x3fb41b=_0x172fdf[_0x1fa67e(0xc44)]||[],_0x563a7b=_0x172fdf[_0x1fa67e(0x26d)]||{};}!_0x3fb41b['find'](_0x4ec335=>_0x4ec335['id']==='all')&&_0x3fb41b[_0x1fa67e(0xc88)]({'id':_0x1fa67e(0x3bc),'name':_0x1fa67e(0x869),'isDefault':!![]}),!_0x2d0eb4[_0x1fa67e(0x2ba)](_0x3460ef=>_0x3460ef['id']===_0x1fa67e(0x8ca))&&_0x2d0eb4[_0x1fa67e(0xc88)]({'id':_0x1fa67e(0x8ca),'name':_0x1fa67e(0x643),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x2d0eb4[_0x1fa67e(0x2ba)](_0x128e22=>_0x128e22['id']===_0x1fa67e(0x3c6))&&_0x2d0eb4[_0x1fa67e(0xc88)]({'id':_0x1fa67e(0x3c6),'name':_0x1fa67e(0xad8),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x2d0eb4,shortcutTabs=_0x3fb41b,shortcutOrder=_0x563a7b,renderBlueprintShortcuts(),!document[_0x1fa67e(0x44e)]('additional-shortcuts-modal')['classList'][_0x1fa67e(0x8be)](_0x1fa67e(0x47d))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x39b0e7=_0x26020e,_0x17d13b=document[_0x39b0e7(0x44e)](_0x39b0e7(0xb01)),_0x4c9c99=document[_0x39b0e7(0x44e)]('additional-shortcuts-list');if(!_0x17d13b||!_0x4c9c99)return;_0x17d13b[_0x39b0e7(0x4c4)]=shortcutTabs[_0x39b0e7(0xd0b)](_0x26002f=>{const _0x543907=_0x39b0e7,_0x44db41=_0x26002f['id']===activeShortcutTabId,_0x430941=_0x543907(0x696),_0x35dc79=_0x543907(0xb18);return _0x543907(0xb1f)+_0x26002f['id']+_0x543907(0x4ea)+(_0x44db41?_0x430941:_0x35dc79)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x26002f[_0x543907(0x7c3)]+_0x543907(0x281)+_0x26002f[_0x543907(0x7c3)]+_0x543907(0x3be)+(!_0x26002f[_0x543907(0x78f)]?_0x543907(0x7bd)+_0x26002f['id']+_0x543907(0x1bf):'')+_0x543907(0x373);})[_0x39b0e7(0xaa4)]('');const _0x2ad765=shortcutTabs[_0x39b0e7(0x2ba)](_0x2ba37e=>_0x2ba37e['id']===activeShortcutTabId);let _0xfa30eb=[];if(_0x2ad765){if(_0x2ad765[_0x39b0e7(0x78f)])_0xfa30eb=[...blueprintShortcuts];else{const _0x22de5d=_0x2ad765[_0x39b0e7(0x89d)]||[];_0xfa30eb=blueprintShortcuts[_0x39b0e7(0x1f5)](_0x525f40=>_0x22de5d[_0x39b0e7(0xae9)](_0x525f40['id']));}}const _0x5e27d5=shortcutOrder[activeShortcutTabId]||[];_0xfa30eb['sort']((_0x160b39,_0x21ae0b)=>{const _0x4bfa22=_0x39b0e7,_0x353c48=_0x5e27d5[_0x4bfa22(0x31a)](_0x160b39['id']),_0x1c704b=_0x5e27d5[_0x4bfa22(0x31a)](_0x21ae0b['id']);if(_0x353c48===-0x1)return 0x1;if(_0x1c704b===-0x1)return-0x1;return _0x353c48-_0x1c704b;}),_0x4c9c99[_0x39b0e7(0x4c4)]=_0xfa30eb[_0x39b0e7(0x73e)]>0x0?_0xfa30eb[_0x39b0e7(0xd0b)](_0x26de6e=>{const _0xc3b1f7=_0x39b0e7;let _0x4f27d7='🧩';if(_0x26de6e[_0xc3b1f7(0x88f)]&&_0x26de6e['referenceUrl'])_0x4f27d7='📗';else{if(_0x26de6e[_0xc3b1f7(0x88f)])_0x4f27d7='📘';}const _0xe76253=shortcutTabs[_0xc3b1f7(0x1f5)](_0x1ea1a9=>!_0x1ea1a9[_0xc3b1f7(0x78f)]),_0x529ad8=_0x2ad765[_0xc3b1f7(0x78f)]&&_0xe76253[_0xc3b1f7(0x73e)]>0x0?_0xc3b1f7(0x3f4)+_0xe76253['map'](_0x103a42=>_0xc3b1f7(0xb33)+_0x26de6e['id']+_0xc3b1f7(0x407)+_0x103a42['id']+'\x22>'+_0x103a42['name']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xc3b1f7(0xaa4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0xc3b1f7(0xce6)+_0x26de6e['id']+_0xc3b1f7(0xa52)+_0x4f27d7+'\x20'+_0x26de6e[_0xc3b1f7(0x7c3)]+_0xc3b1f7(0x66f)+_0x26de6e['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x26de6e['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x26de6e[_0xc3b1f7(0x78f)]?_0xc3b1f7(0x3dd)+_0x26de6e['id']+_0xc3b1f7(0x395):'')+_0xc3b1f7(0xcbe)+(!_0x2ad765['isDefault']?_0xc3b1f7(0x416)+_0x26de6e['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x529ad8+_0xc3b1f7(0x3dc);})[_0x39b0e7(0xaa4)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x8023e6=_0x26020e;document[_0x8023e6(0xb04)](_0x8023e6(0x691))[_0x8023e6(0x488)](_0x8e574a=>{const _0x41f5bb=_0x8023e6;_0x8e574a[_0x41f5bb(0xb41)](_0x41f5bb(0x560),_0x10bfa0=>{const _0x4b8cad=_0x41f5bb;activeShortcutTabId=_0x10bfa0[_0x4b8cad(0x73f)]['dataset']['tabId'],renderAdditionalShortcutsModal();}),_0x8e574a['addEventListener']('dblclick',_0xd6151c=>{const _0x3d8003=_0x41f5bb,_0x59f131=_0xd6151c['currentTarget'];_0x59f131['querySelector'](_0x3d8003(0xc98))[_0x3d8003(0xab0)][_0x3d8003(0x75b)](_0x3d8003(0x47d));const _0x3be644=_0x59f131[_0x3d8003(0x6ca)](_0x3d8003(0x27b));_0x3be644['classList'][_0x3d8003(0x48e)](_0x3d8003(0x47d)),_0x3be644[_0x3d8003(0x28c)](),_0x3be644['select']();});}),document[_0x8023e6(0xb04)]('.tab-name-input')[_0x8023e6(0x488)](_0x5572fb=>{const _0xccdc4c=_0x8023e6,_0x18fd6e=()=>{const _0x1f2d9a=_0x48bc,_0x6b57b2=_0x5572fb['closest'](_0x1f2d9a(0x691))['dataset'][_0x1f2d9a(0x5b4)];handleRenameShortcutTab(_0x6b57b2,_0x5572fb[_0x1f2d9a(0x6ea)]);};_0x5572fb[_0xccdc4c(0xb41)](_0xccdc4c(0xcdd),_0x18fd6e),_0x5572fb[_0xccdc4c(0xb41)](_0xccdc4c(0x546),_0x48b792=>{const _0x379859=_0xccdc4c;if(_0x48b792[_0x379859(0xc0a)]==='Enter')_0x5572fb[_0x379859(0xcdd)]();});}),document[_0x8023e6(0xb04)](_0x8023e6(0x7b6))[_0x8023e6(0x488)](_0x24ca07=>{const _0x2a73fb=_0x8023e6;_0x24ca07[_0x2a73fb(0xb41)](_0x2a73fb(0x560),_0x3d1476=>handleDeleteShortcutTab(_0x3d1476[_0x2a73fb(0x73f)][_0x2a73fb(0xd00)]['tabId']));}),document[_0x8023e6(0xb04)](_0x8023e6(0x4f5))[_0x8023e6(0x488)](_0x228d95=>{const _0x4d2f81=_0x8023e6;_0x228d95[_0x4d2f81(0xb41)](_0x4d2f81(0x560),_0x28d68d=>{const _0x2b621f=_0x4d2f81;_0x28d68d[_0x2b621f(0x1b0)]();const {shortcutId:_0x579d03,targetTabId:_0x5f1486}=_0x28d68d[_0x2b621f(0x73f)][_0x2b621f(0xd00)];handleMoveShortcutToTab(_0x579d03,_0x5f1486);});}),document[_0x8023e6(0xb04)](_0x8023e6(0x71a))['forEach'](_0x901733=>{const _0x35d3e6=_0x8023e6;_0x901733[_0x35d3e6(0xb41)](_0x35d3e6(0x560),_0x1681a7=>{const _0x38f7da=_0x35d3e6;handleRemoveShortcutFromTab(_0x1681a7[_0x38f7da(0x73f)][_0x38f7da(0xd00)]['shortcutId'],activeShortcutTabId);});});const _0x37974b=document['getElementById']('additional-shortcuts-list');_0x37974b['querySelectorAll'](_0x8023e6(0x5c3))['forEach'](_0x111a06=>{const _0x38f22e=_0x8023e6;_0x111a06[_0x38f22e(0xb41)]('click',()=>{const _0x268f39=_0x38f22e;document[_0x268f39(0x44e)]('additional-shortcuts-modal')[_0x268f39(0xab0)]['add'](_0x268f39(0x47d)),handleShortcutClick(_0x111a06[_0x268f39(0xd00)]['id']);});});let _0x2c9871=null;_0x37974b[_0x8023e6(0xb41)](_0x8023e6(0xc56),_0x536f8b=>{const _0x523efd=_0x8023e6;_0x2c9871=_0x536f8b[_0x523efd(0x440)][_0x523efd(0xcf9)](_0x523efd(0x79c)),_0x2c9871&&setTimeout(()=>_0x2c9871['classList'][_0x523efd(0x75b)](_0x523efd(0x990)),0x0);}),_0x37974b[_0x8023e6(0xb41)](_0x8023e6(0x7e9),()=>{const _0x35b4d0=_0x8023e6;_0x2c9871&&(_0x2c9871[_0x35b4d0(0xab0)][_0x35b4d0(0x48e)](_0x35b4d0(0x990)),_0x2c9871=null);}),_0x37974b[_0x8023e6(0xb41)](_0x8023e6(0x2df),_0x3c530c=>{const _0x37fdc1=_0x8023e6;_0x3c530c[_0x37fdc1(0x1b0)]();const _0x284bae=[..._0x37974b[_0x37fdc1(0xb04)](_0x37fdc1(0xcb1))][_0x37fdc1(0xbe4)]((_0x42b617,_0x5f03f3)=>{const _0x5015c0=_0x37fdc1,_0x48a46e=_0x5f03f3[_0x5015c0(0x4db)](),_0x3878d7=_0x3c530c[_0x5015c0(0x386)]-_0x48a46e[_0x5015c0(0x23b)]-_0x48a46e[_0x5015c0(0xa8f)]/0x2;return _0x3878d7<0x0&&_0x3878d7>_0x42b617['offset']?{'offset':_0x3878d7,'element':_0x5f03f3}:_0x42b617;},{'offset':Number[_0x37fdc1(0x999)]})[_0x37fdc1(0x6cf)];_0x284bae==null?_0x37974b[_0x37fdc1(0xccd)](_0x2c9871):_0x37974b[_0x37fdc1(0x398)](_0x2c9871,_0x284bae);}),_0x37974b[_0x8023e6(0xb41)](_0x8023e6(0x800),_0x578495=>{const _0x4e164b=_0x8023e6;_0x578495['preventDefault']();if(_0x2c9871){const _0x1acef1=[..._0x37974b['querySelectorAll'](_0x4e164b(0x79c))][_0x4e164b(0xd0b)](_0x178bf5=>_0x178bf5[_0x4e164b(0xd00)][_0x4e164b(0xb42)]);handleShortcutOrderChange(activeShortcutTabId,_0x1acef1);}}),document[_0x8023e6(0xb04)](_0x8023e6(0xc1d))[_0x8023e6(0x488)](_0x12c4ce=>{const _0x3506b7=_0x8023e6;_0x12c4ce[_0x3506b7(0xb41)](_0x3506b7(0x560),_0xd3ace8=>{const _0x30f70d=_0x3506b7;_0xd3ace8[_0x30f70d(0x472)]();const _0x15557a=_0xd3ace8[_0x30f70d(0x73f)][_0x30f70d(0x452)],_0x44a5ff=_0x15557a[_0x30f70d(0xab0)]['contains'](_0x30f70d(0x47d));document[_0x30f70d(0xb04)]('.move-shortcut-dropdown')[_0x30f70d(0x488)](_0x4a7cf3=>_0x4a7cf3['classList'][_0x30f70d(0x75b)](_0x30f70d(0x47d))),_0x44a5ff&&_0x15557a[_0x30f70d(0xab0)][_0x30f70d(0x48e)](_0x30f70d(0x47d));});});}document['addEventListener']('click',_0x428fb9=>{const _0x528858=_0x26020e;!_0x428fb9[_0x528858(0x440)][_0x528858(0xcf9)](_0x528858(0x9fb))&&document[_0x528858(0xb04)]('.move-shortcut-dropdown')['forEach'](_0x17dccd=>_0x17dccd[_0x528858(0xab0)][_0x528858(0x75b)](_0x528858(0x47d)));});async function saveShortcutConfig(){const _0x5aa28b=_0x26020e,_0x74b308=doc(db,_0x5aa28b(0xcfb),_0x5aa28b(0x53f));try{await setDoc(_0x74b308,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x534ba9){console['error'](_0x5aa28b(0x585),_0x534ba9);}}async function handleAddShortcutTab(){const _0x13cbc9=_0x26020e,_0x7a6104=prompt(_0x13cbc9(0x5d2),_0x13cbc9(0xb7d));if(!_0x7a6104||_0x7a6104['trim']()==='')return;shortcutTabs[_0x13cbc9(0xa2a)]({'id':'tab_'+Date[_0x13cbc9(0xc63)](),'name':_0x7a6104['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x217ea5,_0x115e6e){const _0xb8545e=_0x26020e,_0x3d94b=shortcutTabs[_0xb8545e(0x2ba)](_0x18549a=>_0x18549a['id']===_0x217ea5);_0x3d94b&&_0x115e6e[_0xb8545e(0x30d)]()!==''&&(_0x3d94b['name']=_0x115e6e[_0xb8545e(0x30d)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x341e9a){const _0x5db194=_0x26020e,_0x182715=shortcutTabs[_0x5db194(0x2ba)](_0x3482f0=>_0x3482f0['id']===_0x341e9a);_0x182715&&!_0x182715['isDefault']&&showConfirmation(_0x5db194(0x7f0)+_0x182715[_0x5db194(0x7c3)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x1ae691=_0x5db194;shortcutTabs=shortcutTabs[_0x1ae691(0x1f5)](_0x476d82=>_0x476d82['id']!==_0x341e9a),delete shortcutOrder[_0x341e9a];if(activeShortcutTabId===_0x341e9a)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x5cbe41,_0x486310){const _0x4c5e5d=_0x26020e,_0x537524=shortcutTabs[_0x4c5e5d(0x2ba)](_0x123200=>_0x123200['id']===_0x486310);_0x537524&&!_0x537524[_0x4c5e5d(0x89d)]['includes'](_0x5cbe41)&&(_0x537524[_0x4c5e5d(0x89d)][_0x4c5e5d(0xa2a)](_0x5cbe41),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x476142,_0x2db739){const _0x53f3fe=_0x26020e,_0x502bcf=shortcutTabs[_0x53f3fe(0x2ba)](_0x2a852e=>_0x2a852e['id']===_0x2db739);_0x502bcf&&!_0x502bcf[_0x53f3fe(0x78f)]&&(_0x502bcf['shortcutIds']=_0x502bcf[_0x53f3fe(0x89d)][_0x53f3fe(0x1f5)](_0x255e55=>_0x255e55!==_0x476142),await saveShortcutConfig());}async function handleShortcutOrderChange(_0xa3bdba,_0x46e59f){shortcutOrder[_0xa3bdba]=_0x46e59f,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x32b7bb=_0x26020e,_0x5ab934=document[_0x32b7bb(0x44e)](_0x32b7bb(0x925)),_0xc19c72=document['getElementById']('additional-shortcuts-list'),_0x8e6b03=document['getElementById']('shortcuts-loading-msg');_0x8e6b03&&_0x8e6b03[_0x32b7bb(0xab0)][_0x32b7bb(0x75b)](_0x32b7bb(0x47d));if(!_0x5ab934||!_0xc19c72)return;const _0x446afd=blueprintShortcuts[_0x32b7bb(0x8ac)](0x0,0x4),_0x17e743=blueprintShortcuts['slice'](0x4);_0x5ab934[_0x32b7bb(0x4c4)]=_0x446afd[_0x32b7bb(0xd0b)](_0x4f9ab8=>{const _0xe94f5c=_0x32b7bb;let _0x137690='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x476a4d='🧩';if(_0x4f9ab8[_0xe94f5c(0x88f)]&&_0x4f9ab8[_0xe94f5c(0x935)])_0x137690=_0xe94f5c(0x67b),_0x476a4d='📗';else _0x4f9ab8[_0xe94f5c(0x88f)]&&(_0x137690=_0xe94f5c(0x3ec),_0x476a4d='📘');const _0x405337=!_0x4f9ab8['isDefault']?_0xe94f5c(0x3dd)+_0x4f9ab8['id']+_0xe94f5c(0x567):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x4f9ab8['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x137690+_0xe94f5c(0x669)+_0x476a4d+'\x20'+_0x4f9ab8[_0xe94f5c(0x7c3)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4f9ab8['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x405337+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x32b7bb(0xaa4)](''),_0x17e743[_0x32b7bb(0x73e)]>0x0&&(_0x5ab934[_0x32b7bb(0x4c4)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x17e743['length']>0x0?_0xc19c72['innerHTML']=_0x17e743[_0x32b7bb(0xd0b)](_0x2719b4=>{const _0x51b57d=_0x32b7bb;let _0x5200c8='🧩';if(_0x2719b4['blueprintUrl']&&_0x2719b4[_0x51b57d(0x935)])_0x5200c8='📗';else _0x2719b4[_0x51b57d(0x88f)]&&(_0x5200c8='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x5200c8+'\x20'+_0x2719b4['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2719b4['id']+_0x51b57d(0x215)+_0x2719b4['id']+_0x51b57d(0x2dc)+(!_0x2719b4[_0x51b57d(0x78f)]?_0x51b57d(0x3dd)+_0x2719b4['id']+_0x51b57d(0x395):'')+_0x51b57d(0x578);})[_0x32b7bb(0xaa4)](''):_0xc19c72[_0x32b7bb(0x4c4)]=_0x32b7bb(0x406);}function getMimeTypeFromFilename(_0x596d1c){const _0x42f91e=_0x26020e,_0x35f154=_0x596d1c['split']('.')['pop']()['toLowerCase']();switch(_0x35f154){case _0x42f91e(0x8c7):return _0x42f91e(0x515);case _0x42f91e(0x60b):return _0x42f91e(0x6f8);default:return _0x42f91e(0x515);}}function openShortcutEditor(_0x5d8f7d=null){const _0x2bc368=_0x26020e,_0xe78584=document[_0x2bc368(0x44e)]('shortcut-editor-modal'),_0xf66b80=document[_0x2bc368(0x44e)](_0x2bc368(0x968)),_0x5eb625=document['getElementById'](_0x2bc368(0x80e)),_0x47291f=document[_0x2bc368(0x44e)](_0x2bc368(0x9b7)),_0x3171ab=document['getElementById'](_0x2bc368(0x545)),_0xe4a063=document[_0x2bc368(0x44e)](_0x2bc368(0x213));if(_0x5d8f7d){const _0x690c54=blueprintShortcuts[_0x2bc368(0x2ba)](_0x49ed44=>_0x49ed44['id']===_0x5d8f7d);if(!_0x690c54)return;_0xf66b80[_0x2bc368(0xb23)]=_0x2bc368(0x8f7),_0x5eb625[_0x2bc368(0x6ea)]=_0x690c54['id'],_0x47291f[_0x2bc368(0x6ea)]=_0x690c54[_0x2bc368(0x7c3)],_0x3171ab[_0x2bc368(0x6ea)]=_0x690c54[_0x2bc368(0x88f)]||'',_0xe4a063[_0x2bc368(0x6ea)]=_0x690c54[_0x2bc368(0x935)]||'';}else _0xf66b80[_0x2bc368(0xb23)]='เพิ่มปุ่มลัดใหม่',_0x5eb625['value']='',_0x47291f['value']='',_0x3171ab[_0x2bc368(0x6ea)]='',_0xe4a063['value']='';_0xe78584[_0x2bc368(0xab0)][_0x2bc368(0x48e)](_0x2bc368(0x47d));}async function saveShortcutChanges(){const _0x49eb07=_0x26020e,_0x15fd58=document[_0x49eb07(0x44e)]('shortcut-id-input')[_0x49eb07(0x6ea)],_0x6dd422=document['getElementById'](_0x49eb07(0x9b7))['value']['trim'](),_0x24cbb6=document[_0x49eb07(0x44e)]('shortcut-blueprint-url-input')[_0x49eb07(0x6ea)][_0x49eb07(0x30d)]();if(!_0x6dd422||!_0x24cbb6){showMessage(_0x49eb07(0x6a4));return;}const _0xda721f={'id':_0x15fd58||_0x49eb07(0x58f)+Date[_0x49eb07(0xc63)](),'name':_0x6dd422,'blueprintUrl':_0x24cbb6,'referenceUrl':document[_0x49eb07(0x44e)](_0x49eb07(0x213))[_0x49eb07(0x6ea)][_0x49eb07(0x30d)](),'isDefault':_0x15fd58[_0x49eb07(0x259)](_0x49eb07(0xb5a))};let _0x3667af;_0x15fd58?_0x3667af=blueprintShortcuts['map'](_0x58e003=>_0x58e003['id']===_0x15fd58?_0xda721f:_0x58e003):_0x3667af=[...blueprintShortcuts,_0xda721f];try{const _0x1673aa=doc(db,_0x49eb07(0xcfb),_0x49eb07(0x53f));await setDoc(_0x1673aa,{'blueprintShortcuts':_0x3667af},{'merge':!![]}),document['getElementById'](_0x49eb07(0x3a9))[_0x49eb07(0xab0)]['add'](_0x49eb07(0x47d));}catch(_0x47b7bc){console[_0x49eb07(0x2fe)](_0x49eb07(0x6ce),_0x47b7bc),showMessage(_0x49eb07(0xadd));}}async function handleShortcutClick(_0x22590e){const _0x4f9ee8=_0x26020e,_0x180318=blueprintShortcuts[_0x4f9ee8(0x2ba)](_0x21b2a4=>_0x21b2a4['id']===_0x22590e);if(!_0x180318||!_0x180318[_0x4f9ee8(0x88f)])return;document[_0x4f9ee8(0x44e)](_0x4f9ee8(0x726))[_0x4f9ee8(0xab0)][_0x4f9ee8(0x75b)](_0x4f9ee8(0x47d)),document[_0x4f9ee8(0x44e)](_0x4f9ee8(0x947))[_0x4f9ee8(0x993)]=!![];const _0x506fd4=document[_0x4f9ee8(0x44e)](_0x4f9ee8(0x438)),_0x325c4b=document[_0x4f9ee8(0x44e)](_0x4f9ee8(0x734));document['getElementById'](_0x4f9ee8(0x439))[_0x4f9ee8(0xab0)][_0x4f9ee8(0x48e)](_0x4f9ee8(0x47d)),document[_0x4f9ee8(0x44e)]('generated-quiz-container')[_0x4f9ee8(0x4c4)]='',_0x506fd4['classList'][_0x4f9ee8(0x48e)](_0x4f9ee8(0x47d));try{_0x325c4b[_0x4f9ee8(0xb23)]='กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...';const _0x199ccb=await fetchFileFromUrl(_0x180318[_0x4f9ee8(0x88f)],_0x4f9ee8(0x6da));let _0x2c8e3e=null;if(_0x180318[_0x4f9ee8(0x935)]){_0x325c4b[_0x4f9ee8(0xb23)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x421e9d=_0x180318['referenceUrl'][_0x4f9ee8(0x552)]()[_0x4f9ee8(0x71d)](_0x4f9ee8(0x65c))?_0x4f9ee8(0x48d):'reference.pdf';_0x2c8e3e=await fetchFileFromUrl(_0x180318[_0x4f9ee8(0x935)],_0x421e9d);}await handleGenerateFromBlueprintWithFiles(_0x199ccb,_0x2c8e3e);}catch(_0x21ab2d){console['error']('Error\x20processing\x20shortcut\x20click:',_0x21ab2d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x21ab2d[_0x4f9ee8(0x9d4)]),_0x506fd4[_0x4f9ee8(0xab0)][_0x4f9ee8(0x75b)](_0x4f9ee8(0x47d));}}function getDirectDownloadUrl(_0x57160d){const _0x1eb43c=_0x26020e,_0x1fec71=_0x57160d[_0x1eb43c(0x728)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x1fec71&&_0x1fec71[0x1])return _0x1eb43c(0x2d8)+_0x1fec71[0x1];return _0x57160d;}async function fetchFileFromUrl(_0x3d26ed,_0x56c48b){const _0x64305=_0x26020e,_0x9bccad=getDirectDownloadUrl(_0x3d26ed),_0x45d71a=_0x64305(0x378)+encodeURIComponent(_0x9bccad),_0x5829ad=await fetch(_0x45d71a);if(!_0x5829ad['ok'])throw new Error(_0x64305(0xaa3)+_0x5829ad[_0x64305(0x8b8)]+')');const _0x57f9ca=await _0x5829ad[_0x64305(0x8d4)](),_0x4fab11=await new Promise((_0x6b40de,_0x59bd00)=>{const _0x4caa4d=_0x64305,_0x1a0143=new FileReader();_0x1a0143[_0x4caa4d(0x549)]=()=>_0x6b40de(new Uint8Array(_0x1a0143[_0x4caa4d(0x961)])),_0x1a0143['onerror']=_0x59bd00,_0x1a0143[_0x4caa4d(0x499)](_0x57f9ca[_0x4caa4d(0x8ac)](0x0,0x4));});let _0x3875ff='';const _0x4d49bf=new TextDecoder()[_0x64305(0xc69)](_0x4fab11);return _0x4d49bf==='%PDF'?(_0x3875ff=_0x64305(0x515),console['log'](_0x64305(0x802))):(_0x3875ff=_0x64305(0x6f8),console['log']('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x57f9ca],_0x56c48b,{'type':_0x3875ff});}async function handleGenerateFromBlueprintWithFiles(_0x2a548b,_0x35a702=null){const _0x230085=_0x26020e;if(!_0x2a548b){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x32bf2b=document[_0x230085(0x44e)](_0x230085(0x438)),_0x3837c9=document[_0x230085(0x44e)](_0x230085(0x734));_0x32bf2b[_0x230085(0xab0)][_0x230085(0x48e)](_0x230085(0x47d)),document[_0x230085(0x44e)](_0x230085(0x439))[_0x230085(0xab0)]['remove'](_0x230085(0x47d)),document[_0x230085(0x44e)](_0x230085(0xae7))[_0x230085(0x4c4)]='';try{_0x3837c9[_0x230085(0xb23)]=_0x230085(0x45a);const _0x47c116=await new Promise((_0x26aa09,_0x44038a)=>{const _0x29c920=_0x230085,_0x4328b3=new FileReader();_0x4328b3[_0x29c920(0x56e)](_0x2a548b),_0x4328b3[_0x29c920(0x217)]=()=>_0x26aa09(_0x4328b3[_0x29c920(0x961)][_0x29c920(0x232)](',')[0x1]),_0x4328b3[_0x29c920(0x5d0)]=_0x44038a;}),_0x17e724=[];if(_0x35a702){_0x3837c9['textContent']=_0x230085(0x6ef);const _0x121561=await _0x35a702[_0x230085(0x2ac)]();_0x17e724[_0x230085(0xa2a)]({'text':_0x230085(0x8e1)+_0x121561});}const _0x150781=[{'text':'...'},{'inlineData':{'mimeType':_0x2a548b[_0x230085(0x3c9)],'data':_0x47c116}},..._0x17e724];await handleGenerateFromBlueprint(_0x150781);}catch(_0x37bb36){console[_0x230085(0x2fe)](_0x230085(0x24d),_0x37bb36),showMessage(_0x230085(0x93f)+_0x37bb36[_0x230085(0x9d4)]),_0x32bf2b[_0x230085(0xab0)][_0x230085(0x75b)](_0x230085(0x47d));}}async function handleLiveAnswer(_0xa0a07f,_0x51e849){const _0x4f4ca7=_0x26020e;document['querySelectorAll'](_0x4f4ca7(0xc13))[_0x4f4ca7(0x488)](_0x1ebfff=>_0x1ebfff[_0x4f4ca7(0x993)]=!![]);const _0xfeaeba=_0x51e849[_0x4f4ca7(0x425)]||currentQuizData[_0x4f4ca7(0x31d)];let _0x5d7da8=![],_0x20927c=_0xa0a07f;if(_0xfeaeba===_0x4f4ca7(0x500)){const _0x16783c=(_0xa0a07f||'')[_0x4f4ca7(0x1e5)]();_0x5d7da8=await gradeShortAnswer(_0x16783c,_0x51e849);}else{if(_0xfeaeba==='multiple_choice')_0x5d7da8=_0xa0a07f===_0x51e849[_0x4f4ca7(0xa5b)];else{if(_0xfeaeba===_0x4f4ca7(0x7e8)){const _0x18a438=_0x51e849[_0x4f4ca7(0x7ba)];_0x5d7da8=_0xa0a07f===0x0&&_0x18a438||_0xa0a07f===0x1&&!_0x18a438;}else{if(_0xfeaeba===_0x4f4ca7(0x5b6)){const _0x430614=_0x51e849[_0x4f4ca7(0x93c)][_0xa0a07f];_0x5d7da8=_0x430614===_0x51e849[_0x4f4ca7(0xb53)],_0x20927c=_0x430614;}}}}const _0x438a78=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x8a0986={};_0x8a0986[_0x4f4ca7(0x7a2)+currentStudentName+_0x4f4ca7(0xb1d)]=!![],_0x8a0986[_0x4f4ca7(0x7a2)+currentStudentName+_0x4f4ca7(0x64e)]=_0x5d7da8,_0x8a0986['players.'+currentStudentName+_0x4f4ca7(0xc03)]=_0xfeaeba===_0x4f4ca7(0x500)||_0xfeaeba===_0x4f4ca7(0x5b6)?null:_0xa0a07f,_0x8a0986['players.'+currentStudentName+_0x4f4ca7(0xb08)]=_0x20927c,_0x8a0986['players.'+currentStudentName+'.submittedAt']=serverTimestamp(),_0x8a0986[_0x4f4ca7(0x7a2)+currentStudentName+_0x4f4ca7(0x831)]=![],await updateDoc(_0x438a78,_0x8a0986),liveGameView[_0x4f4ca7(0x4c4)]=_0x4f4ca7(0x1f7);}function showAdminSummaryView(_0x53c0e2,_0x46ad5e){const _0x50470f=_0x26020e,_0x182c80=Object['values'](_0x53c0e2['players']||{}),_0x41ac5f=_0x46ad5e[_0x50470f(0x425)]||currentQuizData['quizType'],_0x469147=_0x41ac5f===_0x50470f(0x7e8)?[_0x50470f(0x805),_0x50470f(0x68e)]:_0x46ad5e[_0x50470f(0x3e3)]||_0x46ad5e[_0x50470f(0x93c)]||[],_0x51a887={},_0x3164ce=new Array(_0x469147[_0x50470f(0x73e)])[_0x50470f(0x81b)](0x0);_0x469147[_0x50470f(0x488)]((_0x254c59,_0x262bc5)=>{_0x51a887[_0x262bc5]=[];}),Object[_0x50470f(0xa5d)](_0x53c0e2[_0x50470f(0xb73)]||{})['forEach'](([_0x3ff545,_0x8e3cee])=>{const _0x3f7558=_0x50470f;if(_0x8e3cee[_0x3f7558(0x8b8)]===_0x3f7558(0x57f)&&_0x8e3cee[_0x3f7558(0x44a)]!==undefined){const _0x56fad0=_0x8e3cee['lastAnswerIndex'];_0x51a887[_0x56fad0]&&(_0x51a887[_0x56fad0][_0x3f7558(0xa2a)](_0x3ff545),_0x3164ce[_0x56fad0]++);}});const _0x17c0b0=Math[_0x50470f(0x6c6)](..._0x3164ce,0x1),_0x2f341c=_0x50470f(0xaba)+(_0x46ad5e['stem']||_0x46ad5e[_0x50470f(0xbbe)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3164ce[_0x50470f(0xd0b)]((_0x4cf37f,_0xaf1682)=>{const _0x5d1908=_0x50470f,_0x2a2140=_0x51a887[_0xaf1682]['length']>0x0?_0x51a887[_0xaf1682][_0x5d1908(0xaa4)](',\x20'):_0x5d1908(0x77b);let _0x5f564f=![];if(_0x41ac5f==='multiple_choice')_0x5f564f=_0xaf1682===_0x46ad5e[_0x5d1908(0xa5b)];else{if(_0x41ac5f===_0x5d1908(0x7e8)){const _0x3b2a18=_0x46ad5e[_0x5d1908(0x7ba)];_0x5f564f=_0x3b2a18&&_0xaf1682===0x0||!_0x3b2a18&&_0xaf1682===0x1;}else _0x41ac5f===_0x5d1908(0x5b6)&&(_0x5f564f=_0x469147[_0xaf1682]===_0x46ad5e[_0x5d1908(0xb53)]);}const _0xf39109=_0x5f564f?'#26890c':_0x5d1908(0xa59);return _0x5d1908(0x914)+_0x4cf37f+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0xf39109+_0x5d1908(0xb27)+_0xaf1682+_0x5d1908(0x1de)+_0x469147[_0xaf1682]+_0x5d1908(0x6b7)+_0xaf1682+_0x5d1908(0x495)+_0x2a2140+_0x5d1908(0x987);})[_0x50470f(0xaa4)]('')+_0x50470f(0x6a3);liveGameView[_0x50470f(0x4c4)]=_0x2f341c;if(window['MathJax'])MathJax[_0x50470f(0xc74)]();document['getElementById']('show-leaderboard-btn')[_0x50470f(0xb41)](_0x50470f(0x560),async()=>{const _0x469594=_0x50470f,_0x1e5c4e=doc(db,_0x469594(0xc3e)+appId+_0x469594(0x758),currentLiveGameId);await updateDoc(_0x1e5c4e,{'questionStatus':_0x469594(0x85d)});}),document['getElementById']('open-scratchpad-btn')[_0x50470f(0xb41)](_0x50470f(0x560),()=>{openScratchpad(_0x46ad5e,_0x469147);});}function showPlayerSummaryView(_0xdd2829,_0x49bd7a){const _0x7311b7=_0x26020e,_0x50edec=Object[_0x7311b7(0x20d)](_0xdd2829[_0x7311b7(0xb73)]||{}),_0x2591e2=_0xdd2829[_0x7311b7(0xb73)][_0x49bd7a],_0x5c1e04=_0x50edec[_0x7311b7(0x1f5)](_0x32be36=>_0x32be36[_0x7311b7(0x8b8)]===_0x7311b7(0x57f))[_0x7311b7(0x80a)]((_0x2b5754,_0x1a4a65)=>_0x1a4a65['score']-_0x2b5754['score']),_0x321d6d=_0x5c1e04['findIndex'](_0xceb484=>_0xceb484===_0x2591e2)+0x1,_0x854f34=_0x2591e2[_0x7311b7(0x492)]?_0x7311b7(0x320):_0x7311b7(0x984),_0x33fd73=_0x2591e2[_0x7311b7(0x492)]?_0x7311b7(0x955):_0x7311b7(0x942),_0x31715a=_0x2591e2[_0x7311b7(0x36f)]||0x0,_0x26926b=_0x7311b7(0x757),_0x3f71ac=_0x7311b7(0x2c4)+_0x26926b+_0x7311b7(0xb34)+_0x33fd73+_0x7311b7(0xabb)+_0x854f34+_0x7311b7(0x962)+_0x31715a+_0x7311b7(0xbbf)+(_0x321d6d>0x0?_0x321d6d:'-')+_0x7311b7(0x81f);liveGameView[_0x7311b7(0x4c4)]=_0x3f71ac;}function createQuizFromBank(){const _0x3dabb6=_0x26020e,_0x313d7d=document[_0x3dabb6(0xb04)](_0x3dabb6(0x80f));if(_0x313d7d[_0x3dabb6(0x73e)]===0x0){showMessage(_0x3dabb6(0xcd4));return;}const _0x421917=[];_0x313d7d['forEach'](_0x2bf872=>{const _0x151580=_0x3dabb6;_0x421917[_0x151580(0xa2a)](JSON[_0x151580(0x22b)](_0x2bf872[_0x151580(0x6ea)]));});const _0x4b9a16={'topic':_0x3dabb6(0xa61),'questions':_0x421917};displayGeneratedQuiz(_0x4b9a16);}function showAdminLobbyView(_0x197e83,_0x5c755c){const _0x1ac6ae=_0x26020e;showView(_0x1ac6ae(0x470));const _0x5bbeb7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x5c755c+_0x1ac6ae(0x57d)+_0x197e83+_0x1ac6ae(0x421);liveGameView[_0x1ac6ae(0x4c4)]=_0x5bbeb7,document[_0x1ac6ae(0x44e)](_0x1ac6ae(0xcaa))[_0x1ac6ae(0xb41)](_0x1ac6ae(0x560),async()=>{const _0x24ad86=_0x1ac6ae;if(!currentQuizData||!currentQuizData[_0x24ad86(0x1c9)]||currentQuizData['questions'][_0x24ad86(0x73e)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x2ad2b0=doc(db,_0x24ad86(0xc3e)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x2ad2b0,{'status':_0x24ad86(0xbe6),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xf6c00f=currentQuizData[_0x24ad86(0x1c9)][0x0],_0xc52b75=currentQuizData[_0x24ad86(0x1c9)][_0x24ad86(0x73e)];showAdminLiveQuestionView(_0xf6c00f,0x0,_0xc52b75);}catch(_0x4652a1){console[_0x24ad86(0x2fe)]('Error\x20starting\x20game:',_0x4652a1),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x58654e=_0x26020e;if(allQuizzesGlobal['length']===0x0){const _0x375ba8=await getDocs(collection(db,_0x58654e(0xc3e)+appId+_0x58654e(0xa7d)));allQuizzesGlobal=_0x375ba8[_0x58654e(0x8d6)]['map'](_0x3432f9=>({'id':_0x3432f9['id'],..._0x3432f9[_0x58654e(0xb97)]()}));}renderQuizBankList(''),document[_0x58654e(0x44e)](_0x58654e(0x464))[_0x58654e(0xab0)][_0x58654e(0x48e)](_0x58654e(0x47d));}function renderQuizBankList(_0x26818f='',_0x48c412=![]){const _0x54c5e9=_0x26020e,_0x504775=document[_0x54c5e9(0x44e)](_0x54c5e9(0x5dd)),_0x12010b=_0x26818f[_0x54c5e9(0x552)]()[_0x54c5e9(0x30d)](),_0x3caac4=allQuizzesGlobal['map'](_0x8deaa8=>({..._0x8deaa8,'projectName':allProjects[_0x54c5e9(0x2ba)](_0x380579=>_0x380579['id']===_0x8deaa8[_0x54c5e9(0xc0b)])?.[_0x54c5e9(0x8d8)]||_0x54c5e9(0x61d)}))[_0x54c5e9(0x1f5)](_0x2bd2e=>(_0x2bd2e['topic']||'')[_0x54c5e9(0x552)]()[_0x54c5e9(0xae9)](_0x12010b)||(_0x2bd2e[_0x54c5e9(0x8d8)]||'')['toLowerCase']()[_0x54c5e9(0xae9)](_0x12010b)||_0x2bd2e['id']['toString']()[_0x54c5e9(0xae9)](_0x12010b));document[_0x54c5e9(0x44e)]('quiz-bank-count')[_0x54c5e9(0xb23)]='('+_0x3caac4['length']+'\x20ชุด)',_0x504775[_0x54c5e9(0x4c4)]=_0x3caac4[_0x54c5e9(0x73e)]?_0x3caac4[_0x54c5e9(0xd0b)](_0x538231=>{const _0x45c9ab=_0x54c5e9,_0x468fa1=!_0x48c412?_0x45c9ab(0x37b)+_0x538231['id']+_0x45c9ab(0x5cc)+_0x538231['id']+_0x45c9ab(0x32c)+_0x538231['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x538231['id']+_0x45c9ab(0x357)+_0x538231['id']+_0x45c9ab(0x8d1)+_0x538231['id']+_0x45c9ab(0x78a)+_0x538231[_0x45c9ab(0x255)]+_0x45c9ab(0x2c6):'';return _0x45c9ab(0x573)+_0x538231['id']+_0x45c9ab(0x917)+(_0x538231[_0x45c9ab(0x255)]||_0x45c9ab(0x340))+_0x45c9ab(0x46d)+(_0x538231['questions']?.[_0x45c9ab(0x73e)]||0x0)+_0x45c9ab(0x817)+_0x538231[_0x45c9ab(0x8d8)]+_0x45c9ab(0xcf1)+_0x538231['id']+_0x45c9ab(0x3b1)+_0x468fa1+_0x45c9ab(0x834);})[_0x54c5e9(0xaa4)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x48c412&&(_0x504775[_0x54c5e9(0xb04)](_0x54c5e9(0xc8e))[_0x54c5e9(0x488)](_0x3f3488=>{const _0x183719=_0x54c5e9;_0x3f3488[_0x183719(0xb41)]('click',()=>{const _0x6c17a2=_0x183719,_0xeb807f=_0x3f3488[_0x6c17a2(0xd00)]['id'];document[_0x6c17a2(0x44e)](_0x6c17a2(0x464))[_0x6c17a2(0xab0)][_0x6c17a2(0x75b)](_0x6c17a2(0x47d)),showQuizDetailView(_0xeb807f);});}),_0x504775['querySelectorAll'](_0x54c5e9(0x556))[_0x54c5e9(0x488)](_0x11d0dc=>{const _0x4bdeb6=_0x54c5e9;_0x11d0dc[_0x4bdeb6(0xb41)]('click',_0x558930=>{const _0x438dd9=_0x4bdeb6;_0x558930['stopPropagation']();const _0x2848e0=_0x11d0dc[_0x438dd9(0xd00)]['id'],_0x51bbf9=allQuizzesGlobal['find'](_0x2ef678=>_0x2ef678['id']===_0x2848e0);_0x51bbf9?(currentQuizData=_0x51bbf9,document[_0x438dd9(0x44e)](_0x438dd9(0x464))[_0x438dd9(0xab0)][_0x438dd9(0x75b)](_0x438dd9(0x47d)),startAdminTest()):showMessage(_0x438dd9(0xbf0));});}),_0x504775[_0x54c5e9(0xb04)]('.quiz-bank-parallel-btn')['forEach'](_0x2f6f83=>{const _0x42a894=_0x54c5e9;_0x2f6f83[_0x42a894(0xb41)](_0x42a894(0x560),_0x145a74=>{const _0x42db5f=_0x42a894;_0x145a74[_0x42db5f(0x472)]();const _0x5923f3=_0x2f6f83[_0x42db5f(0xd00)]['id'],_0x6237f6=allQuizzesGlobal[_0x42db5f(0x2ba)](_0x5d6b32=>_0x5d6b32['id']===_0x5923f3);_0x6237f6?(document[_0x42db5f(0x44e)]('quiz-bank-modal')[_0x42db5f(0xab0)][_0x42db5f(0x75b)](_0x42db5f(0x47d)),handleGenerateParallelFromBank(_0x6237f6)):showMessage(_0x42db5f(0xbf0));});}),_0x504775[_0x54c5e9(0xb04)](_0x54c5e9(0xbbb))[_0x54c5e9(0x488)](_0x255bfa=>{const _0x12e25c=_0x54c5e9;_0x255bfa[_0x12e25c(0xb41)](_0x12e25c(0x560),_0x3a4447=>{const _0x29f535=_0x12e25c;_0x3a4447[_0x29f535(0x472)]();const _0xa4fbb4=_0x255bfa[_0x29f535(0xd00)]['id'],_0x3d7a8b=allQuizzesGlobal[_0x29f535(0x2ba)](_0x194815=>_0x194815['id']===_0xa4fbb4);_0x3d7a8b?(document[_0x29f535(0x44e)](_0x29f535(0x464))[_0x29f535(0xab0)]['add'](_0x29f535(0x47d)),startPresentation(_0x3d7a8b)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x504775[_0x54c5e9(0xb04)](_0x54c5e9(0xb6c))[_0x54c5e9(0x488)](_0x4a3419=>{const _0x405bb8=_0x54c5e9;_0x4a3419[_0x405bb8(0xb41)](_0x405bb8(0x560),_0x4384d6=>{const _0x22afe8=_0x405bb8;_0x4384d6[_0x22afe8(0x472)]();const _0x53d28c=_0x4a3419[_0x22afe8(0xd00)]['id'];document['getElementById'](_0x22afe8(0x464))[_0x22afe8(0xab0)][_0x22afe8(0x75b)](_0x22afe8(0x47d)),handleMoveQuiz(_0x53d28c);});}),_0x504775[_0x54c5e9(0xb04)](_0x54c5e9(0x5c9))[_0x54c5e9(0x488)](_0x3d6d96=>{const _0x1ebb46=_0x54c5e9;_0x3d6d96[_0x1ebb46(0xb41)](_0x1ebb46(0x560),_0x317f36=>{const _0x5bf09c=_0x1ebb46;_0x317f36[_0x5bf09c(0x472)]();const _0x2963e5=_0x3d6d96[_0x5bf09c(0xd00)]['id'];document[_0x5bf09c(0x44e)]('quiz-bank-modal')[_0x5bf09c(0xab0)][_0x5bf09c(0x75b)](_0x5bf09c(0x47d)),handleQuizSettings(_0x2963e5);});}),_0x504775['querySelectorAll'](_0x54c5e9(0x8a9))[_0x54c5e9(0x488)](_0x1c187d=>{const _0x11268b=_0x54c5e9;_0x1c187d[_0x11268b(0xb41)](_0x11268b(0x560),_0x27c4aa=>{const _0x37880c=_0x11268b;_0x27c4aa[_0x37880c(0x472)]();const _0x100863=_0x1c187d['dataset']['id'],_0x23d093=_0x1c187d['dataset'][_0x37880c(0x255)];showConfirmation(_0x37880c(0x9b1)+_0x23d093+_0x37880c(0xb5b),()=>handleDeleteQuiz(_0x100863));});}));}async function handleCompareResults(_0x3fcb49,_0xaa40b7){const _0xa504bb=_0x26020e,_0x4ecfb2=document['getElementById'](_0xa504bb(0x299)),_0x3f9721=document['getElementById'](_0xa504bb(0xa69)),_0x11e515=document[_0xa504bb(0x44e)](_0xa504bb(0x6e7));document[_0xa504bb(0x44e)](_0xa504bb(0x5e8))[_0xa504bb(0xab0)][_0xa504bb(0x75b)](_0xa504bb(0x57f)),document[_0xa504bb(0x44e)](_0xa504bb(0x324))[_0xa504bb(0xab0)][_0xa504bb(0x48e)](_0xa504bb(0x57f)),_0x3f9721[_0xa504bb(0xab0)][_0xa504bb(0x48e)](_0xa504bb(0x47d)),_0x11e515['classList'][_0xa504bb(0x75b)](_0xa504bb(0x47d)),_0x3f9721[_0xa504bb(0x4c4)]=_0xa504bb(0x61f),_0x11e515[_0xa504bb(0x4c4)]='',_0x4ecfb2['classList'][_0xa504bb(0x48e)]('hidden');try{const _0x50970a=doc(db,_0xa504bb(0xc3e)+appId+_0xa504bb(0xa7d),_0x3fcb49),_0x583de6=await getDoc(_0x50970a);if(!_0x583de6[_0xa504bb(0xd0a)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x1ee0f4=_0x583de6['data'](),_0x5547a7=_0x1ee0f4[_0xa504bb(0x1c9)][_0xa504bb(0x73e)],_0x2ca989=collection(db,'artifacts/'+appId+_0xa504bb(0xa6e)+_0xaa40b7+'/submissions'),_0x988f0d=collection(db,_0xa504bb(0xc3e)+appId+_0xa504bb(0xa6e)+_0x3fcb49+_0xa504bb(0xab1)),[_0x10be99,_0x53e074]=await Promise[_0xa504bb(0x3bc)]([getDocs(_0x2ca989),getDocs(_0x988f0d)]),_0x489675=_0x10be99[_0xa504bb(0x8d6)][_0xa504bb(0xd0b)](_0x692625=>_0x692625[_0xa504bb(0xb97)]()),_0x45d28d=_0x53e074[_0xa504bb(0x8d6)][_0xa504bb(0xd0b)](_0x1b8f8e=>_0x1b8f8e['data']()),_0x3c3403=_0x489675[_0xa504bb(0xd0b)](_0x46c98c=>_0x46c98c[_0xa504bb(0x257)]),_0x1ab9a6=_0x45d28d[_0xa504bb(0xd0b)](_0x1e971a=>_0x1e971a['latestScore']),_0x30261b=calculateMeanAndStdDev(_0x3c3403),_0x3925c6=calculateMeanAndStdDev(_0x1ab9a6),_0x410679=_0x30261b['mean'],_0x4b96d6=_0x3925c6['mean'],_0x40c755=_0x4b96d6-_0x410679;let _0x2865da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x410679[_0xa504bb(0x69b)](0x2)+_0xa504bb(0x99c)+_0x4b96d6['toFixed'](0x2)+_0xa504bb(0x326)+(_0x40c755>=0x0?_0xa504bb(0x992):_0xa504bb(0xb66))+_0xa504bb(0x48f)+(_0x40c755>=0x0?_0xa504bb(0xcea):'text-red-800')+_0xa504bb(0x21f)+(_0x40c755>=0x0?_0xa504bb(0x82b):_0xa504bb(0x765))+'\x22>'+(_0x40c755>=0x0?'+':'')+_0x40c755['toFixed'](0x2)+_0xa504bb(0x5d3);_0x3f9721['innerHTML']=_0x2865da;const _0x4af606=document[_0xa504bb(0x44e)](_0xa504bb(0x7bf))[_0xa504bb(0x2c8)]('2d');if(chartInstances[_0xa504bb(0xb87)])chartInstances[_0xa504bb(0xb87)][_0xa504bb(0x6b4)]();chartInstances[_0xa504bb(0xb87)]=new Chart(_0x4af606,{'type':_0xa504bb(0x53d),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0xa504bb(0x48c),'data':[_0x410679],'backgroundColor':_0xa504bb(0xcc5)},{'label':_0xa504bb(0x66b),'data':[_0x4b96d6],'backgroundColor':_0xa504bb(0x27c)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5547a7}}}});const _0xedc1ae=currentProjectData[_0xa504bb(0x926)]||[],_0xd9cb1a=_0xedc1ae[_0xa504bb(0xd0b)](_0x358a64=>{const _0x387461=_0xa504bb,_0x18f2c0=_0x489675[_0x387461(0x2ba)](_0xd50af4=>_0xd50af4[_0x387461(0x775)]===_0x358a64),_0x388598=_0x45d28d[_0x387461(0x2ba)](_0x3570fc=>_0x3570fc['studentName']===_0x358a64),_0x59966a=_0x18f2c0?_0x18f2c0[_0x387461(0x257)]:null,_0x5d38b9=_0x388598?_0x388598[_0x387461(0x257)]:null,_0x2a98f6=_0x59966a!==null&&_0x5d38b9!==null?_0x5d38b9-_0x59966a:null,_0x1a9bd7=_0x59966a!==null?calculateZScore(_0x59966a,_0x30261b[_0x387461(0x467)],_0x30261b['stdDev']):null,_0x2f6b07=_0x5d38b9!==null?calculateZScore(_0x5d38b9,_0x3925c6[_0x387461(0x467)],_0x3925c6[_0x387461(0x1cf)]):null,_0x1d47ff=_0x1a9bd7!==null?calculateTScore(_0x1a9bd7):null,_0x35f86d=_0x2f6b07!==null?calculateTScore(_0x2f6b07):null,_0x139a36=_0x1d47ff!==null&&_0x35f86d!==null?_0x35f86d-_0x1d47ff:null;return{'name':_0x358a64,'preScore':_0x59966a,'postScore':_0x5d38b9,'gain':_0x2a98f6,'preTScore':_0x1d47ff,'postTScore':_0x35f86d,'tGain':_0x139a36};});renderIndividualComparisonTable(_0xd9cb1a,_0x11e515);}catch(_0x26e9db){console[_0xa504bb(0x2fe)](_0xa504bb(0xc67),_0x26e9db),_0x3f9721['innerHTML']=_0xa504bb(0xaf4);}}async function saveBlueprintProject(){const _0x529bd8=_0x26020e;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x529bd8(0xb85));return;}const _0x1a6a99=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x529bd8(0xc0c));if(!_0x1a6a99||_0x1a6a99[_0x529bd8(0x30d)]()==='')return;const _0x10339e={};extractedBlueprintData['curriculum'][_0x529bd8(0x488)](_0xf9aae0=>{const _0x2f7c3c=_0x529bd8;_0xf9aae0[_0x2f7c3c(0x6d8)]['forEach'](_0x352e59=>{const _0x121946=_0x2f7c3c;_0x352e59[_0x121946(0x521)][_0x121946(0x488)](_0x16b6c3=>{const _0x5bf38e=_0x121946,_0xecdf81=_0x5bf38e(0xa5c)+Date[_0x5bf38e(0xc63)]()+Math[_0x5bf38e(0x522)]()[_0x5bf38e(0x1e5)](0x24)[_0x5bf38e(0x9a0)](0x2,0x9);_0x10339e[_0xecdf81]={'sara':_0xf9aae0['sara'],'mainTopic':_0x352e59[_0x5bf38e(0xb5d)],'subTopic':_0x16b6c3,'status':_0x5bf38e(0x7f9),'lessonContent':null};});});});try{const _0x2a61c5=collection(db,'artifacts/'+appId+_0x529bd8(0x9a9));await addDoc(_0x2a61c5,{'projectName':_0x1a6a99[_0x529bd8(0x30d)](),'gradeLevel':extractedBlueprintData[_0x529bd8(0x442)],'topics':_0x10339e,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x1a6a99['trim']()+_0x529bd8(0x342)),document[_0x529bd8(0x44e)](_0x529bd8(0x190))[_0x529bd8(0xab0)]['add'](_0x529bd8(0x47d));}catch(_0x25bf4e){console[_0x529bd8(0x2fe)](_0x529bd8(0x265),_0x25bf4e),showMessage(_0x529bd8(0x1d0));}}async function showBlueprintProjects(){const _0x46b374=_0x26020e,_0x9ac54b=document[_0x46b374(0x44e)](_0x46b374(0xaee)),_0x3a104f=document[_0x46b374(0x44e)](_0x46b374(0x506));_0x3a104f[_0x46b374(0x4c4)]=_0x46b374(0x5ed),_0x9ac54b[_0x46b374(0xab0)]['remove'](_0x46b374(0x47d));try{const _0x209ca5=collection(db,'artifacts/'+appId+_0x46b374(0x9a9)),_0xee8f79=await getDocs(_0x209ca5);if(_0xee8f79[_0x46b374(0x266)]){_0x3a104f['innerHTML']=_0x46b374(0x631);return;}const _0x5ce228=_0xee8f79[_0x46b374(0x8d6)][_0x46b374(0xd0b)](_0x137b80=>({'id':_0x137b80['id'],..._0x137b80[_0x46b374(0xb97)]()}));_0x5ce228[_0x46b374(0x80a)]((_0x368a44,_0x12e18e)=>_0x368a44[_0x46b374(0x8d8)][_0x46b374(0x4e8)](_0x12e18e[_0x46b374(0x8d8)],'th')),_0x3a104f['innerHTML']=_0x5ce228[_0x46b374(0xd0b)](_0x226a4e=>_0x46b374(0x835)+_0x226a4e[_0x46b374(0x8d8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x226a4e[_0x46b374(0x442)]+_0x46b374(0x1dc)+Object[_0x46b374(0x4bc)](_0x226a4e['topics'])[_0x46b374(0x73e)]+_0x46b374(0x3f3)+_0x226a4e['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x226a4e['id']+_0x46b374(0x995))['join']('');}catch(_0x1e5f7e){console[_0x46b374(0x2fe)](_0x46b374(0xb4c),_0x1e5f7e),_0x3a104f[_0x46b374(0x4c4)]=_0x46b374(0x94a);}}async function displayBlueprintProjectManager(_0x2529ba){const _0x95d7bc=_0x26020e;currentBlueprintProjectId=_0x2529ba,document[_0x95d7bc(0x44e)]('blueprint-projects-modal')[_0x95d7bc(0xab0)]['add'](_0x95d7bc(0x47d)),showView(_0x95d7bc(0x5c1)),projectDashboardView['classList'][_0x95d7bc(0x75b)]('hidden');const _0x1589a0=document[_0x95d7bc(0x44e)](_0x95d7bc(0x854));_0x1589a0['classList'][_0x95d7bc(0x48e)]('hidden'),document['getElementById'](_0x95d7bc(0x9ed))[_0x95d7bc(0x4c4)]=_0x95d7bc(0x61f);try{const _0x413b90=doc(db,_0x95d7bc(0xc3e)+appId+_0x95d7bc(0x9a9),_0x2529ba),_0x5ed2ef=await getDoc(_0x413b90);if(!_0x5ed2ef['exists']())throw new Error(_0x95d7bc(0xc01));const _0xe32e8={'id':_0x5ed2ef['id'],..._0x5ed2ef[_0x95d7bc(0xb97)]()};document[_0x95d7bc(0x44e)](_0x95d7bc(0xc0e))[_0x95d7bc(0xb23)]=_0xe32e8[_0x95d7bc(0x8d8)],document[_0x95d7bc(0x44e)]('bp-reference-file-url')[_0x95d7bc(0x6ea)]=_0xe32e8[_0x95d7bc(0x471)]||'',renderBlueprintTopicManager(_0xe32e8);}catch(_0x4ebbd2){console[_0x95d7bc(0x2fe)](_0x95d7bc(0x95a),_0x4ebbd2),showMessage(_0x4ebbd2[_0x95d7bc(0x9d4)]),showView(_0x95d7bc(0x5c1));}}function renderBlueprintTopicManager(_0x30736c){const _0x379a58=_0x26020e,_0xd80747=document[_0x379a58(0x44e)](_0x379a58(0x9ed)),_0x2dbb9f=_0x30736c[_0x379a58(0xa25)]||{};if(Object[_0x379a58(0x4bc)](_0x2dbb9f)[_0x379a58(0x73e)]===0x0){_0xd80747[_0x379a58(0x4c4)]=_0x379a58(0x2a9);return;}const _0x121b40={};for(const _0x5e6c14 in _0x2dbb9f){const _0x1c780d={'id':_0x5e6c14,..._0x2dbb9f[_0x5e6c14]};_0x121b40[_0x1c780d[_0x379a58(0x77f)]]=_0x121b40[_0x1c780d[_0x379a58(0x77f)]]||{},_0x121b40[_0x1c780d['sara']][_0x1c780d[_0x379a58(0xbfa)]]=_0x121b40[_0x1c780d[_0x379a58(0x77f)]][_0x1c780d[_0x379a58(0xbfa)]]||[],_0x121b40[_0x1c780d[_0x379a58(0x77f)]][_0x1c780d[_0x379a58(0xbfa)]]['push'](_0x1c780d);}let _0x4efba1='';const _0x4c3e55=Object[_0x379a58(0x4bc)](_0x121b40)[_0x379a58(0x80a)]((_0x34a699,_0x368b0e)=>_0x34a699['localeCompare'](_0x368b0e,'th'));for(const _0x358b30 of _0x4c3e55){_0x4efba1+=_0x379a58(0x589)+_0x358b30+_0x379a58(0xbeb);const _0x15e472=Object[_0x379a58(0x4bc)](_0x121b40[_0x358b30])['sort']((_0xf719da,_0x40850c)=>_0xf719da[_0x379a58(0x4e8)](_0x40850c,'th'));for(const _0x164930 of _0x15e472){_0x4efba1+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x164930+_0x379a58(0xa39),_0x121b40[_0x358b30][_0x164930]['sort']((_0xb7aa85,_0x3a0c89)=>_0xb7aa85[_0x379a58(0xc94)]['localeCompare'](_0x3a0c89[_0x379a58(0xc94)],'th')),_0x121b40[_0x358b30][_0x164930][_0x379a58(0x488)](_0xa6b029=>{const _0x50a63e=_0x379a58,_0x49bae0=_0xa6b029['id'],_0x5e9c6c=_0xa6b029['linkedQuizIds']||[],_0x2aa653=_0x5e9c6c['length']>0x0,_0x25c056=_0xa6b029[_0x50a63e(0x8b8)]==='generated';let _0x3de90b='';_0x2aa653?_0x3de90b='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x5e9c6c[_0x50a63e(0x73e)]+_0x50a63e(0x9fc):_0x3de90b=_0x50a63e(0x9bf)+(_0x25c056?_0x50a63e(0x841):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x25c056?_0x50a63e(0x5ff):_0x50a63e(0x3f1))+_0x50a63e(0x3c1);const _0x319984=!_0x25c056?_0x50a63e(0x65e):'',_0x38822c=!_0x25c056?'กรุณาสร้างบทเรียนก่อน':'';let _0x578952=_0x25c056?_0x50a63e(0x6c7):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x4efba1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x49bae0+_0x50a63e(0xbd3)+_0xa6b029['subTopic']+_0x50a63e(0x1a4)+_0x3de90b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x319984+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x38822c+_0x50a63e(0x481)+_0x578952+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4efba1+=_0x379a58(0x934);}_0x4efba1+=_0x379a58(0xa82);}_0xd80747[_0x379a58(0x4c4)]=_0x4efba1;}async function openTopicQuizBank(_0x29a60d){const _0x1822e8=_0x26020e,_0x2f70d0=document['getElementById'](_0x1822e8(0x4ad)),_0x8b8b52=document[_0x1822e8(0x44e)](_0x1822e8(0xb65)),_0x4b29a6=document[_0x1822e8(0x44e)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x5a5dbc=doc(db,_0x1822e8(0xc3e)+appId+_0x1822e8(0x9a9),currentBlueprintProjectId),_0x41dd91=await getDoc(_0x5a5dbc);if(!_0x41dd91['exists']())return;const _0x7bd87a=_0x41dd91[_0x1822e8(0xb97)](),_0x1c1465=_0x7bd87a[_0x1822e8(0xa25)][_0x29a60d];document[_0x1822e8(0x44e)](_0x1822e8(0x30e))[_0x1822e8(0xb23)]=_0x1c1465[_0x1822e8(0xc94)];const _0x27bca7=_0x1c1465[_0x1822e8(0xcaf)]||[];_0x4b29a6['classList']['toggle'](_0x1822e8(0x47d),_0x27bca7['length']===0x0),_0x4b29a6[_0x1822e8(0x847)]=()=>handleClearAllLinksForTopic(_0x29a60d);if(_0x27bca7[_0x1822e8(0x73e)]===0x0)_0x8b8b52[_0x1822e8(0x4c4)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x17dfc8=allQuizzesGlobal['filter'](_0x234ac6=>_0x27bca7['includes'](_0x234ac6['id']));_0x8b8b52[_0x1822e8(0x4c4)]=_0x17dfc8[_0x1822e8(0xd0b)](_0x10578b=>_0x1822e8(0xb69)+_0x10578b['id']+_0x1822e8(0x5f3)+_0x10578b['topic']+_0x1822e8(0x2a6)+_0x10578b['id']+'\x20|\x20'+_0x10578b['questions'][_0x1822e8(0x73e)]+_0x1822e8(0xcae)+_0x10578b['id']+_0x1822e8(0x683)+_0x10578b['id']+_0x1822e8(0x99a)+_0x10578b['id']+_0x1822e8(0x228)+_0x10578b['id']+_0x1822e8(0x8ea)+_0x10578b['id']+_0x1822e8(0x400)+_0x10578b['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x29a60d+_0x1822e8(0x59f)+_0x10578b['id']+_0x1822e8(0x31b))['join']('');}document[_0x1822e8(0x44e)](_0x1822e8(0x203))[_0x1822e8(0x847)]=()=>{openQuizSelectorForBlueprint(_0x29a60d);},document[_0x1822e8(0x44e)](_0x1822e8(0x7e7))[_0x1822e8(0x847)]=()=>_0x2f70d0[_0x1822e8(0xab0)][_0x1822e8(0x75b)](_0x1822e8(0x47d)),_0x2f70d0['classList']['remove'](_0x1822e8(0x47d));}catch(_0xcdcf1e){showMessage(_0xcdcf1e[_0x1822e8(0x9d4)]);}}async function openQuizSelectorForBlueprint(_0x5bb8a){const _0x1b7ee3=_0x26020e,_0x2bf109=document[_0x1b7ee3(0x44e)](_0x1b7ee3(0x464)),_0x5b48c6=document[_0x1b7ee3(0x44e)](_0x1b7ee3(0x4ad));_0x5b48c6[_0x1b7ee3(0xab0)][_0x1b7ee3(0x75b)](_0x1b7ee3(0x47d)),document[_0x1b7ee3(0x44e)](_0x1b7ee3(0x347))?.[_0x1b7ee3(0x48e)]();const _0x4ba421=document[_0x1b7ee3(0x88a)](_0x1b7ee3(0x4a1));_0x4ba421['id']='confirm-link-quiz-btn',_0x4ba421[_0x1b7ee3(0xa9d)]=_0x1b7ee3(0xa36),_0x4ba421['textContent']=_0x1b7ee3(0x187),_0x4ba421[_0x1b7ee3(0x993)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x2bf109['classList']['remove'](_0x1b7ee3(0x47d)),renderQuizBankListForMultiSelect(''),document[_0x1b7ee3(0x44e)](_0x1b7ee3(0x616))[_0x1b7ee3(0x456)][_0x1b7ee3(0x890)]='none',_0x2bf109[_0x1b7ee3(0x6ca)](_0x1b7ee3(0x9fd))[_0x1b7ee3(0xccd)](_0x4ba421);const _0x5b6a0a=(_0x25d8be=![])=>{const _0x1beb35=_0x1b7ee3;_0x2bf109[_0x1beb35(0xab0)][_0x1beb35(0x75b)]('hidden'),document[_0x1beb35(0x44e)]('bulk-quiz-settings-btn')[_0x1beb35(0x456)]['display']=_0x1beb35(0xab6),_0x4ba421[_0x1beb35(0x48e)](),_0x25d8be&&openTopicQuizBank(_0x5bb8a);};_0x4ba421[_0x1b7ee3(0x847)]=async()=>{const _0x37d285=_0x1b7ee3,_0x5c8c5c=Array['from'](document[_0x37d285(0xb04)](_0x37d285(0xaec)))[_0x37d285(0xd0b)](_0x39171f=>_0x39171f[_0x37d285(0x6ea)]);if(_0x5c8c5c[_0x37d285(0x73e)]===0x0)return;try{const _0x54c8ee=doc(db,_0x37d285(0xc3e)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0xf37d99=(await getDoc(_0x54c8ee))[_0x37d285(0xb97)](),_0x46c126=_0xf37d99[_0x37d285(0xa25)][_0x5bb8a][_0x37d285(0xcaf)]||[],_0x34f7b1=[...new Set([..._0x46c126,..._0x5c8c5c])];await updateDoc(_0x54c8ee,{[_0x37d285(0xad9)+_0x5bb8a+'.linkedQuizIds']:_0x34f7b1}),showMessage(_0x37d285(0x209)+_0x5c8c5c['length']+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x5b6a0a(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2eb290){console[_0x37d285(0x2fe)](_0x37d285(0x96a),_0x2eb290);}},document[_0x1b7ee3(0x44e)](_0x1b7ee3(0x8c0))[_0x1b7ee3(0x847)]=()=>_0x5b6a0a(!![]);}catch(_0x409a05){showMessage(_0x409a05[_0x1b7ee3(0x9d4)]),_0x5b48c6[_0x1b7ee3(0xab0)][_0x1b7ee3(0x48e)](_0x1b7ee3(0x47d));}}function handleClearLinkedQuiz(_0x4821e8){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x47c632=_0x48bc;try{const _0x9a5598=doc(db,'artifacts/'+appId+_0x47c632(0x9a9),currentBlueprintProjectId);await updateDoc(_0x9a5598,{[_0x47c632(0xad9)+_0x4821e8+_0x47c632(0x1ac)]:deleteField()}),showMessage(_0x47c632(0xa4d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4ced9f){console[_0x47c632(0x2fe)](_0x47c632(0x94f),_0x4ced9f),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x3d749c=_0x26020e,_0x489009=prompt(_0x3d749c(0x8d2));if(!_0x489009||_0x489009[_0x3d749c(0x30d)]()==='')return;const _0x126a01=prompt(_0x3d749c(0x83b),'สาระที่\x201'),_0x40e181=prompt(_0x3d749c(0x21b),_0x3d749c(0x90b)),_0x4ac5f6=_0x3d749c(0xa5c)+Date[_0x3d749c(0xc63)]()+Math['random']()[_0x3d749c(0x1e5)](0x24)[_0x3d749c(0x9a0)](0x2,0x9),_0x133a3d={'sara':_0x126a01,'mainTopic':_0x40e181,'subTopic':_0x489009['trim'](),'status':_0x3d749c(0x7f9),'lessonContent':null};try{const _0x5e030e=doc(db,_0x3d749c(0xc3e)+appId+_0x3d749c(0x9a9),currentBlueprintProjectId);await updateDoc(_0x5e030e,{[_0x3d749c(0xad9)+_0x4ac5f6]:_0x133a3d}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3b34fa){console[_0x3d749c(0x2fe)](_0x3d749c(0x8c4),_0x3b34fa),showMessage(_0x3d749c(0xb84));}}async function editTopicInProject(_0x53e0c8){const _0x572f01=_0x26020e,_0x25c361=document[_0x572f01(0x6ca)](_0x572f01(0x4bd)+_0x53e0c8+'\x22]'),_0x3dd0ff=_0x25c361['querySelector'](_0x572f01(0x355)),_0x378159=_0x3dd0ff[_0x572f01(0xb23)],_0x49543d=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x378159);if(!_0x49543d||_0x49543d[_0x572f01(0x30d)]()===''||_0x49543d[_0x572f01(0x30d)]()===_0x378159)return;try{const _0x33472c=doc(db,_0x572f01(0xc3e)+appId+_0x572f01(0x9a9),currentBlueprintProjectId);await updateDoc(_0x33472c,{['topics.'+_0x53e0c8+_0x572f01(0xca7)]:_0x49543d[_0x572f01(0x30d)]()}),_0x3dd0ff[_0x572f01(0xb23)]=_0x49543d[_0x572f01(0x30d)](),showMessage(_0x572f01(0x4d7));}catch(_0x4363a7){console[_0x572f01(0x2fe)](_0x572f01(0x4a4),_0x4363a7),showMessage(_0x572f01(0x332));}}async function deleteTopicFromProject(_0x456806){const _0x5b5201=_0x26020e;if(!confirm(_0x5b5201(0xc18)))return;try{const _0xf9077=doc(db,_0x5b5201(0xc3e)+appId+_0x5b5201(0x9a9),currentBlueprintProjectId);await updateDoc(_0xf9077,{['topics.'+_0x456806]:deleteField()}),document[_0x5b5201(0x6ca)]('[data-topic-id=\x22'+_0x456806+'\x22]')[_0x5b5201(0x48e)](),showMessage(_0x5b5201(0xb19));}catch(_0xc9dfe3){console[_0x5b5201(0x2fe)](_0x5b5201(0x830),_0xc9dfe3),showMessage(_0x5b5201(0x5e3));}}async function generateAndSaveLessonForBlueprint(_0x2660a7,_0x53cc9a,_0x48d3f5){handleGenerateAndShowLesson(_0x53cc9a,_0x48d3f5);const _0x4bec9b=setInterval(async()=>{const _0xcfcce3=_0x48bc,_0x35aa19=document[_0xcfcce3(0x44e)](_0xcfcce3(0x7c9)),_0x47d16a=_0x35aa19[_0xcfcce3(0xab0)]['contains'](_0xcfcce3(0x47d));if(_0x47d16a){clearInterval(_0x4bec9b);if(currentApplicationData&&currentApplicationData[_0xcfcce3(0x73e)]>0x0){const _0x1f3dd0={'point':document['getElementById']('pointContent')[_0xcfcce3(0x4c4)],'memory':document[_0xcfcce3(0x44e)]('memoryContent')[_0xcfcce3(0x4c4)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0xcfcce3(0x44e)](_0xcfcce3(0xcf7))[_0xcfcce3(0x4c4)]};try{const _0x5d6feb=doc(db,_0xcfcce3(0xc3e)+appId+_0xcfcce3(0x9a9),currentBlueprintProjectId),_0x3c4add=doc(db,_0xcfcce3(0xc3e)+appId+_0xcfcce3(0x263)+currentBlueprintProjectId+_0xcfcce3(0x9b5),_0x2660a7),_0x4914fb=writeBatch(db);_0x4914fb['set'](_0x3c4add,{'content':_0x1f3dd0}),_0x4914fb[_0xcfcce3(0x183)](_0x5d6feb,{[_0xcfcce3(0xad9)+_0x2660a7+_0xcfcce3(0x46e)]:_0xcfcce3(0xced)}),await _0x4914fb[_0xcfcce3(0x7dc)](),console[_0xcfcce3(0x824)](_0xcfcce3(0x973)+_0x2660a7+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x39852e){console[_0xcfcce3(0x2fe)](_0xcfcce3(0xb3a),_0x39852e);}}}},0x3e8);}function displayHalfMarkResult(_0x4c44ff,_0x4c7f0e){const _0x5979f4=_0x26020e,_0x1ee509=_0x4c44ff>=_0x4c7f0e/0x2,_0x3cfb3f=_0x1ee509?'bg-green-100':_0x5979f4(0xb66),_0x5c0e4f=_0x1ee509?_0x5979f4(0xb94):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x1fec08=_0x1ee509?_0x5979f4(0x7f3):_0x5979f4(0x23d),_0x3b3c2c=_0x1ee509?_0x5979f4(0x61e):_0x5979f4(0x97a),_0x2081f1=_0x1ee509?_0x5979f4(0xa09):_0x5979f4(0x6eb);let _0x1c1959=_0x5979f4(0x8fc)+_0x3cfb3f+_0x5979f4(0x809)+_0x5c0e4f+_0x5979f4(0x338)+_0x1fec08+'\x20mb-2\x22>'+_0x3b3c2c+_0x5979f4(0x3d7)+_0x2081f1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x5979f4(0x4c4)]=_0x1c1959,studentResultArea['classList'][_0x5979f4(0x48e)](_0x5979f4(0x47d)),studentQuizArea['classList'][_0x5979f4(0x75b)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1ee509});}function displayPerfectScoreResult(_0x3dab29,_0xf75002){const _0xe7290f=_0x26020e,_0x4536df=_0x3dab29===_0xf75002,_0x22e53a=_0x4536df?_0xe7290f(0x551):_0xe7290f(0x5af),_0x2cb11f=_0x4536df?_0xe7290f(0x36c):_0xe7290f(0xd01),_0x4e6a50=_0x4536df?_0xe7290f(0x361):'text-blue-800',_0x9cfa3f=_0x4536df?_0xe7290f(0xcd6):_0xe7290f(0x5a9),_0x4686bb=_0x4536df?_0xe7290f(0xc3c):_0xe7290f(0x581);let _0x527a0f=_0xe7290f(0x8fc)+_0x22e53a+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2cb11f+_0xe7290f(0x338)+_0x4e6a50+_0xe7290f(0x763)+_0x9cfa3f+_0xe7290f(0x3d7)+_0x4686bb+_0xe7290f(0x6a5);studentResultArea[_0xe7290f(0x4c4)]=_0x527a0f,studentResultArea[_0xe7290f(0xab0)][_0xe7290f(0x48e)]('hidden'),studentQuizArea[_0xe7290f(0xab0)][_0xe7290f(0x75b)](_0xe7290f(0x47d)),setupResultScreenBackButton({'showRankings':![],'score':_0x3dab29,'totalQuestions':_0xf75002});}function renderIndividualComparisonTable(_0x5eef9f,_0xc1412c){const _0x4276d8=_0x26020e;_0x5eef9f[_0x4276d8(0x80a)]((_0x3f4e16,_0x24f95d)=>(_0x24f95d[_0x4276d8(0x5e2)]??-Infinity)-(_0x3f4e16[_0x4276d8(0x5e2)]??-Infinity));let _0x3a971e=_0x4276d8(0x26b);_0x5eef9f[_0x4276d8(0x73e)]===0x0?_0x3a971e+=_0x4276d8(0x2ea):_0x5eef9f[_0x4276d8(0x488)]((_0xfc3660,_0x5aef34)=>{const _0x24ed32=_0x4276d8;let _0x51142b='-',_0x492eb4='';if(_0xfc3660['gain']!==null){const _0x554f15=_0xfc3660['gain']>0x0?_0x24ed32(0x576):_0xfc3660[_0x24ed32(0x512)]<0x0?_0x24ed32(0xb24):_0x24ed32(0x745),_0x419839=_0xfc3660[_0x24ed32(0x512)]>0x0?'+':'';_0x51142b=_0x24ed32(0x433)+_0x554f15+'\x22>'+_0x419839+_0xfc3660[_0x24ed32(0x512)]+_0x24ed32(0x3c1);if(_0xfc3660[_0x24ed32(0x512)]>0x0)_0x492eb4='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0xfc3660[_0x24ed32(0x512)]<0x0?_0x492eb4=_0x24ed32(0x314):_0x492eb4=_0x24ed32(0xc97);}let _0xe32205='-';if(_0xfc3660[_0x24ed32(0x5e2)]!==null){const _0xa49f44=_0xfc3660['tGain']>0x0?_0x24ed32(0x576):_0xfc3660['tGain']<0x0?_0x24ed32(0xb24):_0x24ed32(0x745),_0xa4365e=_0xfc3660[_0x24ed32(0x5e2)]>0x0?'+':'';_0xe32205='<span\x20class=\x22font-bold\x20'+_0xa49f44+'\x22>'+_0xa4365e+_0xfc3660[_0x24ed32(0x5e2)]['toFixed'](0x2)+'</span>';}_0x3a971e+=_0x24ed32(0x195)+(_0x5aef34+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0xfc3660[_0x24ed32(0x7c3)]+_0x24ed32(0x603)+(_0xfc3660['preScore']??'-')+_0x24ed32(0xb10)+(_0xfc3660[_0x24ed32(0x38b)]??'-')+_0x24ed32(0x603)+_0x51142b+_0x24ed32(0x45c)+_0x492eb4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0xfc3660[_0x24ed32(0x1f3)]?.[_0x24ed32(0x69b)](0x2)??'-')+_0x24ed32(0x3c2)+(_0xfc3660[_0x24ed32(0x815)]?.[_0x24ed32(0x69b)](0x2)??'-')+_0x24ed32(0x603)+_0xe32205+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3a971e+=_0x4276d8(0x704),_0xc1412c[_0x4276d8(0x4c4)]=_0x3a971e;}function handleRenameQuiz(_0x2b2b01,_0x2caefa){const _0x6f52a2=_0x26020e;actionTargetId=_0x2b2b01,document['getElementById'](_0x6f52a2(0x711))[_0x6f52a2(0x6ea)]=_0x2caefa,renameQuizModal[_0x6f52a2(0xab0)][_0x6f52a2(0x48e)](_0x6f52a2(0x47d));}function setupComparisonModalTabs(){const _0x51b611=_0x26020e,_0x2ff181=document[_0x51b611(0x44e)](_0x51b611(0x5e8)),_0x54adf0=document[_0x51b611(0x44e)]('comparison-individual-tab'),_0x3613f5=document[_0x51b611(0x44e)](_0x51b611(0xa69)),_0x4f473d=document[_0x51b611(0x44e)](_0x51b611(0x6e7));_0x2ff181[_0x51b611(0xb41)](_0x51b611(0x560),()=>{const _0x5d47a9=_0x51b611;_0x2ff181[_0x5d47a9(0xab0)]['add'](_0x5d47a9(0x57f)),_0x54adf0['classList'][_0x5d47a9(0x48e)](_0x5d47a9(0x57f)),_0x3613f5['classList']['remove'](_0x5d47a9(0x47d)),_0x4f473d[_0x5d47a9(0xab0)][_0x5d47a9(0x75b)](_0x5d47a9(0x47d));}),_0x54adf0[_0x51b611(0xb41)](_0x51b611(0x560),()=>{const _0xcc43e=_0x51b611;_0x54adf0[_0xcc43e(0xab0)]['add'](_0xcc43e(0x57f)),_0x2ff181[_0xcc43e(0xab0)]['remove'](_0xcc43e(0x57f)),_0x4f473d[_0xcc43e(0xab0)][_0xcc43e(0x48e)]('hidden'),_0x3613f5[_0xcc43e(0xab0)]['add']('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x3c1224=_0x26020e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3ae745=doc(db,'artifacts/'+appId+_0x3c1224(0x758),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3ae745,_0x1266e3=>{const _0x403c3d=_0x3c1224;if(!_0x1266e3[_0x403c3d(0xd0a)]()){showMessage(_0x403c3d(0x4e3));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x403c3d(0x713)?showView(_0x403c3d(0xb15)):showView('student');return;}const _0x165f99=_0x1266e3[_0x403c3d(0xb97)]();_0x165f99[_0x403c3d(0x91d)]&&(currentQuizData=_0x165f99[_0x403c3d(0x91d)]);!currentQuizData&&_0x165f99[_0x403c3d(0x673)]&&((async()=>{const _0x37a6d7=_0x403c3d;try{const _0x2dddb4=doc(db,_0x37a6d7(0xc3e)+appId+'/public/data/quizzes',_0x165f99['quizId']),_0xeb881b=await getDoc(_0x2dddb4);_0xeb881b[_0x37a6d7(0xd0a)]()&&(currentQuizData={'id':_0xeb881b['id'],..._0xeb881b['data']()});}catch(_0x32e32d){console[_0x37a6d7(0x2fe)](_0x37a6d7(0x330),_0x32e32d);}})());switch(_0x165f99[_0x403c3d(0x8b8)]){case _0x403c3d(0x34d):if(currentMode===_0x403c3d(0x713)){const _0x5506d7=_0x165f99[_0x403c3d(0xb73)]?Object[_0x403c3d(0xa5d)](_0x165f99[_0x403c3d(0xb73)]):[],_0x3b8cf3=_0x5506d7[_0x403c3d(0x1f5)](([_0x3b2e6,_0xc6f8d2])=>_0xc6f8d2[_0x403c3d(0x8b8)]==='active'),_0x5c48f1=document['getElementById']('player-count');if(_0x5c48f1)_0x5c48f1[_0x403c3d(0xb23)]=_0x3b8cf3[_0x403c3d(0x73e)];const _0xa97466=document['getElementById']('player-list-lobby');_0xa97466&&(_0xa97466[_0x403c3d(0x4c4)]=_0x3b8cf3[_0x403c3d(0xd0b)](([_0x4a6fc5,_0x5f5b36])=>_0x403c3d(0x7f2)+_0x4a6fc5+_0x403c3d(0x99d)+_0x4a6fc5+_0x403c3d(0xa34))[_0x403c3d(0xaa4)](''));const _0x2975d5=document[_0x403c3d(0x44e)](_0x403c3d(0xcaa));_0x2975d5&&(_0x2975d5[_0x403c3d(0x993)]=_0x3b8cf3[_0x403c3d(0x73e)]===0x0);}else showView('live-game'),liveGameView[_0x403c3d(0x4c4)]=_0x403c3d(0x486)+currentStudentName+_0x403c3d(0x724);break;case'question':const _0x3b537b=_0x165f99['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x403c3d(0x1c9)][_0x3b537b]){const _0x24da76=currentQuizData[_0x403c3d(0x1c9)][_0x3b537b],_0x46e6ee=_0x165f99[_0x403c3d(0x771)]||'answering';switch(_0x46e6ee){case _0x403c3d(0xc14):currentMode===_0x403c3d(0x713)?showAdminSummaryView(_0x165f99,_0x24da76):showPlayerSummaryView(_0x165f99,currentStudentName);break;case'leaderboard':currentMode===_0x403c3d(0x713)&&showTop5LeaderboardView(_0x165f99);break;case'answering':default:if(currentMode===_0x403c3d(0x713)){const _0x1c6ade=writeBatch(db);let _0x15521c=![];Object[_0x403c3d(0xa5d)](_0x165f99[_0x403c3d(0xb73)])[_0x403c3d(0x488)](([_0x57e1ee,_0x2ddf71])=>{const _0x12b8b1=_0x403c3d;if(_0x2ddf71[_0x12b8b1(0x8b8)]==='active'&&_0x2ddf71[_0x12b8b1(0x642)]&&!_0x2ddf71[_0x12b8b1(0xa5f)]){_0x15521c=!![];const _0x445061=_0x2ddf71[_0x12b8b1(0x642)]['toDate']()-_0x165f99[_0x12b8b1(0x787)][_0x12b8b1(0xada)]();let _0x212d41=0x0;if(_0x2ddf71['lastAnswerCorrect']){const _0x31a763=0x3e8,_0x2ab564=0x1f4,_0x339d62=0x4e20;let _0x5ef0be=_0x445061/_0x339d62;if(_0x5ef0be>0x1)_0x5ef0be=0x1;const _0x5d7011=Math[_0x12b8b1(0x519)](_0x5ef0be*_0x2ab564);_0x212d41=_0x31a763-_0x5d7011;}const _0xa3f4fe=doc(db,'artifacts/'+appId+_0x12b8b1(0x758),currentLiveGameId);_0x1c6ade[_0x12b8b1(0x183)](_0xa3f4fe,{[_0x12b8b1(0x7a2)+_0x57e1ee+'.score']:increment(_0x212d41),[_0x12b8b1(0x7a2)+_0x57e1ee+_0x12b8b1(0x2dd)]:_0x212d41,[_0x12b8b1(0x7a2)+_0x57e1ee+_0x12b8b1(0x831)]:!![]});}});_0x15521c&&_0x1c6ade[_0x403c3d(0x7dc)]()[_0x403c3d(0xb45)](_0x4a072b=>console['error']('Error\x20committing\x20score\x20updates:',_0x4a072b));lastRenderedAdminQuestionIndex!==_0x3b537b&&(showAdminLiveQuestionView(_0x24da76,_0x3b537b,currentQuizData[_0x403c3d(0x1c9)][_0x403c3d(0x73e)]),lastRenderedAdminQuestionIndex=_0x3b537b);const _0x1b8778=_0x165f99[_0x403c3d(0xb73)]||{},_0x5a4d2c=Object['values'](_0x1b8778)['filter'](_0x14924a=>_0x14924a[_0x403c3d(0x8b8)]==='active'),_0x299102=_0x5a4d2c['length'],_0x406439=_0x5a4d2c[_0x403c3d(0x1f5)](_0x57e960=>_0x57e960['answeredCurrentQuestion']===!![])[_0x403c3d(0x73e)],_0x43d932=document[_0x403c3d(0x44e)]('answer-counter');if(_0x43d932)_0x43d932['textContent']=_0x406439+'/'+_0x299102;const _0x48ba01=document[_0x403c3d(0x44e)](_0x403c3d(0x3d1));if(_0x48ba01){let _0xfb6db1=Object[_0x403c3d(0xa5d)](_0x1b8778)[_0x403c3d(0x1f5)](([_0x17dbc5,_0x1c3d9a])=>_0x1c3d9a['status']===_0x403c3d(0x57f))[_0x403c3d(0xd0b)](([_0x26f8cc,_0x3245c1])=>{const _0x4b5c37=_0x403c3d,_0x343b75=_0x3245c1['answeredCurrentQuestion']===!![],_0x1b80ae=_0x343b75?_0x4b5c37(0x955):'bg-gray-500',_0x55dbea=_0x343b75?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x4b5c37(0x4b0);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x1b80ae+_0x4b5c37(0x614)+_0x55dbea+_0x4b5c37(0xc71)+_0x26f8cc+_0x4b5c37(0x2e2)+_0x26f8cc+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x403c3d(0xaa4)]('');_0x48ba01[_0x403c3d(0x4c4)]=_0xfb6db1||_0x403c3d(0x47e);}_0x299102>0x0&&_0x406439===_0x299102&&revealAnswerForAdmin(_0x3b537b,currentQuizData[_0x403c3d(0x1c9)][_0x403c3d(0x73e)]);}else{const _0x22d140=_0x165f99[_0x403c3d(0xb73)][currentStudentName];_0x22d140&&!_0x22d140['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x24da76,_0x3b537b,currentQuizData['questions'][_0x403c3d(0x73e)]);}break;}}break;case _0x403c3d(0xa1b):showPodiumView(_0x165f99[_0x403c3d(0xb73)],_0x403c3d(0x994));break;}});}async function openGlobalActivityModal(){const _0xb2bece=_0x26020e;if(allQuizzesGlobal[_0xb2bece(0x73e)]===0x0){const _0x72d131=await getDocs(collection(db,_0xb2bece(0xc3e)+appId+_0xb2bece(0xa7d)));allQuizzesGlobal=_0x72d131['docs']['map'](_0x5a0ff6=>({'id':_0x5a0ff6['id'],..._0x5a0ff6[_0xb2bece(0xb97)]()}));}renderGlobalActivityList(''),document[_0xb2bece(0x44e)](_0xb2bece(0x6e1))[_0xb2bece(0xab0)][_0xb2bece(0x48e)](_0xb2bece(0x47d));}function renderGlobalActivityList(_0x5a8f8d=''){const _0x580a92=_0x26020e,_0x169a7e=document[_0x580a92(0x44e)]('global-activity-quiz-list'),_0xd26f5f=_0x5a8f8d[_0x580a92(0x552)]()['trim'](),_0x5e6498=allQuizzesGlobal['map'](_0x55c6ce=>({..._0x55c6ce,'projectName':allProjects['find'](_0x4edc1f=>_0x4edc1f['id']===_0x55c6ce['projectId'])?.['projectName']||'N/A'}))[_0x580a92(0x1f5)](_0x33a5d5=>(_0x33a5d5['topic']||'')['toLowerCase']()[_0x580a92(0xae9)](_0xd26f5f)||(_0x33a5d5[_0x580a92(0x8d8)]||'')['toLowerCase']()[_0x580a92(0xae9)](_0xd26f5f));document[_0x580a92(0x44e)](_0x580a92(0xa7c))[_0x580a92(0xb23)]='('+_0x5e6498[_0x580a92(0x73e)]+'\x20ชุด)',_0x169a7e[_0x580a92(0x4c4)]=_0x5e6498['length']?_0x5e6498[_0x580a92(0xd0b)](_0x490022=>_0x580a92(0x71e)+(_0x490022[_0x580a92(0x255)]||_0x580a92(0x340))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x490022['questions']?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x490022[_0x580a92(0x8d8)]+_0x580a92(0x7b2)+_0x490022['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x490022['id']+_0x580a92(0x7d8)+_0x490022['id']+_0x580a92(0x185)+_0x490022['id']+_0x580a92(0x95c))[_0x580a92(0xaa4)](''):_0x580a92(0x396);}async function handleKickPlayer(_0x402928){const _0x1beed6=_0x26020e;if(!currentLiveGameId||!_0x402928)return;const _0x544895=doc(db,'artifacts/'+appId+_0x1beed6(0x758),currentLiveGameId),_0x5e4d0d={};_0x5e4d0d[_0x1beed6(0x7a2)+_0x402928+_0x1beed6(0x46e)]=_0x1beed6(0x4c5);try{await updateDoc(_0x544895,_0x5e4d0d);}catch(_0x1b9329){console[_0x1beed6(0x2fe)](_0x1beed6(0x412)+_0x402928+':',_0x1b9329),showMessage(_0x1beed6(0x9cb));}}async function authenticateUser(){const _0x2c5ffe=_0x26020e;try{typeof __initial_auth_token!==_0x2c5ffe(0x76e)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5f0021){console['error'](_0x2c5ffe(0x2e7),_0x5f0021),showMessage(_0x2c5ffe(0xa0b));}}function showView(_0x142ff5){const _0x4a481a=_0x26020e;adminView[_0x4a481a(0xab0)][_0x4a481a(0x75b)](_0x4a481a(0x47d)),studentView[_0x4a481a(0xab0)]['add']('hidden'),projectDashboardView[_0x4a481a(0xab0)][_0x4a481a(0x75b)](_0x4a481a(0x47d)),projectDetailView[_0x4a481a(0xab0)][_0x4a481a(0x75b)](_0x4a481a(0x47d)),quizResultsView[_0x4a481a(0xab0)][_0x4a481a(0x75b)]('hidden'),liveGameView[_0x4a481a(0xab0)][_0x4a481a(0x75b)]('hidden'),document[_0x4a481a(0x44e)](_0x4a481a(0x854))[_0x4a481a(0xab0)][_0x4a481a(0x75b)](_0x4a481a(0x47d)),studentInitialView[_0x4a481a(0xab0)][_0x4a481a(0x75b)](_0x4a481a(0x47d)),studentJoinGameView[_0x4a481a(0xab0)]['add'](_0x4a481a(0x47d)),studentNameSelectionView['classList'][_0x4a481a(0x75b)](_0x4a481a(0x47d)),studentQuizArea['classList']['add'](_0x4a481a(0x47d)),studentResultArea[_0x4a481a(0xab0)]['add']('hidden'),studentReadingArea[_0x4a481a(0xab0)][_0x4a481a(0x75b)]('hidden');const _0x4bbbfa=document['getElementById']('student-team-selection-view'),_0x324dc6=document['getElementById']('student-progress-view');if(_0x4bbbfa)_0x4bbbfa['classList'][_0x4a481a(0x75b)]('hidden');if(_0x324dc6)_0x324dc6['classList'][_0x4a481a(0x75b)](_0x4a481a(0x47d));switch(_0x142ff5){case _0x4a481a(0x5c1):adminView[_0x4a481a(0xab0)][_0x4a481a(0x48e)](_0x4a481a(0x47d)),projectDashboardView[_0x4a481a(0xab0)][_0x4a481a(0x48e)](_0x4a481a(0x47d));break;case _0x4a481a(0xb15):adminView[_0x4a481a(0xab0)][_0x4a481a(0x48e)](_0x4a481a(0x47d)),projectDetailView[_0x4a481a(0xab0)][_0x4a481a(0x48e)](_0x4a481a(0x47d));break;case _0x4a481a(0x9c4):adminView['classList'][_0x4a481a(0x48e)](_0x4a481a(0x47d)),quizResultsView[_0x4a481a(0xab0)][_0x4a481a(0x48e)](_0x4a481a(0x47d));break;case _0x4a481a(0x62d):studentView['classList'][_0x4a481a(0x48e)](_0x4a481a(0x47d)),studentInitialView[_0x4a481a(0xab0)][_0x4a481a(0x48e)](_0x4a481a(0x47d));break;case _0x4a481a(0x470):liveGameView[_0x4a481a(0xab0)][_0x4a481a(0x48e)]('hidden');break;case _0x4a481a(0x453):studentView[_0x4a481a(0xab0)][_0x4a481a(0x48e)]('hidden');if(_0x4bbbfa)_0x4bbbfa[_0x4a481a(0xab0)]['remove'](_0x4a481a(0x47d));break;case _0x4a481a(0x6f2):studentView[_0x4a481a(0xab0)][_0x4a481a(0x48e)](_0x4a481a(0x47d));if(_0x324dc6)_0x324dc6[_0x4a481a(0xab0)]['remove'](_0x4a481a(0x47d));break;default:studentView['classList'][_0x4a481a(0x48e)]('hidden'),studentInitialView['classList'][_0x4a481a(0x48e)](_0x4a481a(0x47d));break;}}function showJoinGameView(){const _0x9fe9c=_0x26020e;studentInitialView[_0x9fe9c(0xab0)][_0x9fe9c(0x75b)](_0x9fe9c(0x47d)),studentJoinGameView[_0x9fe9c(0xab0)]['remove']('hidden');}async function handleSaveVisibilitySettings(){const _0x160d1f=_0x26020e;if(!currentProjectId)return;const _0x5ddac7=doc(db,_0x160d1f(0xc3e)+appId+_0x160d1f(0x828),currentProjectId);try{await updateDoc(_0x5ddac7,{'settings.showInStudentDashboard':document[_0x160d1f(0x44e)](_0x160d1f(0x2bc))[_0x160d1f(0x8ab)],'settings.isPasscodeEnabled':document[_0x160d1f(0x44e)](_0x160d1f(0x4ff))[_0x160d1f(0x8ab)],'settings.passcode':document[_0x160d1f(0x44e)](_0x160d1f(0x85a))['value'][_0x160d1f(0x30d)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0xa24e11){console[_0x160d1f(0x2fe)](_0x160d1f(0x840),_0xa24e11),showMessage(_0x160d1f(0xadd));}}function setupEventListeners(){const _0x5894d8=_0x26020e;document['getElementById'](_0x5894d8(0x374))['addEventListener'](_0x5894d8(0x560),async()=>{const _0x5d67ac=_0x5894d8;if(!currentBlueprintProjectId)return;const _0x3d18f7=document[_0x5d67ac(0x44e)](_0x5d67ac(0x218))[_0x5d67ac(0x6ea)][_0x5d67ac(0x30d)](),_0x42c0f9=doc(db,_0x5d67ac(0xc3e)+appId+_0x5d67ac(0x9a9),currentBlueprintProjectId);try{await updateDoc(_0x42c0f9,{'referenceFileUrl':_0x3d18f7}),showMessage(_0x5d67ac(0x976));}catch(_0x254959){console[_0x5d67ac(0x2fe)]('Error\x20saving\x20reference\x20URL:',_0x254959),showMessage(_0x5d67ac(0xadd));}}),document[_0x5894d8(0x44e)](_0x5894d8(0x5f9))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleAddParallelShortcutTab),document[_0x5894d8(0x44e)]('parallel-test-input-area')['addEventListener'](_0x5894d8(0x560),_0x702b2a=>{const _0x49585a=_0x5894d8;_0x702b2a[_0x49585a(0x440)][_0x49585a(0xcf9)](_0x49585a(0x22a))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document['getElementById']('additional-parallel-shortcuts-modal')[_0x49585a(0xab0)][_0x49585a(0x48e)](_0x49585a(0x47d)));}),document[_0x5894d8(0x44e)](_0x5894d8(0x783))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x52c30b=_0x5894d8;document[_0x52c30b(0x44e)](_0x52c30b(0x74b))[_0x52c30b(0xab0)][_0x52c30b(0x75b)](_0x52c30b(0x47d));}),document[_0x5894d8(0xb41)]('click',_0x577be0=>{const _0x15ba59=_0x5894d8;!_0x577be0['target'][_0x15ba59(0xcf9)](_0x15ba59(0x8d0))&&document[_0x15ba59(0xb04)]('.move-parallel-shortcut-dropdown')[_0x15ba59(0x488)](_0xbea81c=>_0xbea81c[_0x15ba59(0xab0)][_0x15ba59(0x75b)](_0x15ba59(0x47d)));}),document['getElementById'](_0x5894d8(0x744))[_0x5894d8(0xb41)]('click',handleAddFileShortcutTab),document[_0x5894d8(0x44e)](_0x5894d8(0x9e1))[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x58ee97=>{const _0x3d5ed5=_0x5894d8;_0x58ee97['target']['closest'](_0x3d5ed5(0x5e6))&&(activeFileShortcutTabId=_0x3d5ed5(0x3bc),renderAdditionalFileShortcutsModal(),document[_0x3d5ed5(0x44e)]('additional-file-shortcuts-modal')[_0x3d5ed5(0xab0)]['remove'](_0x3d5ed5(0x47d)));}),document[_0x5894d8(0x44e)](_0x5894d8(0x571))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x361a40=_0x5894d8;document[_0x361a40(0x44e)](_0x361a40(0xb07))[_0x361a40(0xab0)][_0x361a40(0x75b)](_0x361a40(0x47d));}),document[_0x5894d8(0xb41)](_0x5894d8(0x560),_0xfdbdb3=>{const _0x51f5e1=_0x5894d8;!_0xfdbdb3[_0x51f5e1(0x440)][_0x51f5e1(0xcf9)]('.group\x5c/dropdown-file')&&document[_0x51f5e1(0xb04)](_0x51f5e1(0xc23))['forEach'](_0x27262b=>_0x27262b[_0x51f5e1(0xab0)]['add']('hidden'));}),document[_0x5894d8(0x44e)](_0x5894d8(0x739))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleAddShortcutTab),document[_0x5894d8(0x44e)](_0x5894d8(0x77c))[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x466a50=>{const _0x5b3b45=_0x5894d8,_0xc74c0d=_0x466a50[_0x5b3b45(0x440)][_0x5b3b45(0xcf9)](_0x5b3b45(0x5be)),_0x39321a=_0x466a50[_0x5b3b45(0x440)][_0x5b3b45(0xcf9)](_0x5b3b45(0x417)),_0x1f6f03=_0x466a50[_0x5b3b45(0x440)][_0x5b3b45(0xcf9)]('.delete-parallel-shortcut-btn');if(_0x39321a)openParallelTestShortcutEditor(_0x39321a[_0x5b3b45(0xd00)]['id']);else{if(_0x1f6f03){const _0x5306b5=_0x1f6f03[_0x5b3b45(0xd00)]['id'];showConfirmation(_0x5b3b45(0xad1),async()=>{const _0x33d634=_0x5b3b45,_0x157d39=parallelTestShortcuts[_0x33d634(0x1f5)](_0x414bf9=>_0x414bf9['id']!==_0x5306b5),_0x2faa23=doc(db,_0x33d634(0xcfb),'parallelTestShortcutsConfig');await setDoc(_0x2faa23,{'shortcuts':_0x157d39},{'merge':!![]});});}else _0xc74c0d&&handleParallelTestShortcutClick(_0xc74c0d[_0x5b3b45(0xd00)]['id']);}}),document[_0x5894d8(0x44e)]('add-parallel-shortcut-btn')[_0x5894d8(0xb41)]('click',()=>openParallelTestShortcutEditor(null)),document[_0x5894d8(0x44e)]('cancel-parallel-shortcut-edit-btn')['addEventListener']('click',()=>{const _0x5ec99c=_0x5894d8;document[_0x5ec99c(0x44e)]('parallel-shortcut-editor-modal')['classList'][_0x5ec99c(0x75b)]('hidden');}),document['getElementById']('save-parallel-shortcut-btn')['addEventListener'](_0x5894d8(0x560),saveParallelTestShortcutChanges),document[_0x5894d8(0x44e)](_0x5894d8(0x954))[_0x5894d8(0xb41)]('click',_0x8ca8a0=>{const _0x44690c=_0x5894d8;_0x8ca8a0[_0x44690c(0x440)][_0x44690c(0xcf9)]('#open-additional-parallel-shortcuts-btn')&&document[_0x44690c(0x44e)](_0x44690c(0x74b))[_0x44690c(0xab0)][_0x44690c(0x48e)](_0x44690c(0x47d));}),document['getElementById'](_0x5894d8(0x783))['addEventListener'](_0x5894d8(0x560),()=>{const _0x5d0b57=_0x5894d8;document[_0x5d0b57(0x44e)](_0x5d0b57(0x74b))['classList'][_0x5d0b57(0x75b)](_0x5d0b57(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0x5d5))['addEventListener'](_0x5894d8(0x560),_0x54218c=>{const _0x572014=_0x5894d8,_0x40496d=document[_0x572014(0x44e)](_0x572014(0x74b)),_0x3ddcf5=_0x54218c[_0x572014(0x440)][_0x572014(0xcf9)](_0x572014(0xaa6)),_0x3708cd=_0x54218c[_0x572014(0x440)]['closest']('.edit-hidden-parallel-shortcut-btn'),_0x4895db=_0x54218c[_0x572014(0x440)][_0x572014(0xcf9)]('.delete-hidden-parallel-shortcut-btn');if(_0x3ddcf5)_0x40496d[_0x572014(0xab0)][_0x572014(0x75b)](_0x572014(0x47d)),handleParallelTestShortcutClick(_0x3ddcf5[_0x572014(0xd00)]['id']);else{if(_0x3708cd)_0x40496d[_0x572014(0xab0)][_0x572014(0x75b)](_0x572014(0x47d)),openParallelTestShortcutEditor(_0x3708cd[_0x572014(0xd00)]['id']);else{if(_0x4895db){const _0x13f306=_0x4895db['dataset']['id'];showConfirmation(_0x572014(0xad1),async()=>{const _0x975b0=_0x572014,_0xc74142=parallelTestShortcuts[_0x975b0(0x1f5)](_0x4861ec=>_0x4861ec['id']!==_0x13f306),_0x512a24=doc(db,_0x975b0(0xcfb),_0x975b0(0x82a));await setDoc(_0x512a24,{'shortcuts':_0xc74142},{'merge':!![]});});}}}}),document[_0x5894d8(0x44e)](_0x5894d8(0x664))[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x3d8f72=>{const _0x229af2=_0x5894d8,_0x2d5844=_0x3d8f72[_0x229af2(0x440)]['closest'](_0x229af2(0x474)),_0x3db23d=_0x3d8f72['target'][_0x229af2(0xcf9)](_0x229af2(0x9d3)),_0xfe032=_0x3d8f72[_0x229af2(0x440)][_0x229af2(0xcf9)]('.delete-file-shortcut-btn');if(_0x3db23d)openFileShortcutEditor(_0x3db23d[_0x229af2(0xd00)]['id']);else{if(_0xfe032){const _0x97e7a7=_0xfe032[_0x229af2(0xd00)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4ecaf1=_0x229af2,_0xbce1dd=fileShortcuts[_0x4ecaf1(0x1f5)](_0x4b6003=>_0x4b6003['id']!==_0x97e7a7),_0x4d2cd4=doc(db,'globalSettings','fileShortcutsConfig');await setDoc(_0x4d2cd4,{'shortcuts':_0xbce1dd},{'merge':!![]});});}else _0x2d5844&&handleFileShortcutClick(_0x2d5844[_0x229af2(0xd00)]['id']);}}),document[_0x5894d8(0x44e)](_0x5894d8(0x7d5))['addEventListener'](_0x5894d8(0x560),()=>openFileShortcutEditor(null)),document[_0x5894d8(0x44e)](_0x5894d8(0x3a2))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x3dfded=_0x5894d8;document['getElementById'](_0x3dfded(0xadb))[_0x3dfded(0xab0)][_0x3dfded(0x75b)]('hidden');}),document['getElementById']('save-file-shortcut-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),saveFileShortcutChanges),document[_0x5894d8(0x44e)](_0x5894d8(0x9e1))[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x1dbc46=>{const _0x2a619e=_0x5894d8;_0x1dbc46[_0x2a619e(0x440)][_0x2a619e(0xcf9)](_0x2a619e(0x5e6))&&document[_0x2a619e(0x44e)](_0x2a619e(0xb07))[_0x2a619e(0xab0)][_0x2a619e(0x48e)](_0x2a619e(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0x571))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x1e251c=_0x5894d8;document[_0x1e251c(0x44e)](_0x1e251c(0xb07))['classList'][_0x1e251c(0x75b)](_0x1e251c(0x47d));}),document[_0x5894d8(0x44e)]('additional-file-shortcuts-list')[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x2340f6=>{const _0x53a4d9=_0x5894d8,_0x2b053a=document[_0x53a4d9(0x44e)](_0x53a4d9(0xb07)),_0xaa3c92=_0x2340f6[_0x53a4d9(0x440)][_0x53a4d9(0xcf9)](_0x53a4d9(0x328)),_0x56fa1c=_0x2340f6[_0x53a4d9(0x440)]['closest'](_0x53a4d9(0x318)),_0x4caa87=_0x2340f6[_0x53a4d9(0x440)][_0x53a4d9(0xcf9)](_0x53a4d9(0x3bb));if(_0xaa3c92)_0x2b053a[_0x53a4d9(0xab0)]['add'](_0x53a4d9(0x47d)),handleFileShortcutClick(_0xaa3c92[_0x53a4d9(0xd00)]['id']);else{if(_0x56fa1c)_0x2b053a[_0x53a4d9(0xab0)]['add'](_0x53a4d9(0x47d)),openFileShortcutEditor(_0x56fa1c[_0x53a4d9(0xd00)]['id']);else{if(_0x4caa87){const _0x141b66=_0x4caa87[_0x53a4d9(0xd00)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x2a127b=_0x53a4d9,_0x2203ca=fileShortcuts[_0x2a127b(0x1f5)](_0x1f54cc=>_0x1f54cc['id']!==_0x141b66),_0x45f2ec=doc(db,_0x2a127b(0xcfb),_0x2a127b(0xbc6));await setDoc(_0x45f2ec,{'shortcuts':_0x2203ca},{'merge':!![]});});}}}}),document[_0x5894d8(0x44e)](_0x5894d8(0x74f))[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x56eb46=>{const _0x5cf194=_0x5894d8;_0x56eb46[_0x5cf194(0x440)]['closest'](_0x5cf194(0x3f7))&&(activeShortcutTabId=_0x5cf194(0x3bc),renderAdditionalShortcutsModal(),document[_0x5cf194(0x44e)](_0x5cf194(0x57a))[_0x5cf194(0xab0)][_0x5cf194(0x48e)](_0x5cf194(0x47d)));}),document[_0x5894d8(0x44e)]('close-additional-shortcuts-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x31364d=_0x5894d8;document[_0x31364d(0x44e)](_0x31364d(0x57a))[_0x31364d(0xab0)][_0x31364d(0x75b)](_0x31364d(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0xbd7))[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x30272f=>{const _0x4a7c26=_0x5894d8,_0x696952=_0x30272f[_0x4a7c26(0x440)][_0x4a7c26(0xcf9)](_0x4a7c26(0x5c3)),_0x5a66cc=_0x30272f[_0x4a7c26(0x440)][_0x4a7c26(0xcf9)](_0x4a7c26(0xcd1)),_0x903eee=_0x30272f[_0x4a7c26(0x440)][_0x4a7c26(0xcf9)]('.delete-hidden-shortcut-btn'),_0x5860c4=document[_0x4a7c26(0x44e)](_0x4a7c26(0x57a));if(_0x696952)_0x5860c4[_0x4a7c26(0xab0)]['add'](_0x4a7c26(0x47d)),handleShortcutClick(_0x696952['dataset']['id']);else{if(_0x5a66cc)_0x5860c4[_0x4a7c26(0xab0)]['add'](_0x4a7c26(0x47d)),openShortcutEditor(_0x5a66cc[_0x4a7c26(0xd00)]['id']);else{if(_0x903eee){const _0x5aaa6a=_0x903eee[_0x4a7c26(0xd00)]['id'],_0x6d3dc0=blueprintShortcuts[_0x4a7c26(0x2ba)](_0x1880f2=>_0x1880f2['id']===_0x5aaa6a)?.[_0x4a7c26(0x7c3)];showConfirmation(_0x4a7c26(0x1ea)+_0x6d3dc0+'\x22?',async()=>{const _0x3dade9=_0x4a7c26,_0x27cf2f=blueprintShortcuts[_0x3dade9(0x1f5)](_0x3cabaa=>_0x3cabaa['id']!==_0x5aaa6a);try{const _0x28f986=doc(db,_0x3dade9(0xcfb),_0x3dade9(0x53f));await setDoc(_0x28f986,{'blueprintShortcuts':_0x27cf2f},{'merge':!![]});}catch(_0x255e34){console[_0x3dade9(0x2fe)](_0x3dade9(0xc3b),_0x255e34);}});}}}}),document['getElementById']('blueprint-shortcut-container')[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x38254c=>{const _0x77dadc=_0x5894d8,_0x52c1e6=_0x38254c[_0x77dadc(0x440)][_0x77dadc(0xcf9)](_0x77dadc(0xa92)),_0x304c88=_0x38254c[_0x77dadc(0x440)][_0x77dadc(0xcf9)](_0x77dadc(0x988)),_0x196465=_0x38254c[_0x77dadc(0x440)][_0x77dadc(0xcf9)](_0x77dadc(0x2d7));if(_0x304c88)openShortcutEditor(_0x304c88[_0x77dadc(0xd00)]['id']);else{if(_0x196465){const _0x1dda5c=_0x196465[_0x77dadc(0xd00)]['id'],_0x3a1999=blueprintShortcuts['find'](_0x54c948=>_0x54c948['id']===_0x1dda5c)?.[_0x77dadc(0x7c3)];showConfirmation(_0x77dadc(0x1ea)+_0x3a1999+'\x22?',async()=>{const _0x4219a2=_0x77dadc,_0x275e80=blueprintShortcuts[_0x4219a2(0x1f5)](_0x2b1b6f=>_0x2b1b6f['id']!==_0x1dda5c);try{const _0x20e61d=doc(db,'globalSettings',_0x4219a2(0x53f));await setDoc(_0x20e61d,{'blueprintShortcuts':_0x275e80},{'merge':!![]});}catch(_0x173f8f){console['error'](_0x4219a2(0xc3b),_0x173f8f);}});}else _0x52c1e6&&handleShortcutClick(_0x52c1e6[_0x77dadc(0xd00)]['id']);}}),document[_0x5894d8(0x44e)](_0x5894d8(0x493))[_0x5894d8(0xb41)]('click',()=>openShortcutEditor(null)),document[_0x5894d8(0x44e)](_0x5894d8(0x72e))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x459c53=_0x5894d8;document['getElementById']('shortcut-editor-modal')['classList'][_0x459c53(0x75b)](_0x459c53(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0xb3c))[_0x5894d8(0xb41)](_0x5894d8(0x560),saveShortcutChanges),document[_0x5894d8(0x44e)](_0x5894d8(0x947))[_0x5894d8(0xb41)](_0x5894d8(0x560),async()=>{const _0x42483d=_0x5894d8,_0x2f89cd=document[_0x42483d(0x44e)](_0x42483d(0xacc)),_0x530b7c=document[_0x42483d(0x44e)](_0x42483d(0xd02));_0x2f89cd[_0x42483d(0x6c2)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x2f89cd['files'][0x0],_0x530b7c[_0x42483d(0x6c2)][0x0]||null):showMessage(_0x42483d(0x705));}),document['getElementById'](_0x5894d8(0x4ad))[_0x5894d8(0xb41)](_0x5894d8(0x560),async _0x5d50ef=>{const _0x23a58d=_0x5894d8,_0x53a028=document['getElementById'](_0x23a58d(0x4ad)),_0x7e67ce=_0x5d50ef[_0x23a58d(0x440)][_0x23a58d(0xcf9)]('.bp-view-analysis-btn'),_0x32afda=_0x5d50ef[_0x23a58d(0x440)][_0x23a58d(0xcf9)]('.bp-unlink-quiz-btn'),_0x54024b=_0x5d50ef[_0x23a58d(0x440)][_0x23a58d(0xcf9)](_0x23a58d(0x56f)),_0x38103a=_0x5d50ef['target'][_0x23a58d(0xcf9)]('.bp-try-btn'),_0x23c54d=_0x5d50ef['target'][_0x23a58d(0xcf9)](_0x23a58d(0x634)),_0xdf49c4=_0x5d50ef[_0x23a58d(0x440)][_0x23a58d(0xcf9)](_0x23a58d(0x9f5));if(_0x7e67ce){cameFromBlueprint=!![];const _0x39a893=_0x7e67ce[_0x23a58d(0xd00)][_0x23a58d(0x673)];showQuizDetailView(_0x39a893),_0x53a028[_0x23a58d(0xab0)]['add'](_0x23a58d(0x47d));}else{if(_0x32afda){const _0x57c4ac=_0x32afda[_0x23a58d(0xd00)][_0x23a58d(0x8b6)],_0x5dabee=_0x32afda[_0x23a58d(0xd00)][_0x23a58d(0x673)],_0xe0cbac=allQuizzesGlobal[_0x23a58d(0x2ba)](_0x410895=>_0x410895['id']===_0x5dabee),_0x189627=_0xe0cbac?_0xe0cbac[_0x23a58d(0x255)]:_0x23a58d(0x574);showConfirmation(_0x23a58d(0x948)+_0x189627+_0x23a58d(0xacd),async()=>{const _0x419e28=_0x23a58d;try{const _0x5d8174=doc(db,_0x419e28(0xc3e)+appId+_0x419e28(0x9a9),currentBlueprintProjectId);await updateDoc(_0x5d8174,{[_0x419e28(0xad9)+_0x57c4ac+'.linkedQuizIds']:arrayRemove(_0x5dabee)}),showMessage(_0x419e28(0x54c)),openTopicQuizBank(_0x57c4ac),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xc1daa6){console[_0x419e28(0x2fe)](_0x419e28(0x51f),_0xc1daa6),showMessage(_0x419e28(0x9e6));}});}else{if(_0x54024b){cameFromBlueprint=!![];const _0x1c8299=_0x54024b[_0x23a58d(0xd00)][_0x23a58d(0x673)],_0xc83e39=allQuizzesGlobal[_0x23a58d(0x2ba)](_0x5e31ab=>_0x5e31ab['id']===_0x1c8299);_0xc83e39&&(startPresentation(_0xc83e39),_0x53a028[_0x23a58d(0xab0)]['add'](_0x23a58d(0x47d)));}else{if(_0x38103a){cameFromBlueprint=!![];const _0x5c4c31=_0x38103a[_0x23a58d(0xd00)]['quizId'],_0x308eac=allQuizzesGlobal[_0x23a58d(0x2ba)](_0x91410=>_0x91410['id']===_0x5c4c31);_0x308eac&&(currentQuizData=_0x308eac,startAdminTest(),_0x53a028[_0x23a58d(0xab0)][_0x23a58d(0x75b)]('hidden'));}else{if(_0x23c54d)cameFromBlueprint=!![],handleStartLiveRace(_0x23c54d['dataset'][_0x23a58d(0x673)]),_0x53a028[_0x23a58d(0xab0)][_0x23a58d(0x75b)](_0x23a58d(0x47d));else{if(_0xdf49c4){cameFromBlueprint=!![];const _0x581251=_0xdf49c4[_0x23a58d(0xd00)][_0x23a58d(0x673)],_0x530105=_0xdf49c4['dataset']['mode'],_0x5efed6=allQuizzesGlobal[_0x23a58d(0x2ba)](_0x50cd29=>_0x50cd29['id']===_0x581251);_0x5efed6&&(showGameStartConfirmationModal(_0x581251,_0x530105,_0x5efed6['topic']),_0x53a028['classList'][_0x23a58d(0x75b)](_0x23a58d(0x47d)));}}}}}}}),document[_0x5894d8(0x44e)](_0x5894d8(0x7e5))[_0x5894d8(0xb41)]('click',()=>{const _0x5a6e7e=_0x5894d8;document[_0x5a6e7e(0x44e)]('manual-blueprint-modal')['classList'][_0x5a6e7e(0x48e)]('hidden'),document[_0x5a6e7e(0x44e)](_0x5a6e7e(0x8ee))['value']='',document['getElementById'](_0x5a6e7e(0xa5a))['value']='',document['getElementById']('manual-bp-content')[_0x5a6e7e(0x6ea)]='';}),document[_0x5894d8(0x44e)](_0x5894d8(0xc83))['addEventListener'](_0x5894d8(0x560),()=>{const _0x2ead78=_0x5894d8;document[_0x2ead78(0x44e)](_0x2ead78(0x1e3))[_0x2ead78(0xab0)][_0x2ead78(0x75b)]('hidden');}),document[_0x5894d8(0x44e)]('confirm-manual-bp-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),handleManualBlueprintSave),document[_0x5894d8(0x44e)](_0x5894d8(0x84c))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>document[_0x5894d8(0x44e)](_0x5894d8(0xc41))[_0x5894d8(0xab0)]['add'](_0x5894d8(0x47d))),document['getElementById'](_0x5894d8(0x9fa))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleSaveBlueprintPageSettings),document[_0x5894d8(0x44e)](_0x5894d8(0x898))[_0x5894d8(0xb41)](_0x5894d8(0x560),openBlueprintQuizSettings),document[_0x5894d8(0x44e)](_0x5894d8(0x190))['addEventListener']('click',saveBlueprintProject),document['getElementById'](_0x5894d8(0x28a))[_0x5894d8(0xb41)](_0x5894d8(0x560),showBlueprintProjects),document['getElementById'](_0x5894d8(0xa60))[_0x5894d8(0xb41)]('click',()=>{const _0x26c9a8=_0x5894d8;document['getElementById'](_0x26c9a8(0xaee))['classList']['add'](_0x26c9a8(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0x506))[_0x5894d8(0xb41)]('click',_0x52bc53=>{const _0x36b1b0=_0x5894d8,_0x4463b7=_0x52bc53[_0x36b1b0(0x440)][_0x36b1b0(0xcf9)](_0x36b1b0(0x9bd)),_0x1f6087=_0x52bc53[_0x36b1b0(0x440)][_0x36b1b0(0xcf9)](_0x36b1b0(0x5c4));if(_0x4463b7)displayBlueprintProjectManager(_0x4463b7['dataset']['id']);else{if(_0x1f6087){if(confirm(_0x36b1b0(0x36e))){const _0x2b8f66=doc(db,_0x36b1b0(0xc3e)+appId+_0x36b1b0(0x9a9),_0x1f6087[_0x36b1b0(0xd00)]['id']);deleteDoc(_0x2b8f66)[_0x36b1b0(0x779)](()=>{const _0x3d33d5=_0x36b1b0;showMessage(_0x3d33d5(0x220)),showBlueprintProjects();});}}}}),document['getElementById'](_0x5894d8(0x5bf))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x3e32c4=_0x5894d8;currentBlueprintProjectId=null,currentProjectId=null,document[_0x3e32c4(0x44e)](_0x3e32c4(0x854))[_0x3e32c4(0xab0)][_0x3e32c4(0x75b)](_0x3e32c4(0x47d)),showView(_0x3e32c4(0x5c1));}),document[_0x5894d8(0x44e)](_0x5894d8(0xcc9))['addEventListener'](_0x5894d8(0x560),addTopicToProject),document['getElementById']('bp-topic-list-container')[_0x5894d8(0xb41)](_0x5894d8(0x560),async _0x3329ae=>{const _0x227c0d=_0x5894d8,_0x3cda9c=_0x3329ae[_0x227c0d(0x440)][_0x227c0d(0xcf9)](_0x227c0d(0xc75));if(!_0x3cda9c)return;const _0x53ea41=_0x3cda9c[_0x227c0d(0xd00)]['topicId'],_0x164713=_0x3329ae[_0x227c0d(0x440)]['closest']('.bp-create-onet-quiz-btn'),_0x226d99=_0x3329ae[_0x227c0d(0x440)][_0x227c0d(0xcf9)](_0x227c0d(0xa1f)),_0x372792=_0x3329ae['target'][_0x227c0d(0xcf9)]('.bp-create-topic-quiz-btn'),_0xdd99ed=_0x3329ae['target'][_0x227c0d(0xcf9)](_0x227c0d(0x37a)),_0x558a3b=_0x3329ae[_0x227c0d(0x440)]['closest'](_0x227c0d(0xc35)),_0x4dbea1=_0x3329ae[_0x227c0d(0x440)]['closest'](_0x227c0d(0xaae)),_0x20a751=_0x3329ae[_0x227c0d(0x440)][_0x227c0d(0xcf9)]('.bp-edit-topic-btn'),_0x1bdb6b=_0x3329ae[_0x227c0d(0x440)][_0x227c0d(0xcf9)](_0x227c0d(0xbca));if(_0xdd99ed)openTopicQuizBank(_0x53ea41);else{if(_0x164713){console[_0x227c0d(0x824)](_0x227c0d(0x3c4));const _0x3b2821=_0x3cda9c['querySelector'](_0x227c0d(0x355))[_0x227c0d(0xb23)];selectProjectAndGenerateBlueprintQuiz(_0x3b2821,null,_0x53ea41,!![]);}else{if(_0x226d99){console['log'](_0x227c0d(0x8dc));try{const _0x283027=doc(db,_0x227c0d(0xc3e)+appId+_0x227c0d(0x263)+currentBlueprintProjectId+_0x227c0d(0x9b5),_0x53ea41),_0x203fff=await getDoc(_0x283027);if(_0x203fff[_0x227c0d(0xd0a)]()){const _0x336c7c=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x392e1=await getDoc(_0x336c7c),_0x44613b=_0x392e1[_0x227c0d(0xb97)](),_0x17e3f3=_0x44613b[_0x227c0d(0xa25)][_0x53ea41],_0x4dad0a=_0x203fff[_0x227c0d(0xb97)]()[_0x227c0d(0x25a)],_0x510709=document[_0x227c0d(0x88a)](_0x227c0d(0xb39)),_0x55488e=_0x243250=>{const _0x42a4b2=_0x227c0d;if(!_0x243250)return'';return _0x510709[_0x42a4b2(0x4c4)]=_0x243250,_0x510709[_0x42a4b2(0xb23)]||_0x510709['innerText']||'';},_0x31a446=(_0x55488e(_0x4dad0a[_0x227c0d(0xac8)])+'\x20'+_0x55488e(_0x4dad0a[_0x227c0d(0x9ea)])+'\x20'+_0x55488e(_0x4dad0a['summary']))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x17e3f3['subTopic'],_0x31a446,_0x53ea41,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x1f4200){console[_0x227c0d(0x2fe)](_0x227c0d(0xa78),_0x1f4200),showMessage(_0x227c0d(0x8ef));}}else{if(_0x372792){console[_0x227c0d(0x824)](_0x227c0d(0x832));const _0x3b02b6=_0x3cda9c[_0x227c0d(0x6ca)](_0x227c0d(0x355))[_0x227c0d(0xb23)];selectProjectAndGenerateBlueprintQuiz(_0x3b02b6,null,_0x53ea41,![]);}else{if(_0x558a3b){console['log'](_0x227c0d(0xbce));const _0x4134c4=doc(db,_0x227c0d(0xc3e)+appId+_0x227c0d(0x9a9),currentBlueprintProjectId),_0x287caf=await getDoc(_0x4134c4);if(_0x287caf[_0x227c0d(0xd0a)]()){const _0x1b039c=_0x287caf[_0x227c0d(0xb97)](),_0x40aa23=_0x1b039c['topics'][_0x53ea41];if(_0x40aa23&&_0x40aa23['status']===_0x227c0d(0xced))try{const _0x128f11=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x227c0d(0x9b5),_0x53ea41),_0x59d733=await getDoc(_0x128f11);if(_0x59d733[_0x227c0d(0xd0a)]()){const _0x1605e8=_0x59d733[_0x227c0d(0xb97)]()[_0x227c0d(0x25a)];document['getElementById'](_0x227c0d(0x587))[_0x227c0d(0xb23)]=_0x227c0d(0x7f4)+_0x40aa23[_0x227c0d(0xc94)],document[_0x227c0d(0x44e)]('pointContent')[_0x227c0d(0x4c4)]=_0x1605e8[_0x227c0d(0xac8)],document[_0x227c0d(0x44e)](_0x227c0d(0x778))[_0x227c0d(0x4c4)]=_0x1605e8[_0x227c0d(0x9ea)],document[_0x227c0d(0x44e)]('summaryContent')[_0x227c0d(0x4c4)]=_0x1605e8[_0x227c0d(0x2de)];const _0x4e1a28=document[_0x227c0d(0x44e)]('applicationContent');_0x1605e8[_0x227c0d(0x443)]?(currentApplicationData=_0x1605e8[_0x227c0d(0x443)],_0x4e1a28[_0x227c0d(0x4c4)]=currentApplicationData[_0x227c0d(0xd0b)]((_0x484895,_0x37841e)=>_0x227c0d(0x76c)+(_0x37841e+0x1)+'.\x20'+marked['parseInline'](_0x484895[_0x227c0d(0xbe6)])+_0x227c0d(0x1ca)+_0x37841e+_0x227c0d(0xce2)+_0x484895[_0x227c0d(0x3e3)][_0x227c0d(0xd0b)]((_0x48497c,_0xb28b00)=>_0x227c0d(0x59d)+_0x37841e+',\x20'+_0xb28b00+')\x22>'+String[_0x227c0d(0x3cd)](0x61+_0xb28b00)+'.\x20'+marked['parseInline'](_0x48497c)+_0x227c0d(0x310))[_0x227c0d(0xaa4)]('')+_0x227c0d(0xbb3))[_0x227c0d(0xaa4)]('')):(currentApplicationData=[],_0x4e1a28['innerHTML']=_0x1605e8[_0x227c0d(0x8b0)]||_0x1605e8[_0x227c0d(0x965)]),document[_0x227c0d(0x44e)](_0x227c0d(0x339))[_0x227c0d(0xab0)][_0x227c0d(0x75b)](_0x227c0d(0x47d)),document[_0x227c0d(0x44e)](_0x227c0d(0x3e0))['classList']['remove'](_0x227c0d(0x47d)),document['getElementById'](_0x227c0d(0x7c9))[_0x227c0d(0xab0)]['remove'](_0x227c0d(0x47d)),window[_0x227c0d(0x597)]&&MathJax[_0x227c0d(0xc74)]([document['getElementById'](_0x227c0d(0xa83))]);}else showMessage(_0x227c0d(0x7ec));}catch(_0x15be4c){console[_0x227c0d(0x2fe)]('Error\x20fetching\x20lesson\x20content:',_0x15be4c),showMessage(_0x227c0d(0xbaf));}else showMessage(_0x227c0d(0xa73));}}else{if(_0x4dbea1){console[_0x227c0d(0x824)](_0x227c0d(0x62a));const _0x2339bf=doc(db,'artifacts/'+appId+_0x227c0d(0x9a9),currentBlueprintProjectId),_0x2640cf=await getDoc(_0x2339bf);if(_0x2640cf[_0x227c0d(0xd0a)]()){const _0xb7f279=_0x2640cf[_0x227c0d(0xb97)](),_0x53f930=_0xb7f279[_0x227c0d(0xa25)][_0x53ea41];generateAndSaveLessonForBlueprint(_0x53ea41,_0x53f930[_0x227c0d(0xc94)],_0xb7f279[_0x227c0d(0x442)]);}}else{if(_0x20a751)editTopicInProject(_0x53ea41);else _0x1bdb6b&&deleteTopicFromProject(_0x53ea41);}}}}}}}),document[_0x5894d8(0x44e)]('fix-lesson-latex-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),handleFixLessonLatex),document[_0x5894d8(0x44e)](_0x5894d8(0x30c))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleExportLessonToPDF),document[_0x5894d8(0x44e)](_0x5894d8(0x237))['addEventListener'](_0x5894d8(0x560),()=>{const _0x43691e=_0x5894d8;document['getElementById'](_0x43691e(0x7c9))[_0x43691e(0xab0)][_0x43691e(0x75b)]('hidden');});const _0x437691=document[_0x5894d8(0x44e)](_0x5894d8(0x2c2)),_0x58c221=document[_0x5894d8(0x44e)](_0x5894d8(0x8aa));_0x437691[_0x5894d8(0xb41)]('change',()=>{const _0x213ccd=_0x5894d8;_0x58c221[_0x213ccd(0xab0)][_0x213ccd(0x8ce)](_0x213ccd(0x47d),!_0x437691[_0x213ccd(0x8ab)]);});const _0x2b6a0a=document[_0x5894d8(0x44e)]('confidence-scoring-checkbox'),_0x2c0361=document[_0x5894d8(0x44e)](_0x5894d8(0x4d4));_0x2b6a0a[_0x5894d8(0xb41)](_0x5894d8(0x5ad),()=>{const _0x301df2=_0x5894d8;_0x2c0361[_0x301df2(0xab0)]['toggle']('hidden',!_0x2b6a0a['checked']);});const _0x87e2ff=document[_0x5894d8(0x44e)](_0x5894d8(0x42f)),_0x36f192=document[_0x5894d8(0x44e)](_0x5894d8(0xa07));_0x87e2ff[_0x5894d8(0xb41)](_0x5894d8(0x5ad),()=>{const _0x1e1157=_0x5894d8;_0x36f192['classList'][_0x1e1157(0x8ce)](_0x1e1157(0x47d),!_0x87e2ff[_0x1e1157(0x8ab)]);});const _0x19c4ba=document[_0x5894d8(0x44e)](_0x5894d8(0x9f8)),_0x3f7301=async _0x487fe6=>{const _0x3061cc=_0x5894d8,_0x357418=document[_0x3061cc(0x44e)](_0x3061cc(0x9f8)),_0x48b5f0=_0x357418['dataset'][_0x3061cc(0xb6f)],_0x4e78cb=document[_0x3061cc(0x44e)](_0x3061cc(0x732));_0x357418[_0x3061cc(0xab0)]['add'](_0x3061cc(0x47d));if(_0x48b5f0==='timed'){const _0x200b81=_0x4e78cb[_0x3061cc(0x6ea)],_0xd1d3e5={'answer':_0x200b81,'wasConfident':_0x487fe6};proceedToNextQuestion(_0xd1d3e5);}else{if(_0x48b5f0===_0x3061cc(0x3aa)){const _0x15b8d1=_0x4e78cb['dataset']['answerValue'],_0x38875d=JSON[_0x3061cc(0x22b)](_0x4e78cb[_0x3061cc(0xd00)][_0x3061cc(0xbe6)]),_0x20861f=JSON['parse'](_0x4e78cb[_0x3061cc(0xd00)]['gameData']),_0xcc06c8=_0x4e78cb[_0x3061cc(0xd00)][_0x3061cc(0x446)];handleSyncAnswerSubmit(_0x15b8d1,_0x38875d,_0x20861f,_0xcc06c8,_0x487fe6);}}_0x357418[_0x3061cc(0xd00)][_0x3061cc(0xb6f)]='';};document[_0x5894d8(0x44e)](_0x5894d8(0x70d))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>_0x3f7301(!![])),document[_0x5894d8(0x44e)](_0x5894d8(0x718))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>_0x3f7301(![])),liveGameView[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x201800=>{const _0xd5481e=_0x5894d8,_0x514377=_0x201800[_0xd5481e(0x440)][_0xd5481e(0xcf9)](_0xd5481e(0xcd2));if(_0x514377){const _0x37ff48=_0x514377[_0xd5481e(0xd00)]['playerName'];_0x37ff48&&handleKickPlayerSync(_0x37ff48);}});const _0x329016=document[_0x5894d8(0x44e)](_0x5894d8(0xbe2)),_0x16f824=document[_0x5894d8(0x44e)]('cancel-game-start-btn');_0x16f824[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x43b22f=_0x5894d8;document['getElementById'](_0x43b22f(0x583))['classList'][_0x43b22f(0x75b)](_0x43b22f(0x47d));}),_0x329016[_0x5894d8(0xb41)]('click',()=>{const _0x7d6adb=_0x5894d8,_0x3d8ec1=document['getElementById']('game-start-quiz-id')[_0x7d6adb(0x6ea)],_0xb38c15=document[_0x7d6adb(0x44e)](_0x7d6adb(0x6a2))[_0x7d6adb(0x6ea)],_0x38c183=document[_0x7d6adb(0x44e)](_0x7d6adb(0x444))[_0x7d6adb(0x8ab)];document[_0x7d6adb(0x44e)](_0x7d6adb(0x583))['classList'][_0x7d6adb(0x75b)](_0x7d6adb(0x47d));switch(_0xb38c15){case _0x7d6adb(0x994):handleStartLiveRace(_0x3d8ec1,_0x38c183);break;case _0x7d6adb(0xb0b):handleStartTeamQuiz(_0x3d8ec1,_0x38c183);break;case _0x7d6adb(0x261):handleStartGroupMode(_0x3d8ec1,_0x38c183);break;case'sync':handleStartSyncMode(_0x3d8ec1,_0x38c183);break;}}),document['getElementById'](_0x5894d8(0xb35))['addEventListener'](_0x5894d8(0x560),handleJoinGroupActivity),liveGameView[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x30f5a3=>{const _0x345cd7=_0x5894d8,_0x1ecd4d=_0x30f5a3[_0x345cd7(0x440)][_0x345cd7(0xcf9)]('.summary-bar-item');document['querySelectorAll']('.live-summary-tooltip.visible')[_0x345cd7(0x488)](_0x4aa902=>{const _0x350675=_0x345cd7;(!_0x1ecd4d||_0x4aa902['id']!==_0x1ecd4d[_0x350675(0xd00)]['tooltipTarget'])&&_0x4aa902[_0x350675(0xab0)][_0x350675(0x48e)]('visible');});if(!_0x1ecd4d)return;const _0x944283=_0x1ecd4d[_0x345cd7(0xd00)][_0x345cd7(0x233)],_0x2d84ac=document[_0x345cd7(0x44e)](_0x944283);_0x2d84ac&&_0x2d84ac[_0x345cd7(0xab0)][_0x345cd7(0x8ce)](_0x345cd7(0x67c));}),liveGameView[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x7f0598=>{const _0x2fa032=_0x5894d8;if(_0x7f0598['target'][_0x2fa032(0xab0)]['contains']('kick-player-btn')){const _0x376cca=_0x7f0598[_0x2fa032(0x440)][_0x2fa032(0xd00)][_0x2fa032(0x446)];_0x376cca&&handleKickPlayer(_0x376cca);}}),document['getElementById'](_0x5894d8(0xbac))[_0x5894d8(0xb41)]('focus',()=>document[_0x5894d8(0x44e)](_0x5894d8(0x7e1))[_0x5894d8(0xab0)][_0x5894d8(0x48e)](_0x5894d8(0x47d))),document['getElementById'](_0x5894d8(0x7e1))[_0x5894d8(0xb41)]('click',handleSaveProjectName),document[_0x5894d8(0x44e)](_0x5894d8(0xbac))['addEventListener'](_0x5894d8(0x546),_0x3e05d7=>{const _0x5ddb9d=_0x5894d8;_0x3e05d7['key']===_0x5ddb9d(0x5c6)&&(_0x3e05d7[_0x5ddb9d(0x1b0)](),_0x3e05d7[_0x5ddb9d(0x440)][_0x5ddb9d(0xcdd)](),handleSaveProjectName());}),document[_0x5894d8(0x44e)](_0x5894d8(0x616))[_0x5894d8(0xb41)]('click',()=>{const _0x5d9cee=_0x5894d8;document[_0x5d9cee(0x44e)](_0x5d9cee(0x4e7))[_0x5d9cee(0xab0)][_0x5d9cee(0x48e)]('hidden');}),document['getElementById'](_0x5894d8(0xa12))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x4be800=_0x5894d8;document[_0x4be800(0x44e)](_0x4be800(0x4e7))['classList'][_0x4be800(0x75b)](_0x4be800(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0x408))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleBulkUpdateQuizSettings),document['getElementById'](_0x5894d8(0x256))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleModeSwitch),document[_0x5894d8(0x44e)](_0x5894d8(0xa4f))['addEventListener'](_0x5894d8(0x560),handleUpdateOldQuizzes),document[_0x5894d8(0x44e)](_0x5894d8(0x660))['addEventListener'](_0x5894d8(0x560),handleResetProjectOrder),document[_0x5894d8(0x44e)]('save-visibility-settings-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),handleSaveVisibilitySettings),document[_0x5894d8(0x44e)]('add-custom-math-topic-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),handleAddCustomMathTopic),document[_0x5894d8(0x44e)](_0x5894d8(0x3ca))[_0x5894d8(0xb41)]('click',handleSelectAllTopics),document[_0x5894d8(0x44e)]('deselect-all-topics-btn')['addEventListener'](_0x5894d8(0x560),handleDeselectAllTopics),document['getElementById'](_0x5894d8(0x48b))['addEventListener'](_0x5894d8(0x560),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document['getElementById'](_0x5894d8(0x68a))[_0x5894d8(0xb41)]('click',()=>{const _0x390715=_0x5894d8;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x390715(0xb15));}}),document[_0x5894d8(0x44e)](_0x5894d8(0xabd))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x535dc5=_0x5894d8;showView(_0x535dc5(0x5c1));}),document[_0x5894d8(0x44e)](_0x5894d8(0xa9f))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x5b7aef=_0x5894d8;messageModal['classList']['add'](_0x5b7aef(0x47d)),typeof modalConfirmAction===_0x5b7aef(0x93d)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById']('create-project-btn')['addEventListener'](_0x5894d8(0x560),()=>createProjectModal[_0x5894d8(0xab0)][_0x5894d8(0x48e)]('hidden')),document['getElementById'](_0x5894d8(0x899))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>createProjectModal[_0x5894d8(0xab0)][_0x5894d8(0x75b)](_0x5894d8(0x47d))),document[_0x5894d8(0x44e)](_0x5894d8(0x341))['addEventListener']('click',()=>adminPasswordModal[_0x5894d8(0xab0)][_0x5894d8(0x75b)](_0x5894d8(0x47d))),document[_0x5894d8(0x44e)](_0x5894d8(0x8bb))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleAdminLogin),document['getElementById'](_0x5894d8(0x753))[_0x5894d8(0xb41)](_0x5894d8(0x5ca),_0x23f535=>{const _0x403b91=_0x5894d8;if(_0x23f535[_0x403b91(0xc0a)]==='Enter')handleAdminLogin();}),document[_0x5894d8(0x44e)](_0x5894d8(0x1ce))[_0x5894d8(0xb41)]('click',()=>{const _0x3f6718=_0x5894d8;confirmationModal[_0x3f6718(0xab0)]['add'](_0x3f6718(0x47d)),confirmAction=null;}),document['getElementById'](_0x5894d8(0x94d))[_0x5894d8(0xb41)]('click',()=>{const _0x12465a=_0x5894d8;confirmAction&&confirmAction(),confirmationModal[_0x12465a(0xab0)][_0x12465a(0x75b)]('hidden'),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>renameQuizModal[_0x5894d8(0xab0)]['add'](_0x5894d8(0x47d))),document[_0x5894d8(0x44e)](_0x5894d8(0x90d))[_0x5894d8(0xb41)](_0x5894d8(0x560),confirmRenameQuiz),document[_0x5894d8(0x44e)](_0x5894d8(0x9f4))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>moveQuizModal[_0x5894d8(0xab0)][_0x5894d8(0x75b)](_0x5894d8(0x47d))),document[_0x5894d8(0x44e)](_0x5894d8(0x750))['addEventListener'](_0x5894d8(0x560),confirmMoveQuiz),document[_0x5894d8(0x44e)]('cancel-quiz-settings-btn')[_0x5894d8(0xb41)]('click',()=>quizSettingsModal['classList'][_0x5894d8(0x75b)]('hidden')),document[_0x5894d8(0x44e)]('confirm-quiz-settings-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),confirmQuizSettings),document[_0x5894d8(0x44e)](_0x5894d8(0xaed))['addEventListener'](_0x5894d8(0x560),()=>quizStatusModal['classList'][_0x5894d8(0x75b)]('hidden')),document['getElementById'](_0x5894d8(0x924))['addEventListener'](_0x5894d8(0x560),confirmQuizStatus);const _0xb051eb=document['getElementById'](_0x5894d8(0x659));document[_0x5894d8(0x44e)](_0x5894d8(0x708))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x17c6d8=_0x5894d8;_0xb051eb[_0x17c6d8(0xab0)][_0x17c6d8(0x75b)](_0x17c6d8(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0x29b))[_0x5894d8(0xb41)](_0x5894d8(0x560),async()=>{const _0x552594=_0x5894d8,_0x4b54a6=allQuizzes[_0x552594(0x2ba)](_0x4f870d=>_0x4f870d['id']===actionTargetId);_0x4b54a6?(currentQuizData=_0x4b54a6,exportQuizAsWorksheetPDF()):showMessage(_0x552594(0xbf0)),_0xb051eb['classList'][_0x552594(0x75b)](_0x552594(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0xace))[_0x5894d8(0xb41)](_0x5894d8(0x560),async()=>{const _0x3e9c74=_0x5894d8,_0x55fdc0=allQuizzes[_0x3e9c74(0x2ba)](_0x30b63b=>_0x30b63b['id']===actionTargetId);_0x55fdc0?(currentQuizData=_0x55fdc0,exportQuizAsTutorPDF()):showMessage(_0x3e9c74(0xbf0)),_0xb051eb[_0x3e9c74(0xab0)][_0x3e9c74(0x75b)](_0x3e9c74(0x47d));});const _0x352225=document[_0x5894d8(0x44e)](_0x5894d8(0x26e));_0x352225[_0x5894d8(0x4c4)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x352225['addEventListener']('click',openGlobalActivityModal),document[_0x5894d8(0x44e)](_0x5894d8(0x2ca))['addEventListener'](_0x5894d8(0x560),()=>{const _0x2643f2=_0x5894d8;document['getElementById'](_0x2643f2(0x6e1))[_0x2643f2(0xab0)][_0x2643f2(0x75b)](_0x2643f2(0x47d));}),document[_0x5894d8(0x44e)]('global-quiz-search-input')[_0x5894d8(0xb41)](_0x5894d8(0x57e),_0x2c75a0=>{const _0x29ed47=_0x5894d8;renderGlobalActivityList(_0x2c75a0[_0x29ed47(0x440)][_0x29ed47(0x6ea)]);}),document['getElementById'](_0x5894d8(0x4de))[_0x5894d8(0xb41)]('click',_0x24f079=>{const _0x61844c=_0x5894d8,_0x59a605=_0x24f079[_0x61844c(0x440)][_0x61844c(0xcf9)](_0x61844c(0x254));if(!_0x59a605)return;const _0xe10ead=_0x59a605[_0x61844c(0xd00)]['id'],_0x454e16=_0x59a605[_0x61844c(0xd00)][_0x61844c(0x8eb)],_0x256426=allQuizzesGlobal[_0x61844c(0x2ba)](_0x6f4c7b=>_0x6f4c7b['id']===_0xe10ead);_0x256426&&(document[_0x61844c(0x44e)](_0x61844c(0x6e1))[_0x61844c(0xab0)][_0x61844c(0x75b)](_0x61844c(0x47d)),_0x454e16===_0x61844c(0x994)?handleStartLiveRace(_0xe10ead):showGameStartConfirmationModal(_0xe10ead,_0x454e16,_0x256426[_0x61844c(0x255)]));}),document[_0x5894d8(0x44e)](_0x5894d8(0xbd8))[_0x5894d8(0xb41)](_0x5894d8(0x57e),renderProjects),document[_0x5894d8(0x44e)](_0x5894d8(0x401))['addEventListener'](_0x5894d8(0x5ad),async()=>{const _0x3288fc=_0x5894d8,_0x4d874c=document['getElementById'](_0x3288fc(0x401))[_0x3288fc(0x6ea)],_0x4734f5=doc(db,'globalSettings',_0x3288fc(0x53f));try{await setDoc(_0x4734f5,{'projectSort':_0x4d874c},{'merge':!![]});}catch(_0xf9cbd){console[_0x3288fc(0x2fe)]('Error\x20updating\x20sort\x20preference:',_0xf9cbd),showMessage(_0x3288fc(0x4be));}}),document[_0x5894d8(0x44e)]('quiz-search-input')[_0x5894d8(0xb41)](_0x5894d8(0x57e),renderQuizzes),document[_0x5894d8(0x44e)](_0x5894d8(0x381))['addEventListener']('click',()=>{const _0x574dad=_0x5894d8;globalDashboardSettings[_0x574dad(0x789)]=_0x574dad(0x784),saveUserPreference(_0x574dad(0x789),'grid'),renderProjects();}),document[_0x5894d8(0x44e)]('list-view-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x5bf494=_0x5894d8;globalDashboardSettings[_0x5bf494(0x789)]=_0x5bf494(0xad6),saveUserPreference(_0x5bf494(0x789),'list'),renderProjects();}),manageTab[_0x5894d8(0xb41)]('click',()=>switchProjectTab('manage')),resultsTab[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>switchProjectTab('results')),leaderboardTab[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>switchProjectTab(_0x5894d8(0x85d))),document[_0x5894d8(0x44e)](_0x5894d8(0xb2d))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>switchQuizDetailTab('analytics')),document[_0x5894d8(0x44e)](_0x5894d8(0xaff))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>switchQuizDetailTab('scores')),document[_0x5894d8(0x44e)](_0x5894d8(0x68d))[_0x5894d8(0xb41)]('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x5894d8(0x44e)](_0x5894d8(0x6ab))[_0x5894d8(0xb41)]('click',()=>switchQuizDetailTab(_0x5894d8(0x1d4))),document[_0x5894d8(0x44e)]('analyze-strengths-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),handleAnalyzeClass),generateWorksheetBtn[_0x5894d8(0xb41)](_0x5894d8(0x560),generateWorksheet);const _0x2f33bb=document['getElementById'](_0x5894d8(0x4f6)),_0x14d48d=document['getElementById'](_0x5894d8(0x1cc)),_0x298de2=document[_0x5894d8(0x44e)]('blueprint-tab'),_0x3ab7c9=document[_0x5894d8(0x44e)](_0x5894d8(0x74f)),_0x3dec72=document[_0x5894d8(0x44e)](_0x5894d8(0x2ee)),_0x512992=document[_0x5894d8(0x44e)](_0x5894d8(0x954));topicTab['addEventListener'](_0x5894d8(0x560),()=>{const _0x34d744=_0x5894d8;topicTab['classList'][_0x34d744(0x75b)](_0x34d744(0x57f)),textTab[_0x34d744(0xab0)][_0x34d744(0x48e)](_0x34d744(0x57f)),fileTab[_0x34d744(0xab0)]['remove'](_0x34d744(0x57f)),worksheetTab[_0x34d744(0xab0)][_0x34d744(0x48e)](_0x34d744(0x57f));if(_0x2f33bb)_0x2f33bb[_0x34d744(0xab0)]['remove'](_0x34d744(0x57f));if(_0x298de2)_0x298de2[_0x34d744(0xab0)]['remove']('active');if(_0x3dec72)_0x3dec72[_0x34d744(0xab0)][_0x34d744(0x48e)](_0x34d744(0x57f));topicInputArea[_0x34d744(0xab0)][_0x34d744(0x48e)]('hidden'),textInputArea['classList'][_0x34d744(0x75b)](_0x34d744(0x47d)),fileInputArea['classList'][_0x34d744(0x75b)](_0x34d744(0x47d)),worksheetInputArea[_0x34d744(0xab0)][_0x34d744(0x75b)](_0x34d744(0x47d));if(_0x14d48d)_0x14d48d[_0x34d744(0xab0)]['add']('hidden');if(_0x3ab7c9)_0x3ab7c9[_0x34d744(0xab0)][_0x34d744(0x75b)]('hidden');if(_0x512992)_0x512992[_0x34d744(0xab0)]['add'](_0x34d744(0x47d));}),textTab[_0x5894d8(0xb41)]('click',()=>{const _0x184b64=_0x5894d8;textTab[_0x184b64(0xab0)]['add'](_0x184b64(0x57f)),topicTab[_0x184b64(0xab0)][_0x184b64(0x48e)](_0x184b64(0x57f)),fileTab['classList'][_0x184b64(0x48e)](_0x184b64(0x57f)),worksheetTab['classList']['remove'](_0x184b64(0x57f));if(_0x2f33bb)_0x2f33bb[_0x184b64(0xab0)]['remove']('active');if(_0x298de2)_0x298de2[_0x184b64(0xab0)]['remove'](_0x184b64(0x57f));if(_0x3dec72)_0x3dec72[_0x184b64(0xab0)][_0x184b64(0x48e)](_0x184b64(0x57f));textInputArea[_0x184b64(0xab0)][_0x184b64(0x48e)](_0x184b64(0x47d)),topicInputArea[_0x184b64(0xab0)][_0x184b64(0x75b)](_0x184b64(0x47d)),fileInputArea[_0x184b64(0xab0)][_0x184b64(0x75b)](_0x184b64(0x47d)),worksheetInputArea[_0x184b64(0xab0)][_0x184b64(0x75b)](_0x184b64(0x47d));if(_0x14d48d)_0x14d48d['classList'][_0x184b64(0x75b)](_0x184b64(0x47d));if(_0x3ab7c9)_0x3ab7c9[_0x184b64(0xab0)][_0x184b64(0x75b)](_0x184b64(0x47d));if(_0x512992)_0x512992[_0x184b64(0xab0)]['add']('hidden');}),fileTab[_0x5894d8(0xb41)]('click',()=>{const _0x3e2121=_0x5894d8;fileTab[_0x3e2121(0xab0)][_0x3e2121(0x75b)](_0x3e2121(0x57f)),topicTab['classList'][_0x3e2121(0x48e)](_0x3e2121(0x57f)),textTab[_0x3e2121(0xab0)][_0x3e2121(0x48e)](_0x3e2121(0x57f)),worksheetTab['classList'][_0x3e2121(0x48e)]('active');if(_0x2f33bb)_0x2f33bb[_0x3e2121(0xab0)][_0x3e2121(0x48e)](_0x3e2121(0x57f));if(_0x298de2)_0x298de2['classList'][_0x3e2121(0x48e)](_0x3e2121(0x57f));if(_0x3dec72)_0x3dec72['classList'][_0x3e2121(0x48e)](_0x3e2121(0x57f));fileInputArea[_0x3e2121(0xab0)]['remove'](_0x3e2121(0x47d)),topicInputArea[_0x3e2121(0xab0)][_0x3e2121(0x75b)](_0x3e2121(0x47d)),textInputArea[_0x3e2121(0xab0)][_0x3e2121(0x75b)](_0x3e2121(0x47d)),worksheetInputArea['classList']['add'](_0x3e2121(0x47d));if(_0x14d48d)_0x14d48d[_0x3e2121(0xab0)]['add']('hidden');if(_0x3ab7c9)_0x3ab7c9['classList'][_0x3e2121(0x75b)]('hidden');if(_0x512992)_0x512992[_0x3e2121(0xab0)]['add'](_0x3e2121(0x47d));}),worksheetTab['addEventListener'](_0x5894d8(0x560),()=>{const _0x50bf47=_0x5894d8;worksheetTab[_0x50bf47(0xab0)]['add'](_0x50bf47(0x57f)),topicTab[_0x50bf47(0xab0)][_0x50bf47(0x48e)](_0x50bf47(0x57f)),textTab[_0x50bf47(0xab0)]['remove'](_0x50bf47(0x57f)),fileTab[_0x50bf47(0xab0)][_0x50bf47(0x48e)](_0x50bf47(0x57f));if(_0x2f33bb)_0x2f33bb['classList'][_0x50bf47(0x48e)](_0x50bf47(0x57f));if(_0x298de2)_0x298de2[_0x50bf47(0xab0)][_0x50bf47(0x48e)](_0x50bf47(0x57f));if(_0x3dec72)_0x3dec72[_0x50bf47(0xab0)][_0x50bf47(0x48e)](_0x50bf47(0x57f));worksheetInputArea[_0x50bf47(0xab0)][_0x50bf47(0x48e)](_0x50bf47(0x47d)),topicInputArea[_0x50bf47(0xab0)]['add'](_0x50bf47(0x47d)),textInputArea[_0x50bf47(0xab0)][_0x50bf47(0x75b)](_0x50bf47(0x47d)),fileInputArea[_0x50bf47(0xab0)]['add'](_0x50bf47(0x47d));if(_0x14d48d)_0x14d48d['classList'][_0x50bf47(0x75b)](_0x50bf47(0x47d));if(_0x3ab7c9)_0x3ab7c9['classList']['add'](_0x50bf47(0x47d));if(_0x512992)_0x512992[_0x50bf47(0xab0)][_0x50bf47(0x75b)](_0x50bf47(0x47d));});const _0xa710a3=document[_0x5894d8(0x44e)]('bank-tab'),_0x2474c1=document[_0x5894d8(0x44e)](_0x5894d8(0xc3a));_0xa710a3&&_0xa710a3['addEventListener'](_0x5894d8(0x560),()=>{const _0x592ebd=_0x5894d8;topicTab[_0x592ebd(0xab0)]['remove'](_0x592ebd(0x57f)),textTab[_0x592ebd(0xab0)][_0x592ebd(0x48e)](_0x592ebd(0x57f)),fileTab[_0x592ebd(0xab0)][_0x592ebd(0x48e)](_0x592ebd(0x57f)),worksheetTab['classList'][_0x592ebd(0x48e)](_0x592ebd(0x57f));if(_0x2f33bb)_0x2f33bb[_0x592ebd(0xab0)][_0x592ebd(0x48e)](_0x592ebd(0x57f));if(_0x298de2)_0x298de2[_0x592ebd(0xab0)][_0x592ebd(0x48e)](_0x592ebd(0x57f));if(_0x3dec72)_0x3dec72['classList']['remove'](_0x592ebd(0x57f));_0xa710a3[_0x592ebd(0xab0)][_0x592ebd(0x75b)](_0x592ebd(0x57f)),topicInputArea[_0x592ebd(0xab0)][_0x592ebd(0x75b)]('hidden'),textInputArea[_0x592ebd(0xab0)][_0x592ebd(0x75b)](_0x592ebd(0x47d)),fileInputArea[_0x592ebd(0xab0)][_0x592ebd(0x75b)](_0x592ebd(0x47d)),worksheetInputArea['classList'][_0x592ebd(0x75b)](_0x592ebd(0x47d));if(_0x14d48d)_0x14d48d[_0x592ebd(0xab0)][_0x592ebd(0x75b)]('hidden');if(_0x3ab7c9)_0x3ab7c9[_0x592ebd(0xab0)][_0x592ebd(0x75b)]('hidden');if(_0x512992)_0x512992['classList'][_0x592ebd(0x75b)](_0x592ebd(0x47d));_0x2474c1[_0x592ebd(0xab0)]['remove'](_0x592ebd(0x47d)),displayQuestionBank();});_0x2f33bb&&(_0x2f33bb[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x41470d=_0x5894d8;_0x2f33bb[_0x41470d(0xab0)]['add'](_0x41470d(0x57f)),topicTab['classList'][_0x41470d(0x48e)](_0x41470d(0x57f)),textTab['classList']['remove'](_0x41470d(0x57f)),fileTab[_0x41470d(0xab0)]['remove'](_0x41470d(0x57f)),worksheetTab[_0x41470d(0xab0)][_0x41470d(0x48e)]('active');if(_0x298de2)_0x298de2[_0x41470d(0xab0)][_0x41470d(0x48e)]('active');if(_0x3dec72)_0x3dec72[_0x41470d(0xab0)][_0x41470d(0x48e)]('active');_0x14d48d[_0x41470d(0xab0)][_0x41470d(0x48e)](_0x41470d(0x47d)),topicInputArea[_0x41470d(0xab0)][_0x41470d(0x75b)](_0x41470d(0x47d)),textInputArea[_0x41470d(0xab0)]['add'](_0x41470d(0x47d)),fileInputArea[_0x41470d(0xab0)][_0x41470d(0x75b)](_0x41470d(0x47d)),worksheetInputArea[_0x41470d(0xab0)][_0x41470d(0x75b)](_0x41470d(0x47d));if(_0x3ab7c9)_0x3ab7c9['classList'][_0x41470d(0x75b)](_0x41470d(0x47d));if(_0x512992)_0x512992[_0x41470d(0xab0)][_0x41470d(0x75b)]('hidden');}),document[_0x5894d8(0x44e)](_0x5894d8(0xb14))[_0x5894d8(0xb41)]('click',handleGenerateFromLink));_0x298de2&&_0x298de2[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x41a548=_0x5894d8;_0x298de2[_0x41a548(0xab0)][_0x41a548(0x75b)](_0x41a548(0x57f)),topicTab[_0x41a548(0xab0)][_0x41a548(0x48e)](_0x41a548(0x57f)),textTab[_0x41a548(0xab0)][_0x41a548(0x48e)](_0x41a548(0x57f)),fileTab[_0x41a548(0xab0)][_0x41a548(0x48e)](_0x41a548(0x57f)),worksheetTab[_0x41a548(0xab0)][_0x41a548(0x48e)](_0x41a548(0x57f));if(_0x2f33bb)_0x2f33bb[_0x41a548(0xab0)][_0x41a548(0x48e)]('active');if(_0xa710a3)_0xa710a3[_0x41a548(0xab0)][_0x41a548(0x48e)](_0x41a548(0x57f));if(_0x3dec72)_0x3dec72[_0x41a548(0xab0)][_0x41a548(0x48e)](_0x41a548(0x57f));_0x3ab7c9[_0x41a548(0xab0)][_0x41a548(0x48e)](_0x41a548(0x47d)),topicInputArea[_0x41a548(0xab0)]['add']('hidden'),textInputArea[_0x41a548(0xab0)][_0x41a548(0x75b)](_0x41a548(0x47d)),fileInputArea['classList'][_0x41a548(0x75b)]('hidden'),worksheetInputArea['classList'][_0x41a548(0x75b)](_0x41a548(0x47d));if(_0x14d48d)_0x14d48d['classList'][_0x41a548(0x75b)](_0x41a548(0x47d));if(_0x2474c1)_0x2474c1[_0x41a548(0xab0)]['add']('hidden');if(_0x512992)_0x512992[_0x41a548(0xab0)][_0x41a548(0x75b)](_0x41a548(0x47d));});_0x3dec72&&_0x3dec72[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x5687b5=_0x5894d8;_0x3dec72[_0x5687b5(0xab0)][_0x5687b5(0x75b)](_0x5687b5(0x57f)),topicTab[_0x5687b5(0xab0)][_0x5687b5(0x48e)](_0x5687b5(0x57f)),textTab[_0x5687b5(0xab0)][_0x5687b5(0x48e)](_0x5687b5(0x57f)),fileTab[_0x5687b5(0xab0)][_0x5687b5(0x48e)](_0x5687b5(0x57f)),worksheetTab[_0x5687b5(0xab0)][_0x5687b5(0x48e)]('active');if(_0x2f33bb)_0x2f33bb['classList']['remove'](_0x5687b5(0x57f));if(_0x298de2)_0x298de2['classList'][_0x5687b5(0x48e)](_0x5687b5(0x57f));if(_0xa710a3)_0xa710a3[_0x5687b5(0xab0)][_0x5687b5(0x48e)]('active');_0x512992[_0x5687b5(0xab0)]['remove'](_0x5687b5(0x47d)),topicInputArea[_0x5687b5(0xab0)][_0x5687b5(0x75b)]('hidden'),textInputArea['classList'][_0x5687b5(0x75b)](_0x5687b5(0x47d)),fileInputArea['classList'][_0x5687b5(0x75b)](_0x5687b5(0x47d)),worksheetInputArea['classList'][_0x5687b5(0x75b)](_0x5687b5(0x47d));if(_0x14d48d)_0x14d48d['classList'][_0x5687b5(0x75b)]('hidden');if(_0x3ab7c9)_0x3ab7c9[_0x5687b5(0xab0)][_0x5687b5(0x75b)]('hidden');if(_0x2474c1)_0x2474c1[_0x5687b5(0xab0)][_0x5687b5(0x75b)]('hidden');});const _0x383a13=document[_0x5894d8(0x44e)]('blueprint-upload-input'),_0x2ba106=document[_0x5894d8(0x44e)](_0x5894d8(0x947));if(_0x383a13){const _0x24e431=document[_0x5894d8(0x44e)](_0x5894d8(0xacc)),_0x39a346=document[_0x5894d8(0x44e)](_0x5894d8(0x947)),_0x39c3a3=document['getElementById']('blueprint-options-container'),_0x748760=document[_0x5894d8(0x44e)]('separate-by-content-checkbox'),_0x224ac4=document[_0x5894d8(0x44e)]('blueprint-topics-list-container'),_0x24ac53=document[_0x5894d8(0x44e)](_0x5894d8(0x5f0));_0x24e431&&_0x24e431[_0x5894d8(0xb41)](_0x5894d8(0x5ad),async _0x147f1a=>{const _0x4e0e60=_0x5894d8;_0x39c3a3[_0x4e0e60(0xab0)][_0x4e0e60(0x75b)](_0x4e0e60(0x47d)),_0x224ac4[_0x4e0e60(0xab0)][_0x4e0e60(0x75b)](_0x4e0e60(0x47d)),_0x748760[_0x4e0e60(0x8ab)]=![],_0x39a346[_0x4e0e60(0x993)]=!![];const _0x237b2a=_0x147f1a[_0x4e0e60(0x440)][_0x4e0e60(0x6c2)][0x0];if(_0x237b2a){_0x39a346[_0x4e0e60(0x993)]=![];try{const _0x6f08c=await extractTextFromPdf(_0x237b2a);await analyzeBlueprintForTopics(_0x6f08c);}catch(_0x5ec79d){showMessage(_0x4e0e60(0x825)),_0x39c3a3[_0x4e0e60(0xab0)][_0x4e0e60(0x75b)](_0x4e0e60(0x47d));}}}),_0x748760&&_0x748760[_0x5894d8(0xb41)](_0x5894d8(0x5ad),_0x3ecfbf=>{const _0x35da75=_0x5894d8,_0x196662=_0x3ecfbf['target'][_0x35da75(0x8ab)];_0x224ac4[_0x35da75(0xab0)]['toggle'](_0x35da75(0x47d),!_0x196662),_0x39a346['disabled']=_0x196662;}),_0x24ac53&&(_0x24ac53&&_0x24ac53[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x12ba26=>{const _0x5e99c6=_0x5894d8,_0x9a8634=_0x12ba26[_0x5e99c6(0x440)][_0x5e99c6(0xcf9)]('.topic-selection-btn'),_0x420422=_0x12ba26['target'][_0x5e99c6(0xcf9)]('.generate-content-btn');if(_0x9a8634){const _0x390817=unescape(_0x9a8634[_0x5e99c6(0xd00)][_0x5e99c6(0x255)]);generateQuizForSingleTopic(_0x390817);}else{if(_0x420422){const _0x27f765=unescape(_0x420422[_0x5e99c6(0xd00)][_0x5e99c6(0x255)]);handleGenerateTeachingContent(_0x27f765);}}}));}_0x2ba106&&_0x2ba106['addEventListener'](_0x5894d8(0x560),handleGenerateFromBlueprint);const _0x52fec3=document[_0x5894d8(0x44e)](_0x5894d8(0xc48)),_0x2a9287=document[_0x5894d8(0x44e)](_0x5894d8(0xb46));_0x52fec3&&_0x52fec3[_0x5894d8(0xb41)](_0x5894d8(0x5ad),_0x5df2b6=>{const _0x127a2b=_0x5894d8;_0x2a9287[_0x127a2b(0x993)]=_0x5df2b6['target'][_0x127a2b(0x6c2)][_0x127a2b(0x73e)]===0x0;});_0x2a9287&&_0x2a9287[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x5894d8(0xb41)](_0x5894d8(0x560),handleLoadQuiz),startQuizBtn[_0x5894d8(0xb41)](_0x5894d8(0x560),async()=>{const _0x570857=_0x5894d8,_0x467ddb=document[_0x570857(0x44e)](_0x570857(0x22e));currentStudentName=_0x467ddb['value'];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x2a314a=currentQuizData['id'],_0x12331d=doc(db,_0x570857(0xc3e)+appId+_0x570857(0xa6e)+_0x2a314a+_0x570857(0xab1),currentStudentName),_0x3af462=await getDoc(_0x12331d);!_0x3af462[_0x570857(0xd0a)]()?await setDoc(_0x12331d,{'studentName':currentStudentName,'startedAt':new Date()[_0x570857(0x501)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x12331d,{'startedAt':new Date()[_0x570857(0x501)]()});}catch(_0x206912){console[_0x570857(0x2fe)](_0x570857(0xb68),_0x206912),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView['classList'][_0x570857(0x75b)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5894d8(0x44e)]('join-live-game-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),showJoinGameView),document[_0x5894d8(0x44e)](_0x5894d8(0xa6a))['addEventListener']('click',handleJoinLiveGame),document['getElementById'](_0x5894d8(0xccc))[_0x5894d8(0xb41)]('click',()=>showView(_0x5894d8(0x62d)));const _0x3a333c=()=>{const _0x16787b=_0x5894d8,_0x46d011=document[_0x16787b(0x44e)](_0x16787b(0x2ab))['textContent'][_0x16787b(0x558)](/[^a-z0-9]/gi,'_')[_0x16787b(0x552)]();return _0x16787b(0x199)+(_0x46d011||_0x16787b(0xcc2));},_0x466399=document['getElementById'](_0x5894d8(0x569));_0x466399&&_0x466399[_0x5894d8(0xb41)](_0x5894d8(0x57e),_0x9a1ea8=>{const _0x2a5ba7=_0x5894d8,_0x5a7b88=_0x9a1ea8[_0x2a5ba7(0x440)]['value'][_0x2a5ba7(0x552)]()[_0x2a5ba7(0x30d)](),_0x2791bd=document['getElementById'](_0x2a5ba7(0xbf6)),_0x47e0f8=_0x2791bd[_0x2a5ba7(0xb04)](_0x2a5ba7(0xbff));_0x47e0f8['forEach'](_0x2fcb2e=>{const _0x324aab=_0x2a5ba7;let _0x21fbd1=![];const _0x2d403b=_0x2fcb2e[_0x324aab(0xb04)](_0x324aab(0xb30));_0x2d403b[_0x324aab(0x488)](_0x55419b=>{const _0xb8f998=_0x324aab,_0x44f1d6=_0x55419b[_0xb8f998(0x6ca)](_0xb8f998(0x3a3))[_0xb8f998(0xb23)][_0xb8f998(0x552)]();_0x44f1d6[_0xb8f998(0xae9)](_0x5a7b88)?(_0x55419b['style'][_0xb8f998(0x890)]='flex',_0x21fbd1=!![]):_0x55419b['style'][_0xb8f998(0x890)]=_0xb8f998(0x334);}),_0x21fbd1?_0x2fcb2e[_0x324aab(0x456)]['display']=_0x324aab(0xa9a):_0x2fcb2e[_0x324aab(0x456)]['display']=_0x324aab(0x334);});});document['getElementById'](_0x5894d8(0xc7a))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>exportTableAsImage(_0x5894d8(0xbfd),_0x3a333c())),document[_0x5894d8(0x44e)](_0x5894d8(0x2d2))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>exportTableAsPDF(_0x5894d8(0x637),_0x3a333c())),document[_0x5894d8(0x44e)](_0x5894d8(0x198))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>exportTableAsWord(_0x5894d8(0xbfd),_0x3a333c())),document[_0x5894d8(0x44e)]('export-excel-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>exportTableAsExcel('results-table',_0x3a333c()));const _0x45d048=()=>{const _0x2c1a36=_0x5894d8,_0x335842=document[_0x2c1a36(0x44e)]('results-quiz-title')[_0x2c1a36(0xb23)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x2c1a36(0x564)+(_0x335842||_0x2c1a36(0xcc2));};document[_0x5894d8(0x44e)](_0x5894d8(0xa70))['addEventListener']('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x45d048())),document[_0x5894d8(0x44e)](_0x5894d8(0x25c))['addEventListener']('click',()=>exportTableAsPDF(_0x5894d8(0x367),_0x45d048())),document[_0x5894d8(0x44e)]('export-leaderboard-word-btn')['addEventListener']('click',()=>exportTableAsWord(_0x5894d8(0xbb7),_0x45d048())),document[_0x5894d8(0x44e)](_0x5894d8(0xa47))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>exportTableAsExcel('quiz-leaderboard-table',_0x45d048())),projectQuizzesList[_0x5894d8(0xb41)](_0x5894d8(0x560),async _0x56ea05=>{const _0x9c9d14=_0x5894d8,_0x6f0f23=_0x56ea05['target'][_0x9c9d14(0xcf9)](_0x9c9d14(0x19a)),_0x4cabbd=_0x56ea05['target']['closest']('.generate-post-test-btn'),_0x418389=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)]('.compare-results-btn'),_0x460fe9=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)]('.generate-lesson-btn'),_0x52a502=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0x8fa)),_0x389ae5=_0x56ea05['target']['closest'](_0x9c9d14(0x810)),_0x48e974=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0xb3e)),_0x32a5bc=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0x1f1)),_0x161702=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0x91e)),_0x30157e=_0x56ea05[_0x9c9d14(0x440)]['closest'](_0x9c9d14(0x3de)),_0x425050=_0x56ea05['target']['closest'](_0x9c9d14(0x376)),_0x12268e=_0x56ea05['target'][_0x9c9d14(0xcf9)](_0x9c9d14(0x496)),_0x211829=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0x8a3)),_0x6659d0=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0x6d5)),_0x1a2943=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0xac7)),_0x17ecf3=_0x56ea05['target'][_0x9c9d14(0xcf9)]('.admin-try-quiz-list-btn'),_0x3a2b59=_0x56ea05['target'][_0x9c9d14(0xcf9)](_0x9c9d14(0x586)),_0x523949=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0xaca)),_0x552068=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0x31f)),_0xf5817=_0x56ea05[_0x9c9d14(0x440)]['closest'](_0x9c9d14(0x9ef)),_0x460447=_0x56ea05['target'][_0x9c9d14(0xcf9)](_0x9c9d14(0xb57)),_0xa54984=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0xcb2)),_0x1ba887=_0x56ea05[_0x9c9d14(0x440)][_0x9c9d14(0xcf9)](_0x9c9d14(0x8b4));if(_0xa54984){const _0x12f229=_0xa54984[_0x9c9d14(0xd00)][_0x9c9d14(0x673)],_0x41c221=_0xa54984[_0x9c9d14(0xd00)][_0x9c9d14(0x8eb)],_0x6e3c5f=allQuizzes[_0x9c9d14(0x2ba)](_0x28dd9c=>_0x28dd9c['id']===_0x12f229);_0x6e3c5f&&showGameStartConfirmationModal(_0x12f229,_0x41c221,_0x6e3c5f['topic']);}else{if(_0x1ba887){const _0x1151f5=_0x1ba887[_0x9c9d14(0xd00)]['quizId'];handleStartLiveRace(_0x1151f5);}else{if(_0xf5817){const _0x302b8f=_0xf5817['dataset'][_0x9c9d14(0x673)],_0x25ba8c=document[_0x9c9d14(0x44e)]('actions-container-'+_0x302b8f);_0x25ba8c&&_0x25ba8c[_0x9c9d14(0xab0)][_0x9c9d14(0x8ce)](_0x9c9d14(0x47d));}else{if(_0x4cabbd){const _0x71f241=_0x4cabbd['dataset'][_0x9c9d14(0x673)],_0x22d829=allQuizzes[_0x9c9d14(0x2ba)](_0x194b47=>_0x194b47['id']===_0x71f241);_0x22d829&&handleGenerateParallelPostTest(_0x22d829);}else{if(_0x418389)handleCompareResults(_0x418389[_0x9c9d14(0xd00)][_0x9c9d14(0x673)],_0x418389[_0x9c9d14(0xd00)][_0x9c9d14(0x971)]);else{if(_0x460fe9){const _0xced6f7=_0x460fe9[_0x9c9d14(0xd00)][_0x9c9d14(0x673)],_0x456c04=allQuizzes['find'](_0x59e6c9=>_0x59e6c9['id']===_0xced6f7);_0x456c04&&_0x456c04[_0x9c9d14(0x3d8)]?(displayLessonPlan(_0x456c04[_0x9c9d14(0x3d8)],_0x456c04),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0xced6f7)),document['getElementById'](_0x9c9d14(0xc09))['querySelector']('h3')[_0x9c9d14(0xb23)]=_0x9c9d14(0x370),document[_0x9c9d14(0x44e)](_0x9c9d14(0x94d))[_0x9c9d14(0xb23)]=_0x9c9d14(0x5fb)):handleGenerateLessonPlan(_0xced6f7);}else{if(_0x52a502)handleToggleStarQuiz(_0x52a502[_0x9c9d14(0xd00)]['quizId']);else{if(_0x389ae5)copyTextToClipboard(_0x389ae5[_0x9c9d14(0xd00)][_0x9c9d14(0x673)],'คัดลอกรหัสแล้ว!');else{if(_0x48e974)handleOpenQuizEditor(_0x48e974['dataset'][_0x9c9d14(0x673)]);else{if(_0x32a5bc)handleQuizSettings(_0x32a5bc['dataset'][_0x9c9d14(0x673)]);else{if(_0x161702)handleDuplicateQuiz(_0x161702[_0x9c9d14(0xd00)][_0x9c9d14(0x673)]);else{if(_0x30157e)handleRenameQuiz(_0x30157e[_0x9c9d14(0xd00)][_0x9c9d14(0x673)],_0x30157e['dataset'][_0x9c9d14(0x255)]);else{if(_0x425050){const _0x258030=_0x425050[_0x9c9d14(0xd00)]['quizId'],_0x2a8a2f=allQuizzes[_0x9c9d14(0x2ba)](_0x4fb3ea=>_0x4fb3ea['id']===_0x258030);_0x2a8a2f&&handleGenerateParallelFromBank(_0x2a8a2f);}else{if(_0x12268e)handleMoveQuiz(_0x12268e[_0x9c9d14(0xd00)][_0x9c9d14(0x673)]);else{if(_0x211829)handleManualQuizPairing(_0x211829['dataset'][_0x9c9d14(0x673)]);else{if(_0x6659d0)handleUnpairQuiz(_0x6659d0[_0x9c9d14(0xd00)]['quizId']);else{if(_0x1a2943){const _0x52ef2f=_0x1a2943[_0x9c9d14(0xd00)]['quizId'],_0x3f4c27=allQuizzes[_0x9c9d14(0x2ba)](_0xc596f3=>_0xc596f3['id']===_0x52ef2f);if(_0x3f4c27)startPresentation(_0x3f4c27);}else{if(_0x17ecf3){const _0x36e193=_0x17ecf3['dataset'][_0x9c9d14(0x673)],_0x51966c=allQuizzes[_0x9c9d14(0x2ba)](_0x3b97fb=>_0x3b97fb['id']===_0x36e193);_0x51966c&&(currentQuizData=_0x51966c,startAdminTest());}else{if(_0x3a2b59)actionTargetId=_0x3a2b59['dataset'][_0x9c9d14(0x673)],document[_0x9c9d14(0x44e)]('export-pdf-modal')[_0x9c9d14(0xab0)][_0x9c9d14(0x48e)](_0x9c9d14(0x47d));else{if(_0x523949)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x523949[_0x9c9d14(0xd00)][_0x9c9d14(0x255)]+_0x9c9d14(0x350),()=>handleDeleteQuiz(_0x523949[_0x9c9d14(0xd00)]['quizId']));else{if(_0x552068)handleQuizStatus(_0x552068['dataset']['quizId']);else{if(_0x460447)handleGenerateEasyVersionQuiz(_0x460447['dataset'][_0x9c9d14(0x673)]);else _0x6f0f23&&showQuizDetailView(_0x6f0f23['dataset'][_0x9c9d14(0x673)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x5894d8(0x44e)](_0x5894d8(0x9e0))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>showView(_0x5894d8(0x62d))),document[_0x5894d8(0x44e)](_0x5894d8(0xc00))[_0x5894d8(0xb41)](_0x5894d8(0x560),confirmAndStartTeamQuiz),document[_0x5894d8(0x44e)](_0x5894d8(0x367))[_0x5894d8(0x6ca)](_0x5894d8(0xa05))[_0x5894d8(0xb41)]('click',_0x3a2772=>{const _0x458277=_0x5894d8,_0x3bbc31=_0x3a2772[_0x458277(0x440)][_0x458277(0xcf9)](_0x458277(0x518));if(!_0x3bbc31||!_0x3bbc31[_0x458277(0xd00)][_0x458277(0x80a)])return;const _0x72dc8=_0x3bbc31[_0x458277(0xd00)]['sort'];if(quizLeaderboardSortBy===_0x72dc8)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x458277(0xc80)?_0x458277(0x627):_0x458277(0xc80);else{quizLeaderboardSortBy=_0x72dc8;const _0x4a2626=[_0x458277(0x775)];quizLeaderboardSortOrder=_0x4a2626[_0x458277(0xae9)](_0x72dc8)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x458277(0x910));}),document[_0x5894d8(0x44e)](_0x5894d8(0xbde))[_0x5894d8(0xb41)](_0x5894d8(0x560),closePresentation),document[_0x5894d8(0x44e)](_0x5894d8(0x4b7))['addEventListener'](_0x5894d8(0x560),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5894d8(0x44e)](_0x5894d8(0x575))['addEventListener']('click',()=>{const _0x3a4696=_0x5894d8;currentQuizData[_0x3a4696(0x1c9)]&&currentPresentationSlide<currentQuizData[_0x3a4696(0x1c9)][_0x3a4696(0x73e)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x5894d8(0xa43),()=>{const _0x13d67b=_0x5894d8;!document[_0x13d67b(0xbf5)]&&(presentationModal[_0x13d67b(0x456)][_0x13d67b(0x890)]=_0x13d67b(0x334));}),document[_0x5894d8(0x44e)](_0x5894d8(0x8b9))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleDeleteAllStudents),studentList[_0x5894d8(0xb41)]('click',_0x283a53=>{const _0x65ce05=_0x5894d8,_0x3a4509=_0x283a53[_0x65ce05(0x440)][_0x65ce05(0xcf9)](_0x65ce05(0xcad));if(_0x3a4509){const _0x3e3b81=_0x3a4509[_0x65ce05(0xd00)][_0x65ce05(0x775)];handleDeleteStudent(_0x3e3b81);}}),document[_0x5894d8(0x44e)](_0x5894d8(0xb4a))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x5894d8(0x5ad),_0x413982=>{const _0x244d67=_0x5894d8,_0x3588ad=_0x413982[_0x244d67(0x440)][_0x244d67(0x6c2)][0x0],_0x2b1829=document[_0x244d67(0x44e)](_0x244d67(0xb4a)),_0x21b446=document['getElementById'](_0x244d67(0x96f)),_0x1116ac=document['getElementById'](_0x244d67(0xb9f));_0x3588ad?(selectedFile=_0x3588ad,_0x1116ac['checked']?(_0x2b1829[_0x244d67(0x993)]=!![],analyzeFileForTopics(_0x3588ad)):(_0x2b1829[_0x244d67(0x993)]=![],_0x21b446[_0x244d67(0xab0)]['add']('hidden'))):(selectedFile=null,_0x2b1829[_0x244d67(0x993)]=!![],_0x21b446[_0x244d67(0xab0)][_0x244d67(0x75b)](_0x244d67(0x47d)));}),document[_0x5894d8(0x44e)](_0x5894d8(0xb9f))[_0x5894d8(0xb41)](_0x5894d8(0x5ad),_0x340b89=>{const _0x31453e=_0x5894d8,_0x56205b=_0x340b89[_0x31453e(0x440)][_0x31453e(0x8ab)],_0x1a7fb4=document['getElementById'](_0x31453e(0xb4a)),_0x3e8551=document['getElementById'](_0x31453e(0x96f));_0x56205b?(_0x1a7fb4[_0x31453e(0x993)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x3e8551['classList'][_0x31453e(0x48e)](_0x31453e(0x47d)),document[_0x31453e(0x44e)](_0x31453e(0x55e))['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x3e8551[_0x31453e(0xab0)][_0x31453e(0x75b)](_0x31453e(0x47d)),_0x1a7fb4[_0x31453e(0x993)]=!selectedFile);}),document[_0x5894d8(0x44e)](_0x5894d8(0x96f))[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x42c06f=>{const _0x21bfbd=_0x5894d8,_0x11c149=_0x42c06f['target'][_0x21bfbd(0xcf9)](_0x21bfbd(0x2a3)),_0x5e2085=_0x42c06f[_0x21bfbd(0x440)][_0x21bfbd(0xcf9)](_0x21bfbd(0x1ee));if(_0x11c149){const _0x445db4=unescape(_0x11c149[_0x21bfbd(0xd00)][_0x21bfbd(0x255)]);generateHybridQuizForTopic(_0x445db4);}else{if(_0x5e2085){const _0x4dbb70=unescape(_0x5e2085[_0x21bfbd(0xd00)]['topic']),_0x2f9077=document[_0x21bfbd(0x44e)](_0x21bfbd(0x1eb))[_0x21bfbd(0x6ea)];handleGenerateAndShowLesson(_0x4dbb70,_0x2f9077);}}}),document['getElementById']('timer-mode-select')[_0x5894d8(0xb41)](_0x5894d8(0x5ad),_0x487720=>{const _0x1058c4=_0x5894d8,_0x10d325=document[_0x1058c4(0x44e)](_0x1058c4(0x617)),_0x1d7791=document[_0x1058c4(0x44e)](_0x1058c4(0x6f5)),_0x37b9f9=document[_0x1058c4(0x44e)](_0x1058c4(0x3ad));_0x487720['target']['value']===_0x1058c4(0x334)?_0x10d325[_0x1058c4(0xab0)][_0x1058c4(0x75b)](_0x1058c4(0x47d)):(_0x10d325[_0x1058c4(0xab0)]['remove'](_0x1058c4(0x47d)),_0x487720[_0x1058c4(0x440)][_0x1058c4(0x6ea)]===_0x1058c4(0xc15)?(_0x1d7791[_0x1058c4(0xb23)]='ระยะเวลา\x20(นาที):',_0x37b9f9[_0x1058c4(0x6ea)]='10'):(_0x1d7791['textContent']=_0x1058c4(0x99b),_0x37b9f9['value']='30'));}),document[_0x5894d8(0x44e)](_0x5894d8(0xaaf))[_0x5894d8(0xb41)]('change',_0x3f10b5=>{const _0x27ba38=_0x5894d8,_0x1e5908=document[_0x27ba38(0x44e)](_0x27ba38(0xa32)),_0x2cb567=_0x3f10b5[_0x27ba38(0x440)]['value'],_0x360d2d=document[_0x27ba38(0x6ca)](_0x27ba38(0x3ab)),_0x57d590=document[_0x27ba38(0x44e)](_0x27ba38(0x491)),_0x4e6ce7=document[_0x27ba38(0x44e)](_0x27ba38(0x6c8));_0x2cb567===_0x27ba38(0xbb0)?_0x360d2d[_0x27ba38(0xb23)]=_0x27ba38(0x4a6):_0x360d2d[_0x27ba38(0xb23)]='จำนวนข้อ:',_0x2cb567===_0x27ba38(0xbad)||_0x2cb567===_0x27ba38(0xb06)||_0x2cb567===_0x27ba38(0x463)?_0x1e5908[_0x27ba38(0xab0)][_0x27ba38(0x48e)](_0x27ba38(0x47d)):_0x1e5908['classList'][_0x27ba38(0x75b)]('hidden'),_0x57d590[_0x27ba38(0x6c6)]=_0x4e6ce7['value'];}),document[_0x5894d8(0x44e)](_0x5894d8(0x6c8))[_0x5894d8(0xb41)](_0x5894d8(0x57e),_0xbb8abc=>{const _0x475757=_0x5894d8;document[_0x475757(0x44e)](_0x475757(0x491))['max']=_0xbb8abc['target']['value'];}),document[_0x5894d8(0x44e)](_0x5894d8(0x430))[_0x5894d8(0xb41)](_0x5894d8(0x5ad),_0x463bf8=>{const _0x39333a=_0x5894d8,_0x20c0eb=document['getElementById'](_0x39333a(0x66d)),_0x282775=document[_0x39333a(0x44e)]('modal-timer-duration-label'),_0x51492d=document[_0x39333a(0x44e)](_0x39333a(0x43c));_0x463bf8[_0x39333a(0x440)][_0x39333a(0x6ea)]==='none'?_0x20c0eb[_0x39333a(0xab0)]['add'](_0x39333a(0x47d)):(_0x20c0eb[_0x39333a(0xab0)]['remove'](_0x39333a(0x47d)),_0x463bf8[_0x39333a(0x440)][_0x39333a(0x6ea)]===_0x39333a(0xc15)?_0x282775[_0x39333a(0xb23)]='ระยะเวลา\x20(นาที):':_0x282775[_0x39333a(0xb23)]=_0x39333a(0x99b));}),document[_0x5894d8(0x44e)]('cancel-quiz-edits-btn')[_0x5894d8(0xb41)]('click',()=>{const _0x3c9c2d=_0x5894d8;document[_0x3c9c2d(0x44e)](_0x3c9c2d(0x1fb))['classList'][_0x3c9c2d(0x75b)](_0x3c9c2d(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0x71c))['addEventListener'](_0x5894d8(0x560),()=>{const _0x7b14ea=_0x5894d8;document[_0x7b14ea(0x44e)](_0x7b14ea(0x1fb))[_0x7b14ea(0xab0)][_0x7b14ea(0x75b)](_0x7b14ea(0x47d));}),document[_0x5894d8(0x44e)]('verify-answers-editor-btn')[_0x5894d8(0xb41)](_0x5894d8(0x560),handleVerifyAnswersInEditor),document[_0x5894d8(0x44e)](_0x5894d8(0x939))[_0x5894d8(0xb41)](_0x5894d8(0x560),()=>{const _0x5daddc=_0x5894d8;document['getElementById'](_0x5daddc(0x1fb))[_0x5daddc(0xab0)][_0x5daddc(0x75b)]('hidden'),showConfirmation(_0x5daddc(0xb9c),handleSaveChanges);}),document[_0x5894d8(0x44e)](_0x5894d8(0xcfa))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleAutoFixLatex);const _0xc0db66=document[_0x5894d8(0x44e)](_0x5894d8(0x584));_0xc0db66&&_0xc0db66[_0x5894d8(0xb41)](_0x5894d8(0x560),_0xd02224=>{const _0x5d6f2a=_0x5894d8,_0x5ac1f8=_0xd02224['target'][_0x5d6f2a(0xcf9)](_0x5d6f2a(0x30f)),_0x322e1c=_0xd02224[_0x5d6f2a(0x440)][_0x5d6f2a(0xcf9)](_0x5d6f2a(0x8ec));if(_0x5ac1f8){const _0xeae353=_0x5ac1f8['closest']('.question-editor-item'),_0x5e8264=parseInt(_0xeae353[_0x5d6f2a(0xd00)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x5e8264);}else{if(_0x322e1c){const _0x27deaa=_0x322e1c[_0x5d6f2a(0xcf9)]('.question-editor-item'),_0x57dd2e=parseInt(_0x27deaa['dataset'][_0x5d6f2a(0x860)],0xa);handleAiFixFormula(_0x57dd2e);}}});document[_0x5894d8(0x44e)](_0x5894d8(0xc81))[_0x5894d8(0xb41)](_0x5894d8(0x560),openQuizBankModal),document['getElementById'](_0x5894d8(0x8c0))[_0x5894d8(0xb41)]('click',()=>{const _0x90fde8=_0x5894d8;document['getElementById'](_0x90fde8(0x464))['classList'][_0x90fde8(0x75b)]('hidden');}),document[_0x5894d8(0x44e)](_0x5894d8(0xbe7))[_0x5894d8(0xb41)](_0x5894d8(0x57e),_0x3965b6=>renderQuizBankList(_0x3965b6['target']['value']));const _0x14cd5c=document[_0x5894d8(0x44e)]('math-topics-checkbox-container');if(_0x14cd5c){let _0x4a1aa9=null;_0x14cd5c[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x307097=>{const _0x30d472=_0x5894d8,_0x27035c=_0x307097['target'],_0x305008=_0x27035c[_0x30d472(0xcf9)](_0x30d472(0x5e9)),_0x4a1e18=_0x27035c[_0x30d472(0xcf9)]('.delete-custom-topic-btn'),_0x304571=_0x27035c[_0x30d472(0xcf9)](_0x30d472(0xb2c)),_0x27da15=_0x27035c[_0x30d472(0xcf9)](_0x30d472(0x3c5));if(_0x4a1e18){_0x307097[_0x30d472(0x1b0)]();const _0x21afa8=_0x4a1e18[_0x30d472(0xd00)]['id'],_0x283c25=_0x4a1e18['closest'](_0x30d472(0x65f))['querySelector'](_0x30d472(0x3a3))[_0x30d472(0xb23)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x283c25+'\x22?',()=>handleDeleteCustomTopic(_0x21afa8));}else{if(_0x305008){_0x307097[_0x30d472(0x1b0)]();_0x4a1aa9&&toggleTopicEditMode(_0x4a1aa9,![]);const _0x2128cf=_0x305008[_0x30d472(0xcf9)](_0x30d472(0x234));_0x4a1aa9=_0x2128cf,toggleTopicEditMode(_0x2128cf,!![]);}else{if(_0x304571){_0x307097['preventDefault']();const _0x496512=_0x304571[_0x30d472(0xd00)]['id'],_0x55ff38=_0x304571[_0x30d472(0xcf9)](_0x30d472(0x234)),_0x118452=_0x55ff38[_0x30d472(0x6ca)](_0x30d472(0x550))[_0x30d472(0x6ea)];handleUpdateCustomTopic(_0x496512,_0x118452),_0x4a1aa9=null;}else{if(_0x27da15){_0x307097[_0x30d472(0x1b0)]();const _0x1aea07=_0x27da15[_0x30d472(0xcf9)](_0x30d472(0x234));toggleTopicEditMode(_0x1aea07,![]),_0x4a1aa9=null;}}}}}),document[_0x5894d8(0x44e)](_0x5894d8(0xbf9))['addEventListener'](_0x5894d8(0x560),()=>{const _0x5e9325=_0x5894d8;document[_0x5e9325(0x44e)]('lesson-plan-modal')[_0x5e9325(0xab0)][_0x5e9325(0x75b)](_0x5e9325(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0x49d))['addEventListener'](_0x5894d8(0x560),()=>{const _0x3e10a4=_0x5894d8;document['getElementById'](_0x3e10a4(0x9a2))[_0x3e10a4(0xab0)][_0x3e10a4(0x75b)](_0x3e10a4(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0xb1a))[_0x5894d8(0xb41)](_0x5894d8(0x560),handleExportLessonPDF);}document['getElementById'](_0x5894d8(0x1ff))[_0x5894d8(0xb41)]('click',()=>{const _0x352014=_0x5894d8;document[_0x352014(0x44e)](_0x352014(0x299))[_0x352014(0xab0)][_0x352014(0x75b)](_0x352014(0x47d));}),document[_0x5894d8(0x44e)](_0x5894d8(0x52f))[_0x5894d8(0xb41)]('click',()=>{const _0x50006f=_0x5894d8;document[_0x50006f(0x44e)](_0x50006f(0x299))[_0x50006f(0xab0)]['add']('hidden');}),setupComparisonModalTabs(),document[_0x5894d8(0x859)]['addEventListener'](_0x5894d8(0x560),function(_0x49d368){const _0x1fc7ab=_0x5894d8;if(_0x49d368[_0x1fc7ab(0x440)][_0x1fc7ab(0xab0)][_0x1fc7ab(0x8be)](_0x1fc7ab(0x57c))){const _0x3c7ca5=unescape(_0x49d368[_0x1fc7ab(0x440)][_0x1fc7ab(0xd00)]['topic']);startSkillPractice(_0x3c7ca5);}}),document[_0x5894d8(0x44e)](_0x5894d8(0x6f6))[_0x5894d8(0xb41)](_0x5894d8(0x560),_0x56176e=>{const _0x7bb0d6=_0x5894d8,_0x121771=_0x56176e['target'][_0x7bb0d6(0xcf9)](_0x7bb0d6(0xa48));if(_0x121771){const _0x5a4761=_0x121771[_0x7bb0d6(0xd00)][_0x7bb0d6(0x775)];handleDeleteSubmission(_0x5a4761);}});}async function handleStartGroupMode(_0x2c3f5c,_0x941cbd=![]){const _0x138ccb=_0x26020e,_0x456d88=allQuizzes['find'](_0xd5516e=>_0xd5516e['id']===_0x2c3f5c)||allQuizzesGlobal['find'](_0x2fc949=>_0x2fc949['id']===_0x2c3f5c);if(!_0x456d88){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x456d88);const _0x46a776=Math[_0x138ccb(0x513)](0x3e8+Math[_0x138ccb(0x522)]()*0x2328)[_0x138ccb(0x1e5)]();try{const _0x370de7=await addDoc(collection(db,_0x138ccb(0xc3e)+appId+_0x138ccb(0x9ca)),{'quizId':_0x456d88['id'],'projectId':_0x456d88[_0x138ccb(0xc0b)],'status':'lobby','pin':_0x46a776,'mode':_0x138ccb(0x261),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x941cbd});currentTeamQuizId=_0x370de7['id'],showView(_0x138ccb(0x470)),renderAdminTeamQuizDashboard(_0x46a776,_0x456d88['topic'],_0x138ccb(0x261)),listenForTeamQuizUpdates();}catch(_0x18cf84){console[_0x138ccb(0x2fe)](_0x138ccb(0x7a4),_0x18cf84),showMessage(_0x138ccb(0x866));}}async function showStudentProgressView(){const _0x2b3463=_0x26020e;studentInitialView[_0x2b3463(0xab0)][_0x2b3463(0x75b)](_0x2b3463(0x47d)),document[_0x2b3463(0x44e)](_0x2b3463(0xa5e))[_0x2b3463(0xab0)][_0x2b3463(0x48e)](_0x2b3463(0x47d));const _0x3843a6=document['getElementById']('progress-project-select'),_0xb68728=document[_0x2b3463(0x44e)](_0x2b3463(0x611)),_0x4d86e7=document[_0x2b3463(0x44e)](_0x2b3463(0xce1));_0x4d86e7['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0xb68728[_0x2b3463(0x4c4)]=_0x2b3463(0xb48),_0xb68728[_0x2b3463(0x993)]=!![],_0x3843a6[_0x2b3463(0x4c4)]=_0x2b3463(0x6ac);if(allProjects[_0x2b3463(0x73e)]===0x0){const _0x38b8c2=collection(db,_0x2b3463(0xc3e)+appId+_0x2b3463(0x828)),_0x2d0eed=await getDocs(_0x38b8c2);allProjects=_0x2d0eed[_0x2b3463(0x8d6)][_0x2b3463(0xd0b)](_0x5de25a=>({'id':_0x5de25a['id'],..._0x5de25a[_0x2b3463(0xb97)]()}));}const _0x43703c=allProjects[_0x2b3463(0x1f5)](_0x1f03ad=>_0x1f03ad['settings']?.[_0x2b3463(0x967)]!==![]);_0x43703c['sort']((_0x37ef02,_0x4880fc)=>_0x37ef02[_0x2b3463(0x8d8)][_0x2b3463(0x4e8)](_0x4880fc[_0x2b3463(0x8d8)],'th')),_0x3843a6['innerHTML']=_0x2b3463(0x902)+_0x43703c[_0x2b3463(0xd0b)](_0x1d5213=>_0x2b3463(0x514)+_0x1d5213['id']+'\x22>'+_0x1d5213['projectName']+_0x2b3463(0xcba))[_0x2b3463(0xaa4)](''),_0x3843a6[_0x2b3463(0xa66)]=()=>{const _0xd6a011=_0x2b3463,_0x455e3f=_0xb68728[_0xd6a011(0x6ea)],_0x5d6504=_0x3843a6[_0xd6a011(0x6ea)];_0xb68728[_0xd6a011(0x993)]=!![],_0xb68728['innerHTML']=_0xd6a011(0xb48),_0x4d86e7['innerHTML']=_0xd6a011(0x7ac);if(!_0x5d6504)return;const _0x1bfa57=allProjects[_0xd6a011(0x2ba)](_0x5af22d=>_0x5af22d['id']===_0x5d6504);if(!_0x1bfa57||!_0x1bfa57[_0xd6a011(0x926)])return;const _0x7f40b5=()=>{const _0x12d649=_0xd6a011;_0xb68728[_0x12d649(0x4c4)]=_0x12d649(0xb48)+_0x1bfa57[_0x12d649(0x926)]['map'](_0x4b8d7f=>'<option\x20value=\x22'+_0x4b8d7f+'\x22>'+_0x4b8d7f+_0x12d649(0xcba))[_0x12d649(0xaa4)](''),_0xb68728[_0x12d649(0x993)]=![];const _0x510aee=Array['from'](_0xb68728[_0x12d649(0x3e3)])['map'](_0x2ec9c4=>_0x2ec9c4['value']);if(_0x455e3f&&_0x510aee[_0x12d649(0xae9)](_0x455e3f))_0xb68728[_0x12d649(0x6ea)]=_0x455e3f,_0xb68728[_0x12d649(0x661)](new Event(_0x12d649(0x5ad)));else _0x1bfa57[_0x12d649(0x926)][_0x12d649(0x73e)]===0x1&&(_0xb68728['value']=_0x1bfa57['students'][0x0],_0xb68728[_0x12d649(0x661)](new Event(_0x12d649(0x5ad))));};if(_0x1bfa57['settings']?.['isPasscodeEnabled']){if(sessionStorage[_0xd6a011(0xb5e)](_0xd6a011(0x920)+_0x5d6504)==='true'){_0x7f40b5();return;}const _0x504ca8=document[_0xd6a011(0x44e)](_0xd6a011(0xaac)),_0x1f4aaf=document[_0xd6a011(0x44e)](_0xd6a011(0x602)),_0x3e109e=document[_0xd6a011(0x44e)](_0xd6a011(0x89b)),_0x17a74c=document['getElementById'](_0xd6a011(0x422)),_0x1d7e1f=document[_0xd6a011(0x44e)](_0xd6a011(0x1bc));document[_0xd6a011(0x44e)](_0xd6a011(0x34b))[_0xd6a011(0xb23)]=_0xd6a011(0xa68)+_0x1bfa57[_0xd6a011(0x8d8)],_0x17a74c['value']='',_0x1d7e1f['classList']['add']('hidden'),_0x504ca8[_0xd6a011(0xab0)][_0xd6a011(0x48e)](_0xd6a011(0x47d));const _0x3350b5=()=>{const _0x4ef85c=_0xd6a011,_0xbc383a=_0x17a74c[_0x4ef85c(0x6ea)][_0x4ef85c(0x30d)]();_0xbc383a===_0x1bfa57[_0x4ef85c(0x798)]['passcode']?(sessionStorage[_0x4ef85c(0xa0f)](_0x4ef85c(0x920)+_0x5d6504,_0x4ef85c(0x668)),_0x504ca8['classList']['add'](_0x4ef85c(0x47d)),_0x7f40b5(),_0x1f4aaf['removeEventListener'](_0x4ef85c(0x560),_0x3350b5)):_0x1d7e1f[_0x4ef85c(0xab0)]['remove'](_0x4ef85c(0x47d));};_0x1f4aaf[_0xd6a011(0x847)]=_0x3350b5,_0x3e109e[_0xd6a011(0x847)]=()=>{const _0x4b3b25=_0xd6a011;_0x504ca8[_0x4b3b25(0xab0)]['add'](_0x4b3b25(0x47d)),_0x3843a6[_0x4b3b25(0x6ea)]='',_0x1f4aaf[_0x4b3b25(0x50b)](_0x4b3b25(0x560),_0x3350b5);};}else _0x7f40b5();},_0xb68728[_0x2b3463(0xa66)]=()=>{const _0x5f5524=_0x2b3463,_0x151744=_0x3843a6['value'],_0x56aa8a=_0xb68728[_0x5f5524(0x6ea)];_0x151744&&_0x56aa8a&&renderStudentProgressDashboard(_0x151744,_0x56aa8a);};}async function confirmAndJoinSyncGame(){const _0x533a6a=_0x26020e,_0x1b53ad=Array[_0x533a6a(0x346)](document[_0x533a6a(0xb04)]('input[name=\x22team_player\x22]:checked'))[_0x533a6a(0xd0b)](_0x1a03b6=>_0x1a03b6[_0x533a6a(0x6ea)]);if(_0x1b53ad[_0x533a6a(0x73e)]===0x0){showMessage(_0x533a6a(0xbc3));return;}localTeamPlayers=_0x1b53ad,localPlayerTurnIndex=0x0;const _0xae2ac4=doc(db,_0x533a6a(0xc3e)+appId+_0x533a6a(0x437),currentLiveGameId);try{const _0x32b975=await getDoc(_0xae2ac4);if(!_0x32b975['exists']())throw new Error(_0x533a6a(0xa65));const _0xeaf0ec=_0x32b975[_0x533a6a(0xb97)]()[_0x533a6a(0xb73)]||{};_0x1b53ad['forEach'](_0x2d5f24=>{!_0xeaf0ec[_0x2d5f24]&&(_0xeaf0ec[_0x2d5f24]={'name':_0x2d5f24,'score':0x0,'answered':![],'status':'active'});}),await updateDoc(_0xae2ac4,{'players':_0xeaf0ec}),document['getElementById']('student-team-selection-view')[_0x533a6a(0xab0)]['add'](_0x533a6a(0x47d)),currentStudentName=_0x1b53ad[0x0],listenForSyncGameUpdates();const _0x28dfdf={'gameId':currentLiveGameId,'mode':_0x533a6a(0x3aa),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x533a6a(0xa0f)](_0x533a6a(0x3ff),JSON[_0x533a6a(0x98d)](_0x28dfdf));}catch(_0x542ce9){console[_0x533a6a(0x2fe)](_0x533a6a(0x806),_0x542ce9),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x459bed=_0x26020e,_0xd4b12d=sessionStorage['getItem'](_0x459bed(0x3ff));if(!_0xd4b12d)return;const _0x1acc89=JSON[_0x459bed(0x22b)](_0xd4b12d),{gameId:_0x23d833,mode:_0xf43677,players:_0x2a08ab,turnIndex:_0x4afe47}=_0x1acc89;try{let _0xe754ce,_0x72c737;_0xf43677===_0x459bed(0x3aa)?_0xe754ce=doc(db,_0x459bed(0xc3e)+appId+_0x459bed(0x437),_0x23d833):_0xe754ce=doc(db,_0x459bed(0xc3e)+appId+_0x459bed(0x9ca),_0x23d833);_0x72c737=await getDoc(_0xe754ce);if(!_0x72c737[_0x459bed(0xd0a)]()||_0x72c737[_0x459bed(0xb97)]()[_0x459bed(0x8b8)]===_0x459bed(0x6b0)||_0x72c737[_0x459bed(0xb97)]()[_0x459bed(0x8b8)]===_0x459bed(0xa1b)){sessionStorage['removeItem']('activeGameSession');return;}console[_0x459bed(0x824)](_0x459bed(0x21e)+_0xf43677+_0x459bed(0x25f)+_0x23d833+')'),localTeamPlayers=_0x2a08ab,localPlayerTurnIndex=_0x4afe47;if(_0xf43677===_0x459bed(0x3aa))currentLiveGameId=_0x23d833,currentStudentName=_0x2a08ab[0x0],showView(_0x459bed(0x470)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x23d833;const _0x208d6e=_0x72c737[_0x459bed(0xb97)](),_0x28d53c=doc(db,_0x459bed(0xc3e)+appId+_0x459bed(0xa7d),_0x208d6e[_0x459bed(0x673)]),_0x28cccc=await getDoc(_0x28d53c);_0x28cccc['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x28cccc['id'],..._0x28cccc[_0x459bed(0xb97)]()}),showView(_0x459bed(0x62d)),studentInitialView[_0x459bed(0xab0)]['add'](_0x459bed(0x47d)),renderTeamQuizQuestion());}}catch(_0x2658bd){console[_0x459bed(0x2fe)](_0x459bed(0xb63),_0x2658bd),sessionStorage[_0x459bed(0x30a)](_0x459bed(0x3ff));}}function activateFileInputAreaWithLoadedFile(){const _0x2c4b35=_0x26020e,_0x17027d=document[_0x2c4b35(0x44e)](_0x2c4b35(0xb4a)),_0x22787f=document['getElementById'](_0x2c4b35(0x96f)),_0x5132eb=document[_0x2c4b35(0x44e)](_0x2c4b35(0xb9f));selectedFile?_0x5132eb[_0x2c4b35(0x8ab)]?(_0x17027d[_0x2c4b35(0x993)]=!![],analyzeFileForTopics(selectedFile)):(_0x17027d[_0x2c4b35(0x993)]=![],_0x22787f[_0x2c4b35(0xab0)][_0x2c4b35(0x75b)](_0x2c4b35(0x47d))):(_0x17027d[_0x2c4b35(0x993)]=!![],_0x22787f[_0x2c4b35(0xab0)][_0x2c4b35(0x75b)](_0x2c4b35(0x47d)));}async function handleKickPlayerSync(_0x4ef8f2){const _0x307747=_0x26020e;if(!currentLiveGameId||!_0x4ef8f2)return;const _0x3da8dd=doc(db,_0x307747(0xc3e)+appId+_0x307747(0x437),currentLiveGameId),_0x2090cf={};_0x2090cf['players.'+_0x4ef8f2+_0x307747(0x46e)]=_0x307747(0x4c5);try{await updateDoc(_0x3da8dd,_0x2090cf);}catch(_0x1ff658){console[_0x307747(0x2fe)]('Failed\x20to\x20kick\x20player\x20'+_0x4ef8f2+_0x307747(0x1ab),_0x1ff658),showMessage(_0x307747(0x9cb));}}async function renderStudentProgressDashboard(_0x2498c6,_0x457fec){const _0xdfc1f7=_0x26020e,_0x1b4b5e=document[_0xdfc1f7(0x44e)](_0xdfc1f7(0xce1));_0x1b4b5e[_0xdfc1f7(0x4c4)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x448050=collection(db,_0xdfc1f7(0xc3e)+appId+_0xdfc1f7(0xa7d)),_0x30f80b=query(_0x448050,where(_0xdfc1f7(0xc0b),'==',_0x2498c6)),_0x30a259=await getDocs(_0x30f80b),_0x171419=_0x30a259[_0xdfc1f7(0x8d6)]['map'](_0x378b44=>({'id':_0x378b44['id'],..._0x378b44[_0xdfc1f7(0xb97)]()})),_0x2736e3=_0x171419[_0xdfc1f7(0xd0b)](_0x5cc978=>getDoc(doc(db,_0xdfc1f7(0xc3e)+appId+_0xdfc1f7(0xa6e)+_0x5cc978['id']+_0xdfc1f7(0xab1),_0x457fec))),_0x58efdb=await Promise['all'](_0x2736e3),_0x137bce=_0x58efdb['filter'](_0x1d7745=>_0x1d7745['exists']())[_0xdfc1f7(0xd0b)](_0x2c7edc=>({'quizId':_0x2c7edc[_0xdfc1f7(0xc3f)]['parent'][_0xdfc1f7(0x885)]['id'],..._0x2c7edc[_0xdfc1f7(0xb97)]()}));if(_0x137bce['length']===0x0){_0x1b4b5e['innerHTML']=_0xdfc1f7(0xb6e);return;}let _0x47b8f0=_0xdfc1f7(0x4a5);_0x137bce[_0xdfc1f7(0x488)](_0x47b946=>{const _0x5346a1=_0xdfc1f7,_0x1cfbdb=_0x171419[_0x5346a1(0x2ba)](_0x46b700=>_0x46b700['id']===_0x47b946[_0x5346a1(0x673)]),_0x5502ea=_0x1cfbdb[_0x5346a1(0x798)]?.[_0x5346a1(0x5db)]||_0x5346a1(0xbb1),_0xdeaa7f=_0x1cfbdb[_0x5346a1(0x798)]?.[_0x5346a1(0x483)]??0x0,_0xc83ce8=_0x47b946[_0x5346a1(0x887)]>=_0xdeaa7f;let _0x4af8cb='',_0x528198=_0x5346a1(0xa55);switch(_0x5502ea){case'show_results_and_answers':case _0x5346a1(0x66e):_0x528198=_0xc83ce8?_0x5346a1(0x61b):_0x5346a1(0x82e),_0x4af8cb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0xc83ce8?_0x5346a1(0xa6c):'text-red-700')+'\x22>'+_0x47b946[_0x5346a1(0x887)]+'\x20/\x20'+_0x47b946[_0x5346a1(0x53c)]+_0x5346a1(0x33a)+(_0xc83ce8?_0x5346a1(0x841):'bg-red-200\x20text-red-800')+'\x22>'+(_0xc83ce8?_0x5346a1(0xc04):_0x5346a1(0x50a))+_0x5346a1(0x33c);break;case _0x5346a1(0x2b1):_0x528198=_0xc83ce8?_0x5346a1(0x61b):_0x5346a1(0x82e),_0x4af8cb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0xc83ce8?'bg-green-200\x20text-green-800':_0x5346a1(0x50c))+'\x22>'+(_0xc83ce8?_0x5346a1(0xc04):_0x5346a1(0x50a))+_0x5346a1(0x33c);break;case _0x5346a1(0x5b7):_0x528198=_0x5346a1(0x52c),_0x4af8cb=_0x5346a1(0x33b);break;}_0x47b8f0+=_0x5346a1(0x9ce)+_0x528198+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x1cfbdb[_0x5346a1(0x255)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x47b946['attempts'][_0x5346a1(0x73e)]+_0x5346a1(0x4ed)+new Date(_0x47b946[_0x5346a1(0x2b7)])[_0x5346a1(0x592)](_0x5346a1(0x600))+_0x5346a1(0x1a0)+_0x4af8cb+_0x5346a1(0x95e);}),_0x47b8f0+=_0xdfc1f7(0xa82),_0x1b4b5e[_0xdfc1f7(0x4c4)]=_0x47b8f0;}catch(_0x3bd4ea){console[_0xdfc1f7(0x2fe)](_0xdfc1f7(0x1d9),_0x3bd4ea),_0x1b4b5e[_0xdfc1f7(0x4c4)]=_0xdfc1f7(0x325);}}function renderQuizBankListForMultiSelect(_0x15007b=''){const _0x1bbf2e=_0x26020e,_0x2b282a=document[_0x1bbf2e(0x44e)]('bank-quiz-list'),_0x425ec4=_0x15007b[_0x1bbf2e(0x552)]()[_0x1bbf2e(0x30d)](),_0x4dee59=allQuizzesGlobal['map'](_0x26f05f=>({..._0x26f05f,'projectName':allProjects[_0x1bbf2e(0x2ba)](_0xe40eb8=>_0xe40eb8['id']===_0x26f05f[_0x1bbf2e(0xc0b)])?.[_0x1bbf2e(0x8d8)]||_0x1bbf2e(0x61d)}))[_0x1bbf2e(0x1f5)](_0x5c5b7e=>(_0x5c5b7e[_0x1bbf2e(0x255)]||'')['toLowerCase']()[_0x1bbf2e(0xae9)](_0x425ec4)||(_0x5c5b7e['projectName']||'')[_0x1bbf2e(0x552)]()[_0x1bbf2e(0xae9)](_0x425ec4)||_0x5c5b7e['id'][_0x1bbf2e(0x1e5)]()[_0x1bbf2e(0xae9)](_0x425ec4));_0x2b282a[_0x1bbf2e(0x4c4)]=_0x4dee59[_0x1bbf2e(0x73e)]?_0x4dee59[_0x1bbf2e(0xd0b)](_0x4c7019=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x4c7019['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x4c7019[_0x1bbf2e(0x255)]||_0x1bbf2e(0x340))+_0x1bbf2e(0x620)+_0x4c7019[_0x1bbf2e(0x8d8)]+_0x1bbf2e(0x743)+_0x4c7019['id']+_0x1bbf2e(0x8b1))['join'](''):_0x1bbf2e(0x396),_0x2b282a[_0x1bbf2e(0xa66)]=()=>{const _0x50ab06=_0x1bbf2e,_0x320d06=document[_0x50ab06(0x6ca)](_0x50ab06(0xaec));document[_0x50ab06(0x44e)]('confirm-link-quiz-btn')[_0x50ab06(0x993)]=!_0x320d06;};}function setupStudentProgressListeners(){const _0x548251=_0x26020e;document[_0x548251(0x44e)](_0x548251(0xce7))[_0x548251(0xb41)](_0x548251(0x560),showStudentProgressView),document[_0x548251(0x44e)](_0x548251(0x208))[_0x548251(0xb41)](_0x548251(0x560),()=>{const _0x574127=_0x548251;document[_0x574127(0x44e)](_0x574127(0xa5e))[_0x574127(0xab0)][_0x574127(0x75b)]('hidden'),document[_0x574127(0x44e)](_0x574127(0xb11))['classList'][_0x574127(0x48e)](_0x574127(0x47d));});}async function startSkillPractice(_0x56dbd4){const _0x1e92ee=_0x26020e;studentResultArea[_0x1e92ee(0xab0)][_0x1e92ee(0x75b)]('hidden'),studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x1e92ee(0xab0)]['remove']('hidden');try{const _0x1d143e=await getStandardizedTopic(_0x56dbd4);console['log'](_0x1e92ee(0x28d)+_0x56dbd4+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x1d143e+'\x22'),studentQuizArea[_0x1e92ee(0x6ca)]('p')[_0x1e92ee(0xb23)]=_0x1e92ee(0x2a1)+_0x1d143e+_0x1e92ee(0xa06);const _0x15ecf2=collection(db,_0x1e92ee(0xc3e)+appId+_0x1e92ee(0x98c)),_0x5c522f=query(_0x15ecf2,where('topic','==',_0x1d143e)),_0xe4360e=await getDocs(_0x5c522f);if(_0xe4360e[_0x1e92ee(0x8d6)][_0x1e92ee(0x73e)]>=0x3){console[_0x1e92ee(0x824)]('พบข้อสอบ\x20'+_0xe4360e[_0x1e92ee(0x8d6)][_0x1e92ee(0x73e)]+_0x1e92ee(0x413)+_0x1d143e+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x31aa5b=_0xe4360e[_0x1e92ee(0x8d6)][_0x1e92ee(0xd0b)](_0x157296=>_0x157296[_0x1e92ee(0xb97)]());shuffleArray(_0x31aa5b);const _0x60ed38={'topic':_0x1d143e,'questions':_0x31aa5b['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x60ed38);}else{console[_0x1e92ee(0x824)](_0x1e92ee(0x88c)+_0x1d143e+_0x1e92ee(0x8e7));const _0x541052=await generatePracticeQuestions(_0x1d143e);await saveDrillToPracticeBank(_0x541052,_0x1d143e),displaySkillPracticeDrill(_0x541052);}}catch(_0x1c70ba){console[_0x1e92ee(0x2fe)](_0x1e92ee(0x33f),_0x1c70ba),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x1e92ee(0xab0)][_0x1e92ee(0x75b)](_0x1e92ee(0x47d)),studentResultArea[_0x1e92ee(0xab0)]['remove'](_0x1e92ee(0x47d));}}async function saveDrillToPracticeBank(_0x4f6cde,_0x4c568f){const _0x1c6714=_0x26020e,_0x5a6d91=collection(db,'artifacts/'+appId+_0x1c6714(0x98c)),_0x6afdb3=writeBatch(db);_0x4f6cde[_0x1c6714(0x1c9)][_0x1c6714(0x488)](_0x4f3263=>{const _0x2209f3=_0x1c6714,_0x3b5c60=doc(_0x5a6d91);_0x6afdb3[_0x2209f3(0xa02)](_0x3b5c60,{'topic':_0x4c568f,'questionText':_0x4f3263['questionText'],'options':_0x4f3263['options'],'correctAnswerIndex':_0x4f3263[_0x2209f3(0xa5b)],'explanation':_0x4f3263['explanation'],'createdAt':serverTimestamp()});});try{await _0x6afdb3[_0x1c6714(0x7dc)](),console[_0x1c6714(0x824)](_0x1c6714(0xb0e)+_0x4f6cde[_0x1c6714(0x1c9)][_0x1c6714(0x73e)]+_0x1c6714(0xc2d));}catch(_0x177c07){console[_0x1c6714(0x2fe)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x177c07);}}async function getStandardizedTopic(_0x3ced81){const _0x195926=_0x26020e,_0x2077c3=_0x195926(0x8a6)+_0x3ced81+_0x195926(0x8a1),_0x156a17={'type':_0x195926(0x51e),'properties':{'standardTopic':{'type':_0x195926(0x52a)}},'required':[_0x195926(0x918)]};try{const _0x2f7c67=await callAnalysisApi(_0x2077c3,_0x156a17);return _0x2f7c67['standardTopic'];}catch(_0x594d5d){return console['error'](_0x195926(0x7fa),_0x594d5d),_0x3ced81;}}async function handleGenerateEasyVersionQuiz(_0x46fb26){const _0x2247ac=_0x26020e,_0x4e7dbb=document[_0x2247ac(0x44e)](_0x2247ac(0x594)),_0x3d4e38=document[_0x2247ac(0x44e)](_0x2247ac(0xa6b));_0x3d4e38['classList']['add'](_0x2247ac(0x47d));const _0x1dd72b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4e7dbb[_0x2247ac(0x319)](_0x2247ac(0x87a),_0x1dd72b);try{const _0x113d25=allQuizzes['find'](_0x165097=>_0x165097['id']===_0x46fb26);if(!_0x113d25)throw new Error(_0x2247ac(0xbd6));const _0x52ff73=_0x2247ac(0x505)+JSON[_0x2247ac(0x98d)](_0x113d25[_0x2247ac(0x1c9)])+_0x2247ac(0xce8),_0x4032c4={'type':_0x2247ac(0x51e),'properties':{'questionText':{'type':_0x2247ac(0x52a)},'questionType':{'type':_0x2247ac(0x52a)},'options':{'type':_0x2247ac(0x7ca),'items':{'type':_0x2247ac(0x52a)}},'correctAnswerIndex':{'type':_0x2247ac(0x877)},'idealAnswer':{'type':_0x2247ac(0x52a)},'explanation':{'type':_0x2247ac(0x52a)},'imageCode':{'type':'STRING'}},'required':[_0x2247ac(0xbbe),_0x2247ac(0x425),_0x2247ac(0x4b2)]},_0x90c584={'type':_0x2247ac(0x51e),'properties':{'questions':{'type':_0x2247ac(0x7ca),'items':_0x4032c4}},'required':['questions']},_0xb39037=await callAnalysisApi(_0x52ff73,_0x90c584);_0xb39037&&_0xb39037[_0x2247ac(0x1c9)]&&_0xb39037[_0x2247ac(0x1c9)][_0x2247ac(0x488)](_0x228dfc=>{const _0xce69c2=_0x2247ac;if(_0x228dfc[_0xce69c2(0x628)](_0xce69c2(0xb2a))){const _0x2175f8=String(_0x228dfc['imageCode'])['trim']();(_0x2175f8===''||_0x2175f8['toLowerCase']()===_0xce69c2(0x6fa)||!_0x2175f8[_0xce69c2(0x259)](_0xce69c2(0x8bf)))&&delete _0x228dfc['imageCode'];}});if(!_0xb39037||!_0xb39037['questions']||_0xb39037[_0x2247ac(0x1c9)][_0x2247ac(0x73e)]===0x0)throw new Error(_0x2247ac(0x3ae));const _0x5cccb0=_0xb39037[_0x2247ac(0x1c9)][_0x2247ac(0xd0b)]((_0x551766,_0x5bfd59)=>({..._0x551766,'id':'q_'+Date[_0x2247ac(0xc63)]()+'_'+_0x5bfd59})),_0x1a626e={'projectId':_0x113d25[_0x2247ac(0xc0b)],'quizType':_0x113d25['quizType'],'settings':_0x113d25[_0x2247ac(0x798)],'createdBy':_0x113d25[_0x2247ac(0x9d0)],'status':_0x2247ac(0x57f),'topic':_0x2247ac(0x901)+_0x113d25['topic'],'questions':_0x5cccb0,'createdAt':new Date()[_0x2247ac(0x501)](),'quizMode':'standard','pairedQuizId':null};let _0x111b70;while(!![]){_0x111b70=Math[_0x2247ac(0x513)](0x3e8+Math[_0x2247ac(0x522)]()*0x2328)[_0x2247ac(0x1e5)]();const _0x1ded76=await getDoc(doc(db,_0x2247ac(0xc3e)+appId+_0x2247ac(0xa7d),_0x111b70));if(!_0x1ded76[_0x2247ac(0xd0a)]())break;}await setDoc(doc(db,_0x2247ac(0xc3e)+appId+'/public/data/quizzes',_0x111b70),_0x1a626e),showMessage(_0x2247ac(0xad4));}catch(_0x12c798){console[_0x2247ac(0x2fe)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x12c798),showMessage(_0x2247ac(0x93f)+_0x12c798['message']);}finally{const _0x186bdf=document['getElementById']('temp-loader-results');_0x186bdf&&_0x186bdf[_0x2247ac(0x48e)](),_0x3d4e38[_0x2247ac(0xab0)]['remove']('hidden');}}async function generatePracticeQuestions(_0x4f6a3f){const _0x57ee43=_0x26020e,_0x303b8a=_0x57ee43(0x2fc)+_0x4f6a3f+_0x57ee43(0xaa8)+simpleMathPrompt+_0x57ee43(0x7e0),_0x1a42a2={'type':_0x57ee43(0x51e),'properties':{'questionText':{'type':_0x57ee43(0x52a)},'options':{'type':_0x57ee43(0x7ca),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x57ee43(0x877)},'explanation':{'type':'STRING'}},'required':[_0x57ee43(0xbbe),_0x57ee43(0x3e3),_0x57ee43(0xa5b),'explanation']},_0x18c377={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x57ee43(0x7ca),'items':_0x1a42a2}},'required':[_0x57ee43(0x255),'questions']};return await callAnalysisApi(_0x303b8a,_0x18c377);}function displayLessonPlan(_0xd261e5,_0x52511){const _0x1f235b=_0x26020e,_0x2aa1ea=_0x1f235b(0xcf8)+_0x52511[_0x1f235b(0x255)]+_0x1f235b(0xa91)+_0xd261e5[_0x1f235b(0xa03)]['map'](_0x554259=>_0x1f235b(0x3a6)+_0x554259+_0x1f235b(0x3a1))['join']('')+_0x1f235b(0x426)+_0xd261e5[_0x1f235b(0x9cd)]+_0x1f235b(0x807)+_0xd261e5[_0x1f235b(0x4ee)]['map'](_0x527da6=>_0x1f235b(0xb81)+_0x527da6['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x527da6[_0x1f235b(0x349)]+_0x1f235b(0xa81))[_0x1f235b(0xaa4)]('')+_0x1f235b(0x5d8);document[_0x1f235b(0x44e)](_0x1f235b(0xba7))[_0x1f235b(0xb23)]=_0x1f235b(0xaeb)+_0x52511[_0x1f235b(0x255)],document['getElementById'](_0x1f235b(0x2e8))[_0x1f235b(0x4c4)]=_0x2aa1ea,document[_0x1f235b(0x44e)](_0x1f235b(0x9a2))[_0x1f235b(0xab0)]['remove'](_0x1f235b(0x47d));if(window['MathJax'])MathJax[_0x1f235b(0xc74)]();}function displaySkillPracticeDrill(_0x5e49b7){const _0x4808c8=_0x26020e;let _0x79e9d9=0x0;const _0x35264e=_0x5e49b7[_0x4808c8(0x1c9)],_0x35d513=()=>{const _0x3bd4f3=_0x4808c8,_0x5dec9b=_0x35264e[_0x79e9d9],_0x337d61=_0x3bd4f3(0x18d)+(_0x79e9d9+0x1)+_0x3bd4f3(0x690)+_0x35264e['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x5dec9b[_0x3bd4f3(0xbbe)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dec9b['options'][_0x3bd4f3(0xd0b)]((_0x501db8,_0x42152b)=>_0x3bd4f3(0xc84)+_0x42152b+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x42152b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x42152b+'\x22>'+_0x501db8+_0x3bd4f3(0xaf6))[_0x3bd4f3(0xaa4)]('')+_0x3bd4f3(0xb7f);studentQuizArea[_0x3bd4f3(0x4c4)]=_0x337d61;if(window[_0x3bd4f3(0x597)])MathJax[_0x3bd4f3(0xc74)]([studentQuizArea]);document[_0x3bd4f3(0x44e)](_0x3bd4f3(0xc22))[_0x3bd4f3(0xb41)](_0x3bd4f3(0x560),async()=>{const _0x46bd31=await getHintForQuestion(_0x5dec9b['questionText']);showMessage(_0x46bd31);}),document['getElementById'](_0x3bd4f3(0x613))[_0x3bd4f3(0xb41)](_0x3bd4f3(0x560),()=>{const _0x53f258=_0x3bd4f3,_0x391905=document[_0x53f258(0x6ca)](_0x53f258(0xc7f));if(!_0x391905){showMessage(_0x53f258(0xbc2));return;}const _0x564ee4=document[_0x53f258(0x44e)](_0x53f258(0x50f)),_0x4e11d5=parseInt(_0x391905[_0x53f258(0x6ea)])===_0x5dec9b['correctAnswerIndex'];_0x4e11d5?(_0x564ee4['className']='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x564ee4[_0x53f258(0x4c4)]=_0x53f258(0x27d)+_0x5dec9b['explanation']):(_0x564ee4[_0x53f258(0xa9d)]=_0x53f258(0x243),_0x564ee4[_0x53f258(0x4c4)]=_0x53f258(0x871)+_0x5dec9b['explanation']);_0x564ee4[_0x53f258(0xab0)]['remove']('hidden');if(window[_0x53f258(0x597)])MathJax['typesetPromise']([_0x564ee4]);document[_0x53f258(0x44e)]('check-answer-btn')[_0x53f258(0xab0)][_0x53f258(0x75b)](_0x53f258(0x47d)),document[_0x53f258(0x44e)](_0x53f258(0xc22))[_0x53f258(0xab0)][_0x53f258(0x75b)](_0x53f258(0x47d)),document[_0x53f258(0x44e)](_0x53f258(0x941))[_0x53f258(0xab0)][_0x53f258(0x48e)]('hidden');}),document[_0x3bd4f3(0x44e)](_0x3bd4f3(0x941))[_0x3bd4f3(0xb41)](_0x3bd4f3(0x560),()=>{const _0x1c9ba3=_0x3bd4f3;_0x79e9d9++,_0x79e9d9<_0x35264e[_0x1c9ba3(0x73e)]?_0x35d513():(studentQuizArea[_0x1c9ba3(0x4c4)]=_0x1c9ba3(0x45b),document[_0x1c9ba3(0x44e)]('back-to-results-btn')[_0x1c9ba3(0xb41)](_0x1c9ba3(0x560),()=>{const _0x29faa3=_0x1c9ba3;studentQuizArea[_0x29faa3(0xab0)][_0x29faa3(0x75b)]('hidden'),studentResultArea['classList']['remove'](_0x29faa3(0x47d));}));});};_0x35d513();}async function getHintForQuestion(_0x541508){const _0xd8c889=_0x26020e,_0x16bad9='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x541508+_0xd8c889(0x6c4),_0x397d0e={'type':_0xd8c889(0x51e),'properties':{'hint':{'type':'STRING'}},'required':[_0xd8c889(0x9f1)]};try{const _0x287d64=await callAnalysisApi(_0x16bad9,_0x397d0e);return _0x287d64['hint'];}catch(_0x4ba28d){return console['error'](_0xd8c889(0x9b4),_0x4ba28d),_0xd8c889(0x989);}}async function extractTextFromPdf(_0x28a95b){const _0xe3d9a3=_0x26020e;pdfjsLib[_0xe3d9a3(0xc5a)]['workerSrc']=_0xe3d9a3(0x803);const _0x28a284=await _0x28a95b[_0xe3d9a3(0x897)](),_0x4f2225=await pdfjsLib[_0xe3d9a3(0x20e)](_0x28a284)[_0xe3d9a3(0xafa)],_0x178cfa=_0x4f2225[_0xe3d9a3(0x79e)];let _0x58a558='';for(let _0x53fb8f=0x1;_0x53fb8f<=_0x178cfa;_0x53fb8f++){const _0x4dbc78=await _0x4f2225[_0xe3d9a3(0x534)](_0x53fb8f),_0x2a4049=await _0x4dbc78[_0xe3d9a3(0x59b)](),_0x30b1b9=_0x2a4049['items'][_0xe3d9a3(0xd0b)](_0x1adb70=>_0x1adb70[_0xe3d9a3(0x633)])['join']('\x20');_0x58a558+=_0x30b1b9+'\x0a\x0a';}return _0x58a558;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x1e0c31){const _0x3f195e=_0x26020e,_0x5e9693=document['getElementById'](_0x3f195e(0x726)),_0x4f0f49=document[_0x3f195e(0x44e)](_0x3f195e(0x5f0)),_0x14c25c=document[_0x3f195e(0x44e)](_0x3f195e(0x190));_0x5e9693['classList'][_0x3f195e(0x48e)](_0x3f195e(0x47d)),_0x4f0f49['innerHTML']=_0x3f195e(0x1aa),_0x14c25c[_0x3f195e(0xab0)]['add']('hidden');try{const _0x3c3010=_0x3f195e(0x3a5)+_0x1e0c31+_0x3f195e(0x21c),_0x53b632={'type':_0x3f195e(0x51e),'properties':{'gradeLevel':{'type':_0x3f195e(0x52a)},'curriculum':{'type':_0x3f195e(0x7ca),'items':{'type':_0x3f195e(0x51e),'properties':{'sara':{'type':_0x3f195e(0x52a)},'mainTopics':{'type':'ARRAY','items':{'type':_0x3f195e(0x51e),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x3f195e(0x7ca),'items':{'type':_0x3f195e(0x52a)}}},'required':[_0x3f195e(0xb5d),_0x3f195e(0x521)]}}},'required':[_0x3f195e(0x77f),'mainTopics']}}},'required':[_0x3f195e(0x442),_0x3f195e(0x94e)]},_0x2e936c=await callAnalysisApi(_0x3c3010,_0x53b632);if(_0x2e936c&&_0x2e936c[_0x3f195e(0x94e)])extractedBlueprintData=_0x2e936c,renderBlueprintTopics(_0x2e936c),_0x14c25c['classList'][_0x3f195e(0x48e)](_0x3f195e(0x47d));else throw new Error(_0x3f195e(0x850));}catch(_0x1af730){console['error'](_0x3f195e(0x7b4),_0x1af730),_0x4f0f49[_0x3f195e(0x4c4)]=_0x3f195e(0x6bd);}}function renderBlueprintTopics(_0x9ff9cf){const _0x1ce759=_0x26020e,_0x1020e1=document[_0x1ce759(0x44e)](_0x1ce759(0x5f0)),_0x38544b=_0x9ff9cf[_0x1ce759(0x442)],_0x13b875=_0x1ce759(0xa95)+_0x38544b+_0x1ce759(0x3e6);let _0xf7ca12='';_0x9ff9cf[_0x1ce759(0x94e)][_0x1ce759(0x488)](_0x57acfb=>{const _0x1fbdf0=_0x1ce759;_0xf7ca12+=_0x1fbdf0(0x2be)+_0x57acfb[_0x1fbdf0(0x77f)]+_0x1fbdf0(0xbeb),_0x57acfb[_0x1fbdf0(0x6d8)]['forEach'](_0x10ce1e=>{const _0x5d125a=_0x1fbdf0;_0xf7ca12+=_0x5d125a(0x1df)+_0x10ce1e[_0x5d125a(0xb5d)]+_0x5d125a(0x8c1),_0x10ce1e[_0x5d125a(0x521)][_0x5d125a(0x488)](_0x13f93e=>{const _0x11c590=_0x5d125a;_0xf7ca12+=_0x11c590(0x287)+_0x13f93e['replace'](/'/g,'\x5c\x27')+_0x11c590(0xab8)+_0x38544b[_0x11c590(0x558)](/'/g,'\x5c\x27')+_0x11c590(0x780)+_0x13f93e+_0x11c590(0xb82)+_0x13f93e[_0x11c590(0x558)](/'/g,'\x5c\x27')+_0x11c590(0x77e);}),_0xf7ca12+=_0x5d125a(0x934);}),_0xf7ca12+=_0x1fbdf0(0xa82);}),_0x1020e1[_0x1ce759(0x4c4)]=_0x13b875+_0xf7ca12;}async function handleGenerateTeachingContent(_0x3ddf14){const _0x366c86=_0x26020e,_0x360843=document[_0x366c86(0x44e)](_0x366c86(0x9a2)),_0x1bd78f=document['getElementById'](_0x366c86(0x2e8));document[_0x366c86(0x44e)](_0x366c86(0xba7))[_0x366c86(0xb23)]=_0x366c86(0xa26)+_0x3ddf14,_0x1bd78f['innerHTML']=_0x366c86(0x577),_0x360843[_0x366c86(0xab0)][_0x366c86(0x48e)](_0x366c86(0x47d));try{const _0x3e68cd=_0x366c86(0x85f)+_0x3ddf14+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x500803={'type':_0x366c86(0x51e),'properties':{'keyConcepts':{'type':_0x366c86(0x7ca),'items':{'type':_0x366c86(0x52a)}},'commonMistakes':{'type':_0x366c86(0x7ca),'items':{'type':_0x366c86(0x52a)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x366c86(0x51e),'properties':{'question':{'type':_0x366c86(0x52a)},'solution':{'type':'STRING'}},'required':[_0x366c86(0xbe6),_0x366c86(0x349)]}},'teacherTips':{'type':_0x366c86(0x7ca),'items':{'type':_0x366c86(0x52a)}}},'required':[_0x366c86(0x2e0),'commonMistakes',_0x366c86(0x7bc),'teacherTips']},_0x55e034=await callAnalysisApi(_0x3e68cd,_0x500803);displayTeachingContent(_0x55e034,_0x3ddf14);}catch(_0x567aa5){console[_0x366c86(0x2fe)](_0x366c86(0x8f0),_0x567aa5),_0x1bd78f[_0x366c86(0x4c4)]=_0x366c86(0x508)+_0x567aa5[_0x366c86(0x9d4)]+_0x366c86(0xb75);}}function displayTeachingContent(_0x205016,_0x11d11f){const _0x6c9033=_0x26020e,_0x183ca8=document[_0x6c9033(0x44e)](_0x6c9033(0x2e8));document['getElementById'](_0x6c9033(0xba7))['textContent']=_0x6c9033(0x52d)+_0x11d11f;const _0x920ee1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x205016[_0x6c9033(0x2e0)]['map'](_0x31cbbf=>_0x6c9033(0x3a6)+_0x31cbbf+_0x6c9033(0x3a1))['join']('')+_0x6c9033(0xb22)+_0x205016[_0x6c9033(0x908)][_0x6c9033(0xd0b)](_0x5ed0dc=>_0x6c9033(0x3a6)+_0x5ed0dc+_0x6c9033(0x3a1))[_0x6c9033(0xaa4)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x205016[_0x6c9033(0x7bc)][_0x6c9033(0xd0b)](_0x123d96=>_0x6c9033(0x796)+_0x123d96['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x123d96[_0x6c9033(0x349)]+_0x6c9033(0x356))[_0x6c9033(0xaa4)]('')+_0x6c9033(0x59a)+_0x205016[_0x6c9033(0xae8)]['map'](_0x2fc6ce=>'<li>'+_0x2fc6ce+_0x6c9033(0x3a1))[_0x6c9033(0xaa4)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x183ca8[_0x6c9033(0x4c4)]=_0x920ee1;if(window['MathJax'])MathJax[_0x6c9033(0xc74)]([_0x183ca8]);}async function generateQuizForSingleTopic(_0x1b9875){const _0x36c8d9=_0x26020e;console[_0x36c8d9(0x824)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x1b9875+'\x22');const _0x544f49=document[_0x36c8d9(0x44e)](_0x36c8d9(0xd02)),_0x411a11=_0x544f49[_0x36c8d9(0x6c2)]['length']>0x0?_0x544f49['files'][0x0]:null;let _0x30af76=null;if(_0x411a11)try{const _0x47215c=new FileReader();_0x47215c['readAsDataURL'](_0x411a11);const _0x3f14fc=await new Promise((_0x3db72a,_0x1c02ae)=>{const _0x2dda6e=_0x36c8d9;_0x47215c[_0x2dda6e(0x217)]=()=>_0x3db72a(_0x47215c[_0x2dda6e(0x961)]['split'](',')[0x1]),_0x47215c[_0x2dda6e(0x5d0)]=_0x50b2ea=>_0x1c02ae(_0x50b2ea);});_0x30af76=[{'inlineData':{'mimeType':_0x411a11[_0x36c8d9(0x3c9)],'data':_0x3f14fc}}];}catch(_0x3563ae){console[_0x36c8d9(0x2fe)](_0x36c8d9(0x7fc),_0x3563ae),showMessage(_0x36c8d9(0x2b5));return;}generateQuiz(_0x1b9875,null,null,_0x30af76,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x30a6c0=null){const _0x2c2cde=_0x26020e,_0x9fe749=document[_0x2c2cde(0x44e)](_0x2c2cde(0x438)),_0xa68ec1=document[_0x2c2cde(0x44e)](_0x2c2cde(0x734));let _0x45d3db;if(_0x30a6c0)_0x45d3db=_0x30a6c0;else{const _0x28923a=document['getElementById']('blueprint-upload-input'),_0x3caf95=_0x28923a[_0x2c2cde(0x6c2)][0x0];if(!_0x3caf95){showMessage(_0x2c2cde(0x682));return;}_0xa68ec1['textContent']='กำลังเตรียมไฟล์...';const _0x962d68=await new Promise((_0x55ac24,_0x46c549)=>{const _0x50ff97=_0x2c2cde,_0x27d892=new FileReader();_0x27d892[_0x50ff97(0x56e)](_0x3caf95),_0x27d892[_0x50ff97(0x217)]=()=>_0x55ac24(_0x27d892[_0x50ff97(0x961)][_0x50ff97(0x232)](',')[0x1]),_0x27d892[_0x50ff97(0x5d0)]=_0x46c549;});_0x45d3db=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x3caf95[_0x2c2cde(0x3c9)],'data':_0x962d68}}];}const _0x1b5f1d=_0x2c2cde(0x629),_0x1c4eeb=_0x2c2cde(0x298),_0x31d29c='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x3f128d={'type':_0x2c2cde(0x51e),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x2c2cde(0xbad),_0x2c2cde(0x500),_0x2c2cde(0x7e8),_0x2c2cde(0x5b6)]},'options':{'type':_0x2c2cde(0x7ca),'items':{'type':_0x2c2cde(0x52a)}},'correctAnswerIndex':{'type':_0x2c2cde(0x877)},'idealAnswer':{'type':_0x2c2cde(0x52a)},'correctAnswer':{'type':_0x2c2cde(0x533)},'explanation':{'type':_0x2c2cde(0x52a)},'imageCode':{'type':_0x2c2cde(0x52a)}},'required':[_0x2c2cde(0x425),_0x2c2cde(0x4b2)]},_0x37d756={'type':_0x2c2cde(0x51e),'properties':{'topic':{'type':_0x2c2cde(0x52a)},'questions':{'type':_0x2c2cde(0x7ca),'items':_0x3f128d}},'required':[_0x2c2cde(0x255),_0x2c2cde(0x1c9)]};_0x45d3db[0x0][_0x2c2cde(0x2ac)]=_0x31d29c,await handleApiCall(_0x45d3db,_0x2c2cde(0x703),_0x37d756);}function proceedToNextQuestion(_0x10e78a){const _0x183e00=_0x26020e;studentAnswersPerQuestion['push'](_0x10e78a),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x183e00(0x1c9)][_0x183e00(0x73e)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x23622e,_0x558e71){const _0x4e6a32=_0x26020e,_0x3055f0=Object[_0x4e6a32(0x20d)](_0x23622e[_0x4e6a32(0xb73)]||{}),_0x175856=_0x3055f0[_0x4e6a32(0x73e)],_0x129046=[..._0x3055f0][_0x4e6a32(0x80a)]((_0x30af6f,_0x5830e8)=>_0x5830e8[_0x4e6a32(0x635)]-_0x30af6f[_0x4e6a32(0x635)]),_0x4c6c24=_0x23622e[_0x4e6a32(0x354)];let _0x5185ed='';const _0xe7d967=_0x23622e[_0x4e6a32(0x91d)][_0x4e6a32(0x1c9)],_0x33f1a1=_0xe7d967[_0x4c6c24],_0x335d0d=_0x4f50c0=>String[_0x4e6a32(0x3cd)](0x41+_0x4f50c0);let _0x11b31c='',_0x3bfece='';if(_0x33f1a1){const _0x34b79a=_0x33f1a1[_0x4e6a32(0x425)]||_0x23622e[_0x4e6a32(0x91d)][_0x4e6a32(0x31d)];if(_0x34b79a===_0x4e6a32(0xbad)&&_0x33f1a1[_0x4e6a32(0x3e3)]&&_0x33f1a1[_0x4e6a32(0xa5b)]!==undefined){const _0xb2027f=_0x33f1a1['correctAnswerIndex'];_0x11b31c=_0x33f1a1[_0x4e6a32(0x3e3)][_0xb2027f],_0x3bfece=_0x335d0d(_0xb2027f)+'.';}else{if(_0x34b79a===_0x4e6a32(0x7e8)){const _0x47e160=_0x33f1a1[_0x4e6a32(0x7ba)]===!![]||String(_0x33f1a1[_0x4e6a32(0x7ba)])[_0x4e6a32(0x552)]()===_0x4e6a32(0x668);_0x47e160?(_0x11b31c=_0x4e6a32(0xb54),_0x3bfece='ก.'):(_0x11b31c='ไม่ใช่\x20/\x20ผิด',_0x3bfece='ข.');}else{if(_0x34b79a===_0x4e6a32(0x5b6))_0x11b31c=_0x33f1a1[_0x4e6a32(0xb53)]||'-',_0x3bfece='';else _0x34b79a===_0x4e6a32(0x500)&&(_0x11b31c=_0x33f1a1[_0x4e6a32(0x2a5)]||'-',_0x3bfece='');}}}_0x11b31c&&(_0x5185ed=_0x4e6a32(0x698)+(_0x4c6c24+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x3bfece+'\x20'+_0x11b31c+_0x4e6a32(0xb05));const _0x351685=_0x129046[_0x4e6a32(0xd0b)](_0xb779b0=>{const _0xb3112f=_0x4e6a32;let _0x202d51=![];if(_0xb779b0[_0xb3112f(0xc9e)]&&_0x4c6c24!==-0x1){const _0x523459=_0xb779b0[_0xb3112f(0xc9e)][_0xb3112f(0x2ba)](_0x49ff09=>_0x49ff09[_0xb3112f(0x923)]===_0x4c6c24);_0x523459&&_0x523459[_0xb3112f(0xaf2)]&&(_0x202d51=!![]);}const _0x443bb6=_0x202d51?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':_0xb3112f(0x4c6);return _0xb3112f(0x6f3)+_0x443bb6+_0xb3112f(0x399)+_0xb779b0['name']+_0xb3112f(0x479)+_0xb779b0[_0xb3112f(0x635)]+'\x20คะแนน</span></div>';})['join'](''),_0x31b0b5=_0xe7d967[_0x4e6a32(0xd0b)]((_0x37790,_0x2befc9)=>{const _0x8abfb=_0x4e6a32,_0x1c41af=_0x3055f0['filter'](_0x34802b=>_0x34802b['answers']&&_0x34802b[_0x8abfb(0xc9e)][_0x8abfb(0x2ba)](_0x2fe83f=>_0x2fe83f[_0x8abfb(0x923)]===_0x2befc9&&_0x2fe83f[_0x8abfb(0xaf2)]))['length'],_0x298cd0=_0x2befc9===_0x4c6c24,_0x273cbd=_0x298cd0?_0x8abfb(0x8d7):_0x8abfb(0xc02);return _0x8abfb(0x6cd)+_0x273cbd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x2befc9+0x1)+_0x8abfb(0x309)+_0x1c41af+_0x8abfb(0x690)+_0x175856+_0x8abfb(0xcd8);})[_0x4e6a32(0xaa4)]('');let _0x324ec0='',_0x24386c='';if(_0x558e71){const _0x132b01=_0x23622e['currentQuestionIndex']>=_0xe7d967[_0x4e6a32(0x73e)]-0x1;_0x324ec0='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x132b01?_0x4e6a32(0x903):_0x4e6a32(0x853))+_0x4e6a32(0xb26),_0x24386c=_0x4e6a32(0x520);}const _0x3c8f7f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x23622e[_0x4e6a32(0x91d)][_0x4e6a32(0x255)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24386c+_0x4e6a32(0x194)+_0x5185ed+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x351685||_0x4e6a32(0x5f7))+_0x4e6a32(0x6fb)+_0x31b0b5+_0x4e6a32(0x83e)+(_0x558e71?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x324ec0+_0x4e6a32(0xa82):'')+_0x4e6a32(0x36d);liveGameView[_0x4e6a32(0x4c4)]=_0x3c8f7f;if(window[_0x4e6a32(0x597)]){const _0x1974bf=document[_0x4e6a32(0x44e)](_0x4e6a32(0x3cf));_0x1974bf&&MathJax[_0x4e6a32(0xc74)]([_0x1974bf]);}if(_0x558e71){document[_0x4e6a32(0x44e)](_0x4e6a32(0x43a))[_0x4e6a32(0x847)]=async()=>{const _0x5cbabb=_0x4e6a32,_0x303835=doc(db,_0x5cbabb(0xc3e)+appId+_0x5cbabb(0x437),currentLiveGameId),_0x39c8e2=_0x23622e[_0x5cbabb(0x354)]+0x1;if(_0x39c8e2<_0xe7d967[_0x5cbabb(0x73e)]){const _0x27c3df={};Object[_0x5cbabb(0x4bc)](_0x23622e[_0x5cbabb(0xb73)])[_0x5cbabb(0x488)](_0x1d8b10=>{const _0x726074=_0x5cbabb;_0x27c3df[_0x726074(0x7a2)+_0x1d8b10+_0x726074(0x83c)]=![],_0x27c3df[_0x726074(0x7a2)+_0x1d8b10+_0x726074(0xc03)]=null;}),await updateDoc(_0x303835,{..._0x27c3df,'status':'question','currentQuestionIndex':_0x39c8e2,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x303835,{'status':_0x5cbabb(0xa1b)});};const _0x211260=document['getElementById'](_0x4e6a32(0x7ee));_0x211260&&(_0x211260[_0x4e6a32(0x847)]=()=>{const _0x2f2f67=_0x4e6a32;showConfirmation(_0x2f2f67(0x797),async()=>{const _0x361430=_0x2f2f67,_0x2986d5=doc(db,_0x361430(0xc3e)+appId+_0x361430(0x437),currentLiveGameId);await updateDoc(_0x2986d5,{'status':_0x361430(0xa1b)});});});}}async function handleGenerateParallelFromBank(_0x3712ee){const _0x125436=_0x26020e,_0x45a17b=document[_0x125436(0x44e)](_0x125436(0x594)),_0x547c1a=document['getElementById'](_0x125436(0xa6b));_0x547c1a[_0x125436(0xab0)][_0x125436(0x75b)](_0x125436(0x47d));const _0x4b514c=_0x125436(0x998)+_0x3712ee[_0x125436(0x255)]+_0x125436(0xc7d);_0x45a17b['insertAdjacentHTML'](_0x125436(0x87a),_0x4b514c);const _0x56d46f=document[_0x125436(0x44e)](_0x125436(0x1b4));try{const _0x358c2b=_0x3712ee[_0x125436(0x1c9)][_0x125436(0xd0b)]((_0x107946,_0x577be4)=>{const _0xed9df9=_0x125436;let _0x4312fe=_0x577be4+0x1+'.\x20'+(_0x107946[_0xed9df9(0xbbe)]||_0x107946[_0xed9df9(0xb16)])+'\x0a';if(_0x107946[_0xed9df9(0x3e3)])_0x4312fe+=_0x107946[_0xed9df9(0x3e3)][_0xed9df9(0xd0b)]((_0x361ae7,_0x5bb572)=>_0xed9df9(0xc82)+(_0x5bb572===_0x107946[_0xed9df9(0xa5b)]?_0xed9df9(0xc76):'')+'\x20'+_0x361ae7)[_0xed9df9(0xaa4)]('\x0a');else _0x107946[_0xed9df9(0x2a5)]&&(_0x4312fe+=_0xed9df9(0x4f4)+_0x107946[_0xed9df9(0x2a5)]);return _0x4312fe;})['join']('\x0a\x0a');_0x56d46f[_0x125436(0xb23)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x5a26aa=_0x125436(0x288)+_0x3712ee[_0x125436(0x255)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x358c2b+_0x125436(0xb29)+simpleMathPrompt+_0x125436(0x6c5),_0x50e4eb={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x125436(0xbad),'short_answer',_0x125436(0x7e8),_0x125436(0x5b6)]},'options':{'type':_0x125436(0x7ca),'items':{'type':_0x125436(0x52a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x125436(0x533)},'stem':{'type':_0x125436(0x52a)},'correctResponse':{'type':_0x125436(0x52a)},'allResponses':{'type':_0x125436(0x7ca),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x125436(0x425),_0x125436(0x4b2)]},_0x3efa55={'type':_0x125436(0x51e),'properties':{'topic':{'type':_0x125436(0x52a)},'questions':{'type':_0x125436(0x7ca),'items':_0x50e4eb}},'required':['topic',_0x125436(0x1c9)]},_0x50c291=await callAnalysisApi(_0x5a26aa,_0x3efa55),_0x2f311c=_0x50c291[_0x125436(0x1c9)]['map']((_0xe340d8,_0x58f515)=>({..._0xe340d8,'id':'q_'+Date[_0x125436(0xc63)]()+'_'+_0x58f515})),_0x94f1eb=_0x125436(0x1e4)+_0x3712ee['topic'],_0x3e8ebe={'topic':_0x94f1eb,'questions':_0x2f311c,'quizType':_0x3712ee[_0x125436(0x31d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x125436(0x501)](),'status':_0x125436(0x57f),'settings':_0x3712ee[_0x125436(0x798)],'quizMode':_0x125436(0x776),'pairedQuizId':null,'lessonPlan':null};let _0xd2c3ba;while(!![]){_0xd2c3ba=Math[_0x125436(0x513)](0x3e8+Math[_0x125436(0x522)]()*0x2328)[_0x125436(0x1e5)]();const _0x2707f4=await getDoc(doc(db,_0x125436(0xc3e)+appId+_0x125436(0xa7d),_0xd2c3ba));if(!_0x2707f4[_0x125436(0xd0a)]())break;}await setDoc(doc(db,_0x125436(0xc3e)+appId+_0x125436(0xa7d),_0xd2c3ba),_0x3e8ebe),showMessage(_0x125436(0xa93));}catch(_0x1db38b){console['error']('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x1db38b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1db38b[_0x125436(0x9d4)]);}finally{const _0x10144c=document[_0x125436(0x44e)]('temp-loader-results');_0x10144c&&_0x10144c[_0x125436(0x48e)](),_0x547c1a[_0x125436(0xab0)]['remove'](_0x125436(0x47d));}}async function handleGenerateParallelPostTest(_0x11940a){const _0x1bc2eb=_0x26020e,_0x3ea607=document[_0x1bc2eb(0x44e)](_0x1bc2eb(0x594)),_0x700ee=document[_0x1bc2eb(0x44e)]('project-quizzes-list');_0x700ee[_0x1bc2eb(0xab0)][_0x1bc2eb(0x75b)](_0x1bc2eb(0x47d));const _0x539364='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3ea607['insertAdjacentHTML'](_0x1bc2eb(0x87a),_0x539364);try{const _0x190d9e=_0x11940a[_0x1bc2eb(0x1c9)][_0x1bc2eb(0xd0b)]((_0x14be80,_0xb61091)=>{const _0x5cea78=_0x1bc2eb;let _0x37aa53=_0xb61091+0x1+'.\x20'+(_0x14be80[_0x5cea78(0xbbe)]||_0x14be80[_0x5cea78(0xb16)]);if(_0x14be80[_0x5cea78(0x3e3)])_0x37aa53+=_0x5cea78(0x6f1)+_0x14be80[_0x5cea78(0x3e3)][_0x5cea78(0xaa4)](',\x20');return _0x37aa53;})[_0x1bc2eb(0xaa4)]('\x0a\x0a'),_0x52b71f=_0x1bc2eb(0x752)+_0x11940a[_0x1bc2eb(0x255)]+_0x1bc2eb(0xca5)+_0x190d9e+_0x1bc2eb(0x6ad)+simpleMathPrompt+_0x1bc2eb(0x6c5),_0x25254d={'type':_0x1bc2eb(0x51e),'properties':{'topic':{'type':_0x1bc2eb(0x52a)},'questions':{'type':_0x1bc2eb(0x7ca),'items':{'type':_0x1bc2eb(0x51e),'properties':{'questionText':{'type':_0x1bc2eb(0x52a)},'questionType':{'type':_0x1bc2eb(0x52a)},'options':{'type':_0x1bc2eb(0x7ca),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1bc2eb(0x877)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x1bc2eb(0xbbe),_0x1bc2eb(0x4b2)]}}},'required':[_0x1bc2eb(0x255),_0x1bc2eb(0x1c9)]},_0x5e9088=await callAnalysisApi(_0x52b71f,_0x25254d),_0x1d2348=_0x11940a[_0x1bc2eb(0x255)][_0x1bc2eb(0x558)](_0x1bc2eb(0xc5f),'')[_0x1bc2eb(0x30d)](),_0x1e44bd='(หลังเรียน)\x20'+_0x1d2348,_0x1055d5={..._0x5e9088,'topic':_0x1e44bd,'quizType':_0x11940a['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1bc2eb(0x501)](),'status':'active','settings':_0x11940a[_0x1bc2eb(0x798)],'quizMode':_0x1bc2eb(0x2d0),'pairedQuizId':_0x11940a['id']};let _0x21754c;while(!![]){_0x21754c=Math['floor'](0x3e8+Math[_0x1bc2eb(0x522)]()*0x2328)[_0x1bc2eb(0x1e5)]();const _0x26e11c=await getDoc(doc(db,_0x1bc2eb(0xc3e)+appId+_0x1bc2eb(0xa7d),_0x21754c));if(!_0x26e11c[_0x1bc2eb(0xd0a)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x1bc2eb(0xa7d),_0x21754c),_0x1055d5);const _0x182bed=doc(db,_0x1bc2eb(0xc3e)+appId+_0x1bc2eb(0xa7d),_0x11940a['id']);await updateDoc(_0x182bed,{'pairedQuizId':_0x21754c}),showMessage(_0x1bc2eb(0xac3));}catch(_0x406747){console[_0x1bc2eb(0x2fe)](_0x1bc2eb(0x874),_0x406747),showMessage(_0x1bc2eb(0x93f)+_0x406747[_0x1bc2eb(0x9d4)]);}finally{const _0x5bae49=document['getElementById'](_0x1bc2eb(0x197));if(_0x5bae49)_0x5bae49[_0x1bc2eb(0x48e)]();_0x700ee[_0x1bc2eb(0xab0)][_0x1bc2eb(0x48e)](_0x1bc2eb(0x47d));}}async function handleGenerateParallelTest(_0x506272=null){const _0x10bce8=_0x26020e;let _0x3a1a49=_0x506272;if(!_0x3a1a49){const _0x4f9b76=document['getElementById'](_0x10bce8(0xc48));_0x4f9b76['files'][_0x10bce8(0x73e)]>0x0&&(_0x3a1a49=_0x4f9b76[_0x10bce8(0x6c2)][0x0]);}if(!_0x3a1a49){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x2809fd=document[_0x10bce8(0x44e)]('loader'),_0x15127f=document[_0x10bce8(0x44e)](_0x10bce8(0x734)),_0x270a71=document[_0x10bce8(0x44e)]('generated-quiz-container'),_0x478d06=document[_0x10bce8(0x44e)]('generate-from-parallel-test-btn');_0x478d06['disabled']=!![],document['getElementById'](_0x10bce8(0x439))[_0x10bce8(0xab0)]['remove']('hidden'),_0x270a71[_0x10bce8(0x4c4)]='',_0x2809fd[_0x10bce8(0xab0)][_0x10bce8(0x48e)]('hidden'),_0x15127f[_0x10bce8(0xb23)]=_0x10bce8(0xc99);const _0x1d9bff=new FileReader();_0x1d9bff[_0x10bce8(0x56e)](_0x3a1a49),_0x1d9bff['onload']=async()=>{const _0x43b7fc=_0x10bce8;try{const _0x2d2f21=_0x1d9bff['result'][_0x43b7fc(0x232)](',')[0x1],_0x15444c=_0x3a1a49[_0x43b7fc(0x3c9)];_0x15127f[_0x43b7fc(0xb23)]=_0x43b7fc(0x7f7);const _0x297a81=document[_0x43b7fc(0x44e)](_0x43b7fc(0x9d2))['checked'],_0x2568f5=_0x297a81?_0x43b7fc(0x458):'',_0x5d3bf4=_0x43b7fc(0xc5d),_0x187434={'type':_0x43b7fc(0x51e),'properties':{'questionText':{'type':_0x43b7fc(0x52a)},'questionType':{'type':'STRING','enum':[_0x43b7fc(0xbad),_0x43b7fc(0x500)]},'options':{'type':_0x43b7fc(0x7ca),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x43b7fc(0x877)},'idealAnswer':{'type':_0x43b7fc(0x52a)},'explanation':{'type':_0x43b7fc(0x52a)},'imageCode':{'type':_0x43b7fc(0x52a)}},'required':['questionText','questionType',_0x43b7fc(0x4b2)]},_0x5d65e4={'type':_0x43b7fc(0x51e),'properties':{'topic':{'type':_0x43b7fc(0x52a)},'questions':{'type':_0x43b7fc(0x7ca),'items':_0x187434}},'required':[_0x43b7fc(0x255),'questions']},_0x7879c4=[{'text':_0x5d3bf4},{'inlineData':{'mimeType':_0x15444c,'data':_0x2d2f21}}];await handleApiCall(_0x7879c4,_0x43b7fc(0x1ef),_0x5d65e4);}catch(_0x378072){console['error'](_0x43b7fc(0x56b),_0x378072),showMessage(_0x43b7fc(0x93f)+_0x378072[_0x43b7fc(0x9d4)]),_0x270a71[_0x43b7fc(0x4c4)]=_0x43b7fc(0x5ef);}finally{_0x2809fd[_0x43b7fc(0xab0)][_0x43b7fc(0x75b)](_0x43b7fc(0x47d)),_0x478d06[_0x43b7fc(0x993)]=![];}},_0x1d9bff[_0x10bce8(0x5d0)]=_0x38a246=>{const _0x24736f=_0x10bce8;console[_0x24736f(0x2fe)]('FileReader\x20error:',_0x38a246),showMessage(_0x24736f(0x96b)),_0x2809fd['classList'][_0x24736f(0x75b)](_0x24736f(0x47d)),_0x478d06[_0x24736f(0x993)]=![];};}async function handleRegenerateQuestionInEditor(_0x52f97f){const _0x26d02b=_0x26020e;if(currentEditingQuizData===null)return;const _0x61c20b=document[_0x26d02b(0x6ca)]('.question-editor-item[data-q-index=\x22'+_0x52f97f+'\x22]');_0x61c20b&&(_0x61c20b[_0x26d02b(0x4c4)]=_0x26d02b(0x1a9));const _0x18aeb4=currentEditingQuizData[_0x26d02b(0x1c9)][_0x52f97f],_0x1a97f8=currentEditingQuizData[_0x26d02b(0x255)],_0x19f8ad=_0x18aeb4['questionType'],_0x2210b9={'type':_0x26d02b(0x51e),'properties':{'questionText':{'type':_0x26d02b(0x52a)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x26d02b(0x3e3),_0x26d02b(0xa5b),_0x26d02b(0x4b2)]},_0x8e304c={'type':_0x26d02b(0x51e),'properties':{'questionText':{'type':_0x26d02b(0x52a)},'idealAnswer':{'type':_0x26d02b(0x52a)},'explanation':{'type':_0x26d02b(0x52a)}},'required':[_0x26d02b(0xbbe),_0x26d02b(0x2a5),_0x26d02b(0x4b2)]};let _0x518f87,_0x1a4aa5='';_0x19f8ad==='multiple_choice'?(_0x518f87=_0x2210b9,_0x1a4aa5=_0x26d02b(0x562)):(_0x518f87=_0x8e304c,_0x1a4aa5=_0x26d02b(0xafc));const _0x279b1c=_0x26d02b(0x9d9)+_0x1a97f8+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x1a4aa5+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x18aeb4[_0x26d02b(0xbbe)]||_0x18aeb4['stem'])+_0x26d02b(0xcfe)+simpleMathPrompt;try{const _0x7c1fb7=await callAnalysisApi(_0x279b1c,_0x518f87);currentEditingQuizData['questions'][_0x52f97f]={..._0x18aeb4,..._0x7c1fb7},renderQuizEditor(currentEditingQuizData);}catch(_0x33ac38){console[_0x26d02b(0x2fe)](_0x26d02b(0x3a0),_0x33ac38),showMessage(_0x26d02b(0x5cd)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x54d387=_0x26020e,_0x18f802=document[_0x54d387(0x44e)](_0x54d387(0x256));currentMode===_0x54d387(0x62d)?(currentMode=_0x54d387(0x713),_0x18f802[_0x54d387(0x4c4)]=_0x54d387(0x343),_0x18f802[_0x54d387(0x9c2)]=_0x54d387(0x297),showView('admin-dashboard')):(currentMode=_0x54d387(0x62d),_0x18f802['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x18f802[_0x54d387(0x9c2)]=_0x54d387(0xa0c),showView('student'));}function handleAdminLogin(){const _0x363900=_0x26020e,_0x537c69=document[_0x363900(0x44e)](_0x363900(0x753)),_0x342364=document['getElementById'](_0x363900(0x51c));if(_0x537c69[_0x363900(0x6ea)]===_0x363900(0x6e6)){adminPasswordModal[_0x363900(0xab0)][_0x363900(0x75b)](_0x363900(0x47d)),_0x537c69[_0x363900(0x6ea)]='',_0x342364['classList'][_0x363900(0x75b)](_0x363900(0x47d)),currentMode=_0x363900(0x713);const _0xae0f1=document['getElementById'](_0x363900(0x256));_0xae0f1[_0x363900(0x4c4)]=_0x363900(0x343),_0xae0f1[_0x363900(0x9c2)]='สลับไปโหมดนักเรียน',showView(_0x363900(0x5c1));}else _0x342364[_0x363900(0xab0)][_0x363900(0x48e)](_0x363900(0x47d)),_0x537c69['value']='';}function switchProjectTab(_0x4c500e){const _0x388346=_0x26020e;[_0x388346(0x307),_0x388346(0x497),_0x388346(0x85d)][_0x388346(0x488)](_0x2a82c3=>{const _0x54d875=_0x388346;document['getElementById'](_0x2a82c3+'-tab')['classList'][_0x54d875(0x48e)](_0x54d875(0x57f)),document['getElementById'](_0x2a82c3+_0x54d875(0x699))['classList'][_0x54d875(0x75b)](_0x54d875(0x47d));}),document['getElementById'](_0x4c500e+_0x388346(0x5b3))[_0x388346(0xab0)][_0x388346(0x75b)](_0x388346(0x57f)),document[_0x388346(0x44e)](_0x4c500e+_0x388346(0x699))[_0x388346(0xab0)][_0x388346(0x48e)](_0x388346(0x47d));}function switchQuizDetailTab(_0xce0a6e){const _0x3bb46b=_0x26020e,_0x28019d={'analytics':{'btn':_0x3bb46b(0xb2d),'content':_0x3bb46b(0x18f)},'scores':{'btn':_0x3bb46b(0xaff),'content':_0x3bb46b(0x6f6)},'leaderboard-quiz':{'btn':_0x3bb46b(0x68d),'content':_0x3bb46b(0x5b2)},'behavior-log':{'btn':_0x3bb46b(0x6ab),'content':_0x3bb46b(0x29f)}};for(const _0x117912 in _0x28019d){document[_0x3bb46b(0x44e)](_0x28019d[_0x117912][_0x3bb46b(0x767)])[_0x3bb46b(0xab0)][_0x3bb46b(0x48e)](_0x3bb46b(0x57f)),document[_0x3bb46b(0x44e)](_0x28019d[_0x117912][_0x3bb46b(0x25a)])['classList'][_0x3bb46b(0x75b)]('hidden');}document['getElementById'](_0x28019d[_0xce0a6e][_0x3bb46b(0x767)])[_0x3bb46b(0xab0)][_0x3bb46b(0x75b)](_0x3bb46b(0x57f)),document[_0x3bb46b(0x44e)](_0x28019d[_0xce0a6e][_0x3bb46b(0x25a)])[_0x3bb46b(0xab0)][_0x3bb46b(0x48e)]('hidden');}function showMessage(_0xfcce91,_0x48aa59=null){const _0x519afe=_0x26020e;modalMessage[_0x519afe(0xb23)]=_0xfcce91,modalConfirmAction=_0x48aa59,messageModal['classList'][_0x519afe(0x48e)](_0x519afe(0x47d));}function showConfirmation(_0x428af1,_0x25de7c){const _0x5d588e=_0x26020e;document[_0x5d588e(0x44e)]('confirmation-message')['textContent']=_0x428af1,document[_0x5d588e(0x44e)]('confirmation-modal')[_0x5d588e(0x6ca)]('h3')[_0x5d588e(0xb23)]=_0x5d588e(0x2b4),confirmAction=_0x25de7c,confirmationModal[_0x5d588e(0xab0)][_0x5d588e(0x48e)](_0x5d588e(0x47d));}function listenForProjects(){const _0x56db7b=_0x26020e,_0x14cd97=doc(db,_0x56db7b(0xcfb),_0x56db7b(0x53f));onSnapshot(_0x14cd97,_0x5c628c=>{const _0x144d5a=_0x56db7b;if(_0x5c628c[_0x144d5a(0xd0a)]()){const _0x570dd1=_0x5c628c[_0x144d5a(0xb97)]();globalDashboardSettings[_0x144d5a(0x1c0)]=_0x570dd1[_0x144d5a(0x1c0)]||'date_desc',globalDashboardSettings[_0x144d5a(0x7da)]=_0x570dd1[_0x144d5a(0x7da)]||[],globalDashboardSettings['projectOrder']=_0x570dd1['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0xd257be=collection(db,_0x56db7b(0xc3e)+appId+_0x56db7b(0x828));unsubscribeProjectsListener=onSnapshot(_0xd257be,_0x3d01b8=>{const _0x41dc9e=_0x56db7b;allProjects=_0x3d01b8['docs'][_0x41dc9e(0xd0b)](_0x354698=>({'id':_0x354698['id'],..._0x354698[_0x41dc9e(0xb97)]()})),renderProjects();},_0x3ce683=>{console['error']('Error\x20listening\x20for\x20projects:',_0x3ce683),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x26cbcd,_0x3a5f3f){const _0x5ecc0c=_0x26020e;document[_0x5ecc0c(0xb04)](_0x5ecc0c(0x8f9))[_0x5ecc0c(0x488)](_0x2f0680=>_0x2f0680[_0x5ecc0c(0x48e)]());const _0x411bde=['#FFFFFF',_0x5ecc0c(0x605),_0x5ecc0c(0x485),_0x5ecc0c(0x1d2),_0x5ecc0c(0x2e5),_0x5ecc0c(0x813),_0x5ecc0c(0xac0),_0x5ecc0c(0x7dd),'#E5E7EB'],_0x5537c1=document['createElement'](_0x5ecc0c(0xb39));_0x5537c1['className']=_0x5ecc0c(0x97b),_0x411bde['forEach'](_0x3d8a81=>{const _0x5ec343=_0x5ecc0c,_0x3f1ac5=document['createElement'](_0x5ec343(0xb39));_0x3f1ac5[_0x5ec343(0xa9d)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x3f1ac5[_0x5ec343(0x456)]['backgroundColor']=_0x3d8a81,_0x3f1ac5[_0x5ec343(0xb41)](_0x5ec343(0x560),()=>{const _0x287a9c=_0x5ec343;handleProjectColorChange(_0x3a5f3f,_0x3d8a81),_0x5537c1[_0x287a9c(0x48e)]();}),_0x5537c1[_0x5ec343(0xccd)](_0x3f1ac5);}),document[_0x5ecc0c(0x859)]['appendChild'](_0x5537c1);const _0x4857d3=_0x26cbcd[_0x5ecc0c(0x4db)]();_0x5537c1[_0x5ecc0c(0x456)][_0x5ecc0c(0x23b)]=_0x4857d3[_0x5ecc0c(0x741)]+window[_0x5ecc0c(0xc8c)]+'px',_0x5537c1[_0x5ecc0c(0x456)][_0x5ecc0c(0xa90)]=_0x4857d3[_0x5ecc0c(0xa90)]+window[_0x5ecc0c(0x900)]-_0x5537c1['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x38a12e,_0x1bceac){const _0x26e765=_0x26020e,_0x5198df=doc(db,_0x26e765(0xc3e)+appId+'/public/data/projects',_0x38a12e);try{await updateDoc(_0x5198df,{'color':_0x1bceac});}catch(_0x258586){console[_0x26e765(0x2fe)](_0x26e765(0x8c2),_0x258586),showMessage(_0x26e765(0xa3e));}}async function renderProjects(){const _0x512979=_0x26020e,_0x2e44f3=globalDashboardSettings[_0x512979(0x1c0)]||_0x512979(0x879),_0x155e54=new Set(globalDashboardSettings[_0x512979(0x7da)]||[]),_0x1c302e=globalDashboardSettings[_0x512979(0x789)]||_0x512979(0x784),_0x249ae9=document[_0x512979(0x44e)]('grid-view-btn'),_0x5c1135=document[_0x512979(0x44e)]('list-view-btn');_0x249ae9[_0x512979(0xab0)]['toggle']('active',_0x1c302e===_0x512979(0x784)),_0x5c1135['classList']['toggle'](_0x512979(0x57f),_0x1c302e==='list'),document[_0x512979(0x44e)](_0x512979(0x401))[_0x512979(0x6ea)]=_0x2e44f3;const _0x595f9d=document[_0x512979(0x44e)](_0x512979(0xbd8))[_0x512979(0x6ea)]['toLowerCase']();let _0x1176f7=allProjects['filter'](_0x81df6=>_0x81df6['projectName']['toLowerCase']()[_0x512979(0xae9)](_0x595f9d));const _0x5807f7=_0x1176f7[_0x512979(0x1f5)](_0x25a1d1=>_0x155e54[_0x512979(0x2cf)](_0x25a1d1['id'])),_0x5b773c=_0x1176f7[_0x512979(0x1f5)](_0x34d380=>!_0x155e54[_0x512979(0x2cf)](_0x34d380['id'])),_0x3458a0=(_0x526cfa,_0x13495f)=>{const _0x1f0b74=_0x512979;switch(_0x2e44f3){case _0x1f0b74(0x4b3):return _0x526cfa[_0x1f0b74(0x8d8)]['localeCompare'](_0x13495f[_0x1f0b74(0x8d8)],'th');case _0x1f0b74(0x392):return _0x13495f[_0x1f0b74(0x8d8)][_0x1f0b74(0x4e8)](_0x526cfa[_0x1f0b74(0x8d8)],'th');case _0x1f0b74(0x186):return new Date(_0x526cfa['createdAt'])-new Date(_0x13495f[_0x1f0b74(0xa29)]);default:return new Date(_0x13495f['createdAt'])-new Date(_0x526cfa[_0x1f0b74(0xa29)]);}};_0x5807f7[_0x512979(0x80a)](_0x3458a0),_0x5b773c[_0x512979(0x80a)](_0x3458a0);const _0x2050f9=[..._0x5807f7,..._0x5b773c],_0x3c32ec=globalDashboardSettings[_0x512979(0x2ff)]||[];_0x3c32ec[_0x512979(0x73e)]>0x0&&_0x1c302e===_0x512979(0x784)&&_0x2050f9['sort']((_0x17fba3,_0x3fc05a)=>{const _0xa3f2f4=_0x3c32ec['indexOf'](_0x17fba3['id']),_0x303973=_0x3c32ec['indexOf'](_0x3fc05a['id']);if(_0xa3f2f4===-0x1)return 0x1;if(_0x303973===-0x1)return-0x1;return _0xa3f2f4-_0x303973;});const _0x4d3e91={};await Promise[_0x512979(0x3bc)](_0x2050f9[_0x512979(0xd0b)](async _0x1c8734=>{const _0x290e9b=_0x512979,_0x1c833c=query(collection(db,_0x290e9b(0xc3e)+appId+'/public/data/quizzes'),where(_0x290e9b(0xc0b),'==',_0x1c8734['id'])),_0x50ccbd=await getDocs(_0x1c833c);_0x4d3e91[_0x1c8734['id']]=_0x50ccbd[_0x290e9b(0x466)];}));const _0x3a15cf=document[_0x512979(0x44e)](_0x512979(0x742));let _0x44f089='';if(_0x1c302e===_0x512979(0x784)){_0x3a15cf[_0x512979(0xa9d)]=_0x512979(0x69a);if(starredQuizzes['length']>0x0&&_0x595f9d===''){const _0x224d3b=starredQuizzes[_0x512979(0xd0b)](_0x2f325f=>{const _0x417891=_0x512979,_0xf8c8cd=allProjects['find'](_0x2af0c4=>_0x2af0c4['id']===_0x2f325f['projectId']);return{..._0x2f325f,'projectName':_0xf8c8cd?_0xf8c8cd['projectName']:_0x417891(0x61d)};});_0x44f089+=_0x512979(0xa38)+_0x224d3b['map'](_0x17770b=>_0x512979(0xab4)+_0x17770b['topic']+'\x22>'+_0x17770b[_0x512979(0x255)]+_0x512979(0xb8b)+_0x17770b[_0x512979(0x8d8)]+_0x512979(0xc08)+_0x17770b[_0x512979(0x8d8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x512979(0xaa4)]('')+_0x512979(0x5c5)+starredQuizzes[_0x512979(0x73e)]+_0x512979(0x4eb);}_0x2050f9[_0x512979(0x488)](_0x1ecc9c=>{const _0x5ddec6=_0x512979,_0x4f2c95=_0x4d3e91[_0x1ecc9c['id']]??0x0,_0x3433b3=_0x155e54[_0x5ddec6(0x2cf)](_0x1ecc9c['id']),_0x523b6b=_0x1ecc9c[_0x5ddec6(0x303)]||_0x5ddec6(0x7bb),_0xab6822=parseInt(_0x523b6b[_0x5ddec6(0x9c1)](0x1,0x3),0x10)*0.299+parseInt(_0x523b6b[_0x5ddec6(0x9c1)](0x3,0x5),0x10)*0.587+parseInt(_0x523b6b[_0x5ddec6(0x9c1)](0x5,0x7),0x10)*0.114<0xba,_0xb71e3a=_0xab6822?_0x5ddec6(0xa8a):_0x5ddec6(0x626),_0x31aabe=_0xab6822?_0x5ddec6(0x454):_0x5ddec6(0x745);_0x44f089+=_0x5ddec6(0x823)+(_0x3433b3?_0x5ddec6(0x4f3):'border-gray-200')+_0x5ddec6(0x881)+_0x523b6b+_0x5ddec6(0x2ec)+_0x1ecc9c['id']+_0x5ddec6(0x9c8)+_0x1ecc9c['id']+_0x5ddec6(0x18b)+(_0xab6822?_0x5ddec6(0xa85):'text-gray-400\x20hover:text-indigo-600')+_0x5ddec6(0x26c)+_0x1ecc9c['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0xab6822?_0x5ddec6(0xa85):_0x5ddec6(0xbb4))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x3433b3?_0xab6822?_0x5ddec6(0x57b):_0x5ddec6(0x722):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x1ecc9c['id']+_0x5ddec6(0xc66)+_0xb71e3a+_0x5ddec6(0x1b2)+_0x1ecc9c[_0x5ddec6(0x8d8)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x31aabe+_0x5ddec6(0x60a)+new Date(_0x1ecc9c[_0x5ddec6(0xa29)])[_0x5ddec6(0x592)](_0x5ddec6(0x600))+_0x5ddec6(0x4c8)+(_0xab6822?_0x5ddec6(0xc38):'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x4f2c95+_0x5ddec6(0x1a5)+_0x1ecc9c['id']+_0x5ddec6(0x28f)+_0x1ecc9c[_0x5ddec6(0x8d8)]+_0x5ddec6(0x477)+(_0xab6822?'text-red-300\x20hover:text-red-100':'text-red-500\x20hover:text-red-700')+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x3a15cf[_0x512979(0xa9d)]=_0x512979(0x37e),starredQuizzes[_0x512979(0x73e)]>0x0&&_0x595f9d===''&&(_0x44f089+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x512979(0x73e)]+_0x512979(0x799)),_0x44f089+=_0x512979(0xc45),_0x2050f9['forEach'](_0x44e64d=>{const _0x1f861b=_0x512979,_0x2fc455=_0x4d3e91[_0x44e64d['id']]??0x0,_0x27f69e=_0x155e54[_0x1f861b(0x2cf)](_0x44e64d['id']);_0x44f089+=_0x1f861b(0xb1b)+(_0x44e64d[_0x1f861b(0x303)]||_0x1f861b(0x6ba))+_0x1f861b(0x7b8)+_0x44e64d['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x44e64d['projectName']+_0x1f861b(0x29c)+_0x2fc455+_0x1f861b(0xc9d)+new Date(_0x44e64d[_0x1f861b(0xa29)])[_0x1f861b(0x24b)](_0x1f861b(0x600))+_0x1f861b(0xc1c)+_0x44e64d['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x27f69e?_0x1f861b(0x722):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x44e64d['id']+_0x1f861b(0x28f)+_0x44e64d['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x512979(0x4c4)]=_0x44f089,noProjectsMsg[_0x512979(0xab0)][_0x512979(0x8ce)](_0x512979(0x47d),_0x44f089[_0x512979(0x73e)]>0x0);}document[_0x26020e(0x44e)](_0x26020e(0x84e))[_0x26020e(0xb41)](_0x26020e(0x560),async()=>{const _0x27d9d1=_0x26020e,_0x4aa330=document[_0x27d9d1(0x44e)](_0x27d9d1(0x759)),_0x332a67=_0x4aa330[_0x27d9d1(0x6ea)][_0x27d9d1(0x30d)]();if(!_0x332a67){showMessage(_0x27d9d1(0x1a8));return;}try{const _0x4e1130=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x4e1130,{'projectName':_0x332a67,'students':[],'settings':{'resultsDisplay':_0x27d9d1(0xbb1),'shuffleSetting':_0x27d9d1(0x334),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x27d9d1(0x334),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x27d9d1(0x501)]()}),_0x4aa330['value']='',createProjectModal[_0x27d9d1(0xab0)][_0x27d9d1(0x75b)](_0x27d9d1(0x47d)),showMessage(_0x27d9d1(0x9da));}catch(_0x58e7ea){console[_0x27d9d1(0x2fe)]('Error\x20creating\x20project:',_0x58e7ea),showMessage(_0x27d9d1(0x6a0));}}),projectList[_0x26020e(0xb41)](_0x26020e(0x560),async _0x4374ce=>{const _0x4e949d=_0x26020e,_0x177b1a=_0x4374ce[_0x4e949d(0x440)][_0x4e949d(0xcf9)]('.project-card-content'),_0x114dd5=_0x4374ce[_0x4e949d(0x440)][_0x4e949d(0xcf9)]('.delete-project-btn'),_0x53bf03=_0x4374ce[_0x4e949d(0x440)][_0x4e949d(0xcf9)]('.pin-project-btn'),_0x2e5a11=_0x4374ce[_0x4e949d(0x440)][_0x4e949d(0xcf9)](_0x4e949d(0xcef));if(_0x53bf03){const _0x31a01c=_0x53bf03[_0x4e949d(0xd00)]['id'],_0x4647a1=doc(db,_0x4e949d(0xcfb),_0x4e949d(0x53f)),_0x585a11=globalDashboardSettings[_0x4e949d(0x7da)];let _0x2b3e3b;_0x585a11[_0x4e949d(0xae9)](_0x31a01c)?_0x2b3e3b=_0x585a11[_0x4e949d(0x1f5)](_0x8cb49=>_0x8cb49!==_0x31a01c):_0x2b3e3b=[..._0x585a11,_0x31a01c];try{await setDoc(_0x4647a1,{'pinnedProjects':_0x2b3e3b},{'merge':!![]});}catch(_0xb6fb8b){console[_0x4e949d(0x2fe)]('Error\x20updating\x20pin\x20status:',_0xb6fb8b),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x2e5a11){const _0x5aeb3c=_0x2e5a11[_0x4e949d(0xd00)]['id'];showColorPalette(_0x2e5a11,_0x5aeb3c);}else{if(_0x177b1a){const _0x3273be=_0x177b1a[_0x4e949d(0xd00)]['id'];_0x3273be===_0x4e949d(0x2f3)?showStarredProjectView():(currentProjectId=_0x3273be,await loadProjectDetails(currentProjectId),showView(_0x4e949d(0xb15)));}else{if(_0x114dd5){const _0xb43620=_0x114dd5[_0x4e949d(0xd00)]['id'],_0x29a046=_0x114dd5[_0x4e949d(0xd00)][_0x4e949d(0x7c3)];showConfirmation(_0x4e949d(0x67d)+_0x29a046+_0x4e949d(0x350),()=>handleDeleteProject(_0xb43620));}}}}}),projectList['addEventListener']('dragstart',_0x37e487=>{const _0x35210d=_0x26020e,_0x4130d8=_0x37e487['target'][_0x35210d(0xcf9)]('.project-card-container');_0x4130d8&&_0x4130d8[_0x35210d(0xab0)][_0x35210d(0x75b)](_0x35210d(0x990));}),projectList[_0x26020e(0xb41)](_0x26020e(0x7e9),_0x36b076=>{const _0x1772b3=_0x26020e,_0x327ac2=_0x36b076[_0x1772b3(0x440)][_0x1772b3(0xcf9)](_0x1772b3(0x872));_0x327ac2&&_0x327ac2[_0x1772b3(0xab0)][_0x1772b3(0x48e)](_0x1772b3(0x990));}),projectList[_0x26020e(0xb41)](_0x26020e(0x2df),_0x3d52b4=>{const _0x50c830=_0x26020e;_0x3d52b4[_0x50c830(0x1b0)]();const _0x5a7947=document['querySelector'](_0x50c830(0x9a8));if(!_0x5a7947)return;const _0xce3a20=getDragAfterElement(projectList,_0x3d52b4[_0x50c830(0x386)]);_0xce3a20==null?projectList[_0x50c830(0xccd)](_0x5a7947):projectList[_0x50c830(0x398)](_0x5a7947,_0xce3a20);}),projectList['addEventListener']('drop',_0x9f72ae=>{const _0x1324be=_0x26020e;_0x9f72ae[_0x1324be(0x1b0)]();const _0x33b7a5=[...projectList[_0x1324be(0xb04)](_0x1324be(0xcdb))][_0x1324be(0xd0b)](_0x4d8053=>_0x4d8053[_0x1324be(0xd00)]['id']);saveProjectOrder(_0x33b7a5);});function renderBehaviorLog(_0x456586){const _0x373b42=_0x26020e,_0x305f12=document[_0x373b42(0x44e)](_0x373b42(0x837));if(!_0x305f12)return;const _0x5382c0=_0x456586[_0x373b42(0x1f5)](_0x28136a=>_0x28136a['behaviorLog']&&_0x28136a['behaviorLog']['length']>0x0);if(_0x5382c0['length']===0x0){_0x305f12[_0x373b42(0x4c4)]=_0x373b42(0x97d);return;}let _0x3fe424='';_0x5382c0[_0x373b42(0x488)](_0x325155=>{const _0x2d4a9f=_0x373b42;_0x3fe424+=_0x2d4a9f(0xb59)+_0x325155[_0x2d4a9f(0x775)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x325155[_0x2d4a9f(0x1c1)][_0x2d4a9f(0x80a)]((_0x4f42a7,_0x38b173)=>new Date(_0x38b173['timestamp'])-new Date(_0x4f42a7[_0x2d4a9f(0x843)]))['forEach'](_0x41750c=>{const _0x266d2a=_0x2d4a9f,_0x28b971=new Date(_0x41750c[_0x266d2a(0x843)])['toLocaleString'](_0x266d2a(0x600),{'dateStyle':'short','timeStyle':'medium'});_0x3fe424+=_0x266d2a(0xa21)+_0x41750c['attemptNumber']+_0x266d2a(0x90f)+_0x28b971+_0x266d2a(0x240);}),_0x3fe424+=_0x2d4a9f(0x4d3);}),_0x305f12['innerHTML']=_0x3fe424;}function getDragAfterElement(_0x40bd53,_0x2c4310){const _0x1a5dd5=_0x26020e,_0xcb3895=[..._0x40bd53['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0xcb3895[_0x1a5dd5(0xbe4)]((_0x29757e,_0x474a21)=>{const _0x477857=_0x1a5dd5,_0x1ae1b9=_0x474a21['getBoundingClientRect'](),_0x1e6288=_0x2c4310-_0x1ae1b9[_0x477857(0x23b)]-_0x1ae1b9[_0x477857(0xa8f)]/0x2;return _0x1e6288<0x0&&_0x1e6288>_0x29757e[_0x477857(0xb5c)]?{'offset':_0x1e6288,'element':_0x474a21}:_0x29757e;},{'offset':Number[_0x1a5dd5(0x999)]})[_0x1a5dd5(0x6cf)];}async function saveProjectOrder(_0x41bbea){const _0x9d4a15=_0x26020e,_0x28ef52=doc(db,_0x9d4a15(0xcfb),_0x9d4a15(0x53f));try{await setDoc(_0x28ef52,{'projectOrder':_0x41bbea},{'merge':!![]});}catch(_0x375e6e){console[_0x9d4a15(0x2fe)]('Error\x20saving\x20project\x20order:',_0x375e6e),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x5bf641,_0xa921ad={}){const _0x42c1ea=_0x26020e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x42c1ea(0x4fe)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x23eebc=doc(db,_0x42c1ea(0xc3e)+appId+_0x42c1ea(0xa6e)+currentQuizData['id']+'/submissions',currentStudentName),_0x224d63={'event':_0x5bf641,'timestamp':new Date()[_0x42c1ea(0x501)](),..._0xa921ad};try{await updateDoc(_0x23eebc,{'behaviorLog':arrayUnion(_0x224d63)}),console[_0x42c1ea(0x824)](_0x42c1ea(0xbdb)+currentStudentName+'\x20สำเร็จ');}catch(_0x13679c){_0x13679c[_0x42c1ea(0x8cd)]===_0x42c1ea(0x720)?console['warn'](_0x42c1ea(0x476)+currentStudentName+_0x42c1ea(0x351)):console['error']('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x13679c);}}function calculateMeanAndStdDev(_0x1a0324){const _0x4ccf9d=_0x26020e;if(_0x1a0324[_0x4ccf9d(0x73e)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3ad32d=_0x1a0324[_0x4ccf9d(0xbe4)]((_0xb4f182,_0x32b14e)=>_0xb4f182+_0x32b14e,0x0)/_0x1a0324[_0x4ccf9d(0x73e)];if(_0x1a0324['length']===0x1)return{'mean':_0x3ad32d,'stdDev':0x0};const _0x6177a3=Math[_0x4ccf9d(0x41d)](_0x1a0324[_0x4ccf9d(0xd0b)](_0x14f99e=>Math[_0x4ccf9d(0x8e3)](_0x14f99e-_0x3ad32d,0x2))[_0x4ccf9d(0xbe4)]((_0x2701f3,_0x4d9506)=>_0x2701f3+_0x4d9506,0x0)/(_0x1a0324[_0x4ccf9d(0x73e)]-0x1));return{'mean':_0x3ad32d,'stdDev':_0x6177a3};}function calculateZScore(_0x563c91,_0x43cabb,_0x2be495){if(_0x2be495===0x0)return 0x0;return(_0x563c91-_0x43cabb)/_0x2be495;}function calculateTScore(_0x45af7f){return 0xa*_0x45af7f+0x32;}function showStarredProjectView(){const _0x5d40ec=_0x26020e;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0x5d40ec(0x9f2),projectIdDisplay['textContent']=_0x5d40ec(0x6fd),showView(_0x5d40ec(0xb15)),manageTab[_0x5d40ec(0xab0)][_0x5d40ec(0x75b)](_0x5d40ec(0x47d)),leaderboardTab[_0x5d40ec(0xab0)]['add'](_0x5d40ec(0x47d)),switchProjectTab(_0x5d40ec(0x497)),renderQuizzes();}async function loadProjectDetails(_0x155544){const _0x47fb2b=_0x26020e,_0x70a121=doc(db,_0x47fb2b(0xc3e)+appId+_0x47fb2b(0x828),_0x155544),_0x4a5dd3=await getDoc(_0x70a121);if(_0x4a5dd3[_0x47fb2b(0xd0a)]()){manageTab[_0x47fb2b(0xab0)][_0x47fb2b(0x48e)](_0x47fb2b(0x47d)),leaderboardTab['classList'][_0x47fb2b(0x48e)](_0x47fb2b(0x47d)),currentProjectData=_0x4a5dd3['data'](),projectTitle['textContent']=currentProjectData['projectName'],projectIdDisplay[_0x47fb2b(0xb23)]=_0x155544;const _0x510bdf=currentProjectData['settings']||{};document['getElementById'](_0x47fb2b(0xc6b))['value']=_0x510bdf['shuffleSetting']||'none';const _0x628a0=document['getElementById'](_0x47fb2b(0x2bc));_0x628a0['checked']=_0x510bdf[_0x47fb2b(0x967)]!==![];const _0x485978=document[_0x47fb2b(0x44e)](_0x47fb2b(0x4ff)),_0x36c0b0=document[_0x47fb2b(0x44e)]('passcode-input-container'),_0xc967a4=document['getElementById'](_0x47fb2b(0x85a)),_0x20a566=_0x510bdf[_0x47fb2b(0x782)]||![];_0x485978['checked']=_0x20a566,_0xc967a4['value']=_0x510bdf[_0x47fb2b(0x6a1)]||'',_0x36c0b0[_0x47fb2b(0xab0)][_0x47fb2b(0x8ce)](_0x47fb2b(0x47d),!_0x20a566),_0x485978[_0x47fb2b(0xa66)]=()=>{const _0x4bd7f6=_0x47fb2b;_0x36c0b0[_0x4bd7f6(0xab0)][_0x4bd7f6(0x8ce)]('hidden',!_0x485978[_0x4bd7f6(0x8ab)]);},document[_0x47fb2b(0x44e)]('confidence-scoring-checkbox')[_0x47fb2b(0x8ab)]=_0x510bdf[_0x47fb2b(0x5e4)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x155544),listenForProjectQuizzes(_0x155544),listenForStudentProfiles(_0x155544);}else showMessage('ไม่พบโปรเจค'),showView(_0x47fb2b(0x5c1));}async function handleResetProjectOrder(){const _0x1c188f=_0x26020e,_0x1d257f=doc(db,_0x1c188f(0xcfb),'dashboardConfig');try{await setDoc(_0x1d257f,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1c188f(0x9a5));}catch(_0x506329){console[_0x1c188f(0x2fe)](_0x1c188f(0xba2),_0x506329),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x1bffd6){const _0x3b11c8=_0x26020e;if(!_0x1bffd6)return;const _0x3f366a=doc(db,'artifacts/'+appId+_0x3b11c8(0x828),_0x1bffd6);try{const _0x51a613=await getDoc(_0x3f366a);if(_0x51a613['exists']()){const _0x12987d=_0x51a613[_0x3b11c8(0xb97)]()[_0x3b11c8(0x43e)]||![];await updateDoc(_0x3f366a,{'isPinned':!_0x12987d});}}catch(_0x5a4995){console[_0x3b11c8(0x2fe)](_0x3b11c8(0x1b6),_0x5a4995),showMessage(_0x3b11c8(0x55f));}}async function handleDeleteProject(_0x5a908c){const _0xeb30c9=_0x26020e;try{const _0x1ca3b4=writeBatch(db),_0x264753=collection(db,_0xeb30c9(0xc3e)+appId+_0xeb30c9(0xa7d)),_0x455b42=query(_0x264753,where(_0xeb30c9(0xc0b),'==',_0x5a908c)),_0x166a91=await getDocs(_0x455b42);for(const _0x1fb363 of _0x166a91[_0xeb30c9(0x8d6)]){const _0x43a718=collection(db,'artifacts/'+appId+_0xeb30c9(0xa6e)+_0x1fb363['id']+_0xeb30c9(0xab1)),_0x3db4b8=await getDocs(_0x43a718);_0x3db4b8[_0xeb30c9(0x488)](_0x6ceec2=>{const _0x2aa638=_0xeb30c9;_0x1ca3b4['delete'](_0x6ceec2[_0x2aa638(0xc3f)]);}),_0x1ca3b4['delete'](_0x1fb363['ref']);}const _0x30b6d0=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x5a908c+_0xeb30c9(0xc6f)),_0x30b89e=await getDocs(_0x30b6d0);_0x30b89e[_0xeb30c9(0x488)](_0x151dfc=>{const _0x20cfcf=_0xeb30c9;_0x1ca3b4[_0x20cfcf(0x63c)](_0x151dfc['ref']);});const _0x234ed9=doc(db,_0xeb30c9(0xc3e)+appId+_0xeb30c9(0x828),_0x5a908c);_0x1ca3b4[_0xeb30c9(0x63c)](_0x234ed9),await _0x1ca3b4['commit'](),showMessage(_0xeb30c9(0x1af)),showView(_0xeb30c9(0x5c1));}catch(_0x2ec7b3){console['error']('Error\x20deleting\x20project:',_0x2ec7b3),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x26020e(0x44e)](_0x26020e(0x360))[_0x26020e(0xb41)](_0x26020e(0x560),async()=>{const _0x592456=_0x26020e;if(!currentProjectId)return;const _0x1f2bf5={'defaultNumQuestions':parseInt(document['getElementById'](_0x592456(0x6c8))[_0x592456(0x6ea)]),'defaultNumChoices':parseInt(document[_0x592456(0x44e)](_0x592456(0x772))[_0x592456(0x6ea)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x592456(0x6ea)]),'resultsDisplay':document[_0x592456(0x44e)](_0x592456(0x2f8))['value'],'shuffleSetting':document[_0x592456(0x44e)](_0x592456(0xc6b))[_0x592456(0x6ea)],'timerMode':document['getElementById'](_0x592456(0x4a3))['value'],'timerDuration':parseInt(document['getElementById'](_0x592456(0x3ad))['value']),'isConfidenceScoringEnabled':document[_0x592456(0x44e)]('confidence-scoring-checkbox')[_0x592456(0x8ab)],'confidenceMode':document[_0x592456(0x44e)]('confidence-mode-select')[_0x592456(0x6ea)]};try{const _0x435304=doc(db,_0x592456(0xc3e)+appId+_0x592456(0x828),currentProjectId);await updateDoc(_0x435304,{'settings':_0x1f2bf5}),showMessage(_0x592456(0xaf8));}catch(_0x238356){console[_0x592456(0x2fe)](_0x592456(0x922),_0x238356),showMessage(_0x592456(0x8db));}});function _0x421b(){const _0x3a9344=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','fileShortcutOrder','project-title','multiple_choice','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','matching','show_results_and_answers','อัปเดตสถานะสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-400\x20hover:text-indigo-600','):\x20','topic-tab','quiz-leaderboard-table-container','ลิมิต','ไม่พบตารางสำหรับ\x20Export','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-present-btn','เปิดใช้งาน','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','questionText','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','first_try_ace','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนครับ','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','.ai-content\x20p','#ffffff','fileShortcutsConfig','thead\x20.sortable-header','อัตราและอัตราหน่วย','leaderboard-table-body','.bp-delete-topic-btn','\x20คู่\x20','API\x20Error\x20Body:','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','Action:\x20View\x20existing\x20lesson.','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','file-shortcut-name-input','user','loop-until-pass-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','Error\x20submitting\x20team\x20answer:','AI\x20grading\x20failed:','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','additional-shortcuts-list','project-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','อัปเดตพฤติกรรมสำหรับ\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','สมการตรีโกณมิติ','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','confirm-game-start-btn','Error\x20opening\x20quiz\x20editor:','reduce','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','question','bank-quiz-search-input','Error\x20deleting\x20submission:','data:application/vnd.ms-word;charset=utf-8,','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','</h4>','หยุดระบบจับเวลาหรี่หน้าจอ','\x20ครั้ง)</span></td>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','s;\x22\x20title=\x22','ไม่พบข้อมูลแบบทดสอบ','bg-green-100\x20font-bold','mousedown','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','สมการค่าสัมบูรณ์','fullscreenElement','math-topics-checkbox-container','สร้างคำถามแบบเติมคำในช่องว่าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-btn','mainTopic','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','แก้ไขสูตรคณิตศาสตร์\x20','results-table-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.topic-category','confirm-team-players-btn','ไม่พบโปรเจค','p-2\x20bg-black/10\x20rounded-md','.lastAnswerIndex','ผ่าน','Error\x20listening\x20for\x20custom\x20math\x20topics:','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','Error\x20fetching\x20student\x20rankings:','\x22>จาก:\x20','confirmation-modal','key','projectId','Blueprint\x20O-NET\x20ป.6','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','bp-project-title','Error\x20fetching\x20quiz\x20settings:','contentEditable','answer-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','summary_chart','whole_quiz','q-explanation-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x20จุด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-shortcut-menu-btn','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ลบผลสอบของ\x20','hint-btn','.move-file-shortcut-dropdown','Auto-linking\x20new\x20quiz\x20','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','ผู้ไม่ยอมแพ้','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','ฟังก์ชันค่าสัมบูรณ์','การประยุกต์เวกเตอร์พื้นฐาน','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','.parallel-shortcut-tab-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','(หลังเรียน)\x20','endTime','justification','พื้นที่สี่เหลี่ยม','.view-bp-lesson-btn','border-red-300\x20bg-red-50','กรุณาเลือกโปรเจคก่อน','text-gray-100','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','bank-input-area','Error\x20deleting\x20shortcut:','สุดยอด!\x20ตอบถูกทุกข้อ','<p\x20class=\x22text-xl\x22>','artifacts/','ref','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','blueprint-settings-modal','คณิตการเงิน/บูรณาการ','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','shortcutTabs','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','msExitFullscreen','กรุณาพิมพ์คำตอบ','parallel-test-upload-input','\x20สำเร็จ','ค่าเสื่อมราคา','ปริพันธ์จำกัด','\x20mr-2\x22></i>','lowerGroupResponders','sum','Error\x20updating\x20project\x20name:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','globalCompositeOperation','ค่าคลาดเคลื่อนของการวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</span></td>','dragstart','จำนวนเชิงซ้อน\x20(เสริม)','เพิ่มหัวข้อ\x20\x22','Could\x20not\x20fetch\x20reference\x20file:','GlobalWorkerOptions','parallel-default-2','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','deltaY','(ก่อนเรียน)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพเวนน์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','Error\x20comparing\x20results:','start-live-race-generated-btn','decode','<p><strong>คำตอบของคุณ:</strong>\x20','shuffle-setting-select','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','คะแนน','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','/studentProfiles','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','end-team-quiz-btn','exitFullscreen','typesetPromise','[data-topic-id]','[*]','quiz-id-input','Error\x20joining\x20activity:','ค่าความจริง/ตารางค่าความจริง','export-image-btn','mandatory','การคูณ','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ร้อยละประยุกต์','input[name=\x22drill_answer\x22]:checked','asc','open-quiz-bank-btn','\x20\x20\x20-\x20','cancel-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','เศษส่วน\x20(ย่อ/ขยาย)','หน่วยเวลาและการคำนวณเวลา','findIndex','unshift','student-view','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','หมดเวลา!\x20กำลังส่งคำตอบ...','scrollY','Loaded\x20','.quiz-bank-item','analytics','documentElement','\x20ตัวเลือก)','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','table','subTopic','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x22>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','.tab-name-display','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','คณิตศาสตร์','quiz-form','Error\x20generating\x20worksheet:','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','answers','player-list-lobby','...','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','Error\x20confirming\x20players:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','.subTopic','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ชื่อหัวข้อห้ามว่าง','start-game-btn','translate(','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-student-btn','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-list-item:not(.opacity-50)','.start-game-btn','/users/','.move-file-shortcut-menu-btn','ย้าย','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','ยังไม่ส่ง','อัปเดตการตั้งค่าของแบบทดสอบ\x20','คัดลอกไม่สำเร็จ','</option>','center','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','3310KrVyqy','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','แบบทดสอบซ่อมเสริม','quiz','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','rgba(59,\x20130,\x20246,\x200.7)','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','editable-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bp-add-topic-btn','rgba(255,\x20255,\x200,\x200.5)','<div\x20class=\x22flex-1\x22></div>','back-to-student-initial-btn','appendChild','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ตรีโกณมิติ','.edit-hidden-shortcut-btn','.kick-player-btn-sync','.edit-question-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','answer-grid-container','คะแนนเต็ม!','Error\x20loading\x20user\x20preferences:','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','times','bg-gray-500','.project-card-container[data-id]','student-quiz-leaderboard-table-body','blur','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','Error\x20saving\x20user\x20preference:','student-progress-content','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','text/html','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','view-my-progress-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน\x20','text-emerald-800','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','generated','Error\x20verifying\x20answers\x20in\x20editor:','.color-palette-btn','delete-svg-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','</td></tr>','highlighter-tools-group','game-pin-input','<p\x20class=\x22text-2xl\x22>','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','summaryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','closest','auto-fix-latex-btn','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20','</div></div></div>','dataset','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','reference-pdf-upload','กำลังจับคู่...','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','viewBox','reference_onet.pdf','</span></div>','requestFullscreen','save-quiz-btn','exists','map','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','complexityValue','file-shortcut-id-input','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','getElementsByTagName','move-quiz-modal','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','update','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','date_asc','เพิ่มรายการที่เลือก','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','กำลังอัปเดตแบบทดสอบ\x20','\x22\x20class=\x22color-palette-btn\x20','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','total','analytics-tab-content','save-blueprint-as-project-btn','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','copy-quiz-id-btn','temp-loader-results','export-word-btn','results_','.quiz-result-card','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','highlighter-size-value','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','<textarea\x20name=\x22question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','กรุณาใส่ชื่อโปรเจค','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','\x20from\x20sync\x20game:','.linkedQuizId','select[name=\x22question_single\x22]',',\x20r=','ลบโปรเจคสำเร็จแล้ว','preventDefault','tan','\x20pointer-events-none\x22>','admin-testing','temp-loader-text-results','responseSchema','Error\x20toggling\x20pin\x20status:','ปิดใช้งาน','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','open-sync-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','รูปสี่เหลี่ยมและสมบัติ','passcode-error-msg','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectSort','behaviorLog','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','open','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','(^|[^\x5c\x5c])\x5cb','สมการยกกำลัง','questions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-input-area','scratchpad-question','cancel-delete-btn','stdDev','เกิดข้อผิดพลาดในการบันทึกโปรเจค','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','behavior-log','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','กราฟฟังก์ชันตรีโกณ','.application-options\x20button','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','Error\x20rendering\x20student\x20progress:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','\x20|\x20','student-name-selection-view','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','touchcancel','เส้นตรง:\x20ขนาน/ตั้งฉาก','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','manual-blueprint-modal','(คู่ขนาน)\x20','toString','parallel-shortcut-id-input','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','closePath','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','difficulty-level-select','pointerType','student-quiz-leaderboard-tab','.generate-content-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.quiz-settings-btn','การคูณทศนิยม','preTScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','modal-shuffle-select','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','quiz-editor-modal','input[type=\x22text\x22]','perfect_score_status','fa-shield-alt\x20text-gray-600','close-comparison-modal-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','add-from-global-bank-btn','answer','การแปลงรูปอัตลักษณ์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','back-to-student-home-btn','เพิ่ม\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','removeChild','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','values','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','scratchpad-controls','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','กรุณาป้อนรหัสแบบทดสอบ','shortcut-reference-url-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ผลรวมอนุกรม\x20(Σ)','onload','bp-reference-file-url','numChoices','move-quiz-project-select','อยู่ในหัวข้อหลักใด:','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','rename-quiz-modal','กำลังกลับเข้าสู่เกม\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ลบโปรเจคสำเร็จ','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.live-answer-btn','G-V90KRM0L63','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดคลังข้อสอบได้','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','รอ...','#open-additional-parallel-shortcuts-btn','parse','slide-counter','แก้ไขข้อนี้','student-name-select','6117732yzpkUF','ความชันเส้นสัมผัส','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','tooltipTarget','[data-topic-container-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','-options','close-lesson-view-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','isAdaptive','sin','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-red-800','mouseleave','จำนวนนักเรียน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','multiply','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','score-distribution-chart','verify-answers-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fill_in_no_choices','redo-btn','pointercancel','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20in\x20generating\x20from\x20files:','\x5ccdot','\x22\x20value=\x22false\x22\x20','สอบซ่อม','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','ความต่อเนื่อง','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','.game-start-btn','topic','mode-switcher-btn','latestScore','แก้ไขปุ่มลัดจากไฟล์','startsWith','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','export-leaderboard-pdf-btn','#10B981','save','\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','group','Error\x20showing\x20quiz\x20detail\x20view:','/public/data/blueprintProjects/','input[name=\x22status-option\x22]:checked','Error\x20saving\x20blueprint\x20project:','empty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20generate\x20practice\x20test:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เริ่มกิจกรรม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcutOrder','open-global-live-btn','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-topic-input','Error\x20renaming\x20quiz:','targetId','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','.tab-name-input','rgba(16,\x20185,\x20129,\x200.7)','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','โดเมนและเรนจ์','\x22>ไม่ใช่</p>','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<div\x20class=\x22','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','scheduled','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','พีชคณิตและฟังก์ชัน','open-blueprint-projects-btn','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','focus','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','ปริมาตร/ความจุและการแปลง','members','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x5ctimes','.ideal-answer-input,\x20.correct-response-input','Failed\x20to\x20end\x20group\x20mode\x20game:','สลับไปโหมดนักเรียน','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','comparison-modal','\x5cle','export-compact-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','parallel-default-1','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','behavior-log-tab-content','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','question-analytics-container','.file-topic-selection-btn','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','idealAnswer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','results-quiz-title','text','.ai-fix-question-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','show_pass_fail_only','\x20รายการ...','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ยืนยันการกระทำ','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','วงรี','latestSubmittedAt','setFont','AI\x20Formula\x20Fix\x20Error:','find','touchstart','show-in-student-dashboard-checkbox','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','รากที่สองและที่สาม','link-url-input','ตรวจพบการออกจากหน้าจอครบ\x20','bulk-confidence-scoring-checkbox','file-default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','รูปสแควร์รูท\x20(surd)','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','/public/data/learnedFixes','getContext','student-reading-area','cancel-global-activity-btn','กำลังสร้างคำถามข้อ\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','additional-file-shortcuts-list','has','post-test','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-btn','bp-modal-num-choices','wheel','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.delete-shortcut-btn','https://drive.google.com/uc?export=download&id=','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','dimmed','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pointsLastQuestion','summary','dragover','keyConcepts','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','responses','STOP','#DBEAFE','กรุณาเลือกโปรเจคที่ต้องการบันทึก','Authentication\x20failed:','lesson-plan-content','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','cancel-test-btn',';\x22\x20data-id=\x22','createObjectURL','parallel-test-tab','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gameData','ไม่สามารถโหลดรายการโปรเจคได้','Error\x20deleting\x20student:','starred-project','document','เกิดข้อผิดพลาดในการติดดาว','show-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','results-display-select','.delete-svg-btn','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','.move-parallel-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','error','projectOrder','เส้นรอบรูป','กำลังดึงข้อมูลจากลิงก์...','questionId','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','parallel-shortcuts-loading-msg','Error\x20listening\x20for\x20starred\x20quizzes:','manage','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','removeItem','#math-topics-checkbox-container\x20input:checked','export-lesson-to-pdf-btn','trim','topic-bank-subtopic-name','.regenerate-question-editor-btn','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','approx','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','isFinished','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','เกิดข้อผิดพลาดในการจับคู่','.edit-hidden-file-shortcut-btn','insertAdjacentHTML','indexOf','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','quizType','\x20ตอบ','.quiz-status-btn','ถูกต้อง!','leq','Original\x20quiz\x20not\x20found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','comparison-individual-tab','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','.use-hidden-file-shortcut-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','bulk-loop-until-pass-checkbox','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-canvas','สมมาตร\x20(แกน/จุด)','adaptive-quiz-checkbox','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','ตรวจทานเฉลยเสร็จสิ้น!','none','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','การหาร','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','lesson-loader','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':</span><span>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','(ไม่มีชื่อ)','cancel-admin-login-btn','\x22\x20สำเร็จ!','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','.linkedQuizIds','<p><strong>คำตอบที่แนะนำ:</strong>\x20','from','confirm-link-quiz-btn','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','solution','ai-quiz-app-aefee.firebaseapp.com','passcode-prompt-message','input[name=\x22team_player\x22]:checked','lobby','topic-input','.ideal-answer-input','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','currentQuestionIndex','[data-field=\x22subTopic\x22]','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','mouse','การลบเศษส่วน','shadowBlur','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','input[type=\x22checkbox\x22]:checked','เรขาคณิต','ค.ร.น.\x20(LCM)','save-settings-btn','text-yellow-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','<i\x20class=\x22fas\x20fa-save\x22></i>','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','url','quiz-leaderboard-table','เกิดข้อผิดพลาดในการอัปเดต:\x20','#view-rankings-btn','quiz-search-input','Invalid\x20response\x20structure\x20from\x20AI.','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','pointsLastQuestion','แผนการสอน','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save-bp-reference-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.parallel-quiz-btn','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://corsproxy.io/?','border-green-700','.bp-open-topic-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','file-shortcut-modal-title','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','flex\x20flex-col\x20gap-2','questions_only','Error\x20listening\x20for\x20student\x20profiles:','grid-view-btn','จำนวนเต็มบวก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','user-id-display','ร้อยละพื้นฐาน','clientY','worksheet-topic-input','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','ผู้เชี่ยวชาญ','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','postScore','\x5cneq','Sync\x20Mode','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','สร้างแบบทดสอบปรนัย','name_desc','eraser-tool-btn','option','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','insertBefore','\x22><span>','perfect_score','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tool-btn','Error\x20regenerating\x20question\x20in\x20editor:','</li>','cancel-file-shortcut-edit-btn','.topic-name-display','pointer-events-none','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','<li>','worksheet-tab','bp-modal-shuffle-setting-select','shortcut-editor-modal','sync','label[for=\x22num-questions\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','timer-duration-input','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','<i\x20class=\x22fas\x20fa-pen\x22></i>','normal','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','มุมพิเศษ\x2045°-45°-90°','strokeStyle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','Error\x20updating\x20quiz\x20settings:','loopUntilPass','.delete-hidden-file-shortcut-btn','all','จุด\x20เส้น\x20ระนาบ','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x20quizzes\x20into\x20global\x20cache.','Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.','.cancel-edit-topic-btn','default-2','baseVal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','type','select-all-topics-btn','พิมพ์ตอบ','autoTable','fromCharCode','textarea[name=\x22team_answer\x22]','main-correct-answer-display','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','live-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','transparent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','lessonPlan','line-through\x20text-red-700','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<button\x20data-id=\x22','.rename-quiz-btn','pin','lesson-sections-container','.move-parallel-shortcut-item','startedAt','options','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','opacity','</h3>','ต้นฉบับ\x202','Error\x20fetching\x20projects\x20for\x20move:','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','กรุณาเลือกโปรเจคปลายทาง','bg-blue-500\x20hover:bg-blue-600\x20text-white','promptFeedback','bp-modal-difficulty-level-select','results-tab','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ยังไม่สร้าง','raw','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label></div>','rgba(79,\x2070,\x20229,\x201)','#open-additional-shortcuts-btn','PERFECT_SCORE','<li\x20class=\x22','parts','pre-test','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','activeGameSession','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','project-sort-select','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','sync-manage-players-btn','ฟังก์ชันสัมพัทธ์\x20(rational)','ceil','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x22\x20data-target-tab-id=\x22','confirm-bulk-quiz-settings-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22checkbox\x22]','\x20ข้อ...','student-name-input','lower_group_count','generate-worksheet-btn','modal-passing-score-input','.ai-content\x20h3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','Failed\x20to\x20kick\x20player\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-text-','<button\x20data-shortcut-id=\x22','.edit-parallel-shortcut-btn','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','quadraticCurveTo','outerHTML','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','.move-file-shortcut-item','sqrt','116242fvtQji','team-student-list','Error\x20processing\x20file\x20for\x20AI:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-passcode-input','.scratchpad-content-wrapper','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','questionType','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้หมดเวลาแล้ว','position','ไม่ได้ตอบ','$1\x5c%','\x5cdiv','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','modal-confidence-scoring-checkbox','modal-timer-mode-select','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','bp-modal-passing-score-input','<span\x20class=\x22font-bold\x20','timerDuration','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','fas\x20fa-star\x20text-yellow-500','/public/data/syncGames','loader','quiz-generation-area','next-sync-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-input','ห.ร.ม.\x20(GCD)','isPinned','<button\x20data-tab-id=\x22','target','quick_thinker','gradeLevel','applicationData','save-game-results-checkbox','การเรียงสับเปลี่ยน\x20(Permutation)','playerName','-\x20ข้อ\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','lastAnswerIndex','กลุ่มของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','getElementById','สถิติและความน่าจะเป็น','bg-green-100\x20text-green-800','false','nextElementSibling','student-team-join','text-gray-200','close','style','AI\x20แก้ไขคำถามสำเร็จ!','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','release','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','COMEBACK_KING','mixed','quiz-bank-modal','Error\x20adding\x20custom\x20topic:','size','mean','source-over','<span\x20class=\x22sort-indicator\x20ml-2\x22>','sync-short-answer-input','write','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.status','presentation-explanation','live-game','referenceFileUrl','stopPropagation','.confidence-choice-btn','.file-shortcut-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','ไม่พบเอกสารการส่งงานของ\x20','\x22\x20class=\x22delete-project-btn\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','</span><span\x20class=\x22font-bold\x22>','pen-tool-btn','manage-tab-content','timed','hidden','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','cos','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20สมการและสมบัติ','passingScore','modal-message','#FEF3C7','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','forEach','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','sync-matching-select','back-to-dashboard-btn','ก่อนเรียน','reference.txt','remove','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','passing-score-input','lastAnswerCorrect','add-shortcut-btn','modal-confidence-mode-select','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-quiz-btn','results','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','readAsArrayBuffer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','href','close-lesson-plan-modal-footer-btn','get','.sort-indicator','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-mode-select','Error\x20editing\x20topic:','<div\x20class=\x22space-y-4\x22>','จำนวนคู่:','per-question-options','lastIndexOf','/public/data/customMathTopics','ที่พิมพ์ได้\x20จำนวน\x20','per-question-text','ai-quiz-app-aefee.firebasestorage.app','topic-quiz-bank-modal','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x5cge','explanation','name_asc','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','หัวข้อที่สร้างเอง','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','prev-question-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x20\x0a\x20\x20\x20\x20','กำลังค้นหากิจกรรม...','ไม่พบข้อมูลการจับคู่','keys','[data-topic-id=\x22','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','text-input-area','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','suggestedAnswer','innerHTML','inactive','bg-black/20','ondragstart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','bg-green-200','admin-password-modal','pointermove','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<div\x20class=\x22my-6\x22>','rgba(239,\x2068,\x2068,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confidence-mode-container','Error\x20saving\x20file\x20shortcut\x20config:','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','แก้ไขหัวข้อสำเร็จ','choices_only','ปรับเพิ่ม/ลดเป็นร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBoundingClientRect','Error\x20saving\x20parallel\x20shortcut\x20config:','Error\x20generating\x20hybrid\x20quiz:','global-activity-quiz-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','บันทึกผลการเล่นเกมของ\x20','scrollIntoView','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','เกมสิ้นสุดลงแล้ว','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','bulk-quiz-settings-modal','localeCompare','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','practiceProblems','smooth','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20star\x20status:','groups','border-indigo-400\x20ring-2\x20ring-indigo-200','\x20\x20\x20-\x20คำตอบ:\x20','.move-shortcut-item','link-tab','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','เรขาคณิตวิเคราะห์','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','upper_group_count','eraser','cdot','warn','enable-passcode-checkbox','short_answer','toISOString','.\x20แต่ละข้อมี\x20','file-shortcut_','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','blueprint-project-list','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','ย้ายแบบทดสอบสำเร็จ','ไม่ผ่าน','removeEventListener','bg-red-200\x20text-red-800','\x20คนที่ส่ง\x20ตอบถูก\x20(','.draggable-text','drill-feedback','ข้อ\x20','generate-from-topic-btn','gain','floor','<option\x20value=\x22','application/pdf','กรุณาป้อนหัวข้อสำหรับใบงาน','index','.sortable-header','round','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','password-error-msg','correct','OBJECT','Error\x20unlinking\x20quiz:','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','subTopics','random','รูปแบบการให้เหตุผล','moveTo','.pdf','จับคู่แบบทดสอบสำเร็จ!','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</select>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','STRING','กรุณากรอกข้อมูลให้ครบทุกช่อง','bg-yellow-50','เนื้อหาสำหรับสอน:\x20','MathJax\x20re-render\x20failed:','close-comparison-modal-footer-btn','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','quizMode','เส้นจำนวน','BOOLEAN','getPage','starred','การแยกตัวประกอบ','.delete-parallel-shortcut-tab-btn','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','ระยะทางและจุดกึ่งกลาง','\x22\x20name=\x22confidence','confidence-scoring-description','totalQuestions','bar','\x22\x20value=\x22','dashboardConfig','หมดเวลาสำหรับข้อนี้!','กำลังสร้างแบบทดสอบ:\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและเริ่มสร้าง','shortcut-blueprint-url-input','keydown','\x20(สำหรับ\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','onloadend','numQuestions','selectedTopicNames','นำแบบทดสอบออกจากคลังนี้แล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ไม่พบข้อมูลโปรเจค','\x22\x20name=\x22question_single\x22\x20value=\x22','.topic-name-input','bg-yellow-100','toLowerCase','pre-test-checkbox','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','Error\x20loading\x20quiz\x20for\x20student:','.quiz-bank-try-btn','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','replace','Group\x20Mode','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','#student-project-leaderboard-content\x20thead','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','file-topics-list','เกิดข้อผิดพลาดในการปักหมุด','click','cursor','แบบปรนัย\x204\x20ตัวเลือก','.verification-result','leaderboard_','.delete-file-shortcut-tab-btn','team-player-status-grid','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','test','math-topic-search-input','custom-math-topic-input','Error\x20generating\x20from\x20parallel\x20test\x20file:','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','readAsDataURL','.bp-present-btn','_opt1\x22>ไม่ใช่</label></div>','close-additional-file-shortcuts-btn','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','รายการนี้','next-question-btn','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','half_mark_status','additional-shortcuts-modal','text-yellow-300','practice-topic-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','input','active','#000000','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-game-start-modal','quiz-editor-questions-container','Error\x20saving\x20shortcut\x20config:','.export-pdf-list-btn','lesson-view-title','isArray','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','firstScore','<div\x20class=\x22my-2\x22>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','shortcut_','confidence-choice-btn','บันทึกโปรเจค\x20\x22','toLocaleDateString','bg-red-500\x20text-white\x20font-bold','results-tab-content','.remove-file-shortcut-from-tab-btn','text-tab','MathJax','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','FIRST_TRY_ACE','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','getTextContent','student-join-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x22\x20data-quiz-id=\x22','numeric','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','prod','message-modal','copy','bg-green-400\x20text-white\x20font-bold','มัธยฐาน','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','ยังไม่เต็มนะ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','คัดลอกรหัสแล้ว!','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','change','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','bg-blue-100','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','leaderboard-quiz-tab-content','-tab','tabId','px)\x20scale(','matching_item','manual_release','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','...\x20(โค้ดส่วนนี้เหมือนเดิม)\x20...','ความแปรปรวน','.parallel-shortcut-btn','back-to-dashboard-from-bp-btn','generated-quiz-actions','admin-dashboard','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','.use-hidden-shortcut-btn','.delete-bp-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','Enter','Unexpected\x20API\x20response\x20structure:','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','.quiz-bank-settings-btn','keyup','screen','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','กรุณาเลือกคำตอบ','Error\x20starting\x20live\x20race:','onerror','live-options-container','กรุณาตั้งชื่อแท็บใหม่:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','shortcuts','additional-parallel-shortcuts-list','\x20รายการสำเร็จ!','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','isRemedial','trail','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','bank-quiz-list','includeImages','<span\x20title=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per_question','tGain','เกิดข้อผิดพลาดในการลบ','isConfidenceScoringEnabled','Error\x20unpairing\x20quizzes:','#open-additional-file-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','comparison-overall-tab','.edit-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','.png','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','blueprint-topics-list','fixedData','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','214392WBTkYb','bp-modal-include-images-checkbox','confident','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','ส่งคำตอบ','add-parallel-shortcut-tab-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','สร้างใหม่','/public/data/projects/','border-green-300\x20bg-green-50','การจัดกลุ่มข้อมูล','สร้างแล้ว','th-TH','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','confirm-passcode-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','#FEE2E2','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Fix\x20Error:','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','txt','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x20ข้อ\x20','<button\x20data-quiz-id=\x22','ตัวประกอบและตัวประกอบเฉพาะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','progress-student-select','file-topic-input','check-answer-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','bulk-quiz-settings-btn','timer-duration-container','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','generate-from-text-btn','Error\x20joining\x20live\x20game:','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','N/A','ทำคะแนนได้เกินครึ่ง','<div\x20class=\x22loader\x20mx-auto\x22></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20quiz\x20status:','topic-input-area','lineCap','canvas','text-indigo-800','desc','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','Action:\x20Generate\x20new\x20lesson.','originalTopic','doughnut','student','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','str','.bp-live-btn','score','scratchpad-modal','results-table','ฟังก์ชันเชิงเส้นและกราฟ','interesting-stats-wrapper','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','พบ\x20Team\x20Quiz!','delete','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','submittedAt','Blueprint\x201','จับคู่เพื่อเปรียบเทียบผล','teacherSuggestions','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การบวกทศนิยม','ผ่านฉลุย','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','#results-table\x20thead\x20tr','.lastAnswerCorrect','font-bold\x20text-red-700\x20line-through','fixed','.highlighter-color-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','คะแนนเต็ม','บันทึกแบบทดสอบสำเร็จแล้ว!','export-pdf-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','.txt','transition-all','disabled\x20bg-gray-400\x20cursor-not-allowed','.group','reset-project-order-btn','dispatchEvent','source_document.txt','.csv','file-shortcut-container','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','true','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','submission','หลังเรียน','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-timer-duration-container','show_results_only','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','quizId','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','close-game-final-btn','No\x20player\x20data\x20to\x20save.','modal-adaptive-quiz-checkbox','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','admin-view','bg-green-500\x20hover:bg-green-600\x20text-white','visible','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','difficultyValue','Error\x20calling\x20Gemini\x20API:','คัดลอกแบบทดสอบสำเร็จ','quiz-start-time','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจว่าต้องการลบแท็บนี้?','pathname','export-worksheet-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','.topic-actions-view','back-to-project-btn','helvetica','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','leaderboard-quiz-tab-btn','ไม่ใช่','\x22><i\x20class=\x22fas\x20','\x20/\x20','.shortcut-tab-btn','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','far\x20fa-star','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','border-indigo-500\x20text-indigo-600','setTransform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','-tab-content','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','toFixed','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','Error\x20clearing\x20all\x20links:','ยืนยันและอัปเดตทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','ไม่สามารถสร้างโปรเจคได้','passcode','game-start-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','start-presentation-btn','มุมพิเศษ\x2030°-60°-90°','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','behavior-log-tab-btn','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','finished','ส่งแล้ว','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','destroy','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','no-projects-msg','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','ค่าสัมบูรณ์','#E5E7EB','input[name=\x22question_single\x22]:checked','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','onblur','application/json','trail-tool-btn','กำลังสร้างรูปภาพ...','files','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','max','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','num-questions','question-complexity-select','querySelector','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','Error\x20saving\x20shortcut:','element','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ระยะจากจุดถึงเส้นตรง','pen-tools-group','modal-results-display-select','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','.unpair-quiz-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','touchend','mainTopics','schedule','blueprint.pdf','startTime','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','จากเนื้อหาต่อไปนี้:\x20\x22','Error\x20deleting\x20custom\x20topic:','$1\x20\x5cfrac','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','global-activity-modal','geq','```','MathJax\x20typeset\x20error\x20(analytics):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','27411472','comparison-individual-content','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','reset-view-btn','value','สู้ๆ\x20ลองอีกครั้งนะ','leaderboard-tab-content','จำนวนและการดำเนินการ','</body></html>','กำลังอ่านไฟล์อ้างอิง...','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','student-progress','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','file-default-','timer-duration-label','scores-tab-content','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','text/plain','การคูณเศษส่วน','null','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','hasPerfectScoreBonus','pinned-items','สมการเชิงเส้นตัวแปรเดียว','</a>','student-project-leaderboard-tab','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','</tbody></table></div>','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','Error\x20fetching\x20project\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','cancel-export-pdf-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x20กลุ่ม</p></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','confirm-confident','student-quiz-leaderboard-content','ไม่พบแบบทดสอบ','วงกลม:\x20คอร์ดและเส้นสัมผัส','rename-quiz-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','admin','กฎของไซน์','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','badgesCount','confirm-not-confident','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','.remove-shortcut-from-tab-btn','_opt1\x22\x20name=\x22question','cancel-quiz-edits-btn-footer','endsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','team-quiz-topic','not-found','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','submit-team-answer-btn','blueprint-options-container','กิจกรรมสิ้นสุดลงแล้ว','match','sync-submit-btn','cloneNode','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','parentElement','cancel-shortcut-edit-btn','pointContent','perseverance','svg','selected-answer-index-hidden','</td>','loader-text','px,\x20','ชนิดของข้อมูลและการเก็บข้อมูล','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','add-shortcut-tab-btn','pointerdown','<br>','file-shortcut-url-input','ยังไม่มีนักเรียนส่งงาน','length','currentTarget','AI\x20did\x20not\x20return\x20any\x20content.','bottom','project-list','\x20|\x20ID:\x20','add-file-shortcut-tab-btn','text-gray-500','student-quiz-area','setAttributeNS','devicePixelRatio','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x20จาก\x20','additional-parallel-shortcuts-modal','webkitExitFullscreen','สร้างแบบทดสอบ','ดอกเบี้ยทบต้น','blueprint-input-area','confirm-move-quiz-btn','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','admin-password-input','\x0a---\x0a','สัญกรณ์วิทยาศาสตร์','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','/public/data/liveGames','project-name-input','เรเดียนและการแปลงหน่วย','add','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','กราฟแท่ง\x20กราฟเส้น','student-project-leaderboard-content','projectSortOrder','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','อุณหภูมิและการแปลง','\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','text-red-900','retake-quiz-loop-btn','btn','\x22.\x20Ideal\x20Answer:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','AI\x20ไม่สามารถประมวลผลข้อมูลได้','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','questionStatus','num-choices','lowerGroupNames','input[type=\x22radio\x22][value=\x22','studentName','standard','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','memoryContent','then','instructions','ไม่มีผู้ตอบตัวเลือกนี้','parallel-shortcut-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','sara','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','</th>','isPasscodeEnabled','close-additional-parallel-shortcuts-btn','grid','bp-modal-question-complexity-select','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','questionDisplayedAt','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','projectView','\x22\x20data-topic=\x22','quiz-results-view','grabbing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','isDefault','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','innerText','เวกเตอร์และเมทริกซ์\x20(เสริม)','onkeydown','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','settings','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x27\x20ในหัวข้อ\x20\x27','live-short-answer-input','.shortcut-list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','numPages','Error\x20adding\x20students:','file-default-1','ไฮเพอร์โบลา','players.','some','Error\x20starting\x20group\x20quiz:','POST','quiz-settings-modal','<div>','not_confident','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','Error\x20generating\x20lesson\x20plan:','เกิดข้อผิดพลาดในการสร้าง:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','bulk-shuffle-select','fadeStartTime','Error\x20moving\x20quiz:','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','padStart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','icon','Error\x20analyzing\x20blueprint\x20topics:','(เลือกแล้ว\x20','.delete-shortcut-tab-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswer','#FFFFFF','stepByStepExamples','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','comparison-chart','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','name','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-quiz-topic','project-id-display','q-image-container-','perQuestionStats','lesson-view-modal','ARRAY','<div\x20class=\x22p-2\x20rounded-md\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Sync\x20Game!','รูปหลายเหลี่ยมและมุมภายใน',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','สรุปผลการวิเคราะห์:\x5cn','nickname-input','พิสัย','file-shortcut-tabs-nav','add-file-shortcut-btn','back-to-home-manual-release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','API\x20call\x20failed','pinnedProjects','fix\x20the\x20option','commit','#FCE7F3','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','fas\x20fa-user-edit','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','save-project-name-btn','SAFETY','frac','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','manual-create-blueprint-btn','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','close-topic-bank-btn','true_false','dragend','rgba(239,\x2068,\x2068,\x200.9)','ondragover','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','.pen-color-btn','end-sync-game-btn','(ก่อนเรียน)\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','Error\x20saving\x20file\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-green-800','บทเรียนเรื่อง:\x20','dfrac','visibilitychange','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','confidence','not_generated','Failed\x20to\x20get\x20standardized\x20topic:','</button>','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','พื้นที่สามเหลี่ยม','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','drop','\x20หัวข้อ)','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','ใช่','Error\x20confirming\x20players\x20for\x20sync\x20game:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','underline','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sort','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','.answers','shortcut-id-input','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','.copy-quiz-id-list-btn','.ai-content\x20td','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','#E0E7FF','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','postTScore','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','กรุณาใส่ชื่อใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','fill','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-content-input','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','log','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','/public/data/projects','shadowColor','parallelTestShortcutsConfig','text-emerald-900','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-50','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','Error\x20deleting\x20topic:','.isScored','Action:\x20Create\x20topic-based\x20Quiz.','bp-modal-num-questions','\x0a\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22\x5cn','behavior-log-container','undo-btn','groups.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','อยู่ในสาระการเรียนรู้ใด:','.answered','แบบทดสอบฝึกฝนเรื่อง:\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitRequestFullscreen','Error\x20saving\x20visibility\x20settings:','bg-green-200\x20text-green-800','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','timestamp','student-project-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','onclick','upperGroupResponders','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันแบบชิ้นส่วน','```json','cancel-bp-settings-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','confirm-create-project-btn','specialist','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','bg-black/10','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ข้อต่อไป','blueprint-project-manager-view','Error\x20pairing\x20quizzes:','Team\x20Quiz','selected-topics-count','bg-amber-100\x20text-amber-800','body','project-passcode-input','.score','กำลังสร้างแบบทดสอบ\x20\x22','leaderboard','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','qIndex','<p\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overallGroups','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','.mb-6.p-4','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','ตัวแปรและนิพจน์','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','ปุ่มลัดทั้งหมด','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','duration-300','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','Error\x20during\x20blueprint\x20link\x20cleanup:','http://www.w3.org/2000/svg','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','.project-card-container','ตอบถูกทุกข้อในแบบทดสอบนี้','Error\x20generating\x20parallel\x20post-test:','<h1></h1>','การแจกแจงปกติและ\x20z-score','NUMBER','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','date_desc','beforeend','Error\x20saving\x20game\x20results:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generationConfig','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','ระบบสมการเชิงเส้นสองตัวแปร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','fa-pen','parent','AI\x20request\x20was\x20blocked.\x20Reason:\x20','bestScore','upperGroupNames','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','createElement','confidenceMode','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','blueprintUrl','display','removeAttribute','isLooping','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','finishReason','.correct-response-input','totalPoints','arrayBuffer','bp-quiz-settings-btn','cancel-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','cancel-passcode-btn','qType','shortcutIds','rgba(79,\x2070,\x20229,\x200.8)','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','หน่วยความยาวและการแปลง','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','interesting-stats-container','.pair-quiz-btn','$$$1$','parallel-default-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','Error\x20verifying\x20answers:','ความสัมพันธ์ของมุม','.quiz-bank-delete-btn','bulk-confidence-mode-container','checked','slice','parallelShortcutOrder','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','applicationHTML','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.start-live-race-btn','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','topicId','ฟังก์ชันยกกำลัง','status','delete-all-students-btn','/preferences/main','confirm-admin-login-btn','%</span>','mousemove','contains','<svg','cancel-quiz-bank-btn','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Error\x20updating\x20project\x20color:','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','Error\x20adding\x20topic:','fa-bolt\x20text-blue-500','ไม่ระบุ','pdf','touchmove','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','default-1','input[type=\x22radio\x22]:checked','เส้นตรง:\x20รูปแบบสมการ','code','toggle','Firebase\x20initialization\x20failed:','.group\x5c/dropdown-parallel','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','string','blob','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','projectName','abs','\x22>ใช่</p>','ไม่สามารถบันทึกการตั้งค่าได้','Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.','ฟังก์ชันราก\x20(root)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','responses.','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','source_document.pdf','pow','submit-group-answer-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','เงินงวด\x20(อนุกรมเงินงวด)','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','mode','.ai-fix-formula-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-project-name','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','Error\x20generating\x20teaching\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20sync\x20game:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ON_FIRE','confidence_single','แก้ไขปุ่มลัด','category','.color-palette-popup','.star-quiz-btn','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','4acTGvd','scrollX','(ฉบับง่าย)\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ดูผลสรุปสุดท้าย','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ลำดับการดำเนินการ\x20(PEMDAS)','sync-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','commonMistakes','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','หัวข้อหลักใหม่','print','confirm-rename-quiz-btn','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','quiz-leaderboard-table-body','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','check-presentation-answer-btn','API\x20Error\x20Response:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','font-bold\x20text-green-700','แคลคูลัสเบื้องต้น','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','standardTopic','highlighter','highlighter-size-slider','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','fa-crown\x20text-yellow-500','shuffledQuiz','.duplicate-quiz-btn','(คัดลอก)\x20','authed_project_','\x22\x20สำเร็จ','Error\x20saving\x20settings:','questionIndex','confirm-quiz-status-btn','blueprint-shortcut-container','students','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','Error\x20starting\x20team\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','พื้นที่ใต้กราฟ/ระหว่างกราฟ','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','lineJoin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','comeback_king','ไฟล์ทั้งหมด','อสมการเชิงเส้น','attempts','</div></div>','referenceUrl','_blank','ดอกเบี้ยอย่างง่าย','beginPath','save-quiz-edits-btn','\x5csum','ai-quiz-app-aefee','allResponses','function','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','next-drill-btn','bg-red-500','select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','generate-from-blueprint-btn','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','countdown-display','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','text-purple-600','\x0a\x20\x20\x20\x20','confirm-delete-btn','curriculum','Error\x20clearing\x20linked\x20quiz:','\x20ใหม่...','div[data-question-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','earned-badges-container','parallel-test-input-area','bg-green-500','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','touch','analytics-summary-cards','answered','Error\x20displaying\x20blueprint\x20project:','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','fa-dumbbell\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','right','result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','overline','application','bulk-confidence-mode-select','showInStudentDashboard','shortcut-modal-title','#6366F1','Error\x20linking\x20quizzes:','เกิดข้อผิดพลาดในการอ่านไฟล์','เกิดข้อผิดพลาดในการลบแบบทดสอบ','answerText','ลำดับเรขาคณิต\x20(GP)','file-topics-list-container','pop','preTestId','goto-next-question-btn','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','pen','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','shouldSaveResults','กำลังสร้างแบบทดสอบจากหัวข้อ...','verify-answers-btn','คะแนนยังไม่ถึงครึ่ง','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x20(p=','แผนภาพกล่อง\x20(box\x20plot)','</div>\x0a</div>\x0a','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<p\x20class=\x22font-bold\x20text-sm\x20','ผิด','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.edit-shortcut-btn','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','คำถามถัดไป','/public/data/practiceBank','stringify','presentation-slide-container','กรุณาเลือกสถานะ','opacity-50','visibilityState','bg-emerald-100','disabled','live-race','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20blockquote','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','NEGATIVE_INFINITY','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ระยะเวลา\x20(วินาที):','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','stroke','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','substr','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','lesson-plan-modal','toDataURL','msRequestFullscreen','รีเซ็ตลำดับโปรเจคแล้ว','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','leaderboard-tab','.project-card-container.opacity-50','/public/data/blueprintProjects','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','answerValue','textarea','#F59E0B','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','Failed\x20to\x20get\x20hint:','/lessons','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','shortcut-name-input','quiz-end-time','ลบแบบทดสอบสำเร็จแล้ว','classStrengths','ความคาดหมาย\x20(Expected\x20value)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.open-bp-project-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','substring','title','text-blue-700\x20bg-blue-100','quiz-results','.doc','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','/public/data/teamQuizzes','เกิดข้อผิดพลาดในการนำผู้เล่นออก','per-q-countdown','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','createdBy','uid','include-images-checkbox','.edit-file-shortcut-btn','message','ondragend','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','325793sATzKl','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','สร้างโปรเจคสำเร็จ!','points','ไม่มี','transform','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','cancel-team-selection-btn','file-input-area','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','resize','timerMode','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','<p>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','touches','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bp-topic-list-container','<i\x20class=\x22fas\x20fa-magic\x22></i>','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','hint','แบบทดสอบที่ติดดาว','80hdRizl','cancel-move-quiz-btn','.bp-game-btn','setAttribute','Leaderboard\x20update\x20transaction\x20failed:\x20','confidence-modal','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-bp-settings-btn','.group\x5c/dropdown','\x20ชุด)</span>','.flex.justify-between.items-center','originalQuestionText','มุมและการวัดมุม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','set','learningGaps','checkbox','thead','\x22...','modal-confidence-mode-container','every','ยอดเยี่ยม!','modal-loop-until-pass-checkbox','การยืนยันตัวตนล้มเหลว','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตารางความถี่','setItem','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-bulk-quiz-settings-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','splice','fill_in_the_blank','strength-weakness-analysis-container','ยกเลิกการจับคู่สำเร็จ','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','download','podium','confidence-scoring-toggle','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','width','.bp-create-content-quiz-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','parallelShortcutTabs','parallel-shortcut-url-input','ดีมาก','topics','กำลังสร้างเนื้อหา:\x20','_opt0\x22>ใช่</label></div>','เกิดข้อผิดพลาดในการลบนักเรียน','createdAt','push','การบวกเศษส่วน','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','สมการลอการิทึม','.presentation-option','num-choices-container','เกิดข้อผิดพลาดในการสร้างใบงาน','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','lineWidth','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Error\x20updating\x20custom\x20topic:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1328514UizCBz','force-math-checkbox','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','default','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenchange','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','export-leaderboard-excel-btn','.delete-submission-btn','classWeaknesses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','ยกเลิกการเชื่อมโยงสำเร็จ','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','update-old-quizzes-btn','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','bg-gray-50','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พาราโบลา','#e21b3c','manual-bp-grade-level','correctAnswerIndex','topic_','entries','student-progress-view','isScored','cancel-blueprint-projects-btn','แบบทดสอบจากคลังส่วนตัว','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','presentation-ai-result','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','ไม่พบข้อมูลเกม','onchange','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','สำหรับโปรเจค:\x20','comparison-overall-content','confirm-join-game-btn','project-quizzes-list','text-green-700','button[type=\x22submit\x22]','/public/data/quizzes/','PERSEVERANCE','export-leaderboard-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','blockReason','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','td,\x20th','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.question-editor-item[data-q-index=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','Error\x20preparing\x20content\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','candidates','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','global-quiz-count','/public/data/quizzes','description','ปริมาตรรูปทรงสามมิติ','ยืนยันการจับคู่','</p></div>','</div>','lesson-view-content','ศูนย์','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-900','after','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การวัด','height','left','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','.shortcut-btn','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','อัปเดตแบบทดสอบเก่า\x20','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','original-mode-checkbox','request','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','block','ย้ายแบบทดสอบไปโปรเจคอื่น','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','className','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','modal-close-btn','การลบทศนิยม','ไฟล์ลัด\x202','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','join','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','.use-hidden-parallel-shortcut-btn','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','446721vwQJYb','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-modal','incorrect','.bp-generate-lesson-btn','quiz-type-select','classList','/submissions','start-quiz-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','flex','ส่วนเบี่ยงเบนเฉลี่ย','\x27,\x20\x27','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','ฟังก์ชันกำลังสองและกราฟ','back-to-dashboard-from-results-btn','กลุ่ม:\x20','scratchpad-header','#F3E8FF','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','อนุพันธ์:\x20กฎพื้นฐาน','\x20in\x20all\x20blueprint\x20projects.','รหัสไม่ถูกต้อง','.start-presentation-list-btn','point','กฎบวกและกฎคูณ','.delete-quiz-btn','shuffle','blueprint-upload-input','\x22\x20ออกจากคลังนี้?','export-tutor-pdf-btn','ไม่ใช่\x20/\x20ผิด','student-team-selection-view','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','answering','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','translate','list','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','Blueprint\x202','topics.','toDate','file-shortcut-editor-modal','.question-editor-item','เกิดข้อผิดพลาดในการบันทึก','400tbEpxH','2604UUTtKZ','Error\x20submitting\x20group\x20answer:','end-game-btn','2-digit','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','ทศนิยม\x20(ค่าประจำหลัก)','student-rankings-modal','generated-quiz-container','teacherTips','includes','Error\x20during\x20class\x20analysis:','แผนการสอน:\x20','.quiz-bank-checkbox:checked','cancel-quiz-status-btn','blueprint-projects-modal','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','isCorrect','ondrop','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าแล้ว','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','promise','neq','แบบเติมคำตอบ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<option>กำลังโหลดโปรเจค...</option>','scores-tab-btn','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','shortcut-tabs-nav','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','results-quiz-id-display','querySelectorAll','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fill_in_with_choices','additional-file-shortcuts-modal','.lastAnswerValue','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','tool','team','<tr><td\x20colspan=\x22','json','บันทึกคำถามใหม่\x20','student-list','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','student-initial-view','start-sync-game-btn','Error\x20saving\x20submission:','generate-from-link-btn','project-detail','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','ลบหัวข้อสำเร็จ','export-lesson-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','.answeredCurrentQuestion','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','</p><p><strong>เฉลย:</strong>\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','textContent','text-red-600','สร้างคำถามแบบใช่/ไม่ใช่','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','Error\x20saving\x20quiz\x20edits:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.save-custom-topic-btn','analytics-tab-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','.topic-actions-edit','.topic-row','ควรปรับปรุง','pointerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','join-group-activity-btn','#results-table','ฮิสโตแกรม','\x22\x20name=\x22question','div','Error\x20saving\x20lesson\x20to\x20project:','การบวก','save-shortcut-btn','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','.edit-quiz-btn','<tr>','getBBox','addEventListener','shortcutId','เปลี่ยนชื่อแบบทดสอบสำเร็จ','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','catch','generate-from-parallel-test-btn','bp-modal-quiz-type-select','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','generate-from-file-btn','both','Error\x20loading\x20blueprint\x20projects:','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','text/csv;charset=utf-8;','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','class','wasConfident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','correctResponse','ใช่\x20/\x20ถูก','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','.file-shortcut-btn[data-id=\x22','.generate-easy-version-btn','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','default-','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','offset','topicName','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','ai-quiz-generator-v3','scheduled_pending','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20resume\x20game\x20session:','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','topic-bank-list','bg-red-100','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','Failed\x20to\x20create/update\x20submission\x20record:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','พอใช้','เกิดข้อผิดพลาดในการส่งคำตอบ','.quiz-bank-move-btn','file.txt','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','currentMode','พื้นที่ผิวรูปทรงสามมิติ','applicationContent','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','Error\x20saving\x20quiz:','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','แท็บใหม่','confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','parseInline','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','ไม่พบข้อมูลหัวข้อที่จะบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','comparison','บทเรียน','<div\x20id=\x22q-image-container-','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','เกี่ยวกับหัวข้อ\x20\x22','องค์ประกอบของฟังก์ชัน','clientX','การแจกแจงทวินาม\x20(พื้นฐาน)','parallel-shortcut-editor-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','สร้างชุดคำถามจับคู่','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x20จุดเรียบร้อยแล้ว','handleGeneratePracticeTest','data','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','quiz-status-modal','เมทริกซ์:\x20บวก/คูณ','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<button\x20data-value=\x22','parallel-shortcut-name-input','separate-by-content-from-file-checkbox','ondblclick','lesson-loader-text','Error\x20resetting\x20project\x20order:','Error\x20joining\x20team\x20quiz:','pairedQuizId','mouseup','scale','lesson-plan-title','API\x20call\x20failed\x20with\x20status:\x20','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้'];_0x421b=function(){return _0x3a9344;};return _0x421b();}function listenForStudents(_0x4758dc){const _0x1f6d78=_0x26020e,_0x3c1187=doc(db,'artifacts/'+appId+_0x1f6d78(0x828),_0x4758dc);unsubscribeStudentsListener=onSnapshot(_0x3c1187,_0xfe46b6=>{const _0x462110=_0x1f6d78;if(_0xfe46b6[_0x462110(0xd0a)]()){const _0x3189aa=_0xfe46b6[_0x462110(0xb97)]();currentProjectData=_0x3189aa,renderStudentList(_0x3189aa[_0x462110(0x926)]||[]);}});}function renderStudentList(_0x1a0bd6){const _0xc55bdc=_0x26020e,_0x14a706=document[_0xc55bdc(0x44e)](_0xc55bdc(0x8b9));_0x1a0bd6[_0xc55bdc(0x73e)]===0x0?(studentList['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x14a706[_0xc55bdc(0xab0)]['add']('hidden')):(studentList['innerHTML']=_0x1a0bd6[_0xc55bdc(0xd0b)](_0x4a8bb8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4a8bb8+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x4a8bb8+_0xc55bdc(0xb78))[_0xc55bdc(0xaa4)](''),_0x14a706['classList'][_0xc55bdc(0x48e)]('hidden'));}document['getElementById']('add-student-btn')['addEventListener'](_0x26020e(0x560),async()=>{const _0x1d1912=_0x26020e;if(!currentProjectId)return;const _0x35d5e2=document[_0x1d1912(0x44e)](_0x1d1912(0x40c)),_0x44c0f5=_0x35d5e2[_0x1d1912(0x6ea)]['trim']();if(!_0x44c0f5){showMessage(_0x1d1912(0x201));return;}const _0x8c8fd0=_0x44c0f5[_0x1d1912(0x232)]('\x0a')[_0x1d1912(0xd0b)](_0x4478ae=>_0x4478ae['trim']())[_0x1d1912(0x1f5)](_0x21c7de=>_0x21c7de);if(_0x8c8fd0['length']===0x0)return;try{const _0x4af134=doc(db,_0x1d1912(0xc3e)+appId+_0x1d1912(0x828),currentProjectId),_0x43f6da=await getDoc(_0x4af134);if(_0x43f6da[_0x1d1912(0xd0a)]()){const _0x58d447=_0x43f6da[_0x1d1912(0xb97)]()[_0x1d1912(0x926)]||[],_0x18a333=[...new Set([..._0x58d447,..._0x8c8fd0])];await updateDoc(_0x4af134,{'students':_0x18a333}),_0x35d5e2[_0x1d1912(0x6ea)]='';}}catch(_0x4821af){console[_0x1d1912(0x2fe)](_0x1d1912(0x79f),_0x4821af),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x227691){const _0x382b1c=_0x26020e,_0x3b345c=document[_0x382b1c(0x44e)](_0x382b1c(0x181)),_0x337b07=document[_0x382b1c(0x44e)](_0x382b1c(0x21a)),_0x5c63b2=_0x3b345c[_0x382b1c(0x6ca)]('h3'),_0x357166=document[_0x382b1c(0x44e)]('confirm-move-quiz-btn'),_0x1e7027=document[_0x382b1c(0x44e)]('cancel-move-quiz-btn');_0x5c63b2[_0x382b1c(0xb23)]=_0x382b1c(0x644),_0x337b07[_0x382b1c(0x4c4)]=_0x382b1c(0x5c8),_0x357166['textContent']=_0x382b1c(0xa80),_0x3b345c[_0x382b1c(0xab0)][_0x382b1c(0x48e)](_0x382b1c(0x47d));const _0x3de835=allQuizzes[_0x382b1c(0x1f5)](_0xaa8e2a=>_0xaa8e2a['id']!==_0x227691);_0x3de835['length']===0x0?(_0x337b07[_0x382b1c(0x4c4)]=_0x382b1c(0xc28),_0x357166[_0x382b1c(0x993)]=!![]):(_0x337b07[_0x382b1c(0x4c4)]=_0x382b1c(0x790)+_0x3de835[_0x382b1c(0xd0b)](_0x59dba5=>_0x382b1c(0x514)+_0x59dba5['id']+'\x22>'+_0x59dba5['topic']+'</option>')[_0x382b1c(0xaa4)](''),_0x357166[_0x382b1c(0x993)]=![]);const _0x59105b=async()=>{const _0xf96417=_0x382b1c,_0x153c15=_0x337b07['value'];if(!_0x153c15){showMessage(_0xf96417(0x3b5));return;}_0x357166[_0xf96417(0x993)]=!![],_0x357166[_0xf96417(0xb23)]=_0xf96417(0xd03);try{const _0x46f850=doc(db,'artifacts/'+appId+_0xf96417(0xa7d),_0x227691),_0x4402c1=doc(db,_0xf96417(0xc3e)+appId+'/public/data/quizzes',_0x153c15),_0x466744=writeBatch(db);_0x466744[_0xf96417(0x183)](_0x46f850,{'pairedQuizId':_0x153c15}),_0x466744[_0xf96417(0x183)](_0x4402c1,{'pairedQuizId':_0x227691}),await _0x466744[_0xf96417(0x7dc)](),showMessage(_0xf96417(0x526)),_0x3b345c[_0xf96417(0xab0)][_0xf96417(0x75b)](_0xf96417(0x47d));}catch(_0x592b20){console['error'](_0xf96417(0x855),_0x592b20),showMessage(_0xf96417(0x317));}finally{_0x5c63b2[_0xf96417(0xb23)]=_0xf96417(0xa9b),_0x357166[_0xf96417(0xb23)]='ย้าย',_0x357166['disabled']=![],_0x357166['removeEventListener'](_0xf96417(0x560),_0x59105b),_0x1e7027[_0xf96417(0x50b)]('click',_0x137c13);}},_0x137c13=()=>{const _0x3e884c=_0x382b1c;_0x3b345c[_0x3e884c(0xab0)][_0x3e884c(0x75b)]('hidden'),_0x5c63b2[_0x3e884c(0xb23)]=_0x3e884c(0xa9b),_0x357166[_0x3e884c(0xb23)]='ย้าย',_0x357166[_0x3e884c(0x50b)](_0x3e884c(0x560),_0x59105b),_0x1e7027[_0x3e884c(0x50b)]('click',_0x137c13);};_0x357166[_0x382b1c(0xb41)](_0x382b1c(0x560),_0x59105b),_0x1e7027[_0x382b1c(0xb41)](_0x382b1c(0x560),_0x137c13);}function handleDeleteStudent(_0x22cb5a){const _0x5ea7b2=_0x26020e;showConfirmation(_0x5ea7b2(0x1a2)+_0x22cb5a+_0x5ea7b2(0x4f9),async()=>{const _0x11ce7d=_0x5ea7b2;if(!currentProjectId||!currentProjectData)return;const _0x390eaa=currentProjectData[_0x11ce7d(0x926)][_0x11ce7d(0x1f5)](_0x3b6453=>_0x3b6453!==_0x22cb5a);try{const _0x132650=doc(db,_0x11ce7d(0xc3e)+appId+_0x11ce7d(0x828),currentProjectId),_0x440c1a=doc(db,'artifacts/'+appId+_0x11ce7d(0x5fc)+currentProjectId+'/studentProfiles',_0x22cb5a),_0x43b162=writeBatch(db);_0x43b162['update'](_0x132650,{'students':_0x390eaa}),_0x43b162[_0x11ce7d(0x63c)](_0x440c1a),await _0x43b162[_0x11ce7d(0x7dc)]();}catch(_0x353731){console[_0x11ce7d(0x2fe)](_0x11ce7d(0x2f2),_0x353731),showMessage(_0x11ce7d(0xa28));}});}function handleDeleteAllStudents(){const _0x3fb490=_0x26020e;showConfirmation(_0x3fb490(0x928),async()=>{const _0x46d9c2=_0x3fb490;if(!currentProjectId)return;try{const _0x5c692c=doc(db,'artifacts/'+appId+_0x46d9c2(0x828),currentProjectId),_0x49603e=collection(db,_0x46d9c2(0xc3e)+appId+_0x46d9c2(0x5fc)+currentProjectId+_0x46d9c2(0xc6f)),_0xe55caf=await getDocs(_0x49603e),_0x430b78=writeBatch(db);_0x430b78['update'](_0x5c692c,{'students':[]}),_0xe55caf[_0x46d9c2(0x488)](_0x5be1fc=>_0x430b78[_0x46d9c2(0x63c)](_0x5be1fc['ref'])),await _0x430b78['commit']();}catch(_0x1c54e4){console[_0x46d9c2(0x2fe)]('Error\x20deleting\x20all\x20students:',_0x1c54e4),showMessage(_0x46d9c2(0xaef));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x76fcfc){const _0x2a1b20=_0x26020e,_0x18d762=document['getElementById'](_0x2a1b20(0x96f)),_0x25fbe3=document['getElementById']('file-topics-list');_0x18d762[_0x2a1b20(0xab0)]['remove'](_0x2a1b20(0x47d)),_0x25fbe3['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x213432=new FileReader();_0x213432[_0x2a1b20(0x56e)](_0x76fcfc),await new Promise((_0x3836d7,_0x3f1cd9)=>{_0x213432['onload']=()=>{const _0x2c9760=_0x48bc;fileDataBase64=_0x213432[_0x2c9760(0x961)][_0x2c9760(0x232)](',')[0x1],fileMimeType=_0x76fcfc[_0x2c9760(0x3c9)],_0x3836d7();},_0x213432['onerror']=_0x1afabe=>_0x3f1cd9(_0x1afabe);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0xd3d54d=_0x2a1b20(0x267),_0x4eeb51={'type':_0x2a1b20(0x51e),'properties':{'topics':{'type':_0x2a1b20(0x7ca),'items':{'type':_0x2a1b20(0x52a)}}},'required':['topics']},_0x4a641e=[{'text':_0xd3d54d},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0xd22811=await handleApiCall(_0x4a641e,'กำลังวิเคราะห์หัวข้อ...',_0x4eeb51,null,![]);if(_0xd22811&&_0xd22811[_0x2a1b20(0xa25)])extractedFileTopics=_0xd22811[_0x2a1b20(0xa25)],renderFileTopics();else throw new Error(_0x2a1b20(0x6b8));}catch(_0x29ed89){console[_0x2a1b20(0x2fe)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x29ed89),_0x25fbe3[_0x2a1b20(0x4c4)]=_0x2a1b20(0x6e0)+_0x29ed89[_0x2a1b20(0x9d4)]+_0x2a1b20(0xb75);}}function renderFileTopics(){const _0x12e50a=_0x26020e,_0x512084=document['getElementById'](_0x12e50a(0x55e));if(extractedFileTopics[_0x12e50a(0x73e)]===0x0){_0x512084[_0x12e50a(0x4c4)]=_0x12e50a(0xb8c);return;}_0x512084['innerHTML']=extractedFileTopics[_0x12e50a(0xd0b)](_0x24e0b2=>_0x12e50a(0x8e8)+_0x24e0b2+_0x12e50a(0x2f7)+escape(_0x24e0b2)+_0x12e50a(0x712)+escape(_0x24e0b2)+_0x12e50a(0x582))[_0x12e50a(0xaa4)]('');}async function generateHybridQuizForTopic(_0x4fb71e){const _0x2e2279=_0x26020e,_0x44eb26=parseInt(document[_0x2e2279(0x44e)](_0x2e2279(0x6c8))['value'],0xa),_0x237df0=document['getElementById'](_0x2e2279(0xaaf))[_0x2e2279(0x6ea)],_0x359cb7=document[_0x2e2279(0x44e)](_0x2e2279(0x772))['value'],_0x4faff7=document[_0x2e2279(0x44e)](_0x2e2279(0x9d2))[_0x2e2279(0x8ab)],_0x8a03a=_0x4faff7?_0x2e2279(0x292):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0xc73e0d='',_0x234909;const _0x5669a2={'type':_0x2e2279(0x51e),'properties':{'questionText':{'type':_0x2e2279(0x52a)},'options':{'type':_0x2e2279(0x7ca),'items':{'type':_0x2e2279(0x52a)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2e2279(0x52a)},'imageCode':{'type':_0x2e2279(0x52a)}},'required':['questionText',_0x2e2279(0x3e3),_0x2e2279(0xa5b),_0x2e2279(0x4b2)]},_0x53112d={'type':'OBJECT','properties':{'questionText':{'type':_0x2e2279(0x52a)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x2e2279(0x52a)},'imageCode':{'type':_0x2e2279(0x52a)}},'required':['questionText',_0x2e2279(0x7ba),_0x2e2279(0x4b2)]},_0x4bd108={'type':_0x2e2279(0x51e),'properties':{'questionText':{'type':_0x2e2279(0x52a)},'idealAnswer':{'type':_0x2e2279(0x52a)},'explanation':{'type':_0x2e2279(0x52a)},'imageCode':{'type':_0x2e2279(0x52a)}},'required':[_0x2e2279(0xbbe),_0x2e2279(0x2a5),_0x2e2279(0x4b2)]},_0x10dd9d={'type':_0x2e2279(0x51e),'properties':{'questionType':{'type':_0x2e2279(0x52a),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2e2279(0x52a)},'allResponses':{'type':'ARRAY','items':{'type':_0x2e2279(0x52a)}},'explanation':{'type':_0x2e2279(0x52a)},'imageCode':{'type':'STRING'}},'required':[_0x2e2279(0x425),'stem',_0x2e2279(0xb53),_0x2e2279(0x93c),_0x2e2279(0x4b2)]};switch(_0x237df0){case _0x2e2279(0xbad):_0xc73e0d=_0x2e2279(0xa2d)+_0x359cb7+_0x2e2279(0xc91),_0x234909=_0x5669a2;break;case _0x2e2279(0x7e8):_0xc73e0d=_0x2e2279(0x5b1),_0x234909=_0x53112d;break;case'fill_in_no_choices':_0xc73e0d=_0x2e2279(0x81c),_0x234909=_0x4bd108;break;case'matching':_0xc73e0d=_0x2e2279(0x9c0),_0x234909=_0x10dd9d;break;case'fill_in_with_choices':_0xc73e0d=_0x2e2279(0x7b7)+_0x359cb7+_0x2e2279(0xc91),_0x234909=_0x5669a2;break;default:_0xc73e0d=_0x2e2279(0xa2d)+_0x359cb7+_0x2e2279(0xc91),_0x234909=_0x5669a2;break;}const _0x162248=_0x2e2279(0x692),_0x3fef88=document[_0x2e2279(0x44e)](_0x2e2279(0x438)),_0x5c636a=document[_0x2e2279(0x44e)]('loader-text'),_0x38132c=document[_0x2e2279(0x44e)](_0x2e2279(0xae7));document['getElementById'](_0x2e2279(0x439))[_0x2e2279(0xab0)][_0x2e2279(0x48e)](_0x2e2279(0x47d)),_0x38132c[_0x2e2279(0x4c4)]='',_0x3fef88[_0x2e2279(0xab0)][_0x2e2279(0x48e)]('hidden'),_0x5c636a[_0x2e2279(0xb23)]=_0x2e2279(0x365)+_0x4fb71e+'\x22\x20จำนวน\x20'+_0x44eb26+_0x2e2279(0x40b);try{const _0x347474=_0x2e2279(0x4ce),_0x4a837b=_0x2e2279(0x58d)+_0x4fb71e+_0x2e2279(0x86e)+_0x44eb26+_0x2e2279(0x424)+_0x4fb71e+_0x2e2279(0x1d8)+_0x44eb26+_0x2e2279(0x62e)+_0x8a03a+_0x2e2279(0x812)+_0xc73e0d+_0x2e2279(0x3ea)+_0x162248+_0x2e2279(0x64b)+_0x347474+_0x2e2279(0x3fd)+simpleMathPrompt+_0x2e2279(0x6c5),_0x18cb72={'type':_0x2e2279(0x51e),'properties':{'topic':{'type':_0x2e2279(0x52a)},'questions':{'type':_0x2e2279(0x7ca),'items':_0x234909}},'required':['topic',_0x2e2279(0x1c9)]},_0x467448=[{'text':_0x4a837b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x467448,_0x2e2279(0x85c)+_0x4fb71e+'\x22...',_0x18cb72);}catch(_0x2a1f8d){console[_0x2e2279(0x2fe)](_0x2e2279(0x4dd),_0x2a1f8d),showMessage(_0x2e2279(0x93f)+_0x2a1f8d[_0x2e2279(0x9d4)]),_0x38132c[_0x2e2279(0x4c4)]=_0x2e2279(0x20c);}finally{_0x3fef88[_0x2e2279(0xab0)][_0x2e2279(0x75b)](_0x2e2279(0x47d));}}async function handleGenerateFromFileClick(){const _0x27a1d7=_0x26020e;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x95e468=document[_0x27a1d7(0x44e)](_0x27a1d7(0x438)),_0x186a4f=document[_0x27a1d7(0x44e)](_0x27a1d7(0x734)),_0x11551d=document['getElementById'](_0x27a1d7(0xae7)),_0x3ce993=document[_0x27a1d7(0x44e)](_0x27a1d7(0xb4a));_0x3ce993[_0x27a1d7(0x993)]=!![],document[_0x27a1d7(0x44e)](_0x27a1d7(0x439))[_0x27a1d7(0xab0)]['remove'](_0x27a1d7(0x47d)),_0x11551d[_0x27a1d7(0x4c4)]='',_0x95e468[_0x27a1d7(0xab0)][_0x27a1d7(0x48e)]('hidden'),_0x186a4f['textContent']='กำลังอ่านและเตรียมไฟล์...';try{const _0x4b7039=await new Promise((_0x5152bd,_0x4e6b1e)=>{const _0x5df189=_0x27a1d7,_0x19d72c=new FileReader();_0x19d72c[_0x5df189(0x56e)](selectedFile),_0x19d72c[_0x5df189(0x217)]=()=>_0x5152bd(_0x19d72c[_0x5df189(0x961)][_0x5df189(0x232)](',')[0x1]),_0x19d72c[_0x5df189(0x5d0)]=_0x5ac6cb=>_0x4e6b1e(_0x5ac6cb);});await generateQuizFromFile(selectedFile[_0x27a1d7(0x3c9)],_0x4b7039);}catch(_0x4b6025){console[_0x27a1d7(0x2fe)](_0x27a1d7(0x420),_0x4b6025),showMessage(_0x27a1d7(0xceb)+_0x4b6025[_0x27a1d7(0x9d4)]),_0x95e468[_0x27a1d7(0xab0)][_0x27a1d7(0x75b)](_0x27a1d7(0x47d)),_0x3ce993[_0x27a1d7(0x993)]=![];}}function autoFormatMath(_0x154f38){const _0x33ac24=_0x26020e;if(typeof _0x154f38!==_0x33ac24(0x8d3)||!_0x154f38)return _0x154f38;const _0xf30d68=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1251c5=_0x154f38[_0x33ac24(0x558)](_0xf30d68,_0x21bda3=>{const _0x2e9c50=_0x33ac24;return'$'+_0x21bda3[_0x2e9c50(0x30d)]()+'$';});return _0x1251c5;}function sanitizeQuizData(_0xde4367){const _0x52c467=_0x26020e;if(!_0xde4367||!_0xde4367['questions'])return _0xde4367;const _0x1321c5={'imes':_0x52c467(0x294),'div':_0x52c467(0x42c)},_0x48c93d=_0x50307b=>{const _0x5d5990=_0x52c467;if(typeof _0x50307b!==_0x5d5990(0x8d3))return _0x50307b;let _0x46ea50=_0x50307b;for(const [_0x54c8ec,_0x5d8e14]of Object['entries'](_0x1321c5)){const _0x1e76f9=new RegExp('\x5cb'+_0x54c8ec+'\x5cb','g');_0x46ea50=_0x46ea50[_0x5d5990(0x558)](_0x1e76f9,_0x5d8e14);}return _0x46ea50=_0x46ea50[_0x5d5990(0x558)](/\\\//g,_0x5d5990(0x42c)),_0x46ea50=_0x46ea50['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5d5990(0x42c))[_0x5d5990(0x558)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5d5990(0x294))['replace'](/÷/g,_0x5d5990(0x42c))[_0x5d5990(0x558)](/×/g,'\x5ctimes'),_0x46ea50=_0x46ea50[_0x5d5990(0x558)](/(\d)(\\frac)/g,_0x5d5990(0x6df)),_0x46ea50=autoFormatMath(_0x46ea50),_0x46ea50;};return _0xde4367[_0x52c467(0x255)]&&(_0xde4367[_0x52c467(0x255)]=_0x48c93d(_0xde4367['topic'])),_0xde4367['questions'][_0x52c467(0x488)](_0x41d2ef=>{const _0x5f2131=_0x52c467;_0x41d2ef[_0x5f2131(0xbbe)]=_0x48c93d(_0x41d2ef['questionText']),_0x41d2ef['options']&&(_0x41d2ef[_0x5f2131(0x3e3)]=_0x41d2ef['options'][_0x5f2131(0xd0b)](_0x48c93d)),_0x41d2ef[_0x5f2131(0x4b2)]&&(_0x41d2ef[_0x5f2131(0x4b2)]=_0x48c93d(_0x41d2ef[_0x5f2131(0x4b2)])),_0x41d2ef[_0x5f2131(0xb16)]&&(_0x41d2ef[_0x5f2131(0xb16)]=_0x48c93d(_0x41d2ef[_0x5f2131(0xb16)])),_0x41d2ef['correctResponse']&&(_0x41d2ef['correctResponse']=_0x48c93d(_0x41d2ef[_0x5f2131(0xb53)])),_0x41d2ef[_0x5f2131(0x93c)]&&(_0x41d2ef[_0x5f2131(0x93c)]=_0x41d2ef['allResponses'][_0x5f2131(0xd0b)](_0x48c93d));}),_0xde4367;}const simpleMathPrompt=_0x26020e(0xc61);async function handleGenerateFromLink(){const _0xfd741=_0x26020e,_0x4b7546=document['getElementById'](_0xfd741(0x2c0)),_0x23e7b0=document[_0xfd741(0x44e)](_0xfd741(0x275)),_0x1145ab=_0x4b7546[_0xfd741(0x6ea)]['trim'](),_0x230022=_0x23e7b0[_0xfd741(0x6ea)]['trim']();if(!_0x1145ab){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x2db090=document[_0xfd741(0x44e)](_0xfd741(0x438)),_0x116b29=document['getElementById']('loader-text'),_0x32886f=document[_0xfd741(0x44e)]('generated-quiz-container'),_0x39ae9f=document[_0xfd741(0x44e)](_0xfd741(0xb14));document[_0xfd741(0x44e)](_0xfd741(0x439))[_0xfd741(0xab0)][_0xfd741(0x48e)](_0xfd741(0x47d)),_0x32886f[_0xfd741(0x4c4)]='',_0x2db090[_0xfd741(0xab0)]['remove'](_0xfd741(0x47d)),_0x116b29[_0xfd741(0xb23)]=_0xfd741(0x301),_0x39ae9f['disabled']=!![];try{const _0x2c6969=_0xfd741(0x378)+encodeURIComponent(_0x1145ab),_0x3929f3=await fetch(_0x2c6969);if(!_0x3929f3['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x3929f3[_0xfd741(0x8b8)]+')');const _0x2c2d72=await _0x3929f3[_0xfd741(0x2ac)](),_0x541189=extractTextFromHtml(_0x2c2d72);if(!_0x541189||_0x541189['length']<0x64)throw new Error(_0xfd741(0xb7c));await generateQuiz(_0x230022,_0x541189);}catch(_0x11d0b7){console[_0xfd741(0x2fe)]('Error\x20generating\x20from\x20link:',_0x11d0b7),showMessage(_0xfd741(0x93f)+_0x11d0b7[_0xfd741(0x9d4)]),_0x32886f[_0xfd741(0x4c4)]=_0xfd741(0x1e2);}finally{_0x2db090[_0xfd741(0xab0)]['add']('hidden'),_0x39ae9f[_0xfd741(0x993)]=![];}}function extractTextFromHtml(_0x222bed){const _0x57730d=_0x26020e,_0x676068=new DOMParser()['parseFromString'](_0x222bed,_0x57730d(0xce4));return _0x676068[_0x57730d(0xb04)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x1efffb=>_0x1efffb[_0x57730d(0x48e)]()),_0x676068[_0x57730d(0x859)][_0x57730d(0xb23)]||'';}document[_0x26020e(0x44e)](_0x26020e(0x511))[_0x26020e(0xb41)]('click',()=>{const _0x22dd6c=_0x26020e,_0x13d2b7=document[_0x22dd6c(0x44e)](_0x22dd6c(0x34e))['value']['trim']();generateQuiz(_0x13d2b7,null);}),document[_0x26020e(0x44e)](_0x26020e(0x619))[_0x26020e(0xb41)]('click',()=>{const _0x1f5b70=_0x26020e,_0xb7c9de=document[_0x1f5b70(0x44e)](_0x1f5b70(0x821))[_0x1f5b70(0x6ea)]['trim']();if(!_0xb7c9de){showMessage(_0x1f5b70(0x397));return;}const _0x18333d=document[_0x1f5b70(0x44e)]('topic-input')['value'][_0x1f5b70(0x30d)]();generateQuiz(_0x18333d,_0xb7c9de);});async function generateQuiz(_0x3078a3,_0x762a13,_0x12f153=null,_0x143a56=null,_0x2d4989=![],_0x44252d=null,_0x27d8ef=null,_0x496d01=![]){const _0x4f44e0=_0x26020e;let _0x2c2cfe={};if(_0x2d4989&&blueprintPageSettings)_0x2c2cfe=blueprintPageSettings;else{const _0x5d3b95=document[_0x4f44e0(0xb04)](_0x4f44e0(0x30b));_0x2c2cfe={'quizType':document[_0x4f44e0(0x44e)](_0x4f44e0(0xaaf))['value'],'numQuestions':document[_0x4f44e0(0x44e)]('num-questions')[_0x4f44e0(0x6ea)],'numChoices':document[_0x4f44e0(0x44e)]('num-choices')['value'],'includeImages':document[_0x4f44e0(0x44e)]('include-images-checkbox')[_0x4f44e0(0x8ab)],'isNormalTopic':document[_0x4f44e0(0x44e)]('force-math-checkbox')['checked'],'difficultyValue':document[_0x4f44e0(0x44e)](_0x4f44e0(0x1eb))[_0x4f44e0(0x6ea)],'complexityValue':document[_0x4f44e0(0x44e)](_0x4f44e0(0x6c9))[_0x4f44e0(0x6ea)],'selectedTopicNames':Array[_0x4f44e0(0x346)](_0x5d3b95)[_0x4f44e0(0xd0b)](_0x3d3294=>_0x3d3294[_0x4f44e0(0x6ea)])};}const _0x1d4623=_0x2c2cfe['isNormalTopic']?'':_0x4f44e0(0xc9a),_0x27e4a6=_0x2c2cfe['difficultyValue']!=='auto'?_0x4f44e0(0x80c)+_0x2c2cfe[_0x4f44e0(0x67e)]+'\x22':'',_0x162d81=_0x2c2cfe['complexityValue']!==_0x4f44e0(0x463)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x2c2cfe['complexityValue']+_0x4f44e0(0x2cc):'';let _0x27c8d7='';_0x2c2cfe[_0x4f44e0(0x54b)]&&_0x2c2cfe[_0x4f44e0(0x54b)]['length']>0x0&&(_0x27c8d7=_0x4f44e0(0x51a)+_0x2c2cfe[_0x4f44e0(0x54b)]['join'](',\x20')+'.');let _0x31cf97='';_0x143a56&&(_0x31cf97=_0x4f44e0(0x907));let _0x331f68='',_0x312d87='',_0x5bcec0,_0x486512=_0x4f44e0(0xb8d)+_0x3078a3+'\x22';if(!_0x3078a3&&_0x762a13)_0x486512=_0x4f44e0(0x6b3);else!_0x3078a3&&!_0x762a13&&(_0x486512=_0x4f44e0(0x6d6));const _0x19757={'type':_0x4f44e0(0x51e),'properties':{'questionText':{'type':_0x4f44e0(0x52a)},'options':{'type':_0x4f44e0(0x7ca),'items':{'type':_0x4f44e0(0x52a)}},'correctAnswerIndex':{'type':_0x4f44e0(0x877)},'explanation':{'type':_0x4f44e0(0x52a)},'imageCode':{'type':_0x4f44e0(0x52a)}},'required':[_0x4f44e0(0xbbe),_0x4f44e0(0x3e3),'correctAnswerIndex',_0x4f44e0(0x4b2)]},_0x5c99ac={'type':_0x4f44e0(0x51e),'properties':{'questionText':{'type':_0x4f44e0(0x52a)},'idealAnswer':{'type':_0x4f44e0(0x52a)},'explanation':{'type':_0x4f44e0(0x52a)},'imageCode':{'type':_0x4f44e0(0x52a)}},'required':[_0x4f44e0(0xbbe),'idealAnswer',_0x4f44e0(0x4b2)]},_0x2944e7={'type':_0x4f44e0(0x51e),'properties':{'questionText':{'type':_0x4f44e0(0x52a)},'questionType':{'type':_0x4f44e0(0x52a),'enum':['multiple_choice',_0x4f44e0(0x500)]},'options':{'type':'ARRAY','items':{'type':_0x4f44e0(0x52a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4f44e0(0x52a)},'explanation':{'type':_0x4f44e0(0x52a)},'imageCode':{'type':_0x4f44e0(0x52a)}},'required':['questionText',_0x4f44e0(0x425),_0x4f44e0(0x4b2)]},_0x4dd4aa={'type':'OBJECT','properties':{'questionText':{'type':_0x4f44e0(0x52a)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x4f44e0(0x52a)},'imageCode':{'type':_0x4f44e0(0x52a)}},'required':['questionText','correctAnswer',_0x4f44e0(0x4b2)]},_0x258212={'type':_0x4f44e0(0x51e),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x4f44e0(0x52a)},'correctResponse':{'type':_0x4f44e0(0x52a)},'allResponses':{'type':_0x4f44e0(0x7ca),'items':{'type':_0x4f44e0(0x52a)}},'explanation':{'type':_0x4f44e0(0x52a)},'imageCode':{'type':_0x4f44e0(0x52a)}},'required':[_0x4f44e0(0x425),_0x4f44e0(0xb16),_0x4f44e0(0xb53),_0x4f44e0(0x93c),'explanation']};let _0x5b1638;if(_0x12f153!==null){}else{const _0x11f8b4=_0x2c2cfe[_0x4f44e0(0x5de)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x2c2cfe['quizType']){case'multiple_choice':_0x331f68=_0x4f44e0(0x391)+_0x1d4623+'\x20'+_0x2c2cfe[_0x4f44e0(0x54a)]+_0x4f44e0(0x60d)+_0x486512+'\x20'+_0x27c8d7+'\x20'+_0x27e4a6+'\x20'+_0x162d81+'\x20'+_0x31cf97+'.\x20แต่ละข้อมี\x20'+_0x2c2cfe[_0x4f44e0(0x219)]+_0x4f44e0(0x864)+_0x11f8b4+'\x20'+simpleMathPrompt,_0x5bcec0=_0x19757;break;case _0x4f44e0(0xb06):_0x331f68=_0x4f44e0(0xbf7)+_0x1d4623+'\x20'+_0x2c2cfe['numQuestions']+_0x4f44e0(0x60d)+_0x486512+'\x20'+_0x27c8d7+'\x20'+_0x27e4a6+'\x20'+_0x162d81+'\x20'+_0x31cf97+_0x4f44e0(0x507)+_0x2c2cfe['numChoices']+_0x4f44e0(0x709)+_0x11f8b4+'\x20'+simpleMathPrompt,_0x5bcec0=_0x19757;break;case _0x4f44e0(0x248):_0x331f68=_0x4f44e0(0xbf7)+_0x1d4623+'\x20'+_0x2c2cfe['numQuestions']+_0x4f44e0(0x60d)+_0x486512+'\x20'+_0x27c8d7+'\x20'+_0x27e4a6+'\x20'+_0x162d81+'\x20'+_0x31cf97+_0x4f44e0(0x715)+_0x11f8b4+'\x20'+simpleMathPrompt,_0x5bcec0=_0x5c99ac;break;case _0x4f44e0(0x463):_0x331f68='สร้างแบบทดสอบ'+_0x1d4623+'\x20'+_0x2c2cfe[_0x4f44e0(0x54a)]+_0x4f44e0(0x60d)+_0x486512+'\x20'+_0x27c8d7+'\x20'+_0x27e4a6+'\x20'+_0x162d81+'\x20'+_0x31cf97+_0x4f44e0(0xa2e)+_0x2c2cfe[_0x4f44e0(0x219)]+_0x4f44e0(0x278)+_0x11f8b4+'\x20'+simpleMathPrompt+'.',_0x5bcec0=_0x2944e7;break;case _0x4f44e0(0x7e8):_0x331f68=_0x4f44e0(0xb25)+_0x1d4623+'\x20'+_0x2c2cfe['numQuestions']+_0x4f44e0(0x60d)+_0x486512+'\x20'+_0x27c8d7+'\x20'+_0x27e4a6+'\x20'+_0x162d81+'\x20'+_0x31cf97+_0x4f44e0(0xa64)+_0x11f8b4+'\x20'+simpleMathPrompt,_0x5bcec0=_0x4dd4aa;break;case _0x4f44e0(0xbb0):_0x331f68=_0x4f44e0(0xb93)+_0x1d4623+'\x20'+_0x2c2cfe[_0x4f44e0(0x54a)]+'\x20คู่\x20'+_0x486512+'\x20'+_0x27c8d7+'\x20'+_0x27e4a6+'\x20'+_0x162d81+'\x20'+_0x31cf97+_0x4f44e0(0x5ae)+_0x11f8b4+'\x20'+simpleMathPrompt,_0x5bcec0=_0x258212;break;}_0x5b1638={'type':_0x4f44e0(0x51e),'properties':{'topic':{'type':_0x4f44e0(0x52a)},'questions':{'type':_0x4f44e0(0x7ca),'items':_0x5bcec0}},'required':[_0x4f44e0(0x255),_0x4f44e0(0x1c9)]};}const _0x39dd2c=_0x4f44e0(0x5bc);_0x762a13?(_0x496d01?_0x331f68=_0x4f44e0(0x6dd)+_0x762a13+_0x4f44e0(0x62f)+_0x331f68+_0x39dd2c:_0x331f68=_0x4f44e0(0x6dd)+_0x762a13+_0x4f44e0(0x62f)+_0x331f68,_0x312d87=_0x4f44e0(0xbee)):(_0x496d01&&(_0x331f68+=_0x39dd2c),_0x312d87=_0x4f44e0(0x978));let _0x104160;return _0x143a56?(_0x104160=[{'text':_0x331f68},..._0x143a56],_0x312d87=_0x4f44e0(0x4f7)):_0x104160=_0x331f68,handleApiCall(_0x104160,_0x312d87,_0x5b1638,_0x12f153,!![],_0x44252d,_0x27d8ef);}async function generateQuizFromFile(_0x277f41,_0x170ec3){const _0x41a518=_0x26020e,_0x121e73=document['getElementById'](_0x41a518(0x612))[_0x41a518(0x6ea)]['trim'](),_0x40bca0=document[_0x41a518(0x44e)](_0x41a518(0xaaf))[_0x41a518(0x6ea)],_0x48498a=document[_0x41a518(0x44e)](_0x41a518(0x6c8))[_0x41a518(0x6ea)],_0x109cd0=document[_0x41a518(0x44e)]('num-choices')[_0x41a518(0x6ea)],_0x2be0b4=document[_0x41a518(0x44e)]('include-images-checkbox')['checked'],_0x535c4a=document['getElementById'](_0x41a518(0xa3d))[_0x41a518(0x8ab)],_0x1101ed=_0x535c4a?'':_0x41a518(0xc9a),_0x40b568=document['getElementById'](_0x41a518(0xa97))['checked'];let _0x562fc5='',_0x4e7168;const _0x4add25=_0x2be0b4?_0x41a518(0xc0d):'';if(_0x40b568)_0x562fc5='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x4add25+'\x0a'+simpleMathPrompt+'\x0a',_0x4e7168={'type':'OBJECT','properties':{'questionText':{'type':_0x41a518(0x52a)},'questionType':{'type':'STRING','enum':[_0x41a518(0xbad),'short_answer',_0x41a518(0x7e8),_0x41a518(0x5b6)]},'options':{'type':_0x41a518(0x7ca),'items':{'type':_0x41a518(0x52a)}},'correctAnswerIndex':{'type':_0x41a518(0x877)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x41a518(0x533)},'stem':{'type':_0x41a518(0x52a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x41a518(0x7ca),'items':{'type':_0x41a518(0x52a)}},'explanation':{'type':_0x41a518(0x52a)},'imageCode':{'type':_0x41a518(0x52a)}},'required':[_0x41a518(0x425),_0x41a518(0x4b2)]};else{let _0x226fb3=_0x41a518(0xb8d)+_0x121e73+'\x22';!_0x121e73&&(_0x226fb3=_0x41a518(0x3bf));switch(_0x40bca0){case _0x41a518(0xbad):_0x562fc5='สร้างแบบทดสอบปรนัย'+_0x1101ed+'\x20'+_0x48498a+_0x41a518(0x60d)+_0x226fb3+_0x41a518(0x502)+_0x109cd0+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x4add25+'\x20'+simpleMathPrompt,_0x4e7168={'type':_0x41a518(0x51e),'properties':{'questionText':{'type':_0x41a518(0x52a)},'options':{'type':_0x41a518(0x7ca),'items':{'type':_0x41a518(0x52a)}},'correctAnswerIndex':{'type':_0x41a518(0x877)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x41a518(0xbbe),_0x41a518(0x3e3),'correctAnswerIndex','explanation']};break;case _0x41a518(0xb06):_0x562fc5=_0x41a518(0xbf7)+_0x1101ed+'\x20'+_0x48498a+_0x41a518(0x60d)+_0x226fb3+_0x41a518(0x507)+_0x109cd0+_0x41a518(0x709)+_0x4add25+'\x20'+simpleMathPrompt,_0x4e7168={'type':_0x41a518(0x51e),'properties':{'questionText':{'type':_0x41a518(0x52a)},'options':{'type':_0x41a518(0x7ca),'items':{'type':_0x41a518(0x52a)}},'correctAnswerIndex':{'type':_0x41a518(0x877)},'explanation':{'type':_0x41a518(0x52a)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x41a518(0xa5b),_0x41a518(0x4b2)]};break;case _0x41a518(0x248):_0x562fc5=_0x41a518(0xbf7)+_0x1101ed+'\x20'+_0x48498a+_0x41a518(0x60d)+_0x226fb3+_0x41a518(0x646)+_0x4add25+'\x20'+simpleMathPrompt,_0x4e7168={'type':_0x41a518(0x51e),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x41a518(0x52a)},'explanation':{'type':_0x41a518(0x52a)},'imageCode':{'type':_0x41a518(0x52a)}},'required':[_0x41a518(0xbbe),_0x41a518(0x2a5),_0x41a518(0x4b2)]};break;case _0x41a518(0x463):_0x562fc5=_0x41a518(0x74d)+_0x1101ed+'\x20'+_0x48498a+_0x41a518(0x60d)+_0x226fb3+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x109cd0+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x4add25+'\x20'+simpleMathPrompt+_0x41a518(0x5ac),_0x4e7168={'type':_0x41a518(0x51e),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x41a518(0x52a),'enum':['multiple_choice',_0x41a518(0x500)]},'options':{'type':_0x41a518(0x7ca),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x41a518(0x877)},'idealAnswer':{'type':_0x41a518(0x52a)},'explanation':{'type':_0x41a518(0x52a)},'imageCode':{'type':'STRING'}},'required':[_0x41a518(0xbbe),'questionType',_0x41a518(0x4b2)]};break;case _0x41a518(0x7e8):_0x562fc5=_0x41a518(0xb25)+_0x1101ed+'\x20'+_0x48498a+_0x41a518(0x60d)+_0x226fb3+_0x41a518(0xaa5)+_0x4add25+'\x20'+simpleMathPrompt,_0x4e7168={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x41a518(0x533)},'explanation':{'type':_0x41a518(0x52a)},'imageCode':{'type':'STRING'}},'required':[_0x41a518(0xbbe),_0x41a518(0x7ba),_0x41a518(0x4b2)]};break;case _0x41a518(0xbb0):_0x562fc5=_0x41a518(0xb93)+_0x1101ed+'\x20'+_0x48498a+_0x41a518(0xbcb)+_0x226fb3+_0x41a518(0x4e2)+_0x48498a+_0x41a518(0x2a4)+_0x4add25+'\x20'+simpleMathPrompt,_0x4e7168={'type':_0x41a518(0x51e),'properties':{'questionType':{'type':_0x41a518(0x52a),'enum':[_0x41a518(0x5b6)]},'stem':{'type':_0x41a518(0x52a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x41a518(0x52a)}},'explanation':{'type':_0x41a518(0x52a)},'imageCode':{'type':_0x41a518(0x52a)}},'required':[_0x41a518(0x425),_0x41a518(0xb16),_0x41a518(0xb53),_0x41a518(0x93c),_0x41a518(0x4b2)]};break;}}const _0x17308a={'type':_0x41a518(0x51e),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4e7168}},'required':['topic',_0x41a518(0x1c9)]},_0x442e16='จากไฟล์ที่แนบมานี้,\x20'+_0x562fc5,_0x155a64={'contents':[{'parts':[{'text':_0x442e16},{'inlineData':{'mimeType':_0x277f41,'data':_0x170ec3}}]}],'generationConfig':{'responseMimeType':_0x41a518(0x6bf),'responseSchema':_0x17308a}};return handleApiCall(_0x155a64['contents'][0x0][_0x41a518(0x3fa)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x17308a);}async function handleApiCall(_0x5f0288,_0x197e0e,_0x147411,_0x95584c=null,_0x2bcf06=!![],_0x334fb3=null,_0x8f5f55=null){const _0x4c13c8=_0x26020e,_0x53871d=document['getElementById'](_0x4c13c8(0x439)),_0x4fa5eb=document[_0x4c13c8(0x44e)](_0x4c13c8(0x438)),_0x3bc0fb=document[_0x4c13c8(0x44e)](_0x4c13c8(0x734)),_0x2cbe19=document['getElementById'](_0x4c13c8(0xae7));_0x53871d['classList'][_0x4c13c8(0x48e)]('hidden');_0x95584c===null&&_0x2bcf06&&(_0x2cbe19[_0x4c13c8(0x4c4)]='');_0x4fa5eb['classList']['remove']('hidden'),_0x3bc0fb[_0x4c13c8(0xb23)]=_0x197e0e,document[_0x4c13c8(0x44e)]('generate-from-topic-btn')[_0x4c13c8(0x993)]=!![],document[_0x4c13c8(0x44e)]('generate-from-text-btn')[_0x4c13c8(0x993)]=!![],document['getElementById'](_0x4c13c8(0xb14))[_0x4c13c8(0x993)]=!![];const _0x53d985=document[_0x4c13c8(0x44e)](_0x4c13c8(0xb4a));if(_0x53d985)_0x53d985[_0x4c13c8(0x993)]=!![];const _0x5981ae=document[_0x4c13c8(0x44e)]('generate-from-blueprint-btn');if(_0x5981ae)_0x5981ae[_0x4c13c8(0x993)]=!![];const _0x2497ee=document['getElementById'](_0x4c13c8(0xb46));if(_0x2497ee)_0x2497ee['disabled']=!![];try{const _0xe26df0=Array[_0x4c13c8(0x588)](_0x5f0288)?_0x5f0288:[{'text':_0x5f0288}],_0x217d72={'contents':[{'role':'user','parts':_0xe26df0}]};_0x147411&&(_0x217d72[_0x4c13c8(0x880)]={'responseMimeType':_0x4c13c8(0x6bf),'responseSchema':_0x147411});const _0x7b733f=_0x4c13c8(0x6b2),_0x3876c6=_0x4c13c8(0x9e8)+_0x7b733f,_0x38f365=await fetch(_0x3876c6,{'method':_0x4c13c8(0x7a5),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4c13c8(0x98d)](_0x217d72)});if(!_0x38f365['ok']){const _0x2b2447=await _0x38f365[_0x4c13c8(0x2ac)]();console['error'](_0x4c13c8(0x913),_0x2b2447);throw new Error(_0x4c13c8(0xba8)+_0x38f365[_0x4c13c8(0x8b8)]);}const _0x32e7ac=await _0x38f365[_0x4c13c8(0xb0d)]();if(!_0x32e7ac[_0x4c13c8(0xa7a)]||_0x32e7ac[_0x4c13c8(0xa7a)][_0x4c13c8(0x73e)]===0x0){let _0x3b248c=_0x4c13c8(0x740);return _0x32e7ac[_0x4c13c8(0x3ed)]?.[_0x4c13c8(0xa72)]&&(_0x3b248c=_0x4c13c8(0x909)+_0x32e7ac[_0x4c13c8(0x3ed)][_0x4c13c8(0xa72)]+'.'),console[_0x4c13c8(0x2fe)](_0x3b248c,JSON['stringify'](_0x32e7ac)),null;}const _0xe57971=_0x32e7ac[_0x4c13c8(0xa7a)][0x0][_0x4c13c8(0x25a)][_0x4c13c8(0x3fa)][0x0]['text'];if(_0x147411){let _0x31a2d8=_0xe57971;if(_0x31a2d8['startsWith'](_0x4c13c8(0x84b)))_0x31a2d8=_0x31a2d8[_0x4c13c8(0x9c1)](0x7,_0x31a2d8[_0x4c13c8(0x73e)]-0x3)[_0x4c13c8(0x30d)]();else _0x31a2d8[_0x4c13c8(0x259)](_0x4c13c8(0x6e3))&&(_0x31a2d8=_0x31a2d8['substring'](0x3,_0x31a2d8[_0x4c13c8(0x73e)]-0x3)[_0x4c13c8(0x30d)]());let _0x52f258=JSON[_0x4c13c8(0x22b)](_0x31a2d8);if(_0x2bcf06){if(_0x95584c!==null){}else currentQuizData=_0x52f258,displayGeneratedQuiz(currentQuizData,_0x334fb3,_0x8f5f55);}return _0x52f258;}else return _0xe57971;}catch(_0x4eca50){console[_0x4c13c8(0x2fe)]('Error\x20in\x20handleApiCall:',_0x4eca50),showMessage(_0x4c13c8(0x7ab)+_0x4eca50[_0x4c13c8(0x9d4)]);_0x2bcf06&&(_0x2cbe19[_0x4c13c8(0x4c4)]=_0x4c13c8(0xa67));throw _0x4eca50;}finally{_0x4fa5eb[_0x4c13c8(0xab0)][_0x4c13c8(0x75b)](_0x4c13c8(0x47d)),document['getElementById']('generate-from-topic-btn')[_0x4c13c8(0x993)]=![],document['getElementById'](_0x4c13c8(0x619))[_0x4c13c8(0x993)]=![],document[_0x4c13c8(0x44e)]('generate-from-link-btn')[_0x4c13c8(0x993)]=![];if(_0x53d985)_0x53d985[_0x4c13c8(0x993)]=![];if(_0x5981ae)_0x5981ae[_0x4c13c8(0x993)]=![];if(_0x2497ee)_0x2497ee[_0x4c13c8(0x993)]=![];}}function exitFullscreen(){const _0x1e2d22=_0x26020e;if(document[_0x1e2d22(0xc73)])document[_0x1e2d22(0xc73)]()[_0x1e2d22(0xb45)](_0xccfa71=>console[_0x1e2d22(0x2fe)](_0xccfa71));else{if(document[_0x1e2d22(0x74c)])document['webkitExitFullscreen']();else document[_0x1e2d22(0xc46)]&&document[_0x1e2d22(0xc46)]();}}function enterFullscreen(){const _0x5d716a=_0x26020e,_0x1a8b11=document[_0x5d716a(0xc90)];if(_0x1a8b11['requestFullscreen'])_0x1a8b11[_0x5d716a(0xd08)]()[_0x5d716a(0xb45)](_0x442913=>{const _0x59bdaf=_0x5d716a;console[_0x59bdaf(0x2fe)](_0x59bdaf(0x695)+_0x442913[_0x59bdaf(0x9d4)]+'\x20('+_0x442913['name']+')');});else{if(_0x1a8b11[_0x5d716a(0x83f)])_0x1a8b11[_0x5d716a(0x83f)]();else _0x1a8b11[_0x5d716a(0x9a4)]&&_0x1a8b11[_0x5d716a(0x9a4)]();}}function handleCheatingEvent(){const _0xdfb707=_0x26020e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0xdfb707(0x2c1)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0xdfb707(0x44e)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0xdfb707(0x50b)](_0xdfb707(0x7f6),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x39f314=_0x26020e;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x39f314(0x991)]==='hidden')handleCheatingEvent();else document[_0x39f314(0x991)]==='visible'&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x2eb65c=_0x26020e;if(currentMode===_0x2eb65c(0x1b3)||!isQuizActive)return;!document[_0x2eb65c(0xbf5)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2b71cd,_0x477223=null,_0x565df1=null){const _0x510e16=_0x26020e,_0x591c29=document[_0x510e16(0x44e)](_0x510e16(0xae7));let _0x47c6bf='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x2b71cd[_0x510e16(0x255)]+_0x510e16(0x3e6);_0x2b71cd[_0x510e16(0x1c9)][_0x510e16(0x488)]((_0x1b0dea,_0x3ca719)=>{const _0x3dd31c=_0x510e16;!_0x1b0dea['id']&&(_0x1b0dea['id']='q_'+Date[_0x3dd31c(0xc63)]()+'_'+_0x3ca719);const _0x3e2272=_0x1b0dea[_0x3dd31c(0x425)]||_0x2b71cd[_0x3dd31c(0x31d)];_0x47c6bf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x3ca719+_0x3dd31c(0x5fa)+_0x3ca719+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3ca719+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3e2272){case'matching_item':_0x47c6bf+=_0x3dd31c(0x200)+_0x3ca719+'\x22>'+(_0x3ca719+0x1)+'.\x20'+_0x1b0dea[_0x3dd31c(0xb16)]+_0x3dd31c(0xb75);_0x1b0dea[_0x3dd31c(0xb2a)]&&(_0x47c6bf+=_0x3dd31c(0xb89)+_0x3ca719+_0x3dd31c(0x529)+_0x1b0dea['imageCode']+_0x3dd31c(0xa82));_0x47c6bf+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x3ca719+'\x22>'+_0x1b0dea['correctResponse']+'</span></div>',_0x47c6bf+=_0x3dd31c(0xbea)+_0x3ca719+'\x22>'+_0x1b0dea[_0x3dd31c(0x4b2)]+_0x3dd31c(0xd07);break;case _0x3dd31c(0x500):_0x47c6bf+=_0x3dd31c(0x200)+_0x3ca719+'\x22>'+(_0x3ca719+0x1)+'.\x20'+_0x1b0dea[_0x3dd31c(0xbbe)]+'</p>';_0x1b0dea[_0x3dd31c(0xb2a)]&&(_0x47c6bf+=_0x3dd31c(0xb89)+_0x3ca719+_0x3dd31c(0x529)+_0x1b0dea[_0x3dd31c(0xb2a)]+'</div>');_0x47c6bf+=_0x3dd31c(0x37d)+_0x3ca719+'\x22>'+_0x1b0dea[_0x3dd31c(0x2a5)]+'</span></div>',_0x47c6bf+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3ca719+'\x22>'+_0x1b0dea[_0x3dd31c(0x4b2)]+'</span></div>';break;case _0x3dd31c(0x7e8):_0x47c6bf+=_0x3dd31c(0x200)+_0x3ca719+'\x22>'+(_0x3ca719+0x1)+'.\x20'+_0x1b0dea[_0x3dd31c(0xbbe)]+'</p>';_0x1b0dea['imageCode']&&(_0x47c6bf+=_0x3dd31c(0xb89)+_0x3ca719+_0x3dd31c(0x529)+_0x1b0dea[_0x3dd31c(0xb2a)]+_0x3dd31c(0xa82));_0x47c6bf+=_0x3dd31c(0x852)+(_0x1b0dea[_0x3dd31c(0x7ba)]===!![]?_0x3dd31c(0x8fb):'')+_0x3dd31c(0x911)+(_0x1b0dea[_0x3dd31c(0x7ba)]===![]?_0x3dd31c(0x8fb):'')+_0x3dd31c(0x6b5),_0x47c6bf+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3ca719+'\x22>'+_0x1b0dea['explanation']+_0x3dd31c(0xd07);break;case _0x3dd31c(0xa16):case'multiple_choice':default:_0x47c6bf+=_0x3dd31c(0x200)+_0x3ca719+'\x22>'+(_0x3ca719+0x1)+'.\x20'+_0x1b0dea[_0x3dd31c(0xbbe)]+_0x3dd31c(0xb75);_0x1b0dea[_0x3dd31c(0xb2a)]&&(_0x47c6bf+=_0x3dd31c(0xb89)+_0x3ca719+_0x3dd31c(0x529)+_0x1b0dea[_0x3dd31c(0xb2a)]+'</div>');_0x47c6bf+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x3ca719+_0x3dd31c(0x3da)+(_0x1b0dea[_0x3dd31c(0x3e3)]||[])[_0x3dd31c(0xd0b)]((_0x2482ad,_0x5ae649)=>_0x3dd31c(0x3f9)+(_0x5ae649===_0x1b0dea[_0x3dd31c(0xa5b)]?_0x3dd31c(0x8fb):'')+'\x22>'+_0x2482ad+'</li>')[_0x3dd31c(0xaa4)]('')+_0x3dd31c(0x69f),_0x47c6bf+=_0x3dd31c(0xbea)+_0x3ca719+'\x22>'+_0x1b0dea[_0x3dd31c(0x4b2)]+_0x3dd31c(0xd07);break;}_0x47c6bf+=_0x3dd31c(0xa82);}),_0x47c6bf+=_0x510e16(0xa2f),_0x591c29[_0x510e16(0x4c4)]=_0x47c6bf,document[_0x510e16(0xb04)](_0x510e16(0xcd3))[_0x510e16(0x488)](_0x18f33b=>_0x18f33b[_0x510e16(0xb41)](_0x510e16(0x560),handleEditQuestion)),document[_0x510e16(0xb04)]('.regenerate-question-btn')[_0x510e16(0x488)](_0x525f9e=>_0x525f9e[_0x510e16(0xb41)]('click',handleRegenerateQuestion)),document[_0x510e16(0x44e)](_0x510e16(0x686))['addEventListener'](_0x510e16(0x560),exportQuizAsWorksheetPDF),document[_0x510e16(0x44e)](_0x510e16(0x979))['addEventListener'](_0x510e16(0x560),handleVerifyAnswers);const _0x1f7981=document[_0x510e16(0x44e)](_0x510e16(0xd09));if(_0x1f7981){const _0x4a4c04=_0x477223||currentProjectId;_0x1f7981[_0x510e16(0xb41)](_0x510e16(0x560),()=>saveQuiz(_0x4a4c04,_0x565df1));}if(window[_0x510e16(0x597)])window['MathJax']['typesetPromise']([_0x591c29]);}function handleRegenerateQuestion(_0x41faa4){const _0x351ff6=_0x26020e,_0x2779c3=_0x41faa4[_0x351ff6(0x73f)][_0x351ff6(0xd00)][_0x351ff6(0x517)],_0x5077ab=currentQuizData[_0x351ff6(0x255)];showMessage(_0x351ff6(0x2cb)+(parseInt(_0x2779c3)+0x1)+_0x351ff6(0x950)),generateQuiz(_0x5077ab,null,parseInt(_0x2779c3));}function getPointerPosition(_0x4d9297,_0x12db3b){const _0x7b6f0b=_0x26020e,_0x9f2d5b=_0x4d9297['getScreenCTM']();let _0xe7f8e7,_0x2973f9;return _0x12db3b[_0x7b6f0b(0x9e9)]&&_0x12db3b['touches'][_0x7b6f0b(0x73e)]>0x0?(_0xe7f8e7=_0x12db3b['touches'][0x0]['clientX'],_0x2973f9=_0x12db3b[_0x7b6f0b(0x9e9)][0x0][_0x7b6f0b(0x386)]):(_0xe7f8e7=_0x12db3b[_0x7b6f0b(0xb8f)],_0x2973f9=_0x12db3b[_0x7b6f0b(0x386)]),{'x':(_0xe7f8e7-_0x9f2d5b['e'])/_0x9f2d5b['a'],'y':(_0x2973f9-_0x9f2d5b['f'])/_0x9f2d5b['d']};}function startDrag(_0x27d59d){const _0x12a363=_0x26020e;_0x27d59d[_0x12a363(0x3c9)]===_0x12a363(0x2bb)&&_0x27d59d['preventDefault']();const _0x9e0ef0=_0x27d59d[_0x12a363(0x440)][_0x12a363(0xcf9)](_0x12a363(0x50e));if(_0x9e0ef0){draggedSvgElement=_0x9e0ef0;const _0x2a282e=draggedSvgElement['ownerSVGElement'],_0x11f57c=getPointerPosition(_0x2a282e,_0x27d59d);svgOffset['x']=_0x11f57c['x']-parseFloat(draggedSvgElement[_0x12a363(0xa45)](null,'x')),svgOffset['y']=_0x11f57c['y']-parseFloat(draggedSvgElement[_0x12a363(0xa45)](null,'y'));}}function calculateItemAnalysis(_0x490be3,_0x1751df){const _0x11513a=_0x26020e,_0x3f5754={};if(_0x1751df[_0x11513a(0x73e)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3c9391=[..._0x1751df]['sort']((_0x22673d,_0x37c69f)=>{const _0x4c7fb9=_0x11513a,_0x44d966=_0x37c69f[_0x4c7fb9(0x257)]-_0x22673d['latestScore'];if(_0x44d966!==0x0)return _0x44d966;const _0xc9b080=_0x22673d[_0x4c7fb9(0x933)]?.[_0x4c7fb9(0x73e)]||0x1,_0x3b53aa=_0x37c69f[_0x4c7fb9(0x933)]?.[_0x4c7fb9(0x73e)]||0x1,_0x3e7957=_0xc9b080-_0x3b53aa;if(_0x3e7957!==0x0)return _0x3e7957;const _0x4e0473=new Date(_0x22673d[_0x4c7fb9(0x2b7)]),_0x1e8fac=new Date(_0x37c69f['latestSubmittedAt']),_0x5ae34c=_0x4e0473-_0x1e8fac;if(_0x5ae34c!==0x0)return _0x5ae34c;return _0x22673d[_0x4c7fb9(0x775)][_0x4c7fb9(0x4e8)](_0x37c69f[_0x4c7fb9(0x775)],'th');}),_0x1b1975=_0x3c9391[_0x11513a(0x73e)],_0xa49d64=Math[_0x11513a(0x6c6)](0x1,Math[_0x11513a(0x513)](_0x1b1975*0.33));if(_0xa49d64===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x114cb5=_0x3c9391[_0x11513a(0x8ac)](0x0,_0xa49d64),_0x53d759=_0x3c9391[_0x11513a(0x8ac)](-_0xa49d64),_0x45e0a9=_0x114cb5[_0x11513a(0xd0b)](_0x27ef86=>_0x27ef86[_0x11513a(0x775)]),_0x996d65=_0x53d759[_0x11513a(0xd0b)](_0x54e653=>_0x54e653[_0x11513a(0x775)]);return _0x490be3[_0x11513a(0x1c9)][_0x11513a(0x488)]((_0x33b1f8,_0xf97fc7)=>{const _0x18d718=_0x11513a,_0x58caf8=_0x33b1f8[_0x18d718(0xb16)]||_0x33b1f8[_0x18d718(0xbbe)];let _0x52e25e=0x0,_0x5b6c33=0x0,_0x343b1f=0x0;const _0x1c6209=[],_0x2e4781=[];_0x114cb5[_0x18d718(0x488)](_0x393527=>{const _0xfebde2=_0x18d718,_0x5e24c5=_0x393527[_0xfebde2(0x933)][_0x393527[_0xfebde2(0x933)][_0xfebde2(0x73e)]-0x1],_0x3e824d=_0x5e24c5['answers']['find'](_0x10382d=>_0x10382d[_0xfebde2(0x9fe)]===_0x58caf8);_0x1c6209[_0xfebde2(0xa2a)]({'name':_0x393527['studentName'],'isCorrect':_0x3e824d?_0x3e824d[_0xfebde2(0xaf2)]:![]}),_0x3e824d&&_0x3e824d[_0xfebde2(0xaf2)]&&_0x5b6c33++;}),_0x53d759[_0x18d718(0x488)](_0x165079=>{const _0x3b8490=_0x18d718,_0x17446b=_0x165079[_0x3b8490(0x933)][_0x165079[_0x3b8490(0x933)]['length']-0x1],_0x2a6b54=_0x17446b[_0x3b8490(0xc9e)]['find'](_0x363b5e=>_0x363b5e['originalQuestionText']===_0x58caf8);_0x2e4781[_0x3b8490(0xa2a)]({'name':_0x165079[_0x3b8490(0x775)],'isCorrect':_0x2a6b54?_0x2a6b54[_0x3b8490(0xaf2)]:![]}),_0x2a6b54&&_0x2a6b54['isCorrect']&&_0x343b1f++;}),_0x1751df[_0x18d718(0x488)](_0x5a5d27=>{const _0xdd6edb=_0x18d718,_0x3e1f4a=_0x5a5d27[_0xdd6edb(0x933)][_0x5a5d27[_0xdd6edb(0x933)]['length']-0x1],_0x481756=_0x3e1f4a['answers'][_0xdd6edb(0x2ba)](_0x32c35c=>_0x32c35c[_0xdd6edb(0x9fe)]===_0x58caf8);_0x481756&&_0x481756['isCorrect']&&_0x52e25e++;});const _0x3322ca=_0x1b1975>0x0?_0x52e25e/_0x1b1975:0x0,_0x4a8643=_0xa49d64>0x0?_0x5b6c33/_0xa49d64-_0x343b1f/_0xa49d64:0x0;_0x3f5754[_0xf97fc7]={'p':_0x3322ca,'r':_0x4a8643,'upperGroupResponders':_0x1c6209,'lowerGroupResponders':_0x2e4781};}),{'perQuestionStats':_0x3f5754,'overallGroups':{'upperGroupNames':_0x45e0a9,'lowerGroupNames':_0x996d65}};}function drag(_0x44d4ab){const _0x36f73a=_0x26020e;if(draggedSvgElement){_0x44d4ab[_0x36f73a(0x1b0)]();const _0x54ffc6=draggedSvgElement['ownerSVGElement'],_0x3d5403=getPointerPosition(_0x54ffc6,_0x44d4ab),_0x172ce2=_0x54ffc6[_0x36f73a(0xd05)][_0x36f73a(0x3c7)];let _0x1e7344=_0x3d5403['x']-svgOffset['x'],_0xfe4e42=_0x3d5403['y']-svgOffset['y'];const _0x523536=draggedSvgElement[_0x36f73a(0xb40)]();_0x1e7344=Math[_0x36f73a(0x6c6)](_0x172ce2['x'],Math['min'](_0x1e7344,_0x172ce2['x']+_0x172ce2['width']-_0x523536[_0x36f73a(0xa1e)])),_0xfe4e42=Math['max'](_0x172ce2['y'],Math[_0x36f73a(0x363)](_0xfe4e42,_0x172ce2['y']+_0x172ce2[_0x36f73a(0xa8f)]-_0x523536[_0x36f73a(0xa8f)])),draggedSvgElement[_0x36f73a(0x747)](null,'x',_0x1e7344),draggedSvgElement['setAttributeNS'](null,'y',_0xfe4e42);}}function endDrag(_0x1bde36){draggedSvgElement=null;}function handleSvgEditClick(_0x38ff79){const _0x1bcccb=_0x26020e;if(_0x38ff79[_0x1bcccb(0x440)][_0x1bcccb(0xab0)][_0x1bcccb(0x8be)](_0x1bcccb(0xcf0))){const _0x2f3483=_0x38ff79[_0x1bcccb(0x440)][_0x1bcccb(0xd00)]['targetId'],_0x3f592c=_0x38ff79[_0x1bcccb(0x73f)],_0xfb05d6=_0x3f592c['querySelector']('#'+_0x2f3483);_0xfb05d6&&_0xfb05d6[_0x1bcccb(0x48e)](),_0x38ff79['target'][_0x1bcccb(0x48e)]();}}function handleEditQuestion(_0x9b08e0){const _0x1e004d=_0x26020e,_0x5c7551=_0x9b08e0[_0x1e004d(0x73f)],_0x41d4db=_0x5c7551[_0x1e004d(0xd00)][_0x1e004d(0x517)],_0x3c2507=currentQuizData[_0x1e004d(0x1c9)][_0x41d4db],_0x5df8c5=document['getElementById'](_0x1e004d(0x415)+_0x41d4db),_0x27d317=document[_0x1e004d(0x44e)](_0x1e004d(0xc16)+_0x41d4db),_0x5b6c68=document[_0x1e004d(0x44e)](_0x1e004d(0x7c7)+_0x41d4db);if(_0x5c7551[_0x1e004d(0x4c4)][_0x1e004d(0xae9)](_0x1e004d(0x884))){_0x5c7551[_0x1e004d(0x4c4)]=_0x1e004d(0x364),_0x5c7551[_0x1e004d(0x9c2)]='บันทึกการแก้ไข';if(_0x5df8c5)_0x5df8c5[_0x1e004d(0xc10)]=!![];if(_0x27d317)_0x27d317[_0x1e004d(0xc10)]=!![];if(_0x5b6c68){const _0x1f3816=_0x5b6c68['querySelector'](_0x1e004d(0x731));if(_0x1f3816){const _0x46b1a5=_0x1f3816[_0x1e004d(0xb04)](_0x1e004d(0x2ac));_0x46b1a5[_0x1e004d(0x488)]((_0x4fa1f9,_0x5cc09a)=>{const _0x1d7b64=_0x1e004d,_0x59db59=_0x1d7b64(0xcc7)+_0x41d4db+'-'+_0x5cc09a;_0x4fa1f9['id']=_0x59db59,_0x4fa1f9[_0x1d7b64(0xab0)]['add']('draggable-text'),_0x4fa1f9[_0x1d7b64(0x456)][_0x1d7b64(0x561)]='move';const _0x516251=document['createElementNS'](_0x1d7b64(0x870),'circle'),_0x295582=_0x4fa1f9[_0x1d7b64(0xb40)]();_0x516251[_0x1d7b64(0x9f6)]('cx',String(_0x295582['x']+_0x295582[_0x1d7b64(0xa1e)]+0x5)),_0x516251[_0x1d7b64(0x9f6)]('cy',String(_0x295582['y']+_0x295582[_0x1d7b64(0xa8f)]/0x2-0x5)),_0x516251[_0x1d7b64(0x9f6)]('r','5'),_0x516251[_0x1d7b64(0x9f6)](_0x1d7b64(0x81b),'red'),_0x516251[_0x1d7b64(0x9f6)](_0x1d7b64(0xb50),'delete-svg-btn'),_0x516251[_0x1d7b64(0xd00)][_0x1d7b64(0x277)]=_0x59db59,_0x4fa1f9[_0x1d7b64(0xa88)](_0x516251);}),_0x1f3816[_0x1e004d(0xb41)](_0x1e004d(0xbf2),startDrag),_0x1f3816[_0x1e004d(0xb41)](_0x1e004d(0x8bd),drag),_0x1f3816['addEventListener'](_0x1e004d(0xba5),endDrag),_0x1f3816[_0x1e004d(0xb41)](_0x1e004d(0x23e),endDrag),_0x1f3816[_0x1e004d(0xb41)]('touchstart',startDrag,{'passive':![]}),_0x1f3816[_0x1e004d(0xb41)](_0x1e004d(0x8c8),drag,{'passive':![]}),_0x1f3816[_0x1e004d(0xb41)](_0x1e004d(0x6d7),endDrag),_0x1f3816[_0x1e004d(0xb41)]('touchcancel',endDrag),_0x1f3816['addEventListener']('click',handleSvgEditClick);}}if(_0x5df8c5)_0x5df8c5[_0x1e004d(0x28c)]();}else{_0x5c7551[_0x1e004d(0x4c4)]=_0x1e004d(0x3b3),_0x5c7551['title']=_0x1e004d(0x22d);if(_0x5df8c5){_0x5df8c5[_0x1e004d(0xc10)]=![];const _0x40c6cc=_0x3c2507[_0x1e004d(0x425)]||currentQuizData[_0x1e004d(0x31d)];_0x40c6cc===_0x1e004d(0x5b6)?_0x3c2507['stem']=_0x5df8c5['innerText'][_0x1e004d(0x9c1)](_0x5df8c5[_0x1e004d(0x792)][_0x1e004d(0x31a)]('.')+0x2)[_0x1e004d(0x30d)]():_0x3c2507[_0x1e004d(0xbbe)]=_0x5df8c5[_0x1e004d(0x792)][_0x1e004d(0x9c1)](_0x5df8c5[_0x1e004d(0x792)][_0x1e004d(0x31a)]('.')+0x2)[_0x1e004d(0x30d)]();}_0x27d317&&(_0x27d317['contentEditable']=![],_0x3c2507['explanation']=_0x27d317[_0x1e004d(0x792)]);if(_0x5b6c68){const _0x3a63ad=_0x5b6c68['querySelector'](_0x1e004d(0x731));if(_0x3a63ad){const _0x22a45f=_0x3a63ad[_0x1e004d(0x72a)](!![]);_0x22a45f[_0x1e004d(0xb04)](_0x1e004d(0x2f9))[_0x1e004d(0x488)](_0x5369cf=>_0x5369cf[_0x1e004d(0x48e)]()),_0x22a45f[_0x1e004d(0xb04)](_0x1e004d(0x50e))['forEach'](_0x18e4cc=>{const _0x2a69c3=_0x1e004d;_0x18e4cc[_0x2a69c3(0xab0)]['remove'](_0x2a69c3(0x5b8)),_0x18e4cc[_0x2a69c3(0x456)][_0x2a69c3(0x561)]='default',_0x18e4cc[_0x2a69c3(0x891)]('id');}),_0x3c2507[_0x1e004d(0xb2a)]=_0x22a45f[_0x1e004d(0x41a)],_0x3a63ad[_0x1e004d(0x50b)](_0x1e004d(0xbf2),startDrag),_0x3a63ad[_0x1e004d(0x50b)]('mousemove',drag),_0x3a63ad[_0x1e004d(0x50b)](_0x1e004d(0xba5),endDrag),_0x3a63ad[_0x1e004d(0x50b)](_0x1e004d(0x23e),endDrag),_0x3a63ad[_0x1e004d(0x50b)](_0x1e004d(0x2bb),startDrag),_0x3a63ad['removeEventListener'](_0x1e004d(0x8c8),drag),_0x3a63ad[_0x1e004d(0x50b)](_0x1e004d(0x6d7),endDrag),_0x3a63ad[_0x1e004d(0x50b)](_0x1e004d(0x1e0),endDrag),_0x3a63ad[_0x1e004d(0x50b)]('click',handleSvgEditClick),_0x3a63ad[_0x1e004d(0xb04)](_0x1e004d(0x2f9))[_0x1e004d(0x488)](_0x2e943d=>_0x2e943d['remove']()),_0x3a63ad[_0x1e004d(0xb04)](_0x1e004d(0x50e))['forEach'](_0x58017d=>{const _0x15235a=_0x1e004d;_0x58017d[_0x15235a(0xab0)][_0x15235a(0x48e)](_0x15235a(0x5b8)),_0x58017d[_0x15235a(0x456)][_0x15235a(0x561)]=_0x15235a(0xa40);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xf99b0e){const _0x147242=_0x26020e,_0x45e7e3=document[_0x147242(0x44e)](_0x147242(0x1fb)),_0x146208=document[_0x147242(0x44e)]('quiz-editor-questions-container');_0x146208['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x45e7e3['classList'][_0x147242(0x48e)](_0x147242(0x47d));try{const _0x1918bc=doc(db,_0x147242(0xc3e)+appId+'/public/data/quizzes',_0xf99b0e),_0x2f40b6=await getDoc(_0x1918bc);if(!_0x2f40b6[_0x147242(0xd0a)]())throw new Error(_0x147242(0x70f));currentEditingQuizData={'id':_0xf99b0e,..._0x2f40b6['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x5c757f){console[_0x147242(0x2fe)](_0x147242(0xbe3),_0x5c757f),showMessage(_0x147242(0x32a)),_0x45e7e3['classList'][_0x147242(0x75b)]('hidden');}}function renderQuizEditor(_0x54a584){const _0x174e89=_0x26020e;document[_0x174e89(0x44e)]('editor-quiz-topic')[_0x174e89(0x6ea)]=_0x54a584[_0x174e89(0x255)];const _0x122cf8=document[_0x174e89(0x44e)](_0x174e89(0x584));let _0x1836cc=_0x54a584[_0x174e89(0x1c9)][_0x174e89(0xd0b)]((_0x14043b,_0x28bd1f)=>{const _0x127864=_0x174e89;let _0x193a75='';const _0x398aaa=_0x14043b['questionType']||_0x54a584[_0x127864(0x31d)];switch(_0x398aaa){case'multiple_choice':const _0x5f0f3e=(_0x14043b['options']||[])['map']((_0x3a548d,_0x87e181)=>_0x127864(0xb2b)+_0x28bd1f+_0x127864(0x53e)+_0x87e181+'\x22\x20'+(_0x87e181===_0x14043b[_0x127864(0xa5b)]?_0x127864(0x8ab):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x3a548d+_0x127864(0xa44))[_0x127864(0xaa4)]('');_0x193a75=_0x127864(0x293)+_0x5f0f3e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':_0x193a75=_0x127864(0x24c)+(_0x14043b[_0x127864(0x2a5)]||'')+_0x127864(0x329);break;case _0x127864(0x7e8):_0x193a75='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x28bd1f+'\x22\x20value=\x22true\x22\x20'+(_0x14043b[_0x127864(0x7ba)]===!![]?_0x127864(0x8ab):'')+_0x127864(0x1b8)+_0x28bd1f+_0x127864(0x24f)+(_0x14043b[_0x127864(0x7ba)]===![]?_0x127864(0x8ab):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x127864(0x5b6):_0x193a75=_0x127864(0x9f0)+(_0x14043b[_0x127864(0xb53)]||'')+_0x127864(0xa3b);break;}const _0x4859bd=_0x14043b[_0x127864(0xbbe)]||_0x14043b[_0x127864(0xb16)]||'';return _0x127864(0x868)+_0x28bd1f+'\x22\x20data-q-type=\x22'+_0x398aaa+_0x127864(0xca8)+(_0x28bd1f+0x1)+'\x20('+_0x398aaa+_0x127864(0xb02)+_0x4859bd+_0x127864(0x761)+_0x193a75+_0x127864(0x981);})[_0x174e89(0xaa4)]('');_0x122cf8[_0x174e89(0x4c4)]=_0x1836cc,_0x122cf8[_0x174e89(0xb04)](_0x174e89(0x2ad))[_0x174e89(0x488)](_0x13e54f=>{const _0x34ee49=_0x174e89;_0x13e54f[_0x34ee49(0xb41)](_0x34ee49(0x560),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x21e7b0){const _0x46f126=_0x26020e,_0x3e655d=_0x21e7b0[_0x46f126(0x73f)],_0x3bf86c=_0x3e655d[_0x46f126(0xcf9)]('.question-editor-item');if(!_0x3bf86c)return;const _0x48e3b5=parseInt(_0x3bf86c[_0x46f126(0xd00)][_0x46f126(0x860)],0xa);if(isNaN(_0x48e3b5)||!currentEditingQuizData[_0x46f126(0x1c9)][_0x48e3b5]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x8e771a=currentEditingQuizData[_0x46f126(0x1c9)][_0x48e3b5];_0x3e655d[_0x46f126(0x4c4)]=_0x46f126(0x3b2),_0x3e655d['disabled']=!![];const _0x55dd33=_0x46f126(0x3b8)+JSON[_0x46f126(0x98d)](_0x8e771a)+_0x46f126(0xb76);let _0x5c433b;const _0x4951a9=_0x8e771a[_0x46f126(0x425)]||currentEditingQuizData[_0x46f126(0x31d)];switch(_0x4951a9){case'short_answer':_0x5c433b={'type':_0x46f126(0x51e),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x46f126(0x52a)},'imageCode':{'type':'STRING'}},'required':[_0x46f126(0xbbe),'idealAnswer','explanation']};break;case'multiple_choice':default:_0x5c433b={'type':_0x46f126(0x51e),'properties':{'questionText':{'type':_0x46f126(0x52a)},'options':{'type':_0x46f126(0x7ca),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x46f126(0x877)},'explanation':{'type':_0x46f126(0x52a)},'imageCode':{'type':_0x46f126(0x52a)}},'required':[_0x46f126(0xbbe),_0x46f126(0x3e3),_0x46f126(0xa5b),_0x46f126(0x4b2)]};break;}try{let _0x3be4a4=await callAnalysisApi(_0x55dd33,_0x5c433b);_0x3be4a4['options']&&Array[_0x46f126(0x588)](_0x3be4a4[_0x46f126(0x3e3)])&&(_0x3be4a4[_0x46f126(0x3e3)]=_0x3be4a4['options'][_0x46f126(0xd0b)](_0x5efc64=>typeof _0x5efc64===_0x46f126(0x8d3)?_0x5efc64[_0x46f126(0x558)](/S(\s*[\d_]+?\s*)S/g,_0x46f126(0x8a4)):_0x5efc64)),_0x8e771a[_0x46f126(0xb2a)]&&_0x8e771a[_0x46f126(0xb2a)][_0x46f126(0xae9)](_0x46f126(0x7db))&&(_0x3be4a4['imageCode']=''),currentEditingQuizData[_0x46f126(0x1c9)][_0x48e3b5]={..._0x8e771a,..._0x3be4a4},renderQuizEditor(currentEditingQuizData),showMessage(_0x46f126(0x457));}catch(_0x500ba7){console[_0x46f126(0x2fe)](_0x46f126(0x608),_0x500ba7),showMessage(_0x46f126(0x816)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x13eb5c=_0x26020e,_0x5f1bf6=document[_0x13eb5c(0x44e)](_0x13eb5c(0x939));_0x5f1bf6['disabled']=!![],_0x5f1bf6[_0x13eb5c(0x4c4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x5f5a25=document[_0x13eb5c(0x44e)](_0x13eb5c(0x2a7))[_0x13eb5c(0x6ea)],_0x596ccf=document[_0x13eb5c(0xb04)](_0x13eb5c(0xadc));let _0x41febf=[];const _0xeedb98=Array[_0x13eb5c(0x346)](_0x596ccf)['map']((_0x58f4f5,_0x4444f9)=>{const _0x4bdff9=_0x13eb5c,_0x4c0694=_0x58f4f5[_0x4bdff9(0xd00)][_0x4bdff9(0x89c)],_0x5ce92e=_0x58f4f5['querySelector'](_0x4bdff9(0x9af))[_0x4bdff9(0x6ea)][_0x4bdff9(0x558)](/\n/g,_0x4bdff9(0x73b));let _0x544482={'questionType':_0x4c0694};const _0x3dd871=currentEditingQuizData['questions'][_0x4444f9];switch(_0x4c0694){case _0x4bdff9(0xbad):_0x544482[_0x4bdff9(0xbbe)]=_0x5ce92e;const _0x4d1e1b=_0x58f4f5[_0x4bdff9(0xb04)](_0x4bdff9(0x1fc));_0x544482['options']=Array[_0x4bdff9(0x346)](_0x4d1e1b)['map'](_0x206d58=>_0x206d58[_0x4bdff9(0x6ea)]);const _0x224ea2=_0x58f4f5[_0x4bdff9(0x6ca)](_0x4bdff9(0x8cb));_0x544482[_0x4bdff9(0xa5b)]=_0x224ea2?parseInt(_0x224ea2[_0x4bdff9(0x6ea)]):0x0;break;case _0x4bdff9(0x500):_0x544482[_0x4bdff9(0xbbe)]=_0x5ce92e,_0x544482[_0x4bdff9(0x2a5)]=_0x58f4f5['querySelector'](_0x4bdff9(0x34f))['value'];break;case _0x4bdff9(0x7e8):_0x544482[_0x4bdff9(0xbbe)]=_0x5ce92e;const _0x51f12c=_0x58f4f5[_0x4bdff9(0x6ca)]('input[type=\x22radio\x22]:checked');_0x544482[_0x4bdff9(0x7ba)]=_0x51f12c?_0x51f12c[_0x4bdff9(0x6ea)]===_0x4bdff9(0x668):!![];break;case'matching_item':_0x544482[_0x4bdff9(0xb16)]=_0x5ce92e;const _0x1d19a2=_0x58f4f5['querySelector']('.correct-response-input');_0x544482[_0x4bdff9(0xb53)]=_0x1d19a2?_0x1d19a2[_0x4bdff9(0x6ea)]:'',_0x41febf[_0x4bdff9(0xa2a)](_0x544482[_0x4bdff9(0xb53)]);break;default:_0x544482[_0x4bdff9(0xbbe)]=_0x5ce92e;break;}return{..._0x3dd871,..._0x544482};});_0x41febf[_0x13eb5c(0x73e)]>0x0&&_0xeedb98['forEach'](_0x27fff8=>{const _0x33e341=_0x13eb5c;_0x27fff8[_0x33e341(0x425)]===_0x33e341(0x5b6)&&(_0x27fff8[_0x33e341(0x93c)]=_0x41febf);});const _0x27f40c=currentEditingQuizData['id'],_0x2bf12b=doc(db,_0x13eb5c(0xc3e)+appId+_0x13eb5c(0xa7d),_0x27f40c);await updateDoc(_0x2bf12b,{'topic':_0x5f5a25,'questions':_0xeedb98}),document['getElementById'](_0x13eb5c(0x1fb))[_0x13eb5c(0xab0)][_0x13eb5c(0x75b)](_0x13eb5c(0x47d)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x27f40c));}catch(_0x335c29){console[_0x13eb5c(0x2fe)](_0x13eb5c(0xb28),_0x335c29),showMessage(_0x13eb5c(0xadd));}finally{_0x5f1bf6['disabled']=![],_0x5f1bf6[_0x13eb5c(0x4c4)]=_0x13eb5c(0x358);}}async function initiateReGradeProcess(_0x36f0ff){const _0xbc9b00=_0x26020e;showMessage(_0xbc9b00(0x475));try{const _0x4449b0=doc(db,_0xbc9b00(0xc3e)+appId+'/public/data/quizzes',_0x36f0ff),_0x3f984a=await getDoc(_0x4449b0);if(!_0x3f984a[_0xbc9b00(0xd0a)]())throw new Error(_0xbc9b00(0xbf0));const _0x5bdc6e={'id':_0x36f0ff,..._0x3f984a[_0xbc9b00(0xb97)]()},_0x216f48=collection(db,'artifacts/'+appId+_0xbc9b00(0xa7d),_0x36f0ff,_0xbc9b00(0xaaa)),_0x57a349=await getDocs(_0x216f48);if(_0x57a349[_0xbc9b00(0x266)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x1c0d90=_0x57a349[_0xbc9b00(0x8d6)]['map'](_0x5421a5=>reGradeSingleSubmission(_0x5421a5,_0x5bdc6e));await Promise[_0xbc9b00(0x3bc)](_0x1c0d90);if(_0x5bdc6e['projectId']){const _0x5593f0=doc(db,_0xbc9b00(0xc3e)+appId+_0xbc9b00(0x828),_0x5bdc6e['projectId']),_0xe27c8a=await getDoc(_0x5593f0);if(_0xe27c8a[_0xbc9b00(0xd0a)]()&&_0xe27c8a[_0xbc9b00(0xb97)]()[_0xbc9b00(0x926)]){const _0x56b7e8=_0xe27c8a[_0xbc9b00(0xb97)]()[_0xbc9b00(0x926)]['map'](_0x159484=>updateStudentProfile(_0x5bdc6e[_0xbc9b00(0xc0b)],_0x159484));await Promise[_0xbc9b00(0x3bc)](_0x56b7e8);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x57a349[_0xbc9b00(0x466)]+_0xbc9b00(0x1c6));}catch(_0x447ff8){console['error']('Re-grade\x20process\x20failed:',_0x447ff8),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x447ff8[_0xbc9b00(0x9d4)]);}}async function reGradeSingleSubmission(_0x56f4f8,_0x379fe7){const _0x1029cc=_0x26020e,_0x138d0f=_0x56f4f8[_0x1029cc(0xb97)](),_0xe7e632=_0x138d0f[_0x1029cc(0x775)],_0x33ddf3=_0x138d0f[_0x1029cc(0x933)]||[],_0x39fc79=[];for(const _0x548d7b of _0x33ddf3){let _0x11a895=0x0,_0x523886=[],_0x4f7241=0x0;const _0x15ce04=[];for(const _0x2570f2 of _0x548d7b[_0x1029cc(0xc9e)]){let _0x1f7082;_0x2570f2[_0x1029cc(0x302)]&&(_0x1f7082=_0x379fe7['questions']['find'](_0x3f37d8=>_0x3f37d8['id']===_0x2570f2[_0x1029cc(0x302)]));!_0x1f7082&&_0x2570f2[_0x1029cc(0x9fe)]&&(_0x1f7082=_0x379fe7[_0x1029cc(0x1c9)][_0x1029cc(0x2ba)](_0x210674=>(_0x210674[_0x1029cc(0xb16)]||_0x210674['questionText'])===_0x2570f2[_0x1029cc(0x9fe)]));let _0x41f348=![];if(_0x1f7082){const _0x53b428=_0x1f7082[_0x1029cc(0x425)]||_0x379fe7[_0x1029cc(0x31d)];switch(_0x53b428){case _0x1029cc(0xbad):if(_0x1f7082[_0x1029cc(0x3e3)]&&_0x1f7082[_0x1029cc(0xa5b)]<_0x1f7082[_0x1029cc(0x3e3)][_0x1029cc(0x73e)]){const _0x1554eb=_0x1f7082[_0x1029cc(0x3e3)][_0x1f7082['correctAnswerIndex']];_0x41f348=_0x2570f2[_0x1029cc(0x96d)]===_0x1554eb;}break;case _0x1029cc(0x7e8):const _0x3841e4=_0x2570f2[_0x1029cc(0x204)]===!![]||_0x2570f2['answer']===_0x1029cc(0x668);_0x41f348=_0x3841e4===_0x1f7082[_0x1029cc(0x7ba)];break;case _0x1029cc(0x5b6):_0x41f348=_0x2570f2[_0x1029cc(0x204)]===_0x1f7082[_0x1029cc(0xb53)];break;case _0x1029cc(0x500):_0x41f348=await gradeShortAnswer(_0x2570f2[_0x1029cc(0x204)],_0x1f7082);break;default:_0x41f348=_0x2570f2[_0x1029cc(0xaf2)];break;}}if(_0x41f348){_0x11a895++,_0x4f7241++;if(_0x4f7241===0x3)_0x523886[_0x1029cc(0xa2a)](BADGES[_0x1029cc(0x8f5)]['id']);}else _0x4f7241=0x0;_0x15ce04[_0x1029cc(0xa2a)]({..._0x2570f2,'isCorrect':_0x41f348});}let _0x102ee7=_0x11a895*0xa;_0x11a895===_0x379fe7[_0x1029cc(0x1c9)][_0x1029cc(0x73e)]&&(_0x102ee7+=0x32,_0x523886[_0x1029cc(0xa2a)](BADGES[_0x1029cc(0x3f8)]['id'])),_0x39fc79[_0x1029cc(0xa2a)]({..._0x548d7b,'score':_0x11a895,'points':_0x102ee7,'badges':Array[_0x1029cc(0x346)](new Set(_0x523886)),'answers':_0x15ce04});}const _0x103c5d=_0x39fc79[_0x1029cc(0x73e)]>0x0?_0x39fc79[0x0][_0x1029cc(0x635)]:0x0,_0x462b3f=Math[_0x1029cc(0x6c6)](..._0x39fc79[_0x1029cc(0xd0b)](_0x5beab5=>_0x5beab5[_0x1029cc(0x635)])),_0x30d3cf=_0x39fc79[_0x1029cc(0x73e)]>0x0?_0x39fc79[_0x39fc79['length']-0x1]['score']:0x0,_0x37a0dd=_0x39fc79[_0x1029cc(0x73e)]>0x0?_0x39fc79[_0x39fc79[_0x1029cc(0x73e)]-0x1]['points']:0x0,_0x3b56f3=doc(db,_0x1029cc(0xc3e)+appId+_0x1029cc(0xa6e)+_0x379fe7['id']+'/submissions',_0xe7e632);await updateDoc(_0x3b56f3,{'attempts':_0x39fc79,'firstScore':_0x103c5d,'bestScore':_0x462b3f,'latestScore':_0x30d3cf,'points':_0x37a0dd});}function cleanupQuizOptions(_0x13a0dd){const _0x478cad=_0x26020e,_0x1302db=(_0x4fb701,_0x439020)=>_0x439020===0x0?_0x4fb701:_0x1302db(_0x439020,_0x4fb701%_0x439020),_0x3f6ef8=_0x257df6=>{const _0x41e32d=_0x48bc;if(typeof _0x257df6!==_0x41e32d(0x8d3))return null;_0x257df6=_0x257df6[_0x41e32d(0x30d)]();const _0x44b761=_0x257df6[_0x41e32d(0x232)](/[ /]/)[_0x41e32d(0x1f5)](_0x432c88=>_0x432c88!=='');if(_0x44b761[_0x41e32d(0x73e)]===0x3)return parseInt(_0x44b761[0x0])+parseInt(_0x44b761[0x1])/parseInt(_0x44b761[0x2]);else{if(_0x44b761[_0x41e32d(0x73e)]===0x2)return parseInt(_0x44b761[0x0])/parseInt(_0x44b761[0x1]);else{if(_0x44b761[_0x41e32d(0x73e)]===0x1&&!isNaN(_0x44b761[0x0]))return parseFloat(_0x44b761[0x0]);}}return null;},_0x2cce86=_0x534ae9=>{const _0x3f1927=_0x48bc;if(typeof _0x534ae9!==_0x3f1927(0x8d3))return _0x534ae9;const _0x472b35=_0x534ae9['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x472b35){const _0x1a98fd=parseInt(_0x472b35[0x1]);let _0x479f5a=parseInt(_0x472b35[0x2]),_0x1166af=parseInt(_0x472b35[0x3]);const _0xa2968c=_0x1302db(_0x479f5a,_0x1166af);_0x479f5a/=_0xa2968c,_0x1166af/=_0xa2968c;if(_0x1166af===0x1)return(_0x1a98fd+_0x479f5a)[_0x3f1927(0x1e5)]();return _0x1a98fd+'\x20'+_0x479f5a+'/'+_0x1166af;}return _0x534ae9;};return _0x13a0dd&&_0x13a0dd[_0x478cad(0x1c9)]&&_0x13a0dd[_0x478cad(0x1c9)][_0x478cad(0x488)](_0x43be28=>{const _0x49b74b=_0x478cad;if(_0x43be28[_0x49b74b(0x425)]==='multiple_choice'&&_0x43be28[_0x49b74b(0x3e3)]){const _0x1ac247=new Map(),_0x75df12=_0x43be28[_0x49b74b(0x3e3)][_0x43be28[_0x49b74b(0xa5b)]];_0x43be28[_0x49b74b(0x3e3)][_0x49b74b(0x488)](_0x33bd9e=>{const _0x1fc84f=_0x49b74b,_0x5d411d=_0x2cce86(_0x33bd9e),_0x4200eb=_0x3f6ef8(_0x5d411d);_0x4200eb!==null&&!_0x1ac247[_0x1fc84f(0x2cf)](_0x4200eb)&&_0x1ac247[_0x1fc84f(0xa02)](_0x4200eb,_0x5d411d);}),_0x43be28[_0x49b74b(0x3e3)]=Array[_0x49b74b(0x346)](_0x1ac247[_0x49b74b(0x20d)]());const _0x3e540f=_0x43be28['options'][_0x49b74b(0xc87)](_0x235660=>_0x235660===_0x2cce86(_0x75df12));_0x43be28['correctAnswerIndex']=_0x3e540f!==-0x1?_0x3e540f:0x0;}}),_0x13a0dd;}function showGameStartConfirmationModal(_0x3be98f,_0x4bbe09,_0x4120e6){const _0x525772=_0x26020e,_0x2e9840=document[_0x525772(0x44e)](_0x525772(0x583));document[_0x525772(0x44e)]('game-start-modal-title')[_0x525772(0xb23)]=_0x525772(0x26a)+_0x4120e6,document[_0x525772(0x44e)]('game-start-quiz-id')[_0x525772(0x6ea)]=_0x3be98f,document[_0x525772(0x44e)]('game-start-mode')[_0x525772(0x6ea)]=_0x4bbe09,document[_0x525772(0x44e)](_0x525772(0x444))[_0x525772(0x8ab)]=!![],_0x2e9840[_0x525772(0xab0)][_0x525772(0x48e)](_0x525772(0x47d));}async function saveGameResultsAsSubmissions(_0x16225e){const _0x3c7bde=_0x26020e;console[_0x3c7bde(0x824)]('Attempting\x20to\x20save\x20game\x20results...',_0x16225e);const _0x1886c1=_0x16225e[_0x3c7bde(0x673)];let _0x11354b=[];if(_0x16225e[_0x3c7bde(0xb73)])_0x11354b=Object[_0x3c7bde(0xa5d)](_0x16225e[_0x3c7bde(0xb73)])[_0x3c7bde(0xd0b)](([_0x4ff6b9,_0x178f56])=>({'name':_0x4ff6b9,..._0x178f56}));else{if(_0x16225e['groups'])Object[_0x3c7bde(0x20d)](_0x16225e[_0x3c7bde(0x4f2)])['forEach'](_0x4ab81c=>{const _0x2e3df6=_0x3c7bde;_0x4ab81c[_0x2e3df6(0x291)][_0x2e3df6(0x488)](_0x4f4202=>{const _0x45ffff=_0x2e3df6;_0x11354b[_0x45ffff(0xa2a)]({'name':_0x4f4202,'score':_0x4ab81c['score'],'answers':_0x4ab81c[_0x45ffff(0xc9e)]});});});else _0x16225e['responses']&&Object[_0x3c7bde(0xa5d)](_0x16225e[_0x3c7bde(0x2e3)])['forEach'](([_0x30b87e,_0x1ed552])=>{_0x11354b['push']({'name':_0x30b87e,..._0x1ed552});});}if(_0x11354b[_0x3c7bde(0x73e)]===0x0){console['log'](_0x3c7bde(0x676));return;}const _0x3e6c28=_0x16225e[_0x3c7bde(0x91d)]?.['questions'][_0x3c7bde(0x73e)]||currentQuizData['questions'][_0x3c7bde(0x73e)],_0x4e718a=writeBatch(db);for(const _0x3193e3 of _0x11354b){const _0x26f83f=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1886c1+'/submissions',_0x3193e3[_0x3c7bde(0x7c3)]),_0x467ad4=(_0x3193e3[_0x3c7bde(0xc9e)]||[])[_0x3c7bde(0x1f5)](_0x5e28ac=>_0x5e28ac[_0x3c7bde(0xaf2)])[_0x3c7bde(0x73e)];let _0x1aa8e0=_0x467ad4;_0x16225e[_0x3c7bde(0x5e4)]&&_0x3193e3[_0x3c7bde(0xc9e)]&&_0x3193e3[_0x3c7bde(0xc9e)]['forEach'](_0x2ee272=>{const _0x4ce2e1=_0x3c7bde;if(_0x2ee272[_0x4ce2e1(0xaf2)]&&(_0x2ee272[_0x4ce2e1(0xb51)]===!![]||_0x2ee272['wasConfident']===_0x4ce2e1(0x5f6)))_0x1aa8e0+=0x1;else!_0x2ee272[_0x4ce2e1(0xaf2)]&&(_0x2ee272[_0x4ce2e1(0xb51)]===!![]||_0x2ee272[_0x4ce2e1(0xb51)]===_0x4ce2e1(0x5f6))&&(_0x1aa8e0-=0x1);});_0x3e6c28>0x0&&_0x467ad4===_0x3e6c28&&(_0x1aa8e0+=0x1);const _0xfee2fe={'score':_0x467ad4,'points':_0x1aa8e0,'badges':_0x3193e3['badges']||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x3193e3['answers']||[])[_0x3c7bde(0xd0b)](_0xf8a35e=>({'questionId':_0xf8a35e[_0x3c7bde(0x302)],'answer':_0xf8a35e[_0x3c7bde(0x204)],'answerText':_0xf8a35e['answerText'],'isCorrect':_0xf8a35e[_0x3c7bde(0xaf2)],'originalQuestionText':_0xf8a35e[_0x3c7bde(0x9fe)],'wasConfident':_0xf8a35e['wasConfident']}))},_0x129bd1=await getDoc(_0x26f83f),_0x39113d=_0x129bd1[_0x3c7bde(0xd0a)]()?_0x129bd1['data']():{},_0x5a1704=_0x39113d[_0x3c7bde(0x887)]||0x0,_0x2cb110=_0x39113d['attempts']||[],_0x5d134e={'studentName':_0x3193e3[_0x3c7bde(0x7c3)],'totalQuestions':_0x3e6c28,'attempts':arrayUnion(_0xfee2fe),'latestScore':_0x467ad4,'points':_0x1aa8e0,'latestSubmittedAt':_0xfee2fe[_0x3c7bde(0x642)],'bestScore':Math[_0x3c7bde(0x6c6)](_0x5a1704,_0x467ad4),'firstScore':_0x2cb110['length']===0x0?_0x467ad4:_0x39113d['firstScore']||0x0};_0x4e718a[_0x3c7bde(0xa02)](_0x26f83f,_0x5d134e,{'merge':!![]});}try{await _0x4e718a[_0x3c7bde(0x7dc)](),showMessage(_0x3c7bde(0x4e0)+_0x11354b[_0x3c7bde(0x73e)]+'\x20รายการ\x20สำเร็จ!');const _0x367121=_0x16225e[_0x3c7bde(0x91d)]?.[_0x3c7bde(0xc0b)]||currentQuizData?.[_0x3c7bde(0xc0b)]||currentProjectId;if(_0x367121){const _0x5748e8=[...new Set(_0x11354b[_0x3c7bde(0xd0b)](_0x56d418=>_0x56d418['name']))];for(const _0x613ea5 of _0x5748e8){await updateStudentProfile(_0x367121,_0x613ea5);}}}catch(_0x5ad969){console[_0x3c7bde(0x2fe)](_0x3c7bde(0x87b),_0x5ad969),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(_0x37520f=null,_0x579d96=null){const _0x20b2b2=_0x26020e,_0x459445=_0x37520f||currentProjectId;if(!_0x459445){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x20b2b2(0xaf9));return;}const _0x3093ef=document[_0x20b2b2(0x44e)](_0x20b2b2(0xd09));_0x3093ef[_0x20b2b2(0x993)]=!![],_0x3093ef[_0x20b2b2(0x4c4)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x41cac3=document[_0x20b2b2(0x44e)](_0x20b2b2(0x553))['checked'];let _0x3b581c=document[_0x20b2b2(0x44e)](_0x20b2b2(0x7c5))[_0x20b2b2(0x792)]['trim']();_0x41cac3&&!_0x3b581c['startsWith'](_0x20b2b2(0xc5f))&&(_0x3b581c=_0x20b2b2(0x7ef)+_0x3b581c);try{const _0x3bb6e4={'resultsDisplay':document['getElementById'](_0x20b2b2(0x2f8))[_0x20b2b2(0x6ea)],'shuffle':document['getElementById'](_0x20b2b2(0xc6b))['value'],'timerMode':document[_0x20b2b2(0x44e)](_0x20b2b2(0x4a3))[_0x20b2b2(0x6ea)],'timerDuration':parseInt(document[_0x20b2b2(0x44e)]('timer-duration-input')['value'])||0xa,'passingScore':parseInt(document[_0x20b2b2(0x44e)](_0x20b2b2(0x491))[_0x20b2b2(0x6ea)])||0x0,'isAdaptive':document[_0x20b2b2(0x44e)](_0x20b2b2(0x32f))['checked'],'loopUntilPass':document['getElementById'](_0x20b2b2(0xbd2))['checked']},_0x2106f1=(currentQuizData[_0x20b2b2(0x1c9)]||[])['map']((_0x16cc46,_0x17e63f)=>{const _0x49b43e=_0x20b2b2,_0x1f59ae=document[_0x49b43e(0x44e)](_0x49b43e(0xaaf))[_0x49b43e(0x6ea)],_0x43aa9d={'id':'q_'+Date[_0x49b43e(0xc63)]()+'_'+_0x17e63f,'questionText':_0x16cc46['questionText']||'','explanation':_0x16cc46['explanation']||'ไม่มีคำอธิบาย','questionType':_0x16cc46[_0x49b43e(0x425)]||_0x1f59ae,'imageCode':_0x16cc46[_0x49b43e(0xb2a)]||null};return(_0x43aa9d[_0x49b43e(0x425)]==='multiple_choice'||_0x43aa9d[_0x49b43e(0x425)]===_0x49b43e(0xb06)||_0x43aa9d[_0x49b43e(0x425)]===_0x49b43e(0x463)&&_0x16cc46[_0x49b43e(0x3e3)])&&(_0x43aa9d[_0x49b43e(0x3e3)]=_0x16cc46[_0x49b43e(0x3e3)]||[],_0x43aa9d[_0x49b43e(0xa5b)]=_0x16cc46['correctAnswerIndex']!==undefined?_0x16cc46[_0x49b43e(0xa5b)]:0x0),(_0x43aa9d[_0x49b43e(0x425)]===_0x49b43e(0x500)||_0x43aa9d[_0x49b43e(0x425)]==='fill_in_no_choices'||_0x43aa9d[_0x49b43e(0x425)]===_0x49b43e(0x463)&&_0x16cc46[_0x49b43e(0x2a5)])&&(_0x43aa9d[_0x49b43e(0x2a5)]=_0x16cc46[_0x49b43e(0x2a5)]||''),_0x43aa9d[_0x49b43e(0x425)]===_0x49b43e(0x7e8)&&(_0x43aa9d[_0x49b43e(0x7ba)]=_0x16cc46['correctAnswer']===!![]),_0x43aa9d[_0x49b43e(0x425)]===_0x49b43e(0x5b6)&&(_0x43aa9d[_0x49b43e(0xb16)]=_0x16cc46[_0x49b43e(0xb16)]||'',_0x43aa9d[_0x49b43e(0xb53)]=_0x16cc46[_0x49b43e(0xb53)]||'',_0x43aa9d[_0x49b43e(0x93c)]=_0x16cc46[_0x49b43e(0x93c)]||[]),_0x43aa9d;}),_0x51bcca={'topic':_0x3b581c,'quizType':currentQuizData[_0x20b2b2(0x31d)]||_0x20b2b2(0xbad),'questions':_0x2106f1,'projectId':_0x459445,'createdBy':userId,'createdAt':new Date()[_0x20b2b2(0x501)](),'status':_0x20b2b2(0x57f),'settings':_0x3bb6e4,'quizMode':_0x41cac3?'pre-test':_0x20b2b2(0x776),'pairedQuizId':null,'lessonPlan':null};let _0x1e3e6e;while(!![]){_0x1e3e6e=Math[_0x20b2b2(0x513)](0x3e8+Math['random']()*0x2328)[_0x20b2b2(0x1e5)]();const _0x18edb2=await getDoc(doc(db,_0x20b2b2(0xc3e)+appId+'/public/data/quizzes',_0x1e3e6e));if(!_0x18edb2[_0x20b2b2(0xd0a)]())break;}await setDoc(doc(db,_0x20b2b2(0xc3e)+appId+_0x20b2b2(0xa7d),_0x1e3e6e),_0x51bcca);if(_0x579d96&&currentBlueprintProjectId){console[_0x20b2b2(0x824)](_0x20b2b2(0xc24)+_0x1e3e6e+'\x20to\x20blueprint\x20topic\x20'+_0x579d96);try{const _0x5070a3=doc(db,_0x20b2b2(0xc3e)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5070a3,{['topics.'+_0x579d96+_0x20b2b2(0x344)]:arrayUnion(_0x1e3e6e)});}catch(_0x4f8b2e){console[_0x20b2b2(0x2fe)](_0x20b2b2(0x7be),_0x4f8b2e);}}currentQuizData[_0x20b2b2(0x798)]=_0x3bb6e4,currentQuizData['id']=_0x1e3e6e;const _0x231c67=document[_0x20b2b2(0x44e)](_0x20b2b2(0x5c0));_0x231c67[_0x20b2b2(0x4c4)]=_0x20b2b2(0x940)+_0x1e3e6e+_0x20b2b2(0x66c),document[_0x20b2b2(0x44e)](_0x20b2b2(0x196))['addEventListener'](_0x20b2b2(0x560),()=>copyTextToClipboard(_0x1e3e6e,_0x20b2b2(0x5ab))),document['getElementById'](_0x20b2b2(0xc68))['addEventListener'](_0x20b2b2(0x560),()=>handleStartLiveRace(_0x1e3e6e)),document['getElementById'](_0x20b2b2(0x6a7))[_0x20b2b2(0xb41)](_0x20b2b2(0x560),()=>startPresentation(currentQuizData)),document[_0x20b2b2(0x44e)]('admin-try-quiz-btn')['addEventListener']('click',startAdminTest),showMessage(_0x20b2b2(0x658));}catch(_0x37eb36){console['error'](_0x20b2b2(0xb77),_0x37eb36),showMessage(_0x20b2b2(0x4ec));}finally{_0x3093ef[_0x20b2b2(0x993)]=![],_0x3093ef[_0x20b2b2(0x4c4)]=_0x20b2b2(0x89f);}}function promptForProjectAndSave(){const _0x23045f=_0x26020e,_0x47ec36=document[_0x23045f(0x44e)](_0x23045f(0x181)),_0x149193=document[_0x23045f(0x44e)](_0x23045f(0x21a)),_0x4abbe2=_0x47ec36[_0x23045f(0x6ca)]('h3'),_0x217ab3=document['getElementById'](_0x23045f(0x750));_0x4abbe2[_0x23045f(0xb23)]='เลือกโปรเจคเพื่อบันทึก',_0x217ab3['textContent']='เลือกและบันทึก';allProjects[_0x23045f(0x73e)]===0x0?(_0x149193[_0x23045f(0x4c4)]=_0x23045f(0x76a),_0x217ab3['disabled']=!![]):(_0x149193[_0x23045f(0x4c4)]=allProjects[_0x23045f(0xd0b)](_0x221ce3=>'<option\x20value=\x22'+_0x221ce3['id']+'\x22>'+_0x221ce3[_0x23045f(0x8d8)]+_0x23045f(0xcba))[_0x23045f(0xaa4)](''),_0x217ab3['disabled']=![]);_0x47ec36[_0x23045f(0xab0)][_0x23045f(0x48e)]('hidden');const _0x174538=()=>{const _0x1acb03=_0x23045f,_0x511e26=_0x149193[_0x1acb03(0x6ea)];_0x511e26?(currentProjectId=_0x511e26,_0x47ec36[_0x1acb03(0xab0)][_0x1acb03(0x75b)](_0x1acb03(0x47d)),saveQuiz(),_0x4abbe2[_0x1acb03(0xb23)]=_0x1acb03(0xa9b),_0x217ab3[_0x1acb03(0xb23)]=_0x1acb03(0xcb5),_0x217ab3[_0x1acb03(0x50b)](_0x1acb03(0x560),_0x174538),_0x217ab3[_0x1acb03(0xb41)]('click',confirmMoveQuiz)):showMessage(_0x1acb03(0x2e6));};_0x217ab3[_0x23045f(0x50b)]('click',confirmMoveQuiz),_0x217ab3['addEventListener']('click',_0x174538);}function copyTextToClipboard(_0x4d515a,_0x4f3593){const _0x35f0bc=_0x26020e,_0x2cd40d=document['createElement'](_0x35f0bc(0x9af));_0x2cd40d[_0x35f0bc(0x6ea)]=_0x4d515a,_0x2cd40d[_0x35f0bc(0x456)][_0x35f0bc(0x429)]=_0x35f0bc(0x650),_0x2cd40d[_0x35f0bc(0x456)][_0x35f0bc(0x3e5)]='0',document[_0x35f0bc(0x859)][_0x35f0bc(0xccd)](_0x2cd40d),_0x2cd40d[_0x35f0bc(0x28c)](),_0x2cd40d['select']();try{const _0x2450c3=document[_0x35f0bc(0x225)](_0x35f0bc(0x5a5));showMessage(_0x2450c3?_0x4f3593:_0x35f0bc(0xcb9));}catch(_0x4c53b2){showMessage(_0x35f0bc(0xcb9)),console[_0x35f0bc(0x2fe)]('Copy\x20command\x20failed',_0x4c53b2);}document[_0x35f0bc(0x859)]['removeChild'](_0x2cd40d);}function listenForProjectQuizzes(_0x31f2a0){const _0x3b51d1=_0x26020e,_0x278fa6=collection(db,_0x3b51d1(0xc3e)+appId+_0x3b51d1(0xa7d)),_0x2913f3=query(_0x278fa6,where(_0x3b51d1(0xc0b),'==',_0x31f2a0));unsubscribeQuizzesListener=onSnapshot(_0x2913f3,async _0x161882=>{const _0x3b4959=_0x3b51d1;allQuizzes=_0x161882[_0x3b4959(0x8d6)][_0x3b4959(0xd0b)](_0x13dfa8=>({'id':_0x13dfa8['id'],..._0x13dfa8[_0x3b4959(0xb97)]()})),renderQuizzes();},_0x9480ac=>{const _0x46d84f=_0x3b51d1;console[_0x46d84f(0x2fe)](_0x46d84f(0x706),_0x9480ac),document[_0x46d84f(0x44e)](_0x46d84f(0xa6b))[_0x46d84f(0x4c4)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x27e37d=_0x26020e,_0x373d59=document[_0x27e37d(0x44e)]('project-quizzes-list'),_0x157f3b=document['getElementById'](_0x27e37d(0x36a))[_0x27e37d(0x6ea)]['toLowerCase']();let _0x482d58;currentProjectId===_0x27e37d(0x535)?_0x482d58=starredQuizzes:_0x482d58=allQuizzes;let _0x10b159=_0x482d58[_0x27e37d(0x1f5)](_0x5ad31a=>_0x5ad31a['topic'][_0x27e37d(0x552)]()[_0x27e37d(0xae9)](_0x157f3b));_0x10b159[_0x27e37d(0x80a)]((_0x5d1403,_0x3a3020)=>new Date(_0x3a3020[_0x27e37d(0xa29)])-new Date(_0x5d1403[_0x27e37d(0xa29)]));if(_0x10b159[_0x27e37d(0x73e)]===0x0){_0x373d59['innerHTML']=_0x27e37d(0x192);return;}const _0x128579={},_0x5b8055=_0x10b159[_0x27e37d(0xd0b)](async _0x5349a2=>{const _0x553320=_0x27e37d,_0x511334=collection(db,_0x553320(0xc3e)+appId+_0x553320(0xa6e)+_0x5349a2['id']+_0x553320(0xab1)),_0x20da0d=await getDocs(_0x511334);_0x128579[_0x5349a2['id']]=_0x20da0d[_0x553320(0x466)];});await Promise['all'](_0x5b8055);let _0x39c11b='';_0x10b159[_0x27e37d(0x488)](_0x3ec46d=>{const _0x294f7a=_0x27e37d,_0x10f3ca=_0x128579[_0x3ec46d['id']]||0x0,_0x19cbb7=_0x3ec46d[_0x294f7a(0x8b8)]||_0x294f7a(0x57f),_0x32a7b3=_0x3ec46d[_0x294f7a(0x798)]?.[_0x294f7a(0x9e4)]||_0x294f7a(0x334);let _0x34172c='',_0x2f1aeb='';const _0x25ad86=new Date();let _0x3e3b14=_0x19cbb7;if(_0x19cbb7==='scheduled'){const _0x3dec59=_0x3ec46d[_0x294f7a(0x6db)]?new Date(_0x3ec46d[_0x294f7a(0x6db)]):null,_0x2ebe3b=_0x3ec46d['endTime']?new Date(_0x3ec46d[_0x294f7a(0xc32)]):null;if(_0x2ebe3b&&_0x25ad86>_0x2ebe3b)_0x3e3b14=_0x294f7a(0x4c5);else _0x3dec59&&_0x25ad86<_0x3dec59?_0x3e3b14=_0x294f7a(0xb61):_0x3e3b14=_0x294f7a(0x57f);}switch(_0x3e3b14){case _0x294f7a(0x4c5):_0x34172c=_0x294f7a(0x1b7),_0x2f1aeb='text-red-700\x20bg-red-100';break;case _0x294f7a(0xb61):_0x34172c=_0x294f7a(0xb58),_0x2f1aeb=_0x294f7a(0x9c3);break;case _0x294f7a(0x57f):_0x34172c=_0x32a7b3!=='none'?'เปิด\x20(จับเวลา)':_0x294f7a(0xbbc),_0x2f1aeb='text-green-700\x20bg-green-100';break;default:_0x34172c='ตั้งเวลา\x20(เปิด)',_0x2f1aeb='text-green-700\x20bg-green-100';break;}let _0xb2d168='';const _0x59c600={'day':'2-digit','month':_0x294f7a(0xae2),'year':_0x294f7a(0x5a0),'hour':_0x294f7a(0xae2),'minute':'2-digit','hour12':![]};if(_0x19cbb7===_0x294f7a(0x285)){if(_0x3ec46d[_0x294f7a(0x6db)])_0xb2d168+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x3ec46d[_0x294f7a(0x6db)])[_0x294f7a(0x24b)](_0x294f7a(0x600),_0x59c600)+_0x294f7a(0xb75);if(_0x3ec46d['endTime'])_0xb2d168+=_0x294f7a(0x82f)+new Date(_0x3ec46d[_0x294f7a(0xc32)])[_0x294f7a(0x24b)](_0x294f7a(0x600),_0x59c600)+_0x294f7a(0xb75);}let _0x5148ac='';if(_0x3ec46d['pairedQuizId']){const _0x3a5a40=allQuizzes[_0x294f7a(0x2ba)](_0x29a61f=>_0x29a61f['id']===_0x3ec46d['pairedQuizId']);if(_0x3a5a40){let _0x241342,_0x20dd0c;new Date(_0x3ec46d[_0x294f7a(0xa29)])<new Date(_0x3a5a40['createdAt'])?(_0x241342=_0x3ec46d['id'],_0x20dd0c=_0x3a5a40['id']):(_0x241342=_0x3a5a40['id'],_0x20dd0c=_0x3ec46d['id']),_0x5148ac+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x20dd0c+'\x22\x20data-pre-test-id=\x22'+_0x241342+_0x294f7a(0x2ef);}}else _0x3ec46d[_0x294f7a(0x531)]===_0x294f7a(0x3fb)&&(_0x5148ac+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ec46d['id']+_0x294f7a(0xa13));if(_0x3ec46d[_0x294f7a(0x531)]===_0x294f7a(0x3fb)&&_0x10f3ca>0x0)_0x5148ac+=_0x294f7a(0xcc8)+_0x3ec46d['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x3ec46d['pairedQuizId']&&_0x3ec46d[_0x294f7a(0x531)]!==_0x294f7a(0x3fb)&&_0x10f3ca>0x0&&(_0x5148ac+=_0x294f7a(0xcc8)+_0x3ec46d['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x5795fe='';_0x3ec46d[_0x294f7a(0xba4)]?_0x5795fe=_0x294f7a(0x60e)+_0x3ec46d['id']+_0x294f7a(0x65b):_0x5795fe=_0x294f7a(0x60e)+_0x3ec46d['id']+_0x294f7a(0x9b3),_0x39c11b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x3ec46d['id']+_0x294f7a(0xa99)+_0x3ec46d[_0x294f7a(0x255)]+_0x294f7a(0x1a6)+_0x3ec46d[_0x294f7a(0x1c9)][_0x294f7a(0x73e)]+_0x294f7a(0x7ff)+new Date(_0x3ec46d[_0x294f7a(0xa29)])[_0x294f7a(0x24b)]('th-TH')+_0x294f7a(0xc1b)+_0x10f3ca+_0x294f7a(0xa57)+_0xb2d168+_0x294f7a(0xac2)+_0x2f1aeb+'\x22>'+_0x34172c+_0x294f7a(0x4df)+_0x3ec46d['id']+_0x294f7a(0x8af)+_0x3ec46d['id']+_0x294f7a(0x460)+(_0x3ec46d['isStarred']?_0x294f7a(0x436):_0x294f7a(0x693))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5148ac+_0x294f7a(0x1d3)+_0x3ec46d['id']+_0x294f7a(0x188)+_0x3ec46d['id']+_0x294f7a(0x19b)+_0x3ec46d['id']+_0x294f7a(0xa75)+_0x3ec46d['id']+_0x294f7a(0xa7b)+_0x3ec46d['id']+_0x294f7a(0x8b3)+_0x3ec46d['id']+_0x294f7a(0x221)+_0x3ec46d['id']+_0x294f7a(0x78a)+_0x3ec46d[_0x294f7a(0x255)]+_0x294f7a(0x7fe)+_0x3ec46d['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ec46d['id']+_0x294f7a(0x2d1)+_0x5795fe+_0x294f7a(0x723)+_0x3ec46d['id']+_0x294f7a(0x4b4)+_0x3ec46d['id']+_0x294f7a(0x678)+_0x3ec46d['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ec46d['id']+_0x294f7a(0x606)+_0x3ec46d['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ec46d['id']+_0x294f7a(0xcac)+_0x3ec46d['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ec46d['id']+_0x294f7a(0x78a)+_0x3ec46d[_0x294f7a(0x255)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x3ec46d['id']+_0x294f7a(0x9d6);}),_0x373d59['innerHTML']=_0x39c11b,document[_0x27e37d(0xb04)](_0x27e37d(0x19a))[_0x27e37d(0x488)](_0x1e812e=>{const _0x5ce5f6=_0x27e37d;_0x1e812e[_0x5ce5f6(0xb41)](_0x5ce5f6(0x560),()=>{const _0x5dfc0a=_0x5ce5f6,_0x4fd355=_0x1e812e[_0x5dfc0a(0xd00)][_0x5dfc0a(0x673)];showQuizDetailView(_0x4fd355);});});}async function handleUnpairQuiz(_0x1cfd91){const _0x96dfa5=_0x26020e,_0x3f202d=allQuizzes['find'](_0xa1591f=>_0xa1591f['id']===_0x1cfd91);if(!_0x3f202d||!_0x3f202d['pairedQuizId']){showMessage(_0x96dfa5(0x4bb));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x4ba3cb=_0x96dfa5;try{const _0x13b616=doc(db,_0x4ba3cb(0xc3e)+appId+_0x4ba3cb(0xa7d),_0x1cfd91),_0x1c7488=doc(db,_0x4ba3cb(0xc3e)+appId+_0x4ba3cb(0xa7d),_0x3f202d[_0x4ba3cb(0xba4)]),_0x1f2a1b=writeBatch(db);_0x1f2a1b['update'](_0x13b616,{'pairedQuizId':null}),_0x1f2a1b[_0x4ba3cb(0x183)](_0x1c7488,{'pairedQuizId':null}),await _0x1f2a1b[_0x4ba3cb(0x7dc)](),showMessage(_0x4ba3cb(0xa18));}catch(_0x29bb62){console[_0x4ba3cb(0x2fe)](_0x4ba3cb(0x5e5),_0x29bb62),showMessage(_0x4ba3cb(0x667));}});}function formatAndPrintLessonPlan(_0x1cbdb0,_0x114a03){const _0x2c79e6=_0x26020e,_0x46b52a=window[_0x2c79e6(0x1c4)]('',_0x2c79e6(0x936)),_0x3436ce='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x114a03[_0x2c79e6(0x255)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x114a03['topic']+_0x2c79e6(0x5ba)+_0x1cbdb0[_0x2c79e6(0xa03)][_0x2c79e6(0xd0b)](_0xfd7a8a=>_0x2c79e6(0x3a6)+_0xfd7a8a+_0x2c79e6(0x3a1))[_0x2c79e6(0xaa4)]('')+_0x2c79e6(0x707)+_0x1cbdb0['teachingContent']+_0x2c79e6(0xa96)+_0x1cbdb0[_0x2c79e6(0x4ee)][_0x2c79e6(0xd0b)](_0x5dc76f=>_0x2c79e6(0x666)+_0x5dc76f['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x5dc76f[_0x2c79e6(0x349)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2c79e6(0xaa4)]('')+_0x2c79e6(0x826);_0x46b52a[_0x2c79e6(0x2f4)][_0x2c79e6(0x46b)](_0x3436ce),_0x46b52a[_0x2c79e6(0x2f4)][_0x2c79e6(0x455)](),_0x46b52a[_0x2c79e6(0x217)]=function(){setTimeout(()=>{const _0x3f8777=_0x48bc;_0x46b52a[_0x3f8777(0x90c)]();},0x3e8);};}async function handleAiFixFormula(_0x3249b4){const _0x164c2f=_0x26020e,_0x228fb3=document[_0x164c2f(0x6ca)]('.question-editor-item[data-q-index=\x22'+_0x3249b4+'\x22]');if(!_0x228fb3)return;const _0x3e1418=_0x228fb3[_0x164c2f(0xd00)][_0x164c2f(0x89c)],_0x33a21c=_0x228fb3[_0x164c2f(0x6ca)](_0x164c2f(0x8ec));let _0x1e0bde={'question':_0x228fb3[_0x164c2f(0x6ca)]('textarea')[_0x164c2f(0x6ea)]};switch(_0x3e1418){case _0x164c2f(0xbad):_0x1e0bde[_0x164c2f(0x3e3)]=Array[_0x164c2f(0x346)](_0x228fb3[_0x164c2f(0xb04)](_0x164c2f(0x1fc)))[_0x164c2f(0xd0b)](_0x3a2c46=>_0x3a2c46[_0x164c2f(0x6ea)]);break;case _0x164c2f(0x500):_0x1e0bde[_0x164c2f(0x2a5)]=_0x228fb3[_0x164c2f(0x6ca)](_0x164c2f(0x34f))[_0x164c2f(0x6ea)];break;case _0x164c2f(0x5b6):_0x1e0bde['correctResponse']=_0x228fb3[_0x164c2f(0x6ca)](_0x164c2f(0x895))[_0x164c2f(0x6ea)];break;}_0x33a21c[_0x164c2f(0x4c4)]=_0x164c2f(0x3b2),_0x33a21c[_0x164c2f(0x993)]=!![];try{const _0x5c57f3=_0x164c2f(0x76f)+JSON[_0x164c2f(0x98d)](_0x1e0bde)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3c3903={'type':'OBJECT','properties':{'fixedData':{'type':_0x164c2f(0x51e),'properties':{'question':{'type':_0x164c2f(0x52a)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':'STRING'}},'required':[_0x164c2f(0xbe6)]}},'required':[_0x164c2f(0x5f1)]},_0x46ba9d=await callAnalysisApi(_0x5c57f3,_0x3c3903);if(_0x46ba9d&&_0x46ba9d[_0x164c2f(0x5f1)]){const _0x240bf6=_0x46ba9d[_0x164c2f(0x5f1)];_0x228fb3[_0x164c2f(0x6ca)](_0x164c2f(0x9af))[_0x164c2f(0x6ea)]=_0x240bf6[_0x164c2f(0xbe6)]||_0x1e0bde['question'];switch(_0x3e1418){case _0x164c2f(0xbad):_0x240bf6['options']&&_0x240bf6[_0x164c2f(0x3e3)]['length']>0x0&&_0x228fb3['querySelectorAll'](_0x164c2f(0x1fc))[_0x164c2f(0x488)]((_0x2f9c59,_0x4e762a)=>{const _0x1d3f44=_0x164c2f;_0x2f9c59['value']=_0x240bf6[_0x1d3f44(0x3e3)][_0x4e762a]||_0x1e0bde[_0x1d3f44(0x3e3)][_0x4e762a];});break;case _0x164c2f(0x500):_0x228fb3[_0x164c2f(0x6ca)](_0x164c2f(0x34f))[_0x164c2f(0x6ea)]=_0x240bf6[_0x164c2f(0x2a5)]||_0x1e0bde[_0x164c2f(0x2a5)];break;case _0x164c2f(0x5b6):_0x228fb3[_0x164c2f(0x6ca)](_0x164c2f(0x895))['value']=_0x240bf6[_0x164c2f(0xb53)]||_0x1e0bde['correctResponse'];break;}if(_0x1e0bde[_0x164c2f(0xbe6)]!==_0x240bf6['question'])try{const _0x1b0339=collection(db,_0x164c2f(0xc3e)+appId+_0x164c2f(0x2c7));await addDoc(_0x1b0339,{'broken':_0x1e0bde[_0x164c2f(0xbe6)],'fixed':_0x240bf6[_0x164c2f(0xbe6)],'createdAt':serverTimestamp()});}catch(_0x291c69){console['error'](_0x164c2f(0xa8c),_0x291c69);}showMessage(_0x164c2f(0xbdc));}else throw new Error(_0x164c2f(0x76d));}catch(_0x350c63){console['error'](_0x164c2f(0x2b9),_0x350c63),showMessage(_0x164c2f(0x1c2));}finally{_0x33a21c['innerHTML']=_0x164c2f(0x9ee),_0x33a21c[_0x164c2f(0x993)]=![];}}async function handleGenerateLessonPlan(_0x4a7906){const _0x14fca0=_0x26020e;showMessage(_0x14fca0(0x827));try{const _0x22814f=doc(db,_0x14fca0(0xc3e)+appId+_0x14fca0(0xa7d),_0x4a7906),_0x149b6e=await getDoc(_0x22814f);if(!_0x149b6e[_0x14fca0(0xd0a)]())throw new Error(_0x14fca0(0xbf0));const _0x141821={'id':_0x4a7906,..._0x149b6e[_0x14fca0(0xb97)]()},_0x5137d4=collection(db,_0x14fca0(0xc3e)+appId+_0x14fca0(0xa7d),_0x4a7906,_0x14fca0(0xaaa)),_0x1d3ed7=await getDocs(_0x5137d4),_0x416a9a=_0x1d3ed7[_0x14fca0(0x8d6)]['map'](_0x5ea8bb=>_0x5ea8bb[_0x14fca0(0xb97)]());if(_0x416a9a[_0x14fca0(0x73e)]===0x0)throw new Error(_0x14fca0(0x73d));const _0x1318e4=calculateItemAnalysis(_0x141821,_0x416a9a)[_0x14fca0(0x7c8)],_0x957088=calculateDistractorAnalysis(_0x141821,_0x416a9a),_0x24f0fd=_0x5e41fb=>{const _0x33a484=_0x14fca0;if(!_0x5e41fb)return'';return _0x5e41fb['replace'](/\\/g,'\x5c\x5c')[_0x33a484(0x558)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x12ab34=_0x14fca0(0x7d1);_0x141821[_0x14fca0(0x1c9)][_0x14fca0(0x488)]((_0x360fba,_0x34fb85)=>{const _0x50351a=_0x14fca0,_0x2dc6aa=_0x1318e4[_0x34fb85]?.['p'][_0x50351a(0x69b)](0x2)||'N/A',_0x43d12d=_0x1318e4[_0x34fb85]?.['r'][_0x50351a(0x69b)](0x2)||_0x50351a(0x61d),_0x388147=_0x24f0fd(_0x360fba['questionText']||_0x360fba[_0x50351a(0xb16)]);_0x12ab34+=_0x50351a(0x447)+(_0x34fb85+0x1)+_0x50351a(0x97f)+_0x2dc6aa+_0x50351a(0x1ae)+_0x43d12d+_0x50351a(0xbb5)+_0x388147+'\x5cn';if(_0x360fba[_0x50351a(0x425)]==='multiple_choice'&&_0x957088[_0x34fb85]){const _0x4ea6e4=_0x957088[_0x34fb85],_0x46d318=Object[_0x50351a(0x4bc)](_0x4ea6e4)[_0x50351a(0x1f5)](_0x412d4b=>parseInt(_0x412d4b)!==_0x360fba[_0x50351a(0xa5b)])[_0x50351a(0x80a)]((_0x992c47,_0x4c6d3c)=>_0x4ea6e4[_0x4c6d3c][_0x50351a(0x18e)]-_0x4ea6e4[_0x992c47][_0x50351a(0x18e)])[0x0];if(_0x46d318&&_0x4ea6e4[_0x46d318]['total']>0x0){const _0x2d1355=_0x24f0fd(_0x4ea6e4[_0x46d318][_0x50351a(0x2ac)]);_0x12ab34+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x2d1355+_0x50351a(0x836);}}});const _0x2e511f=_0x14fca0(0x99f)+_0x141821['topic']+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12ab34+_0x14fca0(0xbd9),_0x439035={'type':_0x14fca0(0x51e),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':'STRING'}},'teachingContent':{'type':_0x14fca0(0x52a)},'practiceProblems':{'type':_0x14fca0(0x7ca),'items':{'type':_0x14fca0(0x51e),'properties':{'question':{'type':_0x14fca0(0x52a)},'solution':{'type':_0x14fca0(0x52a)}}}}},'required':['learningGaps',_0x14fca0(0x9cd),_0x14fca0(0x4ee)]},_0x40849d=await callAnalysisApi(_0x2e511f,_0x439035);await updateDoc(_0x22814f,{'lessonPlan':_0x40849d});const _0x5aa512='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x141821[_0x14fca0(0x255)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x40849d['learningGaps'][_0x14fca0(0xd0b)](_0x46abae=>'<li>'+_0x46abae+_0x14fca0(0x3a1))[_0x14fca0(0xaa4)]('')+_0x14fca0(0x51b)+_0x40849d[_0x14fca0(0x9cd)]+_0x14fca0(0x65a)+_0x40849d['practiceProblems'][_0x14fca0(0xd0b)](_0x1774c8=>_0x14fca0(0xb81)+_0x1774c8[_0x14fca0(0xbe6)]+_0x14fca0(0xb20)+_0x1774c8[_0x14fca0(0x349)]+_0x14fca0(0xa81))['join']('')+_0x14fca0(0xbfe);document[_0x14fca0(0x44e)]('lesson-plan-title')[_0x14fca0(0xb23)]=_0x14fca0(0xaeb)+_0x141821[_0x14fca0(0x255)],document['getElementById'](_0x14fca0(0x2e8))[_0x14fca0(0x4c4)]=_0x5aa512,document[_0x14fca0(0x44e)](_0x14fca0(0x9a2))[_0x14fca0(0xab0)][_0x14fca0(0x48e)](_0x14fca0(0x47d));if(window['MathJax'])MathJax[_0x14fca0(0xc74)]();messageModal['classList']['add']('hidden');}catch(_0x8c4c61){console['error'](_0x14fca0(0x7aa),_0x8c4c61),showMessage('เกิดข้อผิดพลาด:\x20'+_0x8c4c61['message']);}}async function handleDuplicateQuiz(_0x199736){const _0x172f3a=_0x26020e;try{const _0x252700=doc(db,_0x172f3a(0xc3e)+appId+_0x172f3a(0xa7d),_0x199736),_0x29bed0=await getDoc(_0x252700);if(_0x29bed0[_0x172f3a(0xd0a)]()){const _0x382eaa=_0x29bed0['data']();let _0x6988e7='',_0x51d862=_0x172f3a(0x776),_0x2717bc=null;if(_0x382eaa['quizMode']===_0x172f3a(0x3fb)){let _0x5ed6b5=_0x382eaa[_0x172f3a(0x255)]['replace'](_0x172f3a(0xc5f),'')[_0x172f3a(0x30d)]();_0x6988e7=_0x172f3a(0xc31)+_0x5ed6b5,_0x51d862=_0x172f3a(0x2d0),_0x2717bc=_0x199736;}else _0x6988e7=_0x172f3a(0x91f)+_0x382eaa['topic'];const _0x17ed32={..._0x382eaa,'topic':_0x6988e7,'createdAt':new Date()[_0x172f3a(0x501)](),'quizMode':_0x51d862,'pairedQuizId':_0x2717bc};let _0xca7599;while(!![]){_0xca7599=Math[_0x172f3a(0x513)](0x3e8+Math[_0x172f3a(0x522)]()*0x2328)[_0x172f3a(0x1e5)]();const _0x57fa40=await getDoc(doc(db,_0x172f3a(0xc3e)+appId+_0x172f3a(0xa7d),_0xca7599));if(!_0x57fa40[_0x172f3a(0xd0a)]())break;}const _0x1cd6cc=doc(db,_0x172f3a(0xc3e)+appId+_0x172f3a(0xa7d),_0xca7599);await setDoc(_0x1cd6cc,_0x17ed32),_0x17ed32[_0x172f3a(0x531)]===_0x172f3a(0x2d0)&&await updateDoc(_0x252700,{'pairedQuizId':_0xca7599}),showMessage(_0x172f3a(0x680));}else throw new Error(_0x172f3a(0x322));}catch(_0x3be0e6){console[_0x172f3a(0x2fe)]('Error\x20duplicating\x20quiz:',_0x3be0e6),showMessage(_0x172f3a(0xc06));}}async function handleDeleteQuiz(_0x14f46c,_0x4f292b=!![]){const _0x575ca2=_0x26020e;try{const _0x5668f2=writeBatch(db),_0xf0d135=collection(db,'artifacts/'+appId+_0x575ca2(0xa6e)+_0x14f46c+_0x575ca2(0xab1)),_0x42e9d0=await getDocs(_0xf0d135);_0x42e9d0[_0x575ca2(0x488)](_0x3cdb95=>{_0x5668f2['delete'](doc(_0xf0d135,_0x3cdb95['id']));});const _0x2669fe=doc(db,_0x575ca2(0xc3e)+appId+_0x575ca2(0xa7d),_0x14f46c);_0x5668f2[_0x575ca2(0x63c)](_0x2669fe),await _0x5668f2['commit']();try{console[_0x575ca2(0x824)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x14f46c+_0x575ca2(0xac5));const _0x4b8c00=collection(db,'artifacts/'+appId+_0x575ca2(0x9a9)),_0x54e445=await getDocs(_0x4b8c00),_0x26d7ef=[];_0x54e445[_0x575ca2(0x488)](_0x5b354e=>{const _0x393e25=_0x575ca2,_0x3b3fcd=_0x5b354e[_0x393e25(0xb97)](),_0x447d6d=_0x3b3fcd[_0x393e25(0xa25)]||{};let _0x29308f=![];for(const _0x4f8851 in _0x447d6d){const _0xdf1edc=_0x447d6d[_0x4f8851];if(_0xdf1edc[_0x393e25(0xcaf)]&&_0xdf1edc[_0x393e25(0xcaf)]['includes'](_0x14f46c)){_0x29308f=!![];const _0x5e1e98=doc(db,'artifacts/'+appId+_0x393e25(0x9a9),_0x5b354e['id']),_0x2f8723=updateDoc(_0x5e1e98,{[_0x393e25(0xad9)+_0x4f8851+_0x393e25(0x344)]:arrayRemove(_0x14f46c)});_0x26d7ef[_0x393e25(0xa2a)](_0x2f8723);}}}),_0x26d7ef[_0x575ca2(0x73e)]>0x0&&(await Promise['all'](_0x26d7ef),console[_0x575ca2(0x824)]('Successfully\x20removed\x20'+_0x26d7ef[_0x575ca2(0x73e)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x14f46c+'.'));}catch(_0x4689db){console[_0x575ca2(0x2fe)](_0x575ca2(0x86f),_0x4689db);}_0x4f292b&&showMessage(_0x575ca2(0x9b9));}catch(_0x5380ff){console[_0x575ca2(0x2fe)](_0x575ca2(0xae4),_0x5380ff),_0x4f292b&&showMessage(_0x575ca2(0x96c));}}async function showQuizDetailView(_0xaa4c83){const _0x1babdb=_0x26020e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x1babdb(0xc8f));try{const _0x57ba01=doc(db,_0x1babdb(0xc3e)+appId+_0x1babdb(0xa7d),_0xaa4c83),_0x401cd2=await getDoc(_0x57ba01);if(!_0x401cd2[_0x1babdb(0xd0a)]()){showMessage(_0x1babdb(0xbf0));return;}const _0x21ec9c={'id':_0x401cd2['id'],..._0x401cd2[_0x1babdb(0xb97)]()};currentQuizData=_0x21ec9c;const _0x4f9026=doc(db,_0x1babdb(0xc3e)+appId+_0x1babdb(0x828),_0x21ec9c['projectId']),_0x301132=await getDoc(_0x4f9026);_0x301132[_0x1babdb(0xd0a)]()?(currentProjectData=_0x301132['data'](),currentProjectId=_0x21ec9c[_0x1babdb(0xc0b)]):(currentProjectData={'students':[]},currentProjectId=_0x21ec9c[_0x1babdb(0xc0b)]);document[_0x1babdb(0x44e)](_0x1babdb(0x2ab))[_0x1babdb(0xb23)]=_0x21ec9c['topic'],document[_0x1babdb(0x44e)](_0x1babdb(0xb03))[_0x1babdb(0xb23)]=_0xaa4c83;const _0x3c132d=collection(db,'artifacts/'+appId+_0x1babdb(0xa7d),_0xaa4c83,_0x1babdb(0xaaa));unsubscribeSubmissionsListener=onSnapshot(_0x3c132d,_0x5ab85f=>{const _0xc92320=_0x1babdb,_0x3632f8=_0x5ab85f['docs']['map'](_0x12c8d7=>({'id':_0x12c8d7['id'],..._0x12c8d7[_0xc92320(0xb97)]()}));currentSubmissions=_0x3632f8;const _0x5a36c5=_0x3632f8['filter'](_0x2cf2f1=>_0x2cf2f1[_0xc92320(0x933)]&&_0x2cf2f1[_0xc92320(0x933)][_0xc92320(0x73e)]>0x0);renderBehaviorLog(_0x3632f8),renderAnswerGrid(currentProjectData['students'],_0x5a36c5,_0x21ec9c),renderAnalytics(_0x21ec9c,_0x5a36c5),renderQuizResultsTable(currentProjectData[_0xc92320(0x926)],_0x3632f8,_0x21ec9c),renderQuizLeaderboard(_0x5a36c5,_0x21ec9c,_0xc92320(0x910));}),showView(_0x1babdb(0x9c4));}catch(_0x275cf4){console[_0x1babdb(0x2fe)](_0x1babdb(0x262),_0x275cf4),showMessage(_0x1babdb(0x770));}}function renderAnswerGrid(_0x69d85a,_0x2a7de7,_0xa96f92){const _0x1d6332=_0x26020e,_0x3e32b5=document[_0x1d6332(0x44e)](_0x1d6332(0xcd5));if(!_0x3e32b5)return;if(!_0x69d85a||_0x69d85a[_0x1d6332(0x73e)]===0x0){_0x3e32b5[_0x1d6332(0x4c4)]=_0x1d6332(0x86b);return;}const _0x3e4db0=_0xa96f92[_0x1d6332(0x1c9)],_0x31fd50=_0x2a7de7[_0x1d6332(0xbe4)]((_0x300d84,_0x29a35b)=>{const _0x237d88=_0x1d6332;return _0x300d84[_0x29a35b[_0x237d88(0x775)]]=_0x29a35b,_0x300d84;},{}),_0x59b801=_0xebb58f=>String[_0x1d6332(0x3cd)](0x41+_0xebb58f),_0x1defcb=_0x54aa75=>{const _0x421cf3=_0x1d6332,_0x423988=_0x54aa75[_0x421cf3(0x425)]||_0xa96f92['quizType'];switch(_0x423988){case _0x421cf3(0xbad):return _0x54aa75[_0x421cf3(0x3e3)]&&_0x54aa75[_0x421cf3(0x3e3)][_0x421cf3(0x73e)]>_0x54aa75[_0x421cf3(0xa5b)]?_0x59b801(_0x54aa75[_0x421cf3(0xa5b)]):'-';case'true_false':const _0x5c014f=_0x54aa75['correctAnswer']===!![]||String(_0x54aa75[_0x421cf3(0x7ba)])[_0x421cf3(0x552)]()===_0x421cf3(0x668);return _0x5c014f?_0x421cf3(0x805):'ไม่ใช่';case _0x421cf3(0x5b6):return _0x54aa75[_0x421cf3(0xb53)]||'-';case _0x421cf3(0x500):return _0x421cf3(0x3cb);default:return'-';}},_0x2d4bd2=(_0x15897e,_0x53b728)=>{const _0x94d36f=_0x1d6332;if(_0x53b728[_0x94d36f(0x204)]===null||_0x53b728[_0x94d36f(0x204)]===undefined)return'-';const _0x2e99fe=_0x15897e[_0x94d36f(0x425)]||_0xa96f92[_0x94d36f(0x31d)];switch(_0x2e99fe){case'multiple_choice':const _0x526e57=_0x15897e[_0x94d36f(0x3e3)][_0x94d36f(0xc87)](_0x31979e=>_0x31979e===_0x53b728[_0x94d36f(0x96d)]);return _0x526e57!==-0x1?_0x59b801(_0x526e57):_0x53b728[_0x94d36f(0x96d)]||'-';case'true_false':if(_0x53b728['answer']=='0'||_0x53b728[_0x94d36f(0x204)]===!![]||_0x53b728[_0x94d36f(0x204)]===_0x94d36f(0x668))return'ใช่';return _0x94d36f(0x68e);default:return _0x53b728[_0x94d36f(0x204)];}};let _0x20a626=_0x1d6332(0xa0d)+_0x3e4db0['map']((_0x20b6cd,_0x24d46c)=>_0x1d6332(0x8b5)+(_0x24d46c+0x1)+_0x1d6332(0x781))[_0x1d6332(0xaa4)]('')+_0x1d6332(0x543)+_0x3e4db0[_0x1d6332(0xd0b)](_0x4417cc=>_0x1d6332(0x1a7)+_0x1defcb(_0x4417cc)+_0x1d6332(0x733))[_0x1d6332(0xaa4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x69d85a[_0x1d6332(0x488)](_0x167ed5=>{const _0x18556e=_0x1d6332;_0x20a626+=_0x18556e(0xb3f),_0x20a626+=_0x18556e(0x8c3)+_0x167ed5+_0x18556e(0x733);const _0x24379e=_0x31fd50[_0x167ed5];if(_0x24379e){const _0xa8a964=_0x24379e[_0x18556e(0x933)][_0x24379e[_0x18556e(0x933)]['length']-0x1];_0x3e4db0[_0x18556e(0x488)]((_0xda44f7,_0x47387a)=>{const _0x683bab=_0x18556e,_0xebaee=_0xa8a964[_0x683bab(0xc9e)]['find'](_0x58f2e1=>_0x58f2e1[_0x683bab(0x302)]===_0xda44f7['id']);if(_0xebaee){let _0x3f2d11='';const _0x5ed743=_0xebaee[_0x683bab(0xaf2)]===!![],_0x39d5a1=_0xebaee[_0x683bab(0xb51)]===!![]||_0xebaee[_0x683bab(0xb51)]==='confident';_0x39d5a1?_0x3f2d11=_0x5ed743?_0x683bab(0x5a6):_0x683bab(0x593):_0x3f2d11=_0x5ed743?'bg-green-100':_0x683bab(0xb66),_0x20a626+=_0x683bab(0x788)+_0x3f2d11+'\x22>'+_0x2d4bd2(_0xda44f7,_0xebaee)+_0x683bab(0x733);}else _0x20a626+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x20a626+=_0x3e4db0[_0x18556e(0xd0b)](()=>_0x18556e(0xc40))[_0x18556e(0xaa4)]('');_0x20a626+='</tr>';}),_0x20a626+='</tbody></table>',_0x3e32b5[_0x1d6332(0x4c4)]=_0x20a626;}function renderQuizResultsTable(_0x5d4d6d,_0x4797ee,_0x468091){const _0x3d82be=_0x26020e,_0x463680=_0x4797ee[_0x3d82be(0xbe4)]((_0x59f8e8,_0x4f3a87)=>{const _0x48b25b=_0x3d82be;return _0x59f8e8[_0x4f3a87[_0x48b25b(0x775)]]=_0x4f3a87,_0x59f8e8;},{}),_0x1c5c92=document[_0x3d82be(0x6ca)](_0x3d82be(0x64d));_0x1c5c92&&!_0x1c5c92[_0x3d82be(0x4c4)][_0x3d82be(0xae9)]('จัดการ')&&(_0x1c5c92[_0x3d82be(0x4c4)]+=_0x3d82be(0x35c));const _0x17ca6c=document['getElementById']('quiz-results-table-body');if(!_0x5d4d6d||_0x5d4d6d['length']===0x0){_0x17ca6c[_0x3d82be(0x4c4)]=_0x3d82be(0x701);return;}const _0x1df550=_0x468091[_0x3d82be(0x5d9)]===!![],_0x4b8722=_0x468091[_0x3d82be(0x798)]?.[_0x3d82be(0x483)]??-0x1;let _0x375e17='';_0x5d4d6d[_0x3d82be(0x488)](_0x10d7d2=>{const _0x1b665=_0x3d82be,_0x28609f=_0x463680[_0x10d7d2];let _0x3c1ef1=_0x1b665(0x6d0)+(_0x1df550?_0x1b665(0x858):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x1df550?_0x1b665(0x250):'สอบปกติ')+'</span></td>';if(_0x28609f){if(_0x28609f[_0x1b665(0x933)]&&_0x28609f[_0x1b665(0x933)][_0x1b665(0x73e)]>0x0){let _0x3401e2=_0x1df550?_0x28609f[_0x1b665(0x887)]===_0x28609f[_0x1b665(0x53c)]:_0x4b8722!==-0x1&&_0x28609f['bestScore']>=_0x4b8722;const _0x321d75=_0x3401e2?'bg-green-100\x20text-green-800':_0x1b665(0xa10),_0x4748db=_0x3401e2?_0x1b665(0xc04):'ไม่ผ่าน',_0x2111e5=_0x1b665(0x238)+_0x321d75+'\x22>'+_0x4748db+_0x1b665(0xc55),_0x5431c3=_0x1b665(0x84d)+(_0x28609f[_0x1b665(0x933)]?.['length']||0x1)+_0x1b665(0xbed);_0x375e17+=_0x1b665(0x687)+_0x10d7d2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x28609f[_0x1b665(0x887)]+_0x1b665(0x690)+_0x28609f[_0x1b665(0x53c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2111e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c1ef1+_0x1b665(0x19e)+_0x28609f[_0x1b665(0x58a)]+_0x1b665(0x690)+_0x28609f[_0x1b665(0x53c)]+_0x1b665(0x487)+_0x28609f[_0x1b665(0x257)]+_0x1b665(0x690)+_0x28609f[_0x1b665(0x53c)]+_0x1b665(0xa00)+(_0x28609f[_0x1b665(0x9db)]||0x0)+_0x1b665(0x88d)+_0x5431c3+_0x1b665(0x656)+new Date(_0x28609f[_0x1b665(0x2b7)])[_0x1b665(0x24b)](_0x1b665(0x600))+_0x1b665(0x6aa)+_0x10d7d2+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x256ad9=_0x1b665(0x19d);_0x375e17+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x10d7d2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c1ef1+_0x1b665(0x7d7)+_0x256ad9+_0x1b665(0x656)+new Date(_0x28609f[_0x1b665(0x3e2)])[_0x1b665(0x24b)](_0x1b665(0x600))+_0x1b665(0x4cc)+_0x10d7d2+_0x1b665(0x4e5);}}else{const _0x33de40='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x375e17+=_0x1b665(0x2aa)+_0x10d7d2+_0x1b665(0x461)+_0x3c1ef1+_0x1b665(0xaab)+_0x33de40+_0x1b665(0x3b0);}}),_0x17ca6c[_0x3d82be(0x4c4)]=_0x375e17;}async function confirmRenameQuiz(){const _0x2d699d=_0x26020e,_0x609dfb=document[_0x2d699d(0x44e)](_0x2d699d(0x711))[_0x2d699d(0x6ea)][_0x2d699d(0x30d)]();if(!_0x609dfb){showMessage(_0x2d699d(0x819));return;}if(!actionTargetId)return;const _0x2ba32f=doc(db,_0x2d699d(0xc3e)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x2ba32f,{'topic':_0x609dfb}),showMessage(_0x2d699d(0xb43)),renameQuizModal[_0x2d699d(0xab0)][_0x2d699d(0x75b)](_0x2d699d(0x47d)),actionTargetId=null;}catch(_0xcc9013){console[_0x2d699d(0x2fe)](_0x2d699d(0x276),_0xcc9013),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x39e7c9){const _0x237bbe=_0x26020e;actionTargetId=_0x39e7c9;const _0x418edc=document[_0x237bbe(0x44e)]('move-quiz-project-select');_0x418edc['innerHTML']=_0x237bbe(0xafe),moveQuizModal['classList'][_0x237bbe(0x48e)](_0x237bbe(0x47d));try{const _0x4fef86=collection(db,_0x237bbe(0xc3e)+appId+_0x237bbe(0x828)),_0x42b138=await getDocs(_0x4fef86),_0xcbb7fd=_0x42b138[_0x237bbe(0x8d6)][_0x237bbe(0xd0b)](_0x3b7918=>({'id':_0x3b7918['id'],..._0x3b7918[_0x237bbe(0xb97)]()})),_0x498eab=_0xcbb7fd['filter'](_0x4e396e=>_0x4e396e['id']!==currentProjectId);if(_0x498eab[_0x237bbe(0x73e)]===0x0){_0x418edc[_0x237bbe(0x4c4)]=_0x237bbe(0xa53),document[_0x237bbe(0x44e)](_0x237bbe(0x750))[_0x237bbe(0x993)]=!![];return;}_0x418edc['innerHTML']=_0x498eab[_0x237bbe(0xd0b)](_0x353e29=>_0x237bbe(0x514)+_0x353e29['id']+'\x22>'+_0x353e29[_0x237bbe(0x8d8)]+_0x237bbe(0xcba))['join'](''),document[_0x237bbe(0x44e)](_0x237bbe(0x750))[_0x237bbe(0x993)]=![];}catch(_0x781e41){console[_0x237bbe(0x2fe)](_0x237bbe(0x3e8),_0x781e41),showMessage(_0x237bbe(0x2f1)),moveQuizModal['classList'][_0x237bbe(0x75b)](_0x237bbe(0x47d));}}async function confirmMoveQuiz(){const _0x155037=_0x26020e,_0x2d02e1=document[_0x155037(0x44e)](_0x155037(0x21a))['value'];if(!_0x2d02e1){showMessage(_0x155037(0x3eb));return;}if(!actionTargetId)return;const _0x5616f9=doc(db,'artifacts/'+appId+_0x155037(0xa7d),actionTargetId);try{await updateDoc(_0x5616f9,{'projectId':_0x2d02e1}),showMessage(_0x155037(0x509)),moveQuizModal[_0x155037(0xab0)]['add'](_0x155037(0x47d)),actionTargetId=null;}catch(_0x38ba6f){console[_0x155037(0x2fe)](_0x155037(0x7af),_0x38ba6f),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x4f2bd7){const _0x34e1b8=_0x26020e;actionTargetId=_0x4f2bd7;const _0x5307d8=doc(db,_0x34e1b8(0xc3e)+appId+'/public/data/quizzes',_0x4f2bd7);try{const _0x853ff0=await getDoc(_0x5307d8);if(_0x853ff0[_0x34e1b8(0xd0a)]()){const _0x4d0807=_0x853ff0[_0x34e1b8(0xb97)](),_0x2508b6=_0x4d0807[_0x34e1b8(0x798)]||{},_0x3b34fe=_0x4d0807[_0x34e1b8(0x1c9)][_0x34e1b8(0x73e)];document['getElementById'](_0x34e1b8(0x1f9))['value']=_0x2508b6[_0x34e1b8(0xacb)]||_0x34e1b8(0x334),document['getElementById'](_0x34e1b8(0x6d3))[_0x34e1b8(0x6ea)]=_0x2508b6[_0x34e1b8(0x5db)]||'show_results_and_answers',document[_0x34e1b8(0x44e)](_0x34e1b8(0x430))['value']=_0x2508b6[_0x34e1b8(0x9e4)]||_0x34e1b8(0x334),document[_0x34e1b8(0x44e)]('modal-timer-duration-input')[_0x34e1b8(0x6ea)]=_0x2508b6[_0x34e1b8(0x434)]||0xa,document[_0x34e1b8(0x44e)](_0x34e1b8(0x40f))[_0x34e1b8(0x6ea)]=_0x2508b6[_0x34e1b8(0x483)]||Math['floor'](_0x3b34fe/0x2),document[_0x34e1b8(0x44e)](_0x34e1b8(0x40f))[_0x34e1b8(0x6c6)]=_0x3b34fe,document[_0x34e1b8(0x44e)]('modal-adaptive-quiz-checkbox')[_0x34e1b8(0x8ab)]=_0x2508b6[_0x34e1b8(0x239)]||![],document['getElementById'](_0x34e1b8(0xa0a))[_0x34e1b8(0x8ab)]=_0x2508b6[_0x34e1b8(0x3ba)]||![];const _0x3cc574=_0x2508b6[_0x34e1b8(0x5e4)]||![];document[_0x34e1b8(0x44e)](_0x34e1b8(0x42f))[_0x34e1b8(0x8ab)]=_0x3cc574,document[_0x34e1b8(0x44e)](_0x34e1b8(0x494))[_0x34e1b8(0x6ea)]=_0x2508b6[_0x34e1b8(0x88b)]||_0x34e1b8(0xa04);const _0x4d6c87=document['getElementById'](_0x34e1b8(0xa07));_0x4d6c87[_0x34e1b8(0xab0)]['toggle']('hidden',!_0x3cc574),document[_0x34e1b8(0x44e)](_0x34e1b8(0x430))[_0x34e1b8(0x661)](new Event(_0x34e1b8(0x5ad))),quizSettingsModal['classList'][_0x34e1b8(0x48e)](_0x34e1b8(0x47d));}else showMessage(_0x34e1b8(0xbf0));}catch(_0x312f8b){console['error'](_0x34e1b8(0xc0f),_0x312f8b),showMessage(_0x34e1b8(0xc92));}}async function confirmQuizSettings(){const _0x11f6ac=_0x26020e;if(!actionTargetId)return;const _0x482445=doc(db,_0x11f6ac(0xc3e)+appId+'/public/data/quizzes',actionTargetId),_0x35f567={'shuffle':document[_0x11f6ac(0x44e)](_0x11f6ac(0x1f9))['value'],'resultsDisplay':document['getElementById'](_0x11f6ac(0x6d3))[_0x11f6ac(0x6ea)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x11f6ac(0x6ea)],'timerDuration':parseInt(document['getElementById'](_0x11f6ac(0x43c))[_0x11f6ac(0x6ea)])||0xa,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x11f6ac(0x6ea)])||0x0,'isAdaptive':document['getElementById'](_0x11f6ac(0x677))[_0x11f6ac(0x8ab)],'loopUntilPass':document[_0x11f6ac(0x44e)](_0x11f6ac(0xa0a))[_0x11f6ac(0x8ab)],'isConfidenceScoringEnabled':document[_0x11f6ac(0x44e)](_0x11f6ac(0x42f))['checked'],'confidenceMode':document[_0x11f6ac(0x44e)](_0x11f6ac(0x494))[_0x11f6ac(0x6ea)]};try{await updateDoc(_0x482445,{'settings':_0x35f567}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x11f6ac(0xab0)][_0x11f6ac(0x75b)]('hidden'),actionTargetId=null;}catch(_0x2847a1){console['error'](_0x11f6ac(0x3b9),_0x2847a1),showMessage(_0x11f6ac(0xadd));}}async function confirmQuizStatus(){const _0x59ce80=_0x26020e;if(!actionTargetId)return;const _0x5e207b=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x220dea=document[_0x59ce80(0x6ca)](_0x59ce80(0x264));if(!_0x220dea){showMessage(_0x59ce80(0x98f));return;}const _0x51a1e7=_0x220dea[_0x59ce80(0x6ea)];let _0x1dbc5d={};if(_0x51a1e7===_0x59ce80(0x57f)||_0x51a1e7===_0x59ce80(0x4c5))_0x1dbc5d={'status':_0x51a1e7,'startTime':null,'endTime':null};else{if(_0x51a1e7===_0x59ce80(0x6d9)){const _0x24cbc2=document[_0x59ce80(0x44e)](_0x59ce80(0x681))[_0x59ce80(0x6ea)],_0x2834cf=document[_0x59ce80(0x44e)](_0x59ce80(0x9b8))[_0x59ce80(0x6ea)];if(!_0x24cbc2&&!_0x2834cf){showMessage(_0x59ce80(0xb98));return;}_0x1dbc5d={'status':_0x59ce80(0x285),'startTime':_0x24cbc2?new Date(_0x24cbc2)[_0x59ce80(0x501)]():null,'endTime':_0x2834cf?new Date(_0x2834cf)[_0x59ce80(0x501)]():null};}}try{await updateDoc(_0x5e207b,_0x1dbc5d),showMessage(_0x59ce80(0xbb2)),quizStatusModal[_0x59ce80(0xab0)]['add'](_0x59ce80(0x47d)),actionTargetId=null;}catch(_0x37e68e){console['error'](_0x59ce80(0x622),_0x37e68e),showMessage(_0x59ce80(0x64c));}}function listenForStudentProfiles(_0x21b5dd){const _0x2d9722=_0x26020e,_0x392a24=collection(db,_0x2d9722(0xc3e)+appId+_0x2d9722(0x5fc)+_0x21b5dd+_0x2d9722(0xc6f));unsubscribeStudentProfilesListener=onSnapshot(_0x392a24,_0xbed86a=>{const _0x2d1818=_0x2d9722,_0x129d26=_0xbed86a[_0x2d1818(0x8d6)][_0x2d1818(0xd0b)](_0x4cf89c=>_0x4cf89c[_0x2d1818(0xb97)]());renderLeaderboard(_0x129d26,_0x2d1818(0xbc9));},_0x50a36b=>{const _0x5e977c=_0x2d9722;console[_0x5e977c(0x2fe)](_0x5e977c(0x380),_0x50a36b),document[_0x5e977c(0x44e)](_0x5e977c(0xbc9))[_0x5e977c(0x4c4)]=_0x5e977c(0x640);});}function renderLeaderboard(_0x19b679,_0x19fc20){const _0x8fb782=_0x26020e,_0x30fb17=document[_0x8fb782(0x44e)](_0x19fc20);if(!_0x19b679||_0x19b679[_0x8fb782(0x73e)]===0x0){_0x30fb17[_0x8fb782(0x4c4)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x19b679[_0x8fb782(0x80a)]((_0x2aef96,_0x4407c0)=>{const _0x4a2bb9=_0x8fb782,_0x24d5e4=(_0x4407c0[_0x4a2bb9(0x896)]||0x0)-(_0x2aef96['totalPoints']||0x0);if(_0x24d5e4!==0x0)return _0x24d5e4;const _0x2a784d=(_0x4407c0['badgesCount']?.[_0x4a2bb9(0x84f)]||0x0)-(_0x2aef96[_0x4a2bb9(0x717)]?.['specialist']||0x0);if(_0x2a784d!==0x0)return _0x2a784d;const _0x1393c6=(_0x4407c0['badgesCount']?.[_0x4a2bb9(0xbc0)]||0x0)-(_0x2aef96[_0x4a2bb9(0x717)]?.['first_try_ace']||0x0);if(_0x1393c6!==0x0)return _0x1393c6;const _0x40d3a1=(_0x4407c0[_0x4a2bb9(0x717)]?.['perfect_score']||0x0)-(_0x2aef96[_0x4a2bb9(0x717)]?.[_0x4a2bb9(0x39a)]||0x0);if(_0x40d3a1!==0x0)return _0x40d3a1;const _0x16c702=(_0x4407c0[_0x4a2bb9(0x717)]?.['quick_thinker']||0x0)-(_0x2aef96[_0x4a2bb9(0x717)]?.[_0x4a2bb9(0x441)]||0x0);if(_0x16c702!==0x0)return _0x16c702;return _0x2aef96['studentName'][_0x4a2bb9(0x4e8)](_0x4407c0[_0x4a2bb9(0x775)],'th');});let _0xed6c14='';_0x19b679[_0x8fb782(0x488)]((_0x1d50c5,_0x5c4829)=>{const _0xd49ff0=_0x8fb782,_0x113013=_0x5c4829+0x1,_0x589540=_0x1d50c5[_0xd49ff0(0x717)]||{};let _0x473546='';const _0x5d43fd=[_0xd49ff0(0x84f),_0xd49ff0(0x39a),'first_try_ace','quick_thinker'];_0x5d43fd[_0xd49ff0(0x488)](_0x3a0cbe=>{const _0x1c226b=_0xd49ff0;if(_0x589540[_0x3a0cbe]>0x0){const _0x239f66=Object[_0x1c226b(0x20d)](BADGES)['find'](_0x3feeab=>_0x3feeab['id']===_0x3a0cbe);_0x239f66&&(_0x3a0cbe==='specialist'?_0x473546+=_0x1c226b(0x49a)+_0x239f66[_0x1c226b(0x7c3)]+_0x1c226b(0x383)+_0x239f66[_0x1c226b(0x7b3)]+_0x1c226b(0x409):_0x473546+=_0x1c226b(0x49a)+_0x239f66[_0x1c226b(0x7c3)]+'\x20('+_0x589540[_0x3a0cbe]+_0x1c226b(0x222)+_0x239f66[_0x1c226b(0x7b3)]+_0x1c226b(0xa19)+_0x589540[_0x3a0cbe]+_0x1c226b(0x862));}}),_0xed6c14+=_0xd49ff0(0x97c)+_0x113013+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1d50c5[_0xd49ff0(0x775)]+_0xd49ff0(0x206)+(_0x1d50c5['totalPoints']||0x0)+_0xd49ff0(0x8e5)+(_0x473546||'-')+_0xd49ff0(0xc17);}),_0x30fb17[_0x8fb782(0x4c4)]=_0xed6c14;}function displayLoopScreen(_0x5de3a9,_0x22dad9,_0x4c2ec5){const _0x43ec51=_0x26020e;let _0x8a8af0='';_0x4c2ec5!==_0x43ec51(0x2b1)&&(_0x8a8af0=_0x43ec51(0x2b0)+_0x5de3a9+_0x43ec51(0x690)+_0x22dad9+'</strong></p>');const _0xa7e12c=_0x43ec51(0x4cd)+_0x8a8af0+_0x43ec51(0xa01);studentResultArea[_0x43ec51(0x4c4)]=_0xa7e12c,studentResultArea['classList']['remove'](_0x43ec51(0x47d)),studentQuizArea[_0x43ec51(0xab0)][_0x43ec51(0x75b)](_0x43ec51(0x47d)),document[_0x43ec51(0x44e)]('retake-quiz-loop-btn')[_0x43ec51(0xb41)](_0x43ec51(0x560),()=>{const _0x248748=_0x43ec51;studentResultArea['classList'][_0x248748(0x75b)](_0x248748(0x47d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4bb8aa,_0x330470,_0xa63a30){const _0x24605a=_0x26020e,_0x3179d6=document[_0x24605a(0x44e)](_0xa63a30),_0x27138f=_0xa63a30===_0x24605a(0xcdc),_0x3b414f=_0x330470[_0x24605a(0x1c9)][_0x24605a(0x73e)],_0x2a1688=document[_0x24605a(0x44e)](_0xa63a30)[_0x24605a(0xcf9)](_0x24605a(0xc93));if(_0x2a1688&&!_0x27138f){const _0x20c091=_0x2a1688['querySelector'](_0x24605a(0xa05));_0x20c091[_0x24605a(0x4c4)]=_0x24605a(0xb74);}if(!_0x4bb8aa||_0x4bb8aa[_0x24605a(0x73e)]===0x0){_0x3179d6[_0x24605a(0x4c4)]=_0x24605a(0xb0c)+(_0x27138f?0x6:0x8)+_0x24605a(0xa56);return;}const _0x4f6fb8=[..._0x4bb8aa];_0x4f6fb8[_0x24605a(0x80a)]((_0xd56181,_0x3ce09b)=>{const _0x52d962=_0x24605a;let _0x8a1d90,_0xbe9307;switch(quizLeaderboardSortBy){case _0x52d962(0x775):_0x8a1d90=_0xd56181[_0x52d962(0x775)]||'',_0xbe9307=_0x3ce09b['studentName']||'';return quizLeaderboardSortOrder===_0x52d962(0xc80)?_0x8a1d90[_0x52d962(0x4e8)](_0xbe9307,'th'):_0xbe9307[_0x52d962(0x4e8)](_0x8a1d90,'th');case'points':_0x8a1d90=_0xd56181[_0x52d962(0x9db)]||0x0,_0xbe9307=_0x3ce09b[_0x52d962(0x9db)]||0x0;break;case'attempts':_0x8a1d90=_0xd56181[_0x52d962(0x933)]?.[_0x52d962(0x73e)]||0x1,_0xbe9307=_0x3ce09b[_0x52d962(0x933)]?.[_0x52d962(0x73e)]||0x1;break;case _0x52d962(0x2b7):_0x8a1d90=new Date(_0xd56181[_0x52d962(0x2b7)]),_0xbe9307=new Date(_0x3ce09b[_0x52d962(0x2b7)]);break;case'bestScore':default:_0x8a1d90=_0xd56181[_0x52d962(0x887)],_0xbe9307=_0x3ce09b[_0x52d962(0x887)];break;}if(_0x8a1d90<_0xbe9307)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x8a1d90>_0xbe9307)return quizLeaderboardSortOrder===_0x52d962(0xc80)?0x1:-0x1;return 0x0;});const _0xef3baa=_0x330470[_0x24605a(0x5d9)]===!![],_0x42ff41=_0x330470[_0x24605a(0x798)]?.['passingScore']??-0x1;let _0x391c7a='';_0x4f6fb8[_0x24605a(0x488)]((_0x4031da,_0x30254a)=>{const _0x2ff8ed=_0x24605a,_0x5d0439=_0x30254a+0x1;let _0x35e507=_0x2ff8ed(0x5a8);if(_0xef3baa||_0x42ff41!==-0x1){let _0x2199bf=_0xef3baa?_0x4031da[_0x2ff8ed(0x887)]===_0x3b414f:_0x4031da[_0x2ff8ed(0x887)]>=_0x42ff41;const _0xa7191f=_0x2199bf?_0x2ff8ed(0x450):_0x2ff8ed(0xa10),_0x4d258f=_0x2199bf?_0x2ff8ed(0xc04):_0x2ff8ed(0x50a);_0x35e507='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xa7191f+'\x22>'+_0x4d258f+_0x2ff8ed(0xc55);}const _0x53070d=_0x4031da[_0x2ff8ed(0x933)][_0x4031da[_0x2ff8ed(0x933)][_0x2ff8ed(0x73e)]-0x1],_0x469d1c=(_0x53070d['badges']||[])[_0x2ff8ed(0xd0b)](_0x26203e=>{const _0x3b2983=_0x2ff8ed,_0x28a153=Object['values'](BADGES)[_0x3b2983(0x2ba)](_0x3d9626=>_0x3d9626['id']===_0x26203e);return _0x28a153?_0x3b2983(0x5df)+_0x28a153[_0x3b2983(0x7c3)]+_0x3b2983(0x68f)+_0x28a153[_0x3b2983(0x7b3)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x2ff8ed(0xaa4)]('');_0x391c7a+=_0x2ff8ed(0x375)+_0x5d0439+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4031da[_0x2ff8ed(0x775)]+_0x2ff8ed(0x449)+_0x4031da['bestScore']+_0x2ff8ed(0x690)+_0x3b414f+_0x2ff8ed(0xa8d)+_0x35e507+_0x2ff8ed(0xca4)+(_0x4031da['points']||0x0)+_0x2ff8ed(0xa8d)+(_0x27138f?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x4031da['attempts']?.[_0x2ff8ed(0x73e)]||0x1)+_0x2ff8ed(0x733))+_0x2ff8ed(0x362)+(_0x27138f?'':_0x2ff8ed(0xafd)+new Date(_0x4031da[_0x2ff8ed(0x2b7)])[_0x2ff8ed(0x24b)](_0x2ff8ed(0x600))+_0x2ff8ed(0x733))+_0x2ff8ed(0x4af)+(_0x469d1c||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3179d6[_0x24605a(0x4c4)]=_0x391c7a,_0x2a1688&&!_0x27138f&&_0x2a1688[_0x24605a(0xb04)](_0x24605a(0xbc7))[_0x24605a(0x488)](_0x167221=>{const _0x40e6d0=_0x24605a,_0x31d259=_0x167221[_0x40e6d0(0x6ca)](_0x40e6d0(0x49f));if(_0x31d259)_0x31d259['remove']();_0x167221[_0x40e6d0(0xd00)]['sort']===quizLeaderboardSortBy&&(_0x167221['innerHTML']+=_0x40e6d0(0x469)+(quizLeaderboardSortOrder===_0x40e6d0(0xc80)?'▲':'▼')+_0x40e6d0(0x3c1));});}async function handleDeleteSubmission(_0x5288a8){const _0x52fd8f=_0x26020e;if(!currentQuizData||!currentQuizData['id']||!_0x5288a8){showMessage(_0x52fd8f(0x6bc));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x5288a8+_0x52fd8f(0x985),async()=>{const _0x6a31ba=_0x52fd8f,_0x55bebe=currentQuizData['id'],_0x299748=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x55bebe+_0x6a31ba(0xab1),_0x5288a8);try{await deleteDoc(_0x299748),showMessage(_0x6a31ba(0xc21)+_0x5288a8+_0x6a31ba(0xc49));}catch(_0x1f0a0d){console[_0x6a31ba(0x2fe)](_0x6a31ba(0xbe8),_0x1f0a0d),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x29ac55=_0x26020e,_0x3d6184=document[_0x29ac55(0x44e)](_0x29ac55(0xc77)),_0x26b6ca=_0x3d6184[_0x29ac55(0x6ea)]['trim']();if(!_0x26b6ca){showMessage(_0x29ac55(0x212));return;}loadQuizBtn[_0x29ac55(0x993)]=!![],loadQuizBtn[_0x29ac55(0x4c4)]=_0x29ac55(0x58e);try{const _0x35f25d=doc(db,'artifacts/'+appId+_0x29ac55(0xa7d),_0x26b6ca),_0x457388=await getDoc(_0x35f25d);if(!_0x457388[_0x29ac55(0xd0a)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x457388['id'],..._0x457388[_0x29ac55(0xb97)]()};const _0x87f2ce=currentQuizData[_0x29ac55(0x8b8)]||'active',_0x1e93c9=new Date();if(_0x87f2ce===_0x29ac55(0x4c5)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x87f2ce==='scheduled'){const _0x3d1195=currentQuizData[_0x29ac55(0x6db)]?new Date(currentQuizData[_0x29ac55(0x6db)]):null,_0x545517=currentQuizData['endTime']?new Date(currentQuizData[_0x29ac55(0xc32)]):null;if(_0x3d1195&&_0x1e93c9<_0x3d1195){showMessage(_0x29ac55(0x655)+_0x3d1195[_0x29ac55(0x24b)](_0x29ac55(0x600),{'hour12':![]}));return;}if(_0x545517&&_0x1e93c9>_0x545517){showMessage(_0x29ac55(0x428));return;}}const _0x2cddd7=currentQuizData[_0x29ac55(0xc0b)];currentProjectId=_0x2cddd7;const _0x1a9b58=doc(db,_0x29ac55(0xc3e)+appId+_0x29ac55(0x828),_0x2cddd7),_0xaff152=await getDoc(_0x1a9b58);if(!_0xaff152[_0x29ac55(0xd0a)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x11c207=_0xaff152[_0x29ac55(0xb97)]();currentStudentProjectData=_0x11c207,displayStudentNameSelector(_0x11c207['students'],currentQuizData[_0x29ac55(0x255)]);}catch(_0x174450){console[_0x29ac55(0x2fe)](_0x29ac55(0x555),_0x174450),showMessage(_0x29ac55(0xc19));}finally{loadQuizBtn[_0x29ac55(0x993)]=![],loadQuizBtn[_0x29ac55(0x4c4)]=_0x29ac55(0xab3);}}async function handleJoinLiveGame(){const _0x26e58a=_0x26020e,_0x2abf51=document[_0x26e58a(0x44e)](_0x26e58a(0xcf4)),_0x2c26d1=document[_0x26e58a(0x44e)](_0x26e58a(0x7d2)),_0x45d656=document[_0x26e58a(0x44e)](_0x26e58a(0xa6a)),_0x5b6e95=_0x2abf51[_0x26e58a(0x6ea)][_0x26e58a(0x30d)](),_0x3a7c7e=_0x2c26d1[_0x26e58a(0x6ea)][_0x26e58a(0x30d)]();if(!_0x5b6e95||!_0x3a7c7e){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x45d656[_0x26e58a(0x993)]=!![],_0x45d656[_0x26e58a(0x4c4)]=_0x26e58a(0x270);try{const _0x2b59d1=collection(db,_0x26e58a(0xc3e)+appId+_0x26e58a(0x758)),_0x56baee=query(_0x2b59d1,where('gamePin','==',_0x5b6e95),where('status','in',[_0x26e58a(0x34d),_0x26e58a(0xbe6)])),_0x4ac123=await getDocs(_0x56baee);if(_0x4ac123[_0x26e58a(0x266)]){showMessage(_0x26e58a(0x402));return;}const _0x5a2228=_0x4ac123[_0x26e58a(0x8d6)][0x0],_0x1b99f6=_0x5a2228['data']();currentLiveGameId=_0x5a2228['id'];const _0x38c7ad=_0x1b99f6[_0x26e58a(0x673)],_0xdb1df2=doc(db,_0x26e58a(0xc3e)+appId+_0x26e58a(0xa7d),_0x38c7ad),_0x350877=await getDoc(_0xdb1df2);if(!_0x350877[_0x26e58a(0xd0a)]()){showMessage(_0x26e58a(0xbe1));return;}currentQuizData={'id':_0x350877['id'],..._0x350877[_0x26e58a(0xb97)]()};if(_0x1b99f6['players']&&_0x1b99f6[_0x26e58a(0xb73)][_0x3a7c7e]){const _0x3a22cc=_0x1b99f6['players'][_0x3a7c7e];if(_0x3a22cc[_0x26e58a(0x8b8)]===_0x26e58a(0x4c5)){_0x45d656['innerHTML']=_0x26e58a(0x68c);const _0x4e0510={};_0x4e0510[_0x26e58a(0x7a2)+_0x3a7c7e+_0x26e58a(0x46e)]=_0x26e58a(0x57f),await updateDoc(doc(db,'artifacts/'+appId+_0x26e58a(0x758),currentLiveGameId),_0x4e0510),showView(_0x26e58a(0x470)),currentStudentName=_0x3a7c7e,listenForLiveGameUpdates();return;}else{showMessage(_0x26e58a(0xa54));return;}}if(_0x1b99f6[_0x26e58a(0x8b8)]!=='lobby'){showMessage(_0x26e58a(0x47f));return;}_0x45d656['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x5cd9ec={};_0x5cd9ec['players.'+_0x3a7c7e]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x26e58a(0x57f)},await updateDoc(doc(db,'artifacts/'+appId+_0x26e58a(0x758),currentLiveGameId),_0x5cd9ec),currentStudentName=_0x3a7c7e,listenForLiveGameUpdates();}catch(_0x24b7a2){console[_0x26e58a(0x2fe)](_0x26e58a(0x61a),_0x24b7a2),showMessage(_0x26e58a(0x207));}finally{_0x45d656[_0x26e58a(0x993)]=![],_0x45d656[_0x26e58a(0x4c4)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x3304d5,_0x243596){const _0x2a6837=_0x26020e,_0x45e406=document[_0x2a6837(0x44e)]('student-name-select');document[_0x2a6837(0x44e)]('student-quiz-topic')[_0x2a6837(0xb23)]='แบบทดสอบ:\x20'+_0x243596,!_0x3304d5||_0x3304d5['length']===0x0?(_0x45e406[_0x2a6837(0x4c4)]=_0x2a6837(0x674),startQuizBtn[_0x2a6837(0x993)]=!![]):(_0x45e406[_0x2a6837(0x4c4)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x3304d5[_0x2a6837(0x488)](_0x4a2a49=>{const _0x3d44dc=_0x2a6837,_0x1ec935=document[_0x3d44dc(0x88a)](_0x3d44dc(0x394));_0x1ec935[_0x3d44dc(0x6ea)]=_0x4a2a49,_0x1ec935[_0x3d44dc(0xb23)]=_0x4a2a49,_0x45e406['appendChild'](_0x1ec935);}),startQuizBtn[_0x2a6837(0x993)]=![]),studentInitialView[_0x2a6837(0xab0)][_0x2a6837(0x75b)]('hidden'),studentNameSelectionView[_0x2a6837(0xab0)]['remove'](_0x2a6837(0x47d));}function shuffleArray(_0x46bf95){const _0x16c0e3=_0x26020e;for(let _0x4acc2c=_0x46bf95[_0x16c0e3(0x73e)]-0x1;_0x4acc2c>0x0;_0x4acc2c--){const _0x8fed24=Math[_0x16c0e3(0x513)](Math[_0x16c0e3(0x522)]()*(_0x4acc2c+0x1));[_0x46bf95[_0x4acc2c],_0x46bf95[_0x8fed24]]=[_0x46bf95[_0x8fed24],_0x46bf95[_0x4acc2c]];}}function getShuffledQuiz(_0x5ec018){const _0x422a7b=_0x26020e;let _0x4e7902=JSON[_0x422a7b(0x22b)](JSON[_0x422a7b(0x98d)](_0x5ec018));const _0x5712eb=_0x4e7902['settings']?.[_0x422a7b(0xacb)]||_0x422a7b(0x334);if(_0x5712eb===_0x422a7b(0x334))return _0x4e7902;return(_0x5712eb===_0x422a7b(0x37f)||_0x5712eb===_0x422a7b(0xb4b))&&shuffleArray(_0x4e7902[_0x422a7b(0x1c9)]),(_0x5712eb===_0x422a7b(0x4d8)||_0x5712eb==='both')&&_0x4e7902[_0x422a7b(0x1c9)]['forEach'](_0x181d14=>{const _0x168c93=_0x422a7b,_0x4bae94=_0x181d14[_0x168c93(0x425)]||_0x4e7902[_0x168c93(0x31d)];if(_0x181d14['options']){let _0x2c6d19=_0x181d14['options'][_0x168c93(0xd0b)]((_0x46da84,_0x22c13a)=>({'text':_0x46da84,'isCorrect':_0x22c13a===_0x181d14['correctAnswerIndex']}));shuffleArray(_0x2c6d19),_0x181d14[_0x168c93(0x3e3)]=_0x2c6d19[_0x168c93(0xd0b)](_0x1030f4=>_0x1030f4[_0x168c93(0x2ac)]),_0x181d14[_0x168c93(0xa5b)]=_0x2c6d19[_0x168c93(0xc87)](_0x435197=>_0x435197[_0x168c93(0xaf2)]);}_0x4bae94===_0x168c93(0x5b6)&&_0x181d14[_0x168c93(0x93c)]&&shuffleArray(_0x181d14[_0x168c93(0x93c)]);}),_0x4e7902;}function displayQuizForStudent(_0xcaed34){const _0x2ff9b2=_0x26020e;studentQuizArea['classList'][_0x2ff9b2(0x48e)](_0x2ff9b2(0x47d)),currentDisplayedQuiz=getShuffledQuiz(_0xcaed34);currentMode!==_0x2ff9b2(0x1b3)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2ff9b2(0xb41)](_0x2ff9b2(0xa43),handleFullscreenChange),document[_0x2ff9b2(0xb41)](_0x2ff9b2(0x7f6),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x2ff9b2(0x8bd),resetDimTimer),window[_0x2ff9b2(0xb41)](_0x2ff9b2(0xbf2),resetDimTimer),window[_0x2ff9b2(0xb41)](_0x2ff9b2(0x2bb),resetDimTimer),window[_0x2ff9b2(0xb41)]('keydown',resetDimTimer),resetDimTimer());const _0x4c222b=currentDisplayedQuiz['settings']?.[_0x2ff9b2(0x9e4)]||_0x2ff9b2(0x334);if(_0x4c222b==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2ff9b2(0x798)][_0x2ff9b2(0x434)]);else _0x4c222b===_0x2ff9b2(0x5e1)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x84c42=_0x26020e,_0x581129=currentDisplayedQuiz[_0x84c42(0x798)]?.[_0x84c42(0x5e4)]===!![],_0x2679b1=currentDisplayedQuiz[_0x84c42(0x798)]?.[_0x84c42(0x88b)]||'checkbox';let _0x56bb90=_0x84c42(0x1ba)+currentDisplayedQuiz[_0x84c42(0x255)]+_0x84c42(0x1cb)+(currentMode===_0x84c42(0x1b3)?_0x84c42(0xc6e):'')+_0x84c42(0x44d);currentDisplayedQuiz['questions'][_0x84c42(0x488)]((_0x5c9644,_0x1b858f)=>{const _0x397829=_0x84c42,_0x2011a8=_0x5c9644[_0x397829(0x425)]||currentDisplayedQuiz[_0x397829(0x31d)];_0x56bb90+=_0x397829(0x5ec);if(_0x2011a8===_0x397829(0x5b6)){}else _0x56bb90+=_0x397829(0x9e7)+(_0x1b858f+0x1)+'.\x20'+(_0x5c9644[_0x397829(0x77a)]||_0x5c9644['questionText'])+'</p>',_0x5c9644[_0x397829(0xb2a)]&&(_0x56bb90+=_0x397829(0x63d)+_0x5c9644['imageCode']+'</div>');_0x56bb90+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x2011a8){case _0x397829(0x500):_0x56bb90+=_0x397829(0x1a3)+_0x1b858f+_0x397829(0xc43);break;case _0x397829(0x7e8):_0x56bb90+=_0x397829(0x2db)+_0x1b858f+'_opt0\x22\x20name=\x22question'+_0x1b858f+_0x397829(0x2cd)+_0x1b858f+_0x397829(0xa27),_0x56bb90+=_0x397829(0x2db)+_0x1b858f+_0x397829(0x71b)+_0x1b858f+_0x397829(0xcbc)+_0x1b858f+_0x397829(0x570);break;case _0x397829(0x5b6):_0x56bb90+=_0x397829(0xb5f)+_0x5c9644[_0x397829(0xb16)]+_0x397829(0x9c9)+_0x1b858f+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c9644[_0x397829(0x93c)][_0x397829(0xd0b)](_0x1e96d8=>_0x397829(0x514)+_0x1e96d8+'\x22>'+_0x1e96d8+_0x397829(0xcba))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x56bb90+=_0x5c9644[_0x397829(0x3e3)]['map']((_0x49fa2c,_0x4815cb)=>_0x397829(0x83a)+_0x1b858f+_0x397829(0xc5c)+_0x4815cb+_0x397829(0xb38)+_0x1b858f+_0x397829(0x53e)+_0x4815cb+_0x397829(0xa3f)+_0x1b858f+_0x397829(0xc5c)+_0x4815cb+'\x22>'+_0x49fa2c+_0x397829(0x8e6))[_0x397829(0xaa4)]('');break;}_0x56bb90+=_0x397829(0xa82),_0x581129&&(_0x56bb90+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x2679b1===_0x397829(0xc7b)?_0x56bb90+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x1b858f+_0x397829(0x53a)+_0x1b858f+_0x397829(0x418)+_0x1b858f+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x1b858f+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x56bb90+=_0x397829(0xb1c)+_0x1b858f+_0x397829(0x53a)+_0x1b858f+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x1b858f+_0x397829(0x2e1),_0x56bb90+=_0x397829(0xa82)),_0x56bb90+=_0x397829(0xa82);}),_0x56bb90+=_0x84c42(0x282),_0x56bb90+='</form>',studentQuizArea['innerHTML']=_0x56bb90;if(currentMode===_0x84c42(0x1b3)){const _0x148ad6=document[_0x84c42(0x44e)](_0x84c42(0x2eb));if(_0x148ad6)_0x148ad6[_0x84c42(0xb41)](_0x84c42(0x560),cancelAdminTest);}const _0x3d2d2a=document['getElementById'](_0x84c42(0xc9b));_0x3d2d2a&&(_0x3d2d2a[_0x84c42(0xb41)]('submit',handleSubmitQuiz),_0x3d2d2a[_0x84c42(0xb41)](_0x84c42(0x560),_0x586a2d=>{const _0x6f2d46=_0x84c42;if(_0x586a2d[_0x6f2d46(0x440)]['classList'][_0x6f2d46(0x8be)](_0x6f2d46(0x590))){const _0xcdcdd=_0x586a2d[_0x6f2d46(0x440)],_0x1fd66c=_0xcdcdd[_0x6f2d46(0xd00)][_0x6f2d46(0x923)],_0x17063f=_0xcdcdd[_0x6f2d46(0xd00)][_0x6f2d46(0x6ea)];document[_0x6f2d46(0x44e)](_0x6f2d46(0xb7e)+_0x1fd66c)[_0x6f2d46(0x6ea)]=_0x17063f;const _0x3aae80=_0xcdcdd[_0x6f2d46(0x72d)];_0x3aae80[_0x6f2d46(0xb04)](_0x6f2d46(0x473))['forEach'](_0x2a2836=>_0x2a2836[_0x6f2d46(0xab0)][_0x6f2d46(0x48e)](_0x6f2d46(0x57f))),_0xcdcdd['classList'][_0x6f2d46(0x75b)](_0x6f2d46(0x57f));}}));if(window[_0x84c42(0x597)])window['MathJax'][_0x84c42(0xc74)]([studentQuizArea]);}async function handleSubmitQuiz(_0x5b1794){const _0x28fd5a=_0x26020e;if(_0x5b1794)_0x5b1794['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x19d7d6=document[_0x28fd5a(0x44e)](_0x28fd5a(0xc9b));if(!_0x19d7d6)return;const _0x263c7f=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x46c3f3=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x28fd5a(0xa04);if(_0x263c7f&&_0x46c3f3===_0x28fd5a(0xc7b)){let _0x5361d7=!![];for(let _0x7f8962=0x0;_0x7f8962<currentDisplayedQuiz['questions']['length'];_0x7f8962++){const _0x291a78=_0x19d7d6['querySelector']('#confidence-input-'+_0x7f8962);if(!_0x291a78||_0x291a78[_0x28fd5a(0x6ea)]===''){_0x5361d7=![];break;}}if(!_0x5361d7){showMessage(_0x28fd5a(0xca1));return;}}const _0x54ef5b=_0x19d7d6[_0x28fd5a(0x6ca)](_0x28fd5a(0xa6d)),_0x428d98=currentDisplayedQuiz[_0x28fd5a(0x1c9)][_0x28fd5a(0x7a3)](_0x1b14b1=>_0x1b14b1[_0x28fd5a(0x425)]==='short_answer');_0x54ef5b&&(_0x54ef5b[_0x28fd5a(0x993)]=!![],_0x54ef5b['innerHTML']=_0x428d98?_0x28fd5a(0x88e):_0x28fd5a(0x87e));const _0x50220b=new FormData(_0x19d7d6),_0x3cc4a5=currentDisplayedQuiz['questions'][_0x28fd5a(0xd0b)]((_0x199f95,_0x1b6ff2)=>{const _0x4cb3b5=_0x28fd5a,_0x330cd7=_0x50220b[_0x4cb3b5(0x49e)]('question'+_0x1b6ff2);let _0xc93770;_0x46c3f3==='mandatory'?_0xc93770=_0x50220b['get'](_0x4cb3b5(0x7f8)+_0x1b6ff2):_0xc93770=_0x50220b[_0x4cb3b5(0x49e)](_0x4cb3b5(0x7f8)+_0x1b6ff2)==='on';let _0x4e7d8f=null;if(_0x330cd7!==null&&_0x330cd7!==undefined){const _0x31c94e=_0x199f95[_0x4cb3b5(0x425)]||currentDisplayedQuiz['quizType'];_0x31c94e===_0x4cb3b5(0xbad)||_0x31c94e==='fill_in_the_blank'?_0x4e7d8f=parseInt(_0x330cd7):_0x4e7d8f=_0x330cd7;}return{'answer':_0x4e7d8f,'wasConfident':_0xc93770};}),_0x24da1c=currentQuizData['id'],_0x29a815=doc(db,_0x28fd5a(0xc3e)+appId+_0x28fd5a(0xa6e)+_0x24da1c+_0x28fd5a(0xab1),currentStudentName),_0x4d997e=await getDoc(_0x29a815),_0x5c31a4=_0x4d997e[_0x28fd5a(0xd0a)]()?_0x4d997e[_0x28fd5a(0xb97)]():{},_0x41376f=_0x5c31a4[_0x28fd5a(0x933)]||[];await processAndSubmitAnswers(_0x3cc4a5,_0x41376f);}async function gradeShortAnswerWithAI(_0x3f44c5,_0x451cc6){const _0xa805fc=_0x26020e;if(!_0x3f44c5||!_0x451cc6)return![];try{const _0x1efe83=_0xa805fc(0xb64)+_0x3f44c5+_0xa805fc(0x768)+_0x451cc6+_0xa805fc(0x7e6),_0x4ddd43={'contents':[{'role':_0xa805fc(0xbd1),'parts':[{'text':_0x1efe83}]}]},_0x30d7b3=_0xa805fc(0x6b2),_0x1c1688='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x30d7b3,_0x43ea52=await fetch(_0x1c1688,{'method':'POST','headers':{'Content-Type':_0xa805fc(0x6bf)},'body':JSON['stringify'](_0x4ddd43)});if(!_0x43ea52['ok'])throw new Error(_0xa805fc(0x7d9));const _0x2b1905=await _0x43ea52['json'](),_0x3c431b=_0x2b1905['candidates'][0x0][_0xa805fc(0x25a)][_0xa805fc(0x3fa)][0x0]['text'][_0xa805fc(0x30d)]()[_0xa805fc(0x552)]();return _0x3c431b===_0xa805fc(0x668);}catch(_0x3f0d98){return console[_0xa805fc(0x2fe)](_0xa805fc(0xbd5),_0x3f0d98),![];}}async function processAndSubmitAnswers(_0x3a0fe7,_0x54ac66){const _0x3e4e72=_0x26020e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3e4e72(0x50b)](_0x3e4e72(0xa43),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange);let _0x3f8946=0x0;const _0x5af056=[],_0xe0a06f=currentDisplayedQuiz['questions'][_0x3e4e72(0x73e)];let _0x21fbdf=0x0,_0x17ead2=[];const _0x2c2f08=currentDisplayedQuiz[_0x3e4e72(0x1c9)];for(let _0x26c80d=0x0;_0x26c80d<_0x2c2f08[_0x3e4e72(0x73e)];_0x26c80d++){const _0x4ae096=_0x2c2f08[_0x26c80d],_0x56d1aa=_0x3a0fe7[_0x26c80d],_0x2f54fc=_0x56d1aa?_0x56d1aa[_0x3e4e72(0x204)]:null,_0x316a17=_0x56d1aa?_0x56d1aa[_0x3e4e72(0xb51)]:null;let _0x10a552=![],_0x13405e=0x0;if(_0x2f54fc!==null&&_0x2f54fc!==''){const _0x504dcc=_0x4ae096['questionType']||currentDisplayedQuiz[_0x3e4e72(0x31d)];switch(_0x504dcc){case _0x3e4e72(0x5b6):_0x10a552=_0x2f54fc===_0x4ae096['correctResponse'];break;case _0x3e4e72(0x7e8):const _0x5aa37e=_0x2f54fc===!![]||_0x2f54fc===_0x3e4e72(0x668);_0x10a552=_0x5aa37e===_0x4ae096[_0x3e4e72(0x7ba)];break;case'short_answer':_0x10a552=await gradeShortAnswer(_0x2f54fc,_0x4ae096);break;case'multiple_choice':default:_0x10a552=Number(_0x2f54fc)===_0x4ae096[_0x3e4e72(0xa5b)];break;}}if(currentDisplayedQuiz[_0x3e4e72(0x798)]?.[_0x3e4e72(0x5e4)]){const _0x2eb863=_0x56d1aa?_0x56d1aa[_0x3e4e72(0xb51)]:null;if(_0x10a552&&(_0x2eb863===!![]||_0x2eb863===_0x3e4e72(0x5f6)))_0x13405e=0x2;else{if(_0x10a552)_0x13405e=0x1;else{if(!_0x10a552&&(_0x2eb863===![]||_0x2eb863===_0x3e4e72(0x7a8)||_0x2eb863===null))_0x13405e=0x0;else!_0x10a552&&(_0x2eb863===!![]||_0x2eb863===_0x3e4e72(0x5f6))&&(_0x13405e=-0x1);}}}else _0x13405e=_0x10a552?0x1:0x0;_0x3f8946+=_0x13405e;if(_0x10a552){_0x21fbdf++;if(_0x21fbdf===0x3)_0x17ead2['push'](BADGES['ON_FIRE']['id']);}else _0x21fbdf=0x0;let _0x59f466=null;_0x4ae096['options']&&_0x2f54fc!==null&&(_0x59f466=_0x4ae096[_0x3e4e72(0x3e3)][_0x2f54fc]),_0x5af056['push']({'questionId':_0x4ae096['id'],'answer':_0x2f54fc,'answerText':_0x59f466,'isCorrect':_0x10a552,'wasConfident':_0x316a17,'pointsAwarded':_0x13405e,'originalQuestionText':_0x4ae096[_0x3e4e72(0xb16)]||_0x4ae096['questionText']});}const _0x2fa554=_0x5af056[_0x3e4e72(0x1f5)](_0x42544c=>_0x42544c['isCorrect'])['length'],_0x173854=currentDisplayedQuiz[_0x3e4e72(0x798)]?.[_0x3e4e72(0x483)]??Math[_0x3e4e72(0x513)](_0xe0a06f/0x2);_0x2fa554===_0xe0a06f&&_0xe0a06f>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x17ead2[_0x3e4e72(0xa2a)](BADGES[_0x3e4e72(0x3f8)]['id']);const _0x5785ca=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x5785ca==='whole_quiz'&&quizStartTime){const _0x24519e=(new Date()-quizStartTime)/0x3e8,_0x508ab4=currentDisplayedQuiz[_0x3e4e72(0x798)][_0x3e4e72(0x434)]*0x3c;_0x2fa554>=_0x173854&&_0x24519e<_0x508ab4/0x2&&_0x17ead2[_0x3e4e72(0xa2a)](BADGES['QUICK_THINKER']['id']);}_0x54ac66[_0x3e4e72(0x73e)]===0x0&&_0x2fa554===_0xe0a06f&&_0xe0a06f>0x0&&_0x17ead2[_0x3e4e72(0xa2a)](BADGES[_0x3e4e72(0x599)]['id']);if(_0x54ac66['length']>0x0){const _0x1eb97b=_0x54ac66[0x0][_0x3e4e72(0x635)];if(_0x1eb97b<_0x173854&&_0x2fa554>=_0x173854){const _0x33b230=_0x54ac66[_0x3e4e72(0x7a3)](_0x26f066=>(_0x26f066[_0x3e4e72(0x38e)]||[])[_0x3e4e72(0xae9)](BADGES[_0x3e4e72(0x462)]['id']));!_0x33b230&&_0x17ead2[_0x3e4e72(0xa2a)](BADGES[_0x3e4e72(0x462)]['id']);}}_0x54ac66[_0x3e4e72(0x73e)]===0x4&&_0x17ead2[_0x3e4e72(0xa2a)](BADGES[_0x3e4e72(0xa6f)]['id']);const _0x16fc7f=currentDisplayedQuiz[_0x3e4e72(0x798)][_0x3e4e72(0x5db)];if(currentMode===_0x3e4e72(0x1b3)){handleResultDisplay(_0x16fc7f,_0x2fa554,_0x3f8946,_0x17ead2,_0x5af056,_0xe0a06f);return;}const _0x4f73e1=currentQuizData['id'],_0x1a7091=doc(db,_0x3e4e72(0xc3e)+appId+'/public/data/quizzes/'+_0x4f73e1+_0x3e4e72(0xab1),currentStudentName);try{const _0xa7972c=[..._0x54ac66],_0x34d93d={'score':_0x2fa554,'points':_0x3f8946,'badges':Array[_0x3e4e72(0x346)](new Set(_0x17ead2)),'submittedAt':new Date()[_0x3e4e72(0x501)](),'answers':_0x5af056};_0xa7972c['push'](_0x34d93d);const _0x51648d=_0x54ac66[_0x3e4e72(0x73e)]===0x0?_0x2fa554:_0x54ac66[0x0][_0x3e4e72(0x635)]||0x0,_0x18fbe0=Math['max'](..._0xa7972c[_0x3e4e72(0xd0b)](_0x511b9e=>_0x511b9e['score']));await setDoc(_0x1a7091,{'studentName':currentStudentName,'totalQuestions':_0xe0a06f,'attempts':_0xa7972c,'firstScore':_0x51648d,'bestScore':_0x18fbe0,'latestScore':_0x2fa554,'points':_0x3f8946,'latestSubmittedAt':_0x34d93d[_0x3e4e72(0x642)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x3e4e72(0xc0b)],currentStudentName),handleResultDisplay(_0x16fc7f,_0x2fa554,_0x3f8946,_0x17ead2,_0x5af056,_0xe0a06f);}catch(_0x326455){console[_0x3e4e72(0x2fe)](_0x3e4e72(0xb13),_0x326455),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x13676f,_0x57a3fc){const _0xfd94d2=_0x26020e,_0x2be174=doc(db,'artifacts/'+appId+_0xfd94d2(0x5fc)+_0x13676f+_0xfd94d2(0xc6f),_0x57a3fc);try{const _0x58de0b=query(collection(db,_0xfd94d2(0xc3e)+appId+_0xfd94d2(0xa7d)),where('projectId','==',_0x13676f)),_0x9565c4=await getDocs(_0x58de0b),_0x2e909d=new Map(_0x9565c4['docs'][_0xfd94d2(0xd0b)](_0x4466ee=>[_0x4466ee['id'],_0x4466ee['data']()])),_0x1ab5c4=Array['from'](_0x2e909d[_0xfd94d2(0x4bc)]());await runTransaction(db,async _0x17962a=>{const _0x22f7bd=_0xfd94d2;let _0x1d75ae=0x0;const _0x5d2fec={};let _0x49118c=!![],_0x28672f=0x0,_0x2ab9ce=0x0;for(const _0x3625cc of _0x1ab5c4){const _0x3e903c=_0x2e909d[_0x22f7bd(0x49e)](_0x3625cc),_0x5d4900=doc(db,_0x22f7bd(0xc3e)+appId+_0x22f7bd(0xa6e)+_0x3625cc+'/submissions',_0x57a3fc),_0x193fd5=await _0x17962a['get'](_0x5d4900);if(_0x193fd5[_0x22f7bd(0xd0a)]()){const _0x5a70c2=_0x193fd5['data'](),_0x51eb27=_0x5a70c2['attempts']||[];if(_0x51eb27[_0x22f7bd(0x73e)]>0x0){const _0xe40428=_0x51eb27['reduce']((_0x2758af,_0x41af34)=>{const _0x33ca12=_0x22f7bd;if(_0x41af34[_0x33ca12(0x635)]>_0x2758af['score'])return _0x41af34;if(_0x41af34['score']===_0x2758af['score'])return(_0x41af34[_0x33ca12(0x9db)]||0x0)>(_0x2758af[_0x33ca12(0x9db)]||0x0)?_0x41af34:_0x2758af;return _0x2758af;},{'score':-0x1,'points':-0x1});_0xe40428['score']>-0x1&&(_0x1d75ae+=_0xe40428[_0x22f7bd(0x9db)]||0x0,(_0xe40428[_0x22f7bd(0x38e)]||[])['forEach'](_0x3b0fad=>{_0x5d2fec[_0x3b0fad]=(_0x5d2fec[_0x3b0fad]||0x0)+0x1;}));}}if(_0x3e903c['topic']!==_0x22f7bd(0xcc1)){_0x2ab9ce++;if(_0x193fd5['exists']()){_0x28672f++;const _0x563ab9=_0x193fd5[_0x22f7bd(0xb97)]();_0x563ab9[_0x22f7bd(0x887)]!==_0x563ab9['totalQuestions']&&(_0x49118c=![]);}else _0x49118c=![];}}_0x2ab9ce>0x0&&_0x28672f===_0x2ab9ce&&_0x49118c?_0x5d2fec[_0x22f7bd(0x84f)]=0x1:_0x5d2fec[_0x22f7bd(0x84f)]=0x0,_0x17962a['set'](_0x2be174,{'studentName':_0x57a3fc,'totalPoints':_0x1d75ae,'unlockedBadges':Object[_0x22f7bd(0x4bc)](_0x5d2fec)[_0x22f7bd(0x1f5)](_0x2267f7=>_0x5d2fec[_0x2267f7]>0x0),'badgesCount':_0x5d2fec},{'merge':!![]});});}catch(_0x561b35){console['error'](_0xfd94d2(0x9f7),_0x561b35),showMessage(_0xfd94d2(0x39b));}}function startAdminTest(){const _0x89d7e5=_0x26020e;if(!currentQuizData){showMessage(_0x89d7e5(0x19c));return;}let _0x37ca17=JSON[_0x89d7e5(0x22b)](JSON[_0x89d7e5(0x98d)](currentQuizData));currentMode=_0x89d7e5(0x1b3),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView['classList'][_0x89d7e5(0x75b)](_0x89d7e5(0x47d)),studentView[_0x89d7e5(0xab0)][_0x89d7e5(0x48e)]('hidden'),studentInitialView[_0x89d7e5(0xab0)][_0x89d7e5(0x75b)](_0x89d7e5(0x47d)),studentNameSelectionView[_0x89d7e5(0xab0)][_0x89d7e5(0x75b)](_0x89d7e5(0x47d)),studentResultArea[_0x89d7e5(0xab0)][_0x89d7e5(0x75b)](_0x89d7e5(0x47d)),studentQuizArea['classList'][_0x89d7e5(0x48e)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x37ca17);}function handleResultDisplay(_0x58aa00,_0x293832,_0x16f14c,_0xb50645,_0x194330,_0x3b762c){const _0x110dd5=_0x26020e;if(_0x58aa00==='manual_release'){displaySubmissionConfirmation();return;}const _0x2dc62d=currentDisplayedQuiz[_0x110dd5(0x798)]?.['passingScore']??Math[_0x110dd5(0x513)](_0x3b762c/0x2),_0x12d058=currentDisplayedQuiz[_0x110dd5(0x798)]?.['isAdaptive']??![],_0x581493=currentDisplayedQuiz[_0x110dd5(0x798)]?.[_0x110dd5(0x3ba)]===!![],_0x5d2de9=_0x293832<_0x2dc62d,_0x4c29d7=_0x58aa00===_0x110dd5(0x579)||_0x58aa00===_0x110dd5(0x1fd);if(_0x581493&&_0x5d2de9&&!_0x4c29d7){_0x58aa00===_0x110dd5(0xbb1)?displayResultsWithAnswers(_0x293832,_0x16f14c,_0xb50645,_0x194330,_0x3b762c,!![]):displayLoopScreen(_0x293832,_0x3b762c,_0x58aa00);return;}if(_0x12d058&&_0x5d2de9){startAdaptiveFlow(_0x194330,_0x293832,_0x3b762c);return;}switch(_0x58aa00){case _0x110dd5(0xbb1):displayResultsWithAnswers(_0x293832,_0x16f14c,_0xb50645,_0x194330,_0x3b762c);break;case _0x110dd5(0x66e):displayResultsScoreOnly(_0x293832,_0x16f14c,_0xb50645,_0x3b762c);break;case'show_pass_fail_only':displayPassFailOnly(_0x293832,_0x3b762c);break;case _0x110dd5(0x579):displayHalfMarkResult(_0x293832,_0x3b762c);break;case _0x110dd5(0x1fd):displayPerfectScoreResult(_0x293832,_0x3b762c);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x280b38){const _0x13aed5=_0x26020e;studentReadingArea[_0x13aed5(0x4c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x41a0b0=_0x13aed5(0x43b)+_0x280b38+_0x13aed5(0x490)+simpleMathPrompt+_0x13aed5(0x94c),_0x12cc59={'type':_0x13aed5(0x51e),'properties':{'questionText':{'type':_0x13aed5(0x52a)},'options':{'type':'ARRAY','items':{'type':_0x13aed5(0x52a)}},'correctAnswerIndex':{'type':_0x13aed5(0x877)},'explanation':{'type':_0x13aed5(0x52a)}},'required':[_0x13aed5(0xbbe),_0x13aed5(0x3e3),_0x13aed5(0xa5b),'explanation']},_0x28502c={'type':_0x13aed5(0x51e),'properties':{'topic':{'type':_0x13aed5(0x52a)},'questions':{'type':_0x13aed5(0x7ca),'items':_0x12cc59}},'required':[_0x13aed5(0x255),_0x13aed5(0x1c9)]};try{const _0x46fa63=await callAnalysisApi(_0x41a0b0,_0x28502c);_0x46fa63[_0x13aed5(0x5d9)]=!![],studentReadingArea[_0x13aed5(0xab0)][_0x13aed5(0x75b)](_0x13aed5(0x47d));const _0x5647fe={...currentDisplayedQuiz[_0x13aed5(0x798)],'isAdaptive':![],'resultsDisplay':_0x13aed5(0xbb1)};_0x46fa63[_0x13aed5(0x798)]=_0x5647fe,displayQuizForStudent(_0x46fa63);}catch(_0x11b4a7){console[_0x13aed5(0x2fe)]('Remedial\x20quiz\x20generation\x20failed:',_0x11b4a7),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x13aed5(0x62d));}}function displayPassFailOnly(_0x12043e,_0x366dc9){const _0x1c4302=_0x26020e,_0x2264ac=currentDisplayedQuiz[_0x1c4302(0x798)]?.[_0x1c4302(0x483)]??-0x1,_0x4878b3=currentDisplayedQuiz['isRemedial']===!![];let _0x20952f='',_0x325fdf=![];if(_0x4878b3||_0x2264ac!==-0x1){_0x325fdf=_0x4878b3?_0x12043e===_0x366dc9:_0x12043e>=_0x2264ac;const _0x38991e=_0x325fdf?'bg-green-100\x20text-green-800':_0x1c4302(0xa10),_0x51cd3a=_0x325fdf?_0x1c4302(0xc04):'ไม่ผ่าน';_0x20952f=_0x1c4302(0x90e)+_0x38991e+'\x22>'+_0x51cd3a+_0x1c4302(0xd07);}else _0x20952f=_0x1c4302(0x189);let _0x357c34=_0x1c4302(0xcdf)+currentStudentName+_0x1c4302(0x214)+_0x20952f+_0x1c4302(0x36d);studentResultArea['innerHTML']=_0x357c34,studentResultArea[_0x1c4302(0xab0)][_0x1c4302(0x48e)](_0x1c4302(0x47d)),studentQuizArea[_0x1c4302(0xab0)][_0x1c4302(0x75b)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x325fdf});}function cancelAdminTest(){const _0x47b9d9=_0x26020e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x47b9d9(0xa43),handleFullscreenChange),document[_0x47b9d9(0x50b)](_0x47b9d9(0x7f6),handleVisibilityChange),currentMode=_0x47b9d9(0x713),studentView[_0x47b9d9(0xab0)][_0x47b9d9(0x75b)]('hidden'),adminView[_0x47b9d9(0xab0)]['remove'](_0x47b9d9(0x47d)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x47b9d9(0xb15));}function setupResultScreenBackButton(_0x1b7404){const _0xc51d9f=_0x26020e,_0x383e8e={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1b7404};if(_0x383e8e[_0xc51d9f(0x892)]){const _0x30d3db='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0xc51d9f(0x319)](_0xc51d9f(0x87a),_0x30d3db),document[_0xc51d9f(0x44e)](_0xc51d9f(0x766))['addEventListener'](_0xc51d9f(0x560),()=>{const _0x153347=_0xc51d9f;studentResultArea[_0x153347(0xab0)][_0x153347(0x75b)](_0x153347(0x47d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x550a2f=_0xc51d9f(0x9aa),_0x4a9851=currentMode===_0xc51d9f(0x1b3),_0x4456bc=_0x4a9851?_0xc51d9f(0x478):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x2f94eb='';_0x383e8e['showRankings']&&(_0x2f94eb+=_0xc51d9f(0x846));let _0x5c0212=_0x383e8e['showImproveButton'];_0x5c0212===undefined&&(_0x5c0212=_0x383e8e[_0xc51d9f(0x635)]<_0x383e8e['totalQuestions']);_0x5c0212&&(_0x2f94eb+=_0xc51d9f(0xaf0));_0x2f94eb+='<button\x20id=\x22'+_0x550a2f+_0xc51d9f(0xbe5)+_0x4456bc+_0xc51d9f(0x7fb);const _0x2a605e=_0xc51d9f(0x9b6)+_0x2f94eb+'</div>';studentResultArea[_0xc51d9f(0x319)]('beforeend',_0x2a605e),studentResultArea[_0xc51d9f(0x6ca)](_0xc51d9f(0x369))?.['addEventListener'](_0xc51d9f(0x560),handleShowStudentRankings);const _0x55eafc=studentResultArea[_0xc51d9f(0x6ca)]('#retake-for-improvement-btn');_0x55eafc&&_0x55eafc['addEventListener'](_0xc51d9f(0x560),()=>{const _0x1dbd59=_0xc51d9f;studentResultArea[_0x1dbd59(0xab0)]['add'](_0x1dbd59(0x47d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xc51d9f(0x44e)](_0x550a2f)[_0xc51d9f(0xb41)]('click',()=>{const _0x369f28=_0xc51d9f;_0x4a9851?(currentMode=_0x369f28(0x713),studentView['classList']['add'](_0x369f28(0x47d)),adminView[_0x369f28(0xab0)][_0x369f28(0x48e)](_0x369f28(0x47d)),showView(_0x369f28(0xb15))):(showView('student'),document['getElementById'](_0x369f28(0xc77))[_0x369f28(0x6ea)]='');});}function displayResultsWithAnswers(_0x1f3d8b,_0x49d6d4,_0x4f1f94,_0x45ac1f,_0x139f6d,_0x117b96=![]){const _0x51e603=_0x26020e,_0x108ca2=_0x139f6d>0x0?_0x1f3d8b/_0x139f6d*0x64:0x0,_0x77a4ef=currentDisplayedQuiz['settings']?.[_0x51e603(0x483)]??-0x1,_0x107910=currentDisplayedQuiz['isRemedial']===!![];let _0x343184='';if(_0x107910||_0x77a4ef!==-0x1){let _0x24c0f8=_0x107910?_0x1f3d8b===_0x139f6d:_0x1f3d8b>=_0x77a4ef;const _0x1e13c4=_0x24c0f8?_0x51e603(0x450):_0x51e603(0xa10),_0x17ba0b=_0x24c0f8?'ผ่าน':_0x51e603(0x50a);_0x343184=_0x51e603(0x371)+_0x1e13c4+'\x22>'+_0x17ba0b+'</p>';}let _0x675423=_0x51e603(0xa71)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x1f3d8b+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x139f6d+_0x51e603(0xbc1)+_0x343184+_0x51e603(0x25b)+_0x49d6d4+_0x51e603(0x719)+_0x108ca2[_0x51e603(0x69b)](0x0)+_0x51e603(0x5b0);currentDisplayedQuiz['questions'][_0x51e603(0x488)]((_0x54c540,_0x2a6aeb)=>{const _0x492ff7=_0x51e603,_0x28d477=_0x45ac1f[_0x2a6aeb],_0x103233=_0x28d477[_0x492ff7(0x204)],_0x410d8e=_0x28d477[_0x492ff7(0xaf2)],_0x1157d3=_0x54c540[_0x492ff7(0x425)]||currentDisplayedQuiz['quizType'];_0x675423+=_0x492ff7(0xbae)+(_0x410d8e?_0x492ff7(0x5fd):_0x492ff7(0xc36))+_0x492ff7(0xc96)+(_0x2a6aeb+0x1)+'.\x20'+(_0x54c540[_0x492ff7(0xb16)]||_0x54c540[_0x492ff7(0xbbe)])+_0x492ff7(0x893);switch(_0x1157d3){case'matching_item':const _0x1b5eb6=_0x103233||_0x492ff7(0x42a),_0x1ee893=_0x54c540['correctResponse'];_0x675423+=_0x492ff7(0x80b)+(!_0x410d8e?_0x492ff7(0x3d9):'')+'\x22>'+_0x1b5eb6+'</span></p>';!_0x410d8e&&(_0x675423+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x1ee893+_0x492ff7(0xb75));break;case _0x492ff7(0x500):_0x675423+=_0x492ff7(0xc6a)+(_0x103233||_0x492ff7(0x42a))+_0x492ff7(0xb75),_0x675423+=_0x492ff7(0x95b)+_0x54c540[_0x492ff7(0x2a5)]+_0x492ff7(0xb75);break;case _0x492ff7(0x7e8):_0x675423+='<p\x20class=\x22'+(_0x54c540[_0x492ff7(0x7ba)]===!![]?_0x492ff7(0x915):'')+'\x20'+(_0x103233===_0x492ff7(0x668)&&!_0x410d8e?'line-through\x20text-red-700':'')+_0x492ff7(0x8da),_0x675423+=_0x492ff7(0x861)+(_0x54c540[_0x492ff7(0x7ba)]===![]?_0x492ff7(0x915):'')+'\x20'+(_0x103233===_0x492ff7(0x451)&&!_0x410d8e?_0x492ff7(0x3d9):'')+_0x492ff7(0x27f);break;default:_0x675423+=_0x54c540[_0x492ff7(0x3e3)][_0x492ff7(0xd0b)]((_0x29a15e,_0x2533dc)=>{const _0x51052d=_0x492ff7;let _0xa1691c='',_0x5b4edd='';if(_0x2533dc===_0x54c540[_0x51052d(0xa5b)])_0xa1691c=_0x51052d(0x915),_0x5b4edd=_0x51052d(0x91b);else _0x2533dc===_0x103233&&(_0xa1691c=_0x51052d(0x64f),_0x5b4edd='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x51052d(0x283)+_0xa1691c+'\x22>'+_0x5b4edd+_0x29a15e+_0x51052d(0xa82);})['join']('');break;}_0x675423+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x54c540[_0x492ff7(0x4b2)]||'ไม่มีคำอธิบาย')+_0x492ff7(0xa82);if(!_0x410d8e){const _0x1916b8=_0x54c540[_0x492ff7(0xb16)]||_0x54c540[_0x492ff7(0xbbe)];_0x675423+=_0x492ff7(0x56c)+escape(_0x1916b8)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x675423+=_0x492ff7(0xa82);}),studentResultArea[_0x51e603(0x4c4)]=_0x675423,renderEarnedBadges(_0x4f1f94,_0x51e603(0x953)),studentResultArea[_0x51e603(0xab0)][_0x51e603(0x48e)](_0x51e603(0x47d)),studentQuizArea[_0x51e603(0xab0)]['add']('hidden'),setupResultScreenBackButton({'isLooping':_0x117b96,'score':_0x1f3d8b,'totalQuestions':_0x139f6d,'showRankings':!![]});if(window[_0x51e603(0x597)])window[_0x51e603(0x597)][_0x51e603(0xc74)]([studentResultArea]);}function displayResultsScoreOnly(_0x63c577,_0x282018,_0xac2cbf,_0x1ceb48){const _0x544481=_0x26020e,_0x24faeb=_0x1ceb48>0x0?_0x63c577/_0x1ceb48*0x64:0x0,_0x2661d2=currentDisplayedQuiz[_0x544481(0x798)]?.[_0x544481(0x483)]??-0x1,_0x3383ce=currentDisplayedQuiz[_0x544481(0x5d9)]===!![];let _0x314836='';if(_0x3383ce||_0x2661d2!==-0x1){let _0x5cd56f=_0x3383ce?_0x63c577===_0x1ceb48:_0x63c577>=_0x2661d2;const _0x52532e=_0x5cd56f?_0x544481(0x450):_0x544481(0xa10),_0x510d8e=_0x5cd56f?'ผ่าน':_0x544481(0x50a);_0x314836=_0x544481(0x371)+_0x52532e+'\x22>'+_0x510d8e+_0x544481(0xb75);}let _0x15a68a=_0x544481(0xcdf)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x63c577+_0x544481(0x9be)+_0x1ceb48+_0x544481(0xbc1)+_0x314836+_0x544481(0x25b)+_0x282018+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x24faeb[_0x544481(0x69b)](0x0)+_0x544481(0x2ae);studentResultArea['innerHTML']=_0x15a68a,renderEarnedBadges(_0xac2cbf,'earned-badges-container'),studentResultArea[_0x544481(0xab0)][_0x544481(0x48e)]('hidden'),studentQuizArea[_0x544481(0xab0)][_0x544481(0x75b)](_0x544481(0x47d)),setupResultScreenBackButton({'score':_0x63c577,'totalQuestions':_0x1ceb48,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x31e15f=_0x26020e;let _0x173389=_0x31e15f(0x641)+currentStudentName+_0x31e15f(0x9e5);studentResultArea[_0x31e15f(0x4c4)]=_0x173389,studentResultArea['classList'][_0x31e15f(0x48e)](_0x31e15f(0x47d)),studentQuizArea[_0x31e15f(0xab0)][_0x31e15f(0x75b)](_0x31e15f(0x47d)),document[_0x31e15f(0x44e)](_0x31e15f(0x7d6))['addEventListener'](_0x31e15f(0x560),()=>{const _0x432fcd=_0x31e15f;showView(_0x432fcd(0x62d)),document[_0x432fcd(0x44e)](_0x432fcd(0xc77))[_0x432fcd(0x6ea)]='';});}function renderEarnedBadges(_0x7b9dc7,_0x19d1cd){const _0x5e7661=_0x26020e,_0x12f43c=document['getElementById'](_0x19d1cd);if(!_0x12f43c||!_0x7b9dc7||_0x7b9dc7[_0x5e7661(0x73e)]===0x0)return;let _0x217443='';_0x7b9dc7[_0x5e7661(0x488)]((_0x3a1724,_0x1c4f21)=>{const _0x12fbe9=_0x5e7661,_0x78bb09=Object['values'](BADGES)[_0x12fbe9(0x2ba)](_0x415d96=>_0x415d96['id']===_0x3a1724);_0x78bb09&&(_0x217443+=_0x12fbe9(0x273)+_0x1c4f21*0.2+_0x12fbe9(0xbef)+_0x78bb09[_0x12fbe9(0xa7e)]+_0x12fbe9(0x5aa)+_0x78bb09[_0x12fbe9(0x7b3)]+_0x12fbe9(0xa20)+_0x78bb09[_0x12fbe9(0x7c3)]+_0x12fbe9(0x849));}),_0x12f43c['innerHTML']=_0x217443;}function startPresentation(_0x1572b3){const _0x177ad5=_0x26020e;currentQuizData=getShuffledQuiz(_0x1572b3),currentPresentationSlide=0x0,presentationModal['style'][_0x177ad5(0x890)]=_0x177ad5(0xab6),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1f819d=_0x26020e;document[_0x1f819d(0xbf5)]&&document[_0x1f819d(0xc73)](),presentationModal[_0x1f819d(0x456)][_0x1f819d(0x890)]=_0x1f819d(0x334);}function renderPresentationSlide(_0x202e78){const _0x33f891=_0x26020e,_0x42252d=document['getElementById'](_0x33f891(0x98e));if(!currentQuizData||!currentQuizData[_0x33f891(0x1c9)]||!currentQuizData[_0x33f891(0x1c9)][_0x202e78]){_0x42252d[_0x33f891(0x4c4)]=_0x33f891(0xb67);return;}const _0x592318=currentQuizData[_0x33f891(0x1c9)][_0x202e78],_0x4dff24=_0x592318['questionType']||currentQuizData['quizType'];_0x42252d['innerHTML']='';let _0x3f6898='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x592318[_0x33f891(0xb2a)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x592318[_0x33f891(0xb2a)]+_0x33f891(0xa82):'')+_0x33f891(0x42e)+(_0x202e78+0x1)+'.\x20'+(_0x592318[_0x33f891(0xb16)]||_0x592318[_0x33f891(0xbbe)])+_0x33f891(0x607);switch(_0x4dff24){case _0x33f891(0x5b6):_0x3f6898+=_0x592318[_0x33f891(0x93c)][_0x33f891(0xd0b)](_0x1e6744=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e6744+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x33f891(0xaa4)]('');break;case _0x33f891(0x7e8):_0x3f6898+=_0x33f891(0x4c1),_0x3f6898+=_0x33f891(0xcc0);break;case _0x33f891(0x248):case _0x33f891(0x500):_0x3f6898+=_0x33f891(0x82d);break;case _0x33f891(0xa16):case _0x33f891(0xbad):default:_0x3f6898+=_0x592318[_0x33f891(0x3e3)][_0x33f891(0xd0b)]((_0x115174,_0x3d5f90)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x3d5f90+_0x33f891(0x9bc)+_0x115174+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x33f891(0xaa4)]('');break;}_0x3f6898+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x592318['explanation']||'ไม่มีคำอธิบาย')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x42252d['innerHTML']=_0x3f6898;if(window[_0x33f891(0x597)])window[_0x33f891(0x597)][_0x33f891(0xc74)]([_0x42252d]);let _0x22244a=[];switch(_0x4dff24){case'matching_item':_0x22244a=_0x592318['allResponses']||[];break;case'true_false':_0x22244a=[_0x33f891(0x805),_0x33f891(0x68e)];break;default:_0x22244a=_0x592318[_0x33f891(0x3e3)]||[];break;}const _0x14eb87=document[_0x33f891(0x44e)]('presentation-scratchpad-btn');_0x14eb87&&(_0x14eb87[_0x33f891(0x847)]=()=>{openScratchpad(_0x592318,_0x22244a);});document['querySelectorAll']('.presentation-option')[_0x33f891(0x488)](_0x5ab1cd=>{const _0x370537=_0x33f891;_0x5ab1cd[_0x370537(0xb41)](_0x370537(0x560),_0x3e4151=>revealAnswerForPresentation(_0x202e78,_0x3e4151[_0x370537(0x73f)]));});const _0x5c1e69=document[_0x33f891(0x44e)](_0x33f891(0x912));_0x5c1e69&&_0x5c1e69[_0x33f891(0xb41)](_0x33f891(0x560),()=>checkShortAnswerForPresentation(_0x202e78)),document['getElementById'](_0x33f891(0x22c))['textContent']='ข้อที่\x20'+(_0x202e78+0x1)+'\x20/\x20'+currentQuizData[_0x33f891(0x1c9)]['length'],document[_0x33f891(0x44e)](_0x33f891(0x4b7))['disabled']=_0x202e78===0x0,document[_0x33f891(0x44e)](_0x33f891(0x575))[_0x33f891(0x993)]=_0x202e78===currentQuizData['questions']['length']-0x1;}async function checkShortAnswerForPresentation(_0x93d527){const _0x5006ee=_0x26020e,_0x2016a8=currentQuizData[_0x5006ee(0x1c9)][_0x93d527],_0x5781bc=document['getElementById']('presentation-short-answer-input'),_0x13db0d=document[_0x5006ee(0x44e)](_0x5006ee(0x912)),_0x882d86=document['getElementById'](_0x5006ee(0xa63)),_0x3c3f15=document[_0x5006ee(0x44e)](_0x5006ee(0x46f));if(!_0x5781bc||!_0x13db0d||!_0x882d86||!_0x3c3f15)return;const _0x229d78=_0x5781bc[_0x5006ee(0x6ea)][_0x5006ee(0x30d)]();if(_0x229d78==='')return;_0x13db0d[_0x5006ee(0x993)]=!![],_0x13db0d[_0x5006ee(0x4c4)]=_0x5006ee(0x78e),_0x5781bc['disabled']=!![];const _0x4c52bb=await gradeShortAnswer(_0x229d78,_0x2016a8);_0x4c52bb?_0x882d86[_0x5006ee(0x4c4)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x882d86[_0x5006ee(0x4c4)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x2016a8[_0x5006ee(0x2a5)]+')',_0x882d86[_0x5006ee(0xab0)][_0x5006ee(0x48e)](_0x5006ee(0x47d)),_0x3c3f15[_0x5006ee(0xab0)][_0x5006ee(0x48e)](_0x5006ee(0x47d)),_0x13db0d[_0x5006ee(0xab0)][_0x5006ee(0x75b)]('hidden');}function revealAnswerForPresentation(_0x342f05,_0x506a76){const _0x2548f9=_0x26020e,_0x52be29=currentQuizData['questions'][_0x342f05],_0x29d8fe=_0x52be29['questionType']||currentQuizData[_0x2548f9(0x31d)];document['querySelectorAll'](_0x2548f9(0xa31))[_0x2548f9(0x488)](_0x36b85d=>{const _0x50a17f=_0x2548f9;_0x36b85d[_0x50a17f(0x993)]=!![],_0x36b85d[_0x50a17f(0xab0)]['remove'](_0x50a17f(0xb1e));let _0xb2e35c=![];if(_0x29d8fe===_0x50a17f(0xbad)||_0x29d8fe===_0x50a17f(0xa16)){const _0x203c6e=parseInt(_0x36b85d[_0x50a17f(0xd00)][_0x50a17f(0x517)]);_0xb2e35c=_0x203c6e===_0x52be29['correctAnswerIndex'];}else{if(_0x29d8fe===_0x50a17f(0x7e8)){const _0x4444fe=_0x36b85d[_0x50a17f(0xd00)][_0x50a17f(0x204)]==='true';_0xb2e35c=_0x4444fe===_0x52be29[_0x50a17f(0x7ba)];}else _0x29d8fe===_0x50a17f(0x5b6)&&(_0xb2e35c=_0x36b85d[_0x50a17f(0xb23)][_0x50a17f(0x30d)]()===_0x52be29[_0x50a17f(0xb53)]);}_0xb2e35c?_0x36b85d['classList']['add'](_0x50a17f(0x955),_0x50a17f(0xa8a),_0x50a17f(0x379)):_0x36b85d['classList']['add'](_0x50a17f(0x990));}),_0x506a76[_0x2548f9(0xab0)]['remove'](_0x2548f9(0x990));let _0x57a56a=![];if(_0x29d8fe==='multiple_choice')_0x57a56a=parseInt(_0x506a76['dataset'][_0x2548f9(0x517)])===_0x52be29[_0x2548f9(0xa5b)];else{if(_0x29d8fe===_0x2548f9(0x7e8))_0x57a56a=_0x506a76[_0x2548f9(0xd00)][_0x2548f9(0x204)]==='true'===_0x52be29[_0x2548f9(0x7ba)];else _0x29d8fe===_0x2548f9(0x5b6)&&(_0x57a56a=_0x506a76[_0x2548f9(0xb23)][_0x2548f9(0x30d)]()===_0x52be29[_0x2548f9(0xb53)]);}!_0x57a56a&&_0x506a76[_0x2548f9(0xab0)][_0x2548f9(0x75b)](_0x2548f9(0x942),_0x2548f9(0xa8a),'border-red-700'),document[_0x2548f9(0x44e)](_0x2548f9(0x46f))[_0x2548f9(0xab0)][_0x2548f9(0x48e)](_0x2548f9(0x47d));}function startWholeQuizTimer(_0x23adc3){const _0x2dbcf8=_0x26020e,_0x56ba88=document['getElementById'](_0x2dbcf8(0x751));if(!_0x56ba88)return;const _0x4be4a7=Date[_0x2dbcf8(0xc63)]()+_0x23adc3*0x3c*0x3e8;_0x56ba88[_0x2dbcf8(0x4c4)]=_0x2dbcf8(0xa42);const _0x115af3=document[_0x2dbcf8(0x44e)](_0x2dbcf8(0x949));quizTimerInterval=setInterval(()=>{const _0x51401a=_0x2dbcf8,_0x20833d=_0x4be4a7-Date[_0x51401a(0xc63)]();if(_0x20833d<=0x0)clearInterval(quizTimerInterval),_0x115af3['textContent']='00:00',showMessage(_0x51401a(0xc8b)),handleSubmitQuiz(null);else{const _0x37ec9d=Math[_0x51401a(0x513)](_0x20833d/0x3e8/0x3c%0x3c)[_0x51401a(0x1e5)]()[_0x51401a(0x7b1)](0x2,'0'),_0x1ed76b=Math[_0x51401a(0x513)](_0x20833d/0x3e8%0x3c)[_0x51401a(0x1e5)]()['padStart'](0x2,'0');_0x115af3[_0x51401a(0xb23)]=_0x37ec9d+':'+_0x1ed76b;}},0x3e8);}function renderPerQuestionView(){const _0x449a4b=_0x26020e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1b0291=currentDisplayedQuiz['questions'][currentQuestionIndex],_0xecb53f=_0x1b0291[_0x449a4b(0x425)]||currentDisplayedQuiz[_0x449a4b(0x31d)],_0x484b46=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![];let _0x16aa14='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x449a4b(0x74a)+currentDisplayedQuiz[_0x449a4b(0x1c9)]['length']+_0x449a4b(0x769)+(currentMode===_0x449a4b(0x1b3)?_0x449a4b(0xc6e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x449a4b(0x255)]+_0x449a4b(0x1d1);studentQuizArea[_0x449a4b(0x4c4)]=_0x16aa14;let _0x48947d=_0x1b0291['stem']||_0x1b0291['questionText'];_0x1b0291[_0x449a4b(0xb2a)]&&(_0x48947d+=_0x449a4b(0x63d)+_0x1b0291[_0x449a4b(0xb2a)]+_0x449a4b(0xa82));let _0xb67d1a='';switch(_0xecb53f){case _0x449a4b(0x500):case _0x449a4b(0x248):_0xb67d1a=_0x449a4b(0x814);break;case _0x449a4b(0x7e8):_0xb67d1a=_0x449a4b(0x679);break;case _0x449a4b(0x5b6):_0xb67d1a=_0x449a4b(0x4a0)+(_0x1b0291[_0x449a4b(0x93c)]||[])['map'](_0x28dafd=>_0x449a4b(0x514)+_0x28dafd+'\x22>'+_0x28dafd+_0x449a4b(0xcba))[_0x449a4b(0xaa4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x1b0291[_0x449a4b(0x3e3)]&&(_0xb67d1a=_0x1b0291[_0x449a4b(0x3e3)][_0x449a4b(0xd0b)]((_0xbdbcbb,_0x435212)=>_0x449a4b(0x4bf)+_0x435212+_0x449a4b(0x54f)+_0x435212+_0x449a4b(0x29e)+_0x435212+'\x22>'+_0xbdbcbb+'</label></div>')[_0x449a4b(0xaa4)](''));break;}document[_0x449a4b(0x44e)](_0x449a4b(0x4ab))['innerHTML']=_0x48947d,document[_0x449a4b(0x44e)](_0x449a4b(0x4a7))[_0x449a4b(0x4c4)]=_0xb67d1a;const _0x3a7e3c=currentDisplayedQuiz[_0x449a4b(0x798)]?.[_0x449a4b(0x5e4)]===!![],_0xa33f6=currentDisplayedQuiz[_0x449a4b(0x798)]?.['confidenceMode']||_0x449a4b(0xa04);if(_0x3a7e3c&&_0xa33f6==='checkbox'){const _0x1bced4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x449a4b(0x6ca)](_0x449a4b(0x865))[_0x449a4b(0x319)](_0x449a4b(0x87a),_0x1bced4);}studentQuizArea['insertAdjacentHTML'](_0x449a4b(0x87a),_0x449a4b(0x621)+(currentQuestionIndex===currentDisplayedQuiz[_0x449a4b(0x1c9)][_0x449a4b(0x73e)]-0x1?_0x449a4b(0x5f8):_0x449a4b(0x98b))+_0x449a4b(0x63e));currentMode===_0x449a4b(0x1b3)&&document[_0x449a4b(0x44e)]('cancel-test-btn')?.[_0x449a4b(0xb41)]('click',cancelAdminTest);document[_0x449a4b(0x44e)]('next-question-timed-btn')[_0x449a4b(0xb41)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax']['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x449a4b(0x798)]?.[_0x449a4b(0x9e4)]===_0x449a4b(0x5e1)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x9f1683=_0x26020e,_0x1dae03=currentDisplayedQuiz['settings']['timerDuration'],_0x21f7a7=document[_0x9f1683(0x44e)]('per-question-timer-container');if(!_0x21f7a7)return;let _0x2cdeba=_0x1dae03;_0x21f7a7['innerHTML']=_0x9f1683(0x79d)+_0x2cdeba+_0x9f1683(0xbba);const _0x1e570a=document['getElementById'](_0x9f1683(0xca6)),_0x3bedec=document['getElementById'](_0x9f1683(0x9cc));perQuestionTimerInterval=setInterval(()=>{const _0x47ea05=_0x9f1683;_0x2cdeba--;const _0x562a8f=_0x2cdeba/_0x1dae03*0x64;_0x1e570a['style'][_0x47ea05(0xa1e)]=_0x562a8f+'%',_0x3bedec[_0x47ea05(0xb23)]=_0x2cdeba,_0x2cdeba<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x47ea05(0x540)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x1d6be5=![]){const _0x4cf6b1=_0x26020e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0xd42399=null,_0x4326cb=![];if(!_0x1d6be5){const _0x3e0bed=currentDisplayedQuiz[_0x4cf6b1(0x1c9)][currentQuestionIndex],_0x26bbf1=_0x3e0bed[_0x4cf6b1(0x425)]||currentDisplayedQuiz[_0x4cf6b1(0x31d)];if(_0x26bbf1==='short_answer'||_0x26bbf1==='fill_in_no_choices')_0xd42399=document['querySelector']('textarea[name=\x22question_single\x22]')?.[_0x4cf6b1(0x6ea)][_0x4cf6b1(0x30d)]()??'';else{if(_0x26bbf1===_0x4cf6b1(0x5b6))_0xd42399=document[_0x4cf6b1(0x6ca)](_0x4cf6b1(0x1ad))?.[_0x4cf6b1(0x6ea)]??'';else{const _0x1747ff=document[_0x4cf6b1(0x6ca)](_0x4cf6b1(0x6bb));_0x1747ff&&(_0xd42399=_0x1747ff['value']);}}if(_0xd42399===null||_0xd42399===''){showMessage(_0x4cf6b1(0x2fa)),startPerQuestionTimer();return;}const _0x9ce95c=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x526479=currentDisplayedQuiz[_0x4cf6b1(0x798)]?.['confidenceMode']||'checkbox';if(_0x9ce95c&&_0x526479===_0x4cf6b1(0xc7b)){document[_0x4cf6b1(0x44e)](_0x4cf6b1(0x9f8))[_0x4cf6b1(0xd00)][_0x4cf6b1(0xb6f)]=_0x4cf6b1(0x47c),document[_0x4cf6b1(0x44e)](_0x4cf6b1(0x732))[_0x4cf6b1(0x6ea)]=_0xd42399,document['getElementById'](_0x4cf6b1(0x9f8))[_0x4cf6b1(0xab0)][_0x4cf6b1(0x48e)](_0x4cf6b1(0x47d));return;}const _0x421650=document[_0x4cf6b1(0x44e)](_0x4cf6b1(0x8f6));_0x421650&&(_0x4326cb=_0x421650[_0x4cf6b1(0x8ab)]);}const _0x38a07b={'answer':_0xd42399,'wasConfident':_0x4326cb};proceedToNextQuestion(_0x38a07b);}async function finalizePerQuestionQuiz(){const _0x2fc98a=_0x26020e,_0x344d62=currentDisplayedQuiz['questions'][_0x2fc98a(0x7a3)](_0x6c8041=>_0x6c8041['questionType']==='short_answer');_0x344d62?showMessage(_0x2fc98a(0x7c2)):showMessage(_0x2fc98a(0x4fa));const _0x5a11b5=currentQuizData['id'],_0x76e02e=doc(db,_0x2fc98a(0xc3e)+appId+_0x2fc98a(0xa6e)+_0x5a11b5+_0x2fc98a(0xab1),currentStudentName),_0x3d4e4f=await getDoc(_0x76e02e),_0x5f236b=_0x3d4e4f['exists']()?_0x3d4e4f[_0x2fc98a(0xb97)]():{},_0x3cebba=_0x5f236b[_0x2fc98a(0x933)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x3cebba);}function getResultsFilename(){const _0x41cb12=_0x26020e,_0x28465e=document['getElementById']('results-quiz-title')[_0x41cb12(0xb23)][_0x41cb12(0x558)](/[^a-z0-9]/gi,'_')[_0x41cb12(0x552)]();return'results_'+(_0x28465e||_0x41cb12(0xcc2));}function exportResultsAsImage(){const _0x51dcfd=_0x26020e,_0x3b9e5d=document[_0x51dcfd(0x44e)](_0x51dcfd(0xbfd));showMessage(_0x51dcfd(0x6c1)),html2canvas(_0x3b9e5d)[_0x51dcfd(0x779)](_0xc6845=>{const _0x274821=_0x51dcfd,_0x2b476e=document['createElement']('a');_0x2b476e['download']=getResultsFilename()+_0x274821(0x5ee),_0x2b476e[_0x274821(0x49c)]=_0xc6845[_0x274821(0x9a3)](_0x274821(0x4ae)),_0x2b476e[_0x274821(0x560)](),messageModal['classList'][_0x274821(0x75b)]('hidden');});}function exportResultsAsPDF(){const _0x20eb1f=_0x26020e,{jsPDF:_0x509556}=window[_0x20eb1f(0x5eb)],_0x192655=new _0x509556();_0x192655[_0x20eb1f(0x2b8)]('helvetica',_0x20eb1f(0x3b4)),_0x192655[_0x20eb1f(0x3cc)]({'html':_0x20eb1f(0xb36)}),_0x192655[_0x20eb1f(0x25e)](getResultsFilename()+_0x20eb1f(0x525));}function exportResultsAsWord(){const _0x35d793=_0x26020e,_0x3bc583=_0x35d793(0x749)+_0x35d793(0x2e9)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x35d793(0x87d),_0x453699='</body></html>',_0x92bd87=_0x3bc583+document['getElementById'](_0x35d793(0xbfd))[_0x35d793(0x4c4)]+_0x453699,_0x976e54=_0x35d793(0xbe9)+encodeURIComponent(_0x92bd87),_0x4c4670=document[_0x35d793(0x88a)]('a');document['body'][_0x35d793(0xccd)](_0x4c4670),_0x4c4670[_0x35d793(0x49c)]=_0x976e54,_0x4c4670[_0x35d793(0xa1a)]=getResultsFilename()+_0x35d793(0x9c5),_0x4c4670[_0x35d793(0x560)](),document[_0x35d793(0x859)][_0x35d793(0x20b)](_0x4c4670);}function exportResultsAsExcel(){const _0x131a65=_0x26020e,_0x4e5f6e=document[_0x131a65(0x44e)](_0x131a65(0x637));let _0xb9c6a9=[];for(let _0x331fad=0x0;_0x331fad<_0x4e5f6e['rows'][_0x131a65(0x73e)];_0x331fad++){let _0x48505f=[],_0xb7cf60=_0x4e5f6e[_0x131a65(0xbe0)][_0x331fad][_0x131a65(0xb04)]('td,\x20th');for(let _0x9c0849=0x0;_0x9c0849<_0xb7cf60[_0x131a65(0x73e)];_0x9c0849++){_0x48505f[_0x131a65(0xa2a)]('\x22'+_0xb7cf60[_0x9c0849]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0xb9c6a9[_0x131a65(0xa2a)](_0x48505f[_0x131a65(0xaa4)](','));}const _0x10df0c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xb9c6a9[_0x131a65(0xaa4)]('\x0a')],{'type':_0x131a65(0xb4e)}),_0x5a1380=document[_0x131a65(0x88a)]('a');_0x5a1380[_0x131a65(0x49c)]=URL[_0x131a65(0x2ed)](_0x10df0c),_0x5a1380[_0x131a65(0xa1a)]=getResultsFilename()+_0x131a65(0x663),_0x5a1380[_0x131a65(0x560)]();}function exportTableAsImage(_0x1e7fd7,_0x183ca1){const _0x5e362d=_0x26020e,_0x3574dd=document[_0x5e362d(0x44e)](_0x1e7fd7);if(!_0x3574dd){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x5e362d(0x6c1)),html2canvas(_0x3574dd)[_0x5e362d(0x779)](_0x5150ba=>{const _0x263b96=_0x5e362d,_0x16ac16=document[_0x263b96(0x88a)]('a');_0x16ac16['download']=_0x183ca1+_0x263b96(0x5ee),_0x16ac16[_0x263b96(0x49c)]=_0x5150ba[_0x263b96(0x9a3)](_0x263b96(0x4ae)),_0x16ac16[_0x263b96(0x560)](),messageModal['classList'][_0x263b96(0x75b)](_0x263b96(0x47d));});}function exportTableAsPDF(_0x8cdeb,_0x520891){const _0x28de53=_0x26020e,{jsPDF:_0x1d6b84}=window[_0x28de53(0x5eb)],_0x1dcf9d=new _0x1d6b84();_0x1dcf9d[_0x28de53(0x2b8)](_0x28de53(0x68b),_0x28de53(0x3b4)),_0x1dcf9d[_0x28de53(0x3cc)]({'html':'#'+_0x8cdeb}),_0x1dcf9d[_0x28de53(0x25e)](_0x520891+'.pdf');}function exportTableAsWord(_0x47c2e6,_0x1cb4c0){const _0x37f086=_0x26020e,_0xff52b0=document[_0x37f086(0x44e)](_0x47c2e6);if(!_0xff52b0){showMessage(_0x37f086(0xbb9));return;}const _0x57adc8='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x37f086(0x2e9)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x37f086(0x87d),_0x56f5a7=_0x37f086(0x6ee),_0x79d89c=_0x57adc8+_0xff52b0['innerHTML']+_0x56f5a7,_0x18e653='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x79d89c),_0x3cc979=document[_0x37f086(0x88a)]('a');document[_0x37f086(0x859)][_0x37f086(0xccd)](_0x3cc979),_0x3cc979[_0x37f086(0x49c)]=_0x18e653,_0x3cc979[_0x37f086(0xa1a)]=_0x1cb4c0+_0x37f086(0x9c5),_0x3cc979[_0x37f086(0x560)](),document[_0x37f086(0x859)][_0x37f086(0x20b)](_0x3cc979);}function exportTableAsExcel(_0x5676ca,_0x1b8a16){const _0x45ea5f=_0x26020e,_0x1e43de=document['getElementById'](_0x5676ca);if(!_0x1e43de){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x47fc75=[];for(let _0x52c4e9=0x0;_0x52c4e9<_0x1e43de[_0x45ea5f(0xbe0)][_0x45ea5f(0x73e)];_0x52c4e9++){let _0x840bce=[],_0x3bf0b8=_0x1e43de[_0x45ea5f(0xbe0)][_0x52c4e9][_0x45ea5f(0xb04)](_0x45ea5f(0xa74));for(let _0x4c5730=0x0;_0x4c5730<_0x3bf0b8[_0x45ea5f(0x73e)];_0x4c5730++){_0x840bce[_0x45ea5f(0xa2a)]('\x22'+_0x3bf0b8[_0x4c5730][_0x45ea5f(0x792)][_0x45ea5f(0x558)](/"/g,'\x22\x22')+'\x22');}_0x47fc75[_0x45ea5f(0xa2a)](_0x840bce[_0x45ea5f(0xaa4)](','));}const _0x2eda1a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x47fc75[_0x45ea5f(0xaa4)]('\x0a')],{'type':_0x45ea5f(0xb4e)}),_0x2da7ee=document[_0x45ea5f(0x88a)]('a');_0x2da7ee['href']=URL[_0x45ea5f(0x2ed)](_0x2eda1a),_0x2da7ee[_0x45ea5f(0xa1a)]=_0x1b8a16+_0x45ea5f(0x663),_0x2da7ee[_0x45ea5f(0x560)]();}function renderAnalytics(_0x5df1f9,_0xd71a36){const _0x466a7c=_0x26020e,_0xc1886f=_0xd71a36['filter'](_0xc0593=>_0xc0593['latestScore']!==undefined),_0x50e0e5=currentProjectData[_0x466a7c(0x926)][_0x466a7c(0x73e)],_0x10dff9=_0xc1886f['length'],_0xb68e30=_0x50e0e5-_0x10dff9,_0x45bba0=_0x50e0e5>0x0?_0x10dff9/_0x50e0e5*0x64:0x0,_0x9ecee9=_0xc1886f['map'](_0x4458ea=>_0x4458ea['latestScore']),_0x1d8a49=_0x9ecee9[_0x466a7c(0x73e)]>0x0?_0x9ecee9[_0x466a7c(0xbe4)]((_0x2e49df,_0x213371)=>_0x2e49df+_0x213371,0x0)/_0x9ecee9[_0x466a7c(0x73e)]:0x0,_0x34d286=_0x5df1f9[_0x466a7c(0x1c9)][_0x466a7c(0x73e)],_0x14e36c=_0x34d286>0x0?_0x1d8a49/_0x34d286*0x64:0x0,_0x58e252=calculateItemAnalysis(_0x5df1f9,_0xc1886f),_0x2aecd9=calculateReliabilityKR20(_0x5df1f9,_0xc1886f,_0x58e252[_0x466a7c(0x7c8)]);let _0x646fd4='';if(_0x2aecd9!==null){let _0x11496c='';if(_0x2aecd9>=0.9)_0x11496c='ยอดเยี่ยม';else{if(_0x2aecd9>=0.8)_0x11496c=_0x466a7c(0xa24);else{if(_0x2aecd9>=0.7)_0x11496c='ดี';else{if(_0x2aecd9>=0.6)_0x11496c=_0x466a7c(0xb6a);else _0x11496c=_0x466a7c(0xb31);}}}_0x646fd4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x2aecd9[_0x466a7c(0x69b)](0x2)+_0x466a7c(0x9a1)+_0x11496c+_0x466a7c(0x3d4);}const _0x38c17f=document[_0x466a7c(0x44e)](_0x466a7c(0x958));_0x38c17f[_0x466a7c(0x4c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x45bba0[_0x466a7c(0x69b)](0x0)+_0x466a7c(0x8df)+_0x10dff9+'/'+_0x50e0e5+_0x466a7c(0x2af)+_0x1d8a49['toFixed'](0x2)+_0x466a7c(0x6e5)+_0x14e36c[_0x466a7c(0x69b)](0x0)+_0x466a7c(0x889)+(_0x9ecee9['length']>0x0?Math[_0x466a7c(0x6c6)](..._0x9ecee9):_0x466a7c(0x61d))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x9ecee9[_0x466a7c(0x73e)]>0x0?Math[_0x466a7c(0x363)](..._0x9ecee9):_0x466a7c(0x61d))+_0x466a7c(0x3b1)+_0x646fd4+_0x466a7c(0x94c);const _0x1f129a=document['getElementById'](_0x466a7c(0x639));_0x1f129a&&_0x1f129a[_0x466a7c(0x48e)]();const _0x5dc51c=_0x466a7c(0x247);_0x38c17f[_0x466a7c(0x319)]('afterend',_0x5dc51c);const _0x1e842c=currentProjectData['students']||[];renderSubmissionChart(_0x10dff9,_0xb68e30,_0xc1886f,_0x1e842c),renderScoreDistributionChart(_0xc1886f,_0x34d286),renderQuestionAnalytics(_0x5df1f9,_0xc1886f,_0x1e842c),renderInterestingStats(_0x5df1f9,_0xc1886f);}async function handleExportLessonPDF(){const _0x2cc328=_0x26020e,_0xa8e08=document['getElementById'](_0x2cc328(0x2e8)),_0x5a8984=document['getElementById'](_0x2cc328(0xba7))[_0x2cc328(0xb23)],_0x4268a1=window[_0x2cc328(0x1c4)]('','_blank'),_0x49899b=_0x2cc328(0x72c)+_0x5a8984+_0x2cc328(0x7cc)+_0xa8e08[_0x2cc328(0x4c4)]+_0x2cc328(0x1bd);_0x4268a1[_0x2cc328(0x2f4)][_0x2cc328(0x46b)](_0x49899b),_0x4268a1[_0x2cc328(0x2f4)][_0x2cc328(0x455)](),_0x4268a1[_0x2cc328(0x217)]=function(){setTimeout(()=>{_0x4268a1['print']();},0x5dc);};}function renderInterestingStats(_0x36dc93,_0x150137){const _0x2f98c2=_0x26020e,_0x1d68a6=document[_0x2f98c2(0x44e)](_0x2f98c2(0x8a2));if(!_0x1d68a6)return;if(_0x150137[_0x2f98c2(0x73e)]===0x0){_0x1d68a6['innerHTML']=_0x2f98c2(0x548);return;}const _0x35b85b=_0x36dc93[_0x2f98c2(0x1c9)][_0x2f98c2(0xd0b)]((_0x6f68ce,_0x4b5282)=>({'index':_0x4b5282+0x1,'text':_0x6f68ce['questionText']||_0x6f68ce[_0x2f98c2(0xb16)],'correct':0x0}));_0x150137[_0x2f98c2(0x488)](_0x2eeece=>{const _0x3a83da=_0x2f98c2,_0x3d5125=_0x2eeece[_0x3a83da(0x933)][_0x2eeece[_0x3a83da(0x933)][_0x3a83da(0x73e)]-0x1];_0x3d5125&&_0x3d5125[_0x3a83da(0xc9e)]&&_0x3d5125[_0x3a83da(0xc9e)][_0x3a83da(0x488)](_0x15e689=>{const _0x4bc492=_0x3a83da,_0x51ca3d=_0x35b85b['find'](_0xe88f44=>_0xe88f44[_0x4bc492(0x2ac)]===_0x15e689[_0x4bc492(0x9fe)]);_0x15e689['isCorrect']&&_0x51ca3d&&_0x51ca3d[_0x4bc492(0x51d)]++;});});const _0x5b9fbd=_0x150137['length'],_0x252709=Math['max'](..._0x35b85b[_0x2f98c2(0xd0b)](_0xb891b7=>_0xb891b7[_0x2f98c2(0x51d)])),_0x45c9c5=Math[_0x2f98c2(0x363)](..._0x35b85b[_0x2f98c2(0xd0b)](_0x494151=>_0x494151[_0x2f98c2(0x51d)])),_0x4f16f2=_0x35b85b['filter'](_0x89fee9=>_0x89fee9[_0x2f98c2(0x51d)]===_0x252709)[_0x2f98c2(0xd0b)](_0x1600c1=>_0x2f98c2(0x510)+_0x1600c1[_0x2f98c2(0x517)]),_0x51c4a4=_0x35b85b['filter'](_0x2b50bf=>_0x2b50bf[_0x2f98c2(0x51d)]===_0x45c9c5)[_0x2f98c2(0xd0b)](_0x26322c=>_0x2f98c2(0x510)+_0x26322c[_0x2f98c2(0x517)]),_0x50722a=_0x150137[_0x2f98c2(0x80a)]((_0xbf9c60,_0x5a8cc9)=>_0x5a8cc9['latestScore']-_0xbf9c60['latestScore'])[_0x2f98c2(0x1f5)]((_0x89726f,_0xdc42a8,_0x2eb795)=>_0x89726f[_0x2f98c2(0x257)]===_0x2eb795[0x0][_0x2f98c2(0x257)]),_0x1c2f10=_0x150137[_0x2f98c2(0x80a)]((_0x3ac5e8,_0x36cb43)=>_0x3ac5e8[_0x2f98c2(0x257)]-_0x36cb43[_0x2f98c2(0x257)])[_0x2f98c2(0x1f5)]((_0x243ee5,_0xb4aa52,_0x2bf22a)=>_0x243ee5['latestScore']===_0x2bf22a[0x0][_0x2f98c2(0x257)]),_0x1e7245=_0x2f98c2(0x78d)+_0x4f16f2['join'](',\x20')+_0x2f98c2(0x8fd)+_0x252709+_0x2f98c2(0x690)+_0x5b9fbd+_0x2f98c2(0xd04)+_0x51c4a4[_0x2f98c2(0xaa4)](',\x20')+_0x2f98c2(0x8fd)+(_0x5b9fbd-_0x45c9c5)+_0x2f98c2(0x690)+_0x5b9fbd+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x50722a['map'](_0xd0344b=>_0xd0344b[_0x2f98c2(0x775)])[_0x2f98c2(0xaa4)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x50722a[0x0][_0x2f98c2(0x257)]+_0x2f98c2(0xce3)+_0x1c2f10[_0x2f98c2(0xd0b)](_0x5aed68=>_0x5aed68[_0x2f98c2(0x775)])[_0x2f98c2(0xaa4)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x1c2f10[0x0][_0x2f98c2(0x257)]+_0x2f98c2(0x721);_0x1d68a6[_0x2f98c2(0x4c4)]=_0x1e7245;}function renderSubmissionChart(_0x330d2c,_0x4bdb52,_0x19a8f9,_0x391b10){const _0x5b1a6c=_0x26020e,_0x55fbba=document[_0x5b1a6c(0x44e)]('submission-status-chart')[_0x5b1a6c(0x2c8)]('2d'),_0x2dbd80=_0x19a8f9[_0x5b1a6c(0xd0b)](_0x1be1cd=>_0x1be1cd[_0x5b1a6c(0x775)]),_0x1647bf=_0x391b10[_0x5b1a6c(0x1f5)](_0x592122=>!_0x2dbd80[_0x5b1a6c(0xae9)](_0x592122));chartInstances[_0x5b1a6c(0x66a)]&&chartInstances[_0x5b1a6c(0x66a)]['destroy'](),chartInstances['submission']=new Chart(_0x55fbba,{'type':_0x5b1a6c(0x62c),'data':{'labels':[_0x5b1a6c(0x6b1),_0x5b1a6c(0xcb7)],'datasets':[{'data':[_0x330d2c,_0x4bdb52],'backgroundColor':[_0x5b1a6c(0x25d),_0x5b1a6c(0x9b0)],'borderColor':[_0x5b1a6c(0xbc5),_0x5b1a6c(0xbc5)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5b1a6c(0x741)},'tooltip':{'callbacks':{'label':function(_0x31f54a){const _0x375e1c=_0x5b1a6c;let _0x17ab6f=_0x31f54a['label']||'';return _0x17ab6f&&(_0x17ab6f+=':\x20'),_0x17ab6f+=_0x31f54a[_0x375e1c(0x3f2)],_0x17ab6f;},'afterLabel':function(_0x313a9b){const _0x5d542f=_0x5b1a6c;let _0x1f4906;return _0x313a9b['dataIndex']===0x0?_0x1f4906=_0x2dbd80:_0x1f4906=_0x1647bf,_0x1f4906[_0x5d542f(0x73e)]>0x0?_0x1f4906[_0x5d542f(0xaa4)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x2493b7,_0x5d89d3){const _0x143563=_0x26020e,_0xd78f08=document['getElementById'](_0x143563(0x245))[_0x143563(0x2c8)]('2d'),_0x2edc0c={};for(let _0x283352=0x0;_0x283352<=_0x5d89d3;_0x283352++){_0x2edc0c[_0x283352]=0x0;}_0x2493b7[_0x143563(0x488)](_0x59d173=>{const _0x54ce29=_0x143563;_0x2edc0c[_0x59d173[_0x54ce29(0x257)]]!==undefined&&_0x2edc0c[_0x59d173['latestScore']]++;}),chartInstances[_0x143563(0x635)]&&chartInstances[_0x143563(0x635)][_0x143563(0x6b4)](),chartInstances[_0x143563(0x635)]=new Chart(_0xd78f08,{'type':_0x143563(0x53d),'data':{'labels':Object['keys'](_0x2edc0c),'datasets':[{'label':_0x143563(0x23f),'data':Object[_0x143563(0x20d)](_0x2edc0c),'backgroundColor':_0x143563(0x89e),'borderColor':_0x143563(0x3f6),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x143563(0xc6d)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1c5efc){const _0x331982=_0x143563,_0x4c0468=_0x1c5efc['label'],_0x4e4f50=_0x2493b7[_0x331982(0x1f5)](_0x52d157=>_0x52d157['latestScore']==_0x4c0468)[_0x331982(0xd0b)](_0x12b8d3=>_0x12b8d3['studentName']);return _0x4e4f50[_0x331982(0x73e)]>0x0?_0x4e4f50[_0x331982(0xaa4)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x5e2314,_0x5450b4,_0x2bd71c){const _0x16f7b8=_0x26020e,_0x1a5c9a=document[_0x16f7b8(0x44e)](_0x16f7b8(0x2a2));if(_0x2bd71c[_0x16f7b8(0x73e)]===0x0){_0x1a5c9a[_0x16f7b8(0x4c4)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x445b0d=calculateItemAnalysis(_0x5e2314,_0x5450b4),_0x166699=calculateDistractorAnalysis(_0x5e2314,_0x5450b4);let _0x3ad16c='';_0x445b0d[_0x16f7b8(0x863)]&&(_0x3ad16c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x445b0d[_0x16f7b8(0x863)][_0x16f7b8(0x888)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x445b0d[_0x16f7b8(0x863)]['upperGroupNames'][_0x16f7b8(0xd0b)](_0x54b80a=>_0x16f7b8(0x3a6)+_0x54b80a+_0x16f7b8(0x3a1))[_0x16f7b8(0xaa4)]('')+_0x16f7b8(0x9ab)+_0x445b0d[_0x16f7b8(0x863)][_0x16f7b8(0x773)][_0x16f7b8(0x73e)]+_0x16f7b8(0x504)+_0x445b0d[_0x16f7b8(0x863)][_0x16f7b8(0x773)][_0x16f7b8(0xd0b)](_0x1aba12=>'<li>'+_0x1aba12+_0x16f7b8(0x3a1))[_0x16f7b8(0xaa4)]('')+_0x16f7b8(0x3d2));let _0x49b587='';const _0x19569f=_0x5450b4[_0x16f7b8(0xd0b)](_0x26658a=>_0x26658a[_0x16f7b8(0x775)]),_0x17270b=_0x559a86=>{const _0xda0ddf=_0x16f7b8;if(_0x559a86>=0.8)return _0xda0ddf(0xc1e);if(_0x559a86>=0.6)return _0xda0ddf(0x6e8);if(_0x559a86>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x559a86>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0xda0ddf(0x98a);},_0x550cf2=_0x1d7833=>{const _0x24a818=_0x16f7b8;if(_0x1d7833<0x0)return _0x24a818(0xb72);if(_0x1d7833>=0.4)return _0x24a818(0xb49);if(_0x1d7833>=0.3)return _0x24a818(0xa77);if(_0x1d7833>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x24a818(0xca2);},_0x3ac03c=_0x13fdc6=>{const _0x440821=_0x16f7b8,_0x31adf6=_0x13fdc6['toFixed'](0x0);if(parseFloat(_0x31adf6)===0x64)return _0x440821(0x2b3)+_0x31adf6+_0x440821(0x8bc);if(_0x13fdc6>=0x32)return _0x440821(0x6f0)+_0x31adf6+_0x440821(0x8bc);return _0x440821(0xa2c)+_0x31adf6+_0x440821(0x8bc);};_0x5e2314[_0x16f7b8(0x1c9)][_0x16f7b8(0x488)]((_0x24db06,_0x1f7278)=>{const _0x2bc763=_0x16f7b8,_0x52298f=_0x445b0d[_0x2bc763(0x7c8)][_0x1f7278],_0x1ab667=_0x166699[_0x1f7278],_0x43ef2f=_0x24db06['stem']||_0x24db06['questionText']||_0x24db06[_0x2bc763(0x77a)];let _0x75b3ee=0x0;const _0x4859fd=[],_0x2ee4f7=[];_0x5450b4[_0x2bc763(0x488)](_0xcbf4d1=>{const _0x4fc98d=_0x2bc763,_0x14ee52=_0xcbf4d1[_0x4fc98d(0x933)][_0xcbf4d1['attempts'][_0x4fc98d(0x73e)]-0x1];if(_0x14ee52&&_0x14ee52['answers']){const _0x3d9c72=_0x14ee52['answers'][_0x4fc98d(0x2ba)](_0x2981f2=>_0x2981f2['originalQuestionText']===_0x43ef2f)??_0x14ee52[_0x4fc98d(0xc9e)][_0x1f7278]??null;_0x3d9c72&&(_0x3d9c72[_0x4fc98d(0xaf2)]?(_0x75b3ee++,_0x4859fd['push'](_0xcbf4d1['studentName'])):_0x2ee4f7[_0x4fc98d(0xa2a)](_0xcbf4d1[_0x4fc98d(0x775)]));}});const _0xa1b23f=_0x5450b4[_0x2bc763(0x73e)]>0x0?_0x75b3ee/_0x5450b4[_0x2bc763(0x73e)]*0x64:0x0,_0x10601d=_0x2bd71c['filter'](_0x446cec=>!_0x19569f['includes'](_0x446cec)),_0x5415f2=_0x52298f?_0x2bc763(0x9df)+_0x52298f['p'][_0x2bc763(0x69b)](0x2)+_0x2bc763(0xce5)+_0x17270b(_0x52298f['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x52298f['r'][_0x2bc763(0x69b)](0x2)+_0x2bc763(0xce5)+_0x550cf2(_0x52298f['r'])+_0x2bc763(0xaf7)+_0x3ac03c(_0xa1b23f)+_0x2bc763(0xb17):'';let _0x54a696='';_0x1ab667&&(_0x54a696=_0x2bc763(0xcfc)+Object[_0x2bc763(0x4bc)](_0x1ab667)[_0x2bc763(0xd0b)](_0x57ac06=>{const _0x2ea6e8=_0x2bc763,_0x1b6440=_0x1ab667[_0x57ac06],_0x23c5ea=parseInt(_0x57ac06)===_0x24db06[_0x2ea6e8(0xa5b)],_0x490def=!_0x23c5ea&&_0x1b6440[_0x2ea6e8(0x40d)]>_0x1b6440['upper_group_count'];return'<tr\x20class=\x22'+(_0x23c5ea?_0x2ea6e8(0xbf1):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x23c5ea?'✔\x20':'')+_0x1b6440[_0x2ea6e8(0x2ac)]+_0x2ea6e8(0x702)+_0x1b6440[_0x2ea6e8(0x4fb)]+_0x2ea6e8(0x702)+_0x1b6440[_0x2ea6e8(0x40d)]+'\x20'+(_0x490def?'👍':'')+_0x2ea6e8(0x702)+_0x1b6440[_0x2ea6e8(0x18e)]+_0x2ea6e8(0xcf2);})['join']('')+_0x2bc763(0x279));let _0x93b443='';_0x52298f&&_0x52298f[_0x2bc763(0x848)]&&(_0x93b443=_0x2bc763(0xb52)+_0x52298f['upperGroupResponders'][_0x2bc763(0x73e)]+_0x2bc763(0x348)+_0x52298f[_0x2bc763(0x848)]['map'](_0x29bce8=>_0x2bc763(0x3a6)+(_0x29bce8['isCorrect']?_0x2bc763(0x6d4):_0x2bc763(0x97e))+'\x20'+_0x29bce8[_0x2bc763(0x7c3)]+_0x2bc763(0x3a1))['join']('')+_0x2bc763(0xa9e)+_0x52298f[_0x2bc763(0xc4d)]['length']+_0x2bc763(0x348)+_0x52298f['lowerGroupResponders']['map'](_0x33ae24=>_0x2bc763(0x3a6)+(_0x33ae24['isCorrect']?_0x2bc763(0x6d4):_0x2bc763(0x97e))+'\x20'+_0x33ae24[_0x2bc763(0x7c3)]+_0x2bc763(0x3a1))[_0x2bc763(0xaa4)]('')+_0x2bc763(0x904)),_0x49b587+=_0x2bc763(0x5b9)+(_0x1f7278+0x1)+':\x20'+_0x43ef2f+_0x2bc763(0x878)+_0x5415f2+_0x2bc763(0x353)+_0x43ef2f+_0x2bc763(0x5ea)+_0x75b3ee+_0x2bc763(0x74a)+_0x5450b4['length']+_0x2bc763(0x50d)+_0xa1b23f[_0x2bc763(0x69b)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x4859fd[_0x2bc763(0x73e)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4859fd[_0x2bc763(0x73e)]>0x0?_0x4859fd['join'](',\x20'):_0x2bc763(0x9dc))+_0x2bc763(0x6c3)+_0x2ee4f7[_0x2bc763(0x73e)]+_0x2bc763(0xa62)+(_0x2ee4f7[_0x2bc763(0x73e)]>0x0?_0x2ee4f7[_0x2bc763(0xaa4)](',\x20'):_0x2bc763(0x9dc))+_0x2bc763(0xa51)+_0x10601d[_0x2bc763(0x73e)]+_0x2bc763(0xa62)+(_0x10601d[_0x2bc763(0x73e)]>0x0?_0x10601d['join'](',\x20'):_0x2bc763(0x9dc))+_0x2bc763(0x9c6)+_0x54a696+_0x2bc763(0xcbe)+_0x93b443+_0x2bc763(0xcb0);}),_0x1a5c9a[_0x16f7b8(0x4c4)]=_0x3ad16c+_0x49b587;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x16f7b8(0xc74)]([_0x1a5c9a]);}catch(_0x12d84b){console[_0x16f7b8(0x2fe)](_0x16f7b8(0x6e4),_0x12d84b);}}function calculateDistractorAnalysis(_0x4342d3,_0x127e4c){const _0x2f0225=_0x26020e,_0x3481b7={};if(_0x127e4c[_0x2f0225(0x73e)]<0x2)return _0x3481b7;const _0x5df4ad=[..._0x127e4c][_0x2f0225(0x80a)]((_0x180502,_0x5403c1)=>{const _0x556efe=_0x2f0225,_0x1f902d=_0x5403c1[_0x556efe(0x257)]-_0x180502['latestScore'];if(_0x1f902d!==0x0)return _0x1f902d;const _0x1f3a96=_0x180502[_0x556efe(0x933)]?.[_0x556efe(0x73e)]||0x1,_0x23ba8f=_0x5403c1[_0x556efe(0x933)]?.[_0x556efe(0x73e)]||0x1,_0x2f93d4=_0x1f3a96-_0x23ba8f;if(_0x2f93d4!==0x0)return _0x2f93d4;const _0x81715=new Date(_0x180502['latestSubmittedAt']),_0x3d4804=new Date(_0x5403c1[_0x556efe(0x2b7)]),_0x418941=_0x81715-_0x3d4804;if(_0x418941!==0x0)return _0x418941;return _0x180502['studentName'][_0x556efe(0x4e8)](_0x5403c1[_0x556efe(0x775)],'th');}),_0x205703=_0x5df4ad[_0x2f0225(0x73e)],_0x470af6=Math[_0x2f0225(0x6c6)](0x1,Math[_0x2f0225(0x513)](_0x205703*0.33)),_0x5827d9=_0x5df4ad[_0x2f0225(0x8ac)](0x0,_0x470af6),_0x573485=_0x5df4ad[_0x2f0225(0x8ac)](-_0x470af6);return _0x4342d3[_0x2f0225(0x1c9)][_0x2f0225(0x488)]((_0x1c25d3,_0x31dcae)=>{const _0x5a0c7b=_0x2f0225;if(_0x1c25d3['questionType']!=='multiple_choice'||!_0x1c25d3['options'])return;const _0x208c43=_0x1c25d3[_0x5a0c7b(0xbbe)],_0x5289={};_0x1c25d3[_0x5a0c7b(0x3e3)][_0x5a0c7b(0x488)]((_0x55b0dc,_0x1b8a57)=>{_0x5289[_0x1b8a57]={'text':_0x55b0dc,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5df4ad['forEach'](_0x2d7fb7=>{const _0x4c8841=_0x5a0c7b,_0x43a219=_0x2d7fb7[_0x4c8841(0x933)][_0x2d7fb7['attempts'][_0x4c8841(0x73e)]-0x1],_0x3f73a1=_0x43a219[_0x4c8841(0xc9e)][_0x4c8841(0x2ba)](_0x1a6c08=>_0x1a6c08[_0x4c8841(0x9fe)]===_0x208c43);if(_0x3f73a1&&_0x3f73a1[_0x4c8841(0x204)]!==null){const _0x1b3691=_0x1c25d3['options'][_0x4c8841(0xc87)](_0x2d912b=>_0x2d912b===_0x3f73a1[_0x4c8841(0x96d)]);_0x1b3691!==-0x1&&_0x5289[_0x1b3691]&&(_0x5289[_0x1b3691]['total']++,_0x5827d9[_0x4c8841(0xae9)](_0x2d7fb7)&&_0x5289[_0x1b3691][_0x4c8841(0x4fb)]++,_0x573485['includes'](_0x2d7fb7)&&_0x5289[_0x1b3691]['lower_group_count']++);}}),_0x3481b7[_0x31dcae]=_0x5289;}),_0x3481b7;}function calculateReliabilityKR20(_0x307831,_0x30cbee,_0x445bce){const _0x436244=_0x26020e,_0x4da522=_0x307831[_0x436244(0x1c9)]['length'];if(_0x4da522<0x2||_0x30cbee[_0x436244(0x73e)]<0x2)return null;const _0x2f1cfe=_0x30cbee[_0x436244(0xd0b)](_0x3000fd=>_0x3000fd[_0x436244(0x257)]),_0x1323ab=_0x2f1cfe[_0x436244(0xbe4)]((_0x15edb0,_0x1bd118)=>_0x15edb0+_0x1bd118,0x0)/_0x2f1cfe[_0x436244(0x73e)],_0x478773=_0x2f1cfe[_0x436244(0xd0b)](_0x17c33e=>Math[_0x436244(0x8e3)](_0x17c33e-_0x1323ab,0x2))['reduce']((_0x26a47d,_0x2eedab)=>_0x26a47d+_0x2eedab,0x0)/_0x2f1cfe[_0x436244(0x73e)];if(_0x478773===0x0)return null;let _0x43829f=0x0;for(let _0x32e430=0x0;_0x32e430<_0x4da522;_0x32e430++){const _0x4c18b4=_0x445bce[_0x32e430]?.['p'];if(_0x4c18b4===undefined)continue;const _0x18b264=0x1-_0x4c18b4;_0x43829f+=_0x4c18b4*_0x18b264;}if(_0x43829f===0x0)return null;const _0x27ec2e=_0x4da522/(_0x4da522-0x1)*(0x1-_0x43829f/_0x478773);if(_0x27ec2e>0x1)return null;return _0x27ec2e;}async function handleAnalyzeClass(){const _0x44be46=_0x26020e;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x5b136a=collection(db,_0x44be46(0xc3e)+appId+_0x44be46(0xa6e)+currentQuizData['id']+'/submissions'),_0x1b4d0b=await getDocs(_0x5b136a),_0x429c85=_0x1b4d0b[_0x44be46(0x8d6)][_0x44be46(0xd0b)](_0x4c1b88=>_0x4c1b88[_0x44be46(0xb97)]());if(_0x429c85['length']<0x2){showMessage(_0x44be46(0xc26));return;}const _0x333b19=document['getElementById'](_0x44be46(0xa17));_0x333b19['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById'](_0x44be46(0x82c))[_0x44be46(0x993)]=!![];const _0x18c5fe=_0x429c85['map']((_0x1ce99c,_0x3bd540)=>{const _0xeb265b=_0x44be46,_0x3606bc=_0x1ce99c['attempts'][_0x1ce99c[_0xeb265b(0x933)][_0xeb265b(0x73e)]-0x1];if(!_0x3606bc)return'';return _0xeb265b(0x59e)+(_0x3bd540+0x1)+'\x20('+_0x1ce99c['studentName']+_0xeb265b(0x604)+_0x3606bc['score']+'/'+_0x1ce99c[_0xeb265b(0x53c)]+_0xeb265b(0x2a8)+JSON['stringify'](_0x3606bc[_0xeb265b(0xc9e)])+_0xeb265b(0x6c5);})[_0x44be46(0xaa4)](_0x44be46(0x754)),_0xf47ae0=_0x44be46(0x4c2)+currentQuizData[_0x44be46(0x255)]+_0x44be46(0x435)+JSON['stringify'](currentQuizData['questions'])+_0x44be46(0xa4b)+_0x18c5fe+_0x44be46(0x42d),_0x5bc069={'type':_0x44be46(0x51e),'properties':{'classStrengths':{'type':_0x44be46(0x7ca),'items':{'type':_0x44be46(0x52a)}},'classWeaknesses':{'type':_0x44be46(0x7ca),'items':{'type':_0x44be46(0x52a)}},'teacherSuggestions':{'type':_0x44be46(0x7ca),'items':{'type':'STRING'}}},'required':[_0x44be46(0x9ba),_0x44be46(0xa49),_0x44be46(0x645)]};try{const _0xba4e27=await callAnalysisApi(_0xf47ae0,_0x5bc069);displayClassAnalysis(_0xba4e27);}catch(_0x3baf19){console['error'](_0x44be46(0xaea),_0x3baf19),_0x333b19['innerHTML']=_0x44be46(0x5a1)+_0x3baf19[_0x44be46(0x9d4)]+_0x44be46(0xa81);}finally{document[_0x44be46(0x44e)]('analyze-strengths-btn')[_0x44be46(0x993)]=![];}}function displayClassAnalysis(_0x311892){const _0x2f0a0b=_0x26020e,_0x2a47c0=document[_0x2f0a0b(0x44e)](_0x2f0a0b(0xa17));if(!_0x311892){_0x2a47c0[_0x2f0a0b(0x4c4)]=_0x2f0a0b(0x786);return;}_0x2a47c0[_0x2f0a0b(0x4c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x311892[_0x2f0a0b(0x9ba)][_0x2f0a0b(0xd0b)](_0x426596=>_0x2f0a0b(0x3a6)+_0x426596+'</li>')[_0x2f0a0b(0xaa4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x311892['classWeaknesses'][_0x2f0a0b(0xd0b)](_0x4c9441=>_0x2f0a0b(0x3a6)+_0x4c9441+_0x2f0a0b(0x3a1))[_0x2f0a0b(0xaa4)]('')+_0x2f0a0b(0x8ed)+_0x311892[_0x2f0a0b(0x645)][_0x2f0a0b(0xd0b)](_0xf2ec15=>_0x2f0a0b(0x3a6)+_0xf2ec15+'</li>')[_0x2f0a0b(0xaa4)]('')+_0x2f0a0b(0xa8b);}function formatAndPrintWorksheet(_0x1ef23b,_0x1ed97f){const _0x1dc274=_0x26020e,_0x52ac1f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x1ef23b[_0x1dc274(0x255)]+_0x1dc274(0x3fe)+_0x1ef23b[_0x1dc274(0x255)]+_0x1dc274(0x527)+_0x1ef23b[_0x1dc274(0x1c9)]['map']((_0x4c8c42,_0x5e987f)=>_0x1dc274(0xbaa)+(_0x5e987f+0x1)+'.\x20'+_0x4c8c42[_0x1dc274(0xbbe)]+_0x1dc274(0x4a2)+(_0x4c8c42[_0x1dc274(0xb2a)]?_0x1dc274(0x6dc)+_0x4c8c42[_0x1dc274(0xb2a)]+_0x1dc274(0xa82):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1dc274(0xaa4)]('')+_0x1dc274(0x81a);_0x1ed97f[_0x1dc274(0x2f4)][_0x1dc274(0x46b)](_0x52ac1f),_0x1ed97f['document'][_0x1dc274(0x455)](),_0x1ed97f[_0x1dc274(0x217)]=function(){setTimeout(()=>{const _0x5c9166=_0x48bc;_0x1ed97f[_0x5c9166(0x90c)]();},0x3e8);};}async function generateWorksheet(){const _0x3fd360=_0x26020e,_0x5b90a3=document['getElementById'](_0x3fd360(0x387))['value'][_0x3fd360(0x30d)]();if(!_0x5b90a3){showMessage(_0x3fd360(0x516));return;}const _0x1d11bd=document[_0x3fd360(0x44e)](_0x3fd360(0xa3d))[_0x3fd360(0x8ab)],_0x4d4a55=_0x1d11bd?'':'คณิตศาสตร์',_0xdb49c9=window[_0x3fd360(0x1c4)]('',_0x3fd360(0x936));_0xdb49c9[_0x3fd360(0x2f4)]['write'](_0x3fd360(0x875));const _0x552536=parseInt(document[_0x3fd360(0x44e)]('num-questions')[_0x3fd360(0x6ea)]),_0x29b9cd=document[_0x3fd360(0x44e)](_0x3fd360(0x9d2))['checked'],_0x242d0b=_0x29b9cd?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x5d28f1=_0x3fd360(0xc50)+_0x4d4a55+_0x3fd360(0x4aa)+_0x552536+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x5b90a3+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x242d0b+_0x3fd360(0xb21)+simpleMathPrompt+_0x3fd360(0x4b9),_0x2e6bea={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3fd360(0x7ca),'items':{'type':_0x3fd360(0x51e),'properties':{'questionText':{'type':_0x3fd360(0x52a)},'imageCode':{'type':_0x3fd360(0x52a)}},'required':[_0x3fd360(0xbbe)]}}},'required':['topic',_0x3fd360(0x1c9)]};document['getElementById'](_0x3fd360(0x734))[_0x3fd360(0xb23)]='',document[_0x3fd360(0x44e)](_0x3fd360(0x438))['classList']['remove'](_0x3fd360(0x47d)),document[_0x3fd360(0x44e)](_0x3fd360(0x439))[_0x3fd360(0xab0)]['remove'](_0x3fd360(0x47d)),generateWorksheetBtn[_0x3fd360(0x993)]=!![];try{const _0x4ae94a=await callAnalysisApi(_0x5d28f1,_0x2e6bea);formatAndPrintWorksheet(_0x4ae94a,_0xdb49c9);}catch(_0x1f6bef){console['error'](_0x3fd360(0xc9c),_0x1f6bef);if(_0xdb49c9)_0xdb49c9['close']();showMessage(_0x3fd360(0xa33));}finally{document[_0x3fd360(0x44e)](_0x3fd360(0x438))[_0x3fd360(0xab0)][_0x3fd360(0x75b)](_0x3fd360(0x47d)),document[_0x3fd360(0x44e)](_0x3fd360(0x439))[_0x3fd360(0xab0)][_0x3fd360(0x75b)]('hidden'),generateWorksheetBtn[_0x3fd360(0x993)]=![];}}async function callAnalysisApi(_0x375cae,_0x5d9dcc){const _0x1fb605=_0x26020e,_0x3d7981={'contents':[{'role':_0x1fb605(0xbd1),'parts':[{'text':_0x375cae}]}],'generationConfig':{'responseMimeType':_0x1fb605(0x6bf),'responseSchema':_0x5d9dcc}},_0x5456cf=_0x1fb605(0x6b2),_0x41626f=_0x1fb605(0x9e8)+_0x5456cf,_0x39e445=await fetch(_0x41626f,{'method':'POST','headers':{'Content-Type':_0x1fb605(0x6bf)},'body':JSON[_0x1fb605(0x98d)](_0x3d7981)});if(!_0x39e445['ok'])throw new Error(_0x1fb605(0xba8)+_0x39e445['status']);const _0x5b67fc=await _0x39e445[_0x1fb605(0xb0d)]();if(_0x5b67fc[_0x1fb605(0xa7a)]?.[0x0]?.[_0x1fb605(0x25a)]?.['parts']?.[0x0])return JSON[_0x1fb605(0x22b)](_0x5b67fc[_0x1fb605(0xa7a)][0x0][_0x1fb605(0x25a)][_0x1fb605(0x3fa)][0x0][_0x1fb605(0x2ac)]);else{let _0x10abd8=_0x1fb605(0x36b);if(_0x5b67fc[_0x1fb605(0x3ed)]?.[_0x1fb605(0xa72)])_0x10abd8=_0x1fb605(0x886)+_0x5b67fc[_0x1fb605(0x3ed)][_0x1fb605(0xa72)]+'.';else _0x5b67fc[_0x1fb605(0xa7a)]?.[0x0]?.[_0x1fb605(0x894)]&&_0x5b67fc[_0x1fb605(0xa7a)][0x0][_0x1fb605(0x894)]!==_0x1fb605(0x2e4)&&(_0x10abd8=_0x1fb605(0x6ae)+_0x5b67fc['candidates'][0x0][_0x1fb605(0x894)]+'.');console[_0x1fb605(0x2fe)](_0x10abd8,JSON[_0x1fb605(0x98d)](_0x5b67fc));throw new Error(_0x10abd8);}}async function handleStartSyncMode(_0x3d8518,_0x4da9d2=![]){const _0x4c228b=_0x26020e,_0xc20ba0=allQuizzes[_0x4c228b(0x2ba)](_0x264703=>_0x264703['id']===_0x3d8518)||allQuizzesGlobal[_0x4c228b(0x2ba)](_0x36fe87=>_0x36fe87['id']===_0x3d8518);if(!_0xc20ba0){showMessage(_0x4c228b(0xbf0));return;}currentQuizData=getShuffledQuiz(_0xc20ba0);const _0x224922=Math[_0x4c228b(0x513)](0x3e8+Math[_0x4c228b(0x522)]()*0x2328)[_0x4c228b(0x1e5)]();try{const _0x5365d3=await addDoc(collection(db,'artifacts/'+appId+_0x4c228b(0x437)),{'quizId':_0xc20ba0['id'],'pin':_0x224922,'status':_0x4c228b(0x34d),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4da9d2,'players':{}});currentLiveGameId=_0x5365d3['id'],showView('live-game'),renderSyncLobbyView(_0x224922,_0xc20ba0[_0x4c228b(0x255)]),listenForSyncGameUpdates();}catch(_0x496076){console[_0x4c228b(0x2fe)]('Error\x20starting\x20sync\x20game:',_0x496076),showMessage(_0x4c228b(0xc70));}}function calculateFinalPodiumScores(_0x4ec3a6){const _0x4d5eab=_0x26020e;if(!_0x4ec3a6||!_0x4ec3a6[_0x4d5eab(0x91d)]||!_0x4ec3a6[_0x4d5eab(0xb73)])return _0x4ec3a6[_0x4d5eab(0xb73)]||{};const _0x36df21=_0x4ec3a6['shuffledQuiz'][_0x4d5eab(0x1c9)][_0x4d5eab(0x73e)],_0x407949=JSON[_0x4d5eab(0x22b)](JSON['stringify'](_0x4ec3a6[_0x4d5eab(0xb73)]));return Object[_0x4d5eab(0x20d)](_0x407949)[_0x4d5eab(0x488)](_0x51578f=>{const _0x3f44ba=_0x4d5eab,_0x3266c4=_0x51578f[_0x3f44ba(0x635)];let _0x1f850f=_0x3266c4,_0x1e8735=0x0;_0x4ec3a6['isConfidenceScoringEnabled']&&_0x51578f[_0x3f44ba(0xc9e)]&&_0x51578f[_0x3f44ba(0xc9e)]['forEach'](_0x2f3c79=>{const _0x1771a6=_0x3f44ba;if(_0x2f3c79[_0x1771a6(0xaf2)]&&(_0x2f3c79['wasConfident']===!![]||_0x2f3c79['wasConfident']==='confident'))_0x1e8735+=0x1;else!_0x2f3c79[_0x1771a6(0xaf2)]&&(_0x2f3c79[_0x1771a6(0xb51)]===!![]||_0x2f3c79[_0x1771a6(0xb51)]==='confident')&&(_0x1e8735-=0x1);}),_0x1f850f+=_0x1e8735,_0x36df21>0x0&&_0x3266c4===_0x36df21&&(_0x1f850f+=0x1,_0x51578f['hasPerfectScoreBonus']=!![]),_0x51578f['score']=_0x1f850f;}),_0x407949;}function listenForSyncGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3bc5fb=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3bc5fb,_0x5c770c=>{const _0x4bcc14=_0x48bc;if(!_0x5c770c[_0x4bcc14(0xd0a)]()){sessionStorage[_0x4bcc14(0x30a)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4bcc14(0x713)?showView(_0x4bcc14(0xb15)):showView(_0x4bcc14(0x62d));return;}const _0x46aca5=_0x5c770c[_0x4bcc14(0xb97)]();currentMode===_0x4bcc14(0x713)?updateAdminSyncView(_0x46aca5):updateStudentSyncView(_0x46aca5);});}function renderSyncLobbyView(_0x470a95,_0x124b31){const _0xfd0c6e=_0x26020e;liveGameView[_0xfd0c6e(0x4c4)]=_0xfd0c6e(0x716)+_0x124b31+_0xfd0c6e(0x57d)+_0x470a95+_0xfd0c6e(0x944);const _0x538cd2=document['getElementById'](_0xfd0c6e(0xa1c)),_0x3a6d0e=document[_0xfd0c6e(0x44e)](_0xfd0c6e(0x53b));_0x538cd2[_0xfd0c6e(0xb41)](_0xfd0c6e(0x5ad),()=>{const _0x12cc94=_0xfd0c6e;_0x3a6d0e['style'][_0x12cc94(0x890)]=_0x538cd2[_0x12cc94(0x8ab)]?_0x12cc94(0xa9a):_0x12cc94(0x334);}),document[_0xfd0c6e(0x44e)](_0xfd0c6e(0xb12))[_0xfd0c6e(0xb41)](_0xfd0c6e(0x560),async()=>{const _0x37f5e3=_0xfd0c6e,_0x1dd2ac=doc(db,_0x37f5e3(0xc3e)+appId+'/public/data/syncGames',currentLiveGameId),_0x26eaae=document[_0x37f5e3(0x44e)](_0x37f5e3(0xa1c))[_0x37f5e3(0x8ab)];await updateDoc(_0x1dd2ac,{'status':_0x37f5e3(0xbe6),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x26eaae});});}function updateAdminSyncView(_0x2fb0a7){const _0x160d46=_0x26020e;switch(_0x2fb0a7['status']){case _0x160d46(0x34d):renderSyncLobbyView(_0x2fb0a7[_0x160d46(0x3df)],_0x2fb0a7[_0x160d46(0x91d)][_0x160d46(0x255)]);const _0x5428fa=Object[_0x160d46(0xa5d)](_0x2fb0a7[_0x160d46(0xb73)]||{})['filter'](([_0x3d160d,_0x5bff8c])=>_0x5bff8c[_0x160d46(0x8b8)]!=='inactive');document[_0x160d46(0x44e)]('player-count')['textContent']=_0x5428fa[_0x160d46(0x73e)],document[_0x160d46(0x44e)](_0x160d46(0xc9f))[_0x160d46(0x4c4)]=_0x5428fa[_0x160d46(0xd0b)](([_0x2ae3fc,_0x36de81])=>_0x160d46(0xc54)+_0x2ae3fc+_0x160d46(0x75d)+_0x2ae3fc+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x160d46(0xaa4)]('')||_0x160d46(0x39c),document[_0x160d46(0x44e)]('start-sync-game-btn')[_0x160d46(0x993)]=_0x5428fa['length']===0x0;break;case _0x160d46(0xbe6):const _0x2467cb=Object[_0x160d46(0x20d)](_0x2fb0a7['players']||{})[_0x160d46(0x1f5)](_0x88c52b=>_0x88c52b[_0x160d46(0x8b8)]!=='inactive'),_0x268470=_0x2467cb[_0x160d46(0x1f5)](_0x1aecf7=>_0x1aecf7[_0x160d46(0x959)])[_0x160d46(0x73e)],_0x238ba9=_0x268470===_0x2467cb['length']&&_0x2467cb[_0x160d46(0x73e)]>0x0;if(_0x238ba9&&_0x2fb0a7[_0x160d46(0x8b8)]===_0x160d46(0xbe6)){const _0x60060c=doc(db,'artifacts/'+appId+_0x160d46(0x437),currentLiveGameId);updateDoc(_0x60060c,{'status':_0x160d46(0x2de)});}else{if(document[_0x160d46(0x44e)](_0x160d46(0x906))===null)renderAdminSyncQuestionView(_0x2fb0a7);else{const _0x1da803=document[_0x160d46(0x44e)](_0x160d46(0xc11));_0x1da803&&(_0x1da803[_0x160d46(0xb23)]=_0x268470+'/'+_0x2467cb[_0x160d46(0x73e)]);const _0x4a3d19=document['getElementById']('sync-player-list');_0x4a3d19&&(_0x4a3d19[_0x160d46(0x4c4)]=_0x2467cb[_0x160d46(0xd0b)](_0x5d817c=>{const _0x2da85a=_0x160d46,_0x16df1f=_0x5d817c[_0x2da85a(0x959)]?_0x2da85a(0x955):_0x2da85a(0xcda),_0x3e74b3=_0x5d817c[_0x2da85a(0x959)]?_0x2da85a(0x554):_0x2da85a(0x4b0);return _0x2da85a(0x5dc)+_0x16df1f+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e74b3+_0x2da85a(0x9ec)+_0x5d817c[_0x2da85a(0x7c3)]+_0x2da85a(0x9d8)+_0x5d817c['name']+_0x2da85a(0x4f0);})['join'](''));}}break;case _0x160d46(0x2de):const _0x5b8265=_0x2fb0a7['currentQuestionIndex'],_0x418f56=_0x2fb0a7[_0x160d46(0x91d)][_0x160d46(0x1c9)][_0x5b8265];renderSyncSummaryView(_0x2fb0a7,_0x418f56,!![]);break;case _0x160d46(0x497):renderAdminSyncDashboard(_0x2fb0a7,!![]);break;case'podium':_0x2fb0a7['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x2fb0a7);sessionStorage[_0x160d46(0x30a)](_0x160d46(0x3ff));const _0x4c4a88=calculateFinalPodiumScores(_0x2fb0a7);showPodiumView(_0x4c4a88,_0x160d46(0x3aa));break;}}function renderAdminSyncQuestionView(_0x87b4f4){const _0x451789=_0x26020e,_0x154ac8=_0x87b4f4[_0x451789(0x354)],_0x11d2a3=_0x87b4f4[_0x451789(0x91d)][_0x451789(0x1c9)][_0x154ac8],_0x1b17a3=_0x87b4f4['shuffledQuiz'][_0x451789(0x1c9)][_0x451789(0x73e)],_0x231cb8=Object[_0x451789(0x20d)](_0x87b4f4[_0x451789(0xb73)]||{})[_0x451789(0x1f5)](_0x2506b2=>_0x2506b2[_0x451789(0x8b8)]!==_0x451789(0x4c5)),_0x340c3c=_0x231cb8[_0x451789(0x1f5)](_0x17802f=>_0x17802f[_0x451789(0x959)])[_0x451789(0x73e)],_0x2605c0=_0x340c3c===_0x231cb8[_0x451789(0x73e)]&&_0x231cb8['length']>0x0,_0x3cd117=(_0x11d2a3[_0x451789(0x3e3)]||[])[_0x451789(0xd0b)](_0x556d89=>_0x451789(0x6a6)+_0x556d89+_0x451789(0xa82))[_0x451789(0xaa4)]('');liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x154ac8+0x1)+'\x20/\x20'+_0x1b17a3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x340c3c+'/'+_0x231cb8[_0x451789(0x73e)]+_0x451789(0x2d5)+_0x11d2a3[_0x451789(0xbbe)]+_0x451789(0x7e4)+_0x3cd117+_0x451789(0xc60)+(!_0x2605c0?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x451789(0x597)])MathJax[_0x451789(0xc74)]();document[_0x451789(0x44e)](_0x451789(0x2f6))[_0x451789(0xb41)]('click',async()=>{const _0x1ce7da=_0x451789,_0x5b34c4=doc(db,'artifacts/'+appId+_0x1ce7da(0x437),currentLiveGameId);await updateDoc(_0x5b34c4,{'status':'results'});}),document[_0x451789(0x44e)](_0x451789(0x1b9))[_0x451789(0x847)]=()=>{const _0x12df41=_0x451789;openScratchpad(_0x11d2a3,_0x11d2a3[_0x12df41(0x3e3)]||[]);},document['getElementById'](_0x451789(0x403))['addEventListener'](_0x451789(0x560),()=>{const _0x10ba10=_0x451789;document[_0x10ba10(0x44e)](_0x10ba10(0x906))[_0x10ba10(0xab0)][_0x10ba10(0x8ce)](_0x10ba10(0x47d));});}function renderSyncLeaderboardView(_0xec3abe,_0x553ef4){const _0x42b576=_0x26020e,_0xff913c=Object[_0x42b576(0x20d)](_0xec3abe[_0x42b576(0xb73)]||{});_0xff913c['sort']((_0x16ce12,_0x543421)=>_0x543421[_0x42b576(0x635)]-_0x16ce12[_0x42b576(0x635)]);const _0x36e141=_0xff913c[_0x42b576(0x8ac)](0x0,0x5);let _0x9e6ec4='';if(_0x553ef4){const _0x49ab04=_0xec3abe[_0x42b576(0x354)]>=_0xec3abe[_0x42b576(0x91d)][_0x42b576(0x1c9)][_0x42b576(0x73e)]-0x1;_0x9e6ec4=_0x42b576(0xcc6)+(_0x49ab04?_0x42b576(0x903):'ข้อต่อไป')+_0x42b576(0xb26);}else _0x9e6ec4=_0x42b576(0xb9b);liveGameView[_0x42b576(0x4c4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x36e141[_0x42b576(0xd0b)]((_0x7f5b1f,_0x9081a)=>_0x42b576(0x842)+(_0x9081a+0x1)+'.\x20'+_0x7f5b1f[_0x42b576(0x7c3)]+'</span><span\x20class=\x22font-bold\x22>'+_0x7f5b1f[_0x42b576(0x635)]+_0x42b576(0xd07))[_0x42b576(0xaa4)]('')+_0x42b576(0x2bd)+_0x9e6ec4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x553ef4&&document[_0x42b576(0x44e)]('next-sync-question-btn')['addEventListener'](_0x42b576(0x560),async()=>{const _0xe344f3=_0x42b576,_0x2abd59=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x30ca67=_0xec3abe[_0xe344f3(0x354)]+0x1;if(_0x30ca67<_0xec3abe['shuffledQuiz'][_0xe344f3(0x1c9)][_0xe344f3(0x73e)]){const _0x22703d={};Object[_0xe344f3(0x4bc)](_0xec3abe[_0xe344f3(0xb73)])[_0xe344f3(0x488)](_0x727642=>{const _0x2f97d8=_0xe344f3;_0x22703d['players.'+_0x727642+_0x2f97d8(0x83c)]=![];}),await updateDoc(_0x2abd59,{..._0x22703d,'status':_0xe344f3(0xbe6),'currentQuestionIndex':_0x30ca67,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2abd59,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x477a54=_0x26020e,_0x4b0ead=prompt(_0x477a54(0x39d));if(!_0x4b0ead||_0x4b0ead[_0x477a54(0x30d)]()[_0x477a54(0x73e)]!==0x2){showMessage(_0x477a54(0xac6));return;}try{const _0x396064=collection(db,_0x477a54(0xc3e)+appId+'/public/data/syncGames'),_0x5e5e03=query(_0x396064,where(_0x477a54(0x3df),'==',_0x4b0ead[_0x477a54(0x30d)]()),where('status','==',_0x477a54(0x34d))),_0x56333d=await getDocs(_0x5e5e03);if(_0x56333d[_0x477a54(0x266)]){showMessage(_0x477a54(0x191));return;}const _0x3207ee=_0x56333d[_0x477a54(0x8d6)][0x0];currentLiveGameId=_0x3207ee['id'];const _0x2b8439=_0x3207ee[_0x477a54(0xb97)](),_0x37c965=doc(db,_0x477a54(0xc3e)+appId+_0x477a54(0xa7d),_0x2b8439['quizId']),_0x3196dd=await getDoc(_0x37c965);if(!_0x3196dd['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x1e16b7=_0x3196dd[_0x477a54(0xb97)](),_0x5720fc=doc(db,_0x477a54(0xc3e)+appId+_0x477a54(0x828),_0x1e16b7[_0x477a54(0xc0b)]),_0x14af0f=await getDoc(_0x5720fc);if(!_0x14af0f[_0x477a54(0xd0a)]())throw new Error(_0x477a54(0x54e));currentQuizData=_0x2b8439[_0x477a54(0x91d)];const _0x344f34=_0x14af0f['data']();showView(_0x477a54(0x453)),showTeamPlayerSelection(_0x344f34[_0x477a54(0x926)],_0x1e16b7[_0x477a54(0x255)]);const _0x3cd7e7=document[_0x477a54(0x44e)](_0x477a54(0xc00));_0x3cd7e7[_0x477a54(0x847)]=confirmAndJoinSyncGame;}catch(_0x321e3f){console[_0x477a54(0x2fe)](_0x477a54(0x8f3),_0x321e3f),showMessage(_0x477a54(0x93f)+_0x321e3f[_0x477a54(0x9d4)]);}}function updateStudentSyncView(_0x1d7e59){const _0x4620f8=_0x26020e,_0x456a55=_0x1d7e59[_0x4620f8(0xb73)][localTeamPlayers[0x0]];switch(_0x1d7e59[_0x4620f8(0x8b8)]){case'lobby':showView(_0x4620f8(0x470)),liveGameView['innerHTML']=_0x4620f8(0x1db);break;case'question':const _0x5b9bf6=localTeamPlayers[_0x4620f8(0xa08)](_0x4d45cc=>_0x1d7e59[_0x4620f8(0xb73)][_0x4d45cc]?.[_0x4620f8(0x959)]===!![]);_0x5b9bf6?liveGameView['innerHTML']=_0x4620f8(0xb2e):renderStudentSyncQuestionView(_0x1d7e59);break;case _0x4620f8(0x2de):liveGameView[_0x4620f8(0x4c4)]=_0x4620f8(0x4da);break;case'results':localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x1d7e59);break;case'podium':sessionStorage[_0x4620f8(0x30a)]('activeGameSession');const _0x59da40=calculateFinalPodiumScores(_0x1d7e59);showPodiumView(_0x59da40,_0x4620f8(0x3aa));break;}}function renderStudentSyncResultsView(_0x1a9cc4){const _0x4ed5bf=_0x26020e,_0x380d8b=localTeamPlayers[_0x4ed5bf(0xd0b)](_0x1fd757=>_0x1a9cc4[_0x4ed5bf(0xb73)][_0x1fd757])[_0x4ed5bf(0x1f5)](Boolean);_0x380d8b['sort']((_0x59650c,_0x65c1ba)=>(_0x65c1ba[_0x4ed5bf(0x635)]||0x0)-(_0x59650c[_0x4ed5bf(0x635)]||0x0));const _0x56ffc7=_0x1a9cc4['currentQuestionIndex']>=_0x1a9cc4[_0x4ed5bf(0x91d)]['questions'][_0x4ed5bf(0x73e)]-0x1;let _0x3ca03e='';_0x56ffc7?_0x3ca03e=_0x4ed5bf(0x6af):_0x3ca03e=_0x4ed5bf(0x498);const _0x9d5c61=_0x4ed5bf(0xbdf)+_0x380d8b[_0x4ed5bf(0xd0b)]((_0x1fc069,_0x135b9e)=>_0x4ed5bf(0x235)+(_0x135b9e+0x1)+_0x4ed5bf(0x49b)+_0x1fc069['name']+_0x4ed5bf(0x69c)+_0x1fc069[_0x4ed5bf(0x635)]+_0x4ed5bf(0x3e9))[_0x4ed5bf(0xaa4)]('')+_0x4ed5bf(0x226)+_0x3ca03e+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4ed5bf(0x4c4)]=_0x9d5c61;}function renderStudentSyncQuestionView(_0x284dc3){const _0x4603b6=_0x26020e;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x284dc3[_0x4603b6(0xb73)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x4603b6(0x959)]===!![]){localPlayerTurnIndex++;}const _0x435cbe=localTeamPlayers[localPlayerTurnIndex];if(!_0x435cbe)return;const _0x5b49d8=_0x284dc3[_0x4603b6(0x354)],_0x41e84d=_0x284dc3[_0x4603b6(0x91d)][_0x4603b6(0x1c9)]['length'],_0x2802e7=_0x284dc3[_0x4603b6(0x91d)][_0x4603b6(0x1c9)][_0x5b49d8],_0x41c6ff=_0x2802e7[_0x4603b6(0x425)]||_0x284dc3['shuffledQuiz'][_0x4603b6(0x31d)];let _0x5567ea='',_0x314dde=![];switch(_0x41c6ff){case _0x4603b6(0x7e8):_0x5567ea=_0x4603b6(0x269);break;case _0x4603b6(0x500):case _0x4603b6(0x248):_0x314dde=!![],_0x5567ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4603b6(0x5b6):_0x314dde=!![],_0x5567ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2802e7[_0x4603b6(0x93c)]||[])[_0x4603b6(0xd0b)](_0xdb8576=>'<option\x20value=\x22'+_0xdb8576+'\x22>'+_0xdb8576+_0x4603b6(0xcba))[_0x4603b6(0xaa4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4603b6(0xbad):default:_0x5567ea=(_0x2802e7[_0x4603b6(0x3e3)]||[])['map']((_0x254bc0,_0x14cc70)=>_0x4603b6(0xb9d)+_0x14cc70+_0x4603b6(0xcb6)+_0x254bc0+_0x4603b6(0x7fb))['join']('');break;}liveGameView[_0x4603b6(0x4c4)]=_0x4603b6(0x883)+(_0x5b49d8+0x1)+_0x4603b6(0x690)+_0x41e84d+_0x4603b6(0xcc4)+_0x435cbe+_0x4603b6(0x615)+(_0x2802e7[_0x4603b6(0xbbe)]||_0x2802e7[_0x4603b6(0xb16)])+_0x4603b6(0xbf3)+_0x5567ea+_0x4603b6(0x271);if(window[_0x4603b6(0x597)])MathJax[_0x4603b6(0xc74)]();function _0x5c78fa(_0x2f41dc,_0x2035c7,_0x5ec107,_0x84b5af){const _0x501bd4=_0x4603b6,_0x59d44a=_0x5ec107[_0x501bd4(0x5e4)]===!![];if(_0x59d44a){document[_0x501bd4(0x44e)](_0x501bd4(0x9f8))['dataset'][_0x501bd4(0xb6f)]=_0x501bd4(0x3aa);const _0x208ce7=document[_0x501bd4(0x44e)](_0x501bd4(0x732));_0x208ce7[_0x501bd4(0xd00)][_0x501bd4(0x9ae)]=_0x2f41dc,_0x208ce7['dataset']['question']=JSON[_0x501bd4(0x98d)](_0x2035c7),_0x208ce7[_0x501bd4(0xd00)][_0x501bd4(0x2f0)]=JSON['stringify'](_0x5ec107),_0x208ce7[_0x501bd4(0xd00)][_0x501bd4(0x446)]=_0x84b5af,document[_0x501bd4(0x44e)](_0x501bd4(0x9f8))[_0x501bd4(0xab0)][_0x501bd4(0x48e)](_0x501bd4(0x47d));}else handleSyncAnswerSubmit(_0x2f41dc,_0x2035c7,_0x5ec107,_0x84b5af,![]);}_0x314dde?document[_0x4603b6(0x44e)](_0x4603b6(0x729))[_0x4603b6(0xb41)](_0x4603b6(0x560),()=>{const _0x460622=_0x4603b6,_0x5d29ee=document[_0x460622(0x44e)](_0x460622(0x46a))||document[_0x460622(0x44e)](_0x460622(0x48a));if(_0x5d29ee['value']['trim']()===''){showMessage(_0x460622(0x9a6));return;}_0x5c78fa(_0x5d29ee['value'],_0x2802e7,_0x284dc3,_0x435cbe);}):document['querySelectorAll'](_0x4603b6(0x223))[_0x4603b6(0x488)](_0x328d96=>{const _0x3883e5=_0x4603b6;_0x328d96[_0x3883e5(0xb41)](_0x3883e5(0x560),()=>{const _0x2ae81e=_0x3883e5;_0x5c78fa(_0x328d96[_0x2ae81e(0xd00)]['value'],_0x2802e7,_0x284dc3,_0x435cbe);});});}async function handleSyncAnswerSubmit(_0xcc1fd2,_0x8b0d14,_0x5ef9d2,_0xa20215,_0x49806){const _0x1b9c49=_0x26020e;document[_0x1b9c49(0xb04)]('.live-answer-btn,\x20#sync-submit-btn')['forEach'](_0x4da90b=>_0x4da90b[_0x1b9c49(0x993)]=!![]);const _0x480d20=_0x8b0d14[_0x1b9c49(0x425)]||_0x5ef9d2[_0x1b9c49(0x91d)][_0x1b9c49(0x31d)];let _0x375781=![],_0x4b1dba=_0xcc1fd2;switch(_0x480d20){case _0x1b9c49(0x7e8):const _0x51e5e1=parseInt(_0xcc1fd2),_0x533f54=_0x8b0d14['correctAnswer']===!![]||String(_0x8b0d14[_0x1b9c49(0x7ba)])[_0x1b9c49(0x552)]()===_0x1b9c49(0x668);_0x375781=_0x51e5e1===0x0&&_0x533f54||_0x51e5e1===0x1&&!_0x533f54,_0x4b1dba=_0x51e5e1===0x0?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด';break;case _0x1b9c49(0x500):case'fill_in_no_choices':_0x375781=await gradeShortAnswer(_0xcc1fd2,_0x8b0d14);break;case _0x1b9c49(0x5b6):_0x375781=_0xcc1fd2===_0x8b0d14[_0x1b9c49(0xb53)];break;case _0x1b9c49(0xbad):default:const _0x5400b8=parseInt(_0xcc1fd2);_0x375781=_0x5400b8===_0x8b0d14[_0x1b9c49(0xa5b)];_0x8b0d14[_0x1b9c49(0x3e3)]&&_0x8b0d14[_0x1b9c49(0x3e3)][_0x5400b8]&&(_0x4b1dba=_0x8b0d14[_0x1b9c49(0x3e3)][_0x5400b8]);break;}const _0x2faee9=_0x375781?0x1:0x0,_0xaaab52=doc(db,_0x1b9c49(0xc3e)+appId+_0x1b9c49(0x437),currentLiveGameId),_0xa8c14c={};_0xa8c14c[_0x1b9c49(0x7a2)+_0xa20215+_0x1b9c49(0x85b)]=increment(_0x2faee9),_0xa8c14c[_0x1b9c49(0x7a2)+_0xa20215+_0x1b9c49(0x83c)]=!![];let _0x137eec=null;(_0x480d20===_0x1b9c49(0xbad)||_0x480d20===_0x1b9c49(0x7e8)||_0x480d20===_0x1b9c49(0xb06))&&(_0x137eec=parseInt(_0xcc1fd2));_0xa8c14c[_0x1b9c49(0x7a2)+_0xa20215+_0x1b9c49(0xc03)]=_0x137eec;const _0x4ffdac={'questionIndex':_0x5ef9d2[_0x1b9c49(0x354)],'questionId':_0x8b0d14['id'],'answer':_0xcc1fd2,'answerText':_0x4b1dba,'isCorrect':_0x375781,'originalQuestionText':_0x8b0d14['questionText']||_0x8b0d14[_0x1b9c49(0xb16)],'wasConfident':_0x49806};_0xa8c14c['players.'+_0xa20215+_0x1b9c49(0x80d)]=arrayUnion(_0x4ffdac),await updateDoc(_0xaaab52,_0xa8c14c);}initialize();
