const _0x31a0a6=_0x2770;(function(_0x4acd49,_0x2e12f1){const _0x4684c9=_0x2770,_0x322f53=_0x4acd49();while(!![]){try{const _0x111eec=parseInt(_0x4684c9(0x768))/0x1*(parseInt(_0x4684c9(0xaf))/0x2)+-parseInt(_0x4684c9(0x521))/0x3+-parseInt(_0x4684c9(0x305))/0x4*(parseInt(_0x4684c9(0x35d))/0x5)+parseInt(_0x4684c9(0x7e2))/0x6*(-parseInt(_0x4684c9(0x1b1))/0x7)+parseInt(_0x4684c9(0xc4))/0x8+-parseInt(_0x4684c9(0x359))/0x9+-parseInt(_0x4684c9(0x741))/0xa*(-parseInt(_0x4684c9(0x3fd))/0xb);if(_0x111eec===_0x2e12f1)break;else _0x322f53['push'](_0x322f53['shift']());}catch(_0xfbb849){_0x322f53['push'](_0x322f53['shift']());}}}(_0x4a9d,0x3ac82));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x46b)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x538)},{'category':'จำนวนและการดำเนินการ','name':_0x31a0a6(0x2cc)},{'category':'จำนวนและการดำเนินการ','name':_0x31a0a6(0x59a)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x1e2)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x3cd)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x54b)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x4b7)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x40c)},{'category':_0x31a0a6(0x51a),'name':'จำนวนเต็มลบ'},{'category':_0x31a0a6(0x51a),'name':'ศูนย์'},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0xd4)},{'category':'จำนวนและการดำเนินการ','name':'เส้นจำนวน'},{'category':_0x31a0a6(0x51a),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x31a0a6(0x51a),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x31a0a6(0x51a),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x2e4)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x675)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0xfd)},{'category':_0x31a0a6(0x51a),'name':'การลบเศษส่วน'},{'category':_0x31a0a6(0x51a),'name':'การคูณเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x31a0a6(0x348)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x7d3)},{'category':_0x31a0a6(0x51a),'name':'การลบทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x31a0a6(0x1d9)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x481)},{'category':'จำนวนและการดำเนินการ','name':_0x31a0a6(0x404)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0xd7)},{'category':_0x31a0a6(0x51a),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x80b)},{'category':_0x31a0a6(0x51a),'name':_0x31a0a6(0x1ac)},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':'จำนวนและการดำเนินการ','name':_0x31a0a6(0xb5)},{'category':'จำนวนและการดำเนินการ','name':_0x31a0a6(0x185)},{'category':_0x31a0a6(0x17f),'name':_0x31a0a6(0x2d1)},{'category':_0x31a0a6(0x17f),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x31a0a6(0x17f),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x31a0a6(0x17f),'name':_0x31a0a6(0x152)},{'category':_0x31a0a6(0x17f),'name':_0x31a0a6(0x2fc)},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':_0x31a0a6(0x17f),'name':_0x31a0a6(0x79f)},{'category':'การวัด','name':_0x31a0a6(0x492)},{'category':'การวัด','name':_0x31a0a6(0x2d0)},{'category':'การวัด','name':_0x31a0a6(0x674)},{'category':_0x31a0a6(0x17f),'name':_0x31a0a6(0x1c8)},{'category':_0x31a0a6(0x17f),'name':_0x31a0a6(0x168)},{'category':_0x31a0a6(0x17f),'name':'สเกลและแผนที่'},{'category':_0x31a0a6(0x17f),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0xa4)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x1db)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x20d)},{'category':_0x31a0a6(0x5d3),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x45c)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x651)},{'category':_0x31a0a6(0x5d3),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x1a1)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x71f)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x235)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x402)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x46f)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x205)},{'category':_0x31a0a6(0x5d3),'name':_0x31a0a6(0x7cc)},{'category':_0x31a0a6(0x5d3),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31a0a6(0xa0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31a0a6(0xcc)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x27e)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x618)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31a0a6(0x4bc)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x3cb)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x57e)},{'category':_0x31a0a6(0x4f6),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x427)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x462)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31a0a6(0x503)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x6d9)},{'category':_0x31a0a6(0x4f6),'name':'สมการลอการิทึม'},{'category':_0x31a0a6(0x4f6),'name':'อสมการเชิงเส้น'},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x1d4)},{'category':'พีชคณิตและฟังก์ชัน','name':'ระบบอสมการ'},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x736)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x690)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x17a)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x461)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x7bf)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x729)},{'category':_0x31a0a6(0x4f6),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x7b1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31a0a6(0x178)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31a0a6(0x4b0)},{'category':_0x31a0a6(0x4f6),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x443)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x64d)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x297)},{'category':_0x31a0a6(0x4f6),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x36f)},{'category':_0x31a0a6(0x4f6),'name':_0x31a0a6(0x475)},{'category':_0x31a0a6(0x4f6),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x31a0a6(0x347)},{'category':_0x31a0a6(0x236),'name':_0x31a0a6(0x4ff)},{'category':_0x31a0a6(0x236),'name':_0x31a0a6(0xbe)},{'category':_0x31a0a6(0x236),'name':_0x31a0a6(0x5e0)},{'category':_0x31a0a6(0x236),'name':_0x31a0a6(0x157)},{'category':_0x31a0a6(0x236),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x31a0a6(0x63f)},{'category':_0x31a0a6(0x236),'name':_0x31a0a6(0x147)},{'category':_0x31a0a6(0x236),'name':_0x31a0a6(0x485)},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':_0x31a0a6(0xf8),'name':_0x31a0a6(0x45f)},{'category':_0x31a0a6(0xf8),'name':_0x31a0a6(0x17e)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x31a0a6(0xf8),'name':_0x31a0a6(0x4cb)},{'category':_0x31a0a6(0xf8),'name':_0x31a0a6(0x5c0)},{'category':'ตรีโกณมิติ','name':_0x31a0a6(0x3d0)},{'category':_0x31a0a6(0xf8),'name':_0x31a0a6(0x285)},{'category':'ตรีโกณมิติ','name':_0x31a0a6(0x549)},{'category':_0x31a0a6(0xf8),'name':_0x31a0a6(0x6d1)},{'category':_0x31a0a6(0xf8),'name':_0x31a0a6(0x34d)},{'category':_0x31a0a6(0xf8),'name':_0x31a0a6(0x44f)},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x52a)},{'category':_0x31a0a6(0x2e3),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x2f0)},{'category':_0x31a0a6(0x2e3),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':_0x31a0a6(0x7e4)},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x44a)},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x65b)},{'category':'สถิติและความน่าจะเป็น','name':_0x31a0a6(0x57f)},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x54a)},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x298)},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x6db)},{'category':_0x31a0a6(0x2e3),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x31a0a6(0x2e3),'name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':_0x31a0a6(0x5c6)},{'category':_0x31a0a6(0x2e3),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x365)},{'category':'สถิติและความน่าจะเป็น','name':_0x31a0a6(0x2ed)},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0xd0)},{'category':_0x31a0a6(0x2e3),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x531)},{'category':_0x31a0a6(0x2e3),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x3b0)},{'category':_0x31a0a6(0x2e3),'name':_0x31a0a6(0x726)},{'category':_0x31a0a6(0x75d),'name':_0x31a0a6(0x6dc)},{'category':_0x31a0a6(0x75d),'name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':_0x31a0a6(0x5fb)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x31a0a6(0x75d),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x31a0a6(0x75d),'name':'ความชันเส้นสัมผัส'},{'category':_0x31a0a6(0x75d),'name':_0x31a0a6(0x79c)},{'category':_0x31a0a6(0x75d),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x31a0a6(0x6a0)},{'category':_0x31a0a6(0x75d),'name':_0x31a0a6(0x790)},{'category':_0x31a0a6(0x75d),'name':_0x31a0a6(0x573)},{'category':_0x31a0a6(0x75d),'name':_0x31a0a6(0x518)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x31a0a6(0x3c5)},{'category':_0x31a0a6(0x3d4),'name':_0x31a0a6(0x7f9)},{'category':_0x31a0a6(0x3d4),'name':_0x31a0a6(0x5a2)},{'category':_0x31a0a6(0x3d4),'name':_0x31a0a6(0x6af)},{'category':_0x31a0a6(0x3d4),'name':_0x31a0a6(0x9f)},{'category':_0x31a0a6(0x3d4),'name':_0x31a0a6(0x731)},{'category':_0x31a0a6(0x3d4),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x31a0a6(0x537),'name':_0x31a0a6(0x68a)},{'category':_0x31a0a6(0x537),'name':_0x31a0a6(0x3b8)},{'category':_0x31a0a6(0x537),'name':_0x31a0a6(0x787)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x31a0a6(0x514)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x31a0a6(0x4e8)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x31a0a6(0x69d)},{'category':_0x31a0a6(0x594),'name':_0x31a0a6(0xb7)},{'category':_0x31a0a6(0x594),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x1c4e7f=_0x31a0a6,_0x2f9591=document[_0x1c4e7f(0x75f)](_0x1c4e7f(0x40e));if(!_0x2f9591)return;const _0x1dc276=allMathTopics,_0x4c4b36=customMathTopics['map'](_0x212eab=>({'id':_0x212eab['id'],'category':'หัวข้อที่สร้างเอง','name':_0x212eab[_0x1c4e7f(0x248)]})),_0x932e94=[..._0x1dc276,..._0x4c4b36],_0x215adf=_0x932e94[_0x1c4e7f(0x4eb)]((_0x4aa5c4,_0x12196e)=>{const _0x2514d1=_0x1c4e7f;return!_0x4aa5c4[_0x12196e[_0x2514d1(0x498)]]&&(_0x4aa5c4[_0x12196e[_0x2514d1(0x498)]]=[]),_0x4aa5c4[_0x12196e['category']][_0x2514d1(0x2b0)](_0x12196e),_0x4aa5c4;},{});let _0x59889d='';const _0x161b4b=[_0x1c4e7f(0x1b9),...Object[_0x1c4e7f(0x5f6)](_0x215adf)['filter'](_0x20eb15=>_0x20eb15!==_0x1c4e7f(0x1b9))];for(const _0x4620b1 of _0x161b4b){if(_0x215adf[_0x4620b1]){const _0x5a0b89=_0x4620b1===_0x1c4e7f(0x1b9),_0x7463e1=_0x5a0b89?_0x1c4e7f(0x3de):_0x1c4e7f(0x16e),_0x53736c=_0x5a0b89?_0x1c4e7f(0x7d8):_0x1c4e7f(0x7d6);_0x59889d+=_0x1c4e7f(0x288),_0x59889d+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x53736c+_0x1c4e7f(0x36e)+_0x7463e1+_0x1c4e7f(0x26f)+_0x4620b1+'</p>',_0x215adf[_0x4620b1]['forEach'](_0x344ca7=>{const _0x16913b=_0x1c4e7f,_0x45a5ed=!!_0x344ca7['id'],_0x423114=_0x45a5ed?_0x16913b(0x30c)+_0x344ca7['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x344ca7['id']+_0x16913b(0x763)+_0x344ca7['id']+_0x16913b(0x599)+_0x344ca7['id']+_0x16913b(0x334):'';_0x59889d+=_0x16913b(0x4ea)+(_0x344ca7['id']||'')+_0x16913b(0x744)+_0x344ca7['name']+_0x16913b(0x4aa)+_0x344ca7[_0x16913b(0x248)]+_0x16913b(0x74f)+(_0x45a5ed?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x344ca7['name']+'\x22>':'')+_0x16913b(0x7b5)+_0x423114+_0x16913b(0x34e);}),_0x59889d+=_0x1c4e7f(0xdc);}}_0x2f9591['innerHTML']=_0x59889d||_0x1c4e7f(0x5b9),_0x2f9591[_0x1c4e7f(0x249)](_0x1c4e7f(0x1ec),updateSelectedTopicsCount),_0x2f9591['addEventListener'](_0x1c4e7f(0x1ec),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2143b3,_0xd996ee){const _0x3359e4=_0x31a0a6;if(!_0x2143b3||!_0xd996ee['trim']()){showMessage(_0x3359e4(0x725));return;}try{const _0x43a0f4=doc(db,_0x3359e4(0x678)+appId+_0x3359e4(0x200),_0x2143b3);await updateDoc(_0x43a0f4,{'name':_0xd996ee[_0x3359e4(0x74d)]()}),showMessage(_0x3359e4(0x16f));}catch(_0x3412fc){console['error'](_0x3359e4(0x6be),_0x3412fc),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x3f9087,_0x35375a){const _0x7fbdfc=_0x31a0a6;if(!_0x3f9087)return;const _0x552d83=_0x3f9087['querySelector'](_0x7fbdfc(0x459)),_0x35088=_0x3f9087['querySelector']('.topic-name-input'),_0x368f9c=_0x3f9087[_0x7fbdfc(0x440)](_0x7fbdfc(0x713)),_0x497bdf=_0x3f9087['querySelector'](_0x7fbdfc(0x1e4));_0x552d83[_0x7fbdfc(0x4ba)]['toggle'](_0x7fbdfc(0x199),_0x35375a),_0x35088[_0x7fbdfc(0x4ba)][_0x7fbdfc(0x565)]('hidden',!_0x35375a),_0x368f9c[_0x7fbdfc(0x4ba)][_0x7fbdfc(0x565)]('hidden',_0x35375a),_0x497bdf[_0x7fbdfc(0x4ba)][_0x7fbdfc(0x565)](_0x7fbdfc(0x199),!_0x35375a),_0x35375a&&(_0x35088[_0x7fbdfc(0xec)](),_0x35088[_0x7fbdfc(0x7b8)]());}function updateSelectedTopicsCount(){const _0x50cc3d=_0x31a0a6,_0x161158=document[_0x50cc3d(0x75f)](_0x50cc3d(0x40e)),_0x2cb7f4=_0x161158[_0x50cc3d(0x655)](_0x50cc3d(0x64f))[_0x50cc3d(0x299)],_0xf986ff=document['getElementById'](_0x50cc3d(0x367));_0x2cb7f4>0x0?_0xf986ff[_0x50cc3d(0x4e9)]=_0x50cc3d(0x5e9)+_0x2cb7f4+_0x50cc3d(0x5ce):_0xf986ff[_0x50cc3d(0x4e9)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x31a0a6(0x676),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x31a0a6(0x4ac),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':'คะแนนเต็ม','description':_0x31a0a6(0x37c),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x31a0a6(0x562),'name':_0x31a0a6(0x569),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x31a0a6(0x6cf)},'ON_FIRE':{'id':_0x31a0a6(0x125),'name':_0x31a0a6(0x5b1),'description':_0x31a0a6(0x4d4),'icon':_0x31a0a6(0x721)},'FIRST_TRY_ACE':{'id':_0x31a0a6(0x1ce),'name':_0x31a0a6(0xd2),'description':_0x31a0a6(0x5f1),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x31a0a6(0x6ba),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x31a0a6(0x441)},'SPECIALIST':{'id':_0x31a0a6(0x1d0),'name':_0x31a0a6(0x416),'description':_0x31a0a6(0x14e),'icon':_0x31a0a6(0x201)},'PERSEVERANCE':{'id':'perseverance','name':_0x31a0a6(0x73b),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x31a0a6(0x4f2)}},firebaseConfig={'apiKey':_0x31a0a6(0x44c),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x31a0a6(0x78d),'storageBucket':_0x31a0a6(0x268),'messagingSenderId':_0x31a0a6(0x27f),'appId':_0x31a0a6(0x2bb),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x31a0a6(0x2b5)?__app_id:_0x31a0a6(0x139),adminView=document['getElementById'](_0x31a0a6(0x73e)),studentView=document[_0x31a0a6(0x75f)](_0x31a0a6(0x38c)),projectDashboardView=document[_0x31a0a6(0x75f)](_0x31a0a6(0x204)),projectDetailView=document['getElementById'](_0x31a0a6(0x75e)),quizResultsView=document['getElementById'](_0x31a0a6(0x742)),projectList=document[_0x31a0a6(0x75f)]('project-list'),noProjectsMsg=document['getElementById']('no-projects-msg'),projectTitle=document[_0x31a0a6(0x75f)]('project-title'),projectIdDisplay=document['getElementById'](_0x31a0a6(0x134)),studentList=document[_0x31a0a6(0x75f)](_0x31a0a6(0x567)),messageModal=document[_0x31a0a6(0x75f)](_0x31a0a6(0x5e6)),modalMessage=document[_0x31a0a6(0x75f)](_0x31a0a6(0x261)),createProjectModal=document[_0x31a0a6(0x75f)](_0x31a0a6(0xa6)),adminPasswordModal=document[_0x31a0a6(0x75f)]('admin-password-modal'),confirmationModal=document['getElementById'](_0x31a0a6(0x188)),userIdDisplay=document[_0x31a0a6(0x75f)](_0x31a0a6(0x6c2)),topicTab=document[_0x31a0a6(0x75f)](_0x31a0a6(0x21e)),textTab=document['getElementById'](_0x31a0a6(0x69b)),topicInputArea=document['getElementById']('topic-input-area'),textInputArea=document['getElementById'](_0x31a0a6(0x495)),manageTab=document[_0x31a0a6(0x75f)](_0x31a0a6(0x14d)),resultsTab=document[_0x31a0a6(0x75f)](_0x31a0a6(0x1ab)),leaderboardTab=document[_0x31a0a6(0x75f)](_0x31a0a6(0x491)),manageTabContent=document[_0x31a0a6(0x75f)](_0x31a0a6(0x433)),resultsTabContent=document[_0x31a0a6(0x75f)](_0x31a0a6(0x7d2)),leaderboardTabContent=document['getElementById'](_0x31a0a6(0x547)),projectQuizzesList=document['getElementById'](_0x31a0a6(0x5ee)),fileTab=document[_0x31a0a6(0x75f)](_0x31a0a6(0x707)),fileInputArea=document['getElementById'](_0x31a0a6(0x336)),fileUploadInput=document[_0x31a0a6(0x75f)](_0x31a0a6(0x5b5)),worksheetTab=document[_0x31a0a6(0x75f)](_0x31a0a6(0x52f)),worksheetInputArea=document[_0x31a0a6(0x75f)](_0x31a0a6(0x350)),generateWorksheetBtn=document[_0x31a0a6(0x75f)](_0x31a0a6(0x1b5)),studentInitialView=document['getElementById'](_0x31a0a6(0x345)),studentNameSelectionView=document[_0x31a0a6(0x75f)](_0x31a0a6(0x54f)),studentQuizArea=document['getElementById'](_0x31a0a6(0x24e)),studentResultArea=document['getElementById'](_0x31a0a6(0x7eb)),studentReadingArea=document[_0x31a0a6(0x75f)](_0x31a0a6(0x270)),loadQuizBtn=document[_0x31a0a6(0x75f)](_0x31a0a6(0x5e3)),startQuizBtn=document[_0x31a0a6(0x75f)]('start-quiz-btn'),studentJoinGameView=document[_0x31a0a6(0x75f)]('student-join-game-view'),presentationModal=document['getElementById'](_0x31a0a6(0x606)),renameQuizModal=document[_0x31a0a6(0x75f)](_0x31a0a6(0x6c7)),moveQuizModal=document[_0x31a0a6(0x75f)](_0x31a0a6(0x1d1)),quizSettingsModal=document[_0x31a0a6(0x75f)](_0x31a0a6(0x238)),quizStatusModal=document['getElementById']('quiz-status-modal'),liveGameView=document['getElementById'](_0x31a0a6(0x39d));function handleAutoFixLatex(){const _0x142ab7=_0x31a0a6,_0xd812a5=document['getElementById'](_0x142ab7(0x1f8))||document,_0x315308=_0xd812a5[_0x142ab7(0x655)]([_0x142ab7(0x172),_0x142ab7(0x19f),'[contenteditable=\x22true\x22]',_0x142ab7(0x60f),_0x142ab7(0x1aa),_0x142ab7(0x269),_0x142ab7(0x47f),_0x142ab7(0x3cf),'.answer-text'][_0x142ab7(0x7df)](','));let _0x49d749=0x0;const _0x3593f7=_0x30c51e=>'value'in _0x30c51e?String(_0x30c51e[_0x142ab7(0x3a5)]):_0x30c51e[_0x142ab7(0xef)]!==undefined?_0x30c51e[_0x142ab7(0xef)]:_0x30c51e[_0x142ab7(0x4e9)]||'',_0x159a1b=(_0x38f417,_0x4e1484)=>{const _0x163278=_0x142ab7;if(_0x163278(0x3a5)in _0x38f417){_0x38f417[_0x163278(0x3a5)]=_0x4e1484;return;}if(_0x38f417[_0x163278(0x440)]&&_0x38f417[_0x163278(0x440)]('mjx-container'))return;if(_0x38f417[_0x163278(0xef)]!==undefined)_0x38f417[_0x163278(0xef)]=_0x4e1484;else _0x38f417[_0x163278(0x4e9)]=_0x4e1484;},_0x28cfe5=_0x21e6ff=>_0x21e6ff['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x142ab7(0x6c1)](/\r\n?/g,'\x0a'),_0x1dfd35=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x45dfcd=_0x1e978d=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x142ab7(0x335)](_0x1e978d),_0x15db1d=_0x20fb1a=>{const _0x1daa83=_0x142ab7,_0x2ae0c5=(_0x20fb1a['match'](/\{/g)||[])['length'],_0x4aa037=(_0x20fb1a['match'](/\}/g)||[])[_0x1daa83(0x299)];if(_0x2ae0c5>_0x4aa037)_0x20fb1a=_0x20fb1a+'}'[_0x1daa83(0x61f)](_0x2ae0c5-_0x4aa037);return _0x20fb1a;},_0x20b4af=_0x48ad71=>{const _0x591825=_0x142ab7;let _0x6d7c04=_0x48ad71[_0x591825(0x74d)]();const _0x1c7450=[_0x591825(0x636),_0x591825(0x60b),_0x591825(0x633),_0x591825(0x78a),'text','times',_0x591825(0x7d1),_0x591825(0x2f2),_0x591825(0x107),_0x591825(0x7ee),'le','ge',_0x591825(0x600),'pm','approx',_0x591825(0x3d5),_0x591825(0x4a2),_0x591825(0x72c),_0x591825(0x795),'ln',_0x591825(0x3bc),_0x591825(0xe2),_0x591825(0x505),_0x591825(0x301),_0x591825(0x2b2),_0x591825(0x3df),_0x591825(0x109),_0x591825(0x66a),'deg'];_0x6d7c04=_0x6d7c04[_0x591825(0x6c1)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x1c7450[_0x591825(0x7df)]('|')+_0x591825(0x54c),'g'),'\x5c'),_0x1c7450[_0x591825(0x748)](_0x3f886b=>{const _0x2469b1=_0x591825;_0x6d7c04=_0x6d7c04[_0x2469b1(0x6c1)](new RegExp(_0x2469b1(0x7ec)+_0x3f886b+'\x5cb','g'),(_0x5198f4,_0x896b62)=>_0x896b62+'\x5c'+_0x3f886b);});const _0xf2e2a8=[[/×/g,_0x591825(0x728)],[/·/g,_0x591825(0x41d)],[/÷/g,_0x591825(0x53c)],[/≤/g,_0x591825(0x5f0)],[/≥/g,_0x591825(0x1ef)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,_0x591825(0x221)],[/−/g,'-']];_0xf2e2a8[_0x591825(0x748)](([_0x89e623,_0x4fd5b0])=>{const _0x2ee0c8=_0x591825;_0x6d7c04=_0x6d7c04[_0x2ee0c8(0x6c1)](_0x89e623,_0x4fd5b0);}),_0x6d7c04=_0x6d7c04[_0x591825(0x6c1)](/√\s*\(([^)]*)\)/g,_0x591825(0x76d)),_0x6d7c04=_0x6d7c04[_0x591825(0x6c1)](/√\s*([A-Za-z0-9]+)/g,_0x591825(0x76d)),_0x6d7c04=_0x6d7c04[_0x591825(0x6c1)](/(^|[^\\])\bimes\b/g,_0x591825(0x3c0))[_0x591825(0x6c1)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x591825(0x38a))[_0x591825(0x6c1)](/(^|[^\\])ext\{/g,_0x591825(0x637))['replace'](/(^|[^\\])ext\(/g,_0x591825(0x2b8))[_0x591825(0x6c1)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')['replace'](/\s\\frac/g,_0x591825(0x1af)),_0x6d7c04=_0x6d7c04[_0x591825(0x6c1)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x3fcaeb,_0x32cd5a,_0x37b58e,_0x33be4b)=>_0x32cd5a+_0x591825(0x33f)+_0x37b58e+'}{'+_0x33be4b+'}'),_0x6d7c04=_0x6d7c04['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x591825(0x6c1)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')[_0x591825(0x6c1)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x591825(0x1f3)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x591825(0x2a7)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x591825(0x2a7)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x591825(0x2a7)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x591825(0x2a7)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x591825(0x2a7)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x591825(0x97)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x591825(0x2a7)]][_0x591825(0x748)](([_0xc447ae,_0x336ee5])=>{const _0x3b4757=_0x591825;_0x6d7c04=_0x6d7c04[_0x3b4757(0x6c1)](_0xc447ae,_0x336ee5);}),_0x6d7c04=_0x6d7c04[_0x591825(0x6c1)](/(\d+)\s*%/g,'$1\x5c%'),_0x6d7c04=_0x6d7c04[_0x591825(0x6c1)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x591825(0x95))[_0x591825(0x6c1)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x591825(0x6da))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x591825(0x66d)),['sin',_0x591825(0x4a2),'tan',_0x591825(0x795),'ln'][_0x591825(0x748)](_0x5666fa=>{const _0x3d6b19=_0x591825;_0x6d7c04=_0x6d7c04[_0x3d6b19(0x6c1)](new RegExp(_0x3d6b19(0x7ec)+_0x5666fa+_0x3d6b19(0x70e),'g'),(_0x54b5b2,_0x497e7b)=>_0x497e7b+'\x5c'+_0x5666fa+'(');});const _0x28d75e=(_0x6d7c04[_0x591825(0x5aa)](/\\left\b/g)||[])['length'],_0x304c37=(_0x6d7c04[_0x591825(0x5aa)](/\\right\b/g)||[])[_0x591825(0x299)];if(_0x28d75e!==_0x304c37)_0x6d7c04=_0x6d7c04[_0x591825(0x6c1)](/\\left\b/g,'')[_0x591825(0x6c1)](/\\right\b/g,'');return _0x6d7c04=_0x15db1d(_0x6d7c04),_0x6d7c04;},_0x172639=_0x4859f2=>{const _0x13de40=_0x142ab7;if(/\$|\\\(|\\\[/['test'](_0x4859f2))return _0x4859f2;if(!_0x1dfd35[_0x13de40(0x335)](_0x4859f2))return _0x4859f2;const _0x3cb8ba=_0x4859f2['match'](/^\s*/)[0x0],_0xb6ffd5=_0x4859f2[_0x13de40(0x5aa)](/\s*$/)[0x0],_0x23a972=_0x4859f2[_0x13de40(0x74d)]();return _0x3cb8ba+'$'+_0x20b4af(_0x23a972)+'$'+_0xb6ffd5;},_0x2db725=_0x29e18d=>_0x29e18d[_0x142ab7(0xc8)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x315308[_0x142ab7(0x748)](_0x51d437=>{const _0x408564=_0x142ab7;if(_0x51d437['querySelector']&&_0x51d437[_0x408564(0x440)](_0x408564(0x597)))return;const _0x10767d=_0x3593f7(_0x51d437);let _0x1e1609=_0x28cfe5(_0x10767d);_0x1e1609=_0x1e1609[_0x408564(0x6c1)](/\$\$([\s\S]*?)\$\$/g,(_0x34872b,_0x49482c)=>'$$'+_0x20b4af(_0x49482c)+'$$')[_0x408564(0x6c1)](/\$([^$]*?)\$/g,(_0x2a2b7d,_0x47d4a0)=>'$'+_0x20b4af(_0x47d4a0)+'$')[_0x408564(0x6c1)](/\\\(([\s\S]*?)\\\)/g,(_0x21e793,_0x3bfb06)=>'\x5c('+_0x20b4af(_0x3bfb06)+'\x5c)')[_0x408564(0x6c1)](/\\\[([\s\S]*?)\\\]/g,(_0x2390f4,_0x1716e7)=>'\x5c['+_0x20b4af(_0x1716e7)+'\x5c]');let _0x5dca0e=_0x1e1609,_0xaab16d=0x0;const _0x34b1f2=_0x4c3c8d=>_0x4c3c8d[_0x408564(0x6c1)](/S([^S]{0,2000}?)S/g,(_0x5444be,_0x430b0b)=>_0x1dfd35['test'](_0x430b0b)?'$'+_0x20b4af(_0x430b0b)+'$':_0x5444be);while(_0xaab16d++<0x14){const _0x556397=_0x34b1f2(_0x5dca0e);if(_0x556397===_0x5dca0e)break;_0x5dca0e=_0x556397;}_0x1e1609=_0x5dca0e,_0x1e1609=_0x1e1609['split']('\x0a')['map'](_0x1dd720=>{const _0x1e0420=_0x408564;if(!(/[,\u3001，;；]/[_0x1e0420(0x335)](_0x1dd720)||/\s(?:และ|หรือ)\s/[_0x1e0420(0x335)](_0x1dd720))||!_0x1dfd35[_0x1e0420(0x335)](_0x1dd720))return _0x1dd720;return _0x2db725(_0x1dd720)[_0x1e0420(0x182)](_0x588e34=>{const _0x5533f2=_0x1e0420;if(/^\s(?:และ|หรือ)\s$/[_0x5533f2(0x335)](_0x588e34)||/^[,\u3001，;；]$/[_0x5533f2(0x335)](_0x588e34))return _0x588e34;return _0x172639(_0x588e34);})[_0x1e0420(0x7df)]('');})['join']('\x0a'),_0x1e1609=_0x1e1609['split']('\x0a')['map'](_0x9f6486=>{const _0x261919=_0x408564,_0x19f67f=_0x9f6486[_0x261919(0x74d)]();if(!_0x19f67f)return _0x9f6486;const _0x5339b3=/\$|\\\(|\\\[/[_0x261919(0x335)](_0x19f67f),_0x314d4d=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x19f67f);if(_0x5339b3||!_0x314d4d||_0x45dfcd(_0x19f67f))return _0x9f6486;return _0x9f6486[_0x261919(0x6c1)](_0x19f67f,'$'+_0x20b4af(_0x19f67f)+'$');})[_0x408564(0x7df)]('\x0a'),_0x1e1609=_0x1e1609[_0x408564(0x6c1)](/(\d+)\s*°\s*C\b/g,(_0x3b9024,_0x11fa4a,_0x9e2c0d,_0x3f084a)=>{const _0x35cc6a=_0x3f084a[_0x9e2c0d-0x1];if(_0x35cc6a==='$'||_0x35cc6a==='S'||_0x35cc6a==='\x5c')return _0x3b9024;return'$'+_0x11fa4a+'^{\x5ccirc}\x5ctext{C}$';})[_0x408564(0x6c1)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x6ef68e,_0x15866b,_0x285f0d,_0x4b666c)=>{const _0x4ace9d=_0x408564,_0x2bff32=_0x4b666c[_0x285f0d-0x1];if(_0x2bff32==='$'||_0x2bff32==='S'||_0x2bff32==='\x5c')return _0x6ef68e;return'$'+_0x15866b+_0x4ace9d(0x560);})[_0x408564(0x6c1)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x15aa8b,_0x3fafc2,_0x2a1f36,_0x245c60)=>{const _0xa54acc=_0x408564,_0x4a8430=_0x245c60[_0x2a1f36-0x1];if(_0x4a8430==='$'||_0x4a8430==='S'||_0x4a8430==='\x5c')return _0x15aa8b;return'$'+_0x3fafc2+_0xa54acc(0x560);}),_0x1e1609=_0x1e1609['replace'](/\$\s*\$/g,'$$'),_0x1e1609!==_0x10767d&&(_0x159a1b(_0x51d437,_0x1e1609),_0x49d749++);});if(_0x49d749>0x0){showMessage(_0x142ab7(0x444)+_0x49d749+_0x142ab7(0x3b9));try{if(window[_0x142ab7(0x428)]&&MathJax[_0x142ab7(0x3d6)])MathJax[_0x142ab7(0x3d6)]();window['katex']&&typeof renderMathInElement===_0x142ab7(0x77f)&&renderMathInElement(_0xd812a5,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x1b395d){}}else showMessage(_0x142ab7(0x63a));}async function listenForCustomMathTopics(){const _0x47ea90=_0x31a0a6,_0x510326=collection(db,_0x47ea90(0x678)+appId+_0x47ea90(0x200));onSnapshot(_0x510326,_0x1c34fd=>{const _0x34db64=_0x47ea90;customMathTopics=_0x1c34fd[_0x34db64(0x67b)][_0x34db64(0x182)](_0x185aed=>({'id':_0x185aed['id'],..._0x185aed['data']()})),renderTopicCheckboxes();},_0x444467=>{const _0x4941cd=_0x47ea90;console['error'](_0x4941cd(0x1a4),_0x444467);});}function handleSelectAllTopics(){const _0x10f5a8=_0x31a0a6,_0x4a7b66=document[_0x10f5a8(0x75f)](_0x10f5a8(0x40e)),_0x25dbef=_0x4a7b66['querySelectorAll'](_0x10f5a8(0x184));_0x25dbef['forEach'](_0x5cc6ba=>{_0x5cc6ba['checked']=!![];}),updateSelectedTopicsCount();}function _0x4a9d(){const _0x256fce=['quiz-results-view','[data-topic-container-id]','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','insertBefore','quiz-leaderboard-table','submission-status-chart','forEach','.color-palette-btn','s;\x22\x20title=\x22','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','บันทึกพฤติกรรมสำหรับ\x20','trim','back-from-results-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</tbody></table></div>','back-to-project-btn','closest','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.badges','createObjectURL','documentElement','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','getContext','ผ่าน','qIndex','แคลคูลัสเบื้องต้น','project-detail-view','getElementById','_opt','confirm-delete-btn','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-type-select','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','.duplicate-quiz-btn','178077FIOIXC','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่มีนักเรียนส่งงาน','text-gray-200','\x5csqrt{$1}','(หลังเรียน)\x20','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','overallGroups','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','get','<span\x20class=\x22font-bold\x20','</p><p><strong>เฉลย:</strong>\x20','ไม่ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','bg-green-100\x20font-bold','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','function','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ไม่สามารถบันทึกการตั้งค่าได้','show-in-student-dashboard-checkbox','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','toDate','export-tutor-pdf-btn','เงินงวด\x20(อนุกรมเงินงวด)','Error\x20fetching\x20quiz\x20settings:','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','ai-quiz-app-aefee','fromCharCode','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ปริพันธ์จำกัด','confirm-move-quiz-btn','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','FileReader\x20error:','cancel-delete-btn','log','results-table','fullscreenchange','toString','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','อัตราการเปลี่ยนแปลงทันที','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','พื้นที่สี่เหลี่ยม','เปิดใช้งาน','text-content-input','delete','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','<h4\x20class=\x22font-bold\x20text-indigo-800\x20mb-2\x22>📊\x20การวิเคราะห์เป้าหมายตามข้อตกลง\x20(PA)</h4>','cancel-quiz-bank-btn','text-purple-600','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังจับคู่...','timerMode','dragend','/public/data/quizzes/','.start-presentation-list-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','ฟังก์ชันพหุนาม','standardTopic','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerDuration','text-white','select','start-live-race-generated-btn','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results_','_opt0\x22\x20name=\x22question','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','close-comparison-modal-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-red-50','พบข้อสอบ\x20','quizMode','link-input-area','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','การสร้างรูปด้วยวงเวียน–สันตรง','<span\x20class=\x22sort-indicator\x20ml-2\x22>','scheduled_pending','/questionBank','thead','cdot','results-tab-content','การบวกทศนิยม','href','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','text-indigo-700','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','text-blue-700','preventDefault','ข้อต่อไป','preScore','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','latestScore','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','join','ไม่สามารถโหลดรายการโปรเจคได้','สร้างแบบทดสอบ','6LvggXF','ไม่สามารถโหลดข้อมูลอันดับได้','แผนภาพกล่อง\x20(box\x20plot)','mean','num-choices','export-image-btn','พอใช้','none','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','student-result-area','(^|[^\x5c\x5c])\x5cb','leaderboard_','geq','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','cancel-quiz-settings-btn','cancel-move-quiz-btn','delete-all-students-btn','Error\x20starting\x20live\x20race:','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาวาง\x20URL\x20ของบทความก่อน','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','ดอทโปรดักต์\x20(dot)','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','promptFeedback','scores','ไม่พบข้อมูลการจับคู่','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','className','starred','เลือกและบันทึก','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','rows','finishReason','values','post-test','ตั้งเวลา\x20(เปิด)','#math-topics-checkbox-container\x20input:checked','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','Error\x20displaying\x20question\x20bank:','autoTable','ระยะเวลา\x20(วินาที):','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','<option\x20value=\x22','.export-pdf-list-btn','$1^{$2}','presentation-explanation','$1^{\x5ccirc}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','#E0E7FF','project-detail','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','next-question-timed-btn','สรุปผลการวิเคราะห์:\x5cn','promise','อินเวอร์สของเมทริกซ์','ตัวแปรและนิพจน์','default','<span\x20class=\x22font-bold\x20text-green-700\x22>บรรลุเป้าหมาย</span>','กรุณาใส่ชื่อโปรเจค','จุด\x20เส้น\x20ระนาบ','short_answer','create-project-modal','data','ระยะเวลา\x20(นาที):','answering','Error\x20pairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','countdown-display','whole_quiz','2aOUdDt','timer-duration-container','export-leaderboard-word-btn','ปิดใช้งาน','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','รูปสแควร์รูท\x20(surd)','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','รูปแบบการให้เหตุผล','svg','.start-live-race-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','create-from-bank-btn','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','ความชันและเส้นตรง','border-4','cancel-rename-quiz-btn','download','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','244752QFTgUB','style','from','ไม่พบตารางสำหรับ\x20Export','split','getBoundingClientRect','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','การกระจายและการจัดหมู่','parallel-test-upload-input','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่านฉลุย','เกิดข้อผิดพลาดในการปักหมุด','ค่าสัมบูรณ์','firstScore','scheduled','ร้อยละพื้นฐาน','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','ข้อที่\x20','</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-global-live-btn','\x20/\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','prod','quiz-leaderboard-table-container','modal-passing-score-input','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','presentation-short-answer-input','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz:','focus','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ครั้ง)</span></td>','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ก่อนเรียน','ผู้ควบคุม\x20(ทดสอบ)','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เลือกโปรเจคเพื่อบันทึก','\x20ข้อ\x20','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','appendChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','explanation','การบวกเศษส่วน','showInStudentDashboard','multiple_choice','enable-passcode-checkbox','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','save','getScreenCTM',',\x20r=','move','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','leq','disabled','underline','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctStreak','includes','27411472','index','submissions','border-green-500','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','allResponses','%</span>','body','Error\x20generating\x20from\x20blueprint:','getItem','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','timer-duration-input','fill_in_the_blank','API\x20call\x20failed\x20with\x20status:\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','input[type=\x22radio\x22]:checked','\x20pointer-events-none\x22>','\x22\x20value=\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ยังไม่ส่ง','mouseup','<option>กำลังโหลดโปรเจค...</option>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','on_fire','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pairedQuizId','จำนวนข้อ:','flex\x20flex-col\x20gap-2','ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20','lobby','contents','</span></p>','.lastAnswerCorrect','STRING','/public/data/quizzes','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','ย้ายแบบทดสอบสำเร็จ','confirm-rename-quiz-btn','ai-quiz-generator-v3','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','global-quiz-search-input','answer-grid-container','quizId','project-passcode-input','stopPropagation','candidates','hint-btn','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจคะแนนใหม่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','Invalid\x20response\x20structure\x20from\x20AI:','พาราโบลา','resultsDisplay','questionText','border-gray-200','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','manage-tab','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','OBJECT','lessonPlan','topic','ปริมาตร/ความจุและการแปลง','asc','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x22>ไม่ใช่</p>','</h3>','generate-from-text-btn','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','COMEBACK_KING','.delete-custom-topic-btn','\x20\x20\x20-\x20คำตอบ:\x20','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','projectSortOrder','editable-text-','student-quiz-topic','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','</p><div>','<p>','$1\x20\x5cfrac','มุมและการวัดมุม','.star-quiz-btn','list-view-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','.group','fas\x20fa-bookmark','แก้ไขหัวข้อสำเร็จ','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','textarea','save-visibility-settings-btn','back-to-dashboard-btn','isRemedial','drill-feedback','scores-tab-btn','ฟังก์ชันสัมพัทธ์\x20(rational)','\x20ใหม่...','องค์ประกอบของฟังก์ชัน','QUICK_THINKER','Invalid\x20response\x20structure\x20from\x20AI.','text-red-900','มุมพิเศษ\x2030°-60°-90°','การวัด','lesson-plan-content','schedule','map','N/A','input[type=\x22checkbox\x22]','สัญกรณ์วิทยาศาสตร์','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','check-presentation-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','correctAnswerIndex','bottom','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','live-game','Error\x20saving\x20user\x20preference:','results-table-container','จากเนื้อหาต่อไปนี้:\x20\x22','ไม่สามารถสร้างโปรเจคได้','modal-adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','hidden','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','border-indigo-400\x20ring-2\x20ring-indigo-200','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','key','input[type=\x22text\x22]','authed_project_','รูปหลายเหลี่ยมและมุมภายใน','retake-quiz-loop-btn','per-q-countdown','Error\x20listening\x20for\x20custom\x20math\x20topics:','label[for=\x22num-questions\x22]','quiz-results-table-body','toISOString','ข้อ\x20','exists','.ql-editor','results-tab','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','#student-quiz-leaderboard-content\x20thead','element','\x5cfrac','cancel-create-project-btn','777Brifyy','behavior-log-tab-content','Error\x20updating\x20pin\x20status:','ยกเลิกการจับคู่สำเร็จ','generate-worksheet-btn','drop','cancel-admin-login-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','หัวข้อที่สร้างเอง','\x20คน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>วิเคราะห์จากการทำข้อสอบชุดนี้ซ้ำ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badgesCount','การยืนยันตัวตนล้มเหลว','opacity-50','isAdaptive','ย้ายแบบทดสอบไปโปรเจคอื่น','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','back-to-results-btn','stringify','studentName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปริมาตรรูปทรงสามมิติ','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','grid-view-btn','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','Error\x20rendering\x20student\x20progress:','close-lesson-plan-modal-btn','first_try_ace','\x22\x20data-pre-test-id=\x22','specialist','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','อสมการค่าสัมบูรณ์','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22><p\x20class=\x22font-semibold\x22>','การคูณทศนิยม','เกิดข้อผิดพลาดในการสร้างใบงาน','ความสัมพันธ์ของมุม','กรุณาเลือกโปรเจคที่ต้องการบันทึก','เพิ่มหัวข้อ\x20\x22','setItem','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','true','การบวก','<tr\x20class=\x22','.topic-actions-edit','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NEGATIVE_INFINITY','gain','Error\x20updating\x20quiz\x20status:','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','change','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cge','player-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x5cfrac{$1}{$2}','</span>','NUMBER','quizType','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','quiz-editor-questions-container','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','text-gray-100','revealed','find','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','.pin-project-btn','dragstart','/public/data/customMathTopics','fa-user-astronaut\x20text-blue-700','destroy','onload','project-dashboard-view','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','perQuestionStats','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','shuffle','<p\x20class=\x22','สามเหลี่ยม\x20(ชนิด/สมบัติ)','dataIndex','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','text-green-500','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','lowerGroupResponders','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','Original\x20quiz\x20not\x20found','บันทึกการตั้งค่าสำเร็จ','Error\x20saving\x20quiz\x20edits:','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','commit','ลบแบบทดสอบสำเร็จแล้ว','Error\x20generating\x20from\x20link:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','Error\x20listening\x20for\x20starred\x20quizzes:','\x5csum','name_desc','totalPoints','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.toggle-actions-btn','Error\x20regenerating\x20question\x20in\x20editor:','#FFFFFF','เปลี่ยนชื่อแบบทดสอบสำเร็จ','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ดูสรุปผล','จำนวนนักเรียน','ยืนยันการกระทำ','.topic-row','export-pdf-modal','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','กำลังสร้างคำถามข้อ\x20','Error\x20updating\x20sort\x20preference:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','เรขาคณิตวิเคราะห์','slide-counter','quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scores-tab-content','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','standard',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</td>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','force-math-checkbox','AI\x20request\x20was\x20blocked.\x20Reason:\x20','passcode-error-msg','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','name','removeEventListener','admin-try-quiz-btn','link-tab','projectName','.live-answer-btn','student-quiz-area','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','postTScore','isPasscodeEnabled','Error\x20fetching\x20project\x20quizzes:','เกิดข้อผิดพลาดในการเข้าร่วมเกม','pa-goal-tracker-container','.question-editor-item[data-q-index=\x22','reference-pdf-upload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','print',';\x22\x20data-id=\x22','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-form','-\x20ข้อ\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-message','ARRAY','getTextContent','.quiz-bank-parallel-btn','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ai-quiz-app-aefee.appspot.com','label','ยืนยันการจับคู่','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.generate-post-test-btn','write','\x20mr-2\x22></i>','student-reading-area','color','save-quiz-btn','comparison-chart','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','endTime','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','leaderboard-quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','text-red-800','results-quiz-id-display','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','274192258111','\x22><i\x20class=\x22fas\x20','both','Error\x20saving\x20project\x20order:','รีเซ็ตลำดับโปรเจคแล้ว','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','/public/data/liveGames','จากไฟล์ที่แนบมานี้,\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','dispatchEvent','text-green-900','requestFullscreen','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#D1FAE5','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_no_choices','เกิดข้อผิดพลาดในการลบโปรเจค','fas\x20fa-star\x20text-yellow-500','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shuffle-setting-select','ฟังก์ชันลอการิทึม','ส่วนเบี่ยงเบนเฉลี่ย','length','insertAdjacentHTML','ring-2','```','workerSrc','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','loader-text','text-red-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','border-red-700','hint','Error\x20joining\x20live\x20game:','$1^{\x5ccirc}\x5ctext{C}','ส่งคำตอบ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','projectOrder','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','</tbody></table>','bg-red-100\x20text-red-800','file-topic-input','push','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','right','manage','คำถามดิบ:\x20\x22','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','เปิด\x20(จับเวลา)','$1\x5ctext(','text-emerald-800','sort','1:274192258111:web:4120c9118229b5644dd48a','rgba(59,\x20130,\x20246,\x200.7)','round','analytics-summary-cards','student-progress-view','ควรปรับปรุง','bg-green-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beforeend','button[type=\x22submit\x22]','Error\x20generating\x20parallel\x20test\x20from\x20bank:','clientY','ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>เป้าหมาย:\x20นักเรียนกลุ่มไม่ผ่านเกณฑ์\x20พัฒนาขึ้น\x20≥\x2070%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>สถานะ:</b>\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','global-live-game-modal','การปัดเศษและประมาณค่า','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ไม่มี','<div\x20class=\x22loader\x20mx-auto\x22></div>','พื้นที่วงกลม/ส่วนของวงกลม','หน่วยความยาวและการแปลง','\x22\x20data-name=\x22','\x20คู่\x20','PERFECT_SCORE','game-pin-input','preTScore','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','projectSort','\x22\x20class=\x22pin-project-btn\x20','generate-from-parallel-test-btn','questions_only','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','mode-switcher-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สถิติและความน่าจะเป็น','อัตราและอัตราหน่วย','has','</span></div>','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','active','dragover','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','แผนภาพเวนน์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตารางความถี่','.quiz-result-card','div','Error\x20comparing\x20results:','readAsDataURL','cursor','confirm-admin-login-btn','analytics-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','uid','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อุณหภูมิและการแปลง','cancel-test-btn','shuffleSetting','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','left','move-quiz-project-select','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','44jfXIis','toLocaleString','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','2-digit','contentEditable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่ได้ตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','.draggable-text','PERSEVERANCE','.delete-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','custom-math-topic-input','quiz-leaderboard-table-body','student-quiz-leaderboard-tab','contains','หมดเวลา!\x20กำลังส่งคำตอบ...','POST','auto-fix-latex-btn','stem','isArray','\x20ตัวเลือก.\x20','submission','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Remedial\x20quiz\x20generation\x20failed:','cancel-export-pdf-btn','Error\x20moving\x20quiz:','cloneNode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','timestamp','generate-from-file-btn','export-leaderboard-excel-btn','progress-project-select','pinnedProjects','.topic-category','Error\x20saving\x20visibility\x20settings:','https://corsproxy.io/?','\x22>จาก:\x20','สอบซ่อม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','คะแนน','removeChild','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','test','file-input-area','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupNames','json','<li\x20class=\x22','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','admin','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x5cfrac{','open','.project-card-container','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','<div\x20class=\x22answer-space\x22></div>','gamePin','student-initial-view','Error\x20loading\x20quiz\x20for\x20student:','จำนวนเชิงซ้อน\x20(เสริม)','จำนวนคละ','http://www.w3.org/2000/svg','quiz-search-input','interesting-stats-wrapper','targetId','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','worksheet-input-area','opacity','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','Error\x20updating\x20quiz\x20settings:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','loopUntilPass','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','setFont','1292049TsIfUk','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','42605ozExvO','\x20\x20\x20-\x20','.project-card-container[data-id]','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','/preferences/main','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','modal-timer-duration-input','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กฎบวกและกฎคูณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-topics-count','score','live-short-answer-input','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','คำตอบผิด','startsWith','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','ลำดับเรขาคณิต\x20(GP)','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-content','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','.\x20แต่ละข้อมี\x20','API\x20call\x20failed','text-gray-700','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20deleting\x20custom\x20topic:','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','ใช่','ตอบถูกทุกข้อในแบบทดสอบนี้','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','settings','toDataURL','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','error','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dataset','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','<div\x20class=\x22my-6\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','student-project-leaderboard-content','$1\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','student-view','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','start-presentation-btn','open-quiz-bank-btn','.png','/public/data/practiceBank','student-progress-content','quiz-generation-area','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-passcode-btn','offsetWidth','doughnut','กรุณาป้อนรหัสแบบทดสอบ','แบบปรนัย\x204\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','live-game-view','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','questions','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-schedule-start-container','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','value','questionDisplayedAt','behavior-log-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','admin-testing','.pair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','editable-quiz-topic','type','parse','thead\x20.sortable-header','การแจกแจงทวินาม\x20(พื้นฐาน)','comparison-individual-tab','แบบทดสอบ:\x20','.sortable-header','#ffffff','admin-action-buttons','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยทบต้น','\x20ช่อง','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','project-name-input','sum','behavior-log','close','math-topic-search-input','$1\x5ctimes','num-questions','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','mixed','removeAttribute','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','/public/data/projects','helvetica','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','answerText','ระบบสมการเชิงเส้นสองตัวแปร','cancel-passcode-btn','การลบ','start-game-btn','.option-text','กฎของโคไซน์','outerHTML','warn','results','เวกเตอร์และเมทริกซ์\x20(เสริม)','sin','typesetPromise','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','list','entries','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','circle','แบบเติมคำตอบ','fas\x20fa-user-edit','overline','rgba(79,\x2070,\x20229,\x200.8)','text','totalQuestions','project-list','text-gray-400\x20hover:text-indigo-600','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','text-red-500\x20hover:text-red-700','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','.topic-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','isPinned','isStarred','comparison-overall-content','parallel-test-input-area','00:00','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','top','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','scrollX','classStrengths','toLocaleDateString','bg-white/30','99IluzkC','bg-green-100','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','.edit-quiz-btn','getBBox','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.edit-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','จำนวนเต็มบวก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','math-topics-checkbox-container','currentQuestionIndex','reveal-answer-btn','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','.correct-response-input','Error\x20generating\x20parallel\x20post-test:','ownerSVGElement','lower_group_count','ผู้เชี่ยวชาญ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22','Error\x20renaming\x20quiz:','จับคู่แบบทดสอบสำเร็จ!','preTestId','image/png','\x5ccdot','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','กรุณาใส่ชื่อใหม่','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','title','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','solution','สมการค่าสัมบูรณ์','MathJax','admin-password-input','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','.project-card-content','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','modal-shuffle-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22\x20name=\x22question','touchmove','manage-tab-content','answeredCurrentQuestion','.regenerate-question-btn','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22\x20สำเร็จ','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passcode','สร้างคำถามแบบเติมคำในช่องว่าง','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text/csv;charset=utf-8;','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','querySelector','fa-shield-alt\x20text-gray-600',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ฟังก์ชันแบบชิ้นส่วน','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','generated-quiz-actions','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','Error\x20creating\x20project:','floor','ค่าเฉลี่ย','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','worksheet-topic-input','\x22,\x20','update','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','rgba(16,\x20185,\x20129,\x200.7)','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','include-images-checkbox','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','กำลังสร้างแบบทดสอบคู่ขนาน...','.topic-name-display','generate-from-topic-btn','strength-weakness-analysis-container','ความเท่ากันทุกประการของสามเหลี่ยม','bank-input-area','Error\x20adding\x20custom\x20topic:','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','raw','ฟังก์ชันผกผัน','สมการเหตุผล\x20(rational)','behavior-log-tab-btn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','bg-green-500','export-leaderboard-pdf-btn','backgroundColor','.move-quiz-btn','students','classWeaknesses','การนับ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<span\x20title=\x22','pow','สร้างชุดคำถามจับคู่','items','admin-dashboard','ผลรวมอนุกรม\x20(Σ)','result','คณิตศาสตร์','คัดลอกไม่สำเร็จ','blockReason','เกิดข้อผิดพลาดในการลบนักเรียน','ON_FIRE','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.choice-text','afterend','การหารทศนิยม','originalQuestionText','files','Error\x20opening\x20quiz\x20editor:','วงรี','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','quiz-start-time','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22pa-details-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-60\x20flex\x20items-center\x20justify-center\x20hidden\x20z-50\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22bg-white\x20p-6\x20rounded-lg\x20shadow-xl\x20max-w-2xl\x20w-full\x20h-[80vh]\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x20border-b\x20pb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20id=\x22pa-modal-title\x22\x20class=\x22text-xl\x20font-bold\x20text-indigo-700\x22>รายละเอียดเป้าหมาย\x20(PA)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-pa-modal-btn\x22\x20class=\x22text-gray-500\x20hover:text-red-600\x20text-3xl\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pa-modal-content\x22\x20class=\x22flex-grow\x20overflow-y-auto\x20bg-gray-50\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20flex\x20justify-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-pa-modal-footer-btn\x22\x20class=\x22bg-gray-200\x20text-gray-800\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-300\x22>ปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseVal','touchcancel','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','บันทึกการแก้ไขสำเร็จ','leaderboard-tab','พื้นที่สามเหลี่ยม','Error\x20unpairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','text-input-area','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','text/html','category','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','link-topic-input','quiz-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-label','กรุณาเลือกชื่อของคุณ','end-game-btn','_blank','cos','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','_opt0\x22>ใช่</label></div>','กำลังอ่านและเตรียมไฟล์...','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','target','comparison-overall-tab','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','(คัดลอก)\x20','desc','podium','export-word-btn','generated-quiz-container','ฟังก์ชันราก\x20(root)','Error\x20during\x20class\x20analysis:','bg-red-200\x20text-red-800','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','text-gray-500','checked','toFixed','การหาร','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','mousedown','BOOLEAN','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','-tab-content','normal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','text-blue-700\x20bg-blue-100','practiceProblems','points','modal-timer-duration-label','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','leaderboard','innerHTML','เรเดียนและการแปลงหน่วย','</span></td>','upperGroupResponders','data:application/vnd.ms-word;charset=utf-8,','per-question-timer-container','.unpair-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','dashboardConfig','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','ตอบถูก\x203\x20ข้อติดต่อกัน','timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','#F59E0B','onerror','temp-loader-results','\x20จาก\x20','\x0a---\x0a','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','.quiz-bank-present-btn','[*]','\x20สำเร็จ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','ร้อยละประยุกต์','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','reduce','input','bg-red-100','<button\x20data-quiz-id=\x22','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','passingScore','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','fa-dumbbell\x20text-gray-700','Error\x20deleting\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20star\x20status:','พีชคณิตและฟังก์ชัน','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','getAttributeNS','bg-gray-50','คัดลอกรหัสแล้ว!','name_asc','คุณต้องการตรวจคะแนนของนักเรียนที่ส่งมาแล้วทั้งหมดด้วยเฉลยชุดใหม่นี้หรือไม่?\x20(อาจใช้เวลาสักครู่)','font-bold\x20text-green-700','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','ระยะทางและจุดกึ่งกลาง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','สมการราก\x20(radical)','เกี่ยวกับหัวข้อ\x20\x22','binom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','confirm-global-live-btn','แผนการสอน:\x20','#per-question-options\x20select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.edit-question-btn','projectView','draggable-text','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','description','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','ค่าเสื่อมราคา','date_asc','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','#results-table','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จำนวนและการดำเนินการ','bar','ไม่พบโปรเจค','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','line-through\x20text-red-700','ลบหัวข้อสำเร็จ','839061wxdyLy','touches','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editor-quiz-topic','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','parallel-test-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','display','<div\x20id=\x22q-image-container-','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','worksheet-tab','some','การเรียงสับเปลี่ยน\x20(Permutation)','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','th-TH','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','คณิตการเงิน/บูรณาการ','ระบบเลขและค่าประจำหลัก','Error\x20generating\x20lesson\x20plan:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x5cdiv','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','จำนวนคู่:','topic-input','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','red','back-to-dashboard-from-results-btn','เกิดข้อผิดพลาดในการโหลดสถานะ','upper_group_count','สำหรับโปรเจค:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','leaderboard-tab-content','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','การแปลงรูปอัตลักษณ์','พิสัย','การคูณ',')\x5cb)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','student-name-selection-view','q-text-','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','now','ไม่พบแบบทดสอบสำหรับรหัสนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','passing-score-input','</strong></p>','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','badges','Error\x20listening\x20for\x20projects:','MathJax\x20typeset\x20error\x20(analytics):','text-red-700\x20bg-red-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pre-test','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','#results-table\x20thead\x20tr','^{\x5ccirc}\x5ctext{C}$','questionType','quick_thinker','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','adaptive-quiz-checkbox','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','student-list','ref','เซียนสมองไว','<tr><td\x20colspan=\x22','(ไม่มีชื่อ)','quiz-schedule-end-container','</p>','parseFromString','analyze-strengths-btn','Error\x20deleting\x20quiz:','button','#E5E7EB','ทฤษฎีบทพื้นฐานของแคลคูลัส','text-gray-300\x20hover:text-white','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','delete-svg-btn','bg-blue-100\x20text-blue-800','learningGaps','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','ลบโปรเจคสำเร็จแล้ว','%\x20จากนักเรียนทั้งหมด\x20','fullscreenElement','toLowerCase','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','ฐานนิยม','.delete-svg-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','<br>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','กรุณาเลือกสถานะ','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','show_results_only','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','แก้ไขข้อนี้','Error\x20loading\x20user\x20preferences:','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','touchstart','table','idealAnswer','starred-project','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','</p></div>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','quiz-bank-count','pinned-items','mjx-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ลำดับการดำเนินการ\x20(PEMDAS)','<option\x20value=\x22\x22>กำลังโหลด...</option>','practice-topic-btn','parent','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งแล้ว','การประยุกต์เวกเตอร์พื้นฐาน','modal-results-display-select','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','jspdf','cancel-quiz-status-btn','ไม่พบข้อมูลแบบทดสอบ','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','match','.regenerate-question-editor-btn','กรุณาเลือกคำตอบก่อนครับ','exited_fullscreen','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','</body></html>','generate-from-link-btn','ท็อปฟอร์ม','\x22\x20name=\x22question_single\x22\x20value=\x22','fill_in_with_choices','matching','file-upload-input','/submissions','size','date_desc','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','text-green-700\x20bg-green-100','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','originalTopic','กรุณาเลือกโปรเจคปลายทาง','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<h1></h1>','กฎของไซน์','analytics-tab-btn','correct','Enter','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','padStart','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<span\x20class=\x22font-bold\x20text-yellow-700\x22>ยังไม่บรรลุเป้าหมาย</span>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','players.','btn','user','true_false','timer-container','\x20หัวข้อ)','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','เกิดข้อผิดพลาดในการจับคู่','generate-from-blueprint-btn','save-quiz-edits-btn','เรขาคณิต','ไม่สามารถเริ่มเกมได้','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','message','num-choices-container','สร้างแบบทดสอบปรนัย','stdDev','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','bestScore','</li>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','เส้นตรง:\x20รูปแบบสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','message-modal','.live-answer-btn,\x20#live-submit-short-answer-btn','จับคู่เพื่อเปรียบเทียบผล','(เลือกแล้ว\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison','student-name-select','export-leaderboard-image-btn','project-quizzes-list','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x5cle','ทำคะแนนเต็มในการทำครั้งแรก','.color-palette-popup','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','modal-loop-until-pass-checkbox','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','keys','modal-timer-mode-select','<i\x20class=\x22fas\x20fa-save\x22></i>','postScore','td,\x20th','อนุพันธ์:\x20กฎพื้นฐาน','show_results_and_answers','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมดเวลาสำหรับข้อนี้!','/public/data/projects/','neq','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','parts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','Error\x20deleting\x20all\x20students:','\x20สำเร็จ','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','mouseleave','content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','dfrac','next-drill-btn','instructions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[role=\x22textbox\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','student-rankings-modal','text-green-600','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','การแยกตัวประกอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','Error\x20adding\x20students:','กำลังสร้างรูปภาพ...','Error\x20deleting\x20project:','answer','Error\x20saving\x20questions\x20to\x20practice\x20bank:','repeat','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','findIndex','export-excel-btn','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STOP','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','then','hover:bg-indigo-100','projectId','global-quiz-list','lesson-plan-modal','correctAnswer','Error\x20resetting\x20project\x20order:','class','#FEF3C7','leaderboard-table-body','quiz-bank-modal','Failed\x20to\x20get\x20hint:','startTime','tfrac','slice','bg-purple-50','frac','$1\x5ctext{','options','quiz-end-time','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','แบบทดสอบนี้ปิดใช้งานอยู่','grid','\x20ชุด)','วงกลม:\x20สมการและสมบัติ','[data-is-correct=\x22true\x22]','join-live-game-btn','next-live-question-btn','answer-counter','bg-green-200\x20text-green-800','บันทึกแบบทดสอบสำเร็จแล้ว!','interesting-stats-container','total','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','quiz-id-input','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','ฟังก์ชันยกกำลัง','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','input[type=\x22checkbox\x22]:checked','\x22\x20class=\x22color-palette-btn\x20','ความคล้ายของรูป','modal-close-btn','Error\x20fetching\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ปัจจุบัน:\x20','querySelectorAll','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-custom-math-topic-btn','มัธยฐาน','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','export-lesson-pdf-btn','submittedAt','flex','/studentProfiles','bg-green-100\x20text-green-800','blueprint-input-area','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','bg-green-50','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','min','execCommand','circ','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','{$1}','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','addEventListener','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','loop-until-pass-checkbox','lastAnswerCorrect','พื้นที่ผิวรูปทรงสามมิติ','เศษส่วน\x20(ย่อ/ขยาย)','student','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','\x22\x20data-q-type=\x22','viewBox','docs','สร้างคำถามใหม่\x201\x20ข้อ\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x22\x20class=\x22delete-project-btn\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','จัดการ','(ก่อนเรียน)\x20','isCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','add','arrayBuffer','ดอกเบี้ยอย่างง่าย','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','passcode-input-container','imageCode','หลังเรียน','nickname-input','โดเมนและเรนจ์','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(ก่อนเรียน)','#view-rankings-btn','option','เกิดข้อผิดพลาดในการติดดาว','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdAt','text-tab','คัดลอกแบบทดสอบสำเร็จ','ค่าความจริง/ตารางค่าความจริง','max','set','ปริพันธ์ไม่จำกัด','.pointsLastQuestion','สลับไปโหมดนักเรียน','\x20คน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>วิเคราะห์โดยเทียบผลกับข้อสอบก่อนเรียน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tGain','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','save-settings-btn','#student-project-leaderboard-content\x20thead','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20toggling\x20pin\x20status:','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','correctResponse','<i\x20class=\x22fas\x20fa-pen\x22></i>','เมทริกซ์:\x20บวก/คูณ','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','touchend','cancel-quiz-edits-btn','q-image-container-','.csv','font-bold','comeback_king','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','matching_item','next-question-btn','Error\x20updating\x20custom\x20topic:','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','ย้าย','replace','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','numPages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','rename-quiz-modal','text-yellow-500','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.presentation-option','button[data-id]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','quiz-editor-modal','text-green-600\x20font-bold','webkitRequestFullscreen','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onchange','สมการยกกำลัง','$1_{$2}','ความแปรปรวน','ลิมิต','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','localeCompare','question-complexity-select','msRequestFullscreen','results-display-select','project-search-input','width','</form>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','presentation-ai-result','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','Failed\x20to\x20parse\x20JSON\x20from\x20AI','link-url-input','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</option>','block','เกิดข้อผิดพลาดในการบันทึก','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','manual_release','inactive','Error\x20duplicating\x20quiz:','%\x20จากนักเรียนกลุ่มเสี่ยง\x20','reset-project-order-btn','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','คำตอบถูกต้อง!\x20+','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','position','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','quiz','status','leaderboard-quiz-tab-btn','empty','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','results-quiz-title','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','file-tab','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','indexOf','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','#DBEAFE','mousemove','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x5cs*\x5c(','<li>','ring-purple-400','input[name=\x22question_single\x22]:checked','project-passcode-modal','.topic-actions-view','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','clientX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20','\x22\x20data-topic=\x22','blueprint-upload-input','Authentication\x20failed:','.parallel-quiz-btn','createElement','border-green-300\x20bg-green-50','rename-quiz-input','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','fa-fire\x20text-orange-500','close-presentation-btn','บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','ความคาดหมาย\x20(Expected\x20value)','string','\x5ctimes','ฟังก์ชันเชิงเส้นและกราฟ','latestSubmittedAt','กรุณาใส่ชื่อนักเรียน','tan','ไม่พบข้อมูลผู้ใช้','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','auto','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','ดีเทอร์มิแนนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20','สร้างโปรเจคสำเร็จ!','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','answers',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','cancel-quiz-edits-btn-footer','leaderboard-quiz-tab-content','ผู้ไม่ยอมแพ้','open-global-live-btn','.quiz-settings-btn','admin-view','text-green-700','quiz-status-options','610210dprBch'];_0x4a9d=function(){return _0x256fce;};return _0x4a9d();}function handleDeselectAllTopics(){const _0xea3ac6=_0x31a0a6,_0x52ab3b=document[_0xea3ac6(0x75f)]('math-topics-checkbox-container'),_0x5cd0a1=_0x52ab3b['querySelectorAll'](_0xea3ac6(0x184));_0x5cd0a1[_0xea3ac6(0x748)](_0x3cf76c=>{_0x3cf76c['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0xc53717){const _0x3d7616=_0x31a0a6;if(!_0xc53717)return;try{const _0x252362=doc(db,_0x3d7616(0x678)+appId+_0x3d7616(0x200),_0xc53717);await deleteDoc(_0x252362),showMessage(_0x3d7616(0x520));}catch(_0x3ef1f4){console['error'](_0x3d7616(0x378),_0x3ef1f4),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x5c4f1e=_0x31a0a6,_0x343207=document[_0x5c4f1e(0x75f)](_0x5c4f1e(0x313)),_0x516144=_0x343207['value']['trim']();if(!_0x516144){showMessage(_0x5c4f1e(0x59f));return;}if(!userId){showMessage(_0x5c4f1e(0x792));return;}try{const _0x497cf7=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');await addDoc(_0x497cf7,{'name':_0x516144,'createdAt':serverTimestamp()}),_0x343207[_0x5c4f1e(0x3a5)]='',showMessage(_0x5c4f1e(0x1dd)+_0x516144+_0x5c4f1e(0x437));}catch(_0x5b8e56){console[_0x5c4f1e(0x382)](_0x5c4f1e(0x45e),_0x5b8e56),showMessage(_0x5c4f1e(0x5bb));}}async function initialize(){const _0x22a458=_0x31a0a6;try{const _0x22993c=initializeApp(firebaseConfig);db=getFirestore(_0x22993c),auth=getAuth(_0x22993c),setupAuthListener(),setupEventListeners(),showView(_0x22a458(0x676)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x22c95b){console['error']('Firebase\x20initialization\x20failed:',_0x22c95b),showMessage(_0x22a458(0x331));}}function compareNumericalAnswers(_0x12b42b,_0x16956c){const _0x15fd72=_0x31a0a6,_0x948a3e=String(_0x12b42b)[_0x15fd72(0x6c1)](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x149938=String(_0x16956c)[_0x15fd72(0x6c1)](',','.')[_0x15fd72(0x6c1)](/[^\d.-]/g,'')[_0x15fd72(0x74d)]();if(_0x948a3e===''||_0x149938==='')return![];const _0x39bc08=parseFloat(_0x948a3e),_0x136e5b=parseFloat(_0x149938);if(isNaN(_0x39bc08)||isNaN(_0x136e5b))return![];return Math['abs'](_0x39bc08-_0x136e5b)<0.001;}async function gradeShortAnswer(_0x5c4e9b,_0x1fccf3){const _0x53386c=_0x31a0a6,_0x30d5ba=_0x1fccf3[_0x53386c(0x590)];if(String(_0x5c4e9b)['trim']()[_0x53386c(0x57d)]()===String(_0x30d5ba)[_0x53386c(0x74d)]()[_0x53386c(0x57d)]())return!![];if(compareNumericalAnswers(_0x5c4e9b,_0x30d5ba))return!![];return console[_0x53386c(0x795)](_0x53386c(0x42a)),await gradeShortAnswerWithAI(_0x5c4e9b,_0x30d5ba);}async function revealAnswerForAdmin(_0x369ae2,_0x5d48d3){const _0x4f665c=_0x31a0a6;if(document['getElementById'](_0x4f665c(0x642)))return;const _0x288bb7=doc(db,_0x4f665c(0x678)+appId+_0x4f665c(0x286),currentLiveGameId);await updateDoc(_0x288bb7,{'questionStatus':_0x4f665c(0x1fb)});const _0x535ad8=liveGameView[_0x4f665c(0x440)](_0x4f665c(0x640));_0x535ad8&&(_0x535ad8[_0x4f665c(0x4ba)][_0x4f665c(0x4c3)](_0x4f665c(0x3fc)),_0x535ad8[_0x4f665c(0x4ba)][_0x4f665c(0x688)](_0x4f665c(0x2c1),'text-green-900',_0x4f665c(0x6b9),_0x4f665c(0xbf),_0x4f665c(0x110)),_0x535ad8[_0x4f665c(0x4ca)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x535ad8[_0x4f665c(0x4ca)]);const _0x49723d=document[_0x4f665c(0x75f)](_0x4f665c(0x3b5));_0x49723d&&(_0x49723d['innerHTML']=_0x4f665c(0x528)+(_0x369ae2+0x1===_0x5d48d3?_0x4f665c(0x22b):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x4f665c(0x642))[_0x4f665c(0x670)](_0x4f665c(0xce),async()=>{const _0x529942=_0x4f665c,_0x3c3132=doc(db,_0x529942(0x678)+appId+_0x529942(0x286),currentLiveGameId),_0x4f3f34=await getDoc(_0x3c3132);if(!_0x4f3f34[_0x529942(0x1a9)]())return;const _0x5e81c3=_0x4f3f34[_0x529942(0xa7)](),_0x491e78={};if(_0x5e81c3['players'])for(const _0x38012a in _0x5e81c3[_0x529942(0x3d7)]){_0x491e78[_0x529942(0x5c9)+_0x38012a+'.answeredCurrentQuestion']=![];}const _0x5a0f4f=_0x369ae2+0x1;_0x5a0f4f<_0x5d48d3?(_0x491e78[_0x529942(0x40f)]=_0x5a0f4f,_0x491e78[_0x529942(0x3a6)]=serverTimestamp(),_0x491e78['questionStatus']=_0x529942(0xa9),await updateDoc(_0x3c3132,_0x491e78)):await updateDoc(_0x3c3132,{'status':_0x529942(0x4ad)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x57dd3a=>{const _0x2206fa=_0x2770;if(_0x57dd3a){userId=_0x57dd3a[_0x2206fa(0x2f9)],userIdDisplay[_0x2206fa(0x4e9)]=userId;const _0x503a0e=await loadUserPreferences();_0x503a0e[_0x2206fa(0x160)]&&(document[_0x2206fa(0x75f)](_0x2206fa(0xac))[_0x2206fa(0x3a5)]=_0x503a0e[_0x2206fa(0x160)]);globalDashboardSettings['projectView']=_0x503a0e[_0x2206fa(0x50e)]||_0x2206fa(0x63d);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0xb2108c,_0x4cdcb9){const _0x436662=_0x31a0a6;if(!userId)return;try{const _0x5b7c21=doc(db,_0x436662(0x678)+appId+'/users/'+userId+_0x436662(0x361)),_0x2975eb={};_0x2975eb[_0xb2108c]=_0x4cdcb9,await setDoc(_0x5b7c21,_0x2975eb,{'merge':!![]});}catch(_0x1a43a1){console[_0x436662(0x382)](_0x436662(0x193),_0x1a43a1);}}async function loadUserPreferences(){const _0x2d85de=_0x31a0a6;if(!userId)return{};try{const _0xf83b2=doc(db,'artifacts/'+appId+'/users/'+userId+_0x2d85de(0x361)),_0x2463c7=await getDoc(_0xf83b2);if(_0x2463c7['exists']())return _0x2463c7[_0x2d85de(0xa7)]();return{};}catch(_0x5b4415){return console[_0x2d85de(0x382)](_0x2d85de(0x58c),_0x5b4415),{};}}function showPodiumView(_0x3f9254){const _0x364aaa=_0x31a0a6,_0x3c1f91=Object[_0x364aaa(0x3da)](_0x3f9254)[_0x364aaa(0x182)](([_0x2f2ad4,_0xc9dbb2])=>({'name':_0x2f2ad4,'score':_0xc9dbb2[_0x364aaa(0x368)]||0x0,'badges':_0xc9dbb2[_0x364aaa(0x558)]||[]}));_0x3c1f91['sort']((_0x2ad0d4,_0x2b2a7e)=>{const _0x91caea=_0x364aaa,_0x51c78f=_0x2b2a7e[_0x91caea(0x368)]-_0x2ad0d4[_0x91caea(0x368)];if(_0x51c78f!==0x0)return _0x51c78f;return(_0x2b2a7e[_0x91caea(0x558)][_0x91caea(0x299)]||0x0)-(_0x2ad0d4[_0x91caea(0x558)][_0x91caea(0x299)]||0x0);});const _0x38c49a=_0x47f2cf=>{const _0x27a5f2=_0x364aaa;if(!_0x47f2cf||_0x47f2cf[_0x27a5f2(0x299)]===0x0)return'';const _0xc2adc5={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x47f2cf['map'](_0x48c6aa=>_0xc2adc5[_0x48c6aa]||'')[_0x27a5f2(0x7df)]('')+_0x27a5f2(0xdc);},_0x5f4b65=_0x3c1f91[_0x364aaa(0x634)](0x3),_0x2df81c=_0x5f4b65[_0x364aaa(0x299)]>0x0?_0x364aaa(0x724)+_0x5f4b65['map']((_0x1792c8,_0xbe2287)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0xbe2287+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1792c8[_0x364aaa(0x248)]+_0x364aaa(0x6cb)+_0x1792c8[_0x364aaa(0x368)]+_0x364aaa(0x3e5))[_0x364aaa(0x7df)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x4b5779='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3c1f91[0x1]?_0x364aaa(0x37a)+_0x3c1f91[0x1]['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38c49a(_0x3c1f91[0x1][_0x364aaa(0x558)])+_0x364aaa(0x47d)+_0x3c1f91[0x1][_0x364aaa(0x368)]+_0x364aaa(0x187):_0x364aaa(0x5a8))+_0x364aaa(0x19a)+(_0x3c1f91[0x0]?_0x364aaa(0x112)+_0x3c1f91[0x0]['name']+_0x364aaa(0x5e2)+_0x38c49a(_0x3c1f91[0x0]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x3c1f91[0x0][_0x364aaa(0x368)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+_0x364aaa(0x19a)+(_0x3c1f91[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x3c1f91[0x2][_0x364aaa(0x248)]+_0x364aaa(0x5e2)+_0x38c49a(_0x3c1f91[0x2][_0x364aaa(0x558)])+_0x364aaa(0x47d)+_0x3c1f91[0x2]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x364aaa(0x5a8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2df81c+_0x364aaa(0xea)+(currentMode==='admin'?_0x364aaa(0xab):_0x364aaa(0x524))+_0x364aaa(0x50a);liveGameView[_0x364aaa(0x4ca)]=_0x4b5779,currentMode===_0x364aaa(0x33c)&&document['getElementById']('close-game-final-btn')[_0x364aaa(0x670)](_0x364aaa(0xce),async()=>{const _0x297b4f=_0x364aaa,_0x3112c3=doc(db,_0x297b4f(0x678)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x3112c3),showView(_0x297b4f(0x474));});}async function handleStartLiveRace(_0x4704af){const _0x174ca8=_0x31a0a6;let _0x33fc69=allQuizzes[_0x174ca8(0x1fc)](_0x5b7e1a=>_0x5b7e1a['id']===_0x4704af);if(!_0x33fc69){const _0x44be12=doc(db,_0x174ca8(0x678)+appId+_0x174ca8(0x132),_0x4704af),_0x1db51b=await getDoc(_0x44be12);if(!_0x1db51b[_0x174ca8(0x1a9)]()){showMessage(_0x174ca8(0x5a7));return;}_0x33fc69={'id':_0x1db51b['id'],..._0x1db51b['data']()};}currentQuizData=getShuffledQuiz(_0x33fc69);const _0x5cda6a=_0x33fc69['projectId']||currentProjectId||null,_0x1735fe=Math['floor'](0x3e8+Math[_0x174ca8(0x7f4)]()*0x2328)[_0x174ca8(0x798)]();currentLiveGamePin=_0x1735fe;try{const _0x38e1aa=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x4704af,'projectId':_0x5cda6a,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1735fe,'createdAt':serverTimestamp()});currentLiveGameId=_0x38e1aa['id'],showAdminLobbyView(_0x1735fe,_0x33fc69[_0x174ca8(0x151)]),listenForLiveGameUpdates();}catch(_0x4254ba){console[_0x174ca8(0x382)](_0x174ca8(0x7f3),_0x4254ba),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x2e0c1c=_0x31a0a6,_0x22c96c=document[_0x2e0c1c(0x440)](_0x2e0c1c(0x1ad));_0x22c96c&&(_0x22c96c['innerHTML']=_0x2e0c1c(0x6fc));const _0x25d137=document[_0x2e0c1c(0x440)](_0x2e0c1c(0x6a7));_0x25d137&&(_0x25d137['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x5a479e=document[_0x2e0c1c(0x75f)](_0x2e0c1c(0x614));_0x5a479e[_0x2e0c1c(0x4ba)][_0x2e0c1c(0x4c3)](_0x2e0c1c(0x199)),document[_0x2e0c1c(0x75f)]('close-student-rankings-btn')['onclick']=()=>_0x5a479e['classList'][_0x2e0c1c(0x688)]('hidden');const _0x22641e=document[_0x2e0c1c(0x75f)](_0x2e0c1c(0x315)),_0x4ec6b6=document['getElementById']('student-project-leaderboard-tab'),_0x472354=document[_0x2e0c1c(0x75f)](_0x2e0c1c(0x372)),_0x4e1f20=document[_0x2e0c1c(0x75f)](_0x2e0c1c(0x389));_0x22641e[_0x2e0c1c(0x266)]=()=>{const _0x4a1779=_0x2e0c1c;_0x22641e[_0x4a1779(0x4ba)][_0x4a1779(0x688)](_0x4a1779(0x2ea)),_0x4ec6b6['classList'][_0x4a1779(0x4c3)](_0x4a1779(0x2ea)),_0x472354['classList'][_0x4a1779(0x4c3)]('hidden'),_0x4e1f20['classList']['add'](_0x4a1779(0x199));},_0x4ec6b6[_0x2e0c1c(0x266)]=()=>{const _0x1acf47=_0x2e0c1c;_0x4ec6b6[_0x1acf47(0x4ba)][_0x1acf47(0x688)](_0x1acf47(0x2ea)),_0x22641e[_0x1acf47(0x4ba)]['remove'](_0x1acf47(0x2ea)),_0x4e1f20[_0x1acf47(0x4ba)][_0x1acf47(0x4c3)](_0x1acf47(0x199)),_0x472354[_0x1acf47(0x4ba)][_0x1acf47(0x688)]('hidden');};try{const _0x4c4d29=collection(db,_0x2e0c1c(0x678)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x8a807e=await getDocs(_0x4c4d29),_0x4a7602=_0x8a807e[_0x2e0c1c(0x67b)][_0x2e0c1c(0x182)](_0x36c642=>_0x36c642[_0x2e0c1c(0xa7)]());renderQuizLeaderboard(_0x4a7602,currentQuizData,_0x2e0c1c(0x39e));const _0x359a30=collection(db,_0x2e0c1c(0x678)+appId+_0x2e0c1c(0x5ff)+currentQuizData['projectId']+_0x2e0c1c(0x660)),_0x40266d=await getDocs(_0x359a30),_0x18e881=_0x40266d['docs'][_0x2e0c1c(0x182)](_0x45c008=>_0x45c008['data']());renderLeaderboard(_0x18e881,'student-project-leaderboard-table-body');}catch(_0x50b78a){console[_0x2e0c1c(0x382)]('Error\x20fetching\x20student\x20rankings:',_0x50b78a),showMessage(_0x2e0c1c(0x7e3));}}async function handleSaveToBank(_0x262373){const _0x3bfd0e=_0x31a0a6,_0x293b80=_0x262373[_0x3bfd0e(0x3ee)],_0x11e918=_0x293b80[_0x3bfd0e(0x384)][_0x3bfd0e(0x10e)],_0x1049d4=currentQuizData[_0x3bfd0e(0x3a0)][_0x11e918];if(!userId){showMessage(_0x3bfd0e(0x72d));return;}try{const _0x206c40={..._0x1049d4,'originalTopic':currentQuizData[_0x3bfd0e(0x151)],'savedAt':serverTimestamp()},_0x27aad5=collection(db,'artifacts/'+appId+'/users/'+userId+'/questionBank');await addDoc(_0x27aad5,_0x206c40),showMessage(_0x3bfd0e(0x2aa)),_0x293b80[_0x3bfd0e(0x4ba)][_0x3bfd0e(0x4c3)](_0x3bfd0e(0x7a6)),_0x293b80[_0x3bfd0e(0x4ba)][_0x3bfd0e(0x688)](_0x3bfd0e(0x615)),_0x293b80[_0x3bfd0e(0x108)]=!![];}catch(_0x4873b9){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0x4873b9),showMessage(_0x3bfd0e(0x6ef));}}function listenForStarredQuizzes(){const _0x5a7b0a=_0x31a0a6;if(!userId)return;const _0xaa0f39=collection(db,_0x5a7b0a(0x678)+appId+_0x5a7b0a(0x132)),_0x2e9d11=query(_0xaa0f39,where(_0x5a7b0a(0x3f1),'==',!![]));onSnapshot(_0x2e9d11,_0x1357a6=>{const _0x271a53=_0x5a7b0a;starredQuizzes=_0x1357a6[_0x271a53(0x67b)][_0x271a53(0x182)](_0x1940ae=>({'id':_0x1940ae['id'],..._0x1940ae['data']()})),currentProjectId===_0x271a53(0x800)?renderQuizzes():renderProjects();},_0x1d157a=>{const _0x4aa23a=_0x5a7b0a;console['error'](_0x4aa23a(0x220),_0x1d157a);});}function exportQuizAsWorksheetPDF(){const _0x52649e=_0x31a0a6;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x52649e(0x26b));return;}const _0x505f22=currentQuizData,_0x3d85a6=window[_0x52649e(0x340)]('',_0x52649e(0x4a1)),_0x2bcf41=_0x52545c=>String[_0x52649e(0x78e)](0x41+_0x52545c),_0xdb6605='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x505f22[_0x52649e(0x151)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x505f22[_0x52649e(0x151)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x505f22[_0x52649e(0x3a0)]['map']((_0x2da59b,_0x399f3f)=>{const _0xe218a1=_0x52649e;let _0x39655f='';const _0x1a9e54=_0x2da59b[_0xe218a1(0x561)]||_0x505f22[_0xe218a1(0x1f6)];switch(_0x1a9e54){case _0xe218a1(0xff):case'fill_in_with_choices':_0x39655f=_0xe218a1(0x4fe)+_0x2da59b['options']['map']((_0x612c4c,_0x7debd5)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2bcf41(_0x7debd5)+'.\x20'+_0x612c4c+_0xe218a1(0x5c4))[_0xe218a1(0x7df)](_0xe218a1(0x582))+'</div>';break;case _0xe218a1(0x5cc):_0x39655f=_0xe218a1(0x303);break;default:_0x39655f=_0xe218a1(0x343);break;}return _0xe218a1(0x66c)+(_0x399f3f+0x1)+_0xe218a1(0x534)+(_0x2da59b[_0xe218a1(0x31a)]||_0x2da59b[_0xe218a1(0x149)])+_0xe218a1(0x366)+(_0x2da59b['imageCode']?_0xe218a1(0x78c)+_0x2da59b[_0xe218a1(0x68d)]+_0xe218a1(0xdc):'')+_0xe218a1(0x2ef)+_0x39655f+_0xe218a1(0x1ee);})[_0x52649e(0x7df)]('')+_0x52649e(0x48a);_0x3d85a6[_0x52649e(0x38d)]['write'](_0xdb6605),_0x3d85a6[_0x52649e(0x38d)][_0x52649e(0x3be)](),_0x3d85a6[_0x52649e(0x203)]=function(){setTimeout(()=>{_0x3d85a6['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1495fc=_0x31a0a6;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x1495fc(0x26b));return;}const _0x465186=currentQuizData,_0x39eb66=window['open']('',_0x1495fc(0x4a1)),_0x406adc=_0x2dc001=>String[_0x1495fc(0x78e)](0x41+_0x2dc001),_0x45b57b=_0x1495fc(0x5a9)+_0x465186[_0x1495fc(0x151)]+_0x1495fc(0x1e5)+_0x465186[_0x1495fc(0x3a0)][_0x1495fc(0x182)]((_0x4a829d,_0x2f78a0)=>{const _0x4ea4fa=_0x1495fc;let _0x4acd3d='';const _0x55246f=_0x4a829d[_0x4ea4fa(0x561)]||_0x465186[_0x4ea4fa(0x1f6)];switch(_0x55246f){case'multiple_choice':case _0x4ea4fa(0x5b3):_0x4acd3d='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x4a829d['options'][_0x4ea4fa(0x182)]((_0x51c149,_0x227dbd)=>_0x4ea4fa(0x135)+_0x406adc(_0x227dbd)+'.\x20'+_0x51c149+'</span>')[_0x4ea4fa(0x7df)]('<br>')+_0x4ea4fa(0x770);break;case _0x4ea4fa(0x5cc):_0x4acd3d=_0x4ea4fa(0x7c5);break;default:_0x4acd3d='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x465186['topic']+_0x4ea4fa(0x7ea)+(_0x2f78a0+0x1)+_0x4ea4fa(0x7cb)+(_0x4a829d['stem']||_0x4a829d[_0x4ea4fa(0x149)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4a829d[_0x4ea4fa(0x68d)]?_0x4ea4fa(0x386)+_0x4a829d[_0x4ea4fa(0x68d)]+_0x4ea4fa(0xdc):'')+_0x4ea4fa(0x2ef)+_0x4acd3d+_0x4ea4fa(0x4bb);})[_0x1495fc(0x7df)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x39eb66[_0x1495fc(0x38d)]['write'](_0x45b57b),_0x39eb66[_0x1495fc(0x38d)]['close'](),_0x39eb66[_0x1495fc(0x203)]=function(){setTimeout(()=>{const _0x44ca99=_0x2770;_0x39eb66[_0x44ca99(0x258)]();},0x5dc);};}async function handleToggleStarQuiz(_0x293e47){const _0x3279ac=_0x31a0a6,_0x1f916e=doc(db,_0x3279ac(0x678)+appId+_0x3279ac(0x132),_0x293e47);try{const _0x54b4e6=await getDoc(_0x1f916e);if(_0x54b4e6['exists']()){const _0x1e9675=_0x54b4e6[_0x3279ac(0xa7)]()[_0x3279ac(0x3f1)]||![];await updateDoc(_0x1f916e,{'isStarred':!_0x1e9675});}}catch(_0x67fd9a){console[_0x3279ac(0x382)](_0x3279ac(0x4f5),_0x67fd9a),showMessage(_0x3279ac(0x697));}}async function displayQuestionBank(){const _0x419045=_0x31a0a6,_0x2d310c=document['getElementById']('bank-input-area');_0x2d310c['innerHTML']=_0x419045(0x2cf);try{const _0x53a869=collection(db,_0x419045(0x678)+appId+'/users/'+userId+_0x419045(0x7cf)),_0x57d1bc=query(_0x53a869),_0x216297=await getDocs(_0x57d1bc);if(_0x216297['empty']){_0x2d310c[_0x419045(0x4ca)]=_0x419045(0x385);return;}let _0x3da18f=_0x216297[_0x419045(0x67b)][_0x419045(0x182)](_0x586b37=>{const _0x1c5f51=_0x419045,_0x451f3f=_0x586b37['data'](),_0x4dc640=_0x586b37['id'];return _0x1c5f51(0x29f)+JSON['stringify'](_0x451f3f)+_0x1c5f51(0x6aa)+(_0x451f3f[_0x1c5f51(0x149)]||_0x451f3f[_0x1c5f51(0x31a)])+_0x1c5f51(0x775)+_0x451f3f[_0x1c5f51(0x5bc)]+_0x1c5f51(0x6ce);})[_0x419045(0x7df)]('');_0x2d310c['innerHTML']=_0x419045(0x685)+_0x3da18f+_0x419045(0x2e2),document['getElementById'](_0x419045(0xbb))[_0x419045(0x670)](_0x419045(0xce),createQuizFromBank);}catch(_0x49ebd8){console['error'](_0x419045(0x8f),_0x49ebd8),_0x2d310c['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x5666f3,_0xe9fcba,_0x320490){const _0x2bc78f=_0x31a0a6,_0x1ce759=_0x5666f3['questionType']||currentQuizData[_0x2bc78f(0x1f6)];let _0x1baff7='';if(_0x1ce759===_0x2bc78f(0xff)||_0x1ce759===_0x2bc78f(0x5cc)){const _0xb86f8c=_0x1ce759==='true_false'?[_0x2bc78f(0x37b),'ไม่ใช่']:_0x5666f3[_0x2bc78f(0x638)],_0x5d6461=_0x1ce759==='true_false'?_0x5666f3['correctAnswer']?0x0:0x1:_0x5666f3['correctAnswerIndex'];_0x1baff7=_0xb86f8c[_0x2bc78f(0x182)]((_0x2ee8b0,_0x325fc6)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x325fc6===_0x5d6461)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ee8b0+_0x2bc78f(0xd1))[_0x2bc78f(0x7df)]('');}else{if(_0x1ce759===_0x2bc78f(0x6bc)){const _0x276afa=_0x5666f3['allResponses']||[];_0x1baff7=_0x276afa[_0x2bc78f(0x182)](_0x46de9e=>_0x2bc78f(0x2d8)+(_0x46de9e===_0x5666f3[_0x2bc78f(0x6ad)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46de9e+_0x2bc78f(0xd1))['join']('');}}const _0x5a90db=_0x5666f3[_0x2bc78f(0x31a)]||_0x5666f3[_0x2bc78f(0x149)],_0x111112=_0x2bc78f(0x2e8)+(_0xe9fcba+0x1)+'\x20/\x20'+_0x320490+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x5a90db+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1baff7+_0x2bc78f(0x3b7);liveGameView[_0x2bc78f(0x4ca)]=_0x111112;window['MathJax']&&MathJax[_0x2bc78f(0x3d6)]&&MathJax[_0x2bc78f(0x3d6)]([liveGameView]);const _0x122935=document[_0x2bc78f(0x75f)](_0x2bc78f(0x3b5));document[_0x2bc78f(0x75f)](_0x2bc78f(0x410))[_0x2bc78f(0x670)]('click',async()=>{const _0x572de0=_0x2bc78f,_0x50720d=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x50720d,{'questionStatus':_0x572de0(0x1fb)});const _0x4f4ddd=liveGameView['querySelector'](_0x572de0(0x640));_0x4f4ddd&&(_0x4f4ddd[_0x572de0(0x4ba)]['remove'](_0x572de0(0x3fc)),_0x4f4ddd[_0x572de0(0x4ba)]['add'](_0x572de0(0x2c1),_0x572de0(0x28a),'font-bold',_0x572de0(0xbf),'border-green-500'),_0x4f4ddd['innerHTML']=_0x572de0(0x247)+_0x4f4ddd[_0x572de0(0x4ca)]),_0x122935[_0x572de0(0x4ca)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xe9fcba+0x1===_0x320490?_0x572de0(0x22b):_0x572de0(0x7da))+_0x572de0(0x1df),document[_0x572de0(0x75f)]('next-live-question-btn')[_0x572de0(0x670)]('click',async()=>{const _0x565b26=_0x572de0,_0x46ef07=doc(db,_0x565b26(0x678)+appId+'/public/data/liveGames',currentLiveGameId),_0xbd4fff=await getDoc(_0x46ef07);if(!_0xbd4fff['exists']())return;const _0x53b3c1=_0xbd4fff[_0x565b26(0xa7)](),_0x31fe2c={};if(_0x53b3c1['players'])for(const _0x52ec44 in _0x53b3c1['players']){_0x31fe2c[_0x565b26(0x5c9)+_0x52ec44+_0x565b26(0x587)]=![];}const _0x1d3ff9=_0xe9fcba+0x1;_0x1d3ff9<_0x320490?(_0x31fe2c[_0x565b26(0x40f)]=_0x1d3ff9,_0x31fe2c[_0x565b26(0x3a6)]=serverTimestamp(),_0x31fe2c['questionStatus']='answering',await updateDoc(_0x46ef07,_0x31fe2c)):await updateDoc(_0x46ef07,{'status':_0x565b26(0x4ad)});});}),document[_0x2bc78f(0x75f)](_0x2bc78f(0x4a0))[_0x2bc78f(0x670)](_0x2bc78f(0xce),async()=>{const _0x4926b2=_0x2bc78f,_0x53b989=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x53b989),showView(_0x4926b2(0x474));});}function showStudentLiveQuestionView(_0x4f4f04,_0x5498b0,_0x267cd8){const _0x540ecb=_0x31a0a6,_0x56f8a3=_0x4f4f04[_0x540ecb(0x561)]||currentQuizData[_0x540ecb(0x1f6)];let _0x46512f='';if(_0x56f8a3==='multiple_choice'||_0x56f8a3===_0x540ecb(0x5cc)){const _0x147905=_0x56f8a3===_0x540ecb(0x5cc)?[_0x540ecb(0x37b),_0x540ecb(0x2c7)]:_0x4f4f04[_0x540ecb(0x638)];_0x46512f=_0x147905[_0x540ecb(0x182)]((_0x2fb22d,_0x1fbae0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1fbae0+_0x540ecb(0x76a)+_0x2fb22d+_0x540ecb(0x48c))['join']('');}else{if(_0x56f8a3==='matching_item'){const _0x2a3f73=_0x4f4f04['allResponses']||[];_0x46512f=_0x2a3f73[_0x540ecb(0x182)]((_0x359d10,_0x16cbc6)=>_0x540ecb(0x4e4)+_0x16cbc6+_0x540ecb(0x76a)+_0x359d10+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x540ecb(0x7df)]('');}else _0x56f8a3===_0x540ecb(0xa5)&&(_0x46512f=_0x540ecb(0x5e4));}const _0x18e244=_0x4f4f04[_0x540ecb(0x31a)]||_0x4f4f04[_0x540ecb(0x149)],_0x36d4c4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x5498b0+0x1)+_0x540ecb(0xe0)+_0x267cd8+_0x540ecb(0x3ab)+_0x18e244+_0x540ecb(0x156)+_0x46512f+_0x540ecb(0x417);liveGameView[_0x540ecb(0x4ca)]=_0x36d4c4;window['MathJax']&&MathJax[_0x540ecb(0x3d6)]&&MathJax[_0x540ecb(0x3d6)]([liveGameView]);const _0x37a0ac=document[_0x540ecb(0x75f)]('live-submit-short-answer-btn');_0x37a0ac&&_0x37a0ac[_0x540ecb(0x670)](_0x540ecb(0xce),()=>{const _0x3aa7d1=_0x540ecb,_0x7fd37e=document[_0x3aa7d1(0x75f)](_0x3aa7d1(0x369))[_0x3aa7d1(0x3a5)];handleLiveAnswer(_0x7fd37e,_0x4f4f04);}),document['getElementById'](_0x540ecb(0x734))['addEventListener'](_0x540ecb(0xce),_0x4094dd=>{const _0x1fc94d=_0x540ecb,_0x267cae=_0x4094dd['target'][_0x1fc94d(0x753)](_0x1fc94d(0x24d));if(_0x267cae){const _0x262c34=parseInt(_0x267cae[_0x1fc94d(0x384)]['index']);handleLiveAnswer(_0x262c34,_0x4f4f04);}});}async function handleLiveAnswer(_0x55f9d0,_0xbf0a4d){const _0x3c3f05=_0x31a0a6;document['querySelectorAll'](_0x3c3f05(0x5e7))[_0x3c3f05(0x748)](_0x4f7ece=>_0x4f7ece[_0x3c3f05(0x108)]=!![]);const _0x1acbea=_0xbf0a4d[_0x3c3f05(0x561)]||currentQuizData[_0x3c3f05(0x1f6)];let _0x1319c3=![];if(_0x1acbea===_0x3c3f05(0xa5)){const _0x43d73d=(_0x55f9d0||'')[_0x3c3f05(0x798)]();_0x1319c3=await gradeShortAnswer(_0x43d73d,_0xbf0a4d);}else{if(_0x1acbea===_0x3c3f05(0xff))_0x1319c3=_0x55f9d0===_0xbf0a4d[_0x3c3f05(0x18c)];else{if(_0x1acbea===_0x3c3f05(0x5cc)){const _0x4b35e5=_0xbf0a4d[_0x3c3f05(0x62b)];_0x1319c3=_0x55f9d0===0x0&&_0x4b35e5||_0x55f9d0===0x1&&!_0x4b35e5;}else{if(_0x1acbea===_0x3c3f05(0x6bc)){const _0x49f852=_0xbf0a4d[_0x3c3f05(0x113)][_0x55f9d0];_0x1319c3=_0x49f852===_0xbf0a4d[_0x3c3f05(0x6ad)];}}}}const _0x475e2a=doc(db,_0x3c3f05(0x678)+appId+_0x3c3f05(0x286),currentLiveGameId),_0x2898df=await getDoc(_0x475e2a);if(!_0x2898df[_0x3c3f05(0x1a9)]())return;const _0x4863d8=_0x2898df['data'](),_0x4cbb2a=_0x4863d8[_0x3c3f05(0x3d7)][currentStudentName];let _0xa797d0=_0x4cbb2a['badges']||[],_0x2905d3=_0x4cbb2a[_0x3c3f05(0x10b)]||0x0;const _0x11f01b={};let _0x28c111=0x0;if(_0x4863d8[_0x3c3f05(0x3a6)]){const _0x35021b=_0x4863d8[_0x3c3f05(0x3a6)][_0x3c3f05(0x785)](),_0x17bd6b=new Date()-_0x35021b;if(_0x1319c3){const _0xe02795=0x3e8,_0x57b7db=0x1f4,_0x38c1cc=0x4e20;let _0x395bf3=_0x17bd6b/_0x38c1cc;if(_0x395bf3>0x1)_0x395bf3=0x1;const _0x20570d=Math[_0x3c3f05(0x2bd)](_0x395bf3*_0x57b7db);_0x28c111=_0xe02795-_0x20570d,_0x17bd6b<=0x1388&&!_0xa797d0[_0x3c3f05(0x10c)]('quick_thinker')&&_0xa797d0[_0x3c3f05(0x2b0)](_0x3c3f05(0x562));}}_0x1319c3?(_0x2905d3++,_0x2905d3===0x3&&!_0xa797d0['includes'](_0x3c3f05(0x125))&&(_0xa797d0[_0x3c3f05(0x2b0)](_0x3c3f05(0x125)),_0x2905d3=0x0)):_0x2905d3=0x0,_0x1319c3&&(_0x11f01b['players.'+currentStudentName+'.score']=increment(_0x28c111)),_0x11f01b[_0x3c3f05(0x5c9)+currentStudentName+_0x3c3f05(0x756)]=_0xa797d0,_0x11f01b[_0x3c3f05(0x5c9)+currentStudentName+'.correctStreak']=_0x2905d3,_0x11f01b['players.'+currentStudentName+'.answeredCurrentQuestion']=!![],_0x11f01b[_0x3c3f05(0x5c9)+currentStudentName+_0x3c3f05(0x130)]=_0x1319c3,_0x11f01b['players.'+currentStudentName+_0x3c3f05(0x6a1)]=_0x28c111,await updateDoc(_0x475e2a,_0x11f01b),liveGameView['innerHTML']=_0x3c3f05(0x7af);}function createQuizFromBank(){const _0xc3ef5d=_0x31a0a6,_0x3df6ac=document[_0xc3ef5d(0x655)](_0xc3ef5d(0x72e));if(_0x3df6ac['length']===0x0){showMessage(_0xc3ef5d(0x66e));return;}const _0x4ee494=[];_0x3df6ac[_0xc3ef5d(0x748)](_0x5df57a=>{const _0x94a4d7=_0xc3ef5d;_0x4ee494['push'](JSON[_0x94a4d7(0x3ae)](_0x5df57a[_0x94a4d7(0x3a5)]));});const _0x177d60={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x4ee494};displayGeneratedQuiz(_0x177d60);}function showAdminLobbyView(_0x4c1289,_0x89f61c){const _0x2f3dbf=_0x31a0a6;showView('live-game');const _0x452d24=_0x2f3dbf(0x6d2)+_0x89f61c+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x4c1289+_0x2f3dbf(0x295);liveGameView[_0x2f3dbf(0x4ca)]=_0x452d24,document[_0x2f3dbf(0x75f)](_0x2f3dbf(0x3ce))[_0x2f3dbf(0x670)](_0x2f3dbf(0xce),async()=>{const _0x1c3d56=_0x2f3dbf;if(!currentQuizData||!currentQuizData[_0x1c3d56(0x3a0)]||currentQuizData[_0x1c3d56(0x3a0)][_0x1c3d56(0x299)]===0x0){showMessage(_0x1c3d56(0x575));return;}try{const _0x3f4ebe=doc(db,_0x1c3d56(0x678)+appId+_0x1c3d56(0x286),currentLiveGameId);await updateDoc(_0x3f4ebe,{'status':_0x1c3d56(0x44e),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x308633=currentQuizData[_0x1c3d56(0x3a0)][0x0],_0x28804b=currentQuizData[_0x1c3d56(0x3a0)]['length'];showAdminLiveQuestionView(_0x308633,0x0,_0x28804b);}catch(_0x142776){console[_0x1c3d56(0x382)]('Error\x20starting\x20game:',_0x142776),showMessage(_0x1c3d56(0x5d4));}});}async function openGlobalLiveModal(){const _0x577200=_0x31a0a6;if(allQuizzesGlobal[_0x577200(0x299)]===0x0){const _0x3c757c=await getDocs(collection(db,_0x577200(0x678)+appId+_0x577200(0x132)));allQuizzesGlobal=_0x3c757c[_0x577200(0x67b)][_0x577200(0x182)](_0x3cd8a7=>({'id':_0x3cd8a7['id'],..._0x3cd8a7[_0x577200(0xa7)]()}));}renderGlobalQuizList(''),document[_0x577200(0x75f)](_0x577200(0x2cb))['classList'][_0x577200(0x4c3)](_0x577200(0x199));}async function openQuizBankModal(){const _0x4484f1=_0x31a0a6;if(allQuizzesGlobal['length']===0x0){const _0x4e724c=await getDocs(collection(db,_0x4484f1(0x678)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x4e724c['docs'][_0x4484f1(0x182)](_0x388a2a=>({'id':_0x388a2a['id'],..._0x388a2a[_0x4484f1(0xa7)]()}));}renderQuizBankList(''),document[_0x4484f1(0x75f)](_0x4484f1(0x630))['classList'][_0x4484f1(0x4c3)](_0x4484f1(0x199));}function renderQuizBankList(_0x3a3deb=''){const _0x45f04e=_0x31a0a6,_0x508e58=document['getElementById']('bank-quiz-list'),_0xafbb7d=_0x3a3deb[_0x45f04e(0x57d)]()[_0x45f04e(0x74d)](),_0xaa8042=allQuizzesGlobal['map'](_0x70b441=>({..._0x70b441,'projectName':allProjects[_0x45f04e(0x1fc)](_0x15505c=>_0x15505c['id']===_0x70b441[_0x45f04e(0x628)])?.['projectName']||_0x45f04e(0x183)}))['filter'](_0x70ea05=>(_0x70ea05['topic']||'')[_0x45f04e(0x57d)]()['includes'](_0xafbb7d)||(_0x70ea05[_0x45f04e(0x24c)]||'')[_0x45f04e(0x57d)]()['includes'](_0xafbb7d)||_0x70ea05['id'][_0x45f04e(0x798)]()[_0x45f04e(0x10c)](_0xafbb7d));document[_0x45f04e(0x75f)](_0x45f04e(0x595))[_0x45f04e(0x4e9)]='('+_0xaa8042[_0x45f04e(0x299)]+_0x45f04e(0x63e),_0x508e58[_0x45f04e(0x4ca)]=_0xaa8042[_0x45f04e(0x299)]?_0xaa8042['map'](_0x14f936=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x14f936['id']+_0x45f04e(0x54e)+(_0x14f936['topic']||_0x45f04e(0x56b))+_0x45f04e(0x330)+(_0x14f936[_0x45f04e(0x3a0)]?.[_0x45f04e(0x299)]||0x0)+_0x45f04e(0x28c)+_0x14f936[_0x45f04e(0x24c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x14f936['id']+_0x45f04e(0x16b)+_0x14f936['id']+_0x45f04e(0x67e)+_0x14f936['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x14f936['id']+_0x45f04e(0x2c9))[_0x45f04e(0x7df)](''):_0x45f04e(0x265),_0x508e58[_0x45f04e(0x655)]('.quiz-bank-item')[_0x45f04e(0x748)](_0x18b726=>{const _0x42c17b=_0x45f04e;_0x18b726[_0x42c17b(0x670)](_0x42c17b(0xce),()=>{const _0x45f5b7=_0x42c17b,_0x4b8b97=_0x18b726[_0x45f5b7(0x384)]['id'];document[_0x45f5b7(0x75f)](_0x45f5b7(0x630))[_0x45f5b7(0x4ba)]['add'](_0x45f5b7(0x199)),showQuizDetailView(_0x4b8b97);});}),_0x508e58[_0x45f04e(0x655)](_0x45f04e(0x423))[_0x45f04e(0x748)](_0x370eef=>{const _0x144bda=_0x45f04e;_0x370eef['addEventListener'](_0x144bda(0xce),_0x2ea3c6=>{const _0x96b69c=_0x144bda;_0x2ea3c6[_0x96b69c(0x13f)]();const _0x502065=_0x370eef['dataset']['id'],_0x5b3da6=allQuizzesGlobal[_0x96b69c(0x1fc)](_0x320b5e=>_0x320b5e['id']===_0x502065);_0x5b3da6?(currentQuizData=_0x5b3da6,document[_0x96b69c(0x75f)](_0x96b69c(0x630))[_0x96b69c(0x4ba)]['add'](_0x96b69c(0x199)),startAdminTest()):showMessage(_0x96b69c(0x5a7));});}),_0x508e58['querySelectorAll'](_0x45f04e(0x264))['forEach'](_0xca96c6=>{const _0x21cde4=_0x45f04e;_0xca96c6[_0x21cde4(0x670)](_0x21cde4(0xce),_0x290be7=>{const _0xf08136=_0x21cde4;_0x290be7[_0xf08136(0x13f)]();const _0x12b3a7=_0xca96c6['dataset']['id'],_0x397654=allQuizzesGlobal[_0xf08136(0x1fc)](_0x56dc20=>_0x56dc20['id']===_0x12b3a7);_0x397654?(document['getElementById'](_0xf08136(0x630))[_0xf08136(0x4ba)][_0xf08136(0x688)](_0xf08136(0x199)),handleGenerateParallelFromBank(_0x397654)):showMessage(_0xf08136(0x5a7));});}),_0x508e58[_0x45f04e(0x655)](_0x45f04e(0x4df))['forEach'](_0x169168=>{const _0x4690c8=_0x45f04e;_0x169168[_0x4690c8(0x670)](_0x4690c8(0xce),_0x5e8628=>{const _0x2c5cfe=_0x4690c8;_0x5e8628['stopPropagation']();const _0x12b89f=_0x169168[_0x2c5cfe(0x384)]['id'],_0x438601=allQuizzesGlobal[_0x2c5cfe(0x1fc)](_0x56aad2=>_0x56aad2['id']===_0x12b89f);_0x438601?(document[_0x2c5cfe(0x75f)]('quiz-bank-modal')[_0x2c5cfe(0x4ba)][_0x2c5cfe(0x688)]('hidden'),startPresentation(_0x438601)):showMessage(_0x2c5cfe(0x5a7));});});}async function handleCompareResults(_0x47152d,_0x1c41f7){const _0x278425=_0x31a0a6,_0x502a00=document['getElementById']('comparison-modal'),_0x24aa63=document[_0x278425(0x75f)](_0x278425(0x3f2)),_0x541a32=document['getElementById'](_0x278425(0x3e6));document[_0x278425(0x75f)](_0x278425(0x4a9))[_0x278425(0x4ba)]['add'](_0x278425(0x2ea)),document[_0x278425(0x75f)](_0x278425(0x3b1))[_0x278425(0x4ba)][_0x278425(0x4c3)](_0x278425(0x2ea)),_0x24aa63[_0x278425(0x4ba)][_0x278425(0x4c3)](_0x278425(0x199)),_0x541a32[_0x278425(0x4ba)][_0x278425(0x688)](_0x278425(0x199)),_0x24aa63[_0x278425(0x4ca)]=_0x278425(0x2cf),_0x541a32[_0x278425(0x4ca)]='',_0x502a00[_0x278425(0x4ba)][_0x278425(0x4c3)](_0x278425(0x199));try{const _0x366fea=doc(db,_0x278425(0x678)+appId+'/public/data/quizzes',_0x47152d),_0x14c653=await getDoc(_0x366fea);if(!_0x14c653[_0x278425(0x1a9)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x2fa31d=_0x14c653[_0x278425(0xa7)](),_0x271fd2=_0x2fa31d[_0x278425(0x3a0)]['length'],_0x4d5379=collection(db,_0x278425(0x678)+appId+_0x278425(0x7ad)+_0x1c41f7+_0x278425(0x5b6)),_0xd7c591=collection(db,_0x278425(0x678)+appId+_0x278425(0x7ad)+_0x47152d+'/submissions'),[_0xc5c5c4,_0x4ab4d7]=await Promise[_0x278425(0x7b4)]([getDocs(_0x4d5379),getDocs(_0xd7c591)]),_0x25f10d=_0xc5c5c4[_0x278425(0x67b)][_0x278425(0x182)](_0xb5f068=>_0xb5f068[_0x278425(0xa7)]()),_0x3ffbda=_0x4ab4d7[_0x278425(0x67b)][_0x278425(0x182)](_0x5e1eea=>_0x5e1eea[_0x278425(0xa7)]()),_0x1a22db=_0x25f10d[_0x278425(0x182)](_0x3f9c6a=>_0x3f9c6a[_0x278425(0x7dd)]),_0x5ba968=_0x3ffbda[_0x278425(0x182)](_0x1b721a=>_0x1b721a[_0x278425(0x7dd)]),_0x3f9e3f=calculateMeanAndStdDev(_0x1a22db),_0x490398=calculateMeanAndStdDev(_0x5ba968),_0x3a9c8b=_0x3f9e3f[_0x278425(0x7e5)],_0x36146b=_0x490398[_0x278425(0x7e5)],_0xcd6eb1=_0x36146b-_0x3a9c8b;let _0x2176b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x3a9c8b[_0x278425(0x4b6)](0x2)+_0x278425(0x776)+_0x36146b[_0x278425(0x4b6)](0x2)+_0x278425(0x667)+(_0xcd6eb1>=0x0?'bg-emerald-100':_0x278425(0x4ed))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0xcd6eb1>=0x0?_0x278425(0x2b9):_0x278425(0x27a))+_0x278425(0x1fd)+(_0xcd6eb1>=0x0?'text-emerald-900':_0x278425(0x17d))+'\x22>'+(_0xcd6eb1>=0x0?'+':'')+_0xcd6eb1[_0x278425(0x4b6)](0x2)+_0x278425(0x6a9);_0x24aa63['innerHTML']=_0x2176b4;const _0x4974ac=document[_0x278425(0x75f)](_0x278425(0x273))['getContext']('2d');if(chartInstances['comparison'])chartInstances[_0x278425(0x5eb)]['destroy']();chartInstances[_0x278425(0x5eb)]=new Chart(_0x4974ac,{'type':_0x278425(0x51b),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x278425(0xf2),'data':[_0x3a9c8b],'backgroundColor':_0x278425(0x2bc)},{'label':_0x278425(0x68e),'data':[_0x36146b],'backgroundColor':_0x278425(0x454)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x271fd2}}}});const _0x2dda02=currentProjectData[_0x278425(0x469)]||[],_0x1443fd=_0x2dda02[_0x278425(0x182)](_0x2a7b9b=>{const _0x3b95ef=_0x278425,_0x5e041d=_0x25f10d[_0x3b95ef(0x1fc)](_0x135638=>_0x135638[_0x3b95ef(0x1c3)]===_0x2a7b9b),_0x586e7a=_0x3ffbda[_0x3b95ef(0x1fc)](_0x18717f=>_0x18717f[_0x3b95ef(0x1c3)]===_0x2a7b9b),_0x2708b1=_0x5e041d?_0x5e041d['latestScore']:null,_0x5f047f=_0x586e7a?_0x586e7a['latestScore']:null,_0x5481be=_0x2708b1!==null&&_0x5f047f!==null?_0x5f047f-_0x2708b1:null,_0x369367=_0x2708b1!==null?calculateZScore(_0x2708b1,_0x3f9e3f[_0x3b95ef(0x7e5)],_0x3f9e3f[_0x3b95ef(0x5d9)]):null,_0x37ec12=_0x5f047f!==null?calculateZScore(_0x5f047f,_0x490398[_0x3b95ef(0x7e5)],_0x490398[_0x3b95ef(0x5d9)]):null,_0x53752b=_0x369367!==null?calculateTScore(_0x369367):null,_0x32b8d7=_0x37ec12!==null?calculateTScore(_0x37ec12):null,_0x310c58=_0x53752b!==null&&_0x32b8d7!==null?_0x32b8d7-_0x53752b:null;return{'name':_0x2a7b9b,'preScore':_0x2708b1,'postScore':_0x5f047f,'gain':_0x5481be,'preTScore':_0x53752b,'postTScore':_0x32b8d7,'tGain':_0x310c58};});renderIndividualComparisonTable(_0x1443fd,_0x541a32);}catch(_0xa42168){console[_0x278425(0x382)](_0x278425(0x2f3),_0xa42168),_0x24aa63[_0x278425(0x4ca)]=_0x278425(0xcb);}}function renderIndividualComparisonTable(_0xe762f4,_0x234dcb){const _0x4b9fe7=_0x31a0a6;_0xe762f4[_0x4b9fe7(0x2ba)]((_0x2aa643,_0x245f61)=>(_0x245f61[_0x4b9fe7(0x6a4)]??-Infinity)-(_0x2aa643[_0x4b9fe7(0x6a4)]??-Infinity));let _0x2f0f6a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0xe762f4[_0x4b9fe7(0x299)]===0x0?_0x2f0f6a+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0xe762f4['forEach']((_0x51ce2c,_0x38f949)=>{const _0x2ddced=_0x4b9fe7;let _0x35914c='-',_0x11a42b='';if(_0x51ce2c[_0x2ddced(0x1e7)]!==null){const _0x1e7484=_0x51ce2c[_0x2ddced(0x1e7)]>0x0?_0x2ddced(0x615):_0x51ce2c[_0x2ddced(0x1e7)]<0x0?_0x2ddced(0x2a2):_0x2ddced(0x4b4),_0x44fafb=_0x51ce2c[_0x2ddced(0x1e7)]>0x0?'+':'';_0x35914c=_0x2ddced(0x778)+_0x1e7484+'\x22>'+_0x44fafb+_0x51ce2c[_0x2ddced(0x1e7)]+'</span>';if(_0x51ce2c[_0x2ddced(0x1e7)]>0x0)_0x11a42b=_0x2ddced(0x7a7);else _0x51ce2c[_0x2ddced(0x1e7)]<0x0?_0x11a42b=_0x2ddced(0x6e9):_0x11a42b=_0x2ddced(0x665);}let _0x57bac4='-';if(_0x51ce2c['tGain']!==null){const _0x36a8c5=_0x51ce2c['tGain']>0x0?'text-green-600':_0x51ce2c[_0x2ddced(0x6a4)]<0x0?_0x2ddced(0x2a2):_0x2ddced(0x4b4),_0x8e89ae=_0x51ce2c[_0x2ddced(0x6a4)]>0x0?'+':'';_0x57bac4=_0x2ddced(0x778)+_0x36a8c5+'\x22>'+_0x8e89ae+_0x51ce2c[_0x2ddced(0x6a4)]['toFixed'](0x2)+_0x2ddced(0x1f4);}_0x2f0f6a+=_0x2ddced(0x190)+(_0x38f949+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x51ce2c[_0x2ddced(0x248)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x51ce2c[_0x2ddced(0x7db)]??'-')+_0x2ddced(0x145)+(_0x51ce2c[_0x2ddced(0x5f9)]??'-')+_0x2ddced(0x213)+_0x35914c+_0x2ddced(0x403)+_0x11a42b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x51ce2c[_0x2ddced(0x2d6)]?.[_0x2ddced(0x4b6)](0x2)??'-')+_0x2ddced(0x323)+(_0x51ce2c[_0x2ddced(0x250)]?.[_0x2ddced(0x4b6)](0x2)??'-')+_0x2ddced(0x213)+_0x57bac4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2f0f6a+=_0x4b9fe7(0x751),_0x234dcb[_0x4b9fe7(0x4ca)]=_0x2f0f6a;}function handleRenameQuiz(_0x145989,_0x26be00){const _0x172606=_0x31a0a6;actionTargetId=_0x145989,document[_0x172606(0x75f)](_0x172606(0x71e))[_0x172606(0x3a5)]=_0x26be00,renameQuizModal[_0x172606(0x4ba)]['remove'](_0x172606(0x199));}function setupComparisonModalTabs(){const _0x12af6e=_0x31a0a6,_0x50be04=document[_0x12af6e(0x75f)](_0x12af6e(0x4a9)),_0x50953e=document[_0x12af6e(0x75f)](_0x12af6e(0x3b1)),_0x5a8499=document['getElementById'](_0x12af6e(0x3f2)),_0x4334c8=document[_0x12af6e(0x75f)](_0x12af6e(0x3e6));_0x50be04[_0x12af6e(0x670)](_0x12af6e(0xce),()=>{const _0x470488=_0x12af6e;_0x50be04[_0x470488(0x4ba)][_0x470488(0x688)](_0x470488(0x2ea)),_0x50953e[_0x470488(0x4ba)][_0x470488(0x4c3)](_0x470488(0x2ea)),_0x5a8499[_0x470488(0x4ba)][_0x470488(0x4c3)](_0x470488(0x199)),_0x4334c8['classList'][_0x470488(0x688)](_0x470488(0x199));}),_0x50953e[_0x12af6e(0x670)](_0x12af6e(0xce),()=>{const _0x2d822f=_0x12af6e;_0x50953e[_0x2d822f(0x4ba)][_0x2d822f(0x688)]('active'),_0x50be04[_0x2d822f(0x4ba)][_0x2d822f(0x4c3)](_0x2d822f(0x2ea)),_0x4334c8['classList'][_0x2d822f(0x4c3)](_0x2d822f(0x199)),_0x5a8499[_0x2d822f(0x4ba)][_0x2d822f(0x688)](_0x2d822f(0x199));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x592268=''){const _0x3aec3c=_0x31a0a6,_0x4e32a2=document[_0x3aec3c(0x75f)](_0x3aec3c(0x629)),_0x54ca9d=_0x592268[_0x3aec3c(0x57d)]()[_0x3aec3c(0x74d)](),_0x32a865=allQuizzesGlobal[_0x3aec3c(0x182)](_0x3f0bbe=>({..._0x3f0bbe,'projectName':allProjects[_0x3aec3c(0x1fc)](_0x33a5b9=>_0x33a5b9['id']===_0x3f0bbe[_0x3aec3c(0x628)])?.['projectName']||_0x3f0bbe[_0x3aec3c(0x628)]}))[_0x3aec3c(0x5e5)](_0x563252=>(_0x563252['topic']||'')[_0x3aec3c(0x57d)]()[_0x3aec3c(0x10c)](_0x54ca9d)||(_0x563252[_0x3aec3c(0x24c)]||'')[_0x3aec3c(0x57d)]()[_0x3aec3c(0x10c)](_0x54ca9d));document[_0x3aec3c(0x75f)]('global-live-game-count')['textContent']='('+_0x32a865['length']+_0x3aec3c(0x63e),_0x4e32a2[_0x3aec3c(0x4ca)]=_0x32a865['length']?_0x32a865[_0x3aec3c(0x182)](_0x2143ad=>_0x3aec3c(0xfb)+_0x2143ad['id']+_0x3aec3c(0x1ea)+(_0x2143ad['topic']||_0x3aec3c(0x56b))+_0x3aec3c(0x377)+(_0x2143ad[_0x3aec3c(0x3a0)]?.[_0x3aec3c(0x299)]||0x0)+_0x3aec3c(0x4ef)+_0x2143ad[_0x3aec3c(0x24c)]+_0x3aec3c(0x619))['join'](''):_0x3aec3c(0x704),selectedGlobalQuizId=null,document[_0x3aec3c(0x75f)](_0x3aec3c(0x507))['disabled']=!![],_0x4e32a2[_0x3aec3c(0x655)](_0x3aec3c(0x6cd))['forEach'](_0x351489=>{const _0xaf70ee=_0x3aec3c;_0x351489[_0xaf70ee(0x670)](_0xaf70ee(0xce),()=>{const _0x4ea2dd=_0xaf70ee;selectedGlobalQuizId=_0x351489[_0x4ea2dd(0x384)]['id'],_0x4e32a2[_0x4ea2dd(0x655)](_0x4ea2dd(0x571))[_0x4ea2dd(0x748)](_0x293eac=>_0x293eac['classList'][_0x4ea2dd(0x4c3)](_0x4ea2dd(0x635),'ring-2',_0x4ea2dd(0x710))),_0x351489[_0x4ea2dd(0x4ba)][_0x4ea2dd(0x688)]('bg-purple-50',_0x4ea2dd(0x29b),_0x4ea2dd(0x710)),document[_0x4ea2dd(0x75f)]('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x3fee46=_0x31a0a6;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4897f0=doc(db,_0x3fee46(0x678)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4897f0,_0x1d51d8=>{const _0x35d13e=_0x3fee46;if(!_0x1d51d8[_0x35d13e(0x1a9)]()){showMessage(_0x35d13e(0x3b6)),showView(currentMode);return;}const _0xc13029=_0x1d51d8[_0x35d13e(0xa7)]();!currentQuizData&&_0xc13029[_0x35d13e(0x13d)]&&((async()=>{const _0x3a1058=_0x35d13e;try{const _0x46b031=doc(db,_0x3a1058(0x678)+appId+_0x3a1058(0x132),_0xc13029[_0x3a1058(0x13d)]),_0x3d2843=await getDoc(_0x46b031);_0x3d2843[_0x3a1058(0x1a9)]()&&(currentQuizData={'id':_0x3d2843['id'],..._0x3d2843[_0x3a1058(0xa7)]()});}catch(_0xc9682f){console[_0x3a1058(0x382)](_0x3a1058(0x1cb),_0xc9682f);}})());switch(_0xc13029[_0x35d13e(0x6fe)]){case _0x35d13e(0x12d):if(currentMode===_0x35d13e(0x33c)){const _0x27ee1f=_0xc13029[_0x35d13e(0x3d7)]?Object[_0x35d13e(0x5f6)](_0xc13029[_0x35d13e(0x3d7)]):[];document[_0x35d13e(0x75f)](_0x35d13e(0x1f0))[_0x35d13e(0x4e9)]=_0x27ee1f[_0x35d13e(0x299)],document['getElementById']('player-list-lobby')['innerHTML']=_0x27ee1f[_0x35d13e(0x182)](_0x5ceb79=>_0x35d13e(0xd9)+_0x5ceb79+'</span>')['join']('');const _0x208acd=document[_0x35d13e(0x75f)]('start-game-btn');_0x208acd&&(_0x208acd[_0x35d13e(0x108)]=_0x27ee1f[_0x35d13e(0x299)]===0x0);}else showView(_0x35d13e(0x192)),liveGameView[_0x35d13e(0x4ca)]=_0x35d13e(0x502)+currentStudentName+_0x35d13e(0x6f9);break;case _0x35d13e(0x44e):const _0x4f6b5b=_0xc13029[_0x35d13e(0x40f)];if(currentQuizData&&currentQuizData['questions'][_0x4f6b5b]){const _0x13f6ee=currentQuizData[_0x35d13e(0x3a0)][_0x4f6b5b],_0x33de50=currentQuizData['questions'][_0x35d13e(0x299)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x4f6b5b&&(showAdminLiveQuestionView(_0x13f6ee,_0x4f6b5b,_0x33de50),lastRenderedAdminQuestionIndex=_0x4f6b5b);const _0x5169c3=document[_0x35d13e(0x75f)](_0x35d13e(0x643));if(_0x5169c3&&_0xc13029[_0x35d13e(0x3d7)]){const _0x27653c=Object[_0x35d13e(0x5f6)](_0xc13029[_0x35d13e(0x3d7)])[_0x35d13e(0x299)],_0x47091d=Object[_0x35d13e(0x807)](_0xc13029[_0x35d13e(0x3d7)])[_0x35d13e(0x5e5)](_0x3ddfb7=>_0x3ddfb7['answeredCurrentQuestion']===!![])['length'];_0x5169c3[_0x35d13e(0x4e9)]=_0x47091d+'/'+_0x27653c,_0x27653c>0x0&&_0x47091d===_0x27653c&&_0xc13029['questionStatus']!==_0x35d13e(0x1fb)&&revealAnswerForAdmin(_0x4f6b5b,_0x33de50);}}else{const _0x30b370=_0xc13029['players'][currentStudentName];if(_0xc13029['questionStatus']==='revealed'){if(_0x30b370[_0x35d13e(0x434)]){const _0x2b591c=_0x30b370[_0x35d13e(0x673)],_0x55f088=_0x30b370['pointsLastQuestion']||0x0,_0x4b9527=_0x2b591c?_0x35d13e(0x6f7)+_0x55f088+'\x20คะแนน':_0x35d13e(0x36c);liveGameView[_0x35d13e(0x4ca)]=_0x35d13e(0x51e)+_0x4b9527+_0x35d13e(0x671);}else liveGameView[_0x35d13e(0x4ca)]=_0x35d13e(0x293);}else!_0x30b370[_0x35d13e(0x434)]&&showStudentLiveQuestionView(_0x13f6ee,_0x4f6b5b,_0x33de50);}}break;case _0x35d13e(0x4ad):showPodiumView(_0xc13029[_0x35d13e(0x3d7)]);break;}});}async function authenticateUser(){const _0x14c688=_0x31a0a6;try{typeof __initial_auth_token!==_0x14c688(0x2b5)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5dbb98){console[_0x14c688(0x382)](_0x14c688(0x71a),_0x5dbb98),showMessage(_0x14c688(0x1bc));}}function showView(_0x4c801b){const _0xb99fe7=_0x31a0a6,_0x2cb2d0=[_0xb99fe7(0x73e),_0xb99fe7(0x38c),_0xb99fe7(0x204),_0xb99fe7(0x75e),_0xb99fe7(0x742),_0xb99fe7(0x39d),'student-progress-view'];_0x2cb2d0[_0xb99fe7(0x748)](_0x1d667d=>document['getElementById'](_0x1d667d)?.['classList'][_0xb99fe7(0x688)](_0xb99fe7(0x199)));if(_0x4c801b===_0xb99fe7(0x474))adminView[_0xb99fe7(0x4ba)][_0xb99fe7(0x4c3)](_0xb99fe7(0x199)),projectDashboardView[_0xb99fe7(0x4ba)]['remove'](_0xb99fe7(0x199));else{if(_0x4c801b==='student')studentView['classList']['remove'](_0xb99fe7(0x199)),studentInitialView[_0xb99fe7(0x4ba)][_0xb99fe7(0x4c3)](_0xb99fe7(0x199)),studentNameSelectionView[_0xb99fe7(0x4ba)][_0xb99fe7(0x688)](_0xb99fe7(0x199)),studentQuizArea[_0xb99fe7(0x4ba)][_0xb99fe7(0x688)](_0xb99fe7(0x199)),studentResultArea[_0xb99fe7(0x4ba)]['add'](_0xb99fe7(0x199)),studentReadingArea[_0xb99fe7(0x4ba)][_0xb99fe7(0x688)]('hidden'),studentJoinGameView['classList'][_0xb99fe7(0x688)]('hidden');else{if(_0x4c801b==='project-detail')adminView[_0xb99fe7(0x4ba)][_0xb99fe7(0x4c3)](_0xb99fe7(0x199)),projectDetailView['classList'][_0xb99fe7(0x4c3)]('hidden');else{if(_0x4c801b===_0xb99fe7(0x49c))adminView[_0xb99fe7(0x4ba)][_0xb99fe7(0x4c3)](_0xb99fe7(0x199)),quizResultsView[_0xb99fe7(0x4ba)]['remove'](_0xb99fe7(0x199));else _0x4c801b===_0xb99fe7(0x192)&&liveGameView[_0xb99fe7(0x4ba)][_0xb99fe7(0x4c3)]('hidden');}}}}function showJoinGameView(){const _0x339c89=_0x31a0a6;studentInitialView[_0x339c89(0x4ba)][_0x339c89(0x688)](_0x339c89(0x199)),studentJoinGameView[_0x339c89(0x4ba)][_0x339c89(0x4c3)](_0x339c89(0x199));}async function handleSaveVisibilitySettings(){const _0x53e317=_0x31a0a6;if(!currentProjectId)return;const _0x4ce7e8=doc(db,_0x53e317(0x678)+appId+_0x53e317(0x3c6),currentProjectId);try{await updateDoc(_0x4ce7e8,{'settings.showInStudentDashboard':document['getElementById'](_0x53e317(0x783))[_0x53e317(0x4b5)],'settings.isPasscodeEnabled':document['getElementById']('enable-passcode-checkbox')['checked'],'settings.passcode':document[_0x53e317(0x75f)](_0x53e317(0x13e))[_0x53e317(0x3a5)][_0x53e317(0x74d)]()}),showMessage(_0x53e317(0x657));}catch(_0x4848f2){console[_0x53e317(0x382)](_0x53e317(0x32c),_0x4848f2),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x360555=_0x31a0a6;document[_0x360555(0x75f)](_0x360555(0x2df))[_0x360555(0x670)]('click',handleModeSwitch),document['getElementById'](_0x360555(0x6f5))[_0x360555(0x670)]('click',handleResetProjectOrder),document[_0x360555(0x75f)](_0x360555(0x173))[_0x360555(0x670)]('click',handleSaveVisibilitySettings),document[_0x360555(0x75f)](_0x360555(0x65a))['addEventListener'](_0x360555(0xce),handleAddCustomMathTopic),document[_0x360555(0x75f)]('select-all-topics-btn')[_0x360555(0x670)](_0x360555(0xce),handleSelectAllTopics),document[_0x360555(0x75f)](_0x360555(0x3a1))[_0x360555(0x670)](_0x360555(0xce),handleDeselectAllTopics),document[_0x360555(0x75f)](_0x360555(0x174))[_0x360555(0x670)](_0x360555(0xce),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document['getElementById'](_0x360555(0x752))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x1b14ea=_0x360555;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1b14ea(0x9a));}),document[_0x360555(0x75f)](_0x360555(0x542))[_0x360555(0x670)]('click',()=>{const _0x5e8e0d=_0x360555;showView(_0x5e8e0d(0x474));}),document[_0x360555(0x75f)](_0x360555(0x652))['addEventListener'](_0x360555(0xce),()=>{const _0x3daddb=_0x360555;messageModal[_0x3daddb(0x4ba)][_0x3daddb(0x688)](_0x3daddb(0x199)),typeof modalConfirmAction===_0x3daddb(0x77f)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x360555(0x75f)]('create-project-btn')['addEventListener']('click',()=>createProjectModal[_0x360555(0x4ba)][_0x360555(0x4c3)](_0x360555(0x199))),document[_0x360555(0x75f)](_0x360555(0x1b0))[_0x360555(0x670)]('click',()=>createProjectModal[_0x360555(0x4ba)][_0x360555(0x688)](_0x360555(0x199))),document[_0x360555(0x75f)](_0x360555(0x1b7))['addEventListener'](_0x360555(0xce),()=>adminPasswordModal[_0x360555(0x4ba)][_0x360555(0x688)](_0x360555(0x199))),document[_0x360555(0x75f)](_0x360555(0x2f6))[_0x360555(0x670)]('click',handleAdminLogin),document[_0x360555(0x75f)](_0x360555(0x429))['addEventListener']('keyup',_0x173b8b=>{const _0x5d692a=_0x360555;if(_0x173b8b[_0x5d692a(0x19e)]===_0x5d692a(0x5c3))handleAdminLogin();}),document[_0x360555(0x75f)](_0x360555(0x794))[_0x360555(0x670)]('click',()=>{const _0x23a93c=_0x360555;confirmationModal[_0x23a93c(0x4ba)][_0x23a93c(0x688)](_0x23a93c(0x199)),confirmAction=null;}),document[_0x360555(0x75f)](_0x360555(0x761))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x367f78=_0x360555;confirmAction&&confirmAction(),confirmationModal[_0x367f78(0x4ba)][_0x367f78(0x688)]('hidden'),confirmAction=null;}),document[_0x360555(0x75f)](_0x360555(0xc0))['addEventListener'](_0x360555(0xce),()=>renameQuizModal['classList']['add'](_0x360555(0x199))),document['getElementById'](_0x360555(0x138))[_0x360555(0x670)]('click',confirmRenameQuiz),document[_0x360555(0x75f)](_0x360555(0x7f1))[_0x360555(0x670)]('click',()=>moveQuizModal[_0x360555(0x4ba)][_0x360555(0x688)](_0x360555(0x199))),document['getElementById']('confirm-move-quiz-btn')[_0x360555(0x670)](_0x360555(0xce),confirmMoveQuiz),document[_0x360555(0x75f)](_0x360555(0x7f0))[_0x360555(0x670)](_0x360555(0xce),()=>quizSettingsModal[_0x360555(0x4ba)][_0x360555(0x688)](_0x360555(0x199))),document[_0x360555(0x75f)]('confirm-quiz-settings-btn')['addEventListener'](_0x360555(0xce),confirmQuizSettings),document[_0x360555(0x75f)](_0x360555(0x5a6))['addEventListener'](_0x360555(0xce),()=>quizStatusModal[_0x360555(0x4ba)]['add']('hidden')),document['getElementById']('confirm-quiz-status-btn')[_0x360555(0x670)](_0x360555(0xce),confirmQuizStatus);const _0x430158=document[_0x360555(0x75f)](_0x360555(0x22f));document[_0x360555(0x75f)](_0x360555(0x320))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x3c58a0=_0x360555;_0x430158[_0x3c58a0(0x4ba)][_0x3c58a0(0x688)](_0x3c58a0(0x199));}),document[_0x360555(0x75f)]('export-compact-pdf-btn')[_0x360555(0x670)](_0x360555(0xce),async()=>{const _0x232179=_0x360555,_0x1a09e6=allQuizzes['find'](_0x578b30=>_0x578b30['id']===actionTargetId);_0x1a09e6?(currentQuizData=_0x1a09e6,exportQuizAsWorksheetPDF()):showMessage(_0x232179(0x5a7)),_0x430158['classList'][_0x232179(0x688)](_0x232179(0x199));}),document[_0x360555(0x75f)](_0x360555(0x786))[_0x360555(0x670)](_0x360555(0xce),async()=>{const _0x1fe2c5=_0x360555,_0x12406a=allQuizzes[_0x1fe2c5(0x1fc)](_0x4bf984=>_0x4bf984['id']===actionTargetId);_0x12406a?(currentQuizData=_0x12406a,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x430158['classList'][_0x1fe2c5(0x688)](_0x1fe2c5(0x199));}),document[_0x360555(0x75f)](_0x360555(0x73c))[_0x360555(0x670)](_0x360555(0xce),openGlobalLiveModal),document['getElementById'](_0x360555(0xdf))[_0x360555(0x670)]('click',()=>{const _0x55a2fd=_0x360555;document[_0x55a2fd(0x75f)](_0x55a2fd(0x2cb))[_0x55a2fd(0x4ba)][_0x55a2fd(0x688)]('hidden'),selectedGlobalQuizId=null;}),document[_0x360555(0x75f)](_0x360555(0x13b))['addEventListener']('input',_0x4f2826=>renderGlobalQuizList(_0x4f2826[_0x360555(0x4a8)][_0x360555(0x3a5)])),document[_0x360555(0x75f)](_0x360555(0x507))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x225cd6=_0x360555,_0x10e817=selectedGlobalQuizId;if(!_0x10e817)return;document[_0x225cd6(0x75f)](_0x225cd6(0x2cb))[_0x225cd6(0x4ba)]['add'](_0x225cd6(0x199)),handleStartLiveRace(_0x10e817);}),document[_0x360555(0x75f)](_0x360555(0x6e2))['addEventListener'](_0x360555(0x4ec),renderProjects),document[_0x360555(0x75f)]('project-sort-select')[_0x360555(0x670)](_0x360555(0x1ec),async()=>{const _0x7b3053=_0x360555,_0x4b0951=document[_0x7b3053(0x75f)](_0x7b3053(0xac))['value'],_0x592607=doc(db,_0x7b3053(0x209),'dashboardConfig');try{await setDoc(_0x592607,{'projectSort':_0x4b0951},{'merge':!![]});}catch(_0x44364c){console[_0x7b3053(0x382)](_0x7b3053(0x232),_0x44364c),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document['getElementById'](_0x360555(0x34a))['addEventListener'](_0x360555(0x4ec),renderQuizzes),document['getElementById']('grid-view-btn')[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x559e57=_0x360555;globalDashboardSettings[_0x559e57(0x50e)]='grid',saveUserPreference(_0x559e57(0x50e),'grid'),renderProjects();}),document['getElementById']('list-view-btn')[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x45c016=_0x360555;globalDashboardSettings['projectView']='list',saveUserPreference(_0x45c016(0x50e),_0x45c016(0x3d9)),renderProjects();}),manageTab[_0x360555(0x670)](_0x360555(0xce),()=>switchProjectTab('manage')),resultsTab[_0x360555(0x670)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x360555(0x670)]('click',()=>switchProjectTab('leaderboard')),document[_0x360555(0x75f)](_0x360555(0x5c1))['addEventListener'](_0x360555(0xce),()=>switchQuizDetailTab('analytics')),document[_0x360555(0x75f)](_0x360555(0x177))[_0x360555(0x670)](_0x360555(0xce),()=>switchQuizDetailTab(_0x360555(0x7fc))),document[_0x360555(0x75f)](_0x360555(0x6ff))[_0x360555(0x670)](_0x360555(0xce),()=>switchQuizDetailTab(_0x360555(0x278))),document['getElementById'](_0x360555(0x463))['addEventListener'](_0x360555(0xce),()=>switchQuizDetailTab(_0x360555(0x3bd))),document[_0x360555(0x75f)](_0x360555(0x56f))[_0x360555(0x670)](_0x360555(0xce),handleAnalyzeClass),generateWorksheetBtn[_0x360555(0x670)](_0x360555(0xce),generateWorksheet);const _0xf6947e=document['getElementById'](_0x360555(0x24b)),_0x41c4b9=document[_0x360555(0x75f)](_0x360555(0x7ca)),_0x1a7ca3=document['getElementById']('blueprint-tab'),_0x24cd8a=document[_0x360555(0x75f)](_0x360555(0x662)),_0x1ec04d=document[_0x360555(0x75f)](_0x360555(0x527)),_0x17d810=document['getElementById'](_0x360555(0x3f3));topicTab[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x5c9b9d=_0x360555;topicTab[_0x5c9b9d(0x4ba)]['add'](_0x5c9b9d(0x2ea)),textTab[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x4c3)](_0x5c9b9d(0x2ea)),fileTab[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x4c3)]('active'),worksheetTab[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x4c3)](_0x5c9b9d(0x2ea));if(_0xf6947e)_0xf6947e['classList'][_0x5c9b9d(0x4c3)]('active');if(_0x1a7ca3)_0x1a7ca3[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x4c3)]('active');if(_0x1ec04d)_0x1ec04d[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x4c3)](_0x5c9b9d(0x2ea));topicInputArea[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x4c3)](_0x5c9b9d(0x199)),textInputArea[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x688)](_0x5c9b9d(0x199)),fileInputArea['classList'][_0x5c9b9d(0x688)](_0x5c9b9d(0x199)),worksheetInputArea[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x688)](_0x5c9b9d(0x199));if(_0x41c4b9)_0x41c4b9[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x688)]('hidden');if(_0x24cd8a)_0x24cd8a[_0x5c9b9d(0x4ba)]['add']('hidden');if(_0x17d810)_0x17d810[_0x5c9b9d(0x4ba)][_0x5c9b9d(0x688)](_0x5c9b9d(0x199));}),textTab[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x5d791b=_0x360555;textTab[_0x5d791b(0x4ba)]['add'](_0x5d791b(0x2ea)),topicTab['classList'][_0x5d791b(0x4c3)](_0x5d791b(0x2ea)),fileTab['classList'][_0x5d791b(0x4c3)](_0x5d791b(0x2ea)),worksheetTab['classList'][_0x5d791b(0x4c3)](_0x5d791b(0x2ea));if(_0xf6947e)_0xf6947e[_0x5d791b(0x4ba)][_0x5d791b(0x4c3)](_0x5d791b(0x2ea));if(_0x1a7ca3)_0x1a7ca3[_0x5d791b(0x4ba)]['remove']('active');if(_0x1ec04d)_0x1ec04d[_0x5d791b(0x4ba)][_0x5d791b(0x4c3)]('active');textInputArea[_0x5d791b(0x4ba)][_0x5d791b(0x4c3)](_0x5d791b(0x199)),topicInputArea[_0x5d791b(0x4ba)][_0x5d791b(0x688)](_0x5d791b(0x199)),fileInputArea[_0x5d791b(0x4ba)]['add'](_0x5d791b(0x199)),worksheetInputArea['classList'][_0x5d791b(0x688)](_0x5d791b(0x199));if(_0x41c4b9)_0x41c4b9[_0x5d791b(0x4ba)][_0x5d791b(0x688)](_0x5d791b(0x199));if(_0x24cd8a)_0x24cd8a[_0x5d791b(0x4ba)][_0x5d791b(0x688)](_0x5d791b(0x199));if(_0x17d810)_0x17d810[_0x5d791b(0x4ba)][_0x5d791b(0x688)]('hidden');}),fileTab[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x2d3ef2=_0x360555;fileTab[_0x2d3ef2(0x4ba)][_0x2d3ef2(0x688)](_0x2d3ef2(0x2ea)),topicTab[_0x2d3ef2(0x4ba)]['remove']('active'),textTab[_0x2d3ef2(0x4ba)]['remove']('active'),worksheetTab[_0x2d3ef2(0x4ba)]['remove']('active');if(_0xf6947e)_0xf6947e[_0x2d3ef2(0x4ba)]['remove'](_0x2d3ef2(0x2ea));if(_0x1a7ca3)_0x1a7ca3[_0x2d3ef2(0x4ba)][_0x2d3ef2(0x4c3)](_0x2d3ef2(0x2ea));if(_0x1ec04d)_0x1ec04d[_0x2d3ef2(0x4ba)]['remove']('active');fileInputArea[_0x2d3ef2(0x4ba)][_0x2d3ef2(0x4c3)](_0x2d3ef2(0x199)),topicInputArea['classList'][_0x2d3ef2(0x688)](_0x2d3ef2(0x199)),textInputArea[_0x2d3ef2(0x4ba)][_0x2d3ef2(0x688)](_0x2d3ef2(0x199)),worksheetInputArea['classList']['add'](_0x2d3ef2(0x199));if(_0x41c4b9)_0x41c4b9[_0x2d3ef2(0x4ba)]['add'](_0x2d3ef2(0x199));if(_0x24cd8a)_0x24cd8a[_0x2d3ef2(0x4ba)][_0x2d3ef2(0x688)](_0x2d3ef2(0x199));if(_0x17d810)_0x17d810[_0x2d3ef2(0x4ba)][_0x2d3ef2(0x688)](_0x2d3ef2(0x199));}),worksheetTab[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x811e56=_0x360555;worksheetTab[_0x811e56(0x4ba)][_0x811e56(0x688)](_0x811e56(0x2ea)),topicTab[_0x811e56(0x4ba)]['remove'](_0x811e56(0x2ea)),textTab['classList'][_0x811e56(0x4c3)](_0x811e56(0x2ea)),fileTab[_0x811e56(0x4ba)][_0x811e56(0x4c3)](_0x811e56(0x2ea));if(_0xf6947e)_0xf6947e[_0x811e56(0x4ba)][_0x811e56(0x4c3)](_0x811e56(0x2ea));if(_0x1a7ca3)_0x1a7ca3['classList'][_0x811e56(0x4c3)]('active');if(_0x1ec04d)_0x1ec04d[_0x811e56(0x4ba)][_0x811e56(0x4c3)]('active');worksheetInputArea[_0x811e56(0x4ba)][_0x811e56(0x4c3)](_0x811e56(0x199)),topicInputArea[_0x811e56(0x4ba)][_0x811e56(0x688)](_0x811e56(0x199)),textInputArea[_0x811e56(0x4ba)][_0x811e56(0x688)]('hidden'),fileInputArea['classList'][_0x811e56(0x688)](_0x811e56(0x199));if(_0x41c4b9)_0x41c4b9[_0x811e56(0x4ba)][_0x811e56(0x688)](_0x811e56(0x199));if(_0x24cd8a)_0x24cd8a[_0x811e56(0x4ba)]['add'](_0x811e56(0x199));if(_0x17d810)_0x17d810[_0x811e56(0x4ba)][_0x811e56(0x688)](_0x811e56(0x199));});const _0x3a26f1=document[_0x360555(0x75f)]('bank-tab'),_0x76c975=document[_0x360555(0x75f)](_0x360555(0x45d));_0x3a26f1&&_0x3a26f1[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x5b4621=_0x360555;topicTab[_0x5b4621(0x4ba)][_0x5b4621(0x4c3)](_0x5b4621(0x2ea)),textTab[_0x5b4621(0x4ba)]['remove']('active'),fileTab['classList'][_0x5b4621(0x4c3)]('active'),worksheetTab[_0x5b4621(0x4ba)][_0x5b4621(0x4c3)]('active');if(_0xf6947e)_0xf6947e['classList']['remove'](_0x5b4621(0x2ea));if(_0x1a7ca3)_0x1a7ca3['classList'][_0x5b4621(0x4c3)](_0x5b4621(0x2ea));if(_0x1ec04d)_0x1ec04d[_0x5b4621(0x4ba)][_0x5b4621(0x4c3)](_0x5b4621(0x2ea));_0x3a26f1[_0x5b4621(0x4ba)][_0x5b4621(0x688)]('active'),topicInputArea[_0x5b4621(0x4ba)][_0x5b4621(0x688)](_0x5b4621(0x199)),textInputArea[_0x5b4621(0x4ba)]['add'](_0x5b4621(0x199)),fileInputArea[_0x5b4621(0x4ba)]['add']('hidden'),worksheetInputArea[_0x5b4621(0x4ba)][_0x5b4621(0x688)](_0x5b4621(0x199));if(_0x41c4b9)_0x41c4b9['classList'][_0x5b4621(0x688)](_0x5b4621(0x199));if(_0x24cd8a)_0x24cd8a[_0x5b4621(0x4ba)][_0x5b4621(0x688)]('hidden');if(_0x17d810)_0x17d810[_0x5b4621(0x4ba)][_0x5b4621(0x688)](_0x5b4621(0x199));_0x76c975[_0x5b4621(0x4ba)][_0x5b4621(0x4c3)](_0x5b4621(0x199)),displayQuestionBank();});_0xf6947e&&(_0xf6947e['addEventListener'](_0x360555(0xce),()=>{const _0x788656=_0x360555;_0xf6947e[_0x788656(0x4ba)][_0x788656(0x688)]('active'),topicTab[_0x788656(0x4ba)][_0x788656(0x4c3)](_0x788656(0x2ea)),textTab['classList']['remove'](_0x788656(0x2ea)),fileTab['classList'][_0x788656(0x4c3)](_0x788656(0x2ea)),worksheetTab[_0x788656(0x4ba)][_0x788656(0x4c3)](_0x788656(0x2ea));if(_0x1a7ca3)_0x1a7ca3['classList'][_0x788656(0x4c3)](_0x788656(0x2ea));if(_0x1ec04d)_0x1ec04d[_0x788656(0x4ba)][_0x788656(0x4c3)](_0x788656(0x2ea));_0x41c4b9[_0x788656(0x4ba)]['remove'](_0x788656(0x199)),topicInputArea[_0x788656(0x4ba)][_0x788656(0x688)](_0x788656(0x199)),textInputArea[_0x788656(0x4ba)][_0x788656(0x688)](_0x788656(0x199)),fileInputArea[_0x788656(0x4ba)][_0x788656(0x688)](_0x788656(0x199)),worksheetInputArea['classList'][_0x788656(0x688)](_0x788656(0x199));if(_0x24cd8a)_0x24cd8a[_0x788656(0x4ba)][_0x788656(0x688)]('hidden');if(_0x17d810)_0x17d810[_0x788656(0x4ba)][_0x788656(0x688)]('hidden');}),document[_0x360555(0x75f)](_0x360555(0x5b0))[_0x360555(0x670)]('click',handleGenerateFromLink));_0x1a7ca3&&_0x1a7ca3[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x33e7c8=_0x360555;_0x1a7ca3[_0x33e7c8(0x4ba)][_0x33e7c8(0x688)](_0x33e7c8(0x2ea)),topicTab[_0x33e7c8(0x4ba)][_0x33e7c8(0x4c3)](_0x33e7c8(0x2ea)),textTab[_0x33e7c8(0x4ba)][_0x33e7c8(0x4c3)]('active'),fileTab['classList'][_0x33e7c8(0x4c3)](_0x33e7c8(0x2ea)),worksheetTab['classList'][_0x33e7c8(0x4c3)](_0x33e7c8(0x2ea));if(_0xf6947e)_0xf6947e['classList']['remove'](_0x33e7c8(0x2ea));if(_0x3a26f1)_0x3a26f1[_0x33e7c8(0x4ba)]['remove']('active');if(_0x1ec04d)_0x1ec04d[_0x33e7c8(0x4ba)][_0x33e7c8(0x4c3)]('active');_0x24cd8a['classList'][_0x33e7c8(0x4c3)](_0x33e7c8(0x199)),topicInputArea[_0x33e7c8(0x4ba)][_0x33e7c8(0x688)]('hidden'),textInputArea[_0x33e7c8(0x4ba)][_0x33e7c8(0x688)](_0x33e7c8(0x199)),fileInputArea[_0x33e7c8(0x4ba)]['add'](_0x33e7c8(0x199)),worksheetInputArea['classList'][_0x33e7c8(0x688)]('hidden');if(_0x41c4b9)_0x41c4b9[_0x33e7c8(0x4ba)][_0x33e7c8(0x688)](_0x33e7c8(0x199));if(_0x76c975)_0x76c975[_0x33e7c8(0x4ba)][_0x33e7c8(0x688)](_0x33e7c8(0x199));if(_0x17d810)_0x17d810[_0x33e7c8(0x4ba)][_0x33e7c8(0x688)](_0x33e7c8(0x199));});_0x1ec04d&&_0x1ec04d[_0x360555(0x670)]('click',()=>{const _0x29a79c=_0x360555;_0x1ec04d[_0x29a79c(0x4ba)]['add'](_0x29a79c(0x2ea)),topicTab['classList'][_0x29a79c(0x4c3)](_0x29a79c(0x2ea)),textTab[_0x29a79c(0x4ba)]['remove'](_0x29a79c(0x2ea)),fileTab[_0x29a79c(0x4ba)][_0x29a79c(0x4c3)]('active'),worksheetTab[_0x29a79c(0x4ba)][_0x29a79c(0x4c3)](_0x29a79c(0x2ea));if(_0xf6947e)_0xf6947e[_0x29a79c(0x4ba)][_0x29a79c(0x4c3)]('active');if(_0x1a7ca3)_0x1a7ca3[_0x29a79c(0x4ba)]['remove']('active');if(_0x3a26f1)_0x3a26f1[_0x29a79c(0x4ba)]['remove'](_0x29a79c(0x2ea));_0x17d810[_0x29a79c(0x4ba)][_0x29a79c(0x4c3)](_0x29a79c(0x199)),topicInputArea['classList']['add']('hidden'),textInputArea[_0x29a79c(0x4ba)][_0x29a79c(0x688)](_0x29a79c(0x199)),fileInputArea[_0x29a79c(0x4ba)][_0x29a79c(0x688)]('hidden'),worksheetInputArea[_0x29a79c(0x4ba)][_0x29a79c(0x688)](_0x29a79c(0x199));if(_0x41c4b9)_0x41c4b9[_0x29a79c(0x4ba)][_0x29a79c(0x688)](_0x29a79c(0x199));if(_0x24cd8a)_0x24cd8a[_0x29a79c(0x4ba)][_0x29a79c(0x688)]('hidden');if(_0x76c975)_0x76c975['classList'][_0x29a79c(0x688)](_0x29a79c(0x199));});const _0x15e1d8=document[_0x360555(0x75f)]('blueprint-upload-input'),_0x2be8e6=document[_0x360555(0x75f)](_0x360555(0x5d1));_0x15e1d8&&_0x15e1d8[_0x360555(0x670)](_0x360555(0x1ec),_0x462a4d=>{const _0x5ce904=_0x360555;_0x462a4d[_0x5ce904(0x4a8)][_0x5ce904(0x483)][_0x5ce904(0x299)]>0x0?_0x2be8e6[_0x5ce904(0x108)]=![]:_0x2be8e6[_0x5ce904(0x108)]=!![];});_0x2be8e6&&_0x2be8e6[_0x360555(0x670)](_0x360555(0xce),handleGenerateFromBlueprint);const _0x1f4155=document[_0x360555(0x75f)](_0x360555(0xcd)),_0x49c7f0=document[_0x360555(0x75f)](_0x360555(0x2dc));_0x1f4155&&_0x1f4155['addEventListener']('change',_0x370075=>{const _0xe4586=_0x360555;_0x49c7f0['disabled']=_0x370075[_0xe4586(0x4a8)][_0xe4586(0x483)]['length']===0x0;});_0x49c7f0&&_0x49c7f0[_0x360555(0x670)](_0x360555(0xce),handleGenerateParallelTest);loadQuizBtn[_0x360555(0x670)](_0x360555(0xce),handleLoadQuiz),startQuizBtn[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x252e2f=_0x360555,_0x25cd67=document[_0x252e2f(0x75f)](_0x252e2f(0x5ec));currentStudentName=_0x25cd67['value'];if(!currentStudentName){showMessage(_0x252e2f(0x49f));return;}studentNameSelectionView[_0x252e2f(0x4ba)][_0x252e2f(0x688)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x360555(0x75f)](_0x360555(0x641))[_0x360555(0x670)](_0x360555(0xce),showJoinGameView),document['getElementById'](_0x360555(0x6fb))[_0x360555(0x670)](_0x360555(0xce),handleJoinLiveGame),document[_0x360555(0x75f)]('back-to-student-initial-btn')['addEventListener'](_0x360555(0xce),()=>showView(_0x360555(0x676)));const _0x4fcc09=()=>{const _0x3d7394=_0x360555,_0x2e0bf7=document[_0x3d7394(0x75f)](_0x3d7394(0x705))[_0x3d7394(0x4e9)][_0x3d7394(0x6c1)](/[^a-z0-9]/gi,'_')[_0x3d7394(0x57d)]();return _0x3d7394(0x7c1)+(_0x2e0bf7||_0x3d7394(0x6fd));},_0x516106=document[_0x360555(0x75f)](_0x360555(0x3bf));_0x516106&&_0x516106[_0x360555(0x670)](_0x360555(0x4ec),_0x7ca975=>{const _0xc73049=_0x360555,_0x202508=_0x7ca975[_0xc73049(0x4a8)]['value'][_0xc73049(0x57d)]()[_0xc73049(0x74d)](),_0x42371e=document['getElementById']('math-topics-checkbox-container'),_0x3cefb2=_0x42371e['querySelectorAll'](_0xc73049(0x32b));_0x3cefb2['forEach'](_0x4f2fd6=>{const _0x5331b2=_0xc73049;let _0x21e422=![];const _0x529182=_0x4f2fd6[_0x5331b2(0x655)](_0x5331b2(0x22e));_0x529182[_0x5331b2(0x748)](_0x2578fc=>{const _0x1b3255=_0x5331b2,_0x40fa82=_0x2578fc[_0x1b3255(0x440)](_0x1b3255(0x459))['textContent'][_0x1b3255(0x57d)]();_0x40fa82[_0x1b3255(0x10c)](_0x202508)?(_0x2578fc[_0x1b3255(0xc5)][_0x1b3255(0x52b)]=_0x1b3255(0x65f),_0x21e422=!![]):_0x2578fc[_0x1b3255(0xc5)][_0x1b3255(0x52b)]=_0x1b3255(0x7e9);}),_0x21e422?_0x4f2fd6[_0x5331b2(0xc5)]['display']=_0x5331b2(0x6ee):_0x4f2fd6[_0x5331b2(0xc5)][_0x5331b2(0x52b)]='none';});});document['getElementById'](_0x360555(0x7e7))[_0x360555(0x670)](_0x360555(0xce),()=>exportTableAsImage('results-table-container',_0x4fcc09())),document[_0x360555(0x75f)]('export-pdf-btn')[_0x360555(0x670)](_0x360555(0xce),()=>exportTableAsPDF(_0x360555(0x796),_0x4fcc09())),document[_0x360555(0x75f)](_0x360555(0x4ae))[_0x360555(0x670)](_0x360555(0xce),()=>exportTableAsWord(_0x360555(0x194),_0x4fcc09())),document[_0x360555(0x75f)](_0x360555(0x622))[_0x360555(0x670)](_0x360555(0xce),()=>exportTableAsExcel('results-table',_0x4fcc09()));const _0xe6bf77=()=>{const _0x1f2847=_0x360555,_0x33a46b=document['getElementById']('results-quiz-title')[_0x1f2847(0x4e9)]['replace'](/[^a-z0-9]/gi,'_')[_0x1f2847(0x57d)]();return _0x1f2847(0x7ed)+(_0x33a46b||_0x1f2847(0x6fd));};document[_0x360555(0x75f)](_0x360555(0x5ed))[_0x360555(0x670)](_0x360555(0xce),()=>exportTableAsImage(_0x360555(0xe3),_0xe6bf77())),document[_0x360555(0x75f)](_0x360555(0x466))[_0x360555(0x670)]('click',()=>exportTableAsPDF(_0x360555(0x746),_0xe6bf77())),document[_0x360555(0x75f)](_0x360555(0xb1))[_0x360555(0x670)]('click',()=>exportTableAsWord(_0x360555(0xe3),_0xe6bf77())),document[_0x360555(0x75f)](_0x360555(0x328))['addEventListener']('click',()=>exportTableAsExcel(_0x360555(0x746),_0xe6bf77())),projectQuizzesList[_0x360555(0x670)](_0x360555(0xce),async _0x3fe247=>{const _0x67b513=_0x360555,_0x1acac0=_0x3fe247['target'][_0x67b513(0x753)](_0x67b513(0x2f1)),_0x4ae8b4=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x26d)),_0x2eaadd=_0x3fe247[_0x67b513(0x4a8)]['closest']('.compare-results-btn'),_0x1c0d21=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)]('.generate-lesson-btn'),_0x1277d0=_0x3fe247['target'][_0x67b513(0x753)](_0x67b513(0x169)),_0x355af6=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)]('.copy-quiz-id-list-btn'),_0x13aa7f=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x405)),_0x34f943=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x73d)),_0x85158b=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x767)),_0x4ca71=_0x3fe247[_0x67b513(0x4a8)]['closest']('.rename-quiz-btn'),_0x243e1f=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x71b)),_0x4a5a8f=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x468)),_0x135c4e=_0x3fe247[_0x67b513(0x4a8)]['closest'](_0x67b513(0x3aa)),_0x4e78c5=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x4d0)),_0x5322c5=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x7ae)),_0x1f591e=_0x3fe247[_0x67b513(0x4a8)][_0x67b513(0x753)](_0x67b513(0x308)),_0x53ef60=_0x3fe247['target'][_0x67b513(0x753)](_0x67b513(0xb9)),_0x5f4497=_0x3fe247['target'][_0x67b513(0x753)](_0x67b513(0x94)),_0xf2de7b=_0x3fe247[_0x67b513(0x4a8)]['closest'](_0x67b513(0x2ff)),_0xc59bbc=_0x3fe247['target'][_0x67b513(0x753)]('.quiz-status-btn'),_0x38a620=_0x3fe247[_0x67b513(0x4a8)]['closest'](_0x67b513(0x225));if(_0x38a620){const _0x31178e=_0x38a620[_0x67b513(0x384)]['quizId'],_0x481de4=document[_0x67b513(0x75f)]('actions-container-'+_0x31178e);_0x481de4&&_0x481de4[_0x67b513(0x4ba)][_0x67b513(0x565)](_0x67b513(0x199));}else{if(_0x4ae8b4){const _0x3aff7c=_0x4ae8b4['dataset'][_0x67b513(0x13d)],_0x2dfa9c=allQuizzes[_0x67b513(0x1fc)](_0xb0cec=>_0xb0cec['id']===_0x3aff7c);_0x2dfa9c&&handleGenerateParallelPostTest(_0x2dfa9c);}else{if(_0x2eaadd)handleCompareResults(_0x2eaadd['dataset'][_0x67b513(0x13d)],_0x2eaadd['dataset'][_0x67b513(0x41b)]);else{if(_0x1c0d21){const _0x55694f=_0x1c0d21['dataset'][_0x67b513(0x13d)],_0x14befd=allQuizzes[_0x67b513(0x1fc)](_0x1b4abf=>_0x1b4abf['id']===_0x55694f);_0x14befd&&_0x14befd[_0x67b513(0x150)]?(displayLessonPlan(_0x14befd[_0x67b513(0x150)],_0x14befd),showConfirmation(_0x67b513(0x436),()=>handleGenerateLessonPlan(_0x55694f)),document[_0x67b513(0x75f)](_0x67b513(0x188))['querySelector']('h3')['textContent']='แผนการสอน',document[_0x67b513(0x75f)](_0x67b513(0x761))[_0x67b513(0x4e9)]=_0x67b513(0x3c8)):handleGenerateLessonPlan(_0x55694f);}else{if(_0x1277d0)handleToggleStarQuiz(_0x1277d0['dataset'][_0x67b513(0x13d)]);else{if(_0x355af6)copyTextToClipboard(_0x355af6['dataset']['quizId'],_0x67b513(0x4fa));else{if(_0x13aa7f)handleOpenQuizEditor(_0x13aa7f[_0x67b513(0x384)][_0x67b513(0x13d)]);else{if(_0x34f943)handleQuizSettings(_0x34f943[_0x67b513(0x384)][_0x67b513(0x13d)]);else{if(_0x85158b)handleDuplicateQuiz(_0x85158b[_0x67b513(0x384)][_0x67b513(0x13d)]);else{if(_0x4ca71)handleRenameQuiz(_0x4ca71['dataset'][_0x67b513(0x13d)],_0x4ca71[_0x67b513(0x384)][_0x67b513(0x151)]);else{if(_0x243e1f){const _0x30f863=_0x243e1f[_0x67b513(0x384)][_0x67b513(0x13d)],_0xbb508b=allQuizzes[_0x67b513(0x1fc)](_0x13908b=>_0x13908b['id']===_0x30f863);_0xbb508b&&handleGenerateParallelFromBank(_0xbb508b);}else{if(_0x4a5a8f)handleMoveQuiz(_0x4a5a8f[_0x67b513(0x384)][_0x67b513(0x13d)]);else{if(_0x135c4e)handleManualQuizPairing(_0x135c4e['dataset'][_0x67b513(0x13d)]);else{if(_0x4e78c5)handleUnpairQuiz(_0x4e78c5[_0x67b513(0x384)][_0x67b513(0x13d)]);else{if(_0x5322c5){const _0x31ad65=_0x5322c5[_0x67b513(0x384)][_0x67b513(0x13d)],_0x410777=allQuizzes[_0x67b513(0x1fc)](_0x567573=>_0x567573['id']===_0x31ad65);if(_0x410777)startPresentation(_0x410777);}else{if(_0x1f591e){const _0xddcc95=_0x1f591e['dataset'][_0x67b513(0x13d)],_0x5ea80d=allQuizzes[_0x67b513(0x1fc)](_0x802e9a=>_0x802e9a['id']===_0xddcc95);_0x5ea80d&&(currentQuizData=_0x5ea80d,startAdminTest());}else{if(_0x53ef60)handleStartLiveRace(_0x53ef60[_0x67b513(0x384)][_0x67b513(0x13d)]);else{if(_0x5f4497)actionTargetId=_0x5f4497[_0x67b513(0x384)]['quizId'],document[_0x67b513(0x75f)]('export-pdf-modal')[_0x67b513(0x4ba)][_0x67b513(0x4c3)](_0x67b513(0x199));else{if(_0xf2de7b)showConfirmation(_0x67b513(0x78f)+_0xf2de7b['dataset']['topic']+_0x67b513(0x304),()=>handleDeleteQuiz(_0xf2de7b[_0x67b513(0x384)][_0x67b513(0x13d)]));else{if(_0xc59bbc)handleQuizStatus(_0xc59bbc[_0x67b513(0x384)][_0x67b513(0x13d)]);else _0x1acac0&&showQuizDetailView(_0x1acac0['dataset'][_0x67b513(0x13d)]);}}}}}}}}}}}}}}}}}}}}),document[_0x360555(0x75f)](_0x360555(0x746))['querySelector']('thead')['addEventListener'](_0x360555(0xce),_0x18ebe4=>{const _0x5e0f07=_0x360555,_0xc9667=_0x18ebe4[_0x5e0f07(0x4a8)][_0x5e0f07(0x753)](_0x5e0f07(0x3b3));if(!_0xc9667||!_0xc9667[_0x5e0f07(0x384)][_0x5e0f07(0x2ba)])return;const _0x235460=_0xc9667[_0x5e0f07(0x384)]['sort'];if(quizLeaderboardSortBy===_0x235460)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5e0f07(0x153)?_0x5e0f07(0x4ac):_0x5e0f07(0x153);else{quizLeaderboardSortBy=_0x235460;const _0x4e7644=[_0x5e0f07(0x1c3)];quizLeaderboardSortOrder=_0x4e7644[_0x5e0f07(0x10c)](_0x235460)?_0x5e0f07(0x153):_0x5e0f07(0x4ac);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x5e0f07(0x314));}),document[_0x360555(0x75f)](_0x360555(0x722))['addEventListener'](_0x360555(0xce),closePresentation),document[_0x360555(0x75f)]('prev-question-btn')[_0x360555(0x670)](_0x360555(0xce),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x360555(0x75f)](_0x360555(0x6bd))[_0x360555(0x670)]('click',()=>{const _0x2ece1b=_0x360555;currentQuizData[_0x2ece1b(0x3a0)]&&currentPresentationSlide<currentQuizData[_0x2ece1b(0x3a0)][_0x2ece1b(0x299)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x360555(0x670)](_0x360555(0x797),()=>{const _0x26796f=_0x360555;!document[_0x26796f(0x57c)]&&(presentationModal[_0x26796f(0xc5)][_0x26796f(0x52b)]=_0x26796f(0x7e9));}),document[_0x360555(0x75f)](_0x360555(0x7f2))[_0x360555(0x670)]('click',handleDeleteAllStudents),studentList[_0x360555(0x670)](_0x360555(0xce),_0xbcbd46=>{const _0x6d994d=_0x360555,_0x2aad6c=_0xbcbd46[_0x6d994d(0x4a8)][_0x6d994d(0x753)]('.delete-student-btn');if(_0x2aad6c){const _0xfc73aa=_0x2aad6c[_0x6d994d(0x384)][_0x6d994d(0x1c3)];handleDeleteStudent(_0xfc73aa);}}),document[_0x360555(0x75f)](_0x360555(0x327))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput[_0x360555(0x670)]('change',_0x354fc3=>{const _0x255197=_0x360555,_0xa157c4=_0x354fc3['target'][_0x255197(0x483)][0x0],_0x235009=document[_0x255197(0x75f)](_0x255197(0x327));_0xa157c4?(selectedFile=_0xa157c4,_0x235009[_0x255197(0x108)]=![]):(selectedFile=null,_0x235009['disabled']=!![]);}),document[_0x360555(0x75f)](_0x360555(0x37d))[_0x360555(0x670)](_0x360555(0x1ec),_0x154006=>{const _0x338f39=_0x360555,_0x1c19df=document[_0x338f39(0x75f)](_0x338f39(0xb0)),_0x272a44=document[_0x338f39(0x75f)](_0x338f39(0x49e)),_0x275696=document['getElementById'](_0x338f39(0x119));_0x154006['target']['value']===_0x338f39(0x7e9)?_0x1c19df[_0x338f39(0x4ba)][_0x338f39(0x688)](_0x338f39(0x199)):(_0x1c19df[_0x338f39(0x4ba)]['remove'](_0x338f39(0x199)),_0x154006['target']['value']===_0x338f39(0xae)?(_0x272a44[_0x338f39(0x4e9)]=_0x338f39(0xa8),_0x275696[_0x338f39(0x3a5)]='10'):(_0x272a44[_0x338f39(0x4e9)]=_0x338f39(0x91),_0x275696['value']='30'));}),document[_0x360555(0x75f)]('quiz-type-select')[_0x360555(0x670)]('change',_0x5de73f=>{const _0x1eb25d=_0x360555,_0x19f111=document[_0x1eb25d(0x75f)](_0x1eb25d(0x5d7)),_0x170e96=_0x5de73f['target'][_0x1eb25d(0x3a5)],_0x57358e=document[_0x1eb25d(0x440)](_0x1eb25d(0x1a5)),_0x4b36e7=document[_0x1eb25d(0x75f)]('passing-score-input'),_0x56c48f=document[_0x1eb25d(0x75f)](_0x1eb25d(0x3c1));_0x170e96===_0x1eb25d(0x5b4)?_0x57358e[_0x1eb25d(0x4e9)]=_0x1eb25d(0x53e):_0x57358e[_0x1eb25d(0x4e9)]=_0x1eb25d(0x12a),_0x170e96===_0x1eb25d(0xff)||_0x170e96===_0x1eb25d(0x5b3)||_0x170e96===_0x1eb25d(0x3c3)?_0x19f111[_0x1eb25d(0x4ba)][_0x1eb25d(0x4c3)](_0x1eb25d(0x199)):_0x19f111[_0x1eb25d(0x4ba)][_0x1eb25d(0x688)](_0x1eb25d(0x199)),_0x4b36e7[_0x1eb25d(0x69e)]=_0x56c48f[_0x1eb25d(0x3a5)];}),document['getElementById'](_0x360555(0x3c1))[_0x360555(0x670)](_0x360555(0x4ec),_0x4a0f6d=>{const _0xc78a28=_0x360555;document[_0xc78a28(0x75f)](_0xc78a28(0x555))[_0xc78a28(0x69e)]=_0x4a0f6d['target'][_0xc78a28(0x3a5)];}),document[_0x360555(0x75f)](_0x360555(0x5f7))[_0x360555(0x670)](_0x360555(0x1ec),_0x45e560=>{const _0x16f106=_0x360555,_0x4fd7b2=document[_0x16f106(0x75f)](_0x16f106(0x388)),_0x36c60f=document[_0x16f106(0x75f)](_0x16f106(0x4c7)),_0x4b7968=document[_0x16f106(0x75f)](_0x16f106(0x363));_0x45e560[_0x16f106(0x4a8)]['value']===_0x16f106(0x7e9)?_0x4fd7b2[_0x16f106(0x4ba)]['add'](_0x16f106(0x199)):(_0x4fd7b2[_0x16f106(0x4ba)][_0x16f106(0x4c3)](_0x16f106(0x199)),_0x45e560[_0x16f106(0x4a8)]['value']===_0x16f106(0xae)?_0x36c60f[_0x16f106(0x4e9)]=_0x16f106(0xa8):_0x36c60f[_0x16f106(0x4e9)]=_0x16f106(0x91));}),document['getElementById'](_0x360555(0x6b6))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0xe7afb9=_0x360555;document['getElementById'](_0xe7afb9(0x6d3))[_0xe7afb9(0x4ba)]['add'](_0xe7afb9(0x199));}),document[_0x360555(0x75f)](_0x360555(0x739))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x4f0df2=_0x360555;document['getElementById'](_0x4f0df2(0x6d3))['classList'][_0x4f0df2(0x688)](_0x4f0df2(0x199));}),document[_0x360555(0x75f)]('save-quiz-edits-btn')[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x2be6a3=_0x360555;document['getElementById']('quiz-editor-modal')[_0x2be6a3(0x4ba)][_0x2be6a3(0x688)](_0x2be6a3(0x199)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x360555(0x75f)](_0x360555(0x319))[_0x360555(0x670)](_0x360555(0xce),handleAutoFixLatex);const _0x3f9e31=document[_0x360555(0x75f)](_0x360555(0x1f8));_0x3f9e31&&_0x3f9e31[_0x360555(0x670)](_0x360555(0xce),_0x5d8068=>{const _0x2a9b1c=_0x360555,_0x426d9f=_0x5d8068[_0x2a9b1c(0x4a8)][_0x2a9b1c(0x753)](_0x2a9b1c(0x5ab));if(_0x426d9f){const _0x1ed17c=_0x426d9f[_0x2a9b1c(0x753)]('.question-editor-item'),_0x175467=parseInt(_0x1ed17c[_0x2a9b1c(0x384)][_0x2a9b1c(0x75c)],0xa);handleRegenerateQuestionInEditor(_0x175467);}});document['getElementById'](_0x360555(0x390))[_0x360555(0x670)](_0x360555(0xce),openQuizBankModal),document[_0x360555(0x75f)](_0x360555(0x7a5))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0xba34ac=_0x360555;document[_0xba34ac(0x75f)](_0xba34ac(0x630))[_0xba34ac(0x4ba)][_0xba34ac(0x688)]('hidden');}),document['getElementById']('bank-quiz-search-input')[_0x360555(0x670)](_0x360555(0x4ec),_0x3c94d8=>renderQuizBankList(_0x3c94d8[_0x360555(0x4a8)][_0x360555(0x3a5)]));const _0x537eba=document[_0x360555(0x75f)]('math-topics-checkbox-container');if(_0x537eba){let _0xcc6ea9=null;_0x537eba[_0x360555(0x670)]('click',_0x905743=>{const _0x31f0f3=_0x360555,_0x111b8c=_0x905743['target'],_0x563320=_0x111b8c[_0x31f0f3(0x753)](_0x31f0f3(0x409)),_0x29e6d8=_0x111b8c[_0x31f0f3(0x753)](_0x31f0f3(0x15d)),_0x54baf6=_0x111b8c[_0x31f0f3(0x753)]('.save-custom-topic-btn'),_0x37dbe9=_0x111b8c[_0x31f0f3(0x753)]('.cancel-edit-topic-btn');if(_0x29e6d8){_0x905743['preventDefault']();const _0xb91e92=_0x29e6d8[_0x31f0f3(0x384)]['id'],_0x58307c=_0x29e6d8[_0x31f0f3(0x753)](_0x31f0f3(0x16d))[_0x31f0f3(0x440)]('.topic-name-display')['textContent'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x58307c+'\x22?',()=>handleDeleteCustomTopic(_0xb91e92));}else{if(_0x563320){_0x905743[_0x31f0f3(0x7d9)]();_0xcc6ea9&&toggleTopicEditMode(_0xcc6ea9,![]);const _0x25c29a=_0x563320[_0x31f0f3(0x753)](_0x31f0f3(0x743));_0xcc6ea9=_0x25c29a,toggleTopicEditMode(_0x25c29a,!![]);}else{if(_0x54baf6){_0x905743[_0x31f0f3(0x7d9)]();const _0xe4ae26=_0x54baf6[_0x31f0f3(0x384)]['id'],_0x58e508=_0x54baf6[_0x31f0f3(0x753)](_0x31f0f3(0x743)),_0x6edfe6=_0x58e508[_0x31f0f3(0x440)](_0x31f0f3(0x3ea))[_0x31f0f3(0x3a5)];handleUpdateCustomTopic(_0xe4ae26,_0x6edfe6),_0xcc6ea9=null;}else{if(_0x37dbe9){_0x905743[_0x31f0f3(0x7d9)]();const _0x496615=_0x37dbe9[_0x31f0f3(0x753)](_0x31f0f3(0x743));toggleTopicEditMode(_0x496615,![]),_0xcc6ea9=null;}}}}}),document['getElementById'](_0x360555(0x1cd))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x27e0f3=_0x360555;document[_0x27e0f3(0x75f)]('lesson-plan-modal')[_0x27e0f3(0x4ba)][_0x27e0f3(0x688)](_0x27e0f3(0x199));}),document[_0x360555(0x75f)]('close-lesson-plan-modal-footer-btn')['addEventListener'](_0x360555(0xce),()=>{const _0x5609f6=_0x360555;document['getElementById'](_0x5609f6(0x62a))[_0x5609f6(0x4ba)][_0x5609f6(0x688)]('hidden');}),document['getElementById'](_0x360555(0x65d))[_0x360555(0x670)](_0x360555(0xce),handleExportLessonPDF);}document[_0x360555(0x75f)](_0x360555(0x7c4))[_0x360555(0x670)](_0x360555(0xce),()=>{const _0x118b70=_0x360555;document['getElementById']('comparison-modal')[_0x118b70(0x4ba)][_0x118b70(0x688)]('hidden');}),document[_0x360555(0x75f)]('close-comparison-modal-footer-btn')[_0x360555(0x670)]('click',()=>{const _0x2e8be2=_0x360555;document[_0x2e8be2(0x75f)]('comparison-modal')[_0x2e8be2(0x4ba)][_0x2e8be2(0x688)](_0x2e8be2(0x199));}),setupComparisonModalTabs(),document[_0x360555(0x115)][_0x360555(0x670)]('click',function(_0x41f6bf){const _0x42a046=_0x360555;if(_0x41f6bf[_0x42a046(0x4a8)]['classList']['contains'](_0x42a046(0x59c))){const _0x29e2bc=unescape(_0x41f6bf[_0x42a046(0x4a8)][_0x42a046(0x384)]['topic']);startSkillPractice(_0x29e2bc);}}),document['getElementById'](_0x360555(0x23a))[_0x360555(0x670)](_0x360555(0xce),_0x57acbc=>{const _0x245f6b=_0x360555,_0x238ec9=_0x57acbc[_0x245f6b(0x4a8)]['closest']('.delete-submission-btn');if(_0x238ec9){const _0x34c12b=_0x238ec9[_0x245f6b(0x384)][_0x245f6b(0x1c3)];handleDeleteSubmission(_0x34c12b);}});}async function showStudentProgressView(){const _0x19c781=_0x31a0a6;studentInitialView[_0x19c781(0x4ba)]['add'](_0x19c781(0x199)),document[_0x19c781(0x75f)](_0x19c781(0x2bf))[_0x19c781(0x4ba)]['remove'](_0x19c781(0x199));const _0x5c5705=document['getElementById'](_0x19c781(0x329)),_0x8fb638=document[_0x19c781(0x75f)]('progress-student-select'),_0x503ffe=document[_0x19c781(0x75f)](_0x19c781(0x393));_0x503ffe[_0x19c781(0x4ca)]=_0x19c781(0x124),_0x8fb638[_0x19c781(0x4ca)]=_0x19c781(0x234),_0x8fb638[_0x19c781(0x108)]=!![],_0x5c5705[_0x19c781(0x4ca)]=_0x19c781(0x59b);if(allProjects['length']===0x0){const _0x1a7273=collection(db,'artifacts/'+appId+_0x19c781(0x3c6)),_0x11bed8=await getDocs(_0x1a7273);allProjects=_0x11bed8[_0x19c781(0x67b)][_0x19c781(0x182)](_0x292d07=>({'id':_0x292d07['id'],..._0x292d07[_0x19c781(0xa7)]()}));}const _0x4a9b7c=allProjects['filter'](_0x577446=>_0x577446[_0x19c781(0x37f)]?.[_0x19c781(0xfe)]!==![]);_0x4a9b7c[_0x19c781(0x2ba)]((_0x7a0b2a,_0x13af3b)=>_0x7a0b2a['projectName'][_0x19c781(0x6de)](_0x13af3b['projectName'],'th')),_0x5c5705[_0x19c781(0x4ca)]=_0x19c781(0x762)+_0x4a9b7c['map'](_0x56bd75=>_0x19c781(0x93)+_0x56bd75['id']+'\x22>'+_0x56bd75[_0x19c781(0x24c)]+_0x19c781(0x6ed))['join'](''),_0x5c5705[_0x19c781(0x6d8)]=()=>{const _0x438892=_0x19c781,_0x532530=_0x8fb638['value'],_0x112dd7=_0x5c5705[_0x438892(0x3a5)];_0x8fb638[_0x438892(0x108)]=!![],_0x8fb638[_0x438892(0x4ca)]=_0x438892(0x234),_0x503ffe[_0x438892(0x4ca)]=_0x438892(0x5cf);if(!_0x112dd7)return;const _0x2e83a4=allProjects[_0x438892(0x1fc)](_0x6c9eec=>_0x6c9eec['id']===_0x112dd7);if(!_0x2e83a4||!_0x2e83a4[_0x438892(0x469)])return;const _0x1f117e=()=>{const _0x42c14a=_0x438892;_0x8fb638[_0x42c14a(0x4ca)]=_0x42c14a(0x234)+_0x2e83a4[_0x42c14a(0x469)][_0x42c14a(0x182)](_0x2d2548=>_0x42c14a(0x93)+_0x2d2548+'\x22>'+_0x2d2548+_0x42c14a(0x6ed))[_0x42c14a(0x7df)](''),_0x8fb638[_0x42c14a(0x108)]=![];const _0x1e6ce4=Array[_0x42c14a(0xc6)](_0x8fb638[_0x42c14a(0x638)])[_0x42c14a(0x182)](_0x8cbd17=>_0x8cbd17[_0x42c14a(0x3a5)]);if(_0x532530&&_0x1e6ce4[_0x42c14a(0x10c)](_0x532530))_0x8fb638[_0x42c14a(0x3a5)]=_0x532530,_0x8fb638[_0x42c14a(0x289)](new Event(_0x42c14a(0x1ec)));else _0x2e83a4[_0x42c14a(0x469)][_0x42c14a(0x299)]===0x1&&(_0x8fb638['value']=_0x2e83a4['students'][0x0],_0x8fb638[_0x42c14a(0x289)](new Event(_0x42c14a(0x1ec))));};if(_0x2e83a4[_0x438892(0x37f)]?.[_0x438892(0x251)]){if(sessionStorage[_0x438892(0x117)]('authed_project_'+_0x112dd7)===_0x438892(0x1e1)){_0x1f117e();return;}const _0x2997eb=document[_0x438892(0x75f)](_0x438892(0x712)),_0xf6e1b2=document['getElementById'](_0x438892(0x396)),_0x3daf15=document['getElementById'](_0x438892(0x3cc)),_0x39e521=document[_0x438892(0x75f)]('student-passcode-input'),_0x3f7556=document[_0x438892(0x75f)](_0x438892(0x246));document[_0x438892(0x75f)]('passcode-prompt-message')['textContent']=_0x438892(0x545)+_0x2e83a4[_0x438892(0x24c)],_0x39e521['value']='',_0x3f7556[_0x438892(0x4ba)][_0x438892(0x688)](_0x438892(0x199)),_0x2997eb[_0x438892(0x4ba)][_0x438892(0x4c3)](_0x438892(0x199));const _0x1c655d=()=>{const _0x13a0f5=_0x438892,_0x25a2e5=_0x39e521['value'][_0x13a0f5(0x74d)]();_0x25a2e5===_0x2e83a4[_0x13a0f5(0x37f)][_0x13a0f5(0x43a)]?(sessionStorage[_0x13a0f5(0x1de)](_0x13a0f5(0x1a0)+_0x112dd7,'true'),_0x2997eb[_0x13a0f5(0x4ba)][_0x13a0f5(0x688)](_0x13a0f5(0x199)),_0x1f117e(),_0xf6e1b2['removeEventListener']('click',_0x1c655d)):_0x3f7556[_0x13a0f5(0x4ba)][_0x13a0f5(0x4c3)]('hidden');};_0xf6e1b2[_0x438892(0x266)]=_0x1c655d,_0x3daf15[_0x438892(0x266)]=()=>{const _0x1ce051=_0x438892;_0x2997eb['classList'][_0x1ce051(0x688)](_0x1ce051(0x199)),_0x5c5705[_0x1ce051(0x3a5)]='',_0xf6e1b2[_0x1ce051(0x249)](_0x1ce051(0xce),_0x1c655d);};}else _0x1f117e();},_0x8fb638[_0x19c781(0x6d8)]=()=>{const _0x1c466d=_0x19c781,_0x19f864=_0x5c5705['value'],_0x48ef87=_0x8fb638[_0x1c466d(0x3a5)];_0x19f864&&_0x48ef87&&renderStudentProgressDashboard(_0x19f864,_0x48ef87);};}async function renderStudentProgressDashboard(_0x3bfa1a,_0xc41094){const _0x325621=_0x31a0a6,_0xc5e28e=document[_0x325621(0x75f)](_0x325621(0x393));_0xc5e28e[_0x325621(0x4ca)]=_0x325621(0x2cf);try{const _0x8e82c4=collection(db,_0x325621(0x678)+appId+_0x325621(0x132)),_0x1ac6d7=query(_0x8e82c4,where(_0x325621(0x628),'==',_0x3bfa1a)),_0x4cd8bd=await getDocs(_0x1ac6d7),_0x3cffa0=_0x4cd8bd[_0x325621(0x67b)][_0x325621(0x182)](_0x54f552=>({'id':_0x54f552['id'],..._0x54f552['data']()})),_0x355167=_0x3cffa0['map'](_0x37f3be=>getDoc(doc(db,_0x325621(0x678)+appId+'/public/data/quizzes/'+_0x37f3be['id']+_0x325621(0x5b6),_0xc41094))),_0x2b17bc=await Promise[_0x325621(0x7b4)](_0x355167),_0x25e8cf=_0x2b17bc['filter'](_0x8a51f0=>_0x8a51f0[_0x325621(0x1a9)]())[_0x325621(0x182)](_0x3a9948=>({'quizId':_0x3a9948[_0x325621(0x568)][_0x325621(0x59d)]['parent']['id'],..._0x3a9948[_0x325621(0xa7)]()}));if(_0x25e8cf[_0x325621(0x299)]===0x0){_0xc5e28e[_0x325621(0x4ca)]=_0x325621(0x64c);return;}let _0x1c722c='<div\x20class=\x22space-y-4\x22>';_0x25e8cf[_0x325621(0x748)](_0xe77b8d=>{const _0x1bbcbe=_0x325621,_0x39a8ff=_0x3cffa0[_0x1bbcbe(0x1fc)](_0x2ebb85=>_0x2ebb85['id']===_0xe77b8d[_0x1bbcbe(0x13d)]),_0x1bdf73=_0x39a8ff[_0x1bbcbe(0x37f)]?.['resultsDisplay']||_0x1bbcbe(0x5fc),_0xe55f8d=_0x39a8ff[_0x1bbcbe(0x37f)]?.['passingScore']??0x0,_0x2b020c=_0xe77b8d['bestScore']>=_0xe55f8d;let _0x3c4578='',_0xb9b102=_0x1bbcbe(0x4f9);switch(_0x1bdf73){case _0x1bbcbe(0x5fc):case _0x1bbcbe(0x586):_0xb9b102=_0x2b020c?_0x1bbcbe(0x666):'bg-red-50',_0x3c4578=_0x1bbcbe(0xc3)+(_0x2b020c?_0x1bbcbe(0x73f):'text-red-700')+'\x22>'+_0xe77b8d[_0x1bbcbe(0x5dc)]+'\x20/\x20'+_0xe77b8d[_0x1bbcbe(0x3e2)]+_0x1bbcbe(0x1e0)+(_0x2b020c?_0x1bbcbe(0x644):_0x1bbcbe(0x4b2))+'\x22>'+(_0x2b020c?_0x1bbcbe(0x75b):_0x1bbcbe(0x77a))+_0x1bbcbe(0x10a);break;case'show_pass_fail_only':_0xb9b102=_0x2b020c?_0x1bbcbe(0x666):_0x1bbcbe(0x7c7),_0x3c4578=_0x1bbcbe(0x198)+(_0x2b020c?_0x1bbcbe(0x644):_0x1bbcbe(0x4b2))+'\x22>'+(_0x2b020c?_0x1bbcbe(0x75b):_0x1bbcbe(0x77a))+_0x1bbcbe(0x10a);break;case _0x1bbcbe(0x6f1):_0xb9b102='bg-yellow-50',_0x3c4578='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x1c722c+=_0x1bbcbe(0x257)+_0xb9b102+_0x1bbcbe(0x354)+_0x39a8ff[_0x1bbcbe(0x151)]+_0x1bbcbe(0x30e)+_0xe77b8d[_0x1bbcbe(0x489)][_0x1bbcbe(0x299)]+_0x1bbcbe(0x186)+new Date(_0xe77b8d[_0x1bbcbe(0x72a)])[_0x1bbcbe(0x3fb)]('th-TH')+_0x1bbcbe(0x500)+_0x3c4578+_0x1bbcbe(0x6d0);}),_0x1c722c+=_0x325621(0xdc),_0xc5e28e[_0x325621(0x4ca)]=_0x1c722c;}catch(_0x5ab212){console[_0x325621(0x382)](_0x325621(0x1cc),_0x5ab212),_0xc5e28e[_0x325621(0x4ca)]=_0x325621(0x77c);}}function setupStudentProgressListeners(){const _0x29487a=_0x31a0a6;document['getElementById']('view-my-progress-btn')[_0x29487a(0x670)](_0x29487a(0xce),showStudentProgressView),document[_0x29487a(0x75f)]('back-to-student-home-btn')[_0x29487a(0x670)](_0x29487a(0xce),()=>{const _0x4e3cd9=_0x29487a;document[_0x4e3cd9(0x75f)](_0x4e3cd9(0x2bf))[_0x4e3cd9(0x4ba)][_0x4e3cd9(0x688)](_0x4e3cd9(0x199)),document[_0x4e3cd9(0x75f)](_0x4e3cd9(0x345))['classList'][_0x4e3cd9(0x4c3)](_0x4e3cd9(0x199));});}async function startSkillPractice(_0x1fdbe8){const _0x222e9a=_0x31a0a6;studentResultArea['classList'][_0x222e9a(0x688)](_0x222e9a(0x199)),studentQuizArea[_0x222e9a(0x4ca)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x222e9a(0x4ba)][_0x222e9a(0x4c3)](_0x222e9a(0x199));try{const _0xac47f2=await getStandardizedTopic(_0x1fdbe8);console['log'](_0x222e9a(0x2b4)+_0x1fdbe8+_0x222e9a(0x1d5)+_0xac47f2+'\x22'),studentQuizArea[_0x222e9a(0x440)]('p')[_0x222e9a(0x4e9)]=_0x222e9a(0x5de)+_0xac47f2+'\x22...';const _0x1657b9=collection(db,_0x222e9a(0x678)+appId+_0x222e9a(0x392)),_0x565078=query(_0x1657b9,where(_0x222e9a(0x151),'==',_0xac47f2)),_0x3acc26=await getDocs(_0x565078);if(_0x3acc26[_0x222e9a(0x67b)]['length']>=0x3){console[_0x222e9a(0x795)](_0x222e9a(0x7c8)+_0x3acc26[_0x222e9a(0x67b)]['length']+_0x222e9a(0x2ca)+_0xac47f2+_0x222e9a(0x771));let _0x408d8c=_0x3acc26[_0x222e9a(0x67b)]['map'](_0x2538a8=>_0x2538a8['data']());shuffleArray(_0x408d8c);const _0x52e155={'topic':_0xac47f2,'questions':_0x408d8c[_0x222e9a(0x634)](0x0,0x3)};displaySkillPracticeDrill(_0x52e155);}else{console[_0x222e9a(0x795)](_0x222e9a(0x7b0)+_0xac47f2+_0x222e9a(0x4e5));const _0x454644=await generatePracticeQuestions(_0xac47f2);await saveDrillToPracticeBank(_0x454644,_0xac47f2),displaySkillPracticeDrill(_0x454644);}}catch(_0x350d3c){console[_0x222e9a(0x382)](_0x222e9a(0x74b),_0x350d3c),showMessage(_0x222e9a(0x1d3)),studentQuizArea[_0x222e9a(0x4ba)][_0x222e9a(0x688)](_0x222e9a(0x199)),studentResultArea[_0x222e9a(0x4ba)][_0x222e9a(0x4c3)](_0x222e9a(0x199));}}async function saveDrillToPracticeBank(_0xf3fbad,_0x2eb159){const _0x175768=_0x31a0a6,_0x1d5268=collection(db,'artifacts/'+appId+_0x175768(0x392)),_0xba3190=writeBatch(db);_0xf3fbad['questions'][_0x175768(0x748)](_0x3aacb=>{const _0x1f0525=_0x175768,_0x191ac1=doc(_0x1d5268);_0xba3190[_0x1f0525(0x69f)](_0x191ac1,{'topic':_0x2eb159,'questionText':_0x3aacb[_0x1f0525(0x149)],'options':_0x3aacb[_0x1f0525(0x638)],'correctAnswerIndex':_0x3aacb[_0x1f0525(0x18c)],'explanation':_0x3aacb['explanation'],'createdAt':serverTimestamp()});});try{await _0xba3190[_0x175768(0x218)](),console['log']('บันทึกคำถามใหม่\x20'+_0xf3fbad['questions'][_0x175768(0x299)]+_0x175768(0x692));}catch(_0xe26a05){console[_0x175768(0x382)](_0x175768(0x61e),_0xe26a05);}}async function getStandardizedTopic(_0x25d598){const _0x3c6140=_0x31a0a6,_0x3402d0=_0x3c6140(0x6b1)+_0x25d598+_0x3c6140(0x2e0),_0x3c47f6={'type':_0x3c6140(0x14f),'properties':{'standardTopic':{'type':_0x3c6140(0x131)}},'required':['standardTopic']};try{const _0x406b40=await callAnalysisApi(_0x3402d0,_0x3c47f6);return _0x406b40[_0x3c6140(0x7b2)];}catch(_0x40a33f){return console[_0x3c6140(0x382)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x40a33f),_0x25d598;}}async function generatePracticeQuestions(_0x119be4){const _0x5110d4=_0x31a0a6,_0xd830ad=_0x5110d4(0x279)+_0x119be4+_0x5110d4(0x408)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x508fc5={'type':_0x5110d4(0x14f),'properties':{'questionText':{'type':_0x5110d4(0x131)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5110d4(0x1f5)},'explanation':{'type':_0x5110d4(0x131)}},'required':['questionText',_0x5110d4(0x638),_0x5110d4(0x18c),'explanation']},_0x4527f0={'type':_0x5110d4(0x14f),'properties':{'topic':{'type':_0x5110d4(0x131)},'questions':{'type':_0x5110d4(0x262),'items':_0x508fc5}},'required':[_0x5110d4(0x151),_0x5110d4(0x3a0)]};return await callAnalysisApi(_0xd830ad,_0x4527f0);}function displayLessonPlan(_0x20b0cd,_0x1ba548){const _0x2b9c07=_0x31a0a6,_0x1f4ca3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x1ba548[_0x2b9c07(0x151)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x20b0cd['learningGaps'][_0x2b9c07(0x182)](_0x3823fa=>_0x2b9c07(0x70f)+_0x3823fa+_0x2b9c07(0x5dd))[_0x2b9c07(0x7df)]('')+_0x2b9c07(0x5a4)+_0x20b0cd[_0x2b9c07(0x4b8)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x20b0cd['practiceProblems'][_0x2b9c07(0x182)](_0x475e53=>_0x2b9c07(0x23b)+_0x475e53[_0x2b9c07(0x44e)]+_0x2b9c07(0x779)+_0x475e53[_0x2b9c07(0x426)]+'</p></div>')[_0x2b9c07(0x7df)]('')+_0x2b9c07(0x42c);document[_0x2b9c07(0x75f)](_0x2b9c07(0x46e))[_0x2b9c07(0x4e9)]=_0x2b9c07(0x508)+_0x1ba548[_0x2b9c07(0x151)],document[_0x2b9c07(0x75f)](_0x2b9c07(0x180))[_0x2b9c07(0x4ca)]=_0x1f4ca3,document[_0x2b9c07(0x75f)](_0x2b9c07(0x62a))[_0x2b9c07(0x4ba)]['remove'](_0x2b9c07(0x199));if(window[_0x2b9c07(0x428)])MathJax[_0x2b9c07(0x3d6)]();}function displaySkillPracticeDrill(_0x4058e7){const _0x537d06=_0x31a0a6;let _0x4fa614=0x0;const _0x294d02=_0x4058e7[_0x537d06(0x3a0)],_0x2bc538=()=>{const _0x22d7fe=_0x537d06,_0x39873c=_0x294d02[_0x4fa614],_0x622b6=_0x22d7fe(0x14c)+(_0x4fa614+0x1)+_0x22d7fe(0xe0)+_0x294d02[_0x22d7fe(0x299)]+_0x22d7fe(0x554)+_0x39873c['questionText']+_0x22d7fe(0x659)+_0x39873c[_0x22d7fe(0x638)][_0x22d7fe(0x182)]((_0x506d47,_0x3bd2b2)=>_0x22d7fe(0x98)+_0x3bd2b2+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x3bd2b2+_0x22d7fe(0x6f0)+_0x3bd2b2+'\x22>'+_0x506d47+_0x22d7fe(0x46d))[_0x22d7fe(0x7df)]('')+_0x22d7fe(0x155);studentQuizArea[_0x22d7fe(0x4ca)]=_0x622b6;if(window[_0x22d7fe(0x428)])MathJax[_0x22d7fe(0x3d6)]([studentQuizArea]);document[_0x22d7fe(0x75f)]('hint-btn')[_0x22d7fe(0x670)]('click',async()=>{const _0x4a2097=_0x22d7fe,_0x5a129d=await getHintForQuestion(_0x39873c[_0x4a2097(0x149)]);showMessage(_0x5a129d);}),document[_0x22d7fe(0x75f)]('check-answer-btn')[_0x22d7fe(0x670)](_0x22d7fe(0xce),()=>{const _0xcb7b1f=_0x22d7fe,_0x41d8d3=document[_0xcb7b1f(0x440)](_0xcb7b1f(0x804));if(!_0x41d8d3){showMessage(_0xcb7b1f(0x5ac));return;}const _0x259389=document[_0xcb7b1f(0x75f)](_0xcb7b1f(0x176)),_0x17196c=parseInt(_0x41d8d3[_0xcb7b1f(0x3a5)])===_0x39873c['correctAnswerIndex'];_0x17196c?(_0x259389[_0xcb7b1f(0x7ff)]=_0xcb7b1f(0x4b3),_0x259389[_0xcb7b1f(0x4ca)]=_0xcb7b1f(0x4de)+_0x39873c[_0xcb7b1f(0xfc)]):(_0x259389['className']=_0xcb7b1f(0x51d),_0x259389[_0xcb7b1f(0x4ca)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x39873c[_0xcb7b1f(0xfc)]);_0x259389[_0xcb7b1f(0x4ba)][_0xcb7b1f(0x4c3)](_0xcb7b1f(0x199));if(window[_0xcb7b1f(0x428)])MathJax[_0xcb7b1f(0x3d6)]([_0x259389]);document[_0xcb7b1f(0x75f)]('check-answer-btn')[_0xcb7b1f(0x4ba)][_0xcb7b1f(0x688)](_0xcb7b1f(0x199)),document[_0xcb7b1f(0x75f)](_0xcb7b1f(0x141))[_0xcb7b1f(0x4ba)][_0xcb7b1f(0x688)]('hidden'),document['getElementById'](_0xcb7b1f(0x60c))['classList']['remove']('hidden');}),document['getElementById'](_0x22d7fe(0x60c))['addEventListener'](_0x22d7fe(0xce),()=>{const _0x2808e3=_0x22d7fe;_0x4fa614++,_0x4fa614<_0x294d02['length']?_0x2bc538():(studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x2808e3(0x1c1))[_0x2808e3(0x670)]('click',()=>{const _0x1c25d0=_0x2808e3;studentQuizArea[_0x1c25d0(0x4ba)][_0x1c25d0(0x688)](_0x1c25d0(0x199)),studentResultArea[_0x1c25d0(0x4ba)][_0x1c25d0(0x4c3)](_0x1c25d0(0x199));}));});};_0x2bc538();}async function getHintForQuestion(_0x58bfa4){const _0x4b576c=_0x31a0a6,_0x417a73=_0x4b576c(0x42e)+_0x58bfa4+_0x4b576c(0x759),_0x411ea8={'type':_0x4b576c(0x14f),'properties':{'hint':{'type':_0x4b576c(0x131)}},'required':[_0x4b576c(0x2a5)]};try{const _0x37dce6=await callAnalysisApi(_0x417a73,_0x411ea8);return _0x37dce6['hint'];}catch(_0x308597){return console[_0x4b576c(0x382)](_0x4b576c(0x631),_0x308597),_0x4b576c(0x370);}}async function extractTextFromPdf(_0x1d5217){const _0xd43e58=_0x31a0a6;pdfjsLib['GlobalWorkerOptions'][_0xd43e58(0x29d)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x6a91b9=await _0x1d5217[_0xd43e58(0x689)](),_0x4bef61=await pdfjsLib['getDocument'](_0x6a91b9)[_0xd43e58(0x9e)],_0x56c211=_0x4bef61[_0xd43e58(0x6c5)];let _0x3580c8='';for(let _0x371a9b=0x1;_0x371a9b<=_0x56c211;_0x371a9b++){const _0x11e03a=await _0x4bef61['getPage'](_0x371a9b),_0x235301=await _0x11e03a[_0xd43e58(0x263)](),_0x1e806c=_0x235301[_0xd43e58(0x473)][_0xd43e58(0x182)](_0x1a8385=>_0x1a8385['str'])['join']('\x20');_0x3580c8+=_0x1e806c+'\x0a\x0a';}return _0x3580c8;}async function handleGenerateFromBlueprint(){const _0x16d7aa=_0x31a0a6,_0x13ffd5=document[_0x16d7aa(0x75f)](_0x16d7aa(0x719)),_0x9c04c3=document[_0x16d7aa(0x75f)](_0x16d7aa(0x256)),_0x3d0d5f=_0x13ffd5['files'][0x0],_0x5081e5=_0x9c04c3[_0x16d7aa(0x483)][_0x16d7aa(0x299)]>0x0?_0x9c04c3[_0x16d7aa(0x483)][0x0]:null;if(!_0x3d0d5f){showMessage(_0x16d7aa(0x656));return;}const _0x4f27ef=document[_0x16d7aa(0x75f)](_0x16d7aa(0x7ba)),_0xcf2519=document['getElementById'](_0x16d7aa(0x2a1)),_0x54b9e5=document[_0x16d7aa(0x75f)](_0x16d7aa(0x4af)),_0x438ebd=document[_0x16d7aa(0x75f)](_0x16d7aa(0x5d1));_0x438ebd['disabled']=!![],document[_0x16d7aa(0x75f)](_0x16d7aa(0x394))[_0x16d7aa(0x4ba)][_0x16d7aa(0x4c3)](_0x16d7aa(0x199)),_0x54b9e5[_0x16d7aa(0x4ca)]='',_0x4f27ef[_0x16d7aa(0x4ba)][_0x16d7aa(0x4c3)](_0x16d7aa(0x199));try{_0xcf2519[_0x16d7aa(0x4e9)]=_0x16d7aa(0x217);const _0x4b6541=await extractTextFromPdf(_0x3d0d5f);if(!_0x4b6541[_0x16d7aa(0x74d)]())throw new Error(_0x16d7aa(0x2ac));let _0x1306d7='';_0x5081e5&&(_0xcf2519['textContent']='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x1306d7=await extractTextFromPdf(_0x5081e5));_0xcf2519[_0x16d7aa(0x4e9)]='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x2cd19b=document[_0x16d7aa(0x75f)]('include-images-checkbox')[_0x16d7aa(0x4b5)],_0x118d30=_0x2cd19b?_0x16d7aa(0x755):'',_0x10d114=_0x1306d7?_0x16d7aa(0x387)+_0x1306d7+_0x16d7aa(0x3ed):'',_0x5e2f48='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1306d7?_0x16d7aa(0x3db):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b6541+_0x16d7aa(0x3ed)+_0x10d114+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x118d30+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x16d7aa(0x18a),_0x4b34ae={'type':_0x16d7aa(0x14f),'properties':{'questionText':{'type':_0x16d7aa(0x131)},'questionType':{'type':'STRING','enum':[_0x16d7aa(0xff),_0x16d7aa(0xa5)]},'options':{'type':_0x16d7aa(0x262),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x16d7aa(0x131)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x16d7aa(0x149),_0x16d7aa(0x561),_0x16d7aa(0xfc)]},_0x4465cc={'type':_0x16d7aa(0x14f),'properties':{'topic':{'type':_0x16d7aa(0x131)},'questions':{'type':_0x16d7aa(0x262),'items':_0x4b34ae}},'required':[_0x16d7aa(0x151),_0x16d7aa(0x3a0)]};await handleApiCall(_0x5e2f48,_0x16d7aa(0x592),_0x4465cc);}catch(_0x4f2cc3){console[_0x16d7aa(0x382)](_0x16d7aa(0x116),_0x4f2cc3),showMessage(_0x16d7aa(0x379)+_0x4f2cc3[_0x16d7aa(0x5d6)]),_0x54b9e5[_0x16d7aa(0x4ca)]=_0x16d7aa(0x6e5);}finally{_0x4f27ef[_0x16d7aa(0x4ba)][_0x16d7aa(0x688)](_0x16d7aa(0x199)),_0x438ebd['disabled']=![];}}async function handleGenerateParallelFromBank(_0x297dc7){const _0xc4d340=_0x31a0a6,_0x587adf=document[_0xc4d340(0x75f)](_0xc4d340(0x7d2)),_0x1b8608=document[_0xc4d340(0x75f)](_0xc4d340(0x5ee));_0x1b8608['classList'][_0xc4d340(0x688)](_0xc4d340(0x199));const _0xdd308c=_0xc4d340(0x66f)+_0x297dc7[_0xc4d340(0x151)]+_0xc4d340(0x284);_0x587adf[_0xc4d340(0x29a)](_0xc4d340(0x2c3),_0xdd308c);const _0x2de30f=document['getElementById']('temp-loader-text-results');try{const _0xbea470=_0x297dc7['questions'][_0xc4d340(0x182)]((_0x55263e,_0x37b824)=>{const _0x4c5479=_0xc4d340;let _0x440f86=_0x37b824+0x1+'.\x20'+(_0x55263e[_0x4c5479(0x149)]||_0x55263e[_0x4c5479(0x31a)])+'\x0a';if(_0x55263e['options'])_0x440f86+=_0x55263e['options'][_0x4c5479(0x182)]((_0x17ae46,_0x338a0a)=>_0x4c5479(0x35e)+(_0x338a0a===_0x55263e[_0x4c5479(0x18c)]?_0x4c5479(0x4e0):'')+'\x20'+_0x17ae46)[_0x4c5479(0x7df)]('\x0a');else _0x55263e[_0x4c5479(0x590)]&&(_0x440f86+=_0x4c5479(0x15e)+_0x55263e['idealAnswer']);return _0x440f86;})[_0xc4d340(0x7df)]('\x0a\x0a');_0x2de30f[_0xc4d340(0x4e9)]=_0xc4d340(0x58a);const _0x2aa0cd=_0xc4d340(0x39f)+_0x297dc7[_0xc4d340(0x151)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbea470+_0xc4d340(0x78b)+simpleMathPrompt+_0xc4d340(0x18a),_0x27830d={'type':_0xc4d340(0x14f),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xc4d340(0x131),'enum':['multiple_choice',_0xc4d340(0xa5),_0xc4d340(0x5cc),_0xc4d340(0x6bc)]},'options':{'type':_0xc4d340(0x262),'items':{'type':_0xc4d340(0x131)}},'correctAnswerIndex':{'type':_0xc4d340(0x1f5)},'idealAnswer':{'type':_0xc4d340(0x131)},'correctAnswer':{'type':_0xc4d340(0x4be)},'stem':{'type':'STRING'},'correctResponse':{'type':_0xc4d340(0x131)},'allResponses':{'type':_0xc4d340(0x262),'items':{'type':'STRING'}},'explanation':{'type':_0xc4d340(0x131)},'imageCode':{'type':_0xc4d340(0x131)}},'required':[_0xc4d340(0x561),_0xc4d340(0xfc)]},_0x18b243={'type':_0xc4d340(0x14f),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xc4d340(0x262),'items':_0x27830d}},'required':['topic',_0xc4d340(0x3a0)]},_0x20b0e4=await callAnalysisApi(_0x2aa0cd,_0x18b243),_0x4c7737='(คู่ขนาน)\x20'+_0x297dc7[_0xc4d340(0x151)],_0x38d646={'topic':_0x4c7737,'questions':_0x20b0e4['questions'],'quizType':_0x297dc7[_0xc4d340(0x1f6)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0xc4d340(0x2ea),'settings':_0x297dc7['settings'],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x27746b;while(!![]){_0x27746b=Math[_0xc4d340(0x449)](0x3e8+Math[_0xc4d340(0x7f4)]()*0x2328)[_0xc4d340(0x798)]();const _0x214cd4=await getDoc(doc(db,_0xc4d340(0x678)+appId+_0xc4d340(0x132),_0x27746b));if(!_0x214cd4[_0xc4d340(0x1a9)]())break;}await setDoc(doc(db,_0xc4d340(0x678)+appId+_0xc4d340(0x132),_0x27746b),_0x38d646),showMessage(_0xc4d340(0x58d));}catch(_0x533d31){console[_0xc4d340(0x382)](_0xc4d340(0x2c5),_0x533d31),showMessage(_0xc4d340(0x379)+_0x533d31[_0xc4d340(0x5d6)]);}finally{const _0x3689b8=document[_0xc4d340(0x75f)]('temp-loader-results');_0x3689b8&&_0x3689b8['remove'](),_0x1b8608[_0xc4d340(0x4ba)]['remove'](_0xc4d340(0x199));}}async function handleGenerateParallelPostTest(_0x418140){const _0x4a1f26=_0x31a0a6,_0x5f2eb1=document[_0x4a1f26(0x75f)](_0x4a1f26(0x7d2)),_0xf2b8bd=document[_0x4a1f26(0x75f)]('project-quizzes-list');_0xf2b8bd[_0x4a1f26(0x4ba)][_0x4a1f26(0x688)](_0x4a1f26(0x199));const _0x39790a=_0x4a1f26(0x239);_0x5f2eb1['insertAdjacentHTML'](_0x4a1f26(0x2c3),_0x39790a);try{const _0xc62a39=_0x418140['questions'][_0x4a1f26(0x182)]((_0x5765d2,_0x1e55c7)=>{const _0x3fd987=_0x4a1f26;let _0x5df154=_0x1e55c7+0x1+'.\x20'+(_0x5765d2['questionText']||_0x5765d2[_0x3fd987(0x31a)]);if(_0x5765d2['options'])_0x5df154+=_0x3fd987(0x2de)+_0x5765d2['options']['join'](',\x20');return _0x5df154;})[_0x4a1f26(0x7df)]('\x0a\x0a'),_0x5e1516=_0x4a1f26(0x16c)+_0x418140['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc62a39+_0x4a1f26(0x803)+simpleMathPrompt+_0x4a1f26(0x18a),_0x3ff6fc={'type':_0x4a1f26(0x14f),'properties':{'topic':{'type':_0x4a1f26(0x131)},'questions':{'type':_0x4a1f26(0x262),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x4a1f26(0x131)},'questionType':{'type':'STRING'},'options':{'type':_0x4a1f26(0x262),'items':{'type':_0x4a1f26(0x131)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4a1f26(0x131)},'explanation':{'type':_0x4a1f26(0x131)}},'required':[_0x4a1f26(0x149),'explanation']}}},'required':[_0x4a1f26(0x151),_0x4a1f26(0x3a0)]},_0x997a8c=await callAnalysisApi(_0x5e1516,_0x3ff6fc),_0x107c96=_0x418140[_0x4a1f26(0x151)]['replace'](_0x4a1f26(0x694),'')['trim'](),_0x411709=_0x4a1f26(0x76e)+_0x107c96,_0x1b818a={..._0x997a8c,'topic':_0x411709,'quizType':_0x418140[_0x4a1f26(0x1f6)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x4a1f26(0x2ea),'settings':_0x418140[_0x4a1f26(0x37f)],'quizMode':'post-test','pairedQuizId':_0x418140['id']};let _0x373125;while(!![]){_0x373125=Math[_0x4a1f26(0x449)](0x3e8+Math[_0x4a1f26(0x7f4)]()*0x2328)[_0x4a1f26(0x798)]();const _0x30e60e=await getDoc(doc(db,_0x4a1f26(0x678)+appId+_0x4a1f26(0x132),_0x373125));if(!_0x30e60e[_0x4a1f26(0x1a9)]())break;}await setDoc(doc(db,_0x4a1f26(0x678)+appId+_0x4a1f26(0x132),_0x373125),_0x1b818a);const _0x52c1fc=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x418140['id']);await updateDoc(_0x52c1fc,{'pairedQuizId':_0x373125}),showMessage(_0x4a1f26(0x3c2));}catch(_0x5b6649){console[_0x4a1f26(0x382)](_0x4a1f26(0x413),_0x5b6649),showMessage(_0x4a1f26(0x379)+_0x5b6649['message']);}finally{const _0xa32112=document[_0x4a1f26(0x75f)](_0x4a1f26(0x4db));if(_0xa32112)_0xa32112[_0x4a1f26(0x4c3)]();_0xf2b8bd['classList'][_0x4a1f26(0x4c3)]('hidden');}}async function handleGenerateParallelTest(){const _0xd2713e=_0x31a0a6,_0x446842=document[_0xd2713e(0x75f)](_0xd2713e(0xcd)),_0x45dc73=_0x446842[_0xd2713e(0x483)][0x0];if(!_0x45dc73){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x333226=document[_0xd2713e(0x75f)](_0xd2713e(0x7ba)),_0x2cb668=document[_0xd2713e(0x75f)](_0xd2713e(0x2a1)),_0x3f6a3=document['getElementById']('generated-quiz-container'),_0x2ec758=document[_0xd2713e(0x75f)](_0xd2713e(0x2dc));_0x2ec758[_0xd2713e(0x108)]=!![],document[_0xd2713e(0x75f)](_0xd2713e(0x394))[_0xd2713e(0x4ba)][_0xd2713e(0x4c3)](_0xd2713e(0x199)),_0x3f6a3[_0xd2713e(0x4ca)]='',_0x333226['classList'][_0xd2713e(0x4c3)](_0xd2713e(0x199)),_0x2cb668[_0xd2713e(0x4e9)]=_0xd2713e(0x453);try{const _0x3a188f=await extractTextFromPdf(_0x45dc73);if(!_0x3a188f['trim']())throw new Error(_0xd2713e(0x557));_0x2cb668[_0xd2713e(0x4e9)]=_0xd2713e(0x58a);const _0x549d5b=document['getElementById']('include-images-checkbox')[_0xd2713e(0x4b5)],_0x4fefc5=_0x549d5b?_0xd2713e(0x755):'',_0x705254='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a188f+_0xd2713e(0x312)+_0x4fefc5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xd2713e(0x18a),_0x2992ea={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xd2713e(0x131),'enum':[_0xd2713e(0xff),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0xd2713e(0x131)}},'correctAnswerIndex':{'type':_0xd2713e(0x1f5)},'idealAnswer':{'type':_0xd2713e(0x131)},'explanation':{'type':_0xd2713e(0x131)},'imageCode':{'type':_0xd2713e(0x131)}},'required':[_0xd2713e(0x149),_0xd2713e(0x561),_0xd2713e(0xfc)]},_0x481913={'type':_0xd2713e(0x14f),'properties':{'topic':{'type':_0xd2713e(0x131)},'questions':{'type':_0xd2713e(0x262),'items':_0x2992ea}},'required':[_0xd2713e(0x151),_0xd2713e(0x3a0)]};await handleApiCall(_0x705254,_0xd2713e(0x458),_0x481913);}catch(_0x81971){console['error'](_0xd2713e(0x23c),_0x81971),showMessage(_0xd2713e(0x379)+_0x81971['message']),_0x3f6a3[_0xd2713e(0x4ca)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x333226[_0xd2713e(0x4ba)]['add'](_0xd2713e(0x199)),_0x2ec758[_0xd2713e(0x108)]=![];}}async function handleRegenerateQuestionInEditor(_0x1e21e0){const _0x864d00=_0x31a0a6;if(currentEditingQuizData===null)return;const _0x4ce53c=document[_0x864d00(0x440)](_0x864d00(0x255)+_0x1e21e0+'\x22]');_0x4ce53c&&(_0x4ce53c['innerHTML']=_0x864d00(0x3f5));const _0x352aa5=currentEditingQuizData['questions'][_0x1e21e0],_0x375f1e=currentEditingQuizData[_0x864d00(0x151)],_0x1a0b32=_0x352aa5[_0x864d00(0x561)],_0x3ececf={'type':_0x864d00(0x14f),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x864d00(0x262),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x864d00(0x131)}},'required':['questionText','options',_0x864d00(0x18c),_0x864d00(0xfc)]},_0x28984a={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x864d00(0x131)},'explanation':{'type':_0x864d00(0x131)}},'required':[_0x864d00(0x149),_0x864d00(0x590),_0x864d00(0xfc)]};let _0x2e9d42,_0x2cf479='';_0x1a0b32===_0x864d00(0xff)?(_0x2e9d42=_0x3ececf,_0x2cf479=_0x864d00(0x39a)):(_0x2e9d42=_0x28984a,_0x2cf479=_0x864d00(0x3dd));const _0x168798=_0x864d00(0x6bb)+_0x375f1e+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x2cf479+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x352aa5[_0x864d00(0x149)]||_0x352aa5['stem'])+_0x864d00(0x717)+simpleMathPrompt;try{const _0x4fd97a=await callAnalysisApi(_0x168798,_0x2e9d42);currentEditingQuizData[_0x864d00(0x3a0)][_0x1e21e0]={..._0x352aa5,..._0x4fd97a},renderQuizEditor(currentEditingQuizData);}catch(_0x5a7d85){console[_0x864d00(0x382)](_0x864d00(0x226),_0x5a7d85),showMessage(_0x864d00(0x585)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x386aa2=_0x31a0a6,_0x11f354=document[_0x386aa2(0x75f)](_0x386aa2(0x2df));currentMode===_0x386aa2(0x676)?(currentMode=_0x386aa2(0x33c),_0x11f354[_0x386aa2(0x4ca)]=_0x386aa2(0x1b8),_0x11f354['title']=_0x386aa2(0x6a2),showView(_0x386aa2(0x474))):(currentMode='student',_0x11f354[_0x386aa2(0x4ca)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x11f354[_0x386aa2(0x421)]='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0xdebf31=_0x31a0a6,_0x5ef081=document[_0xdebf31(0x75f)]('admin-password-input'),_0x1ade33=document[_0xdebf31(0x75f)]('password-error-msg');if(_0x5ef081[_0xdebf31(0x3a5)]===_0xdebf31(0x10d)){adminPasswordModal[_0xdebf31(0x4ba)]['add'](_0xdebf31(0x199)),_0x5ef081['value']='',_0x1ade33[_0xdebf31(0x4ba)][_0xdebf31(0x688)]('hidden'),currentMode=_0xdebf31(0x33c);const _0x3a883b=document['getElementById'](_0xdebf31(0x2df));_0x3a883b[_0xdebf31(0x4ca)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x3a883b['title']='สลับไปโหมดนักเรียน',showView(_0xdebf31(0x474));}else _0x1ade33[_0xdebf31(0x4ba)][_0xdebf31(0x4c3)](_0xdebf31(0x199)),_0x5ef081[_0xdebf31(0x3a5)]='';}function switchProjectTab(_0x5be4cd){const _0x2115a8=_0x31a0a6;[_0x2115a8(0x2b3),'results',_0x2115a8(0x4c9)]['forEach'](_0x4be958=>{const _0x5a8ec6=_0x2115a8;document[_0x5a8ec6(0x75f)](_0x4be958+'-tab')[_0x5a8ec6(0x4ba)][_0x5a8ec6(0x4c3)](_0x5a8ec6(0x2ea)),document[_0x5a8ec6(0x75f)](_0x4be958+_0x5a8ec6(0x4c0))[_0x5a8ec6(0x4ba)][_0x5a8ec6(0x688)](_0x5a8ec6(0x199));}),document['getElementById'](_0x5be4cd+_0x2115a8(0x6b0))[_0x2115a8(0x4ba)][_0x2115a8(0x688)](_0x2115a8(0x2ea)),document[_0x2115a8(0x75f)](_0x5be4cd+_0x2115a8(0x4c0))[_0x2115a8(0x4ba)][_0x2115a8(0x4c3)](_0x2115a8(0x199));}function switchQuizDetailTab(_0x582fc2){const _0x30179b=_0x31a0a6,_0x3e7573={'analytics':{'btn':_0x30179b(0x5c1),'content':_0x30179b(0x2f7)},'scores':{'btn':_0x30179b(0x177),'content':_0x30179b(0x23a)},'leaderboard-quiz':{'btn':_0x30179b(0x6ff),'content':_0x30179b(0x73a)},'behavior-log':{'btn':_0x30179b(0x463),'content':_0x30179b(0x1b2)}};for(const _0x5a6417 in _0x3e7573){document[_0x30179b(0x75f)](_0x3e7573[_0x5a6417][_0x30179b(0x5ca)])[_0x30179b(0x4ba)]['remove'](_0x30179b(0x2ea)),document[_0x30179b(0x75f)](_0x3e7573[_0x5a6417]['content'])[_0x30179b(0x4ba)][_0x30179b(0x688)](_0x30179b(0x199));}document[_0x30179b(0x75f)](_0x3e7573[_0x582fc2][_0x30179b(0x5ca)])[_0x30179b(0x4ba)]['add'](_0x30179b(0x2ea)),document['getElementById'](_0x3e7573[_0x582fc2][_0x30179b(0x609)])['classList']['remove'](_0x30179b(0x199));}function showMessage(_0x186928,_0xf1037c=null){const _0x3b40ec=_0x31a0a6;modalMessage[_0x3b40ec(0x4e9)]=_0x186928,modalConfirmAction=_0xf1037c,messageModal['classList'][_0x3b40ec(0x4c3)](_0x3b40ec(0x199));}function showConfirmation(_0x2b2d7b,_0x3baba0){const _0x698f34=_0x31a0a6;document[_0x698f34(0x75f)]('confirmation-message')[_0x698f34(0x4e9)]=_0x2b2d7b,document['getElementById']('confirmation-modal')[_0x698f34(0x440)]('h3')[_0x698f34(0x4e9)]=_0x698f34(0x22d),confirmAction=_0x3baba0,confirmationModal[_0x698f34(0x4ba)]['remove'](_0x698f34(0x199));}function listenForProjects(){const _0x74c129=_0x31a0a6,_0x1cf3c0=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x1cf3c0,_0x203e27=>{const _0x3a4d5f=_0x2770;if(_0x203e27['exists']()){const _0x25d303=_0x203e27[_0x3a4d5f(0xa7)]();globalDashboardSettings['projectSort']=_0x25d303[_0x3a4d5f(0x2da)]||_0x3a4d5f(0x5b8),globalDashboardSettings[_0x3a4d5f(0x32a)]=_0x25d303[_0x3a4d5f(0x32a)]||[],globalDashboardSettings['projectOrder']=_0x25d303[_0x3a4d5f(0x2ab)]||[];}allProjects[_0x3a4d5f(0x299)]>0x0&&renderProjects();});const _0x47c678=collection(db,'artifacts/'+appId+_0x74c129(0x3c6));unsubscribeProjectsListener=onSnapshot(_0x47c678,_0x534bcd=>{const _0x3c9550=_0x74c129;allProjects=_0x534bcd['docs'][_0x3c9550(0x182)](_0x4376d2=>({'id':_0x4376d2['id'],..._0x4376d2[_0x3c9550(0xa7)]()})),renderProjects();},_0x496b91=>{const _0x36036c=_0x74c129;console['error'](_0x36036c(0x559),_0x496b91),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x26e8af,_0x2677c0){const _0x497b9f=_0x31a0a6;document[_0x497b9f(0x655)](_0x497b9f(0x5f2))['forEach'](_0x1e806f=>_0x1e806f[_0x497b9f(0x4c3)]());const _0x260ec4=[_0x497b9f(0x227),'#FEE2E2',_0x497b9f(0x62e),_0x497b9f(0x28e),_0x497b9f(0x70b),_0x497b9f(0x99),'#F3E8FF','#FCE7F3',_0x497b9f(0x572)],_0x16250a=document[_0x497b9f(0x71c)](_0x497b9f(0x2f2));_0x16250a[_0x497b9f(0x7ff)]=_0x497b9f(0x33b),_0x260ec4[_0x497b9f(0x748)](_0x19cef8=>{const _0x205669=_0x497b9f,_0x5e8f5b=document[_0x205669(0x71c)](_0x205669(0x2f2));_0x5e8f5b[_0x205669(0x7ff)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x5e8f5b['style'][_0x205669(0x467)]=_0x19cef8,_0x5e8f5b['addEventListener'](_0x205669(0xce),()=>{const _0x2c57e7=_0x205669;handleProjectColorChange(_0x2677c0,_0x19cef8),_0x16250a[_0x2c57e7(0x4c3)]();}),_0x16250a[_0x205669(0xfa)](_0x5e8f5b);}),document[_0x497b9f(0x115)]['appendChild'](_0x16250a);const _0x4ec20f=_0x26e8af[_0x497b9f(0xc9)]();_0x16250a[_0x497b9f(0xc5)][_0x497b9f(0x3f6)]=_0x4ec20f[_0x497b9f(0x18d)]+window['scrollY']+'px',_0x16250a['style'][_0x497b9f(0x301)]=_0x4ec20f[_0x497b9f(0x301)]+window[_0x497b9f(0x3f9)]-_0x16250a[_0x497b9f(0x397)]/0x2+'px';}async function handleProjectColorChange(_0x56751c,_0x78804b){const _0x5b268d=_0x31a0a6,_0x342b31=doc(db,_0x5b268d(0x678)+appId+_0x5b268d(0x3c6),_0x56751c);try{await updateDoc(_0x342b31,{'color':_0x78804b});}catch(_0x39bd9f){console[_0x5b268d(0x382)]('Error\x20updating\x20project\x20color:',_0x39bd9f),showMessage(_0x5b268d(0x5ef));}}async function renderProjects(){const _0x1317e4=_0x31a0a6,_0xe203b5=globalDashboardSettings[_0x1317e4(0x2da)]||_0x1317e4(0x5b8),_0x4489d5=new Set(globalDashboardSettings[_0x1317e4(0x32a)]||[]),_0x25183a=globalDashboardSettings[_0x1317e4(0x50e)]||_0x1317e4(0x63d),_0x2140a0=document[_0x1317e4(0x75f)](_0x1317e4(0x1ca)),_0x4d6fec=document['getElementById'](_0x1317e4(0x16a));_0x2140a0[_0x1317e4(0x4ba)][_0x1317e4(0x565)](_0x1317e4(0x2ea),_0x25183a===_0x1317e4(0x63d)),_0x4d6fec[_0x1317e4(0x4ba)]['toggle']('active',_0x25183a===_0x1317e4(0x3d9)),document['getElementById'](_0x1317e4(0xac))[_0x1317e4(0x3a5)]=_0xe203b5;const _0x2e078d=document[_0x1317e4(0x75f)](_0x1317e4(0x6e2))[_0x1317e4(0x3a5)]['toLowerCase']();let _0xf3791b=allProjects[_0x1317e4(0x5e5)](_0x1b08c4=>_0x1b08c4[_0x1317e4(0x24c)][_0x1317e4(0x57d)]()['includes'](_0x2e078d));const _0x237e45=_0xf3791b[_0x1317e4(0x5e5)](_0x4cbc36=>_0x4489d5[_0x1317e4(0x2e5)](_0x4cbc36['id'])),_0x36ee5d=_0xf3791b[_0x1317e4(0x5e5)](_0x57c9db=>!_0x4489d5[_0x1317e4(0x2e5)](_0x57c9db['id'])),_0x2b89af=(_0x4a650c,_0x3b76f4)=>{const _0x53f4cd=_0x1317e4;switch(_0xe203b5){case _0x53f4cd(0x4fb):return _0x4a650c['projectName']['localeCompare'](_0x3b76f4[_0x53f4cd(0x24c)],'th');case _0x53f4cd(0x222):return _0x3b76f4[_0x53f4cd(0x24c)][_0x53f4cd(0x6de)](_0x4a650c[_0x53f4cd(0x24c)],'th');case _0x53f4cd(0x515):return new Date(_0x4a650c[_0x53f4cd(0x69a)])-new Date(_0x3b76f4['createdAt']);default:return new Date(_0x3b76f4[_0x53f4cd(0x69a)])-new Date(_0x4a650c[_0x53f4cd(0x69a)]);}};_0x237e45[_0x1317e4(0x2ba)](_0x2b89af),_0x36ee5d[_0x1317e4(0x2ba)](_0x2b89af);const _0x275160=[..._0x237e45,..._0x36ee5d],_0x2d0627=globalDashboardSettings[_0x1317e4(0x2ab)]||[];_0x2d0627[_0x1317e4(0x299)]>0x0&&_0x25183a===_0x1317e4(0x63d)&&_0x275160['sort']((_0x3b3e91,_0x4bfb1f)=>{const _0x5d9ecf=_0x1317e4,_0xf38a0f=_0x2d0627['indexOf'](_0x3b3e91['id']),_0x5964fd=_0x2d0627[_0x5d9ecf(0x709)](_0x4bfb1f['id']);if(_0xf38a0f===-0x1)return 0x1;if(_0x5964fd===-0x1)return-0x1;return _0xf38a0f-_0x5964fd;});const _0x8e3062={};await Promise[_0x1317e4(0x7b4)](_0x275160[_0x1317e4(0x182)](async _0xb5812a=>{const _0x5a7101=_0x1317e4,_0x498738=query(collection(db,_0x5a7101(0x678)+appId+_0x5a7101(0x132)),where(_0x5a7101(0x628),'==',_0xb5812a['id'])),_0x243749=await getDocs(_0x498738);_0x8e3062[_0xb5812a['id']]=_0x243749[_0x5a7101(0x5b7)];}));const _0x32b2b4=document['getElementById'](_0x1317e4(0x3e3));let _0xbd064f='';if(_0x25183a===_0x1317e4(0x63d)){_0x32b2b4[_0x1317e4(0x7ff)]=_0x1317e4(0x27c);if(starredQuizzes[_0x1317e4(0x299)]>0x0&&_0x2e078d===''){const _0x54bf9=starredQuizzes[_0x1317e4(0x182)](_0x5df5e6=>{const _0x4fdb9e=_0x1317e4,_0x3d9e30=allProjects['find'](_0x30272b=>_0x30272b['id']===_0x5df5e6[_0x4fdb9e(0x628)]);return{..._0x5df5e6,'projectName':_0x3d9e30?_0x3d9e30['projectName']:'N/A'};});_0xbd064f+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54bf9[_0x1317e4(0x182)](_0x251ac4=>_0x1317e4(0x720)+_0x251ac4[_0x1317e4(0x151)]+'\x22>'+_0x251ac4[_0x1317e4(0x151)]+_0x1317e4(0x6dd)+_0x251ac4[_0x1317e4(0x24c)]+_0x1317e4(0x32e)+_0x251ac4[_0x1317e4(0x24c)]+_0x1317e4(0xdd))['join']('')+_0x1317e4(0x4e7)+starredQuizzes['length']+_0x1317e4(0x383);}_0x275160['forEach'](_0x27b569=>{const _0x3a01ec=_0x1317e4,_0x2ed891=_0x8e3062[_0x27b569['id']]??0x0,_0x22cdfc=_0x4489d5['has'](_0x27b569['id']),_0xdac0ad=_0x27b569[_0x3a01ec(0x271)]||_0x3a01ec(0x227),_0x446821=parseInt(_0xdac0ad[_0x3a01ec(0x4e6)](0x1,0x3),0x10)*0.299+parseInt(_0xdac0ad[_0x3a01ec(0x4e6)](0x3,0x5),0x10)*0.587+parseInt(_0xdac0ad['substring'](0x5,0x7),0x10)*0.114<0xba,_0x1321b0=_0x446821?_0x3a01ec(0x7b7):'text-indigo-800',_0x1c55ab=_0x446821?_0x3a01ec(0x76c):_0x3a01ec(0x4b4);_0xbd064f+=_0x3a01ec(0x80c)+(_0x22cdfc?_0x3a01ec(0x19c):_0x3a01ec(0x14a))+_0x3a01ec(0x1c0)+_0xdac0ad+_0x3a01ec(0x259)+_0x27b569['id']+_0x3a01ec(0x1f2)+_0x27b569['id']+_0x3a01ec(0x650)+(_0x446821?_0x3a01ec(0x574):_0x3a01ec(0x3e4))+_0x3a01ec(0x7c6)+_0x27b569['id']+_0x3a01ec(0x2db)+(_0x446821?'text-gray-300\x20hover:text-white':_0x3a01ec(0x3e4))+_0x3a01ec(0x691)+(_0x22cdfc?_0x446821?'text-yellow-300':_0x3a01ec(0xe8):'')+_0x3a01ec(0x5c8)+_0x27b569['id']+_0x3a01ec(0x7dc)+_0x1321b0+_0x3a01ec(0x11e)+_0x27b569['projectName']+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x1c55ab+_0x3a01ec(0x455)+new Date(_0x27b569['createdAt'])[_0x3a01ec(0x3fb)](_0x3a01ec(0x535))+_0x3a01ec(0x60a)+(_0x446821?_0x3a01ec(0x1fa):_0x3a01ec(0x376))+_0x3a01ec(0x22a)+_0x2ed891+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x27b569['id']+_0x3a01ec(0x2d2)+_0x27b569[_0x3a01ec(0x24c)]+_0x3a01ec(0x680)+(_0x446821?_0x3a01ec(0xc2):_0x3a01ec(0x3e8))+_0x3a01ec(0xde);});}else _0x32b2b4['className']=_0x1317e4(0x12b),starredQuizzes[_0x1317e4(0x299)]>0x0&&_0x2e078d===''&&(_0xbd064f+=_0x1317e4(0x52d)+starredQuizzes[_0x1317e4(0x299)]+_0x1317e4(0x519)),_0xbd064f+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x275160['forEach'](_0x5474e6=>{const _0x4e5533=_0x1317e4,_0x360b26=_0x8e3062[_0x5474e6['id']]??0x0,_0x10926a=_0x4489d5[_0x4e5533(0x2e5)](_0x5474e6['id']);_0xbd064f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x5474e6[_0x4e5533(0x271)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x5474e6['id']+_0x4e5533(0x68b)+_0x5474e6[_0x4e5533(0x24c)]+_0x4e5533(0x2a0)+_0x360b26+_0x4e5533(0x70a)+new Date(_0x5474e6[_0x4e5533(0x69a)])[_0x4e5533(0x306)]('th-TH')+_0x4e5533(0x46c)+_0x5474e6['id']+_0x4e5533(0x2b1)+(_0x10926a?_0x4e5533(0xe8):'')+_0x4e5533(0x764)+_0x5474e6['id']+'\x22\x20data-name=\x22'+_0x5474e6[_0x4e5533(0x24c)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x1317e4(0x4ca)]=_0xbd064f,noProjectsMsg[_0x1317e4(0x4ba)][_0x1317e4(0x565)]('hidden',_0xbd064f['length']>0x0);}document[_0x31a0a6(0x75f)]('confirm-create-project-btn')[_0x31a0a6(0x670)](_0x31a0a6(0xce),async()=>{const _0x274ac1=_0x31a0a6,_0x44f49a=document['getElementById'](_0x274ac1(0x3bb)),_0x5d6d7a=_0x44f49a[_0x274ac1(0x3a5)][_0x274ac1(0x74d)]();if(!_0x5d6d7a){showMessage(_0x274ac1(0xa3));return;}try{const _0x2b2808=doc(collection(db,_0x274ac1(0x678)+appId+'/public/data/projects'));await setDoc(_0x2b2808,{'projectName':_0x5d6d7a,'students':[],'settings':{'resultsDisplay':_0x274ac1(0x5fc),'shuffleSetting':_0x274ac1(0x7e9),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x274ac1(0x7e9),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x274ac1(0x1a7)]()}),_0x44f49a[_0x274ac1(0x3a5)]='',createProjectModal['classList'][_0x274ac1(0x688)]('hidden'),showMessage(_0x274ac1(0x733));}catch(_0xae554b){console[_0x274ac1(0x382)](_0x274ac1(0x448),_0xae554b),showMessage(_0x274ac1(0x196));}}),projectList[_0x31a0a6(0x670)](_0x31a0a6(0xce),async _0x3ce94=>{const _0x3ab6ed=_0x31a0a6,_0x216053=_0x3ce94[_0x3ab6ed(0x4a8)]['closest'](_0x3ab6ed(0x42b)),_0x5c8157=_0x3ce94['target'][_0x3ab6ed(0x753)](_0x3ab6ed(0x311)),_0x53fbd0=_0x3ce94[_0x3ab6ed(0x4a8)][_0x3ab6ed(0x753)](_0x3ab6ed(0x1fe)),_0x27224b=_0x3ce94[_0x3ab6ed(0x4a8)][_0x3ab6ed(0x753)](_0x3ab6ed(0x749));if(_0x53fbd0){const _0x5223a6=_0x53fbd0[_0x3ab6ed(0x384)]['id'],_0xa4420c=doc(db,_0x3ab6ed(0x209),_0x3ab6ed(0x4d2)),_0x4c013e=globalDashboardSettings[_0x3ab6ed(0x32a)];let _0x342898;_0x4c013e[_0x3ab6ed(0x10c)](_0x5223a6)?_0x342898=_0x4c013e[_0x3ab6ed(0x5e5)](_0x3a6d63=>_0x3a6d63!==_0x5223a6):_0x342898=[..._0x4c013e,_0x5223a6];try{await setDoc(_0xa4420c,{'pinnedProjects':_0x342898},{'merge':!![]});}catch(_0x560554){console['error'](_0x3ab6ed(0x1b3),_0x560554),showMessage(_0x3ab6ed(0xd3));}}else{if(_0x27224b){const _0x29123a=_0x27224b['dataset']['id'];showColorPalette(_0x27224b,_0x29123a);}else{if(_0x216053){const _0x75c20b=_0x216053[_0x3ab6ed(0x384)]['id'];_0x75c20b===_0x3ab6ed(0x591)?showStarredProjectView():(currentProjectId=_0x75c20b,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x5c8157){const _0x812609=_0x5c8157['dataset']['id'],_0x4706f4=_0x5c8157[_0x3ab6ed(0x384)][_0x3ab6ed(0x248)];showConfirmation(_0x3ab6ed(0x55e)+_0x4706f4+_0x3ab6ed(0x304),()=>handleDeleteProject(_0x812609));}}}}}),projectList[_0x31a0a6(0x670)](_0x31a0a6(0x1ff),_0x32b2d8=>{const _0x1fdaed=_0x31a0a6,_0x12f2d9=_0x32b2d8[_0x1fdaed(0x4a8)]['closest'](_0x1fdaed(0x341));_0x12f2d9&&_0x12f2d9[_0x1fdaed(0x4ba)][_0x1fdaed(0x688)]('opacity-50');}),projectList[_0x31a0a6(0x670)](_0x31a0a6(0x7ac),_0x1f88d9=>{const _0x6b804=_0x31a0a6,_0x3cef39=_0x1f88d9['target']['closest'](_0x6b804(0x341));_0x3cef39&&_0x3cef39[_0x6b804(0x4ba)][_0x6b804(0x4c3)](_0x6b804(0x1bd));}),projectList['addEventListener'](_0x31a0a6(0x2eb),_0x2eca7c=>{const _0x34677a=_0x31a0a6;_0x2eca7c['preventDefault']();const _0xc02cd9=document[_0x34677a(0x440)]('.project-card-container.opacity-50');if(!_0xc02cd9)return;const _0x242948=getDragAfterElement(projectList,_0x2eca7c[_0x34677a(0x2c6)]);_0x242948==null?projectList[_0x34677a(0xfa)](_0xc02cd9):projectList[_0x34677a(0x745)](_0xc02cd9,_0x242948);}),projectList[_0x31a0a6(0x670)](_0x31a0a6(0x1b6),_0x525b4d=>{const _0x39caa9=_0x31a0a6;_0x525b4d['preventDefault']();const _0xb0ee4=[...projectList['querySelectorAll'](_0x39caa9(0x35f))]['map'](_0x4753db=>_0x4753db['dataset']['id']);saveProjectOrder(_0xb0ee4);});function renderBehaviorLog(_0x4d0ada){const _0x4eb55b=_0x31a0a6,_0x34e906=document[_0x4eb55b(0x75f)](_0x4eb55b(0x3a7));if(!_0x34e906)return;const _0x5d05dd=_0x4d0ada['filter'](_0x399e03=>_0x399e03['behaviorLog']&&_0x399e03['behaviorLog'][_0x4eb55b(0x299)]>0x0);if(_0x5d05dd[_0x4eb55b(0x299)]===0x0){_0x34e906[_0x4eb55b(0x4ca)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x5bea12='';_0x5d05dd[_0x4eb55b(0x748)](_0x5022dd=>{const _0x44139a=_0x4eb55b;_0x5bea12+=_0x44139a(0x2b6)+_0x5022dd[_0x44139a(0x1c3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5022dd['behaviorLog'][_0x44139a(0x2ba)]((_0x185960,_0x5900e7)=>new Date(_0x5900e7['timestamp'])-new Date(_0x185960[_0x44139a(0x326)]))[_0x44139a(0x748)](_0x5b9143=>{const _0xc6a4cc=_0x44139a,_0x4b5f4f=new Date(_0x5b9143[_0xc6a4cc(0x326)])[_0xc6a4cc(0x306)]('th-TH',{'dateStyle':'short','timeStyle':'medium'});_0x5bea12+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x5b9143['attemptNumber']+_0xc6a4cc(0x442)+_0x4b5f4f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5bea12+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x34e906['innerHTML']=_0x5bea12;}function getDragAfterElement(_0x1519b8,_0x4094ee){const _0x2a00ab=_0x31a0a6,_0x3f221b=[..._0x1519b8['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0x3f221b[_0x2a00ab(0x4eb)]((_0x34d6ba,_0x401ac0)=>{const _0x5708c3=_0x2a00ab,_0x10b9d2=_0x401ac0[_0x5708c3(0xc9)](),_0x6bc327=_0x4094ee-_0x10b9d2[_0x5708c3(0x3f6)]-_0x10b9d2[_0x5708c3(0x79d)]/0x2;return _0x6bc327<0x0&&_0x6bc327>_0x34d6ba['offset']?{'offset':_0x6bc327,'element':_0x401ac0}:_0x34d6ba;},{'offset':Number[_0x2a00ab(0x1e6)]})[_0x2a00ab(0x1ae)];}async function saveProjectOrder(_0x1a5e74){const _0x481e26=_0x31a0a6,_0x11a94d=doc(db,_0x481e26(0x209),_0x481e26(0x4d2));try{await setDoc(_0x11a94d,{'projectOrder':_0x1a5e74},{'merge':!![]});}catch(_0x179668){console['error'](_0x481e26(0x282),_0x179668),showMessage(_0x481e26(0x772));}}async function logBehaviorEvent(_0x319ca3,_0x159a17={}){const _0x3fd1a7=_0x31a0a6;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3fd1a7(0x3d2)](_0x3fd1a7(0x4c8));return;}const _0x565a24=doc(db,_0x3fd1a7(0x678)+appId+_0x3fd1a7(0x7ad)+currentQuizData['id']+_0x3fd1a7(0x5b6),currentStudentName),_0x1940a8={'event':_0x319ca3,'timestamp':new Date()[_0x3fd1a7(0x1a7)](),..._0x159a17};try{await setDoc(_0x565a24,{'behaviorLog':arrayUnion(_0x1940a8)},{'merge':!![]}),console[_0x3fd1a7(0x795)](_0x3fd1a7(0x74c)+currentStudentName+_0x3fd1a7(0x4e1)+_0x319ca3);}catch(_0x3af81b){console[_0x3fd1a7(0x382)](_0x3fd1a7(0xe1),_0x3af81b);}}function calculateMeanAndStdDev(_0x1303a5){const _0x48a7f2=_0x31a0a6;if(_0x1303a5['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x14187d=_0x1303a5[_0x48a7f2(0x4eb)]((_0x1be5d2,_0x34c50a)=>_0x1be5d2+_0x34c50a,0x0)/_0x1303a5['length'];if(_0x1303a5[_0x48a7f2(0x299)]===0x1)return{'mean':_0x14187d,'stdDev':0x0};const _0x3bd286=Math[_0x48a7f2(0x78a)](_0x1303a5[_0x48a7f2(0x182)](_0x48e0c8=>Math[_0x48a7f2(0x471)](_0x48e0c8-_0x14187d,0x2))[_0x48a7f2(0x4eb)]((_0x59b85b,_0x373354)=>_0x59b85b+_0x373354,0x0)/(_0x1303a5[_0x48a7f2(0x299)]-0x1));return{'mean':_0x14187d,'stdDev':_0x3bd286};}function calculateZScore(_0x48fe40,_0x5d4a7e,_0x6388a1){if(_0x6388a1===0x0)return 0x0;return(_0x48fe40-_0x5d4a7e)/_0x6388a1;}function calculateTScore(_0x4a8147){return 0xa*_0x4a8147+0x32;}function showStarredProjectView(){const _0x163d5c=_0x31a0a6;currentProjectId=_0x163d5c(0x800),currentProjectData=null,projectTitle[_0x163d5c(0x4e9)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x163d5c(0x4e9)]=_0x163d5c(0x596),showView('project-detail'),manageTab[_0x163d5c(0x4ba)]['add'](_0x163d5c(0x199)),leaderboardTab[_0x163d5c(0x4ba)]['add']('hidden'),switchProjectTab(_0x163d5c(0x3d3)),renderQuizzes();}async function loadProjectDetails(_0x50a46e){const _0x42d764=_0x31a0a6,_0x226218=doc(db,_0x42d764(0x678)+appId+_0x42d764(0x3c6),_0x50a46e),_0x34c48c=await getDoc(_0x226218);if(_0x34c48c[_0x42d764(0x1a9)]()){manageTab[_0x42d764(0x4ba)]['remove']('hidden'),leaderboardTab['classList'][_0x42d764(0x4c3)](_0x42d764(0x199)),currentProjectData=_0x34c48c[_0x42d764(0xa7)](),projectTitle[_0x42d764(0x4e9)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x50a46e;const _0x71cb91=currentProjectData[_0x42d764(0x37f)]||{};document['getElementById'](_0x42d764(0x296))[_0x42d764(0x3a5)]=_0x71cb91[_0x42d764(0x2fe)]||_0x42d764(0x7e9);const _0x318ce6=document[_0x42d764(0x75f)]('show-in-student-dashboard-checkbox');_0x318ce6['checked']=_0x71cb91['showInStudentDashboard']!==![];const _0x857606=document[_0x42d764(0x75f)](_0x42d764(0x100)),_0x3d5dab=document[_0x42d764(0x75f)](_0x42d764(0x68c)),_0x273c8c=document[_0x42d764(0x75f)](_0x42d764(0x13e)),_0x540032=_0x71cb91[_0x42d764(0x251)]||![];_0x857606['checked']=_0x540032,_0x273c8c[_0x42d764(0x3a5)]=_0x71cb91[_0x42d764(0x43a)]||'',_0x3d5dab[_0x42d764(0x4ba)]['toggle'](_0x42d764(0x199),!_0x540032),_0x857606[_0x42d764(0x6d8)]=()=>{const _0x390f08=_0x42d764;_0x3d5dab[_0x390f08(0x4ba)][_0x390f08(0x565)](_0x390f08(0x199),!_0x857606['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x50a46e),listenForProjectQuizzes(_0x50a46e),listenForStudentProfiles(_0x50a46e);}else showMessage(_0x42d764(0x51c)),showView(_0x42d764(0x474));}async function handleResetProjectOrder(){const _0x1abdbe=_0x31a0a6,_0x447998=doc(db,_0x1abdbe(0x209),_0x1abdbe(0x4d2));try{await setDoc(_0x447998,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1abdbe(0x283));}catch(_0x3ccafd){console[_0x1abdbe(0x382)](_0x1abdbe(0x62c),_0x3ccafd),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x3e3fe4){const _0x716d6e=_0x31a0a6;if(!_0x3e3fe4)return;const _0x5cb9f2=doc(db,_0x716d6e(0x678)+appId+'/public/data/projects',_0x3e3fe4);try{const _0x501f66=await getDoc(_0x5cb9f2);if(_0x501f66[_0x716d6e(0x1a9)]()){const _0x511e57=_0x501f66[_0x716d6e(0xa7)]()[_0x716d6e(0x3f0)]||![];await updateDoc(_0x5cb9f2,{'isPinned':!_0x511e57});}}catch(_0x21cc1a){console[_0x716d6e(0x382)](_0x716d6e(0x6ab),_0x21cc1a),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x545142){const _0x5f3799=_0x31a0a6;try{const _0x48f61b=writeBatch(db),_0x812950=collection(db,_0x5f3799(0x678)+appId+_0x5f3799(0x132)),_0x1db063=query(_0x812950,where(_0x5f3799(0x628),'==',_0x545142)),_0x5612f6=await getDocs(_0x1db063);for(const _0x103923 of _0x5612f6['docs']){const _0x347add=collection(db,_0x5f3799(0x678)+appId+_0x5f3799(0x7ad)+_0x103923['id']+_0x5f3799(0x5b6)),_0x5bbfc8=await getDocs(_0x347add);_0x5bbfc8[_0x5f3799(0x748)](_0x509e81=>{const _0xb8818c=_0x5f3799;_0x48f61b['delete'](_0x509e81[_0xb8818c(0x568)]);}),_0x48f61b[_0x5f3799(0x7a2)](_0x103923['ref']);}const _0x2d8470=collection(db,'artifacts/'+appId+_0x5f3799(0x5ff)+_0x545142+'/studentProfiles'),_0x23c7c5=await getDocs(_0x2d8470);_0x23c7c5[_0x5f3799(0x748)](_0x21d4f8=>{const _0x11e1e5=_0x5f3799;_0x48f61b['delete'](_0x21d4f8[_0x11e1e5(0x568)]);});const _0x49e7eb=doc(db,'artifacts/'+appId+'/public/data/projects',_0x545142);_0x48f61b[_0x5f3799(0x7a2)](_0x49e7eb),await _0x48f61b['commit'](),showMessage(_0x5f3799(0x57a)),showView(_0x5f3799(0x474));}catch(_0x30b437){console[_0x5f3799(0x382)](_0x5f3799(0x61c),_0x30b437),showMessage(_0x5f3799(0x291));}}document['getElementById'](_0x31a0a6(0x6a6))[_0x31a0a6(0x670)](_0x31a0a6(0xce),async()=>{const _0x7678c5=_0x31a0a6;if(!currentProjectId)return;const _0x16df33={'defaultNumQuestions':parseInt(document[_0x7678c5(0x75f)](_0x7678c5(0x3c1))[_0x7678c5(0x3a5)]),'defaultNumChoices':parseInt(document[_0x7678c5(0x75f)](_0x7678c5(0x7e6))[_0x7678c5(0x3a5)]),'defaultPassingScore':parseInt(document[_0x7678c5(0x75f)](_0x7678c5(0x555))[_0x7678c5(0x3a5)]),'resultsDisplay':document[_0x7678c5(0x75f)](_0x7678c5(0x6e1))[_0x7678c5(0x3a5)],'shuffleSetting':document['getElementById']('shuffle-setting-select')[_0x7678c5(0x3a5)],'timerMode':document[_0x7678c5(0x75f)](_0x7678c5(0x37d))[_0x7678c5(0x3a5)],'timerDuration':parseInt(document[_0x7678c5(0x75f)](_0x7678c5(0x119))['value'])};try{const _0x5e5fc3=doc(db,_0x7678c5(0x678)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x5e5fc3,{'settings':_0x16df33}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x30567e){console[_0x7678c5(0x382)]('Error\x20saving\x20settings:',_0x30567e),showMessage(_0x7678c5(0x782));}});function listenForStudents(_0xa9295e){const _0x2b4289=doc(db,'artifacts/'+appId+'/public/data/projects',_0xa9295e);unsubscribeStudentsListener=onSnapshot(_0x2b4289,_0x571f86=>{if(_0x571f86['exists']()){const _0x2fe3f5=_0x571f86['data']();currentProjectData=_0x2fe3f5,renderStudentList(_0x2fe3f5['students']||[]);}});}function renderStudentList(_0x46dfbb){const _0x208ba3=_0x31a0a6,_0x137c82=document[_0x208ba3(0x75f)](_0x208ba3(0x7f2));_0x46dfbb[_0x208ba3(0x299)]===0x0?(studentList[_0x208ba3(0x4ca)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x137c82[_0x208ba3(0x4ba)]['add'](_0x208ba3(0x199))):(studentList[_0x208ba3(0x4ca)]=_0x46dfbb[_0x208ba3(0x182)](_0x884929=>_0x208ba3(0x6b3)+_0x884929+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x884929+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x208ba3(0x7df)](''),_0x137c82[_0x208ba3(0x4ba)]['remove'](_0x208ba3(0x199)));}document[_0x31a0a6(0x75f)]('add-student-btn')[_0x31a0a6(0x670)](_0x31a0a6(0xce),async()=>{const _0x458286=_0x31a0a6;if(!currentProjectId)return;const _0x4c30a6=document['getElementById']('student-name-input'),_0x21650d=_0x4c30a6[_0x458286(0x3a5)]['trim']();if(!_0x21650d){showMessage(_0x458286(0x72b));return;}const _0x34e18c=_0x21650d[_0x458286(0xc8)]('\x0a')['map'](_0x2c4cb7=>_0x2c4cb7['trim']())[_0x458286(0x5e5)](_0x55aec2=>_0x55aec2);if(_0x34e18c['length']===0x0)return;try{const _0xae3cfe=doc(db,_0x458286(0x678)+appId+_0x458286(0x3c6),currentProjectId),_0x54aa0b=await getDoc(_0xae3cfe);if(_0x54aa0b[_0x458286(0x1a9)]()){const _0x4655c7=_0x54aa0b[_0x458286(0xa7)]()[_0x458286(0x469)]||[],_0x15ea47=[...new Set([..._0x4655c7,..._0x34e18c])];await updateDoc(_0xae3cfe,{'students':_0x15ea47}),_0x4c30a6[_0x458286(0x3a5)]='';}}catch(_0x52875d){console[_0x458286(0x382)](_0x458286(0x61a),_0x52875d),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x1cc8f3){const _0x15bd88=_0x31a0a6,_0x31c3ea=document[_0x15bd88(0x75f)](_0x15bd88(0x1d1)),_0x463364=document[_0x15bd88(0x75f)](_0x15bd88(0x302)),_0x44446b=_0x31c3ea[_0x15bd88(0x440)]('h3'),_0x3e55d8=document[_0x15bd88(0x75f)](_0x15bd88(0x791)),_0x189b4c=document[_0x15bd88(0x75f)](_0x15bd88(0x7f1));_0x44446b[_0x15bd88(0x4e9)]=_0x15bd88(0x5e8),_0x463364['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x3e55d8['textContent']=_0x15bd88(0x26a),_0x31c3ea['classList'][_0x15bd88(0x4c3)]('hidden');const _0x14aad2=allQuizzes[_0x15bd88(0x5e5)](_0x187ecf=>_0x187ecf['id']!==_0x1cc8f3);_0x14aad2['length']===0x0?(_0x463364[_0x15bd88(0x4ca)]=_0x15bd88(0x438),_0x3e55d8[_0x15bd88(0x108)]=!![]):(_0x463364[_0x15bd88(0x4ca)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x14aad2[_0x15bd88(0x182)](_0x29288c=>_0x15bd88(0x93)+_0x29288c['id']+'\x22>'+_0x29288c[_0x15bd88(0x151)]+_0x15bd88(0x6ed))[_0x15bd88(0x7df)](''),_0x3e55d8['disabled']=![]);const _0x5aefe5=async()=>{const _0x2dcb11=_0x15bd88,_0x497a43=_0x463364[_0x2dcb11(0x3a5)];if(!_0x497a43){showMessage(_0x2dcb11(0x229));return;}_0x3e55d8[_0x2dcb11(0x108)]=!![],_0x3e55d8[_0x2dcb11(0x4e9)]=_0x2dcb11(0x7aa);try{const _0x258ec5=doc(db,_0x2dcb11(0x678)+appId+'/public/data/quizzes',_0x1cc8f3),_0x9377f5=doc(db,_0x2dcb11(0x678)+appId+_0x2dcb11(0x132),_0x497a43),_0x559ecc=writeBatch(db);_0x559ecc[_0x2dcb11(0x452)](_0x258ec5,{'pairedQuizId':_0x497a43}),_0x559ecc[_0x2dcb11(0x452)](_0x9377f5,{'pairedQuizId':_0x1cc8f3}),await _0x559ecc[_0x2dcb11(0x218)](),showMessage(_0x2dcb11(0x41a)),_0x31c3ea['classList']['add'](_0x2dcb11(0x199));}catch(_0x37a31f){console[_0x2dcb11(0x382)](_0x2dcb11(0xaa),_0x37a31f),showMessage(_0x2dcb11(0x5d0));}finally{_0x44446b[_0x2dcb11(0x4e9)]=_0x2dcb11(0x1bf),_0x3e55d8[_0x2dcb11(0x4e9)]=_0x2dcb11(0x6c0),_0x3e55d8[_0x2dcb11(0x108)]=![],_0x3e55d8[_0x2dcb11(0x249)](_0x2dcb11(0xce),_0x5aefe5),_0x189b4c[_0x2dcb11(0x249)]('click',_0x21fbaa);}},_0x21fbaa=()=>{const _0x36f138=_0x15bd88;_0x31c3ea[_0x36f138(0x4ba)][_0x36f138(0x688)](_0x36f138(0x199)),_0x44446b[_0x36f138(0x4e9)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3e55d8[_0x36f138(0x4e9)]='ย้าย',_0x3e55d8[_0x36f138(0x249)](_0x36f138(0xce),_0x5aefe5),_0x189b4c[_0x36f138(0x249)](_0x36f138(0xce),_0x21fbaa);};_0x3e55d8[_0x15bd88(0x670)](_0x15bd88(0xce),_0x5aefe5),_0x189b4c['addEventListener']('click',_0x21fbaa);}function handleDeleteStudent(_0x2bb45b){const _0xcf0594=_0x31a0a6;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x2bb45b+_0xcf0594(0x6ac),async()=>{const _0x464ee8=_0xcf0594;if(!currentProjectId||!currentProjectData)return;const _0xc49f96=currentProjectData[_0x464ee8(0x469)][_0x464ee8(0x5e5)](_0x4a318e=>_0x4a318e!==_0x2bb45b);try{const _0x3c3f8a=doc(db,'artifacts/'+appId+_0x464ee8(0x3c6),currentProjectId),_0x50b678=doc(db,'artifacts/'+appId+_0x464ee8(0x5ff)+currentProjectId+_0x464ee8(0x660),_0x2bb45b),_0x31cb09=writeBatch(db);_0x31cb09[_0x464ee8(0x452)](_0x3c3f8a,{'students':_0xc49f96}),_0x31cb09['delete'](_0x50b678),await _0x31cb09[_0x464ee8(0x218)]();}catch(_0x35fba2){console[_0x464ee8(0x382)]('Error\x20deleting\x20student:',_0x35fba2),showMessage(_0x464ee8(0x47a));}});}function handleDeleteAllStudents(){const _0x46ba13=_0x31a0a6;showConfirmation(_0x46ba13(0x3e7),async()=>{const _0x58a93c=_0x46ba13;if(!currentProjectId)return;try{const _0x509c5a=doc(db,_0x58a93c(0x678)+appId+_0x58a93c(0x3c6),currentProjectId),_0xdffd8e=collection(db,_0x58a93c(0x678)+appId+'/public/data/projects/'+currentProjectId+_0x58a93c(0x660)),_0x514f8d=await getDocs(_0xdffd8e),_0x51bf7f=writeBatch(db);_0x51bf7f[_0x58a93c(0x452)](_0x509c5a,{'students':[]}),_0x514f8d[_0x58a93c(0x748)](_0xe60e9c=>_0x51bf7f[_0x58a93c(0x7a2)](_0xe60e9c['ref'])),await _0x51bf7f[_0x58a93c(0x218)]();}catch(_0x132204){console[_0x58a93c(0x382)](_0x58a93c(0x604),_0x132204),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x2cc106=_0x31a0a6;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x1956e7=document[_0x2cc106(0x75f)](_0x2cc106(0x7ba)),_0x2d783a=document['getElementById'](_0x2cc106(0x2a1)),_0x4e48ea=document['getElementById'](_0x2cc106(0x4af)),_0x2bece9=document[_0x2cc106(0x75f)]('generate-from-file-btn');_0x2bece9[_0x2cc106(0x108)]=!![],document[_0x2cc106(0x75f)]('quiz-generation-area')[_0x2cc106(0x4ba)][_0x2cc106(0x4c3)](_0x2cc106(0x199)),_0x4e48ea[_0x2cc106(0x4ca)]='',_0x1956e7[_0x2cc106(0x4ba)][_0x2cc106(0x4c3)]('hidden'),_0x2d783a['textContent']=_0x2cc106(0x4a6);const _0x2d1662=new FileReader();_0x2d1662[_0x2cc106(0x2f4)](selectedFile),_0x2d1662[_0x2cc106(0x203)]=async()=>{const _0x2e7375=_0x2cc106;try{const _0x2b66b4=_0x2d1662[_0x2e7375(0x476)][_0x2e7375(0xc8)](',')[0x1],_0x3e8dff=selectedFile[_0x2e7375(0x3ad)];await generateQuizFromFile(_0x3e8dff,_0x2b66b4);}catch(_0x32ea62){console['error']('Error\x20processing\x20file\x20for\x20AI:',_0x32ea62),showMessage(_0x2e7375(0xb3)+_0x32ea62['message']),_0x1956e7[_0x2e7375(0x4ba)][_0x2e7375(0x688)](_0x2e7375(0x199));}finally{}},_0x2d1662[_0x2cc106(0x4da)]=_0xa547e0=>{const _0x477b77=_0x2cc106;console['error'](_0x477b77(0x793),_0xa547e0),showMessage(_0x477b77(0x191)),_0x1956e7[_0x477b77(0x4ba)]['add']('hidden'),_0x2bece9['disabled']=![];};}function autoFormatMath(_0x4288a6){const _0x25593a=_0x31a0a6;if(typeof _0x4288a6!==_0x25593a(0x727)||!_0x4288a6)return _0x4288a6;const _0x3cc521=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x738773=_0x4288a6['replace'](_0x3cc521,_0x322f80=>{const _0x40b52b=_0x25593a;return'$'+_0x322f80[_0x40b52b(0x74d)]()+'$';});return _0x738773;}function sanitizeQuizData(_0x45cc1f){const _0x4a6ff0=_0x31a0a6;if(!_0x45cc1f||!_0x45cc1f['questions'])return _0x45cc1f;const _0x41778f={'imes':_0x4a6ff0(0x728),'div':_0x4a6ff0(0x53c)},_0x16bb93=_0x12f414=>{const _0x1300e0=_0x4a6ff0;if(typeof _0x12f414!==_0x1300e0(0x727))return _0x12f414;let _0xa7ac93=_0x12f414;for(const [_0x5d975a,_0x56a32b]of Object[_0x1300e0(0x3da)](_0x41778f)){const _0x31bc5b=new RegExp('\x5cb'+_0x5d975a+'\x5cb','g');_0xa7ac93=_0xa7ac93[_0x1300e0(0x6c1)](_0x31bc5b,_0x56a32b);}return _0xa7ac93=_0xa7ac93['replace'](/\\\//g,_0x1300e0(0x53c)),_0xa7ac93=_0xa7ac93[_0x1300e0(0x6c1)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x1300e0(0x53c))[_0x1300e0(0x6c1)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x1300e0(0x728))[_0x1300e0(0x6c1)](/÷/g,_0x1300e0(0x53c))[_0x1300e0(0x6c1)](/×/g,_0x1300e0(0x728)),_0xa7ac93=_0xa7ac93[_0x1300e0(0x6c1)](/(\d)(\\frac)/g,_0x1300e0(0x167)),_0xa7ac93=autoFormatMath(_0xa7ac93),_0xa7ac93;};return _0x45cc1f['topic']&&(_0x45cc1f[_0x4a6ff0(0x151)]=_0x16bb93(_0x45cc1f['topic'])),_0x45cc1f['questions'][_0x4a6ff0(0x748)](_0x2a07ae=>{const _0x5b2277=_0x4a6ff0;_0x2a07ae[_0x5b2277(0x149)]=_0x16bb93(_0x2a07ae[_0x5b2277(0x149)]),_0x2a07ae[_0x5b2277(0x638)]&&(_0x2a07ae['options']=_0x2a07ae[_0x5b2277(0x638)]['map'](_0x16bb93)),_0x2a07ae['explanation']&&(_0x2a07ae[_0x5b2277(0xfc)]=_0x16bb93(_0x2a07ae[_0x5b2277(0xfc)])),_0x2a07ae[_0x5b2277(0x31a)]&&(_0x2a07ae[_0x5b2277(0x31a)]=_0x16bb93(_0x2a07ae[_0x5b2277(0x31a)])),_0x2a07ae[_0x5b2277(0x6ad)]&&(_0x2a07ae[_0x5b2277(0x6ad)]=_0x16bb93(_0x2a07ae[_0x5b2277(0x6ad)])),_0x2a07ae['allResponses']&&(_0x2a07ae[_0x5b2277(0x113)]=_0x2a07ae[_0x5b2277(0x113)][_0x5b2277(0x182)](_0x16bb93));}),_0x45cc1f;}const simpleMathPrompt=_0x31a0a6(0x536);async function handleGenerateFromLink(){const _0x3bef50=_0x31a0a6,_0x362756=document['getElementById'](_0x3bef50(0x6eb)),_0x1f9a2b=document['getElementById'](_0x3bef50(0x49b)),_0x541b83=_0x362756[_0x3bef50(0x3a5)]['trim'](),_0x3ded69=_0x1f9a2b[_0x3bef50(0x3a5)][_0x3bef50(0x74d)]();if(!_0x541b83){showMessage(_0x3bef50(0x7f6));return;}const _0x505d29=document[_0x3bef50(0x75f)](_0x3bef50(0x7ba)),_0x355600=document[_0x3bef50(0x75f)](_0x3bef50(0x2a1)),_0x334e15=document['getElementById']('generated-quiz-container'),_0xa82344=document[_0x3bef50(0x75f)](_0x3bef50(0x5b0));document[_0x3bef50(0x75f)](_0x3bef50(0x394))[_0x3bef50(0x4ba)]['remove'](_0x3bef50(0x199)),_0x334e15[_0x3bef50(0x4ca)]='',_0x505d29[_0x3bef50(0x4ba)][_0x3bef50(0x4c3)](_0x3bef50(0x199)),_0x355600[_0x3bef50(0x4e9)]=_0x3bef50(0x34f),_0xa82344['disabled']=!![];try{const _0xd4f388=_0x3bef50(0x32d)+encodeURIComponent(_0x541b83),_0x157a81=await fetch(_0xd4f388);if(!_0x157a81['ok'])throw new Error(_0x3bef50(0x15b)+_0x157a81['status']+')');const _0x298a24=await _0x157a81['text'](),_0x5b30ee=extractTextFromHtml(_0x298a24);if(!_0x5b30ee||_0x5b30ee[_0x3bef50(0x299)]<0x64)throw new Error(_0x3bef50(0x29e));await generateQuiz(_0x3ded69,_0x5b30ee);}catch(_0x5c5ecb){console[_0x3bef50(0x382)](_0x3bef50(0x21a),_0x5c5ecb),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5c5ecb['message']),_0x334e15[_0x3bef50(0x4ca)]=_0x3bef50(0x7de);}finally{_0x505d29[_0x3bef50(0x4ba)][_0x3bef50(0x688)]('hidden'),_0xa82344[_0x3bef50(0x108)]=![];}}function extractTextFromHtml(_0x1eacae){const _0x239763=_0x31a0a6,_0x262e89=new DOMParser()[_0x239763(0x56e)](_0x1eacae,_0x239763(0x497));return _0x262e89[_0x239763(0x655)](_0x239763(0x2cd))[_0x239763(0x748)](_0x3da5fd=>_0x3da5fd[_0x239763(0x4c3)]()),_0x262e89[_0x239763(0x115)][_0x239763(0x4e9)]||'';}document[_0x31a0a6(0x75f)]('generate-from-topic-btn')[_0x31a0a6(0x670)](_0x31a0a6(0xce),()=>{const _0x2d8d76=_0x31a0a6,_0x5d3f92=document[_0x2d8d76(0x75f)](_0x2d8d76(0x53f))['value']['trim']();generateQuiz(_0x5d3f92,null);}),document[_0x31a0a6(0x75f)]('generate-from-text-btn')['addEventListener'](_0x31a0a6(0xce),()=>{const _0xb71491=_0x31a0a6,_0xbc61cb=document[_0xb71491(0x75f)](_0xb71491(0x7a1))[_0xb71491(0x3a5)][_0xb71491(0x74d)]();if(!_0xbc61cb){showMessage(_0xb71491(0x789));return;}const _0xdb024a=document['getElementById'](_0xb71491(0x53f))['value'][_0xb71491(0x74d)]();generateQuiz(_0xdb024a,_0xbc61cb);});async function generateQuiz(_0x10f082,_0x320e4b,_0x45accc=null){const _0x8059bd=_0x31a0a6,_0x384707=document['getElementById'](_0x8059bd(0x456))[_0x8059bd(0x4b5)],_0xb4ff11=document['getElementById'](_0x8059bd(0x765))[_0x8059bd(0x3a5)],_0x56d256=document[_0x8059bd(0x75f)](_0x8059bd(0x3c1))[_0x8059bd(0x3a5)],_0x3b1d9d=document[_0x8059bd(0x75f)](_0x8059bd(0x7e6))[_0x8059bd(0x3a5)],_0x1e576d=document[_0x8059bd(0x75f)](_0x8059bd(0x244))['checked'],_0x373638=_0x1e576d?'':_0x8059bd(0x477),_0xd9ff5a=document[_0x8059bd(0x75f)]('difficulty-level-select'),_0x12c989=_0xd9ff5a[_0x8059bd(0x3a5)];let _0x49a00c='';_0x12c989!==_0x8059bd(0x72f)&&(_0x49a00c=_0x8059bd(0x7b3)+_0x12c989+'\x22');const _0x14d034=document[_0x8059bd(0x75f)](_0x8059bd(0x6df)),_0xcc52ff=_0x14d034[_0x8059bd(0x3a5)];let _0x3cd489='';_0xcc52ff!==_0x8059bd(0x3c3)&&(_0x3cd489='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0xcc52ff+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x2a6045=document[_0x8059bd(0x655)](_0x8059bd(0x80a)),_0xd31e14=Array[_0x8059bd(0xc6)](_0x2a6045)['map'](_0x1e7912=>_0x1e7912[_0x8059bd(0x3a5)]);let _0x3b57e6='';_0xd31e14[_0x8059bd(0x299)]>0x0&&(_0x3b57e6=_0x8059bd(0x5f5)+_0xd31e14[_0x8059bd(0x7df)](',\x20')+_0x8059bd(0x357));let _0x383778='',_0x1f3460='',_0x519b6b,_0x4827a6=_0x8059bd(0x504)+_0x10f082+'\x22';if(!_0x10f082&&_0x320e4b)_0x4827a6=_0x8059bd(0x706);else!_0x10f082&&!_0x320e4b&&(_0x4827a6=_0x8059bd(0x5df));const _0x391e80={'type':_0x8059bd(0x14f),'properties':{'questionText':{'type':_0x8059bd(0x131)},'options':{'type':_0x8059bd(0x262),'items':{'type':_0x8059bd(0x131)}},'correctAnswerIndex':{'type':_0x8059bd(0x1f5)},'explanation':{'type':_0x8059bd(0x131)},'imageCode':{'type':_0x8059bd(0x131)}},'required':[_0x8059bd(0x149),_0x8059bd(0x638),_0x8059bd(0x18c),_0x8059bd(0xfc)]},_0x1e8853={'type':_0x8059bd(0x14f),'properties':{'questionText':{'type':_0x8059bd(0x131)},'idealAnswer':{'type':_0x8059bd(0x131)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x8059bd(0x131)}},'required':[_0x8059bd(0x149),_0x8059bd(0x590),_0x8059bd(0xfc)]},_0x467f45={'type':_0x8059bd(0x14f),'properties':{'questionText':{'type':_0x8059bd(0x131)},'questionType':{'type':_0x8059bd(0x131),'enum':[_0x8059bd(0xff),'short_answer']},'options':{'type':_0x8059bd(0x262),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x8059bd(0x1f5)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x8059bd(0x561),'explanation']},_0x2c4f3d={'type':_0x8059bd(0x14f),'properties':{'questionText':{'type':_0x8059bd(0x131)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x8059bd(0x131)},'imageCode':{'type':_0x8059bd(0x131)}},'required':[_0x8059bd(0x149),'correctAnswer','explanation']},_0xc836de={'type':_0x8059bd(0x14f),'properties':{'questionType':{'type':_0x8059bd(0x131),'enum':[_0x8059bd(0x6bc)]},'stem':{'type':_0x8059bd(0x131)},'correctResponse':{'type':_0x8059bd(0x131)},'allResponses':{'type':_0x8059bd(0x262),'items':{'type':'STRING'}},'explanation':{'type':_0x8059bd(0x131)},'imageCode':{'type':_0x8059bd(0x131)}},'required':['questionType',_0x8059bd(0x31a),_0x8059bd(0x6ad),_0x8059bd(0x113),_0x8059bd(0xfc)]};let _0x539abe;if(_0x45accc!==null){const _0x1ac560=currentQuizData[_0x8059bd(0x3a0)][_0x45accc]['questionType'],_0x47c96d=_0x384707?_0x8059bd(0x1d7):'';_0x383778=_0x8059bd(0x67c)+_0x4827a6+'\x20'+_0x3b57e6+'\x20'+_0x49a00c+_0x8059bd(0x3ff)+_0x47c96d+'\x20'+simpleMathPrompt;if(_0x1ac560===_0x8059bd(0xff))_0x519b6b=_0x391e80;else{if(_0x1ac560===_0x8059bd(0x6bc))_0x519b6b={'type':_0x8059bd(0x14f),'properties':{'questionType':{'type':_0x8059bd(0x131),'enum':[_0x8059bd(0x6bc)]},'stem':{'type':_0x8059bd(0x131)},'correctResponse':{'type':_0x8059bd(0x131)},'explanation':{'type':_0x8059bd(0x131)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x8059bd(0x31a),_0x8059bd(0x6ad),_0x8059bd(0xfc)]};else _0x519b6b=_0x1e8853;}_0x539abe=_0x519b6b;}else{const _0xa5f905=_0x384707?_0x8059bd(0xb6):'',_0x5349c0='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0xb4ff11){case'multiple_choice':_0x383778=_0x8059bd(0x5d8)+_0x373638+'\x20'+_0x56d256+_0x8059bd(0xf7)+_0x4827a6+'\x20'+_0x3b57e6+'\x20'+_0x49a00c+'\x20'+_0x3cd489+_0x8059bd(0x374)+_0x3b1d9d+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0xa5f905+'\x20'+simpleMathPrompt,_0x519b6b=_0x391e80;break;case _0x8059bd(0x5b3):_0x383778=_0x8059bd(0x43b)+_0x373638+'\x20'+_0x56d256+_0x8059bd(0xf7)+_0x4827a6+'\x20'+_0x3b57e6+'\x20'+_0x49a00c+'\x20'+_0x3cd489+_0x8059bd(0x714)+_0x3b1d9d+_0x8059bd(0x11c)+_0xa5f905+'\x20'+simpleMathPrompt,_0x519b6b=_0x391e80;break;case _0x8059bd(0x290):_0x383778=_0x8059bd(0x43b)+_0x373638+'\x20'+_0x56d256+_0x8059bd(0xf7)+_0x4827a6+'\x20'+_0x3b57e6+'\x20'+_0x49a00c+'\x20'+_0x3cd489+_0x8059bd(0x5ae)+_0xa5f905+'\x20'+simpleMathPrompt,_0x519b6b=_0x1e8853;break;case _0x8059bd(0x3c3):_0x383778='สร้างแบบทดสอบ'+_0x373638+'\x20'+_0x56d256+_0x8059bd(0xf7)+_0x4827a6+'\x20'+_0x3b57e6+'\x20'+_0x49a00c+'\x20'+_0x3cd489+_0x8059bd(0x23f)+_0x3b1d9d+_0x8059bd(0x31c)+_0xa5f905+'\x20'+simpleMathPrompt+'.',_0x519b6b=_0x467f45;break;case'true_false':_0x383778=_0x8059bd(0x6b2)+_0x373638+'\x20'+_0x56d256+_0x8059bd(0xf7)+_0x4827a6+'\x20'+_0x3b57e6+'\x20'+_0x49a00c+'\x20'+_0x3cd489+_0x8059bd(0x686)+_0xa5f905+'\x20'+simpleMathPrompt,_0x519b6b=_0x2c4f3d;break;case _0x8059bd(0x5b4):_0x383778=_0x8059bd(0x472)+_0x373638+'\x20'+_0x56d256+'\x20คู่\x20'+_0x4827a6+'\x20'+_0x3b57e6+'\x20'+_0x49a00c+'\x20'+_0x3cd489+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0xa5f905+'\x20'+simpleMathPrompt,_0x519b6b=_0xc836de;break;}_0x539abe={'type':_0x8059bd(0x14f),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x8059bd(0x262),'items':_0x519b6b}},'required':['topic',_0x8059bd(0x3a0)]};}return _0x320e4b?(_0x383778=_0x8059bd(0x195)+_0x320e4b+_0x8059bd(0x451)+_0x383778,_0x1f3460=_0x8059bd(0x48b)):_0x1f3460='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x383778,_0x1f3460,_0x539abe,_0x45accc);}async function generateQuizFromFile(_0x4cb586,_0x260420){const _0xb37617=_0x31a0a6,_0x545a98=document[_0xb37617(0x75f)](_0xb37617(0x2af))[_0xb37617(0x3a5)][_0xb37617(0x74d)](),_0x53887c=document['getElementById']('quiz-type-select')[_0xb37617(0x3a5)],_0xb456b1=document['getElementById'](_0xb37617(0x3c1))[_0xb37617(0x3a5)],_0xc5fd0f=document[_0xb37617(0x75f)](_0xb37617(0x7e6))[_0xb37617(0x3a5)],_0x1e70d9=document[_0xb37617(0x75f)]('include-images-checkbox')['checked'],_0xabce56=document[_0xb37617(0x75f)](_0xb37617(0x244))[_0xb37617(0x4b5)],_0x5f453f=_0xabce56?'':_0xb37617(0x477);let _0x5db739='',_0x1d1545,_0x88f68=_0xb37617(0x504)+_0x545a98+'\x22';!_0x545a98&&(_0x88f68='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x5c129f=_0x1e70d9?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x53887c){case _0xb37617(0xff):_0x5db739=_0xb37617(0x5d8)+_0x5f453f+'\x20'+_0xb456b1+_0xb37617(0xf7)+_0x88f68+'.\x20แต่ละข้อมี\x20'+_0xc5fd0f+_0xb37617(0x7d5)+_0x5c129f+'\x20'+simpleMathPrompt,_0x1d1545={'type':_0xb37617(0x14f),'properties':{'questionText':{'type':_0xb37617(0x131)},'options':{'type':_0xb37617(0x262),'items':{'type':_0xb37617(0x131)}},'correctAnswerIndex':{'type':_0xb37617(0x1f5)},'explanation':{'type':_0xb37617(0x131)},'imageCode':{'type':_0xb37617(0x131)}},'required':[_0xb37617(0x149),_0xb37617(0x638),_0xb37617(0x18c),_0xb37617(0xfc)]};break;case _0xb37617(0x5b3):_0x5db739='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5f453f+'\x20'+_0xb456b1+_0xb37617(0xf7)+_0x88f68+_0xb37617(0x714)+_0xc5fd0f+_0xb37617(0x11c)+_0x5c129f+'\x20'+simpleMathPrompt,_0x1d1545={'type':_0xb37617(0x14f),'properties':{'questionText':{'type':_0xb37617(0x131)},'options':{'type':_0xb37617(0x262),'items':{'type':_0xb37617(0x131)}},'correctAnswerIndex':{'type':_0xb37617(0x1f5)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0xb37617(0x638),_0xb37617(0x18c),_0xb37617(0xfc)]};break;case _0xb37617(0x290):_0x5db739=_0xb37617(0x43b)+_0x5f453f+'\x20'+_0xb456b1+_0xb37617(0xf7)+_0x88f68+_0xb37617(0x5ae)+_0x5c129f+'\x20'+simpleMathPrompt,_0x1d1545={'type':_0xb37617(0x14f),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xb37617(0x131)},'imageCode':{'type':_0xb37617(0x131)}},'required':[_0xb37617(0x149),'idealAnswer',_0xb37617(0xfc)]};break;case _0xb37617(0x3c3):_0x5db739=_0xb37617(0x7e1)+_0x5f453f+'\x20'+_0xb456b1+'\x20ข้อ\x20'+_0x88f68+_0xb37617(0x738)+_0xc5fd0f+_0xb37617(0x31c)+_0x5c129f+'\x20'+simpleMathPrompt+_0xb37617(0x63b),_0x1d1545={'type':_0xb37617(0x14f),'properties':{'questionText':{'type':_0xb37617(0x131)},'questionType':{'type':_0xb37617(0x131),'enum':[_0xb37617(0xff),_0xb37617(0xa5)]},'options':{'type':_0xb37617(0x262),'items':{'type':_0xb37617(0x131)}},'correctAnswerIndex':{'type':_0xb37617(0x1f5)},'idealAnswer':{'type':_0xb37617(0x131)},'explanation':{'type':_0xb37617(0x131)},'imageCode':{'type':_0xb37617(0x131)}},'required':['questionText',_0xb37617(0x561),'explanation']};break;case _0xb37617(0x5cc):_0x5db739=_0xb37617(0x6b2)+_0x5f453f+'\x20'+_0xb456b1+'\x20ข้อ\x20'+_0x88f68+_0xb37617(0x7c3)+_0x5c129f+'\x20'+simpleMathPrompt,_0x1d1545={'type':_0xb37617(0x14f),'properties':{'questionText':{'type':_0xb37617(0x131)},'correctAnswer':{'type':_0xb37617(0x4be)},'explanation':{'type':_0xb37617(0x131)},'imageCode':{'type':_0xb37617(0x131)}},'required':[_0xb37617(0x149),_0xb37617(0x62b),_0xb37617(0xfc)]};break;case'matching':_0x5db739=_0xb37617(0x472)+_0x5f453f+'\x20'+_0xb456b1+_0xb37617(0x2d3)+_0x88f68+_0xb37617(0x136)+_0xb456b1+_0xb37617(0x7a3)+_0x5c129f+'\x20'+simpleMathPrompt,_0x1d1545={'type':_0xb37617(0x14f),'properties':{'questionType':{'type':_0xb37617(0x131),'enum':[_0xb37617(0x6bc)]},'stem':{'type':_0xb37617(0x131)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xb37617(0x262),'items':{'type':'STRING'}},'explanation':{'type':_0xb37617(0x131)},'imageCode':{'type':_0xb37617(0x131)}},'required':[_0xb37617(0x561),_0xb37617(0x31a),_0xb37617(0x6ad),'allResponses',_0xb37617(0xfc)]};break;}const _0x1b5edd={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x1d1545}},'required':['topic',_0xb37617(0x3a0)]},_0x2e2613=_0xb37617(0x287)+_0x5db739,_0x2909c4={'contents':[{'parts':[{'text':_0x2e2613},{'inlineData':{'mimeType':_0x4cb586,'data':_0x260420}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1b5edd}};return handleApiCall(_0x2909c4[_0xb37617(0x12e)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x1b5edd);}async function handleApiCall(_0x3e5633,_0x57e734,_0x3bce1e,_0x53b8a6=null){const _0x41f533=_0x31a0a6,_0x177735=document[_0x41f533(0x75f)](_0x41f533(0x394)),_0x472018=document[_0x41f533(0x75f)](_0x41f533(0x7ba)),_0x3799a2=document[_0x41f533(0x75f)](_0x41f533(0x2a1)),_0x78902b=document[_0x41f533(0x75f)](_0x41f533(0x4af));_0x177735[_0x41f533(0x4ba)][_0x41f533(0x4c3)](_0x41f533(0x199));_0x53b8a6===null&&(_0x78902b['innerHTML']='');_0x472018[_0x41f533(0x4ba)][_0x41f533(0x4c3)](_0x41f533(0x199)),_0x3799a2['textContent']=_0x57e734,document[_0x41f533(0x75f)](_0x41f533(0x45a))[_0x41f533(0x108)]=!![],document['getElementById'](_0x41f533(0x15a))[_0x41f533(0x108)]=!![],document['getElementById'](_0x41f533(0x5b0))[_0x41f533(0x108)]=!![];try{const _0x393214={'responseMimeType':_0x41f533(0x532),'responseSchema':_0x3bce1e},_0x3fcc2f=Array[_0x41f533(0x31b)](_0x3e5633)?_0x3e5633:[{'text':_0x3e5633}],_0x57bc48={'contents':[{'role':_0x41f533(0x5cb),'parts':_0x3fcc2f}],'generationConfig':_0x393214},_0x5b4a65=_0x41f533(0x446),_0x30b4ff='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5b4a65,_0x1f59f4=await fetch(_0x30b4ff,{'method':_0x41f533(0x318),'headers':{'Content-Type':_0x41f533(0x532)},'body':JSON[_0x41f533(0x1c2)](_0x57bc48)});if(!_0x1f59f4['ok'])throw new Error(_0x41f533(0x11b)+_0x1f59f4[_0x41f533(0x6fe)]);const _0x320bc1=await _0x1f59f4[_0x41f533(0x339)]();if(_0x320bc1[_0x41f533(0x140)]?.[0x0]?.[_0x41f533(0x609)]?.[_0x41f533(0x602)]?.[0x0]){let _0x41d0ef=_0x320bc1['candidates'][0x0][_0x41f533(0x609)][_0x41f533(0x602)][0x0][_0x41f533(0x3e1)],_0xceaece;try{if(_0x41d0ef['startsWith']('```json'))_0x41d0ef=_0x41d0ef[_0x41f533(0x4e6)](0x7,_0x41d0ef[_0x41f533(0x299)]-0x3)[_0x41f533(0x74d)]();else _0x41d0ef[_0x41f533(0x36d)](_0x41f533(0x29c))&&(_0x41d0ef=_0x41d0ef[_0x41f533(0x4e6)](0x3,_0x41d0ef['length']-0x3)[_0x41f533(0x74d)]());_0xceaece=JSON[_0x41f533(0x3ae)](_0x41d0ef);}catch(_0x4bffaf){console[_0x41f533(0x382)](_0x41f533(0x6ea),_0x4bffaf,_0x41d0ef);throw new Error(_0x41f533(0x17c));}if(_0x53b8a6!==null){if(_0xceaece[_0x41f533(0x561)]===_0x41f533(0x6bc)){const _0x7205dd=currentQuizData['questions'][_0x41f533(0x182)](_0x50b4cd=>_0x50b4cd[_0x41f533(0x6ad)]);_0xceaece['allResponses']=_0x7205dd;const _0x98e26f=currentQuizData[_0x41f533(0x3a0)][_0x53b8a6][_0x41f533(0x6ad)],_0xf226e=_0x7205dd[_0x41f533(0x709)](_0x98e26f);_0xf226e>-0x1&&(_0x7205dd[_0xf226e]=_0xceaece['correctResponse']),currentQuizData['questions'][_0x41f533(0x748)](_0x488b2b=>{const _0x4a607f=_0x41f533;if(_0x488b2b[_0x4a607f(0x561)]===_0x4a607f(0x6bc))_0x488b2b[_0x4a607f(0x113)]=_0x7205dd;});}currentQuizData[_0x41f533(0x3a0)][_0x53b8a6]=_0xceaece,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0xceaece;const _0x7aec65=document[_0x41f533(0x75f)]('quiz-type-select')[_0x41f533(0x3a5)];currentQuizData['quizType']=_0x7aec65,currentQuizData[_0x41f533(0x3a0)]&&currentQuizData['questions'][_0x41f533(0x748)](_0x3e149b=>{const _0x4bb70a=_0x41f533;if(!_0x3e149b[_0x4bb70a(0x561)]){if(_0x7aec65===_0x4bb70a(0x5b3))_0x3e149b['questionType']=_0x4bb70a(0xff);else _0x7aec65===_0x4bb70a(0x290)?_0x3e149b['questionType']='short_answer':_0x3e149b[_0x4bb70a(0x561)]=_0x7aec65;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x41f533(0x382)](_0x41f533(0x146),JSON['stringify'](_0x320bc1));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x5a1654){console[_0x41f533(0x382)]('Error\x20generating\x20quiz:',_0x5a1654),showMessage(_0x41f533(0x766)),_0x53b8a6===null&&(_0x78902b[_0x41f533(0x4ca)]=_0x41f533(0x769));}finally{_0x472018[_0x41f533(0x4ba)][_0x41f533(0x688)]('hidden'),document[_0x41f533(0x75f)](_0x41f533(0x45a))[_0x41f533(0x108)]=![],document[_0x41f533(0x75f)](_0x41f533(0x15a))[_0x41f533(0x108)]=![],document[_0x41f533(0x75f)](_0x41f533(0x5b0))[_0x41f533(0x108)]=![];const _0x50d1fc=document[_0x41f533(0x75f)](_0x41f533(0x327));_0x50d1fc&&(_0x50d1fc['disabled']=![]);}}function enterFullscreen(){const _0x5c0b2c=_0x31a0a6,_0x2d43b3=document[_0x5c0b2c(0x758)];if(_0x2d43b3[_0x5c0b2c(0x28b)])_0x2d43b3[_0x5c0b2c(0x28b)]()['catch'](_0x102204=>{const _0x465807=_0x5c0b2c;console[_0x465807(0x382)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x102204[_0x465807(0x5d6)]+'\x20('+_0x102204[_0x465807(0x248)]+')');});else{if(_0x2d43b3[_0x5c0b2c(0x6d5)])_0x2d43b3[_0x5c0b2c(0x6d5)]();else _0x2d43b3[_0x5c0b2c(0x6e0)]&&_0x2d43b3['msRequestFullscreen']();}}function handleFullscreenChange(){const _0xfc4ef7=_0x31a0a6;!document['fullscreenElement']&&isQuizActive&&(cheatAttempts++,logBehaviorEvent(_0xfc4ef7(0x5ad),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0xfc4ef7(0x12c)+maxCheatAttempts+_0xfc4ef7(0x64e)),document['getElementById']('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0xfc4ef7(0x797),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0xfc4ef7(0x563),enterFullscreen));}function displayGeneratedQuiz(_0x1356ea){const _0x480c16=_0x31a0a6,_0x4d2c3e=document[_0x480c16(0x75f)]('generated-quiz-container');let _0x370dcd=_0x480c16(0x360)+_0x1356ea[_0x480c16(0x151)]+_0x480c16(0x159);_0x1356ea[_0x480c16(0x3a0)]['forEach']((_0x7aeab8,_0x41bc47)=>{const _0x286d4a=_0x480c16,_0x2d0d8d=_0x7aeab8['questionType']||_0x1356ea[_0x286d4a(0x1f6)];_0x370dcd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x41bc47+_0x286d4a(0x6a8)+_0x41bc47+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x41bc47+_0x286d4a(0x337);switch(_0x2d0d8d){case _0x286d4a(0x6bc):_0x370dcd+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x41bc47+'\x22>'+(_0x41bc47+0x1)+'.\x20'+_0x7aeab8[_0x286d4a(0x31a)]+'</p>';_0x7aeab8[_0x286d4a(0x68d)]&&(_0x370dcd+=_0x286d4a(0x52c)+_0x41bc47+_0x286d4a(0x400)+_0x7aeab8['imageCode']+'</div>');_0x370dcd+=_0x286d4a(0x513)+_0x41bc47+'\x22>'+_0x7aeab8[_0x286d4a(0x6ad)]+_0x286d4a(0x2e6),_0x370dcd+=_0x286d4a(0x3ec)+_0x41bc47+'\x22>'+_0x7aeab8[_0x286d4a(0xfc)]+'</span></div>';break;case'short_answer':_0x370dcd+=_0x286d4a(0x19b)+_0x41bc47+'\x22>'+(_0x41bc47+0x1)+'.\x20'+_0x7aeab8[_0x286d4a(0x149)]+_0x286d4a(0x56d);_0x7aeab8[_0x286d4a(0x68d)]&&(_0x370dcd+=_0x286d4a(0x52c)+_0x41bc47+_0x286d4a(0x400)+_0x7aeab8[_0x286d4a(0x68d)]+_0x286d4a(0xdc));_0x370dcd+=_0x286d4a(0x487)+_0x41bc47+'\x22>'+_0x7aeab8[_0x286d4a(0x590)]+_0x286d4a(0x2e6),_0x370dcd+=_0x286d4a(0x3ec)+_0x41bc47+'\x22>'+_0x7aeab8[_0x286d4a(0xfc)]+'</span></div>';break;case _0x286d4a(0x5cc):_0x370dcd+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x41bc47+'\x22>'+(_0x41bc47+0x1)+'.\x20'+_0x7aeab8['questionText']+_0x286d4a(0x56d);_0x7aeab8[_0x286d4a(0x68d)]&&(_0x370dcd+=_0x286d4a(0x52c)+_0x41bc47+_0x286d4a(0x400)+_0x7aeab8[_0x286d4a(0x68d)]+'</div>');_0x370dcd+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x7aeab8[_0x286d4a(0x62b)]===!![]?'text-green-600\x20font-bold':'')+_0x286d4a(0x6f6)+(_0x7aeab8[_0x286d4a(0x62b)]===![]?_0x286d4a(0x6d4):'')+_0x286d4a(0x750),_0x370dcd+=_0x286d4a(0x3ec)+_0x41bc47+'\x22>'+_0x7aeab8[_0x286d4a(0xfc)]+_0x286d4a(0x2e6);break;case _0x286d4a(0x11a):case'multiple_choice':default:_0x370dcd+=_0x286d4a(0x19b)+_0x41bc47+'\x22>'+(_0x41bc47+0x1)+'.\x20'+_0x7aeab8['questionText']+_0x286d4a(0x56d);_0x7aeab8[_0x286d4a(0x68d)]&&(_0x370dcd+='<div\x20id=\x22q-image-container-'+_0x41bc47+_0x286d4a(0x400)+_0x7aeab8[_0x286d4a(0x68d)]+_0x286d4a(0xdc));_0x370dcd+=_0x286d4a(0x464)+_0x41bc47+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7aeab8['options']['map']((_0x281227,_0x2bfeae)=>_0x286d4a(0x33a)+(_0x2bfeae===_0x7aeab8[_0x286d4a(0x18c)]?_0x286d4a(0x6d4):'')+'\x22>'+_0x281227+_0x286d4a(0x5dd))[_0x286d4a(0x7df)]('')+_0x286d4a(0x566),_0x370dcd+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x41bc47+'\x22>'+_0x7aeab8[_0x286d4a(0xfc)]+_0x286d4a(0x2e6);break;}_0x370dcd+=_0x286d4a(0xdc);}),_0x370dcd+=_0x480c16(0x13a),_0x4d2c3e['innerHTML']=_0x370dcd,document['querySelectorAll'](_0x480c16(0x50d))['forEach'](_0x57c2ab=>_0x57c2ab[_0x480c16(0x670)](_0x480c16(0xce),handleEditQuestion)),document[_0x480c16(0x655)](_0x480c16(0x435))[_0x480c16(0x748)](_0x233bbd=>_0x233bbd[_0x480c16(0x670)](_0x480c16(0xce),handleRegenerateQuestion)),document[_0x480c16(0x655)]('.save-to-bank-btn')[_0x480c16(0x748)](_0x5638f5=>_0x5638f5[_0x480c16(0x670)]('click',handleSaveToBank)),document[_0x480c16(0x75f)]('export-worksheet-pdf-btn')[_0x480c16(0x670)](_0x480c16(0xce),exportQuizAsWorksheetPDF),document['getElementById'](_0x480c16(0x272))[_0x480c16(0x670)](_0x480c16(0xce),saveQuiz);if(window[_0x480c16(0x428)])window[_0x480c16(0x428)][_0x480c16(0x3d6)]([_0x4d2c3e]);}function handleRegenerateQuestion(_0x700f5d){const _0x51559a=_0x31a0a6,_0x4d8f79=_0x700f5d[_0x51559a(0x3ee)][_0x51559a(0x384)][_0x51559a(0x10e)],_0x8a7399=currentQuizData[_0x51559a(0x151)];showMessage(_0x51559a(0x231)+(parseInt(_0x4d8f79)+0x1)+_0x51559a(0x179)),generateQuiz(_0x8a7399,null,parseInt(_0x4d8f79));}function getPointerPosition(_0x216944,_0x41e643){const _0x32e3a7=_0x31a0a6,_0x2be1df=_0x216944[_0x32e3a7(0x103)]();let _0x5e489e,_0x11e540;return _0x41e643[_0x32e3a7(0x522)]&&_0x41e643[_0x32e3a7(0x522)]['length']>0x0?(_0x5e489e=_0x41e643['touches'][0x0][_0x32e3a7(0x715)],_0x11e540=_0x41e643[_0x32e3a7(0x522)][0x0][_0x32e3a7(0x2c6)]):(_0x5e489e=_0x41e643[_0x32e3a7(0x715)],_0x11e540=_0x41e643[_0x32e3a7(0x2c6)]),{'x':(_0x5e489e-_0x2be1df['e'])/_0x2be1df['a'],'y':(_0x11e540-_0x2be1df['f'])/_0x2be1df['d']};}function startDrag(_0x3460d0){const _0x37810a=_0x31a0a6;_0x3460d0[_0x37810a(0x3ad)]===_0x37810a(0x58e)&&_0x3460d0['preventDefault']();const _0x178494=_0x3460d0[_0x37810a(0x4a8)]['closest']('.draggable-text');if(_0x178494){draggedSvgElement=_0x178494;const _0x2ac826=draggedSvgElement[_0x37810a(0x414)],_0xf009e9=getPointerPosition(_0x2ac826,_0x3460d0);svgOffset['x']=_0xf009e9['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0xf009e9['y']-parseFloat(draggedSvgElement[_0x37810a(0x4f8)](null,'y'));}}function calculateItemAnalysis(_0xc520b5,_0x1eb68b){const _0x1b4745=_0x31a0a6,_0x25d433={};if(_0x1eb68b[_0x1b4745(0x299)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x56fa3e=[..._0x1eb68b][_0x1b4745(0x2ba)]((_0x4d217d,_0x14b159)=>{const _0xbd2a1c=_0x1b4745,_0x1ae970=_0x14b159[_0xbd2a1c(0x7dd)]-_0x4d217d['latestScore'];if(_0x1ae970!==0x0)return _0x1ae970;const _0x3d02f3=_0x4d217d[_0xbd2a1c(0x489)]?.['length']||0x1,_0x3a5003=_0x14b159[_0xbd2a1c(0x489)]?.[_0xbd2a1c(0x299)]||0x1,_0x28a286=_0x3d02f3-_0x3a5003;if(_0x28a286!==0x0)return _0x28a286;const _0x20c3a9=new Date(_0x4d217d['latestSubmittedAt']),_0x23c506=new Date(_0x14b159[_0xbd2a1c(0x72a)]),_0x42c31f=_0x20c3a9-_0x23c506;if(_0x42c31f!==0x0)return _0x42c31f;return _0x4d217d[_0xbd2a1c(0x1c3)][_0xbd2a1c(0x6de)](_0x14b159['studentName'],'th');}),_0x2bcee0=_0x56fa3e[_0x1b4745(0x299)],_0x5336de=Math[_0x1b4745(0x69e)](0x1,Math['floor'](_0x2bcee0*0.33));if(_0x5336de===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x40a41b=_0x56fa3e['slice'](0x0,_0x5336de),_0x3257f0=_0x56fa3e[_0x1b4745(0x634)](-_0x5336de),_0x395840=_0x40a41b['map'](_0x1a7012=>_0x1a7012[_0x1b4745(0x1c3)]),_0x12edc5=_0x3257f0[_0x1b4745(0x182)](_0x5c2eda=>_0x5c2eda['studentName']);return _0xc520b5['questions'][_0x1b4745(0x748)]((_0xc81405,_0x55db7d)=>{const _0x18e20c=_0x1b4745,_0x267c9d=_0xc81405[_0x18e20c(0x31a)]||_0xc81405[_0x18e20c(0x149)];let _0x4c5862=0x0,_0xd6e8e5=0x0,_0x16c4b3=0x0;const _0x23d519=[],_0x4241cf=[];_0x40a41b[_0x18e20c(0x748)](_0x29be69=>{const _0x4515c4=_0x18e20c,_0x22117d=_0x29be69['attempts'][_0x29be69[_0x4515c4(0x489)]['length']-0x1],_0x34045d=_0x22117d[_0x4515c4(0x737)]['find'](_0x2290f2=>_0x2290f2[_0x4515c4(0x482)]===_0x267c9d);_0x23d519[_0x4515c4(0x2b0)]({'name':_0x29be69[_0x4515c4(0x1c3)],'isCorrect':_0x34045d?_0x34045d[_0x4515c4(0x684)]:![]}),_0x34045d&&_0x34045d[_0x4515c4(0x684)]&&_0xd6e8e5++;}),_0x3257f0[_0x18e20c(0x748)](_0x5d8950=>{const _0x18772e=_0x18e20c,_0x142c0f=_0x5d8950[_0x18772e(0x489)][_0x5d8950[_0x18772e(0x489)][_0x18772e(0x299)]-0x1],_0x57bb40=_0x142c0f[_0x18772e(0x737)][_0x18772e(0x1fc)](_0x1dbac8=>_0x1dbac8[_0x18772e(0x482)]===_0x267c9d);_0x4241cf['push']({'name':_0x5d8950[_0x18772e(0x1c3)],'isCorrect':_0x57bb40?_0x57bb40[_0x18772e(0x684)]:![]}),_0x57bb40&&_0x57bb40[_0x18772e(0x684)]&&_0x16c4b3++;}),_0x1eb68b[_0x18e20c(0x748)](_0xbcfc2d=>{const _0x43395e=_0x18e20c,_0x1ff8fc=_0xbcfc2d[_0x43395e(0x489)][_0xbcfc2d[_0x43395e(0x489)][_0x43395e(0x299)]-0x1],_0x4ba4c4=_0x1ff8fc[_0x43395e(0x737)][_0x43395e(0x1fc)](_0x1cabce=>_0x1cabce[_0x43395e(0x482)]===_0x267c9d);_0x4ba4c4&&_0x4ba4c4[_0x43395e(0x684)]&&_0x4c5862++;});const _0xaf36e5=_0x2bcee0>0x0?_0x4c5862/_0x2bcee0:0x0,_0x585b75=_0x5336de>0x0?_0xd6e8e5/_0x5336de-_0x16c4b3/_0x5336de:0x0;_0x25d433[_0x55db7d]={'p':_0xaf36e5,'r':_0x585b75,'upperGroupResponders':_0x23d519,'lowerGroupResponders':_0x4241cf};}),{'perQuestionStats':_0x25d433,'overallGroups':{'upperGroupNames':_0x395840,'lowerGroupNames':_0x12edc5}};}function drag(_0x31b235){const _0x19721b=_0x31a0a6;if(draggedSvgElement){_0x31b235[_0x19721b(0x7d9)]();const _0x3b5dcf=draggedSvgElement[_0x19721b(0x414)],_0x401064=getPointerPosition(_0x3b5dcf,_0x31b235),_0x2db534=_0x3b5dcf[_0x19721b(0x67a)][_0x19721b(0x48d)];let _0x5c7ba1=_0x401064['x']-svgOffset['x'],_0x280b7a=_0x401064['y']-svgOffset['y'];const _0x25d486=draggedSvgElement[_0x19721b(0x406)]();_0x5c7ba1=Math['max'](_0x2db534['x'],Math[_0x19721b(0x668)](_0x5c7ba1,_0x2db534['x']+_0x2db534['width']-_0x25d486[_0x19721b(0x6e3)])),_0x280b7a=Math[_0x19721b(0x69e)](_0x2db534['y'],Math[_0x19721b(0x668)](_0x280b7a,_0x2db534['y']+_0x2db534[_0x19721b(0x79d)]-_0x25d486[_0x19721b(0x79d)])),draggedSvgElement['setAttributeNS'](null,'x',_0x5c7ba1),draggedSvgElement['setAttributeNS'](null,'y',_0x280b7a);}}function endDrag(_0x337a9a){draggedSvgElement=null;}function handleSvgEditClick(_0x5d19ff){const _0x51e4d9=_0x31a0a6;if(_0x5d19ff[_0x51e4d9(0x4a8)][_0x51e4d9(0x4ba)][_0x51e4d9(0x316)](_0x51e4d9(0x576))){const _0x2cf3ad=_0x5d19ff['target']['dataset'][_0x51e4d9(0x34c)],_0x141762=_0x5d19ff['currentTarget'],_0x197537=_0x141762[_0x51e4d9(0x440)]('#'+_0x2cf3ad);_0x197537&&_0x197537['remove'](),_0x5d19ff[_0x51e4d9(0x4a8)][_0x51e4d9(0x4c3)]();}}function handleEditQuestion(_0xfa86c4){const _0xe426f=_0x31a0a6,_0x5298aa=_0xfa86c4['currentTarget'],_0x40c9fd=_0x5298aa[_0xe426f(0x384)]['index'],_0x503722=currentQuizData[_0xe426f(0x3a0)][_0x40c9fd],_0x4ce0bb=document[_0xe426f(0x75f)](_0xe426f(0x550)+_0x40c9fd),_0x56f933=document[_0xe426f(0x75f)]('q-explanation-'+_0x40c9fd),_0x18069e=document[_0xe426f(0x75f)](_0xe426f(0x6b7)+_0x40c9fd);if(_0x5298aa[_0xe426f(0x4ca)]['includes']('fa-pen')){_0x5298aa['innerHTML']=_0xe426f(0x5f8),_0x5298aa[_0xe426f(0x421)]=_0xe426f(0x723);if(_0x4ce0bb)_0x4ce0bb[_0xe426f(0x30a)]=!![];if(_0x56f933)_0x56f933[_0xe426f(0x30a)]=!![];if(_0x18069e){const _0x211daa=_0x18069e[_0xe426f(0x440)](_0xe426f(0xb8));if(_0x211daa){const _0xbc0b39=_0x211daa['querySelectorAll'](_0xe426f(0x3e1));_0xbc0b39['forEach']((_0x221caf,_0x4127ec)=>{const _0x440215=_0xe426f,_0x1e7178=_0x440215(0x161)+_0x40c9fd+'-'+_0x4127ec;_0x221caf['id']=_0x1e7178,_0x221caf[_0x440215(0x4ba)][_0x440215(0x688)](_0x440215(0x50f)),_0x221caf[_0x440215(0xc5)][_0x440215(0x2f5)]=_0x440215(0x105);const _0x2224cc=document['createElementNS'](_0x440215(0x349),_0x440215(0x3dc)),_0x1c9aaf=_0x221caf['getBBox']();_0x2224cc[_0x440215(0x14b)]('cx',String(_0x1c9aaf['x']+_0x1c9aaf[_0x440215(0x6e3)]+0x5)),_0x2224cc[_0x440215(0x14b)]('cy',String(_0x1c9aaf['y']+_0x1c9aaf['height']/0x2-0x5)),_0x2224cc[_0x440215(0x14b)]('r','5'),_0x2224cc[_0x440215(0x14b)]('fill',_0x440215(0x541)),_0x2224cc[_0x440215(0x14b)](_0x440215(0x62d),_0x440215(0x576)),_0x2224cc['dataset']['targetId']=_0x1e7178,_0x221caf['after'](_0x2224cc);}),_0x211daa[_0xe426f(0x670)](_0xe426f(0x4bd),startDrag),_0x211daa[_0xe426f(0x670)]('mousemove',drag),_0x211daa[_0xe426f(0x670)](_0xe426f(0x122),endDrag),_0x211daa['addEventListener'](_0xe426f(0x608),endDrag),_0x211daa[_0xe426f(0x670)](_0xe426f(0x58e),startDrag,{'passive':![]}),_0x211daa[_0xe426f(0x670)](_0xe426f(0x432),drag,{'passive':![]}),_0x211daa[_0xe426f(0x670)](_0xe426f(0x6b5),endDrag),_0x211daa['addEventListener'](_0xe426f(0x48e),endDrag),_0x211daa[_0xe426f(0x670)](_0xe426f(0xce),handleSvgEditClick);}}if(_0x4ce0bb)_0x4ce0bb[_0xe426f(0xec)]();}else{_0x5298aa[_0xe426f(0x4ca)]=_0xe426f(0x6ae),_0x5298aa[_0xe426f(0x421)]=_0xe426f(0x58b);if(_0x4ce0bb){_0x4ce0bb['contentEditable']=![];const _0x4f765d=_0x503722[_0xe426f(0x561)]||currentQuizData[_0xe426f(0x1f6)];_0x4f765d===_0xe426f(0x6bc)?_0x503722['stem']=_0x4ce0bb[_0xe426f(0xef)][_0xe426f(0x4e6)](_0x4ce0bb[_0xe426f(0xef)][_0xe426f(0x709)]('.')+0x2)[_0xe426f(0x74d)]():_0x503722[_0xe426f(0x149)]=_0x4ce0bb[_0xe426f(0xef)][_0xe426f(0x4e6)](_0x4ce0bb[_0xe426f(0xef)][_0xe426f(0x709)]('.')+0x2)[_0xe426f(0x74d)]();}_0x56f933&&(_0x56f933[_0xe426f(0x30a)]=![],_0x503722[_0xe426f(0xfc)]=_0x56f933[_0xe426f(0xef)]);if(_0x18069e){const _0xe795c8=_0x18069e[_0xe426f(0x440)]('svg');if(_0xe795c8){const _0x47d3e2=_0xe795c8[_0xe426f(0x322)](!![]);_0x47d3e2[_0xe426f(0x655)](_0xe426f(0x580))['forEach'](_0x7c56e9=>_0x7c56e9[_0xe426f(0x4c3)]()),_0x47d3e2[_0xe426f(0x655)](_0xe426f(0x30f))[_0xe426f(0x748)](_0x2b519d=>{const _0x46a00b=_0xe426f;_0x2b519d[_0x46a00b(0x4ba)]['remove'](_0x46a00b(0x50f)),_0x2b519d[_0x46a00b(0xc5)][_0x46a00b(0x2f5)]='default',_0x2b519d[_0x46a00b(0x3c4)]('id');}),_0x503722[_0xe426f(0x68d)]=_0x47d3e2[_0xe426f(0x3d1)],_0xe795c8[_0xe426f(0x249)](_0xe426f(0x4bd),startDrag),_0xe795c8[_0xe426f(0x249)](_0xe426f(0x70c),drag),_0xe795c8[_0xe426f(0x249)](_0xe426f(0x122),endDrag),_0xe795c8[_0xe426f(0x249)](_0xe426f(0x608),endDrag),_0xe795c8['removeEventListener'](_0xe426f(0x58e),startDrag),_0xe795c8[_0xe426f(0x249)](_0xe426f(0x432),drag),_0xe795c8[_0xe426f(0x249)](_0xe426f(0x6b5),endDrag),_0xe795c8[_0xe426f(0x249)](_0xe426f(0x48e),endDrag),_0xe795c8[_0xe426f(0x249)](_0xe426f(0xce),handleSvgEditClick),_0xe795c8[_0xe426f(0x655)](_0xe426f(0x580))['forEach'](_0x3230db=>_0x3230db[_0xe426f(0x4c3)]()),_0xe795c8['querySelectorAll'](_0xe426f(0x30f))['forEach'](_0x1a8c03=>{const _0x30d45b=_0xe426f;_0x1a8c03['classList'][_0x30d45b(0x4c3)](_0x30d45b(0x50f)),_0x1a8c03[_0x30d45b(0xc5)][_0x30d45b(0x2f5)]=_0x30d45b(0xa1);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3311d3){const _0x525717=_0x31a0a6,_0x318c0c=document[_0x525717(0x75f)](_0x525717(0x6d3)),_0x3b19fb=document[_0x525717(0x75f)](_0x525717(0x1f8));_0x3b19fb[_0x525717(0x4ca)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x318c0c[_0x525717(0x4ba)][_0x525717(0x4c3)]('hidden');try{const _0x5ee227=doc(db,'artifacts/'+appId+_0x525717(0x132),_0x3311d3),_0x55ace7=await getDoc(_0x5ee227);if(!_0x55ace7['exists']())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x3311d3,..._0x55ace7['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x25a5aa){console[_0x525717(0x382)](_0x525717(0x484),_0x25a5aa),showMessage(_0x525717(0x241)),_0x318c0c[_0x525717(0x4ba)]['add'](_0x525717(0x199));}}function renderQuizEditor(_0x139047){const _0xb0066b=_0x31a0a6;document[_0xb0066b(0x75f)](_0xb0066b(0x525))['value']=_0x139047[_0xb0066b(0x151)];const _0x5edac0=document[_0xb0066b(0x75f)](_0xb0066b(0x1f8));let _0x5b8967=_0x139047[_0xb0066b(0x3a0)]['map']((_0x11bb97,_0x1a0a10)=>{const _0x932584=_0xb0066b;let _0x4d70f2='';const _0x50c9fe=_0x11bb97[_0x932584(0x561)]||_0x139047[_0x932584(0x1f6)];switch(_0x50c9fe){case _0x932584(0xff):const _0x3b89c7=(_0x11bb97[_0x932584(0x638)]||[])['map']((_0x50a826,_0x153352)=>_0x932584(0x206)+_0x1a0a10+_0x932584(0x11f)+_0x153352+'\x22\x20'+(_0x153352===_0x11bb97[_0x932584(0x18c)]?_0x932584(0x4b5):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x50a826+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x4d70f2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x3b89c7+_0x932584(0x1ed);break;case _0x932584(0xa5):_0x4d70f2=_0x932584(0x26c)+(_0x11bb97[_0x932584(0x590)]||'')+_0x932584(0x21b);break;case _0x932584(0x5cc):_0x4d70f2=_0x932584(0x5db)+_0x1a0a10+'\x22\x20value=\x22true\x22\x20'+(_0x11bb97[_0x932584(0x62b)]===!![]?_0x932584(0x4b5):'')+_0x932584(0x4e3)+_0x1a0a10+'\x22\x20value=\x22false\x22\x20'+(_0x11bb97[_0x932584(0x62b)]===![]?_0x932584(0x4b5):'')+_0x932584(0x395);break;case _0x932584(0x6bc):_0x4d70f2=_0x932584(0x3c9)+(_0x11bb97['correctResponse']||'')+_0x932584(0x31e);break;}const _0x27a141=_0x11bb97[_0x932584(0x149)]||_0x11bb97[_0x932584(0x31a)]||'';return _0x932584(0x325)+_0x1a0a10+_0x932584(0x679)+_0x50c9fe+_0x932584(0x781)+(_0x1a0a10+0x1)+'\x20('+_0x50c9fe+_0x932584(0x53d)+_0x27a141+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x4d70f2+_0x932584(0xd8);})[_0xb0066b(0x7df)]('');_0x5edac0[_0xb0066b(0x4ca)]=_0x5b8967;}async function handleSaveChanges(){const _0x341d5e=_0x31a0a6,_0x48d6e2=document[_0x341d5e(0x75f)](_0x341d5e(0x5d2));_0x48d6e2[_0x341d5e(0x108)]=!![],_0x48d6e2[_0x341d5e(0x4ca)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x2c0acd=document['getElementById']('editor-quiz-topic')[_0x341d5e(0x3a5)],_0x14cc59=document[_0x341d5e(0x655)]('.question-editor-item');let _0x25200d=[];const _0x48203b=Array[_0x341d5e(0xc6)](_0x14cc59)['map']((_0x453949,_0x2e6f8b)=>{const _0x53d9f8=_0x341d5e,_0x34cc02=_0x453949['dataset']['qType'],_0x5eb269=_0x453949[_0x53d9f8(0x440)](_0x53d9f8(0x172))[_0x53d9f8(0x3a5)];let _0x2d1e27={'questionType':_0x34cc02};const _0x314989=currentEditingQuizData[_0x53d9f8(0x3a0)][_0x2e6f8b];switch(_0x34cc02){case'multiple_choice':_0x2d1e27[_0x53d9f8(0x149)]=_0x5eb269;const _0x4dd0b8=_0x453949[_0x53d9f8(0x655)]('input[type=\x22text\x22]');_0x2d1e27[_0x53d9f8(0x638)]=Array[_0x53d9f8(0xc6)](_0x4dd0b8)['map'](_0x405c07=>_0x405c07[_0x53d9f8(0x3a5)]);const _0x5574a3=_0x453949['querySelector']('input[type=\x22radio\x22]:checked');_0x2d1e27[_0x53d9f8(0x18c)]=_0x5574a3?parseInt(_0x5574a3[_0x53d9f8(0x3a5)]):0x0;break;case'short_answer':_0x2d1e27[_0x53d9f8(0x149)]=_0x5eb269,_0x2d1e27['idealAnswer']=_0x453949[_0x53d9f8(0x440)]('.ideal-answer-input')[_0x53d9f8(0x3a5)];break;case _0x53d9f8(0x5cc):_0x2d1e27[_0x53d9f8(0x149)]=_0x5eb269;const _0x27d86c=_0x453949[_0x53d9f8(0x440)](_0x53d9f8(0x11d));_0x2d1e27['correctAnswer']=_0x27d86c?_0x27d86c[_0x53d9f8(0x3a5)]==='true':!![];break;case _0x53d9f8(0x6bc):_0x2d1e27['stem']=_0x5eb269;const _0x460a8b=_0x453949[_0x53d9f8(0x440)](_0x53d9f8(0x412));_0x2d1e27[_0x53d9f8(0x6ad)]=_0x460a8b?_0x460a8b[_0x53d9f8(0x3a5)]:'',_0x25200d['push'](_0x2d1e27['correctResponse']);break;default:_0x2d1e27[_0x53d9f8(0x149)]=_0x5eb269;break;}return{..._0x314989,..._0x2d1e27};});_0x25200d[_0x341d5e(0x299)]>0x0&&_0x48203b[_0x341d5e(0x748)](_0xdbd9a6=>{const _0xbb1f8=_0x341d5e;_0xdbd9a6['questionType']===_0xbb1f8(0x6bc)&&(_0xdbd9a6[_0xbb1f8(0x113)]=_0x25200d);});const _0x4eaa69=currentEditingQuizData['id'],_0x358a63=doc(db,_0x341d5e(0x678)+appId+'/public/data/quizzes',_0x4eaa69);await updateDoc(_0x358a63,{'topic':_0x2c0acd,'questions':_0x48203b}),showMessage(_0x341d5e(0x490)),document[_0x341d5e(0x75f)]('quiz-editor-modal')[_0x341d5e(0x4ba)][_0x341d5e(0x688)](_0x341d5e(0x199)),showConfirmation(_0x341d5e(0x4fc),()=>initiateReGradeProcess(_0x4eaa69)),document[_0x341d5e(0x75f)](_0x341d5e(0x188))[_0x341d5e(0x440)]('h3')[_0x341d5e(0x4e9)]='ตรวจคะแนนใหม่',document[_0x341d5e(0x75f)]('confirm-delete-btn')[_0x341d5e(0x4e9)]='ใช่,\x20ตรวจใหม่';}catch(_0x8f8c87){console['error'](_0x341d5e(0x216),_0x8f8c87),showMessage(_0x341d5e(0x6ef));}finally{_0x48d6e2['disabled']=![],_0x48d6e2[_0x341d5e(0x4ca)]=_0x341d5e(0x2d9);}}async function initiateReGradeProcess(_0x249f81){const _0x46b002=_0x31a0a6;showMessage(_0x46b002(0x784));try{const _0x40c727=doc(db,_0x46b002(0x678)+appId+_0x46b002(0x132),_0x249f81),_0x55da48=await getDoc(_0x40c727);if(!_0x55da48['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x1f1f9e={'id':_0x249f81,..._0x55da48[_0x46b002(0xa7)]()},_0x3fc792=collection(db,_0x46b002(0x678)+appId+_0x46b002(0x132),_0x249f81,_0x46b002(0x10f)),_0x449807=await getDocs(_0x3fc792);if(_0x449807[_0x46b002(0x700)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x3cdf5c=_0x449807['docs'][_0x46b002(0x182)](_0x45d1b4=>reGradeSingleSubmission(_0x45d1b4,_0x1f1f9e));await Promise[_0x46b002(0x7b4)](_0x3cdf5c);if(_0x1f1f9e[_0x46b002(0x628)]){const _0x4a5d7f=doc(db,_0x46b002(0x678)+appId+_0x46b002(0x3c6),_0x1f1f9e[_0x46b002(0x628)]),_0x49d583=await getDoc(_0x4a5d7f);if(_0x49d583[_0x46b002(0x1a9)]()&&_0x49d583['data']()[_0x46b002(0x469)]){const _0x342397=_0x49d583[_0x46b002(0xa7)]()[_0x46b002(0x469)]['map'](_0x18dc8f=>updateStudentProfile(_0x1f1f9e['projectId'],_0x18dc8f));await Promise[_0x46b002(0x7b4)](_0x342397);}}showMessage(_0x46b002(0x144)+_0x449807['size']+_0x46b002(0x126));}catch(_0x3b5f01){console['error']('Re-grade\x20process\x20failed:',_0x3b5f01),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x3b5f01[_0x46b002(0x5d6)]);}}async function reGradeSingleSubmission(_0x4879fd,_0x5af2a0){const _0x4c631a=_0x31a0a6,_0x1ce340=_0x4879fd[_0x4c631a(0xa7)](),_0x56a86d=_0x1ce340[_0x4c631a(0x1c3)],_0x55c52c=_0x1ce340[_0x4c631a(0x489)]||[],_0xbdd12b=[];for(const _0x2baead of _0x55c52c){let _0xfd21ae=0x0,_0x408d28=[],_0x35e21f=0x0;const _0x5a4d52=[];for(const _0x49734b of _0x2baead[_0x4c631a(0x737)]){const _0x38aa94=_0x5af2a0[_0x4c631a(0x3a0)]['find'](_0x47e376=>(_0x47e376[_0x4c631a(0x149)]||_0x47e376['stem'])===_0x49734b['originalQuestionText']);let _0xd05a67=![];if(_0x38aa94){const _0x36af93=_0x38aa94[_0x4c631a(0x561)]||_0x5af2a0['quizType'];switch(_0x36af93){case'multiple_choice':if(_0x38aa94[_0x4c631a(0x638)]&&_0x38aa94[_0x4c631a(0x18c)]<_0x38aa94[_0x4c631a(0x638)]['length']){const _0x535d9f=_0x38aa94['options'][_0x38aa94[_0x4c631a(0x18c)]];_0xd05a67=_0x49734b[_0x4c631a(0x3ca)]===_0x535d9f;}break;case _0x4c631a(0x5cc):const _0x179c71=_0x49734b['answer']===!![]||_0x49734b[_0x4c631a(0x61d)]==='true';_0xd05a67=_0x179c71===_0x38aa94['correctAnswer'];break;case _0x4c631a(0x6bc):_0xd05a67=_0x49734b['answer']===_0x38aa94[_0x4c631a(0x6ad)];break;case _0x4c631a(0xa5):_0xd05a67=await gradeShortAnswer(_0x49734b[_0x4c631a(0x61d)],_0x38aa94);break;default:_0xd05a67=_0x49734b[_0x4c631a(0x684)];break;}}if(_0xd05a67){_0xfd21ae++,_0x35e21f++;if(_0x35e21f===0x3)_0x408d28[_0x4c631a(0x2b0)](BADGES[_0x4c631a(0x47b)]['id']);}else _0x35e21f=0x0;_0x5a4d52['push']({..._0x49734b,'isCorrect':_0xd05a67});}let _0x20f264=_0xfd21ae*0xa;_0xfd21ae===_0x5af2a0[_0x4c631a(0x3a0)][_0x4c631a(0x299)]&&(_0x20f264+=0x32,_0x408d28[_0x4c631a(0x2b0)](BADGES['PERFECT_SCORE']['id'])),_0xbdd12b['push']({..._0x2baead,'score':_0xfd21ae,'points':_0x20f264,'badges':Array[_0x4c631a(0xc6)](new Set(_0x408d28)),'answers':_0x5a4d52});}const _0x3ae3f0=_0xbdd12b[_0x4c631a(0x299)]>0x0?_0xbdd12b[0x0][_0x4c631a(0x368)]:0x0,_0x23b2eb=Math['max'](..._0xbdd12b['map'](_0x47bdf6=>_0x47bdf6[_0x4c631a(0x368)])),_0x58fa9d=_0xbdd12b[_0x4c631a(0x299)]>0x0?_0xbdd12b[_0xbdd12b[_0x4c631a(0x299)]-0x1][_0x4c631a(0x368)]:0x0,_0x472764=_0xbdd12b[_0x4c631a(0x299)]>0x0?_0xbdd12b[_0xbdd12b[_0x4c631a(0x299)]-0x1][_0x4c631a(0x4c6)]:0x0,_0x4d0fd0=doc(db,_0x4c631a(0x678)+appId+'/public/data/quizzes/'+_0x5af2a0['id']+'/submissions',_0x56a86d);await updateDoc(_0x4d0fd0,{'attempts':_0xbdd12b,'firstScore':_0x3ae3f0,'bestScore':_0x23b2eb,'latestScore':_0x58fa9d,'points':_0x472764});}function cleanupQuizOptions(_0x13a3ef){const _0x56d767=_0x31a0a6,_0x5bc2a1=(_0x4dcdeb,_0x443457)=>_0x443457===0x0?_0x4dcdeb:_0x5bc2a1(_0x443457,_0x4dcdeb%_0x443457),_0x5c9780=_0x45f95d=>{const _0x25f17d=_0x2770;if(typeof _0x45f95d!==_0x25f17d(0x727))return null;_0x45f95d=_0x45f95d[_0x25f17d(0x74d)]();const _0x18079e=_0x45f95d['split'](/[ /]/)[_0x25f17d(0x5e5)](_0x519e4d=>_0x519e4d!=='');if(_0x18079e[_0x25f17d(0x299)]===0x3)return parseInt(_0x18079e[0x0])+parseInt(_0x18079e[0x1])/parseInt(_0x18079e[0x2]);else{if(_0x18079e[_0x25f17d(0x299)]===0x2)return parseInt(_0x18079e[0x0])/parseInt(_0x18079e[0x1]);else{if(_0x18079e['length']===0x1&&!isNaN(_0x18079e[0x0]))return parseFloat(_0x18079e[0x0]);}}return null;},_0x25166a=_0x2910fe=>{const _0x598fd4=_0x2770;if(typeof _0x2910fe!=='string')return _0x2910fe;const _0x8af89d=_0x2910fe['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x8af89d){const _0x480925=parseInt(_0x8af89d[0x1]);let _0x1dc44a=parseInt(_0x8af89d[0x2]),_0x311c79=parseInt(_0x8af89d[0x3]);const _0x2957c4=_0x5bc2a1(_0x1dc44a,_0x311c79);_0x1dc44a/=_0x2957c4,_0x311c79/=_0x2957c4;if(_0x311c79===0x1)return(_0x480925+_0x1dc44a)[_0x598fd4(0x798)]();return _0x480925+'\x20'+_0x1dc44a+'/'+_0x311c79;}return _0x2910fe;};return _0x13a3ef&&_0x13a3ef[_0x56d767(0x3a0)]&&_0x13a3ef[_0x56d767(0x3a0)][_0x56d767(0x748)](_0x2e9f83=>{const _0x19eee1=_0x56d767;if(_0x2e9f83[_0x19eee1(0x561)]==='multiple_choice'&&_0x2e9f83[_0x19eee1(0x638)]){const _0x4f3615=new Map(),_0x1d586b=_0x2e9f83['options'][_0x2e9f83['correctAnswerIndex']];_0x2e9f83[_0x19eee1(0x638)][_0x19eee1(0x748)](_0x1a7d39=>{const _0x2e5bbc=_0x19eee1,_0x4f4886=_0x25166a(_0x1a7d39),_0x4595a5=_0x5c9780(_0x4f4886);_0x4595a5!==null&&!_0x4f3615[_0x2e5bbc(0x2e5)](_0x4595a5)&&_0x4f3615[_0x2e5bbc(0x69f)](_0x4595a5,_0x4f4886);}),_0x2e9f83[_0x19eee1(0x638)]=Array[_0x19eee1(0xc6)](_0x4f3615['values']());const _0x171b01=_0x2e9f83[_0x19eee1(0x638)][_0x19eee1(0x621)](_0x52e77e=>_0x52e77e===_0x25166a(_0x1d586b));_0x2e9f83['correctAnswerIndex']=_0x171b01!==-0x1?_0x171b01:0x0;}}),_0x13a3ef;}async function saveQuiz(){const _0x402c09=_0x31a0a6;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x402c09(0x3a0)]||!userId){showMessage(_0x402c09(0x274));return;}const _0x1d64fd=document[_0x402c09(0x75f)](_0x402c09(0x272));_0x1d64fd[_0x402c09(0x108)]=!![],_0x1d64fd['innerHTML']=_0x402c09(0x25e);const _0x205db5=document[_0x402c09(0x75f)]('pre-test-checkbox')['checked'];let _0x55da43=document[_0x402c09(0x75f)](_0x402c09(0x3ac))[_0x402c09(0xef)][_0x402c09(0x74d)]();_0x205db5&&!_0x55da43[_0x402c09(0x36d)]('(ก่อนเรียน)')&&(_0x55da43=_0x402c09(0x683)+_0x55da43);try{const _0x23eea6={'resultsDisplay':document[_0x402c09(0x75f)](_0x402c09(0x6e1))['value'],'shuffle':document[_0x402c09(0x75f)](_0x402c09(0x296))[_0x402c09(0x3a5)],'timerMode':document[_0x402c09(0x75f)](_0x402c09(0x37d))['value'],'timerDuration':parseInt(document[_0x402c09(0x75f)](_0x402c09(0x119))['value'])||0xa,'passingScore':parseInt(document[_0x402c09(0x75f)](_0x402c09(0x555))['value'])||0x0,'isAdaptive':document[_0x402c09(0x75f)](_0x402c09(0x564))['checked'],'loopUntilPass':document[_0x402c09(0x75f)](_0x402c09(0x672))[_0x402c09(0x4b5)]},_0x1b20e0=(currentQuizData[_0x402c09(0x3a0)]||[])[_0x402c09(0x182)](_0x43acf9=>{const _0x3df9c3=_0x402c09,_0x17d49e=document[_0x3df9c3(0x75f)]('quiz-type-select')['value'],_0x5d1dd5={'questionText':_0x43acf9[_0x3df9c3(0x149)]||'','explanation':_0x43acf9[_0x3df9c3(0xfc)]||'ไม่มีคำอธิบาย','questionType':_0x43acf9[_0x3df9c3(0x561)]||_0x17d49e,'imageCode':_0x43acf9['imageCode']||null};return(_0x5d1dd5['questionType']==='multiple_choice'||_0x5d1dd5[_0x3df9c3(0x561)]==='fill_in_with_choices'||_0x5d1dd5['questionType']===_0x3df9c3(0x3c3)&&_0x43acf9[_0x3df9c3(0x638)])&&(_0x5d1dd5[_0x3df9c3(0x638)]=_0x43acf9[_0x3df9c3(0x638)]||[],_0x5d1dd5['correctAnswerIndex']=_0x43acf9[_0x3df9c3(0x18c)]!==undefined?_0x43acf9['correctAnswerIndex']:0x0),(_0x5d1dd5[_0x3df9c3(0x561)]===_0x3df9c3(0xa5)||_0x5d1dd5[_0x3df9c3(0x561)]===_0x3df9c3(0x290)||_0x5d1dd5[_0x3df9c3(0x561)]===_0x3df9c3(0x3c3)&&_0x43acf9[_0x3df9c3(0x590)])&&(_0x5d1dd5['idealAnswer']=_0x43acf9[_0x3df9c3(0x590)]||''),_0x5d1dd5['questionType']===_0x3df9c3(0x5cc)&&(_0x5d1dd5[_0x3df9c3(0x62b)]=_0x43acf9[_0x3df9c3(0x62b)]===!![]),_0x5d1dd5[_0x3df9c3(0x561)]===_0x3df9c3(0x6bc)&&(_0x5d1dd5[_0x3df9c3(0x31a)]=_0x43acf9['stem']||'',_0x5d1dd5['correctResponse']=_0x43acf9[_0x3df9c3(0x6ad)]||'',_0x5d1dd5[_0x3df9c3(0x113)]=_0x43acf9[_0x3df9c3(0x113)]||[]),_0x5d1dd5;}),_0x35a53d={'topic':_0x55da43,'quizType':currentQuizData[_0x402c09(0x1f6)]||'multiple_choice','questions':_0x1b20e0,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x402c09(0x1a7)](),'status':_0x402c09(0x2ea),'settings':_0x23eea6,'quizMode':_0x205db5?'pre-test':_0x402c09(0x23e),'pairedQuizId':null,'lessonPlan':null};let _0x34f4d3;while(!![]){_0x34f4d3=Math[_0x402c09(0x449)](0x3e8+Math[_0x402c09(0x7f4)]()*0x2328)[_0x402c09(0x798)]();const _0x27eea0=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x34f4d3));if(!_0x27eea0[_0x402c09(0x1a9)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x402c09(0x132),_0x34f4d3),_0x35a53d),currentQuizData['settings']=_0x23eea6,currentQuizData['id']=_0x34f4d3;const _0x177e82=document['getElementById'](_0x402c09(0x445));_0x177e82[_0x402c09(0x4ca)]=_0x402c09(0x494)+_0x34f4d3+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x402c09(0x75f)]('copy-quiz-id-btn')[_0x402c09(0x670)](_0x402c09(0xce),()=>copyTextToClipboard(_0x34f4d3,'คัดลอกรหัสแล้ว!')),document['getElementById'](_0x402c09(0x7b9))[_0x402c09(0x670)](_0x402c09(0xce),()=>handleStartLiveRace(_0x34f4d3)),document['getElementById'](_0x402c09(0x38f))[_0x402c09(0x670)](_0x402c09(0xce),()=>startPresentation(currentQuizData)),document['getElementById'](_0x402c09(0x24a))['addEventListener'](_0x402c09(0xce),startAdminTest),showMessage(_0x402c09(0x645));}catch(_0x10ffe3){console['error'](_0x402c09(0xeb),_0x10ffe3),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x1d64fd[_0x402c09(0x108)]=![],_0x1d64fd[_0x402c09(0x4ca)]=_0x402c09(0x50c);}}function promptForProjectAndSave(){const _0xbe6693=_0x31a0a6,_0x26bb2a=document[_0xbe6693(0x75f)](_0xbe6693(0x1d1)),_0x3104de=document[_0xbe6693(0x75f)](_0xbe6693(0x302)),_0x46f5e7=_0x26bb2a['querySelector']('h3'),_0x5caa7c=document[_0xbe6693(0x75f)](_0xbe6693(0x791));_0x46f5e7[_0xbe6693(0x4e9)]=_0xbe6693(0xf6),_0x5caa7c[_0xbe6693(0x4e9)]=_0xbe6693(0x801);allProjects[_0xbe6693(0x299)]===0x0?(_0x3104de[_0xbe6693(0x4ca)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x5caa7c['disabled']=!![]):(_0x3104de[_0xbe6693(0x4ca)]=allProjects[_0xbe6693(0x182)](_0x5d1ac3=>_0xbe6693(0x93)+_0x5d1ac3['id']+'\x22>'+_0x5d1ac3['projectName']+'</option>')[_0xbe6693(0x7df)](''),_0x5caa7c[_0xbe6693(0x108)]=![]);_0x26bb2a[_0xbe6693(0x4ba)][_0xbe6693(0x4c3)](_0xbe6693(0x199));const _0x14d6de=()=>{const _0x1d12bc=_0xbe6693,_0x565bcd=_0x3104de['value'];_0x565bcd?(currentProjectId=_0x565bcd,_0x26bb2a[_0x1d12bc(0x4ba)][_0x1d12bc(0x688)](_0x1d12bc(0x199)),saveQuiz(),_0x46f5e7['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5caa7c['textContent']=_0x1d12bc(0x6c0),_0x5caa7c[_0x1d12bc(0x249)](_0x1d12bc(0xce),_0x14d6de),_0x5caa7c['addEventListener'](_0x1d12bc(0xce),confirmMoveQuiz)):showMessage(_0x1d12bc(0x1dc));};_0x5caa7c[_0xbe6693(0x249)](_0xbe6693(0xce),confirmMoveQuiz),_0x5caa7c['addEventListener'](_0xbe6693(0xce),_0x14d6de);}function copyTextToClipboard(_0x8c2606,_0x2fb862){const _0x154e00=_0x31a0a6,_0x2bb2fe=document[_0x154e00(0x71c)]('textarea');_0x2bb2fe['value']=_0x8c2606,_0x2bb2fe[_0x154e00(0xc5)][_0x154e00(0x6fa)]='fixed',_0x2bb2fe['style'][_0x154e00(0x351)]='0',document[_0x154e00(0x115)][_0x154e00(0xfa)](_0x2bb2fe),_0x2bb2fe['focus'](),_0x2bb2fe['select']();try{const _0x4e0952=document[_0x154e00(0x669)]('copy');showMessage(_0x4e0952?_0x2fb862:'คัดลอกไม่สำเร็จ');}catch(_0x243e18){showMessage(_0x154e00(0x478)),console[_0x154e00(0x382)]('Copy\x20command\x20failed',_0x243e18);}document[_0x154e00(0x115)][_0x154e00(0x333)](_0x2bb2fe);}function listenForProjectQuizzes(_0x3259ab){const _0x291f0d=_0x31a0a6,_0x3444cd=collection(db,_0x291f0d(0x678)+appId+_0x291f0d(0x132)),_0x5d269d=query(_0x3444cd,where('projectId','==',_0x3259ab));unsubscribeQuizzesListener=onSnapshot(_0x5d269d,async _0x3025b4=>{const _0x2fbd51=_0x291f0d;allQuizzes=_0x3025b4[_0x2fbd51(0x67b)]['map'](_0x484ef6=>({'id':_0x484ef6['id'],..._0x484ef6[_0x2fbd51(0xa7)]()})),renderQuizzes();},_0x18e207=>{const _0x3e7e3b=_0x291f0d;console['error'](_0x3e7e3b(0x252),_0x18e207),document['getElementById']('project-quizzes-list')[_0x3e7e3b(0x4ca)]=_0x3e7e3b(0x352);});}async function renderQuizzes(){const _0x28bebc=_0x31a0a6,_0x513ab6=document[_0x28bebc(0x75f)](_0x28bebc(0x5ee)),_0x1ec993=document[_0x28bebc(0x75f)](_0x28bebc(0x34a))[_0x28bebc(0x3a5)][_0x28bebc(0x57d)]();let _0x4f51dc;currentProjectId==='starred'?_0x4f51dc=starredQuizzes:_0x4f51dc=allQuizzes;let _0x3265f5=_0x4f51dc['filter'](_0x87c976=>_0x87c976[_0x28bebc(0x151)][_0x28bebc(0x57d)]()[_0x28bebc(0x10c)](_0x1ec993));_0x3265f5[_0x28bebc(0x2ba)]((_0x232217,_0x3880fd)=>new Date(_0x3880fd[_0x28bebc(0x69a)])-new Date(_0x232217[_0x28bebc(0x69a)]));if(_0x3265f5[_0x28bebc(0x299)]===0x0){_0x513ab6[_0x28bebc(0x4ca)]=_0x28bebc(0x342);return;}const _0xe2e9c6={},_0x5a8e6c=_0x3265f5[_0x28bebc(0x182)](async _0x266ed1=>{const _0x4417fa=_0x28bebc,_0x223901=collection(db,_0x4417fa(0x678)+appId+_0x4417fa(0x7ad)+_0x266ed1['id']+_0x4417fa(0x5b6)),_0x162474=await getDocs(_0x223901);_0xe2e9c6[_0x266ed1['id']]=_0x162474['size'];});await Promise[_0x28bebc(0x7b4)](_0x5a8e6c);let _0x533ef9='';_0x3265f5[_0x28bebc(0x748)](_0x391564=>{const _0x9ec673=_0x28bebc,_0x42d68d=_0xe2e9c6[_0x391564['id']]||0x0,_0x2ecefa=_0x391564[_0x9ec673(0x6fe)]||_0x9ec673(0x2ea),_0x562a12=_0x391564[_0x9ec673(0x37f)]?.['timerMode']||_0x9ec673(0x7e9);let _0xc2b444='',_0x31bb3a='';const _0x5544f1=new Date();let _0x1d9db6=_0x2ecefa;if(_0x2ecefa===_0x9ec673(0xd6)){const _0x53580e=_0x391564[_0x9ec673(0x632)]?new Date(_0x391564[_0x9ec673(0x632)]):null,_0x59c611=_0x391564[_0x9ec673(0x275)]?new Date(_0x391564[_0x9ec673(0x275)]):null;if(_0x59c611&&_0x5544f1>_0x59c611)_0x1d9db6=_0x9ec673(0x6f2);else _0x53580e&&_0x5544f1<_0x53580e?_0x1d9db6=_0x9ec673(0x7ce):_0x1d9db6=_0x9ec673(0x2ea);}switch(_0x1d9db6){case _0x9ec673(0x6f2):_0xc2b444=_0x9ec673(0xb2),_0x31bb3a=_0x9ec673(0x55b);break;case _0x9ec673(0x7ce):_0xc2b444='รอเปิด',_0x31bb3a=_0x9ec673(0x4c4);break;case _0x9ec673(0x2ea):_0xc2b444=_0x562a12!==_0x9ec673(0x7e9)?_0x9ec673(0x2b7):_0x9ec673(0x7a0),_0x31bb3a='text-green-700\x20bg-green-100';break;default:_0xc2b444=_0x9ec673(0x809),_0x31bb3a=_0x9ec673(0x5ba);break;}let _0x258f29='';const _0x1f53e7={'day':_0x9ec673(0x309),'month':_0x9ec673(0x309),'year':'numeric','hour':_0x9ec673(0x309),'minute':_0x9ec673(0x309),'hour12':![]};if(_0x2ecefa===_0x9ec673(0xd6)){if(_0x391564[_0x9ec673(0x632)])_0x258f29+=_0x9ec673(0x207)+new Date(_0x391564[_0x9ec673(0x632)])[_0x9ec673(0x306)](_0x9ec673(0x535),_0x1f53e7)+_0x9ec673(0x56d);if(_0x391564['endTime'])_0x258f29+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x391564['endTime'])['toLocaleString'](_0x9ec673(0x535),_0x1f53e7)+'</p>';}let _0x61cb7b='';if(_0x391564['pairedQuizId']){const _0x409d61=allQuizzes['find'](_0x58ec40=>_0x58ec40['id']===_0x391564[_0x9ec673(0x129)]);if(_0x409d61){let _0x51b065,_0x38fc4b;new Date(_0x391564[_0x9ec673(0x69a)])<new Date(_0x409d61[_0x9ec673(0x69a)])?(_0x51b065=_0x391564['id'],_0x38fc4b=_0x409d61['id']):(_0x51b065=_0x409d61['id'],_0x38fc4b=_0x391564['id']),_0x61cb7b+=_0x9ec673(0x3a2)+_0x38fc4b+_0x9ec673(0x1cf)+_0x51b065+_0x9ec673(0x25a);}}else _0x391564[_0x9ec673(0x7c9)]===_0x9ec673(0x55d)&&(_0x61cb7b+=_0x9ec673(0x702)+_0x391564['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x391564['quizMode']===_0x9ec673(0x55d)&&_0x42d68d>0x0)_0x61cb7b+=_0x9ec673(0x702)+_0x391564['id']+_0x9ec673(0x47c);else!_0x391564['pairedQuizId']&&_0x391564['quizMode']!==_0x9ec673(0x55d)&&_0x42d68d>0x0&&(_0x61cb7b+=_0x9ec673(0x702)+_0x391564['id']+_0x9ec673(0x28f));let _0x52d17c='';_0x391564[_0x9ec673(0x129)]?_0x52d17c=_0x9ec673(0x4ee)+_0x391564['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x52d17c=_0x9ec673(0x4ee)+_0x391564['id']+_0x9ec673(0x516),_0x533ef9+=_0x9ec673(0x240)+_0x391564['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x391564[_0x9ec673(0x151)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x391564['questions'][_0x9ec673(0x299)]+_0x9ec673(0x66b)+new Date(_0x391564['createdAt'])[_0x9ec673(0x306)](_0x9ec673(0x535))+_0x9ec673(0x598)+_0x42d68d+_0x9ec673(0x33d)+_0x258f29+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x31bb3a+'\x22>'+_0xc2b444+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x391564['id']+_0x9ec673(0x224)+_0x391564['id']+_0x9ec673(0xbd)+(_0x391564[_0x9ec673(0x3f1)]?_0x9ec673(0x292):'far\x20fa-star')+_0x9ec673(0x18f)+_0x61cb7b+_0x9ec673(0x693)+_0x391564['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x391564['id']+_0x9ec673(0x802)+_0x391564['id']+_0x9ec673(0x3a4)+_0x391564['id']+_0x9ec673(0x9b)+_0x391564['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x391564['id']+_0x9ec673(0x39c)+_0x391564['id']+_0x9ec673(0x718)+_0x391564[_0x9ec673(0x151)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x391564['id']+_0x9ec673(0x43d)+_0x391564['id']+_0x9ec673(0x499)+_0x52d17c+_0x9ec673(0x7f5)+_0x391564['id']+_0x9ec673(0x142)+_0x391564['id']+_0x9ec673(0x111)+_0x391564['id']+_0x9ec673(0x25b)+_0x391564['id']+_0x9ec673(0x364)+_0x391564['id']+_0x9ec673(0x718)+_0x391564['topic']+_0x9ec673(0x170);}),_0x513ab6[_0x28bebc(0x4ca)]=_0x533ef9,document[_0x28bebc(0x655)](_0x28bebc(0x2f1))[_0x28bebc(0x748)](_0x2764b7=>{const _0x4c6af1=_0x28bebc;_0x2764b7[_0x4c6af1(0x670)](_0x4c6af1(0xce),()=>{const _0x2cd61c=_0x4c6af1,_0x102163=_0x2764b7['dataset'][_0x2cd61c(0x13d)];showQuizDetailView(_0x102163);});});}async function handleUnpairQuiz(_0x4e4274){const _0x3e4bb4=_0x31a0a6,_0x5dbac6=allQuizzes[_0x3e4bb4(0x1fc)](_0x3c5c0d=>_0x3c5c0d['id']===_0x4e4274);if(!_0x5dbac6||!_0x5dbac6[_0x3e4bb4(0x129)]){showMessage(_0x3e4bb4(0x7fd));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x253ca3=_0x3e4bb4;try{const _0x2b8ad7=doc(db,_0x253ca3(0x678)+appId+_0x253ca3(0x132),_0x4e4274),_0x5a1680=doc(db,_0x253ca3(0x678)+appId+'/public/data/quizzes',_0x5dbac6[_0x253ca3(0x129)]),_0x59ef9d=writeBatch(db);_0x59ef9d[_0x253ca3(0x452)](_0x2b8ad7,{'pairedQuizId':null}),_0x59ef9d[_0x253ca3(0x452)](_0x5a1680,{'pairedQuizId':null}),await _0x59ef9d[_0x253ca3(0x218)](),showMessage(_0x253ca3(0x1b4));}catch(_0x6adf20){console[_0x253ca3(0x382)](_0x253ca3(0x493),_0x6adf20),showMessage(_0x253ca3(0x44b));}});}function formatAndPrintLessonPlan(_0xc1dd67,_0x263982){const _0xf55509=_0x31a0a6,_0x3f494b=window[_0xf55509(0x340)]('',_0xf55509(0x4a1)),_0x2f6778=_0xf55509(0x79e)+_0x263982[_0xf55509(0x151)]+_0xf55509(0x546)+_0x263982['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc1dd67[_0xf55509(0x578)]['map'](_0x5ac6c0=>'<li>'+_0x5ac6c0+'</li>')['join']('')+_0xf55509(0x424)+_0xc1dd67[_0xf55509(0x4b8)]+_0xf55509(0x7c0)+_0xc1dd67['practiceProblems'][_0xf55509(0x182)](_0x57e809=>_0xf55509(0x1d2)+_0x57e809[_0xf55509(0x44e)]+_0xf55509(0x27d)+_0x57e809[_0xf55509(0x426)]+_0xf55509(0x40a))[_0xf55509(0x7df)]('')+_0xf55509(0x4a4);_0x3f494b[_0xf55509(0x38d)][_0xf55509(0x26e)](_0x2f6778),_0x3f494b[_0xf55509(0x38d)][_0xf55509(0x3be)](),_0x3f494b[_0xf55509(0x203)]=function(){setTimeout(()=>{const _0x316a52=_0x2770;_0x3f494b[_0x316a52(0x258)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x5dff0d){const _0x1b0f5a=_0x31a0a6;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x1babb4=doc(db,_0x1b0f5a(0x678)+appId+_0x1b0f5a(0x132),_0x5dff0d),_0x117c05=await getDoc(_0x1babb4);if(!_0x117c05[_0x1b0f5a(0x1a9)]())throw new Error(_0x1b0f5a(0x5a7));const _0x18c621={'id':_0x5dff0d,..._0x117c05[_0x1b0f5a(0xa7)]()},_0x4129ac=collection(db,_0x1b0f5a(0x678)+appId+_0x1b0f5a(0x132),_0x5dff0d,_0x1b0f5a(0x10f)),_0x5406c8=await getDocs(_0x4129ac),_0x3e760c=_0x5406c8[_0x1b0f5a(0x67b)]['map'](_0x1c64e7=>_0x1c64e7[_0x1b0f5a(0xa7)]());if(_0x3e760c[_0x1b0f5a(0x299)]===0x0)throw new Error(_0x1b0f5a(0x76b));const _0xe5337a=calculateItemAnalysis(_0x18c621,_0x3e760c)[_0x1b0f5a(0x208)],_0x4c87e9=calculateDistractorAnalysis(_0x18c621,_0x3e760c),_0x7a2036=_0x1b1b96=>{const _0x3b85f6=_0x1b0f5a;if(!_0x1b1b96)return'';return _0x1b1b96[_0x3b85f6(0x6c1)](/\\/g,'\x5c\x5c')[_0x3b85f6(0x6c1)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x2ccada=_0x1b0f5a(0x9d);_0x18c621[_0x1b0f5a(0x3a0)][_0x1b0f5a(0x748)]((_0x58f1fa,_0x5a443d)=>{const _0x125cb6=_0x1b0f5a,_0x4265ea=_0xe5337a[_0x5a443d]?.['p'][_0x125cb6(0x4b6)](0x2)||_0x125cb6(0x183),_0x5250dc=_0xe5337a[_0x5a443d]?.['r']['toFixed'](0x2)||_0x125cb6(0x183),_0x5a43cd=_0x7a2036(_0x58f1fa['questionText']||_0x58f1fa[_0x125cb6(0x31a)]);_0x2ccada+=_0x125cb6(0x25d)+(_0x5a443d+0x1)+'\x20(p='+_0x4265ea+_0x125cb6(0x104)+_0x5250dc+'):\x20'+_0x5a43cd+'\x5cn';if(_0x58f1fa[_0x125cb6(0x561)]===_0x125cb6(0xff)&&_0x4c87e9[_0x5a443d]){const _0xe8e950=_0x4c87e9[_0x5a443d],_0x5a23fd=Object[_0x125cb6(0x5f6)](_0xe8e950)[_0x125cb6(0x5e5)](_0x3edfca=>parseInt(_0x3edfca)!==_0x58f1fa['correctAnswerIndex'])[_0x125cb6(0x2ba)]((_0x5561ee,_0x2e64bb)=>_0xe8e950[_0x2e64bb][_0x125cb6(0x647)]-_0xe8e950[_0x5561ee][_0x125cb6(0x647)])[0x0];if(_0x5a23fd&&_0xe8e950[_0x5a23fd][_0x125cb6(0x647)]>0x0){const _0x1f9bf3=_0x7a2036(_0xe8e950[_0x5a23fd]['text']);_0x2ccada+=_0x125cb6(0x730)+_0x1f9bf3+'\x22\x5cn';}}});const _0x5f1c2e=_0x1b0f5a(0x6c6)+_0x18c621[_0x1b0f5a(0x151)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ccada+_0x1b0f5a(0x1f1),_0x234b1c={'type':_0x1b0f5a(0x14f),'properties':{'learningGaps':{'type':_0x1b0f5a(0x262),'items':{'type':_0x1b0f5a(0x131)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x1b0f5a(0x262),'items':{'type':_0x1b0f5a(0x14f),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x1b0f5a(0x131)}}}}},'required':[_0x1b0f5a(0x578),_0x1b0f5a(0x4b8),'practiceProblems']},_0x21010b=await callAnalysisApi(_0x5f1c2e,_0x234b1c);await updateDoc(_0x1babb4,{'lessonPlan':_0x21010b});const _0x3d6848=_0x1b0f5a(0x612)+_0x18c621[_0x1b0f5a(0x151)]+_0x1b0f5a(0x106)+_0x21010b[_0x1b0f5a(0x578)][_0x1b0f5a(0x182)](_0x2dbab5=>_0x1b0f5a(0x70f)+_0x2dbab5+_0x1b0f5a(0x5dd))[_0x1b0f5a(0x7df)]('')+_0x1b0f5a(0x133)+_0x21010b['teachingContent']+_0x1b0f5a(0x52e)+_0x21010b[_0x1b0f5a(0x4c5)][_0x1b0f5a(0x182)](_0x4dcaa2=>_0x1b0f5a(0x23b)+_0x4dcaa2[_0x1b0f5a(0x44e)]+_0x1b0f5a(0x779)+_0x4dcaa2[_0x1b0f5a(0x426)]+_0x1b0f5a(0x593))[_0x1b0f5a(0x7df)]('')+_0x1b0f5a(0x355);document['getElementById'](_0x1b0f5a(0x46e))[_0x1b0f5a(0x4e9)]=_0x1b0f5a(0x508)+_0x18c621[_0x1b0f5a(0x151)],document[_0x1b0f5a(0x75f)](_0x1b0f5a(0x180))[_0x1b0f5a(0x4ca)]=_0x3d6848,document[_0x1b0f5a(0x75f)]('lesson-plan-modal')[_0x1b0f5a(0x4ba)][_0x1b0f5a(0x4c3)](_0x1b0f5a(0x199));if(window[_0x1b0f5a(0x428)])MathJax[_0x1b0f5a(0x3d6)]();messageModal[_0x1b0f5a(0x4ba)][_0x1b0f5a(0x688)]('hidden');}catch(_0x4cdaf4){console['error'](_0x1b0f5a(0x539),_0x4cdaf4),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4cdaf4[_0x1b0f5a(0x5d6)]);}}async function handleDuplicateQuiz(_0x66af97){const _0x56ec7c=_0x31a0a6;try{const _0x7e429=doc(db,_0x56ec7c(0x678)+appId+_0x56ec7c(0x132),_0x66af97),_0x3e2987=await getDoc(_0x7e429);if(_0x3e2987[_0x56ec7c(0x1a9)]()){const _0x365385=_0x3e2987[_0x56ec7c(0xa7)]();let _0x26af1c='',_0x22b84a='standard',_0x1470c3=null;if(_0x365385[_0x56ec7c(0x7c9)]===_0x56ec7c(0x55d)){let _0x3bd268=_0x365385[_0x56ec7c(0x151)][_0x56ec7c(0x6c1)]('(ก่อนเรียน)','')['trim']();_0x26af1c=_0x56ec7c(0x76e)+_0x3bd268,_0x22b84a=_0x56ec7c(0x808),_0x1470c3=_0x66af97;}else _0x26af1c=_0x56ec7c(0x4ab)+_0x365385['topic'];const _0x1801f7={..._0x365385,'topic':_0x26af1c,'createdAt':new Date()[_0x56ec7c(0x1a7)](),'quizMode':_0x22b84a,'pairedQuizId':_0x1470c3};let _0x2ea735;while(!![]){_0x2ea735=Math[_0x56ec7c(0x449)](0x3e8+Math['random']()*0x2328)[_0x56ec7c(0x798)]();const _0x2a8720=await getDoc(doc(db,_0x56ec7c(0x678)+appId+_0x56ec7c(0x132),_0x2ea735));if(!_0x2a8720[_0x56ec7c(0x1a9)]())break;}const _0x3ca52a=doc(db,'artifacts/'+appId+_0x56ec7c(0x132),_0x2ea735);await setDoc(_0x3ca52a,_0x1801f7),_0x1801f7[_0x56ec7c(0x7c9)]===_0x56ec7c(0x808)&&await updateDoc(_0x7e429,{'pairedQuizId':_0x2ea735}),showMessage(_0x56ec7c(0x69c));}else throw new Error(_0x56ec7c(0x214));}catch(_0x2ba845){console[_0x56ec7c(0x382)](_0x56ec7c(0x6f3),_0x2ba845),showMessage(_0x56ec7c(0x3f7));}}async function handleDeleteQuiz(_0x1e5394,_0x12b0bf=!![]){const _0x585977=_0x31a0a6;try{const _0x496583=writeBatch(db),_0x12bc16=collection(db,_0x585977(0x678)+appId+'/public/data/quizzes/'+_0x1e5394+_0x585977(0x5b6)),_0x424883=await getDocs(_0x12bc16);_0x424883[_0x585977(0x748)](_0x11bba0=>{const _0x3abcf3=_0x585977;_0x496583[_0x3abcf3(0x7a2)](doc(_0x12bc16,_0x11bba0['id']));});const _0x3e1735=doc(db,_0x585977(0x678)+appId+_0x585977(0x132),_0x1e5394);_0x496583[_0x585977(0x7a2)](_0x3e1735),await _0x496583[_0x585977(0x218)](),_0x12b0bf&&showMessage(_0x585977(0x219));}catch(_0x3b421e){console[_0x585977(0x382)](_0x585977(0x570),_0x3b421e),_0x12b0bf&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}function _0x2770(_0x410c76,_0x2322c4){const _0x4a9d2d=_0x4a9d();return _0x2770=function(_0x2770fe,_0xa3b104){_0x2770fe=_0x2770fe-0x8d;let _0x1b1e34=_0x4a9d2d[_0x2770fe];return _0x1b1e34;},_0x2770(_0x410c76,_0x2322c4);}async function showQuizDetailView(_0x26166a){const _0x4dcad9=_0x31a0a6;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x216c3f=doc(db,_0x4dcad9(0x678)+appId+_0x4dcad9(0x132),_0x26166a),_0x5340c9=await getDoc(_0x216c3f);if(!_0x5340c9['exists']()){showMessage(_0x4dcad9(0x5a7));return;}const _0x1830f5={'id':_0x5340c9['id'],..._0x5340c9['data']()};currentQuizData=_0x1830f5;const _0x25d441=doc(db,_0x4dcad9(0x678)+appId+_0x4dcad9(0x3c6),_0x1830f5['projectId']),_0x49d616=await getDoc(_0x25d441);_0x49d616[_0x4dcad9(0x1a9)]()?(currentProjectData=_0x49d616[_0x4dcad9(0xa7)](),currentProjectId=_0x1830f5['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x1830f5[_0x4dcad9(0x628)]);document[_0x4dcad9(0x75f)](_0x4dcad9(0x705))[_0x4dcad9(0x4e9)]=_0x1830f5[_0x4dcad9(0x151)],document[_0x4dcad9(0x75f)](_0x4dcad9(0x27b))[_0x4dcad9(0x4e9)]=_0x26166a;const _0x5bd648=collection(db,_0x4dcad9(0x678)+appId+'/public/data/quizzes',_0x26166a,_0x4dcad9(0x10f));unsubscribeSubmissionsListener=onSnapshot(_0x5bd648,_0x510978=>{const _0x154841=_0x4dcad9,_0xb52b8e=_0x510978[_0x154841(0x67b)][_0x154841(0x182)](_0x4a1339=>({'id':_0x4a1339['id'],..._0x4a1339['data']()}));currentSubmissions=_0xb52b8e,renderBehaviorLog(_0xb52b8e),renderAnswerGrid(currentProjectData['students'],_0xb52b8e,_0x1830f5),renderAnalytics(_0x1830f5,_0xb52b8e),renderQuizResultsTable(currentProjectData[_0x154841(0x469)],_0xb52b8e,_0x1830f5),renderQuizLeaderboard(_0xb52b8e,_0x1830f5,_0x154841(0x314));}),showView(_0x4dcad9(0x49c));}catch(_0x407d9b){console[_0x4dcad9(0x382)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x407d9b),showMessage(_0x4dcad9(0x447));}}function renderAnswerGrid(_0x4cbfac,_0x6e80f7,_0x583b30){const _0xc4948f=_0x31a0a6,_0x14dc65=document[_0xc4948f(0x75f)](_0xc4948f(0x13c));if(!_0x14dc65)return;if(!_0x4cbfac||_0x4cbfac['length']===0x0){_0x14dc65[_0xc4948f(0x4ca)]=_0xc4948f(0x40b);return;}const _0x13131d=_0x583b30[_0xc4948f(0x3a0)],_0xe699f3=_0x6e80f7[_0xc4948f(0x4eb)]((_0x4c80aa,_0x34418b)=>{const _0x3cb4e3=_0xc4948f;return _0x4c80aa[_0x34418b[_0x3cb4e3(0x1c3)]]=_0x34418b,_0x4c80aa;},{}),_0x286d72=_0x12e95d=>String[_0xc4948f(0x78e)](0x41+_0x12e95d),_0x38320e=_0x2bc4ec=>{const _0x2c101c=_0xc4948f,_0x1e883f=_0x2bc4ec['questionType']||_0x583b30[_0x2c101c(0x1f6)];switch(_0x1e883f){case _0x2c101c(0xff):return _0x2bc4ec[_0x2c101c(0x638)]&&_0x2bc4ec[_0x2c101c(0x638)][_0x2c101c(0x299)]>_0x2bc4ec[_0x2c101c(0x18c)]?_0x286d72(_0x2bc4ec[_0x2c101c(0x18c)]):'-';case _0x2c101c(0x5cc):return _0x2bc4ec[_0x2c101c(0x62b)]?'ใช่':'ไม่ใช่';case _0x2c101c(0x6bc):return _0x2bc4ec[_0x2c101c(0x6ad)]||'-';case _0x2c101c(0xa5):return'พิมพ์ตอบ';default:return'-';}},_0x6609bf=(_0x53efbe,_0x5b3aa9)=>{const _0x57b26f=_0xc4948f;if(_0x5b3aa9[_0x57b26f(0x61d)]===null||_0x5b3aa9[_0x57b26f(0x61d)]===undefined)return'-';const _0x1e4b95=_0x53efbe[_0x57b26f(0x561)]||_0x583b30['quizType'];switch(_0x1e4b95){case _0x57b26f(0xff):const _0x1deee7=_0x53efbe[_0x57b26f(0x638)][_0x57b26f(0x621)](_0x42af82=>_0x42af82===_0x5b3aa9[_0x57b26f(0x3ca)]);return _0x1deee7!==-0x1?_0x286d72(_0x1deee7):_0x5b3aa9['answerText']||'-';case _0x57b26f(0x5cc):return _0x5b3aa9['answer']==='true'||_0x5b3aa9[_0x57b26f(0x61d)]===!![]?_0x57b26f(0x37b):_0x57b26f(0x2c7);default:return _0x5b3aa9[_0x57b26f(0x61d)];}};let _0x4e7285=_0xc4948f(0x589)+_0x13131d[_0xc4948f(0x182)]((_0x4c5c8d,_0x5bc7d8)=>_0xc4948f(0x43c)+(_0x5bc7d8+0x1)+'</th>')[_0xc4948f(0x7df)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13131d[_0xc4948f(0x182)](_0x3f2221=>_0xc4948f(0x1c9)+_0x38320e(_0x3f2221)+'</td>')[_0xc4948f(0x7df)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x4cbfac[_0xc4948f(0x748)](_0x63998d=>{const _0x11d270=_0xc4948f;_0x4e7285+='<tr>',_0x4e7285+=_0x11d270(0x59e)+_0x63998d+_0x11d270(0x242);const _0x10733e=_0xe699f3[_0x63998d];if(_0x10733e){const _0x21804d=_0x10733e[_0x11d270(0x489)][_0x10733e[_0x11d270(0x489)][_0x11d270(0x299)]-0x1];_0x13131d[_0x11d270(0x748)]((_0x33c080,_0x43d6e2)=>{const _0x5dbc85=_0x11d270,_0x2243cd=_0x21804d[_0x5dbc85(0x737)][_0x5dbc85(0x1fc)](_0x292e0f=>_0x292e0f[_0x5dbc85(0x482)]===(_0x33c080[_0x5dbc85(0x31a)]||_0x33c080[_0x5dbc85(0x149)]));if(_0x2243cd){let _0x7d6e39=![];const _0x4d2b3a=_0x33c080[_0x5dbc85(0x561)]||_0x583b30[_0x5dbc85(0x1f6)];if(_0x2243cd[_0x5dbc85(0x61d)]!==null&&_0x2243cd[_0x5dbc85(0x61d)]!==undefined)switch(_0x4d2b3a){case'multiple_choice':const _0x1b15ea=_0x33c080[_0x5dbc85(0x638)][_0x33c080[_0x5dbc85(0x18c)]];_0x7d6e39=_0x2243cd[_0x5dbc85(0x3ca)]===_0x1b15ea;break;case _0x5dbc85(0x5cc):const _0x71d177=_0x2243cd[_0x5dbc85(0x61d)]===!![]||_0x2243cd[_0x5dbc85(0x61d)]==='true';_0x7d6e39=_0x71d177===_0x33c080[_0x5dbc85(0x62b)];break;case _0x5dbc85(0x6bc):_0x7d6e39=_0x2243cd['answer']===_0x33c080[_0x5dbc85(0x6ad)];break;default:_0x7d6e39=_0x2243cd['isCorrect'];break;}const _0x1571cf=_0x7d6e39?_0x5dbc85(0x3fe):_0x5dbc85(0x4ed);_0x4e7285+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x1571cf+'\x22>'+_0x6609bf(_0x33c080,_0x2243cd)+_0x5dbc85(0x242);}else _0x4e7285+=_0x5dbc85(0x67f);});}else _0x4e7285+=_0x13131d['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x11d270(0x7df)]('');_0x4e7285+='</tr>';}),_0x4e7285+=_0xc4948f(0x2ad),_0x14dc65[_0xc4948f(0x4ca)]=_0x4e7285;}function renderQuizResultsTable(_0x2dabaa,_0x174ff1,_0x4374ac){const _0x4d7439=_0x31a0a6,_0x45244d=_0x174ff1[_0x4d7439(0x4eb)]((_0x13bc6b,_0x35a171)=>{const _0x5b5af0=_0x4d7439;return _0x13bc6b[_0x35a171[_0x5b5af0(0x1c3)]]=_0x35a171,_0x13bc6b;},{}),_0x12419d=document['querySelector'](_0x4d7439(0x55f));_0x12419d&&!_0x12419d['innerHTML']['includes'](_0x4d7439(0x682))&&(_0x12419d[_0x4d7439(0x4ca)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x1c72fd=document[_0x4d7439(0x75f)](_0x4d7439(0x1a6));if(!_0x2dabaa||_0x2dabaa[_0x4d7439(0x299)]===0x0){_0x1c72fd['innerHTML']=_0x4d7439(0x754);return;}const _0x61b405=_0x4374ac[_0x4d7439(0x175)]===!![],_0x2f76d8=_0x4374ac[_0x4d7439(0x37f)]?.[_0x4d7439(0x4f0)]??-0x1;let _0x38680c='';_0x2dabaa[_0x4d7439(0x748)](_0x327796=>{const _0x267b6a=_0x4d7439,_0x552b5f=_0x45244d[_0x327796];let _0x7b3050='<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>',_0x4b0b8d='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x61b405?_0x267b6a(0x25f):_0x267b6a(0x577))+'\x22>'+(_0x61b405?_0x267b6a(0x32f):'สอบปกติ')+_0x267b6a(0x4cc);if(_0x552b5f){let _0x265ac5=_0x61b405?_0x552b5f['bestScore']===_0x552b5f[_0x267b6a(0x3e2)]:_0x2f76d8!==-0x1&&_0x552b5f['bestScore']>=_0x2f76d8;if(_0x61b405||_0x2f76d8!==-0x1){const _0x25dc2c=_0x265ac5?_0x267b6a(0x661):_0x267b6a(0x2ae),_0x19aba7=_0x265ac5?_0x267b6a(0x75b):'ไม่ผ่าน';_0x7b3050='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x25dc2c+'\x22>'+_0x19aba7+'</span></td>';}const _0x5c1d2b=_0x267b6a(0x4a3)+(_0x552b5f[_0x267b6a(0x489)]?.[_0x267b6a(0x299)]||0x1)+_0x267b6a(0xee);_0x38680c+=_0x267b6a(0x506)+_0x327796+_0x267b6a(0x40d)+_0x552b5f[_0x267b6a(0x5dc)]+_0x267b6a(0xe0)+_0x552b5f['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7b3050+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b0b8d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x552b5f[_0x267b6a(0xd5)]+_0x267b6a(0xe0)+_0x552b5f[_0x267b6a(0x3e2)]+'</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x552b5f[_0x267b6a(0x7dd)]+'\x20/\x20'+_0x552b5f['totalQuestions']+_0x267b6a(0x3ba)+(_0x552b5f[_0x267b6a(0x4c6)]||0x0)+_0x267b6a(0x1d6)+_0x5c1d2b+_0x267b6a(0x37e)+new Date(_0x552b5f['latestSubmittedAt'])[_0x267b6a(0x306)]('th-TH')+_0x267b6a(0x35a)+_0x327796+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x4cc979=_0x267b6a(0x4a7);_0x38680c+=_0x267b6a(0x506)+_0x327796+_0x267b6a(0x35b)+_0x4b0b8d+_0x267b6a(0x300)+_0x4cc979+_0x267b6a(0x529);}}),_0x1c72fd[_0x4d7439(0x4ca)]=_0x38680c;}async function confirmRenameQuiz(){const _0x4fb55c=_0x31a0a6,_0x5dfb8a=document['getElementById'](_0x4fb55c(0x71e))['value'][_0x4fb55c(0x74d)]();if(!_0x5dfb8a){showMessage(_0x4fb55c(0x41f));return;}if(!actionTargetId)return;const _0x2f7961=doc(db,_0x4fb55c(0x678)+appId+_0x4fb55c(0x132),actionTargetId);try{await updateDoc(_0x2f7961,{'topic':_0x5dfb8a}),showMessage(_0x4fb55c(0x228)),renameQuizModal[_0x4fb55c(0x4ba)]['add']('hidden'),actionTargetId=null;}catch(_0x33473e){console[_0x4fb55c(0x382)](_0x4fb55c(0x419),_0x33473e),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x1099db){const _0x222de8=_0x31a0a6;actionTargetId=_0x1099db;const _0x32f45d=document['getElementById']('move-quiz-project-select');_0x32f45d['innerHTML']=_0x222de8(0x123),moveQuizModal[_0x222de8(0x4ba)][_0x222de8(0x4c3)]('hidden');try{const _0x45a8b7=collection(db,_0x222de8(0x678)+appId+_0x222de8(0x3c6)),_0xf3093b=await getDocs(_0x45a8b7),_0x3a8dd0=_0xf3093b[_0x222de8(0x67b)][_0x222de8(0x182)](_0x34344e=>({'id':_0x34344e['id'],..._0x34344e[_0x222de8(0xa7)]()})),_0x2a2425=_0x3a8dd0['filter'](_0x2e34cb=>_0x2e34cb['id']!==currentProjectId);if(_0x2a2425['length']===0x0){_0x32f45d['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x222de8(0x75f)]('confirm-move-quiz-btn')[_0x222de8(0x108)]=!![];return;}_0x32f45d[_0x222de8(0x4ca)]=_0x2a2425[_0x222de8(0x182)](_0x2e2332=>_0x222de8(0x93)+_0x2e2332['id']+'\x22>'+_0x2e2332['projectName']+_0x222de8(0x6ed))[_0x222de8(0x7df)](''),document[_0x222de8(0x75f)]('confirm-move-quiz-btn')['disabled']=![];}catch(_0x602ab7){console[_0x222de8(0x382)]('Error\x20fetching\x20projects\x20for\x20move:',_0x602ab7),showMessage(_0x222de8(0x7e0)),moveQuizModal[_0x222de8(0x4ba)][_0x222de8(0x688)]('hidden');}}async function confirmMoveQuiz(){const _0x20187c=_0x31a0a6,_0x4c27ec=document[_0x20187c(0x75f)](_0x20187c(0x302))['value'];if(!_0x4c27ec){showMessage(_0x20187c(0x5bd));return;}if(!actionTargetId)return;const _0xb8ce3d=doc(db,_0x20187c(0x678)+appId+_0x20187c(0x132),actionTargetId);try{await updateDoc(_0xb8ce3d,{'projectId':_0x4c27ec}),showMessage(_0x20187c(0x137)),moveQuizModal[_0x20187c(0x4ba)][_0x20187c(0x688)](_0x20187c(0x199)),actionTargetId=null;}catch(_0x18d2d3){console[_0x20187c(0x382)](_0x20187c(0x321),_0x18d2d3),showMessage(_0x20187c(0x230));}}async function handleQuizSettings(_0x330aa8){const _0x335aaf=_0x31a0a6;actionTargetId=_0x330aa8;const _0x273543=doc(db,_0x335aaf(0x678)+appId+_0x335aaf(0x132),_0x330aa8);try{const _0x43e57e=await getDoc(_0x273543);if(_0x43e57e[_0x335aaf(0x1a9)]()){const _0x3d667a=_0x43e57e[_0x335aaf(0xa7)](),_0x2fb6ed=_0x3d667a[_0x335aaf(0x37f)]||{},_0x16e1f3=_0x3d667a[_0x335aaf(0x3a0)][_0x335aaf(0x299)];document[_0x335aaf(0x75f)]('modal-shuffle-select')['value']=_0x2fb6ed['shuffle']||_0x335aaf(0x7e9),document[_0x335aaf(0x75f)](_0x335aaf(0x5a3))[_0x335aaf(0x3a5)]=_0x2fb6ed[_0x335aaf(0x148)]||'show_results_and_answers',document[_0x335aaf(0x75f)]('modal-timer-mode-select')[_0x335aaf(0x3a5)]=_0x2fb6ed['timerMode']||_0x335aaf(0x7e9),document[_0x335aaf(0x75f)](_0x335aaf(0x363))[_0x335aaf(0x3a5)]=_0x2fb6ed[_0x335aaf(0x7b6)]||0xa,document[_0x335aaf(0x75f)](_0x335aaf(0xe4))[_0x335aaf(0x3a5)]=_0x2fb6ed[_0x335aaf(0x4f0)]||Math[_0x335aaf(0x449)](_0x16e1f3/0x2),document['getElementById'](_0x335aaf(0xe4))[_0x335aaf(0x69e)]=_0x16e1f3,document['getElementById'](_0x335aaf(0x197))[_0x335aaf(0x4b5)]=_0x2fb6ed[_0x335aaf(0x1be)]||![],document[_0x335aaf(0x75f)]('modal-loop-until-pass-checkbox')[_0x335aaf(0x4b5)]=_0x2fb6ed['loopUntilPass']||![],document[_0x335aaf(0x75f)](_0x335aaf(0x5f7))[_0x335aaf(0x289)](new Event(_0x335aaf(0x1ec))),quizSettingsModal[_0x335aaf(0x4ba)][_0x335aaf(0x4c3)](_0x335aaf(0x199));}else showMessage(_0x335aaf(0x5a7));}catch(_0x496d9a){console['error'](_0x335aaf(0x788),_0x496d9a),showMessage(_0x335aaf(0x583));}}async function confirmQuizSettings(){const _0x59071a=_0x31a0a6;if(!actionTargetId)return;const _0x1f7a54=doc(db,_0x59071a(0x678)+appId+'/public/data/quizzes',actionTargetId),_0x133563={'shuffle':document[_0x59071a(0x75f)](_0x59071a(0x42f))[_0x59071a(0x3a5)],'resultsDisplay':document[_0x59071a(0x75f)]('modal-results-display-select')[_0x59071a(0x3a5)],'timerMode':document[_0x59071a(0x75f)](_0x59071a(0x5f7))['value'],'timerDuration':parseInt(document['getElementById']('modal-timer-duration-input')[_0x59071a(0x3a5)])||0xa,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x59071a(0x3a5)])||0x0,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')[_0x59071a(0x3a5)])||0x0,'isAdaptive':document[_0x59071a(0x75f)]('modal-adaptive-quiz-checkbox')[_0x59071a(0x4b5)],'loopUntilPass':document[_0x59071a(0x75f)](_0x59071a(0x5f4))[_0x59071a(0x4b5)]};try{await updateDoc(_0x1f7a54,{'settings':_0x133563}),showMessage(_0x59071a(0x215)),quizSettingsModal[_0x59071a(0x4ba)][_0x59071a(0x688)](_0x59071a(0x199)),actionTargetId=null;}catch(_0x9c958b){console[_0x59071a(0x382)](_0x59071a(0x353),_0x9c958b),showMessage(_0x59071a(0x6ef));}}async function handleQuizStatus(_0x1dd6aa){const _0x52147d=_0x31a0a6;actionTargetId=_0x1dd6aa;const _0x1ee936=doc(db,_0x52147d(0x678)+appId+_0x52147d(0x132),_0x1dd6aa);try{const _0x363e66=await getDoc(_0x1ee936);if(_0x363e66['exists']()){const _0xcb5334=_0x363e66[_0x52147d(0xa7)](),_0x33e23d=_0xcb5334[_0x52147d(0x6fe)]||_0x52147d(0x2ea),_0x1be9a7=document[_0x52147d(0x75f)](_0x52147d(0x740)),_0x312f1c=document[_0x52147d(0x75f)](_0x52147d(0x3a3)),_0x575bf0=document[_0x52147d(0x75f)](_0x52147d(0x56c));let _0x1919eb=_0x52147d(0x267)+(_0x33e23d===_0x52147d(0x2ea)?_0x52147d(0x4b5):'')+_0x52147d(0x551)+(_0x33e23d===_0x52147d(0x6f2)?_0x52147d(0x4b5):'')+_0x52147d(0xca)+(_0x33e23d==='scheduled'?_0x52147d(0x4b5):'')+_0x52147d(0x5a0);_0x1be9a7[_0x52147d(0x4ca)]=_0x1919eb;const _0x462262=_0x33e23d===_0x52147d(0xd6);_0x312f1c['classList'][_0x52147d(0x565)](_0x52147d(0x199),!_0x462262),_0x575bf0[_0x52147d(0x4ba)][_0x52147d(0x565)](_0x52147d(0x199),!_0x462262),document[_0x52147d(0x75f)](_0x52147d(0x488))['value']=_0xcb5334['startTime']?_0xcb5334['startTime'][_0x52147d(0x4e6)](0x0,0x10):'',document[_0x52147d(0x75f)](_0x52147d(0x639))[_0x52147d(0x3a5)]=_0xcb5334[_0x52147d(0x275)]?_0xcb5334[_0x52147d(0x275)][_0x52147d(0x4e6)](0x0,0x10):'',_0x1be9a7['querySelectorAll']('input[name=\x22status-option\x22]')[_0x52147d(0x748)](_0x270f93=>{const _0x128b59=_0x52147d;_0x270f93['addEventListener'](_0x128b59(0x1ec),_0x2ac53d=>{const _0xa0107f=_0x128b59,_0x5d3394=_0x2ac53d[_0xa0107f(0x4a8)][_0xa0107f(0x3a5)]===_0xa0107f(0x181);_0x312f1c[_0xa0107f(0x4ba)][_0xa0107f(0x565)](_0xa0107f(0x199),!_0x5d3394),_0x575bf0[_0xa0107f(0x4ba)]['toggle']('hidden',!_0x5d3394);});}),quizStatusModal[_0x52147d(0x4ba)][_0x52147d(0x4c3)](_0x52147d(0x199));}}catch(_0x11b6d8){console[_0x52147d(0x382)](_0x52147d(0x653),_0x11b6d8),showMessage(_0x52147d(0x543));}}async function confirmQuizStatus(){const _0x2c5888=_0x31a0a6;if(!actionTargetId)return;const _0x34d905=doc(db,_0x2c5888(0x678)+appId+_0x2c5888(0x132),actionTargetId),_0x521675=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x521675){showMessage(_0x2c5888(0x584));return;}const _0x8d553b=_0x521675[_0x2c5888(0x3a5)];let _0x16ec5d={};if(_0x8d553b===_0x2c5888(0x2ea)||_0x8d553b===_0x2c5888(0x6f2))_0x16ec5d={'status':_0x8d553b,'startTime':null,'endTime':null};else{if(_0x8d553b===_0x2c5888(0x181)){const _0x4d4377=document[_0x2c5888(0x75f)](_0x2c5888(0x488))[_0x2c5888(0x3a5)],_0x1e7037=document['getElementById'](_0x2c5888(0x639))[_0x2c5888(0x3a5)];if(!_0x4d4377&&!_0x1e7037){showMessage(_0x2c5888(0x15f));return;}_0x16ec5d={'status':_0x2c5888(0xd6),'startTime':_0x4d4377?new Date(_0x4d4377)[_0x2c5888(0x1a7)]():null,'endTime':_0x1e7037?new Date(_0x1e7037)[_0x2c5888(0x1a7)]():null};}}try{await updateDoc(_0x34d905,_0x16ec5d),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x2c5888(0x4ba)][_0x2c5888(0x688)](_0x2c5888(0x199)),actionTargetId=null;}catch(_0x48569a){console[_0x2c5888(0x382)](_0x2c5888(0x1e8),_0x48569a),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x12d1ed){const _0x2554e8=_0x31a0a6,_0x411ef4=collection(db,_0x2554e8(0x678)+appId+'/public/data/projects/'+_0x12d1ed+_0x2554e8(0x660));unsubscribeStudentProfilesListener=onSnapshot(_0x411ef4,_0x424a91=>{const _0x245e4f=_0x2554e8,_0x26a685=_0x424a91['docs'][_0x245e4f(0x182)](_0x43b1d5=>_0x43b1d5[_0x245e4f(0xa7)]());renderLeaderboard(_0x26a685,_0x245e4f(0x62f));},_0x3c1c97=>{const _0x486a70=_0x2554e8;console[_0x486a70(0x382)]('Error\x20listening\x20for\x20student\x20profiles:',_0x3c1c97),document[_0x486a70(0x75f)]('leaderboard-table-body')[_0x486a70(0x4ca)]=_0x486a70(0x233);});}function renderLeaderboard(_0x67e292,_0x3a1928){const _0xe1bdbd=_0x31a0a6,_0xae044f=document[_0xe1bdbd(0x75f)](_0x3a1928);if(!_0x67e292||_0x67e292['length']===0x0){_0xae044f[_0xe1bdbd(0x4ca)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x67e292['sort']((_0x244175,_0x3d72a4)=>{const _0x4b85b6=_0xe1bdbd,_0x4e3d1f=(_0x3d72a4[_0x4b85b6(0x223)]||0x0)-(_0x244175[_0x4b85b6(0x223)]||0x0);if(_0x4e3d1f!==0x0)return _0x4e3d1f;const _0x1bffc0=(_0x3d72a4[_0x4b85b6(0x1bb)]?.[_0x4b85b6(0x1d0)]||0x0)-(_0x244175['badgesCount']?.[_0x4b85b6(0x1d0)]||0x0);if(_0x1bffc0!==0x0)return _0x1bffc0;const _0x22e010=(_0x3d72a4[_0x4b85b6(0x1bb)]?.['first_try_ace']||0x0)-(_0x244175[_0x4b85b6(0x1bb)]?.['first_try_ace']||0x0);if(_0x22e010!==0x0)return _0x22e010;const _0xf7fa41=(_0x3d72a4[_0x4b85b6(0x1bb)]?.[_0x4b85b6(0x6c9)]||0x0)-(_0x244175[_0x4b85b6(0x1bb)]?.[_0x4b85b6(0x6c9)]||0x0);if(_0xf7fa41!==0x0)return _0xf7fa41;const _0x43a148=(_0x3d72a4[_0x4b85b6(0x1bb)]?.[_0x4b85b6(0x562)]||0x0)-(_0x244175[_0x4b85b6(0x1bb)]?.[_0x4b85b6(0x562)]||0x0);if(_0x43a148!==0x0)return _0x43a148;return _0x244175[_0x4b85b6(0x1c3)]['localeCompare'](_0x3d72a4[_0x4b85b6(0x1c3)],'th');});let _0xcc9763='';_0x67e292['forEach']((_0x26fbcc,_0x911681)=>{const _0x5b9896=_0xe1bdbd,_0x5c1588=_0x911681+0x1,_0x231223=_0x26fbcc['badgesCount']||{};let _0x5558fe='';const _0x39a9b6=[_0x5b9896(0x1d0),'perfect_score','first_try_ace',_0x5b9896(0x562)];_0x39a9b6[_0x5b9896(0x748)](_0x48cb54=>{const _0x13f1b1=_0x5b9896;if(_0x231223[_0x48cb54]>0x0){const _0x1a2228=Object[_0x13f1b1(0x807)](BADGES)[_0x13f1b1(0x1fc)](_0x50b493=>_0x50b493['id']===_0x48cb54);_0x1a2228&&(_0x48cb54===_0x13f1b1(0x1d0)?_0x5558fe+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x1a2228[_0x13f1b1(0x248)]+_0x13f1b1(0x2ec)+_0x1a2228[_0x13f1b1(0x6d6)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5558fe+=_0x13f1b1(0x39b)+_0x1a2228[_0x13f1b1(0x248)]+'\x20('+_0x231223[_0x48cb54]+_0x13f1b1(0x277)+_0x1a2228[_0x13f1b1(0x6d6)]+_0x13f1b1(0x163)+_0x231223[_0x48cb54]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0xcc9763+=_0x5b9896(0xf9)+_0x5c1588+_0x5b9896(0x362)+_0x26fbcc['studentName']+_0x5b9896(0x425)+(_0x26fbcc[_0x5b9896(0x223)]||0x0)+_0x5b9896(0x362)+(_0x5558fe||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xae044f[_0xe1bdbd(0x4ca)]=_0xcc9763;}function displayLoopScreen(_0x255046,_0x463c00,_0x1de21f){const _0x44d0de=_0x31a0a6;let _0x5c37e5='';_0x1de21f!=='show_pass_fail_only'&&(_0x5c37e5=_0x44d0de(0x64a)+_0x255046+_0x44d0de(0xe0)+_0x463c00+_0x44d0de(0x556));const _0x384a6b=_0x44d0de(0x6c3)+_0x5c37e5+_0x44d0de(0x1c7);studentResultArea['innerHTML']=_0x384a6b,studentResultArea[_0x44d0de(0x4ba)][_0x44d0de(0x4c3)](_0x44d0de(0x199)),studentQuizArea[_0x44d0de(0x4ba)]['add']('hidden'),document[_0x44d0de(0x75f)]('retake-quiz-loop-btn')[_0x44d0de(0x670)](_0x44d0de(0xce),()=>{const _0x50c4c4=_0x44d0de;studentResultArea['classList'][_0x50c4c4(0x688)](_0x50c4c4(0x199)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0xc75048,_0x5bcbf0,_0x2d6196){const _0x12e01c=_0x31a0a6,_0x1acc2f=document[_0x12e01c(0x75f)](_0x2d6196),_0x50530c=_0x2d6196===_0x12e01c(0x39e),_0x5e7ebc=_0x5bcbf0[_0x12e01c(0x3a0)][_0x12e01c(0x299)],_0x2393f1=document[_0x12e01c(0x75f)](_0x2d6196)[_0x12e01c(0x753)](_0x12e01c(0x58f));if(_0x2393f1&&!_0x50530c){const _0x1dbc7=_0x2393f1[_0x12e01c(0x440)](_0x12e01c(0x7d0));_0x1dbc7[_0x12e01c(0x4ca)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0xc75048||_0xc75048[_0x12e01c(0x299)]===0x0){_0x1acc2f['innerHTML']=_0x12e01c(0x56a)+(_0x50530c?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x222741=[..._0xc75048];_0x222741['sort']((_0x57998f,_0x52bbed)=>{const _0x4b5eb4=_0x12e01c;let _0x44c684,_0x2ae5e8;switch(quizLeaderboardSortBy){case _0x4b5eb4(0x1c3):_0x44c684=_0x57998f['studentName']||'',_0x2ae5e8=_0x52bbed[_0x4b5eb4(0x1c3)]||'';return quizLeaderboardSortOrder===_0x4b5eb4(0x153)?_0x44c684[_0x4b5eb4(0x6de)](_0x2ae5e8,'th'):_0x2ae5e8[_0x4b5eb4(0x6de)](_0x44c684,'th');case _0x4b5eb4(0x4c6):_0x44c684=_0x57998f[_0x4b5eb4(0x4c6)]||0x0,_0x2ae5e8=_0x52bbed[_0x4b5eb4(0x4c6)]||0x0;break;case'attempts':_0x44c684=_0x57998f[_0x4b5eb4(0x489)]?.[_0x4b5eb4(0x299)]||0x1,_0x2ae5e8=_0x52bbed[_0x4b5eb4(0x489)]?.['length']||0x1;break;case _0x4b5eb4(0x72a):_0x44c684=new Date(_0x57998f[_0x4b5eb4(0x72a)]),_0x2ae5e8=new Date(_0x52bbed['latestSubmittedAt']);break;case'bestScore':default:_0x44c684=_0x57998f[_0x4b5eb4(0x5dc)],_0x2ae5e8=_0x52bbed[_0x4b5eb4(0x5dc)];break;}if(_0x44c684<_0x2ae5e8)return quizLeaderboardSortOrder===_0x4b5eb4(0x153)?-0x1:0x1;if(_0x44c684>_0x2ae5e8)return quizLeaderboardSortOrder===_0x4b5eb4(0x153)?0x1:-0x1;return 0x0;});const _0x24d367=_0x5bcbf0['isRemedial']===!![],_0x5cfd4e=_0x5bcbf0[_0x12e01c(0x37f)]?.[_0x12e01c(0x4f0)]??-0x1;let _0x474bb7='';_0x222741['forEach']((_0x11658a,_0x4b372b)=>{const _0x357db4=_0x12e01c,_0x3b865c=_0x4b372b+0x1;let _0x4fe5a5=_0x357db4(0x79a);if(_0x24d367||_0x5cfd4e!==-0x1){let _0x116531=_0x24d367?_0x11658a[_0x357db4(0x5dc)]===_0x5e7ebc:_0x11658a['bestScore']>=_0x5cfd4e;const _0x863927=_0x116531?_0x357db4(0x661):_0x357db4(0x2ae),_0x5413cc=_0x116531?'ผ่าน':_0x357db4(0x77a);_0x4fe5a5=_0x357db4(0x2ee)+_0x863927+'\x22>'+_0x5413cc+_0x357db4(0x4cc);}const _0x55b935=_0x11658a[_0x357db4(0x489)][_0x11658a[_0x357db4(0x489)][_0x357db4(0x299)]-0x1],_0x14ee34=(_0x55b935['badges']||[])[_0x357db4(0x182)](_0x463334=>{const _0x78cea2=_0x357db4,_0x2178d7=Object['values'](BADGES)[_0x78cea2(0x1fc)](_0x36ffc7=>_0x36ffc7['id']===_0x463334);return _0x2178d7?_0x78cea2(0x470)+_0x2178d7[_0x78cea2(0x248)]+_0x78cea2(0x280)+_0x2178d7[_0x78cea2(0x6d6)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x357db4(0x7df)]('');_0x474bb7+=_0x357db4(0x4d6)+_0x3b865c+_0x357db4(0x681)+_0x11658a['studentName']+_0x357db4(0x401)+_0x11658a[_0x357db4(0x5dc)]+'\x20/\x20'+_0x5e7ebc+_0x357db4(0x60e)+_0x4fe5a5+_0x357db4(0x38b)+(_0x11658a[_0x357db4(0x4c6)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x50530c?'':_0x357db4(0x79b)+(_0x11658a['attempts']?.[_0x357db4(0x299)]||0x1)+_0x357db4(0x242))+_0x357db4(0x324)+(_0x50530c?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x11658a[_0x357db4(0x72a)])[_0x357db4(0x306)](_0x357db4(0x535))+_0x357db4(0x242))+_0x357db4(0x735)+(_0x14ee34||'-')+_0x357db4(0x55c);}),_0x1acc2f[_0x12e01c(0x4ca)]=_0x474bb7,_0x2393f1&&!_0x50530c&&_0x2393f1['querySelectorAll'](_0x12e01c(0x3af))[_0x12e01c(0x748)](_0x2a6334=>{const _0x368e42=_0x12e01c,_0x33d523=_0x2a6334[_0x368e42(0x440)]('.sort-indicator');if(_0x33d523)_0x33d523['remove']();_0x2a6334[_0x368e42(0x384)][_0x368e42(0x2ba)]===quizLeaderboardSortBy&&(_0x2a6334[_0x368e42(0x4ca)]+=_0x368e42(0x7cd)+(quizLeaderboardSortOrder===_0x368e42(0x153)?'▲':'▼')+_0x368e42(0x1f4));});}async function handleDeleteSubmission(_0x355f88){const _0x2db549=_0x31a0a6;if(!currentQuizData||!currentQuizData['id']||!_0x355f88){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x2db549(0x523)+_0x355f88+_0x2db549(0x2e1),async()=>{const _0x2d702a=_0x2db549,_0x15ae8a=currentQuizData['id'],_0x37dd49=doc(db,_0x2d702a(0x678)+appId+_0x2d702a(0x7ad)+_0x15ae8a+_0x2d702a(0x5b6),_0x355f88);try{await deleteDoc(_0x37dd49),showMessage('ลบผลสอบของ\x20'+_0x355f88+_0x2d702a(0x605));}catch(_0x3dedd7){console[_0x2d702a(0x382)](_0x2d702a(0x4f3),_0x3dedd7),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x584629=_0x31a0a6,_0x4a3d73=document['getElementById'](_0x584629(0x64b)),_0x528f33=_0x4a3d73['value']['trim']();if(!_0x528f33){showMessage(_0x584629(0x399));return;}loadQuizBtn[_0x584629(0x108)]=!![],loadQuizBtn[_0x584629(0x4ca)]=_0x584629(0x510);try{const _0x536dbf=doc(db,_0x584629(0x678)+appId+_0x584629(0x132),_0x528f33),_0x393688=await getDoc(_0x536dbf);if(!_0x393688[_0x584629(0x1a9)]()){showMessage(_0x584629(0x553));return;}currentQuizData={'id':_0x393688['id'],..._0x393688[_0x584629(0xa7)]()};const _0x18d49b=currentQuizData[_0x584629(0x6fe)]||_0x584629(0x2ea),_0x17f056=new Date();if(_0x18d49b===_0x584629(0x6f2)){showMessage(_0x584629(0x63c));return;}if(_0x18d49b===_0x584629(0xd6)){const _0x2a49c4=currentQuizData['startTime']?new Date(currentQuizData[_0x584629(0x632)]):null,_0x2571a0=currentQuizData[_0x584629(0x275)]?new Date(currentQuizData[_0x584629(0x275)]):null;if(_0x2a49c4&&_0x17f056<_0x2a49c4){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x2a49c4[_0x584629(0x306)](_0x584629(0x535),{'hour12':![]}));return;}if(_0x2571a0&&_0x17f056>_0x2571a0){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x90299e=currentQuizData[_0x584629(0x628)];currentProjectId=_0x90299e;const _0xdfd793=doc(db,'artifacts/'+appId+_0x584629(0x3c6),_0x90299e),_0x272556=await getDoc(_0xdfd793);if(!_0x272556[_0x584629(0x1a9)]()){showMessage(_0x584629(0x164));return;}const _0x522724=_0x272556[_0x584629(0xa7)]();currentStudentProjectData=_0x522724,displayStudentNameSelector(_0x522724[_0x584629(0x469)],currentQuizData['topic']);}catch(_0x755f61){console['error'](_0x584629(0x346),_0x755f61),showMessage(_0x584629(0x3e9));}finally{loadQuizBtn[_0x584629(0x108)]=![],loadQuizBtn[_0x584629(0x4ca)]=_0x584629(0x422);}}async function handleJoinLiveGame(){const _0x4f8952=_0x31a0a6,_0x264207=document[_0x4f8952(0x75f)](_0x4f8952(0x2d5)),_0x577dc9=document[_0x4f8952(0x75f)](_0x4f8952(0x68f)),_0x43b515=document[_0x4f8952(0x75f)](_0x4f8952(0x6fb)),_0x535490=_0x264207[_0x4f8952(0x3a5)]['trim'](),_0x56227a=_0x577dc9['value'][_0x4f8952(0x74d)]();if(!_0x535490||!_0x56227a){showMessage(_0x4f8952(0x8e));return;}_0x43b515[_0x4f8952(0x108)]=!![],_0x43b515[_0x4f8952(0x4ca)]=_0x4f8952(0x526);try{const _0x406497=collection(db,_0x4f8952(0x678)+appId+_0x4f8952(0x286)),_0x30a810=query(_0x406497,where(_0x4f8952(0x344),'==',_0x535490),where('status','==',_0x4f8952(0x12d))),_0x5119c1=await getDocs(_0x30a810);if(_0x5119c1[_0x4f8952(0x700)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x2c11a2=_0x5119c1[_0x4f8952(0x67b)][0x0],_0x42d42b=_0x2c11a2[_0x4f8952(0xa7)]();currentLiveGameId=_0x2c11a2['id'];const _0x5b445d=_0x42d42b[_0x4f8952(0x13d)],_0x21dd3c=doc(db,_0x4f8952(0x678)+appId+_0x4f8952(0x132),_0x5b445d),_0xa5de0d=await getDoc(_0x21dd3c);if(!_0xa5de0d[_0x4f8952(0x1a9)]()){showMessage(_0x4f8952(0x101));return;}currentQuizData={'id':_0xa5de0d['id'],..._0xa5de0d[_0x4f8952(0xa7)]()};if(_0x42d42b['players']&&_0x42d42b[_0x4f8952(0x3d7)][_0x56227a]){showMessage(_0x4f8952(0x1f9));return;}const _0x4008c4={};_0x4008c4[_0x4f8952(0x5c9)+_0x56227a]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x4f8952(0x678)+appId+_0x4f8952(0x286),currentLiveGameId),_0x4008c4),currentStudentName=_0x56227a,listenForLiveGameUpdates();}catch(_0x3c61ee){console[_0x4f8952(0x382)](_0x4f8952(0x2a6),_0x3c61ee),showMessage(_0x4f8952(0x253));}finally{_0x43b515['disabled']=![],_0x43b515['innerHTML']=_0x4f8952(0x36a);}}function displayStudentNameSelector(_0x48bd97,_0x5eb6b){const _0x3188d7=_0x31a0a6,_0x31870b=document[_0x3188d7(0x75f)]('student-name-select');document[_0x3188d7(0x75f)](_0x3188d7(0x162))[_0x3188d7(0x4e9)]=_0x3188d7(0x3b2)+_0x5eb6b,!_0x48bd97||_0x48bd97[_0x3188d7(0x299)]===0x0?(_0x31870b[_0x3188d7(0x4ca)]=_0x3188d7(0x4d3),startQuizBtn['disabled']=!![]):(_0x31870b['innerHTML']=_0x3188d7(0x5be),_0x48bd97[_0x3188d7(0x748)](_0x6fbb37=>{const _0x4fead5=_0x3188d7,_0x407227=document['createElement'](_0x4fead5(0x696));_0x407227['value']=_0x6fbb37,_0x407227[_0x4fead5(0x4e9)]=_0x6fbb37,_0x31870b[_0x4fead5(0xfa)](_0x407227);}),startQuizBtn[_0x3188d7(0x108)]=![]),studentInitialView['classList'][_0x3188d7(0x688)](_0x3188d7(0x199)),studentNameSelectionView['classList'][_0x3188d7(0x4c3)](_0x3188d7(0x199));}function shuffleArray(_0x3cea02){const _0x9ca3f5=_0x31a0a6;for(let _0x3ed9d7=_0x3cea02[_0x9ca3f5(0x299)]-0x1;_0x3ed9d7>0x0;_0x3ed9d7--){const _0x40731b=Math[_0x9ca3f5(0x449)](Math['random']()*(_0x3ed9d7+0x1));[_0x3cea02[_0x3ed9d7],_0x3cea02[_0x40731b]]=[_0x3cea02[_0x40731b],_0x3cea02[_0x3ed9d7]];}}function getShuffledQuiz(_0x4dfc32){const _0x642a6e=_0x31a0a6;let _0x35a937=JSON[_0x642a6e(0x3ae)](JSON[_0x642a6e(0x1c2)](_0x4dfc32));const _0x46ecbc=_0x35a937['settings']?.[_0x642a6e(0x20b)]||'none';if(_0x46ecbc==='none')return _0x35a937;return(_0x46ecbc===_0x642a6e(0x2dd)||_0x46ecbc===_0x642a6e(0x281))&&shuffleArray(_0x35a937['questions']),(_0x46ecbc==='choices_only'||_0x46ecbc===_0x642a6e(0x281))&&_0x35a937[_0x642a6e(0x3a0)]['forEach'](_0x5077c0=>{const _0x466db4=_0x642a6e,_0x354644=_0x5077c0[_0x466db4(0x561)]||_0x35a937[_0x466db4(0x1f6)];if(_0x5077c0[_0x466db4(0x638)]){let _0x552d12=_0x5077c0[_0x466db4(0x638)]['map']((_0x529b34,_0x132e7a)=>({'text':_0x529b34,'isCorrect':_0x132e7a===_0x5077c0[_0x466db4(0x18c)]}));shuffleArray(_0x552d12),_0x5077c0[_0x466db4(0x638)]=_0x552d12['map'](_0x2de263=>_0x2de263[_0x466db4(0x3e1)]),_0x5077c0[_0x466db4(0x18c)]=_0x552d12[_0x466db4(0x621)](_0x3d3417=>_0x3d3417[_0x466db4(0x684)]);}_0x354644==='matching_item'&&_0x5077c0[_0x466db4(0x113)]&&shuffleArray(_0x5077c0[_0x466db4(0x113)]);}),_0x35a937;}function displayQuizForStudent(_0x2f4a47){const _0x17b742=_0x31a0a6;studentQuizArea[_0x17b742(0x4ba)][_0x17b742(0x4c3)](_0x17b742(0x199)),currentDisplayedQuiz=getShuffledQuiz(_0x2f4a47),isQuizActive=!![],cheatAttempts=0x0,document[_0x17b742(0x670)](_0x17b742(0x797),handleFullscreenChange),enterFullscreen();const _0x10ca53=currentDisplayedQuiz[_0x17b742(0x37f)]?.[_0x17b742(0x7ab)]||'none';if(_0x10ca53==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x17b742(0x37f)]['timerDuration']);else _0x10ca53==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x486e9c=_0x31a0a6;let _0x16035f=_0x486e9c(0x613)+currentDisplayedQuiz[_0x486e9c(0x151)]+_0x486e9c(0x42d)+(currentMode==='admin-testing'?_0x486e9c(0x7d7):'')+_0x486e9c(0x699);currentDisplayedQuiz[_0x486e9c(0x3a0)][_0x486e9c(0x748)]((_0xdfeb35,_0x694a7b)=>{const _0x2500ac=_0x486e9c,_0x14419e=_0xdfeb35[_0x2500ac(0x561)]||currentDisplayedQuiz['quizType'];_0x16035f+=_0x2500ac(0xcf);_0x14419e===_0x2500ac(0x6bc)?_0x16035f+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x694a7b+0x1)+'.\x20'+_0xdfeb35[_0x2500ac(0x31a)]+_0x2500ac(0x19d)+_0x694a7b+_0x2500ac(0x658)+_0xdfeb35[_0x2500ac(0x113)][_0x2500ac(0x182)](_0x4f245b=>'<option\x20value=\x22'+_0x4f245b+'\x22>'+_0x4f245b+_0x2500ac(0x6ed))[_0x2500ac(0x7df)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x16035f+=_0x2500ac(0x166)+(_0x694a7b+0x1)+'.\x20'+(_0xdfeb35[_0x2500ac(0x60d)]||_0xdfeb35[_0x2500ac(0x149)])+_0x2500ac(0x56d),_0xdfeb35[_0x2500ac(0x68d)]&&(_0x16035f+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xdfeb35['imageCode']+'</div>'));_0x16035f+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x14419e){case _0x2500ac(0xa5):_0x16035f+='<textarea\x20name=\x22question'+_0x694a7b+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x2500ac(0x5cc):_0x16035f+=_0x2500ac(0x4d8)+_0x694a7b+_0x2500ac(0x7c2)+_0x694a7b+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x694a7b+_0x2500ac(0x4a5),_0x16035f+=_0x2500ac(0x4d8)+_0x694a7b+_0x2500ac(0x431)+_0x694a7b+_0x2500ac(0x773)+_0x694a7b+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x2500ac(0x6bc):break;case _0x2500ac(0x11a):case _0x2500ac(0xff):default:_0x16035f+=_0xdfeb35[_0x2500ac(0x638)][_0x2500ac(0x182)]((_0xc4825b,_0x1028a3)=>_0x2500ac(0x1e9)+_0x694a7b+_0x2500ac(0x760)+_0x1028a3+'\x22\x20name=\x22question'+_0x694a7b+'\x22\x20value=\x22'+_0x1028a3+_0x2500ac(0x708)+_0x694a7b+_0x2500ac(0x760)+_0x1028a3+'\x22>'+_0xc4825b+'</label>\x0a\x20\x20\x20\x20</div>\x0a')[_0x2500ac(0x7df)]('');break;}_0x16035f+=_0x2500ac(0x2fb);}),_0x16035f+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x16035f+=_0x486e9c(0x6e4),studentQuizArea[_0x486e9c(0x4ca)]=_0x16035f;if(currentMode===_0x486e9c(0x3a9)){const _0x4784ae=document['getElementById'](_0x486e9c(0x2fd));if(_0x4784ae)_0x4784ae[_0x486e9c(0x670)](_0x486e9c(0xce),cancelAdminTest);}document[_0x486e9c(0x75f)](_0x486e9c(0x25c))[_0x486e9c(0x670)]('submit',handleSubmitQuiz);if(window['MathJax'])window[_0x486e9c(0x428)][_0x486e9c(0x3d6)]([studentQuizArea]);}async function handleSubmitQuiz(_0x20df8e){const _0x33b3d4=_0x31a0a6;if(_0x20df8e)_0x20df8e[_0x33b3d4(0x7d9)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xc88cca=document['getElementById']('quiz-form');if(!_0xc88cca)return;const _0x111ed5=_0xc88cca[_0x33b3d4(0x440)](_0x33b3d4(0x2c4)),_0x56d091=currentDisplayedQuiz[_0x33b3d4(0x3a0)][_0x33b3d4(0x530)](_0x372ae6=>_0x372ae6[_0x33b3d4(0x561)]===_0x33b3d4(0xa5));_0x111ed5&&(_0x111ed5[_0x33b3d4(0x108)]=!![],_0x56d091?_0x111ed5[_0x33b3d4(0x4ca)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x111ed5[_0x33b3d4(0x4ca)]=_0x33b3d4(0x649));const _0xb1a175=new FormData(_0xc88cca),_0x58fc94=currentDisplayedQuiz[_0x33b3d4(0x3a0)][_0x33b3d4(0x182)]((_0x52213d,_0x25ad3f)=>{const _0x5c0083=_0x33b3d4,_0x46e89a=_0x52213d[_0x5c0083(0x561)]||currentDisplayedQuiz['quizType'],_0x17a58c=_0xb1a175['get'](_0x5c0083(0x44e)+_0x25ad3f);if(_0x17a58c!==null&&_0x17a58c!==undefined){if(_0x46e89a===_0x5c0083(0xff)||_0x46e89a===_0x5c0083(0x11a))return parseInt(_0x17a58c);return _0x17a58c;}return null;}),_0x5be288=currentQuizData['id'],_0xc5b566=doc(db,_0x33b3d4(0x678)+appId+_0x33b3d4(0x7ad)+_0x5be288+_0x33b3d4(0x5b6),currentStudentName),_0x6e5717=await getDoc(_0xc5b566),_0x1a1861=_0x6e5717['exists']()?_0x6e5717[_0x33b3d4(0xa7)]():{},_0x336149=_0x1a1861[_0x33b3d4(0x489)]||[];await processAndSubmitAnswers(_0x58fc94,_0x336149);}async function gradeShortAnswerWithAI(_0x18539c,_0x7d3678){const _0x12d51b=_0x31a0a6;if(!_0x18539c||!_0x7d3678)return![];try{const _0x3427a0='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x18539c+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x7d3678+_0x12d51b(0x243),_0x5b0c1f={'contents':[{'role':_0x12d51b(0x5cb),'parts':[{'text':_0x3427a0}]}]},_0x5c5e75=_0x12d51b(0x446),_0x233f90=_0x12d51b(0x5f3)+_0x5c5e75,_0x5cbbca=await fetch(_0x233f90,{'method':'POST','headers':{'Content-Type':_0x12d51b(0x532)},'body':JSON[_0x12d51b(0x1c2)](_0x5b0c1f)});if(!_0x5cbbca['ok'])throw new Error(_0x12d51b(0x375));const _0x282c49=await _0x5cbbca[_0x12d51b(0x339)](),_0x1529eb=_0x282c49[_0x12d51b(0x140)][0x0]['content'][_0x12d51b(0x602)][0x0][_0x12d51b(0x3e1)][_0x12d51b(0x74d)]()[_0x12d51b(0x57d)]();return _0x1529eb===_0x12d51b(0x1e1);}catch(_0x48b486){return console[_0x12d51b(0x382)]('AI\x20grading\x20failed:',_0x48b486),![];}}async function processAndSubmitAnswers(_0x3ddc9e,_0x414806){const _0x1b2bcc=_0x31a0a6;isQuizActive=![],document[_0x1b2bcc(0x249)](_0x1b2bcc(0x797),handleFullscreenChange);let _0x25c723=0x0,_0x34dc53=0x0,_0xdaf395=[];const _0x47214e=[],_0x5ef9f3=currentDisplayedQuiz[_0x1b2bcc(0x3a0)][_0x1b2bcc(0x299)];let _0x145bb4=0x0;const _0x310bda=currentDisplayedQuiz[_0x1b2bcc(0x3a0)];for(let _0x2401b4=0x0;_0x2401b4<_0x310bda[_0x1b2bcc(0x299)];_0x2401b4++){const _0x33de80=_0x310bda[_0x2401b4],_0x3d6c61=_0x3ddc9e[_0x2401b4],_0x4c69f1=_0x33de80[_0x1b2bcc(0x561)]||currentDisplayedQuiz[_0x1b2bcc(0x1f6)];let _0x4fb794=![];if(_0x3d6c61!==null&&_0x3d6c61!=='')switch(_0x4c69f1){case _0x1b2bcc(0x6bc):_0x4fb794=_0x3d6c61===_0x33de80[_0x1b2bcc(0x6ad)];break;case'true_false':const _0x44c14a=_0x3d6c61===!![]||_0x3d6c61===_0x1b2bcc(0x1e1);_0x4fb794=_0x44c14a===_0x33de80[_0x1b2bcc(0x62b)];break;case'fill_in_the_blank':case _0x1b2bcc(0xff):default:_0x4fb794=Number(_0x3d6c61)===_0x33de80[_0x1b2bcc(0x18c)];break;case _0x1b2bcc(0xa5):_0x4fb794=await gradeShortAnswer(_0x3d6c61,_0x33de80);break;}_0x4fb794?(_0x25c723++,_0x145bb4++,_0x145bb4===0x3&&(_0xdaf395[_0x1b2bcc(0x2b0)](BADGES['ON_FIRE']['id']),_0x145bb4=0x0)):_0x145bb4=0x0;let _0x3b067e=null;_0x33de80[_0x1b2bcc(0x638)]&&_0x3d6c61!==null&&(_0x3b067e=_0x33de80[_0x1b2bcc(0x638)][_0x3d6c61]),_0x47214e[_0x1b2bcc(0x2b0)]({'answer':_0x3d6c61,'answerText':_0x3b067e,'isCorrect':_0x4fb794,'originalQuestionText':_0x33de80[_0x1b2bcc(0x31a)]||_0x33de80['questionText']});}_0x34dc53=_0x25c723*0xa;_0x25c723===_0x5ef9f3&&_0x5ef9f3>0x0&&!currentDisplayedQuiz[_0x1b2bcc(0x175)]&&(_0x34dc53+=0x32,_0xdaf395[_0x1b2bcc(0x2b0)](BADGES[_0x1b2bcc(0x2d4)]['id']));const _0xdd27b0=currentDisplayedQuiz['settings']?.[_0x1b2bcc(0x4f0)]??Math[_0x1b2bcc(0x449)](_0x5ef9f3/0x2),_0x5017fc=currentDisplayedQuiz[_0x1b2bcc(0x37f)]?.[_0x1b2bcc(0x7ab)];if(_0x5017fc==='whole_quiz'&&quizStartTime){const _0x5a36ee=(new Date()-quizStartTime)/0x3e8,_0xf1ee76=currentDisplayedQuiz[_0x1b2bcc(0x37f)][_0x1b2bcc(0x7b6)]*0x3c;_0x25c723>=_0xdd27b0&&_0x5a36ee<_0xf1ee76/0x2&&(_0x34dc53+=0x14,_0xdaf395['push'](BADGES[_0x1b2bcc(0x17b)]['id']));}_0x414806[_0x1b2bcc(0x299)]===0x0&&_0x25c723===_0x5ef9f3&&_0x5ef9f3>0x0&&_0xdaf395[_0x1b2bcc(0x2b0)](BADGES['FIRST_TRY_ACE']['id']);if(_0x414806[_0x1b2bcc(0x299)]>0x0){const _0x533405=_0x414806[0x0][_0x1b2bcc(0x368)];if(_0x533405<_0xdd27b0&&_0x25c723>=_0xdd27b0){const _0x123556=_0x414806[_0x1b2bcc(0x530)](_0x458d8f=>(_0x458d8f[_0x1b2bcc(0x558)]||[])['includes'](BADGES[_0x1b2bcc(0x15c)]['id']));!_0x123556&&_0xdaf395[_0x1b2bcc(0x2b0)](BADGES[_0x1b2bcc(0x15c)]['id']);}}_0x414806[_0x1b2bcc(0x299)]===0x4&&_0xdaf395['push'](BADGES[_0x1b2bcc(0x310)]['id']);const _0x592d96=currentDisplayedQuiz['settings'][_0x1b2bcc(0x148)];if(currentMode==='admin-testing'){handleResultDisplay(_0x592d96,_0x25c723,_0x34dc53,_0xdaf395,_0x47214e,_0x5ef9f3);return;}const _0x124e45=currentQuizData['id'],_0x8538ac=doc(db,_0x1b2bcc(0x678)+appId+_0x1b2bcc(0x7ad)+_0x124e45+_0x1b2bcc(0x5b6),currentStudentName);try{const _0x262cc3=[..._0x414806],_0x48b99f={'score':_0x25c723,'points':_0x34dc53,'badges':_0xdaf395,'submittedAt':new Date()[_0x1b2bcc(0x1a7)](),'answers':_0x47214e};_0x262cc3['push'](_0x48b99f);const _0x49b7c2=_0x262cc3[0x0][_0x1b2bcc(0x368)],_0x4aeb4b=Math['max'](..._0x262cc3[_0x1b2bcc(0x182)](_0x24da82=>_0x24da82[_0x1b2bcc(0x368)])),_0x3ddc67=_0x25c723,_0x53a3d5=_0x48b99f[_0x1b2bcc(0x65e)];await setDoc(_0x8538ac,{'studentName':currentStudentName,'totalQuestions':_0x5ef9f3,'attempts':_0x262cc3,'firstScore':_0x49b7c2,'bestScore':_0x4aeb4b,'latestScore':_0x3ddc67,'points':_0x34dc53,'latestSubmittedAt':_0x53a3d5},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1b2bcc(0x628)],currentStudentName),handleResultDisplay(_0x592d96,_0x25c723,_0x34dc53,_0xdaf395,_0x47214e,_0x5ef9f3);}catch(_0x526997){console[_0x1b2bcc(0x382)](_0x1b2bcc(0x154),_0x526997),showMessage(_0x1b2bcc(0x457));}}async function updateStudentProfile(_0x6a5a07,_0x32de43){const _0x428f44=_0x31a0a6,_0x24cb1d=doc(db,_0x428f44(0x678)+appId+_0x428f44(0x5ff)+_0x6a5a07+'/studentProfiles',_0x32de43);try{const _0x2571c4=query(collection(db,'artifacts/'+appId+_0x428f44(0x132)),where('projectId','==',_0x6a5a07)),_0x41b926=await getDocs(_0x2571c4),_0x1a74c9=new Map(_0x41b926[_0x428f44(0x67b)][_0x428f44(0x182)](_0x4b886a=>[_0x4b886a['id'],_0x4b886a[_0x428f44(0xa7)]()])),_0x12d72f=Array['from'](_0x1a74c9[_0x428f44(0x5f6)]());await runTransaction(db,async _0x5c9d10=>{const _0x2f7752=_0x428f44;let _0x4cc1b7=0x0;const _0x5e7101={};let _0x1b33ca=!![],_0x268a7b=0x0,_0x49e0a9=0x0;for(const _0x546e35 of _0x12d72f){const _0x6c33c9=_0x1a74c9[_0x2f7752(0x777)](_0x546e35),_0x2dce66=doc(db,'artifacts/'+appId+_0x2f7752(0x7ad)+_0x546e35+_0x2f7752(0x5b6),_0x32de43),_0x439467=await _0x5c9d10[_0x2f7752(0x777)](_0x2dce66);if(_0x439467['exists']()){const _0xcc9df5=_0x439467[_0x2f7752(0xa7)](),_0x2c2021=_0xcc9df5[_0x2f7752(0x489)]||[];if(_0x2c2021['length']>0x0){const _0x5f1700=_0x2c2021[_0x2f7752(0x4eb)]((_0x2e0d43,_0x2a3353)=>{const _0x418dea=_0x2f7752;if(_0x2a3353['score']>_0x2e0d43[_0x418dea(0x368)])return _0x2a3353;if(_0x2a3353[_0x418dea(0x368)]===_0x2e0d43[_0x418dea(0x368)])return(_0x2a3353[_0x418dea(0x4c6)]||0x0)>(_0x2e0d43['points']||0x0)?_0x2a3353:_0x2e0d43;return _0x2e0d43;},{'score':-0x1,'points':-0x1});_0x5f1700[_0x2f7752(0x368)]>-0x1&&(_0x4cc1b7+=_0x5f1700[_0x2f7752(0x4c6)]||0x0,(_0x5f1700[_0x2f7752(0x558)]||[])[_0x2f7752(0x748)](_0x2afa17=>{_0x5e7101[_0x2afa17]=(_0x5e7101[_0x2afa17]||0x0)+0x1;}));}}if(_0x6c33c9[_0x2f7752(0x151)]!=='แบบทดสอบซ่อมเสริม'){_0x49e0a9++;if(_0x439467[_0x2f7752(0x1a9)]()){_0x268a7b++;const _0x35f2a6=_0x439467[_0x2f7752(0xa7)]();_0x35f2a6[_0x2f7752(0x5dc)]!==_0x35f2a6[_0x2f7752(0x3e2)]&&(_0x1b33ca=![]);}else _0x1b33ca=![];}}_0x49e0a9>0x0&&_0x268a7b===_0x49e0a9&&_0x1b33ca?_0x5e7101['specialist']=0x1:_0x5e7101[_0x2f7752(0x1d0)]=0x0,_0x5c9d10[_0x2f7752(0x69f)](_0x24cb1d,{'studentName':_0x32de43,'totalPoints':_0x4cc1b7,'unlockedBadges':Object['keys'](_0x5e7101)[_0x2f7752(0x5e5)](_0x538a7f=>_0x5e7101[_0x538a7f]>0x0),'badgesCount':_0x5e7101},{'merge':!![]});});}catch(_0x3778eb){console[_0x428f44(0x382)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x3778eb),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x2ec2fb=_0x31a0a6;if(!currentQuizData){showMessage(_0x2ec2fb(0x23d));return;}let _0x450aa7=JSON[_0x2ec2fb(0x3ae)](JSON['stringify'](currentQuizData));currentMode=_0x2ec2fb(0x3a9),currentStudentName=_0x2ec2fb(0xf3),adminView['classList'][_0x2ec2fb(0x688)]('hidden'),studentView['classList']['remove']('hidden'),studentInitialView[_0x2ec2fb(0x4ba)][_0x2ec2fb(0x688)]('hidden'),studentNameSelectionView[_0x2ec2fb(0x4ba)]['add'](_0x2ec2fb(0x199)),studentResultArea[_0x2ec2fb(0x4ba)]['add']('hidden'),studentQuizArea[_0x2ec2fb(0x4ba)]['remove'](_0x2ec2fb(0x199)),quizStartTime=new Date(),displayQuizForStudent(_0x450aa7);}function handleResultDisplay(_0x5a43f2,_0x5c17a3,_0x289140,_0x39040e,_0x5843bb,_0x4f20cf){const _0x38a098=_0x31a0a6;if(_0x5a43f2===_0x38a098(0x6f1)){displaySubmissionConfirmation();return;}const _0x32866c=currentDisplayedQuiz[_0x38a098(0x37f)]?.[_0x38a098(0x4f0)]??Math[_0x38a098(0x449)](_0x4f20cf/0x2),_0x4b3b91=currentDisplayedQuiz[_0x38a098(0x37f)]?.[_0x38a098(0x1be)]??![],_0x292273=currentDisplayedQuiz[_0x38a098(0x37f)]?.[_0x38a098(0x356)]===!![],_0x23d5b9=_0x5c17a3<_0x32866c;if(_0x292273&&_0x23d5b9){_0x5a43f2===_0x38a098(0x5fc)?displayResultsWithAnswers(_0x5c17a3,_0x289140,_0x39040e,_0x5843bb,_0x4f20cf,!![]):displayLoopScreen(_0x5c17a3,_0x4f20cf,_0x5a43f2);return;}if(_0x4b3b91&&_0x23d5b9){startAdaptiveFlow(_0x5843bb,_0x5c17a3,_0x4f20cf);return;}switch(_0x5a43f2){case _0x38a098(0x5fc):displayResultsWithAnswers(_0x5c17a3,_0x289140,_0x39040e,_0x5843bb,_0x4f20cf);break;case'show_results_only':displayResultsScoreOnly(_0x5c17a3,_0x289140,_0x39040e,_0x4f20cf);break;case'show_pass_fail_only':displayPassFailOnly(_0x5c17a3,_0x4f20cf);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x5b2984){const _0x58f160=_0x31a0a6;studentReadingArea[_0x58f160(0x4ca)]=_0x58f160(0x8d);const _0x484636=_0x58f160(0x21c)+_0x5b2984+_0x58f160(0xe9)+simpleMathPrompt+_0x58f160(0x1c5),_0x281c1a={'type':_0x58f160(0x14f),'properties':{'questionText':{'type':_0x58f160(0x131)},'options':{'type':'ARRAY','items':{'type':_0x58f160(0x131)}},'correctAnswerIndex':{'type':_0x58f160(0x1f5)},'explanation':{'type':'STRING'}},'required':[_0x58f160(0x149),_0x58f160(0x638),_0x58f160(0x18c),_0x58f160(0xfc)]},_0x42d657={'type':_0x58f160(0x14f),'properties':{'topic':{'type':_0x58f160(0x131)},'questions':{'type':_0x58f160(0x262),'items':_0x281c1a}},'required':[_0x58f160(0x151),_0x58f160(0x3a0)]};try{const _0x1f37d0=await callAnalysisApi(_0x484636,_0x42d657);_0x1f37d0[_0x58f160(0x175)]=!![],studentReadingArea['classList'][_0x58f160(0x688)](_0x58f160(0x199));const _0x231fc8={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x58f160(0x5fc)};_0x1f37d0[_0x58f160(0x37f)]=_0x231fc8,displayQuizForStudent(_0x1f37d0);}catch(_0x4f6b24){console['error'](_0x58f160(0x31f),_0x4f6b24),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x38f0fd,_0x4a5e8e){const _0x3d5bcc=_0x31a0a6,_0x81571b=currentDisplayedQuiz['settings']?.[_0x3d5bcc(0x4f0)]??-0x1,_0x844e4e=currentDisplayedQuiz[_0x3d5bcc(0x175)]===!![];let _0x10617d='';if(_0x844e4e||_0x81571b!==-0x1){let _0x4ef2ad;_0x844e4e?_0x4ef2ad=_0x38f0fd===_0x4a5e8e:_0x4ef2ad=_0x38f0fd>=_0x81571b;const _0x47231b=_0x4ef2ad?_0x3d5bcc(0x661):_0x3d5bcc(0x2ae),_0x4f5e4d=_0x4ef2ad?'ผ่าน':_0x3d5bcc(0x77a);_0x10617d=_0x3d5bcc(0x687)+_0x47231b+'\x22>'+_0x4f5e4d+_0x3d5bcc(0x2e6);}else _0x10617d=_0x3d5bcc(0x4bf);let _0x10a1d0=_0x3d5bcc(0x4b9)+currentStudentName+_0x3d5bcc(0x701)+_0x10617d+_0x3d5bcc(0x50a);studentResultArea[_0x3d5bcc(0x4ca)]=_0x10a1d0,studentResultArea[_0x3d5bcc(0x4ba)][_0x3d5bcc(0x4c3)]('hidden'),studentQuizArea[_0x3d5bcc(0x4ba)][_0x3d5bcc(0x688)]('hidden');const _0x542c1b=_0x3d5bcc(0x74e),_0x546182=currentMode===_0x3d5bcc(0x3a9),_0x576128=_0x546182?_0x3d5bcc(0xba):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x2c5ee4=_0x3d5bcc(0x3ef)+_0x542c1b+_0x3d5bcc(0x18e)+_0x576128+_0x3d5bcc(0x4f4);studentResultArea['insertAdjacentHTML'](_0x3d5bcc(0x2c3),_0x2c5ee4),document['getElementById'](_0x542c1b)[_0x3d5bcc(0x670)]('click',()=>{const _0x4b7454=_0x3d5bcc;_0x546182?(currentMode='admin',studentView[_0x4b7454(0x4ba)][_0x4b7454(0x688)]('hidden'),adminView[_0x4b7454(0x4ba)][_0x4b7454(0x4c3)](_0x4b7454(0x199)),showView('project-detail')):(showView(_0x4b7454(0x676)),document[_0x4b7454(0x75f)](_0x4b7454(0x64b))[_0x4b7454(0x3a5)]='');});}function cancelAdminTest(){const _0x57f57c=_0x31a0a6;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x57f57c(0x33c),studentView[_0x57f57c(0x4ba)][_0x57f57c(0x688)](_0x57f57c(0x199)),adminView[_0x57f57c(0x4ba)]['remove'](_0x57f57c(0x199)),showView(_0x57f57c(0x9a));}function setupResultScreenBackButton(_0x3b25ba=![]){const _0x53035b=_0x31a0a6;if(_0x3b25ba){const _0x60f638=_0x53035b(0x28d);studentResultArea['insertAdjacentHTML'](_0x53035b(0x2c3),_0x60f638),document[_0x53035b(0x75f)](_0x53035b(0x1a2))[_0x53035b(0x670)](_0x53035b(0xce),()=>{const _0x39c3e6=_0x53035b;studentResultArea[_0x39c3e6(0x4ba)][_0x39c3e6(0x688)](_0x39c3e6(0x199)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x379e10=_0x53035b(0x74e),_0x4b5593=currentMode==='admin-testing',_0xb57bc2=_0x4b5593?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x5bcc0f=_0x53035b(0x20a)+_0x379e10+_0x53035b(0x780)+_0xb57bc2+_0x53035b(0x260);studentResultArea[_0x53035b(0x29a)]('beforeend',_0x5bcc0f),studentResultArea['querySelector'](_0x53035b(0x695))[_0x53035b(0x670)](_0x53035b(0xce),handleShowStudentRankings),document['getElementById'](_0x379e10)[_0x53035b(0x670)](_0x53035b(0xce),()=>{const _0x1e2e39=_0x53035b;_0x4b5593?(currentMode=_0x1e2e39(0x33c),studentView['classList'][_0x1e2e39(0x688)]('hidden'),adminView[_0x1e2e39(0x4ba)][_0x1e2e39(0x4c3)](_0x1e2e39(0x199)),showView('project-detail')):(showView(_0x1e2e39(0x676)),document[_0x1e2e39(0x75f)](_0x1e2e39(0x64b))[_0x1e2e39(0x3a5)]='');});}function displayResultsWithAnswers(_0x3342c9,_0x3bdc52,_0xbd8bed,_0x526439,_0x53ac3b,_0x2cd6f0=![]){const _0xbdbeeb=_0x31a0a6,_0xb60686=_0x53ac3b>0x0?_0x3342c9/_0x53ac3b*0x64:0x0,_0x9d2188=currentDisplayedQuiz[_0xbdbeeb(0x37f)]?.[_0xbdbeeb(0x4f0)]??-0x1,_0xd82735=currentDisplayedQuiz['isRemedial']===!![];let _0x1df5ae='';if(_0xd82735||_0x9d2188!==-0x1){let _0x5c7137=_0xd82735?_0x3342c9===_0x53ac3b:_0x3342c9>=_0x9d2188;const _0x359bfb=_0x5c7137?_0xbdbeeb(0x661):_0xbdbeeb(0x2ae),_0x323759=_0x5c7137?'ผ่าน':_0xbdbeeb(0x77a);_0x1df5ae=_0xbdbeeb(0x4f1)+_0x359bfb+'\x22>'+_0x323759+'</p>';}let _0x592f43=_0xbdbeeb(0xf1)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x3342c9+_0xbdbeeb(0x48f)+_0x53ac3b+_0xbdbeeb(0x294)+_0x1df5ae+_0xbdbeeb(0x588)+_0x3bdc52+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0xb60686[_0xbdbeeb(0x4b6)](0x0)+_0xbdbeeb(0x5d5);currentDisplayedQuiz[_0xbdbeeb(0x3a0)][_0xbdbeeb(0x748)]((_0x178c84,_0x336c76)=>{const _0x4a4176=_0xbdbeeb,_0xcfe61f=_0x526439[_0x336c76],_0x1d8493=_0xcfe61f['answer'],_0x113302=_0xcfe61f[_0x4a4176(0x684)],_0x2acf93=_0x178c84[_0x4a4176(0x561)]||currentDisplayedQuiz[_0x4a4176(0x1f6)];_0x592f43+=_0x4a4176(0x24f)+(_0x113302?_0x4a4176(0x71d):'border-red-300\x20bg-red-50')+_0x4a4176(0x1d8)+(_0x336c76+0x1)+'.\x20'+(_0x178c84[_0x4a4176(0x31a)]||_0x178c84['questionText'])+_0x4a4176(0x20f);switch(_0x2acf93){case'matching_item':const _0x4b8069=_0x1d8493||'ไม่ได้ตอบ',_0x38a111=_0x178c84['correctResponse'];_0x592f43+=_0x4a4176(0x548)+(!_0x113302?'line-through\x20text-red-700':'')+'\x22>'+_0x4b8069+_0x4a4176(0x12f);!_0x113302&&(_0x592f43+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x38a111+_0x4a4176(0x56d));break;case _0x4a4176(0xa5):_0x592f43+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x1d8493||_0x4a4176(0x30d))+_0x4a4176(0x56d),_0x592f43+=_0x4a4176(0x373)+_0x178c84['idealAnswer']+_0x4a4176(0x56d);break;case _0x4a4176(0x5cc):_0x592f43+=_0x4a4176(0x20c)+(_0x178c84['correctAnswer']===!![]?_0x4a4176(0x4fd):'')+'\x20'+(_0x1d8493===_0x4a4176(0x1e1)&&!_0x113302?_0x4a4176(0x51f):'')+'\x22>ใช่</p>',_0x592f43+='<p\x20class=\x22'+(_0x178c84[_0x4a4176(0x62b)]===![]?_0x4a4176(0x4fd):'')+'\x20'+(_0x1d8493==='false'&&!_0x113302?_0x4a4176(0x51f):'')+_0x4a4176(0x158);break;default:_0x592f43+=_0x178c84[_0x4a4176(0x638)][_0x4a4176(0x182)]((_0x2e525f,_0x563d62)=>{const _0x19244f=_0x4a4176;let _0x336b0e='',_0x305574='';if(_0x563d62===_0x178c84[_0x19244f(0x18c)])_0x336b0e=_0x19244f(0x4fd),_0x305574='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x563d62===_0x1d8493&&(_0x336b0e='font-bold\x20text-red-700\x20line-through',_0x305574=_0x19244f(0x1c6));return _0x19244f(0x418)+_0x336b0e+'\x22>'+_0x305574+_0x2e525f+'</div>';})[_0x4a4176(0x7df)]('');break;}_0x592f43+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x178c84[_0x4a4176(0xfc)]||_0x4a4176(0x501))+'</div>';if(!_0x113302){const _0xbd047b=_0x178c84[_0x4a4176(0x31a)]||_0x178c84['questionText'];_0x592f43+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0xbd047b)+_0x4a4176(0x276);}_0x592f43+=_0x4a4176(0xdc);}),studentResultArea['innerHTML']=_0x592f43,renderEarnedBadges(_0xbd8bed,'earned-badges-container'),studentResultArea[_0xbdbeeb(0x4ba)][_0xbdbeeb(0x4c3)](_0xbdbeeb(0x199)),studentQuizArea['classList'][_0xbdbeeb(0x688)]('hidden'),setupResultScreenBackButton(_0x2cd6f0);if(window[_0xbdbeeb(0x428)])window[_0xbdbeeb(0x428)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x5abc70,_0x10c380,_0x49610d,_0xbda377){const _0xaeafd4=_0x31a0a6,_0x1ead9c=_0xbda377>0x0?_0x5abc70/_0xbda377*0x64:0x0,_0x307be4=currentDisplayedQuiz[_0xaeafd4(0x37f)]?.['passingScore']??-0x1,_0x249d6d=currentDisplayedQuiz[_0xaeafd4(0x175)]===!![];let _0x574508='';if(_0x249d6d||_0x307be4!==-0x1){let _0x5e9561;_0x249d6d?_0x5e9561=_0x5abc70===_0xbda377:_0x5e9561=_0x5abc70>=_0x307be4;const _0x48c3d8=_0x5e9561?'bg-green-100\x20text-green-800':_0xaeafd4(0x2ae),_0x26b076=_0x5e9561?_0xaeafd4(0x75b):_0xaeafd4(0x77a);_0x574508='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x48c3d8+'\x22>'+_0x26b076+_0xaeafd4(0x56d);}let _0x81bba5=_0xaeafd4(0x5da)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x5abc70+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0xbda377+_0xaeafd4(0x294)+_0x574508+_0xaeafd4(0x588)+_0x10c380+_0xaeafd4(0x4d7)+_0x1ead9c[_0xaeafd4(0x4b6)](0x0)+_0xaeafd4(0x511);studentResultArea[_0xaeafd4(0x4ca)]=_0x81bba5,renderEarnedBadges(_0x49610d,'earned-badges-container'),studentResultArea['classList'][_0xaeafd4(0x4c3)](_0xaeafd4(0x199)),studentQuizArea[_0xaeafd4(0x4ba)][_0xaeafd4(0x688)]('hidden'),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x126972=_0x31a0a6;let _0xcd3b0e=_0x126972(0x648)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x126972(0x4ca)]=_0xcd3b0e,studentResultArea['classList'][_0x126972(0x4c3)](_0x126972(0x199)),studentQuizArea['classList'][_0x126972(0x688)]('hidden'),document[_0x126972(0x75f)]('back-to-home-manual-release')[_0x126972(0x670)](_0x126972(0xce),()=>{const _0x5cca71=_0x126972;showView(_0x5cca71(0x676)),document[_0x5cca71(0x75f)](_0x5cca71(0x64b))[_0x5cca71(0x3a5)]='';});}function renderEarnedBadges(_0x1a9e0e,_0x5c7cf2){const _0x5352fe=_0x31a0a6,_0x120fd0=document['getElementById'](_0x5c7cf2);if(!_0x120fd0||!_0x1a9e0e||_0x1a9e0e[_0x5352fe(0x299)]===0x0)return;let _0x377c31='';_0x1a9e0e[_0x5352fe(0x748)]((_0x47e24f,_0x4e27f9)=>{const _0x5787e2=_0x5352fe,_0x3d4396=Object['values'](BADGES)['find'](_0x356c9d=>_0x356c9d['id']===_0x47e24f);_0x3d4396&&(_0x377c31+=_0x5787e2(0x38e)+_0x4e27f9*0.2+_0x5787e2(0x74a)+_0x3d4396[_0x5787e2(0x512)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3d4396[_0x5787e2(0x6d6)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x3d4396[_0x5787e2(0x248)]+_0x5787e2(0x371));}),_0x120fd0[_0x5352fe(0x4ca)]=_0x377c31;}function startPresentation(_0x411104){const _0x1b3035=_0x31a0a6;currentQuizData=getShuffledQuiz(_0x411104),currentPresentationSlide=0x0,presentationModal[_0x1b3035(0xc5)]['display']=_0x1b3035(0x65f),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x148ddd=_0x31a0a6;document[_0x148ddd(0x57c)]&&document[_0x148ddd(0x76f)](),presentationModal[_0x148ddd(0xc5)][_0x148ddd(0x52b)]=_0x148ddd(0x7e9);}function renderPresentationSlide(_0x380be2){const _0x48efc3=_0x31a0a6,_0x1f5dc7=document[_0x48efc3(0x75f)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x48efc3(0x3a0)]||!currentQuizData['questions'][_0x380be2]){_0x1f5dc7[_0x48efc3(0x4ca)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x529ce0=currentQuizData[_0x48efc3(0x3a0)][_0x380be2],_0x48b32a=_0x529ce0[_0x48efc3(0x561)]||currentQuizData[_0x48efc3(0x1f6)];_0x1f5dc7[_0x48efc3(0x4ca)]='';let _0x1c4cb5=_0x48efc3(0x49d)+(_0x529ce0[_0x48efc3(0x68d)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x529ce0[_0x48efc3(0x68d)]+_0x48efc3(0xdc):'')+_0x48efc3(0x533)+(_0x380be2+0x1)+'.\x20'+(_0x529ce0[_0x48efc3(0x31a)]||_0x529ce0[_0x48efc3(0x149)])+_0x48efc3(0x54d);switch(_0x48b32a){case _0x48efc3(0x6bc):_0x1c4cb5+=_0x529ce0[_0x48efc3(0x113)][_0x48efc3(0x182)](_0x3fc06e=>_0x48efc3(0x7a9)+_0x3fc06e+_0x48efc3(0x1c4))[_0x48efc3(0x7df)]('');break;case _0x48efc3(0x5cc):_0x1c4cb5+=_0x48efc3(0xda),_0x1c4cb5+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x48efc3(0x290):case _0x48efc3(0xa5):_0x1c4cb5+=_0x48efc3(0x716);break;case'fill_in_the_blank':case _0x48efc3(0xff):default:_0x1c4cb5+=_0x529ce0[_0x48efc3(0x638)][_0x48efc3(0x182)]((_0x53663f,_0x3cc591)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x3cc591+_0x48efc3(0x5ea)+_0x53663f+_0x48efc3(0x1c4))[_0x48efc3(0x7df)]('');break;}_0x1c4cb5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x529ce0[_0x48efc3(0xfc)]||_0x48efc3(0x501))+_0x48efc3(0x6d0),_0x1f5dc7[_0x48efc3(0x4ca)]=_0x1c4cb5;if(window['MathJax'])window[_0x48efc3(0x428)][_0x48efc3(0x3d6)]([_0x1f5dc7]);document[_0x48efc3(0x655)](_0x48efc3(0x6cc))[_0x48efc3(0x748)](_0x2886a2=>{const _0x5cfc3f=_0x48efc3;_0x2886a2[_0x5cfc3f(0x670)](_0x5cfc3f(0xce),_0x4002f9=>revealAnswerForPresentation(_0x380be2,_0x4002f9[_0x5cfc3f(0x3ee)]));});const _0x40a499=document['getElementById']('check-presentation-answer-btn');_0x40a499&&_0x40a499[_0x48efc3(0x670)](_0x48efc3(0xce),()=>checkShortAnswerForPresentation(_0x380be2)),document[_0x48efc3(0x75f)](_0x48efc3(0x237))[_0x48efc3(0x4e9)]=_0x48efc3(0xdb)+(_0x380be2+0x1)+'\x20/\x20'+currentQuizData[_0x48efc3(0x3a0)][_0x48efc3(0x299)],document[_0x48efc3(0x75f)]('prev-question-btn')[_0x48efc3(0x108)]=_0x380be2===0x0,document[_0x48efc3(0x75f)](_0x48efc3(0x6bd))['disabled']=_0x380be2===currentQuizData[_0x48efc3(0x3a0)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x4b42f2){const _0x4a1090=_0x31a0a6,_0x41a03d=currentQuizData['questions'][_0x4b42f2],_0x19fb6a=document[_0x4a1090(0x75f)](_0x4a1090(0xe6)),_0x471d22=document[_0x4a1090(0x75f)](_0x4a1090(0x189)),_0x3adcac=document[_0x4a1090(0x75f)](_0x4a1090(0x6e8)),_0x25ee56=document[_0x4a1090(0x75f)]('presentation-explanation');if(!_0x19fb6a||!_0x471d22||!_0x3adcac||!_0x25ee56)return;const _0x4347aa=_0x19fb6a[_0x4a1090(0x3a5)]['trim']();if(_0x4347aa==='')return;_0x471d22[_0x4a1090(0x108)]=!![],_0x471d22[_0x4a1090(0x4ca)]=_0x4a1090(0x799),_0x19fb6a[_0x4a1090(0x108)]=!![];const _0x1f7950=await gradeShortAnswer(_0x4347aa,_0x41a03d);_0x1f7950?_0x3adcac[_0x4a1090(0x4ca)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x3adcac['innerHTML']=_0x4a1090(0x703)+_0x41a03d[_0x4a1090(0x590)]+')',_0x3adcac[_0x4a1090(0x4ba)]['remove'](_0x4a1090(0x199)),_0x25ee56[_0x4a1090(0x4ba)][_0x4a1090(0x4c3)]('hidden'),_0x471d22[_0x4a1090(0x4ba)][_0x4a1090(0x688)](_0x4a1090(0x199));}function revealAnswerForPresentation(_0xcdd75f,_0x3c705b){const _0x4749fe=_0x31a0a6,_0x141b72=currentQuizData[_0x4749fe(0x3a0)][_0xcdd75f],_0x511c9f=_0x141b72[_0x4749fe(0x561)]||currentQuizData[_0x4749fe(0x1f6)];document['querySelectorAll'](_0x4749fe(0x6cc))['forEach'](_0x3d4874=>{const _0xfdcf94=_0x4749fe;_0x3d4874[_0xfdcf94(0x108)]=!![],_0x3d4874[_0xfdcf94(0x4ba)][_0xfdcf94(0x4c3)](_0xfdcf94(0x627));let _0x51c6f0=![];if(_0x511c9f===_0xfdcf94(0xff)||_0x511c9f===_0xfdcf94(0x11a)){const _0x25de37=parseInt(_0x3d4874['dataset']['index']);_0x51c6f0=_0x25de37===_0x141b72[_0xfdcf94(0x18c)];}else{if(_0x511c9f===_0xfdcf94(0x5cc)){const _0x287f7d=_0x3d4874[_0xfdcf94(0x384)][_0xfdcf94(0x61d)]===_0xfdcf94(0x1e1);_0x51c6f0=_0x287f7d===_0x141b72['correctAnswer'];}else _0x511c9f==='matching_item'&&(_0x51c6f0=_0x3d4874[_0xfdcf94(0x4e9)][_0xfdcf94(0x74d)]()===_0x141b72[_0xfdcf94(0x6ad)]);}_0x51c6f0?_0x3d4874['classList'][_0xfdcf94(0x688)](_0xfdcf94(0x465),_0xfdcf94(0x7b7),'border-green-700'):_0x3d4874['classList'][_0xfdcf94(0x688)](_0xfdcf94(0x1bd));}),_0x3c705b[_0x4749fe(0x4ba)]['remove']('opacity-50');let _0x343133=![];if(_0x511c9f===_0x4749fe(0xff))_0x343133=parseInt(_0x3c705b['dataset'][_0x4749fe(0x10e)])===_0x141b72[_0x4749fe(0x18c)];else{if(_0x511c9f===_0x4749fe(0x5cc))_0x343133=_0x3c705b[_0x4749fe(0x384)]['answer']===_0x4749fe(0x1e1)===_0x141b72[_0x4749fe(0x62b)];else _0x511c9f==='matching_item'&&(_0x343133=_0x3c705b[_0x4749fe(0x4e9)]['trim']()===_0x141b72[_0x4749fe(0x6ad)]);}!_0x343133&&_0x3c705b[_0x4749fe(0x4ba)][_0x4749fe(0x688)]('bg-red-500','text-white',_0x4749fe(0x2a4)),document['getElementById'](_0x4749fe(0x96))[_0x4749fe(0x4ba)][_0x4749fe(0x4c3)]('hidden');}function startWholeQuizTimer(_0x498e8b){const _0xcceacf=_0x31a0a6,_0x39f4af=document[_0xcceacf(0x75f)](_0xcceacf(0x5cd));if(!_0x39f4af)return;const _0x4371a8=Date[_0xcceacf(0x552)]()+_0x498e8b*0x3c*0x3e8;_0x39f4af[_0xcceacf(0x4ca)]=_0xcceacf(0x5e1);const _0x4adf4d=document[_0xcceacf(0x75f)](_0xcceacf(0xad));quizTimerInterval=setInterval(()=>{const _0x42bfb7=_0xcceacf,_0x8a91a4=_0x4371a8-Date[_0x42bfb7(0x552)]();if(_0x8a91a4<=0x0)clearInterval(quizTimerInterval),_0x4adf4d[_0x42bfb7(0x4e9)]=_0x42bfb7(0x3f4),showMessage(_0x42bfb7(0x317)),handleSubmitQuiz(null);else{const _0x5b3f8f=Math[_0x42bfb7(0x449)](_0x8a91a4/0x3e8/0x3c%0x3c)[_0x42bfb7(0x798)]()[_0x42bfb7(0x5c5)](0x2,'0'),_0x336b9d=Math['floor'](_0x8a91a4/0x3e8%0x3c)['toString']()['padStart'](0x2,'0');_0x4adf4d[_0x42bfb7(0x4e9)]=_0x5b3f8f+':'+_0x336b9d;}},0x3e8);}function renderPerQuestionView(){const _0x42b6d8=_0x31a0a6;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3dbc5e=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x2e890f=_0x3dbc5e[_0x42b6d8(0x561)]||currentDisplayedQuiz[_0x42b6d8(0x1f6)];let _0xfc0fb1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x42b6d8(0x4dc)+currentDisplayedQuiz[_0x42b6d8(0x3a0)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x42b6d8(0x3a9)?_0x42b6d8(0x7d7):'')+_0x42b6d8(0x4e2)+currentDisplayedQuiz['topic']+_0x42b6d8(0x44d)+(currentQuestionIndex===currentDisplayedQuiz[_0x42b6d8(0x3a0)][_0x42b6d8(0x299)]-0x1?_0x42b6d8(0x2a8):_0x42b6d8(0x2e7))+_0x42b6d8(0x7bd);studentQuizArea[_0x42b6d8(0x4ca)]=_0xfc0fb1;let _0x251d1e='',_0x7b6fbd='';switch(_0x2e890f){case _0x42b6d8(0x6bc):_0x251d1e=currentQuestionIndex+0x1+'.\x20'+_0x3dbc5e[_0x42b6d8(0x31a)],_0x7b6fbd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3dbc5e['allResponses'][_0x42b6d8(0x182)](_0x185bfa=>'<option\x20value=\x22'+_0x185bfa+'\x22>'+_0x185bfa+_0x42b6d8(0x6ed))[_0x42b6d8(0x7df)]('')+_0x42b6d8(0x128);break;case'true_false':_0x251d1e=currentQuestionIndex+0x1+'.\x20'+_0x3dbc5e[_0x42b6d8(0x149)],_0x7b6fbd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case'fill_in_no_choices':_0x251d1e=currentQuestionIndex+0x1+'.\x20'+_0x3dbc5e[_0x42b6d8(0x149)],_0x7b6fbd=_0x42b6d8(0x540);break;case _0x42b6d8(0xff):case _0x42b6d8(0x5b3):default:_0x251d1e=currentQuestionIndex+0x1+'.\x20'+_0x3dbc5e[_0x42b6d8(0x149)],_0x7b6fbd=_0x3dbc5e[_0x42b6d8(0x638)][_0x42b6d8(0x182)]((_0x213fd1,_0x3c22de)=>_0x42b6d8(0x2a3)+_0x3c22de+_0x42b6d8(0x5b2)+_0x3c22de+_0x42b6d8(0x617)+_0x3c22de+'\x22>'+_0x213fd1+_0x42b6d8(0x307))[_0x42b6d8(0x7df)]('');break;}_0x3dbc5e[_0x42b6d8(0x68d)]&&(_0x251d1e+=_0x42b6d8(0x2a9)+_0x3dbc5e[_0x42b6d8(0x68d)]+'</div>');document['getElementById']('per-question-text')[_0x42b6d8(0x4ca)]=_0x251d1e,document[_0x42b6d8(0x75f)](_0x42b6d8(0x611))[_0x42b6d8(0x4ca)]=_0x7b6fbd;if(currentMode===_0x42b6d8(0x3a9)){const _0x13e3e1=document['getElementById']('cancel-test-btn');if(_0x13e3e1)_0x13e3e1['addEventListener']('click',cancelAdminTest);}document[_0x42b6d8(0x75f)](_0x42b6d8(0x9c))[_0x42b6d8(0x670)](_0x42b6d8(0xce),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax'][_0x42b6d8(0x3d6)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3fd632=_0x31a0a6,_0x18a492=currentDisplayedQuiz[_0x3fd632(0x37f)][_0x3fd632(0x7b6)],_0x1f3d34=document['getElementById'](_0x3fd632(0x4cf));if(!_0x1f3d34)return;let _0x2b20ef=_0x18a492;_0x1f3d34[_0x3fd632(0x4ca)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x2b20ef+_0x3fd632(0x623);const _0x20cea8=document[_0x3fd632(0x75f)](_0x3fd632(0x4d5)),_0x3f8b84=document[_0x3fd632(0x75f)](_0x3fd632(0x1a3));perQuestionTimerInterval=setInterval(()=>{const _0x131444=_0x3fd632;_0x2b20ef--;const _0x8bb1e6=_0x2b20ef/_0x18a492*0x64;_0x20cea8[_0x131444(0xc5)]['width']=_0x8bb1e6+'%',_0x3f8b84[_0x131444(0x4e9)]=_0x2b20ef,_0x2b20ef<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x131444(0x5fe)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x259a24=![]){const _0x39a0af=_0x31a0a6;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x195295=null;if(!_0x259a24){const _0x311b7a=currentDisplayedQuiz[_0x39a0af(0x3a0)][currentQuestionIndex],_0x5bed0c=_0x311b7a[_0x39a0af(0x561)]||currentDisplayedQuiz[_0x39a0af(0x1f6)];if(_0x5bed0c===_0x39a0af(0xa5)||_0x5bed0c==='fill_in_no_choices'){const _0xe0556f=document[_0x39a0af(0x440)]('#per-question-options\x20textarea');_0x195295=_0xe0556f?_0xe0556f[_0x39a0af(0x3a5)][_0x39a0af(0x74d)]():'';}else{if(_0x5bed0c===_0x39a0af(0x6bc)){const _0xd41ae5=document[_0x39a0af(0x440)](_0x39a0af(0x509));_0x195295=_0xd41ae5?_0xd41ae5['value']:'';}else{const _0x4893fc=document[_0x39a0af(0x440)](_0x39a0af(0x711));if(_0x4893fc){const _0x50b617=_0x4893fc[_0x39a0af(0x3a5)];_0x195295=!isNaN(parseInt(_0x50b617,0xa))&&_0x50b617[_0x39a0af(0x74d)]()!==''?parseInt(_0x50b617,0xa):_0x50b617;}}}}studentAnswersPerQuestion[_0x39a0af(0x2b0)](_0x195295),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x39a0af(0x3a0)][_0x39a0af(0x299)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x110eae=_0x31a0a6,_0x484812=currentDisplayedQuiz[_0x110eae(0x3a0)][_0x110eae(0x530)](_0xcbec2a=>_0xcbec2a[_0x110eae(0x561)]==='short_answer');_0x484812?showMessage(_0x110eae(0x65c)):showMessage(_0x110eae(0x2e9));const _0x440cca=currentQuizData['id'],_0x36e17a=doc(db,'artifacts/'+appId+_0x110eae(0x7ad)+_0x440cca+_0x110eae(0x5b6),currentStudentName),_0x5721b7=await getDoc(_0x36e17a),_0x3bace3=_0x5721b7[_0x110eae(0x1a9)]()?_0x5721b7[_0x110eae(0xa7)]():{},_0x2bd896=_0x3bace3['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2bd896);}function getResultsFilename(){const _0x514459=_0x31a0a6,_0x3dcc38=document[_0x514459(0x75f)](_0x514459(0x705))[_0x514459(0x4e9)]['replace'](/[^a-z0-9]/gi,'_')[_0x514459(0x57d)]();return'results_'+(_0x3dcc38||_0x514459(0x6fd));}function exportResultsAsImage(){const _0x5a226a=_0x31a0a6,_0x2aa013=document[_0x5a226a(0x75f)](_0x5a226a(0x194));showMessage(_0x5a226a(0x61b)),html2canvas(_0x2aa013)[_0x5a226a(0x626)](_0x21169b=>{const _0x25840e=_0x5a226a,_0x1315ca=document[_0x25840e(0x71c)]('a');_0x1315ca['download']=getResultsFilename()+_0x25840e(0x391),_0x1315ca['href']=_0x21169b[_0x25840e(0x380)](_0x25840e(0x41c)),_0x1315ca[_0x25840e(0xce)](),messageModal['classList']['add'](_0x25840e(0x199));});}function exportResultsAsPDF(){const _0x3f7274=_0x31a0a6,{jsPDF:_0x34fd5a}=window['jspdf'],_0x1c5598=new _0x34fd5a();_0x1c5598[_0x3f7274(0x358)](_0x3f7274(0x3c7),_0x3f7274(0x4c1)),_0x1c5598[_0x3f7274(0x90)]({'html':_0x3f7274(0x517)}),_0x1c5598[_0x3f7274(0x102)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0xbefe7f=_0x31a0a6,_0x5d601d=_0xbefe7f(0xbc)+_0xbefe7f(0x67d)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0xbefe7f(0x6b4),_0x2cc64f=_0xbefe7f(0x5af),_0x51b311=_0x5d601d+document['getElementById'](_0xbefe7f(0x194))[_0xbefe7f(0x4ca)]+_0x2cc64f,_0x5176ae='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x51b311),_0x5d9198=document[_0xbefe7f(0x71c)]('a');document[_0xbefe7f(0x115)]['appendChild'](_0x5d9198),_0x5d9198[_0xbefe7f(0x7d4)]=_0x5176ae,_0x5d9198[_0xbefe7f(0xc1)]=getResultsFilename()+'.doc',_0x5d9198[_0xbefe7f(0xce)](),document['body'][_0xbefe7f(0x333)](_0x5d9198);}function exportResultsAsExcel(){const _0x2dc2bd=_0x31a0a6,_0x424e50=document['getElementById'](_0x2dc2bd(0x796));let _0x119f1d=[];for(let _0x56ee17=0x0;_0x56ee17<_0x424e50['rows'][_0x2dc2bd(0x299)];_0x56ee17++){let _0xf4f364=[],_0x18a054=_0x424e50[_0x2dc2bd(0x805)][_0x56ee17]['querySelectorAll'](_0x2dc2bd(0x5fa));for(let _0x51d463=0x0;_0x51d463<_0x18a054[_0x2dc2bd(0x299)];_0x51d463++){_0xf4f364['push']('\x22'+_0x18a054[_0x51d463][_0x2dc2bd(0xef)][_0x2dc2bd(0x6c1)](/"/g,'\x22\x22')+'\x22');}_0x119f1d[_0x2dc2bd(0x2b0)](_0xf4f364['join'](','));}const _0x46ca8f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x119f1d[_0x2dc2bd(0x7df)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x478abe=document['createElement']('a');_0x478abe[_0x2dc2bd(0x7d4)]=URL[_0x2dc2bd(0x757)](_0x46ca8f),_0x478abe[_0x2dc2bd(0xc1)]=getResultsFilename()+'.csv',_0x478abe['click']();}function exportTableAsImage(_0x139abb,_0x1ad0d8){const _0x3efb7f=_0x31a0a6,_0x38e436=document['getElementById'](_0x139abb);if(!_0x38e436){showMessage(_0x3efb7f(0xc7));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x38e436)[_0x3efb7f(0x626)](_0x4d376f=>{const _0x36985f=_0x3efb7f,_0x379e13=document[_0x36985f(0x71c)]('a');_0x379e13[_0x36985f(0xc1)]=_0x1ad0d8+'.png',_0x379e13[_0x36985f(0x7d4)]=_0x4d376f[_0x36985f(0x380)](_0x36985f(0x41c)),_0x379e13[_0x36985f(0xce)](),messageModal['classList'][_0x36985f(0x688)](_0x36985f(0x199));});}function exportTableAsPDF(_0xdb769b,_0x3978e6){const _0x3b2c28=_0x31a0a6,{jsPDF:_0x87a83}=window[_0x3b2c28(0x5a5)],_0x3e6584=new _0x87a83();_0x3e6584['setFont'](_0x3b2c28(0x3c7),_0x3b2c28(0x4c1)),_0x3e6584[_0x3b2c28(0x90)]({'html':'#'+_0xdb769b}),_0x3e6584[_0x3b2c28(0x102)](_0x3978e6+'.pdf');}function exportTableAsWord(_0x177d96,_0x588edc){const _0x23079b=_0x31a0a6,_0x2117df=document['getElementById'](_0x177d96);if(!_0x2117df){showMessage(_0x23079b(0xc7));return;}const _0x2649e5=_0x23079b(0xbc)+_0x23079b(0x67d)+_0x23079b(0x92)+_0x23079b(0x6b4),_0x4640cd='</body></html>',_0x54f8de=_0x2649e5+_0x2117df[_0x23079b(0x4ca)]+_0x4640cd,_0x4d3186=_0x23079b(0x4ce)+encodeURIComponent(_0x54f8de),_0x9b19d1=document[_0x23079b(0x71c)]('a');document[_0x23079b(0x115)][_0x23079b(0xfa)](_0x9b19d1),_0x9b19d1[_0x23079b(0x7d4)]=_0x4d3186,_0x9b19d1[_0x23079b(0xc1)]=_0x588edc+'.doc',_0x9b19d1[_0x23079b(0xce)](),document[_0x23079b(0x115)][_0x23079b(0x333)](_0x9b19d1);}function exportTableAsExcel(_0x4a1023,_0x3ea8e9){const _0x11c974=_0x31a0a6,_0x40b2d8=document[_0x11c974(0x75f)](_0x4a1023);if(!_0x40b2d8){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x365be0=[];for(let _0x4209b1=0x0;_0x4209b1<_0x40b2d8[_0x11c974(0x805)][_0x11c974(0x299)];_0x4209b1++){let _0x2e0d6a=[],_0x3996da=_0x40b2d8[_0x11c974(0x805)][_0x4209b1]['querySelectorAll'](_0x11c974(0x5fa));for(let _0x696b7c=0x0;_0x696b7c<_0x3996da[_0x11c974(0x299)];_0x696b7c++){_0x2e0d6a[_0x11c974(0x2b0)]('\x22'+_0x3996da[_0x696b7c][_0x11c974(0xef)][_0x11c974(0x6c1)](/"/g,'\x22\x22')+'\x22');}_0x365be0[_0x11c974(0x2b0)](_0x2e0d6a[_0x11c974(0x7df)](','));}const _0x449652=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x365be0[_0x11c974(0x7df)]('\x0a')],{'type':_0x11c974(0x43e)}),_0x50fbb9=document['createElement']('a');_0x50fbb9[_0x11c974(0x7d4)]=URL[_0x11c974(0x757)](_0x449652),_0x50fbb9[_0x11c974(0xc1)]=_0x3ea8e9+_0x11c974(0x6b8),_0x50fbb9['click']();}async function renderAnalytics(_0x3a504c,_0x299dbb){const _0x3fdf59=_0x31a0a6,_0x387df9=currentProjectData[_0x3fdf59(0x469)][_0x3fdf59(0x299)],_0x29643f=_0x299dbb['length'],_0x28db3c=_0x387df9-_0x29643f,_0x2be966=_0x387df9>0x0?_0x29643f/_0x387df9*0x64:0x0,_0x1abfb4=_0x299dbb[_0x3fdf59(0x182)](_0x4b0826=>_0x4b0826['latestScore']),_0x3cd5a9=_0x1abfb4[_0x3fdf59(0x299)]>0x0?_0x1abfb4[_0x3fdf59(0x4eb)]((_0x5d801d,_0x5155b6)=>_0x5d801d+_0x5155b6,0x0)/_0x1abfb4[_0x3fdf59(0x299)]:0x0,_0x37baa4=_0x3a504c[_0x3fdf59(0x3a0)][_0x3fdf59(0x299)],_0x348253=_0x37baa4>0x0?_0x3cd5a9/_0x37baa4*0x64:0x0,_0x1e5c31=calculateItemAnalysis(_0x3a504c,_0x299dbb),_0x1dd11f=calculateReliabilityKR20(_0x3a504c,_0x299dbb,_0x1e5c31['perQuestionStats']);let _0x1031a2='';if(_0x1dd11f!==null){let _0x300f54='';if(_0x1dd11f>=0.9)_0x300f54='ยอดเยี่ยม';else{if(_0x1dd11f>=0.8)_0x300f54='ดีมาก';else{if(_0x1dd11f>=0.7)_0x300f54='ดี';else{if(_0x1dd11f>=0.6)_0x300f54=_0x3fdf59(0x7e8);else _0x300f54=_0x3fdf59(0x2c0);}}}_0x1031a2=_0x3fdf59(0x7bb)+_0x1dd11f[_0x3fdf59(0x4b6)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x300f54+_0x3fdf59(0x439);}const _0x1b7a8b=document[_0x3fdf59(0x75f)](_0x3fdf59(0x2be));_0x1b7a8b[_0x3fdf59(0x4ca)]=_0x3fdf59(0x21f)+_0x2be966[_0x3fdf59(0x4b6)](0x0)+_0x3fdf59(0x35c)+_0x29643f+'/'+_0x387df9+_0x3fdf59(0x70d)+_0x3cd5a9[_0x3fdf59(0x4b6)](0x2)+_0x3fdf59(0x127)+_0x348253[_0x3fdf59(0x4b6)](0x0)+_0x3fdf59(0xb4)+(_0x1abfb4[_0x3fdf59(0x299)]>0x0?Math['max'](..._0x1abfb4):_0x3fdf59(0x183))+_0x3fdf59(0x6e7)+(_0x1abfb4[_0x3fdf59(0x299)]>0x0?Math[_0x3fdf59(0x668)](..._0x1abfb4):_0x3fdf59(0x183))+_0x3fdf59(0x430)+_0x1031a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pa-goal-tracker-container\x22\x20class=\x22col-span-2\x20md:col-span-4\x20bg-indigo-50\x20p-4\x20rounded-lg\x20border\x20border-indigo-200\x22></div>\x0a\x20\x20\x20\x20';const _0x31b2ac=document[_0x3fdf59(0x75f)](_0x3fdf59(0x254));let _0x1eb435=_0x3fdf59(0x7a4);const _0x1d49d8=_0x3a504c['settings']?.[_0x3fdf59(0x4f0)];if(_0x1d49d8===undefined||_0x1d49d8===null)_0x1eb435+='<p\x20class=\x22text-sm\x20text-red-600\x22>ยังไม่ได้ตั้งค่า\x20\x22คะแนนที่ผ่าน\x22\x20สำหรับแบบทดสอบนี้\x20ทำให้ไม่สามารถวิเคราะห์เป้าหมาย\x20PA\x20ได้</p>';else{const _0x24a7f8=_0x299dbb[_0x3fdf59(0x5e5)](_0x420c4c=>_0x420c4c[_0x3fdf59(0x7dd)]>=_0x1d49d8)[_0x3fdf59(0x299)],_0x1acb68=_0x387df9>0x0?_0x24a7f8/_0x387df9*0x64:0x0,_0x1c6300=_0x1acb68>=0x46;_0x1eb435+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20'+(_0x1c6300?'text-green-500':_0x3fdf59(0x6c8))+_0x3fdf59(0x677)+(_0x1c6300?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x3fdf59(0x411))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>เป้าหมาย:\x20นักเรียนผ่านเกณฑ์\x20≥\x2070%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>สถานะ:</b>\x20'+(_0x1c6300?_0x3fdf59(0xa2):_0x3fdf59(0x5c7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ปัจจุบัน:\x20'+_0x1acb68[_0x3fdf59(0x4b6)](0x1)+_0x3fdf59(0x57b)+_0x387df9+'\x20คน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x3a504c[_0x3fdf59(0x7c9)]===_0x3fdf59(0x808)&&_0x3a504c['pairedQuizId']){const _0x28d647=doc(db,_0x3fdf59(0x678)+appId+_0x3fdf59(0x132),_0x3a504c[_0x3fdf59(0x129)]),_0x22a874=collection(db,'artifacts/'+appId+_0x3fdf59(0x7ad)+_0x3a504c[_0x3fdf59(0x129)]+_0x3fdf59(0x5b6)),[_0x35265e,_0x5dbe1b]=await Promise[_0x3fdf59(0x7b4)]([getDoc(_0x28d647),getDocs(_0x22a874)]);if(_0x35265e['exists']()){const _0x576957=_0x35265e['data'](),_0x26ebc7=_0x5dbe1b['docs'][_0x3fdf59(0x182)](_0x426cba=>_0x426cba['data']()),_0x41cd30=_0x576957[_0x3fdf59(0x37f)]?.[_0x3fdf59(0x4f0)],_0x1bd6fb=_0x26ebc7[_0x3fdf59(0x5e5)](_0x15358c=>_0x15358c['firstScore']<_0x41cd30)[_0x3fdf59(0x182)](_0x220c15=>_0x220c15[_0x3fdf59(0x1c3)]),_0x69aaa4=_0x1bd6fb['length'],_0x5928e5=_0x299dbb[_0x3fdf59(0x5e5)](_0x121f87=>_0x1bd6fb['includes'](_0x121f87[_0x3fdf59(0x1c3)])&&_0x121f87[_0x3fdf59(0x7dd)]>=_0x1d49d8)['length'],_0x1fc8a3=_0x69aaa4>0x0?_0x5928e5/_0x69aaa4*0x64:0x0,_0x2ee6f6=_0x1fc8a3>=0x46;_0x1eb435+=_0x3fdf59(0x732)+(_0x2ee6f6?_0x3fdf59(0x210):_0x3fdf59(0x6c8))+_0x3fdf59(0x5ea)+(_0x2ee6f6?_0x3fdf59(0x581):_0x3fdf59(0x411))+_0x3fdf59(0x2c8)+(_0x2ee6f6?_0x3fdf59(0xa2):_0x3fdf59(0x5c7))+_0x3fdf59(0x654)+_0x1fc8a3[_0x3fdf59(0x4b6)](0x1)+_0x3fdf59(0x6f4)+_0x69aaa4+_0x3fdf59(0x6a3);}}else{const _0xeee4ea=_0x299dbb['filter'](_0xd4bcb2=>_0xd4bcb2[_0x3fdf59(0xd5)]<_0x1d49d8),_0x1616c8=_0xeee4ea['filter'](_0x892947=>_0x892947[_0x3fdf59(0x5dc)]>=_0x1d49d8)['length'],_0x7e5226=_0xeee4ea[_0x3fdf59(0x299)]>0x0?_0x1616c8/_0xeee4ea[_0x3fdf59(0x299)]*0x64:0x0,_0x131865=_0x7e5226>=0x46;_0x1eb435+=_0x3fdf59(0x3eb)+(_0x131865?_0x3fdf59(0x210):_0x3fdf59(0x6c8))+_0x3fdf59(0x4c2)+(_0x131865?_0x3fdf59(0x581):_0x3fdf59(0x411))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>เป้าหมาย:\x20นักเรียนกลุ่มไม่ผ่านเกณฑ์\x20พัฒนาขึ้น\x20≥\x2070%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>สถานะ:</b>\x20'+(_0x131865?_0x3fdf59(0xa2):_0x3fdf59(0x5c7))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ปัจจุบัน:\x20'+_0x7e5226[_0x3fdf59(0x4b6)](0x1)+_0x3fdf59(0x6f4)+_0xeee4ea[_0x3fdf59(0x299)]+_0x3fdf59(0x1ba);}}_0x31b2ac[_0x3fdf59(0x4ca)]=_0x1eb435;const _0x141f22=document[_0x3fdf59(0x75f)](_0x3fdf59(0x34b));_0x141f22&&_0x141f22[_0x3fdf59(0x4c3)]();const _0x517392=_0x3fdf59(0x171);_0x1b7a8b[_0x3fdf59(0x29a)](_0x3fdf59(0x480),_0x517392);const _0x217aba=currentProjectData[_0x3fdf59(0x469)]||[];renderSubmissionChart(_0x29643f,_0x28db3c,_0x299dbb,_0x217aba),renderScoreDistributionChart(_0x299dbb,_0x37baa4),renderQuestionAnalytics(_0x3a504c,_0x299dbb,_0x217aba),renderInterestingStats(_0x3a504c,_0x299dbb);}async function handleExportLessonPDF(){const _0x403a71=_0x31a0a6,_0xca9f59=document[_0x403a71(0x75f)](_0x403a71(0x180)),_0x2bffc1=document[_0x403a71(0x75f)](_0x403a71(0x46e))[_0x403a71(0x4e9)],_0x5d02e2=window[_0x403a71(0x340)]('',_0x403a71(0x4a1)),_0x354a3f=_0x403a71(0xf0)+_0x2bffc1+_0x403a71(0x143)+_0xca9f59[_0x403a71(0x4ca)]+_0x403a71(0x120);_0x5d02e2[_0x403a71(0x38d)][_0x403a71(0x26e)](_0x354a3f),_0x5d02e2[_0x403a71(0x38d)][_0x403a71(0x3be)](),_0x5d02e2[_0x403a71(0x203)]=function(){setTimeout(()=>{const _0x20afa8=_0x2770;_0x5d02e2[_0x20afa8(0x258)]();},0x5dc);};}function renderInterestingStats(_0x38eb0e,_0x55c99a){const _0x24d9ef=_0x31a0a6,_0x4b32b6=document[_0x24d9ef(0x75f)](_0x24d9ef(0x646));if(!_0x4b32b6)return;if(_0x55c99a[_0x24d9ef(0x299)]===0x0){_0x4b32b6[_0x24d9ef(0x4ca)]=_0x24d9ef(0x50b);return;}const _0x5d690b=_0x38eb0e[_0x24d9ef(0x3a0)][_0x24d9ef(0x182)]((_0x33f019,_0x395e7c)=>({'index':_0x395e7c+0x1,'text':_0x33f019['questionText']||_0x33f019['stem'],'correct':0x0}));_0x55c99a[_0x24d9ef(0x748)](_0x3e1d42=>{const _0x60b3c9=_0x24d9ef,_0x33036d=_0x3e1d42[_0x60b3c9(0x489)][_0x3e1d42[_0x60b3c9(0x489)][_0x60b3c9(0x299)]-0x1];_0x33036d&&_0x33036d[_0x60b3c9(0x737)]&&_0x33036d[_0x60b3c9(0x737)][_0x60b3c9(0x748)](_0x21cd51=>{const _0xd6a5b0=_0x60b3c9,_0x576f00=_0x5d690b['find'](_0x5eddec=>_0x5eddec[_0xd6a5b0(0x3e1)]===_0x21cd51[_0xd6a5b0(0x482)]);_0x21cd51['isCorrect']&&_0x576f00&&_0x576f00[_0xd6a5b0(0x5c2)]++;});});const _0x3a1f7b=_0x55c99a['length'],_0x4db697=Math['max'](..._0x5d690b['map'](_0x37c1a2=>_0x37c1a2[_0x24d9ef(0x5c2)])),_0x12edc3=Math[_0x24d9ef(0x668)](..._0x5d690b['map'](_0x1f377a=>_0x1f377a[_0x24d9ef(0x5c2)])),_0x26f753=_0x5d690b[_0x24d9ef(0x5e5)](_0x375f3b=>_0x375f3b[_0x24d9ef(0x5c2)]===_0x4db697)[_0x24d9ef(0x182)](_0x2efc1d=>_0x24d9ef(0x1a8)+_0x2efc1d[_0x24d9ef(0x10e)]),_0x259eda=_0x5d690b['filter'](_0xf1a53e=>_0xf1a53e[_0x24d9ef(0x5c2)]===_0x12edc3)[_0x24d9ef(0x182)](_0x3a4ba8=>'ข้อ\x20'+_0x3a4ba8[_0x24d9ef(0x10e)]),_0x20cc86=_0x55c99a['sort']((_0x320030,_0x1ccd77)=>_0x1ccd77[_0x24d9ef(0x7dd)]-_0x320030[_0x24d9ef(0x7dd)])[_0x24d9ef(0x5e5)]((_0x19b769,_0x1f4cee,_0x4f8d7d)=>_0x19b769[_0x24d9ef(0x7dd)]===_0x4f8d7d[0x0][_0x24d9ef(0x7dd)]),_0x3f87ed=_0x55c99a['sort']((_0x37b6a2,_0x2771ac)=>_0x37b6a2[_0x24d9ef(0x7dd)]-_0x2771ac[_0x24d9ef(0x7dd)])[_0x24d9ef(0x5e5)]((_0xdb14db,_0x2c3303,_0x29dbce)=>_0xdb14db[_0x24d9ef(0x7dd)]===_0x29dbce[0x0][_0x24d9ef(0x7dd)]),_0x10071f=_0x24d9ef(0x607)+_0x26f753['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x4db697+_0x24d9ef(0xe0)+_0x3a1f7b+_0x24d9ef(0x7fe)+_0x259eda['join'](',\x20')+_0x24d9ef(0x3a8)+(_0x3a1f7b-_0x12edc3)+'\x20/\x20'+_0x3a1f7b+_0x24d9ef(0x486)+_0x20cc86[_0x24d9ef(0x182)](_0xaf1023=>_0xaf1023[_0x24d9ef(0x1c3)])[_0x24d9ef(0x7df)](',\x20')+_0x24d9ef(0x601)+_0x20cc86[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x3f87ed[_0x24d9ef(0x182)](_0x3c9e21=>_0x3c9e21[_0x24d9ef(0x1c3)])[_0x24d9ef(0x7df)](',\x20')+_0x24d9ef(0x601)+_0x3f87ed[0x0]['latestScore']+_0x24d9ef(0xed);_0x4b32b6['innerHTML']=_0x10071f;}function renderSubmissionChart(_0x489f55,_0x5be291,_0xbe9c68,_0x4853a9){const _0x16fb8d=_0x31a0a6,_0x24627e=document[_0x16fb8d(0x75f)](_0x16fb8d(0x747))[_0x16fb8d(0x75a)]('2d'),_0x2328fb=_0xbe9c68['map'](_0x51857d=>_0x51857d['studentName']),_0x1778de=_0x4853a9[_0x16fb8d(0x5e5)](_0x4d5e53=>!_0x2328fb[_0x16fb8d(0x10c)](_0x4d5e53));chartInstances[_0x16fb8d(0x31d)]&&chartInstances['submission'][_0x16fb8d(0x202)](),chartInstances[_0x16fb8d(0x31d)]=new Chart(_0x24627e,{'type':_0x16fb8d(0x398),'data':{'labels':[_0x16fb8d(0x5a1),_0x16fb8d(0x121)],'datasets':[{'data':[_0x489f55,_0x5be291],'backgroundColor':[_0x16fb8d(0x7bc),_0x16fb8d(0x4d9)],'borderColor':[_0x16fb8d(0x3b4),_0x16fb8d(0x3b4)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x16fb8d(0x18d)},'tooltip':{'callbacks':{'label':function(_0x4e4f40){const _0x328377=_0x16fb8d;let _0x44a32e=_0x4e4f40[_0x328377(0x269)]||'';return _0x44a32e&&(_0x44a32e+=':\x20'),_0x44a32e+=_0x4e4f40[_0x328377(0x460)],_0x44a32e;},'afterLabel':function(_0x2d59bb){const _0x5b2e5e=_0x16fb8d;let _0x4733e5;return _0x2d59bb[_0x5b2e5e(0x20e)]===0x0?_0x4733e5=_0x2328fb:_0x4733e5=_0x1778de,_0x4733e5['length']>0x0?_0x4733e5[_0x5b2e5e(0x7df)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0xd46426,_0x575887){const _0x294f29=_0x31a0a6,_0x5df252=document[_0x294f29(0x75f)]('score-distribution-chart')['getContext']('2d'),_0x49eed8={};for(let _0x30adce=0x0;_0x30adce<=_0x575887;_0x30adce++){_0x49eed8[_0x30adce]=0x0;}_0xd46426[_0x294f29(0x748)](_0x2d3e40=>{const _0x22c001=_0x294f29;_0x49eed8[_0x2d3e40[_0x22c001(0x7dd)]]!==undefined&&_0x49eed8[_0x2d3e40[_0x22c001(0x7dd)]]++;}),chartInstances[_0x294f29(0x368)]&&chartInstances[_0x294f29(0x368)][_0x294f29(0x202)](),chartInstances[_0x294f29(0x368)]=new Chart(_0x5df252,{'type':_0x294f29(0x51b),'data':{'labels':Object[_0x294f29(0x5f6)](_0x49eed8),'datasets':[{'label':_0x294f29(0x22c),'data':Object[_0x294f29(0x807)](_0x49eed8),'backgroundColor':_0x294f29(0x3e0),'borderColor':_0x294f29(0x6c4),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x294f29(0x332)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4f0345){const _0x56e8d6=_0x294f29,_0x57a47d=_0x4f0345[_0x56e8d6(0x269)],_0x1cb1c1=_0xd46426[_0x56e8d6(0x5e5)](_0x35faed=>_0x35faed[_0x56e8d6(0x7dd)]==_0x57a47d)[_0x56e8d6(0x182)](_0xef4f=>_0xef4f[_0x56e8d6(0x1c3)]);return _0x1cb1c1[_0x56e8d6(0x299)]>0x0?_0x1cb1c1[_0x56e8d6(0x7df)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x479e62,_0x2ac694,_0x5628f8){const _0x6a248f=_0x31a0a6,_0x257d92=document[_0x6a248f(0x75f)]('question-analytics-container');if(_0x5628f8[_0x6a248f(0x299)]===0x0){_0x257d92[_0x6a248f(0x4ca)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x3d25d1=calculateItemAnalysis(_0x479e62,_0x2ac694),_0x592cde=calculateDistractorAnalysis(_0x479e62,_0x2ac694);let _0x1fd073='';_0x3d25d1[_0x6a248f(0x774)]&&(_0x1fd073=_0x6a248f(0x77b)+_0x3d25d1[_0x6a248f(0x774)][_0x6a248f(0x338)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d25d1[_0x6a248f(0x774)]['upperGroupNames'][_0x6a248f(0x182)](_0x5a6f16=>_0x6a248f(0x70f)+_0x5a6f16+_0x6a248f(0x5dd))['join']('')+_0x6a248f(0x603)+_0x3d25d1[_0x6a248f(0x774)]['lowerGroupNames']['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d25d1['overallGroups']['lowerGroupNames'][_0x6a248f(0x182)](_0x115a01=>_0x6a248f(0x70f)+_0x115a01+'</li>')[_0x6a248f(0x7df)]('')+_0x6a248f(0x6ca));let _0x383cf4='';const _0x51c69f=_0x2ac694['map'](_0x2d431a=>_0x2d431a[_0x6a248f(0x1c3)]),_0x226d1d=_0x22f045=>{const _0x3677b8=_0x6a248f;if(_0x22f045>=0.8)return _0x3677b8(0x18b);if(_0x22f045>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x22f045>=0.4)return _0x3677b8(0x2d7);if(_0x22f045>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x3677b8(0x53b);},_0x3b3bb6=_0x6a18aa=>{const _0x5cbc1e=_0x6a248f;if(_0x6a18aa<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x6a18aa>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x6a18aa>=0.3)return _0x5cbc1e(0x7f8);if(_0x6a18aa>=0.2)return _0x5cbc1e(0x7a8);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x3affdf=_0x17388=>{const _0x28db49=_0x6a248f,_0x1c28c8=_0x17388[_0x28db49(0x4b6)](0x0);if(parseFloat(_0x1c28c8)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x1c28c8+'%</span>';if(_0x17388>=0x32)return _0x28db49(0x118)+_0x1c28c8+_0x28db49(0x114);return _0x28db49(0xe5)+_0x1c28c8+_0x28db49(0x114);};_0x479e62['questions'][_0x6a248f(0x748)]((_0x2e9136,_0x23fec8)=>{const _0x38c068=_0x6a248f,_0x122469=_0x3d25d1['perQuestionStats'][_0x23fec8],_0x2854bd=_0x592cde[_0x23fec8],_0x4b555d=_0x2e9136['stem']||_0x2e9136[_0x38c068(0x149)]||_0x2e9136['instructions'];let _0x1fd202=0x0;const _0x18e585=[],_0x28f498=[];_0x2ac694[_0x38c068(0x748)](_0xed1278=>{const _0x5ca1f8=_0x38c068,_0x433ece=_0xed1278[_0x5ca1f8(0x489)][_0xed1278['attempts'][_0x5ca1f8(0x299)]-0x1];if(_0x433ece&&_0x433ece['answers']){const _0x40b988=_0x433ece[_0x5ca1f8(0x737)][_0x5ca1f8(0x1fc)](_0x4a5c27=>_0x4a5c27['originalQuestionText']===_0x4b555d)??_0x433ece[_0x5ca1f8(0x737)][_0x23fec8]??null;_0x40b988&&(_0x40b988[_0x5ca1f8(0x684)]?(_0x1fd202++,_0x18e585['push'](_0xed1278[_0x5ca1f8(0x1c3)])):_0x28f498[_0x5ca1f8(0x2b0)](_0xed1278[_0x5ca1f8(0x1c3)]));}});const _0x5d2907=_0x2ac694[_0x38c068(0x299)]>0x0?_0x1fd202/_0x2ac694['length']*0x64:0x0,_0x339d4e=_0x5628f8[_0x38c068(0x5e5)](_0x58bdd4=>!_0x51c69f[_0x38c068(0x10c)](_0x58bdd4)),_0x228043=_0x122469?_0x38c068(0x3d8)+_0x122469['p'][_0x38c068(0x4b6)](0x2)+_0x38c068(0x165)+_0x226d1d(_0x122469['p'])+_0x38c068(0x7be)+_0x122469['r'][_0x38c068(0x4b6)](0x2)+_0x38c068(0x165)+_0x3b3bb6(_0x122469['r'])+_0x38c068(0x407)+_0x3affdf(_0x5d2907)+_0x38c068(0x49a):'';let _0x38b5d6='';_0x2854bd&&(_0x38b5d6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x38c068(0x5f6)](_0x2854bd)[_0x38c068(0x182)](_0x486a76=>{const _0x22f1af=_0x38c068,_0x3ced80=_0x2854bd[_0x486a76],_0x3d645e=parseInt(_0x486a76)===_0x2e9136[_0x22f1af(0x18c)],_0x503185=!_0x3d645e&&_0x3ced80[_0x22f1af(0x415)]>_0x3ced80[_0x22f1af(0x544)];return _0x22f1af(0x1e3)+(_0x3d645e?_0x22f1af(0x77d):'')+_0x22f1af(0x496)+(_0x3d645e?'✔\x20':'')+_0x3ced80[_0x22f1af(0x3e1)]+_0x22f1af(0x620)+_0x3ced80[_0x22f1af(0x544)]+_0x22f1af(0x620)+_0x3ced80['lower_group_count']+'\x20'+(_0x503185?'👍':'')+_0x22f1af(0x620)+_0x3ced80[_0x22f1af(0x647)]+'</td></tr>';})[_0x38c068(0x7df)]('')+_0x38c068(0x3f8));let _0x368fad='';_0x122469&&_0x122469[_0x38c068(0x4cd)]&&(_0x368fad=_0x38c068(0x1eb)+_0x122469['upperGroupResponders']['length']+_0x38c068(0x43f)+_0x122469[_0x38c068(0x4cd)][_0x38c068(0x182)](_0x56b6c5=>_0x38c068(0x70f)+(_0x56b6c5['isCorrect']?_0x38c068(0x211):_0x38c068(0x616))+'\x20'+_0x56b6c5[_0x38c068(0x248)]+'</li>')[_0x38c068(0x7df)]('')+_0x38c068(0x579)+_0x122469['lowerGroupResponders']['length']+_0x38c068(0x43f)+_0x122469[_0x38c068(0x212)][_0x38c068(0x182)](_0x31b835=>'<li>'+(_0x31b835[_0x38c068(0x684)]?_0x38c068(0x211):_0x38c068(0x616))+'\x20'+_0x31b835[_0x38c068(0x248)]+_0x38c068(0x5dd))[_0x38c068(0x7df)]('')+_0x38c068(0x420)),_0x383cf4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x23fec8+0x1)+':\x20'+_0x4b555d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x228043+_0x38c068(0x7ef)+_0x4b555d+_0x38c068(0x4d1)+_0x1fd202+_0x38c068(0x4dc)+_0x2ac694[_0x38c068(0x299)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x5d2907[_0x38c068(0x4b6)](0x0)+_0x38c068(0x7fa)+_0x18e585['length']+_0x38c068(0x4f7)+(_0x18e585[_0x38c068(0x299)]>0x0?_0x18e585[_0x38c068(0x7df)](',\x20'):_0x38c068(0x2ce))+_0x38c068(0x625)+_0x28f498[_0x38c068(0x299)]+_0x38c068(0x4f7)+(_0x28f498['length']>0x0?_0x28f498[_0x38c068(0x7df)](',\x20'):_0x38c068(0x2ce))+_0x38c068(0x1f7)+_0x339d4e['length']+_0x38c068(0x4f7)+(_0x339d4e[_0x38c068(0x299)]>0x0?_0x339d4e['join'](',\x20'):'ไม่มี')+_0x38c068(0x5fd)+_0x38b5d6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x368fad+_0x38c068(0x664);}),_0x257d92[_0x6a248f(0x4ca)]=_0x1fd073+_0x383cf4;try{window[_0x6a248f(0x428)]&&MathJax[_0x6a248f(0x3d6)]&&MathJax[_0x6a248f(0x3d6)]([_0x257d92]);}catch(_0xae3f08){console[_0x6a248f(0x382)](_0x6a248f(0x55a),_0xae3f08);}}function calculateDistractorAnalysis(_0x59d628,_0x7e02da){const _0x9241c1=_0x31a0a6,_0x4fc592={};if(_0x7e02da[_0x9241c1(0x299)]<0x2)return _0x4fc592;const _0x5065f2=[..._0x7e02da][_0x9241c1(0x2ba)]((_0xcb7645,_0x18303b)=>{const _0x5e7d7a=_0x9241c1,_0x33d52c=_0x18303b['latestScore']-_0xcb7645[_0x5e7d7a(0x7dd)];if(_0x33d52c!==0x0)return _0x33d52c;const _0x1428c7=_0xcb7645[_0x5e7d7a(0x489)]?.[_0x5e7d7a(0x299)]||0x1,_0x51a606=_0x18303b[_0x5e7d7a(0x489)]?.[_0x5e7d7a(0x299)]||0x1,_0x4b99c9=_0x1428c7-_0x51a606;if(_0x4b99c9!==0x0)return _0x4b99c9;const _0x13c6c8=new Date(_0xcb7645[_0x5e7d7a(0x72a)]),_0x352963=new Date(_0x18303b[_0x5e7d7a(0x72a)]),_0x248378=_0x13c6c8-_0x352963;if(_0x248378!==0x0)return _0x248378;return _0xcb7645[_0x5e7d7a(0x1c3)][_0x5e7d7a(0x6de)](_0x18303b[_0x5e7d7a(0x1c3)],'th');}),_0x480628=_0x5065f2['length'],_0x3b3abc=Math[_0x9241c1(0x69e)](0x1,Math[_0x9241c1(0x449)](_0x480628*0.33)),_0x4ffe57=_0x5065f2[_0x9241c1(0x634)](0x0,_0x3b3abc),_0x3455a2=_0x5065f2[_0x9241c1(0x634)](-_0x3b3abc);return _0x59d628[_0x9241c1(0x3a0)][_0x9241c1(0x748)]((_0x5d3651,_0x5116c6)=>{const _0x25cd34=_0x9241c1;if(_0x5d3651[_0x25cd34(0x561)]!==_0x25cd34(0xff)||!_0x5d3651['options'])return;const _0x5d7e65=_0x5d3651[_0x25cd34(0x149)],_0x403aca={};_0x5d3651['options'][_0x25cd34(0x748)]((_0x443521,_0x3eb7ec)=>{_0x403aca[_0x3eb7ec]={'text':_0x443521,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5065f2[_0x25cd34(0x748)](_0x49b348=>{const _0x41b20a=_0x25cd34,_0x11c3cf=_0x49b348[_0x41b20a(0x489)][_0x49b348[_0x41b20a(0x489)][_0x41b20a(0x299)]-0x1],_0x266dea=_0x11c3cf[_0x41b20a(0x737)]['find'](_0x30825b=>_0x30825b['originalQuestionText']===_0x5d7e65);if(_0x266dea&&_0x266dea['answer']!==null){const _0x43998f=_0x5d3651['options'][_0x41b20a(0x621)](_0x103be0=>_0x103be0===_0x266dea[_0x41b20a(0x3ca)]);_0x43998f!==-0x1&&_0x403aca[_0x43998f]&&(_0x403aca[_0x43998f][_0x41b20a(0x647)]++,_0x4ffe57[_0x41b20a(0x10c)](_0x49b348)&&_0x403aca[_0x43998f][_0x41b20a(0x544)]++,_0x3455a2['includes'](_0x49b348)&&_0x403aca[_0x43998f]['lower_group_count']++);}}),_0x4fc592[_0x5116c6]=_0x403aca;}),_0x4fc592;}function calculateReliabilityKR20(_0x17d0cf,_0x4b8081,_0x1bae50){const _0x4627d2=_0x31a0a6,_0x25a67b=_0x17d0cf['questions'][_0x4627d2(0x299)];if(_0x25a67b<0x2||_0x4b8081[_0x4627d2(0x299)]<0x2)return null;const _0xcb2b7b=_0x4b8081['map'](_0x2b9bf4=>_0x2b9bf4[_0x4627d2(0x7dd)]),_0x272cdd=_0xcb2b7b[_0x4627d2(0x4eb)]((_0x15b840,_0x578c30)=>_0x15b840+_0x578c30,0x0)/_0xcb2b7b['length'],_0x43fa2c=_0xcb2b7b['map'](_0x5a78e9=>Math[_0x4627d2(0x471)](_0x5a78e9-_0x272cdd,0x2))[_0x4627d2(0x4eb)]((_0x41ee8e,_0x31d7d1)=>_0x41ee8e+_0x31d7d1,0x0)/_0xcb2b7b[_0x4627d2(0x299)];if(_0x43fa2c===0x0)return null;let _0x3c83a5=0x0;for(let _0x10dd46=0x0;_0x10dd46<_0x25a67b;_0x10dd46++){const _0x39aeb7=_0x1bae50[_0x10dd46]?.['p'];if(_0x39aeb7===undefined)continue;const _0x32bbf7=0x1-_0x39aeb7;_0x3c83a5+=_0x39aeb7*_0x32bbf7;}if(_0x3c83a5===0x0)return null;const _0xfbabd6=_0x25a67b/(_0x25a67b-0x1)*(0x1-_0x3c83a5/_0x43fa2c);if(_0xfbabd6>0x1)return null;return _0xfbabd6;}async function handleAnalyzeClass(){const _0x171387=_0x31a0a6;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x57c0ec=collection(db,_0x171387(0x678)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x171387(0x5b6)),_0x1f1750=await getDocs(_0x57c0ec),_0x2aef06=_0x1f1750['docs'][_0x171387(0x182)](_0xfcac73=>_0xfcac73['data']());if(_0x2aef06[_0x171387(0x299)]<0x2){showMessage(_0x171387(0x6bf));return;}const _0x3ed60e=document[_0x171387(0x75f)](_0x171387(0x45b));_0x3ed60e[_0x171387(0x4ca)]=_0x171387(0x21d),document[_0x171387(0x75f)]('analyze-strengths-btn')['disabled']=!![];const _0x52abe7=_0x2aef06[_0x171387(0x182)]((_0x3020c4,_0xafadc7)=>{const _0x23a344=_0x171387,_0x449cc4=_0x3020c4['attempts'][_0x3020c4['attempts'][_0x23a344(0x299)]-0x1];if(!_0x449cc4)return'';return _0x23a344(0x2f8)+(_0xafadc7+0x1)+'\x20('+_0x3020c4[_0x23a344(0x1c3)]+_0x23a344(0x698)+_0x449cc4['score']+'/'+_0x3020c4['totalQuestions']+_0x23a344(0x36b)+JSON[_0x23a344(0x1c2)](_0x449cc4[_0x23a344(0x737)])+_0x23a344(0x18a);})['join'](_0x171387(0x4dd)),_0xe636ee='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x171387(0x151)]+_0x171387(0x6e6)+JSON[_0x171387(0x1c2)](currentQuizData[_0x171387(0x3a0)])+_0x171387(0x6f8)+_0x52abe7+_0x171387(0x381),_0x58519b={'type':_0x171387(0x14f),'properties':{'classStrengths':{'type':_0x171387(0x262),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x171387(0x262),'items':{'type':_0x171387(0x131)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x171387(0x131)}}},'required':[_0x171387(0x3fa),_0x171387(0x46a),_0x171387(0xf4)]};try{const _0x58acfb=await callAnalysisApi(_0xe636ee,_0x58519b);displayClassAnalysis(_0x58acfb);}catch(_0x44cffc){console[_0x171387(0x382)](_0x171387(0x4b1),_0x44cffc),_0x3ed60e[_0x171387(0x4ca)]=_0x171387(0x7f7)+_0x44cffc[_0x171387(0x5d6)]+_0x171387(0x593);}finally{document[_0x171387(0x75f)](_0x171387(0x56f))[_0x171387(0x108)]=![];}}function displayClassAnalysis(_0x22be7d){const _0x492f5=_0x31a0a6,_0xdc171=document[_0x492f5(0x75f)]('strength-weakness-analysis-container');if(!_0x22be7d){_0xdc171[_0x492f5(0x4ca)]=_0x492f5(0x77e);return;}_0xdc171[_0x492f5(0x4ca)]=_0x492f5(0x6d7)+_0x22be7d[_0x492f5(0x3fa)]['map'](_0x5160a1=>_0x492f5(0x70f)+_0x5160a1+_0x492f5(0x5dd))[_0x492f5(0x7df)]('')+_0x492f5(0x2c2)+_0x22be7d[_0x492f5(0x46a)][_0x492f5(0x182)](_0x575189=>_0x492f5(0x70f)+_0x575189+_0x492f5(0x5dd))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22be7d[_0x492f5(0xf4)]['map'](_0x9bfc49=>_0x492f5(0x70f)+_0x9bfc49+_0x492f5(0x5dd))['join']('')+_0x492f5(0xf5);}function formatAndPrintWorksheet(_0x4bb10c,_0x1881d3){const _0x3e011c=_0x31a0a6,_0xb1c99d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x4bb10c[_0x3e011c(0x151)]+_0x3e011c(0x47e)+_0x4bb10c['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bb10c[_0x3e011c(0x3a0)][_0x3e011c(0x182)]((_0x4d6033,_0x4594a3)=>_0x3e011c(0x33e)+(_0x4594a3+0x1)+'.\x20'+_0x4d6033['questionText']+_0x3e011c(0x30b)+(_0x4d6033['imageCode']?_0x3e011c(0x6a5)+_0x4d6033[_0x3e011c(0x68d)]+_0x3e011c(0xdc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3e011c(0x7df)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1881d3['document'][_0x3e011c(0x26e)](_0xb1c99d),_0x1881d3[_0x3e011c(0x38d)]['close'](),_0x1881d3['onload']=function(){setTimeout(()=>{_0x1881d3['print']();},0x3e8);};}async function generateWorksheet(){const _0x40aca7=_0x31a0a6,_0x171a49=document[_0x40aca7(0x75f)](_0x40aca7(0x450))[_0x40aca7(0x3a5)][_0x40aca7(0x74d)]();if(!_0x171a49){showMessage(_0x40aca7(0x663));return;}const _0x36eb44=document[_0x40aca7(0x75f)](_0x40aca7(0x244))[_0x40aca7(0x4b5)],_0x7d08de=_0x36eb44?'':_0x40aca7(0x477),_0x390782=window[_0x40aca7(0x340)]('',_0x40aca7(0x4a1));_0x390782['document']['write'](_0x40aca7(0x5bf));const _0x21a69d=parseInt(document[_0x40aca7(0x75f)](_0x40aca7(0x3c1))[_0x40aca7(0x3a5)]),_0x4f8f61=document[_0x40aca7(0x75f)](_0x40aca7(0x456))[_0x40aca7(0x4b5)],_0xc515ae=_0x4f8f61?_0x40aca7(0x6ec):'',_0x4f2f9c=_0x40aca7(0x610)+_0x7d08de+_0x40aca7(0x2fa)+_0x21a69d+_0x40aca7(0x41e)+_0x171a49+_0x40aca7(0xe7)+_0xc515ae+_0x40aca7(0x53a)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x478d1f={'type':_0x40aca7(0x14f),'properties':{'topic':{'type':_0x40aca7(0x131)},'questions':{'type':_0x40aca7(0x262),'items':{'type':_0x40aca7(0x14f),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x40aca7(0x131)}},'required':[_0x40aca7(0x149)]}}},'required':[_0x40aca7(0x151),_0x40aca7(0x3a0)]};document[_0x40aca7(0x75f)](_0x40aca7(0x2a1))[_0x40aca7(0x4e9)]='',document[_0x40aca7(0x75f)](_0x40aca7(0x7ba))[_0x40aca7(0x4ba)][_0x40aca7(0x4c3)](_0x40aca7(0x199)),document[_0x40aca7(0x75f)](_0x40aca7(0x394))['classList'][_0x40aca7(0x4c3)](_0x40aca7(0x199)),generateWorksheetBtn[_0x40aca7(0x108)]=!![];try{const _0x5c907e=await callAnalysisApi(_0x4f2f9c,_0x478d1f);formatAndPrintWorksheet(_0x5c907e,_0x390782);}catch(_0x10b848){console[_0x40aca7(0x382)]('Error\x20generating\x20worksheet:',_0x10b848);if(_0x390782)_0x390782[_0x40aca7(0x3be)]();showMessage(_0x40aca7(0x1da));}finally{document[_0x40aca7(0x75f)]('loader')[_0x40aca7(0x4ba)][_0x40aca7(0x688)](_0x40aca7(0x199)),document['getElementById'](_0x40aca7(0x394))[_0x40aca7(0x4ba)][_0x40aca7(0x688)]('hidden'),generateWorksheetBtn[_0x40aca7(0x108)]=![];}}async function callAnalysisApi(_0x4d4e38,_0x4db099){const _0x41cd72=_0x31a0a6,_0x2fa118={'contents':[{'role':_0x41cd72(0x5cb),'parts':[{'text':_0x4d4e38}]}],'generationConfig':{'responseMimeType':_0x41cd72(0x532),'responseSchema':_0x4db099}},_0x31c250=_0x41cd72(0x446),_0x5c7671=_0x41cd72(0x5f3)+_0x31c250,_0x4abcd1=await fetch(_0x5c7671,{'method':'POST','headers':{'Content-Type':_0x41cd72(0x532)},'body':JSON[_0x41cd72(0x1c2)](_0x2fa118)});if(!_0x4abcd1['ok'])throw new Error(_0x41cd72(0x11b)+_0x4abcd1['status']);const _0x27cd43=await _0x4abcd1[_0x41cd72(0x339)]();if(_0x27cd43[_0x41cd72(0x140)]?.[0x0]?.[_0x41cd72(0x609)]?.[_0x41cd72(0x602)]?.[0x0])return JSON[_0x41cd72(0x3ae)](_0x27cd43['candidates'][0x0][_0x41cd72(0x609)]['parts'][0x0][_0x41cd72(0x3e1)]);else{let _0x582055=_0x41cd72(0x17c);if(_0x27cd43['promptFeedback']?.[_0x41cd72(0x479)])_0x582055=_0x41cd72(0x245)+_0x27cd43[_0x41cd72(0x7fb)][_0x41cd72(0x479)]+'.';else _0x27cd43['candidates']?.[0x0]?.['finishReason']&&_0x27cd43[_0x41cd72(0x140)][0x0][_0x41cd72(0x806)]!==_0x41cd72(0x624)&&(_0x582055='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x27cd43[_0x41cd72(0x140)][0x0][_0x41cd72(0x806)]+'.');console['error'](_0x582055,JSON[_0x41cd72(0x1c2)](_0x27cd43));throw new Error(_0x582055);}}initialize();
