const _0x3cb14f=_0x4478;(function(_0x11488b,_0x345546){const _0xd6fb65=_0x4478,_0x2328ee=_0x11488b();while(!![]){try{const _0x1295bc=-parseInt(_0xd6fb65(0x563))/0x1*(-parseInt(_0xd6fb65(0x505))/0x2)+-parseInt(_0xd6fb65(0x219))/0x3+-parseInt(_0xd6fb65(0x407))/0x4*(parseInt(_0xd6fb65(0x889))/0x5)+parseInt(_0xd6fb65(0x270))/0x6+parseInt(_0xd6fb65(0x559))/0x7*(-parseInt(_0xd6fb65(0x1e2))/0x8)+-parseInt(_0xd6fb65(0x24a))/0x9*(-parseInt(_0xd6fb65(0x7bf))/0xa)+-parseInt(_0xd6fb65(0x7b5))/0xb*(-parseInt(_0xd6fb65(0x72b))/0xc);if(_0x1295bc===_0x345546)break;else _0x2328ee['push'](_0x2328ee['shift']());}catch(_0x4994fd){_0x2328ee['push'](_0x2328ee['shift']());}}}(_0x49a7,0xa6fd7));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x3cb14f(0x45b),'pinnedProjects':[],'projectView':_0x3cb14f(0x598)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':'การนับ'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x53e)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x2ed)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x183)},{'category':'จำนวนและการดำเนินการ','name':_0x3cb14f(0x842)},{'category':_0x3cb14f(0x37f),'name':'การลบ'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x464)},{'category':_0x3cb14f(0x37f),'name':'การหาร'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x6bc)},{'category':_0x3cb14f(0x37f),'name':'จำนวนเต็มลบ'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x29d)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x849)},{'category':_0x3cb14f(0x37f),'name':'เส้นจำนวน'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x426)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x784)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x617)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x37d)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x147)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x689)},{'category':_0x3cb14f(0x37f),'name':'การบวกเศษส่วน'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x28e)},{'category':_0x3cb14f(0x37f),'name':'การคูณเศษส่วน'},{'category':_0x3cb14f(0x37f),'name':'การหารเศษส่วน'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x220)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x825)},{'category':_0x3cb14f(0x37f),'name':'การบวกทศนิยม'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x4ee)},{'category':_0x3cb14f(0x37f),'name':'การคูณทศนิยม'},{'category':_0x3cb14f(0x37f),'name':'การหารทศนิยม'},{'category':_0x3cb14f(0x37f),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x3cb14f(0x863)},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x3cb14f(0x252)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x22b)},{'category':_0x3cb14f(0x37f),'name':'รากที่สองและที่สาม'},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x1e0)},{'category':_0x3cb14f(0x37f),'name':_0x3cb14f(0x45a)},{'category':'การวัด','name':_0x3cb14f(0x42a)},{'category':_0x3cb14f(0x43b),'name':_0x3cb14f(0x6b3)},{'category':'การวัด','name':_0x3cb14f(0x2f5)},{'category':'การวัด','name':_0x3cb14f(0x125)},{'category':_0x3cb14f(0x43b),'name':_0x3cb14f(0x2ee)},{'category':'การวัด','name':_0x3cb14f(0x321)},{'category':_0x3cb14f(0x43b),'name':_0x3cb14f(0x631)},{'category':_0x3cb14f(0x43b),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x3cb14f(0x43b),'name':_0x3cb14f(0x21d)},{'category':_0x3cb14f(0x43b),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x3cb14f(0x43b),'name':_0x3cb14f(0x2ae)},{'category':_0x3cb14f(0x43b),'name':_0x3cb14f(0x222)},{'category':'การวัด','name':_0x3cb14f(0x6cf)},{'category':_0x3cb14f(0x43b),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x3cb14f(0x803),'name':_0x3cb14f(0x451)},{'category':_0x3cb14f(0x803),'name':'ความสัมพันธ์ของมุม'},{'category':_0x3cb14f(0x803),'name':_0x3cb14f(0x54f)},{'category':'เรขาคณิต','name':_0x3cb14f(0x269)},{'category':_0x3cb14f(0x803),'name':_0x3cb14f(0x39e)},{'category':'เรขาคณิต','name':_0x3cb14f(0x284)},{'category':_0x3cb14f(0x803),'name':_0x3cb14f(0x654)},{'category':_0x3cb14f(0x803),'name':_0x3cb14f(0x257)},{'category':'เรขาคณิต','name':_0x3cb14f(0x22c)},{'category':'เรขาคณิต','name':_0x3cb14f(0x831)},{'category':_0x3cb14f(0x803),'name':_0x3cb14f(0x86d)},{'category':_0x3cb14f(0x803),'name':_0x3cb14f(0x323)},{'category':_0x3cb14f(0x803),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x3cb14f(0x803),'name':_0x3cb14f(0x292)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x2dc)},{'category':_0x3cb14f(0x266),'name':'การกระจายและการจัดหมู่'},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x13f)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x25c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3cb14f(0x4a1)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x118)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x15d)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x395)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3cb14f(0x530)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x15c)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3cb14f(0x584)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3cb14f(0x504)},{'category':_0x3cb14f(0x266),'name':'อสมการเชิงเส้น'},{'category':_0x3cb14f(0x266),'name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3cb14f(0x79c)},{'category':_0x3cb14f(0x266),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x194)},{'category':'พีชคณิตและฟังก์ชัน','name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x285)},{'category':_0x3cb14f(0x266),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x636)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x4ab)},{'category':_0x3cb14f(0x266),'name':'ฟังก์ชันพหุนาม'},{'category':_0x3cb14f(0x266),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3cb14f(0x43f)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x497)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3cb14f(0x4cf)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x724)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x435)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x562)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3cb14f(0x656)},{'category':_0x3cb14f(0x266),'name':_0x3cb14f(0x750)},{'category':'พีชคณิตและฟังก์ชัน','name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x3cb14f(0x33c),'name':_0x3cb14f(0x5d6)},{'category':_0x3cb14f(0x33c),'name':_0x3cb14f(0x60b)},{'category':_0x3cb14f(0x33c),'name':_0x3cb14f(0x30f)},{'category':_0x3cb14f(0x33c),'name':_0x3cb14f(0x6eb)},{'category':_0x3cb14f(0x33c),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x3cb14f(0x33c),'name':_0x3cb14f(0x52a)},{'category':_0x3cb14f(0x33c),'name':_0x3cb14f(0x2ca)},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x3cb14f(0x33c),'name':_0x3cb14f(0x84d)},{'category':'ตรีโกณมิติ','name':_0x3cb14f(0x8b9)},{'category':_0x3cb14f(0x734),'name':_0x3cb14f(0x7b7)},{'category':'ตรีโกณมิติ','name':_0x3cb14f(0x4d8)},{'category':_0x3cb14f(0x734),'name':_0x3cb14f(0x5c3)},{'category':_0x3cb14f(0x734),'name':_0x3cb14f(0x12f)},{'category':_0x3cb14f(0x734),'name':'กฎของโคไซน์'},{'category':'ตรีโกณมิติ','name':_0x3cb14f(0x786)},{'category':'ตรีโกณมิติ','name':_0x3cb14f(0x7c3)},{'category':_0x3cb14f(0x734),'name':_0x3cb14f(0x86f)},{'category':_0x3cb14f(0x734),'name':_0x3cb14f(0x47b)},{'category':_0x3cb14f(0x734),'name':_0x3cb14f(0x6f9)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x80a)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x634)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x132)},{'category':'สถิติและความน่าจะเป็น','name':_0x3cb14f(0x53f)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x13e)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x3c7)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x15b)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x283)},{'category':'สถิติและความน่าจะเป็น','name':_0x3cb14f(0x417)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x595)},{'category':'สถิติและความน่าจะเป็น','name':_0x3cb14f(0x28f)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x2f3)},{'category':'สถิติและความน่าจะเป็น','name':_0x3cb14f(0x476)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x187)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x55d)},{'category':_0x3cb14f(0x3d0),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x3cb14f(0x3d0),'name':'กฎบวกและกฎคูณ'},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x651)},{'category':_0x3cb14f(0x3d0),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x50d)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x254)},{'category':_0x3cb14f(0x3d0),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x316)},{'category':_0x3cb14f(0x3d0),'name':_0x3cb14f(0x830)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3cb14f(0x6b0)},{'category':_0x3cb14f(0x6b2),'name':_0x3cb14f(0x221)},{'category':_0x3cb14f(0x6b2),'name':_0x3cb14f(0x68b)},{'category':_0x3cb14f(0x6b2),'name':_0x3cb14f(0x7a9)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3cb14f(0x8b5)},{'category':_0x3cb14f(0x6b2),'name':'ความชันเส้นสัมผัส'},{'category':_0x3cb14f(0x6b2),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0x3cb14f(0x6b2),'name':_0x3cb14f(0x57a)},{'category':_0x3cb14f(0x6b2),'name':_0x3cb14f(0x287)},{'category':_0x3cb14f(0x6b2),'name':_0x3cb14f(0x60d)},{'category':'แคลคูลัสเบื้องต้น','name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3cb14f(0x2fc)},{'category':_0x3cb14f(0x73f),'name':_0x3cb14f(0x770)},{'category':_0x3cb14f(0x73f),'name':_0x3cb14f(0x783)},{'category':_0x3cb14f(0x73f),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':_0x3cb14f(0x73f),'name':_0x3cb14f(0x282)},{'category':_0x3cb14f(0x73f),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3cb14f(0x5f7)},{'category':_0x3cb14f(0x39a),'name':'ดอกเบี้ยทบต้น'},{'category':_0x3cb14f(0x39a),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x3cb14f(0x39a),'name':_0x3cb14f(0x86e)},{'category':_0x3cb14f(0x39a),'name':'ร้อยละประยุกต์'},{'category':_0x3cb14f(0x743),'name':_0x3cb14f(0x247)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x3cb14f(0x6fb)},{'category':_0x3cb14f(0x743),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x138dde=_0x3cb14f,_0x2a4cf4=document['getElementById'](_0x138dde(0x18b));if(!_0x2a4cf4)return;const _0x5e4434=allMathTopics,_0x4640cc=customMathTopics['map'](_0x32206b=>({'id':_0x32206b['id'],'category':_0x138dde(0x8bb),'name':_0x32206b[_0x138dde(0x7e3)]})),_0x540f0b=[..._0x5e4434,..._0x4640cc],_0x407383=_0x540f0b[_0x138dde(0x5ce)]((_0x2a0885,_0x521ebb)=>{const _0x1c8eb3=_0x138dde;return!_0x2a0885[_0x521ebb[_0x1c8eb3(0x2c5)]]&&(_0x2a0885[_0x521ebb[_0x1c8eb3(0x2c5)]]=[]),_0x2a0885[_0x521ebb[_0x1c8eb3(0x2c5)]][_0x1c8eb3(0x49f)](_0x521ebb),_0x2a0885;},{});let _0x377004='';const _0x4c819a=[_0x138dde(0x8bb),...Object[_0x138dde(0x3f3)](_0x407383)[_0x138dde(0x255)](_0x11967e=>_0x11967e!==_0x138dde(0x8bb))];for(const _0x6bca09 of _0x4c819a){if(_0x407383[_0x6bca09]){const _0x52e6f7=_0x6bca09===_0x138dde(0x8bb),_0xdd6dbc=_0x52e6f7?'fas\x20fa-user-edit':_0x138dde(0x5e3),_0x1b1bd1=_0x52e6f7?_0x138dde(0x50a):_0x138dde(0x566);_0x377004+=_0x138dde(0x314),_0x377004+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x1b1bd1+_0x138dde(0x358)+_0xdd6dbc+_0x138dde(0x641)+_0x6bca09+_0x138dde(0x709),_0x407383[_0x6bca09]['forEach'](_0x31b525=>{const _0x3c3743=_0x138dde,_0xea5c6f=!!_0x31b525['id'],_0x13a9cb=_0xea5c6f?_0x3c3743(0x68e)+_0x31b525['id']+_0x3c3743(0x869)+_0x31b525['id']+_0x3c3743(0x767)+_0x31b525['id']+_0x3c3743(0x306)+_0x31b525['id']+_0x3c3743(0x4be):'';_0x377004+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x31b525['id']||'')+_0x3c3743(0x3bb)+_0x31b525[_0x3c3743(0x7e3)]+_0x3c3743(0x7af)+_0x31b525['name']+_0x3c3743(0x6f0)+(_0xea5c6f?_0x3c3743(0x4a8)+_0x31b525['name']+'\x22>':'')+_0x3c3743(0x70f)+_0x13a9cb+_0x3c3743(0x5fc);}),_0x377004+=_0x138dde(0x3ab);}}_0x2a4cf4[_0x138dde(0x729)]=_0x377004||_0x138dde(0x823),_0x2a4cf4[_0x138dde(0x5e9)](_0x138dde(0x133),updateSelectedTopicsCount),_0x2a4cf4[_0x138dde(0x415)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x52b486,_0xda42c5){const _0x4d3ee9=_0x3cb14f;if(!_0x52b486||!_0xda42c5[_0x4d3ee9(0x175)]()){showMessage(_0x4d3ee9(0x87d));return;}try{const _0x12667b=doc(db,_0x4d3ee9(0x477)+appId+_0x4d3ee9(0x13b),_0x52b486);await updateDoc(_0x12667b,{'name':_0xda42c5['trim']()}),showMessage(_0x4d3ee9(0x334));}catch(_0x346f8f){console[_0x4d3ee9(0x8ae)]('Error\x20updating\x20custom\x20topic:',_0x346f8f),showMessage(_0x4d3ee9(0x34c));}}function toggleTopicEditMode(_0x26deb9,_0x576226){const _0x1551eb=_0x3cb14f;if(!_0x26deb9)return;const _0x45564c=_0x26deb9[_0x1551eb(0x271)](_0x1551eb(0x72d)),_0x499e04=_0x26deb9[_0x1551eb(0x271)](_0x1551eb(0x30d)),_0x3e6d6f=_0x26deb9[_0x1551eb(0x271)](_0x1551eb(0x503)),_0x41a68d=_0x26deb9[_0x1551eb(0x271)](_0x1551eb(0x31b));_0x45564c[_0x1551eb(0x28d)][_0x1551eb(0x6f4)](_0x1551eb(0x28c),_0x576226),_0x499e04[_0x1551eb(0x28d)]['toggle'](_0x1551eb(0x28c),!_0x576226),_0x3e6d6f[_0x1551eb(0x28d)][_0x1551eb(0x6f4)](_0x1551eb(0x28c),_0x576226),_0x41a68d['classList']['toggle'](_0x1551eb(0x28c),!_0x576226),_0x576226&&(_0x499e04['focus'](),_0x499e04[_0x1551eb(0x657)]());}function updateSelectedTopicsCount(){const _0x368924=_0x3cb14f,_0x5da850=document[_0x368924(0x2d1)](_0x368924(0x18b)),_0x18dd1f=_0x5da850[_0x368924(0x7b0)](_0x368924(0x8b0))[_0x368924(0x1d7)],_0x19d006=document['getElementById']('selected-topics-count');_0x18dd1f>0x0?_0x19d006[_0x368924(0x6ca)]=_0x368924(0x771)+_0x18dd1f+_0x368924(0x3c0):_0x19d006[_0x368924(0x6ca)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3cb14f(0x718),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3cb14f(0x736),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x3cb14f(0x614),'name':_0x3cb14f(0x81a),'description':_0x3cb14f(0x6f5),'icon':_0x3cb14f(0x871)},'QUICK_THINKER':{'id':_0x3cb14f(0x481),'name':_0x3cb14f(0x3fe),'description':_0x3cb14f(0x6b9),'icon':_0x3cb14f(0x1d8)},'ON_FIRE':{'id':_0x3cb14f(0x394),'name':_0x3cb14f(0x16c),'description':_0x3cb14f(0x681),'icon':_0x3cb14f(0x35a)},'FIRST_TRY_ACE':{'id':_0x3cb14f(0x244),'name':_0x3cb14f(0x4f1),'description':_0x3cb14f(0x474),'icon':_0x3cb14f(0x307)},'COMEBACK_KING':{'id':_0x3cb14f(0x71c),'name':_0x3cb14f(0x64e),'description':_0x3cb14f(0x852),'icon':_0x3cb14f(0x676)},'SPECIALIST':{'id':'specialist','name':'ผู้เชี่ยวชาญ','description':_0x3cb14f(0x237),'icon':_0x3cb14f(0x4d0)},'PERSEVERANCE':{'id':_0x3cb14f(0x593),'name':_0x3cb14f(0x6ab),'description':_0x3cb14f(0x4ef),'icon':_0x3cb14f(0x742)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x3cb14f(0x26b),'storageBucket':_0x3cb14f(0x2e5),'messagingSenderId':'274192258111','appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x3cb14f(0x160)?__app_id:_0x3cb14f(0x29f),adminView=document['getElementById'](_0x3cb14f(0x4e1)),studentView=document['getElementById'](_0x3cb14f(0x253)),projectDashboardView=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x406)),projectDetailView=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x6d7)),quizResultsView=document['getElementById'](_0x3cb14f(0x65c)),projectList=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x5ac)),noProjectsMsg=document['getElementById'](_0x3cb14f(0x64d)),projectTitle=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x1f9)),projectIdDisplay=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x146)),studentList=document['getElementById']('student-list'),messageModal=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x1ae)),modalMessage=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x259)),createProjectModal=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x7be)),adminPasswordModal=document['getElementById'](_0x3cb14f(0x662)),confirmationModal=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x583)),userIdDisplay=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x5ad)),topicTab=document[_0x3cb14f(0x2d1)]('topic-tab'),textTab=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x540)),topicInputArea=document[_0x3cb14f(0x2d1)]('topic-input-area'),textInputArea=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x230)),manageTab=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x3e2)),resultsTab=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x518)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x7fa)),resultsTabContent=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x874)),leaderboardTabContent=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x64f)),projectQuizzesList=document[_0x3cb14f(0x2d1)]('project-quizzes-list'),fileTab=document['getElementById'](_0x3cb14f(0x64b)),fileInputArea=document[_0x3cb14f(0x2d1)]('file-input-area'),fileUploadInput=document['getElementById'](_0x3cb14f(0x2c9)),worksheetTab=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x3f0)),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document[_0x3cb14f(0x2d1)]('generate-worksheet-btn'),studentInitialView=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x7a7)),studentNameSelectionView=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x664)),studentQuizArea=document['getElementById'](_0x3cb14f(0x7ed)),studentResultArea=document[_0x3cb14f(0x2d1)]('student-result-area'),studentReadingArea=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x6fd)),loadQuizBtn=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x461)),startQuizBtn=document['getElementById'](_0x3cb14f(0x495)),studentJoinGameView=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x4aa)),presentationModal=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x26a)),renameQuizModal=document['getElementById'](_0x3cb14f(0x7ae)),moveQuizModal=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x814)),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document[_0x3cb14f(0x2d1)](_0x3cb14f(0x714)),liveGameView=document['getElementById'](_0x3cb14f(0x7c0));function handleAutoFixLatex(){const _0xd4bda9=_0x3cb14f,_0x467265=document[_0xd4bda9(0x2d1)]('quiz-editor-questions-container')||document,_0x32aba8=_0x467265['querySelectorAll']([_0xd4bda9(0x655),_0xd4bda9(0x3a9),'[contenteditable=\x22true\x22]',_0xd4bda9(0x792),_0xd4bda9(0x52f),_0xd4bda9(0x5b2),'.choice-text',_0xd4bda9(0x2e1),_0xd4bda9(0x501)][_0xd4bda9(0x551)](','));let _0x35dd41=0x0;const _0x93652f=_0x5c1806=>_0xd4bda9(0x327)in _0x5c1806?String(_0x5c1806[_0xd4bda9(0x327)]):_0x5c1806[_0xd4bda9(0x5ed)]!==undefined?_0x5c1806[_0xd4bda9(0x5ed)]:_0x5c1806['textContent']||'',_0x235ff2=(_0x3359a7,_0x290234)=>{const _0x1fda08=_0xd4bda9;if(_0x1fda08(0x327)in _0x3359a7){_0x3359a7[_0x1fda08(0x327)]=_0x290234;return;}if(_0x3359a7[_0x1fda08(0x271)]&&_0x3359a7[_0x1fda08(0x271)](_0x1fda08(0x4f2)))return;if(_0x3359a7[_0x1fda08(0x5ed)]!==undefined)_0x3359a7['innerText']=_0x290234;else _0x3359a7[_0x1fda08(0x6ca)]=_0x290234;},_0x7762cb=_0x326e08=>_0x326e08['replace'](/\u00A0/g,'\x20')[_0xd4bda9(0x774)](/\u200B/g,'')[_0xd4bda9(0x774)](/\r\n?/g,'\x0a'),_0x361b42=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0xaa13ea=_0x20924a=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0xd4bda9(0x66e)](_0x20924a),_0x1a4d9b=_0x3962a5=>{const _0x59366a=_0xd4bda9,_0x4ffa01=(_0x3962a5[_0x59366a(0x4c3)](/\{/g)||[])[_0x59366a(0x1d7)],_0x1a7e7e=(_0x3962a5[_0x59366a(0x4c3)](/\}/g)||[])['length'];if(_0x4ffa01>_0x1a7e7e)_0x3962a5=_0x3962a5+'}'['repeat'](_0x4ffa01-_0x1a7e7e);return _0x3962a5;},_0x5ccc1a=_0x45175b=>{const _0x597046=_0xd4bda9;let _0x553e72=_0x45175b[_0x597046(0x175)]();const _0x4d6305=['frac',_0x597046(0x4a7),_0x597046(0x699),_0x597046(0x2f6),_0x597046(0x77d),_0x597046(0x810),_0x597046(0x65b),_0x597046(0x57d),'leq',_0x597046(0x5bb),'le','ge','neq','pm','approx','sin','cos',_0x597046(0x246),'log','ln','sum',_0x597046(0x508),_0x597046(0x1a4),_0x597046(0x437),_0x597046(0x15e),_0x597046(0x885),_0x597046(0x2e9),_0x597046(0x58b),_0x597046(0x87e)];_0x553e72=_0x553e72[_0x597046(0x774)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x4d6305[_0x597046(0x551)]('|')+_0x597046(0x1ed),'g'),'\x5c'),_0x4d6305[_0x597046(0x1f4)](_0xed874f=>{const _0x199e17=_0x597046;_0x553e72=_0x553e72[_0x199e17(0x774)](new RegExp(_0x199e17(0x48b)+_0xed874f+'\x5cb','g'),(_0x437e6a,_0x2952ec)=>_0x2952ec+'\x5c'+_0xed874f);});const _0x3638cb=[[/×/g,'\x5ctimes'],[/·/g,_0x597046(0x7c2)],[/÷/g,_0x597046(0x5d8)],[/≤/g,_0x597046(0x418)],[/≥/g,_0x597046(0x525)],[/≠/g,_0x597046(0x11d)],[/±/g,_0x597046(0x21e)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x3638cb['forEach'](([_0x35c123,_0x1bd25c])=>{const _0x6a2d72=_0x597046;_0x553e72=_0x553e72[_0x6a2d72(0x774)](_0x35c123,_0x1bd25c);}),_0x553e72=_0x553e72[_0x597046(0x774)](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x553e72=_0x553e72[_0x597046(0x774)](/√\s*([A-Za-z0-9]+)/g,_0x597046(0x1ee)),_0x553e72=_0x553e72[_0x597046(0x774)](/(^|[^\\])\bimes\b/g,_0x597046(0x6d0))[_0x597046(0x774)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x597046(0x761))[_0x597046(0x774)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x597046(0x774)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x597046(0x774)](/\\text\(([^)]*)\)/g,_0x597046(0x19d))[_0x597046(0x774)](/\s\\frac/g,_0x597046(0x25a)),_0x553e72=_0x553e72[_0x597046(0x774)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x51a4eb,_0x55f7bc,_0x313cd2,_0xaf5344)=>_0x55f7bc+_0x597046(0x1f3)+_0x313cd2+'}{'+_0xaf5344+'}'),_0x553e72=_0x553e72[_0x597046(0x774)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x597046(0x89d))[_0x597046(0x774)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x597046(0x89d)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x597046(0x3fa)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x597046(0x3fa)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x597046(0x3fa)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x597046(0x3fa)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x597046(0x3fa)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x597046(0x489)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x597046(0x3fa)]][_0x597046(0x1f4)](([_0x3af7b1,_0x30dcc1])=>{const _0x21fd8f=_0x597046;_0x553e72=_0x553e72[_0x21fd8f(0x774)](_0x3af7b1,_0x30dcc1);}),_0x553e72=_0x553e72[_0x597046(0x774)](/(\d+)\s*%/g,_0x597046(0x878)),_0x553e72=_0x553e72[_0x597046(0x774)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x597046(0x1a5))[_0x597046(0x774)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x597046(0x162))[_0x597046(0x774)](/\{\{([^\{\}]+)\}\}/g,_0x597046(0x7ec)),[_0x597046(0x7d4),'cos',_0x597046(0x246),_0x597046(0x371),'ln'][_0x597046(0x1f4)](_0x2bb51f=>{const _0x25cf2b=_0x597046;_0x553e72=_0x553e72['replace'](new RegExp(_0x25cf2b(0x48b)+_0x2bb51f+'\x5cs*\x5c(','g'),(_0x52385b,_0x8f23c0)=>_0x8f23c0+'\x5c'+_0x2bb51f+'(');});const _0x4523c2=(_0x553e72[_0x597046(0x4c3)](/\\left\b/g)||[])[_0x597046(0x1d7)],_0x54ed4b=(_0x553e72[_0x597046(0x4c3)](/\\right\b/g)||[])[_0x597046(0x1d7)];if(_0x4523c2!==_0x54ed4b)_0x553e72=_0x553e72[_0x597046(0x774)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x553e72=_0x1a4d9b(_0x553e72),_0x553e72;},_0x183c73=_0x494692=>{const _0x72b927=_0xd4bda9;if(/\$|\\\(|\\\[/[_0x72b927(0x66e)](_0x494692))return _0x494692;if(!_0x361b42[_0x72b927(0x66e)](_0x494692))return _0x494692;const _0x3e76e1=_0x494692['match'](/^\s*/)[0x0],_0x556a21=_0x494692[_0x72b927(0x4c3)](/\s*$/)[0x0],_0x29116f=_0x494692[_0x72b927(0x175)]();return _0x3e76e1+'$'+_0x5ccc1a(_0x29116f)+'$'+_0x556a21;},_0x61a15c=_0x3f926a=>_0x3f926a[_0xd4bda9(0x796)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x32aba8[_0xd4bda9(0x1f4)](_0x401764=>{const _0x5464e2=_0xd4bda9;if(_0x401764['querySelector']&&_0x401764['querySelector'](_0x5464e2(0x4f2)))return;const _0x5b42cc=_0x93652f(_0x401764);let _0x233770=_0x7762cb(_0x5b42cc);_0x233770=_0x233770['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x4d43a1,_0x265543)=>'$$'+_0x5ccc1a(_0x265543)+'$$')[_0x5464e2(0x774)](/\$([^$]*?)\$/g,(_0x48df82,_0x5ad728)=>'$'+_0x5ccc1a(_0x5ad728)+'$')[_0x5464e2(0x774)](/\\\(([\s\S]*?)\\\)/g,(_0x36be5e,_0x45b50b)=>'\x5c('+_0x5ccc1a(_0x45b50b)+'\x5c)')[_0x5464e2(0x774)](/\\\[([\s\S]*?)\\\]/g,(_0xbdb4f3,_0x247251)=>'\x5c['+_0x5ccc1a(_0x247251)+'\x5c]');let _0x89128b=_0x233770,_0x1ddabc=0x0;const _0x5e9644=_0x11221d=>_0x11221d[_0x5464e2(0x774)](/S([^S]{0,2000}?)S/g,(_0xd3a368,_0x3f3f75)=>_0x361b42[_0x5464e2(0x66e)](_0x3f3f75)?'$'+_0x5ccc1a(_0x3f3f75)+'$':_0xd3a368);while(_0x1ddabc++<0x14){const _0x2918d6=_0x5e9644(_0x89128b);if(_0x2918d6===_0x89128b)break;_0x89128b=_0x2918d6;}_0x233770=_0x89128b,_0x233770=_0x233770[_0x5464e2(0x796)]('\x0a')['map'](_0x1dc9b3=>{const _0x1e2bde=_0x5464e2;if(!(/[,\u3001，;；]/[_0x1e2bde(0x66e)](_0x1dc9b3)||/\s(?:และ|หรือ)\s/['test'](_0x1dc9b3))||!_0x361b42[_0x1e2bde(0x66e)](_0x1dc9b3))return _0x1dc9b3;return _0x61a15c(_0x1dc9b3)[_0x1e2bde(0x3ea)](_0x5b7357=>{const _0x1a5aaf=_0x1e2bde;if(/^\s(?:และ|หรือ)\s$/[_0x1a5aaf(0x66e)](_0x5b7357)||/^[,\u3001，;；]$/[_0x1a5aaf(0x66e)](_0x5b7357))return _0x5b7357;return _0x183c73(_0x5b7357);})['join']('');})[_0x5464e2(0x551)]('\x0a'),_0x233770=_0x233770[_0x5464e2(0x796)]('\x0a')['map'](_0x5c0d14=>{const _0x136638=_0x5464e2,_0x3fa17b=_0x5c0d14['trim']();if(!_0x3fa17b)return _0x5c0d14;const _0x44240b=/\$|\\\(|\\\[/['test'](_0x3fa17b),_0x2f02e9=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x136638(0x66e)](_0x3fa17b);if(_0x44240b||!_0x2f02e9||_0xaa13ea(_0x3fa17b))return _0x5c0d14;return _0x5c0d14[_0x136638(0x774)](_0x3fa17b,'$'+_0x5ccc1a(_0x3fa17b)+'$');})[_0x5464e2(0x551)]('\x0a'),_0x233770=_0x233770[_0x5464e2(0x774)](/(\d+)\s*°\s*C\b/g,(_0x219034,_0x41c660,_0x1ee08d,_0x4d95a1)=>{const _0x5caf9a=_0x4d95a1[_0x1ee08d-0x1];if(_0x5caf9a==='$'||_0x5caf9a==='S'||_0x5caf9a==='\x5c')return _0x219034;return'$'+_0x41c660+'^{\x5ccirc}\x5ctext{C}$';})[_0x5464e2(0x774)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x51d0b8,_0x2228ba,_0x208576,_0x4068e6)=>{const _0x535da7=_0x5464e2,_0x37bc09=_0x4068e6[_0x208576-0x1];if(_0x37bc09==='$'||_0x37bc09==='S'||_0x37bc09==='\x5c')return _0x51d0b8;return'$'+_0x2228ba+_0x535da7(0x421);})[_0x5464e2(0x774)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0xa7fee7,_0x119326,_0x507a5d,_0x3cefb2)=>{const _0xab7b12=_0x3cefb2[_0x507a5d-0x1];if(_0xab7b12==='$'||_0xab7b12==='S'||_0xab7b12==='\x5c')return _0xa7fee7;return'$'+_0x119326+'^{\x5ccirc}\x5ctext{C}$';}),_0x233770=_0x233770[_0x5464e2(0x774)](/\$\s*\$/g,'$$'),_0x233770!==_0x5b42cc&&(_0x235ff2(_0x401764,_0x233770),_0x35dd41++);});if(_0x35dd41>0x0){showMessage(_0xd4bda9(0x349)+_0x35dd41+_0xd4bda9(0x17a));try{if(window['MathJax']&&MathJax[_0xd4bda9(0x8a4)])MathJax[_0xd4bda9(0x8a4)]();window[_0xd4bda9(0x7c5)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x467265,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x4878d5){}}else showMessage(_0xd4bda9(0x120));}async function listenForCustomMathTopics(){const _0x548aaf=_0x3cb14f,_0x588597=collection(db,_0x548aaf(0x477)+appId+_0x548aaf(0x13b));onSnapshot(_0x588597,_0x55e958=>{const _0x164439=_0x548aaf;customMathTopics=_0x55e958['docs'][_0x164439(0x3ea)](_0x5a9c7b=>({'id':_0x5a9c7b['id'],..._0x5a9c7b[_0x164439(0x1bc)]()})),renderTopicCheckboxes();},_0x543d20=>{const _0x4a5946=_0x548aaf;console[_0x4a5946(0x8ae)](_0x4a5946(0x6f6),_0x543d20);});}function handleSelectAllTopics(){const _0x572d32=_0x3cb14f,_0x4336c9=document[_0x572d32(0x2d1)](_0x572d32(0x18b)),_0x66a936=_0x4336c9[_0x572d32(0x7b0)](_0x572d32(0x1f2));_0x66a936[_0x572d32(0x1f4)](_0x2c5bd6=>{_0x2c5bd6['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x317b5c=_0x3cb14f,_0x3bc77b=document[_0x317b5c(0x2d1)](_0x317b5c(0x18b)),_0x5b69ca=_0x3bc77b[_0x317b5c(0x7b0)](_0x317b5c(0x1f2));_0x5b69ca[_0x317b5c(0x1f4)](_0x27cbf2=>{const _0x36e389=_0x317b5c;_0x27cbf2[_0x36e389(0x7bd)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1d38ba){const _0x1fd505=_0x3cb14f;if(!_0x1d38ba)return;try{const _0x593550=doc(db,_0x1fd505(0x477)+appId+_0x1fd505(0x13b),_0x1d38ba);await deleteDoc(_0x593550),showMessage(_0x1fd505(0x54d));}catch(_0x45c72d){console[_0x1fd505(0x8ae)]('Error\x20deleting\x20custom\x20topic:',_0x45c72d),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x2c2d7d=_0x3cb14f,_0x4ee2ff=document['getElementById']('custom-math-topic-input'),_0x23ad52=_0x4ee2ff[_0x2c2d7d(0x327)][_0x2c2d7d(0x175)]();if(!_0x23ad52){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x2c2d7d(0x529));return;}try{const _0x323c92=collection(db,_0x2c2d7d(0x477)+appId+_0x2c2d7d(0x13b));await addDoc(_0x323c92,{'name':_0x23ad52,'createdAt':serverTimestamp()}),_0x4ee2ff[_0x2c2d7d(0x327)]='',showMessage(_0x2c2d7d(0x627)+_0x23ad52+_0x2c2d7d(0x2f8));}catch(_0x3dd0c9){console['error'](_0x2c2d7d(0x1a2),_0x3dd0c9),showMessage(_0x2c2d7d(0x7ea));}}async function initialize(){const _0x3e372f=_0x3cb14f;try{const _0x3eedf8=initializeApp(firebaseConfig);db=getFirestore(_0x3eedf8),auth=getAuth(_0x3eedf8),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x2daa49){console['error']('Firebase\x20initialization\x20failed:',_0x2daa49),showMessage(_0x3e372f(0x383));}}function compareNumericalAnswers(_0x1c2b0a,_0x138ffd){const _0x136927=_0x3cb14f,_0x31fdcc=String(_0x1c2b0a)[_0x136927(0x774)](',','.')[_0x136927(0x774)](/[^\d.-]/g,'')[_0x136927(0x175)](),_0x40cdfa=String(_0x138ffd)[_0x136927(0x774)](',','.')[_0x136927(0x774)](/[^\d.-]/g,'')[_0x136927(0x175)]();if(_0x31fdcc===''||_0x40cdfa==='')return![];const _0x26b6a4=parseFloat(_0x31fdcc),_0x508b29=parseFloat(_0x40cdfa);if(isNaN(_0x26b6a4)||isNaN(_0x508b29))return![];return Math['abs'](_0x26b6a4-_0x508b29)<0.001;}async function gradeShortAnswer(_0x3c1a9c,_0x4854fd){const _0x3611fc=_0x3cb14f,_0x6c20a8=_0x4854fd['idealAnswer'];if(String(_0x3c1a9c)[_0x3611fc(0x175)]()[_0x3611fc(0x671)]()===String(_0x6c20a8)[_0x3611fc(0x175)]()[_0x3611fc(0x671)]())return!![];if(compareNumericalAnswers(_0x3c1a9c,_0x6c20a8))return!![];return console[_0x3611fc(0x371)](_0x3611fc(0x192)),await gradeShortAnswerWithAI(_0x3c1a9c,_0x6c20a8);}async function revealAnswerForAdmin(_0x762480,_0xcd42eb){const _0x4fea89=_0x3cb14f;if(document[_0x4fea89(0x2d1)](_0x4fea89(0x744)))return;const _0x24d889=doc(db,'artifacts/'+appId+_0x4fea89(0x581),currentLiveGameId);await updateDoc(_0x24d889,{'questionStatus':_0x4fea89(0x6a6)});const _0x365c6f=liveGameView['querySelector'](_0x4fea89(0x702));_0x365c6f&&(_0x365c6f['classList']['remove'](_0x4fea89(0x38f)),_0x365c6f['classList'][_0x4fea89(0x7c9)](_0x4fea89(0x703),_0x4fea89(0x498),_0x4fea89(0x54a),_0x4fea89(0x69a),_0x4fea89(0x683)),_0x365c6f[_0x4fea89(0x729)]=_0x4fea89(0x795)+_0x365c6f['innerHTML']);const _0x279c8c=document['getElementById'](_0x4fea89(0x34f));_0x279c8c&&(_0x279c8c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x762480+0x1===_0xcd42eb?_0x4fea89(0x7df):_0x4fea89(0x190))+_0x4fea89(0x31e),document[_0x4fea89(0x2d1)](_0x4fea89(0x744))[_0x4fea89(0x415)](_0x4fea89(0x502),async()=>{const _0x3393f8=_0x4fea89,_0xd8444a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x27045b=await getDoc(_0xd8444a);if(!_0x27045b[_0x3393f8(0x1cf)]())return;const _0x3e7485=_0x27045b[_0x3393f8(0x1bc)](),_0x1e144b={};if(_0x3e7485[_0x3393f8(0x4d7)])for(const _0x5bbe70 in _0x3e7485[_0x3393f8(0x4d7)]){_0x1e144b[_0x3393f8(0x549)+_0x5bbe70+'.answeredCurrentQuestion']=![];}const _0x3ccaa6=_0x762480+0x1;_0x3ccaa6<_0xcd42eb?(_0x1e144b['currentQuestionIndex']=_0x3ccaa6,_0x1e144b[_0x3393f8(0x1d6)]=serverTimestamp(),_0x1e144b[_0x3393f8(0x75c)]='answering',await updateDoc(_0xd8444a,_0x1e144b)):await updateDoc(_0xd8444a,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x11f623=>{const _0x1a8ad5=_0x4478;if(_0x11f623){userId=_0x11f623['uid'],userIdDisplay['textContent']=userId;const _0x276b35=await loadUserPreferences();_0x276b35[_0x1a8ad5(0x546)]&&(document['getElementById'](_0x1a8ad5(0x722))['value']=_0x276b35[_0x1a8ad5(0x546)]);globalDashboardSettings['projectView']=_0x276b35[_0x1a8ad5(0x425)]||_0x1a8ad5(0x598);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function _0x49a7(){const _0x227be4=['เกิดข้อผิดพลาดในการอัปเดตสถานะ','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-500\x20hover:text-red-700','จำนวนคู่:','.question-editor-item[data-q-index=\x22','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','submittedAt','Error\x20displaying\x20question\x20bank:','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','schedule','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log','.quiz-bank-item','ไม่พบข้อมูลการจับคู่','toggle','ตอบถูกทุกข้อในแบบทดสอบนี้','Error\x20listening\x20for\x20custom\x20math\x20topics:','passingScore','bg-blue-100\x20text-blue-800','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','admin-dashboard','รูปแบบการให้เหตุผล','_opt1\x22\x20name=\x22question','student-reading-area','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offset','classWeaknesses','[data-is-correct=\x22true\x22]','bg-green-300','_opt','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-schedule-start-container','</p>','game-pin-input','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','content','.delete-svg-btn','overallGroups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','Error\x20saving\x20to\x20question\x20bank:','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','text-emerald-800','quiz-status-modal','element','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','student','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','password-error-msg','comeback_king','FileReader\x20error:','standard','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','กรุณาใส่ชื่อนักเรียน','fill_in_with_choices','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','ฟังก์ชันลอการิทึม','modal-close-btn','.edit-quiz-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100\x20text-red-800','innerHTML','behavior-log-tab-content','12jNNSiu','export-tutor-pdf-btn','.topic-name-display','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','s;\x22\x20title=\x22','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','</li>','\x22\x20data-q-type=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','ตรีโกณมิติ','baseVal','bestScore','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-word-btn','project-passcode-input','dragover','toString','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','doughnut','เวกเตอร์และเมทริกซ์\x20(เสริม)','/submissions','delete-svg-btn','fa-dumbbell\x20text-gray-700','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','next-live-question-btn','.sort-indicator','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','Error\x20joining\x20live\x20game:','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','กรุณาใส่ชื่อโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','player-count','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','text-yellow-500','ทฤษฎีทวินาม\x20(เบื้องต้น)','image/png','createElement','</span>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','badgesCount','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','mouseup','teacherSuggestions','หมดเวลา!\x20กำลังส่งคำตอบ...','str','questionStatus','documentElement','height','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','$1\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','คัดลอกรหัสแล้ว!','.correctStreak','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','upperGroupNames','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#E5E7EB','<div\x20id=\x22q-image-container-','idealAnswer','ดอทโปรดักต์\x20(dot)','(เลือกแล้ว\x20','.export-pdf-list-btn','createObjectURL','replace','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','afterend','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','scheduled_pending','quiz-status-options','asc','text','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','export-worksheet-pdf-btn','text/csv;charset=utf-8;','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','การประยุกต์เวกเตอร์พื้นฐาน','ห.ร.ม.\x20(GCD)','cancel-quiz-bank-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','modal-timer-duration-input','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','```','back-to-dashboard-btn','</td></tr>','\x22><i\x20class=\x22fas\x20','back-to-results-btn','index','matching_item','[role=\x22textbox\x22]','Error\x20starting\x20live\x20race:','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','split','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-row','.live-answer-btn','กรุณาวาง\x20URL\x20ของบทความก่อน','แผนการสอน:\x20','ระบบอสมการ','items','admin-password-input','correctStreak','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','จำนวนข้อ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','next-question-btn','lesson-plan-title','#DBEAFE','student-initial-view','\x20(p=','อนุพันธ์:\x20กฎลูกโซ่','candidates','open','slice','preTestId','rename-quiz-modal','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','querySelectorAll','</strong></p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','text-red-800','question','29269097gMqUSA','deselect-all-topics-btn','มุมพิเศษ\x2030°-60°-90°','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','body','quizMode','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','create-project-modal','1370KCvMzW','live-game-view','ย้ายแบบทดสอบไปโปรเจคอื่น','\x5ccdot','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','katex','Error\x20loading\x20user\x20preferences:','<h1></h1>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','add','เกมสิ้นสุดลงแล้ว','_opt1\x22>ไม่ใช่</label></div>','</p></div>','bank-input-area','.delete-submission-btn','ไม่มี','</p><p><strong>เฉลย:</strong>\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ปัจจุบัน:\x20','sin','text-blue-700\x20bg-blue-100','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<tr><td\x20colspan=\x22','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจคะแนนใหม่','results-quiz-id-display','numeric','option','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ดูสรุปผล','answerText','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','</form>','name','results','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','correct','คำเตือน\x20(','Failed\x20to\x20get\x20standardized\x20topic:','per-question-options','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','เลือกโปรเจคเพื่อบันทึก','{$1}','student-quiz-area','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','บันทึกการแก้ไข','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','คัดลอกแบบทดสอบสำเร็จ','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','modal-timer-duration-label','http://www.w3.org/2000/svg','comparison-individual-tab','student-name-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','manage-tab-content','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','questionText','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','เรขาคณิต','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','คำตอบถูกต้อง!\x20+','bg-yellow-50','ชนิดของข้อมูลและการเก็บข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','target','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','times','open-quiz-bank-btn','svg','quiz','move-quiz-modal','default','\x20คน\x20จากนักเรียนกลุ่มเสี่ยง\x20','remove','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','คะแนนเต็ม','.correct-response-input','.pair-quiz-btn','</tbody></table></div>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','lessonPlan','stopPropagation','Error\x20during\x20class\x20analysis:','_opt0\x22>ใช่</label></div>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','ทศนิยม\x20(ค่าประจำหลัก)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','%</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','border-green-300\x20bg-green-50','\x22.\x20Ideal\x20Answer:\x20\x22','toISOString','ความคาดหมาย\x20(Expected\x20value)','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','\x22,\x20','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','get','lowerGroupResponders','display','toDataURL','คัดลอกไม่สำเร็จ','both','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','progress-student-select','download','.live-answer-btn,\x20#live-submit-short-answer-btn','project-name-input','numPages','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','การบวก','toFixed','quizType','originalQuestionText','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','ค่าสัมบูรณ์','-tab','confirm-global-live-btn','students','ไฮเพอร์โบลา','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20/\x20','<p\x20class=\x22','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','timer-mode-select','live-short-answer-input','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','execCommand','.admin-try-quiz-list-btn','comparison-chart','แบบทดสอบซ่อมเสริม','27411472','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','shuffle-setting-select','\x22\x20class=\x22delete-project-btn\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','#per-question-options\x20textarea','.project-card-content','ร้อยละพื้นฐาน','save-settings-btn','.delete-student-btn','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','save','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','global-live-game-count','originalTopic','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','ค่าเสื่อมราคา','สมการตรีโกณมิติ','close','fa-crown\x20text-yellow-500','bg-green-100\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','results-tab-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','normal','ไม่พบข้อมูลแบบทดสอบ','$1\x5c%','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','bank-quiz-list','live-options-container','ชื่อหัวข้อห้ามว่าง','deg','Error\x20updating\x20quiz\x20settings:','empty','stringify','.pdf','\x20คน))\x0a</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','overline','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','5GvaifO','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คณิตศาสตร์','(คัดลอก)\x20','getScreenCTM','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Error\x20saving\x20project\x20order:','correctAnswer','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','show_results_and_answers','timerMode','teachingContent','Original\x20quiz\x20not\x20found','text-red-700','description','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x5cfrac{$1}{$2}','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','upperGroupResponders','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ก่อนเรียน','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20project\x20color:','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed','some','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20','error','project-passcode-modal','input[type=\x22checkbox\x22]:checked','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','preTScore','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','.draggable-text','Error\x20creating\x20project:','text-red-600','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','หัวข้อที่สร้างเอง','ระบบสมการเชิงเส้นสองตัวแปร','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20จาก\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','แบบทดสอบนี้หมดเวลาแล้ว','\x5cneq','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','none','ปริมาตร/ความจุและการแปลง','[*]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','destroy','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manual_release','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','/public/data/practiceBank','localeCompare','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','ตารางความถี่','change','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','text-white','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','max','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','\x22\x20class=\x22color-palette-btn\x20','/public/data/customMathTopics','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','countdown-display','ฮิสโตแกรม','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','set','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x20คน))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>วิเคราะห์จากการทำข้อสอบชุดนี้ซ้ำ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>ใช่</p>','min','project-id-display','อัตราและอัตราหน่วย','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','confirm-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','attempts','Error\x20fetching\x20projects\x20for\x20move:','export-image-btn','studentName','color','</tr>','style','font-bold\x20text-green-700','quiz-generation-area','(หลังเรียน)\x20','student-quiz-leaderboard-content','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','/public/data/projects','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเฉลี่ย','สมการเหตุผล\x20(rational)','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','right','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','undefined','rgba(16,\x20185,\x20129,\x200.7)','$1_{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard_','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20<b>สถานะ:</b>\x20','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','hint-btn','ท็อปฟอร์ม','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','behaviorLog','touchstart','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','trim','authed_project_','blockReason','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x20ช่อง','resultsDisplay','delete','(คู่ขนาน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x20\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','ลำดับการดำเนินการ\x20(PEMDAS)','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','generate-from-file-btn','math-topics-checkbox-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','Error\x20comparing\x20results:','latestSubmittedAt','parse','ข้อต่อไป','move','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','OBJECT','โดเมนและเรนจ์','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','th-TH','timer-duration-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','student-project-leaderboard-table-body','sort','list','\x5ctext{$1}','\x22\x5cn','student-quiz-leaderboard-table-body','\x20คู่\x20','Error\x20moving\x20quiz:','Error\x20adding\x20custom\x20topic:','กำลังอ่านและเตรียมไฟล์...','binom','$1^{$2}','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','force-math-checkbox','</span></td>','show_pass_fail_only','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','AI\x20request\x20was\x20blocked.\x20Reason:\x20','global-quiz-list','message-modal','bg-green-200\x20text-green-800','text-emerald-900','Error\x20generating\x20lesson\x20plan:','results-table-container','เลือกและบันทึก','.regenerate-question-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20','lowerGroupNames','text-green-600','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20rounded-md\x20hover:bg-indigo-100\x20cursor-pointer\x20pa-goal-details-btn\x22\x20data-pre-test-id=\x22','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','data','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-create-project-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','input[name=\x22status-option\x22]','สร้างคำถามแบบใช่/ไม่ใช่','Error\x20listening\x20for\x20projects:','width','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','project-search-input','add-custom-math-topic-btn','export-leaderboard-excel-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','find','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','onload','exists','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','settings','.color-palette-popup','string','#student-project-leaderboard-content\x20thead','questionDisplayedAt','length','fa-bolt\x20text-blue-500','live-game','กำลังจับคู่...','</h3>','<p\x20class=\x22text-sm\x20text-red-600\x22>ยังไม่ได้ตั้งค่า\x20\x22คะแนนที่ผ่าน\x22\x20สำหรับแบบทดสอบนี้\x20ทำให้ไม่สามารถวิเคราะห์เป้าหมาย\x20PA\x20ได้</p>','parts','inactive','dashboardConfig','รูปสแควร์รูท\x20(surd)','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','8kjGQzv','webkitRequestFullscreen','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','cancel-quiz-edits-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','q-image-container-','hint','quiz-leaderboard-table-container',')\x5cb)','\x5csqrt{$1}','toDate','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','list-view-btn','input[type=\x22checkbox\x22]','\x5cfrac{','forEach','.rename-quiz-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','questionType','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','project-title','แบบทดสอบนี้ปิดใช้งานอยู่','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','bg-red-200\x20text-red-800','Error\x20updating\x20sort\x20preference:','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','.quiz-status-btn','getPage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','dataset','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','touchmove','modal-adaptive-quiz-checkbox','border-red-700','.color-palette-btn','q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กรุณาเลือกสถานะ','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','shuffleSetting','fullscreenElement','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','correctResponse','class','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','projectId','opacity','findIndex','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','4102857PvQmHP','bg-green-100','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','\x5cpm','quiz-search-input','จำนวนคละ','ความต่อเนื่อง','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','answeredCurrentQuestion','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','คำถามดิบ:\x20\x22','Error\x20pairing\x20quizzes:','.doc','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','วงกลม:\x20คอร์ดและเส้นสัมผัส','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x22>ไม่ใช่</p>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','text-input-area','เกิดข้อผิดพลาดในการสร้างใบงาน','<div\x20class=\x22loader\x20mx-auto\x22></div>','global-quiz-search-input','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','isAdaptive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.unpair-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contains','presentation-explanation','<div\x20class=\x22my-6\x22>','.project-card-container','#FEE2E2','globalSettings','first_try_ace','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','tan','ค่าความจริง/ตารางค่าความจริง','isRemedial','floor','4824LKapHH','start-live-race-generated-btn','gain','กรุณาป้อนรหัสแบบทดสอบ','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','move-quiz-project-select','loopUntilPass','กรุณาใส่ชื่อใหม่','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','student-view','การเรียงสับเปลี่ยน\x20(Permutation)','filter','loop-until-pass-checkbox','รูปหลายเหลี่ยมและมุมภายใน','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-message','\x5cfrac','backgroundColor','การแยกตัวประกอบ','postTestId','quiz-id-input','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','-\x20ข้อ\x20','Error\x20fetching\x20quiz\x20settings:','mode-switcher-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พีชคณิตและฟังก์ชัน','badges','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','พื้นที่สามเหลี่ยม','presentation-modal','ai-quiz-app-aefee','close-lesson-plan-modal-btn','attemptNumber','\x22\x20value=\x22true\x22\x20','save-visibility-settings-btn','2748342rqnMDy','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','quiz-form','flex\x20flex-col\x20gap-2','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generate-from-parallel-test-btn','raw','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างรูปภาพ...','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','progress-project-select','results_','analytics-tab-btn','ดีเทอร์มิแนนต์','มัธยฐาน','ความคล้ายของรูป','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','score-distribution-chart','ไม่สามารถโหลดรายการโปรเจคได้','drop','hidden','classList','การลบเศษส่วน','ส่วนเบี่ยงเบนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','การสร้างรูปด้วยวงเวียน–สันตรง','application/json','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','block','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','student-name-input','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','<span\x20class=\x22font-bold\x20text-yellow-700\x22>ยังไม่บรรลุเป้าหมาย</span>','ศูนย์','editable-text-','ai-quiz-generator-v3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','preventDefault','เกิดข้อผิดพลาดในการบันทึก','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','\x22><p\x20class=\x22font-semibold\x22>','getBoundingClientRect','quiz-end-time','getContext','entries','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ไม่มีคำอธิบาย','ใช่,\x20ตรวจใหม่','passing-score-input','ปริมาตรรูปทรงสามมิติ','setAttribute','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseleave','back-from-results-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','ระยะเวลา\x20(นาที):','leaderboard','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','rows','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','text-green-500','editable-quiz-topic','.generate-lesson-btn','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','.pin-project-btn','.group','comparison-modal','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','category','startTime','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-upload-input','พาราโบลา','random','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','border-gray-200','currentTarget','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','actions-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','scrollX','draggable-text','ผู้ควบคุม\x20(ทดสอบ)','<span\x20class=\x22font-bold\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','ตัวแปรและนิพจน์','FIRST_TRY_ACE','Error\x20generating\x20parallel\x20test\x20from\x20bank:','title','#F59E0B','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','project-detail','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','ai-quiz-app-aefee.appspot.com','cancel-rename-quiz-btn','check-answer-btn','setAttributeNS','underline','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ownerSVGElement','qIndex','การปัดเศษและประมาณค่า','อุณหภูมิและการแปลง','name_asc','totalPoints','user','จัดการ','ความแปรปรวน','<div\x20class=\x22space-y-4\x22>','หน่วยเวลาและการคำนวณเวลา','sqrt','include-images-checkbox','\x22\x20สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-custom-topic-btn','stem','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','pointsLastQuestion','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question','.quiz-result-card','active','pre-test-checkbox','per-question-text','แผนการสอน','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fa-rocket\x20text-purple-500','</p><div>','ไม่พบข้อมูลข้อสอบหลังเรียน','#view-rankings-btn','input','.star-quiz-btn','.topic-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','เส้นตรง:\x20รูปแบบสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','save-quiz-edits-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','<div\x20class=\x22mb-3\x20topic-category\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','การแจกแจงทวินาม\x20(พื้นฐาน)','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','POST','ยกเลิกการจับคู่สำเร็จ','pinned-items','.topic-actions-edit','/preferences/main','Error\x20unpairing\x20quizzes:','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','values','substring','เส้นรอบรูป','num-questions','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','dispatchEvent','Error\x20saving\x20user\x20preference:','has','value','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','timer-duration-container','</label>\x0a\x20\x20\x20\x20</div>\x0a','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-image-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','#per-question-options\x20select','border-indigo-400\x20ring-2\x20ring-indigo-200','retake-quiz-loop-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','แก้ไขหัวข้อสำเร็จ','Error\x20generating\x20from\x20link:','per-q-countdown','results-display-select','pairedQuizId','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','short_answer','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','เรขาคณิตวิเคราะห์','<span\x20class=\x22font-bold\x20text-green-700\x22>บรรลุเป้าหมาย</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','กรุณาเลือกไฟล์ก่อน','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20mx-1\x20text-lg\x22></i></span>','dragstart','<li>','text-green-700','fill_in_the_blank','admin-testing','next-drill-btn','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','loader','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','admin-action-buttons','เกี่ยวกับหัวข้อ\x20\x22','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','catch','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/projects/','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','fa-fire\x20text-orange-500','สร้างแบบทดสอบ','สร้างคำถามแบบเติมคำในช่องว่าง','%\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','stdDev','generate-from-topic-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','export-leaderboard-pdf-btn','STRING','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','scrollY','topic','(ก่อนเรียน)\x20','promptFeedback','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','podium','offsetWidth','/public/data/quizzes/','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','เกิดข้อผิดพลาดในการโหลดโปรเจค','ย้าย','log','message','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-gray-500','cancel-export-pdf-btn','admin-try-quiz-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','อัตราส่วนและสัดส่วน','GlobalWorkerOptions','จำนวนและการดำเนินการ','getBBox','bg-red-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22pa-details-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-60\x20flex\x20items-center\x20justify-center\x20hidden\x20z-50\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22bg-white\x20p-6\x20rounded-lg\x20shadow-xl\x20max-w-2xl\x20w-full\x20h-[80vh]\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x20border-b\x20pb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20id=\x22pa-modal-title\x22\x20class=\x22text-xl\x20font-bold\x20text-indigo-700\x22>รายละเอียดเป้าหมาย\x20(PA)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-pa-modal-btn\x22\x20class=\x22text-gray-500\x20hover:text-red-600\x20text-3xl\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pa-modal-content\x22\x20class=\x22flex-grow\x20overflow-y-auto\x20bg-gray-50\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20flex\x20justify-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-pa-modal-footer-btn\x22\x20class=\x22bg-gray-200\x20text-gray-800\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-300\x22>ปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','view-my-progress-btn','ย้ายแบบทดสอบสำเร็จ','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','.png','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','ดีมาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','```json','bg-white/30','ไม่สามารถสร้างโปรเจคได้','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','Enter','presentation-slide-container','on_fire','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','currentQuestionIndex','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ไม่สามารถบันทึกการตั้งค่าได้','ไม่ใช่','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','projectName','ความเท่ากันทุกประการของสามเหลี่ยม','bg-gray-50','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','showInStudentDashboard','\x22\x20data-post-test-id=\x22','text-red-900','คะแนน','(ก่อนเรียน)','bg-purple-50','<option\x20value=\x22','input[type=\x22text\x22]','imageCode','</div>','student-project-leaderboard-content','<span\x20title=\x22','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','cloneNode','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','export-excel-btn','text/html','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโปรเจค:\x20','medium','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','quiz-bank-modal','quiz-bank-count','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','padStart','isPinned','close-comparison-modal-footer-btn','bg-red-50','\x20หัวข้อ)','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','submission-status-chart','removeAttribute','PERFECT_SCORE','quizId','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','</div><div\x20class=\x22space-y-2\x22>','auto-fix-latex-btn','Error\x20generating\x20quiz:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','red','commit','สถิติและความน่าจะเป็น','Error\x20updating\x20quiz\x20status:','analytics','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','reference-pdf-upload','mousemove','Error\x20resetting\x20project\x20order:','closest','text-gray-300\x20hover:text-white','pre-test','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20สำเร็จ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(59,\x20130,\x20246,\x200.7)','</tbody></table>','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','STOP','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab','\x22\x20name=\x22drill_answer\x22\x20value=\x22','close-comparison-modal-btn','touchcancel','post-test','export-pdf-modal','text-gray-400\x20hover:text-indigo-600','ตรวจคะแนนใหม่\x20','map','bg-emerald-100','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','00:00','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','behavior-log-tab-btn','worksheet-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','rgba(79,\x2070,\x20229,\x201)','keys','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20star\x20status:','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','$1^{\x5ccirc}\x5ctext{C}','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','student-progress-content','เซียนสมองไว','\x5ctimes','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','print','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','.delete-project-btn','project-dashboard-view','4485164tKXdHm','quiz-results','<textarea\x20name=\x22question','Error\x20generating\x20from\x20parallel\x20test\x20file:','passcode-prompt-message','thead\x20.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ลบโปรเจคสำเร็จแล้ว','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','focus','addEventListener','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ฐานนิยม','\x5cle','Error\x20listening\x20for\x20student\x20profiles:','\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','answer','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','.sortable-header','^{\x5ccirc}\x5ctext{C}$','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','beforeend','projectView','ตัวประกอบและตัวประกอบเฉพาะ','modal-shuffle-select','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','student-passcode-input','หน่วยความยาวและการแปลง','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','text-content-input','Error\x20generating\x20worksheet:','):\x20','options','mean','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700\x20bg-red-100','</option>','ลำดับเลขคณิต\x20(AP)','hover:bg-indigo-100','left','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table','.parallel-quiz-btn','การวัด','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-list-lobby','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันค่าสัมบูรณ์','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','opacity-50','show_results_only','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-word-btn','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ไม่สามารถโหลดข้อมูลอันดับได้','ระยะเวลา\x20(วินาที):','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','<tr>','timer-duration-label',';\x22\x20data-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','loader-text','.copy-quiz-id-list-btn','insertBefore','จุด\x20เส้น\x20ระนาบ','bg-green-50','copy','num-choices-container','\x20คน))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>วิเคราะห์โดยเทียบผลกับข้อสอบก่อนเรียน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','per-question-timer-container','</span></p>','temp-loader-text-results','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','สัญกรณ์วิทยาศาสตร์','date_desc','leaderboard-quiz-tab-content','auto','flex','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','<i\x20class=\x22fas\x20fa-save\x22></i>','load-quiz-btn','cancel-global-live-btn','jspdf','การคูณ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','true','matching','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','confirm-delete-btn','.save-custom-topic-btn','startsWith','starred-project','explanation','generated-quiz-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','submit','function','ทำคะแนนเต็มในการทำครั้งแรก','Error\x20duplicating\x20quiz:','ส่วนเบี่ยงเบนมาตรฐาน','artifacts/','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-link-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','กราฟฟังก์ชันตรีโกณ','2-digit','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','contents','modal-loop-until-pass-checkbox','ref','quick_thinker','line-through\x20text-red-700','ลบแบบทดสอบสำเร็จแล้ว','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','open-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','$1^{\x5ccirc}','คำตอบผิด','(^|[^\x5c\x5c])\x5cb','กำลังสร้างแบบทดสอบคู่ขนาน...','NUMBER','createdAt','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','starred','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-quiz-btn','allResponses','ฟังก์ชันแบบชิ้นส่วน','text-green-900','สลับไปโหมดผู้ควบคุม','fill_in_no_choices','\x0a---\x0a','<option>กำลังโหลดโปรเจค...</option>','leaderboard-table-body','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','push','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','text-red-300\x20hover:text-red-100','export-lesson-pdf-btn','analyze-strengths-btn','แบบทดสอบจากคลังส่วนตัว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','dfrac','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','.delete-quiz-btn','student-join-game-view','ฟังก์ชันกำลังสองและกราฟ','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','multiple_choice','num-choices','.toggle-actions-btn','quiz-schedule-end-container','appendChild','exited_fullscreen','Error\x20opening\x20quiz\x20editor:','interesting-stats-container','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','write','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20submission:',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','files','เปิด\x20(จับเวลา)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','whole_quiz','match','คะแนนเฉลี่ย','student-quiz-leaderboard-tab','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','global-live-game-modal','.pa-goal-details-btn','timerDuration','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x20คะแนน','bottom','<div\x20class=\x22my-2\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','ฟังก์ชันยกกำลัง','fa-user-astronaut\x20text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','สลับไปโหมดนักเรียน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','คุณต้องการตรวจคะแนนของนักเรียนที่ส่งมาแล้วทั้งหมดด้วยเฉลยชุดใหม่นี้หรือไม่?\x20(อาจใช้เวลาสักครู่)','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','players','มุมพิเศษ\x2045°-45°-90°','enable-passcode-checkbox','temp-loader-results','blueprint-input-area','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','label[for=\x22num-questions\x22]','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','learningGaps','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','size','generate-from-blueprint-btn','.\x20แต่ละข้อมี\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answeredCurrentQuestion','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','(ไม่มีชื่อ)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keyup','การลบทศนิยม','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','/public/data/quizzes','ผ่านฉลุย','mjx-container','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-present-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','all','questions_only','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.answer-text','click','.topic-actions-view','สมการลอการิทึม','8wxDAed','quiz-type-select','_blank','prod','helvetica','text-blue-700','leaderboard-quiz-tab-btn','indexOf','ความเป็นอิสระของเหตุการณ์','\x22\x20value=\x22',',\x20r=','clientX','เปลี่ยนชื่อแบบทดสอบสำเร็จ','#10B981','answer-grid-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคปลายทาง','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','results-tab','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','<div\x20class=\x22','<h4\x20class=\x22font-bold\x20text-indigo-800\x20mb-2\x22>📊\x20การวิเคราะห์เป้าหมายตามข้อตกลง\x20(PA)</h4>','Error\x20renaming\x20quiz:','student-rankings-modal','#F3E8FF','pa-goal-tracker-container','Error\x20saving\x20questions\x20to\x20practice\x20bank:','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','topic-input','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x5cge','.badges','quiz-editor-modal','btn','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','วงกลม:\x20สมการและสมบัติ','.question-editor-item','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.ql-editor','สมการค่าสัมบูรณ์','question-analytics-container','parallel-test-input-area','</body></html>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','modal-passing-score-input','แบบทดสอบที่ติดดาว','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','#ffffff','button[type=\x22submit\x22]','link-input-area','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','รีเซ็ตลำดับโปรเจคแล้ว','กำลังสร้างคำถามข้อ\x20','ระบบเลขและค่าประจำหลัก','กราฟแท่ง\x20กราฟเส้น','text-tab','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','cancel-create-project-btn','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','projectSortOrder','outerHTML','.move-quiz-btn','players.','font-bold','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pa-goal-tracker-container\x22\x20class=\x22col-span-2\x20md:col-span-4\x20bg-indigo-50\x20p-4\x20rounded-lg\x20border\x20border-indigo-200\x22></div>\x0a\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','round','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x22\x20value=\x22false\x22\x20','join','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','rgba(79,\x2070,\x20229,\x200.8)','N/A','className','promise','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ปัจจุบัน:\x20','4595185ecoMMn','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','points','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','Error\x20deleting\x20quiz:','clientY','ring-2','viewBox','ลำดับเรขาคณิต\x20(GP)','159260HiuQCS','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','border-red-300\x20bg-red-50','text-indigo-700','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','endTime','td,\x20th','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','check-presentation-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','qType','lesson-plan-content','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','touches','select-all-topics-btn','_opt0\x22\x20name=\x22question','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','เกิดข้อผิดพลาดในการจับคู่','editor-quiz-topic','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','grid-view-btn','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์ไม่จำกัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','/studentProfiles','div','solution','export-pdf-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','/public/data/liveGames','แก้ไขข้อนี้','confirmation-modal','สมการยกกำลัง','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','circ','cancel-admin-login-btn','icon','Error\x20regenerating\x20question\x20in\x20editor:','type','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perseverance','</th>','พิสัย','start-presentation-btn','pow','grid','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','thead','#results-table','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','Error\x20preparing\x20filtered\x20comparison:','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','href','AI\x20grading\x20failed:','หมดเวลาสำหรับข้อนี้!','true_false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','standardTopic','disabled','project-list','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','เกิดข้อผิดพลาดในการลบโปรเจค','label','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','total','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','ไม่พบโปรเจค','pinnedProjects','date_asc','q-text-','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','geq','far\x20fa-star','input[name=\x22status-option\x22]:checked','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','results-table','projectSort','toLocaleString','เรเดียนและการแปลงหน่วย','คำถามถัดไป','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','fill','การยืนยันตัวตนล้มเหลว','analytics-summary-cards','per_question','from','Error\x20processing\x20file\x20for\x20AI:','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','text-yellow-300','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','scores-tab-content','bank-quiz-search-input','setFont','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','ระยะทางและจุดกึ่งกลาง','#FEF3C7','\x5cdiv','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isPasscodeEnabled','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ไม่ผ่าน','practiceProblems','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','targetId','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','fas\x20fa-bookmark','next-question-timed-btn','generate-from-text-btn','cancel-quiz-edits-btn-footer','readAsDataURL','getItem','removeEventListener','latestScore','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','innerText','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','link-topic-input','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','cancel-test-btn','\x22>จาก:\x20','blueprint-upload-input',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','answer-counter','ดอกเบี้ยอย่างง่าย','key','tGain','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','student-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','back-to-student-initial-btn','สอบซ่อม','onchange','start-game-btn','close-game-final-btn','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','quiz-start-time','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>เป้าหมาย:\x20นักเรียนกลุ่มไม่ผ่านเกณฑ์\x20พัฒนาขึ้น\x20≥\x2070%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>สถานะ:</b>\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ข้อที่\x20','ความชันและเส้นตรง','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ทฤษฎีบทพื้นฐานของแคลคูลัส','file-topic-input','comparison-overall-tab','mixed','parent','gamePin','.quiz-bank-parallel-btn','perfect_score','quiz-editor-questions-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค.ร.น.\x20(LCM)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answers','modal-timer-duration-container','manage','fullscreenchange','แบบปรนัย\x204\x20ตัวเลือก','เกิดข้อผิดพลาดในการลบนักเรียน','back-to-dashboard-from-results-btn','export-compact-pdf-btn','ON_FIRE','admin','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','short','join-live-game-btn','name_desc','เพิ่มหัวข้อ\x20\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20deleting\x20submission:','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submissions','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','text-gray-700','</span></div>','พื้นที่สี่เหลี่ยม','ยืนยันการจับคู่','ยังไม่มีนักเรียนส่งงาน','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20(ปัจจุบัน:\x20','ฟังก์ชันเชิงเส้นและกราฟ','adaptive-quiz-checkbox','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','PERSEVERANCE','create-from-bank-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','delete-all-students-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','เกิดข้อผิดพลาดในการปักหมุด','\x20สำเร็จ','\x20mr-2\x22></i>','<tr\x20class=\x22','<div\x20class=\x22flex-1\x22></div>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','autoTable','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','.pointsLastQuestion','Error\x20loading\x20quiz\x20for\x20student:','close-student-rankings-btn','#FFFFFF','file-tab','isCorrect','no-projects-msg','ราชาคัมแบ็ก','leaderboard-tab-content','cancel-quiz-settings-btn','แผนภาพเวนน์','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','insertAdjacentHTML','รูปสี่เหลี่ยมและสมบัติ','textarea','ผลรวมอนุกรม\x20(Σ)','select','mousedown','scores-tab-btn','เกิดข้อผิดพลาดในการติดดาว','cdot','quiz-results-view','สร้างแบบทดสอบปรนัย','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','ไม่พบนักเรียนในกลุ่มเป้าหมาย\x20(อาจสอบผ่านทุกคนในครั้งแรก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','admin-password-modal','text-green-700\x20bg-green-100','student-name-selection-view','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','submission','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','strength-weakness-analysis-container','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','เกิดข้อผิดพลาดในการแสดงผลเปรียบเทียบ','.presentation-option','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','input[type=\x22radio\x22]:checked','test','contentEditable','input[name=\x22question_single\x22]:checked','toLowerCase','/users/','results-quiz-title','text-purple-600','เปิดใช้งาน','fa-shield-alt\x20text-gray-600','ไม่พบข้อมูลข้อสอบก่อนเรียน','confirm-rename-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','Invalid\x20response\x20structure\x20from\x20AI.','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','project-quizzes-list','toLocaleDateString','ตอบถูก\x203\x20ข้อติดต่อกัน','status','border-green-500','specialist',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x22\x20class=\x22pin-project-btn\x20','<p><strong>คำตอบของคุณ:</strong>\x20','เศษส่วน\x20(ย่อ/ขยาย)','API\x20call\x20failed\x20with\x20status:\x20','อนุพันธ์:\x20กฎพื้นฐาน','.project-card-container:not(.opacity-50)','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','comparison','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','touchend','เกิดข้อผิดพลาด:\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','postTScore','text-green-600\x20font-bold','.edit-question-btn','Error\x20generating\x20parallel\x20post-test:','tfrac','border-4','arrayBuffer','workerSrc','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','confirm-move-quiz-btn','timestamp','<li\x20class=\x22','scheduled','ไม่พบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','revealed','includes','confirmation-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ข้อ\x20','ผู้ไม่ยอมแพ้','shuffle','perQuestionStats','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','rename-quiz-input','ลิมิต','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แคลคูลัสเบื้องต้น','หน่วยมวล/น้ำหนักและการแปลง','ใช่','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x20ครั้ง)</span></td>','BOOLEAN','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','</td>','จำนวนเต็มบวก','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','ring-purple-400','desc','Error\x20rendering\x20student\x20progress:','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','add-student-btn','lastAnswerCorrect','.compare-results-btn','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','แบบทดสอบ:\x20','textContent','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอเปิด','Failed\x20to\x20get\x20hint:','ส่งแล้ว','สเกลและแผนที่','$1\x5ctimes','จากเนื้อหาต่อไปนี้:\x20\x22','บันทึกแบบทดสอบสำเร็จแล้ว!','.duplicate-quiz-btn','Invalid\x20response\x20structure\x20from\x20AI:','firstScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-detail-view','instructions','json','modal-results-display-select','document','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','after','getAttributeNS','scores','confirm-join-game-btn','MathJax','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x49a7=function(){return _0x227be4;};return _0x49a7();}async function saveUserPreference(_0x2a3b12,_0x10d59f){const _0x494b15=_0x3cb14f;if(!userId)return;try{const _0x2cafef=doc(db,_0x494b15(0x477)+appId+_0x494b15(0x672)+userId+_0x494b15(0x31c)),_0x46913f={};_0x46913f[_0x2a3b12]=_0x10d59f,await setDoc(_0x2cafef,_0x46913f,{'merge':!![]});}catch(_0x5203f9){console[_0x494b15(0x8ae)](_0x494b15(0x325),_0x5203f9);}}async function loadUserPreferences(){const _0x241091=_0x3cb14f;if(!userId)return{};try{const _0x288f82=doc(db,'artifacts/'+appId+_0x241091(0x672)+userId+_0x241091(0x31c)),_0x3c01cb=await getDoc(_0x288f82);if(_0x3c01cb[_0x241091(0x1cf)]())return _0x3c01cb[_0x241091(0x1bc)]();return{};}catch(_0x3b8eca){return console[_0x241091(0x8ae)](_0x241091(0x7c6),_0x3b8eca),{};}}function showPodiumView(_0x16aa30){const _0x2f7515=_0x3cb14f,_0xa4b418=Object[_0x2f7515(0x2a9)](_0x16aa30)[_0x2f7515(0x3ea)](([_0x300589,_0x578727])=>({'name':_0x300589,'score':_0x578727[_0x2f7515(0x8a6)]||0x0,'badges':_0x578727[_0x2f7515(0x267)]||[]}));_0xa4b418[_0x2f7515(0x19b)]((_0x231a8a,_0x5d3b78)=>{const _0x197fd6=_0x2f7515,_0x495a3f=_0x5d3b78['score']-_0x231a8a[_0x197fd6(0x8a6)];if(_0x495a3f!==0x0)return _0x495a3f;return(_0x5d3b78[_0x197fd6(0x267)][_0x197fd6(0x1d7)]||0x0)-(_0x231a8a[_0x197fd6(0x267)]['length']||0x0);});const _0x42f26b=_0x108eca=>{const _0x7bef3b=_0x2f7515;if(!_0x108eca||_0x108eca[_0x7bef3b(0x1d7)]===0x0)return'';const _0x191777={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x7bef3b(0x88a)+_0x108eca[_0x7bef3b(0x3ea)](_0x559396=>_0x191777[_0x559396]||'')[_0x7bef3b(0x551)]('')+_0x7bef3b(0x3ab);},_0x465ad1=_0xa4b418[_0x2f7515(0x7ac)](0x3),_0x1a3e7e=_0x465ad1['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x465ad1['map']((_0x50b19d,_0x4a7be9)=>_0x2f7515(0x288)+(_0x4a7be9+0x4)+_0x2f7515(0x500)+_0x50b19d[_0x2f7515(0x7e3)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x50b19d[_0x2f7515(0x8a6)]+_0x2f7515(0x5cd))['join']('')+_0x2f7515(0x88c):'',_0x2b1e8c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xa4b418[0x1]?_0x2f7515(0x7c4)+_0xa4b418[0x1][_0x2f7515(0x7e3)]+_0x2f7515(0x4e7)+_0x42f26b(_0xa4b418[0x1]['badges'])+_0x2f7515(0x517)+_0xa4b418[0x1][_0x2f7515(0x8a6)]+_0x2f7515(0x8a2):_0x2f7515(0x643))+_0x2f7515(0x4ec)+(_0xa4b418[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0xa4b418[0x0][_0x2f7515(0x7e3)]+_0x2f7515(0x4e7)+_0x42f26b(_0xa4b418[0x0][_0x2f7515(0x267)])+_0x2f7515(0x686)+_0xa4b418[0x0][_0x2f7515(0x8a6)]+_0x2f7515(0x6cb):_0x2f7515(0x643))+_0x2f7515(0x4ec)+(_0xa4b418[0x2]?_0x2f7515(0x122)+_0xa4b418[0x2][_0x2f7515(0x7e3)]+_0x2f7515(0x4e7)+_0x42f26b(_0xa4b418[0x2][_0x2f7515(0x267)])+_0x2f7515(0x517)+_0xa4b418[0x2][_0x2f7515(0x8a6)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2f7515(0x643))+_0x2f7515(0x8a5)+_0x1a3e7e+_0x2f7515(0x4a0)+(currentMode===_0x2f7515(0x622)?_0x2f7515(0x6e3):_0x2f7515(0x747))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x2f7515(0x729)]=_0x2b1e8c,currentMode===_0x2f7515(0x622)&&document[_0x2f7515(0x2d1)](_0x2f7515(0x603))['addEventListener'](_0x2f7515(0x502),async()=>{const _0x10c099=_0x2f7515,_0x3e5290=doc(db,'artifacts/'+appId+_0x10c099(0x581),currentLiveGameId);await deleteDoc(_0x3e5290),showView(_0x10c099(0x6fa));});}async function handleStartLiveRace(_0x42afee){const _0x2834f8=_0x3cb14f;let _0x4b57e3=allQuizzes['find'](_0x17be6b=>_0x17be6b['id']===_0x42afee);if(!_0x4b57e3){const _0x2a8c69=doc(db,'artifacts/'+appId+_0x2834f8(0x4f0),_0x42afee),_0x356c0c=await getDoc(_0x2a8c69);if(!_0x356c0c[_0x2834f8(0x1cf)]()){showMessage(_0x2834f8(0x877));return;}_0x4b57e3={'id':_0x356c0c['id'],..._0x356c0c[_0x2834f8(0x1bc)]()};}currentQuizData=getShuffledQuiz(_0x4b57e3);const _0x32e84a=_0x4b57e3[_0x2834f8(0x215)]||currentProjectId||null,_0x13ee93=Math[_0x2834f8(0x249)](0x3e8+Math[_0x2834f8(0x2cb)]()*0x2328)[_0x2834f8(0x73c)]();currentLiveGamePin=_0x13ee93;try{const _0x4c6d16=await addDoc(collection(db,_0x2834f8(0x477)+appId+_0x2834f8(0x581)),{'quizId':_0x42afee,'projectId':_0x32e84a,'status':_0x2834f8(0x184),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x13ee93,'createdAt':serverTimestamp()});currentLiveGameId=_0x4c6d16['id'],showAdminLobbyView(_0x13ee93,_0x4b57e3[_0x2834f8(0x367)]),listenForLiveGameUpdates();}catch(_0x4c9690){console[_0x2834f8(0x8ae)](_0x2834f8(0x793),_0x4c9690),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x3e740a=_0x3cb14f,_0xc59c71=document[_0x3e740a(0x271)]('#student-quiz-leaderboard-content\x20thead');_0xc59c71&&(_0xc59c71[_0x3e740a(0x729)]=_0x3e740a(0x6a4));const _0x98f5a0=document[_0x3e740a(0x271)](_0x3e740a(0x1d5));_0x98f5a0&&(_0x98f5a0[_0x3e740a(0x729)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x1c088a=document[_0x3e740a(0x2d1)](_0x3e740a(0x51d));_0x1c088a[_0x3e740a(0x28d)]['remove'](_0x3e740a(0x28c)),document[_0x3e740a(0x2d1)](_0x3e740a(0x649))[_0x3e740a(0x2fe)]=()=>_0x1c088a[_0x3e740a(0x28d)][_0x3e740a(0x7c9)]('hidden');const _0x4c967c=document[_0x3e740a(0x2d1)](_0x3e740a(0x4c5)),_0x48a02f=document[_0x3e740a(0x2d1)]('student-project-leaderboard-tab'),_0x35e784=document[_0x3e740a(0x2d1)](_0x3e740a(0x156)),_0x2fd44a=document[_0x3e740a(0x2d1)](_0x3e740a(0x3ac));_0x4c967c[_0x3e740a(0x2fe)]=()=>{const _0xf4d206=_0x3e740a;_0x4c967c[_0xf4d206(0x28d)][_0xf4d206(0x7c9)](_0xf4d206(0x302)),_0x48a02f[_0xf4d206(0x28d)]['remove']('active'),_0x35e784[_0xf4d206(0x28d)][_0xf4d206(0x817)]('hidden'),_0x2fd44a['classList'][_0xf4d206(0x7c9)](_0xf4d206(0x28c));},_0x48a02f[_0x3e740a(0x2fe)]=()=>{const _0x556ddb=_0x3e740a;_0x48a02f[_0x556ddb(0x28d)][_0x556ddb(0x7c9)](_0x556ddb(0x302)),_0x4c967c[_0x556ddb(0x28d)][_0x556ddb(0x817)]('active'),_0x2fd44a[_0x556ddb(0x28d)][_0x556ddb(0x817)]('hidden'),_0x35e784[_0x556ddb(0x28d)][_0x556ddb(0x7c9)](_0x556ddb(0x28c));};try{const _0x4978e5=collection(db,_0x3e740a(0x477)+appId+_0x3e740a(0x36d)+currentQuizData['id']+_0x3e740a(0x740)),_0x4d3821=await getDocs(_0x4978e5),_0x454600=_0x4d3821[_0x3e740a(0x521)]['map'](_0x309a2a=>_0x309a2a[_0x3e740a(0x1bc)]());renderQuizLeaderboard(_0x454600,currentQuizData,'student-quiz-leaderboard-table-body');const _0xc7966c=collection(db,'artifacts/'+appId+_0x3e740a(0x356)+currentQuizData[_0x3e740a(0x215)]+_0x3e740a(0x57c)),_0x5d2553=await getDocs(_0xc7966c),_0x20c7c8=_0x5d2553[_0x3e740a(0x521)]['map'](_0xb67ad0=>_0xb67ad0['data']());renderLeaderboard(_0x20c7c8,_0x3e740a(0x19a));}catch(_0x452a14){console['error']('Error\x20fetching\x20student\x20rankings:',_0x452a14),showMessage(_0x3e740a(0x447));}}async function handleSaveToBank(_0x58d17f){const _0x422354=_0x3cb14f,_0x2b4ffa=_0x58d17f['currentTarget'],_0xe6f94=_0x2b4ffa[_0x422354(0x202)][_0x422354(0x790)],_0x4803e8=currentQuizData[_0x422354(0x4e9)][_0xe6f94];if(!userId){showMessage(_0x422354(0x54b));return;}try{const _0x38c0ac={..._0x4803e8,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x5e7377=collection(db,_0x422354(0x477)+appId+_0x422354(0x672)+userId+'/questionBank');await addDoc(_0x5e7377,_0x38c0ac),showMessage(_0x422354(0x351)),_0x2b4ffa['classList']['remove'](_0x422354(0x674)),_0x2b4ffa['classList'][_0x422354(0x7c9)](_0x422354(0x1b8)),_0x2b4ffa['disabled']=!![];}catch(_0x190fda){console[_0x422354(0x8ae)](_0x422354(0x711),_0x190fda),showMessage(_0x422354(0x2a2));}}function listenForStarredQuizzes(){const _0x39fc70=_0x3cb14f;if(!userId)return;const _0x56d5b6=collection(db,'artifacts/'+appId+_0x39fc70(0x4f0)),_0x1a077c=query(_0x56d5b6,where(_0x39fc70(0x781),'==',!![]));onSnapshot(_0x1a077c,_0x22eeab=>{const _0x4e4adc=_0x39fc70;starredQuizzes=_0x22eeab[_0x4e4adc(0x521)][_0x4e4adc(0x3ea)](_0x4bc7db=>({'id':_0x4bc7db['id'],..._0x4bc7db[_0x4e4adc(0x1bc)]()})),currentProjectId===_0x4e4adc(0x491)?renderQuizzes():renderProjects();},_0x339851=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x339851);});}function exportQuizAsWorksheetPDF(){const _0x29a091=_0x3cb14f;if(!currentQuizData||!currentQuizData[_0x29a091(0x4e9)]){showMessage(_0x29a091(0x7d1));return;}const _0x5a5191=currentQuizData,_0x5a3b17=window['open']('',_0x29a091(0x507)),_0x39fc74=_0x470e75=>String['fromCharCode'](0x41+_0x470e75),_0x270641='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x5a5191['topic']+_0x29a091(0x3d3)+_0x5a5191[_0x29a091(0x367)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a5191['questions'][_0x29a091(0x3ea)]((_0x5b0acd,_0x5a8ed3)=>{const _0x269d93=_0x29a091;let _0x519564='';const _0x4acb46=_0x5b0acd[_0x269d93(0x1f7)]||_0x5a5191['quizType'];switch(_0x4acb46){case _0x269d93(0x4ae):case _0x269d93(0x721):_0x519564='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x5b0acd[_0x269d93(0x430)][_0x269d93(0x3ea)]((_0x37a23f,_0x180583)=>_0x269d93(0x690)+_0x39fc74(_0x180583)+'.\x20'+_0x37a23f+_0x269d93(0x6a5))[_0x269d93(0x551)](_0x269d93(0x847))+'</div>';break;case _0x269d93(0x5a8):_0x519564='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x519564=_0x269d93(0x5dc);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x5a8ed3+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5b0acd[_0x269d93(0x2fb)]||_0x5b0acd['questionText'])+_0x269d93(0x3b4)+(_0x5b0acd[_0x269d93(0x3aa)]?_0x269d93(0x4cd)+_0x5b0acd[_0x269d93(0x3aa)]+_0x269d93(0x3ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x519564+_0x269d93(0x265);})[_0x29a091(0x551)]('')+_0x29a091(0x385);_0x5a3b17[_0x29a091(0x6db)][_0x29a091(0x4b9)](_0x270641),_0x5a3b17[_0x29a091(0x6db)][_0x29a091(0x870)](),_0x5a3b17[_0x29a091(0x1ce)]=function(){setTimeout(()=>{_0x5a3b17['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1b85a5=_0x3cb14f;if(!currentQuizData||!currentQuizData[_0x1b85a5(0x4e9)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x2b5183=currentQuizData,_0x703c62=window[_0x1b85a5(0x7ab)]('',_0x1b85a5(0x507)),_0x4a31f6=_0x4202a5=>String[_0x1b85a5(0x67e)](0x41+_0x4202a5),_0x1b7ce9=_0x1b85a5(0x30e)+_0x2b5183[_0x1b85a5(0x367)]+_0x1b85a5(0x43e)+_0x2b5183[_0x1b85a5(0x4e9)][_0x1b85a5(0x3ea)]((_0x2b394d,_0x59fcbb)=>{const _0x5b0b5c=_0x1b85a5;let _0x5cca5f='';const _0x25698f=_0x2b394d[_0x5b0b5c(0x1f7)]||_0x2b5183[_0x5b0b5c(0x844)];switch(_0x25698f){case _0x5b0b5c(0x4ae):case _0x5b0b5c(0x721):_0x5cca5f=_0x5b0b5c(0x6ee)+_0x2b394d[_0x5b0b5c(0x430)][_0x5b0b5c(0x3ea)]((_0x45042a,_0x294716)=>_0x5b0b5c(0x487)+_0x4a31f6(_0x294716)+'.\x20'+_0x45042a+_0x5b0b5c(0x753))[_0x5b0b5c(0x551)]('<br>')+_0x5b0b5c(0x805);break;case _0x5b0b5c(0x5a8):_0x5cca5f=_0x5b0b5c(0x828);break;default:_0x5cca5f='';break;}return _0x5b0b5c(0x782)+_0x2b5183['topic']+_0x5b0b5c(0x268)+(_0x59fcbb+0x1)+_0x5b0b5c(0x1fb)+(_0x2b394d['stem']||_0x2b394d['questionText'])+_0x5b0b5c(0x3b4)+(_0x2b394d[_0x5b0b5c(0x3aa)]?_0x5b0b5c(0x240)+_0x2b394d[_0x5b0b5c(0x3aa)]+_0x5b0b5c(0x3ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cca5f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1b85a5(0x551)]('')+_0x1b85a5(0x223);_0x703c62['document'][_0x1b85a5(0x4b9)](_0x1b7ce9),_0x703c62[_0x1b85a5(0x6db)]['close'](),_0x703c62[_0x1b85a5(0x1ce)]=function(){setTimeout(()=>{const _0x27be93=_0x4478;_0x703c62[_0x27be93(0x401)]();},0x5dc);};}async function handleToggleStarQuiz(_0xcb026f){const _0x1469be=_0x3cb14f,_0x344e27=doc(db,_0x1469be(0x477)+appId+_0x1469be(0x4f0),_0xcb026f);try{const _0x50cc6a=await getDoc(_0x344e27);if(_0x50cc6a[_0x1469be(0x1cf)]()){const _0x5b679c=_0x50cc6a[_0x1469be(0x1bc)]()['isStarred']||![];await updateDoc(_0x344e27,{'isStarred':!_0x5b679c});}}catch(_0x41bf8c){console[_0x1469be(0x8ae)](_0x1469be(0x3f7),_0x41bf8c),showMessage(_0x1469be(0x65a));}}async function displayQuestionBank(){const _0x418962=_0x3cb14f,_0x53c3a8=document['getElementById'](_0x418962(0x7cd));_0x53c3a8['innerHTML']=_0x418962(0x232);try{const _0x33e40e=collection(db,_0x418962(0x477)+appId+'/users/'+userId+_0x418962(0x88b)),_0x1f3076=query(_0x33e40e),_0x1f9afc=await getDocs(_0x1f3076);if(_0x1f9afc[_0x418962(0x880)]){_0x53c3a8[_0x418962(0x729)]=_0x418962(0x5e2);return;}let _0x419c7b=_0x1f9afc[_0x418962(0x521)][_0x418962(0x3ea)](_0x37c2e4=>{const _0x349e65=_0x418962,_0x19034e=_0x37c2e4['data'](),_0x9073ca=_0x37c2e4['id'];return _0x349e65(0x236)+JSON[_0x349e65(0x881)](_0x19034e)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x19034e[_0x349e65(0x801)]||_0x19034e['stem'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x19034e[_0x349e65(0x86b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x53c3a8[_0x418962(0x729)]=_0x418962(0x3c8)+_0x419c7b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x418962(0x2d1)](_0x418962(0x63b))[_0x418962(0x415)](_0x418962(0x502),createQuizFromBank);}catch(_0x256e42){console[_0x418962(0x8ae)](_0x418962(0x6ed),_0x256e42),_0x53c3a8[_0x418962(0x729)]=_0x418962(0x85c);}}function showAdminLiveQuestionView(_0x3c2888,_0x22a202,_0x33754d){const _0x1b736c=_0x3cb14f,_0x4fac1f=_0x3c2888[_0x1b736c(0x1f7)]||currentQuizData[_0x1b736c(0x844)];let _0x13fbcb='';if(_0x4fac1f===_0x1b736c(0x4ae)||_0x4fac1f===_0x1b736c(0x5a8)){const _0x41474c=_0x4fac1f==='true_false'?[_0x1b736c(0x6b4),_0x1b736c(0x399)]:_0x3c2888[_0x1b736c(0x430)],_0x5ecbda=_0x4fac1f===_0x1b736c(0x5a8)?_0x3c2888[_0x1b736c(0x893)]?0x0:0x1:_0x3c2888[_0x1b736c(0x541)];_0x13fbcb=_0x41474c[_0x1b736c(0x3ea)]((_0x4e698d,_0x3b4be8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x3b4be8===_0x5ecbda)+_0x1b736c(0x59f)+_0x4e698d+_0x1b736c(0x4f6))['join']('');}else{if(_0x4fac1f==='matching_item'){const _0x40aa1b=_0x3c2888['allResponses']||[];_0x13fbcb=_0x40aa1b[_0x1b736c(0x3ea)](_0x48e49e=>_0x1b736c(0x819)+(_0x48e49e===_0x3c2888[_0x1b736c(0x210)])+_0x1b736c(0x59f)+_0x48e49e+_0x1b736c(0x4f6))['join']('');}}const _0x2baad=_0x3c2888[_0x1b736c(0x2fb)]||_0x3c2888[_0x1b736c(0x801)],_0x33527d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x22a202+0x1)+_0x1b736c(0x850)+_0x33754d+_0x1b736c(0x5ef)+_0x2baad+_0x1b736c(0x846)+_0x13fbcb+_0x1b736c(0x3dc);liveGameView[_0x1b736c(0x729)]=_0x33527d;window['MathJax']&&MathJax[_0x1b736c(0x8a4)]&&MathJax[_0x1b736c(0x8a4)]([liveGameView]);const _0x22f677=document['getElementById'](_0x1b736c(0x34f));document[_0x1b736c(0x2d1)]('reveal-answer-btn')[_0x1b736c(0x415)](_0x1b736c(0x502),async()=>{const _0x3b681d=_0x1b736c,_0x5a414d=doc(db,_0x3b681d(0x477)+appId+_0x3b681d(0x581),currentLiveGameId);await updateDoc(_0x5a414d,{'questionStatus':'revealed'});const _0x21659d=liveGameView[_0x3b681d(0x271)](_0x3b681d(0x702));_0x21659d&&(_0x21659d[_0x3b681d(0x28d)]['remove']('bg-white/30'),_0x21659d['classList']['add'](_0x3b681d(0x703),_0x3b681d(0x498),_0x3b681d(0x54a),_0x3b681d(0x69a),_0x3b681d(0x683)),_0x21659d[_0x3b681d(0x729)]=_0x3b681d(0x795)+_0x21659d[_0x3b681d(0x729)]),_0x22f677['innerHTML']=_0x3b681d(0x589)+(_0x22a202+0x1===_0x33754d?_0x3b681d(0x7df):_0x3b681d(0x190))+_0x3b681d(0x31e),document[_0x3b681d(0x2d1)](_0x3b681d(0x744))[_0x3b681d(0x415)](_0x3b681d(0x502),async()=>{const _0x31568e=_0x3b681d,_0x3578d6=doc(db,_0x31568e(0x477)+appId+_0x31568e(0x581),currentLiveGameId),_0x7a9459=await getDoc(_0x3578d6);if(!_0x7a9459['exists']())return;const _0x1c494f=_0x7a9459['data'](),_0x131922={};if(_0x1c494f[_0x31568e(0x4d7)])for(const _0x2fdf4 in _0x1c494f[_0x31568e(0x4d7)]){_0x131922['players.'+_0x2fdf4+_0x31568e(0x4e8)]=![];}const _0x5d79e6=_0x22a202+0x1;_0x5d79e6<_0x33754d?(_0x131922['currentQuestionIndex']=_0x5d79e6,_0x131922[_0x31568e(0x1d6)]=serverTimestamp(),_0x131922[_0x31568e(0x75c)]='answering',await updateDoc(_0x3578d6,_0x131922)):await updateDoc(_0x3578d6,{'status':_0x31568e(0x36b)});});}),document['getElementById']('end-game-btn')[_0x1b736c(0x415)](_0x1b736c(0x502),async()=>{const _0x53635f=_0x1b736c,_0x247afe=doc(db,'artifacts/'+appId+_0x53635f(0x581),currentLiveGameId);await deleteDoc(_0x247afe),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x11bea0,_0x1e7e5d,_0x33dcd1){const _0x5ccaab=_0x3cb14f,_0x41427b=_0x11bea0[_0x5ccaab(0x1f7)]||currentQuizData[_0x5ccaab(0x844)];let _0x8b02c0='';if(_0x41427b===_0x5ccaab(0x4ae)||_0x41427b==='true_false'){const _0xa75dae=_0x41427b===_0x5ccaab(0x5a8)?['ใช่',_0x5ccaab(0x399)]:_0x11bea0['options'];_0x8b02c0=_0xa75dae[_0x5ccaab(0x3ea)]((_0x35c540,_0x1dc1e4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1dc1e4+_0x5ccaab(0x3f6)+_0x35c540+_0x5ccaab(0x163))[_0x5ccaab(0x551)]('');}else{if(_0x41427b===_0x5ccaab(0x791)){const _0x47af44=_0x11bea0[_0x5ccaab(0x496)]||[];_0x8b02c0=_0x47af44[_0x5ccaab(0x3ea)]((_0x4895d5,_0x1aebfe)=>_0x5ccaab(0x40e)+_0x1aebfe+_0x5ccaab(0x3f6)+_0x4895d5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x41427b==='short_answer'&&(_0x8b02c0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x3a47f6=_0x11bea0[_0x5ccaab(0x2fb)]||_0x11bea0[_0x5ccaab(0x801)],_0x4f7af5=_0x5ccaab(0x789)+(_0x1e7e5d+0x1)+_0x5ccaab(0x850)+_0x33dcd1+_0x5ccaab(0x373)+_0x3a47f6+_0x5ccaab(0x1d0)+_0x8b02c0+_0x5ccaab(0x7c8);liveGameView[_0x5ccaab(0x729)]=_0x4f7af5;window[_0x5ccaab(0x6e1)]&&MathJax[_0x5ccaab(0x8a4)]&&MathJax[_0x5ccaab(0x8a4)]([liveGameView]);const _0x2880d1=document[_0x5ccaab(0x2d1)](_0x5ccaab(0x58a));_0x2880d1&&_0x2880d1['addEventListener']('click',()=>{const _0x5442ce=_0x5ccaab,_0x43a745=document[_0x5442ce(0x2d1)](_0x5442ce(0x854))[_0x5442ce(0x327)];handleLiveAnswer(_0x43a745,_0x11bea0);}),document[_0x5ccaab(0x2d1)](_0x5ccaab(0x87c))[_0x5ccaab(0x415)](_0x5ccaab(0x502),_0x12e7d3=>{const _0x1a0a47=_0x5ccaab,_0xc7a818=_0x12e7d3['target']['closest'](_0x1a0a47(0x799));if(_0xc7a818){const _0x12d80b=parseInt(_0xc7a818[_0x1a0a47(0x202)][_0x1a0a47(0x790)]);handleLiveAnswer(_0x12d80b,_0x11bea0);}});}async function handleLiveAnswer(_0x407f7a,_0x41631e){const _0x22e3aa=_0x3cb14f;document['querySelectorAll'](_0x22e3aa(0x83e))[_0x22e3aa(0x1f4)](_0x2e7bbb=>_0x2e7bbb['disabled']=!![]);const _0x4d4f2e=_0x41631e[_0x22e3aa(0x1f7)]||currentQuizData['quizType'];let _0x5532e7=![];if(_0x4d4f2e===_0x22e3aa(0x33a)){const _0x37803f=(_0x407f7a||'')[_0x22e3aa(0x73c)]();_0x5532e7=await gradeShortAnswer(_0x37803f,_0x41631e);}else{if(_0x4d4f2e===_0x22e3aa(0x4ae))_0x5532e7=_0x407f7a===_0x41631e[_0x22e3aa(0x541)];else{if(_0x4d4f2e===_0x22e3aa(0x5a8)){const _0x4192a2=_0x41631e['correctAnswer'];_0x5532e7=_0x407f7a===0x0&&_0x4192a2||_0x407f7a===0x1&&!_0x4192a2;}else{if(_0x4d4f2e==='matching_item'){const _0x10ad94=_0x41631e[_0x22e3aa(0x496)][_0x407f7a];_0x5532e7=_0x10ad94===_0x41631e[_0x22e3aa(0x210)];}}}}const _0x34c812=doc(db,_0x22e3aa(0x477)+appId+'/public/data/liveGames',currentLiveGameId),_0x21f68f=await getDoc(_0x34c812);if(!_0x21f68f[_0x22e3aa(0x1cf)]())return;const _0x323044=_0x21f68f[_0x22e3aa(0x1bc)](),_0x2d5ff9=_0x323044[_0x22e3aa(0x4d7)][currentStudentName];let _0x5d84a6=_0x2d5ff9[_0x22e3aa(0x267)]||[],_0x4542a1=_0x2d5ff9[_0x22e3aa(0x79f)]||0x0;const _0x18e7f0={};let _0x36abb6=0x0;if(_0x323044[_0x22e3aa(0x1d6)]){const _0x4ec728=_0x323044[_0x22e3aa(0x1d6)][_0x22e3aa(0x1ef)](),_0x20f958=new Date()-_0x4ec728;if(_0x5532e7){const _0x215b65=0x3e8,_0x5e2e3d=0x1f4,_0x256f98=0x4e20;let _0x54a3e1=_0x20f958/_0x256f98;if(_0x54a3e1>0x1)_0x54a3e1=0x1;const _0xabb9eb=Math[_0x22e3aa(0x54e)](_0x54a3e1*_0x5e2e3d);_0x36abb6=_0x215b65-_0xabb9eb,_0x20f958<=0x1388&&!_0x5d84a6[_0x22e3aa(0x6a7)](_0x22e3aa(0x481))&&_0x5d84a6[_0x22e3aa(0x49f)](_0x22e3aa(0x481));}}_0x5532e7?(_0x4542a1++,_0x4542a1===0x3&&!_0x5d84a6[_0x22e3aa(0x6a7)](_0x22e3aa(0x394))&&(_0x5d84a6[_0x22e3aa(0x49f)](_0x22e3aa(0x394)),_0x4542a1=0x0)):_0x4542a1=0x0,_0x5532e7&&(_0x18e7f0[_0x22e3aa(0x549)+currentStudentName+'.score']=increment(_0x36abb6)),_0x18e7f0['players.'+currentStudentName+_0x22e3aa(0x526)]=_0x5d84a6,_0x18e7f0['players.'+currentStudentName+_0x22e3aa(0x766)]=_0x4542a1,_0x18e7f0[_0x22e3aa(0x549)+currentStudentName+_0x22e3aa(0x4e8)]=!![],_0x18e7f0[_0x22e3aa(0x549)+currentStudentName+'.lastAnswerCorrect']=_0x5532e7,_0x18e7f0[_0x22e3aa(0x549)+currentStudentName+_0x22e3aa(0x647)]=_0x36abb6,await updateDoc(_0x34c812,_0x18e7f0),liveGameView[_0x22e3aa(0x729)]=_0x22e3aa(0x22d);}function createQuizFromBank(){const _0x14727a=_0x3cb14f,_0x3c8bbc=document['querySelectorAll'](_0x14727a(0x311));if(_0x3c8bbc['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x45a89e=[];_0x3c8bbc[_0x14727a(0x1f4)](_0x590aa7=>{const _0x25a994=_0x14727a;_0x45a89e[_0x25a994(0x49f)](JSON['parse'](_0x590aa7[_0x25a994(0x327)]));});const _0x448efb={'topic':_0x14727a(0x4a5),'questions':_0x45a89e};displayGeneratedQuiz(_0x448efb);}function showAdminLobbyView(_0x430bea,_0x35f6e4){const _0x4c03f3=_0x3cb14f;showView(_0x4c03f3(0x1d9));const _0xc02c0=_0x4c03f3(0x2db)+_0x35f6e4+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x430bea+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4c03f3(0x729)]=_0xc02c0,document[_0x4c03f3(0x2d1)](_0x4c03f3(0x602))[_0x4c03f3(0x415)](_0x4c03f3(0x502),async()=>{const _0x1f2e5c=_0x4c03f3;if(!currentQuizData||!currentQuizData[_0x1f2e5c(0x4e9)]||currentQuizData[_0x1f2e5c(0x4e9)][_0x1f2e5c(0x1d7)]===0x0){showMessage(_0x1f2e5c(0x6e2));return;}try{const _0x7244e4=doc(db,'artifacts/'+appId+_0x1f2e5c(0x581),currentLiveGameId);await updateDoc(_0x7244e4,{'status':_0x1f2e5c(0x7b4),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2dc720=currentQuizData[_0x1f2e5c(0x4e9)][0x0],_0x19bc82=currentQuizData[_0x1f2e5c(0x4e9)][_0x1f2e5c(0x1d7)];showAdminLiveQuestionView(_0x2dc720,0x0,_0x19bc82);}catch(_0x488b9c){console[_0x1f2e5c(0x8ae)]('Error\x20starting\x20game:',_0x488b9c),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x554957=_0x3cb14f;if(allQuizzesGlobal['length']===0x0){const _0x5edfa1=await getDocs(collection(db,'artifacts/'+appId+_0x554957(0x4f0)));allQuizzesGlobal=_0x5edfa1[_0x554957(0x521)][_0x554957(0x3ea)](_0x510f47=>({'id':_0x510f47['id'],..._0x510f47[_0x554957(0x1bc)]()}));}renderGlobalQuizList(''),document[_0x554957(0x2d1)](_0x554957(0x4c7))[_0x554957(0x28d)]['remove']('hidden');}async function openQuizBankModal(){const _0x3ae31b=_0x3cb14f;if(allQuizzesGlobal[_0x3ae31b(0x1d7)]===0x0){const _0x49f60b=await getDocs(collection(db,_0x3ae31b(0x477)+appId+_0x3ae31b(0x4f0)));allQuizzesGlobal=_0x49f60b['docs'][_0x3ae31b(0x3ea)](_0x2a4553=>({'id':_0x2a4553['id'],..._0x2a4553['data']()}));}renderQuizBankList(''),document[_0x3ae31b(0x2d1)]('quiz-bank-modal')['classList']['remove'](_0x3ae31b(0x28c));}function renderQuizBankList(_0x201946=''){const _0xc33ba2=_0x3cb14f,_0x4152c0=document[_0xc33ba2(0x2d1)](_0xc33ba2(0x87b)),_0x2dc265=_0x201946[_0xc33ba2(0x671)]()[_0xc33ba2(0x175)](),_0x5598a4=allQuizzesGlobal[_0xc33ba2(0x3ea)](_0x15f675=>({..._0x15f675,'projectName':allProjects['find'](_0x2fa2ac=>_0x2fa2ac['id']===_0x15f675[_0xc33ba2(0x215)])?.[_0xc33ba2(0x39d)]||_0xc33ba2(0x554)}))[_0xc33ba2(0x255)](_0x2a5078=>(_0x2a5078['topic']||'')['toLowerCase']()['includes'](_0x2dc265)||(_0x2a5078[_0xc33ba2(0x39d)]||'')[_0xc33ba2(0x671)]()[_0xc33ba2(0x6a7)](_0x2dc265)||_0x2a5078['id']['toString']()[_0xc33ba2(0x6a7)](_0x2dc265));document[_0xc33ba2(0x2d1)](_0xc33ba2(0x3ba))['textContent']='('+_0x5598a4[_0xc33ba2(0x1d7)]+_0xc33ba2(0x748),_0x4152c0[_0xc33ba2(0x729)]=_0x5598a4[_0xc33ba2(0x1d7)]?_0x5598a4['map'](_0x23b798=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x23b798['id']+_0xc33ba2(0x757)+(_0x23b798[_0xc33ba2(0x367)]||'(ไม่มีชื่อ)')+_0xc33ba2(0x46f)+(_0x23b798['questions']?.[_0xc33ba2(0x1d7)]||0x0)+_0xc33ba2(0x667)+_0x23b798[_0xc33ba2(0x39d)]+_0xc33ba2(0x886)+_0x23b798['id']+_0xc33ba2(0x8b2)+_0x23b798['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x23b798['id']+_0xc33ba2(0x60c)+_0x23b798['id']+_0xc33ba2(0x157))[_0xc33ba2(0x551)](''):_0xc33ba2(0x8a3),_0x4152c0['querySelectorAll'](_0xc33ba2(0x6f2))['forEach'](_0x1ffa59=>{const _0x1c5762=_0xc33ba2;_0x1ffa59[_0x1c5762(0x415)](_0x1c5762(0x502),()=>{const _0xf80d04=_0x1c5762,_0x507bd4=_0x1ffa59[_0xf80d04(0x202)]['id'];document[_0xf80d04(0x2d1)](_0xf80d04(0x3b9))[_0xf80d04(0x28d)][_0xf80d04(0x7c9)](_0xf80d04(0x28c)),showQuizDetailView(_0x507bd4);});}),_0x4152c0[_0xc33ba2(0x7b0)]('.quiz-bank-try-btn')[_0xc33ba2(0x1f4)](_0x377548=>{const _0x6755bb=_0xc33ba2;_0x377548[_0x6755bb(0x415)](_0x6755bb(0x502),_0xc7a5ca=>{const _0x507c15=_0x6755bb;_0xc7a5ca[_0x507c15(0x820)]();const _0x36f9f5=_0x377548[_0x507c15(0x202)]['id'],_0x3fe870=allQuizzesGlobal[_0x507c15(0x1cc)](_0x2a06af=>_0x2a06af['id']===_0x36f9f5);_0x3fe870?(currentQuizData=_0x3fe870,document[_0x507c15(0x2d1)]('quiz-bank-modal')[_0x507c15(0x28d)][_0x507c15(0x7c9)](_0x507c15(0x28c)),startAdminTest()):showMessage(_0x507c15(0x877));});}),_0x4152c0['querySelectorAll'](_0xc33ba2(0x613))[_0xc33ba2(0x1f4)](_0x424af4=>{const _0x164cb8=_0xc33ba2;_0x424af4[_0x164cb8(0x415)](_0x164cb8(0x502),_0x2ab363=>{const _0x20876c=_0x164cb8;_0x2ab363[_0x20876c(0x820)]();const _0x39b06b=_0x424af4[_0x20876c(0x202)]['id'],_0x296ed7=allQuizzesGlobal[_0x20876c(0x1cc)](_0x13f573=>_0x13f573['id']===_0x39b06b);_0x296ed7?(document[_0x20876c(0x2d1)](_0x20876c(0x3b9))[_0x20876c(0x28d)][_0x20876c(0x7c9)](_0x20876c(0x28c)),handleGenerateParallelFromBank(_0x296ed7)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x4152c0['querySelectorAll'](_0xc33ba2(0x4f8))['forEach'](_0x66a3f0=>{const _0x563990=_0xc33ba2;_0x66a3f0[_0x563990(0x415)](_0x563990(0x502),_0x50e4f4=>{const _0x112951=_0x563990;_0x50e4f4[_0x112951(0x820)]();const _0x2b90a1=_0x66a3f0['dataset']['id'],_0x21aa4d=allQuizzesGlobal['find'](_0x2f15ca=>_0x2f15ca['id']===_0x2b90a1);_0x21aa4d?(document['getElementById']('quiz-bank-modal')[_0x112951(0x28d)][_0x112951(0x7c9)](_0x112951(0x28c)),startPresentation(_0x21aa4d)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});});}async function handleCompareResults(_0x42b57c,_0x4ba4ab,_0x5a07d7=null){const _0x23d863=_0x3cb14f,_0x4601c6=document[_0x23d863(0x2d1)](_0x23d863(0x2c2)),_0x2da45c=document[_0x23d863(0x2d1)]('comparison-overall-content'),_0x4f856a=document[_0x23d863(0x2d1)](_0x23d863(0x710));document[_0x23d863(0x2d1)](_0x23d863(0x60f))[_0x23d863(0x28d)]['add'](_0x23d863(0x302)),document[_0x23d863(0x2d1)](_0x23d863(0x7f6))[_0x23d863(0x28d)][_0x23d863(0x817)](_0x23d863(0x302)),_0x2da45c[_0x23d863(0x28d)][_0x23d863(0x817)](_0x23d863(0x28c)),_0x4f856a[_0x23d863(0x28d)][_0x23d863(0x7c9)](_0x23d863(0x28c)),_0x2da45c[_0x23d863(0x729)]=_0x23d863(0x232),_0x4f856a[_0x23d863(0x729)]='',_0x4601c6[_0x23d863(0x28d)]['remove'](_0x23d863(0x28c));try{const _0x260f2a=doc(db,_0x23d863(0x477)+appId+'/public/data/quizzes',_0x42b57c),_0x433201=await getDoc(_0x260f2a);if(!_0x433201[_0x23d863(0x1cf)]())throw new Error(_0x23d863(0x309));const _0x2ce7ce=_0x433201[_0x23d863(0x1bc)](),_0x3be6f4=_0x2ce7ce['questions']['length'],_0x2bf81d=collection(db,'artifacts/'+appId+_0x23d863(0x36d)+_0x4ba4ab+_0x23d863(0x740)),_0x4be35c=collection(db,'artifacts/'+appId+_0x23d863(0x36d)+_0x42b57c+'/submissions'),[_0x3d3036,_0x1b11bf]=await Promise[_0x23d863(0x4fa)]([getDocs(_0x2bf81d),getDocs(_0x4be35c)]),_0x40c659=_0x3d3036[_0x23d863(0x521)][_0x23d863(0x3ea)](_0x31ba9d=>_0x31ba9d[_0x23d863(0x1bc)]()),_0x588123=_0x1b11bf[_0x23d863(0x521)][_0x23d863(0x3ea)](_0x69d7b0=>_0x69d7b0[_0x23d863(0x1bc)]()),_0x387411=_0x40c659[_0x23d863(0x3ea)](_0x51a674=>_0x51a674[_0x23d863(0x5ea)]),_0x59ed5f=_0x588123[_0x23d863(0x3ea)](_0x36335e=>_0x36335e[_0x23d863(0x5ea)]),_0x16d48a=calculateMeanAndStdDev(_0x387411),_0x26b3ec=calculateMeanAndStdDev(_0x59ed5f),_0x8a6f53=_0x16d48a[_0x23d863(0x431)],_0x35b870=_0x26b3ec[_0x23d863(0x431)],_0x513d80=_0x35b870-_0x8a6f53;let _0x1e8816=_0x23d863(0x3f5)+_0x8a6f53[_0x23d863(0x843)](0x2)+_0x23d863(0x4d3)+_0x35b870[_0x23d863(0x843)](0x2)+_0x23d863(0x181)+(_0x513d80>=0x0?_0x23d863(0x3eb):_0x23d863(0x381))+_0x23d863(0x5d1)+(_0x513d80>=0x0?_0x23d863(0x713):_0x23d863(0x7b3))+_0x23d863(0x397)+(_0x513d80>=0x0?_0x23d863(0x1b0):_0x23d863(0x3a4))+'\x22>'+(_0x513d80>=0x0?'+':'')+_0x513d80[_0x23d863(0x843)](0x2)+_0x23d863(0x6b5);_0x2da45c[_0x23d863(0x729)]=_0x1e8816;const _0x113303=document[_0x23d863(0x2d1)](_0x23d863(0x859))[_0x23d863(0x2a8)]('2d');if(chartInstances['comparison'])chartInstances['comparison'][_0x23d863(0x129)]();chartInstances[_0x23d863(0x68f)]=new Chart(_0x113303,{'type':'bar','data':{'labels':[_0x23d863(0x4c4)],'datasets':[{'label':_0x23d863(0x8a1),'data':[_0x8a6f53],'backgroundColor':_0x23d863(0x3dd)},{'label':'หลังเรียน','data':[_0x35b870],'backgroundColor':_0x23d863(0x161)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x3be6f4}}}});const _0x3c2976=_0x5a07d7||currentProjectData[_0x23d863(0x84c)]||[],_0x1c08cb=_0x3c2976['map'](_0x1d3163=>{const _0x254397=_0x23d863,_0x3c9a0c=_0x40c659[_0x254397(0x1cc)](_0x3c3402=>_0x3c3402[_0x254397(0x14f)]===_0x1d3163),_0x468624=_0x588123[_0x254397(0x1cc)](_0x59ae17=>_0x59ae17['studentName']===_0x1d3163),_0x482583=_0x3c9a0c?_0x3c9a0c[_0x254397(0x5ea)]:null,_0x36b5c0=_0x468624?_0x468624['latestScore']:null,_0x1ae43c=_0x482583!==null&&_0x36b5c0!==null?_0x36b5c0-_0x482583:null,_0x533d34=_0x482583!==null?calculateZScore(_0x482583,_0x16d48a['mean'],_0x16d48a['stdDev']):null,_0x33173d=_0x36b5c0!==null?calculateZScore(_0x36b5c0,_0x26b3ec[_0x254397(0x431)],_0x26b3ec[_0x254397(0x35f)]):null,_0xfb5a15=_0x533d34!==null?calculateTScore(_0x533d34):null,_0x51422b=_0x33173d!==null?calculateTScore(_0x33173d):null,_0x4e9eb1=_0xfb5a15!==null&&_0x51422b!==null?_0x51422b-_0xfb5a15:null;return{'name':_0x1d3163,'preScore':_0x482583,'postScore':_0x36b5c0,'gain':_0x1ae43c,'preTScore':_0xfb5a15,'postTScore':_0x51422b,'tGain':_0x4e9eb1};});renderIndividualComparisonTable(_0x1c08cb,_0x4f856a);}catch(_0x20fbc9){console[_0x23d863(0x8ae)](_0x23d863(0x18d),_0x20fbc9),_0x2da45c['innerHTML']=_0x23d863(0x416);}}function renderIndividualComparisonTable(_0x2bd016,_0x4ceee9){const _0x3bdb39=_0x3cb14f;_0x2bd016[_0x3bdb39(0x19b)]((_0x5dd4db,_0x458b99)=>(_0x458b99[_0x3bdb39(0x5f9)]??-Infinity)-(_0x5dd4db[_0x3bdb39(0x5f9)]??-Infinity));let _0x2eb717='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x2bd016[_0x3bdb39(0x1d7)]===0x0?_0x2eb717+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x2bd016[_0x3bdb39(0x1f4)]((_0x20631d,_0x447eab)=>{const _0x3e320a=_0x3bdb39;let _0x3388d4='-',_0x14f814='';if(_0x20631d['gain']!==null){const _0x26cd9f=_0x20631d[_0x3e320a(0x24c)]>0x0?'text-green-600':_0x20631d[_0x3e320a(0x24c)]<0x0?_0x3e320a(0x8b8):_0x3e320a(0x375),_0x33c4cc=_0x20631d['gain']>0x0?'+':'';_0x3388d4=_0x3e320a(0x2d8)+_0x26cd9f+'\x22>'+_0x33c4cc+_0x20631d[_0x3e320a(0x24c)]+'</span>';if(_0x20631d[_0x3e320a(0x24c)]>0x0)_0x14f814=_0x3e320a(0x2bf);else _0x20631d[_0x3e320a(0x24c)]<0x0?_0x14f814=_0x3e320a(0x4c6):_0x14f814=_0x3e320a(0x5a4);}let _0x572b04='-';if(_0x20631d['tGain']!==null){const _0x8d1c4e=_0x20631d[_0x3e320a(0x5f9)]>0x0?_0x3e320a(0x1b8):_0x20631d[_0x3e320a(0x5f9)]<0x0?_0x3e320a(0x8b8):_0x3e320a(0x375),_0x14327a=_0x20631d[_0x3e320a(0x5f9)]>0x0?'+':'';_0x572b04=_0x3e320a(0x2d8)+_0x8d1c4e+'\x22>'+_0x14327a+_0x20631d['tGain'][_0x3e320a(0x843)](0x2)+_0x3e320a(0x753);}_0x2eb717+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x447eab+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x20631d[_0x3e320a(0x7e3)]+_0x3e320a(0x352)+(_0x20631d['preScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x20631d['postScore']??'-')+_0x3e320a(0x352)+_0x3388d4+_0x3e320a(0x8ba)+_0x14f814+_0x3e320a(0x646)+(_0x20631d[_0x3e320a(0x8b3)]?.[_0x3e320a(0x843)](0x2)??'-')+_0x3e320a(0x1b5)+(_0x20631d[_0x3e320a(0x695)]?.[_0x3e320a(0x843)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x572b04+_0x3e320a(0x59b);}),_0x2eb717+=_0x3bdb39(0x81d),_0x4ceee9[_0x3bdb39(0x729)]=_0x2eb717;}function handleRenameQuiz(_0x1b5c6a,_0x6af74e){const _0x8a4eaf=_0x3cb14f;actionTargetId=_0x1b5c6a,document[_0x8a4eaf(0x2d1)](_0x8a4eaf(0x6af))['value']=_0x6af74e,renameQuizModal['classList']['remove']('hidden');}function setupComparisonModalTabs(){const _0x441ec5=_0x3cb14f,_0x4d3fb2=document['getElementById'](_0x441ec5(0x60f)),_0x25a3ba=document[_0x441ec5(0x2d1)]('comparison-individual-tab'),_0x36d6f6=document[_0x441ec5(0x2d1)]('comparison-overall-content'),_0x173eca=document[_0x441ec5(0x2d1)](_0x441ec5(0x710));_0x4d3fb2[_0x441ec5(0x415)](_0x441ec5(0x502),()=>{const _0x7ef3a1=_0x441ec5;_0x4d3fb2[_0x7ef3a1(0x28d)]['add'](_0x7ef3a1(0x302)),_0x25a3ba['classList']['remove']('active'),_0x36d6f6[_0x7ef3a1(0x28d)]['remove'](_0x7ef3a1(0x28c)),_0x173eca[_0x7ef3a1(0x28d)]['add'](_0x7ef3a1(0x28c));}),_0x25a3ba['addEventListener'](_0x441ec5(0x502),()=>{const _0x327b84=_0x441ec5;_0x25a3ba[_0x327b84(0x28d)][_0x327b84(0x7c9)]('active'),_0x4d3fb2[_0x327b84(0x28d)]['remove'](_0x327b84(0x302)),_0x173eca[_0x327b84(0x28d)][_0x327b84(0x817)](_0x327b84(0x28c)),_0x36d6f6[_0x327b84(0x28d)][_0x327b84(0x7c9)](_0x327b84(0x28c));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x112c07=''){const _0x203819=_0x3cb14f,_0x1cf5fa=document[_0x203819(0x2d1)](_0x203819(0x1ad)),_0x31f5f0=_0x112c07[_0x203819(0x671)]()['trim'](),_0x3276dc=allQuizzesGlobal['map'](_0x51726c=>({..._0x51726c,'projectName':allProjects[_0x203819(0x1cc)](_0x2f1d30=>_0x2f1d30['id']===_0x51726c[_0x203819(0x215)])?.['projectName']||_0x51726c[_0x203819(0x215)]}))[_0x203819(0x255)](_0x409b85=>(_0x409b85[_0x203819(0x367)]||'')[_0x203819(0x671)]()[_0x203819(0x6a7)](_0x31f5f0)||(_0x409b85[_0x203819(0x39d)]||'')[_0x203819(0x671)]()[_0x203819(0x6a7)](_0x31f5f0));document[_0x203819(0x2d1)](_0x203819(0x86a))[_0x203819(0x6ca)]='('+_0x3276dc['length']+_0x203819(0x748),_0x1cf5fa[_0x203819(0x729)]=_0x3276dc[_0x203819(0x1d7)]?_0x3276dc[_0x203819(0x3ea)](_0x354371=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x354371['id']+_0x203819(0x339)+(_0x354371[_0x203819(0x367)]||_0x203819(0x4eb))+_0x203819(0x68d)+(_0x354371[_0x203819(0x4e9)]?.['length']||0x0)+_0x203819(0x488)+_0x354371[_0x203819(0x39d)]+_0x203819(0x537))[_0x203819(0x551)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document['getElementById'](_0x203819(0x84b))[_0x203819(0x5ab)]=!![],_0x1cf5fa[_0x203819(0x7b0)]('button[data-id]')[_0x203819(0x1f4)](_0x15c85b=>{const _0xb6be5=_0x203819;_0x15c85b[_0xb6be5(0x415)]('click',()=>{const _0x267927=_0xb6be5;selectedGlobalQuizId=_0x15c85b[_0x267927(0x202)]['id'],_0x1cf5fa[_0x267927(0x7b0)](_0x267927(0x226))[_0x267927(0x1f4)](_0x1dd1a9=>_0x1dd1a9[_0x267927(0x28d)]['remove']('bg-purple-50',_0x267927(0x560),_0x267927(0x6c1))),_0x15c85b[_0x267927(0x28d)][_0x267927(0x7c9)](_0x267927(0x3a7),_0x267927(0x560),'ring-purple-400'),document[_0x267927(0x2d1)](_0x267927(0x84b))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x5aedeb=_0x3cb14f;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3cde11=doc(db,_0x5aedeb(0x477)+appId+_0x5aedeb(0x581),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3cde11,_0x435289=>{const _0x4d616e=_0x5aedeb;if(!_0x435289[_0x4d616e(0x1cf)]()){showMessage(_0x4d616e(0x7ca)),showView(currentMode);return;}const _0x4296f4=_0x435289[_0x4d616e(0x1bc)]();!currentQuizData&&_0x4296f4[_0x4d616e(0x3c6)]&&((async()=>{const _0x86e350=_0x4d616e;try{const _0x3709c1=doc(db,_0x86e350(0x477)+appId+'/public/data/quizzes',_0x4296f4[_0x86e350(0x3c6)]),_0xff4a35=await getDoc(_0x3709c1);_0xff4a35[_0x86e350(0x1cf)]()&&(currentQuizData={'id':_0xff4a35['id'],..._0xff4a35[_0x86e350(0x1bc)]()});}catch(_0x44e2c6){console[_0x86e350(0x8ae)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x44e2c6);}})());switch(_0x4296f4[_0x4d616e(0x682)]){case'lobby':if(currentMode===_0x4d616e(0x622)){const _0x383386=_0x4296f4[_0x4d616e(0x4d7)]?Object[_0x4d616e(0x3f3)](_0x4296f4[_0x4d616e(0x4d7)]):[];document[_0x4d616e(0x2d1)](_0x4d616e(0x74d))[_0x4d616e(0x6ca)]=_0x383386[_0x4d616e(0x1d7)],document['getElementById'](_0x4d616e(0x43d))[_0x4d616e(0x729)]=_0x383386[_0x4d616e(0x3ea)](_0x2b69b3=>_0x4d616e(0x5c6)+_0x2b69b3+_0x4d616e(0x753))[_0x4d616e(0x551)]('');const _0x252f7e=document[_0x4d616e(0x2d1)](_0x4d616e(0x602));_0x252f7e&&(_0x252f7e[_0x4d616e(0x5ab)]=_0x383386[_0x4d616e(0x1d7)]===0x0);}else showView('live-game'),liveGameView['innerHTML']=_0x4d616e(0x6ba)+currentStudentName+_0x4d616e(0x52e);break;case _0x4d616e(0x7b4):const _0x472975=_0x4296f4[_0x4d616e(0x396)];if(currentQuizData&&currentQuizData[_0x4d616e(0x4e9)][_0x472975]){const _0xb1a9fe=currentQuizData[_0x4d616e(0x4e9)][_0x472975],_0xda36ea=currentQuizData[_0x4d616e(0x4e9)][_0x4d616e(0x1d7)];if(currentMode===_0x4d616e(0x622)){lastRenderedAdminQuestionIndex!==_0x472975&&(showAdminLiveQuestionView(_0xb1a9fe,_0x472975,_0xda36ea),lastRenderedAdminQuestionIndex=_0x472975);const _0x2758a1=document[_0x4d616e(0x2d1)](_0x4d616e(0x5f6));if(_0x2758a1&&_0x4296f4[_0x4d616e(0x4d7)]){const _0x38e5a4=Object[_0x4d616e(0x3f3)](_0x4296f4[_0x4d616e(0x4d7)])[_0x4d616e(0x1d7)],_0x58fda9=Object[_0x4d616e(0x31f)](_0x4296f4[_0x4d616e(0x4d7)])[_0x4d616e(0x255)](_0x4f1b71=>_0x4f1b71[_0x4d616e(0x224)]===!![])['length'];_0x2758a1[_0x4d616e(0x6ca)]=_0x58fda9+'/'+_0x38e5a4,_0x38e5a4>0x0&&_0x58fda9===_0x38e5a4&&_0x4296f4[_0x4d616e(0x75c)]!=='revealed'&&revealAnswerForAdmin(_0x472975,_0xda36ea);}}else{const _0x378360=_0x4296f4['players'][currentStudentName];if(_0x4296f4['questionStatus']===_0x4d616e(0x6a6)){if(_0x378360[_0x4d616e(0x224)]){const _0x129c1b=_0x378360[_0x4d616e(0x6c6)],_0x3b8c45=_0x378360[_0x4d616e(0x2fd)]||0x0,_0x36282c=_0x129c1b?_0x4d616e(0x808)+_0x3b8c45+_0x4d616e(0x4cb):_0x4d616e(0x48a);liveGameView['innerHTML']=_0x4d616e(0x171)+_0x36282c+_0x4d616e(0x291);}else liveGameView['innerHTML']=_0x4d616e(0x1b9);}else!_0x378360[_0x4d616e(0x224)]&&showStudentLiveQuestionView(_0xb1a9fe,_0x472975,_0xda36ea);}}break;case _0x4d616e(0x36b):showPodiumView(_0x4296f4[_0x4d616e(0x4d7)]);break;}});}async function authenticateUser(){const _0x53f883=_0x3cb14f;try{typeof __initial_auth_token!==_0x53f883(0x160)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x32c51e){console['error']('Authentication\x20failed:',_0x32c51e),showMessage(_0x53f883(0x5c8));}}function showView(_0x49c5bd){const _0x4a28fe=_0x3cb14f,_0x573f82=[_0x4a28fe(0x4e1),_0x4a28fe(0x253),_0x4a28fe(0x406),_0x4a28fe(0x6d7),_0x4a28fe(0x65c),'live-game-view',_0x4a28fe(0x807)];_0x573f82[_0x4a28fe(0x1f4)](_0x4f8de5=>document[_0x4a28fe(0x2d1)](_0x4f8de5)?.['classList'][_0x4a28fe(0x7c9)]('hidden'));if(_0x49c5bd===_0x4a28fe(0x6fa))adminView[_0x4a28fe(0x28d)][_0x4a28fe(0x817)]('hidden'),projectDashboardView[_0x4a28fe(0x28d)]['remove']('hidden');else{if(_0x49c5bd===_0x4a28fe(0x718))studentView[_0x4a28fe(0x28d)][_0x4a28fe(0x817)](_0x4a28fe(0x28c)),studentInitialView[_0x4a28fe(0x28d)][_0x4a28fe(0x817)](_0x4a28fe(0x28c)),studentNameSelectionView[_0x4a28fe(0x28d)][_0x4a28fe(0x7c9)]('hidden'),studentQuizArea['classList'][_0x4a28fe(0x7c9)](_0x4a28fe(0x28c)),studentResultArea[_0x4a28fe(0x28d)][_0x4a28fe(0x7c9)](_0x4a28fe(0x28c)),studentReadingArea['classList'][_0x4a28fe(0x7c9)](_0x4a28fe(0x28c)),studentJoinGameView[_0x4a28fe(0x28d)]['add'](_0x4a28fe(0x28c));else{if(_0x49c5bd===_0x4a28fe(0x2e3))adminView[_0x4a28fe(0x28d)][_0x4a28fe(0x817)](_0x4a28fe(0x28c)),projectDetailView[_0x4a28fe(0x28d)][_0x4a28fe(0x817)]('hidden');else{if(_0x49c5bd===_0x4a28fe(0x408))adminView[_0x4a28fe(0x28d)][_0x4a28fe(0x817)](_0x4a28fe(0x28c)),quizResultsView['classList'][_0x4a28fe(0x817)](_0x4a28fe(0x28c));else _0x49c5bd===_0x4a28fe(0x1d9)&&liveGameView[_0x4a28fe(0x28d)][_0x4a28fe(0x817)](_0x4a28fe(0x28c));}}}}function showJoinGameView(){const _0x238cee=_0x3cb14f;studentInitialView[_0x238cee(0x28d)]['add']('hidden'),studentJoinGameView[_0x238cee(0x28d)]['remove'](_0x238cee(0x28c));}async function handleSaveVisibilitySettings(){const _0x325cca=_0x3cb14f;if(!currentProjectId)return;const _0x2097fa=doc(db,_0x325cca(0x477)+appId+_0x325cca(0x159),currentProjectId);try{await updateDoc(_0x2097fa,{'settings.showInStudentDashboard':document[_0x325cca(0x2d1)](_0x325cca(0x411))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0x325cca(0x4d9))[_0x325cca(0x7bd)],'settings.passcode':document['getElementById'](_0x325cca(0x73a))['value'][_0x325cca(0x175)]()}),showMessage(_0x325cca(0x4f4));}catch(_0x191a52){console[_0x325cca(0x8ae)]('Error\x20saving\x20visibility\x20settings:',_0x191a52),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x1f61ce=_0x3cb14f;document['getElementById'](_0x1f61ce(0x65c))[_0x1f61ce(0x415)](_0x1f61ce(0x502),async _0x1d6924=>{const _0xec2fd1=_0x1f61ce,_0x2ccaab=_0x1d6924['target'][_0xec2fd1(0x3d7)](_0xec2fd1(0x4c8));if(_0x2ccaab)try{const _0x527eec=_0x2ccaab[_0xec2fd1(0x202)]['preTestId'],_0x5c0e56=_0x2ccaab['dataset'][_0xec2fd1(0x25d)];if(!_0x527eec||!_0x5c0e56)return;showMessage('กำลังเตรียมข้อมูลกลุ่มเป้าหมาย...');const _0x4ecdad=doc(db,_0xec2fd1(0x477)+appId+_0xec2fd1(0x4f0),_0x527eec),_0x1f4af9=collection(db,_0xec2fd1(0x477)+appId+'/public/data/quizzes/'+_0x527eec+'/submissions'),[_0x51c720,_0x7f940c]=await Promise[_0xec2fd1(0x4fa)]([getDoc(_0x4ecdad),getDocs(_0x1f4af9)]);if(!_0x51c720[_0xec2fd1(0x1cf)]()){showMessage(_0xec2fd1(0x677));return;}const _0x4bee7f=_0x51c720['data'](),_0x3aaae4=_0x7f940c[_0xec2fd1(0x521)]['map'](_0x9e2a64=>_0x9e2a64['data']()),_0x2938f9=_0x4bee7f['settings']?.[_0xec2fd1(0x6f7)],_0x42ae90=_0x3aaae4[_0xec2fd1(0x255)](_0x4361ed=>_0x4361ed['firstScore']<_0x2938f9)[_0xec2fd1(0x3ea)](_0x38e018=>_0x38e018[_0xec2fd1(0x14f)]);if(_0x42ae90['length']===0x0){showMessage(_0xec2fd1(0x660));return;}handleCompareResults(_0x5c0e56,_0x527eec,_0x42ae90);}catch(_0x1963f2){console['error'](_0xec2fd1(0x5a3),_0x1963f2),showMessage(_0xec2fd1(0x66a));}finally{const _0xbbd4f2=document['getElementById']('message-modal');!_0xbbd4f2[_0xec2fd1(0x28d)][_0xec2fd1(0x23e)]('hidden')&&_0xbbd4f2['classList'][_0xec2fd1(0x7c9)](_0xec2fd1(0x28c));}}),document[_0x1f61ce(0x2d1)]('mode-switcher-btn')[_0x1f61ce(0x415)]('click',handleModeSwitch),document[_0x1f61ce(0x2d1)]('reset-project-order-btn')[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleResetProjectOrder),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x26f))[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleSaveVisibilitySettings),document['getElementById'](_0x1f61ce(0x1c8))[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleAddCustomMathTopic),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x572))[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleSelectAllTopics),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x7b6))[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleDeselectAllTopics),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x78c))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x5ee7f7=_0x1f61ce;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5ee7f7(0x6fa));}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x6be))['addEventListener'](_0x1f61ce(0x502),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x61f))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x2fd89f=_0x1f61ce;showView(_0x2fd89f(0x6fa));}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x725))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x1dc7ea=_0x1f61ce;messageModal['classList']['add'](_0x1dc7ea(0x28c)),typeof modalConfirmAction===_0x1dc7ea(0x473)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1f61ce(0x2d1)]('create-project-btn')[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>createProjectModal['classList']['remove'](_0x1f61ce(0x28c))),document['getElementById'](_0x1f61ce(0x543))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>createProjectModal[_0x1f61ce(0x28d)]['add'](_0x1f61ce(0x28c))),document['getElementById'](_0x1f61ce(0x58c))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>adminPasswordModal[_0x1f61ce(0x28d)][_0x1f61ce(0x7c9)](_0x1f61ce(0x28c))),document['getElementById']('confirm-admin-login-btn')['addEventListener'](_0x1f61ce(0x502),handleAdminLogin),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x79e))[_0x1f61ce(0x415)](_0x1f61ce(0x4ed),_0x180eb3=>{const _0x48ac8c=_0x1f61ce;if(_0x180eb3[_0x48ac8c(0x5f8)]===_0x48ac8c(0x392))handleAdminLogin();}),document[_0x1f61ce(0x2d1)]('cancel-delete-btn')['addEventListener'](_0x1f61ce(0x502),()=>{const _0x524550=_0x1f61ce;confirmationModal[_0x524550(0x28d)]['add']('hidden'),confirmAction=null;}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x469))['addEventListener'](_0x1f61ce(0x502),()=>{const _0x1f4c63=_0x1f61ce;confirmAction&&confirmAction(),confirmationModal['classList'][_0x1f4c63(0x7c9)]('hidden'),confirmAction=null;}),document['getElementById'](_0x1f61ce(0x2e6))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>renameQuizModal[_0x1f61ce(0x28d)][_0x1f61ce(0x7c9)](_0x1f61ce(0x28c))),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x678))[_0x1f61ce(0x415)](_0x1f61ce(0x502),confirmRenameQuiz),document[_0x1f61ce(0x2d1)]('cancel-move-quiz-btn')[_0x1f61ce(0x415)]('click',()=>moveQuizModal[_0x1f61ce(0x28d)][_0x1f61ce(0x7c9)](_0x1f61ce(0x28c))),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x69e))[_0x1f61ce(0x415)](_0x1f61ce(0x502),confirmMoveQuiz),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x650))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>quizSettingsModal[_0x1f61ce(0x28d)][_0x1f61ce(0x7c9)](_0x1f61ce(0x28c))),document['getElementById'](_0x1f61ce(0x340))[_0x1f61ce(0x415)](_0x1f61ce(0x502),confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>quizStatusModal[_0x1f61ce(0x28d)][_0x1f61ce(0x7c9)](_0x1f61ce(0x28c))),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x149))[_0x1f61ce(0x415)](_0x1f61ce(0x502),confirmQuizStatus);const _0x5b63ae=document[_0x1f61ce(0x2d1)]('export-pdf-modal');document[_0x1f61ce(0x2d1)](_0x1f61ce(0x376))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{_0x5b63ae['classList']['add']('hidden');}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x620))[_0x1f61ce(0x415)]('click',async()=>{const _0x5a4513=_0x1f61ce,_0x517e27=allQuizzes['find'](_0x4a46ff=>_0x4a46ff['id']===actionTargetId);_0x517e27?(currentQuizData=_0x517e27,exportQuizAsWorksheetPDF()):showMessage(_0x5a4513(0x877)),_0x5b63ae[_0x5a4513(0x28d)][_0x5a4513(0x7c9)]('hidden');}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x72c))['addEventListener'](_0x1f61ce(0x502),async()=>{const _0x32417c=_0x1f61ce,_0x30aa5d=allQuizzes[_0x32417c(0x1cc)](_0x42d2bf=>_0x42d2bf['id']===actionTargetId);_0x30aa5d?(currentQuizData=_0x30aa5d,exportQuizAsTutorPDF()):showMessage(_0x32417c(0x877)),_0x5b63ae['classList'][_0x32417c(0x7c9)](_0x32417c(0x28c));}),document['getElementById'](_0x1f61ce(0x486))[_0x1f61ce(0x415)](_0x1f61ce(0x502),openGlobalLiveModal),document['getElementById'](_0x1f61ce(0x462))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x44c9ee=_0x1f61ce;document[_0x44c9ee(0x2d1)](_0x44c9ee(0x4c7))['classList'][_0x44c9ee(0x7c9)](_0x44c9ee(0x28c)),selectedGlobalQuizId=null;}),document['getElementById'](_0x1f61ce(0x233))[_0x1f61ce(0x415)](_0x1f61ce(0x30b),_0x28710c=>renderGlobalQuizList(_0x28710c[_0x1f61ce(0x80d)][_0x1f61ce(0x327)])),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x84b))[_0x1f61ce(0x415)]('click',()=>{const _0x4e729c=_0x1f61ce,_0x5a1f7b=selectedGlobalQuizId;if(!_0x5a1f7b)return;document['getElementById']('global-live-game-modal')['classList'][_0x4e729c(0x7c9)]('hidden'),handleStartLiveRace(_0x5a1f7b);}),document['getElementById'](_0x1f61ce(0x1c7))[_0x1f61ce(0x415)](_0x1f61ce(0x30b),renderProjects),document[_0x1f61ce(0x2d1)]('project-sort-select')['addEventListener'](_0x1f61ce(0x133),async()=>{const _0x17b5b4=_0x1f61ce,_0x1ba56b=document[_0x17b5b4(0x2d1)](_0x17b5b4(0x722))[_0x17b5b4(0x327)],_0x3ed6f6=doc(db,_0x17b5b4(0x243),'dashboardConfig');try{await setDoc(_0x3ed6f6,{'projectSort':_0x1ba56b},{'merge':!![]});}catch(_0x9a5590){console[_0x17b5b4(0x8ae)](_0x17b5b4(0x1fd),_0x9a5590),showMessage(_0x17b5b4(0x85f));}}),document['getElementById']('quiz-search-input')[_0x1f61ce(0x415)]('input',renderQuizzes),document['getElementById'](_0x1f61ce(0x578))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x29c300=_0x1f61ce;globalDashboardSettings[_0x29c300(0x425)]=_0x29c300(0x598),saveUserPreference('projectView',_0x29c300(0x598)),renderProjects();}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x1f1))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x116f82=_0x1f61ce;globalDashboardSettings[_0x116f82(0x425)]=_0x116f82(0x19c),saveUserPreference(_0x116f82(0x425),'list'),renderProjects();}),manageTab[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>switchProjectTab(_0x1f61ce(0x61b))),resultsTab['addEventListener'](_0x1f61ce(0x502),()=>switchProjectTab(_0x1f61ce(0x7e4))),leaderboardTab[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>switchProjectTab(_0x1f61ce(0x2b7))),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x281))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>switchQuizDetailTab(_0x1f61ce(0x3d2))),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x659))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>switchQuizDetailTab(_0x1f61ce(0x6df))),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x50b))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x3ef))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>switchQuizDetailTab(_0x1f61ce(0x6f1))),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x4a4))[_0x1f61ce(0x415)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x1f61ce(0x415)](_0x1f61ce(0x502),generateWorksheet);const _0x52f21c=document['getElementById']('link-tab'),_0x580a8a=document[_0x1f61ce(0x2d1)](_0x1f61ce(0x53a)),_0x442255=document[_0x1f61ce(0x2d1)]('blueprint-tab'),_0x5ca85a=document[_0x1f61ce(0x2d1)](_0x1f61ce(0x4db)),_0x118a73=document[_0x1f61ce(0x2d1)]('parallel-test-tab'),_0x176f6b=document[_0x1f61ce(0x2d1)](_0x1f61ce(0x532));topicTab[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x2cc020=_0x1f61ce;topicTab[_0x2cc020(0x28d)][_0x2cc020(0x7c9)](_0x2cc020(0x302)),textTab[_0x2cc020(0x28d)][_0x2cc020(0x817)](_0x2cc020(0x302)),fileTab[_0x2cc020(0x28d)][_0x2cc020(0x817)]('active'),worksheetTab[_0x2cc020(0x28d)][_0x2cc020(0x817)](_0x2cc020(0x302));if(_0x52f21c)_0x52f21c[_0x2cc020(0x28d)]['remove'](_0x2cc020(0x302));if(_0x442255)_0x442255[_0x2cc020(0x28d)][_0x2cc020(0x817)](_0x2cc020(0x302));if(_0x118a73)_0x118a73[_0x2cc020(0x28d)][_0x2cc020(0x817)]('active');topicInputArea[_0x2cc020(0x28d)][_0x2cc020(0x817)]('hidden'),textInputArea[_0x2cc020(0x28d)][_0x2cc020(0x7c9)](_0x2cc020(0x28c)),fileInputArea[_0x2cc020(0x28d)][_0x2cc020(0x7c9)]('hidden'),worksheetInputArea[_0x2cc020(0x28d)][_0x2cc020(0x7c9)]('hidden');if(_0x580a8a)_0x580a8a[_0x2cc020(0x28d)][_0x2cc020(0x7c9)](_0x2cc020(0x28c));if(_0x5ca85a)_0x5ca85a[_0x2cc020(0x28d)][_0x2cc020(0x7c9)](_0x2cc020(0x28c));if(_0x176f6b)_0x176f6b['classList'][_0x2cc020(0x7c9)](_0x2cc020(0x28c));}),textTab['addEventListener'](_0x1f61ce(0x502),()=>{const _0x2c7805=_0x1f61ce;textTab[_0x2c7805(0x28d)]['add'](_0x2c7805(0x302)),topicTab[_0x2c7805(0x28d)]['remove'](_0x2c7805(0x302)),fileTab['classList'][_0x2c7805(0x817)]('active'),worksheetTab[_0x2c7805(0x28d)][_0x2c7805(0x817)]('active');if(_0x52f21c)_0x52f21c[_0x2c7805(0x28d)]['remove']('active');if(_0x442255)_0x442255[_0x2c7805(0x28d)][_0x2c7805(0x817)](_0x2c7805(0x302));if(_0x118a73)_0x118a73['classList'][_0x2c7805(0x817)](_0x2c7805(0x302));textInputArea[_0x2c7805(0x28d)][_0x2c7805(0x817)](_0x2c7805(0x28c)),topicInputArea['classList'][_0x2c7805(0x7c9)](_0x2c7805(0x28c)),fileInputArea[_0x2c7805(0x28d)]['add']('hidden'),worksheetInputArea[_0x2c7805(0x28d)][_0x2c7805(0x7c9)]('hidden');if(_0x580a8a)_0x580a8a[_0x2c7805(0x28d)][_0x2c7805(0x7c9)](_0x2c7805(0x28c));if(_0x5ca85a)_0x5ca85a[_0x2c7805(0x28d)][_0x2c7805(0x7c9)]('hidden');if(_0x176f6b)_0x176f6b['classList'][_0x2c7805(0x7c9)](_0x2c7805(0x28c));}),fileTab[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x498343=_0x1f61ce;fileTab[_0x498343(0x28d)][_0x498343(0x7c9)](_0x498343(0x302)),topicTab[_0x498343(0x28d)][_0x498343(0x817)](_0x498343(0x302)),textTab[_0x498343(0x28d)][_0x498343(0x817)](_0x498343(0x302)),worksheetTab[_0x498343(0x28d)][_0x498343(0x817)]('active');if(_0x52f21c)_0x52f21c[_0x498343(0x28d)]['remove'](_0x498343(0x302));if(_0x442255)_0x442255['classList'][_0x498343(0x817)](_0x498343(0x302));if(_0x118a73)_0x118a73[_0x498343(0x28d)][_0x498343(0x817)]('active');fileInputArea[_0x498343(0x28d)][_0x498343(0x817)](_0x498343(0x28c)),topicInputArea[_0x498343(0x28d)][_0x498343(0x7c9)](_0x498343(0x28c)),textInputArea['classList'][_0x498343(0x7c9)]('hidden'),worksheetInputArea[_0x498343(0x28d)][_0x498343(0x7c9)](_0x498343(0x28c));if(_0x580a8a)_0x580a8a['classList'][_0x498343(0x7c9)](_0x498343(0x28c));if(_0x5ca85a)_0x5ca85a[_0x498343(0x28d)][_0x498343(0x7c9)](_0x498343(0x28c));if(_0x176f6b)_0x176f6b[_0x498343(0x28d)][_0x498343(0x7c9)](_0x498343(0x28c));}),worksheetTab[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0xe36b09=_0x1f61ce;worksheetTab[_0xe36b09(0x28d)][_0xe36b09(0x7c9)](_0xe36b09(0x302)),topicTab[_0xe36b09(0x28d)][_0xe36b09(0x817)](_0xe36b09(0x302)),textTab[_0xe36b09(0x28d)]['remove']('active'),fileTab[_0xe36b09(0x28d)]['remove']('active');if(_0x52f21c)_0x52f21c[_0xe36b09(0x28d)][_0xe36b09(0x817)](_0xe36b09(0x302));if(_0x442255)_0x442255[_0xe36b09(0x28d)][_0xe36b09(0x817)]('active');if(_0x118a73)_0x118a73['classList'][_0xe36b09(0x817)](_0xe36b09(0x302));worksheetInputArea[_0xe36b09(0x28d)][_0xe36b09(0x817)](_0xe36b09(0x28c)),topicInputArea['classList'][_0xe36b09(0x7c9)]('hidden'),textInputArea[_0xe36b09(0x28d)][_0xe36b09(0x7c9)](_0xe36b09(0x28c)),fileInputArea[_0xe36b09(0x28d)][_0xe36b09(0x7c9)]('hidden');if(_0x580a8a)_0x580a8a[_0xe36b09(0x28d)]['add'](_0xe36b09(0x28c));if(_0x5ca85a)_0x5ca85a['classList'][_0xe36b09(0x7c9)](_0xe36b09(0x28c));if(_0x176f6b)_0x176f6b[_0xe36b09(0x28d)]['add'](_0xe36b09(0x28c));});const _0x2a428d=document[_0x1f61ce(0x2d1)](_0x1f61ce(0x6fe)),_0x1504b6=document[_0x1f61ce(0x2d1)]('bank-input-area');_0x2a428d&&_0x2a428d['addEventListener'](_0x1f61ce(0x502),()=>{const _0x14b5de=_0x1f61ce;topicTab[_0x14b5de(0x28d)][_0x14b5de(0x817)](_0x14b5de(0x302)),textTab[_0x14b5de(0x28d)]['remove'](_0x14b5de(0x302)),fileTab[_0x14b5de(0x28d)]['remove'](_0x14b5de(0x302)),worksheetTab[_0x14b5de(0x28d)][_0x14b5de(0x817)](_0x14b5de(0x302));if(_0x52f21c)_0x52f21c[_0x14b5de(0x28d)][_0x14b5de(0x817)](_0x14b5de(0x302));if(_0x442255)_0x442255['classList'][_0x14b5de(0x817)](_0x14b5de(0x302));if(_0x118a73)_0x118a73[_0x14b5de(0x28d)][_0x14b5de(0x817)]('active');_0x2a428d[_0x14b5de(0x28d)][_0x14b5de(0x7c9)]('active'),topicInputArea[_0x14b5de(0x28d)]['add']('hidden'),textInputArea[_0x14b5de(0x28d)][_0x14b5de(0x7c9)](_0x14b5de(0x28c)),fileInputArea[_0x14b5de(0x28d)]['add'](_0x14b5de(0x28c)),worksheetInputArea[_0x14b5de(0x28d)][_0x14b5de(0x7c9)](_0x14b5de(0x28c));if(_0x580a8a)_0x580a8a['classList'][_0x14b5de(0x7c9)]('hidden');if(_0x5ca85a)_0x5ca85a[_0x14b5de(0x28d)][_0x14b5de(0x7c9)](_0x14b5de(0x28c));if(_0x176f6b)_0x176f6b[_0x14b5de(0x28d)][_0x14b5de(0x7c9)](_0x14b5de(0x28c));_0x1504b6[_0x14b5de(0x28d)][_0x14b5de(0x817)](_0x14b5de(0x28c)),displayQuestionBank();});_0x52f21c&&(_0x52f21c[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x21f48c=_0x1f61ce;_0x52f21c[_0x21f48c(0x28d)][_0x21f48c(0x7c9)](_0x21f48c(0x302)),topicTab[_0x21f48c(0x28d)][_0x21f48c(0x817)](_0x21f48c(0x302)),textTab[_0x21f48c(0x28d)]['remove'](_0x21f48c(0x302)),fileTab[_0x21f48c(0x28d)][_0x21f48c(0x817)](_0x21f48c(0x302)),worksheetTab['classList'][_0x21f48c(0x817)]('active');if(_0x442255)_0x442255[_0x21f48c(0x28d)][_0x21f48c(0x817)]('active');if(_0x118a73)_0x118a73[_0x21f48c(0x28d)][_0x21f48c(0x817)](_0x21f48c(0x302));_0x580a8a[_0x21f48c(0x28d)]['remove']('hidden'),topicInputArea[_0x21f48c(0x28d)][_0x21f48c(0x7c9)](_0x21f48c(0x28c)),textInputArea[_0x21f48c(0x28d)][_0x21f48c(0x7c9)](_0x21f48c(0x28c)),fileInputArea[_0x21f48c(0x28d)][_0x21f48c(0x7c9)](_0x21f48c(0x28c)),worksheetInputArea[_0x21f48c(0x28d)]['add']('hidden');if(_0x5ca85a)_0x5ca85a['classList']['add'](_0x21f48c(0x28c));if(_0x176f6b)_0x176f6b[_0x21f48c(0x28d)][_0x21f48c(0x7c9)](_0x21f48c(0x28c));}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x479))[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleGenerateFromLink));_0x442255&&_0x442255[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x17fdbd=_0x1f61ce;_0x442255[_0x17fdbd(0x28d)]['add'](_0x17fdbd(0x302)),topicTab[_0x17fdbd(0x28d)][_0x17fdbd(0x817)](_0x17fdbd(0x302)),textTab[_0x17fdbd(0x28d)][_0x17fdbd(0x817)](_0x17fdbd(0x302)),fileTab[_0x17fdbd(0x28d)]['remove'](_0x17fdbd(0x302)),worksheetTab[_0x17fdbd(0x28d)][_0x17fdbd(0x817)](_0x17fdbd(0x302));if(_0x52f21c)_0x52f21c[_0x17fdbd(0x28d)][_0x17fdbd(0x817)](_0x17fdbd(0x302));if(_0x2a428d)_0x2a428d[_0x17fdbd(0x28d)][_0x17fdbd(0x817)](_0x17fdbd(0x302));if(_0x118a73)_0x118a73[_0x17fdbd(0x28d)][_0x17fdbd(0x817)](_0x17fdbd(0x302));_0x5ca85a['classList'][_0x17fdbd(0x817)]('hidden'),topicInputArea[_0x17fdbd(0x28d)][_0x17fdbd(0x7c9)]('hidden'),textInputArea[_0x17fdbd(0x28d)][_0x17fdbd(0x7c9)](_0x17fdbd(0x28c)),fileInputArea[_0x17fdbd(0x28d)][_0x17fdbd(0x7c9)](_0x17fdbd(0x28c)),worksheetInputArea[_0x17fdbd(0x28d)][_0x17fdbd(0x7c9)](_0x17fdbd(0x28c));if(_0x580a8a)_0x580a8a[_0x17fdbd(0x28d)]['add'](_0x17fdbd(0x28c));if(_0x1504b6)_0x1504b6[_0x17fdbd(0x28d)][_0x17fdbd(0x7c9)](_0x17fdbd(0x28c));if(_0x176f6b)_0x176f6b['classList']['add']('hidden');});_0x118a73&&_0x118a73[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x3e07a5=_0x1f61ce;_0x118a73[_0x3e07a5(0x28d)][_0x3e07a5(0x7c9)](_0x3e07a5(0x302)),topicTab[_0x3e07a5(0x28d)]['remove'](_0x3e07a5(0x302)),textTab[_0x3e07a5(0x28d)][_0x3e07a5(0x817)](_0x3e07a5(0x302)),fileTab[_0x3e07a5(0x28d)]['remove'](_0x3e07a5(0x302)),worksheetTab[_0x3e07a5(0x28d)][_0x3e07a5(0x817)](_0x3e07a5(0x302));if(_0x52f21c)_0x52f21c[_0x3e07a5(0x28d)][_0x3e07a5(0x817)](_0x3e07a5(0x302));if(_0x442255)_0x442255[_0x3e07a5(0x28d)]['remove']('active');if(_0x2a428d)_0x2a428d[_0x3e07a5(0x28d)][_0x3e07a5(0x817)](_0x3e07a5(0x302));_0x176f6b['classList'][_0x3e07a5(0x817)]('hidden'),topicInputArea[_0x3e07a5(0x28d)][_0x3e07a5(0x7c9)](_0x3e07a5(0x28c)),textInputArea[_0x3e07a5(0x28d)][_0x3e07a5(0x7c9)]('hidden'),fileInputArea['classList'][_0x3e07a5(0x7c9)](_0x3e07a5(0x28c)),worksheetInputArea['classList'][_0x3e07a5(0x7c9)](_0x3e07a5(0x28c));if(_0x580a8a)_0x580a8a[_0x3e07a5(0x28d)][_0x3e07a5(0x7c9)](_0x3e07a5(0x28c));if(_0x5ca85a)_0x5ca85a[_0x3e07a5(0x28d)][_0x3e07a5(0x7c9)](_0x3e07a5(0x28c));if(_0x1504b6)_0x1504b6[_0x3e07a5(0x28d)]['add'](_0x3e07a5(0x28c));});const _0x2fc7d8=document['getElementById']('blueprint-upload-input'),_0x30ef31=document[_0x1f61ce(0x2d1)](_0x1f61ce(0x4e3));_0x2fc7d8&&_0x2fc7d8[_0x1f61ce(0x415)]('change',_0x187910=>{const _0x514833=_0x1f61ce;_0x187910[_0x514833(0x80d)][_0x514833(0x4bf)][_0x514833(0x1d7)]>0x0?_0x30ef31[_0x514833(0x5ab)]=![]:_0x30ef31[_0x514833(0x5ab)]=!![];});_0x30ef31&&_0x30ef31['addEventListener']('click',handleGenerateFromBlueprint);const _0x4c9767=document[_0x1f61ce(0x2d1)]('parallel-test-upload-input'),_0x308ded=document['getElementById']('generate-from-parallel-test-btn');_0x4c9767&&_0x4c9767[_0x1f61ce(0x415)](_0x1f61ce(0x133),_0x3513d5=>{const _0x4d866e=_0x1f61ce;_0x308ded['disabled']=_0x3513d5[_0x4d866e(0x80d)][_0x4d866e(0x4bf)][_0x4d866e(0x1d7)]===0x0;});_0x308ded&&_0x308ded[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleGenerateParallelTest);loadQuizBtn[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleLoadQuiz),startQuizBtn[_0x1f61ce(0x415)]('click',()=>{const _0x52e6fe=_0x1f61ce,_0x4a5c19=document[_0x52e6fe(0x2d1)](_0x52e6fe(0x7f7));currentStudentName=_0x4a5c19[_0x52e6fe(0x327)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}studentNameSelectionView[_0x52e6fe(0x28d)][_0x52e6fe(0x7c9)](_0x52e6fe(0x28c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x625))[_0x1f61ce(0x415)](_0x1f61ce(0x502),showJoinGameView),document[_0x1f61ce(0x2d1)]('confirm-join-game-btn')['addEventListener'](_0x1f61ce(0x502),handleJoinLiveGame),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x5ff))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>showView(_0x1f61ce(0x718)));const _0x2ad13b=()=>{const _0x401100=_0x1f61ce,_0x14afaa=document[_0x401100(0x2d1)](_0x401100(0x673))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x401100(0x671)]();return _0x401100(0x280)+(_0x14afaa||'quiz');},_0x242edd=document[_0x1f61ce(0x2d1)]('math-topic-search-input');_0x242edd&&_0x242edd[_0x1f61ce(0x415)](_0x1f61ce(0x30b),_0x343e69=>{const _0x42d220=_0x1f61ce,_0xa22475=_0x343e69[_0x42d220(0x80d)][_0x42d220(0x327)][_0x42d220(0x671)]()[_0x42d220(0x175)](),_0x9a9e51=document[_0x42d220(0x2d1)]('math-topics-checkbox-container'),_0x5307f6=_0x9a9e51[_0x42d220(0x7b0)]('.topic-category');_0x5307f6[_0x42d220(0x1f4)](_0x4f5e6e=>{const _0x15ae71=_0x42d220;let _0x2bb917=![];const _0x14621c=_0x4f5e6e['querySelectorAll'](_0x15ae71(0x798));_0x14621c['forEach'](_0x2fcc3e=>{const _0x3e4af3=_0x15ae71,_0x511c78=_0x2fcc3e[_0x3e4af3(0x271)](_0x3e4af3(0x72d))[_0x3e4af3(0x6ca)]['toLowerCase']();_0x511c78[_0x3e4af3(0x6a7)](_0xa22475)?(_0x2fcc3e[_0x3e4af3(0x152)]['display']=_0x3e4af3(0x45e),_0x2bb917=!![]):_0x2fcc3e[_0x3e4af3(0x152)]['display']=_0x3e4af3(0x124);}),_0x2bb917?_0x4f5e6e[_0x15ae71(0x152)]['display']=_0x15ae71(0x296):_0x4f5e6e[_0x15ae71(0x152)][_0x15ae71(0x836)]=_0x15ae71(0x124);});});document[_0x1f61ce(0x2d1)](_0x1f61ce(0x14e))[_0x1f61ce(0x415)]('click',()=>exportTableAsImage('results-table-container',_0x2ad13b())),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x57f))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>exportTableAsPDF('results-table',_0x2ad13b())),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x445))['addEventListener'](_0x1f61ce(0x502),()=>exportTableAsWord(_0x1f61ce(0x1b2),_0x2ad13b())),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x3b2))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>exportTableAsExcel(_0x1f61ce(0x5c0),_0x2ad13b()));const _0x59ea56=()=>{const _0xb7b731=_0x1f61ce,_0x27e5e3=document['getElementById'](_0xb7b731(0x673))[_0xb7b731(0x6ca)][_0xb7b731(0x774)](/[^a-z0-9]/gi,'_')[_0xb7b731(0x671)]();return _0xb7b731(0x164)+(_0x27e5e3||_0xb7b731(0x813));};document['getElementById'](_0x1f61ce(0x32c))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x59ea56())),document['getElementById'](_0x1f61ce(0x363))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>exportTableAsPDF(_0x1f61ce(0x439),_0x59ea56())),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x739))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>exportTableAsWord(_0x1f61ce(0x1ec),_0x59ea56())),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x1c9))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>exportTableAsExcel(_0x1f61ce(0x439),_0x59ea56())),projectQuizzesList[_0x1f61ce(0x415)](_0x1f61ce(0x502),async _0x4ee4dc=>{const _0x1528c2=_0x1f61ce,_0x1c598e=_0x4ee4dc['target'][_0x1528c2(0x3d7)](_0x1528c2(0x301)),_0x34a067=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)]('.generate-post-test-btn'),_0x52f8e6=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x6c7)),_0x52f06f=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x2be)),_0x27271c=_0x4ee4dc[_0x1528c2(0x80d)]['closest'](_0x1528c2(0x30c)),_0x229449=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x44f)),_0x3f9837=_0x4ee4dc[_0x1528c2(0x80d)]['closest'](_0x1528c2(0x726)),_0x26e4bb=_0x4ee4dc[_0x1528c2(0x80d)]['closest']('.quiz-settings-btn'),_0x2da1e7=_0x4ee4dc['target'][_0x1528c2(0x3d7)](_0x1528c2(0x6d3)),_0x2f1572=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x1f5)),_0x262802=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x43a)),_0x5bf0f2=_0x4ee4dc[_0x1528c2(0x80d)]['closest'](_0x1528c2(0x548)),_0x513f30=_0x4ee4dc['target']['closest'](_0x1528c2(0x81c)),_0x5d3f2c=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x23c)),_0x528e83=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)]('.start-presentation-list-btn'),_0x419cb1=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x858)),_0x27e0e7=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x3f4)),_0x5a346f=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x772)),_0x209314=_0x4ee4dc['target']['closest'](_0x1528c2(0x4a9)),_0x4aa2a3=_0x4ee4dc[_0x1528c2(0x80d)][_0x1528c2(0x3d7)](_0x1528c2(0x1ff)),_0x16e044=_0x4ee4dc[_0x1528c2(0x80d)]['closest'](_0x1528c2(0x4b0));if(_0x16e044){const _0x262008=_0x16e044[_0x1528c2(0x202)][_0x1528c2(0x3c6)],_0x3a12a3=document[_0x1528c2(0x2d1)](_0x1528c2(0x2d2)+_0x262008);_0x3a12a3&&_0x3a12a3[_0x1528c2(0x28d)][_0x1528c2(0x6f4)](_0x1528c2(0x28c));}else{if(_0x34a067){const _0x17fb4b=_0x34a067[_0x1528c2(0x202)]['quizId'],_0x53ac29=allQuizzes[_0x1528c2(0x1cc)](_0x26785f=>_0x26785f['id']===_0x17fb4b);_0x53ac29&&handleGenerateParallelPostTest(_0x53ac29);}else{if(_0x52f8e6)handleCompareResults(_0x52f8e6[_0x1528c2(0x202)][_0x1528c2(0x3c6)],_0x52f8e6[_0x1528c2(0x202)][_0x1528c2(0x7ad)]);else{if(_0x52f06f){const _0x2dbf3d=_0x52f06f[_0x1528c2(0x202)][_0x1528c2(0x3c6)],_0x5edcb2=allQuizzes[_0x1528c2(0x1cc)](_0x11e8ce=>_0x11e8ce['id']===_0x2dbf3d);_0x5edcb2&&_0x5edcb2[_0x1528c2(0x81f)]?(displayLessonPlan(_0x5edcb2[_0x1528c2(0x81f)],_0x5edcb2),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x2dbf3d)),document[_0x1528c2(0x2d1)](_0x1528c2(0x583))[_0x1528c2(0x271)]('h3')['textContent']=_0x1528c2(0x305),document[_0x1528c2(0x2d1)](_0x1528c2(0x469))[_0x1528c2(0x6ca)]=_0x1528c2(0x2b0)):handleGenerateLessonPlan(_0x2dbf3d);}else{if(_0x27271c)handleToggleStarQuiz(_0x27271c['dataset']['quizId']);else{if(_0x229449)copyTextToClipboard(_0x229449[_0x1528c2(0x202)][_0x1528c2(0x3c6)],'คัดลอกรหัสแล้ว!');else{if(_0x3f9837)handleOpenQuizEditor(_0x3f9837[_0x1528c2(0x202)]['quizId']);else{if(_0x26e4bb)handleQuizSettings(_0x26e4bb[_0x1528c2(0x202)][_0x1528c2(0x3c6)]);else{if(_0x2da1e7)handleDuplicateQuiz(_0x2da1e7[_0x1528c2(0x202)][_0x1528c2(0x3c6)]);else{if(_0x2f1572)handleRenameQuiz(_0x2f1572['dataset']['quizId'],_0x2f1572['dataset'][_0x1528c2(0x367)]);else{if(_0x262802){const _0x1fa81d=_0x262802['dataset'][_0x1528c2(0x3c6)],_0x552d9d=allQuizzes[_0x1528c2(0x1cc)](_0x44873e=>_0x44873e['id']===_0x1fa81d);_0x552d9d&&handleGenerateParallelFromBank(_0x552d9d);}else{if(_0x5bf0f2)handleMoveQuiz(_0x5bf0f2[_0x1528c2(0x202)][_0x1528c2(0x3c6)]);else{if(_0x513f30)handleManualQuizPairing(_0x513f30[_0x1528c2(0x202)]['quizId']);else{if(_0x5d3f2c)handleUnpairQuiz(_0x5d3f2c['dataset'][_0x1528c2(0x3c6)]);else{if(_0x528e83){const _0x42a3ab=_0x528e83[_0x1528c2(0x202)][_0x1528c2(0x3c6)],_0x4c404c=allQuizzes[_0x1528c2(0x1cc)](_0x5a5efb=>_0x5a5efb['id']===_0x42a3ab);if(_0x4c404c)startPresentation(_0x4c404c);}else{if(_0x419cb1){const _0x246a4b=_0x419cb1[_0x1528c2(0x202)][_0x1528c2(0x3c6)],_0x12c62e=allQuizzes[_0x1528c2(0x1cc)](_0x4253ee=>_0x4253ee['id']===_0x246a4b);_0x12c62e&&(currentQuizData=_0x12c62e,startAdminTest());}else{if(_0x27e0e7)handleStartLiveRace(_0x27e0e7['dataset']['quizId']);else{if(_0x5a346f)actionTargetId=_0x5a346f[_0x1528c2(0x202)][_0x1528c2(0x3c6)],document[_0x1528c2(0x2d1)](_0x1528c2(0x3e7))[_0x1528c2(0x28d)][_0x1528c2(0x817)](_0x1528c2(0x28c));else{if(_0x209314)showConfirmation(_0x1528c2(0x2b8)+_0x209314['dataset'][_0x1528c2(0x367)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x209314[_0x1528c2(0x202)][_0x1528c2(0x3c6)]));else{if(_0x4aa2a3)handleQuizStatus(_0x4aa2a3['dataset'][_0x1528c2(0x3c6)]);else _0x1c598e&&showQuizDetailView(_0x1c598e[_0x1528c2(0x202)][_0x1528c2(0x3c6)]);}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x1f61ce(0x439))[_0x1f61ce(0x271)](_0x1f61ce(0x59d))['addEventListener'](_0x1f61ce(0x502),_0x291ee3=>{const _0x4789c0=_0x1f61ce,_0x31f0bf=_0x291ee3[_0x4789c0(0x80d)][_0x4789c0(0x3d7)](_0x4789c0(0x420));if(!_0x31f0bf||!_0x31f0bf[_0x4789c0(0x202)]['sort'])return;const _0x35dbc3=_0x31f0bf[_0x4789c0(0x202)][_0x4789c0(0x19b)];if(quizLeaderboardSortBy===_0x35dbc3)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4789c0(0x77c)?'desc':_0x4789c0(0x77c);else{quizLeaderboardSortBy=_0x35dbc3;const _0x34be1e=[_0x4789c0(0x14f)];quizLeaderboardSortOrder=_0x34be1e[_0x4789c0(0x6a7)](_0x35dbc3)?_0x4789c0(0x77c):_0x4789c0(0x6c2);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x4789c0(0x65e));}),document['getElementById']('close-presentation-btn')['addEventListener'](_0x1f61ce(0x502),closePresentation),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x32e))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x1f61ce(0x7a4))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x1f3348=_0x1f61ce;currentQuizData[_0x1f3348(0x4e9)]&&currentPresentationSlide<currentQuizData[_0x1f3348(0x4e9)][_0x1f3348(0x1d7)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1f61ce(0x415)]('fullscreenchange',()=>{const _0x546b56=_0x1f61ce;!document[_0x546b56(0x20d)]&&(presentationModal['style'][_0x546b56(0x836)]=_0x546b56(0x124));}),document[_0x1f61ce(0x2d1)]('delete-all-students-btn')[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleDeleteAllStudents),studentList[_0x1f61ce(0x415)](_0x1f61ce(0x502),_0x5b5225=>{const _0x5da088=_0x1f61ce,_0x100c15=_0x5b5225[_0x5da088(0x80d)][_0x5da088(0x3d7)](_0x5da088(0x865));if(_0x100c15){const _0x44391f=_0x100c15[_0x5da088(0x202)][_0x5da088(0x14f)];handleDeleteStudent(_0x44391f);}}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x18a))[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x1f61ce(0x133),_0x3fb9f=>{const _0x26c8f3=_0x1f61ce,_0x2bb5d0=_0x3fb9f[_0x26c8f3(0x80d)][_0x26c8f3(0x4bf)][0x0],_0x6ece32=document['getElementById'](_0x26c8f3(0x18a));_0x2bb5d0?(selectedFile=_0x2bb5d0,_0x6ece32['disabled']=![]):(selectedFile=null,_0x6ece32['disabled']=!![]);}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x853))['addEventListener'](_0x1f61ce(0x133),_0x1036c1=>{const _0x543a55=_0x1f61ce,_0x490299=document['getElementById'](_0x543a55(0x329)),_0x10a77d=document[_0x543a55(0x2d1)](_0x543a55(0x44b)),_0x1c2e5e=document[_0x543a55(0x2d1)](_0x543a55(0x198));_0x1036c1['target'][_0x543a55(0x327)]==='none'?_0x490299[_0x543a55(0x28d)]['add'](_0x543a55(0x28c)):(_0x490299[_0x543a55(0x28d)][_0x543a55(0x817)](_0x543a55(0x28c)),_0x1036c1['target']['value']===_0x543a55(0x4c2)?(_0x10a77d[_0x543a55(0x6ca)]=_0x543a55(0x2b6),_0x1c2e5e[_0x543a55(0x327)]='10'):(_0x10a77d['textContent']='ระยะเวลา\x20(วินาที):',_0x1c2e5e[_0x543a55(0x327)]='30'));}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x506))[_0x1f61ce(0x415)](_0x1f61ce(0x133),_0x1698d7=>{const _0x451382=_0x1f61ce,_0x1333dc=document['getElementById'](_0x451382(0x454)),_0x399887=_0x1698d7[_0x451382(0x80d)][_0x451382(0x327)],_0x3d6a58=document[_0x451382(0x271)](_0x451382(0x4dd)),_0x2d2024=document['getElementById'](_0x451382(0x2ad)),_0xbb97ba=document[_0x451382(0x2d1)](_0x451382(0x322));_0x399887===_0x451382(0x467)?_0x3d6a58[_0x451382(0x6ca)]=_0x451382(0x6e8):_0x3d6a58[_0x451382(0x6ca)]=_0x451382(0x7a1),_0x399887===_0x451382(0x4ae)||_0x399887===_0x451382(0x721)||_0x399887===_0x451382(0x610)?_0x1333dc[_0x451382(0x28d)]['remove']('hidden'):_0x1333dc['classList'][_0x451382(0x7c9)](_0x451382(0x28c)),_0x2d2024[_0x451382(0x137)]=_0xbb97ba[_0x451382(0x327)];}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x322))[_0x1f61ce(0x415)](_0x1f61ce(0x30b),_0xfcd893=>{const _0x245d5c=_0x1f61ce;document['getElementById'](_0x245d5c(0x2ad))['max']=_0xfcd893['target'][_0x245d5c(0x327)];}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x716))[_0x1f61ce(0x415)](_0x1f61ce(0x133),_0x41741d=>{const _0x3fd920=_0x1f61ce,_0x425a79=document['getElementById'](_0x3fd920(0x61a)),_0x3ece9a=document[_0x3fd920(0x2d1)](_0x3fd920(0x7f4)),_0x455a2b=document['getElementById']('modal-timer-duration-input');_0x41741d[_0x3fd920(0x80d)]['value']===_0x3fd920(0x124)?_0x425a79[_0x3fd920(0x28d)][_0x3fd920(0x7c9)](_0x3fd920(0x28c)):(_0x425a79['classList'][_0x3fd920(0x817)](_0x3fd920(0x28c)),_0x41741d['target'][_0x3fd920(0x327)]===_0x3fd920(0x4c2)?_0x3ece9a[_0x3fd920(0x6ca)]=_0x3fd920(0x2b6):_0x3ece9a[_0x3fd920(0x6ca)]=_0x3fd920(0x448));}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x1e8))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x5c2719=_0x1f61ce;document[_0x5c2719(0x2d1)](_0x5c2719(0x527))[_0x5c2719(0x28d)][_0x5c2719(0x7c9)](_0x5c2719(0x28c));}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x5e6))['addEventListener']('click',()=>{const _0x1a42fc=_0x1f61ce;document[_0x1a42fc(0x2d1)]('quiz-editor-modal')[_0x1a42fc(0x28d)][_0x1a42fc(0x7c9)](_0x1a42fc(0x28c));}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x312))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x325937=_0x1f61ce;document[_0x325937(0x2d1)](_0x325937(0x527))[_0x325937(0x28d)][_0x325937(0x7c9)]('hidden'),showConfirmation(_0x325937(0x7d7),handleSaveChanges);}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x3ca))['addEventListener']('click',handleAutoFixLatex);const _0x324d1f=document[_0x1f61ce(0x2d1)]('quiz-editor-questions-container');_0x324d1f&&_0x324d1f['addEventListener'](_0x1f61ce(0x502),_0x111d33=>{const _0x2e6762=_0x1f61ce,_0x23bc15=_0x111d33['target'][_0x2e6762(0x3d7)]('.regenerate-question-editor-btn');if(_0x23bc15){const _0x6111a9=_0x23bc15[_0x2e6762(0x3d7)](_0x2e6762(0x52b)),_0xe91158=parseInt(_0x6111a9['dataset'][_0x2e6762(0x2ec)],0xa);handleRegenerateQuestionInEditor(_0xe91158);}});document[_0x1f61ce(0x2d1)](_0x1f61ce(0x811))[_0x1f61ce(0x415)]('click',openQuizBankModal),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x785))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x106435=_0x1f61ce;document[_0x106435(0x2d1)]('quiz-bank-modal')[_0x106435(0x28d)][_0x106435(0x7c9)](_0x106435(0x28c));}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x5d3))[_0x1f61ce(0x415)](_0x1f61ce(0x30b),_0x36b8b4=>renderQuizBankList(_0x36b8b4[_0x1f61ce(0x80d)]['value']));const _0x41b7ba=document[_0x1f61ce(0x2d1)](_0x1f61ce(0x18b));if(_0x41b7ba){let _0x5663a5=null;_0x41b7ba[_0x1f61ce(0x415)](_0x1f61ce(0x502),_0x5ae271=>{const _0x413c5c=_0x1f61ce,_0x5db6f2=_0x5ae271['target'],_0x1f40de=_0x5db6f2[_0x413c5c(0x3d7)]('.edit-custom-topic-btn'),_0x1ace71=_0x5db6f2[_0x413c5c(0x3d7)](_0x413c5c(0x2fa)),_0x17a8f1=_0x5db6f2[_0x413c5c(0x3d7)](_0x413c5c(0x46a)),_0x2af03f=_0x5db6f2[_0x413c5c(0x3d7)]('.cancel-edit-topic-btn');if(_0x1ace71){_0x5ae271[_0x413c5c(0x2a1)]();const _0x2c9a1c=_0x1ace71[_0x413c5c(0x202)]['id'],_0x34163d=_0x1ace71[_0x413c5c(0x3d7)](_0x413c5c(0x2c1))[_0x413c5c(0x271)]('.topic-name-display')[_0x413c5c(0x6ca)];showConfirmation(_0x413c5c(0x71f)+_0x34163d+'\x22?',()=>handleDeleteCustomTopic(_0x2c9a1c));}else{if(_0x1f40de){_0x5ae271['preventDefault']();_0x5663a5&&toggleTopicEditMode(_0x5663a5,![]);const _0xb6802f=_0x1f40de['closest']('[data-topic-container-id]');_0x5663a5=_0xb6802f,toggleTopicEditMode(_0xb6802f,!![]);}else{if(_0x17a8f1){_0x5ae271[_0x413c5c(0x2a1)]();const _0x5964fc=_0x17a8f1['dataset']['id'],_0x49ca81=_0x17a8f1['closest']('[data-topic-container-id]'),_0x1abaf0=_0x49ca81['querySelector'](_0x413c5c(0x30d))[_0x413c5c(0x327)];handleUpdateCustomTopic(_0x5964fc,_0x1abaf0),_0x5663a5=null;}else{if(_0x2af03f){_0x5ae271[_0x413c5c(0x2a1)]();const _0x5dbc66=_0x2af03f['closest']('[data-topic-container-id]');toggleTopicEditMode(_0x5dbc66,![]),_0x5663a5=null;}}}}}),document[_0x1f61ce(0x2d1)](_0x1f61ce(0x26c))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0xcc1fa1=_0x1f61ce;document[_0xcc1fa1(0x2d1)](_0xcc1fa1(0x384))[_0xcc1fa1(0x28d)]['add'](_0xcc1fa1(0x28c));}),document['getElementById']('close-lesson-plan-modal-footer-btn')[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x22dbde=_0x1f61ce;document[_0x22dbde(0x2d1)](_0x22dbde(0x384))['classList'][_0x22dbde(0x7c9)]('hidden');}),document['getElementById'](_0x1f61ce(0x4a3))[_0x1f61ce(0x415)](_0x1f61ce(0x502),handleExportLessonPDF);}document['getElementById'](_0x1f61ce(0x3e4))[_0x1f61ce(0x415)](_0x1f61ce(0x502),()=>{const _0x5d9c7e=_0x1f61ce;document[_0x5d9c7e(0x2d1)](_0x5d9c7e(0x2c2))['classList']['add'](_0x5d9c7e(0x28c));}),document['getElementById'](_0x1f61ce(0x3be))['addEventListener'](_0x1f61ce(0x502),()=>{const _0x31b943=_0x1f61ce;document[_0x31b943(0x2d1)](_0x31b943(0x2c2))[_0x31b943(0x28d)]['add'](_0x31b943(0x28c));}),setupComparisonModalTabs(),document[_0x1f61ce(0x7b9)]['addEventListener'](_0x1f61ce(0x502),function(_0x56ed1c){const _0x20b535=_0x1f61ce;if(_0x56ed1c[_0x20b535(0x80d)][_0x20b535(0x28d)][_0x20b535(0x23e)]('practice-topic-btn')){const _0x447fb0=unescape(_0x56ed1c[_0x20b535(0x80d)]['dataset'][_0x20b535(0x367)]);startSkillPractice(_0x447fb0);}}),document['getElementById'](_0x1f61ce(0x5d2))['addEventListener']('click',_0x484b5a=>{const _0x3db0f7=_0x1f61ce,_0x587590=_0x484b5a[_0x3db0f7(0x80d)][_0x3db0f7(0x3d7)](_0x3db0f7(0x7ce));if(_0x587590){const _0x4f0d8c=_0x587590[_0x3db0f7(0x202)][_0x3db0f7(0x14f)];handleDeleteSubmission(_0x4f0d8c);}});}async function showStudentProgressView(){const _0x56de82=_0x3cb14f;studentInitialView['classList']['add'](_0x56de82(0x28c)),document[_0x56de82(0x2d1)](_0x56de82(0x807))[_0x56de82(0x28d)][_0x56de82(0x817)](_0x56de82(0x28c));const _0x554368=document[_0x56de82(0x2d1)](_0x56de82(0x27f)),_0x3b56e2=document[_0x56de82(0x2d1)](_0x56de82(0x83c)),_0xca0629=document[_0x56de82(0x2d1)]('student-progress-content');_0xca0629[_0x56de82(0x729)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x3b56e2['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x3b56e2[_0x56de82(0x5ab)]=!![],_0x554368['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x56de82(0x1d7)]===0x0){const _0x38f15c=collection(db,_0x56de82(0x477)+appId+_0x56de82(0x159)),_0x5cce7f=await getDocs(_0x38f15c);allProjects=_0x5cce7f[_0x56de82(0x521)][_0x56de82(0x3ea)](_0x5cf7a7=>({'id':_0x5cf7a7['id'],..._0x5cf7a7[_0x56de82(0x1bc)]()}));}const _0x307314=allProjects['filter'](_0x295e84=>_0x295e84[_0x56de82(0x1d2)]?.[_0x56de82(0x3a2)]!==![]);_0x307314[_0x56de82(0x19b)]((_0xb11684,_0x173fa9)=>_0xb11684['projectName'][_0x56de82(0x12e)](_0x173fa9[_0x56de82(0x39d)],'th')),_0x554368[_0x56de82(0x729)]=_0x56de82(0x7a0)+_0x307314['map'](_0x5e2986=>'<option\x20value=\x22'+_0x5e2986['id']+'\x22>'+_0x5e2986[_0x56de82(0x39d)]+'</option>')[_0x56de82(0x551)](''),_0x554368[_0x56de82(0x601)]=()=>{const _0x4165a0=_0x56de82,_0x36d74a=_0x3b56e2[_0x4165a0(0x327)],_0x9c4025=_0x554368[_0x4165a0(0x327)];_0x3b56e2[_0x4165a0(0x5ab)]=!![],_0x3b56e2['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0xca0629[_0x4165a0(0x729)]=_0x4165a0(0x13c);if(!_0x9c4025)return;const _0x5eb35f=allProjects[_0x4165a0(0x1cc)](_0x513bbf=>_0x513bbf['id']===_0x9c4025);if(!_0x5eb35f||!_0x5eb35f[_0x4165a0(0x84c)])return;const _0x4ac431=()=>{const _0x479cc4=_0x4165a0;_0x3b56e2[_0x479cc4(0x729)]=_0x479cc4(0x468)+_0x5eb35f[_0x479cc4(0x84c)][_0x479cc4(0x3ea)](_0x347440=>_0x479cc4(0x3a8)+_0x347440+'\x22>'+_0x347440+_0x479cc4(0x434))[_0x479cc4(0x551)](''),_0x3b56e2[_0x479cc4(0x5ab)]=![];const _0x3ed82c=Array[_0x479cc4(0x5cb)](_0x3b56e2['options'])[_0x479cc4(0x3ea)](_0x25f08d=>_0x25f08d[_0x479cc4(0x327)]);if(_0x36d74a&&_0x3ed82c[_0x479cc4(0x6a7)](_0x36d74a))_0x3b56e2['value']=_0x36d74a,_0x3b56e2[_0x479cc4(0x324)](new Event(_0x479cc4(0x133)));else _0x5eb35f[_0x479cc4(0x84c)][_0x479cc4(0x1d7)]===0x1&&(_0x3b56e2[_0x479cc4(0x327)]=_0x5eb35f[_0x479cc4(0x84c)][0x0],_0x3b56e2[_0x479cc4(0x324)](new Event(_0x479cc4(0x133))));};if(_0x5eb35f[_0x4165a0(0x1d2)]?.['isPasscodeEnabled']){if(sessionStorage[_0x4165a0(0x5e8)]('authed_project_'+_0x9c4025)==='true'){_0x4ac431();return;}const _0x281bff=document[_0x4165a0(0x2d1)](_0x4165a0(0x8af)),_0x1974d4=document[_0x4165a0(0x2d1)]('confirm-passcode-btn'),_0x1e2121=document[_0x4165a0(0x2d1)]('cancel-passcode-btn'),_0x3ebd2d=document[_0x4165a0(0x2d1)](_0x4165a0(0x429)),_0x58a338=document[_0x4165a0(0x2d1)]('passcode-error-msg');document[_0x4165a0(0x2d1)](_0x4165a0(0x40b))[_0x4165a0(0x6ca)]=_0x4165a0(0x3b5)+_0x5eb35f['projectName'],_0x3ebd2d[_0x4165a0(0x327)]='',_0x58a338[_0x4165a0(0x28d)][_0x4165a0(0x7c9)](_0x4165a0(0x28c)),_0x281bff[_0x4165a0(0x28d)]['remove']('hidden');const _0x5dc9c6=()=>{const _0x4811fb=_0x4165a0,_0x294cd8=_0x3ebd2d['value']['trim']();_0x294cd8===_0x5eb35f[_0x4811fb(0x1d2)][_0x4811fb(0x5af)]?(sessionStorage['setItem'](_0x4811fb(0x176)+_0x9c4025,_0x4811fb(0x466)),_0x281bff[_0x4811fb(0x28d)][_0x4811fb(0x7c9)](_0x4811fb(0x28c)),_0x4ac431(),_0x1974d4[_0x4811fb(0x5e9)](_0x4811fb(0x502),_0x5dc9c6)):_0x58a338[_0x4811fb(0x28d)][_0x4811fb(0x817)]('hidden');};_0x1974d4[_0x4165a0(0x2fe)]=_0x5dc9c6,_0x1e2121['onclick']=()=>{const _0x526603=_0x4165a0;_0x281bff[_0x526603(0x28d)][_0x526603(0x7c9)]('hidden'),_0x554368[_0x526603(0x327)]='',_0x1974d4[_0x526603(0x5e9)](_0x526603(0x502),_0x5dc9c6);};}else _0x4ac431();},_0x3b56e2['onchange']=()=>{const _0x2155c0=_0x56de82,_0x3c79a8=_0x554368['value'],_0x61098d=_0x3b56e2[_0x2155c0(0x327)];_0x3c79a8&&_0x61098d&&renderStudentProgressDashboard(_0x3c79a8,_0x61098d);};}async function renderStudentProgressDashboard(_0x8d6517,_0x29a14f){const _0x1e4f1d=_0x3cb14f,_0x4d40d4=document[_0x1e4f1d(0x2d1)](_0x1e4f1d(0x3fd));_0x4d40d4[_0x1e4f1d(0x729)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x30388b=collection(db,_0x1e4f1d(0x477)+appId+_0x1e4f1d(0x4f0)),_0x2070b6=query(_0x30388b,where('projectId','==',_0x8d6517)),_0x2e9cc1=await getDocs(_0x2070b6),_0x7bfbe4=_0x2e9cc1[_0x1e4f1d(0x521)]['map'](_0x59ff51=>({'id':_0x59ff51['id'],..._0x59ff51[_0x1e4f1d(0x1bc)]()})),_0x1e7d86=_0x7bfbe4['map'](_0x2d510f=>getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x2d510f['id']+_0x1e4f1d(0x740),_0x29a14f))),_0x56bed5=await Promise[_0x1e4f1d(0x4fa)](_0x1e7d86),_0x544bbe=_0x56bed5[_0x1e4f1d(0x255)](_0x4513a=>_0x4513a[_0x1e4f1d(0x1cf)]())[_0x1e4f1d(0x3ea)](_0x30ec4e=>({'quizId':_0x30ec4e[_0x1e4f1d(0x480)][_0x1e4f1d(0x611)][_0x1e4f1d(0x611)]['id'],..._0x30ec4e[_0x1e4f1d(0x1bc)]()}));if(_0x544bbe[_0x1e4f1d(0x1d7)]===0x0){_0x4d40d4['innerHTML']=_0x1e4f1d(0x2e4);return;}let _0x20a58c=_0x1e4f1d(0x2f4);_0x544bbe[_0x1e4f1d(0x1f4)](_0x10ba4c=>{const _0x3662aa=_0x1e4f1d,_0x55fb6a=_0x7bfbe4[_0x3662aa(0x1cc)](_0x209f42=>_0x209f42['id']===_0x10ba4c[_0x3662aa(0x3c6)]),_0x1add87=_0x55fb6a[_0x3662aa(0x1d2)]?.[_0x3662aa(0x17b)]||'show_results_and_answers',_0x21e009=_0x55fb6a[_0x3662aa(0x1d2)]?.[_0x3662aa(0x6f7)]??0x0,_0x26a85f=_0x10ba4c[_0x3662aa(0x736)]>=_0x21e009;let _0x31e6ef='',_0x58b0c3=_0x3662aa(0x39f);switch(_0x1add87){case _0x3662aa(0x896):case _0x3662aa(0x442):_0x58b0c3=_0x26a85f?_0x3662aa(0x452):'bg-red-50',_0x31e6ef=_0x3662aa(0x605)+(_0x26a85f?_0x3662aa(0x345):_0x3662aa(0x89a))+'\x22>'+_0x10ba4c[_0x3662aa(0x736)]+_0x3662aa(0x850)+_0x10ba4c[_0x3662aa(0x516)]+_0x3662aa(0x826)+(_0x26a85f?_0x3662aa(0x1af):_0x3662aa(0x1fc))+'\x22>'+(_0x26a85f?_0x3662aa(0x7fb):_0x3662aa(0x5de))+_0x3662aa(0x7f8);break;case _0x3662aa(0x1a9):_0x58b0c3=_0x26a85f?'bg-green-50':_0x3662aa(0x3bf),_0x31e6ef='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x26a85f?_0x3662aa(0x1af):_0x3662aa(0x1fc))+'\x22>'+(_0x26a85f?_0x3662aa(0x7fb):_0x3662aa(0x5de))+_0x3662aa(0x7f8);break;case'manual_release':_0x58b0c3=_0x3662aa(0x809),_0x31e6ef='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x20a58c+=_0x3662aa(0x848)+_0x58b0c3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x55fb6a[_0x3662aa(0x367)]+_0x3662aa(0x261)+_0x10ba4c[_0x3662aa(0x14c)][_0x3662aa(0x1d7)]+_0x3662aa(0x47a)+new Date(_0x10ba4c['latestSubmittedAt'])[_0x3662aa(0x680)]('th-TH')+_0x3662aa(0x776)+_0x31e6ef+_0x3662aa(0x88c);}),_0x20a58c+='</div>',_0x4d40d4[_0x1e4f1d(0x729)]=_0x20a58c;}catch(_0x25fa29){console[_0x1e4f1d(0x8ae)](_0x1e4f1d(0x6c3),_0x25fa29),_0x4d40d4[_0x1e4f1d(0x729)]=_0x1e4f1d(0x5b3);}}function setupStudentProgressListeners(){const _0x2cb280=_0x3cb14f;document[_0x2cb280(0x2d1)](_0x2cb280(0x386))[_0x2cb280(0x415)]('click',showStudentProgressView),document[_0x2cb280(0x2d1)]('back-to-student-home-btn')[_0x2cb280(0x415)](_0x2cb280(0x502),()=>{const _0x330c5d=_0x2cb280;document[_0x330c5d(0x2d1)](_0x330c5d(0x807))[_0x330c5d(0x28d)][_0x330c5d(0x7c9)](_0x330c5d(0x28c)),document[_0x330c5d(0x2d1)](_0x330c5d(0x7a7))[_0x330c5d(0x28d)][_0x330c5d(0x817)]('hidden');});}async function startSkillPractice(_0x48d65e){const _0x4dd276=_0x3cb14f;studentResultArea[_0x4dd276(0x28d)][_0x4dd276(0x7c9)]('hidden'),studentQuizArea['innerHTML']=_0x4dd276(0x82c),studentQuizArea[_0x4dd276(0x28d)][_0x4dd276(0x817)](_0x4dd276(0x28c));try{const _0x3cbcb2=await getStandardizedTopic(_0x48d65e);console[_0x4dd276(0x371)](_0x4dd276(0x228)+_0x48d65e+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x3cbcb2+'\x22'),studentQuizArea[_0x4dd276(0x271)]('p')[_0x4dd276(0x6ca)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x3cbcb2+'\x22...';const _0xaa63e9=collection(db,_0x4dd276(0x477)+appId+_0x4dd276(0x12d)),_0x3f64ae=query(_0xaa63e9,where(_0x4dd276(0x367),'==',_0x3cbcb2)),_0x334f30=await getDocs(_0x3f64ae);if(_0x334f30['docs'][_0x4dd276(0x1d7)]>=0x3){console[_0x4dd276(0x371)]('พบข้อสอบ\x20'+_0x334f30['docs'][_0x4dd276(0x1d7)]+_0x4dd276(0x6c8)+_0x3cbcb2+_0x4dd276(0x1e4));let _0x5de31e=_0x334f30[_0x4dd276(0x521)][_0x4dd276(0x3ea)](_0x251f05=>_0x251f05[_0x4dd276(0x1bc)]());shuffleArray(_0x5de31e);const _0x1bcfc0={'topic':_0x3cbcb2,'questions':_0x5de31e[_0x4dd276(0x7ac)](0x0,0x3)};displaySkillPracticeDrill(_0x1bcfc0);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x3cbcb2+_0x4dd276(0x3b1));const _0x1eecf5=await generatePracticeQuestions(_0x3cbcb2);await saveDrillToPracticeBank(_0x1eecf5,_0x3cbcb2),displaySkillPracticeDrill(_0x1eecf5);}}catch(_0x2eede1){console['error']('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x2eede1),showMessage(_0x4dd276(0x638)),studentQuizArea['classList'][_0x4dd276(0x7c9)](_0x4dd276(0x28c)),studentResultArea['classList']['remove']('hidden');}}async function saveDrillToPracticeBank(_0x46dfce,_0x46ac08){const _0xc76de7=_0x3cb14f,_0x5b25b6=collection(db,_0xc76de7(0x477)+appId+_0xc76de7(0x12d)),_0x35537a=writeBatch(db);_0x46dfce[_0xc76de7(0x4e9)][_0xc76de7(0x1f4)](_0x5ab94b=>{const _0x296179=_0xc76de7,_0x2b6234=doc(_0x5b25b6);_0x35537a[_0x296179(0x140)](_0x2b6234,{'topic':_0x46ac08,'questionText':_0x5ab94b['questionText'],'options':_0x5ab94b[_0x296179(0x430)],'correctAnswerIndex':_0x5ab94b[_0x296179(0x541)],'explanation':_0x5ab94b[_0x296179(0x46d)],'createdAt':serverTimestamp()});});try{await _0x35537a[_0xc76de7(0x3cf)](),console[_0xc76de7(0x371)]('บันทึกคำถามใหม่\x20'+_0x46dfce['questions'][_0xc76de7(0x1d7)]+_0xc76de7(0x3a0));}catch(_0x472c91){console[_0xc76de7(0x8ae)](_0xc76de7(0x520),_0x472c91);}}async function getStandardizedTopic(_0x29530d){const _0x546c6d=_0x3cb14f,_0x5d271e=_0x546c6d(0x723)+_0x29530d+_0x546c6d(0x884),_0x22521d={'type':_0x546c6d(0x193),'properties':{'standardTopic':{'type':_0x546c6d(0x364)}},'required':[_0x546c6d(0x5aa)]};try{const _0x50df8d=await callAnalysisApi(_0x5d271e,_0x22521d);return _0x50df8d['standardTopic'];}catch(_0x4bebf6){return console['error'](_0x546c6d(0x7e8),_0x4bebf6),_0x29530d;}}async function generatePracticeQuestions(_0x160d59){const _0x3877e2=_0x3cb14f,_0x4f3d9b=_0x3877e2(0x6bf)+_0x160d59+_0x3877e2(0x2ea)+simpleMathPrompt+_0x3877e2(0x2c3),_0x32f851={'type':_0x3877e2(0x193),'properties':{'questionText':{'type':_0x3877e2(0x364)},'options':{'type':_0x3877e2(0x586),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3877e2(0x364)}},'required':['questionText',_0x3877e2(0x430),'correctAnswerIndex',_0x3877e2(0x46d)]},_0x8ca04b={'type':_0x3877e2(0x193),'properties':{'topic':{'type':_0x3877e2(0x364)},'questions':{'type':_0x3877e2(0x586),'items':_0x32f851}},'required':[_0x3877e2(0x367),'questions']};return await callAnalysisApi(_0x4f3d9b,_0x8ca04b);}function displayLessonPlan(_0x48ab50,_0x72c099){const _0xe28fe=_0x3cb14f,_0x3674bf=_0xe28fe(0x5a1)+_0x72c099[_0xe28fe(0x367)]+_0xe28fe(0x465)+_0x48ab50['learningGaps'][_0xe28fe(0x3ea)](_0x569287=>_0xe28fe(0x344)+_0x569287+_0xe28fe(0x731))['join']('')+_0xe28fe(0x119)+_0x48ab50[_0xe28fe(0x898)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x48ab50['practiceProblems'][_0xe28fe(0x3ea)](_0x28b7dd=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x28b7dd['question']+_0xe28fe(0x7d0)+_0x28b7dd[_0xe28fe(0x57e)]+_0xe28fe(0x7cc))[_0xe28fe(0x551)]('')+_0xe28fe(0x490);document[_0xe28fe(0x2d1)](_0xe28fe(0x7a5))['textContent']=_0xe28fe(0x79b)+_0x72c099[_0xe28fe(0x367)],document['getElementById'](_0xe28fe(0x56f))[_0xe28fe(0x729)]=_0x3674bf,document[_0xe28fe(0x2d1)]('lesson-plan-modal')[_0xe28fe(0x28d)][_0xe28fe(0x817)](_0xe28fe(0x28c));if(window['MathJax'])MathJax[_0xe28fe(0x8a4)]();}function displaySkillPracticeDrill(_0x4afcae){let _0xf7758f=0x0;const _0x119553=_0x4afcae['questions'],_0x3b4af6=()=>{const _0x4eafc7=_0x4478,_0x2dc454=_0x119553[_0xf7758f],_0x3317c3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0xf7758f+0x1)+_0x4eafc7(0x850)+_0x119553[_0x4eafc7(0x1d7)]+_0x4eafc7(0x275)+_0x2dc454[_0x4eafc7(0x801)]+_0x4eafc7(0x4bb)+_0x2dc454[_0x4eafc7(0x430)][_0x4eafc7(0x3ea)]((_0x63fda4,_0x46fca3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x46fca3+_0x4eafc7(0x3e3)+_0x46fca3+_0x4eafc7(0x214)+_0x46fca3+'\x22>'+_0x63fda4+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4eafc7(0x551)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x4eafc7(0x729)]=_0x3317c3;if(window[_0x4eafc7(0x6e1)])MathJax[_0x4eafc7(0x8a4)]([studentQuizArea]);document[_0x4eafc7(0x2d1)](_0x4eafc7(0x16b))[_0x4eafc7(0x415)](_0x4eafc7(0x502),async()=>{const _0x2628ca=_0x4eafc7,_0x1bf4aa=await getHintForQuestion(_0x2dc454[_0x2628ca(0x801)]);showMessage(_0x1bf4aa);}),document['getElementById'](_0x4eafc7(0x2e7))[_0x4eafc7(0x415)](_0x4eafc7(0x502),()=>{const _0x5efeaf=_0x4eafc7,_0x371f65=document[_0x5efeaf(0x271)](_0x5efeaf(0x4fd));if(!_0x371f65){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x59952b=document[_0x5efeaf(0x2d1)]('drill-feedback'),_0x115f08=parseInt(_0x371f65[_0x5efeaf(0x327)])===_0x2dc454['correctAnswerIndex'];_0x115f08?(_0x59952b[_0x5efeaf(0x555)]=_0x5efeaf(0x4dc),_0x59952b['innerHTML']=_0x5efeaf(0x895)+_0x2dc454['explanation']):(_0x59952b[_0x5efeaf(0x555)]=_0x5efeaf(0x3b0),_0x59952b[_0x5efeaf(0x729)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x2dc454[_0x5efeaf(0x46d)]);_0x59952b[_0x5efeaf(0x28d)][_0x5efeaf(0x817)](_0x5efeaf(0x28c));if(window['MathJax'])MathJax[_0x5efeaf(0x8a4)]([_0x59952b]);document['getElementById'](_0x5efeaf(0x2e7))[_0x5efeaf(0x28d)]['add'](_0x5efeaf(0x28c)),document[_0x5efeaf(0x2d1)](_0x5efeaf(0x16b))[_0x5efeaf(0x28d)]['add'](_0x5efeaf(0x28c)),document[_0x5efeaf(0x2d1)]('next-drill-btn')['classList'][_0x5efeaf(0x817)]('hidden');}),document['getElementById'](_0x4eafc7(0x348))['addEventListener'](_0x4eafc7(0x502),()=>{const _0x1f417=_0x4eafc7;_0xf7758f++,_0xf7758f<_0x119553[_0x1f417(0x1d7)]?_0x3b4af6():(studentQuizArea['innerHTML']=_0x1f417(0x67d),document[_0x1f417(0x2d1)](_0x1f417(0x78f))[_0x1f417(0x415)](_0x1f417(0x502),()=>{const _0x53c8a8=_0x1f417;studentQuizArea[_0x53c8a8(0x28d)][_0x53c8a8(0x7c9)](_0x53c8a8(0x28c)),studentResultArea[_0x53c8a8(0x28d)][_0x53c8a8(0x817)](_0x53c8a8(0x28c));}));});};_0x3b4af6();}async function getHintForQuestion(_0x5c4e0c){const _0x5effc7=_0x3cb14f,_0x50b375=_0x5effc7(0x1a6)+_0x5c4e0c+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x9bf91b={'type':'OBJECT','properties':{'hint':{'type':_0x5effc7(0x364)}},'required':[_0x5effc7(0x1eb)]};try{const _0x2eaadb=await callAnalysisApi(_0x50b375,_0x9bf91b);return _0x2eaadb[_0x5effc7(0x1eb)];}catch(_0x1a7af1){return console[_0x5effc7(0x8ae)](_0x5effc7(0x6cd),_0x1a7af1),_0x5effc7(0x134);}}async function extractTextFromPdf(_0x10bdaa){const _0x46ce56=_0x3cb14f;pdfjsLib[_0x46ce56(0x37e)][_0x46ce56(0x69c)]=_0x46ce56(0x5a2);const _0x2c6e14=await _0x10bdaa[_0x46ce56(0x69b)](),_0x52cc3e=await pdfjsLib['getDocument'](_0x2c6e14)[_0x46ce56(0x556)],_0x41b0b0=_0x52cc3e[_0x46ce56(0x840)];let _0x388a97='';for(let _0x4a8b73=0x1;_0x4a8b73<=_0x41b0b0;_0x4a8b73++){const _0x4d5b97=await _0x52cc3e[_0x46ce56(0x200)](_0x4a8b73),_0x27faeb=await _0x4d5b97['getTextContent'](),_0x5d6442=_0x27faeb[_0x46ce56(0x79d)][_0x46ce56(0x3ea)](_0x53b71d=>_0x53b71d[_0x46ce56(0x75b)])[_0x46ce56(0x551)]('\x20');_0x388a97+=_0x5d6442+'\x0a\x0a';}return _0x388a97;}async function handleGenerateFromBlueprint(){const _0x1df813=_0x3cb14f,_0x4eaae1=document['getElementById'](_0x1df813(0x5f4)),_0x215501=document[_0x1df813(0x2d1)](_0x1df813(0x3d4)),_0x144126=_0x4eaae1[_0x1df813(0x4bf)][0x0],_0x581934=_0x215501[_0x1df813(0x4bf)][_0x1df813(0x1d7)]>0x0?_0x215501[_0x1df813(0x4bf)][0x0]:null;if(!_0x144126){showMessage(_0x1df813(0x27e));return;}const _0x10d2de=document[_0x1df813(0x2d1)](_0x1df813(0x34a)),_0x858978=document[_0x1df813(0x2d1)]('loader-text'),_0x4b2b0d=document[_0x1df813(0x2d1)](_0x1df813(0x46e)),_0xc03a86=document[_0x1df813(0x2d1)]('generate-from-blueprint-btn');_0xc03a86[_0x1df813(0x5ab)]=!![],document[_0x1df813(0x2d1)](_0x1df813(0x154))[_0x1df813(0x28d)][_0x1df813(0x817)]('hidden'),_0x4b2b0d[_0x1df813(0x729)]='',_0x10d2de['classList'][_0x1df813(0x817)](_0x1df813(0x28c));try{_0x858978['textContent']=_0x1df813(0x72e);const _0x5d8da8=await extractTextFromPdf(_0x144126);if(!_0x5d8da8[_0x1df813(0x175)]())throw new Error(_0x1df813(0x1bb));let _0x2fe4a7='';_0x581934&&(_0x858978['textContent']=_0x1df813(0x833),_0x2fe4a7=await extractTextFromPdf(_0x581934));_0x858978['textContent']=_0x1df813(0x577);const _0x7675d0=document['getElementById']('include-images-checkbox')[_0x1df813(0x7bd)],_0x2ccf9d=_0x7675d0?_0x1df813(0x779):'',_0x14cbd8=_0x2fe4a7?_0x1df813(0x14a)+_0x2fe4a7+_0x1df813(0x7fc):'',_0x474282='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2fe4a7?_0x1df813(0x760):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d8da8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14cbd8+_0x1df813(0x804)+_0x2ccf9d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1df813(0x8ac),_0x4afa0f={'type':'OBJECT','properties':{'questionText':{'type':_0x1df813(0x364)},'questionType':{'type':_0x1df813(0x364),'enum':[_0x1df813(0x4ae),'short_answer']},'options':{'type':_0x1df813(0x586),'items':{'type':_0x1df813(0x364)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1df813(0x364)}},'required':['questionText',_0x1df813(0x1f7),_0x1df813(0x46d)]},_0xd50cdf={'type':_0x1df813(0x193),'properties':{'topic':{'type':_0x1df813(0x364)},'questions':{'type':_0x1df813(0x586),'items':_0x4afa0f}},'required':[_0x1df813(0x367),_0x1df813(0x4e9)]};await handleApiCall(_0x474282,_0x1df813(0x485),_0xd50cdf);}catch(_0x434098){console[_0x1df813(0x8ae)]('Error\x20generating\x20from\x20blueprint:',_0x434098),showMessage(_0x1df813(0x693)+_0x434098[_0x1df813(0x372)]),_0x4b2b0d[_0x1df813(0x729)]=_0x1df813(0x227);}finally{_0x10d2de['classList']['add']('hidden'),_0xc03a86['disabled']=![];}}async function handleGenerateParallelFromBank(_0x191794){const _0x3fe8c2=_0x3cb14f,_0x42f420=document[_0x3fe8c2(0x2d1)](_0x3fe8c2(0x874)),_0x4f7d31=document[_0x3fe8c2(0x2d1)]('project-quizzes-list');_0x4f7d31[_0x3fe8c2(0x28d)]['add'](_0x3fe8c2(0x28c));const _0x1d416c=_0x3fe8c2(0x272)+_0x191794[_0x3fe8c2(0x367)]+_0x3fe8c2(0x7de);_0x42f420['insertAdjacentHTML']('beforeend',_0x1d416c);const _0x565322=document[_0x3fe8c2(0x2d1)](_0x3fe8c2(0x458));try{const _0x3a9802=_0x191794[_0x3fe8c2(0x4e9)][_0x3fe8c2(0x3ea)]((_0x1dc789,_0x30dae)=>{const _0x323426=_0x3fe8c2;let _0x75ef1f=_0x30dae+0x1+'.\x20'+(_0x1dc789[_0x323426(0x801)]||_0x1dc789[_0x323426(0x2fb)])+'\x0a';if(_0x1dc789['options'])_0x75ef1f+=_0x1dc789[_0x323426(0x430)][_0x323426(0x3ea)]((_0x57cddb,_0x472f85)=>'\x20\x20\x20-\x20'+(_0x472f85===_0x1dc789['correctAnswerIndex']?_0x323426(0x126):'')+'\x20'+_0x57cddb)[_0x323426(0x551)]('\x0a');else _0x1dc789['idealAnswer']&&(_0x75ef1f+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x1dc789[_0x323426(0x76f)]);return _0x75ef1f;})[_0x3fe8c2(0x551)]('\x0a\x0a');_0x565322[_0x3fe8c2(0x6ca)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x3c923f=_0x3fe8c2(0x4ea)+_0x191794['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a9802+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3fe8c2(0x8ac),_0xd18081={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3fe8c2(0x364),'enum':[_0x3fe8c2(0x4ae),_0x3fe8c2(0x33a),_0x3fe8c2(0x5a8),_0x3fe8c2(0x791)]},'options':{'type':_0x3fe8c2(0x586),'items':{'type':_0x3fe8c2(0x364)}},'correctAnswerIndex':{'type':_0x3fe8c2(0x48d)},'idealAnswer':{'type':_0x3fe8c2(0x364)},'correctAnswer':{'type':_0x3fe8c2(0x6b7)},'stem':{'type':_0x3fe8c2(0x364)},'correctResponse':{'type':_0x3fe8c2(0x364)},'allResponses':{'type':_0x3fe8c2(0x586),'items':{'type':_0x3fe8c2(0x364)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3fe8c2(0x364)}},'required':[_0x3fe8c2(0x1f7),_0x3fe8c2(0x46d)]},_0x801fa8={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3fe8c2(0x586),'items':_0xd18081}},'required':[_0x3fe8c2(0x367),_0x3fe8c2(0x4e9)]},_0x5431da=await callAnalysisApi(_0x3c923f,_0x801fa8),_0x24f254=_0x3fe8c2(0x17d)+_0x191794[_0x3fe8c2(0x367)],_0xcacbb4={'topic':_0x24f254,'questions':_0x5431da[_0x3fe8c2(0x4e9)],'quizType':_0x191794[_0x3fe8c2(0x844)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3fe8c2(0x82f)](),'status':_0x3fe8c2(0x302),'settings':_0x191794[_0x3fe8c2(0x1d2)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0xd605f7;while(!![]){_0xd605f7=Math[_0x3fe8c2(0x249)](0x3e8+Math[_0x3fe8c2(0x2cb)]()*0x2328)['toString']();const _0x1085c9=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xd605f7));if(!_0x1085c9[_0x3fe8c2(0x1cf)]())break;}await setDoc(doc(db,_0x3fe8c2(0x477)+appId+_0x3fe8c2(0x4f0),_0xd605f7),_0xcacbb4),showMessage(_0x3fe8c2(0x691));}catch(_0x47b1f6){console[_0x3fe8c2(0x8ae)](_0x3fe8c2(0x2de),_0x47b1f6),showMessage('เกิดข้อผิดพลาด:\x20'+_0x47b1f6[_0x3fe8c2(0x372)]);}finally{const _0x15343e=document[_0x3fe8c2(0x2d1)](_0x3fe8c2(0x4da));_0x15343e&&_0x15343e[_0x3fe8c2(0x817)](),_0x4f7d31[_0x3fe8c2(0x28d)]['remove'](_0x3fe8c2(0x28c));}}async function handleGenerateParallelPostTest(_0x5a3ecf){const _0x55eaee=_0x3cb14f,_0x25a669=document[_0x55eaee(0x2d1)](_0x55eaee(0x874)),_0x10b2cd=document['getElementById'](_0x55eaee(0x67f));_0x10b2cd['classList']['add']('hidden');const _0x289c5a=_0x55eaee(0x2c8);_0x25a669['insertAdjacentHTML'](_0x55eaee(0x424),_0x289c5a);try{const _0x5ea28a=_0x5a3ecf[_0x55eaee(0x4e9)]['map']((_0x91ee1f,_0x506c70)=>{const _0x2004a0=_0x55eaee;let _0x3f7a9d=_0x506c70+0x1+'.\x20'+(_0x91ee1f[_0x2004a0(0x801)]||_0x91ee1f[_0x2004a0(0x2fb)]);if(_0x91ee1f[_0x2004a0(0x430)])_0x3f7a9d+=_0x2004a0(0x391)+_0x91ee1f['options']['join'](',\x20');return _0x3f7a9d;})[_0x55eaee(0x551)]('\x0a\x0a'),_0x55c191='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x5a3ecf['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ea28a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x9e28c={'type':_0x55eaee(0x193),'properties':{'topic':{'type':_0x55eaee(0x364)},'questions':{'type':_0x55eaee(0x586),'items':{'type':_0x55eaee(0x193),'properties':{'questionText':{'type':_0x55eaee(0x364)},'questionType':{'type':_0x55eaee(0x364)},'options':{'type':_0x55eaee(0x586),'items':{'type':_0x55eaee(0x364)}},'correctAnswerIndex':{'type':_0x55eaee(0x48d)},'idealAnswer':{'type':_0x55eaee(0x364)},'explanation':{'type':_0x55eaee(0x364)}},'required':[_0x55eaee(0x801),_0x55eaee(0x46d)]}}},'required':[_0x55eaee(0x367),_0x55eaee(0x4e9)]},_0x299a90=await callAnalysisApi(_0x55c191,_0x9e28c),_0x50ad1a=_0x5a3ecf[_0x55eaee(0x367)][_0x55eaee(0x774)](_0x55eaee(0x3a6),'')[_0x55eaee(0x175)](),_0x5c08b0=_0x55eaee(0x155)+_0x50ad1a,_0x1f30fb={..._0x299a90,'topic':_0x5c08b0,'quizType':_0x5a3ecf[_0x55eaee(0x844)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x55eaee(0x82f)](),'status':_0x55eaee(0x302),'settings':_0x5a3ecf[_0x55eaee(0x1d2)],'quizMode':'post-test','pairedQuizId':_0x5a3ecf['id']};let _0x41c38c;while(!![]){_0x41c38c=Math[_0x55eaee(0x249)](0x3e8+Math['random']()*0x2328)['toString']();const _0x4b0255=await getDoc(doc(db,_0x55eaee(0x477)+appId+_0x55eaee(0x4f0),_0x41c38c));if(!_0x4b0255[_0x55eaee(0x1cf)]())break;}await setDoc(doc(db,_0x55eaee(0x477)+appId+_0x55eaee(0x4f0),_0x41c38c),_0x1f30fb);const _0x22435b=doc(db,_0x55eaee(0x477)+appId+_0x55eaee(0x4f0),_0x5a3ecf['id']);await updateDoc(_0x22435b,{'pairedQuizId':_0x41c38c}),showMessage(_0x55eaee(0x11b));}catch(_0x23e791){console[_0x55eaee(0x8ae)](_0x55eaee(0x698),_0x23e791),showMessage(_0x55eaee(0x693)+_0x23e791[_0x55eaee(0x372)]);}finally{const _0x2f01b8=document[_0x55eaee(0x2d1)](_0x55eaee(0x4da));if(_0x2f01b8)_0x2f01b8['remove']();_0x10b2cd[_0x55eaee(0x28d)][_0x55eaee(0x817)](_0x55eaee(0x28c));}}async function handleGenerateParallelTest(){const _0x140553=_0x3cb14f,_0x37af5f=document['getElementById']('parallel-test-upload-input'),_0x212cae=_0x37af5f[_0x140553(0x4bf)][0x0];if(!_0x212cae){showMessage(_0x140553(0x639));return;}const _0x1166be=document['getElementById'](_0x140553(0x34a)),_0x195d2f=document[_0x140553(0x2d1)](_0x140553(0x44e)),_0x12028e=document['getElementById']('generated-quiz-container'),_0x365602=document[_0x140553(0x2d1)](_0x140553(0x279));_0x365602[_0x140553(0x5ab)]=!![],document[_0x140553(0x2d1)](_0x140553(0x154))[_0x140553(0x28d)]['remove']('hidden'),_0x12028e['innerHTML']='',_0x1166be[_0x140553(0x28d)][_0x140553(0x817)]('hidden'),_0x195d2f[_0x140553(0x6ca)]=_0x140553(0x2a4);try{const _0x5a5d19=await extractTextFromPdf(_0x212cae);if(!_0x5a5d19[_0x140553(0x175)]())throw new Error(_0x140553(0x567));_0x195d2f['textContent']=_0x140553(0x5eb);const _0x248af5=document[_0x140553(0x2d1)]('include-images-checkbox')[_0x140553(0x7bd)],_0x29d2f7=_0x248af5?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x60128e=_0x140553(0x298)+_0x5a5d19+_0x140553(0x23d)+_0x29d2f7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x140553(0x8ac),_0x350d08={'type':_0x140553(0x193),'properties':{'questionText':{'type':_0x140553(0x364)},'questionType':{'type':_0x140553(0x364),'enum':[_0x140553(0x4ae),_0x140553(0x33a)]},'options':{'type':_0x140553(0x586),'items':{'type':_0x140553(0x364)}},'correctAnswerIndex':{'type':_0x140553(0x48d)},'idealAnswer':{'type':_0x140553(0x364)},'explanation':{'type':_0x140553(0x364)},'imageCode':{'type':'STRING'}},'required':[_0x140553(0x801),'questionType',_0x140553(0x46d)]},_0x490776={'type':'OBJECT','properties':{'topic':{'type':_0x140553(0x364)},'questions':{'type':'ARRAY','items':_0x350d08}},'required':[_0x140553(0x367),_0x140553(0x4e9)]};await handleApiCall(_0x60128e,_0x140553(0x48c),_0x490776);}catch(_0x557cc9){console[_0x140553(0x8ae)](_0x140553(0x40a),_0x557cc9),showMessage(_0x140553(0x693)+_0x557cc9[_0x140553(0x372)]),_0x12028e[_0x140553(0x729)]=_0x140553(0x580);}finally{_0x1166be[_0x140553(0x28d)][_0x140553(0x7c9)]('hidden'),_0x365602[_0x140553(0x5ab)]=![];}}async function handleRegenerateQuestionInEditor(_0x3f1810){const _0x2ad011=_0x3cb14f;if(currentEditingQuizData===null)return;const _0x416033=document[_0x2ad011(0x271)](_0x2ad011(0x6e9)+_0x3f1810+'\x22]');_0x416033&&(_0x416033[_0x2ad011(0x729)]=_0x2ad011(0x775));const _0x5c23a5=currentEditingQuizData[_0x2ad011(0x4e9)][_0x3f1810],_0x574750=currentEditingQuizData['topic'],_0x2f3123=_0x5c23a5[_0x2ad011(0x1f7)],_0x2e13eb={'type':'OBJECT','properties':{'questionText':{'type':_0x2ad011(0x364)},'options':{'type':'ARRAY','items':{'type':_0x2ad011(0x364)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x2ad011(0x430),_0x2ad011(0x541),_0x2ad011(0x46d)]},_0xcf29b8={'type':'OBJECT','properties':{'questionText':{'type':_0x2ad011(0x364)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2ad011(0x364)}},'required':[_0x2ad011(0x801),_0x2ad011(0x76f),_0x2ad011(0x46d)]};let _0x516a17,_0x4d40ff='';_0x2f3123===_0x2ad011(0x4ae)?(_0x516a17=_0x2e13eb,_0x4d40ff=_0x2ad011(0x61d)):(_0x516a17=_0xcf29b8,_0x4d40ff='แบบเติมคำตอบ');const _0x4f1803=_0x2ad011(0x203)+_0x574750+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x4d40ff+_0x2ad011(0x570)+(_0x5c23a5[_0x2ad011(0x801)]||_0x5c23a5['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x2ea6f5=await callAnalysisApi(_0x4f1803,_0x516a17);currentEditingQuizData[_0x2ad011(0x4e9)][_0x3f1810]={..._0x5c23a5,..._0x2ea6f5},renderQuizEditor(currentEditingQuizData);}catch(_0x46423f){console[_0x2ad011(0x8ae)](_0x2ad011(0x58e),_0x46423f),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x238bdd=_0x3cb14f,_0x203a3a=document['getElementById'](_0x238bdd(0x264));currentMode==='student'?(currentMode=_0x238bdd(0x622),_0x203a3a['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x203a3a[_0x238bdd(0x2df)]=_0x238bdd(0x4d2),showView('admin-dashboard')):(currentMode='student',_0x203a3a[_0x238bdd(0x729)]=_0x238bdd(0x69d),_0x203a3a['title']=_0x238bdd(0x499),showView(_0x238bdd(0x718)));}function _0x4478(_0x68996c,_0x76c89a){const _0x49a7aa=_0x49a7();return _0x4478=function(_0x4478a6,_0x50a983){_0x4478a6=_0x4478a6-0x118;let _0x22e10f=_0x49a7aa[_0x4478a6];return _0x22e10f;},_0x4478(_0x68996c,_0x76c89a);}function handleAdminLogin(){const _0x1e7b0a=_0x3cb14f,_0x1b3bd2=document['getElementById']('admin-password-input'),_0x428ffc=document[_0x1e7b0a(0x2d1)](_0x1e7b0a(0x71b));if(_0x1b3bd2[_0x1e7b0a(0x327)]===_0x1e7b0a(0x85b)){adminPasswordModal['classList'][_0x1e7b0a(0x7c9)](_0x1e7b0a(0x28c)),_0x1b3bd2['value']='',_0x428ffc[_0x1e7b0a(0x28d)][_0x1e7b0a(0x7c9)]('hidden'),currentMode=_0x1e7b0a(0x622);const _0x35af84=document[_0x1e7b0a(0x2d1)](_0x1e7b0a(0x264));_0x35af84[_0x1e7b0a(0x729)]=_0x1e7b0a(0x178),_0x35af84['title']=_0x1e7b0a(0x4d2),showView(_0x1e7b0a(0x6fa));}else _0x428ffc['classList']['remove']('hidden'),_0x1b3bd2[_0x1e7b0a(0x327)]='';}function switchProjectTab(_0x3c39db){const _0x2f302e=_0x3cb14f;[_0x2f302e(0x61b),_0x2f302e(0x7e4),_0x2f302e(0x2b7)]['forEach'](_0x40e49b=>{const _0x276187=_0x2f302e;document[_0x276187(0x2d1)](_0x40e49b+_0x276187(0x84a))['classList']['remove'](_0x276187(0x302)),document[_0x276187(0x2d1)](_0x40e49b+'-tab-content')[_0x276187(0x28d)][_0x276187(0x7c9)](_0x276187(0x28c));}),document[_0x2f302e(0x2d1)](_0x3c39db+_0x2f302e(0x84a))['classList']['add'](_0x2f302e(0x302)),document['getElementById'](_0x3c39db+'-tab-content')['classList'][_0x2f302e(0x817)](_0x2f302e(0x28c));}function switchQuizDetailTab(_0x5e256a){const _0x537188=_0x3cb14f,_0x4c7071={'analytics':{'btn':_0x537188(0x281),'content':'analytics-tab-content'},'scores':{'btn':_0x537188(0x659),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x537188(0x45c)},'behavior-log':{'btn':_0x537188(0x3ef),'content':_0x537188(0x72a)}};for(const _0x165a6d in _0x4c7071){document[_0x537188(0x2d1)](_0x4c7071[_0x165a6d]['btn'])['classList'][_0x537188(0x817)](_0x537188(0x302)),document[_0x537188(0x2d1)](_0x4c7071[_0x165a6d]['content'])[_0x537188(0x28d)][_0x537188(0x7c9)](_0x537188(0x28c));}document[_0x537188(0x2d1)](_0x4c7071[_0x5e256a][_0x537188(0x528)])[_0x537188(0x28d)][_0x537188(0x7c9)](_0x537188(0x302)),document[_0x537188(0x2d1)](_0x4c7071[_0x5e256a][_0x537188(0x70c)])[_0x537188(0x28d)][_0x537188(0x817)](_0x537188(0x28c));}function showMessage(_0x3f9363,_0x1e5a61=null){const _0x49c477=_0x3cb14f;modalMessage[_0x49c477(0x6ca)]=_0x3f9363,modalConfirmAction=_0x1e5a61,messageModal['classList'][_0x49c477(0x817)](_0x49c477(0x28c));}function showConfirmation(_0x5a1e2b,_0x4039eb){const _0x188fdd=_0x3cb14f;document[_0x188fdd(0x2d1)](_0x188fdd(0x6a8))[_0x188fdd(0x6ca)]=_0x5a1e2b,document[_0x188fdd(0x2d1)]('confirmation-modal')[_0x188fdd(0x271)]('h3')[_0x188fdd(0x6ca)]=_0x188fdd(0x2c7),confirmAction=_0x4039eb,confirmationModal[_0x188fdd(0x28d)][_0x188fdd(0x817)](_0x188fdd(0x28c));}function listenForProjects(){const _0x11f333=_0x3cb14f,_0x1684d0=doc(db,_0x11f333(0x243),_0x11f333(0x1df));onSnapshot(_0x1684d0,_0x5a12cb=>{const _0x35ac4d=_0x11f333;if(_0x5a12cb[_0x35ac4d(0x1cf)]()){const _0x228899=_0x5a12cb[_0x35ac4d(0x1bc)]();globalDashboardSettings[_0x35ac4d(0x5c1)]=_0x228899['projectSort']||'date_desc',globalDashboardSettings[_0x35ac4d(0x5b7)]=_0x228899[_0x35ac4d(0x5b7)]||[],globalDashboardSettings['projectOrder']=_0x228899[_0x35ac4d(0x591)]||[];}allProjects[_0x35ac4d(0x1d7)]>0x0&&renderProjects();});const _0x131078=collection(db,_0x11f333(0x477)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x131078,_0x49c707=>{const _0x467e18=_0x11f333;allProjects=_0x49c707[_0x467e18(0x521)]['map'](_0x253aef=>({'id':_0x253aef['id'],..._0x253aef[_0x467e18(0x1bc)]()})),renderProjects();},_0x3f8c27=>{const _0x241d38=_0x11f333;console[_0x241d38(0x8ae)](_0x241d38(0x1c3),_0x3f8c27),showMessage(_0x241d38(0x36f));});}function showColorPalette(_0x39bace,_0x480281){const _0x16f690=_0x3cb14f;document[_0x16f690(0x7b0)](_0x16f690(0x1d3))[_0x16f690(0x1f4)](_0x2159a4=>_0x2159a4['remove']());const _0x58fa84=[_0x16f690(0x64a),_0x16f690(0x242),_0x16f690(0x5d7),_0x16f690(0x6e5),_0x16f690(0x7a6),'#E0E7FF',_0x16f690(0x51e),'#FCE7F3',_0x16f690(0x76d)],_0x1ff7a0=document[_0x16f690(0x752)](_0x16f690(0x57d));_0x1ff7a0['className']=_0x16f690(0x86c),_0x58fa84[_0x16f690(0x1f4)](_0x4e7e77=>{const _0x2c4ce1=_0x16f690,_0x13ce64=document['createElement'](_0x2c4ce1(0x57d));_0x13ce64[_0x2c4ce1(0x555)]=_0x2c4ce1(0x45f),_0x13ce64[_0x2c4ce1(0x152)][_0x2c4ce1(0x25b)]=_0x4e7e77,_0x13ce64['addEventListener']('click',()=>{handleProjectColorChange(_0x480281,_0x4e7e77),_0x1ff7a0['remove']();}),_0x1ff7a0[_0x2c4ce1(0x4b2)](_0x13ce64);}),document[_0x16f690(0x7b9)][_0x16f690(0x4b2)](_0x1ff7a0);const _0x5afdb3=_0x39bace[_0x16f690(0x2a6)]();_0x1ff7a0[_0x16f690(0x152)][_0x16f690(0x2ba)]=_0x5afdb3[_0x16f690(0x4cc)]+window[_0x16f690(0x366)]+'px',_0x1ff7a0['style'][_0x16f690(0x437)]=_0x5afdb3['left']+window[_0x16f690(0x2d5)]-_0x1ff7a0[_0x16f690(0x36c)]/0x2+'px';}async function handleProjectColorChange(_0x11acb9,_0x3f9319){const _0x305c65=_0x3cb14f,_0x3973af=doc(db,_0x305c65(0x477)+appId+_0x305c65(0x159),_0x11acb9);try{await updateDoc(_0x3973af,{'color':_0x3f9319});}catch(_0x4c58ea){console[_0x305c65(0x8ae)](_0x305c65(0x8a8),_0x4c58ea),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x390036=_0x3cb14f,_0x5d0a1b=globalDashboardSettings['projectSort']||_0x390036(0x45b),_0x40128c=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x121c07=globalDashboardSettings['projectView']||_0x390036(0x598),_0x4daafa=document[_0x390036(0x2d1)](_0x390036(0x578)),_0x250593=document[_0x390036(0x2d1)](_0x390036(0x1f1));_0x4daafa['classList']['toggle'](_0x390036(0x302),_0x121c07===_0x390036(0x598)),_0x250593[_0x390036(0x28d)][_0x390036(0x6f4)]('active',_0x121c07===_0x390036(0x19c)),document[_0x390036(0x2d1)]('project-sort-select')[_0x390036(0x327)]=_0x5d0a1b;const _0x1f07e9=document[_0x390036(0x2d1)](_0x390036(0x1c7))[_0x390036(0x327)][_0x390036(0x671)]();let _0x2943cd=allProjects[_0x390036(0x255)](_0x4cbcf8=>_0x4cbcf8[_0x390036(0x39d)]['toLowerCase']()['includes'](_0x1f07e9));const _0x54a6d8=_0x2943cd['filter'](_0x2a9386=>_0x40128c[_0x390036(0x326)](_0x2a9386['id'])),_0x3b1f28=_0x2943cd[_0x390036(0x255)](_0x463863=>!_0x40128c[_0x390036(0x326)](_0x463863['id'])),_0x44702c=(_0x3db7ec,_0x270d8b)=>{const _0x1e84bb=_0x390036;switch(_0x5d0a1b){case _0x1e84bb(0x2ef):return _0x3db7ec['projectName']['localeCompare'](_0x270d8b[_0x1e84bb(0x39d)],'th');case _0x1e84bb(0x626):return _0x270d8b['projectName'][_0x1e84bb(0x12e)](_0x3db7ec[_0x1e84bb(0x39d)],'th');case _0x1e84bb(0x5b8):return new Date(_0x3db7ec[_0x1e84bb(0x48e)])-new Date(_0x270d8b[_0x1e84bb(0x48e)]);default:return new Date(_0x270d8b[_0x1e84bb(0x48e)])-new Date(_0x3db7ec[_0x1e84bb(0x48e)]);}};_0x54a6d8[_0x390036(0x19b)](_0x44702c),_0x3b1f28[_0x390036(0x19b)](_0x44702c);const _0x233996=[..._0x54a6d8,..._0x3b1f28],_0x5cc65f=globalDashboardSettings[_0x390036(0x591)]||[];_0x5cc65f[_0x390036(0x1d7)]>0x0&&_0x121c07===_0x390036(0x598)&&_0x233996[_0x390036(0x19b)]((_0x364c7a,_0x46eb14)=>{const _0x56619f=_0x390036,_0x4227fe=_0x5cc65f[_0x56619f(0x50c)](_0x364c7a['id']),_0x58c54c=_0x5cc65f[_0x56619f(0x50c)](_0x46eb14['id']);if(_0x4227fe===-0x1)return 0x1;if(_0x58c54c===-0x1)return-0x1;return _0x4227fe-_0x58c54c;});const _0x4ab2d6={};await Promise[_0x390036(0x4fa)](_0x233996[_0x390036(0x3ea)](async _0x274376=>{const _0x491f6d=_0x390036,_0x19f55e=query(collection(db,_0x491f6d(0x477)+appId+_0x491f6d(0x4f0)),where('projectId','==',_0x274376['id'])),_0x1d0259=await getDocs(_0x19f55e);_0x4ab2d6[_0x274376['id']]=_0x1d0259[_0x491f6d(0x4e2)];}));const _0x1b4767=document[_0x390036(0x2d1)]('project-list');let _0x4e7180='';if(_0x121c07==='grid'){_0x1b4767['className']=_0x390036(0x41f);if(starredQuizzes[_0x390036(0x1d7)]>0x0&&_0x1f07e9===''){const _0x2d783e=starredQuizzes[_0x390036(0x3ea)](_0x456e1e=>{const _0x3b36e8=_0x390036,_0x5c1578=allProjects[_0x3b36e8(0x1cc)](_0x5333bd=>_0x5333bd['id']===_0x456e1e[_0x3b36e8(0x215)]);return{..._0x456e1e,'projectName':_0x5c1578?_0x5c1578[_0x3b36e8(0x39d)]:_0x3b36e8(0x554)};});_0x4e7180+=_0x390036(0x432)+_0x2d783e['map'](_0x55657e=>_0x390036(0x65f)+_0x55657e[_0x390036(0x367)]+'\x22>'+_0x55657e[_0x390036(0x367)]+_0x390036(0x80f)+_0x55657e[_0x390036(0x39d)]+_0x390036(0x5f3)+_0x55657e[_0x390036(0x39d)]+_0x390036(0x618))[_0x390036(0x551)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes['length']+_0x390036(0x6b1);}_0x233996[_0x390036(0x1f4)](_0x3b75a5=>{const _0x1fd27c=_0x390036,_0x31476f=_0x4ab2d6[_0x3b75a5['id']]??0x0,_0x3aa963=_0x40128c[_0x1fd27c(0x326)](_0x3b75a5['id']),_0x334472=_0x3b75a5[_0x1fd27c(0x150)]||_0x1fd27c(0x64a),_0x156a77=parseInt(_0x334472[_0x1fd27c(0x320)](0x1,0x3),0x10)*0.299+parseInt(_0x334472[_0x1fd27c(0x320)](0x3,0x5),0x10)*0.587+parseInt(_0x334472[_0x1fd27c(0x320)](0x5,0x7),0x10)*0.114<0xba,_0x1d6d49=_0x156a77?_0x1fd27c(0x135):'text-indigo-800',_0x358ac7=_0x156a77?'text-gray-200':_0x1fd27c(0x375);_0x4e7180+=_0x1fd27c(0x5a9)+(_0x3aa963?_0x1fd27c(0x331):_0x1fd27c(0x2ce))+_0x1fd27c(0x763)+_0x334472+_0x1fd27c(0x44c)+_0x3b75a5['id']+_0x1fd27c(0x5d9)+_0x3b75a5['id']+_0x1fd27c(0x13a)+(_0x156a77?_0x1fd27c(0x3d8):_0x1fd27c(0x3e8))+_0x1fd27c(0x629)+_0x3b75a5['id']+_0x1fd27c(0x687)+(_0x156a77?'text-gray-300\x20hover:text-white':_0x1fd27c(0x3e8))+_0x1fd27c(0x353)+(_0x3aa963?_0x156a77?_0x1fd27c(0x5d0):'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x3b75a5['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x1d6d49+_0x1fd27c(0x37b)+_0x3b75a5[_0x1fd27c(0x39d)]+_0x1fd27c(0x123)+_0x358ac7+_0x1fd27c(0x234)+new Date(_0x3b75a5[_0x1fd27c(0x48e)])['toLocaleDateString'](_0x1fd27c(0x197))+_0x1fd27c(0x199)+(_0x156a77?'text-gray-100':_0x1fd27c(0x62f))+_0x1fd27c(0x62e)+_0x31476f+_0x1fd27c(0x76c)+_0x3b75a5['id']+'\x22\x20data-name=\x22'+_0x3b75a5['projectName']+_0x1fd27c(0x85e)+(_0x156a77?_0x1fd27c(0x4a2):_0x1fd27c(0x6e7))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x1b4767['className']=_0x390036(0x277),starredQuizzes[_0x390036(0x1d7)]>0x0&&_0x1f07e9===''&&(_0x4e7180+=_0x390036(0x1f6)+starredQuizzes[_0x390036(0x1d7)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x4e7180+=_0x390036(0x20b),_0x233996[_0x390036(0x1f4)](_0x4f69b9=>{const _0x1ecc2f=_0x390036,_0x3e50b1=_0x4ab2d6[_0x4f69b9['id']]??0x0,_0x4fc8c7=_0x40128c[_0x1ecc2f(0x326)](_0x4f69b9['id']);_0x4e7180+=_0x1ecc2f(0x290)+(_0x4f69b9['color']||_0x1ecc2f(0x76d))+_0x1ecc2f(0x730)+_0x4f69b9['id']+_0x1ecc2f(0x3b7)+_0x4f69b9[_0x1ecc2f(0x39d)]+_0x1ecc2f(0x57b)+_0x3e50b1+_0x1ecc2f(0x1e1)+new Date(_0x4f69b9[_0x1ecc2f(0x48e)])[_0x1ecc2f(0x5c2)](_0x1ecc2f(0x197))+_0x1ecc2f(0x141)+_0x4f69b9['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x4fc8c7?'text-indigo-600':'')+_0x1ecc2f(0x66c)+_0x4f69b9['id']+_0x1ecc2f(0x41a)+_0x4f69b9[_0x1ecc2f(0x39d)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList['innerHTML']=_0x4e7180,noProjectsMsg[_0x390036(0x28d)][_0x390036(0x6f4)](_0x390036(0x28c),_0x4e7180[_0x390036(0x1d7)]>0x0);}document[_0x3cb14f(0x2d1)](_0x3cb14f(0x1be))[_0x3cb14f(0x415)](_0x3cb14f(0x502),async()=>{const _0x5e9806=_0x3cb14f,_0x3c59e4=document[_0x5e9806(0x2d1)](_0x5e9806(0x83f)),_0x14b544=_0x3c59e4['value'][_0x5e9806(0x175)]();if(!_0x14b544){showMessage(_0x5e9806(0x74b));return;}try{const _0x265d08=doc(collection(db,'artifacts/'+appId+_0x5e9806(0x159)));await setDoc(_0x265d08,{'projectName':_0x14b544,'students':[],'settings':{'resultsDisplay':_0x5e9806(0x896),'shuffleSetting':_0x5e9806(0x124),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x5e9806(0x124),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x5e9806(0x82f)]()}),_0x3c59e4[_0x5e9806(0x327)]='',createProjectModal[_0x5e9806(0x28d)]['add']('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0xab70a2){console[_0x5e9806(0x8ae)](_0x5e9806(0x8b7),_0xab70a2),showMessage(_0x5e9806(0x390));}}),projectList['addEventListener'](_0x3cb14f(0x502),async _0x5cd92d=>{const _0xb12437=_0x3cb14f,_0x1cac0b=_0x5cd92d[_0xb12437(0x80d)][_0xb12437(0x3d7)](_0xb12437(0x862)),_0x51af38=_0x5cd92d[_0xb12437(0x80d)][_0xb12437(0x3d7)](_0xb12437(0x405)),_0x2d2c4d=_0x5cd92d['target']['closest'](_0xb12437(0x2c0)),_0x52f6b5=_0x5cd92d['target']['closest'](_0xb12437(0x207));if(_0x2d2c4d){const _0x2403c6=_0x2d2c4d['dataset']['id'],_0x1c2255=doc(db,_0xb12437(0x243),_0xb12437(0x1df)),_0x217627=globalDashboardSettings['pinnedProjects'];let _0x4dc653;_0x217627[_0xb12437(0x6a7)](_0x2403c6)?_0x4dc653=_0x217627[_0xb12437(0x255)](_0x464874=>_0x464874!==_0x2403c6):_0x4dc653=[..._0x217627,_0x2403c6];try{await setDoc(_0x1c2255,{'pinnedProjects':_0x4dc653},{'merge':!![]});}catch(_0x178563){console[_0xb12437(0x8ae)]('Error\x20updating\x20pin\x20status:',_0x178563),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x52f6b5){const _0x526766=_0x52f6b5['dataset']['id'];showColorPalette(_0x52f6b5,_0x526766);}else{if(_0x1cac0b){const _0x35f5b8=_0x1cac0b[_0xb12437(0x202)]['id'];_0x35f5b8===_0xb12437(0x46c)?showStarredProjectView():(currentProjectId=_0x35f5b8,await loadProjectDetails(currentProjectId),showView(_0xb12437(0x2e3)));}else{if(_0x51af38){const _0x21941f=_0x51af38[_0xb12437(0x202)]['id'],_0x309765=_0x51af38[_0xb12437(0x202)]['name'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x309765+_0xb12437(0x142),()=>handleDeleteProject(_0x21941f));}}}}}),projectList[_0x3cb14f(0x415)](_0x3cb14f(0x343),_0x4b4cbf=>{const _0x141c7d=_0x3cb14f,_0x2bd54d=_0x4b4cbf[_0x141c7d(0x80d)]['closest'](_0x141c7d(0x241));_0x2bd54d&&_0x2bd54d['classList'][_0x141c7d(0x7c9)]('opacity-50');}),projectList[_0x3cb14f(0x415)]('dragend',_0x50f4bc=>{const _0x2a5c50=_0x3cb14f,_0x1d955c=_0x50f4bc[_0x2a5c50(0x80d)]['closest'](_0x2a5c50(0x241));_0x1d955c&&_0x1d955c[_0x2a5c50(0x28d)][_0x2a5c50(0x817)]('opacity-50');}),projectList['addEventListener'](_0x3cb14f(0x73b),_0xa63f89=>{const _0x515d1c=_0x3cb14f;_0xa63f89['preventDefault']();const _0x3b9a71=document['querySelector']('.project-card-container.opacity-50');if(!_0x3b9a71)return;const _0x4c7e1d=getDragAfterElement(projectList,_0xa63f89['clientY']);_0x4c7e1d==null?projectList[_0x515d1c(0x4b2)](_0x3b9a71):projectList[_0x515d1c(0x450)](_0x3b9a71,_0x4c7e1d);}),projectList[_0x3cb14f(0x415)](_0x3cb14f(0x28b),_0x51a17f=>{const _0x2380a8=_0x3cb14f;_0x51a17f[_0x2380a8(0x2a1)]();const _0x365127=[...projectList['querySelectorAll']('.project-card-container[data-id]')][_0x2380a8(0x3ea)](_0x3f2ecb=>_0x3f2ecb[_0x2380a8(0x202)]['id']);saveProjectOrder(_0x365127);});function renderBehaviorLog(_0x47a28f){const _0x27930d=_0x3cb14f,_0x2bc48a=document[_0x27930d(0x2d1)]('behavior-log-container');if(!_0x2bc48a)return;const _0x347a60=_0x47a28f['filter'](_0x26a606=>_0x26a606[_0x27930d(0x16e)]&&_0x26a606[_0x27930d(0x16e)]['length']>0x0);if(_0x347a60[_0x27930d(0x1d7)]===0x0){_0x2bc48a[_0x27930d(0x729)]=_0x27930d(0x3fb);return;}let _0x3c7f83='';_0x347a60[_0x27930d(0x1f4)](_0x1947cc=>{const _0x441152=_0x27930d;_0x3c7f83+=_0x441152(0x4b7)+_0x1947cc[_0x441152(0x14f)]+_0x441152(0x15a),_0x1947cc[_0x441152(0x16e)]['sort']((_0xc7c02a,_0xbd269e)=>new Date(_0xbd269e[_0x441152(0x69f)])-new Date(_0xc7c02a['timestamp']))[_0x441152(0x1f4)](_0x1a0e71=>{const _0x29f254=_0x441152,_0x803dc2=new Date(_0x1a0e71['timestamp'])['toLocaleString'](_0x29f254(0x197),{'dateStyle':_0x29f254(0x624),'timeStyle':_0x29f254(0x3b6)});_0x3c7f83+=_0x29f254(0x2e2)+_0x1a0e71[_0x29f254(0x26d)]+_0x29f254(0x5f5)+_0x803dc2+_0x29f254(0x32b);}),_0x3c7f83+=_0x441152(0x2ff);}),_0x2bc48a['innerHTML']=_0x3c7f83;}function getDragAfterElement(_0x39ab7a,_0x595015){const _0x10cb47=_0x3cb14f,_0x1f32ad=[..._0x39ab7a['querySelectorAll'](_0x10cb47(0x68c))];return _0x1f32ad[_0x10cb47(0x5ce)]((_0x19a29e,_0x34da7e)=>{const _0x346def=_0x10cb47,_0x4aaf9e=_0x34da7e[_0x346def(0x2a6)](),_0x34a059=_0x595015-_0x4aaf9e[_0x346def(0x2ba)]-_0x4aaf9e[_0x346def(0x75e)]/0x2;return _0x34a059<0x0&&_0x34a059>_0x19a29e[_0x346def(0x700)]?{'offset':_0x34a059,'element':_0x34da7e}:_0x19a29e;},{'offset':Number['NEGATIVE_INFINITY']})[_0x10cb47(0x715)];}async function saveProjectOrder(_0x5d11cc){const _0x13848e=_0x3cb14f,_0x1d6868=doc(db,_0x13848e(0x243),_0x13848e(0x1df));try{await setDoc(_0x1d6868,{'projectOrder':_0x5d11cc},{'merge':!![]});}catch(_0x14925a){console[_0x13848e(0x8ae)](_0x13848e(0x892),_0x14925a),showMessage(_0x13848e(0x719));}}async function logBehaviorEvent(_0x4126e8,_0x46d6a5={}){const _0xa58b85=_0x3cb14f;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0xa58b85(0x6b8));return;}const _0x254bb5=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0xa58b85(0x740),currentStudentName),_0x366052={'event':_0x4126e8,'timestamp':new Date()[_0xa58b85(0x82f)](),..._0x46d6a5};try{await setDoc(_0x254bb5,{'behaviorLog':arrayUnion(_0x366052)},{'merge':!![]}),console[_0xa58b85(0x371)]('บันทึกพฤติกรรมสำหรับ\x20'+currentStudentName+_0xa58b85(0x3db)+_0x4126e8);}catch(_0x3ad5fc){console[_0xa58b85(0x8ae)](_0xa58b85(0x15f),_0x3ad5fc);}}function calculateMeanAndStdDev(_0x4a05dd){const _0x3d2931=_0x3cb14f;if(_0x4a05dd[_0x3d2931(0x1d7)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x28362d=_0x4a05dd[_0x3d2931(0x5ce)]((_0x5aecf1,_0x2e9add)=>_0x5aecf1+_0x2e9add,0x0)/_0x4a05dd['length'];if(_0x4a05dd[_0x3d2931(0x1d7)]===0x1)return{'mean':_0x28362d,'stdDev':0x0};const _0x2d46ab=Math[_0x3d2931(0x2f6)](_0x4a05dd[_0x3d2931(0x3ea)](_0xea06fc=>Math[_0x3d2931(0x597)](_0xea06fc-_0x28362d,0x2))[_0x3d2931(0x5ce)]((_0x24a516,_0x146a6)=>_0x24a516+_0x146a6,0x0)/(_0x4a05dd['length']-0x1));return{'mean':_0x28362d,'stdDev':_0x2d46ab};}function calculateZScore(_0x3544dc,_0x4bafc0,_0x4fdc9f){if(_0x4fdc9f===0x0)return 0x0;return(_0x3544dc-_0x4bafc0)/_0x4fdc9f;}function calculateTScore(_0x45b816){return 0xa*_0x45b816+0x32;}function showStarredProjectView(){const _0x4b8e4a=_0x3cb14f;currentProjectId=_0x4b8e4a(0x491),currentProjectData=null,projectTitle[_0x4b8e4a(0x6ca)]=_0x4b8e4a(0x536),projectIdDisplay[_0x4b8e4a(0x6ca)]=_0x4b8e4a(0x31a),showView(_0x4b8e4a(0x2e3)),manageTab[_0x4b8e4a(0x28d)][_0x4b8e4a(0x7c9)](_0x4b8e4a(0x28c)),leaderboardTab['classList'][_0x4b8e4a(0x7c9)]('hidden'),switchProjectTab(_0x4b8e4a(0x7e4)),renderQuizzes();}async function loadProjectDetails(_0x296bd0){const _0x9dfae5=_0x3cb14f,_0x4d7ebf=doc(db,_0x9dfae5(0x477)+appId+_0x9dfae5(0x159),_0x296bd0),_0x25ba63=await getDoc(_0x4d7ebf);if(_0x25ba63['exists']()){manageTab['classList']['remove'](_0x9dfae5(0x28c)),leaderboardTab[_0x9dfae5(0x28d)][_0x9dfae5(0x817)](_0x9dfae5(0x28c)),currentProjectData=_0x25ba63[_0x9dfae5(0x1bc)](),projectTitle[_0x9dfae5(0x6ca)]=currentProjectData[_0x9dfae5(0x39d)],projectIdDisplay[_0x9dfae5(0x6ca)]=_0x296bd0;const _0x2facfa=currentProjectData[_0x9dfae5(0x1d2)]||{};document[_0x9dfae5(0x2d1)](_0x9dfae5(0x85d))[_0x9dfae5(0x327)]=_0x2facfa[_0x9dfae5(0x20c)]||_0x9dfae5(0x124);const _0x31fd99=document[_0x9dfae5(0x2d1)](_0x9dfae5(0x411));_0x31fd99['checked']=_0x2facfa[_0x9dfae5(0x3a2)]!==![];const _0x3cbf99=document[_0x9dfae5(0x2d1)](_0x9dfae5(0x4d9)),_0x42ebfc=document[_0x9dfae5(0x2d1)]('passcode-input-container'),_0x50126c=document[_0x9dfae5(0x2d1)](_0x9dfae5(0x73a)),_0x381fe=_0x2facfa[_0x9dfae5(0x5da)]||![];_0x3cbf99['checked']=_0x381fe,_0x50126c[_0x9dfae5(0x327)]=_0x2facfa[_0x9dfae5(0x5af)]||'',_0x42ebfc[_0x9dfae5(0x28d)][_0x9dfae5(0x6f4)]('hidden',!_0x381fe),_0x3cbf99[_0x9dfae5(0x601)]=()=>{const _0xcf8a3b=_0x9dfae5;_0x42ebfc[_0xcf8a3b(0x28d)][_0xcf8a3b(0x6f4)](_0xcf8a3b(0x28c),!_0x3cbf99[_0xcf8a3b(0x7bd)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x296bd0),listenForProjectQuizzes(_0x296bd0),listenForStudentProfiles(_0x296bd0);}else showMessage(_0x9dfae5(0x5b6)),showView(_0x9dfae5(0x6fa));}async function handleResetProjectOrder(){const _0x4bda4d=_0x3cb14f,_0x492b92=doc(db,_0x4bda4d(0x243),_0x4bda4d(0x1df));try{await setDoc(_0x492b92,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4bda4d(0x53c));}catch(_0x4d97b7){console['error'](_0x4bda4d(0x3d6),_0x4d97b7),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x46e602){const _0x418578=_0x3cb14f;if(!_0x46e602)return;const _0x39339a=doc(db,_0x418578(0x477)+appId+_0x418578(0x159),_0x46e602);try{const _0x52d5f4=await getDoc(_0x39339a);if(_0x52d5f4['exists']()){const _0x3e6a8e=_0x52d5f4['data']()[_0x418578(0x3bd)]||![];await updateDoc(_0x39339a,{'isPinned':!_0x3e6a8e});}}catch(_0x348eb5){console[_0x418578(0x8ae)]('Error\x20toggling\x20pin\x20status:',_0x348eb5),showMessage(_0x418578(0x63f));}}async function handleDeleteProject(_0x486dd9){const _0x49993a=_0x3cb14f;try{const _0x473aed=writeBatch(db),_0x47275f=collection(db,_0x49993a(0x477)+appId+_0x49993a(0x4f0)),_0x4f48f3=query(_0x47275f,where(_0x49993a(0x215),'==',_0x486dd9)),_0x9fa7b1=await getDocs(_0x4f48f3);for(const _0x35e845 of _0x9fa7b1[_0x49993a(0x521)]){const _0x2f760b=collection(db,_0x49993a(0x477)+appId+_0x49993a(0x36d)+_0x35e845['id']+'/submissions'),_0x28f5b8=await getDocs(_0x2f760b);_0x28f5b8[_0x49993a(0x1f4)](_0x427cda=>{const _0x4844c5=_0x49993a;_0x473aed[_0x4844c5(0x17c)](_0x427cda[_0x4844c5(0x480)]);}),_0x473aed[_0x49993a(0x17c)](_0x35e845[_0x49993a(0x480)]);}const _0x46847c=collection(db,'artifacts/'+appId+_0x49993a(0x356)+_0x486dd9+'/studentProfiles'),_0x8ae95d=await getDocs(_0x46847c);_0x8ae95d[_0x49993a(0x1f4)](_0x310d2f=>{const _0x249dcb=_0x49993a;_0x473aed[_0x249dcb(0x17c)](_0x310d2f[_0x249dcb(0x480)]);});const _0x226488=doc(db,'artifacts/'+appId+_0x49993a(0x159),_0x486dd9);_0x473aed[_0x49993a(0x17c)](_0x226488),await _0x473aed[_0x49993a(0x3cf)](),showMessage(_0x49993a(0x40f)),showView(_0x49993a(0x6fa));}catch(_0x513a92){console['error']('Error\x20deleting\x20project:',_0x513a92),showMessage(_0x49993a(0x5b1));}}document[_0x3cb14f(0x2d1)](_0x3cb14f(0x864))[_0x3cb14f(0x415)]('click',async()=>{const _0x23c789=_0x3cb14f;if(!currentProjectId)return;const _0x5ab902={'defaultNumQuestions':parseInt(document[_0x23c789(0x2d1)](_0x23c789(0x322))[_0x23c789(0x327)]),'defaultNumChoices':parseInt(document[_0x23c789(0x2d1)](_0x23c789(0x4af))[_0x23c789(0x327)]),'defaultPassingScore':parseInt(document[_0x23c789(0x2d1)](_0x23c789(0x2ad))[_0x23c789(0x327)]),'resultsDisplay':document['getElementById'](_0x23c789(0x337))['value'],'shuffleSetting':document['getElementById']('shuffle-setting-select')['value'],'timerMode':document['getElementById']('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x23c789(0x2d1)](_0x23c789(0x198))['value'])};try{const _0x47ae85=doc(db,_0x23c789(0x477)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x47ae85,{'settings':_0x5ab902}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x1dab4d){console['error']('Error\x20saving\x20settings:',_0x1dab4d),showMessage(_0x23c789(0x398));}});function listenForStudents(_0x2bd99b){const _0x49a558=_0x3cb14f,_0x4660de=doc(db,'artifacts/'+appId+_0x49a558(0x159),_0x2bd99b);unsubscribeStudentsListener=onSnapshot(_0x4660de,_0x54f997=>{const _0x267eb1=_0x49a558;if(_0x54f997[_0x267eb1(0x1cf)]()){const _0x8d15bc=_0x54f997[_0x267eb1(0x1bc)]();currentProjectData=_0x8d15bc,renderStudentList(_0x8d15bc[_0x267eb1(0x84c)]||[]);}});}function renderStudentList(_0x479f3e){const _0x395103=_0x3cb14f,_0x218b81=document[_0x395103(0x2d1)](_0x395103(0x63d));_0x479f3e[_0x395103(0x1d7)]===0x0?(studentList[_0x395103(0x729)]=_0x395103(0x78a),_0x218b81[_0x395103(0x28d)][_0x395103(0x7c9)]('hidden')):(studentList[_0x395103(0x729)]=_0x479f3e['map'](_0x479ac1=>_0x395103(0x341)+_0x479ac1+_0x395103(0x875)+_0x479ac1+_0x395103(0x754))[_0x395103(0x551)](''),_0x218b81[_0x395103(0x28d)][_0x395103(0x817)](_0x395103(0x28c)));}document['getElementById'](_0x3cb14f(0x6c5))['addEventListener'](_0x3cb14f(0x502),async()=>{const _0x388898=_0x3cb14f;if(!currentProjectId)return;const _0x223606=document[_0x388898(0x2d1)](_0x388898(0x29a)),_0x577c9a=_0x223606['value'][_0x388898(0x175)]();if(!_0x577c9a){showMessage(_0x388898(0x720));return;}const _0x32de62=_0x577c9a[_0x388898(0x796)]('\x0a')[_0x388898(0x3ea)](_0x488cdf=>_0x488cdf['trim']())[_0x388898(0x255)](_0x1140df=>_0x1140df);if(_0x32de62[_0x388898(0x1d7)]===0x0)return;try{const _0x446dd9=doc(db,'artifacts/'+appId+_0x388898(0x159),currentProjectId),_0x4df123=await getDoc(_0x446dd9);if(_0x4df123[_0x388898(0x1cf)]()){const _0x1cb675=_0x4df123[_0x388898(0x1bc)]()[_0x388898(0x84c)]||[],_0x724086=[...new Set([..._0x1cb675,..._0x32de62])];await updateDoc(_0x446dd9,{'students':_0x724086}),_0x223606[_0x388898(0x327)]='';}}catch(_0x1c1030){console['error']('Error\x20adding\x20students:',_0x1c1030),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x19dee7){const _0x2b2e4e=_0x3cb14f,_0x3e6419=document[_0x2b2e4e(0x2d1)](_0x2b2e4e(0x814)),_0x3cc8f4=document[_0x2b2e4e(0x2d1)](_0x2b2e4e(0x24f)),_0x3d6b39=_0x3e6419[_0x2b2e4e(0x271)]('h3'),_0x462a94=document['getElementById'](_0x2b2e4e(0x69e)),_0x98445f=document['getElementById']('cancel-move-quiz-btn');_0x3d6b39[_0x2b2e4e(0x6ca)]='จับคู่เพื่อเปรียบเทียบผล',_0x3cc8f4[_0x2b2e4e(0x729)]=_0x2b2e4e(0x568),_0x462a94['textContent']=_0x2b2e4e(0x632),_0x3e6419[_0x2b2e4e(0x28d)]['remove'](_0x2b2e4e(0x28c));const _0x67f285=allQuizzes[_0x2b2e4e(0x255)](_0x9eb31d=>_0x9eb31d['id']!==_0x19dee7);_0x67f285[_0x2b2e4e(0x1d7)]===0x0?(_0x3cc8f4['innerHTML']=_0x2b2e4e(0x6dc),_0x462a94[_0x2b2e4e(0x5ab)]=!![]):(_0x3cc8f4[_0x2b2e4e(0x729)]=_0x2b2e4e(0x167)+_0x67f285[_0x2b2e4e(0x3ea)](_0x387303=>'<option\x20value=\x22'+_0x387303['id']+'\x22>'+_0x387303['topic']+_0x2b2e4e(0x434))[_0x2b2e4e(0x551)](''),_0x462a94[_0x2b2e4e(0x5ab)]=![]);const _0x17aaf9=async()=>{const _0x152447=_0x2b2e4e,_0x4d4c0f=_0x3cc8f4[_0x152447(0x327)];if(!_0x4d4c0f){showMessage(_0x152447(0x29b));return;}_0x462a94[_0x152447(0x5ab)]=!![],_0x462a94[_0x152447(0x6ca)]=_0x152447(0x1da);try{const _0x4c2742=doc(db,_0x152447(0x477)+appId+'/public/data/quizzes',_0x19dee7),_0x2f2de1=doc(db,_0x152447(0x477)+appId+_0x152447(0x4f0),_0x4d4c0f),_0x4a714e=writeBatch(db);_0x4a714e['update'](_0x4c2742,{'pairedQuizId':_0x4d4c0f}),_0x4a714e[_0x152447(0x866)](_0x2f2de1,{'pairedQuizId':_0x19dee7}),await _0x4a714e[_0x152447(0x3cf)](),showMessage(_0x152447(0x788)),_0x3e6419[_0x152447(0x28d)][_0x152447(0x7c9)]('hidden');}catch(_0x1d5c60){console['error'](_0x152447(0x229),_0x1d5c60),showMessage(_0x152447(0x575));}finally{_0x3d6b39['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x462a94[_0x152447(0x6ca)]=_0x152447(0x370),_0x462a94[_0x152447(0x5ab)]=![],_0x462a94['removeEventListener'](_0x152447(0x502),_0x17aaf9),_0x98445f[_0x152447(0x5e9)](_0x152447(0x502),_0x41aa5a);}},_0x41aa5a=()=>{const _0x389eba=_0x2b2e4e;_0x3e6419[_0x389eba(0x28d)]['add'](_0x389eba(0x28c)),_0x3d6b39[_0x389eba(0x6ca)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x462a94['textContent']=_0x389eba(0x370),_0x462a94['removeEventListener']('click',_0x17aaf9),_0x98445f[_0x389eba(0x5e9)](_0x389eba(0x502),_0x41aa5a);};_0x462a94[_0x2b2e4e(0x415)](_0x2b2e4e(0x502),_0x17aaf9),_0x98445f['addEventListener'](_0x2b2e4e(0x502),_0x41aa5a);}function handleDeleteStudent(_0x201476){const _0x2df5da=_0x3cb14f;showConfirmation(_0x2df5da(0x82b)+_0x201476+_0x2df5da(0x7f9),async()=>{const _0x4e1755=_0x2df5da;if(!currentProjectId||!currentProjectData)return;const _0x33788c=currentProjectData['students'][_0x4e1755(0x255)](_0x348ac=>_0x348ac!==_0x201476);try{const _0x3a8cb6=doc(db,_0x4e1755(0x477)+appId+_0x4e1755(0x159),currentProjectId),_0x5121c4=doc(db,_0x4e1755(0x477)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x201476),_0x381fc0=writeBatch(db);_0x381fc0[_0x4e1755(0x866)](_0x3a8cb6,{'students':_0x33788c}),_0x381fc0['delete'](_0x5121c4),await _0x381fc0[_0x4e1755(0x3cf)]();}catch(_0x1fafe6){console[_0x4e1755(0x8ae)]('Error\x20deleting\x20student:',_0x1fafe6),showMessage(_0x4e1755(0x61e));}});}function handleDeleteAllStudents(){const _0x355c79=_0x3cb14f;showConfirmation(_0x355c79(0x7e5),async()=>{const _0x5d8c8e=_0x355c79;if(!currentProjectId)return;try{const _0x4618d8=doc(db,_0x5d8c8e(0x477)+appId+_0x5d8c8e(0x159),currentProjectId),_0x2c5458=collection(db,'artifacts/'+appId+_0x5d8c8e(0x356)+currentProjectId+_0x5d8c8e(0x57c)),_0x10c9cb=await getDocs(_0x2c5458),_0x350ad9=writeBatch(db);_0x350ad9[_0x5d8c8e(0x866)](_0x4618d8,{'students':[]}),_0x10c9cb[_0x5d8c8e(0x1f4)](_0x1ff6a7=>_0x350ad9[_0x5d8c8e(0x17c)](_0x1ff6a7[_0x5d8c8e(0x480)])),await _0x350ad9[_0x5d8c8e(0x3cf)]();}catch(_0x733cff){console['error']('Error\x20deleting\x20all\x20students:',_0x733cff),showMessage(_0x5d8c8e(0x388));}});}async function handleGenerateFromFileClick(){const _0x34e4e7=_0x3cb14f;if(!selectedFile){showMessage(_0x34e4e7(0x33f));return;}const _0x27d9e4=document[_0x34e4e7(0x2d1)](_0x34e4e7(0x34a)),_0x2caf3f=document[_0x34e4e7(0x2d1)]('loader-text'),_0xf834ac=document[_0x34e4e7(0x2d1)](_0x34e4e7(0x46e)),_0xd88b09=document['getElementById'](_0x34e4e7(0x18a));_0xd88b09[_0x34e4e7(0x5ab)]=!![],document[_0x34e4e7(0x2d1)]('quiz-generation-area')['classList'][_0x34e4e7(0x817)](_0x34e4e7(0x28c)),_0xf834ac[_0x34e4e7(0x729)]='',_0x27d9e4['classList']['remove']('hidden'),_0x2caf3f[_0x34e4e7(0x6ca)]=_0x34e4e7(0x1a3);const _0x3136bc=new FileReader();_0x3136bc[_0x34e4e7(0x5e7)](selectedFile),_0x3136bc[_0x34e4e7(0x1ce)]=async()=>{const _0x2c3a0b=_0x34e4e7;try{const _0x5ce26f=_0x3136bc['result'][_0x2c3a0b(0x796)](',')[0x1],_0x239eb8=selectedFile[_0x2c3a0b(0x58f)];await generateQuizFromFile(_0x239eb8,_0x5ce26f);}catch(_0x31c10c){console[_0x2c3a0b(0x8ae)](_0x2c3a0b(0x5cc),_0x31c10c),showMessage(_0x2c3a0b(0x62b)+_0x31c10c['message']),_0x27d9e4[_0x2c3a0b(0x28d)][_0x2c3a0b(0x7c9)](_0x2c3a0b(0x28c));}finally{}},_0x3136bc['onerror']=_0x4051ef=>{const _0x2a394a=_0x34e4e7;console[_0x2a394a(0x8ae)](_0x2a394a(0x71d),_0x4051ef),showMessage(_0x2a394a(0x38b)),_0x27d9e4[_0x2a394a(0x28d)]['add'](_0x2a394a(0x28c)),_0xd88b09['disabled']=![];};}function autoFormatMath(_0xd7adb5){const _0x2e34b5=_0x3cb14f;if(typeof _0xd7adb5!=='string'||!_0xd7adb5)return _0xd7adb5;const _0x47e994=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1915ba=_0xd7adb5[_0x2e34b5(0x774)](_0x47e994,_0x1d9763=>{const _0x220e4c=_0x2e34b5;return'$'+_0x1d9763[_0x220e4c(0x175)]()+'$';});return _0x1915ba;}function sanitizeQuizData(_0x48f103){const _0x5d9523=_0x3cb14f;if(!_0x48f103||!_0x48f103[_0x5d9523(0x4e9)])return _0x48f103;const _0x558c4d={'imes':_0x5d9523(0x3ff),'div':_0x5d9523(0x5d8)},_0x45ab53=_0x827725=>{const _0x1cf1de=_0x5d9523;if(typeof _0x827725!=='string')return _0x827725;let _0x57cdc9=_0x827725;for(const [_0x51e15d,_0x344dd9]of Object[_0x1cf1de(0x2a9)](_0x558c4d)){const _0x17ff88=new RegExp('\x5cb'+_0x51e15d+'\x5cb','g');_0x57cdc9=_0x57cdc9['replace'](_0x17ff88,_0x344dd9);}return _0x57cdc9=_0x57cdc9[_0x1cf1de(0x774)](/\\\//g,_0x1cf1de(0x5d8)),_0x57cdc9=_0x57cdc9[_0x1cf1de(0x774)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x1cf1de(0x5d8))[_0x1cf1de(0x774)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x1cf1de(0x774)](/÷/g,_0x1cf1de(0x5d8))[_0x1cf1de(0x774)](/×/g,'\x5ctimes'),_0x57cdc9=_0x57cdc9[_0x1cf1de(0x774)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x57cdc9=autoFormatMath(_0x57cdc9),_0x57cdc9;};return _0x48f103[_0x5d9523(0x367)]&&(_0x48f103[_0x5d9523(0x367)]=_0x45ab53(_0x48f103[_0x5d9523(0x367)])),_0x48f103['questions'][_0x5d9523(0x1f4)](_0x5abc1d=>{const _0x53b189=_0x5d9523;_0x5abc1d[_0x53b189(0x801)]=_0x45ab53(_0x5abc1d[_0x53b189(0x801)]),_0x5abc1d['options']&&(_0x5abc1d[_0x53b189(0x430)]=_0x5abc1d[_0x53b189(0x430)][_0x53b189(0x3ea)](_0x45ab53)),_0x5abc1d[_0x53b189(0x46d)]&&(_0x5abc1d[_0x53b189(0x46d)]=_0x45ab53(_0x5abc1d['explanation'])),_0x5abc1d[_0x53b189(0x2fb)]&&(_0x5abc1d[_0x53b189(0x2fb)]=_0x45ab53(_0x5abc1d['stem'])),_0x5abc1d[_0x53b189(0x210)]&&(_0x5abc1d[_0x53b189(0x210)]=_0x45ab53(_0x5abc1d['correctResponse'])),_0x5abc1d[_0x53b189(0x496)]&&(_0x5abc1d[_0x53b189(0x496)]=_0x5abc1d[_0x53b189(0x496)][_0x53b189(0x3ea)](_0x45ab53));}),_0x48f103;}const simpleMathPrompt=_0x3cb14f(0x446);async function handleGenerateFromLink(){const _0x46ace5=_0x3cb14f,_0x580d44=document[_0x46ace5(0x2d1)]('link-url-input'),_0x33b155=document[_0x46ace5(0x2d1)](_0x46ace5(0x5f0)),_0x2ff67b=_0x580d44[_0x46ace5(0x327)][_0x46ace5(0x175)](),_0x1c7bb0=_0x33b155[_0x46ace5(0x327)][_0x46ace5(0x175)]();if(!_0x2ff67b){showMessage(_0x46ace5(0x79a));return;}const _0x46cc75=document[_0x46ace5(0x2d1)](_0x46ace5(0x34a)),_0x2a641e=document[_0x46ace5(0x2d1)]('loader-text'),_0x469991=document[_0x46ace5(0x2d1)]('generated-quiz-container'),_0x51d38b=document[_0x46ace5(0x2d1)](_0x46ace5(0x479));document[_0x46ace5(0x2d1)](_0x46ace5(0x154))['classList'][_0x46ace5(0x817)](_0x46ace5(0x28c)),_0x469991[_0x46ace5(0x729)]='',_0x46cc75[_0x46ace5(0x28d)][_0x46ace5(0x817)]('hidden'),_0x2a641e[_0x46ace5(0x6ca)]='กำลังดึงข้อมูลจากลิงก์...',_0x51d38b[_0x46ace5(0x5ab)]=!![];try{const _0x26deed='https://corsproxy.io/?'+encodeURIComponent(_0x2ff67b),_0x59d17b=await fetch(_0x26deed);if(!_0x59d17b['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x59d17b[_0x46ace5(0x682)]+')');const _0x5a5d1e=await _0x59d17b['text'](),_0x296197=extractTextFromHtml(_0x5a5d1e);if(!_0x296197||_0x296197['length']<0x64)throw new Error(_0x46ace5(0x6c0));await generateQuiz(_0x1c7bb0,_0x296197);}catch(_0x2a854d){console[_0x46ace5(0x8ae)](_0x46ace5(0x335),_0x2a854d),showMessage(_0x46ace5(0x693)+_0x2a854d['message']),_0x469991['innerHTML']=_0x46ace5(0x7d6);}finally{_0x46cc75[_0x46ace5(0x28d)][_0x46ace5(0x7c9)](_0x46ace5(0x28c)),_0x51d38b[_0x46ace5(0x5ab)]=![];}}function extractTextFromHtml(_0x37d9b0){const _0x56ae3d=_0x3cb14f,_0x4f64d1=new DOMParser()['parseFromString'](_0x37d9b0,_0x56ae3d(0x3b3));return _0x4f64d1[_0x56ae3d(0x7b0)](_0x56ae3d(0x317))[_0x56ae3d(0x1f4)](_0x1109f6=>_0x1109f6[_0x56ae3d(0x817)]()),_0x4f64d1[_0x56ae3d(0x7b9)][_0x56ae3d(0x6ca)]||'';}document['getElementById'](_0x3cb14f(0x360))[_0x3cb14f(0x415)](_0x3cb14f(0x502),()=>{const _0x24b97e=_0x3cb14f,_0x248eb4=document[_0x24b97e(0x2d1)](_0x24b97e(0x523))[_0x24b97e(0x327)][_0x24b97e(0x175)]();generateQuiz(_0x248eb4,null);}),document[_0x3cb14f(0x2d1)]('generate-from-text-btn')[_0x3cb14f(0x415)](_0x3cb14f(0x502),()=>{const _0x246f78=_0x3cb14f,_0xaa802=document[_0x246f78(0x2d1)](_0x246f78(0x42d))[_0x246f78(0x327)][_0x246f78(0x175)]();if(!_0xaa802){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x2e84bd=document[_0x246f78(0x2d1)](_0x246f78(0x523))[_0x246f78(0x327)][_0x246f78(0x175)]();generateQuiz(_0x2e84bd,_0xaa802);});async function generateQuiz(_0xe6f96e,_0x10a640,_0x52fceb=null){const _0x2c2286=_0x3cb14f,_0x41015e=document[_0x2c2286(0x2d1)](_0x2c2286(0x2f7))['checked'],_0x220d6e=document['getElementById']('quiz-type-select')[_0x2c2286(0x327)],_0x5d5f38=document[_0x2c2286(0x2d1)](_0x2c2286(0x322))[_0x2c2286(0x327)],_0x1a10ca=document['getElementById'](_0x2c2286(0x4af))['value'],_0x3c3199=document['getElementById'](_0x2c2286(0x1a7))[_0x2c2286(0x7bd)],_0x50ee0e=_0x3c3199?'':'คณิตศาสตร์',_0x493aca=document[_0x2c2286(0x2d1)]('difficulty-level-select'),_0x5983f6=_0x493aca[_0x2c2286(0x327)];let _0x32b16a='';_0x5983f6!==_0x2c2286(0x45d)&&(_0x32b16a='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x5983f6+'\x22');const _0x531df8=document['getElementById']('question-complexity-select'),_0x3696d1=_0x531df8[_0x2c2286(0x327)];let _0x51111c='';_0x3696d1!==_0x2c2286(0x610)&&(_0x51111c=_0x2c2286(0x20f)+_0x3696d1+_0x2c2286(0x20e));const _0x53528a=document[_0x2c2286(0x7b0)]('#math-topics-checkbox-container\x20input:checked'),_0x3482ca=Array[_0x2c2286(0x5cb)](_0x53528a)[_0x2c2286(0x3ea)](_0x4658db=>_0x4658db[_0x2c2286(0x327)]);let _0x66e91b='';_0x3482ca['length']>0x0&&(_0x66e91b='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x3482ca[_0x2c2286(0x551)](',\x20')+_0x2c2286(0x299));let _0xe5afc='',_0x56b56f='',_0x4fd5c1,_0x290e8c=_0x2c2286(0x350)+_0xe6f96e+'\x22';if(!_0xe6f96e&&_0x10a640)_0x290e8c=_0x2c2286(0x440);else!_0xe6f96e&&!_0x10a640&&(_0x290e8c=_0x2c2286(0x2aa));const _0x4c9568={'type':_0x2c2286(0x193),'properties':{'questionText':{'type':_0x2c2286(0x364)},'options':{'type':_0x2c2286(0x586),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c2286(0x48d)},'explanation':{'type':_0x2c2286(0x364)},'imageCode':{'type':_0x2c2286(0x364)}},'required':[_0x2c2286(0x801),'options',_0x2c2286(0x541),_0x2c2286(0x46d)]},_0x7d14e6={'type':_0x2c2286(0x193),'properties':{'questionText':{'type':_0x2c2286(0x364)},'idealAnswer':{'type':_0x2c2286(0x364)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c2286(0x364)}},'required':['questionText','idealAnswer','explanation']},_0x4037e1={'type':_0x2c2286(0x193),'properties':{'questionText':{'type':_0x2c2286(0x364)},'questionType':{'type':'STRING','enum':[_0x2c2286(0x4ae),'short_answer']},'options':{'type':_0x2c2286(0x586),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c2286(0x48d)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c2286(0x364)}},'required':['questionText','questionType',_0x2c2286(0x46d)]},_0x4d9496={'type':_0x2c2286(0x193),'properties':{'questionText':{'type':_0x2c2286(0x364)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x2c2286(0x364)},'imageCode':{'type':_0x2c2286(0x364)}},'required':['questionText',_0x2c2286(0x893),'explanation']},_0x2ae605={'type':_0x2c2286(0x193),'properties':{'questionType':{'type':_0x2c2286(0x364),'enum':['matching_item']},'stem':{'type':_0x2c2286(0x364)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2c2286(0x586),'items':{'type':'STRING'}},'explanation':{'type':_0x2c2286(0x364)},'imageCode':{'type':_0x2c2286(0x364)}},'required':[_0x2c2286(0x1f7),'stem',_0x2c2286(0x210),_0x2c2286(0x496),'explanation']};let _0x11b54a;if(_0x52fceb!==null){const _0x5bd33e=currentQuizData[_0x2c2286(0x4e9)][_0x52fceb][_0x2c2286(0x1f7)],_0x52e737=_0x41015e?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0xe5afc=_0x2c2286(0x755)+_0x290e8c+'\x20'+_0x66e91b+'\x20'+_0x32b16a+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x52e737+'\x20'+simpleMathPrompt;if(_0x5bd33e===_0x2c2286(0x4ae))_0x4fd5c1=_0x4c9568;else{if(_0x5bd33e==='matching_item')_0x4fd5c1={'type':_0x2c2286(0x193),'properties':{'questionType':{'type':'STRING','enum':[_0x2c2286(0x791)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2c2286(0x364)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c2286(0x364)}},'required':['questionType','stem','correctResponse',_0x2c2286(0x46d)]};else _0x4fd5c1=_0x7d14e6;}_0x11b54a=_0x4fd5c1;}else{const _0x48ac5d=_0x41015e?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x3b232c='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x220d6e){case _0x2c2286(0x4ae):_0xe5afc=_0x2c2286(0x65d)+_0x50ee0e+'\x20'+_0x5d5f38+_0x2c2286(0x8ad)+_0x290e8c+'\x20'+_0x66e91b+'\x20'+_0x32b16a+'\x20'+_0x51111c+_0x2c2286(0x4e4)+_0x1a10ca+_0x2c2286(0x59a)+_0x48ac5d+'\x20'+simpleMathPrompt,_0x4fd5c1=_0x4c9568;break;case _0x2c2286(0x721):_0xe5afc=_0x2c2286(0x35c)+_0x50ee0e+'\x20'+_0x5d5f38+'\x20ข้อ\x20'+_0x290e8c+'\x20'+_0x66e91b+'\x20'+_0x32b16a+'\x20'+_0x51111c+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x1a10ca+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x48ac5d+'\x20'+simpleMathPrompt,_0x4fd5c1=_0x4c9568;break;case _0x2c2286(0x49a):_0xe5afc='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x50ee0e+'\x20'+_0x5d5f38+_0x2c2286(0x8ad)+_0x290e8c+'\x20'+_0x66e91b+'\x20'+_0x32b16a+'\x20'+_0x51111c+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x48ac5d+'\x20'+simpleMathPrompt,_0x4fd5c1=_0x7d14e6;break;case _0x2c2286(0x610):_0xe5afc=_0x2c2286(0x35b)+_0x50ee0e+'\x20'+_0x5d5f38+_0x2c2286(0x8ad)+_0x290e8c+'\x20'+_0x66e91b+'\x20'+_0x32b16a+'\x20'+_0x51111c+_0x2c2286(0x4bd)+_0x1a10ca+_0x2c2286(0x297)+_0x48ac5d+'\x20'+simpleMathPrompt+'.',_0x4fd5c1=_0x4037e1;break;case _0x2c2286(0x5a8):_0xe5afc=_0x2c2286(0x1c2)+_0x50ee0e+'\x20'+_0x5d5f38+_0x2c2286(0x8ad)+_0x290e8c+'\x20'+_0x66e91b+'\x20'+_0x32b16a+'\x20'+_0x51111c+_0x2c2286(0x33b)+_0x48ac5d+'\x20'+simpleMathPrompt,_0x4fd5c1=_0x4d9496;break;case _0x2c2286(0x467):_0xe5afc=_0x2c2286(0x2c4)+_0x50ee0e+'\x20'+_0x5d5f38+'\x20คู่\x20'+_0x290e8c+'\x20'+_0x66e91b+'\x20'+_0x32b16a+'\x20'+_0x51111c+_0x2c2286(0x38a)+_0x48ac5d+'\x20'+simpleMathPrompt,_0x4fd5c1=_0x2ae605;break;}_0x11b54a={'type':_0x2c2286(0x193),'properties':{'topic':{'type':_0x2c2286(0x364)},'questions':{'type':'ARRAY','items':_0x4fd5c1}},'required':[_0x2c2286(0x367),_0x2c2286(0x4e9)]};}return _0x10a640?(_0xe5afc=_0x2c2286(0x6d1)+_0x10a640+_0x2c2286(0x832)+_0xe5afc,_0x56b56f=_0x2c2286(0x5e0)):_0x56b56f='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0xe5afc,_0x56b56f,_0x11b54a,_0x52fceb);}async function generateQuizFromFile(_0x58d7c5,_0x377389){const _0x380bab=_0x3cb14f,_0x229816=document['getElementById'](_0x380bab(0x60e))[_0x380bab(0x327)][_0x380bab(0x175)](),_0x1e96b1=document[_0x380bab(0x2d1)](_0x380bab(0x506))[_0x380bab(0x327)],_0x1597f1=document[_0x380bab(0x2d1)]('num-questions')['value'],_0x513774=document['getElementById'](_0x380bab(0x4af))[_0x380bab(0x327)],_0x1e62e0=document[_0x380bab(0x2d1)](_0x380bab(0x2f7))['checked'],_0x3e298d=document[_0x380bab(0x2d1)](_0x380bab(0x1a7))[_0x380bab(0x7bd)],_0x3faf2e=_0x3e298d?'':_0x380bab(0x88d);let _0x483b9a='',_0x499ead,_0x17092b=_0x380bab(0x350)+_0x229816+'\x22';!_0x229816&&(_0x17092b=_0x380bab(0x1c6));const _0x5ece05=_0x1e62e0?_0x380bab(0x609):'';switch(_0x1e96b1){case _0x380bab(0x4ae):_0x483b9a=_0x380bab(0x65d)+_0x3faf2e+'\x20'+_0x1597f1+_0x380bab(0x8ad)+_0x17092b+_0x380bab(0x4e4)+_0x513774+_0x380bab(0x59a)+_0x5ece05+'\x20'+simpleMathPrompt,_0x499ead={'type':'OBJECT','properties':{'questionText':{'type':_0x380bab(0x364)},'options':{'type':_0x380bab(0x586),'items':{'type':_0x380bab(0x364)}},'correctAnswerIndex':{'type':_0x380bab(0x48d)},'explanation':{'type':_0x380bab(0x364)},'imageCode':{'type':_0x380bab(0x364)}},'required':['questionText',_0x380bab(0x430),_0x380bab(0x541),_0x380bab(0x46d)]};break;case _0x380bab(0x721):_0x483b9a='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3faf2e+'\x20'+_0x1597f1+'\x20ข้อ\x20'+_0x17092b+_0x380bab(0x359)+_0x513774+_0x380bab(0x6ea)+_0x5ece05+'\x20'+simpleMathPrompt,_0x499ead={'type':_0x380bab(0x193),'properties':{'questionText':{'type':_0x380bab(0x364)},'options':{'type':_0x380bab(0x586),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x380bab(0x48d)},'explanation':{'type':_0x380bab(0x364)},'imageCode':{'type':_0x380bab(0x364)}},'required':[_0x380bab(0x801),'options',_0x380bab(0x541),_0x380bab(0x46d)]};break;case _0x380bab(0x49a):_0x483b9a=_0x380bab(0x35c)+_0x3faf2e+'\x20'+_0x1597f1+_0x380bab(0x8ad)+_0x17092b+_0x380bab(0x5db)+_0x5ece05+'\x20'+simpleMathPrompt,_0x499ead={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x380bab(0x801),_0x380bab(0x76f),'explanation']};break;case _0x380bab(0x610):_0x483b9a=_0x380bab(0x35b)+_0x3faf2e+'\x20'+_0x1597f1+'\x20ข้อ\x20'+_0x17092b+_0x380bab(0x685)+_0x513774+_0x380bab(0x297)+_0x5ece05+'\x20'+simpleMathPrompt+_0x380bab(0x1cd),_0x499ead={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x380bab(0x364),'enum':['multiple_choice',_0x380bab(0x33a)]},'options':{'type':_0x380bab(0x586),'items':{'type':_0x380bab(0x364)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x380bab(0x364)},'imageCode':{'type':_0x380bab(0x364)}},'required':[_0x380bab(0x801),_0x380bab(0x1f7),'explanation']};break;case _0x380bab(0x5a8):_0x483b9a=_0x380bab(0x1c2)+_0x3faf2e+'\x20'+_0x1597f1+_0x380bab(0x8ad)+_0x17092b+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5ece05+'\x20'+simpleMathPrompt,_0x499ead={'type':_0x380bab(0x193),'properties':{'questionText':{'type':_0x380bab(0x364)},'correctAnswer':{'type':_0x380bab(0x6b7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x380bab(0x364)}},'required':['questionText',_0x380bab(0x893),'explanation']};break;case'matching':_0x483b9a=_0x380bab(0x2c4)+_0x3faf2e+'\x20'+_0x1597f1+_0x380bab(0x1a0)+_0x17092b+_0x380bab(0x89e)+_0x1597f1+_0x380bab(0x574)+_0x5ece05+'\x20'+simpleMathPrompt,_0x499ead={'type':'OBJECT','properties':{'questionType':{'type':_0x380bab(0x364),'enum':[_0x380bab(0x791)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x380bab(0x364)},'allResponses':{'type':_0x380bab(0x586),'items':{'type':_0x380bab(0x364)}},'explanation':{'type':_0x380bab(0x364)},'imageCode':{'type':_0x380bab(0x364)}},'required':['questionType','stem','correctResponse',_0x380bab(0x496),'explanation']};break;}const _0x1fc6fe={'type':'OBJECT','properties':{'topic':{'type':_0x380bab(0x364)},'questions':{'type':'ARRAY','items':_0x499ead}},'required':['topic',_0x380bab(0x4e9)]},_0x4a9601='จากไฟล์ที่แนบมานี้,\x20'+_0x483b9a,_0x1fbdf9={'contents':[{'parts':[{'text':_0x4a9601},{'inlineData':{'mimeType':_0x58d7c5,'data':_0x377389}}]}],'generationConfig':{'responseMimeType':_0x380bab(0x293),'responseSchema':_0x1fc6fe}};return handleApiCall(_0x1fbdf9[_0x380bab(0x47e)][0x0][_0x380bab(0x1dd)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x1fc6fe);}async function handleApiCall(_0xb8796f,_0x3fa610,_0x27463a,_0x2eeb5f=null){const _0x55a65f=_0x3cb14f,_0xd746c8=document[_0x55a65f(0x2d1)]('quiz-generation-area'),_0x57be51=document[_0x55a65f(0x2d1)](_0x55a65f(0x34a)),_0x39699e=document[_0x55a65f(0x2d1)](_0x55a65f(0x44e)),_0xbf4af5=document[_0x55a65f(0x2d1)](_0x55a65f(0x46e));_0xd746c8[_0x55a65f(0x28d)][_0x55a65f(0x817)](_0x55a65f(0x28c));_0x2eeb5f===null&&(_0xbf4af5[_0x55a65f(0x729)]='');_0x57be51['classList']['remove']('hidden'),_0x39699e[_0x55a65f(0x6ca)]=_0x3fa610,document[_0x55a65f(0x2d1)](_0x55a65f(0x360))[_0x55a65f(0x5ab)]=!![],document['getElementById'](_0x55a65f(0x5e5))[_0x55a65f(0x5ab)]=!![],document['getElementById'](_0x55a65f(0x479))[_0x55a65f(0x5ab)]=!![];try{const _0x2ac65e={'responseMimeType':_0x55a65f(0x293),'responseSchema':_0x27463a},_0x285185=Array[_0x55a65f(0x746)](_0xb8796f)?_0xb8796f:[{'text':_0xb8796f}],_0x554b63={'contents':[{'role':_0x55a65f(0x2f1),'parts':_0x285185}],'generationConfig':_0x2ac65e},_0x4cf476=_0x55a65f(0x1c0),_0x444e64='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4cf476,_0x503a83=await fetch(_0x444e64,{'method':_0x55a65f(0x318),'headers':{'Content-Type':_0x55a65f(0x293)},'body':JSON[_0x55a65f(0x881)](_0x554b63)});if(!_0x503a83['ok'])throw new Error(_0x55a65f(0x68a)+_0x503a83[_0x55a65f(0x682)]);const _0x47bf07=await _0x503a83[_0x55a65f(0x6d9)]();if(_0x47bf07['candidates']?.[0x0]?.['content']?.[_0x55a65f(0x1dd)]?.[0x0]){let _0x5dbd5c=_0x47bf07[_0x55a65f(0x7aa)][0x0][_0x55a65f(0x70c)][_0x55a65f(0x1dd)][0x0][_0x55a65f(0x77d)],_0x158bd3;try{if(_0x5dbd5c['startsWith'](_0x55a65f(0x38e)))_0x5dbd5c=_0x5dbd5c[_0x55a65f(0x320)](0x7,_0x5dbd5c[_0x55a65f(0x1d7)]-0x3)[_0x55a65f(0x175)]();else _0x5dbd5c[_0x55a65f(0x46b)](_0x55a65f(0x78b))&&(_0x5dbd5c=_0x5dbd5c[_0x55a65f(0x320)](0x3,_0x5dbd5c[_0x55a65f(0x1d7)]-0x3)[_0x55a65f(0x175)]());_0x158bd3=JSON[_0x55a65f(0x18f)](_0x5dbd5c);}catch(_0x390069){console[_0x55a65f(0x8ae)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x390069,_0x5dbd5c);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x2eeb5f!==null){if(_0x158bd3[_0x55a65f(0x1f7)]==='matching_item'){const _0x56d28d=currentQuizData[_0x55a65f(0x4e9)][_0x55a65f(0x3ea)](_0x4901bb=>_0x4901bb['correctResponse']);_0x158bd3[_0x55a65f(0x496)]=_0x56d28d;const _0x377d8a=currentQuizData[_0x55a65f(0x4e9)][_0x2eeb5f][_0x55a65f(0x210)],_0x3d0d7e=_0x56d28d[_0x55a65f(0x50c)](_0x377d8a);_0x3d0d7e>-0x1&&(_0x56d28d[_0x3d0d7e]=_0x158bd3['correctResponse']),currentQuizData[_0x55a65f(0x4e9)][_0x55a65f(0x1f4)](_0x1180ba=>{const _0x34d472=_0x55a65f;if(_0x1180ba[_0x34d472(0x1f7)]===_0x34d472(0x791))_0x1180ba[_0x34d472(0x496)]=_0x56d28d;});}currentQuizData[_0x55a65f(0x4e9)][_0x2eeb5f]=_0x158bd3,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x158bd3;const _0x56d81d=document[_0x55a65f(0x2d1)]('quiz-type-select')['value'];currentQuizData['quizType']=_0x56d81d,currentQuizData[_0x55a65f(0x4e9)]&&currentQuizData[_0x55a65f(0x4e9)][_0x55a65f(0x1f4)](_0x3bd461=>{const _0x5dc468=_0x55a65f;if(!_0x3bd461[_0x5dc468(0x1f7)]){if(_0x56d81d===_0x5dc468(0x721))_0x3bd461['questionType']=_0x5dc468(0x4ae);else _0x56d81d==='fill_in_no_choices'?_0x3bd461[_0x5dc468(0x1f7)]=_0x5dc468(0x33a):_0x3bd461[_0x5dc468(0x1f7)]=_0x56d81d;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x55a65f(0x8ae)](_0x55a65f(0x6d4),JSON[_0x55a65f(0x881)](_0x47bf07));throw new Error(_0x55a65f(0x67b));}}catch(_0x5069c2){console[_0x55a65f(0x8ae)](_0x55a65f(0x3cb),_0x5069c2),showMessage(_0x55a65f(0x12c)),_0x2eeb5f===null&&(_0xbf4af5[_0x55a65f(0x729)]=_0x55a65f(0x81e));}finally{_0x57be51[_0x55a65f(0x28d)][_0x55a65f(0x7c9)](_0x55a65f(0x28c)),document[_0x55a65f(0x2d1)]('generate-from-topic-btn')[_0x55a65f(0x5ab)]=![],document[_0x55a65f(0x2d1)](_0x55a65f(0x5e5))[_0x55a65f(0x5ab)]=![],document['getElementById'](_0x55a65f(0x479))[_0x55a65f(0x5ab)]=![];const _0x34fd51=document['getElementById'](_0x55a65f(0x18a));_0x34fd51&&(_0x34fd51[_0x55a65f(0x5ab)]=![]);}}function enterFullscreen(){const _0x58cc38=_0x3cb14f,_0x4eafeb=document[_0x58cc38(0x75d)];if(_0x4eafeb['requestFullscreen'])_0x4eafeb['requestFullscreen']()[_0x58cc38(0x354)](_0x4d5bf1=>{const _0x4e724e=_0x58cc38;console[_0x4e724e(0x8ae)](_0x4e724e(0x564)+_0x4d5bf1[_0x4e724e(0x372)]+'\x20('+_0x4d5bf1[_0x4e724e(0x7e3)]+')');});else{if(_0x4eafeb[_0x58cc38(0x1e3)])_0x4eafeb[_0x58cc38(0x1e3)]();else _0x4eafeb[_0x58cc38(0x607)]&&_0x4eafeb[_0x58cc38(0x607)]();}}function handleFullscreenChange(){const _0x4fe184=_0x3cb14f;!document[_0x4fe184(0x20d)]&&isQuizActive&&(cheatAttempts++,logBehaviorEvent(_0x4fe184(0x4b3),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4fe184(0x1b6)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x4fe184(0x2d1)](_0x4fe184(0x276))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x4fe184(0x61c),handleFullscreenChange)):showMessage(_0x4fe184(0x7e7)+cheatAttempts+'/'+maxCheatAttempts+_0x4fe184(0x3ae),enterFullscreen));}function displayGeneratedQuiz(_0x4aa54f){const _0xd997da=_0x3cb14f,_0x483eb5=document[_0xd997da(0x2d1)](_0xd997da(0x46e));let _0x63d6cf='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x4aa54f[_0xd997da(0x367)]+_0xd997da(0x1db);_0x4aa54f[_0xd997da(0x4e9)]['forEach']((_0x2705f8,_0xa0b593)=>{const _0x38f190=_0xd997da,_0x3431a5=_0x2705f8[_0x38f190(0x1f7)]||_0x4aa54f[_0x38f190(0x844)];_0x63d6cf+=_0x38f190(0x52d)+_0xa0b593+_0x38f190(0x705)+_0xa0b593+_0x38f190(0x7b8)+_0xa0b593+_0x38f190(0x273);switch(_0x3431a5){case'matching_item':_0x63d6cf+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xa0b593+'\x22>'+(_0xa0b593+0x1)+'.\x20'+_0x2705f8[_0x38f190(0x2fb)]+_0x38f190(0x709);_0x2705f8['imageCode']&&(_0x63d6cf+='<div\x20id=\x22q-image-container-'+_0xa0b593+_0x38f190(0x3c1)+_0x2705f8[_0x38f190(0x3aa)]+_0x38f190(0x3ab));_0x63d6cf+=_0x38f190(0x4ba)+_0xa0b593+'\x22>'+_0x2705f8[_0x38f190(0x210)]+_0x38f190(0x630),_0x63d6cf+=_0x38f190(0x182)+_0xa0b593+'\x22>'+_0x2705f8[_0x38f190(0x46d)]+_0x38f190(0x630);break;case _0x38f190(0x33a):_0x63d6cf+=_0x38f190(0x5fa)+_0xa0b593+'\x22>'+(_0xa0b593+0x1)+'.\x20'+_0x2705f8[_0x38f190(0x801)]+'</p>';_0x2705f8[_0x38f190(0x3aa)]&&(_0x63d6cf+='<div\x20id=\x22q-image-container-'+_0xa0b593+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2705f8[_0x38f190(0x3aa)]+'</div>');_0x63d6cf+=_0x38f190(0x80c)+_0xa0b593+'\x22>'+_0x2705f8['idealAnswer']+_0x38f190(0x630),_0x63d6cf+=_0x38f190(0x182)+_0xa0b593+'\x22>'+_0x2705f8[_0x38f190(0x46d)]+_0x38f190(0x630);break;case _0x38f190(0x5a8):_0x63d6cf+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xa0b593+'\x22>'+(_0xa0b593+0x1)+'.\x20'+_0x2705f8[_0x38f190(0x801)]+_0x38f190(0x709);_0x2705f8[_0x38f190(0x3aa)]&&(_0x63d6cf+='<div\x20id=\x22q-image-container-'+_0xa0b593+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2705f8[_0x38f190(0x3aa)]+_0x38f190(0x3ab));_0x63d6cf+=_0x38f190(0x4ac)+(_0x2705f8[_0x38f190(0x893)]===!![]?_0x38f190(0x696):'')+_0x38f190(0x87a)+(_0x2705f8[_0x38f190(0x893)]===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x63d6cf+=_0x38f190(0x182)+_0xa0b593+'\x22>'+_0x2705f8[_0x38f190(0x46d)]+_0x38f190(0x630);break;case'fill_in_the_blank':case'multiple_choice':default:_0x63d6cf+=_0x38f190(0x5fa)+_0xa0b593+'\x22>'+(_0xa0b593+0x1)+'.\x20'+_0x2705f8[_0x38f190(0x801)]+_0x38f190(0x709);_0x2705f8[_0x38f190(0x3aa)]&&(_0x63d6cf+=_0x38f190(0x76e)+_0xa0b593+_0x38f190(0x3c1)+_0x2705f8[_0x38f190(0x3aa)]+_0x38f190(0x3ab));_0x63d6cf+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0xa0b593+_0x38f190(0x616)+_0x2705f8['options'][_0x38f190(0x3ea)]((_0x5b3db6,_0x492746)=>_0x38f190(0x6a0)+(_0x492746===_0x2705f8[_0x38f190(0x541)]?_0x38f190(0x696):'')+'\x22>'+_0x5b3db6+_0x38f190(0x731))['join']('')+_0x38f190(0x310),_0x63d6cf+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xa0b593+'\x22>'+_0x2705f8[_0x38f190(0x46d)]+_0x38f190(0x630);break;}_0x63d6cf+='</div>';}),_0x63d6cf+=_0xd997da(0x4de),_0x483eb5[_0xd997da(0x729)]=_0x63d6cf,document[_0xd997da(0x7b0)](_0xd997da(0x697))[_0xd997da(0x1f4)](_0x39d8c2=>_0x39d8c2[_0xd997da(0x415)](_0xd997da(0x502),handleEditQuestion)),document[_0xd997da(0x7b0)](_0xd997da(0x1b4))['forEach'](_0x570e07=>_0x570e07[_0xd997da(0x415)](_0xd997da(0x502),handleRegenerateQuestion)),document[_0xd997da(0x7b0)]('.save-to-bank-btn')[_0xd997da(0x1f4)](_0x1115b5=>_0x1115b5[_0xd997da(0x415)]('click',handleSaveToBank)),document[_0xd997da(0x2d1)](_0xd997da(0x77f))[_0xd997da(0x415)](_0xd997da(0x502),exportQuizAsWorksheetPDF),document['getElementById']('save-quiz-btn')['addEventListener'](_0xd997da(0x502),saveQuiz);if(window[_0xd997da(0x6e1)])window[_0xd997da(0x6e1)][_0xd997da(0x8a4)]([_0x483eb5]);}function handleRegenerateQuestion(_0x2d2126){const _0x3861cf=_0x3cb14f,_0x40f8ae=_0x2d2126[_0x3861cf(0x2cf)]['dataset']['index'],_0x3b5b5b=currentQuizData['topic'];showMessage(_0x3861cf(0x53d)+(parseInt(_0x40f8ae)+0x1)+'\x20ใหม่...'),generateQuiz(_0x3b5b5b,null,parseInt(_0x40f8ae));}function getPointerPosition(_0x4db52d,_0x335949){const _0x186488=_0x3cb14f,_0x1e04bd=_0x4db52d[_0x186488(0x88f)]();let _0x1bc61d,_0x42e4dc;return _0x335949[_0x186488(0x571)]&&_0x335949['touches']['length']>0x0?(_0x1bc61d=_0x335949[_0x186488(0x571)][0x0][_0x186488(0x510)],_0x42e4dc=_0x335949[_0x186488(0x571)][0x0][_0x186488(0x55f)]):(_0x1bc61d=_0x335949[_0x186488(0x510)],_0x42e4dc=_0x335949[_0x186488(0x55f)]),{'x':(_0x1bc61d-_0x1e04bd['e'])/_0x1e04bd['a'],'y':(_0x42e4dc-_0x1e04bd['f'])/_0x1e04bd['d']};}function startDrag(_0x551d20){const _0x106f80=_0x3cb14f;_0x551d20[_0x106f80(0x58f)]===_0x106f80(0x16f)&&_0x551d20[_0x106f80(0x2a1)]();const _0x599e88=_0x551d20[_0x106f80(0x80d)]['closest']('.draggable-text');if(_0x599e88){draggedSvgElement=_0x599e88;const _0xbec6f4=draggedSvgElement[_0x106f80(0x2eb)],_0x4018fc=getPointerPosition(_0xbec6f4,_0x551d20);svgOffset['x']=_0x4018fc['x']-parseFloat(draggedSvgElement[_0x106f80(0x6de)](null,'x')),svgOffset['y']=_0x4018fc['y']-parseFloat(draggedSvgElement[_0x106f80(0x6de)](null,'y'));}}function calculateItemAnalysis(_0x2bc467,_0x96132){const _0x3f694c=_0x3cb14f,_0x3007e8={};if(_0x96132[_0x3f694c(0x1d7)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x13c0b6=[..._0x96132][_0x3f694c(0x19b)]((_0x54dd62,_0x508234)=>{const _0xb2f809=_0x3f694c,_0x5b6439=_0x508234[_0xb2f809(0x5ea)]-_0x54dd62[_0xb2f809(0x5ea)];if(_0x5b6439!==0x0)return _0x5b6439;const _0x40f792=_0x54dd62[_0xb2f809(0x14c)]?.[_0xb2f809(0x1d7)]||0x1,_0x2a1652=_0x508234[_0xb2f809(0x14c)]?.[_0xb2f809(0x1d7)]||0x1,_0x544df2=_0x40f792-_0x2a1652;if(_0x544df2!==0x0)return _0x544df2;const _0x6e5616=new Date(_0x54dd62[_0xb2f809(0x18e)]),_0x21672c=new Date(_0x508234[_0xb2f809(0x18e)]),_0x2c58ff=_0x6e5616-_0x21672c;if(_0x2c58ff!==0x0)return _0x2c58ff;return _0x54dd62['studentName'][_0xb2f809(0x12e)](_0x508234[_0xb2f809(0x14f)],'th');}),_0x2bb5c6=_0x13c0b6[_0x3f694c(0x1d7)],_0x359a0d=Math[_0x3f694c(0x137)](0x1,Math[_0x3f694c(0x249)](_0x2bb5c6*0.33));if(_0x359a0d===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4d294d=_0x13c0b6['slice'](0x0,_0x359a0d),_0x4ff5f1=_0x13c0b6[_0x3f694c(0x7ac)](-_0x359a0d),_0x115b8c=_0x4d294d[_0x3f694c(0x3ea)](_0x1284b3=>_0x1284b3[_0x3f694c(0x14f)]),_0x362468=_0x4ff5f1['map'](_0x63486e=>_0x63486e['studentName']);return _0x2bc467['questions'][_0x3f694c(0x1f4)]((_0x318431,_0x4f9bde)=>{const _0x2e9808=_0x3f694c,_0x19ff61=_0x318431[_0x2e9808(0x2fb)]||_0x318431[_0x2e9808(0x801)];let _0x4b3e08=0x0,_0x42a710=0x0,_0x5397ac=0x0;const _0x55c123=[],_0x4d7bc0=[];_0x4d294d[_0x2e9808(0x1f4)](_0x4df780=>{const _0x1da76e=_0x2e9808,_0x44cbe3=_0x4df780[_0x1da76e(0x14c)][_0x4df780[_0x1da76e(0x14c)][_0x1da76e(0x1d7)]-0x1],_0x27b670=_0x44cbe3[_0x1da76e(0x619)][_0x1da76e(0x1cc)](_0x42db8f=>_0x42db8f[_0x1da76e(0x845)]===_0x19ff61);_0x55c123[_0x1da76e(0x49f)]({'name':_0x4df780[_0x1da76e(0x14f)],'isCorrect':_0x27b670?_0x27b670[_0x1da76e(0x64c)]:![]}),_0x27b670&&_0x27b670[_0x1da76e(0x64c)]&&_0x42a710++;}),_0x4ff5f1['forEach'](_0x4c62ab=>{const _0x35b4ff=_0x2e9808,_0x181722=_0x4c62ab['attempts'][_0x4c62ab['attempts'][_0x35b4ff(0x1d7)]-0x1],_0x45b266=_0x181722[_0x35b4ff(0x619)][_0x35b4ff(0x1cc)](_0x439114=>_0x439114['originalQuestionText']===_0x19ff61);_0x4d7bc0[_0x35b4ff(0x49f)]({'name':_0x4c62ab[_0x35b4ff(0x14f)],'isCorrect':_0x45b266?_0x45b266[_0x35b4ff(0x64c)]:![]}),_0x45b266&&_0x45b266[_0x35b4ff(0x64c)]&&_0x5397ac++;}),_0x96132['forEach'](_0x471db7=>{const _0x345df1=_0x2e9808,_0x5acf25=_0x471db7[_0x345df1(0x14c)][_0x471db7[_0x345df1(0x14c)][_0x345df1(0x1d7)]-0x1],_0x100ccf=_0x5acf25[_0x345df1(0x619)][_0x345df1(0x1cc)](_0x3948b4=>_0x3948b4[_0x345df1(0x845)]===_0x19ff61);_0x100ccf&&_0x100ccf[_0x345df1(0x64c)]&&_0x4b3e08++;});const _0x5222d=_0x2bb5c6>0x0?_0x4b3e08/_0x2bb5c6:0x0,_0x4d5602=_0x359a0d>0x0?_0x42a710/_0x359a0d-_0x5397ac/_0x359a0d:0x0;_0x3007e8[_0x4f9bde]={'p':_0x5222d,'r':_0x4d5602,'upperGroupResponders':_0x55c123,'lowerGroupResponders':_0x4d7bc0};}),{'perQuestionStats':_0x3007e8,'overallGroups':{'upperGroupNames':_0x115b8c,'lowerGroupNames':_0x362468}};}function drag(_0x405e93){const _0x1403dc=_0x3cb14f;if(draggedSvgElement){_0x405e93[_0x1403dc(0x2a1)]();const _0x5dc9cb=draggedSvgElement['ownerSVGElement'],_0x4c08ad=getPointerPosition(_0x5dc9cb,_0x405e93),_0x241fb0=_0x5dc9cb[_0x1403dc(0x561)][_0x1403dc(0x735)];let _0x1a219e=_0x4c08ad['x']-svgOffset['x'],_0x1ace0a=_0x4c08ad['y']-svgOffset['y'];const _0x562bc0=draggedSvgElement[_0x1403dc(0x380)]();_0x1a219e=Math[_0x1403dc(0x137)](_0x241fb0['x'],Math['min'](_0x1a219e,_0x241fb0['x']+_0x241fb0[_0x1403dc(0x1c4)]-_0x562bc0[_0x1403dc(0x1c4)])),_0x1ace0a=Math[_0x1403dc(0x137)](_0x241fb0['y'],Math['min'](_0x1ace0a,_0x241fb0['y']+_0x241fb0['height']-_0x562bc0[_0x1403dc(0x75e)])),draggedSvgElement[_0x1403dc(0x2e8)](null,'x',_0x1a219e),draggedSvgElement[_0x1403dc(0x2e8)](null,'y',_0x1ace0a);}}function endDrag(_0xfbb83f){draggedSvgElement=null;}function handleSvgEditClick(_0x1a6d1c){const _0x21d85a=_0x3cb14f;if(_0x1a6d1c[_0x21d85a(0x80d)][_0x21d85a(0x28d)]['contains'](_0x21d85a(0x741))){const _0x1ecd96=_0x1a6d1c['target'][_0x21d85a(0x202)]['targetId'],_0x24704a=_0x1a6d1c[_0x21d85a(0x2cf)],_0xb729bd=_0x24704a[_0x21d85a(0x271)]('#'+_0x1ecd96);_0xb729bd&&_0xb729bd[_0x21d85a(0x817)](),_0x1a6d1c['target'][_0x21d85a(0x817)]();}}function handleEditQuestion(_0x102a0f){const _0x496d29=_0x3cb14f,_0x5041e0=_0x102a0f[_0x496d29(0x2cf)],_0x495422=_0x5041e0[_0x496d29(0x202)][_0x496d29(0x790)],_0x55a8c5=currentQuizData['questions'][_0x495422],_0x2cf583=document[_0x496d29(0x2d1)](_0x496d29(0x5b9)+_0x495422),_0x323db1=document[_0x496d29(0x2d1)](_0x496d29(0x208)+_0x495422),_0xa54387=document['getElementById'](_0x496d29(0x1ea)+_0x495422);if(_0x5041e0[_0x496d29(0x729)][_0x496d29(0x6a7)]('fa-pen')){_0x5041e0[_0x496d29(0x729)]=_0x496d29(0x460),_0x5041e0[_0x496d29(0x2df)]=_0x496d29(0x7ef);if(_0x2cf583)_0x2cf583[_0x496d29(0x66f)]=!![];if(_0x323db1)_0x323db1['contentEditable']=!![];if(_0xa54387){const _0x86ae55=_0xa54387[_0x496d29(0x271)](_0x496d29(0x812));if(_0x86ae55){const _0x4a6c1b=_0x86ae55['querySelectorAll']('text');_0x4a6c1b[_0x496d29(0x1f4)]((_0x506e14,_0x392549)=>{const _0x107509=_0x496d29,_0x4c4df8=_0x107509(0x29e)+_0x495422+'-'+_0x392549;_0x506e14['id']=_0x4c4df8,_0x506e14[_0x107509(0x28d)][_0x107509(0x7c9)](_0x107509(0x2d6)),_0x506e14[_0x107509(0x152)][_0x107509(0x55a)]=_0x107509(0x191);const _0x312b79=document['createElementNS'](_0x107509(0x7f5),'circle'),_0x326819=_0x506e14[_0x107509(0x380)]();_0x312b79[_0x107509(0x2af)]('cx',String(_0x326819['x']+_0x326819[_0x107509(0x1c4)]+0x5)),_0x312b79[_0x107509(0x2af)]('cy',String(_0x326819['y']+_0x326819[_0x107509(0x75e)]/0x2-0x5)),_0x312b79['setAttribute']('r','5'),_0x312b79[_0x107509(0x2af)](_0x107509(0x5c7),_0x107509(0x3ce)),_0x312b79['setAttribute'](_0x107509(0x211),_0x107509(0x741)),_0x312b79[_0x107509(0x202)][_0x107509(0x5e1)]=_0x4c4df8,_0x506e14[_0x107509(0x6dd)](_0x312b79);}),_0x86ae55[_0x496d29(0x415)](_0x496d29(0x658),startDrag),_0x86ae55[_0x496d29(0x415)]('mousemove',drag),_0x86ae55[_0x496d29(0x415)]('mouseup',endDrag),_0x86ae55[_0x496d29(0x415)]('mouseleave',endDrag),_0x86ae55[_0x496d29(0x415)]('touchstart',startDrag,{'passive':![]}),_0x86ae55['addEventListener']('touchmove',drag,{'passive':![]}),_0x86ae55[_0x496d29(0x415)](_0x496d29(0x692),endDrag),_0x86ae55[_0x496d29(0x415)]('touchcancel',endDrag),_0x86ae55[_0x496d29(0x415)](_0x496d29(0x502),handleSvgEditClick);}}if(_0x2cf583)_0x2cf583['focus']();}else{_0x5041e0[_0x496d29(0x729)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x5041e0[_0x496d29(0x2df)]=_0x496d29(0x582);if(_0x2cf583){_0x2cf583[_0x496d29(0x66f)]=![];const _0x558806=_0x55a8c5[_0x496d29(0x1f7)]||currentQuizData[_0x496d29(0x844)];_0x558806===_0x496d29(0x791)?_0x55a8c5[_0x496d29(0x2fb)]=_0x2cf583[_0x496d29(0x5ed)]['substring'](_0x2cf583[_0x496d29(0x5ed)][_0x496d29(0x50c)]('.')+0x2)[_0x496d29(0x175)]():_0x55a8c5[_0x496d29(0x801)]=_0x2cf583[_0x496d29(0x5ed)][_0x496d29(0x320)](_0x2cf583[_0x496d29(0x5ed)]['indexOf']('.')+0x2)[_0x496d29(0x175)]();}_0x323db1&&(_0x323db1['contentEditable']=![],_0x55a8c5[_0x496d29(0x46d)]=_0x323db1[_0x496d29(0x5ed)]);if(_0xa54387){const _0x3d8c37=_0xa54387[_0x496d29(0x271)](_0x496d29(0x812));if(_0x3d8c37){const _0x23669b=_0x3d8c37[_0x496d29(0x3af)](!![]);_0x23669b[_0x496d29(0x7b0)](_0x496d29(0x70d))[_0x496d29(0x1f4)](_0x21adb5=>_0x21adb5[_0x496d29(0x817)]()),_0x23669b[_0x496d29(0x7b0)](_0x496d29(0x8b6))[_0x496d29(0x1f4)](_0x168a11=>{const _0x5df209=_0x496d29;_0x168a11[_0x5df209(0x28d)]['remove'](_0x5df209(0x2d6)),_0x168a11[_0x5df209(0x152)]['cursor']=_0x5df209(0x815),_0x168a11[_0x5df209(0x3c4)]('id');}),_0x55a8c5[_0x496d29(0x3aa)]=_0x23669b[_0x496d29(0x547)],_0x3d8c37[_0x496d29(0x5e9)](_0x496d29(0x658),startDrag),_0x3d8c37[_0x496d29(0x5e9)](_0x496d29(0x3d5),drag),_0x3d8c37[_0x496d29(0x5e9)](_0x496d29(0x758),endDrag),_0x3d8c37[_0x496d29(0x5e9)](_0x496d29(0x2b3),endDrag),_0x3d8c37[_0x496d29(0x5e9)](_0x496d29(0x16f),startDrag),_0x3d8c37['removeEventListener'](_0x496d29(0x204),drag),_0x3d8c37['removeEventListener'](_0x496d29(0x692),endDrag),_0x3d8c37[_0x496d29(0x5e9)](_0x496d29(0x3e5),endDrag),_0x3d8c37[_0x496d29(0x5e9)](_0x496d29(0x502),handleSvgEditClick),_0x3d8c37[_0x496d29(0x7b0)](_0x496d29(0x70d))[_0x496d29(0x1f4)](_0x492a96=>_0x492a96[_0x496d29(0x817)]()),_0x3d8c37['querySelectorAll'](_0x496d29(0x8b6))[_0x496d29(0x1f4)](_0x24202b=>{const _0x358ce2=_0x496d29;_0x24202b[_0x358ce2(0x28d)][_0x358ce2(0x817)](_0x358ce2(0x2d6)),_0x24202b['style'][_0x358ce2(0x55a)]=_0x358ce2(0x815);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x445dd1){const _0x1adede=_0x3cb14f,_0x13a80e=document[_0x1adede(0x2d1)]('quiz-editor-modal'),_0x25489c=document['getElementById'](_0x1adede(0x615));_0x25489c[_0x1adede(0x729)]=_0x1adede(0x232),_0x13a80e[_0x1adede(0x28d)][_0x1adede(0x817)](_0x1adede(0x28c));try{const _0x198367=doc(db,'artifacts/'+appId+_0x1adede(0x4f0),_0x445dd1),_0xc4ca15=await getDoc(_0x198367);if(!_0xc4ca15['exists']())throw new Error(_0x1adede(0x6a2));currentEditingQuizData={'id':_0x445dd1,..._0xc4ca15[_0x1adede(0x1bc)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3fe429){console[_0x1adede(0x8ae)](_0x1adede(0x4b4),_0x3fe429),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x13a80e[_0x1adede(0x28d)][_0x1adede(0x7c9)](_0x1adede(0x28c));}}function renderQuizEditor(_0x29cc37){const _0x5285a4=_0x3cb14f;document[_0x5285a4(0x2d1)](_0x5285a4(0x576))[_0x5285a4(0x327)]=_0x29cc37[_0x5285a4(0x367)];const _0x3ea96a=document['getElementById']('quiz-editor-questions-container');let _0x4524bc=_0x29cc37[_0x5285a4(0x4e9)][_0x5285a4(0x3ea)]((_0x5d669d,_0x36895e)=>{const _0x11c95a=_0x5285a4;let _0x4119cf='';const _0x20242f=_0x5d669d['questionType']||_0x29cc37['quizType'];switch(_0x20242f){case _0x11c95a(0x4ae):const _0x4f90f3=(_0x5d669d[_0x11c95a(0x430)]||[])[_0x11c95a(0x3ea)]((_0x1b4495,_0x170ad1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x36895e+_0x11c95a(0x50e)+_0x170ad1+'\x22\x20'+(_0x170ad1===_0x5d669d[_0x11c95a(0x541)]?'checked':'')+_0x11c95a(0x4f5)+_0x1b4495+_0x11c95a(0x75f))[_0x11c95a(0x551)]('');_0x4119cf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x4f90f3+_0x11c95a(0x478);break;case _0x11c95a(0x33a):_0x4119cf=_0x11c95a(0x213)+(_0x5d669d['idealAnswer']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x11c95a(0x5a8):_0x4119cf=_0x11c95a(0x189)+_0x36895e+_0x11c95a(0x26e)+(_0x5d669d[_0x11c95a(0x893)]===!![]?_0x11c95a(0x7bd):'')+_0x11c95a(0x422)+_0x36895e+_0x11c95a(0x550)+(_0x5d669d[_0x11c95a(0x893)]===![]?_0x11c95a(0x7bd):'')+_0x11c95a(0x579);break;case _0x11c95a(0x791):_0x4119cf=_0x11c95a(0x209)+(_0x5d669d[_0x11c95a(0x210)]||'')+_0x11c95a(0x8a7);break;}const _0x1aabae=_0x5d669d[_0x11c95a(0x801)]||_0x5d669d[_0x11c95a(0x2fb)]||'';return _0x11c95a(0x39b)+_0x36895e+_0x11c95a(0x732)+_0x20242f+_0x11c95a(0x5d5)+(_0x36895e+0x1)+'\x20('+_0x20242f+_0x11c95a(0x5ba)+_0x1aabae+_0x11c95a(0x52c)+_0x4119cf+_0x11c95a(0x5ee);})[_0x5285a4(0x551)]('');_0x3ea96a[_0x5285a4(0x729)]=_0x4524bc;}async function handleSaveChanges(){const _0x287f94=_0x3cb14f,_0x4ab581=document[_0x287f94(0x2d1)](_0x287f94(0x312));_0x4ab581[_0x287f94(0x5ab)]=!![],_0x4ab581[_0x287f94(0x729)]=_0x287f94(0x83a);try{const _0x4af32b=document['getElementById'](_0x287f94(0x576))[_0x287f94(0x327)],_0x26df47=document[_0x287f94(0x7b0)]('.question-editor-item');let _0x2d66fb=[];const _0x1687ee=Array[_0x287f94(0x5cb)](_0x26df47)[_0x287f94(0x3ea)]((_0x2fffb0,_0x5fc2be)=>{const _0x1f9cda=_0x287f94,_0x21785c=_0x2fffb0[_0x1f9cda(0x202)][_0x1f9cda(0x56e)],_0xc1619a=_0x2fffb0[_0x1f9cda(0x271)](_0x1f9cda(0x655))[_0x1f9cda(0x327)];let _0x49e062={'questionType':_0x21785c};const _0x18e2dd=currentEditingQuizData['questions'][_0x5fc2be];switch(_0x21785c){case'multiple_choice':_0x49e062[_0x1f9cda(0x801)]=_0xc1619a;const _0x3f9c6d=_0x2fffb0[_0x1f9cda(0x7b0)](_0x1f9cda(0x3a9));_0x49e062[_0x1f9cda(0x430)]=Array['from'](_0x3f9c6d)[_0x1f9cda(0x3ea)](_0x1926b1=>_0x1926b1[_0x1f9cda(0x327)]);const _0x2e6c96=_0x2fffb0[_0x1f9cda(0x271)](_0x1f9cda(0x66d));_0x49e062[_0x1f9cda(0x541)]=_0x2e6c96?parseInt(_0x2e6c96[_0x1f9cda(0x327)]):0x0;break;case'short_answer':_0x49e062[_0x1f9cda(0x801)]=_0xc1619a,_0x49e062['idealAnswer']=_0x2fffb0[_0x1f9cda(0x271)]('.ideal-answer-input')['value'];break;case _0x1f9cda(0x5a8):_0x49e062[_0x1f9cda(0x801)]=_0xc1619a;const _0x11b5c2=_0x2fffb0['querySelector'](_0x1f9cda(0x66d));_0x49e062['correctAnswer']=_0x11b5c2?_0x11b5c2[_0x1f9cda(0x327)]===_0x1f9cda(0x466):!![];break;case _0x1f9cda(0x791):_0x49e062['stem']=_0xc1619a;const _0x2f1443=_0x2fffb0['querySelector'](_0x1f9cda(0x81b));_0x49e062[_0x1f9cda(0x210)]=_0x2f1443?_0x2f1443['value']:'',_0x2d66fb[_0x1f9cda(0x49f)](_0x49e062['correctResponse']);break;default:_0x49e062['questionText']=_0xc1619a;break;}return{..._0x18e2dd,..._0x49e062};});_0x2d66fb[_0x287f94(0x1d7)]>0x0&&_0x1687ee[_0x287f94(0x1f4)](_0xc45463=>{const _0x37145e=_0x287f94;_0xc45463[_0x37145e(0x1f7)]===_0x37145e(0x791)&&(_0xc45463[_0x37145e(0x496)]=_0x2d66fb);});const _0x1cdd39=currentEditingQuizData['id'],_0xf19571=doc(db,_0x287f94(0x477)+appId+_0x287f94(0x4f0),_0x1cdd39);await updateDoc(_0xf19571,{'topic':_0x4af32b,'questions':_0x1687ee}),showMessage('บันทึกการแก้ไขสำเร็จ'),document[_0x287f94(0x2d1)](_0x287f94(0x527))[_0x287f94(0x28d)][_0x287f94(0x7c9)](_0x287f94(0x28c)),showConfirmation(_0x287f94(0x4d5),()=>initiateReGradeProcess(_0x1cdd39)),document['getElementById'](_0x287f94(0x583))[_0x287f94(0x271)]('h3')[_0x287f94(0x6ca)]=_0x287f94(0x7da),document[_0x287f94(0x2d1)](_0x287f94(0x469))[_0x287f94(0x6ca)]=_0x287f94(0x2ac);}catch(_0x6339c2){console[_0x287f94(0x8ae)]('Error\x20saving\x20quiz\x20edits:',_0x6339c2),showMessage(_0x287f94(0x2a2));}finally{_0x4ab581[_0x287f94(0x5ab)]=![],_0x4ab581[_0x287f94(0x729)]=_0x287f94(0x148);}}async function initiateReGradeProcess(_0xeb34dc){const _0xe929ed=_0x3cb14f;showMessage(_0xe929ed(0x34b));try{const _0x1b384e=doc(db,_0xe929ed(0x477)+appId+_0xe929ed(0x4f0),_0xeb34dc),_0x40d167=await getDoc(_0x1b384e);if(!_0x40d167[_0xe929ed(0x1cf)]())throw new Error(_0xe929ed(0x877));const _0x525b11={'id':_0xeb34dc,..._0x40d167['data']()},_0x552806=collection(db,'artifacts/'+appId+_0xe929ed(0x4f0),_0xeb34dc,_0xe929ed(0x62d)),_0x162110=await getDocs(_0x552806);if(_0x162110[_0xe929ed(0x880)]){showMessage(_0xe929ed(0x170));return;}const _0x286f5f=_0x162110[_0xe929ed(0x521)][_0xe929ed(0x3ea)](_0x10b496=>reGradeSingleSubmission(_0x10b496,_0x525b11));await Promise['all'](_0x286f5f);if(_0x525b11[_0xe929ed(0x215)]){const _0x1bba04=doc(db,_0xe929ed(0x477)+appId+_0xe929ed(0x159),_0x525b11[_0xe929ed(0x215)]),_0x4829aa=await getDoc(_0x1bba04);if(_0x4829aa['exists']()&&_0x4829aa[_0xe929ed(0x1bc)]()['students']){const _0x346004=_0x4829aa[_0xe929ed(0x1bc)]()[_0xe929ed(0x84c)]['map'](_0x51acc2=>updateStudentProfile(_0x525b11[_0xe929ed(0x215)],_0x51acc2));await Promise['all'](_0x346004);}}showMessage(_0xe929ed(0x3e9)+_0x162110['size']+_0xe929ed(0x665));}catch(_0x175688){console[_0xe929ed(0x8ae)]('Re-grade\x20process\x20failed:',_0x175688),showMessage(_0xe929ed(0x23a)+_0x175688['message']);}}async function reGradeSingleSubmission(_0x2f82da,_0xa758b3){const _0x28d0fc=_0x3cb14f,_0x19b229=_0x2f82da['data'](),_0x1b3132=_0x19b229[_0x28d0fc(0x14f)],_0x3e5163=_0x19b229[_0x28d0fc(0x14c)]||[],_0x3d6daa=[];for(const _0x2b6920 of _0x3e5163){let _0xa657bc=0x0,_0x5bd163=[],_0x2b15da=0x0;const _0x46e286=[];for(const _0x55a189 of _0x2b6920[_0x28d0fc(0x619)]){const _0x5de3c2=_0xa758b3[_0x28d0fc(0x4e9)]['find'](_0x1abd5f=>(_0x1abd5f[_0x28d0fc(0x801)]||_0x1abd5f[_0x28d0fc(0x2fb)])===_0x55a189['originalQuestionText']);let _0x2bc774=![];if(_0x5de3c2){const _0x4f5638=_0x5de3c2[_0x28d0fc(0x1f7)]||_0xa758b3[_0x28d0fc(0x844)];switch(_0x4f5638){case _0x28d0fc(0x4ae):if(_0x5de3c2[_0x28d0fc(0x430)]&&_0x5de3c2['correctAnswerIndex']<_0x5de3c2['options'][_0x28d0fc(0x1d7)]){const _0x5b7a6f=_0x5de3c2[_0x28d0fc(0x430)][_0x5de3c2['correctAnswerIndex']];_0x2bc774=_0x55a189[_0x28d0fc(0x7e0)]===_0x5b7a6f;}break;case _0x28d0fc(0x5a8):const _0x56f495=_0x55a189['answer']===!![]||_0x55a189['answer']==='true';_0x2bc774=_0x56f495===_0x5de3c2[_0x28d0fc(0x893)];break;case _0x28d0fc(0x791):_0x2bc774=_0x55a189['answer']===_0x5de3c2[_0x28d0fc(0x210)];break;case _0x28d0fc(0x33a):_0x2bc774=await gradeShortAnswer(_0x55a189[_0x28d0fc(0x41d)],_0x5de3c2);break;default:_0x2bc774=_0x55a189['isCorrect'];break;}}if(_0x2bc774){_0xa657bc++,_0x2b15da++;if(_0x2b15da===0x3)_0x5bd163[_0x28d0fc(0x49f)](BADGES[_0x28d0fc(0x621)]['id']);}else _0x2b15da=0x0;_0x46e286[_0x28d0fc(0x49f)]({..._0x55a189,'isCorrect':_0x2bc774});}let _0x30565e=_0xa657bc*0xa;_0xa657bc===_0xa758b3[_0x28d0fc(0x4e9)][_0x28d0fc(0x1d7)]&&(_0x30565e+=0x32,_0x5bd163['push'](BADGES['PERFECT_SCORE']['id'])),_0x3d6daa[_0x28d0fc(0x49f)]({..._0x2b6920,'score':_0xa657bc,'points':_0x30565e,'badges':Array[_0x28d0fc(0x5cb)](new Set(_0x5bd163)),'answers':_0x46e286});}const _0x10d67c=_0x3d6daa['length']>0x0?_0x3d6daa[0x0]['score']:0x0,_0x5b6172=Math[_0x28d0fc(0x137)](..._0x3d6daa[_0x28d0fc(0x3ea)](_0x4802d3=>_0x4802d3[_0x28d0fc(0x8a6)])),_0x583406=_0x3d6daa[_0x28d0fc(0x1d7)]>0x0?_0x3d6daa[_0x3d6daa[_0x28d0fc(0x1d7)]-0x1]['score']:0x0,_0x5bf107=_0x3d6daa[_0x28d0fc(0x1d7)]>0x0?_0x3d6daa[_0x3d6daa['length']-0x1][_0x28d0fc(0x55c)]:0x0,_0xf6393a=doc(db,_0x28d0fc(0x477)+appId+'/public/data/quizzes/'+_0xa758b3['id']+_0x28d0fc(0x740),_0x1b3132);await updateDoc(_0xf6393a,{'attempts':_0x3d6daa,'firstScore':_0x10d67c,'bestScore':_0x5b6172,'latestScore':_0x583406,'points':_0x5bf107});}function cleanupQuizOptions(_0x1ed5ef){const _0x56e1f8=_0x3cb14f,_0x7d2570=(_0x2d4fbb,_0x2dbd87)=>_0x2dbd87===0x0?_0x2d4fbb:_0x7d2570(_0x2dbd87,_0x2d4fbb%_0x2dbd87),_0x59b3a1=_0x4b54f4=>{const _0x180cff=_0x4478;if(typeof _0x4b54f4!==_0x180cff(0x1d4))return null;_0x4b54f4=_0x4b54f4[_0x180cff(0x175)]();const _0x424132=_0x4b54f4['split'](/[ /]/)[_0x180cff(0x255)](_0x556e4a=>_0x556e4a!=='');if(_0x424132[_0x180cff(0x1d7)]===0x3)return parseInt(_0x424132[0x0])+parseInt(_0x424132[0x1])/parseInt(_0x424132[0x2]);else{if(_0x424132[_0x180cff(0x1d7)]===0x2)return parseInt(_0x424132[0x0])/parseInt(_0x424132[0x1]);else{if(_0x424132[_0x180cff(0x1d7)]===0x1&&!isNaN(_0x424132[0x0]))return parseFloat(_0x424132[0x0]);}}return null;},_0x15410f=_0xfdb024=>{const _0x48acbe=_0x4478;if(typeof _0xfdb024!=='string')return _0xfdb024;const _0x390596=_0xfdb024['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x390596){const _0xb1a203=parseInt(_0x390596[0x1]);let _0x5ef436=parseInt(_0x390596[0x2]),_0x29c721=parseInt(_0x390596[0x3]);const _0x559714=_0x7d2570(_0x5ef436,_0x29c721);_0x5ef436/=_0x559714,_0x29c721/=_0x559714;if(_0x29c721===0x1)return(_0xb1a203+_0x5ef436)[_0x48acbe(0x73c)]();return _0xb1a203+'\x20'+_0x5ef436+'/'+_0x29c721;}return _0xfdb024;};return _0x1ed5ef&&_0x1ed5ef[_0x56e1f8(0x4e9)]&&_0x1ed5ef[_0x56e1f8(0x4e9)][_0x56e1f8(0x1f4)](_0x4da519=>{const _0x721080=_0x56e1f8;if(_0x4da519[_0x721080(0x1f7)]===_0x721080(0x4ae)&&_0x4da519[_0x721080(0x430)]){const _0x34828d=new Map(),_0x55d046=_0x4da519[_0x721080(0x430)][_0x4da519['correctAnswerIndex']];_0x4da519[_0x721080(0x430)]['forEach'](_0x534c78=>{const _0x21478c=_0x721080,_0x43cd56=_0x15410f(_0x534c78),_0x33641f=_0x59b3a1(_0x43cd56);_0x33641f!==null&&!_0x34828d[_0x21478c(0x326)](_0x33641f)&&_0x34828d[_0x21478c(0x140)](_0x33641f,_0x43cd56);}),_0x4da519[_0x721080(0x430)]=Array[_0x721080(0x5cb)](_0x34828d[_0x721080(0x31f)]());const _0x3d504f=_0x4da519[_0x721080(0x430)]['findIndex'](_0x30120c=>_0x30120c===_0x15410f(_0x55d046));_0x4da519[_0x721080(0x541)]=_0x3d504f!==-0x1?_0x3d504f:0x0;}}),_0x1ed5ef;}async function saveQuiz(){const _0x2f740e=_0x3cb14f;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2f740e(0x4e9)]||!userId){showMessage(_0x2f740e(0x22f));return;}const _0x3fd40a=document[_0x2f740e(0x2d1)](_0x2f740e(0x59c));_0x3fd40a[_0x2f740e(0x5ab)]=!![],_0x3fd40a['innerHTML']=_0x2f740e(0x83a);const _0x2562c5=document['getElementById'](_0x2f740e(0x303))['checked'];let _0x3dd23b=document[_0x2f740e(0x2d1)](_0x2f740e(0x2bd))['innerText'][_0x2f740e(0x175)]();_0x2562c5&&!_0x3dd23b[_0x2f740e(0x46b)]('(ก่อนเรียน)')&&(_0x3dd23b=_0x2f740e(0x368)+_0x3dd23b);try{const _0x387f3e={'resultsDisplay':document[_0x2f740e(0x2d1)](_0x2f740e(0x337))[_0x2f740e(0x327)],'shuffle':document[_0x2f740e(0x2d1)](_0x2f740e(0x85d))[_0x2f740e(0x327)],'timerMode':document[_0x2f740e(0x2d1)]('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x2f740e(0x2d1)](_0x2f740e(0x198))[_0x2f740e(0x327)])||0xa,'passingScore':parseInt(document[_0x2f740e(0x2d1)](_0x2f740e(0x2ad))[_0x2f740e(0x327)])||0x0,'isAdaptive':document[_0x2f740e(0x2d1)](_0x2f740e(0x637))['checked'],'loopUntilPass':document[_0x2f740e(0x2d1)](_0x2f740e(0x256))['checked']},_0x26f6fd=(currentQuizData[_0x2f740e(0x4e9)]||[])['map'](_0x3f497c=>{const _0xd0d31f=_0x2f740e,_0x38d68b=document[_0xd0d31f(0x2d1)]('quiz-type-select')['value'],_0xf481fc={'questionText':_0x3f497c['questionText']||'','explanation':_0x3f497c['explanation']||_0xd0d31f(0x2ab),'questionType':_0x3f497c[_0xd0d31f(0x1f7)]||_0x38d68b,'imageCode':_0x3f497c[_0xd0d31f(0x3aa)]||null};return(_0xf481fc['questionType']===_0xd0d31f(0x4ae)||_0xf481fc[_0xd0d31f(0x1f7)]===_0xd0d31f(0x721)||_0xf481fc[_0xd0d31f(0x1f7)]===_0xd0d31f(0x610)&&_0x3f497c[_0xd0d31f(0x430)])&&(_0xf481fc['options']=_0x3f497c[_0xd0d31f(0x430)]||[],_0xf481fc[_0xd0d31f(0x541)]=_0x3f497c['correctAnswerIndex']!==undefined?_0x3f497c['correctAnswerIndex']:0x0),(_0xf481fc[_0xd0d31f(0x1f7)]===_0xd0d31f(0x33a)||_0xf481fc[_0xd0d31f(0x1f7)]===_0xd0d31f(0x49a)||_0xf481fc[_0xd0d31f(0x1f7)]===_0xd0d31f(0x610)&&_0x3f497c[_0xd0d31f(0x76f)])&&(_0xf481fc[_0xd0d31f(0x76f)]=_0x3f497c[_0xd0d31f(0x76f)]||''),_0xf481fc[_0xd0d31f(0x1f7)]==='true_false'&&(_0xf481fc[_0xd0d31f(0x893)]=_0x3f497c[_0xd0d31f(0x893)]===!![]),_0xf481fc[_0xd0d31f(0x1f7)]===_0xd0d31f(0x791)&&(_0xf481fc[_0xd0d31f(0x2fb)]=_0x3f497c[_0xd0d31f(0x2fb)]||'',_0xf481fc[_0xd0d31f(0x210)]=_0x3f497c[_0xd0d31f(0x210)]||'',_0xf481fc[_0xd0d31f(0x496)]=_0x3f497c[_0xd0d31f(0x496)]||[]),_0xf481fc;}),_0xe3796={'topic':_0x3dd23b,'quizType':currentQuizData[_0x2f740e(0x844)]||_0x2f740e(0x4ae),'questions':_0x26f6fd,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2f740e(0x82f)](),'status':_0x2f740e(0x302),'settings':_0x387f3e,'quizMode':_0x2562c5?'pre-test':_0x2f740e(0x71e),'pairedQuizId':null,'lessonPlan':null};let _0x525583;while(!![]){_0x525583=Math[_0x2f740e(0x249)](0x3e8+Math[_0x2f740e(0x2cb)]()*0x2328)['toString']();const _0x3c2fd7=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x525583));if(!_0x3c2fd7[_0x2f740e(0x1cf)]())break;}await setDoc(doc(db,_0x2f740e(0x477)+appId+'/public/data/quizzes',_0x525583),_0xe3796),currentQuizData[_0x2f740e(0x1d2)]=_0x387f3e,currentQuizData['id']=_0x525583;const _0x52bcef=document[_0x2f740e(0x2d1)]('generated-quiz-actions');_0x52bcef['innerHTML']=_0x2f740e(0x33e)+_0x525583+_0x2f740e(0x258),document['getElementById']('copy-quiz-id-btn')[_0x2f740e(0x415)](_0x2f740e(0x502),()=>copyTextToClipboard(_0x525583,_0x2f740e(0x765))),document[_0x2f740e(0x2d1)](_0x2f740e(0x24b))['addEventListener'](_0x2f740e(0x502),()=>handleStartLiveRace(_0x525583)),document[_0x2f740e(0x2d1)](_0x2f740e(0x596))['addEventListener'](_0x2f740e(0x502),()=>startPresentation(currentQuizData)),document[_0x2f740e(0x2d1)](_0x2f740e(0x377))[_0x2f740e(0x415)](_0x2f740e(0x502),startAdminTest),showMessage(_0x2f740e(0x6d2));}catch(_0x298d74){console['error']('Error\x20saving\x20quiz:',_0x298d74),showMessage(_0x2f740e(0x294)),_0x3fd40a[_0x2f740e(0x5ab)]=![],_0x3fd40a[_0x2f740e(0x729)]=_0x2f740e(0x16d);}}function promptForProjectAndSave(){const _0x483563=_0x3cb14f,_0x2c21a8=document[_0x483563(0x2d1)](_0x483563(0x814)),_0x27728b=document[_0x483563(0x2d1)](_0x483563(0x24f)),_0x51bbdd=_0x2c21a8[_0x483563(0x271)]('h3'),_0x35f6f2=document['getElementById'](_0x483563(0x69e));_0x51bbdd[_0x483563(0x6ca)]=_0x483563(0x7eb),_0x35f6f2[_0x483563(0x6ca)]=_0x483563(0x1b3);allProjects['length']===0x0?(_0x27728b[_0x483563(0x729)]=_0x483563(0x428),_0x35f6f2[_0x483563(0x5ab)]=!![]):(_0x27728b[_0x483563(0x729)]=allProjects['map'](_0x112136=>_0x483563(0x3a8)+_0x112136['id']+'\x22>'+_0x112136['projectName']+'</option>')[_0x483563(0x551)](''),_0x35f6f2[_0x483563(0x5ab)]=![]);_0x2c21a8['classList'][_0x483563(0x817)](_0x483563(0x28c));const _0x5577a2=()=>{const _0xb6999f=_0x483563,_0x2c64d6=_0x27728b[_0xb6999f(0x327)];_0x2c64d6?(currentProjectId=_0x2c64d6,_0x2c21a8[_0xb6999f(0x28d)][_0xb6999f(0x7c9)](_0xb6999f(0x28c)),saveQuiz(),_0x51bbdd[_0xb6999f(0x6ca)]=_0xb6999f(0x7c1),_0x35f6f2[_0xb6999f(0x6ca)]=_0xb6999f(0x370),_0x35f6f2[_0xb6999f(0x5e9)](_0xb6999f(0x502),_0x5577a2),_0x35f6f2[_0xb6999f(0x415)](_0xb6999f(0x502),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x35f6f2[_0x483563(0x5e9)]('click',confirmMoveQuiz),_0x35f6f2[_0x483563(0x415)](_0x483563(0x502),_0x5577a2);}function copyTextToClipboard(_0x135159,_0x3dccd7){const _0x10ead7=_0x3cb14f,_0x7019cc=document['createElement'](_0x10ead7(0x655));_0x7019cc[_0x10ead7(0x327)]=_0x135159,_0x7019cc[_0x10ead7(0x152)]['position']='fixed',_0x7019cc[_0x10ead7(0x152)][_0x10ead7(0x216)]='0',document['body'][_0x10ead7(0x4b2)](_0x7019cc),_0x7019cc[_0x10ead7(0x414)](),_0x7019cc[_0x10ead7(0x657)]();try{const _0x1b6de5=document[_0x10ead7(0x857)](_0x10ead7(0x453));showMessage(_0x1b6de5?_0x3dccd7:_0x10ead7(0x838));}catch(_0x10b5a1){showMessage(_0x10ead7(0x838)),console[_0x10ead7(0x8ae)]('Copy\x20command\x20failed',_0x10b5a1);}document['body'][_0x10ead7(0x7fd)](_0x7019cc);}function listenForProjectQuizzes(_0x363a12){const _0x5be871=_0x3cb14f,_0x2d9b15=collection(db,'artifacts/'+appId+_0x5be871(0x4f0)),_0x47ef50=query(_0x2d9b15,where(_0x5be871(0x215),'==',_0x363a12));unsubscribeQuizzesListener=onSnapshot(_0x47ef50,async _0x1c285=>{const _0x5201c4=_0x5be871;allQuizzes=_0x1c285[_0x5201c4(0x521)][_0x5201c4(0x3ea)](_0x31bca9=>({'id':_0x31bca9['id'],..._0x31bca9['data']()})),renderQuizzes();},_0x5e216d=>{const _0x5a5511=_0x5be871;console['error']('Error\x20fetching\x20project\x20quizzes:',_0x5e216d),document['getElementById'](_0x5a5511(0x67f))[_0x5a5511(0x729)]=_0x5a5511(0x89c);});}async function renderQuizzes(){const _0x2c3f48=_0x3cb14f,_0x85074f=document[_0x2c3f48(0x2d1)](_0x2c3f48(0x67f)),_0x143a2c=document[_0x2c3f48(0x2d1)](_0x2c3f48(0x21f))[_0x2c3f48(0x327)][_0x2c3f48(0x671)]();let _0x56e23b;currentProjectId===_0x2c3f48(0x491)?_0x56e23b=starredQuizzes:_0x56e23b=allQuizzes;let _0x16a05e=_0x56e23b[_0x2c3f48(0x255)](_0x5e966b=>_0x5e966b['topic'][_0x2c3f48(0x671)]()['includes'](_0x143a2c));_0x16a05e[_0x2c3f48(0x19b)]((_0x458a20,_0x4bc145)=>new Date(_0x4bc145[_0x2c3f48(0x48e)])-new Date(_0x458a20[_0x2c3f48(0x48e)]));if(_0x16a05e[_0x2c3f48(0x1d7)]===0x0){_0x85074f[_0x2c3f48(0x729)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x2e24fb={},_0x267474=_0x16a05e['map'](async _0x20c801=>{const _0x49dfad=_0x2c3f48,_0x434b57=collection(db,_0x49dfad(0x477)+appId+'/public/data/quizzes/'+_0x20c801['id']+'/submissions'),_0xd5e4a5=await getDocs(_0x434b57);_0x2e24fb[_0x20c801['id']]=_0xd5e4a5[_0x49dfad(0x4e2)];});await Promise[_0x2c3f48(0x4fa)](_0x267474);let _0x2d514b='';_0x16a05e[_0x2c3f48(0x1f4)](_0x2c87bc=>{const _0x53875b=_0x2c3f48,_0x5ca6c7=_0x2e24fb[_0x2c87bc['id']]||0x0,_0x3c5d75=_0x2c87bc[_0x53875b(0x682)]||'active',_0x415910=_0x2c87bc[_0x53875b(0x1d2)]?.[_0x53875b(0x897)]||_0x53875b(0x124);let _0x4702f4='',_0x5438b3='';const _0xa490e8=new Date();let _0x55ae0d=_0x3c5d75;if(_0x3c5d75===_0x53875b(0x6a1)){const _0x2a461c=_0x2c87bc[_0x53875b(0x2c6)]?new Date(_0x2c87bc[_0x53875b(0x2c6)]):null,_0x404012=_0x2c87bc[_0x53875b(0x569)]?new Date(_0x2c87bc[_0x53875b(0x569)]):null;if(_0x404012&&_0xa490e8>_0x404012)_0x55ae0d=_0x53875b(0x1de);else _0x2a461c&&_0xa490e8<_0x2a461c?_0x55ae0d='scheduled_pending':_0x55ae0d=_0x53875b(0x302);}switch(_0x55ae0d){case _0x53875b(0x1de):_0x4702f4='ปิดใช้งาน',_0x5438b3=_0x53875b(0x433);break;case _0x53875b(0x77a):_0x4702f4=_0x53875b(0x6cc),_0x5438b3=_0x53875b(0x7d5);break;case _0x53875b(0x302):_0x4702f4=_0x415910!=='none'?_0x53875b(0x4c0):_0x53875b(0x675),_0x5438b3=_0x53875b(0x663);break;default:_0x4702f4='ตั้งเวลา\x20(เปิด)',_0x5438b3=_0x53875b(0x663);break;}let _0x309e6a='';const _0x4ecb40={'day':_0x53875b(0x47c),'month':_0x53875b(0x47c),'year':_0x53875b(0x7dc),'hour':_0x53875b(0x47c),'minute':'2-digit','hour12':![]};if(_0x3c5d75==='scheduled'){if(_0x2c87bc[_0x53875b(0x2c6)])_0x309e6a+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x2c87bc[_0x53875b(0x2c6)])[_0x53875b(0x5c2)](_0x53875b(0x197),_0x4ecb40)+'</p>';if(_0x2c87bc[_0x53875b(0x569)])_0x309e6a+=_0x53875b(0x2a3)+new Date(_0x2c87bc['endTime'])['toLocaleString']('th-TH',_0x4ecb40)+_0x53875b(0x709);}let _0x56fe1b='';if(_0x2c87bc['pairedQuizId']){const _0x56fbca=allQuizzes[_0x53875b(0x1cc)](_0x4de274=>_0x4de274['id']===_0x2c87bc[_0x53875b(0x338)]);if(_0x56fbca){let _0xcd808e,_0x160044;new Date(_0x2c87bc['createdAt'])<new Date(_0x56fbca[_0x53875b(0x48e)])?(_0xcd808e=_0x2c87bc['id'],_0x160044=_0x56fbca['id']):(_0xcd808e=_0x56fbca['id'],_0x160044=_0x2c87bc['id']),_0x56fe1b+=_0x53875b(0x379)+_0x160044+'\x22\x20data-pre-test-id=\x22'+_0xcd808e+_0x53875b(0x43c);}}else _0x2c87bc[_0x53875b(0x7ba)]===_0x53875b(0x3d9)&&(_0x56fe1b+=_0x53875b(0x374)+_0x2c87bc['id']+_0x53875b(0x165));if(_0x2c87bc[_0x53875b(0x7ba)]===_0x53875b(0x3d9)&&_0x5ca6c7>0x0)_0x56fe1b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c87bc['id']+_0x53875b(0x225);else!_0x2c87bc[_0x53875b(0x338)]&&_0x2c87bc[_0x53875b(0x7ba)]!==_0x53875b(0x3d9)&&_0x5ca6c7>0x0&&(_0x56fe1b+=_0x53875b(0x374)+_0x2c87bc['id']+_0x53875b(0x8a9));let _0x695ee6='';_0x2c87bc[_0x53875b(0x338)]?_0x695ee6=_0x53875b(0x1e5)+_0x2c87bc['id']+_0x53875b(0x74a):_0x695ee6=_0x53875b(0x1e5)+_0x2c87bc['id']+_0x53875b(0x712),_0x2d514b+=_0x53875b(0x2d3)+_0x2c87bc['id']+_0x53875b(0x328)+_0x2c87bc[_0x53875b(0x367)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x2c87bc[_0x53875b(0x4e9)]['length']+_0x53875b(0x138)+new Date(_0x2c87bc[_0x53875b(0x48e)])['toLocaleString'](_0x53875b(0x197))+_0x53875b(0x37c)+_0x5ca6c7+_0x53875b(0x494)+_0x309e6a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x5438b3+'\x22>'+_0x4702f4+_0x53875b(0x83b)+_0x2c87bc['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c87bc['id']+_0x53875b(0x694)+(_0x2c87bc['isStarred']?'fas\x20fa-star\x20text-yellow-500':_0x53875b(0x5bc))+_0x53875b(0x727)+_0x56fe1b+_0x53875b(0x239)+_0x2c87bc['id']+_0x53875b(0x16a)+_0x2c87bc['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c87bc['id']+_0x53875b(0x41e)+_0x2c87bc['id']+_0x53875b(0x1f8)+_0x2c87bc['id']+_0x53875b(0x12a)+_0x2c87bc['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c87bc['id']+'\x22\x20data-topic=\x22'+_0x2c87bc[_0x53875b(0x367)]+_0x53875b(0x53b)+_0x2c87bc['id']+_0x53875b(0x604)+_0x2c87bc['id']+_0x53875b(0x6bd)+_0x695ee6+_0x53875b(0x768)+_0x2c87bc['id']+_0x53875b(0x278)+_0x2c87bc['id']+_0x53875b(0x1bd)+_0x2c87bc['id']+_0x53875b(0x24e)+_0x2c87bc['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2c87bc['id']+_0x53875b(0x7fe)+_0x2c87bc[_0x53875b(0x367)]+_0x53875b(0x4fc);}),_0x85074f[_0x2c3f48(0x729)]=_0x2d514b,document[_0x2c3f48(0x7b0)](_0x2c3f48(0x301))[_0x2c3f48(0x1f4)](_0x173f46=>{const _0x1a08e6=_0x2c3f48;_0x173f46[_0x1a08e6(0x415)]('click',()=>{const _0x143b09=_0x1a08e6,_0x1494fb=_0x173f46[_0x143b09(0x202)][_0x143b09(0x3c6)];showQuizDetailView(_0x1494fb);});});}async function handleUnpairQuiz(_0x549294){const _0x511c50=_0x3cb14f,_0x23a45a=allQuizzes[_0x511c50(0x1cc)](_0x116d11=>_0x116d11['id']===_0x549294);if(!_0x23a45a||!_0x23a45a['pairedQuizId']){showMessage(_0x511c50(0x6f3));return;}showConfirmation(_0x511c50(0x7f3),async()=>{const _0x30bf74=_0x511c50;try{const _0x59bdbb=doc(db,_0x30bf74(0x477)+appId+_0x30bf74(0x4f0),_0x549294),_0x1cd989=doc(db,_0x30bf74(0x477)+appId+'/public/data/quizzes',_0x23a45a[_0x30bf74(0x338)]),_0x442cdb=writeBatch(db);_0x442cdb['update'](_0x59bdbb,{'pairedQuizId':null}),_0x442cdb['update'](_0x1cd989,{'pairedQuizId':null}),await _0x442cdb['commit'](),showMessage(_0x30bf74(0x319));}catch(_0x4c3826){console['error'](_0x30bf74(0x31d),_0x4c3826),showMessage(_0x30bf74(0x794));}});}function formatAndPrintLessonPlan(_0x296fc5,_0x5ae1c8){const _0x41ff69=_0x3cb14f,_0x418c33=window['open']('',_0x41ff69(0x507)),_0x5f4b33=_0x41ff69(0x1cb)+_0x5ae1c8[_0x41ff69(0x367)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x5ae1c8[_0x41ff69(0x367)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x296fc5[_0x41ff69(0x4df)]['map'](_0x339f52=>_0x41ff69(0x344)+_0x339f52+_0x41ff69(0x731))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x296fc5[_0x41ff69(0x898)]+_0x41ff69(0x797)+_0x296fc5[_0x41ff69(0x5df)][_0x41ff69(0x3ea)](_0x3c2b84=>_0x41ff69(0x42c)+_0x3c2b84[_0x41ff69(0x7b4)]+_0x41ff69(0x873)+_0x3c2b84[_0x41ff69(0x57e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x41ff69(0x74c);_0x418c33[_0x41ff69(0x6db)][_0x41ff69(0x4b9)](_0x5f4b33),_0x418c33['document'][_0x41ff69(0x870)](),_0x418c33[_0x41ff69(0x1ce)]=function(){setTimeout(()=>{const _0x2b8a86=_0x4478;_0x418c33[_0x2b8a86(0x401)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x3eadda){const _0x1db411=_0x3cb14f;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x265b2d=doc(db,_0x1db411(0x477)+appId+'/public/data/quizzes',_0x3eadda),_0x2161b4=await getDoc(_0x265b2d);if(!_0x2161b4[_0x1db411(0x1cf)]())throw new Error(_0x1db411(0x877));const _0x2ae8e4={'id':_0x3eadda,..._0x2161b4[_0x1db411(0x1bc)]()},_0x36f8c4=collection(db,'artifacts/'+appId+_0x1db411(0x4f0),_0x3eadda,_0x1db411(0x62d)),_0x2d5be1=await getDocs(_0x36f8c4),_0x51f5c2=_0x2d5be1[_0x1db411(0x521)][_0x1db411(0x3ea)](_0xb7b440=>_0xb7b440[_0x1db411(0x1bc)]());if(_0x51f5c2['length']===0x0)throw new Error(_0x1db411(0x633));const _0x2728b9=calculateItemAnalysis(_0x2ae8e4,_0x51f5c2)['perQuestionStats'],_0x50dcdd=calculateDistractorAnalysis(_0x2ae8e4,_0x51f5c2),_0x58cb69=_0x1d3aa9=>{const _0x539745=_0x1db411;if(!_0x1d3aa9)return'';return _0x1d3aa9[_0x539745(0x774)](/\\/g,'\x5c\x5c')[_0x539745(0x774)](/"/g,'\x5c\x22')[_0x539745(0x774)](/\n/g,'\x5cn');};let _0x332039='สรุปผลการวิเคราะห์:\x5cn';_0x2ae8e4[_0x1db411(0x4e9)][_0x1db411(0x1f4)]((_0x2afcc2,_0x2af666)=>{const _0x2a46fc=_0x1db411,_0x3fc991=_0x2728b9[_0x2af666]?.['p'][_0x2a46fc(0x843)](0x2)||_0x2a46fc(0x554),_0x224537=_0x2728b9[_0x2af666]?.['r'][_0x2a46fc(0x843)](0x2)||_0x2a46fc(0x554),_0x5c8373=_0x58cb69(_0x2afcc2[_0x2a46fc(0x801)]||_0x2afcc2[_0x2a46fc(0x2fb)]);_0x332039+=_0x2a46fc(0x262)+(_0x2af666+0x1)+_0x2a46fc(0x7a8)+_0x3fc991+_0x2a46fc(0x50f)+_0x224537+_0x2a46fc(0x42f)+_0x5c8373+'\x5cn';if(_0x2afcc2['questionType']===_0x2a46fc(0x4ae)&&_0x50dcdd[_0x2af666]){const _0x49b7fa=_0x50dcdd[_0x2af666],_0x227255=Object['keys'](_0x49b7fa)[_0x2a46fc(0x255)](_0x2bff55=>parseInt(_0x2bff55)!==_0x2afcc2[_0x2a46fc(0x541)])[_0x2a46fc(0x19b)]((_0x42ba7b,_0x203e55)=>_0x49b7fa[_0x203e55]['total']-_0x49b7fa[_0x42ba7b]['total'])[0x0];if(_0x227255&&_0x49b7fa[_0x227255][_0x2a46fc(0x5b4)]>0x0){const _0x385d67=_0x58cb69(_0x49b7fa[_0x227255][_0x2a46fc(0x77d)]);_0x332039+=_0x2a46fc(0x67a)+_0x385d67+_0x2a46fc(0x19e);}}});const _0x2b2c87=_0x1db411(0x7a2)+_0x2ae8e4[_0x1db411(0x367)]+_0x1db411(0x3e1)+_0x332039+_0x1db411(0x185),_0x57ad33={'type':_0x1db411(0x193),'properties':{'learningGaps':{'type':_0x1db411(0x586),'items':{'type':_0x1db411(0x364)}},'teachingContent':{'type':_0x1db411(0x364)},'practiceProblems':{'type':_0x1db411(0x586),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':_0x1db411(0x364)}}}}},'required':[_0x1db411(0x4df),'teachingContent',_0x1db411(0x5df)]},_0xaf8553=await callAnalysisApi(_0x2b2c87,_0x57ad33);await updateDoc(_0x265b2d,{'lessonPlan':_0xaf8553});const _0x59b327=_0x1db411(0x5bf)+_0x2ae8e4['topic']+_0x1db411(0x172)+_0xaf8553[_0x1db411(0x4df)][_0x1db411(0x3ea)](_0xe03262=>_0x1db411(0x344)+_0xe03262+_0x1db411(0x731))['join']('')+_0x1db411(0x8b4)+_0xaf8553[_0x1db411(0x898)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xaf8553['practiceProblems'][_0x1db411(0x3ea)](_0x1b17f3=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x1b17f3[_0x1db411(0x7b4)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x1b17f3[_0x1db411(0x57e)]+_0x1db411(0x7cc))[_0x1db411(0x551)]('')+_0x1db411(0x136);document[_0x1db411(0x2d1)](_0x1db411(0x7a5))[_0x1db411(0x6ca)]=_0x1db411(0x79b)+_0x2ae8e4[_0x1db411(0x367)],document[_0x1db411(0x2d1)](_0x1db411(0x56f))[_0x1db411(0x729)]=_0x59b327,document[_0x1db411(0x2d1)](_0x1db411(0x384))[_0x1db411(0x28d)]['remove'](_0x1db411(0x28c));if(window[_0x1db411(0x6e1)])MathJax[_0x1db411(0x8a4)]();messageModal[_0x1db411(0x28d)][_0x1db411(0x7c9)]('hidden');}catch(_0x1f35cc){console[_0x1db411(0x8ae)](_0x1db411(0x1b1),_0x1f35cc),showMessage(_0x1db411(0x693)+_0x1f35cc[_0x1db411(0x372)]);}}async function handleDuplicateQuiz(_0x586afd){const _0x336f47=_0x3cb14f;try{const _0x4583c5=doc(db,'artifacts/'+appId+_0x336f47(0x4f0),_0x586afd),_0x3429f6=await getDoc(_0x4583c5);if(_0x3429f6[_0x336f47(0x1cf)]()){const _0x5ccd8a=_0x3429f6[_0x336f47(0x1bc)]();let _0x21f01a='',_0x2528b2='standard',_0xe9782a=null;if(_0x5ccd8a['quizMode']==='pre-test'){let _0x15f626=_0x5ccd8a[_0x336f47(0x367)][_0x336f47(0x774)]('(ก่อนเรียน)','')[_0x336f47(0x175)]();_0x21f01a='(หลังเรียน)\x20'+_0x15f626,_0x2528b2=_0x336f47(0x3e6),_0xe9782a=_0x586afd;}else _0x21f01a=_0x336f47(0x88e)+_0x5ccd8a[_0x336f47(0x367)];const _0x5456e1={..._0x5ccd8a,'topic':_0x21f01a,'createdAt':new Date()[_0x336f47(0x82f)](),'quizMode':_0x2528b2,'pairedQuizId':_0xe9782a};let _0x37bdf2;while(!![]){_0x37bdf2=Math[_0x336f47(0x249)](0x3e8+Math[_0x336f47(0x2cb)]()*0x2328)[_0x336f47(0x73c)]();const _0x290d0d=await getDoc(doc(db,_0x336f47(0x477)+appId+_0x336f47(0x4f0),_0x37bdf2));if(!_0x290d0d['exists']())break;}const _0xbc6c09=doc(db,_0x336f47(0x477)+appId+'/public/data/quizzes',_0x37bdf2);await setDoc(_0xbc6c09,_0x5456e1),_0x5456e1[_0x336f47(0x7ba)]==='post-test'&&await updateDoc(_0x4583c5,{'pairedQuizId':_0x37bdf2}),showMessage(_0x336f47(0x7f2));}else throw new Error(_0x336f47(0x899));}catch(_0x30f9cf){console['error'](_0x336f47(0x475),_0x30f9cf),showMessage(_0x336f47(0x77e));}}async function handleDeleteQuiz(_0x530113,_0x2b666b=!![]){const _0x4caad7=_0x3cb14f;try{const _0x353297=writeBatch(db),_0x5d6419=collection(db,_0x4caad7(0x477)+appId+_0x4caad7(0x36d)+_0x530113+_0x4caad7(0x740)),_0x3bf995=await getDocs(_0x5d6419);_0x3bf995['forEach'](_0x550124=>{const _0x1cc88c=_0x4caad7;_0x353297[_0x1cc88c(0x17c)](doc(_0x5d6419,_0x550124['id']));});const _0x23de85=doc(db,_0x4caad7(0x477)+appId+_0x4caad7(0x4f0),_0x530113);_0x353297[_0x4caad7(0x17c)](_0x23de85),await _0x353297[_0x4caad7(0x3cf)](),_0x2b666b&&showMessage(_0x4caad7(0x483));}catch(_0x399d5f){console[_0x4caad7(0x8ae)](_0x4caad7(0x55e),_0x399d5f),_0x2b666b&&showMessage(_0x4caad7(0x11e));}}async function showQuizDetailView(_0x4b4dc9){const _0x3164ad=_0x3cb14f;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3164ad(0x3d2));try{const _0x5e78d6=doc(db,_0x3164ad(0x477)+appId+_0x3164ad(0x4f0),_0x4b4dc9),_0x2d7e04=await getDoc(_0x5e78d6);if(!_0x2d7e04['exists']()){showMessage(_0x3164ad(0x877));return;}const _0x23f8fa={'id':_0x2d7e04['id'],..._0x2d7e04[_0x3164ad(0x1bc)]()};currentQuizData=_0x23f8fa;const _0x19022f=doc(db,_0x3164ad(0x477)+appId+'/public/data/projects',_0x23f8fa['projectId']),_0x3faec0=await getDoc(_0x19022f);_0x3faec0[_0x3164ad(0x1cf)]()?(currentProjectData=_0x3faec0['data'](),currentProjectId=_0x23f8fa['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x23f8fa[_0x3164ad(0x215)]);document['getElementById'](_0x3164ad(0x673))[_0x3164ad(0x6ca)]=_0x23f8fa['topic'],document[_0x3164ad(0x2d1)](_0x3164ad(0x7db))[_0x3164ad(0x6ca)]=_0x4b4dc9;const _0x5cca1f=collection(db,_0x3164ad(0x477)+appId+_0x3164ad(0x4f0),_0x4b4dc9,_0x3164ad(0x62d));unsubscribeSubmissionsListener=onSnapshot(_0x5cca1f,_0x2f22ee=>{const _0x48d421=_0x3164ad,_0x490d4d=_0x2f22ee[_0x48d421(0x521)][_0x48d421(0x3ea)](_0x173b51=>({'id':_0x173b51['id'],..._0x173b51[_0x48d421(0x1bc)]()}));currentSubmissions=_0x490d4d,renderBehaviorLog(_0x490d4d),renderAnswerGrid(currentProjectData[_0x48d421(0x84c)],_0x490d4d,_0x23f8fa),renderAnalytics(_0x23f8fa,_0x490d4d),renderQuizResultsTable(currentProjectData[_0x48d421(0x84c)],_0x490d4d,_0x23f8fa),renderQuizLeaderboard(_0x490d4d,_0x23f8fa,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x37c280){console['error']('Error\x20showing\x20quiz\x20detail\x20view:',_0x37c280),showMessage(_0x3164ad(0x5a0));}}function renderAnswerGrid(_0x80917e,_0x25e2a9,_0x3e60b8){const _0x578ba0=_0x3cb14f,_0x1b2492=document[_0x578ba0(0x2d1)](_0x578ba0(0x513));if(!_0x1b2492)return;if(!_0x80917e||_0x80917e[_0x578ba0(0x1d7)]===0x0){_0x1b2492['innerHTML']=_0x578ba0(0x706);return;}const _0x1a2704=_0x3e60b8[_0x578ba0(0x4e9)],_0x45a9e0=_0x25e2a9[_0x578ba0(0x5ce)]((_0x398f14,_0xb2fef)=>{return _0x398f14[_0xb2fef['studentName']]=_0xb2fef,_0x398f14;},{}),_0x5b399=_0x88250c=>String['fromCharCode'](0x41+_0x88250c),_0x5c19ea=_0x59c19f=>{const _0x1bb152=_0x578ba0,_0x8e36c9=_0x59c19f['questionType']||_0x3e60b8[_0x1bb152(0x844)];switch(_0x8e36c9){case'multiple_choice':return _0x59c19f[_0x1bb152(0x430)]&&_0x59c19f[_0x1bb152(0x430)][_0x1bb152(0x1d7)]>_0x59c19f[_0x1bb152(0x541)]?_0x5b399(_0x59c19f[_0x1bb152(0x541)]):'-';case _0x1bb152(0x5a8):return _0x59c19f[_0x1bb152(0x893)]?_0x1bb152(0x6b4):_0x1bb152(0x399);case _0x1bb152(0x791):return _0x59c19f['correctResponse']||'-';case _0x1bb152(0x33a):return'พิมพ์ตอบ';default:return'-';}},_0x40a6bc=(_0x5e6082,_0x4d7c7c)=>{const _0x1041cb=_0x578ba0;if(_0x4d7c7c[_0x1041cb(0x41d)]===null||_0x4d7c7c['answer']===undefined)return'-';const _0x547a01=_0x5e6082['questionType']||_0x3e60b8[_0x1041cb(0x844)];switch(_0x547a01){case'multiple_choice':const _0x1fcf56=_0x5e6082[_0x1041cb(0x430)][_0x1041cb(0x217)](_0x4f2ae4=>_0x4f2ae4===_0x4d7c7c[_0x1041cb(0x7e0)]);return _0x1fcf56!==-0x1?_0x5b399(_0x1fcf56):_0x4d7c7c[_0x1041cb(0x7e0)]||'-';case'true_false':return _0x4d7c7c['answer']===_0x1041cb(0x466)||_0x4d7c7c[_0x1041cb(0x41d)]===!![]?_0x1041cb(0x6b4):_0x1041cb(0x399);default:return _0x4d7c7c[_0x1041cb(0x41d)];}};let _0x2b4958='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a2704[_0x578ba0(0x3ea)]((_0xf1f62f,_0x6f3c1d)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x6f3c1d+0x1)+_0x578ba0(0x594))[_0x578ba0(0x551)]('')+_0x578ba0(0x21c)+_0x1a2704[_0x578ba0(0x3ea)](_0x305cfe=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x5c19ea(_0x305cfe)+_0x578ba0(0x6bb))[_0x578ba0(0x551)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x80917e[_0x578ba0(0x1f4)](_0x478ad3=>{const _0x1631af=_0x578ba0;_0x2b4958+=_0x1631af(0x44a),_0x2b4958+=_0x1631af(0x669)+_0x478ad3+_0x1631af(0x6bb);const _0x4b7d5b=_0x45a9e0[_0x478ad3];if(_0x4b7d5b){const _0x49f72b=_0x4b7d5b[_0x1631af(0x14c)][_0x4b7d5b['attempts'][_0x1631af(0x1d7)]-0x1];_0x1a2704[_0x1631af(0x1f4)]((_0x2b0181,_0x2b0b8b)=>{const _0x19361e=_0x1631af,_0x19012e=_0x49f72b[_0x19361e(0x619)][_0x19361e(0x1cc)](_0x589e54=>_0x589e54[_0x19361e(0x845)]===(_0x2b0181[_0x19361e(0x2fb)]||_0x2b0181['questionText']));if(_0x19012e){let _0x56b7a6=![];const _0x56a239=_0x2b0181['questionType']||_0x3e60b8['quizType'];if(_0x19012e[_0x19361e(0x41d)]!==null&&_0x19012e[_0x19361e(0x41d)]!==undefined)switch(_0x56a239){case _0x19361e(0x4ae):const _0x4451a9=_0x2b0181['options'][_0x2b0181[_0x19361e(0x541)]];_0x56b7a6=_0x19012e[_0x19361e(0x7e0)]===_0x4451a9;break;case'true_false':const _0x471cfc=_0x19012e[_0x19361e(0x41d)]===!![]||_0x19012e[_0x19361e(0x41d)]==='true';_0x56b7a6=_0x471cfc===_0x2b0181[_0x19361e(0x893)];break;case _0x19361e(0x791):_0x56b7a6=_0x19012e[_0x19361e(0x41d)]===_0x2b0181['correctResponse'];break;default:_0x56b7a6=_0x19012e[_0x19361e(0x64c)];break;}const _0x3dcd37=_0x56b7a6?_0x19361e(0x21a):_0x19361e(0x381);_0x2b4958+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x3dcd37+'\x22>'+_0x40a6bc(_0x2b0181,_0x19012e)+_0x19361e(0x6bb);}else _0x2b4958+=_0x19361e(0x3b8);});}else _0x2b4958+=_0x1a2704[_0x1631af(0x3ea)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')['join']('');_0x2b4958+=_0x1631af(0x151);}),_0x2b4958+=_0x578ba0(0x3de),_0x1b2492['innerHTML']=_0x2b4958;}function renderQuizResultsTable(_0x41f0c3,_0xbafc38,_0x41ab0e){const _0x173360=_0x3cb14f,_0x32ecbb=_0xbafc38[_0x173360(0x5ce)]((_0x38fa39,_0x10a50c)=>{const _0xdfd587=_0x173360;return _0x38fa39[_0x10a50c[_0xdfd587(0x14f)]]=_0x10a50c,_0x38fa39;},{}),_0x5dbd10=document[_0x173360(0x271)](_0x173360(0x212));_0x5dbd10&&!_0x5dbd10[_0x173360(0x729)][_0x173360(0x6a7)](_0x173360(0x2f2))&&(_0x5dbd10[_0x173360(0x729)]+=_0x173360(0x47d));const _0xdea3ed=document[_0x173360(0x2d1)]('quiz-results-table-body');if(!_0x41f0c3||_0x41f0c3[_0x173360(0x1d7)]===0x0){_0xdea3ed[_0x173360(0x729)]=_0x173360(0x5c5);return;}const _0x582d4e=_0x41ab0e[_0x173360(0x248)]===!![],_0x33e774=_0x41ab0e[_0x173360(0x1d2)]?.['passingScore']??-0x1;let _0x330587='';_0x41f0c3['forEach'](_0x30985a=>{const _0x539695=_0x173360,_0x356011=_0x32ecbb[_0x30985a];let _0x32207a=_0x539695(0x139),_0x3a63f9=_0x539695(0x6ae)+(_0x582d4e?'bg-amber-100\x20text-amber-800':_0x539695(0x6f8))+'\x22>'+(_0x582d4e?_0x539695(0x600):'สอบปกติ')+_0x539695(0x1a8);if(_0x356011){let _0x2a0bb9=_0x582d4e?_0x356011[_0x539695(0x736)]===_0x356011[_0x539695(0x516)]:_0x33e774!==-0x1&&_0x356011['bestScore']>=_0x33e774;if(_0x582d4e||_0x33e774!==-0x1){const _0x3727bd=_0x2a0bb9?_0x539695(0x872):_0x539695(0x728),_0x946f7b=_0x2a0bb9?_0x539695(0x7fb):_0x539695(0x5de);_0x32207a=_0x539695(0x4ce)+_0x3727bd+'\x22>'+_0x946f7b+_0x539695(0x1a8);}const _0x231b28=_0x539695(0x8b1)+(_0x356011[_0x539695(0x14c)]?.[_0x539695(0x1d7)]||0x1)+_0x539695(0x6b6);_0x330587+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x30985a+_0x539695(0x5b0)+_0x356011['bestScore']+_0x539695(0x850)+_0x356011['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32207a+_0x539695(0x438)+_0x3a63f9+_0x539695(0x38d)+_0x356011[_0x539695(0x6d5)]+_0x539695(0x850)+_0x356011['totalQuestions']+_0x539695(0x27b)+_0x356011[_0x539695(0x5ea)]+'\x20/\x20'+_0x356011['totalQuestions']+_0x539695(0x70b)+(_0x356011['points']||0x0)+_0x539695(0x679)+_0x231b28+_0x539695(0x2bb)+new Date(_0x356011[_0x539695(0x18e)])[_0x539695(0x5c2)](_0x539695(0x197))+_0x539695(0x382)+_0x30985a+_0x539695(0x888);}else{const _0x3d481c='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x330587+=_0x539695(0x80b)+_0x30985a+_0x539695(0x23b)+_0x3a63f9+_0x539695(0x6ff)+_0x3d481c+_0x539695(0x762);}}),_0xdea3ed[_0x173360(0x729)]=_0x330587;}async function confirmRenameQuiz(){const _0x533cc7=_0x3cb14f,_0x103997=document['getElementById'](_0x533cc7(0x6af))[_0x533cc7(0x327)][_0x533cc7(0x175)]();if(!_0x103997){showMessage(_0x533cc7(0x251));return;}if(!actionTargetId)return;const _0x524da2=doc(db,_0x533cc7(0x477)+appId+_0x533cc7(0x4f0),actionTargetId);try{await updateDoc(_0x524da2,{'topic':_0x103997}),showMessage(_0x533cc7(0x511)),renameQuizModal['classList'][_0x533cc7(0x7c9)](_0x533cc7(0x28c)),actionTargetId=null;}catch(_0x267eef){console[_0x533cc7(0x8ae)](_0x533cc7(0x51c),_0x267eef),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x2dbd83){const _0x4a7b53=_0x3cb14f;actionTargetId=_0x2dbd83;const _0x43330e=document[_0x4a7b53(0x2d1)]('move-quiz-project-select');_0x43330e[_0x4a7b53(0x729)]=_0x4a7b53(0x49c),moveQuizModal[_0x4a7b53(0x28d)][_0x4a7b53(0x817)](_0x4a7b53(0x28c));try{const _0x2bef97=collection(db,_0x4a7b53(0x477)+appId+'/public/data/projects'),_0x13acc5=await getDocs(_0x2bef97),_0x1e4c89=_0x13acc5[_0x4a7b53(0x521)]['map'](_0x20282e=>({'id':_0x20282e['id'],..._0x20282e[_0x4a7b53(0x1bc)]()})),_0x33da68=_0x1e4c89[_0x4a7b53(0x255)](_0x5564be=>_0x5564be['id']!==currentProjectId);if(_0x33da68[_0x4a7b53(0x1d7)]===0x0){_0x43330e[_0x4a7b53(0x729)]=_0x4a7b53(0x552),document[_0x4a7b53(0x2d1)](_0x4a7b53(0x69e))['disabled']=!![];return;}_0x43330e['innerHTML']=_0x33da68[_0x4a7b53(0x3ea)](_0x5b9235=>'<option\x20value=\x22'+_0x5b9235['id']+'\x22>'+_0x5b9235['projectName']+_0x4a7b53(0x434))[_0x4a7b53(0x551)](''),document[_0x4a7b53(0x2d1)]('confirm-move-quiz-btn')[_0x4a7b53(0x5ab)]=![];}catch(_0xa14a8d){console['error'](_0x4a7b53(0x14d),_0xa14a8d),showMessage(_0x4a7b53(0x28a)),moveQuizModal[_0x4a7b53(0x28d)][_0x4a7b53(0x7c9)](_0x4a7b53(0x28c));}}async function confirmMoveQuiz(){const _0x191fa9=_0x3cb14f,_0x506e56=document['getElementById'](_0x191fa9(0x24f))[_0x191fa9(0x327)];if(!_0x506e56){showMessage(_0x191fa9(0x515));return;}if(!actionTargetId)return;const _0x513792=doc(db,_0x191fa9(0x477)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x513792,{'projectId':_0x506e56}),showMessage(_0x191fa9(0x387)),moveQuizModal[_0x191fa9(0x28d)][_0x191fa9(0x7c9)](_0x191fa9(0x28c)),actionTargetId=null;}catch(_0x454414){console[_0x191fa9(0x8ae)](_0x191fa9(0x1a1),_0x454414),showMessage(_0x191fa9(0x158));}}async function handleQuizSettings(_0x46f941){const _0x12d55b=_0x3cb14f;actionTargetId=_0x46f941;const _0x4739dc=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x46f941);try{const _0x16d6ee=await getDoc(_0x4739dc);if(_0x16d6ee['exists']()){const _0x52b1c2=_0x16d6ee[_0x12d55b(0x1bc)](),_0x24499b=_0x52b1c2[_0x12d55b(0x1d2)]||{},_0x53a1d8=_0x52b1c2[_0x12d55b(0x4e9)]['length'];document[_0x12d55b(0x2d1)](_0x12d55b(0x427))[_0x12d55b(0x327)]=_0x24499b['shuffle']||_0x12d55b(0x124),document[_0x12d55b(0x2d1)](_0x12d55b(0x6da))['value']=_0x24499b[_0x12d55b(0x17b)]||_0x12d55b(0x896),document[_0x12d55b(0x2d1)](_0x12d55b(0x716))[_0x12d55b(0x327)]=_0x24499b[_0x12d55b(0x897)]||'none',document['getElementById'](_0x12d55b(0x787))[_0x12d55b(0x327)]=_0x24499b[_0x12d55b(0x4c9)]||0xa,document[_0x12d55b(0x2d1)](_0x12d55b(0x535))[_0x12d55b(0x327)]=_0x24499b[_0x12d55b(0x6f7)]||Math[_0x12d55b(0x249)](_0x53a1d8/0x2),document[_0x12d55b(0x2d1)](_0x12d55b(0x535))[_0x12d55b(0x137)]=_0x53a1d8,document[_0x12d55b(0x2d1)](_0x12d55b(0x205))[_0x12d55b(0x7bd)]=_0x24499b[_0x12d55b(0x238)]||![],document[_0x12d55b(0x2d1)](_0x12d55b(0x47f))['checked']=_0x24499b[_0x12d55b(0x250)]||![],document['getElementById'](_0x12d55b(0x716))[_0x12d55b(0x324)](new Event(_0x12d55b(0x133))),quizSettingsModal[_0x12d55b(0x28d)]['remove'](_0x12d55b(0x28c));}else showMessage(_0x12d55b(0x877));}catch(_0x237097){console[_0x12d55b(0x8ae)](_0x12d55b(0x263),_0x237097),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x147c8f=_0x3cb14f;if(!actionTargetId)return;const _0x398d55=doc(db,_0x147c8f(0x477)+appId+'/public/data/quizzes',actionTargetId),_0x281260={'shuffle':document['getElementById'](_0x147c8f(0x427))[_0x147c8f(0x327)],'resultsDisplay':document[_0x147c8f(0x2d1)](_0x147c8f(0x6da))[_0x147c8f(0x327)],'timerMode':document['getElementById'](_0x147c8f(0x716))['value'],'timerDuration':parseInt(document['getElementById'](_0x147c8f(0x787))[_0x147c8f(0x327)])||0xa,'passingScore':parseInt(document[_0x147c8f(0x2d1)](_0x147c8f(0x535))[_0x147c8f(0x327)])||0x0,'passingScore':parseInt(document[_0x147c8f(0x2d1)](_0x147c8f(0x535))[_0x147c8f(0x327)])||0x0,'isAdaptive':document[_0x147c8f(0x2d1)]('modal-adaptive-quiz-checkbox')[_0x147c8f(0x7bd)],'loopUntilPass':document[_0x147c8f(0x2d1)](_0x147c8f(0x47f))[_0x147c8f(0x7bd)]};try{await updateDoc(_0x398d55,{'settings':_0x281260}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x147c8f(0x7c9)](_0x147c8f(0x28c)),actionTargetId=null;}catch(_0xca707a){console[_0x147c8f(0x8ae)](_0x147c8f(0x87f),_0xca707a),showMessage(_0x147c8f(0x2a2));}}async function handleQuizStatus(_0x5d3409){const _0x549d69=_0x3cb14f;actionTargetId=_0x5d3409;const _0x5707ae=doc(db,_0x549d69(0x477)+appId+'/public/data/quizzes',_0x5d3409);try{const _0x77158b=await getDoc(_0x5707ae);if(_0x77158b['exists']()){const _0x32d693=_0x77158b[_0x549d69(0x1bc)](),_0x284610=_0x32d693[_0x549d69(0x682)]||_0x549d69(0x302),_0x55492d=document['getElementById'](_0x549d69(0x77b)),_0x5ee5ec=document[_0x549d69(0x2d1)](_0x549d69(0x708)),_0x33fffc=document['getElementById'](_0x549d69(0x4b1));let _0x466a2f=_0x549d69(0x5dd)+(_0x284610===_0x549d69(0x302)?'checked':'')+_0x549d69(0x365)+(_0x284610===_0x549d69(0x1de)?'checked':'')+_0x549d69(0x245)+(_0x284610===_0x549d69(0x6a1)?'checked':'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x55492d['innerHTML']=_0x466a2f;const _0x153764=_0x284610===_0x549d69(0x6a1);_0x5ee5ec[_0x549d69(0x28d)]['toggle'](_0x549d69(0x28c),!_0x153764),_0x33fffc[_0x549d69(0x28d)]['toggle'](_0x549d69(0x28c),!_0x153764),document['getElementById'](_0x549d69(0x606))['value']=_0x32d693[_0x549d69(0x2c6)]?_0x32d693[_0x549d69(0x2c6)]['substring'](0x0,0x10):'',document['getElementById'](_0x549d69(0x2a7))[_0x549d69(0x327)]=_0x32d693[_0x549d69(0x569)]?_0x32d693[_0x549d69(0x569)][_0x549d69(0x320)](0x0,0x10):'',_0x55492d[_0x549d69(0x7b0)](_0x549d69(0x1c1))[_0x549d69(0x1f4)](_0x1843ec=>{const _0x335360=_0x549d69;_0x1843ec[_0x335360(0x415)](_0x335360(0x133),_0x4c89da=>{const _0x51ef0e=_0x335360,_0x406505=_0x4c89da['target'][_0x51ef0e(0x327)]===_0x51ef0e(0x6ef);_0x5ee5ec['classList'][_0x51ef0e(0x6f4)](_0x51ef0e(0x28c),!_0x406505),_0x33fffc['classList']['toggle'](_0x51ef0e(0x28c),!_0x406505);});}),quizStatusModal[_0x549d69(0x28d)]['remove'](_0x549d69(0x28c));}}catch(_0x1b81af){console[_0x549d69(0x8ae)]('Error\x20fetching\x20quiz\x20status:',_0x1b81af),showMessage(_0x549d69(0x827));}}async function confirmQuizStatus(){const _0x29b173=_0x3cb14f;if(!actionTargetId)return;const _0xcf8657=doc(db,_0x29b173(0x477)+appId+'/public/data/quizzes',actionTargetId),_0x42791a=document[_0x29b173(0x271)](_0x29b173(0x5bd));if(!_0x42791a){showMessage(_0x29b173(0x20a));return;}const _0x21f054=_0x42791a[_0x29b173(0x327)];let _0x39776f={};if(_0x21f054===_0x29b173(0x302)||_0x21f054===_0x29b173(0x1de))_0x39776f={'status':_0x21f054,'startTime':null,'endTime':null};else{if(_0x21f054===_0x29b173(0x6ef)){const _0x98cfbd=document['getElementById']('quiz-start-time')[_0x29b173(0x327)],_0x713fa6=document[_0x29b173(0x2d1)]('quiz-end-time')[_0x29b173(0x327)];if(!_0x98cfbd&&!_0x713fa6){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x39776f={'status':_0x29b173(0x6a1),'startTime':_0x98cfbd?new Date(_0x98cfbd)['toISOString']():null,'endTime':_0x713fa6?new Date(_0x713fa6)[_0x29b173(0x82f)]():null};}}try{await updateDoc(_0xcf8657,_0x39776f),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x29b173(0x28d)][_0x29b173(0x7c9)](_0x29b173(0x28c)),actionTargetId=null;}catch(_0x12f057){console['error'](_0x29b173(0x3d1),_0x12f057),showMessage(_0x29b173(0x6e4));}}function listenForStudentProfiles(_0xfa4054){const _0x4bcc7c=_0x3cb14f,_0x5290ad=collection(db,_0x4bcc7c(0x477)+appId+_0x4bcc7c(0x356)+_0xfa4054+_0x4bcc7c(0x57c));unsubscribeStudentProfilesListener=onSnapshot(_0x5290ad,_0x4b5847=>{const _0xef9063=_0x4bcc7c,_0x4cc927=_0x4b5847[_0xef9063(0x521)][_0xef9063(0x3ea)](_0x46a835=>_0x46a835[_0xef9063(0x1bc)]());renderLeaderboard(_0x4cc927,'leaderboard-table-body');},_0x595b81=>{const _0x2e1117=_0x4bcc7c;console[_0x2e1117(0x8ae)](_0x2e1117(0x419),_0x595b81),document['getElementById'](_0x2e1117(0x49d))[_0x2e1117(0x729)]=_0x2e1117(0x4ca);});}function renderLeaderboard(_0x4ae6d5,_0xe96732){const _0x226424=_0x3cb14f,_0x24e06d=document['getElementById'](_0xe96732);if(!_0x4ae6d5||_0x4ae6d5['length']===0x0){_0x24e06d[_0x226424(0x729)]=_0x226424(0x484);return;}_0x4ae6d5[_0x226424(0x19b)]((_0x31a64b,_0x27be58)=>{const _0x201700=_0x226424,_0x243ec8=(_0x27be58['totalPoints']||0x0)-(_0x31a64b[_0x201700(0x2f0)]||0x0);if(_0x243ec8!==0x0)return _0x243ec8;const _0xc617bd=(_0x27be58['badgesCount']?.[_0x201700(0x684)]||0x0)-(_0x31a64b['badgesCount']?.[_0x201700(0x684)]||0x0);if(_0xc617bd!==0x0)return _0xc617bd;const _0x383513=(_0x27be58[_0x201700(0x756)]?.[_0x201700(0x244)]||0x0)-(_0x31a64b[_0x201700(0x756)]?.['first_try_ace']||0x0);if(_0x383513!==0x0)return _0x383513;const _0x36567e=(_0x27be58[_0x201700(0x756)]?.[_0x201700(0x614)]||0x0)-(_0x31a64b['badgesCount']?.[_0x201700(0x614)]||0x0);if(_0x36567e!==0x0)return _0x36567e;const _0x4e6205=(_0x27be58[_0x201700(0x756)]?.[_0x201700(0x481)]||0x0)-(_0x31a64b[_0x201700(0x756)]?.[_0x201700(0x481)]||0x0);if(_0x4e6205!==0x0)return _0x4e6205;return _0x31a64b['studentName']['localeCompare'](_0x27be58['studentName'],'th');});let _0x26a8ca='';_0x4ae6d5[_0x226424(0x1f4)]((_0x1b5644,_0x3e12d6)=>{const _0xfc1864=_0x226424,_0x48957b=_0x3e12d6+0x1,_0x38605e=_0x1b5644[_0xfc1864(0x756)]||{};let _0x42ca86='';const _0x5a1ecf=[_0xfc1864(0x684),_0xfc1864(0x614),'first_try_ace',_0xfc1864(0x481)];_0x5a1ecf['forEach'](_0x2afe72=>{const _0x5d679c=_0xfc1864;if(_0x38605e[_0x2afe72]>0x0){const _0x135427=Object[_0x5d679c(0x31f)](BADGES)[_0x5d679c(0x1cc)](_0x10f265=>_0x10f265['id']===_0x2afe72);_0x135427&&(_0x2afe72==='specialist'?_0x42ca86+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x135427[_0x5d679c(0x7e3)]+_0x5d679c(0x3f1)+_0x135427['icon']+_0x5d679c(0x4f7):_0x42ca86+=_0x5d679c(0x7ff)+_0x135427[_0x5d679c(0x7e3)]+'\x20('+_0x38605e[_0x2afe72]+_0x5d679c(0x524)+_0x135427[_0x5d679c(0x58d)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x38605e[_0x2afe72]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x26a8ca+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x48957b+_0xfc1864(0x333)+_0x1b5644[_0xfc1864(0x14f)]+_0xfc1864(0x7b2)+(_0x1b5644[_0xfc1864(0x2f0)]||0x0)+_0xfc1864(0x333)+(_0x42ca86||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x24e06d['innerHTML']=_0x26a8ca;}function displayLoopScreen(_0x22b069,_0x5a3b52,_0x385778){const _0xe0a309=_0x3cb14f;let _0x5af23b='';_0x385778!==_0xe0a309(0x1a9)&&(_0x5af23b='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x22b069+_0xe0a309(0x850)+_0x5a3b52+_0xe0a309(0x7b1));const _0x2fabf1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5af23b+_0xe0a309(0x5ec);studentResultArea[_0xe0a309(0x729)]=_0x2fabf1,studentResultArea['classList'][_0xe0a309(0x817)](_0xe0a309(0x28c)),studentQuizArea[_0xe0a309(0x28d)][_0xe0a309(0x7c9)]('hidden'),document[_0xe0a309(0x2d1)](_0xe0a309(0x332))[_0xe0a309(0x415)](_0xe0a309(0x502),()=>{const _0x39fa04=_0xe0a309;studentResultArea[_0x39fa04(0x28d)][_0x39fa04(0x7c9)](_0x39fa04(0x28c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x118a98,_0x20d5df,_0x2a21df){const _0x37dc6c=_0x3cb14f,_0x459e95=document[_0x37dc6c(0x2d1)](_0x2a21df),_0x41fe3f=_0x2a21df===_0x37dc6c(0x19f),_0x15d119=_0x20d5df[_0x37dc6c(0x4e9)][_0x37dc6c(0x1d7)],_0x43b93c=document[_0x37dc6c(0x2d1)](_0x2a21df)[_0x37dc6c(0x3d7)]('table');if(_0x43b93c&&!_0x41fe3f){const _0x1ddda9=_0x43b93c[_0x37dc6c(0x271)](_0x37dc6c(0x59d));_0x1ddda9['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x118a98||_0x118a98[_0x37dc6c(0x1d7)]===0x0){_0x459e95['innerHTML']=_0x37dc6c(0x7d8)+(_0x41fe3f?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x3ac06a=[..._0x118a98];_0x3ac06a[_0x37dc6c(0x19b)]((_0x4c93b6,_0x2e2b3e)=>{const _0x37f351=_0x37dc6c;let _0x421679,_0x37f5ff;switch(quizLeaderboardSortBy){case'studentName':_0x421679=_0x4c93b6[_0x37f351(0x14f)]||'',_0x37f5ff=_0x2e2b3e[_0x37f351(0x14f)]||'';return quizLeaderboardSortOrder==='asc'?_0x421679[_0x37f351(0x12e)](_0x37f5ff,'th'):_0x37f5ff['localeCompare'](_0x421679,'th');case _0x37f351(0x55c):_0x421679=_0x4c93b6[_0x37f351(0x55c)]||0x0,_0x37f5ff=_0x2e2b3e['points']||0x0;break;case _0x37f351(0x14c):_0x421679=_0x4c93b6[_0x37f351(0x14c)]?.[_0x37f351(0x1d7)]||0x1,_0x37f5ff=_0x2e2b3e[_0x37f351(0x14c)]?.[_0x37f351(0x1d7)]||0x1;break;case _0x37f351(0x18e):_0x421679=new Date(_0x4c93b6['latestSubmittedAt']),_0x37f5ff=new Date(_0x2e2b3e[_0x37f351(0x18e)]);break;case _0x37f351(0x736):default:_0x421679=_0x4c93b6['bestScore'],_0x37f5ff=_0x2e2b3e[_0x37f351(0x736)];break;}if(_0x421679<_0x37f5ff)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x421679>_0x37f5ff)return quizLeaderboardSortOrder===_0x37f351(0x77c)?0x1:-0x1;return 0x0;});const _0x536e31=_0x20d5df['isRemedial']===!![],_0xa01db4=_0x20d5df['settings']?.['passingScore']??-0x1;let _0x817b79='';_0x3ac06a[_0x37dc6c(0x1f4)]((_0x208428,_0x408604)=>{const _0x43ad2d=_0x37dc6c,_0x13f56d=_0x408604+0x1;let _0x4ea1e4=_0x43ad2d(0x879);if(_0x536e31||_0xa01db4!==-0x1){let _0x395876=_0x536e31?_0x208428['bestScore']===_0x15d119:_0x208428[_0x43ad2d(0x736)]>=_0xa01db4;const _0x15bcc2=_0x395876?_0x43ad2d(0x872):'bg-red-100\x20text-red-800',_0x40e109=_0x395876?_0x43ad2d(0x7fb):_0x43ad2d(0x5de);_0x4ea1e4=_0x43ad2d(0x4c1)+_0x15bcc2+'\x22>'+_0x40e109+_0x43ad2d(0x1a8);}const _0x2adf19=_0x208428[_0x43ad2d(0x14c)][_0x208428[_0x43ad2d(0x14c)][_0x43ad2d(0x1d7)]-0x1],_0x15ba2f=(_0x2adf19[_0x43ad2d(0x267)]||[])[_0x43ad2d(0x3ea)](_0x2bd35c=>{const _0xcfe072=_0x43ad2d,_0x3cfe45=Object[_0xcfe072(0x31f)](BADGES)[_0xcfe072(0x1cc)](_0x428085=>_0x428085['id']===_0x2bd35c);return _0x3cfe45?_0xcfe072(0x3ad)+_0x3cfe45[_0xcfe072(0x7e3)]+_0xcfe072(0x78e)+_0x3cfe45[_0xcfe072(0x58d)]+_0xcfe072(0x342):'';})['join']('');_0x817b79+=_0x43ad2d(0x32f)+_0x13f56d+_0x43ad2d(0x73d)+_0x208428['studentName']+_0x43ad2d(0x2d9)+_0x208428['bestScore']+'\x20/\x20'+_0x15d119+_0x43ad2d(0x8a0)+_0x4ea1e4+_0x43ad2d(0x777)+(_0x208428['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x41fe3f?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x208428[_0x43ad2d(0x14c)]?.[_0x43ad2d(0x1d7)]||0x1)+_0x43ad2d(0x6bb))+_0x43ad2d(0x62c)+(_0x41fe3f?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x208428['latestSubmittedAt'])[_0x43ad2d(0x5c2)](_0x43ad2d(0x197))+_0x43ad2d(0x6bb))+_0x43ad2d(0x717)+(_0x15ba2f||'-')+_0x43ad2d(0x260);}),_0x459e95[_0x37dc6c(0x729)]=_0x817b79,_0x43b93c&&!_0x41fe3f&&_0x43b93c['querySelectorAll'](_0x37dc6c(0x40c))['forEach'](_0x42169d=>{const _0xdc90ec=_0x37dc6c,_0xece26d=_0x42169d['querySelector'](_0xdc90ec(0x745));if(_0xece26d)_0xece26d[_0xdc90ec(0x817)]();_0x42169d[_0xdc90ec(0x202)][_0xdc90ec(0x19b)]===quizLeaderboardSortBy&&(_0x42169d[_0xdc90ec(0x729)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0xdc90ec(0x77c)?'▲':'▼')+_0xdc90ec(0x753));});}async function handleDeleteSubmission(_0x3510c0){const _0x279098=_0x3cb14f;if(!currentQuizData||!currentQuizData['id']||!_0x3510c0){showMessage(_0x279098(0x860));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x3510c0+_0x279098(0x449),async()=>{const _0x4e5ea5=_0x279098,_0x23fc09=currentQuizData['id'],_0x1ee2af=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x23fc09+_0x4e5ea5(0x740),_0x3510c0);try{await deleteDoc(_0x1ee2af),showMessage('ลบผลสอบของ\x20'+_0x3510c0+_0x4e5ea5(0x640));}catch(_0x9b8f0e){console[_0x4e5ea5(0x8ae)](_0x4e5ea5(0x62a),_0x9b8f0e),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x3058aa=_0x3cb14f,_0x4b68a1=document['getElementById'](_0x3058aa(0x25e)),_0x210303=_0x4b68a1[_0x3058aa(0x327)][_0x3058aa(0x175)]();if(!_0x210303){showMessage(_0x3058aa(0x24d));return;}loadQuizBtn[_0x3058aa(0x5ab)]=!![],loadQuizBtn[_0x3058aa(0x729)]=_0x3058aa(0x1aa);try{const _0x33e35f=doc(db,_0x3058aa(0x477)+appId+_0x3058aa(0x4f0),_0x210303),_0x5b2c0c=await getDoc(_0x33e35f);if(!_0x5b2c0c[_0x3058aa(0x1cf)]()){showMessage(_0x3058aa(0x14b));return;}currentQuizData={'id':_0x5b2c0c['id'],..._0x5b2c0c[_0x3058aa(0x1bc)]()};const _0xdd0204=currentQuizData[_0x3058aa(0x682)]||_0x3058aa(0x302),_0x4cb354=new Date();if(_0xdd0204===_0x3058aa(0x1de)){showMessage(_0x3058aa(0x1fa));return;}if(_0xdd0204===_0x3058aa(0x6a1)){const _0x32d9bc=currentQuizData[_0x3058aa(0x2c6)]?new Date(currentQuizData['startTime']):null,_0x399585=currentQuizData[_0x3058aa(0x569)]?new Date(currentQuizData['endTime']):null;if(_0x32d9bc&&_0x4cb354<_0x32d9bc){showMessage(_0x3058aa(0x534)+_0x32d9bc[_0x3058aa(0x5c2)]('th-TH',{'hour12':![]}));return;}if(_0x399585&&_0x4cb354>_0x399585){showMessage(_0x3058aa(0x11c));return;}}const _0x353187=currentQuizData['projectId'];currentProjectId=_0x353187;const _0x5c2cba=doc(db,_0x3058aa(0x477)+appId+'/public/data/projects',_0x353187),_0x3e3db2=await getDoc(_0x5c2cba);if(!_0x3e3db2[_0x3058aa(0x1cf)]()){showMessage(_0x3058aa(0x2d4));return;}const _0x20a5f2=_0x3e3db2[_0x3058aa(0x1bc)]();currentStudentProjectData=_0x20a5f2,displayStudentNameSelector(_0x20a5f2[_0x3058aa(0x84c)],currentQuizData[_0x3058aa(0x367)]);}catch(_0x11e96f){console[_0x3058aa(0x8ae)](_0x3058aa(0x648),_0x11e96f),showMessage(_0x3058aa(0x74e));}finally{loadQuizBtn[_0x3058aa(0x5ab)]=![],loadQuizBtn[_0x3058aa(0x729)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0xdaf665=_0x3cb14f,_0xdb25e1=document[_0xdaf665(0x2d1)](_0xdaf665(0x70a)),_0x8b8e04=document['getElementById']('nickname-input'),_0x45a8b0=document[_0xdaf665(0x2d1)](_0xdaf665(0x6e0)),_0x493e4e=_0xdb25e1[_0xdaf665(0x327)][_0xdaf665(0x175)](),_0x12a72b=_0x8b8e04['value']['trim']();if(!_0x493e4e||!_0x12a72b){showMessage(_0xdaf665(0x128));return;}_0x45a8b0['disabled']=!![],_0x45a8b0[_0xdaf665(0x729)]=_0xdaf665(0x315);try{const _0x52b49c=collection(db,_0xdaf665(0x477)+appId+'/public/data/liveGames'),_0x6a3578=query(_0x52b49c,where(_0xdaf665(0x612),'==',_0x493e4e),where(_0xdaf665(0x682),'==','lobby')),_0x168692=await getDocs(_0x6a3578);if(_0x168692[_0xdaf665(0x880)]){showMessage(_0xdaf665(0x3df));return;}const _0x53f744=_0x168692['docs'][0x0],_0x3cf5a7=_0x53f744[_0xdaf665(0x1bc)]();currentLiveGameId=_0x53f744['id'];const _0x323582=_0x3cf5a7['quizId'],_0x5629f9=doc(db,_0xdaf665(0x477)+appId+_0xdaf665(0x4f0),_0x323582),_0x3dfba6=await getDoc(_0x5629f9);if(!_0x3dfba6['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x3dfba6['id'],..._0x3dfba6[_0xdaf665(0x1bc)]()};if(_0x3cf5a7[_0xdaf665(0x4d7)]&&_0x3cf5a7[_0xdaf665(0x4d7)][_0x12a72b]){showMessage(_0xdaf665(0x3fc));return;}const _0x2ec78f={};_0x2ec78f['players.'+_0x12a72b]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0xdaf665(0x581),currentLiveGameId),_0x2ec78f),currentStudentName=_0x12a72b,listenForLiveGameUpdates();}catch(_0x1ed89a){console[_0xdaf665(0x8ae)](_0xdaf665(0x749),_0x1ed89a),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x45a8b0[_0xdaf665(0x5ab)]=![],_0x45a8b0['innerHTML']=_0xdaf665(0x764);}}function displayStudentNameSelector(_0x2eecc8,_0x36eda4){const _0x164af6=_0x3cb14f,_0x41120f=document[_0x164af6(0x2d1)](_0x164af6(0x7f7));document[_0x164af6(0x2d1)](_0x164af6(0x5fb))[_0x164af6(0x6ca)]=_0x164af6(0x6c9)+_0x36eda4,!_0x2eecc8||_0x2eecc8['length']===0x0?(_0x41120f[_0x164af6(0x729)]=_0x164af6(0x1fe),startQuizBtn[_0x164af6(0x5ab)]=!![]):(_0x41120f['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x2eecc8[_0x164af6(0x1f4)](_0x35220f=>{const _0x23f119=_0x164af6,_0x331039=document[_0x23f119(0x752)](_0x23f119(0x7dd));_0x331039['value']=_0x35220f,_0x331039[_0x23f119(0x6ca)]=_0x35220f,_0x41120f['appendChild'](_0x331039);}),startQuizBtn['disabled']=![]),studentInitialView[_0x164af6(0x28d)][_0x164af6(0x7c9)]('hidden'),studentNameSelectionView[_0x164af6(0x28d)]['remove']('hidden');}function shuffleArray(_0x6e5089){const _0xe97581=_0x3cb14f;for(let _0x9b9289=_0x6e5089[_0xe97581(0x1d7)]-0x1;_0x9b9289>0x0;_0x9b9289--){const _0xe9a271=Math[_0xe97581(0x249)](Math[_0xe97581(0x2cb)]()*(_0x9b9289+0x1));[_0x6e5089[_0x9b9289],_0x6e5089[_0xe9a271]]=[_0x6e5089[_0xe9a271],_0x6e5089[_0x9b9289]];}}function getShuffledQuiz(_0x2db63c){const _0x418151=_0x3cb14f;let _0x2737ec=JSON[_0x418151(0x18f)](JSON[_0x418151(0x881)](_0x2db63c));const _0x43d50d=_0x2737ec[_0x418151(0x1d2)]?.[_0x418151(0x6ac)]||'none';if(_0x43d50d===_0x418151(0x124))return _0x2737ec;return(_0x43d50d===_0x418151(0x4fb)||_0x43d50d===_0x418151(0x839))&&shuffleArray(_0x2737ec[_0x418151(0x4e9)]),(_0x43d50d==='choices_only'||_0x43d50d===_0x418151(0x839))&&_0x2737ec[_0x418151(0x4e9)]['forEach'](_0x211e8c=>{const _0x3e86d7=_0x418151,_0x200a25=_0x211e8c[_0x3e86d7(0x1f7)]||_0x2737ec[_0x3e86d7(0x844)];if(_0x211e8c[_0x3e86d7(0x430)]){let _0x34ad9f=_0x211e8c[_0x3e86d7(0x430)]['map']((_0x53f548,_0x4eefa9)=>({'text':_0x53f548,'isCorrect':_0x4eefa9===_0x211e8c['correctAnswerIndex']}));shuffleArray(_0x34ad9f),_0x211e8c[_0x3e86d7(0x430)]=_0x34ad9f[_0x3e86d7(0x3ea)](_0x270503=>_0x270503['text']),_0x211e8c['correctAnswerIndex']=_0x34ad9f[_0x3e86d7(0x217)](_0x2afebf=>_0x2afebf[_0x3e86d7(0x64c)]);}_0x200a25===_0x3e86d7(0x791)&&_0x211e8c[_0x3e86d7(0x496)]&&shuffleArray(_0x211e8c[_0x3e86d7(0x496)]);}),_0x2737ec;}function displayQuizForStudent(_0x1fde15){const _0x231d8c=_0x3cb14f;studentQuizArea[_0x231d8c(0x28d)][_0x231d8c(0x817)](_0x231d8c(0x28c)),currentDisplayedQuiz=getShuffledQuiz(_0x1fde15),isQuizActive=!![],cheatAttempts=0x0,document[_0x231d8c(0x415)](_0x231d8c(0x61c),handleFullscreenChange),enterFullscreen();const _0x438505=currentDisplayedQuiz[_0x231d8c(0x1d2)]?.['timerMode']||_0x231d8c(0x124);if(_0x438505===_0x231d8c(0x4c2))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x231d8c(0x1d2)][_0x231d8c(0x4c9)]);else _0x438505===_0x231d8c(0x5ca)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x18d640=_0x3cb14f;let _0x16fd1b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x18d640(0x367)]+_0x18d640(0x590)+(currentMode===_0x18d640(0x347)?_0x18d640(0x2b5):'')+_0x18d640(0x180);currentDisplayedQuiz[_0x18d640(0x4e9)]['forEach']((_0x8953bb,_0x4bf0ac)=>{const _0xf116f4=_0x18d640,_0xe16b72=_0x8953bb[_0xf116f4(0x1f7)]||currentDisplayedQuiz[_0xf116f4(0x844)];_0x16fd1b+=_0xf116f4(0x41b);_0xe16b72===_0xf116f4(0x791)?_0x16fd1b+=_0xf116f4(0x4fe)+(_0x4bf0ac+0x1)+'.\x20'+_0x8953bb[_0xf116f4(0x2fb)]+_0xf116f4(0x1bf)+_0x4bf0ac+_0xf116f4(0x186)+_0x8953bb[_0xf116f4(0x496)]['map'](_0x985f0e=>_0xf116f4(0x3a8)+_0x985f0e+'\x22>'+_0x985f0e+_0xf116f4(0x434))[_0xf116f4(0x551)]('')+_0xf116f4(0x3c2):(_0x16fd1b+='<p>'+(_0x4bf0ac+0x1)+'.\x20'+(_0x8953bb['instructions']||_0x8953bb[_0xf116f4(0x801)])+_0xf116f4(0x709),_0x8953bb[_0xf116f4(0x3aa)]&&(_0x16fd1b+=_0xf116f4(0x493)+_0x8953bb[_0xf116f4(0x3aa)]+'</div>'));_0x16fd1b+=_0xf116f4(0x3c9);switch(_0xe16b72){case _0xf116f4(0x33a):_0x16fd1b+=_0xf116f4(0x409)+_0x4bf0ac+_0xf116f4(0x585);break;case _0xf116f4(0x5a8):_0x16fd1b+=_0xf116f4(0x5fe)+_0x4bf0ac+_0xf116f4(0x573)+_0x4bf0ac+_0xf116f4(0x5cf)+_0x4bf0ac+_0xf116f4(0x822),_0x16fd1b+=_0xf116f4(0x5fe)+_0x4bf0ac+_0xf116f4(0x6fc)+_0x4bf0ac+_0xf116f4(0x2cc)+_0x4bf0ac+_0xf116f4(0x7cb);break;case'matching_item':break;case'fill_in_the_blank':case _0xf116f4(0x4ae):default:_0x16fd1b+=_0x8953bb[_0xf116f4(0x430)]['map']((_0x5b49a3,_0x4b63cf)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x4bf0ac+_0xf116f4(0x704)+_0x4b63cf+_0xf116f4(0x300)+_0x4bf0ac+_0xf116f4(0x50e)+_0x4b63cf+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x4bf0ac+_0xf116f4(0x704)+_0x4b63cf+'\x22>'+_0x5b49a3+_0xf116f4(0x32a))[_0xf116f4(0x551)]('');break;}_0x16fd1b+=_0xf116f4(0x514);}),_0x16fd1b+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x16fd1b+=_0x18d640(0x7e2),studentQuizArea['innerHTML']=_0x16fd1b;if(currentMode===_0x18d640(0x347)){const _0x4b4ae1=document['getElementById'](_0x18d640(0x5f2));if(_0x4b4ae1)_0x4b4ae1[_0x18d640(0x415)](_0x18d640(0x502),cancelAdminTest);}document[_0x18d640(0x2d1)](_0x18d640(0x276))[_0x18d640(0x415)](_0x18d640(0x472),handleSubmitQuiz);if(window[_0x18d640(0x6e1)])window[_0x18d640(0x6e1)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x55e67a){const _0x4da0bf=_0x3cb14f;if(_0x55e67a)_0x55e67a[_0x4da0bf(0x2a1)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5490cb=document['getElementById']('quiz-form');if(!_0x5490cb)return;const _0x5af366=_0x5490cb[_0x4da0bf(0x271)](_0x4da0bf(0x539)),_0x19947a=currentDisplayedQuiz[_0x4da0bf(0x4e9)][_0x4da0bf(0x8ab)](_0x1dc192=>_0x1dc192[_0x4da0bf(0x1f7)]===_0x4da0bf(0x33a));_0x5af366&&(_0x5af366['disabled']=!![],_0x19947a?_0x5af366[_0x4da0bf(0x729)]=_0x4da0bf(0x313):_0x5af366[_0x4da0bf(0x729)]=_0x4da0bf(0x37a));const _0x47abe7=new FormData(_0x5490cb),_0x5a364a=currentDisplayedQuiz[_0x4da0bf(0x4e9)][_0x4da0bf(0x3ea)]((_0x5a369b,_0x5d2fe7)=>{const _0x1b4d9e=_0x4da0bf,_0x47efe3=_0x5a369b[_0x1b4d9e(0x1f7)]||currentDisplayedQuiz[_0x1b4d9e(0x844)],_0x5832dc=_0x47abe7[_0x1b4d9e(0x834)]('question'+_0x5d2fe7);if(_0x5832dc!==null&&_0x5832dc!==undefined){if(_0x47efe3==='multiple_choice'||_0x47efe3===_0x1b4d9e(0x346))return parseInt(_0x5832dc);return _0x5832dc;}return null;}),_0x21d293=currentQuizData['id'],_0xcab194=doc(db,_0x4da0bf(0x477)+appId+_0x4da0bf(0x36d)+_0x21d293+_0x4da0bf(0x740),currentStudentName),_0x37352b=await getDoc(_0xcab194),_0x5bc378=_0x37352b['exists']()?_0x37352b[_0x4da0bf(0x1bc)]():{},_0x5bd2f1=_0x5bc378[_0x4da0bf(0x14c)]||[];await processAndSubmitAnswers(_0x5a364a,_0x5bd2f1);}async function gradeShortAnswerWithAI(_0x2fa38b,_0x5d5d67){const _0x120275=_0x3cb14f;if(!_0x2fa38b||!_0x5d5d67)return![];try{const _0x413a32='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x2fa38b+_0x120275(0x82e)+_0x5d5d67+_0x120275(0x470),_0x1bf8a6={'contents':[{'role':_0x120275(0x2f1),'parts':[{'text':_0x413a32}]}]},_0x1a4213=_0x120275(0x1c0),_0x11201d=_0x120275(0x6c4)+_0x1a4213,_0x4f3db4=await fetch(_0x11201d,{'method':'POST','headers':{'Content-Type':_0x120275(0x293)},'body':JSON[_0x120275(0x881)](_0x1bf8a6)});if(!_0x4f3db4['ok'])throw new Error(_0x120275(0x8aa));const _0x5559df=await _0x4f3db4['json'](),_0x3129bc=_0x5559df[_0x120275(0x7aa)][0x0][_0x120275(0x70c)][_0x120275(0x1dd)][0x0][_0x120275(0x77d)]['trim']()[_0x120275(0x671)]();return _0x3129bc===_0x120275(0x466);}catch(_0xbf5ec9){return console['error'](_0x120275(0x5a6),_0xbf5ec9),![];}}async function processAndSubmitAnswers(_0x5d873b,_0xf29834){const _0x4a349f=_0x3cb14f;isQuizActive=![],document[_0x4a349f(0x5e9)](_0x4a349f(0x61c),handleFullscreenChange);let _0x6a7152=0x0,_0x53081c=0x0,_0x3ad040=[];const _0x4d06d0=[],_0x6403e5=currentDisplayedQuiz[_0x4a349f(0x4e9)]['length'];let _0x29c8f2=0x0;const _0x295044=currentDisplayedQuiz[_0x4a349f(0x4e9)];for(let _0x1e80fd=0x0;_0x1e80fd<_0x295044[_0x4a349f(0x1d7)];_0x1e80fd++){const _0x2a7ef3=_0x295044[_0x1e80fd],_0x5f4b21=_0x5d873b[_0x1e80fd],_0x59e616=_0x2a7ef3['questionType']||currentDisplayedQuiz[_0x4a349f(0x844)];let _0x194527=![];if(_0x5f4b21!==null&&_0x5f4b21!=='')switch(_0x59e616){case _0x4a349f(0x791):_0x194527=_0x5f4b21===_0x2a7ef3[_0x4a349f(0x210)];break;case _0x4a349f(0x5a8):const _0x3e2fb6=_0x5f4b21===!![]||_0x5f4b21===_0x4a349f(0x466);_0x194527=_0x3e2fb6===_0x2a7ef3[_0x4a349f(0x893)];break;case _0x4a349f(0x346):case _0x4a349f(0x4ae):default:_0x194527=Number(_0x5f4b21)===_0x2a7ef3[_0x4a349f(0x541)];break;case _0x4a349f(0x33a):_0x194527=await gradeShortAnswer(_0x5f4b21,_0x2a7ef3);break;}_0x194527?(_0x6a7152++,_0x29c8f2++,_0x29c8f2===0x3&&(_0x3ad040[_0x4a349f(0x49f)](BADGES[_0x4a349f(0x621)]['id']),_0x29c8f2=0x0)):_0x29c8f2=0x0;let _0xac5b71=null;_0x2a7ef3[_0x4a349f(0x430)]&&_0x5f4b21!==null&&(_0xac5b71=_0x2a7ef3[_0x4a349f(0x430)][_0x5f4b21]),_0x4d06d0[_0x4a349f(0x49f)]({'answer':_0x5f4b21,'answerText':_0xac5b71,'isCorrect':_0x194527,'originalQuestionText':_0x2a7ef3['stem']||_0x2a7ef3[_0x4a349f(0x801)]});}_0x53081c=_0x6a7152*0xa;_0x6a7152===_0x6403e5&&_0x6403e5>0x0&&!currentDisplayedQuiz[_0x4a349f(0x248)]&&(_0x53081c+=0x32,_0x3ad040[_0x4a349f(0x49f)](BADGES[_0x4a349f(0x3c5)]['id']));const _0x1d141c=currentDisplayedQuiz['settings']?.[_0x4a349f(0x6f7)]??Math[_0x4a349f(0x249)](_0x6403e5/0x2),_0x1b04c3=currentDisplayedQuiz[_0x4a349f(0x1d2)]?.[_0x4a349f(0x897)];if(_0x1b04c3===_0x4a349f(0x4c2)&&quizStartTime){const _0x1f722f=(new Date()-quizStartTime)/0x3e8,_0x1c01e2=currentDisplayedQuiz[_0x4a349f(0x1d2)][_0x4a349f(0x4c9)]*0x3c;_0x6a7152>=_0x1d141c&&_0x1f722f<_0x1c01e2/0x2&&(_0x53081c+=0x14,_0x3ad040[_0x4a349f(0x49f)](BADGES['QUICK_THINKER']['id']));}_0xf29834[_0x4a349f(0x1d7)]===0x0&&_0x6a7152===_0x6403e5&&_0x6403e5>0x0&&_0x3ad040[_0x4a349f(0x49f)](BADGES[_0x4a349f(0x2dd)]['id']);if(_0xf29834[_0x4a349f(0x1d7)]>0x0){const _0x23ea83=_0xf29834[0x0][_0x4a349f(0x8a6)];if(_0x23ea83<_0x1d141c&&_0x6a7152>=_0x1d141c){const _0x106ac9=_0xf29834[_0x4a349f(0x8ab)](_0x5b4953=>(_0x5b4953[_0x4a349f(0x267)]||[])[_0x4a349f(0x6a7)](BADGES['COMEBACK_KING']['id']));!_0x106ac9&&_0x3ad040['push'](BADGES['COMEBACK_KING']['id']);}}_0xf29834[_0x4a349f(0x1d7)]===0x4&&_0x3ad040[_0x4a349f(0x49f)](BADGES[_0x4a349f(0x63a)]['id']);const _0x39d081=currentDisplayedQuiz[_0x4a349f(0x1d2)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x39d081,_0x6a7152,_0x53081c,_0x3ad040,_0x4d06d0,_0x6403e5);return;}const _0x4b77b1=currentQuizData['id'],_0x4f9fed=doc(db,_0x4a349f(0x477)+appId+_0x4a349f(0x36d)+_0x4b77b1+'/submissions',currentStudentName);try{const _0x1a050d=[..._0xf29834],_0x30c876={'score':_0x6a7152,'points':_0x53081c,'badges':_0x3ad040,'submittedAt':new Date()[_0x4a349f(0x82f)](),'answers':_0x4d06d0};_0x1a050d[_0x4a349f(0x49f)](_0x30c876);const _0x57a0a3=_0x1a050d[0x0][_0x4a349f(0x8a6)],_0x1125b5=Math[_0x4a349f(0x137)](..._0x1a050d[_0x4a349f(0x3ea)](_0x183664=>_0x183664[_0x4a349f(0x8a6)])),_0x37aff4=_0x6a7152,_0x4f1c12=_0x30c876[_0x4a349f(0x6ec)];await setDoc(_0x4f9fed,{'studentName':currentStudentName,'totalQuestions':_0x6403e5,'attempts':_0x1a050d,'firstScore':_0x57a0a3,'bestScore':_0x1125b5,'latestScore':_0x37aff4,'points':_0x53081c,'latestSubmittedAt':_0x4f1c12},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x39d081,_0x6a7152,_0x53081c,_0x3ad040,_0x4d06d0,_0x6403e5);}catch(_0x2335dd){console[_0x4a349f(0x8ae)](_0x4a349f(0x4bc),_0x2335dd),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x2c6998,_0x1a3862){const _0x4a0cf3=_0x3cb14f,_0xb1269b=doc(db,_0x4a0cf3(0x477)+appId+_0x4a0cf3(0x356)+_0x2c6998+_0x4a0cf3(0x57c),_0x1a3862);try{const _0x4b37f1=query(collection(db,'artifacts/'+appId+_0x4a0cf3(0x4f0)),where(_0x4a0cf3(0x215),'==',_0x2c6998)),_0x27062d=await getDocs(_0x4b37f1),_0x2a0d0a=new Map(_0x27062d[_0x4a0cf3(0x521)][_0x4a0cf3(0x3ea)](_0x496ee5=>[_0x496ee5['id'],_0x496ee5[_0x4a0cf3(0x1bc)]()])),_0x3d63a5=Array[_0x4a0cf3(0x5cb)](_0x2a0d0a['keys']());await runTransaction(db,async _0x3db779=>{const _0x1aae59=_0x4a0cf3;let _0x5abc47=0x0;const _0x38098d={};let _0x1c6127=!![],_0x4f4491=0x0,_0x3a4af8=0x0;for(const _0x2a8867 of _0x3d63a5){const _0x576278=_0x2a0d0a[_0x1aae59(0x834)](_0x2a8867),_0x3b224a=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x2a8867+'/submissions',_0x1a3862),_0x35da5a=await _0x3db779[_0x1aae59(0x834)](_0x3b224a);if(_0x35da5a[_0x1aae59(0x1cf)]()){const _0x4cc189=_0x35da5a['data'](),_0x2551d0=_0x4cc189[_0x1aae59(0x14c)]||[];if(_0x2551d0[_0x1aae59(0x1d7)]>0x0){const _0x91141e=_0x2551d0[_0x1aae59(0x5ce)]((_0x4c433b,_0x1f5478)=>{const _0x55df92=_0x1aae59;if(_0x1f5478[_0x55df92(0x8a6)]>_0x4c433b[_0x55df92(0x8a6)])return _0x1f5478;if(_0x1f5478[_0x55df92(0x8a6)]===_0x4c433b[_0x55df92(0x8a6)])return(_0x1f5478[_0x55df92(0x55c)]||0x0)>(_0x4c433b[_0x55df92(0x55c)]||0x0)?_0x1f5478:_0x4c433b;return _0x4c433b;},{'score':-0x1,'points':-0x1});_0x91141e[_0x1aae59(0x8a6)]>-0x1&&(_0x5abc47+=_0x91141e[_0x1aae59(0x55c)]||0x0,(_0x91141e[_0x1aae59(0x267)]||[])[_0x1aae59(0x1f4)](_0x4c385f=>{_0x38098d[_0x4c385f]=(_0x38098d[_0x4c385f]||0x0)+0x1;}));}}if(_0x576278[_0x1aae59(0x367)]!==_0x1aae59(0x85a)){_0x3a4af8++;if(_0x35da5a[_0x1aae59(0x1cf)]()){_0x4f4491++;const _0x245cf9=_0x35da5a[_0x1aae59(0x1bc)]();_0x245cf9['bestScore']!==_0x245cf9[_0x1aae59(0x516)]&&(_0x1c6127=![]);}else _0x1c6127=![];}}_0x3a4af8>0x0&&_0x4f4491===_0x3a4af8&&_0x1c6127?_0x38098d['specialist']=0x1:_0x38098d[_0x1aae59(0x684)]=0x0,_0x3db779[_0x1aae59(0x140)](_0xb1269b,{'studentName':_0x1a3862,'totalPoints':_0x5abc47,'unlockedBadges':Object[_0x1aae59(0x3f3)](_0x38098d)[_0x1aae59(0x255)](_0x4ca463=>_0x38098d[_0x4ca463]>0x0),'badgesCount':_0x38098d},{'merge':!![]});});}catch(_0x7cb21b){console['error'](_0x4a0cf3(0x196),_0x7cb21b),showMessage(_0x4a0cf3(0x737));}}function startAdminTest(){const _0x5b221c=_0x3cb14f;if(!currentQuizData){showMessage(_0x5b221c(0x492));return;}let _0x4f50ca=JSON[_0x5b221c(0x18f)](JSON[_0x5b221c(0x881)](currentQuizData));currentMode=_0x5b221c(0x347),currentStudentName=_0x5b221c(0x2d7),adminView[_0x5b221c(0x28d)][_0x5b221c(0x7c9)]('hidden'),studentView[_0x5b221c(0x28d)][_0x5b221c(0x817)]('hidden'),studentInitialView[_0x5b221c(0x28d)]['add']('hidden'),studentNameSelectionView['classList'][_0x5b221c(0x7c9)](_0x5b221c(0x28c)),studentResultArea['classList'][_0x5b221c(0x7c9)](_0x5b221c(0x28c)),studentQuizArea['classList'][_0x5b221c(0x817)](_0x5b221c(0x28c)),quizStartTime=new Date(),displayQuizForStudent(_0x4f50ca);}function handleResultDisplay(_0x454238,_0x1c40f2,_0x5ee745,_0x2507c3,_0x1daf3b,_0x26d4e2){const _0x2753c2=_0x3cb14f;if(_0x454238===_0x2753c2(0x12b)){displaySubmissionConfirmation();return;}const _0x24a676=currentDisplayedQuiz[_0x2753c2(0x1d2)]?.[_0x2753c2(0x6f7)]??Math[_0x2753c2(0x249)](_0x26d4e2/0x2),_0x18d037=currentDisplayedQuiz[_0x2753c2(0x1d2)]?.['isAdaptive']??![],_0xf5e651=currentDisplayedQuiz[_0x2753c2(0x1d2)]?.[_0x2753c2(0x250)]===!![],_0x2cd824=_0x1c40f2<_0x24a676;if(_0xf5e651&&_0x2cd824){_0x454238===_0x2753c2(0x896)?displayResultsWithAnswers(_0x1c40f2,_0x5ee745,_0x2507c3,_0x1daf3b,_0x26d4e2,!![]):displayLoopScreen(_0x1c40f2,_0x26d4e2,_0x454238);return;}if(_0x18d037&&_0x2cd824){startAdaptiveFlow(_0x1daf3b,_0x1c40f2,_0x26d4e2);return;}switch(_0x454238){case _0x2753c2(0x896):displayResultsWithAnswers(_0x1c40f2,_0x5ee745,_0x2507c3,_0x1daf3b,_0x26d4e2);break;case'show_results_only':displayResultsScoreOnly(_0x1c40f2,_0x5ee745,_0x2507c3,_0x26d4e2);break;case _0x2753c2(0x1a9):displayPassFailOnly(_0x1c40f2,_0x26d4e2);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x34b240){const _0x142f12=_0x3cb14f;studentReadingArea['innerHTML']=_0x142f12(0x587);const _0x36425f=_0x142f12(0x1e6)+_0x34b240+_0x142f12(0x188)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x21a334={'type':_0x142f12(0x193),'properties':{'questionText':{'type':_0x142f12(0x364)},'options':{'type':_0x142f12(0x586),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x142f12(0x48d)},'explanation':{'type':_0x142f12(0x364)}},'required':[_0x142f12(0x801),_0x142f12(0x430),_0x142f12(0x541),'explanation']},_0x2aac17={'type':'OBJECT','properties':{'topic':{'type':_0x142f12(0x364)},'questions':{'type':_0x142f12(0x586),'items':_0x21a334}},'required':['topic',_0x142f12(0x4e9)]};try{const _0x351d3e=await callAnalysisApi(_0x36425f,_0x2aac17);_0x351d3e[_0x142f12(0x248)]=!![],studentReadingArea['classList'][_0x142f12(0x7c9)]('hidden');const _0x54f897={...currentDisplayedQuiz[_0x142f12(0x1d2)],'isAdaptive':![],'resultsDisplay':_0x142f12(0x896)};_0x351d3e['settings']=_0x54f897,displayQuizForStudent(_0x351d3e);}catch(_0x38d6f6){console[_0x142f12(0x8ae)]('Remedial\x20quiz\x20generation\x20failed:',_0x38d6f6),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x142f12(0x718));}}function displayPassFailOnly(_0x492e60,_0x2d7f1e){const _0x56506b=_0x3cb14f,_0x40fca3=currentDisplayedQuiz[_0x56506b(0x1d2)]?.[_0x56506b(0x6f7)]??-0x1,_0x3d0738=currentDisplayedQuiz[_0x56506b(0x248)]===!![];let _0x5a3515='';if(_0x3d0738||_0x40fca3!==-0x1){let _0x45c6a0;_0x3d0738?_0x45c6a0=_0x492e60===_0x2d7f1e:_0x45c6a0=_0x492e60>=_0x40fca3;const _0x6f6e1a=_0x45c6a0?_0x56506b(0x872):_0x56506b(0x728),_0x4f39ea=_0x45c6a0?'ผ่าน':_0x56506b(0x5de);_0x5a3515=_0x56506b(0x4d6)+_0x6f6e1a+'\x22>'+_0x4f39ea+_0x56506b(0x630);}else _0x5a3515=_0x56506b(0x49e);let _0x58c0de=_0x56506b(0x40d)+currentStudentName+_0x56506b(0x2b2)+_0x5a3515+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x58c0de,studentResultArea[_0x56506b(0x28d)][_0x56506b(0x817)](_0x56506b(0x28c)),studentQuizArea[_0x56506b(0x28d)][_0x56506b(0x7c9)](_0x56506b(0x28c));const _0x2d7ab3='back-from-results-btn',_0x3e0da7=currentMode==='admin-testing',_0x18489b=_0x3e0da7?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x3de61a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x2d7ab3+_0x56506b(0x7d9)+_0x18489b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x56506b(0x653)]('beforeend',_0x3de61a),document[_0x56506b(0x2d1)](_0x2d7ab3)[_0x56506b(0x415)]('click',()=>{const _0xc91368=_0x56506b;_0x3e0da7?(currentMode=_0xc91368(0x622),studentView[_0xc91368(0x28d)][_0xc91368(0x7c9)]('hidden'),adminView['classList'][_0xc91368(0x817)](_0xc91368(0x28c)),showView(_0xc91368(0x2e3))):(showView('student'),document[_0xc91368(0x2d1)](_0xc91368(0x25e))[_0xc91368(0x327)]='');});}function cancelAdminTest(){const _0x3ce97f=_0x3cb14f;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x3ce97f(0x622),studentView['classList'][_0x3ce97f(0x7c9)](_0x3ce97f(0x28c)),adminView[_0x3ce97f(0x28d)][_0x3ce97f(0x817)](_0x3ce97f(0x28c)),showView(_0x3ce97f(0x2e3));}function setupResultScreenBackButton(_0x124927=![]){const _0x524d82=_0x3cb14f;if(_0x124927){const _0x30b857=_0x524d82(0x7d2);studentResultArea[_0x524d82(0x653)](_0x524d82(0x424),_0x30b857),document[_0x524d82(0x2d1)](_0x524d82(0x332))[_0x524d82(0x415)](_0x524d82(0x502),()=>{const _0x383523=_0x524d82;studentResultArea['classList'][_0x383523(0x7c9)](_0x383523(0x28c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5866ee=_0x524d82(0x2b4),_0x28124f=currentMode===_0x524d82(0x347),_0x33f350=_0x28124f?_0x524d82(0x4f9):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x572e5e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x5866ee+_0x524d82(0x27c)+_0x33f350+_0x524d82(0x545);studentResultArea[_0x524d82(0x653)](_0x524d82(0x424),_0x572e5e),studentResultArea[_0x524d82(0x271)](_0x524d82(0x30a))[_0x524d82(0x415)](_0x524d82(0x502),handleShowStudentRankings),document['getElementById'](_0x5866ee)[_0x524d82(0x415)](_0x524d82(0x502),()=>{const _0x4d9cf5=_0x524d82;_0x28124f?(currentMode='admin',studentView[_0x4d9cf5(0x28d)]['add'](_0x4d9cf5(0x28c)),adminView[_0x4d9cf5(0x28d)][_0x4d9cf5(0x817)](_0x4d9cf5(0x28c)),showView('project-detail')):(showView(_0x4d9cf5(0x718)),document[_0x4d9cf5(0x2d1)](_0x4d9cf5(0x25e))[_0x4d9cf5(0x327)]='');});}function displayResultsWithAnswers(_0x26a542,_0x4a83a4,_0x2c34cc,_0x5635b0,_0x2d28e2,_0x17ffa6=![]){const _0x355b02=_0x3cb14f,_0x225e4e=_0x2d28e2>0x0?_0x26a542/_0x2d28e2*0x64:0x0,_0x3b3fc4=currentDisplayedQuiz[_0x355b02(0x1d2)]?.['passingScore']??-0x1,_0x26658f=currentDisplayedQuiz[_0x355b02(0x248)]===!![];let _0x309bb2='';if(_0x26658f||_0x3b3fc4!==-0x1){let _0x1d12de=_0x26658f?_0x26a542===_0x2d28e2:_0x26a542>=_0x3b3fc4;const _0x213fcd=_0x1d12de?'bg-green-100\x20text-green-800':_0x355b02(0x728),_0x14e020=_0x1d12de?_0x355b02(0x7fb):_0x355b02(0x5de);_0x309bb2=_0x355b02(0x2cd)+_0x213fcd+'\x22>'+_0x14e020+'</p>';}let _0x5211c9=_0x355b02(0x127)+currentStudentName+_0x355b02(0x628)+_0x26a542+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x2d28e2+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x309bb2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x4a83a4+_0x355b02(0x361)+_0x225e4e[_0x355b02(0x843)](0x0)+_0x355b02(0x841);currentDisplayedQuiz[_0x355b02(0x4e9)][_0x355b02(0x1f4)]((_0x7f59c,_0xaf68c6)=>{const _0x34b8b2=_0x355b02,_0x2b55de=_0x5635b0[_0xaf68c6],_0x421929=_0x2b55de[_0x34b8b2(0x41d)],_0x4f1b46=_0x2b55de['isCorrect'],_0x53ba7d=_0x7f59c[_0x34b8b2(0x1f7)]||currentDisplayedQuiz[_0x34b8b2(0x844)];_0x5211c9+=_0x34b8b2(0x4d4)+(_0x4f1b46?_0x34b8b2(0x82d):_0x34b8b2(0x565))+_0x34b8b2(0x2a5)+(_0xaf68c6+0x1)+'.\x20'+(_0x7f59c[_0x34b8b2(0x2fb)]||_0x7f59c[_0x34b8b2(0x801)])+_0x34b8b2(0x295);switch(_0x53ba7d){case _0x34b8b2(0x791):const _0xf0dfaf=_0x421929||'ไม่ได้ตอบ',_0x35d24d=_0x7f59c[_0x34b8b2(0x210)];_0x5211c9+=_0x34b8b2(0x121)+(!_0x4f1b46?_0x34b8b2(0x482):'')+'\x22>'+_0xf0dfaf+_0x34b8b2(0x457);!_0x4f1b46&&(_0x5211c9+=_0x34b8b2(0x1c5)+_0x35d24d+_0x34b8b2(0x709));break;case'short_answer':_0x5211c9+=_0x34b8b2(0x688)+(_0x421929||'ไม่ได้ตอบ')+_0x34b8b2(0x709),_0x5211c9+=_0x34b8b2(0x652)+_0x7f59c['idealAnswer']+_0x34b8b2(0x709);break;case _0x34b8b2(0x5a8):_0x5211c9+=_0x34b8b2(0x851)+(_0x7f59c[_0x34b8b2(0x893)]===!![]?_0x34b8b2(0x153):'')+'\x20'+(_0x421929===_0x34b8b2(0x466)&&!_0x4f1b46?_0x34b8b2(0x482):'')+_0x34b8b2(0x144),_0x5211c9+=_0x34b8b2(0x851)+(_0x7f59c[_0x34b8b2(0x893)]===![]?_0x34b8b2(0x153):'')+'\x20'+(_0x421929==='false'&&!_0x4f1b46?_0x34b8b2(0x482):'')+_0x34b8b2(0x22e);break;default:_0x5211c9+=_0x7f59c[_0x34b8b2(0x430)]['map']((_0x33b9c6,_0x2dc662)=>{const _0x5ed855=_0x34b8b2;let _0x174d6b='',_0x3b9e80='';if(_0x2dc662===_0x7f59c['correctAnswerIndex'])_0x174d6b=_0x5ed855(0x153),_0x3b9e80='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x2dc662===_0x421929&&(_0x174d6b='font-bold\x20text-red-700\x20line-through',_0x3b9e80=_0x5ed855(0x34e));return _0x5ed855(0x51a)+_0x174d6b+'\x22>'+_0x3b9e80+_0x33b9c6+_0x5ed855(0x3ab);})['join']('');break;}_0x5211c9+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x7f59c[_0x34b8b2(0x46d)]||'ไม่มีคำอธิบาย')+'</div>';if(!_0x4f1b46){const _0x395de3=_0x7f59c[_0x34b8b2(0x2fb)]||_0x7f59c[_0x34b8b2(0x801)];_0x5211c9+=_0x34b8b2(0x887)+escape(_0x395de3)+_0x34b8b2(0x25f);}_0x5211c9+=_0x34b8b2(0x3ab);}),studentResultArea['innerHTML']=_0x5211c9,renderEarnedBadges(_0x2c34cc,'earned-badges-container'),studentResultArea[_0x355b02(0x28d)][_0x355b02(0x817)](_0x355b02(0x28c)),studentQuizArea[_0x355b02(0x28d)][_0x355b02(0x7c9)]('hidden'),setupResultScreenBackButton(_0x17ffa6);if(window[_0x355b02(0x6e1)])window[_0x355b02(0x6e1)][_0x355b02(0x8a4)]([studentResultArea]);}function displayResultsScoreOnly(_0x29d78c,_0x53986b,_0x2c2cfa,_0x5629e8){const _0xc1fde3=_0x3cb14f,_0x52eaa0=_0x5629e8>0x0?_0x29d78c/_0x5629e8*0x64:0x0,_0x492888=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x26a883=currentDisplayedQuiz[_0xc1fde3(0x248)]===!![];let _0x46c1c1='';if(_0x26a883||_0x492888!==-0x1){let _0x302dcb;_0x26a883?_0x302dcb=_0x29d78c===_0x5629e8:_0x302dcb=_0x29d78c>=_0x492888;const _0x4ea621=_0x302dcb?_0xc1fde3(0x872):_0xc1fde3(0x728),_0xaa0d80=_0x302dcb?_0xc1fde3(0x7fb):_0xc1fde3(0x5de);_0x46c1c1=_0xc1fde3(0x2cd)+_0x4ea621+'\x22>'+_0xaa0d80+_0xc1fde3(0x709);}let _0x526d4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0xc1fde3(0x824)+_0x29d78c+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5629e8+_0xc1fde3(0x4e6)+_0x46c1c1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x53986b+_0xc1fde3(0x56b)+_0x52eaa0[_0xc1fde3(0x843)](0x0)+_0xc1fde3(0x855);studentResultArea['innerHTML']=_0x526d4,renderEarnedBadges(_0x2c2cfa,'earned-badges-container'),studentResultArea[_0xc1fde3(0x28d)][_0xc1fde3(0x817)](_0xc1fde3(0x28c)),studentQuizArea[_0xc1fde3(0x28d)][_0xc1fde3(0x7c9)]('hidden'),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x10e335=_0x3cb14f;let _0x31b186=_0x10e335(0x82a)+currentStudentName+_0x10e335(0x1ca);studentResultArea[_0x10e335(0x729)]=_0x31b186,studentResultArea[_0x10e335(0x28d)]['remove'](_0x10e335(0x28c)),studentQuizArea[_0x10e335(0x28d)]['add']('hidden'),document[_0x10e335(0x2d1)]('back-to-home-manual-release')[_0x10e335(0x415)](_0x10e335(0x502),()=>{const _0x59482c=_0x10e335;showView(_0x59482c(0x718)),document[_0x59482c(0x2d1)](_0x59482c(0x25e))[_0x59482c(0x327)]='';});}function renderEarnedBadges(_0x3b3924,_0x1e32e3){const _0x396370=_0x3cb14f,_0x38fb22=document[_0x396370(0x2d1)](_0x1e32e3);if(!_0x38fb22||!_0x3b3924||_0x3b3924[_0x396370(0x1d7)]===0x0)return;let _0x3454bf='';_0x3b3924[_0x396370(0x1f4)]((_0x4add6e,_0x2fa359)=>{const _0x2e40ce=_0x396370,_0x27b6d7=Object[_0x2e40ce(0x31f)](BADGES)[_0x2e40ce(0x1cc)](_0x4bef07=>_0x4bef07['id']===_0x4add6e);_0x27b6d7&&(_0x3454bf+=_0x2e40ce(0x2a0)+_0x2fa359*0.2+_0x2e40ce(0x72f)+_0x27b6d7[_0x2e40ce(0x89b)]+_0x2e40ce(0x63c)+_0x27b6d7[_0x2e40ce(0x58d)]+_0x2e40ce(0x63e)+_0x27b6d7['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x38fb22[_0x396370(0x729)]=_0x3454bf;}function startPresentation(_0x40ef84){const _0x2c0174=_0x3cb14f;currentQuizData=getShuffledQuiz(_0x40ef84),currentPresentationSlide=0x0,presentationModal[_0x2c0174(0x152)][_0x2c0174(0x836)]=_0x2c0174(0x45e),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3f38fa=_0x3cb14f;document[_0x3f38fa(0x20d)]&&document[_0x3f38fa(0x443)](),presentationModal[_0x3f38fa(0x152)][_0x3f38fa(0x836)]=_0x3f38fa(0x124);}function renderPresentationSlide(_0x4439e9){const _0x4acb12=_0x3cb14f,_0x62d446=document[_0x4acb12(0x2d1)](_0x4acb12(0x393));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x4439e9]){_0x62d446['innerHTML']=_0x4acb12(0x2da);return;}const _0x4abf57=currentQuizData[_0x4acb12(0x4e9)][_0x4439e9],_0x48655b=_0x4abf57[_0x4acb12(0x1f7)]||currentQuizData[_0x4acb12(0x844)];_0x62d446['innerHTML']='';let _0x3c5b80=_0x4acb12(0x34d)+(_0x4abf57[_0x4acb12(0x3aa)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4abf57[_0x4acb12(0x3aa)]+_0x4acb12(0x3ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x4439e9+0x1)+'.\x20'+(_0x4abf57[_0x4acb12(0x2fb)]||_0x4abf57[_0x4acb12(0x801)])+_0x4acb12(0x235);switch(_0x48655b){case _0x4acb12(0x791):_0x3c5b80+=_0x4abf57[_0x4acb12(0x496)][_0x4acb12(0x3ea)](_0x32dd87=>_0x4acb12(0x6a3)+_0x32dd87+_0x4acb12(0x71a))['join']('');break;case'true_false':_0x3c5b80+=_0x4acb12(0x4e5),_0x3c5b80+=_0x4acb12(0x4ad);break;case _0x4acb12(0x49a):case'short_answer':_0x3c5b80+=_0x4acb12(0x6e6);break;case _0x4acb12(0x346):case _0x4acb12(0x4ae):default:_0x3c5b80+=_0x4abf57['options']['map']((_0xcf33c9,_0x5a4e44)=>_0x4acb12(0x542)+_0x5a4e44+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcf33c9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x3c5b80+=_0x4acb12(0x76a)+(_0x4abf57[_0x4acb12(0x46d)]||_0x4acb12(0x2ab))+_0x4acb12(0x88c),_0x62d446[_0x4acb12(0x729)]=_0x3c5b80;if(window[_0x4acb12(0x6e1)])window['MathJax'][_0x4acb12(0x8a4)]([_0x62d446]);document[_0x4acb12(0x7b0)]('.presentation-option')[_0x4acb12(0x1f4)](_0x56d191=>{const _0x2313bc=_0x4acb12;_0x56d191[_0x2313bc(0x415)]('click',_0x1cfbd3=>revealAnswerForPresentation(_0x4439e9,_0x1cfbd3[_0x2313bc(0x2cf)]));});const _0x491847=document[_0x4acb12(0x2d1)](_0x4acb12(0x56c));_0x491847&&_0x491847[_0x4acb12(0x415)](_0x4acb12(0x502),()=>checkShortAnswerForPresentation(_0x4439e9)),document[_0x4acb12(0x2d1)]('slide-counter')[_0x4acb12(0x6ca)]=_0x4acb12(0x60a)+(_0x4439e9+0x1)+_0x4acb12(0x850)+currentQuizData['questions'][_0x4acb12(0x1d7)],document['getElementById'](_0x4acb12(0x32e))[_0x4acb12(0x5ab)]=_0x4439e9===0x0,document[_0x4acb12(0x2d1)](_0x4acb12(0x7a4))[_0x4acb12(0x5ab)]=_0x4439e9===currentQuizData['questions'][_0x4acb12(0x1d7)]-0x1;}async function checkShortAnswerForPresentation(_0x18e520){const _0x46ef6e=_0x3cb14f,_0x2cb066=currentQuizData[_0x46ef6e(0x4e9)][_0x18e520],_0x46dd0c=document[_0x46ef6e(0x2d1)]('presentation-short-answer-input'),_0x148455=document[_0x46ef6e(0x2d1)](_0x46ef6e(0x56c)),_0x4249a2=document[_0x46ef6e(0x2d1)]('presentation-ai-result'),_0x4c4b13=document['getElementById'](_0x46ef6e(0x23f));if(!_0x46dd0c||!_0x148455||!_0x4249a2||!_0x4c4b13)return;const _0x1affc4=_0x46dd0c['value'][_0x46ef6e(0x175)]();if(_0x1affc4==='')return;_0x148455[_0x46ef6e(0x5ab)]=!![],_0x148455[_0x46ef6e(0x729)]=_0x46ef6e(0x4a6),_0x46dd0c[_0x46ef6e(0x5ab)]=!![];const _0x50ed14=await gradeShortAnswer(_0x1affc4,_0x2cb066);_0x50ed14?_0x4249a2['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x4249a2[_0x46ef6e(0x729)]=_0x46ef6e(0x4b8)+_0x2cb066['idealAnswer']+')',_0x4249a2[_0x46ef6e(0x28d)][_0x46ef6e(0x817)](_0x46ef6e(0x28c)),_0x4c4b13[_0x46ef6e(0x28d)][_0x46ef6e(0x817)](_0x46ef6e(0x28c)),_0x148455[_0x46ef6e(0x28d)][_0x46ef6e(0x7c9)](_0x46ef6e(0x28c));}function revealAnswerForPresentation(_0x1073b,_0xa9e59d){const _0x41803d=_0x3cb14f,_0x261181=currentQuizData[_0x41803d(0x4e9)][_0x1073b],_0x4f7c20=_0x261181['questionType']||currentQuizData['quizType'];document[_0x41803d(0x7b0)](_0x41803d(0x66b))['forEach'](_0x3f8c44=>{const _0x354c34=_0x41803d;_0x3f8c44[_0x354c34(0x5ab)]=!![],_0x3f8c44[_0x354c34(0x28d)][_0x354c34(0x817)](_0x354c34(0x436));let _0x1e3b1a=![];if(_0x4f7c20==='multiple_choice'||_0x4f7c20===_0x354c34(0x346)){const _0x1c69e0=parseInt(_0x3f8c44[_0x354c34(0x202)][_0x354c34(0x790)]);_0x1e3b1a=_0x1c69e0===_0x261181[_0x354c34(0x541)];}else{if(_0x4f7c20===_0x354c34(0x5a8)){const _0x2e5954=_0x3f8c44[_0x354c34(0x202)][_0x354c34(0x41d)]==='true';_0x1e3b1a=_0x2e5954===_0x261181[_0x354c34(0x893)];}else _0x4f7c20===_0x354c34(0x791)&&(_0x1e3b1a=_0x3f8c44[_0x354c34(0x6ca)][_0x354c34(0x175)]()===_0x261181['correctResponse']);}_0x1e3b1a?_0x3f8c44[_0x354c34(0x28d)][_0x354c34(0x7c9)]('bg-green-500','text-white','border-green-700'):_0x3f8c44[_0x354c34(0x28d)]['add'](_0x354c34(0x441));}),_0xa9e59d['classList']['remove'](_0x41803d(0x441));let _0x569af3=![];if(_0x4f7c20==='multiple_choice')_0x569af3=parseInt(_0xa9e59d['dataset']['index'])===_0x261181[_0x41803d(0x541)];else{if(_0x4f7c20===_0x41803d(0x5a8))_0x569af3=_0xa9e59d[_0x41803d(0x202)]['answer']===_0x41803d(0x466)===_0x261181['correctAnswer'];else _0x4f7c20===_0x41803d(0x791)&&(_0x569af3=_0xa9e59d[_0x41803d(0x6ca)][_0x41803d(0x175)]()===_0x261181[_0x41803d(0x210)]);}!_0x569af3&&_0xa9e59d['classList'][_0x41803d(0x7c9)]('bg-red-500',_0x41803d(0x135),_0x41803d(0x206)),document[_0x41803d(0x2d1)]('presentation-explanation')[_0x41803d(0x28d)][_0x41803d(0x817)](_0x41803d(0x28c));}function startWholeQuizTimer(_0x327717){const _0x2c9b91=_0x3cb14f,_0x1473d7=document['getElementById']('timer-container');if(!_0x1473d7)return;const _0x1f3223=Date[_0x2c9b91(0x7bb)]()+_0x327717*0x3c*0x3e8;_0x1473d7['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x567c96=document[_0x2c9b91(0x2d1)](_0x2c9b91(0x13d));quizTimerInterval=setInterval(()=>{const _0x3232b6=_0x2c9b91,_0x19190f=_0x1f3223-Date[_0x3232b6(0x7bb)]();if(_0x19190f<=0x0)clearInterval(quizTimerInterval),_0x567c96[_0x3232b6(0x6ca)]=_0x3232b6(0x3ed),showMessage(_0x3232b6(0x75a)),handleSubmitQuiz(null);else{const _0x1bf8e4=Math['floor'](_0x19190f/0x3e8/0x3c%0x3c)[_0x3232b6(0x73c)]()[_0x3232b6(0x3bc)](0x2,'0'),_0x4ff857=Math[_0x3232b6(0x249)](_0x19190f/0x3e8%0x3c)[_0x3232b6(0x73c)]()[_0x3232b6(0x3bc)](0x2,'0');_0x567c96[_0x3232b6(0x6ca)]=_0x1bf8e4+':'+_0x4ff857;}},0x3e8);}function renderPerQuestionView(){const _0x3f9ac5=_0x3cb14f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xd1017c=currentDisplayedQuiz[_0x3f9ac5(0x4e9)][currentQuestionIndex],_0x53358d=_0xd1017c['questionType']||currentDisplayedQuiz[_0x3f9ac5(0x844)];let _0x30a749=_0x3f9ac5(0x867)+(currentQuestionIndex+0x1)+_0x3f9ac5(0x11a)+currentDisplayedQuiz['questions']['length']+_0x3f9ac5(0x738)+(currentMode==='admin-testing'?_0x3f9ac5(0x2b5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x3f9ac5(0x4e9)][_0x3f9ac5(0x1d7)]-0x1?_0x3f9ac5(0x3f8):_0x3f9ac5(0x5c4))+_0x3f9ac5(0x412);studentQuizArea[_0x3f9ac5(0x729)]=_0x30a749;let _0x15d0ff='',_0x3ed402='';switch(_0x53358d){case _0x3f9ac5(0x791):_0x15d0ff=currentQuestionIndex+0x1+'.\x20'+_0xd1017c[_0x3f9ac5(0x2fb)],_0x3ed402=_0x3f9ac5(0x5ae)+_0xd1017c[_0x3f9ac5(0x496)][_0x3f9ac5(0x3ea)](_0x4722d6=>_0x3f9ac5(0x3a8)+_0x4722d6+'\x22>'+_0x4722d6+_0x3f9ac5(0x434))[_0x3f9ac5(0x551)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3f9ac5(0x5a8):_0x15d0ff=currentQuestionIndex+0x1+'.\x20'+_0xd1017c['questionText'],_0x3ed402=_0x3f9ac5(0x173);break;case _0x3f9ac5(0x33a):case _0x3f9ac5(0x49a):_0x15d0ff=currentQuestionIndex+0x1+'.\x20'+_0xd1017c[_0x3f9ac5(0x801)],_0x3ed402=_0x3f9ac5(0x800);break;case _0x3f9ac5(0x4ae):case _0x3f9ac5(0x721):default:_0x15d0ff=currentQuestionIndex+0x1+'.\x20'+_0xd1017c[_0x3f9ac5(0x801)],_0x3ed402=_0xd1017c[_0x3f9ac5(0x430)]['map']((_0x5531f0,_0x135c07)=>_0x3f9ac5(0x522)+_0x135c07+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x135c07+_0x3f9ac5(0x5f1)+_0x135c07+'\x22>'+_0x5531f0+_0x3f9ac5(0x400))[_0x3f9ac5(0x551)]('');break;}_0xd1017c[_0x3f9ac5(0x3aa)]&&(_0x15d0ff+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xd1017c['imageCode']+_0x3f9ac5(0x3ab));document[_0x3f9ac5(0x2d1)](_0x3f9ac5(0x304))[_0x3f9ac5(0x729)]=_0x15d0ff,document['getElementById'](_0x3f9ac5(0x7e9))[_0x3f9ac5(0x729)]=_0x3ed402;if(currentMode===_0x3f9ac5(0x347)){const _0x39e42d=document[_0x3f9ac5(0x2d1)](_0x3f9ac5(0x5f2));if(_0x39e42d)_0x39e42d[_0x3f9ac5(0x415)](_0x3f9ac5(0x502),cancelAdminTest);}document[_0x3f9ac5(0x2d1)](_0x3f9ac5(0x5e4))[_0x3f9ac5(0x415)](_0x3f9ac5(0x502),()=>handleNextQuestionInTimedMode(![]));if(window[_0x3f9ac5(0x6e1)])window[_0x3f9ac5(0x6e1)][_0x3f9ac5(0x8a4)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x4f95a7=_0x3cb14f,_0x484cdb=currentDisplayedQuiz[_0x4f95a7(0x1d2)][_0x4f95a7(0x4c9)],_0x245c48=document[_0x4f95a7(0x2d1)](_0x4f95a7(0x456));if(!_0x245c48)return;let _0x1e25ec=_0x484cdb;_0x245c48[_0x4f95a7(0x729)]=_0x4f95a7(0x661)+_0x1e25ec+_0x4f95a7(0x592);const _0x5a7c37=document[_0x4f95a7(0x2d1)]('timer-bar'),_0x409f63=document[_0x4f95a7(0x2d1)](_0x4f95a7(0x336));perQuestionTimerInterval=setInterval(()=>{const _0x42cb3c=_0x4f95a7;_0x1e25ec--;const _0x32b61a=_0x1e25ec/_0x484cdb*0x64;_0x5a7c37[_0x42cb3c(0x152)]['width']=_0x32b61a+'%',_0x409f63[_0x42cb3c(0x6ca)]=_0x1e25ec,_0x1e25ec<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x42cb3c(0x5a7)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x2c8232=![]){const _0xc8a492=_0x3cb14f;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x249cf0=null;if(!_0x2c8232){const _0x2b2959=currentDisplayedQuiz[_0xc8a492(0x4e9)][currentQuestionIndex],_0x18614d=_0x2b2959[_0xc8a492(0x1f7)]||currentDisplayedQuiz[_0xc8a492(0x844)];if(_0x18614d==='short_answer'||_0x18614d==='fill_in_no_choices'){const _0x1fcbde=document[_0xc8a492(0x271)](_0xc8a492(0x861));_0x249cf0=_0x1fcbde?_0x1fcbde[_0xc8a492(0x327)][_0xc8a492(0x175)]():'';}else{if(_0x18614d===_0xc8a492(0x791)){const _0x3fc3ef=document['querySelector'](_0xc8a492(0x330));_0x249cf0=_0x3fc3ef?_0x3fc3ef[_0xc8a492(0x327)]:'';}else{const _0x3d02fe=document['querySelector'](_0xc8a492(0x670));if(_0x3d02fe){const _0x3eedf5=_0x3d02fe[_0xc8a492(0x327)];_0x249cf0=!isNaN(parseInt(_0x3eedf5,0xa))&&_0x3eedf5[_0xc8a492(0x175)]()!==''?parseInt(_0x3eedf5,0xa):_0x3eedf5;}}}}studentAnswersPerQuestion[_0xc8a492(0x49f)](_0x249cf0),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0xc8a492(0x4e9)][_0xc8a492(0x1d7)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x1fc5f9=_0x3cb14f,_0x3bd107=currentDisplayedQuiz[_0x1fc5f9(0x4e9)][_0x1fc5f9(0x8ab)](_0x2fdf0d=>_0x2fdf0d[_0x1fc5f9(0x1f7)]===_0x1fc5f9(0x33a));_0x3bd107?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x1fc5f9(0x36e));const _0x1cddf6=currentQuizData['id'],_0x550bcb=doc(db,_0x1fc5f9(0x477)+appId+_0x1fc5f9(0x36d)+_0x1cddf6+'/submissions',currentStudentName),_0x1c5c84=await getDoc(_0x550bcb),_0x3040b9=_0x1c5c84[_0x1fc5f9(0x1cf)]()?_0x1c5c84[_0x1fc5f9(0x1bc)]():{},_0x427563=_0x3040b9[_0x1fc5f9(0x14c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x427563);}function getResultsFilename(){const _0x3c125a=_0x3cb14f,_0x1b0b9d=document[_0x3c125a(0x2d1)](_0x3c125a(0x673))[_0x3c125a(0x6ca)][_0x3c125a(0x774)](/[^a-z0-9]/gi,'_')[_0x3c125a(0x671)]();return'results_'+(_0x1b0b9d||_0x3c125a(0x813));}function exportResultsAsImage(){const _0x3a5f10=_0x3cb14f,_0x226e93=document['getElementById'](_0x3a5f10(0x1b2));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x226e93)[_0x3a5f10(0x174)](_0x12428c=>{const _0x12c515=_0x3a5f10,_0x21d36f=document[_0x12c515(0x752)]('a');_0x21d36f[_0x12c515(0x83d)]=getResultsFilename()+'.png',_0x21d36f[_0x12c515(0x5a5)]=_0x12428c[_0x12c515(0x837)](_0x12c515(0x751)),_0x21d36f[_0x12c515(0x502)](),messageModal['classList'][_0x12c515(0x7c9)](_0x12c515(0x28c));});}function exportResultsAsPDF(){const _0x30102b=_0x3cb14f,{jsPDF:_0x387818}=window[_0x30102b(0x463)],_0x1efaec=new _0x387818();_0x1efaec[_0x30102b(0x5d4)](_0x30102b(0x509),_0x30102b(0x876)),_0x1efaec[_0x30102b(0x645)]({'html':_0x30102b(0x59e)}),_0x1efaec[_0x30102b(0x868)](getResultsFilename()+_0x30102b(0x882));}function exportResultsAsWord(){const _0x19843a=_0x3cb14f,_0x32d928=_0x19843a(0x3ec)+_0x19843a(0x41c)+_0x19843a(0x856)+_0x19843a(0x894),_0x4234c2=_0x19843a(0x533),_0x4c2f88=_0x32d928+document[_0x19843a(0x2d1)](_0x19843a(0x1b2))[_0x19843a(0x729)]+_0x4234c2,_0x57068f='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x4c2f88),_0x4efdca=document[_0x19843a(0x752)]('a');document[_0x19843a(0x7b9)][_0x19843a(0x4b2)](_0x4efdca),_0x4efdca[_0x19843a(0x5a5)]=_0x57068f,_0x4efdca['download']=getResultsFilename()+_0x19843a(0x22a),_0x4efdca[_0x19843a(0x502)](),document['body'][_0x19843a(0x7fd)](_0x4efdca);}function exportResultsAsExcel(){const _0x6f187a=_0x3cb14f,_0x18af55=document['getElementById'](_0x6f187a(0x5c0));let _0x353367=[];for(let _0x1f396e=0x0;_0x1f396e<_0x18af55[_0x6f187a(0x2b9)][_0x6f187a(0x1d7)];_0x1f396e++){let _0x507bab=[],_0x75d3bb=_0x18af55[_0x6f187a(0x2b9)][_0x1f396e][_0x6f187a(0x7b0)](_0x6f187a(0x56a));for(let _0x2fe99e=0x0;_0x2fe99e<_0x75d3bb['length'];_0x2fe99e++){_0x507bab[_0x6f187a(0x49f)]('\x22'+_0x75d3bb[_0x2fe99e][_0x6f187a(0x5ed)][_0x6f187a(0x774)](/"/g,'\x22\x22')+'\x22');}_0x353367['push'](_0x507bab['join'](','));}const _0x21a148=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x353367[_0x6f187a(0x551)]('\x0a')],{'type':_0x6f187a(0x780)}),_0x2bfc80=document['createElement']('a');_0x2bfc80[_0x6f187a(0x5a5)]=URL[_0x6f187a(0x773)](_0x21a148),_0x2bfc80['download']=getResultsFilename()+'.csv',_0x2bfc80[_0x6f187a(0x502)]();}function exportTableAsImage(_0x5e1110,_0x4abbb9){const _0x26f555=_0x3cb14f,_0x333998=document[_0x26f555(0x2d1)](_0x5e1110);if(!_0x333998){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x26f555(0x27d)),html2canvas(_0x333998)[_0x26f555(0x174)](_0x296ad2=>{const _0x23ff0e=_0x26f555,_0x536b0e=document[_0x23ff0e(0x752)]('a');_0x536b0e['download']=_0x4abbb9+_0x23ff0e(0x389),_0x536b0e[_0x23ff0e(0x5a5)]=_0x296ad2['toDataURL'](_0x23ff0e(0x751)),_0x536b0e['click'](),messageModal[_0x23ff0e(0x28d)][_0x23ff0e(0x7c9)](_0x23ff0e(0x28c));});}function exportTableAsPDF(_0x2bea04,_0x59daae){const _0x7f6345=_0x3cb14f,{jsPDF:_0x72acbf}=window['jspdf'],_0x3e5bd0=new _0x72acbf();_0x3e5bd0['setFont'](_0x7f6345(0x509),'normal'),_0x3e5bd0[_0x7f6345(0x645)]({'html':'#'+_0x2bea04}),_0x3e5bd0[_0x7f6345(0x868)](_0x59daae+'.pdf');}function exportTableAsWord(_0x32c5f3,_0x59e525){const _0x20255d=_0x3cb14f,_0x51600d=document[_0x20255d(0x2d1)](_0x32c5f3);if(!_0x51600d){showMessage(_0x20255d(0x1e7));return;}const _0x6830e3=_0x20255d(0x3ec)+_0x20255d(0x41c)+_0x20255d(0x856)+_0x20255d(0x894),_0x246ffd='</body></html>',_0x10bf13=_0x6830e3+_0x51600d['innerHTML']+_0x246ffd,_0x295738='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x10bf13),_0x20e3cf=document['createElement']('a');document['body']['appendChild'](_0x20e3cf),_0x20e3cf['href']=_0x295738,_0x20e3cf[_0x20255d(0x83d)]=_0x59e525+_0x20255d(0x22a),_0x20e3cf[_0x20255d(0x502)](),document['body'][_0x20255d(0x7fd)](_0x20e3cf);}function exportTableAsExcel(_0x2403c8,_0x275237){const _0x394267=_0x3cb14f,_0x423fcb=document[_0x394267(0x2d1)](_0x2403c8);if(!_0x423fcb){showMessage(_0x394267(0x1e7));return;}let _0x3d7fc7=[];for(let _0x37e918=0x0;_0x37e918<_0x423fcb[_0x394267(0x2b9)]['length'];_0x37e918++){let _0x3abf5d=[],_0x585646=_0x423fcb[_0x394267(0x2b9)][_0x37e918][_0x394267(0x7b0)]('td,\x20th');for(let _0x55aea9=0x0;_0x55aea9<_0x585646['length'];_0x55aea9++){_0x3abf5d[_0x394267(0x49f)]('\x22'+_0x585646[_0x55aea9]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x3d7fc7[_0x394267(0x49f)](_0x3abf5d[_0x394267(0x551)](','));}const _0x261738=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3d7fc7[_0x394267(0x551)]('\x0a')],{'type':_0x394267(0x780)}),_0x4e9f58=document[_0x394267(0x752)]('a');_0x4e9f58['href']=URL['createObjectURL'](_0x261738),_0x4e9f58['download']=_0x275237+'.csv',_0x4e9f58[_0x394267(0x502)]();}async function renderAnalytics(_0x31fc7b,_0x371398){const _0x2ae8b8=_0x3cb14f,_0x18a1b4=currentProjectData['students'][_0x2ae8b8(0x1d7)],_0x352fda=_0x371398[_0x2ae8b8(0x1d7)],_0x823c8e=_0x18a1b4-_0x352fda,_0x58399e=_0x18a1b4>0x0?_0x352fda/_0x18a1b4*0x64:0x0,_0x3d66e1=_0x371398[_0x2ae8b8(0x3ea)](_0x4dd2e9=>_0x4dd2e9[_0x2ae8b8(0x5ea)]),_0x227225=_0x3d66e1[_0x2ae8b8(0x1d7)]>0x0?_0x3d66e1[_0x2ae8b8(0x5ce)]((_0x5d30b6,_0x22f382)=>_0x5d30b6+_0x22f382,0x0)/_0x3d66e1[_0x2ae8b8(0x1d7)]:0x0,_0x340a17=_0x31fc7b[_0x2ae8b8(0x4e9)][_0x2ae8b8(0x1d7)],_0x217846=_0x340a17>0x0?_0x227225/_0x340a17*0x64:0x0,_0x4e86be=calculateItemAnalysis(_0x31fc7b,_0x371398),_0x3ec6a6=calculateReliabilityKR20(_0x31fc7b,_0x371398,_0x4e86be['perQuestionStats']);let _0xa2bf73='';if(_0x3ec6a6!==null){let _0x4d1c36='';if(_0x3ec6a6>=0.9)_0x4d1c36='ยอดเยี่ยม';else{if(_0x3ec6a6>=0.8)_0x4d1c36=_0x2ae8b8(0x38c);else{if(_0x3ec6a6>=0.7)_0x4d1c36='ดี';else{if(_0x3ec6a6>=0.6)_0x4d1c36='พอใช้';else _0x4d1c36='ควรปรับปรุง';}}}_0xa2bf73=_0x2ae8b8(0x11f)+_0x3ec6a6[_0x2ae8b8(0x843)](0x2)+_0x2ae8b8(0x35e)+_0x4d1c36+_0x2ae8b8(0x599);}const _0x3a94ad=document['getElementById'](_0x2ae8b8(0x5c9));_0x3a94ad['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x58399e[_0x2ae8b8(0x843)](0x0)+_0x2ae8b8(0x362)+_0x352fda+'/'+_0x18a1b4+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x227225[_0x2ae8b8(0x843)](0x2)+_0x2ae8b8(0x131)+_0x217846[_0x2ae8b8(0x843)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x3d66e1[_0x2ae8b8(0x1d7)]>0x0?Math[_0x2ae8b8(0x137)](..._0x3d66e1):_0x2ae8b8(0x554))+_0x2ae8b8(0x423)+(_0x3d66e1['length']>0x0?Math[_0x2ae8b8(0x145)](..._0x3d66e1):_0x2ae8b8(0x554))+_0x2ae8b8(0x2f9)+_0xa2bf73+_0x2ae8b8(0x54c);const _0x2cf134=document[_0x2ae8b8(0x2d1)](_0x2ae8b8(0x51f));let _0x4d9184=_0x2ae8b8(0x51b);const _0x3333ee=_0x31fc7b['settings']?.['passingScore'];if(_0x3333ee===undefined||_0x3333ee===null)_0x4d9184+=_0x2ae8b8(0x1dc);else{const _0x1cc14d=_0x371398[_0x2ae8b8(0x255)](_0x5a1c22=>_0x5a1c22[_0x2ae8b8(0x5ea)]>=_0x3333ee)[_0x2ae8b8(0x1d7)],_0x3a69fb=_0x18a1b4>0x0?_0x1cc14d/_0x18a1b4*0x64:0x0,_0x35af77=_0x3a69fb>=0x46;_0x4d9184+=_0x2ae8b8(0x5fd)+(_0x35af77?_0x2ae8b8(0x2bc):_0x2ae8b8(0x74f))+_0x2ae8b8(0x3cc)+(_0x35af77?_0x2ae8b8(0x5b5):_0x2ae8b8(0x4ff))+_0x2ae8b8(0x166)+(_0x35af77?'<span\x20class=\x22font-bold\x20text-green-700\x22>บรรลุเป้าหมาย</span>':_0x2ae8b8(0x29c))+_0x2ae8b8(0x635)+_0x3a69fb[_0x2ae8b8(0x843)](0x1)+_0x2ae8b8(0x35d)+_0x1cc14d+'\x20คน\x20จากนักเรียนทั้งหมด\x20'+_0x18a1b4+_0x2ae8b8(0x883);if(_0x31fc7b[_0x2ae8b8(0x7ba)]==='post-test'&&_0x31fc7b[_0x2ae8b8(0x338)]){const _0x558de0=doc(db,_0x2ae8b8(0x477)+appId+_0x2ae8b8(0x4f0),_0x31fc7b['pairedQuizId']),_0x5d99a0=collection(db,_0x2ae8b8(0x477)+appId+_0x2ae8b8(0x36d)+_0x31fc7b[_0x2ae8b8(0x338)]+_0x2ae8b8(0x740)),[_0x80e434,_0x99bc37]=await Promise[_0x2ae8b8(0x4fa)]([getDoc(_0x558de0),getDocs(_0x5d99a0)]);if(_0x80e434[_0x2ae8b8(0x1cf)]()){const _0x5f2ce0=_0x80e434['data'](),_0x2950e=_0x99bc37[_0x2ae8b8(0x521)][_0x2ae8b8(0x3ea)](_0x4e3179=>_0x4e3179[_0x2ae8b8(0x1bc)]()),_0x3ff67d=_0x5f2ce0[_0x2ae8b8(0x1d2)]?.[_0x2ae8b8(0x6f7)],_0x17fa5f=_0x2950e[_0x2ae8b8(0x255)](_0x40938b=>_0x40938b['firstScore']<_0x3ff67d)[_0x2ae8b8(0x3ea)](_0x44f363=>_0x44f363[_0x2ae8b8(0x14f)]),_0x1ce30b=_0x17fa5f[_0x2ae8b8(0x1d7)],_0x3a94a3=_0x371398[_0x2ae8b8(0x255)](_0xf1a08b=>_0x17fa5f[_0x2ae8b8(0x6a7)](_0xf1a08b[_0x2ae8b8(0x14f)])&&_0xf1a08b[_0x2ae8b8(0x5ea)]>=_0x3333ee)['length'],_0x11e5ec=_0x1ce30b>0x0?_0x3a94a3/_0x1ce30b*0x64:0x0,_0x420a04=_0x11e5ec>=0x46;_0x4d9184+=_0x2ae8b8(0x1ba)+_0x31fc7b[_0x2ae8b8(0x338)]+_0x2ae8b8(0x3a3)+_0x31fc7b['id']+'\x22>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20'+(_0x420a04?_0x2ae8b8(0x2bc):_0x2ae8b8(0x74f))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x420a04?_0x2ae8b8(0x5b5):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>')+_0x2ae8b8(0x608)+(_0x420a04?_0x2ae8b8(0x33d):_0x2ae8b8(0x29c))+_0x2ae8b8(0x7d3)+_0x11e5ec[_0x2ae8b8(0x843)](0x1)+'%\x20('+_0x3a94a3+_0x2ae8b8(0x816)+_0x1ce30b+_0x2ae8b8(0x455);}}else{const _0x19a3b4=_0x371398['filter'](_0x53b1e1=>_0x53b1e1[_0x2ae8b8(0x6d5)]<_0x3333ee),_0x3d4c15=_0x19a3b4[_0x2ae8b8(0x255)](_0x517d45=>_0x517d45[_0x2ae8b8(0x736)]>=_0x3333ee)[_0x2ae8b8(0x1d7)],_0x1ec51a=_0x19a3b4['length']>0x0?_0x3d4c15/_0x19a3b4[_0x2ae8b8(0x1d7)]*0x64:0x0,_0x433505=_0x1ec51a>=0x46;_0x4d9184+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20'+(_0x433505?'text-green-500':_0x2ae8b8(0x74f))+_0x2ae8b8(0x4e0)+(_0x433505?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x2ae8b8(0x4ff))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>เป้าหมาย:\x20นักเรียนกลุ่มไม่ผ่านเกณฑ์\x20พัฒนาขึ้น\x20≥\x2070%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>สถานะ:</b>\x20'+(_0x433505?_0x2ae8b8(0x33d):_0x2ae8b8(0x29c))+_0x2ae8b8(0x558)+_0x1ec51a[_0x2ae8b8(0x843)](0x1)+'%\x20('+_0x3d4c15+'\x20คน\x20จากนักเรียนกลุ่มเสี่ยง\x20'+_0x19a3b4['length']+_0x2ae8b8(0x143);}}_0x2cf134[_0x2ae8b8(0x729)]=_0x4d9184;const _0x26ca5e=document[_0x2ae8b8(0x2d1)]('interesting-stats-wrapper');_0x26ca5e&&_0x26ca5e[_0x2ae8b8(0x817)]();const _0x46776f=_0x2ae8b8(0x286);_0x3a94ad[_0x2ae8b8(0x653)](_0x2ae8b8(0x778),_0x46776f);const _0x1e1222=currentProjectData[_0x2ae8b8(0x84c)]||[];renderSubmissionChart(_0x352fda,_0x823c8e,_0x371398,_0x1e1222),renderScoreDistributionChart(_0x371398,_0x340a17),renderQuestionAnalytics(_0x31fc7b,_0x371398,_0x1e1222),renderInterestingStats(_0x31fc7b,_0x371398);}async function handleExportLessonPDF(){const _0x234c2b=_0x3cb14f,_0x2b26fc=document[_0x234c2b(0x2d1)]('lesson-plan-content'),_0xc7ca02=document[_0x234c2b(0x2d1)]('lesson-plan-title')[_0x234c2b(0x6ca)],_0x5b05fe=window[_0x234c2b(0x7ab)]('',_0x234c2b(0x507)),_0x3e0a28=_0x234c2b(0x17e)+_0xc7ca02+_0x234c2b(0x2d0)+_0x2b26fc[_0x234c2b(0x729)]+_0x234c2b(0x48f);_0x5b05fe[_0x234c2b(0x6db)][_0x234c2b(0x4b9)](_0x3e0a28),_0x5b05fe[_0x234c2b(0x6db)]['close'](),_0x5b05fe['onload']=function(){setTimeout(()=>{const _0x9c26a=_0x4478;_0x5b05fe[_0x9c26a(0x401)]();},0x5dc);};}function renderInterestingStats(_0x2b5705,_0x36f526){const _0x1c8127=_0x3cb14f,_0xdb90c4=document['getElementById'](_0x1c8127(0x4b5));if(!_0xdb90c4)return;if(_0x36f526[_0x1c8127(0x1d7)]===0x0){_0xdb90c4[_0x1c8127(0x729)]=_0x1c8127(0x459);return;}const _0x48332a=_0x2b5705[_0x1c8127(0x4e9)][_0x1c8127(0x3ea)]((_0x2832f8,_0x5bfe51)=>({'index':_0x5bfe51+0x1,'text':_0x2832f8[_0x1c8127(0x801)]||_0x2832f8[_0x1c8127(0x2fb)],'correct':0x0}));_0x36f526[_0x1c8127(0x1f4)](_0x5b4645=>{const _0x58d5e8=_0x1c8127,_0x2c1c93=_0x5b4645[_0x58d5e8(0x14c)][_0x5b4645['attempts'][_0x58d5e8(0x1d7)]-0x1];_0x2c1c93&&_0x2c1c93[_0x58d5e8(0x619)]&&_0x2c1c93['answers'][_0x58d5e8(0x1f4)](_0x499eaa=>{const _0x68fbd1=_0x58d5e8,_0x11f23f=_0x48332a[_0x68fbd1(0x1cc)](_0x3c916e=>_0x3c916e['text']===_0x499eaa[_0x68fbd1(0x845)]);_0x499eaa[_0x68fbd1(0x64c)]&&_0x11f23f&&_0x11f23f[_0x68fbd1(0x7e6)]++;});});const _0x287b7a=_0x36f526[_0x1c8127(0x1d7)],_0x821cec=Math['max'](..._0x48332a[_0x1c8127(0x3ea)](_0x5626f9=>_0x5626f9['correct'])),_0x2dcb9a=Math['min'](..._0x48332a[_0x1c8127(0x3ea)](_0x5a5a3f=>_0x5a5a3f['correct'])),_0x240531=_0x48332a[_0x1c8127(0x255)](_0x160d57=>_0x160d57[_0x1c8127(0x7e6)]===_0x821cec)['map'](_0x3b5aa7=>_0x1c8127(0x6aa)+_0x3b5aa7[_0x1c8127(0x790)]),_0xdf3789=_0x48332a[_0x1c8127(0x255)](_0x5026c9=>_0x5026c9[_0x1c8127(0x7e6)]===_0x2dcb9a)[_0x1c8127(0x3ea)](_0x508459=>_0x1c8127(0x6aa)+_0x508459[_0x1c8127(0x790)]),_0x3ec1e6=_0x36f526[_0x1c8127(0x19b)]((_0x390d7c,_0x4e3543)=>_0x4e3543[_0x1c8127(0x5ea)]-_0x390d7c[_0x1c8127(0x5ea)])['filter']((_0x1fe303,_0x46db77,_0x5ddf89)=>_0x1fe303[_0x1c8127(0x5ea)]===_0x5ddf89[0x0][_0x1c8127(0x5ea)]),_0x5a01ac=_0x36f526[_0x1c8127(0x19b)]((_0x56573f,_0x1ed3c0)=>_0x56573f[_0x1c8127(0x5ea)]-_0x1ed3c0['latestScore'])[_0x1c8127(0x255)]((_0x5c89a1,_0x44a221,_0x46d61f)=>_0x5c89a1[_0x1c8127(0x5ea)]===_0x46d61f[0x0][_0x1c8127(0x5ea)]),_0x483ad6=_0x1c8127(0x2b1)+_0x240531[_0x1c8127(0x551)](',\x20')+_0x1c8127(0x39c)+_0x821cec+_0x1c8127(0x850)+_0x287b7a+_0x1c8127(0x67c)+_0xdf3789['join'](',\x20')+_0x1c8127(0x39c)+(_0x287b7a-_0x2dcb9a)+'\x20/\x20'+_0x287b7a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x3ec1e6[_0x1c8127(0x3ea)](_0x1a61a9=>_0x1a61a9[_0x1c8127(0x14f)])[_0x1c8127(0x551)](',\x20')+_0x1c8127(0x32d)+_0x3ec1e6[0x0][_0x1c8127(0x5ea)]+_0x1c8127(0x1d1)+_0x5a01ac['map'](_0x341f37=>_0x341f37['studentName'])[_0x1c8127(0x551)](',\x20')+_0x1c8127(0x32d)+_0x5a01ac[0x0][_0x1c8127(0x5ea)]+_0x1c8127(0x355);_0xdb90c4[_0x1c8127(0x729)]=_0x483ad6;}function renderSubmissionChart(_0x12bacb,_0x4f8b45,_0x57b8af,_0x46d2f2){const _0x4a24ba=_0x3cb14f,_0x40d5cc=document[_0x4a24ba(0x2d1)](_0x4a24ba(0x3c3))['getContext']('2d'),_0x50c321=_0x57b8af['map'](_0x31f817=>_0x31f817[_0x4a24ba(0x14f)]),_0x136998=_0x46d2f2['filter'](_0x3ff40b=>!_0x50c321[_0x4a24ba(0x6a7)](_0x3ff40b));chartInstances[_0x4a24ba(0x666)]&&chartInstances[_0x4a24ba(0x666)]['destroy'](),chartInstances[_0x4a24ba(0x666)]=new Chart(_0x40d5cc,{'type':_0x4a24ba(0x73e),'data':{'labels':[_0x4a24ba(0x6ce),'ยังไม่ส่ง'],'datasets':[{'data':[_0x12bacb,_0x4f8b45],'backgroundColor':[_0x4a24ba(0x512),_0x4a24ba(0x2e0)],'borderColor':[_0x4a24ba(0x538),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x4a24ba(0x4cc)},'tooltip':{'callbacks':{'label':function(_0x492a54){const _0x109fb7=_0x4a24ba;let _0x4a8042=_0x492a54['label']||'';return _0x4a8042&&(_0x4a8042+=':\x20'),_0x4a8042+=_0x492a54[_0x109fb7(0x27a)],_0x4a8042;},'afterLabel':function(_0x364d05){const _0x390b08=_0x4a24ba;let _0x14e2a1;return _0x364d05['dataIndex']===0x0?_0x14e2a1=_0x50c321:_0x14e2a1=_0x136998,_0x14e2a1[_0x390b08(0x1d7)]>0x0?_0x14e2a1['join']('\x0a'):_0x390b08(0x7cf);}}}}}});}function renderScoreDistributionChart(_0x42bb2c,_0x58d327){const _0x251e5f=_0x3cb14f,_0xbd9573=document['getElementById'](_0x251e5f(0x289))[_0x251e5f(0x2a8)]('2d'),_0x1916c7={};for(let _0x396945=0x0;_0x396945<=_0x58d327;_0x396945++){_0x1916c7[_0x396945]=0x0;}_0x42bb2c[_0x251e5f(0x1f4)](_0x2e1f4a=>{const _0x3813a6=_0x251e5f;_0x1916c7[_0x2e1f4a['latestScore']]!==undefined&&_0x1916c7[_0x2e1f4a[_0x3813a6(0x5ea)]]++;}),chartInstances[_0x251e5f(0x8a6)]&&chartInstances['score'][_0x251e5f(0x129)](),chartInstances['score']=new Chart(_0xbd9573,{'type':_0x251e5f(0x5be),'data':{'labels':Object[_0x251e5f(0x3f3)](_0x1916c7),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x1916c7),'backgroundColor':_0x251e5f(0x553),'borderColor':_0x251e5f(0x3f2),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x251e5f(0x3a5)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x59df13){const _0x1ef373=_0x251e5f,_0x1dc43c=_0x59df13[_0x1ef373(0x5b2)],_0x6a6221=_0x42bb2c['filter'](_0x28d02c=>_0x28d02c['latestScore']==_0x1dc43c)['map'](_0x379ebd=>_0x379ebd['studentName']);return _0x6a6221['length']>0x0?_0x6a6221[_0x1ef373(0x551)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x3faa51,_0x562e39,_0x2ca31e){const _0x2dceda=_0x3cb14f,_0x38ea46=document['getElementById'](_0x2dceda(0x531));if(_0x2ca31e[_0x2dceda(0x1d7)]===0x0){_0x38ea46['innerHTML']=_0x2dceda(0x84e);return;}const _0x1cb96b=calculateItemAnalysis(_0x3faa51,_0x562e39),_0x41a9e1=calculateDistractorAnalysis(_0x3faa51,_0x562e39);let _0x2177bc='';_0x1cb96b[_0x2dceda(0x70e)]&&(_0x2177bc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x1cb96b[_0x2dceda(0x70e)][_0x2dceda(0x76b)][_0x2dceda(0x1d7)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cb96b[_0x2dceda(0x70e)][_0x2dceda(0x76b)][_0x2dceda(0x3ea)](_0x51ca26=>_0x2dceda(0x344)+_0x51ca26+_0x2dceda(0x731))['join']('')+_0x2dceda(0x130)+_0x1cb96b[_0x2dceda(0x70e)][_0x2dceda(0x1b7)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cb96b[_0x2dceda(0x70e)]['lowerGroupNames']['map'](_0xa6444e=>_0x2dceda(0x344)+_0xa6444e+_0x2dceda(0x731))[_0x2dceda(0x551)]('')+_0x2dceda(0x707));let _0x5ebcd2='';const _0x38173f=_0x562e39[_0x2dceda(0x3ea)](_0x563265=>_0x563265[_0x2dceda(0x14f)]),_0xdaef7b=_0x417ef9=>{const _0x53cc89=_0x2dceda;if(_0x417ef9>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x417ef9>=0.6)return _0x53cc89(0x410);if(_0x417ef9>=0.4)return _0x53cc89(0x623);if(_0x417ef9>=0.2)return _0x53cc89(0x3ee);return _0x53cc89(0x519);},_0x5b0692=_0x319cf5=>{const _0x2ad36c=_0x2dceda;if(_0x319cf5<0x0)return _0x2ad36c(0x588);if(_0x319cf5>=0.4)return _0x2ad36c(0x1ab);if(_0x319cf5>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x319cf5>=0.2)return _0x2ad36c(0x769);return _0x2ad36c(0x802);},_0x301c5a=_0x659426=>{const _0x5783b7=_0x2dceda,_0x3bd060=_0x659426[_0x5783b7(0x843)](0x0);if(parseFloat(_0x3bd060)===0x64)return _0x5783b7(0x644)+_0x3bd060+_0x5783b7(0x829);if(_0x659426>=0x32)return _0x5783b7(0x3da)+_0x3bd060+_0x5783b7(0x829);return _0x5783b7(0x7ee)+_0x3bd060+_0x5783b7(0x829);};_0x3faa51[_0x2dceda(0x4e9)][_0x2dceda(0x1f4)]((_0x53030d,_0x546266)=>{const _0x2e9c60=_0x2dceda,_0xd7f426=_0x1cb96b[_0x2e9c60(0x6ad)][_0x546266],_0x103dec=_0x41a9e1[_0x546266],_0x18901f=_0x53030d[_0x2e9c60(0x2fb)]||_0x53030d[_0x2e9c60(0x801)]||_0x53030d[_0x2e9c60(0x6d8)];let _0xd98a91=0x0;const _0x20d4a6=[],_0x5ce607=[];_0x562e39['forEach'](_0x3c8d41=>{const _0x3026a1=_0x2e9c60,_0x2c5995=_0x3c8d41[_0x3026a1(0x14c)][_0x3c8d41[_0x3026a1(0x14c)]['length']-0x1];if(_0x2c5995&&_0x2c5995['answers']){const _0x48a828=_0x2c5995[_0x3026a1(0x619)]['find'](_0xfbc9da=>_0xfbc9da[_0x3026a1(0x845)]===_0x18901f)??_0x2c5995[_0x3026a1(0x619)][_0x546266]??null;_0x48a828&&(_0x48a828[_0x3026a1(0x64c)]?(_0xd98a91++,_0x20d4a6[_0x3026a1(0x49f)](_0x3c8d41[_0x3026a1(0x14f)])):_0x5ce607['push'](_0x3c8d41[_0x3026a1(0x14f)]));}});const _0x48f8dd=_0x562e39[_0x2e9c60(0x1d7)]>0x0?_0xd98a91/_0x562e39[_0x2e9c60(0x1d7)]*0x64:0x0,_0x821076=_0x2ca31e[_0x2e9c60(0x255)](_0x7b2e98=>!_0x38173f[_0x2e9c60(0x6a7)](_0x7b2e98)),_0x2d55d4=_0xd7f426?_0x2e9c60(0x7a3)+_0xd7f426['p']['toFixed'](0x2)+_0x2e9c60(0x308)+_0xdaef7b(_0xd7f426['p'])+_0x2e9c60(0x4f3)+_0xd7f426['r']['toFixed'](0x2)+_0x2e9c60(0x308)+_0x5b0692(_0xd7f426['r'])+_0x2e9c60(0x806)+_0x301c5a(_0x48f8dd)+_0x2e9c60(0x3f9):'';let _0x2a44c4='';_0x103dec&&(_0x2a44c4=_0x2e9c60(0x471)+Object[_0x2e9c60(0x3f3)](_0x103dec)[_0x2e9c60(0x3ea)](_0x44604f=>{const _0x559669=_0x2e9c60,_0x32a728=_0x103dec[_0x44604f],_0x1ad394=parseInt(_0x44604f)===_0x53030d[_0x559669(0x541)],_0x1cfd67=!_0x1ad394&&_0x32a728[_0x559669(0x544)]>_0x32a728['upper_group_count'];return _0x559669(0x642)+(_0x1ad394?'bg-green-100\x20font-bold':'')+_0x559669(0x413)+(_0x1ad394?'✔\x20':'')+_0x32a728[_0x559669(0x77d)]+_0x559669(0x21b)+_0x32a728['upper_group_count']+_0x559669(0x21b)+_0x32a728[_0x559669(0x544)]+'\x20'+(_0x1cfd67?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x32a728[_0x559669(0x5b4)]+_0x559669(0x78d);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x5a85bf='';_0xd7f426&&_0xd7f426[_0x2e9c60(0x89f)]&&(_0x5a85bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0xd7f426[_0x2e9c60(0x89f)][_0x2e9c60(0x1d7)]+_0x2e9c60(0x36a)+_0xd7f426[_0x2e9c60(0x89f)][_0x2e9c60(0x3ea)](_0x4ac16a=>_0x2e9c60(0x344)+(_0x4ac16a[_0x2e9c60(0x64c)]?_0x2e9c60(0x891):_0x2e9c60(0x1e9))+'\x20'+_0x4ac16a[_0x2e9c60(0x7e3)]+_0x2e9c60(0x731))['join']('')+_0x2e9c60(0x378)+_0xd7f426[_0x2e9c60(0x835)][_0x2e9c60(0x1d7)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0xd7f426[_0x2e9c60(0x835)]['map'](_0xbff410=>_0x2e9c60(0x344)+(_0xbff410[_0x2e9c60(0x64c)]?_0x2e9c60(0x891):_0x2e9c60(0x1e9))+'\x20'+_0xbff410[_0x2e9c60(0x7e3)]+_0x2e9c60(0x731))[_0x2e9c60(0x551)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x5ebcd2+=_0x2e9c60(0x404)+(_0x546266+0x1)+':\x20'+_0x18901f+_0x2e9c60(0x56d)+_0x2d55d4+_0x2e9c60(0x557)+_0x18901f+_0x2e9c60(0x18c)+_0xd98a91+_0x2e9c60(0x11a)+_0x562e39[_0x2e9c60(0x1d7)]+_0x2e9c60(0x179)+_0x48f8dd[_0x2e9c60(0x843)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x20d4a6[_0x2e9c60(0x1d7)]+_0x2e9c60(0x4b6)+(_0x20d4a6[_0x2e9c60(0x1d7)]>0x0?_0x20d4a6['join'](',\x20'):'ไม่มี')+_0x2e9c60(0x42b)+_0x5ce607[_0x2e9c60(0x1d7)]+_0x2e9c60(0x4b6)+(_0x5ce607[_0x2e9c60(0x1d7)]>0x0?_0x5ce607[_0x2e9c60(0x551)](',\x20'):'ไม่มี')+_0x2e9c60(0x3a1)+_0x821076['length']+_0x2e9c60(0x4b6)+(_0x821076[_0x2e9c60(0x1d7)]>0x0?_0x821076[_0x2e9c60(0x551)](',\x20'):_0x2e9c60(0x7cf))+_0x2e9c60(0x80e)+_0x2a44c4+_0x2e9c60(0x438)+_0x5a85bf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x38ea46[_0x2dceda(0x729)]=_0x2177bc+_0x5ebcd2;try{window[_0x2dceda(0x6e1)]&&MathJax[_0x2dceda(0x8a4)]&&MathJax[_0x2dceda(0x8a4)]([_0x38ea46]);}catch(_0x8ef432){console['error']('MathJax\x20typeset\x20error\x20(analytics):',_0x8ef432);}}function calculateDistractorAnalysis(_0x42fb4c,_0x4ed6b7){const _0x7e7eec=_0x3cb14f,_0x4d1eba={};if(_0x4ed6b7[_0x7e7eec(0x1d7)]<0x2)return _0x4d1eba;const _0xaa857c=[..._0x4ed6b7]['sort']((_0xa76740,_0x36930a)=>{const _0x5194fa=_0x7e7eec,_0x97c420=_0x36930a[_0x5194fa(0x5ea)]-_0xa76740[_0x5194fa(0x5ea)];if(_0x97c420!==0x0)return _0x97c420;const _0x2bfe8b=_0xa76740[_0x5194fa(0x14c)]?.['length']||0x1,_0x21bdba=_0x36930a[_0x5194fa(0x14c)]?.['length']||0x1,_0x27a361=_0x2bfe8b-_0x21bdba;if(_0x27a361!==0x0)return _0x27a361;const _0x566189=new Date(_0xa76740[_0x5194fa(0x18e)]),_0x7a6416=new Date(_0x36930a[_0x5194fa(0x18e)]),_0x9c406a=_0x566189-_0x7a6416;if(_0x9c406a!==0x0)return _0x9c406a;return _0xa76740[_0x5194fa(0x14f)][_0x5194fa(0x12e)](_0x36930a['studentName'],'th');}),_0x4a0e49=_0xaa857c[_0x7e7eec(0x1d7)],_0x30f77d=Math['max'](0x1,Math[_0x7e7eec(0x249)](_0x4a0e49*0.33)),_0x1b7729=_0xaa857c[_0x7e7eec(0x7ac)](0x0,_0x30f77d),_0x3e6d73=_0xaa857c[_0x7e7eec(0x7ac)](-_0x30f77d);return _0x42fb4c[_0x7e7eec(0x4e9)][_0x7e7eec(0x1f4)]((_0x1a96e2,_0x485d6b)=>{const _0x307d36=_0x7e7eec;if(_0x1a96e2[_0x307d36(0x1f7)]!==_0x307d36(0x4ae)||!_0x1a96e2[_0x307d36(0x430)])return;const _0x33ca3d=_0x1a96e2[_0x307d36(0x801)],_0x1d7297={};_0x1a96e2['options'][_0x307d36(0x1f4)]((_0x2651bd,_0x5366d8)=>{_0x1d7297[_0x5366d8]={'text':_0x2651bd,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0xaa857c[_0x307d36(0x1f4)](_0x18c871=>{const _0x5e8cc4=_0x307d36,_0x476943=_0x18c871[_0x5e8cc4(0x14c)][_0x18c871[_0x5e8cc4(0x14c)][_0x5e8cc4(0x1d7)]-0x1],_0x333508=_0x476943['answers'][_0x5e8cc4(0x1cc)](_0x2998ef=>_0x2998ef['originalQuestionText']===_0x33ca3d);if(_0x333508&&_0x333508[_0x5e8cc4(0x41d)]!==null){const _0xf31c81=_0x1a96e2[_0x5e8cc4(0x430)][_0x5e8cc4(0x217)](_0x1b1fd6=>_0x1b1fd6===_0x333508[_0x5e8cc4(0x7e0)]);_0xf31c81!==-0x1&&_0x1d7297[_0xf31c81]&&(_0x1d7297[_0xf31c81][_0x5e8cc4(0x5b4)]++,_0x1b7729['includes'](_0x18c871)&&_0x1d7297[_0xf31c81]['upper_group_count']++,_0x3e6d73[_0x5e8cc4(0x6a7)](_0x18c871)&&_0x1d7297[_0xf31c81][_0x5e8cc4(0x544)]++);}}),_0x4d1eba[_0x485d6b]=_0x1d7297;}),_0x4d1eba;}function calculateReliabilityKR20(_0xc7ecb,_0x363e65,_0x13938b){const _0x1955cb=_0x3cb14f,_0x3e4f9c=_0xc7ecb[_0x1955cb(0x4e9)][_0x1955cb(0x1d7)];if(_0x3e4f9c<0x2||_0x363e65['length']<0x2)return null;const _0xb87a26=_0x363e65[_0x1955cb(0x3ea)](_0x4876af=>_0x4876af[_0x1955cb(0x5ea)]),_0x4ee535=_0xb87a26['reduce']((_0x2b77f3,_0x1e7112)=>_0x2b77f3+_0x1e7112,0x0)/_0xb87a26[_0x1955cb(0x1d7)],_0x5a38a5=_0xb87a26[_0x1955cb(0x3ea)](_0x5d06d6=>Math[_0x1955cb(0x597)](_0x5d06d6-_0x4ee535,0x2))[_0x1955cb(0x5ce)]((_0x3b7115,_0x143180)=>_0x3b7115+_0x143180,0x0)/_0xb87a26[_0x1955cb(0x1d7)];if(_0x5a38a5===0x0)return null;let _0x2c075a=0x0;for(let _0x59ccd4=0x0;_0x59ccd4<_0x3e4f9c;_0x59ccd4++){const _0x27366d=_0x13938b[_0x59ccd4]?.['p'];if(_0x27366d===undefined)continue;const _0x2abc68=0x1-_0x27366d;_0x2c075a+=_0x27366d*_0x2abc68;}if(_0x2c075a===0x0)return null;const _0x150dcd=_0x3e4f9c/(_0x3e4f9c-0x1)*(0x1-_0x2c075a/_0x5a38a5);if(_0x150dcd>0x1)return null;return _0x150dcd;}async function handleAnalyzeClass(){const _0x5ed8ef=_0x3cb14f;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x5ed8ef(0x733));return;}const _0x206abb=collection(db,_0x5ed8ef(0x477)+appId+_0x5ed8ef(0x36d)+currentQuizData['id']+_0x5ed8ef(0x740)),_0x54cceb=await getDocs(_0x206abb),_0x332a59=_0x54cceb[_0x5ed8ef(0x521)][_0x5ed8ef(0x3ea)](_0x24a3a5=>_0x24a3a5[_0x5ed8ef(0x1bc)]());if(_0x332a59[_0x5ed8ef(0x1d7)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x181569=document[_0x5ed8ef(0x2d1)](_0x5ed8ef(0x668));_0x181569[_0x5ed8ef(0x729)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById'](_0x5ed8ef(0x4a4))[_0x5ed8ef(0x5ab)]=!![];const _0x1673be=_0x332a59[_0x5ed8ef(0x3ea)]((_0x52865f,_0x35c4cd)=>{const _0x29c0e8=_0x5ed8ef,_0xd3d476=_0x52865f[_0x29c0e8(0x14c)][_0x52865f[_0x29c0e8(0x14c)][_0x29c0e8(0x1d7)]-0x1];if(!_0xd3d476)return'';return _0x29c0e8(0x169)+(_0x35c4cd+0x1)+'\x20('+_0x52865f['studentName']+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0xd3d476[_0x29c0e8(0x8a6)]+'/'+_0x52865f[_0x29c0e8(0x516)]+_0x29c0e8(0x4d1)+JSON[_0x29c0e8(0x881)](_0xd3d476[_0x29c0e8(0x619)])+_0x29c0e8(0x8ac);})[_0x5ed8ef(0x551)](_0x5ed8ef(0x49b)),_0x466819=_0x5ed8ef(0x6a9)+currentQuizData[_0x5ed8ef(0x367)]+_0x5ed8ef(0x44d)+JSON['stringify'](currentQuizData[_0x5ed8ef(0x4e9)])+_0x5ed8ef(0x218)+_0x1673be+_0x5ed8ef(0x274),_0x53aad5={'type':_0x5ed8ef(0x193),'properties':{'classStrengths':{'type':_0x5ed8ef(0x586),'items':{'type':_0x5ed8ef(0x364)}},'classWeaknesses':{'type':_0x5ed8ef(0x586),'items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x5ed8ef(0x364)}}},'required':['classStrengths',_0x5ed8ef(0x701),'teacherSuggestions']};try{const _0x324ca0=await callAnalysisApi(_0x466819,_0x53aad5);displayClassAnalysis(_0x324ca0);}catch(_0x19fee1){console[_0x5ed8ef(0x8ae)](_0x5ed8ef(0x821),_0x19fee1),_0x181569[_0x5ed8ef(0x729)]=_0x5ed8ef(0x7e1)+_0x19fee1['message']+_0x5ed8ef(0x7cc);}finally{document[_0x5ed8ef(0x2d1)](_0x5ed8ef(0x4a4))[_0x5ed8ef(0x5ab)]=![];}}function displayClassAnalysis(_0x588e28){const _0x53ba5d=_0x3cb14f,_0x4b067e=document['getElementById']('strength-weakness-analysis-container');if(!_0x588e28){_0x4b067e[_0x53ba5d(0x729)]=_0x53ba5d(0x890);return;}_0x4b067e[_0x53ba5d(0x729)]=_0x53ba5d(0x7bc)+_0x588e28['classStrengths']['map'](_0x3de06d=>'<li>'+_0x3de06d+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x588e28[_0x53ba5d(0x701)][_0x53ba5d(0x3ea)](_0x33cb00=>'<li>'+_0x33cb00+_0x53ba5d(0x731))[_0x53ba5d(0x551)]('')+_0x53ba5d(0x444)+_0x588e28[_0x53ba5d(0x759)]['map'](_0x100b37=>_0x53ba5d(0x344)+_0x100b37+'</li>')[_0x53ba5d(0x551)]('')+_0x53ba5d(0x55b);}function formatAndPrintWorksheet(_0x233e10,_0x9e82c2){const _0x18e0d3=_0x3cb14f,_0x3c7de6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x233e10['topic']+_0x18e0d3(0x195)+_0x233e10[_0x18e0d3(0x367)]+_0x18e0d3(0x84f)+_0x233e10[_0x18e0d3(0x4e9)][_0x18e0d3(0x3ea)]((_0x5620e0,_0x16250f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x16250f+0x1)+'.\x20'+_0x5620e0['questionText']+_0x18e0d3(0x6d6)+(_0x5620e0[_0x18e0d3(0x3aa)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x5620e0[_0x18e0d3(0x3aa)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x18e0d3(0x551)]('')+_0x18e0d3(0x201);_0x9e82c2[_0x18e0d3(0x6db)]['write'](_0x3c7de6),_0x9e82c2['document'][_0x18e0d3(0x870)](),_0x9e82c2[_0x18e0d3(0x1ce)]=function(){setTimeout(()=>{const _0x503a9a=_0x4478;_0x9e82c2[_0x503a9a(0x401)]();},0x3e8);};}async function generateWorksheet(){const _0x455a16=_0x3cb14f,_0x327bee=document[_0x455a16(0x2d1)]('worksheet-topic-input')[_0x455a16(0x327)][_0x455a16(0x175)]();if(!_0x327bee){showMessage(_0x455a16(0x403));return;}const _0x2057cb=document[_0x455a16(0x2d1)](_0x455a16(0x1a7))['checked'],_0x13ce60=_0x2057cb?'':_0x455a16(0x88d),_0x54b202=window[_0x455a16(0x7ab)]('','_blank');_0x54b202[_0x455a16(0x6db)][_0x455a16(0x4b9)](_0x455a16(0x7c7));const _0x31dc07=parseInt(document[_0x455a16(0x2d1)](_0x455a16(0x322))[_0x455a16(0x327)]),_0x4a36b8=document[_0x455a16(0x2d1)](_0x455a16(0x2f7))[_0x455a16(0x7bd)],_0x2a727d=_0x4a36b8?_0x455a16(0x357):'',_0x1f68b5=_0x455a16(0x7f1)+_0x13ce60+_0x455a16(0x168)+_0x31dc07+_0x455a16(0x3cd)+_0x327bee+_0x455a16(0x402)+_0x2a727d+_0x455a16(0x7f0)+simpleMathPrompt+_0x455a16(0x17f),_0x269b46={'type':_0x455a16(0x193),'properties':{'topic':{'type':_0x455a16(0x364)},'questions':{'type':_0x455a16(0x586),'items':{'type':_0x455a16(0x193),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x455a16(0x801)]}}},'required':['topic','questions']};document[_0x455a16(0x2d1)](_0x455a16(0x44e))['textContent']='',document[_0x455a16(0x2d1)](_0x455a16(0x34a))[_0x455a16(0x28d)][_0x455a16(0x817)](_0x455a16(0x28c)),document[_0x455a16(0x2d1)](_0x455a16(0x154))[_0x455a16(0x28d)]['remove'](_0x455a16(0x28c)),generateWorksheetBtn[_0x455a16(0x5ab)]=!![];try{const _0x484b58=await callAnalysisApi(_0x1f68b5,_0x269b46);formatAndPrintWorksheet(_0x484b58,_0x54b202);}catch(_0x1c4e68){console['error'](_0x455a16(0x42e),_0x1c4e68);if(_0x54b202)_0x54b202[_0x455a16(0x870)]();showMessage(_0x455a16(0x231));}finally{document[_0x455a16(0x2d1)]('loader')[_0x455a16(0x28d)]['add'](_0x455a16(0x28c)),document[_0x455a16(0x2d1)](_0x455a16(0x154))[_0x455a16(0x28d)]['add']('hidden'),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x477170,_0x4f9b2b){const _0x1d9e55=_0x3cb14f,_0x53ec3f={'contents':[{'role':'user','parts':[{'text':_0x477170}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x4f9b2b}},_0x536483='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x2cb9a2=_0x1d9e55(0x6c4)+_0x536483,_0x321c51=await fetch(_0x2cb9a2,{'method':_0x1d9e55(0x318),'headers':{'Content-Type':'application/json'},'body':JSON[_0x1d9e55(0x881)](_0x53ec3f)});if(!_0x321c51['ok'])throw new Error(_0x1d9e55(0x68a)+_0x321c51[_0x1d9e55(0x682)]);const _0x109f4a=await _0x321c51[_0x1d9e55(0x6d9)]();if(_0x109f4a[_0x1d9e55(0x7aa)]?.[0x0]?.[_0x1d9e55(0x70c)]?.[_0x1d9e55(0x1dd)]?.[0x0])return JSON[_0x1d9e55(0x18f)](_0x109f4a[_0x1d9e55(0x7aa)][0x0][_0x1d9e55(0x70c)][_0x1d9e55(0x1dd)][0x0]['text']);else{let _0x1bc0cb=_0x1d9e55(0x67b);if(_0x109f4a[_0x1d9e55(0x369)]?.[_0x1d9e55(0x177)])_0x1bc0cb=_0x1d9e55(0x1ac)+_0x109f4a[_0x1d9e55(0x369)][_0x1d9e55(0x177)]+'.';else _0x109f4a[_0x1d9e55(0x7aa)]?.[0x0]?.[_0x1d9e55(0x818)]&&_0x109f4a['candidates'][0x0][_0x1d9e55(0x818)]!==_0x1d9e55(0x3e0)&&(_0x1bc0cb=_0x1d9e55(0x1f0)+_0x109f4a['candidates'][0x0][_0x1d9e55(0x818)]+'.');console[_0x1d9e55(0x8ae)](_0x1bc0cb,JSON['stringify'](_0x109f4a));throw new Error(_0x1bc0cb);}}initialize();
