const _0x576079=_0x1b40;(function(_0x7a6f0d,_0x3723f1){const _0x3a76d4=_0x1b40,_0x2c1488=_0x7a6f0d();while(!![]){try{const _0x4ae6d8=parseInt(_0x3a76d4(0x711))/0x1+-parseInt(_0x3a76d4(0x686))/0x2+-parseInt(_0x3a76d4(0xc3))/0x3+parseInt(_0x3a76d4(0x14c))/0x4*(parseInt(_0x3a76d4(0x7a6))/0x5)+-parseInt(_0x3a76d4(0xb7))/0x6*(parseInt(_0x3a76d4(0x536))/0x7)+parseInt(_0x3a76d4(0x101))/0x8*(parseInt(_0x3a76d4(0x7d7))/0x9)+parseInt(_0x3a76d4(0x6dc))/0xa*(parseInt(_0x3a76d4(0x2f3))/0xb);if(_0x4ae6d8===_0x3723f1)break;else _0x2c1488['push'](_0x2c1488['shift']());}catch(_0x101708){_0x2c1488['push'](_0x2c1488['shift']());}}}(_0x24bd,0xaa43a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x46816f=_0x1b40;if('wakeLock'in navigator)try{wakeLock=await navigator['wakeLock']['request'](_0x46816f(0x5f6)),console[_0x46816f(0x737)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x46816f(0x1e9)](_0x46816f(0x608),()=>{const _0x18a0c8=_0x46816f;console[_0x18a0c8(0x737)](_0x18a0c8(0x31e));});}catch(_0x391536){console[_0x46816f(0x6a9)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x391536[_0x46816f(0x386)]+',\x20'+_0x391536[_0x46816f(0x217)]);}else console[_0x46816f(0xf6)](_0x46816f(0x81c));},releaseWakeLock=async()=>{const _0x10a5b6=_0x1b40;wakeLock!==null&&(await wakeLock[_0x10a5b6(0x608)](),wakeLock=null,console[_0x10a5b6(0x737)](_0x10a5b6(0x11a)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2e5eb5=_0x1b40;if(dimTimer)clearTimeout(dimTimer);document[_0x2e5eb5(0x183)][_0x2e5eb5(0x7d0)]['remove'](_0x2e5eb5(0x4fb)),dimTimer=setTimeout(()=>{const _0x58e83b=_0x2e5eb5;document[_0x58e83b(0x183)][_0x58e83b(0x7d0)][_0x58e83b(0x4c0)]('dimmed'),console['log'](_0x58e83b(0x824));},inactivityTime);}function stopDimTimer(){const _0x54146c=_0x1b40;if(dimTimer)clearTimeout(dimTimer);document[_0x54146c(0x183)]['classList'][_0x54146c(0x699)](_0x54146c(0x4fb)),window[_0x54146c(0x6c4)](_0x54146c(0x1a6),resetDimTimer),window[_0x54146c(0x6c4)](_0x54146c(0xf7),resetDimTimer),window[_0x54146c(0x6c4)](_0x54146c(0x281),resetDimTimer),window[_0x54146c(0x6c4)](_0x54146c(0x44e),resetDimTimer),console[_0x54146c(0x737)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x576079(0x45c),'pinnedProjects':[],'projectView':_0x576079(0x514)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x485)},{'category':_0x576079(0x59a),'name':_0x576079(0x16a)},{'category':_0x576079(0x59a),'name':_0x576079(0x86)},{'category':_0x576079(0x59a),'name':_0x576079(0x5cf)},{'category':_0x576079(0x59a),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':'การลบ'},{'category':_0x576079(0x59a),'name':_0x576079(0x752)},{'category':_0x576079(0x59a),'name':_0x576079(0x5df)},{'category':_0x576079(0x59a),'name':'จำนวนเต็มบวก'},{'category':_0x576079(0x59a),'name':_0x576079(0x4d5)},{'category':_0x576079(0x59a),'name':_0x576079(0x311)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x5f0)},{'category':_0x576079(0x59a),'name':_0x576079(0x2d0)},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x385)},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x20b)},{'category':'จำนวนและการดำเนินการ','name':'อัตราส่วนและสัดส่วน'},{'category':_0x576079(0x59a),'name':'อัตราและอัตราหน่วย'},{'category':_0x576079(0x59a),'name':_0x576079(0x855)},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x6b9)},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x84f)},{'category':_0x576079(0x59a),'name':_0x576079(0x79b)},{'category':_0x576079(0x59a),'name':'การหารเศษส่วน'},{'category':_0x576079(0x59a),'name':_0x576079(0x809)},{'category':_0x576079(0x59a),'name':_0x576079(0x3c5)},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x4a1)},{'category':_0x576079(0x59a),'name':'การลบทศนิยม'},{'category':_0x576079(0x59a),'name':_0x576079(0x61b)},{'category':_0x576079(0x59a),'name':_0x576079(0x789)},{'category':_0x576079(0x59a),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x113)},{'category':_0x576079(0x59a),'name':_0x576079(0x345)},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x4d4)},{'category':_0x576079(0x59a),'name':_0x576079(0x179)},{'category':'จำนวนและการดำเนินการ','name':_0x576079(0x3f9)},{'category':_0x576079(0x59a),'name':_0x576079(0x5ea)},{'category':_0x576079(0x59a),'name':_0x576079(0x5e5)},{'category':'การวัด','name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x576079(0x8f)},{'category':_0x576079(0x3b8),'name':_0x576079(0xba)},{'category':_0x576079(0x3b8),'name':_0x576079(0x424)},{'category':_0x576079(0x3b8),'name':'อุณหภูมิและการแปลง'},{'category':_0x576079(0x3b8),'name':_0x576079(0x2d1)},{'category':_0x576079(0x3b8),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x576079(0x3b8),'name':_0x576079(0x506)},{'category':'การวัด','name':_0x576079(0x82a)},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x576079(0x3b8),'name':_0x576079(0x6aa)},{'category':'การวัด','name':_0x576079(0x648)},{'category':_0x576079(0x3b8),'name':_0x576079(0x1a8)},{'category':_0x576079(0x3b8),'name':_0x576079(0x639)},{'category':_0x576079(0x75f),'name':_0x576079(0x181)},{'category':_0x576079(0x75f),'name':_0x576079(0x757)},{'category':_0x576079(0x75f),'name':_0x576079(0x2b3)},{'category':_0x576079(0x75f),'name':_0x576079(0x506)},{'category':'เรขาคณิต','name':_0x576079(0x7f8)},{'category':'เรขาคณิต','name':'ความคล้ายของรูป'},{'category':_0x576079(0x75f),'name':_0x576079(0x23c)},{'category':_0x576079(0x75f),'name':_0x576079(0x252)},{'category':'เรขาคณิต','name':_0x576079(0x468)},{'category':_0x576079(0x75f),'name':_0x576079(0x7be)},{'category':_0x576079(0x75f),'name':_0x576079(0x3c1)},{'category':_0x576079(0x75f),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x576079(0x75f),'name':_0x576079(0x78c)},{'category':_0x576079(0x75f),'name':_0x576079(0x419)},{'category':'เรขาคณิต','name':_0x576079(0x12b)},{'category':_0x576079(0x35d),'name':_0x576079(0x848)},{'category':_0x576079(0x35d),'name':_0x576079(0x464)},{'category':'พีชคณิตและฟังก์ชัน','name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x576079(0x35d),'name':'การแยกตัวประกอบ'},{'category':_0x576079(0x35d),'name':_0x576079(0x858)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x576079(0x313)},{'category':_0x576079(0x35d),'name':_0x576079(0x441)},{'category':_0x576079(0x35d),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x576079(0x1a4)},{'category':_0x576079(0x35d),'name':'สมการเหตุผล\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':_0x576079(0x35d),'name':_0x576079(0x1ec)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x576079(0x4bf)},{'category':_0x576079(0x35d),'name':'อสมการเชิงเส้น'},{'category':_0x576079(0x35d),'name':_0x576079(0x13a)},{'category':_0x576079(0x35d),'name':_0x576079(0x6ee)},{'category':_0x576079(0x35d),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x576079(0x35d),'name':'โดเมนและเรนจ์'},{'category':_0x576079(0x35d),'name':_0x576079(0x1f4)},{'category':_0x576079(0x35d),'name':'ฟังก์ชันผกผัน'},{'category':_0x576079(0x35d),'name':_0x576079(0x16d)},{'category':_0x576079(0x35d),'name':_0x576079(0x7f6)},{'category':_0x576079(0x35d),'name':_0x576079(0x12e)},{'category':_0x576079(0x35d),'name':_0x576079(0x477)},{'category':_0x576079(0x35d),'name':_0x576079(0xdd)},{'category':_0x576079(0x35d),'name':_0x576079(0x572)},{'category':_0x576079(0x35d),'name':_0x576079(0x689)},{'category':_0x576079(0x35d),'name':_0x576079(0x29b)},{'category':_0x576079(0x35d),'name':_0x576079(0x6e1)},{'category':_0x576079(0x35d),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x576079(0x35d),'name':_0x576079(0x70b)},{'category':_0x576079(0x35d),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x576079(0x35d),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x576079(0x35d),'name':_0x576079(0x78e)},{'category':_0x576079(0x35d),'name':_0x576079(0x62a)},{'category':_0x576079(0x421),'name':_0x576079(0x1a0)},{'category':_0x576079(0x421),'name':_0x576079(0x773)},{'category':'เรขาคณิตวิเคราะห์','name':_0x576079(0x62f)},{'category':_0x576079(0x421),'name':_0x576079(0x60e)},{'category':_0x576079(0x421),'name':_0x576079(0x7a0)},{'category':'เรขาคณิตวิเคราะห์','name':_0x576079(0x79d)},{'category':_0x576079(0x421),'name':_0x576079(0x463)},{'category':_0x576079(0x421),'name':_0x576079(0x72c)},{'category':_0x576079(0x421),'name':_0x576079(0x282)},{'category':'ตรีโกณมิติ','name':_0x576079(0x338)},{'category':_0x576079(0x697),'name':_0x576079(0x7f9)},{'category':_0x576079(0x697),'name':_0x576079(0x50b)},{'category':_0x576079(0x697),'name':_0x576079(0x2a5)},{'category':_0x576079(0x697),'name':_0x576079(0x416)},{'category':_0x576079(0x697),'name':_0x576079(0x61d)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x576079(0x697),'name':_0x576079(0x5e1)},{'category':'ตรีโกณมิติ','name':'สมการตรีโกณมิติ'},{'category':_0x576079(0x697),'name':_0x576079(0x64d)},{'category':'ตรีโกณมิติ','name':_0x576079(0x4aa)},{'category':_0x576079(0x520),'name':_0x576079(0x573)},{'category':'สถิติและความน่าจะเป็น','name':_0x576079(0x2a8)},{'category':_0x576079(0x520),'name':_0x576079(0x4f9)},{'category':_0x576079(0x520),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x576079(0x520),'name':_0x576079(0x83d)},{'category':_0x576079(0x520),'name':_0x576079(0x7a3)},{'category':_0x576079(0x520),'name':_0x576079(0x627)},{'category':_0x576079(0x520),'name':_0x576079(0x4ac)},{'category':_0x576079(0x520),'name':_0x576079(0x618)},{'category':_0x576079(0x520),'name':_0x576079(0x4e6)},{'category':'สถิติและความน่าจะเป็น','name':_0x576079(0x2f6)},{'category':'สถิติและความน่าจะเป็น','name':_0x576079(0x746)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x576079(0x520),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x576079(0x520),'name':_0x576079(0x76e)},{'category':_0x576079(0x520),'name':_0x576079(0x2c4)},{'category':_0x576079(0x520),'name':_0x576079(0x429)},{'category':_0x576079(0x520),'name':_0x576079(0x58e)},{'category':_0x576079(0x520),'name':_0x576079(0x2f2)},{'category':_0x576079(0x520),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x576079(0x520),'name':_0x576079(0x3a7)},{'category':_0x576079(0x520),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x576079(0x520),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x576079(0x520),'name':_0x576079(0x765)},{'category':'แคลคูลัสเบื้องต้น','name':_0x576079(0x32c)},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':_0x576079(0x3cb),'name':_0x576079(0x21d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x576079(0x2bc)},{'category':'แคลคูลัสเบื้องต้น','name':_0x576079(0x157)},{'category':'แคลคูลัสเบื้องต้น','name':_0x576079(0x76a)},{'category':_0x576079(0x3cb),'name':_0x576079(0x5bf)},{'category':'แคลคูลัสเบื้องต้น','name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x576079(0x3cb),'name':_0x576079(0x64b)},{'category':_0x576079(0x3cb),'name':_0x576079(0x250)},{'category':_0x576079(0x3cb),'name':'ปริพันธ์จำกัด'},{'category':_0x576079(0x3cb),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x576079(0x3cb),'name':_0x576079(0x136)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x576079(0x3b3)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x576079(0x454),'name':_0x576079(0x349)},{'category':_0x576079(0x454),'name':_0x576079(0x436)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x576079(0x454),'name':_0x576079(0x4f8)},{'category':_0x576079(0x2f1),'name':_0x576079(0xb0)},{'category':_0x576079(0x2f1),'name':_0x576079(0x749)},{'category':_0x576079(0x2f1),'name':_0x576079(0xb8)},{'category':_0x576079(0x2f1),'name':_0x576079(0x456)},{'category':_0x576079(0x2f1),'name':_0x576079(0x23f)},{'category':_0x576079(0x1f2),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x576079(0x1f2),'name':_0x576079(0x437)},{'category':_0x576079(0x1f2),'name':_0x576079(0x50f)}];function renderTopicCheckboxes(){const _0x3b8eed=_0x576079,_0x1c145b=document['getElementById']('math-topics-checkbox-container');if(!_0x1c145b)return;const _0xf067=allMathTopics,_0x948046=customMathTopics[_0x3b8eed(0xd0)](_0x149b60=>({'id':_0x149b60['id'],'category':_0x3b8eed(0x9d),'name':_0x149b60[_0x3b8eed(0x386)]})),_0x1b0a57=[..._0xf067,..._0x948046],_0x453298=_0x1b0a57['reduce']((_0x310c8e,_0x5f59e2)=>{const _0x20354a=_0x3b8eed;return!_0x310c8e[_0x5f59e2[_0x20354a(0x49c)]]&&(_0x310c8e[_0x5f59e2[_0x20354a(0x49c)]]=[]),_0x310c8e[_0x5f59e2[_0x20354a(0x49c)]]['push'](_0x5f59e2),_0x310c8e;},{});let _0x2c87ef='';const _0x2b7d25=[_0x3b8eed(0x9d),...Object[_0x3b8eed(0x521)](_0x453298)[_0x3b8eed(0x149)](_0x4d5b80=>_0x4d5b80!==_0x3b8eed(0x9d))];for(const _0x2992b7 of _0x2b7d25){if(_0x453298[_0x2992b7]){const _0xe95383=_0x2992b7==='หัวข้อที่สร้างเอง',_0x1b5ce0=_0xe95383?_0x3b8eed(0x119):_0x3b8eed(0x7c8),_0x542950=_0xe95383?_0x3b8eed(0x5d1):_0x3b8eed(0x246);_0x2c87ef+=_0x3b8eed(0x224),_0x2c87ef+=_0x3b8eed(0x5b6)+_0x542950+_0x3b8eed(0x467)+_0x1b5ce0+'\x20mr-2\x22></i>'+_0x2992b7+'</p>',_0x453298[_0x2992b7][_0x3b8eed(0x570)](_0x288239=>{const _0x3fb566=_0x3b8eed,_0x24496c=!!_0x288239['id'],_0x211c7e=_0x24496c?_0x3fb566(0x3f5)+_0x288239['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x288239['id']+_0x3fb566(0x795)+_0x288239['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x288239['id']+_0x3fb566(0x7b1):'';_0x2c87ef+=_0x3fb566(0x122)+(_0x288239['id']||'')+_0x3fb566(0x64e)+_0x288239['name']+_0x3fb566(0x71c)+_0x288239[_0x3fb566(0x386)]+_0x3fb566(0x7d6)+(_0x24496c?_0x3fb566(0x64f)+_0x288239[_0x3fb566(0x386)]+'\x22>':'')+_0x3fb566(0x833)+_0x211c7e+_0x3fb566(0x255);}),_0x2c87ef+=_0x3b8eed(0x4bb);}}_0x1c145b[_0x3b8eed(0x305)]=_0x2c87ef||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x1c145b[_0x3b8eed(0x6c4)]('change',updateSelectedTopicsCount),_0x1c145b[_0x3b8eed(0x1e9)](_0x3b8eed(0x3a8),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x24c40c,_0x24339d){const _0x1335b1=_0x576079;if(!_0x24c40c||!_0x24339d[_0x1335b1(0x44a)]()){showMessage(_0x1335b1(0x4f7));return;}try{const _0x41c997=doc(db,_0x1335b1(0x672)+appId+'/public/data/customMathTopics',_0x24c40c);await updateDoc(_0x41c997,{'name':_0x24339d[_0x1335b1(0x44a)]()}),showMessage(_0x1335b1(0x665));}catch(_0x1f07e0){console['error'](_0x1335b1(0x26d),_0x1f07e0),showMessage(_0x1335b1(0x174));}}function toggleTopicEditMode(_0x53c22f,_0x2119d1){const _0x15d69f=_0x576079;if(!_0x53c22f)return;const _0x1989ef=_0x53c22f[_0x15d69f(0x18e)](_0x15d69f(0x4d6)),_0x4198d1=_0x53c22f[_0x15d69f(0x18e)](_0x15d69f(0x816)),_0x521a7e=_0x53c22f[_0x15d69f(0x18e)](_0x15d69f(0x5b7)),_0x48deb6=_0x53c22f[_0x15d69f(0x18e)](_0x15d69f(0x216));_0x1989ef[_0x15d69f(0x7d0)][_0x15d69f(0x7ba)]('hidden',_0x2119d1),_0x4198d1[_0x15d69f(0x7d0)][_0x15d69f(0x7ba)](_0x15d69f(0x580),!_0x2119d1),_0x521a7e[_0x15d69f(0x7d0)]['toggle']('hidden',_0x2119d1),_0x48deb6[_0x15d69f(0x7d0)][_0x15d69f(0x7ba)](_0x15d69f(0x580),!_0x2119d1),_0x2119d1&&(_0x4198d1[_0x15d69f(0x1c9)](),_0x4198d1['select']());}function updateSelectedTopicsCount(){const _0x4994a1=_0x576079,_0x37335d=document[_0x4994a1(0x613)]('math-topics-checkbox-container'),_0x50513f=_0x37335d[_0x4994a1(0x20e)](_0x4994a1(0x7a2))[_0x4994a1(0x5dc)],_0x53c023=document[_0x4994a1(0x613)](_0x4994a1(0x57b));_0x50513f>0x0?_0x53c023[_0x4994a1(0xe2)]=_0x4994a1(0x184)+_0x50513f+_0x4994a1(0x7c1):_0x53c023[_0x4994a1(0xe2)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x576079(0x6e9),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x576079(0x44b),quizLeaderboardSortOrder=_0x576079(0x236),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x576079(0x79f),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x576079(0x77e)},'QUICK_THINKER':{'id':_0x576079(0x142),'name':_0x576079(0x203),'description':_0x576079(0x839),'icon':_0x576079(0x215)},'ON_FIRE':{'id':_0x576079(0x22f),'name':_0x576079(0x25f),'description':_0x576079(0x17b),'icon':_0x576079(0x27f)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x576079(0x457),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x576079(0xb2),'name':_0x576079(0x21a),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x576079(0x63a)},'SPECIALIST':{'id':'specialist','name':_0x576079(0x3a6),'description':_0x576079(0x546),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x576079(0x54c),'name':_0x576079(0x602),'description':_0x576079(0x3cf),'icon':_0x576079(0x99)}},firebaseConfig={'apiKey':_0x576079(0x675),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x576079(0x131),'storageBucket':_0x576079(0x302),'messagingSenderId':_0x576079(0x51b),'appId':_0x576079(0x4ab),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:_0x576079(0x3b2),adminView=document[_0x576079(0x613)](_0x576079(0x38d)),studentView=document[_0x576079(0x613)](_0x576079(0x785)),projectDashboardView=document[_0x576079(0x613)](_0x576079(0x3e9)),projectDetailView=document[_0x576079(0x613)](_0x576079(0xda)),quizResultsView=document[_0x576079(0x613)](_0x576079(0x5bb)),projectList=document[_0x576079(0x613)](_0x576079(0x63e)),noProjectsMsg=document[_0x576079(0x613)](_0x576079(0x640)),projectTitle=document['getElementById']('project-title'),projectIdDisplay=document[_0x576079(0x613)](_0x576079(0x167)),studentList=document[_0x576079(0x613)](_0x576079(0x202)),messageModal=document[_0x576079(0x613)](_0x576079(0x204)),modalMessage=document[_0x576079(0x613)]('modal-message'),createProjectModal=document[_0x576079(0x613)]('create-project-modal'),adminPasswordModal=document[_0x576079(0x613)](_0x576079(0x2d9)),confirmationModal=document[_0x576079(0x613)]('confirmation-modal'),userIdDisplay=document[_0x576079(0x613)](_0x576079(0x6e0)),topicTab=document[_0x576079(0x613)](_0x576079(0x64c)),textTab=document['getElementById'](_0x576079(0x6f3)),topicInputArea=document[_0x576079(0x613)]('topic-input-area'),textInputArea=document[_0x576079(0x613)](_0x576079(0x518)),manageTab=document[_0x576079(0x613)](_0x576079(0x451)),resultsTab=document[_0x576079(0x613)](_0x576079(0x3ae)),leaderboardTab=document['getElementById'](_0x576079(0x109)),manageTabContent=document[_0x576079(0x613)]('manage-tab-content'),resultsTabContent=document[_0x576079(0x613)](_0x576079(0x812)),leaderboardTabContent=document['getElementById'](_0x576079(0x448)),projectQuizzesList=document[_0x576079(0x613)](_0x576079(0x707)),fileTab=document[_0x576079(0x613)](_0x576079(0x5de)),fileInputArea=document[_0x576079(0x613)]('file-input-area'),fileUploadInput=document['getElementById'](_0x576079(0x2e9)),worksheetTab=document[_0x576079(0x613)]('worksheet-tab'),worksheetInputArea=document[_0x576079(0x613)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document[_0x576079(0x613)]('student-initial-view'),studentNameSelectionView=document[_0x576079(0x613)](_0x576079(0x47a)),studentQuizArea=document[_0x576079(0x613)](_0x576079(0x72f)),studentResultArea=document[_0x576079(0x613)](_0x576079(0x69e)),studentReadingArea=document[_0x576079(0x613)]('student-reading-area'),loadQuizBtn=document[_0x576079(0x613)](_0x576079(0x791)),startQuizBtn=document[_0x576079(0x613)](_0x576079(0x39b)),studentJoinGameView=document['getElementById'](_0x576079(0x836)),presentationModal=document[_0x576079(0x613)](_0x576079(0x295)),renameQuizModal=document[_0x576079(0x613)](_0x576079(0x6a0)),moveQuizModal=document[_0x576079(0x613)](_0x576079(0x762)),quizSettingsModal=document[_0x576079(0x613)](_0x576079(0x4f6)),quizStatusModal=document[_0x576079(0x613)](_0x576079(0x4e9)),liveGameView=document[_0x576079(0x613)](_0x576079(0x25d));function handleAutoFixLatex(){const _0x44bc14=_0x576079,_0x55f20d=document[_0x44bc14(0x613)]('quiz-editor-questions-container')||document,_0x11d255=_0x55f20d[_0x44bc14(0x20e)]([_0x44bc14(0x659),_0x44bc14(0x1f6),_0x44bc14(0x568),_0x44bc14(0x735),_0x44bc14(0x55a),_0x44bc14(0x231),_0x44bc14(0x35b),_0x44bc14(0x7a9),_0x44bc14(0x423)]['join'](','));let _0x3adaf5=0x0;const _0x1635df=_0x3d3fd9=>'value'in _0x3d3fd9?String(_0x3d3fd9[_0x44bc14(0x75d)]):_0x3d3fd9[_0x44bc14(0x493)]!==undefined?_0x3d3fd9['innerText']:_0x3d3fd9[_0x44bc14(0xe2)]||'',_0x471ead=(_0x46b7eb,_0x909630)=>{const _0x543f02=_0x44bc14;if(_0x543f02(0x75d)in _0x46b7eb){_0x46b7eb[_0x543f02(0x75d)]=_0x909630;return;}if(_0x46b7eb[_0x543f02(0x18e)]&&_0x46b7eb[_0x543f02(0x18e)](_0x543f02(0x48e)))return;if(_0x46b7eb['innerText']!==undefined)_0x46b7eb[_0x543f02(0x493)]=_0x909630;else _0x46b7eb['textContent']=_0x909630;},_0x104c4f=_0x32cc15=>_0x32cc15[_0x44bc14(0x3c4)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x44bc14(0x3c4)](/\r\n?/g,'\x0a'),_0x3d45b6=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x379c13=_0x3b3786=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x44bc14(0x583)](_0x3b3786),_0xb4ebda=_0x2a9a92=>{const _0x2c3bd2=_0x44bc14,_0x25f42c=(_0x2a9a92[_0x2c3bd2(0x28f)](/\{/g)||[])[_0x2c3bd2(0x5dc)],_0xbf8e5b=(_0x2a9a92['match'](/\}/g)||[])[_0x2c3bd2(0x5dc)];if(_0x25f42c>_0xbf8e5b)_0x2a9a92=_0x2a9a92+'}'[_0x2c3bd2(0x165)](_0x25f42c-_0xbf8e5b);return _0x2a9a92;},_0x1a8e07=_0x3aa70e=>{const _0x3e38ba=_0x44bc14;let _0x2543d9=_0x3aa70e['trim']();const _0x2b6211=['frac',_0x3e38ba(0x4c8),_0x3e38ba(0x328),_0x3e38ba(0x151),'text',_0x3e38ba(0x7bb),_0x3e38ba(0x8e),'div','leq',_0x3e38ba(0x5c6),'le','ge',_0x3e38ba(0x434),'pm',_0x3e38ba(0x245),_0x3e38ba(0x524),'cos',_0x3e38ba(0x647),'log','ln',_0x3e38ba(0x733),_0x3e38ba(0x379),_0x3e38ba(0x287),_0x3e38ba(0x98),_0x3e38ba(0x547),_0x3e38ba(0x39e),_0x3e38ba(0x2b9),_0x3e38ba(0x17c),_0x3e38ba(0x3e8)];_0x2543d9=_0x2543d9[_0x3e38ba(0x3c4)](new RegExp(_0x3e38ba(0x634)+_0x2b6211['join']('|')+')\x5cb)','g'),'\x5c'),_0x2b6211['forEach'](_0x5a55cd=>{const _0x3711b9=_0x3e38ba;_0x2543d9=_0x2543d9[_0x3711b9(0x3c4)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x5a55cd+'\x5cb','g'),(_0x2ab51e,_0x2652e6)=>_0x2652e6+'\x5c'+_0x5a55cd);});const _0x1e358d=[[/×/g,_0x3e38ba(0x30a)],[/·/g,'\x5ccdot'],[/÷/g,_0x3e38ba(0xbe)],[/≤/g,_0x3e38ba(0x2a6)],[/≥/g,_0x3e38ba(0x261)],[/≠/g,_0x3e38ba(0xe0)],[/±/g,'\x5cpm'],[/∑/g,_0x3e38ba(0x44d)],[/−/g,'-']];_0x1e358d['forEach'](([_0x43f520,_0xe2dbf5])=>{const _0x53c5ae=_0x3e38ba;_0x2543d9=_0x2543d9[_0x53c5ae(0x3c4)](_0x43f520,_0xe2dbf5);}),_0x2543d9=_0x2543d9[_0x3e38ba(0x3c4)](/√\s*\(([^)]*)\)/g,_0x3e38ba(0x399)),_0x2543d9=_0x2543d9[_0x3e38ba(0x3c4)](/√\s*([A-Za-z0-9]+)/g,_0x3e38ba(0x399)),_0x2543d9=_0x2543d9[_0x3e38ba(0x3c4)](/(^|[^\\])\bimes\b/g,_0x3e38ba(0x57c))[_0x3e38ba(0x3c4)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x3e38ba(0x68a))[_0x3e38ba(0x3c4)](/(^|[^\\])ext\{/g,_0x3e38ba(0x482))['replace'](/(^|[^\\])ext\(/g,_0x3e38ba(0x585))[_0x3e38ba(0x3c4)](/\\text\(([^)]*)\)/g,_0x3e38ba(0x853))[_0x3e38ba(0x3c4)](/\s\\frac/g,_0x3e38ba(0x30d)),_0x2543d9=_0x2543d9[_0x3e38ba(0x3c4)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x55f8aa,_0x335c06,_0x2b05c7,_0x3a7dac)=>_0x335c06+_0x3e38ba(0x6bc)+_0x2b05c7+'}{'+_0x3a7dac+'}'),_0x2543d9=_0x2543d9[_0x3e38ba(0x3c4)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x3e38ba(0x324))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x3e38ba(0x324))[_0x3e38ba(0x3c4)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x3e38ba(0x324)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x3e38ba(0x4d9)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x3e38ba(0x4d9)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x3e38ba(0x4d9)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x3e38ba(0x4d9)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x3e38ba(0x4d9)],[/(\d+)\s*°\s*C/g,_0x3e38ba(0x4d9)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x3e38ba(0x244)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x3e38ba(0x4d9)]]['forEach'](([_0x226403,_0x468478])=>{const _0x1dbb88=_0x3e38ba;_0x2543d9=_0x2543d9[_0x1dbb88(0x3c4)](_0x226403,_0x468478);}),_0x2543d9=_0x2543d9[_0x3e38ba(0x3c4)](/(\d+)\s*%/g,_0x3e38ba(0x6eb)),_0x2543d9=_0x2543d9[_0x3e38ba(0x3c4)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x3e38ba(0x6db))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x3e38ba(0x3c4)](/\{\{([^\{\}]+)\}\}/g,_0x3e38ba(0x47f)),[_0x3e38ba(0x524),_0x3e38ba(0x6bb),'tan',_0x3e38ba(0x737),'ln'][_0x3e38ba(0x570)](_0x59c1cc=>{const _0x4280c7=_0x3e38ba;_0x2543d9=_0x2543d9['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x59c1cc+_0x4280c7(0x33b),'g'),(_0x1101a8,_0x18af3f)=>_0x18af3f+'\x5c'+_0x59c1cc+'(');});const _0x504ae0=(_0x2543d9[_0x3e38ba(0x28f)](/\\left\b/g)||[])['length'],_0x323ebe=(_0x2543d9[_0x3e38ba(0x28f)](/\\right\b/g)||[])[_0x3e38ba(0x5dc)];if(_0x504ae0!==_0x323ebe)_0x2543d9=_0x2543d9['replace'](/\\left\b/g,'')[_0x3e38ba(0x3c4)](/\\right\b/g,'');return _0x2543d9=_0xb4ebda(_0x2543d9),_0x2543d9;},_0xcc4180=_0xd613a6=>{const _0x234171=_0x44bc14;if(/\$|\\\(|\\\[/[_0x234171(0x583)](_0xd613a6))return _0xd613a6;if(!_0x3d45b6[_0x234171(0x583)](_0xd613a6))return _0xd613a6;const _0x1da0a0=_0xd613a6['match'](/^\s*/)[0x0],_0x217e5d=_0xd613a6['match'](/\s*$/)[0x0],_0x17ecbf=_0xd613a6['trim']();return _0x1da0a0+'$'+_0x1a8e07(_0x17ecbf)+'$'+_0x217e5d;},_0x1d6273=_0xd20c89=>_0xd20c89['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x11d255[_0x44bc14(0x570)](_0x5d4748=>{const _0x286b7f=_0x44bc14;if(_0x5d4748[_0x286b7f(0x18e)]&&_0x5d4748['querySelector'](_0x286b7f(0x48e)))return;const _0x529240=_0x1635df(_0x5d4748);let _0xfdced0=_0x104c4f(_0x529240);_0xfdced0=_0xfdced0[_0x286b7f(0x3c4)](/\$\$([\s\S]*?)\$\$/g,(_0x37d120,_0x74323b)=>'$$'+_0x1a8e07(_0x74323b)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x2188f5,_0x26a265)=>'$'+_0x1a8e07(_0x26a265)+'$')[_0x286b7f(0x3c4)](/\\\(([\s\S]*?)\\\)/g,(_0x509424,_0x3eb14e)=>'\x5c('+_0x1a8e07(_0x3eb14e)+'\x5c)')[_0x286b7f(0x3c4)](/\\\[([\s\S]*?)\\\]/g,(_0x276bea,_0x37d207)=>'\x5c['+_0x1a8e07(_0x37d207)+'\x5c]');let _0xbf65c=_0xfdced0,_0x1a6d1d=0x0;const _0x29868e=_0x3b6155=>_0x3b6155[_0x286b7f(0x3c4)](/S([^S]{0,2000}?)S/g,(_0x12a62e,_0x16ee7f)=>_0x3d45b6[_0x286b7f(0x583)](_0x16ee7f)?'$'+_0x1a8e07(_0x16ee7f)+'$':_0x12a62e);while(_0x1a6d1d++<0x14){const _0x1beee5=_0x29868e(_0xbf65c);if(_0x1beee5===_0xbf65c)break;_0xbf65c=_0x1beee5;}_0xfdced0=_0xbf65c,_0xfdced0=_0xfdced0[_0x286b7f(0x471)]('\x0a')[_0x286b7f(0xd0)](_0x14d7b6=>{const _0x4fcc27=_0x286b7f;if(!(/[,\u3001，;；]/[_0x4fcc27(0x583)](_0x14d7b6)||/\s(?:และ|หรือ)\s/[_0x4fcc27(0x583)](_0x14d7b6))||!_0x3d45b6[_0x4fcc27(0x583)](_0x14d7b6))return _0x14d7b6;return _0x1d6273(_0x14d7b6)['map'](_0x20d844=>{const _0x12c4df=_0x4fcc27;if(/^\s(?:และ|หรือ)\s$/[_0x12c4df(0x583)](_0x20d844)||/^[,\u3001，;；]$/['test'](_0x20d844))return _0x20d844;return _0xcc4180(_0x20d844);})[_0x4fcc27(0x815)]('');})[_0x286b7f(0x815)]('\x0a'),_0xfdced0=_0xfdced0[_0x286b7f(0x471)]('\x0a')[_0x286b7f(0xd0)](_0x1a9e55=>{const _0x45a49e=_0x286b7f,_0x113f30=_0x1a9e55[_0x45a49e(0x44a)]();if(!_0x113f30)return _0x1a9e55;const _0x43492d=/\$|\\\(|\\\[/[_0x45a49e(0x583)](_0x113f30),_0x454dd7=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x113f30);if(_0x43492d||!_0x454dd7||_0x379c13(_0x113f30))return _0x1a9e55;return _0x1a9e55[_0x45a49e(0x3c4)](_0x113f30,'$'+_0x1a8e07(_0x113f30)+'$');})[_0x286b7f(0x815)]('\x0a'),_0xfdced0=_0xfdced0[_0x286b7f(0x3c4)](/(\d+)\s*°\s*C\b/g,(_0x1522e6,_0x2f16ee,_0x1e2e5a,_0x1bdea1)=>{const _0x1baf90=_0x286b7f,_0x2e52ed=_0x1bdea1[_0x1e2e5a-0x1];if(_0x2e52ed==='$'||_0x2e52ed==='S'||_0x2e52ed==='\x5c')return _0x1522e6;return'$'+_0x2f16ee+_0x1baf90(0x529);})[_0x286b7f(0x3c4)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x2a1a56,_0x4cc7a0,_0x7f7a9a,_0x375cd0)=>{const _0x490109=_0x286b7f,_0x378f6b=_0x375cd0[_0x7f7a9a-0x1];if(_0x378f6b==='$'||_0x378f6b==='S'||_0x378f6b==='\x5c')return _0x2a1a56;return'$'+_0x4cc7a0+_0x490109(0x529);})[_0x286b7f(0x3c4)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x219f59,_0x28bc30,_0xd105e7,_0x152f5f)=>{const _0x1d3aa4=_0x152f5f[_0xd105e7-0x1];if(_0x1d3aa4==='$'||_0x1d3aa4==='S'||_0x1d3aa4==='\x5c')return _0x219f59;return'$'+_0x28bc30+'^{\x5ccirc}\x5ctext{C}$';}),_0xfdced0=_0xfdced0[_0x286b7f(0x3c4)](/\$\s*\$/g,'$$'),_0xfdced0!==_0x529240&&(_0x471ead(_0x5d4748,_0xfdced0),_0x3adaf5++);});if(_0x3adaf5>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x3adaf5+_0x44bc14(0x7c3));try{if(window[_0x44bc14(0x561)]&&MathJax[_0x44bc14(0x47e)])MathJax['typesetPromise']();window['katex']&&typeof renderMathInElement==='function'&&renderMathInElement(_0x55f20d,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x306723){}}else showMessage(_0x44bc14(0x413));}async function listenForCustomMathTopics(){const _0x1db94=_0x576079,_0x39f41d=collection(db,'artifacts/'+appId+_0x1db94(0x5cd));onSnapshot(_0x39f41d,_0x4dff3a=>{const _0x2f1c9d=_0x1db94;customMathTopics=_0x4dff3a[_0x2f1c9d(0x301)][_0x2f1c9d(0xd0)](_0x5dc60a=>({'id':_0x5dc60a['id'],..._0x5dc60a[_0x2f1c9d(0xe3)]()})),renderTopicCheckboxes();},_0x5b89f6=>{const _0x532175=_0x1db94;console[_0x532175(0x6a9)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x5b89f6);});}function handleSelectAllTopics(){const _0x3c8cad=_0x576079,_0x4eb3e3=document[_0x3c8cad(0x613)](_0x3c8cad(0x460)),_0x1c01f4=_0x4eb3e3[_0x3c8cad(0x20e)](_0x3c8cad(0x5f7));_0x1c01f4['forEach'](_0x2eb4b=>{const _0x1a3bd1=_0x3c8cad;_0x2eb4b[_0x1a3bd1(0x61a)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x226650=_0x576079,_0x3d873a=document['getElementById'](_0x226650(0x460)),_0x4d6f0c=_0x3d873a[_0x226650(0x20e)](_0x226650(0x5f7));_0x4d6f0c['forEach'](_0x335d09=>{_0x335d09['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x49c8f3){const _0x311382=_0x576079;if(!_0x49c8f3)return;try{const _0x370185=doc(db,_0x311382(0x672)+appId+'/public/data/customMathTopics',_0x49c8f3);await deleteDoc(_0x370185),showMessage(_0x311382(0x6b4));}catch(_0x31dd83){console[_0x311382(0x6a9)](_0x311382(0x77a),_0x31dd83),showMessage(_0x311382(0x133));}}async function handleAddCustomMathTopic(){const _0x54f568=_0x576079,_0xbcddd4=document['getElementById']('custom-math-topic-input'),_0x3e4e57=_0xbcddd4[_0x54f568(0x75d)]['trim']();if(!_0x3e4e57){showMessage(_0x54f568(0x4ec));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x30a3b7=collection(db,_0x54f568(0x672)+appId+_0x54f568(0x5cd));await addDoc(_0x30a3b7,{'name':_0x3e4e57,'createdAt':serverTimestamp()}),_0xbcddd4[_0x54f568(0x75d)]='',showMessage(_0x54f568(0x10d)+_0x3e4e57+_0x54f568(0x84c));}catch(_0x13bcfd){console[_0x54f568(0x6a9)](_0x54f568(0x588),_0x13bcfd),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x129b88=_0x576079;showConfirmation(_0x129b88(0x1bc),async()=>{const _0x15d292=_0x129b88,_0xf18168=document[_0x15d292(0x613)](_0x15d292(0x1c6)),_0x1156e2=document[_0x15d292(0x613)](_0x15d292(0x7fa)),_0x290b2f=_0x1156e2['textContent'];_0xf18168[_0x15d292(0x7d0)]['remove'](_0x15d292(0x580)),_0x1156e2['textContent']=_0x15d292(0x384);try{const _0x393863=collection(db,_0x15d292(0x672)+appId+_0x15d292(0x617)),_0x52adf2=await getDocs(_0x393863);if(_0x52adf2[_0x15d292(0x5e8)]){showMessage(_0x15d292(0x635));return;}const _0x169a79=writeBatch(db);let _0x1cce4b=0x0;_0x52adf2[_0x15d292(0x570)](_0x1f3a24=>{const _0x135151=_0x15d292,_0x674fb1=_0x1f3a24[_0x135151(0xe3)](),_0x3f9e24=_0x1f3a24['id'];if(_0x674fb1[_0x135151(0x7cd)]&&_0x674fb1[_0x135151(0x7cd)][_0x135151(0x5dc)]>0x0&&!_0x674fb1['questions'][0x0][_0x135151(0x87)]('id')){console[_0x135151(0x737)](_0x135151(0x389)+_0x3f9e24+'\x20('+_0x674fb1[_0x135151(0x751)]+')'),_0x1cce4b++;const _0x406095=_0x674fb1[_0x135151(0x7cd)]['map']((_0x35dc18,_0x3b1235)=>{return{..._0x35dc18,'id':_0x35dc18['id']||'q_'+Date['now']()+'_'+_0x3f9e24+'_'+_0x3b1235};}),_0x398961=doc(db,_0x135151(0x672)+appId+_0x135151(0x617),_0x3f9e24);_0x169a79['update'](_0x398961,{'questions':_0x406095});}}),_0x1cce4b>0x0?(_0x1156e2['textContent']='กำลังอัปเดตแบบทดสอบ\x20'+_0x1cce4b+'\x20รายการ...',await _0x169a79[_0x15d292(0x22d)](),showMessage(_0x15d292(0x715)+_0x1cce4b+_0x15d292(0x3ba))):showMessage(_0x15d292(0x4db));}catch(_0x5be314){console['error'](_0x15d292(0x265),_0x5be314),showMessage(_0x15d292(0x829)+_0x5be314[_0x15d292(0x217)]);}finally{_0xf18168[_0x15d292(0x7d0)]['add']('hidden'),_0x1156e2[_0x15d292(0xe2)]=_0x290b2f;}});}async function initialize(){const _0x5e732f=_0x576079;try{const _0x1a507d=initializeApp(firebaseConfig);db=getFirestore(_0x1a507d),auth=getAuth(_0x1a507d),setupAuthListener(),setupEventListeners(),showView(_0x5e732f(0x6e9)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x223f89){console[_0x5e732f(0x6a9)](_0x5e732f(0x60c),_0x223f89),showMessage(_0x5e732f(0x128));}}async function handleVerifyAnswersInEditor(){const _0x3c3461=_0x576079,_0x48acfc=document['getElementById'](_0x3c3461(0x1e3));if(!_0x48acfc)return;const _0x398b75=document[_0x3c3461(0x613)](_0x3c3461(0x6fa));_0x398b75[_0x3c3461(0x4c9)]=!![],_0x398b75[_0x3c3461(0x305)]=_0x3c3461(0x57f);try{const _0x4727cb=_0x48acfc[_0x3c3461(0x20e)](_0x3c3461(0x4f3)),_0x2ad449=Array['from'](_0x4727cb)[_0x3c3461(0xd0)]((_0x466bf2,_0x416b7a)=>{const _0x352b48=_0x3c3461,_0x2e90b4=_0x466bf2[_0x352b48(0x663)][_0x352b48(0x1cc)],_0x2c5c9f=_0x466bf2['querySelector'](_0x352b48(0x659))[_0x352b48(0x75d)];let _0x2357b2=null,_0x1216f1='';switch(_0x2e90b4){case _0x352b48(0x433):const _0x1ad28e=_0x466bf2['querySelectorAll']('input[type=\x22text\x22]');_0x2357b2=Array[_0x352b48(0x4c4)](_0x1ad28e)['map'](_0x467ef8=>_0x467ef8[_0x352b48(0x75d)]);const _0x126d8d=_0x466bf2['querySelector'](_0x352b48(0x40b));_0x126d8d&&(_0x1216f1=_0x2357b2[parseInt(_0x126d8d[_0x352b48(0x75d)])]);break;case'short_answer':_0x1216f1=_0x466bf2[_0x352b48(0x18e)](_0x352b48(0x684))[_0x352b48(0x75d)];break;case _0x352b48(0x598):const _0x573faa=_0x466bf2['querySelector'](_0x352b48(0x40b));_0x1216f1=_0x573faa?_0x573faa[_0x352b48(0x75d)]:'';break;case _0x352b48(0x193):_0x1216f1=_0x466bf2['querySelector'](_0x352b48(0x4cb))['value'];break;}return{'question':_0x2c5c9f,'options':_0x2357b2,'proposedAnswer':_0x1216f1};}),_0x23cfa8=_0x3c3461(0x537)+JSON[_0x3c3461(0x4b3)](_0x2ad449)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xe2e8df={'type':_0x3c3461(0x656),'items':{'type':_0x3c3461(0x82c),'properties':{'questionIndex':{'type':_0x3c3461(0x67d)},'isCorrect':{'type':_0x3c3461(0x643)},'justification':{'type':_0x3c3461(0x6b3)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x3c3461(0x1ac),'isCorrect',_0x3c3461(0x800)]}},_0x3a4fde=await callAnalysisApi(_0x23cfa8,{'type':_0x3c3461(0x82c),'properties':{'result':_0xe2e8df},'required':[_0x3c3461(0x771)]});displayVerificationResultsInEditor(_0x3a4fde[_0x3c3461(0x771)]);}catch(_0x291efc){console[_0x3c3461(0x6a9)](_0x3c3461(0x673),_0x291efc),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x398b75[_0x3c3461(0x4c9)]=![],_0x398b75[_0x3c3461(0x305)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0xe377e6){const _0x8afd08=_0x576079;_0xe377e6[_0x8afd08(0x570)](_0x556258=>{const _0xb538=_0x8afd08,_0x403b1a=document[_0xb538(0x18e)](_0xb538(0x1d1)+_0x556258['questionIndex']+'\x22]');if(_0x403b1a){const _0x24f00d=_0x403b1a[_0xb538(0x18e)](_0xb538(0x220));if(_0x24f00d)_0x24f00d[_0xb538(0x699)]();let _0x2ab873='';_0x556258[_0xb538(0x31d)]?_0x2ab873=_0xb538(0x5b1):_0x2ab873=_0xb538(0xdc)+_0x556258[_0xb538(0x800)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x556258[_0xb538(0x2cd)]?_0xb538(0x7ae)+_0x556258['suggestedAnswer']+_0xb538(0x630):'')+_0xb538(0x415),_0x403b1a['insertAdjacentHTML'](_0xb538(0x447),_0x2ab873);}}),showMessage(_0x8afd08(0x263));}async function handleVerifyAnswers(){const _0x616c6a=_0x576079;if(!currentQuizData||!currentQuizData[_0x616c6a(0x7cd)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x44c215=document[_0x616c6a(0x613)](_0x616c6a(0xf9));_0x44c215[_0x616c6a(0x4c9)]=!![],_0x44c215['innerHTML']=_0x616c6a(0x57f);try{const _0x201668=currentQuizData[_0x616c6a(0x7cd)]['map']((_0x40b739,_0x27b80c)=>{const _0x408e6d=_0x616c6a;let _0x235f82='';const _0x1e5dfb=_0x40b739[_0x408e6d(0x7f7)]||currentQuizData[_0x408e6d(0x741)];switch(_0x1e5dfb){case _0x408e6d(0x433):_0x235f82=_0x40b739[_0x408e6d(0x516)][_0x40b739[_0x408e6d(0x62e)]];break;case _0x408e6d(0x380):_0x235f82=_0x40b739[_0x408e6d(0x89)];break;case _0x408e6d(0x598):_0x235f82=_0x40b739[_0x408e6d(0x619)][_0x408e6d(0x770)]();break;case _0x408e6d(0x193):_0x235f82=_0x40b739[_0x408e6d(0x6ea)];break;}return{'question':_0x40b739[_0x408e6d(0x13f)]||_0x40b739['questionText'],'options':_0x40b739[_0x408e6d(0x516)]||null,'proposedAnswer':_0x235f82};}),_0xd7bd2c=_0x616c6a(0xaf)+JSON[_0x616c6a(0x4b3)](_0x201668)+_0x616c6a(0x3c8),_0x1e4ffe={'type':_0x616c6a(0x656),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x616c6a(0x67d)},'isCorrect':{'type':_0x616c6a(0x643)},'justification':{'type':_0x616c6a(0x6b3)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x616c6a(0x1ac),_0x616c6a(0x31d),_0x616c6a(0x800)]}},_0x4529da=await callAnalysisApi(_0xd7bd2c,{'type':'OBJECT','properties':{'result':_0x1e4ffe},'required':[_0x616c6a(0x771)]});displayVerificationResults(_0x4529da[_0x616c6a(0x771)]);}catch(_0x73cad5){console['error']('Error\x20verifying\x20answers:',_0x73cad5),showMessage(_0x616c6a(0x406));}finally{_0x44c215['disabled']=![],_0x44c215[_0x616c6a(0x305)]=_0x616c6a(0x6c6);}}function displayVerificationResults(_0x4035cf){const _0x171d15=_0x576079;_0x4035cf['forEach'](_0x3a2f32=>{const _0x327133=_0x1b40,_0x9d9da6=document[_0x327133(0x18e)]('div[data-question-index=\x22'+_0x3a2f32['questionIndex']+'\x22]');if(_0x9d9da6){const _0x2da8af=_0x9d9da6['querySelector'](_0x327133(0x3df));if(_0x2da8af)_0x2da8af[_0x327133(0x699)]();let _0x85a711='';_0x3a2f32[_0x327133(0x31d)]?_0x85a711='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x85a711=_0x327133(0x298)+_0x3a2f32[_0x327133(0x800)]+_0x327133(0x169)+(_0x3a2f32[_0x327133(0x2cd)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x3a2f32[_0x327133(0x2cd)]+_0x327133(0x630):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x9d9da6[_0x327133(0x96)]('beforeend',_0x85a711);}}),showMessage(_0x171d15(0x263));}function compareNumericalAnswers(_0x50eb0e,_0x4027a3){const _0x25f9c8=_0x576079,_0x569695=String(_0x50eb0e)[_0x25f9c8(0x3c4)](',','.')['replace'](/[^\d.-]/g,'')[_0x25f9c8(0x44a)](),_0x34173b=String(_0x4027a3)['replace'](',','.')[_0x25f9c8(0x3c4)](/[^\d.-]/g,'')[_0x25f9c8(0x44a)]();if(_0x569695===''||_0x34173b==='')return![];const _0x156696=parseFloat(_0x569695),_0x3ad029=parseFloat(_0x34173b);if(isNaN(_0x156696)||isNaN(_0x3ad029))return![];return Math['abs'](_0x156696-_0x3ad029)<0.001;}async function gradeShortAnswer(_0x44d24d,_0x1bc12a){const _0x4a55a2=_0x576079,_0x3c741a=_0x1bc12a['idealAnswer'];if(String(_0x44d24d)[_0x4a55a2(0x44a)]()[_0x4a55a2(0x1f8)]()===String(_0x3c741a)['trim']()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x44d24d,_0x3c741a))return!![];return console[_0x4a55a2(0x737)](_0x4a55a2(0x4ed)),await gradeShortAnswerWithAI(_0x44d24d,_0x3c741a);}async function revealAnswerForAdmin(_0x40313a,_0x23a6d6){const _0x1a6929=_0x576079;if(document['getElementById'](_0x1a6929(0x526)))return;const _0x263780=doc(db,_0x1a6929(0x672)+appId+_0x1a6929(0x6c2),currentLiveGameId);await updateDoc(_0x263780,{'questionStatus':_0x1a6929(0x12f)});const _0x252801=liveGameView[_0x1a6929(0x18e)](_0x1a6929(0x1aa));_0x252801&&(_0x252801[_0x1a6929(0x7d0)][_0x1a6929(0x699)]('bg-white/30'),_0x252801[_0x1a6929(0x7d0)]['add']('bg-green-300','text-green-900','font-bold',_0x1a6929(0x5d0),_0x1a6929(0x148)),_0x252801[_0x1a6929(0x305)]=_0x1a6929(0x4b8)+_0x252801[_0x1a6929(0x305)]);const _0x12ea1c=document['getElementById'](_0x1a6929(0x42a));_0x12ea1c&&(_0x12ea1c[_0x1a6929(0x305)]=_0x1a6929(0x1a7)+(_0x40313a+0x1===_0x23a6d6?_0x1a6929(0x5d5):'ข้อต่อไป')+_0x1a6929(0x3b6),document['getElementById']('next-live-question-btn')[_0x1a6929(0x1e9)](_0x1a6929(0x475),async()=>{const _0x273f37=_0x1a6929,_0x4ace98=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x4f36b4=await getDoc(_0x4ace98);if(!_0x4f36b4[_0x273f37(0x438)]())return;const _0x5545df=_0x4f36b4['data'](),_0x19b018={};if(_0x5545df[_0x273f37(0x9c)])for(const _0x19d0ee in _0x5545df['players']){_0x19b018[_0x273f37(0xa3)+_0x19d0ee+_0x273f37(0x371)]=![];}const _0x51a373=_0x40313a+0x1;_0x51a373<_0x23a6d6?(_0x19b018[_0x273f37(0x212)]=_0x51a373,_0x19b018[_0x273f37(0x65d)]=serverTimestamp(),_0x19b018[_0x273f37(0x459)]=_0x273f37(0x5ba),await updateDoc(_0x4ace98,_0x19b018)):await updateDoc(_0x4ace98,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x26e52a=>{const _0x1c72c7=_0x1b40;if(_0x26e52a){userId=_0x26e52a['uid'],userIdDisplay['textContent']=userId;const _0x4aee06=await loadUserPreferences();_0x4aee06[_0x1c72c7(0x490)]&&(document[_0x1c72c7(0x613)](_0x1c72c7(0x3ec))[_0x1c72c7(0x75d)]=_0x4aee06[_0x1c72c7(0x490)]);globalDashboardSettings[_0x1c72c7(0x2ae)]=_0x4aee06['projectView']||_0x1c72c7(0x514);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x41f9da,_0x465354){const _0x277a6a=_0x576079;if(!userId)return;try{const _0x5a96bf=doc(db,_0x277a6a(0x672)+appId+_0x277a6a(0x34c)+userId+'/preferences/main'),_0x5f4bb8={};_0x5f4bb8[_0x41f9da]=_0x465354,await setDoc(_0x5a96bf,_0x5f4bb8,{'merge':!![]});}catch(_0x247e80){console[_0x277a6a(0x6a9)](_0x277a6a(0x5c3),_0x247e80);}}async function loadUserPreferences(){const _0x455ee6=_0x576079;if(!userId)return{};try{const _0xac2ec2=doc(db,_0x455ee6(0x672)+appId+_0x455ee6(0x34c)+userId+_0x455ee6(0x2b4)),_0x390725=await getDoc(_0xac2ec2);if(_0x390725[_0x455ee6(0x438)]())return _0x390725[_0x455ee6(0xe3)]();return{};}catch(_0x3d3c3e){return console[_0x455ee6(0x6a9)](_0x455ee6(0x363),_0x3d3c3e),{};}}function showPodiumView(_0x119db4){const _0x525231=_0x576079,_0x2a9645=Object[_0x525231(0x34b)](_0x119db4)[_0x525231(0xd0)](([_0xac5c38,_0x399155])=>({'name':_0xac5c38,'score':_0x399155['score']||0x0,'badges':_0x399155[_0x525231(0x511)]||[]}));_0x2a9645['sort']((_0xffe971,_0x5c5c5e)=>{const _0x3846fb=_0x525231,_0x34e75f=_0x5c5c5e[_0x3846fb(0x190)]-_0xffe971[_0x3846fb(0x190)];if(_0x34e75f!==0x0)return _0x34e75f;return(_0x5c5c5e[_0x3846fb(0x511)]['length']||0x0)-(_0xffe971[_0x3846fb(0x511)][_0x3846fb(0x5dc)]||0x0);});const _0x37e8d7=_0x2a8adf=>{const _0x5169c8=_0x525231;if(!_0x2a8adf||_0x2a8adf[_0x5169c8(0x5dc)]===0x0)return'';const _0x5cb916={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x2a8adf[_0x5169c8(0xd0)](_0x3b62d9=>_0x5cb916[_0x3b62d9]||'')[_0x5169c8(0x815)]('')+'</div>';},_0x2545aa=_0x2a9645[_0x525231(0x822)](0x3),_0x29291c=_0x2545aa[_0x525231(0x5dc)]>0x0?_0x525231(0x4ea)+_0x2545aa[_0x525231(0xd0)]((_0x38e047,_0x13aed0)=>_0x525231(0x465)+(_0x13aed0+0x4)+_0x525231(0x6bf)+_0x38e047[_0x525231(0x386)]+_0x525231(0x5da)+_0x38e047[_0x525231(0x190)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x525231(0x815)]('')+_0x525231(0xa9):'',_0x597d1e=_0x525231(0x54a)+(_0x2a9645[0x1]?_0x525231(0x52a)+_0x2a9645[0x1]['name']+_0x525231(0x381)+_0x37e8d7(_0x2a9645[0x1][_0x525231(0x511)])+_0x525231(0x3aa)+_0x2a9645[0x1][_0x525231(0x190)]+_0x525231(0x5a5):_0x525231(0x2ef))+_0x525231(0x719)+(_0x2a9645[0x0]?_0x525231(0x696)+_0x2a9645[0x0][_0x525231(0x386)]+_0x525231(0x381)+_0x37e8d7(_0x2a9645[0x0][_0x525231(0x511)])+_0x525231(0x62c)+_0x2a9645[0x0]['score']+_0x525231(0x5e9):_0x525231(0x2ef))+_0x525231(0x719)+(_0x2a9645[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2a9645[0x2][_0x525231(0x386)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37e8d7(_0x2a9645[0x2][_0x525231(0x511)])+_0x525231(0x3aa)+_0x2a9645[0x2][_0x525231(0x190)]+_0x525231(0x5e4):_0x525231(0x2ef))+_0x525231(0x387)+_0x29291c+_0x525231(0x687)+(currentMode==='admin'?_0x525231(0x554):_0x525231(0x728))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x597d1e,currentMode===_0x525231(0x82b)&&document['getElementById'](_0x525231(0x24a))[_0x525231(0x1e9)]('click',async()=>{const _0x325a66=_0x525231,_0xfac19d=doc(db,_0x325a66(0x672)+appId+_0x325a66(0x6c2),currentLiveGameId);await deleteDoc(_0xfac19d),showView(_0x325a66(0xd6));});}async function handleStartLiveRace(_0x1b4018){const _0x237188=_0x576079;let _0x5ae6a9=allQuizzes['find'](_0x5f05db=>_0x5f05db['id']===_0x1b4018);if(!_0x5ae6a9){const _0x263dbe=doc(db,_0x237188(0x672)+appId+_0x237188(0x617),_0x1b4018),_0x32e4bb=await getDoc(_0x263dbe);if(!_0x32e4bb[_0x237188(0x438)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x5ae6a9={'id':_0x32e4bb['id'],..._0x32e4bb['data']()};}currentQuizData=getShuffledQuiz(_0x5ae6a9);const _0x34a21f=_0x5ae6a9['projectId']||currentProjectId||null,_0x4aa9ea=Math[_0x237188(0x452)](0x3e8+Math[_0x237188(0x633)]()*0x2328)[_0x237188(0x770)]();currentLiveGamePin=_0x4aa9ea;try{const _0x48e7da=await addDoc(collection(db,_0x237188(0x672)+appId+_0x237188(0x6c2)),{'quizId':_0x1b4018,'projectId':_0x34a21f,'status':_0x237188(0x124),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4aa9ea,'createdAt':serverTimestamp()});currentLiveGameId=_0x48e7da['id'],showAdminLobbyView(_0x4aa9ea,_0x5ae6a9[_0x237188(0x751)]),listenForLiveGameUpdates();}catch(_0x1be735){console[_0x237188(0x6a9)](_0x237188(0x1d7),_0x1be735),showMessage(_0x237188(0x590));}}async function handleShowStudentRankings(){const _0x549ff0=_0x576079,_0x54ab8a=document['querySelector'](_0x549ff0(0x194));_0x54ab8a&&(_0x54ab8a[_0x549ff0(0x305)]=_0x549ff0(0x753));const _0x26cb1e=document[_0x549ff0(0x18e)]('#student-project-leaderboard-content\x20thead');_0x26cb1e&&(_0x26cb1e[_0x549ff0(0x305)]=_0x549ff0(0x74c));const _0x1e8e01=document[_0x549ff0(0x613)](_0x549ff0(0x503));_0x1e8e01[_0x549ff0(0x7d0)][_0x549ff0(0x699)](_0x549ff0(0x580)),document[_0x549ff0(0x613)](_0x549ff0(0x443))[_0x549ff0(0x569)]=()=>_0x1e8e01[_0x549ff0(0x7d0)][_0x549ff0(0x4c0)](_0x549ff0(0x580));const _0x4aa8c0=document[_0x549ff0(0x613)]('student-quiz-leaderboard-tab'),_0x18547f=document[_0x549ff0(0x613)]('student-project-leaderboard-tab'),_0x53ad11=document[_0x549ff0(0x613)](_0x549ff0(0x723)),_0x239796=document[_0x549ff0(0x613)](_0x549ff0(0x473));_0x4aa8c0['onclick']=()=>{const _0x1fbf47=_0x549ff0;_0x4aa8c0['classList']['add'](_0x1fbf47(0x67b)),_0x18547f[_0x1fbf47(0x7d0)][_0x1fbf47(0x699)](_0x1fbf47(0x67b)),_0x53ad11[_0x1fbf47(0x7d0)][_0x1fbf47(0x699)](_0x1fbf47(0x580)),_0x239796['classList'][_0x1fbf47(0x4c0)](_0x1fbf47(0x580));},_0x18547f[_0x549ff0(0x569)]=()=>{const _0x382324=_0x549ff0;_0x18547f[_0x382324(0x7d0)][_0x382324(0x4c0)]('active'),_0x4aa8c0[_0x382324(0x7d0)][_0x382324(0x699)](_0x382324(0x67b)),_0x239796['classList']['remove']('hidden'),_0x53ad11[_0x382324(0x7d0)][_0x382324(0x4c0)](_0x382324(0x580));};try{const _0x59c7e8=collection(db,_0x549ff0(0x672)+appId+_0x549ff0(0x6d4)+currentQuizData['id']+_0x549ff0(0x3dd)),_0x8e6b84=await getDocs(_0x59c7e8),_0x202e1e=_0x8e6b84['docs'][_0x549ff0(0xd0)](_0x3997d=>_0x3997d['data']());renderQuizLeaderboard(_0x202e1e,currentQuizData,_0x549ff0(0x1e6));const _0x5b0d96=collection(db,_0x549ff0(0x672)+appId+_0x549ff0(0x82f)+currentQuizData['projectId']+_0x549ff0(0x39c)),_0x606fd3=await getDocs(_0x5b0d96),_0x26fea3=_0x606fd3[_0x549ff0(0x301)]['map'](_0x517271=>_0x517271[_0x549ff0(0xe3)]());renderLeaderboard(_0x26fea3,'student-project-leaderboard-table-body');}catch(_0x5e4e45){console['error'](_0x549ff0(0x1fe),_0x5e4e45),showMessage(_0x549ff0(0x4e3));}}async function handleSaveToBank(_0x3d653d){const _0x5afffd=_0x576079,_0xadb679=_0x3d653d[_0x5afffd(0x6a2)],_0x413258=_0xadb679[_0x5afffd(0x663)][_0x5afffd(0x1f5)],_0x2ccf85=currentQuizData[_0x5afffd(0x7cd)][_0x413258];if(!userId){showMessage(_0x5afffd(0xef));return;}try{const _0x308c06={..._0x2ccf85,'originalTopic':currentQuizData[_0x5afffd(0x751)],'savedAt':serverTimestamp()},_0x5e9fb5=collection(db,_0x5afffd(0x672)+appId+_0x5afffd(0x34c)+userId+'/questionBank');await addDoc(_0x5e9fb5,_0x308c06),showMessage(_0x5afffd(0x41c)),_0xadb679[_0x5afffd(0x7d0)][_0x5afffd(0x699)]('text-purple-600'),_0xadb679[_0x5afffd(0x7d0)][_0x5afffd(0x4c0)](_0x5afffd(0xd1)),_0xadb679[_0x5afffd(0x4c9)]=!![];}catch(_0x5cb23d){console[_0x5afffd(0x6a9)](_0x5afffd(0x1f9),_0x5cb23d),showMessage(_0x5afffd(0x29c));}}function listenForStarredQuizzes(){const _0x139285=_0x576079;if(!userId)return;const _0x4de34c=collection(db,_0x139285(0x672)+appId+_0x139285(0x617)),_0x316bdc=query(_0x4de34c,where(_0x139285(0x21f),'==',!![]));onSnapshot(_0x316bdc,_0x32519c=>{const _0x5d1593=_0x139285;starredQuizzes=_0x32519c[_0x5d1593(0x301)][_0x5d1593(0xd0)](_0x5e5e20=>({'id':_0x5e5e20['id'],..._0x5e5e20[_0x5d1593(0xe3)]()})),currentProjectId===_0x5d1593(0x3d1)?renderQuizzes():renderProjects();},_0x58738c=>{const _0x52e335=_0x139285;console['error'](_0x52e335(0x4d2),_0x58738c);});}function exportQuizAsWorksheetPDF(){const _0x1d742b=_0x576079;if(!currentQuizData||!currentQuizData[_0x1d742b(0x7cd)]){showMessage(_0x1d742b(0x408));return;}const _0x4b616c=currentQuizData,_0x137bc7=window[_0x1d742b(0x2f4)]('',_0x1d742b(0x595)),_0x28c0b6=_0x3ca1aa=>String[_0x1d742b(0x22a)](0x41+_0x3ca1aa),_0x31f0c3=_0x1d742b(0x15b)+_0x4b616c[_0x1d742b(0x751)]+_0x1d742b(0x782)+_0x4b616c[_0x1d742b(0x751)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b616c[_0x1d742b(0x7cd)][_0x1d742b(0xd0)]((_0x1293f7,_0x42506e)=>{const _0xe03ec=_0x1d742b;let _0x4ffbe2='';const _0x19b88f=_0x1293f7[_0xe03ec(0x7f7)]||_0x4b616c['quizType'];switch(_0x19b88f){case _0xe03ec(0x433):case'fill_in_with_choices':_0x4ffbe2='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x1293f7['options']['map']((_0x33a9c8,_0x5854c6)=>_0xe03ec(0x4b0)+_0x28c0b6(_0x5854c6)+'.\x20'+_0x33a9c8+_0xe03ec(0x234))[_0xe03ec(0x815)](_0xe03ec(0x4fe))+'</div>';break;case _0xe03ec(0x598):_0x4ffbe2=_0xe03ec(0x2bd);break;default:_0x4ffbe2='<div\x20class=\x22answer-space\x22></div>';break;}return _0xe03ec(0x394)+(_0x42506e+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x1293f7[_0xe03ec(0x13f)]||_0x1293f7[_0xe03ec(0x4a9)])+_0xe03ec(0x2c8)+(_0x1293f7[_0xe03ec(0x80a)]?_0xe03ec(0x66f)+_0x1293f7[_0xe03ec(0x80a)]+_0xe03ec(0x4bb):'')+_0xe03ec(0x444)+_0x4ffbe2+_0xe03ec(0x3e5);})['join']('')+_0x1d742b(0x4bc);_0x137bc7['document']['write'](_0x31f0c3),_0x137bc7[_0x1d742b(0x5be)]['close'](),_0x137bc7['onload']=function(){setTimeout(()=>{const _0x595430=_0x1b40;_0x137bc7[_0x595430(0x17e)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x593d64=_0x576079;if(!currentQuizData||!currentQuizData[_0x593d64(0x7cd)]){showMessage(_0x593d64(0x408));return;}const _0x44cd51=currentQuizData,_0x473962=window[_0x593d64(0x2f4)]('',_0x593d64(0x595)),_0x30782a=_0x2cafe6=>String[_0x593d64(0x22a)](0x41+_0x2cafe6),_0x1da7f1=_0x593d64(0x662)+_0x44cd51[_0x593d64(0x751)]+_0x593d64(0x39d)+_0x44cd51['questions'][_0x593d64(0xd0)]((_0x1dbbe9,_0x685368)=>{const _0x28bfa3=_0x593d64;let _0x2c9dc1='';const _0x42b41d=_0x1dbbe9['questionType']||_0x44cd51[_0x28bfa3(0x741)];switch(_0x42b41d){case'multiple_choice':case _0x28bfa3(0x11f):_0x2c9dc1=_0x28bfa3(0x5dd)+_0x1dbbe9[_0x28bfa3(0x516)]['map']((_0x2f9e0e,_0x35c6bf)=>_0x28bfa3(0x58c)+_0x30782a(_0x35c6bf)+'.\x20'+_0x2f9e0e+_0x28bfa3(0x796))[_0x28bfa3(0x815)]('<br>')+_0x28bfa3(0x4d7);break;case _0x28bfa3(0x598):_0x2c9dc1='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x2c9dc1='';break;}return _0x28bfa3(0x755)+_0x44cd51[_0x28bfa3(0x751)]+_0x28bfa3(0x5cb)+(_0x685368+0x1)+_0x28bfa3(0x71a)+(_0x1dbbe9[_0x28bfa3(0x13f)]||_0x1dbbe9['questionText'])+_0x28bfa3(0x2c8)+(_0x1dbbe9[_0x28bfa3(0x80a)]?_0x28bfa3(0x523)+_0x1dbbe9[_0x28bfa3(0x80a)]+_0x28bfa3(0x4bb):'')+_0x28bfa3(0x444)+_0x2c9dc1+_0x28bfa3(0x7af);})[_0x593d64(0x815)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x473962[_0x593d64(0x5be)][_0x593d64(0x702)](_0x1da7f1),_0x473962[_0x593d64(0x5be)][_0x593d64(0x2ab)](),_0x473962[_0x593d64(0x375)]=function(){setTimeout(()=>{const _0x3f3ed6=_0x1b40;_0x473962[_0x3f3ed6(0x17e)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2baca7){const _0x1b9e0d=_0x576079,_0x3a760f=doc(db,_0x1b9e0d(0x672)+appId+_0x1b9e0d(0x617),_0x2baca7);try{const _0x40bd94=await getDoc(_0x3a760f);if(_0x40bd94[_0x1b9e0d(0x438)]()){const _0x1ac2f5=_0x40bd94[_0x1b9e0d(0xe3)]()['isStarred']||![];await updateDoc(_0x3a760f,{'isStarred':!_0x1ac2f5});}}catch(_0x3a9f01){console[_0x1b9e0d(0x6a9)]('Error\x20toggling\x20star\x20status:',_0x3a9f01),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x2982ce=_0x576079,_0x220280=document[_0x2982ce(0x613)](_0x2982ce(0x3e4));_0x220280[_0x2982ce(0x305)]=_0x2982ce(0x180);try{const _0x417895=collection(db,_0x2982ce(0x672)+appId+_0x2982ce(0x34c)+userId+_0x2982ce(0x7b7)),_0x2a445f=query(_0x417895),_0x18be37=await getDocs(_0x2a445f);if(_0x18be37[_0x2982ce(0x5e8)]){_0x220280['innerHTML']=_0x2982ce(0x134);return;}let _0x51e35e=_0x18be37[_0x2982ce(0x301)]['map'](_0x30b85f=>{const _0x2c1aa1=_0x2982ce,_0x5a9669=_0x30b85f['data'](),_0x2eefe2=_0x30b85f['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x2c1aa1(0x4b3)](_0x5a9669)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5a9669[_0x2c1aa1(0x4a9)]||_0x5a9669['stem'])+_0x2c1aa1(0xe7)+_0x5a9669[_0x2c1aa1(0xde)]+_0x2c1aa1(0x724);})['join']('');_0x220280[_0x2982ce(0x305)]=_0x2982ce(0x50d)+_0x51e35e+_0x2982ce(0x31b),document[_0x2982ce(0x613)](_0x2982ce(0xc7))[_0x2982ce(0x1e9)](_0x2982ce(0x475),createQuizFromBank);}catch(_0x3c4a37){console['error'](_0x2982ce(0x78b),_0x3c4a37),_0x220280['innerHTML']=_0x2982ce(0x67e);}}function showAdminLiveQuestionView(_0x4a6c90,_0x447716,_0x3d0ecd){const _0xd6106f=_0x576079,_0x1b2019=_0x4a6c90[_0xd6106f(0x7f7)]||currentQuizData['quizType'];let _0x705169='';if(_0x1b2019==='multiple_choice'||_0x1b2019===_0xd6106f(0x598)){const _0x2ef544=_0x1b2019===_0xd6106f(0x598)?[_0xd6106f(0x3f1),_0xd6106f(0x68b)]:_0x4a6c90[_0xd6106f(0x516)],_0x46d88a=_0x1b2019===_0xd6106f(0x598)?_0x4a6c90[_0xd6106f(0x619)]?0x0:0x1:_0x4a6c90[_0xd6106f(0x62e)];_0x705169=_0x2ef544[_0xd6106f(0xd0)]((_0x516523,_0x14cf32)=>_0xd6106f(0x346)+(_0x14cf32===_0x46d88a)+_0xd6106f(0x237)+_0x516523+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x1b2019==='matching_item'){const _0x5e4ab2=_0x4a6c90[_0xd6106f(0x27d)]||[];_0x705169=_0x5e4ab2['map'](_0x7ca956=>_0xd6106f(0x346)+(_0x7ca956===_0x4a6c90[_0xd6106f(0x6ea)])+_0xd6106f(0x237)+_0x7ca956+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xd6106f(0x815)]('');}}const _0x40aca3=_0x4a6c90[_0xd6106f(0x13f)]||_0x4a6c90[_0xd6106f(0x4a9)],_0xebe7ab=_0xd6106f(0x685)+(_0x447716+0x1)+_0xd6106f(0x515)+_0x3d0ecd+_0xd6106f(0x256)+_0x40aca3+_0xd6106f(0x5f3)+_0x705169+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0xd6106f(0x305)]=_0xebe7ab;window[_0xd6106f(0x561)]&&MathJax['typesetPromise']&&MathJax[_0xd6106f(0x47e)]([liveGameView]);const _0x74bc3c=document[_0xd6106f(0x613)](_0xd6106f(0x42a));document[_0xd6106f(0x613)](_0xd6106f(0x6cb))[_0xd6106f(0x1e9)](_0xd6106f(0x475),async()=>{const _0x1df062=_0xd6106f,_0x30ca82=doc(db,_0x1df062(0x672)+appId+_0x1df062(0x6c2),currentLiveGameId);await updateDoc(_0x30ca82,{'questionStatus':_0x1df062(0x12f)});const _0x4c4316=liveGameView[_0x1df062(0x18e)](_0x1df062(0x1aa));_0x4c4316&&(_0x4c4316[_0x1df062(0x7d0)]['remove'](_0x1df062(0x48a)),_0x4c4316[_0x1df062(0x7d0)][_0x1df062(0x4c0)](_0x1df062(0x239),_0x1df062(0x132),_0x1df062(0x550),'border-4',_0x1df062(0x148)),_0x4c4316[_0x1df062(0x305)]=_0x1df062(0x4b8)+_0x4c4316[_0x1df062(0x305)]),_0x74bc3c[_0x1df062(0x305)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x447716+0x1===_0x3d0ecd?_0x1df062(0x5d5):_0x1df062(0x3b9))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x1df062(0x613)](_0x1df062(0x526))[_0x1df062(0x1e9)](_0x1df062(0x475),async()=>{const _0x50f588=_0x1df062,_0x400f4d=doc(db,_0x50f588(0x672)+appId+'/public/data/liveGames',currentLiveGameId),_0x1ddcdc=await getDoc(_0x400f4d);if(!_0x1ddcdc[_0x50f588(0x438)]())return;const _0x3b8e6e=_0x1ddcdc[_0x50f588(0xe3)](),_0x33bdc4={};if(_0x3b8e6e['players'])for(const _0x25a87c in _0x3b8e6e[_0x50f588(0x9c)]){_0x33bdc4['players.'+_0x25a87c+'.answeredCurrentQuestion']=![];}const _0x22b03a=_0x447716+0x1;_0x22b03a<_0x3d0ecd?(_0x33bdc4[_0x50f588(0x212)]=_0x22b03a,_0x33bdc4[_0x50f588(0x65d)]=serverTimestamp(),_0x33bdc4['questionStatus']='answering',await updateDoc(_0x400f4d,_0x33bdc4)):await updateDoc(_0x400f4d,{'status':_0x50f588(0x786)});});}),document[_0xd6106f(0x613)]('end-game-btn')['addEventListener'](_0xd6106f(0x475),async()=>{const _0xbb674a=_0xd6106f,_0x39f338=doc(db,_0xbb674a(0x672)+appId+_0xbb674a(0x6c2),currentLiveGameId);await deleteDoc(_0x39f338),showView(_0xbb674a(0xd6));});}function showStudentLiveQuestionView(_0x366c02,_0x5f2d8b,_0x287ddf){const _0x4921d8=_0x576079,_0x5d02a8=_0x366c02['questionType']||currentQuizData['quizType'];let _0x5b37e4='';if(_0x5d02a8==='multiple_choice'||_0x5d02a8===_0x4921d8(0x598)){const _0x41327d=_0x5d02a8===_0x4921d8(0x598)?[_0x4921d8(0x3f1),_0x4921d8(0x68b)]:_0x366c02[_0x4921d8(0x516)];_0x5b37e4=_0x41327d[_0x4921d8(0xd0)]((_0x3ebfd8,_0x3c333d)=>_0x4921d8(0x2ea)+_0x3c333d+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ebfd8+_0x4921d8(0x28b))[_0x4921d8(0x815)]('');}else{if(_0x5d02a8===_0x4921d8(0x193)){const _0x42bfb1=_0x366c02['allResponses']||[];_0x5b37e4=_0x42bfb1['map']((_0x207cfa,_0x5d15a1)=>_0x4921d8(0x2ea)+_0x5d15a1+_0x4921d8(0x106)+_0x207cfa+_0x4921d8(0x28b))[_0x4921d8(0x815)]('');}else _0x5d02a8===_0x4921d8(0x380)&&(_0x5b37e4=_0x4921d8(0x90));}const _0x47f666=_0x366c02['stem']||_0x366c02[_0x4921d8(0x4a9)],_0x3151f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x5f2d8b+0x1)+'\x20/\x20'+_0x287ddf+_0x4921d8(0x3a1)+_0x47f666+_0x4921d8(0x82d)+_0x5b37e4+_0x4921d8(0x501);liveGameView['innerHTML']=_0x3151f9;window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x4921d8(0x47e)]([liveGameView]);const _0x4e5305=document[_0x4921d8(0x613)](_0x4921d8(0x80c));_0x4e5305&&_0x4e5305[_0x4921d8(0x1e9)](_0x4921d8(0x475),()=>{const _0x9b01b6=_0x4921d8,_0x2a415c=document[_0x9b01b6(0x613)](_0x9b01b6(0x4fd))[_0x9b01b6(0x75d)];handleLiveAnswer(_0x2a415c,_0x366c02);}),document[_0x4921d8(0x613)](_0x4921d8(0x7dd))[_0x4921d8(0x1e9)](_0x4921d8(0x475),_0x366f21=>{const _0x36a0d8=_0x4921d8,_0xfc726b=_0x366f21[_0x36a0d8(0x74d)][_0x36a0d8(0x2b6)](_0x36a0d8(0x53c));if(_0xfc726b){const _0x4b2d5b=parseInt(_0xfc726b[_0x36a0d8(0x663)][_0x36a0d8(0x1f5)]);handleLiveAnswer(_0x4b2d5b,_0x366c02);}});}async function handleLiveAnswer(_0x261571,_0x580d68){const _0x866f58=_0x576079;document['querySelectorAll'](_0x866f58(0x73f))[_0x866f58(0x570)](_0x5189a0=>_0x5189a0[_0x866f58(0x4c9)]=!![]);const _0x2eed58=_0x580d68[_0x866f58(0x7f7)]||currentQuizData[_0x866f58(0x741)];let _0x160613=![];if(_0x2eed58==='short_answer'){const _0x1728af=(_0x261571||'')[_0x866f58(0x770)]();_0x160613=await gradeShortAnswer(_0x1728af,_0x580d68);}else{if(_0x2eed58==='multiple_choice')_0x160613=_0x261571===_0x580d68['correctAnswerIndex'];else{if(_0x2eed58==='true_false'){const _0x582bb8=_0x580d68[_0x866f58(0x619)];_0x160613=_0x261571===0x0&&_0x582bb8||_0x261571===0x1&&!_0x582bb8;}else{if(_0x2eed58===_0x866f58(0x193)){const _0x47e890=_0x580d68[_0x866f58(0x27d)][_0x261571];_0x160613=_0x47e890===_0x580d68[_0x866f58(0x6ea)];}}}}const _0x33c3ed=doc(db,'artifacts/'+appId+_0x866f58(0x6c2),currentLiveGameId),_0x2f0589=await getDoc(_0x33c3ed);if(!_0x2f0589['exists']())return;const _0x130c75=_0x2f0589[_0x866f58(0xe3)](),_0x2fb788=_0x130c75[_0x866f58(0x9c)][currentStudentName];let _0x33d870=_0x2fb788[_0x866f58(0x511)]||[],_0x1500ab=_0x2fb788[_0x866f58(0x1b0)]||0x0;const _0x4952cb={};let _0x1cf004=0x0;if(_0x130c75[_0x866f58(0x65d)]){const _0x30df2f=_0x130c75[_0x866f58(0x65d)][_0x866f58(0x783)](),_0x48a1ca=new Date()-_0x30df2f;if(_0x160613){const _0x45590f=0x3e8,_0x547998=0x1f4,_0x3690fe=0x4e20;let _0x575de7=_0x48a1ca/_0x3690fe;if(_0x575de7>0x1)_0x575de7=0x1;const _0x327d6c=Math[_0x866f58(0x296)](_0x575de7*_0x547998);_0x1cf004=_0x45590f-_0x327d6c,_0x48a1ca<=0x1388&&!_0x33d870['includes'](_0x866f58(0x142))&&_0x33d870[_0x866f58(0x6a6)](_0x866f58(0x142));}}_0x160613?(_0x1500ab++,_0x1500ab===0x3&&!_0x33d870[_0x866f58(0x353)](_0x866f58(0x22f))&&(_0x33d870[_0x866f58(0x6a6)]('on_fire'),_0x1500ab=0x0)):_0x1500ab=0x0,_0x160613&&(_0x4952cb[_0x866f58(0xa3)+currentStudentName+_0x866f58(0x229)]=increment(_0x1cf004)),_0x4952cb[_0x866f58(0xa3)+currentStudentName+_0x866f58(0x143)]=_0x33d870,_0x4952cb[_0x866f58(0xa3)+currentStudentName+_0x866f58(0x3c9)]=_0x1500ab,_0x4952cb['players.'+currentStudentName+_0x866f58(0x371)]=!![],_0x4952cb[_0x866f58(0xa3)+currentStudentName+_0x866f58(0x766)]=_0x160613,_0x4952cb[_0x866f58(0xa3)+currentStudentName+_0x866f58(0x6b7)]=_0x1cf004,await updateDoc(_0x33c3ed,_0x4952cb),liveGameView[_0x866f58(0x305)]=_0x866f58(0x72d);}function createQuizFromBank(){const _0x2d8ff7=_0x576079,_0x5111fe=document[_0x2d8ff7(0x20e)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x5111fe[_0x2d8ff7(0x5dc)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x1d68d1=[];_0x5111fe['forEach'](_0x55f373=>{const _0x17f4a4=_0x2d8ff7;_0x1d68d1[_0x17f4a4(0x6a6)](JSON[_0x17f4a4(0xdf)](_0x55f373[_0x17f4a4(0x75d)]));});const _0x13a4ca={'topic':_0x2d8ff7(0x4be),'questions':_0x1d68d1};displayGeneratedQuiz(_0x13a4ca);}function showAdminLobbyView(_0x438c6a,_0x2f2902){const _0x13f5c4=_0x576079;showView(_0x13f5c4(0x164));const _0x3c1311=_0x13f5c4(0xb3)+_0x2f2902+_0x13f5c4(0x1c3)+_0x438c6a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x13f5c4(0x305)]=_0x3c1311,document[_0x13f5c4(0x613)]('start-game-btn')[_0x13f5c4(0x1e9)](_0x13f5c4(0x475),async()=>{const _0x997ab5=_0x13f5c4;if(!currentQuizData||!currentQuizData[_0x997ab5(0x7cd)]||currentQuizData['questions'][_0x997ab5(0x5dc)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x1ff22b=doc(db,_0x997ab5(0x672)+appId+_0x997ab5(0x6c2),currentLiveGameId);await updateDoc(_0x1ff22b,{'status':_0x997ab5(0x7e1),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2a43a7=currentQuizData[_0x997ab5(0x7cd)][0x0],_0x38211e=currentQuizData[_0x997ab5(0x7cd)][_0x997ab5(0x5dc)];showAdminLiveQuestionView(_0x2a43a7,0x0,_0x38211e);}catch(_0x2102a4){console[_0x997ab5(0x6a9)](_0x997ab5(0x5b0),_0x2102a4),showMessage(_0x997ab5(0x1b5));}});}async function openGlobalLiveModal(){const _0x579180=_0x576079;if(allQuizzesGlobal['length']===0x0){const _0x31c2c5=await getDocs(collection(db,'artifacts/'+appId+_0x579180(0x617)));allQuizzesGlobal=_0x31c2c5[_0x579180(0x301)][_0x579180(0xd0)](_0x512bb9=>({'id':_0x512bb9['id'],..._0x512bb9[_0x579180(0xe3)]()}));}renderGlobalQuizList(''),document[_0x579180(0x613)](_0x579180(0x228))[_0x579180(0x7d0)][_0x579180(0x699)](_0x579180(0x580));}async function openQuizBankModal(){const _0x28c4da=_0x576079;if(allQuizzesGlobal['length']===0x0){const _0x40fd3c=await getDocs(collection(db,_0x28c4da(0x672)+appId+_0x28c4da(0x617)));allQuizzesGlobal=_0x40fd3c['docs']['map'](_0x319de3=>({'id':_0x319de3['id'],..._0x319de3['data']()}));}renderQuizBankList(''),document[_0x28c4da(0x613)]('quiz-bank-modal')[_0x28c4da(0x7d0)][_0x28c4da(0x699)]('hidden');}function renderQuizBankList(_0x139a30=''){const _0x3ae973=_0x576079,_0x3985ac=document['getElementById'](_0x3ae973(0x277)),_0x5a911a=_0x139a30[_0x3ae973(0x1f8)]()['trim'](),_0x40fe06=allQuizzesGlobal[_0x3ae973(0xd0)](_0x4e680c=>({..._0x4e680c,'projectName':allProjects['find'](_0x2621fc=>_0x2621fc['id']===_0x4e680c[_0x3ae973(0x605)])?.[_0x3ae973(0x3fd)]||_0x3ae973(0x6c3)}))['filter'](_0x12ac69=>(_0x12ac69[_0x3ae973(0x751)]||'')['toLowerCase']()[_0x3ae973(0x353)](_0x5a911a)||(_0x12ac69[_0x3ae973(0x3fd)]||'')[_0x3ae973(0x1f8)]()[_0x3ae973(0x353)](_0x5a911a)||_0x12ac69['id'][_0x3ae973(0x770)]()[_0x3ae973(0x353)](_0x5a911a));document['getElementById'](_0x3ae973(0x51e))[_0x3ae973(0xe2)]='('+_0x40fe06[_0x3ae973(0x5dc)]+'\x20ชุด)',_0x3985ac[_0x3ae973(0x305)]=_0x40fe06[_0x3ae973(0x5dc)]?_0x40fe06[_0x3ae973(0xd0)](_0x48aa8a=>_0x3ae973(0x6cd)+_0x48aa8a['id']+_0x3ae973(0x300)+(_0x48aa8a[_0x3ae973(0x751)]||_0x3ae973(0x825))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x48aa8a['questions']?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x48aa8a[_0x3ae973(0x3fd)]+_0x3ae973(0x72b)+_0x48aa8a['id']+_0x3ae973(0x1c2)+_0x48aa8a['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x48aa8a['id']+_0x3ae973(0x3f6)+_0x48aa8a['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x3ae973(0x815)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x3985ac[_0x3ae973(0x20e)](_0x3ae973(0x470))[_0x3ae973(0x570)](_0xf535e0=>{const _0x41fda7=_0x3ae973;_0xf535e0[_0x41fda7(0x1e9)](_0x41fda7(0x475),()=>{const _0x558328=_0x41fda7,_0x4d54b8=_0xf535e0[_0x558328(0x663)]['id'];document[_0x558328(0x613)](_0x558328(0x195))[_0x558328(0x7d0)]['add'](_0x558328(0x580)),showQuizDetailView(_0x4d54b8);});}),_0x3985ac[_0x3ae973(0x20e)](_0x3ae973(0x610))[_0x3ae973(0x570)](_0x1b354b=>{const _0x46eb5f=_0x3ae973;_0x1b354b[_0x46eb5f(0x1e9)](_0x46eb5f(0x475),_0x518328=>{const _0x1bc37c=_0x46eb5f;_0x518328[_0x1bc37c(0x6da)]();const _0x308412=_0x1b354b['dataset']['id'],_0x2f8e79=allQuizzesGlobal[_0x1bc37c(0x703)](_0x4d39f9=>_0x4d39f9['id']===_0x308412);_0x2f8e79?(currentQuizData=_0x2f8e79,document['getElementById']('quiz-bank-modal')['classList'][_0x1bc37c(0x4c0)](_0x1bc37c(0x580)),startAdminTest()):showMessage(_0x1bc37c(0x5b9));});}),_0x3985ac[_0x3ae973(0x20e)](_0x3ae973(0x333))[_0x3ae973(0x570)](_0x524480=>{const _0x215738=_0x3ae973;_0x524480[_0x215738(0x1e9)](_0x215738(0x475),_0x3ded27=>{const _0x4e1201=_0x215738;_0x3ded27['stopPropagation']();const _0x7c207c=_0x524480[_0x4e1201(0x663)]['id'],_0x33976c=allQuizzesGlobal[_0x4e1201(0x703)](_0x3fba57=>_0x3fba57['id']===_0x7c207c);_0x33976c?(document['getElementById']('quiz-bank-modal')[_0x4e1201(0x7d0)][_0x4e1201(0x4c0)]('hidden'),handleGenerateParallelFromBank(_0x33976c)):showMessage(_0x4e1201(0x5b9));});}),_0x3985ac['querySelectorAll'](_0x3ae973(0x607))[_0x3ae973(0x570)](_0xa24661=>{const _0x3e88e2=_0x3ae973;_0xa24661[_0x3e88e2(0x1e9)]('click',_0x1fc8c4=>{const _0x20dfa1=_0x3e88e2;_0x1fc8c4[_0x20dfa1(0x6da)]();const _0x47568e=_0xa24661[_0x20dfa1(0x663)]['id'],_0x1c4364=allQuizzesGlobal[_0x20dfa1(0x703)](_0x844ee7=>_0x844ee7['id']===_0x47568e);_0x1c4364?(document['getElementById'](_0x20dfa1(0x195))[_0x20dfa1(0x7d0)][_0x20dfa1(0x4c0)]('hidden'),startPresentation(_0x1c4364)):showMessage(_0x20dfa1(0x5b9));});});}async function handleCompareResults(_0x363079,_0xcd7a57){const _0x1c9af2=_0x576079,_0x2fab5=document['getElementById'](_0x1c9af2(0x3f8)),_0x26a9db=document[_0x1c9af2(0x613)](_0x1c9af2(0x46b)),_0x5c02a2=document[_0x1c9af2(0x613)](_0x1c9af2(0x28c));document[_0x1c9af2(0x613)]('comparison-overall-tab')[_0x1c9af2(0x7d0)]['add'](_0x1c9af2(0x67b)),document[_0x1c9af2(0x613)](_0x1c9af2(0x76f))['classList']['remove'](_0x1c9af2(0x67b)),_0x26a9db[_0x1c9af2(0x7d0)][_0x1c9af2(0x699)]('hidden'),_0x5c02a2[_0x1c9af2(0x7d0)][_0x1c9af2(0x4c0)]('hidden'),_0x26a9db[_0x1c9af2(0x305)]=_0x1c9af2(0x180),_0x5c02a2[_0x1c9af2(0x305)]='',_0x2fab5[_0x1c9af2(0x7d0)][_0x1c9af2(0x699)](_0x1c9af2(0x580));try{const _0x26b2d7=doc(db,_0x1c9af2(0x672)+appId+'/public/data/quizzes',_0x363079),_0x195e5d=await getDoc(_0x26b2d7);if(!_0x195e5d[_0x1c9af2(0x438)]())throw new Error(_0x1c9af2(0xd5));const _0x4da4e1=_0x195e5d[_0x1c9af2(0xe3)](),_0x74a723=_0x4da4e1[_0x1c9af2(0x7cd)]['length'],_0x5ca4d8=collection(db,_0x1c9af2(0x672)+appId+_0x1c9af2(0x6d4)+_0xcd7a57+'/submissions'),_0x572055=collection(db,_0x1c9af2(0x672)+appId+'/public/data/quizzes/'+_0x363079+'/submissions'),[_0x14d818,_0x4050e7]=await Promise['all']([getDocs(_0x5ca4d8),getDocs(_0x572055)]),_0x34dcdf=_0x14d818[_0x1c9af2(0x301)][_0x1c9af2(0xd0)](_0x15412b=>_0x15412b[_0x1c9af2(0xe3)]()),_0xa99ffc=_0x4050e7['docs'][_0x1c9af2(0xd0)](_0x4a97c0=>_0x4a97c0[_0x1c9af2(0xe3)]()),_0xa64bbf=_0x34dcdf['map'](_0x3e9f32=>_0x3e9f32[_0x1c9af2(0x6cf)]),_0x52c093=_0xa99ffc[_0x1c9af2(0xd0)](_0x5d5b4a=>_0x5d5b4a[_0x1c9af2(0x6cf)]),_0x1f5608=calculateMeanAndStdDev(_0xa64bbf),_0x2410e6=calculateMeanAndStdDev(_0x52c093),_0x19a864=_0x1f5608[_0x1c9af2(0x681)],_0x5691db=_0x2410e6[_0x1c9af2(0x681)],_0x1d075c=_0x5691db-_0x19a864;let _0x53f6c4=_0x1c9af2(0x7aa)+_0x19a864[_0x1c9af2(0x25e)](0x2)+_0x1c9af2(0x1bb)+_0x5691db[_0x1c9af2(0x25e)](0x2)+_0x1c9af2(0x24f)+(_0x1d075c>=0x0?_0x1c9af2(0x725):_0x1c9af2(0x16f))+_0x1c9af2(0x307)+(_0x1d075c>=0x0?_0x1c9af2(0x10b):_0x1c9af2(0x718))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x1d075c>=0x0?_0x1c9af2(0x38c):_0x1c9af2(0x2f9))+'\x22>'+(_0x1d075c>=0x0?'+':'')+_0x1d075c['toFixed'](0x2)+_0x1c9af2(0x26f);_0x26a9db['innerHTML']=_0x53f6c4;const _0x1f3feb=document['getElementById'](_0x1c9af2(0x5ac))[_0x1c9af2(0x6b5)]('2d');if(chartInstances['comparison'])chartInstances['comparison'][_0x1c9af2(0x49b)]();chartInstances[_0x1c9af2(0x80f)]=new Chart(_0x1f3feb,{'type':_0x1c9af2(0x4e5),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x1c9af2(0x19e),'data':[_0x19a864],'backgroundColor':_0x1c9af2(0x1fa)},{'label':_0x1c9af2(0x49a),'data':[_0x5691db],'backgroundColor':_0x1c9af2(0x466)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x74a723}}}});const _0x1db18d=currentProjectData['students']||[],_0xbf64bd=_0x1db18d[_0x1c9af2(0xd0)](_0x4480c7=>{const _0x52131f=_0x1c9af2,_0x35dc64=_0x34dcdf['find'](_0x3e49e7=>_0x3e49e7[_0x52131f(0x22c)]===_0x4480c7),_0x5d4b32=_0xa99ffc[_0x52131f(0x703)](_0x4da1b9=>_0x4da1b9[_0x52131f(0x22c)]===_0x4480c7),_0x4825d1=_0x35dc64?_0x35dc64['latestScore']:null,_0x1f2ee4=_0x5d4b32?_0x5d4b32['latestScore']:null,_0x3d4bb3=_0x4825d1!==null&&_0x1f2ee4!==null?_0x1f2ee4-_0x4825d1:null,_0x44b3a9=_0x4825d1!==null?calculateZScore(_0x4825d1,_0x1f5608[_0x52131f(0x681)],_0x1f5608[_0x52131f(0x156)]):null,_0xe818bd=_0x1f2ee4!==null?calculateZScore(_0x1f2ee4,_0x2410e6[_0x52131f(0x681)],_0x2410e6[_0x52131f(0x156)]):null,_0x3ab345=_0x44b3a9!==null?calculateTScore(_0x44b3a9):null,_0x142852=_0xe818bd!==null?calculateTScore(_0xe818bd):null,_0xe0227f=_0x3ab345!==null&&_0x142852!==null?_0x142852-_0x3ab345:null;return{'name':_0x4480c7,'preScore':_0x4825d1,'postScore':_0x1f2ee4,'gain':_0x3d4bb3,'preTScore':_0x3ab345,'postTScore':_0x142852,'tGain':_0xe0227f};});renderIndividualComparisonTable(_0xbf64bd,_0x5c02a2);}catch(_0x4732ab){console[_0x1c9af2(0x6a9)](_0x1c9af2(0x283),_0x4732ab),_0x26a9db[_0x1c9af2(0x305)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x317b3c,_0x416812){const _0x51e44f=_0x576079,_0xcaf3f=_0x317b3c>=_0x416812/0x2,_0x2901fa=_0xcaf3f?_0x51e44f(0x8a):_0x51e44f(0x16f),_0x6c78a4=_0xcaf3f?_0x51e44f(0x412):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x41e3e7=_0xcaf3f?_0x51e44f(0x1c4):'text-red-800',_0xc535c7=_0xcaf3f?'ทำคะแนนได้เกินครึ่ง':_0x51e44f(0x6f8),_0xf07b3d=_0xcaf3f?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x2ace6e=_0x51e44f(0x708)+_0x2901fa+_0x51e44f(0x7b4)+_0x6c78a4+_0x51e44f(0x7ac)+_0x41e3e7+'\x20mb-2\x22>'+_0xc535c7+_0x51e44f(0x1ba)+_0xf07b3d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x2ace6e,studentResultArea[_0x51e44f(0x7d0)][_0x51e44f(0x699)](_0x51e44f(0x580)),studentQuizArea['classList'][_0x51e44f(0x4c0)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0xcaf3f});}function displayPerfectScoreResult(_0x2e5c23,_0x2b310a){const _0x1bfe76=_0x576079,_0x5a8e52=_0x2e5c23===_0x2b310a,_0x44c55b=_0x5a8e52?_0x1bfe76(0x814):'bg-blue-100',_0x36b70c=_0x5a8e52?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x1bfe76(0x827),_0x2a1e6b=_0x5a8e52?'text-yellow-800':_0x1bfe76(0xdb),_0x14e12e=_0x5a8e52?_0x1bfe76(0x62b):_0x1bfe76(0x1b6),_0x82885f=_0x5a8e52?_0x1bfe76(0x6d5):_0x1bfe76(0x6df);let _0x36c7e8=_0x1bfe76(0x708)+_0x44c55b+_0x1bfe76(0x7b4)+_0x36b70c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x2a1e6b+'\x20mb-2\x22>'+_0x14e12e+_0x1bfe76(0x1ba)+_0x82885f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1bfe76(0x305)]=_0x36c7e8,studentResultArea[_0x1bfe76(0x7d0)][_0x1bfe76(0x699)](_0x1bfe76(0x580)),studentQuizArea['classList'][_0x1bfe76(0x4c0)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x2e5c23,'totalQuestions':_0x2b310a});}function renderIndividualComparisonTable(_0x801e43,_0x48b43d){const _0x32309d=_0x576079;_0x801e43[_0x32309d(0x27a)]((_0x43c6c0,_0x31cf49)=>(_0x31cf49[_0x32309d(0x626)]??-Infinity)-(_0x43c6c0['tGain']??-Infinity));let _0x1a023b=_0x32309d(0x53e);_0x801e43[_0x32309d(0x5dc)]===0x0?_0x1a023b+=_0x32309d(0x46c):_0x801e43[_0x32309d(0x570)]((_0x310248,_0x1603ef)=>{const _0xc985eb=_0x32309d;let _0x3b2e60='-',_0x2fb626='';if(_0x310248[_0xc985eb(0x793)]!==null){const _0x575a77=_0x310248[_0xc985eb(0x793)]>0x0?_0xc985eb(0xd1):_0x310248[_0xc985eb(0x793)]<0x0?_0xc985eb(0x7cc):_0xc985eb(0x615),_0xbd2945=_0x310248['gain']>0x0?'+':'';_0x3b2e60=_0xc985eb(0x65f)+_0x575a77+'\x22>'+_0xbd2945+_0x310248[_0xc985eb(0x793)]+'</span>';if(_0x310248[_0xc985eb(0x793)]>0x0)_0x2fb626=_0xc985eb(0x2c6);else _0x310248[_0xc985eb(0x793)]<0x0?_0x2fb626=_0xc985eb(0x75c):_0x2fb626=_0xc985eb(0x738);}let _0x31f7e6='-';if(_0x310248[_0xc985eb(0x626)]!==null){const _0x18a2b6=_0x310248[_0xc985eb(0x626)]>0x0?_0xc985eb(0xd1):_0x310248[_0xc985eb(0x626)]<0x0?'text-red-600':_0xc985eb(0x615),_0x6ae9c6=_0x310248['tGain']>0x0?'+':'';_0x31f7e6=_0xc985eb(0x65f)+_0x18a2b6+'\x22>'+_0x6ae9c6+_0x310248['tGain'][_0xc985eb(0x25e)](0x2)+'</span>';}_0x1a023b+=_0xc985eb(0x620)+(_0x1603ef+0x1)+_0xc985eb(0x57d)+_0x310248['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x310248['preScore']??'-')+_0xc985eb(0x446)+(_0x310248[_0xc985eb(0x418)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3b2e60+_0xc985eb(0x29f)+_0x2fb626+_0xc985eb(0x2ed)+(_0x310248['preTScore']?.['toFixed'](0x2)??'-')+_0xc985eb(0x743)+(_0x310248['postTScore']?.['toFixed'](0x2)??'-')+_0xc985eb(0x154)+_0x31f7e6+_0xc985eb(0x667);}),_0x1a023b+=_0x32309d(0x2ad),_0x48b43d['innerHTML']=_0x1a023b;}function handleRenameQuiz(_0x1118d4,_0x111b8d){const _0x14e3cc=_0x576079;actionTargetId=_0x1118d4,document[_0x14e3cc(0x613)](_0x14e3cc(0x645))[_0x14e3cc(0x75d)]=_0x111b8d,renameQuizModal['classList'][_0x14e3cc(0x699)](_0x14e3cc(0x580));}function setupComparisonModalTabs(){const _0x412003=_0x576079,_0x174010=document['getElementById'](_0x412003(0x56e)),_0x4b45e8=document[_0x412003(0x613)](_0x412003(0x76f)),_0x308884=document[_0x412003(0x613)](_0x412003(0x46b)),_0x1994be=document['getElementById'](_0x412003(0x28c));_0x174010['addEventListener'](_0x412003(0x475),()=>{const _0x463f69=_0x412003;_0x174010[_0x463f69(0x7d0)][_0x463f69(0x4c0)](_0x463f69(0x67b)),_0x4b45e8[_0x463f69(0x7d0)][_0x463f69(0x699)](_0x463f69(0x67b)),_0x308884[_0x463f69(0x7d0)][_0x463f69(0x699)]('hidden'),_0x1994be['classList'][_0x463f69(0x4c0)](_0x463f69(0x580));}),_0x4b45e8[_0x412003(0x1e9)]('click',()=>{const _0x5cb3c1=_0x412003;_0x4b45e8[_0x5cb3c1(0x7d0)][_0x5cb3c1(0x4c0)]('active'),_0x174010['classList']['remove'](_0x5cb3c1(0x67b)),_0x1994be[_0x5cb3c1(0x7d0)][_0x5cb3c1(0x699)](_0x5cb3c1(0x580)),_0x308884[_0x5cb3c1(0x7d0)][_0x5cb3c1(0x4c0)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x42b291=''){const _0x39fa70=_0x576079,_0x459135=document[_0x39fa70(0x613)](_0x39fa70(0x3ce)),_0x5058bf=_0x42b291[_0x39fa70(0x1f8)]()['trim'](),_0xd3dac6=allQuizzesGlobal[_0x39fa70(0xd0)](_0x5cce0d=>({..._0x5cce0d,'projectName':allProjects['find'](_0x4e16fb=>_0x4e16fb['id']===_0x5cce0d[_0x39fa70(0x605)])?.[_0x39fa70(0x3fd)]||_0x5cce0d[_0x39fa70(0x605)]}))['filter'](_0xb217c4=>(_0xb217c4['topic']||'')[_0x39fa70(0x1f8)]()[_0x39fa70(0x353)](_0x5058bf)||(_0xb217c4[_0x39fa70(0x3fd)]||'')[_0x39fa70(0x1f8)]()[_0x39fa70(0x353)](_0x5058bf));document[_0x39fa70(0x613)](_0x39fa70(0x805))[_0x39fa70(0xe2)]='('+_0xd3dac6['length']+'\x20ชุด)',_0x459135[_0x39fa70(0x305)]=_0xd3dac6[_0x39fa70(0x5dc)]?_0xd3dac6[_0x39fa70(0xd0)](_0x2add1b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2add1b['id']+_0x39fa70(0x3e2)+(_0x2add1b[_0x39fa70(0x751)]||_0x39fa70(0x825))+_0x39fa70(0x48f)+(_0x2add1b[_0x39fa70(0x7cd)]?.[_0x39fa70(0x5dc)]||0x0)+_0x39fa70(0xf8)+_0x2add1b[_0x39fa70(0x3fd)]+_0x39fa70(0x7c6))[_0x39fa70(0x815)](''):_0x39fa70(0x41e),selectedGlobalQuizId=null,document[_0x39fa70(0x613)](_0x39fa70(0x235))[_0x39fa70(0x4c9)]=!![],_0x459135['querySelectorAll']('button[data-id]')[_0x39fa70(0x570)](_0x268a73=>{const _0x2c51a2=_0x39fa70;_0x268a73[_0x2c51a2(0x1e9)](_0x2c51a2(0x475),()=>{const _0x16421c=_0x2c51a2;selectedGlobalQuizId=_0x268a73[_0x16421c(0x663)]['id'],_0x459135['querySelectorAll'](_0x16421c(0x7f2))[_0x16421c(0x570)](_0x2bdd75=>_0x2bdd75['classList'][_0x16421c(0x699)]('bg-purple-50',_0x16421c(0x7ef),_0x16421c(0x3e1))),_0x268a73['classList'][_0x16421c(0x4c0)](_0x16421c(0x32e),'ring-2',_0x16421c(0x3e1)),document[_0x16421c(0x613)]('confirm-global-live-btn')[_0x16421c(0x4c9)]=![];});});}function listenForLiveGameUpdates(){const _0x2d8853=_0x576079;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x220684=doc(db,_0x2d8853(0x672)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x220684,_0x555cf3=>{const _0x59fcf8=_0x2d8853;if(!_0x555cf3[_0x59fcf8(0x438)]()){showMessage(_0x59fcf8(0x7ab)),showView(currentMode);return;}const _0x6b7fce=_0x555cf3['data']();!currentQuizData&&_0x6b7fce['quizId']&&((async()=>{const _0x7007a9=_0x59fcf8;try{const _0x4efd6e=doc(db,_0x7007a9(0x672)+appId+'/public/data/quizzes',_0x6b7fce[_0x7007a9(0x462)]),_0x53bb96=await getDoc(_0x4efd6e);_0x53bb96[_0x7007a9(0x438)]()&&(currentQuizData={'id':_0x53bb96['id'],..._0x53bb96[_0x7007a9(0xe3)]()});}catch(_0x44969b){console[_0x7007a9(0x6a9)](_0x7007a9(0x5a9),_0x44969b);}})());switch(_0x6b7fce[_0x59fcf8(0x71f)]){case _0x59fcf8(0x124):if(currentMode===_0x59fcf8(0x82b)){const _0x3f0310=_0x6b7fce[_0x59fcf8(0x9c)]?Object[_0x59fcf8(0x521)](_0x6b7fce[_0x59fcf8(0x9c)]):[];document[_0x59fcf8(0x613)]('player-count')[_0x59fcf8(0xe2)]=_0x3f0310[_0x59fcf8(0x5dc)],document[_0x59fcf8(0x613)](_0x59fcf8(0x657))[_0x59fcf8(0x305)]=_0x3f0310[_0x59fcf8(0xd0)](_0x3d6be1=>_0x59fcf8(0x71d)+_0x3d6be1+_0x59fcf8(0x796))[_0x59fcf8(0x815)]('');const _0x57fdc5=document[_0x59fcf8(0x613)](_0x59fcf8(0x159));_0x57fdc5&&(_0x57fdc5[_0x59fcf8(0x4c9)]=_0x3f0310['length']===0x0);}else showView(_0x59fcf8(0x164)),liveGameView['innerHTML']=_0x59fcf8(0x476)+currentStudentName+_0x59fcf8(0x370);break;case'question':const _0x308a6a=_0x6b7fce[_0x59fcf8(0x212)];if(currentQuizData&&currentQuizData[_0x59fcf8(0x7cd)][_0x308a6a]){const _0x36bd7a=currentQuizData[_0x59fcf8(0x7cd)][_0x308a6a],_0x5cede6=currentQuizData[_0x59fcf8(0x7cd)][_0x59fcf8(0x5dc)];if(currentMode===_0x59fcf8(0x82b)){lastRenderedAdminQuestionIndex!==_0x308a6a&&(showAdminLiveQuestionView(_0x36bd7a,_0x308a6a,_0x5cede6),lastRenderedAdminQuestionIndex=_0x308a6a);const _0x16cca6=document[_0x59fcf8(0x613)](_0x59fcf8(0x2a4));if(_0x16cca6&&_0x6b7fce[_0x59fcf8(0x9c)]){const _0x2c9748=Object[_0x59fcf8(0x521)](_0x6b7fce[_0x59fcf8(0x9c)])['length'],_0x3791df=Object[_0x59fcf8(0x49d)](_0x6b7fce['players'])[_0x59fcf8(0x149)](_0x3b776c=>_0x3b776c[_0x59fcf8(0xa5)]===!![])[_0x59fcf8(0x5dc)];_0x16cca6['textContent']=_0x3791df+'/'+_0x2c9748,_0x2c9748>0x0&&_0x3791df===_0x2c9748&&_0x6b7fce['questionStatus']!=='revealed'&&revealAnswerForAdmin(_0x308a6a,_0x5cede6);}}else{const _0x50899b=_0x6b7fce['players'][currentStudentName];if(_0x6b7fce[_0x59fcf8(0x459)]===_0x59fcf8(0x12f)){if(_0x50899b['answeredCurrentQuestion']){const _0x59aff1=_0x50899b[_0x59fcf8(0x15e)],_0x351fb2=_0x50899b[_0x59fcf8(0x5ee)]||0x0,_0x47c536=_0x59aff1?_0x59fcf8(0x45a)+_0x351fb2+'\x20คะแนน':_0x59fcf8(0x479);liveGameView[_0x59fcf8(0x305)]=_0x59fcf8(0x4dc)+_0x47c536+_0x59fcf8(0x3dc);}else liveGameView[_0x59fcf8(0x305)]=_0x59fcf8(0x7cb);}else!_0x50899b[_0x59fcf8(0xa5)]&&showStudentLiveQuestionView(_0x36bd7a,_0x308a6a,_0x5cede6);}}break;case _0x59fcf8(0x786):showPodiumView(_0x6b7fce[_0x59fcf8(0x9c)]);break;}});}async function authenticateUser(){const _0x5775cf=_0x576079;try{typeof __initial_auth_token!==_0x5775cf(0x37b)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x3612c1){console[_0x5775cf(0x6a9)](_0x5775cf(0x854),_0x3612c1),showMessage(_0x5775cf(0x74e));}}function showView(_0x13a783){const _0x1a1a85=_0x576079,_0x456016=[_0x1a1a85(0x38d),_0x1a1a85(0x785),'project-dashboard-view',_0x1a1a85(0xda),_0x1a1a85(0x5bb),_0x1a1a85(0x25d),'student-progress-view'];_0x456016[_0x1a1a85(0x570)](_0x534736=>document['getElementById'](_0x534736)?.[_0x1a1a85(0x7d0)][_0x1a1a85(0x4c0)](_0x1a1a85(0x580)));if(_0x13a783===_0x1a1a85(0xd6))adminView[_0x1a1a85(0x7d0)]['remove'](_0x1a1a85(0x580)),projectDashboardView['classList'][_0x1a1a85(0x699)](_0x1a1a85(0x580));else{if(_0x13a783===_0x1a1a85(0x6e9))studentView['classList'][_0x1a1a85(0x699)](_0x1a1a85(0x580)),studentInitialView[_0x1a1a85(0x7d0)][_0x1a1a85(0x699)]('hidden'),studentNameSelectionView[_0x1a1a85(0x7d0)]['add'](_0x1a1a85(0x580)),studentQuizArea['classList'][_0x1a1a85(0x4c0)]('hidden'),studentResultArea[_0x1a1a85(0x7d0)][_0x1a1a85(0x4c0)](_0x1a1a85(0x580)),studentReadingArea[_0x1a1a85(0x7d0)]['add'](_0x1a1a85(0x580)),studentJoinGameView[_0x1a1a85(0x7d0)]['add'](_0x1a1a85(0x580));else{if(_0x13a783===_0x1a1a85(0x17d))adminView[_0x1a1a85(0x7d0)][_0x1a1a85(0x699)](_0x1a1a85(0x580)),projectDetailView[_0x1a1a85(0x7d0)]['remove'](_0x1a1a85(0x580));else{if(_0x13a783===_0x1a1a85(0xe5))adminView['classList'][_0x1a1a85(0x699)](_0x1a1a85(0x580)),quizResultsView['classList'][_0x1a1a85(0x699)]('hidden');else _0x13a783===_0x1a1a85(0x164)&&liveGameView[_0x1a1a85(0x7d0)]['remove']('hidden');}}}}function showJoinGameView(){const _0x24c1a7=_0x576079;studentInitialView[_0x24c1a7(0x7d0)][_0x24c1a7(0x4c0)](_0x24c1a7(0x580)),studentJoinGameView[_0x24c1a7(0x7d0)][_0x24c1a7(0x699)]('hidden');}async function handleSaveVisibilitySettings(){const _0x405ab7=_0x576079;if(!currentProjectId)return;const _0xc1bd49=doc(db,_0x405ab7(0x672)+appId+_0x405ab7(0x116),currentProjectId);try{await updateDoc(_0xc1bd49,{'settings.showInStudentDashboard':document[_0x405ab7(0x613)]('show-in-student-dashboard-checkbox')[_0x405ab7(0x61a)],'settings.isPasscodeEnabled':document[_0x405ab7(0x613)](_0x405ab7(0x47b))['checked'],'settings.passcode':document['getElementById'](_0x405ab7(0x5d8))[_0x405ab7(0x75d)][_0x405ab7(0x44a)]()}),showMessage(_0x405ab7(0x2ce));}catch(_0x26d397){console['error'](_0x405ab7(0x407),_0x26d397),showMessage(_0x405ab7(0x29c));}}function setupEventListeners(){const _0x11666a=_0x576079;document[_0x11666a(0x613)](_0x11666a(0x3c7))[_0x11666a(0x1e9)](_0x11666a(0x475),handleModeSwitch),document[_0x11666a(0x613)](_0x11666a(0x478))['addEventListener'](_0x11666a(0x475),handleUpdateOldQuizzes),document['getElementById'](_0x11666a(0x486))[_0x11666a(0x1e9)](_0x11666a(0x475),handleResetProjectOrder),document[_0x11666a(0x613)]('save-visibility-settings-btn')[_0x11666a(0x1e9)](_0x11666a(0x475),handleSaveVisibilitySettings),document[_0x11666a(0x613)]('add-custom-math-topic-btn')['addEventListener']('click',handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')[_0x11666a(0x1e9)]('click',handleSelectAllTopics),document[_0x11666a(0x613)](_0x11666a(0x3a9))[_0x11666a(0x1e9)](_0x11666a(0x475),handleDeselectAllTopics),document[_0x11666a(0x613)](_0x11666a(0x1d2))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x11666a(0x613)](_0x11666a(0x262))[_0x11666a(0x1e9)]('click',()=>{const _0x741349=_0x11666a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x741349(0x17d));}),document[_0x11666a(0x613)](_0x11666a(0x650))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0xdbc221=_0x11666a;showView(_0xdbc221(0xd6));}),document[_0x11666a(0x613)](_0x11666a(0x764))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x499979=_0x11666a;messageModal['classList'][_0x499979(0x4c0)](_0x499979(0x580)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x11666a(0x798))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>createProjectModal[_0x11666a(0x7d0)][_0x11666a(0x699)](_0x11666a(0x580))),document[_0x11666a(0x613)]('cancel-create-project-btn')[_0x11666a(0x1e9)](_0x11666a(0x475),()=>createProjectModal[_0x11666a(0x7d0)]['add']('hidden')),document[_0x11666a(0x613)](_0x11666a(0x36d))['addEventListener'](_0x11666a(0x475),()=>adminPasswordModal[_0x11666a(0x7d0)][_0x11666a(0x4c0)](_0x11666a(0x580))),document['getElementById'](_0x11666a(0x66a))['addEventListener'](_0x11666a(0x475),handleAdminLogin),document[_0x11666a(0x613)](_0x11666a(0x844))[_0x11666a(0x1e9)]('keyup',_0x158fb7=>{const _0x39fd21=_0x11666a;if(_0x158fb7[_0x39fd21(0x567)]===_0x39fd21(0x614))handleAdminLogin();}),document['getElementById'](_0x11666a(0x830))['addEventListener'](_0x11666a(0x475),()=>{const _0x17e5bb=_0x11666a;confirmationModal['classList'][_0x17e5bb(0x4c0)](_0x17e5bb(0x580)),confirmAction=null;}),document[_0x11666a(0x613)](_0x11666a(0x745))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x5ab86a=_0x11666a;confirmAction&&confirmAction(),confirmationModal[_0x5ab86a(0x7d0)][_0x5ab86a(0x4c0)](_0x5ab86a(0x580)),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')['addEventListener'](_0x11666a(0x475),()=>renameQuizModal[_0x11666a(0x7d0)][_0x11666a(0x4c0)](_0x11666a(0x580))),document[_0x11666a(0x613)]('confirm-rename-quiz-btn')['addEventListener'](_0x11666a(0x475),confirmRenameQuiz),document['getElementById'](_0x11666a(0x492))['addEventListener'](_0x11666a(0x475),()=>moveQuizModal[_0x11666a(0x7d0)][_0x11666a(0x4c0)](_0x11666a(0x580))),document[_0x11666a(0x613)]('confirm-move-quiz-btn')['addEventListener'](_0x11666a(0x475),confirmMoveQuiz),document[_0x11666a(0x613)](_0x11666a(0x53f))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>quizSettingsModal[_0x11666a(0x7d0)][_0x11666a(0x4c0)](_0x11666a(0x580))),document[_0x11666a(0x613)](_0x11666a(0x53d))['addEventListener'](_0x11666a(0x475),confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')[_0x11666a(0x1e9)]('click',()=>quizStatusModal[_0x11666a(0x7d0)][_0x11666a(0x4c0)](_0x11666a(0x580))),document[_0x11666a(0x613)](_0x11666a(0x331))[_0x11666a(0x1e9)](_0x11666a(0x475),confirmQuizStatus);const _0x5f3107=document[_0x11666a(0x613)]('export-pdf-modal');document['getElementById'](_0x11666a(0x6d8))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x1501ee=_0x11666a;_0x5f3107['classList'][_0x1501ee(0x4c0)](_0x1501ee(0x580));}),document[_0x11666a(0x613)]('export-compact-pdf-btn')[_0x11666a(0x1e9)](_0x11666a(0x475),async()=>{const _0x1690e0=_0x11666a,_0x5c6a39=allQuizzes[_0x1690e0(0x703)](_0x1ed2ee=>_0x1ed2ee['id']===actionTargetId);_0x5c6a39?(currentQuizData=_0x5c6a39,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x5f3107[_0x1690e0(0x7d0)][_0x1690e0(0x4c0)](_0x1690e0(0x580));}),document[_0x11666a(0x613)](_0x11666a(0x5c8))[_0x11666a(0x1e9)](_0x11666a(0x475),async()=>{const _0x1fc547=_0x11666a,_0x11fc5b=allQuizzes[_0x1fc547(0x703)](_0x50ee80=>_0x50ee80['id']===actionTargetId);_0x11fc5b?(currentQuizData=_0x11fc5b,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x5f3107[_0x1fc547(0x7d0)][_0x1fc547(0x4c0)]('hidden');}),document[_0x11666a(0x613)]('open-global-live-btn')['addEventListener'](_0x11666a(0x475),openGlobalLiveModal),document[_0x11666a(0x613)]('cancel-global-live-btn')[_0x11666a(0x1e9)]('click',()=>{const _0x313e6a=_0x11666a;document[_0x313e6a(0x613)](_0x313e6a(0x228))[_0x313e6a(0x7d0)][_0x313e6a(0x4c0)](_0x313e6a(0x580)),selectedGlobalQuizId=null;}),document['getElementById'](_0x11666a(0x1c0))[_0x11666a(0x1e9)](_0x11666a(0x6ed),_0x8c42cb=>renderGlobalQuizList(_0x8c42cb[_0x11666a(0x74d)][_0x11666a(0x75d)])),document[_0x11666a(0x613)]('confirm-global-live-btn')[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x2a18e0=_0x11666a,_0x1756b0=selectedGlobalQuizId;if(!_0x1756b0)return;document[_0x2a18e0(0x613)](_0x2a18e0(0x228))[_0x2a18e0(0x7d0)][_0x2a18e0(0x4c0)]('hidden'),handleStartLiveRace(_0x1756b0);}),document['getElementById'](_0x11666a(0x540))['addEventListener'](_0x11666a(0x6ed),renderProjects),document[_0x11666a(0x613)](_0x11666a(0x3ec))['addEventListener']('change',async()=>{const _0x54ff04=_0x11666a,_0x3e879e=document['getElementById'](_0x54ff04(0x3ec))[_0x54ff04(0x75d)],_0x549b1b=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x549b1b,{'projectSort':_0x3e879e},{'merge':!![]});}catch(_0x13bef6){console['error'](_0x54ff04(0x66b),_0x13bef6),showMessage(_0x54ff04(0x3d9));}}),document[_0x11666a(0x613)]('quiz-search-input')[_0x11666a(0x1e9)](_0x11666a(0x6ed),renderQuizzes),document[_0x11666a(0x613)](_0x11666a(0x5c1))[_0x11666a(0x1e9)]('click',()=>{const _0x53532f=_0x11666a;globalDashboardSettings[_0x53532f(0x2ae)]=_0x53532f(0x514),saveUserPreference('projectView','grid'),renderProjects();}),document['getElementById'](_0x11666a(0x450))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x1afaa2=_0x11666a;globalDashboardSettings[_0x1afaa2(0x2ae)]=_0x1afaa2(0x53a),saveUserPreference('projectView',_0x1afaa2(0x53a)),renderProjects();}),manageTab[_0x11666a(0x1e9)](_0x11666a(0x475),()=>switchProjectTab(_0x11666a(0x818))),resultsTab[_0x11666a(0x1e9)](_0x11666a(0x475),()=>switchProjectTab(_0x11666a(0x682))),leaderboardTab['addEventListener']('click',()=>switchProjectTab(_0x11666a(0x4f4))),document[_0x11666a(0x613)](_0x11666a(0x26e))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>switchQuizDetailTab(_0x11666a(0x3c0))),document['getElementById'](_0x11666a(0x6c1))[_0x11666a(0x1e9)]('click',()=>switchQuizDetailTab(_0x11666a(0xff))),document[_0x11666a(0x613)](_0x11666a(0x5ce))[_0x11666a(0x1e9)]('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x11666a(0x613)](_0x11666a(0x487))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>switchQuizDetailTab(_0x11666a(0x59d))),document['getElementById'](_0x11666a(0x1d5))[_0x11666a(0x1e9)](_0x11666a(0x475),handleAnalyzeClass),generateWorksheetBtn[_0x11666a(0x1e9)](_0x11666a(0x475),generateWorksheet);const _0x3a4795=document['getElementById'](_0x11666a(0x368)),_0x1d2cf4=document[_0x11666a(0x613)]('link-input-area'),_0x1b89a7=document['getElementById'](_0x11666a(0x39a)),_0x36c44f=document['getElementById'](_0x11666a(0x145)),_0x37dedc=document['getElementById'](_0x11666a(0x2ff)),_0x18cabd=document[_0x11666a(0x613)](_0x11666a(0x761));topicTab[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x6f379e=_0x11666a;topicTab[_0x6f379e(0x7d0)][_0x6f379e(0x4c0)]('active'),textTab[_0x6f379e(0x7d0)]['remove'](_0x6f379e(0x67b)),fileTab[_0x6f379e(0x7d0)][_0x6f379e(0x699)](_0x6f379e(0x67b)),worksheetTab[_0x6f379e(0x7d0)]['remove']('active');if(_0x3a4795)_0x3a4795[_0x6f379e(0x7d0)]['remove'](_0x6f379e(0x67b));if(_0x1b89a7)_0x1b89a7[_0x6f379e(0x7d0)][_0x6f379e(0x699)](_0x6f379e(0x67b));if(_0x37dedc)_0x37dedc[_0x6f379e(0x7d0)][_0x6f379e(0x699)]('active');topicInputArea[_0x6f379e(0x7d0)][_0x6f379e(0x699)](_0x6f379e(0x580)),textInputArea['classList'][_0x6f379e(0x4c0)](_0x6f379e(0x580)),fileInputArea[_0x6f379e(0x7d0)][_0x6f379e(0x4c0)](_0x6f379e(0x580)),worksheetInputArea['classList']['add'](_0x6f379e(0x580));if(_0x1d2cf4)_0x1d2cf4[_0x6f379e(0x7d0)][_0x6f379e(0x4c0)]('hidden');if(_0x36c44f)_0x36c44f['classList'][_0x6f379e(0x4c0)](_0x6f379e(0x580));if(_0x18cabd)_0x18cabd[_0x6f379e(0x7d0)][_0x6f379e(0x4c0)](_0x6f379e(0x580));}),textTab[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x150484=_0x11666a;textTab['classList'][_0x150484(0x4c0)](_0x150484(0x67b)),topicTab[_0x150484(0x7d0)][_0x150484(0x699)]('active'),fileTab[_0x150484(0x7d0)]['remove'](_0x150484(0x67b)),worksheetTab['classList'][_0x150484(0x699)](_0x150484(0x67b));if(_0x3a4795)_0x3a4795[_0x150484(0x7d0)]['remove'](_0x150484(0x67b));if(_0x1b89a7)_0x1b89a7['classList']['remove'](_0x150484(0x67b));if(_0x37dedc)_0x37dedc[_0x150484(0x7d0)][_0x150484(0x699)]('active');textInputArea[_0x150484(0x7d0)][_0x150484(0x699)](_0x150484(0x580)),topicInputArea['classList'][_0x150484(0x4c0)](_0x150484(0x580)),fileInputArea['classList'][_0x150484(0x4c0)](_0x150484(0x580)),worksheetInputArea[_0x150484(0x7d0)][_0x150484(0x4c0)]('hidden');if(_0x1d2cf4)_0x1d2cf4[_0x150484(0x7d0)][_0x150484(0x4c0)]('hidden');if(_0x36c44f)_0x36c44f[_0x150484(0x7d0)]['add'](_0x150484(0x580));if(_0x18cabd)_0x18cabd[_0x150484(0x7d0)][_0x150484(0x4c0)](_0x150484(0x580));}),fileTab[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x287ae7=_0x11666a;fileTab[_0x287ae7(0x7d0)][_0x287ae7(0x4c0)](_0x287ae7(0x67b)),topicTab[_0x287ae7(0x7d0)][_0x287ae7(0x699)](_0x287ae7(0x67b)),textTab[_0x287ae7(0x7d0)]['remove']('active'),worksheetTab['classList'][_0x287ae7(0x699)]('active');if(_0x3a4795)_0x3a4795[_0x287ae7(0x7d0)][_0x287ae7(0x699)](_0x287ae7(0x67b));if(_0x1b89a7)_0x1b89a7['classList'][_0x287ae7(0x699)](_0x287ae7(0x67b));if(_0x37dedc)_0x37dedc[_0x287ae7(0x7d0)][_0x287ae7(0x699)](_0x287ae7(0x67b));fileInputArea[_0x287ae7(0x7d0)][_0x287ae7(0x699)](_0x287ae7(0x580)),topicInputArea[_0x287ae7(0x7d0)][_0x287ae7(0x4c0)](_0x287ae7(0x580)),textInputArea['classList'][_0x287ae7(0x4c0)](_0x287ae7(0x580)),worksheetInputArea[_0x287ae7(0x7d0)]['add']('hidden');if(_0x1d2cf4)_0x1d2cf4[_0x287ae7(0x7d0)]['add'](_0x287ae7(0x580));if(_0x36c44f)_0x36c44f[_0x287ae7(0x7d0)][_0x287ae7(0x4c0)](_0x287ae7(0x580));if(_0x18cabd)_0x18cabd[_0x287ae7(0x7d0)][_0x287ae7(0x4c0)]('hidden');}),worksheetTab[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x234b25=_0x11666a;worksheetTab['classList'][_0x234b25(0x4c0)](_0x234b25(0x67b)),topicTab[_0x234b25(0x7d0)][_0x234b25(0x699)](_0x234b25(0x67b)),textTab[_0x234b25(0x7d0)][_0x234b25(0x699)](_0x234b25(0x67b)),fileTab['classList'][_0x234b25(0x699)](_0x234b25(0x67b));if(_0x3a4795)_0x3a4795[_0x234b25(0x7d0)][_0x234b25(0x699)]('active');if(_0x1b89a7)_0x1b89a7[_0x234b25(0x7d0)]['remove'](_0x234b25(0x67b));if(_0x37dedc)_0x37dedc['classList'][_0x234b25(0x699)](_0x234b25(0x67b));worksheetInputArea[_0x234b25(0x7d0)][_0x234b25(0x699)](_0x234b25(0x580)),topicInputArea[_0x234b25(0x7d0)][_0x234b25(0x4c0)](_0x234b25(0x580)),textInputArea['classList'][_0x234b25(0x4c0)](_0x234b25(0x580)),fileInputArea['classList'][_0x234b25(0x4c0)]('hidden');if(_0x1d2cf4)_0x1d2cf4['classList'][_0x234b25(0x4c0)](_0x234b25(0x580));if(_0x36c44f)_0x36c44f[_0x234b25(0x7d0)][_0x234b25(0x4c0)](_0x234b25(0x580));if(_0x18cabd)_0x18cabd['classList']['add'](_0x234b25(0x580));});const _0x50e165=document[_0x11666a(0x613)](_0x11666a(0x6dd)),_0x2c0d81=document[_0x11666a(0x613)](_0x11666a(0x3e4));_0x50e165&&_0x50e165[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x2ef45b=_0x11666a;topicTab['classList'][_0x2ef45b(0x699)](_0x2ef45b(0x67b)),textTab[_0x2ef45b(0x7d0)]['remove'](_0x2ef45b(0x67b)),fileTab[_0x2ef45b(0x7d0)]['remove'](_0x2ef45b(0x67b)),worksheetTab[_0x2ef45b(0x7d0)][_0x2ef45b(0x699)](_0x2ef45b(0x67b));if(_0x3a4795)_0x3a4795[_0x2ef45b(0x7d0)][_0x2ef45b(0x699)]('active');if(_0x1b89a7)_0x1b89a7['classList'][_0x2ef45b(0x699)](_0x2ef45b(0x67b));if(_0x37dedc)_0x37dedc['classList'][_0x2ef45b(0x699)](_0x2ef45b(0x67b));_0x50e165[_0x2ef45b(0x7d0)][_0x2ef45b(0x4c0)](_0x2ef45b(0x67b)),topicInputArea['classList'][_0x2ef45b(0x4c0)]('hidden'),textInputArea[_0x2ef45b(0x7d0)]['add'](_0x2ef45b(0x580)),fileInputArea['classList'][_0x2ef45b(0x4c0)](_0x2ef45b(0x580)),worksheetInputArea[_0x2ef45b(0x7d0)]['add']('hidden');if(_0x1d2cf4)_0x1d2cf4[_0x2ef45b(0x7d0)][_0x2ef45b(0x4c0)](_0x2ef45b(0x580));if(_0x36c44f)_0x36c44f[_0x2ef45b(0x7d0)][_0x2ef45b(0x4c0)]('hidden');if(_0x18cabd)_0x18cabd[_0x2ef45b(0x7d0)][_0x2ef45b(0x4c0)](_0x2ef45b(0x580));_0x2c0d81[_0x2ef45b(0x7d0)][_0x2ef45b(0x699)](_0x2ef45b(0x580)),displayQuestionBank();});_0x3a4795&&(_0x3a4795[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x823b60=_0x11666a;_0x3a4795[_0x823b60(0x7d0)][_0x823b60(0x4c0)]('active'),topicTab[_0x823b60(0x7d0)]['remove'](_0x823b60(0x67b)),textTab['classList'][_0x823b60(0x699)](_0x823b60(0x67b)),fileTab[_0x823b60(0x7d0)]['remove'](_0x823b60(0x67b)),worksheetTab['classList']['remove'](_0x823b60(0x67b));if(_0x1b89a7)_0x1b89a7[_0x823b60(0x7d0)][_0x823b60(0x699)](_0x823b60(0x67b));if(_0x37dedc)_0x37dedc[_0x823b60(0x7d0)][_0x823b60(0x699)](_0x823b60(0x67b));_0x1d2cf4[_0x823b60(0x7d0)][_0x823b60(0x699)](_0x823b60(0x580)),topicInputArea[_0x823b60(0x7d0)]['add'](_0x823b60(0x580)),textInputArea[_0x823b60(0x7d0)][_0x823b60(0x4c0)]('hidden'),fileInputArea[_0x823b60(0x7d0)][_0x823b60(0x4c0)](_0x823b60(0x580)),worksheetInputArea[_0x823b60(0x7d0)][_0x823b60(0x4c0)](_0x823b60(0x580));if(_0x36c44f)_0x36c44f[_0x823b60(0x7d0)][_0x823b60(0x4c0)](_0x823b60(0x580));if(_0x18cabd)_0x18cabd[_0x823b60(0x7d0)]['add'](_0x823b60(0x580));}),document[_0x11666a(0x613)](_0x11666a(0x45f))['addEventListener'](_0x11666a(0x475),handleGenerateFromLink));_0x1b89a7&&_0x1b89a7[_0x11666a(0x1e9)]('click',()=>{const _0xaeb9ed=_0x11666a;_0x1b89a7[_0xaeb9ed(0x7d0)][_0xaeb9ed(0x4c0)](_0xaeb9ed(0x67b)),topicTab[_0xaeb9ed(0x7d0)]['remove'](_0xaeb9ed(0x67b)),textTab['classList'][_0xaeb9ed(0x699)](_0xaeb9ed(0x67b)),fileTab['classList'][_0xaeb9ed(0x699)](_0xaeb9ed(0x67b)),worksheetTab['classList'][_0xaeb9ed(0x699)](_0xaeb9ed(0x67b));if(_0x3a4795)_0x3a4795[_0xaeb9ed(0x7d0)]['remove'](_0xaeb9ed(0x67b));if(_0x50e165)_0x50e165[_0xaeb9ed(0x7d0)][_0xaeb9ed(0x699)](_0xaeb9ed(0x67b));if(_0x37dedc)_0x37dedc[_0xaeb9ed(0x7d0)][_0xaeb9ed(0x699)](_0xaeb9ed(0x67b));_0x36c44f['classList'][_0xaeb9ed(0x699)](_0xaeb9ed(0x580)),topicInputArea['classList'][_0xaeb9ed(0x4c0)](_0xaeb9ed(0x580)),textInputArea['classList'][_0xaeb9ed(0x4c0)](_0xaeb9ed(0x580)),fileInputArea[_0xaeb9ed(0x7d0)][_0xaeb9ed(0x4c0)](_0xaeb9ed(0x580)),worksheetInputArea[_0xaeb9ed(0x7d0)][_0xaeb9ed(0x4c0)](_0xaeb9ed(0x580));if(_0x1d2cf4)_0x1d2cf4[_0xaeb9ed(0x7d0)][_0xaeb9ed(0x4c0)]('hidden');if(_0x2c0d81)_0x2c0d81[_0xaeb9ed(0x7d0)]['add']('hidden');if(_0x18cabd)_0x18cabd[_0xaeb9ed(0x7d0)][_0xaeb9ed(0x4c0)](_0xaeb9ed(0x580));});_0x37dedc&&_0x37dedc[_0x11666a(0x1e9)]('click',()=>{const _0x2089ae=_0x11666a;_0x37dedc[_0x2089ae(0x7d0)][_0x2089ae(0x4c0)](_0x2089ae(0x67b)),topicTab[_0x2089ae(0x7d0)][_0x2089ae(0x699)](_0x2089ae(0x67b)),textTab[_0x2089ae(0x7d0)][_0x2089ae(0x699)](_0x2089ae(0x67b)),fileTab['classList'][_0x2089ae(0x699)](_0x2089ae(0x67b)),worksheetTab['classList'][_0x2089ae(0x699)](_0x2089ae(0x67b));if(_0x3a4795)_0x3a4795[_0x2089ae(0x7d0)][_0x2089ae(0x699)](_0x2089ae(0x67b));if(_0x1b89a7)_0x1b89a7[_0x2089ae(0x7d0)][_0x2089ae(0x699)](_0x2089ae(0x67b));if(_0x50e165)_0x50e165[_0x2089ae(0x7d0)][_0x2089ae(0x699)](_0x2089ae(0x67b));_0x18cabd[_0x2089ae(0x7d0)][_0x2089ae(0x699)](_0x2089ae(0x580)),topicInputArea[_0x2089ae(0x7d0)][_0x2089ae(0x4c0)](_0x2089ae(0x580)),textInputArea[_0x2089ae(0x7d0)][_0x2089ae(0x4c0)]('hidden'),fileInputArea['classList'][_0x2089ae(0x4c0)](_0x2089ae(0x580)),worksheetInputArea[_0x2089ae(0x7d0)][_0x2089ae(0x4c0)](_0x2089ae(0x580));if(_0x1d2cf4)_0x1d2cf4[_0x2089ae(0x7d0)][_0x2089ae(0x4c0)](_0x2089ae(0x580));if(_0x36c44f)_0x36c44f[_0x2089ae(0x7d0)][_0x2089ae(0x4c0)](_0x2089ae(0x580));if(_0x2c0d81)_0x2c0d81[_0x2089ae(0x7d0)]['add'](_0x2089ae(0x580));});const _0x829994=document[_0x11666a(0x613)]('blueprint-upload-input'),_0xb10343=document['getElementById'](_0x11666a(0x420));_0x829994&&_0x829994[_0x11666a(0x1e9)](_0x11666a(0x3a8),_0x32cc8c=>{const _0x48e261=_0x11666a;_0x32cc8c['target']['files'][_0x48e261(0x5dc)]>0x0?_0xb10343['disabled']=![]:_0xb10343[_0x48e261(0x4c9)]=!![];});_0xb10343&&_0xb10343[_0x11666a(0x1e9)]('click',handleGenerateFromBlueprint);const _0x34c017=document[_0x11666a(0x613)](_0x11666a(0x70a)),_0x43a59e=document[_0x11666a(0x613)](_0x11666a(0x23a));_0x34c017&&_0x34c017[_0x11666a(0x1e9)](_0x11666a(0x3a8),_0x5e5345=>{const _0x43f96b=_0x11666a;_0x43a59e[_0x43f96b(0x4c9)]=_0x5e5345[_0x43f96b(0x74d)][_0x43f96b(0x5b8)]['length']===0x0;});_0x43a59e&&_0x43a59e[_0x11666a(0x1e9)]('click',handleGenerateParallelTest);loadQuizBtn[_0x11666a(0x1e9)](_0x11666a(0x475),handleLoadQuiz),startQuizBtn['addEventListener']('click',()=>{const _0x447e7a=_0x11666a,_0x29f553=document[_0x447e7a(0x613)](_0x447e7a(0x70d));currentStudentName=_0x29f553[_0x447e7a(0x75d)];if(!currentStudentName){showMessage(_0x447e7a(0x47d));return;}studentNameSelectionView[_0x447e7a(0x7d0)]['add'](_0x447e7a(0x580)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x11666a(0x613)](_0x11666a(0x347))['addEventListener'](_0x11666a(0x475),showJoinGameView),document[_0x11666a(0x613)](_0x11666a(0x5eb))['addEventListener'](_0x11666a(0x475),handleJoinLiveGame),document[_0x11666a(0x613)]('back-to-student-initial-btn')[_0x11666a(0x1e9)](_0x11666a(0x475),()=>showView('student'));const _0x1ca430=()=>{const _0x5a4922=_0x11666a,_0x5d64c2=document[_0x5a4922(0x613)](_0x5a4922(0x43e))[_0x5a4922(0xe2)]['replace'](/[^a-z0-9]/gi,'_')[_0x5a4922(0x1f8)]();return _0x5a4922(0x152)+(_0x5d64c2||'quiz');},_0x5b41a8=document['getElementById'](_0x11666a(0xc4));_0x5b41a8&&_0x5b41a8[_0x11666a(0x1e9)](_0x11666a(0x6ed),_0x1688c1=>{const _0x1e5879=_0x11666a,_0x37ab7b=_0x1688c1[_0x1e5879(0x74d)][_0x1e5879(0x75d)][_0x1e5879(0x1f8)]()['trim'](),_0x39d3e1=document[_0x1e5879(0x613)](_0x1e5879(0x460)),_0xfb4f5a=_0x39d3e1[_0x1e5879(0x20e)](_0x1e5879(0x5d3));_0xfb4f5a[_0x1e5879(0x570)](_0x37a9de=>{const _0x42e57f=_0x1e5879;let _0x3c7e41=![];const _0x3d679a=_0x37a9de[_0x42e57f(0x20e)](_0x42e57f(0x6f9));_0x3d679a[_0x42e57f(0x570)](_0x57e9fc=>{const _0x2dd13b=_0x42e57f,_0xc56434=_0x57e9fc[_0x2dd13b(0x18e)](_0x2dd13b(0x4d6))['textContent'][_0x2dd13b(0x1f8)]();_0xc56434[_0x2dd13b(0x353)](_0x37ab7b)?(_0x57e9fc[_0x2dd13b(0x93)][_0x2dd13b(0x849)]=_0x2dd13b(0x48d),_0x3c7e41=!![]):_0x57e9fc['style'][_0x2dd13b(0x849)]=_0x2dd13b(0x14d);}),_0x3c7e41?_0x37a9de['style'][_0x42e57f(0x849)]=_0x42e57f(0x3a0):_0x37a9de['style'][_0x42e57f(0x849)]='none';});});document[_0x11666a(0x613)](_0x11666a(0x4a8))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>exportTableAsImage(_0x11666a(0x410),_0x1ca430())),document['getElementById']('export-pdf-btn')[_0x11666a(0x1e9)](_0x11666a(0x475),()=>exportTableAsPDF(_0x11666a(0x177),_0x1ca430())),document[_0x11666a(0x613)](_0x11666a(0x4a6))['addEventListener'](_0x11666a(0x475),()=>exportTableAsWord(_0x11666a(0x410),_0x1ca430())),document[_0x11666a(0x613)](_0x11666a(0x497))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>exportTableAsExcel(_0x11666a(0x177),_0x1ca430()));const _0x4f586d=()=>{const _0x26c5f8=_0x11666a,_0x182d6d=document[_0x26c5f8(0x613)](_0x26c5f8(0x43e))['textContent'][_0x26c5f8(0x3c4)](/[^a-z0-9]/gi,'_')[_0x26c5f8(0x1f8)]();return _0x26c5f8(0x2ac)+(_0x182d6d||_0x26c5f8(0x1c1));};document['getElementById'](_0x11666a(0xd9))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>exportTableAsImage(_0x11666a(0x7d5),_0x4f586d())),document[_0x11666a(0x613)](_0x11666a(0x3ac))['addEventListener']('click',()=>exportTableAsPDF(_0x11666a(0x21b),_0x4f586d())),document[_0x11666a(0x613)](_0x11666a(0xee))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>exportTableAsWord(_0x11666a(0x7d5),_0x4f586d())),document[_0x11666a(0x613)]('export-leaderboard-excel-btn')['addEventListener'](_0x11666a(0x475),()=>exportTableAsExcel(_0x11666a(0x21b),_0x4f586d())),projectQuizzesList[_0x11666a(0x1e9)](_0x11666a(0x475),async _0x72031=>{const _0x2bc1b8=_0x11666a,_0x4c0a0a=_0x72031[_0x2bc1b8(0x74d)]['closest']('.quiz-result-card'),_0x35590a=_0x72031['target'][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x172)),_0x319b9b=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x5c0)),_0x17bab7=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x144)),_0x3bb272=_0x72031['target']['closest'](_0x2bc1b8(0x37f)),_0x285c93=_0x72031[_0x2bc1b8(0x74d)]['closest']('.copy-quiz-id-list-btn'),_0x35077b=_0x72031['target'][_0x2bc1b8(0x2b6)]('.edit-quiz-btn'),_0x34ee11=_0x72031['target'][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x315)),_0x1a446f=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x592)),_0x3d079d=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x278)),_0x2b79d0=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x5a2)),_0x21da7d=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x7bd)),_0x4130fc=_0x72031['target'][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x2aa)),_0x16e791=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)]('.unpair-quiz-btn'),_0xb5e38a=_0x72031['target'][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x3f3)),_0x5cb93d=_0x72031[_0x2bc1b8(0x74d)]['closest'](_0x2bc1b8(0x227)),_0x31286a=_0x72031[_0x2bc1b8(0x74d)]['closest'](_0x2bc1b8(0x330)),_0x1929ac=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x10c)),_0x4f5f1a=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)]('.delete-quiz-btn'),_0x4e0fe3=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x196)),_0x13f0c2=_0x72031[_0x2bc1b8(0x74d)][_0x2bc1b8(0x2b6)](_0x2bc1b8(0x806));if(_0x13f0c2){const _0x4ef489=_0x13f0c2['dataset'][_0x2bc1b8(0x462)],_0x20498a=document[_0x2bc1b8(0x613)](_0x2bc1b8(0x1d8)+_0x4ef489);_0x20498a&&_0x20498a[_0x2bc1b8(0x7d0)][_0x2bc1b8(0x7ba)](_0x2bc1b8(0x580));}else{if(_0x35590a){const _0x63f987=_0x35590a[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)],_0x549159=allQuizzes['find'](_0x1c0597=>_0x1c0597['id']===_0x63f987);_0x549159&&handleGenerateParallelPostTest(_0x549159);}else{if(_0x319b9b)handleCompareResults(_0x319b9b[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)],_0x319b9b[_0x2bc1b8(0x663)][_0x2bc1b8(0x65b)]);else{if(_0x17bab7){const _0x3f8147=_0x17bab7[_0x2bc1b8(0x663)]['quizId'],_0x5f2702=allQuizzes[_0x2bc1b8(0x703)](_0xffd1e7=>_0xffd1e7['id']===_0x3f8147);_0x5f2702&&_0x5f2702[_0x2bc1b8(0x2b0)]?(displayLessonPlan(_0x5f2702[_0x2bc1b8(0x2b0)],_0x5f2702),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x3f8147)),document[_0x2bc1b8(0x613)]('confirmation-modal')[_0x2bc1b8(0x18e)]('h3')[_0x2bc1b8(0xe2)]=_0x2bc1b8(0x269),document[_0x2bc1b8(0x613)](_0x2bc1b8(0x745))[_0x2bc1b8(0xe2)]=_0x2bc1b8(0x3d4)):handleGenerateLessonPlan(_0x3f8147);}else{if(_0x3bb272)handleToggleStarQuiz(_0x3bb272[_0x2bc1b8(0x663)]['quizId']);else{if(_0x285c93)copyTextToClipboard(_0x285c93[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)],_0x2bc1b8(0x817));else{if(_0x35077b)handleOpenQuizEditor(_0x35077b[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)]);else{if(_0x34ee11)handleQuizSettings(_0x34ee11['dataset'][_0x2bc1b8(0x462)]);else{if(_0x1a446f)handleDuplicateQuiz(_0x1a446f[_0x2bc1b8(0x663)]['quizId']);else{if(_0x3d079d)handleRenameQuiz(_0x3d079d['dataset'][_0x2bc1b8(0x462)],_0x3d079d[_0x2bc1b8(0x663)][_0x2bc1b8(0x751)]);else{if(_0x2b79d0){const _0x1fc512=_0x2b79d0[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)],_0xcc4373=allQuizzes[_0x2bc1b8(0x703)](_0x1e3e51=>_0x1e3e51['id']===_0x1fc512);_0xcc4373&&handleGenerateParallelFromBank(_0xcc4373);}else{if(_0x21da7d)handleMoveQuiz(_0x21da7d['dataset']['quizId']);else{if(_0x4130fc)handleManualQuizPairing(_0x4130fc[_0x2bc1b8(0x663)]['quizId']);else{if(_0x16e791)handleUnpairQuiz(_0x16e791['dataset'][_0x2bc1b8(0x462)]);else{if(_0xb5e38a){const _0x487a5b=_0xb5e38a[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)],_0x5afa79=allQuizzes[_0x2bc1b8(0x703)](_0x6e3bd0=>_0x6e3bd0['id']===_0x487a5b);if(_0x5afa79)startPresentation(_0x5afa79);}else{if(_0x5cb93d){const _0x444f0c=_0x5cb93d[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)],_0x5dc677=allQuizzes[_0x2bc1b8(0x703)](_0x4a1916=>_0x4a1916['id']===_0x444f0c);_0x5dc677&&(currentQuizData=_0x5dc677,startAdminTest());}else{if(_0x31286a)handleStartLiveRace(_0x31286a[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)]);else{if(_0x1929ac)actionTargetId=_0x1929ac[_0x2bc1b8(0x663)]['quizId'],document['getElementById']('export-pdf-modal')['classList'][_0x2bc1b8(0x699)](_0x2bc1b8(0x580));else{if(_0x4f5f1a)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4f5f1a['dataset']['topic']+_0x2bc1b8(0x625),()=>handleDeleteQuiz(_0x4f5f1a[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)]));else{if(_0x4e0fe3)handleQuizStatus(_0x4e0fe3[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)]);else _0x4c0a0a&&showQuizDetailView(_0x4c0a0a[_0x2bc1b8(0x663)][_0x2bc1b8(0x462)]);}}}}}}}}}}}}}}}}}}}}),document['getElementById']('quiz-leaderboard-table')['querySelector'](_0x11666a(0x3e6))[_0x11666a(0x1e9)](_0x11666a(0x475),_0x3a887e=>{const _0x45ce6d=_0x11666a,_0x40d8e5=_0x3a887e[_0x45ce6d(0x74d)][_0x45ce6d(0x2b6)]('.sortable-header');if(!_0x40d8e5||!_0x40d8e5['dataset'][_0x45ce6d(0x27a)])return;const _0x1bcaf2=_0x40d8e5['dataset'][_0x45ce6d(0x27a)];if(quizLeaderboardSortBy===_0x1bcaf2)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x45ce6d(0x236):'asc';else{quizLeaderboardSortBy=_0x1bcaf2;const _0x71ea2a=[_0x45ce6d(0x22c)];quizLeaderboardSortOrder=_0x71ea2a[_0x45ce6d(0x353)](_0x1bcaf2)?_0x45ce6d(0x744):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x11666a(0x613)](_0x11666a(0x2d5))['addEventListener'](_0x11666a(0x475),closePresentation),document['getElementById'](_0x11666a(0x422))[_0x11666a(0x1e9)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x11666a(0x5cc))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x355844=_0x11666a;currentQuizData[_0x355844(0x7cd)]&&currentPresentationSlide<currentQuizData[_0x355844(0x7cd)][_0x355844(0x5dc)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x11666a(0x1e9)](_0x11666a(0x489),()=>{const _0x516e82=_0x11666a;!document[_0x516e82(0x79c)]&&(presentationModal[_0x516e82(0x93)][_0x516e82(0x849)]=_0x516e82(0x14d));}),document[_0x11666a(0x613)](_0x11666a(0x186))[_0x11666a(0x1e9)](_0x11666a(0x475),handleDeleteAllStudents),studentList['addEventListener'](_0x11666a(0x475),_0x183c3d=>{const _0x2a7272=_0x11666a,_0x243a5a=_0x183c3d[_0x2a7272(0x74d)][_0x2a7272(0x2b6)](_0x2a7272(0x813));if(_0x243a5a){const _0x16ca7b=_0x243a5a[_0x2a7272(0x663)][_0x2a7272(0x22c)];handleDeleteStudent(_0x16ca7b);}}),document['getElementById'](_0x11666a(0x5b4))[_0x11666a(0x1e9)](_0x11666a(0x475),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x11666a(0x3a8),_0x45d603=>{const _0x2afa29=_0x11666a,_0x5ca1c8=_0x45d603[_0x2afa29(0x74d)][_0x2afa29(0x5b8)][0x0],_0x5d0dea=document[_0x2afa29(0x613)]('generate-from-file-btn');_0x5ca1c8?(selectedFile=_0x5ca1c8,_0x5d0dea[_0x2afa29(0x4c9)]=![]):(selectedFile=null,_0x5d0dea[_0x2afa29(0x4c9)]=!![]);}),document['getElementById'](_0x11666a(0x279))[_0x11666a(0x1e9)](_0x11666a(0x3a8),_0x3fbd56=>{const _0x372856=_0x11666a,_0x4e6072=document['getElementById'](_0x372856(0x77c)),_0x3c98d2=document[_0x372856(0x613)](_0x372856(0x33f)),_0x5135a4=document[_0x372856(0x613)](_0x372856(0x270));_0x3fbd56[_0x372856(0x74d)][_0x372856(0x75d)]===_0x372856(0x14d)?_0x4e6072[_0x372856(0x7d0)][_0x372856(0x4c0)](_0x372856(0x580)):(_0x4e6072['classList'][_0x372856(0x699)](_0x372856(0x580)),_0x3fbd56[_0x372856(0x74d)][_0x372856(0x75d)]===_0x372856(0x7cf)?(_0x3c98d2['textContent']=_0x372856(0x84b),_0x5135a4[_0x372856(0x75d)]='10'):(_0x3c98d2['textContent']=_0x372856(0x377),_0x5135a4[_0x372856(0x75d)]='30'));}),document[_0x11666a(0x613)](_0x11666a(0x52d))[_0x11666a(0x1e9)](_0x11666a(0x3a8),_0x2ac63a=>{const _0xa1d886=_0x11666a,_0x437c02=document['getElementById'](_0xa1d886(0x691)),_0x39ba87=_0x2ac63a[_0xa1d886(0x74d)]['value'],_0x375d1b=document['querySelector'](_0xa1d886(0x25b)),_0x4d14bc=document[_0xa1d886(0x613)]('passing-score-input'),_0x1f1714=document[_0xa1d886(0x613)](_0xa1d886(0x1bd));_0x39ba87===_0xa1d886(0x38a)?_0x375d1b[_0xa1d886(0xe2)]=_0xa1d886(0x4b6):_0x375d1b[_0xa1d886(0xe2)]='จำนวนข้อ:',_0x39ba87===_0xa1d886(0x433)||_0x39ba87==='fill_in_with_choices'||_0x39ba87===_0xa1d886(0x2f5)?_0x437c02['classList']['remove'](_0xa1d886(0x580)):_0x437c02['classList'][_0xa1d886(0x4c0)]('hidden'),_0x4d14bc[_0xa1d886(0x6ae)]=_0x1f1714['value'];}),document[_0x11666a(0x613)](_0x11666a(0x1bd))[_0x11666a(0x1e9)]('input',_0x17f3d8=>{const _0x405254=_0x11666a;document['getElementById'](_0x405254(0x91))[_0x405254(0x6ae)]=_0x17f3d8[_0x405254(0x74d)]['value'];}),document[_0x11666a(0x613)](_0x11666a(0x5bc))[_0x11666a(0x1e9)](_0x11666a(0x3a8),_0x4b8cdd=>{const _0x5c2a39=_0x11666a,_0x7b821c=document[_0x5c2a39(0x613)](_0x5c2a39(0x5f2)),_0x544e56=document[_0x5c2a39(0x613)]('modal-timer-duration-label'),_0x2fd6c3=document['getElementById']('modal-timer-duration-input');_0x4b8cdd[_0x5c2a39(0x74d)][_0x5c2a39(0x75d)]===_0x5c2a39(0x14d)?_0x7b821c[_0x5c2a39(0x7d0)][_0x5c2a39(0x4c0)](_0x5c2a39(0x580)):(_0x7b821c['classList'][_0x5c2a39(0x699)](_0x5c2a39(0x580)),_0x4b8cdd[_0x5c2a39(0x74d)][_0x5c2a39(0x75d)]===_0x5c2a39(0x7cf)?_0x544e56[_0x5c2a39(0xe2)]=_0x5c2a39(0x84b):_0x544e56['textContent']=_0x5c2a39(0x377));}),document[_0x11666a(0x613)](_0x11666a(0x642))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x25627d=_0x11666a;document[_0x25627d(0x613)]('quiz-editor-modal')[_0x25627d(0x7d0)]['add'](_0x25627d(0x580));}),document[_0x11666a(0x613)](_0x11666a(0x8b))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x235e1a=_0x11666a;document[_0x235e1a(0x613)](_0x235e1a(0x1e3))[_0x235e1a(0x7d0)][_0x235e1a(0x4c0)](_0x235e1a(0x580));}),document[_0x11666a(0x613)](_0x11666a(0x6fa))[_0x11666a(0x1e9)](_0x11666a(0x475),handleVerifyAnswersInEditor),document[_0x11666a(0x613)](_0x11666a(0x7ce))['addEventListener']('click',()=>{const _0x3beb78=_0x11666a;document['getElementById'](_0x3beb78(0x1e3))[_0x3beb78(0x7d0)][_0x3beb78(0x4c0)](_0x3beb78(0x580)),showConfirmation(_0x3beb78(0x1fd),handleSaveChanges);}),document[_0x11666a(0x613)](_0x11666a(0x3c3))[_0x11666a(0x1e9)](_0x11666a(0x475),handleAutoFixLatex);const _0x2b26f8=document[_0x11666a(0x613)]('quiz-editor-questions-container');_0x2b26f8&&_0x2b26f8['addEventListener'](_0x11666a(0x475),_0x2c64cb=>{const _0x225045=_0x11666a,_0x27a765=_0x2c64cb[_0x225045(0x74d)][_0x225045(0x2b6)](_0x225045(0x19c));if(_0x27a765){const _0x253878=_0x27a765[_0x225045(0x2b6)](_0x225045(0x4f3)),_0xae37ef=parseInt(_0x253878[_0x225045(0x663)][_0x225045(0x41b)],0xa);handleRegenerateQuestionInEditor(_0xae37ef);}});document[_0x11666a(0x613)](_0x11666a(0x1ee))[_0x11666a(0x1e9)](_0x11666a(0x475),openQuizBankModal),document[_0x11666a(0x613)]('cancel-quiz-bank-btn')['addEventListener'](_0x11666a(0x475),()=>{const _0x57d0bd=_0x11666a;document[_0x57d0bd(0x613)]('quiz-bank-modal')[_0x57d0bd(0x7d0)][_0x57d0bd(0x4c0)]('hidden');}),document['getElementById'](_0x11666a(0x127))[_0x11666a(0x1e9)](_0x11666a(0x6ed),_0x5546b4=>renderQuizBankList(_0x5546b4[_0x11666a(0x74d)]['value']));const _0x1dd5d5=document[_0x11666a(0x613)]('math-topics-checkbox-container');if(_0x1dd5d5){let _0xfe808b=null;_0x1dd5d5[_0x11666a(0x1e9)](_0x11666a(0x475),_0x521b68=>{const _0xd25226=_0x11666a,_0x5f5a63=_0x521b68[_0xd25226(0x74d)],_0x2c01b6=_0x5f5a63['closest'](_0xd25226(0x94)),_0x1c9891=_0x5f5a63[_0xd25226(0x2b6)](_0xd25226(0x3f7)),_0x3d36ef=_0x5f5a63[_0xd25226(0x2b6)](_0xd25226(0x1af)),_0x167f63=_0x5f5a63[_0xd25226(0x2b6)](_0xd25226(0x185));if(_0x1c9891){_0x521b68[_0xd25226(0x1e1)]();const _0x44f5b3=_0x1c9891['dataset']['id'],_0x585440=_0x1c9891[_0xd25226(0x2b6)](_0xd25226(0x19d))[_0xd25226(0x18e)](_0xd25226(0x4d6))[_0xd25226(0xe2)];showConfirmation(_0xd25226(0x12c)+_0x585440+'\x22?',()=>handleDeleteCustomTopic(_0x44f5b3));}else{if(_0x2c01b6){_0x521b68[_0xd25226(0x1e1)]();_0xfe808b&&toggleTopicEditMode(_0xfe808b,![]);const _0x548cb9=_0x2c01b6[_0xd25226(0x2b6)]('[data-topic-container-id]');_0xfe808b=_0x548cb9,toggleTopicEditMode(_0x548cb9,!![]);}else{if(_0x3d36ef){_0x521b68[_0xd25226(0x1e1)]();const _0x14d436=_0x3d36ef[_0xd25226(0x663)]['id'],_0x57cb9c=_0x3d36ef[_0xd25226(0x2b6)](_0xd25226(0x102)),_0x34989f=_0x57cb9c[_0xd25226(0x18e)](_0xd25226(0x816))[_0xd25226(0x75d)];handleUpdateCustomTopic(_0x14d436,_0x34989f),_0xfe808b=null;}else{if(_0x167f63){_0x521b68[_0xd25226(0x1e1)]();const _0x4089ce=_0x167f63[_0xd25226(0x2b6)](_0xd25226(0x102));toggleTopicEditMode(_0x4089ce,![]),_0xfe808b=null;}}}}}),document[_0x11666a(0x613)](_0x11666a(0x288))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x4452df=_0x11666a;document['getElementById'](_0x4452df(0xc6))[_0x4452df(0x7d0)][_0x4452df(0x4c0)]('hidden');}),document[_0x11666a(0x613)](_0x11666a(0x45e))[_0x11666a(0x1e9)](_0x11666a(0x475),()=>{const _0x42e77b=_0x11666a;document[_0x42e77b(0x613)](_0x42e77b(0xc6))[_0x42e77b(0x7d0)][_0x42e77b(0x4c0)](_0x42e77b(0x580));}),document['getElementById']('export-lesson-pdf-btn')['addEventListener'](_0x11666a(0x475),handleExportLessonPDF);}document[_0x11666a(0x613)]('close-comparison-modal-btn')[_0x11666a(0x1e9)]('click',()=>{const _0x2811a9=_0x11666a;document[_0x2811a9(0x613)](_0x2811a9(0x3f8))['classList']['add'](_0x2811a9(0x580));}),document[_0x11666a(0x613)](_0x11666a(0x317))[_0x11666a(0x1e9)]('click',()=>{const _0xc96849=_0x11666a;document[_0xc96849(0x613)](_0xc96849(0x3f8))['classList'][_0xc96849(0x4c0)](_0xc96849(0x580));}),setupComparisonModalTabs(),document[_0x11666a(0x183)]['addEventListener'](_0x11666a(0x475),function(_0x2828da){const _0x5103eb=_0x11666a;if(_0x2828da[_0x5103eb(0x74d)][_0x5103eb(0x7d0)][_0x5103eb(0x15a)]('practice-topic-btn')){const _0x680ced=unescape(_0x2828da[_0x5103eb(0x74d)][_0x5103eb(0x663)][_0x5103eb(0x751)]);startSkillPractice(_0x680ced);}}),document[_0x11666a(0x613)](_0x11666a(0x425))[_0x11666a(0x1e9)](_0x11666a(0x475),_0x43bdf4=>{const _0x423865=_0x11666a,_0x2da735=_0x43bdf4[_0x423865(0x74d)][_0x423865(0x2b6)](_0x423865(0x336));if(_0x2da735){const _0x25d5dc=_0x2da735[_0x423865(0x663)][_0x423865(0x22c)];handleDeleteSubmission(_0x25d5dc);}});}async function showStudentProgressView(){const _0x287210=_0x576079;studentInitialView[_0x287210(0x7d0)][_0x287210(0x4c0)](_0x287210(0x580)),document[_0x287210(0x613)](_0x287210(0x577))[_0x287210(0x7d0)][_0x287210(0x699)](_0x287210(0x580));const _0x262951=document[_0x287210(0x613)](_0x287210(0x571)),_0x4fbebf=document[_0x287210(0x613)]('progress-student-select'),_0x1be44b=document[_0x287210(0x613)](_0x287210(0xc9));_0x1be44b[_0x287210(0x305)]=_0x287210(0xe9),_0x4fbebf[_0x287210(0x305)]=_0x287210(0x71b),_0x4fbebf[_0x287210(0x4c9)]=!![],_0x262951[_0x287210(0x305)]=_0x287210(0x712);if(allProjects[_0x287210(0x5dc)]===0x0){const _0x370d38=collection(db,_0x287210(0x672)+appId+'/public/data/projects'),_0x2da848=await getDocs(_0x370d38);allProjects=_0x2da848[_0x287210(0x301)]['map'](_0x381e4f=>({'id':_0x381e4f['id'],..._0x381e4f[_0x287210(0xe3)]()}));}const _0x10b241=allProjects[_0x287210(0x149)](_0x1ffa2a=>_0x1ffa2a[_0x287210(0x45b)]?.[_0x287210(0x253)]!==![]);_0x10b241[_0x287210(0x27a)]((_0x53ca8a,_0x3bbaf1)=>_0x53ca8a['projectName'][_0x287210(0x314)](_0x3bbaf1[_0x287210(0x3fd)],'th')),_0x262951[_0x287210(0x305)]=_0x287210(0x31f)+_0x10b241[_0x287210(0xd0)](_0x4bd56d=>_0x287210(0x758)+_0x4bd56d['id']+'\x22>'+_0x4bd56d[_0x287210(0x3fd)]+_0x287210(0x5d4))['join'](''),_0x262951[_0x287210(0x1b8)]=()=>{const _0x1e17e0=_0x287210,_0x35b5bc=_0x4fbebf[_0x1e17e0(0x75d)],_0xcf0da=_0x262951[_0x1e17e0(0x75d)];_0x4fbebf[_0x1e17e0(0x4c9)]=!![],_0x4fbebf[_0x1e17e0(0x305)]=_0x1e17e0(0x71b),_0x1be44b[_0x1e17e0(0x305)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0xcf0da)return;const _0x450b84=allProjects['find'](_0x4f863b=>_0x4f863b['id']===_0xcf0da);if(!_0x450b84||!_0x450b84[_0x1e17e0(0x80d)])return;const _0xc0c6bc=()=>{const _0x288655=_0x1e17e0;_0x4fbebf[_0x288655(0x305)]=_0x288655(0x71b)+_0x450b84[_0x288655(0x80d)][_0x288655(0xd0)](_0x22f2a0=>_0x288655(0x758)+_0x22f2a0+'\x22>'+_0x22f2a0+_0x288655(0x5d4))[_0x288655(0x815)](''),_0x4fbebf[_0x288655(0x4c9)]=![];const _0x2ee7e0=Array[_0x288655(0x4c4)](_0x4fbebf[_0x288655(0x516)])[_0x288655(0xd0)](_0x1a3294=>_0x1a3294['value']);if(_0x35b5bc&&_0x2ee7e0[_0x288655(0x353)](_0x35b5bc))_0x4fbebf['value']=_0x35b5bc,_0x4fbebf[_0x288655(0x15c)](new Event(_0x288655(0x3a8)));else _0x450b84['students']['length']===0x1&&(_0x4fbebf['value']=_0x450b84[_0x288655(0x80d)][0x0],_0x4fbebf[_0x288655(0x15c)](new Event(_0x288655(0x3a8))));};if(_0x450b84[_0x1e17e0(0x45b)]?.[_0x1e17e0(0x6d2)]){if(sessionStorage[_0x1e17e0(0x341)](_0x1e17e0(0x6ad)+_0xcf0da)===_0x1e17e0(0x7d4)){_0xc0c6bc();return;}const _0x9594f6=document[_0x1e17e0(0x613)]('project-passcode-modal'),_0x39bee1=document[_0x1e17e0(0x613)](_0x1e17e0(0x43b)),_0x24b24c=document[_0x1e17e0(0x613)](_0x1e17e0(0x6e2)),_0xe10b2d=document[_0x1e17e0(0x613)]('student-passcode-input'),_0x95ce45=document[_0x1e17e0(0x613)](_0x1e17e0(0xa0));document['getElementById'](_0x1e17e0(0x512))[_0x1e17e0(0xe2)]=_0x1e17e0(0x6bd)+_0x450b84[_0x1e17e0(0x3fd)],_0xe10b2d[_0x1e17e0(0x75d)]='',_0x95ce45[_0x1e17e0(0x7d0)][_0x1e17e0(0x4c0)](_0x1e17e0(0x580)),_0x9594f6[_0x1e17e0(0x7d0)][_0x1e17e0(0x699)](_0x1e17e0(0x580));const _0x4c1f65=()=>{const _0x200166=_0x1e17e0,_0x2e9e12=_0xe10b2d['value'][_0x200166(0x44a)]();_0x2e9e12===_0x450b84[_0x200166(0x45b)][_0x200166(0x1b2)]?(sessionStorage[_0x200166(0x578)](_0x200166(0x6ad)+_0xcf0da,_0x200166(0x7d4)),_0x9594f6[_0x200166(0x7d0)][_0x200166(0x4c0)](_0x200166(0x580)),_0xc0c6bc(),_0x39bee1[_0x200166(0x6c4)](_0x200166(0x475),_0x4c1f65)):_0x95ce45['classList'][_0x200166(0x699)](_0x200166(0x580));};_0x39bee1[_0x1e17e0(0x569)]=_0x4c1f65,_0x24b24c[_0x1e17e0(0x569)]=()=>{const _0x426cef=_0x1e17e0;_0x9594f6['classList']['add'](_0x426cef(0x580)),_0x262951[_0x426cef(0x75d)]='',_0x39bee1[_0x426cef(0x6c4)]('click',_0x4c1f65);};}else _0xc0c6bc();},_0x4fbebf[_0x287210(0x1b8)]=()=>{const _0x5c6327=_0x287210,_0x30524c=_0x262951[_0x5c6327(0x75d)],_0x69c363=_0x4fbebf['value'];_0x30524c&&_0x69c363&&renderStudentProgressDashboard(_0x30524c,_0x69c363);};}async function renderStudentProgressDashboard(_0xbfabdc,_0x2fb75b){const _0xe0d5af=_0x576079,_0x5ccdda=document['getElementById'](_0xe0d5af(0xc9));_0x5ccdda['innerHTML']=_0xe0d5af(0x180);try{const _0x3f4a12=collection(db,'artifacts/'+appId+_0xe0d5af(0x617)),_0x27336c=query(_0x3f4a12,where(_0xe0d5af(0x605),'==',_0xbfabdc)),_0x55674e=await getDocs(_0x27336c),_0x1598e4=_0x55674e['docs'][_0xe0d5af(0xd0)](_0x41653b=>({'id':_0x41653b['id'],..._0x41653b['data']()})),_0x2bf341=_0x1598e4[_0xe0d5af(0xd0)](_0x224154=>getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x224154['id']+_0xe0d5af(0x3dd),_0x2fb75b))),_0x5df048=await Promise[_0xe0d5af(0x60b)](_0x2bf341),_0x1057f5=_0x5df048[_0xe0d5af(0x149)](_0xcd4b51=>_0xcd4b51['exists']())['map'](_0x3b5060=>({'quizId':_0x3b5060['ref']['parent']['parent']['id'],..._0x3b5060[_0xe0d5af(0xe3)]()}));if(_0x1057f5[_0xe0d5af(0x5dc)]===0x0){_0x5ccdda[_0xe0d5af(0x305)]=_0xe0d5af(0x428);return;}let _0x36335b=_0xe0d5af(0x427);_0x1057f5[_0xe0d5af(0x570)](_0x12b5a6=>{const _0x263916=_0xe0d5af,_0x413c1e=_0x1598e4['find'](_0x32a538=>_0x32a538['id']===_0x12b5a6[_0x263916(0x462)]),_0x2907ca=_0x413c1e[_0x263916(0x45b)]?.[_0x263916(0x584)]||_0x263916(0x81f),_0x54e116=_0x413c1e[_0x263916(0x45b)]?.['passingScore']??0x0,_0x58f326=_0x12b5a6[_0x263916(0x44b)]>=_0x54e116;let _0x515533='',_0x1fd578=_0x263916(0x73e);switch(_0x2907ca){case _0x263916(0x81f):case _0x263916(0x1ae):_0x1fd578=_0x58f326?_0x263916(0x6ac):_0x263916(0x7fd),_0x515533=_0x263916(0x20a)+(_0x58f326?'text-green-700':_0x263916(0x1cb))+'\x22>'+_0x12b5a6[_0x263916(0x44b)]+_0x263916(0x515)+_0x12b5a6['totalQuestions']+_0x263916(0x5f9)+(_0x58f326?_0x263916(0x3a2):_0x263916(0x5db))+'\x22>'+(_0x58f326?_0x263916(0x45d):_0x263916(0x57e))+_0x263916(0x821);break;case _0x263916(0x7d3):_0x1fd578=_0x58f326?_0x263916(0x6ac):_0x263916(0x7fd),_0x515533=_0x263916(0x2cb)+(_0x58f326?'bg-green-200\x20text-green-800':_0x263916(0x5db))+'\x22>'+(_0x58f326?'ผ่าน':_0x263916(0x57e))+_0x263916(0x821);break;case _0x263916(0x374):_0x1fd578=_0x263916(0x70f),_0x515533=_0x263916(0x612);break;}_0x36335b+=_0x263916(0x483)+_0x1fd578+_0x263916(0x843)+_0x413c1e['topic']+_0x263916(0x7a7)+_0x12b5a6['attempts']['length']+_0x263916(0x257)+new Date(_0x12b5a6[_0x263916(0x84a)])[_0x263916(0x42d)](_0x263916(0x2e2))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x515533+_0x263916(0xa9);}),_0x36335b+=_0xe0d5af(0x4bb),_0x5ccdda[_0xe0d5af(0x305)]=_0x36335b;}catch(_0xddeea7){console['error'](_0xe0d5af(0x23e),_0xddeea7),_0x5ccdda[_0xe0d5af(0x305)]=_0xe0d5af(0x555);}}function setupStudentProgressListeners(){const _0xc98d31=_0x576079;document[_0xc98d31(0x613)]('view-my-progress-btn')[_0xc98d31(0x1e9)](_0xc98d31(0x475),showStudentProgressView),document[_0xc98d31(0x613)](_0xc98d31(0x7e5))['addEventListener']('click',()=>{const _0x432a6d=_0xc98d31;document['getElementById'](_0x432a6d(0x577))['classList']['add']('hidden'),document[_0x432a6d(0x613)](_0x432a6d(0x823))[_0x432a6d(0x7d0)][_0x432a6d(0x699)](_0x432a6d(0x580));});}async function startSkillPractice(_0x1cb3e6){const _0x479ddd=_0x576079;studentResultArea[_0x479ddd(0x7d0)][_0x479ddd(0x4c0)](_0x479ddd(0x580)),studentQuizArea['innerHTML']=_0x479ddd(0x40e),studentQuizArea[_0x479ddd(0x7d0)]['remove'](_0x479ddd(0x580));try{const _0x33ff13=await getStandardizedTopic(_0x1cb3e6);console[_0x479ddd(0x737)](_0x479ddd(0x61f)+_0x1cb3e6+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x33ff13+'\x22'),studentQuizArea[_0x479ddd(0x18e)]('p')[_0x479ddd(0xe2)]=_0x479ddd(0x4a7)+_0x33ff13+_0x479ddd(0x18a);const _0x57ed69=collection(db,_0x479ddd(0x672)+appId+_0x479ddd(0x3bb)),_0x399218=query(_0x57ed69,where(_0x479ddd(0x751),'==',_0x33ff13)),_0x6f93a5=await getDocs(_0x399218);if(_0x6f93a5['docs'][_0x479ddd(0x5dc)]>=0x3){console[_0x479ddd(0x737)]('พบข้อสอบ\x20'+_0x6f93a5[_0x479ddd(0x301)][_0x479ddd(0x5dc)]+_0x479ddd(0x3a5)+_0x33ff13+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x128c38=_0x6f93a5[_0x479ddd(0x301)][_0x479ddd(0xd0)](_0x22870f=>_0x22870f['data']());shuffleArray(_0x128c38);const _0x44646e={'topic':_0x33ff13,'questions':_0x128c38['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x44646e);}else{console['log'](_0x479ddd(0x6c7)+_0x33ff13+_0x479ddd(0x538));const _0x5d86a1=await generatePracticeQuestions(_0x33ff13);await saveDrillToPracticeBank(_0x5d86a1,_0x33ff13),displaySkillPracticeDrill(_0x5d86a1);}}catch(_0x3c42df){console[_0x479ddd(0x6a9)](_0x479ddd(0x56d),_0x3c42df),showMessage(_0x479ddd(0x7c7)),studentQuizArea[_0x479ddd(0x7d0)][_0x479ddd(0x4c0)](_0x479ddd(0x580)),studentResultArea[_0x479ddd(0x7d0)][_0x479ddd(0x699)](_0x479ddd(0x580));}}async function saveDrillToPracticeBank(_0x3b8b6e,_0x166eb5){const _0x499936=_0x576079,_0x325241=collection(db,_0x499936(0x672)+appId+'/public/data/practiceBank'),_0xe912f1=writeBatch(db);_0x3b8b6e['questions'][_0x499936(0x570)](_0x290e73=>{const _0x38a94c=_0x499936,_0x537e28=doc(_0x325241);_0xe912f1[_0x38a94c(0x3d8)](_0x537e28,{'topic':_0x166eb5,'questionText':_0x290e73['questionText'],'options':_0x290e73[_0x38a94c(0x516)],'correctAnswerIndex':_0x290e73[_0x38a94c(0x62e)],'explanation':_0x290e73[_0x38a94c(0x362)],'createdAt':serverTimestamp()});});try{await _0xe912f1['commit'](),console['log'](_0x499936(0x355)+_0x3b8b6e[_0x499936(0x7cd)][_0x499936(0x5dc)]+_0x499936(0xe4));}catch(_0x2ad538){console[_0x499936(0x6a9)](_0x499936(0x819),_0x2ad538);}}async function getStandardizedTopic(_0x2900f6){const _0xc5462e=_0x576079,_0x2bab5d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x2900f6+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x4a1206={'type':_0xc5462e(0x82c),'properties':{'standardTopic':{'type':_0xc5462e(0x6b3)}},'required':[_0xc5462e(0x4f1)]};try{const _0x4216d9=await callAnalysisApi(_0x2bab5d,_0x4a1206);return _0x4216d9[_0xc5462e(0x4f1)];}catch(_0xdbc28d){return console[_0xc5462e(0x6a9)]('Failed\x20to\x20get\x20standardized\x20topic:',_0xdbc28d),_0x2900f6;}}async function generatePracticeQuestions(_0x4c4631){const _0x48af07=_0x576079,_0x2b31b4=_0x48af07(0x1ce)+_0x4c4631+_0x48af07(0x564)+simpleMathPrompt+_0x48af07(0xf5),_0x502ad2={'type':_0x48af07(0x82c),'properties':{'questionText':{'type':_0x48af07(0x6b3)},'options':{'type':_0x48af07(0x656),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText',_0x48af07(0x516),_0x48af07(0x62e),_0x48af07(0x362)]},_0x58933b={'type':_0x48af07(0x82c),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x48af07(0x656),'items':_0x502ad2}},'required':[_0x48af07(0x751),_0x48af07(0x7cd)]};return await callAnalysisApi(_0x2b31b4,_0x58933b);}function displayLessonPlan(_0x26e6ce,_0x1fc74f){const _0x54d8b9=_0x576079,_0x40b200='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x1fc74f[_0x54d8b9(0x751)]+_0x54d8b9(0xbc)+_0x26e6ce[_0x54d8b9(0x784)][_0x54d8b9(0xd0)](_0x53f0ea=>_0x54d8b9(0x69c)+_0x53f0ea+_0x54d8b9(0x6fc))[_0x54d8b9(0x815)]('')+_0x54d8b9(0x303)+_0x26e6ce[_0x54d8b9(0x125)]+_0x54d8b9(0xc1)+_0x26e6ce[_0x54d8b9(0x611)]['map'](_0x34b4ae=>_0x54d8b9(0x4da)+_0x34b4ae['question']+_0x54d8b9(0x6d6)+_0x34b4ae[_0x54d8b9(0xfa)]+_0x54d8b9(0x9b))[_0x54d8b9(0x815)]('')+_0x54d8b9(0x4ca);document[_0x54d8b9(0x613)](_0x54d8b9(0x31c))['textContent']='แผนการสอน:\x20'+_0x1fc74f[_0x54d8b9(0x751)],document[_0x54d8b9(0x613)]('lesson-plan-content')[_0x54d8b9(0x305)]=_0x40b200,document['getElementById'](_0x54d8b9(0xc6))[_0x54d8b9(0x7d0)][_0x54d8b9(0x699)](_0x54d8b9(0x580));if(window['MathJax'])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x3367b7){const _0x556db9=_0x576079;let _0x2b64d8=0x0;const _0x460817=_0x3367b7[_0x556db9(0x7cd)],_0x316b41=()=>{const _0x5062c9=_0x556db9,_0x301628=_0x460817[_0x2b64d8],_0x291f2a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x2b64d8+0x1)+_0x5062c9(0x515)+_0x460817[_0x5062c9(0x5dc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x301628[_0x5062c9(0x4a9)]+_0x5062c9(0x3db)+_0x301628[_0x5062c9(0x516)]['map']((_0xfc4e74,_0x3021e4)=>_0x5062c9(0x739)+_0x3021e4+_0x5062c9(0x837)+_0x3021e4+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x3021e4+'\x22>'+_0xfc4e74+_0x5062c9(0x121))['join']('')+_0x5062c9(0x426);studentQuizArea['innerHTML']=_0x291f2a;if(window[_0x5062c9(0x561)])MathJax[_0x5062c9(0x47e)]([studentQuizArea]);document[_0x5062c9(0x613)](_0x5062c9(0x3b4))['addEventListener']('click',async()=>{const _0x2e853f=_0x5062c9,_0x3a3adb=await getHintForQuestion(_0x301628[_0x2e853f(0x4a9)]);showMessage(_0x3a3adb);}),document['getElementById'](_0x5062c9(0x7ff))[_0x5062c9(0x1e9)](_0x5062c9(0x475),()=>{const _0x59b094=_0x5062c9,_0x5150e5=document[_0x59b094(0x18e)](_0x59b094(0x2fb));if(!_0x5150e5){showMessage(_0x59b094(0x3ff));return;}const _0x3ee184=document[_0x59b094(0x613)](_0x59b094(0x50c)),_0x438e0c=parseInt(_0x5150e5[_0x59b094(0x75d)])===_0x301628[_0x59b094(0x62e)];_0x438e0c?(_0x3ee184[_0x59b094(0x6de)]=_0x59b094(0x480),_0x3ee184[_0x59b094(0x305)]=_0x59b094(0x754)+_0x301628[_0x59b094(0x362)]):(_0x3ee184['className']=_0x59b094(0x750),_0x3ee184[_0x59b094(0x305)]=_0x59b094(0x54d)+_0x301628[_0x59b094(0x362)]);_0x3ee184[_0x59b094(0x7d0)]['remove'](_0x59b094(0x580));if(window[_0x59b094(0x561)])MathJax['typesetPromise']([_0x3ee184]);document['getElementById'](_0x59b094(0x7ff))[_0x59b094(0x7d0)][_0x59b094(0x4c0)](_0x59b094(0x580)),document['getElementById'](_0x59b094(0x3b4))[_0x59b094(0x7d0)][_0x59b094(0x4c0)](_0x59b094(0x580)),document[_0x59b094(0x613)](_0x59b094(0xb5))[_0x59b094(0x7d0)]['remove'](_0x59b094(0x580));}),document['getElementById'](_0x5062c9(0xb5))[_0x5062c9(0x1e9)](_0x5062c9(0x475),()=>{const _0x4b1cca=_0x5062c9;_0x2b64d8++,_0x2b64d8<_0x460817[_0x4b1cca(0x5dc)]?_0x316b41():(studentQuizArea[_0x4b1cca(0x305)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x4b1cca(0x613)](_0x4b1cca(0x46e))[_0x4b1cca(0x1e9)](_0x4b1cca(0x475),()=>{const _0x6fb19d=_0x4b1cca;studentQuizArea[_0x6fb19d(0x7d0)][_0x6fb19d(0x4c0)](_0x6fb19d(0x580)),studentResultArea['classList']['remove'](_0x6fb19d(0x580));}));});};_0x316b41();}async function getHintForQuestion(_0x148840){const _0x164476=_0x576079,_0x185f14=_0x164476(0x658)+_0x148840+_0x164476(0x491),_0x23b0fe={'type':'OBJECT','properties':{'hint':{'type':_0x164476(0x6b3)}},'required':[_0x164476(0x206)]};try{const _0x3d9975=await callAnalysisApi(_0x185f14,_0x23b0fe);return _0x3d9975[_0x164476(0x206)];}catch(_0x50c18a){return console[_0x164476(0x6a9)]('Failed\x20to\x20get\x20hint:',_0x50c18a),_0x164476(0x23b);}}async function extractTextFromPdf(_0x12e958){const _0x75c57f=_0x576079;pdfjsLib[_0x75c57f(0x2e0)][_0x75c57f(0x539)]=_0x75c57f(0xd2);const _0x3284e7=await _0x12e958['arrayBuffer'](),_0xf4c806=await pdfjsLib['getDocument'](_0x3284e7)[_0x75c57f(0x7b2)],_0x37d15f=_0xf4c806[_0x75c57f(0x553)];let _0xac279='';for(let _0xac43b9=0x1;_0xac43b9<=_0x37d15f;_0xac43b9++){const _0x14433d=await _0xf4c806[_0x75c57f(0x110)](_0xac43b9),_0x10bd9b=await _0x14433d[_0x75c57f(0x557)](),_0x46dd2d=_0x10bd9b[_0x75c57f(0xa6)][_0x75c57f(0xd0)](_0x5b3dd8=>_0x5b3dd8[_0x75c57f(0x545)])[_0x75c57f(0x815)]('\x20');_0xac279+=_0x46dd2d+'\x0a\x0a';}return _0xac279;}async function handleGenerateFromBlueprint(){const _0x4aa8d5=_0x576079,_0x48aaf3=document[_0x4aa8d5(0x613)]('blueprint-upload-input'),_0x8292cc=document[_0x4aa8d5(0x613)](_0x4aa8d5(0x549)),_0x378a45=_0x48aaf3[_0x4aa8d5(0x5b8)][0x0],_0x573845=_0x8292cc['files']['length']>0x0?_0x8292cc[_0x4aa8d5(0x5b8)][0x0]:null;if(!_0x378a45){showMessage(_0x4aa8d5(0x566));return;}const _0x54cc60=document[_0x4aa8d5(0x613)]('loader'),_0x515f39=document[_0x4aa8d5(0x613)](_0x4aa8d5(0x7fa)),_0x38ef19=document['getElementById'](_0x4aa8d5(0x40a)),_0x5c1124=document[_0x4aa8d5(0x613)](_0x4aa8d5(0x420));_0x5c1124[_0x4aa8d5(0x4c9)]=!![],document[_0x4aa8d5(0x613)]('quiz-generation-area')[_0x4aa8d5(0x7d0)]['remove'](_0x4aa8d5(0x580)),_0x38ef19[_0x4aa8d5(0x305)]='',_0x54cc60[_0x4aa8d5(0x7d0)]['remove']('hidden');try{_0x515f39[_0x4aa8d5(0xe2)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x55693d=await extractTextFromPdf(_0x378a45);if(!_0x55693d[_0x4aa8d5(0x44a)]())throw new Error(_0x4aa8d5(0x1df));let _0x3544b8='';_0x573845&&(_0x515f39[_0x4aa8d5(0xe2)]=_0x4aa8d5(0x851),_0x3544b8=await extractTextFromPdf(_0x573845));_0x515f39[_0x4aa8d5(0xe2)]='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x32f0c1=document['getElementById'](_0x4aa8d5(0xf4))[_0x4aa8d5(0x61a)],_0x10475b=_0x32f0c1?_0x4aa8d5(0x1e0):'',_0x3389fe=_0x3544b8?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3544b8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x2e36dd=_0x4aa8d5(0xb4)+(_0x3544b8?_0x4aa8d5(0x4bd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55693d+_0x4aa8d5(0x1ea)+_0x3389fe+_0x4aa8d5(0x1eb)+_0x10475b+_0x4aa8d5(0x28a)+simpleMathPrompt+_0x4aa8d5(0x214),_0x1cb965={'type':'OBJECT','properties':{'questionText':{'type':_0x4aa8d5(0x6b3)},'questionType':{'type':_0x4aa8d5(0x6b3),'enum':['multiple_choice',_0x4aa8d5(0x380)]},'options':{'type':_0x4aa8d5(0x656),'items':{'type':_0x4aa8d5(0x6b3)}},'correctAnswerIndex':{'type':_0x4aa8d5(0x67d)},'idealAnswer':{'type':_0x4aa8d5(0x6b3)},'explanation':{'type':_0x4aa8d5(0x6b3)},'imageCode':{'type':_0x4aa8d5(0x6b3)}},'required':[_0x4aa8d5(0x4a9),_0x4aa8d5(0x7f7),_0x4aa8d5(0x362)]},_0x1bb713={'type':_0x4aa8d5(0x82c),'properties':{'topic':{'type':_0x4aa8d5(0x6b3)},'questions':{'type':_0x4aa8d5(0x656),'items':_0x1cb965}},'required':['topic',_0x4aa8d5(0x7cd)]};await handleApiCall(_0x2e36dd,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x1bb713);}catch(_0x551748){console[_0x4aa8d5(0x6a9)](_0x4aa8d5(0x1ef),_0x551748),showMessage(_0x4aa8d5(0x2a7)+_0x551748[_0x4aa8d5(0x217)]),_0x38ef19[_0x4aa8d5(0x305)]=_0x4aa8d5(0x9e);}finally{_0x54cc60[_0x4aa8d5(0x7d0)]['add'](_0x4aa8d5(0x580)),_0x5c1124['disabled']=![];}}async function handleGenerateParallelFromBank(_0x1a329c){const _0x52befe=_0x576079;switchProjectTab(_0x52befe(0x818));const _0x6bfc2e=document['getElementById'](_0x52befe(0x1c6)),_0x13045d=document['getElementById'](_0x52befe(0x7fa)),_0x3b57ce=document[_0x52befe(0x613)](_0x52befe(0x40a));document['getElementById'](_0x52befe(0x5a6))[_0x52befe(0x7d0)][_0x52befe(0x699)]('hidden'),_0x3b57ce[_0x52befe(0x305)]='',_0x6bfc2e[_0x52befe(0x7d0)][_0x52befe(0x699)](_0x52befe(0x580)),_0x13045d[_0x52befe(0xe2)]=_0x52befe(0x775)+_0x1a329c[_0x52befe(0x751)]+_0x52befe(0x5fb);try{const _0x1e4c00=_0x1a329c[_0x52befe(0x7cd)][_0x52befe(0xd0)]((_0x40c70c,_0x70357)=>{const _0x299039=_0x52befe;let _0x40cc5c=_0x70357+0x1+'.\x20'+(_0x40c70c[_0x299039(0x4a9)]||_0x40c70c['stem'])+'\x0a';if(_0x40c70c[_0x299039(0x516)])_0x40cc5c+=_0x40c70c[_0x299039(0x516)][_0x299039(0xd0)]((_0x54f2d3,_0x2df706)=>_0x299039(0x378)+(_0x2df706===_0x40c70c[_0x299039(0x62e)]?'[*]':'')+'\x20'+_0x54f2d3)['join']('\x0a');else _0x40c70c['idealAnswer']&&(_0x40cc5c+=_0x299039(0x7fb)+_0x40c70c[_0x299039(0x89)]);return _0x40cc5c;})[_0x52befe(0x815)]('\x0a\x0a');_0x13045d['textContent']=_0x52befe(0x3fa);const _0x24e344=_0x52befe(0x505)+_0x1a329c[_0x52befe(0x751)]+_0x52befe(0x857)+_0x1e4c00+_0x52befe(0x59c)+simpleMathPrompt+_0x52befe(0x214),_0xe60fbc={'type':_0x52befe(0x82c),'properties':{'questionText':{'type':_0x52befe(0x6b3)},'questionType':{'type':_0x52befe(0x6b3),'enum':[_0x52befe(0x433),_0x52befe(0x380),_0x52befe(0x598),'matching_item']},'options':{'type':_0x52befe(0x656),'items':{'type':_0x52befe(0x6b3)}},'correctAnswerIndex':{'type':_0x52befe(0x67d)},'idealAnswer':{'type':_0x52befe(0x6b3)},'correctAnswer':{'type':_0x52befe(0x643)},'stem':{'type':_0x52befe(0x6b3)},'correctResponse':{'type':_0x52befe(0x6b3)},'allResponses':{'type':_0x52befe(0x656),'items':{'type':_0x52befe(0x6b3)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x52befe(0x6b3)}},'required':['questionText',_0x52befe(0x7f7),_0x52befe(0x516),_0x52befe(0x62e),'explanation']},_0x4ab859={'type':_0x52befe(0x82c),'properties':{'topic':{'type':_0x52befe(0x6b3)},'questions':{'type':_0x52befe(0x656),'items':_0xe60fbc}},'required':[_0x52befe(0x751),_0x52befe(0x7cd)]},_0x593ea4=await callAnalysisApi(_0x24e344,_0x4ab859);_0x593ea4[_0x52befe(0x751)]=_0x52befe(0xa4)+_0x1a329c[_0x52befe(0x751)],_0x593ea4['quizType']=_0x1a329c[_0x52befe(0x741)],currentQuizData=_0x593ea4,displayGeneratedQuiz(_0x593ea4),document[_0x52befe(0x613)]('manage-tab-content')[_0x52befe(0x4de)]({'behavior':_0x52befe(0x75b)});}catch(_0x159b09){console['error'](_0x52befe(0x60d),_0x159b09),showMessage('เกิดข้อผิดพลาด:\x20'+_0x159b09[_0x52befe(0x217)]),_0x3b57ce[_0x52befe(0x305)]=_0x52befe(0x671);}finally{_0x6bfc2e[_0x52befe(0x7d0)][_0x52befe(0x4c0)](_0x52befe(0x580));}}async function handleGenerateParallelPostTest(_0x1d44f3){const _0x28b919=_0x576079,_0x3e4867=document[_0x28b919(0x613)](_0x28b919(0x812)),_0x9882eb=document[_0x28b919(0x613)]('project-quizzes-list');_0x9882eb[_0x28b919(0x7d0)][_0x28b919(0x4c0)]('hidden');const _0x13acf0=_0x28b919(0x5b3);_0x3e4867[_0x28b919(0x96)](_0x28b919(0x447),_0x13acf0);try{const _0x5663a6=_0x1d44f3[_0x28b919(0x7cd)][_0x28b919(0xd0)]((_0x1ab0aa,_0x25f5c1)=>{const _0x38e4ca=_0x28b919;let _0x29290a=_0x25f5c1+0x1+'.\x20'+(_0x1ab0aa[_0x38e4ca(0x4a9)]||_0x1ab0aa[_0x38e4ca(0x13f)]);if(_0x1ab0aa[_0x38e4ca(0x516)])_0x29290a+=_0x38e4ca(0x40d)+_0x1ab0aa[_0x38e4ca(0x516)][_0x38e4ca(0x815)](',\x20');return _0x29290a;})['join']('\x0a\x0a'),_0x4495e2=_0x28b919(0x107)+_0x1d44f3[_0x28b919(0x751)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5663a6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x28b919(0x214),_0x12833c={'type':_0x28b919(0x82c),'properties':{'topic':{'type':_0x28b919(0x6b3)},'questions':{'type':_0x28b919(0x656),'items':{'type':_0x28b919(0x82c),'properties':{'questionText':{'type':_0x28b919(0x6b3)},'questionType':{'type':'STRING'},'options':{'type':_0x28b919(0x656),'items':{'type':_0x28b919(0x6b3)}},'correctAnswerIndex':{'type':_0x28b919(0x67d)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':['questionText','explanation']}}},'required':['topic',_0x28b919(0x7cd)]},_0x19bcd2=await callAnalysisApi(_0x4495e2,_0x12833c),_0x286b9f=_0x1d44f3[_0x28b919(0x751)][_0x28b919(0x3c4)](_0x28b919(0x56a),'')['trim'](),_0x41e22c=_0x28b919(0x5ca)+_0x286b9f,_0xc0783b={..._0x19bcd2,'topic':_0x41e22c,'quizType':_0x1d44f3[_0x28b919(0x741)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x28b919(0x405)](),'status':_0x28b919(0x67b),'settings':_0x1d44f3[_0x28b919(0x45b)],'quizMode':_0x28b919(0x259),'pairedQuizId':_0x1d44f3['id']};let _0x19ffd8;while(!![]){_0x19ffd8=Math[_0x28b919(0x452)](0x3e8+Math[_0x28b919(0x633)]()*0x2328)[_0x28b919(0x770)]();const _0x4fe2bb=await getDoc(doc(db,'artifacts/'+appId+_0x28b919(0x617),_0x19ffd8));if(!_0x4fe2bb[_0x28b919(0x438)]())break;}await setDoc(doc(db,_0x28b919(0x672)+appId+'/public/data/quizzes',_0x19ffd8),_0xc0783b);const _0x2c8a26=doc(db,'artifacts/'+appId+_0x28b919(0x617),_0x1d44f3['id']);await updateDoc(_0x2c8a26,{'pairedQuizId':_0x19ffd8}),showMessage(_0x28b919(0x679));}catch(_0x577c7f){console['error'](_0x28b919(0x146),_0x577c7f),showMessage(_0x28b919(0x2a7)+_0x577c7f[_0x28b919(0x217)]);}finally{const _0xb6ae8e=document['getElementById'](_0x28b919(0x83e));if(_0xb6ae8e)_0xb6ae8e['remove']();_0x9882eb[_0x28b919(0x7d0)]['remove'](_0x28b919(0x580));}}async function handleGenerateParallelTest(){const _0x9265a1=_0x576079,_0x18bb30=document[_0x9265a1(0x613)]('parallel-test-upload-input'),_0x374a39=_0x18bb30['files'][0x0];if(!_0x374a39){showMessage(_0x9265a1(0x103));return;}const _0x4d8b95=document[_0x9265a1(0x613)](_0x9265a1(0x1c6)),_0x4d4023=document[_0x9265a1(0x613)]('loader-text'),_0x1741ce=document[_0x9265a1(0x613)](_0x9265a1(0x40a)),_0x581dc5=document[_0x9265a1(0x613)](_0x9265a1(0x23a));_0x581dc5[_0x9265a1(0x4c9)]=!![],document['getElementById'](_0x9265a1(0x5a6))['classList']['remove']('hidden'),_0x1741ce['innerHTML']='',_0x4d8b95[_0x9265a1(0x7d0)][_0x9265a1(0x699)]('hidden'),_0x4d4023['textContent']=_0x9265a1(0x4f2);try{const _0xf668e=await extractTextFromPdf(_0x374a39);if(!_0xf668e[_0x9265a1(0x44a)]())throw new Error(_0x9265a1(0x2b7));_0x4d4023[_0x9265a1(0xe2)]=_0x9265a1(0x3fa);const _0x499046=document[_0x9265a1(0x613)]('include-images-checkbox')['checked'],_0x12c3f8=_0x499046?_0x9265a1(0x1e0):'',_0x1d1d4a=_0x9265a1(0xeb)+_0xf668e+_0x9265a1(0x9f)+_0x12c3f8+_0x9265a1(0x28a)+simpleMathPrompt+_0x9265a1(0x214),_0x46fbf2={'type':_0x9265a1(0x82c),'properties':{'questionText':{'type':_0x9265a1(0x6b3)},'questionType':{'type':_0x9265a1(0x6b3),'enum':[_0x9265a1(0x433),_0x9265a1(0x380)]},'options':{'type':_0x9265a1(0x656),'items':{'type':_0x9265a1(0x6b3)}},'correctAnswerIndex':{'type':_0x9265a1(0x67d)},'idealAnswer':{'type':_0x9265a1(0x6b3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x9265a1(0x6b3)}},'required':[_0x9265a1(0x4a9),_0x9265a1(0x7f7),'explanation']},_0xcee06f={'type':_0x9265a1(0x82c),'properties':{'topic':{'type':_0x9265a1(0x6b3)},'questions':{'type':_0x9265a1(0x656),'items':_0x46fbf2}},'required':[_0x9265a1(0x751),_0x9265a1(0x7cd)]};await handleApiCall(_0x1d1d4a,_0x9265a1(0x7eb),_0xcee06f);}catch(_0x17018a){console[_0x9265a1(0x6a9)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x17018a),showMessage(_0x9265a1(0x2a7)+_0x17018a[_0x9265a1(0x217)]),_0x1741ce[_0x9265a1(0x305)]=_0x9265a1(0x671);}finally{_0x4d8b95[_0x9265a1(0x7d0)][_0x9265a1(0x4c0)](_0x9265a1(0x580)),_0x581dc5[_0x9265a1(0x4c9)]=![];}}async function handleRegenerateQuestionInEditor(_0x59d4af){const _0xa3d1ec=_0x576079;if(currentEditingQuizData===null)return;const _0x28472a=document[_0xa3d1ec(0x18e)]('.question-editor-item[data-q-index=\x22'+_0x59d4af+'\x22]');_0x28472a&&(_0x28472a[_0xa3d1ec(0x305)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x507cbc=currentEditingQuizData[_0xa3d1ec(0x7cd)][_0x59d4af],_0x182f7e=currentEditingQuizData[_0xa3d1ec(0x751)],_0x2e64d6=_0x507cbc[_0xa3d1ec(0x7f7)],_0x31211c={'type':_0xa3d1ec(0x82c),'properties':{'questionText':{'type':_0xa3d1ec(0x6b3)},'options':{'type':_0xa3d1ec(0x656),'items':{'type':_0xa3d1ec(0x6b3)}},'correctAnswerIndex':{'type':_0xa3d1ec(0x67d)},'explanation':{'type':_0xa3d1ec(0x6b3)}},'required':[_0xa3d1ec(0x4a9),'options',_0xa3d1ec(0x62e),_0xa3d1ec(0x362)]},_0x587ddd={'type':_0xa3d1ec(0x82c),'properties':{'questionText':{'type':_0xa3d1ec(0x6b3)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xa3d1ec(0x6b3)}},'required':['questionText','idealAnswer',_0xa3d1ec(0x362)]};let _0x2ab0b0,_0x190469='';_0x2e64d6===_0xa3d1ec(0x433)?(_0x2ab0b0=_0x31211c,_0x190469='แบบปรนัย\x204\x20ตัวเลือก'):(_0x2ab0b0=_0x587ddd,_0x190469=_0xa3d1ec(0x730));const _0x322f72=_0xa3d1ec(0x2da)+_0x182f7e+_0xa3d1ec(0x28d)+_0x190469+_0xa3d1ec(0x280)+(_0x507cbc[_0xa3d1ec(0x4a9)]||_0x507cbc['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x21a393=await callAnalysisApi(_0x322f72,_0x2ab0b0);currentEditingQuizData['questions'][_0x59d4af]={..._0x507cbc,..._0x21a393},renderQuizEditor(currentEditingQuizData);}catch(_0x18bb83){console[_0xa3d1ec(0x6a9)](_0xa3d1ec(0x4e7),_0x18bb83),showMessage(_0xa3d1ec(0xf0)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x16e203=_0x576079,_0x25c944=document['getElementById']('mode-switcher-btn');currentMode===_0x16e203(0x6e9)?(currentMode=_0x16e203(0x82b),_0x25c944['innerHTML']=_0x16e203(0x28e),_0x25c944[_0x16e203(0x18f)]='สลับไปโหมดนักเรียน',showView(_0x16e203(0xd6))):(currentMode='student',_0x25c944['innerHTML']=_0x16e203(0x36e),_0x25c944[_0x16e203(0x18f)]=_0x16e203(0x5d6),showView(_0x16e203(0x6e9)));}function handleAdminLogin(){const _0x333302=_0x576079,_0x437ce1=document[_0x333302(0x613)](_0x333302(0x844)),_0x26eb25=document[_0x333302(0x613)](_0x333302(0x140));if(_0x437ce1[_0x333302(0x75d)]===_0x333302(0x729)){adminPasswordModal[_0x333302(0x7d0)][_0x333302(0x4c0)](_0x333302(0x580)),_0x437ce1[_0x333302(0x75d)]='',_0x26eb25[_0x333302(0x7d0)][_0x333302(0x4c0)](_0x333302(0x580)),currentMode=_0x333302(0x82b);const _0x2b2e90=document['getElementById'](_0x333302(0x3c7));_0x2b2e90['innerHTML']=_0x333302(0x28e),_0x2b2e90[_0x333302(0x18f)]=_0x333302(0x55d),showView(_0x333302(0xd6));}else _0x26eb25[_0x333302(0x7d0)][_0x333302(0x699)](_0x333302(0x580)),_0x437ce1[_0x333302(0x75d)]='';}function switchProjectTab(_0x52f26a){const _0x261b8f=_0x576079;[_0x261b8f(0x818),_0x261b8f(0x682),_0x261b8f(0x4f4)][_0x261b8f(0x570)](_0x5042a6=>{const _0x2118f6=_0x261b8f;document[_0x2118f6(0x613)](_0x5042a6+_0x2118f6(0x4b2))[_0x2118f6(0x7d0)][_0x2118f6(0x699)]('active'),document[_0x2118f6(0x613)](_0x5042a6+_0x2118f6(0x6d3))[_0x2118f6(0x7d0)][_0x2118f6(0x4c0)](_0x2118f6(0x580));}),document['getElementById'](_0x52f26a+_0x261b8f(0x4b2))['classList'][_0x261b8f(0x4c0)]('active'),document[_0x261b8f(0x613)](_0x52f26a+_0x261b8f(0x6d3))['classList'][_0x261b8f(0x699)](_0x261b8f(0x580));}function switchQuizDetailTab(_0x45ef42){const _0x4e81ae=_0x576079,_0x19a762={'analytics':{'btn':'analytics-tab-btn','content':_0x4e81ae(0xa2)},'scores':{'btn':_0x4e81ae(0x6c1),'content':_0x4e81ae(0x425)},'leaderboard-quiz':{'btn':_0x4e81ae(0x5ce),'content':_0x4e81ae(0x7a5)},'behavior-log':{'btn':_0x4e81ae(0x487),'content':'behavior-log-tab-content'}};for(const _0x248ecb in _0x19a762){document[_0x4e81ae(0x613)](_0x19a762[_0x248ecb][_0x4e81ae(0x556)])[_0x4e81ae(0x7d0)][_0x4e81ae(0x699)](_0x4e81ae(0x67b)),document['getElementById'](_0x19a762[_0x248ecb]['content'])[_0x4e81ae(0x7d0)]['add'](_0x4e81ae(0x580));}document[_0x4e81ae(0x613)](_0x19a762[_0x45ef42]['btn'])[_0x4e81ae(0x7d0)][_0x4e81ae(0x4c0)](_0x4e81ae(0x67b)),document[_0x4e81ae(0x613)](_0x19a762[_0x45ef42]['content'])[_0x4e81ae(0x7d0)][_0x4e81ae(0x699)]('hidden');}function showMessage(_0x175400,_0x46509c=null){const _0x47c795=_0x576079;modalMessage[_0x47c795(0xe2)]=_0x175400,modalConfirmAction=_0x46509c,messageModal[_0x47c795(0x7d0)][_0x47c795(0x699)](_0x47c795(0x580));}function showConfirmation(_0x51a787,_0x20ddb5){const _0x2916b0=_0x576079;document[_0x2916b0(0x613)](_0x2916b0(0x63f))[_0x2916b0(0xe2)]=_0x51a787,document[_0x2916b0(0x613)](_0x2916b0(0x33d))[_0x2916b0(0x18e)]('h3')[_0x2916b0(0xe2)]='ยืนยันการกระทำ',confirmAction=_0x20ddb5,confirmationModal[_0x2916b0(0x7d0)]['remove'](_0x2916b0(0x580));}function listenForProjects(){const _0x2fb53e=_0x576079,_0x41a13f=doc(db,_0x2fb53e(0x233),'dashboardConfig');onSnapshot(_0x41a13f,_0x563cde=>{const _0x10718f=_0x2fb53e;if(_0x563cde['exists']()){const _0x13d421=_0x563cde[_0x10718f(0xe3)]();globalDashboardSettings[_0x10718f(0x593)]=_0x13d421[_0x10718f(0x593)]||_0x10718f(0x45c),globalDashboardSettings[_0x10718f(0x358)]=_0x13d421[_0x10718f(0x358)]||[],globalDashboardSettings[_0x10718f(0x20c)]=_0x13d421['projectOrder']||[];}allProjects[_0x10718f(0x5dc)]>0x0&&renderProjects();});const _0x30d80c=collection(db,_0x2fb53e(0x672)+appId+_0x2fb53e(0x116));unsubscribeProjectsListener=onSnapshot(_0x30d80c,_0xec8794=>{const _0x44a3a9=_0x2fb53e;allProjects=_0xec8794['docs'][_0x44a3a9(0xd0)](_0x57666f=>({'id':_0x57666f['id'],..._0x57666f[_0x44a3a9(0xe3)]()})),renderProjects();},_0x3529d1=>{const _0x335c0e=_0x2fb53e;console[_0x335c0e(0x6a9)](_0x335c0e(0x581),_0x3529d1),showMessage(_0x335c0e(0x72a));});}function showColorPalette(_0x8bb369,_0x435f7e){const _0x579fb2=_0x576079;document[_0x579fb2(0x20e)]('.color-palette-popup')['forEach'](_0x504382=>_0x504382[_0x579fb2(0x699)]());const _0xbda69b=[_0x579fb2(0x344),'#FEE2E2',_0x579fb2(0x7ea),_0x579fb2(0x2e6),_0x579fb2(0x474),_0x579fb2(0x7fe),'#F3E8FF',_0x579fb2(0x30b),'#E5E7EB'],_0xc98497=document[_0x579fb2(0x83a)]('div');_0xc98497['className']=_0x579fb2(0x2ca),_0xbda69b[_0x579fb2(0x570)](_0x5ea76b=>{const _0x229c92=_0x579fb2,_0x9f1294=document['createElement'](_0x229c92(0x356));_0x9f1294[_0x229c92(0x6de)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x9f1294[_0x229c92(0x93)][_0x229c92(0x601)]=_0x5ea76b,_0x9f1294['addEventListener'](_0x229c92(0x475),()=>{const _0x4d9e6c=_0x229c92;handleProjectColorChange(_0x435f7e,_0x5ea76b),_0xc98497[_0x4d9e6c(0x699)]();}),_0xc98497[_0x229c92(0x20f)](_0x9f1294);}),document['body'][_0x579fb2(0x20f)](_0xc98497);const _0x49266e=_0x8bb369[_0x579fb2(0x6ab)]();_0xc98497['style'][_0x579fb2(0x369)]=_0x49266e[_0x579fb2(0x1ca)]+window[_0x579fb2(0x2c0)]+'px',_0xc98497[_0x579fb2(0x93)][_0x579fb2(0x98)]=_0x49266e[_0x579fb2(0x98)]+window[_0x579fb2(0x232)]-_0xc98497[_0x579fb2(0x289)]/0x2+'px';}async function handleProjectColorChange(_0x4e02e6,_0x51d9bf){const _0x32b0ab=_0x576079,_0x345aaf=doc(db,_0x32b0ab(0x672)+appId+'/public/data/projects',_0x4e02e6);try{await updateDoc(_0x345aaf,{'color':_0x51d9bf});}catch(_0x248d4e){console[_0x32b0ab(0x6a9)](_0x32b0ab(0xb6),_0x248d4e),showMessage(_0x32b0ab(0x2dc));}}async function renderProjects(){const _0x20efc0=_0x576079,_0x229911=globalDashboardSettings[_0x20efc0(0x593)]||_0x20efc0(0x45c),_0x1c1a13=new Set(globalDashboardSettings[_0x20efc0(0x358)]||[]),_0x4abbee=globalDashboardSettings[_0x20efc0(0x2ae)]||_0x20efc0(0x514),_0x403b57=document['getElementById'](_0x20efc0(0x5c1)),_0x30949e=document[_0x20efc0(0x613)](_0x20efc0(0x450));_0x403b57['classList'][_0x20efc0(0x7ba)](_0x20efc0(0x67b),_0x4abbee===_0x20efc0(0x514)),_0x30949e['classList'][_0x20efc0(0x7ba)](_0x20efc0(0x67b),_0x4abbee===_0x20efc0(0x53a)),document[_0x20efc0(0x613)]('project-sort-select')['value']=_0x229911;const _0x16733e=document[_0x20efc0(0x613)](_0x20efc0(0x540))[_0x20efc0(0x75d)][_0x20efc0(0x1f8)]();let _0x478a9c=allProjects[_0x20efc0(0x149)](_0x1ae538=>_0x1ae538[_0x20efc0(0x3fd)]['toLowerCase']()['includes'](_0x16733e));const _0x5c3e3f=_0x478a9c[_0x20efc0(0x149)](_0x5a31c9=>_0x1c1a13[_0x20efc0(0xc0)](_0x5a31c9['id'])),_0x4bb5d5=_0x478a9c[_0x20efc0(0x149)](_0x1e4bd1=>!_0x1c1a13[_0x20efc0(0xc0)](_0x1e4bd1['id'])),_0x49836e=(_0x55511e,_0x544c69)=>{const _0x2d65a3=_0x20efc0;switch(_0x229911){case _0x2d65a3(0x80e):return _0x55511e[_0x2d65a3(0x3fd)][_0x2d65a3(0x314)](_0x544c69[_0x2d65a3(0x3fd)],'th');case'name_desc':return _0x544c69['projectName'][_0x2d65a3(0x314)](_0x55511e['projectName'],'th');case _0x2d65a3(0x18b):return new Date(_0x55511e[_0x2d65a3(0x360)])-new Date(_0x544c69['createdAt']);default:return new Date(_0x544c69[_0x2d65a3(0x360)])-new Date(_0x55511e['createdAt']);}};_0x5c3e3f[_0x20efc0(0x27a)](_0x49836e),_0x4bb5d5[_0x20efc0(0x27a)](_0x49836e);const _0x3c7aea=[..._0x5c3e3f,..._0x4bb5d5],_0x3c0456=globalDashboardSettings['projectOrder']||[];_0x3c0456[_0x20efc0(0x5dc)]>0x0&&_0x4abbee==='grid'&&_0x3c7aea[_0x20efc0(0x27a)]((_0x1a0f6f,_0x27f4bd)=>{const _0x2ec0d9=_0x20efc0,_0xb7eb33=_0x3c0456[_0x2ec0d9(0x2df)](_0x1a0f6f['id']),_0x54a7ff=_0x3c0456[_0x2ec0d9(0x2df)](_0x27f4bd['id']);if(_0xb7eb33===-0x1)return 0x1;if(_0x54a7ff===-0x1)return-0x1;return _0xb7eb33-_0x54a7ff;});const _0xa94301={};await Promise[_0x20efc0(0x60b)](_0x3c7aea[_0x20efc0(0xd0)](async _0x402d31=>{const _0x5ee837=_0x20efc0,_0x53006e=query(collection(db,_0x5ee837(0x672)+appId+_0x5ee837(0x617)),where(_0x5ee837(0x605),'==',_0x402d31['id'])),_0x7a991b=await getDocs(_0x53006e);_0xa94301[_0x402d31['id']]=_0x7a991b[_0x5ee837(0x2fe)];}));const _0x3a83ab=document[_0x20efc0(0x613)](_0x20efc0(0x63e));let _0x2ef8bb='';if(_0x4abbee===_0x20efc0(0x514)){_0x3a83ab[_0x20efc0(0x6de)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x20efc0(0x5dc)]>0x0&&_0x16733e===''){const _0x36acba=starredQuizzes[_0x20efc0(0xd0)](_0x4e6bf8=>{const _0xda19d0=_0x20efc0,_0x7c5d72=allProjects[_0xda19d0(0x703)](_0x2d403c=>_0x2d403c['id']===_0x4e6bf8[_0xda19d0(0x605)]);return{..._0x4e6bf8,'projectName':_0x7c5d72?_0x7c5d72[_0xda19d0(0x3fd)]:_0xda19d0(0x6c3)};});_0x2ef8bb+=_0x20efc0(0x4cc)+_0x36acba['map'](_0x46b2cc=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x46b2cc[_0x20efc0(0x751)]+'\x22>'+_0x46b2cc['topic']+_0x20efc0(0x308)+_0x46b2cc[_0x20efc0(0x3fd)]+_0x20efc0(0x780)+_0x46b2cc['projectName']+_0x20efc0(0x11d))['join']('')+_0x20efc0(0x498)+starredQuizzes[_0x20efc0(0x5dc)]+_0x20efc0(0x16e);}_0x3c7aea[_0x20efc0(0x570)](_0xb7f8d9=>{const _0x599595=_0x20efc0,_0x32eeda=_0xa94301[_0xb7f8d9['id']]??0x0,_0x5dd044=_0x1c1a13[_0x599595(0xc0)](_0xb7f8d9['id']),_0x43eace=_0xb7f8d9[_0x599595(0x594)]||_0x599595(0x344),_0x4d060e=parseInt(_0x43eace[_0x599595(0x373)](0x1,0x3),0x10)*0.299+parseInt(_0x43eace[_0x599595(0x373)](0x3,0x5),0x10)*0.587+parseInt(_0x43eace['substring'](0x5,0x7),0x10)*0.114<0xba,_0x57cbaa=_0x4d060e?'text-white':_0x599595(0x58d),_0x5031d7=_0x4d060e?_0x599595(0x74b):_0x599595(0x615);_0x2ef8bb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x5dd044?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x599595(0x661))+_0x599595(0x12d)+_0x43eace+_0x599595(0x7e6)+_0xb7f8d9['id']+_0x599595(0x2a0)+_0xb7f8d9['id']+_0x599595(0x182)+(_0x4d060e?_0x599595(0x3ef):_0x599595(0x13c))+_0x599595(0x690)+_0xb7f8d9['id']+_0x599595(0x6e5)+(_0x4d060e?_0x599595(0x3ef):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5dd044?_0x4d060e?'text-yellow-300':_0x599595(0x254):'')+_0x599595(0x563)+_0xb7f8d9['id']+_0x599595(0x332)+_0x57cbaa+'\x20pointer-events-none\x22>'+_0xb7f8d9[_0x599595(0x3fd)]+_0x599595(0x694)+_0x5031d7+_0x599595(0x604)+new Date(_0xb7f8d9['createdAt'])['toLocaleDateString'](_0x599595(0x2e2))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x4d060e?_0x599595(0x5f8):'text-gray-700')+_0x599595(0x449)+_0x32eeda+_0x599595(0x653)+_0xb7f8d9['id']+_0x599595(0x364)+_0xb7f8d9[_0x599595(0x3fd)]+_0x599595(0x680)+(_0x4d060e?_0x599595(0x2ec):'text-red-500\x20hover:text-red-700')+_0x599595(0x24d);});}else _0x3a83ab[_0x20efc0(0x6de)]=_0x20efc0(0x623),starredQuizzes[_0x20efc0(0x5dc)]>0x0&&_0x16733e===''&&(_0x2ef8bb+=_0x20efc0(0xfb)+starredQuizzes[_0x20efc0(0x5dc)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x2ef8bb+=_0x20efc0(0x2e5),_0x3c7aea[_0x20efc0(0x570)](_0xb1e5c2=>{const _0x478722=_0x20efc0,_0x3be0d1=_0xa94301[_0xb1e5c2['id']]??0x0,_0x2a937d=_0x1c1a13[_0x478722(0xc0)](_0xb1e5c2['id']);_0x2ef8bb+=_0x478722(0x7f4)+(_0xb1e5c2[_0x478722(0x594)]||_0x478722(0x52b))+_0x478722(0x70e)+_0xb1e5c2['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0xb1e5c2[_0x478722(0x3fd)]+_0x478722(0x1d9)+_0x3be0d1+_0x478722(0x4df)+new Date(_0xb1e5c2[_0x478722(0x360)])['toLocaleString'](_0x478722(0x2e2))+_0x478722(0x717)+_0xb1e5c2['id']+_0x478722(0x68e)+(_0x2a937d?_0x478722(0x254):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xb1e5c2['id']+_0x478722(0x364)+_0xb1e5c2[_0x478722(0x3fd)]+_0x478722(0x587);});projectList[_0x20efc0(0x305)]=_0x2ef8bb,noProjectsMsg[_0x20efc0(0x7d0)][_0x20efc0(0x7ba)]('hidden',_0x2ef8bb[_0x20efc0(0x5dc)]>0x0);}document[_0x576079(0x613)](_0x576079(0x3de))[_0x576079(0x1e9)](_0x576079(0x475),async()=>{const _0x3afb72=_0x576079,_0xdc67bd=document['getElementById'](_0x3afb72(0x801)),_0x2efd57=_0xdc67bd[_0x3afb72(0x75d)][_0x3afb72(0x44a)]();if(!_0x2efd57){showMessage(_0x3afb72(0x34e));return;}try{const _0x5958c6=doc(collection(db,_0x3afb72(0x672)+appId+_0x3afb72(0x116)));await setDoc(_0x5958c6,{'projectName':_0x2efd57,'students':[],'settings':{'resultsDisplay':_0x3afb72(0x81f),'shuffleSetting':_0x3afb72(0x14d),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3afb72(0x14d),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3afb72(0x405)]()}),_0xdc67bd[_0x3afb72(0x75d)]='',createProjectModal[_0x3afb72(0x7d0)][_0x3afb72(0x4c0)](_0x3afb72(0x580)),showMessage(_0x3afb72(0x541));}catch(_0x432bec){console[_0x3afb72(0x6a9)](_0x3afb72(0x484),_0x432bec),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x576079(0x1e9)](_0x576079(0x475),async _0xf6483f=>{const _0x3bffa8=_0x576079,_0x2aec0c=_0xf6483f[_0x3bffa8(0x74d)]['closest'](_0x3bffa8(0x6f2)),_0x166dce=_0xf6483f['target']['closest']('.delete-project-btn'),_0x1cc567=_0xf6483f[_0x3bffa8(0x74d)][_0x3bffa8(0x2b6)]('.pin-project-btn'),_0x2ac777=_0xf6483f[_0x3bffa8(0x74d)][_0x3bffa8(0x2b6)](_0x3bffa8(0x714));if(_0x1cc567){const _0x546d33=_0x1cc567[_0x3bffa8(0x663)]['id'],_0x1d3ae6=doc(db,_0x3bffa8(0x233),_0x3bffa8(0x43d)),_0x1b0194=globalDashboardSettings[_0x3bffa8(0x358)];let _0x2f00b2;_0x1b0194[_0x3bffa8(0x353)](_0x546d33)?_0x2f00b2=_0x1b0194[_0x3bffa8(0x149)](_0x5712f5=>_0x5712f5!==_0x546d33):_0x2f00b2=[..._0x1b0194,_0x546d33];try{await setDoc(_0x1d3ae6,{'pinnedProjects':_0x2f00b2},{'merge':!![]});}catch(_0x327bcf){console[_0x3bffa8(0x6a9)]('Error\x20updating\x20pin\x20status:',_0x327bcf),showMessage(_0x3bffa8(0x50e));}}else{if(_0x2ac777){const _0x3f2064=_0x2ac777[_0x3bffa8(0x663)]['id'];showColorPalette(_0x2ac777,_0x3f2064);}else{if(_0x2aec0c){const _0x4c08ad=_0x2aec0c[_0x3bffa8(0x663)]['id'];_0x4c08ad==='starred-project'?showStarredProjectView():(currentProjectId=_0x4c08ad,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x166dce){const _0x20778b=_0x166dce['dataset']['id'],_0x36b7db=_0x166dce['dataset']['name'];showConfirmation(_0x3bffa8(0x9a)+_0x36b7db+_0x3bffa8(0x625),()=>handleDeleteProject(_0x20778b));}}}}}),projectList[_0x576079(0x1e9)](_0x576079(0x243),_0x2a6991=>{const _0x1f202a=_0x576079,_0x4da04b=_0x2a6991[_0x1f202a(0x74d)][_0x1f202a(0x2b6)](_0x1f202a(0x66c));_0x4da04b&&_0x4da04b[_0x1f202a(0x7d0)]['add'](_0x1f202a(0x2d4));}),projectList[_0x576079(0x1e9)](_0x576079(0x3b5),_0x1dec34=>{const _0x4e6131=_0x576079,_0x459081=_0x1dec34['target']['closest'](_0x4e6131(0x66c));_0x459081&&_0x459081[_0x4e6131(0x7d0)][_0x4e6131(0x699)]('opacity-50');}),projectList[_0x576079(0x1e9)](_0x576079(0x4b1),_0x2ebd80=>{const _0xfd9be4=_0x576079;_0x2ebd80[_0xfd9be4(0x1e1)]();const _0x5804a7=document[_0xfd9be4(0x18e)](_0xfd9be4(0x652));if(!_0x5804a7)return;const _0x29de8a=getDragAfterElement(projectList,_0x2ebd80[_0xfd9be4(0x284)]);_0x29de8a==null?projectList['appendChild'](_0x5804a7):projectList[_0xfd9be4(0x56f)](_0x5804a7,_0x29de8a);}),projectList[_0x576079(0x1e9)](_0x576079(0x85),_0x5111b7=>{const _0x297c50=_0x576079;_0x5111b7[_0x297c50(0x1e1)]();const _0x1dd0d4=[...projectList[_0x297c50(0x20e)](_0x297c50(0x60a))]['map'](_0x550525=>_0x550525[_0x297c50(0x663)]['id']);saveProjectOrder(_0x1dd0d4);});function renderBehaviorLog(_0x4e3b18){const _0x17b7d5=_0x576079,_0x173396=document['getElementById'](_0x17b7d5(0x5fd));if(!_0x173396)return;const _0x141ffd=_0x4e3b18[_0x17b7d5(0x149)](_0x44e85b=>_0x44e85b[_0x17b7d5(0x759)]&&_0x44e85b[_0x17b7d5(0x759)][_0x17b7d5(0x5dc)]>0x0);if(_0x141ffd['length']===0x0){_0x173396[_0x17b7d5(0x305)]=_0x17b7d5(0x40c);return;}let _0x368b4d='';_0x141ffd['forEach'](_0x2bc232=>{const _0x2d08fd=_0x17b7d5;_0x368b4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x2bc232[_0x2d08fd(0x22c)]+_0x2d08fd(0x83c),_0x2bc232[_0x2d08fd(0x759)][_0x2d08fd(0x27a)]((_0x18b643,_0x4684c0)=>new Date(_0x4684c0[_0x2d08fd(0x67a)])-new Date(_0x18b643[_0x2d08fd(0x67a)]))[_0x2d08fd(0x570)](_0x3f3c24=>{const _0x468285=_0x2d08fd,_0x6fa613=new Date(_0x3f3c24[_0x468285(0x67a)])[_0x468285(0x792)](_0x468285(0x2e2),{'dateStyle':'short','timeStyle':'medium'});_0x368b4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x3f3c24[_0x468285(0x756)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x6fa613+_0x468285(0x44f);}),_0x368b4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x173396[_0x17b7d5(0x305)]=_0x368b4d;}function getDragAfterElement(_0x19416f,_0x495f6a){const _0x4fbe2a=_0x576079,_0x5262f6=[..._0x19416f[_0x4fbe2a(0x20e)]('.project-card-container:not(.opacity-50)')];return _0x5262f6['reduce']((_0x114b8a,_0x4f9431)=>{const _0x5a3404=_0x4fbe2a,_0xa3509b=_0x4f9431[_0x5a3404(0x6ab)](),_0x4ad175=_0x495f6a-_0xa3509b[_0x5a3404(0x369)]-_0xa3509b[_0x5a3404(0x319)]/0x2;return _0x4ad175<0x0&&_0x4ad175>_0x114b8a['offset']?{'offset':_0x4ad175,'element':_0x4f9431}:_0x114b8a;},{'offset':Number[_0x4fbe2a(0x510)]})['element'];}async function saveProjectOrder(_0x3556f4){const _0x1e2382=_0x576079,_0x3be392=doc(db,_0x1e2382(0x233),_0x1e2382(0x43d));try{await setDoc(_0x3be392,{'projectOrder':_0x3556f4},{'merge':!![]});}catch(_0x3302f1){console[_0x1e2382(0x6a9)]('Error\x20saving\x20project\x20order:',_0x3302f1),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x28d6ea,_0x2b30ba={}){const _0x3e0f2c=_0x576079;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3e0f2c(0xf6)](_0x3e0f2c(0x3d2));return;}const _0x400a2d=doc(db,'artifacts/'+appId+_0x3e0f2c(0x6d4)+currentQuizData['id']+_0x3e0f2c(0x3dd),currentStudentName),_0x396bcc={'event':_0x28d6ea,'timestamp':new Date()[_0x3e0f2c(0x405)](),..._0x2b30ba};try{await setDoc(_0x400a2d,{'studentName':currentStudentName,'behaviorLog':arrayUnion(_0x396bcc)},{'merge':!![]}),console[_0x3e0f2c(0x737)](_0x3e0f2c(0x366)+currentStudentName+_0x3e0f2c(0x213)+_0x28d6ea);}catch(_0x3a09e9){console[_0x3e0f2c(0x6a9)](_0x3e0f2c(0x69b),_0x3a09e9);}}function calculateMeanAndStdDev(_0x4354d8){const _0x5782ea=_0x576079;if(_0x4354d8[_0x5782ea(0x5dc)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0xa7b8e8=_0x4354d8[_0x5782ea(0x797)]((_0x2d58b1,_0x21dc68)=>_0x2d58b1+_0x21dc68,0x0)/_0x4354d8[_0x5782ea(0x5dc)];if(_0x4354d8[_0x5782ea(0x5dc)]===0x1)return{'mean':_0xa7b8e8,'stdDev':0x0};const _0x50e4b9=Math[_0x5782ea(0x151)](_0x4354d8['map'](_0x304a22=>Math[_0x5782ea(0x268)](_0x304a22-_0xa7b8e8,0x2))['reduce']((_0x5c54c1,_0x1e6f9c)=>_0x5c54c1+_0x1e6f9c,0x0)/(_0x4354d8['length']-0x1));return{'mean':_0xa7b8e8,'stdDev':_0x50e4b9};}function calculateZScore(_0x9f647e,_0x134df4,_0x843373){if(_0x843373===0x0)return 0x0;return(_0x9f647e-_0x134df4)/_0x843373;}function calculateTScore(_0x44bde0){return 0xa*_0x44bde0+0x32;}function showStarredProjectView(){const _0x20fbed=_0x576079;currentProjectId=_0x20fbed(0x3d1),currentProjectData=null,projectTitle[_0x20fbed(0xe2)]=_0x20fbed(0x10f),projectIdDisplay['textContent']=_0x20fbed(0xd4),showView(_0x20fbed(0x17d)),manageTab[_0x20fbed(0x7d0)][_0x20fbed(0x4c0)](_0x20fbed(0x580)),leaderboardTab[_0x20fbed(0x7d0)]['add'](_0x20fbed(0x580)),switchProjectTab(_0x20fbed(0x682)),renderQuizzes();}async function loadProjectDetails(_0x24e403){const _0x1d0583=_0x576079,_0x23600b=doc(db,_0x1d0583(0x672)+appId+'/public/data/projects',_0x24e403),_0x2926e2=await getDoc(_0x23600b);if(_0x2926e2[_0x1d0583(0x438)]()){manageTab[_0x1d0583(0x7d0)][_0x1d0583(0x699)](_0x1d0583(0x580)),leaderboardTab['classList'][_0x1d0583(0x699)](_0x1d0583(0x580)),currentProjectData=_0x2926e2[_0x1d0583(0xe3)](),projectTitle[_0x1d0583(0xe2)]=currentProjectData[_0x1d0583(0x3fd)],projectIdDisplay[_0x1d0583(0xe2)]=_0x24e403;const _0xe77d73=currentProjectData['settings']||{};document[_0x1d0583(0x613)]('shuffle-setting-select')['value']=_0xe77d73['shuffleSetting']||_0x1d0583(0x14d);const _0x2cd9ef=document[_0x1d0583(0x613)]('show-in-student-dashboard-checkbox');_0x2cd9ef[_0x1d0583(0x61a)]=_0xe77d73[_0x1d0583(0x253)]!==![];const _0x434e98=document[_0x1d0583(0x613)](_0x1d0583(0x47b)),_0x417185=document[_0x1d0583(0x613)](_0x1d0583(0x138)),_0x43d791=document[_0x1d0583(0x613)]('project-passcode-input'),_0x293e63=_0xe77d73[_0x1d0583(0x6d2)]||![];_0x434e98[_0x1d0583(0x61a)]=_0x293e63,_0x43d791[_0x1d0583(0x75d)]=_0xe77d73[_0x1d0583(0x1b2)]||'',_0x417185[_0x1d0583(0x7d0)][_0x1d0583(0x7ba)](_0x1d0583(0x580),!_0x293e63),_0x434e98[_0x1d0583(0x1b8)]=()=>{const _0x3d38ef=_0x1d0583;_0x417185[_0x3d38ef(0x7d0)][_0x3d38ef(0x7ba)](_0x3d38ef(0x580),!_0x434e98[_0x3d38ef(0x61a)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x24e403),listenForProjectQuizzes(_0x24e403),listenForStudentProfiles(_0x24e403);}else showMessage(_0x1d0583(0x2dd)),showView(_0x1d0583(0xd6));}async function handleResetProjectOrder(){const _0x554778=_0x576079,_0x39387d=doc(db,_0x554778(0x233),'dashboardConfig');try{await setDoc(_0x39387d,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x554778(0x852));}catch(_0x3613a3){console[_0x554778(0x6a9)](_0x554778(0x3ad),_0x3613a3),showMessage(_0x554778(0x5c9));}}async function handleTogglePinProject(_0x1037c6){const _0x41fd4f=_0x576079;if(!_0x1037c6)return;const _0x11923b=doc(db,_0x41fd4f(0x672)+appId+_0x41fd4f(0x116),_0x1037c6);try{const _0x3f1f0b=await getDoc(_0x11923b);if(_0x3f1f0b[_0x41fd4f(0x438)]()){const _0x7a19aa=_0x3f1f0b['data']()[_0x41fd4f(0x58a)]||![];await updateDoc(_0x11923b,{'isPinned':!_0x7a19aa});}}catch(_0x31a745){console[_0x41fd4f(0x6a9)]('Error\x20toggling\x20pin\x20status:',_0x31a745),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x484bca){const _0x112678=_0x576079;try{const _0x5b0736=writeBatch(db),_0x2ceae1=collection(db,'artifacts/'+appId+_0x112678(0x617)),_0x1bf91b=query(_0x2ceae1,where(_0x112678(0x605),'==',_0x484bca)),_0x3fc2a0=await getDocs(_0x1bf91b);for(const _0x1c3dc4 of _0x3fc2a0[_0x112678(0x301)]){const _0x55902b=collection(db,_0x112678(0x672)+appId+_0x112678(0x6d4)+_0x1c3dc4['id']+'/submissions'),_0xd2f4c9=await getDocs(_0x55902b);_0xd2f4c9['forEach'](_0x2d2cae=>{const _0x2f0b68=_0x112678;_0x5b0736[_0x2f0b68(0x4eb)](_0x2d2cae[_0x2f0b68(0x6c0)]);}),_0x5b0736[_0x112678(0x4eb)](_0x1c3dc4['ref']);}const _0x1ed553=collection(db,_0x112678(0x672)+appId+_0x112678(0x82f)+_0x484bca+_0x112678(0x39c)),_0x4580ec=await getDocs(_0x1ed553);_0x4580ec[_0x112678(0x570)](_0x315327=>{const _0x1d90e7=_0x112678;_0x5b0736['delete'](_0x315327[_0x1d90e7(0x6c0)]);});const _0x1cc7df=doc(db,_0x112678(0x672)+appId+_0x112678(0x116),_0x484bca);_0x5b0736[_0x112678(0x4eb)](_0x1cc7df),await _0x5b0736['commit'](),showMessage(_0x112678(0x274)),showView(_0x112678(0xd6));}catch(_0x734584){console[_0x112678(0x6a9)](_0x112678(0x241),_0x734584),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x576079(0x613)](_0x576079(0x3b0))[_0x576079(0x1e9)](_0x576079(0x475),async()=>{const _0x553576=_0x576079;if(!currentProjectId)return;const _0x5eddc7={'defaultNumQuestions':parseInt(document[_0x553576(0x613)](_0x553576(0x1bd))['value']),'defaultNumChoices':parseInt(document[_0x553576(0x613)](_0x553576(0x2fd))[_0x553576(0x75d)]),'defaultPassingScore':parseInt(document[_0x553576(0x613)](_0x553576(0x91))[_0x553576(0x75d)]),'resultsDisplay':document['getElementById'](_0x553576(0x2f0))[_0x553576(0x75d)],'shuffleSetting':document['getElementById'](_0x553576(0x310))[_0x553576(0x75d)],'timerMode':document[_0x553576(0x613)](_0x553576(0x279))[_0x553576(0x75d)],'timerDuration':parseInt(document['getElementById'](_0x553576(0x270))[_0x553576(0x75d)])};try{const _0x24eead=doc(db,_0x553576(0x672)+appId+_0x553576(0x116),currentProjectId);await updateDoc(_0x24eead,{'settings':_0x5eddc7}),showMessage(_0x553576(0x2b8));}catch(_0x54534a){console['error'](_0x553576(0x504),_0x54534a),showMessage(_0x553576(0x42e));}});function listenForStudents(_0x1810ec){const _0x362f6b=_0x576079,_0x68ee07=doc(db,_0x362f6b(0x672)+appId+_0x362f6b(0x116),_0x1810ec);unsubscribeStudentsListener=onSnapshot(_0x68ee07,_0x1d3db7=>{const _0xb131f1=_0x362f6b;if(_0x1d3db7[_0xb131f1(0x438)]()){const _0xe8748f=_0x1d3db7[_0xb131f1(0xe3)]();currentProjectData=_0xe8748f,renderStudentList(_0xe8748f[_0xb131f1(0x80d)]||[]);}});}function renderStudentList(_0x1990c9){const _0x208eee=_0x576079,_0x1a290b=document[_0x208eee(0x613)](_0x208eee(0x186));_0x1990c9[_0x208eee(0x5dc)]===0x0?(studentList['innerHTML']=_0x208eee(0x622),_0x1a290b['classList'][_0x208eee(0x4c0)](_0x208eee(0x580))):(studentList[_0x208eee(0x305)]=_0x1990c9['map'](_0x1565d6=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1565d6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x1565d6+_0x208eee(0x644))[_0x208eee(0x815)](''),_0x1a290b[_0x208eee(0x7d0)][_0x208eee(0x699)](_0x208eee(0x580)));}document[_0x576079(0x613)]('add-student-btn')[_0x576079(0x1e9)](_0x576079(0x475),async()=>{const _0x31bdb8=_0x576079;if(!currentProjectId)return;const _0x53bf81=document['getElementById'](_0x31bdb8(0x1c8)),_0x2f905f=_0x53bf81[_0x31bdb8(0x75d)]['trim']();if(!_0x2f905f){showMessage(_0x31bdb8(0x2ba));return;}const _0x17e7ab=_0x2f905f[_0x31bdb8(0x471)]('\x0a')[_0x31bdb8(0xd0)](_0x142940=>_0x142940[_0x31bdb8(0x44a)]())[_0x31bdb8(0x149)](_0x2452a2=>_0x2452a2);if(_0x17e7ab[_0x31bdb8(0x5dc)]===0x0)return;try{const _0x253eea=doc(db,_0x31bdb8(0x672)+appId+'/public/data/projects',currentProjectId),_0x493ae1=await getDoc(_0x253eea);if(_0x493ae1['exists']()){const _0x25f544=_0x493ae1[_0x31bdb8(0xe3)]()[_0x31bdb8(0x80d)]||[],_0x193b3c=[...new Set([..._0x25f544,..._0x17e7ab])];await updateDoc(_0x253eea,{'students':_0x193b3c}),_0x53bf81[_0x31bdb8(0x75d)]='';}}catch(_0x1746ac){console[_0x31bdb8(0x6a9)]('Error\x20adding\x20students:',_0x1746ac),showMessage(_0x31bdb8(0x7a1));}});async function handleManualQuizPairing(_0x251a24){const _0x47a746=_0x576079,_0x2ab0bb=document[_0x47a746(0x613)](_0x47a746(0x762)),_0x229dc1=document[_0x47a746(0x613)](_0x47a746(0x147)),_0x191fe6=_0x2ab0bb[_0x47a746(0x18e)]('h3'),_0x44b011=document[_0x47a746(0x613)]('confirm-move-quiz-btn'),_0x33b2c3=document[_0x47a746(0x613)](_0x47a746(0x492));_0x191fe6[_0x47a746(0xe2)]='จับคู่เพื่อเปรียบเทียบผล',_0x229dc1[_0x47a746(0x305)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x44b011['textContent']=_0x47a746(0x61c),_0x2ab0bb[_0x47a746(0x7d0)]['remove']('hidden');const _0x51a2fa=allQuizzes[_0x47a746(0x149)](_0x2e4edb=>_0x2e4edb['id']!==_0x251a24);_0x51a2fa[_0x47a746(0x5dc)]===0x0?(_0x229dc1[_0x47a746(0x305)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x44b011[_0x47a746(0x4c9)]=!![]):(_0x229dc1['innerHTML']=_0x47a746(0x532)+_0x51a2fa[_0x47a746(0xd0)](_0x51e70f=>_0x47a746(0x758)+_0x51e70f['id']+'\x22>'+_0x51e70f[_0x47a746(0x751)]+_0x47a746(0x5d4))[_0x47a746(0x815)](''),_0x44b011['disabled']=![]);const _0x34b804=async()=>{const _0x1dcc3a=_0x47a746,_0x455cd2=_0x229dc1[_0x1dcc3a(0x75d)];if(!_0x455cd2){showMessage(_0x1dcc3a(0x7ca));return;}_0x44b011[_0x1dcc3a(0x4c9)]=!![],_0x44b011[_0x1dcc3a(0xe2)]=_0x1dcc3a(0x807);try{const _0x330cf9=doc(db,'artifacts/'+appId+_0x1dcc3a(0x617),_0x251a24),_0x31460e=doc(db,_0x1dcc3a(0x672)+appId+_0x1dcc3a(0x617),_0x455cd2),_0x51beb2=writeBatch(db);_0x51beb2[_0x1dcc3a(0x4af)](_0x330cf9,{'pairedQuizId':_0x455cd2}),_0x51beb2[_0x1dcc3a(0x4af)](_0x31460e,{'pairedQuizId':_0x251a24}),await _0x51beb2[_0x1dcc3a(0x22d)](),showMessage(_0x1dcc3a(0x5b2)),_0x2ab0bb[_0x1dcc3a(0x7d0)]['add'](_0x1dcc3a(0x580));}catch(_0x38017d){console['error'](_0x1dcc3a(0x631),_0x38017d),showMessage(_0x1dcc3a(0x222));}finally{_0x191fe6[_0x1dcc3a(0xe2)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x44b011[_0x1dcc3a(0xe2)]=_0x1dcc3a(0x469),_0x44b011[_0x1dcc3a(0x4c9)]=![],_0x44b011[_0x1dcc3a(0x6c4)]('click',_0x34b804),_0x33b2c3['removeEventListener'](_0x1dcc3a(0x475),_0x1505a4);}},_0x1505a4=()=>{const _0x21f37f=_0x47a746;_0x2ab0bb['classList'][_0x21f37f(0x4c0)](_0x21f37f(0x580)),_0x191fe6[_0x21f37f(0xe2)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x44b011[_0x21f37f(0xe2)]=_0x21f37f(0x469),_0x44b011[_0x21f37f(0x6c4)](_0x21f37f(0x475),_0x34b804),_0x33b2c3[_0x21f37f(0x6c4)](_0x21f37f(0x475),_0x1505a4);};_0x44b011[_0x47a746(0x1e9)](_0x47a746(0x475),_0x34b804),_0x33b2c3[_0x47a746(0x1e9)](_0x47a746(0x475),_0x1505a4);}function handleDeleteStudent(_0x55d43b){const _0x1f40f6=_0x576079;showConfirmation(_0x1f40f6(0x78d)+_0x55d43b+_0x1f40f6(0x41d),async()=>{const _0x208a07=_0x1f40f6;if(!currentProjectId||!currentProjectData)return;const _0xacb07a=currentProjectData[_0x208a07(0x80d)][_0x208a07(0x149)](_0xd87d1f=>_0xd87d1f!==_0x55d43b);try{const _0x4e7d29=doc(db,_0x208a07(0x672)+appId+_0x208a07(0x116),currentProjectId),_0x2f5c6a=doc(db,_0x208a07(0x672)+appId+_0x208a07(0x82f)+currentProjectId+_0x208a07(0x39c),_0x55d43b),_0x110baf=writeBatch(db);_0x110baf[_0x208a07(0x4af)](_0x4e7d29,{'students':_0xacb07a}),_0x110baf[_0x208a07(0x4eb)](_0x2f5c6a),await _0x110baf[_0x208a07(0x22d)]();}catch(_0x2f0465){console['error']('Error\x20deleting\x20student:',_0x2f0465),showMessage(_0x208a07(0x37a));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x2730e9=_0x1b40;if(!currentProjectId)return;try{const _0xb0e82b=doc(db,_0x2730e9(0x672)+appId+_0x2730e9(0x116),currentProjectId),_0x484176=collection(db,'artifacts/'+appId+_0x2730e9(0x82f)+currentProjectId+'/studentProfiles'),_0x46f53b=await getDocs(_0x484176),_0x3551af=writeBatch(db);_0x3551af['update'](_0xb0e82b,{'students':[]}),_0x46f53b[_0x2730e9(0x570)](_0x47ae68=>_0x3551af['delete'](_0x47ae68[_0x2730e9(0x6c0)])),await _0x3551af[_0x2730e9(0x22d)]();}catch(_0x4884ab){console[_0x2730e9(0x6a9)](_0x2730e9(0x337),_0x4884ab),showMessage(_0x2730e9(0x774));}});}async function handleGenerateFromFileClick(){const _0x532d8e=_0x576079;if(!selectedFile){showMessage(_0x532d8e(0x67f));return;}const _0x1e5c82=document[_0x532d8e(0x613)](_0x532d8e(0x1c6)),_0x2dff83=document[_0x532d8e(0x613)]('loader-text'),_0x1e474e=document[_0x532d8e(0x613)](_0x532d8e(0x40a)),_0x4b7c32=document[_0x532d8e(0x613)](_0x532d8e(0x5b4));_0x4b7c32['disabled']=!![],document[_0x532d8e(0x613)](_0x532d8e(0x5a6))[_0x532d8e(0x7d0)][_0x532d8e(0x699)]('hidden'),_0x1e474e['innerHTML']='',_0x1e5c82['classList'][_0x532d8e(0x699)](_0x532d8e(0x580)),_0x2dff83['textContent']=_0x532d8e(0x632);const _0x4f632b=new FileReader();_0x4f632b[_0x532d8e(0x3be)](selectedFile),_0x4f632b[_0x532d8e(0x375)]=async()=>{const _0x41e518=_0x532d8e;try{const _0x5762e5=_0x4f632b[_0x41e518(0x771)]['split'](',')[0x1],_0x470b9a=selectedFile['type'];await generateQuizFromFile(_0x470b9a,_0x5762e5);}catch(_0x5b1b0a){console[_0x41e518(0x6a9)](_0x41e518(0xbd),_0x5b1b0a),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x5b1b0a['message']),_0x1e5c82['classList'][_0x41e518(0x4c0)](_0x41e518(0x580));}finally{}},_0x4f632b['onerror']=_0x41de67=>{const _0x4ba9ac=_0x532d8e;console['error']('FileReader\x20error:',_0x41de67),showMessage(_0x4ba9ac(0x171)),_0x1e5c82[_0x4ba9ac(0x7d0)][_0x4ba9ac(0x4c0)](_0x4ba9ac(0x580)),_0x4b7c32[_0x4ba9ac(0x4c9)]=![];};}function autoFormatMath(_0x47fe50){const _0x54a66d=_0x576079;if(typeof _0x47fe50!=='string'||!_0x47fe50)return _0x47fe50;const _0x45aa78=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x287240=_0x47fe50[_0x54a66d(0x3c4)](_0x45aa78,_0x55cde4=>{const _0x23109b=_0x54a66d;return'$'+_0x55cde4[_0x23109b(0x44a)]()+'$';});return _0x287240;}function sanitizeQuizData(_0x5afaa6){const _0x24a423=_0x576079;if(!_0x5afaa6||!_0x5afaa6[_0x24a423(0x7cd)])return _0x5afaa6;const _0x5cbbb4={'imes':_0x24a423(0x30a),'div':'\x5cdiv'},_0x4ef971=_0x541883=>{const _0x5acb2c=_0x24a423;if(typeof _0x541883!==_0x5acb2c(0x1a5))return _0x541883;let _0x3026fd=_0x541883;for(const [_0xdce997,_0xfa97a1]of Object['entries'](_0x5cbbb4)){const _0x433053=new RegExp('\x5cb'+_0xdce997+'\x5cb','g');_0x3026fd=_0x3026fd[_0x5acb2c(0x3c4)](_0x433053,_0xfa97a1);}return _0x3026fd=_0x3026fd['replace'](/\\\//g,_0x5acb2c(0xbe)),_0x3026fd=_0x3026fd[_0x5acb2c(0x3c4)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5acb2c(0xbe))[_0x5acb2c(0x3c4)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5acb2c(0x30a))[_0x5acb2c(0x3c4)](/÷/g,_0x5acb2c(0xbe))['replace'](/×/g,_0x5acb2c(0x30a)),_0x3026fd=_0x3026fd[_0x5acb2c(0x3c4)](/(\d)(\\frac)/g,_0x5acb2c(0x4b7)),_0x3026fd=autoFormatMath(_0x3026fd),_0x3026fd;};return _0x5afaa6[_0x24a423(0x751)]&&(_0x5afaa6[_0x24a423(0x751)]=_0x4ef971(_0x5afaa6['topic'])),_0x5afaa6[_0x24a423(0x7cd)][_0x24a423(0x570)](_0x3182df=>{const _0xc49c15=_0x24a423;_0x3182df['questionText']=_0x4ef971(_0x3182df['questionText']),_0x3182df[_0xc49c15(0x516)]&&(_0x3182df[_0xc49c15(0x516)]=_0x3182df['options'][_0xc49c15(0xd0)](_0x4ef971)),_0x3182df[_0xc49c15(0x362)]&&(_0x3182df['explanation']=_0x4ef971(_0x3182df[_0xc49c15(0x362)])),_0x3182df[_0xc49c15(0x13f)]&&(_0x3182df[_0xc49c15(0x13f)]=_0x4ef971(_0x3182df[_0xc49c15(0x13f)])),_0x3182df[_0xc49c15(0x6ea)]&&(_0x3182df[_0xc49c15(0x6ea)]=_0x4ef971(_0x3182df[_0xc49c15(0x6ea)])),_0x3182df[_0xc49c15(0x27d)]&&(_0x3182df['allResponses']=_0x3182df[_0xc49c15(0x27d)]['map'](_0x4ef971));}),_0x5afaa6;}const simpleMathPrompt=_0x576079(0x670);async function handleGenerateFromLink(){const _0x4969d0=_0x576079,_0x15dcb0=document['getElementById'](_0x4969d0(0x13d)),_0x8eca7e=document[_0x4969d0(0x613)](_0x4969d0(0x240)),_0x49f3dd=_0x15dcb0[_0x4969d0(0x75d)][_0x4969d0(0x44a)](),_0x5947f0=_0x8eca7e[_0x4969d0(0x75d)][_0x4969d0(0x44a)]();if(!_0x49f3dd){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x497c2f=document['getElementById'](_0x4969d0(0x1c6)),_0x3e59c5=document[_0x4969d0(0x613)](_0x4969d0(0x7fa)),_0x4bf880=document['getElementById'](_0x4969d0(0x40a)),_0x3817c6=document[_0x4969d0(0x613)](_0x4969d0(0x45f));document['getElementById'](_0x4969d0(0x5a6))['classList'][_0x4969d0(0x699)](_0x4969d0(0x580)),_0x4bf880[_0x4969d0(0x305)]='',_0x497c2f[_0x4969d0(0x7d0)][_0x4969d0(0x699)](_0x4969d0(0x580)),_0x3e59c5['textContent']=_0x4969d0(0x763),_0x3817c6[_0x4969d0(0x4c9)]=!![];try{const _0x5cfcd6=_0x4969d0(0x1c7)+encodeURIComponent(_0x49f3dd),_0x2f40f6=await fetch(_0x5cfcd6);if(!_0x2f40f6['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x2f40f6['status']+')');const _0x14ad7f=await _0x2f40f6[_0x4969d0(0x74a)](),_0x1ca735=extractTextFromHtml(_0x14ad7f);if(!_0x1ca735||_0x1ca735['length']<0x64)throw new Error(_0x4969d0(0x559));await generateQuiz(_0x5947f0,_0x1ca735);}catch(_0xa6949c){console[_0x4969d0(0x6a9)](_0x4969d0(0x139),_0xa6949c),showMessage(_0x4969d0(0x2a7)+_0xa6949c['message']),_0x4bf880[_0x4969d0(0x305)]=_0x4969d0(0x841);}finally{_0x497c2f[_0x4969d0(0x7d0)][_0x4969d0(0x4c0)](_0x4969d0(0x580)),_0x3817c6[_0x4969d0(0x4c9)]=![];}}function extractTextFromHtml(_0x4d20fd){const _0x447d5c=_0x576079,_0x304317=new DOMParser()[_0x447d5c(0x3f0)](_0x4d20fd,_0x447d5c(0x7c5));return _0x304317[_0x447d5c(0x20e)](_0x447d5c(0x1b7))['forEach'](_0x37bafa=>_0x37bafa['remove']()),_0x304317[_0x447d5c(0x183)][_0x447d5c(0xe2)]||'';}document[_0x576079(0x613)]('generate-from-topic-btn')['addEventListener']('click',()=>{const _0x4d5396=_0x576079,_0x12f217=document['getElementById'](_0x4d5396(0x6ca))[_0x4d5396(0x75d)][_0x4d5396(0x44a)]();generateQuiz(_0x12f217,null);}),document['getElementById'](_0x576079(0xc8))[_0x576079(0x1e9)](_0x576079(0x475),()=>{const _0x4076b5=_0x576079,_0x294fc3=document[_0x4076b5(0x613)]('text-content-input')[_0x4076b5(0x75d)][_0x4076b5(0x44a)]();if(!_0x294fc3){showMessage(_0x4076b5(0x3d0));return;}const _0x361dc2=document[_0x4076b5(0x613)](_0x4076b5(0x6ca))['value']['trim']();generateQuiz(_0x361dc2,_0x294fc3);});async function generateQuiz(_0x4d1c3f,_0x21409b,_0x215b47=null){const _0x382d66=_0x576079,_0x2726f8=document[_0x382d66(0x613)](_0x382d66(0xf4))[_0x382d66(0x61a)],_0x372d4a=document[_0x382d66(0x613)](_0x382d66(0x52d))[_0x382d66(0x75d)],_0x21d2d1=document[_0x382d66(0x613)]('num-questions')[_0x382d66(0x75d)],_0x4a5bfc=document[_0x382d66(0x613)](_0x382d66(0x2fd))['value'],_0x56b954=document[_0x382d66(0x613)](_0x382d66(0x713))['checked'],_0x48242a=_0x56b954?'':_0x382d66(0x354),_0x3b4131=document[_0x382d66(0x613)](_0x382d66(0x39f)),_0x451b9b=_0x3b4131[_0x382d66(0x75d)];let _0x2dd05d='';_0x451b9b!==_0x382d66(0x153)&&(_0x2dd05d=_0x382d66(0x137)+_0x451b9b+'\x22');const _0x1a6a3a=document['getElementById'](_0x382d66(0x5e3)),_0x558be9=_0x1a6a3a[_0x382d66(0x75d)];let _0x4a6322='';_0x558be9!==_0x382d66(0x2f5)&&(_0x4a6322='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x558be9+_0x382d66(0x13e));const _0x31cd81=document[_0x382d66(0x20e)]('#math-topics-checkbox-container\x20input:checked'),_0xc982d5=Array[_0x382d66(0x4c4)](_0x31cd81)[_0x382d66(0xd0)](_0x4f6b5c=>_0x4f6b5c[_0x382d66(0x75d)]);let _0x32eb87='';_0xc982d5[_0x382d66(0x5dc)]>0x0&&(_0x32eb87='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0xc982d5[_0x382d66(0x815)](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x3381af='',_0x57f55b='',_0x3bf611,_0x47daa1=_0x382d66(0x290)+_0x4d1c3f+'\x22';if(!_0x4d1c3f&&_0x21409b)_0x47daa1='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x4d1c3f&&!_0x21409b&&(_0x47daa1=_0x382d66(0x81d));const _0x2a0681={'type':_0x382d66(0x82c),'properties':{'questionText':{'type':_0x382d66(0x6b3)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x382d66(0x6b3)},'imageCode':{'type':'STRING'}},'required':[_0x382d66(0x4a9),'options',_0x382d66(0x62e),'explanation']},_0x4af352={'type':_0x382d66(0x82c),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x382d66(0x6b3)},'explanation':{'type':_0x382d66(0x6b3)},'imageCode':{'type':_0x382d66(0x6b3)}},'required':['questionText',_0x382d66(0x89),_0x382d66(0x362)]},_0x98ec39={'type':_0x382d66(0x82c),'properties':{'questionText':{'type':_0x382d66(0x6b3)},'questionType':{'type':'STRING','enum':[_0x382d66(0x433),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x382d66(0x6b3)}},'correctAnswerIndex':{'type':_0x382d66(0x67d)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x382d66(0x6b3)},'imageCode':{'type':'STRING'}},'required':[_0x382d66(0x4a9),_0x382d66(0x7f7),_0x382d66(0x362)]},_0x3cf16b={'type':_0x382d66(0x82c),'properties':{'questionText':{'type':_0x382d66(0x6b3)},'correctAnswer':{'type':_0x382d66(0x643)},'explanation':{'type':_0x382d66(0x6b3)},'imageCode':{'type':_0x382d66(0x6b3)}},'required':[_0x382d66(0x4a9),_0x382d66(0x619),_0x382d66(0x362)]},_0x1e47f2={'type':_0x382d66(0x82c),'properties':{'questionType':{'type':_0x382d66(0x6b3),'enum':[_0x382d66(0x193)]},'stem':{'type':_0x382d66(0x6b3)},'correctResponse':{'type':_0x382d66(0x6b3)},'allResponses':{'type':_0x382d66(0x656),'items':{'type':_0x382d66(0x6b3)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x382d66(0x6b3)}},'required':[_0x382d66(0x7f7),_0x382d66(0x13f),_0x382d66(0x6ea),_0x382d66(0x27d),_0x382d66(0x362)]};let _0x4c303f;if(_0x215b47!==null){const _0x237043=currentQuizData['questions'][_0x215b47]['questionType'],_0x2b5efa=_0x2726f8?_0x382d66(0xf2):'';_0x3381af=_0x382d66(0x95)+_0x47daa1+'\x20'+_0x32eb87+'\x20'+_0x2dd05d+_0x382d66(0x6fb)+_0x2b5efa+'\x20'+simpleMathPrompt;if(_0x237043===_0x382d66(0x433))_0x3bf611=_0x2a0681;else{if(_0x237043===_0x382d66(0x193))_0x3bf611={'type':_0x382d66(0x82c),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x382d66(0x6b3)},'correctResponse':{'type':_0x382d66(0x6b3)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x382d66(0x6b3)}},'required':[_0x382d66(0x7f7),_0x382d66(0x13f),_0x382d66(0x6ea),_0x382d66(0x362)]};else _0x3bf611=_0x4af352;}_0x4c303f=_0x3bf611;}else{const _0x17b482=_0x2726f8?_0x382d66(0x286):'',_0x3f837f='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x372d4a){case'multiple_choice':_0x3381af=_0x382d66(0x11c)+_0x48242a+'\x20'+_0x21d2d1+_0x382d66(0x191)+_0x47daa1+'\x20'+_0x32eb87+'\x20'+_0x2dd05d+'\x20'+_0x4a6322+_0x382d66(0x36a)+_0x4a5bfc+_0x382d66(0x3f4)+_0x17b482+'\x20'+simpleMathPrompt,_0x3bf611=_0x2a0681;break;case'fill_in_with_choices':_0x3381af=_0x382d66(0x772)+_0x48242a+'\x20'+_0x21d2d1+_0x382d66(0x191)+_0x47daa1+'\x20'+_0x32eb87+'\x20'+_0x2dd05d+'\x20'+_0x4a6322+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4a5bfc+_0x382d66(0x40f)+_0x17b482+'\x20'+simpleMathPrompt,_0x3bf611=_0x2a0681;break;case _0x382d66(0x326):_0x3381af=_0x382d66(0x772)+_0x48242a+'\x20'+_0x21d2d1+_0x382d66(0x191)+_0x47daa1+'\x20'+_0x32eb87+'\x20'+_0x2dd05d+'\x20'+_0x4a6322+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x17b482+'\x20'+simpleMathPrompt,_0x3bf611=_0x4af352;break;case'mixed':_0x3381af=_0x382d66(0xea)+_0x48242a+'\x20'+_0x21d2d1+_0x382d66(0x191)+_0x47daa1+'\x20'+_0x32eb87+'\x20'+_0x2dd05d+'\x20'+_0x4a6322+_0x382d66(0xcb)+_0x4a5bfc+_0x382d66(0x3b1)+_0x17b482+'\x20'+simpleMathPrompt+'.',_0x3bf611=_0x98ec39;break;case _0x382d66(0x598):_0x3381af=_0x382d66(0x5c7)+_0x48242a+'\x20'+_0x21d2d1+_0x382d66(0x191)+_0x47daa1+'\x20'+_0x32eb87+'\x20'+_0x2dd05d+'\x20'+_0x4a6322+_0x382d66(0x458)+_0x17b482+'\x20'+simpleMathPrompt,_0x3bf611=_0x3cf16b;break;case _0x382d66(0x38a):_0x3381af=_0x382d66(0x141)+_0x48242a+'\x20'+_0x21d2d1+_0x382d66(0x226)+_0x47daa1+'\x20'+_0x32eb87+'\x20'+_0x2dd05d+'\x20'+_0x4a6322+_0x382d66(0x1c5)+_0x17b482+'\x20'+simpleMathPrompt,_0x3bf611=_0x1e47f2;break;}_0x4c303f={'type':_0x382d66(0x82c),'properties':{'topic':{'type':_0x382d66(0x6b3)},'questions':{'type':'ARRAY','items':_0x3bf611}},'required':[_0x382d66(0x751),_0x382d66(0x7cd)]};}return _0x21409b?(_0x3381af=_0x382d66(0x431)+_0x21409b+_0x382d66(0x5e0)+_0x3381af,_0x57f55b=_0x382d66(0x1b3)):_0x57f55b=_0x382d66(0x509),handleApiCall(_0x3381af,_0x57f55b,_0x4c303f,_0x215b47);}async function generateQuizFromFile(_0xea8a4f,_0x6b098){const _0x1f7d5c=_0x576079,_0x13ca55=document['getElementById'](_0x1f7d5c(0x5f1))[_0x1f7d5c(0x75d)][_0x1f7d5c(0x44a)](),_0x3982cf=document[_0x1f7d5c(0x613)](_0x1f7d5c(0x52d))['value'],_0x441af4=document[_0x1f7d5c(0x613)](_0x1f7d5c(0x1bd))[_0x1f7d5c(0x75d)],_0x3add68=document[_0x1f7d5c(0x613)](_0x1f7d5c(0x2fd))[_0x1f7d5c(0x75d)],_0x4e1431=document['getElementById'](_0x1f7d5c(0xf4))[_0x1f7d5c(0x61a)],_0xf58df6=document[_0x1f7d5c(0x613)](_0x1f7d5c(0x713))['checked'],_0x325c0f=_0xf58df6?'':_0x1f7d5c(0x354);let _0x977d1e='',_0x123ea8,_0x2892e5=_0x1f7d5c(0x290)+_0x13ca55+'\x22';!_0x13ca55&&(_0x2892e5=_0x1f7d5c(0x660));const _0x33ed71=_0x4e1431?_0x1f7d5c(0x286):'';switch(_0x3982cf){case _0x1f7d5c(0x433):_0x977d1e=_0x1f7d5c(0x11c)+_0x325c0f+'\x20'+_0x441af4+_0x1f7d5c(0x191)+_0x2892e5+_0x1f7d5c(0x36a)+_0x3add68+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x33ed71+'\x20'+simpleMathPrompt,_0x123ea8={'type':_0x1f7d5c(0x82c),'properties':{'questionText':{'type':_0x1f7d5c(0x6b3)},'options':{'type':_0x1f7d5c(0x656),'items':{'type':_0x1f7d5c(0x6b3)}},'correctAnswerIndex':{'type':_0x1f7d5c(0x67d)},'explanation':{'type':_0x1f7d5c(0x6b3)},'imageCode':{'type':_0x1f7d5c(0x6b3)}},'required':[_0x1f7d5c(0x4a9),_0x1f7d5c(0x516),_0x1f7d5c(0x62e),_0x1f7d5c(0x362)]};break;case _0x1f7d5c(0x11f):_0x977d1e=_0x1f7d5c(0x772)+_0x325c0f+'\x20'+_0x441af4+_0x1f7d5c(0x191)+_0x2892e5+_0x1f7d5c(0x628)+_0x3add68+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x33ed71+'\x20'+simpleMathPrompt,_0x123ea8={'type':_0x1f7d5c(0x82c),'properties':{'questionText':{'type':_0x1f7d5c(0x6b3)},'options':{'type':_0x1f7d5c(0x656),'items':{'type':_0x1f7d5c(0x6b3)}},'correctAnswerIndex':{'type':_0x1f7d5c(0x67d)},'explanation':{'type':_0x1f7d5c(0x6b3)},'imageCode':{'type':_0x1f7d5c(0x6b3)}},'required':[_0x1f7d5c(0x4a9),_0x1f7d5c(0x516),'correctAnswerIndex',_0x1f7d5c(0x362)]};break;case'fill_in_no_choices':_0x977d1e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x325c0f+'\x20'+_0x441af4+'\x20ข้อ\x20'+_0x2892e5+_0x1f7d5c(0x1a3)+_0x33ed71+'\x20'+simpleMathPrompt,_0x123ea8={'type':'OBJECT','properties':{'questionText':{'type':_0x1f7d5c(0x6b3)},'idealAnswer':{'type':_0x1f7d5c(0x6b3)},'explanation':{'type':_0x1f7d5c(0x6b3)},'imageCode':{'type':_0x1f7d5c(0x6b3)}},'required':['questionText',_0x1f7d5c(0x89),_0x1f7d5c(0x362)]};break;case _0x1f7d5c(0x2f5):_0x977d1e='สร้างแบบทดสอบ'+_0x325c0f+'\x20'+_0x441af4+_0x1f7d5c(0x191)+_0x2892e5+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x3add68+_0x1f7d5c(0x3b1)+_0x33ed71+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x123ea8={'type':'OBJECT','properties':{'questionText':{'type':_0x1f7d5c(0x6b3)},'questionType':{'type':_0x1f7d5c(0x6b3),'enum':[_0x1f7d5c(0x433),_0x1f7d5c(0x380)]},'options':{'type':_0x1f7d5c(0x656),'items':{'type':_0x1f7d5c(0x6b3)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1f7d5c(0x6b3)},'explanation':{'type':_0x1f7d5c(0x6b3)},'imageCode':{'type':_0x1f7d5c(0x6b3)}},'required':[_0x1f7d5c(0x4a9),_0x1f7d5c(0x7f7),'explanation']};break;case _0x1f7d5c(0x598):_0x977d1e=_0x1f7d5c(0x5c7)+_0x325c0f+'\x20'+_0x441af4+_0x1f7d5c(0x191)+_0x2892e5+_0x1f7d5c(0x3d7)+_0x33ed71+'\x20'+simpleMathPrompt,_0x123ea8={'type':_0x1f7d5c(0x82c),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x1f7d5c(0x643)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1f7d5c(0x6b3)}},'required':[_0x1f7d5c(0x4a9),_0x1f7d5c(0x619),'explanation']};break;case _0x1f7d5c(0x38a):_0x977d1e=_0x1f7d5c(0x141)+_0x325c0f+'\x20'+_0x441af4+'\x20คู่\x20'+_0x2892e5+_0x1f7d5c(0x4b4)+_0x441af4+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x33ed71+'\x20'+simpleMathPrompt,_0x123ea8={'type':_0x1f7d5c(0x82c),'properties':{'questionType':{'type':_0x1f7d5c(0x6b3),'enum':[_0x1f7d5c(0x193)]},'stem':{'type':_0x1f7d5c(0x6b3)},'correctResponse':{'type':_0x1f7d5c(0x6b3)},'allResponses':{'type':_0x1f7d5c(0x656),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1f7d5c(0x6b3)}},'required':[_0x1f7d5c(0x7f7),'stem',_0x1f7d5c(0x6ea),_0x1f7d5c(0x27d),_0x1f7d5c(0x362)]};break;}const _0x3ba5b9={'type':_0x1f7d5c(0x82c),'properties':{'topic':{'type':_0x1f7d5c(0x6b3)},'questions':{'type':_0x1f7d5c(0x656),'items':_0x123ea8}},'required':[_0x1f7d5c(0x751),_0x1f7d5c(0x7cd)]},_0x4c39ef=_0x1f7d5c(0x24b)+_0x977d1e,_0x48be34={'contents':[{'parts':[{'text':_0x4c39ef},{'inlineData':{'mimeType':_0xea8a4f,'data':_0x6b098}}]}],'generationConfig':{'responseMimeType':_0x1f7d5c(0x481),'responseSchema':_0x3ba5b9}};return handleApiCall(_0x48be34['contents'][0x0][_0x1f7d5c(0x776)],_0x1f7d5c(0x7bc),_0x3ba5b9);}async function handleApiCall(_0x5b1546,_0x46a063,_0xbb1214,_0x4a4b69=null){const _0x227974=_0x576079,_0x2aee7d=document[_0x227974(0x613)](_0x227974(0x5a6)),_0x4c1406=document[_0x227974(0x613)](_0x227974(0x1c6)),_0x2ab5c6=document[_0x227974(0x613)]('loader-text'),_0x4250b5=document[_0x227974(0x613)]('generated-quiz-container');_0x2aee7d[_0x227974(0x7d0)]['remove']('hidden');_0x4a4b69===null&&(_0x4250b5[_0x227974(0x305)]='');_0x4c1406[_0x227974(0x7d0)][_0x227974(0x699)](_0x227974(0x580)),_0x2ab5c6[_0x227974(0xe2)]=_0x46a063,document[_0x227974(0x613)]('generate-from-topic-btn')[_0x227974(0x4c9)]=!![],document[_0x227974(0x613)](_0x227974(0xc8))[_0x227974(0x4c9)]=!![],document[_0x227974(0x613)]('generate-from-link-btn')[_0x227974(0x4c9)]=!![];try{const _0x4298cc={'responseMimeType':_0x227974(0x481),'responseSchema':_0xbb1214},_0x21bb61=Array['isArray'](_0x5b1546)?_0x5b1546:[{'text':_0x5b1546}],_0x1da831={'contents':[{'role':_0x227974(0x840),'parts':_0x21bb61}],'generationConfig':_0x4298cc},_0x5bad65='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x528116='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5bad65,_0x10829a=await fetch(_0x528116,{'method':_0x227974(0x56c),'headers':{'Content-Type':'application/json'},'body':JSON[_0x227974(0x4b3)](_0x1da831)});if(!_0x10829a['ok'])throw new Error(_0x227974(0x13b)+_0x10829a[_0x227974(0x71f)]);const _0x387f33=await _0x10829a['json']();if(_0x387f33[_0x227974(0x4f0)]?.[0x0]?.[_0x227974(0xcc)]?.['parts']?.[0x0]){let _0x129f61=_0x387f33[_0x227974(0x4f0)][0x0][_0x227974(0xcc)]['parts'][0x0][_0x227974(0x74a)],_0x58204b;try{if(_0x129f61[_0x227974(0x24e)](_0x227974(0x637)))_0x129f61=_0x129f61[_0x227974(0x373)](0x7,_0x129f61[_0x227974(0x5dc)]-0x3)['trim']();else _0x129f61['startsWith'](_0x227974(0x734))&&(_0x129f61=_0x129f61['substring'](0x3,_0x129f61[_0x227974(0x5dc)]-0x3)[_0x227974(0x44a)]());_0x58204b=JSON['parse'](_0x129f61);}catch(_0x34ef91){console[_0x227974(0x6a9)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x34ef91,_0x129f61);throw new Error(_0x227974(0x7e9));}if(_0x4a4b69!==null){if(_0x58204b['questionType']===_0x227974(0x193)){const _0xe3c57f=currentQuizData[_0x227974(0x7cd)][_0x227974(0xd0)](_0x188a1f=>_0x188a1f[_0x227974(0x6ea)]);_0x58204b['allResponses']=_0xe3c57f;const _0x267ad8=currentQuizData[_0x227974(0x7cd)][_0x4a4b69][_0x227974(0x6ea)],_0x539b1a=_0xe3c57f[_0x227974(0x2df)](_0x267ad8);_0x539b1a>-0x1&&(_0xe3c57f[_0x539b1a]=_0x58204b['correctResponse']),currentQuizData[_0x227974(0x7cd)][_0x227974(0x570)](_0x2ca5aa=>{const _0x4fe2e7=_0x227974;if(_0x2ca5aa[_0x4fe2e7(0x7f7)]===_0x4fe2e7(0x193))_0x2ca5aa['allResponses']=_0xe3c57f;});}currentQuizData[_0x227974(0x7cd)][_0x4a4b69]=_0x58204b,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x58204b;const _0x2e4298=document['getElementById'](_0x227974(0x52d))[_0x227974(0x75d)];currentQuizData['quizType']=_0x2e4298,currentQuizData[_0x227974(0x7cd)]&&currentQuizData[_0x227974(0x7cd)][_0x227974(0x570)](_0x5d7d24=>{const _0x2c1579=_0x227974;if(!_0x5d7d24[_0x2c1579(0x7f7)]){if(_0x2e4298==='fill_in_with_choices')_0x5d7d24[_0x2c1579(0x7f7)]=_0x2c1579(0x433);else _0x2e4298===_0x2c1579(0x326)?_0x5d7d24[_0x2c1579(0x7f7)]=_0x2c1579(0x380):_0x5d7d24['questionType']=_0x2e4298;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x227974(0x3ca),JSON['stringify'](_0x387f33));throw new Error(_0x227974(0x7e9));}}catch(_0x5f6d7c){console['error']('Error\x20generating\x20quiz:',_0x5f6d7c),showMessage(_0x227974(0x3bf)),_0x4a4b69===null&&(_0x4250b5['innerHTML']=_0x227974(0x7fc));}finally{_0x4c1406[_0x227974(0x7d0)][_0x227974(0x4c0)](_0x227974(0x580)),document[_0x227974(0x613)]('generate-from-topic-btn')['disabled']=![],document[_0x227974(0x613)](_0x227974(0xc8))[_0x227974(0x4c9)]=![],document['getElementById'](_0x227974(0x45f))[_0x227974(0x4c9)]=![];const _0x46ba54=document[_0x227974(0x613)]('generate-from-file-btn');_0x46ba54&&(_0x46ba54[_0x227974(0x4c9)]=![]);}}function exitFullscreen(){const _0x474927=_0x576079;if(document[_0x474927(0x2c1)])document[_0x474927(0x2c1)]()[_0x474927(0x5a7)](_0x139d33=>console[_0x474927(0x6a9)](_0x139d33));else{if(document['webkitExitFullscreen'])document[_0x474927(0x130)]();else document[_0x474927(0x1d3)]&&document[_0x474927(0x1d3)]();}}function enterFullscreen(){const _0x4076a7=_0x576079,_0x368eab=document[_0x4076a7(0x1b9)];if(_0x368eab['requestFullscreen'])_0x368eab['requestFullscreen']()['catch'](_0x11321b=>{const _0x41d260=_0x4076a7;console[_0x41d260(0x6a9)](_0x41d260(0x701)+_0x11321b[_0x41d260(0x217)]+'\x20('+_0x11321b[_0x41d260(0x386)]+')');});else{if(_0x368eab[_0x4076a7(0x334)])_0x368eab[_0x4076a7(0x334)]();else _0x368eab['msRequestFullscreen']&&_0x368eab[_0x4076a7(0x376)]();}}function handleCheatingEvent(){const _0x5577f4=_0x576079;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x5577f4(0x251),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x5577f4(0x62d)+maxCheatAttempts+_0x5577f4(0x78f)),document[_0x5577f4(0x613)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5577f4(0x6c4)](_0x5577f4(0x150),handleVisibilityChange),document[_0x5577f4(0x6c4)]('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x5577f4(0x53b),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x24f297=_0x576079;if(currentMode===_0x24f297(0x7df)||!isQuizActive)return;if(document['visibilityState']===_0x24f297(0x580))handleCheatingEvent();else document[_0x24f297(0x4f5)]===_0x24f297(0x517)&&(console[_0x24f297(0x737)](_0x24f297(0x5aa)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0xb4887b=_0x576079;if(currentMode===_0xb4887b(0x7df)||!isQuizActive)return;!document[_0xb4887b(0x79c)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0xd955f2){const _0x1800a1=_0x576079,_0xa516bb=document[_0x1800a1(0x613)](_0x1800a1(0x40a));let _0x11299e='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0xd955f2[_0x1800a1(0x751)]+_0x1800a1(0x361);_0xd955f2[_0x1800a1(0x7cd)][_0x1800a1(0x570)]((_0x1afc54,_0x47a97b)=>{const _0x5aecea=_0x1800a1;!_0x1afc54['id']&&(_0x1afc54['id']='q_'+Date['now']()+'_'+_0x47a97b);const _0x32dce8=_0x1afc54[_0x5aecea(0x7f7)]||_0xd955f2[_0x5aecea(0x741)];_0x11299e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x47a97b+_0x5aecea(0x77d)+_0x47a97b+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x47a97b+_0x5aecea(0xfe)+_0x47a97b+_0x5aecea(0x4e2);switch(_0x32dce8){case _0x5aecea(0x193):_0x11299e+=_0x5aecea(0x79a)+_0x47a97b+'\x22>'+(_0x47a97b+0x1)+'.\x20'+_0x1afc54[_0x5aecea(0x13f)]+_0x5aecea(0x630);_0x1afc54['imageCode']&&(_0x11299e+='<div\x20id=\x22q-image-container-'+_0x47a97b+_0x5aecea(0x442)+_0x1afc54[_0x5aecea(0x80a)]+_0x5aecea(0x4bb));_0x11299e+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x47a97b+'\x22>'+_0x1afc54[_0x5aecea(0x6ea)]+_0x5aecea(0x788),_0x11299e+=_0x5aecea(0x847)+_0x47a97b+'\x22>'+_0x1afc54[_0x5aecea(0x362)]+_0x5aecea(0x788);break;case _0x5aecea(0x380):_0x11299e+=_0x5aecea(0x79a)+_0x47a97b+'\x22>'+(_0x47a97b+0x1)+'.\x20'+_0x1afc54[_0x5aecea(0x4a9)]+_0x5aecea(0x630);_0x1afc54[_0x5aecea(0x80a)]&&(_0x11299e+=_0x5aecea(0x221)+_0x47a97b+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1afc54[_0x5aecea(0x80a)]+_0x5aecea(0x4bb));_0x11299e+=_0x5aecea(0x31a)+_0x47a97b+'\x22>'+_0x1afc54[_0x5aecea(0x89)]+_0x5aecea(0x788),_0x11299e+=_0x5aecea(0x847)+_0x47a97b+'\x22>'+_0x1afc54['explanation']+'</span></div>';break;case _0x5aecea(0x598):_0x11299e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x47a97b+'\x22>'+(_0x47a97b+0x1)+'.\x20'+_0x1afc54[_0x5aecea(0x4a9)]+_0x5aecea(0x630);_0x1afc54[_0x5aecea(0x80a)]&&(_0x11299e+='<div\x20id=\x22q-image-container-'+_0x47a97b+_0x5aecea(0x442)+_0x1afc54[_0x5aecea(0x80a)]+_0x5aecea(0x4bb));_0x11299e+=_0x5aecea(0x831)+(_0x1afc54[_0x5aecea(0x619)]===!![]?_0x5aecea(0x3e3):'')+_0x5aecea(0x188)+(_0x1afc54[_0x5aecea(0x619)]===![]?_0x5aecea(0x3e3):'')+_0x5aecea(0x2b2),_0x11299e+=_0x5aecea(0x847)+_0x47a97b+'\x22>'+_0x1afc54['explanation']+_0x5aecea(0x788);break;case'fill_in_the_blank':case _0x5aecea(0x433):default:_0x11299e+=_0x5aecea(0x79a)+_0x47a97b+'\x22>'+(_0x47a97b+0x1)+'.\x20'+_0x1afc54[_0x5aecea(0x4a9)]+_0x5aecea(0x630);_0x1afc54[_0x5aecea(0x80a)]&&(_0x11299e+=_0x5aecea(0x221)+_0x47a97b+_0x5aecea(0x442)+_0x1afc54[_0x5aecea(0x80a)]+'</div>');_0x11299e+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x47a97b+_0x5aecea(0x7e0)+_0x1afc54[_0x5aecea(0x516)][_0x5aecea(0xd0)]((_0x1d27b1,_0x271df8)=>_0x5aecea(0x285)+(_0x271df8===_0x1afc54[_0x5aecea(0x62e)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x1d27b1+_0x5aecea(0x6fc))['join']('')+_0x5aecea(0x82e),_0x11299e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x47a97b+'\x22>'+_0x1afc54[_0x5aecea(0x362)]+_0x5aecea(0x788);break;}_0x11299e+=_0x5aecea(0x4bb);}),_0x11299e+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0xa516bb['innerHTML']=_0x11299e,document[_0x1800a1(0x20e)](_0x1800a1(0x1f1))[_0x1800a1(0x570)](_0x14e841=>_0x14e841[_0x1800a1(0x1e9)](_0x1800a1(0x475),handleEditQuestion)),document[_0x1800a1(0x20e)](_0x1800a1(0x129))[_0x1800a1(0x570)](_0x55d159=>_0x55d159[_0x1800a1(0x1e9)]('click',handleRegenerateQuestion)),document['querySelectorAll'](_0x1800a1(0x51d))[_0x1800a1(0x570)](_0x34176c=>_0x34176c[_0x1800a1(0x1e9)](_0x1800a1(0x475),handleSaveToBank)),document[_0x1800a1(0x613)](_0x1800a1(0x4a2))[_0x1800a1(0x1e9)]('click',exportQuizAsWorksheetPDF),document[_0x1800a1(0x613)](_0x1800a1(0x7c2))[_0x1800a1(0x1e9)](_0x1800a1(0x475),saveQuiz),document['getElementById']('verify-answers-btn')['addEventListener'](_0x1800a1(0x475),handleVerifyAnswers);if(window[_0x1800a1(0x561)])window[_0x1800a1(0x561)][_0x1800a1(0x47e)]([_0xa516bb]);}function handleRegenerateQuestion(_0x1d6d76){const _0x359c96=_0x576079,_0x2c714f=_0x1d6d76[_0x359c96(0x6a2)]['dataset']['index'],_0x3a2d23=currentQuizData[_0x359c96(0x751)];showMessage(_0x359c96(0x111)+(parseInt(_0x2c714f)+0x1)+_0x359c96(0x4c7)),generateQuiz(_0x3a2d23,null,parseInt(_0x2c714f));}function getPointerPosition(_0x561588,_0x4607b6){const _0x4e76e2=_0x576079,_0x546b0a=_0x561588[_0x4e76e2(0x606)]();let _0x411e9f,_0x3c7c10;return _0x4607b6[_0x4e76e2(0x24c)]&&_0x4607b6[_0x4e76e2(0x24c)][_0x4e76e2(0x5dc)]>0x0?(_0x411e9f=_0x4607b6[_0x4e76e2(0x24c)][0x0][_0x4e76e2(0x525)],_0x3c7c10=_0x4607b6[_0x4e76e2(0x24c)][0x0][_0x4e76e2(0x284)]):(_0x411e9f=_0x4607b6[_0x4e76e2(0x525)],_0x3c7c10=_0x4607b6[_0x4e76e2(0x284)]),{'x':(_0x411e9f-_0x546b0a['e'])/_0x546b0a['a'],'y':(_0x3c7c10-_0x546b0a['f'])/_0x546b0a['d']};}function startDrag(_0x4d1a74){const _0x3fe140=_0x576079;_0x4d1a74[_0x3fe140(0x223)]===_0x3fe140(0x281)&&_0x4d1a74[_0x3fe140(0x1e1)]();const _0x7b8aee=_0x4d1a74[_0x3fe140(0x74d)]['closest'](_0x3fe140(0x2f7));if(_0x7b8aee){draggedSvgElement=_0x7b8aee;const _0x2e8066=draggedSvgElement[_0x3fe140(0x574)],_0x18396a=getPointerPosition(_0x2e8066,_0x4d1a74);svgOffset['x']=_0x18396a['x']-parseFloat(draggedSvgElement[_0x3fe140(0x6f5)](null,'x')),svgOffset['y']=_0x18396a['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x284639,_0x36f5cf){const _0x50dadb=_0x576079,_0x4ee3b7={};if(_0x36f5cf[_0x50dadb(0x5dc)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3c9ebf=[..._0x36f5cf]['sort']((_0x472501,_0x1414ae)=>{const _0x23b1b3=_0x50dadb,_0x1e24c4=_0x1414ae['latestScore']-_0x472501[_0x23b1b3(0x6cf)];if(_0x1e24c4!==0x0)return _0x1e24c4;const _0x13f853=_0x472501[_0x23b1b3(0x677)]?.[_0x23b1b3(0x5dc)]||0x1,_0x9ea985=_0x1414ae[_0x23b1b3(0x677)]?.['length']||0x1,_0x1611be=_0x13f853-_0x9ea985;if(_0x1611be!==0x0)return _0x1611be;const _0x1432ca=new Date(_0x472501[_0x23b1b3(0x84a)]),_0x4e8371=new Date(_0x1414ae[_0x23b1b3(0x84a)]),_0x4ad5ab=_0x1432ca-_0x4e8371;if(_0x4ad5ab!==0x0)return _0x4ad5ab;return _0x472501[_0x23b1b3(0x22c)][_0x23b1b3(0x314)](_0x1414ae[_0x23b1b3(0x22c)],'th');}),_0x301c86=_0x3c9ebf[_0x50dadb(0x5dc)],_0x9191ee=Math['max'](0x1,Math['floor'](_0x301c86*0.33));if(_0x9191ee===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2221fa=_0x3c9ebf['slice'](0x0,_0x9191ee),_0x3ab665=_0x3c9ebf['slice'](-_0x9191ee),_0x22fcb3=_0x2221fa[_0x50dadb(0xd0)](_0x367f2f=>_0x367f2f[_0x50dadb(0x22c)]),_0x21af37=_0x3ab665[_0x50dadb(0xd0)](_0x2b6222=>_0x2b6222[_0x50dadb(0x22c)]);return _0x284639[_0x50dadb(0x7cd)][_0x50dadb(0x570)]((_0x511862,_0x30f079)=>{const _0x35b04f=_0x50dadb,_0x3b628d=_0x511862['stem']||_0x511862[_0x35b04f(0x4a9)];let _0x3f9186=0x0,_0x44233c=0x0,_0x48d0ab=0x0;const _0x5c075=[],_0x72cec=[];_0x2221fa['forEach'](_0xfa5e84=>{const _0x295685=_0x35b04f,_0x4fc41f=_0xfa5e84[_0x295685(0x677)][_0xfa5e84['attempts'][_0x295685(0x5dc)]-0x1],_0x610159=_0x4fc41f[_0x295685(0x1dc)][_0x295685(0x703)](_0x26108=>_0x26108[_0x295685(0x811)]===_0x3b628d);_0x5c075[_0x295685(0x6a6)]({'name':_0xfa5e84[_0x295685(0x22c)],'isCorrect':_0x610159?_0x610159['isCorrect']:![]}),_0x610159&&_0x610159[_0x295685(0x31d)]&&_0x44233c++;}),_0x3ab665[_0x35b04f(0x570)](_0x1e2383=>{const _0xfa9d1=_0x35b04f,_0x4a2afe=_0x1e2383[_0xfa9d1(0x677)][_0x1e2383[_0xfa9d1(0x677)][_0xfa9d1(0x5dc)]-0x1],_0x22e8d0=_0x4a2afe[_0xfa9d1(0x1dc)][_0xfa9d1(0x703)](_0x2d898b=>_0x2d898b[_0xfa9d1(0x811)]===_0x3b628d);_0x72cec[_0xfa9d1(0x6a6)]({'name':_0x1e2383['studentName'],'isCorrect':_0x22e8d0?_0x22e8d0[_0xfa9d1(0x31d)]:![]}),_0x22e8d0&&_0x22e8d0['isCorrect']&&_0x48d0ab++;}),_0x36f5cf[_0x35b04f(0x570)](_0x5c62d2=>{const _0x1d2b66=_0x35b04f,_0x1f9990=_0x5c62d2[_0x1d2b66(0x677)][_0x5c62d2[_0x1d2b66(0x677)][_0x1d2b66(0x5dc)]-0x1],_0x1145aa=_0x1f9990[_0x1d2b66(0x1dc)][_0x1d2b66(0x703)](_0x23ed81=>_0x23ed81[_0x1d2b66(0x811)]===_0x3b628d);_0x1145aa&&_0x1145aa[_0x1d2b66(0x31d)]&&_0x3f9186++;});const _0x46f701=_0x301c86>0x0?_0x3f9186/_0x301c86:0x0,_0x29e3e1=_0x9191ee>0x0?_0x44233c/_0x9191ee-_0x48d0ab/_0x9191ee:0x0;_0x4ee3b7[_0x30f079]={'p':_0x46f701,'r':_0x29e3e1,'upperGroupResponders':_0x5c075,'lowerGroupResponders':_0x72cec};}),{'perQuestionStats':_0x4ee3b7,'overallGroups':{'upperGroupNames':_0x22fcb3,'lowerGroupNames':_0x21af37}};}function drag(_0x5f4845){const _0x42f55e=_0x576079;if(draggedSvgElement){_0x5f4845['preventDefault']();const _0x288b26=draggedSvgElement[_0x42f55e(0x574)],_0x5ea1b7=getPointerPosition(_0x288b26,_0x5f4845),_0x534a1b=_0x288b26[_0x42f55e(0x2d3)][_0x42f55e(0x496)];let _0x3408c7=_0x5ea1b7['x']-svgOffset['x'],_0x85452a=_0x5ea1b7['y']-svgOffset['y'];const _0x335ee4=draggedSvgElement[_0x42f55e(0x769)]();_0x3408c7=Math['max'](_0x534a1b['x'],Math[_0x42f55e(0x799)](_0x3408c7,_0x534a1b['x']+_0x534a1b[_0x42f55e(0x81b)]-_0x335ee4['width'])),_0x85452a=Math[_0x42f55e(0x6ae)](_0x534a1b['y'],Math[_0x42f55e(0x799)](_0x85452a,_0x534a1b['y']+_0x534a1b[_0x42f55e(0x319)]-_0x335ee4[_0x42f55e(0x319)])),draggedSvgElement['setAttributeNS'](null,'x',_0x3408c7),draggedSvgElement[_0x42f55e(0x1fc)](null,'y',_0x85452a);}}function endDrag(_0xaf73ca){draggedSvgElement=null;}function handleSvgEditClick(_0x3fc7f7){const _0x79ddcc=_0x576079;if(_0x3fc7f7[_0x79ddcc(0x74d)][_0x79ddcc(0x7d0)]['contains'](_0x79ddcc(0x722))){const _0x273c66=_0x3fc7f7[_0x79ddcc(0x74d)]['dataset'][_0x79ddcc(0x582)],_0x465571=_0x3fc7f7[_0x79ddcc(0x6a2)],_0x1ba610=_0x465571[_0x79ddcc(0x18e)]('#'+_0x273c66);_0x1ba610&&_0x1ba610[_0x79ddcc(0x699)](),_0x3fc7f7[_0x79ddcc(0x74d)][_0x79ddcc(0x699)]();}}function handleEditQuestion(_0x59b955){const _0x4e4146=_0x576079,_0x1178e5=_0x59b955[_0x4e4146(0x6a2)],_0x250b4c=_0x1178e5['dataset']['index'],_0x368eb4=currentQuizData['questions'][_0x250b4c],_0x349137=document[_0x4e4146(0x613)](_0x4e4146(0x20d)+_0x250b4c),_0x5c4769=document[_0x4e4146(0x613)]('q-explanation-'+_0x250b4c),_0x49085d=document[_0x4e4146(0x613)](_0x4e4146(0x5d7)+_0x250b4c);if(_0x1178e5[_0x4e4146(0x305)][_0x4e4146(0x353)](_0x4e4146(0x603))){_0x1178e5['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x1178e5[_0x4e4146(0x18f)]=_0x4e4146(0x38b);if(_0x349137)_0x349137['contentEditable']=!![];if(_0x5c4769)_0x5c4769[_0x4e4146(0x747)]=!![];if(_0x49085d){const _0x355dec=_0x49085d[_0x4e4146(0x18e)](_0x4e4146(0x683));if(_0x355dec){const _0x615fc2=_0x355dec[_0x4e4146(0x20e)](_0x4e4146(0x74a));_0x615fc2[_0x4e4146(0x570)]((_0x5805e0,_0x29738a)=>{const _0x3064c0=_0x4e4146,_0x430936=_0x3064c0(0x10e)+_0x250b4c+'-'+_0x29738a;_0x5805e0['id']=_0x430936,_0x5805e0[_0x3064c0(0x7d0)][_0x3064c0(0x4c0)](_0x3064c0(0x5ed)),_0x5805e0['style'][_0x3064c0(0x173)]=_0x3064c0(0x4c3);const _0x4b35de=document[_0x3064c0(0x5a1)](_0x3064c0(0x35f),_0x3064c0(0x1b4)),_0x3377e0=_0x5805e0[_0x3064c0(0x769)]();_0x4b35de[_0x3064c0(0x721)]('cx',String(_0x3377e0['x']+_0x3377e0[_0x3064c0(0x81b)]+0x5)),_0x4b35de['setAttribute']('cy',String(_0x3377e0['y']+_0x3377e0[_0x3064c0(0x319)]/0x2-0x5)),_0x4b35de['setAttribute']('r','5'),_0x4b35de[_0x3064c0(0x721)](_0x3064c0(0x200),_0x3064c0(0x4ae)),_0x4b35de[_0x3064c0(0x721)](_0x3064c0(0x2cc),_0x3064c0(0x722)),_0x4b35de[_0x3064c0(0x663)][_0x3064c0(0x582)]=_0x430936,_0x5805e0[_0x3064c0(0x75e)](_0x4b35de);}),_0x355dec['addEventListener'](_0x4e4146(0xf7),startDrag),_0x355dec[_0x4e4146(0x1e9)]('mousemove',drag),_0x355dec[_0x4e4146(0x1e9)](_0x4e4146(0x5c5),endDrag),_0x355dec[_0x4e4146(0x1e9)]('mouseleave',endDrag),_0x355dec[_0x4e4146(0x1e9)](_0x4e4146(0x281),startDrag,{'passive':![]}),_0x355dec[_0x4e4146(0x1e9)](_0x4e4146(0x11b),drag,{'passive':![]}),_0x355dec[_0x4e4146(0x1e9)](_0x4e4146(0x33c),endDrag),_0x355dec[_0x4e4146(0x1e9)](_0x4e4146(0x695),endDrag),_0x355dec[_0x4e4146(0x1e9)](_0x4e4146(0x475),handleSvgEditClick);}}if(_0x349137)_0x349137['focus']();}else{_0x1178e5[_0x4e4146(0x305)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x1178e5['title']=_0x4e4146(0x7db);if(_0x349137){_0x349137[_0x4e4146(0x747)]=![];const _0x5a3135=_0x368eb4[_0x4e4146(0x7f7)]||currentQuizData['quizType'];_0x5a3135===_0x4e4146(0x193)?_0x368eb4[_0x4e4146(0x13f)]=_0x349137[_0x4e4146(0x493)][_0x4e4146(0x373)](_0x349137['innerText'][_0x4e4146(0x2df)]('.')+0x2)[_0x4e4146(0x44a)]():_0x368eb4[_0x4e4146(0x4a9)]=_0x349137[_0x4e4146(0x493)][_0x4e4146(0x373)](_0x349137['innerText']['indexOf']('.')+0x2)[_0x4e4146(0x44a)]();}_0x5c4769&&(_0x5c4769['contentEditable']=![],_0x368eb4[_0x4e4146(0x362)]=_0x5c4769[_0x4e4146(0x493)]);if(_0x49085d){const _0x347e0e=_0x49085d[_0x4e4146(0x18e)](_0x4e4146(0x683));if(_0x347e0e){const _0x3c4a92=_0x347e0e[_0x4e4146(0x544)](!![]);_0x3c4a92['querySelectorAll'](_0x4e4146(0x3c2))[_0x4e4146(0x570)](_0x2f63de=>_0x2f63de[_0x4e4146(0x699)]()),_0x3c4a92[_0x4e4146(0x20e)](_0x4e4146(0x2f7))[_0x4e4146(0x570)](_0xc61923=>{const _0x4701fc=_0x4e4146;_0xc61923[_0x4701fc(0x7d0)]['remove'](_0x4701fc(0x5ed)),_0xc61923[_0x4701fc(0x93)][_0x4701fc(0x173)]=_0x4701fc(0x2d6),_0xc61923['removeAttribute']('id');}),_0x368eb4[_0x4e4146(0x80a)]=_0x3c4a92[_0x4e4146(0x18d)],_0x347e0e[_0x4e4146(0x6c4)](_0x4e4146(0xf7),startDrag),_0x347e0e['removeEventListener'](_0x4e4146(0x1a6),drag),_0x347e0e[_0x4e4146(0x6c4)](_0x4e4146(0x5c5),endDrag),_0x347e0e[_0x4e4146(0x6c4)](_0x4e4146(0x453),endDrag),_0x347e0e['removeEventListener'](_0x4e4146(0x281),startDrag),_0x347e0e[_0x4e4146(0x6c4)]('touchmove',drag),_0x347e0e[_0x4e4146(0x6c4)](_0x4e4146(0x33c),endDrag),_0x347e0e['removeEventListener'](_0x4e4146(0x695),endDrag),_0x347e0e[_0x4e4146(0x6c4)](_0x4e4146(0x475),handleSvgEditClick),_0x347e0e[_0x4e4146(0x20e)](_0x4e4146(0x3c2))['forEach'](_0x51272f=>_0x51272f[_0x4e4146(0x699)]()),_0x347e0e[_0x4e4146(0x20e)]('.draggable-text')[_0x4e4146(0x570)](_0x4bd8d0=>{const _0x45cb60=_0x4e4146;_0x4bd8d0[_0x45cb60(0x7d0)][_0x45cb60(0x699)](_0x45cb60(0x5ed)),_0x4bd8d0[_0x45cb60(0x93)][_0x45cb60(0x173)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2b4a0f){const _0x4e5b3=_0x576079,_0x3de270=document[_0x4e5b3(0x613)](_0x4e5b3(0x1e3)),_0xdef09=document[_0x4e5b3(0x613)](_0x4e5b3(0x7b0));_0xdef09[_0x4e5b3(0x305)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x3de270[_0x4e5b3(0x7d0)][_0x4e5b3(0x699)](_0x4e5b3(0x580));try{const _0x50858b=doc(db,_0x4e5b3(0x672)+appId+_0x4e5b3(0x617),_0x2b4a0f),_0x5b22d0=await getDoc(_0x50858b);if(!_0x5b22d0['exists']())throw new Error(_0x4e5b3(0x207));currentEditingQuizData={'id':_0x2b4a0f,..._0x5b22d0[_0x4e5b3(0xe3)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x513070){console[_0x4e5b3(0x6a9)](_0x4e5b3(0x395),_0x513070),showMessage(_0x4e5b3(0x97)),_0x3de270[_0x4e5b3(0x7d0)][_0x4e5b3(0x4c0)](_0x4e5b3(0x580));}}function renderQuizEditor(_0x3a659f){const _0x317edd=_0x576079;document[_0x317edd(0x613)](_0x317edd(0x267))[_0x317edd(0x75d)]=_0x3a659f[_0x317edd(0x751)];const _0x205fb6=document[_0x317edd(0x613)](_0x317edd(0x7b0));let _0x3e3fff=_0x3a659f[_0x317edd(0x7cd)]['map']((_0x215c10,_0x1cc541)=>{const _0x4d26c1=_0x317edd;let _0x5b6b0d='';const _0x156213=_0x215c10['questionType']||_0x3a659f[_0x4d26c1(0x741)];switch(_0x156213){case _0x4d26c1(0x433):const _0x24a110=(_0x215c10[_0x4d26c1(0x516)]||[])[_0x4d26c1(0xd0)]((_0x4c4daf,_0x3d1281)=>_0x4d26c1(0x790)+_0x1cc541+_0x4d26c1(0x339)+_0x3d1281+'\x22\x20'+(_0x3d1281===_0x215c10[_0x4d26c1(0x62e)]?_0x4d26c1(0x61a):'')+_0x4d26c1(0x56b)+_0x4c4daf+_0x4d26c1(0x54f))[_0x4d26c1(0x815)]('');_0x5b6b0d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x24a110+_0x4d26c1(0x67c);break;case _0x4d26c1(0x380):_0x5b6b0d=_0x4d26c1(0x42f)+(_0x215c10[_0x4d26c1(0x89)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4d26c1(0x598):_0x5b6b0d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x1cc541+_0x4d26c1(0x704)+(_0x215c10[_0x4d26c1(0x619)]===!![]?'checked':'')+_0x4d26c1(0xd3)+_0x1cc541+_0x4d26c1(0x230)+(_0x215c10['correctAnswer']===![]?'checked':'')+_0x4d26c1(0x27e);break;case _0x4d26c1(0x193):_0x5b6b0d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x215c10['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x4bbdd7=_0x215c10[_0x4d26c1(0x4a9)]||_0x215c10[_0x4d26c1(0x13f)]||'';return _0x4d26c1(0x348)+_0x1cc541+'\x22\x20data-q-type=\x22'+_0x156213+_0x4d26c1(0x382)+(_0x1cc541+0x1)+'\x20('+_0x156213+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x4bbdd7+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x5b6b0d+_0x4d26c1(0x3fb);})[_0x317edd(0x815)]('');_0x205fb6['innerHTML']=_0x3e3fff;}async function handleSaveChanges(){const _0xdbdd56=_0x576079,_0x34525a=document[_0xdbdd56(0x613)](_0xdbdd56(0x7ce));_0x34525a['disabled']=!![],_0x34525a[_0xdbdd56(0x305)]=_0xdbdd56(0x25c);try{const _0xc6585b=document[_0xdbdd56(0x613)](_0xdbdd56(0x267))['value'],_0x3f9311=document[_0xdbdd56(0x20e)](_0xdbdd56(0x4f3));let _0x592855=[];const _0x5b39b9=Array[_0xdbdd56(0x4c4)](_0x3f9311)['map']((_0x26377,_0x295b08)=>{const _0x3e227e=_0xdbdd56,_0x33046c=_0x26377[_0x3e227e(0x663)]['qType'],_0x296b2e=_0x26377[_0x3e227e(0x18e)](_0x3e227e(0x659))[_0x3e227e(0x75d)];let _0x4c5943={'questionType':_0x33046c};const _0x348c24=currentEditingQuizData['questions'][_0x295b08];switch(_0x33046c){case _0x3e227e(0x433):_0x4c5943[_0x3e227e(0x4a9)]=_0x296b2e;const _0x55ca59=_0x26377[_0x3e227e(0x20e)]('input[type=\x22text\x22]');_0x4c5943[_0x3e227e(0x516)]=Array['from'](_0x55ca59)[_0x3e227e(0xd0)](_0x35e702=>_0x35e702[_0x3e227e(0x75d)]);const _0x1b18b7=_0x26377[_0x3e227e(0x18e)](_0x3e227e(0x40b));_0x4c5943[_0x3e227e(0x62e)]=_0x1b18b7?parseInt(_0x1b18b7['value']):0x0;break;case _0x3e227e(0x380):_0x4c5943['questionText']=_0x296b2e,_0x4c5943[_0x3e227e(0x89)]=_0x26377[_0x3e227e(0x18e)](_0x3e227e(0x684))[_0x3e227e(0x75d)];break;case _0x3e227e(0x598):_0x4c5943[_0x3e227e(0x4a9)]=_0x296b2e;const _0x1887ee=_0x26377[_0x3e227e(0x18e)]('input[type=\x22radio\x22]:checked');_0x4c5943['correctAnswer']=_0x1887ee?_0x1887ee[_0x3e227e(0x75d)]==='true':!![];break;case'matching_item':_0x4c5943[_0x3e227e(0x13f)]=_0x296b2e;const _0x57bdb0=_0x26377[_0x3e227e(0x18e)](_0x3e227e(0x4cb));_0x4c5943['correctResponse']=_0x57bdb0?_0x57bdb0[_0x3e227e(0x75d)]:'',_0x592855['push'](_0x4c5943[_0x3e227e(0x6ea)]);break;default:_0x4c5943[_0x3e227e(0x4a9)]=_0x296b2e;break;}return{..._0x348c24,..._0x4c5943};});_0x592855['length']>0x0&&_0x5b39b9[_0xdbdd56(0x570)](_0x16367e=>{const _0xd61f64=_0xdbdd56;_0x16367e[_0xd61f64(0x7f7)]===_0xd61f64(0x193)&&(_0x16367e[_0xd61f64(0x27d)]=_0x592855);});const _0x10a53c=currentEditingQuizData['id'],_0x1daa99=doc(db,_0xdbdd56(0x672)+appId+'/public/data/quizzes',_0x10a53c);await updateDoc(_0x1daa99,{'topic':_0xc6585b,'questions':_0x5b39b9}),document['getElementById']('quiz-editor-modal')[_0xdbdd56(0x7d0)][_0xdbdd56(0x4c0)](_0xdbdd56(0x580)),showMessage(_0xdbdd56(0x29a),()=>initiateReGradeProcess(_0x10a53c));}catch(_0x54f0b1){console[_0xdbdd56(0x6a9)](_0xdbdd56(0x36f),_0x54f0b1),showMessage(_0xdbdd56(0x29c));}finally{_0x34525a['disabled']=![],_0x34525a[_0xdbdd56(0x305)]=_0xdbdd56(0xac);}}async function initiateReGradeProcess(_0xc82cbd){const _0x1bec5a=_0x576079;showMessage(_0x1bec5a(0x6d0));try{const _0x588006=doc(db,_0x1bec5a(0x672)+appId+_0x1bec5a(0x617),_0xc82cbd),_0x26b6a3=await getDoc(_0x588006);if(!_0x26b6a3[_0x1bec5a(0x438)]())throw new Error(_0x1bec5a(0x5b9));const _0x3e480e={'id':_0xc82cbd,..._0x26b6a3[_0x1bec5a(0xe3)]()},_0x17cf30=collection(db,_0x1bec5a(0x672)+appId+_0x1bec5a(0x617),_0xc82cbd,_0x1bec5a(0x210)),_0x36e0ea=await getDocs(_0x17cf30);if(_0x36e0ea[_0x1bec5a(0x5e8)]){showMessage(_0x1bec5a(0x531));return;}const _0x32335=_0x36e0ea[_0x1bec5a(0x301)][_0x1bec5a(0xd0)](_0x2272ef=>reGradeSingleSubmission(_0x2272ef,_0x3e480e));await Promise[_0x1bec5a(0x60b)](_0x32335);if(_0x3e480e[_0x1bec5a(0x605)]){const _0x5331c7=doc(db,'artifacts/'+appId+_0x1bec5a(0x116),_0x3e480e[_0x1bec5a(0x605)]),_0x154e56=await getDoc(_0x5331c7);if(_0x154e56[_0x1bec5a(0x438)]()&&_0x154e56[_0x1bec5a(0xe3)]()[_0x1bec5a(0x80d)]){const _0x451a5a=_0x154e56[_0x1bec5a(0xe3)]()[_0x1bec5a(0x80d)][_0x1bec5a(0xd0)](_0x5aae14=>updateStudentProfile(_0x3e480e['projectId'],_0x5aae14));await Promise['all'](_0x451a5a);}}showMessage(_0x1bec5a(0x698)+_0x36e0ea[_0x1bec5a(0x2fe)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x1f68b1){console['error'](_0x1bec5a(0x327),_0x1f68b1),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x1f68b1[_0x1bec5a(0x217)]);}}async function reGradeSingleSubmission(_0x3f1234,_0x592456){const _0x4423fe=_0x576079,_0x12171b=_0x3f1234[_0x4423fe(0xe3)](),_0x1edd65=_0x12171b[_0x4423fe(0x22c)],_0x1a73de=_0x12171b[_0x4423fe(0x677)]||[],_0x53b8ba=[];for(const _0x19307d of _0x1a73de){let _0x1feec7=0x0,_0x3e5ec4=[],_0x334a7e=0x0;const _0x2dd991=[];for(const _0x4850f0 of _0x19307d['answers']){let _0x286be5;_0x4850f0[_0x4423fe(0x6fe)]&&(_0x286be5=_0x592456['questions'][_0x4423fe(0x703)](_0x2ba3dd=>_0x2ba3dd['id']===_0x4850f0[_0x4423fe(0x6fe)]));!_0x286be5&&_0x4850f0[_0x4423fe(0x811)]&&(_0x286be5=_0x592456[_0x4423fe(0x7cd)]['find'](_0xff4202=>(_0xff4202[_0x4423fe(0x13f)]||_0xff4202[_0x4423fe(0x4a9)])===_0x4850f0[_0x4423fe(0x811)]));let _0x504b66=![];if(_0x286be5){const _0x68f162=_0x286be5['questionType']||_0x592456['quizType'];switch(_0x68f162){case _0x4423fe(0x433):if(_0x286be5['options']&&_0x286be5['correctAnswerIndex']<_0x286be5['options'][_0x4423fe(0x5dc)]){const _0x584e05=_0x286be5[_0x4423fe(0x516)][_0x286be5[_0x4423fe(0x62e)]];_0x504b66=_0x4850f0['answerText']===_0x584e05;}break;case _0x4423fe(0x598):const _0x500205=_0x4850f0['answer']===!![]||_0x4850f0[_0x4423fe(0x7f5)]===_0x4423fe(0x7d4);_0x504b66=_0x500205===_0x286be5[_0x4423fe(0x619)];break;case _0x4423fe(0x193):_0x504b66=_0x4850f0[_0x4423fe(0x7f5)]===_0x286be5[_0x4423fe(0x6ea)];break;case _0x4423fe(0x380):_0x504b66=await gradeShortAnswer(_0x4850f0['answer'],_0x286be5);break;default:_0x504b66=_0x4850f0[_0x4423fe(0x31d)];break;}}if(_0x504b66){_0x1feec7++,_0x334a7e++;if(_0x334a7e===0x3)_0x3e5ec4[_0x4423fe(0x6a6)](BADGES[_0x4423fe(0x3f2)]['id']);}else _0x334a7e=0x0;_0x2dd991[_0x4423fe(0x6a6)]({..._0x4850f0,'isCorrect':_0x504b66});}let _0x3cbfdb=_0x1feec7*0xa;_0x1feec7===_0x592456['questions']['length']&&(_0x3cbfdb+=0x32,_0x3e5ec4['push'](BADGES[_0x4423fe(0x88)]['id'])),_0x53b8ba[_0x4423fe(0x6a6)]({..._0x19307d,'score':_0x1feec7,'points':_0x3cbfdb,'badges':Array[_0x4423fe(0x4c4)](new Set(_0x3e5ec4)),'answers':_0x2dd991});}const _0xd6ab31=_0x53b8ba['length']>0x0?_0x53b8ba[0x0][_0x4423fe(0x190)]:0x0,_0x4465ed=Math[_0x4423fe(0x6ae)](..._0x53b8ba[_0x4423fe(0xd0)](_0x5c6108=>_0x5c6108[_0x4423fe(0x190)])),_0x25aad5=_0x53b8ba[_0x4423fe(0x5dc)]>0x0?_0x53b8ba[_0x53b8ba[_0x4423fe(0x5dc)]-0x1][_0x4423fe(0x190)]:0x0,_0x606c6e=_0x53b8ba['length']>0x0?_0x53b8ba[_0x53b8ba[_0x4423fe(0x5dc)]-0x1][_0x4423fe(0x2bf)]:0x0,_0x2a18e3=doc(db,_0x4423fe(0x672)+appId+_0x4423fe(0x6d4)+_0x592456['id']+_0x4423fe(0x3dd),_0x1edd65);await updateDoc(_0x2a18e3,{'attempts':_0x53b8ba,'firstScore':_0xd6ab31,'bestScore':_0x4465ed,'latestScore':_0x25aad5,'points':_0x606c6e});}function cleanupQuizOptions(_0x4be4e0){const _0x3af517=_0x576079,_0xe9bf0a=(_0x3c849b,_0x5477d1)=>_0x5477d1===0x0?_0x3c849b:_0xe9bf0a(_0x5477d1,_0x3c849b%_0x5477d1),_0x33950a=_0x49f48b=>{const _0x204bfb=_0x1b40;if(typeof _0x49f48b!==_0x204bfb(0x1a5))return null;_0x49f48b=_0x49f48b['trim']();const _0x3852fa=_0x49f48b['split'](/[ /]/)[_0x204bfb(0x149)](_0x2e62b8=>_0x2e62b8!=='');if(_0x3852fa[_0x204bfb(0x5dc)]===0x3)return parseInt(_0x3852fa[0x0])+parseInt(_0x3852fa[0x1])/parseInt(_0x3852fa[0x2]);else{if(_0x3852fa[_0x204bfb(0x5dc)]===0x2)return parseInt(_0x3852fa[0x0])/parseInt(_0x3852fa[0x1]);else{if(_0x3852fa[_0x204bfb(0x5dc)]===0x1&&!isNaN(_0x3852fa[0x0]))return parseFloat(_0x3852fa[0x0]);}}return null;},_0x555635=_0x381264=>{const _0x59b3fb=_0x1b40;if(typeof _0x381264!=='string')return _0x381264;const _0x5629d2=_0x381264[_0x59b3fb(0x28f)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5629d2){const _0x4de0e9=parseInt(_0x5629d2[0x1]);let _0x63342f=parseInt(_0x5629d2[0x2]),_0x2ee4a7=parseInt(_0x5629d2[0x3]);const _0x3be7dc=_0xe9bf0a(_0x63342f,_0x2ee4a7);_0x63342f/=_0x3be7dc,_0x2ee4a7/=_0x3be7dc;if(_0x2ee4a7===0x1)return(_0x4de0e9+_0x63342f)['toString']();return _0x4de0e9+'\x20'+_0x63342f+'/'+_0x2ee4a7;}return _0x381264;};return _0x4be4e0&&_0x4be4e0[_0x3af517(0x7cd)]&&_0x4be4e0['questions']['forEach'](_0x198ab4=>{const _0x4efe76=_0x3af517;if(_0x198ab4[_0x4efe76(0x7f7)]==='multiple_choice'&&_0x198ab4[_0x4efe76(0x516)]){const _0xd2bbc8=new Map(),_0x525020=_0x198ab4[_0x4efe76(0x516)][_0x198ab4[_0x4efe76(0x62e)]];_0x198ab4[_0x4efe76(0x516)][_0x4efe76(0x570)](_0x172c98=>{const _0x8c5d44=_0x4efe76,_0x321b98=_0x555635(_0x172c98),_0x395fcc=_0x33950a(_0x321b98);_0x395fcc!==null&&!_0xd2bbc8[_0x8c5d44(0xc0)](_0x395fcc)&&_0xd2bbc8['set'](_0x395fcc,_0x321b98);}),_0x198ab4[_0x4efe76(0x516)]=Array[_0x4efe76(0x4c4)](_0xd2bbc8[_0x4efe76(0x49d)]());const _0x4c46af=_0x198ab4[_0x4efe76(0x516)][_0x4efe76(0x201)](_0x7b826d=>_0x7b826d===_0x555635(_0x525020));_0x198ab4[_0x4efe76(0x62e)]=_0x4c46af!==-0x1?_0x4c46af:0x0;}}),_0x4be4e0;}async function saveQuiz(){const _0x878627=_0x576079;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0xf8091b=document['getElementById']('save-quiz-btn');_0xf8091b[_0x878627(0x4c9)]=!![],_0xf8091b[_0x878627(0x305)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x8d674b=document[_0x878627(0x613)](_0x878627(0x649))[_0x878627(0x61a)];let _0xc8dddc=document[_0x878627(0x613)](_0x878627(0x7e3))[_0x878627(0x493)][_0x878627(0x44a)]();_0x8d674b&&!_0xc8dddc[_0x878627(0x24e)](_0x878627(0x56a))&&(_0xc8dddc='(ก่อนเรียน)\x20'+_0xc8dddc);try{const _0x34c59f={'resultsDisplay':document[_0x878627(0x613)]('results-display-select')[_0x878627(0x75d)],'shuffle':document['getElementById'](_0x878627(0x310))[_0x878627(0x75d)],'timerMode':document[_0x878627(0x613)](_0x878627(0x279))[_0x878627(0x75d)],'timerDuration':parseInt(document[_0x878627(0x613)](_0x878627(0x270))[_0x878627(0x75d)])||0xa,'passingScore':parseInt(document[_0x878627(0x613)]('passing-score-input')[_0x878627(0x75d)])||0x0,'isAdaptive':document[_0x878627(0x613)](_0x878627(0x3ed))[_0x878627(0x61a)],'loopUntilPass':document['getElementById']('loop-until-pass-checkbox')[_0x878627(0x61a)]},_0x22f7b9=(currentQuizData[_0x878627(0x7cd)]||[])[_0x878627(0xd0)]((_0x111488,_0x539de5)=>{const _0x43fb50=_0x878627,_0x46b6c3=document['getElementById'](_0x43fb50(0x52d))[_0x43fb50(0x75d)],_0xd65850={'id':'q_'+Date[_0x43fb50(0x591)]()+'_'+_0x539de5,'questionText':_0x111488['questionText']||'','explanation':_0x111488[_0x43fb50(0x362)]||'ไม่มีคำอธิบาย','questionType':_0x111488['questionType']||_0x46b6c3,'imageCode':_0x111488['imageCode']||null};return(_0xd65850[_0x43fb50(0x7f7)]===_0x43fb50(0x433)||_0xd65850[_0x43fb50(0x7f7)]===_0x43fb50(0x11f)||_0xd65850[_0x43fb50(0x7f7)]===_0x43fb50(0x2f5)&&_0x111488[_0x43fb50(0x516)])&&(_0xd65850[_0x43fb50(0x516)]=_0x111488[_0x43fb50(0x516)]||[],_0xd65850[_0x43fb50(0x62e)]=_0x111488[_0x43fb50(0x62e)]!==undefined?_0x111488[_0x43fb50(0x62e)]:0x0),(_0xd65850['questionType']===_0x43fb50(0x380)||_0xd65850['questionType']===_0x43fb50(0x326)||_0xd65850[_0x43fb50(0x7f7)]==='mixed'&&_0x111488[_0x43fb50(0x89)])&&(_0xd65850['idealAnswer']=_0x111488['idealAnswer']||''),_0xd65850[_0x43fb50(0x7f7)]===_0x43fb50(0x598)&&(_0xd65850[_0x43fb50(0x619)]=_0x111488['correctAnswer']===!![]),_0xd65850[_0x43fb50(0x7f7)]===_0x43fb50(0x193)&&(_0xd65850[_0x43fb50(0x13f)]=_0x111488['stem']||'',_0xd65850[_0x43fb50(0x6ea)]=_0x111488['correctResponse']||'',_0xd65850[_0x43fb50(0x27d)]=_0x111488[_0x43fb50(0x27d)]||[]),_0xd65850;}),_0x7d2ecc={'topic':_0xc8dddc,'quizType':currentQuizData[_0x878627(0x741)]||'multiple_choice','questions':_0x22f7b9,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x878627(0x405)](),'status':'active','settings':_0x34c59f,'quizMode':_0x8d674b?_0x878627(0x61e):_0x878627(0x4d8),'pairedQuizId':null,'lessonPlan':null};let _0x28e703;while(!![]){_0x28e703=Math[_0x878627(0x452)](0x3e8+Math[_0x878627(0x633)]()*0x2328)[_0x878627(0x770)]();const _0x327f94=await getDoc(doc(db,_0x878627(0x672)+appId+_0x878627(0x617),_0x28e703));if(!_0x327f94[_0x878627(0x438)]())break;}await setDoc(doc(db,_0x878627(0x672)+appId+_0x878627(0x617),_0x28e703),_0x7d2ecc),currentQuizData[_0x878627(0x45b)]=_0x34c59f,currentQuizData['id']=_0x28e703;const _0x1ab4b3=document[_0x878627(0x613)](_0x878627(0x2d7));_0x1ab4b3[_0x878627(0x305)]=_0x878627(0x76c)+_0x28e703+_0x878627(0x6b6),document[_0x878627(0x613)]('copy-quiz-id-btn')[_0x878627(0x1e9)]('click',()=>copyTextToClipboard(_0x28e703,_0x878627(0x817))),document[_0x878627(0x613)](_0x878627(0x2d2))['addEventListener']('click',()=>handleStartLiveRace(_0x28e703)),document['getElementById']('start-presentation-btn')[_0x878627(0x1e9)]('click',()=>startPresentation(currentQuizData)),document['getElementById']('admin-try-quiz-btn')[_0x878627(0x1e9)](_0x878627(0x475),startAdminTest),showMessage(_0x878627(0x3d3));}catch(_0x56bbf9){console['error']('Error\x20saving\x20quiz:',_0x56bbf9),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0xf8091b[_0x878627(0x4c9)]=![],_0xf8091b['innerHTML']=_0x878627(0xc5);}}function promptForProjectAndSave(){const _0x7ddbf3=_0x576079,_0x2b0b68=document[_0x7ddbf3(0x613)](_0x7ddbf3(0x762)),_0x1e5735=document[_0x7ddbf3(0x613)](_0x7ddbf3(0x147)),_0x72beac=_0x2b0b68['querySelector']('h3'),_0x429399=document[_0x7ddbf3(0x613)](_0x7ddbf3(0x65a));_0x72beac[_0x7ddbf3(0xe2)]=_0x7ddbf3(0x7b9),_0x429399[_0x7ddbf3(0xe2)]=_0x7ddbf3(0x5fa);allProjects['length']===0x0?(_0x1e5735[_0x7ddbf3(0x305)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x429399[_0x7ddbf3(0x4c9)]=!![]):(_0x1e5735[_0x7ddbf3(0x305)]=allProjects['map'](_0x488c2c=>_0x7ddbf3(0x758)+_0x488c2c['id']+'\x22>'+_0x488c2c['projectName']+_0x7ddbf3(0x5d4))[_0x7ddbf3(0x815)](''),_0x429399[_0x7ddbf3(0x4c9)]=![]);_0x2b0b68[_0x7ddbf3(0x7d0)][_0x7ddbf3(0x699)](_0x7ddbf3(0x580));const _0x22c274=()=>{const _0x50a1c0=_0x7ddbf3,_0x3c4f1b=_0x1e5735[_0x50a1c0(0x75d)];_0x3c4f1b?(currentProjectId=_0x3c4f1b,_0x2b0b68['classList'][_0x50a1c0(0x4c0)](_0x50a1c0(0x580)),saveQuiz(),_0x72beac[_0x50a1c0(0xe2)]=_0x50a1c0(0x69d),_0x429399[_0x50a1c0(0xe2)]='ย้าย',_0x429399[_0x50a1c0(0x6c4)](_0x50a1c0(0x475),_0x22c274),_0x429399[_0x50a1c0(0x1e9)](_0x50a1c0(0x475),confirmMoveQuiz)):showMessage(_0x50a1c0(0x3fc));};_0x429399['removeEventListener'](_0x7ddbf3(0x475),confirmMoveQuiz),_0x429399[_0x7ddbf3(0x1e9)](_0x7ddbf3(0x475),_0x22c274);}function copyTextToClipboard(_0xd47ec5,_0x138feb){const _0xb6855f=_0x576079,_0x4bc76d=document[_0xb6855f(0x83a)]('textarea');_0x4bc76d['value']=_0xd47ec5,_0x4bc76d[_0xb6855f(0x93)][_0xb6855f(0x6c8)]='fixed',_0x4bc76d[_0xb6855f(0x93)][_0xb6855f(0x7b5)]='0',document[_0xb6855f(0x183)][_0xb6855f(0x20f)](_0x4bc76d),_0x4bc76d[_0xb6855f(0x1c9)](),_0x4bc76d[_0xb6855f(0x1a9)]();try{const _0x4dd554=document[_0xb6855f(0x68f)](_0xb6855f(0x522));showMessage(_0x4dd554?_0x138feb:_0xb6855f(0x1e5));}catch(_0x4f438d){showMessage(_0xb6855f(0x1e5)),console[_0xb6855f(0x6a9)](_0xb6855f(0x26b),_0x4f438d);}document[_0xb6855f(0x183)][_0xb6855f(0x383)](_0x4bc76d);}function listenForProjectQuizzes(_0x441259){const _0x48a6c1=_0x576079,_0x10f014=collection(db,_0x48a6c1(0x672)+appId+_0x48a6c1(0x617)),_0x43e396=query(_0x10f014,where('projectId','==',_0x441259));unsubscribeQuizzesListener=onSnapshot(_0x43e396,async _0x3589ec=>{const _0x3cf087=_0x48a6c1;allQuizzes=_0x3589ec[_0x3cf087(0x301)][_0x3cf087(0xd0)](_0x5c0058=>({'id':_0x5c0058['id'],..._0x5c0058[_0x3cf087(0xe3)]()})),renderQuizzes();},_0x17e616=>{const _0x26c443=_0x48a6c1;console[_0x26c443(0x6a9)](_0x26c443(0xab),_0x17e616),document[_0x26c443(0x613)](_0x26c443(0x707))['innerHTML']=_0x26c443(0x4b9);});}async function renderQuizzes(){const _0xe6a3c6=_0x576079,_0x22b0c4=document[_0xe6a3c6(0x613)](_0xe6a3c6(0x707)),_0x2b3da4=document[_0xe6a3c6(0x613)]('quiz-search-input')['value'][_0xe6a3c6(0x1f8)]();let _0x512e16;currentProjectId==='starred'?_0x512e16=starredQuizzes:_0x512e16=allQuizzes;let _0x4aa13=_0x512e16[_0xe6a3c6(0x149)](_0x281f02=>_0x281f02[_0xe6a3c6(0x751)][_0xe6a3c6(0x1f8)]()[_0xe6a3c6(0x353)](_0x2b3da4));_0x4aa13['sort']((_0x5555b7,_0x5cfd4e)=>new Date(_0x5cfd4e[_0xe6a3c6(0x360)])-new Date(_0x5555b7[_0xe6a3c6(0x360)]));if(_0x4aa13['length']===0x0){_0x22b0c4[_0xe6a3c6(0x305)]=_0xe6a3c6(0x52c);return;}const _0x43b132={},_0xc33264=_0x4aa13[_0xe6a3c6(0xd0)](async _0x1a6ec4=>{const _0x38cc21=_0xe6a3c6,_0x5f577e=collection(db,'artifacts/'+appId+_0x38cc21(0x6d4)+_0x1a6ec4['id']+_0x38cc21(0x3dd)),_0x1f4a5f=await getDocs(_0x5f577e);_0x43b132[_0x1a6ec4['id']]=_0x1f4a5f['size'];});await Promise[_0xe6a3c6(0x60b)](_0xc33264);let _0x54a2d5='';_0x4aa13[_0xe6a3c6(0x570)](_0x2399ea=>{const _0xe1c7ce=_0xe6a3c6,_0x374de6=_0x43b132[_0x2399ea['id']]||0x0,_0x2a47f7=_0x2399ea[_0xe1c7ce(0x71f)]||'active',_0x492671=_0x2399ea[_0xe1c7ce(0x45b)]?.['timerMode']||_0xe1c7ce(0x14d);let _0xc89b67='',_0x472b74='';const _0x4e3787=new Date();let _0x2e8bf4=_0x2a47f7;if(_0x2a47f7===_0xe1c7ce(0xf3)){const _0x31e6d7=_0x2399ea['startTime']?new Date(_0x2399ea[_0xe1c7ce(0x732)]):null,_0x4cc6d7=_0x2399ea[_0xe1c7ce(0x674)]?new Date(_0x2399ea[_0xe1c7ce(0x674)]):null;if(_0x4cc6d7&&_0x4e3787>_0x4cc6d7)_0x2e8bf4=_0xe1c7ce(0x1db);else _0x31e6d7&&_0x4e3787<_0x31e6d7?_0x2e8bf4=_0xe1c7ce(0x36b):_0x2e8bf4='active';}switch(_0x2e8bf4){case'inactive':_0xc89b67=_0xe1c7ce(0x7de),_0x472b74=_0xe1c7ce(0x80b);break;case _0xe1c7ce(0x36b):_0xc89b67=_0xe1c7ce(0x5a4),_0x472b74=_0xe1c7ce(0xa7);break;case _0xe1c7ce(0x67b):_0xc89b67=_0x492671!==_0xe1c7ce(0x14d)?_0xe1c7ce(0x6c9):'เปิดใช้งาน',_0x472b74=_0xe1c7ce(0x21c);break;default:_0xc89b67=_0xe1c7ce(0x2ee),_0x472b74='text-green-700\x20bg-green-100';break;}let _0x3f1c67='';const _0x952512={'day':_0xe1c7ce(0x2eb),'month':_0xe1c7ce(0x2eb),'year':_0xe1c7ce(0x21e),'hour':_0xe1c7ce(0x2eb),'minute':_0xe1c7ce(0x2eb),'hour12':![]};if(_0x2a47f7===_0xe1c7ce(0xf3)){if(_0x2399ea[_0xe1c7ce(0x732)])_0x3f1c67+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x2399ea[_0xe1c7ce(0x732)])[_0xe1c7ce(0x792)](_0xe1c7ce(0x2e2),_0x952512)+_0xe1c7ce(0x630);if(_0x2399ea['endTime'])_0x3f1c67+=_0xe1c7ce(0x7f1)+new Date(_0x2399ea['endTime'])[_0xe1c7ce(0x792)](_0xe1c7ce(0x2e2),_0x952512)+_0xe1c7ce(0x630);}let _0xa94f7c='';if(_0x2399ea['pairedQuizId']){const _0x41622c=allQuizzes[_0xe1c7ce(0x703)](_0x5619ac=>_0x5619ac['id']===_0x2399ea['pairedQuizId']);if(_0x41622c){let _0x5b7d37,_0x1e2a66;new Date(_0x2399ea[_0xe1c7ce(0x360)])<new Date(_0x41622c['createdAt'])?(_0x5b7d37=_0x2399ea['id'],_0x1e2a66=_0x41622c['id']):(_0x5b7d37=_0x41622c['id'],_0x1e2a66=_0x2399ea['id']),_0xa94f7c+=_0xe1c7ce(0x4cf)+_0x1e2a66+_0xe1c7ce(0x6af)+_0x5b7d37+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x2399ea[_0xe1c7ce(0x266)]==='pre-test'&&(_0xa94f7c+=_0xe1c7ce(0xca)+_0x2399ea['id']+_0xe1c7ce(0x828));if(_0x2399ea[_0xe1c7ce(0x266)]===_0xe1c7ce(0x61e)&&_0x374de6>0x0)_0xa94f7c+=_0xe1c7ce(0xca)+_0x2399ea['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x2399ea['pairedQuizId']&&_0x2399ea[_0xe1c7ce(0x266)]!==_0xe1c7ce(0x61e)&&_0x374de6>0x0&&(_0xa94f7c+=_0xe1c7ce(0xca)+_0x2399ea['id']+_0xe1c7ce(0x846));let _0x33936f='';_0x2399ea[_0xe1c7ce(0x5ef)]?_0x33936f=_0xe1c7ce(0x5f5)+_0x2399ea['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x33936f=_0xe1c7ce(0x5f5)+_0x2399ea['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x54a2d5+=_0xe1c7ce(0x66e)+_0x2399ea['id']+_0xe1c7ce(0x225)+_0x2399ea[_0xe1c7ce(0x751)]+_0xe1c7ce(0x519)+_0x2399ea[_0xe1c7ce(0x7cd)][_0xe1c7ce(0x5dc)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2399ea[_0xe1c7ce(0x360)])['toLocaleString'](_0xe1c7ce(0x2e2))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x374de6+_0xe1c7ce(0x1e4)+_0x3f1c67+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x472b74+'\x22>'+_0xc89b67+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2399ea['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2399ea['id']+_0xe1c7ce(0x461)+(_0x2399ea[_0xe1c7ce(0x21f)]?'fas\x20fa-star\x20text-yellow-500':_0xe1c7ce(0x1d0))+_0xe1c7ce(0xcd)+_0xa94f7c+_0xe1c7ce(0x359)+_0x2399ea['id']+_0xe1c7ce(0x10a)+_0x2399ea['id']+_0xe1c7ce(0x249)+_0x2399ea['id']+_0xe1c7ce(0x5ad)+_0x2399ea['id']+_0xe1c7ce(0x48c)+_0x2399ea['id']+_0xe1c7ce(0x502)+_0x2399ea['id']+_0xe1c7ce(0x6ba)+_0x2399ea['id']+_0xe1c7ce(0x52f)+_0x2399ea[_0xe1c7ce(0x751)]+_0xe1c7ce(0x322)+_0x2399ea['id']+_0xe1c7ce(0x293)+_0x2399ea['id']+_0xe1c7ce(0x542)+_0x33936f+_0xe1c7ce(0x1a1)+_0x2399ea['id']+_0xe1c7ce(0x63b)+_0x2399ea['id']+_0xe1c7ce(0x390)+_0x2399ea['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2399ea['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2399ea['id']+_0xe1c7ce(0x52f)+_0x2399ea[_0xe1c7ce(0x751)]+_0xe1c7ce(0x646);}),_0x22b0c4[_0xe6a3c6(0x305)]=_0x54a2d5,document[_0xe6a3c6(0x20e)](_0xe6a3c6(0x77f))[_0xe6a3c6(0x570)](_0x2a9164=>{const _0x42ad4c=_0xe6a3c6;_0x2a9164[_0x42ad4c(0x1e9)](_0x42ad4c(0x475),()=>{const _0x323aa8=_0x42ad4c,_0x9a487b=_0x2a9164['dataset'][_0x323aa8(0x462)];showQuizDetailView(_0x9a487b);});});}async function handleUnpairQuiz(_0x414406){const _0x573e99=_0x576079,_0x1830c8=allQuizzes[_0x573e99(0x703)](_0xc825d0=>_0xc825d0['id']===_0x414406);if(!_0x1830c8||!_0x1830c8[_0x573e99(0x5ef)]){showMessage(_0x573e99(0x5ab));return;}showConfirmation(_0x573e99(0x508),async()=>{const _0x14c6c6=_0x573e99;try{const _0x505054=doc(db,_0x14c6c6(0x672)+appId+'/public/data/quizzes',_0x414406),_0x33d8c2=doc(db,_0x14c6c6(0x672)+appId+_0x14c6c6(0x617),_0x1830c8[_0x14c6c6(0x5ef)]),_0x3c1aac=writeBatch(db);_0x3c1aac[_0x14c6c6(0x4af)](_0x505054,{'pairedQuizId':null}),_0x3c1aac[_0x14c6c6(0x4af)](_0x33d8c2,{'pairedQuizId':null}),await _0x3c1aac[_0x14c6c6(0x22d)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x1f7492){console[_0x14c6c6(0x6a9)](_0x14c6c6(0x68c),_0x1f7492),showMessage(_0x14c6c6(0x533));}});}function formatAndPrintLessonPlan(_0x76c857,_0x289ecf){const _0x56afda=_0x576079,_0x4a49a6=window['open']('',_0x56afda(0x595)),_0x388b5a=_0x56afda(0xe8)+_0x289ecf['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x289ecf['topic']+_0x56afda(0x1be)+_0x76c857[_0x56afda(0x784)][_0x56afda(0xd0)](_0x57debb=>'<li>'+_0x57debb+_0x56afda(0x6fc))[_0x56afda(0x815)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x76c857[_0x56afda(0x125)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x76c857['practiceProblems'][_0x56afda(0xd0)](_0x4eeacc=>_0x56afda(0x551)+_0x4eeacc['question']+_0x56afda(0x5d2)+_0x4eeacc[_0x56afda(0xfa)]+_0x56afda(0x417))['join']('')+_0x56afda(0x343);_0x4a49a6[_0x56afda(0x5be)][_0x56afda(0x702)](_0x388b5a),_0x4a49a6[_0x56afda(0x5be)][_0x56afda(0x2ab)](),_0x4a49a6[_0x56afda(0x375)]=function(){setTimeout(()=>{const _0x32ba55=_0x1b40;_0x4a49a6[_0x32ba55(0x17e)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x27cbb7){const _0x6b1e1=_0x576079;showMessage(_0x6b1e1(0x435));try{const _0x469882=doc(db,_0x6b1e1(0x672)+appId+_0x6b1e1(0x617),_0x27cbb7),_0x30a4fd=await getDoc(_0x469882);if(!_0x30a4fd[_0x6b1e1(0x438)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x139e63={'id':_0x27cbb7,..._0x30a4fd['data']()},_0x168376=collection(db,_0x6b1e1(0x672)+appId+'/public/data/quizzes',_0x27cbb7,_0x6b1e1(0x210)),_0x292471=await getDocs(_0x168376),_0x1327fc=_0x292471[_0x6b1e1(0x301)][_0x6b1e1(0xd0)](_0x44f5ef=>_0x44f5ef[_0x6b1e1(0xe3)]());if(_0x1327fc[_0x6b1e1(0x5dc)]===0x0)throw new Error(_0x6b1e1(0x367));const _0x302d38=calculateItemAnalysis(_0x139e63,_0x1327fc)['perQuestionStats'],_0x497ddf=calculateDistractorAnalysis(_0x139e63,_0x1327fc),_0x292582=_0x6a5ee1=>{const _0x1606db=_0x6b1e1;if(!_0x6a5ee1)return'';return _0x6a5ee1[_0x1606db(0x3c4)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x1606db(0x3c4)](/\n/g,'\x5cn');};let _0x4804dc=_0x6b1e1(0x29d);_0x139e63['questions'][_0x6b1e1(0x570)]((_0x4b2b5d,_0x13e45d)=>{const _0x311376=_0x6b1e1,_0x112acf=_0x302d38[_0x13e45d]?.['p'][_0x311376(0x25e)](0x2)||_0x311376(0x6c3),_0x5ce91b=_0x302d38[_0x13e45d]?.['r']['toFixed'](0x2)||'N/A',_0x35ecc8=_0x292582(_0x4b2b5d[_0x311376(0x4a9)]||_0x4b2b5d[_0x311376(0x13f)]);_0x4804dc+=_0x311376(0x693)+(_0x13e45d+0x1)+_0x311376(0x856)+_0x112acf+_0x311376(0x6a1)+_0x5ce91b+_0x311376(0x14f)+_0x35ecc8+'\x5cn';if(_0x4b2b5d[_0x311376(0x7f7)]===_0x311376(0x433)&&_0x497ddf[_0x13e45d]){const _0x40bfc1=_0x497ddf[_0x13e45d],_0x551e00=Object[_0x311376(0x521)](_0x40bfc1)[_0x311376(0x149)](_0x5d731d=>parseInt(_0x5d731d)!==_0x4b2b5d['correctAnswerIndex'])[_0x311376(0x27a)]((_0x322b6c,_0x459b26)=>_0x40bfc1[_0x459b26][_0x311376(0x6a8)]-_0x40bfc1[_0x322b6c][_0x311376(0x6a8)])[0x0];if(_0x551e00&&_0x40bfc1[_0x551e00][_0x311376(0x6a8)]>0x0){const _0x168f90=_0x292582(_0x40bfc1[_0x551e00][_0x311376(0x74a)]);_0x4804dc+=_0x311376(0x63d)+_0x168f90+'\x22\x5cn';}}});const _0x495a5c=_0x6b1e1(0x189)+_0x139e63[_0x6b1e1(0x751)]+_0x6b1e1(0x5d9)+_0x4804dc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2f0f8e={'type':_0x6b1e1(0x82c),'properties':{'learningGaps':{'type':_0x6b1e1(0x656),'items':{'type':_0x6b1e1(0x6b3)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x6b1e1(0x656),'items':{'type':_0x6b1e1(0x82c),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x6b1e1(0x6b3)}}}}},'required':[_0x6b1e1(0x784),_0x6b1e1(0x125),_0x6b1e1(0x611)]},_0xad408a=await callAnalysisApi(_0x495a5c,_0x2f0f8e);await updateDoc(_0x469882,{'lessonPlan':_0xad408a});const _0x47e4bc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x139e63[_0x6b1e1(0x751)]+_0x6b1e1(0x3cc)+_0xad408a['learningGaps'][_0x6b1e1(0xd0)](_0x17194e=>_0x6b1e1(0x69c)+_0x17194e+_0x6b1e1(0x6fc))[_0x6b1e1(0x815)]('')+_0x6b1e1(0x72e)+_0xad408a[_0x6b1e1(0x125)]+_0x6b1e1(0x15f)+_0xad408a['practiceProblems'][_0x6b1e1(0xd0)](_0x255ed2=>_0x6b1e1(0x4da)+_0x255ed2[_0x6b1e1(0x7e1)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x255ed2['solution']+_0x6b1e1(0x9b))['join']('')+_0x6b1e1(0x2be);document['getElementById'](_0x6b1e1(0x31c))[_0x6b1e1(0xe2)]='แผนการสอน:\x20'+_0x139e63[_0x6b1e1(0x751)],document['getElementById'](_0x6b1e1(0x22b))[_0x6b1e1(0x305)]=_0x47e4bc,document[_0x6b1e1(0x613)](_0x6b1e1(0xc6))[_0x6b1e1(0x7d0)][_0x6b1e1(0x699)](_0x6b1e1(0x580));if(window[_0x6b1e1(0x561)])MathJax[_0x6b1e1(0x47e)]();messageModal[_0x6b1e1(0x7d0)][_0x6b1e1(0x4c0)](_0x6b1e1(0x580));}catch(_0x576398){console[_0x6b1e1(0x6a9)](_0x6b1e1(0x742),_0x576398),showMessage(_0x6b1e1(0x2a7)+_0x576398[_0x6b1e1(0x217)]);}}async function handleDuplicateQuiz(_0x36d9a4){const _0x39c729=_0x576079;try{const _0xdb7225=doc(db,'artifacts/'+appId+_0x39c729(0x617),_0x36d9a4),_0x38ad46=await getDoc(_0xdb7225);if(_0x38ad46[_0x39c729(0x438)]()){const _0xbd2eb2=_0x38ad46[_0x39c729(0xe3)]();let _0x5e446e='',_0x1e4b2e=_0x39c729(0x4d8),_0x532137=null;if(_0xbd2eb2[_0x39c729(0x266)]===_0x39c729(0x61e)){let _0x274151=_0xbd2eb2['topic'][_0x39c729(0x3c4)](_0x39c729(0x56a),'')[_0x39c729(0x44a)]();_0x5e446e='(หลังเรียน)\x20'+_0x274151,_0x1e4b2e='post-test',_0x532137=_0x36d9a4;}else _0x5e446e='(คัดลอก)\x20'+_0xbd2eb2[_0x39c729(0x751)];const _0x312952={..._0xbd2eb2,'topic':_0x5e446e,'createdAt':new Date()[_0x39c729(0x405)](),'quizMode':_0x1e4b2e,'pairedQuizId':_0x532137};let _0x2498a7;while(!![]){_0x2498a7=Math[_0x39c729(0x452)](0x3e8+Math[_0x39c729(0x633)]()*0x2328)['toString']();const _0x1feb50=await getDoc(doc(db,_0x39c729(0x672)+appId+_0x39c729(0x617),_0x2498a7));if(!_0x1feb50[_0x39c729(0x438)]())break;}const _0x36614d=doc(db,'artifacts/'+appId+_0x39c729(0x617),_0x2498a7);await setDoc(_0x36614d,_0x312952),_0x312952[_0x39c729(0x266)]===_0x39c729(0x259)&&await updateDoc(_0xdb7225,{'pairedQuizId':_0x2498a7}),showMessage(_0x39c729(0x393));}else throw new Error(_0x39c729(0x37e));}catch(_0x425a1a){console['error'](_0x39c729(0x19b),_0x425a1a),showMessage(_0x39c729(0x4e4));}}async function handleDeleteQuiz(_0x139498,_0x4da9b8=!![]){const _0xeeb71c=_0x576079;try{const _0x51312c=writeBatch(db),_0x596dfa=collection(db,_0xeeb71c(0x672)+appId+_0xeeb71c(0x6d4)+_0x139498+_0xeeb71c(0x3dd)),_0x47f4ae=await getDocs(_0x596dfa);_0x47f4ae[_0xeeb71c(0x570)](_0x58e7d8=>{const _0x532edd=_0xeeb71c;_0x51312c[_0x532edd(0x4eb)](doc(_0x596dfa,_0x58e7d8['id']));});const _0x5a67b9=doc(db,_0xeeb71c(0x672)+appId+_0xeeb71c(0x617),_0x139498);_0x51312c[_0xeeb71c(0x4eb)](_0x5a67b9),await _0x51312c['commit'](),_0x4da9b8&&showMessage(_0xeeb71c(0x727));}catch(_0x248b3e){console['error'](_0xeeb71c(0x340),_0x248b3e),_0x4da9b8&&showMessage(_0xeeb71c(0x50a));}}async function showQuizDetailView(_0x325e33){const _0x5f267d=_0x576079;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x521ac9=doc(db,_0x5f267d(0x672)+appId+_0x5f267d(0x617),_0x325e33),_0x2ca188=await getDoc(_0x521ac9);if(!_0x2ca188[_0x5f267d(0x438)]()){showMessage(_0x5f267d(0x5b9));return;}const _0x5337af={'id':_0x2ca188['id'],..._0x2ca188[_0x5f267d(0xe3)]()};currentQuizData=_0x5337af;const _0x5c1642=doc(db,'artifacts/'+appId+_0x5f267d(0x116),_0x5337af[_0x5f267d(0x605)]),_0x30a080=await getDoc(_0x5c1642);_0x30a080[_0x5f267d(0x438)]()?(currentProjectData=_0x30a080[_0x5f267d(0xe3)](),currentProjectId=_0x5337af[_0x5f267d(0x605)]):(currentProjectData={'students':[]},currentProjectId=_0x5337af[_0x5f267d(0x605)]);document[_0x5f267d(0x613)](_0x5f267d(0x43e))[_0x5f267d(0xe2)]=_0x5337af[_0x5f267d(0x751)],document[_0x5f267d(0x613)](_0x5f267d(0x392))[_0x5f267d(0xe2)]=_0x325e33;const _0x3b9788=collection(db,_0x5f267d(0x672)+appId+_0x5f267d(0x617),_0x325e33,_0x5f267d(0x210));unsubscribeSubmissionsListener=onSnapshot(_0x3b9788,_0x2486c3=>{const _0x328adc=_0x5f267d,_0x5bb1bb=_0x2486c3[_0x328adc(0x301)][_0x328adc(0xd0)](_0x3b1424=>({'id':_0x3b1424['id'],..._0x3b1424[_0x328adc(0xe3)]()}));currentSubmissions=_0x5bb1bb,renderBehaviorLog(_0x5bb1bb),renderAnswerGrid(currentProjectData['students'],_0x5bb1bb,_0x5337af),renderAnalytics(_0x5337af,_0x5bb1bb),renderQuizResultsTable(currentProjectData[_0x328adc(0x80d)],_0x5bb1bb,_0x5337af),renderQuizLeaderboard(_0x5bb1bb,_0x5337af,_0x328adc(0x30c));}),showView(_0x5f267d(0xe5));}catch(_0x2f5043){console[_0x5f267d(0x6a9)](_0x5f267d(0x247),_0x2f5043),showMessage(_0x5f267d(0x16c));}}function renderAnswerGrid(_0x58637b,_0x141a3,_0x4e0e7e){const _0x15f8d0=_0x576079,_0x4fa136=document[_0x15f8d0(0x613)](_0x15f8d0(0x14e));if(!_0x4fa136)return;if(!_0x58637b||_0x58637b[_0x15f8d0(0x5dc)]===0x0){_0x4fa136[_0x15f8d0(0x305)]=_0x15f8d0(0x616);return;}const _0x5f126c=_0x4e0e7e['questions'],_0x416e1a=_0x141a3['reduce']((_0x355601,_0x3ca841)=>{const _0x4ad82e=_0x15f8d0;return _0x355601[_0x3ca841[_0x4ad82e(0x22c)]]=_0x3ca841,_0x355601;},{}),_0x27dabb=_0x6344a3=>String[_0x15f8d0(0x22a)](0x41+_0x6344a3),_0x24e9c6=_0x5e756b=>{const _0x4b514=_0x15f8d0,_0x557625=_0x5e756b['questionType']||_0x4e0e7e[_0x4b514(0x741)];switch(_0x557625){case _0x4b514(0x433):return _0x5e756b[_0x4b514(0x516)]&&_0x5e756b[_0x4b514(0x516)][_0x4b514(0x5dc)]>_0x5e756b[_0x4b514(0x62e)]?_0x27dabb(_0x5e756b[_0x4b514(0x62e)]):'-';case _0x4b514(0x598):return _0x5e756b[_0x4b514(0x619)]?_0x4b514(0x3f1):_0x4b514(0x68b);case _0x4b514(0x193):return _0x5e756b[_0x4b514(0x6ea)]||'-';case'short_answer':return _0x4b514(0x3e0);default:return'-';}},_0x4ddc0c=(_0x5413cb,_0x68289)=>{const _0x49fb9f=_0x15f8d0;if(_0x68289[_0x49fb9f(0x7f5)]===null||_0x68289[_0x49fb9f(0x7f5)]===undefined)return'-';const _0x16d2b9=_0x5413cb['questionType']||_0x4e0e7e[_0x49fb9f(0x741)];switch(_0x16d2b9){case _0x49fb9f(0x433):const _0x15d8f2=_0x5413cb['options'][_0x49fb9f(0x201)](_0x3b3959=>_0x3b3959===_0x68289[_0x49fb9f(0x2af)]);return _0x15d8f2!==-0x1?_0x27dabb(_0x15d8f2):_0x68289[_0x49fb9f(0x2af)]||'-';case _0x49fb9f(0x598):return _0x68289['answer']===_0x49fb9f(0x7d4)||_0x68289[_0x49fb9f(0x7f5)]===!![]?_0x49fb9f(0x3f1):_0x49fb9f(0x68b);default:return _0x68289[_0x49fb9f(0x7f5)];}};let _0x29f636=_0x15f8d0(0x778)+_0x5f126c['map']((_0x242fbf,_0x1bfaa5)=>_0x15f8d0(0x84e)+(_0x1bfaa5+0x1)+_0x15f8d0(0x834))[_0x15f8d0(0x815)]('')+_0x15f8d0(0x1ff)+_0x5f126c[_0x15f8d0(0xd0)](_0x227d85=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x24e9c6(_0x227d85)+_0x15f8d0(0x5ff))['join']('')+_0x15f8d0(0x73a);_0x58637b['forEach'](_0x55aa81=>{const _0x484884=_0x15f8d0;_0x29f636+=_0x484884(0x4e8),_0x29f636+=_0x484884(0x78a)+_0x55aa81+_0x484884(0x5ff);const _0x4b2ac2=_0x416e1a[_0x55aa81];if(_0x4b2ac2){const _0x2426b2=_0x4b2ac2[_0x484884(0x677)][_0x4b2ac2['attempts'][_0x484884(0x5dc)]-0x1];_0x5f126c[_0x484884(0x570)]((_0x54ccf0,_0x47d45a)=>{const _0x364b12=_0x484884,_0x5876a4=_0x2426b2[_0x364b12(0x1dc)][_0x364b12(0x703)](_0x3dcc71=>_0x3dcc71[_0x364b12(0x811)]===(_0x54ccf0[_0x364b12(0x13f)]||_0x54ccf0[_0x364b12(0x4a9)]));if(_0x5876a4){let _0x237dbc=![];const _0x1a3757=_0x54ccf0[_0x364b12(0x7f7)]||_0x4e0e7e[_0x364b12(0x741)];if(_0x5876a4[_0x364b12(0x7f5)]!==null&&_0x5876a4[_0x364b12(0x7f5)]!==undefined)switch(_0x1a3757){case _0x364b12(0x433):const _0x5c7ee5=_0x54ccf0['options'][_0x54ccf0['correctAnswerIndex']];_0x237dbc=_0x5876a4['answerText']===_0x5c7ee5;break;case'true_false':const _0x44a862=_0x5876a4['answer']===!![]||_0x5876a4['answer']==='true';_0x237dbc=_0x44a862===_0x54ccf0[_0x364b12(0x619)];break;case _0x364b12(0x193):_0x237dbc=_0x5876a4[_0x364b12(0x7f5)]===_0x54ccf0['correctResponse'];break;default:_0x237dbc=_0x5876a4['isCorrect'];break;}const _0x1d0804=_0x237dbc?'bg-green-100':_0x364b12(0x16f);_0x29f636+=_0x364b12(0x27b)+_0x1d0804+'\x22>'+_0x4ddc0c(_0x54ccf0,_0x5876a4)+_0x364b12(0x5ff);}else _0x29f636+=_0x364b12(0x49f);});}else _0x29f636+=_0x5f126c[_0x484884(0xd0)](()=>_0x484884(0x365))['join']('');_0x29f636+=_0x484884(0x654);}),_0x29f636+=_0x15f8d0(0x54b),_0x4fa136[_0x15f8d0(0x305)]=_0x29f636;}function renderQuizResultsTable(_0x12f19a,_0x396094,_0xcaf2f7){const _0x30c5a5=_0x576079,_0x3cbebb=_0x396094[_0x30c5a5(0x797)]((_0x4c418e,_0x189590)=>{const _0x4be95a=_0x30c5a5;return _0x4c418e[_0x189590[_0x4be95a(0x22c)]]=_0x189590,_0x4c418e;},{}),_0x26bdce=document['querySelector'](_0x30c5a5(0x309));_0x26bdce&&!_0x26bdce[_0x30c5a5(0x305)][_0x30c5a5(0x353)](_0x30c5a5(0x7e2))&&(_0x26bdce[_0x30c5a5(0x305)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x5dbe64=document[_0x30c5a5(0x613)](_0x30c5a5(0x710));if(!_0x12f19a||_0x12f19a[_0x30c5a5(0x5dc)]===0x0){_0x5dbe64['innerHTML']=_0x30c5a5(0x6d1);return;}const _0x232513=_0xcaf2f7[_0x30c5a5(0x100)]===!![],_0x547d9d=_0xcaf2f7['settings']?.[_0x30c5a5(0x48b)]??-0x1;let _0x2c9887='';_0x12f19a[_0x30c5a5(0x570)](_0x365cbd=>{const _0x1821d8=_0x30c5a5,_0x1a3f1d=_0x3cbebb[_0x365cbd];let _0x9c8b73=_0x1821d8(0x178),_0x5dc640=_0x1821d8(0x1b1)+(_0x232513?_0x1821d8(0x35a):_0x1821d8(0x4c2))+'\x22>'+(_0x232513?_0x1821d8(0x6f7):_0x1821d8(0x6e8))+_0x1821d8(0x1e8);if(_0x1a3f1d){let _0x34d9bb=_0x232513?_0x1a3f1d[_0x1821d8(0x44b)]===_0x1a3f1d[_0x1821d8(0x2a3)]:_0x547d9d!==-0x1&&_0x1a3f1d[_0x1821d8(0x44b)]>=_0x547d9d;if(_0x232513||_0x547d9d!==-0x1){const _0x38b484=_0x34d9bb?_0x1821d8(0x1e2):'bg-red-100\x20text-red-800',_0x8d9971=_0x34d9bb?'ผ่าน':_0x1821d8(0x57e);_0x9c8b73=_0x1821d8(0x357)+_0x38b484+'\x22>'+_0x8d9971+_0x1821d8(0x1e8);}const _0x3f937c=_0x1821d8(0xa1)+(_0x1a3f1d[_0x1821d8(0x677)]?.['length']||0x1)+_0x1821d8(0x760);_0x2c9887+=_0x1821d8(0xe6)+_0x365cbd+_0x1821d8(0x736)+_0x1a3f1d['bestScore']+_0x1821d8(0x515)+_0x1a3f1d[_0x1821d8(0x2a3)]+_0x1821d8(0x455)+_0x9c8b73+_0x1821d8(0x495)+_0x5dc640+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x1a3f1d[_0x1821d8(0x161)]+_0x1821d8(0x515)+_0x1a3f1d[_0x1821d8(0x2a3)]+_0x1821d8(0x35c)+_0x1a3f1d[_0x1821d8(0x6cf)]+_0x1821d8(0x515)+_0x1a3f1d[_0x1821d8(0x2a3)]+_0x1821d8(0x34a)+(_0x1a3f1d[_0x1821d8(0x2bf)]||0x0)+_0x1821d8(0x455)+_0x3f937c+_0x1821d8(0x63c)+new Date(_0x1a3f1d[_0x1821d8(0x84a)])[_0x1821d8(0x792)]('th-TH')+_0x1821d8(0x3e7)+_0x365cbd+_0x1821d8(0x77b);}else{const _0xd60b5c=_0x1821d8(0x624);_0x2c9887+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x365cbd+_0x1821d8(0x596)+_0x5dc640+_0x1821d8(0x4c1)+_0xd60b5c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x5dbe64[_0x30c5a5(0x305)]=_0x2c9887;}async function confirmRenameQuiz(){const _0x43b0a8=_0x576079,_0x2bf175=document[_0x43b0a8(0x613)]('rename-quiz-input')[_0x43b0a8(0x75d)][_0x43b0a8(0x44a)]();if(!_0x2bf175){showMessage(_0x43b0a8(0x6e6));return;}if(!actionTargetId)return;const _0x206980=doc(db,_0x43b0a8(0x672)+appId+_0x43b0a8(0x617),actionTargetId);try{await updateDoc(_0x206980,{'topic':_0x2bf175}),showMessage(_0x43b0a8(0x51a)),renameQuizModal[_0x43b0a8(0x7d0)][_0x43b0a8(0x4c0)](_0x43b0a8(0x580)),actionTargetId=null;}catch(_0x5042f2){console[_0x43b0a8(0x6a9)]('Error\x20renaming\x20quiz:',_0x5042f2),showMessage(_0x43b0a8(0x306));}}async function handleMoveQuiz(_0xa9f0b8){const _0x4b359f=_0x576079;actionTargetId=_0xa9f0b8;const _0x7b1f6d=document[_0x4b359f(0x613)](_0x4b359f(0x147));_0x7b1f6d[_0x4b359f(0x305)]=_0x4b359f(0x5e6),moveQuizModal[_0x4b359f(0x7d0)][_0x4b359f(0x699)](_0x4b359f(0x580));try{const _0x58f695=collection(db,_0x4b359f(0x672)+appId+_0x4b359f(0x116)),_0x1ee2e8=await getDocs(_0x58f695),_0x1d8d09=_0x1ee2e8['docs'][_0x4b359f(0xd0)](_0x802ded=>({'id':_0x802ded['id'],..._0x802ded[_0x4b359f(0xe3)]()})),_0xcacee9=_0x1d8d09[_0x4b359f(0x149)](_0x3be6a8=>_0x3be6a8['id']!==currentProjectId);if(_0xcacee9[_0x4b359f(0x5dc)]===0x0){_0x7b1f6d[_0x4b359f(0x305)]=_0x4b359f(0x6b0),document['getElementById'](_0x4b359f(0x65a))['disabled']=!![];return;}_0x7b1f6d[_0x4b359f(0x305)]=_0xcacee9['map'](_0x3c3158=>_0x4b359f(0x758)+_0x3c3158['id']+'\x22>'+_0x3c3158[_0x4b359f(0x3fd)]+'</option>')[_0x4b359f(0x815)](''),document[_0x4b359f(0x613)](_0x4b359f(0x65a))[_0x4b359f(0x4c9)]=![];}catch(_0x85e31a){console[_0x4b359f(0x6a9)](_0x4b359f(0x73d),_0x85e31a),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x4b359f(0x7d0)][_0x4b359f(0x4c0)](_0x4b359f(0x580));}}async function confirmMoveQuiz(){const _0x4c49a9=_0x576079,_0x2f44d6=document[_0x4c49a9(0x613)](_0x4c49a9(0x147))[_0x4c49a9(0x75d)];if(!_0x2f44d6){showMessage(_0x4c49a9(0x66d));return;}if(!actionTargetId)return;const _0xd88ecb=doc(db,_0x4c49a9(0x672)+appId+_0x4c49a9(0x617),actionTargetId);try{await updateDoc(_0xd88ecb,{'projectId':_0x2f44d6}),showMessage(_0x4c49a9(0x803)),moveQuizModal[_0x4c49a9(0x7d0)][_0x4c49a9(0x4c0)](_0x4c49a9(0x580)),actionTargetId=null;}catch(_0x3d8e0b){console['error'](_0x4c49a9(0x609),_0x3d8e0b),showMessage(_0x4c49a9(0x260));}}async function handleQuizSettings(_0x2e0bff){const _0x534f1e=_0x576079;actionTargetId=_0x2e0bff;const _0x39257b=doc(db,_0x534f1e(0x672)+appId+_0x534f1e(0x617),_0x2e0bff);try{const _0x4def60=await getDoc(_0x39257b);if(_0x4def60[_0x534f1e(0x438)]()){const _0x13c076=_0x4def60[_0x534f1e(0xe3)](),_0x54e507=_0x13c076[_0x534f1e(0x45b)]||{},_0x2d647e=_0x13c076[_0x534f1e(0x7cd)][_0x534f1e(0x5dc)];document[_0x534f1e(0x613)](_0x534f1e(0x5a3))[_0x534f1e(0x75d)]=_0x54e507['shuffle']||_0x534f1e(0x14d),document[_0x534f1e(0x613)](_0x534f1e(0x55b))[_0x534f1e(0x75d)]=_0x54e507[_0x534f1e(0x584)]||_0x534f1e(0x81f),document[_0x534f1e(0x613)](_0x534f1e(0x5bc))[_0x534f1e(0x75d)]=_0x54e507['timerMode']||_0x534f1e(0x14d),document[_0x534f1e(0x613)]('modal-timer-duration-input')[_0x534f1e(0x75d)]=_0x54e507[_0x534f1e(0x7c0)]||0xa,document[_0x534f1e(0x613)](_0x534f1e(0x297))[_0x534f1e(0x75d)]=_0x54e507[_0x534f1e(0x48b)]||Math[_0x534f1e(0x452)](_0x2d647e/0x2),document[_0x534f1e(0x613)](_0x534f1e(0x297))[_0x534f1e(0x6ae)]=_0x2d647e,document['getElementById'](_0x534f1e(0x8d))['checked']=_0x54e507[_0x534f1e(0x6ce)]||![],document[_0x534f1e(0x613)]('modal-loop-until-pass-checkbox')[_0x534f1e(0x61a)]=_0x54e507[_0x534f1e(0x579)]||![],document['getElementById'](_0x534f1e(0x5bc))[_0x534f1e(0x15c)](new Event(_0x534f1e(0x3a8))),quizSettingsModal[_0x534f1e(0x7d0)][_0x534f1e(0x699)](_0x534f1e(0x580));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x214ebe){console[_0x534f1e(0x6a9)]('Error\x20fetching\x20quiz\x20settings:',_0x214ebe),showMessage(_0x534f1e(0x810));}}async function confirmQuizSettings(){const _0x1f2b7f=_0x576079;if(!actionTargetId)return;const _0x5616ed=doc(db,_0x1f2b7f(0x672)+appId+_0x1f2b7f(0x617),actionTargetId),_0x5d0ec4={'shuffle':document[_0x1f2b7f(0x613)](_0x1f2b7f(0x5a3))['value'],'resultsDisplay':document[_0x1f2b7f(0x613)](_0x1f2b7f(0x55b))[_0x1f2b7f(0x75d)],'timerMode':document[_0x1f2b7f(0x613)](_0x1f2b7f(0x5bc))[_0x1f2b7f(0x75d)],'timerDuration':parseInt(document[_0x1f2b7f(0x613)](_0x1f2b7f(0x26a))[_0x1f2b7f(0x75d)])||0xa,'passingScore':parseInt(document[_0x1f2b7f(0x613)](_0x1f2b7f(0x297))[_0x1f2b7f(0x75d)])||0x0,'passingScore':parseInt(document[_0x1f2b7f(0x613)](_0x1f2b7f(0x297))[_0x1f2b7f(0x75d)])||0x0,'isAdaptive':document['getElementById'](_0x1f2b7f(0x8d))['checked'],'loopUntilPass':document[_0x1f2b7f(0x613)]('modal-loop-until-pass-checkbox')[_0x1f2b7f(0x61a)]};try{await updateDoc(_0x5616ed,{'settings':_0x5d0ec4}),showMessage(_0x1f2b7f(0x6e7)),quizSettingsModal[_0x1f2b7f(0x7d0)]['add']('hidden'),actionTargetId=null;}catch(_0x6eb86){console['error'](_0x1f2b7f(0x18c),_0x6eb86),showMessage(_0x1f2b7f(0x29c));}}async function handleQuizStatus(_0x272dbc){const _0x35a170=_0x576079;actionTargetId=_0x272dbc;const _0x3ef6df=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x272dbc);try{const _0x1feae6=await getDoc(_0x3ef6df);if(_0x1feae6[_0x35a170(0x438)]()){const _0x2f627e=_0x1feae6[_0x35a170(0xe3)](),_0x23a075=_0x2f627e[_0x35a170(0x71f)]||_0x35a170(0x67b),_0x225b67=document[_0x35a170(0x613)](_0x35a170(0x6a3)),_0x49c6a3=document['getElementById'](_0x35a170(0x4a5)),_0x505595=document[_0x35a170(0x613)]('quiz-schedule-end-container');let _0x2afc9b=_0x35a170(0x3a3)+(_0x23a075==='active'?'checked':'')+_0x35a170(0x845)+(_0x23a075===_0x35a170(0x1db)?_0x35a170(0x61a):'')+_0x35a170(0x11e)+(_0x23a075==='scheduled'?_0x35a170(0x61a):'')+_0x35a170(0x36c);_0x225b67[_0x35a170(0x305)]=_0x2afc9b;const _0xb035af=_0x23a075===_0x35a170(0xf3);_0x49c6a3[_0x35a170(0x7d0)][_0x35a170(0x7ba)](_0x35a170(0x580),!_0xb035af),_0x505595[_0x35a170(0x7d0)][_0x35a170(0x7ba)](_0x35a170(0x580),!_0xb035af),document[_0x35a170(0x613)](_0x35a170(0x530))[_0x35a170(0x75d)]=_0x2f627e[_0x35a170(0x732)]?_0x2f627e[_0x35a170(0x732)][_0x35a170(0x373)](0x0,0x10):'',document[_0x35a170(0x613)](_0x35a170(0x175))[_0x35a170(0x75d)]=_0x2f627e[_0x35a170(0x674)]?_0x2f627e[_0x35a170(0x674)][_0x35a170(0x373)](0x0,0x10):'',_0x225b67[_0x35a170(0x20e)](_0x35a170(0x820))['forEach'](_0x200d88=>{const _0x799487=_0x35a170;_0x200d88[_0x799487(0x1e9)](_0x799487(0x3a8),_0x5ae437=>{const _0x149f50=_0x799487,_0x2a147d=_0x5ae437[_0x149f50(0x74d)][_0x149f50(0x75d)]==='schedule';_0x49c6a3[_0x149f50(0x7d0)][_0x149f50(0x7ba)](_0x149f50(0x580),!_0x2a147d),_0x505595[_0x149f50(0x7d0)]['toggle']('hidden',!_0x2a147d);});}),quizStatusModal['classList'][_0x35a170(0x699)]('hidden');}}catch(_0x512b34){console[_0x35a170(0x6a9)]('Error\x20fetching\x20quiz\x20status:',_0x512b34),showMessage(_0x35a170(0x4e0));}}async function confirmQuizStatus(){const _0x4d7e1a=_0x576079;if(!actionTargetId)return;const _0x3ab519=doc(db,_0x4d7e1a(0x672)+appId+_0x4d7e1a(0x617),actionTargetId),_0x1bd5c7=document['querySelector'](_0x4d7e1a(0x3d5));if(!_0x1bd5c7){showMessage(_0x4d7e1a(0x135));return;}const _0x18d079=_0x1bd5c7['value'];let _0x13c0b2={};if(_0x18d079===_0x4d7e1a(0x67b)||_0x18d079===_0x4d7e1a(0x1db))_0x13c0b2={'status':_0x18d079,'startTime':null,'endTime':null};else{if(_0x18d079===_0x4d7e1a(0x318)){const _0x190237=document[_0x4d7e1a(0x613)](_0x4d7e1a(0x530))[_0x4d7e1a(0x75d)],_0xb8bef0=document[_0x4d7e1a(0x613)]('quiz-end-time')[_0x4d7e1a(0x75d)];if(!_0x190237&&!_0xb8bef0){showMessage(_0x4d7e1a(0x123));return;}_0x13c0b2={'status':_0x4d7e1a(0xf3),'startTime':_0x190237?new Date(_0x190237)['toISOString']():null,'endTime':_0xb8bef0?new Date(_0xb8bef0)['toISOString']():null};}}try{await updateDoc(_0x3ab519,_0x13c0b2),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList']['add']('hidden'),actionTargetId=null;}catch(_0x55435e){console[_0x4d7e1a(0x6a9)](_0x4d7e1a(0x5f4),_0x55435e),showMessage(_0x4d7e1a(0x748));}}function listenForStudentProfiles(_0x65ed87){const _0x4c62f5=_0x576079,_0x2a3020=collection(db,_0x4c62f5(0x672)+appId+'/public/data/projects/'+_0x65ed87+_0x4c62f5(0x39c));unsubscribeStudentProfilesListener=onSnapshot(_0x2a3020,_0x3a9348=>{const _0x56eadf=_0x4c62f5,_0xcd5f58=_0x3a9348[_0x56eadf(0x301)][_0x56eadf(0xd0)](_0x3c3dec=>_0x3c3dec['data']());renderLeaderboard(_0xcd5f58,_0x56eadf(0x527));},_0x3e3afd=>{const _0x397494=_0x4c62f5;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x3e3afd),document[_0x397494(0x613)](_0x397494(0x527))[_0x397494(0x305)]=_0x397494(0x676);});}function renderLeaderboard(_0x174f27,_0xd8deb1){const _0x106e5c=_0x576079,_0x299494=document[_0x106e5c(0x613)](_0xd8deb1);if(!_0x174f27||_0x174f27[_0x106e5c(0x5dc)]===0x0){_0x299494[_0x106e5c(0x305)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x174f27['sort']((_0x1c4746,_0x5ea324)=>{const _0x57b9fa=_0x106e5c,_0x468a9b=(_0x5ea324[_0x57b9fa(0x565)]||0x0)-(_0x1c4746[_0x57b9fa(0x565)]||0x0);if(_0x468a9b!==0x0)return _0x468a9b;const _0x3d0194=(_0x5ea324[_0x57b9fa(0x2f8)]?.[_0x57b9fa(0x211)]||0x0)-(_0x1c4746['badgesCount']?.['specialist']||0x0);if(_0x3d0194!==0x0)return _0x3d0194;const _0x356f87=(_0x5ea324['badgesCount']?.['first_try_ace']||0x0)-(_0x1c4746['badgesCount']?.[_0x57b9fa(0x2e1)]||0x0);if(_0x356f87!==0x0)return _0x356f87;const _0x1c7ffc=(_0x5ea324[_0x57b9fa(0x2f8)]?.[_0x57b9fa(0x1ad)]||0x0)-(_0x1c4746[_0x57b9fa(0x2f8)]?.[_0x57b9fa(0x1ad)]||0x0);if(_0x1c7ffc!==0x0)return _0x1c7ffc;const _0x83ed1b=(_0x5ea324[_0x57b9fa(0x2f8)]?.['quick_thinker']||0x0)-(_0x1c4746[_0x57b9fa(0x2f8)]?.[_0x57b9fa(0x142)]||0x0);if(_0x83ed1b!==0x0)return _0x83ed1b;return _0x1c4746[_0x57b9fa(0x22c)][_0x57b9fa(0x314)](_0x5ea324[_0x57b9fa(0x22c)],'th');});let _0xaec42b='';_0x174f27['forEach']((_0x7de2d4,_0x3d8ecd)=>{const _0x4c8f9c=_0x106e5c,_0x4a6344=_0x3d8ecd+0x1,_0x17d003=_0x7de2d4[_0x4c8f9c(0x2f8)]||{};let _0x4363fe='';const _0x38654=[_0x4c8f9c(0x211),_0x4c8f9c(0x1ad),_0x4c8f9c(0x2e1),_0x4c8f9c(0x142)];_0x38654['forEach'](_0x43b194=>{const _0x2e27c5=_0x4c8f9c;if(_0x17d003[_0x43b194]>0x0){const _0xae2684=Object['values'](BADGES)[_0x2e27c5(0x703)](_0x5283ae=>_0x5283ae['id']===_0x43b194);_0xae2684&&(_0x43b194===_0x2e27c5(0x211)?_0x4363fe+=_0x2e27c5(0x621)+_0xae2684[_0x2e27c5(0x386)]+_0x2e27c5(0x740)+_0xae2684[_0x2e27c5(0x276)]+_0x2e27c5(0x401):_0x4363fe+=_0x2e27c5(0x621)+_0xae2684['name']+'\x20('+_0x17d003[_0x43b194]+_0x2e27c5(0x4ee)+_0xae2684[_0x2e27c5(0x276)]+_0x2e27c5(0xad)+_0x17d003[_0x43b194]+_0x2e27c5(0xec));}}),_0xaec42b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x4a6344+_0x4c8f9c(0x65e)+_0x7de2d4[_0x4c8f9c(0x22c)]+_0x4c8f9c(0x42b)+(_0x7de2d4['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x4363fe||'-')+_0x4c8f9c(0x7f0);}),_0x299494[_0x106e5c(0x305)]=_0xaec42b;}function displayLoopScreen(_0x3689d2,_0xbe3b51,_0x1d33ca){const _0x3340d5=_0x576079;let _0x2712cd='';_0x1d33ca!==_0x3340d5(0x7d3)&&(_0x2712cd=_0x3340d5(0x160)+_0x3689d2+_0x3340d5(0x515)+_0xbe3b51+_0x3340d5(0x19a));const _0x26e5fb=_0x3340d5(0x271)+_0x2712cd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3340d5(0x305)]=_0x26e5fb,studentResultArea[_0x3340d5(0x7d0)][_0x3340d5(0x699)](_0x3340d5(0x580)),studentQuizArea[_0x3340d5(0x7d0)]['add'](_0x3340d5(0x580)),document[_0x3340d5(0x613)](_0x3340d5(0x7d9))['addEventListener'](_0x3340d5(0x475),()=>{const _0x19a382=_0x3340d5;studentResultArea[_0x19a382(0x7d0)][_0x19a382(0x4c0)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x72de5d,_0xfe075d,_0xf74dcb){const _0x5ac9a0=_0x576079,_0x194ef9=document[_0x5ac9a0(0x613)](_0xf74dcb),_0x2a5541=_0xf74dcb===_0x5ac9a0(0x1e6),_0x4294f9=_0xfe075d['questions'][_0x5ac9a0(0x5dc)],_0x1ad6d1=document[_0x5ac9a0(0x613)](_0xf74dcb)[_0x5ac9a0(0x2b6)](_0x5ac9a0(0x440));if(_0x1ad6d1&&!_0x2a5541){const _0xf84f82=_0x1ad6d1['querySelector'](_0x5ac9a0(0x3e6));_0xf84f82[_0x5ac9a0(0x305)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x72de5d||_0x72de5d[_0x5ac9a0(0x5dc)]===0x0){_0x194ef9[_0x5ac9a0(0x305)]='<tr><td\x20colspan=\x22'+(_0x2a5541?0x6:0x8)+_0x5ac9a0(0x176);return;}const _0x479f00=[..._0x72de5d];_0x479f00[_0x5ac9a0(0x27a)]((_0x3cc954,_0x42235e)=>{const _0x4a0f14=_0x5ac9a0;let _0x57f0bc,_0x2402b6;switch(quizLeaderboardSortBy){case _0x4a0f14(0x22c):_0x57f0bc=_0x3cc954[_0x4a0f14(0x22c)]||'',_0x2402b6=_0x42235e['studentName']||'';return quizLeaderboardSortOrder===_0x4a0f14(0x744)?_0x57f0bc[_0x4a0f14(0x314)](_0x2402b6,'th'):_0x2402b6[_0x4a0f14(0x314)](_0x57f0bc,'th');case _0x4a0f14(0x2bf):_0x57f0bc=_0x3cc954['points']||0x0,_0x2402b6=_0x42235e[_0x4a0f14(0x2bf)]||0x0;break;case'attempts':_0x57f0bc=_0x3cc954[_0x4a0f14(0x677)]?.[_0x4a0f14(0x5dc)]||0x1,_0x2402b6=_0x42235e[_0x4a0f14(0x677)]?.['length']||0x1;break;case'latestSubmittedAt':_0x57f0bc=new Date(_0x3cc954[_0x4a0f14(0x84a)]),_0x2402b6=new Date(_0x42235e[_0x4a0f14(0x84a)]);break;case _0x4a0f14(0x44b):default:_0x57f0bc=_0x3cc954['bestScore'],_0x2402b6=_0x42235e[_0x4a0f14(0x44b)];break;}if(_0x57f0bc<_0x2402b6)return quizLeaderboardSortOrder===_0x4a0f14(0x744)?-0x1:0x1;if(_0x57f0bc>_0x2402b6)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x1711bb=_0xfe075d[_0x5ac9a0(0x100)]===!![],_0x91dba3=_0xfe075d[_0x5ac9a0(0x45b)]?.[_0x5ac9a0(0x48b)]??-0x1;let _0x47aaff='';_0x479f00[_0x5ac9a0(0x570)]((_0x29914c,_0x2b62e2)=>{const _0x173a79=_0x5ac9a0,_0x4da063=_0x2b62e2+0x1;let _0x141791='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x1711bb||_0x91dba3!==-0x1){let _0xa83c79=_0x1711bb?_0x29914c[_0x173a79(0x44b)]===_0x4294f9:_0x29914c[_0x173a79(0x44b)]>=_0x91dba3;const _0x5e85a2=_0xa83c79?_0x173a79(0x1e2):_0x173a79(0x7e4),_0x3102b4=_0xa83c79?_0x173a79(0x45d):_0x173a79(0x57e);_0x141791=_0x173a79(0x12a)+_0x5e85a2+'\x22>'+_0x3102b4+'</span></td>';}const _0x12f38c=_0x29914c[_0x173a79(0x677)][_0x29914c['attempts']['length']-0x1],_0x1fd4d2=(_0x12f38c[_0x173a79(0x511)]||[])[_0x173a79(0xd0)](_0x28eb78=>{const _0x595bd4=_0x173a79,_0x11baa7=Object[_0x595bd4(0x49d)](BADGES)['find'](_0x54f0b9=>_0x54f0b9['id']===_0x28eb78);return _0x11baa7?'<span\x20title=\x22'+_0x11baa7[_0x595bd4(0x386)]+'\x22><i\x20class=\x22fas\x20'+_0x11baa7[_0x595bd4(0x276)]+_0x595bd4(0x1da):'';})[_0x173a79(0x815)]('');_0x47aaff+=_0x173a79(0x76d)+_0x4da063+_0x173a79(0x396)+_0x29914c[_0x173a79(0x22c)]+_0x173a79(0x651)+_0x29914c['bestScore']+'\x20/\x20'+_0x4294f9+_0x173a79(0x4ff)+_0x141791+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x29914c[_0x173a79(0x2bf)]||0x0)+_0x173a79(0x4ff)+(_0x2a5541?'':_0x173a79(0x41f)+(_0x29914c[_0x173a79(0x677)]?.[_0x173a79(0x5dc)]||0x1)+_0x173a79(0x5ff))+_0x173a79(0x115)+(_0x2a5541?'':_0x173a79(0x597)+new Date(_0x29914c[_0x173a79(0x84a)])[_0x173a79(0x792)]('th-TH')+_0x173a79(0x5ff))+_0x173a79(0xf1)+(_0x1fd4d2||'-')+_0x173a79(0x34d);}),_0x194ef9[_0x5ac9a0(0x305)]=_0x47aaff,_0x1ad6d1&&!_0x2a5541&&_0x1ad6d1[_0x5ac9a0(0x20e)](_0x5ac9a0(0x731))[_0x5ac9a0(0x570)](_0x238aec=>{const _0x1d858e=_0x5ac9a0,_0x534dba=_0x238aec['querySelector'](_0x1d858e(0x59f));if(_0x534dba)_0x534dba[_0x1d858e(0x699)]();_0x238aec['dataset'][_0x1d858e(0x27a)]===quizLeaderboardSortBy&&(_0x238aec[_0x1d858e(0x305)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x9c35cc){const _0x58aa13=_0x576079;if(!currentQuizData||!currentQuizData['id']||!_0x9c35cc){showMessage(_0x58aa13(0x118));return;}showConfirmation(_0x58aa13(0x397)+_0x9c35cc+_0x58aa13(0x494),async()=>{const _0x5ccccb=_0x58aa13,_0x6a12ab=currentQuizData['id'],_0x4f26cd=doc(db,_0x5ccccb(0x672)+appId+_0x5ccccb(0x6d4)+_0x6a12ab+_0x5ccccb(0x3dd),_0x9c35cc);try{await deleteDoc(_0x4f26cd),showMessage(_0x5ccccb(0x73b)+_0x9c35cc+_0x5ccccb(0x316));}catch(_0x2e7128){console['error'](_0x5ccccb(0x4a0),_0x2e7128),showMessage(_0x5ccccb(0x391));}});}async function handleLoadQuiz(){const _0x1b6da2=_0x576079,_0x506c2d=document[_0x1b6da2(0x613)](_0x1b6da2(0x678)),_0x489ce1=_0x506c2d[_0x1b6da2(0x75d)][_0x1b6da2(0x44a)]();if(!_0x489ce1){showMessage(_0x1b6da2(0x2a9));return;}loadQuizBtn[_0x1b6da2(0x4c9)]=!![],loadQuizBtn['innerHTML']=_0x1b6da2(0x548);try{const _0x3d4ecd=doc(db,_0x1b6da2(0x672)+appId+'/public/data/quizzes',_0x489ce1),_0x2aae9b=await getDoc(_0x3d4ecd);if(!_0x2aae9b['exists']()){showMessage(_0x1b6da2(0x60f));return;}currentQuizData={'id':_0x2aae9b['id'],..._0x2aae9b['data']()};const _0x47a56a=currentQuizData[_0x1b6da2(0x71f)]||'active',_0x933722=new Date();if(_0x47a56a==='inactive'){showMessage(_0x1b6da2(0xd7));return;}if(_0x47a56a===_0x1b6da2(0xf3)){const _0x162a7e=currentQuizData[_0x1b6da2(0x732)]?new Date(currentQuizData[_0x1b6da2(0x732)]):null,_0xa606e9=currentQuizData[_0x1b6da2(0x674)]?new Date(currentQuizData[_0x1b6da2(0x674)]):null;if(_0x162a7e&&_0x933722<_0x162a7e){showMessage(_0x1b6da2(0x1f7)+_0x162a7e[_0x1b6da2(0x792)](_0x1b6da2(0x2e2),{'hour12':![]}));return;}if(_0xa606e9&&_0x933722>_0xa606e9){showMessage(_0x1b6da2(0x4d3));return;}}const _0x1c3bf8=currentQuizData[_0x1b6da2(0x605)];currentProjectId=_0x1c3bf8;const _0x46c642=doc(db,_0x1b6da2(0x672)+appId+_0x1b6da2(0x116),_0x1c3bf8),_0x34fbe5=await getDoc(_0x46c642);if(!_0x34fbe5[_0x1b6da2(0x438)]()){showMessage(_0x1b6da2(0x273));return;}const _0x5f112d=_0x34fbe5['data']();currentStudentProjectData=_0x5f112d,displayStudentNameSelector(_0x5f112d[_0x1b6da2(0x80d)],currentQuizData[_0x1b6da2(0x751)]);}catch(_0x3ebaf2){console['error'](_0x1b6da2(0x163),_0x3ebaf2),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x1b6da2(0x305)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x1ab06d=_0x576079,_0x694a3f=document[_0x1ab06d(0x613)](_0x1ab06d(0x312)),_0x333717=document[_0x1ab06d(0x613)]('nickname-input'),_0xabdf8b=document[_0x1ab06d(0x613)](_0x1ab06d(0x5eb)),_0x25234f=_0x694a3f['value'][_0x1ab06d(0x44a)](),_0x3e03a2=_0x333717[_0x1ab06d(0x75d)][_0x1ab06d(0x44a)]();if(!_0x25234f||!_0x3e03a2){showMessage(_0x1ab06d(0xce));return;}_0xabdf8b[_0x1ab06d(0x4c9)]=!![],_0xabdf8b[_0x1ab06d(0x305)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x33f56d=collection(db,_0x1ab06d(0x672)+appId+_0x1ab06d(0x6c2)),_0x5eb5ac=query(_0x33f56d,where(_0x1ab06d(0x5fe),'==',_0x25234f),where(_0x1ab06d(0x71f),'==',_0x1ab06d(0x124))),_0x5a061e=await getDocs(_0x5eb5ac);if(_0x5a061e[_0x1ab06d(0x5e8)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x3a9276=_0x5a061e[_0x1ab06d(0x301)][0x0],_0x2832b5=_0x3a9276['data']();currentLiveGameId=_0x3a9276['id'];const _0x1e6b8a=_0x2832b5[_0x1ab06d(0x462)],_0xa94d85=doc(db,_0x1ab06d(0x672)+appId+_0x1ab06d(0x617),_0x1e6b8a),_0x3115f2=await getDoc(_0xa94d85);if(!_0x3115f2['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x3115f2['id'],..._0x3115f2[_0x1ab06d(0xe3)]()};if(_0x2832b5[_0x1ab06d(0x9c)]&&_0x2832b5[_0x1ab06d(0x9c)][_0x3e03a2]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0xd86cd9={};_0xd86cd9[_0x1ab06d(0xa3)+_0x3e03a2]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x1ab06d(0x672)+appId+_0x1ab06d(0x6c2),currentLiveGameId),_0xd86cd9),currentStudentName=_0x3e03a2,listenForLiveGameUpdates();}catch(_0x2420f9){console['error'](_0x1ab06d(0x6ff),_0x2420f9),showMessage(_0x1ab06d(0x1dd));}finally{_0xabdf8b[_0x1ab06d(0x4c9)]=![],_0xabdf8b['innerHTML']=_0x1ab06d(0x5fc);}}function displayStudentNameSelector(_0x24242d,_0xc57e60){const _0x15b0b4=_0x576079,_0x76d26f=document[_0x15b0b4(0x613)](_0x15b0b4(0x70d));document[_0x15b0b4(0x613)](_0x15b0b4(0x534))[_0x15b0b4(0xe2)]=_0x15b0b4(0x403)+_0xc57e60,!_0x24242d||_0x24242d[_0x15b0b4(0x5dc)]===0x0?(_0x76d26f[_0x15b0b4(0x305)]=_0x15b0b4(0x842),startQuizBtn['disabled']=!![]):(_0x76d26f[_0x15b0b4(0x305)]=_0x15b0b4(0x636),_0x24242d[_0x15b0b4(0x570)](_0x177aeb=>{const _0xa014c8=_0x15b0b4,_0x411c09=document[_0xa014c8(0x83a)]('option');_0x411c09[_0xa014c8(0x75d)]=_0x177aeb,_0x411c09['textContent']=_0x177aeb,_0x76d26f[_0xa014c8(0x20f)](_0x411c09);}),startQuizBtn['disabled']=![]),studentInitialView['classList'][_0x15b0b4(0x4c0)]('hidden'),studentNameSelectionView[_0x15b0b4(0x7d0)][_0x15b0b4(0x699)](_0x15b0b4(0x580));}function shuffleArray(_0x4edae7){const _0x34be44=_0x576079;for(let _0x323a6a=_0x4edae7[_0x34be44(0x5dc)]-0x1;_0x323a6a>0x0;_0x323a6a--){const _0x2aa92b=Math[_0x34be44(0x452)](Math['random']()*(_0x323a6a+0x1));[_0x4edae7[_0x323a6a],_0x4edae7[_0x2aa92b]]=[_0x4edae7[_0x2aa92b],_0x4edae7[_0x323a6a]];}}function getShuffledQuiz(_0x514044){const _0x12dab8=_0x576079;let _0x411af3=JSON[_0x12dab8(0xdf)](JSON[_0x12dab8(0x4b3)](_0x514044));const _0x5a80b3=_0x411af3[_0x12dab8(0x45b)]?.[_0x12dab8(0x4c6)]||_0x12dab8(0x14d);if(_0x5a80b3===_0x12dab8(0x14d))return _0x411af3;return(_0x5a80b3==='questions_only'||_0x5a80b3===_0x12dab8(0x3ab))&&shuffleArray(_0x411af3[_0x12dab8(0x7cd)]),(_0x5a80b3==='choices_only'||_0x5a80b3===_0x12dab8(0x3ab))&&_0x411af3[_0x12dab8(0x7cd)][_0x12dab8(0x570)](_0x21d93d=>{const _0x5b18a4=_0x12dab8,_0x2015e0=_0x21d93d[_0x5b18a4(0x7f7)]||_0x411af3[_0x5b18a4(0x741)];if(_0x21d93d[_0x5b18a4(0x516)]){let _0x2805d0=_0x21d93d[_0x5b18a4(0x516)][_0x5b18a4(0xd0)]((_0x31d19c,_0x4e4d7b)=>({'text':_0x31d19c,'isCorrect':_0x4e4d7b===_0x21d93d[_0x5b18a4(0x62e)]}));shuffleArray(_0x2805d0),_0x21d93d[_0x5b18a4(0x516)]=_0x2805d0[_0x5b18a4(0xd0)](_0x588d27=>_0x588d27[_0x5b18a4(0x74a)]),_0x21d93d[_0x5b18a4(0x62e)]=_0x2805d0['findIndex'](_0x455b2b=>_0x455b2b[_0x5b18a4(0x31d)]);}_0x2015e0===_0x5b18a4(0x193)&&_0x21d93d[_0x5b18a4(0x27d)]&&shuffleArray(_0x21d93d[_0x5b18a4(0x27d)]);}),_0x411af3;}function displayQuizForStudent(_0x288c40){const _0x34731c=_0x576079;studentQuizArea[_0x34731c(0x7d0)][_0x34731c(0x699)](_0x34731c(0x580)),currentDisplayedQuiz=getShuffledQuiz(_0x288c40);currentMode!==_0x34731c(0x7df)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x34731c(0x489),handleFullscreenChange),document[_0x34731c(0x1e9)](_0x34731c(0x150),handleVisibilityChange),enterFullscreen(),window[_0x34731c(0x1e9)](_0x34731c(0x1a6),resetDimTimer),window[_0x34731c(0x1e9)](_0x34731c(0xf7),resetDimTimer),window[_0x34731c(0x1e9)](_0x34731c(0x281),resetDimTimer),window[_0x34731c(0x1e9)](_0x34731c(0x44e),resetDimTimer),resetDimTimer());const _0xa73c97=currentDisplayedQuiz[_0x34731c(0x45b)]?.[_0x34731c(0xbb)]||_0x34731c(0x14d);if(_0xa73c97==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x34731c(0x45b)]['timerDuration']);else _0xa73c97===_0x34731c(0x7b6)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x180dba=_0x576079;let _0x148774='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x180dba(0x586)+(currentMode===_0x180dba(0x7df)?_0x180dba(0x1f3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x180dba(0x7cd)]['forEach']((_0x44421e,_0x71a3c2)=>{const _0x47b5f7=_0x180dba,_0x577106=_0x44421e[_0x47b5f7(0x7f7)]||currentDisplayedQuiz[_0x47b5f7(0x741)];_0x148774+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x577106===_0x47b5f7(0x193)?_0x148774+=_0x47b5f7(0x6c5)+(_0x71a3c2+0x1)+'.\x20'+_0x44421e[_0x47b5f7(0x13f)]+_0x47b5f7(0x832)+_0x71a3c2+_0x47b5f7(0x7f3)+_0x44421e[_0x47b5f7(0x27d)]['map'](_0x1641fd=>'<option\x20value=\x22'+_0x1641fd+'\x22>'+_0x1641fd+'</option>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x148774+=_0x47b5f7(0x1fb)+(_0x71a3c2+0x1)+'.\x20'+(_0x44421e[_0x47b5f7(0x52e)]||_0x44421e[_0x47b5f7(0x4a9)])+_0x47b5f7(0x630),_0x44421e[_0x47b5f7(0x80a)]&&(_0x148774+=_0x47b5f7(0x6fd)+_0x44421e[_0x47b5f7(0x80a)]+'</div>'));_0x148774+=_0x47b5f7(0xb1);switch(_0x577106){case _0x47b5f7(0x380):_0x148774+=_0x47b5f7(0x258)+_0x71a3c2+_0x47b5f7(0x350);break;case _0x47b5f7(0x598):_0x148774+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x71a3c2+_0x47b5f7(0x335)+_0x71a3c2+_0x47b5f7(0x325)+_0x71a3c2+'_opt0\x22>ใช่</label></div>',_0x148774+=_0x47b5f7(0x6cc)+_0x71a3c2+_0x47b5f7(0x2cf)+_0x71a3c2+_0x47b5f7(0x197)+_0x71a3c2+_0x47b5f7(0x4e1);break;case _0x47b5f7(0x193):break;case'fill_in_the_blank':case _0x47b5f7(0x433):default:_0x148774+=_0x44421e[_0x47b5f7(0x516)]['map']((_0xa52250,_0x36bbca)=>_0x47b5f7(0x64a)+_0x71a3c2+_0x47b5f7(0x55c)+_0x36bbca+_0x47b5f7(0x5e2)+_0x71a3c2+_0x47b5f7(0x339)+_0x36bbca+_0x47b5f7(0x7b3)+_0x71a3c2+_0x47b5f7(0x55c)+_0x36bbca+'\x22>'+_0xa52250+_0x47b5f7(0x3ee))[_0x47b5f7(0x815)]('');break;}_0x148774+=_0x47b5f7(0x779);}),_0x148774+=_0x180dba(0x802),_0x148774+='</form>',studentQuizArea[_0x180dba(0x305)]=_0x148774;if(currentMode==='admin-testing'){const _0x3b9058=document[_0x180dba(0x613)](_0x180dba(0x81a));if(_0x3b9058)_0x3b9058[_0x180dba(0x1e9)](_0x180dba(0x475),cancelAdminTest);}document[_0x180dba(0x613)](_0x180dba(0x4a4))['addEventListener'](_0x180dba(0x23d),handleSubmitQuiz);if(window[_0x180dba(0x561)])window[_0x180dba(0x561)][_0x180dba(0x47e)]([studentQuizArea]);}async function handleSubmitQuiz(_0x35ef22){const _0x5055b1=_0x576079;if(_0x35ef22)_0x35ef22[_0x5055b1(0x1e1)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5ea11d=document[_0x5055b1(0x613)](_0x5055b1(0x4a4));if(!_0x5ea11d)return;const _0x2b9733=_0x5ea11d[_0x5055b1(0x18e)](_0x5055b1(0x58f)),_0x3cad21=currentDisplayedQuiz[_0x5055b1(0x7cd)]['some'](_0x345903=>_0x345903['questionType']===_0x5055b1(0x380));_0x2b9733&&(_0x2b9733[_0x5055b1(0x4c9)]=!![],_0x3cad21?_0x2b9733[_0x5055b1(0x305)]=_0x5055b1(0x5a8):_0x2b9733['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x2bbbb5=new FormData(_0x5ea11d),_0x426013=currentDisplayedQuiz['questions'][_0x5055b1(0xd0)]((_0x549c18,_0x46a4bb)=>{const _0x26ea99=_0x5055b1,_0x1d535b=_0x549c18[_0x26ea99(0x7f7)]||currentDisplayedQuiz['quizType'],_0x2540b2=_0x2bbbb5[_0x26ea99(0x432)]('question'+_0x46a4bb);if(_0x2540b2!==null&&_0x2540b2!==undefined){if(_0x1d535b===_0x26ea99(0x433)||_0x1d535b===_0x26ea99(0x4d0))return parseInt(_0x2540b2);return _0x2540b2;}return null;}),_0x3b52d1=currentQuizData['id'],_0x3c46d4=doc(db,_0x5055b1(0x672)+appId+'/public/data/quizzes/'+_0x3b52d1+_0x5055b1(0x3dd),currentStudentName),_0x463dd0=await getDoc(_0x3c46d4),_0x55d33b=_0x463dd0[_0x5055b1(0x438)]()?_0x463dd0[_0x5055b1(0xe3)]():{},_0x547e18=_0x55d33b[_0x5055b1(0x677)]||[];await processAndSubmitAnswers(_0x426013,_0x547e18);}async function gradeShortAnswerWithAI(_0x57cad4,_0x56206b){const _0x5e5ea7=_0x576079;if(!_0x57cad4||!_0x56206b)return![];try{const _0x12a1b2='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x57cad4+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x56206b+_0x5e5ea7(0x33a),_0x563f9c={'contents':[{'role':_0x5e5ea7(0x840),'parts':[{'text':_0x12a1b2}]}]},_0x3b8d95='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x38654b=_0x5e5ea7(0x79e)+_0x3b8d95,_0x3c6a24=await fetch(_0x38654b,{'method':_0x5e5ea7(0x56c),'headers':{'Content-Type':_0x5e5ea7(0x481)},'body':JSON[_0x5e5ea7(0x4b3)](_0x563f9c)});if(!_0x3c6a24['ok'])throw new Error(_0x5e5ea7(0x104));const _0x4f54df=await _0x3c6a24[_0x5e5ea7(0x4fa)](),_0x3ba51b=_0x4f54df[_0x5e5ea7(0x4f0)][0x0][_0x5e5ea7(0xcc)]['parts'][0x0][_0x5e5ea7(0x74a)][_0x5e5ea7(0x44a)]()['toLowerCase']();return _0x3ba51b===_0x5e5ea7(0x7d4);}catch(_0x502b91){return console[_0x5e5ea7(0x6a9)](_0x5e5ea7(0x6d7),_0x502b91),![];}}async function processAndSubmitAnswers(_0x14177b,_0x465367){const _0x49df74=_0x576079;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x49df74(0x6c4)]('fullscreenchange',handleFullscreenChange),document[_0x49df74(0x6c4)](_0x49df74(0x150),handleVisibilityChange);let _0x17204c=0x0,_0xbc0d09=0x0,_0x257ea3=[];const _0x1aee8=[],_0x3b0cc5=currentDisplayedQuiz[_0x49df74(0x7cd)][_0x49df74(0x5dc)];let _0x1b0fc3=0x0;const _0x4063eb=currentDisplayedQuiz[_0x49df74(0x7cd)];for(let _0x2e15cc=0x0;_0x2e15cc<_0x4063eb[_0x49df74(0x5dc)];_0x2e15cc++){const _0x5d659e=_0x4063eb[_0x2e15cc],_0x740689=_0x14177b[_0x2e15cc],_0x27e253=_0x5d659e[_0x49df74(0x7f7)]||currentDisplayedQuiz[_0x49df74(0x741)];let _0x2c5013=![];if(_0x740689!==null&&_0x740689!=='')switch(_0x27e253){case _0x49df74(0x193):_0x2c5013=_0x740689===_0x5d659e[_0x49df74(0x6ea)];break;case'true_false':const _0x251b9c=_0x740689===!![]||_0x740689===_0x49df74(0x7d4);_0x2c5013=_0x251b9c===_0x5d659e[_0x49df74(0x619)];break;case'fill_in_the_blank':case'multiple_choice':default:_0x2c5013=Number(_0x740689)===_0x5d659e[_0x49df74(0x62e)];break;case _0x49df74(0x380):_0x2c5013=await gradeShortAnswer(_0x740689,_0x5d659e);break;}_0x2c5013?(_0x17204c++,_0x1b0fc3++,_0x1b0fc3===0x3&&(_0x257ea3[_0x49df74(0x6a6)](BADGES[_0x49df74(0x3f2)]['id']),_0x1b0fc3=0x0)):_0x1b0fc3=0x0;let _0x4eb82c=null;_0x5d659e[_0x49df74(0x516)]&&_0x740689!==null&&(_0x4eb82c=_0x5d659e[_0x49df74(0x516)][_0x740689]),_0x1aee8[_0x49df74(0x6a6)]({'questionId':_0x5d659e['id'],'answer':_0x740689,'answerText':_0x4eb82c,'isCorrect':_0x2c5013,'originalQuestionText':_0x5d659e[_0x49df74(0x13f)]||_0x5d659e[_0x49df74(0x4a9)]});}_0xbc0d09=_0x17204c*0xa;_0x17204c===_0x3b0cc5&&_0x3b0cc5>0x0&&!currentDisplayedQuiz[_0x49df74(0x100)]&&(_0xbc0d09+=0x32,_0x257ea3[_0x49df74(0x6a6)](BADGES[_0x49df74(0x88)]['id']));const _0x430597=currentDisplayedQuiz[_0x49df74(0x45b)]?.[_0x49df74(0x48b)]??Math[_0x49df74(0x452)](_0x3b0cc5/0x2),_0xcd0d1d=currentDisplayedQuiz[_0x49df74(0x45b)]?.[_0x49df74(0xbb)];if(_0xcd0d1d===_0x49df74(0x7cf)&&quizStartTime){const _0x4ac843=(new Date()-quizStartTime)/0x3e8,_0x4360a8=currentDisplayedQuiz[_0x49df74(0x45b)][_0x49df74(0x7c0)]*0x3c;_0x17204c>=_0x430597&&_0x4ac843<_0x4360a8/0x2&&(_0xbc0d09+=0x14,_0x257ea3[_0x49df74(0x6a6)](BADGES['QUICK_THINKER']['id']));}_0x465367[_0x49df74(0x5dc)]===0x0&&_0x17204c===_0x3b0cc5&&_0x3b0cc5>0x0&&_0x257ea3[_0x49df74(0x6a6)](BADGES[_0x49df74(0x83b)]['id']);if(_0x465367[_0x49df74(0x5dc)]>0x0){const _0x54c921=_0x465367[0x0]['score'];if(_0x54c921<_0x430597&&_0x17204c>=_0x430597){const _0x24d647=_0x465367[_0x49df74(0x669)](_0x2a834b=>(_0x2a834b[_0x49df74(0x511)]||[])[_0x49df74(0x353)](BADGES[_0x49df74(0x599)]['id']));!_0x24d647&&_0x257ea3[_0x49df74(0x6a6)](BADGES['COMEBACK_KING']['id']);}}_0x465367[_0x49df74(0x5dc)]===0x4&&_0x257ea3['push'](BADGES[_0x49df74(0x560)]['id']);const _0x2be250=currentDisplayedQuiz[_0x49df74(0x45b)][_0x49df74(0x584)];if(currentMode==='admin-testing'){handleResultDisplay(_0x2be250,_0x17204c,_0xbc0d09,_0x257ea3,_0x1aee8,_0x3b0cc5);return;}const _0x472488=currentQuizData['id'],_0x9e808e=doc(db,_0x49df74(0x672)+appId+'/public/data/quizzes/'+_0x472488+'/submissions',currentStudentName);try{const _0x2e2c4a=[..._0x465367],_0x17d7ea={'score':_0x17204c,'points':_0xbc0d09,'badges':_0x257ea3,'submittedAt':new Date()[_0x49df74(0x405)](),'answers':_0x1aee8};_0x2e2c4a[_0x49df74(0x6a6)](_0x17d7ea);const _0x187dbc=_0x2e2c4a[0x0][_0x49df74(0x190)],_0x2192cd=Math['max'](..._0x2e2c4a[_0x49df74(0xd0)](_0x483fa5=>_0x483fa5[_0x49df74(0x190)])),_0x5e2a10=_0x17204c,_0x2f3a75=_0x17d7ea[_0x49df74(0x41a)];await setDoc(_0x9e808e,{'studentName':currentStudentName,'totalQuestions':_0x3b0cc5,'attempts':_0x2e2c4a,'firstScore':_0x187dbc,'bestScore':_0x2192cd,'latestScore':_0x5e2a10,'points':_0xbc0d09,'latestSubmittedAt':_0x2f3a75},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x2be250,_0x17204c,_0xbc0d09,_0x257ea3,_0x1aee8,_0x3b0cc5);}catch(_0x1b8764){console[_0x49df74(0x6a9)](_0x49df74(0x59e),_0x1b8764),showMessage(_0x49df74(0x69a));}}async function updateStudentProfile(_0x5b103a,_0x18e9e3){const _0x5d098d=_0x576079,_0x5bbbdb=doc(db,_0x5d098d(0x672)+appId+_0x5d098d(0x82f)+_0x5b103a+_0x5d098d(0x39c),_0x18e9e3);try{const _0x408040=query(collection(db,_0x5d098d(0x672)+appId+_0x5d098d(0x617)),where('projectId','==',_0x5b103a)),_0x3905f1=await getDocs(_0x408040),_0x56218d=new Map(_0x3905f1['docs'][_0x5d098d(0xd0)](_0x3e40a4=>[_0x3e40a4['id'],_0x3e40a4[_0x5d098d(0xe3)]()])),_0x18f304=Array[_0x5d098d(0x4c4)](_0x56218d[_0x5d098d(0x521)]());await runTransaction(db,async _0x4ce875=>{const _0x11dd60=_0x5d098d;let _0xf951f3=0x0;const _0x18daa6={};let _0x56e695=!![],_0x162503=0x0,_0x4118a5=0x0;for(const _0x368986 of _0x18f304){const _0x4ff744=_0x56218d[_0x11dd60(0x432)](_0x368986),_0x51dfe3=doc(db,'artifacts/'+appId+_0x11dd60(0x6d4)+_0x368986+'/submissions',_0x18e9e3),_0x2409c8=await _0x4ce875[_0x11dd60(0x432)](_0x51dfe3);if(_0x2409c8['exists']()){const _0x3ccb10=_0x2409c8[_0x11dd60(0xe3)](),_0x18acfa=_0x3ccb10[_0x11dd60(0x677)]||[];if(_0x18acfa[_0x11dd60(0x5dc)]>0x0){const _0x214aed=_0x18acfa[_0x11dd60(0x797)]((_0x179938,_0x3eefc7)=>{const _0x236167=_0x11dd60;if(_0x3eefc7[_0x236167(0x190)]>_0x179938[_0x236167(0x190)])return _0x3eefc7;if(_0x3eefc7['score']===_0x179938['score'])return(_0x3eefc7[_0x236167(0x2bf)]||0x0)>(_0x179938[_0x236167(0x2bf)]||0x0)?_0x3eefc7:_0x179938;return _0x179938;},{'score':-0x1,'points':-0x1});_0x214aed[_0x11dd60(0x190)]>-0x1&&(_0xf951f3+=_0x214aed[_0x11dd60(0x2bf)]||0x0,(_0x214aed[_0x11dd60(0x511)]||[])[_0x11dd60(0x570)](_0x456517=>{_0x18daa6[_0x456517]=(_0x18daa6[_0x456517]||0x0)+0x1;}));}}if(_0x4ff744[_0x11dd60(0x751)]!==_0x11dd60(0x1ed)){_0x4118a5++;if(_0x2409c8[_0x11dd60(0x438)]()){_0x162503++;const _0x8b62a8=_0x2409c8[_0x11dd60(0xe3)]();_0x8b62a8[_0x11dd60(0x44b)]!==_0x8b62a8[_0x11dd60(0x2a3)]&&(_0x56e695=![]);}else _0x56e695=![];}}_0x4118a5>0x0&&_0x162503===_0x4118a5&&_0x56e695?_0x18daa6[_0x11dd60(0x211)]=0x1:_0x18daa6['specialist']=0x0,_0x4ce875[_0x11dd60(0x3d8)](_0x5bbbdb,{'studentName':_0x18e9e3,'totalPoints':_0xf951f3,'unlockedBadges':Object[_0x11dd60(0x521)](_0x18daa6)[_0x11dd60(0x149)](_0x5932a3=>_0x18daa6[_0x5932a3]>0x0),'badgesCount':_0x18daa6},{'merge':!![]});});}catch(_0xde5ec3){console[_0x5d098d(0x6a9)](_0x5d098d(0x7dc),_0xde5ec3),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x13ba74=_0x576079;if(!currentQuizData){showMessage(_0x13ba74(0x726));return;}let _0x4ba997=JSON[_0x13ba74(0xdf)](JSON[_0x13ba74(0x4b3)](currentQuizData));currentMode=_0x13ba74(0x7df),currentStudentName=_0x13ba74(0x3bc),adminView['classList'][_0x13ba74(0x4c0)](_0x13ba74(0x580)),studentView[_0x13ba74(0x7d0)][_0x13ba74(0x699)](_0x13ba74(0x580)),studentInitialView[_0x13ba74(0x7d0)]['add'](_0x13ba74(0x580)),studentNameSelectionView[_0x13ba74(0x7d0)][_0x13ba74(0x4c0)]('hidden'),studentResultArea[_0x13ba74(0x7d0)]['add'](_0x13ba74(0x580)),studentQuizArea[_0x13ba74(0x7d0)][_0x13ba74(0x699)](_0x13ba74(0x580)),quizStartTime=new Date(),displayQuizForStudent(_0x4ba997);}function handleResultDisplay(_0x4c6dd2,_0xbbf9ce,_0x5632fe,_0x1ec5a0,_0x1b7b8f,_0x174cf2){const _0x535daf=_0x576079;if(_0x4c6dd2==='manual_release'){displaySubmissionConfirmation();return;}const _0x2e49cd=currentDisplayedQuiz[_0x535daf(0x45b)]?.[_0x535daf(0x48b)]??Math[_0x535daf(0x452)](_0x174cf2/0x2),_0x596017=currentDisplayedQuiz[_0x535daf(0x45b)]?.[_0x535daf(0x6ce)]??![],_0x1252e4=currentDisplayedQuiz[_0x535daf(0x45b)]?.[_0x535daf(0x579)]===!![],_0x33071e=_0xbbf9ce<_0x2e49cd,_0x5d5d1f=_0x4c6dd2===_0x535daf(0x37c)||_0x4c6dd2==='perfect_score_status';if(_0x1252e4&&_0x33071e&&!_0x5d5d1f){_0x4c6dd2===_0x535daf(0x81f)?displayResultsWithAnswers(_0xbbf9ce,_0x5632fe,_0x1ec5a0,_0x1b7b8f,_0x174cf2,!![]):displayLoopScreen(_0xbbf9ce,_0x174cf2,_0x4c6dd2);return;}if(_0x596017&&_0x33071e){startAdaptiveFlow(_0x1b7b8f,_0xbbf9ce,_0x174cf2);return;}switch(_0x4c6dd2){case _0x535daf(0x81f):displayResultsWithAnswers(_0xbbf9ce,_0x5632fe,_0x1ec5a0,_0x1b7b8f,_0x174cf2);break;case _0x535daf(0x1ae):displayResultsScoreOnly(_0xbbf9ce,_0x5632fe,_0x1ec5a0,_0x174cf2);break;case'show_pass_fail_only':displayPassFailOnly(_0xbbf9ce,_0x174cf2);break;case _0x535daf(0x37c):displayHalfMarkResult(_0xbbf9ce,_0x174cf2);break;case'perfect_score_status':displayPerfectScoreResult(_0xbbf9ce,_0x174cf2);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x12534c){const _0x4b1b81=_0x576079;studentReadingArea[_0x4b1b81(0x305)]=_0x4b1b81(0x35e);const _0x1a9356=_0x4b1b81(0x638)+_0x12534c+_0x4b1b81(0x5af)+simpleMathPrompt+_0x4b1b81(0x558),_0x5717c9={'type':'OBJECT','properties':{'questionText':{'type':_0x4b1b81(0x6b3)},'options':{'type':_0x4b1b81(0x656),'items':{'type':_0x4b1b81(0x6b3)}},'correctAnswerIndex':{'type':_0x4b1b81(0x67d)},'explanation':{'type':'STRING'}},'required':[_0x4b1b81(0x4a9),_0x4b1b81(0x516),_0x4b1b81(0x62e),_0x4b1b81(0x362)]},_0x5cf7fa={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4b1b81(0x656),'items':_0x5717c9}},'required':[_0x4b1b81(0x751),_0x4b1b81(0x7cd)]};try{const _0x395cb0=await callAnalysisApi(_0x1a9356,_0x5cf7fa);_0x395cb0[_0x4b1b81(0x100)]=!![],studentReadingArea[_0x4b1b81(0x7d0)][_0x4b1b81(0x4c0)](_0x4b1b81(0x580));const _0x5e6f59={...currentDisplayedQuiz[_0x4b1b81(0x45b)],'isAdaptive':![],'resultsDisplay':_0x4b1b81(0x81f)};_0x395cb0[_0x4b1b81(0x45b)]=_0x5e6f59,displayQuizForStudent(_0x395cb0);}catch(_0x138c36){console['error'](_0x4b1b81(0x219),_0x138c36),showMessage(_0x4b1b81(0x7bf)),showView('student');}}function displayPassFailOnly(_0x2fb7d0,_0x568132){const _0x3639de=_0x576079,_0x17f6b2=currentDisplayedQuiz[_0x3639de(0x45b)]?.['passingScore']??-0x1,_0x33467e=currentDisplayedQuiz['isRemedial']===!![];let _0xedeb22='',_0x56b355=![];if(_0x33467e||_0x17f6b2!==-0x1){_0x56b355=_0x33467e?_0x2fb7d0===_0x568132:_0x2fb7d0>=_0x17f6b2;const _0x2cced0=_0x56b355?_0x3639de(0x1e2):_0x3639de(0x7e4),_0x694a78=_0x56b355?_0x3639de(0x45d):_0x3639de(0x57e);_0xedeb22=_0x3639de(0xed)+_0x2cced0+'\x22>'+_0x694a78+_0x3639de(0x788);}else _0xedeb22='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x590271=_0x3639de(0x767)+currentStudentName+_0x3639de(0x32f)+_0xedeb22+_0x3639de(0x600);studentResultArea['innerHTML']=_0x590271,studentResultArea['classList'][_0x3639de(0x699)](_0x3639de(0x580)),studentQuizArea['classList'][_0x3639de(0x4c0)](_0x3639de(0x580)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x56b355});}function cancelAdminTest(){const _0x387387=_0x576079;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x387387(0x489),handleFullscreenChange),document['removeEventListener'](_0x387387(0x150),handleVisibilityChange),currentMode='admin',studentView[_0x387387(0x7d0)]['add'](_0x387387(0x580)),adminView[_0x387387(0x7d0)][_0x387387(0x699)](_0x387387(0x580)),showView('project-detail');}function setupResultScreenBackButton(_0x47a832){const _0xe4f45=_0x576079,_0x4c7191={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x47a832};if(_0x4c7191['isLooping']){const _0x18385d=_0xe4f45(0x209);studentResultArea['insertAdjacentHTML'](_0xe4f45(0x447),_0x18385d),document[_0xe4f45(0x613)]('retake-quiz-loop-btn')[_0xe4f45(0x1e9)]('click',()=>{const _0x2cbb67=_0xe4f45;studentResultArea[_0x2cbb67(0x7d0)][_0x2cbb67(0x4c0)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5bfd8c=_0xe4f45(0x272),_0x45ac92=currentMode===_0xe4f45(0x7df),_0x1f708a=_0x45ac92?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x2552bb='';_0x4c7191[_0xe4f45(0x4a3)]&&(_0x2552bb+=_0xe4f45(0x6b2));let _0x4704f3=_0x4c7191[_0xe4f45(0x500)];_0x4704f3===undefined&&(_0x4704f3=_0x4c7191['score']<_0x4c7191[_0xe4f45(0x2a3)]);_0x4704f3&&(_0x2552bb+=_0xe4f45(0x3fe));_0x2552bb+=_0xe4f45(0x7e8)+_0x5bfd8c+_0xe4f45(0x4fc)+_0x1f708a+_0xe4f45(0x49e);const _0x1ff38a='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x2552bb+_0xe4f45(0x4bb);studentResultArea[_0xe4f45(0x96)](_0xe4f45(0x447),_0x1ff38a),studentResultArea[_0xe4f45(0x18e)](_0xe4f45(0x170))?.['addEventListener']('click',handleShowStudentRankings);const _0x10490b=studentResultArea[_0xe4f45(0x18e)](_0xe4f45(0x117));_0x10490b&&_0x10490b[_0xe4f45(0x1e9)](_0xe4f45(0x475),()=>{const _0x59670a=_0xe4f45;studentResultArea[_0x59670a(0x7d0)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xe4f45(0x613)](_0x5bfd8c)['addEventListener']('click',()=>{const _0x166a4a=_0xe4f45;_0x45ac92?(currentMode=_0x166a4a(0x82b),studentView[_0x166a4a(0x7d0)]['add'](_0x166a4a(0x580)),adminView['classList']['remove'](_0x166a4a(0x580)),showView('project-detail')):(showView(_0x166a4a(0x6e9)),document['getElementById'](_0x166a4a(0x678))[_0x166a4a(0x75d)]='');});}function displayResultsWithAnswers(_0x20516f,_0x583f13,_0x49e513,_0x59252b,_0x380d47,_0x1868df=![]){const _0xc05961=_0x576079,_0x40721e=_0x380d47>0x0?_0x20516f/_0x380d47*0x64:0x0,_0x4fa366=currentDisplayedQuiz[_0xc05961(0x45b)]?.['passingScore']??-0x1,_0x50cf9c=currentDisplayedQuiz[_0xc05961(0x100)]===!![];let _0x5602db='';if(_0x50cf9c||_0x4fa366!==-0x1){let _0x1a3c11=_0x50cf9c?_0x20516f===_0x380d47:_0x20516f>=_0x4fa366;const _0x40aeb5=_0x1a3c11?_0xc05961(0x1e2):_0xc05961(0x7e4),_0x55d39f=_0x1a3c11?_0xc05961(0x45d):_0xc05961(0x57e);_0x5602db='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x40aeb5+'\x22>'+_0x55d39f+_0xc05961(0x630);}let _0x1ed679='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x20516f+_0xc05961(0x22e)+_0x380d47+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5602db+_0xc05961(0x787)+_0x583f13+_0xc05961(0x404)+_0x40721e[_0xc05961(0x25e)](0x0)+_0xc05961(0x6ec);currentDisplayedQuiz[_0xc05961(0x7cd)][_0xc05961(0x570)]((_0x58682e,_0x4708da)=>{const _0x4932b5=_0xc05961,_0x470aff=_0x59252b[_0x4708da],_0x31165f=_0x470aff[_0x4932b5(0x7f5)],_0x220827=_0x470aff['isCorrect'],_0x12175b=_0x58682e[_0x4932b5(0x7f7)]||currentDisplayedQuiz[_0x4932b5(0x741)];_0x1ed679+=_0x4932b5(0x155)+(_0x220827?_0x4932b5(0x1a2):_0x4932b5(0x3a4))+_0x4932b5(0x342)+(_0x4708da+0x1)+'.\x20'+(_0x58682e[_0x4932b5(0x13f)]||_0x58682e[_0x4932b5(0x4a9)])+_0x4932b5(0x25a);switch(_0x12175b){case _0x4932b5(0x193):const _0x59c972=_0x31165f||_0x4932b5(0x55f),_0x37fc46=_0x58682e['correctResponse'];_0x1ed679+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x220827?_0x4932b5(0x4cd):'')+'\x22>'+_0x59c972+_0x4932b5(0x7ad);!_0x220827&&(_0x1ed679+=_0x4932b5(0x3d6)+_0x37fc46+'</p>');break;case _0x4932b5(0x380):_0x1ed679+=_0x4932b5(0x5b5)+(_0x31165f||_0x4932b5(0x55f))+_0x4932b5(0x630),_0x1ed679+=_0x4932b5(0x46f)+_0x58682e[_0x4932b5(0x89)]+_0x4932b5(0x630);break;case _0x4932b5(0x598):_0x1ed679+=_0x4932b5(0x8c)+(_0x58682e[_0x4932b5(0x619)]===!![]?_0x4932b5(0x83f):'')+'\x20'+(_0x31165f===_0x4932b5(0x7d4)&&!_0x220827?'line-through\x20text-red-700':'')+_0x4932b5(0x1d6),_0x1ed679+=_0x4932b5(0x8c)+(_0x58682e[_0x4932b5(0x619)]===![]?_0x4932b5(0x83f):'')+'\x20'+(_0x31165f===_0x4932b5(0xfd)&&!_0x220827?_0x4932b5(0x4cd):'')+_0x4932b5(0x166);break;default:_0x1ed679+=_0x58682e[_0x4932b5(0x516)]['map']((_0x2cde3d,_0x212877)=>{const _0x576a93=_0x4932b5;let _0x540fd0='',_0x2f1f2d='';if(_0x212877===_0x58682e[_0x576a93(0x62e)])_0x540fd0=_0x576a93(0x83f),_0x2f1f2d=_0x576a93(0x5a0);else _0x212877===_0x31165f&&(_0x540fd0='font-bold\x20text-red-700\x20line-through',_0x2f1f2d=_0x576a93(0x794));return _0x576a93(0x507)+_0x540fd0+'\x22>'+_0x2f1f2d+_0x2cde3d+_0x576a93(0x4bb);})[_0x4932b5(0x815)]('');break;}_0x1ed679+=_0x4932b5(0x2fa)+(_0x58682e[_0x4932b5(0x362)]||_0x4932b5(0x81e))+'</div>';if(!_0x220827){const _0x1f31c8=_0x58682e[_0x4932b5(0x13f)]||_0x58682e[_0x4932b5(0x4a9)];_0x1ed679+=_0x4932b5(0x3af)+escape(_0x1f31c8)+_0x4932b5(0x1bf);}_0x1ed679+='</div>';}),studentResultArea[_0xc05961(0x305)]=_0x1ed679,renderEarnedBadges(_0x49e513,'earned-badges-container'),studentResultArea[_0xc05961(0x7d0)][_0xc05961(0x699)](_0xc05961(0x580)),studentQuizArea['classList'][_0xc05961(0x4c0)](_0xc05961(0x580)),setupResultScreenBackButton({'isLooping':_0x1868df,'score':_0x20516f,'totalQuestions':_0x380d47,'showRankings':!![]});if(window[_0xc05961(0x561)])window['MathJax'][_0xc05961(0x47e)]([studentResultArea]);}function _0x1b40(_0x534aad,_0x4d883b){const _0x24bdee=_0x24bd();return _0x1b40=function(_0x1b406f,_0x3d139d){_0x1b406f=_0x1b406f-0x85;let _0x164145=_0x24bdee[_0x1b406f];return _0x164145;},_0x1b40(_0x534aad,_0x4d883b);}function displayResultsScoreOnly(_0x42c25f,_0x36c0ce,_0x786831,_0x23cc68){const _0x5bd40b=_0x576079,_0x12e7ef=_0x23cc68>0x0?_0x42c25f/_0x23cc68*0x64:0x0,_0x31d414=currentDisplayedQuiz[_0x5bd40b(0x45b)]?.[_0x5bd40b(0x48b)]??-0x1,_0x24c50d=currentDisplayedQuiz[_0x5bd40b(0x100)]===!![];let _0x397c48='';if(_0x24c50d||_0x31d414!==-0x1){let _0x121ef0=_0x24c50d?_0x42c25f===_0x23cc68:_0x42c25f>=_0x31d414;const _0x135c2c=_0x121ef0?'bg-green-100\x20text-green-800':_0x5bd40b(0x7e4),_0x4fcffd=_0x121ef0?'ผ่าน':_0x5bd40b(0x57e);_0x397c48=_0x5bd40b(0x218)+_0x135c2c+'\x22>'+_0x4fcffd+_0x5bd40b(0x630);}let _0x2127a4=_0x5bd40b(0x767)+currentStudentName+_0x5bd40b(0x6e4)+_0x42c25f+_0x5bd40b(0x208)+_0x23cc68+_0x5bd40b(0x329)+_0x397c48+_0x5bd40b(0x787)+_0x36c0ce+_0x5bd40b(0x552)+_0x12e7ef[_0x5bd40b(0x25e)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x5bd40b(0x305)]=_0x2127a4,renderEarnedBadges(_0x786831,_0x5bd40b(0x65c)),studentResultArea[_0x5bd40b(0x7d0)][_0x5bd40b(0x699)](_0x5bd40b(0x580)),studentQuizArea['classList'][_0x5bd40b(0x4c0)](_0x5bd40b(0x580)),setupResultScreenBackButton({'score':_0x42c25f,'totalQuestions':_0x23cc68,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x2665fc=_0x576079;let _0x465966=_0x2665fc(0x1d4)+currentStudentName+_0x2665fc(0x1de);studentResultArea['innerHTML']=_0x465966,studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x2665fc(0x7d0)]['add'](_0x2665fc(0x580)),document[_0x2665fc(0x613)](_0x2665fc(0x472))[_0x2665fc(0x1e9)](_0x2665fc(0x475),()=>{const _0x7b93dc=_0x2665fc;showView('student'),document[_0x7b93dc(0x613)]('quiz-id-input')[_0x7b93dc(0x75d)]='';});}function renderEarnedBadges(_0x407aec,_0x5b2a01){const _0x214eef=_0x576079,_0x299917=document[_0x214eef(0x613)](_0x5b2a01);if(!_0x299917||!_0x407aec||_0x407aec[_0x214eef(0x5dc)]===0x0)return;let _0xae2b40='';_0x407aec[_0x214eef(0x570)]((_0x5ed08d,_0xe36093)=>{const _0x479781=_0x214eef,_0x4795bd=Object[_0x479781(0x49d)](BADGES)[_0x479781(0x703)](_0x3cc7f6=>_0x3cc7f6['id']===_0x5ed08d);_0x4795bd&&(_0xae2b40+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0xe36093*0.2+_0x479781(0xaa)+_0x4795bd['description']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x4795bd[_0x479781(0x276)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x4795bd[_0x479781(0x386)]+_0x479781(0x445));}),_0x299917['innerHTML']=_0xae2b40;}function startPresentation(_0x4b6b82){const _0x4df9a1=_0x576079;currentQuizData=getShuffledQuiz(_0x4b6b82),currentPresentationSlide=0x0,presentationModal[_0x4df9a1(0x93)]['display']=_0x4df9a1(0x48d),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1ced1d=_0x576079;document[_0x1ced1d(0x79c)]&&document[_0x1ced1d(0x2c1)](),presentationModal[_0x1ced1d(0x93)]['display']=_0x1ced1d(0x14d);}function renderPresentationSlide(_0x200a9c){const _0x24abb6=_0x576079,_0x467da0=document['getElementById'](_0x24abb6(0x705));if(!currentQuizData||!currentQuizData[_0x24abb6(0x7cd)]||!currentQuizData[_0x24abb6(0x7cd)][_0x200a9c]){_0x467da0[_0x24abb6(0x305)]=_0x24abb6(0x700);return;}const _0x148887=currentQuizData[_0x24abb6(0x7cd)][_0x200a9c],_0x2d30f1=_0x148887[_0x24abb6(0x7f7)]||currentQuizData[_0x24abb6(0x741)];_0x467da0['innerHTML']='';let _0x594ecd=_0x24abb6(0x5c4)+(_0x148887[_0x24abb6(0x80a)]?_0x24abb6(0x6fd)+_0x148887['imageCode']+_0x24abb6(0x4bb):'')+_0x24abb6(0x576)+(_0x200a9c+0x1)+'.\x20'+(_0x148887['stem']||_0x148887[_0x24abb6(0x4a9)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2d30f1){case _0x24abb6(0x193):_0x594ecd+=_0x148887[_0x24abb6(0x27d)][_0x24abb6(0xd0)](_0x579337=>_0x24abb6(0x168)+_0x579337+_0x24abb6(0x692))[_0x24abb6(0x815)]('');break;case _0x24abb6(0x598):_0x594ecd+=_0x24abb6(0x706),_0x594ecd+=_0x24abb6(0x7ec);break;case'fill_in_no_choices':case _0x24abb6(0x380):_0x594ecd+=_0x24abb6(0xcf);break;case'fill_in_the_blank':case _0x24abb6(0x433):default:_0x594ecd+=_0x148887[_0x24abb6(0x516)][_0x24abb6(0xd0)]((_0x5862b7,_0x2c1109)=>_0x24abb6(0x292)+_0x2c1109+_0x24abb6(0xae)+_0x5862b7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x24abb6(0x815)]('');break;}_0x594ecd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x148887[_0x24abb6(0x362)]||_0x24abb6(0x81e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x467da0['innerHTML']=_0x594ecd;if(window[_0x24abb6(0x561)])window[_0x24abb6(0x561)][_0x24abb6(0x47e)]([_0x467da0]);document['querySelectorAll'](_0x24abb6(0x17a))[_0x24abb6(0x570)](_0x3b390f=>{const _0x59f6d4=_0x24abb6;_0x3b390f[_0x59f6d4(0x1e9)](_0x59f6d4(0x475),_0x224833=>revealAnswerForPresentation(_0x200a9c,_0x224833[_0x59f6d4(0x6a2)]));});const _0x1ad5c8=document[_0x24abb6(0x613)](_0x24abb6(0x6a4));_0x1ad5c8&&_0x1ad5c8[_0x24abb6(0x1e9)]('click',()=>checkShortAnswerForPresentation(_0x200a9c)),document[_0x24abb6(0x613)](_0x24abb6(0x54e))[_0x24abb6(0xe2)]=_0x24abb6(0x92)+(_0x200a9c+0x1)+_0x24abb6(0x515)+currentQuizData[_0x24abb6(0x7cd)][_0x24abb6(0x5dc)],document[_0x24abb6(0x613)]('prev-question-btn')[_0x24abb6(0x4c9)]=_0x200a9c===0x0,document['getElementById']('next-question-btn')[_0x24abb6(0x4c9)]=_0x200a9c===currentQuizData[_0x24abb6(0x7cd)][_0x24abb6(0x5dc)]-0x1;}async function checkShortAnswerForPresentation(_0x25c653){const _0x11638f=_0x576079,_0xe13fcf=currentQuizData[_0x11638f(0x7cd)][_0x25c653],_0x2ee8e2=document['getElementById'](_0x11638f(0x126)),_0x46d1c4=document[_0x11638f(0x613)](_0x11638f(0x6a4)),_0x402a41=document[_0x11638f(0x613)](_0x11638f(0x6f6)),_0x4b5fc2=document[_0x11638f(0x613)](_0x11638f(0x372));if(!_0x2ee8e2||!_0x46d1c4||!_0x402a41||!_0x4b5fc2)return;const _0xa81b56=_0x2ee8e2[_0x11638f(0x75d)][_0x11638f(0x44a)]();if(_0xa81b56==='')return;_0x46d1c4[_0x11638f(0x4c9)]=!![],_0x46d1c4[_0x11638f(0x305)]=_0x11638f(0x192),_0x2ee8e2[_0x11638f(0x4c9)]=!![];const _0x5e73da=await gradeShortAnswer(_0xa81b56,_0xe13fcf);_0x5e73da?_0x402a41[_0x11638f(0x305)]=_0x11638f(0x58b):_0x402a41['innerHTML']=_0x11638f(0x488)+_0xe13fcf[_0x11638f(0x89)]+')',_0x402a41['classList']['remove']('hidden'),_0x4b5fc2['classList'][_0x11638f(0x699)](_0x11638f(0x580)),_0x46d1c4[_0x11638f(0x7d0)][_0x11638f(0x4c0)](_0x11638f(0x580));}function revealAnswerForPresentation(_0x3be9c1,_0x36ec64){const _0x51026d=_0x576079,_0x3196e2=currentQuizData[_0x51026d(0x7cd)][_0x3be9c1],_0x1e186f=_0x3196e2['questionType']||currentQuizData[_0x51026d(0x741)];document[_0x51026d(0x20e)](_0x51026d(0x17a))['forEach'](_0x1afccb=>{const _0xef5b13=_0x51026d;_0x1afccb['disabled']=!![],_0x1afccb[_0xef5b13(0x7d0)][_0xef5b13(0x699)](_0xef5b13(0x321));let _0x3b4a0e=![];if(_0x1e186f==='multiple_choice'||_0x1e186f===_0xef5b13(0x4d0)){const _0x2de226=parseInt(_0x1afccb[_0xef5b13(0x663)]['index']);_0x3b4a0e=_0x2de226===_0x3196e2[_0xef5b13(0x62e)];}else{if(_0x1e186f===_0xef5b13(0x598)){const _0x31db5d=_0x1afccb['dataset'][_0xef5b13(0x7f5)]===_0xef5b13(0x7d4);_0x3b4a0e=_0x31db5d===_0x3196e2['correctAnswer'];}else _0x1e186f===_0xef5b13(0x193)&&(_0x3b4a0e=_0x1afccb[_0xef5b13(0xe2)]['trim']()===_0x3196e2[_0xef5b13(0x6ea)]);}_0x3b4a0e?_0x1afccb['classList']['add'](_0xef5b13(0x42c),_0xef5b13(0x275),_0xef5b13(0x76b)):_0x1afccb[_0xef5b13(0x7d0)][_0xef5b13(0x4c0)](_0xef5b13(0x2d4));}),_0x36ec64[_0x51026d(0x7d0)]['remove']('opacity-50');let _0x25f187=![];if(_0x1e186f===_0x51026d(0x433))_0x25f187=parseInt(_0x36ec64['dataset'][_0x51026d(0x1f5)])===_0x3196e2[_0x51026d(0x62e)];else{if(_0x1e186f===_0x51026d(0x598))_0x25f187=_0x36ec64[_0x51026d(0x663)][_0x51026d(0x7f5)]===_0x51026d(0x7d4)===_0x3196e2[_0x51026d(0x619)];else _0x1e186f==='matching_item'&&(_0x25f187=_0x36ec64[_0x51026d(0xe2)][_0x51026d(0x44a)]()===_0x3196e2[_0x51026d(0x6ea)]);}!_0x25f187&&_0x36ec64['classList'][_0x51026d(0x4c0)](_0x51026d(0x826),'text-white',_0x51026d(0x1e7)),document[_0x51026d(0x613)](_0x51026d(0x372))[_0x51026d(0x7d0)][_0x51026d(0x699)](_0x51026d(0x580));}function startWholeQuizTimer(_0x1a0263){const _0x1f8538=_0x576079,_0x1aa0e5=document[_0x1f8538(0x613)](_0x1f8538(0x2e8));if(!_0x1aa0e5)return;const _0x4bf7d=Date['now']()+_0x1a0263*0x3c*0x3e8;_0x1aa0e5['innerHTML']=_0x1f8538(0x7a4);const _0x53d9d4=document[_0x1f8538(0x613)](_0x1f8538(0x4c5));quizTimerInterval=setInterval(()=>{const _0x3b0d47=_0x1f8538,_0x4dfde7=_0x4bf7d-Date['now']();if(_0x4dfde7<=0x0)clearInterval(quizTimerInterval),_0x53d9d4[_0x3b0d47(0xe2)]=_0x3b0d47(0x6be),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x587646=Math['floor'](_0x4dfde7/0x3e8/0x3c%0x3c)[_0x3b0d47(0x770)]()[_0x3b0d47(0x777)](0x2,'0'),_0xec0da7=Math[_0x3b0d47(0x452)](_0x4dfde7/0x3e8%0x3c)[_0x3b0d47(0x770)]()[_0x3b0d47(0x777)](0x2,'0');_0x53d9d4[_0x3b0d47(0xe2)]=_0x587646+':'+_0xec0da7;}},0x3e8);}function renderPerQuestionView(){const _0xf383ac=_0x576079;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4ac352=currentDisplayedQuiz[_0xf383ac(0x7cd)][currentQuestionIndex],_0x4a3092=_0x4ac352[_0xf383ac(0x7f7)]||currentDisplayedQuiz[_0xf383ac(0x741)];let _0x2252ee=_0xf383ac(0x55e)+(currentQuestionIndex+0x1)+_0xf383ac(0x6f1)+currentDisplayedQuiz[_0xf383ac(0x7cd)]['length']+_0xf383ac(0x242)+(currentMode===_0xf383ac(0x7df)?_0xf383ac(0x1f3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0xf383ac(0x751)]+_0xf383ac(0x6b1)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0xf383ac(0x5dc)]-0x1?'ส่งคำตอบ':_0xf383ac(0x57a))+_0xf383ac(0x808);studentQuizArea[_0xf383ac(0x305)]=_0x2252ee;let _0x2986f9='',_0x7f26b2='';switch(_0x4a3092){case'matching_item':_0x2986f9=currentQuestionIndex+0x1+'.\x20'+_0x4ac352['stem'],_0x7f26b2=_0xf383ac(0x2c2)+_0x4ac352['allResponses'][_0xf383ac(0xd0)](_0x5c9638=>'<option\x20value=\x22'+_0x5c9638+'\x22>'+_0x5c9638+_0xf383ac(0x5d4))[_0xf383ac(0x815)]('')+_0xf383ac(0x6ef);break;case _0xf383ac(0x598):_0x2986f9=currentQuestionIndex+0x1+'.\x20'+_0x4ac352['questionText'],_0x7f26b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xf383ac(0x380):case _0xf383ac(0x326):_0x2986f9=currentQuestionIndex+0x1+'.\x20'+_0x4ac352[_0xf383ac(0x4a9)],_0x7f26b2='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0xf383ac(0x433):case _0xf383ac(0x11f):default:_0x2986f9=currentQuestionIndex+0x1+'.\x20'+_0x4ac352[_0xf383ac(0x4a9)],_0x7f26b2=_0x4ac352[_0xf383ac(0x516)][_0xf383ac(0xd0)]((_0x44e057,_0x3b5630)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0x3b5630+_0xf383ac(0x199)+_0x3b5630+_0xf383ac(0x3cd)+_0x3b5630+'\x22>'+_0x44e057+_0xf383ac(0x351))[_0xf383ac(0x815)]('');break;}_0x4ac352[_0xf383ac(0x80a)]&&(_0x2986f9+=_0xf383ac(0x6fd)+_0x4ac352['imageCode']+'</div>');document[_0xf383ac(0x613)]('per-question-text')['innerHTML']=_0x2986f9,document[_0xf383ac(0x613)](_0xf383ac(0x69f))[_0xf383ac(0x305)]=_0x7f26b2;if(currentMode==='admin-testing'){const _0x47021c=document[_0xf383ac(0x613)](_0xf383ac(0x81a));if(_0x47021c)_0x47021c[_0xf383ac(0x1e9)](_0xf383ac(0x475),cancelAdminTest);}document[_0xf383ac(0x613)]('next-question-timed-btn')[_0xf383ac(0x1e9)](_0xf383ac(0x475),()=>handleNextQuestionInTimedMode(![]));if(window[_0xf383ac(0x561)])window[_0xf383ac(0x561)][_0xf383ac(0x47e)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x169f48=_0x576079,_0xf6accb=currentDisplayedQuiz[_0x169f48(0x45b)][_0x169f48(0x7c0)],_0x5902b0=document[_0x169f48(0x613)](_0x169f48(0x33e));if(!_0x5902b0)return;let _0xb6b376=_0xf6accb;_0x5902b0['innerHTML']=_0x169f48(0x589)+_0xb6b376+_0x169f48(0x205);const _0x25e4bc=document[_0x169f48(0x613)](_0x169f48(0x238)),_0x4e30ec=document[_0x169f48(0x613)](_0x169f48(0x320));perQuestionTimerInterval=setInterval(()=>{const _0x3bb9f9=_0x169f48;_0xb6b376--;const _0x41878b=_0xb6b376/_0xf6accb*0x64;_0x25e4bc[_0x3bb9f9(0x93)][_0x3bb9f9(0x81b)]=_0x41878b+'%',_0x4e30ec['textContent']=_0xb6b376,_0xb6b376<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3bb9f9(0x3ea)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function _0x24bd(){const _0x4d13f1=['<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','isAdaptive','latestScore','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','isPasscodeEnabled','-tab-content','/public/data/quizzes/','สุดยอด!\x20ตอบถูกทุกข้อ','</p><p><strong>เฉลย:</strong>\x20','AI\x20grading\x20failed:','cancel-export-pdf-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','stopPropagation','$1^{$2}','13210QVFSzB','bank-tab','className','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','user-id-display','ฟังก์ชันยกกำลัง','cancel-passcode-btn','%</span>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22\x20class=\x22pin-project-btn\x20','กรุณาใส่ชื่อใหม่','บันทึกการตั้งค่าสำเร็จ','สอบปกติ','student','correctResponse','$1\x5c%','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','input','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x20จาก\x20','.project-card-content','text-tab','STOP','getAttributeNS','presentation-ai-result','สอบซ่อม','คะแนนยังไม่ถึงครึ่ง','.topic-row','verify-answers-editor-btn','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</li>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','questionId','Error\x20joining\x20live\x20game:','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','write','find','\x22\x20value=\x22true\x22\x20','presentation-slide-container','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','parallel-test-upload-input','ลำดับเลขคณิต\x20(AP)','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','student-name-select','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','bg-yellow-50','quiz-results-table-body','487538UcigZa','<option\x20value=\x22\x22>กำลังโหลด...</option>','force-math-checkbox','.color-palette-btn','อัปเดตแบบทดสอบเก่า\x20','#results-table','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-red-800','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','status','lowerGroupResponders','setAttribute','delete-svg-btn','student-quiz-leaderboard-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','27411472','เกิดข้อผิดพลาดในการโหลดโปรเจค','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','วงรี','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','student-quiz-area','แบบเติมคำตอบ','thead\x20.sortable-header','startTime','sum','```','[role=\x22textbox\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','log','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ลบผลสอบของ\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','Error\x20fetching\x20projects\x20for\x20move:','bg-gray-50','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','quizType','Error\x20generating\x20lesson\x20plan:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','asc','confirm-delete-btn','ความแปรปรวน','contentEditable','เกิดข้อผิดพลาดในการอัปเดตสถานะ','ดอกเบี้ยทบต้น','text','text-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','target','การยืนยันตัวตนล้มเหลว','overallGroups','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','topic','การคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','attemptNumber','ความสัมพันธ์ของมุม','<option\x20value=\x22','behaviorLog','lower_group_count','smooth','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','value','after','เรขาคณิต','\x20ครั้ง)</span></td>','parallel-test-input-area','move-quiz-modal','กำลังดึงข้อมูลจากลิงก์...','modal-close-btn','ความคาดหมาย\x20(Expected\x20value)','.lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','#10B981','getBBox','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','comparison-individual-tab','toString','result','สร้างคำถามแบบเติมคำในช่องว่าง','ความชันและเส้นตรง','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','กำลังวิเคราะห์ข้อสอบ\x20\x22','parts','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20custom\x20topic:','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','fa-crown\x20text-yellow-500','.quiz-result-card','\x22>จาก:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','toDate','learningGaps','student-view','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</span></div>','การหารทศนิยม','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','Error\x20displaying\x20question\x20bank:','สมมาตร\x20(แกน/จุด)','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','load-quiz-btn','toLocaleString','gain','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>','reduce','create-project-btn','min','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','การคูณเศษส่วน','fullscreenElement','วงกลม:\x20สมการและสมบัติ','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','คะแนนเต็ม','ระยะจากจุดถึงเส้นตรง','ไม่สามารถเพิ่มนักเรียนได้','input[type=\x22checkbox\x22]:checked','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-content','21245LGCqlu','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','save','.option-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','</span></p>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','promise','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','per_question','/questionBank','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','เลือกโปรเจคเพื่อบันทึก','toggle','times','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','.move-quiz-btn','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','timerDuration','\x20หัวข้อ)','save-quiz-btn','\x20ช่อง','score-distribution-chart','text/html','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','fas\x20fa-bookmark','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','text-red-600','questions','save-quiz-edits-btn','whole_quiz','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','show_pass_fail_only','true','quiz-leaderboard-table-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','699975MHdSGD','ไม่มี','retake-quiz-loop-btn','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','แก้ไขข้อนี้','Leaderboard\x20update\x20transaction\x20failed:\x20','live-options-container','ปิดใช้งาน','admin-testing','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question','จัดการ','editable-quiz-topic','bg-red-100\x20text-red-800','back-to-student-home-btn',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22','Invalid\x20response\x20structure\x20from\x20AI.','#FEF3C7','กำลังสร้างแบบทดสอบคู่ขนาน...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','promptFeedback','ring-2','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','button','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','answer','ฟังก์ชันเชิงเส้นและกราฟ','questionType','ความเท่ากันทุกประการของสามเหลี่ยม','มุมพิเศษ\x2030°-60°-90°','loader-text','\x20\x20\x20-\x20คำตอบ:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','bg-red-50','#E0E7FF','check-answer-btn','justification','project-name-input','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','ย้ายแบบทดสอบสำเร็จ','ส่งแล้ว','global-live-game-count','.toggle-actions-btn','กำลังจับคู่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','จำนวนคละ','imageCode','text-red-700\x20bg-red-100','live-submit-short-answer-btn','students','name_asc','comparison','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','originalQuestionText','results-tab-content','.delete-student-btn','bg-yellow-100','join','.topic-name-input','คัดลอกรหัสแล้ว!','manage','Error\x20saving\x20questions\x20to\x20practice\x20bank:','cancel-test-btn','width','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ไม่มีคำอธิบาย','show_results_and_answers','input[name=\x22status-option\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','student-initial-view','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','(ไม่มีชื่อ)','bg-red-500','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','พื้นที่วงกลม/ส่วนของวงกลม','admin','OBJECT','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','/public/data/projects/','cancel-delete-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</th>','toDataURL','student-join-game-view','\x22\x20name=\x22drill_answer\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','createElement','FIRST_TRY_ACE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฮิสโตแกรม','temp-loader-results','font-bold\x20text-green-700','user','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','admin-password-input','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','ตัวแปรและนิพจน์','display','latestSubmittedAt','ระยะเวลา\x20(นาที):','\x22\x20สำเร็จ','submission','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','การลบเศษส่วน','interesting-stats-container','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','รีเซ็ตลำดับโปรเจคแล้ว','\x5ctext{$1}','Authentication\x20failed:','เศษส่วน\x20(ย่อ/ขยาย)','\x20(p=','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','drop','การปัดเศษและประมาณค่า','hasOwnProperty','PERFECT_SCORE','idealAnswer','bg-green-100','cancel-quiz-edits-btn-footer','<p\x20class=\x22','modal-adaptive-quiz-checkbox','cdot','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','ข้อที่\x20','style','.edit-custom-topic-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','insertAdjacentHTML','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','left','fa-dumbbell\x20text-gray-700','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','</p></div>','players','หัวข้อที่สร้างเอง','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-error-msg','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','analytics-tab-content','players.','(คู่ขนาน)\x20','answeredCurrentQuestion','items','text-blue-700\x20bg-blue-100','doughnut','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','s;\x22\x20title=\x22','Error\x20fetching\x20project\x20quizzes:','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ดอกเบี้ยอย่างง่าย','</div><div\x20class=\x22space-y-2\x22>','comeback_king','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-drill-btn','Error\x20updating\x20project\x20color:','6lGjmXh','เงินงวด\x20(อนุกรมเงินงวด)','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','หน่วยเวลาและการคำนวณเวลา','timerMode','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','Error\x20processing\x20file\x20for\x20AI:','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','has','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.csv','2317596glfveg','math-topic-search-input','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','lesson-plan-modal','create-from-bank-btn','generate-from-text-btn','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','content','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','text-green-600','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','pinned-items','ไม่พบข้อมูลข้อสอบหลังเรียน','admin-dashboard','แบบทดสอบนี้ปิดใช้งานอยู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','export-leaderboard-image-btn','project-detail-view','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','originalTopic','parse','\x5cneq','upper_group_count','textContent','data','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','quiz-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','export-leaderboard-word-btn','ไม่พบข้อมูลผู้ใช้','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','scheduled','include-images-checkbox','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','warn','mousedown','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','verify-answers-btn','solution','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','download','false','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','scores','isRemedial','128HjFZGB','[data-topic-container-id]','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','API\x20call\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','leaderboard-tab','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','text-emerald-800','.export-pdf-list-btn','เพิ่มหัวข้อ\x20\x22','editable-text-','แบบทดสอบที่ติดดาว','getPage','กำลังสร้างคำถามข้อ\x20','\x20\x0a\x20\x20\x20\x20','ร้อยละพื้นฐาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','#retake-for-improvement-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','fas\x20fa-user-edit','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','touchmove','สร้างแบบทดสอบปรนัย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','fill_in_with_choices','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','lobby','teachingContent','presentation-short-answer-input','bank-quiz-search-input','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','.regenerate-question-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','ฟังก์ชันกำลังสองและกราฟ','revealed','webkitExitFullscreen','ai-quiz-app-aefee','text-green-900','เกิดข้อผิดพลาดในการลบหัวข้อ','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','กรุณาเลือกสถานะ','พื้นที่ใต้กราฟ/ระหว่างกราฟ','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','passcode-input-container','Error\x20generating\x20from\x20link:','อสมการค่าสัมบูรณ์','API\x20call\x20failed\x20with\x20status:\x20','text-gray-400\x20hover:text-indigo-600','link-url-input','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','stem','password-error-msg','สร้างชุดคำถามจับคู่','quick_thinker','.badges','.generate-lesson-btn','blueprint-input-area','Error\x20generating\x20parallel\x20post-test:','move-quiz-project-select','border-green-500','filter','คะแนน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','104HTTwzX','none','answer-grid-container','):\x20','visibilitychange','sqrt','results_','auto','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','stdDev','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','start-game-btn','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','dispatchEvent','afterend','lastAnswerCorrect','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','firstScore','Error\x20generating\x20worksheet:','Error\x20loading\x20quiz\x20for\x20student:','live-game','repeat','\x22>ไม่ใช่</p>','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบเลขและค่าประจำหลัก','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-red-100','#view-rankings-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','.generate-post-test-btn','cursor','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','quiz-end-time','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','results-table','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','.presentation-option','ตอบถูก\x203\x20ข้อติดต่อกัน','circ','project-detail','print','.png','<div\x20class=\x22loader\x20mx-auto\x22></div>','จุด\x20เส้น\x20ระนาบ','\x22\x20class=\x22color-palette-btn\x20','body','(เลือกแล้ว\x20','.cancel-edit-topic-btn','delete-all-students-btn','upperGroupResponders','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22...','date_asc','Error\x20updating\x20quiz\x20settings:','outerHTML','querySelector','title','score','\x20ข้อ\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','matching_item','#student-quiz-leaderboard-content\x20thead','quiz-bank-modal','.quiz-status-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ยังไม่ส่ง','\x22\x20name=\x22question_single\x22\x20value=\x22','</strong></p>','Error\x20duplicating\x20quiz:','.regenerate-question-editor-btn','.group','ก่อนเรียน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','border-green-300\x20bg-green-50','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','สมการค่าสัมบูรณ์','string','mousemove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สเกลและแผนที่','select','[data-is-correct=\x22true\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','questionIndex','perfect_score','show_results_only','.save-custom-topic-btn','correctStreak','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','passcode','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','circle','ไม่สามารถเริ่มเกมได้','ยังไม่เต็มนะ','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','onchange','documentElement','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','num-questions','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','global-quiz-search-input','quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','text-green-800','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','loader','https://corsproxy.io/?','student-name-input','focus','bottom','text-red-700','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','far\x20fa-star','.question-editor-item[data-q-index=\x22','back-to-dashboard-btn','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','analyze-strengths-btn','\x22>ใช่</p>','Error\x20starting\x20live\x20race:','actions-container-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20mx-1\x20text-lg\x22></i></span>','inactive','answers','เกิดข้อผิดพลาดในการเข้าร่วมเกม','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','preventDefault','bg-green-100\x20text-green-800','quiz-editor-modal','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกไม่สำเร็จ','student-quiz-leaderboard-table-body','border-red-700','</span></td>','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการยกกำลัง','แบบทดสอบซ่อมเสริม','open-quiz-bank-btn','Error\x20generating\x20from\x20blueprint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.edit-question-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','องค์ประกอบของฟังก์ชัน','index','input[type=\x22text\x22]','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','toLowerCase','Error\x20saving\x20to\x20question\x20bank:','rgba(59,\x20130,\x20246,\x200.7)','<p>','setAttributeNS','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','Error\x20fetching\x20student\x20rankings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','findIndex','student-list','เซียนสมองไว','message-modal','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint','ไม่พบแบบทดสอบ','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','ค.ร.น.\x20(LCM)','projectOrder','q-text-','querySelectorAll','appendChild','submissions','specialist','currentQuestionIndex','\x20สำเร็จ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','.topic-actions-edit','message','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','Remedial\x20quiz\x20generation\x20failed:','ราชาคัมแบ็ก','quiz-leaderboard-table','text-green-700\x20bg-green-100','อนุพันธ์:\x20กฎพื้นฐาน','numeric','isStarred','.verification-result-editor','<div\x20id=\x22q-image-container-','เกิดข้อผิดพลาดในการจับคู่','type','<div\x20class=\x22mb-3\x20topic-category\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x20คู่\x20','.admin-try-quiz-list-btn','global-live-game-modal','.score','fromCharCode','lesson-plan-content','studentName','commit','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','on_fire','\x22\x20value=\x22false\x22\x20','label','scrollX','globalSettings','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-global-live-btn','desc','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','bg-green-300','generate-from-parallel-test-btn','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','รูปสี่เหลี่ยมและสมบัติ','submit','Error\x20rendering\x20student\x20progress:','ร้อยละประยุกต์','link-topic-input','Error\x20deleting\x20project:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragstart','$1^{\x5ccirc}','approx','text-indigo-700','Error\x20showing\x20quiz\x20detail\x20view:','#F59E0B','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-game-final-btn','จากไฟล์ที่แนบมานี้,\x20','touches','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','startsWith','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','ปริพันธ์ไม่จำกัด','screen_exit','รูปหลายเหลี่ยมและมุมภายใน','showInStudentDashboard','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','<textarea\x20name=\x22question','post-test','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','label[for=\x22num-questions\x22]','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','live-game-view','toFixed','ท็อปฟอร์ม','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x5cge','back-to-project-btn','ตรวจทานเฉลยเสร็จสิ้น!','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','Error\x20updating\x20old\x20quizzes:','quizMode','editor-quiz-topic','pow','แผนการสอน','modal-timer-duration-input','Copy\x20command\x20failed','helvetica','Error\x20updating\x20custom\x20topic:','analytics-tab-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-from-results-btn','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ลบโปรเจคสำเร็จแล้ว','text-white','icon','bank-quiz-list','.rename-quiz-btn','timer-mode-select','sort','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','allResponses','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-fire\x20text-orange-500','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','touchstart','ไฮเพอร์โบลา','Error\x20comparing\x20results:','clientY','<li\x20class=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','binom','close-lesson-plan-modal-btn','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','\x22\x20ให้เป็นคำถามประเภท\x20\x22','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','match','เกี่ยวกับหัวข้อ\x20\x22','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','presentation-modal','round','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ฟังก์ชันแบบชิ้นส่วน','เกิดข้อผิดพลาดในการบันทึก','สรุปผลการวิเคราะห์:\x5cn','</td></tr>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','autoTable','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','totalQuestions','answer-counter','เรเดียนและการแปลงหน่วย','\x5cle','เกิดข้อผิดพลาด:\x20','การจัดกลุ่มข้อมูล','กรุณาป้อนรหัสแบบทดสอบ','.pair-quiz-btn','close','leaderboard_','</tbody></table></div>','projectView','answerText','lessonPlan','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','/preferences/main','MathJax\x20typeset\x20error\x20(analytics):','closest','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','บันทึกการตั้งค่าแล้ว','underline','กรุณาใส่ชื่อนักเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','อนุพันธ์:\x20กฎลูกโซ่','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','points','scrollY','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','ไม่พบตารางสำหรับ\x20Export','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','perQuestionStats','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','class','suggestedAnswer','บันทึกการตั้งค่าการแสดงผลสำเร็จ','_opt1\x22\x20name=\x22question','ตัวประกอบและตัวประกอบเฉพาะ','เส้นรอบรูป','start-live-race-generated-btn','viewBox','opacity-50','close-presentation-btn','default','generated-quiz-actions','ข้อ\x20','admin-password-modal','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','ไม่พบโปรเจค','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','indexOf','GlobalWorkerOptions','first_try_ace','th-TH','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#D1FAE5','ที่พิมพ์ได้\x20จำนวน\x20','timer-container','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','2-digit','text-red-300\x20hover:text-red-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ตั้งเวลา\x20(เปิด)','<div\x20class=\x22flex-1\x22></div>','results-display-select','คณิตการเงิน/บูรณาการ','ความน่าจะเป็นแบบมีเงื่อนไข','13387aYdobD','open','mixed','ส่วนเบี่ยงเบนเฉลี่ย','.draggable-text','badgesCount','text-red-900','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','input[name=\x22drill_answer\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices','size','parallel-test-tab','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','docs','ai-quiz-app-aefee.appspot.com','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','innerHTML','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','#results-table\x20thead\x20tr','\x5ctimes','#FCE7F3','quiz-leaderboard-table-body','\x5cfrac','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','shuffle-setting-select','ศูนย์','game-pin-input','ระบบสมการเชิงเส้นสองตัวแปร','localeCompare','.quiz-settings-btn','\x20สำเร็จ','close-comparison-modal-footer-btn','schedule','height','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','isCorrect','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','per-q-countdown','hover:bg-indigo-100','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','submission-status-chart','\x5cfrac{$1}{$2}','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','fill_in_no_choices','Re-grade\x20process\x20failed:','tfrac','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','ยอดเยี่ยม','ลิมิต','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','bg-purple-50','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','confirm-quiz-status-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','.quiz-bank-parallel-btn','webkitRequestFullscreen','_opt0\x22\x20name=\x22question','.delete-submission-btn','Error\x20deleting\x20all\x20students:','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22\x20value=\x22','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x5cs*\x5c(','touchend','confirmation-modal','per-question-timer-container','timer-duration-label','Error\x20deleting\x20quiz:','getItem','\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','#FFFFFF','ปรับเพิ่ม/ลดเป็นร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','join-live-game-btn','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','การประยุกต์เวกเตอร์พื้นฐาน','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','entries','/users/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อโปรเจค','interesting-stats-wrapper','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x201)','includes','คณิตศาสตร์','บันทึกคำถามใหม่\x20','div','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','pinnedProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-amber-100\x20text-amber-800','.choice-text','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','http://www.w3.org/2000/svg','createdAt','</h3>','explanation','Error\x20loading\x20user\x20preferences:','\x22\x20data-name=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','บันทึกพฤติกรรมสำหรับ\x20','ยังไม่มีนักเรียนส่งงาน','link-tab','top','.\x20แต่ละข้อมี\x20','scheduled_pending','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-admin-login-btn','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','Error\x20saving\x20quiz\x20edits:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.answeredCurrentQuestion','presentation-explanation','substring','manual_release','onload','msRequestFullscreen','ระยะเวลา\x20(วินาที):','\x20\x20\x20-\x20','prod','เกิดข้อผิดพลาดในการลบนักเรียน','undefined','half_mark_status','dataIndex','Original\x20quiz\x20not\x20found','.star-quiz-btn','short_answer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','removeChild','กำลังสแกนหาแบบทดสอบเก่า...','ห.ร.ม.\x20(GCD)','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','matching','บันทึกการแก้ไข','text-emerald-900','admin-view','text/csv;charset=utf-8;','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการลบผลสอบ','results-quiz-id-display','คัดลอกแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','Error\x20opening\x20quiz\x20editor:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','input[name=\x22question_single\x22]:checked','\x5csqrt{$1}','blueprint-tab','start-quiz-btn','/studentProfiles','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overline','difficulty-level-select','block','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','border-red-300\x20bg-red-50','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ผู้เชี่ยวชาญ','การเรียงสับเปลี่ยน\x20(Permutation)','change','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','both','export-leaderboard-pdf-btn','Error\x20resetting\x20project\x20order:','results-tab','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','save-settings-btn','\x20ตัวเลือก.\x20','ai-quiz-generator-v3','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','hint-btn','dragend','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การวัด','ข้อต่อไป','\x20รายการสำเร็จ!','/public/data/practiceBank','ผู้ควบคุม\x20(ทดสอบ)','normal','readAsDataURL','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','analytics','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','.delete-svg-btn','auto-fix-latex-btn','replace','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode-switcher-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.correctStreak','Invalid\x20response\x20structure\x20from\x20AI:','แคลคูลัสเบื้องต้น','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','global-quiz-list','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','starred','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','บันทึกแบบทดสอบสำเร็จแล้ว!','สร้างใหม่','input[name=\x22status-option\x22]:checked','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','set','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','upperGroupNames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','/submissions','confirm-create-project-btn','.verification-result','พิมพ์ตอบ','ring-purple-400','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','text-green-600\x20font-bold','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','deg','project-dashboard-view','หมดเวลาสำหรับข้อนี้!','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','project-sort-select','adaptive-quiz-checkbox','</label>\x0a\x20\x20\x20\x20</div>\x0a','text-gray-300\x20hover:text-white','parseFromString','ใช่','ON_FIRE','.start-presentation-list-btn','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-custom-topic-btn','comparison-modal','รากที่สองและที่สาม','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคที่ต้องการบันทึก','projectName','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','กรุณาเลือกคำตอบก่อนครับ','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#per-question-options\x20select','แบบทดสอบ:\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','toISOString','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','Error\x20saving\x20visibility\x20settings:','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','generated-quiz-container','input[type=\x22radio\x22]:checked','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','results-table-container','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กฎของไซน์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postScore','การสร้างรูปด้วยวงเวียน–สันตรง','submittedAt','qIndex','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','generate-from-blueprint-btn','เรขาคณิตวิเคราะห์','prev-question-btn','.answer-text','ปริมาตร/ความจุและการแปลง','scores-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','กฎบวกและกฎคูณ','admin-action-buttons','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','bg-green-500','toLocaleDateString','ไม่สามารถบันทึกการตั้งค่าได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','จากเนื้อหาต่อไปนี้:\x20\x22','get','multiple_choice','neq','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','เมทริกซ์:\x20บวก/คูณ','รูปแบบการให้เหตุผล','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','setFont','confirm-passcode-btn','blockReason','dashboardConfig','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','table','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','beforeend','leaderboard-tab-content','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','trim','bestScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x5csum','keydown','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list-view-btn','manage-tab','floor','mouseleave','เวกเตอร์และเมทริกซ์\x20(เสริม)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเสื่อมราคา','ทำคะแนนเต็มในการทำครั้งแรก','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','questionStatus','คำตอบถูกต้อง!\x20+','settings','date_desc','ผ่าน','close-lesson-plan-modal-footer-btn','generate-from-link-btn','math-topics-checkbox-container','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','quizId','พาราโบลา','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','rgba(16,\x20185,\x20129,\x200.7)','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','วงกลม:\x20คอร์ดและเส้นสัมผัส','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','comparison-overall-content','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-results-btn','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','.quiz-bank-item','split','back-to-home-manual-release','student-project-leaderboard-content','#DBEAFE','click','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ฟังก์ชันพหุนาม','update-old-quizzes-btn','คำตอบผิด','student-name-selection-view','enable-passcode-checkbox','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','กรุณาเลือกชื่อของคุณ','typesetPromise','{$1}','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','application/json','$1\x5ctext{','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','Error\x20creating\x20project:','การนับ','reset-project-order-btn','behavior-log-tab-btn','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','fullscreenchange','bg-white/30','passingScore','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','flex','mjx-container','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','projectSortOrder','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','cancel-move-quiz-btn','innerText','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseVal','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','raw','หลังเรียน','destroy','category','values','</button>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','Error\x20deleting\x20submission:','การบวกทศนิยม','export-worksheet-pdf-btn','showRankings','quiz-form','quiz-schedule-start-container','export-word-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','export-image-btn','questionText','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','1:274192258111:web:4120c9118229b5644dd48a','มัธยฐาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','red','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','dragover','-tab','stringify','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','จำนวนคู่:','$1\x20\x5cfrac','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','</p><div>','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','แบบทดสอบจากคลังส่วนตัว','สมการลอการิทึม','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100\x20text-blue-800','move','from','countdown-display','shuffle','\x20ใหม่...','dfrac','disabled','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.correct-response-input','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','line-through\x20text-red-700','analytics-summary-cards','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fill_in_the_blank','\x0a---\x0a','Error\x20listening\x20for\x20starred\x20quizzes:','แบบทดสอบนี้หมดเวลาแล้ว','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','จำนวนเต็มลบ','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','standard','$1^{\x5ccirc}\x5ctext{C}','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','.pdf','scrollIntoView','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาดในการโหลดสถานะ','_opt1\x22>ไม่ใช่</label></div>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดข้อมูลอันดับได้','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','bar','พิสัย','Error\x20regenerating\x20question\x20in\x20editor:','<tr>','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','candidates','standardTopic','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','.question-editor-item','leaderboard','visibilityState','quiz-settings-modal','ชื่อหัวข้อห้ามว่าง','แก้ระบบสมการด้วยเมทริกซ์','ตารางความถี่','json','dimmed','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','live-short-answer-input','<br>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-rankings-modal','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','พื้นที่สามเหลี่ยม','<div\x20class=\x22','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','กำลังสร้างแบบทดสอบจากหัวข้อ...','เกิดข้อผิดพลาดในการลบแบบทดสอบ','มุมพิเศษ\x2045°-45°-90°','drill-feedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','เกิดข้อผิดพลาดในการปักหมุด','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','NEGATIVE_INFINITY','badges','passcode-prompt-message','teacherSuggestions','grid','\x20/\x20','options','visible','text-input-area','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','เปลี่ยนชื่อแบบทดสอบสำเร็จ','274192258111','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','.save-to-bank-btn','quiz-bank-count','href','สถิติและความน่าจะเป็น','keys','copy','<div\x20class=\x22my-6\x22>','sin','clientX','next-live-question-btn','leaderboard-table-body','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','^{\x5ccirc}\x5ctext{C}$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','#E5E7EB','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','quiz-type-select','instructions','\x22\x20data-topic=\x22','quiz-start-time','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','student-quiz-topic','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','9498349VHfRvJ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','workerSrc','list','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','.live-answer-btn','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','cancel-quiz-settings-btn','project-search-input','สร้างโปรเจคสำเร็จ!','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พอใช้','cloneNode','str','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','right','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','reference-pdf-upload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</tbody></table>','perseverance','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','slide-counter','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','numPages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','btn','getTextContent','\x0a\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','.ql-editor','modal-results-display-select','_opt','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ไม่ได้ตอบ','PERSEVERANCE','MathJax','correct','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','key','[contenteditable=\x22true\x22]','onclick','(ก่อนเรียน)','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','POST','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','comparison-overall-tab','insertBefore','forEach','progress-project-select','ฟังก์ชันราก\x20(root)','ชนิดของข้อมูลและการเก็บข้อมูล','ownerSVGElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','student-progress-view','setItem','loopUntilPass','คำถามถัดไป','selected-topics-count','$1\x5ctimes','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','ไม่ผ่าน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','hidden','Error\x20listening\x20for\x20projects:','targetId','test','resultsDisplay','$1\x5ctext(','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','isPinned','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text-indigo-800','แผนภาพเวนน์','button[type=\x22submit\x22]','เกิดข้อผิดพลาดในการสร้างห้องเกม','now','.duplicate-quiz-btn','projectSort','color','_blank','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','true_false','COMEBACK_KING','จำนวนและการดำเนินการ','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log','Error\x20saving\x20submission:','.sort-indicator','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','createElementNS','.parallel-quiz-btn','modal-shuffle-select','รอเปิด','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-generation-area','catch','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','ไม่พบข้อมูลการจับคู่','comparison-chart','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.doc','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-from-file-btn','<p><strong>คำตอบของคุณ:</strong>\x20','<p\x20class=\x22font-bold\x20text-sm\x20','.topic-actions-view','files','ไม่พบข้อมูลแบบทดสอบ','answering','quiz-results-view','modal-timer-mode-select','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','document','ความชันเส้นสัมผัส','.compare-results-btn','grid-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20user\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','geq','สร้างคำถามแบบใช่/ไม่ใช่','export-tutor-pdf-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','(หลังเรียน)\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','next-question-btn','/public/data/customMathTopics','leaderboard-quiz-tab-btn','ลำดับการดำเนินการ\x20(PEMDAS)','border-4','text-blue-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','.topic-category','</option>','ดูสรุปผล','สลับไปโหมดผู้ควบคุม','q-image-container-','project-passcode-input','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','bg-red-200\x20text-red-800','length','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','file-tab','การหาร','\x22,\x20','การแปลงรูปอัตลักษณ์','\x22\x20name=\x22question','question-complexity-select','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','<option>กำลังโหลดโปรเจค...</option>','td,\x20th','empty','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','draggable-text','pointsLastQuestion','pairedQuizId','เส้นจำนวน','file-topic-input','modal-timer-duration-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20quiz\x20status:','<button\x20data-quiz-id=\x22','screen','input[type=\x22checkbox\x22]','text-gray-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','เลือกและบันทึก','\x22\x20เพื่อสร้างชุดคู่ขนาน...','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','behavior-log-container','gamePin','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','backgroundColor','ผู้ไม่ยอมแพ้','fa-pen','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','projectId','getScreenCTM','.quiz-bank-present-btn','release','Error\x20moving\x20quiz:','.project-card-container[data-id]','all','Firebase\x20initialization\x20failed:','Error\x20generating\x20parallel\x20test\x20from\x20bank:','เส้นตรง:\x20ขนาน/ตั้งฉาก','ไม่พบแบบทดสอบสำหรับรหัสนี้','.quiz-bank-try-btn','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','Enter','text-gray-500','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','/public/data/quizzes','ฐานนิยม','correctAnswer','checked','การคูณทศนิยม','ยืนยันการจับคู่','กฎของโคไซน์','pre-test','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','flex\x20flex-col\x20gap-2','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','tGain','ค่าเฉลี่ย','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','จำนวนเชิงซ้อน\x20(เสริม)','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','ตรวจพบการออกจากหน้าจอครบ\x20','correctAnswerIndex','เส้นตรง:\x20รูปแบบสมการ','</p>','Error\x20pairing\x20quizzes:','กำลังอ่านและเตรียมไฟล์...','random','\x5c\x5c\x5c\x5c(?=(','ไม่พบแบบทดสอบในระบบเลย','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','```json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าคลาดเคลื่อนของการวัด','fa-shield-alt\x20text-gray-600','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','project-list','confirmation-message','no-projects-msg','classStrengths','cancel-quiz-edits-btn','BOOLEAN','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-input','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tan','มุมและการวัดมุม','pre-test-checkbox','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','topic-tab','กราฟฟังก์ชันตรีโกณ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','back-to-dashboard-from-results-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','.project-card-container.opacity-50','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</tr>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ARRAY','player-list-lobby','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','textarea','confirm-move-quiz-btn','preTestId','earned-badges-container','questionDisplayedAt','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<span\x20class=\x22font-bold\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขหัวข้อสำเร็จ','createObjectURL','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','some','confirm-admin-login-btn','Error\x20updating\x20sort\x20preference:','.project-card-container','กรุณาเลือกโปรเจคปลายทาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','<div\x20class=\x22my-2\x22>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','artifacts/','Error\x20verifying\x20answers\x20in\x20editor:','endTime','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','attempts','quiz-id-input','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','timestamp','active','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','กรุณาเลือกไฟล์ก่อน','\x22\x20class=\x22delete-project-btn\x20','mean','results','svg','.ideal-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','1246456hSXLST','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','ฟังก์ชันค่าสัมบูรณ์','$1\x5cfrac','ไม่ใช่','Error\x20unpairing\x20quizzes:','data:application/vnd.ms-word;charset=utf-8,','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','execCommand','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','num-choices-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-\x20ข้อ\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','touchcancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','ตรีโกณมิติ','ตรวจคะแนนใหม่\x20','remove','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<li>','ย้ายแบบทดสอบไปโปรเจคอื่น','student-result-area','per-question-options','rename-quiz-modal',',\x20r=','currentTarget','quiz-status-options','check-presentation-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','push','กำลังสร้างรูปภาพ...','total','error','ปริมาตรรูปทรงสามมิติ','getBoundingClientRect','bg-green-50','authed_project_','max','\x22\x20data-pre-test-id=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','STRING','ลบหัวข้อสำเร็จ','getContext','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.pointsLastQuestion','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','การบวกเศษส่วน','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cos','\x5cfrac{','สำหรับโปรเจค:\x20','00:00','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ref','scores-tab-btn','/public/data/liveGames','N/A','removeEventListener','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','position','เปิด\x20(จับเวลา)','topic-input','reveal-answer-btn'];_0x24bd=function(){return _0x4d13f1;};return _0x24bd();}function handleNextQuestionInTimedMode(_0xf62e93=![]){const _0x3d5301=_0x576079;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1db8a1=null;if(!_0xf62e93){const _0x383fdf=currentDisplayedQuiz[_0x3d5301(0x7cd)][currentQuestionIndex],_0x238f1c=_0x383fdf[_0x3d5301(0x7f7)]||currentDisplayedQuiz[_0x3d5301(0x741)];if(_0x238f1c===_0x3d5301(0x380)||_0x238f1c===_0x3d5301(0x326)){const _0x2ea446=document[_0x3d5301(0x18e)]('#per-question-options\x20textarea');_0x1db8a1=_0x2ea446?_0x2ea446['value'][_0x3d5301(0x44a)]():'';}else{if(_0x238f1c===_0x3d5301(0x193)){const _0x47ba76=document[_0x3d5301(0x18e)](_0x3d5301(0x402));_0x1db8a1=_0x47ba76?_0x47ba76[_0x3d5301(0x75d)]:'';}else{const _0x251167=document[_0x3d5301(0x18e)](_0x3d5301(0x398));if(_0x251167){const _0x347ac8=_0x251167[_0x3d5301(0x75d)];_0x1db8a1=!isNaN(parseInt(_0x347ac8,0xa))&&_0x347ac8[_0x3d5301(0x44a)]()!==''?parseInt(_0x347ac8,0xa):_0x347ac8;}}}}studentAnswersPerQuestion[_0x3d5301(0x6a6)](_0x1db8a1),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3d5301(0x7cd)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x4d6618=_0x576079,_0x253fb5=currentDisplayedQuiz[_0x4d6618(0x7cd)][_0x4d6618(0x669)](_0x52adde=>_0x52adde[_0x4d6618(0x7f7)]===_0x4d6618(0x380));_0x253fb5?showMessage(_0x4d6618(0x38f)):showMessage(_0x4d6618(0x7da));const _0x2206b0=currentQuizData['id'],_0x396823=doc(db,_0x4d6618(0x672)+appId+_0x4d6618(0x6d4)+_0x2206b0+'/submissions',currentStudentName),_0x1df07f=await getDoc(_0x396823),_0x5e4163=_0x1df07f[_0x4d6618(0x438)]()?_0x1df07f[_0x4d6618(0xe3)]():{},_0x14546d=_0x5e4163['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x14546d);}function getResultsFilename(){const _0x1236a5=_0x576079,_0x10172c=document[_0x1236a5(0x613)](_0x1236a5(0x43e))[_0x1236a5(0xe2)][_0x1236a5(0x3c4)](/[^a-z0-9]/gi,'_')[_0x1236a5(0x1f8)]();return _0x1236a5(0x152)+(_0x10172c||_0x1236a5(0x1c1));}function exportResultsAsImage(){const _0x39c439=_0x576079,_0x2ff57a=document['getElementById']('results-table-container');showMessage(_0x39c439(0x6a7)),html2canvas(_0x2ff57a)['then'](_0x27de27=>{const _0x40d320=_0x39c439,_0x485488=document['createElement']('a');_0x485488['download']=getResultsFilename()+_0x40d320(0x17f),_0x485488[_0x40d320(0x51f)]=_0x27de27[_0x40d320(0x835)](_0x40d320(0x59b)),_0x485488[_0x40d320(0x475)](),messageModal[_0x40d320(0x7d0)]['add'](_0x40d320(0x580));});}function exportResultsAsPDF(){const _0x625164=_0x576079,{jsPDF:_0x45bf3c}=window[_0x625164(0x32a)],_0x1bb17d=new _0x45bf3c();_0x1bb17d[_0x625164(0x43a)](_0x625164(0x26c),_0x625164(0x3bd)),_0x1bb17d[_0x625164(0x2a1)]({'html':_0x625164(0x716)}),_0x1bb17d[_0x625164(0x7a8)](getResultsFilename()+_0x625164(0x4dd));}function exportResultsAsWord(){const _0x5acd65=_0x576079,_0x19abf2=_0x5acd65(0x7ed)+_0x5acd65(0x430)+_0x5acd65(0x1cf)+_0x5acd65(0x528),_0x1cc994='</body></html>',_0x336df4=_0x19abf2+document[_0x5acd65(0x613)](_0x5acd65(0x410))[_0x5acd65(0x305)]+_0x1cc994,_0x4af4d9='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x336df4),_0x271641=document[_0x5acd65(0x83a)]('a');document[_0x5acd65(0x183)][_0x5acd65(0x20f)](_0x271641),_0x271641[_0x5acd65(0x51f)]=_0x4af4d9,_0x271641[_0x5acd65(0xfc)]=getResultsFilename()+_0x5acd65(0x5ae),_0x271641[_0x5acd65(0x475)](),document['body']['removeChild'](_0x271641);}function exportResultsAsExcel(){const _0x42076f=_0x576079,_0x202a51=document[_0x42076f(0x613)](_0x42076f(0x177));let _0x14a0ba=[];for(let _0x14b133=0x0;_0x14b133<_0x202a51[_0x42076f(0x291)][_0x42076f(0x5dc)];_0x14b133++){let _0x22e678=[],_0x4a6139=_0x202a51[_0x42076f(0x291)][_0x14b133][_0x42076f(0x20e)](_0x42076f(0x5e7));for(let _0x3b1274=0x0;_0x3b1274<_0x4a6139['length'];_0x3b1274++){_0x22e678[_0x42076f(0x6a6)]('\x22'+_0x4a6139[_0x3b1274]['innerText'][_0x42076f(0x3c4)](/"/g,'\x22\x22')+'\x22');}_0x14a0ba[_0x42076f(0x6a6)](_0x22e678[_0x42076f(0x815)](','));}const _0x2e9296=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x14a0ba[_0x42076f(0x815)]('\x0a')],{'type':_0x42076f(0x38e)}),_0x242e48=document['createElement']('a');_0x242e48[_0x42076f(0x51f)]=URL[_0x42076f(0x666)](_0x2e9296),_0x242e48[_0x42076f(0xfc)]=getResultsFilename()+'.csv',_0x242e48[_0x42076f(0x475)]();}function exportTableAsImage(_0x19adb5,_0x428078){const _0x4515bd=_0x576079,_0x4dd775=document[_0x4515bd(0x613)](_0x19adb5);if(!_0x4dd775){showMessage(_0x4515bd(0x2c5));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4dd775)['then'](_0x151c4f=>{const _0x4c981b=_0x4515bd,_0xeac712=document[_0x4c981b(0x83a)]('a');_0xeac712['download']=_0x428078+_0x4c981b(0x17f),_0xeac712['href']=_0x151c4f['toDataURL'](_0x4c981b(0x59b)),_0xeac712['click'](),messageModal[_0x4c981b(0x7d0)][_0x4c981b(0x4c0)](_0x4c981b(0x580));});}function exportTableAsPDF(_0x192be3,_0x1feb5e){const _0x315e92=_0x576079,{jsPDF:_0x596cd2}=window[_0x315e92(0x32a)],_0x289125=new _0x596cd2();_0x289125['setFont'](_0x315e92(0x26c),_0x315e92(0x3bd)),_0x289125[_0x315e92(0x2a1)]({'html':'#'+_0x192be3}),_0x289125['save'](_0x1feb5e+'.pdf');}function exportTableAsWord(_0x13042e,_0x383e93){const _0x8bfb05=_0x576079,_0x443823=document[_0x8bfb05(0x613)](_0x13042e);if(!_0x443823){showMessage(_0x8bfb05(0x2c5));return;}const _0x1f282b='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x8bfb05(0x1cf)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0xafc40b='</body></html>',_0x248983=_0x1f282b+_0x443823['innerHTML']+_0xafc40b,_0x5a1385=_0x8bfb05(0x68d)+encodeURIComponent(_0x248983),_0x39d297=document[_0x8bfb05(0x83a)]('a');document[_0x8bfb05(0x183)][_0x8bfb05(0x20f)](_0x39d297),_0x39d297[_0x8bfb05(0x51f)]=_0x5a1385,_0x39d297[_0x8bfb05(0xfc)]=_0x383e93+_0x8bfb05(0x5ae),_0x39d297[_0x8bfb05(0x475)](),document[_0x8bfb05(0x183)][_0x8bfb05(0x383)](_0x39d297);}function exportTableAsExcel(_0x562dc0,_0x457a4b){const _0x4c63e3=_0x576079,_0x403269=document[_0x4c63e3(0x613)](_0x562dc0);if(!_0x403269){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x46a565=[];for(let _0x55cf8e=0x0;_0x55cf8e<_0x403269[_0x4c63e3(0x291)]['length'];_0x55cf8e++){let _0x51367d=[],_0x4205fd=_0x403269[_0x4c63e3(0x291)][_0x55cf8e][_0x4c63e3(0x20e)](_0x4c63e3(0x5e7));for(let _0x2a7602=0x0;_0x2a7602<_0x4205fd[_0x4c63e3(0x5dc)];_0x2a7602++){_0x51367d[_0x4c63e3(0x6a6)]('\x22'+_0x4205fd[_0x2a7602][_0x4c63e3(0x493)][_0x4c63e3(0x3c4)](/"/g,'\x22\x22')+'\x22');}_0x46a565[_0x4c63e3(0x6a6)](_0x51367d[_0x4c63e3(0x815)](','));}const _0x3a256a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x46a565['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0xf7558a=document[_0x4c63e3(0x83a)]('a');_0xf7558a[_0x4c63e3(0x51f)]=URL['createObjectURL'](_0x3a256a),_0xf7558a[_0x4c63e3(0xfc)]=_0x457a4b+_0x4c63e3(0xc2),_0xf7558a['click']();}function renderAnalytics(_0x2979a8,_0x15e22c){const _0x140b7b=_0x576079,_0x38e48c=_0x15e22c[_0x140b7b(0x149)](_0x32abbd=>_0x32abbd['latestScore']!==undefined),_0x4aa2da=currentProjectData[_0x140b7b(0x80d)][_0x140b7b(0x5dc)],_0x3b0081=_0x38e48c[_0x140b7b(0x5dc)],_0x387ab6=_0x4aa2da-_0x3b0081,_0x1d7cc1=_0x4aa2da>0x0?_0x3b0081/_0x4aa2da*0x64:0x0,_0x3e9909=_0x38e48c['map'](_0x47bf0f=>_0x47bf0f[_0x140b7b(0x6cf)]),_0x21600c=_0x3e9909['length']>0x0?_0x3e9909[_0x140b7b(0x797)]((_0x5e20d4,_0x561699)=>_0x5e20d4+_0x561699,0x0)/_0x3e9909[_0x140b7b(0x5dc)]:0x0,_0x2fcb46=_0x2979a8[_0x140b7b(0x7cd)]['length'],_0x64da34=_0x2fcb46>0x0?_0x21600c/_0x2fcb46*0x64:0x0,_0x32e0c8=calculateItemAnalysis(_0x2979a8,_0x38e48c),_0x51bb2d=calculateReliabilityKR20(_0x2979a8,_0x38e48c,_0x32e0c8[_0x140b7b(0x2c7)]);let _0x87bd30='';if(_0x51bb2d!==null){let _0x4a78d0='';if(_0x51bb2d>=0.9)_0x4a78d0=_0x140b7b(0x32b);else{if(_0x51bb2d>=0.8)_0x4a78d0='ดีมาก';else{if(_0x51bb2d>=0.7)_0x4a78d0='ดี';else{if(_0x51bb2d>=0.6)_0x4a78d0=_0x140b7b(0x543);else _0x4a78d0='ควรปรับปรุง';}}}_0x87bd30=_0x140b7b(0x409)+_0x51bb2d[_0x140b7b(0x25e)](0x2)+_0x140b7b(0xd8)+_0x4a78d0+_0x140b7b(0x838);}const _0x561628=document['getElementById'](_0x140b7b(0x4ce));_0x561628[_0x140b7b(0x305)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x1d7cc1[_0x140b7b(0x25e)](0x0)+_0x140b7b(0x411)+_0x3b0081+'/'+_0x4aa2da+_0x140b7b(0x14b)+_0x21600c['toFixed'](0x2)+_0x140b7b(0x2de)+_0x64da34[_0x140b7b(0x25e)](0x0)+_0x140b7b(0x629)+(_0x3e9909[_0x140b7b(0x5dc)]>0x0?Math[_0x140b7b(0x6ae)](..._0x3e9909):_0x140b7b(0x6c3))+_0x140b7b(0x114)+(_0x3e9909['length']>0x0?Math[_0x140b7b(0x799)](..._0x3e9909):_0x140b7b(0x6c3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x87bd30+'\x0a\x20\x20\x20\x20';const _0x35ae86=document['getElementById'](_0x140b7b(0x34f));_0x35ae86&&_0x35ae86[_0x140b7b(0x699)]();const _0x75bc35=_0x140b7b(0xbf);_0x561628[_0x140b7b(0x96)](_0x140b7b(0x15d),_0x75bc35);const _0x27b7f4=currentProjectData[_0x140b7b(0x80d)]||[];renderSubmissionChart(_0x3b0081,_0x387ab6,_0x38e48c,_0x27b7f4),renderScoreDistributionChart(_0x38e48c,_0x2fcb46),renderQuestionAnalytics(_0x2979a8,_0x38e48c,_0x27b7f4),renderInterestingStats(_0x2979a8,_0x38e48c);}async function handleExportLessonPDF(){const _0x5c4077=_0x576079,_0x329fcf=document['getElementById'](_0x5c4077(0x22b)),_0x3481c0=document[_0x5c4077(0x613)]('lesson-plan-title')[_0x5c4077(0xe2)],_0x1a43bb=window[_0x5c4077(0x2f4)]('',_0x5c4077(0x595)),_0x30f757='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x3481c0+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x329fcf[_0x5c4077(0x305)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1a43bb['document'][_0x5c4077(0x702)](_0x30f757),_0x1a43bb[_0x5c4077(0x5be)]['close'](),_0x1a43bb[_0x5c4077(0x375)]=function(){setTimeout(()=>{_0x1a43bb['print']();},0x5dc);};}function renderInterestingStats(_0x40aad2,_0x2b977c){const _0x3464ad=_0x576079,_0x14fb98=document[_0x3464ad(0x613)](_0x3464ad(0x850));if(!_0x14fb98)return;if(_0x2b977c['length']===0x0){_0x14fb98[_0x3464ad(0x305)]=_0x3464ad(0x27c);return;}const _0x4c8ae3=_0x40aad2['questions']['map']((_0x391382,_0x3d1e4a)=>({'index':_0x3d1e4a+0x1,'text':_0x391382[_0x3464ad(0x4a9)]||_0x391382[_0x3464ad(0x13f)],'correct':0x0}));_0x2b977c['forEach'](_0xbe0886=>{const _0x44bc7f=_0x3464ad,_0x42e31d=_0xbe0886[_0x44bc7f(0x677)][_0xbe0886['attempts'][_0x44bc7f(0x5dc)]-0x1];_0x42e31d&&_0x42e31d['answers']&&_0x42e31d[_0x44bc7f(0x1dc)][_0x44bc7f(0x570)](_0x470e20=>{const _0x2e7fac=_0x44bc7f,_0x796a29=_0x4c8ae3['find'](_0x465916=>_0x465916[_0x2e7fac(0x74a)]===_0x470e20[_0x2e7fac(0x811)]);_0x470e20[_0x2e7fac(0x31d)]&&_0x796a29&&_0x796a29[_0x2e7fac(0x562)]++;});});const _0x38ea80=_0x2b977c[_0x3464ad(0x5dc)],_0x584615=Math['max'](..._0x4c8ae3[_0x3464ad(0xd0)](_0x7256d8=>_0x7256d8[_0x3464ad(0x562)])),_0x583039=Math[_0x3464ad(0x799)](..._0x4c8ae3['map'](_0x59d745=>_0x59d745[_0x3464ad(0x562)])),_0x4ad7f1=_0x4c8ae3[_0x3464ad(0x149)](_0x588f2a=>_0x588f2a[_0x3464ad(0x562)]===_0x584615)['map'](_0xe672c=>'ข้อ\x20'+_0xe672c[_0x3464ad(0x1f5)]),_0x219205=_0x4c8ae3[_0x3464ad(0x149)](_0x538164=>_0x538164['correct']===_0x583039)[_0x3464ad(0xd0)](_0x4f5f80=>_0x3464ad(0x2d8)+_0x4f5f80['index']),_0x2b1307=_0x2b977c[_0x3464ad(0x27a)]((_0x19ce68,_0x1b0a95)=>_0x1b0a95[_0x3464ad(0x6cf)]-_0x19ce68[_0x3464ad(0x6cf)])['filter']((_0x204b20,_0x1b7c8c,_0x4b4de1)=>_0x204b20[_0x3464ad(0x6cf)]===_0x4b4de1[0x0][_0x3464ad(0x6cf)]),_0x2d62f9=_0x2b977c[_0x3464ad(0x27a)]((_0x3eb43f,_0x1b4509)=>_0x3eb43f[_0x3464ad(0x6cf)]-_0x1b4509[_0x3464ad(0x6cf)])[_0x3464ad(0x149)]((_0x1c3ebc,_0x3b1865,_0x2cb08e)=>_0x1c3ebc[_0x3464ad(0x6cf)]===_0x2cb08e[0x0][_0x3464ad(0x6cf)]),_0x73d912='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x4ad7f1['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x584615+_0x3464ad(0x515)+_0x38ea80+_0x3464ad(0x30f)+_0x219205[_0x3464ad(0x815)](',\x20')+_0x3464ad(0x2bb)+(_0x38ea80-_0x583039)+_0x3464ad(0x515)+_0x38ea80+_0x3464ad(0x781)+_0x2b1307['map'](_0x45fe56=>_0x45fe56[_0x3464ad(0x22c)])[_0x3464ad(0x815)](',\x20')+_0x3464ad(0x4ad)+_0x2b1307[0x0][_0x3464ad(0x6cf)]+_0x3464ad(0x2b1)+_0x2d62f9[_0x3464ad(0xd0)](_0x4142ec=>_0x4142ec[_0x3464ad(0x22c)])[_0x3464ad(0x815)](',\x20')+_0x3464ad(0x4ad)+_0x2d62f9[0x0][_0x3464ad(0x6cf)]+_0x3464ad(0x2e3);_0x14fb98[_0x3464ad(0x305)]=_0x73d912;}function renderSubmissionChart(_0x3e689c,_0x1bd769,_0x42bd80,_0x1dec90){const _0x5beb23=_0x576079,_0x9699b=document[_0x5beb23(0x613)](_0x5beb23(0x323))[_0x5beb23(0x6b5)]('2d'),_0x41a761=_0x42bd80[_0x5beb23(0xd0)](_0x31e9b6=>_0x31e9b6[_0x5beb23(0x22c)]),_0x1d4b05=_0x1dec90[_0x5beb23(0x149)](_0x4e10bc=>!_0x41a761['includes'](_0x4e10bc));chartInstances['submission']&&chartInstances[_0x5beb23(0x84d)][_0x5beb23(0x49b)](),chartInstances['submission']=new Chart(_0x9699b,{'type':_0x5beb23(0xa8),'data':{'labels':[_0x5beb23(0x804),_0x5beb23(0x198)],'datasets':[{'data':[_0x3e689c,_0x1bd769],'backgroundColor':[_0x5beb23(0x768),_0x5beb23(0x248)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5beb23(0x1ca)},'tooltip':{'callbacks':{'label':function(_0x48eedb){const _0x5d3fbc=_0x5beb23;let _0xa1f36e=_0x48eedb['label']||'';return _0xa1f36e&&(_0xa1f36e+=':\x20'),_0xa1f36e+=_0x48eedb[_0x5d3fbc(0x499)],_0xa1f36e;},'afterLabel':function(_0x2406df){const _0x49cc16=_0x5beb23;let _0x3db61d;return _0x2406df[_0x49cc16(0x37d)]===0x0?_0x3db61d=_0x41a761:_0x3db61d=_0x1d4b05,_0x3db61d[_0x49cc16(0x5dc)]>0x0?_0x3db61d[_0x49cc16(0x815)]('\x0a'):_0x49cc16(0x7d8);}}}}}});}function renderScoreDistributionChart(_0x40edf0,_0x2704ed){const _0x1c0a0c=_0x576079,_0x260cdc=document['getElementById'](_0x1c0a0c(0x7c4))['getContext']('2d'),_0x9dca2e={};for(let _0x4eaa5e=0x0;_0x4eaa5e<=_0x2704ed;_0x4eaa5e++){_0x9dca2e[_0x4eaa5e]=0x0;}_0x40edf0['forEach'](_0x62369c=>{const _0x3b0f5a=_0x1c0a0c;_0x9dca2e[_0x62369c[_0x3b0f5a(0x6cf)]]!==undefined&&_0x9dca2e[_0x62369c[_0x3b0f5a(0x6cf)]]++;}),chartInstances['score']&&chartInstances[_0x1c0a0c(0x190)]['destroy'](),chartInstances[_0x1c0a0c(0x190)]=new Chart(_0x260cdc,{'type':_0x1c0a0c(0x4e5),'data':{'labels':Object[_0x1c0a0c(0x521)](_0x9dca2e),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x1c0a0c(0x49d)](_0x9dca2e),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x1c0a0c(0x352),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1c0a0c(0x14a)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0xa44795){const _0x4dd53c=_0x1c0a0c,_0x45cff5=_0xa44795['label'],_0x63a7ee=_0x40edf0['filter'](_0x2a9ff4=>_0x2a9ff4[_0x4dd53c(0x6cf)]==_0x45cff5)[_0x4dd53c(0xd0)](_0x159b2c=>_0x159b2c['studentName']);return _0x63a7ee['length']>0x0?_0x63a7ee['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x178838,_0x2d3b89,_0x21c038){const _0x2206d2=_0x576079,_0x25632f=document[_0x2206d2(0x613)]('question-analytics-container');if(_0x21c038[_0x2206d2(0x5dc)]===0x0){_0x25632f[_0x2206d2(0x305)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x289b1b=calculateItemAnalysis(_0x178838,_0x2d3b89),_0x1aa317=calculateDistractorAnalysis(_0x178838,_0x2d3b89);let _0x3131f3='';_0x289b1b[_0x2206d2(0x74f)]&&(_0x3131f3=_0x2206d2(0x1f0)+_0x289b1b['overallGroups'][_0x2206d2(0x3da)]['length']+_0x2206d2(0x655)+_0x289b1b[_0x2206d2(0x74f)][_0x2206d2(0x3da)][_0x2206d2(0xd0)](_0x1ead93=>_0x2206d2(0x69c)+_0x1ead93+'</li>')['join']('')+_0x2206d2(0x6f0)+_0x289b1b[_0x2206d2(0x74f)]['lowerGroupNames'][_0x2206d2(0x5dc)]+_0x2206d2(0x655)+_0x289b1b[_0x2206d2(0x74f)]['lowerGroupNames'][_0x2206d2(0xd0)](_0x537d4=>_0x2206d2(0x69c)+_0x537d4+'</li>')[_0x2206d2(0x815)]('')+_0x2206d2(0x71e));let _0x266eed='';const _0x298980=_0x2d3b89[_0x2206d2(0xd0)](_0x16e494=>_0x16e494['studentName']),_0x2d5089=_0x5cfc10=>{const _0x14b522=_0x2206d2;if(_0x5cfc10>=0.8)return _0x14b522(0x51c);if(_0x5cfc10>=0.6)return _0x14b522(0x299);if(_0x5cfc10>=0.4)return _0x14b522(0x108);if(_0x5cfc10>=0.2)return _0x14b522(0x30e);return _0x14b522(0x7c9);},_0x107155=_0x6a68af=>{const _0x2f2ce0=_0x2206d2;if(_0x6a68af<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x6a68af>=0.4)return _0x2f2ce0(0x3eb);if(_0x6a68af>=0.3)return _0x2f2ce0(0x2a2);if(_0x6a68af>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x352daf=_0x28019c=>{const _0x516937=_0x2206d2,_0x38dccd=_0x28019c['toFixed'](0x0);if(parseFloat(_0x38dccd)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x38dccd+_0x516937(0x6e3);if(_0x28019c>=0x32)return _0x516937(0x4b5)+_0x38dccd+_0x516937(0x6e3);return _0x516937(0x32d)+_0x38dccd+_0x516937(0x6e3);};_0x178838[_0x2206d2(0x7cd)][_0x2206d2(0x570)]((_0x35c3f7,_0x2e4bdf)=>{const _0x423d81=_0x2206d2,_0xa3db05=_0x289b1b['perQuestionStats'][_0x2e4bdf],_0x163a18=_0x1aa317[_0x2e4bdf],_0xb4aeac=_0x35c3f7[_0x423d81(0x13f)]||_0x35c3f7[_0x423d81(0x4a9)]||_0x35c3f7['instructions'];let _0x225dad=0x0;const _0x264b15=[],_0x5701c3=[];_0x2d3b89['forEach'](_0x47a7a2=>{const _0x3209db=_0x423d81,_0xe90d11=_0x47a7a2[_0x3209db(0x677)][_0x47a7a2[_0x3209db(0x677)][_0x3209db(0x5dc)]-0x1];if(_0xe90d11&&_0xe90d11['answers']){const _0x51fec3=_0xe90d11[_0x3209db(0x1dc)][_0x3209db(0x703)](_0x5622e4=>_0x5622e4['originalQuestionText']===_0xb4aeac)??_0xe90d11[_0x3209db(0x1dc)][_0x2e4bdf]??null;_0x51fec3&&(_0x51fec3[_0x3209db(0x31d)]?(_0x225dad++,_0x264b15[_0x3209db(0x6a6)](_0x47a7a2['studentName'])):_0x5701c3[_0x3209db(0x6a6)](_0x47a7a2['studentName']));}});const _0x135f38=_0x2d3b89['length']>0x0?_0x225dad/_0x2d3b89[_0x423d81(0x5dc)]*0x64:0x0,_0xad4e21=_0x21c038['filter'](_0x521e51=>!_0x298980['includes'](_0x521e51)),_0xfd10b8=_0xa3db05?_0x423d81(0x1cd)+_0xa3db05['p'][_0x423d81(0x25e)](0x2)+'</p><div>'+_0x2d5089(_0xa3db05['p'])+_0x423d81(0x47c)+_0xa3db05['r']['toFixed'](0x2)+_0x423d81(0x4ba)+_0x107155(_0xa3db05['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x352daf(_0x135f38)+_0x423d81(0x46a):'';let _0x1f096e='';_0x163a18&&(_0x1f096e=_0x423d81(0x1ab)+Object[_0x423d81(0x521)](_0x163a18)['map'](_0x5ef4d7=>{const _0x25e916=_0x423d81,_0x3658fe=_0x163a18[_0x5ef4d7],_0x88e3cf=parseInt(_0x5ef4d7)===_0x35c3f7[_0x25e916(0x62e)],_0x17dafc=!_0x88e3cf&&_0x3658fe[_0x25e916(0x75a)]>_0x3658fe['upper_group_count'];return'<tr\x20class=\x22'+(_0x88e3cf?'bg-green-100\x20font-bold':'')+_0x25e916(0x120)+(_0x88e3cf?'✔\x20':'')+_0x3658fe[_0x25e916(0x74a)]+_0x25e916(0x73c)+_0x3658fe[_0x25e916(0xe1)]+_0x25e916(0x73c)+_0x3658fe[_0x25e916(0x75a)]+'\x20'+(_0x17dafc?'👍':'')+_0x25e916(0x73c)+_0x3658fe[_0x25e916(0x6a8)]+_0x25e916(0x29e);})[_0x423d81(0x815)]('')+_0x423d81(0x2c9));let _0x57118e='';_0xa3db05&&_0xa3db05[_0x423d81(0x187)]&&(_0x57118e=_0x423d81(0x575)+_0xa3db05['upperGroupResponders'][_0x423d81(0x5dc)]+_0x423d81(0x414)+_0xa3db05[_0x423d81(0x187)]['map'](_0x17cab1=>_0x423d81(0x69c)+(_0x17cab1[_0x423d81(0x31d)]?_0x423d81(0x6b8):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x17cab1[_0x423d81(0x386)]+_0x423d81(0x6fc))[_0x423d81(0x815)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0xa3db05[_0x423d81(0x720)][_0x423d81(0x5dc)]+_0x423d81(0x414)+_0xa3db05['lowerGroupResponders'][_0x423d81(0xd0)](_0x535b2b=>_0x423d81(0x69c)+(_0x535b2b[_0x423d81(0x31d)]?_0x423d81(0x6b8):_0x423d81(0x5bd))+'\x20'+_0x535b2b['name']+_0x423d81(0x6fc))[_0x423d81(0x815)]('')+_0x423d81(0x294)),_0x266eed+=_0x423d81(0x5ec)+(_0x2e4bdf+0x1)+':\x20'+_0xb4aeac+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0xfd10b8+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0xb4aeac+_0x423d81(0x44c)+_0x225dad+'\x20จาก\x20'+_0x2d3b89[_0x423d81(0x5dc)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x135f38[_0x423d81(0x25e)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x264b15['length']+_0x423d81(0x2c3)+(_0x264b15[_0x423d81(0x5dc)]>0x0?_0x264b15[_0x423d81(0x815)](',\x20'):'ไม่มี')+_0x423d81(0x264)+_0x5701c3[_0x423d81(0x5dc)]+_0x423d81(0x2c3)+(_0x5701c3[_0x423d81(0x5dc)]>0x0?_0x5701c3[_0x423d81(0x815)](',\x20'):'ไม่มี')+_0x423d81(0x19f)+_0xad4e21['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0xad4e21[_0x423d81(0x5dc)]>0x0?_0xad4e21[_0x423d81(0x815)](',\x20'):_0x423d81(0x7d8))+_0x423d81(0x388)+_0x1f096e+_0x423d81(0x495)+_0x57118e+_0x423d81(0x43f);}),_0x25632f['innerHTML']=_0x3131f3+_0x266eed;try{window[_0x2206d2(0x561)]&&MathJax[_0x2206d2(0x47e)]&&MathJax['typesetPromise']([_0x25632f]);}catch(_0x150428){console[_0x2206d2(0x6a9)](_0x2206d2(0x2b5),_0x150428);}}function calculateDistractorAnalysis(_0x3800ac,_0x49721d){const _0x4bfb2d=_0x576079,_0x353d33={};if(_0x49721d[_0x4bfb2d(0x5dc)]<0x2)return _0x353d33;const _0x117640=[..._0x49721d][_0x4bfb2d(0x27a)]((_0xe9ad76,_0x54a563)=>{const _0x491803=_0x4bfb2d,_0x983af1=_0x54a563[_0x491803(0x6cf)]-_0xe9ad76[_0x491803(0x6cf)];if(_0x983af1!==0x0)return _0x983af1;const _0x451eee=_0xe9ad76['attempts']?.[_0x491803(0x5dc)]||0x1,_0x47eb82=_0x54a563[_0x491803(0x677)]?.[_0x491803(0x5dc)]||0x1,_0x1336f7=_0x451eee-_0x47eb82;if(_0x1336f7!==0x0)return _0x1336f7;const _0x3bb529=new Date(_0xe9ad76['latestSubmittedAt']),_0x49b4b2=new Date(_0x54a563['latestSubmittedAt']),_0x1fd71f=_0x3bb529-_0x49b4b2;if(_0x1fd71f!==0x0)return _0x1fd71f;return _0xe9ad76['studentName']['localeCompare'](_0x54a563[_0x491803(0x22c)],'th');}),_0xb1c4fc=_0x117640[_0x4bfb2d(0x5dc)],_0x77f4e0=Math['max'](0x1,Math[_0x4bfb2d(0x452)](_0xb1c4fc*0.33)),_0x91e674=_0x117640[_0x4bfb2d(0x822)](0x0,_0x77f4e0),_0x3ad95d=_0x117640[_0x4bfb2d(0x822)](-_0x77f4e0);return _0x3800ac['questions']['forEach']((_0x4be980,_0x49f61e)=>{const _0x95476c=_0x4bfb2d;if(_0x4be980['questionType']!==_0x95476c(0x433)||!_0x4be980[_0x95476c(0x516)])return;const _0x536d81=_0x4be980[_0x95476c(0x4a9)],_0x2b6f97={};_0x4be980[_0x95476c(0x516)]['forEach']((_0x42af2c,_0x17da52)=>{_0x2b6f97[_0x17da52]={'text':_0x42af2c,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x117640[_0x95476c(0x570)](_0x5cb040=>{const _0x164d83=_0x95476c,_0x5af23b=_0x5cb040['attempts'][_0x5cb040[_0x164d83(0x677)][_0x164d83(0x5dc)]-0x1],_0x39ab8d=_0x5af23b[_0x164d83(0x1dc)]['find'](_0x3fea35=>_0x3fea35[_0x164d83(0x811)]===_0x536d81);if(_0x39ab8d&&_0x39ab8d['answer']!==null){const _0x2cb29=_0x4be980[_0x164d83(0x516)][_0x164d83(0x201)](_0x2464d0=>_0x2464d0===_0x39ab8d[_0x164d83(0x2af)]);_0x2cb29!==-0x1&&_0x2b6f97[_0x2cb29]&&(_0x2b6f97[_0x2cb29]['total']++,_0x91e674[_0x164d83(0x353)](_0x5cb040)&&_0x2b6f97[_0x2cb29][_0x164d83(0xe1)]++,_0x3ad95d[_0x164d83(0x353)](_0x5cb040)&&_0x2b6f97[_0x2cb29][_0x164d83(0x75a)]++);}}),_0x353d33[_0x49f61e]=_0x2b6f97;}),_0x353d33;}function calculateReliabilityKR20(_0x188428,_0x54c903,_0x711b44){const _0x10a3b5=_0x576079,_0x22a042=_0x188428[_0x10a3b5(0x7cd)]['length'];if(_0x22a042<0x2||_0x54c903[_0x10a3b5(0x5dc)]<0x2)return null;const _0x15b700=_0x54c903[_0x10a3b5(0xd0)](_0xb6b9c2=>_0xb6b9c2[_0x10a3b5(0x6cf)]),_0x3bc92b=_0x15b700['reduce']((_0x11b9ff,_0x530734)=>_0x11b9ff+_0x530734,0x0)/_0x15b700[_0x10a3b5(0x5dc)],_0x3a1a43=_0x15b700[_0x10a3b5(0xd0)](_0x3792c3=>Math[_0x10a3b5(0x268)](_0x3792c3-_0x3bc92b,0x2))[_0x10a3b5(0x797)]((_0x2a37ec,_0x14d03c)=>_0x2a37ec+_0x14d03c,0x0)/_0x15b700['length'];if(_0x3a1a43===0x0)return null;let _0x47ea5b=0x0;for(let _0xcb1daf=0x0;_0xcb1daf<_0x22a042;_0xcb1daf++){const _0x261bea=_0x711b44[_0xcb1daf]?.['p'];if(_0x261bea===undefined)continue;const _0x5db680=0x1-_0x261bea;_0x47ea5b+=_0x261bea*_0x5db680;}if(_0x47ea5b===0x0)return null;const _0x5e90ff=_0x22a042/(_0x22a042-0x1)*(0x1-_0x47ea5b/_0x3a1a43);if(_0x5e90ff>0x1)return null;return _0x5e90ff;}async function handleAnalyzeClass(){const _0x3c6f34=_0x576079;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3c6f34(0x6d9));return;}const _0x20c0c5=collection(db,_0x3c6f34(0x672)+appId+_0x3c6f34(0x6d4)+currentQuizData['id']+_0x3c6f34(0x3dd)),_0x56878d=await getDocs(_0x20c0c5),_0x1b2bce=_0x56878d[_0x3c6f34(0x301)][_0x3c6f34(0xd0)](_0x3f4cd8=>_0x3f4cd8['data']());if(_0x1b2bce[_0x3c6f34(0x5dc)]<0x2){showMessage(_0x3c6f34(0x70c));return;}const _0x5a41ed=document['getElementById']('strength-weakness-analysis-container');_0x5a41ed[_0x3c6f34(0x305)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById'](_0x3c6f34(0x1d5))['disabled']=!![];const _0x4fea62=_0x1b2bce[_0x3c6f34(0xd0)]((_0x3eb5da,_0x2d89b3)=>{const _0x20f1d0=_0x3c6f34,_0x23db8b=_0x3eb5da[_0x20f1d0(0x677)][_0x3eb5da[_0x20f1d0(0x677)][_0x20f1d0(0x5dc)]-0x1];if(!_0x23db8b)return'';return _0x20f1d0(0x7d1)+(_0x2d89b3+0x1)+'\x20('+_0x3eb5da[_0x20f1d0(0x22c)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x23db8b['score']+'/'+_0x3eb5da[_0x20f1d0(0x2a3)]+_0x20f1d0(0x439)+JSON[_0x20f1d0(0x4b3)](_0x23db8b['answers'])+_0x20f1d0(0x214);})['join'](_0x3c6f34(0x4d1)),_0x2cdc08=_0x3c6f34(0x6a5)+currentQuizData[_0x3c6f34(0x751)]+_0x3c6f34(0x4ef)+JSON['stringify'](currentQuizData['questions'])+_0x3c6f34(0x3b7)+_0x4fea62+_0x3c6f34(0x709),_0x141f65={'type':_0x3c6f34(0x82c),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':'STRING'}},'classWeaknesses':{'type':_0x3c6f34(0x656),'items':{'type':_0x3c6f34(0x6b3)}},'teacherSuggestions':{'type':_0x3c6f34(0x656),'items':{'type':_0x3c6f34(0x6b3)}}},'required':[_0x3c6f34(0x641),'classWeaknesses',_0x3c6f34(0x513)]};try{const _0x108ddd=await callAnalysisApi(_0x2cdc08,_0x141f65);displayClassAnalysis(_0x108ddd);}catch(_0x1e63ef){console[_0x3c6f34(0x6a9)](_0x3c6f34(0x2e4),_0x1e63ef),_0x5a41ed[_0x3c6f34(0x305)]=_0x3c6f34(0x16b)+_0x1e63ef[_0x3c6f34(0x217)]+_0x3c6f34(0x9b);}finally{document[_0x3c6f34(0x613)](_0x3c6f34(0x1d5))['disabled']=![];}}function displayClassAnalysis(_0x5c33f1){const _0x5da637=_0x576079,_0x2ae56a=document[_0x5da637(0x613)]('strength-weakness-analysis-container');if(!_0x5c33f1){_0x2ae56a[_0x5da637(0x305)]=_0x5da637(0x7b8);return;}_0x2ae56a[_0x5da637(0x305)]=_0x5da637(0x664)+_0x5c33f1[_0x5da637(0x641)][_0x5da637(0xd0)](_0x3b3155=>_0x5da637(0x69c)+_0x3b3155+_0x5da637(0x6fc))[_0x5da637(0x815)]('')+_0x5da637(0x5c2)+_0x5c33f1['classWeaknesses'][_0x5da637(0xd0)](_0x5ce3fb=>'<li>'+_0x5ce3fb+_0x5da637(0x6fc))[_0x5da637(0x815)]('')+_0x5da637(0x2fc)+_0x5c33f1['teacherSuggestions']['map'](_0x1bdeb6=>_0x5da637(0x69c)+_0x1bdeb6+_0x5da637(0x6fc))[_0x5da637(0x815)]('')+_0x5da637(0x7e7);}function formatAndPrintWorksheet(_0x194ad4,_0x5314c7){const _0x3ff185=_0x576079,_0x496ea5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x194ad4[_0x3ff185(0x751)]+_0x3ff185(0x2db)+_0x194ad4[_0x3ff185(0x751)]+_0x3ff185(0x46d)+_0x194ad4[_0x3ff185(0x7cd)][_0x3ff185(0xd0)]((_0x4e2d39,_0x67f4d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x67f4d+0x1)+'.\x20'+_0x4e2d39[_0x3ff185(0x4a9)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4e2d39['imageCode']?_0x3ff185(0x535)+_0x4e2d39['imageCode']+_0x3ff185(0x4bb):'')+_0x3ff185(0x3c6))[_0x3ff185(0x815)]('')+_0x3ff185(0x4bc);_0x5314c7['document'][_0x3ff185(0x702)](_0x496ea5),_0x5314c7[_0x3ff185(0x5be)][_0x3ff185(0x2ab)](),_0x5314c7[_0x3ff185(0x375)]=function(){setTimeout(()=>{const _0x3db45e=_0x1b40;_0x5314c7[_0x3db45e(0x17e)]();},0x3e8);};}async function generateWorksheet(){const _0x54b63b=_0x576079,_0x12b818=document[_0x54b63b(0x613)]('worksheet-topic-input')[_0x54b63b(0x75d)]['trim']();if(!_0x12b818){showMessage(_0x54b63b(0x7d2));return;}const _0x1bd284=document[_0x54b63b(0x613)]('force-math-checkbox')[_0x54b63b(0x61a)],_0x87aba0=_0x1bd284?'':_0x54b63b(0x354),_0x2f84c0=window[_0x54b63b(0x2f4)]('','_blank');_0x2f84c0['document']['write']('<h1></h1>');const _0x3d8b91=parseInt(document[_0x54b63b(0x613)](_0x54b63b(0x1bd))[_0x54b63b(0x75d)]),_0x203eed=document[_0x54b63b(0x613)](_0x54b63b(0xf4))[_0x54b63b(0x61a)],_0x4fd5e6=_0x203eed?_0x54b63b(0x304):'',_0x4d6e00=_0x54b63b(0x105)+_0x87aba0+_0x54b63b(0x2e7)+_0x3d8b91+_0x54b63b(0xb9)+_0x12b818+_0x54b63b(0x668)+_0x4fd5e6+_0x54b63b(0x158)+simpleMathPrompt+_0x54b63b(0x112),_0x360840={'type':_0x54b63b(0x82c),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x54b63b(0x82c),'properties':{'questionText':{'type':_0x54b63b(0x6b3)},'imageCode':{'type':_0x54b63b(0x6b3)}},'required':[_0x54b63b(0x4a9)]}}},'required':['topic',_0x54b63b(0x7cd)]};document['getElementById'](_0x54b63b(0x7fa))[_0x54b63b(0xe2)]='',document[_0x54b63b(0x613)](_0x54b63b(0x1c6))[_0x54b63b(0x7d0)]['remove'](_0x54b63b(0x580)),document['getElementById'](_0x54b63b(0x5a6))['classList'][_0x54b63b(0x699)](_0x54b63b(0x580)),generateWorksheetBtn[_0x54b63b(0x4c9)]=!![];try{const _0x2d33f4=await callAnalysisApi(_0x4d6e00,_0x360840);formatAndPrintWorksheet(_0x2d33f4,_0x2f84c0);}catch(_0x5ddde3){console['error'](_0x54b63b(0x162),_0x5ddde3);if(_0x2f84c0)_0x2f84c0[_0x54b63b(0x2ab)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x54b63b(0x613)](_0x54b63b(0x1c6))[_0x54b63b(0x7d0)][_0x54b63b(0x4c0)](_0x54b63b(0x580)),document[_0x54b63b(0x613)]('quiz-generation-area')[_0x54b63b(0x7d0)][_0x54b63b(0x4c0)](_0x54b63b(0x580)),generateWorksheetBtn[_0x54b63b(0x4c9)]=![];}}async function callAnalysisApi(_0x5534a8,_0x1b6c78){const _0x330ac2=_0x576079,_0x5fcdab={'contents':[{'role':_0x330ac2(0x840),'parts':[{'text':_0x5534a8}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x1b6c78}},_0xa25afb=_0x330ac2(0x400),_0x4b81f0='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0xa25afb,_0x375446=await fetch(_0x4b81f0,{'method':_0x330ac2(0x56c),'headers':{'Content-Type':'application/json'},'body':JSON[_0x330ac2(0x4b3)](_0x5fcdab)});if(!_0x375446['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x375446[_0x330ac2(0x71f)]);const _0x26222a=await _0x375446[_0x330ac2(0x4fa)]();if(_0x26222a[_0x330ac2(0x4f0)]?.[0x0]?.['content']?.[_0x330ac2(0x776)]?.[0x0])return JSON['parse'](_0x26222a[_0x330ac2(0x4f0)][0x0]['content']['parts'][0x0][_0x330ac2(0x74a)]);else{let _0x1a9428='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x26222a['promptFeedback']?.['blockReason'])_0x1a9428='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x26222a[_0x330ac2(0x7ee)][_0x330ac2(0x43c)]+'.';else _0x26222a['candidates']?.[0x0]?.['finishReason']&&_0x26222a['candidates'][0x0][_0x330ac2(0x688)]!==_0x330ac2(0x6f4)&&(_0x1a9428='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x26222a[_0x330ac2(0x4f0)][0x0]['finishReason']+'.');console[_0x330ac2(0x6a9)](_0x1a9428,JSON[_0x330ac2(0x4b3)](_0x26222a));throw new Error(_0x1a9428);}}initialize();
