const _0x252b26=_0x4c50;(function(_0x2a4c9c,_0x2bf10a){const _0x1bf015=_0x4c50,_0x4801ff=_0x2a4c9c();while(!![]){try{const _0x199760=-parseInt(_0x1bf015(0x17d))/0x1*(-parseInt(_0x1bf015(0x2d8))/0x2)+parseInt(_0x1bf015(0x777))/0x3*(-parseInt(_0x1bf015(0x7e9))/0x4)+-parseInt(_0x1bf015(0xa6f))/0x5+parseInt(_0x1bf015(0xb46))/0x6+parseInt(_0x1bf015(0x5a8))/0x7+-parseInt(_0x1bf015(0xc20))/0x8+parseInt(_0x1bf015(0x48b))/0x9*(parseInt(_0x1bf015(0x7f4))/0xa);if(_0x199760===_0x2bf10a)break;else _0x4801ff['push'](_0x4801ff['shift']());}catch(_0x1c261c){_0x4801ff['push'](_0x4801ff['shift']());}}}(_0x13fa,0x7d7ab));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x252b26(0xadc),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x252b26(0xadc),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x12eef7=_0x252b26;if(_0x12eef7(0x9ea)in navigator)try{wakeLock=await navigator[_0x12eef7(0x9ea)][_0x12eef7(0xc29)](_0x12eef7(0x43a)),console[_0x12eef7(0x952)](_0x12eef7(0x4df)),wakeLock[_0x12eef7(0x2d5)](_0x12eef7(0x6a4),()=>{const _0xc90b28=_0x12eef7;console[_0xc90b28(0x952)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x38c805){console[_0x12eef7(0x62f)](_0x12eef7(0xaec)+_0x38c805[_0x12eef7(0x2c6)]+',\x20'+_0x38c805['message']);}else console[_0x12eef7(0x7ba)](_0x12eef7(0x8e1));},releaseWakeLock=async()=>{const _0x42cc4d=_0x252b26;wakeLock!==null&&(await wakeLock[_0x42cc4d(0x6a4)](),wakeLock=null,console[_0x42cc4d(0x952)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0xc7802d=_0x252b26;if(dimTimer)clearTimeout(dimTimer);document[_0xc7802d(0x816)][_0xc7802d(0x1da)][_0xc7802d(0x7ce)](_0xc7802d(0x60d)),dimTimer=setTimeout(()=>{const _0x14195a=_0xc7802d;document['body']['classList']['add'](_0x14195a(0x60d)),console['log'](_0x14195a(0x87b));},inactivityTime);}function stopDimTimer(){const _0x14a91b=_0x252b26;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x14a91b(0x1da)][_0x14a91b(0x7ce)]('dimmed'),window[_0x14a91b(0xad6)](_0x14a91b(0x551),resetDimTimer),window['removeEventListener'](_0x14a91b(0x71d),resetDimTimer),window[_0x14a91b(0xad6)](_0x14a91b(0x76c),resetDimTimer),window[_0x14a91b(0xad6)](_0x14a91b(0x8cb),resetDimTimer),console[_0x14a91b(0x952)](_0x14a91b(0x3c9));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x1eacaf,_0x1b3231=![]){const _0x23da21=_0x252b26,_0x16f03a=allQuizzes['find'](_0x5f26d2=>_0x5f26d2['id']===_0x1eacaf)||allQuizzesGlobal['find'](_0x1f289e=>_0x1f289e['id']===_0x1eacaf);if(!_0x16f03a){showMessage(_0x23da21(0x9ab));return;}currentQuizData=getShuffledQuiz(_0x16f03a);const _0x55a4a9=Math[_0x23da21(0xb79)](0x3e8+Math['random']()*0x2328)[_0x23da21(0x626)]();try{const _0x480b0e=await addDoc(collection(db,_0x23da21(0x1d1)+appId+_0x23da21(0x73b)),{'quizId':_0x16f03a['id'],'projectId':_0x16f03a[_0x23da21(0x86f)],'status':_0x23da21(0x80e),'pin':_0x55a4a9,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1b3231});currentTeamQuizId=_0x480b0e['id'],showView(_0x23da21(0x443)),renderAdminTeamQuizDashboard(_0x55a4a9,_0x16f03a[_0x23da21(0x5d7)]),listenForTeamQuizUpdates();}catch(_0x15b144){console['error'](_0x23da21(0xa7f),_0x15b144),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x260e48,_0x3ed70c,_0x1c5fdf=_0x252b26(0x92e)){const _0x3c37dc=_0x252b26,_0x55f2c6=_0x1c5fdf===_0x3c37dc(0x706)?_0x3c37dc(0x87e):'Team\x20Quiz';liveGameView['innerHTML']=_0x3c37dc(0x885)+_0x55f2c6+':\x20'+_0x3ed70c+_0x3c37dc(0x2ba)+_0x260e48+_0x3c37dc(0xc58),document[_0x3c37dc(0x8d1)]('end-team-quiz-btn')[_0x3c37dc(0x2d5)]('click',async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x1f68f3=_0x4c50;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x1f68f3(0x1d1)+appId+_0x1f68f3(0x73b),currentTeamQuizId)),showView(_0x1f68f3(0x3b3));});});}function listenForTeamQuizUpdates(){const _0x245759=_0x252b26;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x2a4d4c=doc(db,_0x245759(0x1d1)+appId+_0x245759(0x73b),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x2a4d4c,_0x4609e9=>{const _0x34e43d=_0x245759;if(!_0x4609e9[_0x34e43d(0xbfd)]()){sessionStorage['removeItem'](_0x34e43d(0x110));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x34e43d(0x5a1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x34e43d(0x3b3)):showView('student');return;}const _0x5950dc=_0x4609e9[_0x34e43d(0xa36)]();if(currentMode===_0x34e43d(0x53c)){if(_0x5950dc[_0x34e43d(0x5d1)]==='group'&&_0x5950dc[_0x34e43d(0x6c1)]!==_0x34e43d(0xc73)&&_0x5950dc['status']!=='finished'){const _0x5edd01=Object[_0x34e43d(0x591)](_0x5950dc[_0x34e43d(0x253)]||{});if(_0x5edd01['length']>0x0){const _0x4e0314=_0x5edd01['every'](_0x199263=>_0x199263[_0x34e43d(0x42b)]===!![]);_0x4e0314&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5950dc);}else{if(_0x5950dc[_0x34e43d(0x6c1)]==='podium'||_0x5950dc['status']===_0x34e43d(0x6c7)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5950dc[_0x34e43d(0x5d1)]===_0x34e43d(0x706)){const _0x5ef64a=_0x5950dc['groups'][userId];(!_0x5ef64a||!_0x5ef64a[_0x34e43d(0x42b)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x20287a){const _0x2ac6cf=_0x252b26;console[_0x2ac6cf(0x952)](_0x2ac6cf(0x3ec));const _0x39bc63=doc(db,_0x2ac6cf(0x1d1)+appId+_0x2ac6cf(0x73b),_0x20287a);try{const _0x36ad18=await getDoc(_0x39bc63);if(_0x36ad18[_0x2ac6cf(0xbfd)]()){const _0x4d863f=_0x36ad18[_0x2ac6cf(0xa36)]();_0x4d863f[_0x2ac6cf(0x6c5)]&&await saveGameResultsAsSubmissions(_0x4d863f);}await updateDoc(_0x39bc63,{'status':'podium'});}catch(_0x20bb4b){console[_0x2ac6cf(0x62f)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x20bb4b);}}function updateAdminTeamDashboard(_0x3234ae){const _0x34192e=_0x252b26,_0x30f54e=document['getElementById'](_0x34192e(0x1b9));if(!_0x30f54e)return;const _0x4d5b59=_0x3234ae[_0x34192e(0x5d1)]||_0x34192e(0x92e),_0x5b3a74=currentQuizData['questions'][_0x34192e(0xa38)];if(_0x4d5b59===_0x34192e(0x706)){const _0x15f274=Object['values'](_0x3234ae[_0x34192e(0x253)]||{});if(_0x15f274[_0x34192e(0xa38)]===0x0){_0x30f54e[_0x34192e(0x8f6)]=_0x34192e(0x940);return;}const _0x4e9f0e=[..._0x15f274][_0x34192e(0x910)]((_0x4440fb,_0x216e55)=>_0x216e55['score']-_0x4440fb['score']),_0x41e46b=_0x4e9f0e['map']((_0x24a505,_0x2f9359)=>{const _0x51497a=_0x34192e,_0x3fe2c4=_0x24a505['answers']?.['length']||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x2f9359+0x1)+_0x51497a(0x44b)+_0x24a505['members'][_0x51497a(0x424)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x3fe2c4+'/'+_0x5b3a74+_0x51497a(0x4de)+_0x24a505['score']+_0x51497a(0x7f8);})[_0x34192e(0x424)](''),_0x59ae6e=currentQuizData[_0x34192e(0x692)][_0x34192e(0x625)]((_0x222efe,_0x35cc96)=>{const _0x327d50=_0x34192e;let _0x2efa2d=0x0,_0xf9d201=0x0;_0x15f274[_0x327d50(0x236)](_0x2d3e7f=>{const _0xcf90d=_0x327d50,_0x37f27e=_0x2d3e7f[_0xcf90d(0xa3d)]?.[_0xcf90d(0x269)](_0xb61926=>_0xb61926[_0xcf90d(0x30d)]===_0x35cc96);if(_0x37f27e){_0xf9d201++;if(_0x37f27e[_0xcf90d(0x282)])_0x2efa2d++;}});const _0x1c55e4=_0xf9d201>0x0&&_0xf9d201===_0x15f274[_0x327d50(0xa38)],_0x1e67d4=_0x1c55e4?'bg-green-200\x20text-green-900\x20font-bold':_0x327d50(0x7ef),_0xaf7541=_0x1c55e4?_0x327d50(0xb6d):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x1e67d4+_0x327d50(0x6dd)+(_0x35cc96+0x1)+_0x327d50(0xc0b)+_0xaf7541+_0x327d50(0xa2e)+_0x2efa2d+'/'+_0x15f274[_0x327d50(0xa38)]+_0x327d50(0x163);})['join']('');_0x30f54e['innerHTML']='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x41e46b+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x59ae6e+_0x34192e(0x119);return;}const _0x1477b9=_0x3234ae[_0x34192e(0xb2a)]||{},_0x2673ed=Object['keys'](_0x1477b9);if(_0x2673ed[_0x34192e(0xa38)]===0x0){_0x30f54e[_0x34192e(0x8f6)]=_0x34192e(0x1c9);return;}const _0x47d1eb=_0x2673ed['map'](_0x29bbe1=>({'name':_0x29bbe1,'score':_0x1477b9[_0x29bbe1][_0x34192e(0x3a4)]||0x0}))[_0x34192e(0x910)]((_0x7de4e,_0x1e756)=>_0x1e756[_0x34192e(0x3a4)]-_0x7de4e[_0x34192e(0x3a4)]),_0x44cc51=_0x47d1eb[_0x34192e(0x625)](_0x593299=>{const _0x2dbe16=_0x34192e,_0x5e3a96=_0x1477b9[_0x593299[_0x2dbe16(0x2c6)]]?.['answers']?.[_0x2dbe16(0xa38)]||0x0,_0x350b25=Math[_0x2dbe16(0x5e8)](_0x5b3a74/_0x2673ed[_0x2dbe16(0xa38)]);return _0x2dbe16(0x16e)+_0x593299[_0x2dbe16(0x2c6)]+_0x2dbe16(0x530)+_0x5e3a96+'/'+_0x350b25+_0x2dbe16(0x27d)+_0x593299[_0x2dbe16(0x3a4)]+_0x2dbe16(0x9ec);})[_0x34192e(0x424)](''),_0x49c7c3=_0x2673ed[_0x34192e(0x2d2)]((_0x23ca26,_0x4f774a)=>_0x23ca26+(_0x1477b9[_0x4f774a]['answers']?.[_0x34192e(0xa38)]||0x0),0x0),_0x20cf03=currentQuizData[_0x34192e(0x692)][_0x34192e(0x625)]((_0x452cba,_0x216af7)=>{const _0x3488ee=_0x34192e;let _0x5c97c6=null,_0x493197=null;for(const _0x573924 of _0x2673ed){const _0x513d07=_0x1477b9[_0x573924][_0x3488ee(0xa3d)]?.['find'](_0x2675e3=>_0x2675e3[_0x3488ee(0x30d)]===_0x216af7);if(_0x513d07){_0x5c97c6=_0x513d07,_0x493197=_0x573924;break;}}const _0x5de111=!!_0x5c97c6,_0x21fb2f=_0x5de111&&_0x5c97c6[_0x3488ee(0x282)],_0x16a542=(Math['floor'](_0x216af7/_0x2673ed[_0x3488ee(0xa38)])+0x1)*_0x2673ed['length'],_0x1c8620=_0x49c7c3>=_0x16a542,_0x28468e=_0x1c8620?_0x3488ee(0x571):_0x3488ee(0x7ef),_0x39ed14=_0x1c8620?_0x3488ee(0xb6d):'';let _0x3db094=_0x3488ee(0x925);return _0x5de111&&(_0x3db094=_0x493197+_0x3488ee(0x366)+(_0x21fb2f?_0x3488ee(0xb7d):_0x3488ee(0xa9e))),_0x3488ee(0x610)+_0x28468e+_0x3488ee(0x6dd)+(_0x216af7+0x1)+':</span><span>'+_0x39ed14+_0x3488ee(0x471)+_0x3db094+_0x3488ee(0xba0);})[_0x34192e(0x424)]('');_0x30f54e['innerHTML']=_0x34192e(0x8e7)+_0x44cc51+_0x34192e(0xaaf)+_0x20cf03+_0x34192e(0x119);}async function handleJoinTeamQuiz(){const _0x1b9f6e=_0x252b26,_0x417f40=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x417f40||_0x417f40[_0x1b9f6e(0x3cf)]()[_0x1b9f6e(0xa38)]!==0x4){showMessage(_0x1b9f6e(0xbe2));return;}try{const _0x38052f=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x19a7aa=query(_0x38052f,where(_0x1b9f6e(0x797),'==',_0x417f40[_0x1b9f6e(0x3cf)]()),where('status','==','lobby')),_0xf6d975=await getDocs(_0x19a7aa);if(_0xf6d975[_0x1b9f6e(0x8a1)]){showMessage(_0x1b9f6e(0x217));return;}const _0x310204=_0xf6d975[_0x1b9f6e(0x72c)][0x0];currentTeamQuizId=_0x310204['id'];const _0x4383ab=_0x310204[_0x1b9f6e(0xa36)](),_0x4f0586=doc(db,'artifacts/'+appId+_0x1b9f6e(0x301),_0x4383ab[_0x1b9f6e(0x86f)]),_0x1b85b3=doc(db,'artifacts/'+appId+_0x1b9f6e(0x1a5),_0x4383ab[_0x1b9f6e(0x335)]),[_0x3a9e14,_0x4b7844]=await Promise['all']([getDoc(_0x4f0586),getDoc(_0x1b85b3)]);if(!_0x3a9e14[_0x1b9f6e(0xbfd)]()||!_0x4b7844['exists']())throw new Error(_0x1b9f6e(0xa25));currentQuizData=getShuffledQuiz({'id':_0x4b7844['id'],..._0x4b7844[_0x1b9f6e(0xa36)]()});const _0x59948d=_0x3a9e14[_0x1b9f6e(0xa36)]();showTeamPlayerSelection(_0x59948d[_0x1b9f6e(0x91a)],currentQuizData['topic']);}catch(_0x2128c1){console[_0x1b9f6e(0x62f)](_0x1b9f6e(0x303),_0x2128c1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2128c1['message']);}}async function handleJoinGroupActivity(){const _0xfb9f43=_0x252b26,_0x457d5a=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x457d5a||_0x457d5a[_0xfb9f43(0x3cf)]()[_0xfb9f43(0xa38)]!==0x4){showMessage(_0xfb9f43(0xbb0));return;}const _0x1152ec=_0x457d5a[_0xfb9f43(0x3cf)]();showMessage(_0xfb9f43(0xaf9));try{const _0xecb3b6=collection(db,_0xfb9f43(0x1d1)+appId+_0xfb9f43(0x73b)),_0x5e4859=query(_0xecb3b6,where(_0xfb9f43(0x797),'==',_0x1152ec),where(_0xfb9f43(0x6c1),'==',_0xfb9f43(0x80e))),_0x23847e=await getDocs(_0x5e4859);if(!_0x23847e[_0xfb9f43(0x8a1)]){console[_0xfb9f43(0x952)](_0xfb9f43(0x52f)),await proceedWithTeamQuizJoin(_0x23847e[_0xfb9f43(0x72c)][0x0]);return;}const _0xacbcd2=collection(db,_0xfb9f43(0x1d1)+appId+'/public/data/syncGames'),_0x1ee651=query(_0xacbcd2,where('pin','==',_0x1152ec),where(_0xfb9f43(0x6c1),'==','lobby')),_0x218a19=await getDocs(_0x1ee651);if(!_0x218a19[_0xfb9f43(0x8a1)]){console[_0xfb9f43(0x952)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x218a19[_0xfb9f43(0x72c)][0x0]);return;}showMessage(_0xfb9f43(0x57b));}catch(_0x502eb4){console[_0xfb9f43(0x62f)](_0xfb9f43(0x884),_0x502eb4),showMessage(_0xfb9f43(0x71f)+_0x502eb4[_0xfb9f43(0xa56)]);}}async function proceedWithTeamQuizJoin(_0xd61c73){const _0x4fe854=_0x252b26;currentTeamQuizId=_0xd61c73['id'];const _0x182477=_0xd61c73['data'](),_0x388efd=doc(db,'artifacts/'+appId+_0x4fe854(0x301),_0x182477[_0x4fe854(0x86f)]),_0x124ceb=doc(db,_0x4fe854(0x1d1)+appId+_0x4fe854(0x1a5),_0x182477[_0x4fe854(0x335)]),[_0x12fc57,_0x1c95f2]=await Promise[_0x4fe854(0xadc)]([getDoc(_0x388efd),getDoc(_0x124ceb)]);if(!_0x12fc57[_0x4fe854(0xbfd)]()||!_0x1c95f2['exists']())throw new Error(_0x4fe854(0xa25));currentQuizData=getShuffledQuiz({'id':_0x1c95f2['id'],..._0x1c95f2[_0x4fe854(0xa36)]()}),showTeamPlayerSelection(_0x12fc57[_0x4fe854(0xa36)]()[_0x4fe854(0x91a)],currentQuizData[_0x4fe854(0x5d7)],_0x182477[_0x4fe854(0x5d1)]||_0x4fe854(0x92e)),messageModal[_0x4fe854(0x1da)][_0x4fe854(0x2df)]('hidden');}async function proceedWithSyncQuizJoin(_0xca7397){const _0x503a9d=_0x252b26;currentLiveGameId=_0xca7397['id'];const _0xf384ee=_0xca7397[_0x503a9d(0xa36)](),_0x3dc99a=doc(db,'artifacts/'+appId+_0x503a9d(0x1a5),_0xf384ee['quizId']),_0x5c67b1=await getDoc(_0x3dc99a);if(!_0x5c67b1['exists']())throw new Error(_0x503a9d(0x9ab));const _0x17ce56=_0x5c67b1[_0x503a9d(0xa36)](),_0x4826d9=doc(db,_0x503a9d(0x1d1)+appId+_0x503a9d(0x301),_0x17ce56[_0x503a9d(0x86f)]),_0x986fce=await getDoc(_0x4826d9);if(!_0x986fce[_0x503a9d(0xbfd)]())throw new Error(_0x503a9d(0x495));currentQuizData=_0xf384ee['shuffledQuiz'],showView('student-team-join'),showTeamPlayerSelection(_0x986fce['data']()[_0x503a9d(0x91a)],_0x17ce56[_0x503a9d(0x5d7)],_0x503a9d(0x426)),document['getElementById']('confirm-team-players-btn')[_0x503a9d(0xa67)]=confirmAndJoinSyncGame,messageModal[_0x503a9d(0x1da)]['add'](_0x503a9d(0x25d));}function getCleanApplicationHTML(){const _0x473aa3=_0x252b26,_0x166aba=document[_0x473aa3(0x8d1)](_0x473aa3(0xa03));if(!_0x166aba)return'';const _0x10a5af=_0x166aba[_0x473aa3(0x7a5)](!![]);return _0x10a5af[_0x473aa3(0xa48)](_0x473aa3(0xc01))[_0x473aa3(0x236)](_0x26a898=>{const _0x3aae68=_0x473aa3;_0x26a898[_0x3aae68(0x1da)]['remove'](_0x3aae68(0xbbc),'incorrect'),_0x26a898['disabled']=![];}),_0x10a5af['innerHTML'];}function showTeamPlayerSelection(_0x57cfad,_0x1536b7,_0x67a053='team'){const _0x75c1b9=_0x252b26;studentInitialView[_0x75c1b9(0x1da)][_0x75c1b9(0x2df)](_0x75c1b9(0x25d)),studentJoinGameView[_0x75c1b9(0x1da)]['add'](_0x75c1b9(0x25d)),document['getElementById'](_0x75c1b9(0x260))[_0x75c1b9(0x1da)][_0x75c1b9(0x7ce)]('hidden');let _0x3f7233=_0x75c1b9(0x42f);if(_0x67a053===_0x75c1b9(0x706))_0x3f7233=_0x75c1b9(0x87e);else _0x67a053==='sync'&&(_0x3f7233='Sync\x20Mode');document[_0x75c1b9(0x8d1)](_0x75c1b9(0x362))['textContent']=_0x3f7233+':\x20'+_0x1536b7;const _0x3d613f=document['getElementById'](_0x75c1b9(0xb1e));if(!_0x57cfad||_0x57cfad[_0x75c1b9(0xa38)]===0x0){_0x3d613f[_0x75c1b9(0x8f6)]=_0x75c1b9(0xbe9),document[_0x75c1b9(0x8d1)](_0x75c1b9(0x4e9))['disabled']=!![];return;}_0x3d613f[_0x75c1b9(0x8f6)]=_0x57cfad[_0x75c1b9(0x625)](_0x57eedb=>_0x75c1b9(0x35a)+_0x57eedb+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x57eedb+_0x75c1b9(0x9d6))[_0x75c1b9(0x424)](''),document['getElementById'](_0x75c1b9(0x4e9))[_0x75c1b9(0x7dc)]=![];}async function confirmAndStartTeamQuiz(){const _0x40bf4b=_0x252b26,_0x54c75c=Array[_0x40bf4b(0x8a3)](document[_0x40bf4b(0xa48)](_0x40bf4b(0x941)))[_0x40bf4b(0x625)](_0x440edc=>_0x440edc[_0x40bf4b(0x64c)]);if(_0x54c75c[_0x40bf4b(0xa38)]===0x0){showMessage(_0x40bf4b(0xa82));return;}localTeamPlayers=_0x54c75c,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x3a4cbf=doc(db,'artifacts/'+appId+_0x40bf4b(0x73b),currentTeamQuizId);try{const _0x503081=await getDoc(_0x3a4cbf);if(!_0x503081['exists']())throw new Error('ไม่พบข้อมูลเกม');const _0x18a461=_0x503081[_0x40bf4b(0xa36)]();if(_0x18a461[_0x40bf4b(0x5d1)]==='group'){const _0x16f4b3={[_0x40bf4b(0xa35)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x3a4cbf,_0x16f4b3);}else{const _0x273f5b=_0x18a461[_0x40bf4b(0xb2a)]||{};localTeamPlayers[_0x40bf4b(0x236)](_0x4ffb9d=>{!_0x273f5b[_0x4ffb9d]&&(_0x273f5b[_0x4ffb9d]={'score':0x0,'answers':[]});}),await updateDoc(_0x3a4cbf,{'responses':_0x273f5b});}document[_0x40bf4b(0x8d1)](_0x40bf4b(0x260))[_0x40bf4b(0x1da)][_0x40bf4b(0x2df)]('hidden'),renderTeamQuizQuestion();const _0x2f5040={'gameId':currentTeamQuizId,'mode':_0x18a461[_0x40bf4b(0x5d1)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x40bf4b(0x110),JSON['stringify'](_0x2f5040)),listenForTeamQuizUpdates();}catch(_0x51ea90){console['error'](_0x40bf4b(0x354),_0x51ea90),showMessage(_0x40bf4b(0x15d));}}async function renderTeamQuizQuestion(){const _0x3bbcc6=_0x252b26;if(localQuestionIndex>=currentQuizData[_0x3bbcc6(0x692)]['length']){displayTeamQuizFinalResults();return;}const _0x2736cd=currentQuizData[_0x3bbcc6(0x692)][localQuestionIndex],_0x5da00c=localTeamPlayers[localPlayerIndex],_0x55a081=_0x2736cd['questionType']||currentQuizData[_0x3bbcc6(0x81d)];let _0x45ae0d=_0x2736cd[_0x3bbcc6(0x503)]||_0x2736cd['questionText'],_0x4d0eb1='';switch(_0x55a081){case _0x3bbcc6(0x27f):case _0x3bbcc6(0x583):_0x4d0eb1=_0x2736cd[_0x3bbcc6(0xc69)][_0x3bbcc6(0x625)]((_0x440521,_0xbdd6a4)=>_0x3bbcc6(0x774)+_0xbdd6a4+_0x3bbcc6(0x985)+_0xbdd6a4+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0xbdd6a4+'\x22>'+_0x440521+_0x3bbcc6(0xa86))[_0x3bbcc6(0x424)]('');break;case _0x3bbcc6(0x51c):_0x4d0eb1=_0x3bbcc6(0x4fc);break;case _0x3bbcc6(0xb86):case _0x3bbcc6(0x95c):_0x4d0eb1=_0x3bbcc6(0xb1f);break;case _0x3bbcc6(0x711):_0x4d0eb1=_0x3bbcc6(0x9cf)+_0x2736cd[_0x3bbcc6(0x98b)][_0x3bbcc6(0x625)](_0x2ee043=>'<option\x20value=\x22'+_0x2ee043+'\x22>'+_0x2ee043+_0x3bbcc6(0x64b))[_0x3bbcc6(0x424)]('')+_0x3bbcc6(0x29c);break;default:_0x4d0eb1=_0x3bbcc6(0x789);break;}studentQuizArea[_0x3bbcc6(0x8f6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x3bbcc6(0xc0e)+currentQuizData[_0x3bbcc6(0x692)][_0x3bbcc6(0xa38)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x5da00c+_0x3bbcc6(0x13a)+(localQuestionIndex+0x1)+'.\x20'+_0x45ae0d+_0x3bbcc6(0xb83)+(_0x2736cd[_0x3bbcc6(0xc33)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2736cd[_0x3bbcc6(0xc33)]+_0x3bbcc6(0xa8c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x4d0eb1+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x3bbcc6(0x7ce)](_0x3bbcc6(0x25d));if(window[_0x3bbcc6(0x3fa)])MathJax['typesetPromise']([studentQuizArea]);document[_0x3bbcc6(0x8d1)](_0x3bbcc6(0x955))['addEventListener'](_0x3bbcc6(0x4d9),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0xc34803=_0x252b26,_0x3f9cf6=currentQuizData[_0xc34803(0x692)][localQuestionIndex],_0x4b41b4=_0x3f9cf6[_0xc34803(0x3ae)]||currentQuizData[_0xc34803(0x81d)];let _0x3920b4=null,_0x71080f=![];if(_0x4b41b4===_0xc34803(0xb86)||_0x4b41b4===_0xc34803(0x95c)){const _0x375b99=document['querySelector'](_0xc34803(0x158));if(!_0x375b99||!_0x375b99['value']['trim']()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x3920b4=_0x375b99[_0xc34803(0x64c)]['trim'](),_0x71080f=await gradeShortAnswer(_0x3920b4,_0x3f9cf6);}else{const _0x1f699a=document[_0xc34803(0x2b7)](_0xc34803(0x814));if(!_0x1f699a||_0x1f699a[_0xc34803(0x64c)]===''){showMessage(_0xc34803(0xa39));return;}_0x3920b4=_0x1f699a[_0xc34803(0x64c)];switch(_0x4b41b4){case _0xc34803(0x51c):_0x71080f=_0x3920b4==='true'===_0x3f9cf6[_0xc34803(0x67b)];break;case'matching_item':_0x71080f=_0x3920b4===_0x3f9cf6[_0xc34803(0xb28)];break;default:_0x71080f=parseInt(_0x3920b4)===_0x3f9cf6['correctAnswerIndex'];break;}}const _0x2886d8={'questionIndex':localQuestionIndex,'isCorrect':_0x71080f},_0x37fb32=userId,_0x381fd1={[_0xc34803(0xa35)+_0x37fb32+'.answers']:arrayUnion(_0x2886d8)};_0x71080f&&(_0x381fd1['groups.'+_0x37fb32+'.score']=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0xc34803(0x73b),currentTeamQuizId),_0x381fd1),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0xc34803(0x692)][_0xc34803(0xa38)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x82ae7c){console[_0xc34803(0x62f)](_0xc34803(0x10f),_0x82ae7c),showMessage(_0xc34803(0x9d7));}}async function handleTeamAnswerSubmit(){const _0x34871c=_0x252b26,_0x4ce355=await getDoc(doc(db,_0x34871c(0x1d1)+appId+_0x34871c(0x73b),currentTeamQuizId));if(!_0x4ce355['exists']())return;const _0x3d0de6=_0x4ce355[_0x34871c(0xa36)]();if(_0x3d0de6[_0x34871c(0x5d1)]===_0x34871c(0x706)){handleGroupAnswerSubmit();return;}const _0x1c9e7b=localTeamPlayers[localPlayerIndex],_0x235fca=currentQuizData['questions'][localQuestionIndex],_0x3feec9=_0x235fca['questionType']||currentQuizData[_0x34871c(0x81d)];let _0x2542a7=null,_0x104d5b=![];if(_0x3feec9===_0x34871c(0xb86)||_0x3feec9==='fill_in_no_choices'){const _0x1d8295=document[_0x34871c(0x2b7)]('textarea[name=\x22team_answer\x22]');if(!_0x1d8295||!_0x1d8295['value'][_0x34871c(0x3cf)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x2542a7=_0x1d8295[_0x34871c(0x64c)][_0x34871c(0x3cf)](),_0x104d5b=await gradeShortAnswer(_0x2542a7,_0x235fca);}else{const _0xe1ee10=document[_0x34871c(0x2b7)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0xe1ee10||_0xe1ee10[_0x34871c(0x64c)]===''){showMessage(_0x34871c(0x6b0));return;}_0x2542a7=_0xe1ee10[_0x34871c(0x64c)];switch(_0x3feec9){case _0x34871c(0x51c):_0x104d5b=_0x2542a7==='true'===_0x235fca['correctAnswer'];break;case _0x34871c(0x711):_0x104d5b=_0x2542a7===_0x235fca[_0x34871c(0xb28)];break;default:_0x104d5b=parseInt(_0x2542a7)===_0x235fca[_0x34871c(0x26e)];break;}}const _0x305562={'questionIndex':localQuestionIndex,'isCorrect':_0x104d5b,'answerValue':_0x2542a7},_0x49e230={[_0x34871c(0x634)+_0x1c9e7b+_0x34871c(0x987)]:arrayUnion(_0x305562)};_0x104d5b&&(_0x49e230[_0x34871c(0x634)+_0x1c9e7b+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x34871c(0x1d1)+appId+_0x34871c(0x73b),currentTeamQuizId),_0x49e230),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x34871c(0xa38)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x5f1680){console[_0x34871c(0x62f)](_0x34871c(0x5d8),_0x5f1680),showMessage(_0x34871c(0x9d7));}}async function displayTeamQuizFinalResults(){const _0x4c29da=_0x252b26;studentQuizArea[_0x4c29da(0x1da)][_0x4c29da(0x2df)](_0x4c29da(0x25d)),studentResultArea['classList']['remove']('hidden');const _0x506f14=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5d545a=await getDoc(_0x506f14);if(!_0x5d545a[_0x4c29da(0xbfd)]()){studentResultArea['innerHTML']=_0x4c29da(0x9ef);return;}const _0x269ef7=_0x5d545a[_0x4c29da(0xa36)]();let _0x26d753=[];const _0x2e0b9c=_0x269ef7[_0x4c29da(0x5d1)]||_0x4c29da(0x92e);if(_0x2e0b9c==='group'){const _0x54f165=_0x269ef7[_0x4c29da(0x253)][userId];_0x54f165?_0x26d753=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x4c29da(0x424)](',\x20'),'score':_0x54f165['score']||0x0}]:_0x26d753=[{'name':_0x4c29da(0x69d),'score':_0x4c29da(0x207)}];}else _0x26d753=localTeamPlayers[_0x4c29da(0x625)](_0x466b13=>({'name':_0x466b13,'score':_0x269ef7[_0x4c29da(0xb2a)][_0x466b13]?.['score']||0x0}))[_0x4c29da(0x910)]((_0x5ea6d5,_0x4de90)=>_0x4de90[_0x4c29da(0x3a4)]-_0x5ea6d5[_0x4c29da(0x3a4)]);studentResultArea[_0x4c29da(0x8f6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26d753[_0x4c29da(0x625)](_0x55d75e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x55d75e['name']+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x55d75e[_0x4c29da(0x3a4)]+_0x4c29da(0x459))['join']('')+_0x4c29da(0x851),sessionStorage[_0x4c29da(0xbf0)](_0x4c29da(0x110)),currentMode===_0x4c29da(0x53c)&&currentTeamQuizId&&setTimeout(()=>{const _0x3042ec=_0x4c29da;deleteDoc(doc(db,_0x3042ec(0x1d1)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x252b26(0x7fd),'pinnedProjects':[],'projectView':_0x252b26(0xb27)};const allMathTopics=[{'category':_0x252b26(0x275),'name':_0x252b26(0x619)},{'category':_0x252b26(0x275),'name':'ระบบเลขและค่าประจำหลัก'},{'category':'จำนวนและการดำเนินการ','name':'การปัดเศษและประมาณค่า'},{'category':_0x252b26(0x275),'name':_0x252b26(0x691)},{'category':'จำนวนและการดำเนินการ','name':_0x252b26(0x8d2)},{'category':_0x252b26(0x275),'name':_0x252b26(0x5c5)},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':'จำนวนและการดำเนินการ','name':'การหาร'},{'category':_0x252b26(0x275),'name':_0x252b26(0x5b4)},{'category':_0x252b26(0x275),'name':_0x252b26(0x449)},{'category':_0x252b26(0x275),'name':_0x252b26(0x70e)},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x252b26(0x275),'name':_0x252b26(0x89f)},{'category':_0x252b26(0x275),'name':_0x252b26(0x857)},{'category':_0x252b26(0x275),'name':_0x252b26(0x79a)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x252b26(0x275),'name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x252b26(0xb0e)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x252b26(0x275),'name':_0x252b26(0x4d0)},{'category':_0x252b26(0x275),'name':_0x252b26(0x230)},{'category':'จำนวนและการดำเนินการ','name':_0x252b26(0xa34)},{'category':_0x252b26(0x275),'name':_0x252b26(0x475)},{'category':_0x252b26(0x275),'name':_0x252b26(0x800)},{'category':_0x252b26(0x275),'name':_0x252b26(0x878)},{'category':_0x252b26(0x275),'name':_0x252b26(0xab5)},{'category':'จำนวนและการดำเนินการ','name':_0x252b26(0x42a)},{'category':_0x252b26(0x275),'name':_0x252b26(0xb9d)},{'category':_0x252b26(0x275),'name':_0x252b26(0x2a2)},{'category':_0x252b26(0x275),'name':_0x252b26(0x4b8)},{'category':_0x252b26(0x275),'name':_0x252b26(0x74f)},{'category':'จำนวนและการดำเนินการ','name':_0x252b26(0xa4e)},{'category':_0x252b26(0x275),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x252b26(0x275),'name':_0x252b26(0x1b7)},{'category':_0x252b26(0x275),'name':_0x252b26(0x527)},{'category':_0x252b26(0x275),'name':_0x252b26(0xbc0)},{'category':_0x252b26(0x275),'name':_0x252b26(0x393)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0x2b1)},{'category':_0x252b26(0x7c7),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x252b26(0x7c7),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x252b26(0x7c7),'name':_0x252b26(0xc6d)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0x491)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0x46a)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0x4f2)},{'category':'การวัด','name':_0x252b26(0x9ac)},{'category':'การวัด','name':_0x252b26(0x949)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0x215)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0xad5)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0x894)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0x8ec)},{'category':_0x252b26(0x7c7),'name':_0x252b26(0x552)},{'category':'เรขาคณิต','name':_0x252b26(0x2eb)},{'category':_0x252b26(0xa51),'name':'ความสัมพันธ์ของมุม'},{'category':'เรขาคณิต','name':_0x252b26(0xc16)},{'category':_0x252b26(0xa51),'name':_0x252b26(0x9ac)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x252b26(0xa51),'name':_0x252b26(0xbab)},{'category':_0x252b26(0xa51),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x252b26(0xa51),'name':_0x252b26(0xbbb)},{'category':'เรขาคณิต','name':_0x252b26(0xa10)},{'category':_0x252b26(0xa51),'name':_0x252b26(0xc77)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x252b26(0xa51),'name':_0x252b26(0xc1e)},{'category':_0x252b26(0xa51),'name':_0x252b26(0x8d6)},{'category':'เรขาคณิต','name':_0x252b26(0x1c0)},{'category':_0x252b26(0xa51),'name':_0x252b26(0xbbd)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0xc1b)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x616)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x252b26(0x595)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x252b26(0xbd4)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x85c)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x3bb)},{'category':_0x252b26(0xbc1),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x698)},{'category':_0x252b26(0xbc1),'name':'สมการค่าสัมบูรณ์'},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x975)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x563)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0xbce)},{'category':_0x252b26(0xbc1),'name':'สมการลอการิทึม'},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x3bf)},{'category':_0x252b26(0xbc1),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x59f)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x5bf)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x94f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x252b26(0xc9d)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x615)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x8c2)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x2fa)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x75a)},{'category':_0x252b26(0xbc1),'name':'ฟังก์ชันพหุนาม'},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x5fc)},{'category':_0x252b26(0xbc1),'name':'ฟังก์ชันราก\x20(root)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x252b26(0x3ab)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0xa7c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x252b26(0xbb7)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0xa0a)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x9f1)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x73d)},{'category':_0x252b26(0xbc1),'name':_0x252b26(0x96c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x252b26(0x367)},{'category':_0x252b26(0xa5f),'name':_0x252b26(0x70a)},{'category':_0x252b26(0xa5f),'name':_0x252b26(0xbdc)},{'category':'เรขาคณิตวิเคราะห์','name':_0x252b26(0x136)},{'category':_0x252b26(0xa5f),'name':_0x252b26(0x1ec)},{'category':_0x252b26(0xa5f),'name':_0x252b26(0xc45)},{'category':'เรขาคณิตวิเคราะห์','name':_0x252b26(0x141)},{'category':'เรขาคณิตวิเคราะห์','name':_0x252b26(0x664)},{'category':_0x252b26(0xa5f),'name':'วงรี'},{'category':_0x252b26(0xa5f),'name':_0x252b26(0x279)},{'category':_0x252b26(0x1ea),'name':_0x252b26(0xc11)},{'category':_0x252b26(0x1ea),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x252b26(0x1ea),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':_0x252b26(0x384)},{'category':_0x252b26(0x1ea),'name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':_0x252b26(0xab6)},{'category':_0x252b26(0x1ea),'name':_0x252b26(0x7f5)},{'category':_0x252b26(0x1ea),'name':_0x252b26(0xc35)},{'category':'ตรีโกณมิติ','name':'สมการตรีโกณมิติ'},{'category':'ตรีโกณมิติ','name':_0x252b26(0xb03)},{'category':'ตรีโกณมิติ','name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0xc67)},{'category':_0x252b26(0xc1c),'name':'การจัดกลุ่มข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':_0x252b26(0xc1c),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0xafa)},{'category':_0x252b26(0xc1c),'name':_0x252b26(0x2c3)},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0x6ab)},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0x848)},{'category':_0x252b26(0xc1c),'name':_0x252b26(0xc99)},{'category':_0x252b26(0xc1c),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x252b26(0xc1c),'name':_0x252b26(0xc0c)},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0xb91)},{'category':_0x252b26(0xc1c),'name':_0x252b26(0x784)},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0x23b)},{'category':_0x252b26(0xc1c),'name':_0x252b26(0xb49)},{'category':_0x252b26(0xc1c),'name':_0x252b26(0x7d9)},{'category':_0x252b26(0xc1c),'name':_0x252b26(0x32c)},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0x53e)},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0x25c)},{'category':_0x252b26(0xc1c),'name':_0x252b26(0xa7e)},{'category':_0x252b26(0xc1c),'name':_0x252b26(0xc6e)},{'category':'สถิติและความน่าจะเป็น','name':_0x252b26(0x65c)},{'category':_0x252b26(0xc1c),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x252b26(0x135),'name':_0x252b26(0x6cd)},{'category':_0x252b26(0x135),'name':'ความต่อเนื่อง'},{'category':_0x252b26(0x135),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':'แคลคูลัสเบื้องต้น','name':_0x252b26(0x83c)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x252b26(0x135),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x252b26(0x135),'name':_0x252b26(0x11a)},{'category':_0x252b26(0x135),'name':_0x252b26(0x18e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x252b26(0x162)},{'category':_0x252b26(0x135),'name':_0x252b26(0x4ab)},{'category':_0x252b26(0x135),'name':'ปริพันธ์จำกัด'},{'category':_0x252b26(0x135),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x252b26(0x135),'name':_0x252b26(0x5dd)},{'category':_0x252b26(0x8a8),'name':_0x252b26(0xc68)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x252b26(0xc4e)},{'category':_0x252b26(0x8a8),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x252b26(0x8a8),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x252b26(0x8a8),'name':_0x252b26(0x195)},{'category':_0x252b26(0x8a8),'name':_0x252b26(0x20b)},{'category':_0x252b26(0x8a8),'name':_0x252b26(0x96d)},{'category':_0x252b26(0x823),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x252b26(0x823),'name':_0x252b26(0xa53)},{'category':_0x252b26(0x823),'name':_0x252b26(0x5ba)},{'category':_0x252b26(0x823),'name':_0x252b26(0x586)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x252b26(0x917)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x252b26(0x206),'name':'รูปแบบการให้เหตุผล'},{'category':_0x252b26(0x206),'name':_0x252b26(0x6c9)}];function renderTopicCheckboxes(){const _0xebf824=_0x252b26,_0x2d8732=document[_0xebf824(0x8d1)](_0xebf824(0x33e));if(!_0x2d8732)return;const _0xf9378a=allMathTopics,_0x5839c8=customMathTopics[_0xebf824(0x625)](_0xab0172=>({'id':_0xab0172['id'],'category':_0xebf824(0x3e2),'name':_0xab0172[_0xebf824(0x2c6)]})),_0x2a1c25=[..._0xf9378a,..._0x5839c8],_0x7eef1a=_0x2a1c25['reduce']((_0x1f7f1f,_0x183080)=>{const _0x24b428=_0xebf824;return!_0x1f7f1f[_0x183080[_0x24b428(0x866)]]&&(_0x1f7f1f[_0x183080[_0x24b428(0x866)]]=[]),_0x1f7f1f[_0x183080[_0x24b428(0x866)]][_0x24b428(0xc64)](_0x183080),_0x1f7f1f;},{});let _0x205ba6='';const _0x1b08c7=['หัวข้อที่สร้างเอง',...Object['keys'](_0x7eef1a)[_0xebf824(0x6de)](_0x96b754=>_0x96b754!==_0xebf824(0x3e2))];for(const _0x1bb2b5 of _0x1b08c7){if(_0x7eef1a[_0x1bb2b5]){const _0x3f091b=_0x1bb2b5===_0xebf824(0x3e2),_0x2f883b=_0x3f091b?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0xd3c154=_0x3f091b?_0xebf824(0x28a):_0xebf824(0x97d);_0x205ba6+=_0xebf824(0x35e),_0x205ba6+=_0xebf824(0x305)+_0xd3c154+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x2f883b+_0xebf824(0x4dc)+_0x1bb2b5+'</p>',_0x7eef1a[_0x1bb2b5]['forEach'](_0x439acc=>{const _0x2ec67a=_0xebf824,_0x585eb0=!!_0x439acc['id'],_0x43afe6=_0x585eb0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x439acc['id']+_0x2ec67a(0x549)+_0x439acc['id']+_0x2ec67a(0x368)+_0x439acc['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x439acc['id']+_0x2ec67a(0x618):'';_0x205ba6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x439acc['id']||'')+_0x2ec67a(0x3a9)+_0x439acc['name']+_0x2ec67a(0x85b)+_0x439acc['name']+_0x2ec67a(0x121)+(_0x585eb0?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x439acc[_0x2ec67a(0x2c6)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43afe6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x205ba6+=_0xebf824(0xa8c);}}_0x2d8732[_0xebf824(0x8f6)]=_0x205ba6||_0xebf824(0xbac),_0x2d8732[_0xebf824(0xad6)]('change',updateSelectedTopicsCount),_0x2d8732[_0xebf824(0x2d5)](_0xebf824(0x596),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x34fa9e,_0x3716a4){const _0x2bc372=_0x252b26;if(!_0x34fa9e||!_0x3716a4['trim']()){showMessage(_0x2bc372(0x34a));return;}try{const _0x30d05f=doc(db,_0x2bc372(0x1d1)+appId+_0x2bc372(0x218),_0x34fa9e);await updateDoc(_0x30d05f,{'name':_0x3716a4[_0x2bc372(0x3cf)]()}),showMessage(_0x2bc372(0xbfe));}catch(_0x54c221){console[_0x2bc372(0x62f)](_0x2bc372(0xb5a),_0x54c221),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x57919d,_0x301153){const _0x51d5b7=_0x252b26;if(!_0x57919d)return;const _0x269ff2=_0x57919d[_0x51d5b7(0x2b7)](_0x51d5b7(0x6ae)),_0x103931=_0x57919d[_0x51d5b7(0x2b7)]('.topic-name-input'),_0x9a0938=_0x57919d['querySelector'](_0x51d5b7(0xa0c)),_0x26e021=_0x57919d[_0x51d5b7(0x2b7)](_0x51d5b7(0x8de));_0x269ff2['classList'][_0x51d5b7(0x3a0)]('hidden',_0x301153),_0x103931[_0x51d5b7(0x1da)][_0x51d5b7(0x3a0)](_0x51d5b7(0x25d),!_0x301153),_0x9a0938['classList'][_0x51d5b7(0x3a0)](_0x51d5b7(0x25d),_0x301153),_0x26e021[_0x51d5b7(0x1da)][_0x51d5b7(0x3a0)](_0x51d5b7(0x25d),!_0x301153),_0x301153&&(_0x103931['focus'](),_0x103931[_0x51d5b7(0xaa9)]());}async function handleStartLiveRace(_0x413c0b){const _0x245e7c=_0x252b26;let _0x15ef06=allQuizzes[_0x245e7c(0x269)](_0x31f19a=>_0x31f19a['id']===_0x413c0b);if(!_0x15ef06){const _0x2640cb=doc(db,_0x245e7c(0x1d1)+appId+_0x245e7c(0x1a5),_0x413c0b),_0x448d8a=await getDoc(_0x2640cb);if(!_0x448d8a[_0x245e7c(0xbfd)]()){showMessage(_0x245e7c(0x9ab));return;}_0x15ef06={'id':_0x448d8a['id'],..._0x448d8a[_0x245e7c(0xa36)]()};}const _0x4a097a=getShuffledQuiz(_0x15ef06);currentQuizData=_0x4a097a;const _0x14c8f9=_0x15ef06[_0x245e7c(0x86f)]||currentProjectId||null,_0x556c8e=Math[_0x245e7c(0xb79)](0x3e8+Math['random']()*0x2328)[_0x245e7c(0x626)]();currentLiveGamePin=_0x556c8e;try{const _0x748982=await addDoc(collection(db,_0x245e7c(0x1d1)+appId+_0x245e7c(0xc92)),{'quizId':_0x413c0b,'projectId':_0x14c8f9,'status':_0x245e7c(0x80e),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x556c8e,'createdAt':serverTimestamp(),'shuffledQuiz':_0x4a097a});currentLiveGameId=_0x748982['id'],showAdminLobbyView(_0x556c8e,_0x15ef06[_0x245e7c(0x5d7)]),listenForLiveGameUpdates();}catch(_0x5d1beb){console[_0x245e7c(0x62f)](_0x245e7c(0x775),_0x5d1beb),showMessage(_0x245e7c(0xa05));}}function updateSelectedTopicsCount(){const _0x575abd=_0x252b26,_0xf00345=document[_0x575abd(0x8d1)](_0x575abd(0x33e)),_0x389460=_0xf00345[_0x575abd(0xa48)]('input[type=\x22checkbox\x22]:checked')[_0x575abd(0xa38)],_0x2067bb=document['getElementById'](_0x575abd(0x506));_0x389460>0x0?_0x2067bb[_0x575abd(0x5eb)]='(เลือกแล้ว\x20'+_0x389460+_0x575abd(0x2a0):_0x2067bb[_0x575abd(0x5eb)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x252b26(0x7b8),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x252b26(0x5f0),quizLeaderboardSortOrder=_0x252b26(0x8ac),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x252b26(0x8b4),scratchpadPenColor='#000000',scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x41b5ef,_0x3229d1){const _0x3da51e=_0x252b26;return Math[_0x3da51e(0x59a)](Math[_0x3da51e(0x611)](_0x41b5ef['x']-_0x3229d1['x'],0x2)+Math[_0x3da51e(0x611)](_0x41b5ef['y']-_0x3229d1['y'],0x2));}function getMidpoint(_0x34fb78,_0x279e2e){return{'x':(_0x34fb78['x']+_0x279e2e['x'])/0x2,'y':(_0x34fb78['y']+_0x279e2e['y'])/0x2};}function getTransformedPoint(_0x288785,_0x2b1abb){return{'x':(_0x288785-scratchpadOffset['x'])/scratchpadScale,'y':(_0x2b1abb-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x51508b=_0x252b26;if(!scratchpadCtx)return;const _0x1dbe18=scratchpadCtx['canvas'],_0x132d1e=window[_0x51508b(0xac1)]||0x1,_0x41a554=document[_0x51508b(0x8d1)]('scratchpad-header');_0x41a554&&(_0x41a554['style'][_0x51508b(0x700)]=_0x51508b(0x4e6),_0x41a554['style'][_0x51508b(0x99e)]=_0x51508b(0x537)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x51508b(0x2ac)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x132d1e,0x0,0x0,_0x132d1e,0x0,0x0),scratchpadCtx[_0x51508b(0x9fb)](0x0,0x0,_0x1dbe18['width'],_0x1dbe18['height']),scratchpadCtx[_0x51508b(0x306)](),scratchpadCtx['save'](),scratchpadCtx[_0x51508b(0xb22)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x26061e=>{drawStroke(_0x26061e);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x51508b(0x306)]();}function renderGroupModeQuestion(){const _0x2c7eaa=_0x252b26;if(localQuestionIndex>=currentQuizData[_0x2c7eaa(0x692)][_0x2c7eaa(0xa38)]){displayTeamQuizFinalResults();return;}const _0x1a180e=currentQuizData[_0x2c7eaa(0x692)][localQuestionIndex],_0x4735c2=_0x1a180e[_0x2c7eaa(0x3ae)]||currentQuizData[_0x2c7eaa(0x81d)];let _0x2c2e99=_0x1a180e[_0x2c7eaa(0x503)]||_0x1a180e['questionText'],_0x7d9ec2='';switch(_0x4735c2){case _0x2c7eaa(0x27f):case _0x2c7eaa(0x583):_0x7d9ec2=_0x1a180e[_0x2c7eaa(0xc69)][_0x2c7eaa(0x625)]((_0x4598b2,_0x5462fe)=>_0x2c7eaa(0x774)+_0x5462fe+_0x2c7eaa(0x985)+_0x5462fe+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x5462fe+'\x22>'+_0x4598b2+'</label></div>')['join']('');break;case _0x2c7eaa(0x51c):_0x7d9ec2='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x2c7eaa(0xb86):case _0x2c7eaa(0x95c):_0x7d9ec2=_0x2c7eaa(0x77e);break;case'matching_item':_0x7d9ec2=_0x2c7eaa(0x9cf)+_0x1a180e[_0x2c7eaa(0x98b)][_0x2c7eaa(0x625)](_0x4c0bcf=>'<option\x20value=\x22'+_0x4c0bcf+'\x22>'+_0x4c0bcf+_0x2c7eaa(0x64b))[_0x2c7eaa(0x424)]('')+'</select>';break;default:_0x7d9ec2=_0x2c7eaa(0x789);break;}studentQuizArea['innerHTML']=_0x2c7eaa(0x908)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x2c7eaa(0xa38)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x2c7eaa(0x424)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x2c2e99+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a180e[_0x2c7eaa(0xc33)]?_0x2c7eaa(0x9f9)+_0x1a180e['imageCode']+'</div>':'')+_0x2c7eaa(0x2fc)+_0x7d9ec2+_0x2c7eaa(0x5d5),studentQuizArea[_0x2c7eaa(0x1da)][_0x2c7eaa(0x7ce)](_0x2c7eaa(0x25d));if(window[_0x2c7eaa(0x3fa)])MathJax[_0x2c7eaa(0x422)]([studentQuizArea]);document[_0x2c7eaa(0x8d1)](_0x2c7eaa(0xbea))[_0x2c7eaa(0x2d5)](_0x2c7eaa(0x4d9),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x4be590,_0x1a6e1a=null,_0x1e70d3,_0x323e02=null,_0x516f75=![],_0x2fe3ec=null){const _0x5aefee=_0x252b26,_0x375a14=document[_0x5aefee(0x8d1)](_0x5aefee(0x3a3));_0x375a14&&_0x375a14[_0x5aefee(0xb34)]({'behavior':_0x5aefee(0x16b),'block':_0x5aefee(0x295)}),generateQuiz(_0x4be590,_0x1a6e1a,null,_0x2fe3ec,!![],_0x1e70d3,_0x323e02,_0x516f75);}function handleGenerateAndShowLesson(_0x561754,_0x437806){const _0x4548eb=_0x252b26,_0x43beb5=document[_0x4548eb(0x8d1)](_0x4548eb(0x1a2)),_0x493a50=document[_0x4548eb(0x8d1)](_0x4548eb(0xb23)),_0x29ae3a=document[_0x4548eb(0x8d1)](_0x4548eb(0x928)),_0x5db221=document[_0x4548eb(0x8d1)](_0x4548eb(0xc7c));[_0x4548eb(0x2c1),_0x4548eb(0x33d),_0x4548eb(0xa03),_0x4548eb(0x96e)]['forEach'](_0x3a011c=>{const _0x334ceb=_0x4548eb,_0x4d27c4=document[_0x334ceb(0x8d1)](_0x3a011c)[_0x334ceb(0x997)];_0x4d27c4&&(_0x4d27c4[_0x334ceb(0x8b2)][_0x334ceb(0x6f6)]='block');}),_0x493a50[_0x4548eb(0x5eb)]=_0x4548eb(0xa8a)+_0x561754,_0x5db221['classList'][_0x4548eb(0x2df)](_0x4548eb(0x25d)),_0x29ae3a[_0x4548eb(0x1da)][_0x4548eb(0x7ce)](_0x4548eb(0x25d)),_0x43beb5[_0x4548eb(0x1da)][_0x4548eb(0x7ce)](_0x4548eb(0x25d)),generateLesson(_0x561754,_0x437806)[_0x4548eb(0x988)](_0x176d40=>{const _0x2c1193=_0x4548eb;console['error'](_0x2c1193(0x739),_0x176d40),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x43beb5[_0x2c1193(0x1da)][_0x2c1193(0x2df)](_0x2c1193(0x25d));});}function handlePointerDown(_0x3c3811){const _0x2137d5=_0x252b26;_0x3c3811[_0x2137d5(0x65f)]();const _0x1f50fd=scratchpadCtx[_0x2137d5(0x6df)],_0x2674fd=_0x1f50fd['getBoundingClientRect'](),_0x178fe4=_0x3c3811[_0x2137d5(0x231)]||(_0x3c3811['touches']?'touch':_0x2137d5(0x479));if(_0x178fe4===_0x2137d5(0x8b4)||_0x178fe4===_0x2137d5(0x479)){if(_0x3c3811[_0x2137d5(0x231)]===_0x2137d5(0x479)&&_0x3c3811[_0x2137d5(0x360)]!==0x0){_0x3c3811['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x3c3811['clientX'],'y':_0x3c3811[_0x2137d5(0x603)]},_0x1f50fd[_0x2137d5(0x8b2)]['cursor']=_0x2137d5(0x5b5));return;}activeTool===_0x2137d5(0xc03)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x27adf2=getTransformedPoint(_0x3c3811[_0x2137d5(0xc14)]-_0x2674fd[_0x2137d5(0xbf7)],_0x3c3811[_0x2137d5(0x603)]-_0x2674fd[_0x2137d5(0xb29)]);let _0x51640e={'tool':activeTool,'points':[_0x27adf2]};if(activeTool===_0x2137d5(0xafb))_0x51640e[_0x2137d5(0x675)]=scratchpadHighlighterColor,_0x51640e[_0x2137d5(0xb19)]=scratchpadHighlighterSize;else activeTool===_0x2137d5(0xc03)?(_0x51640e[_0x2137d5(0x675)]=scratchpadPenColor,_0x51640e[_0x2137d5(0xb19)]=scratchpadPenSize):(_0x51640e['color']=scratchpadPenColor,_0x51640e[_0x2137d5(0xb19)]=scratchpadPenSize);currentStroke=_0x51640e;}else _0x3c3811['touches']&&(_0x3c3811['touches'][_0x2137d5(0xa38)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3c3811[_0x2137d5(0xb2d)][0x0][_0x2137d5(0xc14)],'y':_0x3c3811[_0x2137d5(0xb2d)][0x0]['clientY']},{'x':_0x3c3811[_0x2137d5(0xb2d)][0x1][_0x2137d5(0xc14)],'y':_0x3c3811[_0x2137d5(0xb2d)][0x1][_0x2137d5(0x603)]}),initialPinchDistance=getDistance({'x':_0x3c3811[_0x2137d5(0xb2d)][0x0]['clientX'],'y':_0x3c3811['touches'][0x0][_0x2137d5(0x603)]},{'x':_0x3c3811['touches'][0x1]['clientX'],'y':_0x3c3811[_0x2137d5(0xb2d)][0x1][_0x2137d5(0x603)]})));}function animateTrail(){const _0x5cdc75=_0x252b26,_0x332b0b=Date[_0x5cdc75(0x4a0)]();let _0x2dd913=![];for(let _0xcca72f=strokes['length']-0x1;_0xcca72f>=0x0;_0xcca72f--){const _0x43aa42=strokes[_0xcca72f];if(_0x43aa42['tool']==='trail'&&_0x43aa42[_0x5cdc75(0x94c)]){const _0x3509ea=_0x332b0b-_0x43aa42['fadeStartTime'];_0x3509ea>=TRAIL_DURATION?strokes[_0x5cdc75(0x4f8)](_0xcca72f,0x1):(_0x43aa42[_0x5cdc75(0x1cf)]=0x1-_0x3509ea/TRAIL_DURATION,_0x2dd913=!![]);}}redrawScratchpad(),_0x2dd913?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0xf410fd){const _0x2953cb=_0x252b26;if(!_0xf410fd||_0xf410fd[_0x2953cb(0x8eb)][_0x2953cb(0xa38)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x2953cb(0x95a)]=_0x2953cb(0xc2b),scratchpadCtx[_0x2953cb(0x3cc)]=_0x2953cb(0xc2b);if(_0xf410fd[_0x2953cb(0x38e)]===_0x2953cb(0xc03)){const _0x275985=_0xf410fd[_0x2953cb(0xb19)]/scratchpadScale;scratchpadCtx[_0x2953cb(0x9e0)]=_0xf410fd['opacity']??0x1,scratchpadCtx[_0x2953cb(0x6b9)]=_0x2953cb(0x88a),scratchpadCtx[_0x2953cb(0x168)]=_0x275985*0x3,scratchpadCtx['strokeStyle']=_0x2953cb(0x7fa),scratchpadCtx['lineWidth']=_0x275985*2.5,scratchpadCtx[_0x2953cb(0x457)](),scratchpadCtx[_0x2953cb(0x444)](_0xf410fd[_0x2953cb(0x8eb)][0x0]['x'],_0xf410fd['points'][0x0]['y']);for(let _0x4a9f64=0x1;_0x4a9f64<_0xf410fd[_0x2953cb(0x8eb)][_0x2953cb(0xa38)]-0x1;_0x4a9f64++){const _0x389f0f=getMidpoint(_0xf410fd[_0x2953cb(0x8eb)][_0x4a9f64],_0xf410fd[_0x2953cb(0x8eb)][_0x4a9f64+0x1]);scratchpadCtx[_0x2953cb(0x423)](_0xf410fd[_0x2953cb(0x8eb)][_0x4a9f64]['x'],_0xf410fd[_0x2953cb(0x8eb)][_0x4a9f64]['y'],_0x389f0f['x'],_0x389f0f['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x2953cb(0x6b9)]='transparent',scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x2953cb(0x670)]=_0x2953cb(0x658),scratchpadCtx[_0x2953cb(0xa8b)]=_0x275985,scratchpadCtx[_0x2953cb(0x580)](),scratchpadCtx['closePath']();}else{if(_0xf410fd[_0x2953cb(0x38e)]===_0x2953cb(0xafb)){scratchpadCtx['globalCompositeOperation']='multiply',scratchpadCtx[_0x2953cb(0x670)]=_0xf410fd[_0x2953cb(0x675)],scratchpadCtx['lineWidth']=_0xf410fd[_0x2953cb(0xb19)],scratchpadCtx[_0x2953cb(0x457)](),scratchpadCtx['moveTo'](_0xf410fd[_0x2953cb(0x8eb)][0x0]['x'],_0xf410fd['points'][0x0]['y']);for(let _0x57cc84=0x1;_0x57cc84<_0xf410fd[_0x2953cb(0x8eb)]['length']-0x1;_0x57cc84++){const _0xd1ad38=getMidpoint(_0xf410fd[_0x2953cb(0x8eb)][_0x57cc84],_0xf410fd[_0x2953cb(0x8eb)][_0x57cc84+0x1]);scratchpadCtx[_0x2953cb(0x423)](_0xf410fd['points'][_0x57cc84]['x'],_0xf410fd[_0x2953cb(0x8eb)][_0x57cc84]['y'],_0xd1ad38['x'],_0xd1ad38['y']);}scratchpadCtx[_0x2953cb(0x580)](),scratchpadCtx[_0x2953cb(0x502)]();}else{scratchpadCtx[_0x2953cb(0x53a)]=_0xf410fd[_0x2953cb(0x38e)]==='eraser'?_0x2953cb(0x4d6):_0x2953cb(0xc56),scratchpadCtx[_0x2953cb(0x670)]=_0xf410fd[_0x2953cb(0x675)],scratchpadCtx[_0x2953cb(0xa8b)]=_0xf410fd[_0x2953cb(0xb19)],scratchpadCtx[_0x2953cb(0x457)](),scratchpadCtx[_0x2953cb(0x444)](_0xf410fd[_0x2953cb(0x8eb)][0x0]['x'],_0xf410fd[_0x2953cb(0x8eb)][0x0]['y']);for(let _0x521254=0x1;_0x521254<_0xf410fd['points'][_0x2953cb(0xa38)]-0x1;_0x521254++){const _0x49d7e=getMidpoint(_0xf410fd[_0x2953cb(0x8eb)][_0x521254],_0xf410fd[_0x2953cb(0x8eb)][_0x521254+0x1]);scratchpadCtx[_0x2953cb(0x423)](_0xf410fd[_0x2953cb(0x8eb)][_0x521254]['x'],_0xf410fd['points'][_0x521254]['y'],_0x49d7e['x'],_0x49d7e['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x2953cb(0x306)]();}function handlePointerMove(_0x13f687){const _0x4ff98e=_0x252b26;_0x13f687[_0x4ff98e(0x65f)]();const _0x523f98=scratchpadCtx[_0x4ff98e(0x6df)],_0x1ed874=_0x523f98['getBoundingClientRect']();if(_0x13f687[_0x4ff98e(0xb2d)]){if(_0x13f687['touches']['length']===0x1&&isDrawingOnScratchpad){const _0x5c1ecf=getTransformedPoint(_0x13f687[_0x4ff98e(0xb2d)][0x0]['clientX']-_0x1ed874[_0x4ff98e(0xbf7)],_0x13f687[_0x4ff98e(0xb2d)][0x0][_0x4ff98e(0x603)]-_0x1ed874[_0x4ff98e(0xb29)]);currentStroke[_0x4ff98e(0x8eb)]['push'](_0x5c1ecf),redrawScratchpad();}else{if(_0x13f687[_0x4ff98e(0xb2d)][_0x4ff98e(0xa38)]===0x2&&isPanning){const _0x435feb=getDistance({'x':_0x13f687[_0x4ff98e(0xb2d)][0x0][_0x4ff98e(0xc14)],'y':_0x13f687['touches'][0x0][_0x4ff98e(0x603)]},{'x':_0x13f687[_0x4ff98e(0xb2d)][0x1][_0x4ff98e(0xc14)],'y':_0x13f687['touches'][0x1][_0x4ff98e(0x603)]}),_0x290ae7=getMidpoint({'x':_0x13f687[_0x4ff98e(0xb2d)][0x0][_0x4ff98e(0xc14)],'y':_0x13f687[_0x4ff98e(0xb2d)][0x0]['clientY']},{'x':_0x13f687[_0x4ff98e(0xb2d)][0x1][_0x4ff98e(0xc14)],'y':_0x13f687[_0x4ff98e(0xb2d)][0x1]['clientY']}),_0x4be720=_0x435feb/ initialPinchDistance,_0x22efb2=Math[_0x4ff98e(0xa49)](Math[_0x4ff98e(0x494)](scratchpadScale*_0x4be720,MIN_SCALE),MAX_SCALE),_0x20c8fb=_0x290ae7['x']-panStart['x'],_0x60a864=_0x290ae7['y']-panStart['y'];scratchpadOffset['x']=_0x290ae7['x']-(_0x290ae7['x']-scratchpadOffset['x'])*(_0x22efb2/scratchpadScale),scratchpadOffset['y']=_0x290ae7['y']-(_0x290ae7['y']-scratchpadOffset['y'])*(_0x22efb2/scratchpadScale),scratchpadOffset['x']+=_0x20c8fb,scratchpadOffset['y']+=_0x60a864,scratchpadScale=_0x22efb2,initialPinchDistance=_0x435feb,panStart=_0x290ae7,redrawScratchpad();}}}else{if(isMousePanning){const _0x3bcd12=_0x13f687[_0x4ff98e(0xc14)]-panStart['x'],_0x537fc1=_0x13f687[_0x4ff98e(0x603)]-panStart['y'];scratchpadOffset['x']+=_0x3bcd12,scratchpadOffset['y']+=_0x537fc1,panStart={'x':_0x13f687[_0x4ff98e(0xc14)],'y':_0x13f687[_0x4ff98e(0x603)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0xe32f7b=getTransformedPoint(_0x13f687['clientX']-_0x1ed874[_0x4ff98e(0xbf7)],_0x13f687['clientY']-_0x1ed874[_0x4ff98e(0xb29)]);currentStroke[_0x4ff98e(0x8eb)][_0x4ff98e(0xc64)](_0xe32f7b),redrawScratchpad();}}}}function handlePointerUp(_0x7c6c76){const _0x1a8a99=_0x252b26;_0x7c6c76[_0x1a8a99(0x65f)]();const _0x2ca771=scratchpadCtx[_0x1a8a99(0x6df)];isMousePanning&&(isMousePanning=![],_0x2ca771[_0x1a8a99(0x8b2)]['cursor']=_0x1a8a99(0x9c5)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x1a8a99(0x8eb)][_0x1a8a99(0xa38)]>0x1&&(strokes[_0x1a8a99(0xc64)](currentStroke),currentStroke[_0x1a8a99(0x38e)]===_0x1a8a99(0xc03)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x172b02=_0x1a8a99,_0x49601d=strokes[_0x172b02(0x6de)](_0xa51091=>_0xa51091['tool']==='trail'&&!_0xa51091[_0x172b02(0x94c)]);if(_0x49601d['length']>0x0){const _0x221c33=Date[_0x172b02(0x4a0)]();_0x49601d['forEach'](_0x4e122d=>_0x4e122d[_0x172b02(0x94c)]=_0x221c33),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x52aafc){const _0x549e30=_0x252b26;_0x52aafc['preventDefault']();const _0x25761e=_0x52aafc[_0x549e30(0x2cd)]*-0.005,_0x3d06dc=Math[_0x549e30(0xa49)](Math[_0x549e30(0x494)](scratchpadScale+_0x25761e,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x52aafc['clientX']-(_0x52aafc['clientX']-scratchpadOffset['x'])*(_0x3d06dc/scratchpadScale),scratchpadOffset['y']=_0x52aafc[_0x549e30(0x603)]-(_0x52aafc[_0x549e30(0x603)]-scratchpadOffset['y'])*(_0x3d06dc/scratchpadScale),scratchpadScale=_0x3d06dc,redrawScratchpad();}function undo(){const _0x2fa92d=_0x252b26;strokes[_0x2fa92d(0xa38)]>0x0&&(redoStrokes[_0x2fa92d(0xc64)](strokes[_0x2fa92d(0x488)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x139111=_0x252b26;redoStrokes[_0x139111(0xa38)]>0x0&&(strokes[_0x139111(0xc64)](redoStrokes[_0x139111(0x488)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2fa8c2=_0x252b26;document[_0x2fa8c2(0x8d1)](_0x2fa8c2(0x8da))[_0x2fa8c2(0x7dc)]=strokes[_0x2fa8c2(0xa38)]===0x0,document[_0x2fa8c2(0x8d1)]('redo-btn')[_0x2fa8c2(0x7dc)]=redoStrokes[_0x2fa8c2(0xa38)]===0x0;}function openScratchpad(_0xcf7b1d,_0x30f05f){const _0x411f20=_0x252b26,_0x4c49de=document[_0x411f20(0x8d1)](_0x411f20(0x404)),_0x2b5379=document['getElementById'](_0x411f20(0x995)),_0x477ac5=document[_0x411f20(0x8d1)](_0x411f20(0x92f)),_0x4a678d=document[_0x411f20(0x8d1)](_0x411f20(0x8b6));_0x2b5379['innerHTML']=_0xcf7b1d[_0x411f20(0x503)]||_0xcf7b1d[_0x411f20(0x15a)],_0x477ac5[_0x411f20(0x8f6)]=_0x30f05f[_0x411f20(0x625)]((_0x54ddbe,_0x165758)=>_0x411f20(0x1f3)+String[_0x411f20(0x7a3)](0x41+_0x165758)+'.\x20'+_0x54ddbe+_0x411f20(0xa8c))[_0x411f20(0x424)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4c49de[_0x411f20(0x1da)][_0x411f20(0x7ce)](_0x411f20(0x25d)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x411f20(0x3fa)])MathJax[_0x411f20(0x422)]([_0x2b5379,_0x477ac5]);}function openBlueprintQuizSettings(){const _0x13b0bc=_0x252b26,_0xb67337=document[_0x13b0bc(0x8d1)](_0x13b0bc(0xa90)),_0x4b05cd=blueprintPageSettings||(currentProjectData?currentProjectData[_0x13b0bc(0x716)]:{})||{};document['getElementById']('bp-modal-quiz-type-select')[_0x13b0bc(0x64c)]=_0x4b05cd['quizType']||document[_0x13b0bc(0x8d1)](_0x13b0bc(0x3ca))[_0x13b0bc(0x64c)],document[_0x13b0bc(0x8d1)](_0x13b0bc(0x966))['innerHTML']=document[_0x13b0bc(0x8d1)]('difficulty-level-select')[_0x13b0bc(0x8f6)],document['getElementById']('bp-modal-difficulty-level-select')[_0x13b0bc(0x64c)]=_0x4b05cd['difficultyValue']||document[_0x13b0bc(0x8d1)](_0x13b0bc(0x957))[_0x13b0bc(0x64c)],document[_0x13b0bc(0x8d1)](_0x13b0bc(0x612))['innerHTML']=document[_0x13b0bc(0x8d1)](_0x13b0bc(0xb30))[_0x13b0bc(0x8f6)],document[_0x13b0bc(0x8d1)](_0x13b0bc(0x612))[_0x13b0bc(0x64c)]=_0x4b05cd[_0x13b0bc(0x3f0)]||document[_0x13b0bc(0x8d1)](_0x13b0bc(0xb30))[_0x13b0bc(0x64c)],document[_0x13b0bc(0x8d1)](_0x13b0bc(0x953))[_0x13b0bc(0x64c)]=_0x4b05cd[_0x13b0bc(0x589)]||document[_0x13b0bc(0x8d1)]('num-questions')[_0x13b0bc(0x64c)],document[_0x13b0bc(0x8d1)](_0x13b0bc(0x8c1))[_0x13b0bc(0x64c)]=_0x4b05cd[_0x13b0bc(0xc65)]||document[_0x13b0bc(0x8d1)](_0x13b0bc(0x2da))[_0x13b0bc(0x64c)],document[_0x13b0bc(0x8d1)]('bp-modal-num-choices')[_0x13b0bc(0x64c)]=_0x4b05cd[_0x13b0bc(0x3ff)]||document[_0x13b0bc(0x8d1)](_0x13b0bc(0x543))['value'],document[_0x13b0bc(0x8d1)]('bp-modal-shuffle-setting-select')[_0x13b0bc(0x64c)]=_0x4b05cd[_0x13b0bc(0xa24)]||document[_0x13b0bc(0x8d1)]('shuffle-setting-select')[_0x13b0bc(0x64c)],document[_0x13b0bc(0x8d1)]('bp-modal-include-images-checkbox')[_0x13b0bc(0x22d)]=_0x4b05cd['includeImages']||document['getElementById'](_0x13b0bc(0x228))[_0x13b0bc(0x22d)],_0xb67337['classList']['remove'](_0x13b0bc(0x25d));}function handleSaveBlueprintPageSettings(){const _0x4c20e7=_0x252b26;blueprintPageSettings={'quizType':document[_0x4c20e7(0x8d1)](_0x4c20e7(0x32b))[_0x4c20e7(0x64c)],'difficultyValue':document[_0x4c20e7(0x8d1)](_0x4c20e7(0x966))[_0x4c20e7(0x64c)],'complexityValue':document[_0x4c20e7(0x8d1)](_0x4c20e7(0x612))[_0x4c20e7(0x64c)],'numQuestions':document[_0x4c20e7(0x8d1)](_0x4c20e7(0x953))[_0x4c20e7(0x64c)],'passingScore':document[_0x4c20e7(0x8d1)]('bp-modal-passing-score-input')[_0x4c20e7(0x64c)],'numChoices':document[_0x4c20e7(0x8d1)](_0x4c20e7(0x205))[_0x4c20e7(0x64c)],'shuffle':document[_0x4c20e7(0x8d1)](_0x4c20e7(0xc27))[_0x4c20e7(0x64c)],'includeImages':document[_0x4c20e7(0x8d1)](_0x4c20e7(0x85a))[_0x4c20e7(0x22d)]},showMessage(_0x4c20e7(0x4a6)),document[_0x4c20e7(0x8d1)](_0x4c20e7(0xa90))['classList'][_0x4c20e7(0x2df)]('hidden');}function listenForParallelTestShortcuts(){const _0x30cbdf=_0x252b26,_0x55f423=doc(db,_0x30cbdf(0x378),_0x30cbdf(0x370));onSnapshot(_0x55f423,_0x1fac96=>{const _0x2c7014=_0x30cbdf;let _0x55d1fe=[],_0x2aed1a=[],_0x3a1594={};if(_0x1fac96[_0x2c7014(0xbfd)]()){const _0x354056=_0x1fac96[_0x2c7014(0xa36)]();_0x55d1fe=_0x354056[_0x2c7014(0x1c1)]||[],_0x2aed1a=_0x354056['parallelShortcutTabs']||[],_0x3a1594=_0x354056[_0x2c7014(0x57f)]||{};}!_0x2aed1a['find'](_0x1591d3=>_0x1591d3['id']===_0x2c7014(0xadc))&&_0x2aed1a[_0x2c7014(0x73a)]({'id':_0x2c7014(0xadc),'name':_0x2c7014(0x682),'isDefault':!![]}),!_0x55d1fe[_0x2c7014(0x269)](_0x4b1f6c=>_0x4b1f6c['id']==='parallel-default-1')&&_0x55d1fe['unshift']({'id':_0x2c7014(0x59b),'name':_0x2c7014(0x686),'url':'','isDefault':!![]}),!_0x55d1fe['find'](_0x227541=>_0x227541['id']===_0x2c7014(0x441))&&_0x55d1fe['unshift']({'id':_0x2c7014(0x441),'name':_0x2c7014(0xa78),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x55d1fe,parallelShortcutTabs=_0x2aed1a,parallelShortcutOrder=_0x3a1594,renderParallelTestShortcuts(),!document[_0x2c7014(0x8d1)](_0x2c7014(0xb1c))[_0x2c7014(0x1da)][_0x2c7014(0x63c)](_0x2c7014(0x25d))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x35c210=_0x252b26,_0x1394b4=doc(db,_0x35c210(0x378),'parallelTestShortcutsConfig');try{await setDoc(_0x1394b4,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x31e0f4){console[_0x35c210(0x62f)](_0x35c210(0x8c3),_0x31e0f4);}}function renderAdditionalParallelShortcutsModal(){const _0x4ebc74=_0x252b26,_0x2ee97b=document['getElementById'](_0x4ebc74(0x845)),_0x5d0284=document['getElementById'](_0x4ebc74(0x180));if(!_0x2ee97b||!_0x5d0284)return;_0x2ee97b[_0x4ebc74(0x8f6)]=parallelShortcutTabs[_0x4ebc74(0x625)](_0x1ab2e0=>{const _0x56ec68=_0x4ebc74,_0x3f869a=_0x1ab2e0['id']===activeParallelShortcutTabId;return _0x56ec68(0x999)+_0x1ab2e0['id']+_0x56ec68(0x554)+(_0x3f869a?_0x56ec68(0x19f):_0x56ec68(0x58a))+_0x56ec68(0xa91)+_0x1ab2e0[_0x56ec68(0x2c6)]+_0x56ec68(0x138)+_0x1ab2e0['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1ab2e0[_0x56ec68(0x701)]?_0x56ec68(0xb44)+_0x1ab2e0['id']+_0x56ec68(0x91c):'')+_0x56ec68(0x4c5);})['join']('');const _0x119192=parallelShortcutTabs['find'](_0x262def=>_0x262def['id']===activeParallelShortcutTabId);let _0x243df6=_0x119192?.[_0x4ebc74(0x701)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x4ebc74(0x6de)](_0x52fd7f=>(_0x119192?.[_0x4ebc74(0x811)]||[])[_0x4ebc74(0x7d5)](_0x52fd7f['id']));const _0x12acf9=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x243df6[_0x4ebc74(0x910)]((_0x504acb,_0x153ad1)=>{const _0x3442b6=_0x4ebc74,_0x3efb8d=_0x12acf9[_0x3442b6(0xaa5)](_0x504acb['id']),_0x49db92=_0x12acf9[_0x3442b6(0xaa5)](_0x153ad1['id']);return(_0x3efb8d===-0x1?Infinity:_0x3efb8d)-(_0x49db92===-0x1?Infinity:_0x49db92);}),_0x5d0284[_0x4ebc74(0x8f6)]=_0x243df6['map'](_0x27112f=>{const _0x47a85b=_0x4ebc74,_0x1e2cbd=_0x27112f[_0x47a85b(0xb47)]?'🔁':'🔗',_0x2dc750=parallelShortcutTabs[_0x47a85b(0x6de)](_0x2a5686=>!_0x2a5686['isDefault']),_0xf47ed2=_0x119192[_0x47a85b(0x701)]&&_0x2dc750[_0x47a85b(0xa38)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2dc750['map'](_0x5e34fa=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x27112f['id']+_0x47a85b(0x281)+_0x5e34fa['id']+'\x22>'+_0x5e34fa[_0x47a85b(0x2c6)]+_0x47a85b(0x3fb))[_0x47a85b(0x424)]('')+_0x47a85b(0xa28):'';return _0x47a85b(0xad0)+_0x27112f['id']+_0x47a85b(0x655)+_0x1e2cbd+'\x20'+_0x27112f[_0x47a85b(0x2c6)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x27112f['id']+_0x47a85b(0x68c)+_0x27112f['id']+_0x47a85b(0x859)+(!_0x27112f['isDefault']?_0x47a85b(0x43e)+_0x27112f['id']+_0x47a85b(0x40e):'')+_0x47a85b(0x6e4)+(!_0x119192[_0x47a85b(0x701)]?'<button\x20data-shortcut-id=\x22'+_0x27112f['id']+_0x47a85b(0x918):'')+_0x47a85b(0x6e4)+_0xf47ed2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4ebc74(0x424)]('')||_0x4ebc74(0x36f),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4d22c1=_0x252b26;document[_0x4d22c1(0xa48)](_0x4d22c1(0xb63))[_0x4d22c1(0x236)](_0x4b16ae=>{_0x4b16ae['onclick']=_0x5d8f13=>{const _0x719efc=_0x4c50;activeParallelShortcutTabId=_0x5d8f13[_0x719efc(0x37d)][_0x719efc(0x9e8)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x4b16ae['ondblclick']=_0x217887=>{const _0x1b437a=_0x4c50,_0x90395c=_0x217887[_0x1b437a(0x37d)][_0x1b437a(0x2b7)]('.tab-name-input');_0x217887[_0x1b437a(0x37d)][_0x1b437a(0x2b7)](_0x1b437a(0xae0))[_0x1b437a(0x1da)]['add'](_0x1b437a(0x25d)),_0x90395c['classList'][_0x1b437a(0x7ce)](_0x1b437a(0x25d)),_0x90395c[_0x1b437a(0x220)](),_0x90395c[_0x1b437a(0xaa9)]();};}),document['querySelectorAll'](_0x4d22c1(0x128))[_0x4d22c1(0x236)](_0x3363bc=>{const _0x2c44f2=_0x4d22c1,_0x232f9c=()=>{const _0x57ddb8=_0x4c50,_0x386d8f=_0x3363bc[_0x57ddb8(0x161)]('.parallel-shortcut-tab-btn')['dataset'][_0x57ddb8(0x657)],_0x5e1c58=parallelShortcutTabs[_0x57ddb8(0x269)](_0x1c7f0e=>_0x1c7f0e['id']===_0x386d8f);_0x5e1c58&&(_0x5e1c58[_0x57ddb8(0x2c6)]=_0x3363bc[_0x57ddb8(0x64c)]['trim']()||_0x5e1c58[_0x57ddb8(0x2c6)],saveParallelShortcutConfig());};_0x3363bc[_0x2c44f2(0xab1)]=_0x232f9c,_0x3363bc[_0x2c44f2(0xa60)]=_0x176157=>{const _0x15242d=_0x2c44f2;if(_0x176157[_0x15242d(0x74c)]===_0x15242d(0x3b9))_0x3363bc[_0x15242d(0x4a5)]();};}),document[_0x4d22c1(0xa48)]('.delete-parallel-shortcut-tab-btn')['forEach'](_0x3a5c69=>_0x3a5c69['onclick']=_0x3b326d=>{const _0xfe58b0=_0x4d22c1,_0x2f7ef0=_0x3b326d['currentTarget'][_0xfe58b0(0x9e8)][_0xfe58b0(0x657)];showConfirmation(_0xfe58b0(0x536),()=>{const _0x3219a6=_0xfe58b0;parallelShortcutTabs=parallelShortcutTabs[_0x3219a6(0x6de)](_0x352af0=>_0x352af0['id']!==_0x2f7ef0),delete parallelShortcutOrder[_0x2f7ef0];if(activeParallelShortcutTabId===_0x2f7ef0)activeParallelShortcutTabId=_0x3219a6(0xadc);saveParallelShortcutConfig();});}),document[_0x4d22c1(0xa48)](_0x4d22c1(0x7aa))['forEach'](_0x419128=>_0x419128['onclick']=_0x573b01=>{const _0x13d085=_0x4d22c1;_0x573b01[_0x13d085(0x65f)]();const {shortcutId:_0x3d97c4,targetTabId:_0x214247}=_0x573b01['currentTarget']['dataset'],_0x1afb37=parallelShortcutTabs['find'](_0x2f5c99=>_0x2f5c99['id']===_0x214247);_0x1afb37&&!_0x1afb37['shortcutIds'][_0x13d085(0x7d5)](_0x3d97c4)&&(_0x1afb37['shortcutIds']['push'](_0x3d97c4),saveParallelShortcutConfig());}),document[_0x4d22c1(0xa48)](_0x4d22c1(0x1ef))[_0x4d22c1(0x236)](_0x956abb=>_0x956abb[_0x4d22c1(0xa67)]=_0xa456f9=>{const _0x4856a4=_0x4d22c1,_0x56c630=_0xa456f9[_0x4856a4(0x37d)]['dataset'][_0x4856a4(0x324)],_0x2abf20=parallelShortcutTabs[_0x4856a4(0x269)](_0x3aeee5=>_0x3aeee5['id']===activeParallelShortcutTabId);_0x2abf20&&!_0x2abf20[_0x4856a4(0x701)]&&(_0x2abf20[_0x4856a4(0x811)]=_0x2abf20[_0x4856a4(0x811)][_0x4856a4(0x6de)](_0x55cca8=>_0x55cca8!==_0x56c630),saveParallelShortcutConfig());}),document['querySelectorAll']('.move-parallel-shortcut-menu-btn')[_0x4d22c1(0x236)](_0x16bac7=>_0x16bac7['onclick']=_0x323ff0=>{const _0x5cd6e3=_0x4d22c1;_0x323ff0[_0x5cd6e3(0x3c0)]();const _0x33bfe6=_0x323ff0['currentTarget']['nextElementSibling'];document['querySelectorAll'](_0x5cd6e3(0x5d6))['forEach'](_0x23d409=>_0x23d409[_0x5cd6e3(0x1da)][_0x5cd6e3(0x2df)](_0x5cd6e3(0x25d))),_0x33bfe6['classList'][_0x5cd6e3(0x7ce)](_0x5cd6e3(0x25d));});const _0x30ac3f=document[_0x4d22c1(0x8d1)](_0x4d22c1(0x180));let _0x397323=null;_0x30ac3f['ondragstart']=_0x2c52f4=>{const _0x430c71=_0x4d22c1;_0x397323=_0x2c52f4[_0x430c71(0x54a)][_0x430c71(0x161)](_0x430c71(0x9e5));if(_0x397323)setTimeout(()=>_0x397323[_0x430c71(0x1da)][_0x430c71(0x2df)](_0x430c71(0x6c8)),0x0);},_0x30ac3f['ondragend']=()=>{const _0x4b3b4c=_0x4d22c1;_0x397323&&(_0x397323['classList'][_0x4b3b4c(0x7ce)]('opacity-50'),_0x397323=null);},_0x30ac3f[_0x4d22c1(0x8c5)]=_0x1d947a=>{const _0x5b9b17=_0x4d22c1;_0x1d947a[_0x5b9b17(0x65f)]();},_0x30ac3f['ondrop']=_0x3a96bc=>{const _0x119baa=_0x4d22c1;_0x3a96bc['preventDefault']();if(_0x397323){const _0x32e91d=[..._0x30ac3f[_0x119baa(0xa48)](_0x119baa(0x222))]['reduce']((_0x14c80e,_0x21a155)=>{const _0x56b472=_0x119baa,_0x441a45=_0x21a155[_0x56b472(0xc5c)](),_0x1f9cad=_0x3a96bc['clientY']-_0x441a45[_0x56b472(0xb29)]-_0x441a45[_0x56b472(0x92c)]/0x2;return _0x1f9cad<0x0&&_0x1f9cad>_0x14c80e['offset']?{'offset':_0x1f9cad,'element':_0x21a155}:_0x14c80e;},{'offset':Number[_0x119baa(0x7f9)]})[_0x119baa(0x656)];_0x32e91d==null?_0x30ac3f[_0x119baa(0x726)](_0x397323):_0x30ac3f[_0x119baa(0x97f)](_0x397323,_0x32e91d);const _0x563ce4=[..._0x30ac3f[_0x119baa(0xa48)](_0x119baa(0x9e5))][_0x119baa(0x625)](_0x468e24=>_0x468e24[_0x119baa(0x9e8)][_0x119baa(0x324)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x563ce4,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x537a25=_0x252b26,_0x145a4c=prompt(_0x537a25(0x399),_0x537a25(0x67e));_0x145a4c&&_0x145a4c[_0x537a25(0x3cf)]()&&(parallelShortcutTabs['push']({'id':_0x537a25(0x173)+Date[_0x537a25(0x4a0)](),'name':_0x145a4c[_0x537a25(0x3cf)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x4302a9=_0x252b26,_0x23cb37=document[_0x4302a9(0x8d1)](_0x4302a9(0x21f)),_0x4b80cf=document[_0x4302a9(0x8d1)](_0x4302a9(0x180)),_0xbaca7b=document['getElementById'](_0x4302a9(0x4d5));if(_0xbaca7b)_0xbaca7b[_0x4302a9(0x1da)][_0x4302a9(0x2df)](_0x4302a9(0x25d));if(!_0x23cb37||!_0x4b80cf)return;const _0x49b8ca=parallelTestShortcuts['slice'](0x0,0x4),_0x204931=parallelTestShortcuts[_0x4302a9(0xa66)](0x4);_0x23cb37[_0x4302a9(0x8f6)]=_0x49b8ca['map'](_0x3ca9a4=>{const _0x113327=_0x4302a9,_0x186419=_0x3ca9a4[_0x113327(0xb47)]&&_0x3ca9a4[_0x113327(0xb47)]['trim']()!=='',_0x19c754=_0x186419?'bg-teal-500\x20hover:bg-teal-600\x20text-white':'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x5d8a88=_0x186419?'🔁':'🔗',_0x186163=!_0x3ca9a4[_0x113327(0x701)]?'<button\x20data-id=\x22'+_0x3ca9a4['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x3ca9a4['id']+_0x113327(0x1b6)+_0x19c754+_0x113327(0xa43)+_0x5d8a88+'\x20'+_0x3ca9a4[_0x113327(0x2c6)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ca9a4['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x186163+_0x113327(0xc3d);})[_0x4302a9(0x424)](''),_0x204931[_0x4302a9(0xa38)]>0x0&&(_0x23cb37[_0x4302a9(0x8f6)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x204931['length']>0x0?_0x4b80cf[_0x4302a9(0x8f6)]=_0x204931['map'](_0x47cc1a=>_0x4302a9(0xa79)+(_0x47cc1a[_0x4302a9(0xb47)]?'🔁':'🔗')+'\x20'+_0x47cc1a[_0x4302a9(0x2c6)]+_0x4302a9(0x93f)+_0x47cc1a['id']+_0x4302a9(0x5cb)+_0x47cc1a['id']+_0x4302a9(0x74b)+(!_0x47cc1a[_0x4302a9(0x701)]?_0x4302a9(0x43e)+_0x47cc1a['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x4302a9(0x75f))['join'](''):_0x4b80cf[_0x4302a9(0x8f6)]=_0x4302a9(0x9ce);}function openParallelTestShortcutEditor(_0x2bb6f4=null){const _0x1bc4eb=_0x252b26,_0x475aa0=document[_0x1bc4eb(0x8d1)](_0x1bc4eb(0x428)),_0x5233fe=document[_0x1bc4eb(0x8d1)](_0x1bc4eb(0x897)),_0x207a96=document['getElementById'](_0x1bc4eb(0x57d)),_0x12045f=document[_0x1bc4eb(0x8d1)](_0x1bc4eb(0x345)),_0x2bbde2=document[_0x1bc4eb(0x8d1)]('parallel-shortcut-url-input');if(_0x2bb6f4){const _0x2adf50=parallelTestShortcuts[_0x1bc4eb(0x269)](_0x2df093=>_0x2df093['id']===_0x2bb6f4);if(!_0x2adf50)return;_0x5233fe['textContent']='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x207a96['value']=_0x2adf50['id'],_0x12045f[_0x1bc4eb(0x64c)]=_0x2adf50['name'],_0x2bbde2[_0x1bc4eb(0x64c)]=_0x2adf50[_0x1bc4eb(0xb47)]||'';}else _0x5233fe[_0x1bc4eb(0x5eb)]=_0x1bc4eb(0x17b),_0x207a96['value']='',_0x12045f[_0x1bc4eb(0x64c)]='',_0x2bbde2['value']='';_0x475aa0[_0x1bc4eb(0x1da)]['remove'](_0x1bc4eb(0x25d));}async function saveParallelTestShortcutChanges(){const _0x1d508c=_0x252b26,_0x45032b=document[_0x1d508c(0x8d1)](_0x1d508c(0x57d))[_0x1d508c(0x64c)],_0x2366ed=document[_0x1d508c(0x8d1)](_0x1d508c(0x345))[_0x1d508c(0x64c)][_0x1d508c(0x3cf)](),_0x44eb77=document[_0x1d508c(0x8d1)](_0x1d508c(0x315))[_0x1d508c(0x64c)][_0x1d508c(0x3cf)]();if(!_0x2366ed){showMessage(_0x1d508c(0xb73));return;}const _0xc14a41={'id':_0x45032b||_0x1d508c(0x5fb)+Date[_0x1d508c(0x4a0)](),'name':_0x2366ed,'url':_0x44eb77,'isDefault':_0x45032b[_0x1d508c(0x42d)]('parallel-default-')};let _0x1c4d22;_0x45032b?_0x1c4d22=parallelTestShortcuts[_0x1d508c(0x625)](_0x45bb3c=>_0x45bb3c['id']===_0x45032b?_0xc14a41:_0x45bb3c):_0x1c4d22=[...parallelTestShortcuts,_0xc14a41];try{const _0x4faa1e=doc(db,'globalSettings',_0x1d508c(0x370));await setDoc(_0x4faa1e,{'shortcuts':_0x1c4d22},{'merge':!![]}),document[_0x1d508c(0x8d1)]('parallel-shortcut-editor-modal')['classList'][_0x1d508c(0x2df)](_0x1d508c(0x25d));}catch(_0x55bec0){console['error'](_0x1d508c(0x38c),_0x55bec0),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x1a02d0){const _0x31d48c=_0x252b26,_0x20b650=parallelTestShortcuts[_0x31d48c(0x269)](_0x1269a7=>_0x1269a7['id']===_0x1a02d0);if(!_0x20b650)return;if(!_0x20b650[_0x31d48c(0xb47)]||_0x20b650[_0x31d48c(0xb47)][_0x31d48c(0x3cf)]()===''){openParallelTestShortcutEditor(_0x1a02d0);return;}const _0x25f993=document[_0x31d48c(0x8d1)](_0x31d48c(0x67c)),_0x20af78=document[_0x31d48c(0x8d1)](_0x31d48c(0x773));document[_0x31d48c(0x8d1)](_0x31d48c(0x3a3))[_0x31d48c(0x1da)]['remove']('hidden'),document[_0x31d48c(0x8d1)](_0x31d48c(0x538))[_0x31d48c(0x8f6)]='',_0x25f993[_0x31d48c(0x1da)][_0x31d48c(0x7ce)](_0x31d48c(0x25d)),_0x20af78[_0x31d48c(0x5eb)]=_0x31d48c(0x2de);try{let _0x47bd8d;_0x20b650['url']['toLowerCase']()[_0x31d48c(0x7d5)](_0x31d48c(0xc7d))?_0x47bd8d=_0x31d48c(0xc37):_0x47bd8d='source_document.pdf';const _0x595caa=await fetchFileFromUrl(_0x20b650['url'],_0x47bd8d);await handleGenerateParallelTest(_0x595caa);}catch(_0x3c38f4){console[_0x31d48c(0x62f)](_0x31d48c(0x5da),_0x3c38f4),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3c38f4[_0x31d48c(0xa56)]),_0x25f993['classList'][_0x31d48c(0x2df)](_0x31d48c(0x25d));}}function initializeScratchpadCanvas(){const _0x243b48=_0x252b26,_0x1e4a82=document['getElementById']('scratchpad-canvas'),_0x2930ee=document[_0x243b48(0x2b7)](_0x243b48(0x708));if(!_0x1e4a82||!_0x2930ee)return;scratchpadCtx=_0x1e4a82[_0x243b48(0xbd3)]('2d',{'willReadFrequently':!![]});const _0x1e01e0=window[_0x243b48(0xac1)]||0x1,_0x13bc84=_0x2930ee['getBoundingClientRect']();_0x1e4a82['width']=_0x13bc84[_0x243b48(0xb2f)]*_0x1e01e0,_0x1e4a82[_0x243b48(0x92c)]=_0x13bc84['height']*_0x1e01e0,_0x1e4a82['style'][_0x243b48(0xb2f)]=_0x13bc84[_0x243b48(0xb2f)]+'px',_0x1e4a82[_0x243b48(0x8b2)]['height']=_0x13bc84[_0x243b48(0x92c)]+'px',scratchpadCtx[_0x243b48(0x9c9)](_0x1e01e0,_0x1e01e0),scratchpadCtx[_0x243b48(0x95a)]=_0x243b48(0xc2b),scratchpadCtx[_0x243b48(0x3cc)]=_0x243b48(0xc2b),_0x1e4a82[_0x243b48(0xad6)]('pointerdown',handlePointerDown),_0x1e4a82[_0x243b48(0xad6)](_0x243b48(0x2f7),handlePointerMove),_0x1e4a82[_0x243b48(0xad6)](_0x243b48(0xc7f),handlePointerUp),_0x1e4a82[_0x243b48(0xad6)](_0x243b48(0x13e),handlePointerUp),_0x1e4a82['removeEventListener'](_0x243b48(0x411),handleWheel),_0x1e4a82[_0x243b48(0xad6)](_0x243b48(0x76c),handlePointerDown),_0x1e4a82['removeEventListener'](_0x243b48(0xa6a),handlePointerMove),_0x1e4a82[_0x243b48(0xad6)](_0x243b48(0x1e7),handlePointerUp),_0x1e4a82['addEventListener'](_0x243b48(0x3e7),handlePointerDown),_0x1e4a82['addEventListener']('pointermove',handlePointerMove),_0x1e4a82[_0x243b48(0x2d5)](_0x243b48(0xc7f),handlePointerUp),_0x1e4a82['addEventListener'](_0x243b48(0x13e),handlePointerUp),_0x1e4a82['addEventListener']('wheel',handleWheel,{'passive':![]}),_0x1e4a82[_0x243b48(0x2d5)](_0x243b48(0x76c),handlePointerDown,{'passive':![]}),_0x1e4a82[_0x243b48(0x2d5)](_0x243b48(0xa6a),handlePointerMove,{'passive':![]}),_0x1e4a82['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2896f8=_0x252b26,_0x20c47e=document[_0x2896f8(0x8d1)]('scratchpad-modal'),_0xa4c279=document[_0x2896f8(0x8d1)]('scratchpad-controls');_0xa4c279['innerHTML']=_0x2896f8(0xa3e)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x38dc45=document[_0x2896f8(0x8d1)](_0x2896f8(0xbd6)),_0x213efd=document['getElementById'](_0x2896f8(0xa87)),_0x5a116a=document[_0x2896f8(0x8d1)](_0x2896f8(0xc5e)),_0x228b01=document[_0x2896f8(0x8d1)](_0x2896f8(0xa69)),_0x225ee7=document[_0x2896f8(0x8d1)](_0x2896f8(0x788)),_0x1da54d=document[_0x2896f8(0x8d1)]('highlighter-tools-group'),_0x53964a=[_0x38dc45,_0x213efd,_0x5a116a,_0x228b01];document[_0x2896f8(0x8d1)](_0x2896f8(0x477))[_0x2896f8(0x2d5)](_0x2896f8(0x4d9),()=>_0x20c47e['classList'][_0x2896f8(0x2df)](_0x2896f8(0x25d))),document[_0x2896f8(0x8d1)]('reset-view-btn')[_0x2896f8(0x2d5)](_0x2896f8(0x4d9),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2896f8(0x8d1)](_0x2896f8(0x9b7))[_0x2896f8(0x2d5)](_0x2896f8(0x4d9),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x2896f8(0x8d1)]('undo-btn')[_0x2896f8(0x2d5)](_0x2896f8(0x4d9),undo),document[_0x2896f8(0x8d1)](_0x2896f8(0x4ee))[_0x2896f8(0x2d5)](_0x2896f8(0x4d9),redo);const _0x91369a=_0xc87d15=>{const _0x427f12=_0x2896f8;_0x53964a[_0x427f12(0x236)](_0x52e77a=>_0x52e77a[_0x427f12(0x1da)][_0x427f12(0x7ce)](_0x427f12(0xa19))),_0xc87d15[_0x427f12(0x1da)]['add'](_0x427f12(0xa19));const _0x27f6b3=_0xc87d15===_0x228b01;_0x225ee7[_0x427f12(0x1da)][_0x427f12(0x3a0)](_0x427f12(0x25d),_0x27f6b3),_0x1da54d[_0x427f12(0x1da)][_0x427f12(0x3a0)]('hidden',!_0x27f6b3);};_0x38dc45[_0x2896f8(0x2d5)](_0x2896f8(0x4d9),()=>{const _0xeef9f3=_0x2896f8;activeTool=_0xeef9f3(0x8b4),_0x91369a(_0x38dc45);}),_0x213efd['addEventListener']('click',()=>{activeTool='eraser',_0x91369a(_0x213efd);}),_0x5a116a[_0x2896f8(0x2d5)](_0x2896f8(0x4d9),()=>{activeTool='trail',_0x91369a(_0x5a116a);}),_0x228b01[_0x2896f8(0x2d5)]('click',()=>{activeTool='highlighter',_0x91369a(_0x228b01);}),_0x225ee7[_0x2896f8(0xa48)](_0x2896f8(0xa5c))[_0x2896f8(0x236)](_0x141aaf=>{const _0x56ac1f=_0x2896f8;_0x141aaf[_0x56ac1f(0x2d5)](_0x56ac1f(0x4d9),_0x3f1d2a=>{const _0x3454cd=_0x56ac1f;scratchpadPenSize=parseInt(_0x3f1d2a[_0x3454cd(0x54a)][_0x3454cd(0x9e8)]['size'],0xa),_0x225ee7['querySelectorAll'](_0x3454cd(0xa5c))[_0x3454cd(0x236)](_0x5eef62=>_0x5eef62[_0x3454cd(0x1da)][_0x3454cd(0x7ce)]('active')),_0x3f1d2a[_0x3454cd(0x54a)]['classList'][_0x3454cd(0x2df)](_0x3454cd(0xa19));});}),_0x225ee7[_0x2896f8(0xa48)](_0x2896f8(0x731))[_0x2896f8(0x236)](_0x4ebeba=>{const _0xa4ef00=_0x2896f8;_0x4ebeba['addEventListener'](_0xa4ef00(0x4d9),_0x5e3633=>{const _0x3bc991=_0xa4ef00;scratchpadPenColor=_0x5e3633[_0x3bc991(0x54a)][_0x3bc991(0x9e8)][_0x3bc991(0x675)],_0x225ee7[_0x3bc991(0xa48)](_0x3bc991(0x731))['forEach'](_0x3310db=>_0x3310db[_0x3bc991(0x1da)][_0x3bc991(0x7ce)](_0x3bc991(0xa19))),_0x5e3633[_0x3bc991(0x54a)][_0x3bc991(0x1da)][_0x3bc991(0x2df)](_0x3bc991(0xa19));});}),_0x1da54d[_0x2896f8(0xa48)](_0x2896f8(0x1a1))[_0x2896f8(0x236)](_0x1a44b9=>{const _0x560541=_0x2896f8;_0x1a44b9[_0x560541(0x2d5)]('click',_0x3a8f79=>{const _0x1967f9=_0x560541;scratchpadHighlighterColor=_0x3a8f79['target'][_0x1967f9(0x9e8)][_0x1967f9(0x675)],_0x1da54d[_0x1967f9(0xa48)](_0x1967f9(0x1a1))[_0x1967f9(0x236)](_0xce2203=>_0xce2203[_0x1967f9(0x1da)][_0x1967f9(0x7ce)](_0x1967f9(0xa19))),_0x3a8f79[_0x1967f9(0x54a)][_0x1967f9(0x1da)][_0x1967f9(0x2df)](_0x1967f9(0xa19));});});const _0x44e0b0=document[_0x2896f8(0x8d1)](_0x2896f8(0x795)),_0x4b4fb6=document[_0x2896f8(0x8d1)](_0x2896f8(0x6fc));_0x44e0b0[_0x2896f8(0x2d5)](_0x2896f8(0xb0d),_0x5e3cc6=>{const _0x42ce7b=_0x2896f8,_0x21c4a7=parseInt(_0x5e3cc6['target'][_0x42ce7b(0x64c)],0xa);scratchpadHighlighterSize=_0x21c4a7,_0x4b4fb6[_0x42ce7b(0x5eb)]=_0x21c4a7;}),window[_0x2896f8(0x2d5)](_0x2896f8(0x4a8),()=>{const _0xa3b591=_0x2896f8;!_0x20c47e[_0xa3b591(0x1da)][_0xa3b591(0x63c)](_0xa3b591(0x25d))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x252b26(0x3d7),'name':_0x252b26(0xc7a),'description':_0x252b26(0x584),'icon':_0x252b26(0x1f0)},'QUICK_THINKER':{'id':_0x252b26(0x747),'name':'เซียนสมองไว','description':_0x252b26(0x343),'icon':_0x252b26(0x175)},'ON_FIRE':{'id':_0x252b26(0x308),'name':_0x252b26(0xa6b),'description':_0x252b26(0xb05),'icon':_0x252b26(0x9af)},'FIRST_TRY_ACE':{'id':_0x252b26(0x3a5),'name':_0x252b26(0x970),'description':_0x252b26(0x991),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':'comeback_king','name':_0x252b26(0x38a),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x252b26(0x23f),'name':_0x252b26(0xa9b),'description':_0x252b26(0xb04),'icon':_0x252b26(0xc3b)},'PERSEVERANCE':{'id':_0x252b26(0xb40),'name':_0x252b26(0x593),'description':_0x252b26(0x8ce),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x252b26(0xbe0),'authDomain':_0x252b26(0x284),'projectId':_0x252b26(0xaa2),'storageBucket':_0x252b26(0x796),'messagingSenderId':_0x252b26(0x4c9),'appId':_0x252b26(0x511),'measurementId':_0x252b26(0x94e)},appId=typeof __app_id!==_0x252b26(0x374)?__app_id:_0x252b26(0x142),adminView=document[_0x252b26(0x8d1)]('admin-view'),studentView=document['getElementById'](_0x252b26(0x126)),projectDashboardView=document[_0x252b26(0x8d1)]('project-dashboard-view'),projectDetailView=document[_0x252b26(0x8d1)](_0x252b26(0x8fa)),quizResultsView=document[_0x252b26(0x8d1)](_0x252b26(0x4ef)),projectList=document[_0x252b26(0x8d1)](_0x252b26(0x84b)),noProjectsMsg=document[_0x252b26(0x8d1)](_0x252b26(0xa13)),projectTitle=document[_0x252b26(0x8d1)]('project-title'),projectIdDisplay=document['getElementById'](_0x252b26(0xbbe)),studentList=document[_0x252b26(0x8d1)]('student-list'),messageModal=document['getElementById'](_0x252b26(0xbec)),modalMessage=document[_0x252b26(0x8d1)](_0x252b26(0x8d4)),createProjectModal=document[_0x252b26(0x8d1)]('create-project-modal'),adminPasswordModal=document[_0x252b26(0x8d1)](_0x252b26(0x643)),confirmationModal=document[_0x252b26(0x8d1)](_0x252b26(0x6a9)),userIdDisplay=document[_0x252b26(0x8d1)]('user-id-display'),topicTab=document[_0x252b26(0x8d1)](_0x252b26(0xa6d)),textTab=document[_0x252b26(0x8d1)](_0x252b26(0x47e)),topicInputArea=document[_0x252b26(0x8d1)](_0x252b26(0xbe6)),textInputArea=document['getElementById'](_0x252b26(0x505)),manageTab=document[_0x252b26(0x8d1)](_0x252b26(0x61f)),resultsTab=document['getElementById'](_0x252b26(0x4aa)),leaderboardTab=document[_0x252b26(0x8d1)]('leaderboard-tab'),manageTabContent=document[_0x252b26(0x8d1)](_0x252b26(0xa21)),resultsTabContent=document[_0x252b26(0x8d1)](_0x252b26(0x802)),leaderboardTabContent=document[_0x252b26(0x8d1)](_0x252b26(0xa0e)),projectQuizzesList=document['getElementById'](_0x252b26(0xc10)),fileTab=document[_0x252b26(0x8d1)](_0x252b26(0x3da)),fileInputArea=document[_0x252b26(0x8d1)](_0x252b26(0x171)),fileUploadInput=document['getElementById'](_0x252b26(0x8be)),worksheetTab=document[_0x252b26(0x8d1)]('worksheet-tab'),worksheetInputArea=document[_0x252b26(0x8d1)](_0x252b26(0x361)),generateWorksheetBtn=document[_0x252b26(0x8d1)](_0x252b26(0x80b)),studentInitialView=document['getElementById'](_0x252b26(0xbba)),studentNameSelectionView=document['getElementById'](_0x252b26(0x3ac)),studentQuizArea=document[_0x252b26(0x8d1)](_0x252b26(0x607)),studentResultArea=document[_0x252b26(0x8d1)](_0x252b26(0x18b)),studentReadingArea=document[_0x252b26(0x8d1)](_0x252b26(0x830)),loadQuizBtn=document[_0x252b26(0x8d1)]('load-quiz-btn'),startQuizBtn=document[_0x252b26(0x8d1)](_0x252b26(0x74e)),studentJoinGameView=document[_0x252b26(0x8d1)](_0x252b26(0x7e1)),presentationModal=document[_0x252b26(0x8d1)](_0x252b26(0xc44)),renameQuizModal=document[_0x252b26(0x8d1)](_0x252b26(0x4b2)),moveQuizModal=document['getElementById'](_0x252b26(0x1d3)),quizSettingsModal=document[_0x252b26(0x8d1)](_0x252b26(0x85e)),quizStatusModal=document[_0x252b26(0x8d1)](_0x252b26(0x873)),liveGameView=document[_0x252b26(0x8d1)](_0x252b26(0x3db));function handleFixLessonLatex(){const _0x270f28=_0x252b26,_0x5aa6e4=document[_0x270f28(0x8d1)](_0x270f28(0x4c3));if(!_0x5aa6e4){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x149868=_0x5aa6e4[_0x270f28(0xa48)]([_0x270f28(0x932),_0x270f28(0x3d9),'.ai-content\x20blockquote','.ai-content\x20td',_0x270f28(0x418)]['join'](','));let _0x5ec8db=0x0;const _0x4fd241=_0x37bf66=>_0x37bf66[_0x270f28(0x5eb)]||'',_0x1848cb=(_0x3fdb98,_0x2a0e3d)=>{const _0x2d0b8f=_0x270f28;if(_0x3fdb98[_0x2d0b8f(0x2b7)]&&_0x3fdb98[_0x2d0b8f(0x2b7)](_0x2d0b8f(0x28d)))return;_0x3fdb98[_0x2d0b8f(0x5eb)]=_0x2a0e3d;},_0x8cf5c=_0x568be0=>_0x568be0[_0x270f28(0x1fb)](/\u00A0/g,'\x20')[_0x270f28(0x1fb)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x5a5ea3=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x43cee1=_0x5c875d=>{const _0x225ef7=_0x270f28;let _0x51faf8=_0x5c875d[_0x225ef7(0x3cf)]();const _0x579b34=[_0x225ef7(0x56c),_0x225ef7(0x9d5),_0x225ef7(0x721),_0x225ef7(0x59a),_0x225ef7(0xaac),'times',_0x225ef7(0x88c),_0x225ef7(0xab7),_0x225ef7(0xaf4),_0x225ef7(0x7eb),'le','ge',_0x225ef7(0x582),'pm',_0x225ef7(0x1db),_0x225ef7(0x3c5),_0x225ef7(0xb62),'tan',_0x225ef7(0x952),'ln',_0x225ef7(0x8e8),_0x225ef7(0x5cd),_0x225ef7(0x193),_0x225ef7(0xbf7),_0x225ef7(0x903),'overline','underline',_0x225ef7(0x7e8),_0x225ef7(0x6eb)];_0x579b34[_0x225ef7(0x236)](_0x17437f=>{const _0x5180a3=_0x225ef7;_0x51faf8=_0x51faf8['replace'](new RegExp(_0x5180a3(0x201)+_0x17437f+'\x5cb','g'),(_0x557654,_0x4263c8)=>_0x4263c8+'\x5c'+_0x17437f);});const _0x3d64dc=[[/×/g,_0x225ef7(0x73f)],[/·/g,'\x5ccdot'],[/÷/g,_0x225ef7(0xc4d)],[/≤/g,'\x5cle'],[/≥/g,_0x225ef7(0x3e6)],[/≠/g,_0x225ef7(0x1d2)],[/±/g,_0x225ef7(0x98f)],[/∑/g,_0x225ef7(0x8b8)],[/−/g,'-']];return _0x3d64dc[_0x225ef7(0x236)](([_0x1648f7,_0x45d0b0])=>{const _0x568d4c=_0x225ef7;_0x51faf8=_0x51faf8[_0x568d4c(0x1fb)](_0x1648f7,_0x45d0b0);}),_0x51faf8=_0x51faf8[_0x225ef7(0x1fb)](/√\s*([A-Za-z0-9]+)/g,_0x225ef7(0x40c)),_0x51faf8=_0x51faf8['replace'](/(\d+)\s*%/g,_0x225ef7(0x4d1)),_0x51faf8;},_0x4d0472=_0xaea0f0=>{const _0x157fc8=_0x270f28;if(/\$|\\\(|\\\[/[_0x157fc8(0x31e)](_0xaea0f0))return _0xaea0f0;if(!_0x5a5ea3[_0x157fc8(0x31e)](_0xaea0f0))return _0xaea0f0;const _0x3ae360=_0xaea0f0[_0x157fc8(0xbf4)](/^\s*/)[0x0],_0x3540db=_0xaea0f0[_0x157fc8(0xbf4)](/\s*$/)[0x0],_0x2b77b1=_0xaea0f0[_0x157fc8(0x3cf)]();return _0x3ae360+'$'+_0x43cee1(_0x2b77b1)+'$'+_0x3540db;};_0x149868[_0x270f28(0x236)](_0x460ff6=>{const _0x2ac89d=_0x270f28,_0x1274a9=_0x4fd241(_0x460ff6);let _0x3606e5=_0x8cf5c(_0x1274a9);_0x3606e5=_0x3606e5[_0x2ac89d(0x1fb)](/\$([^$]*?)\$/g,(_0x109035,_0x59071d)=>'$'+_0x43cee1(_0x59071d)+'$');const _0x112e1b=_0x3606e5[_0x2ac89d(0x787)](/(\s+)/),_0x2e9c3e=_0x112e1b['map'](_0x135f42=>{const _0x195fb2=_0x2ac89d;if(/\s+/[_0x195fb2(0x31e)](_0x135f42))return _0x135f42;return _0x4d0472(_0x135f42);});_0x3606e5=_0x2e9c3e[_0x2ac89d(0x424)](''),_0x3606e5!==_0x1274a9&&(_0x1848cb(_0x460ff6,_0x3606e5),_0x5ec8db++);});if(_0x5ec8db>0x0){showMessage(_0x270f28(0xb65)+_0x5ec8db+_0x270f28(0x927));try{window['MathJax']&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x5aa6e4]);}catch(_0x3cb9f8){console[_0x270f28(0x62f)](_0x270f28(0x8a2),_0x3cb9f8);}}else showMessage(_0x270f28(0x2c4));}function handleAutoFixLatex(){const _0x573751=_0x252b26,_0x369d39=document[_0x573751(0x8d1)]('quiz-editor-questions-container')||document,_0x663a61=_0x369d39[_0x573751(0xa48)](_0x573751(0x88f));let _0x5198d3=0x0;const _0x505660=_0x220cfb=>_0x573751(0x64c)in _0x220cfb?String(_0x220cfb['value']):_0x220cfb['innerText']!==undefined?_0x220cfb[_0x573751(0xa73)]:_0x220cfb['textContent']||'',_0x2b8397=(_0x24a7c5,_0x4b0c30)=>{const _0x1fb988=_0x573751;if(_0x1fb988(0x64c)in _0x24a7c5){_0x24a7c5['value']=_0x4b0c30;return;}if(_0x24a7c5[_0x1fb988(0x2b7)]&&_0x24a7c5[_0x1fb988(0x2b7)](_0x1fb988(0x28d)))return;if(_0x24a7c5[_0x1fb988(0xa73)]!==undefined)_0x24a7c5[_0x1fb988(0xa73)]=_0x4b0c30;else _0x24a7c5[_0x1fb988(0x5eb)]=_0x4b0c30;},_0x8abcc5=_0xb6fa93=>_0xb6fa93[_0x573751(0x1fb)](/\u00A0/g,'\x20')[_0x573751(0x1fb)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x4d8498=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x1c64f2=_0x85284f=>{const _0x594b42=_0x573751;let _0x56cbfa=_0x85284f['trim']();_0x56cbfa=_0x56cbfa[_0x594b42(0x1fb)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x594b42(0x1cb)),_0x56cbfa=_0x56cbfa[_0x594b42(0x1fb)](/\bfrac(\d)(\d)/g,_0x594b42(0x1cb));const _0x2ad296=[_0x594b42(0x56c),_0x594b42(0x59a),_0x594b42(0xbd1),_0x594b42(0x88c),_0x594b42(0xab7),_0x594b42(0xaf4),_0x594b42(0x7eb),'neq','pm','sin','cos',_0x594b42(0x8c8),_0x594b42(0x952),'ln'];_0x2ad296['forEach'](_0x4afa08=>{const _0x18d2ff=_0x594b42;_0x56cbfa=_0x56cbfa[_0x18d2ff(0x1fb)](new RegExp(_0x18d2ff(0x201)+_0x4afa08+'\x5cb','g'),(_0x3c99c3,_0x3bf1c9)=>_0x3bf1c9+'\x5c'+_0x4afa08);});const _0x384978=[[/×/g,'\x5ctimes'],[/·/g,_0x594b42(0x216)],[/÷/g,_0x594b42(0xc4d)],[/≤/g,_0x594b42(0x9bf)],[/≥/g,_0x594b42(0x3e6)],[/≠/g,_0x594b42(0x1d2)],[/±/g,_0x594b42(0x98f)]];return _0x384978[_0x594b42(0x236)](([_0x3bb333,_0x5b3aa8])=>{const _0x5697e4=_0x594b42;_0x56cbfa=_0x56cbfa[_0x5697e4(0x1fb)](_0x3bb333,_0x5b3aa8);}),_0x56cbfa;},_0x52a67a=_0x4b7e2e=>{const _0xe343ba=_0x573751;if(/\$|\\\(|\\\[/[_0xe343ba(0x31e)](_0x4b7e2e))return _0x4b7e2e;if(!_0x4d8498[_0xe343ba(0x31e)](_0x4b7e2e))return _0x4b7e2e;const _0x1e0791=_0x4b7e2e['match'](/^\s*/)[0x0],_0x41e664=_0x4b7e2e[_0xe343ba(0xbf4)](/\s*$/)[0x0],_0x10a7f6=_0x4b7e2e[_0xe343ba(0x3cf)]();return _0x1e0791+'$'+_0x1c64f2(_0x10a7f6)+'$'+_0x41e664;};_0x663a61['forEach'](_0x2c723b=>{const _0x11f0e4=_0x573751,_0x3147dd=_0x505660(_0x2c723b);let _0x158590=_0x8abcc5(_0x3147dd);_0x158590=_0x158590[_0x11f0e4(0x1fb)](/\$([^$]*?)\$/g,(_0x603b19,_0xbc0bca)=>'$'+_0x1c64f2(_0xbc0bca)+'$');const _0x5ddfe0=_0x158590[_0x11f0e4(0x787)](/(\s+)/),_0x2ebbbb=_0x5ddfe0[_0x11f0e4(0x625)](_0x3de16f=>/\s+/[_0x11f0e4(0x31e)](_0x3de16f)?_0x3de16f:_0x52a67a(_0x3de16f));_0x158590=_0x2ebbbb['join'](''),_0x158590!==_0x3147dd&&(_0x2b8397(_0x2c723b,_0x158590),_0x5198d3++);});if(_0x5198d3>0x0){showMessage(_0x573751(0x5aa)+_0x5198d3+_0x573751(0x915));try{if(window[_0x573751(0x3fa)]&&MathJax[_0x573751(0x422)])MathJax[_0x573751(0x422)]();}catch(_0x183826){}}else showMessage(_0x573751(0x9b4));}async function listenForCustomMathTopics(){const _0x4cf7e0=_0x252b26,_0x2483f4=collection(db,'artifacts/'+appId+_0x4cf7e0(0x218));onSnapshot(_0x2483f4,_0x248a21=>{const _0x277572=_0x4cf7e0;customMathTopics=_0x248a21[_0x277572(0x72c)]['map'](_0x3633ea=>({'id':_0x3633ea['id'],..._0x3633ea['data']()})),renderTopicCheckboxes();},_0x2a4275=>{const _0x16468a=_0x4cf7e0;console['error'](_0x16468a(0x3a6),_0x2a4275);});}function handleSelectAllTopics(){const _0x39ccbc=_0x252b26,_0x1b51e9=document[_0x39ccbc(0x8d1)](_0x39ccbc(0x33e)),_0x373584=_0x1b51e9[_0x39ccbc(0xa48)]('input[type=\x22checkbox\x22]');_0x373584[_0x39ccbc(0x236)](_0x7bda51=>{const _0x1b44b5=_0x39ccbc;_0x7bda51[_0x1b44b5(0x22d)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2ef8bf=_0x252b26,_0x284ba6=document[_0x2ef8bf(0x8d1)](_0x2ef8bf(0x33e)),_0x3d6344=_0x284ba6[_0x2ef8bf(0xa48)]('input[type=\x22checkbox\x22]');_0x3d6344[_0x2ef8bf(0x236)](_0x24410a=>{const _0x351423=_0x2ef8bf;_0x24410a[_0x351423(0x22d)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1043b3){const _0x2c803b=_0x252b26;if(!_0x1043b3)return;try{const _0x151733=doc(db,_0x2c803b(0x1d1)+appId+_0x2c803b(0x218),_0x1043b3);await deleteDoc(_0x151733),showMessage(_0x2c803b(0x820));}catch(_0x5c8b22){console[_0x2c803b(0x62f)](_0x2c803b(0x2c5),_0x5c8b22),showMessage(_0x2c803b(0x439));}}async function handleAddCustomMathTopic(){const _0x2c6d74=_0x252b26,_0x450127=document[_0x2c6d74(0x8d1)](_0x2c6d74(0xb16)),_0xca106e=_0x450127[_0x2c6d74(0x64c)]['trim']();if(!_0xca106e){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0xc7ee36=collection(db,_0x2c6d74(0x1d1)+appId+_0x2c6d74(0x218));await addDoc(_0xc7ee36,{'name':_0xca106e,'createdAt':serverTimestamp()}),_0x450127[_0x2c6d74(0x64c)]='',showMessage(_0x2c6d74(0x364)+_0xca106e+_0x2c6d74(0x58b));}catch(_0x138ab2){console[_0x2c6d74(0x62f)](_0x2c6d74(0xaa3),_0x138ab2),showMessage(_0x2c6d74(0x3c4));}}async function handleUpdateOldQuizzes(){const _0x14a093=_0x252b26;showConfirmation(_0x14a093(0x81c),async()=>{const _0x1bea56=_0x14a093,_0x350c24=document[_0x1bea56(0x8d1)](_0x1bea56(0x67c)),_0x16b711=document['getElementById'](_0x1bea56(0x773)),_0x4a182d=_0x16b711['textContent'];_0x350c24['classList'][_0x1bea56(0x7ce)](_0x1bea56(0x25d)),_0x16b711[_0x1bea56(0x5eb)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0xb2d94a=collection(db,_0x1bea56(0x1d1)+appId+_0x1bea56(0x1a5)),_0xa0a455=await getDocs(_0xb2d94a);if(_0xa0a455[_0x1bea56(0x8a1)]){showMessage(_0x1bea56(0x933));return;}const _0x2365f1=writeBatch(db);let _0x44d322=0x0;_0xa0a455[_0x1bea56(0x236)](_0x100a65=>{const _0x8aea69=_0x1bea56,_0x4019bd=_0x100a65[_0x8aea69(0xa36)](),_0x29611e=_0x100a65['id'];if(_0x4019bd[_0x8aea69(0x692)]&&_0x4019bd[_0x8aea69(0x692)][_0x8aea69(0xa38)]>0x0&&!_0x4019bd[_0x8aea69(0x692)][0x0][_0x8aea69(0x2c9)]('id')){console['log'](_0x8aea69(0x95f)+_0x29611e+'\x20('+_0x4019bd[_0x8aea69(0x5d7)]+')'),_0x44d322++;const _0x3f0083=_0x4019bd['questions']['map']((_0x47aeeb,_0x35a5cb)=>{const _0x220853=_0x8aea69;return{..._0x47aeeb,'id':_0x47aeeb['id']||'q_'+Date[_0x220853(0x4a0)]()+'_'+_0x29611e+'_'+_0x35a5cb};}),_0x37545c=doc(db,_0x8aea69(0x1d1)+appId+_0x8aea69(0x1a5),_0x29611e);_0x2365f1[_0x8aea69(0x490)](_0x37545c,{'questions':_0x3f0083});}}),_0x44d322>0x0?(_0x16b711[_0x1bea56(0x5eb)]=_0x1bea56(0x2e3)+_0x44d322+'\x20รายการ...',await _0x2365f1[_0x1bea56(0xbb6)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x44d322+_0x1bea56(0x4bc))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0xc9ac3b){console[_0x1bea56(0x62f)](_0x1bea56(0x7d2),_0xc9ac3b),showMessage(_0x1bea56(0xb13)+_0xc9ac3b['message']);}finally{_0x350c24[_0x1bea56(0x1da)][_0x1bea56(0x2df)]('hidden'),_0x16b711[_0x1bea56(0x5eb)]=_0x4a182d;}});}async function handleBulkUpdateQuizSettings(){const _0x5a38fe=_0x252b26,_0x1feae6={'shuffle':document['getElementById'](_0x5a38fe(0xb9c))[_0x5a38fe(0x64c)],'resultsDisplay':document[_0x5a38fe(0x8d1)](_0x5a38fe(0x4d4))['value'],'loopUntilPass':document[_0x5a38fe(0x8d1)](_0x5a38fe(0x5e9))[_0x5a38fe(0x22d)],'isConfidenceScoringEnabled':document['getElementById']('bulk-confidence-scoring-checkbox')[_0x5a38fe(0x22d)],'confidenceMode':document[_0x5a38fe(0x8d1)](_0x5a38fe(0x99d))[_0x5a38fe(0x64c)]};try{showMessage(_0x5a38fe(0x2ad));const _0x58d9b8=await getDocs(collection(db,_0x5a38fe(0x1d1)+appId+_0x5a38fe(0x1a5))),_0x1d21e3=_0x58d9b8[_0x5a38fe(0x72c)]['map'](_0x5f522d=>({'id':_0x5f522d['id'],'data':_0x5f522d[_0x5a38fe(0xa36)]()})),_0x1b9229=_0x1d21e3[_0x5a38fe(0xa38)];showConfirmation(_0x5a38fe(0x8a4)+_0x1b9229+_0x5a38fe(0x39f),async()=>{const _0x39d90e=_0x5a38fe,_0x278663=document[_0x39d90e(0x8d1)](_0x39d90e(0x35c));_0x278663[_0x39d90e(0x7dc)]=!![],_0x278663[_0x39d90e(0x8f6)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x3ba1df=writeBatch(db);_0x1d21e3[_0x39d90e(0x236)](_0x3add52=>{const _0x3ef952=_0x39d90e,_0x247519=doc(db,'artifacts/'+appId+_0x3ef952(0x1a5),_0x3add52['id']),_0x26cf8d={..._0x3add52[_0x3ef952(0xa36)][_0x3ef952(0x716)]||{},..._0x1feae6};_0x3ba1df['update'](_0x247519,{'settings':_0x26cf8d});}),await _0x3ba1df[_0x39d90e(0xbb6)](),document[_0x39d90e(0x8d1)](_0x39d90e(0x600))[_0x39d90e(0x1da)][_0x39d90e(0x2df)]('hidden'),showMessage(_0x39d90e(0xa01)+_0x1b9229+_0x39d90e(0x432));}catch(_0x20ad48){console[_0x39d90e(0x62f)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x20ad48),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x278663[_0x39d90e(0x7dc)]=![],_0x278663['innerHTML']='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x489db8){console[_0x5a38fe(0x62f)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x489db8),showMessage(_0x5a38fe(0xab4));}}async function handleSaveProjectName(){const _0x498539=_0x252b26,_0x48f184=document[_0x498539(0x8d1)](_0x498539(0x841)),_0x17a2e5=document['getElementById']('save-project-name-btn'),_0x50cab8=_0x48f184[_0x498539(0x5eb)][_0x498539(0x3cf)]();if(!_0x50cab8||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x48f184[_0x498539(0x5eb)]=currentProjectData[_0x498539(0xa1f)];return;}_0x17a2e5[_0x498539(0x7dc)]=!![],_0x17a2e5[_0x498539(0x8f6)]=_0x498539(0x3e0);try{const _0x12c113=doc(db,'artifacts/'+appId+_0x498539(0x301),currentProjectId);await updateDoc(_0x12c113,{'projectName':_0x50cab8}),currentProjectData&&(currentProjectData[_0x498539(0xa1f)]=_0x50cab8),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x203666){console[_0x498539(0x62f)](_0x498539(0xb24),_0x203666),showMessage(_0x498539(0x45c)),_0x48f184['textContent']=currentProjectData[_0x498539(0xa1f)];}finally{_0x17a2e5[_0x498539(0x1da)][_0x498539(0x2df)](_0x498539(0x25d)),_0x17a2e5[_0x498539(0x7dc)]=![],_0x17a2e5[_0x498539(0x8f6)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x73e66c,_0x2b98a5){const _0x5891b0=_0x252b26,_0x4f84f0=document[_0x5891b0(0x8d1)](_0x5891b0(0x1a2)),_0x41f7ff=document[_0x5891b0(0x8d1)](_0x5891b0(0xb23)),_0x231e89=document[_0x5891b0(0x8d1)](_0x5891b0(0x928)),_0x3a499f=document[_0x5891b0(0x8d1)](_0x5891b0(0xc7c));_0x41f7ff[_0x5891b0(0x5eb)]=_0x5891b0(0x18c)+_0x73e66c,_0x3a499f[_0x5891b0(0x1da)][_0x5891b0(0x2df)](_0x5891b0(0x25d)),_0x231e89['classList']['remove'](_0x5891b0(0x25d)),_0x4f84f0['classList'][_0x5891b0(0x7ce)](_0x5891b0(0x25d)),generatePracticeTest(_0x73e66c,_0x2b98a5)[_0x5891b0(0x988)](_0x2ea57f=>{const _0x1c638e=_0x5891b0;console['error'](_0x1c638e(0x413),_0x2ea57f),showMessage(_0x1c638e(0x257)),_0x4f84f0[_0x1c638e(0x1da)][_0x1c638e(0x2df)](_0x1c638e(0x25d));});}async function generatePracticeTest(_0x119ce5,_0x5f21f9){const _0x123862=_0x252b26;['pointContent',_0x123862(0x33d),_0x123862(0xa03),_0x123862(0x96e)][_0x123862(0x236)](_0x32f071=>{const _0x30df25=_0x123862,_0x5eec01=document[_0x30df25(0x8d1)](_0x32f071)[_0x30df25(0x997)];_0x5eec01&&(_0x5eec01[_0x30df25(0x8b2)]['display']=_0x30df25(0xa55));});try{const _0x46a394='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0xf2fa34='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x5f21f9+_0x123862(0x5a6)+_0x119ce5+_0x123862(0x8b9),_0x5cc51e=await callGemini(_0xf2fa34,!![]),_0x265359=document['getElementById'](_0x123862(0xb23)),_0x2501df=document[_0x123862(0x8d1)]('lesson-loader'),_0x20bf73=document[_0x123862(0x8d1)](_0x123862(0xc7c)),_0x5bb889=document[_0x123862(0x8d1)](_0x123862(0xa03))[_0x123862(0x997)];_0x265359['innerText']='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x119ce5['replace'](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x5f21f9+')',currentApplicationData=JSON['parse'](_0x5cc51e);const _0xa7b9e8=document[_0x123862(0x8d1)](_0x123862(0xa03));_0xa7b9e8[_0x123862(0x8f6)]=currentApplicationData[_0x123862(0x625)]((_0x1da53a,_0x33957b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x33957b+0x1)+'.\x20'+marked[_0x123862(0x186)](_0x1da53a['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x33957b+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1da53a['options'][_0x123862(0x625)]((_0x4eb8e0,_0x13d119)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x33957b+',\x20'+_0x13d119+_0x123862(0x83e)+String[_0x123862(0x7a3)](0x61+_0x13d119)+'.\x20'+marked[_0x123862(0x186)](_0x4eb8e0)+_0x123862(0x594))[_0x123862(0x424)]('')+_0x123862(0x75f))[_0x123862(0x424)](''),window[_0x123862(0x3fa)]&&MathJax[_0x123862(0x422)]([_0xa7b9e8]),_0x5bb889&&(_0x5bb889[_0x123862(0x8b2)][_0x123862(0x6f6)]=_0x123862(0x2f5)),_0x2501df['classList'][_0x123862(0x2df)](_0x123862(0x25d)),_0x20bf73[_0x123862(0x1da)][_0x123862(0x7ce)](_0x123862(0x25d));}catch(_0x42d839){console['error'](_0x42d839);throw _0x42d839;}}async function callGemini(_0x3d9f6d,_0x4c8c73=![]){const _0x5590af=_0x252b26,_0x259ffb=_0x5590af(0x689),_0x286c15=_0x5590af(0x7f7)+_0x259ffb,_0x198b31={'contents':[{'parts':[{'text':_0x3d9f6d}]}]};_0x4c8c73&&(_0x198b31[_0x5590af(0xb0a)]={'responseMimeType':_0x5590af(0xb94)},_0x3d9f6d[_0x5590af(0x7d5)](_0x5590af(0x2af))?_0x198b31[_0x5590af(0xb0a)]['responseSchema']={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':_0x5590af(0x129),'properties':{'sara':{'type':_0x5590af(0xc74)},'mainTopics':{'type':_0x5590af(0x99c),'items':{'type':_0x5590af(0x129),'properties':{'topicName':{'type':_0x5590af(0xc74)},'subTopics':{'type':_0x5590af(0x99c),'items':{'type':_0x5590af(0xc74)}}},'required':['topicName',_0x5590af(0xa42)]}}},'required':['sara','mainTopics']}}},'required':[_0x5590af(0x868),_0x5590af(0xc5b)]}:_0x198b31['generationConfig'][_0x5590af(0xc94)]={'type':'ARRAY','items':{'type':_0x5590af(0x129),'properties':{'question':{'type':_0x5590af(0xc74)},'options':{'type':'ARRAY','items':{'type':_0x5590af(0xc74)}},'answer':{'type':_0x5590af(0x204)}},'required':[_0x5590af(0x638),_0x5590af(0xc69),'answer']}});try{const _0x111c5a=await fetch(_0x286c15,{'method':_0x5590af(0x286),'headers':{'Content-Type':_0x5590af(0xb94)},'body':JSON[_0x5590af(0x34d)](_0x198b31)});if(!_0x111c5a['ok']){const _0x3c030b=await _0x111c5a[_0x5590af(0xaac)]();console[_0x5590af(0x62f)](_0x5590af(0x28e),_0x3c030b);throw new Error(_0x5590af(0x556)+_0x111c5a[_0x5590af(0x6c1)]);}const _0x4eb580=await _0x111c5a[_0x5590af(0x3bc)]();if(_0x4eb580[_0x5590af(0xa3f)]&&_0x4eb580[_0x5590af(0xa3f)][0x0][_0x5590af(0x5c8)]&&_0x4eb580['candidates'][0x0][_0x5590af(0x5c8)][_0x5590af(0x373)][0x0])return _0x4eb580[_0x5590af(0xa3f)][0x0][_0x5590af(0x5c8)][_0x5590af(0x373)][0x0]['text'];else{console[_0x5590af(0x62f)]('Unexpected\x20API\x20response\x20structure:',_0x4eb580);if(_0x4eb580[_0x5590af(0xa3f)]&&_0x4eb580[_0x5590af(0xa3f)][0x0][_0x5590af(0x73e)]===_0x5590af(0x6d3))return JSON[_0x5590af(0x34d)]({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x1df7cd){console[_0x5590af(0x62f)](_0x5590af(0x604),_0x1df7cd);throw _0x1df7cd;}}async function generateLesson(_0x4df87e=null,_0x1fcaf1=null){const _0x48e49d=_0x252b26,_0xa5d720=_0x4df87e,_0x4ba09e=_0x1fcaf1||_0x48e49d(0xc2f),_0x1e04b5=document[_0x48e49d(0x8d1)]('lesson-loader'),_0x1da9cb=document['getElementById'](_0x48e49d(0xa07));_0x1da9cb[_0x48e49d(0x5eb)]=_0x48e49d(0x872)+_0xa5d720+'\x22...';try{let _0x24c366=[];const _0x11a7d6=document[_0x48e49d(0x8d1)](_0x48e49d(0x9f5))?.[_0x48e49d(0x64c)][_0x48e49d(0x3cf)]();if(_0x11a7d6)try{_0x1da9cb[_0x48e49d(0x5eb)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x2bae6c=await fetchFileFromUrl(_0x11a7d6,_0x48e49d(0xa20)),_0x2dea73=await new Promise((_0x75cf4e,_0x24ae8d)=>{const _0x3ef97e=_0x48e49d,_0x470630=new FileReader();_0x470630[_0x3ef97e(0x130)](_0x2bae6c),_0x470630[_0x3ef97e(0x6a5)]=()=>_0x75cf4e(_0x470630[_0x3ef97e(0xb8b)][_0x3ef97e(0x787)](',')[0x1]),_0x470630['onerror']=_0x24ae8d;});_0x24c366[_0x48e49d(0xc64)]({'inlineData':{'mimeType':_0x2bae6c[_0x48e49d(0x238)],'data':_0x2dea73}});}catch(_0x2c3521){console[_0x48e49d(0x62f)](_0x48e49d(0x336),_0x2c3521),showMessage(_0x48e49d(0x847));}const _0x255bee=_0x48e49d(0x3d6)+_0xa5d720+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0xa5d720+_0x48e49d(0x562);_0x1da9cb[_0x48e49d(0x5eb)]=_0x48e49d(0x872)+_0xa5d720+'\x22...';const _0x2ed13a='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x4ba09e+_0x48e49d(0x5a6)+_0xa5d720+_0x48e49d(0xb26)+_0x255bee+_0x48e49d(0x539),_0x322641='สำหรับหัวข้อ\x20\x27'+_0xa5d720+_0x48e49d(0xa99)+_0x4ba09e+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x255bee+_0x48e49d(0x277),_0x517ff4='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x4ba09e+_0x48e49d(0x5a6)+_0xa5d720+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x255bee+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x1d2016='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0xa5d720+_0x48e49d(0xc66)+_0x4ba09e+_0x48e49d(0x36e)+_0x255bee+_0x48e49d(0x7c6),_0x2ba4fe={'type':_0x48e49d(0x99c),'items':{'type':'OBJECT','properties':{'question':{'type':_0x48e49d(0xc74)},'options':{'type':_0x48e49d(0x99c),'items':{'type':_0x48e49d(0xc74)}},'answer':{'type':'NUMBER'}},'required':[_0x48e49d(0x638),_0x48e49d(0xc69),_0x48e49d(0x647)]}},[_0x48fbdf,_0x3043e9,_0x4d2bf4,_0x11b692]=await Promise[_0x48e49d(0xadc)]([handleApiCall([{'text':_0x2ed13a},..._0x24c366],_0x48e49d(0x81b),null,null,![]),handleApiCall([{'text':_0x322641},..._0x24c366],'...',null,null,![]),handleApiCall([{'text':_0x517ff4},..._0x24c366],'...',_0x2ba4fe,null,![]),handleApiCall([{'text':_0x1d2016},..._0x24c366],_0x48e49d(0x81b),null,null,![])]),_0x457afb=JSON[_0x48e49d(0x34d)](_0x4d2bf4||[]),_0x4199f2=document[_0x48e49d(0x8d1)](_0x48e49d(0xb23)),_0x3be1f5=document[_0x48e49d(0x8d1)](_0x48e49d(0xc7c));_0x4199f2[_0x48e49d(0xa73)]=_0x48e49d(0xb41)+_0xa5d720['replace'](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x4ba09e+')',[_0x48e49d(0x2c1),_0x48e49d(0x33d),_0x48e49d(0x96e)][_0x48e49d(0x236)](_0x52c1b0=>{const _0x40c3e2=_0x48e49d;document[_0x40c3e2(0x8d1)](_0x52c1b0)[_0x40c3e2(0x8f6)]='';}),document[_0x48e49d(0x8d1)]('pointContent')[_0x48e49d(0x8f6)]=_0x48fbdf?marked['parse'](_0x48fbdf):_0x48e49d(0xa1a),document[_0x48e49d(0x8d1)](_0x48e49d(0x33d))[_0x48e49d(0x8f6)]=_0x3043e9?marked[_0x48e49d(0x577)](_0x3043e9):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x48e49d(0x8d1)]('summaryContent')[_0x48e49d(0x8f6)]=_0x11b692?marked[_0x48e49d(0x577)](_0x11b692):_0x48e49d(0xa1a),currentApplicationData=JSON[_0x48e49d(0x577)](_0x457afb);const _0x36d331=document[_0x48e49d(0x8d1)](_0x48e49d(0xa03));_0x36d331[_0x48e49d(0x8f6)]=(currentApplicationData||[])[_0x48e49d(0x625)]((_0x1144d3,_0x54e7d1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x54e7d1+0x1)+'.\x20'+marked[_0x48e49d(0x186)](_0x1144d3[_0x48e49d(0x638)]||'')+_0x48e49d(0x742)+_0x54e7d1+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1144d3[_0x48e49d(0xc69)]||[])[_0x48e49d(0x625)]((_0x585c85,_0x200216)=>_0x48e49d(0x65a)+_0x54e7d1+',\x20'+_0x200216+_0x48e49d(0x83e)+String['fromCharCode'](0x61+_0x200216)+'.\x20'+marked['parseInline'](_0x585c85||'')+_0x48e49d(0x594))['join']('')+_0x48e49d(0x75f))['join']('')||_0x48e49d(0x741),window[_0x48e49d(0x3fa)]&&MathJax[_0x48e49d(0x422)]([_0x3be1f5]),_0x1e04b5['classList'][_0x48e49d(0x2df)](_0x48e49d(0x25d)),_0x3be1f5['classList'][_0x48e49d(0x7ce)](_0x48e49d(0x25d));}catch(_0xe1e20a){console['error'](_0xe1e20a);throw _0xe1e20a;}}function checkAnswer(_0x192b40,_0x4ab509){const _0x426476=_0x252b26,_0xf2d39d=currentApplicationData[_0x192b40],_0x1469c8=document[_0x426476(0x8d1)]('q'+_0x192b40+'-options'),_0x23e96c=_0x1469c8[_0x426476(0x709)](_0x426476(0x360));for(let _0xb09853 of _0x23e96c){_0xb09853[_0x426476(0x7dc)]=!![];}_0x4ab509===_0xf2d39d[_0x426476(0x647)]?_0x23e96c[_0x4ab509][_0x426476(0x1da)][_0x426476(0x2df)]('correct'):(_0x23e96c[_0x4ab509]['classList'][_0x426476(0x2df)](_0x426476(0x8e2)),_0x23e96c[_0xf2d39d[_0x426476(0x647)]][_0x426476(0x1da)]['add']('correct'));}window[_0x252b26(0xbb4)]=handleGenerateAndShowLesson,window[_0x252b26(0x71a)]=checkAnswer,window[_0x252b26(0xc09)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x4a4661=_0x252b26;try{const _0x49cb6b=initializeApp(firebaseConfig);db=getFirestore(_0x49cb6b),auth=getAuth(_0x49cb6b),setupAuthListener(),setupEventListeners(),showView(_0x4a4661(0x7b8)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x1afadd){console[_0x4a4661(0x62f)](_0x4a4661(0x961),_0x1afadd),showMessage(_0x4a4661(0x6c4));}}async function handleVerifyAnswersInEditor(){const _0x2f9b32=_0x252b26,_0x344938=document[_0x2f9b32(0x8d1)]('quiz-editor-modal');if(!_0x344938)return;const _0x583f85=document['getElementById'](_0x2f9b32(0xae6));_0x583f85[_0x2f9b32(0x7dc)]=!![],_0x583f85[_0x2f9b32(0x8f6)]=_0x2f9b32(0x8bb);try{const _0x34e1a2=_0x344938[_0x2f9b32(0xa48)](_0x2f9b32(0x7f1)),_0x5d37c1=Array[_0x2f9b32(0x8a3)](_0x34e1a2)['map']((_0x4110be,_0x583bb5)=>{const _0x185570=_0x2f9b32,_0xb0f897=_0x4110be[_0x185570(0x9e8)][_0x185570(0x1e1)],_0x46845a=_0x4110be[_0x185570(0x2b7)]('textarea')[_0x185570(0x64c)];let _0xd08dc7=null,_0x581858='';switch(_0xb0f897){case _0x185570(0x27f):const _0x6ef904=_0x4110be['querySelectorAll'](_0x185570(0x41e));_0xd08dc7=Array[_0x185570(0x8a3)](_0x6ef904)[_0x185570(0x625)](_0xaac4a0=>_0xaac4a0[_0x185570(0x64c)]);const _0x20717e=_0x4110be[_0x185570(0x2b7)](_0x185570(0xacd));_0x20717e&&(_0x581858=_0xd08dc7[parseInt(_0x20717e[_0x185570(0x64c)])]);break;case _0x185570(0xb86):_0x581858=_0x4110be[_0x185570(0x2b7)](_0x185570(0xbd8))['value'];break;case _0x185570(0x51c):const _0x23e078=_0x4110be[_0x185570(0x2b7)]('input[type=\x22radio\x22]:checked');_0x581858=_0x23e078?_0x23e078[_0x185570(0x64c)]:'';break;case _0x185570(0x711):_0x581858=_0x4110be[_0x185570(0x2b7)](_0x185570(0x9b5))[_0x185570(0x64c)];break;}return{'question':_0x46845a,'options':_0xd08dc7,'proposedAnswer':_0x581858};}),_0x2ddbd6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x2f9b32(0x34d)](_0x5d37c1)+_0x2f9b32(0xc61),_0x13460f={'type':_0x2f9b32(0x99c),'items':{'type':_0x2f9b32(0x129),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x2f9b32(0x318)},'justification':{'type':_0x2f9b32(0xc74)},'suggestedAnswer':{'type':_0x2f9b32(0xc74)}},'required':[_0x2f9b32(0x30d),'isCorrect',_0x2f9b32(0xb3a)]}},_0x38047f=await callAnalysisApi(_0x2ddbd6,{'type':_0x2f9b32(0x129),'properties':{'result':_0x13460f},'required':[_0x2f9b32(0xb8b)]});displayVerificationResultsInEditor(_0x38047f[_0x2f9b32(0xb8b)]);}catch(_0x15b786){console[_0x2f9b32(0x62f)](_0x2f9b32(0x53d),_0x15b786),showMessage(_0x2f9b32(0xaa6));}finally{_0x583f85[_0x2f9b32(0x7dc)]=![],_0x583f85[_0x2f9b32(0x8f6)]=_0x2f9b32(0x79e);}}function displayVerificationResultsInEditor(_0x24b70d){const _0x27a116=_0x252b26;_0x24b70d[_0x27a116(0x236)](_0xd9fba6=>{const _0x55435c=_0x27a116,_0x7fe86f=document[_0x55435c(0x2b7)](_0x55435c(0x513)+_0xd9fba6[_0x55435c(0x30d)]+'\x22]');if(!_0x7fe86f)return;const _0x266bee=_0x7fe86f[_0x55435c(0x2b7)]('.verification-result-editor');if(_0x266bee)_0x266bee['remove']();let _0x4ed367='';if(_0xd9fba6['isCorrect'])_0x4ed367=_0x55435c(0xc81);else{const _0xf55094=_0xd9fba6[_0x55435c(0xab8)]?_0x55435c(0x1ac):'';_0x4ed367=_0x55435c(0x155)+_0xf55094+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0xd9fba6[_0x55435c(0xb3a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xd9fba6[_0x55435c(0xab8)]?_0x55435c(0x9c2)+_0xd9fba6[_0x55435c(0xab8)]+_0x55435c(0xbb8):'')+_0x55435c(0x388);}_0x7fe86f[_0x55435c(0x540)](_0x55435c(0x414),_0x4ed367);if(!_0xd9fba6[_0x55435c(0x282)]&&_0xd9fba6[_0x55435c(0xab8)]){const _0x378860=_0x7fe86f[_0x55435c(0x9e8)][_0x55435c(0x1e1)],_0x5b2c61=_0x284853=>{if(!_0x284853)return;_0x284853['classList']['add']('bg-green-200','transition-all','duration-300'),setTimeout(()=>{const _0x35b524=_0x4c50;_0x284853['classList']['remove'](_0x35b524(0x62b));},0x9c4);};if(_0x378860===_0x55435c(0x27f)){const _0x252900=Array[_0x55435c(0x8a3)](_0x7fe86f[_0x55435c(0xa48)]('input[type=\x22text\x22]')),_0x3ec0=_0x252900[_0x55435c(0x779)](_0x438121=>_0x438121[_0x55435c(0x64c)][_0x55435c(0x3cf)]()[_0x55435c(0x478)]()===_0xd9fba6[_0x55435c(0xab8)][_0x55435c(0x3cf)]()['toLowerCase']());if(_0x3ec0!==-0x1){const _0x143036=_0x7fe86f[_0x55435c(0x2b7)](_0x55435c(0xaad)+_0x3ec0+'\x22]');_0x143036&&(_0x143036[_0x55435c(0x22d)]=!![],_0x5b2c61(_0x143036[_0x55435c(0x161)](_0x55435c(0xab7))));}}else{if(_0x378860===_0x55435c(0xb86)||_0x378860===_0x55435c(0x711)){const _0x12cec2=_0x7fe86f['querySelector'](_0x55435c(0x28b));_0x12cec2&&(_0x12cec2[_0x55435c(0x64c)]=_0xd9fba6[_0x55435c(0xab8)],_0x5b2c61(_0x12cec2));}else{if(_0x378860===_0x55435c(0x51c)){const _0xd85f9e=_0xd9fba6['suggestedAnswer'][_0x55435c(0x3cf)]()[_0x55435c(0x478)](),_0x180404=_0x7fe86f[_0x55435c(0x2b7)](_0x55435c(0xaad)+_0xd85f9e+'\x22]');_0x180404&&(_0x180404[_0x55435c(0x22d)]=!![],_0x5b2c61(_0x180404[_0x55435c(0x161)](_0x55435c(0xab7))));}}}}}),showMessage(_0x27a116(0x7a4));}async function handleVerifyAnswers(){const _0x54b40f=_0x252b26;if(!currentQuizData||!currentQuizData[_0x54b40f(0x692)]){showMessage(_0x54b40f(0x531));return;}const _0x41e51b=document[_0x54b40f(0x8d1)]('verify-answers-btn');_0x41e51b[_0x54b40f(0x7dc)]=!![],_0x41e51b[_0x54b40f(0x8f6)]=_0x54b40f(0x8bb);try{const _0x371ed9=currentQuizData['questions']['map']((_0x1fedee,_0x287df3)=>{const _0x2aedd4=_0x54b40f;let _0x1c3e1e='';const _0x1f8af5=_0x1fedee['questionType']||currentQuizData['quizType'];switch(_0x1f8af5){case _0x2aedd4(0x27f):_0x1c3e1e=_0x1fedee[_0x2aedd4(0xc69)][_0x1fedee[_0x2aedd4(0x26e)]];break;case'short_answer':_0x1c3e1e=_0x1fedee[_0x2aedd4(0xaef)];break;case'true_false':_0x1c3e1e=_0x1fedee['correctAnswer'][_0x2aedd4(0x626)]();break;case _0x2aedd4(0x711):_0x1c3e1e=_0x1fedee[_0x2aedd4(0xb28)];break;}return{'question':_0x1fedee[_0x2aedd4(0x503)]||_0x1fedee['questionText'],'options':_0x1fedee[_0x2aedd4(0xc69)]||null,'proposedAnswer':_0x1c3e1e};}),_0x6952a8=_0x54b40f(0xb76)+JSON[_0x54b40f(0x34d)](_0x371ed9)+_0x54b40f(0x4db),_0x30a436={'type':'ARRAY','items':{'type':_0x54b40f(0x129),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x54b40f(0x318)},'justification':{'type':_0x54b40f(0xc74)},'suggestedAnswer':{'type':_0x54b40f(0xc74)}},'required':['questionIndex',_0x54b40f(0x282),_0x54b40f(0xb3a)]}},_0x1997e0=await callAnalysisApi(_0x6952a8,{'type':_0x54b40f(0x129),'properties':{'result':_0x30a436},'required':['result']});displayVerificationResults(_0x1997e0[_0x54b40f(0xb8b)]);}catch(_0x2f7329){console[_0x54b40f(0x62f)]('Error\x20verifying\x20answers:',_0x2f7329),showMessage(_0x54b40f(0xaa6));}finally{_0x41e51b[_0x54b40f(0x7dc)]=![],_0x41e51b['innerHTML']=_0x54b40f(0x3b1);}}function displayVerificationResults(_0xe97c25){const _0x4a861d=_0x252b26;_0xe97c25[_0x4a861d(0x236)](_0x2f06b7=>{const _0x1957b6=_0x4a861d,_0x510499=document[_0x1957b6(0x2b7)](_0x1957b6(0x501)+_0x2f06b7[_0x1957b6(0x30d)]+'\x22]');if(_0x510499){const _0x5de33b=_0x510499[_0x1957b6(0x2b7)]('.verification-result');if(_0x5de33b)_0x5de33b[_0x1957b6(0x7ce)]();let _0x5d2d72='';_0x2f06b7[_0x1957b6(0x282)]?_0x5d2d72=_0x1957b6(0x512):_0x5d2d72=_0x1957b6(0x369)+_0x2f06b7[_0x1957b6(0xb3a)]+_0x1957b6(0x8aa)+(_0x2f06b7[_0x1957b6(0xab8)]?_0x1957b6(0x9c2)+_0x2f06b7[_0x1957b6(0xab8)]+_0x1957b6(0xbb8):'')+_0x1957b6(0x72f),_0x510499[_0x1957b6(0x540)]('beforeend',_0x5d2d72);}}),showMessage(_0x4a861d(0x7a4));}function _0x4c50(_0x1ea833,_0x3cacdb){const _0x13faf5=_0x13fa();return _0x4c50=function(_0x4c5098,_0x33ed10){_0x4c5098=_0x4c5098-0x10c;let _0x558030=_0x13faf5[_0x4c5098];return _0x558030;},_0x4c50(_0x1ea833,_0x3cacdb);}function compareNumericalAnswers(_0x21aef7,_0xe08391){const _0xbfb84f=_0x252b26,_0x3d76af=String(_0x21aef7)[_0xbfb84f(0x1fb)](',','.')[_0xbfb84f(0x1fb)](/[^\d.-]/g,'')[_0xbfb84f(0x3cf)](),_0x3c6bf8=String(_0xe08391)[_0xbfb84f(0x1fb)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x3d76af===''||_0x3c6bf8==='')return![];const _0x309de4=parseFloat(_0x3d76af),_0xbc283c=parseFloat(_0x3c6bf8);if(isNaN(_0x309de4)||isNaN(_0xbc283c))return![];return Math[_0xbfb84f(0x9bd)](_0x309de4-_0xbc283c)<0.001;}function isPotentiallyNumeric(_0x179b60){const _0x499b94=_0x252b26;if(typeof _0x179b60!==_0x499b94(0xbf8)&&typeof _0x179b60!=='number')return![];const _0x342bf2=String(_0x179b60)['replace'](',','.')[_0x499b94(0x3cf)]();return _0x342bf2!==''&&!isNaN(parseFloat(_0x342bf2))&&isFinite(_0x342bf2);}async function gradeShortAnswer(_0x2dcc15,_0x49aaa2){const _0x577101=_0x252b26,_0x239231=_0x49aaa2[_0x577101(0xaef)],_0x43e03a=String(_0x2dcc15)[_0x577101(0x1fb)](/\$/g,'')[_0x577101(0x3cf)](),_0x195508=String(_0x239231)[_0x577101(0x1fb)](/\$/g,'')[_0x577101(0x3cf)]();if(_0x43e03a[_0x577101(0x478)]()===_0x195508['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x43e03a)&&isPotentiallyNumeric(_0x195508)){if(compareNumericalAnswers(_0x43e03a,_0x195508))return!![];}return console[_0x577101(0x952)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x2dcc15,_0x239231);}async function revealAnswerForAdmin(_0x52e7d1,_0x3cdd29){const _0x387d85=_0x252b26,_0xbd966c=doc(db,_0x387d85(0x1d1)+appId+_0x387d85(0xc92),currentLiveGameId);await updateDoc(_0xbd966c,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x55bcd2){const _0x45cc65=_0x252b26,_0x3dfe70=Object[_0x45cc65(0x591)](_0x55bcd2[_0x45cc65(0x713)]||{})[_0x45cc65(0x6de)](_0x57d5e9=>_0x57d5e9[_0x45cc65(0x6c1)]===_0x45cc65(0xa19));_0x3dfe70[_0x45cc65(0x910)]((_0xb2a66a,_0x47fc02)=>_0x47fc02[_0x45cc65(0x3a4)]-_0xb2a66a[_0x45cc65(0x3a4)]);const _0x3fd0b6=_0x3dfe70[_0x45cc65(0xa66)](0x0,0x5),_0x3f6f53=_0x45cc65(0x74d)+_0x3fd0b6[_0x45cc65(0x625)]((_0x209790,_0x2d02ba)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x2d02ba+0x1)+'.\x20'+(_0x209790[_0x45cc65(0x2c6)]||Object[_0x45cc65(0x529)](_0x55bcd2[_0x45cc65(0x713)])[_0x45cc65(0x269)](_0x41d3f8=>_0x55bcd2[_0x45cc65(0x713)][_0x41d3f8]===_0x209790))+_0x45cc65(0x35d)+_0x209790['score']+_0x45cc65(0xa2a))[_0x45cc65(0x424)]('')+_0x45cc65(0xc1a)+(_0x55bcd2[_0x45cc65(0x41d)]+0x1===currentQuizData[_0x45cc65(0x692)][_0x45cc65(0xa38)]?_0x45cc65(0x29b):'ข้อต่อไป')+_0x45cc65(0x52e);liveGameView[_0x45cc65(0x8f6)]=_0x3f6f53,document[_0x45cc65(0x8d1)](_0x45cc65(0xba5))[_0x45cc65(0x2d5)]('click',async()=>{const _0x1fc931=_0x45cc65,_0x581461=doc(db,_0x1fc931(0x1d1)+appId+_0x1fc931(0xc92),currentLiveGameId),_0x360390=_0x55bcd2[_0x1fc931(0x41d)]+0x1;if(_0x360390<currentQuizData[_0x1fc931(0x692)][_0x1fc931(0xa38)]){const _0xd0b23b={'currentQuestionIndex':_0x360390,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x1fc931(0xa8f)};Object[_0x1fc931(0x529)](_0x55bcd2['players'])['forEach'](_0x584bd6=>{const _0x4d0fc7=_0x1fc931;_0xd0b23b[_0x4d0fc7(0xac9)+_0x584bd6+_0x4d0fc7(0x63b)]=![];}),await updateDoc(_0x581461,_0xd0b23b);}else await updateDoc(_0x581461,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x4f2b4c=>{const _0x5cd37e=_0x4c50;if(_0x4f2b4c){userId=_0x4f2b4c[_0x5cd37e(0xc4b)],userIdDisplay[_0x5cd37e(0x5eb)]=userId;const _0x5a0f1d=await loadUserPreferences();_0x5a0f1d['projectSortOrder']&&(document['getElementById'](_0x5cd37e(0x68d))[_0x5cd37e(0x64c)]=_0x5a0f1d[_0x5cd37e(0x6d8)]);globalDashboardSettings[_0x5cd37e(0x21b)]=_0x5a0f1d[_0x5cd37e(0x21b)]||_0x5cd37e(0xb27);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0xbed992,_0x862c2d){const _0x2cf0be=_0x252b26;if(!userId)return;try{const _0x1e7eef=doc(db,_0x2cf0be(0x1d1)+appId+_0x2cf0be(0x24a)+userId+_0x2cf0be(0x234)),_0x4c8875={};_0x4c8875[_0xbed992]=_0x862c2d,await setDoc(_0x1e7eef,_0x4c8875,{'merge':!![]});}catch(_0x5b1180){console['error'](_0x2cf0be(0x4ae),_0x5b1180);}}async function loadUserPreferences(){const _0x944941=_0x252b26;if(!userId)return{};try{const _0x3f4269=doc(db,_0x944941(0x1d1)+appId+_0x944941(0x24a)+userId+_0x944941(0x234)),_0xf1eb1e=await getDoc(_0x3f4269);if(_0xf1eb1e['exists']())return _0xf1eb1e[_0x944941(0xa36)]();return{};}catch(_0xc40826){return console[_0x944941(0x62f)](_0x944941(0x7bf),_0xc40826),{};}}function parseIndentedBlueprint(_0xf8e972){const _0x3687dc=_0x252b26,_0x179b3c=_0xf8e972[_0x3687dc(0x787)]('\x0a')['filter'](_0x5a8e15=>_0x5a8e15[_0x3687dc(0x3cf)]()!==''),_0x1603d8=[];let _0x10c0cb=null,_0x4da2cd=null;return _0x179b3c[_0x3687dc(0x236)](_0x473fd9=>{const _0x25f23e=_0x3687dc,_0x5ee512=_0x473fd9['match'](/^\s*/)[0x0]['length'],_0x27f1e8=_0x473fd9['trim']();if(_0x5ee512===0x0)_0x10c0cb={'sara':_0x27f1e8,'mainTopics':[]},_0x1603d8[_0x25f23e(0xc64)](_0x10c0cb),_0x4da2cd=null;else{if(_0x5ee512>0x0&&_0x5ee512<0x8&&_0x10c0cb)_0x4da2cd={'topicName':_0x27f1e8,'subTopics':[]},_0x10c0cb[_0x25f23e(0x12c)][_0x25f23e(0xc64)](_0x4da2cd);else _0x5ee512>=0x8&&_0x4da2cd&&_0x4da2cd['subTopics'][_0x25f23e(0xc64)](_0x27f1e8);}}),{'curriculum':_0x1603d8};}async function handleManualBlueprintSave(){const _0x3110dc=_0x252b26,_0x3c608e=document[_0x3110dc(0x8d1)](_0x3110dc(0xc47))[_0x3110dc(0x64c)]['trim'](),_0x1170aa=document['getElementById'](_0x3110dc(0x950))[_0x3110dc(0x64c)][_0x3110dc(0x3cf)](),_0x1359ed=document[_0x3110dc(0x8d1)](_0x3110dc(0x597))[_0x3110dc(0x64c)];if(!_0x3c608e||!_0x1170aa||!_0x1359ed){showMessage(_0x3110dc(0x3d1));return;}const _0x2a3059=parseIndentedBlueprint(_0x1359ed);if(!_0x2a3059[_0x3110dc(0xc5b)]||_0x2a3059['curriculum'][_0x3110dc(0xa38)]===0x0){showMessage(_0x3110dc(0x6e7));return;}const _0x1d5dd5={};_0x2a3059['curriculum'][_0x3110dc(0x236)](_0x1fb1db=>{const _0x29ae75=_0x3110dc;_0x1fb1db['mainTopics'][_0x29ae75(0x236)](_0x55b9d1=>{const _0x4ebf9f=_0x29ae75;_0x55b9d1[_0x4ebf9f(0xa42)][_0x4ebf9f(0x236)](_0x160928=>{const _0x11a53e=_0x4ebf9f,_0x33b27e=_0x11a53e(0x17f)+Date['now']()+Math['random']()['toString'](0x24)[_0x11a53e(0x67f)](0x2,0x9);_0x1d5dd5[_0x33b27e]={'sara':_0x1fb1db[_0x11a53e(0x7b7)],'mainTopic':_0x55b9d1[_0x11a53e(0x58e)],'subTopic':_0x160928,'status':'not_generated','lessonContent':null};});});});try{const _0x10bbdc=collection(db,_0x3110dc(0x1d1)+appId+_0x3110dc(0xa4a));await addDoc(_0x10bbdc,{'projectName':_0x3c608e,'gradeLevel':_0x1170aa,'topics':_0x1d5dd5,'createdAt':serverTimestamp()}),showMessage(_0x3110dc(0x249)+_0x3c608e+_0x3110dc(0x602)),document[_0x3110dc(0x8d1)](_0x3110dc(0x33b))[_0x3110dc(0x1da)][_0x3110dc(0x2df)](_0x3110dc(0x25d));}catch(_0x5c800d){console[_0x3110dc(0x62f)](_0x3110dc(0x88e),_0x5c800d),showMessage(_0x3110dc(0x1e9));}}function handleClearAllLinksForTopic(_0x2c57d6){const _0x4bf108=_0x252b26;showConfirmation(_0x4bf108(0x15f),async()=>{const _0x26bc8d=_0x4bf108;try{const _0x33aeab=doc(db,_0x26bc8d(0x1d1)+appId+_0x26bc8d(0xa4a),currentBlueprintProjectId);await updateDoc(_0x33aeab,{[_0x26bc8d(0xba9)+_0x2c57d6+_0x26bc8d(0x401)]:[]}),showMessage(_0x26bc8d(0x804)),openTopicQuizBank(_0x2c57d6),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x412b86){console[_0x26bc8d(0x62f)]('Error\x20clearing\x20all\x20links:',_0x412b86),showMessage(_0x26bc8d(0x931));}});}function showPodiumView(_0x3fd22f,_0x5627e0='live-race'){const _0x580ef7=_0x252b26,_0x1ad693=Object[_0x580ef7(0x4e5)](_0x3fd22f)['map'](([_0x3aa41d,_0x853966])=>({'name':_0x3aa41d,'score':_0x853966[_0x580ef7(0x3a4)]||0x0,'badges':_0x853966[_0x580ef7(0x7bb)]||[],'hasPerfectScoreBonus':_0x853966['hasPerfectScoreBonus']||![]}));_0x1ad693[_0x580ef7(0x910)]((_0x183f3f,_0x39db61)=>{const _0xef1ea0=_0x580ef7,_0x4add7c=_0x39db61[_0xef1ea0(0x3a4)]-_0x183f3f[_0xef1ea0(0x3a4)];if(_0x4add7c!==0x0)return _0x4add7c;return(_0x39db61['badges'][_0xef1ea0(0xa38)]||0x0)-(_0x183f3f[_0xef1ea0(0x7bb)]['length']||0x0);});const _0x2431cd=_0x440293=>{const _0x9dd1e5=_0x580ef7;if(!_0x440293||_0x440293['length']===0x0)return'';const _0x5decc0={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x440293['map'](_0x3b4a3e=>_0x5decc0[_0x3b4a3e]||'')[_0x9dd1e5(0x424)]('')+'</div>';},_0x407aa9=_0x1ad693['slice'](0x3),_0x18ba6f=_0x407aa9[_0x580ef7(0xa38)]>0x0?_0x580ef7(0x12a)+_0x407aa9['map']((_0x1b5299,_0x1d3a7c)=>{const _0x1fe832=_0x580ef7,_0x4690d6=_0x1b5299[_0x1fe832(0x36b)]?_0x1fe832(0x462):'';return _0x1fe832(0xae2)+(_0x1d3a7c+0x4)+_0x1fe832(0x62c)+_0x1b5299['name']+_0x1fe832(0x2ee)+_0x1b5299[_0x1fe832(0x3a4)]+_0x1fe832(0xb01)+_0x4690d6+_0x1fe832(0x338);})[_0x580ef7(0x424)]('')+_0x580ef7(0x293):'',_0x229906=_0x580ef7(0x2cf)+(_0x1ad693[0x1]?_0x580ef7(0x473)+_0x1ad693[0x1]['name']+_0x580ef7(0xbb8)+_0x2431cd(_0x1ad693[0x1]['badges'])+_0x580ef7(0xc06)+_0x1ad693[0x1]['score']+_0x580ef7(0xb01)+(_0x1ad693[0x1][_0x580ef7(0x36b)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x580ef7(0x4cc):_0x580ef7(0xb56))+_0x580ef7(0x617)+(_0x1ad693[0x0]?_0x580ef7(0x765)+_0x1ad693[0x0][_0x580ef7(0x2c6)]+_0x580ef7(0xbb8)+_0x2431cd(_0x1ad693[0x0]['badges'])+_0x580ef7(0x46d)+_0x1ad693[0x0]['score']+'\x20คะแนน\x20'+(_0x1ad693[0x0][_0x580ef7(0x36b)]?_0x580ef7(0x321):'')+'</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>':_0x580ef7(0xb56))+_0x580ef7(0x617)+(_0x1ad693[0x2]?_0x580ef7(0x390)+_0x1ad693[0x2][_0x580ef7(0x2c6)]+_0x580ef7(0xbb8)+_0x2431cd(_0x1ad693[0x2][_0x580ef7(0x7bb)])+'<p\x20class=\x22text-xl\x22>'+_0x1ad693[0x2][_0x580ef7(0x3a4)]+_0x580ef7(0xb01)+(_0x1ad693[0x2][_0x580ef7(0x36b)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x580ef7(0xaf3):_0x580ef7(0xb56))+_0x580ef7(0x2e0)+_0x18ba6f+_0x580ef7(0x6d9)+(currentMode===_0x580ef7(0x53c)?_0x580ef7(0x25a):'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x580ef7(0x12f);liveGameView[_0x580ef7(0x8f6)]=_0x229906,currentMode===_0x580ef7(0x53c)&&document[_0x580ef7(0x8d1)](_0x580ef7(0x127))['addEventListener'](_0x580ef7(0x4d9),async()=>{const _0x3da4b0=_0x580ef7;let _0x1337b1;_0x5627e0===_0x3da4b0(0x426)?_0x1337b1=doc(db,_0x3da4b0(0x1d1)+appId+_0x3da4b0(0xad4),currentLiveGameId):_0x1337b1=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x1337b1);});}function renderSyncSummaryView(_0x14c393,_0x38de3a,_0x71ca09){const _0x22275f=_0x252b26,_0x4d88b7=Object[_0x22275f(0x591)](_0x14c393[_0x22275f(0x713)]||{}),_0x45129d=_0x38de3a[_0x22275f(0x3ae)]||_0x14c393[_0x22275f(0x90c)][_0x22275f(0x81d)];let _0x2656d4=[];_0x45129d===_0x22275f(0x51c)?_0x2656d4=['ใช่\x20/\x20ถูก',_0x22275f(0x578)]:_0x2656d4=_0x38de3a[_0x22275f(0xc69)]||[];const _0x27c154=new Array(_0x2656d4[_0x22275f(0xa38)])['fill'](0x0),_0xad7913={};_0x2656d4['forEach']((_0x536d3e,_0x517e3b)=>{_0xad7913[_0x517e3b]=[];}),Object[_0x22275f(0x4e5)](_0x14c393[_0x22275f(0x713)]||{})[_0x22275f(0x236)](([_0x168d7e,_0x31f78b])=>{const _0x4852e4=_0x22275f;if(_0x31f78b['status']!=='inactive'&&_0x31f78b['lastAnswerIndex']!==undefined&&_0x31f78b[_0x4852e4(0x1a8)]!==null){const _0x38bef5=_0x31f78b[_0x4852e4(0x1a8)];_0xad7913[_0x38bef5]!==undefined&&(_0xad7913[_0x38bef5][_0x4852e4(0xc64)](_0x168d7e),_0x27c154[_0x38bef5]++);}});let _0x55d9da='';_0x71ca09?_0x55d9da=_0x22275f(0x7ed):_0x55d9da=_0x22275f(0x1e0);const _0xcd67eb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x38de3a['questionText']+_0x22275f(0xb45)+_0x27c154['map']((_0x566802,_0x50d1cc)=>{const _0x5b43f8=_0x22275f,_0x289c9a=_0xad7913[_0x50d1cc][_0x5b43f8(0xa38)]>0x0?_0xad7913[_0x50d1cc][_0x5b43f8(0x424)](',\x20'):_0x5b43f8(0x481),_0x278f7=_0x5b43f8(0x3ad);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x566802+_0x5b43f8(0xb96)+_0x278f7+_0x5b43f8(0x7ac)+_0x50d1cc+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x2656d4[_0x50d1cc]+_0x5b43f8(0x794)+_0x50d1cc+_0x5b43f8(0xa08)+_0x289c9a+_0x5b43f8(0xb9b);})[_0x22275f(0x424)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55d9da+_0x22275f(0x3a8);liveGameView[_0x22275f(0x8f6)]=_0xcd67eb;if(window['MathJax'])MathJax[_0x22275f(0x422)]();_0x71ca09&&(document[_0x22275f(0x8d1)](_0x22275f(0x2b2))[_0x22275f(0x2d5)](_0x22275f(0x4d9),async()=>{const _0x5c198e=_0x22275f,_0x5d32e0=doc(db,_0x5c198e(0x1d1)+appId+_0x5c198e(0xad4),currentLiveGameId);await updateDoc(_0x5d32e0,{'status':_0x5c198e(0x98c)});}),document[_0x22275f(0x8d1)](_0x22275f(0x9df))['onclick']=()=>{openScratchpad(_0x38de3a,_0x2656d4);});}async function handleShowStudentRankings(){const _0x372a89=_0x252b26,_0x1aa2c7=document[_0x372a89(0x2b7)](_0x372a89(0x769));_0x1aa2c7&&(_0x1aa2c7[_0x372a89(0x8f6)]=_0x372a89(0x254));const _0x1117bc=document[_0x372a89(0x2b7)](_0x372a89(0x99f));_0x1117bc&&(_0x1117bc[_0x372a89(0x8f6)]=_0x372a89(0xac3));const _0x49bd78=document['getElementById'](_0x372a89(0x6f1));_0x49bd78[_0x372a89(0x1da)]['remove']('hidden'),document[_0x372a89(0x8d1)](_0x372a89(0x67a))['onclick']=()=>_0x49bd78[_0x372a89(0x1da)]['add'](_0x372a89(0x25d));const _0x438c26=document['getElementById'](_0x372a89(0x561)),_0x4f2a73=document[_0x372a89(0x8d1)](_0x372a89(0xbeb)),_0x36e307=document[_0x372a89(0x8d1)](_0x372a89(0x4b0)),_0x1607d7=document['getElementById'](_0x372a89(0xb54));_0x438c26[_0x372a89(0xa67)]=()=>{const _0x4dbb50=_0x372a89;_0x438c26['classList'][_0x4dbb50(0x2df)](_0x4dbb50(0xa19)),_0x4f2a73['classList'][_0x4dbb50(0x7ce)](_0x4dbb50(0xa19)),_0x36e307[_0x4dbb50(0x1da)][_0x4dbb50(0x7ce)](_0x4dbb50(0x25d)),_0x1607d7[_0x4dbb50(0x1da)][_0x4dbb50(0x2df)](_0x4dbb50(0x25d));},_0x4f2a73['onclick']=()=>{const _0x42db5b=_0x372a89;_0x4f2a73['classList'][_0x42db5b(0x2df)]('active'),_0x438c26[_0x42db5b(0x1da)]['remove'](_0x42db5b(0xa19)),_0x1607d7[_0x42db5b(0x1da)][_0x42db5b(0x7ce)](_0x42db5b(0x25d)),_0x36e307['classList'][_0x42db5b(0x2df)](_0x42db5b(0x25d));};try{const _0x36397a=collection(db,_0x372a89(0x1d1)+appId+_0x372a89(0x75d)+currentQuizData['id']+_0x372a89(0x208)),_0x5876a9=await getDocs(_0x36397a),_0x249a10=_0x5876a9[_0x372a89(0x72c)][_0x372a89(0x625)](_0x54f66e=>_0x54f66e['data']());renderQuizLeaderboard(_0x249a10,currentQuizData,_0x372a89(0x31b));const _0x364629=collection(db,_0x372a89(0x1d1)+appId+_0x372a89(0x5a4)+currentQuizData['projectId']+_0x372a89(0xa50)),_0x5a0b0a=await getDocs(_0x364629),_0x16ecc3=_0x5a0b0a[_0x372a89(0x72c)][_0x372a89(0x625)](_0x52eccd=>_0x52eccd[_0x372a89(0xa36)]());renderLeaderboard(_0x16ecc3,_0x372a89(0x8ee));}catch(_0x59ba8a){console[_0x372a89(0x62f)](_0x372a89(0x8fe),_0x59ba8a),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x14b673){const _0x4597d8=_0x252b26,_0x7db727=_0x14b673['currentTarget'],_0x1ae1ee=_0x7db727[_0x4597d8(0x9e8)][_0x4597d8(0xbef)],_0x16e54a=currentQuizData[_0x4597d8(0x692)][_0x1ae1ee];if(!userId){showMessage(_0x4597d8(0x123));return;}try{const _0x2b0508={..._0x16e54a,'originalTopic':currentQuizData[_0x4597d8(0x5d7)],'savedAt':serverTimestamp()},_0x479d7a=collection(db,_0x4597d8(0x1d1)+appId+'/users/'+userId+_0x4597d8(0x4cf));await addDoc(_0x479d7a,_0x2b0508),showMessage(_0x4597d8(0x630)),_0x7db727[_0x4597d8(0x1da)]['remove'](_0x4597d8(0x7ae)),_0x7db727[_0x4597d8(0x1da)][_0x4597d8(0x2df)](_0x4597d8(0x6ee)),_0x7db727[_0x4597d8(0x7dc)]=!![];}catch(_0x42c749){console[_0x4597d8(0x62f)](_0x4597d8(0xb93),_0x42c749),showMessage(_0x4597d8(0x45c));}}async function selectProjectAndGenerateBlueprintQuiz(_0x31ddeb,_0x241b5b=null,_0x4cde62=null,_0x412efd=![]){const _0x5b915e=_0x252b26;cameFromBlueprint=!![];const _0x52a34c=document[_0x5b915e(0x8d1)](_0x5b915e(0x9f5))?.[_0x5b915e(0x64c)]['trim']();let _0x237338=null;if(_0x52a34c){showMessage(_0x5b915e(0x4f3));try{const _0x4d97a5=await fetchFileFromUrl(_0x52a34c,'reference_onet.pdf'),_0x4e81ab=await new Promise((_0x5a7507,_0x543bc9)=>{const _0x386903=_0x5b915e,_0x8b69f9=new FileReader();_0x8b69f9[_0x386903(0x130)](_0x4d97a5),_0x8b69f9[_0x386903(0x6a5)]=()=>_0x5a7507(_0x8b69f9[_0x386903(0xb8b)][_0x386903(0x787)](',')[0x1]),_0x8b69f9[_0x386903(0x245)]=_0x543bc9;});_0x237338=[{'inlineData':{'mimeType':_0x4d97a5[_0x5b915e(0x238)],'data':_0x4e81ab}}],messageModal[_0x5b915e(0x1da)][_0x5b915e(0x2df)](_0x5b915e(0x25d));}catch(_0x12021f){console['error']('Could\x20not\x20fetch\x20reference\x20file:',_0x12021f),showMessage(_0x5b915e(0x84c));}}const _0x5e4195=document[_0x5b915e(0x8d1)](_0x5b915e(0x1d3)),_0xbd76df=document[_0x5b915e(0x8d1)]('move-quiz-project-select'),_0x3cc201=_0x5e4195[_0x5b915e(0x2b7)]('h3'),_0x338f44=document[_0x5b915e(0x8d1)](_0x5b915e(0x7c9)),_0x432798=document[_0x5b915e(0x8d1)](_0x5b915e(0x4f9));_0x3cc201[_0x5b915e(0x5eb)]=_0x5b915e(0x47b),_0x338f44[_0x5b915e(0x5eb)]=_0x5b915e(0x4e4),_0x338f44[_0x5b915e(0x7dc)]=!![];allProjects['length']===0x0?_0xbd76df[_0x5b915e(0x8f6)]=_0x5b915e(0x920):(_0xbd76df['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x5b915e(0x625)](_0x4f4c13=>_0x5b915e(0x19d)+_0x4f4c13['id']+'\x22>'+_0x4f4c13['projectName']+_0x5b915e(0x64b))['join'](''),_0x338f44[_0x5b915e(0x7dc)]=![]);_0x5e4195[_0x5b915e(0x1da)][_0x5b915e(0x7ce)](_0x5b915e(0x25d));const _0x450435=async()=>{const _0x1e278a=_0x5b915e,_0x379f5d=_0xbd76df[_0x1e278a(0x64c)];if(!_0x379f5d){showMessage(_0x1e278a(0xc4c));return;}_0x5e4195[_0x1e278a(0x1da)][_0x1e278a(0x2df)](_0x1e278a(0x25d)),document[_0x1e278a(0x8d1)](_0x1e278a(0x7b5))[_0x1e278a(0x1da)]['add'](_0x1e278a(0x25d)),await loadProjectDetails(_0x379f5d),showView(_0x1e278a(0x3b3)),handleGenerateQuizFromBlueprintTopic(_0x31ddeb,_0x241b5b,_0x379f5d,_0x4cde62,_0x412efd,_0x237338),_0x513190();},_0x513190=()=>{const _0x150fbc=_0x5b915e;_0x3cc201[_0x150fbc(0x5eb)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x338f44[_0x150fbc(0x5eb)]=_0x150fbc(0xc78),_0x338f44[_0x150fbc(0xad6)](_0x150fbc(0x4d9),_0x450435),_0x432798['removeEventListener']('click',_0x513190),_0x338f44[_0x150fbc(0x2d5)](_0x150fbc(0x4d9),confirmMoveQuiz);};_0x338f44[_0x5b915e(0xad6)](_0x5b915e(0x4d9),confirmMoveQuiz),_0x338f44['addEventListener']('click',_0x450435),_0x432798[_0x5b915e(0x2d5)](_0x5b915e(0x4d9),_0x513190);}function listenForStarredQuizzes(){const _0x5d427a=_0x252b26;if(!userId)return;const _0x37b74b=collection(db,_0x5d427a(0x1d1)+appId+'/public/data/quizzes'),_0x1a5c00=query(_0x37b74b,where('isStarred','==',!![]));onSnapshot(_0x1a5c00,_0x3e97ec=>{const _0x2d1bcd=_0x5d427a;starredQuizzes=_0x3e97ec['docs'][_0x2d1bcd(0x625)](_0x4c5ff9=>({'id':_0x4c5ff9['id'],..._0x4c5ff9[_0x2d1bcd(0xa36)]()})),currentProjectId===_0x2d1bcd(0xc95)?renderQuizzes():renderProjects();},_0x54372e=>{const _0x2c1cf1=_0x5d427a;console['error'](_0x2c1cf1(0x95e),_0x54372e);});}function listenForFileShortcuts(){const _0x54cf8a=_0x252b26,_0x4a9bea=doc(db,_0x54cf8a(0x378),'fileShortcutsConfig');onSnapshot(_0x4a9bea,_0x31d2b7=>{const _0x1d85ad=_0x54cf8a;let _0x1d5eee=[],_0x145ed3=[],_0x5034db={};if(_0x31d2b7['exists']()){const _0x1d5fef=_0x31d2b7[_0x1d85ad(0xa36)]();_0x1d5eee=_0x1d5fef[_0x1d85ad(0x1c1)]||[],_0x145ed3=_0x1d5fef[_0x1d85ad(0x3eb)]||[],_0x5034db=_0x1d5fef[_0x1d85ad(0xac8)]||{};}!_0x145ed3['find'](_0x21685e=>_0x21685e['id']===_0x1d85ad(0xadc))&&_0x145ed3[_0x1d85ad(0x73a)]({'id':_0x1d85ad(0xadc),'name':_0x1d85ad(0xb87),'isDefault':!![]}),!_0x1d5eee['find'](_0xe6a7cc=>_0xe6a7cc['id']===_0x1d85ad(0x36a))&&_0x1d5eee[_0x1d85ad(0x73a)]({'id':_0x1d85ad(0x36a),'name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x1d5eee['find'](_0x10c433=>_0x10c433['id']==='file-default-2')&&_0x1d5eee[_0x1d85ad(0x73a)]({'id':_0x1d85ad(0x483),'name':_0x1d85ad(0x313),'url':'','isDefault':!![]}),fileShortcuts=_0x1d5eee,fileShortcutTabs=_0x145ed3,fileShortcutOrder=_0x5034db,renderFileShortcuts(),!document[_0x1d85ad(0x8d1)]('additional-file-shortcuts-modal')[_0x1d85ad(0x1da)]['contains']('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x4dea74=_0x252b26,_0x3cefa3=doc(db,_0x4dea74(0x378),_0x4dea74(0x861));try{await setDoc(_0x3cefa3,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x55bee2){console['error'](_0x4dea74(0x723),_0x55bee2);}}function renderAdditionalFileShortcutsModal(){const _0x2e2898=_0x252b26,_0x2d785e=document['getElementById'](_0x2e2898(0x323)),_0x5044d6=document[_0x2e2898(0x8d1)](_0x2e2898(0x7cb));if(!_0x2d785e||!_0x5044d6)return;_0x2d785e[_0x2e2898(0x8f6)]=fileShortcutTabs[_0x2e2898(0x625)](_0x21b490=>{const _0x1cfdba=_0x2e2898,_0x465a08=_0x21b490['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x21b490['id']+_0x1cfdba(0x9ed)+(_0x465a08?_0x1cfdba(0x19f):_0x1cfdba(0x58a))+_0x1cfdba(0xa91)+_0x21b490[_0x1cfdba(0x2c6)]+_0x1cfdba(0x138)+_0x21b490[_0x1cfdba(0x2c6)]+_0x1cfdba(0x1ed)+(!_0x21b490[_0x1cfdba(0x701)]?_0x1cfdba(0xb44)+_0x21b490['id']+_0x1cfdba(0x440):'')+_0x1cfdba(0x4c5);})['join']('');const _0x10f563=fileShortcutTabs['find'](_0x41af13=>_0x41af13['id']===activeFileShortcutTabId);let _0x873283=_0x10f563?.[_0x2e2898(0x701)]?[...fileShortcuts]:fileShortcuts['filter'](_0x347654=>(_0x10f563?.[_0x2e2898(0x811)]||[])[_0x2e2898(0x7d5)](_0x347654['id']));const _0x578db3=fileShortcutOrder[activeFileShortcutTabId]||[];_0x873283[_0x2e2898(0x910)]((_0x340228,_0x1f2326)=>{const _0x551cfa=_0x2e2898,_0x1f7e78=_0x578db3[_0x551cfa(0xaa5)](_0x340228['id']),_0x1b3c0e=_0x578db3[_0x551cfa(0xaa5)](_0x1f2326['id']);return(_0x1f7e78===-0x1?Infinity:_0x1f7e78)-(_0x1b3c0e===-0x1?Infinity:_0x1b3c0e);}),_0x5044d6[_0x2e2898(0x8f6)]=_0x873283[_0x2e2898(0x625)](_0x5dfd05=>{const _0x1dbff1=_0x2e2898,_0x4f62c9=_0x5dfd05[_0x1dbff1(0xb47)]?'📄':'🔗',_0x3c2ef3=fileShortcutTabs[_0x1dbff1(0x6de)](_0x4e4ae3=>!_0x4e4ae3[_0x1dbff1(0x701)]),_0x5c1f66=_0x10f563[_0x1dbff1(0x701)]&&_0x3c2ef3[_0x1dbff1(0xa38)]>0x0?_0x1dbff1(0x533)+_0x3c2ef3[_0x1dbff1(0x625)](_0x27fed2=>_0x1dbff1(0xc6b)+_0x5dfd05['id']+'\x22\x20data-target-tab-id=\x22'+_0x27fed2['id']+'\x22>'+_0x27fed2[_0x1dbff1(0x2c6)]+_0x1dbff1(0x3fb))['join']('')+_0x1dbff1(0xa28):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x5dfd05['id']+_0x1dbff1(0x8b3)+_0x4f62c9+'\x20'+_0x5dfd05['name']+_0x1dbff1(0xc79)+_0x5dfd05['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5dfd05['id']+_0x1dbff1(0x1f4)+(!_0x5dfd05['isDefault']?'<button\x20data-id=\x22'+_0x5dfd05['id']+_0x1dbff1(0x30f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x10f563[_0x1dbff1(0x701)]?'<button\x20data-shortcut-id=\x22'+_0x5dfd05['id']+_0x1dbff1(0x51d):'')+_0x1dbff1(0x6e4)+_0x5c1f66+_0x1dbff1(0xa7a);})['join']('')||_0x2e2898(0x36f),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x438699=_0x252b26;document[_0x438699(0xa48)](_0x438699(0x778))[_0x438699(0x236)](_0x7f8236=>{const _0x170d3d=_0x438699;_0x7f8236[_0x170d3d(0xa67)]=_0x29c3a6=>{const _0x858823=_0x170d3d;activeFileShortcutTabId=_0x29c3a6['currentTarget'][_0x858823(0x9e8)][_0x858823(0x657)],renderAdditionalFileShortcutsModal();},_0x7f8236[_0x170d3d(0x89b)]=_0x35dedb=>{const _0x1a28e9=_0x170d3d,_0x57a5e6=_0x35dedb[_0x1a28e9(0x37d)][_0x1a28e9(0x2b7)](_0x1a28e9(0x64d));_0x35dedb[_0x1a28e9(0x37d)]['querySelector'](_0x1a28e9(0xae0))[_0x1a28e9(0x1da)][_0x1a28e9(0x2df)]('hidden'),_0x57a5e6[_0x1a28e9(0x1da)][_0x1a28e9(0x7ce)]('hidden'),_0x57a5e6[_0x1a28e9(0x220)](),_0x57a5e6[_0x1a28e9(0xaa9)]();};}),document[_0x438699(0xa48)]('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x438699(0x236)](_0x5b78cb=>{const _0x37fd48=_0x438699,_0x30e3f4=()=>{const _0x7f10ed=_0x4c50,_0x2499d0=_0x5b78cb[_0x7f10ed(0x161)](_0x7f10ed(0x778))[_0x7f10ed(0x9e8)][_0x7f10ed(0x657)],_0x2f80bf=fileShortcutTabs[_0x7f10ed(0x269)](_0x230b05=>_0x230b05['id']===_0x2499d0);_0x2f80bf&&(_0x2f80bf[_0x7f10ed(0x2c6)]=_0x5b78cb[_0x7f10ed(0x64c)][_0x7f10ed(0x3cf)]()||_0x2f80bf[_0x7f10ed(0x2c6)],saveFileShortcutConfig());};_0x5b78cb[_0x37fd48(0xab1)]=_0x30e3f4,_0x5b78cb['onkeydown']=_0x417b23=>{const _0x5c15ee=_0x37fd48;if(_0x417b23[_0x5c15ee(0x74c)]===_0x5c15ee(0x3b9))_0x5b78cb[_0x5c15ee(0x4a5)]();};}),document[_0x438699(0xa48)]('.delete-file-shortcut-tab-btn')['forEach'](_0x343372=>_0x343372[_0x438699(0xa67)]=_0x4ac267=>{const _0x37d300=_0x438699,_0x2f1b78=_0x4ac267[_0x37d300(0x37d)][_0x37d300(0x9e8)][_0x37d300(0x657)];showConfirmation(_0x37d300(0x536),()=>{const _0x1d1546=_0x37d300;fileShortcutTabs=fileShortcutTabs[_0x1d1546(0x6de)](_0x4c97c0=>_0x4c97c0['id']!==_0x2f1b78),delete fileShortcutOrder[_0x2f1b78];if(activeFileShortcutTabId===_0x2f1b78)activeFileShortcutTabId=_0x1d1546(0xadc);saveFileShortcutConfig();});}),document[_0x438699(0xa48)](_0x438699(0x9cc))[_0x438699(0x236)](_0x461648=>_0x461648[_0x438699(0xa67)]=_0x5de8d3=>{const _0x5f99b7=_0x438699;_0x5de8d3[_0x5f99b7(0x65f)]();const {shortcutId:_0x547de7,targetTabId:_0x5eec0c}=_0x5de8d3[_0x5f99b7(0x37d)][_0x5f99b7(0x9e8)],_0x41f72e=fileShortcutTabs['find'](_0x12bf70=>_0x12bf70['id']===_0x5eec0c);_0x41f72e&&!_0x41f72e['shortcutIds'][_0x5f99b7(0x7d5)](_0x547de7)&&(_0x41f72e['shortcutIds'][_0x5f99b7(0xc64)](_0x547de7),saveFileShortcutConfig());}),document[_0x438699(0xa48)](_0x438699(0x9a6))[_0x438699(0x236)](_0x208994=>_0x208994['onclick']=_0xf91e68=>{const _0x5daf21=_0x438699,_0x3b61fe=_0xf91e68[_0x5daf21(0x37d)]['dataset'][_0x5daf21(0x324)],_0x38ea9a=fileShortcutTabs[_0x5daf21(0x269)](_0x378578=>_0x378578['id']===activeFileShortcutTabId);_0x38ea9a&&!_0x38ea9a[_0x5daf21(0x701)]&&(_0x38ea9a[_0x5daf21(0x811)]=_0x38ea9a[_0x5daf21(0x811)][_0x5daf21(0x6de)](_0x4113a5=>_0x4113a5!==_0x3b61fe),saveFileShortcutConfig());}),document[_0x438699(0xa48)](_0x438699(0x61d))[_0x438699(0x236)](_0x2d8a75=>_0x2d8a75[_0x438699(0xa67)]=_0x2a015a=>{const _0xfe57ef=_0x438699;_0x2a015a[_0xfe57ef(0x3c0)]();const _0x47a82d=_0x2a015a[_0xfe57ef(0x37d)][_0xfe57ef(0x7e3)];document[_0xfe57ef(0xa48)](_0xfe57ef(0xa85))[_0xfe57ef(0x236)](_0x4d7434=>_0x4d7434[_0xfe57ef(0x1da)]['add'](_0xfe57ef(0x25d))),_0x47a82d[_0xfe57ef(0x1da)]['remove'](_0xfe57ef(0x25d));});const _0xb8ee9e=document[_0x438699(0x8d1)](_0x438699(0x7cb));let _0x40e3a0=null;_0xb8ee9e['ondragstart']=_0x3a51ad=>{const _0x2a2d01=_0x438699;_0x40e3a0=_0x3a51ad[_0x2a2d01(0x54a)][_0x2a2d01(0x161)](_0x2a2d01(0x9e5));if(_0x40e3a0)setTimeout(()=>_0x40e3a0['classList'][_0x2a2d01(0x2df)](_0x2a2d01(0x6c8)),0x0);},_0xb8ee9e[_0x438699(0x78f)]=()=>{const _0x38c54b=_0x438699;_0x40e3a0&&(_0x40e3a0[_0x38c54b(0x1da)]['remove'](_0x38c54b(0x6c8)),_0x40e3a0=null);},_0xb8ee9e[_0x438699(0x8c5)]=_0x1ce6d8=>{const _0xab257f=_0x438699;_0x1ce6d8[_0xab257f(0x65f)]();},_0xb8ee9e['ondrop']=_0xff2984=>{const _0x5ca7d2=_0x438699;_0xff2984[_0x5ca7d2(0x65f)]();if(_0x40e3a0){const _0x20bbb2=[..._0xb8ee9e['querySelectorAll'](_0x5ca7d2(0x222))]['reduce']((_0x238f5c,_0x11026f)=>{const _0x35c09a=_0x5ca7d2,_0x161880=_0x11026f[_0x35c09a(0xc5c)](),_0x4b03f6=_0xff2984[_0x35c09a(0x603)]-_0x161880[_0x35c09a(0xb29)]-_0x161880['height']/0x2;return _0x4b03f6<0x0&&_0x4b03f6>_0x238f5c[_0x35c09a(0x786)]?{'offset':_0x4b03f6,'element':_0x11026f}:_0x238f5c;},{'offset':Number[_0x5ca7d2(0x7f9)]})[_0x5ca7d2(0x656)];_0x20bbb2==null?_0xb8ee9e[_0x5ca7d2(0x726)](_0x40e3a0):_0xb8ee9e[_0x5ca7d2(0x97f)](_0x40e3a0,_0x20bbb2);const _0x38f730=[..._0xb8ee9e[_0x5ca7d2(0xa48)](_0x5ca7d2(0x9e5))][_0x5ca7d2(0x625)](_0x59e4b3=>_0x59e4b3[_0x5ca7d2(0x9e8)][_0x5ca7d2(0x324)]);fileShortcutOrder[activeFileShortcutTabId]=_0x38f730,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x52380e=_0x252b26,_0x1f7c7c=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x1f7c7c&&_0x1f7c7c[_0x52380e(0x3cf)]()&&(fileShortcutTabs[_0x52380e(0xc64)]({'id':_0x52380e(0x173)+Date[_0x52380e(0x4a0)](),'name':_0x1f7c7c['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x4ca5ce=_0x252b26,_0x5c3efb=document[_0x4ca5ce(0x8d1)](_0x4ca5ce(0x3ee)),_0x57cd19=document[_0x4ca5ce(0x8d1)](_0x4ca5ce(0x7cb)),_0x5c33c0=document[_0x4ca5ce(0x8d1)](_0x4ca5ce(0x6ac));if(_0x5c33c0)_0x5c33c0[_0x4ca5ce(0x1da)]['add']('hidden');if(!_0x5c3efb||!_0x57cd19)return;const _0x1738ee=fileShortcuts[_0x4ca5ce(0xa66)](0x0,0x4),_0x3cb759=fileShortcuts[_0x4ca5ce(0xa66)](0x4);_0x5c3efb[_0x4ca5ce(0x8f6)]=_0x1738ee[_0x4ca5ce(0x625)](_0x2511f7=>{const _0x5348d4=_0x4ca5ce,_0x5d5d20=_0x2511f7[_0x5348d4(0xb47)]&&_0x2511f7[_0x5348d4(0xb47)][_0x5348d4(0x3cf)]()!=='',_0x168b24=selectedFile&&selectedFile[_0x5348d4(0x324)]===_0x2511f7['id'];let _0x85c28f='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x86755d='🔗';if(_0x168b24)_0x85c28f=_0x5348d4(0x877),_0x86755d=_0x5348d4(0xbd7);else _0x5d5d20&&(_0x85c28f=_0x5348d4(0x6a2),_0x86755d='📄');const _0x115f56=!_0x2511f7[_0x5348d4(0x701)]?_0x5348d4(0x43e)+_0x2511f7['id']+_0x5348d4(0x351):'';return _0x5348d4(0xab3)+_0x2511f7['id']+_0x5348d4(0x427)+_0x85c28f+_0x5348d4(0x835)+_0x86755d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x2511f7[_0x5348d4(0x2c6)]+_0x5348d4(0x99a)+_0x2511f7['id']+_0x5348d4(0x622)+_0x115f56+_0x5348d4(0xc3d);})[_0x4ca5ce(0x424)](''),_0x3cb759[_0x4ca5ce(0xa38)]>0x0&&(_0x5c3efb[_0x4ca5ce(0x8f6)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3cb759['length']>0x0?_0x57cd19[_0x4ca5ce(0x8f6)]=_0x3cb759[_0x4ca5ce(0x625)](_0x376d17=>_0x4ca5ce(0x929)+(_0x376d17[_0x4ca5ce(0xb47)]?'📄':'🔗')+'\x20'+_0x376d17[_0x4ca5ce(0x2c6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x376d17['id']+_0x4ca5ce(0xbbf)+_0x376d17['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x376d17['isDefault']?_0x4ca5ce(0x43e)+_0x376d17['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4ca5ce(0x424)](''):_0x57cd19['innerHTML']=_0x4ca5ce(0x9ce);}function openFileShortcutEditor(_0x261954=null){const _0x433522=_0x252b26,_0x257068=document['getElementById'](_0x433522(0x3e4)),_0x51eb6e=document[_0x433522(0x8d1)](_0x433522(0xb8e)),_0x56d5ef=document['getElementById'](_0x433522(0xa2c)),_0x5bcfb4=document['getElementById']('file-shortcut-name-input'),_0x4bb2fe=document[_0x433522(0x8d1)](_0x433522(0x8a5));if(_0x261954){const _0x3285ee=fileShortcuts[_0x433522(0x269)](_0x3f75a2=>_0x3f75a2['id']===_0x261954);if(!_0x3285ee)return;_0x51eb6e[_0x433522(0x5eb)]=_0x433522(0x430),_0x56d5ef[_0x433522(0x64c)]=_0x3285ee['id'],_0x5bcfb4[_0x433522(0x64c)]=_0x3285ee['name'],_0x4bb2fe[_0x433522(0x64c)]=_0x3285ee[_0x433522(0xb47)]||'';}else _0x51eb6e[_0x433522(0x5eb)]=_0x433522(0xbc5),_0x56d5ef[_0x433522(0x64c)]='',_0x5bcfb4['value']='',_0x4bb2fe[_0x433522(0x64c)]='';_0x257068[_0x433522(0x1da)]['remove']('hidden');}async function saveFileShortcutChanges(){const _0xcd312=_0x252b26,_0x1fbf00=document[_0xcd312(0x8d1)](_0xcd312(0xa2c))[_0xcd312(0x64c)],_0x17026f=document[_0xcd312(0x8d1)](_0xcd312(0xc05))['value'][_0xcd312(0x3cf)](),_0x862a71=document[_0xcd312(0x8d1)]('file-shortcut-url-input')[_0xcd312(0x64c)][_0xcd312(0x3cf)]();if(!_0x17026f){showMessage(_0xcd312(0xb73));return;}const _0x43cb64={'id':_0x1fbf00||_0xcd312(0x1c6)+Date['now'](),'name':_0x17026f,'url':_0x862a71,'isDefault':_0x1fbf00[_0xcd312(0x42d)](_0xcd312(0x3dd))};let _0x254206;_0x1fbf00?_0x254206=fileShortcuts[_0xcd312(0x625)](_0xa54d7d=>_0xa54d7d['id']===_0x1fbf00?_0x43cb64:_0xa54d7d):_0x254206=[...fileShortcuts,_0x43cb64];try{const _0xcc164b=doc(db,_0xcd312(0x378),_0xcd312(0x861));await setDoc(_0xcc164b,{'shortcuts':_0x254206},{'merge':!![]}),document[_0xcd312(0x8d1)]('file-shortcut-editor-modal')[_0xcd312(0x1da)][_0xcd312(0x2df)](_0xcd312(0x25d));}catch(_0x4c6b9b){console[_0xcd312(0x62f)]('Error\x20saving\x20file\x20shortcut:',_0x4c6b9b),showMessage(_0xcd312(0x45c));}}async function handleFileShortcutClick(_0x248ed6){const _0x450ea8=_0x252b26,_0x3c205c=fileShortcuts[_0x450ea8(0x269)](_0x313210=>_0x313210['id']===_0x248ed6);if(!_0x3c205c)return;if(!_0x3c205c[_0x450ea8(0xb47)]||_0x3c205c[_0x450ea8(0xb47)]['trim']()===''){openFileShortcutEditor(_0x248ed6);return;}const _0x26752a=document[_0x450ea8(0x2b7)]('.file-shortcut-btn[data-id=\x22'+_0x248ed6+'\x22]');if(_0x26752a){const _0x16bec5=_0x26752a[_0x450ea8(0x8f6)];_0x26752a[_0x450ea8(0x8f6)]=_0x450ea8(0x2a6),_0x26752a[_0x450ea8(0x7dc)]=!![];}document[_0x450ea8(0xa48)](_0x450ea8(0xa92))[_0x450ea8(0x236)](_0x1b2859=>{const _0xede05=_0x450ea8;if(_0x1b2859[_0xede05(0x9e8)]['id']!==_0x248ed6)_0x1b2859[_0xede05(0x1da)][_0xede05(0x2df)](_0xede05(0x6c8),'pointer-events-none');});try{const _0x24e88b=new URL(_0x3c205c[_0x450ea8(0xb47)])[_0x450ea8(0xb99)],_0x1fab92=_0x24e88b['substring'](_0x24e88b['lastIndexOf']('/')+0x1)||(_0x3c205c[_0x450ea8(0xb47)]['includes'](_0x450ea8(0xc7d))?_0x450ea8(0x812):_0x450ea8(0x935)),_0x5bc6ba=await fetchFileFromUrl(_0x3c205c[_0x450ea8(0xb47)],_0x1fab92);_0x5bc6ba['shortcutId']=_0x248ed6,selectedFile=_0x5bc6ba,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x450ea8(0x8d1)](_0x450ea8(0x171))['scrollIntoView']({'behavior':'smooth','block':_0x450ea8(0x295)});}catch(_0x581a5e){console[_0x450ea8(0x62f)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x581a5e),showMessage(_0x450ea8(0x76d)+_0x581a5e[_0x450ea8(0xa56)]),renderFileShortcuts();}finally{document['querySelectorAll'](_0x450ea8(0xa92))[_0x450ea8(0x236)](_0xa4604=>{const _0x3d4adc=_0x450ea8;_0xa4604['classList'][_0x3d4adc(0x7ce)](_0x3d4adc(0x6c8),_0x3d4adc(0xa80)),_0xa4604['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x53c250=_0x252b26;if(allQuizzesGlobal[_0x53c250(0xa38)]>0x0)return;console[_0x53c250(0x952)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x53c250(0x5f3));try{const _0xf6b89a=await getDocs(collection(db,'artifacts/'+appId+_0x53c250(0x1a5)));allQuizzesGlobal=_0xf6b89a[_0x53c250(0x72c)][_0x53c250(0x625)](_0x301d01=>({'id':_0x301d01['id'],..._0x301d01[_0x53c250(0xa36)]()})),console[_0x53c250(0x952)](_0x53c250(0xc91)+allQuizzesGlobal['length']+_0x53c250(0xc3f)),messageModal['classList'][_0x53c250(0x2df)](_0x53c250(0x25d));}catch(_0x11cbd9){console[_0x53c250(0x62f)](_0x53c250(0x8a0),_0x11cbd9),messageModal[_0x53c250(0x1da)][_0x53c250(0x2df)](_0x53c250(0x25d));throw new Error(_0x53c250(0x745));}}function exportQuizAsWorksheetPDF(){const _0x4bda3e=_0x252b26;if(!currentQuizData||!currentQuizData[_0x4bda3e(0x692)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x3feffe=currentQuizData,_0x5d907c=window['open']('',_0x4bda3e(0x5b7)),_0x4b3866=_0x290fd3=>String[_0x4bda3e(0x7a3)](0x41+_0x290fd3),_0x2773f5=_0x4bda3e(0x5a3)+_0x3feffe[_0x4bda3e(0x5d7)]+_0x4bda3e(0x7be)+_0x3feffe['topic']+_0x4bda3e(0x42e)+_0x3feffe['questions'][_0x4bda3e(0x625)]((_0x344dd3,_0x4e02d4)=>{const _0x1a82b0=_0x4bda3e;let _0x2f095f='';const _0x5267f8=_0x344dd3[_0x1a82b0(0x3ae)]||_0x3feffe[_0x1a82b0(0x81d)];switch(_0x5267f8){case'multiple_choice':case _0x1a82b0(0x583):_0x2f095f=_0x1a82b0(0xaa7)+_0x344dd3['options'][_0x1a82b0(0x625)]((_0x22c2af,_0x74d64a)=>_0x1a82b0(0x33a)+_0x4b3866(_0x74d64a)+'.\x20'+_0x22c2af+_0x1a82b0(0x9e4))[_0x1a82b0(0x424)](_0x1a82b0(0x4c4))+_0x1a82b0(0xa8c);break;case _0x1a82b0(0x51c):_0x2f095f='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x2f095f=_0x1a82b0(0xc9c);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x4e02d4+0x1)+_0x1a82b0(0x311)+(_0x344dd3[_0x1a82b0(0x503)]||_0x344dd3[_0x1a82b0(0x15a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x344dd3[_0x1a82b0(0xc33)]?_0x1a82b0(0x51b)+_0x344dd3[_0x1a82b0(0xc33)]+_0x1a82b0(0xa8c):'')+_0x1a82b0(0x557)+_0x2f095f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4bda3e(0x424)]('')+_0x4bda3e(0x31d);_0x5d907c['document'][_0x4bda3e(0x6bb)](_0x2773f5),_0x5d907c['document']['close'](),_0x5d907c['onload']=function(){setTimeout(()=>{const _0x5080c6=_0x4c50;_0x5d907c[_0x5080c6(0x9be)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xb88793=_0x252b26;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0xb88793(0x1b3));return;}const _0x550950=currentQuizData,_0x1ebfd8=window[_0xb88793(0x82f)]('',_0xb88793(0x5b7)),_0x204314=_0x4d9627=>String[_0xb88793(0x7a3)](0x41+_0x4d9627),_0x3c84e7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x550950[_0xb88793(0x5d7)]+_0xb88793(0x5a0)+_0x550950[_0xb88793(0x692)]['map']((_0x449e59,_0x1718a2)=>{const _0x3a2a9f=_0xb88793;let _0x3323f5='';const _0x2675d1=_0x449e59[_0x3a2a9f(0x3ae)]||_0x550950['quizType'];switch(_0x2675d1){case _0x3a2a9f(0x27f):case _0x3a2a9f(0x583):_0x3323f5=_0x3a2a9f(0x1c2)+_0x449e59[_0x3a2a9f(0xc69)][_0x3a2a9f(0x625)]((_0x2a7b7c,_0x512310)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x204314(_0x512310)+'.\x20'+_0x2a7b7c+'</span>')[_0x3a2a9f(0x424)](_0x3a2a9f(0x4c4))+_0x3a2a9f(0x388);break;case'true_false':_0x3323f5=_0x3a2a9f(0xb82);break;default:_0x3323f5='';break;}return _0x3a2a9f(0x993)+_0x550950[_0x3a2a9f(0x5d7)]+_0x3a2a9f(0x7df)+(_0x1718a2+0x1)+_0x3a2a9f(0x1fc)+(_0x449e59[_0x3a2a9f(0x503)]||_0x449e59[_0x3a2a9f(0x15a)])+_0x3a2a9f(0xaf7)+(_0x449e59['imageCode']?_0x3a2a9f(0x5df)+_0x449e59[_0x3a2a9f(0xc33)]+_0x3a2a9f(0xa8c):'')+_0x3a2a9f(0x557)+_0x3323f5+_0x3a2a9f(0x340);})[_0xb88793(0x424)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1ebfd8['document'][_0xb88793(0x6bb)](_0x3c84e7),_0x1ebfd8['document'][_0xb88793(0x2c2)](),_0x1ebfd8[_0xb88793(0x6a5)]=function(){setTimeout(()=>{_0x1ebfd8['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x5b7dcb){const _0x567fe3=_0x252b26,_0x7ad306=doc(db,'artifacts/'+appId+_0x567fe3(0x1a5),_0x5b7dcb);try{const _0x5d299c=await getDoc(_0x7ad306);if(_0x5d299c[_0x567fe3(0xbfd)]()){const _0xa9beda=_0x5d299c[_0x567fe3(0xa36)]()[_0x567fe3(0x11d)]||![];await updateDoc(_0x7ad306,{'isStarred':!_0xa9beda});}}catch(_0x1b9981){console['error']('Error\x20toggling\x20star\x20status:',_0x1b9981),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x333e99=_0x252b26,_0x33f6b4=document[_0x333e99(0x8d1)](_0x333e99(0x89c));_0x33f6b4[_0x333e99(0x8f6)]=_0x333e99(0x727);try{const _0x3fe03e=collection(db,'artifacts/'+appId+'/users/'+userId+_0x333e99(0x4cf)),_0x5d101a=query(_0x3fe03e),_0x32ef31=await getDocs(_0x5d101a);if(_0x32ef31['empty']){_0x33f6b4[_0x333e99(0x8f6)]=_0x333e99(0x2be);return;}let _0x5a70d4=_0x32ef31['docs'][_0x333e99(0x625)](_0x57be40=>{const _0x292166=_0x333e99,_0x5bd732=_0x57be40['data'](),_0xa5e487=_0x57be40['id'];return _0x292166(0x855)+JSON['stringify'](_0x5bd732)+_0x292166(0xb5e)+(_0x5bd732[_0x292166(0x15a)]||_0x5bd732[_0x292166(0x503)])+_0x292166(0xc51)+_0x5bd732[_0x292166(0x84e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x333e99(0x424)]('');_0x33f6b4[_0x333e99(0x8f6)]=_0x333e99(0x182)+_0x5a70d4+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x333e99(0x8d1)](_0x333e99(0x911))[_0x333e99(0x2d5)](_0x333e99(0x4d9),createQuizFromBank);}catch(_0x5ca270){console[_0x333e99(0x62f)](_0x333e99(0x821),_0x5ca270),_0x33f6b4['innerHTML']=_0x333e99(0x650);}}async function handleExportLessonToPDF(){const _0x327d83=_0x252b26,_0x4eb36d=document[_0x327d83(0x8d1)](_0x327d83(0xc7c)),_0x4c2807=document[_0x327d83(0x8d1)](_0x327d83(0xb23))['textContent']||'บทเรียน';if(!_0x4eb36d){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x575fd5=window['open']('',_0x327d83(0x5b7)),_0x222cd8=_0x327d83(0xc3a)+_0x4c2807+_0x327d83(0x70d)+_0x4c2807+_0x327d83(0x359)+_0x4eb36d[_0x327d83(0x8f6)]+_0x327d83(0x31d);_0x575fd5[_0x327d83(0x807)][_0x327d83(0x6bb)](_0x222cd8),_0x575fd5[_0x327d83(0x807)][_0x327d83(0x2c2)](),_0x575fd5[_0x327d83(0x6a5)]=function(){setTimeout(()=>{const _0x3afccd=_0x4c50;_0x575fd5[_0x3afccd(0x9be)]();},0x7d0);};}function showAdminLiveQuestionView(_0x1ea33d,_0x28a20b,_0x2ef62c){const _0x3008de=_0x252b26,_0x240c20=_0x1ea33d[_0x3008de(0x3ae)]||currentQuizData[_0x3008de(0x81d)];let _0x3f03a3='';if(_0x240c20===_0x3008de(0x27f)||_0x240c20===_0x3008de(0x51c)){const _0x139c82=_0x240c20===_0x3008de(0x51c)?[_0x3008de(0xa0b),_0x3008de(0x14d)]:_0x1ea33d[_0x3008de(0xc69)],_0x24393a=_0x240c20===_0x3008de(0x51c)?_0x1ea33d['correctAnswer']?0x0:0x1:_0x1ea33d[_0x3008de(0x26e)];_0x3f03a3=_0x139c82[_0x3008de(0x625)]((_0x2f4db6,_0x49eb67)=>_0x3008de(0x383)+(_0x49eb67===_0x24393a)+_0x3008de(0x9f0)+_0x2f4db6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3008de(0x424)]('');}else{if(_0x240c20===_0x3008de(0x711)){const _0x521a24=_0x1ea33d[_0x3008de(0x98b)]||[];_0x3f03a3=_0x521a24[_0x3008de(0x625)](_0x4797bd=>_0x3008de(0x383)+(_0x4797bd===_0x1ea33d['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4797bd+_0x3008de(0xc3d))[_0x3008de(0x424)]('');}}const _0x2b470f=_0x1ea33d[_0x3008de(0x503)]||_0x1ea33d[_0x3008de(0x15a)],_0x2a524b=_0x3008de(0x9ff)+(_0x28a20b+0x1)+_0x3008de(0xc0e)+_0x2ef62c+_0x3008de(0x6fe)+currentLiveGamePin+_0x3008de(0x23d)+_0x2b470f+_0x3008de(0xa98)+_0x3f03a3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3008de(0x8f6)]=_0x2a524b,window[_0x3008de(0x3fa)]&&MathJax[_0x3008de(0x422)]&&MathJax[_0x3008de(0x422)]([liveGameView]),document[_0x3008de(0x8d1)](_0x3008de(0xaee))[_0x3008de(0x2d5)](_0x3008de(0x4d9),()=>revealAnswerForAdmin(_0x28a20b,_0x2ef62c)),document[_0x3008de(0x8d1)](_0x3008de(0xc53))['addEventListener'](_0x3008de(0x4d9),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x110d3e=_0x4c50,_0x153c6c=doc(db,_0x110d3e(0x1d1)+appId+_0x110d3e(0xc92),currentLiveGameId);await updateDoc(_0x153c6c,{'status':'podium'});});}),document['getElementById'](_0x3008de(0x758))['addEventListener']('click',()=>{const _0x48a1bb=_0x3008de;document[_0x48a1bb(0x8d1)](_0x48a1bb(0x9a4))[_0x48a1bb(0x1da)][_0x48a1bb(0x3a0)](_0x48a1bb(0x25d));});}function promptForProjectBeforeGenerating(_0x293eb9){const _0x23560f=_0x252b26,_0x74b57e=document[_0x23560f(0x8d1)]('move-quiz-modal'),_0x54ecde=document['getElementById'](_0x23560f(0x798)),_0xaa36c8=_0x74b57e[_0x23560f(0x2b7)]('h3'),_0x356e0d=document[_0x23560f(0x8d1)](_0x23560f(0x7c9)),_0x35f96c=document[_0x23560f(0x8d1)]('cancel-move-quiz-btn');_0xaa36c8[_0x23560f(0x5eb)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x356e0d['textContent']=_0x23560f(0x4e4),_0x356e0d[_0x23560f(0x7dc)]=!![];allProjects[_0x23560f(0xa38)]===0x0?_0x54ecde[_0x23560f(0x8f6)]=_0x23560f(0x920):(_0x54ecde[_0x23560f(0x8f6)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x23560f(0x625)](_0x3021cf=>_0x23560f(0x19d)+_0x3021cf['id']+'\x22>'+_0x3021cf['projectName']+_0x23560f(0x64b))[_0x23560f(0x424)](''),_0x356e0d[_0x23560f(0x7dc)]=![]);_0x74b57e['classList'][_0x23560f(0x7ce)](_0x23560f(0x25d));const _0xd773b2=async()=>{const _0x54d28f=_0x23560f,_0x379f4b=_0x54ecde[_0x54d28f(0x64c)];if(!_0x379f4b){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x74b57e[_0x54d28f(0x1da)][_0x54d28f(0x2df)](_0x54d28f(0x25d)),await loadProjectDetails(_0x379f4b),showView(_0x54d28f(0x3b3)),handleGenerateQuizFromBlueprintTopic(_0x293eb9),_0x4c3b48();},_0x4c3b48=()=>{const _0x14f030=_0x23560f;_0xaa36c8[_0x14f030(0x5eb)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x356e0d[_0x14f030(0x5eb)]=_0x14f030(0xc78),_0x356e0d[_0x14f030(0xad6)]('click',_0xd773b2),_0x35f96c[_0x14f030(0xad6)](_0x14f030(0x4d9),_0x4c3b48),_0x356e0d[_0x14f030(0x2d5)]('click',confirmMoveQuiz);};_0x356e0d[_0x23560f(0xad6)](_0x23560f(0x4d9),confirmMoveQuiz),_0x356e0d['addEventListener'](_0x23560f(0x4d9),_0xd773b2),_0x35f96c[_0x23560f(0x2d5)](_0x23560f(0x4d9),_0x4c3b48);}function showStudentLiveQuestionView(_0x3d68cf,_0x4a2122,_0x40748f){const _0xbee0fb=_0x252b26,_0x176173=_0x3d68cf[_0xbee0fb(0x3ae)]||currentQuizData['quizType'];let _0x191567='';if(_0x176173===_0xbee0fb(0x27f)||_0x176173===_0xbee0fb(0x51c)){const _0x11ab02=_0x176173==='true_false'?[_0xbee0fb(0xa0b),_0xbee0fb(0x14d)]:_0x3d68cf[_0xbee0fb(0xc69)];_0x191567=_0x11ab02[_0xbee0fb(0x625)]((_0x3066ce,_0xf5ab11)=>_0xbee0fb(0x34f)+_0xf5ab11+_0xbee0fb(0x37c)+_0x3066ce+_0xbee0fb(0x235))[_0xbee0fb(0x424)]('');}else{if(_0x176173===_0xbee0fb(0x711)){const _0x54621c=_0x3d68cf[_0xbee0fb(0x98b)]||[];_0x191567=_0x54621c[_0xbee0fb(0x625)]((_0x52b6ab,_0x1c64da)=>_0xbee0fb(0x34f)+_0x1c64da+_0xbee0fb(0x37c)+_0x52b6ab+_0xbee0fb(0x235))['join']('');}else _0x176173===_0xbee0fb(0xb86)&&(_0x191567=_0xbee0fb(0x229));}const _0xc8283b=_0x3d68cf['stem']||_0x3d68cf[_0xbee0fb(0x15a)],_0x38a7a1=_0xbee0fb(0x2cc)+(_0x4a2122+0x1)+'\x20/\x20'+_0x40748f+_0xbee0fb(0xbaf)+_0xc8283b+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x191567+_0xbee0fb(0x879);liveGameView[_0xbee0fb(0x8f6)]=_0x38a7a1;window[_0xbee0fb(0x3fa)]&&MathJax[_0xbee0fb(0x422)]&&MathJax['typesetPromise']([liveGameView]);const _0x1a7556=document[_0xbee0fb(0x8d1)](_0xbee0fb(0x280));_0x1a7556&&_0x1a7556[_0xbee0fb(0x2d5)](_0xbee0fb(0x4d9),()=>{const _0x48bd98=_0xbee0fb,_0x594edc=document[_0x48bd98(0x8d1)](_0x48bd98(0x869))['value'];handleLiveAnswer(_0x594edc,_0x3d68cf);}),document[_0xbee0fb(0x8d1)](_0xbee0fb(0x50e))[_0xbee0fb(0x2d5)]('click',_0x16fd98=>{const _0x1fa868=_0xbee0fb,_0x420305=_0x16fd98[_0x1fa868(0x54a)][_0x1fa868(0x161)](_0x1fa868(0xb09));if(_0x420305){const _0x33afae=parseInt(_0x420305['dataset']['index']);handleLiveAnswer(_0x33afae,_0x3d68cf);}});}function listenForBlueprintShortcuts(){const _0xcb58d5=_0x252b26,_0x18c287=doc(db,'globalSettings',_0xcb58d5(0x29e));onSnapshot(_0x18c287,_0x1477a8=>{const _0xbfc282=_0xcb58d5;let _0x35dbd3=[],_0x5d07c5=[],_0x3efa60={};if(_0x1477a8['exists']()){const _0x590eef=_0x1477a8[_0xbfc282(0xa36)]();_0x35dbd3=_0x590eef[_0xbfc282(0x6fd)]||[],_0x5d07c5=_0x590eef[_0xbfc282(0xabd)]||[],_0x3efa60=_0x590eef[_0xbfc282(0xb57)]||{};}!_0x5d07c5[_0xbfc282(0x269)](_0x49b863=>_0x49b863['id']===_0xbfc282(0xadc))&&_0x5d07c5['unshift']({'id':_0xbfc282(0xadc),'name':_0xbfc282(0x7f3),'isDefault':!![]}),!_0x35dbd3[_0xbfc282(0x269)](_0x3bb2ec=>_0x3bb2ec['id']===_0xbfc282(0x9ee))&&_0x35dbd3['unshift']({'id':_0xbfc282(0x9ee),'name':_0xbfc282(0xaf1),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x35dbd3['find'](_0x3a0afb=>_0x3a0afb['id']===_0xbfc282(0x1df))&&_0x35dbd3['unshift']({'id':_0xbfc282(0x1df),'name':_0xbfc282(0x425),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x35dbd3,shortcutTabs=_0x5d07c5,shortcutOrder=_0x3efa60,renderBlueprintShortcuts(),!document['getElementById'](_0xbfc282(0x255))['classList'][_0xbfc282(0x63c)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0xd587a6=_0x252b26,_0x25bd76=document[_0xd587a6(0x8d1)](_0xd587a6(0x881)),_0x252ff0=document[_0xd587a6(0x8d1)]('additional-shortcuts-list');if(!_0x25bd76||!_0x252ff0)return;_0x25bd76[_0xd587a6(0x8f6)]=shortcutTabs['map'](_0x470466=>{const _0x296820=_0xd587a6,_0x542ef2=_0x470466['id']===activeShortcutTabId,_0xa430df=_0x296820(0x19f),_0x327b40=_0x296820(0x58a);return _0x296820(0x37f)+_0x470466['id']+_0x296820(0x674)+(_0x542ef2?_0xa430df:_0x327b40)+_0x296820(0x454)+_0x470466[_0x296820(0x2c6)]+_0x296820(0xb3d)+_0x470466['name']+_0x296820(0x1ae)+(!_0x470466[_0x296820(0x701)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x470466['id']+_0x296820(0x203):'')+_0x296820(0xc3d);})[_0xd587a6(0x424)]('');const _0x3f830f=shortcutTabs['find'](_0xd75e3=>_0xd75e3['id']===activeShortcutTabId);let _0x28866e=[];if(_0x3f830f){if(_0x3f830f[_0xd587a6(0x701)])_0x28866e=[...blueprintShortcuts];else{const _0x2a9892=_0x3f830f[_0xd587a6(0x811)]||[];_0x28866e=blueprintShortcuts[_0xd587a6(0x6de)](_0x4e89d7=>_0x2a9892[_0xd587a6(0x7d5)](_0x4e89d7['id']));}}const _0x5c2040=shortcutOrder[activeShortcutTabId]||[];_0x28866e[_0xd587a6(0x910)]((_0x31d743,_0x5dad24)=>{const _0x5f5630=_0xd587a6,_0x189ffd=_0x5c2040[_0x5f5630(0xaa5)](_0x31d743['id']),_0xea69e1=_0x5c2040[_0x5f5630(0xaa5)](_0x5dad24['id']);if(_0x189ffd===-0x1)return 0x1;if(_0xea69e1===-0x1)return-0x1;return _0x189ffd-_0xea69e1;}),_0x252ff0['innerHTML']=_0x28866e['length']>0x0?_0x28866e[_0xd587a6(0x625)](_0x15073b=>{const _0x584f0b=_0xd587a6;let _0x13e9aa='🧩';if(_0x15073b[_0x584f0b(0x89e)]&&_0x15073b[_0x584f0b(0x6ed)])_0x13e9aa='📗';else{if(_0x15073b[_0x584f0b(0x89e)])_0x13e9aa='📘';}const _0x3d77d8=shortcutTabs[_0x584f0b(0x6de)](_0x545627=>!_0x545627['isDefault']),_0x2841d5=_0x3f830f['isDefault']&&_0x3d77d8[_0x584f0b(0xa38)]>0x0?_0x584f0b(0x50c)+_0x3d77d8[_0x584f0b(0x625)](_0x2eb1ad=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x15073b['id']+_0x584f0b(0x281)+_0x2eb1ad['id']+'\x22>'+_0x2eb1ad[_0x584f0b(0x2c6)]+_0x584f0b(0xa74))[_0x584f0b(0x424)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x584f0b(0x735)+_0x15073b['id']+_0x584f0b(0xa5b)+_0x13e9aa+'\x20'+_0x15073b[_0x584f0b(0x2c6)]+_0x584f0b(0x6af)+_0x15073b['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x15073b['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x15073b[_0x584f0b(0x701)]?_0x584f0b(0x43e)+_0x15073b['id']+_0x584f0b(0xc42):'')+_0x584f0b(0x49c)+(!_0x3f830f[_0x584f0b(0x701)]?_0x584f0b(0x7d7)+_0x15073b['id']+_0x584f0b(0x12d):'')+_0x584f0b(0x49c)+_0x2841d5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xd587a6(0x424)](''):_0xd587a6(0x36f),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x2b15ff=_0x252b26;document[_0x2b15ff(0xa48)]('.shortcut-tab-btn')[_0x2b15ff(0x236)](_0x2b0022=>{const _0x501e6a=_0x2b15ff;_0x2b0022[_0x501e6a(0x2d5)](_0x501e6a(0x4d9),_0x2dbdd5=>{const _0xb504fe=_0x501e6a;activeShortcutTabId=_0x2dbdd5[_0xb504fe(0x37d)][_0xb504fe(0x9e8)][_0xb504fe(0x657)],renderAdditionalShortcutsModal();}),_0x2b0022['addEventListener']('dblclick',_0xc7121a=>{const _0x1e5fde=_0x501e6a,_0x5aa50d=_0xc7121a['currentTarget'];_0x5aa50d[_0x1e5fde(0x2b7)]('.tab-name-display')[_0x1e5fde(0x1da)]['add']('hidden');const _0x59bd0e=_0x5aa50d[_0x1e5fde(0x2b7)](_0x1e5fde(0x64d));_0x59bd0e[_0x1e5fde(0x1da)][_0x1e5fde(0x7ce)](_0x1e5fde(0x25d)),_0x59bd0e[_0x1e5fde(0x220)](),_0x59bd0e[_0x1e5fde(0xaa9)]();});}),document['querySelectorAll'](_0x2b15ff(0x64d))['forEach'](_0x498e36=>{const _0x12509a=_0x2b15ff,_0x4ae623=()=>{const _0x5dc841=_0x4c50,_0x23d657=_0x498e36[_0x5dc841(0x161)](_0x5dc841(0x576))[_0x5dc841(0x9e8)]['tabId'];handleRenameShortcutTab(_0x23d657,_0x498e36['value']);};_0x498e36[_0x12509a(0x2d5)]('blur',_0x4ae623),_0x498e36[_0x12509a(0x2d5)](_0x12509a(0x8cb),_0x3645ca=>{const _0x58f533=_0x12509a;if(_0x3645ca[_0x58f533(0x74c)]==='Enter')_0x498e36[_0x58f533(0x4a5)]();});}),document[_0x2b15ff(0xa48)]('.delete-shortcut-tab-btn')[_0x2b15ff(0x236)](_0x507698=>{const _0x5f3b20=_0x2b15ff;_0x507698[_0x5f3b20(0x2d5)](_0x5f3b20(0x4d9),_0x2d8793=>handleDeleteShortcutTab(_0x2d8793[_0x5f3b20(0x37d)]['dataset']['tabId']));}),document[_0x2b15ff(0xa48)](_0x2b15ff(0xac2))[_0x2b15ff(0x236)](_0x19055b=>{const _0x2ffcc8=_0x2b15ff;_0x19055b[_0x2ffcc8(0x2d5)]('click',_0x5ecf1b=>{const _0x31230a=_0x2ffcc8;_0x5ecf1b['preventDefault']();const {shortcutId:_0x36b911,targetTabId:_0x122bf6}=_0x5ecf1b['currentTarget'][_0x31230a(0x9e8)];handleMoveShortcutToTab(_0x36b911,_0x122bf6);});}),document['querySelectorAll']('.remove-shortcut-from-tab-btn')[_0x2b15ff(0x236)](_0x56f210=>{const _0x4278f3=_0x2b15ff;_0x56f210[_0x4278f3(0x2d5)](_0x4278f3(0x4d9),_0x48223c=>{const _0x593b1f=_0x4278f3;handleRemoveShortcutFromTab(_0x48223c[_0x593b1f(0x37d)][_0x593b1f(0x9e8)][_0x593b1f(0x324)],activeShortcutTabId);});});const _0x5c3772=document[_0x2b15ff(0x8d1)]('additional-shortcuts-list');_0x5c3772['querySelectorAll'](_0x2b15ff(0x6f8))[_0x2b15ff(0x236)](_0x482667=>{const _0x450669=_0x2b15ff;_0x482667[_0x450669(0x2d5)](_0x450669(0x4d9),()=>{const _0x22dacc=_0x450669;document['getElementById'](_0x22dacc(0x255))[_0x22dacc(0x1da)][_0x22dacc(0x2df)](_0x22dacc(0x25d)),handleShortcutClick(_0x482667[_0x22dacc(0x9e8)]['id']);});});let _0x2ff46b=null;_0x5c3772[_0x2b15ff(0x2d5)](_0x2b15ff(0x833),_0x53a74f=>{const _0x28bdc7=_0x2b15ff;_0x2ff46b=_0x53a74f['target'][_0x28bdc7(0x161)](_0x28bdc7(0x9e5)),_0x2ff46b&&setTimeout(()=>_0x2ff46b[_0x28bdc7(0x1da)][_0x28bdc7(0x2df)](_0x28bdc7(0x6c8)),0x0);}),_0x5c3772['addEventListener'](_0x2b15ff(0x729),()=>{const _0xfdd170=_0x2b15ff;_0x2ff46b&&(_0x2ff46b[_0xfdd170(0x1da)]['remove'](_0xfdd170(0x6c8)),_0x2ff46b=null);}),_0x5c3772[_0x2b15ff(0x2d5)]('dragover',_0x2c426f=>{const _0x4928a3=_0x2b15ff;_0x2c426f[_0x4928a3(0x65f)]();const _0x7d7a5=[..._0x5c3772[_0x4928a3(0xa48)](_0x4928a3(0x222))][_0x4928a3(0x2d2)]((_0x3992c3,_0xa9792f)=>{const _0x1a18f8=_0x4928a3,_0x138560=_0xa9792f[_0x1a18f8(0xc5c)](),_0x32c673=_0x2c426f[_0x1a18f8(0x603)]-_0x138560[_0x1a18f8(0xb29)]-_0x138560[_0x1a18f8(0x92c)]/0x2;return _0x32c673<0x0&&_0x32c673>_0x3992c3['offset']?{'offset':_0x32c673,'element':_0xa9792f}:_0x3992c3;},{'offset':Number[_0x4928a3(0x7f9)]})[_0x4928a3(0x656)];_0x7d7a5==null?_0x5c3772[_0x4928a3(0x726)](_0x2ff46b):_0x5c3772[_0x4928a3(0x97f)](_0x2ff46b,_0x7d7a5);}),_0x5c3772['addEventListener'](_0x2b15ff(0x22a),_0x3454b9=>{const _0x1c82a7=_0x2b15ff;_0x3454b9[_0x1c82a7(0x65f)]();if(_0x2ff46b){const _0x4ac1c8=[..._0x5c3772[_0x1c82a7(0xa48)](_0x1c82a7(0x9e5))][_0x1c82a7(0x625)](_0x5ca567=>_0x5ca567[_0x1c82a7(0x9e8)][_0x1c82a7(0x324)]);handleShortcutOrderChange(activeShortcutTabId,_0x4ac1c8);}}),document[_0x2b15ff(0xa48)](_0x2b15ff(0x3d0))[_0x2b15ff(0x236)](_0x5d0fc2=>{const _0x5f04de=_0x2b15ff;_0x5d0fc2[_0x5f04de(0x2d5)](_0x5f04de(0x4d9),_0x266571=>{const _0x3f3279=_0x5f04de;_0x266571['stopPropagation']();const _0x5bd7b7=_0x266571[_0x3f3279(0x37d)]['nextElementSibling'],_0x317db2=_0x5bd7b7['classList'][_0x3f3279(0x63c)]('hidden');document[_0x3f3279(0xa48)](_0x3f3279(0x2a7))['forEach'](_0x2593ee=>_0x2593ee[_0x3f3279(0x1da)]['add'](_0x3f3279(0x25d))),_0x317db2&&_0x5bd7b7[_0x3f3279(0x1da)][_0x3f3279(0x7ce)](_0x3f3279(0x25d));});});}document['addEventListener'](_0x252b26(0x4d9),_0x12af71=>{const _0x453721=_0x252b26;!_0x12af71['target'][_0x453721(0x161)](_0x453721(0x3e1))&&document[_0x453721(0xa48)](_0x453721(0x2a7))['forEach'](_0x5566ee=>_0x5566ee[_0x453721(0x1da)][_0x453721(0x2df)](_0x453721(0x25d)));});async function saveShortcutConfig(){const _0x2accc9=_0x252b26,_0x5c6df3=doc(db,_0x2accc9(0x378),_0x2accc9(0x29e));try{await setDoc(_0x5c6df3,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x1a1119){console['error'](_0x2accc9(0xae4),_0x1a1119);}}async function handleAddShortcutTab(){const _0x28f91f=_0x252b26,_0x5193a3=prompt(_0x28f91f(0x399),'แท็บใหม่');if(!_0x5193a3||_0x5193a3['trim']()==='')return;shortcutTabs[_0x28f91f(0xc64)]({'id':_0x28f91f(0x173)+Date['now'](),'name':_0x5193a3[_0x28f91f(0x3cf)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x4bb2f8,_0x22cada){const _0x3e56a0=_0x252b26,_0x69abec=shortcutTabs[_0x3e56a0(0x269)](_0x4fb282=>_0x4fb282['id']===_0x4bb2f8);_0x69abec&&_0x22cada[_0x3e56a0(0x3cf)]()!==''&&(_0x69abec[_0x3e56a0(0x2c6)]=_0x22cada['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x42f57b){const _0x58e478=_0x252b26,_0x545ce5=shortcutTabs['find'](_0x3ca5ea=>_0x3ca5ea['id']===_0x42f57b);_0x545ce5&&!_0x545ce5[_0x58e478(0x701)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x545ce5['name']+_0x58e478(0x54c),async()=>{const _0x575395=_0x58e478;shortcutTabs=shortcutTabs[_0x575395(0x6de)](_0x74ad8c=>_0x74ad8c['id']!==_0x42f57b),delete shortcutOrder[_0x42f57b];if(activeShortcutTabId===_0x42f57b)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x4efa9b,_0x6a03){const _0x3b328e=_0x252b26,_0x30a1d9=shortcutTabs['find'](_0x2d5893=>_0x2d5893['id']===_0x6a03);_0x30a1d9&&!_0x30a1d9[_0x3b328e(0x811)][_0x3b328e(0x7d5)](_0x4efa9b)&&(_0x30a1d9['shortcutIds'][_0x3b328e(0xc64)](_0x4efa9b),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x317ee0,_0x58ee85){const _0x4d2c74=_0x252b26,_0x216531=shortcutTabs['find'](_0xc08485=>_0xc08485['id']===_0x58ee85);_0x216531&&!_0x216531[_0x4d2c74(0x701)]&&(_0x216531[_0x4d2c74(0x811)]=_0x216531['shortcutIds'][_0x4d2c74(0x6de)](_0x2a2bc7=>_0x2a2bc7!==_0x317ee0),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x4c1441,_0x443ab9){shortcutOrder[_0x4c1441]=_0x443ab9,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x5c9d16=_0x252b26,_0x337f78=document[_0x5c9d16(0x8d1)]('blueprint-shortcut-container'),_0x301287=document[_0x5c9d16(0x8d1)]('additional-shortcuts-list'),_0x5afc4e=document[_0x5c9d16(0x8d1)](_0x5c9d16(0x4d3));_0x5afc4e&&_0x5afc4e[_0x5c9d16(0x1da)][_0x5c9d16(0x2df)](_0x5c9d16(0x25d));if(!_0x337f78||!_0x301287)return;const _0x3d6bdc=blueprintShortcuts[_0x5c9d16(0xa66)](0x0,0x4),_0x55af13=blueprintShortcuts['slice'](0x4);_0x337f78['innerHTML']=_0x3d6bdc['map'](_0x1bbccc=>{const _0x23a4b2=_0x5c9d16;let _0x98caf5=_0x23a4b2(0x463),_0x583e32='🧩';if(_0x1bbccc['blueprintUrl']&&_0x1bbccc[_0x23a4b2(0x6ed)])_0x98caf5=_0x23a4b2(0x70f),_0x583e32='📗';else _0x1bbccc[_0x23a4b2(0x89e)]&&(_0x98caf5=_0x23a4b2(0x6a2),_0x583e32='📘');const _0x2ae1b9=!_0x1bbccc[_0x23a4b2(0x701)]?_0x23a4b2(0x43e)+_0x1bbccc['id']+_0x23a4b2(0x1d5):'';return _0x23a4b2(0xab3)+_0x1bbccc['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x98caf5+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x583e32+'\x20'+_0x1bbccc[_0x23a4b2(0x2c6)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1bbccc['id']+_0x23a4b2(0x74a)+_0x2ae1b9+_0x23a4b2(0xc3d);})[_0x5c9d16(0x424)](''),_0x55af13['length']>0x0&&(_0x337f78[_0x5c9d16(0x8f6)]+=_0x5c9d16(0x47d)),_0x55af13[_0x5c9d16(0xa38)]>0x0?_0x301287[_0x5c9d16(0x8f6)]=_0x55af13['map'](_0x478b58=>{const _0x3a6a21=_0x5c9d16;let _0x327166='🧩';if(_0x478b58[_0x3a6a21(0x89e)]&&_0x478b58['referenceUrl'])_0x327166='📗';else _0x478b58['blueprintUrl']&&(_0x327166='📘');return _0x3a6a21(0x4fb)+_0x327166+'\x20'+_0x478b58['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x478b58['id']+_0x3a6a21(0x61c)+_0x478b58['id']+_0x3a6a21(0x945)+(!_0x478b58['isDefault']?'<button\x20data-id=\x22'+_0x478b58['id']+_0x3a6a21(0xc42):'')+_0x3a6a21(0x3f7);})[_0x5c9d16(0x424)](''):_0x301287[_0x5c9d16(0x8f6)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x381fa4){const _0x222691=_0x252b26,_0x4e7f09=_0x381fa4[_0x222691(0x787)]('.')[_0x222691(0x488)]()[_0x222691(0x478)]();switch(_0x4e7f09){case'pdf':return _0x222691(0x51f);case _0x222691(0x467):return _0x222691(0x982);default:return'application/pdf';}}function openShortcutEditor(_0x23857a=null){const _0x4c3054=_0x252b26,_0xbd2e7=document[_0x4c3054(0x8d1)](_0x4c3054(0x514)),_0x57a009=document['getElementById'](_0x4c3054(0x4e0)),_0x58fc54=document[_0x4c3054(0x8d1)](_0x4c3054(0x623)),_0x14cc61=document[_0x4c3054(0x8d1)](_0x4c3054(0x25b)),_0x189262=document[_0x4c3054(0x8d1)]('shortcut-blueprint-url-input'),_0x5733f4=document[_0x4c3054(0x8d1)](_0x4c3054(0x190));if(_0x23857a){const _0x30621c=blueprintShortcuts[_0x4c3054(0x269)](_0x55b42b=>_0x55b42b['id']===_0x23857a);if(!_0x30621c)return;_0x57a009[_0x4c3054(0x5eb)]=_0x4c3054(0x146),_0x58fc54[_0x4c3054(0x64c)]=_0x30621c['id'],_0x14cc61[_0x4c3054(0x64c)]=_0x30621c[_0x4c3054(0x2c6)],_0x189262[_0x4c3054(0x64c)]=_0x30621c[_0x4c3054(0x89e)]||'',_0x5733f4[_0x4c3054(0x64c)]=_0x30621c[_0x4c3054(0x6ed)]||'';}else _0x57a009[_0x4c3054(0x5eb)]=_0x4c3054(0xa1e),_0x58fc54['value']='',_0x14cc61[_0x4c3054(0x64c)]='',_0x189262[_0x4c3054(0x64c)]='',_0x5733f4[_0x4c3054(0x64c)]='';_0xbd2e7[_0x4c3054(0x1da)]['remove']('hidden');}async function saveShortcutChanges(){const _0x11bc4c=_0x252b26,_0x59d0cc=document[_0x11bc4c(0x8d1)]('shortcut-id-input')[_0x11bc4c(0x64c)],_0x4d7792=document[_0x11bc4c(0x8d1)](_0x11bc4c(0x25b))[_0x11bc4c(0x64c)][_0x11bc4c(0x3cf)](),_0x2ac826=document[_0x11bc4c(0x8d1)](_0x11bc4c(0x2dd))[_0x11bc4c(0x64c)][_0x11bc4c(0x3cf)]();if(!_0x4d7792||!_0x2ac826){showMessage(_0x11bc4c(0x598));return;}const _0x3e4eb1={'id':_0x59d0cc||'shortcut_'+Date[_0x11bc4c(0x4a0)](),'name':_0x4d7792,'blueprintUrl':_0x2ac826,'referenceUrl':document[_0x11bc4c(0x8d1)](_0x11bc4c(0x190))['value'][_0x11bc4c(0x3cf)](),'isDefault':_0x59d0cc[_0x11bc4c(0x42d)](_0x11bc4c(0x725))};let _0x296113;_0x59d0cc?_0x296113=blueprintShortcuts[_0x11bc4c(0x625)](_0x2f7415=>_0x2f7415['id']===_0x59d0cc?_0x3e4eb1:_0x2f7415):_0x296113=[...blueprintShortcuts,_0x3e4eb1];try{const _0x5ccca6=doc(db,_0x11bc4c(0x378),_0x11bc4c(0x29e));await setDoc(_0x5ccca6,{'blueprintShortcuts':_0x296113},{'merge':!![]}),document['getElementById'](_0x11bc4c(0x514))[_0x11bc4c(0x1da)][_0x11bc4c(0x2df)]('hidden');}catch(_0x3ca1f4){console['error']('Error\x20saving\x20shortcut:',_0x3ca1f4),showMessage(_0x11bc4c(0x45c));}}async function handleShortcutClick(_0x33c3b0){const _0x1ed16c=_0x252b26,_0x2074bc=blueprintShortcuts['find'](_0xf9c5bf=>_0xf9c5bf['id']===_0x33c3b0);if(!_0x2074bc||!_0x2074bc[_0x1ed16c(0x89e)])return;document[_0x1ed16c(0x8d1)](_0x1ed16c(0x902))[_0x1ed16c(0x1da)][_0x1ed16c(0x2df)]('hidden'),document['getElementById']('generate-from-blueprint-btn')['disabled']=!![];const _0x30a739=document['getElementById'](_0x1ed16c(0x67c)),_0xc411b2=document[_0x1ed16c(0x8d1)](_0x1ed16c(0x773));document[_0x1ed16c(0x8d1)](_0x1ed16c(0x3a3))[_0x1ed16c(0x1da)][_0x1ed16c(0x7ce)]('hidden'),document['getElementById'](_0x1ed16c(0x538))[_0x1ed16c(0x8f6)]='',_0x30a739['classList'][_0x1ed16c(0x7ce)]('hidden');try{_0xc411b2[_0x1ed16c(0x5eb)]=_0x1ed16c(0xaf8);const _0x140d42=await fetchFileFromUrl(_0x2074bc[_0x1ed16c(0x89e)],_0x1ed16c(0x8bd));let _0x373b7d=null;if(_0x2074bc['referenceUrl']){_0xc411b2[_0x1ed16c(0x5eb)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x50fb90=_0x2074bc[_0x1ed16c(0x6ed)][_0x1ed16c(0x478)]()[_0x1ed16c(0x43c)](_0x1ed16c(0xc7d))?_0x1ed16c(0xc4f):_0x1ed16c(0x23a);_0x373b7d=await fetchFileFromUrl(_0x2074bc[_0x1ed16c(0x6ed)],_0x50fb90);}await handleGenerateFromBlueprintWithFiles(_0x140d42,_0x373b7d);}catch(_0x55ca7d){console[_0x1ed16c(0x62f)](_0x1ed16c(0xb11),_0x55ca7d),showMessage(_0x1ed16c(0x900)+_0x55ca7d[_0x1ed16c(0xa56)]),_0x30a739[_0x1ed16c(0x1da)][_0x1ed16c(0x2df)](_0x1ed16c(0x25d));}}function getDirectDownloadUrl(_0x5d3c55){const _0x427dc5=_0x252b26,_0x4f220d=_0x5d3c55[_0x427dc5(0xbf4)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x4f220d&&_0x4f220d[0x1])return'https://drive.google.com/uc?export=download&id='+_0x4f220d[0x1];return _0x5d3c55;}async function fetchFileFromUrl(_0x10e2f8,_0x3c8757){const _0x30e151=_0x252b26,_0x2b6eec=getDirectDownloadUrl(_0x10e2f8),_0x535250='https://corsproxy.io/?'+encodeURIComponent(_0x2b6eec),_0x28497a=await fetch(_0x535250);if(!_0x28497a['ok'])throw new Error(_0x30e151(0xaed)+_0x28497a['status']+')');const _0x443531=await _0x28497a['blob'](),_0xff5918=await new Promise((_0x2112db,_0x28b2f6)=>{const _0x50aff9=_0x30e151,_0x4a522f=new FileReader();_0x4a522f[_0x50aff9(0x56d)]=()=>_0x2112db(new Uint8Array(_0x4a522f[_0x50aff9(0xb8b)])),_0x4a522f[_0x50aff9(0x245)]=_0x28b2f6,_0x4a522f['readAsArrayBuffer'](_0x443531['slice'](0x0,0x4));});let _0x4684bd='';const _0x277198=new TextDecoder()['decode'](_0xff5918);return _0x277198===_0x30e151(0x3c1)?(_0x4684bd='application/pdf',console[_0x30e151(0x952)](_0x30e151(0x5a5))):(_0x4684bd=_0x30e151(0x982),console[_0x30e151(0x952)](_0x30e151(0x3df))),new File([_0x443531],_0x3c8757,{'type':_0x4684bd});}async function handleGenerateFromBlueprintWithFiles(_0x4664ed,_0x5aae95=null){const _0x2270fc=_0x252b26;if(!_0x4664ed){showMessage(_0x2270fc(0x1b0));return;}const _0x13bc3e=document[_0x2270fc(0x8d1)](_0x2270fc(0x67c)),_0x4965e9=document[_0x2270fc(0x8d1)]('loader-text');_0x13bc3e['classList']['remove'](_0x2270fc(0x25d)),document[_0x2270fc(0x8d1)](_0x2270fc(0x3a3))['classList']['remove'](_0x2270fc(0x25d)),document['getElementById'](_0x2270fc(0x538))[_0x2270fc(0x8f6)]='';try{_0x4965e9['textContent']=_0x2270fc(0x9c7);const _0x523d06=await new Promise((_0x29b647,_0x2954cb)=>{const _0x48f2ce=_0x2270fc,_0x345597=new FileReader();_0x345597[_0x48f2ce(0x130)](_0x4664ed),_0x345597['onload']=()=>_0x29b647(_0x345597[_0x48f2ce(0xb8b)][_0x48f2ce(0x787)](',')[0x1]),_0x345597[_0x48f2ce(0x245)]=_0x2954cb;}),_0x4a0aaa=[];if(_0x5aae95){_0x4965e9[_0x2270fc(0x5eb)]=_0x2270fc(0x70c);const _0x182b55=await _0x5aae95['text']();_0x4a0aaa[_0x2270fc(0xc64)]({'text':_0x2270fc(0x880)+_0x182b55});}const _0x4e0d46=[{'text':_0x2270fc(0x81b)},{'inlineData':{'mimeType':_0x4664ed['type'],'data':_0x523d06}},..._0x4a0aaa];await handleGenerateFromBlueprint(_0x4e0d46);}catch(_0x2667d4){console[_0x2270fc(0x62f)](_0x2270fc(0x842),_0x2667d4),showMessage(_0x2270fc(0x900)+_0x2667d4[_0x2270fc(0xa56)]),_0x13bc3e[_0x2270fc(0x1da)][_0x2270fc(0x2df)]('hidden');}}async function handleLiveAnswer(_0x31d4f9,_0x452b9c){const _0x359f27=_0x252b26;document['querySelectorAll'](_0x359f27(0x88d))['forEach'](_0x301be3=>_0x301be3[_0x359f27(0x7dc)]=!![]);const _0xaedc18=_0x452b9c[_0x359f27(0x3ae)]||currentQuizData[_0x359f27(0x81d)];let _0x5500dc=![],_0x4fdf24=_0x31d4f9;if(_0xaedc18===_0x359f27(0xb86)){const _0x5cee79=(_0x31d4f9||'')['toString']();_0x5500dc=await gradeShortAnswer(_0x5cee79,_0x452b9c);}else{if(_0xaedc18===_0x359f27(0x27f))_0x5500dc=_0x31d4f9===_0x452b9c[_0x359f27(0x26e)];else{if(_0xaedc18===_0x359f27(0x51c)){const _0x4a2a4f=_0x452b9c[_0x359f27(0x67b)];_0x5500dc=_0x31d4f9===0x0&&_0x4a2a4f||_0x31d4f9===0x1&&!_0x4a2a4f;}else{if(_0xaedc18==='matching_item'){const _0x119b4a=_0x452b9c[_0x359f27(0x98b)][_0x31d4f9];_0x5500dc=_0x119b4a===_0x452b9c[_0x359f27(0xb28)],_0x4fdf24=_0x119b4a;}}}}const _0xa9231a=doc(db,_0x359f27(0x1d1)+appId+_0x359f27(0xc92),currentLiveGameId),_0x1548b8={};_0x1548b8['players.'+currentStudentName+_0x359f27(0x63b)]=!![],_0x1548b8[_0x359f27(0xac9)+currentStudentName+'.lastAnswerCorrect']=_0x5500dc,_0x1548b8[_0x359f27(0xac9)+currentStudentName+_0x359f27(0x73c)]=_0xaedc18==='short_answer'||_0xaedc18==='matching_item'?null:_0x31d4f9,_0x1548b8['players.'+currentStudentName+_0x359f27(0x248)]=_0x4fdf24,_0x1548b8[_0x359f27(0xac9)+currentStudentName+_0x359f27(0x32a)]=serverTimestamp(),_0x1548b8[_0x359f27(0xac9)+currentStudentName+_0x359f27(0xa6c)]=![],await updateDoc(_0xa9231a,_0x1548b8),liveGameView['innerHTML']=_0x359f27(0x196);}function showAdminSummaryView(_0x44a2b7,_0xc7ec40){const _0x57b7c2=_0x252b26,_0x2ccfa4=Object['values'](_0x44a2b7[_0x57b7c2(0x713)]||{}),_0x155630=_0xc7ec40[_0x57b7c2(0x3ae)]||currentQuizData[_0x57b7c2(0x81d)],_0x3e488f=_0x155630===_0x57b7c2(0x51c)?[_0x57b7c2(0xa0b),_0x57b7c2(0x14d)]:_0xc7ec40[_0x57b7c2(0xc69)]||_0xc7ec40['allResponses']||[],_0x2a150c={},_0x568003=new Array(_0x3e488f[_0x57b7c2(0xa38)])['fill'](0x0);_0x3e488f['forEach']((_0x297f33,_0x128e38)=>{_0x2a150c[_0x128e38]=[];}),Object[_0x57b7c2(0x4e5)](_0x44a2b7['players']||{})[_0x57b7c2(0x236)](([_0x427d67,_0x28e898])=>{const _0x2539c6=_0x57b7c2;if(_0x28e898['status']===_0x2539c6(0xa19)&&_0x28e898[_0x2539c6(0x1a8)]!==undefined){const _0xa11835=_0x28e898[_0x2539c6(0x1a8)];_0x2a150c[_0xa11835]&&(_0x2a150c[_0xa11835]['push'](_0x427d67),_0x568003[_0xa11835]++);}});const _0x9d33eb=Math[_0x57b7c2(0x494)](..._0x568003,0x1),_0x43e798=_0x57b7c2(0x6e5)+(_0xc7ec40[_0x57b7c2(0x503)]||_0xc7ec40[_0x57b7c2(0x15a)])+_0x57b7c2(0x815)+_0x568003[_0x57b7c2(0x625)]((_0xbd6c0c,_0x40b78d)=>{const _0x53d20c=_0x57b7c2,_0x5b6999=_0x2a150c[_0x40b78d][_0x53d20c(0xa38)]>0x0?_0x2a150c[_0x40b78d][_0x53d20c(0x424)](',\x20'):_0x53d20c(0x481);let _0x4ab9b4=![];if(_0x155630===_0x53d20c(0x27f))_0x4ab9b4=_0x40b78d===_0xc7ec40[_0x53d20c(0x26e)];else{if(_0x155630===_0x53d20c(0x51c)){const _0x5f3a78=_0xc7ec40[_0x53d20c(0x67b)];_0x4ab9b4=_0x5f3a78&&_0x40b78d===0x0||!_0x5f3a78&&_0x40b78d===0x1;}else _0x155630==='matching_item'&&(_0x4ab9b4=_0x3e488f[_0x40b78d]===_0xc7ec40[_0x53d20c(0xb28)]);}const _0x575238=_0x4ab9b4?_0x53d20c(0x44c):_0x53d20c(0x8e3);return _0x53d20c(0x89d)+_0xbd6c0c+_0x53d20c(0x328)+_0x575238+_0x53d20c(0x7ac)+_0x40b78d+_0x53d20c(0x7d4)+_0x3e488f[_0x40b78d]+_0x53d20c(0x794)+_0x40b78d+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b6999+_0x53d20c(0xb9b);})['join']('')+_0x57b7c2(0xb4f);liveGameView[_0x57b7c2(0x8f6)]=_0x43e798;if(window[_0x57b7c2(0x3fa)])MathJax[_0x57b7c2(0x422)]();document[_0x57b7c2(0x8d1)](_0x57b7c2(0x224))[_0x57b7c2(0x2d5)](_0x57b7c2(0x4d9),async()=>{const _0x58c526=_0x57b7c2,_0x4e42c7=doc(db,_0x58c526(0x1d1)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4e42c7,{'questionStatus':_0x58c526(0x754)});}),document[_0x57b7c2(0x8d1)](_0x57b7c2(0x89a))[_0x57b7c2(0x2d5)]('click',()=>{openScratchpad(_0xc7ec40,_0x3e488f);});}function showPlayerSummaryView(_0xb75986,_0x696acd){const _0x7d1957=_0x252b26,_0x2b9108=Object[_0x7d1957(0x591)](_0xb75986[_0x7d1957(0x713)]||{}),_0x5a1afc=_0xb75986['players'][_0x696acd],_0xe9c1a3=_0x2b9108[_0x7d1957(0x6de)](_0x242ff7=>_0x242ff7[_0x7d1957(0x6c1)]===_0x7d1957(0xa19))[_0x7d1957(0x910)]((_0x3095c4,_0x12a5cb)=>_0x12a5cb['score']-_0x3095c4[_0x7d1957(0x3a4)]),_0x455c11=_0xe9c1a3[_0x7d1957(0x779)](_0x404d4a=>_0x404d4a===_0x5a1afc)+0x1,_0x2a35bf=_0x5a1afc['lastAnswerCorrect']?_0x7d1957(0x2bc):_0x7d1957(0xa9e),_0x5e7a56=_0x5a1afc[_0x7d1957(0x1e3)]?_0x7d1957(0x566):_0x7d1957(0x2d0),_0x4efb63=_0x5a1afc[_0x7d1957(0xa37)]||0x0,_0x36dad3=_0x7d1957(0x259),_0x1860ba=_0x7d1957(0x66c)+_0x36dad3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x5e7a56+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x2a35bf+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x4efb63+_0x7d1957(0x54f)+(_0x455c11>0x0?_0x455c11:'-')+_0x7d1957(0x2e2);liveGameView[_0x7d1957(0x8f6)]=_0x1860ba;}function createQuizFromBank(){const _0x2978ba=_0x252b26,_0x4ab90a=document[_0x2978ba(0xa48)](_0x2978ba(0xbc4));if(_0x4ab90a[_0x2978ba(0xa38)]===0x0){showMessage(_0x2978ba(0x5f5));return;}const _0x572ff5=[];_0x4ab90a[_0x2978ba(0x236)](_0x678682=>{const _0x560dd6=_0x2978ba;_0x572ff5['push'](JSON['parse'](_0x678682[_0x560dd6(0x64c)]));});const _0x58ffdd={'topic':_0x2978ba(0x541),'questions':_0x572ff5};displayGeneratedQuiz(_0x58ffdd);}function showAdminLobbyView(_0x35b944,_0x275e58){const _0x798a1b=_0x252b26;showView(_0x798a1b(0x443));const _0x1b77f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x275e58+_0x798a1b(0x2ba)+_0x35b944+_0x798a1b(0x3f6);liveGameView[_0x798a1b(0x8f6)]=_0x1b77f0,document['getElementById'](_0x798a1b(0x6b6))[_0x798a1b(0x2d5)](_0x798a1b(0x4d9),async()=>{const _0x9e5be=_0x798a1b;if(!currentQuizData||!currentQuizData[_0x9e5be(0x692)]||currentQuizData[_0x9e5be(0x692)][_0x9e5be(0xa38)]===0x0){showMessage(_0x9e5be(0x25f));return;}try{const _0x12f9f8=doc(db,_0x9e5be(0x1d1)+appId+_0x9e5be(0xc92),currentLiveGameId);await updateDoc(_0x12f9f8,{'status':_0x9e5be(0x638),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x256cbe=currentQuizData[_0x9e5be(0x692)][0x0],_0x506c0e=currentQuizData[_0x9e5be(0x692)][_0x9e5be(0xa38)];showAdminLiveQuestionView(_0x256cbe,0x0,_0x506c0e);}catch(_0x303212){console[_0x9e5be(0x62f)](_0x9e5be(0x667),_0x303212),showMessage(_0x9e5be(0x319));}});}async function openQuizBankModal(){const _0x519043=_0x252b26;if(allQuizzesGlobal['length']===0x0){const _0x4f5750=await getDocs(collection(db,_0x519043(0x1d1)+appId+_0x519043(0x1a5)));allQuizzesGlobal=_0x4f5750[_0x519043(0x72c)][_0x519043(0x625)](_0x5b07c1=>({'id':_0x5b07c1['id'],..._0x5b07c1['data']()}));}renderQuizBankList(''),document[_0x519043(0x8d1)](_0x519043(0x41b))[_0x519043(0x1da)][_0x519043(0x7ce)](_0x519043(0x25d));}function renderQuizBankList(_0x3ba846='',_0x47c228=![]){const _0x44494f=_0x252b26,_0x42e024=document[_0x44494f(0x8d1)](_0x44494f(0x852)),_0x45a13b=_0x3ba846[_0x44494f(0x478)]()[_0x44494f(0x3cf)](),_0x556398=allQuizzesGlobal[_0x44494f(0x625)](_0x3aa612=>({..._0x3aa612,'projectName':allProjects['find'](_0x4a7f55=>_0x4a7f55['id']===_0x3aa612['projectId'])?.[_0x44494f(0xa1f)]||_0x44494f(0x207)}))[_0x44494f(0x6de)](_0x1d743c=>(_0x1d743c['topic']||'')[_0x44494f(0x478)]()[_0x44494f(0x7d5)](_0x45a13b)||(_0x1d743c[_0x44494f(0xa1f)]||'')[_0x44494f(0x478)]()[_0x44494f(0x7d5)](_0x45a13b)||_0x1d743c['id'][_0x44494f(0x626)]()[_0x44494f(0x7d5)](_0x45a13b));document['getElementById'](_0x44494f(0x5b2))[_0x44494f(0x5eb)]='('+_0x556398['length']+_0x44494f(0x4ec),_0x42e024[_0x44494f(0x8f6)]=_0x556398['length']?_0x556398[_0x44494f(0x625)](_0x551b43=>{const _0x34598c=_0x44494f,_0x5871b1=!_0x47c228?_0x34598c(0x1f6)+_0x551b43['id']+_0x34598c(0x3b5)+_0x551b43['id']+_0x34598c(0xc24)+_0x551b43['id']+_0x34598c(0x49e)+_0x551b43['id']+_0x34598c(0x391)+_0x551b43['id']+_0x34598c(0x431)+_0x551b43['id']+_0x34598c(0xa54)+_0x551b43[_0x34598c(0x5d7)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x34598c(0x71e)+_0x551b43['id']+_0x34598c(0x43b)+(_0x551b43[_0x34598c(0x5d7)]||_0x34598c(0x83a))+_0x34598c(0x7fb)+(_0x551b43['questions']?.[_0x34598c(0xa38)]||0x0)+_0x34598c(0x499)+_0x551b43['projectName']+_0x34598c(0x1cc)+_0x551b43['id']+_0x34598c(0xacf)+_0x5871b1+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x44494f(0x424)](''):_0x44494f(0x645),!_0x47c228&&(_0x42e024[_0x44494f(0xa48)](_0x44494f(0x7e0))[_0x44494f(0x236)](_0x98b4c2=>{const _0x30ddd6=_0x44494f;_0x98b4c2[_0x30ddd6(0x2d5)](_0x30ddd6(0x4d9),()=>{const _0x29e63e=_0x30ddd6,_0x5013d8=_0x98b4c2['dataset']['id'];document[_0x29e63e(0x8d1)](_0x29e63e(0x41b))[_0x29e63e(0x1da)][_0x29e63e(0x2df)](_0x29e63e(0x25d)),showQuizDetailView(_0x5013d8);});}),_0x42e024[_0x44494f(0xa48)](_0x44494f(0x16a))[_0x44494f(0x236)](_0x58b0eb=>{const _0x4691e6=_0x44494f;_0x58b0eb[_0x4691e6(0x2d5)](_0x4691e6(0x4d9),_0x75b3ad=>{const _0x2d29f3=_0x4691e6;_0x75b3ad[_0x2d29f3(0x3c0)]();const _0x5cdbe7=_0x58b0eb[_0x2d29f3(0x9e8)]['id'],_0x4e067e=allQuizzesGlobal[_0x2d29f3(0x269)](_0xf785d1=>_0xf785d1['id']===_0x5cdbe7);_0x4e067e?(currentQuizData=_0x4e067e,document[_0x2d29f3(0x8d1)](_0x2d29f3(0x41b))[_0x2d29f3(0x1da)][_0x2d29f3(0x2df)](_0x2d29f3(0x25d)),startAdminTest()):showMessage(_0x2d29f3(0x9ab));});}),_0x42e024['querySelectorAll'](_0x44494f(0x65e))[_0x44494f(0x236)](_0x5eddfd=>{const _0x2641b1=_0x44494f;_0x5eddfd['addEventListener'](_0x2641b1(0x4d9),_0xebd1fe=>{const _0x1490ae=_0x2641b1;_0xebd1fe[_0x1490ae(0x3c0)]();const _0x2d5f3d=_0x5eddfd['dataset']['id'],_0x3ba199=allQuizzesGlobal['find'](_0x2602d1=>_0x2602d1['id']===_0x2d5f3d);_0x3ba199?(document['getElementById']('quiz-bank-modal')[_0x1490ae(0x1da)][_0x1490ae(0x2df)]('hidden'),handleGenerateParallelFromBank(_0x3ba199)):showMessage(_0x1490ae(0x9ab));});}),_0x42e024[_0x44494f(0xa48)]('.quiz-bank-present-btn')[_0x44494f(0x236)](_0x4ea80c=>{const _0x3cac2b=_0x44494f;_0x4ea80c[_0x3cac2b(0x2d5)](_0x3cac2b(0x4d9),_0x2d73ab=>{const _0xcf344e=_0x3cac2b;_0x2d73ab[_0xcf344e(0x3c0)]();const _0x34ff24=_0x4ea80c['dataset']['id'],_0x36d59c=allQuizzesGlobal[_0xcf344e(0x269)](_0x5192bd=>_0x5192bd['id']===_0x34ff24);_0x36d59c?(document[_0xcf344e(0x8d1)](_0xcf344e(0x41b))[_0xcf344e(0x1da)]['add'](_0xcf344e(0x25d)),startPresentation(_0x36d59c)):showMessage(_0xcf344e(0x9ab));});}),_0x42e024[_0x44494f(0xa48)](_0x44494f(0x4a2))[_0x44494f(0x236)](_0xf3a859=>{const _0x1ff7f6=_0x44494f;_0xf3a859['addEventListener'](_0x1ff7f6(0x4d9),_0x42d7bf=>{const _0x3be882=_0x1ff7f6;_0x42d7bf[_0x3be882(0x3c0)]();const _0x5bc2de=_0xf3a859['dataset']['id'];document[_0x3be882(0x8d1)](_0x3be882(0x41b))[_0x3be882(0x1da)][_0x3be882(0x2df)](_0x3be882(0x25d)),handleMoveQuiz(_0x5bc2de);});}),_0x42e024['querySelectorAll'](_0x44494f(0x434))[_0x44494f(0x236)](_0x354e7f=>{const _0x4aac6c=_0x44494f;_0x354e7f[_0x4aac6c(0x2d5)](_0x4aac6c(0x4d9),_0x394157=>{const _0x4ff576=_0x4aac6c;_0x394157['stopPropagation']();const _0x8101d2=_0x354e7f[_0x4ff576(0x9e8)]['id'];document[_0x4ff576(0x8d1)](_0x4ff576(0x41b))[_0x4ff576(0x1da)]['add'](_0x4ff576(0x25d)),handleQuizSettings(_0x8101d2);});}),_0x42e024['querySelectorAll'](_0x44494f(0x1d0))[_0x44494f(0x236)](_0x2501a3=>{const _0x44fdb0=_0x44494f;_0x2501a3[_0x44fdb0(0x2d5)](_0x44fdb0(0x4d9),_0x825912=>{const _0x4cbad4=_0x44fdb0;_0x825912[_0x4cbad4(0x3c0)]();const _0x22d855=_0x2501a3[_0x4cbad4(0x9e8)]['id'],_0x4f8649=_0x2501a3[_0x4cbad4(0x9e8)][_0x4cbad4(0x5d7)];showConfirmation(_0x4cbad4(0x493)+_0x4f8649+_0x4cbad4(0x57e),()=>handleDeleteQuiz(_0x22d855));});}));}async function handleCompareResults(_0x349bc7,_0x34faf1){const _0x2ad3ec=_0x252b26,_0x3fe264=document[_0x2ad3ec(0x8d1)](_0x2ad3ec(0x924)),_0x2c3e55=document[_0x2ad3ec(0x8d1)](_0x2ad3ec(0xbda)),_0x250321=document['getElementById'](_0x2ad3ec(0x2ef));document[_0x2ad3ec(0x8d1)](_0x2ad3ec(0xa40))[_0x2ad3ec(0x1da)][_0x2ad3ec(0x2df)]('active'),document['getElementById'](_0x2ad3ec(0x7b0))[_0x2ad3ec(0x1da)][_0x2ad3ec(0x7ce)](_0x2ad3ec(0xa19)),_0x2c3e55[_0x2ad3ec(0x1da)][_0x2ad3ec(0x7ce)]('hidden'),_0x250321[_0x2ad3ec(0x1da)]['add'](_0x2ad3ec(0x25d)),_0x2c3e55[_0x2ad3ec(0x8f6)]=_0x2ad3ec(0x727),_0x250321[_0x2ad3ec(0x8f6)]='',_0x3fe264['classList']['remove']('hidden');try{const _0x2793bb=doc(db,_0x2ad3ec(0x1d1)+appId+_0x2ad3ec(0x1a5),_0x349bc7),_0x4e63de=await getDoc(_0x2793bb);if(!_0x4e63de['exists']())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x141b9a=_0x4e63de[_0x2ad3ec(0xa36)](),_0x8c0504=_0x141b9a[_0x2ad3ec(0x692)][_0x2ad3ec(0xa38)],_0x63a4bf=collection(db,'artifacts/'+appId+_0x2ad3ec(0x75d)+_0x34faf1+_0x2ad3ec(0x208)),_0x5db2e5=collection(db,'artifacts/'+appId+_0x2ad3ec(0x75d)+_0x349bc7+_0x2ad3ec(0x208)),[_0x472019,_0x5a2a84]=await Promise[_0x2ad3ec(0xadc)]([getDocs(_0x63a4bf),getDocs(_0x5db2e5)]),_0xc71e8=_0x472019[_0x2ad3ec(0x72c)]['map'](_0x445e4a=>_0x445e4a[_0x2ad3ec(0xa36)]()),_0x152323=_0x5a2a84['docs'][_0x2ad3ec(0x625)](_0x3c0db0=>_0x3c0db0[_0x2ad3ec(0xa36)]()),_0x1b5772=_0xc71e8['map'](_0x37e7be=>_0x37e7be[_0x2ad3ec(0xb64)]),_0x24c2cf=_0x152323[_0x2ad3ec(0x625)](_0xfc0233=>_0xfc0233['latestScore']),_0xe95dc0=calculateMeanAndStdDev(_0x1b5772),_0x271c92=calculateMeanAndStdDev(_0x24c2cf),_0x34ba68=_0xe95dc0[_0x2ad3ec(0x1d6)],_0x4035f0=_0x271c92['mean'],_0x3f063a=_0x4035f0-_0x34ba68;let _0x360937=_0x2ad3ec(0x419)+_0x34ba68[_0x2ad3ec(0x5bc)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x4035f0[_0x2ad3ec(0x5bc)](0x2)+_0x2ad3ec(0x48d)+(_0x3f063a>=0x0?_0x2ad3ec(0xb4c):_0x2ad3ec(0x909))+_0x2ad3ec(0xa71)+(_0x3f063a>=0x0?_0x2ad3ec(0xb51):_0x2ad3ec(0xafe))+_0x2ad3ec(0xae7)+(_0x3f063a>=0x0?_0x2ad3ec(0xa57):_0x2ad3ec(0x916))+'\x22>'+(_0x3f063a>=0x0?'+':'')+_0x3f063a[_0x2ad3ec(0x5bc)](0x2)+_0x2ad3ec(0x8cf);_0x2c3e55[_0x2ad3ec(0x8f6)]=_0x360937;const _0x25ea62=document[_0x2ad3ec(0x8d1)](_0x2ad3ec(0xac7))[_0x2ad3ec(0xbd3)]('2d');if(chartInstances[_0x2ad3ec(0x44e)])chartInstances[_0x2ad3ec(0x44e)][_0x2ad3ec(0x29f)]();chartInstances[_0x2ad3ec(0x44e)]=new Chart(_0x25ea62,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0x34ba68],'backgroundColor':_0x2ad3ec(0xb0c)},{'label':_0x2ad3ec(0x43f),'data':[_0x4035f0],'backgroundColor':_0x2ad3ec(0xaff)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x8c0504}}}});const _0xdec716=currentProjectData[_0x2ad3ec(0x91a)]||[],_0x847c28=_0xdec716[_0x2ad3ec(0x625)](_0x502364=>{const _0x213683=_0x2ad3ec,_0x15b18c=_0xc71e8['find'](_0xb84e36=>_0xb84e36[_0x213683(0x688)]===_0x502364),_0x39d821=_0x152323[_0x213683(0x269)](_0x294ade=>_0x294ade[_0x213683(0x688)]===_0x502364),_0x347940=_0x15b18c?_0x15b18c[_0x213683(0xb64)]:null,_0x513197=_0x39d821?_0x39d821[_0x213683(0xb64)]:null,_0x27a71f=_0x347940!==null&&_0x513197!==null?_0x513197-_0x347940:null,_0x4816b0=_0x347940!==null?calculateZScore(_0x347940,_0xe95dc0['mean'],_0xe95dc0[_0x213683(0x9e7)]):null,_0xe5540f=_0x513197!==null?calculateZScore(_0x513197,_0x271c92[_0x213683(0x1d6)],_0x271c92[_0x213683(0x9e7)]):null,_0x44cddf=_0x4816b0!==null?calculateTScore(_0x4816b0):null,_0x1d2c59=_0xe5540f!==null?calculateTScore(_0xe5540f):null,_0xd5adb8=_0x44cddf!==null&&_0x1d2c59!==null?_0x1d2c59-_0x44cddf:null;return{'name':_0x502364,'preScore':_0x347940,'postScore':_0x513197,'gain':_0x27a71f,'preTScore':_0x44cddf,'postTScore':_0x1d2c59,'tGain':_0xd5adb8};});renderIndividualComparisonTable(_0x847c28,_0x250321);}catch(_0x25133a){console['error'](_0x2ad3ec(0x8a6),_0x25133a),_0x2c3e55[_0x2ad3ec(0x8f6)]=_0x2ad3ec(0xbe8);}}async function saveBlueprintProject(){const _0x44b13b=_0x252b26;if(!extractedBlueprintData||!extractedBlueprintData[_0x44b13b(0xc5b)]){showMessage(_0x44b13b(0xb78));return;}const _0x15b919=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x44b13b(0x3a2));if(!_0x15b919||_0x15b919[_0x44b13b(0x3cf)]()==='')return;const _0x2346e9={};extractedBlueprintData[_0x44b13b(0xc5b)][_0x44b13b(0x236)](_0x207faf=>{const _0x253633=_0x44b13b;_0x207faf[_0x253633(0x12c)]['forEach'](_0x2d99cb=>{const _0x1b3a45=_0x253633;_0x2d99cb[_0x1b3a45(0xa42)][_0x1b3a45(0x236)](_0x54e91f=>{const _0x4690c6=_0x1b3a45,_0x562da7=_0x4690c6(0x17f)+Date[_0x4690c6(0x4a0)]()+Math[_0x4690c6(0x782)]()[_0x4690c6(0x626)](0x24)[_0x4690c6(0x67f)](0x2,0x9);_0x2346e9[_0x562da7]={'sara':_0x207faf[_0x4690c6(0x7b7)],'mainTopic':_0x2d99cb[_0x4690c6(0x58e)],'subTopic':_0x54e91f,'status':_0x4690c6(0x27b),'lessonContent':null};});});});try{const _0x1f798d=collection(db,_0x44b13b(0x1d1)+appId+_0x44b13b(0xa4a));await addDoc(_0x1f798d,{'projectName':_0x15b919['trim'](),'gradeLevel':extractedBlueprintData[_0x44b13b(0x868)],'topics':_0x2346e9,'createdAt':serverTimestamp()}),showMessage(_0x44b13b(0x249)+_0x15b919[_0x44b13b(0x3cf)]()+_0x44b13b(0x602)),document[_0x44b13b(0x8d1)](_0x44b13b(0x829))['classList']['add'](_0x44b13b(0x25d));}catch(_0x5aca77){console['error']('Error\x20saving\x20blueprint\x20project:',_0x5aca77),showMessage(_0x44b13b(0x1e9));}}async function showBlueprintProjects(){const _0x2ba8d1=_0x252b26,_0x36a277=document[_0x2ba8d1(0x8d1)](_0x2ba8d1(0x47c)),_0x4384ba=document[_0x2ba8d1(0x8d1)]('blueprint-project-list');_0x4384ba['innerHTML']=_0x2ba8d1(0x442),_0x36a277[_0x2ba8d1(0x1da)][_0x2ba8d1(0x7ce)](_0x2ba8d1(0x25d));try{const _0x58722e=collection(db,_0x2ba8d1(0x1d1)+appId+_0x2ba8d1(0xa4a)),_0x1cfb77=await getDocs(_0x58722e);if(_0x1cfb77[_0x2ba8d1(0x8a1)]){_0x4384ba[_0x2ba8d1(0x8f6)]=_0x2ba8d1(0xbc2);return;}const _0x57f17d=_0x1cfb77[_0x2ba8d1(0x72c)][_0x2ba8d1(0x625)](_0x3e27cb=>({'id':_0x3e27cb['id'],..._0x3e27cb[_0x2ba8d1(0xa36)]()}));_0x57f17d[_0x2ba8d1(0x910)]((_0x483ed7,_0x37bfc3)=>_0x483ed7[_0x2ba8d1(0xa1f)][_0x2ba8d1(0xb7a)](_0x37bfc3[_0x2ba8d1(0xa1f)],'th')),_0x4384ba[_0x2ba8d1(0x8f6)]=_0x57f17d[_0x2ba8d1(0x625)](_0x4df06d=>_0x2ba8d1(0x5dc)+_0x4df06d[_0x2ba8d1(0xa1f)]+_0x2ba8d1(0x268)+_0x4df06d['gradeLevel']+_0x2ba8d1(0x972)+Object[_0x2ba8d1(0x529)](_0x4df06d['topics'])[_0x2ba8d1(0xa38)]+_0x2ba8d1(0xb6a)+_0x4df06d['id']+_0x2ba8d1(0x967)+_0x4df06d['id']+_0x2ba8d1(0x707))[_0x2ba8d1(0x424)]('');}catch(_0xabeab){console[_0x2ba8d1(0x62f)](_0x2ba8d1(0xc76),_0xabeab),_0x4384ba[_0x2ba8d1(0x8f6)]=_0x2ba8d1(0x2fe);}}async function displayBlueprintProjectManager(_0x15c7ab){const _0x558339=_0x252b26;currentBlueprintProjectId=_0x15c7ab,document[_0x558339(0x8d1)](_0x558339(0x47c))[_0x558339(0x1da)]['add'](_0x558339(0x25d)),showView(_0x558339(0x9f6)),projectDashboardView[_0x558339(0x1da)][_0x558339(0x2df)](_0x558339(0x25d));const _0x3069b0=document[_0x558339(0x8d1)]('blueprint-project-manager-view');_0x3069b0['classList'][_0x558339(0x7ce)](_0x558339(0x25d)),document[_0x558339(0x8d1)]('bp-topic-list-container')[_0x558339(0x8f6)]=_0x558339(0x727);try{const _0x2ed138=doc(db,_0x558339(0x1d1)+appId+_0x558339(0xa4a),_0x15c7ab),_0x194ca6=await getDoc(_0x2ed138);if(!_0x194ca6['exists']())throw new Error(_0x558339(0xc9f));const _0x5cd2a0={'id':_0x194ca6['id'],..._0x194ca6[_0x558339(0xa36)]()};document[_0x558339(0x8d1)](_0x558339(0x264))[_0x558339(0x5eb)]=_0x5cd2a0[_0x558339(0xa1f)],document[_0x558339(0x8d1)](_0x558339(0x9f5))[_0x558339(0x64c)]=_0x5cd2a0[_0x558339(0x722)]||'',renderBlueprintTopicManager(_0x5cd2a0);}catch(_0x29ce64){console[_0x558339(0x62f)](_0x558339(0x39c),_0x29ce64),showMessage(_0x29ce64[_0x558339(0xa56)]),showView(_0x558339(0x9f6));}}function renderBlueprintTopicManager(_0x383512){const _0x5959bd=_0x252b26,_0x35f3f2=document[_0x5959bd(0x8d1)](_0x5959bd(0x289)),_0x189137=_0x383512[_0x5959bd(0x837)]||{};if(Object[_0x5959bd(0x529)](_0x189137)['length']===0x0){_0x35f3f2[_0x5959bd(0x8f6)]=_0x5959bd(0xb72);return;}const _0x575a7f={};for(const _0x5526e1 in _0x189137){const _0x451ec4={'id':_0x5526e1,..._0x189137[_0x5526e1]};_0x575a7f[_0x451ec4[_0x5959bd(0x7b7)]]=_0x575a7f[_0x451ec4[_0x5959bd(0x7b7)]]||{},_0x575a7f[_0x451ec4[_0x5959bd(0x7b7)]][_0x451ec4[_0x5959bd(0xad1)]]=_0x575a7f[_0x451ec4['sara']][_0x451ec4['mainTopic']]||[],_0x575a7f[_0x451ec4[_0x5959bd(0x7b7)]][_0x451ec4[_0x5959bd(0xad1)]][_0x5959bd(0xc64)](_0x451ec4);}let _0x58a381='';const _0x36434c=Object[_0x5959bd(0x529)](_0x575a7f)[_0x5959bd(0x910)]((_0x43bef1,_0x10b135)=>_0x43bef1['localeCompare'](_0x10b135,'th'));for(const _0x16d5c5 of _0x36434c){_0x58a381+=_0x5959bd(0x1de)+_0x16d5c5+_0x5959bd(0x326);const _0xe9a0ca=Object[_0x5959bd(0x529)](_0x575a7f[_0x16d5c5])[_0x5959bd(0x910)]((_0x2918d4,_0x4f9640)=>_0x2918d4[_0x5959bd(0xb7a)](_0x4f9640,'th'));for(const _0x2f9fd8 of _0xe9a0ca){_0x58a381+=_0x5959bd(0x77b)+_0x2f9fd8+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x575a7f[_0x16d5c5][_0x2f9fd8][_0x5959bd(0x910)]((_0x2375e7,_0x1ce50b)=>_0x2375e7[_0x5959bd(0xa52)]['localeCompare'](_0x1ce50b[_0x5959bd(0xa52)],'th')),_0x575a7f[_0x16d5c5][_0x2f9fd8]['forEach'](_0x561f50=>{const _0x572a8f=_0x5959bd,_0x5c70f8=_0x561f50['id'],_0x41d30a=_0x561f50['linkedQuizIds']||[],_0x38873b=_0x41d30a[_0x572a8f(0xa38)]>0x0,_0xe1057f=_0x561f50['status']==='generated';let _0x4242b5='';_0x38873b?_0x4242b5=_0x572a8f(0xb61)+_0x41d30a['length']+_0x572a8f(0x7af):_0x4242b5='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0xe1057f?_0x572a8f(0xc9b):_0x572a8f(0x72b))+'\x22>'+(_0xe1057f?_0x572a8f(0xa26):'ยังไม่สร้าง')+_0x572a8f(0xa04);const _0x3234da=!_0xe1057f?_0x572a8f(0x5fe):'',_0x434189=!_0xe1057f?_0x572a8f(0x6aa):'';let _0x300d90=_0xe1057f?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x58a381+=_0x572a8f(0x1aa)+_0x5c70f8+_0x572a8f(0x840)+_0x561f50[_0x572a8f(0xa52)]+_0x572a8f(0x2a1)+_0x4242b5+_0x572a8f(0x6b7)+_0x3234da+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x434189+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x300d90+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x58a381+='</div></div>';}_0x58a381+=_0x5959bd(0xa8c);}_0x35f3f2[_0x5959bd(0x8f6)]=_0x58a381;}async function openTopicQuizBank(_0x598a7e){const _0x207427=_0x252b26,_0x55ee6a=document[_0x207427(0x8d1)](_0x207427(0x96a)),_0x5f0efd=document['getElementById'](_0x207427(0x690)),_0x8855d6=document[_0x207427(0x8d1)](_0x207427(0xa88));try{await ensureGlobalQuizzesLoaded();const _0x1feb40=doc(db,_0x207427(0x1d1)+appId+_0x207427(0xa4a),currentBlueprintProjectId),_0x158bb7=await getDoc(_0x1feb40);if(!_0x158bb7['exists']())return;const _0x1ef8d2=_0x158bb7[_0x207427(0xa36)](),_0x26d6c4=_0x1ef8d2[_0x207427(0x837)][_0x598a7e];document[_0x207427(0x8d1)](_0x207427(0x719))[_0x207427(0x5eb)]=_0x26d6c4[_0x207427(0xa52)];const _0x590c46=_0x26d6c4[_0x207427(0x1fe)]||[];_0x8855d6[_0x207427(0x1da)][_0x207427(0x3a0)](_0x207427(0x25d),_0x590c46['length']===0x0),_0x8855d6[_0x207427(0xa67)]=()=>handleClearAllLinksForTopic(_0x598a7e);if(_0x590c46[_0x207427(0xa38)]===0x0)_0x5f0efd['innerHTML']=_0x207427(0x6f3);else{const _0x3f9343=allQuizzesGlobal[_0x207427(0x6de)](_0x40ce36=>_0x590c46[_0x207427(0x7d5)](_0x40ce36['id']));_0x5f0efd['innerHTML']=_0x3f9343[_0x207427(0x625)](_0x19777d=>_0x207427(0x671)+_0x19777d['id']+_0x207427(0x640)+_0x19777d[_0x207427(0x5d7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x19777d['id']+_0x207427(0x972)+_0x19777d[_0x207427(0x692)][_0x207427(0xa38)]+_0x207427(0x4a3)+_0x19777d['id']+_0x207427(0x808)+_0x19777d['id']+_0x207427(0x781)+_0x19777d['id']+_0x207427(0x310)+_0x19777d['id']+_0x207427(0x6c6)+_0x19777d['id']+_0x207427(0xa45)+_0x19777d['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x598a7e+_0x207427(0xa65)+_0x19777d['id']+_0x207427(0x793))[_0x207427(0x424)]('');}document[_0x207427(0x8d1)]('add-from-global-bank-btn')[_0x207427(0xa67)]=()=>{openQuizSelectorForBlueprint(_0x598a7e);},document[_0x207427(0x8d1)](_0x207427(0x4bf))[_0x207427(0xa67)]=()=>_0x55ee6a[_0x207427(0x1da)][_0x207427(0x2df)](_0x207427(0x25d)),_0x55ee6a[_0x207427(0x1da)][_0x207427(0x7ce)]('hidden');}catch(_0x587f4b){showMessage(_0x587f4b[_0x207427(0xa56)]);}}async function openQuizSelectorForBlueprint(_0x489eb2){const _0x540dbb=_0x252b26,_0xf7f5b1=document[_0x540dbb(0x8d1)](_0x540dbb(0x41b)),_0x35e9b5=document['getElementById'](_0x540dbb(0x96a));_0x35e9b5['classList'][_0x540dbb(0x2df)](_0x540dbb(0x25d)),document['getElementById'](_0x540dbb(0x292))?.[_0x540dbb(0x7ce)]();const _0x1ad352=document['createElement'](_0x540dbb(0x360));_0x1ad352['id']=_0x540dbb(0x292),_0x1ad352[_0x540dbb(0x59e)]=_0x540dbb(0x342),_0x1ad352[_0x540dbb(0x5eb)]=_0x540dbb(0x813),_0x1ad352['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0xf7f5b1[_0x540dbb(0x1da)][_0x540dbb(0x7ce)](_0x540dbb(0x25d)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x540dbb(0x8f7))['style'][_0x540dbb(0x6f6)]=_0x540dbb(0xa55),_0xf7f5b1[_0x540dbb(0x2b7)](_0x540dbb(0x41f))[_0x540dbb(0x726)](_0x1ad352);const _0x29922b=(_0x59b2f7=![])=>{const _0x290426=_0x540dbb;_0xf7f5b1[_0x290426(0x1da)][_0x290426(0x2df)](_0x290426(0x25d)),document[_0x290426(0x8d1)](_0x290426(0x8f7))['style'][_0x290426(0x6f6)]=_0x290426(0xbcc),_0x1ad352['remove'](),_0x59b2f7&&openTopicQuizBank(_0x489eb2);};_0x1ad352[_0x540dbb(0xa67)]=async()=>{const _0x1c2f56=_0x540dbb,_0x4ab30a=Array[_0x1c2f56(0x8a3)](document[_0x1c2f56(0xa48)](_0x1c2f56(0x169)))[_0x1c2f56(0x625)](_0x17bf84=>_0x17bf84[_0x1c2f56(0x64c)]);if(_0x4ab30a[_0x1c2f56(0xa38)]===0x0)return;try{const _0x519711=doc(db,_0x1c2f56(0x1d1)+appId+_0x1c2f56(0xa4a),currentBlueprintProjectId),_0x2378b6=(await getDoc(_0x519711))['data'](),_0x2fdb32=_0x2378b6[_0x1c2f56(0x837)][_0x489eb2][_0x1c2f56(0x1fe)]||[],_0x2e6878=[...new Set([..._0x2fdb32,..._0x4ab30a])];await updateDoc(_0x519711,{[_0x1c2f56(0xba9)+_0x489eb2+_0x1c2f56(0x401)]:_0x2e6878}),showMessage(_0x1c2f56(0x9ca)+_0x4ab30a[_0x1c2f56(0xa38)]+_0x1c2f56(0x3b8)),_0x29922b(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1a8658){console[_0x1c2f56(0x62f)](_0x1c2f56(0xa0f),_0x1a8658);}},document[_0x540dbb(0x8d1)](_0x540dbb(0xb7c))[_0x540dbb(0xa67)]=()=>_0x29922b(!![]);}catch(_0x5dd7d6){showMessage(_0x5dd7d6['message']),_0x35e9b5[_0x540dbb(0x1da)][_0x540dbb(0x7ce)](_0x540dbb(0x25d));}}function handleClearLinkedQuiz(_0x4eb782){const _0x22bba7=_0x252b26;showConfirmation(_0x22bba7(0x474),async()=>{const _0x3d2cb2=_0x22bba7;try{const _0x2ace34=doc(db,_0x3d2cb2(0x1d1)+appId+_0x3d2cb2(0xa4a),currentBlueprintProjectId);await updateDoc(_0x2ace34,{['topics.'+_0x4eb782+_0x3d2cb2(0x895)]:deleteField()}),showMessage(_0x3d2cb2(0x9f4)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4b7cbf){console['error']('Error\x20clearing\x20linked\x20quiz:',_0x4b7cbf),showMessage(_0x3d2cb2(0x8cd));}});}async function addTopicToProject(){const _0x1091eb=_0x252b26,_0x5350d9=prompt(_0x1091eb(0x822));if(!_0x5350d9||_0x5350d9[_0x1091eb(0x3cf)]()==='')return;const _0x1cc37b=prompt(_0x1091eb(0x6e3),_0x1091eb(0xb4d)),_0x104a4c=prompt(_0x1091eb(0x213),_0x1091eb(0x7bc)),_0x566826=_0x1091eb(0x17f)+Date[_0x1091eb(0x4a0)]()+Math[_0x1091eb(0x782)]()['toString'](0x24)[_0x1091eb(0x67f)](0x2,0x9),_0x14bd97={'sara':_0x1cc37b,'mainTopic':_0x104a4c,'subTopic':_0x5350d9[_0x1091eb(0x3cf)](),'status':'not_generated','lessonContent':null};try{const _0xae9bfa=doc(db,_0x1091eb(0x1d1)+appId+_0x1091eb(0xa4a),currentBlueprintProjectId);await updateDoc(_0xae9bfa,{['topics.'+_0x566826]:_0x14bd97}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x856d58){console['error']('Error\x20adding\x20topic:',_0x856d58),showMessage(_0x1091eb(0xafd));}}async function editTopicInProject(_0x4c242e){const _0x2fe37d=_0x252b26,_0x538fa5=document[_0x2fe37d(0x2b7)](_0x2fe37d(0xb9e)+_0x4c242e+'\x22]'),_0x58bf4d=_0x538fa5[_0x2fe37d(0x2b7)](_0x2fe37d(0x5cc)),_0x113d7d=_0x58bf4d[_0x2fe37d(0x5eb)],_0x4de7db=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x113d7d);if(!_0x4de7db||_0x4de7db[_0x2fe37d(0x3cf)]()===''||_0x4de7db[_0x2fe37d(0x3cf)]()===_0x113d7d)return;try{const _0x3c0e12=doc(db,_0x2fe37d(0x1d1)+appId+_0x2fe37d(0xa4a),currentBlueprintProjectId);await updateDoc(_0x3c0e12,{[_0x2fe37d(0xba9)+_0x4c242e+'.subTopic']:_0x4de7db[_0x2fe37d(0x3cf)]()}),_0x58bf4d[_0x2fe37d(0x5eb)]=_0x4de7db[_0x2fe37d(0x3cf)](),showMessage(_0x2fe37d(0xbfe));}catch(_0x44418a){console[_0x2fe37d(0x62f)]('Error\x20editing\x20topic:',_0x44418a),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x1391f8){const _0x25abbe=_0x252b26;if(!confirm(_0x25abbe(0xbe1)))return;try{const _0x2b7a14=doc(db,_0x25abbe(0x1d1)+appId+_0x25abbe(0xa4a),currentBlueprintProjectId);await updateDoc(_0x2b7a14,{[_0x25abbe(0xba9)+_0x1391f8]:deleteField()}),document[_0x25abbe(0x2b7)]('[data-topic-id=\x22'+_0x1391f8+'\x22]')['remove'](),showMessage(_0x25abbe(0x820));}catch(_0x73f552){console[_0x25abbe(0x62f)](_0x25abbe(0x31a),_0x73f552),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x461d1e,_0x43cf2a,_0x115b5d){handleGenerateAndShowLesson(_0x43cf2a,_0x115b5d);const _0x1c206b=setInterval(async()=>{const _0x29ef1e=_0x4c50,_0x3679e0=document[_0x29ef1e(0x8d1)](_0x29ef1e(0x1a2)),_0x1c93d3=_0x3679e0['classList'][_0x29ef1e(0x63c)](_0x29ef1e(0x25d));if(_0x1c93d3){clearInterval(_0x1c206b);if(currentApplicationData&&currentApplicationData[_0x29ef1e(0xa38)]>0x0){const _0xea54ac={'point':document[_0x29ef1e(0x8d1)](_0x29ef1e(0x2c1))['innerHTML'],'memory':document['getElementById'](_0x29ef1e(0x33d))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x29ef1e(0x8d1)](_0x29ef1e(0x96e))['innerHTML']};try{const _0x17bd91=doc(db,_0x29ef1e(0x1d1)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x5092b4=doc(db,'artifacts/'+appId+_0x29ef1e(0xc80)+currentBlueprintProjectId+_0x29ef1e(0x1a6),_0x461d1e),_0x130e57=writeBatch(db);_0x130e57[_0x29ef1e(0x80c)](_0x5092b4,{'content':_0xea54ac}),_0x130e57[_0x29ef1e(0x490)](_0x17bd91,{[_0x29ef1e(0xba9)+_0x461d1e+_0x29ef1e(0x466)]:_0x29ef1e(0x893)}),await _0x130e57[_0x29ef1e(0xbb6)](),console[_0x29ef1e(0x952)](_0x29ef1e(0x19a)+_0x461d1e+_0x29ef1e(0x738)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x541f08){console['error']('Error\x20saving\x20lesson\x20to\x20project:',_0x541f08);}}}},0x3e8);}function displayHalfMarkResult(_0x409b29,_0x34cb3f){const _0x4e3126=_0x252b26,_0x3f5020=_0x409b29>=_0x34cb3f/0x2,_0x144339=_0x3f5020?_0x4e3126(0x601):_0x4e3126(0x909),_0x3b95d5=_0x3f5020?_0x4e3126(0x7e7):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x300383=_0x3f5020?_0x4e3126(0x649):_0x4e3126(0xafe),_0x58f9d2=_0x3f5020?_0x4e3126(0x6ca):_0x4e3126(0xa9f),_0x2307ac=_0x3f5020?_0x4e3126(0x287):_0x4e3126(0xaab);let _0x3492ee=_0x4e3126(0x522)+_0x144339+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b95d5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x300383+_0x4e3126(0x1e4)+_0x58f9d2+_0x4e3126(0x9a1)+_0x2307ac+_0x4e3126(0x717);studentResultArea['innerHTML']=_0x3492ee,studentResultArea[_0x4e3126(0x1da)][_0x4e3126(0x7ce)]('hidden'),studentQuizArea[_0x4e3126(0x1da)][_0x4e3126(0x2df)](_0x4e3126(0x25d)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3f5020});}function displayPerfectScoreResult(_0x3a03ab,_0x2eae82){const _0x2ab3ca=_0x252b26,_0x106ecb=_0x3a03ab===_0x2eae82,_0x2d5e9d=_0x106ecb?_0x2ab3ca(0x944):'bg-blue-100',_0x10b129=_0x106ecb?_0x2ab3ca(0x389):_0x2ab3ca(0x4ad),_0x1f424d=_0x106ecb?_0x2ab3ca(0x82c):_0x2ab3ca(0xad2),_0x28e4f5=_0x106ecb?_0x2ab3ca(0x9b3):'ยังไม่เต็มนะ',_0x1d654c=_0x106ecb?_0x2ab3ca(0x574):_0x2ab3ca(0xbde);let _0x2c4d3a=_0x2ab3ca(0x522)+_0x2d5e9d+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10b129+_0x2ab3ca(0x9f7)+_0x1f424d+_0x2ab3ca(0x1e4)+_0x28e4f5+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x1d654c+_0x2ab3ca(0x717);studentResultArea['innerHTML']=_0x2c4d3a,studentResultArea[_0x2ab3ca(0x1da)]['remove']('hidden'),studentQuizArea[_0x2ab3ca(0x1da)]['add'](_0x2ab3ca(0x25d)),setupResultScreenBackButton({'showRankings':![],'score':_0x3a03ab,'totalQuestions':_0x2eae82});}function renderIndividualComparisonTable(_0x3191b2,_0x56efb9){const _0x57cd2c=_0x252b26;_0x3191b2[_0x57cd2c(0x910)]((_0xf314a8,_0x2121d8)=>(_0x2121d8[_0x57cd2c(0x438)]??-Infinity)-(_0xf314a8['tGain']??-Infinity));let _0x51d13d=_0x57cd2c(0x115);_0x3191b2[_0x57cd2c(0xa38)]===0x0?_0x51d13d+=_0x57cd2c(0x3ed):_0x3191b2['forEach']((_0x2e7bee,_0x40882a)=>{const _0x500074=_0x57cd2c;let _0x5537a3='-',_0x324504='';if(_0x2e7bee['gain']!==null){const _0x3b0704=_0x2e7bee[_0x500074(0x6ad)]>0x0?'text-green-600':_0x2e7bee['gain']<0x0?'text-red-600':_0x500074(0xc36),_0x261e27=_0x2e7bee[_0x500074(0x6ad)]>0x0?'+':'';_0x5537a3='<span\x20class=\x22font-bold\x20'+_0x3b0704+'\x22>'+_0x261e27+_0x2e7bee['gain']+'</span>';if(_0x2e7bee[_0x500074(0x6ad)]>0x0)_0x324504='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x2e7bee[_0x500074(0x6ad)]<0x0?_0x324504=_0x500074(0x240):_0x324504=_0x500074(0x320);}let _0x16a3c6='-';if(_0x2e7bee[_0x500074(0x438)]!==null){const _0x13c448=_0x2e7bee['tGain']>0x0?'text-green-600':_0x2e7bee['tGain']<0x0?_0x500074(0x7c0):_0x500074(0xc36),_0x32fa6e=_0x2e7bee['tGain']>0x0?'+':'';_0x16a3c6=_0x500074(0xa33)+_0x13c448+'\x22>'+_0x32fa6e+_0x2e7bee[_0x500074(0x438)]['toFixed'](0x2)+_0x500074(0xa04);}_0x51d13d+=_0x500074(0xb12)+(_0x40882a+0x1)+_0x500074(0x684)+_0x2e7bee[_0x500074(0x2c6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x2e7bee['preScore']??'-')+_0x500074(0x6ec)+(_0x2e7bee[_0x500074(0x4d2)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x5537a3+_0x500074(0x760)+_0x324504+_0x500074(0x8a9)+(_0x2e7bee['preTScore']?.['toFixed'](0x2)??'-')+_0x500074(0x276)+(_0x2e7bee[_0x500074(0x768)]?.[_0x500074(0x5bc)](0x2)??'-')+_0x500074(0xbf2)+_0x16a3c6+_0x500074(0x4ac);}),_0x51d13d+=_0x57cd2c(0x179),_0x56efb9[_0x57cd2c(0x8f6)]=_0x51d13d;}function handleRenameQuiz(_0x429ceb,_0x19d137){const _0xfbe976=_0x252b26;actionTargetId=_0x429ceb,document[_0xfbe976(0x8d1)]('rename-quiz-input')[_0xfbe976(0x64c)]=_0x19d137,renameQuizModal[_0xfbe976(0x1da)]['remove'](_0xfbe976(0x25d));}function setupComparisonModalTabs(){const _0x2e65ef=_0x252b26,_0x12f8cf=document[_0x2e65ef(0x8d1)](_0x2e65ef(0xa40)),_0x888a1b=document[_0x2e65ef(0x8d1)](_0x2e65ef(0x7b0)),_0x5f48f6=document[_0x2e65ef(0x8d1)](_0x2e65ef(0xbda)),_0x46a572=document[_0x2e65ef(0x8d1)](_0x2e65ef(0x2ef));_0x12f8cf[_0x2e65ef(0x2d5)](_0x2e65ef(0x4d9),()=>{const _0xebf9fe=_0x2e65ef;_0x12f8cf['classList'][_0xebf9fe(0x2df)]('active'),_0x888a1b[_0xebf9fe(0x1da)]['remove'](_0xebf9fe(0xa19)),_0x5f48f6[_0xebf9fe(0x1da)]['remove'](_0xebf9fe(0x25d)),_0x46a572[_0xebf9fe(0x1da)][_0xebf9fe(0x2df)](_0xebf9fe(0x25d));}),_0x888a1b['addEventListener'](_0x2e65ef(0x4d9),()=>{const _0x329969=_0x2e65ef;_0x888a1b[_0x329969(0x1da)]['add']('active'),_0x12f8cf[_0x329969(0x1da)][_0x329969(0x7ce)](_0x329969(0xa19)),_0x46a572[_0x329969(0x1da)][_0x329969(0x7ce)]('hidden'),_0x5f48f6[_0x329969(0x1da)][_0x329969(0x2df)](_0x329969(0x25d));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x4bfaec=_0x252b26;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x106e40=doc(db,'artifacts/'+appId+_0x4bfaec(0xc92),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x106e40,_0x34a9b3=>{const _0x51606e=_0x4bfaec;if(!_0x34a9b3[_0x51606e(0xbfd)]()){showMessage(_0x51606e(0xc50));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x51606e(0x53c)?showView(_0x51606e(0x3b3)):showView('student');return;}const _0x1bd2e1=_0x34a9b3[_0x51606e(0xa36)]();_0x1bd2e1['shuffledQuiz']&&(currentQuizData=_0x1bd2e1[_0x51606e(0x90c)]);!currentQuizData&&_0x1bd2e1[_0x51606e(0x335)]&&((async()=>{const _0x41c53e=_0x51606e;try{const _0x217be9=doc(db,_0x41c53e(0x1d1)+appId+_0x41c53e(0x1a5),_0x1bd2e1[_0x41c53e(0x335)]),_0x118d11=await getDoc(_0x217be9);_0x118d11['exists']()&&(currentQuizData={'id':_0x118d11['id'],..._0x118d11[_0x41c53e(0xa36)]()});}catch(_0x1e8de6){console[_0x41c53e(0x62f)](_0x41c53e(0x3ea),_0x1e8de6);}})());switch(_0x1bd2e1['status']){case _0x51606e(0x80e):if(currentMode==='admin'){const _0x2e9802=_0x1bd2e1['players']?Object['entries'](_0x1bd2e1[_0x51606e(0x713)]):[],_0x3c2b1e=_0x2e9802[_0x51606e(0x6de)](([_0x194d05,_0x5ad4ce])=>_0x5ad4ce[_0x51606e(0x6c1)]===_0x51606e(0xa19)),_0x4ea5cf=document[_0x51606e(0x8d1)](_0x51606e(0x1be));if(_0x4ea5cf)_0x4ea5cf[_0x51606e(0x5eb)]=_0x3c2b1e[_0x51606e(0xa38)];const _0x46a42b=document[_0x51606e(0x8d1)](_0x51606e(0x92d));_0x46a42b&&(_0x46a42b[_0x51606e(0x8f6)]=_0x3c2b1e[_0x51606e(0x625)](([_0x16de2e,_0x4144c7])=>_0x51606e(0x69a)+_0x16de2e+_0x51606e(0x47f)+_0x16de2e+_0x51606e(0x489))[_0x51606e(0x424)](''));const _0x8f18b5=document[_0x51606e(0x8d1)](_0x51606e(0x6b6));_0x8f18b5&&(_0x8f18b5[_0x51606e(0x7dc)]=_0x3c2b1e['length']===0x0);}else showView(_0x51606e(0x443)),liveGameView['innerHTML']=_0x51606e(0x573)+currentStudentName+_0x51606e(0x6d5);break;case _0x51606e(0x638):const _0x2ba628=_0x1bd2e1[_0x51606e(0x41d)];if(currentQuizData&&currentQuizData[_0x51606e(0x692)][_0x2ba628]){const _0x1197a8=currentQuizData['questions'][_0x2ba628],_0x4fa616=_0x1bd2e1[_0x51606e(0x452)]||_0x51606e(0xa8f);switch(_0x4fa616){case'summary_chart':currentMode===_0x51606e(0x53c)?showAdminSummaryView(_0x1bd2e1,_0x1197a8):showPlayerSummaryView(_0x1bd2e1,currentStudentName);break;case _0x51606e(0x754):currentMode===_0x51606e(0x53c)&&showTop5LeaderboardView(_0x1bd2e1);break;case _0x51606e(0xa8f):default:if(currentMode==='admin'){const _0x9bcf07=writeBatch(db);let _0x158c02=![];Object['entries'](_0x1bd2e1[_0x51606e(0x713)])[_0x51606e(0x236)](([_0x1224bf,_0x4430a9])=>{const _0x12b9e3=_0x51606e;if(_0x4430a9[_0x12b9e3(0x6c1)]===_0x12b9e3(0xa19)&&_0x4430a9[_0x12b9e3(0x69e)]&&!_0x4430a9[_0x12b9e3(0x7e5)]){_0x158c02=!![];const _0x38f883=_0x4430a9[_0x12b9e3(0x69e)][_0x12b9e3(0x5b8)]()-_0x1bd2e1[_0x12b9e3(0x34b)]['toDate']();let _0x481cba=0x0;if(_0x4430a9[_0x12b9e3(0x1e3)]){const _0x37fa46=0x3e8,_0xd4212=0x1f4,_0x10d09a=0x4e20;let _0x26aaf0=_0x38f883/_0x10d09a;if(_0x26aaf0>0x1)_0x26aaf0=0x1;const _0x5cf62e=Math[_0x12b9e3(0xc2b)](_0x26aaf0*_0xd4212);_0x481cba=_0x37fa46-_0x5cf62e;}const _0x475731=doc(db,_0x12b9e3(0x1d1)+appId+_0x12b9e3(0xc92),currentLiveGameId);_0x9bcf07[_0x12b9e3(0x490)](_0x475731,{['players.'+_0x1224bf+_0x12b9e3(0x3a7)]:increment(_0x481cba),['players.'+_0x1224bf+_0x12b9e3(0x528)]:_0x481cba,[_0x12b9e3(0xac9)+_0x1224bf+'.isScored']:!![]});}});_0x158c02&&_0x9bcf07[_0x51606e(0xbb6)]()[_0x51606e(0x988)](_0x3e87c0=>console[_0x51606e(0x62f)](_0x51606e(0x7b1),_0x3e87c0));lastRenderedAdminQuestionIndex!==_0x2ba628&&(showAdminLiveQuestionView(_0x1197a8,_0x2ba628,currentQuizData['questions']['length']),lastRenderedAdminQuestionIndex=_0x2ba628);const _0x2f7d94=_0x1bd2e1[_0x51606e(0x713)]||{},_0x38121c=Object[_0x51606e(0x591)](_0x2f7d94)[_0x51606e(0x6de)](_0x46b96b=>_0x46b96b[_0x51606e(0x6c1)]==='active'),_0x374155=_0x38121c[_0x51606e(0xa38)],_0x13ae39=_0x38121c[_0x51606e(0x6de)](_0x2b5f23=>_0x2b5f23[_0x51606e(0x325)]===!![])[_0x51606e(0xa38)],_0x1af3bc=document[_0x51606e(0x8d1)](_0x51606e(0x44a));if(_0x1af3bc)_0x1af3bc[_0x51606e(0x5eb)]=_0x13ae39+'/'+_0x374155;const _0x296edf=document['getElementById'](_0x51606e(0x7db));if(_0x296edf){let _0x49675c=Object[_0x51606e(0x4e5)](_0x2f7d94)[_0x51606e(0x6de)](([_0x18211c,_0x2252d1])=>_0x2252d1[_0x51606e(0x6c1)]===_0x51606e(0xa19))['map'](([_0x493a5a,_0x1a061b])=>{const _0x5894d0=_0x51606e,_0x344c25=_0x1a061b['answeredCurrentQuestion']===!![],_0x564d85=_0x344c25?'bg-green-500':_0x5894d0(0x651),_0x54ad98=_0x344c25?_0x5894d0(0xbd7):_0x5894d0(0x30e);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x564d85+_0x5894d0(0x2ce)+_0x54ad98+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x493a5a+_0x5894d0(0x49d)+_0x493a5a+_0x5894d0(0x1bf);})[_0x51606e(0x424)]('');_0x296edf[_0x51606e(0x8f6)]=_0x49675c||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x374155>0x0&&_0x13ae39===_0x374155&&revealAnswerForAdmin(_0x2ba628,currentQuizData[_0x51606e(0x692)][_0x51606e(0xa38)]);}else{const _0x1d1a16=_0x1bd2e1[_0x51606e(0x713)][currentStudentName];_0x1d1a16&&!_0x1d1a16[_0x51606e(0x325)]&&showStudentLiveQuestionView(_0x1197a8,_0x2ba628,currentQuizData[_0x51606e(0x692)][_0x51606e(0xa38)]);}break;}}break;case'podium':showPodiumView(_0x1bd2e1[_0x51606e(0x713)],_0x51606e(0xc7e));break;}});}async function openGlobalActivityModal(){const _0x1c8ae2=_0x252b26;if(allQuizzesGlobal[_0x1c8ae2(0xa38)]===0x0){const _0x2c2e88=await getDocs(collection(db,'artifacts/'+appId+_0x1c8ae2(0x1a5)));allQuizzesGlobal=_0x2c2e88['docs'][_0x1c8ae2(0x625)](_0x100c1e=>({'id':_0x100c1e['id'],..._0x100c1e[_0x1c8ae2(0xa36)]()}));}renderGlobalActivityList(''),document['getElementById'](_0x1c8ae2(0x31f))[_0x1c8ae2(0x1da)]['remove'](_0x1c8ae2(0x25d));}function renderGlobalActivityList(_0x1bac82=''){const _0x341468=_0x252b26,_0x2262a4=document['getElementById'](_0x341468(0x4c0)),_0x1cf017=_0x1bac82[_0x341468(0x478)]()[_0x341468(0x3cf)](),_0x14fa61=allQuizzesGlobal[_0x341468(0x625)](_0xcddbe5=>({..._0xcddbe5,'projectName':allProjects['find'](_0x3b4b14=>_0x3b4b14['id']===_0xcddbe5[_0x341468(0x86f)])?.[_0x341468(0xa1f)]||_0x341468(0x207)}))[_0x341468(0x6de)](_0xf040ee=>(_0xf040ee['topic']||'')[_0x341468(0x478)]()[_0x341468(0x7d5)](_0x1cf017)||(_0xf040ee[_0x341468(0xa1f)]||'')[_0x341468(0x478)]()['includes'](_0x1cf017));document['getElementById'](_0x341468(0x50f))[_0x341468(0x5eb)]='('+_0x14fa61[_0x341468(0xa38)]+_0x341468(0x4ec),_0x2262a4['innerHTML']=_0x14fa61[_0x341468(0xa38)]?_0x14fa61[_0x341468(0x625)](_0x448775=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x448775[_0x341468(0x5d7)]||_0x341468(0x83a))+_0x341468(0xb77)+(_0x448775['questions']?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x448775[_0x341468(0xa1f)]+_0x341468(0x7c1)+_0x448775['id']+_0x341468(0xc2c)+_0x448775['id']+_0x341468(0x8f8)+_0x448775['id']+_0x341468(0xbcd)+_0x448775['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x341468(0x424)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x425db7){const _0x15f4a1=_0x252b26;if(!currentLiveGameId||!_0x425db7)return;const _0x2b8ecf=doc(db,_0x15f4a1(0x1d1)+appId+_0x15f4a1(0xc92),currentLiveGameId),_0x69d139={};_0x69d139[_0x15f4a1(0xac9)+_0x425db7+_0x15f4a1(0x466)]=_0x15f4a1(0xc72);try{await updateDoc(_0x2b8ecf,_0x69d139);}catch(_0x426132){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x425db7+':',_0x426132),showMessage(_0x15f4a1(0xc2a));}}async function authenticateUser(){const _0x4145fd=_0x252b26;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1293f8){console[_0x4145fd(0x62f)](_0x4145fd(0xc0f),_0x1293f8),showMessage(_0x4145fd(0x659));}}function showView(_0x5f3663){const _0x3610b9=_0x252b26;adminView['classList'][_0x3610b9(0x2df)](_0x3610b9(0x25d)),studentView[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d)),projectDashboardView[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d)),projectDetailView[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d)),quizResultsView[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d)),liveGameView['classList'][_0x3610b9(0x2df)](_0x3610b9(0x25d)),document[_0x3610b9(0x8d1)](_0x3610b9(0x7b5))[_0x3610b9(0x1da)]['add'](_0x3610b9(0x25d)),studentInitialView[_0x3610b9(0x1da)]['add'](_0x3610b9(0x25d)),studentJoinGameView[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d)),studentNameSelectionView[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d)),studentQuizArea[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d)),studentResultArea[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d)),studentReadingArea[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d));const _0x1e676d=document['getElementById'](_0x3610b9(0x260)),_0x32355e=document[_0x3610b9(0x8d1)]('student-progress-view');if(_0x1e676d)_0x1e676d[_0x3610b9(0x1da)]['add'](_0x3610b9(0x25d));if(_0x32355e)_0x32355e[_0x3610b9(0x1da)][_0x3610b9(0x2df)](_0x3610b9(0x25d));switch(_0x5f3663){case'admin-dashboard':adminView[_0x3610b9(0x1da)]['remove'](_0x3610b9(0x25d)),projectDashboardView[_0x3610b9(0x1da)][_0x3610b9(0x7ce)](_0x3610b9(0x25d));break;case'project-detail':adminView[_0x3610b9(0x1da)]['remove'](_0x3610b9(0x25d)),projectDetailView[_0x3610b9(0x1da)]['remove'](_0x3610b9(0x25d));break;case'quiz-results':adminView[_0x3610b9(0x1da)][_0x3610b9(0x7ce)]('hidden'),quizResultsView['classList'][_0x3610b9(0x7ce)](_0x3610b9(0x25d));break;case _0x3610b9(0x7b8):studentView[_0x3610b9(0x1da)][_0x3610b9(0x7ce)]('hidden'),studentInitialView[_0x3610b9(0x1da)]['remove'](_0x3610b9(0x25d));break;case _0x3610b9(0x443):liveGameView[_0x3610b9(0x1da)][_0x3610b9(0x7ce)]('hidden');break;case _0x3610b9(0xaaa):studentView[_0x3610b9(0x1da)][_0x3610b9(0x7ce)](_0x3610b9(0x25d));if(_0x1e676d)_0x1e676d[_0x3610b9(0x1da)][_0x3610b9(0x7ce)](_0x3610b9(0x25d));break;case _0x3610b9(0x30a):studentView['classList']['remove'](_0x3610b9(0x25d));if(_0x32355e)_0x32355e[_0x3610b9(0x1da)][_0x3610b9(0x7ce)](_0x3610b9(0x25d));break;default:studentView[_0x3610b9(0x1da)]['remove'](_0x3610b9(0x25d)),studentInitialView[_0x3610b9(0x1da)]['remove'](_0x3610b9(0x25d));break;}}function showJoinGameView(){const _0x2c00f8=_0x252b26;studentInitialView['classList'][_0x2c00f8(0x2df)](_0x2c00f8(0x25d)),studentJoinGameView[_0x2c00f8(0x1da)][_0x2c00f8(0x7ce)]('hidden');}async function handleSaveVisibilitySettings(){const _0x4c88d4=_0x252b26;if(!currentProjectId)return;const _0x52cdfd=doc(db,_0x4c88d4(0x1d1)+appId+_0x4c88d4(0x301),currentProjectId);try{await updateDoc(_0x52cdfd,{'settings.showInStudentDashboard':document[_0x4c88d4(0x8d1)](_0x4c88d4(0x329))[_0x4c88d4(0x22d)],'settings.isPasscodeEnabled':document[_0x4c88d4(0x8d1)](_0x4c88d4(0x8d0))[_0x4c88d4(0x22d)],'settings.passcode':document[_0x4c88d4(0x8d1)]('project-passcode-input')[_0x4c88d4(0x64c)][_0x4c88d4(0x3cf)]()}),showMessage(_0x4c88d4(0xa41));}catch(_0x29bf07){console[_0x4c88d4(0x62f)](_0x4c88d4(0xc5d),_0x29bf07),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x292a8c=_0x252b26;document[_0x292a8c(0x8d1)](_0x292a8c(0x7b2))[_0x292a8c(0x2d5)]('click',async()=>{const _0x3487e0=_0x292a8c;if(!currentBlueprintProjectId)return;const _0x461a77=document[_0x3487e0(0x8d1)]('bp-reference-file-url')[_0x3487e0(0x64c)][_0x3487e0(0x3cf)](),_0x4d67c5=doc(db,'artifacts/'+appId+_0x3487e0(0xa4a),currentBlueprintProjectId);try{await updateDoc(_0x4d67c5,{'referenceFileUrl':_0x461a77}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x158741){console[_0x3487e0(0x62f)](_0x3487e0(0xc97),_0x158741),showMessage(_0x3487e0(0x45c));}}),document[_0x292a8c(0x8d1)](_0x292a8c(0x568))['addEventListener'](_0x292a8c(0x4d9),handleAddParallelShortcutTab),document['getElementById'](_0x292a8c(0x19b))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x457823=>{const _0x18836e=_0x292a8c;_0x457823[_0x18836e(0x54a)]['closest'](_0x18836e(0x4f1))&&(activeParallelShortcutTabId=_0x18836e(0xadc),renderAdditionalParallelShortcutsModal(),document[_0x18836e(0x8d1)](_0x18836e(0xb1c))[_0x18836e(0x1da)][_0x18836e(0x7ce)](_0x18836e(0x25d)));}),document['getElementById'](_0x292a8c(0xb88))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x3b954d=_0x292a8c;document[_0x3b954d(0x8d1)](_0x3b954d(0xb1c))['classList'][_0x3b954d(0x2df)](_0x3b954d(0x25d));}),document[_0x292a8c(0x2d5)]('click',_0x6fa11=>{const _0x2af888=_0x292a8c;!_0x6fa11[_0x2af888(0x54a)][_0x2af888(0x161)]('.group\x5c/dropdown-parallel')&&document[_0x2af888(0xa48)](_0x2af888(0x5d6))[_0x2af888(0x236)](_0xbe3e0e=>_0xbe3e0e['classList'][_0x2af888(0x2df)](_0x2af888(0x25d)));}),document['getElementById'](_0x292a8c(0xa8e))['addEventListener'](_0x292a8c(0x4d9),handleAddFileShortcutTab),document[_0x292a8c(0x8d1)](_0x292a8c(0x171))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x3381ce=>{const _0x1a9fcd=_0x292a8c;_0x3381ce[_0x1a9fcd(0x54a)][_0x1a9fcd(0x161)](_0x1a9fcd(0x300))&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x1a9fcd(0x8d1)](_0x1a9fcd(0x273))['classList']['remove'](_0x1a9fcd(0x25d)));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x751))[_0x292a8c(0x2d5)]('click',()=>{const _0x4725=_0x292a8c;document[_0x4725(0x8d1)](_0x4725(0x273))[_0x4725(0x1da)][_0x4725(0x2df)](_0x4725(0x25d));}),document['addEventListener'](_0x292a8c(0x4d9),_0x53fae7=>{const _0x1f3bc4=_0x292a8c;!_0x53fae7[_0x1f3bc4(0x54a)]['closest'](_0x1f3bc4(0x3f9))&&document[_0x1f3bc4(0xa48)](_0x1f3bc4(0xa85))[_0x1f3bc4(0x236)](_0x2bcdff=>_0x2bcdff[_0x1f3bc4(0x1da)]['add'](_0x1f3bc4(0x25d)));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x896))[_0x292a8c(0x2d5)]('click',handleAddShortcutTab),document['getElementById'](_0x292a8c(0x21f))['addEventListener']('click',_0x3afb3c=>{const _0x511494=_0x292a8c,_0x5c562b=_0x3afb3c[_0x511494(0x54a)][_0x511494(0x161)](_0x511494(0x766)),_0xa0d783=_0x3afb3c[_0x511494(0x54a)]['closest'](_0x511494(0x2fb)),_0x302a2e=_0x3afb3c['target'][_0x511494(0x161)](_0x511494(0x542));if(_0xa0d783)openParallelTestShortcutEditor(_0xa0d783[_0x511494(0x9e8)]['id']);else{if(_0x302a2e){const _0xd99fea=_0x302a2e[_0x511494(0x9e8)]['id'];showConfirmation(_0x511494(0x8ed),async()=>{const _0x2304f5=_0x511494,_0x59c9fd=parallelTestShortcuts[_0x2304f5(0x6de)](_0x999e39=>_0x999e39['id']!==_0xd99fea),_0x3d7d56=doc(db,_0x2304f5(0x378),_0x2304f5(0x370));await setDoc(_0x3d7d56,{'shortcuts':_0x59c9fd},{'merge':!![]});});}else _0x5c562b&&handleParallelTestShortcutClick(_0x5c562b[_0x511494(0x9e8)]['id']);}}),document['getElementById'](_0x292a8c(0x849))[_0x292a8c(0x2d5)]('click',()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x292a8c(0x3b4))['addEventListener'](_0x292a8c(0x4d9),()=>{const _0x253d02=_0x292a8c;document[_0x253d02(0x8d1)](_0x253d02(0x428))[_0x253d02(0x1da)][_0x253d02(0x2df)](_0x253d02(0x25d));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x14b))[_0x292a8c(0x2d5)]('click',saveParallelTestShortcutChanges),document[_0x292a8c(0x8d1)](_0x292a8c(0x19b))['addEventListener'](_0x292a8c(0x4d9),_0x4acd69=>{const _0x575dc3=_0x292a8c;_0x4acd69[_0x575dc3(0x54a)]['closest'](_0x575dc3(0x4f1))&&document[_0x575dc3(0x8d1)](_0x575dc3(0xb1c))[_0x575dc3(0x1da)][_0x575dc3(0x7ce)](_0x575dc3(0x25d));}),document[_0x292a8c(0x8d1)]('close-additional-parallel-shortcuts-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x408514=_0x292a8c;document['getElementById']('additional-parallel-shortcuts-modal')[_0x408514(0x1da)][_0x408514(0x2df)](_0x408514(0x25d));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x180))['addEventListener'](_0x292a8c(0x4d9),_0x2ba0cb=>{const _0x250480=_0x292a8c,_0x1e35aa=document[_0x250480(0x8d1)](_0x250480(0xb1c)),_0x28e361=_0x2ba0cb[_0x250480(0x54a)][_0x250480(0x161)]('.use-hidden-parallel-shortcut-btn'),_0x4182fa=_0x2ba0cb[_0x250480(0x54a)][_0x250480(0x161)]('.edit-hidden-parallel-shortcut-btn'),_0x25e04e=_0x2ba0cb[_0x250480(0x54a)][_0x250480(0x161)](_0x250480(0x42c));if(_0x28e361)_0x1e35aa[_0x250480(0x1da)][_0x250480(0x2df)](_0x250480(0x25d)),handleParallelTestShortcutClick(_0x28e361[_0x250480(0x9e8)]['id']);else{if(_0x4182fa)_0x1e35aa[_0x250480(0x1da)][_0x250480(0x2df)]('hidden'),openParallelTestShortcutEditor(_0x4182fa[_0x250480(0x9e8)]['id']);else{if(_0x25e04e){const _0x239dcb=_0x25e04e['dataset']['id'];showConfirmation(_0x250480(0x8ed),async()=>{const _0x22f97c=_0x250480,_0x436c24=parallelTestShortcuts['filter'](_0x1a26fb=>_0x1a26fb['id']!==_0x239dcb),_0x4421f5=doc(db,_0x22f97c(0x378),_0x22f97c(0x370));await setDoc(_0x4421f5,{'shortcuts':_0x436c24},{'merge':!![]});});}}}}),document[_0x292a8c(0x8d1)](_0x292a8c(0x3ee))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x5f0b17=>{const _0x1d5990=_0x292a8c,_0x425af2=_0x5f0b17['target']['closest'](_0x1d5990(0xa92)),_0x3e1a37=_0x5f0b17['target'][_0x1d5990(0x161)]('.edit-file-shortcut-btn'),_0x2dfb36=_0x5f0b17[_0x1d5990(0x54a)][_0x1d5990(0x161)](_0x1d5990(0x783));if(_0x3e1a37)openFileShortcutEditor(_0x3e1a37[_0x1d5990(0x9e8)]['id']);else{if(_0x2dfb36){const _0x9bdfad=_0x2dfb36[_0x1d5990(0x9e8)]['id'];showConfirmation(_0x1d5990(0x8ed),async()=>{const _0x1d1c1c=_0x1d5990,_0x1a1440=fileShortcuts['filter'](_0xf4bd00=>_0xf4bd00['id']!==_0x9bdfad),_0x30c69c=doc(db,_0x1d1c1c(0x378),_0x1d1c1c(0x861));await setDoc(_0x30c69c,{'shortcuts':_0x1a1440},{'merge':!![]});});}else _0x425af2&&handleFileShortcutClick(_0x425af2[_0x1d5990(0x9e8)]['id']);}}),document['getElementById'](_0x292a8c(0xa2b))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>openFileShortcutEditor(null)),document['getElementById'](_0x292a8c(0x133))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x9c3d01=_0x292a8c;document[_0x9c3d01(0x8d1)](_0x9c3d01(0x3e4))[_0x9c3d01(0x1da)]['add'](_0x9c3d01(0x25d));}),document[_0x292a8c(0x8d1)](_0x292a8c(0xb2b))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),saveFileShortcutChanges),document[_0x292a8c(0x8d1)](_0x292a8c(0x171))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x4db28d=>{const _0x8a69ee=_0x292a8c;_0x4db28d[_0x8a69ee(0x54a)][_0x8a69ee(0x161)]('#open-additional-file-shortcuts-btn')&&document['getElementById']('additional-file-shortcuts-modal')[_0x8a69ee(0x1da)][_0x8a69ee(0x7ce)]('hidden');}),document[_0x292a8c(0x8d1)](_0x292a8c(0x751))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x4318e4=_0x292a8c;document[_0x4318e4(0x8d1)](_0x4318e4(0x273))[_0x4318e4(0x1da)][_0x4318e4(0x2df)]('hidden');}),document[_0x292a8c(0x8d1)](_0x292a8c(0x7cb))[_0x292a8c(0x2d5)]('click',_0x2ae014=>{const _0x252cd1=_0x292a8c,_0x45d2b7=document['getElementById'](_0x252cd1(0x273)),_0xdb4178=_0x2ae014[_0x252cd1(0x54a)][_0x252cd1(0x161)](_0x252cd1(0x652)),_0x5ac6bd=_0x2ae014['target'][_0x252cd1(0x161)](_0x252cd1(0xa32)),_0x5a4bc3=_0x2ae014[_0x252cd1(0x54a)][_0x252cd1(0x161)](_0x252cd1(0x2b6));if(_0xdb4178)_0x45d2b7[_0x252cd1(0x1da)]['add'](_0x252cd1(0x25d)),handleFileShortcutClick(_0xdb4178['dataset']['id']);else{if(_0x5ac6bd)_0x45d2b7[_0x252cd1(0x1da)]['add'](_0x252cd1(0x25d)),openFileShortcutEditor(_0x5ac6bd[_0x252cd1(0x9e8)]['id']);else{if(_0x5a4bc3){const _0x50285e=_0x5a4bc3[_0x252cd1(0x9e8)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4d31ab=_0x252cd1,_0x366dd1=fileShortcuts[_0x4d31ab(0x6de)](_0x53268b=>_0x53268b['id']!==_0x50285e),_0x578ff1=doc(db,_0x4d31ab(0x378),'fileShortcutsConfig');await setDoc(_0x578ff1,{'shortcuts':_0x366dd1},{'merge':!![]});});}}}}),document[_0x292a8c(0x8d1)]('blueprint-input-area')['addEventListener']('click',_0x3e2ddc=>{const _0x4811b7=_0x292a8c;_0x3e2ddc[_0x4811b7(0x54a)][_0x4811b7(0x161)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x4811b7(0xadc),renderAdditionalShortcutsModal(),document[_0x4811b7(0x8d1)]('additional-shortcuts-modal')['classList'][_0x4811b7(0x7ce)](_0x4811b7(0x25d)));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x480))[_0x292a8c(0x2d5)]('click',()=>{const _0x2fadb5=_0x292a8c;document['getElementById'](_0x2fadb5(0x255))[_0x2fadb5(0x1da)][_0x2fadb5(0x2df)](_0x2fadb5(0x25d));}),document['getElementById'](_0x292a8c(0x526))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x5afbec=>{const _0x3e1296=_0x292a8c,_0x238dc0=_0x5afbec['target'][_0x3e1296(0x161)](_0x3e1296(0x6f8)),_0x2e489f=_0x5afbec[_0x3e1296(0x54a)]['closest'](_0x3e1296(0x673)),_0x548f93=_0x5afbec[_0x3e1296(0x54a)][_0x3e1296(0x161)](_0x3e1296(0xb17)),_0x216ee2=document[_0x3e1296(0x8d1)]('additional-shortcuts-modal');if(_0x238dc0)_0x216ee2[_0x3e1296(0x1da)]['add'](_0x3e1296(0x25d)),handleShortcutClick(_0x238dc0[_0x3e1296(0x9e8)]['id']);else{if(_0x2e489f)_0x216ee2[_0x3e1296(0x1da)][_0x3e1296(0x2df)](_0x3e1296(0x25d)),openShortcutEditor(_0x2e489f[_0x3e1296(0x9e8)]['id']);else{if(_0x548f93){const _0x1b501a=_0x548f93[_0x3e1296(0x9e8)]['id'],_0x4af410=blueprintShortcuts[_0x3e1296(0x269)](_0x496f2b=>_0x496f2b['id']===_0x1b501a)?.[_0x3e1296(0x2c6)];showConfirmation(_0x3e1296(0x116)+_0x4af410+'\x22?',async()=>{const _0x1db5ae=_0x3e1296,_0x269eca=blueprintShortcuts[_0x1db5ae(0x6de)](_0x49c720=>_0x49c720['id']!==_0x1b501a);try{const _0x4f95c5=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x4f95c5,{'blueprintShortcuts':_0x269eca},{'merge':!![]});}catch(_0x35561b){console[_0x1db5ae(0x62f)]('Error\x20deleting\x20shortcut:',_0x35561b);}});}}}}),document['getElementById'](_0x292a8c(0x447))['addEventListener'](_0x292a8c(0x4d9),_0x5ee36d=>{const _0x4f1f9e=_0x292a8c,_0x3074c3=_0x5ee36d[_0x4f1f9e(0x54a)][_0x4f1f9e(0x161)]('.shortcut-btn'),_0x16bfab=_0x5ee36d[_0x4f1f9e(0x54a)][_0x4f1f9e(0x161)](_0x4f1f9e(0x906)),_0x2d51e1=_0x5ee36d[_0x4f1f9e(0x54a)][_0x4f1f9e(0x161)]('.delete-shortcut-btn');if(_0x16bfab)openShortcutEditor(_0x16bfab[_0x4f1f9e(0x9e8)]['id']);else{if(_0x2d51e1){const _0x386a7f=_0x2d51e1[_0x4f1f9e(0x9e8)]['id'],_0x26afda=blueprintShortcuts['find'](_0x4cf75c=>_0x4cf75c['id']===_0x386a7f)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x26afda+'\x22?',async()=>{const _0x50cc63=_0x4f1f9e,_0x272215=blueprintShortcuts[_0x50cc63(0x6de)](_0x3c220b=>_0x3c220b['id']!==_0x386a7f);try{const _0x5483b7=doc(db,_0x50cc63(0x378),'dashboardConfig');await setDoc(_0x5483b7,{'blueprintShortcuts':_0x272215},{'merge':!![]});}catch(_0x6d4975){console[_0x50cc63(0x62f)](_0x50cc63(0xb3f),_0x6d4975);}});}else _0x3074c3&&handleShortcutClick(_0x3074c3[_0x4f1f9e(0x9e8)]['id']);}}),document[_0x292a8c(0x8d1)](_0x292a8c(0x22f))['addEventListener']('click',()=>openShortcutEditor(null)),document[_0x292a8c(0x8d1)](_0x292a8c(0x1cd))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0xa27907=_0x292a8c;document[_0xa27907(0x8d1)]('shortcut-editor-modal')[_0xa27907(0x1da)][_0xa27907(0x2df)](_0xa27907(0x25d));}),document[_0x292a8c(0x8d1)]('save-shortcut-btn')[_0x292a8c(0x2d5)]('click',saveShortcutChanges),document['getElementById'](_0x292a8c(0xb69))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),async()=>{const _0x3eac1e=_0x292a8c,_0x2eefeb=document[_0x3eac1e(0x8d1)](_0x3eac1e(0x507)),_0x4823b9=document[_0x3eac1e(0x8d1)](_0x3eac1e(0x825));_0x2eefeb[_0x3eac1e(0x498)][_0x3eac1e(0xa38)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2eefeb[_0x3eac1e(0x498)][0x0],_0x4823b9[_0x3eac1e(0x498)][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document['getElementById']('topic-quiz-bank-modal')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),async _0xa9f792=>{const _0x149b05=_0x292a8c,_0x531640=document[_0x149b05(0x8d1)]('topic-quiz-bank-modal'),_0x385a5f=_0xa9f792[_0x149b05(0x54a)]['closest'](_0x149b05(0xa63)),_0x57eead=_0xa9f792['target'][_0x149b05(0x161)](_0x149b05(0x482)),_0x5cbf08=_0xa9f792['target']['closest']('.bp-present-btn'),_0x587dba=_0xa9f792['target'][_0x149b05(0x161)](_0x149b05(0x3f1)),_0x368c4a=_0xa9f792[_0x149b05(0x54a)][_0x149b05(0x161)](_0x149b05(0xb58)),_0x11a793=_0xa9f792[_0x149b05(0x54a)][_0x149b05(0x161)](_0x149b05(0x197));if(_0x385a5f){cameFromBlueprint=!![];const _0xe4ecf5=_0x385a5f['dataset'][_0x149b05(0x335)];showQuizDetailView(_0xe4ecf5),_0x531640['classList'][_0x149b05(0x2df)](_0x149b05(0x25d));}else{if(_0x57eead){const _0x3a785e=_0x57eead[_0x149b05(0x9e8)][_0x149b05(0x5f7)],_0x4cff5f=_0x57eead['dataset'][_0x149b05(0x335)],_0xf36dfa=allQuizzesGlobal[_0x149b05(0x269)](_0x3d05e0=>_0x3d05e0['id']===_0x4cff5f),_0x2de989=_0xf36dfa?_0xf36dfa[_0x149b05(0x5d7)]:_0x149b05(0x2f1);showConfirmation(_0x149b05(0x6a0)+_0x2de989+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x3c7874=_0x149b05;try{const _0x56f1ae=doc(db,_0x3c7874(0x1d1)+appId+_0x3c7874(0xa4a),currentBlueprintProjectId);await updateDoc(_0x56f1ae,{['topics.'+_0x3a785e+_0x3c7874(0x401)]:arrayRemove(_0x4cff5f)}),showMessage(_0x3c7874(0x6b2)),openTopicQuizBank(_0x3a785e),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x8bcbcc){console[_0x3c7874(0x62f)](_0x3c7874(0xb3c),_0x8bcbcc),showMessage(_0x3c7874(0x341));}});}else{if(_0x5cbf08){cameFromBlueprint=!![];const _0x42c7b9=_0x5cbf08[_0x149b05(0x9e8)][_0x149b05(0x335)],_0x8c2bcb=allQuizzesGlobal[_0x149b05(0x269)](_0x346f3d=>_0x346f3d['id']===_0x42c7b9);_0x8c2bcb&&(startPresentation(_0x8c2bcb),_0x531640[_0x149b05(0x1da)][_0x149b05(0x2df)](_0x149b05(0x25d)));}else{if(_0x587dba){cameFromBlueprint=!![];const _0x12c101=_0x587dba[_0x149b05(0x9e8)][_0x149b05(0x335)],_0x348ff4=allQuizzesGlobal[_0x149b05(0x269)](_0x11f8c2=>_0x11f8c2['id']===_0x12c101);_0x348ff4&&(currentQuizData=_0x348ff4,startAdminTest(),_0x531640[_0x149b05(0x1da)][_0x149b05(0x2df)](_0x149b05(0x25d)));}else{if(_0x368c4a)cameFromBlueprint=!![],handleStartLiveRace(_0x368c4a[_0x149b05(0x9e8)][_0x149b05(0x335)]),_0x531640[_0x149b05(0x1da)][_0x149b05(0x2df)](_0x149b05(0x25d));else{if(_0x11a793){cameFromBlueprint=!![];const _0x14bfcb=_0x11a793['dataset']['quizId'],_0x3bbe1b=_0x11a793[_0x149b05(0x9e8)][_0x149b05(0x5d1)],_0x5dc901=allQuizzesGlobal[_0x149b05(0x269)](_0x247887=>_0x247887['id']===_0x14bfcb);_0x5dc901&&(showGameStartConfirmationModal(_0x14bfcb,_0x3bbe1b,_0x5dc901[_0x149b05(0x5d7)]),_0x531640[_0x149b05(0x1da)]['add'](_0x149b05(0x25d)));}}}}}}}),document['getElementById'](_0x292a8c(0x288))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0xba7650=_0x292a8c;document[_0xba7650(0x8d1)](_0xba7650(0x33b))[_0xba7650(0x1da)][_0xba7650(0x7ce)]('hidden'),document[_0xba7650(0x8d1)](_0xba7650(0xc47))[_0xba7650(0x64c)]='',document['getElementById']('manual-bp-grade-level')[_0xba7650(0x64c)]='',document[_0xba7650(0x8d1)](_0xba7650(0x597))['value']='';}),document['getElementById'](_0x292a8c(0x30c))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x5d9b3b=_0x292a8c;document[_0x5d9b3b(0x8d1)]('manual-blueprint-modal')['classList'][_0x5d9b3b(0x2df)](_0x5d9b3b(0x25d));}),document['getElementById']('confirm-manual-bp-btn')[_0x292a8c(0x2d5)]('click',handleManualBlueprintSave),document[_0x292a8c(0x8d1)]('cancel-bp-settings-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>document[_0x292a8c(0x8d1)](_0x292a8c(0xa90))[_0x292a8c(0x1da)][_0x292a8c(0x2df)]('hidden')),document[_0x292a8c(0x8d1)](_0x292a8c(0x710))['addEventListener'](_0x292a8c(0x4d9),handleSaveBlueprintPageSettings),document['getElementById']('bp-quiz-settings-btn')['addEventListener'](_0x292a8c(0x4d9),openBlueprintQuizSettings),document[_0x292a8c(0x8d1)](_0x292a8c(0x829))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),saveBlueprintProject),document[_0x292a8c(0x8d1)](_0x292a8c(0x696))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),showBlueprintProjects),document['getElementById']('cancel-blueprint-projects-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x833c49=_0x292a8c;document[_0x833c49(0x8d1)](_0x833c49(0x47c))[_0x833c49(0x1da)][_0x833c49(0x2df)](_0x833c49(0x25d));}),document['getElementById'](_0x292a8c(0x40d))[_0x292a8c(0x2d5)]('click',_0x7a0fbb=>{const _0x3f6988=_0x292a8c,_0x20fffe=_0x7a0fbb[_0x3f6988(0x54a)][_0x3f6988(0x161)](_0x3f6988(0x2d3)),_0x11d727=_0x7a0fbb['target'][_0x3f6988(0x161)]('.delete-bp-project-btn');if(_0x20fffe)displayBlueprintProjectManager(_0x20fffe['dataset']['id']);else{if(_0x11d727){if(confirm(_0x3f6988(0x112))){const _0x419830=doc(db,_0x3f6988(0x1d1)+appId+_0x3f6988(0xa4a),_0x11d727[_0x3f6988(0x9e8)]['id']);deleteDoc(_0x419830)[_0x3f6988(0x718)](()=>{const _0x113d6f=_0x3f6988;showMessage(_0x113d6f(0x62e)),showBlueprintProjects();});}}}}),document[_0x292a8c(0x8d1)](_0x292a8c(0x225))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x4076aa=_0x292a8c;currentBlueprintProjectId=null,currentProjectId=null,document[_0x4076aa(0x8d1)](_0x4076aa(0x7b5))[_0x4076aa(0x1da)][_0x4076aa(0x2df)](_0x4076aa(0x25d)),showView(_0x4076aa(0x9f6));}),document[_0x292a8c(0x8d1)]('bp-add-topic-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),addTopicToProject),document['getElementById']('bp-topic-list-container')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),async _0x1e8f76=>{const _0x200d66=_0x292a8c,_0x19fcb9=_0x1e8f76[_0x200d66(0x54a)][_0x200d66(0x161)](_0x200d66(0x49b));if(!_0x19fcb9)return;const _0x345e9e=_0x19fcb9['dataset'][_0x200d66(0x5f7)],_0x2dd5db=_0x1e8f76[_0x200d66(0x54a)][_0x200d66(0x161)](_0x200d66(0xba7)),_0x30ddc9=_0x1e8f76[_0x200d66(0x54a)][_0x200d66(0x161)](_0x200d66(0x90b)),_0x16d1d9=_0x1e8f76[_0x200d66(0x54a)][_0x200d66(0x161)](_0x200d66(0x6d4)),_0x5519cd=_0x1e8f76[_0x200d66(0x54a)]['closest'](_0x200d66(0xb98)),_0x9fdfc7=_0x1e8f76[_0x200d66(0x54a)][_0x200d66(0x161)](_0x200d66(0xc87)),_0x2a0dd6=_0x1e8f76[_0x200d66(0x54a)]['closest']('.bp-generate-lesson-btn'),_0x558097=_0x1e8f76['target']['closest'](_0x200d66(0xc48)),_0x3c9ddb=_0x1e8f76[_0x200d66(0x54a)][_0x200d66(0x161)](_0x200d66(0xb85)),_0x16cb84=_0x308c56=>{const _0x1b681c=_0x200d66,_0x2c3559=_0x308c56['querySelector'](_0x1b681c(0x5cc))[_0x1b681c(0x5eb)][_0x1b681c(0x3cf)](),_0x2ba150=_0x308c56['closest'](_0x1b681c(0x1f7))[_0x1b681c(0xbee)],_0x275e5f=_0x2ba150?_0x2ba150[_0x1b681c(0x5eb)]['trim']():'';return _0x275e5f+':\x20'+_0x2c3559;};if(_0x5519cd)openTopicQuizBank(_0x345e9e);else{if(_0x2dd5db){const _0x4d0b0a=_0x16cb84(_0x19fcb9);selectProjectAndGenerateBlueprintQuiz(_0x4d0b0a,null,_0x345e9e,!![]);}else{if(_0x30ddc9){const _0x4365b5=_0x16cb84(_0x19fcb9);try{const _0xd2e4c4=doc(db,'artifacts/'+appId+_0x200d66(0xc80)+currentBlueprintProjectId+_0x200d66(0x1a6),_0x345e9e),_0xe7abde=await getDoc(_0xd2e4c4);if(_0xe7abde['exists']()){const _0x1fd4bb=_0xe7abde['data']()['content'],_0x26609f=document['createElement']('div'),_0x30c41d=_0x2b1925=>{const _0x4dfdba=_0x200d66;if(!_0x2b1925)return'';return _0x26609f['innerHTML']=_0x2b1925,_0x26609f[_0x4dfdba(0x5eb)]||_0x26609f[_0x4dfdba(0xa73)]||'';},_0x32b43f=(_0x30c41d(_0x1fd4bb['point'])+'\x20'+_0x30c41d(_0x1fd4bb[_0x200d66(0x919)])+'\x20'+_0x30c41d(_0x1fd4bb[_0x200d66(0xa59)]))[_0x200d66(0x3cf)]();selectProjectAndGenerateBlueprintQuiz(_0x4365b5,_0x32b43f,_0x345e9e,![]);}else showMessage(_0x200d66(0x695));}catch(_0x3aec69){console[_0x200d66(0x62f)]('Error\x20preparing\x20content\x20quiz:',_0x3aec69),showMessage(_0x200d66(0x632));}}else{if(_0x16d1d9){const _0x5e19b2=_0x16cb84(_0x19fcb9);selectProjectAndGenerateBlueprintQuiz(_0x5e19b2,null,_0x345e9e,![]);}else{if(_0x9fdfc7){const _0x11c634=doc(db,_0x200d66(0x1d1)+appId+_0x200d66(0xa4a),currentBlueprintProjectId),_0x40afd2=await getDoc(_0x11c634);if(_0x40afd2[_0x200d66(0xbfd)]()){const _0x5bbbb5=_0x40afd2[_0x200d66(0xa36)](),_0x3ace56=_0x5bbbb5[_0x200d66(0x837)][_0x345e9e];if(_0x3ace56&&_0x3ace56[_0x200d66(0x6c1)]===_0x200d66(0x893))try{const _0x1b7e7b=doc(db,_0x200d66(0x1d1)+appId+_0x200d66(0xc80)+currentBlueprintProjectId+_0x200d66(0x1a6),_0x345e9e),_0x481551=await getDoc(_0x1b7e7b);if(_0x481551[_0x200d66(0xbfd)]()){const _0xc73547=_0x481551[_0x200d66(0xa36)]()[_0x200d66(0x5c8)];document[_0x200d66(0x8d1)](_0x200d66(0xb23))[_0x200d66(0x5eb)]=_0x200d66(0xb41)+_0x16cb84(_0x19fcb9),document[_0x200d66(0x8d1)]('pointContent')[_0x200d66(0x8f6)]=_0xc73547['point'],document[_0x200d66(0x8d1)](_0x200d66(0x33d))[_0x200d66(0x8f6)]=_0xc73547[_0x200d66(0x919)],document[_0x200d66(0x8d1)]('summaryContent')[_0x200d66(0x8f6)]=_0xc73547['summary'];const _0x2afba8=document[_0x200d66(0x8d1)](_0x200d66(0xa03));_0xc73547[_0x200d66(0x676)]?(currentApplicationData=_0xc73547[_0x200d66(0x676)],_0x2afba8[_0x200d66(0x8f6)]=currentApplicationData[_0x200d66(0x625)]((_0x3b4264,_0x312c82)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x312c82+0x1)+'.\x20'+marked[_0x200d66(0x186)](_0x3b4264[_0x200d66(0x638)])+_0x200d66(0x809)+_0x312c82+_0x200d66(0x1ab)+_0x3b4264['options'][_0x200d66(0x625)]((_0x5e171f,_0x429550)=>_0x200d66(0xb0b)+_0x312c82+',\x20'+_0x429550+')\x22>'+String[_0x200d66(0x7a3)](0x61+_0x429550)+'.\x20'+marked['parseInline'](_0x5e171f)+'</button>')[_0x200d66(0x424)]('')+_0x200d66(0x37b))[_0x200d66(0x424)]('')):(currentApplicationData=[],_0x2afba8[_0x200d66(0x8f6)]=_0xc73547[_0x200d66(0x959)]||_0xc73547[_0x200d66(0xac5)]),document[_0x200d66(0x8d1)](_0x200d66(0x928))[_0x200d66(0x1da)][_0x200d66(0x2df)](_0x200d66(0x25d)),document['getElementById'](_0x200d66(0xc7c))[_0x200d66(0x1da)]['remove']('hidden'),document['getElementById'](_0x200d66(0x1a2))['classList']['remove'](_0x200d66(0x25d)),window[_0x200d66(0x3fa)]&&MathJax['typesetPromise']([document['getElementById'](_0x200d66(0x4c3))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x86e6fc){console['error']('Error\x20fetching\x20lesson\x20content:',_0x86e6fc),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x200d66(0x926));}}else{if(_0x2a0dd6){const _0x8caff5=_0x16cb84(_0x19fcb9),_0x3c5558=doc(db,_0x200d66(0x1d1)+appId+_0x200d66(0xa4a),currentBlueprintProjectId),_0x31b769=await getDoc(_0x3c5558);if(_0x31b769[_0x200d66(0xbfd)]()){const _0xcf6f50=_0x31b769[_0x200d66(0xa36)]();generateAndSaveLessonForBlueprint(_0x345e9e,_0x8caff5,_0xcf6f50[_0x200d66(0x868)]);}}else{if(_0x558097)editTopicInProject(_0x345e9e);else _0x3c9ddb&&deleteTopicFromProject(_0x345e9e);}}}}}}}),document['getElementById']('fix-lesson-latex-btn')['addEventListener']('click',handleFixLessonLatex),document[_0x292a8c(0x8d1)]('export-lesson-to-pdf-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleExportLessonToPDF),document[_0x292a8c(0x8d1)](_0x292a8c(0x1d9))['addEventListener']('click',()=>{const _0x49a1e8=_0x292a8c;document[_0x49a1e8(0x8d1)](_0x49a1e8(0x1a2))[_0x49a1e8(0x1da)][_0x49a1e8(0x2df)](_0x49a1e8(0x25d));});const _0x4da58d=document[_0x292a8c(0x8d1)](_0x292a8c(0x5f6)),_0xe57121=document[_0x292a8c(0x8d1)](_0x292a8c(0x644));_0x4da58d['addEventListener']('change',()=>{const _0x450442=_0x292a8c;_0xe57121['classList'][_0x450442(0x3a0)]('hidden',!_0x4da58d[_0x450442(0x22d)]);});const _0x3eb42d=document[_0x292a8c(0x8d1)]('confidence-scoring-checkbox'),_0x4585fb=document[_0x292a8c(0x8d1)](_0x292a8c(0x862));_0x3eb42d[_0x292a8c(0x2d5)](_0x292a8c(0x596),()=>{const _0x458148=_0x292a8c;_0x4585fb['classList']['toggle']('hidden',!_0x3eb42d[_0x458148(0x22d)]);});const _0x5b0ecb=document[_0x292a8c(0x8d1)](_0x292a8c(0xb4e)),_0x293827=document[_0x292a8c(0x8d1)](_0x292a8c(0x5e6));_0x5b0ecb[_0x292a8c(0x2d5)]('change',()=>{const _0x143e64=_0x292a8c;_0x293827['classList'][_0x143e64(0x3a0)](_0x143e64(0x25d),!_0x5b0ecb[_0x143e64(0x22d)]);});const _0x40185f=document['getElementById'](_0x292a8c(0x45f)),_0x34be26=async _0x329830=>{const _0x536e2f=_0x292a8c,_0x252bc4=document[_0x536e2f(0x8d1)](_0x536e2f(0x45f)),_0xd01d47=_0x252bc4[_0x536e2f(0x9e8)]['currentMode'],_0x2cdcbb=document[_0x536e2f(0x8d1)]('selected-answer-index-hidden');_0x252bc4[_0x536e2f(0x1da)][_0x536e2f(0x2df)](_0x536e2f(0x25d));if(_0xd01d47==='timed'){const _0x3e8255=_0x2cdcbb['value'],_0x598e4f={'answer':_0x3e8255,'wasConfident':_0x329830};proceedToNextQuestion(_0x598e4f);}else{if(_0xd01d47==='sync'){const _0x3596b7=_0x2cdcbb['dataset'][_0x536e2f(0xade)],_0x42bf32=JSON['parse'](_0x2cdcbb['dataset'][_0x536e2f(0x638)]),_0x42bb7b=JSON[_0x536e2f(0x577)](_0x2cdcbb[_0x536e2f(0x9e8)][_0x536e2f(0xb02)]),_0x39dd8f=_0x2cdcbb['dataset'][_0x536e2f(0x9b0)];handleSyncAnswerSubmit(_0x3596b7,_0x42bf32,_0x42bb7b,_0x39dd8f,_0x329830);}}_0x252bc4['dataset']['currentMode']='';};document[_0x292a8c(0x8d1)](_0x292a8c(0x26b))[_0x292a8c(0x2d5)]('click',()=>_0x34be26(!![])),document[_0x292a8c(0x8d1)](_0x292a8c(0x827))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>_0x34be26(![])),liveGameView[_0x292a8c(0x2d5)]('click',_0x588c4a=>{const _0x23e3ba=_0x292a8c,_0x1b0f3f=_0x588c4a[_0x23e3ba(0x54a)][_0x23e3ba(0x161)](_0x23e3ba(0x24d));if(_0x1b0f3f){const _0x3bc1e8=_0x1b0f3f[_0x23e3ba(0x9e8)][_0x23e3ba(0x9b0)];_0x3bc1e8&&handleKickPlayerSync(_0x3bc1e8);}});const _0x5034aa=document[_0x292a8c(0x8d1)]('confirm-game-start-btn'),_0x8c83a8=document['getElementById'](_0x292a8c(0x5ae));_0x8c83a8[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x30d30d=_0x292a8c;document['getElementById']('confirm-game-start-modal')[_0x30d30d(0x1da)]['add'](_0x30d30d(0x25d));}),_0x5034aa[_0x292a8c(0x2d5)]('click',()=>{const _0x1f97dd=_0x292a8c,_0x1454ca=document[_0x1f97dd(0x8d1)](_0x1f97dd(0x3af))[_0x1f97dd(0x64c)],_0x4792a3=document[_0x1f97dd(0x8d1)](_0x1f97dd(0x17a))[_0x1f97dd(0x64c)],_0x12fa1c=document[_0x1f97dd(0x8d1)](_0x1f97dd(0x50a))[_0x1f97dd(0x22d)];document['getElementById'](_0x1f97dd(0x7cf))[_0x1f97dd(0x1da)]['add'](_0x1f97dd(0x25d));switch(_0x4792a3){case _0x1f97dd(0xc7e):handleStartLiveRace(_0x1454ca,_0x12fa1c);break;case'team':handleStartTeamQuiz(_0x1454ca,_0x12fa1c);break;case'group':handleStartGroupMode(_0x1454ca,_0x12fa1c);break;case'sync':handleStartSyncMode(_0x1454ca,_0x12fa1c);break;}}),document[_0x292a8c(0x8d1)](_0x292a8c(0xa5d))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleJoinGroupActivity),liveGameView[_0x292a8c(0x2d5)]('click',_0x478f5a=>{const _0x56ff77=_0x292a8c,_0x588712=_0x478f5a[_0x56ff77(0x54a)][_0x56ff77(0x161)](_0x56ff77(0xbd5));document[_0x56ff77(0xa48)](_0x56ff77(0x43d))['forEach'](_0x38fdd8=>{const _0xf04c13=_0x56ff77;(!_0x588712||_0x38fdd8['id']!==_0x588712[_0xf04c13(0x9e8)]['tooltipTarget'])&&_0x38fdd8['classList'][_0xf04c13(0x7ce)](_0xf04c13(0xae3));});if(!_0x588712)return;const _0x7ab54e=_0x588712['dataset'][_0x56ff77(0xc39)],_0x1049ff=document[_0x56ff77(0x8d1)](_0x7ab54e);_0x1049ff&&_0x1049ff[_0x56ff77(0x1da)][_0x56ff77(0x3a0)]('visible');}),liveGameView[_0x292a8c(0x2d5)]('click',_0x572e57=>{const _0x346db3=_0x292a8c;if(_0x572e57[_0x346db3(0x54a)]['classList'][_0x346db3(0x63c)]('kick-player-btn')){const _0x24fff9=_0x572e57['target'][_0x346db3(0x9e8)][_0x346db3(0x9b0)];_0x24fff9&&handleKickPlayer(_0x24fff9);}}),document['getElementById'](_0x292a8c(0x841))[_0x292a8c(0x2d5)](_0x292a8c(0x220),()=>document[_0x292a8c(0x8d1)]('save-project-name-btn')[_0x292a8c(0x1da)][_0x292a8c(0x7ce)](_0x292a8c(0x25d))),document[_0x292a8c(0x8d1)](_0x292a8c(0x9e2))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleSaveProjectName),document[_0x292a8c(0x8d1)]('project-title')[_0x292a8c(0x2d5)](_0x292a8c(0x8cb),_0x9f165b=>{const _0x470f7b=_0x292a8c;_0x9f165b[_0x470f7b(0x74c)]===_0x470f7b(0x3b9)&&(_0x9f165b[_0x470f7b(0x65f)](),_0x9f165b['target'][_0x470f7b(0x4a5)](),handleSaveProjectName());}),document[_0x292a8c(0x8d1)](_0x292a8c(0x8f7))[_0x292a8c(0x2d5)]('click',()=>{const _0x40386d=_0x292a8c;document[_0x40386d(0x8d1)]('bulk-quiz-settings-modal')[_0x40386d(0x1da)][_0x40386d(0x7ce)](_0x40386d(0x25d));}),document[_0x292a8c(0x8d1)]('cancel-bulk-quiz-settings-btn')['addEventListener'](_0x292a8c(0x4d9),()=>{const _0x2090cf=_0x292a8c;document['getElementById'](_0x2090cf(0x600))[_0x2090cf(0x1da)][_0x2090cf(0x2df)](_0x2090cf(0x25d));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x35c))['addEventListener'](_0x292a8c(0x4d9),handleBulkUpdateQuizSettings),document[_0x292a8c(0x8d1)]('mode-switcher-btn')['addEventListener']('click',handleModeSwitch),document[_0x292a8c(0x8d1)](_0x292a8c(0xb7b))[_0x292a8c(0x2d5)]('click',handleUpdateOldQuizzes),document[_0x292a8c(0x8d1)](_0x292a8c(0x5b9))[_0x292a8c(0x2d5)]('click',handleResetProjectOrder),document[_0x292a8c(0x8d1)]('save-visibility-settings-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleSaveVisibilitySettings),document[_0x292a8c(0x8d1)](_0x292a8c(0x241))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleAddCustomMathTopic),document[_0x292a8c(0x8d1)](_0x292a8c(0x5d3))['addEventListener'](_0x292a8c(0x4d9),handleSelectAllTopics),document[_0x292a8c(0x8d1)](_0x292a8c(0x792))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleDeselectAllTopics),document['getElementById'](_0x292a8c(0x150))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x590079=_0x292a8c;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x590079(0x9f6));}}),document[_0x292a8c(0x8d1)](_0x292a8c(0x41c))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x292a8c(0x8d1)]('back-to-dashboard-from-results-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x5c41b0=_0x292a8c;showView(_0x5c41b0(0x9f6));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x4d7))[_0x292a8c(0x2d5)]('click',()=>{const _0x397c57=_0x292a8c;messageModal[_0x397c57(0x1da)][_0x397c57(0x2df)](_0x397c57(0x25d)),typeof modalConfirmAction===_0x397c57(0x776)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x292a8c(0x8d1)](_0x292a8c(0x44f))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>createProjectModal[_0x292a8c(0x1da)][_0x292a8c(0x7ce)](_0x292a8c(0x25d))),document[_0x292a8c(0x8d1)](_0x292a8c(0x8d9))['addEventListener']('click',()=>createProjectModal[_0x292a8c(0x1da)]['add'](_0x292a8c(0x25d))),document[_0x292a8c(0x8d1)](_0x292a8c(0x181))[_0x292a8c(0x2d5)]('click',()=>adminPasswordModal[_0x292a8c(0x1da)][_0x292a8c(0x2df)](_0x292a8c(0x25d))),document['getElementById'](_0x292a8c(0x405))[_0x292a8c(0x2d5)]('click',handleAdminLogin),document[_0x292a8c(0x8d1)](_0x292a8c(0xa95))[_0x292a8c(0x2d5)](_0x292a8c(0x5e4),_0x550715=>{const _0x37cd5a=_0x292a8c;if(_0x550715[_0x37cd5a(0x74c)]===_0x37cd5a(0x3b9))handleAdminLogin();}),document['getElementById']('cancel-delete-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x9a84b2=_0x292a8c;confirmationModal['classList'][_0x9a84b2(0x2df)](_0x9a84b2(0x25d)),confirmAction=null;}),document[_0x292a8c(0x8d1)](_0x292a8c(0x624))[_0x292a8c(0x2d5)]('click',()=>{const _0x2a4b2e=_0x292a8c;confirmAction&&confirmAction(),confirmationModal[_0x2a4b2e(0x1da)][_0x2a4b2e(0x2df)](_0x2a4b2e(0x25d)),confirmAction=null;}),document['getElementById'](_0x292a8c(0x88b))[_0x292a8c(0x2d5)]('click',()=>renameQuizModal[_0x292a8c(0x1da)][_0x292a8c(0x2df)](_0x292a8c(0x25d))),document[_0x292a8c(0x8d1)](_0x292a8c(0x4a1))[_0x292a8c(0x2d5)]('click',confirmRenameQuiz),document[_0x292a8c(0x8d1)](_0x292a8c(0x4f9))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>moveQuizModal[_0x292a8c(0x1da)][_0x292a8c(0x2df)](_0x292a8c(0x25d))),document[_0x292a8c(0x8d1)](_0x292a8c(0x7c9))[_0x292a8c(0x2d5)]('click',confirmMoveQuiz),document['getElementById'](_0x292a8c(0xada))['addEventListener'](_0x292a8c(0x4d9),()=>quizSettingsModal['classList'][_0x292a8c(0x2df)](_0x292a8c(0x25d))),document[_0x292a8c(0x8d1)](_0x292a8c(0x200))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),confirmQuizSettings),document[_0x292a8c(0x8d1)](_0x292a8c(0x9d9))['addEventListener']('click',()=>quizStatusModal[_0x292a8c(0x1da)]['add'](_0x292a8c(0x25d))),document['getElementById'](_0x292a8c(0x334))[_0x292a8c(0x2d5)]('click',confirmQuizStatus);const _0x594ab4=document[_0x292a8c(0x8d1)]('export-pdf-modal');document[_0x292a8c(0x8d1)](_0x292a8c(0x6ce))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x60fdfe=_0x292a8c;_0x594ab4[_0x60fdfe(0x1da)]['add'](_0x60fdfe(0x25d));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x386))['addEventListener'](_0x292a8c(0x4d9),async()=>{const _0x4cd1da=_0x292a8c,_0x4e3af5=allQuizzes[_0x4cd1da(0x269)](_0x506fde=>_0x506fde['id']===actionTargetId);_0x4e3af5?(currentQuizData=_0x4e3af5,exportQuizAsWorksheetPDF()):showMessage(_0x4cd1da(0x9ab)),_0x594ab4[_0x4cd1da(0x1da)][_0x4cd1da(0x2df)](_0x4cd1da(0x25d));}),document[_0x292a8c(0x8d1)]('export-tutor-pdf-btn')['addEventListener'](_0x292a8c(0x4d9),async()=>{const _0x23a46f=_0x292a8c,_0x255f31=allQuizzes[_0x23a46f(0x269)](_0x5373aa=>_0x5373aa['id']===actionTargetId);_0x255f31?(currentQuizData=_0x255f31,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x594ab4['classList']['add'](_0x23a46f(0x25d));});const _0x2840a3=document[_0x292a8c(0x8d1)]('open-global-live-btn');_0x2840a3[_0x292a8c(0x8f6)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x2840a3[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),openGlobalActivityModal),document[_0x292a8c(0x8d1)]('cancel-global-activity-btn')[_0x292a8c(0x2d5)]('click',()=>{const _0x505fab=_0x292a8c;document[_0x505fab(0x8d1)](_0x505fab(0x31f))[_0x505fab(0x1da)][_0x505fab(0x2df)]('hidden');}),document[_0x292a8c(0x8d1)](_0x292a8c(0x9e1))[_0x292a8c(0x2d5)](_0x292a8c(0xb0d),_0x2bebdb=>{const _0x19098e=_0x292a8c;renderGlobalActivityList(_0x2bebdb[_0x19098e(0x54a)][_0x19098e(0x64c)]);}),document[_0x292a8c(0x8d1)](_0x292a8c(0x4c0))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x152204=>{const _0x2234c3=_0x292a8c,_0xb14e85=_0x152204[_0x2234c3(0x54a)][_0x2234c3(0x161)](_0x2234c3(0x5ec));if(!_0xb14e85)return;const _0x14139c=_0xb14e85[_0x2234c3(0x9e8)]['id'],_0x37d6d0=_0xb14e85[_0x2234c3(0x9e8)][_0x2234c3(0x5d1)],_0x107715=allQuizzesGlobal[_0x2234c3(0x269)](_0x4ee685=>_0x4ee685['id']===_0x14139c);_0x107715&&(document[_0x2234c3(0x8d1)](_0x2234c3(0x31f))[_0x2234c3(0x1da)]['add'](_0x2234c3(0x25d)),_0x37d6d0==='live-race'?handleStartLiveRace(_0x14139c):showGameStartConfirmationModal(_0x14139c,_0x37d6d0,_0x107715['topic']));}),document['getElementById']('project-search-input')[_0x292a8c(0x2d5)](_0x292a8c(0xb0d),renderProjects),document[_0x292a8c(0x8d1)]('project-sort-select')['addEventListener'](_0x292a8c(0x596),async()=>{const _0x5466a0=_0x292a8c,_0x2f0515=document[_0x5466a0(0x8d1)](_0x5466a0(0x68d))[_0x5466a0(0x64c)],_0x489921=doc(db,_0x5466a0(0x378),_0x5466a0(0x29e));try{await setDoc(_0x489921,{'projectSort':_0x2f0515},{'merge':!![]});}catch(_0x8cea82){console[_0x5466a0(0x62f)](_0x5466a0(0x3dc),_0x8cea82),showMessage(_0x5466a0(0xb52));}}),document[_0x292a8c(0x8d1)]('quiz-search-input')[_0x292a8c(0x2d5)]('input',renderQuizzes),document[_0x292a8c(0x8d1)](_0x292a8c(0x90f))[_0x292a8c(0x2d5)]('click',()=>{const _0x3459fd=_0x292a8c;globalDashboardSettings[_0x3459fd(0x21b)]=_0x3459fd(0xb27),saveUserPreference(_0x3459fd(0x21b),_0x3459fd(0xb27)),renderProjects();}),document[_0x292a8c(0x8d1)](_0x292a8c(0x20a))['addEventListener']('click',()=>{const _0xce86ae=_0x292a8c;globalDashboardSettings[_0xce86ae(0x21b)]=_0xce86ae(0x3d3),saveUserPreference(_0xce86ae(0x21b),_0xce86ae(0x3d3)),renderProjects();}),manageTab[_0x292a8c(0x2d5)]('click',()=>switchProjectTab('manage')),resultsTab[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>switchProjectTab(_0x292a8c(0x98c))),leaderboardTab[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>switchProjectTab(_0x292a8c(0x754))),document[_0x292a8c(0x8d1)](_0x292a8c(0x2ca))[_0x292a8c(0x2d5)]('click',()=>switchQuizDetailTab(_0x292a8c(0x5bd))),document[_0x292a8c(0x8d1)]('scores-tab-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>switchQuizDetailTab(_0x292a8c(0x4b7))),document['getElementById'](_0x292a8c(0xb18))['addEventListener'](_0x292a8c(0x4d9),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x292a8c(0x8d1)](_0x292a8c(0x6b8))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>switchQuizDetailTab(_0x292a8c(0xc38))),document[_0x292a8c(0x8d1)]('analyze-strengths-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleAnalyzeClass),generateWorksheetBtn[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),generateWorksheet);const _0x2d6b3b=document[_0x292a8c(0x8d1)]('link-tab'),_0x5bde3f=document[_0x292a8c(0x8d1)](_0x292a8c(0x1f1)),_0xc51652=document[_0x292a8c(0x8d1)](_0x292a8c(0x48a)),_0x4d75d8=document[_0x292a8c(0x8d1)](_0x292a8c(0xa97)),_0x7cdf28=document[_0x292a8c(0x8d1)](_0x292a8c(0x437)),_0x358981=document[_0x292a8c(0x8d1)](_0x292a8c(0x19b));topicTab['addEventListener'](_0x292a8c(0x4d9),()=>{const _0x3320cb=_0x292a8c;topicTab[_0x3320cb(0x1da)][_0x3320cb(0x2df)](_0x3320cb(0xa19)),textTab['classList']['remove']('active'),fileTab['classList']['remove'](_0x3320cb(0xa19)),worksheetTab[_0x3320cb(0x1da)][_0x3320cb(0x7ce)](_0x3320cb(0xa19));if(_0x2d6b3b)_0x2d6b3b['classList'][_0x3320cb(0x7ce)](_0x3320cb(0xa19));if(_0xc51652)_0xc51652['classList'][_0x3320cb(0x7ce)](_0x3320cb(0xa19));if(_0x7cdf28)_0x7cdf28[_0x3320cb(0x1da)]['remove'](_0x3320cb(0xa19));topicInputArea['classList']['remove'](_0x3320cb(0x25d)),textInputArea[_0x3320cb(0x1da)][_0x3320cb(0x2df)](_0x3320cb(0x25d)),fileInputArea[_0x3320cb(0x1da)][_0x3320cb(0x2df)]('hidden'),worksheetInputArea[_0x3320cb(0x1da)][_0x3320cb(0x2df)](_0x3320cb(0x25d));if(_0x5bde3f)_0x5bde3f['classList'][_0x3320cb(0x2df)](_0x3320cb(0x25d));if(_0x4d75d8)_0x4d75d8[_0x3320cb(0x1da)][_0x3320cb(0x2df)]('hidden');if(_0x358981)_0x358981[_0x3320cb(0x1da)]['add'](_0x3320cb(0x25d));}),textTab[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x39805d=_0x292a8c;textTab[_0x39805d(0x1da)]['add']('active'),topicTab[_0x39805d(0x1da)][_0x39805d(0x7ce)]('active'),fileTab[_0x39805d(0x1da)][_0x39805d(0x7ce)](_0x39805d(0xa19)),worksheetTab[_0x39805d(0x1da)][_0x39805d(0x7ce)]('active');if(_0x2d6b3b)_0x2d6b3b[_0x39805d(0x1da)]['remove']('active');if(_0xc51652)_0xc51652[_0x39805d(0x1da)]['remove'](_0x39805d(0xa19));if(_0x7cdf28)_0x7cdf28[_0x39805d(0x1da)][_0x39805d(0x7ce)](_0x39805d(0xa19));textInputArea[_0x39805d(0x1da)][_0x39805d(0x7ce)](_0x39805d(0x25d)),topicInputArea[_0x39805d(0x1da)][_0x39805d(0x2df)](_0x39805d(0x25d)),fileInputArea[_0x39805d(0x1da)]['add'](_0x39805d(0x25d)),worksheetInputArea['classList'][_0x39805d(0x2df)](_0x39805d(0x25d));if(_0x5bde3f)_0x5bde3f[_0x39805d(0x1da)][_0x39805d(0x2df)]('hidden');if(_0x4d75d8)_0x4d75d8['classList'][_0x39805d(0x2df)](_0x39805d(0x25d));if(_0x358981)_0x358981[_0x39805d(0x1da)][_0x39805d(0x2df)](_0x39805d(0x25d));}),fileTab[_0x292a8c(0x2d5)]('click',()=>{const _0xe892c5=_0x292a8c;fileTab[_0xe892c5(0x1da)][_0xe892c5(0x2df)]('active'),topicTab['classList']['remove'](_0xe892c5(0xa19)),textTab['classList'][_0xe892c5(0x7ce)](_0xe892c5(0xa19)),worksheetTab[_0xe892c5(0x1da)][_0xe892c5(0x7ce)](_0xe892c5(0xa19));if(_0x2d6b3b)_0x2d6b3b[_0xe892c5(0x1da)][_0xe892c5(0x7ce)]('active');if(_0xc51652)_0xc51652['classList']['remove'](_0xe892c5(0xa19));if(_0x7cdf28)_0x7cdf28[_0xe892c5(0x1da)][_0xe892c5(0x7ce)](_0xe892c5(0xa19));fileInputArea[_0xe892c5(0x1da)][_0xe892c5(0x7ce)]('hidden'),topicInputArea['classList'][_0xe892c5(0x2df)](_0xe892c5(0x25d)),textInputArea[_0xe892c5(0x1da)]['add'](_0xe892c5(0x25d)),worksheetInputArea[_0xe892c5(0x1da)][_0xe892c5(0x2df)](_0xe892c5(0x25d));if(_0x5bde3f)_0x5bde3f['classList']['add'](_0xe892c5(0x25d));if(_0x4d75d8)_0x4d75d8[_0xe892c5(0x1da)]['add'](_0xe892c5(0x25d));if(_0x358981)_0x358981[_0xe892c5(0x1da)][_0xe892c5(0x2df)]('hidden');}),worksheetTab[_0x292a8c(0x2d5)]('click',()=>{const _0x16fb9a=_0x292a8c;worksheetTab['classList']['add'](_0x16fb9a(0xa19)),topicTab[_0x16fb9a(0x1da)]['remove'](_0x16fb9a(0xa19)),textTab['classList'][_0x16fb9a(0x7ce)](_0x16fb9a(0xa19)),fileTab[_0x16fb9a(0x1da)]['remove'](_0x16fb9a(0xa19));if(_0x2d6b3b)_0x2d6b3b[_0x16fb9a(0x1da)]['remove'](_0x16fb9a(0xa19));if(_0xc51652)_0xc51652['classList'][_0x16fb9a(0x7ce)](_0x16fb9a(0xa19));if(_0x7cdf28)_0x7cdf28['classList']['remove']('active');worksheetInputArea[_0x16fb9a(0x1da)]['remove']('hidden'),topicInputArea[_0x16fb9a(0x1da)][_0x16fb9a(0x2df)]('hidden'),textInputArea[_0x16fb9a(0x1da)][_0x16fb9a(0x2df)](_0x16fb9a(0x25d)),fileInputArea[_0x16fb9a(0x1da)]['add']('hidden');if(_0x5bde3f)_0x5bde3f['classList'][_0x16fb9a(0x2df)](_0x16fb9a(0x25d));if(_0x4d75d8)_0x4d75d8['classList'][_0x16fb9a(0x2df)](_0x16fb9a(0x25d));if(_0x358981)_0x358981[_0x16fb9a(0x1da)][_0x16fb9a(0x2df)](_0x16fb9a(0x25d));});const _0x4d81c7=document['getElementById']('bank-tab'),_0x2b2da4=document[_0x292a8c(0x8d1)]('bank-input-area');_0x4d81c7&&_0x4d81c7[_0x292a8c(0x2d5)]('click',()=>{const _0x3f6ce9=_0x292a8c;topicTab[_0x3f6ce9(0x1da)][_0x3f6ce9(0x7ce)]('active'),textTab[_0x3f6ce9(0x1da)]['remove']('active'),fileTab[_0x3f6ce9(0x1da)][_0x3f6ce9(0x7ce)](_0x3f6ce9(0xa19)),worksheetTab[_0x3f6ce9(0x1da)][_0x3f6ce9(0x7ce)](_0x3f6ce9(0xa19));if(_0x2d6b3b)_0x2d6b3b[_0x3f6ce9(0x1da)][_0x3f6ce9(0x7ce)](_0x3f6ce9(0xa19));if(_0xc51652)_0xc51652['classList'][_0x3f6ce9(0x7ce)](_0x3f6ce9(0xa19));if(_0x7cdf28)_0x7cdf28[_0x3f6ce9(0x1da)][_0x3f6ce9(0x7ce)](_0x3f6ce9(0xa19));_0x4d81c7[_0x3f6ce9(0x1da)]['add'](_0x3f6ce9(0xa19)),topicInputArea[_0x3f6ce9(0x1da)][_0x3f6ce9(0x2df)]('hidden'),textInputArea[_0x3f6ce9(0x1da)]['add'](_0x3f6ce9(0x25d)),fileInputArea[_0x3f6ce9(0x1da)][_0x3f6ce9(0x2df)](_0x3f6ce9(0x25d)),worksheetInputArea[_0x3f6ce9(0x1da)][_0x3f6ce9(0x2df)](_0x3f6ce9(0x25d));if(_0x5bde3f)_0x5bde3f[_0x3f6ce9(0x1da)]['add'](_0x3f6ce9(0x25d));if(_0x4d75d8)_0x4d75d8[_0x3f6ce9(0x1da)][_0x3f6ce9(0x2df)](_0x3f6ce9(0x25d));if(_0x358981)_0x358981[_0x3f6ce9(0x1da)]['add']('hidden');_0x2b2da4[_0x3f6ce9(0x1da)][_0x3f6ce9(0x7ce)](_0x3f6ce9(0x25d)),displayQuestionBank();});_0x2d6b3b&&(_0x2d6b3b[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x350f10=_0x292a8c;_0x2d6b3b[_0x350f10(0x1da)][_0x350f10(0x2df)](_0x350f10(0xa19)),topicTab['classList'][_0x350f10(0x7ce)]('active'),textTab[_0x350f10(0x1da)]['remove']('active'),fileTab[_0x350f10(0x1da)][_0x350f10(0x7ce)]('active'),worksheetTab[_0x350f10(0x1da)]['remove']('active');if(_0xc51652)_0xc51652[_0x350f10(0x1da)][_0x350f10(0x7ce)]('active');if(_0x7cdf28)_0x7cdf28[_0x350f10(0x1da)][_0x350f10(0x7ce)](_0x350f10(0xa19));_0x5bde3f['classList'][_0x350f10(0x7ce)](_0x350f10(0x25d)),topicInputArea[_0x350f10(0x1da)][_0x350f10(0x2df)](_0x350f10(0x25d)),textInputArea['classList'][_0x350f10(0x2df)](_0x350f10(0x25d)),fileInputArea[_0x350f10(0x1da)]['add']('hidden'),worksheetInputArea['classList']['add'](_0x350f10(0x25d));if(_0x4d75d8)_0x4d75d8[_0x350f10(0x1da)][_0x350f10(0x2df)]('hidden');if(_0x358981)_0x358981[_0x350f10(0x1da)][_0x350f10(0x2df)]('hidden');}),document[_0x292a8c(0x8d1)](_0x292a8c(0x9d2))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleGenerateFromLink));_0xc51652&&_0xc51652[_0x292a8c(0x2d5)]('click',()=>{const _0x4eb175=_0x292a8c;_0xc51652[_0x4eb175(0x1da)]['add'](_0x4eb175(0xa19)),topicTab[_0x4eb175(0x1da)][_0x4eb175(0x7ce)](_0x4eb175(0xa19)),textTab[_0x4eb175(0x1da)][_0x4eb175(0x7ce)]('active'),fileTab['classList'][_0x4eb175(0x7ce)](_0x4eb175(0xa19)),worksheetTab[_0x4eb175(0x1da)]['remove'](_0x4eb175(0xa19));if(_0x2d6b3b)_0x2d6b3b[_0x4eb175(0x1da)][_0x4eb175(0x7ce)]('active');if(_0x4d81c7)_0x4d81c7['classList'][_0x4eb175(0x7ce)]('active');if(_0x7cdf28)_0x7cdf28[_0x4eb175(0x1da)]['remove'](_0x4eb175(0xa19));_0x4d75d8[_0x4eb175(0x1da)]['remove'](_0x4eb175(0x25d)),topicInputArea['classList']['add']('hidden'),textInputArea[_0x4eb175(0x1da)]['add'](_0x4eb175(0x25d)),fileInputArea['classList']['add'](_0x4eb175(0x25d)),worksheetInputArea[_0x4eb175(0x1da)]['add'](_0x4eb175(0x25d));if(_0x5bde3f)_0x5bde3f[_0x4eb175(0x1da)][_0x4eb175(0x2df)](_0x4eb175(0x25d));if(_0x2b2da4)_0x2b2da4['classList'][_0x4eb175(0x2df)](_0x4eb175(0x25d));if(_0x358981)_0x358981[_0x4eb175(0x1da)][_0x4eb175(0x2df)](_0x4eb175(0x25d));});_0x7cdf28&&_0x7cdf28[_0x292a8c(0x2d5)]('click',()=>{const _0xcbdcf0=_0x292a8c;_0x7cdf28[_0xcbdcf0(0x1da)][_0xcbdcf0(0x2df)](_0xcbdcf0(0xa19)),topicTab['classList'][_0xcbdcf0(0x7ce)](_0xcbdcf0(0xa19)),textTab[_0xcbdcf0(0x1da)][_0xcbdcf0(0x7ce)]('active'),fileTab['classList'][_0xcbdcf0(0x7ce)](_0xcbdcf0(0xa19)),worksheetTab[_0xcbdcf0(0x1da)]['remove'](_0xcbdcf0(0xa19));if(_0x2d6b3b)_0x2d6b3b[_0xcbdcf0(0x1da)][_0xcbdcf0(0x7ce)](_0xcbdcf0(0xa19));if(_0xc51652)_0xc51652[_0xcbdcf0(0x1da)][_0xcbdcf0(0x7ce)]('active');if(_0x4d81c7)_0x4d81c7[_0xcbdcf0(0x1da)][_0xcbdcf0(0x7ce)]('active');_0x358981[_0xcbdcf0(0x1da)][_0xcbdcf0(0x7ce)](_0xcbdcf0(0x25d)),topicInputArea['classList'][_0xcbdcf0(0x2df)](_0xcbdcf0(0x25d)),textInputArea['classList'][_0xcbdcf0(0x2df)](_0xcbdcf0(0x25d)),fileInputArea[_0xcbdcf0(0x1da)][_0xcbdcf0(0x2df)](_0xcbdcf0(0x25d)),worksheetInputArea['classList'][_0xcbdcf0(0x2df)](_0xcbdcf0(0x25d));if(_0x5bde3f)_0x5bde3f[_0xcbdcf0(0x1da)][_0xcbdcf0(0x2df)]('hidden');if(_0x4d75d8)_0x4d75d8[_0xcbdcf0(0x1da)][_0xcbdcf0(0x2df)]('hidden');if(_0x2b2da4)_0x2b2da4['classList'][_0xcbdcf0(0x2df)](_0xcbdcf0(0x25d));});const _0x5f2bd8=document[_0x292a8c(0x8d1)](_0x292a8c(0x507)),_0xed8743=document[_0x292a8c(0x8d1)](_0x292a8c(0xb69));if(_0x5f2bd8){const _0x1750f7=document[_0x292a8c(0x8d1)](_0x292a8c(0x507)),_0x149185=document['getElementById'](_0x292a8c(0xb69)),_0x1acb04=document[_0x292a8c(0x8d1)](_0x292a8c(0x902)),_0x503308=document['getElementById'](_0x292a8c(0x77c)),_0x5dbb6a=document[_0x292a8c(0x8d1)](_0x292a8c(0x976)),_0x382a4a=document[_0x292a8c(0x8d1)](_0x292a8c(0x24f));_0x1750f7&&_0x1750f7['addEventListener'](_0x292a8c(0x596),async _0x1eef4f=>{const _0x57da3f=_0x292a8c;_0x1acb04['classList'][_0x57da3f(0x2df)](_0x57da3f(0x25d)),_0x5dbb6a[_0x57da3f(0x1da)]['add']('hidden'),_0x503308[_0x57da3f(0x22d)]=![],_0x149185['disabled']=!![];const _0x4289d1=_0x1eef4f[_0x57da3f(0x54a)][_0x57da3f(0x498)][0x0];if(_0x4289d1){_0x149185[_0x57da3f(0x7dc)]=![];try{const _0x4d7e69=await extractTextFromPdf(_0x4289d1);await analyzeBlueprintForTopics(_0x4d7e69);}catch(_0x32e005){showMessage(_0x57da3f(0x824)),_0x1acb04[_0x57da3f(0x1da)][_0x57da3f(0x2df)](_0x57da3f(0x25d));}}}),_0x503308&&_0x503308[_0x292a8c(0x2d5)](_0x292a8c(0x596),_0x25224b=>{const _0x146950=_0x292a8c,_0xf9cc0a=_0x25224b['target'][_0x146950(0x22d)];_0x5dbb6a[_0x146950(0x1da)][_0x146950(0x3a0)](_0x146950(0x25d),!_0xf9cc0a),_0x149185[_0x146950(0x7dc)]=_0xf9cc0a;}),_0x382a4a&&(_0x382a4a&&_0x382a4a[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x18eea1=>{const _0x5512ca=_0x292a8c,_0x2ddc78=_0x18eea1[_0x5512ca(0x54a)][_0x5512ca(0x161)](_0x5512ca(0x628)),_0x277cdb=_0x18eea1['target'][_0x5512ca(0x161)](_0x5512ca(0xc2d));if(_0x2ddc78){const _0x59799b=unescape(_0x2ddc78['dataset'][_0x5512ca(0x5d7)]);generateQuizForSingleTopic(_0x59799b);}else{if(_0x277cdb){const _0x2f6b8a=unescape(_0x277cdb[_0x5512ca(0x9e8)][_0x5512ca(0x5d7)]);handleGenerateTeachingContent(_0x2f6b8a);}}}));}_0xed8743&&_0xed8743[_0x292a8c(0x2d5)]('click',handleGenerateFromBlueprint);const _0x2e530e=document[_0x292a8c(0x8d1)]('parallel-test-upload-input'),_0x1f61ce=document[_0x292a8c(0x8d1)](_0x292a8c(0x971));_0x2e530e&&_0x2e530e['addEventListener'](_0x292a8c(0x596),_0x35238e=>{const _0x5ecd19=_0x292a8c;_0x1f61ce[_0x5ecd19(0x7dc)]=_0x35238e['target'][_0x5ecd19(0x498)]['length']===0x0;});_0x1f61ce&&_0x1f61ce[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleLoadQuiz),startQuizBtn[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),async()=>{const _0x257984=_0x292a8c,_0x431699=document[_0x257984(0x8d1)]('student-name-select');currentStudentName=_0x431699[_0x257984(0x64c)];if(!currentStudentName){showMessage(_0x257984(0xbb5));return;}try{const _0x5a2ec6=currentQuizData['id'],_0x440488=doc(db,_0x257984(0x1d1)+appId+_0x257984(0x75d)+_0x5a2ec6+_0x257984(0x208),currentStudentName),_0x1e0a63=await getDoc(_0x440488);!_0x1e0a63['exists']()?await setDoc(_0x440488,{'studentName':currentStudentName,'startedAt':new Date()[_0x257984(0x5e7)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x440488,{'startedAt':new Date()[_0x257984(0x5e7)]()});}catch(_0x2e7a60){console[_0x257984(0x62f)](_0x257984(0x4d8),_0x2e7a60),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x257984(0x1da)][_0x257984(0x2df)](_0x257984(0x25d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x292a8c(0x8d1)](_0x292a8c(0x524))[_0x292a8c(0x2d5)]('click',showJoinGameView),document[_0x292a8c(0x8d1)](_0x292a8c(0x92b))['addEventListener']('click',handleJoinLiveGame),document[_0x292a8c(0x8d1)](_0x292a8c(0x8f2))['addEventListener'](_0x292a8c(0x4d9),()=>showView(_0x292a8c(0x7b8)));const _0x2826f6=()=>{const _0x1f1123=_0x292a8c,_0x3e11c1=document[_0x1f1123(0x8d1)]('results-quiz-title')[_0x1f1123(0x5eb)]['replace'](/[^a-z0-9]/gi,'_')[_0x1f1123(0x478)]();return'results_'+(_0x3e11c1||_0x1f1123(0x704));},_0x1824ff=document['getElementById'](_0x292a8c(0x5e5));_0x1824ff&&_0x1824ff['addEventListener']('input',_0x3ec2d9=>{const _0x66fbe6=_0x292a8c,_0x15aa6d=_0x3ec2d9[_0x66fbe6(0x54a)][_0x66fbe6(0x64c)]['toLowerCase']()['trim'](),_0x1f9cfb=document[_0x66fbe6(0x8d1)](_0x66fbe6(0x33e)),_0x2515e9=_0x1f9cfb[_0x66fbe6(0xa48)](_0x66fbe6(0x858));_0x2515e9['forEach'](_0x36639c=>{const _0x42160f=_0x66fbe6;let _0x4a8327=![];const _0x7d2930=_0x36639c['querySelectorAll'](_0x42160f(0x9c3));_0x7d2930['forEach'](_0x22ec00=>{const _0x4f134b=_0x42160f,_0x36d2c2=_0x22ec00[_0x4f134b(0x2b7)](_0x4f134b(0x6ae))[_0x4f134b(0x5eb)][_0x4f134b(0x478)]();_0x36d2c2[_0x4f134b(0x7d5)](_0x15aa6d)?(_0x22ec00['style'][_0x4f134b(0x6f6)]=_0x4f134b(0xbcc),_0x4a8327=!![]):_0x22ec00[_0x4f134b(0x8b2)]['display']='none';}),_0x4a8327?_0x36639c[_0x42160f(0x8b2)][_0x42160f(0x6f6)]=_0x42160f(0x2f5):_0x36639c[_0x42160f(0x8b2)][_0x42160f(0x6f6)]='none';});});document['getElementById'](_0x292a8c(0x86d))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>exportTableAsImage(_0x292a8c(0x8d7),_0x2826f6())),document[_0x292a8c(0x8d1)](_0x292a8c(0x9e9))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>exportTableAsPDF(_0x292a8c(0x274),_0x2826f6())),document[_0x292a8c(0x8d1)](_0x292a8c(0x8ef))['addEventListener'](_0x292a8c(0x4d9),()=>exportTableAsWord('results-table-container',_0x2826f6())),document[_0x292a8c(0x8d1)](_0x292a8c(0x6cb))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>exportTableAsExcel(_0x292a8c(0x274),_0x2826f6()));const _0x528d6a=()=>{const _0x4946c2=_0x292a8c,_0x3252a6=document[_0x4946c2(0x8d1)](_0x4946c2(0x5ef))[_0x4946c2(0x5eb)][_0x4946c2(0x1fb)](/[^a-z0-9]/gi,'_')[_0x4946c2(0x478)]();return _0x4946c2(0x7d0)+(_0x3252a6||'quiz');};document[_0x292a8c(0x8d1)](_0x292a8c(0x239))[_0x292a8c(0x2d5)]('click',()=>exportTableAsImage(_0x292a8c(0xb8f),_0x528d6a())),document[_0x292a8c(0x8d1)](_0x292a8c(0x680))[_0x292a8c(0x2d5)]('click',()=>exportTableAsPDF('quiz-leaderboard-table',_0x528d6a())),document[_0x292a8c(0x8d1)](_0x292a8c(0x4e1))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>exportTableAsWord(_0x292a8c(0xb8f),_0x528d6a())),document[_0x292a8c(0x8d1)](_0x292a8c(0x71b))['addEventListener']('click',()=>exportTableAsExcel(_0x292a8c(0x5fa),_0x528d6a())),projectQuizzesList[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),async _0x239097=>{const _0x1ddbc8=_0x292a8c,_0x25747e=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)](_0x1ddbc8(0x3ba)),_0x86c5ae=_0x239097[_0x1ddbc8(0x54a)]['closest']('.generate-post-test-btn'),_0x19bae5=_0x239097['target'][_0x1ddbc8(0x161)](_0x1ddbc8(0xb43)),_0x2d1f8c=_0x239097['target']['closest']('.generate-lesson-btn'),_0x484c6c=_0x239097['target'][_0x1ddbc8(0x161)]('.star-quiz-btn'),_0x378bc1=_0x239097[_0x1ddbc8(0x54a)]['closest']('.copy-quiz-id-list-btn'),_0x1db053=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)](_0x1ddbc8(0x298)),_0x23e528=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)](_0x1ddbc8(0x297)),_0x3ffcf8=_0x239097[_0x1ddbc8(0x54a)]['closest'](_0x1ddbc8(0x9cb)),_0x22164b=_0x239097[_0x1ddbc8(0x54a)]['closest']('.rename-quiz-btn'),_0x145b8c=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)]('.parallel-quiz-btn'),_0x23c9c1=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)](_0x1ddbc8(0x9fa)),_0x1a57bd=_0x239097[_0x1ddbc8(0x54a)]['closest'](_0x1ddbc8(0xc19)),_0x38a7d0=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)]('.unpair-quiz-btn'),_0x33ef18=_0x239097['target'][_0x1ddbc8(0x161)](_0x1ddbc8(0x599)),_0x110714=_0x239097['target'][_0x1ddbc8(0x161)](_0x1ddbc8(0x523)),_0x273f6c=_0x239097['target']['closest']('.export-pdf-list-btn'),_0x18ab3c=_0x239097['target'][_0x1ddbc8(0x161)]('.delete-quiz-btn'),_0x2136e=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)](_0x1ddbc8(0x44d)),_0x35480a=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)](_0x1ddbc8(0x5ff)),_0x34a00d=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)]('.generate-easy-version-btn'),_0x5643d1=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)](_0x1ddbc8(0x780)),_0x39681c=_0x239097[_0x1ddbc8(0x54a)][_0x1ddbc8(0x161)](_0x1ddbc8(0x58d));if(_0x5643d1){const _0x2c3391=_0x5643d1[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)],_0x2d5311=_0x5643d1[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x5d1)],_0x2e4e21=allQuizzes[_0x1ddbc8(0x269)](_0x367d4e=>_0x367d4e['id']===_0x2c3391);_0x2e4e21&&showGameStartConfirmationModal(_0x2c3391,_0x2d5311,_0x2e4e21['topic']);}else{if(_0x39681c){const _0x3e3ddc=_0x39681c[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)];handleStartLiveRace(_0x3e3ddc);}else{if(_0x35480a){const _0x467de8=_0x35480a[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)],_0x3d8b8a=document[_0x1ddbc8(0x8d1)](_0x1ddbc8(0x5ea)+_0x467de8);_0x3d8b8a&&_0x3d8b8a[_0x1ddbc8(0x1da)][_0x1ddbc8(0x3a0)]('hidden');}else{if(_0x86c5ae){const _0x32304d=_0x86c5ae['dataset'][_0x1ddbc8(0x335)],_0x2a3adb=allQuizzes[_0x1ddbc8(0x269)](_0x7cd0b6=>_0x7cd0b6['id']===_0x32304d);_0x2a3adb&&handleGenerateParallelPostTest(_0x2a3adb);}else{if(_0x19bae5)handleCompareResults(_0x19bae5[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)],_0x19bae5['dataset'][_0x1ddbc8(0x8bc)]);else{if(_0x2d1f8c){const _0x66eb5=_0x2d1f8c['dataset'][_0x1ddbc8(0x335)],_0x5d54f3=allQuizzes[_0x1ddbc8(0x269)](_0x505338=>_0x505338['id']===_0x66eb5);_0x5d54f3&&_0x5d54f3[_0x1ddbc8(0xaa0)]?(displayLessonPlan(_0x5d54f3[_0x1ddbc8(0xaa0)],_0x5d54f3),showConfirmation(_0x1ddbc8(0x266),()=>handleGenerateLessonPlan(_0x66eb5)),document[_0x1ddbc8(0x8d1)](_0x1ddbc8(0x6a9))[_0x1ddbc8(0x2b7)]('h3')['textContent']=_0x1ddbc8(0xbc8),document['getElementById']('confirm-delete-btn')[_0x1ddbc8(0x5eb)]=_0x1ddbc8(0x755)):handleGenerateLessonPlan(_0x66eb5);}else{if(_0x484c6c)handleToggleStarQuiz(_0x484c6c['dataset'][_0x1ddbc8(0x335)]);else{if(_0x378bc1)copyTextToClipboard(_0x378bc1[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)],_0x1ddbc8(0xa1c));else{if(_0x1db053)handleOpenQuizEditor(_0x1db053[_0x1ddbc8(0x9e8)]['quizId']);else{if(_0x23e528)handleQuizSettings(_0x23e528[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)]);else{if(_0x3ffcf8)handleDuplicateQuiz(_0x3ffcf8[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)]);else{if(_0x22164b)handleRenameQuiz(_0x22164b[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)],_0x22164b['dataset'][_0x1ddbc8(0x5d7)]);else{if(_0x145b8c){const _0x53513a=_0x145b8c['dataset'][_0x1ddbc8(0x335)],_0x2fd6b7=allQuizzes['find'](_0x1088f5=>_0x1088f5['id']===_0x53513a);_0x2fd6b7&&handleGenerateParallelFromBank(_0x2fd6b7);}else{if(_0x23c9c1)handleMoveQuiz(_0x23c9c1['dataset'][_0x1ddbc8(0x335)]);else{if(_0x1a57bd)handleManualQuizPairing(_0x1a57bd['dataset'][_0x1ddbc8(0x335)]);else{if(_0x38a7d0)handleUnpairQuiz(_0x38a7d0['dataset'][_0x1ddbc8(0x335)]);else{if(_0x33ef18){const _0x27a5fa=_0x33ef18[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)],_0x298594=allQuizzes[_0x1ddbc8(0x269)](_0x2a96de=>_0x2a96de['id']===_0x27a5fa);if(_0x298594)startPresentation(_0x298594);}else{if(_0x110714){const _0x116bff=_0x110714[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)],_0x398133=allQuizzes[_0x1ddbc8(0x269)](_0x30e6b3=>_0x30e6b3['id']===_0x116bff);_0x398133&&(currentQuizData=_0x398133,startAdminTest());}else{if(_0x273f6c)actionTargetId=_0x273f6c[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)],document[_0x1ddbc8(0x8d1)](_0x1ddbc8(0x9d8))[_0x1ddbc8(0x1da)][_0x1ddbc8(0x7ce)](_0x1ddbc8(0x25d));else{if(_0x18ab3c)showConfirmation(_0x1ddbc8(0x493)+_0x18ab3c['dataset']['topic']+_0x1ddbc8(0x639),()=>handleDeleteQuiz(_0x18ab3c[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)]));else{if(_0x2136e)handleQuizStatus(_0x2136e[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)]);else{if(_0x34a00d)handleGenerateEasyVersionQuiz(_0x34a00d[_0x1ddbc8(0x9e8)][_0x1ddbc8(0x335)]);else _0x25747e&&showQuizDetailView(_0x25747e['dataset'][_0x1ddbc8(0x335)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x292a8c(0x8d1)]('cancel-team-selection-btn')[_0x292a8c(0x2d5)]('click',()=>showView(_0x292a8c(0x7b8))),document[_0x292a8c(0x8d1)]('confirm-team-players-btn')[_0x292a8c(0x2d5)]('click',confirmAndStartTeamQuiz),document[_0x292a8c(0x8d1)]('quiz-leaderboard-table')[_0x292a8c(0x2b7)](_0x292a8c(0xb5c))[_0x292a8c(0x2d5)]('click',_0x5c6703=>{const _0x259f15=_0x292a8c,_0x4bde85=_0x5c6703[_0x259f15(0x54a)][_0x259f15(0x161)]('.sortable-header');if(!_0x4bde85||!_0x4bde85['dataset'][_0x259f15(0x910)])return;const _0x15a7a6=_0x4bde85[_0x259f15(0x9e8)][_0x259f15(0x910)];if(quizLeaderboardSortBy===_0x15a7a6)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x259f15(0xb4b)?_0x259f15(0x8ac):_0x259f15(0xb4b);else{quizLeaderboardSortBy=_0x15a7a6;const _0x3902d0=[_0x259f15(0x688)];quizLeaderboardSortOrder=_0x3902d0[_0x259f15(0x7d5)](_0x15a7a6)?_0x259f15(0xb4b):_0x259f15(0x8ac);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x259f15(0xa9a));}),document['getElementById'](_0x292a8c(0x4f0))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),closePresentation),document[_0x292a8c(0x8d1)](_0x292a8c(0x4c7))[_0x292a8c(0x2d5)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x614))['addEventListener'](_0x292a8c(0x4d9),()=>{const _0x3810b2=_0x292a8c;currentQuizData[_0x3810b2(0x692)]&&currentPresentationSlide<currentQuizData[_0x3810b2(0x692)][_0x3810b2(0xa38)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x292a8c(0x2d5)]('fullscreenchange',()=>{const _0x45431e=_0x292a8c;!document[_0x45431e(0x191)]&&(presentationModal[_0x45431e(0x8b2)]['display']=_0x45431e(0xa55));}),document['getElementById'](_0x292a8c(0x435))[_0x292a8c(0x2d5)]('click',handleDeleteAllStudents),studentList[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x54f448=>{const _0x4a7481=_0x292a8c,_0x34c7b0=_0x54f448[_0x4a7481(0x54a)][_0x4a7481(0x161)](_0x4a7481(0x40b));if(_0x34c7b0){const _0x8cc0e4=_0x34c7b0[_0x4a7481(0x9e8)][_0x4a7481(0x688)];handleDeleteStudent(_0x8cc0e4);}}),document['getElementById']('generate-from-file-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleGenerateFromFileClick),fileUploadInput[_0x292a8c(0x2d5)]('change',_0x4539b0=>{const _0x3df148=_0x292a8c,_0x5866fd=_0x4539b0[_0x3df148(0x54a)][_0x3df148(0x498)][0x0],_0x14d595=document[_0x3df148(0x8d1)](_0x3df148(0xb15)),_0x1ec858=document[_0x3df148(0x8d1)](_0x3df148(0x68a)),_0x25cd12=document[_0x3df148(0x8d1)](_0x3df148(0xb2c));_0x5866fd?(selectedFile=_0x5866fd,_0x25cd12['checked']?(_0x14d595[_0x3df148(0x7dc)]=!![],analyzeFileForTopics(_0x5866fd)):(_0x14d595['disabled']=![],_0x1ec858[_0x3df148(0x1da)][_0x3df148(0x2df)](_0x3df148(0x25d)))):(selectedFile=null,_0x14d595[_0x3df148(0x7dc)]=!![],_0x1ec858['classList'][_0x3df148(0x2df)](_0x3df148(0x25d)));}),document[_0x292a8c(0x8d1)](_0x292a8c(0xb2c))[_0x292a8c(0x2d5)]('change',_0x45b251=>{const _0x5ebf22=_0x292a8c,_0x1053c7=_0x45b251[_0x5ebf22(0x54a)]['checked'],_0x3cccef=document[_0x5ebf22(0x8d1)](_0x5ebf22(0xb15)),_0x57e1b9=document[_0x5ebf22(0x8d1)](_0x5ebf22(0x68a));_0x1053c7?(_0x3cccef[_0x5ebf22(0x7dc)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x57e1b9[_0x5ebf22(0x1da)]['remove']('hidden'),document[_0x5ebf22(0x8d1)]('file-topics-list')['innerHTML']=_0x5ebf22(0x1f2))):(_0x57e1b9[_0x5ebf22(0x1da)]['add']('hidden'),_0x3cccef[_0x5ebf22(0x7dc)]=!selectedFile);}),document['getElementById'](_0x292a8c(0x68a))[_0x292a8c(0x2d5)]('click',_0x42ecec=>{const _0x3487c6=_0x292a8c,_0x2d1e59=_0x42ecec[_0x3487c6(0x54a)][_0x3487c6(0x161)](_0x3487c6(0xb38)),_0x253dd0=_0x42ecec[_0x3487c6(0x54a)][_0x3487c6(0x161)](_0x3487c6(0xc2d));if(_0x2d1e59){const _0x5e6105=unescape(_0x2d1e59[_0x3487c6(0x9e8)][_0x3487c6(0x5d7)]);generateHybridQuizForTopic(_0x5e6105);}else{if(_0x253dd0){const _0x38e82e=unescape(_0x253dd0[_0x3487c6(0x9e8)][_0x3487c6(0x5d7)]),_0x295fe3=document[_0x3487c6(0x8d1)](_0x3487c6(0x957))['value'];handleGenerateAndShowLesson(_0x38e82e,_0x295fe3);}}}),document['getElementById'](_0x292a8c(0x55c))['addEventListener'](_0x292a8c(0x596),_0x2ea1bd=>{const _0x43f90e=_0x292a8c,_0x5afff2=document['getElementById'](_0x43f90e(0xc88)),_0x2603cd=document['getElementById'](_0x43f90e(0x453)),_0x2973ad=document[_0x43f90e(0x8d1)]('timer-duration-input');_0x2ea1bd['target'][_0x43f90e(0x64c)]===_0x43f90e(0xa55)?_0x5afff2['classList']['add'](_0x43f90e(0x25d)):(_0x5afff2[_0x43f90e(0x1da)][_0x43f90e(0x7ce)](_0x43f90e(0x25d)),_0x2ea1bd[_0x43f90e(0x54a)][_0x43f90e(0x64c)]===_0x43f90e(0xca2)?(_0x2603cd[_0x43f90e(0x5eb)]=_0x43f90e(0x2ea),_0x2973ad[_0x43f90e(0x64c)]='10'):(_0x2603cd[_0x43f90e(0x5eb)]=_0x43f90e(0x942),_0x2973ad[_0x43f90e(0x64c)]='30'));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x3ca))[_0x292a8c(0x2d5)](_0x292a8c(0x596),_0x3613ee=>{const _0x26bb75=_0x292a8c,_0x5ad545=document[_0x26bb75(0x8d1)](_0x26bb75(0x81a)),_0xf7bf5d=_0x3613ee[_0x26bb75(0x54a)][_0x26bb75(0x64c)],_0x2e6351=document['querySelector'](_0x26bb75(0x164)),_0x47bbe8=document[_0x26bb75(0x8d1)](_0x26bb75(0x2da)),_0x1780c1=document[_0x26bb75(0x8d1)]('num-questions');_0xf7bf5d==='matching'?_0x2e6351[_0x26bb75(0x5eb)]=_0x26bb75(0x4a4):_0x2e6351[_0x26bb75(0x5eb)]=_0x26bb75(0x6e2),_0xf7bf5d===_0x26bb75(0x27f)||_0xf7bf5d===_0x26bb75(0x583)||_0xf7bf5d===_0x26bb75(0x1f5)?_0x5ad545[_0x26bb75(0x1da)][_0x26bb75(0x7ce)](_0x26bb75(0x25d)):_0x5ad545[_0x26bb75(0x1da)][_0x26bb75(0x2df)](_0x26bb75(0x25d)),_0x47bbe8[_0x26bb75(0x494)]=_0x1780c1['value'];}),document[_0x292a8c(0x8d1)](_0x292a8c(0x433))[_0x292a8c(0x2d5)]('input',_0x506e75=>{const _0x448f10=_0x292a8c;document['getElementById'](_0x448f10(0x2da))[_0x448f10(0x494)]=_0x506e75[_0x448f10(0x54a)][_0x448f10(0x64c)];}),document['getElementById'](_0x292a8c(0x19c))[_0x292a8c(0x2d5)]('change',_0x52d3b9=>{const _0x319db9=_0x292a8c,_0x55691c=document[_0x319db9(0x8d1)](_0x319db9(0xad8)),_0x5146ab=document[_0x319db9(0x8d1)](_0x319db9(0x78a)),_0x123d54=document[_0x319db9(0x8d1)]('modal-timer-duration-input');_0x52d3b9[_0x319db9(0x54a)][_0x319db9(0x64c)]===_0x319db9(0xa55)?_0x55691c['classList']['add'](_0x319db9(0x25d)):(_0x55691c['classList'][_0x319db9(0x7ce)](_0x319db9(0x25d)),_0x52d3b9[_0x319db9(0x54a)]['value']===_0x319db9(0xca2)?_0x5146ab['textContent']=_0x319db9(0x2ea):_0x5146ab[_0x319db9(0x5eb)]=_0x319db9(0x942));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x56b))[_0x292a8c(0x2d5)]('click',()=>{const _0x1af33e=_0x292a8c;document[_0x1af33e(0x8d1)]('quiz-editor-modal')[_0x1af33e(0x1da)]['add'](_0x1af33e(0x25d));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x946))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x5df63b=_0x292a8c;document[_0x5df63b(0x8d1)](_0x5df63b(0x33f))['classList'][_0x5df63b(0x2df)](_0x5df63b(0x25d));}),document[_0x292a8c(0x8d1)](_0x292a8c(0xae6))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleVerifyAnswersInEditor),document[_0x292a8c(0x8d1)]('save-quiz-edits-btn')['addEventListener'](_0x292a8c(0x4d9),()=>{const _0x36252c=_0x292a8c;document[_0x36252c(0x8d1)](_0x36252c(0x33f))[_0x36252c(0x1da)]['add'](_0x36252c(0x25d)),showConfirmation(_0x36252c(0x243),handleSaveChanges);}),document[_0x292a8c(0x8d1)](_0x292a8c(0x3c7))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleAutoFixLatex);const _0x4f1357=document[_0x292a8c(0x8d1)](_0x292a8c(0x1a3));_0x4f1357&&_0x4f1357[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x3cc1c2=>{const _0x10486a=_0x292a8c,_0x27e2a8=_0x3cc1c2[_0x10486a(0x54a)][_0x10486a(0x161)](_0x10486a(0x145)),_0x582e1d=_0x3cc1c2['target'][_0x10486a(0x161)](_0x10486a(0x7ab));if(_0x27e2a8){const _0x41d97d=_0x27e2a8['closest'](_0x10486a(0x7f1)),_0x1a41d8=parseInt(_0x41d97d[_0x10486a(0x9e8)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x1a41d8);}else{if(_0x582e1d){const _0x1c3005=_0x582e1d[_0x10486a(0x161)](_0x10486a(0x7f1)),_0x5cecc3=parseInt(_0x1c3005[_0x10486a(0x9e8)][_0x10486a(0x458)],0xa);handleAiFixFormula(_0x5cecc3);}}});document[_0x292a8c(0x8d1)](_0x292a8c(0x83f))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),openQuizBankModal),document[_0x292a8c(0x8d1)](_0x292a8c(0xb7c))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x280a3f=_0x292a8c;document['getElementById'](_0x280a3f(0x41b))['classList'][_0x280a3f(0x2df)](_0x280a3f(0x25d));}),document[_0x292a8c(0x8d1)](_0x292a8c(0x587))[_0x292a8c(0x2d5)](_0x292a8c(0xb0d),_0x332c37=>renderQuizBankList(_0x332c37[_0x292a8c(0x54a)][_0x292a8c(0x64c)]));const _0x25b512=document[_0x292a8c(0x8d1)](_0x292a8c(0x33e));if(_0x25b512){let _0x503c63=null;_0x25b512[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x129cbc=>{const _0x3d7eba=_0x292a8c,_0x536369=_0x129cbc[_0x3d7eba(0x54a)],_0x2a976e=_0x536369[_0x3d7eba(0x161)]('.edit-custom-topic-btn'),_0x5e8188=_0x536369[_0x3d7eba(0x161)](_0x3d7eba(0xb6f)),_0x25e9d0=_0x536369[_0x3d7eba(0x161)](_0x3d7eba(0x50b)),_0x338ec7=_0x536369[_0x3d7eba(0x161)](_0x3d7eba(0x1b1));if(_0x5e8188){_0x129cbc[_0x3d7eba(0x65f)]();const _0x8a37b5=_0x5e8188['dataset']['id'],_0x5d1e2b=_0x5e8188['closest'](_0x3d7eba(0xa72))[_0x3d7eba(0x2b7)](_0x3d7eba(0x6ae))[_0x3d7eba(0x5eb)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x5d1e2b+'\x22?',()=>handleDeleteCustomTopic(_0x8a37b5));}else{if(_0x2a976e){_0x129cbc['preventDefault']();_0x503c63&&toggleTopicEditMode(_0x503c63,![]);const _0x344ac4=_0x2a976e['closest']('[data-topic-container-id]');_0x503c63=_0x344ac4,toggleTopicEditMode(_0x344ac4,!![]);}else{if(_0x25e9d0){_0x129cbc[_0x3d7eba(0x65f)]();const _0x2a4681=_0x25e9d0[_0x3d7eba(0x9e8)]['id'],_0x4ae507=_0x25e9d0[_0x3d7eba(0x161)](_0x3d7eba(0xb66)),_0x5021f7=_0x4ae507['querySelector'](_0x3d7eba(0x299))['value'];handleUpdateCustomTopic(_0x2a4681,_0x5021f7),_0x503c63=null;}else{if(_0x338ec7){_0x129cbc[_0x3d7eba(0x65f)]();const _0x665dc9=_0x338ec7['closest'](_0x3d7eba(0xb66));toggleTopicEditMode(_0x665dc9,![]),_0x503c63=null;}}}}}),document['getElementById'](_0x292a8c(0x59c))['addEventListener'](_0x292a8c(0x4d9),()=>{const _0xf8638d=_0x292a8c;document['getElementById'](_0xf8638d(0x545))[_0xf8638d(0x1da)][_0xf8638d(0x2df)](_0xf8638d(0x25d));}),document['getElementById'](_0x292a8c(0x8e6))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x5cb7ab=_0x292a8c;document[_0x5cb7ab(0x8d1)]('lesson-plan-modal')[_0x5cb7ab(0x1da)][_0x5cb7ab(0x2df)](_0x5cb7ab(0x25d));}),document['getElementById']('export-lesson-pdf-btn')[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),handleExportLessonPDF);}document[_0x292a8c(0x8d1)](_0x292a8c(0x66f))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x504d19=_0x292a8c;document[_0x504d19(0x8d1)](_0x504d19(0x924))['classList']['add']('hidden');}),document['getElementById'](_0x292a8c(0x461))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),()=>{const _0x376bf7=_0x292a8c;document[_0x376bf7(0x8d1)](_0x376bf7(0x924))['classList'][_0x376bf7(0x2df)]('hidden');}),setupComparisonModalTabs(),document[_0x292a8c(0x816)][_0x292a8c(0x2d5)](_0x292a8c(0x4d9),function(_0x33235e){const _0x21ba44=_0x292a8c;if(_0x33235e[_0x21ba44(0x54a)]['classList']['contains'](_0x21ba44(0x63a))){const _0x376bc0=unescape(_0x33235e['target']['dataset']['topic']);startSkillPractice(_0x376bc0);}}),document[_0x292a8c(0x8d1)](_0x292a8c(0x1bc))[_0x292a8c(0x2d5)](_0x292a8c(0x4d9),_0x40ce2b=>{const _0xa58452=_0x292a8c,_0x123ef9=_0x40ce2b[_0xa58452(0x54a)][_0xa58452(0x161)](_0xa58452(0x9a2));if(_0x123ef9){const _0x46a698=_0x123ef9[_0xa58452(0x9e8)][_0xa58452(0x688)];handleDeleteSubmission(_0x46a698);}});}async function handleStartGroupMode(_0x32f336,_0x4211cd=![]){const _0x50364b=_0x252b26,_0x135df5=allQuizzes[_0x50364b(0x269)](_0x3c7256=>_0x3c7256['id']===_0x32f336)||allQuizzesGlobal[_0x50364b(0x269)](_0x37b2b8=>_0x37b2b8['id']===_0x32f336);if(!_0x135df5){showMessage(_0x50364b(0x9ab));return;}currentQuizData=getShuffledQuiz(_0x135df5);const _0x40c335=Math[_0x50364b(0xb79)](0x3e8+Math['random']()*0x2328)[_0x50364b(0x626)]();try{const _0x5c9218=await addDoc(collection(db,_0x50364b(0x1d1)+appId+_0x50364b(0x73b)),{'quizId':_0x135df5['id'],'projectId':_0x135df5[_0x50364b(0x86f)],'status':_0x50364b(0x80e),'pin':_0x40c335,'mode':_0x50364b(0x706),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4211cd});currentTeamQuizId=_0x5c9218['id'],showView(_0x50364b(0x443)),renderAdminTeamQuizDashboard(_0x40c335,_0x135df5[_0x50364b(0x5d7)],_0x50364b(0x706)),listenForTeamQuizUpdates();}catch(_0x448014){console[_0x50364b(0x62f)](_0x50364b(0x4b6),_0x448014),showMessage(_0x50364b(0xb25));}}async function showStudentProgressView(){const _0x186c9c=_0x252b26;studentInitialView[_0x186c9c(0x1da)][_0x186c9c(0x2df)](_0x186c9c(0x25d)),document[_0x186c9c(0x8d1)](_0x186c9c(0x356))[_0x186c9c(0x1da)]['remove'](_0x186c9c(0x25d));const _0x7185c7=document[_0x186c9c(0x8d1)]('progress-project-select'),_0x4ea124=document[_0x186c9c(0x8d1)](_0x186c9c(0xc34)),_0x48ea91=document[_0x186c9c(0x8d1)]('student-progress-content');_0x48ea91[_0x186c9c(0x8f6)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x4ea124[_0x186c9c(0x8f6)]=_0x186c9c(0x45b),_0x4ea124['disabled']=!![],_0x7185c7['innerHTML']=_0x186c9c(0x8ab);if(allProjects['length']===0x0){const _0xa18b46=collection(db,_0x186c9c(0x1d1)+appId+_0x186c9c(0x301)),_0x5ca3ac=await getDocs(_0xa18b46);allProjects=_0x5ca3ac[_0x186c9c(0x72c)][_0x186c9c(0x625)](_0x41590f=>({'id':_0x41590f['id'],..._0x41590f['data']()}));}const _0x34832d=allProjects[_0x186c9c(0x6de)](_0x44a3b2=>_0x44a3b2[_0x186c9c(0x716)]?.[_0x186c9c(0x84f)]!==![]);_0x34832d['sort']((_0x3089de,_0x5af82c)=>_0x3089de[_0x186c9c(0xa1f)][_0x186c9c(0xb7a)](_0x5af82c[_0x186c9c(0xa1f)],'th')),_0x7185c7[_0x186c9c(0x8f6)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x34832d[_0x186c9c(0x625)](_0x58b3c4=>'<option\x20value=\x22'+_0x58b3c4['id']+'\x22>'+_0x58b3c4[_0x186c9c(0xa1f)]+_0x186c9c(0x64b))[_0x186c9c(0x424)](''),_0x7185c7['onchange']=()=>{const _0x4301b0=_0x186c9c,_0x4a2aa5=_0x4ea124[_0x4301b0(0x64c)],_0x5d556e=_0x7185c7[_0x4301b0(0x64c)];_0x4ea124[_0x4301b0(0x7dc)]=!![],_0x4ea124['innerHTML']=_0x4301b0(0x45b),_0x48ea91[_0x4301b0(0x8f6)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x5d556e)return;const _0x35b5a0=allProjects[_0x4301b0(0x269)](_0x2efeb0=>_0x2efeb0['id']===_0x5d556e);if(!_0x35b5a0||!_0x35b5a0['students'])return;const _0xd6c7c9=()=>{const _0x170687=_0x4301b0;_0x4ea124[_0x170687(0x8f6)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x35b5a0[_0x170687(0x91a)][_0x170687(0x625)](_0x5f24d0=>_0x170687(0x19d)+_0x5f24d0+'\x22>'+_0x5f24d0+_0x170687(0x64b))[_0x170687(0x424)](''),_0x4ea124[_0x170687(0x7dc)]=![];const _0x4895e9=Array[_0x170687(0x8a3)](_0x4ea124['options'])['map'](_0x249a01=>_0x249a01[_0x170687(0x64c)]);if(_0x4a2aa5&&_0x4895e9[_0x170687(0x7d5)](_0x4a2aa5))_0x4ea124[_0x170687(0x64c)]=_0x4a2aa5,_0x4ea124[_0x170687(0x834)](new Event(_0x170687(0x596)));else _0x35b5a0[_0x170687(0x91a)][_0x170687(0xa38)]===0x1&&(_0x4ea124[_0x170687(0x64c)]=_0x35b5a0[_0x170687(0x91a)][0x0],_0x4ea124['dispatchEvent'](new Event('change')));};if(_0x35b5a0[_0x4301b0(0x716)]?.[_0x4301b0(0x352)]){if(sessionStorage['getItem'](_0x4301b0(0x31c)+_0x5d556e)===_0x4301b0(0x7c4)){_0xd6c7c9();return;}const _0x55cad2=document[_0x4301b0(0x8d1)](_0x4301b0(0x558)),_0x571702=document[_0x4301b0(0x8d1)]('confirm-passcode-btn'),_0x5e5e41=document[_0x4301b0(0x8d1)](_0x4301b0(0x35f)),_0xc73523=document[_0x4301b0(0x8d1)](_0x4301b0(0x934)),_0x3dd1f3=document[_0x4301b0(0x8d1)]('passcode-error-msg');document['getElementById']('passcode-prompt-message')['textContent']=_0x4301b0(0x635)+_0x35b5a0['projectName'],_0xc73523['value']='',_0x3dd1f3[_0x4301b0(0x1da)][_0x4301b0(0x2df)]('hidden'),_0x55cad2[_0x4301b0(0x1da)][_0x4301b0(0x7ce)]('hidden');const _0x54bf48=()=>{const _0x1da419=_0x4301b0,_0x1addab=_0xc73523[_0x1da419(0x64c)][_0x1da419(0x3cf)]();_0x1addab===_0x35b5a0['settings'][_0x1da419(0x4ff)]?(sessionStorage['setItem']('authed_project_'+_0x5d556e,_0x1da419(0x7c4)),_0x55cad2[_0x1da419(0x1da)][_0x1da419(0x2df)](_0x1da419(0x25d)),_0xd6c7c9(),_0x571702[_0x1da419(0xad6)](_0x1da419(0x4d9),_0x54bf48)):_0x3dd1f3[_0x1da419(0x1da)]['remove']('hidden');};_0x571702[_0x4301b0(0xa67)]=_0x54bf48,_0x5e5e41[_0x4301b0(0xa67)]=()=>{const _0x263552=_0x4301b0;_0x55cad2[_0x263552(0x1da)][_0x263552(0x2df)](_0x263552(0x25d)),_0x7185c7[_0x263552(0x64c)]='',_0x571702[_0x263552(0xad6)]('click',_0x54bf48);};}else _0xd6c7c9();},_0x4ea124[_0x186c9c(0xbb3)]=()=>{const _0x1bfe5d=_0x186c9c,_0x4bc023=_0x7185c7[_0x1bfe5d(0x64c)],_0x3c86c4=_0x4ea124[_0x1bfe5d(0x64c)];_0x4bc023&&_0x3c86c4&&renderStudentProgressDashboard(_0x4bc023,_0x3c86c4);};}async function confirmAndJoinSyncGame(){const _0x4668f6=_0x252b26,_0x5a43f5=Array[_0x4668f6(0x8a3)](document[_0x4668f6(0xa48)]('input[name=\x22team_player\x22]:checked'))[_0x4668f6(0x625)](_0x40abd9=>_0x40abd9[_0x4668f6(0x64c)]);if(_0x5a43f5[_0x4668f6(0xa38)]===0x0){showMessage(_0x4668f6(0xa82));return;}localTeamPlayers=_0x5a43f5,localPlayerTurnIndex=0x0;const _0x559cbf=doc(db,_0x4668f6(0x1d1)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x16bf32=await getDoc(_0x559cbf);if(!_0x16bf32[_0x4668f6(0xbfd)]())throw new Error(_0x4668f6(0x9f8));const _0x3da4b8=_0x16bf32[_0x4668f6(0xa36)]()['players']||{};_0x5a43f5['forEach'](_0x5b3ee4=>{!_0x3da4b8[_0x5b3ee4]&&(_0x3da4b8[_0x5b3ee4]={'name':_0x5b3ee4,'score':0x0,'answered':![],'status':'active'});}),await updateDoc(_0x559cbf,{'players':_0x3da4b8}),document[_0x4668f6(0x8d1)]('student-team-selection-view')[_0x4668f6(0x1da)][_0x4668f6(0x2df)](_0x4668f6(0x25d)),currentStudentName=_0x5a43f5[0x0],listenForSyncGameUpdates();const _0xc1d09b={'gameId':currentLiveGameId,'mode':_0x4668f6(0x426),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4668f6(0x874)](_0x4668f6(0x110),JSON['stringify'](_0xc1d09b));}catch(_0x5aa465){console['error'](_0x4668f6(0x256),_0x5aa465),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x16b574=_0x252b26,_0x528b95=sessionStorage['getItem'](_0x16b574(0x110));if(!_0x528b95)return;const _0x366ec9=JSON[_0x16b574(0x577)](_0x528b95),{gameId:_0x41ec75,mode:_0x56a938,players:_0x2abc93,turnIndex:_0x4f8053}=_0x366ec9;try{let _0x338762,_0x4d2897;_0x56a938===_0x16b574(0x426)?_0x338762=doc(db,_0x16b574(0x1d1)+appId+_0x16b574(0xad4),_0x41ec75):_0x338762=doc(db,_0x16b574(0x1d1)+appId+_0x16b574(0x73b),_0x41ec75);_0x4d2897=await getDoc(_0x338762);if(!_0x4d2897[_0x16b574(0xbfd)]()||_0x4d2897[_0x16b574(0xa36)]()[_0x16b574(0x6c1)]===_0x16b574(0x6c7)||_0x4d2897[_0x16b574(0xa36)]()[_0x16b574(0x6c1)]===_0x16b574(0xc73)){sessionStorage[_0x16b574(0xbf0)](_0x16b574(0x110));return;}console[_0x16b574(0x952)](_0x16b574(0x60a)+_0x56a938+_0x16b574(0x3e9)+_0x41ec75+')'),localTeamPlayers=_0x2abc93,localPlayerTurnIndex=_0x4f8053;if(_0x56a938===_0x16b574(0x426))currentLiveGameId=_0x41ec75,currentStudentName=_0x2abc93[0x0],showView(_0x16b574(0x443)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x41ec75;const _0x266fdd=_0x4d2897[_0x16b574(0xa36)](),_0x260abb=doc(db,'artifacts/'+appId+_0x16b574(0x1a5),_0x266fdd['quizId']),_0x5904db=await getDoc(_0x260abb);_0x5904db['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x5904db['id'],..._0x5904db[_0x16b574(0xa36)]()}),showView('student'),studentInitialView[_0x16b574(0x1da)][_0x16b574(0x2df)]('hidden'),renderTeamQuizQuestion());}}catch(_0x32a532){console['error'](_0x16b574(0xbc3),_0x32a532),sessionStorage['removeItem'](_0x16b574(0x110));}}function activateFileInputAreaWithLoadedFile(){const _0x4609b4=_0x252b26,_0x1f0fda=document[_0x4609b4(0x8d1)]('generate-from-file-btn'),_0x2274be=document['getElementById'](_0x4609b4(0x68a)),_0x3519e1=document['getElementById'](_0x4609b4(0xb2c));selectedFile?_0x3519e1[_0x4609b4(0x22d)]?(_0x1f0fda[_0x4609b4(0x7dc)]=!![],analyzeFileForTopics(selectedFile)):(_0x1f0fda[_0x4609b4(0x7dc)]=![],_0x2274be[_0x4609b4(0x1da)]['add'](_0x4609b4(0x25d))):(_0x1f0fda[_0x4609b4(0x7dc)]=!![],_0x2274be[_0x4609b4(0x1da)][_0x4609b4(0x2df)](_0x4609b4(0x25d)));}async function handleKickPlayerSync(_0xef06ed){const _0xf8919c=_0x252b26;if(!currentLiveGameId||!_0xef06ed)return;const _0x2c929a=doc(db,_0xf8919c(0x1d1)+appId+_0xf8919c(0xad4),currentLiveGameId),_0x2f9741={};_0x2f9741[_0xf8919c(0xac9)+_0xef06ed+_0xf8919c(0x466)]=_0xf8919c(0xc72);try{await updateDoc(_0x2c929a,_0x2f9741);}catch(_0x12ebaf){console[_0xf8919c(0x62f)](_0xf8919c(0x1ca)+_0xef06ed+_0xf8919c(0x57a),_0x12ebaf),showMessage(_0xf8919c(0xc2a));}}async function renderStudentProgressDashboard(_0x15b34,_0x41f89d){const _0x3d03fe=_0x252b26,_0x1ef7f5=document[_0x3d03fe(0x8d1)](_0x3d03fe(0xa76));_0x1ef7f5[_0x3d03fe(0x8f6)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x3fd264=collection(db,'artifacts/'+appId+_0x3d03fe(0x1a5)),_0x1d1dc0=query(_0x3fd264,where(_0x3d03fe(0x86f),'==',_0x15b34)),_0x218258=await getDocs(_0x1d1dc0),_0x4390b3=_0x218258[_0x3d03fe(0x72c)][_0x3d03fe(0x625)](_0x486d68=>({'id':_0x486d68['id'],..._0x486d68[_0x3d03fe(0xa36)]()})),_0x3d6896=_0x4390b3[_0x3d03fe(0x625)](_0x4a7cc2=>getDoc(doc(db,_0x3d03fe(0x1d1)+appId+_0x3d03fe(0x75d)+_0x4a7cc2['id']+_0x3d03fe(0x208),_0x41f89d))),_0x34cef3=await Promise[_0x3d03fe(0xadc)](_0x3d6896),_0x55a0ec=_0x34cef3[_0x3d03fe(0x6de)](_0xc08b0c=>_0xc08b0c[_0x3d03fe(0xbfd)]())[_0x3d03fe(0x625)](_0xefb8cc=>({'quizId':_0xefb8cc[_0x3d03fe(0x270)][_0x3d03fe(0x5e3)][_0x3d03fe(0x5e3)]['id'],..._0xefb8cc[_0x3d03fe(0xa36)]()}));if(_0x55a0ec[_0x3d03fe(0xa38)]===0x0){_0x1ef7f5[_0x3d03fe(0x8f6)]=_0x3d03fe(0x863);return;}let _0x37cd3e=_0x3d03fe(0xa93);_0x55a0ec['forEach'](_0x28d777=>{const _0x276bac=_0x3d03fe,_0xd86df0=_0x4390b3[_0x276bac(0x269)](_0x31e117=>_0x31e117['id']===_0x28d777['quizId']),_0x57ea20=_0xd86df0[_0x276bac(0x716)]?.[_0x276bac(0x3ce)]||_0x276bac(0xa4f),_0x23b47b=_0xd86df0[_0x276bac(0x716)]?.['passingScore']??0x0,_0x303487=_0x28d777[_0x276bac(0x5f0)]>=_0x23b47b;let _0x2a5e1e='',_0x32e824='bg-gray-50';switch(_0x57ea20){case'show_results_and_answers':case _0x276bac(0x2b5):_0x32e824=_0x303487?_0x276bac(0x32d):'bg-red-50',_0x2a5e1e=_0x276bac(0x396)+(_0x303487?'text-green-700':'text-red-700')+'\x22>'+_0x28d777[_0x276bac(0x5f0)]+_0x276bac(0xc0e)+_0x28d777[_0x276bac(0x223)]+_0x276bac(0x5e1)+(_0x303487?_0x276bac(0xc9b):_0x276bac(0x678))+'\x22>'+(_0x303487?'ผ่าน':'ไม่ผ่าน')+_0x276bac(0xb83);break;case _0x276bac(0xa3b):_0x32e824=_0x303487?_0x276bac(0x32d):_0x276bac(0xafc),_0x2a5e1e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x303487?'bg-green-200\x20text-green-800':_0x276bac(0x678))+'\x22>'+(_0x303487?'ผ่าน':_0x276bac(0xa70))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x32e824=_0x276bac(0x40a),_0x2a5e1e=_0x276bac(0x948);break;}_0x37cd3e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x32e824+_0x276bac(0x901)+_0xd86df0[_0x276bac(0x5d7)]+_0x276bac(0x939)+_0x28d777[_0x276bac(0x8ae)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x28d777[_0x276bac(0x759)])[_0x276bac(0xc5f)](_0x276bac(0xc89))+_0x276bac(0x4fe)+_0x2a5e1e+_0x276bac(0x307);}),_0x37cd3e+=_0x3d03fe(0xa8c),_0x1ef7f5[_0x3d03fe(0x8f6)]=_0x37cd3e;}catch(_0x1d6269){console[_0x3d03fe(0x62f)](_0x3d03fe(0x91e),_0x1d6269),_0x1ef7f5['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x5dd71e=''){const _0x53068b=_0x252b26,_0x2d4e2c=document[_0x53068b(0x8d1)](_0x53068b(0x852)),_0x4ace10=_0x5dd71e['toLowerCase']()[_0x53068b(0x3cf)](),_0x386e88=allQuizzesGlobal[_0x53068b(0x625)](_0x1e1e9b=>({..._0x1e1e9b,'projectName':allProjects['find'](_0x26f9cf=>_0x26f9cf['id']===_0x1e1e9b['projectId'])?.[_0x53068b(0xa1f)]||_0x53068b(0x207)}))[_0x53068b(0x6de)](_0x50e5bc=>(_0x50e5bc[_0x53068b(0x5d7)]||'')[_0x53068b(0x478)]()['includes'](_0x4ace10)||(_0x50e5bc[_0x53068b(0xa1f)]||'')[_0x53068b(0x478)]()[_0x53068b(0x7d5)](_0x4ace10)||_0x50e5bc['id'][_0x53068b(0x626)]()[_0x53068b(0x7d5)](_0x4ace10));_0x2d4e2c[_0x53068b(0x8f6)]=_0x386e88[_0x53068b(0xa38)]?_0x386e88[_0x53068b(0x625)](_0x292447=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x292447['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x292447[_0x53068b(0x5d7)]||_0x53068b(0x83a))+_0x53068b(0xbfa)+_0x292447[_0x53068b(0xa1f)]+_0x53068b(0x737)+_0x292447['id']+_0x53068b(0x763))[_0x53068b(0x424)](''):_0x53068b(0x645),_0x2d4e2c['onchange']=()=>{const _0x258031=_0x53068b,_0x1fa7eb=document['querySelector']('.quiz-bank-checkbox:checked');document[_0x258031(0x8d1)]('confirm-link-quiz-btn')[_0x258031(0x7dc)]=!_0x1fa7eb;};}function setupStudentProgressListeners(){const _0xd6b2f5=_0x252b26;document[_0xd6b2f5(0x8d1)](_0xd6b2f5(0x90e))[_0xd6b2f5(0x2d5)]('click',showStudentProgressView),document[_0xd6b2f5(0x8d1)](_0xd6b2f5(0x51a))['addEventListener'](_0xd6b2f5(0x4d9),()=>{const _0x5ec906=_0xd6b2f5;document[_0x5ec906(0x8d1)](_0x5ec906(0x356))[_0x5ec906(0x1da)][_0x5ec906(0x2df)](_0x5ec906(0x25d)),document[_0x5ec906(0x8d1)]('student-initial-view')[_0x5ec906(0x1da)][_0x5ec906(0x7ce)](_0x5ec906(0x25d));});}async function startSkillPractice(_0x2c5d7a){const _0x27f2a5=_0x252b26;studentResultArea[_0x27f2a5(0x1da)][_0x27f2a5(0x2df)]('hidden'),studentQuizArea[_0x27f2a5(0x8f6)]=_0x27f2a5(0x756),studentQuizArea['classList'][_0x27f2a5(0x7ce)]('hidden');try{const _0x3a3b9b=await getStandardizedTopic(_0x2c5d7a);console[_0x27f2a5(0x952)](_0x27f2a5(0x63f)+_0x2c5d7a+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x3a3b9b+'\x22'),studentQuizArea[_0x27f2a5(0x2b7)]('p')[_0x27f2a5(0x5eb)]=_0x27f2a5(0x6a7)+_0x3a3b9b+_0x27f2a5(0x51e);const _0x256d93=collection(db,_0x27f2a5(0x1d1)+appId+_0x27f2a5(0x3e8)),_0x3e671c=query(_0x256d93,where(_0x27f2a5(0x5d7),'==',_0x3a3b9b)),_0x10d8a1=await getDocs(_0x3e671c);if(_0x10d8a1['docs']['length']>=0x3){console[_0x27f2a5(0x952)](_0x27f2a5(0x250)+_0x10d8a1[_0x27f2a5(0x72c)][_0x27f2a5(0xa38)]+_0x27f2a5(0x867)+_0x3a3b9b+_0x27f2a5(0x518));let _0x789552=_0x10d8a1['docs']['map'](_0x2ec9f0=>_0x2ec9f0[_0x27f2a5(0xa36)]());shuffleArray(_0x789552);const _0x4be170={'topic':_0x3a3b9b,'questions':_0x789552[_0x27f2a5(0xa66)](0x0,0x3)};displaySkillPracticeDrill(_0x4be170);}else{console[_0x27f2a5(0x952)](_0x27f2a5(0x6a1)+_0x3a3b9b+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x3bc94a=await generatePracticeQuestions(_0x3a3b9b);await saveDrillToPracticeBank(_0x3bc94a,_0x3a3b9b),displaySkillPracticeDrill(_0x3bc94a);}}catch(_0x566075){console[_0x27f2a5(0x62f)](_0x27f2a5(0x912),_0x566075),showMessage(_0x27f2a5(0x355)),studentQuizArea['classList']['add']('hidden'),studentResultArea['classList'][_0x27f2a5(0x7ce)](_0x27f2a5(0x25d));}}async function saveDrillToPracticeBank(_0x576553,_0x4a8ebd){const _0x43b4f3=_0x252b26,_0x2232dc=collection(db,_0x43b4f3(0x1d1)+appId+_0x43b4f3(0x3e8)),_0x44cf36=writeBatch(db);_0x576553['questions']['forEach'](_0x19782f=>{const _0x420646=_0x43b4f3,_0x462dcc=doc(_0x2232dc);_0x44cf36[_0x420646(0x80c)](_0x462dcc,{'topic':_0x4a8ebd,'questionText':_0x19782f[_0x420646(0x15a)],'options':_0x19782f[_0x420646(0xc69)],'correctAnswerIndex':_0x19782f[_0x420646(0x26e)],'explanation':_0x19782f[_0x420646(0xa4b)],'createdAt':serverTimestamp()});});try{await _0x44cf36[_0x43b4f3(0xbb6)](),console[_0x43b4f3(0x952)](_0x43b4f3(0x4b4)+_0x576553[_0x43b4f3(0x692)]['length']+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x33113b){console[_0x43b4f3(0x62f)](_0x43b4f3(0x7b4),_0x33113b);}}async function getStandardizedTopic(_0x4eb4aa){const _0xa5abf6=_0x252b26,_0x5cb5b1=_0xa5abf6(0x22b)+_0x4eb4aa+_0xa5abf6(0x49a),_0x5930f1={'type':_0xa5abf6(0x129),'properties':{'standardTopic':{'type':_0xa5abf6(0xc74)}},'required':[_0xa5abf6(0xae1)]};try{const _0x4325b1=await callAnalysisApi(_0x5cb5b1,_0x5930f1);return _0x4325b1[_0xa5abf6(0xae1)];}catch(_0x32fab5){return console[_0xa5abf6(0x62f)](_0xa5abf6(0xc8c),_0x32fab5),_0x4eb4aa;}}async function handleGenerateEasyVersionQuiz(_0x44e792){const _0x2d3ea3=_0x252b26,_0x4ad12b=document[_0x2d3ea3(0x8d1)](_0x2d3ea3(0x802)),_0x1f019e=document[_0x2d3ea3(0x8d1)](_0x2d3ea3(0xc10));_0x1f019e[_0x2d3ea3(0x1da)][_0x2d3ea3(0x2df)]('hidden');const _0x3fb1aa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4ad12b[_0x2d3ea3(0x540)](_0x2d3ea3(0x414),_0x3fb1aa);try{const _0x510e5d=allQuizzes[_0x2d3ea3(0x269)](_0x40a019=>_0x40a019['id']===_0x44e792);if(!_0x510e5d)throw new Error(_0x2d3ea3(0x8b1));const _0x5ee0c5=_0x2d3ea3(0x836)+JSON[_0x2d3ea3(0x34d)](_0x510e5d[_0x2d3ea3(0x692)])+_0x2d3ea3(0xc25),_0x3ba319={'type':_0x2d3ea3(0x129),'properties':{'questionText':{'type':_0x2d3ea3(0xc74)},'questionType':{'type':_0x2d3ea3(0xc74)},'options':{'type':'ARRAY','items':{'type':_0x2d3ea3(0xc74)}},'correctAnswerIndex':{'type':_0x2d3ea3(0x204)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2d3ea3(0xc74)},'imageCode':{'type':_0x2d3ea3(0xc74)}},'required':[_0x2d3ea3(0x15a),'questionType',_0x2d3ea3(0xa4b)]},_0x251d24={'type':_0x2d3ea3(0x129),'properties':{'questions':{'type':_0x2d3ea3(0x99c),'items':_0x3ba319}},'required':[_0x2d3ea3(0x692)]},_0x297cc2=await callAnalysisApi(_0x5ee0c5,_0x251d24);_0x297cc2&&_0x297cc2[_0x2d3ea3(0x692)]&&_0x297cc2['questions'][_0x2d3ea3(0x236)](_0xc86620=>{const _0x16bfe9=_0x2d3ea3;if(_0xc86620[_0x16bfe9(0x2c9)](_0x16bfe9(0xc33))){const _0x27d765=String(_0xc86620[_0x16bfe9(0xc33)])[_0x16bfe9(0x3cf)]();(_0x27d765===''||_0x27d765[_0x16bfe9(0x478)]()==='null'||!_0x27d765[_0x16bfe9(0x42d)](_0x16bfe9(0x4ba)))&&delete _0xc86620[_0x16bfe9(0xc33)];}});if(!_0x297cc2||!_0x297cc2[_0x2d3ea3(0x692)]||_0x297cc2['questions'][_0x2d3ea3(0xa38)]===0x0)throw new Error(_0x2d3ea3(0x21c));const _0x4102eb=_0x297cc2[_0x2d3ea3(0x692)][_0x2d3ea3(0x625)]((_0x57f0dd,_0x238ee6)=>({..._0x57f0dd,'id':'q_'+Date[_0x2d3ea3(0x4a0)]()+'_'+_0x238ee6})),_0x19d725={'projectId':_0x510e5d[_0x2d3ea3(0x86f)],'quizType':_0x510e5d[_0x2d3ea3(0x81d)],'settings':_0x510e5d[_0x2d3ea3(0x716)],'createdBy':_0x510e5d[_0x2d3ea3(0x60b)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x510e5d[_0x2d3ea3(0x5d7)],'questions':_0x4102eb,'createdAt':new Date()[_0x2d3ea3(0x5e7)](),'quizMode':_0x2d3ea3(0x332),'pairedQuizId':null};let _0x4d0d4b;while(!![]){_0x4d0d4b=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x2d3ea3(0x626)]();const _0x491046=await getDoc(doc(db,_0x2d3ea3(0x1d1)+appId+_0x2d3ea3(0x1a5),_0x4d0d4b));if(!_0x491046['exists']())break;}await setDoc(doc(db,_0x2d3ea3(0x1d1)+appId+_0x2d3ea3(0x1a5),_0x4d0d4b),_0x19d725),showMessage(_0x2d3ea3(0xbf3));}catch(_0x439dee){console[_0x2d3ea3(0x62f)](_0x2d3ea3(0x922),_0x439dee),showMessage('เกิดข้อผิดพลาด:\x20'+_0x439dee[_0x2d3ea3(0xa56)]);}finally{const _0x529c41=document[_0x2d3ea3(0x8d1)]('temp-loader-results');_0x529c41&&_0x529c41['remove'](),_0x1f019e[_0x2d3ea3(0x1da)]['remove'](_0x2d3ea3(0x25d));}}async function generatePracticeQuestions(_0x110f2b){const _0xa0e0f2=_0x252b26,_0x1ced42=_0xa0e0f2(0x7c3)+_0x110f2b+_0xa0e0f2(0xbf9)+simpleMathPrompt+_0xa0e0f2(0x8f1),_0xf6dc36={'type':_0xa0e0f2(0x129),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xa0e0f2(0x99c),'items':{'type':_0xa0e0f2(0xc74)}},'correctAnswerIndex':{'type':_0xa0e0f2(0x204)},'explanation':{'type':_0xa0e0f2(0xc74)}},'required':[_0xa0e0f2(0x15a),_0xa0e0f2(0xc69),'correctAnswerIndex',_0xa0e0f2(0xa4b)]},_0x365a1d={'type':_0xa0e0f2(0x129),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xa0e0f2(0x99c),'items':_0xf6dc36}},'required':[_0xa0e0f2(0x5d7),'questions']};return await callAnalysisApi(_0x1ced42,_0x365a1d);}function displayLessonPlan(_0x5598d2,_0x29e732){const _0x4c046f=_0x252b26,_0x2bbcbc=_0x4c046f(0x4b9)+_0x29e732[_0x4c046f(0x5d7)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x5598d2[_0x4c046f(0x9c1)]['map'](_0x523a23=>_0x4c046f(0x1bd)+_0x523a23+_0x4c046f(0x8cc))[_0x4c046f(0x424)]('')+_0x4c046f(0x8ad)+_0x5598d2[_0x4c046f(0x4fd)]+_0x4c046f(0x7f6)+_0x5598d2[_0x4c046f(0x10e)][_0x4c046f(0x625)](_0xaef74a=>_0x4c046f(0xace)+_0xaef74a[_0x4c046f(0x638)]+_0x4c046f(0x69f)+_0xaef74a['solution']+_0x4c046f(0xba0))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x4c046f(0x8d1)](_0x4c046f(0x8f4))[_0x4c046f(0x5eb)]=_0x4c046f(0xbc7)+_0x29e732[_0x4c046f(0x5d7)],document['getElementById'](_0x4c046f(0x6f4))[_0x4c046f(0x8f6)]=_0x2bbcbc,document['getElementById'](_0x4c046f(0x545))[_0x4c046f(0x1da)][_0x4c046f(0x7ce)](_0x4c046f(0x25d));if(window['MathJax'])MathJax[_0x4c046f(0x422)]();}function displaySkillPracticeDrill(_0x92f29d){const _0xa1124c=_0x252b26;let _0x5bcc9a=0x0;const _0x2d907c=_0x92f29d[_0xa1124c(0x692)],_0x55f2e0=()=>{const _0x3f68b3=_0xa1124c,_0x40eccf=_0x2d907c[_0x5bcc9a],_0x104851=_0x3f68b3(0xc8a)+(_0x5bcc9a+0x1)+_0x3f68b3(0xc0e)+_0x2d907c['length']+_0x3f68b3(0x9fe)+_0x40eccf['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40eccf[_0x3f68b3(0xc69)][_0x3f68b3(0x625)]((_0x4fa4db,_0x6c9268)=>_0x3f68b3(0x2b8)+_0x6c9268+_0x3f68b3(0x9d1)+_0x6c9268+_0x3f68b3(0x397)+_0x6c9268+'\x22>'+_0x4fa4db+_0x3f68b3(0x456))[_0x3f68b3(0x424)]('')+_0x3f68b3(0xacb);studentQuizArea[_0x3f68b3(0x8f6)]=_0x104851;if(window[_0x3f68b3(0x3fa)])MathJax['typesetPromise']([studentQuizArea]);document[_0x3f68b3(0x8d1)](_0x3f68b3(0x9de))[_0x3f68b3(0x2d5)]('click',async()=>{const _0x6d9645=_0x3f68b3,_0x40079f=await getHintForQuestion(_0x40eccf[_0x6d9645(0x15a)]);showMessage(_0x40079f);}),document[_0x3f68b3(0x8d1)](_0x3f68b3(0xa4c))[_0x3f68b3(0x2d5)](_0x3f68b3(0x4d9),()=>{const _0x36c132=_0x3f68b3,_0x387023=document[_0x36c132(0x2b7)](_0x36c132(0x871));if(!_0x387023){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x29fb61=document[_0x36c132(0x8d1)]('drill-feedback'),_0x401c62=parseInt(_0x387023['value'])===_0x40eccf[_0x36c132(0x26e)];_0x401c62?(_0x29fb61['className']=_0x36c132(0x998),_0x29fb61[_0x36c132(0x8f6)]=_0x36c132(0x510)+_0x40eccf[_0x36c132(0xa4b)]):(_0x29fb61[_0x36c132(0x59e)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x29fb61[_0x36c132(0x8f6)]=_0x36c132(0xc2e)+_0x40eccf['explanation']);_0x29fb61[_0x36c132(0x1da)]['remove']('hidden');if(window['MathJax'])MathJax['typesetPromise']([_0x29fb61]);document['getElementById'](_0x36c132(0xa4c))[_0x36c132(0x1da)][_0x36c132(0x2df)](_0x36c132(0x25d)),document[_0x36c132(0x8d1)](_0x36c132(0x9de))[_0x36c132(0x1da)][_0x36c132(0x2df)](_0x36c132(0x25d)),document[_0x36c132(0x8d1)]('next-drill-btn')[_0x36c132(0x1da)][_0x36c132(0x7ce)]('hidden');}),document['getElementById'](_0x3f68b3(0x9d4))[_0x3f68b3(0x2d5)](_0x3f68b3(0x4d9),()=>{const _0x525d06=_0x3f68b3;_0x5bcc9a++,_0x5bcc9a<_0x2d907c[_0x525d06(0xa38)]?_0x55f2e0():(studentQuizArea['innerHTML']=_0x525d06(0x32f),document[_0x525d06(0x8d1)](_0x525d06(0x7de))['addEventListener']('click',()=>{const _0x1647b1=_0x525d06;studentQuizArea['classList'][_0x1647b1(0x2df)](_0x1647b1(0x25d)),studentResultArea['classList'][_0x1647b1(0x7ce)](_0x1647b1(0x25d));}));});};_0x55f2e0();}async function getHintForQuestion(_0xaaefb6){const _0x145e1a=_0x252b26,_0x8e0d38=_0x145e1a(0xb08)+_0xaaefb6+_0x145e1a(0x746),_0x4f3f26={'type':_0x145e1a(0x129),'properties':{'hint':{'type':_0x145e1a(0xc74)}},'required':['hint']};try{const _0x29baf9=await callAnalysisApi(_0x8e0d38,_0x4f3f26);return _0x29baf9[_0x145e1a(0x2bb)];}catch(_0x414441){return console['error'](_0x145e1a(0xaf2),_0x414441),_0x145e1a(0x70b);}}async function extractTextFromPdf(_0x44f044){const _0x596ca1=_0x252b26;pdfjsLib[_0x596ca1(0x5cf)][_0x596ca1(0x344)]=_0x596ca1(0x7ee);const _0x9be845=await _0x44f044[_0x596ca1(0x15c)](),_0x527749=await pdfjsLib[_0x596ca1(0x817)](_0x9be845)[_0x596ca1(0x11c)],_0x1f1c70=_0x527749[_0x596ca1(0x6ea)];let _0x52fbfa='';for(let _0x277713=0x1;_0x277713<=_0x1f1c70;_0x277713++){const _0x9d899f=await _0x527749[_0x596ca1(0x93b)](_0x277713),_0x4e9d0d=await _0x9d899f[_0x596ca1(0xc21)](),_0x2c40bb=_0x4e9d0d[_0x596ca1(0x79c)][_0x596ca1(0x625)](_0xddc3a6=>_0xddc3a6[_0x596ca1(0x1bb)])[_0x596ca1(0x424)]('\x20');_0x52fbfa+=_0x2c40bb+'\x0a\x0a';}return _0x52fbfa;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x430db7){const _0x19920c=_0x252b26,_0x1e1ae9=document[_0x19920c(0x8d1)](_0x19920c(0x902)),_0x2ee644=document[_0x19920c(0x8d1)](_0x19920c(0x24f)),_0x328a98=document['getElementById'](_0x19920c(0x829));_0x1e1ae9['classList'][_0x19920c(0x7ce)](_0x19920c(0x25d)),_0x2ee644[_0x19920c(0x8f6)]=_0x19920c(0xbdf),_0x328a98['classList'][_0x19920c(0x2df)]('hidden');try{const _0x49601b=_0x19920c(0x140)+_0x430db7+_0x19920c(0x660),_0x4ffbb0={'type':_0x19920c(0x129),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x19920c(0x99c),'items':{'type':_0x19920c(0x129),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':'ARRAY','items':{'type':_0x19920c(0x129),'properties':{'topicName':{'type':_0x19920c(0xc74)},'subTopics':{'type':_0x19920c(0x99c),'items':{'type':'STRING'}}},'required':[_0x19920c(0x58e),_0x19920c(0xa42)]}}},'required':[_0x19920c(0x7b7),_0x19920c(0x12c)]}}},'required':[_0x19920c(0x868),'curriculum']},_0x5033a2=await callAnalysisApi(_0x49601b,_0x4ffbb0);if(_0x5033a2&&_0x5033a2['curriculum'])extractedBlueprintData=_0x5033a2,renderBlueprintTopics(_0x5033a2),_0x328a98[_0x19920c(0x1da)][_0x19920c(0x7ce)](_0x19920c(0x25d));else throw new Error(_0x19920c(0x55f));}catch(_0x4aad13){console[_0x19920c(0x62f)](_0x19920c(0x2f2),_0x4aad13),_0x2ee644[_0x19920c(0x8f6)]=_0x19920c(0x406);}}function renderBlueprintTopics(_0x5d18d6){const _0x19c614=_0x252b26,_0x222733=document[_0x19c614(0x8d1)](_0x19c614(0x24f)),_0x30a09b=_0x5d18d6['gradeLevel'],_0x171040=_0x19c614(0x1e2)+_0x30a09b+_0x19c614(0x7fc);let _0x56ffa3='';_0x5d18d6[_0x19c614(0xc5b)][_0x19c614(0x236)](_0x25400d=>{const _0x3d0400=_0x19c614;_0x56ffa3+=_0x3d0400(0x714)+_0x25400d[_0x3d0400(0x7b7)]+'</h4>',_0x25400d['mainTopics']['forEach'](_0x6f76ed=>{const _0x21e676=_0x3d0400;_0x56ffa3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x6f76ed[_0x21e676(0x58e)]+_0x21e676(0x8df),_0x6f76ed[_0x21e676(0xa42)][_0x21e676(0x236)](_0x2da9f9=>{const _0x183912=_0x21e676;_0x56ffa3+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x2da9f9[_0x183912(0x1fb)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x30a09b['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x2da9f9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x2da9f9[_0x183912(0x1fb)](/'/g,'\x5c\x27')+_0x183912(0xb9a);}),_0x56ffa3+=_0x21e676(0x37b);}),_0x56ffa3+=_0x3d0400(0xa8c);}),_0x222733[_0x19c614(0x8f6)]=_0x171040+_0x56ffa3;}async function handleGenerateTeachingContent(_0x54d9cc){const _0x36db33=_0x252b26,_0x14927f=document['getElementById'](_0x36db33(0x545)),_0x190c7f=document[_0x36db33(0x8d1)](_0x36db33(0x6f4));document[_0x36db33(0x8d1)](_0x36db33(0x8f4))[_0x36db33(0x5eb)]=_0x36db33(0x170)+_0x54d9cc,_0x190c7f['innerHTML']=_0x36db33(0x4cb),_0x14927f[_0x36db33(0x1da)][_0x36db33(0x7ce)](_0x36db33(0x25d));try{const _0x4e63f7=_0x36db33(0x724)+_0x54d9cc+_0x36db33(0x363),_0x367cfa={'type':_0x36db33(0x129),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x36db33(0xc74)}},'commonMistakes':{'type':_0x36db33(0x99c),'items':{'type':_0x36db33(0xc74)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x36db33(0x129),'properties':{'question':{'type':_0x36db33(0xc74)},'solution':{'type':_0x36db33(0xc74)}},'required':[_0x36db33(0x638),_0x36db33(0xacc)]}},'teacherTips':{'type':_0x36db33(0x99c),'items':{'type':_0x36db33(0xc74)}}},'required':[_0x36db33(0x5ce),_0x36db33(0xc0d),'stepByStepExamples',_0x36db33(0x78c)]},_0x458d12=await callAnalysisApi(_0x4e63f7,_0x367cfa);displayTeachingContent(_0x458d12,_0x54d9cc);}catch(_0x44d3b5){console[_0x36db33(0x62f)](_0x36db33(0x6e8),_0x44d3b5),_0x190c7f['innerHTML']=_0x36db33(0x3b2)+_0x44d3b5[_0x36db33(0xa56)]+_0x36db33(0xbb8);}}function displayTeachingContent(_0x1e83e9,_0x54ee6a){const _0x2f704d=_0x252b26,_0x158a84=document[_0x2f704d(0x8d1)]('lesson-plan-content');document['getElementById'](_0x2f704d(0x8f4))[_0x2f704d(0x5eb)]=_0x2f704d(0x3fd)+_0x54ee6a;const _0x2d56df=_0x2f704d(0x35b)+_0x1e83e9[_0x2f704d(0x5ce)][_0x2f704d(0x625)](_0x51c746=>_0x2f704d(0x1bd)+_0x51c746+'</li>')[_0x2f704d(0x424)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1e83e9[_0x2f704d(0xc0d)][_0x2f704d(0x625)](_0x26ea7=>'<li>'+_0x26ea7+_0x2f704d(0x8cc))[_0x2f704d(0x424)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x1e83e9[_0x2f704d(0x661)][_0x2f704d(0x625)](_0x1ea74f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x1ea74f[_0x2f704d(0x638)]+_0x2f704d(0x977)+_0x1ea74f[_0x2f704d(0xacc)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x2f704d(0x965)+_0x1e83e9['teacherTips'][_0x2f704d(0x625)](_0x99a9b4=>'<li>'+_0x99a9b4+_0x2f704d(0x8cc))[_0x2f704d(0x424)]('')+_0x2f704d(0x559);_0x158a84['innerHTML']=_0x2d56df;if(window[_0x2f704d(0x3fa)])MathJax[_0x2f704d(0x422)]([_0x158a84]);}async function generateQuizForSingleTopic(_0x5104d5){const _0x1111ed=_0x252b26;console['log']('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x5104d5+'\x22');const _0x1be56a=document['getElementById'](_0x1111ed(0x825)),_0x16c888=_0x1be56a[_0x1111ed(0x498)][_0x1111ed(0xa38)]>0x0?_0x1be56a[_0x1111ed(0x498)][0x0]:null;let _0x5342cc=null;if(_0x16c888)try{const _0x3099a3=new FileReader();_0x3099a3['readAsDataURL'](_0x16c888);const _0x20f09a=await new Promise((_0x2699d1,_0x542791)=>{const _0x12e7da=_0x1111ed;_0x3099a3['onload']=()=>_0x2699d1(_0x3099a3[_0x12e7da(0xb8b)]['split'](',')[0x1]),_0x3099a3[_0x12e7da(0x245)]=_0x2d2eb9=>_0x542791(_0x2d2eb9);});_0x5342cc=[{'inlineData':{'mimeType':_0x16c888['type'],'data':_0x20f09a}}];}catch(_0x3b079b){console['error']('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x3b079b),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x5104d5,null,null,_0x5342cc,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x5f04dd=null){const _0xb5625b=_0x252b26,_0x3685a2=document[_0xb5625b(0x8d1)](_0xb5625b(0x67c)),_0x17cfdd=document['getElementById'](_0xb5625b(0x773));let _0x4362f3;if(_0x5f04dd)_0x4362f3=_0x5f04dd;else{const _0x4b4f47=document['getElementById'](_0xb5625b(0x507)),_0x505d0c=_0x4b4f47[_0xb5625b(0x498)][0x0];if(!_0x505d0c){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x17cfdd['textContent']=_0xb5625b(0x450);const _0x25da3a=await new Promise((_0x564aff,_0x122795)=>{const _0x2b170f=_0xb5625b,_0xc2db6b=new FileReader();_0xc2db6b['readAsDataURL'](_0x505d0c),_0xc2db6b['onload']=()=>_0x564aff(_0xc2db6b['result'][_0x2b170f(0x787)](',')[0x1]),_0xc2db6b[_0x2b170f(0x245)]=_0x122795;});_0x4362f3=[{'text':_0xb5625b(0x39a)},{'inlineData':{'mimeType':_0x505d0c[_0xb5625b(0x238)],'data':_0x25da3a}}];}const _0xf90657='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20',_0x3661e9=_0xb5625b(0xba4),_0x4de5b1=_0xb5625b(0xb81),_0x3174bf={'type':'OBJECT','properties':{'questionText':{'type':_0xb5625b(0xc74)},'questionType':{'type':_0xb5625b(0xc74),'enum':[_0xb5625b(0x27f),_0xb5625b(0xb86),_0xb5625b(0x51c),_0xb5625b(0x711)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xb5625b(0x204)},'idealAnswer':{'type':_0xb5625b(0xc74)},'correctAnswer':{'type':_0xb5625b(0x318)},'explanation':{'type':_0xb5625b(0xc74)},'imageCode':{'type':'STRING'}},'required':[_0xb5625b(0x3ae),_0xb5625b(0xa4b)]},_0x3e8efd={'type':'OBJECT','properties':{'topic':{'type':_0xb5625b(0xc74)},'questions':{'type':_0xb5625b(0x99c),'items':_0x3174bf}},'required':[_0xb5625b(0x5d7),_0xb5625b(0x692)]};_0x4362f3[0x0][_0xb5625b(0xaac)]=_0x4de5b1,await handleApiCall(_0x4362f3,_0xb5625b(0x192),_0x3e8efd);}function proceedToNextQuestion(_0x55b54e){const _0x92a8d2=_0x252b26;studentAnswersPerQuestion['push'](_0x55b54e),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x92a8d2(0x692)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x2c1173,_0x884a5a){const _0x5449e0=_0x252b26,_0x388c2d=Object[_0x5449e0(0x591)](_0x2c1173[_0x5449e0(0x713)]||{}),_0x25790b=_0x388c2d['length'],_0x1468a6=[..._0x388c2d][_0x5449e0(0x910)]((_0x1d87ea,_0x1cedfc)=>_0x1cedfc[_0x5449e0(0x3a4)]-_0x1d87ea[_0x5449e0(0x3a4)]),_0x178b04=_0x2c1173[_0x5449e0(0x41d)];let _0x5e8337='';const _0x2232d9=_0x2c1173['shuffledQuiz']['questions'],_0x1c0a87=_0x2232d9[_0x178b04],_0x2021ea=_0x3a5589=>String[_0x5449e0(0x7a3)](0x41+_0x3a5589);let _0x147eef='',_0x1f5843='';if(_0x1c0a87){const _0x21888c=_0x1c0a87['questionType']||_0x2c1173[_0x5449e0(0x90c)]['quizType'];if(_0x21888c==='multiple_choice'&&_0x1c0a87[_0x5449e0(0xc69)]&&_0x1c0a87['correctAnswerIndex']!==undefined){const _0x4dbbf4=_0x1c0a87['correctAnswerIndex'];_0x147eef=_0x1c0a87[_0x5449e0(0xc69)][_0x4dbbf4],_0x1f5843=_0x2021ea(_0x4dbbf4)+'.';}else{if(_0x21888c===_0x5449e0(0x51c)){const _0x3804fd=_0x1c0a87[_0x5449e0(0x67b)]===!![]||String(_0x1c0a87[_0x5449e0(0x67b)])['toLowerCase']()===_0x5449e0(0x7c4);_0x3804fd?(_0x147eef=_0x5449e0(0x113),_0x1f5843='ก.'):(_0x147eef=_0x5449e0(0x578),_0x1f5843='ข.');}else{if(_0x21888c==='matching_item')_0x147eef=_0x1c0a87[_0x5449e0(0xb28)]||'-',_0x1f5843='';else _0x21888c===_0x5449e0(0xb86)&&(_0x147eef=_0x1c0a87[_0x5449e0(0xaef)]||'-',_0x1f5843='');}}}_0x147eef&&(_0x5e8337=_0x5449e0(0x28f)+(_0x178b04+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x1f5843+'\x20'+_0x147eef+_0x5449e0(0x4a9));const _0x91ef44=_0x1468a6[_0x5449e0(0x625)](_0x2a9191=>{const _0x10d8f7=_0x5449e0;let _0x249240=![];if(_0x2a9191['answers']&&_0x178b04!==-0x1){const _0x2940a1=_0x2a9191['answers']['find'](_0x4b5247=>_0x4b5247[_0x10d8f7(0x30d)]===_0x178b04);_0x2940a1&&_0x2940a1[_0x10d8f7(0x282)]&&(_0x249240=!![]);}const _0x484da7=_0x249240?_0x10d8f7(0x1d8):'bg-black/20';return _0x10d8f7(0x75c)+_0x484da7+_0x10d8f7(0x183)+_0x2a9191[_0x10d8f7(0x2c6)]+_0x10d8f7(0x6cc)+_0x2a9191['score']+_0x10d8f7(0x9ec);})[_0x5449e0(0x424)](''),_0x556068=_0x2232d9[_0x5449e0(0x625)]((_0x30d710,_0x46bf79)=>{const _0x596406=_0x5449e0,_0x1658d1=_0x388c2d[_0x596406(0x6de)](_0x37d608=>_0x37d608[_0x596406(0xa3d)]&&_0x37d608['answers'][_0x596406(0x269)](_0x14192d=>_0x14192d[_0x596406(0x30d)]===_0x46bf79&&_0x14192d[_0x596406(0x282)]))['length'],_0x55115b=_0x46bf79===_0x178b04,_0x3bb8f0=_0x55115b?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':'p-2\x20bg-black/10\x20rounded-md';return _0x596406(0x111)+_0x3bb8f0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x46bf79+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x1658d1+'\x20/\x20'+_0x25790b+_0x596406(0xac0);})[_0x5449e0(0x424)]('');let _0x12e8cb='',_0x4dbb0c='';if(_0x884a5a){const _0x14a699=_0x2c1173[_0x5449e0(0x41d)]>=_0x2232d9[_0x5449e0(0xa38)]-0x1;_0x12e8cb=_0x5449e0(0x7a2)+(_0x14a699?_0x5449e0(0x846):_0x5449e0(0x38f))+_0x5449e0(0x8b5),_0x4dbb0c=_0x5449e0(0x52c);}const _0x11b092=_0x5449e0(0x9f2)+_0x2c1173[_0x5449e0(0x90c)][_0x5449e0(0x5d7)]+_0x5449e0(0x613)+_0x4dbb0c+_0x5449e0(0x81f)+_0x5e8337+_0x5449e0(0x93a)+(_0x91ef44||_0x5449e0(0x4c6))+_0x5449e0(0x913)+_0x556068+_0x5449e0(0x4e2)+(_0x884a5a?_0x5449e0(0xa31)+_0x12e8cb+'</div>':'')+_0x5449e0(0x27a);liveGameView[_0x5449e0(0x8f6)]=_0x11b092;if(window['MathJax']){const _0x241e32=document[_0x5449e0(0x8d1)](_0x5449e0(0x198));_0x241e32&&MathJax[_0x5449e0(0x422)]([_0x241e32]);}if(_0x884a5a){document[_0x5449e0(0x8d1)](_0x5449e0(0x177))['onclick']=async()=>{const _0x238136=_0x5449e0,_0x5aca17=doc(db,_0x238136(0x1d1)+appId+'/public/data/syncGames',currentLiveGameId),_0x155d49=_0x2c1173[_0x238136(0x41d)]+0x1;if(_0x155d49<_0x2232d9['length']){const _0xf13c58={};Object[_0x238136(0x529)](_0x2c1173[_0x238136(0x713)])[_0x238136(0x236)](_0x1991f5=>{const _0x28d3c5=_0x238136;_0xf13c58[_0x28d3c5(0xac9)+_0x1991f5+_0x28d3c5(0xa1d)]=![],_0xf13c58[_0x28d3c5(0xac9)+_0x1991f5+'.lastAnswerIndex']=null;}),await updateDoc(_0x5aca17,{..._0xf13c58,'status':_0x238136(0x638),'currentQuestionIndex':_0x155d49,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5aca17,{'status':_0x238136(0xc73)});};const _0x2de563=document['getElementById']('end-sync-game-btn');_0x2de563&&(_0x2de563[_0x5449e0(0xa67)]=()=>{const _0x48e53d=_0x5449e0;showConfirmation(_0x48e53d(0x905),async()=>{const _0x294b6d=_0x48e53d,_0x476779=doc(db,_0x294b6d(0x1d1)+appId+_0x294b6d(0xad4),currentLiveGameId);await updateDoc(_0x476779,{'status':_0x294b6d(0xc73)});});});}}async function handleGenerateParallelFromBank(_0x3f6428){const _0x2441ca=_0x252b26,_0x54ae5d=document[_0x2441ca(0x8d1)](_0x2441ca(0x802)),_0x2423a7=document[_0x2441ca(0x8d1)](_0x2441ca(0xc10));_0x2423a7[_0x2441ca(0x1da)][_0x2441ca(0x2df)](_0x2441ca(0x25d));const _0x2f2691=_0x2441ca(0x7ff)+_0x3f6428[_0x2441ca(0x5d7)]+_0x2441ca(0x80a);_0x54ae5d['insertAdjacentHTML'](_0x2441ca(0x414),_0x2f2691);const _0xa1469=document[_0x2441ca(0x8d1)]('temp-loader-text-results');try{const _0x53dee9=_0x3f6428['questions'][_0x2441ca(0x625)]((_0xe64efb,_0x96d784)=>{const _0x1f3bc6=_0x2441ca;let _0x197a77=_0x96d784+0x1+'.\x20'+(_0xe64efb[_0x1f3bc6(0x15a)]||_0xe64efb[_0x1f3bc6(0x503)])+'\x0a';if(_0xe64efb[_0x1f3bc6(0xc69)])_0x197a77+=_0xe64efb['options'][_0x1f3bc6(0x625)]((_0x4f7d05,_0x1f79c3)=>_0x1f3bc6(0xb89)+(_0x1f79c3===_0xe64efb['correctAnswerIndex']?_0x1f3bc6(0x2f9):'')+'\x20'+_0x4f7d05)['join']('\x0a');else _0xe64efb[_0x1f3bc6(0xaef)]&&(_0x197a77+='\x20\x20\x20-\x20คำตอบ:\x20'+_0xe64efb['idealAnswer']);return _0x197a77;})[_0x2441ca(0x424)]('\x0a\x0a');_0xa1469[_0x2441ca(0x5eb)]=_0x2441ca(0x93c);const _0x4d96b0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x3f6428[_0x2441ca(0x5d7)]+_0x2441ca(0xbb1)+_0x53dee9+_0x2441ca(0xa06)+simpleMathPrompt+_0x2441ca(0xbcf),_0x584cd2={'type':_0x2441ca(0x129),'properties':{'questionText':{'type':_0x2441ca(0xc74)},'questionType':{'type':_0x2441ca(0xc74),'enum':['multiple_choice','short_answer','true_false','matching_item']},'options':{'type':'ARRAY','items':{'type':_0x2441ca(0xc74)}},'correctAnswerIndex':{'type':_0x2441ca(0x204)},'idealAnswer':{'type':_0x2441ca(0xc74)},'correctAnswer':{'type':_0x2441ca(0x318)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2441ca(0xc74)},'allResponses':{'type':'ARRAY','items':{'type':_0x2441ca(0xc74)}},'explanation':{'type':_0x2441ca(0xc74)},'imageCode':{'type':_0x2441ca(0xc74)}},'required':[_0x2441ca(0x3ae),_0x2441ca(0xa4b)]},_0x5c0ccb={'type':_0x2441ca(0x129),'properties':{'topic':{'type':_0x2441ca(0xc74)},'questions':{'type':_0x2441ca(0x99c),'items':_0x584cd2}},'required':[_0x2441ca(0x5d7),_0x2441ca(0x692)]},_0x4744ba=await callAnalysisApi(_0x4d96b0,_0x5c0ccb),_0x4c9452=_0x4744ba['questions']['map']((_0x20e608,_0xbbac0d)=>({..._0x20e608,'id':'q_'+Date[_0x2441ca(0x4a0)]()+'_'+_0xbbac0d})),_0xedaf39=_0x2441ca(0xa61)+_0x3f6428['topic'],_0x4a9e7c={'topic':_0xedaf39,'questions':_0x4c9452,'quizType':_0x3f6428[_0x2441ca(0x81d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2441ca(0x5e7)](),'status':'active','settings':_0x3f6428[_0x2441ca(0x716)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x271bb3;while(!![]){_0x271bb3=Math[_0x2441ca(0xb79)](0x3e8+Math[_0x2441ca(0x782)]()*0x2328)[_0x2441ca(0x626)]();const _0x85900c=await getDoc(doc(db,_0x2441ca(0x1d1)+appId+_0x2441ca(0x1a5),_0x271bb3));if(!_0x85900c[_0x2441ca(0xbfd)]())break;}await setDoc(doc(db,_0x2441ca(0x1d1)+appId+_0x2441ca(0x1a5),_0x271bb3),_0x4a9e7c),showMessage(_0x2441ca(0x262));}catch(_0x1f0ddd){console['error'](_0x2441ca(0x669),_0x1f0ddd),showMessage(_0x2441ca(0x900)+_0x1f0ddd['message']);}finally{const _0xc4f3f8=document[_0x2441ca(0x8d1)]('temp-loader-results');_0xc4f3f8&&_0xc4f3f8[_0x2441ca(0x7ce)](),_0x2423a7['classList'][_0x2441ca(0x7ce)]('hidden');}}async function handleGenerateParallelPostTest(_0x2872b1){const _0x46503a=_0x252b26,_0x299b8c=document[_0x46503a(0x8d1)](_0x46503a(0x802)),_0x15399f=document[_0x46503a(0x8d1)](_0x46503a(0xc10));_0x15399f[_0x46503a(0x1da)][_0x46503a(0x2df)]('hidden');const _0xdf0119='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x299b8c[_0x46503a(0x540)]('beforeend',_0xdf0119);try{const _0xd9167f=_0x2872b1['questions']['map']((_0x117a57,_0x32bc64)=>{const _0x44b597=_0x46503a;let _0x39968d=_0x32bc64+0x1+'.\x20'+(_0x117a57['questionText']||_0x117a57[_0x44b597(0x503)]);if(_0x117a57[_0x44b597(0xc69)])_0x39968d+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x117a57[_0x44b597(0xc69)][_0x44b597(0x424)](',\x20');return _0x39968d;})[_0x46503a(0x424)]('\x0a\x0a'),_0x3c2c20=_0x46503a(0x472)+_0x2872b1['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd9167f+_0x46503a(0x1e5)+simpleMathPrompt+_0x46503a(0xbcf),_0x12c503={'type':_0x46503a(0x129),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x46503a(0x99c),'items':{'type':_0x46503a(0x129),'properties':{'questionText':{'type':_0x46503a(0xc74)},'questionType':{'type':'STRING'},'options':{'type':_0x46503a(0x99c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x46503a(0x204)},'idealAnswer':{'type':_0x46503a(0xc74)},'explanation':{'type':_0x46503a(0xc74)}},'required':['questionText',_0x46503a(0xa4b)]}}},'required':[_0x46503a(0x5d7),_0x46503a(0x692)]},_0x374c6a=await callAnalysisApi(_0x3c2c20,_0x12c503),_0x4b14ae=_0x2872b1[_0x46503a(0x5d7)][_0x46503a(0x1fb)](_0x46503a(0x2ed),'')[_0x46503a(0x3cf)](),_0x225685=_0x46503a(0xb07)+_0x4b14ae,_0x430ca3={..._0x374c6a,'topic':_0x225685,'quizType':_0x2872b1[_0x46503a(0x81d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x46503a(0xa19),'settings':_0x2872b1[_0x46503a(0x716)],'quizMode':_0x46503a(0x575),'pairedQuizId':_0x2872b1['id']};let _0x33ca5f;while(!![]){_0x33ca5f=Math[_0x46503a(0xb79)](0x3e8+Math[_0x46503a(0x782)]()*0x2328)[_0x46503a(0x626)]();const _0x346d89=await getDoc(doc(db,'artifacts/'+appId+_0x46503a(0x1a5),_0x33ca5f));if(!_0x346d89[_0x46503a(0xbfd)]())break;}await setDoc(doc(db,_0x46503a(0x1d1)+appId+_0x46503a(0x1a5),_0x33ca5f),_0x430ca3);const _0x1a64b0=doc(db,'artifacts/'+appId+_0x46503a(0x1a5),_0x2872b1['id']);await updateDoc(_0x1a64b0,{'pairedQuizId':_0x33ca5f}),showMessage(_0x46503a(0xa6e));}catch(_0x8e25d0){console[_0x46503a(0x62f)]('Error\x20generating\x20parallel\x20post-test:',_0x8e25d0),showMessage('เกิดข้อผิดพลาด:\x20'+_0x8e25d0[_0x46503a(0xa56)]);}finally{const _0x4d5a96=document[_0x46503a(0x8d1)](_0x46503a(0x2ff));if(_0x4d5a96)_0x4d5a96[_0x46503a(0x7ce)]();_0x15399f[_0x46503a(0x1da)][_0x46503a(0x7ce)](_0x46503a(0x25d));}}async function handleGenerateParallelTest(_0x3222fc=null){const _0x3a46b8=_0x252b26;let _0x17129e=_0x3222fc;if(!_0x17129e){const _0x17ed13=document['getElementById'](_0x3a46b8(0xb5d));_0x17ed13['files'][_0x3a46b8(0xa38)]>0x0&&(_0x17129e=_0x17ed13[_0x3a46b8(0x498)][0x0]);}if(!_0x17129e){showMessage(_0x3a46b8(0xbaa));return;}const _0x44bf47=document[_0x3a46b8(0x8d1)](_0x3a46b8(0x67c)),_0x15e666=document[_0x3a46b8(0x8d1)]('loader-text'),_0x401f21=document[_0x3a46b8(0x8d1)](_0x3a46b8(0x538)),_0x42bc14=document[_0x3a46b8(0x8d1)]('generate-from-parallel-test-btn');_0x42bc14['disabled']=!![],document[_0x3a46b8(0x8d1)](_0x3a46b8(0x3a3))[_0x3a46b8(0x1da)]['remove'](_0x3a46b8(0x25d)),_0x401f21[_0x3a46b8(0x8f6)]='',_0x44bf47['classList']['remove'](_0x3a46b8(0x25d)),_0x15e666[_0x3a46b8(0x5eb)]=_0x3a46b8(0x379);const _0x417f80=new FileReader();_0x417f80[_0x3a46b8(0x130)](_0x17129e),_0x417f80['onload']=async()=>{const _0x56e913=_0x3a46b8;try{const _0x31b9de=_0x417f80[_0x56e913(0xb8b)]['split'](',')[0x1],_0x472df4=_0x17129e[_0x56e913(0x238)];_0x15e666[_0x56e913(0x5eb)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1607d1=document[_0x56e913(0x8d1)](_0x56e913(0x228))[_0x56e913(0x22d)],_0x2b6b19=_0x1607d1?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x16e0dd=_0x56e913(0x261),_0x59621c={'type':_0x56e913(0x129),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x56e913(0xc74),'enum':[_0x56e913(0x27f),_0x56e913(0xb86)]},'options':{'type':_0x56e913(0x99c),'items':{'type':_0x56e913(0xc74)}},'correctAnswerIndex':{'type':_0x56e913(0x204)},'idealAnswer':{'type':_0x56e913(0xc74)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x56e913(0x15a),'questionType',_0x56e913(0xa4b)]},_0x1acf6b={'type':'OBJECT','properties':{'topic':{'type':_0x56e913(0xc74)},'questions':{'type':_0x56e913(0x99c),'items':_0x59621c}},'required':[_0x56e913(0x5d7),'questions']},_0x2561c7=[{'text':_0x16e0dd},{'inlineData':{'mimeType':_0x472df4,'data':_0x31b9de}}];await handleApiCall(_0x2561c7,_0x56e913(0xc96),_0x1acf6b);}catch(_0x4e4ef8){console[_0x56e913(0x62f)](_0x56e913(0x69c),_0x4e4ef8),showMessage(_0x56e913(0x900)+_0x4e4ef8['message']),_0x401f21[_0x56e913(0x8f6)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x44bf47['classList'][_0x56e913(0x2df)]('hidden'),_0x42bc14[_0x56e913(0x7dc)]=![];}},_0x417f80[_0x3a46b8(0x245)]=_0x9e3b6f=>{const _0x5964f2=_0x3a46b8;console[_0x5964f2(0x62f)](_0x5964f2(0x9ae),_0x9e3b6f),showMessage(_0x5964f2(0x791)),_0x44bf47[_0x5964f2(0x1da)][_0x5964f2(0x2df)]('hidden'),_0x42bc14[_0x5964f2(0x7dc)]=![];};}async function handleRegenerateQuestionInEditor(_0x46eff5){const _0x66c794=_0x252b26;if(currentEditingQuizData===null)return;const _0x2fc7bf=document[_0x66c794(0x2b7)](_0x66c794(0x513)+_0x46eff5+'\x22]');_0x2fc7bf&&(_0x2fc7bf[_0x66c794(0x8f6)]=_0x66c794(0x2f0));const _0x4e7b1d=currentEditingQuizData[_0x66c794(0x692)][_0x46eff5],_0x39d309=currentEditingQuizData[_0x66c794(0x5d7)],_0x2dc2ca=_0x4e7b1d[_0x66c794(0x3ae)],_0x303afd={'type':_0x66c794(0x129),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x66c794(0x99c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x66c794(0xc74)}},'required':[_0x66c794(0x15a),_0x66c794(0xc69),_0x66c794(0x26e),_0x66c794(0xa4b)]},_0x3d0a7a={'type':_0x66c794(0x129),'properties':{'questionText':{'type':_0x66c794(0xc74)},'idealAnswer':{'type':_0x66c794(0xc74)},'explanation':{'type':_0x66c794(0xc74)}},'required':[_0x66c794(0x15a),_0x66c794(0xaef),_0x66c794(0xa4b)]};let _0x2846bb,_0x284c3b='';_0x2dc2ca===_0x66c794(0x27f)?(_0x2846bb=_0x303afd,_0x284c3b=_0x66c794(0x309)):(_0x2846bb=_0x3d0a7a,_0x284c3b=_0x66c794(0xa18));const _0x147b60=_0x66c794(0xb97)+_0x39d309+_0x66c794(0x1ad)+_0x284c3b+_0x66c794(0x67d)+(_0x4e7b1d['questionText']||_0x4e7b1d[_0x66c794(0x503)])+_0x66c794(0x1f9)+simpleMathPrompt;try{const _0xd5a699=await callAnalysisApi(_0x147b60,_0x2846bb);currentEditingQuizData[_0x66c794(0x692)][_0x46eff5]={..._0x4e7b1d,..._0xd5a699},renderQuizEditor(currentEditingQuizData);}catch(_0x21ee90){console[_0x66c794(0x62f)](_0x66c794(0x9b8),_0x21ee90),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x58e782=_0x252b26,_0x1e857f=document['getElementById'](_0x58e782(0xb60));currentMode==='student'?(currentMode=_0x58e782(0x53c),_0x1e857f['innerHTML']=_0x58e782(0x592),_0x1e857f[_0x58e782(0xc57)]='สลับไปโหมดนักเรียน',showView('admin-dashboard')):(currentMode=_0x58e782(0x7b8),_0x1e857f['innerHTML']=_0x58e782(0x8d8),_0x1e857f[_0x58e782(0xc57)]=_0x58e782(0x9cd),showView(_0x58e782(0x7b8)));}function handleAdminLogin(){const _0x349173=_0x252b26,_0x3004c1=document['getElementById'](_0x349173(0xa95)),_0x47dd64=document['getElementById'](_0x349173(0x445));if(_0x3004c1[_0x349173(0x64c)]===_0x349173(0x72d)){adminPasswordModal[_0x349173(0x1da)][_0x349173(0x2df)]('hidden'),_0x3004c1[_0x349173(0x64c)]='',_0x47dd64[_0x349173(0x1da)][_0x349173(0x2df)]('hidden'),currentMode=_0x349173(0x53c);const _0x2708fb=document['getElementById']('mode-switcher-btn');_0x2708fb[_0x349173(0x8f6)]=_0x349173(0x592),_0x2708fb[_0x349173(0xc57)]=_0x349173(0x13f),showView(_0x349173(0x9f6));}else _0x47dd64[_0x349173(0x1da)][_0x349173(0x7ce)]('hidden'),_0x3004c1['value']='';}function switchProjectTab(_0x240191){const _0x53c5fa=_0x252b26;[_0x53c5fa(0x687),_0x53c5fa(0x98c),_0x53c5fa(0x754)][_0x53c5fa(0x236)](_0x1675cc=>{const _0x48abda=_0x53c5fa;document[_0x48abda(0x8d1)](_0x1675cc+'-tab')['classList'][_0x48abda(0x7ce)](_0x48abda(0xa19)),document[_0x48abda(0x8d1)](_0x1675cc+_0x48abda(0x476))[_0x48abda(0x1da)][_0x48abda(0x2df)]('hidden');}),document[_0x53c5fa(0x8d1)](_0x240191+_0x53c5fa(0x55b))[_0x53c5fa(0x1da)][_0x53c5fa(0x2df)](_0x53c5fa(0xa19)),document[_0x53c5fa(0x8d1)](_0x240191+_0x53c5fa(0x476))[_0x53c5fa(0x1da)][_0x53c5fa(0x7ce)](_0x53c5fa(0x25d));}function switchQuizDetailTab(_0x190f56){const _0x27c1fa=_0x252b26,_0x15bdf3={'analytics':{'btn':_0x27c1fa(0x2ca),'content':_0x27c1fa(0x63d)},'scores':{'btn':_0x27c1fa(0x79d),'content':_0x27c1fa(0x1bc)},'leaderboard-quiz':{'btn':_0x27c1fa(0xb18),'content':_0x27c1fa(0x247)},'behavior-log':{'btn':_0x27c1fa(0x6b8),'content':'behavior-log-tab-content'}};for(const _0x3f5725 in _0x15bdf3){document[_0x27c1fa(0x8d1)](_0x15bdf3[_0x3f5725][_0x27c1fa(0xaeb)])[_0x27c1fa(0x1da)]['remove'](_0x27c1fa(0xa19)),document['getElementById'](_0x15bdf3[_0x3f5725][_0x27c1fa(0x5c8)])['classList'][_0x27c1fa(0x2df)]('hidden');}document[_0x27c1fa(0x8d1)](_0x15bdf3[_0x190f56][_0x27c1fa(0xaeb)])[_0x27c1fa(0x1da)]['add'](_0x27c1fa(0xa19)),document[_0x27c1fa(0x8d1)](_0x15bdf3[_0x190f56][_0x27c1fa(0x5c8)])[_0x27c1fa(0x1da)]['remove']('hidden');}function showMessage(_0x1ae494,_0x2a4292=null){const _0x336eff=_0x252b26;modalMessage[_0x336eff(0x5eb)]=_0x1ae494,modalConfirmAction=_0x2a4292,messageModal['classList']['remove'](_0x336eff(0x25d));}function showConfirmation(_0x4cff98,_0x36ae3e){const _0x321ac9=_0x252b26;document[_0x321ac9(0x8d1)](_0x321ac9(0x3f4))[_0x321ac9(0x5eb)]=_0x4cff98,document[_0x321ac9(0x8d1)](_0x321ac9(0x6a9))[_0x321ac9(0x2b7)]('h3')[_0x321ac9(0x5eb)]=_0x321ac9(0x134),confirmAction=_0x36ae3e,confirmationModal[_0x321ac9(0x1da)][_0x321ac9(0x7ce)](_0x321ac9(0x25d));}function listenForProjects(){const _0x4e6c34=_0x252b26,_0x523b8e=doc(db,_0x4e6c34(0x378),_0x4e6c34(0x29e));onSnapshot(_0x523b8e,_0x5ec2ea=>{const _0x1d1de7=_0x4e6c34;if(_0x5ec2ea[_0x1d1de7(0xbfd)]()){const _0x275f47=_0x5ec2ea[_0x1d1de7(0xa36)]();globalDashboardSettings[_0x1d1de7(0x398)]=_0x275f47[_0x1d1de7(0x398)]||'date_desc',globalDashboardSettings['pinnedProjects']=_0x275f47[_0x1d1de7(0x693)]||[],globalDashboardSettings[_0x1d1de7(0xa30)]=_0x275f47[_0x1d1de7(0xa30)]||[];}allProjects[_0x1d1de7(0xa38)]>0x0&&renderProjects();});const _0x1820f5=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x1820f5,_0x7e5443=>{const _0x72a189=_0x4e6c34;allProjects=_0x7e5443[_0x72a189(0x72c)][_0x72a189(0x625)](_0x4a8617=>({'id':_0x4a8617['id'],..._0x4a8617[_0x72a189(0xa36)]()})),renderProjects();},_0x3de6d1=>{const _0x3537f8=_0x4e6c34;console[_0x3537f8(0x62f)](_0x3537f8(0x11b),_0x3de6d1),showMessage(_0x3537f8(0x46b));});}function showColorPalette(_0x4095f9,_0x3454b2){const _0x1c9427=_0x252b26;document['querySelectorAll'](_0x1c9427(0x865))[_0x1c9427(0x236)](_0x5f2901=>_0x5f2901['remove']());const _0x376b40=[_0x1c9427(0x658),'#FEE2E2',_0x1c9427(0x392),_0x1c9427(0x831),_0x1c9427(0x87a),_0x1c9427(0x6d2),_0x1c9427(0x1a0),_0x1c9427(0x2a3),_0x1c9427(0x371)],_0x31637d=document[_0x1c9427(0x504)](_0x1c9427(0xab7));_0x31637d[_0x1c9427(0x59e)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x376b40[_0x1c9427(0x236)](_0x4e1038=>{const _0x5c470b=_0x1c9427,_0x29bb12=document[_0x5c470b(0x504)]('div');_0x29bb12['className']=_0x5c470b(0xb7e),_0x29bb12[_0x5c470b(0x8b2)]['backgroundColor']=_0x4e1038,_0x29bb12[_0x5c470b(0x2d5)](_0x5c470b(0x4d9),()=>{handleProjectColorChange(_0x3454b2,_0x4e1038),_0x31637d['remove']();}),_0x31637d[_0x5c470b(0x726)](_0x29bb12);}),document[_0x1c9427(0x816)][_0x1c9427(0x726)](_0x31637d);const _0x179e73=_0x4095f9[_0x1c9427(0xc5c)]();_0x31637d['style']['top']=_0x179e73['bottom']+window[_0x1c9427(0x876)]+'px',_0x31637d[_0x1c9427(0x8b2)][_0x1c9427(0xbf7)]=_0x179e73['left']+window[_0x1c9427(0x6d7)]-_0x31637d[_0x1c9427(0x519)]/0x2+'px';}async function handleProjectColorChange(_0x2b316b,_0x3de64f){const _0x3e4750=_0x252b26,_0x37a791=doc(db,'artifacts/'+appId+_0x3e4750(0x301),_0x2b316b);try{await updateDoc(_0x37a791,{'color':_0x3de64f});}catch(_0x3008fd){console[_0x3e4750(0x62f)](_0x3e4750(0x665),_0x3008fd),showMessage(_0x3e4750(0x7c2));}}async function renderProjects(){const _0x3b4f7c=_0x252b26,_0x5c0a47=globalDashboardSettings[_0x3b4f7c(0x398)]||'date_desc',_0x17b337=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x4eeb47=globalDashboardSettings[_0x3b4f7c(0x21b)]||'grid',_0x305383=document[_0x3b4f7c(0x8d1)](_0x3b4f7c(0x90f)),_0x589edc=document['getElementById'](_0x3b4f7c(0x20a));_0x305383[_0x3b4f7c(0x1da)][_0x3b4f7c(0x3a0)](_0x3b4f7c(0xa19),_0x4eeb47==='grid'),_0x589edc[_0x3b4f7c(0x1da)]['toggle'](_0x3b4f7c(0xa19),_0x4eeb47===_0x3b4f7c(0x3d3)),document[_0x3b4f7c(0x8d1)](_0x3b4f7c(0x68d))['value']=_0x5c0a47;const _0x30b1a1=document[_0x3b4f7c(0x8d1)](_0x3b4f7c(0x2ab))[_0x3b4f7c(0x64c)][_0x3b4f7c(0x478)]();let _0x1e7830=allProjects[_0x3b4f7c(0x6de)](_0x2cc51f=>_0x2cc51f['projectName'][_0x3b4f7c(0x478)]()[_0x3b4f7c(0x7d5)](_0x30b1a1));const _0x17fc69=_0x1e7830[_0x3b4f7c(0x6de)](_0x5f3d82=>_0x17b337['has'](_0x5f3d82['id'])),_0x12a020=_0x1e7830['filter'](_0xc55ca1=>!_0x17b337[_0x3b4f7c(0x956)](_0xc55ca1['id'])),_0x55a24c=(_0x4f2571,_0x4c16e5)=>{const _0x123272=_0x3b4f7c;switch(_0x5c0a47){case _0x123272(0x6f5):return _0x4f2571[_0x123272(0xa1f)][_0x123272(0xb7a)](_0x4c16e5[_0x123272(0xa1f)],'th');case'name_desc':return _0x4c16e5[_0x123272(0xa1f)]['localeCompare'](_0x4f2571[_0x123272(0xa1f)],'th');case'date_asc':return new Date(_0x4f2571[_0x123272(0x1fa)])-new Date(_0x4c16e5['createdAt']);default:return new Date(_0x4c16e5['createdAt'])-new Date(_0x4f2571['createdAt']);}};_0x17fc69[_0x3b4f7c(0x910)](_0x55a24c),_0x12a020['sort'](_0x55a24c);const _0x1e1c54=[..._0x17fc69,..._0x12a020],_0xeb1974=globalDashboardSettings[_0x3b4f7c(0xa30)]||[];_0xeb1974[_0x3b4f7c(0xa38)]>0x0&&_0x4eeb47==='grid'&&_0x1e1c54[_0x3b4f7c(0x910)]((_0xb5e9f4,_0x562cf6)=>{const _0x202a94=_0x3b4f7c,_0x43bf3e=_0xeb1974[_0x202a94(0xaa5)](_0xb5e9f4['id']),_0x19e6db=_0xeb1974[_0x202a94(0xaa5)](_0x562cf6['id']);if(_0x43bf3e===-0x1)return 0x1;if(_0x19e6db===-0x1)return-0x1;return _0x43bf3e-_0x19e6db;});const _0x533bdf={};await Promise[_0x3b4f7c(0xadc)](_0x1e1c54[_0x3b4f7c(0x625)](async _0x231127=>{const _0x2debf2=_0x3b4f7c,_0x30650c=query(collection(db,_0x2debf2(0x1d1)+appId+_0x2debf2(0x1a5)),where('projectId','==',_0x231127['id'])),_0x466963=await getDocs(_0x30650c);_0x533bdf[_0x231127['id']]=_0x466963[_0x2debf2(0xb19)];}));const _0xde3f07=document[_0x3b4f7c(0x8d1)](_0x3b4f7c(0x84b));let _0x37fac1='';if(_0x4eeb47===_0x3b4f7c(0xb27)){_0xde3f07[_0x3b4f7c(0x59e)]=_0x3b4f7c(0x18d);if(starredQuizzes['length']>0x0&&_0x30b1a1===''){const _0x44f066=starredQuizzes['map'](_0x155108=>{const _0x3e9f39=_0x3b4f7c,_0x57fa5f=allProjects['find'](_0x41760e=>_0x41760e['id']===_0x155108[_0x3e9f39(0x86f)]);return{..._0x155108,'projectName':_0x57fa5f?_0x57fa5f[_0x3e9f39(0xa1f)]:_0x3e9f39(0x207)};});_0x37fac1+=_0x3b4f7c(0x86c)+_0x44f066[_0x3b4f7c(0x625)](_0x4438e0=>_0x3b4f7c(0x989)+_0x4438e0[_0x3b4f7c(0x5d7)]+'\x22>'+_0x4438e0[_0x3b4f7c(0x5d7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x4438e0[_0x3b4f7c(0xa1f)]+'\x22>จาก:\x20'+_0x4438e0[_0x3b4f7c(0xa1f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3b4f7c(0x424)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes['length']+_0x3b4f7c(0x9b2);}_0x1e1c54[_0x3b4f7c(0x236)](_0x5df53a=>{const _0x956d4a=_0x3b4f7c,_0xd52fb3=_0x533bdf[_0x5df53a['id']]??0x0,_0x4a5080=_0x17b337[_0x956d4a(0x956)](_0x5df53a['id']),_0x125a64=_0x5df53a[_0x956d4a(0x675)]||_0x956d4a(0x658),_0x376228=parseInt(_0x125a64[_0x956d4a(0x233)](0x1,0x3),0x10)*0.299+parseInt(_0x125a64['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x125a64[_0x956d4a(0x233)](0x5,0x7),0x10)*0.114<0xba,_0x449cdf=_0x376228?'text-white':_0x956d4a(0x278),_0x1a5252=_0x376228?_0x956d4a(0x6c3):_0x956d4a(0xc36);_0x37fac1+=_0x956d4a(0x448)+(_0x4a5080?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x956d4a(0x9a7))+_0x956d4a(0x5be)+_0x125a64+_0x956d4a(0x2d7)+_0x5df53a['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5df53a['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x376228?'text-gray-300\x20hover:text-white':_0x956d4a(0x468))+_0x956d4a(0x3de)+_0x5df53a['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x376228?'text-gray-300\x20hover:text-white':_0x956d4a(0x468))+_0x956d4a(0xadf)+(_0x4a5080?_0x376228?_0x956d4a(0x8d5):_0x956d4a(0x420):'')+_0x956d4a(0x500)+_0x5df53a['id']+_0x956d4a(0x16d)+_0x449cdf+_0x956d4a(0x137)+_0x5df53a['projectName']+_0x956d4a(0x4bb)+_0x1a5252+_0x956d4a(0x914)+new Date(_0x5df53a[_0x956d4a(0x1fa)])[_0x956d4a(0xc5f)](_0x956d4a(0xc89))+_0x956d4a(0x97c)+(_0x376228?_0x956d4a(0x728):_0x956d4a(0x8c0))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0xd52fb3+_0x956d4a(0x875)+_0x5df53a['id']+_0x956d4a(0x76e)+_0x5df53a['projectName']+'\x22\x20class=\x22delete-project-btn\x20'+(_0x376228?'text-red-300\x20hover:text-red-100':_0x956d4a(0x66e))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0xde3f07[_0x3b4f7c(0x59e)]=_0x3b4f7c(0x3b0),starredQuizzes[_0x3b4f7c(0xa38)]>0x0&&_0x30b1a1===''&&(_0x37fac1+=_0x3b4f7c(0x76b)+starredQuizzes[_0x3b4f7c(0xa38)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x37fac1+=_0x3b4f7c(0x5de),_0x1e1c54[_0x3b4f7c(0x236)](_0x15e4b3=>{const _0x44ad74=_0x3b4f7c,_0x3edac0=_0x533bdf[_0x15e4b3['id']]??0x0,_0x47f61d=_0x17b337[_0x44ad74(0x956)](_0x15e4b3['id']);_0x37fac1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x15e4b3[_0x44ad74(0x675)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x15e4b3['id']+_0x44ad74(0x13d)+_0x15e4b3[_0x44ad74(0xa1f)]+_0x44ad74(0x752)+_0x3edac0+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x15e4b3[_0x44ad74(0x1fa)])['toLocaleString'](_0x44ad74(0xc89))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x15e4b3['id']+_0x44ad74(0x844)+(_0x47f61d?'text-indigo-600':'')+_0x44ad74(0x7a7)+_0x15e4b3['id']+_0x44ad74(0x76e)+_0x15e4b3[_0x44ad74(0xa1f)]+_0x44ad74(0xa09);});projectList[_0x3b4f7c(0x8f6)]=_0x37fac1,noProjectsMsg[_0x3b4f7c(0x1da)][_0x3b4f7c(0x3a0)]('hidden',_0x37fac1[_0x3b4f7c(0xa38)]>0x0);}document[_0x252b26(0x8d1)]('confirm-create-project-btn')[_0x252b26(0x2d5)](_0x252b26(0x4d9),async()=>{const _0x292ca6=_0x252b26,_0x10e637=document[_0x292ca6(0x8d1)](_0x292ca6(0x3d4)),_0x2d1bc0=_0x10e637[_0x292ca6(0x64c)][_0x292ca6(0x3cf)]();if(!_0x2d1bc0){showMessage(_0x292ca6(0x856));return;}try{const _0xb4aeb3=doc(collection(db,_0x292ca6(0x1d1)+appId+'/public/data/projects'));await setDoc(_0xb4aeb3,{'projectName':_0x2d1bc0,'students':[],'settings':{'resultsDisplay':_0x292ca6(0xa4f),'shuffleSetting':_0x292ca6(0xa55),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x292ca6(0x5e7)]()}),_0x10e637[_0x292ca6(0x64c)]='',createProjectModal[_0x292ca6(0x1da)][_0x292ca6(0x2df)]('hidden'),showMessage(_0x292ca6(0x6f2));}catch(_0xd6025c){console[_0x292ca6(0x62f)]('Error\x20creating\x20project:',_0xd6025c),showMessage(_0x292ca6(0x720));}}),projectList[_0x252b26(0x2d5)](_0x252b26(0x4d9),async _0x580d85=>{const _0x368c24=_0x252b26,_0x565ab3=_0x580d85[_0x368c24(0x54a)][_0x368c24(0x161)](_0x368c24(0xa2d)),_0x2fcf5b=_0x580d85[_0x368c24(0x54a)]['closest'](_0x368c24(0x907)),_0x206e1c=_0x580d85[_0x368c24(0x54a)][_0x368c24(0x161)](_0x368c24(0x124)),_0x4fe9ae=_0x580d85[_0x368c24(0x54a)][_0x368c24(0x161)]('.color-palette-btn');if(_0x206e1c){const _0x3fd773=_0x206e1c[_0x368c24(0x9e8)]['id'],_0x2d6d91=doc(db,_0x368c24(0x378),_0x368c24(0x29e)),_0x2401af=globalDashboardSettings['pinnedProjects'];let _0x2fd82a;_0x2401af[_0x368c24(0x7d5)](_0x3fd773)?_0x2fd82a=_0x2401af[_0x368c24(0x6de)](_0x3a3130=>_0x3a3130!==_0x3fd773):_0x2fd82a=[..._0x2401af,_0x3fd773];try{await setDoc(_0x2d6d91,{'pinnedProjects':_0x2fd82a},{'merge':!![]});}catch(_0x1975da){console['error'](_0x368c24(0xb5b),_0x1975da),showMessage(_0x368c24(0xaea));}}else{if(_0x4fe9ae){const _0x88abf5=_0x4fe9ae['dataset']['id'];showColorPalette(_0x4fe9ae,_0x88abf5);}else{if(_0x565ab3){const _0x410948=_0x565ab3['dataset']['id'];_0x410948===_0x368c24(0xc8f)?showStarredProjectView():(currentProjectId=_0x410948,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x2fcf5b){const _0x42bd31=_0x2fcf5b[_0x368c24(0x9e8)]['id'],_0x4bb2ce=_0x2fcf5b[_0x368c24(0x9e8)][_0x368c24(0x2c6)];showConfirmation(_0x368c24(0xb9f)+_0x4bb2ce+_0x368c24(0x639),()=>handleDeleteProject(_0x42bd31));}}}}}),projectList[_0x252b26(0x2d5)](_0x252b26(0x833),_0x5094e3=>{const _0x528993=_0x252b26,_0x5a640d=_0x5094e3[_0x528993(0x54a)][_0x528993(0x161)](_0x528993(0x252));_0x5a640d&&_0x5a640d[_0x528993(0x1da)]['add']('opacity-50');}),projectList[_0x252b26(0x2d5)](_0x252b26(0x729),_0x415ed5=>{const _0x951c42=_0x252b26,_0x273c8d=_0x415ed5[_0x951c42(0x54a)][_0x951c42(0x161)](_0x951c42(0x252));_0x273c8d&&_0x273c8d[_0x951c42(0x1da)][_0x951c42(0x7ce)](_0x951c42(0x6c8));}),projectList[_0x252b26(0x2d5)](_0x252b26(0x294),_0x117c83=>{const _0x187ae9=_0x252b26;_0x117c83[_0x187ae9(0x65f)]();const _0x5ec921=document[_0x187ae9(0x2b7)](_0x187ae9(0x117));if(!_0x5ec921)return;const _0x17dd61=getDragAfterElement(projectList,_0x117c83[_0x187ae9(0x603)]);_0x17dd61==null?projectList[_0x187ae9(0x726)](_0x5ec921):projectList['insertBefore'](_0x5ec921,_0x17dd61);}),projectList[_0x252b26(0x2d5)]('drop',_0x442bf4=>{const _0x520c56=_0x252b26;_0x442bf4[_0x520c56(0x65f)]();const _0x4be726=[...projectList[_0x520c56(0xa48)](_0x520c56(0x6d6))]['map'](_0x5d76cc=>_0x5d76cc[_0x520c56(0x9e8)]['id']);saveProjectOrder(_0x4be726);});function renderBehaviorLog(_0x55303a){const _0x294408=_0x252b26,_0x2104ee=document[_0x294408(0x8d1)](_0x294408(0x26a));if(!_0x2104ee)return;const _0x99a9dc=_0x55303a['filter'](_0x4d4918=>_0x4d4918[_0x294408(0x4a7)]&&_0x4d4918['behaviorLog'][_0x294408(0xa38)]>0x0);if(_0x99a9dc['length']===0x0){_0x2104ee[_0x294408(0x8f6)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x3616f9='';_0x99a9dc['forEach'](_0x39ea99=>{const _0x4b5891=_0x294408;_0x3616f9+=_0x4b5891(0xad9)+_0x39ea99[_0x4b5891(0x688)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x39ea99[_0x4b5891(0x4a7)][_0x4b5891(0x910)]((_0x43f044,_0x4f5b7f)=>new Date(_0x4f5b7f[_0x4b5891(0x244)])-new Date(_0x43f044[_0x4b5891(0x244)]))[_0x4b5891(0x236)](_0x51651c=>{const _0x5b09d0=_0x4b5891,_0x3179cb=new Date(_0x51651c['timestamp'])[_0x5b09d0(0x1b4)](_0x5b09d0(0xc89),{'dateStyle':_0x5b09d0(0x45d),'timeStyle':_0x5b09d0(0xa3a)});_0x3616f9+=_0x5b09d0(0x947)+_0x51651c['attemptNumber']+_0x5b09d0(0x455)+_0x3179cb+_0x5b09d0(0x5b1);}),_0x3616f9+=_0x4b5891(0x75f);}),_0x2104ee[_0x294408(0x8f6)]=_0x3616f9;}function getDragAfterElement(_0x4bc4d7,_0x27ebe8){const _0x1e1110=_0x252b26,_0x409b2b=[..._0x4bc4d7[_0x1e1110(0xa48)](_0x1e1110(0x2e7))];return _0x409b2b[_0x1e1110(0x2d2)]((_0x1d36d2,_0x29c713)=>{const _0x27976b=_0x1e1110,_0x1d7161=_0x29c713[_0x27976b(0xc5c)](),_0x3368c7=_0x27ebe8-_0x1d7161[_0x27976b(0xb29)]-_0x1d7161[_0x27976b(0x92c)]/0x2;return _0x3368c7<0x0&&_0x3368c7>_0x1d36d2[_0x27976b(0x786)]?{'offset':_0x3368c7,'element':_0x29c713}:_0x1d36d2;},{'offset':Number['NEGATIVE_INFINITY']})[_0x1e1110(0x656)];}async function saveProjectOrder(_0x35f5fe){const _0x23f9c9=_0x252b26,_0x4ed22a=doc(db,_0x23f9c9(0x378),_0x23f9c9(0x29e));try{await setDoc(_0x4ed22a,{'projectOrder':_0x35f5fe},{'merge':!![]});}catch(_0xc633c){console['error'](_0x23f9c9(0x7ca),_0xc633c),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x49bb9d,_0x498a7f={}){const _0x5eb311=_0x252b26;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x5eb311(0x974));return;}const _0x546ca7=doc(db,_0x5eb311(0x1d1)+appId+_0x5eb311(0x75d)+currentQuizData['id']+_0x5eb311(0x208),currentStudentName),_0x33f2dd={'event':_0x49bb9d,'timestamp':new Date()[_0x5eb311(0x5e7)](),..._0x498a7f};try{await updateDoc(_0x546ca7,{'behaviorLog':arrayUnion(_0x33f2dd)}),console[_0x5eb311(0x952)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+'\x20สำเร็จ');}catch(_0x3ebf24){_0x3ebf24[_0x5eb311(0x302)]===_0x5eb311(0x6f9)?console[_0x5eb311(0x7ba)](_0x5eb311(0xba1)+currentStudentName+_0x5eb311(0x9dd)):console[_0x5eb311(0x62f)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x3ebf24);}}function calculateMeanAndStdDev(_0x5e682e){const _0x45d9a4=_0x252b26;if(_0x5e682e[_0x45d9a4(0xa38)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1eba7e=_0x5e682e[_0x45d9a4(0x2d2)]((_0x4c9d29,_0x2442ef)=>_0x4c9d29+_0x2442ef,0x0)/_0x5e682e[_0x45d9a4(0xa38)];if(_0x5e682e['length']===0x1)return{'mean':_0x1eba7e,'stdDev':0x0};const _0x36be35=Math[_0x45d9a4(0x59a)](_0x5e682e['map'](_0x2d2358=>Math[_0x45d9a4(0x611)](_0x2d2358-_0x1eba7e,0x2))[_0x45d9a4(0x2d2)]((_0x55af1d,_0x58ffa5)=>_0x55af1d+_0x58ffa5,0x0)/(_0x5e682e[_0x45d9a4(0xa38)]-0x1));return{'mean':_0x1eba7e,'stdDev':_0x36be35};}function calculateZScore(_0x388694,_0x1f8f6a,_0x197b9a){if(_0x197b9a===0x0)return 0x0;return(_0x388694-_0x1f8f6a)/_0x197b9a;}function calculateTScore(_0x523fea){return 0xa*_0x523fea+0x32;}function showStarredProjectView(){const _0x26b240=_0x252b26;currentProjectId=_0x26b240(0xc95),currentProjectData=null,projectTitle[_0x26b240(0x5eb)]=_0x26b240(0x1c3),projectIdDisplay[_0x26b240(0x5eb)]=_0x26b240(0x969),showView(_0x26b240(0x3b3)),manageTab[_0x26b240(0x1da)][_0x26b240(0x2df)]('hidden'),leaderboardTab[_0x26b240(0x1da)][_0x26b240(0x2df)](_0x26b240(0x25d)),switchProjectTab(_0x26b240(0x98c)),renderQuizzes();}async function loadProjectDetails(_0x2acb4b){const _0x45d1a8=_0x252b26,_0x41e70a=doc(db,_0x45d1a8(0x1d1)+appId+_0x45d1a8(0x301),_0x2acb4b),_0x21e5c9=await getDoc(_0x41e70a);if(_0x21e5c9['exists']()){manageTab['classList']['remove'](_0x45d1a8(0x25d)),leaderboardTab['classList']['remove'](_0x45d1a8(0x25d)),currentProjectData=_0x21e5c9[_0x45d1a8(0xa36)](),projectTitle[_0x45d1a8(0x5eb)]=currentProjectData[_0x45d1a8(0xa1f)],projectIdDisplay[_0x45d1a8(0x5eb)]=_0x2acb4b;const _0x12274f=currentProjectData[_0x45d1a8(0x716)]||{};document[_0x45d1a8(0x8d1)](_0x45d1a8(0x3a1))[_0x45d1a8(0x64c)]=_0x12274f['shuffleSetting']||_0x45d1a8(0xa55);const _0x526778=document[_0x45d1a8(0x8d1)](_0x45d1a8(0x329));_0x526778[_0x45d1a8(0x22d)]=_0x12274f['showInStudentDashboard']!==![];const _0xcede=document[_0x45d1a8(0x8d1)]('enable-passcode-checkbox'),_0x70d38c=document['getElementById'](_0x45d1a8(0x9dc)),_0x46b666=document[_0x45d1a8(0x8d1)](_0x45d1a8(0xb6c)),_0x27fb20=_0x12274f[_0x45d1a8(0x352)]||![];_0xcede[_0x45d1a8(0x22d)]=_0x27fb20,_0x46b666[_0x45d1a8(0x64c)]=_0x12274f[_0x45d1a8(0x4ff)]||'',_0x70d38c[_0x45d1a8(0x1da)][_0x45d1a8(0x3a0)](_0x45d1a8(0x25d),!_0x27fb20),_0xcede[_0x45d1a8(0xbb3)]=()=>{const _0x5a91f4=_0x45d1a8;_0x70d38c[_0x5a91f4(0x1da)]['toggle']('hidden',!_0xcede['checked']);},document[_0x45d1a8(0x8d1)](_0x45d1a8(0x1c5))[_0x45d1a8(0x22d)]=_0x12274f[_0x45d1a8(0xaa8)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2acb4b),listenForProjectQuizzes(_0x2acb4b),listenForStudentProfiles(_0x2acb4b);}else showMessage(_0x45d1a8(0xc9f)),showView(_0x45d1a8(0x9f6));}async function handleResetProjectOrder(){const _0x51058f=_0x252b26,_0x5b5b36=doc(db,_0x51058f(0x378),_0x51058f(0x29e));try{await setDoc(_0x5b5b36,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x32d5fc){console[_0x51058f(0x62f)](_0x51058f(0x12b),_0x32d5fc),showMessage(_0x51058f(0x2e1));}}async function handleTogglePinProject(_0x1a75be){const _0x40d3d3=_0x252b26;if(!_0x1a75be)return;const _0x2412ce=doc(db,_0x40d3d3(0x1d1)+appId+_0x40d3d3(0x301),_0x1a75be);try{const _0x6f21bd=await getDoc(_0x2412ce);if(_0x6f21bd[_0x40d3d3(0xbfd)]()){const _0x203c67=_0x6f21bd['data']()[_0x40d3d3(0xa5e)]||![];await updateDoc(_0x2412ce,{'isPinned':!_0x203c67});}}catch(_0x56267a){console[_0x40d3d3(0x62f)](_0x40d3d3(0x620),_0x56267a),showMessage(_0x40d3d3(0xaea));}}async function handleDeleteProject(_0x3db287){const _0x361218=_0x252b26;try{const _0x11dab9=writeBatch(db),_0x17c9dd=collection(db,'artifacts/'+appId+_0x361218(0x1a5)),_0x4c0d4c=query(_0x17c9dd,where(_0x361218(0x86f),'==',_0x3db287)),_0x213e3e=await getDocs(_0x4c0d4c);for(const _0x5c8877 of _0x213e3e['docs']){const _0x39db76=collection(db,_0x361218(0x1d1)+appId+_0x361218(0x75d)+_0x5c8877['id']+_0x361218(0x208)),_0x5614b9=await getDocs(_0x39db76);_0x5614b9[_0x361218(0x236)](_0x5cabb4=>{const _0x4b5d51=_0x361218;_0x11dab9['delete'](_0x5cabb4[_0x4b5d51(0x270)]);}),_0x11dab9['delete'](_0x5c8877['ref']);}const _0xaf2443=collection(db,_0x361218(0x1d1)+appId+_0x361218(0x5a4)+_0x3db287+_0x361218(0xa50)),_0x4f68bc=await getDocs(_0xaf2443);_0x4f68bc[_0x361218(0x236)](_0x353a1d=>{const _0x2a6129=_0x361218;_0x11dab9[_0x2a6129(0x77a)](_0x353a1d['ref']);});const _0x27e414=doc(db,_0x361218(0x1d1)+appId+_0x361218(0x301),_0x3db287);_0x11dab9[_0x361218(0x77a)](_0x27e414),await _0x11dab9['commit'](),showMessage(_0x361218(0x1c8)),showView(_0x361218(0x9f6));}catch(_0x43edd8){console['error'](_0x361218(0x9a0),_0x43edd8),showMessage(_0x361218(0xa17));}}document[_0x252b26(0x8d1)](_0x252b26(0x1d7))['addEventListener']('click',async()=>{const _0x256528=_0x252b26;if(!currentProjectId)return;const _0x474961={'defaultNumQuestions':parseInt(document[_0x256528(0x8d1)](_0x256528(0x433))[_0x256528(0x64c)]),'defaultNumChoices':parseInt(document['getElementById'](_0x256528(0x543))[_0x256528(0x64c)]),'defaultPassingScore':parseInt(document[_0x256528(0x8d1)](_0x256528(0x2da))[_0x256528(0x64c)]),'resultsDisplay':document[_0x256528(0x8d1)](_0x256528(0x312))[_0x256528(0x64c)],'shuffleSetting':document[_0x256528(0x8d1)]('shuffle-setting-select')[_0x256528(0x64c)],'timerMode':document[_0x256528(0x8d1)](_0x256528(0x55c))[_0x256528(0x64c)],'timerDuration':parseInt(document[_0x256528(0x8d1)](_0x256528(0xc07))[_0x256528(0x64c)]),'isConfidenceScoringEnabled':document[_0x256528(0x8d1)](_0x256528(0x1c5))[_0x256528(0x22d)],'confidenceMode':document['getElementById'](_0x256528(0x983))[_0x256528(0x64c)]};try{const _0x24682b=doc(db,_0x256528(0x1d1)+appId+_0x256528(0x301),currentProjectId);await updateDoc(_0x24682b,{'settings':_0x474961}),showMessage(_0x256528(0x4f7));}catch(_0x3ef2ec){console[_0x256528(0x62f)](_0x256528(0xc5a),_0x3ef2ec),showMessage(_0x256528(0x2f4));}});function listenForStudents(_0x54c8a0){const _0x43a52b=_0x252b26,_0x4fbee2=doc(db,_0x43a52b(0x1d1)+appId+'/public/data/projects',_0x54c8a0);unsubscribeStudentsListener=onSnapshot(_0x4fbee2,_0x419f63=>{const _0x575c8d=_0x43a52b;if(_0x419f63['exists']()){const _0x3b82e7=_0x419f63[_0x575c8d(0xa36)]();currentProjectData=_0x3b82e7,renderStudentList(_0x3b82e7[_0x575c8d(0x91a)]||[]);}});}function renderStudentList(_0x55b60a){const _0xcce7f6=_0x252b26,_0x1598e9=document['getElementById']('delete-all-students-btn');_0x55b60a[_0xcce7f6(0xa38)]===0x0?(studentList[_0xcce7f6(0x8f6)]=_0xcce7f6(0x5d2),_0x1598e9[_0xcce7f6(0x1da)][_0xcce7f6(0x2df)](_0xcce7f6(0x25d))):(studentList['innerHTML']=_0x55b60a['map'](_0x5201d1=>_0xcce7f6(0x805)+_0x5201d1+_0xcce7f6(0x59d)+_0x5201d1+_0xcce7f6(0x715))[_0xcce7f6(0x424)](''),_0x1598e9[_0xcce7f6(0x1da)][_0xcce7f6(0x7ce)](_0xcce7f6(0x25d)));}document['getElementById'](_0x252b26(0x237))['addEventListener']('click',async()=>{const _0x245a2e=_0x252b26;if(!currentProjectId)return;const _0x598e71=document[_0x245a2e(0x8d1)](_0x245a2e(0x339)),_0x4675f2=_0x598e71[_0x245a2e(0x64c)][_0x245a2e(0x3cf)]();if(!_0x4675f2){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x47e023=_0x4675f2[_0x245a2e(0x787)]('\x0a')[_0x245a2e(0x625)](_0x122eaf=>_0x122eaf[_0x245a2e(0x3cf)]())[_0x245a2e(0x6de)](_0x2d93c2=>_0x2d93c2);if(_0x47e023[_0x245a2e(0xa38)]===0x0)return;try{const _0x49d446=doc(db,'artifacts/'+appId+_0x245a2e(0x301),currentProjectId),_0x33ff4c=await getDoc(_0x49d446);if(_0x33ff4c[_0x245a2e(0xbfd)]()){const _0x1c4610=_0x33ff4c[_0x245a2e(0xa36)]()[_0x245a2e(0x91a)]||[],_0x53b415=[...new Set([..._0x1c4610,..._0x47e023])];await updateDoc(_0x49d446,{'students':_0x53b415}),_0x598e71[_0x245a2e(0x64c)]='';}}catch(_0x22a851){console[_0x245a2e(0x62f)](_0x245a2e(0xbff),_0x22a851),showMessage(_0x245a2e(0x806));}});async function handleManualQuizPairing(_0x4b4db6){const _0x580022=_0x252b26,_0x2fd311=document[_0x580022(0x8d1)]('move-quiz-modal'),_0x427a1c=document[_0x580022(0x8d1)]('move-quiz-project-select'),_0x6c88e8=_0x2fd311[_0x580022(0x2b7)]('h3'),_0x37a6ec=document[_0x580022(0x8d1)](_0x580022(0x7c9)),_0x1d3e48=document[_0x580022(0x8d1)](_0x580022(0x4f9));_0x6c88e8[_0x580022(0x5eb)]=_0x580022(0x331),_0x427a1c[_0x580022(0x8f6)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x37a6ec[_0x580022(0x5eb)]=_0x580022(0x6da),_0x2fd311[_0x580022(0x1da)][_0x580022(0x7ce)](_0x580022(0x25d));const _0x2d4acf=allQuizzes['filter'](_0xc6c8d4=>_0xc6c8d4['id']!==_0x4b4db6);_0x2d4acf['length']===0x0?(_0x427a1c[_0x580022(0x8f6)]=_0x580022(0x98e),_0x37a6ec[_0x580022(0x7dc)]=!![]):(_0x427a1c['innerHTML']=_0x580022(0x82e)+_0x2d4acf[_0x580022(0x625)](_0x5e3f80=>_0x580022(0x19d)+_0x5e3f80['id']+'\x22>'+_0x5e3f80[_0x580022(0x5d7)]+_0x580022(0x64b))[_0x580022(0x424)](''),_0x37a6ec[_0x580022(0x7dc)]=![]);const _0x17b3d3=async()=>{const _0x1d74bd=_0x580022,_0x2260e2=_0x427a1c[_0x1d74bd(0x64c)];if(!_0x2260e2){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x37a6ec[_0x1d74bd(0x7dc)]=!![],_0x37a6ec[_0x1d74bd(0x5eb)]=_0x1d74bd(0x890);try{const _0x1474c6=doc(db,'artifacts/'+appId+_0x1d74bd(0x1a5),_0x4b4db6),_0x5e3e78=doc(db,_0x1d74bd(0x1d1)+appId+'/public/data/quizzes',_0x2260e2),_0x32b8b5=writeBatch(db);_0x32b8b5['update'](_0x1474c6,{'pairedQuizId':_0x2260e2}),_0x32b8b5['update'](_0x5e3e78,{'pairedQuizId':_0x4b4db6}),await _0x32b8b5[_0x1d74bd(0xbb6)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x2fd311['classList'][_0x1d74bd(0x2df)](_0x1d74bd(0x25d));}catch(_0x162818){console[_0x1d74bd(0x62f)]('Error\x20pairing\x20quizzes:',_0x162818),showMessage(_0x1d74bd(0x891));}finally{_0x6c88e8['textContent']=_0x1d74bd(0x2f8),_0x37a6ec[_0x1d74bd(0x5eb)]='ย้าย',_0x37a6ec[_0x1d74bd(0x7dc)]=![],_0x37a6ec[_0x1d74bd(0xad6)](_0x1d74bd(0x4d9),_0x17b3d3),_0x1d3e48['removeEventListener'](_0x1d74bd(0x4d9),_0x2905f4);}},_0x2905f4=()=>{const _0x4640fe=_0x580022;_0x2fd311['classList'][_0x4640fe(0x2df)](_0x4640fe(0x25d)),_0x6c88e8[_0x4640fe(0x5eb)]=_0x4640fe(0x2f8),_0x37a6ec[_0x4640fe(0x5eb)]=_0x4640fe(0xc78),_0x37a6ec['removeEventListener'](_0x4640fe(0x4d9),_0x17b3d3),_0x1d3e48[_0x4640fe(0xad6)]('click',_0x2905f4);};_0x37a6ec[_0x580022(0x2d5)](_0x580022(0x4d9),_0x17b3d3),_0x1d3e48[_0x580022(0x2d5)](_0x580022(0x4d9),_0x2905f4);}function handleDeleteStudent(_0x472d3f){const _0x3e82ca=_0x252b26;showConfirmation(_0x3e82ca(0x1c4)+_0x472d3f+_0x3e82ca(0x83d),async()=>{const _0xb3146f=_0x3e82ca;if(!currentProjectId||!currentProjectData)return;const _0x1563e3=currentProjectData[_0xb3146f(0x91a)][_0xb3146f(0x6de)](_0x257b5e=>_0x257b5e!==_0x472d3f);try{const _0x421751=doc(db,_0xb3146f(0x1d1)+appId+_0xb3146f(0x301),currentProjectId),_0x54f11b=doc(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0xb3146f(0xa50),_0x472d3f),_0x2c0b3d=writeBatch(db);_0x2c0b3d[_0xb3146f(0x490)](_0x421751,{'students':_0x1563e3}),_0x2c0b3d[_0xb3146f(0x77a)](_0x54f11b),await _0x2c0b3d[_0xb3146f(0xbb6)]();}catch(_0x2d5aa8){console['error'](_0xb3146f(0x394),_0x2d5aa8),showMessage(_0xb3146f(0x8fc));}});}function handleDeleteAllStudents(){const _0x38aa8b=_0x252b26;showConfirmation(_0x38aa8b(0x889),async()=>{const _0x33f60e=_0x38aa8b;if(!currentProjectId)return;try{const _0x2c74bd=doc(db,'artifacts/'+appId+_0x33f60e(0x301),currentProjectId),_0x2f7700=collection(db,'artifacts/'+appId+_0x33f60e(0x5a4)+currentProjectId+_0x33f60e(0xa50)),_0x48d51f=await getDocs(_0x2f7700),_0x1fbf8d=writeBatch(db);_0x1fbf8d[_0x33f60e(0x490)](_0x2c74bd,{'students':[]}),_0x48d51f[_0x33f60e(0x236)](_0x33620a=>_0x1fbf8d[_0x33f60e(0x77a)](_0x33620a[_0x33f60e(0x270)])),await _0x1fbf8d[_0x33f60e(0xbb6)]();}catch(_0x5339f){console[_0x33f60e(0x62f)](_0x33f60e(0x4c8),_0x5339f),showMessage(_0x33f60e(0x38b));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x2c28bf){const _0x18166f=_0x252b26,_0x552a2d=document['getElementById']('file-topics-list-container'),_0x14f573=document[_0x18166f(0x8d1)](_0x18166f(0x1e6));_0x552a2d[_0x18166f(0x1da)][_0x18166f(0x7ce)](_0x18166f(0x25d)),_0x14f573[_0x18166f(0x8f6)]=_0x18166f(0x1a7);try{const _0x2e1a97=new FileReader();_0x2e1a97[_0x18166f(0x130)](_0x2c28bf),await new Promise((_0x39bb59,_0x1b161b)=>{const _0x2fbf3f=_0x18166f;_0x2e1a97['onload']=()=>{const _0x32a067=_0x4c50;fileDataBase64=_0x2e1a97[_0x32a067(0xb8b)][_0x32a067(0x787)](',')[0x1],fileMimeType=_0x2c28bf['type'],_0x39bb59();},_0x2e1a97[_0x2fbf3f(0x245)]=_0xd69de1=>_0x1b161b(_0xd69de1);});if(!fileDataBase64)throw new Error(_0x18166f(0x357));const _0x2426f6=_0x18166f(0x8db),_0x283a8a={'type':_0x18166f(0x129),'properties':{'topics':{'type':_0x18166f(0x99c),'items':{'type':_0x18166f(0xc74)}}},'required':[_0x18166f(0x837)]},_0x2bb54f=[{'text':_0x2426f6},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x47bb98=await handleApiCall(_0x2bb54f,_0x18166f(0xbcb),_0x283a8a,null,![]);if(_0x47bb98&&_0x47bb98[_0x18166f(0x837)])extractedFileTopics=_0x47bb98[_0x18166f(0x837)],renderFileTopics();else throw new Error(_0x18166f(0x9b1));}catch(_0x5ad829){console[_0x18166f(0x62f)](_0x18166f(0x2e4),_0x5ad829),_0x14f573[_0x18166f(0x8f6)]=_0x18166f(0x346)+_0x5ad829[_0x18166f(0xa56)]+_0x18166f(0xbb8);}}function renderFileTopics(){const _0x57683d=_0x252b26,_0x5c7859=document[_0x57683d(0x8d1)]('file-topics-list');if(extractedFileTopics[_0x57683d(0xa38)]===0x0){_0x5c7859[_0x57683d(0x8f6)]=_0x57683d(0xbc9);return;}_0x5c7859[_0x57683d(0x8f6)]=extractedFileTopics['map'](_0x19b6b8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x19b6b8+_0x57683d(0x20c)+escape(_0x19b6b8)+_0x57683d(0x6be)+escape(_0x19b6b8)+_0x57683d(0x98a))[_0x57683d(0x424)]('');}async function generateHybridQuizForTopic(_0x3d9d66){const _0x3c959c=_0x252b26,_0x5b7fd5=parseInt(document[_0x3c959c(0x8d1)](_0x3c959c(0x433))[_0x3c959c(0x64c)],0xa),_0x63837f=document[_0x3c959c(0x8d1)]('quiz-type-select')[_0x3c959c(0x64c)],_0xc13bee=document[_0x3c959c(0x8d1)](_0x3c959c(0x543))[_0x3c959c(0x64c)],_0x7fc63e=document['getElementById']('include-images-checkbox')[_0x3c959c(0x22d)],_0x2b5ea7=_0x7fc63e?_0x3c959c(0xb75):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x58342c='',_0x192b97;const _0x594f03={'type':_0x3c959c(0x129),'properties':{'questionText':{'type':_0x3c959c(0xc74)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3c959c(0x204)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3c959c(0xc74)}},'required':[_0x3c959c(0x15a),_0x3c959c(0xc69),'correctAnswerIndex',_0x3c959c(0xa4b)]},_0x43e532={'type':_0x3c959c(0x129),'properties':{'questionText':{'type':_0x3c959c(0xc74)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x3c959c(0xc74)},'imageCode':{'type':_0x3c959c(0xc74)}},'required':[_0x3c959c(0x15a),'correctAnswer',_0x3c959c(0xa4b)]},_0x126a05={'type':_0x3c959c(0x129),'properties':{'questionText':{'type':_0x3c959c(0xc74)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3c959c(0xc74)},'imageCode':{'type':_0x3c959c(0xc74)}},'required':[_0x3c959c(0x15a),'idealAnswer',_0x3c959c(0xa4b)]},_0x1d7d26={'type':_0x3c959c(0x129),'properties':{'questionType':{'type':_0x3c959c(0xc74),'enum':[_0x3c959c(0x711)]},'stem':{'type':_0x3c959c(0xc74)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x3c959c(0x99c),'items':{'type':_0x3c959c(0xc74)}},'explanation':{'type':_0x3c959c(0xc74)},'imageCode':{'type':_0x3c959c(0xc74)}},'required':[_0x3c959c(0x3ae),_0x3c959c(0x503),_0x3c959c(0xb28),_0x3c959c(0x98b),'explanation']};switch(_0x63837f){case _0x3c959c(0x27f):_0x58342c='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0xc13bee+'\x20ตัวเลือก)',_0x192b97=_0x594f03;break;case'true_false':_0x58342c=_0x3c959c(0x677),_0x192b97=_0x43e532;break;case _0x3c959c(0x95c):_0x58342c='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x192b97=_0x126a05;break;case _0x3c959c(0x296):_0x58342c=_0x3c959c(0x66a),_0x192b97=_0x1d7d26;break;case _0x3c959c(0x583):_0x58342c=_0x3c959c(0x24c)+_0xc13bee+'\x20ตัวเลือก)',_0x192b97=_0x594f03;break;default:_0x58342c=_0x3c959c(0x96f)+_0xc13bee+'\x20ตัวเลือก)',_0x192b97=_0x594f03;break;}const _0x1e3d99='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x777b56=document['getElementById'](_0x3c959c(0x67c)),_0x2e7ae7=document[_0x3c959c(0x8d1)](_0x3c959c(0x773)),_0x2a0866=document[_0x3c959c(0x8d1)](_0x3c959c(0x538));document[_0x3c959c(0x8d1)]('quiz-generation-area')[_0x3c959c(0x1da)][_0x3c959c(0x7ce)](_0x3c959c(0x25d)),_0x2a0866['innerHTML']='',_0x777b56['classList'][_0x3c959c(0x7ce)](_0x3c959c(0x25d)),_0x2e7ae7[_0x3c959c(0x5eb)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x3d9d66+_0x3c959c(0x8c7)+_0x5b7fd5+'\x20ข้อ...';try{const _0x7503d6='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x404f56=_0x3c959c(0x22e)+_0x3d9d66+_0x3c959c(0x17c)+_0x5b7fd5+_0x3c959c(0x2d4)+_0x3d9d66+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x5b7fd5+_0x3c959c(0x4ed)+_0x2b5ea7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x58342c+_0x3c959c(0x45a)+_0x1e3d99+_0x3c959c(0x8ba)+_0x7503d6+_0x3c959c(0xbe4)+simpleMathPrompt+_0x3c959c(0xbcf),_0x4b0352={'type':_0x3c959c(0x129),'properties':{'topic':{'type':_0x3c959c(0xc74)},'questions':{'type':_0x3c959c(0x99c),'items':_0x192b97}},'required':['topic','questions']},_0x4934ac=[{'text':_0x404f56},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4934ac,_0x3c959c(0xaa4)+_0x3d9d66+_0x3c959c(0x51e),_0x4b0352);}catch(_0x59b4ff){console[_0x3c959c(0x62f)](_0x3c959c(0x736),_0x59b4ff),showMessage(_0x3c959c(0x900)+_0x59b4ff[_0x3c959c(0xa56)]),_0x2a0866[_0x3c959c(0x8f6)]=_0x3c959c(0x7a0);}finally{_0x777b56[_0x3c959c(0x1da)][_0x3c959c(0x2df)]('hidden');}}async function handleGenerateFromFileClick(){const _0x3f45ba=_0x252b26;if(!selectedFile){showMessage(_0x3f45ba(0xc31));return;}const _0x4b27b9=document[_0x3f45ba(0x8d1)](_0x3f45ba(0x67c)),_0x132f02=document[_0x3f45ba(0x8d1)](_0x3f45ba(0x773)),_0x417e0c=document['getElementById'](_0x3f45ba(0x538)),_0x4f7931=document[_0x3f45ba(0x8d1)](_0x3f45ba(0xb15));_0x4f7931[_0x3f45ba(0x7dc)]=!![],document[_0x3f45ba(0x8d1)](_0x3f45ba(0x3a3))[_0x3f45ba(0x1da)][_0x3f45ba(0x7ce)]('hidden'),_0x417e0c[_0x3f45ba(0x8f6)]='',_0x4b27b9[_0x3f45ba(0x1da)][_0x3f45ba(0x7ce)](_0x3f45ba(0x25d)),_0x132f02['textContent']=_0x3f45ba(0x790);try{const _0x3a2567=await new Promise((_0x5d8719,_0x26a6a9)=>{const _0x9d34e7=_0x3f45ba,_0x512bb9=new FileReader();_0x512bb9[_0x9d34e7(0x130)](selectedFile),_0x512bb9['onload']=()=>_0x5d8719(_0x512bb9['result'][_0x9d34e7(0x787)](',')[0x1]),_0x512bb9['onerror']=_0x35408e=>_0x26a6a9(_0x35408e);});await generateQuizFromFile(selectedFile['type'],_0x3a2567);}catch(_0x55d4ff){console[_0x3f45ba(0x62f)]('Error\x20processing\x20file\x20for\x20AI:',_0x55d4ff),showMessage(_0x3f45ba(0x606)+_0x55d4ff['message']),_0x4b27b9[_0x3f45ba(0x1da)]['add']('hidden'),_0x4f7931['disabled']=![];}}function autoFormatMath(_0x2ad584){const _0x56c1b9=_0x252b26;if(typeof _0x2ad584!==_0x56c1b9(0xbf8)||!_0x2ad584)return _0x2ad584;const _0x5caadd=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3da005=_0x2ad584[_0x56c1b9(0x1fb)](_0x5caadd,_0x2798df=>{const _0x2521cc=_0x56c1b9;return'$'+_0x2798df[_0x2521cc(0x3cf)]()+'$';});return _0x3da005;}function sanitizeQuizData(_0x25aa93){const _0x5a58fa=_0x252b26;if(!_0x25aa93||!_0x25aa93[_0x5a58fa(0x692)])return _0x25aa93;const _0x48bc19={'imes':'\x5ctimes','div':_0x5a58fa(0xc4d)},_0x5855bf=_0x11dd80=>{const _0x147347=_0x5a58fa;if(typeof _0x11dd80!==_0x147347(0xbf8))return _0x11dd80;let _0x560042=_0x11dd80;for(const [_0x242b17,_0x5c5b68]of Object[_0x147347(0x4e5)](_0x48bc19)){const _0xdd69e7=new RegExp('\x5cb'+_0x242b17+'\x5cb','g');_0x560042=_0x560042[_0x147347(0x1fb)](_0xdd69e7,_0x5c5b68);}return _0x560042=_0x560042[_0x147347(0x1fb)](/\\\//g,_0x147347(0xc4d)),_0x560042=_0x560042['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x147347(0x1fb)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x147347(0x73f))[_0x147347(0x1fb)](/÷/g,_0x147347(0xc4d))[_0x147347(0x1fb)](/×/g,_0x147347(0x73f)),_0x560042=_0x560042['replace'](/(\d)(\\frac)/g,_0x147347(0x251)),_0x560042=autoFormatMath(_0x560042),_0x560042;};return _0x25aa93['topic']&&(_0x25aa93[_0x5a58fa(0x5d7)]=_0x5855bf(_0x25aa93['topic'])),_0x25aa93[_0x5a58fa(0x692)][_0x5a58fa(0x236)](_0x30fca0=>{const _0x5387a6=_0x5a58fa;_0x30fca0[_0x5387a6(0x15a)]=_0x5855bf(_0x30fca0[_0x5387a6(0x15a)]),_0x30fca0[_0x5387a6(0xc69)]&&(_0x30fca0[_0x5387a6(0xc69)]=_0x30fca0[_0x5387a6(0xc69)][_0x5387a6(0x625)](_0x5855bf)),_0x30fca0[_0x5387a6(0xa4b)]&&(_0x30fca0[_0x5387a6(0xa4b)]=_0x5855bf(_0x30fca0[_0x5387a6(0xa4b)])),_0x30fca0[_0x5387a6(0x503)]&&(_0x30fca0['stem']=_0x5855bf(_0x30fca0[_0x5387a6(0x503)])),_0x30fca0[_0x5387a6(0xb28)]&&(_0x30fca0[_0x5387a6(0xb28)]=_0x5855bf(_0x30fca0[_0x5387a6(0xb28)])),_0x30fca0[_0x5387a6(0x98b)]&&(_0x30fca0[_0x5387a6(0x98b)]=_0x30fca0['allResponses'][_0x5387a6(0x625)](_0x5855bf));}),_0x25aa93;}const simpleMathPrompt=_0x252b26(0x740);async function handleGenerateFromLink(){const _0x2324ba=_0x252b26,_0x366366=document[_0x2324ba(0x8d1)](_0x2324ba(0x8e9)),_0x53e348=document[_0x2324ba(0x8d1)]('link-topic-input'),_0x3894d6=_0x366366[_0x2324ba(0x64c)]['trim'](),_0x27ce92=_0x53e348['value']['trim']();if(!_0x3894d6){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x5def84=document[_0x2324ba(0x8d1)](_0x2324ba(0x67c)),_0xd61b06=document['getElementById'](_0x2324ba(0x773)),_0x2a8b4a=document[_0x2324ba(0x8d1)](_0x2324ba(0x538)),_0x3146d4=document[_0x2324ba(0x8d1)](_0x2324ba(0x9d2));document['getElementById']('quiz-generation-area')[_0x2324ba(0x1da)][_0x2324ba(0x7ce)](_0x2324ba(0x25d)),_0x2a8b4a[_0x2324ba(0x8f6)]='',_0x5def84[_0x2324ba(0x1da)][_0x2324ba(0x7ce)](_0x2324ba(0x25d)),_0xd61b06[_0x2324ba(0x5eb)]=_0x2324ba(0x4ea),_0x3146d4[_0x2324ba(0x7dc)]=!![];try{const _0x5e000c=_0x2324ba(0x3f5)+encodeURIComponent(_0x3894d6),_0x57de53=await fetch(_0x5e000c);if(!_0x57de53['ok'])throw new Error(_0x2324ba(0x3c3)+_0x57de53[_0x2324ba(0x6c1)]+')');const _0xe8384f=await _0x57de53[_0x2324ba(0xaac)](),_0x2a98f5=extractTextFromHtml(_0xe8384f);if(!_0x2a98f5||_0x2a98f5[_0x2324ba(0xa38)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x27ce92,_0x2a98f5);}catch(_0x5585f3){console[_0x2324ba(0x62f)](_0x2324ba(0x572),_0x5585f3),showMessage(_0x2324ba(0x900)+_0x5585f3[_0x2324ba(0xa56)]),_0x2a8b4a[_0x2324ba(0x8f6)]=_0x2324ba(0x143);}finally{_0x5def84[_0x2324ba(0x1da)][_0x2324ba(0x2df)](_0x2324ba(0x25d)),_0x3146d4[_0x2324ba(0x7dc)]=![];}}function extractTextFromHtml(_0x14f8ea){const _0x179632=_0x252b26,_0x24ff5f=new DOMParser()[_0x179632(0x753)](_0x14f8ea,_0x179632(0xb1b));return _0x24ff5f['querySelectorAll'](_0x179632(0x734))['forEach'](_0x3b6d7e=>_0x3b6d7e[_0x179632(0x7ce)]()),_0x24ff5f['body']['textContent']||'';}document['getElementById'](_0x252b26(0xa58))[_0x252b26(0x2d5)](_0x252b26(0x4d9),()=>{const _0x513695=_0x252b26,_0x1ba7b8=document[_0x513695(0x8d1)](_0x513695(0x19e))['value'][_0x513695(0x3cf)]();generateQuiz(_0x1ba7b8,null);}),document[_0x252b26(0x8d1)]('generate-from-text-btn')[_0x252b26(0x2d5)](_0x252b26(0x4d9),()=>{const _0x36269b=_0x252b26,_0x526a14=document[_0x36269b(0x8d1)](_0x36269b(0x5a9))[_0x36269b(0x64c)]['trim']();if(!_0x526a14){showMessage(_0x36269b(0xb37));return;}const _0x1cc1fb=document[_0x36269b(0x8d1)](_0x36269b(0x19e))[_0x36269b(0x64c)][_0x36269b(0x3cf)]();generateQuiz(_0x1cc1fb,_0x526a14);});async function generateQuiz(_0x56a54d,_0x20071d,_0x42330e=null,_0x36c916=null,_0x344376=![],_0x2c0cf3=null,_0x12be5=null,_0x14c2a4=![]){const _0xe42dd5=_0x252b26;let _0x46e619={};if(_0x344376&&blueprintPageSettings)_0x46e619=blueprintPageSettings;else{const _0x3ca69a=document[_0xe42dd5(0xa48)]('#math-topics-checkbox-container\x20input:checked');_0x46e619={'quizType':document['getElementById'](_0xe42dd5(0x3ca))[_0xe42dd5(0x64c)],'numQuestions':document[_0xe42dd5(0x8d1)](_0xe42dd5(0x433))[_0xe42dd5(0x64c)],'numChoices':document[_0xe42dd5(0x8d1)](_0xe42dd5(0x543))['value'],'includeImages':document[_0xe42dd5(0x8d1)]('include-images-checkbox')[_0xe42dd5(0x22d)],'isNormalTopic':document[_0xe42dd5(0x8d1)](_0xe42dd5(0x996))[_0xe42dd5(0x22d)],'difficultyValue':document[_0xe42dd5(0x8d1)]('difficulty-level-select')[_0xe42dd5(0x64c)],'complexityValue':document[_0xe42dd5(0x8d1)](_0xe42dd5(0xb30))[_0xe42dd5(0x64c)],'selectedTopicNames':Array[_0xe42dd5(0x8a3)](_0x3ca69a)[_0xe42dd5(0x625)](_0x211b7c=>_0x211b7c[_0xe42dd5(0x64c)])};}const _0x3a36d0=_0x46e619[_0xe42dd5(0xc02)]?'':_0xe42dd5(0xa11),_0xf682e0=_0x46e619['difficultyValue']!==_0xe42dd5(0xb0f)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x46e619[_0xe42dd5(0xa44)]+'\x22':'',_0x3ab084=_0x46e619[_0xe42dd5(0x3f0)]!==_0xe42dd5(0x1f5)?_0xe42dd5(0x921)+_0x46e619[_0xe42dd5(0x3f0)]+_0xe42dd5(0x14f):'';let _0x5dfa6d='';_0x46e619['selectedTopicNames']&&_0x46e619[_0xe42dd5(0x267)][_0xe42dd5(0xa38)]>0x0&&(_0x5dfa6d=_0xe42dd5(0x1b8)+_0x46e619[_0xe42dd5(0x267)][_0xe42dd5(0x424)](',\x20')+'.');let _0x49fa3e='';_0x36c916&&(_0x49fa3e=_0xe42dd5(0x421));let _0x156dba='',_0x4b13b4='',_0x3de324,_0x148383=_0xe42dd5(0x2a8)+_0x56a54d+'\x22';if(!_0x56a54d&&_0x20071d)_0x148383=_0xe42dd5(0x6ba);else!_0x56a54d&&!_0x20071d&&(_0x148383=_0xe42dd5(0x118));const _0x3f13d6={'type':_0xe42dd5(0x129),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xe42dd5(0x99c),'items':{'type':_0xe42dd5(0xc74)}},'correctAnswerIndex':{'type':_0xe42dd5(0x204)},'explanation':{'type':_0xe42dd5(0xc74)},'imageCode':{'type':_0xe42dd5(0xc74)}},'required':['questionText',_0xe42dd5(0xc69),_0xe42dd5(0x26e),_0xe42dd5(0xa4b)]},_0x2d86e0={'type':'OBJECT','properties':{'questionText':{'type':_0xe42dd5(0xc74)},'idealAnswer':{'type':_0xe42dd5(0xc74)},'explanation':{'type':_0xe42dd5(0xc74)},'imageCode':{'type':'STRING'}},'required':[_0xe42dd5(0x15a),_0xe42dd5(0xaef),_0xe42dd5(0xa4b)]},_0x532ec5={'type':_0xe42dd5(0x129),'properties':{'questionText':{'type':_0xe42dd5(0xc74)},'questionType':{'type':_0xe42dd5(0xc74),'enum':[_0xe42dd5(0x27f),'short_answer']},'options':{'type':_0xe42dd5(0x99c),'items':{'type':_0xe42dd5(0xc74)}},'correctAnswerIndex':{'type':_0xe42dd5(0x204)},'idealAnswer':{'type':_0xe42dd5(0xc74)},'explanation':{'type':_0xe42dd5(0xc74)},'imageCode':{'type':_0xe42dd5(0xc74)}},'required':['questionText',_0xe42dd5(0x3ae),_0xe42dd5(0xa4b)]},_0xbd849c={'type':'OBJECT','properties':{'questionText':{'type':_0xe42dd5(0xc74)},'correctAnswer':{'type':_0xe42dd5(0x318)},'explanation':{'type':_0xe42dd5(0xc74)},'imageCode':{'type':_0xe42dd5(0xc74)}},'required':['questionText',_0xe42dd5(0x67b),_0xe42dd5(0xa4b)]},_0x23f685={'type':_0xe42dd5(0x129),'properties':{'questionType':{'type':'STRING','enum':[_0xe42dd5(0x711)]},'stem':{'type':_0xe42dd5(0xc74)},'correctResponse':{'type':_0xe42dd5(0xc74)},'allResponses':{'type':'ARRAY','items':{'type':_0xe42dd5(0xc74)}},'explanation':{'type':_0xe42dd5(0xc74)},'imageCode':{'type':_0xe42dd5(0xc74)}},'required':[_0xe42dd5(0x3ae),_0xe42dd5(0x503),_0xe42dd5(0xb28),_0xe42dd5(0x98b),_0xe42dd5(0xa4b)]};let _0x516122;if(_0x42330e!==null){}else{const _0x142a6d=_0x46e619[_0xe42dd5(0xa12)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x46e619[_0xe42dd5(0x81d)]){case _0xe42dd5(0x27f):_0x156dba=_0xe42dd5(0x3c8)+_0x3a36d0+'\x20'+_0x46e619['numQuestions']+_0xe42dd5(0x843)+_0x148383+'\x20'+_0x5dfa6d+'\x20'+_0xf682e0+'\x20'+_0x3ab084+'\x20'+_0x49fa3e+_0xe42dd5(0xb68)+_0x46e619[_0xe42dd5(0x3ff)]+_0xe42dd5(0x436)+_0x142a6d+'\x20'+simpleMathPrompt,_0x3de324=_0x3f13d6;break;case'fill_in_with_choices':_0x156dba=_0xe42dd5(0x6e0)+_0x3a36d0+'\x20'+_0x46e619['numQuestions']+_0xe42dd5(0x843)+_0x148383+'\x20'+_0x5dfa6d+'\x20'+_0xf682e0+'\x20'+_0x3ab084+'\x20'+_0x49fa3e+_0xe42dd5(0x532)+_0x46e619[_0xe42dd5(0x3ff)]+_0xe42dd5(0x9ad)+_0x142a6d+'\x20'+simpleMathPrompt,_0x3de324=_0x3f13d6;break;case _0xe42dd5(0x95c):_0x156dba='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3a36d0+'\x20'+_0x46e619[_0xe42dd5(0x589)]+_0xe42dd5(0x843)+_0x148383+'\x20'+_0x5dfa6d+'\x20'+_0xf682e0+'\x20'+_0x3ab084+'\x20'+_0x49fa3e+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x142a6d+'\x20'+simpleMathPrompt,_0x3de324=_0x2d86e0;break;case _0xe42dd5(0x1f5):_0x156dba='สร้างแบบทดสอบ'+_0x3a36d0+'\x20'+_0x46e619[_0xe42dd5(0x589)]+_0xe42dd5(0x843)+_0x148383+'\x20'+_0x5dfa6d+'\x20'+_0xf682e0+'\x20'+_0x3ab084+'\x20'+_0x49fa3e+_0xe42dd5(0xb92)+_0x46e619[_0xe42dd5(0x3ff)]+'\x20ตัวเลือก.\x20'+_0x142a6d+'\x20'+simpleMathPrompt+'.',_0x3de324=_0x532ec5;break;case _0xe42dd5(0x51c):_0x156dba=_0xe42dd5(0x1c7)+_0x3a36d0+'\x20'+_0x46e619[_0xe42dd5(0x589)]+_0xe42dd5(0x843)+_0x148383+'\x20'+_0x5dfa6d+'\x20'+_0xf682e0+'\x20'+_0x3ab084+'\x20'+_0x49fa3e+_0xe42dd5(0x515)+_0x142a6d+'\x20'+simpleMathPrompt,_0x3de324=_0xbd849c;break;case _0xe42dd5(0x296):_0x156dba=_0xe42dd5(0x509)+_0x3a36d0+'\x20'+_0x46e619[_0xe42dd5(0x589)]+_0xe42dd5(0x2c7)+_0x148383+'\x20'+_0x5dfa6d+'\x20'+_0xf682e0+'\x20'+_0x3ab084+'\x20'+_0x49fa3e+_0xe42dd5(0x49f)+_0x142a6d+'\x20'+simpleMathPrompt,_0x3de324=_0x23f685;break;}_0x516122={'type':_0xe42dd5(0x129),'properties':{'topic':{'type':_0xe42dd5(0xc74)},'questions':{'type':_0xe42dd5(0x99c),'items':_0x3de324}},'required':['topic',_0xe42dd5(0x692)]};}const _0x464810=_0xe42dd5(0xa22);_0x20071d?(_0x14c2a4?_0x156dba=_0xe42dd5(0x120)+_0x20071d+'\x22,\x20'+_0x156dba+_0x464810:_0x156dba='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x20071d+'\x22,\x20'+_0x156dba,_0x4b13b4=_0xe42dd5(0x7d1)):(_0x14c2a4&&(_0x156dba+=_0x464810),_0x4b13b4=_0xe42dd5(0x5c1));let _0x12596d;return _0x36c916?(_0x12596d=[{'text':_0x156dba},..._0x36c916],_0x4b13b4=_0xe42dd5(0x15e)):_0x12596d=_0x156dba,handleApiCall(_0x12596d,_0x4b13b4,_0x516122,_0x42330e,!![],_0x2c0cf3,_0x12be5);}async function generateQuizFromFile(_0x2a021c,_0x314b69){const _0x5095ec=_0x252b26,_0x11ba02=document[_0x5095ec(0x8d1)](_0x5095ec(0xc18))[_0x5095ec(0x64c)][_0x5095ec(0x3cf)](),_0x53cf95=document['getElementById'](_0x5095ec(0x3ca))[_0x5095ec(0x64c)],_0x57ee7f=document[_0x5095ec(0x8d1)]('num-questions')[_0x5095ec(0x64c)],_0x438ddb=document[_0x5095ec(0x8d1)](_0x5095ec(0x543))[_0x5095ec(0x64c)],_0x18bf5a=document[_0x5095ec(0x8d1)]('include-images-checkbox')[_0x5095ec(0x22d)],_0x434e88=document[_0x5095ec(0x8d1)](_0x5095ec(0x996))[_0x5095ec(0x22d)],_0x43f9ba=_0x434e88?'':_0x5095ec(0xa11),_0x211545=document['getElementById'](_0x5095ec(0xc85))[_0x5095ec(0x22d)];let _0x204585='',_0x52f090;const _0x1d9ab5=_0x18bf5a?_0x5095ec(0x50d):'';if(_0x211545)_0x204585=_0x5095ec(0x28c)+_0x1d9ab5+'\x0a'+simpleMathPrompt+'\x0a',_0x52f090={'type':_0x5095ec(0x129),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5095ec(0xc74),'enum':[_0x5095ec(0x27f),_0x5095ec(0xb86),_0x5095ec(0x51c),_0x5095ec(0x711)]},'options':{'type':_0x5095ec(0x99c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5095ec(0xc74)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x5095ec(0xc74)},'correctResponse':{'type':_0x5095ec(0xc74)},'allResponses':{'type':_0x5095ec(0x99c),'items':{'type':_0x5095ec(0xc74)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5095ec(0xc74)}},'required':['questionType',_0x5095ec(0xa4b)]};else{let _0x597817='เกี่ยวกับหัวข้อ\x20\x22'+_0x11ba02+'\x22';!_0x11ba02&&(_0x597817=_0x5095ec(0x7a8));switch(_0x53cf95){case _0x5095ec(0x27f):_0x204585=_0x5095ec(0x3c8)+_0x43f9ba+'\x20'+_0x57ee7f+'\x20ข้อ\x20'+_0x597817+'.\x20แต่ละข้อมี\x20'+_0x438ddb+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x1d9ab5+'\x20'+simpleMathPrompt,_0x52f090={'type':_0x5095ec(0x129),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x5095ec(0xc74)}},'correctAnswerIndex':{'type':_0x5095ec(0x204)},'explanation':{'type':_0x5095ec(0xc74)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x5095ec(0x26e),_0x5095ec(0xa4b)]};break;case'fill_in_with_choices':_0x204585=_0x5095ec(0x6e0)+_0x43f9ba+'\x20'+_0x57ee7f+_0x5095ec(0x843)+_0x597817+_0x5095ec(0x532)+_0x438ddb+_0x5095ec(0x9ad)+_0x1d9ab5+'\x20'+simpleMathPrompt,_0x52f090={'type':_0x5095ec(0x129),'properties':{'questionText':{'type':_0x5095ec(0xc74)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5095ec(0x204)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5095ec(0xc74)}},'required':[_0x5095ec(0x15a),_0x5095ec(0xc69),'correctAnswerIndex',_0x5095ec(0xa4b)]};break;case _0x5095ec(0x95c):_0x204585=_0x5095ec(0x6e0)+_0x43f9ba+'\x20'+_0x57ee7f+_0x5095ec(0x843)+_0x597817+_0x5095ec(0x785)+_0x1d9ab5+'\x20'+simpleMathPrompt,_0x52f090={'type':_0x5095ec(0x129),'properties':{'questionText':{'type':_0x5095ec(0xc74)},'idealAnswer':{'type':_0x5095ec(0xc74)},'explanation':{'type':_0x5095ec(0xc74)},'imageCode':{'type':'STRING'}},'required':[_0x5095ec(0x15a),_0x5095ec(0xaef),_0x5095ec(0xa4b)]};break;case _0x5095ec(0x1f5):_0x204585='สร้างแบบทดสอบ'+_0x43f9ba+'\x20'+_0x57ee7f+_0x5095ec(0x843)+_0x597817+_0x5095ec(0xab2)+_0x438ddb+_0x5095ec(0x337)+_0x1d9ab5+'\x20'+simpleMathPrompt+_0x5095ec(0xc26),_0x52f090={'type':_0x5095ec(0x129),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x5095ec(0x27f),_0x5095ec(0xb86)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5095ec(0x204)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5095ec(0xc74)},'imageCode':{'type':_0x5095ec(0xc74)}},'required':[_0x5095ec(0x15a),'questionType','explanation']};break;case _0x5095ec(0x51c):_0x204585='สร้างคำถามแบบใช่/ไม่ใช่'+_0x43f9ba+'\x20'+_0x57ee7f+'\x20ข้อ\x20'+_0x597817+_0x5095ec(0x92a)+_0x1d9ab5+'\x20'+simpleMathPrompt,_0x52f090={'type':'OBJECT','properties':{'questionText':{'type':_0x5095ec(0xc74)},'correctAnswer':{'type':_0x5095ec(0x318)},'explanation':{'type':_0x5095ec(0xc74)},'imageCode':{'type':_0x5095ec(0xc74)}},'required':[_0x5095ec(0x15a),_0x5095ec(0x67b),_0x5095ec(0xa4b)]};break;case'matching':_0x204585=_0x5095ec(0x509)+_0x43f9ba+'\x20'+_0x57ee7f+_0x5095ec(0x2c7)+_0x597817+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x57ee7f+_0x5095ec(0xa77)+_0x1d9ab5+'\x20'+simpleMathPrompt,_0x52f090={'type':_0x5095ec(0x129),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x5095ec(0xc74)},'allResponses':{'type':_0x5095ec(0x99c),'items':{'type':_0x5095ec(0xc74)}},'explanation':{'type':_0x5095ec(0xc74)},'imageCode':{'type':_0x5095ec(0xc74)}},'required':[_0x5095ec(0x3ae),_0x5095ec(0x503),'correctResponse',_0x5095ec(0x98b),_0x5095ec(0xa4b)]};break;}}const _0x414529={'type':_0x5095ec(0x129),'properties':{'topic':{'type':_0x5095ec(0xc74)},'questions':{'type':_0x5095ec(0x99c),'items':_0x52f090}},'required':[_0x5095ec(0x5d7),'questions']},_0x1b83af='จากไฟล์ที่แนบมานี้,\x20'+_0x204585,_0x493069={'contents':[{'parts':[{'text':_0x1b83af},{'inlineData':{'mimeType':_0x2a021c,'data':_0x314b69}}]}],'generationConfig':{'responseMimeType':_0x5095ec(0xb94),'responseSchema':_0x414529}};return handleApiCall(_0x493069[_0x5095ec(0xb71)][0x0][_0x5095ec(0x373)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x414529);}async function handleApiCall(_0x1eb680,_0x1ca984,_0x6877b3,_0x41e675=null,_0x25ab0b=!![],_0x3e068d=null,_0x262bc5=null){const _0x40c47b=_0x252b26,_0x1f7f05=document['getElementById']('quiz-generation-area'),_0x38e120=document[_0x40c47b(0x8d1)](_0x40c47b(0x67c)),_0x3e1580=document['getElementById']('loader-text'),_0x4c9078=document[_0x40c47b(0x8d1)](_0x40c47b(0x538));_0x1f7f05[_0x40c47b(0x1da)][_0x40c47b(0x7ce)](_0x40c47b(0x25d));_0x41e675===null&&_0x25ab0b&&(_0x4c9078[_0x40c47b(0x8f6)]='');_0x38e120[_0x40c47b(0x1da)][_0x40c47b(0x7ce)]('hidden'),_0x3e1580[_0x40c47b(0x5eb)]=_0x1ca984,document['getElementById'](_0x40c47b(0xa58))[_0x40c47b(0x7dc)]=!![],document['getElementById'](_0x40c47b(0x4be))[_0x40c47b(0x7dc)]=!![],document['getElementById'](_0x40c47b(0x9d2))[_0x40c47b(0x7dc)]=!![];const _0x4c0828=document[_0x40c47b(0x8d1)]('generate-from-file-btn');if(_0x4c0828)_0x4c0828[_0x40c47b(0x7dc)]=!![];const _0x1055d0=document[_0x40c47b(0x8d1)](_0x40c47b(0xb69));if(_0x1055d0)_0x1055d0[_0x40c47b(0x7dc)]=!![];const _0x531339=document['getElementById'](_0x40c47b(0x971));if(_0x531339)_0x531339[_0x40c47b(0x7dc)]=!![];try{const _0x1623d4=Array[_0x40c47b(0x5c3)](_0x1eb680)?_0x1eb680:[{'text':_0x1eb680}],_0x5708ba={'contents':[{'role':'user','parts':_0x1623d4}]};_0x6877b3&&(_0x5708ba[_0x40c47b(0xb0a)]={'responseMimeType':_0x40c47b(0xb94),'responseSchema':_0x6877b3});const _0x1edd4f=_0x40c47b(0x689),_0x3a99d6=_0x40c47b(0x7f7)+_0x1edd4f,_0x5872fd=await fetch(_0x3a99d6,{'method':_0x40c47b(0x286),'headers':{'Content-Type':_0x40c47b(0xb94)},'body':JSON[_0x40c47b(0x34d)](_0x5708ba)});if(!_0x5872fd['ok']){const _0x56fa4d=await _0x5872fd[_0x40c47b(0xaac)]();console[_0x40c47b(0x62f)](_0x40c47b(0x16f),_0x56fa4d);throw new Error(_0x40c47b(0x556)+_0x5872fd[_0x40c47b(0x6c1)]);}const _0x5d322d=await _0x5872fd['json']();if(!_0x5d322d[_0x40c47b(0xa3f)]||_0x5d322d[_0x40c47b(0xa3f)]['length']===0x0){let _0x227e16=_0x40c47b(0x9e6);return _0x5d322d[_0x40c47b(0xc98)]?.[_0x40c47b(0x864)]&&(_0x227e16=_0x40c47b(0x642)+_0x5d322d[_0x40c47b(0xc98)]['blockReason']+'.'),console[_0x40c47b(0x62f)](_0x227e16,JSON[_0x40c47b(0x34d)](_0x5d322d)),null;}const _0x43b11e=_0x5d322d[_0x40c47b(0xa3f)][0x0][_0x40c47b(0x5c8)]['parts'][0x0][_0x40c47b(0xaac)];if(_0x6877b3){let _0x3b3735=_0x43b11e;if(_0x3b3735['startsWith'](_0x40c47b(0x94d)))_0x3b3735=_0x3b3735['substring'](0x7,_0x3b3735[_0x40c47b(0xa38)]-0x3)[_0x40c47b(0x3cf)]();else _0x3b3735['startsWith'](_0x40c47b(0x52b))&&(_0x3b3735=_0x3b3735[_0x40c47b(0x233)](0x3,_0x3b3735['length']-0x3)[_0x40c47b(0x3cf)]());let _0x1a42d9=JSON[_0x40c47b(0x577)](_0x3b3735);if(_0x25ab0b){if(_0x41e675!==null){}else currentQuizData=_0x1a42d9,displayGeneratedQuiz(currentQuizData,_0x3e068d,_0x262bc5);}return _0x1a42d9;}else return _0x43b11e;}catch(_0x1b7f0f){console[_0x40c47b(0x62f)](_0x40c47b(0xc00),_0x1b7f0f),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x1b7f0f[_0x40c47b(0xa56)]);_0x25ab0b&&(_0x4c9078[_0x40c47b(0x8f6)]=_0x40c47b(0xbd9));throw _0x1b7f0f;}finally{_0x38e120['classList']['add'](_0x40c47b(0x25d)),document[_0x40c47b(0x8d1)]('generate-from-topic-btn')[_0x40c47b(0x7dc)]=![],document[_0x40c47b(0x8d1)](_0x40c47b(0x4be))[_0x40c47b(0x7dc)]=![],document[_0x40c47b(0x8d1)](_0x40c47b(0x9d2))[_0x40c47b(0x7dc)]=![];if(_0x4c0828)_0x4c0828['disabled']=![];if(_0x1055d0)_0x1055d0[_0x40c47b(0x7dc)]=![];if(_0x531339)_0x531339[_0x40c47b(0x7dc)]=![];}}function exitFullscreen(){const _0x96584f=_0x252b26;if(document[_0x96584f(0xc75)])document[_0x96584f(0xc75)]()['catch'](_0x39951b=>console[_0x96584f(0x62f)](_0x39951b));else{if(document[_0x96584f(0x898)])document[_0x96584f(0x898)]();else document['msExitFullscreen']&&document[_0x96584f(0x1ee)]();}}function enterFullscreen(){const _0x36b8cd=_0x252b26,_0x103d31=document[_0x36b8cd(0x892)];if(_0x103d31[_0x36b8cd(0xb00)])_0x103d31[_0x36b8cd(0xb00)]()[_0x36b8cd(0x988)](_0x1792f3=>{const _0x331a46=_0x36b8cd;console['error'](_0x331a46(0x5ac)+_0x1792f3[_0x331a46(0xa56)]+'\x20('+_0x1792f3[_0x331a46(0x2c6)]+')');});else{if(_0x103d31[_0x36b8cd(0xc54)])_0x103d31[_0x36b8cd(0xc54)]();else _0x103d31[_0x36b8cd(0x86a)]&&_0x103d31[_0x36b8cd(0x86a)]();}}function handleCheatingEvent(){const _0x585115=_0x252b26;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x585115(0x2db),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x585115(0x7da)+maxCheatAttempts+_0x585115(0xc8d)),document[_0x585115(0x8d1)](_0x585115(0x4b5))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x585115(0xad6)](_0x585115(0xa9c),handleVisibilityChange),document['removeEventListener'](_0x585115(0x263),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x585115(0x547),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x6a0ed3=_0x252b26;if(currentMode===_0x6a0ed3(0xc83)||!isQuizActive)return;if(document[_0x6a0ed3(0x585)]==='hidden')handleCheatingEvent();else document[_0x6a0ed3(0x585)]===_0x6a0ed3(0xae3)&&(console['log'](_0x6a0ed3(0x5e2)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x455f32=_0x252b26;if(currentMode===_0x455f32(0xc83)||!isQuizActive)return;!document[_0x455f32(0x191)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4ddb56,_0x34988b=null,_0x57eba5=null){const _0x1996f8=_0x252b26,_0x80b389=document[_0x1996f8(0x8d1)](_0x1996f8(0x538));let _0x2faa2b=_0x1996f8(0x285)+_0x4ddb56[_0x1996f8(0x5d7)]+'</h3>';_0x4ddb56[_0x1996f8(0x692)]['forEach']((_0x4661e0,_0x1a03a2)=>{const _0x37348a=_0x1996f8;!_0x4661e0['id']&&(_0x4661e0['id']='q_'+Date[_0x37348a(0x4a0)]()+'_'+_0x1a03a2);const _0x14a7a4=_0x4661e0['questionType']||_0x4ddb56[_0x37348a(0x81d)];_0x2faa2b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x1a03a2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1a03a2+_0x37348a(0x960)+_0x1a03a2+_0x37348a(0xa62);switch(_0x14a7a4){case _0x37348a(0x711):_0x2faa2b+=_0x37348a(0xabe)+_0x1a03a2+'\x22>'+(_0x1a03a2+0x1)+'.\x20'+_0x4661e0['stem']+_0x37348a(0xbb8);_0x4661e0[_0x37348a(0xc33)]&&(_0x2faa2b+=_0x37348a(0x25e)+_0x1a03a2+_0x37348a(0x76f)+_0x4661e0[_0x37348a(0xc33)]+_0x37348a(0xa8c));_0x2faa2b+=_0x37348a(0x764)+_0x1a03a2+'\x22>'+_0x4661e0[_0x37348a(0xb28)]+_0x37348a(0x176),_0x2faa2b+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1a03a2+'\x22>'+_0x4661e0[_0x37348a(0xa4b)]+_0x37348a(0x176);break;case _0x37348a(0xb86):_0x2faa2b+=_0x37348a(0xabe)+_0x1a03a2+'\x22>'+(_0x1a03a2+0x1)+'.\x20'+_0x4661e0['questionText']+_0x37348a(0xbb8);_0x4661e0[_0x37348a(0xc33)]&&(_0x2faa2b+='<div\x20id=\x22q-image-container-'+_0x1a03a2+_0x37348a(0x76f)+_0x4661e0[_0x37348a(0xc33)]+_0x37348a(0xa8c));_0x2faa2b+=_0x37348a(0xab0)+_0x1a03a2+'\x22>'+_0x4661e0['idealAnswer']+_0x37348a(0x176),_0x2faa2b+=_0x37348a(0x883)+_0x1a03a2+'\x22>'+_0x4661e0['explanation']+_0x37348a(0x176);break;case _0x37348a(0x51c):_0x2faa2b+=_0x37348a(0xabe)+_0x1a03a2+'\x22>'+(_0x1a03a2+0x1)+'.\x20'+_0x4661e0[_0x37348a(0x15a)]+_0x37348a(0xbb8);_0x4661e0[_0x37348a(0xc33)]&&(_0x2faa2b+=_0x37348a(0x25e)+_0x1a03a2+_0x37348a(0x76f)+_0x4661e0[_0x37348a(0xc33)]+_0x37348a(0xa8c));_0x2faa2b+=_0x37348a(0x9b6)+(_0x4661e0[_0x37348a(0x67b)]===!![]?_0x37348a(0x283):'')+_0x37348a(0x743)+(_0x4661e0[_0x37348a(0x67b)]===![]?_0x37348a(0x283):'')+_0x37348a(0x9bb),_0x2faa2b+=_0x37348a(0x883)+_0x1a03a2+'\x22>'+_0x4661e0['explanation']+_0x37348a(0x176);break;case _0x37348a(0xc9a):case _0x37348a(0x27f):default:_0x2faa2b+=_0x37348a(0xabe)+_0x1a03a2+'\x22>'+(_0x1a03a2+0x1)+'.\x20'+_0x4661e0[_0x37348a(0x15a)]+_0x37348a(0xbb8);_0x4661e0[_0x37348a(0xc33)]&&(_0x2faa2b+=_0x37348a(0x25e)+_0x1a03a2+_0x37348a(0x76f)+_0x4661e0['imageCode']+_0x37348a(0xa8c));_0x2faa2b+=_0x37348a(0x409)+_0x1a03a2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4661e0['options']||[])[_0x37348a(0x625)]((_0x3706d9,_0x533761)=>_0x37348a(0xa5a)+(_0x533761===_0x4661e0[_0x37348a(0x26e)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x3706d9+_0x37348a(0x8cc))['join']('')+_0x37348a(0x32e),_0x2faa2b+=_0x37348a(0x883)+_0x1a03a2+'\x22>'+_0x4661e0[_0x37348a(0xa4b)]+_0x37348a(0x176);break;}_0x2faa2b+=_0x37348a(0xa8c);}),_0x2faa2b+=_0x1996f8(0xb55),_0x80b389[_0x1996f8(0x8f6)]=_0x2faa2b,document['querySelectorAll'](_0x1996f8(0x14c))['forEach'](_0x568950=>_0x568950['addEventListener'](_0x1996f8(0x4d9),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')['forEach'](_0x56ea12=>_0x56ea12[_0x1996f8(0x2d5)](_0x1996f8(0x4d9),handleRegenerateQuestion)),document[_0x1996f8(0x8d1)](_0x1996f8(0xba2))[_0x1996f8(0x2d5)](_0x1996f8(0x4d9),exportQuizAsWorksheetPDF),document[_0x1996f8(0x8d1)](_0x1996f8(0x395))[_0x1996f8(0x2d5)](_0x1996f8(0x4d9),handleVerifyAnswers);const _0x220555=document['getElementById'](_0x1996f8(0x744));if(_0x220555){const _0x266db9=_0x34988b||currentProjectId;_0x220555[_0x1996f8(0x2d5)](_0x1996f8(0x4d9),()=>saveQuiz(_0x266db9,_0x57eba5));}if(window[_0x1996f8(0x3fa)])window[_0x1996f8(0x3fa)][_0x1996f8(0x422)]([_0x80b389]);}function handleRegenerateQuestion(_0x13de6c){const _0x53b293=_0x252b26,_0x47394a=_0x13de6c['currentTarget']['dataset'][_0x53b293(0xbef)],_0x2ed6f6=currentQuizData[_0x53b293(0x5d7)];showMessage(_0x53b293(0x62a)+(parseInt(_0x47394a)+0x1)+_0x53b293(0x38d)),generateQuiz(_0x2ed6f6,null,parseInt(_0x47394a));}function getPointerPosition(_0x53c11a,_0x1177f0){const _0x5b4277=_0x252b26,_0x4e6b24=_0x53c11a[_0x5b4277(0xa02)]();let _0x16f4c5,_0x5cba53;return _0x1177f0[_0x5b4277(0xb2d)]&&_0x1177f0[_0x5b4277(0xb2d)]['length']>0x0?(_0x16f4c5=_0x1177f0[_0x5b4277(0xb2d)][0x0][_0x5b4277(0xc14)],_0x5cba53=_0x1177f0['touches'][0x0][_0x5b4277(0x603)]):(_0x16f4c5=_0x1177f0[_0x5b4277(0xc14)],_0x5cba53=_0x1177f0['clientY']),{'x':(_0x16f4c5-_0x4e6b24['e'])/_0x4e6b24['a'],'y':(_0x5cba53-_0x4e6b24['f'])/_0x4e6b24['d']};}function startDrag(_0x30bd60){const _0x5e4c77=_0x252b26;_0x30bd60[_0x5e4c77(0x238)]===_0x5e4c77(0x76c)&&_0x30bd60[_0x5e4c77(0x65f)]();const _0x5c0536=_0x30bd60[_0x5e4c77(0x54a)][_0x5e4c77(0x161)](_0x5e4c77(0xc04));if(_0x5c0536){draggedSvgElement=_0x5c0536;const _0x5b64f0=draggedSvgElement[_0x5e4c77(0x1eb)],_0x2debe5=getPointerPosition(_0x5b64f0,_0x30bd60);svgOffset['x']=_0x2debe5['x']-parseFloat(draggedSvgElement[_0x5e4c77(0x330)](null,'x')),svgOffset['y']=_0x2debe5['y']-parseFloat(draggedSvgElement[_0x5e4c77(0x330)](null,'y'));}}function calculateItemAnalysis(_0x382db1,_0x3c62fa){const _0xe8007b=_0x252b26,_0x269939={};if(_0x3c62fa[_0xe8007b(0xa38)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3554ff=[..._0x3c62fa][_0xe8007b(0x910)]((_0x12e323,_0x289b39)=>{const _0x4fc50b=_0xe8007b,_0x2c2072=_0x289b39[_0x4fc50b(0xb64)]-_0x12e323[_0x4fc50b(0xb64)];if(_0x2c2072!==0x0)return _0x2c2072;const _0x524a84=_0x12e323['attempts']?.[_0x4fc50b(0xa38)]||0x1,_0x1b2539=_0x289b39['attempts']?.['length']||0x1,_0x5e8777=_0x524a84-_0x1b2539;if(_0x5e8777!==0x0)return _0x5e8777;const _0x2c172c=new Date(_0x12e323[_0x4fc50b(0x759)]),_0x4c47f7=new Date(_0x289b39['latestSubmittedAt']),_0x2432cb=_0x2c172c-_0x4c47f7;if(_0x2432cb!==0x0)return _0x2432cb;return _0x12e323[_0x4fc50b(0x688)]['localeCompare'](_0x289b39[_0x4fc50b(0x688)],'th');}),_0x4e3e5c=_0x3554ff[_0xe8007b(0xa38)],_0x42ee85=Math[_0xe8007b(0x494)](0x1,Math[_0xe8007b(0xb79)](_0x4e3e5c*0.33));if(_0x42ee85===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5a7f4c=_0x3554ff[_0xe8007b(0xa66)](0x0,_0x42ee85),_0x4525f5=_0x3554ff['slice'](-_0x42ee85),_0x1189c1=_0x5a7f4c[_0xe8007b(0x625)](_0x934e9d=>_0x934e9d['studentName']),_0x2de4fd=_0x4525f5[_0xe8007b(0x625)](_0x289907=>_0x289907[_0xe8007b(0x688)]);return _0x382db1[_0xe8007b(0x692)][_0xe8007b(0x236)]((_0x22582b,_0x19f5f1)=>{const _0x34f9f4=_0xe8007b,_0x5ca2aa=_0x22582b[_0x34f9f4(0x503)]||_0x22582b[_0x34f9f4(0x15a)];let _0x2d9e75=0x0,_0x3874e9=0x0,_0x33d9bb=0x0;const _0x5659dd=[],_0x468c3c=[];_0x5a7f4c[_0x34f9f4(0x236)](_0x437fbe=>{const _0x211f3a=_0x34f9f4,_0x3f17ba=_0x437fbe[_0x211f3a(0x8ae)][_0x437fbe['attempts'][_0x211f3a(0xa38)]-0x1],_0x9bba22=_0x3f17ba[_0x211f3a(0xa3d)][_0x211f3a(0x269)](_0x45021e=>_0x45021e['originalQuestionText']===_0x5ca2aa);_0x5659dd[_0x211f3a(0xc64)]({'name':_0x437fbe['studentName'],'isCorrect':_0x9bba22?_0x9bba22[_0x211f3a(0x282)]:![]}),_0x9bba22&&_0x9bba22[_0x211f3a(0x282)]&&_0x3874e9++;}),_0x4525f5[_0x34f9f4(0x236)](_0x411bdc=>{const _0x4f15af=_0x34f9f4,_0x41d82d=_0x411bdc['attempts'][_0x411bdc[_0x4f15af(0x8ae)][_0x4f15af(0xa38)]-0x1],_0x1bb214=_0x41d82d[_0x4f15af(0xa3d)][_0x4f15af(0x269)](_0x57f929=>_0x57f929[_0x4f15af(0x214)]===_0x5ca2aa);_0x468c3c[_0x4f15af(0xc64)]({'name':_0x411bdc[_0x4f15af(0x688)],'isCorrect':_0x1bb214?_0x1bb214[_0x4f15af(0x282)]:![]}),_0x1bb214&&_0x1bb214[_0x4f15af(0x282)]&&_0x33d9bb++;}),_0x3c62fa[_0x34f9f4(0x236)](_0x5a1ae6=>{const _0x561ec1=_0x34f9f4,_0x35667b=_0x5a1ae6[_0x561ec1(0x8ae)][_0x5a1ae6['attempts'][_0x561ec1(0xa38)]-0x1],_0x3e6abe=_0x35667b[_0x561ec1(0xa3d)][_0x561ec1(0x269)](_0x15b6e3=>_0x15b6e3['originalQuestionText']===_0x5ca2aa);_0x3e6abe&&_0x3e6abe['isCorrect']&&_0x2d9e75++;});const _0x1a8fa9=_0x4e3e5c>0x0?_0x2d9e75/_0x4e3e5c:0x0,_0x3cb9f6=_0x42ee85>0x0?_0x3874e9/_0x42ee85-_0x33d9bb/_0x42ee85:0x0;_0x269939[_0x19f5f1]={'p':_0x1a8fa9,'r':_0x3cb9f6,'upperGroupResponders':_0x5659dd,'lowerGroupResponders':_0x468c3c};}),{'perQuestionStats':_0x269939,'overallGroups':{'upperGroupNames':_0x1189c1,'lowerGroupNames':_0x2de4fd}};}function drag(_0x1315c2){const _0x30b328=_0x252b26;if(draggedSvgElement){_0x1315c2['preventDefault']();const _0x398f0e=draggedSvgElement[_0x30b328(0x1eb)],_0x36bf88=getPointerPosition(_0x398f0e,_0x1315c2),_0x21d52e=_0x398f0e[_0x30b328(0x3b6)][_0x30b328(0x147)];let _0x1be1bd=_0x36bf88['x']-svgOffset['x'],_0x5bddf9=_0x36bf88['y']-svgOffset['y'];const _0x2ef5f5=draggedSvgElement[_0x30b328(0xbdd)]();_0x1be1bd=Math[_0x30b328(0x494)](_0x21d52e['x'],Math[_0x30b328(0xa49)](_0x1be1bd,_0x21d52e['x']+_0x21d52e[_0x30b328(0xb2f)]-_0x2ef5f5[_0x30b328(0xb2f)])),_0x5bddf9=Math['max'](_0x21d52e['y'],Math[_0x30b328(0xa49)](_0x5bddf9,_0x21d52e['y']+_0x21d52e[_0x30b328(0x92c)]-_0x2ef5f5[_0x30b328(0x92c)])),draggedSvgElement[_0x30b328(0x904)](null,'x',_0x1be1bd),draggedSvgElement[_0x30b328(0x904)](null,'y',_0x5bddf9);}}function endDrag(_0x426b9a){draggedSvgElement=null;}function handleSvgEditClick(_0x2b165f){const _0x150ec0=_0x252b26;if(_0x2b165f[_0x150ec0(0x54a)][_0x150ec0(0x1da)]['contains']('delete-svg-btn')){const _0x41c317=_0x2b165f['target'][_0x150ec0(0x9e8)]['targetId'],_0x334c4c=_0x2b165f[_0x150ec0(0x37d)],_0x5bb92d=_0x334c4c[_0x150ec0(0x2b7)]('#'+_0x41c317);_0x5bb92d&&_0x5bb92d[_0x150ec0(0x7ce)](),_0x2b165f['target']['remove']();}}function handleEditQuestion(_0x11a5ff){const _0xef3a3b=_0x252b26,_0x2f36f5=_0x11a5ff['currentTarget'],_0x25612a=_0x2f36f5[_0xef3a3b(0x9e8)][_0xef3a3b(0xbef)],_0x5da134=currentQuizData['questions'][_0x25612a],_0x2e1341=document[_0xef3a3b(0x8d1)](_0xef3a3b(0x153)+_0x25612a),_0x2e45cf=document[_0xef3a3b(0x8d1)]('q-explanation-'+_0x25612a),_0x1d714a=document[_0xef3a3b(0x8d1)]('q-image-container-'+_0x25612a);if(_0x2f36f5[_0xef3a3b(0x8f6)][_0xef3a3b(0x7d5)](_0xef3a3b(0xb32))){_0x2f36f5[_0xef3a3b(0x8f6)]=_0xef3a3b(0x4c2),_0x2f36f5['title']=_0xef3a3b(0x954);if(_0x2e1341)_0x2e1341[_0xef3a3b(0x886)]=!![];if(_0x2e45cf)_0x2e45cf[_0xef3a3b(0x886)]=!![];if(_0x1d714a){const _0x471aec=_0x1d714a[_0xef3a3b(0x2b7)](_0xef3a3b(0x232));if(_0x471aec){const _0x2748b7=_0x471aec['querySelectorAll']('text');_0x2748b7['forEach']((_0x122dc6,_0x18ef3e)=>{const _0x4f0b28=_0xef3a3b,_0x42dd51=_0x4f0b28(0x8f3)+_0x25612a+'-'+_0x18ef3e;_0x122dc6['id']=_0x42dd51,_0x122dc6['classList'][_0x4f0b28(0x2df)](_0x4f0b28(0x2f6)),_0x122dc6[_0x4f0b28(0x8b2)][_0x4f0b28(0x464)]=_0x4f0b28(0x3fe);const _0x5c3053=document['createElementNS'](_0x4f0b28(0x3f8),_0x4f0b28(0x210)),_0xe68b8a=_0x122dc6[_0x4f0b28(0xbdd)]();_0x5c3053['setAttribute']('cx',String(_0xe68b8a['x']+_0xe68b8a[_0x4f0b28(0xb2f)]+0x5)),_0x5c3053['setAttribute']('cy',String(_0xe68b8a['y']+_0xe68b8a[_0x4f0b28(0x92c)]/0x2-0x5)),_0x5c3053[_0x4f0b28(0xbae)]('r','5'),_0x5c3053[_0x4f0b28(0xbae)](_0x4f0b28(0xaa1),'red'),_0x5c3053[_0x4f0b28(0xbae)](_0x4f0b28(0xabb),_0x4f0b28(0xa64)),_0x5c3053[_0x4f0b28(0x9e8)][_0x4f0b28(0x11f)]=_0x42dd51,_0x122dc6[_0x4f0b28(0x5d0)](_0x5c3053);}),_0x471aec[_0xef3a3b(0x2d5)](_0xef3a3b(0x71d),startDrag),_0x471aec['addEventListener'](_0xef3a3b(0x551),drag),_0x471aec['addEventListener'](_0xef3a3b(0xb3b),endDrag),_0x471aec[_0xef3a3b(0x2d5)]('mouseleave',endDrag),_0x471aec[_0xef3a3b(0x2d5)](_0xef3a3b(0x76c),startDrag,{'passive':![]}),_0x471aec[_0xef3a3b(0x2d5)](_0xef3a3b(0xa6a),drag,{'passive':![]}),_0x471aec['addEventListener'](_0xef3a3b(0x1e7),endDrag),_0x471aec[_0xef3a3b(0x2d5)]('touchcancel',endDrag),_0x471aec[_0xef3a3b(0x2d5)](_0xef3a3b(0x4d9),handleSvgEditClick);}}if(_0x2e1341)_0x2e1341[_0xef3a3b(0x220)]();}else{_0x2f36f5['innerHTML']=_0xef3a3b(0xb06),_0x2f36f5[_0xef3a3b(0xc57)]='แก้ไขข้อนี้';if(_0x2e1341){_0x2e1341[_0xef3a3b(0x886)]=![];const _0x21ae7d=_0x5da134[_0xef3a3b(0x3ae)]||currentQuizData['quizType'];_0x21ae7d===_0xef3a3b(0x711)?_0x5da134[_0xef3a3b(0x503)]=_0x2e1341[_0xef3a3b(0xa73)][_0xef3a3b(0x233)](_0x2e1341[_0xef3a3b(0xa73)]['indexOf']('.')+0x2)[_0xef3a3b(0x3cf)]():_0x5da134[_0xef3a3b(0x15a)]=_0x2e1341[_0xef3a3b(0xa73)]['substring'](_0x2e1341[_0xef3a3b(0xa73)][_0xef3a3b(0xaa5)]('.')+0x2)[_0xef3a3b(0x3cf)]();}_0x2e45cf&&(_0x2e45cf['contentEditable']=![],_0x5da134[_0xef3a3b(0xa4b)]=_0x2e45cf[_0xef3a3b(0xa73)]);if(_0x1d714a){const _0x2870cd=_0x1d714a['querySelector']('svg');if(_0x2870cd){const _0x7fac50=_0x2870cd[_0xef3a3b(0x7a5)](!![]);_0x7fac50['querySelectorAll'](_0xef3a3b(0x2e9))['forEach'](_0x2ffe1a=>_0x2ffe1a['remove']()),_0x7fac50['querySelectorAll'](_0xef3a3b(0xc04))['forEach'](_0x1fe278=>{const _0x2928ab=_0xef3a3b;_0x1fe278[_0x2928ab(0x1da)]['remove'](_0x2928ab(0x2f6)),_0x1fe278[_0x2928ab(0x8b2)][_0x2928ab(0x464)]=_0x2928ab(0x9c5),_0x1fe278[_0x2928ab(0xc49)]('id');}),_0x5da134[_0xef3a3b(0xc33)]=_0x7fac50['outerHTML'],_0x2870cd[_0xef3a3b(0xad6)](_0xef3a3b(0x71d),startDrag),_0x2870cd[_0xef3a3b(0xad6)]('mousemove',drag),_0x2870cd[_0xef3a3b(0xad6)]('mouseup',endDrag),_0x2870cd['removeEventListener'](_0xef3a3b(0xb48),endDrag),_0x2870cd[_0xef3a3b(0xad6)](_0xef3a3b(0x76c),startDrag),_0x2870cd['removeEventListener'](_0xef3a3b(0xa6a),drag),_0x2870cd[_0xef3a3b(0xad6)](_0xef3a3b(0x1e7),endDrag),_0x2870cd[_0xef3a3b(0xad6)]('touchcancel',endDrag),_0x2870cd[_0xef3a3b(0xad6)](_0xef3a3b(0x4d9),handleSvgEditClick),_0x2870cd[_0xef3a3b(0xa48)](_0xef3a3b(0x2e9))[_0xef3a3b(0x236)](_0x2d6d80=>_0x2d6d80[_0xef3a3b(0x7ce)]()),_0x2870cd['querySelectorAll'](_0xef3a3b(0xc04))[_0xef3a3b(0x236)](_0x415f03=>{const _0x16ce86=_0xef3a3b;_0x415f03['classList']['remove']('draggable-text'),_0x415f03[_0x16ce86(0x8b2)][_0x16ce86(0x464)]=_0x16ce86(0x9c5);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xba775d){const _0x1d84ba=_0x252b26,_0x2acbf6=document[_0x1d84ba(0x8d1)]('quiz-editor-modal'),_0x215224=document[_0x1d84ba(0x8d1)](_0x1d84ba(0x1a3));_0x215224[_0x1d84ba(0x8f6)]=_0x1d84ba(0x727),_0x2acbf6[_0x1d84ba(0x1da)][_0x1d84ba(0x7ce)](_0x1d84ba(0x25d));try{const _0x1d241d=doc(db,_0x1d84ba(0x1d1)+appId+_0x1d84ba(0x1a5),_0xba775d),_0x2ca082=await getDoc(_0x1d241d);if(!_0x2ca082['exists']())throw new Error(_0x1d84ba(0x923));currentEditingQuizData={'id':_0xba775d,..._0x2ca082['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x42db4a){console[_0x1d84ba(0x62f)](_0x1d84ba(0x5ee),_0x42db4a),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x2acbf6[_0x1d84ba(0x1da)][_0x1d84ba(0x2df)](_0x1d84ba(0x25d));}}function renderQuizEditor(_0x16e9cc){const _0x37d6cd=_0x252b26;document['getElementById'](_0x37d6cd(0x11e))[_0x37d6cd(0x64c)]=_0x16e9cc[_0x37d6cd(0x5d7)];const _0x3777ee=document[_0x37d6cd(0x8d1)](_0x37d6cd(0x1a3));let _0x544a5b=_0x16e9cc[_0x37d6cd(0x692)][_0x37d6cd(0x625)]((_0x280d30,_0x4ffb7a)=>{const _0x3dad7a=_0x37d6cd;let _0x5a7eb5='';const _0x29d35a=_0x280d30['questionType']||_0x16e9cc[_0x3dad7a(0x81d)];switch(_0x29d35a){case _0x3dad7a(0x27f):const _0xd892bd=(_0x280d30[_0x3dad7a(0xc69)]||[])['map']((_0x5d2b34,_0xb4062e)=>_0x3dad7a(0x72e)+_0x4ffb7a+_0x3dad7a(0x7ea)+_0xb4062e+'\x22\x20'+(_0xb4062e===_0x280d30[_0x3dad7a(0x26e)]?_0x3dad7a(0x22d):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x5d2b34+_0x3dad7a(0x683))[_0x3dad7a(0x424)]('');_0x5a7eb5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0xd892bd+_0x3dad7a(0x7b3);break;case'short_answer':_0x5a7eb5=_0x3dad7a(0x4ca)+(_0x280d30[_0x3dad7a(0xaef)]||'')+_0x3dad7a(0x189);break;case _0x3dad7a(0x51c):_0x5a7eb5=_0x3dad7a(0x96b)+_0x4ffb7a+_0x3dad7a(0x749)+(_0x280d30[_0x3dad7a(0x67b)]===!![]?_0x3dad7a(0x22d):'')+_0x3dad7a(0x546)+_0x4ffb7a+_0x3dad7a(0x7f2)+(_0x280d30['correctAnswer']===![]?_0x3dad7a(0x22d):'')+_0x3dad7a(0x61a);break;case _0x3dad7a(0x711):_0x5a7eb5=_0x3dad7a(0x68f)+(_0x280d30['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x140d3b=_0x280d30[_0x3dad7a(0x15a)]||_0x280d30[_0x3dad7a(0x503)]||'';return _0x3dad7a(0x6fa)+_0x4ffb7a+_0x3dad7a(0xb5f)+_0x29d35a+_0x3dad7a(0x17e)+(_0x4ffb7a+0x1)+'\x20('+_0x29d35a+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x140d3b+'</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x5a7eb5+'</div>\x0a</div>\x0a';})[_0x37d6cd(0x424)]('');_0x3777ee[_0x37d6cd(0x8f6)]=_0x544a5b,_0x3777ee[_0x37d6cd(0xa48)](_0x37d6cd(0x55e))['forEach'](_0x5894f3=>{const _0x4dc88f=_0x37d6cd;_0x5894f3[_0x4dc88f(0x2d5)](_0x4dc88f(0x4d9),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x80e162){const _0x515c7c=_0x252b26,_0x891846=_0x80e162[_0x515c7c(0x37d)],_0x1a3948=_0x891846[_0x515c7c(0x161)](_0x515c7c(0x7f1));if(!_0x1a3948)return;const _0x398388=parseInt(_0x1a3948[_0x515c7c(0x9e8)][_0x515c7c(0x458)],0xa);if(isNaN(_0x398388)||!currentEditingQuizData['questions'][_0x398388]){showMessage(_0x515c7c(0x854));return;}const _0x50b8dc=currentEditingQuizData[_0x515c7c(0x692)][_0x398388];_0x891846[_0x515c7c(0x8f6)]=_0x515c7c(0x3e0),_0x891846[_0x515c7c(0x7dc)]=!![];const _0x5215d7=_0x515c7c(0xc55)+JSON['stringify'](_0x50b8dc)+_0x515c7c(0xc6c);let _0x38148f;const _0x48d798=_0x50b8dc[_0x515c7c(0x3ae)]||currentEditingQuizData['quizType'];switch(_0x48d798){case _0x515c7c(0xb86):_0x38148f={'type':_0x515c7c(0x129),'properties':{'questionText':{'type':_0x515c7c(0xc74)},'idealAnswer':{'type':_0x515c7c(0xc74)},'explanation':{'type':_0x515c7c(0xc74)},'imageCode':{'type':_0x515c7c(0xc74)}},'required':[_0x515c7c(0x15a),'idealAnswer','explanation']};break;case _0x515c7c(0x27f):default:_0x38148f={'type':_0x515c7c(0x129),'properties':{'questionText':{'type':_0x515c7c(0xc74)},'options':{'type':'ARRAY','items':{'type':_0x515c7c(0xc74)}},'correctAnswerIndex':{'type':_0x515c7c(0x204)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x515c7c(0xc74)}},'required':[_0x515c7c(0x15a),'options','correctAnswerIndex',_0x515c7c(0xa4b)]};break;}try{let _0x26f441=await callAnalysisApi(_0x5215d7,_0x38148f);_0x26f441[_0x515c7c(0xc69)]&&Array[_0x515c7c(0x5c3)](_0x26f441[_0x515c7c(0xc69)])&&(_0x26f441[_0x515c7c(0xc69)]=_0x26f441[_0x515c7c(0xc69)][_0x515c7c(0x625)](_0x3d8db2=>typeof _0x3d8db2===_0x515c7c(0xbf8)?_0x3d8db2['replace'](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x3d8db2)),_0x50b8dc['imageCode']&&_0x50b8dc[_0x515c7c(0xc33)][_0x515c7c(0x7d5)](_0x515c7c(0x6f0))&&(_0x26f441[_0x515c7c(0xc33)]=''),currentEditingQuizData[_0x515c7c(0x692)][_0x398388]={..._0x50b8dc,..._0x26f441},renderQuizEditor(currentEditingQuizData),showMessage(_0x515c7c(0x14a));}catch(_0x2946ad){console[_0x515c7c(0x62f)](_0x515c7c(0x322),_0x2946ad),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x9431d8=_0x252b26,_0x1c832f=document['getElementById'](_0x9431d8(0x272));_0x1c832f[_0x9431d8(0x7dc)]=!![],_0x1c832f[_0x9431d8(0x8f6)]=_0x9431d8(0x818);try{const _0x2a32d4=document[_0x9431d8(0x8d1)](_0x9431d8(0x11e))[_0x9431d8(0x64c)],_0x41215a=document[_0x9431d8(0xa48)](_0x9431d8(0x7f1));let _0x2d2bfe=[];const _0x119d1e=Array['from'](_0x41215a)[_0x9431d8(0x625)]((_0x3ddeb8,_0x1ae0fd)=>{const _0x156d22=_0x9431d8,_0x6d689b=_0x3ddeb8[_0x156d22(0x9e8)]['qType'],_0x35bc0e=_0x3ddeb8[_0x156d22(0x2b7)](_0x156d22(0x7f0))[_0x156d22(0x64c)][_0x156d22(0x1fb)](/\n/g,'<br>');let _0x2408e9={'questionType':_0x6d689b};const _0x2e5cf3=currentEditingQuizData['questions'][_0x1ae0fd];switch(_0x6d689b){case _0x156d22(0x27f):_0x2408e9[_0x156d22(0x15a)]=_0x35bc0e;const _0x232b08=_0x3ddeb8['querySelectorAll']('input[type=\x22text\x22]');_0x2408e9[_0x156d22(0xc69)]=Array['from'](_0x232b08)['map'](_0x15c31a=>_0x15c31a['value']);const _0x53a509=_0x3ddeb8[_0x156d22(0x2b7)](_0x156d22(0xacd));_0x2408e9[_0x156d22(0x26e)]=_0x53a509?parseInt(_0x53a509['value']):0x0;break;case _0x156d22(0xb86):_0x2408e9[_0x156d22(0x15a)]=_0x35bc0e,_0x2408e9[_0x156d22(0xaef)]=_0x3ddeb8['querySelector'](_0x156d22(0xbd8))[_0x156d22(0x64c)];break;case _0x156d22(0x51c):_0x2408e9[_0x156d22(0x15a)]=_0x35bc0e;const _0x114894=_0x3ddeb8[_0x156d22(0x2b7)]('input[type=\x22radio\x22]:checked');_0x2408e9['correctAnswer']=_0x114894?_0x114894['value']===_0x156d22(0x7c4):!![];break;case _0x156d22(0x711):_0x2408e9[_0x156d22(0x503)]=_0x35bc0e;const _0x3c1790=_0x3ddeb8[_0x156d22(0x2b7)](_0x156d22(0x9b5));_0x2408e9[_0x156d22(0xb28)]=_0x3c1790?_0x3c1790['value']:'',_0x2d2bfe[_0x156d22(0xc64)](_0x2408e9[_0x156d22(0xb28)]);break;default:_0x2408e9[_0x156d22(0x15a)]=_0x35bc0e;break;}return{..._0x2e5cf3,..._0x2408e9};});_0x2d2bfe[_0x9431d8(0xa38)]>0x0&&_0x119d1e['forEach'](_0x1c6af7=>{const _0x185c5f=_0x9431d8;_0x1c6af7[_0x185c5f(0x3ae)]===_0x185c5f(0x711)&&(_0x1c6af7[_0x185c5f(0x98b)]=_0x2d2bfe);});const _0x29d550=currentEditingQuizData['id'],_0x1349fa=doc(db,_0x9431d8(0x1d1)+appId+_0x9431d8(0x1a5),_0x29d550);await updateDoc(_0x1349fa,{'topic':_0x2a32d4,'questions':_0x119d1e}),document['getElementById']('quiz-editor-modal')[_0x9431d8(0x1da)]['add']('hidden'),showMessage(_0x9431d8(0x6cf),()=>initiateReGradeProcess(_0x29d550));}catch(_0x36068c){console['error']('Error\x20saving\x20quiz\x20edits:',_0x36068c),showMessage(_0x9431d8(0x45c));}finally{_0x1c832f[_0x9431d8(0x7dc)]=![],_0x1c832f[_0x9431d8(0x8f6)]=_0x9431d8(0xa29);}}async function initiateReGradeProcess(_0x2136b4){const _0x240669=_0x252b26;showMessage(_0x240669(0x75e));try{const _0x1e60b4=doc(db,_0x240669(0x1d1)+appId+_0x240669(0x1a5),_0x2136b4),_0x344336=await getDoc(_0x1e60b4);if(!_0x344336[_0x240669(0xbfd)]())throw new Error(_0x240669(0x9ab));const _0x4b9b41={'id':_0x2136b4,..._0x344336[_0x240669(0xa36)]()},_0xab8bfb=collection(db,_0x240669(0x1d1)+appId+_0x240669(0x1a5),_0x2136b4,_0x240669(0x5b3)),_0x48d41b=await getDocs(_0xab8bfb);if(_0x48d41b[_0x240669(0x8a1)]){showMessage(_0x240669(0xb50));return;}const _0x58985b=_0x48d41b[_0x240669(0x72c)][_0x240669(0x625)](_0x58c55c=>reGradeSingleSubmission(_0x58c55c,_0x4b9b41));await Promise[_0x240669(0xadc)](_0x58985b);if(_0x4b9b41['projectId']){const _0xfd1ff5=doc(db,'artifacts/'+appId+_0x240669(0x301),_0x4b9b41[_0x240669(0x86f)]),_0x8c2f87=await getDoc(_0xfd1ff5);if(_0x8c2f87[_0x240669(0xbfd)]()&&_0x8c2f87[_0x240669(0xa36)]()[_0x240669(0x91a)]){const _0x482126=_0x8c2f87[_0x240669(0xa36)]()['students']['map'](_0x3cc5c2=>updateStudentProfile(_0x4b9b41[_0x240669(0x86f)],_0x3cc5c2));await Promise[_0x240669(0xadc)](_0x482126);}}showMessage(_0x240669(0x5c4)+_0x48d41b[_0x240669(0xb19)]+_0x240669(0x152));}catch(_0x13628f){console[_0x240669(0x62f)](_0x240669(0xbb9),_0x13628f),showMessage(_0x240669(0x37e)+_0x13628f['message']);}}function _0x13fa(){const _0x1cb04c=['ความคล้ายของรูป','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','สอบปกติ','setAttribute','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','onchange','handleGenerateAndShowLesson','กรุณาเลือกชื่อของคุณ','commit','ฟังก์ชันยกกำลัง','</p>','Re-grade\x20process\x20failed:','student-initial-view','รูปหลายเหลี่ยมและมุมภายใน','correct','ทฤษฎีบทพีทาโกรัสและการประยุกต์','project-id-display','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','รูปสแควร์รูท\x20(surd)','พีชคณิตและฟังก์ชัน','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','Failed\x20to\x20resume\x20game\x20session:','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','เพิ่มปุ่มลัดจากไฟล์ใหม่','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','แผนการสอน:\x20','แผนการสอน','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','กำลังสร้างรูปภาพ...','กำลังวิเคราะห์หัวข้อ...','flex','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สมการยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','times','Copy\x20command\x20failed','getContext','การแยกตัวประกอบ','.summary-bar-item','pen-tool-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','.ideal-answer-input','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','comparison-overall-content','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','ความชันและเส้นตรง','getBBox','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','รหัสไม่ถูกต้อง','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','topic-input-area','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','submit-group-answer-btn','student-project-leaderboard-tab','message-modal','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','previousElementSibling','index','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','match','doughnut','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','left','string','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','ลบผลสอบของ\x20','timerDuration','exists','แก้ไขหัวข้อสำเร็จ','Error\x20adding\x20students:','Error\x20in\x20handleApiCall:','.application-options\x20button','isNormalTopic','trail','.draggable-text','file-shortcut-name-input','<p\x20class=\x22text-xl\x22>','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','handleGeneratePracticeTest','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22',':</span><span>','ความแปรปรวน','commonMistakes','\x20/\x20','Authentication\x20failed:','project-quizzes-list','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','text/csv;charset=utf-8;','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','clientX','Error\x20during\x20class\x20analysis:','สามเหลี่ยม\x20(ชนิด/สมบัติ)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topic-input','.pair-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวแปรและนิพจน์','สถิติและความน่าจะเป็น','คำถามถัดไป','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','7466576JypknL','getTextContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-700','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','bp-modal-shuffle-setting-select','เกิดข้อผิดพลาดในการสร้างใบงาน','request','เกิดข้อผิดพลาดในการนำผู้เล่นออก','round','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.generate-content-btn','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','ไม่ระบุ',',\x20r=','กรุณาเลือกไฟล์ก่อน','\x20ครั้ง)</span></td>','imageCode','progress-student-select','การแปลงรูปอัตลักษณ์','text-gray-500','source_document.txt','behavior-log','tooltipTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','fa-user-astronaut\x20text-blue-700','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20</div>\x0a\x20\x20\x20\x20','\x20quizzes\x20into\x20global\x20cache.','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','presentation-modal','ระยะจากจุดถึงเส้นตรง','\x20link(s)\x20for\x20quiz\x20ID:\x20','manual-bp-project-name','.bp-edit-topic-btn','removeAttribute','text-blue-700\x20bg-blue-100','uid','กรุณาเลือกโปรเจคก่อน','\x5cdiv','ดอทโปรดักต์\x20(dot)','reference.txt','เกมสิ้นสุดลงแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','บันทึกการตั้งค่าสำเร็จ','end-game-btn','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','source-over','title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20saving\x20settings:','curriculum','getBoundingClientRect','Error\x20saving\x20visibility\x20settings:','trail-tool-btn','toLocaleDateString','save','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence_single','presentation-short-answer-input','push','passingScore','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','ชนิดของข้อมูลและการเก็บข้อมูล','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','options','bg-green-400\x20text-white\x20font-bold','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','ปริมาตร/ความจุและการแปลง','การจัดหมู่\x20(Combination)','Error\x20joining\x20live\x20game:','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','both','inactive','podium','STRING','exitFullscreen','Error\x20loading\x20blueprint\x20projects:','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','ย้าย','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-sections-container','.txt','live-race','pointerup','/public/data/blueprintProjects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','admin-testing','<h1></h1>','original-mode-checkbox','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','.view-bp-lesson-btn','timer-duration-container','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','answered','Failed\x20to\x20get\x20standardized\x20topic:','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','scheduled','starred-project','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','Loaded\x20','/public/data/liveGames','รอเปิด','responseSchema','starred','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','Error\x20saving\x20reference\x20URL:','promptFeedback','พิสัย','fill_in_the_blank','bg-green-200\x20text-green-800','<div\x20class=\x22answer-space\x22></div>','องค์ประกอบของฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจค','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','practiceProblems','Error\x20submitting\x20group\x20answer:','activeGameSession','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','ใช่\x20/\x20ถูก','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','.project-card-container.opacity-50','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</div></div></div>','ความชันเส้นสัมผัส','Error\x20listening\x20for\x20projects:','promise','isStarred','editor-quiz-topic','targetId','จากเนื้อหาต่อไปนี้:\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-analytics-container','ไม่พบข้อมูลผู้ใช้','.pin-project-btn','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','student-view','close-game-final-btn','#parallel-shortcut-tabs-nav\x20.tab-name-input','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20resetting\x20project\x20order:','mainTopics','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','bg-red-500\x20text-white\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','readAsDataURL','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','</td>','cancel-file-shortcut-edit-btn','ยืนยันการกระทำ','แคลคูลัสเบื้องต้น','เส้นตรง:\x20รูปแบบสมการ','\x20pointer-events-none\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','description','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','pointercancel','สลับไปโหมดนักเรียน','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','วงกลม:\x20สมการและสมบัติ','ai-quiz-generator-v3','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','loopUntilPass','.regenerate-question-editor-btn','แก้ไขปุ่มลัด','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขคำถามสำเร็จ!','save-parallel-shortcut-btn','.edit-question-btn','ไม่ใช่','.presentation-option','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','back-to-dashboard-btn','cancel-test-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','textarea[name=\x22team_answer\x22]','rows','questionText','No\x20player\x20data\x20to\x20save.','arrayBuffer','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','start-presentation-btn','closest','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x20กลุ่ม</p></div>','label[for=\x22num-questions\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','icon','shadowBlur','.quiz-bank-checkbox:checked','.quiz-bank-try-btn','smooth','showRankings','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','API\x20Error\x20Response:','กำลังสร้างเนื้อหา:\x20','file-input-area','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','tab_','results_','fa-bolt\x20text-blue-500','</span></div>','next-sync-question-btn','student-quiz-topic','</tbody></table></div>','game-start-mode','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','1AanQRP','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','topic_','additional-parallel-shortcuts-list','cancel-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x22><span>','firstScore','ตั้งเวลา\x20(เปิด)','parseInline','classWeaknesses','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','student-result-area','กำลังสร้างแบบทดสอบ:\x20','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','อัตราการเปลี่ยนแปลงทันที','ที่พิมพ์ได้\x20จำนวน\x20','shortcut-reference-url-input','fullscreenElement','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','binom','ไม่มีคำอธิบาย','อินเวอร์สของเมทริกซ์','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','.bp-game-btn','main-correct-answer-display','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','parallel-test-input-area','modal-timer-mode-select','<option\x20value=\x22','topic-input','border-indigo-500\x20text-indigo-600','#F3E8FF','.highlighter-color-btn','lesson-view-modal','quiz-editor-questions-container','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes','/lessons','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','lastAnswerIndex','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','-options\x22>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบไฟล์\x20Test\x20Blueprint','.cancel-edit-topic-btn','เลือกและบันทึก','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','toLocaleString','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','team-player-status-grid','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','str','scores-tab-content','<li>','player-count','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การสร้างรูปด้วยวงเวียน–สันตรง','shortcuts','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','แบบทดสอบที่ติดดาว','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','confidence-scoring-checkbox','file-shortcut_','สร้างคำถามแบบใช่/ไม่ใช่','ลบโปรเจคสำเร็จแล้ว','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','Failed\x20to\x20kick\x20player\x20','\x5cfrac{$1}{$2}','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','cancel-shortcut-edit-btn','AI\x20grading\x20failed:','opacity','.quiz-bank-delete-btn','artifacts/','\x5cneq','move-quiz-modal','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','mean','save-settings-btn','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','close-lesson-view-btn','classList','approx','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','บันทึกผลการเล่นเกมของ\x20','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','default-2','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','qType','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','lastAnswerCorrect','\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list','touchend','retake-quiz-loop-btn','เกิดข้อผิดพลาดในการบันทึกโปรเจค','ตรีโกณมิติ','ownerSVGElement','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msExitFullscreen','.remove-parallel-shortcut-from-tab-btn','fa-crown\x20text-yellow-500','link-input-area','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','<div>','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.space-y-1.pl-4','startTime','\x22.\x20','createdAt','replace','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','total','linkedQuizIds','ดีมาก','confirm-quiz-settings-btn','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','bp-modal-num-choices','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','N/A','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','list-view-btn','ดีเทอร์มิแนนต์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</th>','circle','ON_FIRE','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','อยู่ในหัวข้อหลักใด:','originalQuestionText','พื้นที่ผิวรูปทรงสามมิติ','\x5ccdot','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','/public/data/customMathTopics','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','ไม่ได้ตอบ','projectView','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parallel-shortcut-container','focus','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','.shortcut-list-item:not(.opacity-50)','totalQuestions','show-leaderboard-btn','back-to-dashboard-from-bp-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','showImproveButton','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','badgesCount','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','add-shortcut-btn','การลบเศษส่วน','pointerType','svg','substring','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','add-student-btn','type','export-leaderboard-image-btn','reference.pdf','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','specialist','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','add-custom-math-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','timestamp','onerror','half_mark_status','leaderboard-quiz-tab-content','.lastAnswerValue','บันทึกโปรเจค\x20\x22','/users/','currentMode','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','.kick-player-btn-sync','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','blueprint-topics-list','พบข้อสอบ\x20','$1\x20\x5cfrac','.project-card-container','groups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','additional-shortcuts-modal','Error\x20confirming\x20players\x20for\x20sync\x20game:','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','shortcut-name-input','ความเป็นอิสระของเหตุการณ์','hidden','<div\x20id=\x22q-image-container-','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','student-team-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','fullscreenchange','bp-project-title','autoTable','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','selectedTopicNames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','find','behavior-log-container','confirm-confident','overallGroups','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','textarea[name=\x22question_single\x22]','save-quiz-edits-btn','additional-file-shortcuts-modal','results-table','จำนวนและการดำเนินการ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','text-indigo-800','ไฮเพอร์โบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','not_generated','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','font-bold\x20text-green-700','multiple_choice','live-submit-short-answer-btn','\x22\x20data-target-tab-id=\x22','isCorrect','text-green-600\x20font-bold','ai-quiz-app-aefee.firebaseapp.com','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','POST','ยอดเยี่ยม!','manual-create-blueprint-btn','bp-topic-list-container','text-blue-700','.ideal-answer-input,\x20.correct-response-input','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','mjx-container','API\x20Error\x20Body:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','timer-bar','confidence-scoring-description','confirm-link-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','dragover','center','matching','.quiz-settings-btn','.edit-quiz-btn','.topic-name-input','</div><div\x20class=\x22space-y-2\x22>','สรุปผลสุดท้าย','</select>','.png','dashboardConfig','destroy','\x20หัวข้อ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหารทศนิยม','#FCE7F3','\x20รายการ\x20สำเร็จ!','select[name=\x22question_single\x22]','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','.move-shortcut-dropdown','เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','check-presentation-answer-btn','project-search-input','px)\x20scale(','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','back-from-results-btn','Test\x20Blueprint','อัปเดตสถานะสำเร็จ','หน่วยความยาวและการแปลง','show-results-btn','start-live-race-generated-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','show_results_only','.delete-hidden-file-shortcut-btn','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','hint','ถูกต้อง!','every','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','Error\x20updating\x20quiz\x20settings:','download','pointContent','close','ค่าเฉลี่ย','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','Error\x20deleting\x20custom\x20topic:','name','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','hasOwnProperty','analytics-tab-btn','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','deltaY','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','reduce','.open-bp-project-btn','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','addEventListener','#results-table\x20thead\x20tr',';\x22\x20data-id=\x22','1400032DMHLGu','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','screen_exit','Error\x20during\x20blueprint\x20link\x20cleanup:','shortcut-blueprint-url-input','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอัปเดตแบบทดสอบ\x20','Error\x20analyzing\x20file\x20for\x20topics:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container:not(.opacity-50)','\x22.\x20Ideal\x20Answer:\x20\x22','.delete-svg-btn','ระยะเวลา\x20(นาที):','จุด\x20เส้น\x20ระนาบ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','comparison-individual-content','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','รายการนี้','Error\x20analyzing\x20blueprint\x20topics:','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถบันทึกการตั้งค่าได้','block','draggable-text','pointermove','ย้ายแบบทดสอบไปโปรเจคอื่น','[*]','ฟังก์ชันเชิงเส้นและกราฟ','.edit-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','temp-loader-results','#open-additional-file-shortcuts-btn','/public/data/projects','code','Error\x20joining\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<p\x20class=\x22font-bold\x20text-sm\x20','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','on_fire','แบบปรนัย\x204\x20ตัวเลือก','student-progress','removeChild','cancel-manual-bp-btn','questionIndex','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','results-display-select','ไฟล์ลัด\x202','#retake-for-improvement-btn','parallel-shortcut-url-input','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','BOOLEAN','ไม่สามารถเริ่มเกมได้','Error\x20deleting\x20topic:','student-quiz-leaderboard-table-body','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','test','global-activity-modal','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','AI\x20Fix\x20Error:','file-shortcut-tabs-nav','shortcutId','answeredCurrentQuestion','</h4>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','show-in-student-dashboard-checkbox','.submittedAt','bp-modal-quiz-type-select','แผนภาพเวนน์','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','จับคู่เพื่อเปรียบเทียบผล','standard','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','confirm-quiz-status-btn','quizId','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','manual-blueprint-modal','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','memoryContent','math-topics-checkbox-container','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','workerSrc','parallel-shortcut-name-input','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','แบบทดสอบซ่อมเสริม','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','confidence','ชื่อหัวข้อห้ามว่าง','questionDisplayedAt','bg-red-100\x20text-red-800','stringify','Error\x20saving\x20game\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','isPasscodeEnabled','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','Error\x20confirming\x20players:','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','student-progress-view','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','confirm-bulk-quiz-settings-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<div\x20class=\x22mb-3\x20topic-category\x22>','cancel-passcode-btn','button','worksheet-input-area','team-quiz-topic','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x20ตอบ','จำนวนเชิงซ้อน\x20(เสริม)','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','file-default-1','hasPerfectScoreBonus','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','presentation-explanation','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','parallelTestShortcutsConfig','#E5E7EB','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','parts','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','per_question','checkbox','globalSettings','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','เรเดียนและการแปลงหน่วย','confident','export-compact-pdf-btn','#results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','ราชาคัมแบ็ก','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','Error\x20saving\x20parallel\x20shortcut:','\x20ใหม่...','tool','ข้อต่อไป','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#FEF3C7','สัญกรณ์วิทยาศาสตร์','Error\x20deleting\x20student:','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','projectSort','กรุณาตั้งชื่อแท็บใหม่:','PROMPT_PLACEHOLDER','modal-loop-until-pass-checkbox','Error\x20displaying\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','nickname-input','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','toggle','shuffle-setting-select','Blueprint\x20O-NET\x20ป.6','quiz-generation-area','score','first_try_ace','Error\x20listening\x20for\x20custom\x20math\x20topics:','.score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','ฟังก์ชันค่าสัมบูรณ์','student-name-selection-view','#6366F1','questionType','game-start-quiz-id','flex\x20flex-col\x20gap-2','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','project-detail','cancel-parallel-shortcut-edit-btn','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','viewBox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','Enter','.quiz-result-card','ระบบสมการเชิงเส้นสองตัวแปร','json','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','อสมการเชิงเส้น','stopPropagation','%PDF','<i\x20class=\x22fas\x20fa-magic\x22></i>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','sin','rename-quiz-input','auto-fix-latex-btn','สร้างแบบทดสอบปรนัย','หยุดระบบจับเวลาหรี่หน้าจอ','quiz-type-select','mandatory','lineCap','interesting-stats-container','resultsDisplay','trim','.move-shortcut-menu-btn','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list','project-name-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','perfect_score','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','.ai-content\x20li','file-tab','live-game-view','Error\x20updating\x20sort\x20preference:','file-default-','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.group\x5c/dropdown','หัวข้อที่สร้างเอง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-shortcut-editor-modal','perfect_score_status','\x5cge','pointerdown','/public/data/practiceBank','\x20(ID:\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','fileShortcutTabs','All\x20groups\x20have\x20finished.\x20Ending\x20game.','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','file-shortcut-container','\x22>ไม่ใช่</p>','complexityValue','.bp-try-btn','\x20จาก\x20','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','confirmation-message','https://corsproxy.io/?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','http://www.w3.org/2000/svg','.group\x5c/dropdown-file','MathJax','</a>','fixedData','เนื้อหาสำหรับสอน:\x20','move','numChoices','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','.linkedQuizIds','timed','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','scratchpad-modal','confirm-admin-login-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x20(p=','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','bg-yellow-50','.delete-student-btn','\x5csqrt{$1}','blueprint-project-list','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','.sort-indicator','_opt','wheel','helvetica','Failed\x20to\x20generate\x20practice\x20test:','beforeend','questions_only','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','.ai-content\x20h3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','back-to-project-btn','currentQuestionIndex','input[type=\x22text\x22]','.flex.justify-between.items-center','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','typesetPromise','quadraticCurveTo','join','Blueprint\x202','sync','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','parallel-shortcut-editor-modal','</button>','การลบทศนิยม','isFinished','.delete-hidden-parallel-shortcut-btn','startsWith','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Team\x20Quiz','แก้ไขปุ่มลัดจากไฟล์','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ชุดสำเร็จ!','num-questions','.quiz-bank-settings-btn','delete-all-students-btn','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','parallel-test-tab','tGain','เกิดข้อผิดพลาดในการลบหัวข้อ','screen','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','endsWith','.live-summary-tooltip.visible','<button\x20data-id=\x22','หลังเรียน','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','parallel-default-2','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','live-game','moveTo','password-error-msg','คะแนน','blueprint-shortcut-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','จำนวนเต็มลบ','answer-counter','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','#26890c','.quiz-status-btn','comparison','create-project-btn','กำลังเตรียมไฟล์...','scheduled_pending','questionStatus','timer-duration-label','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beginPath','qIndex','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','เกิดข้อผิดพลาดในการบันทึก','short','not_confident','confidence-modal','modal-shuffle-select','close-comparison-modal-footer-btn','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','cursor','\x20in\x20all\x20blueprint\x20projects.','.status','txt','text-gray-400\x20hover:text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','เส้นรอบรูป','เกิดข้อผิดพลาดในการโหลดโปรเจค','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-2xl\x22>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','isAdaptive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','การหารเศษส่วน','-tab-content','scratchpad-close-btn','toLowerCase','mouse','สอบซ่อม','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','blueprint-projects-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','close-additional-shortcuts-btn','ไม่มีผู้ตอบตัวเลือกนี้','.bp-unlink-quiz-btn','file-default-2','ข้อที่\x20','instructions','createObjectURL','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','pop','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-tab','13608369GszpPu','input[name=\x22status-option\x22]:checked','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','update','อุณหภูมิและการแปลง','next-question-timed-btn','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','max','ไม่พบข้อมูลโปรเจค','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','files','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','[data-topic-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','now','confirm-rename-quiz-btn','.quiz-bank-move-btn','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนคู่:','blur','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','behaviorLog','resize','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results-tab','ปริพันธ์ไม่จำกัด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','Error\x20saving\x20user\x20preference:','<span\x20class=\x22sort-indicator\x20ml-2\x22>','student-quiz-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-modal','normal','บันทึกคำถามใหม่\x20','quiz-form','Error\x20starting\x20group\x20quiz:','scores','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<svg','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20รายการสำเร็จ!','timer-container','generate-from-text-btn','close-topic-bank-btn','global-activity-quiz-list','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<i\x20class=\x22fas\x20fa-save\x22></i>','lesson-view-content','<br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','prev-question-btn','Error\x20deleting\x20all\x20students:','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','/questionBank','การบวกเศษส่วน','$1\x5c%','postScore','shortcuts-loading-msg','bulk-results-display-select','parallel-shortcuts-loading-msg','destination-out','modal-close-btn','Failed\x20to\x20create/update\x20submission\x20record:','click','admin-try-quiz-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mr-2\x22></i>','\x22\x20name=\x22confidence','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','shortcut-modal-title','export-leaderboard-word-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','เลือกและเริ่มสร้าง','entries','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','confirm-team-players-btn','กำลังดึงข้อมูลจากลิงก์...','get','\x20ชุด)','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','redo-btn','quiz-results-view','close-presentation-btn','#open-additional-parallel-shortcuts-btn','พื้นที่สี่เหลี่ยม','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','กรุณาป้อนรหัสแบบทดสอบ','border-green-700','ข้อ\x20','บันทึกการตั้งค่าแล้ว','splice','cancel-move-quiz-btn','ยกเลิกการจับคู่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','teachingContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','div[data-question-index=\x22','closePath','stem','createElement','text-input-area','selected-topics-count','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','สร้างชุดคำถามจับคู่','save-game-results-checkbox','.save-custom-topic-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','live-options-container','global-quiz-count','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','1:274192258111:web:4120c9118229b5644dd48a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','shortcut-editor-modal','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','Error\x20loading\x20quiz\x20for\x20student:','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','offsetWidth','back-to-student-home-btn','<div\x20class=\x22my-2\x22>','true_false','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x22...','application/pdf','PERSEVERANCE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','.admin-try-quiz-list-btn','join-live-game-btn','_opt1\x22\x20name=\x22question','additional-shortcuts-list','รากที่สองและที่สาม','.pointsLastQuestion','keys','lower_group_count','```','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','earned-badges-container','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Team\x20Quiz!','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจว่าต้องการลบแท็บนี้?','translate(','generated-quiz-container','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','globalCompositeOperation','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin','Error\x20verifying\x20answers\x20in\x20editor:','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','insertAdjacentHTML','แบบทดสอบจากคลังส่วนตัว','.delete-parallel-shortcut-btn','num-choices','คัดลอกไม่สำเร็จ','lesson-plan-modal','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','target','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','confidenceMode','mousemove','ค่าคลาดเคลื่อนของการวัด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','false','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-modal','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x22','-tab','timer-mode-select','modal-adaptive-quiz-checkbox','.ai-fix-question-btn','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','student-quiz-leaderboard-tab','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการราก\x20(radical)','ยังไม่ส่ง','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','add-parallel-shortcut-tab-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','cancel-quiz-edits-btn','frac','onloadend','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','hover:bg-indigo-100','fixed','bg-green-200\x20text-green-900','Error\x20generating\x20from\x20link:','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','สุดยอด!\x20ตอบถูกทุกข้อ','post-test','.shortcut-tab-btn','parse','ไม่ใช่\x20/\x20ผิด','confidence-scoring-toggle','\x20from\x20sync\x20game:','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','parallel-shortcut-id-input','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','parallelShortcutOrder','stroke','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','neq','fill_in_with_choices','ตอบถูกทุกข้อในแบบทดสอบนี้','visibilityState','ค่าเสื่อมราคา','bank-quiz-search-input','selected-answer-index-hidden','numQuestions','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x22\x20สำเร็จ','</p><div>','.start-live-race-btn','topicName','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','values','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ผู้ไม่ยอมแพ้','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','change','manual-bp-content','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','.start-presentation-list-btn','sqrt','parallel-default-1','close-lesson-plan-modal-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','className','ระบบอสมการ','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กิจกรรมสิ้นสุดลงแล้ว','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','/public/data/projects/','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','\x27\x20ในหัวข้อ\x20\x27','border-green-300\x20bg-green-50','3301837OYmkDi','text-content-input','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','cancel-game-start-btn','_opt0\x22>ใช่</label></div>','</span></td>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-count','submissions','จำนวนเต็มบวก','grabbing','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','_blank','toDate','reset-project-order-btn','เงินงวด\x20(อนุกรมเงินงวด)','Original\x20quiz\x20not\x20found','toFixed','analytics','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','<tr>','isArray','ตรวจคะแนนใหม่\x20','การลบ','หมดเวลาสำหรับข้อนี้!','%</span>','content','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','[data-field=\x22subTopic\x22]','prod','keyConcepts','GlobalWorkerOptions','after','mode','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','select-all-topics-btn','quiz-start-time','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.move-parallel-shortcut-dropdown','topic','Error\x20submitting\x20team\x20answer:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Error\x20processing\x20parallel\x20shortcut\x20click:','</body></html>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22my-6\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','parent','keyup','math-topic-search-input','modal-confidence-mode-container','toISOString','ceil','bulk-loop-until-pass-checkbox','actions-container-','textContent','.game-start-btn','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','Error\x20opening\x20quiz\x20editor:','results-quiz-title','bestScore','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังโหลดคลังข้อสอบทั้งหมด...','ไม่มี','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','bulk-confidence-scoring-checkbox','topicId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถโหลดรายการโปรเจคได้','quiz-leaderboard-table','parallel-shortcut_','ฟังก์ชันสัมพัทธ์\x20(rational)','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','disabled\x20bg-gray-400\x20cursor-not-allowed','.toggle-actions-btn','bulk-quiz-settings-modal','bg-green-100','\x22\x20สำเร็จ!','clientY','Error\x20calling\x20Gemini\x20API:','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','student-quiz-area','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','กำลังกลับเข้าสู่เกม\x20','createdBy','หมดเวลา!\x20กำลังส่งคำตอบ...','dimmed','startedAt','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','<div\x20class=\x22p-2\x20rounded-md\x20','pow','bp-modal-question-complexity-select','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','ฟังก์ชันผกผัน','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การนับ','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-file-shortcut-menu-btn','\x0a---\x0a','manage-tab','Error\x20toggling\x20pin\x20status:','ส่งแล้ว','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-id-input','confirm-delete-btn','map','toString','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','.topic-selection-btn','เริ่มกิจกรรม:\x20','กำลังสร้างคำถามข้อ\x20','bg-green-200','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quiz-results','ลบโปรเจคสำเร็จ','error','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','start-sync-game-btn','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','responses.','สำหรับโปรเจค:\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','.doc','question','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','practice-topic-btn','.answeredCurrentQuestion','contains','analytics-tab-content','gamePin','คำถามดิบ:\x20\x22','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','</tbody></table>','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','admin-password-modal','bulk-confidence-mode-container','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answer','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','text-green-800','data:application/vnd.ms-word;charset=utf-8,','</option>','value','.tab-name-input','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','some','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','bg-gray-500','.use-hidden-file-shortcut-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','element','tabId','#FFFFFF','การยืนยันตัวตนล้มเหลว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','ผู้ควบคุม\x20(ทดสอบ)','การแจกแจงทวินาม\x20(พื้นฐาน)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-parallel-btn','preventDefault','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','stepByStepExamples','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ผ่าน','พาราโบลา','Error\x20updating\x20project\x20color:','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','Error\x20starting\x20game:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','Error\x20generating\x20lesson\x20plan:','text-red-500\x20hover:text-red-700','close-comparison-modal-btn','strokeStyle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','.edit-hidden-shortcut-btn','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','color','applicationData','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','bg-red-200\x20text-red-800','padStart','close-student-rankings-btn','correctAnswer','loader','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','แท็บใหม่','substr','export-leaderboard-pdf-btn','lowerGroupNames','ต้นฉบับทั้งหมด','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ต้นฉบับ\x201','manage','studentName','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','file-topics-list-container','back-to-home-manual-release','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','project-sort-select','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','topic-bank-list','ลำดับการดำเนินการ\x20(PEMDAS)','questions','pinnedProjects','toDataURL','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','open-blueprint-projects-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','กลุ่มของคุณ','submittedAt','</p><p><strong>เฉลย:</strong>\x20','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','bg-blue-500\x20hover:bg-blue-600\x20text-white','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','release','onload','classStrengths','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','API\x20call\x20failed','confirmation-modal','กรุณาสร้างบทเรียนก่อน','มัธยฐาน','file-shortcuts-loading-msg','gain','.topic-name-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกคำตอบ','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','copy-quiz-id-btn','start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','behavior-log-tab-btn','shadowColor','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','write','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','จำนวนนักเรียน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','lowerGroupResponders','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','status','per-question-text','text-gray-200','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','shouldSaveResults','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','finished','opacity-50','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','ทำคะแนนได้เกินครึ่ง','export-excel-btn','</span><span\x20class=\x22font-bold\x22>','ลิมิต','cancel-export-pdf-btn','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','จัดการ','sync-manage-players-btn','#E0E7FF','SAFETY','.bp-create-topic-quiz-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.project-card-container[data-id]','scrollX','projectSortOrder','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการจับคู่','แบบทดสอบนี้ปิดใช้งานอยู่','เลือกโปรเจคเพื่อบันทึก','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','filter','canvas','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนข้อ:','อยู่ในสาระการเรียนรู้ใด:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','Error\x20generating\x20teaching\x20content:','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','numPages','deg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','referenceUrl','text-green-600','\x20mx-1\x20text-lg\x22></i></span>','fix\x20the\x20option','student-rankings-modal','สร้างโปรเจคสำเร็จ!','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','lesson-plan-content','name_asc','display','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','.use-hidden-shortcut-btn','not-found','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','highlighter-size-value','blueprintShortcuts','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','ไม่พบข้อมูลการจับคู่','transformOrigin','isDefault','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz','sync-player-management','group','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.scratchpad-content-wrapper','getElementsByTagName','ระยะทางและจุดกึ่งกลาง','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','กำลังอ่านไฟล์อ้างอิง...','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','ศูนย์','bg-green-500\x20hover:bg-green-600\x20text-white','save-bp-settings-btn','matching_item','ไม่พบแบบทดสอบสำหรับรหัสนี้','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settings','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','then','topic-bank-subtopic-name','checkAnswer','export-leaderboard-excel-btn','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','mousedown','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','ไม่สามารถสร้างโปรเจคได้','tfrac','referenceFileUrl','Error\x20saving\x20file\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','default-','appendChild','<div\x20class=\x22loader\x20mx-auto\x22></div>','text-gray-100','dragend','line-through\x20text-red-700','bg-gray-200\x20text-gray-700','docs','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','.pen-color-btn','#confidence-input-','(ก่อนเรียน)\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','Error\x20generating\x20hybrid\x20quiz:','\x20|\x20ID:\x20','\x20สำเร็จ','Failed\x20to\x20generate\x20lesson:','unshift','/public/data/teamQuizzes','.lastAnswerIndex','ผลรวมอนุกรม\x20(Σ)','finishReason','\x5ctimes','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','save-quiz-btn','ไม่สามารถโหลดคลังข้อสอบได้','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','quick_thinker','text-white','\x22\x20value=\x22true\x22\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-quiz-btn','ร้อยละพื้นฐาน','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','close-additional-file-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','parseFromString','leaderboard','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','score-distribution-chart','manage-players-btn','latestSubmittedAt','ฟังก์ชันกำลังสองและกราฟ','กรุณาเลือกโปรเจคปลายทาง','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','/public/data/quizzes/','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','quiz-id-input','schedule','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','.parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','postTScore','#student-quiz-leaderboard-content\x20thead','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','touchstart','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','\x22\x20data-name=\x22','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</tr>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','submission-status-chart','loader-text','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','Error\x20starting\x20live\x20race:','function','6861gHJRQX','.file-shortcut-tab-btn','findIndex','delete','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','separate-by-content-checkbox','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','.start-game-btn','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','random','.delete-file-shortcut-btn','การแจกแจงปกติและ\x20z-score','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','offset','split','pen-tools-group','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','modal-timer-duration-label','setFont','teacherTips','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ondragend','กำลังอ่านและเตรียมไฟล์...','เกิดข้อผิดพลาดในการอ่านไฟล์','deselect-all-topics-btn','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','highlighter-size-slider','ai-quiz-app-aefee.firebasestorage.app','pin','move-quiz-project-select','Error\x20moving\x20quiz:','ห.ร.ม.\x20(GCD)','<textarea\x20name=\x22question','items','scores-tab-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','fromCharCode','ตรวจทานเฉลยเสร็จสิ้น!','cloneNode','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','quiz-end-time','.move-parallel-shortcut-item','.ai-fix-formula-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','Error\x20fetching\x20projects\x20for\x20move:','text-purple-600','\x20ชุด)</span>','comparison-individual-tab','Error\x20committing\x20score\x20updates:','save-bp-reference-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','blueprint-project-manager-view','choices_only','sara','student','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','warn','badges','หัวข้อหลักใหม่','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','Error\x20loading\x20user\x20preferences:','text-red-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','true','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','การวัด','COMEBACK_KING','confirm-move-quiz-btn','Error\x20saving\x20project\x20order:','additional-file-shortcuts-list','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','คัดลอกแบบทดสอบสำเร็จ','remove','confirm-game-start-modal','leaderboard_','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','Error\x20updating\x20old\x20quizzes:','interesting-stats-wrapper','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','includes','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<button\x20data-shortcut-id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎบวกและกฎคูณ','ตรวจพบการออกจากหน้าจอครบ\x20','live-player-list','disabled','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','back-to-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','.quiz-bank-item','student-join-game-view','bg-blue-100\x20text-blue-800','nextElementSibling','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','isScored','Leaderboard\x20update\x20transaction\x20failed:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','circ','1532AZGPcx','\x22\x20value=\x22','geq','Error\x20fetching\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','bg-black/10','textarea','.question-editor-item','\x22\x20value=\x22false\x22\x20','ปุ่มลัดทั้งหมด','10mzmxtu','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NEGATIVE_INFINITY','rgba(239,\x2068,\x2068,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</h3>','date_desc','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','results-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่สามารถเพิ่มนักเรียนได้','document','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','generate-worksheet-btn','set','.mb-6.p-4','lobby','PERFECT_SCORE','Error\x20showing\x20quiz\x20detail\x20view:','shortcutIds','file.txt','เพิ่มรายการที่เลือก','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','body','getDocument','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','analyze-strengths-btn','num-choices-container','...','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','quizType','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','Error\x20displaying\x20question\x20bank:','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','คณิตการเงิน/บูรณาการ','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','reference-pdf-upload','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','confirm-not-confident','bg-green-100\x20font-bold','save-blueprint-as-project-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-800','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','open','student-reading-area','#D1FAE5','\x22><i\x20class=\x22fas\x20','dragstart','dispatchEvent','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','topics','game-pin-input','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่มีชื่อ)','isRemedial','อนุพันธ์:\x20กฎลูกโซ่','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',')\x22>','open-quiz-bank-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','project-title','Error\x20in\x20generating\x20from\x20files:','\x20ข้อ\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','parallel-shortcut-tabs-nav','ดูผลสรุปสุดท้าย','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','ฐานนิยม','add-parallel-shortcut-btn','wasConfident','project-list','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','<button\x20id=\x22','originalTopic','showInStudentDashboard','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bank-quiz-list','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','กรุณาใส่ชื่อโปรเจค','ตัวประกอบและตัวประกอบเฉพาะ','.topic-category','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-include-images-checkbox','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','สมการเชิงเส้นตัวแปรเดียว','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','fileShortcutsConfig','confidence-mode-container','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','blockReason','.color-palette-popup','category','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','gradeLevel','live-short-answer-input','msRequestFullscreen','jspdf','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','teacherSuggestions','projectId','dataIndex','input[name=\x22drill_answer\x22]:checked','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','quiz-status-modal','setItem','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scrollY','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#DBEAFE','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','shortcut-tabs-nav','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','Error\x20joining\x20activity:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','contentEditable','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','rgba(239,\x2068,\x2068,\x200.9)','cancel-rename-quiz-btn','cdot','.live-answer-btn,\x20#live-submit-short-answer-btn','Error\x20saving\x20manual\x20blueprint\x20project:','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','กำลังจับคู่...','เกิดข้อผิดพลาดในการจับคู่','documentElement','generated','มุมและการวัดมุม','.linkedQuizId','add-shortcut-tab-btn','parallel-shortcut-modal-title','webkitExitFullscreen','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','open-scratchpad-btn','ondblclick','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','blueprintUrl','เส้นจำนวน','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','empty','MathJax\x20re-render\x20failed:','from','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','file-shortcut-url-input','Error\x20comparing\x20results:','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','desc','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','attempts','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','numeric','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','style','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','pen','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','scratchpad-controls','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x5csum','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','preTestId','blueprint.pdf','file-upload-input','\x22\x20name=\x22question_single\x22\x20value=\x22','text-gray-700','bp-modal-passing-score-input','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','Error\x20saving\x20parallel\x20shortcut\x20config:','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','ondragover','พิมพ์ตอบ','\x22\x20จำนวน\x20','tan','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','keydown','</li>','เกิดข้อผิดพลาด','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','enable-passcode-checkbox','getElementById','การบวก','-\x20ข้อ\x20','modal-message','text-yellow-300','สมมาตร\x20(แกน/จุด)','results-table-container','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','cancel-create-project-btn','undo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pairedQuizId','.topic-actions-edit','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','incorrect','#e21b3c','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','close-lesson-plan-modal-footer-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','sum','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','points','สเกลและแผนที่','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','student-project-leaderboard-table-body','export-word-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','back-to-student-initial-btn','editable-text-','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','bulk-quiz-settings-btn','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','upper_group_count','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','เกิดข้อผิดพลาดในการลบนักเรียน','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20student\x20rankings:','<p\x20class=\x22','เกิดข้อผิดพลาด:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','blueprint-options-container','right','setAttributeNS','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','.edit-shortcut-btn','.delete-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','bg-red-100','Error\x20deleting\x20quiz:','.bp-create-content-quiz-btn','shuffledQuiz','button[type=\x22submit\x22]','view-my-progress-btn','grid-view-btn','sort','create-from-bank-btn','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x20จุด','text-red-900','ร้อยละประยุกต์','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','memory','students','execCommand','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','href','Error\x20rendering\x20student\x20progress:','\x20คนที่ส่ง\x20ตอบถูก\x20(','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','Error\x20generating\x20easy\x20version\x20quiz:','ไม่พบแบบทดสอบ','comparison-modal','รอ...','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x20จุดเรียบร้อยแล้ว','lesson-loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','confirm-join-game-btn','height','player-list-lobby','team','scratchpad-options','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','.ai-content\x20p','ไม่พบแบบทดสอบในระบบเลย','student-passcode-input','file.pdf','confidence-choice-btn','answerText','Error\x20unpairing\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','getPage','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','.confidence-choice-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','input[name=\x22team_player\x22]:checked','ระยะเวลา\x20(วินาที):','countdown-display','bg-yellow-100','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','เกิดข้อผิดพลาดในการลบผลสอบ','perQuestionStats','fadeStartTime','```json','G-V90KRM0L63','โดเมนและเรนจ์','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','bp-modal-num-questions','บันทึกการแก้ไข','submit-team-answer-btn','has','difficulty-level-select','ย้ายแบบทดสอบสำเร็จ','applicationHTML','lineJoin','STOP','fill_in_no_choices','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','Error\x20listening\x20for\x20starred\x20quizzes:','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Firebase\x20initialization\x20failed:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','bp-modal-difficulty-level-select','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','pinned-items','topic-quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','ทฤษฎีทวินาม\x20(เบื้องต้น)','แก้ระบบสมการด้วยเมทริกซ์','summaryContent','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','ผ่านฉลุย','generate-from-parallel-test-btn','\x20|\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','สมการเหตุผล\x20(rational)','blueprint-topics-list-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','upperGroupResponders','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','text-indigo-700','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','insertBefore','Error\x20renaming\x20quiz:','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/plain','confidence-mode-select','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.answers','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','allResponses','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x5cpm','position','ทำคะแนนเต็มในการทำครั้งแรก','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','thead\x20.sortable-header','scratchpad-question','force-math-checkbox','parentElement','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','endTime','ARRAY','bulk-confidence-mode-select','transform','#student-project-leaderboard-content\x20thead','Error\x20deleting\x20project:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','.delete-submission-btn','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','live-player-management','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','.remove-file-shortcut-from-tab-btn','border-gray-200','worksheet-topic-input','timerMode','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','ไม่พบข้อมูลแบบทดสอบ','พื้นที่สามเหลี่ยม','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','FileReader\x20error:','fa-fire\x20text-orange-500','playerName','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คะแนนเต็ม!','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','.correct-response-input','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','scratchpad-clear-btn','Error\x20regenerating\x20question\x20in\x20editor:','</form>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','abs','print','\x5cle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','learningGaps','<p><strong>คำตอบที่แนะนำ:</strong>\x20','.topic-row','ส่งคำตอบ','default','confidence-input-','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','scale','เพิ่ม\x20','.duplicate-quiz-btn','.move-file-shortcut-item','สลับไปโหมดผู้ควบคุม','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','pre-test','\x22\x20name=\x22drill_answer\x22\x20value=\x22','generate-from-link-btn','กรุณาเลือกสถานะ','next-drill-btn','dfrac','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','export-pdf-modal','cancel-quiz-status-btn','per-question-options','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','passcode-input-container','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','hint-btn','open-sync-scratchpad-btn','globalAlpha','global-quiz-search-input','save-project-name-btn','AI\x20ไม่สามารถประมวลผลข้อมูลได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-list-item','AI\x20did\x20not\x20return\x20any\x20content.','stdDev','dataset','export-pdf-btn','wakeLock','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x20คะแนน</span></div>','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','default-1','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ยกเลิกการเชื่อมโยงสำเร็จ','bp-reference-file-url','admin-dashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','ไม่พบข้อมูลเกม','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','.move-quiz-btn','clearRect','Successfully\x20removed\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','input[name=\x22question_single\x22]:checked','อัปเดตการตั้งค่าของแบบทดสอบ\x20','getScreenCTM','applicationContent','</span>','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-loader-text','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','ใช่','.topic-actions-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','leaderboard-tab-content','Error\x20linking\x20quizzes:','วงกลม:\x20คอร์ดและเส้นสัมผัส','คณิตศาสตร์','includeImages','no-projects-msg','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','slide-counter','เกิดข้อผิดพลาดในการลบโปรเจค','แบบเติมคำตอบ','active','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','คัดลอกรหัสแล้ว!','.answered','เพิ่มปุ่มลัดใหม่','projectName','reference_onet.pdf','manage-tab-content','...\x20(โค้ดส่วนนี้เหมือนเดิม)\x20...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','shuffle','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','สร้างแล้ว','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-file-shortcut-btn','file-shortcut-id-input','.project-card-content','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','projectOrder','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','.edit-hidden-file-shortcut-btn','<span\x20class=\x22font-bold\x20','การคูณเศษส่วน','groups.','data','pointsLastQuestion','length','กรุณาเลือกคำตอบของกลุ่ม','medium','show_pass_fail_only','ยังไม่มีนักเรียนส่งงาน','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','candidates','comparison-overall-tab','บันทึกการตั้งค่าการแสดงผลสำเร็จ','subTopics','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','difficultyValue','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generated-quiz-actions','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','querySelectorAll','min','/public/data/blueprintProjects','explanation','check-answer-btn','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','show_results_and_answers','/studentProfiles','เรขาคณิต','subTopic','ดอกเบี้ยทบต้น','\x22\x20data-topic=\x22','none','message','text-emerald-900','generate-from-topic-btn','summary','<li\x20class=\x22','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.pen-size-btn','join-group-activity-btn','isPinned','เรขาคณิตวิเคราะห์','onkeydown','(คู่ขนาน)\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.bp-view-analysis-btn','delete-svg-btn','\x22\x20data-quiz-id=\x22','slice','onclick','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','highlighter-tool-btn','touchmove','ท็อปฟอร์ม','.isScored','topic-tab','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','3919585pQOrEh','ไม่ผ่าน','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','.group','innerText','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','student-progress-content','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','ต้นฉบับ\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','ฟังก์ชันแบบชิ้นส่วน','Error\x20joining\x20sync\x20game:','การเรียงสับเปลี่ยน\x20(Permutation)','Error\x20starting\x20team\x20quiz:','pointer-events-none','font-bold\x20text-red-700\x20line-through','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','strength-weakness-analysis-container','กรุณาใส่ชื่อใหม่','.move-file-shortcut-dropdown','</label></div>','eraser-tool-btn','clear-all-links-btn','far\x20fa-star','กำลังสร้างบทเรียน:\x20','lineWidth','</div>','(คัดลอก)\x20','add-file-shortcut-tab-btn','answering','blueprint-settings-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','.file-shortcut-btn','<div\x20class=\x22space-y-4\x22>','_opt0\x22\x20name=\x22question','admin-password-input','loop-until-pass-checkbox','blueprint-input-area','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','quiz-leaderboard-table-body','ผู้เชี่ยวชาญ','visibilitychange','ควรปรับปรุง','ผิด','คะแนนยังไม่ถึงครึ่ง','lessonPlan','fill','ai-quiz-app-aefee','Error\x20adding\x20custom\x20topic:','กำลังสร้างแบบทดสอบ\x20\x22','indexOf','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','isConfidenceScoringEnabled','select','student-team-join','สู้ๆ\x20ลองอีกครั้งนะ','text','input[type=\x22radio\x22][value=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','onblur',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','การบวกทศนิยม','กฎของโคไซน์','div','suggestedAnswer','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','class','user','shortcutTabs','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','sync-player-list','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','devicePixelRatio','.move-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','comparison-chart','fileShortcutOrder','players.','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','solution','input[type=\x22radio\x22]:checked','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','mainTopic','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','/public/data/syncGames','ปริมาตรรูปทรงสามมิติ','removeEventListener','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','cancel-quiz-settings-btn','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','all','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','answerValue','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.tab-name-display','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','visible','Error\x20saving\x20shortcut\x20config:','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','verify-answers-editor-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','#ffffff','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','เกิดข้อผิดพลาดในการปักหมุด','btn','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','reveal-answer-btn','idealAnswer','</span></p>','Blueprint\x201','Failed\x20to\x20get\x20hint:','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','leq','2-digit','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','กำลังค้นหากิจกรรม...','แผนภาพกล่อง\x20(box\x20plot)','highlighter','bg-red-50','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','text-red-800','rgba(16,\x20185,\x20129,\x200.7)','requestFullscreen','\x20คะแนน\x20','gameData','กราฟฟังก์ชันตรีโกณ','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','ตอบถูก\x203\x20ข้อติดต่อกัน','<i\x20class=\x22fas\x20fa-pen\x22></i>','(หลังเรียน)\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','.live-answer-btn','generationConfig','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','rgba(59,\x20130,\x20246,\x200.7)','input','อัตราและอัตราหน่วย','auto','border-red-300\x20bg-red-50','Error\x20processing\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','เกิดข้อผิดพลาดในการอัปเดต:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','generate-from-file-btn','custom-math-topic-input','.delete-hidden-shortcut-btn','leaderboard-quiz-tab-btn','size','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','text/html','additional-parallel-shortcuts-modal','modal-results-display-select','team-student-list','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','translate','lesson-view-title','Error\x20updating\x20project\x20name:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','grid','correctResponse','top','responses','save-file-shortcut-btn','separate-by-content-from-file-checkbox','touches','label','width','question-complexity-select','ยอดเยี่ยม','fa-pen','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','scrollIntoView','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','.file-topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','justification','mouseup','Error\x20unlinking\x20quiz:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20deleting\x20shortcut:','perseverance','บทเรียนเรื่อง:\x20','Error\x20generating\x20worksheet:','.compare-results-btn','<button\x20data-tab-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2540250rJnoXn','url','mouseleave','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','asc','bg-emerald-100','สาระที่\x201','modal-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','text-emerald-800','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','student-project-leaderboard-content','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','<div\x20class=\x22flex-1\x22></div>','shortcutOrder','.bp-live-btn','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20updating\x20custom\x20topic:','Error\x20updating\x20pin\x20status:','thead','parallel-test-upload-input','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20data-q-type=\x22','mode-switcher-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','cos','.parallel-shortcut-tab-btn','latestScore','แก้ไขสูตรคณิตศาสตร์\x20','[data-topic-container-id]','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','.\x20แต่ละข้อมี\x20','generate-from-blueprint-btn','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-passcode-input','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','.delete-custom-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contents','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ไม่พบข้อมูลหัวข้อที่จะบันทึก','floor','localeCompare','update-old-quizzes-btn','cancel-quiz-bank-btn','ถูก','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','text-red-700\x20bg-red-100','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy','.bp-delete-topic-btn','short_answer','ไฟล์ทั้งหมด','close-additional-parallel-shortcuts-btn','\x20\x20\x20-\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','game-start-modal-title','file-shortcut-modal-title','quiz-leaderboard-table-container','</td></tr>','ส่วนเบี่ยงเบนมาตรฐาน',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','Error\x20saving\x20to\x20question\x20bank:','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','.bp-open-topic-bank-btn','pathname','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bulk-shuffle-select','การคูณทศนิยม','[data-topic-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','</p></div>','ไม่พบเอกสารการส่งงานของ\x20','export-worksheet-pdf-btn','bg-green-100\x20text-green-800','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','goto-next-question-btn','AI\x20Formula\x20Fix\x20Error:','.bp-create-onet-quiz-btn','<button\x20data-value=\x22','topics.','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด'];_0x13fa=function(){return _0x1cb04c;};return _0x13fa();}async function reGradeSingleSubmission(_0x5d64c,_0x568988){const _0x33da6b=_0x252b26,_0x255db6=_0x5d64c[_0x33da6b(0xa36)](),_0x4489f4=_0x255db6[_0x33da6b(0x688)],_0x3f467b=_0x255db6[_0x33da6b(0x8ae)]||[],_0x50fc25=[];for(const _0xddd70c of _0x3f467b){let _0x26de89=0x0,_0x254e74=[],_0x1c978e=0x0;const _0x5452a8=[];for(const _0x2a7fa1 of _0xddd70c['answers']){let _0x128832;_0x2a7fa1[_0x33da6b(0x699)]&&(_0x128832=_0x568988['questions'][_0x33da6b(0x269)](_0xa22c7b=>_0xa22c7b['id']===_0x2a7fa1['questionId']));!_0x128832&&_0x2a7fa1['originalQuestionText']&&(_0x128832=_0x568988[_0x33da6b(0x692)]['find'](_0x409b5c=>(_0x409b5c['stem']||_0x409b5c['questionText'])===_0x2a7fa1['originalQuestionText']));let _0x25a4e5=![];if(_0x128832){const _0x5bb4ce=_0x128832[_0x33da6b(0x3ae)]||_0x568988[_0x33da6b(0x81d)];switch(_0x5bb4ce){case _0x33da6b(0x27f):if(_0x128832[_0x33da6b(0xc69)]&&_0x128832[_0x33da6b(0x26e)]<_0x128832['options']['length']){const _0x5a17a8=_0x128832[_0x33da6b(0xc69)][_0x128832[_0x33da6b(0x26e)]];_0x25a4e5=_0x2a7fa1[_0x33da6b(0x937)]===_0x5a17a8;}break;case _0x33da6b(0x51c):const _0x268875=_0x2a7fa1[_0x33da6b(0x647)]===!![]||_0x2a7fa1[_0x33da6b(0x647)]===_0x33da6b(0x7c4);_0x25a4e5=_0x268875===_0x128832['correctAnswer'];break;case'matching_item':_0x25a4e5=_0x2a7fa1[_0x33da6b(0x647)]===_0x128832[_0x33da6b(0xb28)];break;case _0x33da6b(0xb86):_0x25a4e5=await gradeShortAnswer(_0x2a7fa1['answer'],_0x128832);break;default:_0x25a4e5=_0x2a7fa1['isCorrect'];break;}}if(_0x25a4e5){_0x26de89++,_0x1c978e++;if(_0x1c978e===0x3)_0x254e74[_0x33da6b(0xc64)](BADGES['ON_FIRE']['id']);}else _0x1c978e=0x0;_0x5452a8[_0x33da6b(0xc64)]({..._0x2a7fa1,'isCorrect':_0x25a4e5});}let _0x87fa1=_0x26de89*0xa;_0x26de89===_0x568988[_0x33da6b(0x692)]['length']&&(_0x87fa1+=0x32,_0x254e74[_0x33da6b(0xc64)](BADGES[_0x33da6b(0x80f)]['id'])),_0x50fc25['push']({..._0xddd70c,'score':_0x26de89,'points':_0x87fa1,'badges':Array[_0x33da6b(0x8a3)](new Set(_0x254e74)),'answers':_0x5452a8});}const _0x4e03c5=_0x50fc25[_0x33da6b(0xa38)]>0x0?_0x50fc25[0x0]['score']:0x0,_0x54f4f1=Math[_0x33da6b(0x494)](..._0x50fc25['map'](_0x3b33b8=>_0x3b33b8['score'])),_0x24a6d6=_0x50fc25[_0x33da6b(0xa38)]>0x0?_0x50fc25[_0x50fc25[_0x33da6b(0xa38)]-0x1][_0x33da6b(0x3a4)]:0x0,_0x5c71b7=_0x50fc25[_0x33da6b(0xa38)]>0x0?_0x50fc25[_0x50fc25[_0x33da6b(0xa38)]-0x1]['points']:0x0,_0x1bf400=doc(db,_0x33da6b(0x1d1)+appId+_0x33da6b(0x75d)+_0x568988['id']+_0x33da6b(0x208),_0x4489f4);await updateDoc(_0x1bf400,{'attempts':_0x50fc25,'firstScore':_0x4e03c5,'bestScore':_0x54f4f1,'latestScore':_0x24a6d6,'points':_0x5c71b7});}function cleanupQuizOptions(_0x2e4f58){const _0x3978e1=_0x252b26,_0x175af4=(_0x1b676d,_0x2aa10f)=>_0x2aa10f===0x0?_0x1b676d:_0x175af4(_0x2aa10f,_0x1b676d%_0x2aa10f),_0x1ae6d9=_0x48f61b=>{const _0x46ba2e=_0x4c50;if(typeof _0x48f61b!==_0x46ba2e(0xbf8))return null;_0x48f61b=_0x48f61b['trim']();const _0x1cc090=_0x48f61b[_0x46ba2e(0x787)](/[ /]/)[_0x46ba2e(0x6de)](_0xae693b=>_0xae693b!=='');if(_0x1cc090[_0x46ba2e(0xa38)]===0x3)return parseInt(_0x1cc090[0x0])+parseInt(_0x1cc090[0x1])/parseInt(_0x1cc090[0x2]);else{if(_0x1cc090[_0x46ba2e(0xa38)]===0x2)return parseInt(_0x1cc090[0x0])/parseInt(_0x1cc090[0x1]);else{if(_0x1cc090[_0x46ba2e(0xa38)]===0x1&&!isNaN(_0x1cc090[0x0]))return parseFloat(_0x1cc090[0x0]);}}return null;},_0xa19fd8=_0x30dce2=>{const _0x438a00=_0x4c50;if(typeof _0x30dce2!==_0x438a00(0xbf8))return _0x30dce2;const _0x3811d2=_0x30dce2[_0x438a00(0xbf4)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3811d2){const _0x4f998e=parseInt(_0x3811d2[0x1]);let _0x411eac=parseInt(_0x3811d2[0x2]),_0x264f22=parseInt(_0x3811d2[0x3]);const _0x15574f=_0x175af4(_0x411eac,_0x264f22);_0x411eac/=_0x15574f,_0x264f22/=_0x15574f;if(_0x264f22===0x1)return(_0x4f998e+_0x411eac)['toString']();return _0x4f998e+'\x20'+_0x411eac+'/'+_0x264f22;}return _0x30dce2;};return _0x2e4f58&&_0x2e4f58[_0x3978e1(0x692)]&&_0x2e4f58['questions']['forEach'](_0x2656ef=>{const _0x934a05=_0x3978e1;if(_0x2656ef['questionType']===_0x934a05(0x27f)&&_0x2656ef[_0x934a05(0xc69)]){const _0x5b7b50=new Map(),_0x99d0cd=_0x2656ef[_0x934a05(0xc69)][_0x2656ef[_0x934a05(0x26e)]];_0x2656ef['options'][_0x934a05(0x236)](_0x850ea4=>{const _0x3ea820=_0x934a05,_0x19b378=_0xa19fd8(_0x850ea4),_0x5d03fe=_0x1ae6d9(_0x19b378);_0x5d03fe!==null&&!_0x5b7b50[_0x3ea820(0x956)](_0x5d03fe)&&_0x5b7b50[_0x3ea820(0x80c)](_0x5d03fe,_0x19b378);}),_0x2656ef['options']=Array[_0x934a05(0x8a3)](_0x5b7b50[_0x934a05(0x591)]());const _0x3440df=_0x2656ef[_0x934a05(0xc69)][_0x934a05(0x779)](_0x1308c0=>_0x1308c0===_0xa19fd8(_0x99d0cd));_0x2656ef[_0x934a05(0x26e)]=_0x3440df!==-0x1?_0x3440df:0x0;}}),_0x2e4f58;}function showGameStartConfirmationModal(_0x46af07,_0x127577,_0x411e74){const _0x1a3cc2=_0x252b26,_0x378b8c=document['getElementById'](_0x1a3cc2(0x7cf));document[_0x1a3cc2(0x8d1)](_0x1a3cc2(0xb8d))[_0x1a3cc2(0x5eb)]=_0x1a3cc2(0x629)+_0x411e74,document['getElementById'](_0x1a3cc2(0x3af))['value']=_0x46af07,document[_0x1a3cc2(0x8d1)](_0x1a3cc2(0x17a))[_0x1a3cc2(0x64c)]=_0x127577,document[_0x1a3cc2(0x8d1)](_0x1a3cc2(0x50a))[_0x1a3cc2(0x22d)]=!![],_0x378b8c['classList'][_0x1a3cc2(0x7ce)](_0x1a3cc2(0x25d));}async function saveGameResultsAsSubmissions(_0x56d27c){const _0xd49931=_0x252b26;console['log']('Attempting\x20to\x20save\x20game\x20results...',_0x56d27c);const _0x2b342e=_0x56d27c[_0xd49931(0x335)];let _0x1f1e7a=[];if(_0x56d27c['players'])_0x1f1e7a=Object[_0xd49931(0x4e5)](_0x56d27c[_0xd49931(0x713)])[_0xd49931(0x625)](([_0x27e9c7,_0x3b4732])=>({'name':_0x27e9c7,..._0x3b4732}));else{if(_0x56d27c[_0xd49931(0x253)])Object[_0xd49931(0x591)](_0x56d27c[_0xd49931(0x253)])[_0xd49931(0x236)](_0x4954f1=>{_0x4954f1['members']['forEach'](_0x22a418=>{const _0x5d8ba9=_0x4c50;_0x1f1e7a[_0x5d8ba9(0xc64)]({'name':_0x22a418,'score':_0x4954f1[_0x5d8ba9(0x3a4)],'answers':_0x4954f1[_0x5d8ba9(0xa3d)]});});});else _0x56d27c[_0xd49931(0xb2a)]&&Object[_0xd49931(0x4e5)](_0x56d27c['responses'])['forEach'](([_0x2d9fda,_0x357b7b])=>{const _0x46b535=_0xd49931;_0x1f1e7a[_0x46b535(0xc64)]({'name':_0x2d9fda,..._0x357b7b});});}if(_0x1f1e7a[_0xd49931(0xa38)]===0x0){console[_0xd49931(0x952)](_0xd49931(0x15b));return;}const _0x345f68=_0x56d27c[_0xd49931(0x90c)]?.['questions']['length']||currentQuizData['questions'][_0xd49931(0xa38)],_0x17cf9d=writeBatch(db);for(const _0x3bdbff of _0x1f1e7a){const _0x330e65=doc(db,_0xd49931(0x1d1)+appId+_0xd49931(0x75d)+_0x2b342e+_0xd49931(0x208),_0x3bdbff['name']),_0x6e1ecc=(_0x3bdbff['answers']||[])[_0xd49931(0x6de)](_0x2600bd=>_0x2600bd['isCorrect'])['length'];let _0x19bdc5=_0x6e1ecc;_0x56d27c[_0xd49931(0xaa8)]&&_0x3bdbff['answers']&&_0x3bdbff['answers'][_0xd49931(0x236)](_0x543e6b=>{const _0x3ae341=_0xd49931;if(_0x543e6b[_0x3ae341(0x282)]&&(_0x543e6b['wasConfident']===!![]||_0x543e6b['wasConfident']===_0x3ae341(0x385)))_0x19bdc5+=0x1;else!_0x543e6b[_0x3ae341(0x282)]&&(_0x543e6b[_0x3ae341(0x84a)]===!![]||_0x543e6b['wasConfident']===_0x3ae341(0x385))&&(_0x19bdc5-=0x1);});_0x345f68>0x0&&_0x6e1ecc===_0x345f68&&(_0x19bdc5+=0x1);const _0x451198={'score':_0x6e1ecc,'points':_0x19bdc5,'badges':_0x3bdbff[_0xd49931(0x7bb)]||[],'submittedAt':new Date()[_0xd49931(0x5e7)](),'answers':(_0x3bdbff[_0xd49931(0xa3d)]||[])[_0xd49931(0x625)](_0x5562fc=>({'questionId':_0x5562fc[_0xd49931(0x699)],'answer':_0x5562fc['answer'],'answerText':_0x5562fc[_0xd49931(0x937)],'isCorrect':_0x5562fc['isCorrect'],'originalQuestionText':_0x5562fc['originalQuestionText'],'wasConfident':_0x5562fc[_0xd49931(0x84a)]}))},_0x3c8894=await getDoc(_0x330e65),_0x829185=_0x3c8894['exists']()?_0x3c8894[_0xd49931(0xa36)]():{},_0x583121=_0x829185[_0xd49931(0x5f0)]||0x0,_0x349cc5=_0x829185[_0xd49931(0x8ae)]||[],_0x5b2ce0={'studentName':_0x3bdbff['name'],'totalQuestions':_0x345f68,'attempts':arrayUnion(_0x451198),'latestScore':_0x6e1ecc,'points':_0x19bdc5,'latestSubmittedAt':_0x451198[_0xd49931(0x69e)],'bestScore':Math[_0xd49931(0x494)](_0x583121,_0x6e1ecc),'firstScore':_0x349cc5[_0xd49931(0xa38)]===0x0?_0x6e1ecc:_0x829185[_0xd49931(0x184)]||0x0};_0x17cf9d[_0xd49931(0x80c)](_0x330e65,_0x5b2ce0,{'merge':!![]});}try{await _0x17cf9d['commit'](),showMessage(_0xd49931(0x1dd)+_0x1f1e7a[_0xd49931(0xa38)]+_0xd49931(0x2a4));const _0x1d0ef4=_0x56d27c[_0xd49931(0x90c)]?.[_0xd49931(0x86f)]||currentQuizData?.[_0xd49931(0x86f)]||currentProjectId;if(_0x1d0ef4){const _0x2ea43a=[...new Set(_0x1f1e7a[_0xd49931(0x625)](_0x438920=>_0x438920[_0xd49931(0x2c6)]))];for(const _0x1c830a of _0x2ea43a){await updateStudentProfile(_0x1d0ef4,_0x1c830a);}}}catch(_0x37847d){console[_0xd49931(0x62f)](_0xd49931(0x34e),_0x37847d),showMessage(_0xd49931(0x7cc));}}async function saveQuiz(_0x2e7615=null,_0x41a969=null){const _0x385ed4=_0x252b26,_0x3c0bf8=_0x2e7615||currentProjectId;if(!_0x3c0bf8){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x385ed4(0x692)]||!userId){showMessage(_0x385ed4(0x97e));return;}const _0x10bcab=document[_0x385ed4(0x8d1)](_0x385ed4(0x744));_0x10bcab[_0x385ed4(0x7dc)]=!![],_0x10bcab[_0x385ed4(0x8f6)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x256ee7=document[_0x385ed4(0x8d1)]('pre-test-checkbox')[_0x385ed4(0x22d)];let _0x3a95ec=document['getElementById']('editable-quiz-topic')[_0x385ed4(0xa73)][_0x385ed4(0x3cf)]();_0x256ee7&&!_0x3a95ec['startsWith'](_0x385ed4(0x2ed))&&(_0x3a95ec=_0x385ed4(0x733)+_0x3a95ec);try{const _0x2439a8={'resultsDisplay':document[_0x385ed4(0x8d1)](_0x385ed4(0x312))[_0x385ed4(0x64c)],'shuffle':document['getElementById']('shuffle-setting-select')['value'],'timerMode':document['getElementById'](_0x385ed4(0x55c))[_0x385ed4(0x64c)],'timerDuration':parseInt(document[_0x385ed4(0x8d1)](_0x385ed4(0xc07))[_0x385ed4(0x64c)])||0xa,'passingScore':parseInt(document[_0x385ed4(0x8d1)]('passing-score-input')[_0x385ed4(0x64c)])||0x0,'isAdaptive':document[_0x385ed4(0x8d1)]('adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x385ed4(0x8d1)](_0x385ed4(0xa96))[_0x385ed4(0x22d)]},_0x58df04=(currentQuizData['questions']||[])[_0x385ed4(0x625)]((_0x447d0d,_0x572c2a)=>{const _0x1a71f4=_0x385ed4,_0x459f0a=document['getElementById'](_0x1a71f4(0x3ca))[_0x1a71f4(0x64c)],_0x12d8ab={'id':'q_'+Date[_0x1a71f4(0x4a0)]()+'_'+_0x572c2a,'questionText':_0x447d0d[_0x1a71f4(0x15a)]||'','explanation':_0x447d0d[_0x1a71f4(0xa4b)]||_0x1a71f4(0x194),'questionType':_0x447d0d[_0x1a71f4(0x3ae)]||_0x459f0a,'imageCode':_0x447d0d[_0x1a71f4(0xc33)]||null};return(_0x12d8ab[_0x1a71f4(0x3ae)]===_0x1a71f4(0x27f)||_0x12d8ab[_0x1a71f4(0x3ae)]===_0x1a71f4(0x583)||_0x12d8ab['questionType']===_0x1a71f4(0x1f5)&&_0x447d0d[_0x1a71f4(0xc69)])&&(_0x12d8ab['options']=_0x447d0d[_0x1a71f4(0xc69)]||[],_0x12d8ab[_0x1a71f4(0x26e)]=_0x447d0d[_0x1a71f4(0x26e)]!==undefined?_0x447d0d[_0x1a71f4(0x26e)]:0x0),(_0x12d8ab[_0x1a71f4(0x3ae)]===_0x1a71f4(0xb86)||_0x12d8ab[_0x1a71f4(0x3ae)]===_0x1a71f4(0x95c)||_0x12d8ab['questionType']===_0x1a71f4(0x1f5)&&_0x447d0d[_0x1a71f4(0xaef)])&&(_0x12d8ab['idealAnswer']=_0x447d0d[_0x1a71f4(0xaef)]||''),_0x12d8ab[_0x1a71f4(0x3ae)]===_0x1a71f4(0x51c)&&(_0x12d8ab[_0x1a71f4(0x67b)]=_0x447d0d['correctAnswer']===!![]),_0x12d8ab[_0x1a71f4(0x3ae)]===_0x1a71f4(0x711)&&(_0x12d8ab[_0x1a71f4(0x503)]=_0x447d0d[_0x1a71f4(0x503)]||'',_0x12d8ab[_0x1a71f4(0xb28)]=_0x447d0d['correctResponse']||'',_0x12d8ab['allResponses']=_0x447d0d['allResponses']||[]),_0x12d8ab;}),_0x54af8f={'topic':_0x3a95ec,'quizType':currentQuizData[_0x385ed4(0x81d)]||_0x385ed4(0x27f),'questions':_0x58df04,'projectId':_0x3c0bf8,'createdBy':userId,'createdAt':new Date()[_0x385ed4(0x5e7)](),'status':_0x385ed4(0xa19),'settings':_0x2439a8,'quizMode':_0x256ee7?_0x385ed4(0x9d0):_0x385ed4(0x332),'pairedQuizId':null,'lessonPlan':null};let _0x3d913f;while(!![]){_0x3d913f=Math[_0x385ed4(0xb79)](0x3e8+Math[_0x385ed4(0x782)]()*0x2328)[_0x385ed4(0x626)]();const _0x1a3f76=await getDoc(doc(db,'artifacts/'+appId+_0x385ed4(0x1a5),_0x3d913f));if(!_0x1a3f76[_0x385ed4(0xbfd)]())break;}await setDoc(doc(db,_0x385ed4(0x1d1)+appId+_0x385ed4(0x1a5),_0x3d913f),_0x54af8f);if(_0x41a969&&currentBlueprintProjectId){console[_0x385ed4(0x952)]('Auto-linking\x20new\x20quiz\x20'+_0x3d913f+'\x20to\x20blueprint\x20topic\x20'+_0x41a969);try{const _0x4341d8=doc(db,_0x385ed4(0x1d1)+appId+_0x385ed4(0xa4a),currentBlueprintProjectId);await updateDoc(_0x4341d8,{['topics.'+_0x41a969+_0x385ed4(0x401)]:arrayUnion(_0x3d913f)});}catch(_0x2fadf5){console[_0x385ed4(0x62f)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x2fadf5);}}currentQuizData[_0x385ed4(0x716)]=_0x2439a8,currentQuizData['id']=_0x3d913f;const _0x297feb=document['getElementById'](_0x385ed4(0xa46));_0x297feb[_0x385ed4(0x8f6)]=_0x385ed4(0x8ea)+_0x3d913f+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document['getElementById'](_0x385ed4(0x6b5))[_0x385ed4(0x2d5)](_0x385ed4(0x4d9),()=>copyTextToClipboard(_0x3d913f,_0x385ed4(0xa1c))),document[_0x385ed4(0x8d1)](_0x385ed4(0x2b3))[_0x385ed4(0x2d5)]('click',()=>handleStartLiveRace(_0x3d913f)),document['getElementById'](_0x385ed4(0x160))['addEventListener'](_0x385ed4(0x4d9),()=>startPresentation(currentQuizData)),document[_0x385ed4(0x8d1)](_0x385ed4(0x4da))[_0x385ed4(0x2d5)](_0x385ed4(0x4d9),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x517aba){console[_0x385ed4(0x62f)](_0x385ed4(0x964),_0x517aba),showMessage(_0x385ed4(0x56a));}finally{_0x10bcab[_0x385ed4(0x7dc)]=![],_0x10bcab['innerHTML']=_0x385ed4(0x750);}}function promptForProjectAndSave(){const _0x4008d6=_0x252b26,_0x1352c5=document[_0x4008d6(0x8d1)](_0x4008d6(0x1d3)),_0x1075aa=document[_0x4008d6(0x8d1)](_0x4008d6(0x798)),_0x5e9274=_0x1352c5['querySelector']('h3'),_0x1ffc59=document[_0x4008d6(0x8d1)]('confirm-move-quiz-btn');_0x5e9274['textContent']=_0x4008d6(0x6dc),_0x1ffc59['textContent']=_0x4008d6(0x1b2);allProjects[_0x4008d6(0xa38)]===0x0?(_0x1075aa[_0x4008d6(0x8f6)]=_0x4008d6(0x5fd),_0x1ffc59[_0x4008d6(0x7dc)]=!![]):(_0x1075aa[_0x4008d6(0x8f6)]=allProjects[_0x4008d6(0x625)](_0x39935c=>_0x4008d6(0x19d)+_0x39935c['id']+'\x22>'+_0x39935c['projectName']+'</option>')[_0x4008d6(0x424)](''),_0x1ffc59['disabled']=![]);_0x1352c5[_0x4008d6(0x1da)]['remove']('hidden');const _0x501d6f=()=>{const _0x44a929=_0x4008d6,_0x582cc8=_0x1075aa['value'];_0x582cc8?(currentProjectId=_0x582cc8,_0x1352c5[_0x44a929(0x1da)]['add'](_0x44a929(0x25d)),saveQuiz(),_0x5e9274['textContent']=_0x44a929(0x2f8),_0x1ffc59[_0x44a929(0x5eb)]=_0x44a929(0xc78),_0x1ffc59[_0x44a929(0xad6)](_0x44a929(0x4d9),_0x501d6f),_0x1ffc59[_0x44a929(0x2d5)]('click',confirmMoveQuiz)):showMessage(_0x44a929(0x8e5));};_0x1ffc59['removeEventListener'](_0x4008d6(0x4d9),confirmMoveQuiz),_0x1ffc59['addEventListener']('click',_0x501d6f);}function copyTextToClipboard(_0x50165f,_0x14e947){const _0x14a8c8=_0x252b26,_0x5d96e4=document[_0x14a8c8(0x504)]('textarea');_0x5d96e4['value']=_0x50165f,_0x5d96e4[_0x14a8c8(0x8b2)][_0x14a8c8(0x990)]=_0x14a8c8(0x570),_0x5d96e4[_0x14a8c8(0x8b2)][_0x14a8c8(0x1cf)]='0',document['body'][_0x14a8c8(0x726)](_0x5d96e4),_0x5d96e4[_0x14a8c8(0x220)](),_0x5d96e4[_0x14a8c8(0xaa9)]();try{const _0x5da24f=document[_0x14a8c8(0x91b)](_0x14a8c8(0xb84));showMessage(_0x5da24f?_0x14e947:_0x14a8c8(0x544));}catch(_0xe52eb3){showMessage('คัดลอกไม่สำเร็จ'),console[_0x14a8c8(0x62f)](_0x14a8c8(0xbd2),_0xe52eb3);}document['body'][_0x14a8c8(0x30b)](_0x5d96e4);}function listenForProjectQuizzes(_0x1872ee){const _0x2ad607=_0x252b26,_0x19f4a=collection(db,_0x2ad607(0x1d1)+appId+_0x2ad607(0x1a5)),_0x210f3c=query(_0x19f4a,where(_0x2ad607(0x86f),'==',_0x1872ee));unsubscribeQuizzesListener=onSnapshot(_0x210f3c,async _0x2ad06c=>{const _0xaf8f81=_0x2ad607;allQuizzes=_0x2ad06c[_0xaf8f81(0x72c)][_0xaf8f81(0x625)](_0x166099=>({'id':_0x166099['id'],..._0x166099[_0xaf8f81(0xa36)]()})),renderQuizzes();},_0x2ae947=>{const _0x11f054=_0x2ad607;console[_0x11f054(0x62f)]('Error\x20fetching\x20project\x20quizzes:',_0x2ae947),document[_0x11f054(0x8d1)](_0x11f054(0xc10))[_0x11f054(0x8f6)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x1dd703=_0x252b26,_0x944355=document[_0x1dd703(0x8d1)]('project-quizzes-list'),_0x20a9c8=document[_0x1dd703(0x8d1)]('quiz-search-input')[_0x1dd703(0x64c)][_0x1dd703(0x478)]();let _0x18c82b;currentProjectId===_0x1dd703(0xc95)?_0x18c82b=starredQuizzes:_0x18c82b=allQuizzes;let _0x528a0d=_0x18c82b[_0x1dd703(0x6de)](_0x34f742=>_0x34f742[_0x1dd703(0x5d7)]['toLowerCase']()['includes'](_0x20a9c8));_0x528a0d[_0x1dd703(0x910)]((_0x14b81e,_0x90dbf9)=>new Date(_0x90dbf9['createdAt'])-new Date(_0x14b81e[_0x1dd703(0x1fa)]));if(_0x528a0d[_0x1dd703(0xa38)]===0x0){_0x944355[_0x1dd703(0x8f6)]=_0x1dd703(0x79f);return;}const _0x4cc33f={},_0x5a70b1=_0x528a0d[_0x1dd703(0x625)](async _0x56adaa=>{const _0x299e99=_0x1dd703,_0x55993c=collection(db,_0x299e99(0x1d1)+appId+_0x299e99(0x75d)+_0x56adaa['id']+_0x299e99(0x208)),_0x390d66=await getDocs(_0x55993c);_0x4cc33f[_0x56adaa['id']]=_0x390d66[_0x299e99(0xb19)];});await Promise[_0x1dd703(0xadc)](_0x5a70b1);let _0x3f980c='';_0x528a0d[_0x1dd703(0x236)](_0x107798=>{const _0x195bcd=_0x1dd703,_0x14c2c2=_0x4cc33f[_0x107798['id']]||0x0,_0x5def68=_0x107798['status']||_0x195bcd(0xa19),_0x5d5a20=_0x107798[_0x195bcd(0x716)]?.[_0x195bcd(0x9a9)]||_0x195bcd(0xa55);let _0x57c73d='',_0x228370='';const _0x2b6c99=new Date();let _0xe69a48=_0x5def68;if(_0x5def68===_0x195bcd(0xc8e)){const _0x15fd5e=_0x107798[_0x195bcd(0x1f8)]?new Date(_0x107798[_0x195bcd(0x1f8)]):null,_0x43d615=_0x107798[_0x195bcd(0x99b)]?new Date(_0x107798['endTime']):null;if(_0x43d615&&_0x2b6c99>_0x43d615)_0xe69a48=_0x195bcd(0xc72);else _0x15fd5e&&_0x2b6c99<_0x15fd5e?_0xe69a48=_0x195bcd(0x451):_0xe69a48='active';}switch(_0xe69a48){case'inactive':_0x57c73d='ปิดใช้งาน',_0x228370=_0x195bcd(0xb80);break;case _0x195bcd(0x451):_0x57c73d=_0x195bcd(0xc93),_0x228370=_0x195bcd(0xc4a);break;case _0x195bcd(0xa19):_0x57c73d=_0x5d5a20!==_0x195bcd(0xa55)?'เปิด\x20(จับเวลา)':'เปิดใช้งาน',_0x228370='text-green-700\x20bg-green-100';break;default:_0x57c73d=_0x195bcd(0x185),_0x228370=_0x195bcd(0xc40);break;}let _0x44e2ac='';const _0x877052={'day':_0x195bcd(0xaf5),'month':'2-digit','year':_0x195bcd(0x8b0),'hour':'2-digit','minute':_0x195bcd(0xaf5),'hour12':![]};if(_0x5def68===_0x195bcd(0xc8e)){if(_0x107798['startTime'])_0x44e2ac+=_0x195bcd(0x157)+new Date(_0x107798['startTime'])['toLocaleString'](_0x195bcd(0xc89),_0x877052)+_0x195bcd(0xbb8);if(_0x107798[_0x195bcd(0x99b)])_0x44e2ac+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x107798['endTime'])['toLocaleString'](_0x195bcd(0xc89),_0x877052)+_0x195bcd(0xbb8);}let _0x19225d='';if(_0x107798[_0x195bcd(0x8dd)]){const _0x20a1bf=allQuizzes['find'](_0x430abb=>_0x430abb['id']===_0x107798[_0x195bcd(0x8dd)]);if(_0x20a1bf){let _0x4c476d,_0xa3f53e;new Date(_0x107798[_0x195bcd(0x1fa)])<new Date(_0x20a1bf['createdAt'])?(_0x4c476d=_0x107798['id'],_0xa3f53e=_0x20a1bf['id']):(_0x4c476d=_0x20a1bf['id'],_0xa3f53e=_0x107798['id']),_0x19225d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xa3f53e+'\x22\x20data-pre-test-id=\x22'+_0x4c476d+_0x195bcd(0x984);}}else _0x107798[_0x195bcd(0xbb2)]===_0x195bcd(0x9d0)&&(_0x19225d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x107798['id']+_0x195bcd(0x7a1));if(_0x107798['quizMode']===_0x195bcd(0x9d0)&&_0x14c2c2>0x0)_0x19225d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x107798['id']+_0x195bcd(0x1af);else!_0x107798[_0x195bcd(0x8dd)]&&_0x107798[_0x195bcd(0xbb2)]!==_0x195bcd(0x9d0)&&_0x14c2c2>0x0&&(_0x19225d+=_0x195bcd(0x165)+_0x107798['id']+_0x195bcd(0x887));let _0x4300cc='';_0x107798[_0x195bcd(0x8dd)]?_0x4300cc='<button\x20data-quiz-id=\x22'+_0x107798['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x4300cc='<button\x20data-quiz-id=\x22'+_0x107798['id']+_0x195bcd(0x380),_0x3f980c+=_0x195bcd(0x469)+_0x107798['id']+_0x195bcd(0xa1b)+_0x107798[_0x195bcd(0x5d7)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x107798[_0x195bcd(0x692)][_0x195bcd(0xa38)]+_0x195bcd(0x7d6)+new Date(_0x107798[_0x195bcd(0x1fa)])[_0x195bcd(0x1b4)](_0x195bcd(0xc89))+_0x195bcd(0xb8a)+_0x14c2c2+_0x195bcd(0xa4d)+_0x44e2ac+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x228370+'\x22>'+_0x57c73d+_0x195bcd(0x46c)+_0x107798['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x107798['id']+_0x195bcd(0x26d)+(_0x107798[_0x195bcd(0x11d)]?'fas\x20fa-star\x20text-yellow-500':_0x195bcd(0xa89))+_0x195bcd(0x8fd)+_0x19225d+_0x195bcd(0xb21)+_0x107798['id']+_0x195bcd(0x95d)+_0x107798['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x107798['id']+_0x195bcd(0x5c9)+_0x107798['id']+_0x195bcd(0xad7)+_0x107798['id']+_0x195bcd(0x316)+_0x107798['id']+_0x195bcd(0xb59)+_0x107798['id']+'\x22\x20data-topic=\x22'+_0x107798['topic']+_0x195bcd(0xc59)+_0x107798['id']+_0x195bcd(0x21e)+_0x107798['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4300cc+_0x195bcd(0x6e1)+_0x107798['id']+_0x195bcd(0x416)+_0x107798['id']+_0x195bcd(0x6b1)+_0x107798['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x107798['id']+_0x195bcd(0x703)+_0x107798['id']+_0x195bcd(0x535)+_0x107798['id']+_0x195bcd(0xadd)+_0x107798['id']+_0x195bcd(0xb74)+_0x107798['id']+'\x22\x20data-topic=\x22'+_0x107798['topic']+_0x195bcd(0x87d)+_0x107798['id']+_0x195bcd(0xc13);}),_0x944355['innerHTML']=_0x3f980c,document[_0x1dd703(0xa48)](_0x1dd703(0x3ba))[_0x1dd703(0x236)](_0x34ea64=>{const _0x3d966c=_0x1dd703;_0x34ea64[_0x3d966c(0x2d5)]('click',()=>{const _0x456402=_0x3d966c,_0x46d901=_0x34ea64[_0x456402(0x9e8)][_0x456402(0x335)];showQuizDetailView(_0x46d901);});});}async function handleUnpairQuiz(_0x13b4db){const _0x56d877=_0x252b26,_0x38736c=allQuizzes[_0x56d877(0x269)](_0x986831=>_0x986831['id']===_0x13b4db);if(!_0x38736c||!_0x38736c[_0x56d877(0x8dd)]){showMessage(_0x56d877(0x6ff));return;}showConfirmation(_0x56d877(0x627),async()=>{const _0x2de3c7=_0x56d877;try{const _0x149d8b=doc(db,'artifacts/'+appId+_0x2de3c7(0x1a5),_0x13b4db),_0x921619=doc(db,'artifacts/'+appId+_0x2de3c7(0x1a5),_0x38736c['pairedQuizId']),_0x3e9c04=writeBatch(db);_0x3e9c04['update'](_0x149d8b,{'pairedQuizId':null}),_0x3e9c04['update'](_0x921619,{'pairedQuizId':null}),await _0x3e9c04[_0x2de3c7(0xbb6)](),showMessage(_0x2de3c7(0x4fa));}catch(_0x4a2d01){console[_0x2de3c7(0x62f)](_0x2de3c7(0x938),_0x4a2d01),showMessage(_0x2de3c7(0x46e));}});}function formatAndPrintLessonPlan(_0x353806,_0x324878){const _0x554efa=_0x252b26,_0x1e7d53=window['open']('',_0x554efa(0x5b7)),_0x18f550=_0x554efa(0x78e)+_0x324878[_0x554efa(0x5d7)]+_0x554efa(0x9ba)+_0x324878[_0x554efa(0x5d7)]+_0x554efa(0x839)+_0x353806[_0x554efa(0x9c1)][_0x554efa(0x625)](_0xb45b87=>_0x554efa(0x1bd)+_0xb45b87+_0x554efa(0x8cc))[_0x554efa(0x424)]('')+_0x554efa(0x2a9)+_0x353806[_0x554efa(0x4fd)]+_0x554efa(0x3bd)+_0x353806[_0x554efa(0x10e)]['map'](_0x5d0098=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x5d0098['question']+_0x554efa(0x327)+_0x5d0098[_0x554efa(0xacc)]+_0x554efa(0x3b7))[_0x554efa(0x424)]('')+_0x554efa(0xb3e);_0x1e7d53[_0x554efa(0x807)]['write'](_0x18f550),_0x1e7d53[_0x554efa(0x807)]['close'](),_0x1e7d53['onload']=function(){setTimeout(()=>{const _0x32d132=_0x4c50;_0x1e7d53[_0x32d132(0x9be)]();},0x3e8);};}async function handleAiFixFormula(_0xe02b8c){const _0x177a34=_0x252b26,_0xd3a062=document[_0x177a34(0x2b7)]('.question-editor-item[data-q-index=\x22'+_0xe02b8c+'\x22]');if(!_0xd3a062)return;const _0x1f30fc=_0xd3a062['dataset'][_0x177a34(0x1e1)],_0x460c0d=_0xd3a062[_0x177a34(0x2b7)](_0x177a34(0x7ab));let _0x1bf74b={'question':_0xd3a062[_0x177a34(0x2b7)](_0x177a34(0x7f0))[_0x177a34(0x64c)]};switch(_0x1f30fc){case _0x177a34(0x27f):_0x1bf74b[_0x177a34(0xc69)]=Array[_0x177a34(0x8a3)](_0xd3a062[_0x177a34(0xa48)](_0x177a34(0x41e)))['map'](_0x386859=>_0x386859['value']);break;case'short_answer':_0x1bf74b[_0x177a34(0xaef)]=_0xd3a062['querySelector'](_0x177a34(0xbd8))['value'];break;case _0x177a34(0x711):_0x1bf74b[_0x177a34(0xb28)]=_0xd3a062[_0x177a34(0x2b7)](_0x177a34(0x9b5))['value'];break;}_0x460c0d[_0x177a34(0x8f6)]=_0x177a34(0x3e0),_0x460c0d[_0x177a34(0x7dc)]=!![];try{const _0x497548=_0x177a34(0xad3)+JSON[_0x177a34(0x34d)](_0x1bf74b)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1ea8fb={'type':_0x177a34(0x129),'properties':{'fixedData':{'type':_0x177a34(0x129),'properties':{'question':{'type':_0x177a34(0xc74)},'options':{'type':_0x177a34(0x99c),'items':{'type':_0x177a34(0xc74)}},'idealAnswer':{'type':_0x177a34(0xc74)},'correctResponse':{'type':'STRING'}},'required':[_0x177a34(0x638)]}},'required':[_0x177a34(0x3fc)]},_0x169f46=await callAnalysisApi(_0x497548,_0x1ea8fb);if(_0x169f46&&_0x169f46[_0x177a34(0x3fc)]){const _0x572aa9=_0x169f46[_0x177a34(0x3fc)];_0xd3a062[_0x177a34(0x2b7)](_0x177a34(0x7f0))['value']=_0x572aa9[_0x177a34(0x638)]||_0x1bf74b[_0x177a34(0x638)];switch(_0x1f30fc){case _0x177a34(0x27f):_0x572aa9['options']&&_0x572aa9[_0x177a34(0xc69)]['length']>0x0&&_0xd3a062['querySelectorAll'](_0x177a34(0x41e))[_0x177a34(0x236)]((_0x3489db,_0x19cbae)=>{const _0x394f99=_0x177a34;_0x3489db[_0x394f99(0x64c)]=_0x572aa9[_0x394f99(0xc69)][_0x19cbae]||_0x1bf74b[_0x394f99(0xc69)][_0x19cbae];});break;case'short_answer':_0xd3a062[_0x177a34(0x2b7)](_0x177a34(0xbd8))[_0x177a34(0x64c)]=_0x572aa9['idealAnswer']||_0x1bf74b[_0x177a34(0xaef)];break;case'matching_item':_0xd3a062[_0x177a34(0x2b7)]('.correct-response-input')[_0x177a34(0x64c)]=_0x572aa9[_0x177a34(0xb28)]||_0x1bf74b[_0x177a34(0xb28)];break;}if(_0x1bf74b[_0x177a34(0x638)]!==_0x572aa9['question'])try{const _0x20657c=collection(db,_0x177a34(0x1d1)+appId+'/public/data/learnedFixes');await addDoc(_0x20657c,{'broken':_0x1bf74b[_0x177a34(0x638)],'fixed':_0x572aa9[_0x177a34(0x638)],'createdAt':serverTimestamp()});}catch(_0x2d868e){console[_0x177a34(0x62f)](_0x177a34(0x672),_0x2d868e);}showMessage(_0x177a34(0x60f));}else throw new Error(_0x177a34(0x9e3));}catch(_0x35e6dc){console[_0x177a34(0x62f)](_0x177a34(0xba6),_0x35e6dc),showMessage(_0x177a34(0x353));}finally{_0x460c0d[_0x177a34(0x8f6)]=_0x177a34(0x3c2),_0x460c0d[_0x177a34(0x7dc)]=![];}}async function handleGenerateLessonPlan(_0x265050){const _0x3250a4=_0x252b26;showMessage(_0x3250a4(0xca1));try{const _0x4939f7=doc(db,_0x3250a4(0x1d1)+appId+_0x3250a4(0x1a5),_0x265050),_0x544572=await getDoc(_0x4939f7);if(!_0x544572[_0x3250a4(0xbfd)]())throw new Error(_0x3250a4(0x9ab));const _0x336552={'id':_0x265050,..._0x544572['data']()},_0x45471e=collection(db,_0x3250a4(0x1d1)+appId+'/public/data/quizzes',_0x265050,_0x3250a4(0x5b3)),_0x13a700=await getDocs(_0x45471e),_0x2d09a8=_0x13a700[_0x3250a4(0x72c)][_0x3250a4(0x625)](_0x10cdde=>_0x10cdde['data']());if(_0x2d09a8['length']===0x0)throw new Error(_0x3250a4(0xa3c));const _0x56c8c5=calculateItemAnalysis(_0x336552,_0x2d09a8)['perQuestionStats'],_0x136487=calculateDistractorAnalysis(_0x336552,_0x2d09a8),_0x4dae2e=_0x4a69da=>{const _0x34ac67=_0x3250a4;if(!_0x4a69da)return'';return _0x4a69da[_0x34ac67(0x1fb)](/\\/g,'\x5c\x5c')[_0x34ac67(0x1fb)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x8eadf0='สรุปผลการวิเคราะห์:\x5cn';_0x336552[_0x3250a4(0x692)][_0x3250a4(0x236)]((_0x4682be,_0x13c734)=>{const _0x2d1e69=_0x3250a4,_0xda4219=_0x56c8c5[_0x13c734]?.['p'][_0x2d1e69(0x5bc)](0x2)||_0x2d1e69(0x207),_0x3fd95d=_0x56c8c5[_0x13c734]?.['r'][_0x2d1e69(0x5bc)](0x2)||_0x2d1e69(0x207),_0x2b32a8=_0x4dae2e(_0x4682be[_0x2d1e69(0x15a)]||_0x4682be['stem']);_0x8eadf0+=_0x2d1e69(0x8d3)+(_0x13c734+0x1)+_0x2d1e69(0x407)+_0xda4219+_0x2d1e69(0xc30)+_0x3fd95d+'):\x20'+_0x2b32a8+'\x5cn';if(_0x4682be['questionType']==='multiple_choice'&&_0x136487[_0x13c734]){const _0x4884c2=_0x136487[_0x13c734],_0x969ae9=Object[_0x2d1e69(0x529)](_0x4884c2)[_0x2d1e69(0x6de)](_0x5d4b67=>parseInt(_0x5d4b67)!==_0x4682be[_0x2d1e69(0x26e)])[_0x2d1e69(0x910)]((_0x332ac0,_0x51d3b7)=>_0x4884c2[_0x51d3b7][_0x2d1e69(0x1fd)]-_0x4884c2[_0x332ac0]['total'])[0x0];if(_0x969ae9&&_0x4884c2[_0x969ae9][_0x2d1e69(0x1fd)]>0x0){const _0x161eed=_0x4dae2e(_0x4884c2[_0x969ae9][_0x2d1e69(0xaac)]);_0x8eadf0+=_0x2d1e69(0x9a3)+_0x161eed+'\x22\x5cn';}}});const _0x49f8f4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x336552[_0x3250a4(0x5d7)]+_0x3250a4(0x2cb)+_0x8eadf0+_0x3250a4(0xc9e),_0x3294b7={'type':'OBJECT','properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x3250a4(0xc74)}},'teachingContent':{'type':_0x3250a4(0xc74)},'practiceProblems':{'type':_0x3250a4(0x99c),'items':{'type':_0x3250a4(0x129),'properties':{'question':{'type':_0x3250a4(0xc74)},'solution':{'type':_0x3250a4(0xc74)}}}}},'required':['learningGaps',_0x3250a4(0x4fd),_0x3250a4(0x10e)]},_0x1cb59c=await callAnalysisApi(_0x49f8f4,_0x3294b7);await updateDoc(_0x4939f7,{'lessonPlan':_0x1cb59c});const _0x5104f5=_0x3250a4(0x209)+_0x336552[_0x3250a4(0x5d7)]+_0x3250a4(0x7fe)+_0x1cb59c[_0x3250a4(0x9c1)][_0x3250a4(0x625)](_0x1938f5=>_0x3250a4(0x1bd)+_0x1938f5+'</li>')[_0x3250a4(0x424)]('')+_0x3250a4(0x662)+_0x1cb59c[_0x3250a4(0x4fd)]+_0x3250a4(0x58f)+_0x1cb59c[_0x3250a4(0x10e)][_0x3250a4(0x625)](_0x244ccc=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x244ccc['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x244ccc[_0x3250a4(0xacc)]+_0x3250a4(0xba0))[_0x3250a4(0x424)]('')+_0x3250a4(0x212);document[_0x3250a4(0x8d1)]('lesson-plan-title')[_0x3250a4(0x5eb)]=_0x3250a4(0xbc7)+_0x336552['topic'],document[_0x3250a4(0x8d1)]('lesson-plan-content')['innerHTML']=_0x5104f5,document[_0x3250a4(0x8d1)](_0x3250a4(0x545))[_0x3250a4(0x1da)][_0x3250a4(0x7ce)](_0x3250a4(0x25d));if(window['MathJax'])MathJax[_0x3250a4(0x422)]();messageModal['classList']['add']('hidden');}catch(_0x390b16){console['error'](_0x3250a4(0x66d),_0x390b16),showMessage('เกิดข้อผิดพลาด:\x20'+_0x390b16[_0x3250a4(0xa56)]);}}async function handleDuplicateQuiz(_0x4b889e){const _0x2d17e9=_0x252b26;try{const _0x15b761=doc(db,_0x2d17e9(0x1d1)+appId+_0x2d17e9(0x1a5),_0x4b889e),_0x43f1da=await getDoc(_0x15b761);if(_0x43f1da[_0x2d17e9(0xbfd)]()){const _0x34a9cc=_0x43f1da['data']();let _0x22c91d='',_0xd7aaf9=_0x2d17e9(0x332),_0xc0bf5a=null;if(_0x34a9cc[_0x2d17e9(0xbb2)]===_0x2d17e9(0x9d0)){let _0x20be23=_0x34a9cc[_0x2d17e9(0x5d7)][_0x2d17e9(0x1fb)](_0x2d17e9(0x2ed),'')[_0x2d17e9(0x3cf)]();_0x22c91d=_0x2d17e9(0xb07)+_0x20be23,_0xd7aaf9=_0x2d17e9(0x575),_0xc0bf5a=_0x4b889e;}else _0x22c91d=_0x2d17e9(0xa8d)+_0x34a9cc[_0x2d17e9(0x5d7)];const _0x1094be={..._0x34a9cc,'topic':_0x22c91d,'createdAt':new Date()[_0x2d17e9(0x5e7)](),'quizMode':_0xd7aaf9,'pairedQuizId':_0xc0bf5a};let _0x380158;while(!![]){_0x380158=Math[_0x2d17e9(0xb79)](0x3e8+Math[_0x2d17e9(0x782)]()*0x2328)[_0x2d17e9(0x626)]();const _0x35b859=await getDoc(doc(db,'artifacts/'+appId+_0x2d17e9(0x1a5),_0x380158));if(!_0x35b859[_0x2d17e9(0xbfd)]())break;}const _0x222c19=doc(db,'artifacts/'+appId+_0x2d17e9(0x1a5),_0x380158);await setDoc(_0x222c19,_0x1094be),_0x1094be[_0x2d17e9(0xbb2)]==='post-test'&&await updateDoc(_0x15b761,{'pairedQuizId':_0x380158}),showMessage(_0x2d17e9(0x7cd));}else throw new Error(_0x2d17e9(0x5bb));}catch(_0x1a94a7){console['error']('Error\x20duplicating\x20quiz:',_0x1a94a7),showMessage(_0x2d17e9(0x5b6));}}async function handleDeleteQuiz(_0x4ae390,_0x4d4cf5=!![]){const _0x4d192f=_0x252b26;try{const _0x1fd1cd=writeBatch(db),_0x1b43dc=collection(db,_0x4d192f(0x1d1)+appId+_0x4d192f(0x75d)+_0x4ae390+_0x4d192f(0x208)),_0x42de7f=await getDocs(_0x1b43dc);_0x42de7f[_0x4d192f(0x236)](_0x473e74=>{const _0x5cbdb8=_0x4d192f;_0x1fd1cd[_0x5cbdb8(0x77a)](doc(_0x1b43dc,_0x473e74['id']));});const _0x553890=doc(db,_0x4d192f(0x1d1)+appId+_0x4d192f(0x1a5),_0x4ae390);_0x1fd1cd[_0x4d192f(0x77a)](_0x553890),await _0x1fd1cd['commit']();try{console[_0x4d192f(0x952)](_0x4d192f(0x860)+_0x4ae390+_0x4d192f(0x465));const _0x11d142=collection(db,_0x4d192f(0x1d1)+appId+_0x4d192f(0xa4a)),_0x1ced45=await getDocs(_0x11d142),_0x516a79=[];_0x1ced45['forEach'](_0x210742=>{const _0x551ab7=_0x4d192f,_0x536581=_0x210742['data'](),_0x1ac5af=_0x536581[_0x551ab7(0x837)]||{};let _0x3a4f6b=![];for(const _0x41715b in _0x1ac5af){const _0x2c7054=_0x1ac5af[_0x41715b];if(_0x2c7054[_0x551ab7(0x1fe)]&&_0x2c7054[_0x551ab7(0x1fe)][_0x551ab7(0x7d5)](_0x4ae390)){_0x3a4f6b=!![];const _0xb0c88d=doc(db,_0x551ab7(0x1d1)+appId+'/public/data/blueprintProjects',_0x210742['id']),_0x3d48a3=updateDoc(_0xb0c88d,{['topics.'+_0x41715b+_0x551ab7(0x401)]:arrayRemove(_0x4ae390)});_0x516a79[_0x551ab7(0xc64)](_0x3d48a3);}}}),_0x516a79['length']>0x0&&(await Promise[_0x4d192f(0xadc)](_0x516a79),console['log'](_0x4d192f(0x9fc)+_0x516a79[_0x4d192f(0xa38)]+_0x4d192f(0xc46)+_0x4ae390+'.'));}catch(_0x455a49){console[_0x4d192f(0x62f)](_0x4d192f(0x2dc),_0x455a49);}_0x4d4cf5&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x1b3a5d){console[_0x4d192f(0x62f)](_0x4d192f(0x90a),_0x1b3a5d),_0x4d4cf5&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x51a3e1){const _0x5ee796=_0x252b26;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x5ee796(0x5bd));try{const _0x5f1cd0=doc(db,'artifacts/'+appId+_0x5ee796(0x1a5),_0x51a3e1),_0x480673=await getDoc(_0x5f1cd0);if(!_0x480673[_0x5ee796(0xbfd)]()){showMessage(_0x5ee796(0x9ab));return;}const _0x239885={'id':_0x480673['id'],..._0x480673[_0x5ee796(0xa36)]()};currentQuizData=_0x239885;const _0x375913=doc(db,_0x5ee796(0x1d1)+appId+'/public/data/projects',_0x239885['projectId']),_0x683301=await getDoc(_0x375913);_0x683301[_0x5ee796(0xbfd)]()?(currentProjectData=_0x683301['data'](),currentProjectId=_0x239885[_0x5ee796(0x86f)]):(currentProjectData={'students':[]},currentProjectId=_0x239885[_0x5ee796(0x86f)]);document[_0x5ee796(0x8d1)](_0x5ee796(0x5ef))[_0x5ee796(0x5eb)]=_0x239885[_0x5ee796(0x5d7)],document[_0x5ee796(0x8d1)]('results-quiz-id-display')['textContent']=_0x51a3e1;const _0x248f77=collection(db,_0x5ee796(0x1d1)+appId+'/public/data/quizzes',_0x51a3e1,_0x5ee796(0x5b3));unsubscribeSubmissionsListener=onSnapshot(_0x248f77,_0x2be4b7=>{const _0x4d4e4b=_0x5ee796,_0x3b84db=_0x2be4b7[_0x4d4e4b(0x72c)][_0x4d4e4b(0x625)](_0x2c1a7e=>({'id':_0x2c1a7e['id'],..._0x2c1a7e[_0x4d4e4b(0xa36)]()}));currentSubmissions=_0x3b84db;const _0x3bb0b7=_0x3b84db['filter'](_0x2a0c96=>_0x2a0c96[_0x4d4e4b(0x8ae)]&&_0x2a0c96[_0x4d4e4b(0x8ae)][_0x4d4e4b(0xa38)]>0x0);renderBehaviorLog(_0x3b84db),renderAnswerGrid(currentProjectData['students'],_0x3bb0b7,_0x239885),renderAnalytics(_0x239885,_0x3bb0b7),renderQuizResultsTable(currentProjectData[_0x4d4e4b(0x91a)],_0x3b84db,_0x239885),renderQuizLeaderboard(_0x3bb0b7,_0x239885,'quiz-leaderboard-table-body');}),showView(_0x5ee796(0x62d));}catch(_0xe2313a){console[_0x5ee796(0x62f)](_0x5ee796(0x810),_0xe2313a),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x4a43fe,_0x2494a3,_0x3d4eed){const _0x17f914=_0x252b26,_0x20bff7=document[_0x17f914(0x8d1)]('answer-grid-container');if(!_0x20bff7)return;if(!_0x4a43fe||_0x4a43fe[_0x17f914(0xa38)]===0x0){_0x20bff7[_0x17f914(0x8f6)]=_0x17f914(0x973);return;}const _0x579ad5=_0x3d4eed[_0x17f914(0x692)],_0x53bd6b=_0x2494a3[_0x17f914(0x2d2)]((_0x1fb441,_0x45f007)=>{return _0x1fb441[_0x45f007['studentName']]=_0x45f007,_0x1fb441;},{}),_0x43971b=_0x188ca1=>String[_0x17f914(0x7a3)](0x41+_0x188ca1),_0x421268=_0x710953=>{const _0x37d858=_0x17f914,_0x238bb0=_0x710953[_0x37d858(0x3ae)]||_0x3d4eed[_0x37d858(0x81d)];switch(_0x238bb0){case'multiple_choice':return _0x710953['options']&&_0x710953[_0x37d858(0xc69)][_0x37d858(0xa38)]>_0x710953[_0x37d858(0x26e)]?_0x43971b(_0x710953[_0x37d858(0x26e)]):'-';case _0x37d858(0x51c):const _0x3df232=_0x710953[_0x37d858(0x67b)]===!![]||String(_0x710953[_0x37d858(0x67b)])[_0x37d858(0x478)]()===_0x37d858(0x7c4);return _0x3df232?_0x37d858(0xa0b):_0x37d858(0x14d);case'matching_item':return _0x710953['correctResponse']||'-';case'short_answer':return _0x37d858(0x8c6);default:return'-';}},_0x5048a6=(_0x343d66,_0x57b607)=>{const _0x340a06=_0x17f914;if(_0x57b607[_0x340a06(0x647)]===null||_0x57b607[_0x340a06(0x647)]===undefined)return'-';const _0x3bdac5=_0x343d66[_0x340a06(0x3ae)]||_0x3d4eed[_0x340a06(0x81d)];switch(_0x3bdac5){case _0x340a06(0x27f):const _0x5d75b4=_0x343d66['options']['findIndex'](_0x23189c=>_0x23189c===_0x57b607[_0x340a06(0x937)]);return _0x5d75b4!==-0x1?_0x43971b(_0x5d75b4):_0x57b607['answerText']||'-';case'true_false':if(_0x57b607[_0x340a06(0x647)]=='0'||_0x57b607[_0x340a06(0x647)]===!![]||_0x57b607[_0x340a06(0x647)]===_0x340a06(0x7c4))return _0x340a06(0xa0b);return'ไม่ใช่';default:return _0x57b607[_0x340a06(0x647)];}};let _0x39eeac=_0x17f914(0x85f)+_0x579ad5[_0x17f914(0x625)]((_0x13a138,_0x35646d)=>_0x17f914(0xa2f)+(_0x35646d+0x1)+_0x17f914(0x20f))[_0x17f914(0x424)]('')+_0x17f914(0x8f5)+_0x579ad5[_0x17f914(0x625)](_0x475832=>_0x17f914(0xc43)+_0x421268(_0x475832)+_0x17f914(0x132))[_0x17f914(0x424)]('')+_0x17f914(0x87f);_0x4a43fe[_0x17f914(0x236)](_0x4d6e40=>{const _0x1da485=_0x17f914;_0x39eeac+=_0x1da485(0x5c2),_0x39eeac+=_0x1da485(0x7dd)+_0x4d6e40+_0x1da485(0x132);const _0x25d744=_0x53bd6b[_0x4d6e40];if(_0x25d744){const _0x2007ee=_0x25d744[_0x1da485(0x8ae)][_0x25d744['attempts'][_0x1da485(0xa38)]-0x1];_0x579ad5[_0x1da485(0x236)]((_0x165805,_0x2beb4a)=>{const _0x239942=_0x1da485,_0x8da05a=_0x2007ee['answers'][_0x239942(0x269)](_0x3e05a0=>_0x3e05a0['questionId']===_0x165805['id']);if(_0x8da05a){let _0x43374c='';const _0x59e62f=_0x8da05a[_0x239942(0x282)]===!![],_0x5a5486=_0x8da05a[_0x239942(0x84a)]===!![]||_0x8da05a[_0x239942(0x84a)]===_0x239942(0x385);_0x5a5486?_0x43374c=_0x59e62f?_0x239942(0xc6a):_0x239942(0x12e):_0x43374c=_0x59e62f?_0x239942(0x601):'bg-red-100',_0x39eeac+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x43374c+'\x22>'+_0x5048a6(_0x165805,_0x8da05a)+_0x239942(0x132);}else _0x39eeac+=_0x239942(0x882);});}else _0x39eeac+=_0x579ad5[_0x1da485(0x625)](()=>_0x1da485(0xbdb))[_0x1da485(0x424)]('');_0x39eeac+=_0x1da485(0x770);}),_0x39eeac+=_0x17f914(0x641),_0x20bff7[_0x17f914(0x8f6)]=_0x39eeac;}function renderQuizResultsTable(_0x5b20e0,_0x2f37b1,_0xbca187){const _0x10885f=_0x252b26,_0x25e26d=_0x2f37b1['reduce']((_0x500c0b,_0x2654c5)=>{const _0x487e53=_0x4c50;return _0x500c0b[_0x2654c5[_0x487e53(0x688)]]=_0x2654c5,_0x500c0b;},{}),_0x583b2c=document['querySelector'](_0x10885f(0x2d6));_0x583b2c&&!_0x583b2c[_0x10885f(0x8f6)][_0x10885f(0x7d5)](_0x10885f(0x6d0))&&(_0x583b2c['innerHTML']+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x1b0305=document[_0x10885f(0x8d1)]('quiz-results-table-body');if(!_0x5b20e0||_0x5b20e0['length']===0x0){_0x1b0305[_0x10885f(0x8f6)]=_0x10885f(0x71c);return;}const _0x372b3a=_0xbca187[_0x10885f(0x83b)]===!![],_0x550883=_0xbca187[_0x10885f(0x716)]?.[_0x10885f(0xc65)]??-0x1;let _0x4ee613='';_0x5b20e0[_0x10885f(0x236)](_0x54cbd7=>{const _0x43c5ff=_0x10885f,_0x36ce45=_0x25e26d[_0x54cbd7];let _0x335778=_0x43c5ff(0x853)+(_0x372b3a?'bg-amber-100\x20text-amber-800':_0x43c5ff(0x7e2))+'\x22>'+(_0x372b3a?_0x43c5ff(0x47a):_0x43c5ff(0xbad))+'</span></td>';if(_0x36ce45){if(_0x36ce45[_0x43c5ff(0x8ae)]&&_0x36ce45[_0x43c5ff(0x8ae)]['length']>0x0){let _0x2a8d45=_0x372b3a?_0x36ce45[_0x43c5ff(0x5f0)]===_0x36ce45[_0x43c5ff(0x223)]:_0x550883!==-0x1&&_0x36ce45[_0x43c5ff(0x5f0)]>=_0x550883;const _0x3f7c2a=_0x2a8d45?_0x43c5ff(0xba3):_0x43c5ff(0x34c),_0xbdc83b=_0x2a8d45?_0x43c5ff(0x663):'ไม่ผ่าน',_0x63390e=_0x43c5ff(0x23c)+_0x3f7c2a+'\x22>'+_0xbdc83b+_0x43c5ff(0x5b0),_0x2c3d00='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x36ce45[_0x43c5ff(0x8ae)]?.[_0x43c5ff(0xa38)]||0x1)+_0x43c5ff(0xc32);_0x4ee613+=_0x43c5ff(0x304)+_0x54cbd7+_0x43c5ff(0xa68)+_0x36ce45[_0x43c5ff(0x5f0)]+_0x43c5ff(0xc0e)+_0x36ce45[_0x43c5ff(0x223)]+_0x43c5ff(0x3d5)+_0x63390e+_0x43c5ff(0x26f)+_0x335778+_0x43c5ff(0xc08)+_0x36ce45[_0x43c5ff(0x184)]+_0x43c5ff(0xc0e)+_0x36ce45[_0x43c5ff(0x223)]+_0x43c5ff(0x1ba)+_0x36ce45[_0x43c5ff(0xb64)]+_0x43c5ff(0xc0e)+_0x36ce45[_0x43c5ff(0x223)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x36ce45[_0x43c5ff(0x8eb)]||0x0)+_0x43c5ff(0x3d5)+_0x2c3d00+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x36ce45['latestSubmittedAt'])['toLocaleString'](_0x43c5ff(0xc89))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x54cbd7+_0x43c5ff(0x981);}else{const _0x329320=_0x43c5ff(0x358);_0x4ee613+=_0x43c5ff(0x986)+_0x54cbd7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x335778+_0x43c5ff(0x39d)+_0x329320+_0x43c5ff(0xb95)+new Date(_0x36ce45[_0x43c5ff(0x60e)])[_0x43c5ff(0x1b4)]('th-TH')+_0x43c5ff(0x1b5)+_0x54cbd7+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x5c2022=_0x43c5ff(0x24e);_0x4ee613+=_0x43c5ff(0xa15)+_0x54cbd7+_0x43c5ff(0x9fd)+_0x335778+_0x43c5ff(0x156)+_0x5c2022+_0x43c5ff(0x951);}}),_0x1b0305[_0x10885f(0x8f6)]=_0x4ee613;}async function confirmRenameQuiz(){const _0x47492f=_0x252b26,_0x36e3e4=document['getElementById'](_0x47492f(0x3c6))[_0x47492f(0x64c)]['trim']();if(!_0x36e3e4){showMessage(_0x47492f(0xa84));return;}if(!actionTargetId)return;const _0x5042f0=doc(db,'artifacts/'+appId+_0x47492f(0x1a5),actionTargetId);try{await updateDoc(_0x5042f0,{'topic':_0x36e3e4}),showMessage(_0x47492f(0x5ca)),renameQuizModal[_0x47492f(0x1da)][_0x47492f(0x2df)](_0x47492f(0x25d)),actionTargetId=null;}catch(_0x3bc17b){console[_0x47492f(0x62f)](_0x47492f(0x980),_0x3bc17b),showMessage(_0x47492f(0x636));}}async function handleMoveQuiz(_0x1bbf0f){const _0x398b93=_0x252b26;actionTargetId=_0x1bbf0f;const _0x502131=document['getElementById'](_0x398b93(0x798));_0x502131[_0x398b93(0x8f6)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x398b93(0x1da)]['remove'](_0x398b93(0x25d));try{const _0x4a015f=collection(db,_0x398b93(0x1d1)+appId+_0x398b93(0x301)),_0x55ebde=await getDocs(_0x4a015f),_0xd06caa=_0x55ebde[_0x398b93(0x72c)][_0x398b93(0x625)](_0x4e0a18=>({'id':_0x4e0a18['id'],..._0x4e0a18[_0x398b93(0xa36)]()})),_0x256400=_0xd06caa[_0x398b93(0x6de)](_0x47716d=>_0x47716d['id']!==currentProjectId);if(_0x256400[_0x398b93(0xa38)]===0x0){_0x502131['innerHTML']=_0x398b93(0x4c1),document[_0x398b93(0x8d1)](_0x398b93(0x7c9))['disabled']=!![];return;}_0x502131['innerHTML']=_0x256400[_0x398b93(0x625)](_0x57cc83=>_0x398b93(0x19d)+_0x57cc83['id']+'\x22>'+_0x57cc83[_0x398b93(0xa1f)]+'</option>')['join'](''),document['getElementById'](_0x398b93(0x7c9))[_0x398b93(0x7dc)]=![];}catch(_0x191f52){console[_0x398b93(0x62f)](_0x398b93(0x7ad),_0x191f52),showMessage(_0x398b93(0x5f9)),moveQuizModal['classList'][_0x398b93(0x2df)](_0x398b93(0x25d));}}async function confirmMoveQuiz(){const _0x4c6e4d=_0x252b26,_0x3e3fee=document[_0x4c6e4d(0x8d1)](_0x4c6e4d(0x798))[_0x4c6e4d(0x64c)];if(!_0x3e3fee){showMessage(_0x4c6e4d(0x75b));return;}if(!actionTargetId)return;const _0x7d4c6f=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x7d4c6f,{'projectId':_0x3e3fee}),showMessage(_0x4c6e4d(0x958)),moveQuizModal[_0x4c6e4d(0x1da)]['add'](_0x4c6e4d(0x25d)),actionTargetId=null;}catch(_0x1ac33e){console[_0x4c6e4d(0x62f)](_0x4c6e4d(0x799),_0x1ac33e),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x33f5bf){const _0x2bb8e9=_0x252b26;actionTargetId=_0x33f5bf;const _0xcb5ae6=doc(db,_0x2bb8e9(0x1d1)+appId+'/public/data/quizzes',_0x33f5bf);try{const _0x4b164e=await getDoc(_0xcb5ae6);if(_0x4b164e[_0x2bb8e9(0xbfd)]()){const _0x2ee1bd=_0x4b164e['data'](),_0x4ff42b=_0x2ee1bd[_0x2bb8e9(0x716)]||{},_0x2d4ab2=_0x2ee1bd['questions'][_0x2bb8e9(0xa38)];document['getElementById'](_0x2bb8e9(0x460))[_0x2bb8e9(0x64c)]=_0x4ff42b[_0x2bb8e9(0xa24)]||_0x2bb8e9(0xa55),document[_0x2bb8e9(0x8d1)]('modal-results-display-select')['value']=_0x4ff42b['resultsDisplay']||'show_results_and_answers',document[_0x2bb8e9(0x8d1)](_0x2bb8e9(0x19c))[_0x2bb8e9(0x64c)]=_0x4ff42b[_0x2bb8e9(0x9a9)]||_0x2bb8e9(0xa55),document[_0x2bb8e9(0x8d1)]('modal-timer-duration-input')['value']=_0x4ff42b[_0x2bb8e9(0xbfc)]||0xa,document[_0x2bb8e9(0x8d1)](_0x2bb8e9(0x114))[_0x2bb8e9(0x64c)]=_0x4ff42b[_0x2bb8e9(0xc65)]||Math[_0x2bb8e9(0xb79)](_0x2d4ab2/0x2),document['getElementById']('modal-passing-score-input')[_0x2bb8e9(0x494)]=_0x2d4ab2,document['getElementById'](_0x2bb8e9(0x55d))[_0x2bb8e9(0x22d)]=_0x4ff42b[_0x2bb8e9(0x46f)]||![],document[_0x2bb8e9(0x8d1)](_0x2bb8e9(0x39b))['checked']=_0x4ff42b[_0x2bb8e9(0x144)]||![];const _0x1966c8=_0x4ff42b['isConfidenceScoringEnabled']||![];document[_0x2bb8e9(0x8d1)]('modal-confidence-scoring-checkbox')['checked']=_0x1966c8,document[_0x2bb8e9(0x8d1)]('modal-confidence-mode-select')[_0x2bb8e9(0x64c)]=_0x4ff42b[_0x2bb8e9(0x550)]||_0x2bb8e9(0x377);const _0x140400=document[_0x2bb8e9(0x8d1)](_0x2bb8e9(0x5e6));_0x140400[_0x2bb8e9(0x1da)][_0x2bb8e9(0x3a0)](_0x2bb8e9(0x25d),!_0x1966c8),document[_0x2bb8e9(0x8d1)](_0x2bb8e9(0x19c))['dispatchEvent'](new Event(_0x2bb8e9(0x596))),quizSettingsModal['classList']['remove'](_0x2bb8e9(0x25d));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x4498a4){console['error'](_0x2bb8e9(0x7ec),_0x4498a4),showMessage(_0x2bb8e9(0xca0));}}async function confirmQuizSettings(){const _0x30e84d=_0x252b26;if(!actionTargetId)return;const _0x394232=doc(db,_0x30e84d(0x1d1)+appId+'/public/data/quizzes',actionTargetId),_0x56e847={'shuffle':document[_0x30e84d(0x8d1)]('modal-shuffle-select')[_0x30e84d(0x64c)],'resultsDisplay':document[_0x30e84d(0x8d1)](_0x30e84d(0xb1d))[_0x30e84d(0x64c)],'timerMode':document[_0x30e84d(0x8d1)](_0x30e84d(0x19c))[_0x30e84d(0x64c)],'timerDuration':parseInt(document[_0x30e84d(0x8d1)]('modal-timer-duration-input')[_0x30e84d(0x64c)])||0xa,'passingScore':parseInt(document[_0x30e84d(0x8d1)](_0x30e84d(0x114))['value'])||0x0,'isAdaptive':document[_0x30e84d(0x8d1)](_0x30e84d(0x55d))[_0x30e84d(0x22d)],'loopUntilPass':document[_0x30e84d(0x8d1)](_0x30e84d(0x39b))[_0x30e84d(0x22d)],'isConfidenceScoringEnabled':document[_0x30e84d(0x8d1)](_0x30e84d(0xb4e))[_0x30e84d(0x22d)],'confidenceMode':document['getElementById']('modal-confidence-mode-select')[_0x30e84d(0x64c)]};try{await updateDoc(_0x394232,{'settings':_0x56e847}),showMessage(_0x30e84d(0xc52)),quizSettingsModal[_0x30e84d(0x1da)][_0x30e84d(0x2df)](_0x30e84d(0x25d)),actionTargetId=null;}catch(_0x5deb3b){console[_0x30e84d(0x62f)](_0x30e84d(0x2bf),_0x5deb3b),showMessage(_0x30e84d(0x45c));}}async function confirmQuizStatus(){const _0x212b93=_0x252b26;if(!actionTargetId)return;const _0x3b5de8=doc(db,'artifacts/'+appId+_0x212b93(0x1a5),actionTargetId),_0x9431f0=document['querySelector'](_0x212b93(0x48c));if(!_0x9431f0){showMessage(_0x212b93(0x9d3));return;}const _0x17de96=_0x9431f0[_0x212b93(0x64c)];let _0x5b91ab={};if(_0x17de96===_0x212b93(0xa19)||_0x17de96===_0x212b93(0xc72))_0x5b91ab={'status':_0x17de96,'startTime':null,'endTime':null};else{if(_0x17de96===_0x212b93(0x762)){const _0x5382da=document['getElementById'](_0x212b93(0x5d4))['value'],_0x24e20a=document['getElementById'](_0x212b93(0x7a9))['value'];if(!_0x5382da&&!_0x24e20a){showMessage(_0x212b93(0x6e9));return;}_0x5b91ab={'status':_0x212b93(0xc8e),'startTime':_0x5382da?new Date(_0x5382da)['toISOString']():null,'endTime':_0x24e20a?new Date(_0x24e20a)['toISOString']():null};}}try{await updateDoc(_0x3b5de8,_0x5b91ab),showMessage(_0x212b93(0x2b0)),quizStatusModal[_0x212b93(0x1da)]['add'](_0x212b93(0x25d)),actionTargetId=null;}catch(_0x4fb42c){console[_0x212b93(0x62f)]('Error\x20updating\x20quiz\x20status:',_0x4fb42c),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x161d53){const _0x2aa429=_0x252b26,_0x5ec09d=collection(db,_0x2aa429(0x1d1)+appId+_0x2aa429(0x5a4)+_0x161d53+_0x2aa429(0xa50));unsubscribeStudentProfilesListener=onSnapshot(_0x5ec09d,_0x13ec9f=>{const _0xcf8011=_0x2aa429,_0x377581=_0x13ec9f[_0xcf8011(0x72c)]['map'](_0x585a1b=>_0x585a1b[_0xcf8011(0xa36)]());renderLeaderboard(_0x377581,_0xcf8011(0xb35));},_0x186f33=>{const _0x9f4ef1=_0x2aa429;console[_0x9f4ef1(0x62f)]('Error\x20listening\x20for\x20student\x20profiles:',_0x186f33),document[_0x9f4ef1(0x8d1)](_0x9f4ef1(0xb35))[_0x9f4ef1(0x8f6)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x5332c5,_0x48bd11){const _0x47b46e=_0x252b26,_0x1cb444=document[_0x47b46e(0x8d1)](_0x48bd11);if(!_0x5332c5||_0x5332c5[_0x47b46e(0xa38)]===0x0){_0x1cb444[_0x47b46e(0x8f6)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x5332c5[_0x47b46e(0x910)]((_0x2684cc,_0x2768a6)=>{const _0x1b95c7=_0x47b46e,_0x1f0da2=(_0x2768a6[_0x1b95c7(0x534)]||0x0)-(_0x2684cc[_0x1b95c7(0x534)]||0x0);if(_0x1f0da2!==0x0)return _0x1f0da2;const _0x3fec87=(_0x2768a6[_0x1b95c7(0x22c)]?.[_0x1b95c7(0x23f)]||0x0)-(_0x2684cc['badgesCount']?.[_0x1b95c7(0x23f)]||0x0);if(_0x3fec87!==0x0)return _0x3fec87;const _0x3e3b2f=(_0x2768a6[_0x1b95c7(0x22c)]?.[_0x1b95c7(0x3a5)]||0x0)-(_0x2684cc[_0x1b95c7(0x22c)]?.[_0x1b95c7(0x3a5)]||0x0);if(_0x3e3b2f!==0x0)return _0x3e3b2f;const _0x35a8e4=(_0x2768a6[_0x1b95c7(0x22c)]?.[_0x1b95c7(0x3d7)]||0x0)-(_0x2684cc[_0x1b95c7(0x22c)]?.['perfect_score']||0x0);if(_0x35a8e4!==0x0)return _0x35a8e4;const _0x127b85=(_0x2768a6[_0x1b95c7(0x22c)]?.[_0x1b95c7(0x747)]||0x0)-(_0x2684cc[_0x1b95c7(0x22c)]?.[_0x1b95c7(0x747)]||0x0);if(_0x127b85!==0x0)return _0x127b85;return _0x2684cc[_0x1b95c7(0x688)]['localeCompare'](_0x2768a6[_0x1b95c7(0x688)],'th');});let _0x33d304='';_0x5332c5[_0x47b46e(0x236)]((_0x175c0a,_0x4fedeb)=>{const _0x59496f=_0x47b46e,_0x52c097=_0x4fedeb+0x1,_0x3ede28=_0x175c0a[_0x59496f(0x22c)]||{};let _0x5ad800='';const _0x385de8=['specialist',_0x59496f(0x3d7),_0x59496f(0x3a5),_0x59496f(0x747)];_0x385de8[_0x59496f(0x236)](_0x1b4e2c=>{const _0x5a7978=_0x59496f;if(_0x3ede28[_0x1b4e2c]>0x0){const _0x442c86=Object[_0x5a7978(0x591)](BADGES)[_0x5a7978(0x269)](_0x674945=>_0x674945['id']===_0x1b4e2c);_0x442c86&&(_0x1b4e2c==='specialist'?_0x5ad800+=_0x5a7978(0xb7f)+_0x442c86[_0x5a7978(0x2c6)]+_0x5a7978(0x2fd)+_0x442c86[_0x5a7978(0x167)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x5ad800+=_0x5a7978(0xb7f)+_0x442c86[_0x5a7978(0x2c6)]+'\x20('+_0x3ede28[_0x1b4e2c]+_0x5a7978(0x54b)+_0x442c86[_0x5a7978(0x167)]+_0x5a7978(0x5c0)+_0x3ede28[_0x1b4e2c]+_0x5a7978(0xbe7));}}),_0x33d304+=_0x59496f(0x375)+_0x52c097+_0x59496f(0x226)+_0x175c0a[_0x59496f(0x688)]+_0x59496f(0x221)+(_0x175c0a[_0x59496f(0x534)]||0x0)+_0x59496f(0x226)+(_0x5ad800||'-')+_0x59496f(0x8f0);}),_0x1cb444[_0x47b46e(0x8f6)]=_0x33d304;}function displayLoopScreen(_0x66a224,_0x189833,_0x7a449c){const _0x2675b3=_0x252b26;let _0x53a109='';_0x7a449c!==_0x2675b3(0xa3b)&&(_0x53a109=_0x2675b3(0xa14)+_0x66a224+_0x2675b3(0xc0e)+_0x189833+'</strong></p>');const _0x564a62='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53a109+_0x2675b3(0x66b);studentResultArea[_0x2675b3(0x8f6)]=_0x564a62,studentResultArea[_0x2675b3(0x1da)][_0x2675b3(0x7ce)](_0x2675b3(0x25d)),studentQuizArea['classList']['add'](_0x2675b3(0x25d)),document[_0x2675b3(0x8d1)](_0x2675b3(0x1e8))[_0x2675b3(0x2d5)](_0x2675b3(0x4d9),()=>{const _0x332499=_0x2675b3;studentResultArea[_0x332499(0x1da)][_0x332499(0x2df)](_0x332499(0x25d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x43a3e3,_0x49140b,_0x40598a){const _0x454f46=_0x252b26,_0x286140=document['getElementById'](_0x40598a),_0x516f44=_0x40598a===_0x454f46(0x31b),_0x503f47=_0x49140b[_0x454f46(0x692)][_0x454f46(0xa38)],_0x33f24f=document[_0x454f46(0x8d1)](_0x40598a)['closest']('table');if(_0x33f24f&&!_0x516f44){const _0x1d0c61=_0x33f24f[_0x454f46(0x2b7)](_0x454f46(0xb5c));_0x1d0c61[_0x454f46(0x8f6)]=_0x454f46(0xac6);}if(!_0x43a3e3||_0x43a3e3[_0x454f46(0xa38)]===0x0){_0x286140['innerHTML']=_0x454f46(0x55a)+(_0x516f44?0x6:0x8)+_0x454f46(0x516);return;}const _0x44a1b4=[..._0x43a3e3];_0x44a1b4[_0x454f46(0x910)]((_0x54dda1,_0x4cc7fc)=>{const _0x1fbf81=_0x454f46;let _0xa84ef5,_0x530f6d;switch(quizLeaderboardSortBy){case _0x1fbf81(0x688):_0xa84ef5=_0x54dda1[_0x1fbf81(0x688)]||'',_0x530f6d=_0x4cc7fc[_0x1fbf81(0x688)]||'';return quizLeaderboardSortOrder===_0x1fbf81(0xb4b)?_0xa84ef5[_0x1fbf81(0xb7a)](_0x530f6d,'th'):_0x530f6d['localeCompare'](_0xa84ef5,'th');case _0x1fbf81(0x8eb):_0xa84ef5=_0x54dda1[_0x1fbf81(0x8eb)]||0x0,_0x530f6d=_0x4cc7fc[_0x1fbf81(0x8eb)]||0x0;break;case _0x1fbf81(0x8ae):_0xa84ef5=_0x54dda1[_0x1fbf81(0x8ae)]?.[_0x1fbf81(0xa38)]||0x1,_0x530f6d=_0x4cc7fc['attempts']?.[_0x1fbf81(0xa38)]||0x1;break;case _0x1fbf81(0x759):_0xa84ef5=new Date(_0x54dda1[_0x1fbf81(0x759)]),_0x530f6d=new Date(_0x4cc7fc[_0x1fbf81(0x759)]);break;case _0x1fbf81(0x5f0):default:_0xa84ef5=_0x54dda1['bestScore'],_0x530f6d=_0x4cc7fc[_0x1fbf81(0x5f0)];break;}if(_0xa84ef5<_0x530f6d)return quizLeaderboardSortOrder===_0x1fbf81(0xb4b)?-0x1:0x1;if(_0xa84ef5>_0x530f6d)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x4cd07e=_0x49140b[_0x454f46(0x83b)]===!![],_0x1a33f3=_0x49140b[_0x454f46(0x716)]?.[_0x454f46(0xc65)]??-0x1;let _0x2a8121='';_0x44a1b4[_0x454f46(0x236)]((_0x17a8e7,_0x1e36d5)=>{const _0x20a491=_0x454f46,_0x3e7e73=_0x1e36d5+0x1;let _0x4c407d=_0x20a491(0x82d);if(_0x4cd07e||_0x1a33f3!==-0x1){let _0x41cae4=_0x4cd07e?_0x17a8e7[_0x20a491(0x5f0)]===_0x503f47:_0x17a8e7[_0x20a491(0x5f0)]>=_0x1a33f3;const _0x56dae0=_0x41cae4?_0x20a491(0xba3):_0x20a491(0x34c),_0x4209ac=_0x41cae4?_0x20a491(0x663):_0x20a491(0xa70);_0x4c407d=_0x20a491(0xbe5)+_0x56dae0+'\x22>'+_0x4209ac+'</span></td>';}const _0x26e2bb=_0x17a8e7[_0x20a491(0x8ae)][_0x17a8e7[_0x20a491(0x8ae)][_0x20a491(0xa38)]-0x1],_0x441171=(_0x26e2bb[_0x20a491(0x7bb)]||[])[_0x20a491(0x625)](_0x4655ab=>{const _0x555284=_0x20a491,_0x4987ad=Object[_0x555284(0x591)](BADGES)[_0x555284(0x269)](_0x22b604=>_0x22b604['id']===_0x4655ab);return _0x4987ad?_0x555284(0x68e)+_0x4987ad[_0x555284(0x2c6)]+_0x555284(0x832)+_0x4987ad['icon']+_0x555284(0x6ef):'';})[_0x20a491(0x424)]('');_0x2a8121+=_0x20a491(0x7b9)+_0x3e7e73+_0x20a491(0xb14)+_0x17a8e7[_0x20a491(0x688)]+_0x20a491(0x668)+_0x17a8e7[_0x20a491(0x5f0)]+_0x20a491(0xc0e)+_0x503f47+_0x20a491(0x553)+_0x4c407d+_0x20a491(0x609)+(_0x17a8e7[_0x20a491(0x8eb)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x516f44?'':_0x20a491(0x581)+(_0x17a8e7['attempts']?.[_0x20a491(0xa38)]||0x1)+_0x20a491(0x132))+_0x20a491(0x617)+(_0x516f44?'':_0x20a491(0x77d)+new Date(_0x17a8e7[_0x20a491(0x759)])[_0x20a491(0x1b4)]('th-TH')+_0x20a491(0x132))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x441171||'-')+_0x20a491(0x23e);}),_0x286140[_0x454f46(0x8f6)]=_0x2a8121,_0x33f24f&&!_0x516f44&&_0x33f24f['querySelectorAll'](_0x454f46(0x994))['forEach'](_0x58bc4c=>{const _0x3abdaa=_0x454f46,_0x5cbbb4=_0x58bc4c[_0x3abdaa(0x2b7)](_0x3abdaa(0x40f));if(_0x5cbbb4)_0x5cbbb4[_0x3abdaa(0x7ce)]();_0x58bc4c[_0x3abdaa(0x9e8)][_0x3abdaa(0x910)]===quizLeaderboardSortBy&&(_0x58bc4c[_0x3abdaa(0x8f6)]+=_0x3abdaa(0x4af)+(quizLeaderboardSortOrder===_0x3abdaa(0xb4b)?'▲':'▼')+_0x3abdaa(0xa04));});}async function handleDeleteSubmission(_0xa1db4e){const _0x1a3e97=_0x252b26;if(!currentQuizData||!currentQuizData['id']||!_0xa1db4e){showMessage(_0x1a3e97(0x97a));return;}showConfirmation(_0x1a3e97(0x36c)+_0xa1db4e+_0x1a3e97(0x9bc),async()=>{const _0x2f5553=_0x1a3e97,_0x4bdc89=currentQuizData['id'],_0x1b183a=doc(db,_0x2f5553(0x1d1)+appId+_0x2f5553(0x75d)+_0x4bdc89+_0x2f5553(0x208),_0xa1db4e);try{await deleteDoc(_0x1b183a),showMessage(_0x2f5553(0xbfb)+_0xa1db4e+'\x20สำเร็จ');}catch(_0x504d0c){console[_0x2f5553(0x62f)]('Error\x20deleting\x20submission:',_0x504d0c),showMessage(_0x2f5553(0x94a));}});}async function handleLoadQuiz(){const _0x393267=_0x252b26,_0x30e2f2=document[_0x393267(0x8d1)](_0x393267(0x761)),_0xc8faa9=_0x30e2f2[_0x393267(0x64c)][_0x393267(0x3cf)]();if(!_0xc8faa9){showMessage(_0x393267(0x4f4));return;}loadQuizBtn[_0x393267(0x7dc)]=!![],loadQuizBtn[_0x393267(0x8f6)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x577612=doc(db,_0x393267(0x1d1)+appId+_0x393267(0x1a5),_0xc8faa9),_0x2179d4=await getDoc(_0x577612);if(!_0x2179d4['exists']()){showMessage(_0x393267(0x712));return;}currentQuizData={'id':_0x2179d4['id'],..._0x2179d4[_0x393267(0xa36)]()};const _0x4f61fe=currentQuizData['status']||'active',_0x53e63c=new Date();if(_0x4f61fe===_0x393267(0xc72)){showMessage(_0x393267(0x6db));return;}if(_0x4f61fe===_0x393267(0xc8e)){const _0x40c2c1=currentQuizData['startTime']?new Date(currentQuizData['startTime']):null,_0x464b63=currentQuizData[_0x393267(0x99b)]?new Date(currentQuizData['endTime']):null;if(_0x40c2c1&&_0x53e63c<_0x40c2c1){showMessage(_0x393267(0x5ad)+_0x40c2c1[_0x393267(0x1b4)](_0x393267(0xc89),{'hour12':![]}));return;}if(_0x464b63&&_0x53e63c>_0x464b63){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x11bbfc=currentQuizData[_0x393267(0x86f)];currentProjectId=_0x11bbfc;const _0x475af8=doc(db,_0x393267(0x1d1)+appId+_0x393267(0x301),_0x11bbfc),_0x22113e=await getDoc(_0x475af8);if(!_0x22113e[_0x393267(0xbfd)]()){showMessage(_0x393267(0x648));return;}const _0x15f354=_0x22113e[_0x393267(0xa36)]();currentStudentProjectData=_0x15f354,displayStudentNameSelector(_0x15f354[_0x393267(0x91a)],currentQuizData['topic']);}catch(_0x1189f8){console[_0x393267(0x62f)](_0x393267(0x517),_0x1189f8),showMessage(_0x393267(0x1dc));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x393267(0x8f6)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0xecd56d=_0x252b26,_0x580aed=document[_0xecd56d(0x8d1)](_0xecd56d(0x838)),_0x22329e=document[_0xecd56d(0x8d1)](_0xecd56d(0x39e)),_0x2ed7cc=document['getElementById'](_0xecd56d(0x92b)),_0x1552fd=_0x580aed[_0xecd56d(0x64c)][_0xecd56d(0x3cf)](),_0x32b748=_0x22329e[_0xecd56d(0x64c)][_0xecd56d(0x3cf)]();if(!_0x1552fd||!_0x32b748){showMessage(_0xecd56d(0x81e));return;}_0x2ed7cc[_0xecd56d(0x7dc)]=!![],_0x2ed7cc[_0xecd56d(0x8f6)]=_0xecd56d(0xb67);try{const _0x294e55=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x1131b0=query(_0x294e55,where(_0xecd56d(0x63e),'==',_0x1552fd),where(_0xecd56d(0x6c1),'in',[_0xecd56d(0x80e),'question'])),_0x473903=await getDocs(_0x1131b0);if(_0x473903[_0xecd56d(0x8a1)]){showMessage(_0xecd56d(0xc86));return;}const _0x1b448b=_0x473903['docs'][0x0],_0x26dd8d=_0x1b448b[_0xecd56d(0xa36)]();currentLiveGameId=_0x1b448b['id'];const _0x15d34d=_0x26dd8d[_0xecd56d(0x335)],_0x45e6be=doc(db,'artifacts/'+appId+_0xecd56d(0x1a5),_0x15d34d),_0xf66677=await getDoc(_0x45e6be);if(!_0xf66677[_0xecd56d(0xbfd)]()){showMessage(_0xecd56d(0x2b9));return;}currentQuizData={'id':_0xf66677['id'],..._0xf66677['data']()};if(_0x26dd8d[_0xecd56d(0x713)]&&_0x26dd8d['players'][_0x32b748]){const _0x56fe15=_0x26dd8d[_0xecd56d(0x713)][_0x32b748];if(_0x56fe15[_0xecd56d(0x6c1)]===_0xecd56d(0xc72)){_0x2ed7cc['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x3d8060={};_0x3d8060[_0xecd56d(0xac9)+_0x32b748+_0xecd56d(0x466)]='active',await updateDoc(doc(db,_0xecd56d(0x1d1)+appId+'/public/data/liveGames',currentLiveGameId),_0x3d8060),showView(_0xecd56d(0x443)),currentStudentName=_0x32b748,listenForLiveGameUpdates();return;}else{showMessage(_0xecd56d(0x7c5));return;}}if(_0x26dd8d[_0xecd56d(0x6c1)]!==_0xecd56d(0x80e)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x2ed7cc[_0xecd56d(0x8f6)]=_0xecd56d(0xc3c);const _0x7af863={};_0x7af863['players.'+_0x32b748]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0xecd56d(0xa19)},await updateDoc(doc(db,_0xecd56d(0x1d1)+appId+_0xecd56d(0xc92),currentLiveGameId),_0x7af863),currentStudentName=_0x32b748,listenForLiveGameUpdates();}catch(_0x39efeb){console[_0xecd56d(0x62f)](_0xecd56d(0xc6f),_0x39efeb),showMessage(_0xecd56d(0xab9));}finally{_0x2ed7cc[_0xecd56d(0x7dc)]=![],_0x2ed7cc['innerHTML']=_0xecd56d(0x605);}}function displayStudentNameSelector(_0x39e1d5,_0x2d22f8){const _0x526da7=_0x252b26,_0x592f36=document[_0x526da7(0x8d1)]('student-name-select');document[_0x526da7(0x8d1)](_0x526da7(0x178))['textContent']='แบบทดสอบ:\x20'+_0x2d22f8,!_0x39e1d5||_0x39e1d5[_0x526da7(0xa38)]===0x0?(_0x592f36[_0x526da7(0x8f6)]=_0x526da7(0x8c4),startQuizBtn[_0x526da7(0x7dc)]=!![]):(_0x592f36[_0x526da7(0x8f6)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x39e1d5[_0x526da7(0x236)](_0x3887c1=>{const _0x10ff56=_0x526da7,_0x11a905=document[_0x10ff56(0x504)](_0x10ff56(0x382));_0x11a905[_0x10ff56(0x64c)]=_0x3887c1,_0x11a905[_0x10ff56(0x5eb)]=_0x3887c1,_0x592f36[_0x10ff56(0x726)](_0x11a905);}),startQuizBtn[_0x526da7(0x7dc)]=![]),studentInitialView[_0x526da7(0x1da)][_0x526da7(0x2df)](_0x526da7(0x25d)),studentNameSelectionView[_0x526da7(0x1da)][_0x526da7(0x7ce)](_0x526da7(0x25d));}function shuffleArray(_0xeecfaa){const _0x41246b=_0x252b26;for(let _0x4b5d3c=_0xeecfaa[_0x41246b(0xa38)]-0x1;_0x4b5d3c>0x0;_0x4b5d3c--){const _0x244a2f=Math[_0x41246b(0xb79)](Math[_0x41246b(0x782)]()*(_0x4b5d3c+0x1));[_0xeecfaa[_0x4b5d3c],_0xeecfaa[_0x244a2f]]=[_0xeecfaa[_0x244a2f],_0xeecfaa[_0x4b5d3c]];}}function getShuffledQuiz(_0x5201ab){const _0x282781=_0x252b26;let _0x473b12=JSON['parse'](JSON[_0x282781(0x34d)](_0x5201ab));const _0x4ac1df=_0x473b12[_0x282781(0x716)]?.['shuffle']||'none';if(_0x4ac1df==='none')return _0x473b12;return(_0x4ac1df===_0x282781(0x415)||_0x4ac1df===_0x282781(0xc71))&&shuffleArray(_0x473b12[_0x282781(0x692)]),(_0x4ac1df===_0x282781(0x7b6)||_0x4ac1df==='both')&&_0x473b12[_0x282781(0x692)][_0x282781(0x236)](_0x384445=>{const _0x409799=_0x282781,_0x42aa46=_0x384445[_0x409799(0x3ae)]||_0x473b12['quizType'];if(_0x384445['options']){let _0x208cfb=_0x384445[_0x409799(0xc69)][_0x409799(0x625)]((_0x25ff5e,_0x744ba5)=>({'text':_0x25ff5e,'isCorrect':_0x744ba5===_0x384445[_0x409799(0x26e)]}));shuffleArray(_0x208cfb),_0x384445[_0x409799(0xc69)]=_0x208cfb['map'](_0x4632f0=>_0x4632f0[_0x409799(0xaac)]),_0x384445[_0x409799(0x26e)]=_0x208cfb['findIndex'](_0x5eff5a=>_0x5eff5a[_0x409799(0x282)]);}_0x42aa46===_0x409799(0x711)&&_0x384445[_0x409799(0x98b)]&&shuffleArray(_0x384445[_0x409799(0x98b)]);}),_0x473b12;}function displayQuizForStudent(_0x352484){const _0x1d50e2=_0x252b26;studentQuizArea['classList'][_0x1d50e2(0x7ce)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x352484);currentMode!==_0x1d50e2(0xc83)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x1d50e2(0x263),handleFullscreenChange),document['addEventListener']('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x1d50e2(0x2d5)](_0x1d50e2(0x551),resetDimTimer),window[_0x1d50e2(0x2d5)](_0x1d50e2(0x71d),resetDimTimer),window['addEventListener'](_0x1d50e2(0x76c),resetDimTimer),window['addEventListener'](_0x1d50e2(0x8cb),resetDimTimer),resetDimTimer());const _0x45030d=currentDisplayedQuiz['settings']?.[_0x1d50e2(0x9a9)]||_0x1d50e2(0xa55);if(_0x45030d===_0x1d50e2(0xca2))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0x45030d===_0x1d50e2(0x376)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x22d9b4=_0x252b26,_0x2590d0=currentDisplayedQuiz[_0x22d9b4(0x716)]?.['isConfidenceScoringEnabled']===!![],_0x57c237=currentDisplayedQuiz[_0x22d9b4(0x716)]?.[_0x22d9b4(0x550)]||_0x22d9b4(0x377);let _0x5405ff=_0x22d9b4(0x242)+currentDisplayedQuiz[_0x22d9b4(0x5d7)]+_0x22d9b4(0x7d8)+(currentMode===_0x22d9b4(0xc83)?_0x22d9b4(0x666):'')+_0x22d9b4(0x767);currentDisplayedQuiz['questions']['forEach']((_0x2a2897,_0x26f2df)=>{const _0x20446b=_0x22d9b4,_0x241fed=_0x2a2897[_0x20446b(0x3ae)]||currentDisplayedQuiz[_0x20446b(0x81d)];_0x5405ff+=_0x20446b(0xb8c);if(_0x241fed===_0x20446b(0x711)){}else _0x5405ff+='<p>'+(_0x26f2df+0x1)+'.\x20'+(_0x2a2897[_0x20446b(0x485)]||_0x2a2897['questionText'])+_0x20446b(0xbb8),_0x2a2897[_0x20446b(0xc33)]&&(_0x5405ff+=_0x20446b(0x9f9)+_0x2a2897[_0x20446b(0xc33)]+'</div>');_0x5405ff+=_0x20446b(0x29a);switch(_0x241fed){case _0x20446b(0xb86):_0x5405ff+=_0x20446b(0x79b)+_0x26f2df+_0x20446b(0x697);break;case _0x20446b(0x51c):_0x5405ff+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x26f2df+_0x20446b(0xa94)+_0x26f2df+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x26f2df+_0x20446b(0x5af),_0x5405ff+=_0x20446b(0x78d)+_0x26f2df+_0x20446b(0x525)+_0x26f2df+_0x20446b(0x1a9)+_0x26f2df+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x20446b(0x711):_0x5405ff+=_0x20446b(0x3be)+_0x2a2897[_0x20446b(0x503)]+_0x20446b(0x400)+_0x26f2df+_0x20446b(0x48e)+_0x2a2897[_0x20446b(0x98b)][_0x20446b(0x625)](_0x127fb3=>'<option\x20value=\x22'+_0x127fb3+'\x22>'+_0x127fb3+_0x20446b(0x64b))[_0x20446b(0x424)]('')+_0x20446b(0x37a);break;default:_0x5405ff+=_0x2a2897['options'][_0x20446b(0x625)]((_0x5c6382,_0x1dc874)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x26f2df+_0x20446b(0x410)+_0x1dc874+_0x20446b(0x608)+_0x26f2df+'\x22\x20value=\x22'+_0x1dc874+_0x20446b(0x2e5)+_0x26f2df+_0x20446b(0x410)+_0x1dc874+'\x22>'+_0x5c6382+_0x20446b(0x381))['join']('');break;}_0x5405ff+=_0x20446b(0xa8c),_0x2590d0&&(_0x5405ff+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x57c237===_0x20446b(0x3cb)?_0x5405ff+=_0x20446b(0x98d)+_0x26f2df+_0x20446b(0x4dd)+_0x26f2df+_0x20446b(0x3aa)+_0x26f2df+_0x20446b(0x3f3)+_0x26f2df+_0x20446b(0xac4):_0x5405ff+=_0x20446b(0x10c)+_0x26f2df+_0x20446b(0x4dd)+_0x26f2df+_0x20446b(0xc82)+_0x26f2df+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5405ff+=_0x20446b(0xa8c)),_0x5405ff+='</div>';}),_0x5405ff+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x5405ff+=_0x22d9b4(0x9b9),studentQuizArea[_0x22d9b4(0x8f6)]=_0x5405ff;if(currentMode==='admin-testing'){const _0x25d0f5=document['getElementById'](_0x22d9b4(0x151));if(_0x25d0f5)_0x25d0f5[_0x22d9b4(0x2d5)](_0x22d9b4(0x4d9),cancelAdminTest);}const _0xc70540=document[_0x22d9b4(0x8d1)](_0x22d9b4(0x4b5));_0xc70540&&(_0xc70540['addEventListener']('submit',handleSubmitQuiz),_0xc70540[_0x22d9b4(0x2d5)](_0x22d9b4(0x4d9),_0x47bde1=>{const _0x40eb04=_0x22d9b4;if(_0x47bde1[_0x40eb04(0x54a)][_0x40eb04(0x1da)]['contains'](_0x40eb04(0x936))){const _0x2bba86=_0x47bde1[_0x40eb04(0x54a)],_0x46e640=_0x2bba86[_0x40eb04(0x9e8)][_0x40eb04(0x30d)],_0x72f756=_0x2bba86['dataset'][_0x40eb04(0x64c)];document[_0x40eb04(0x8d1)](_0x40eb04(0x9c6)+_0x46e640)[_0x40eb04(0x64c)]=_0x72f756;const _0x5520a1=_0x2bba86[_0x40eb04(0x997)];_0x5520a1[_0x40eb04(0xa48)](_0x40eb04(0x93d))[_0x40eb04(0x236)](_0x1ff634=>_0x1ff634[_0x40eb04(0x1da)][_0x40eb04(0x7ce)](_0x40eb04(0xa19))),_0x2bba86[_0x40eb04(0x1da)]['add']('active');}}));if(window[_0x22d9b4(0x3fa)])window[_0x22d9b4(0x3fa)][_0x22d9b4(0x422)]([studentQuizArea]);}async function handleSubmitQuiz(_0xf8b247){const _0x2bc742=_0x252b26;if(_0xf8b247)_0xf8b247[_0x2bc742(0x65f)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x51ce87=document[_0x2bc742(0x8d1)](_0x2bc742(0x4b5));if(!_0x51ce87)return;const _0x429f49=currentDisplayedQuiz[_0x2bc742(0x716)]?.[_0x2bc742(0xaa8)]===!![],_0x554b47=currentDisplayedQuiz[_0x2bc742(0x716)]?.[_0x2bc742(0x550)]||_0x2bc742(0x377);if(_0x429f49&&_0x554b47===_0x2bc742(0x3cb)){let _0x200928=!![];for(let _0x1d8845=0x0;_0x1d8845<currentDisplayedQuiz[_0x2bc742(0x692)][_0x2bc742(0xa38)];_0x1d8845++){const _0x4d88f7=_0x51ce87[_0x2bc742(0x2b7)](_0x2bc742(0x732)+_0x1d8845);if(!_0x4d88f7||_0x4d88f7[_0x2bc742(0x64c)]===''){_0x200928=![];break;}}if(!_0x200928){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x4a3481=_0x51ce87[_0x2bc742(0x2b7)](_0x2bc742(0x90d)),_0x5e1fd0=currentDisplayedQuiz[_0x2bc742(0x692)][_0x2bc742(0x64f)](_0x5e685d=>_0x5e685d[_0x2bc742(0x3ae)]===_0x2bc742(0xb86));_0x4a3481&&(_0x4a3481[_0x2bc742(0x7dc)]=!![],_0x4a3481[_0x2bc742(0x8f6)]=_0x5e1fd0?_0x2bc742(0x219):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x2bc58e=new FormData(_0x51ce87),_0xb90eff=currentDisplayedQuiz[_0x2bc742(0x692)]['map']((_0x10d0f5,_0x19affe)=>{const _0x306445=_0x2bc742,_0x42c524=_0x2bc58e[_0x306445(0x4eb)](_0x306445(0x638)+_0x19affe);let _0x3b8240;_0x554b47===_0x306445(0x3cb)?_0x3b8240=_0x2bc58e[_0x306445(0x4eb)](_0x306445(0x349)+_0x19affe):_0x3b8240=_0x2bc58e['get'](_0x306445(0x349)+_0x19affe)==='on';let _0x726032=null;if(_0x42c524!==null&&_0x42c524!==undefined){const _0x46869c=_0x10d0f5[_0x306445(0x3ae)]||currentDisplayedQuiz[_0x306445(0x81d)];_0x46869c===_0x306445(0x27f)||_0x46869c===_0x306445(0xc9a)?_0x726032=parseInt(_0x42c524):_0x726032=_0x42c524;}return{'answer':_0x726032,'wasConfident':_0x3b8240};}),_0x1ca078=currentQuizData['id'],_0x3f3411=doc(db,_0x2bc742(0x1d1)+appId+_0x2bc742(0x75d)+_0x1ca078+_0x2bc742(0x208),currentStudentName),_0x72ac70=await getDoc(_0x3f3411),_0x2a5307=_0x72ac70[_0x2bc742(0xbfd)]()?_0x72ac70[_0x2bc742(0xa36)]():{},_0x3fd530=_0x2a5307[_0x2bc742(0x8ae)]||[];await processAndSubmitAnswers(_0xb90eff,_0x3fd530);}async function gradeShortAnswerWithAI(_0xa98694,_0x2a95c2){const _0x5856ce=_0x252b26;if(!_0xa98694||!_0x2a95c2)return![];try{const _0x2893e7=_0x5856ce(0x565)+_0xa98694+_0x5856ce(0x2e8)+_0x2a95c2+_0x5856ce(0x48f),_0x159bf9={'contents':[{'role':_0x5856ce(0xabc),'parts':[{'text':_0x2893e7}]}]},_0x33c8ef=_0x5856ce(0x689),_0x5935e3=_0x5856ce(0x7f7)+_0x33c8ef,_0x1fd526=await fetch(_0x5935e3,{'method':_0x5856ce(0x286),'headers':{'Content-Type':_0x5856ce(0xb94)},'body':JSON[_0x5856ce(0x34d)](_0x159bf9)});if(!_0x1fd526['ok'])throw new Error(_0x5856ce(0x6a8));const _0x501bd8=await _0x1fd526[_0x5856ce(0x3bc)](),_0x5e47c9=_0x501bd8[_0x5856ce(0xa3f)][0x0][_0x5856ce(0x5c8)]['parts'][0x0][_0x5856ce(0xaac)]['trim']()[_0x5856ce(0x478)]();return _0x5e47c9===_0x5856ce(0x7c4);}catch(_0x3964ba){return console[_0x5856ce(0x62f)](_0x5856ce(0x1ce),_0x3964ba),![];}}async function processAndSubmitAnswers(_0x4f95f4,_0x424d07){const _0x12ddbb=_0x252b26;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x12ddbb(0xad6)](_0x12ddbb(0x263),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange);let _0x3e4757=0x0;const _0x923bb5=[],_0x5e1585=currentDisplayedQuiz[_0x12ddbb(0x692)][_0x12ddbb(0xa38)];let _0x5919e3=0x0,_0x120998=[];const _0xe42590=currentDisplayedQuiz[_0x12ddbb(0x692)];for(let _0x524be0=0x0;_0x524be0<_0xe42590['length'];_0x524be0++){const _0x444547=_0xe42590[_0x524be0],_0x132986=_0x4f95f4[_0x524be0],_0xb4d741=_0x132986?_0x132986[_0x12ddbb(0x647)]:null,_0x2e322c=_0x132986?_0x132986[_0x12ddbb(0x84a)]:null;let _0x7c03b0=![],_0x25481d=0x0;if(_0xb4d741!==null&&_0xb4d741!==''){const _0x21aa3=_0x444547[_0x12ddbb(0x3ae)]||currentDisplayedQuiz[_0x12ddbb(0x81d)];switch(_0x21aa3){case _0x12ddbb(0x711):_0x7c03b0=_0xb4d741===_0x444547[_0x12ddbb(0xb28)];break;case _0x12ddbb(0x51c):const _0x3ea24a=_0xb4d741===!![]||_0xb4d741==='true';_0x7c03b0=_0x3ea24a===_0x444547[_0x12ddbb(0x67b)];break;case _0x12ddbb(0xb86):_0x7c03b0=await gradeShortAnswer(_0xb4d741,_0x444547);break;case'multiple_choice':default:_0x7c03b0=Number(_0xb4d741)===_0x444547['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.[_0x12ddbb(0xaa8)]){const _0x2751a4=_0x132986?_0x132986['wasConfident']:null;if(_0x7c03b0&&(_0x2751a4===!![]||_0x2751a4===_0x12ddbb(0x385)))_0x25481d=0x2;else{if(_0x7c03b0)_0x25481d=0x1;else{if(!_0x7c03b0&&(_0x2751a4===![]||_0x2751a4===_0x12ddbb(0x45e)||_0x2751a4===null))_0x25481d=0x0;else!_0x7c03b0&&(_0x2751a4===!![]||_0x2751a4===_0x12ddbb(0x385))&&(_0x25481d=-0x1);}}}else _0x25481d=_0x7c03b0?0x1:0x0;_0x3e4757+=_0x25481d;if(_0x7c03b0){_0x5919e3++;if(_0x5919e3===0x3)_0x120998[_0x12ddbb(0xc64)](BADGES[_0x12ddbb(0x211)]['id']);}else _0x5919e3=0x0;let _0x3f9214=null;_0x444547[_0x12ddbb(0xc69)]&&_0xb4d741!==null&&(_0x3f9214=_0x444547[_0x12ddbb(0xc69)][_0xb4d741]),_0x923bb5[_0x12ddbb(0xc64)]({'questionId':_0x444547['id'],'answer':_0xb4d741,'answerText':_0x3f9214,'isCorrect':_0x7c03b0,'wasConfident':_0x2e322c,'pointsAwarded':_0x25481d,'originalQuestionText':_0x444547['stem']||_0x444547[_0x12ddbb(0x15a)]});}const _0x485133=_0x923bb5['filter'](_0x1dfc60=>_0x1dfc60[_0x12ddbb(0x282)])['length'],_0x41ad8d=currentDisplayedQuiz[_0x12ddbb(0x716)]?.[_0x12ddbb(0xc65)]??Math[_0x12ddbb(0xb79)](_0x5e1585/0x2);_0x485133===_0x5e1585&&_0x5e1585>0x0&&!currentDisplayedQuiz[_0x12ddbb(0x83b)]&&_0x120998[_0x12ddbb(0xc64)](BADGES[_0x12ddbb(0x80f)]['id']);const _0xfae18a=currentDisplayedQuiz[_0x12ddbb(0x716)]?.[_0x12ddbb(0x9a9)];if(_0xfae18a===_0x12ddbb(0xca2)&&quizStartTime){const _0x23a161=(new Date()-quizStartTime)/0x3e8,_0x1d69ab=currentDisplayedQuiz[_0x12ddbb(0x716)][_0x12ddbb(0xbfc)]*0x3c;_0x485133>=_0x41ad8d&&_0x23a161<_0x1d69ab/0x2&&_0x120998['push'](BADGES['QUICK_THINKER']['id']);}_0x424d07['length']===0x0&&_0x485133===_0x5e1585&&_0x5e1585>0x0&&_0x120998['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x424d07['length']>0x0){const _0x3f00cf=_0x424d07[0x0][_0x12ddbb(0x3a4)];if(_0x3f00cf<_0x41ad8d&&_0x485133>=_0x41ad8d){const _0x20fa28=_0x424d07[_0x12ddbb(0x64f)](_0x9aa1ef=>(_0x9aa1ef[_0x12ddbb(0x7bb)]||[])['includes'](BADGES[_0x12ddbb(0x7c8)]['id']));!_0x20fa28&&_0x120998[_0x12ddbb(0xc64)](BADGES['COMEBACK_KING']['id']);}}_0x424d07[_0x12ddbb(0xa38)]===0x4&&_0x120998[_0x12ddbb(0xc64)](BADGES[_0x12ddbb(0x520)]['id']);const _0x457cc5=currentDisplayedQuiz[_0x12ddbb(0x716)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x457cc5,_0x485133,_0x3e4757,_0x120998,_0x923bb5,_0x5e1585);return;}const _0xe99f1b=currentQuizData['id'],_0x1f398a=doc(db,_0x12ddbb(0x1d1)+appId+_0x12ddbb(0x75d)+_0xe99f1b+_0x12ddbb(0x208),currentStudentName);try{const _0x521d46=[..._0x424d07],_0x441c9d={'score':_0x485133,'points':_0x3e4757,'badges':Array['from'](new Set(_0x120998)),'submittedAt':new Date()[_0x12ddbb(0x5e7)](),'answers':_0x923bb5};_0x521d46[_0x12ddbb(0xc64)](_0x441c9d);const _0x5b3bd7=_0x424d07['length']===0x0?_0x485133:_0x424d07[0x0][_0x12ddbb(0x3a4)]||0x0,_0x139d57=Math[_0x12ddbb(0x494)](..._0x521d46[_0x12ddbb(0x625)](_0x5ac00b=>_0x5ac00b['score']));await setDoc(_0x1f398a,{'studentName':currentStudentName,'totalQuestions':_0x5e1585,'attempts':_0x521d46,'firstScore':_0x5b3bd7,'bestScore':_0x139d57,'latestScore':_0x485133,'points':_0x3e4757,'latestSubmittedAt':_0x441c9d[_0x12ddbb(0x69e)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x12ddbb(0x86f)],currentStudentName),handleResultDisplay(_0x457cc5,_0x485133,_0x3e4757,_0x120998,_0x923bb5,_0x5e1585);}catch(_0x2d7f90){console[_0x12ddbb(0x62f)]('Error\x20saving\x20submission:',_0x2d7f90),showMessage(_0x12ddbb(0x56e));}}async function updateStudentProfile(_0x68ba0c,_0x5a6e0d){const _0x38b479=_0x252b26,_0x47e2b8=doc(db,'artifacts/'+appId+_0x38b479(0x5a4)+_0x68ba0c+_0x38b479(0xa50),_0x5a6e0d);try{const _0x2f5866=query(collection(db,_0x38b479(0x1d1)+appId+'/public/data/quizzes'),where(_0x38b479(0x86f),'==',_0x68ba0c)),_0xfb9283=await getDocs(_0x2f5866),_0x3fd1bb=new Map(_0xfb9283['docs'][_0x38b479(0x625)](_0x2b2bef=>[_0x2b2bef['id'],_0x2b2bef[_0x38b479(0xa36)]()])),_0x2d5b1a=Array['from'](_0x3fd1bb[_0x38b479(0x529)]());await runTransaction(db,async _0x2814e3=>{const _0x19d3a8=_0x38b479;let _0xae7cbb=0x0;const _0x5b5b99={};let _0x319eeb=!![],_0x275596=0x0,_0x353a4e=0x0;for(const _0xe86fec of _0x2d5b1a){const _0x202bba=_0x3fd1bb[_0x19d3a8(0x4eb)](_0xe86fec),_0xb97a7a=doc(db,_0x19d3a8(0x1d1)+appId+_0x19d3a8(0x75d)+_0xe86fec+_0x19d3a8(0x208),_0x5a6e0d),_0x980b73=await _0x2814e3[_0x19d3a8(0x4eb)](_0xb97a7a);if(_0x980b73[_0x19d3a8(0xbfd)]()){const _0x138277=_0x980b73[_0x19d3a8(0xa36)](),_0xec179a=_0x138277[_0x19d3a8(0x8ae)]||[];if(_0xec179a['length']>0x0){const _0x12b3e4=_0xec179a[_0x19d3a8(0x2d2)]((_0x3c74ea,_0x10cd3d)=>{const _0x4b1d7e=_0x19d3a8;if(_0x10cd3d[_0x4b1d7e(0x3a4)]>_0x3c74ea[_0x4b1d7e(0x3a4)])return _0x10cd3d;if(_0x10cd3d['score']===_0x3c74ea[_0x4b1d7e(0x3a4)])return(_0x10cd3d[_0x4b1d7e(0x8eb)]||0x0)>(_0x3c74ea[_0x4b1d7e(0x8eb)]||0x0)?_0x10cd3d:_0x3c74ea;return _0x3c74ea;},{'score':-0x1,'points':-0x1});_0x12b3e4[_0x19d3a8(0x3a4)]>-0x1&&(_0xae7cbb+=_0x12b3e4[_0x19d3a8(0x8eb)]||0x0,(_0x12b3e4['badges']||[])[_0x19d3a8(0x236)](_0x38bf84=>{_0x5b5b99[_0x38bf84]=(_0x5b5b99[_0x38bf84]||0x0)+0x1;}));}}if(_0x202bba[_0x19d3a8(0x5d7)]!==_0x19d3a8(0x347)){_0x353a4e++;if(_0x980b73[_0x19d3a8(0xbfd)]()){_0x275596++;const _0x30ae19=_0x980b73['data']();_0x30ae19[_0x19d3a8(0x5f0)]!==_0x30ae19[_0x19d3a8(0x223)]&&(_0x319eeb=![]);}else _0x319eeb=![];}}_0x353a4e>0x0&&_0x275596===_0x353a4e&&_0x319eeb?_0x5b5b99[_0x19d3a8(0x23f)]=0x1:_0x5b5b99[_0x19d3a8(0x23f)]=0x0,_0x2814e3[_0x19d3a8(0x80c)](_0x47e2b8,{'studentName':_0x5a6e0d,'totalPoints':_0xae7cbb,'unlockedBadges':Object[_0x19d3a8(0x529)](_0x5b5b99)[_0x19d3a8(0x6de)](_0x36ec8f=>_0x5b5b99[_0x36ec8f]>0x0),'badgesCount':_0x5b5b99},{'merge':!![]});});}catch(_0xa59f9f){console[_0x38b479(0x62f)](_0x38b479(0x7e6),_0xa59f9f),showMessage(_0x38b479(0xa75));}}function startAdminTest(){const _0x1eeb7d=_0x252b26;if(!currentQuizData){showMessage(_0x1eeb7d(0xb53));return;}let _0x4996bb=JSON[_0x1eeb7d(0x577)](JSON[_0x1eeb7d(0x34d)](currentQuizData));currentMode=_0x1eeb7d(0xc83),currentStudentName=_0x1eeb7d(0x65b),adminView[_0x1eeb7d(0x1da)][_0x1eeb7d(0x2df)](_0x1eeb7d(0x25d)),studentView[_0x1eeb7d(0x1da)][_0x1eeb7d(0x7ce)](_0x1eeb7d(0x25d)),studentInitialView['classList'][_0x1eeb7d(0x2df)](_0x1eeb7d(0x25d)),studentNameSelectionView[_0x1eeb7d(0x1da)][_0x1eeb7d(0x2df)](_0x1eeb7d(0x25d)),studentResultArea['classList'][_0x1eeb7d(0x2df)](_0x1eeb7d(0x25d)),studentQuizArea['classList'][_0x1eeb7d(0x7ce)](_0x1eeb7d(0x25d)),quizStartTime=new Date(),displayQuizForStudent(_0x4996bb);}function handleResultDisplay(_0xfb8ffa,_0x491d59,_0x712a97,_0x5b7b81,_0x2f106a,_0x2f9ac9){const _0x4f7617=_0x252b26;if(_0xfb8ffa==='manual_release'){displaySubmissionConfirmation();return;}const _0x2e2fe6=currentDisplayedQuiz[_0x4f7617(0x716)]?.[_0x4f7617(0xc65)]??Math[_0x4f7617(0xb79)](_0x2f9ac9/0x2),_0x36a1d0=currentDisplayedQuiz[_0x4f7617(0x716)]?.[_0x4f7617(0x46f)]??![],_0x5aefe2=currentDisplayedQuiz[_0x4f7617(0x716)]?.[_0x4f7617(0x144)]===!![],_0x5b2827=_0x491d59<_0x2e2fe6,_0x3670a6=_0xfb8ffa===_0x4f7617(0x246)||_0xfb8ffa===_0x4f7617(0x3e5);if(_0x5aefe2&&_0x5b2827&&!_0x3670a6){_0xfb8ffa===_0x4f7617(0xa4f)?displayResultsWithAnswers(_0x491d59,_0x712a97,_0x5b7b81,_0x2f106a,_0x2f9ac9,!![]):displayLoopScreen(_0x491d59,_0x2f9ac9,_0xfb8ffa);return;}if(_0x36a1d0&&_0x5b2827){startAdaptiveFlow(_0x2f106a,_0x491d59,_0x2f9ac9);return;}switch(_0xfb8ffa){case _0x4f7617(0xa4f):displayResultsWithAnswers(_0x491d59,_0x712a97,_0x5b7b81,_0x2f106a,_0x2f9ac9);break;case _0x4f7617(0x2b5):displayResultsScoreOnly(_0x491d59,_0x712a97,_0x5b7b81,_0x2f9ac9);break;case _0x4f7617(0xa3b):displayPassFailOnly(_0x491d59,_0x2f9ac9);break;case _0x4f7617(0x246):displayHalfMarkResult(_0x491d59,_0x2f9ac9);break;case _0x4f7617(0x3e5):displayPerfectScoreResult(_0x491d59,_0x2f9ac9);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3a2d3e){const _0x1187cf=_0x252b26;studentReadingArea[_0x1187cf(0x8f6)]=_0x1187cf(0xc7b);const _0x5b15e0=_0x1187cf(0xc41)+_0x3a2d3e+_0x1187cf(0x77f)+simpleMathPrompt+_0x1187cf(0x350),_0x2848e1={'type':_0x1187cf(0x129),'properties':{'questionText':{'type':_0x1187cf(0xc74)},'options':{'type':_0x1187cf(0x99c),'items':{'type':_0x1187cf(0xc74)}},'correctAnswerIndex':{'type':_0x1187cf(0x204)},'explanation':{'type':_0x1187cf(0xc74)}},'required':[_0x1187cf(0x15a),'options',_0x1187cf(0x26e),'explanation']},_0x3cb3b9={'type':_0x1187cf(0x129),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1187cf(0x99c),'items':_0x2848e1}},'required':[_0x1187cf(0x5d7),_0x1187cf(0x692)]};try{const _0x42f55e=await callAnalysisApi(_0x5b15e0,_0x3cb3b9);_0x42f55e[_0x1187cf(0x83b)]=!![],studentReadingArea[_0x1187cf(0x1da)]['add'](_0x1187cf(0x25d));const _0x4be192={...currentDisplayedQuiz[_0x1187cf(0x716)],'isAdaptive':![],'resultsDisplay':_0x1187cf(0xa4f)};_0x42f55e[_0x1187cf(0x716)]=_0x4be192,displayQuizForStudent(_0x42f55e);}catch(_0x3f8e64){console[_0x1187cf(0x62f)]('Remedial\x20quiz\x20generation\x20failed:',_0x3f8e64),showMessage(_0x1187cf(0x57c)),showView('student');}}function displayPassFailOnly(_0x16d0c3,_0x3c3f74){const _0x26144a=_0x252b26,_0x287e8c=currentDisplayedQuiz['settings']?.[_0x26144a(0xc65)]??-0x1,_0x19ede9=currentDisplayedQuiz['isRemedial']===!![];let _0x226a36='',_0x5675dc=![];if(_0x19ede9||_0x287e8c!==-0x1){_0x5675dc=_0x19ede9?_0x16d0c3===_0x3c3f74:_0x16d0c3>=_0x287e8c;const _0x4baf44=_0x5675dc?_0x26144a(0xba3):_0x26144a(0x34c),_0x3c4d0a=_0x5675dc?_0x26144a(0x663):_0x26144a(0xa70);_0x226a36=_0x26144a(0x9aa)+_0x4baf44+'\x22>'+_0x3c4d0a+_0x26144a(0x176);}else _0x226a36=_0x26144a(0xc70);let _0x2a8560=_0x26144a(0x154)+currentStudentName+_0x26144a(0x2ec)+_0x226a36+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x2a8560,studentResultArea[_0x26144a(0x1da)][_0x26144a(0x7ce)](_0x26144a(0x25d)),studentQuizArea['classList'][_0x26144a(0x2df)](_0x26144a(0x25d)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5675dc});}function cancelAdminTest(){const _0x4b211c=_0x252b26;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4b211c(0xad6)](_0x4b211c(0x263),handleFullscreenChange),document[_0x4b211c(0xad6)]('visibilitychange',handleVisibilityChange),currentMode=_0x4b211c(0x53c),studentView[_0x4b211c(0x1da)][_0x4b211c(0x2df)](_0x4b211c(0x25d)),adminView[_0x4b211c(0x1da)][_0x4b211c(0x7ce)](_0x4b211c(0x25d)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x4b211c(0x3b3));}function setupResultScreenBackButton(_0x593021){const _0x65fbaa=_0x252b26,_0x5b0b59={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x593021};if(_0x5b0b59['isLooping']){const _0x33d486='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x65fbaa(0x414),_0x33d486),document[_0x65fbaa(0x8d1)](_0x65fbaa(0x1e8))[_0x65fbaa(0x2d5)](_0x65fbaa(0x4d9),()=>{const _0x1c9711=_0x65fbaa;studentResultArea['classList'][_0x1c9711(0x2df)](_0x1c9711(0x25d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x14ca1a=_0x65fbaa(0x2ae),_0x166409=currentMode===_0x65fbaa(0xc83),_0x3f77fc=_0x166409?_0x65fbaa(0x899):_0x65fbaa(0x633);let _0x1822b9='';_0x5b0b59[_0x65fbaa(0x16c)]&&(_0x1822b9+=_0x65fbaa(0x7a6));let _0x9f4159=_0x5b0b59[_0x65fbaa(0x227)];_0x9f4159===undefined&&(_0x9f4159=_0x5b0b59[_0x65fbaa(0x3a4)]<_0x5b0b59['totalQuestions']);_0x9f4159&&(_0x1822b9+=_0x65fbaa(0x6a3));_0x1822b9+=_0x65fbaa(0x84d)+_0x14ca1a+_0x65fbaa(0xaba)+_0x3f77fc+_0x65fbaa(0x429);const _0x4a046a=_0x65fbaa(0xbe3)+_0x1822b9+_0x65fbaa(0xa8c);studentResultArea[_0x65fbaa(0x540)](_0x65fbaa(0x414),_0x4a046a),studentResultArea[_0x65fbaa(0x2b7)]('#view-rankings-btn')?.['addEventListener']('click',handleShowStudentRankings);const _0x4e97c5=studentResultArea[_0x65fbaa(0x2b7)](_0x65fbaa(0x314));_0x4e97c5&&_0x4e97c5[_0x65fbaa(0x2d5)](_0x65fbaa(0x4d9),()=>{const _0x53f402=_0x65fbaa;studentResultArea[_0x53f402(0x1da)]['add'](_0x53f402(0x25d)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x65fbaa(0x8d1)](_0x14ca1a)[_0x65fbaa(0x2d5)](_0x65fbaa(0x4d9),()=>{const _0x582266=_0x65fbaa;_0x166409?(currentMode=_0x582266(0x53c),studentView[_0x582266(0x1da)]['add'](_0x582266(0x25d)),adminView['classList'][_0x582266(0x7ce)](_0x582266(0x25d)),showView(_0x582266(0x3b3))):(showView('student'),document[_0x582266(0x8d1)](_0x582266(0x761))['value']='');});}function displayResultsWithAnswers(_0x1a4c90,_0x105d21,_0x37a389,_0x1508b7,_0x21b2bd,_0x392b45=![]){const _0x1eaa89=_0x252b26,_0x426e67=_0x21b2bd>0x0?_0x1a4c90/_0x21b2bd*0x64:0x0,_0x181536=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x4f0fd1=currentDisplayedQuiz[_0x1eaa89(0x83b)]===!![];let _0x5f33b1='';if(_0x4f0fd1||_0x181536!==-0x1){let _0x355761=_0x4f0fd1?_0x1a4c90===_0x21b2bd:_0x1a4c90>=_0x181536;const _0xe2491d=_0x355761?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x4b4e34=_0x355761?_0x1eaa89(0x663):_0x1eaa89(0xa70);_0x5f33b1=_0x1eaa89(0x2d1)+_0xe2491d+'\x22>'+_0x4b4e34+_0x1eaa89(0xbb8);}let _0x4f0547='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x1eaa89(0x5e0)+_0x1a4c90+_0x1eaa89(0x6c0)+_0x21b2bd+_0x1eaa89(0xc17)+_0x5f33b1+_0x1eaa89(0x548)+_0x105d21+_0x1eaa89(0x258)+_0x426e67[_0x1eaa89(0x5bc)](0x0)+_0x1eaa89(0x560);currentDisplayedQuiz[_0x1eaa89(0x692)][_0x1eaa89(0x236)]((_0x2e0f07,_0xf9b2fd)=>{const _0x579378=_0x1eaa89,_0x1e8ee0=_0x1508b7[_0xf9b2fd],_0x29f8fe=_0x1e8ee0[_0x579378(0x647)],_0x2c8816=_0x1e8ee0[_0x579378(0x282)],_0x9316a6=_0x2e0f07[_0x579378(0x3ae)]||currentDisplayedQuiz[_0x579378(0x81d)];_0x4f0547+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x2c8816?_0x579378(0x5a7):_0x579378(0xb10))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0xf9b2fd+0x1)+'.\x20'+(_0x2e0f07[_0x579378(0x503)]||_0x2e0f07[_0x579378(0x15a)])+_0x579378(0xadb);switch(_0x9316a6){case _0x579378(0x711):const _0x1220ec=_0x29f8fe||_0x579378(0x21a),_0x2600d8=_0x2e0f07[_0x579378(0xb28)];_0x4f0547+=_0x579378(0x166)+(!_0x2c8816?'line-through\x20text-red-700':'')+'\x22>'+_0x1220ec+_0x579378(0xaf0);!_0x2c8816&&(_0x4f0547+=_0x579378(0x199)+_0x2600d8+_0x579378(0xbb8));break;case'short_answer':_0x4f0547+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x29f8fe||'ไม่ได้ตอบ')+'</p>',_0x4f0547+=_0x579378(0x131)+_0x2e0f07[_0x579378(0xaef)]+_0x579378(0xbb8);break;case _0x579378(0x51c):_0x4f0547+=_0x579378(0x8ff)+(_0x2e0f07[_0x579378(0x67b)]===!![]?_0x579378(0x27e):'')+'\x20'+(_0x29f8fe===_0x579378(0x7c4)&&!_0x2c8816?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x4f0547+=_0x579378(0x8ff)+(_0x2e0f07[_0x579378(0x67b)]===![]?_0x579378(0x27e):'')+'\x20'+(_0x29f8fe===_0x579378(0x555)&&!_0x2c8816?_0x579378(0x72a):'')+_0x579378(0x3ef);break;default:_0x4f0547+=_0x2e0f07['options'][_0x579378(0x625)]((_0x133ce8,_0x4c54f8)=>{const _0x1a9823=_0x579378;let _0x5d9113='',_0x170dd8='';if(_0x4c54f8===_0x2e0f07['correctAnswerIndex'])_0x5d9113='font-bold\x20text-green-700',_0x170dd8=_0x1a9823(0xbc6);else _0x4c54f8===_0x29f8fe&&(_0x5d9113=_0x1a9823(0xa81),_0x170dd8=_0x1a9823(0x8e4));return'<div\x20class=\x22'+_0x5d9113+'\x22>'+_0x170dd8+_0x133ce8+_0x1a9823(0xa8c);})[_0x579378(0x424)]('');break;}_0x4f0547+=_0x579378(0x8b7)+(_0x2e0f07[_0x579378(0xa4b)]||_0x579378(0x194))+'</div>';if(!_0x2c8816){const _0x2435ab=_0x2e0f07['stem']||_0x2e0f07['questionText'];_0x4f0547+=_0x579378(0x992)+escape(_0x2435ab)+_0x579378(0x6b4);}_0x4f0547+=_0x579378(0xa8c);}),studentResultArea[_0x1eaa89(0x8f6)]=_0x4f0547,renderEarnedBadges(_0x37a389,_0x1eaa89(0x52d)),studentResultArea[_0x1eaa89(0x1da)]['remove'](_0x1eaa89(0x25d)),studentQuizArea[_0x1eaa89(0x1da)][_0x1eaa89(0x2df)](_0x1eaa89(0x25d)),setupResultScreenBackButton({'isLooping':_0x392b45,'score':_0x1a4c90,'totalQuestions':_0x21b2bd,'showRankings':!![]});if(window[_0x1eaa89(0x3fa)])window[_0x1eaa89(0x3fa)][_0x1eaa89(0x422)]([studentResultArea]);}function displayResultsScoreOnly(_0x126105,_0x4d7910,_0x3b774f,_0x3b9b63){const _0xe10a8f=_0x252b26,_0x49d19c=_0x3b9b63>0x0?_0x126105/_0x3b9b63*0x64:0x0,_0x2ae14f=currentDisplayedQuiz[_0xe10a8f(0x716)]?.['passingScore']??-0x1,_0x20f558=currentDisplayedQuiz[_0xe10a8f(0x83b)]===!![];let _0x381dcd='';if(_0x20f558||_0x2ae14f!==-0x1){let _0x44c90a=_0x20f558?_0x126105===_0x3b9b63:_0x126105>=_0x2ae14f;const _0x3da036=_0x44c90a?_0xe10a8f(0xba3):_0xe10a8f(0x34c),_0x4ac4fd=_0x44c90a?_0xe10a8f(0x663):_0xe10a8f(0xa70);_0x381dcd=_0xe10a8f(0x2d1)+_0x3da036+'\x22>'+_0x4ac4fd+'</p>';}let _0x35c828=_0xe10a8f(0x154)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x126105+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x3b9b63+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x381dcd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x4d7910+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x49d19c[_0xe10a8f(0x5bc)](0x0)+_0xe10a8f(0x2f3);studentResultArea[_0xe10a8f(0x8f6)]=_0x35c828,renderEarnedBadges(_0x3b774f,_0xe10a8f(0x52d)),studentResultArea[_0xe10a8f(0x1da)]['remove']('hidden'),studentQuizArea[_0xe10a8f(0x1da)][_0xe10a8f(0x2df)](_0xe10a8f(0x25d)),setupResultScreenBackButton({'score':_0x126105,'totalQuestions':_0x3b9b63,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x28c6d3=_0x252b26;let _0x195351='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x28c6d3(0x888);studentResultArea[_0x28c6d3(0x8f6)]=_0x195351,studentResultArea[_0x28c6d3(0x1da)][_0x28c6d3(0x7ce)](_0x28c6d3(0x25d)),studentQuizArea['classList'][_0x28c6d3(0x2df)](_0x28c6d3(0x25d)),document[_0x28c6d3(0x8d1)](_0x28c6d3(0x68b))[_0x28c6d3(0x2d5)]('click',()=>{const _0x273ae8=_0x28c6d3;showView(_0x273ae8(0x7b8)),document[_0x273ae8(0x8d1)](_0x273ae8(0x761))[_0x273ae8(0x64c)]='';});}function renderEarnedBadges(_0x43d3e3,_0x4f026c){const _0x2b05c4=_0x252b26,_0x3f7659=document[_0x2b05c4(0x8d1)](_0x4f026c);if(!_0x3f7659||!_0x43d3e3||_0x43d3e3[_0x2b05c4(0xa38)]===0x0)return;let _0x2b47fa='';_0x43d3e3['forEach']((_0x879aa8,_0x229646)=>{const _0x317a6c=_0x2b05c4,_0x1e0a32=Object[_0x317a6c(0x591)](BADGES)[_0x317a6c(0x269)](_0x72dbf9=>_0x72dbf9['id']===_0x879aa8);_0x1e0a32&&(_0x2b47fa+=_0x317a6c(0x567)+_0x229646*0.2+'s;\x22\x20title=\x22'+_0x1e0a32[_0x317a6c(0x13c)]+_0x317a6c(0x7e4)+_0x1e0a32[_0x317a6c(0x167)]+_0x317a6c(0x403)+_0x1e0a32[_0x317a6c(0x2c6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x3f7659[_0x2b05c4(0x8f6)]=_0x2b47fa;}function startPresentation(_0x6c0ae0){const _0x438649=_0x252b26;currentQuizData=getShuffledQuiz(_0x6c0ae0),currentPresentationSlide=0x0,presentationModal[_0x438649(0x8b2)][_0x438649(0x6f6)]=_0x438649(0xbcc),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1b719b=_0x252b26;document[_0x1b719b(0x191)]&&document[_0x1b719b(0xc75)](),presentationModal[_0x1b719b(0x8b2)]['display']=_0x1b719b(0xa55);}function renderPresentationSlide(_0x514285){const _0xc58442=_0x252b26,_0xfaacd6=document['getElementById']('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0xc58442(0x692)]||!currentQuizData[_0xc58442(0x692)][_0x514285]){_0xfaacd6[_0xc58442(0x8f6)]=_0xc58442(0xbd0);return;}const _0x41e702=currentQuizData[_0xc58442(0x692)][_0x514285],_0x54fdea=_0x41e702['questionType']||currentQuizData[_0xc58442(0x81d)];_0xfaacd6[_0xc58442(0x8f6)]='';let _0x2b2f6b=_0xc58442(0x3d2)+(_0x41e702[_0xc58442(0xc33)]?_0xc58442(0x9f9)+_0x41e702[_0xc58442(0xc33)]+_0xc58442(0xa8c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x514285+0x1)+'.\x20'+(_0x41e702['stem']||_0x41e702[_0xc58442(0x15a)])+_0xc58442(0x21d);switch(_0x54fdea){case _0xc58442(0x711):_0x2b2f6b+=_0x41e702['allResponses']['map'](_0x1d58e6=>_0xc58442(0x87c)+_0x1d58e6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xc58442(0x424)]('');break;case _0xc58442(0x51c):_0x2b2f6b+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x2b2f6b+=_0xc58442(0x653);break;case _0xc58442(0x95c):case'short_answer':_0x2b2f6b+=_0xc58442(0x54e);break;case _0xc58442(0xc9a):case _0xc58442(0x27f):default:_0x2b2f6b+=_0x41e702['options'][_0xc58442(0x625)]((_0x5c51b2,_0x49991a)=>_0xc58442(0x4e7)+_0x49991a+_0xc58442(0x2d9)+_0x5c51b2+_0xc58442(0x8dc))['join']('');break;}_0x2b2f6b+=_0xc58442(0x97b)+(_0x41e702[_0xc58442(0xa4b)]||_0xc58442(0x194))+_0xc58442(0x307),_0xfaacd6['innerHTML']=_0x2b2f6b;if(window['MathJax'])window[_0xc58442(0x3fa)][_0xc58442(0x422)]([_0xfaacd6]);let _0x18de92=[];switch(_0x54fdea){case _0xc58442(0x711):_0x18de92=_0x41e702['allResponses']||[];break;case'true_false':_0x18de92=['ใช่',_0xc58442(0x14d)];break;default:_0x18de92=_0x41e702[_0xc58442(0xc69)]||[];break;}const _0x34539a=document[_0xc58442(0x8d1)]('presentation-scratchpad-btn');_0x34539a&&(_0x34539a['onclick']=()=>{openScratchpad(_0x41e702,_0x18de92);});document[_0xc58442(0xa48)]('.presentation-option')[_0xc58442(0x236)](_0x3e1551=>{const _0xdaeea3=_0xc58442;_0x3e1551[_0xdaeea3(0x2d5)](_0xdaeea3(0x4d9),_0x406ce6=>revealAnswerForPresentation(_0x514285,_0x406ce6['currentTarget']));});const _0x57e7a2=document[_0xc58442(0x8d1)]('check-presentation-answer-btn');_0x57e7a2&&_0x57e7a2[_0xc58442(0x2d5)](_0xc58442(0x4d9),()=>checkShortAnswerForPresentation(_0x514285)),document['getElementById'](_0xc58442(0xa16))[_0xc58442(0x5eb)]=_0xc58442(0x484)+(_0x514285+0x1)+'\x20/\x20'+currentQuizData[_0xc58442(0x692)][_0xc58442(0xa38)],document[_0xc58442(0x8d1)](_0xc58442(0x4c7))[_0xc58442(0x7dc)]=_0x514285===0x0,document[_0xc58442(0x8d1)](_0xc58442(0x614))[_0xc58442(0x7dc)]=_0x514285===currentQuizData['questions'][_0xc58442(0xa38)]-0x1;}async function checkShortAnswerForPresentation(_0x3fbce9){const _0x5df886=_0x252b26,_0x47a830=currentQuizData[_0x5df886(0x692)][_0x3fbce9],_0x207e63=document['getElementById'](_0x5df886(0xc63)),_0x30c51b=document['getElementById'](_0x5df886(0x2aa)),_0x11b23e=document[_0x5df886(0x8d1)]('presentation-ai-result'),_0x50a176=document['getElementById'](_0x5df886(0x36d));if(!_0x207e63||!_0x30c51b||!_0x11b23e||!_0x50a176)return;const _0x3a71ad=_0x207e63['value'][_0x5df886(0x3cf)]();if(_0x3a71ad==='')return;_0x30c51b['disabled']=!![],_0x30c51b[_0x5df886(0x8f6)]=_0x5df886(0x317),_0x207e63[_0x5df886(0x7dc)]=!![];const _0x312c69=await gradeShortAnswer(_0x3a71ad,_0x47a830);_0x312c69?_0x11b23e[_0x5df886(0x8f6)]=_0x5df886(0xb33):_0x11b23e[_0x5df886(0x8f6)]=_0x5df886(0x7bd)+_0x47a830['idealAnswer']+')',_0x11b23e['classList'][_0x5df886(0x7ce)](_0x5df886(0x25d)),_0x50a176['classList'][_0x5df886(0x7ce)](_0x5df886(0x25d)),_0x30c51b['classList'][_0x5df886(0x2df)]('hidden');}function revealAnswerForPresentation(_0x17a14b,_0x1b8660){const _0x1b15aa=_0x252b26,_0x3c1573=currentQuizData[_0x1b15aa(0x692)][_0x17a14b],_0x38cac6=_0x3c1573[_0x1b15aa(0x3ae)]||currentQuizData[_0x1b15aa(0x81d)];document['querySelectorAll'](_0x1b15aa(0x14e))[_0x1b15aa(0x236)](_0x118c82=>{const _0x34d139=_0x1b15aa;_0x118c82[_0x34d139(0x7dc)]=!![],_0x118c82[_0x34d139(0x1da)]['remove'](_0x34d139(0x56f));let _0x410135=![];if(_0x38cac6==='multiple_choice'||_0x38cac6===_0x34d139(0xc9a)){const _0x28afeb=parseInt(_0x118c82[_0x34d139(0x9e8)]['index']);_0x410135=_0x28afeb===_0x3c1573[_0x34d139(0x26e)];}else{if(_0x38cac6==='true_false'){const _0x544c52=_0x118c82['dataset'][_0x34d139(0x647)]===_0x34d139(0x7c4);_0x410135=_0x544c52===_0x3c1573[_0x34d139(0x67b)];}else _0x38cac6==='matching_item'&&(_0x410135=_0x118c82[_0x34d139(0x5eb)][_0x34d139(0x3cf)]()===_0x3c1573['correctResponse']);}_0x410135?_0x118c82[_0x34d139(0x1da)][_0x34d139(0x2df)](_0x34d139(0x566),_0x34d139(0x748),_0x34d139(0x4f5)):_0x118c82['classList'][_0x34d139(0x2df)]('opacity-50');}),_0x1b8660['classList'][_0x1b15aa(0x7ce)](_0x1b15aa(0x6c8));let _0x5a80e5=![];if(_0x38cac6===_0x1b15aa(0x27f))_0x5a80e5=parseInt(_0x1b8660['dataset'][_0x1b15aa(0xbef)])===_0x3c1573[_0x1b15aa(0x26e)];else{if(_0x38cac6===_0x1b15aa(0x51c))_0x5a80e5=_0x1b8660[_0x1b15aa(0x9e8)][_0x1b15aa(0x647)]===_0x1b15aa(0x7c4)===_0x3c1573[_0x1b15aa(0x67b)];else _0x38cac6===_0x1b15aa(0x711)&&(_0x5a80e5=_0x1b8660[_0x1b15aa(0x5eb)]['trim']()===_0x3c1573[_0x1b15aa(0xb28)]);}!_0x5a80e5&&_0x1b8660[_0x1b15aa(0x1da)]['add'](_0x1b15aa(0x2d0),'text-white',_0x1b15aa(0xc23)),document['getElementById'](_0x1b15aa(0x36d))[_0x1b15aa(0x1da)][_0x1b15aa(0x7ce)](_0x1b15aa(0x25d));}function startWholeQuizTimer(_0x28ea82){const _0x8c01ab=_0x252b26,_0x50330a=document[_0x8c01ab(0x8d1)](_0x8c01ab(0x4bd));if(!_0x50330a)return;const _0x5cdd96=Date[_0x8c01ab(0x4a0)]()+_0x28ea82*0x3c*0x3e8;_0x50330a[_0x8c01ab(0x8f6)]=_0x8c01ab(0x41a);const _0x23550f=document[_0x8c01ab(0x8d1)](_0x8c01ab(0x943));quizTimerInterval=setInterval(()=>{const _0x4a27eb=_0x8c01ab,_0x12fa23=_0x5cdd96-Date[_0x4a27eb(0x4a0)]();if(_0x12fa23<=0x0)clearInterval(quizTimerInterval),_0x23550f[_0x4a27eb(0x5eb)]='00:00',showMessage(_0x4a27eb(0x60c)),handleSubmitQuiz(null);else{const _0x3386db=Math[_0x4a27eb(0xb79)](_0x12fa23/0x3e8/0x3c%0x3c)[_0x4a27eb(0x626)]()[_0x4a27eb(0x679)](0x2,'0'),_0x8174f=Math[_0x4a27eb(0xb79)](_0x12fa23/0x3e8%0x3c)[_0x4a27eb(0x626)]()[_0x4a27eb(0x679)](0x2,'0');_0x23550f[_0x4a27eb(0x5eb)]=_0x3386db+':'+_0x8174f;}},0x3e8);}function renderPerQuestionView(){const _0x3ffed1=_0x252b26;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1b11c3=currentDisplayedQuiz[_0x3ffed1(0x692)][currentQuestionIndex],_0x156f54=_0x1b11c3[_0x3ffed1(0x3ae)]||currentDisplayedQuiz[_0x3ffed1(0x81d)],_0x33fae8=currentDisplayedQuiz['settings']?.[_0x3ffed1(0xaa8)]===!![];let _0x5847c9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x3ffed1(0x3f2)+currentDisplayedQuiz[_0x3ffed1(0x692)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x3ffed1(0x666):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x3ffed1(0x5d7)]+_0x3ffed1(0x771);studentQuizArea['innerHTML']=_0x5847c9;let _0x4b8e95=_0x1b11c3[_0x3ffed1(0x503)]||_0x1b11c3['questionText'];_0x1b11c3[_0x3ffed1(0xc33)]&&(_0x4b8e95+=_0x3ffed1(0x9f9)+_0x1b11c3['imageCode']+'</div>');let _0x50c394='';switch(_0x156f54){case _0x3ffed1(0xb86):case'fill_in_no_choices':_0x50c394=_0x3ffed1(0x968);break;case _0x3ffed1(0x51c):_0x50c394=_0x3ffed1(0x64e);break;case'matching_item':_0x50c394='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1b11c3[_0x3ffed1(0x98b)]||[])[_0x3ffed1(0x625)](_0x5c22b9=>_0x3ffed1(0x19d)+_0x5c22b9+'\x22>'+_0x5c22b9+_0x3ffed1(0x64b))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x1b11c3['options']&&(_0x50c394=_0x1b11c3['options']['map']((_0x3db93b,_0x49c8d5)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x49c8d5+_0x3ffed1(0x8bf)+_0x49c8d5+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x49c8d5+'\x22>'+_0x3db93b+_0x3ffed1(0xa86))[_0x3ffed1(0x424)](''));break;}document[_0x3ffed1(0x8d1)](_0x3ffed1(0x6c2))['innerHTML']=_0x4b8e95,document[_0x3ffed1(0x8d1)](_0x3ffed1(0x9da))[_0x3ffed1(0x8f6)]=_0x50c394;const _0x53ec85=currentDisplayedQuiz[_0x3ffed1(0x716)]?.[_0x3ffed1(0xaa8)]===!![],_0x192c5d=currentDisplayedQuiz['settings']?.[_0x3ffed1(0x550)]||_0x3ffed1(0x377);if(_0x53ec85&&_0x192c5d===_0x3ffed1(0x377)){const _0x1c9273=_0x3ffed1(0xb36);studentQuizArea[_0x3ffed1(0x2b7)](_0x3ffed1(0x80d))[_0x3ffed1(0x540)](_0x3ffed1(0x414),_0x1c9273);}studentQuizArea[_0x3ffed1(0x540)]('beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x3ffed1(0x692)]['length']-0x1?_0x3ffed1(0x9c4):_0x3ffed1(0xc1d))+_0x3ffed1(0x470));currentMode===_0x3ffed1(0xc83)&&document[_0x3ffed1(0x8d1)](_0x3ffed1(0x151))?.[_0x3ffed1(0x2d5)]('click',cancelAdminTest);document[_0x3ffed1(0x8d1)](_0x3ffed1(0x492))['addEventListener'](_0x3ffed1(0x4d9),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x3ffed1(0x3fa)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x3ffed1(0x716)]?.[_0x3ffed1(0x9a9)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x258758=_0x252b26,_0x141840=currentDisplayedQuiz[_0x258758(0x716)][_0x258758(0xbfc)],_0x3cfe25=document[_0x258758(0x8d1)]('per-question-timer-container');if(!_0x3cfe25)return;let _0x23bc6b=_0x141840;_0x3cfe25['innerHTML']=_0x258758(0x61b)+_0x23bc6b+_0x258758(0xb20);const _0x12b163=document[_0x258758(0x8d1)](_0x258758(0x290)),_0x35ace8=document[_0x258758(0x8d1)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x1f7804=_0x258758;_0x23bc6b--;const _0x55229d=_0x23bc6b/_0x141840*0x64;_0x12b163['style'][_0x1f7804(0xb2f)]=_0x55229d+'%',_0x35ace8['textContent']=_0x23bc6b,_0x23bc6b<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x1f7804(0x5c6)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4b844f=![]){const _0x343016=_0x252b26;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4b7369=null,_0x3853ec=![];if(!_0x4b844f){const _0xbef839=currentDisplayedQuiz[_0x343016(0x692)][currentQuestionIndex],_0x4760f4=_0xbef839[_0x343016(0x3ae)]||currentDisplayedQuiz['quizType'];if(_0x4760f4===_0x343016(0xb86)||_0x4760f4===_0x343016(0x95c))_0x4b7369=document[_0x343016(0x2b7)](_0x343016(0x271))?.[_0x343016(0x64c)][_0x343016(0x3cf)]()??'';else{if(_0x4760f4==='matching_item')_0x4b7369=document[_0x343016(0x2b7)](_0x343016(0x2a5))?.[_0x343016(0x64c)]??'';else{const _0x3c9266=document[_0x343016(0x2b7)](_0x343016(0xa00));_0x3c9266&&(_0x4b7369=_0x3c9266['value']);}}if(_0x4b7369===null||_0x4b7369===''){showMessage(_0x343016(0x654)),startPerQuestionTimer();return;}const _0x55c466=currentDisplayedQuiz[_0x343016(0x716)]?.[_0x343016(0xaa8)]===!![],_0x3504e4=currentDisplayedQuiz[_0x343016(0x716)]?.[_0x343016(0x550)]||_0x343016(0x377);if(_0x55c466&&_0x3504e4==='mandatory'){document['getElementById'](_0x343016(0x45f))[_0x343016(0x9e8)][_0x343016(0x24b)]=_0x343016(0x402),document[_0x343016(0x8d1)](_0x343016(0x588))[_0x343016(0x64c)]=_0x4b7369,document[_0x343016(0x8d1)]('confidence-modal')[_0x343016(0x1da)][_0x343016(0x7ce)](_0x343016(0x25d));return;}const _0x1dc849=document[_0x343016(0x8d1)](_0x343016(0xc62));_0x1dc849&&(_0x3853ec=_0x1dc849['checked']);}const _0x4168cc={'answer':_0x4b7369,'wasConfident':_0x3853ec};proceedToNextQuestion(_0x4168cc);}async function finalizePerQuestionQuiz(){const _0x4135ab=_0x252b26,_0x5e8420=currentDisplayedQuiz[_0x4135ab(0x692)]['some'](_0x550f68=>_0x550f68[_0x4135ab(0x3ae)]===_0x4135ab(0xb86));_0x5e8420?showMessage(_0x4135ab(0x372)):showMessage(_0x4135ab(0x139));const _0x13dbb8=currentQuizData['id'],_0x1ab1aa=doc(db,_0x4135ab(0x1d1)+appId+_0x4135ab(0x75d)+_0x13dbb8+_0x4135ab(0x208),currentStudentName),_0x3db873=await getDoc(_0x1ab1aa),_0xda962e=_0x3db873[_0x4135ab(0xbfd)]()?_0x3db873[_0x4135ab(0xa36)]():{},_0x36c7ad=_0xda962e[_0x4135ab(0x8ae)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x36c7ad);}function getResultsFilename(){const _0x49fb04=_0x252b26,_0x50ffb6=document['getElementById'](_0x49fb04(0x5ef))[_0x49fb04(0x5eb)][_0x49fb04(0x1fb)](/[^a-z0-9]/gi,'_')[_0x49fb04(0x478)]();return _0x49fb04(0x174)+(_0x50ffb6||_0x49fb04(0x704));}function exportResultsAsImage(){const _0xd19f4e=_0x252b26,_0x4f0b2d=document[_0xd19f4e(0x8d1)](_0xd19f4e(0x8d7));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4f0b2d)[_0xd19f4e(0x718)](_0x5dcb2b=>{const _0xbe8b0b=_0xd19f4e,_0x44b336=document[_0xbe8b0b(0x504)]('a');_0x44b336['download']=getResultsFilename()+'.png',_0x44b336['href']=_0x5dcb2b[_0xbe8b0b(0x694)](_0xbe8b0b(0x5a2)),_0x44b336[_0xbe8b0b(0x4d9)](),messageModal[_0xbe8b0b(0x1da)][_0xbe8b0b(0x2df)](_0xbe8b0b(0x25d));});}function exportResultsAsPDF(){const _0x3852a3=_0x252b26,{jsPDF:_0x471e39}=window[_0x3852a3(0x86b)],_0x12e0e5=new _0x471e39();_0x12e0e5[_0x3852a3(0x78b)](_0x3852a3(0x412),_0x3852a3(0x4b3)),_0x12e0e5[_0x3852a3(0x265)]({'html':_0x3852a3(0x387)}),_0x12e0e5[_0x3852a3(0xc60)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x53119b=_0x252b26,_0x5e5dbc=_0x53119b(0x9f3)+_0x53119b(0x497)+_0x53119b(0x4e3)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x10e5d5=_0x53119b(0x5db),_0x7e38c7=_0x5e5dbc+document[_0x53119b(0x8d1)]('results-table-container')[_0x53119b(0x8f6)]+_0x10e5d5,_0xcc9dd2=_0x53119b(0x64a)+encodeURIComponent(_0x7e38c7),_0x4fa0a9=document[_0x53119b(0x504)]('a');document[_0x53119b(0x816)][_0x53119b(0x726)](_0x4fa0a9),_0x4fa0a9[_0x53119b(0x91d)]=_0xcc9dd2,_0x4fa0a9[_0x53119b(0x2c0)]=getResultsFilename()+_0x53119b(0x637),_0x4fa0a9[_0x53119b(0x4d9)](),document['body']['removeChild'](_0x4fa0a9);}function exportResultsAsExcel(){const _0x310fcf=_0x252b26,_0x55d579=document[_0x310fcf(0x8d1)](_0x310fcf(0x274));let _0x181b74=[];for(let _0x463fef=0x0;_0x463fef<_0x55d579['rows'][_0x310fcf(0xa38)];_0x463fef++){let _0x2bb345=[],_0x627729=_0x55d579[_0x310fcf(0x159)][_0x463fef]['querySelectorAll']('td,\x20th');for(let _0x2729fa=0x0;_0x2729fa<_0x627729['length'];_0x2729fa++){_0x2bb345[_0x310fcf(0xc64)]('\x22'+_0x627729[_0x2729fa][_0x310fcf(0xa73)][_0x310fcf(0x1fb)](/"/g,'\x22\x22')+'\x22');}_0x181b74['push'](_0x2bb345[_0x310fcf(0x424)](','));}const _0x2ef92a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x181b74[_0x310fcf(0x424)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x39e274=document[_0x310fcf(0x504)]('a');_0x39e274[_0x310fcf(0x91d)]=URL[_0x310fcf(0x486)](_0x2ef92a),_0x39e274['download']=getResultsFilename()+'.csv',_0x39e274[_0x310fcf(0x4d9)]();}function exportTableAsImage(_0x7eab9,_0x4b702e){const _0x31c60c=_0x252b26,_0x26deb1=document[_0x31c60c(0x8d1)](_0x7eab9);if(!_0x26deb1){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x31c60c(0xbca)),html2canvas(_0x26deb1)[_0x31c60c(0x718)](_0x46a568=>{const _0x1b8721=_0x31c60c,_0xaa7e79=document['createElement']('a');_0xaa7e79['download']=_0x4b702e+_0x1b8721(0x29d),_0xaa7e79['href']=_0x46a568['toDataURL'](_0x1b8721(0x5a2)),_0xaa7e79[_0x1b8721(0x4d9)](),messageModal['classList']['add'](_0x1b8721(0x25d));});}function exportTableAsPDF(_0x224e41,_0x4af70){const _0xe16221=_0x252b26,{jsPDF:_0x5501d9}=window['jspdf'],_0x21e166=new _0x5501d9();_0x21e166['setFont'](_0xe16221(0x412),_0xe16221(0x4b3)),_0x21e166[_0xe16221(0x265)]({'html':'#'+_0x224e41}),_0x21e166[_0xe16221(0xc60)](_0x4af70+'.pdf');}function exportTableAsWord(_0x3a20aa,_0x76b912){const _0x259b7b=_0x252b26,_0x4bbc99=document[_0x259b7b(0x8d1)](_0x3a20aa);if(!_0x4bbc99){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x54e0f8=_0x259b7b(0x9f3)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x259b7b(0x4e3)+_0x259b7b(0x27c),_0x4fb893=_0x259b7b(0x5db),_0x193875=_0x54e0f8+_0x4bbc99[_0x259b7b(0x8f6)]+_0x4fb893,_0x5006ac=_0x259b7b(0x64a)+encodeURIComponent(_0x193875),_0x401c93=document['createElement']('a');document[_0x259b7b(0x816)][_0x259b7b(0x726)](_0x401c93),_0x401c93[_0x259b7b(0x91d)]=_0x5006ac,_0x401c93['download']=_0x76b912+'.doc',_0x401c93[_0x259b7b(0x4d9)](),document[_0x259b7b(0x816)][_0x259b7b(0x30b)](_0x401c93);}function exportTableAsExcel(_0x4bf712,_0x52dad1){const _0x86db9c=_0x252b26,_0x248526=document[_0x86db9c(0x8d1)](_0x4bf712);if(!_0x248526){showMessage(_0x86db9c(0x5f1));return;}let _0x31a6e0=[];for(let _0x31a16c=0x0;_0x31a16c<_0x248526[_0x86db9c(0x159)][_0x86db9c(0xa38)];_0x31a16c++){let _0x3a730f=[],_0x3c017a=_0x248526[_0x86db9c(0x159)][_0x31a16c][_0x86db9c(0xa48)]('td,\x20th');for(let _0x3b0882=0x0;_0x3b0882<_0x3c017a['length'];_0x3b0882++){_0x3a730f[_0x86db9c(0xc64)]('\x22'+_0x3c017a[_0x3b0882][_0x86db9c(0xa73)][_0x86db9c(0x1fb)](/"/g,'\x22\x22')+'\x22');}_0x31a6e0[_0x86db9c(0xc64)](_0x3a730f['join'](','));}const _0x5980f4=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x31a6e0[_0x86db9c(0x424)]('\x0a')],{'type':_0x86db9c(0xc12)}),_0x4e84e8=document[_0x86db9c(0x504)]('a');_0x4e84e8[_0x86db9c(0x91d)]=URL[_0x86db9c(0x486)](_0x5980f4),_0x4e84e8[_0x86db9c(0x2c0)]=_0x52dad1+'.csv',_0x4e84e8['click']();}function renderAnalytics(_0xdae714,_0x4f1c03){const _0x4105ae=_0x252b26,_0x3160b0=_0x4f1c03['filter'](_0x10244c=>_0x10244c[_0x4105ae(0xb64)]!==undefined),_0x5ea141=currentProjectData['students']['length'],_0x2db3f5=_0x3160b0['length'],_0x24cfb2=_0x5ea141-_0x2db3f5,_0x3ae823=_0x5ea141>0x0?_0x2db3f5/_0x5ea141*0x64:0x0,_0x4dfc24=_0x3160b0[_0x4105ae(0x625)](_0x445ba3=>_0x445ba3['latestScore']),_0x30b805=_0x4dfc24[_0x4105ae(0xa38)]>0x0?_0x4dfc24[_0x4105ae(0x2d2)]((_0x4a152c,_0x272f53)=>_0x4a152c+_0x272f53,0x0)/_0x4dfc24[_0x4105ae(0xa38)]:0x0,_0x1518f0=_0xdae714[_0x4105ae(0x692)][_0x4105ae(0xa38)],_0x4d49c6=_0x1518f0>0x0?_0x30b805/_0x1518f0*0x64:0x0,_0xb0c612=calculateItemAnalysis(_0xdae714,_0x3160b0),_0x433690=calculateReliabilityKR20(_0xdae714,_0x3160b0,_0xb0c612['perQuestionStats']);let _0x5a5ef2='';if(_0x433690!==null){let _0x459633='';if(_0x433690>=0.9)_0x459633=_0x4105ae(0xb31);else{if(_0x433690>=0.8)_0x459633=_0x4105ae(0x1ff);else{if(_0x433690>=0.7)_0x459633='ดี';else{if(_0x433690>=0.6)_0x459633='พอใช้';else _0x459633=_0x4105ae(0xa9d);}}}_0x5a5ef2=_0x4105ae(0xb39)+_0x433690[_0x4105ae(0x5bc)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x459633+_0x4105ae(0x646);}const _0xba80e4=document[_0x4105ae(0x8d1)]('analytics-summary-cards');_0xba80e4[_0x4105ae(0x8f6)]=_0x4105ae(0xbf1)+_0x3ae823[_0x4105ae(0x5bc)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x2db3f5+'/'+_0x5ea141+_0x4105ae(0x962)+_0x30b805[_0x4105ae(0x5bc)](0x2)+_0x4105ae(0x408)+_0x4d49c6[_0x4105ae(0x5bc)](0x0)+_0x4105ae(0xae5)+(_0x4dfc24[_0x4105ae(0xa38)]>0x0?Math[_0x4105ae(0x494)](..._0x4dfc24):_0x4105ae(0x207))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x4dfc24['length']>0x0?Math['min'](..._0x4dfc24):_0x4105ae(0x207))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a5ef2+_0x4105ae(0x350);const _0x4e3a5c=document['getElementById'](_0x4105ae(0x7d3));_0x4e3a5c&&_0x4e3a5c[_0x4105ae(0x7ce)]();const _0x2bed67=_0x4105ae(0x6b3);_0xba80e4[_0x4105ae(0x540)]('afterend',_0x2bed67);const _0x3cc825=currentProjectData[_0x4105ae(0x91a)]||[];renderSubmissionChart(_0x2db3f5,_0x24cfb2,_0x3160b0,_0x3cc825),renderScoreDistributionChart(_0x3160b0,_0x1518f0),renderQuestionAnalytics(_0xdae714,_0x3160b0,_0x3cc825),renderInterestingStats(_0xdae714,_0x3160b0);}async function handleExportLessonPDF(){const _0x4cfe24=_0x252b26,_0xbcb139=document['getElementById'](_0x4cfe24(0x6f4)),_0x25428a=document[_0x4cfe24(0x8d1)](_0x4cfe24(0x8f4))['textContent'],_0x4df722=window['open']('','_blank'),_0x540148=_0x4cfe24(0xc3a)+_0x25428a+_0x4cfe24(0x65d)+_0xbcb139[_0x4cfe24(0x8f6)]+_0x4cfe24(0x69b);_0x4df722[_0x4cfe24(0x807)][_0x4cfe24(0x6bb)](_0x540148),_0x4df722[_0x4cfe24(0x807)][_0x4cfe24(0x2c2)](),_0x4df722[_0x4cfe24(0x6a5)]=function(){setTimeout(()=>{const _0x4d9842=_0x4c50;_0x4df722[_0x4d9842(0x9be)]();},0x5dc);};}function renderInterestingStats(_0x40c321,_0x3324ad){const _0x275644=_0x252b26,_0x26dd9b=document['getElementById'](_0x275644(0x3cd));if(!_0x26dd9b)return;if(_0x3324ad[_0x275644(0xa38)]===0x0){_0x26dd9b[_0x275644(0x8f6)]=_0x275644(0x33c);return;}const _0x3edf24=_0x40c321[_0x275644(0x692)][_0x275644(0x625)]((_0x38db55,_0x3dbc0d)=>({'index':_0x3dbc0d+0x1,'text':_0x38db55[_0x275644(0x15a)]||_0x38db55['stem'],'correct':0x0}));_0x3324ad[_0x275644(0x236)](_0x469d5c=>{const _0x1eee94=_0x275644,_0xca10aa=_0x469d5c[_0x1eee94(0x8ae)][_0x469d5c[_0x1eee94(0x8ae)]['length']-0x1];_0xca10aa&&_0xca10aa[_0x1eee94(0xa3d)]&&_0xca10aa[_0x1eee94(0xa3d)][_0x1eee94(0x236)](_0x3c9a4f=>{const _0x4ffe33=_0x1eee94,_0x5705cb=_0x3edf24[_0x4ffe33(0x269)](_0x422c16=>_0x422c16['text']===_0x3c9a4f[_0x4ffe33(0x214)]);_0x3c9a4f[_0x4ffe33(0x282)]&&_0x5705cb&&_0x5705cb['correct']++;});});const _0x3150c3=_0x3324ad[_0x275644(0xa38)],_0x4e7bd4=Math[_0x275644(0x494)](..._0x3edf24[_0x275644(0x625)](_0x130b5c=>_0x130b5c[_0x275644(0xbbc)])),_0x2e5705=Math[_0x275644(0xa49)](..._0x3edf24[_0x275644(0x625)](_0x17ee1a=>_0x17ee1a[_0x275644(0xbbc)])),_0x59078b=_0x3edf24[_0x275644(0x6de)](_0x1d42bc=>_0x1d42bc[_0x275644(0xbbc)]===_0x4e7bd4)['map'](_0x2e4f42=>_0x275644(0x4f6)+_0x2e4f42['index']),_0x476792=_0x3edf24[_0x275644(0x6de)](_0x739bf=>_0x739bf[_0x275644(0xbbc)]===_0x2e5705)[_0x275644(0x625)](_0x23b2b7=>_0x275644(0x4f6)+_0x23b2b7[_0x275644(0xbef)]),_0x33623e=_0x3324ad[_0x275644(0x910)]((_0x1b5d8f,_0x5a03d0)=>_0x5a03d0[_0x275644(0xb64)]-_0x1b5d8f[_0x275644(0xb64)])[_0x275644(0x6de)]((_0xe78469,_0x4c92c5,_0x94f96)=>_0xe78469[_0x275644(0xb64)]===_0x94f96[0x0]['latestScore']),_0x4e8e37=_0x3324ad[_0x275644(0x910)]((_0x1b4854,_0x44d7cc)=>_0x1b4854[_0x275644(0xb64)]-_0x44d7cc['latestScore'])[_0x275644(0x6de)]((_0xa3c54e,_0x3949d7,_0x2b04cf)=>_0xa3c54e[_0x275644(0xb64)]===_0x2b04cf[0x0][_0x275644(0xb64)]),_0x525439=_0x275644(0x53f)+_0x59078b[_0x275644(0x424)](',\x20')+_0x275644(0x4ce)+_0x4e7bd4+_0x275644(0xc0e)+_0x3150c3+_0x275644(0x348)+_0x476792[_0x275644(0x424)](',\x20')+_0x275644(0x4ce)+(_0x3150c3-_0x2e5705)+'\x20/\x20'+_0x3150c3+_0x275644(0x172)+_0x33623e[_0x275644(0x625)](_0x2e87cd=>_0x2e87cd[_0x275644(0x688)])[_0x275644(0x424)](',\x20')+_0x275644(0x93e)+_0x33623e[0x0][_0x275644(0xb64)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x4e8e37[_0x275644(0x625)](_0x344478=>_0x344478[_0x275644(0x688)])[_0x275644(0x424)](',\x20')+_0x275644(0x93e)+_0x4e8e37[0x0][_0x275644(0xb64)]+_0x275644(0x53b);_0x26dd9b[_0x275644(0x8f6)]=_0x525439;}function renderSubmissionChart(_0x37a236,_0x566c07,_0x188e88,_0x4d331a){const _0x46468b=_0x252b26,_0x553da0=document['getElementById'](_0x46468b(0x772))[_0x46468b(0xbd3)]('2d'),_0x465f64=_0x188e88['map'](_0x925a46=>_0x925a46[_0x46468b(0x688)]),_0x58d48=_0x4d331a[_0x46468b(0x6de)](_0x509baf=>!_0x465f64[_0x46468b(0x7d5)](_0x509baf));chartInstances[_0x46468b(0x20d)]&&chartInstances[_0x46468b(0x20d)][_0x46468b(0x29f)](),chartInstances[_0x46468b(0x20d)]=new Chart(_0x553da0,{'type':_0x46468b(0xbf5),'data':{'labels':[_0x46468b(0x621),_0x46468b(0x564)],'datasets':[{'data':[_0x37a236,_0x566c07],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x46468b(0xae8),_0x46468b(0xae8)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x42b10f){let _0x46e53f=_0x42b10f['label']||'';return _0x46e53f&&(_0x46e53f+=':\x20'),_0x46e53f+=_0x42b10f['raw'],_0x46e53f;},'afterLabel':function(_0x3f8f6e){const _0x2eda64=_0x46468b;let _0x1ea364;return _0x3f8f6e[_0x2eda64(0x870)]===0x0?_0x1ea364=_0x465f64:_0x1ea364=_0x58d48,_0x1ea364[_0x2eda64(0xa38)]>0x0?_0x1ea364['join']('\x0a'):_0x2eda64(0x5f4);}}}}}});}function renderScoreDistributionChart(_0x4a33bd,_0x158151){const _0x5474e3=_0x252b26,_0x1e4143=document['getElementById'](_0x5474e3(0x757))[_0x5474e3(0xbd3)]('2d'),_0xe64819={};for(let _0x17c212=0x0;_0x17c212<=_0x158151;_0x17c212++){_0xe64819[_0x17c212]=0x0;}_0x4a33bd[_0x5474e3(0x236)](_0x4f9784=>{_0xe64819[_0x4f9784['latestScore']]!==undefined&&_0xe64819[_0x4f9784['latestScore']]++;}),chartInstances[_0x5474e3(0x3a4)]&&chartInstances[_0x5474e3(0x3a4)][_0x5474e3(0x29f)](),chartInstances[_0x5474e3(0x3a4)]=new Chart(_0x1e4143,{'type':_0x5474e3(0xaca),'data':{'labels':Object[_0x5474e3(0x529)](_0xe64819),'datasets':[{'label':_0x5474e3(0x6bd),'data':Object[_0x5474e3(0x591)](_0xe64819),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5474e3(0x446)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4a96ff){const _0x58e01b=_0x5474e3,_0x1364c3=_0x4a96ff[_0x58e01b(0xb2e)],_0x36e837=_0x4a33bd[_0x58e01b(0x6de)](_0xdb84ad=>_0xdb84ad[_0x58e01b(0xb64)]==_0x1364c3)[_0x58e01b(0x625)](_0x49ea23=>_0x49ea23['studentName']);return _0x36e837[_0x58e01b(0xa38)]>0x0?_0x36e837[_0x58e01b(0x424)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4242aa,_0x3610b7,_0x284a5a){const _0x39d74e=_0x252b26,_0x374c87=document[_0x39d74e(0x8d1)](_0x39d74e(0x122));if(_0x284a5a[_0x39d74e(0xa38)]===0x0){_0x374c87[_0x39d74e(0x8f6)]=_0x39d74e(0xa47);return;}const _0x59de1c=calculateItemAnalysis(_0x4242aa,_0x3610b7),_0x9ac67f=calculateDistractorAnalysis(_0x4242aa,_0x3610b7);let _0xcc5108='';_0x59de1c[_0x39d74e(0x26c)]&&(_0xcc5108='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x59de1c[_0x39d74e(0x26c)]['upperGroupNames'][_0x39d74e(0xa38)]+_0x39d74e(0x188)+_0x59de1c[_0x39d74e(0x26c)]['upperGroupNames'][_0x39d74e(0x625)](_0x4cff32=>_0x39d74e(0x1bd)+_0x4cff32+_0x39d74e(0x8cc))[_0x39d74e(0x424)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x59de1c[_0x39d74e(0x26c)][_0x39d74e(0x681)]['length']+_0x39d74e(0x188)+_0x59de1c[_0x39d74e(0x26c)][_0x39d74e(0x681)][_0x39d74e(0x625)](_0x57bc5e=>_0x39d74e(0x1bd)+_0x57bc5e+_0x39d74e(0x8cc))['join']('')+_0x39d74e(0x149));let _0x3feaad='';const _0x578566=_0x3610b7[_0x39d74e(0x625)](_0x5c4450=>_0x5c4450[_0x39d74e(0x688)]),_0x637f29=_0x25e8aa=>{const _0x9d9299=_0x39d74e;if(_0x25e8aa>=0.8)return _0x9d9299(0x826);if(_0x25e8aa>=0.6)return _0x9d9299(0x6f7);if(_0x25e8aa>=0.4)return _0x9d9299(0x2b4);if(_0x25e8aa>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x2fd718=_0x4bb8e1=>{const _0x25950a=_0x39d74e;if(_0x4bb8e1<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x4bb8e1>=0.4)return _0x25950a(0x3d8);if(_0x4bb8e1>=0.3)return _0x25950a(0x569);if(_0x4bb8e1>=0.2)return _0x25950a(0x8e0);return _0x25950a(0x6bc);},_0x441907=_0x4900c4=>{const _0x95e236=_0x39d74e,_0xbc33f7=_0x4900c4[_0x95e236(0x5bc)](0x0);if(parseFloat(_0xbc33f7)===0x64)return _0x95e236(0x125)+_0xbc33f7+_0x95e236(0x5c7);if(_0x4900c4>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xbc33f7+_0x95e236(0x5c7);return _0x95e236(0x496)+_0xbc33f7+_0x95e236(0x5c7);};_0x4242aa[_0x39d74e(0x692)]['forEach']((_0x5339ac,_0x246c46)=>{const _0x1561e2=_0x39d74e,_0x1dd52a=_0x59de1c[_0x1561e2(0x94b)][_0x246c46],_0x5491c9=_0x9ac67f[_0x246c46],_0x3da018=_0x5339ac['stem']||_0x5339ac[_0x1561e2(0x15a)]||_0x5339ac[_0x1561e2(0x485)];let _0x507b82=0x0;const _0x10e8cf=[],_0x3f048d=[];_0x3610b7[_0x1561e2(0x236)](_0x44039d=>{const _0x5f23a1=_0x1561e2,_0x42641d=_0x44039d[_0x5f23a1(0x8ae)][_0x44039d[_0x5f23a1(0x8ae)][_0x5f23a1(0xa38)]-0x1];if(_0x42641d&&_0x42641d[_0x5f23a1(0xa3d)]){const _0x1a7204=_0x42641d[_0x5f23a1(0xa3d)][_0x5f23a1(0x269)](_0x599405=>_0x599405[_0x5f23a1(0x214)]===_0x3da018)??_0x42641d[_0x5f23a1(0xa3d)][_0x246c46]??null;_0x1a7204&&(_0x1a7204[_0x5f23a1(0x282)]?(_0x507b82++,_0x10e8cf[_0x5f23a1(0xc64)](_0x44039d['studentName'])):_0x3f048d['push'](_0x44039d[_0x5f23a1(0x688)]));}});const _0x2c2908=_0x3610b7[_0x1561e2(0xa38)]>0x0?_0x507b82/_0x3610b7[_0x1561e2(0xa38)]*0x64:0x0,_0x1466b5=_0x284a5a[_0x1561e2(0x6de)](_0x51c221=>!_0x578566['includes'](_0x51c221)),_0x5ccc23=_0x1dd52a?_0x1561e2(0x2c8)+_0x1dd52a['p'][_0x1561e2(0x5bc)](0x2)+_0x1561e2(0x58c)+_0x637f29(_0x1dd52a['p'])+_0x1561e2(0xa7b)+_0x1dd52a['r'][_0x1561e2(0x5bc)](0x2)+_0x1561e2(0x58c)+_0x2fd718(_0x1dd52a['r'])+_0x1561e2(0x930)+_0x441907(_0x2c2908)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x46299a='';_0x5491c9&&(_0x46299a=_0x1561e2(0x8ca)+Object[_0x1561e2(0x529)](_0x5491c9)['map'](_0x379931=>{const _0x17f0c3=_0x1561e2,_0x23dcb2=_0x5491c9[_0x379931],_0x551962=parseInt(_0x379931)===_0x5339ac[_0x17f0c3(0x26e)],_0x2c5778=!_0x551962&&_0x23dcb2['lower_group_count']>_0x23dcb2[_0x17f0c3(0x8f9)];return'<tr\x20class=\x22'+(_0x551962?_0x17f0c3(0x828):'')+_0x17f0c3(0x333)+(_0x551962?'✔\x20':'')+_0x23dcb2[_0x17f0c3(0xaac)]+_0x17f0c3(0x702)+_0x23dcb2[_0x17f0c3(0x8f9)]+_0x17f0c3(0x702)+_0x23dcb2[_0x17f0c3(0x52a)]+'\x20'+(_0x2c5778?'👍':'')+_0x17f0c3(0x702)+_0x23dcb2[_0x17f0c3(0x1fd)]+_0x17f0c3(0xb90);})[_0x1561e2(0x424)]('')+_0x1561e2(0x10d));let _0x10470f='';_0x1dd52a&&_0x1dd52a[_0x1561e2(0x979)]&&(_0x10470f=_0x1561e2(0x5ab)+_0x1dd52a[_0x1561e2(0x979)][_0x1561e2(0xa38)]+_0x1561e2(0x76a)+_0x1dd52a[_0x1561e2(0x979)][_0x1561e2(0x625)](_0x26e166=>_0x1561e2(0x1bd)+(_0x26e166[_0x1561e2(0x282)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x26e166['name']+_0x1561e2(0x8cc))[_0x1561e2(0x424)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1dd52a[_0x1561e2(0x6bf)][_0x1561e2(0xa38)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x1dd52a[_0x1561e2(0x6bf)][_0x1561e2(0x625)](_0x3df235=>_0x1561e2(0x1bd)+(_0x3df235['isCorrect']?_0x1561e2(0x82a):_0x1561e2(0x730))+'\x20'+_0x3df235[_0x1561e2(0x2c6)]+_0x1561e2(0x8cc))[_0x1561e2(0x424)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x3feaad+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x246c46+0x1)+':\x20'+_0x3da018+_0x1561e2(0xaae)+_0x5ccc23+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x3da018+_0x1561e2(0x521)+_0x507b82+_0x1561e2(0x3f2)+_0x3610b7[_0x1561e2(0xa38)]+_0x1561e2(0x91f)+_0x2c2908[_0x1561e2(0x5bc)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x10e8cf[_0x1561e2(0xa38)]+_0x1561e2(0xb4a)+(_0x10e8cf[_0x1561e2(0xa38)]>0x0?_0x10e8cf[_0x1561e2(0x424)](',\x20'):_0x1561e2(0x5f4))+_0x1561e2(0x9db)+_0x3f048d[_0x1561e2(0xa38)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3f048d['length']>0x0?_0x3f048d[_0x1561e2(0x424)](',\x20'):_0x1561e2(0x5f4))+_0x1561e2(0x8c9)+_0x1466b5[_0x1561e2(0xa38)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x1466b5['length']>0x0?_0x1466b5[_0x1561e2(0x424)](',\x20'):_0x1561e2(0x5f4))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46299a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10470f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x374c87[_0x39d74e(0x8f6)]=_0xcc5108+_0x3feaad;try{window['MathJax']&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x374c87]);}catch(_0x2009e7){console[_0x39d74e(0x62f)]('MathJax\x20typeset\x20error\x20(analytics):',_0x2009e7);}}function calculateDistractorAnalysis(_0x1c126a,_0x5ba72f){const _0x1de5bc=_0x252b26,_0x3ed1e8={};if(_0x5ba72f[_0x1de5bc(0xa38)]<0x2)return _0x3ed1e8;const _0x221a59=[..._0x5ba72f][_0x1de5bc(0x910)]((_0x59beb8,_0x318617)=>{const _0x27759b=_0x1de5bc,_0x2d75c3=_0x318617[_0x27759b(0xb64)]-_0x59beb8[_0x27759b(0xb64)];if(_0x2d75c3!==0x0)return _0x2d75c3;const _0x85b520=_0x59beb8[_0x27759b(0x8ae)]?.[_0x27759b(0xa38)]||0x1,_0x4a6b06=_0x318617[_0x27759b(0x8ae)]?.['length']||0x1,_0x25904d=_0x85b520-_0x4a6b06;if(_0x25904d!==0x0)return _0x25904d;const _0x30fa36=new Date(_0x59beb8[_0x27759b(0x759)]),_0x26b13f=new Date(_0x318617[_0x27759b(0x759)]),_0x4a46c7=_0x30fa36-_0x26b13f;if(_0x4a46c7!==0x0)return _0x4a46c7;return _0x59beb8[_0x27759b(0x688)][_0x27759b(0xb7a)](_0x318617[_0x27759b(0x688)],'th');}),_0x5b6f1e=_0x221a59[_0x1de5bc(0xa38)],_0x8e5887=Math[_0x1de5bc(0x494)](0x1,Math['floor'](_0x5b6f1e*0.33)),_0x24740d=_0x221a59[_0x1de5bc(0xa66)](0x0,_0x8e5887),_0x47be23=_0x221a59[_0x1de5bc(0xa66)](-_0x8e5887);return _0x1c126a[_0x1de5bc(0x692)][_0x1de5bc(0x236)]((_0xdd2d9e,_0x58f45a)=>{const _0x274ecf=_0x1de5bc;if(_0xdd2d9e[_0x274ecf(0x3ae)]!==_0x274ecf(0x27f)||!_0xdd2d9e['options'])return;const _0x5380e5=_0xdd2d9e['questionText'],_0x2dd4cb={};_0xdd2d9e['options'][_0x274ecf(0x236)]((_0x320c73,_0x1cc1f7)=>{_0x2dd4cb[_0x1cc1f7]={'text':_0x320c73,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x221a59['forEach'](_0x3308e4=>{const _0x58075f=_0x274ecf,_0x272568=_0x3308e4['attempts'][_0x3308e4[_0x58075f(0x8ae)][_0x58075f(0xa38)]-0x1],_0x3f4bb1=_0x272568[_0x58075f(0xa3d)]['find'](_0x3ac9b6=>_0x3ac9b6[_0x58075f(0x214)]===_0x5380e5);if(_0x3f4bb1&&_0x3f4bb1[_0x58075f(0x647)]!==null){const _0xea1dd6=_0xdd2d9e[_0x58075f(0xc69)][_0x58075f(0x779)](_0x1bcedc=>_0x1bcedc===_0x3f4bb1[_0x58075f(0x937)]);_0xea1dd6!==-0x1&&_0x2dd4cb[_0xea1dd6]&&(_0x2dd4cb[_0xea1dd6][_0x58075f(0x1fd)]++,_0x24740d[_0x58075f(0x7d5)](_0x3308e4)&&_0x2dd4cb[_0xea1dd6][_0x58075f(0x8f9)]++,_0x47be23['includes'](_0x3308e4)&&_0x2dd4cb[_0xea1dd6][_0x58075f(0x52a)]++);}}),_0x3ed1e8[_0x58f45a]=_0x2dd4cb;}),_0x3ed1e8;}function calculateReliabilityKR20(_0x12d3fa,_0x3587ac,_0x1e15a7){const _0x2bcf0e=_0x252b26,_0x3cbebc=_0x12d3fa[_0x2bcf0e(0x692)][_0x2bcf0e(0xa38)];if(_0x3cbebc<0x2||_0x3587ac['length']<0x2)return null;const _0xf94e0f=_0x3587ac[_0x2bcf0e(0x625)](_0x12d579=>_0x12d579[_0x2bcf0e(0xb64)]),_0x4825d6=_0xf94e0f[_0x2bcf0e(0x2d2)]((_0x1eba50,_0x5ed34f)=>_0x1eba50+_0x5ed34f,0x0)/_0xf94e0f[_0x2bcf0e(0xa38)],_0x13a17d=_0xf94e0f[_0x2bcf0e(0x625)](_0x12c562=>Math[_0x2bcf0e(0x611)](_0x12c562-_0x4825d6,0x2))[_0x2bcf0e(0x2d2)]((_0x3986df,_0x3a14ab)=>_0x3986df+_0x3a14ab,0x0)/_0xf94e0f[_0x2bcf0e(0xa38)];if(_0x13a17d===0x0)return null;let _0x370cfc=0x0;for(let _0x11d498=0x0;_0x11d498<_0x3cbebc;_0x11d498++){const _0x234977=_0x1e15a7[_0x11d498]?.['p'];if(_0x234977===undefined)continue;const _0x4f52b8=0x1-_0x234977;_0x370cfc+=_0x234977*_0x4f52b8;}if(_0x370cfc===0x0)return null;const _0x311dd1=_0x3cbebc/(_0x3cbebc-0x1)*(0x1-_0x370cfc/_0x13a17d);if(_0x311dd1>0x1)return null;return _0x311dd1;}async function handleAnalyzeClass(){const _0x57bb76=_0x252b26;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x53ed87=collection(db,_0x57bb76(0x1d1)+appId+_0x57bb76(0x75d)+currentQuizData['id']+'/submissions'),_0x2672a0=await getDocs(_0x53ed87),_0x3e2cac=_0x2672a0[_0x57bb76(0x72c)][_0x57bb76(0x625)](_0x3c2ee1=>_0x3c2ee1[_0x57bb76(0xa36)]());if(_0x3e2cac[_0x57bb76(0xa38)]<0x2){showMessage(_0x57bb76(0x5ed));return;}const _0x4089a3=document[_0x57bb76(0x8d1)](_0x57bb76(0xa83));_0x4089a3['innerHTML']=_0x57bb76(0xb6b),document[_0x57bb76(0x8d1)](_0x57bb76(0x819))[_0x57bb76(0x7dc)]=!![];const _0x2fc731=_0x3e2cac[_0x57bb76(0x625)]((_0x806c16,_0x5f2841)=>{const _0x485076=_0x57bb76,_0xe4e706=_0x806c16[_0x485076(0x8ae)][_0x806c16[_0x485076(0x8ae)][_0x485076(0xa38)]-0x1];if(!_0xe4e706)return'';return _0x485076(0x9c8)+(_0x5f2841+0x1)+'\x20('+_0x806c16[_0x485076(0x688)]+_0x485076(0x8a7)+_0xe4e706[_0x485076(0x3a4)]+'/'+_0x806c16['totalQuestions']+_0x485076(0x801)+JSON[_0x485076(0x34d)](_0xe4e706['answers'])+_0x485076(0xbcf);})[_0x57bb76(0x424)](_0x57bb76(0x61e)),_0x21a42e=_0x57bb76(0x508)+currentQuizData[_0x57bb76(0x5d7)]+_0x57bb76(0xc1f)+JSON[_0x57bb76(0x34d)](currentQuizData[_0x57bb76(0x692)])+_0x57bb76(0x963)+_0x2fc731+_0x57bb76(0x850),_0x475b4a={'type':_0x57bb76(0x129),'properties':{'classStrengths':{'type':_0x57bb76(0x99c),'items':{'type':_0x57bb76(0xc74)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x57bb76(0xc74)}},'teacherSuggestions':{'type':_0x57bb76(0x99c),'items':{'type':_0x57bb76(0xc74)}}},'required':[_0x57bb76(0x6a6),_0x57bb76(0x187),'teacherSuggestions']};try{const _0x522f2e=await callAnalysisApi(_0x21a42e,_0x475b4a);displayClassAnalysis(_0x522f2e);}catch(_0x35fdd1){console[_0x57bb76(0x62f)](_0x57bb76(0xc15),_0x35fdd1),_0x4089a3[_0x57bb76(0x8f6)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x35fdd1[_0x57bb76(0xa56)]+_0x57bb76(0xba0);}finally{document['getElementById'](_0x57bb76(0x819))[_0x57bb76(0x7dc)]=![];}}function displayClassAnalysis(_0x4fe9d8){const _0x3bb258=_0x252b26,_0x19ac41=document['getElementById']('strength-weakness-analysis-container');if(!_0x4fe9d8){_0x19ac41[_0x3bb258(0x8f6)]=_0x3bb258(0x978);return;}_0x19ac41[_0x3bb258(0x8f6)]=_0x3bb258(0xc22)+_0x4fe9d8[_0x3bb258(0x6a6)][_0x3bb258(0x625)](_0xd727e4=>_0x3bb258(0x1bd)+_0xd727e4+_0x3bb258(0x8cc))[_0x3bb258(0x424)]('')+_0x3bb258(0x2e6)+_0x4fe9d8['classWeaknesses'][_0x3bb258(0x625)](_0x2d7cb8=>_0x3bb258(0x1bd)+_0x2d7cb8+'</li>')[_0x3bb258(0x424)]('')+_0x3bb258(0x5f2)+_0x4fe9d8[_0x3bb258(0x86e)][_0x3bb258(0x625)](_0x483ee6=>'<li>'+_0x483ee6+_0x3bb258(0x8cc))[_0x3bb258(0x424)]('')+_0x3bb258(0x5f8);}function formatAndPrintWorksheet(_0x344cfa,_0x9b62b5){const _0x30bf88=_0x252b26,_0x1b27e3=_0x30bf88(0x417)+_0x344cfa[_0x30bf88(0x5d7)]+_0x30bf88(0xae9)+_0x344cfa['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x344cfa[_0x30bf88(0x692)]['map']((_0x2b4019,_0x34d333)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x34d333+0x1)+'.\x20'+_0x2b4019[_0x30bf88(0x15a)]+_0x30bf88(0xb70)+(_0x2b4019['imageCode']?_0x30bf88(0x9a5)+_0x2b4019['imageCode']+_0x30bf88(0xa8c):'')+_0x30bf88(0x4b1))[_0x30bf88(0x424)]('')+_0x30bf88(0x31d);_0x9b62b5[_0x30bf88(0x807)][_0x30bf88(0x6bb)](_0x1b27e3),_0x9b62b5[_0x30bf88(0x807)][_0x30bf88(0x2c2)](),_0x9b62b5[_0x30bf88(0x6a5)]=function(){setTimeout(()=>{const _0x3e15ba=_0x4c50;_0x9b62b5[_0x3e15ba(0x9be)]();},0x3e8);};}async function generateWorksheet(){const _0x5c189c=_0x252b26,_0x47be21=document['getElementById'](_0x5c189c(0x9a8))[_0x5c189c(0x64c)][_0x5c189c(0x3cf)]();if(!_0x47be21){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x263135=document[_0x5c189c(0x8d1)](_0x5c189c(0x996))[_0x5c189c(0x22d)],_0x4c473e=_0x263135?'':_0x5c189c(0xa11),_0x112a0f=window['open']('',_0x5c189c(0x5b7));_0x112a0f[_0x5c189c(0x807)][_0x5c189c(0x6bb)](_0x5c189c(0xc84));const _0x146e30=parseInt(document[_0x5c189c(0x8d1)](_0x5c189c(0x433))[_0x5c189c(0x64c)]),_0x40f756=document['getElementById'](_0x5c189c(0x228))[_0x5c189c(0x22d)],_0x3c19c5=_0x40f756?_0x5c189c(0x18a):'',_0x4cc2ce=_0x5c189c(0xb6e)+_0x4c473e+_0x5c189c(0x18f)+_0x146e30+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x47be21+_0x5c189c(0x1a4)+_0x3c19c5+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0xb5e9b9={'type':_0x5c189c(0x129),'properties':{'topic':{'type':_0x5c189c(0xc74)},'questions':{'type':_0x5c189c(0x99c),'items':{'type':_0x5c189c(0x129),'properties':{'questionText':{'type':_0x5c189c(0xc74)},'imageCode':{'type':_0x5c189c(0xc74)}},'required':[_0x5c189c(0x15a)]}}},'required':['topic',_0x5c189c(0x692)]};document[_0x5c189c(0x8d1)](_0x5c189c(0x773))[_0x5c189c(0x5eb)]='',document[_0x5c189c(0x8d1)](_0x5c189c(0x67c))[_0x5c189c(0x1da)][_0x5c189c(0x7ce)]('hidden'),document['getElementById'](_0x5c189c(0x3a3))[_0x5c189c(0x1da)]['remove']('hidden'),generateWorksheetBtn[_0x5c189c(0x7dc)]=!![];try{const _0x474f7b=await callAnalysisApi(_0x4cc2ce,_0xb5e9b9);formatAndPrintWorksheet(_0x474f7b,_0x112a0f);}catch(_0x3e483d){console[_0x5c189c(0x62f)](_0x5c189c(0xb42),_0x3e483d);if(_0x112a0f)_0x112a0f['close']();showMessage(_0x5c189c(0xc28));}finally{document[_0x5c189c(0x8d1)]('loader')[_0x5c189c(0x1da)]['add'](_0x5c189c(0x25d)),document[_0x5c189c(0x8d1)](_0x5c189c(0x3a3))[_0x5c189c(0x1da)][_0x5c189c(0x2df)](_0x5c189c(0x25d)),generateWorksheetBtn[_0x5c189c(0x7dc)]=![];}}async function callAnalysisApi(_0x550368,_0x48392a){const _0x3e27c0=_0x252b26,_0x40ab61={'contents':[{'role':_0x3e27c0(0xabc),'parts':[{'text':_0x550368}]}],'generationConfig':{'responseMimeType':_0x3e27c0(0xb94),'responseSchema':_0x48392a}},_0x33560c=_0x3e27c0(0x689),_0x3fe08f=_0x3e27c0(0x7f7)+_0x33560c,_0x1f9e0b=await fetch(_0x3fe08f,{'method':_0x3e27c0(0x286),'headers':{'Content-Type':_0x3e27c0(0xb94)},'body':JSON[_0x3e27c0(0x34d)](_0x40ab61)});if(!_0x1f9e0b['ok'])throw new Error(_0x3e27c0(0x556)+_0x1f9e0b[_0x3e27c0(0x6c1)]);const _0x156f4c=await _0x1f9e0b[_0x3e27c0(0x3bc)]();if(_0x156f4c['candidates']?.[0x0]?.['content']?.[_0x3e27c0(0x373)]?.[0x0])return JSON[_0x3e27c0(0x577)](_0x156f4c[_0x3e27c0(0xa3f)][0x0][_0x3e27c0(0x5c8)]['parts'][0x0]['text']);else{let _0x342f31='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x156f4c[_0x3e27c0(0xc98)]?.['blockReason'])_0x342f31=_0x3e27c0(0x9eb)+_0x156f4c[_0x3e27c0(0xc98)][_0x3e27c0(0x864)]+'.';else _0x156f4c[_0x3e27c0(0xa3f)]?.[0x0]?.[_0x3e27c0(0x73e)]&&_0x156f4c[_0x3e27c0(0xa3f)][0x0]['finishReason']!==_0x3e27c0(0x95b)&&(_0x342f31='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x156f4c[_0x3e27c0(0xa3f)][0x0][_0x3e27c0(0x73e)]+'.');console['error'](_0x342f31,JSON['stringify'](_0x156f4c));throw new Error(_0x342f31);}}async function handleStartSyncMode(_0x5a55ee,_0x191dfa=![]){const _0x128a78=_0x252b26,_0x106812=allQuizzes[_0x128a78(0x269)](_0x4f44e6=>_0x4f44e6['id']===_0x5a55ee)||allQuizzesGlobal['find'](_0x5be1a7=>_0x5be1a7['id']===_0x5a55ee);if(!_0x106812){showMessage(_0x128a78(0x9ab));return;}currentQuizData=getShuffledQuiz(_0x106812);const _0x3eb3b0=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x128a78(0x626)]();try{const _0x9840dd=await addDoc(collection(db,_0x128a78(0x1d1)+appId+_0x128a78(0xad4)),{'quizId':_0x106812['id'],'pin':_0x3eb3b0,'status':_0x128a78(0x80e),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x191dfa,'players':{}});currentLiveGameId=_0x9840dd['id'],showView(_0x128a78(0x443)),renderSyncLobbyView(_0x3eb3b0,_0x106812[_0x128a78(0x5d7)]),listenForSyncGameUpdates();}catch(_0x3499af){console['error']('Error\x20starting\x20sync\x20game:',_0x3499af),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x16fbbf){const _0x1bcbd8=_0x252b26;if(!_0x16fbbf||!_0x16fbbf[_0x1bcbd8(0x90c)]||!_0x16fbbf[_0x1bcbd8(0x713)])return _0x16fbbf[_0x1bcbd8(0x713)]||{};const _0x6c5a29=_0x16fbbf[_0x1bcbd8(0x90c)][_0x1bcbd8(0x692)][_0x1bcbd8(0xa38)],_0x1722b9=JSON['parse'](JSON['stringify'](_0x16fbbf['players']));return Object['values'](_0x1722b9)['forEach'](_0x44bf7b=>{const _0x3c564b=_0x1bcbd8,_0x26b3af=_0x44bf7b[_0x3c564b(0x3a4)];let _0x2667cc=_0x26b3af,_0x58cd22=0x0;_0x16fbbf[_0x3c564b(0xaa8)]&&_0x44bf7b['answers']&&_0x44bf7b[_0x3c564b(0xa3d)][_0x3c564b(0x236)](_0xfc54e8=>{const _0x440613=_0x3c564b;if(_0xfc54e8[_0x440613(0x282)]&&(_0xfc54e8['wasConfident']===!![]||_0xfc54e8[_0x440613(0x84a)]==='confident'))_0x58cd22+=0x1;else!_0xfc54e8[_0x440613(0x282)]&&(_0xfc54e8[_0x440613(0x84a)]===!![]||_0xfc54e8['wasConfident']==='confident')&&(_0x58cd22-=0x1);}),_0x2667cc+=_0x58cd22,_0x6c5a29>0x0&&_0x26b3af===_0x6c5a29&&(_0x2667cc+=0x1,_0x44bf7b[_0x3c564b(0x36b)]=!![]),_0x44bf7b[_0x3c564b(0x3a4)]=_0x2667cc;}),_0x1722b9;}function listenForSyncGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x151311=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x151311,_0x3deb82=>{const _0x49a69c=_0x4c50;if(!_0x3deb82['exists']()){sessionStorage[_0x49a69c(0xbf0)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x49a69c(0x5a1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x49a69c(0x53c)?showView(_0x49a69c(0x3b3)):showView(_0x49a69c(0x7b8));return;}const _0x6a1f7b=_0x3deb82[_0x49a69c(0xa36)]();currentMode==='admin'?updateAdminSyncView(_0x6a1f7b):updateStudentSyncView(_0x6a1f7b);});}function renderSyncLobbyView(_0x399a48,_0x3a23ef){const _0x3bef9c=_0x252b26;liveGameView[_0x3bef9c(0x8f6)]=_0x3bef9c(0x13b)+_0x3a23ef+_0x3bef9c(0x2ba)+_0x399a48+_0x3bef9c(0x3e3);const _0x4829f9=document[_0x3bef9c(0x8d1)](_0x3bef9c(0x579)),_0x16ccad=document[_0x3bef9c(0x8d1)](_0x3bef9c(0x291));_0x4829f9['addEventListener'](_0x3bef9c(0x596),()=>{const _0x44135b=_0x3bef9c;_0x16ccad[_0x44135b(0x8b2)][_0x44135b(0x6f6)]=_0x4829f9['checked']?_0x44135b(0x2f5):_0x44135b(0xa55);}),document[_0x3bef9c(0x8d1)](_0x3bef9c(0x631))[_0x3bef9c(0x2d5)](_0x3bef9c(0x4d9),async()=>{const _0x27f449=_0x3bef9c,_0x5147cd=doc(db,'artifacts/'+appId+_0x27f449(0xad4),currentLiveGameId),_0x36b2c2=document[_0x27f449(0x8d1)]('confidence-scoring-toggle')[_0x27f449(0x22d)];await updateDoc(_0x5147cd,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x36b2c2});});}function updateAdminSyncView(_0x2ba86e){const _0x1d86de=_0x252b26;switch(_0x2ba86e[_0x1d86de(0x6c1)]){case _0x1d86de(0x80e):renderSyncLobbyView(_0x2ba86e[_0x1d86de(0x797)],_0x2ba86e[_0x1d86de(0x90c)][_0x1d86de(0x5d7)]);const _0x11e1bf=Object[_0x1d86de(0x4e5)](_0x2ba86e[_0x1d86de(0x713)]||{})[_0x1d86de(0x6de)](([_0x111ec7,_0x30ea6b])=>_0x30ea6b[_0x1d86de(0x6c1)]!==_0x1d86de(0xc72));document['getElementById']('player-count')[_0x1d86de(0x5eb)]=_0x11e1bf[_0x1d86de(0xa38)],document[_0x1d86de(0x8d1)](_0x1d86de(0x92d))[_0x1d86de(0x8f6)]=_0x11e1bf[_0x1d86de(0x625)](([_0xb9826b,_0x246a9f])=>_0x1d86de(0x54d)+_0xb9826b+_0x1d86de(0xc0a)+_0xb9826b+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1d86de(0x424)]('')||_0x1d86de(0x6fb),document[_0x1d86de(0x8d1)](_0x1d86de(0x631))[_0x1d86de(0x7dc)]=_0x11e1bf['length']===0x0;break;case _0x1d86de(0x638):const _0x3235b2=Object[_0x1d86de(0x591)](_0x2ba86e[_0x1d86de(0x713)]||{})[_0x1d86de(0x6de)](_0x169d4d=>_0x169d4d[_0x1d86de(0x6c1)]!==_0x1d86de(0xc72)),_0x3c3c0d=_0x3235b2[_0x1d86de(0x6de)](_0xd4166d=>_0xd4166d[_0x1d86de(0xc8b)])[_0x1d86de(0xa38)],_0x101e57=_0x3c3c0d===_0x3235b2[_0x1d86de(0xa38)]&&_0x3235b2[_0x1d86de(0xa38)]>0x0;if(_0x101e57&&_0x2ba86e['status']==='question'){const _0x52b8d0=doc(db,_0x1d86de(0x1d1)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x52b8d0,{'status':_0x1d86de(0xa59)});}else{if(document['getElementById'](_0x1d86de(0x705))===null)renderAdminSyncQuestionView(_0x2ba86e);else{const _0x42b974=document[_0x1d86de(0x8d1)](_0x1d86de(0x44a));_0x42b974&&(_0x42b974[_0x1d86de(0x5eb)]=_0x3c3c0d+'/'+_0x3235b2[_0x1d86de(0xa38)]);const _0x38297a=document[_0x1d86de(0x8d1)](_0x1d86de(0xabf));_0x38297a&&(_0x38297a[_0x1d86de(0x8f6)]=_0x3235b2[_0x1d86de(0x625)](_0x33ab47=>{const _0x5ac847=_0x1d86de,_0x59d940=_0x33ab47['answered']?_0x5ac847(0x566):_0x5ac847(0x651),_0x3685bd=_0x33ab47[_0x5ac847(0xc8b)]?_0x5ac847(0xbd7):_0x5ac847(0x30e);return _0x5ac847(0x148)+_0x59d940+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3685bd+_0x5ac847(0x202)+_0x33ab47['name']+_0x5ac847(0x5d9)+_0x33ab47[_0x5ac847(0x2c6)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''));}}break;case _0x1d86de(0xa59):const _0x5177cf=_0x2ba86e[_0x1d86de(0x41d)],_0x4fba0d=_0x2ba86e[_0x1d86de(0x90c)][_0x1d86de(0x692)][_0x5177cf];renderSyncSummaryView(_0x2ba86e,_0x4fba0d,!![]);break;case'results':renderAdminSyncDashboard(_0x2ba86e,!![]);break;case'podium':_0x2ba86e['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x2ba86e);sessionStorage[_0x1d86de(0xbf0)](_0x1d86de(0x110));const _0x5b29e0=calculateFinalPodiumScores(_0x2ba86e);showPodiumView(_0x5b29e0,_0x1d86de(0x426));break;}}function renderAdminSyncQuestionView(_0x138d82){const _0x16ccda=_0x252b26,_0x3f90ce=_0x138d82['currentQuestionIndex'],_0x3d749b=_0x138d82['shuffledQuiz'][_0x16ccda(0x692)][_0x3f90ce],_0x237e75=_0x138d82[_0x16ccda(0x90c)][_0x16ccda(0x692)]['length'],_0x195608=Object['values'](_0x138d82[_0x16ccda(0x713)]||{})[_0x16ccda(0x6de)](_0x271c36=>_0x271c36[_0x16ccda(0x6c1)]!==_0x16ccda(0xc72)),_0x340549=_0x195608[_0x16ccda(0x6de)](_0x3922d4=>_0x3922d4[_0x16ccda(0xc8b)])['length'],_0x665cd8=_0x340549===_0x195608[_0x16ccda(0xa38)]&&_0x195608[_0x16ccda(0xa38)]>0x0,_0x4ec0a4=(_0x3d749b[_0x16ccda(0xc69)]||[])['map'](_0x1e804d=>_0x16ccda(0x365)+_0x1e804d+_0x16ccda(0xa8c))[_0x16ccda(0x424)]('');liveGameView[_0x16ccda(0x8f6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x3f90ce+0x1)+'\x20/\x20'+_0x237e75+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x340549+'/'+_0x195608[_0x16ccda(0xa38)]+_0x16ccda(0x8af)+_0x3d749b[_0x16ccda(0x15a)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x4ec0a4+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x665cd8?_0x16ccda(0x7dc):'')+_0x16ccda(0xaf6);if(window[_0x16ccda(0x3fa)])MathJax[_0x16ccda(0x422)]();document[_0x16ccda(0x8d1)](_0x16ccda(0x2b2))['addEventListener']('click',async()=>{const _0x6fd9e0=_0x16ccda,_0x18f055=doc(db,_0x6fd9e0(0x1d1)+appId+_0x6fd9e0(0xad4),currentLiveGameId);await updateDoc(_0x18f055,{'status':_0x6fd9e0(0x98c)});}),document[_0x16ccda(0x8d1)](_0x16ccda(0x9df))[_0x16ccda(0xa67)]=()=>{const _0x244d85=_0x16ccda;openScratchpad(_0x3d749b,_0x3d749b[_0x244d85(0xc69)]||[]);},document[_0x16ccda(0x8d1)](_0x16ccda(0x6d1))[_0x16ccda(0x2d5)](_0x16ccda(0x4d9),()=>{const _0x6855ef=_0x16ccda;document[_0x6855ef(0x8d1)]('sync-player-management')[_0x6855ef(0x1da)]['toggle'](_0x6855ef(0x25d));});}function renderSyncLeaderboardView(_0x224b6d,_0x328b87){const _0x418e15=_0x252b26,_0x20c24b=Object[_0x418e15(0x591)](_0x224b6d[_0x418e15(0x713)]||{});_0x20c24b['sort']((_0x4f1e1d,_0xc40a51)=>_0xc40a51[_0x418e15(0x3a4)]-_0x4f1e1d['score']);const _0x483554=_0x20c24b[_0x418e15(0xa66)](0x0,0x5);let _0x4f3b9c='';if(_0x328b87){const _0x2a2415=_0x224b6d['currentQuestionIndex']>=_0x224b6d[_0x418e15(0x90c)][_0x418e15(0x692)][_0x418e15(0xa38)]-0x1;_0x4f3b9c='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x2a2415?_0x418e15(0x846):_0x418e15(0x38f))+_0x418e15(0x8b5);}else _0x4f3b9c=_0x418e15(0xa27);liveGameView[_0x418e15(0x8f6)]=_0x418e15(0xa23)+_0x483554[_0x418e15(0x625)]((_0x527d39,_0x138514)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x138514+0x1)+'.\x20'+_0x527d39[_0x418e15(0x2c6)]+_0x418e15(0x6cc)+_0x527d39['score']+_0x418e15(0x176))[_0x418e15(0x424)]('')+_0x418e15(0x85d)+_0x4f3b9c+_0x418e15(0x27a),_0x328b87&&document[_0x418e15(0x8d1)]('next-sync-question-btn')['addEventListener'](_0x418e15(0x4d9),async()=>{const _0x471895=_0x418e15,_0x181af8=doc(db,_0x471895(0x1d1)+appId+_0x471895(0xad4),currentLiveGameId),_0x319f93=_0x224b6d[_0x471895(0x41d)]+0x1;if(_0x319f93<_0x224b6d[_0x471895(0x90c)]['questions'][_0x471895(0xa38)]){const _0x342bfa={};Object[_0x471895(0x529)](_0x224b6d['players'])[_0x471895(0x236)](_0x2c9899=>{const _0x4589e5=_0x471895;_0x342bfa[_0x4589e5(0xac9)+_0x2c9899+'.answered']=![];}),await updateDoc(_0x181af8,{..._0x342bfa,'status':_0x471895(0x638),'currentQuestionIndex':_0x319f93,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x181af8,{'status':_0x471895(0xc73)});});}async function handleJoinSyncGame(){const _0x218b11=_0x252b26,_0x332ccf=prompt(_0x218b11(0xbed));if(!_0x332ccf||_0x332ccf[_0x218b11(0x3cf)]()[_0x218b11(0xa38)]!==0x2){showMessage(_0x218b11(0xbe2));return;}try{const _0x1ecea2=collection(db,'artifacts/'+appId+_0x218b11(0xad4)),_0x325285=query(_0x1ecea2,where(_0x218b11(0x797),'==',_0x332ccf['trim']()),where(_0x218b11(0x6c1),'==',_0x218b11(0x80e))),_0x532281=await getDocs(_0x325285);if(_0x532281['empty']){showMessage(_0x218b11(0x1d4));return;}const _0x3e911e=_0x532281['docs'][0x0];currentLiveGameId=_0x3e911e['id'];const _0x524c13=_0x3e911e[_0x218b11(0xa36)](),_0x49987e=doc(db,'artifacts/'+appId+_0x218b11(0x1a5),_0x524c13['quizId']),_0x9a4b7f=await getDoc(_0x49987e);if(!_0x9a4b7f[_0x218b11(0xbfd)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x248935=_0x9a4b7f[_0x218b11(0xa36)](),_0x55a973=doc(db,_0x218b11(0x1d1)+appId+_0x218b11(0x301),_0x248935[_0x218b11(0x86f)]),_0x5dc2a3=await getDoc(_0x55a973);if(!_0x5dc2a3[_0x218b11(0xbfd)]())throw new Error(_0x218b11(0x495));currentQuizData=_0x524c13[_0x218b11(0x90c)];const _0x5bd72c=_0x5dc2a3[_0x218b11(0xa36)]();showView(_0x218b11(0xaaa)),showTeamPlayerSelection(_0x5bd72c[_0x218b11(0x91a)],_0x248935['topic']);const _0xdd4389=document[_0x218b11(0x8d1)](_0x218b11(0x4e9));_0xdd4389['onclick']=confirmAndJoinSyncGame;}catch(_0x7411a6){console[_0x218b11(0x62f)](_0x218b11(0xa7d),_0x7411a6),showMessage(_0x218b11(0x900)+_0x7411a6[_0x218b11(0xa56)]);}}function updateStudentSyncView(_0x4d38c0){const _0x1ac404=_0x252b26,_0x578079=_0x4d38c0[_0x1ac404(0x713)][localTeamPlayers[0x0]];switch(_0x4d38c0[_0x1ac404(0x6c1)]){case _0x1ac404(0x80e):showView(_0x1ac404(0x443)),liveGameView[_0x1ac404(0x8f6)]=_0x1ac404(0xb1a);break;case _0x1ac404(0x638):const _0x39c4f9=localTeamPlayers[_0x1ac404(0x2bd)](_0x2f3cbf=>_0x4d38c0[_0x1ac404(0x713)][_0x2f3cbf]?.['answered']===!![]);_0x39c4f9?liveGameView[_0x1ac404(0x8f6)]=_0x1ac404(0x6e6):renderStudentSyncQuestionView(_0x4d38c0);break;case _0x1ac404(0xa59):liveGameView[_0x1ac404(0x8f6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1ac404(0x98c):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x4d38c0);break;case _0x1ac404(0xc73):sessionStorage[_0x1ac404(0xbf0)](_0x1ac404(0x110));const _0x4b667a=calculateFinalPodiumScores(_0x4d38c0);showPodiumView(_0x4b667a,_0x1ac404(0x426));break;}}function renderStudentSyncResultsView(_0x411f6e){const _0x3a473f=_0x252b26,_0x487df8=localTeamPlayers[_0x3a473f(0x625)](_0x5db510=>_0x411f6e[_0x3a473f(0x713)][_0x5db510])[_0x3a473f(0x6de)](Boolean);_0x487df8[_0x3a473f(0x910)]((_0x4a3876,_0x3a05bc)=>(_0x3a05bc[_0x3a473f(0x3a4)]||0x0)-(_0x4a3876[_0x3a473f(0x3a4)]||0x0));const _0x3dcd8a=_0x411f6e[_0x3a473f(0x41d)]>=_0x411f6e['shuffledQuiz'][_0x3a473f(0x692)]['length']-0x1;let _0x3ce8a6='';_0x3dcd8a?_0x3ce8a6=_0x3a473f(0x4e8):_0x3ce8a6=_0x3a473f(0xc90);const _0x876465=_0x3a473f(0x20e)+_0x487df8[_0x3a473f(0x625)]((_0x4a3f2f,_0x4413f2)=>_0x3a473f(0x8fb)+(_0x4413f2+0x1)+_0x3a473f(0xbf6)+_0x4a3f2f[_0x3a473f(0x2c6)]+_0x3a473f(0x2ee)+_0x4a3f2f[_0x3a473f(0x3a4)]+_0x3a473f(0x459))[_0x3a473f(0x424)]('')+_0x3a473f(0x2e0)+_0x3ce8a6+_0x3a473f(0xc3e);liveGameView[_0x3a473f(0x8f6)]=_0x876465;}function renderStudentSyncQuestionView(_0x4800a8){const _0x8ceb45=_0x252b26;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x4800a8[_0x8ceb45(0x713)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x8ceb45(0xc8b)]===!![]){localPlayerTurnIndex++;}const _0x1e8bc9=localTeamPlayers[localPlayerTurnIndex];if(!_0x1e8bc9)return;const _0x14ef93=_0x4800a8[_0x8ceb45(0x41d)],_0x33521f=_0x4800a8['shuffledQuiz']['questions'][_0x8ceb45(0xa38)],_0x58507f=_0x4800a8[_0x8ceb45(0x90c)][_0x8ceb45(0x692)][_0x14ef93],_0x120e52=_0x58507f[_0x8ceb45(0x3ae)]||_0x4800a8[_0x8ceb45(0x90c)][_0x8ceb45(0x81d)];let _0x1cf721='',_0x41fa58=![];switch(_0x120e52){case'true_false':_0x1cf721='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x8ceb45(0xb86):case _0x8ceb45(0x95c):_0x41fa58=!![],_0x1cf721=_0x8ceb45(0x803);break;case _0x8ceb45(0x711):_0x41fa58=!![],_0x1cf721='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58507f[_0x8ceb45(0x98b)]||[])[_0x8ceb45(0x625)](_0x25a813=>'<option\x20value=\x22'+_0x25a813+'\x22>'+_0x25a813+_0x8ceb45(0x64b))[_0x8ceb45(0x424)]('')+_0x8ceb45(0x82b);break;case _0x8ceb45(0x27f):default:_0x1cf721=(_0x58507f['options']||[])['map']((_0x345ac9,_0x279d3c)=>_0x8ceb45(0xba8)+_0x279d3c+_0x8ceb45(0x487)+_0x345ac9+_0x8ceb45(0x429))[_0x8ceb45(0x424)]('');break;}liveGameView['innerHTML']=_0x8ceb45(0xa0d)+(_0x14ef93+0x1)+_0x8ceb45(0xc0e)+_0x33521f+_0x8ceb45(0x9c0)+_0x1e8bc9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x58507f[_0x8ceb45(0x15a)]||_0x58507f[_0x8ceb45(0x503)])+_0x8ceb45(0x685)+_0x1cf721+_0x8ceb45(0x590);if(window[_0x8ceb45(0x3fa)])MathJax[_0x8ceb45(0x422)]();function _0xbfcdfe(_0x27b8c0,_0x4191a5,_0x38ca93,_0x3d3195){const _0x3a1ffe=_0x8ceb45,_0x26980f=_0x38ca93[_0x3a1ffe(0xaa8)]===!![];if(_0x26980f){document['getElementById'](_0x3a1ffe(0x45f))[_0x3a1ffe(0x9e8)][_0x3a1ffe(0x24b)]=_0x3a1ffe(0x426);const _0x4b8886=document['getElementById'](_0x3a1ffe(0x588));_0x4b8886['dataset'][_0x3a1ffe(0xade)]=_0x27b8c0,_0x4b8886[_0x3a1ffe(0x9e8)]['question']=JSON['stringify'](_0x4191a5),_0x4b8886[_0x3a1ffe(0x9e8)]['gameData']=JSON[_0x3a1ffe(0x34d)](_0x38ca93),_0x4b8886['dataset'][_0x3a1ffe(0x9b0)]=_0x3d3195,document[_0x3a1ffe(0x8d1)](_0x3a1ffe(0x45f))[_0x3a1ffe(0x1da)][_0x3a1ffe(0x7ce)](_0x3a1ffe(0x25d));}else handleSyncAnswerSubmit(_0x27b8c0,_0x4191a5,_0x38ca93,_0x3d3195,![]);}_0x41fa58?document[_0x8ceb45(0x8d1)]('sync-submit-btn')['addEventListener'](_0x8ceb45(0x4d9),()=>{const _0x527dd7=_0x8ceb45,_0x415c11=document[_0x527dd7(0x8d1)]('sync-short-answer-input')||document['getElementById']('sync-matching-select');if(_0x415c11['value'][_0x527dd7(0x3cf)]()===''){showMessage(_0x527dd7(0x4cd));return;}_0xbfcdfe(_0x415c11[_0x527dd7(0x64c)],_0x58507f,_0x4800a8,_0x1e8bc9);}):document['querySelectorAll'](_0x8ceb45(0xb09))[_0x8ceb45(0x236)](_0x46f14e=>{const _0x2e676b=_0x8ceb45;_0x46f14e[_0x2e676b(0x2d5)]('click',()=>{const _0x55dd9f=_0x2e676b;_0xbfcdfe(_0x46f14e['dataset'][_0x55dd9f(0x64c)],_0x58507f,_0x4800a8,_0x1e8bc9);});});}async function handleSyncAnswerSubmit(_0x110f50,_0x452a35,_0x363257,_0x49f78c,_0x5a8ba1){const _0x541021=_0x252b26;document[_0x541021(0xa48)]('.live-answer-btn,\x20#sync-submit-btn')[_0x541021(0x236)](_0x493409=>_0x493409[_0x541021(0x7dc)]=!![]);const _0x1f9abc=_0x452a35[_0x541021(0x3ae)]||_0x363257[_0x541021(0x90c)][_0x541021(0x81d)];let _0x1d7363=![],_0x20ce33=_0x110f50;switch(_0x1f9abc){case _0x541021(0x51c):const _0x300edb=parseInt(_0x110f50),_0x504473=_0x452a35[_0x541021(0x67b)]===!![]||String(_0x452a35[_0x541021(0x67b)])['toLowerCase']()===_0x541021(0x7c4);_0x1d7363=_0x300edb===0x0&&_0x504473||_0x300edb===0x1&&!_0x504473,_0x20ce33=_0x300edb===0x0?_0x541021(0x113):_0x541021(0x578);break;case _0x541021(0xb86):case'fill_in_no_choices':_0x1d7363=await gradeShortAnswer(_0x110f50,_0x452a35);break;case _0x541021(0x711):_0x1d7363=_0x110f50===_0x452a35[_0x541021(0xb28)];break;case'multiple_choice':default:const _0x4b8247=parseInt(_0x110f50);_0x1d7363=_0x4b8247===_0x452a35[_0x541021(0x26e)];_0x452a35[_0x541021(0xc69)]&&_0x452a35['options'][_0x4b8247]&&(_0x20ce33=_0x452a35[_0x541021(0xc69)][_0x4b8247]);break;}const _0x285e59=_0x1d7363?0x1:0x0,_0x51279f=doc(db,_0x541021(0x1d1)+appId+_0x541021(0xad4),currentLiveGameId),_0x53c9e7={};_0x53c9e7[_0x541021(0xac9)+_0x49f78c+_0x541021(0x3a7)]=increment(_0x285e59),_0x53c9e7['players.'+_0x49f78c+_0x541021(0xa1d)]=!![];let _0x1e046e=null;(_0x1f9abc==='multiple_choice'||_0x1f9abc===_0x541021(0x51c)||_0x1f9abc===_0x541021(0x583))&&(_0x1e046e=parseInt(_0x110f50));_0x53c9e7[_0x541021(0xac9)+_0x49f78c+_0x541021(0x73c)]=_0x1e046e;const _0x4f0975={'questionIndex':_0x363257['currentQuestionIndex'],'questionId':_0x452a35['id'],'answer':_0x110f50,'answerText':_0x20ce33,'isCorrect':_0x1d7363,'originalQuestionText':_0x452a35[_0x541021(0x15a)]||_0x452a35[_0x541021(0x503)],'wasConfident':_0x5a8ba1};_0x53c9e7[_0x541021(0xac9)+_0x49f78c+_0x541021(0x987)]=arrayUnion(_0x4f0975),await updateDoc(_0x51279f,_0x53c9e7);}initialize();
