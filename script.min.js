const _0x1df5ec=_0x2d6c;(function(_0x441f13,_0x2b75ef){const _0x7cbb65=_0x2d6c,_0xa3da80=_0x441f13();while(!![]){try{const _0x1f6c26=-parseInt(_0x7cbb65(0x75a))/0x1*(parseInt(_0x7cbb65(0x275))/0x2)+parseInt(_0x7cbb65(0x5ba))/0x3*(parseInt(_0x7cbb65(0x20b))/0x4)+-parseInt(_0x7cbb65(0x9ce))/0x5*(parseInt(_0x7cbb65(0x5f2))/0x6)+parseInt(_0x7cbb65(0x251))/0x7*(-parseInt(_0x7cbb65(0x455))/0x8)+-parseInt(_0x7cbb65(0x53d))/0x9+-parseInt(_0x7cbb65(0x932))/0xa+parseInt(_0x7cbb65(0x995))/0xb;if(_0x1f6c26===_0x2b75ef)break;else _0xa3da80['push'](_0xa3da80['shift']());}catch(_0x4ff5fb){_0xa3da80['push'](_0xa3da80['shift']());}}}(_0x341b,0x2e986));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x458c83=_0x2d6c;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x458c83(0x283)][_0x458c83(0x7ca)](_0x458c83(0x8e3)),console[_0x458c83(0x31a)](_0x458c83(0x37c)),wakeLock[_0x458c83(0x2ca)](_0x458c83(0x2af),()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x588c3f){console['error'](_0x458c83(0x436)+_0x588c3f[_0x458c83(0x5a4)]+',\x20'+_0x588c3f[_0x458c83(0x298)]);}else console[_0x458c83(0x76a)](_0x458c83(0x7dd));},releaseWakeLock=async()=>{const _0x48bd48=_0x2d6c;wakeLock!==null&&(await wakeLock[_0x48bd48(0x2af)](),wakeLock=null,console[_0x48bd48(0x31a)](_0x48bd48(0x671)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x539b25=_0x2d6c;if(dimTimer)clearTimeout(dimTimer);document[_0x539b25(0x314)]['classList']['remove'](_0x539b25(0x6c3)),dimTimer=setTimeout(()=>{const _0x57ce7c=_0x539b25;document[_0x57ce7c(0x314)][_0x57ce7c(0x838)][_0x57ce7c(0x8a1)]('dimmed'),console[_0x57ce7c(0x31a)](_0x57ce7c(0x252));},inactivityTime);}function stopDimTimer(){const _0x9646dc=_0x2d6c;if(dimTimer)clearTimeout(dimTimer);document[_0x9646dc(0x314)][_0x9646dc(0x838)][_0x9646dc(0x563)](_0x9646dc(0x6c3)),window['removeEventListener']('mousemove',resetDimTimer),window[_0x9646dc(0x853)](_0x9646dc(0x1ed),resetDimTimer),window['removeEventListener'](_0x9646dc(0x537),resetDimTimer),window[_0x9646dc(0x853)]('keydown',resetDimTimer),console['log'](_0x9646dc(0x89f));}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1df5ec(0x85c),'pinnedProjects':[],'projectView':_0x1df5ec(0x2c3)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x1df5ec(0x1e9)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x9f4)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x5af)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x981)},{'category':'จำนวนและการดำเนินการ','name':'การบวก'},{'category':_0x1df5ec(0x647),'name':'การลบ'},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x4e1)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x98c)},{'category':'จำนวนและการดำเนินการ','name':_0x1df5ec(0x8f3)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x9d5)},{'category':'จำนวนและการดำเนินการ','name':_0x1df5ec(0x4d3)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x967)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x4a1)},{'category':_0x1df5ec(0x647),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x6d7)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x245)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x9ac)},{'category':'จำนวนและการดำเนินการ','name':_0x1df5ec(0x299)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x9c8)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x3a4)},{'category':'จำนวนและการดำเนินการ','name':_0x1df5ec(0x544)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x2ba)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x65f)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x796)},{'category':_0x1df5ec(0x647),'name':'การบวกทศนิยม'},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x9a0)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x399)},{'category':_0x1df5ec(0x647),'name':'การหารทศนิยม'},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x1b7)},{'category':'จำนวนและการดำเนินการ','name':_0x1df5ec(0x7f4)},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x197)},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x1df5ec(0x647),'name':'รากที่สองและที่สาม'},{'category':_0x1df5ec(0x647),'name':_0x1df5ec(0x854)},{'category':_0x1df5ec(0x647),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x1df5ec(0x445),'name':'หน่วยความยาวและการแปลง'},{'category':_0x1df5ec(0x445),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':_0x1df5ec(0x782)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x95d)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x6cc)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x843)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x8f8)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x6de)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x4d0)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x346)},{'category':'การวัด','name':_0x1df5ec(0x50a)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x469)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x205)},{'category':_0x1df5ec(0x445),'name':_0x1df5ec(0x5f1)},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x7b9)},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x4cb)},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x6da)},{'category':_0x1df5ec(0x5c8),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x4b4)},{'category':'เรขาคณิต','name':_0x1df5ec(0x2f8)},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x83c)},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x745)},{'category':_0x1df5ec(0x5c8),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x3f5)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x541)},{'category':'เรขาคณิต','name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x1df5ec(0x5c8),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x1df5ec(0x5c8),'name':_0x1df5ec(0x5d4)},{'category':_0x1df5ec(0x648),'name':'ตัวแปรและนิพจน์'},{'category':_0x1df5ec(0x648),'name':'การกระจายและการจัดหมู่'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x3bf)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x28d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x5c9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x9e6)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x6b3)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x813)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x467)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x7f9)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x4f0)},{'category':_0x1df5ec(0x648),'name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':_0x1df5ec(0x648),'name':'อสมการเชิงเส้น'},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x2bc)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x51d)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x26f)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x502)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x1ae)},{'category':_0x1df5ec(0x648),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x569)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x78e)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x3bc)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x44a)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x1b1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x798)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x614)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x90a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x837)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x279)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0x243)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x3b6)},{'category':_0x1df5ec(0x648),'name':_0x1df5ec(0xa02)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x2f7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1df5ec(0x287)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1df5ec(0x8fa)},{'category':_0x1df5ec(0x239),'name':_0x1df5ec(0x7b0)},{'category':_0x1df5ec(0x239),'name':_0x1df5ec(0x5ea)},{'category':_0x1df5ec(0x239),'name':_0x1df5ec(0x9a2)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1df5ec(0x435)},{'category':_0x1df5ec(0x239),'name':_0x1df5ec(0x806)},{'category':_0x1df5ec(0x239),'name':_0x1df5ec(0x67b)},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x1df5ec(0x239),'name':_0x1df5ec(0x381)},{'category':'ตรีโกณมิติ','name':_0x1df5ec(0x7d4)},{'category':_0x1df5ec(0x85b),'name':_0x1df5ec(0x7fb)},{'category':_0x1df5ec(0x85b),'name':_0x1df5ec(0x5e6)},{'category':_0x1df5ec(0x85b),'name':_0x1df5ec(0x801)},{'category':_0x1df5ec(0x85b),'name':_0x1df5ec(0x538)},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x1df5ec(0x85b),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':_0x1df5ec(0x931)},{'category':_0x1df5ec(0x85b),'name':_0x1df5ec(0x942)},{'category':'ตรีโกณมิติ','name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x1df5ec(0x85b),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x29b)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x3da)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x555)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x417)},{'category':_0x1df5ec(0x529),'name':'ฮิสโตแกรม'},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x795)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x886)},{'category':_0x1df5ec(0x529),'name':'มัธยฐาน'},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x95f)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x9f5)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x9f3)},{'category':'สถิติและความน่าจะเป็น','name':'ความแปรปรวน'},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x8be)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':_0x1df5ec(0x659)},{'category':_0x1df5ec(0x529),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x1df5ec(0x529),'name':'กฎบวกและกฎคูณ'},{'category':'สถิติและความน่าจะเป็น','name':_0x1df5ec(0x4bf)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x7d7)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x44d)},{'category':'สถิติและความน่าจะเป็น','name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':'การจัดหมู่\x20(Combination)'},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x29e)},{'category':_0x1df5ec(0x529),'name':_0x1df5ec(0x33b)},{'category':_0x1df5ec(0x29c),'name':'ลิมิต'},{'category':_0x1df5ec(0x29c),'name':'ความต่อเนื่อง'},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x98e)},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x60b)},{'category':_0x1df5ec(0x29c),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x2ad)},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x2ea)},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x450)},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x963)},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x2c8)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x9ef)},{'category':_0x1df5ec(0x29c),'name':_0x1df5ec(0x742)},{'category':_0x1df5ec(0x653),'name':_0x1df5ec(0x337)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1df5ec(0x8ff)},{'category':_0x1df5ec(0x653),'name':_0x1df5ec(0x267)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1df5ec(0x6b6)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1df5ec(0x4ad)},{'category':_0x1df5ec(0x653),'name':_0x1df5ec(0x627)},{'category':_0x1df5ec(0x653),'name':_0x1df5ec(0x91b)},{'category':_0x1df5ec(0x539),'name':_0x1df5ec(0x4c5)},{'category':_0x1df5ec(0x539),'name':'ดอกเบี้ยทบต้น'},{'category':_0x1df5ec(0x539),'name':_0x1df5ec(0x5d0)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1df5ec(0x4f3)},{'category':_0x1df5ec(0x539),'name':_0x1df5ec(0x9a7)},{'category':_0x1df5ec(0x712),'name':_0x1df5ec(0x633)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x1df5ec(0x366)},{'category':_0x1df5ec(0x712),'name':_0x1df5ec(0x93f)}];function renderTopicCheckboxes(){const _0x33dd72=_0x1df5ec,_0x56324b=document['getElementById']('math-topics-checkbox-container');if(!_0x56324b)return;const _0x1f844d=allMathTopics,_0xf8c64f=customMathTopics[_0x33dd72(0x4e5)](_0x2c3f4f=>({'id':_0x2c3f4f['id'],'category':'หัวข้อที่สร้างเอง','name':_0x2c3f4f[_0x33dd72(0x5a4)]})),_0x21b07b=[..._0x1f844d,..._0xf8c64f],_0x29390b=_0x21b07b[_0x33dd72(0x439)]((_0x25abd3,_0x356c0c)=>{const _0x371368=_0x33dd72;return!_0x25abd3[_0x356c0c['category']]&&(_0x25abd3[_0x356c0c[_0x371368(0x1f7)]]=[]),_0x25abd3[_0x356c0c['category']][_0x371368(0x3f2)](_0x356c0c),_0x25abd3;},{});let _0x4ef0d9='';const _0x2d7653=['หัวข้อที่สร้างเอง',...Object[_0x33dd72(0x8bf)](_0x29390b)[_0x33dd72(0x93a)](_0x1612f0=>_0x1612f0!==_0x33dd72(0x2e5))];for(const _0x250332 of _0x2d7653){if(_0x29390b[_0x250332]){const _0x3e4453=_0x250332===_0x33dd72(0x2e5),_0x7aa7d1=_0x3e4453?'fas\x20fa-user-edit':_0x33dd72(0x1b0),_0x1c5a06=_0x3e4453?_0x33dd72(0x6a4):'text-indigo-700';_0x4ef0d9+=_0x33dd72(0x5d1),_0x4ef0d9+=_0x33dd72(0x300)+_0x1c5a06+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x7aa7d1+_0x33dd72(0x420)+_0x250332+'</p>',_0x29390b[_0x250332][_0x33dd72(0x722)](_0x16547c=>{const _0x53af7a=_0x33dd72,_0x417023=!!_0x16547c['id'],_0x5ce37d=_0x417023?_0x53af7a(0x7eb)+_0x16547c['id']+_0x53af7a(0x24b)+_0x16547c['id']+_0x53af7a(0x861)+_0x16547c['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x16547c['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x4ef0d9+=_0x53af7a(0x79c)+(_0x16547c['id']||'')+_0x53af7a(0x36a)+_0x16547c[_0x53af7a(0x5a4)]+_0x53af7a(0x23b)+_0x16547c[_0x53af7a(0x5a4)]+_0x53af7a(0x431)+(_0x417023?_0x53af7a(0x22a)+_0x16547c[_0x53af7a(0x5a4)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ce37d+_0x53af7a(0x62d);}),_0x4ef0d9+=_0x33dd72(0x587);}}_0x56324b[_0x33dd72(0x9e2)]=_0x4ef0d9||_0x33dd72(0x328),_0x56324b[_0x33dd72(0x853)]('change',updateSelectedTopicsCount),_0x56324b[_0x33dd72(0x2ca)](_0x33dd72(0x9df),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x31cfe7,_0x3f25dd){const _0x115b67=_0x1df5ec;if(!_0x31cfe7||!_0x3f25dd[_0x115b67(0x72a)]()){showMessage(_0x115b67(0x340));return;}try{const _0x603211=doc(db,_0x115b67(0x3d2)+appId+_0x115b67(0x1e1),_0x31cfe7);await updateDoc(_0x603211,{'name':_0x3f25dd['trim']()}),showMessage(_0x115b67(0x811));}catch(_0x38d8ca){console['error']('Error\x20updating\x20custom\x20topic:',_0x38d8ca),showMessage(_0x115b67(0x82d));}}function toggleTopicEditMode(_0x1aab7b,_0x3ee7d5){const _0xdf53fd=_0x1df5ec;if(!_0x1aab7b)return;const _0x209983=_0x1aab7b['querySelector'](_0xdf53fd(0x3d1)),_0x3ec332=_0x1aab7b[_0xdf53fd(0x870)](_0xdf53fd(0x8ec)),_0x4eb651=_0x1aab7b[_0xdf53fd(0x870)]('.topic-actions-view'),_0x4efac5=_0x1aab7b['querySelector'](_0xdf53fd(0x326));_0x209983[_0xdf53fd(0x838)]['toggle']('hidden',_0x3ee7d5),_0x3ec332[_0xdf53fd(0x838)][_0xdf53fd(0x8f4)]('hidden',!_0x3ee7d5),_0x4eb651[_0xdf53fd(0x838)][_0xdf53fd(0x8f4)](_0xdf53fd(0x46b),_0x3ee7d5),_0x4efac5[_0xdf53fd(0x838)][_0xdf53fd(0x8f4)]('hidden',!_0x3ee7d5),_0x3ee7d5&&(_0x3ec332['focus'](),_0x3ec332[_0xdf53fd(0x491)]());}function updateSelectedTopicsCount(){const _0xb8ce9=_0x1df5ec,_0x575744=document[_0xb8ce9(0x1d3)](_0xb8ce9(0x807)),_0x561d2e=_0x575744[_0xb8ce9(0x882)](_0xb8ce9(0x1d6))[_0xb8ce9(0x4a6)],_0x457aa6=document['getElementById'](_0xb8ce9(0x2cb));_0x561d2e>0x0?_0x457aa6[_0xb8ce9(0x5b0)]=_0xb8ce9(0x646)+_0x561d2e+_0xb8ce9(0x9f9):_0x457aa6['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1df5ec(0x98a),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1df5ec(0x868),quizLeaderboardSortOrder=_0x1df5ec(0x8e0),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1df5ec(0x808),scratchpadPenColor='#000000',scratchpadPenSize=0x5;function getDistance(_0x53bbc7,_0x74a685){const _0x3cc695=_0x1df5ec;return Math['sqrt'](Math[_0x3cc695(0x38d)](_0x53bbc7['x']-_0x74a685['x'],0x2)+Math['pow'](_0x53bbc7['y']-_0x74a685['y'],0x2));}function getMidpoint(_0x400156,_0x2ae2b2){return{'x':(_0x400156['x']+_0x2ae2b2['x'])/0x2,'y':(_0x400156['y']+_0x2ae2b2['y'])/0x2};}function getTransformedPoint(_0x4cc943,_0x4a8f1d){return{'x':(_0x4cc943-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4a8f1d-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x36258d=_0x1df5ec;if(!scratchpadCtx)return;const _0x544e68=scratchpadCtx['canvas'],_0xbd145f=window[_0x36258d(0x73e)]||0x1,_0x31d7fd=document['getElementById'](_0x36258d(0x46e));_0x31d7fd&&(_0x31d7fd[_0x36258d(0xa10)][_0x36258d(0x23f)]='0\x200',_0x31d7fd[_0x36258d(0xa10)][_0x36258d(0x95e)]='translate('+scratchpadOffset['x']+_0x36258d(0x918)+scratchpadOffset['y']+_0x36258d(0x7b8)+scratchpadScale+')'),scratchpadCtx[_0x36258d(0x871)](),scratchpadCtx[_0x36258d(0x7ec)](_0xbd145f,0x0,0x0,_0xbd145f,0x0,0x0),scratchpadCtx[_0x36258d(0x6ad)](0x0,0x0,_0x544e68[_0x36258d(0x560)],_0x544e68[_0x36258d(0x6f5)]),scratchpadCtx['restore'](),scratchpadCtx[_0x36258d(0x871)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x36258d(0x722)](_0x425cfd=>{drawStroke(_0x425cfd);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x36258d(0x893)]();}function drawStroke(_0x3f1e8c){const _0x178655=_0x1df5ec;if(!_0x3f1e8c||_0x3f1e8c[_0x178655(0x343)][_0x178655(0x4a6)]<0x1)return;scratchpadCtx[_0x178655(0x1e2)](),scratchpadCtx[_0x178655(0x97b)](_0x3f1e8c[_0x178655(0x343)][0x0]['x'],_0x3f1e8c['points'][0x0]['y']),scratchpadCtx['strokeStyle']=_0x3f1e8c[_0x178655(0x5f9)],scratchpadCtx['lineWidth']=_0x3f1e8c['size'],scratchpadCtx['globalCompositeOperation']=_0x3f1e8c['tool']===_0x178655(0x7e3)?_0x178655(0x83e):_0x178655(0x919);for(let _0x2f33e7=0x1;_0x2f33e7<_0x3f1e8c[_0x178655(0x343)][_0x178655(0x4a6)]-0x1;_0x2f33e7++){const _0x149008=_0x3f1e8c[_0x178655(0x343)][_0x2f33e7],_0x551839=_0x3f1e8c['points'][_0x2f33e7+0x1],_0x1e2789={'x':(_0x149008['x']+_0x551839['x'])/0x2,'y':(_0x149008['y']+_0x551839['y'])/0x2};scratchpadCtx[_0x178655(0x728)](_0x149008['x'],_0x149008['y'],_0x1e2789['x'],_0x1e2789['y']);}scratchpadCtx[_0x178655(0x616)](),scratchpadCtx[_0x178655(0x814)]();}function handlePointerDown(_0xb92228){const _0x5d05a7=_0x1df5ec;_0xb92228[_0x5d05a7(0x662)]();const _0x448fba=scratchpadCtx['canvas'],_0x573807=_0x448fba[_0x5d05a7(0xa0e)](),_0x54abce=_0xb92228['pointerType']||(_0xb92228[_0x5d05a7(0x2c0)]?'touch':_0x5d05a7(0x301));if(_0x54abce==='pen'||_0x54abce===_0x5d05a7(0x301)){if(_0xb92228[_0x5d05a7(0x498)]===_0x5d05a7(0x301)){if(_0xb92228[_0x5d05a7(0x481)]===0x1){isMousePanning=!![],panStart={'x':_0xb92228[_0x5d05a7(0x834)],'y':_0xb92228[_0x5d05a7(0x7c1)]},_0x448fba[_0x5d05a7(0xa10)]['cursor']=_0x5d05a7(0xa13);return;}if(_0xb92228[_0x5d05a7(0x481)]!==0x0)return;}isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1eeb8f=getTransformedPoint(_0xb92228[_0x5d05a7(0x834)]-_0x573807[_0x5d05a7(0x746)],_0xb92228['clientY']-_0x573807[_0x5d05a7(0x9c9)]);currentStroke={'tool':activeTool,'color':scratchpadPenColor,'size':scratchpadPenSize,'points':[_0x1eeb8f]};}else _0xb92228[_0x5d05a7(0x2c0)]&&(_0xb92228[_0x5d05a7(0x2c0)][_0x5d05a7(0x4a6)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0xb92228[_0x5d05a7(0x2c0)][0x0][_0x5d05a7(0x834)],'y':_0xb92228[_0x5d05a7(0x2c0)][0x0][_0x5d05a7(0x7c1)]},{'x':_0xb92228[_0x5d05a7(0x2c0)][0x1]['clientX'],'y':_0xb92228[_0x5d05a7(0x2c0)][0x1][_0x5d05a7(0x7c1)]}),initialPinchDistance=getDistance({'x':_0xb92228[_0x5d05a7(0x2c0)][0x0][_0x5d05a7(0x834)],'y':_0xb92228[_0x5d05a7(0x2c0)][0x0][_0x5d05a7(0x7c1)]},{'x':_0xb92228[_0x5d05a7(0x2c0)][0x1][_0x5d05a7(0x834)],'y':_0xb92228['touches'][0x1][_0x5d05a7(0x7c1)]})));}function handlePointerMove(_0x1d995b){const _0x4612e4=_0x1df5ec;_0x1d995b[_0x4612e4(0x662)]();const _0x7a421e=scratchpadCtx[_0x4612e4(0x768)],_0x1bf3bd=_0x7a421e[_0x4612e4(0xa0e)]();if(_0x1d995b['touches']){if(_0x1d995b['touches']['length']===0x1&&isDrawingOnScratchpad){const _0x4ed8d7=getTransformedPoint(_0x1d995b[_0x4612e4(0x2c0)][0x0][_0x4612e4(0x834)]-_0x1bf3bd[_0x4612e4(0x746)],_0x1d995b[_0x4612e4(0x2c0)][0x0][_0x4612e4(0x7c1)]-_0x1bf3bd[_0x4612e4(0x9c9)]);currentStroke['points'][_0x4612e4(0x3f2)](_0x4ed8d7),redrawScratchpad();}else{if(_0x1d995b[_0x4612e4(0x2c0)]['length']===0x2&&isPanning){const _0x37a593=getDistance({'x':_0x1d995b[_0x4612e4(0x2c0)][0x0][_0x4612e4(0x834)],'y':_0x1d995b[_0x4612e4(0x2c0)][0x0]['clientY']},{'x':_0x1d995b['touches'][0x1][_0x4612e4(0x834)],'y':_0x1d995b[_0x4612e4(0x2c0)][0x1][_0x4612e4(0x7c1)]}),_0x781442=getMidpoint({'x':_0x1d995b[_0x4612e4(0x2c0)][0x0][_0x4612e4(0x834)],'y':_0x1d995b[_0x4612e4(0x2c0)][0x0]['clientY']},{'x':_0x1d995b['touches'][0x1][_0x4612e4(0x834)],'y':_0x1d995b[_0x4612e4(0x2c0)][0x1][_0x4612e4(0x7c1)]}),_0x30f065=_0x37a593/ initialPinchDistance,_0x34a7d3=Math[_0x4612e4(0x79b)](Math['max'](scratchpadScale*_0x30f065,MIN_SCALE),MAX_SCALE),_0x3a5143=_0x781442['x']-panStart['x'],_0x4f4087=_0x781442['y']-panStart['y'];scratchpadOffset['x']=_0x781442['x']-(_0x781442['x']-scratchpadOffset['x'])*(_0x34a7d3/scratchpadScale),scratchpadOffset['y']=_0x781442['y']-(_0x781442['y']-scratchpadOffset['y'])*(_0x34a7d3/scratchpadScale),scratchpadOffset['x']+=_0x3a5143,scratchpadOffset['y']+=_0x4f4087,scratchpadScale=_0x34a7d3,initialPinchDistance=_0x37a593,panStart=_0x781442,redrawScratchpad();}}}else{if(isMousePanning){const _0x22349c=_0x1d995b[_0x4612e4(0x834)]-panStart['x'],_0xad0715=_0x1d995b[_0x4612e4(0x7c1)]-panStart['y'];scratchpadOffset['x']+=_0x22349c,scratchpadOffset['y']+=_0xad0715,panStart={'x':_0x1d995b[_0x4612e4(0x834)],'y':_0x1d995b[_0x4612e4(0x7c1)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x35346a=getTransformedPoint(_0x1d995b[_0x4612e4(0x834)]-_0x1bf3bd[_0x4612e4(0x746)],_0x1d995b[_0x4612e4(0x7c1)]-_0x1bf3bd['top']);currentStroke[_0x4612e4(0x343)][_0x4612e4(0x3f2)](_0x35346a),redrawScratchpad();}}}}function handlePointerUp(_0x2fed67){const _0x592d30=_0x1df5ec;_0x2fed67[_0x592d30(0x662)]();const _0x5711cd=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x5711cd['style'][_0x592d30(0x56f)]=_0x592d30(0x46d)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x592d30(0x4a6)]>0x1&&strokes['push'](currentStroke),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1506b5){const _0x420f27=_0x1df5ec;_0x1506b5[_0x420f27(0x662)]();const _0x3cebd0=_0x1506b5[_0x420f27(0x47e)]*-0.005,_0x5cff4f=Math[_0x420f27(0x79b)](Math[_0x420f27(0x1fd)](scratchpadScale+_0x3cebd0,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1506b5[_0x420f27(0x834)]-(_0x1506b5['clientX']-scratchpadOffset['x'])*(_0x5cff4f/scratchpadScale),scratchpadOffset['y']=_0x1506b5[_0x420f27(0x7c1)]-(_0x1506b5['clientY']-scratchpadOffset['y'])*(_0x5cff4f/scratchpadScale),scratchpadScale=_0x5cff4f,redrawScratchpad();}function undo(){const _0x36befc=_0x1df5ec;strokes[_0x36befc(0x4a6)]>0x0&&(redoStrokes[_0x36befc(0x3f2)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x37ad12=_0x1df5ec;redoStrokes[_0x37ad12(0x4a6)]>0x0&&(strokes[_0x37ad12(0x3f2)](redoStrokes[_0x37ad12(0xa00)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3cf041=_0x1df5ec;document[_0x3cf041(0x1d3)](_0x3cf041(0x536))[_0x3cf041(0x31d)]=strokes[_0x3cf041(0x4a6)]===0x0,document['getElementById']('redo-btn')['disabled']=redoStrokes[_0x3cf041(0x4a6)]===0x0;}function openScratchpad(_0x1aa697,_0x43d946){const _0x5be5b5=_0x1df5ec,_0x1c0ee0=document[_0x5be5b5(0x1d3)](_0x5be5b5(0x6cd)),_0x3b5972=document[_0x5be5b5(0x1d3)](_0x5be5b5(0x3ba)),_0x9165c7=document[_0x5be5b5(0x1d3)](_0x5be5b5(0x90d)),_0x2e70a7=document[_0x5be5b5(0x1d3)]('scratchpad-controls');_0x3b5972[_0x5be5b5(0x5b0)]=_0x1aa697[_0x5be5b5(0x41d)]||_0x1aa697[_0x5be5b5(0x4f1)],_0x9165c7[_0x5be5b5(0x9e2)]=_0x43d946[_0x5be5b5(0x4e5)]((_0x393492,_0x2c1360)=>_0x5be5b5(0x39e)+String[_0x5be5b5(0x2fc)](0x41+_0x2c1360)+'.\x20'+_0x393492+'</div>')[_0x5be5b5(0x30f)](''),_0x2e70a7[_0x5be5b5(0x9e2)]=_0x5be5b5(0x703),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x1c0ee0[_0x5be5b5(0x838)][_0x5be5b5(0x563)](_0x5be5b5(0x46b)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x5be5b5(0x327)])MathJax[_0x5be5b5(0x9a3)]([_0x3b5972,_0x9165c7]);}function initializeScratchpadCanvas(){const _0x460eaf=_0x1df5ec,_0x343d09=document['getElementById'](_0x460eaf(0x7e0)),_0x8f00af=document[_0x460eaf(0x870)](_0x460eaf(0x530));if(!_0x343d09||!_0x8f00af)return;scratchpadCtx=_0x343d09[_0x460eaf(0x1a1)]('2d',{'willReadFrequently':!![]});const _0x112481=window['devicePixelRatio']||0x1,_0xa1c9e3=_0x8f00af[_0x460eaf(0xa0e)]();_0x343d09['width']=_0xa1c9e3[_0x460eaf(0x560)]*_0x112481,_0x343d09['height']=_0xa1c9e3[_0x460eaf(0x6f5)]*_0x112481,_0x343d09[_0x460eaf(0xa10)][_0x460eaf(0x560)]=_0xa1c9e3[_0x460eaf(0x560)]+'px',_0x343d09[_0x460eaf(0xa10)]['height']=_0xa1c9e3['height']+'px',scratchpadCtx[_0x460eaf(0x89c)](_0x112481,_0x112481),scratchpadCtx[_0x460eaf(0x817)]=_0x460eaf(0x493),scratchpadCtx[_0x460eaf(0x1ec)]=_0x460eaf(0x493),_0x343d09[_0x460eaf(0x853)](_0x460eaf(0x60c),handlePointerDown),_0x343d09[_0x460eaf(0x853)](_0x460eaf(0x4ac),handlePointerMove),_0x343d09['removeEventListener'](_0x460eaf(0x4b9),handlePointerUp),_0x343d09[_0x460eaf(0x853)]('pointercancel',handlePointerUp),_0x343d09[_0x460eaf(0x853)](_0x460eaf(0x971),handleWheel),_0x343d09['removeEventListener'](_0x460eaf(0x537),handlePointerDown),_0x343d09[_0x460eaf(0x853)](_0x460eaf(0x9d4),handlePointerMove),_0x343d09[_0x460eaf(0x853)](_0x460eaf(0x280),handlePointerUp),_0x343d09[_0x460eaf(0x2ca)]('pointerdown',handlePointerDown),_0x343d09['addEventListener'](_0x460eaf(0x4ac),handlePointerMove),_0x343d09[_0x460eaf(0x2ca)](_0x460eaf(0x4b9),handlePointerUp),_0x343d09[_0x460eaf(0x2ca)](_0x460eaf(0x96f),handlePointerUp),_0x343d09['addEventListener']('wheel',handleWheel,{'passive':![]}),_0x343d09[_0x460eaf(0x2ca)](_0x460eaf(0x537),handlePointerDown,{'passive':![]}),_0x343d09[_0x460eaf(0x2ca)]('touchmove',handlePointerMove,{'passive':![]}),_0x343d09[_0x460eaf(0x2ca)](_0x460eaf(0x280),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5ee2c0=_0x1df5ec,_0x18b0f2=document[_0x5ee2c0(0x1d3)]('scratchpad-modal');document['getElementById'](_0x5ee2c0(0x490))[_0x5ee2c0(0x2ca)](_0x5ee2c0(0x3c6),()=>_0x18b0f2[_0x5ee2c0(0x838)][_0x5ee2c0(0x8a1)](_0x5ee2c0(0x46b))),document[_0x5ee2c0(0x1d3)](_0x5ee2c0(0x6ce))[_0x5ee2c0(0x2ca)](_0x5ee2c0(0x3c6),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x5ee2c0(0x3f8))[_0x5ee2c0(0x2ca)](_0x5ee2c0(0x3c6),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x5ee2c0(0x1d3)](_0x5ee2c0(0x536))['addEventListener'](_0x5ee2c0(0x3c6),undo),document['getElementById']('redo-btn')['addEventListener'](_0x5ee2c0(0x3c6),redo),document[_0x5ee2c0(0x882)](_0x5ee2c0(0x45e))[_0x5ee2c0(0x722)](_0x103c32=>{const _0x2c3643=_0x5ee2c0;_0x103c32[_0x2c3643(0x2ca)](_0x2c3643(0x3c6),()=>{const _0x32c3d3=_0x2c3643;scratchpadPenSize=parseInt(_0x103c32['dataset']['size'],0xa),document[_0x32c3d3(0x882)](_0x32c3d3(0x45e))[_0x32c3d3(0x722)](_0x49b487=>_0x49b487['classList'][_0x32c3d3(0x563)]('active')),_0x103c32[_0x32c3d3(0x838)]['add'](_0x32c3d3(0x22b));});});const _0x359cc3=document['getElementById'](_0x5ee2c0(0x9ee)),_0x2340dd=document['getElementById'](_0x5ee2c0(0x290));_0x359cc3[_0x5ee2c0(0x2ca)](_0x5ee2c0(0x3c6),()=>{const _0x677c64=_0x5ee2c0;activeTool=_0x677c64(0x808),_0x359cc3[_0x677c64(0x838)][_0x677c64(0x8a1)](_0x677c64(0x22b)),_0x2340dd[_0x677c64(0x838)][_0x677c64(0x563)](_0x677c64(0x22b));}),_0x2340dd[_0x5ee2c0(0x2ca)]('click',()=>{const _0x2cd6ca=_0x5ee2c0;activeTool=_0x2cd6ca(0x7e3),_0x2340dd[_0x2cd6ca(0x838)][_0x2cd6ca(0x8a1)](_0x2cd6ca(0x22b)),_0x359cc3[_0x2cd6ca(0x838)][_0x2cd6ca(0x563)]('active');}),document['querySelectorAll'](_0x5ee2c0(0x258))[_0x5ee2c0(0x722)](_0x269371=>{const _0x3612fc=_0x5ee2c0;_0x269371[_0x3612fc(0x2ca)]('click',()=>{const _0x420fe5=_0x3612fc;scratchpadPenColor=_0x269371[_0x420fe5(0x984)][_0x420fe5(0x5f9)],activeTool='pen',_0x359cc3['classList'][_0x420fe5(0x8a1)]('active'),_0x2340dd[_0x420fe5(0x838)]['remove'](_0x420fe5(0x22b)),document[_0x420fe5(0x882)](_0x420fe5(0x258))[_0x420fe5(0x722)](_0x28b9a8=>_0x28b9a8[_0x420fe5(0x838)]['remove'](_0x420fe5(0x22b))),_0x269371[_0x420fe5(0x838)]['add'](_0x420fe5(0x22b));});}),document[_0x5ee2c0(0x870)](_0x5ee2c0(0x4b1))['classList'][_0x5ee2c0(0x8a1)](_0x5ee2c0(0x22b)),window[_0x5ee2c0(0x2ca)](_0x5ee2c0(0x461),()=>{const _0x3a9f92=_0x5ee2c0;!_0x18b0f2[_0x3a9f92(0x838)][_0x3a9f92(0x54c)](_0x3a9f92(0x46b))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x1df5ec(0x3f9),'name':_0x1df5ec(0x574),'description':_0x1df5ec(0x2ab),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x1df5ec(0x4ea),'name':_0x1df5ec(0x3ea),'description':_0x1df5ec(0x1bc),'icon':_0x1df5ec(0x54b)},'ON_FIRE':{'id':_0x1df5ec(0x597),'name':_0x1df5ec(0x444),'description':_0x1df5ec(0x78c),'icon':_0x1df5ec(0x51c)},'FIRST_TRY_ACE':{'id':_0x1df5ec(0x44e),'name':_0x1df5ec(0x219),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x1df5ec(0x4e7)},'COMEBACK_KING':{'id':_0x1df5ec(0x39a),'name':_0x1df5ec(0x6e9),'description':_0x1df5ec(0x9c4),'icon':_0x1df5ec(0x9c5)},'SPECIALIST':{'id':_0x1df5ec(0x914),'name':_0x1df5ec(0x3be),'description':_0x1df5ec(0x50b),'icon':_0x1df5ec(0x644)},'PERSEVERANCE':{'id':_0x1df5ec(0x641),'name':_0x1df5ec(0x790),'description':_0x1df5ec(0x286),'icon':_0x1df5ec(0x985)}},firebaseConfig={'apiKey':_0x1df5ec(0x77f),'authDomain':_0x1df5ec(0x1e4),'projectId':_0x1df5ec(0x432),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x1df5ec(0x9dd),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x1df5ec(0x45d)},appId=typeof __app_id!==_0x1df5ec(0x7d5)?__app_id:_0x1df5ec(0x595),adminView=document[_0x1df5ec(0x1d3)]('admin-view'),studentView=document['getElementById'](_0x1df5ec(0x696)),projectDashboardView=document[_0x1df5ec(0x1d3)]('project-dashboard-view'),projectDetailView=document['getElementById'](_0x1df5ec(0x21f)),quizResultsView=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x8c4)),projectList=document['getElementById'](_0x1df5ec(0x295)),noProjectsMsg=document['getElementById'](_0x1df5ec(0x7ae)),projectTitle=document[_0x1df5ec(0x1d3)]('project-title'),projectIdDisplay=document[_0x1df5ec(0x1d3)]('project-id-display'),studentList=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x501)),messageModal=document[_0x1df5ec(0x1d3)]('message-modal'),modalMessage=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x9d1)),createProjectModal=document['getElementById'](_0x1df5ec(0x8a5)),adminPasswordModal=document[_0x1df5ec(0x1d3)]('admin-password-modal'),confirmationModal=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x96e)),userIdDisplay=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x6e7)),topicTab=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x25d)),textTab=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x4e4)),topicInputArea=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x3a0)),textInputArea=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x7f5)),manageTab=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x23a)),resultsTab=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x9d8)),leaderboardTab=document['getElementById'](_0x1df5ec(0x7ab)),manageTabContent=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x4d6)),resultsTabContent=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x4ce)),leaderboardTabContent=document[_0x1df5ec(0x1d3)]('leaderboard-tab-content'),projectQuizzesList=document[_0x1df5ec(0x1d3)]('project-quizzes-list'),fileTab=document['getElementById']('file-tab'),fileInputArea=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x909)),fileUploadInput=document['getElementById'](_0x1df5ec(0x943)),worksheetTab=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x63d)),worksheetInputArea=document['getElementById'](_0x1df5ec(0x619)),generateWorksheetBtn=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x9e0)),studentInitialView=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x411)),studentNameSelectionView=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x65e)),studentQuizArea=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x5d6)),studentResultArea=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x7f0)),studentReadingArea=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x2e7)),loadQuizBtn=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x215)),startQuizBtn=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x91c)),studentJoinGameView=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x71e)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x897)),moveQuizModal=document[_0x1df5ec(0x1d3)](_0x1df5ec(0x404)),quizSettingsModal=document[_0x1df5ec(0x1d3)]('quiz-settings-modal'),quizStatusModal=document[_0x1df5ec(0x1d3)]('quiz-status-modal'),liveGameView=document['getElementById'](_0x1df5ec(0x9f0));function handleAutoFixLatex(){const _0x217a9c=_0x1df5ec,_0x41a593=document[_0x217a9c(0x1d3)](_0x217a9c(0x3c3))||document,_0x4a56b1=_0x41a593[_0x217a9c(0x882)](['textarea','input[type=\x22text\x22]',_0x217a9c(0x8ad),_0x217a9c(0x42c),_0x217a9c(0x9b3),_0x217a9c(0x7f2),_0x217a9c(0x9aa),_0x217a9c(0x355),_0x217a9c(0x51b)][_0x217a9c(0x30f)](','));let _0x452853=0x0;const _0x43d848=_0x227d91=>'value'in _0x227d91?String(_0x227d91[_0x217a9c(0x750)]):_0x227d91[_0x217a9c(0x2b7)]!==undefined?_0x227d91['innerText']:_0x227d91[_0x217a9c(0x5b0)]||'',_0x5dbd35=(_0xf17b84,_0x129b96)=>{const _0x92d245=_0x217a9c;if(_0x92d245(0x750)in _0xf17b84){_0xf17b84[_0x92d245(0x750)]=_0x129b96;return;}if(_0xf17b84[_0x92d245(0x870)]&&_0xf17b84['querySelector'](_0x92d245(0x849)))return;if(_0xf17b84[_0x92d245(0x2b7)]!==undefined)_0xf17b84[_0x92d245(0x2b7)]=_0x129b96;else _0xf17b84[_0x92d245(0x5b0)]=_0x129b96;},_0x2649f5=_0x527781=>_0x527781[_0x217a9c(0x8a9)](/\u00A0/g,'\x20')[_0x217a9c(0x8a9)](/\u200B/g,'')[_0x217a9c(0x8a9)](/\r\n?/g,'\x0a'),_0x1ba5c4=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5dfd95=_0x56e313=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x56e313),_0x3fc0ac=_0x320ec9=>{const _0x927f70=_0x217a9c,_0xe66b24=(_0x320ec9['match'](/\{/g)||[])[_0x927f70(0x4a6)],_0x2be653=(_0x320ec9[_0x927f70(0x7cc)](/\}/g)||[])[_0x927f70(0x4a6)];if(_0xe66b24>_0x2be653)_0x320ec9=_0x320ec9+'}'[_0x927f70(0x623)](_0xe66b24-_0x2be653);return _0x320ec9;},_0x17903f=_0x38849f=>{const _0x10591a=_0x217a9c;let _0x3b8d06=_0x38849f['trim']();const _0xd8661=[_0x10591a(0x753),_0x10591a(0x5b9),'tfrac',_0x10591a(0x2f5),_0x10591a(0x836),'times',_0x10591a(0x4b3),_0x10591a(0x234),_0x10591a(0x47f),_0x10591a(0x760),'le','ge',_0x10591a(0x858),'pm',_0x10591a(0x6d5),_0x10591a(0x62c),'cos',_0x10591a(0x570),_0x10591a(0x31a),'ln',_0x10591a(0x55a),'prod',_0x10591a(0x6a9),'left',_0x10591a(0x2de),_0x10591a(0x1db),_0x10591a(0x396),_0x10591a(0x2ee),_0x10591a(0x2b6)];_0x3b8d06=_0x3b8d06[_0x10591a(0x8a9)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0xd8661['join']('|')+_0x10591a(0x2c1),'g'),'\x5c'),_0xd8661[_0x10591a(0x722)](_0x589ebc=>{_0x3b8d06=_0x3b8d06['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x589ebc+'\x5cb','g'),(_0x4f8d8d,_0x5936d7)=>_0x5936d7+'\x5c'+_0x589ebc);});const _0x4a5bbb=[[/×/g,'\x5ctimes'],[/·/g,_0x10591a(0x94a)],[/÷/g,'\x5cdiv'],[/≤/g,_0x10591a(0x6c2)],[/≥/g,_0x10591a(0x36f)],[/≠/g,_0x10591a(0x3c0)],[/±/g,_0x10591a(0x8c6)],[/∑/g,_0x10591a(0x993)],[/−/g,'-']];_0x4a5bbb[_0x10591a(0x722)](([_0x134534,_0xf228ef])=>{const _0x202d24=_0x10591a;_0x3b8d06=_0x3b8d06[_0x202d24(0x8a9)](_0x134534,_0xf228ef);}),_0x3b8d06=_0x3b8d06['replace'](/√\s*\(([^)]*)\)/g,_0x10591a(0x911)),_0x3b8d06=_0x3b8d06[_0x10591a(0x8a9)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x3b8d06=_0x3b8d06[_0x10591a(0x8a9)](/(^|[^\\])\bimes\b/g,_0x10591a(0x515))['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x10591a(0x8a9)](/(^|[^\\])ext\{/g,_0x10591a(0xa0d))['replace'](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x10591a(0x8a9)](/\\text\(([^)]*)\)/g,_0x10591a(0x7c3))['replace'](/\s\\frac/g,_0x10591a(0x8ea)),_0x3b8d06=_0x3b8d06[_0x10591a(0x8a9)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x332311,_0x2e99e5,_0x313828,_0x3944fb)=>_0x2e99e5+_0x10591a(0x311)+_0x313828+'}{'+_0x3944fb+'}'),_0x3b8d06=_0x3b8d06['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x10591a(0x48f))[_0x10591a(0x8a9)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x10591a(0x2cc)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x10591a(0x2cc)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x10591a(0x2cc)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x10591a(0x2cc)],[/(\d+)\s*°\s*C/g,_0x10591a(0x2cc)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x10591a(0x380)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x10591a(0x722)](([_0x3d91bb,_0x537a08])=>{const _0x331b45=_0x10591a;_0x3b8d06=_0x3b8d06[_0x331b45(0x8a9)](_0x3d91bb,_0x537a08);}),_0x3b8d06=_0x3b8d06[_0x10591a(0x8a9)](/(\d+)\s*%/g,_0x10591a(0x1fc)),_0x3b8d06=_0x3b8d06[_0x10591a(0x8a9)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x10591a(0x484))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x10591a(0x906))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x10591a(0x3a9)),[_0x10591a(0x62c),_0x10591a(0x6c6),_0x10591a(0x570),_0x10591a(0x31a),'ln']['forEach'](_0x45217b=>{const _0x442cd4=_0x10591a;_0x3b8d06=_0x3b8d06[_0x442cd4(0x8a9)](new RegExp(_0x442cd4(0xa0f)+_0x45217b+_0x442cd4(0x58d),'g'),(_0x389ef1,_0x5e64a2)=>_0x5e64a2+'\x5c'+_0x45217b+'(');});const _0x5562a2=(_0x3b8d06[_0x10591a(0x7cc)](/\\left\b/g)||[])['length'],_0x206389=(_0x3b8d06[_0x10591a(0x7cc)](/\\right\b/g)||[])[_0x10591a(0x4a6)];if(_0x5562a2!==_0x206389)_0x3b8d06=_0x3b8d06[_0x10591a(0x8a9)](/\\left\b/g,'')[_0x10591a(0x8a9)](/\\right\b/g,'');return _0x3b8d06=_0x3fc0ac(_0x3b8d06),_0x3b8d06;},_0x1887bb=_0x141194=>{const _0x163bed=_0x217a9c;if(/\$|\\\(|\\\[/[_0x163bed(0x726)](_0x141194))return _0x141194;if(!_0x1ba5c4[_0x163bed(0x726)](_0x141194))return _0x141194;const _0x1942b7=_0x141194[_0x163bed(0x7cc)](/^\s*/)[0x0],_0xd0390e=_0x141194[_0x163bed(0x7cc)](/\s*$/)[0x0],_0x4170d1=_0x141194[_0x163bed(0x72a)]();return _0x1942b7+'$'+_0x17903f(_0x4170d1)+'$'+_0xd0390e;},_0x408a67=_0x171685=>_0x171685[_0x217a9c(0x29f)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x4a56b1[_0x217a9c(0x722)](_0x409312=>{const _0x4189b2=_0x217a9c;if(_0x409312['querySelector']&&_0x409312[_0x4189b2(0x870)](_0x4189b2(0x849)))return;const _0x335e74=_0x43d848(_0x409312);let _0x14ce19=_0x2649f5(_0x335e74);_0x14ce19=_0x14ce19[_0x4189b2(0x8a9)](/\$\$([\s\S]*?)\$\$/g,(_0x2da08f,_0x2dc89d)=>'$$'+_0x17903f(_0x2dc89d)+'$$')[_0x4189b2(0x8a9)](/\$([^$]*?)\$/g,(_0x930e3a,_0x40e3e7)=>'$'+_0x17903f(_0x40e3e7)+'$')[_0x4189b2(0x8a9)](/\\\(([\s\S]*?)\\\)/g,(_0x40db10,_0x3d00dd)=>'\x5c('+_0x17903f(_0x3d00dd)+'\x5c)')[_0x4189b2(0x8a9)](/\\\[([\s\S]*?)\\\]/g,(_0x576159,_0x402c29)=>'\x5c['+_0x17903f(_0x402c29)+'\x5c]');let _0x4fff79=_0x14ce19,_0xd2800a=0x0;const _0x58fdda=_0xd5c1fe=>_0xd5c1fe[_0x4189b2(0x8a9)](/S([^S]{0,2000}?)S/g,(_0x2eb47d,_0x151d49)=>_0x1ba5c4[_0x4189b2(0x726)](_0x151d49)?'$'+_0x17903f(_0x151d49)+'$':_0x2eb47d);while(_0xd2800a++<0x14){const _0x1393a8=_0x58fdda(_0x4fff79);if(_0x1393a8===_0x4fff79)break;_0x4fff79=_0x1393a8;}_0x14ce19=_0x4fff79,_0x14ce19=_0x14ce19[_0x4189b2(0x29f)]('\x0a')['map'](_0xec88c5=>{const _0x1dfb67=_0x4189b2;if(!(/[,\u3001，;；]/[_0x1dfb67(0x726)](_0xec88c5)||/\s(?:และ|หรือ)\s/[_0x1dfb67(0x726)](_0xec88c5))||!_0x1ba5c4[_0x1dfb67(0x726)](_0xec88c5))return _0xec88c5;return _0x408a67(_0xec88c5)[_0x1dfb67(0x4e5)](_0x240253=>{const _0x416508=_0x1dfb67;if(/^\s(?:และ|หรือ)\s$/[_0x416508(0x726)](_0x240253)||/^[,\u3001，;；]$/[_0x416508(0x726)](_0x240253))return _0x240253;return _0x1887bb(_0x240253);})[_0x1dfb67(0x30f)]('');})[_0x4189b2(0x30f)]('\x0a'),_0x14ce19=_0x14ce19[_0x4189b2(0x29f)]('\x0a')['map'](_0x3a196e=>{const _0x16ea09=_0x4189b2,_0x1494e6=_0x3a196e[_0x16ea09(0x72a)]();if(!_0x1494e6)return _0x3a196e;const _0xa141bc=/\$|\\\(|\\\[/[_0x16ea09(0x726)](_0x1494e6),_0x2a2749=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x16ea09(0x726)](_0x1494e6);if(_0xa141bc||!_0x2a2749||_0x5dfd95(_0x1494e6))return _0x3a196e;return _0x3a196e['replace'](_0x1494e6,'$'+_0x17903f(_0x1494e6)+'$');})[_0x4189b2(0x30f)]('\x0a'),_0x14ce19=_0x14ce19[_0x4189b2(0x8a9)](/(\d+)\s*°\s*C\b/g,(_0x387a72,_0x340d23,_0x4df9dd,_0x5a3b38)=>{const _0x4813d7=_0x4189b2,_0x3eb706=_0x5a3b38[_0x4df9dd-0x1];if(_0x3eb706==='$'||_0x3eb706==='S'||_0x3eb706==='\x5c')return _0x387a72;return'$'+_0x340d23+_0x4813d7(0x4ec);})[_0x4189b2(0x8a9)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0xd26c6a,_0x3f8c9f,_0x435230,_0xb51d09)=>{const _0x4bdebc=_0x4189b2,_0x46b241=_0xb51d09[_0x435230-0x1];if(_0x46b241==='$'||_0x46b241==='S'||_0x46b241==='\x5c')return _0xd26c6a;return'$'+_0x3f8c9f+_0x4bdebc(0x4ec);})[_0x4189b2(0x8a9)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x4483b2,_0x4fbf15,_0x3a60fa,_0x4e7c89)=>{const _0x1a0b1c=_0x4e7c89[_0x3a60fa-0x1];if(_0x1a0b1c==='$'||_0x1a0b1c==='S'||_0x1a0b1c==='\x5c')return _0x4483b2;return'$'+_0x4fbf15+'^{\x5ccirc}\x5ctext{C}$';}),_0x14ce19=_0x14ce19[_0x4189b2(0x8a9)](/\$\s*\$/g,'$$'),_0x14ce19!==_0x335e74&&(_0x5dbd35(_0x409312,_0x14ce19),_0x452853++);});if(_0x452853>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x452853+_0x217a9c(0x2e9));try{if(window[_0x217a9c(0x327)]&&MathJax[_0x217a9c(0x9a3)])MathJax[_0x217a9c(0x9a3)]();window[_0x217a9c(0x618)]&&typeof renderMathInElement===_0x217a9c(0x77a)&&renderMathInElement(_0x41a593,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x2181b3){}}else showMessage(_0x217a9c(0x1b5));}async function listenForCustomMathTopics(){const _0x5884b6=_0x1df5ec,_0x1d9e9e=collection(db,'artifacts/'+appId+_0x5884b6(0x1e1));onSnapshot(_0x1d9e9e,_0x46620b=>{const _0x336917=_0x5884b6;customMathTopics=_0x46620b[_0x336917(0x994)][_0x336917(0x4e5)](_0x1a24eb=>({'id':_0x1a24eb['id'],..._0x1a24eb[_0x336917(0x5ad)]()})),renderTopicCheckboxes();},_0x1e91cf=>{const _0x207391=_0x5884b6;console[_0x207391(0x2e8)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x1e91cf);});}function handleSelectAllTopics(){const _0x3f5135=_0x1df5ec,_0xb52123=document[_0x3f5135(0x1d3)](_0x3f5135(0x807)),_0x52e739=_0xb52123['querySelectorAll'](_0x3f5135(0x669));_0x52e739[_0x3f5135(0x722)](_0x5d3add=>{const _0x4aecb8=_0x3f5135;_0x5d3add[_0x4aecb8(0x5fb)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x5c4729=_0x1df5ec,_0x4d7289=document[_0x5c4729(0x1d3)](_0x5c4729(0x807)),_0x76106e=_0x4d7289[_0x5c4729(0x882)](_0x5c4729(0x669));_0x76106e[_0x5c4729(0x722)](_0x20c87e=>{const _0x4336ab=_0x5c4729;_0x20c87e[_0x4336ab(0x5fb)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x274a43){const _0x5e3730=_0x1df5ec;if(!_0x274a43)return;try{const _0x1be9a2=doc(db,_0x5e3730(0x3d2)+appId+_0x5e3730(0x1e1),_0x274a43);await deleteDoc(_0x1be9a2),showMessage(_0x5e3730(0x27d));}catch(_0x366531){console[_0x5e3730(0x2e8)](_0x5e3730(0x208),_0x366531),showMessage(_0x5e3730(0x27c));}}async function handleAddCustomMathTopic(){const _0x3913cd=_0x1df5ec,_0xbb3362=document[_0x3913cd(0x1d3)](_0x3913cd(0x1fa)),_0x5b3127=_0xbb3362[_0x3913cd(0x750)][_0x3913cd(0x72a)]();if(!_0x5b3127){showMessage(_0x3913cd(0x43b));return;}if(!userId){showMessage(_0x3913cd(0x27f));return;}try{const _0x2b5b99=collection(db,'artifacts/'+appId+_0x3913cd(0x1e1));await addDoc(_0x2b5b99,{'name':_0x5b3127,'createdAt':serverTimestamp()}),_0xbb3362[_0x3913cd(0x750)]='',showMessage(_0x3913cd(0x78d)+_0x5b3127+_0x3913cd(0x5f8));}catch(_0x2f62f0){console[_0x3913cd(0x2e8)](_0x3913cd(0x7c9),_0x2f62f0),showMessage(_0x3913cd(0x3ef));}}async function handleUpdateOldQuizzes(){const _0x25df95=_0x1df5ec;showConfirmation(_0x25df95(0x55d),async()=>{const _0x2e15c3=_0x25df95,_0x446e93=document[_0x2e15c3(0x1d3)]('loader'),_0x65e924=document[_0x2e15c3(0x1d3)](_0x2e15c3(0x5df)),_0x53a5b5=_0x65e924[_0x2e15c3(0x5b0)];_0x446e93[_0x2e15c3(0x838)][_0x2e15c3(0x563)](_0x2e15c3(0x46b)),_0x65e924[_0x2e15c3(0x5b0)]=_0x2e15c3(0x9a6);try{const _0x45734f=collection(db,_0x2e15c3(0x3d2)+appId+_0x2e15c3(0x33d)),_0x847775=await getDocs(_0x45734f);if(_0x847775[_0x2e15c3(0x401)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x8c7136=writeBatch(db);let _0x2c746f=0x0;_0x847775['forEach'](_0x510b45=>{const _0x123142=_0x2e15c3,_0x42a756=_0x510b45[_0x123142(0x5ad)](),_0x55e0c0=_0x510b45['id'];if(_0x42a756['questions']&&_0x42a756[_0x123142(0x8f0)]['length']>0x0&&!_0x42a756[_0x123142(0x8f0)][0x0][_0x123142(0x73d)]('id')){console[_0x123142(0x31a)](_0x123142(0x8ca)+_0x55e0c0+'\x20('+_0x42a756[_0x123142(0x37f)]+')'),_0x2c746f++;const _0x24439f=_0x42a756[_0x123142(0x8f0)][_0x123142(0x4e5)]((_0x1ce6b9,_0x4055d4)=>{const _0x415a11=_0x123142;return{..._0x1ce6b9,'id':_0x1ce6b9['id']||'q_'+Date[_0x415a11(0x47a)]()+'_'+_0x55e0c0+'_'+_0x4055d4};}),_0x2d5563=doc(db,_0x123142(0x3d2)+appId+_0x123142(0x33d),_0x55e0c0);_0x8c7136[_0x123142(0x207)](_0x2d5563,{'questions':_0x24439f});}}),_0x2c746f>0x0?(_0x65e924[_0x2e15c3(0x5b0)]=_0x2e15c3(0x639)+_0x2c746f+_0x2e15c3(0x6ca),await _0x8c7136[_0x2e15c3(0x47c)](),showMessage(_0x2e15c3(0x305)+_0x2c746f+_0x2e15c3(0x6d3))):showMessage(_0x2e15c3(0x362));}catch(_0x464b81){console[_0x2e15c3(0x2e8)]('Error\x20updating\x20old\x20quizzes:',_0x464b81),showMessage(_0x2e15c3(0x794)+_0x464b81[_0x2e15c3(0x298)]);}finally{_0x446e93['classList'][_0x2e15c3(0x8a1)](_0x2e15c3(0x46b)),_0x65e924[_0x2e15c3(0x5b0)]=_0x53a5b5;}});}async function handleBulkUpdateQuizSettings(){const _0x3fe05e=_0x1df5ec,_0x250963={'shuffle':document[_0x3fe05e(0x1d3)](_0x3fe05e(0x19c))[_0x3fe05e(0x750)],'resultsDisplay':document[_0x3fe05e(0x1d3)](_0x3fe05e(0x66a))[_0x3fe05e(0x750)],'loopUntilPass':document[_0x3fe05e(0x1d3)]('bulk-loop-until-pass-checkbox')[_0x3fe05e(0x5fb)]},_0x497d9e=allQuizzesGlobal[_0x3fe05e(0x4a6)];showConfirmation(_0x3fe05e(0x714)+_0x497d9e+_0x3fe05e(0x2bb),async()=>{const _0x460b66=_0x3fe05e,_0x4c7ee5=document[_0x460b66(0x1d3)](_0x460b66(0x4cc));_0x4c7ee5['disabled']=!![],_0x4c7ee5[_0x460b66(0x9e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x371d36=writeBatch(db);allQuizzesGlobal[_0x460b66(0x722)](_0x1d9ca8=>{const _0x7b87ee=_0x460b66,_0x3dae38=doc(db,_0x7b87ee(0x3d2)+appId+_0x7b87ee(0x33d),_0x1d9ca8['id']),_0x3ca779={..._0x1d9ca8[_0x7b87ee(0x8d2)]||{},..._0x250963};_0x371d36[_0x7b87ee(0x207)](_0x3dae38,{'settings':_0x3ca779});}),await _0x371d36[_0x460b66(0x47c)](),document[_0x460b66(0x1d3)]('bulk-quiz-settings-modal')[_0x460b66(0x838)][_0x460b66(0x8a1)](_0x460b66(0x46b)),showMessage(_0x460b66(0x9e4)+_0x497d9e+_0x460b66(0x257));}catch(_0x534081){console[_0x460b66(0x2e8)](_0x460b66(0x91a),_0x534081),showMessage(_0x460b66(0x7fc));}finally{_0x4c7ee5[_0x460b66(0x31d)]=![],_0x4c7ee5[_0x460b66(0x9e2)]=_0x460b66(0x40a);}});}async function handleSaveProjectName(){const _0x5e2bbc=_0x1df5ec,_0x1bcec4=document[_0x5e2bbc(0x1d3)]('project-title'),_0x32acc7=document[_0x5e2bbc(0x1d3)](_0x5e2bbc(0x668)),_0x4974b6=_0x1bcec4['textContent'][_0x5e2bbc(0x72a)]();if(!_0x4974b6||!currentProjectId){showMessage(_0x5e2bbc(0x93e)),_0x1bcec4['textContent']=currentProjectData[_0x5e2bbc(0x958)];return;}_0x32acc7[_0x5e2bbc(0x31d)]=!![],_0x32acc7[_0x5e2bbc(0x9e2)]=_0x5e2bbc(0x28a);try{const _0x2b1cc4=doc(db,_0x5e2bbc(0x3d2)+appId+_0x5e2bbc(0x8bc),currentProjectId);await updateDoc(_0x2b1cc4,{'projectName':_0x4974b6}),currentProjectData&&(currentProjectData[_0x5e2bbc(0x958)]=_0x4974b6),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x33a4f7){console[_0x5e2bbc(0x2e8)](_0x5e2bbc(0x4b0),_0x33a4f7),showMessage(_0x5e2bbc(0x2df)),_0x1bcec4[_0x5e2bbc(0x5b0)]=currentProjectData[_0x5e2bbc(0x958)];}finally{_0x32acc7[_0x5e2bbc(0x838)][_0x5e2bbc(0x8a1)]('hidden'),_0x32acc7[_0x5e2bbc(0x31d)]=![],_0x32acc7['innerHTML']=_0x5e2bbc(0x8a3);}}async function initialize(){const _0x5b002b=_0x1df5ec;try{const _0x16fcbf=initializeApp(firebaseConfig);db=getFirestore(_0x16fcbf),auth=getAuth(_0x16fcbf),setupAuthListener(),setupEventListeners(),showView(_0x5b002b(0x98a)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x6ed177){console[_0x5b002b(0x2e8)](_0x5b002b(0x2c5),_0x6ed177),showMessage(_0x5b002b(0x5e7));}}async function handleVerifyAnswersInEditor(){const _0x1c96e8=_0x1df5ec,_0x2a32ea=document[_0x1c96e8(0x1d3)](_0x1c96e8(0x4f8));if(!_0x2a32ea)return;const _0x4d1fbe=document[_0x1c96e8(0x1d3)]('verify-answers-editor-btn');_0x4d1fbe[_0x1c96e8(0x31d)]=!![],_0x4d1fbe[_0x1c96e8(0x9e2)]=_0x1c96e8(0x542);try{const _0x31a072=_0x2a32ea['querySelectorAll'](_0x1c96e8(0x6ac)),_0x350a29=Array[_0x1c96e8(0x201)](_0x31a072)[_0x1c96e8(0x4e5)]((_0x31c5d7,_0x46030b)=>{const _0x5b1b3b=_0x1c96e8,_0x347ad2=_0x31c5d7[_0x5b1b3b(0x984)][_0x5b1b3b(0xa0c)],_0x2d413b=_0x31c5d7[_0x5b1b3b(0x870)](_0x5b1b3b(0x1a0))[_0x5b1b3b(0x750)];let _0x885fbc=null,_0x4468d9='';switch(_0x347ad2){case _0x5b1b3b(0x9ab):const _0x3a9e07=_0x31c5d7[_0x5b1b3b(0x882)]('input[type=\x22text\x22]');_0x885fbc=Array[_0x5b1b3b(0x201)](_0x3a9e07)[_0x5b1b3b(0x4e5)](_0x1be5c6=>_0x1be5c6['value']);const _0x2dc58b=_0x31c5d7[_0x5b1b3b(0x870)](_0x5b1b3b(0x997));_0x2dc58b&&(_0x4468d9=_0x885fbc[parseInt(_0x2dc58b[_0x5b1b3b(0x750)])]);break;case _0x5b1b3b(0x44f):_0x4468d9=_0x31c5d7['querySelector'](_0x5b1b3b(0x94b))[_0x5b1b3b(0x750)];break;case'true_false':const _0x280524=_0x31c5d7['querySelector']('input[type=\x22radio\x22]:checked');_0x4468d9=_0x280524?_0x280524['value']:'';break;case'matching_item':_0x4468d9=_0x31c5d7[_0x5b1b3b(0x870)](_0x5b1b3b(0x810))[_0x5b1b3b(0x750)];break;}return{'question':_0x2d413b,'options':_0x885fbc,'proposedAnswer':_0x4468d9};}),_0x1c29cd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x1c96e8(0x5c7)](_0x350a29)+_0x1c96e8(0x39f),_0x1549e4={'type':'ARRAY','items':{'type':_0x1c96e8(0x1d9),'properties':{'questionIndex':{'type':_0x1c96e8(0x625)},'isCorrect':{'type':_0x1c96e8(0x1de)},'justification':{'type':_0x1c96e8(0x951)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x1c96e8(0x2eb),_0x1c96e8(0x448),_0x1c96e8(0x483)]}},_0xeefdc=await callAnalysisApi(_0x1c29cd,{'type':'OBJECT','properties':{'result':_0x1549e4},'required':[_0x1c96e8(0x3cf)]});displayVerificationResultsInEditor(_0xeefdc[_0x1c96e8(0x3cf)]);}catch(_0x2baca9){console[_0x1c96e8(0x2e8)](_0x1c96e8(0x42e),_0x2baca9),showMessage(_0x1c96e8(0x34f));}finally{_0x4d1fbe[_0x1c96e8(0x31d)]=![],_0x4d1fbe[_0x1c96e8(0x9e2)]=_0x1c96e8(0x764);}}function displayVerificationResultsInEditor(_0x217af9){const _0x53c0fb=_0x1df5ec;_0x217af9[_0x53c0fb(0x722)](_0x3414ae=>{const _0xc3e7da=_0x53c0fb,_0x585a0b=document[_0xc3e7da(0x870)](_0xc3e7da(0x8b0)+_0x3414ae['questionIndex']+'\x22]');if(!_0x585a0b)return;const _0x3415f2=_0x585a0b[_0xc3e7da(0x870)](_0xc3e7da(0x24c));if(_0x3415f2)_0x3415f2[_0xc3e7da(0x563)]();let _0xa56e02='';if(_0x3414ae[_0xc3e7da(0x448)])_0xa56e02='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x39463c=_0x3414ae[_0xc3e7da(0x599)]?_0xc3e7da(0x689):'';_0xa56e02=_0xc3e7da(0x5b3)+_0x39463c+_0xc3e7da(0x92c)+_0x3414ae['justification']+_0xc3e7da(0x87c)+(_0x3414ae[_0xc3e7da(0x599)]?_0xc3e7da(0x654)+_0x3414ae[_0xc3e7da(0x599)]+_0xc3e7da(0x4a3):'')+_0xc3e7da(0x5ee);}_0x585a0b['insertAdjacentHTML'](_0xc3e7da(0x68f),_0xa56e02);if(!_0x3414ae[_0xc3e7da(0x448)]&&_0x3414ae[_0xc3e7da(0x599)]){const _0x57b0b5=_0x585a0b[_0xc3e7da(0x984)][_0xc3e7da(0xa0c)],_0x551cd6=_0x183ee3=>{const _0xfa44ec=_0xc3e7da;if(!_0x183ee3)return;_0x183ee3[_0xfa44ec(0x838)][_0xfa44ec(0x8a1)](_0xfa44ec(0x69f),_0xfa44ec(0x384),_0xfa44ec(0x915)),setTimeout(()=>{const _0x2889e7=_0xfa44ec;_0x183ee3['classList'][_0x2889e7(0x563)](_0x2889e7(0x69f));},0x9c4);};if(_0x57b0b5==='multiple_choice'){const _0x2c9bbc=Array[_0xc3e7da(0x201)](_0x585a0b['querySelectorAll']('input[type=\x22text\x22]')),_0x1b6d42=_0x2c9bbc[_0xc3e7da(0x752)](_0xf9122d=>_0xf9122d[_0xc3e7da(0x750)][_0xc3e7da(0x72a)]()[_0xc3e7da(0x852)]()===_0x3414ae['suggestedAnswer'][_0xc3e7da(0x72a)]()[_0xc3e7da(0x852)]());if(_0x1b6d42!==-0x1){const _0x557c8d=_0x585a0b['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x1b6d42+'\x22]');_0x557c8d&&(_0x557c8d[_0xc3e7da(0x5fb)]=!![],_0x551cd6(_0x557c8d[_0xc3e7da(0x7da)](_0xc3e7da(0x234))));}}else{if(_0x57b0b5===_0xc3e7da(0x44f)||_0x57b0b5===_0xc3e7da(0x2b3)){const _0x232d86=_0x585a0b[_0xc3e7da(0x870)](_0xc3e7da(0x7cf));_0x232d86&&(_0x232d86[_0xc3e7da(0x750)]=_0x3414ae['suggestedAnswer'],_0x551cd6(_0x232d86));}else{if(_0x57b0b5===_0xc3e7da(0x3fc)){const _0x29bb04=_0x3414ae[_0xc3e7da(0x599)]['trim']()[_0xc3e7da(0x852)](),_0x115c26=_0x585a0b['querySelector'](_0xc3e7da(0x350)+_0x29bb04+'\x22]');_0x115c26&&(_0x115c26['checked']=!![],_0x551cd6(_0x115c26['closest']('div')));}}}}}),showMessage(_0x53c0fb(0x5cd));}async function handleVerifyAnswers(){const _0x110519=_0x1df5ec;if(!currentQuizData||!currentQuizData[_0x110519(0x8f0)]){showMessage(_0x110519(0x344));return;}const _0x4a2182=document['getElementById'](_0x110519(0x1df));_0x4a2182[_0x110519(0x31d)]=!![],_0x4a2182['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x443f1c=currentQuizData[_0x110519(0x8f0)][_0x110519(0x4e5)]((_0x2eb6d9,_0x181fd2)=>{const _0x4c59a8=_0x110519;let _0x5a22b2='';const _0x5b2146=_0x2eb6d9['questionType']||currentQuizData[_0x4c59a8(0x3fd)];switch(_0x5b2146){case _0x4c59a8(0x9ab):_0x5a22b2=_0x2eb6d9[_0x4c59a8(0x611)][_0x2eb6d9['correctAnswerIndex']];break;case _0x4c59a8(0x44f):_0x5a22b2=_0x2eb6d9[_0x4c59a8(0x585)];break;case _0x4c59a8(0x3fc):_0x5a22b2=_0x2eb6d9[_0x4c59a8(0x232)]['toString']();break;case'matching_item':_0x5a22b2=_0x2eb6d9['correctResponse'];break;}return{'question':_0x2eb6d9[_0x4c59a8(0x41d)]||_0x2eb6d9['questionText'],'options':_0x2eb6d9[_0x4c59a8(0x611)]||null,'proposedAnswer':_0x5a22b2};}),_0x5028ef=_0x110519(0x844)+JSON[_0x110519(0x5c7)](_0x443f1c)+_0x110519(0x26e),_0x2d6dae={'type':_0x110519(0x989),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x110519(0x625)},'isCorrect':{'type':_0x110519(0x1de)},'justification':{'type':_0x110519(0x951)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex','isCorrect','justification']}},_0x489e77=await callAnalysisApi(_0x5028ef,{'type':_0x110519(0x1d9),'properties':{'result':_0x2d6dae},'required':['result']});displayVerificationResults(_0x489e77[_0x110519(0x3cf)]);}catch(_0x2a7eed){console[_0x110519(0x2e8)](_0x110519(0x325),_0x2a7eed),showMessage(_0x110519(0x34f));}finally{_0x4a2182[_0x110519(0x31d)]=![],_0x4a2182['innerHTML']=_0x110519(0x601);}}function displayVerificationResults(_0x3d8ba4){const _0xdecaa9=_0x1df5ec;_0x3d8ba4[_0xdecaa9(0x722)](_0x1935f8=>{const _0x4ad08b=_0xdecaa9,_0x51a0fc=document['querySelector'](_0x4ad08b(0x755)+_0x1935f8[_0x4ad08b(0x2eb)]+'\x22]');if(_0x51a0fc){const _0x397ac1=_0x51a0fc[_0x4ad08b(0x870)](_0x4ad08b(0x888));if(_0x397ac1)_0x397ac1[_0x4ad08b(0x563)]();let _0x37bf57='';_0x1935f8[_0x4ad08b(0x448)]?_0x37bf57=_0x4ad08b(0x4bb):_0x37bf57=_0x4ad08b(0x3ab)+_0x1935f8[_0x4ad08b(0x483)]+_0x4ad08b(0x744)+(_0x1935f8[_0x4ad08b(0x599)]?_0x4ad08b(0x654)+_0x1935f8['suggestedAnswer']+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x51a0fc[_0x4ad08b(0xa01)](_0x4ad08b(0x68f),_0x37bf57);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x343092,_0x25f41e){const _0x51bd87=_0x1df5ec,_0x7722f=String(_0x343092)[_0x51bd87(0x8a9)](',','.')[_0x51bd87(0x8a9)](/[^\d.-]/g,'')[_0x51bd87(0x72a)](),_0x51a475=String(_0x25f41e)[_0x51bd87(0x8a9)](',','.')['replace'](/[^\d.-]/g,'')[_0x51bd87(0x72a)]();if(_0x7722f===''||_0x51a475==='')return![];const _0x1952af=parseFloat(_0x7722f),_0x2a6cff=parseFloat(_0x51a475);if(isNaN(_0x1952af)||isNaN(_0x2a6cff))return![];return Math[_0x51bd87(0x339)](_0x1952af-_0x2a6cff)<0.001;}async function gradeShortAnswer(_0x4a2157,_0x5bf97e){const _0x2c220e=_0x1df5ec,_0x53636c=_0x5bf97e[_0x2c220e(0x585)];if(String(_0x4a2157)[_0x2c220e(0x72a)]()['toLowerCase']()===String(_0x53636c)['trim']()[_0x2c220e(0x852)]())return!![];if(compareNumericalAnswers(_0x4a2157,_0x53636c))return!![];return console[_0x2c220e(0x31a)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x4a2157,_0x53636c);}async function revealAnswerForAdmin(_0x2a2d61,_0x163833){const _0x3f4917=_0x1df5ec,_0x267db7=doc(db,_0x3f4917(0x3d2)+appId+_0x3f4917(0x65d),currentLiveGameId);await updateDoc(_0x267db7,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x4568f0){const _0x441ae1=_0x1df5ec,_0x406ca9=Object[_0x441ae1(0x56c)](_0x4568f0[_0x441ae1(0x3eb)]||{})[_0x441ae1(0x93a)](_0x470e1d=>_0x470e1d['status']===_0x441ae1(0x22b));_0x406ca9['sort']((_0x419bea,_0x22f387)=>_0x22f387['score']-_0x419bea[_0x441ae1(0x74f)]);const _0x3e0c9d=_0x406ca9[_0x441ae1(0x199)](0x0,0x5),_0x120b60=_0x441ae1(0x315)+_0x3e0c9d['map']((_0x7a7a13,_0x27e7f5)=>_0x441ae1(0x89e)+(_0x27e7f5+0x1)+'.\x20'+(_0x7a7a13[_0x441ae1(0x5a4)]||Object[_0x441ae1(0x8bf)](_0x4568f0[_0x441ae1(0x3eb)])[_0x441ae1(0x500)](_0x3eb25f=>_0x4568f0[_0x441ae1(0x3eb)][_0x3eb25f]===_0x7a7a13))+_0x441ae1(0x799)+_0x7a7a13['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x441ae1(0x30f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4568f0['currentQuestionIndex']+0x1===currentQuizData[_0x441ae1(0x8f0)][_0x441ae1(0x4a6)]?_0x441ae1(0x4c7):'ข้อต่อไป')+_0x441ae1(0x732);liveGameView[_0x441ae1(0x9e2)]=_0x120b60,document['getElementById'](_0x441ae1(0x5fa))[_0x441ae1(0x2ca)](_0x441ae1(0x3c6),async()=>{const _0x946da5=_0x441ae1,_0x1f6834=doc(db,_0x946da5(0x3d2)+appId+_0x946da5(0x65d),currentLiveGameId),_0x9eb62a=_0x4568f0[_0x946da5(0x473)]+0x1;if(_0x9eb62a<currentQuizData[_0x946da5(0x8f0)][_0x946da5(0x4a6)]){const _0x20d43b={'currentQuestionIndex':_0x9eb62a,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x946da5(0x9c3)};Object[_0x946da5(0x8bf)](_0x4568f0[_0x946da5(0x3eb)])[_0x946da5(0x722)](_0x295090=>{const _0x326879=_0x946da5;_0x20d43b[_0x326879(0x5a8)+_0x295090+_0x326879(0x4fb)]=![];}),await updateDoc(_0x1f6834,_0x20d43b);}else await updateDoc(_0x1f6834,{'status':_0x946da5(0x70a)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x5eb42e=>{const _0x469300=_0x2d6c;if(_0x5eb42e){userId=_0x5eb42e[_0x469300(0x1af)],userIdDisplay['textContent']=userId;const _0x392f41=await loadUserPreferences();_0x392f41[_0x469300(0x8b2)]&&(document[_0x469300(0x1d3)](_0x469300(0x8bb))[_0x469300(0x750)]=_0x392f41[_0x469300(0x8b2)]);globalDashboardSettings[_0x469300(0x33c)]=_0x392f41[_0x469300(0x33c)]||_0x469300(0x2c3);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x38734c,_0x12acfb){const _0x433cb9=_0x1df5ec;if(!userId)return;try{const _0x43e25e=doc(db,'artifacts/'+appId+_0x433cb9(0x940)+userId+_0x433cb9(0x566)),_0x366b50={};_0x366b50[_0x38734c]=_0x12acfb,await setDoc(_0x43e25e,_0x366b50,{'merge':!![]});}catch(_0x2af0d5){console[_0x433cb9(0x2e8)](_0x433cb9(0x4e3),_0x2af0d5);}}async function loadUserPreferences(){const _0x1392ba=_0x1df5ec;if(!userId)return{};try{const _0x136611=doc(db,_0x1392ba(0x3d2)+appId+_0x1392ba(0x940)+userId+_0x1392ba(0x566)),_0x28f50e=await getDoc(_0x136611);if(_0x28f50e[_0x1392ba(0x63b)]())return _0x28f50e[_0x1392ba(0x5ad)]();return{};}catch(_0xb5f612){return console[_0x1392ba(0x2e8)](_0x1392ba(0x2da),_0xb5f612),{};}}function showPodiumView(_0x4c3a37){const _0x35f849=_0x1df5ec,_0x1f44c9=Object['entries'](_0x4c3a37)[_0x35f849(0x4e5)](([_0x33a02e,_0xda9eaa])=>({'name':_0x33a02e,'score':_0xda9eaa['score']||0x0,'badges':_0xda9eaa[_0x35f849(0x7bd)]||[]}));_0x1f44c9['sort']((_0x1cc977,_0x1f8ad2)=>{const _0x524466=_0x35f849,_0x27939e=_0x1f8ad2[_0x524466(0x74f)]-_0x1cc977[_0x524466(0x74f)];if(_0x27939e!==0x0)return _0x27939e;return(_0x1f8ad2[_0x524466(0x7bd)][_0x524466(0x4a6)]||0x0)-(_0x1cc977[_0x524466(0x7bd)][_0x524466(0x4a6)]||0x0);});const _0x336328=_0x36add3=>{const _0x206b5e=_0x35f849;if(!_0x36add3||_0x36add3[_0x206b5e(0x4a6)]===0x0)return'';const _0x1d5e31={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x206b5e(0x198)+_0x36add3[_0x206b5e(0x4e5)](_0x43f982=>_0x1d5e31[_0x43f982]||'')[_0x206b5e(0x30f)]('')+_0x206b5e(0x587);},_0x2c127e=_0x1f44c9[_0x35f849(0x199)](0x3),_0x4e2285=_0x2c127e['length']>0x0?_0x35f849(0x2fd)+_0x2c127e['map']((_0x26032b,_0x1ffb03)=>_0x35f849(0x3a3)+(_0x1ffb03+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x26032b[_0x35f849(0x5a4)]+_0x35f849(0x423)+_0x26032b[_0x35f849(0x74f)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x35f849(0x30f)]('')+_0x35f849(0x933):'',_0x2f1125=_0x35f849(0x23e)+(_0x1f44c9[0x1]?_0x35f849(0x76d)+_0x1f44c9[0x1][_0x35f849(0x5a4)]+_0x35f849(0x87c)+_0x336328(_0x1f44c9[0x1][_0x35f849(0x7bd)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x1f44c9[0x1]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1f44c9[0x0]?_0x35f849(0x427)+_0x1f44c9[0x0][_0x35f849(0x5a4)]+_0x35f849(0x87c)+_0x336328(_0x1f44c9[0x0][_0x35f849(0x7bd)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x1f44c9[0x0]['score']+_0x35f849(0x78a):'<div\x20class=\x22flex-1\x22></div>')+_0x35f849(0x37e)+(_0x1f44c9[0x2]?_0x35f849(0x264)+_0x1f44c9[0x2][_0x35f849(0x5a4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x336328(_0x1f44c9[0x2]['badges'])+_0x35f849(0x8d3)+_0x1f44c9[0x2][_0x35f849(0x74f)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x35f849(0x1a6))+_0x35f849(0x571)+_0x4e2285+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x35f849(0x863)?_0x35f849(0x982):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x35f849(0x83b);liveGameView[_0x35f849(0x9e2)]=_0x2f1125,currentMode===_0x35f849(0x863)&&document[_0x35f849(0x1d3)](_0x35f849(0x9c0))['addEventListener']('click',async()=>{const _0x529ab1=_0x35f849,_0x1799e9=doc(db,_0x529ab1(0x3d2)+appId+_0x529ab1(0x65d),currentLiveGameId);await deleteDoc(_0x1799e9),showView(_0x529ab1(0x98f));});}async function handleStartLiveRace(_0x8864e){const _0x559440=_0x1df5ec;let _0x12f7d4=allQuizzes[_0x559440(0x500)](_0x5d4213=>_0x5d4213['id']===_0x8864e);if(!_0x12f7d4){const _0x1de878=doc(db,_0x559440(0x3d2)+appId+_0x559440(0x33d),_0x8864e),_0x95508=await getDoc(_0x1de878);if(!_0x95508[_0x559440(0x63b)]()){showMessage(_0x559440(0x7df));return;}_0x12f7d4={'id':_0x95508['id'],..._0x95508['data']()};}const _0x33f890=getShuffledQuiz(_0x12f7d4);currentQuizData=_0x33f890;const _0x25c0f8=_0x12f7d4['projectId']||currentProjectId||null,_0x2877d1=Math[_0x559440(0x5f0)](0xa+Math[_0x559440(0x998)]()*0x5a)[_0x559440(0x316)]();currentLiveGamePin=_0x2877d1;try{const _0x488840=await addDoc(collection(db,_0x559440(0x3d2)+appId+_0x559440(0x65d)),{'quizId':_0x8864e,'projectId':_0x25c0f8,'status':_0x559440(0x927),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2877d1,'createdAt':serverTimestamp(),'shuffledQuiz':_0x33f890});currentLiveGameId=_0x488840['id'],showAdminLobbyView(_0x2877d1,_0x12f7d4[_0x559440(0x37f)]),listenForLiveGameUpdates();}catch(_0x9cea9c){console[_0x559440(0x2e8)](_0x559440(0x294),_0x9cea9c),showMessage(_0x559440(0x7a1));}}async function handleShowStudentRankings(){const _0x2b6593=_0x1df5ec,_0x499bfe=document[_0x2b6593(0x870)]('#student-quiz-leaderboard-content\x20thead');_0x499bfe&&(_0x499bfe[_0x2b6593(0x9e2)]=_0x2b6593(0x970));const _0x74491f=document[_0x2b6593(0x870)](_0x2b6593(0x76e));_0x74491f&&(_0x74491f['innerHTML']=_0x2b6593(0x274));const _0x4bd2be=document[_0x2b6593(0x1d3)](_0x2b6593(0x916));_0x4bd2be[_0x2b6593(0x838)][_0x2b6593(0x563)](_0x2b6593(0x46b)),document[_0x2b6593(0x1d3)]('close-student-rankings-btn')[_0x2b6593(0x4d5)]=()=>_0x4bd2be[_0x2b6593(0x838)][_0x2b6593(0x8a1)](_0x2b6593(0x46b));const _0xdf45db=document['getElementById']('student-quiz-leaderboard-tab'),_0x4bed0f=document['getElementById'](_0x2b6593(0x8c7)),_0x518e9b=document['getElementById'](_0x2b6593(0x9b2)),_0x3aadd1=document['getElementById'](_0x2b6593(0x77d));_0xdf45db['onclick']=()=>{const _0x421940=_0x2b6593;_0xdf45db[_0x421940(0x838)][_0x421940(0x8a1)](_0x421940(0x22b)),_0x4bed0f[_0x421940(0x838)][_0x421940(0x563)](_0x421940(0x22b)),_0x518e9b[_0x421940(0x838)][_0x421940(0x563)]('hidden'),_0x3aadd1[_0x421940(0x838)][_0x421940(0x8a1)](_0x421940(0x46b));},_0x4bed0f[_0x2b6593(0x4d5)]=()=>{const _0x2e59b9=_0x2b6593;_0x4bed0f[_0x2e59b9(0x838)]['add'](_0x2e59b9(0x22b)),_0xdf45db[_0x2e59b9(0x838)][_0x2e59b9(0x563)](_0x2e59b9(0x22b)),_0x3aadd1[_0x2e59b9(0x838)][_0x2e59b9(0x563)](_0x2e59b9(0x46b)),_0x518e9b[_0x2e59b9(0x838)][_0x2e59b9(0x8a1)](_0x2e59b9(0x46b));};try{const _0x45119c=collection(db,_0x2b6593(0x3d2)+appId+_0x2b6593(0x86b)+currentQuizData['id']+'/submissions'),_0x14fc23=await getDocs(_0x45119c),_0x189425=_0x14fc23[_0x2b6593(0x994)]['map'](_0x5802a9=>_0x5802a9[_0x2b6593(0x5ad)]());renderQuizLeaderboard(_0x189425,currentQuizData,_0x2b6593(0x9cb));const _0xdd8037=collection(db,_0x2b6593(0x3d2)+appId+'/public/data/projects/'+currentQuizData['projectId']+'/studentProfiles'),_0x27dbdb=await getDocs(_0xdd8037),_0x556ddf=_0x27dbdb[_0x2b6593(0x994)][_0x2b6593(0x4e5)](_0x288389=>_0x288389[_0x2b6593(0x5ad)]());renderLeaderboard(_0x556ddf,_0x2b6593(0x705));}catch(_0x5c6ef6){console[_0x2b6593(0x2e8)](_0x2b6593(0x25f),_0x5c6ef6),showMessage(_0x2b6593(0x49c));}}async function handleSaveToBank(_0x536c6a){const _0x717ad9=_0x1df5ec,_0x2ad2c2=_0x536c6a['currentTarget'],_0x32d9b7=_0x2ad2c2[_0x717ad9(0x984)][_0x717ad9(0x988)],_0x2b41e1=currentQuizData['questions'][_0x32d9b7];if(!userId){showMessage(_0x717ad9(0x5c4));return;}try{const _0x376928={..._0x2b41e1,'originalTopic':currentQuizData[_0x717ad9(0x37f)],'savedAt':serverTimestamp()},_0x214021=collection(db,_0x717ad9(0x3d2)+appId+'/users/'+userId+_0x717ad9(0x98d));await addDoc(_0x214021,_0x376928),showMessage(_0x717ad9(0x379)),_0x2ad2c2[_0x717ad9(0x838)][_0x717ad9(0x563)](_0x717ad9(0x890)),_0x2ad2c2[_0x717ad9(0x838)]['add']('text-green-600'),_0x2ad2c2[_0x717ad9(0x31d)]=!![];}catch(_0x121585){console[_0x717ad9(0x2e8)](_0x717ad9(0x34e),_0x121585),showMessage(_0x717ad9(0x2df));}}function listenForStarredQuizzes(){const _0x11ccf1=_0x1df5ec;if(!userId)return;const _0x1181b3=collection(db,'artifacts/'+appId+_0x11ccf1(0x33d)),_0x2f43c1=query(_0x1181b3,where(_0x11ccf1(0x60d),'==',!![]));onSnapshot(_0x2f43c1,_0x4a46e0=>{const _0x2dd9e1=_0x11ccf1;starredQuizzes=_0x4a46e0[_0x2dd9e1(0x994)][_0x2dd9e1(0x4e5)](_0x420874=>({'id':_0x420874['id'],..._0x420874[_0x2dd9e1(0x5ad)]()})),currentProjectId===_0x2dd9e1(0x479)?renderQuizzes():renderProjects();},_0x238ff0=>{const _0x375706=_0x11ccf1;console[_0x375706(0x2e8)](_0x375706(0x9d9),_0x238ff0);});}function exportQuizAsWorksheetPDF(){const _0x5ee8ae=_0x1df5ec;if(!currentQuizData||!currentQuizData[_0x5ee8ae(0x8f0)]){showMessage(_0x5ee8ae(0x33e));return;}const _0x44b372=currentQuizData,_0x1abdc5=window[_0x5ee8ae(0x846)]('',_0x5ee8ae(0x5a2)),_0x130292=_0x370ed1=>String[_0x5ee8ae(0x2fc)](0x41+_0x370ed1),_0x2c4a08=_0x5ee8ae(0x5de)+_0x44b372[_0x5ee8ae(0x37f)]+_0x5ee8ae(0x99c)+_0x44b372['topic']+_0x5ee8ae(0x6d1)+_0x44b372['questions']['map']((_0x321f16,_0x2aca3c)=>{const _0x2ebc74=_0x5ee8ae;let _0x456a07='';const _0x3495df=_0x321f16[_0x2ebc74(0x24e)]||_0x44b372['quizType'];switch(_0x3495df){case _0x2ebc74(0x9ab):case _0x2ebc74(0x20f):_0x456a07=_0x2ebc74(0x94e)+_0x321f16[_0x2ebc74(0x611)][_0x2ebc74(0x4e5)]((_0x474445,_0xb24bf7)=>_0x2ebc74(0x675)+_0x130292(_0xb24bf7)+'.\x20'+_0x474445+_0x2ebc74(0x973))['join'](_0x2ebc74(0x1ee))+_0x2ebc74(0x587);break;case _0x2ebc74(0x3fc):_0x456a07='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x456a07=_0x2ebc74(0x334);break;}return _0x2ebc74(0x9dc)+(_0x2aca3c+0x1)+_0x2ebc74(0x508)+(_0x321f16[_0x2ebc74(0x41d)]||_0x321f16['questionText'])+_0x2ebc74(0x651)+(_0x321f16[_0x2ebc74(0x317)]?_0x2ebc74(0x45a)+_0x321f16[_0x2ebc74(0x317)]+_0x2ebc74(0x587):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x456a07+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5ee8ae(0x30f)]('')+_0x5ee8ae(0x5a7);_0x1abdc5[_0x5ee8ae(0x831)][_0x5ee8ae(0x823)](_0x2c4a08),_0x1abdc5['document'][_0x5ee8ae(0x8ed)](),_0x1abdc5['onload']=function(){setTimeout(()=>{const _0x4d6e49=_0x2d6c;_0x1abdc5[_0x4d6e49(0x202)]();},0x5dc);};}function _0x341b(){const _0x3f4c92=['text-yellow-800','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','setAttribute','button[type=\x22submit\x22]',';\x22\x20data-id=\x22','document','open-quiz-bank-btn','data:application/vnd.ms-word;charset=utf-8,','clientX','svg','text','ฟังก์ชันยกกำลัง','classList','pinned-items','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสี่เหลี่ยมและสมบัติ','cancel-export-pdf-btn','destination-out','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','#per-question-options\x20textarea','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','bg-red-500','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','Authentication\x20failed:','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','บันทึกการแก้ไข','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-50','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','แก้ไขข้อนี้','.save-to-bank-btn','comparison-individual-tab','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','removeEventListener','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','neq','ยังไม่เต็มนะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','ตรีโกณมิติ','date_desc','behavior-log','getBBox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','submittedAt','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','admin','Error\x20adding\x20students:','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','bestScore','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','/public/data/quizzes/','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','backgroundColor','querySelector','save','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกแบบทดสอบสำเร็จ','confirm-delete-btn','drill-feedback','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</p><p><strong>เฉลย:</strong>\x20','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','Error\x20deleting\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','ไม่ใช่','<div\x20class=\x22loader\x20mx-auto\x22></div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','show_results_and_answers','querySelectorAll','student-quiz-topic','</h3>','presentation-explanation','ค่าเฉลี่ย','starred-project','.verification-result','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','timer-mode-select','s;\x22\x20title=\x22','</div><div\x20class=\x22space-y-2\x22>','blueprint-upload-input','circle','text-purple-600','actions-container-','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','restore','scrollIntoView','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shuffle','rename-quiz-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-100\x20font-bold','<tr>','modal-shuffle-select','scale','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','หยุดระบบจับเวลาหรี่หน้าจอ','เกิดข้อผิดพลาดในการเข้าร่วมเกม','add','text-red-300\x20hover:text-red-100','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','create-project-modal','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','live-short-answer-input','replace','promise','text-red-600','ไม่มีผู้ตอบตัวเลือกนี้','[contenteditable=\x22true\x22]','start-live-race-generated-btn','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','.question-editor-item[data-q-index=\x22','confirm-quiz-settings-btn','projectSortOrder','includes','scheduled_pending','Error\x20generating\x20from\x20blueprint:','</tbody></table></div>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','false','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','project-sort-select','/public/data/projects','%</span>','ส่วนเบี่ยงเบนมาตรฐาน','keys','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการปักหมุด','export-excel-btn','quiz-results-view','.quiz-bank-try-btn','\x5cpm','student-project-leaderboard-tab','retake-quiz-loop-btn','flex','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','.doc','correct','.lastAnswerValue','.lastAnswerIndex','คำถามถัดไป','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','questionId','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','กรุณาใส่ชื่อใหม่','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','name_asc','join-live-game-btn','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','desc','th-TH','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','screen','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','ตั้งเวลา\x20(เปิด)','\x5cfrac','#E0E7FF','.topic-name-input','close','\x22\x20ซึ่งมีทั้งหมด\x20','offsetWidth','questions','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','rgba(79,\x2070,\x20229,\x200.8)','จำนวนเต็มบวก','toggle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','พื้นที่สี่เหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะทางและจุดกึ่งกลาง','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.lastAnswerCorrect','.summary-bar-item','isArray','ดอทโปรดักต์\x20(dot)','show_results_only','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','$1_{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','generate-from-topic-btn','file-input-area','ฟังก์ชันแบบชิ้นส่วน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','interesting-stats-wrapper','scratchpad-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ส่งคำตอบ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x5csqrt{$1}','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','specialist','duration-300','student-rankings-modal','editable-text-','px,\x20','source-over','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','แก้ระบบสมการด้วยเมทริกซ์','start-quiz-btn','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','force-math-checkbox','กำลังสร้างรูปภาพ...','<svg','show-in-student-dashboard-checkbox','#view-rankings-btn','/public/data/practiceBank','mouseup','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างใหม่','keydown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','latestSubmittedAt','answer','per-question-timer-container','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การแปลงรูปอัตลักษณ์','2765770tuNdgH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game','#E5E7EB','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','Error\x20deleting\x20all\x20students:','bg-green-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','filter','.pair-quiz-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','download','ชื่อโปรเจคห้ามว่าง','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สมการตรีโกณมิติ','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','กรุณาใส่ชื่อนักเรียน','file-topic-input','results-table-container','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','#F59E0B','\x5ccdot','.ideal-answer-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','firstScore','attemptNumber','.compare-results-btn','AI\x20grading\x20failed:','check-answer-btn','projectName','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','medium','thead','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ปริมาตร/ความจุและการแปลง','transform','ฐานนิยม','loader','confirm-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','Original\x20quiz\x20not\x20found','back-to-home-manual-release','เส้นจำนวน','ผิด','content','dataIndex','QUICK_THINKER','.status','.quiz-bank-move-btn','confirmation-modal','pointercancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','wheel','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','project-detail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','COMEBACK_KING','moveTo','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','Error\x20comparing\x20results:','สลับไปโหมดนักเรียน','quiz-generation-area','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-container','dataset','fa-dumbbell\x20text-gray-700','cancel-move-quiz-btn','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','index','ARRAY','student','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหาร','/questionBank','อนุพันธ์:\x20กฎพื้นฐาน','admin-dashboard','toDate','ตรวจพบการออกจากหน้าจอครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x5csum','docs','11183590ovxcrT','_opt1\x22>ไม่ใช่</label></div>','input[type=\x22radio\x22]:checked','random','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bank-input-area','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','แบบทดสอบนี้หมดเวลาแล้ว','modal-timer-duration-input','การลบทศนิยม','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','เส้นตรง:\x20ขนาน/ตั้งฉาก','typesetPromise','(คัดลอก)\x20','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','กำลังสแกนหาแบบทดสอบเก่า...','ร้อยละประยุกต์','perfect_score_status','#F3E8FF','.choice-text','multiple_choice','อัตราและอัตราหน่วย','\x20ชุด)','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-live-game-count','behaviorLog','student-quiz-leaderboard-content','.ql-editor','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x20\x20\x20-\x20','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการเปลี่ยนสี','confirm-global-live-btn','back-to-student-initial-btn','text-green-700','Error\x20loading\x20quiz\x20for\x20student:','generate-from-file-btn','close-game-final-btn','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ลบโปรเจคสำเร็จแล้ว','answering','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','fa-shield-alt\x20text-gray-600','link-url-input','text-green-700\x20bg-green-100','การบวกเศษส่วน','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','student-quiz-leaderboard-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','blueprint-tab','5bifHsj','true','project-quizzes-list','modal-message','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','Failed\x20to\x20parse\x20JSON\x20from\x20AI','touchmove','ศูนย์','add-student-btn','ลบแบบทดสอบสำเร็จแล้ว','results-tab','Error\x20listening\x20for\x20starred\x20quizzes:','gamePin','pre-test-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','274192258111','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','change','generate-worksheet-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','innerHTML','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','results-display-select','ระบบสมการเชิงเส้นสองตัวแปร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','.edit-quiz-btn','fullscreenchange','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','close-comparison-modal-footer-btn','\x22\x20data-topic=\x22','pen-tool-btn','ทฤษฎีบทพื้นฐานของแคลคูลัส','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','none','ส่วนเบี่ยงเบนเฉลี่ย','ระบบเลขและค่าประจำหลัก','พิสัย','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','removeChild','setFont','\x20หัวข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','comparison-overall-content','\x20/\x20','target','pop','insertAdjacentHTML','ผลรวมอนุกรม\x20(Σ)','block','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-topic-input','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','qType','$1\x5ctext{','getBoundingClientRect','(^|[^\x5c\x5c])\x5cb','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','grabbing','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','generated-quiz-actions','leaderboard','ปรับเพิ่ม/ลดเป็นร้อยละ','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','quiz-form','bulk-shuffle-select','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','getContext','<tr><td\x20colspan=\x22','Enter','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22><p\x20class=\x22font-semibold\x22>','<div\x20class=\x22flex-1\x22></div>','quiz-results-table-body','(ตัวเลือกผิดพลาด)','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','pre-test','-tab-content','num-choices-container','Error\x20toggling\x20star\x20status:','องค์ประกอบของฟังก์ชัน','uid','fas\x20fa-bookmark','ฟังก์ชันสัมพัทธ์\x20(rational)','API\x20call\x20failed','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','สรุปผลการวิเคราะห์:\x5cn','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','รีเซ็ตลำดับโปรเจคแล้ว','close-lesson-plan-modal-btn','shuffleSetting','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','แบบปรนัย\x204\x20ตัวเลือก','num-questions','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','กรุณาเลือกคำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','temp-loader-results','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#e21b3c','Failed\x20to\x20get\x20hint:','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','insertBefore','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','.project-card-container:not(.opacity-50)','preTestId','-\x20ข้อ\x20','lesson-plan-title','bg-red-100\x20text-red-800','get','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','input[type=\x22checkbox\x22]:checked','bg-green-200\x20text-green-800','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OBJECT','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','overline','answeredCurrentQuestion','ref','BOOLEAN','verify-answers-btn','อัปเดตสถานะสำเร็จ','/public/data/customMathTopics','beginPath','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ai-quiz-app-aefee.firebaseapp.com','mouseleave','currentTarget','back-to-dashboard-btn','ดีมาก','การนับ','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','contentEditable','lineCap','mousedown','<br>','behavior-log-tab-btn','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','substring','</div>\x0a</div>\x0a','#math-topics-checkbox-container\x20input:checked','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sort','category','math-topic-search-input','standard','custom-math-topic-input','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','$1\x5c%','max','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','from','print','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','สเกลและแผนที่','live-submit-short-answer-btn','update','Error\x20deleting\x20custom\x20topic:','presentation-ai-result','parseFromString','259468REpHWQ','export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','fill_in_with_choices','then','jspdf','กรุณาป้อนหัวข้อสำหรับใบงาน','\x22>จาก:\x20','practiceProblems','load-quiz-btn','lower_group_count','.quiz-bank-parallel-btn','lessonPlan','ผ่านฉลุย','Error\x20generating\x20worksheet:','.draggable-text','</span>','เลือกโปรเจคเพื่อบันทึก','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','project-detail-view','both','far\x20fa-star','classWeaknesses','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragover','export-leaderboard-image-btn','earned-badges-container','input[name=\x22drill_answer\x22]:checked','input','passingScore','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','active','presentation-scratchpad-btn','latestScore','some','lesson-plan-modal','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','correctAnswer','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','div','.edit-question-btn','display','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เรขาคณิตวิเคราะห์','manage-tab','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transformOrigin','Error\x20pairing\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-pdf-btn','ลำดับเลขคณิต\x20(AP)','.color-palette-btn','อัตราส่วนและสัดส่วน','เกิดข้อผิดพลาดในการโหลดโปรเจค','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.verification-result-editor','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','questionType','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','70Ufpygp','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','classStrengths','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x20ชุดสำเร็จ!','.pen-color-btn','export-word-btn','check-presentation-answer-btn','description','ย้าย','topic-tab','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20student\x20rankings:','เปลี่ยนชื่อแบบทดสอบสำเร็จ','correctAnswerIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','การประยุกต์เวกเตอร์พื้นฐาน','short','text-yellow-300','reference-pdf-upload','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','ไม่พบแบบทดสอบ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','generate-from-text-btn','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','คำเตือน\x20(','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','2084ZyOgZQ','delete','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-100','ฟังก์ชันลอการิทึม','<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','เกิดข้อผิดพลาดในการลบหัวข้อ','ลบหัวข้อสำเร็จ','learningGaps','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','touchend','text/csv;charset=utf-8;','quiz-results','wakeLock','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','removeAttribute','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','จำนวนเชิงซ้อน\x20(เสริม)','ระยะเวลา\x20(นาที):','ไม่มีคำอธิบาย','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแยกตัวประกอบ','confirm-join-game-btn','คณิตศาสตร์','eraser-tool-btn','kick-player-btn','candidates','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','Error\x20starting\x20live\x20race:','project-list','project-name-input','หมดเวลาสำหรับข้อนี้!','message','เศษส่วน\x20(ย่อ/ขยาย)','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','แคลคูลัสเบื้องต้น','http://www.w3.org/2000/svg','การแจกแจงทวินาม\x20(พื้นฐาน)','split','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','toFixed','กำลังสร้างแบบทดสอบคู่ขนาน...','_opt0\x22>ใช่</label></div>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-start-time','(ไม่มีชื่อ)','perQuestionStats','API\x20call\x20failed\x20with\x20status:\x20','total','ตอบถูกทุกข้อในแบบทดสอบนี้','practice-topic-btn','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','mixed','release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','string','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','matching_item','สร้างคำถามใหม่\x201\x20ข้อ\x20','attempts','deg','innerText','<li>','showImproveButton','การหารเศษส่วน','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','อสมการค่าสัมบูรณ์','dispatchEvent','คะแนนเฉลี่ย','อัปเดตพฤติกรรมสำหรับ\x20','touches',')\x5cb)','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','grid','bottom','Firebase\x20initialization\x20failed:','project-passcode-modal','btn','ปริพันธ์ไม่จำกัด','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','selected-topics-count','$1^{\x5ccirc}\x5ctext{C}','.submittedAt','Error\x20fetching\x20quiz\x20settings:','text-gray-200','text-indigo-600','quiz-schedule-end-container','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','behavior-log-tab-content','parallel-test-tab','<textarea\x20name=\x22question','หมดเวลา!\x20กำลังส่งคำตอบ...','leaderboard-quiz-tab-btn','execCommand','/public/data/projects/','Error\x20loading\x20user\x20preferences:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x20\x0a\x20\x20\x20\x20','right','เกิดข้อผิดพลาดในการบันทึก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','border-green-700','text-emerald-800','กำลังวิเคราะห์ข้อสอบ\x20\x22','open-scratchpad-btn','หัวข้อที่สร้างเอง','จากเนื้อหาต่อไปนี้:\x20\x22','student-reading-area','error','\x20ช่อง','ความชันเส้นสัมผัส','questionIndex','targetId','padStart','circ','.delete-student-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','projectOrder','Failed\x20to\x20kick\x20player\x20','sqrt','manual_release','ทฤษฎีทวินาม\x20(เบื้องต้น)','ความคล้ายของรูป','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','date_asc','fromCharCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-input','strength-weakness-analysis-container','<p\x20class=\x22font-bold\x20text-sm\x20','mouse','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','อัปเดตแบบทดสอบเก่า\x20','password-error-msg','analytics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-presentation-list-btn','fixedData','กรุณาเลือกไฟล์ก่อน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','<div\x20id=\x22q-image-container-','\x5cfrac{','line-through\x20text-red-700','user','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toString','imageCode','quiz-id-input','.sort-indicator','log','analytics-tab-content','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```','manage','analytics-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','Error\x20verifying\x20answers:','.topic-actions-edit','MathJax','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','สำหรับโปรเจค:\x20','comparison-chart','modal-loop-until-pass-checkbox','NEGATIVE_INFINITY','\x22\x20data-pre-test-id=\x22','[data-topic-container-id]','</label>\x0a\x20\x20\x20\x20</div>\x0a','N/A','\x5ctimes','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<div\x20class=\x22answer-space\x22></div>','Failed\x20to\x20get\x20standardized\x20topic:','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','abs','Invalid\x20response\x20structure\x20from\x20AI:','ความคาดหมาย\x20(Expected\x20value)','projectView','/public/data/quizzes','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','points','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','bg-green-500','พื้นที่ผิวรูปทรงสามมิติ','.quiz-bank-present-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','score-distribution-chart','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','bg-blue-100\x20text-blue-800','bulk-quiz-settings-modal','teachingContent','Error\x20saving\x20to\x20question\x20bank:','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','input[type=\x22radio\x22][value=\x22','Error\x20moving\x20quiz:','quizId','project-passcode-input','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','.option-text','text-gray-700','td,\x20th','\x22\x20data-name=\x22','save-quiz-btn','MathJax\x20typeset\x20error\x20(analytics):','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.pointsLastQuestion','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','ใช่','schedule','\x5cdiv','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','overallGroups','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','รูปแบบการให้เหตุผล','rgba(59,\x20130,\x20246,\x200.7)','ตรวจคะแนนใหม่\x20','loopUntilPass','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x5cge','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','fill_in_the_blank','rename-quiz-input','entries','.project-card-container','Error\x20committing\x20score\x20updates:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','$1\x20\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','lastAnswerCorrect','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic','$1^{\x5ccirc}','ไฮเพอร์โบลา','globalSettings','\x20(p=','transition-all','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','/submissions','text-red-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x22\x20class=\x22delete-project-btn\x20','promptFeedback','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','จำนวนคู่:','pow','comparison-modal','text-blue-800','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','\x20pointer-events-none\x22>','bank-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','underline','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การคูณทศนิยม','comeback_king','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','parts','text-red-700\x20bg-red-100','<div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-input-area','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','การลบเศษส่วน','keyup','<option\x20value=\x22\x22>กำลังโหลด...</option>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','/public/data/learnedFixes','{$1}','submission-status-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','bulk-quiz-settings-btn','questionStatus','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numeric','interesting-stats-container','Error\x20saving\x20quiz:','(คู่ขนาน)\x20','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','https://corsproxy.io/?','ลำดับเรขาคณิต\x20(GP)','project-search-input','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','scratchpad-question','blur','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','ผู้เชี่ยวชาญ','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','AI\x20Formula\x20Fix\x20Error:','quiz-editor-questions-container','isPinned','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','click','confirm-rename-quiz-btn','.delete-svg-btn','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','text-red-800','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.save-custom-topic-btn','analyze-strengths-btn','result','bg-yellow-50','.topic-name-display','artifacts/','admin-testing','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','presentation-slide-container','quiz-leaderboard-table-body','localeCompare','bg-yellow-100','กรุณาป้อนรหัสแบบทดสอบ','การจัดกลุ่มข้อมูล','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','.project-card-container[data-id]','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','(ฉบับง่าย)\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','#FEE2E2','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','quiz-bank-modal','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','เซียนสมองไว','players','timer-bar','indexOf','Invalid\x20response\x20structure\x20from\x20AI.','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','push','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','back-to-project-btn','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','scores-tab-btn','ที่พิมพ์ได้\x20จำนวน\x20','scratchpad-clear-btn','perfect_score','cancel-delete-btn','allResponses','true_false','quizType','กรุณาวาง\x20URL\x20ของบทความก่อน','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','.pdf','empty','<i\x20class=\x22fas\x20fa-magic\x22></i>','flex\x20flex-col\x20gap-2','move-quiz-modal','.live-answer-btn','cancel-quiz-bank-btn','Error\x20during\x20class\x20analysis:','all','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันและอัปเดตทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ไม่พบข้อมูลการจับคู่','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-initial-view','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','studentName','red','slide-counter','กราฟแท่ง\x20กราฟเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','onchange','Error\x20renaming\x20quiz:','bg-gray-500','stem','comparison-overall-tab','export-worksheet-pdf-btn','\x20mr-2\x22></i>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','Error\x20saving\x20submission:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','contents','แผนการสอน','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','สร้างแบบทดสอบ','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','[*]','originalTopic','[role=\x22textbox\x22]','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','Error\x20verifying\x20answers\x20in\x20editor:','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','getPage','ระยะจากจุดถึงเส้นตรง','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','manage-players-btn','Error\x20duplicating\x20quiz:','reduce','AI\x20แก้ไขคำถามสำเร็จ!','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','confirm-create-project-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','<tr\x20class=\x22','การยืนยันตัวตนล้มเหลว','questions_only','ท็อปฟอร์ม','การวัด','question','q-text-','isCorrect','.color-palette-popup','ฟังก์ชันพหุนาม','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','fixed','ความเป็นอิสระของเหตุการณ์','first_try_ace','short_answer','อัตราการเปลี่ยนแปลงทันที','</td>','totalPoints','\x22\x20เพื่อสร้างชุดคู่ขนาน...','.ai-fix-formula-btn','208056VohvyZ','สร้างคำถามแบบใช่/ไม่ใช่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','Error\x20creating\x20project:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<div\x20class=\x22my-2\x22>','smooth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','G-V90KRM0L63','.pen-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','resize','Error\x20regenerating\x20question\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','สมการค่าสัมบูรณ์','dragend','มุมและการวัดมุม','</p><div>','hidden','.cancel-edit-topic-btn','default','scratchpad-header','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','delete-svg-btn','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','currentQuestionIndex','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','Error\x20unpairing\x20quizzes:','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','</form>','starred','now','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','commit','submission','deltaY','leq','live-player-management','button','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','justification','$1^{$2}','copy','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','catch','พบข้อสอบ\x20','tooltipTarget','<p\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','input[type=\x22text\x22]','Error\x20displaying\x20question\x20bank:','\x5cfrac{$1}{$2}','scratchpad-close-btn','select','generate-from-blueprint-btn','round','application/json','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','ย้ายแบบทดสอบไปโปรเจคอื่น','pointerType','text-red-700','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดข้อมูลอันดับได้','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','บันทึกแบบทดสอบสำเร็จแล้ว!','ตัวประกอบและตัวประกอบเฉพาะ','q-image-container-','</p>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','length','_opt0\x22\x20name=\x22question','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','results-table','cancel-rename-quiz-btn','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointermove','อินเวอร์สของเมทริกซ์','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','Error\x20updating\x20project\x20name:','.pen-color-btn[data-color=\x22#000000\x22]','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cdot','ความเท่ากันทุกประการของสามเหลี่ยม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','pointerup','results_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','#26890c','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','แผนภาพเวนน์','พอใช้','scheduled','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','ไม่พบข้อมูลข้อสอบหลังเรียน','แบบทดสอบนี้ปิดใช้งานอยู่','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','สรุปผลสุดท้าย','เกิดข้อผิดพลาด:\x20','cancel-test-btn','.group','ความสัมพันธ์ของมุม','confirm-bulk-quiz-settings-btn','correctResponse','results-tab-content','text-gray-300\x20hover:text-white','พื้นที่วงกลม/ส่วนของวงกลม','Remedial\x20quiz\x20generation\x20failed:','parent','ค่าสัมบูรณ์','(หลังเรียน)\x20','onclick','manage-tab-content','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','mousemove','Error\x20updating\x20sort\x20preference:','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','type','parse','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','visible','การคูณ','list-view-btn','Error\x20saving\x20user\x20preference:','text-tab','map','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quick_thinker','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','^{\x5ccirc}\x5ctext{C}$','opacity','_opt1\x22\x20name=\x22question','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','สมการราก\x20(radical)','questionText','.generate-easy-version-btn','ค่าเสื่อมราคา','\x20ใหม่...','ยืนยันการกระทำ','students','editable-quiz-topic','quiz-editor-modal','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','border-red-300\x20bg-red-50','.answeredCurrentQuestion','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','ON_FIRE','แบบทดสอบซ่อมเสริม','Failed\x20to\x20create\x20initial\x20submission\x20record:','find','student-list','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','not-found','enable-passcode-checkbox','bg-emerald-100','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','className','ปริมาตรรูปทรงสามมิติ','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','export-pdf-modal','getDocument','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','</span></p>','</tbody></table>','คัดลอกรหัสแล้ว!','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดรายการโปรเจคได้','\x22>ไม่ใช่</p>','$1\x5ctimes','text-gray-400\x20hover:text-indigo-600','#FEF3C7','view-my-progress-btn','.ai-fix-question-btn','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','.answer-text','fa-fire\x20text-orange-500','ระบบอสมการ','เกิดข้อผิดพลาดในการโหลดสถานะ','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tGain','global-quiz-list','คะแนน','</tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','generate-from-parallel-test-btn','ownerSVGElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','สถิติและความน่าจะเป็น','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','select-all-topics-btn','ย้ายแบบทดสอบสำเร็จ','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','หลังเรียน','.scratchpad-content-wrapper','Error\x20generating\x20parallel\x20post-test:','<span\x20class=\x22font-bold\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','resultsDisplay','half_mark_status','undo-btn','touchstart','กฎของไซน์','คณิตการเงิน/บูรณาการ','timerMode','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','grid-view-btn','2226348LcVEQB','whole_quiz','</td></tr>','.pin-project-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a---\x0a','การคูณเศษส่วน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-q-countdown','\x22...','สู้ๆ\x20ลองอีกครั้งนะ','fa-bolt\x20text-blue-500','contains','asc','กำลังอ่านและเตรียมไฟล์...','ไม่สามารถบันทึกการตั้งค่าได้','finishReason','results','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','raw','ตารางความถี่','presentation-short-answer-input','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20ข้อ\x20','.quiz-status-btn','sum','drop','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','Error\x20generating\x20parallel\x20test\x20from\x20bank:','mean','width','กำลังสร้างคำถามข้อ\x20','blockReason','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','/preferences/main','back-to-dashboard-from-results-btn','modal-timer-duration-label','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','values','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-red-500\x20hover:text-red-700','cursor','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-footer-btn','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คะแนนเต็ม','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','isAdaptive','bar','Re-grade\x20process\x20failed:','focus','บันทึกการตั้งค่าสำเร็จ','คัดลอกไม่สำเร็จ','</th>','ระยะเวลา\x20(วินาที):','show_pass_fail_only','Error\x20resetting\x20project\x20order:','เกิดข้อผิดพลาดในการอัปเดตสถานะ','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answers','idealAnswer','lesson-plan-content','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','export-image-btn','postTScore','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x5cs*\x5c(','mode-switcher-btn','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','ผู้ควบคุม\x20(ทดสอบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#D1FAE5','.export-pdf-list-btn','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','ai-quiz-generator-v3','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','on_fire','.png','suggestedAnswer','<option\x20value=\x22','link-topic-input','.project-card-container.opacity-50','student-progress-content','.quiz-bank-settings-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','per-question-text','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','_blank','เกิดข้อผิดพลาดในการจับคู่','name','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','players.','preTScore','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','Error\x20deleting\x20student:','text-gray-500','data','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','textContent','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dfrac','9CkzFIV','ยืนยันการจับคู่','.admin-try-quiz-list-btn','\x22.\x20Ideal\x20Answer:\x20\x22','pointsLastQuestion','instructions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','modal-close-btn','ไม่พบข้อมูลผู้ใช้','showInStudentDashboard','quiz-schedule-start-container','stringify','เรขาคณิต','สมการเชิงเส้นตัวแปรเดียว','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','font-bold\x20text-green-700','.project-card-content','ตรวจทานเฉลยเสร็จสิ้น!','getScreenCTM','projectSort','เงินงวด\x20(อนุกรมเงินงวด)','<div\x20class=\x22mb-3\x20topic-category\x22>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x22>ใช่</p>','student-quiz-area','Error\x20fetching\x20quiz\x20status:','hint-btn','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','quiz-status-options','POST','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','loader-text','gain','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','start-presentation-btn','delete-all-students-btn','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','เกิดข้อผิดพลาดในการติดดาว','มุมพิเศษ\x2045°-45°-90°','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','hover:bg-indigo-100','comparison-individual-content','เส้นตรง:\x20รูปแบบสมการ','button[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','readAsDataURL','floor','ค่าคลาดเคลื่อนของการวัด','549480sgNQfG','student-name-select','เกี่ยวกับหัวข้อ\x20\x22','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','start-game-btn','\x22\x20สำเร็จ','color','goto-next-question-btn','checked','PERFECT_SCORE','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','ข้อ\x20','#DBEAFE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','qIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','Error\x20saving\x20project\x20order:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','อนุพันธ์:\x20กฎลูกโซ่','pointerdown','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','choices_only','options','</li>','จับคู่แบบทดสอบสำเร็จ!','ฟังก์ชันค่าสัมบูรณ์','\x20จาก\x20','stroke','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','katex','worksheet-input-area','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isLooping','passing-score-input','#10B981','.isScored','ส่งแล้ว','fill_in_no_choices','.live-summary-tooltip.visible','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','repeat','stdDev','NUMBER','startTime','ดีเทอร์มิแนนต์','\x22\x5cn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','create-project-btn','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','sin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','matching','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','Error\x20starting\x20game:','ค่าความจริง/ตารางค่าความจริง','\x20สำเร็จ','แผนการสอน:\x20','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','กำลังอัปเดตแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','exists','webkitExitFullscreen','worksheet-tab','quiz-bank-count','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.regenerate-question-editor-btn','perseverance','projectId','element','fa-user-astronaut\x20text-blue-700','endTime','(เลือกแล้ว\x20','จำนวนและการดำเนินการ','พีชคณิตและฟังก์ชัน','<h1></h1>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','post-test','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity-50','global-quiz-search-input','offset','</span></td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-project-select','เวกเตอร์และเมทริกซ์\x20(เสริม)','<p><strong>คำตอบที่แนะนำ:</strong>\x20','countdown-display','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','fa-pen','ไม่สามารถเพิ่มนักเรียนได้','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','bg-red-200\x20text-red-800','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','/public/data/liveGames','student-name-selection-view','จำนวนคละ','สร้างชุดคำถามจับคู่','FIRST_TRY_ACE','preventDefault','\x22\x20value=\x22','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','difficulty-level-select','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','input[type=\x22checkbox\x22]','bulk-results-display-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ยอดเยี่ยม!','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','numPages','Copy\x20command\x20failed','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','startedAt','Error\x20listening\x20for\x20projects:','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','จับคู่เพื่อเปรียบเทียบผล','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.sortable-header','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','พาราโบลา','cancel-create-project-btn','leaderboard-quiz','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','ไม่พบโปรเจค','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','documentElement','Error\x20rendering\x20student\x20progress:','parallel-test-upload-input','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-btn','visibilityState','.delete-custom-topic-btn','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','export-leaderboard-excel-btn','\x22><i\x20class=\x22fas\x20','toDataURL','export-lesson-pdf-btn','badgesCount','beforeend','requestFullscreen','ไม่พบตารางสำหรับ\x20Export','originalQuestionText','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','.rename-quiz-btn','text-blue-700\x20bg-blue-100','student-view','set','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','upper_group_count','กำลังจับคู่...','text-green-800','helvetica','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','bg-green-200','2-digit','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','pairedQuizId','lowerGroupNames','text-blue-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','toLocaleDateString','cancel-quiz-settings-btn','shuffledQuiz','binom','after','json','.question-editor-item','clearRect','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20data-q-type=\x22','เมทริกซ์:\x20บวก/คูณ','rows','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','generate-from-link-btn','แบบเติมคำตอบ','คะแนนยังไม่ถึงครึ่ง','link-input-area','pinnedProjects','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','.quiz-result-card','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','workerSrc','\x5cle','dimmed','explanation','end-game-btn','cos','export-leaderboard-word-btn','confirmation-message','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x20รายการ...','parallel-test-input-area','อุณหภูมิและการแปลง','scratchpad-modal','reset-view-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','Error\x20saving\x20quiz\x20edits:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อที่\x20','\x20รายการสำเร็จ!','getAttributeNS','approx','table','ค.ร.น.\x20(LCM)','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','draggable-text','.delete-submission-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','upperGroupNames','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','modal-adaptive-quiz-checkbox','preScore','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','toLocaleString','timestamp','bg-green-100\x20text-green-800','user-id-display','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','ราชาคัมแบ็ก','project-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','upperGroupResponders','isScored',',\x20r=','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','height','ไม่สามารถเริ่มเกมได้','auto','ทำคะแนนได้เกินครึ่ง','student-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','fullscreenElement','<div\x20class=\x22my-6\x22>','startsWith','รอเปิด','\x20คนที่ส่ง\x20ตอบถูก\x20(','num-choices','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปิดใช้งาน','student-project-leaderboard-table-body','fill','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','student-progress-view','toISOString','podium','Error\x20processing\x20file\x20for\x20AI:','Error\x20deleting\x20submission:','text-green-600','authed_project_','cancel-global-live-btn','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</span></div>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','<span\x20title=\x22','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','เกมสิ้นสุดลงแล้ว','cancel-admin-login-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','GlobalWorkerOptions','student-join-game-view','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','quiz-type-select','inactive','forEach','#results-table','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','test','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','quadraticCurveTo','\x22\x20name=\x22drill_answer\x22\x20value=\x22','trim','dashboardConfig','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint','topic-input','screen_exit','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.duplicate-quiz-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','add-custom-math-topic-btn','.quiz-bank-delete-btn','ไม่มี','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','เกิดข้อผิดพลาดในการนำผู้เล่นออก','hasOwnProperty','devicePixelRatio','ring-purple-400','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','setAttributeNS','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','left','#results-table\x20thead\x20tr','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','reset-project-order-btn','\x22,\x20','.\x20แต่ละข้อมี\x20','กรุณาใส่ชื่อโปรเจค','score','value','timerDuration','findIndex','frac','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','div[data-question-index=\x22','```json','createElement','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ยังไม่มีนักเรียนส่งงาน','139rzNJNg','move','.generate-lesson-btn','พิมพ์ตอบ','ไม่ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','geq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','results-quiz-title','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x20คู่\x20','</strong></p>','questionDisplayedAt','canvas','เปิด\x20(จับเวลา)','warn','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','afterend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','#student-project-leaderboard-content\x20thead','files','#FFFFFF','cancel-bulk-quiz-settings-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','.presentation-option','cancel-quiz-edits-btn','-tab','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','Error\x20updating\x20quiz\x20status:','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','function','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','AI\x20Fix\x20Error:','student-project-leaderboard-content','doughnut','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','next-question-btn','หน่วยเวลาและการคำนวณเวลา','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','title','กรุณาเลือกชื่อของคุณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','answerText','Error\x20generating\x20easy\x20version\x20quiz:','\x22.\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRemedial','ตอบถูก\x203\x20ข้อติดต่อกัน','เพิ่มหัวข้อ\x20\x22','ฟังก์ชันเชิงเส้นและกราฟ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','ผู้ไม่ยอมแพ้','text/html','<option>กำลังโหลดโปรเจค...</option>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','เกิดข้อผิดพลาดในการอัปเดต:\x20','แผนภาพกล่อง\x20(box\x20plot)','ทศนิยม\x20(ค่าประจำหลัก)','PERSEVERANCE','ฟังก์ชันราก\x20(root)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','modal-results-display-select','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','text-indigo-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','Error\x20saving\x20visibility\x20settings:','ไม่พบแบบทดสอบสำหรับรหัสนี้','เกิดข้อผิดพลาดในการสร้างห้องเกม','getTextContent','</p></div>','แบบทดสอบที่ติดดาว','#retake-for-improvement-btn','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<div\x20class=\x22space-y-4\x22>','global-live-game-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','leaderboard-tab','submissions','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','no-projects-msg','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','ความชันและเส้นตรง','key','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','quiz-end-time','include-images-checkbox','จัดการ','/studentProfiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','px)\x20scale(','จุด\x20เส้น\x20ระนาบ','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','Error\x20joining\x20live\x20game:','.csv','badges','แบบทดสอบจากคลังส่วนตัว','Error\x20toggling\x20pin\x20status:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','clientY','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctext{$1}','text-green-600\x20font-bold','confirm-move-quiz-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','prev-question-btn','Error\x20adding\x20custom\x20topic:','request','game-pin-input','match','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','timer-duration-input','.ideal-answer-input,\x20.correct-response-input','scores-tab-content','next-drill-btn','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','visibilitychange','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','undefined','</body></html>','ความน่าจะเป็นแบบมีเงื่อนไข','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','ก่อนเรียน','closest','_opt','สร้างคำถามแบบเติมคำในช่องว่าง','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ไม่พบข้อมูลแบบทดสอบ','scratchpad-canvas','timer-duration-label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','createdAt','แบบทดสอบ:\x20','standardTopic','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','setTransform','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20lesson\x20plan:','student-result-area','size','label','passcode','ร้อยละพื้นฐาน','text-input-area','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-container','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สมการเหตุผล\x20(rational)','cancel-quiz-edits-btn-footer','มุมพิเศษ\x2030°-60°-90°','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','comparison','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','เรเดียนและการแปลงหน่วย','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-red-100','rgba(79,\x2070,\x20229,\x201)','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','วงกลม:\x20สมการและสมบัติ','math-topics-checkbox-container','pen','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</option>','dragstart','submit','.correct-response-input','แก้ไขหัวข้อสำเร็จ','teacherSuggestions','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','closePath','href','<i\x20class=\x22fas\x20fa-save\x22></i>','lineJoin','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20คำตอบ:\x20','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','list','Error\x20generating\x20from\x20parallel\x20test\x20file:','image/png','\x22\x20class=\x22pin-project-btn\x20','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','touchcancel','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','destroy','บันทึกการตั้งค่าแล้ว','\x20mb-2\x22>','FileReader\x20error:','<i\x20class=\x22fas\x20fa-pen\x22></i>'];_0x341b=function(){return _0x3f4c92;};return _0x341b();}function exportQuizAsTutorPDF(){const _0x414441=_0x1df5ec;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x3f6a50=currentQuizData,_0x4bf811=window['open']('',_0x414441(0x5a2)),_0x142128=_0x4f556a=>String['fromCharCode'](0x41+_0x4f556a),_0x2d6a32=_0x414441(0x88a)+_0x3f6a50['topic']+_0x414441(0x950)+_0x3f6a50[_0x414441(0x8f0)]['map']((_0x475919,_0x38a6ef)=>{const _0x2ccc43=_0x414441;let _0xf76a4f='';const _0x20dffb=_0x475919[_0x2ccc43(0x24e)]||_0x3f6a50[_0x2ccc43(0x3fd)];switch(_0x20dffb){case _0x2ccc43(0x9ab):case _0x2ccc43(0x20f):_0xf76a4f=_0x2ccc43(0x336)+_0x475919[_0x2ccc43(0x611)][_0x2ccc43(0x4e5)]((_0x567480,_0x511fcd)=>_0x2ccc43(0xa12)+_0x142128(_0x511fcd)+'.\x20'+_0x567480+_0x2ccc43(0x21c))['join'](_0x2ccc43(0x1ee))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x2ccc43(0x3fc):_0xf76a4f=_0x2ccc43(0x35b);break;default:_0xf76a4f='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x3f6a50[_0x2ccc43(0x37f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x38a6ef+0x1)+_0x2ccc43(0x47b)+(_0x475919[_0x2ccc43(0x41d)]||_0x475919[_0x2ccc43(0x4f1)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x475919[_0x2ccc43(0x317)]?_0x2ccc43(0x6fd)+_0x475919['imageCode']+_0x2ccc43(0x587):'')+_0x2ccc43(0x761)+_0xf76a4f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x414441(0x30f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4bf811[_0x414441(0x831)][_0x414441(0x823)](_0x2d6a32),_0x4bf811[_0x414441(0x831)][_0x414441(0x8ed)](),_0x4bf811[_0x414441(0x5ed)]=function(){setTimeout(()=>{const _0x46e3dd=_0x2d6c;_0x4bf811[_0x46e3dd(0x202)]();},0x5dc);};}async function handleToggleStarQuiz(_0x1ff0a5){const _0x255fc7=_0x1df5ec,_0xe8d1da=doc(db,'artifacts/'+appId+_0x255fc7(0x33d),_0x1ff0a5);try{const _0xa51389=await getDoc(_0xe8d1da);if(_0xa51389[_0x255fc7(0x63b)]()){const _0x2305d9=_0xa51389[_0x255fc7(0x5ad)]()[_0x255fc7(0x60d)]||![];await updateDoc(_0xe8d1da,{'isStarred':!_0x2305d9});}}catch(_0x367cef){console[_0x255fc7(0x2e8)](_0x255fc7(0x1ad),_0x367cef),showMessage(_0x255fc7(0x5e5));}}async function displayQuestionBank(){const _0x582f33=_0x1df5ec,_0x5726cd=document[_0x582f33(0x1d3)](_0x582f33(0x99b));_0x5726cd[_0x582f33(0x9e2)]=_0x582f33(0x87f);try{const _0x62e535=collection(db,_0x582f33(0x3d2)+appId+_0x582f33(0x940)+userId+_0x582f33(0x98d)),_0x5a3a58=query(_0x62e535),_0x4df8df=await getDocs(_0x5a3a58);if(_0x4df8df[_0x582f33(0x401)]){_0x5726cd[_0x582f33(0x9e2)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x3f0932=_0x4df8df[_0x582f33(0x994)]['map'](_0x196964=>{const _0x38f951=_0x582f33,_0x17a655=_0x196964['data'](),_0x15267d=_0x196964['id'];return _0x38f951(0x3c1)+JSON[_0x38f951(0x5c7)](_0x17a655)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x17a655['questionText']||_0x17a655[_0x38f951(0x41d)])+_0x38f951(0x48c)+_0x17a655[_0x38f951(0x42b)]+_0x38f951(0x72c);})['join']('');_0x5726cd['innerHTML']=_0x582f33(0x9b8)+_0x3f0932+_0x582f33(0xa09),document['getElementById']('create-from-bank-btn')['addEventListener']('click',createQuizFromBank);}catch(_0x1e42b5){console['error'](_0x582f33(0x48e),_0x1e42b5),_0x5726cd[_0x582f33(0x9e2)]=_0x582f33(0x8e2);}}function showAdminLiveQuestionView(_0x2b7941,_0x85df6b,_0x82c985){const _0x3ae844=_0x1df5ec,_0x38e360=_0x2b7941[_0x3ae844(0x24e)]||currentQuizData[_0x3ae844(0x3fd)];let _0x1dfe1d='';if(_0x38e360==='multiple_choice'||_0x38e360===_0x3ae844(0x3fc)){const _0x27bbac=_0x38e360===_0x3ae844(0x3fc)?[_0x3ae844(0x35e),'ไม่ใช่']:_0x2b7941['options'],_0x1ad344=_0x38e360===_0x3ae844(0x3fc)?_0x2b7941['correctAnswer']?0x0:0x1:_0x2b7941[_0x3ae844(0x261)];_0x1dfe1d=_0x27bbac[_0x3ae844(0x4e5)]((_0x15730f,_0x30edf8)=>_0x3ae844(0x71c)+(_0x30edf8===_0x1ad344)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15730f+_0x3ae844(0x9fa))[_0x3ae844(0x30f)]('');}else{if(_0x38e360===_0x3ae844(0x2b3)){const _0x195fc7=_0x2b7941['allResponses']||[];_0x1dfe1d=_0x195fc7[_0x3ae844(0x4e5)](_0x1b12ea=>_0x3ae844(0x71c)+(_0x1b12ea===_0x2b7941[_0x3ae844(0x4cd)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b12ea+_0x3ae844(0x9fa))['join']('');}}const _0x5ceee7=_0x2b7941[_0x3ae844(0x41d)]||_0x2b7941[_0x3ae844(0x4f1)],_0x2be2b8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x85df6b+0x1)+_0x3ae844(0x9fe)+_0x82c985+_0x3ae844(0x939)+currentLiveGamePin+_0x3ae844(0x94f)+_0x5ceee7+_0x3ae844(0x338)+_0x1dfe1d+_0x3ae844(0x4e9);liveGameView['innerHTML']=_0x2be2b8,window[_0x3ae844(0x327)]&&MathJax[_0x3ae844(0x9a3)]&&MathJax['typesetPromise']([liveGameView]),document[_0x3ae844(0x1d3)]('reveal-answer-btn')[_0x3ae844(0x2ca)]('click',()=>revealAnswerForAdmin(_0x85df6b,_0x82c985)),document[_0x3ae844(0x1d3)](_0x3ae844(0x6c5))[_0x3ae844(0x2ca)](_0x3ae844(0x3c6),async()=>{const _0x4a3886=_0x3ae844;showConfirmation(_0x4a3886(0x2a0),async()=>{const _0x4561ce=_0x4a3886,_0x5116d0=doc(db,_0x4561ce(0x3d2)+appId+_0x4561ce(0x65d),currentLiveGameId);await updateDoc(_0x5116d0,{'status':'podium'});});}),document[_0x3ae844(0x1d3)](_0x3ae844(0x437))[_0x3ae844(0x2ca)](_0x3ae844(0x3c6),()=>{const _0x4fc4be=_0x3ae844;document['getElementById'](_0x4fc4be(0x480))[_0x4fc4be(0x838)][_0x4fc4be(0x8f4)](_0x4fc4be(0x46b));});}function showStudentLiveQuestionView(_0x2e8fda,_0x5f14c3,_0x44fad7){const _0x3322cd=_0x1df5ec,_0x3c1aec=_0x2e8fda[_0x3322cd(0x24e)]||currentQuizData[_0x3322cd(0x3fd)];let _0x2039f6='';if(_0x3c1aec===_0x3322cd(0x9ab)||_0x3c1aec===_0x3322cd(0x3fc)){const _0x7bc061=_0x3c1aec===_0x3322cd(0x3fc)?[_0x3322cd(0x35e),'ไม่ใช่']:_0x2e8fda[_0x3322cd(0x611)];_0x2039f6=_0x7bc061['map']((_0x2c7dc0,_0x11180a)=>_0x3322cd(0x6fa)+_0x11180a+_0x3322cd(0x29a)+_0x2c7dc0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3322cd(0x30f)]('');}else{if(_0x3c1aec===_0x3322cd(0x2b3)){const _0x5a2515=_0x2e8fda['allResponses']||[];_0x2039f6=_0x5a2515[_0x3322cd(0x4e5)]((_0x246cb7,_0x244bf0)=>_0x3322cd(0x6fa)+_0x244bf0+_0x3322cd(0x29a)+_0x246cb7+_0x3322cd(0x2a5))[_0x3322cd(0x30f)]('');}else _0x3c1aec===_0x3322cd(0x44f)&&(_0x2039f6=_0x3322cd(0x8c1));}const _0x9d725e=_0x2e8fda[_0x3322cd(0x41d)]||_0x2e8fda['questionText'],_0x4eb5b9=_0x3322cd(0x90e)+(_0x5f14c3+0x1)+'\x20/\x20'+_0x44fad7+_0x3322cd(0x604)+_0x9d725e+_0x3322cd(0x926)+_0x2039f6+_0x3322cd(0x60a);liveGameView['innerHTML']=_0x4eb5b9;window[_0x3322cd(0x327)]&&MathJax[_0x3322cd(0x9a3)]&&MathJax[_0x3322cd(0x9a3)]([liveGameView]);const _0x1ccdfd=document[_0x3322cd(0x1d3)](_0x3322cd(0x206));_0x1ccdfd&&_0x1ccdfd[_0x3322cd(0x2ca)](_0x3322cd(0x3c6),()=>{const _0x589896=_0x3322cd,_0x36f76b=document['getElementById'](_0x589896(0x8a8))[_0x589896(0x750)];handleLiveAnswer(_0x36f76b,_0x2e8fda);}),document[_0x3322cd(0x1d3)](_0x3322cd(0x674))['addEventListener']('click',_0x492083=>{const _0x4f11ba=_0x3322cd,_0x1e781a=_0x492083[_0x4f11ba(0x9ff)][_0x4f11ba(0x7da)](_0x4f11ba(0x405));if(_0x1e781a){const _0x135f62=parseInt(_0x1e781a[_0x4f11ba(0x984)][_0x4f11ba(0x988)]);handleLiveAnswer(_0x135f62,_0x2e8fda);}});}async function handleLiveAnswer(_0x41a889,_0x49b3c0){const _0x1d87d3=_0x1df5ec;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x1d87d3(0x722)](_0x10b00c=>_0x10b00c[_0x1d87d3(0x31d)]=!![]);const _0x10a2f9=_0x49b3c0[_0x1d87d3(0x24e)]||currentQuizData[_0x1d87d3(0x3fd)];let _0x15c0c6=![],_0x3d684f=_0x41a889;if(_0x10a2f9===_0x1d87d3(0x44f)){const _0x3f9bc1=(_0x41a889||'')[_0x1d87d3(0x316)]();_0x15c0c6=await gradeShortAnswer(_0x3f9bc1,_0x49b3c0);}else{if(_0x10a2f9===_0x1d87d3(0x9ab))_0x15c0c6=_0x41a889===_0x49b3c0[_0x1d87d3(0x261)];else{if(_0x10a2f9==='true_false'){const _0x4e44aa=_0x49b3c0['correctAnswer'];_0x15c0c6=_0x41a889===0x0&&_0x4e44aa||_0x41a889===0x1&&!_0x4e44aa;}else{if(_0x10a2f9===_0x1d87d3(0x2b3)){const _0x3270c9=_0x49b3c0[_0x1d87d3(0x3fb)][_0x41a889];_0x15c0c6=_0x3270c9===_0x49b3c0['correctResponse'],_0x3d684f=_0x3270c9;}}}}const _0x49c5ac=doc(db,_0x1d87d3(0x3d2)+appId+'/public/data/liveGames',currentLiveGameId),_0x4e199f={};_0x4e199f['players.'+currentStudentName+_0x1d87d3(0x4fb)]=!![],_0x4e199f[_0x1d87d3(0x5a8)+currentStudentName+_0x1d87d3(0x8fc)]=_0x15c0c6,_0x4e199f[_0x1d87d3(0x5a8)+currentStudentName+_0x1d87d3(0x8cf)]=_0x10a2f9===_0x1d87d3(0x44f)||_0x10a2f9===_0x1d87d3(0x2b3)?null:_0x41a889,_0x4e199f[_0x1d87d3(0x5a8)+currentStudentName+_0x1d87d3(0x8ce)]=_0x3d684f,_0x4e199f[_0x1d87d3(0x5a8)+currentStudentName+_0x1d87d3(0x2cd)]=serverTimestamp(),_0x4e199f['players.'+currentStudentName+_0x1d87d3(0x61e)]=![],await updateDoc(_0x49c5ac,_0x4e199f),liveGameView[_0x1d87d3(0x9e2)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x5b915d,_0x1a6060){const _0x126584=_0x1df5ec,_0x222c24=Object['values'](_0x5b915d[_0x126584(0x3eb)]||{}),_0x5bfd5a=_0x1a6060['questionType']||currentQuizData[_0x126584(0x3fd)],_0x37ab46=_0x5bfd5a===_0x126584(0x3fc)?['ใช่','ไม่ใช่']:_0x1a6060[_0x126584(0x611)]||_0x1a6060['allResponses']||[],_0x4c6b2d={},_0x5c3a98=new Array(_0x37ab46[_0x126584(0x4a6)])[_0x126584(0x706)](0x0);_0x37ab46[_0x126584(0x722)]((_0x506b8a,_0x21a884)=>{_0x4c6b2d[_0x21a884]=[];}),Object[_0x126584(0x373)](_0x5b915d[_0x126584(0x3eb)]||{})[_0x126584(0x722)](([_0xcb2dcd,_0x154737])=>{const _0x7e1522=_0x126584;if(_0x154737['status']===_0x7e1522(0x22b)&&_0x154737[_0x7e1522(0x51f)]!==undefined){const _0x17b478=_0x154737['lastAnswerIndex'];_0x4c6b2d[_0x17b478]&&(_0x4c6b2d[_0x17b478][_0x7e1522(0x3f2)](_0xcb2dcd),_0x5c3a98[_0x17b478]++);}});const _0x577778=Math['max'](..._0x5c3a98,0x1),_0x1f0dbb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x1a6060[_0x126584(0x41d)]||_0x1a6060[_0x126584(0x4f1)])+_0x126584(0x30e)+_0x5c3a98[_0x126584(0x4e5)]((_0xe8b585,_0x2b19b3)=>{const _0x298547=_0x126584,_0x1cb14b=_0x4c6b2d[_0x2b19b3][_0x298547(0x4a6)]>0x0?_0x4c6b2d[_0x2b19b3]['join'](',\x20'):_0x298547(0x8ac);let _0x164b87=![];if(_0x5bfd5a===_0x298547(0x9ab))_0x164b87=_0x2b19b3===_0x1a6060[_0x298547(0x261)];else{if(_0x5bfd5a==='true_false'){const _0x35a587=_0x1a6060['correctAnswer'];_0x164b87=_0x35a587&&_0x2b19b3===0x0||!_0x35a587&&_0x2b19b3===0x1;}else _0x5bfd5a===_0x298547(0x2b3)&&(_0x164b87=_0x37ab46[_0x2b19b3]===_0x1a6060[_0x298547(0x4cd)]);}const _0x3cbce4=_0x164b87?_0x298547(0x4bd):_0x298547(0x1c4);return _0x298547(0x81e)+_0xe8b585+_0x298547(0x23d)+_0x3cbce4+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x2b19b3+_0x298547(0x370)+_0x37ab46[_0x2b19b3]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x2b19b3+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cb14b+_0x298547(0x9f1);})[_0x126584(0x30f)]('')+_0x126584(0x410);liveGameView[_0x126584(0x9e2)]=_0x1f0dbb;if(window[_0x126584(0x327)])MathJax[_0x126584(0x9a3)]();document[_0x126584(0x1d3)]('show-leaderboard-btn')[_0x126584(0x2ca)](_0x126584(0x3c6),async()=>{const _0x325340=_0x126584,_0x3e80ec=doc(db,_0x325340(0x3d2)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3e80ec,{'questionStatus':_0x325340(0x196)});}),document[_0x126584(0x1d3)](_0x126584(0x2e4))[_0x126584(0x2ca)](_0x126584(0x3c6),()=>{openScratchpad(_0x1a6060,_0x37ab46);});}function showPlayerSummaryView(_0x3e99a3,_0x2771f1){const _0x481471=_0x1df5ec,_0x55e1ed=Object['values'](_0x3e99a3['players']||{}),_0x5c6410=_0x3e99a3[_0x481471(0x3eb)][_0x2771f1],_0x3014bc=_0x55e1ed[_0x481471(0x93a)](_0x1325ce=>_0x1325ce[_0x481471(0x71b)]===_0x481471(0x22b))[_0x481471(0x1f6)]((_0x5f4508,_0x54f88c)=>_0x54f88c[_0x481471(0x74f)]-_0x5f4508[_0x481471(0x74f)]),_0x403070=_0x3014bc[_0x481471(0x752)](_0x4b38fb=>_0x4b38fb===_0x5c6410)+0x1,_0x39b76f=_0x5c6410['lastAnswerCorrect']?'ถูกต้อง!':_0x481471(0x968),_0x55a6e9=_0x5c6410['lastAnswerCorrect']?_0x481471(0x345):_0x481471(0x842),_0x5d3799=_0x5c6410[_0x481471(0x5be)]||0x0,_0x3203dd=_0x481471(0x69e),_0x353ea8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x3203dd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x55a6e9+_0x481471(0x7e5)+_0x39b76f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x5d3799+_0x481471(0x841)+(_0x403070>0x0?_0x403070:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x353ea8;}function createQuizFromBank(){const _0xd6af70=_0x1df5ec,_0x524fa0=document['querySelectorAll'](_0xd6af70(0x86c));if(_0x524fa0['length']===0x0){showMessage(_0xd6af70(0x865));return;}const _0x431198=[];_0x524fa0[_0xd6af70(0x722)](_0xb3c18b=>{const _0x1b57e1=_0xd6af70;_0x431198[_0x1b57e1(0x3f2)](JSON[_0x1b57e1(0x4de)](_0xb3c18b[_0x1b57e1(0x750)]));});const _0x123225={'topic':_0xd6af70(0x7be),'questions':_0x431198};displayGeneratedQuiz(_0x123225);}function showAdminLobbyView(_0x4ddb06,_0x247bc9){const _0x5452a4=_0x1df5ec;showView(_0x5452a4(0x934));const _0x228ffd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x247bc9+_0x5452a4(0x553)+_0x4ddb06+_0x5452a4(0x81a);liveGameView[_0x5452a4(0x9e2)]=_0x228ffd,document[_0x5452a4(0x1d3)](_0x5452a4(0x5f7))[_0x5452a4(0x2ca)](_0x5452a4(0x3c6),async()=>{const _0x5af947=_0x5452a4;if(!currentQuizData||!currentQuizData[_0x5af947(0x8f0)]||currentQuizData[_0x5af947(0x8f0)][_0x5af947(0x4a6)]===0x0){showMessage(_0x5af947(0x6fb));return;}try{const _0x33fe48=doc(db,'artifacts/'+appId+_0x5af947(0x65d),currentLiveGameId);await updateDoc(_0x33fe48,{'status':_0x5af947(0x446),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x404e32=currentQuizData[_0x5af947(0x8f0)][0x0],_0x11cef5=currentQuizData[_0x5af947(0x8f0)][_0x5af947(0x4a6)];showAdminLiveQuestionView(_0x404e32,0x0,_0x11cef5);}catch(_0x2a8791){console[_0x5af947(0x2e8)](_0x5af947(0x632),_0x2a8791),showMessage(_0x5af947(0x6f6));}});}async function openGlobalLiveModal(){const _0x1453c8=_0x1df5ec;if(allQuizzesGlobal[_0x1453c8(0x4a6)]===0x0){const _0x10966a=await getDocs(collection(db,_0x1453c8(0x3d2)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x10966a[_0x1453c8(0x994)][_0x1453c8(0x4e5)](_0x304f70=>({'id':_0x304f70['id'],..._0x304f70[_0x1453c8(0x5ad)]()}));}renderGlobalQuizList(''),document[_0x1453c8(0x1d3)](_0x1453c8(0x7a8))['classList'][_0x1453c8(0x563)](_0x1453c8(0x46b));}async function openQuizBankModal(){const _0x5d57a2=_0x1df5ec;if(allQuizzesGlobal[_0x5d57a2(0x4a6)]===0x0){const _0x30dcdc=await getDocs(collection(db,_0x5d57a2(0x3d2)+appId+_0x5d57a2(0x33d)));allQuizzesGlobal=_0x30dcdc[_0x5d57a2(0x994)][_0x5d57a2(0x4e5)](_0x113645=>({'id':_0x113645['id'],..._0x113645[_0x5d57a2(0x5ad)]()}));}renderQuizBankList(''),document[_0x5d57a2(0x1d3)](_0x5d57a2(0x3e6))[_0x5d57a2(0x838)][_0x5d57a2(0x563)](_0x5d57a2(0x46b));}function renderQuizBankList(_0x4bb839=''){const _0x45a5c3=_0x1df5ec,_0x5c243b=document[_0x45a5c3(0x1d3)](_0x45a5c3(0x393)),_0x27facb=_0x4bb839['toLowerCase']()[_0x45a5c3(0x72a)](),_0x299757=allQuizzesGlobal[_0x45a5c3(0x4e5)](_0x3c9bc8=>({..._0x3c9bc8,'projectName':allProjects[_0x45a5c3(0x500)](_0x4551e7=>_0x4551e7['id']===_0x3c9bc8[_0x45a5c3(0x642)])?.['projectName']||_0x45a5c3(0x330)}))[_0x45a5c3(0x93a)](_0x39fd5a=>(_0x39fd5a[_0x45a5c3(0x37f)]||'')[_0x45a5c3(0x852)]()['includes'](_0x27facb)||(_0x39fd5a[_0x45a5c3(0x958)]||'')[_0x45a5c3(0x852)]()[_0x45a5c3(0x8b3)](_0x27facb)||_0x39fd5a['id'][_0x45a5c3(0x316)]()[_0x45a5c3(0x8b3)](_0x27facb));document[_0x45a5c3(0x1d3)](_0x45a5c3(0x63e))['textContent']='('+_0x299757[_0x45a5c3(0x4a6)]+_0x45a5c3(0x9ad),_0x5c243b[_0x45a5c3(0x9e2)]=_0x299757['length']?_0x299757[_0x45a5c3(0x4e5)](_0x912d7b=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x912d7b['id']+_0x45a5c3(0x8fb)+(_0x912d7b['topic']||_0x45a5c3(0x2a7))+_0x45a5c3(0x8d4)+(_0x912d7b['questions']?.['length']||0x0)+_0x45a5c3(0xa06)+_0x912d7b[_0x45a5c3(0x958)]+_0x45a5c3(0x395)+_0x912d7b['id']+_0x45a5c3(0x786)+_0x912d7b['id']+_0x45a5c3(0x4f9)+_0x912d7b['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x912d7b['id']+_0x45a5c3(0x622)+_0x912d7b['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x912d7b['id']+_0x45a5c3(0x250)+_0x912d7b['id']+_0x45a5c3(0x9ed)+_0x912d7b[_0x45a5c3(0x37f)]+_0x45a5c3(0x1f5))[_0x45a5c3(0x30f)](''):_0x45a5c3(0x1e3),_0x5c243b['querySelectorAll']('.quiz-bank-item')[_0x45a5c3(0x722)](_0x34d20c=>{const _0x58cd2b=_0x45a5c3;_0x34d20c[_0x58cd2b(0x2ca)]('click',()=>{const _0x18b7f5=_0x58cd2b,_0x2ccf43=_0x34d20c[_0x18b7f5(0x984)]['id'];document[_0x18b7f5(0x1d3)](_0x18b7f5(0x3e6))[_0x18b7f5(0x838)]['add'](_0x18b7f5(0x46b)),showQuizDetailView(_0x2ccf43);});}),_0x5c243b[_0x45a5c3(0x882)](_0x45a5c3(0x8c5))[_0x45a5c3(0x722)](_0x3f0b84=>{const _0x5236b9=_0x45a5c3;_0x3f0b84['addEventListener'](_0x5236b9(0x3c6),_0x58427a=>{const _0x319cc4=_0x5236b9;_0x58427a[_0x319cc4(0x80b)]();const _0x34a504=_0x3f0b84[_0x319cc4(0x984)]['id'],_0x571a4b=allQuizzesGlobal[_0x319cc4(0x500)](_0x40a964=>_0x40a964['id']===_0x34a504);_0x571a4b?(currentQuizData=_0x571a4b,document[_0x319cc4(0x1d3)]('quiz-bank-modal')[_0x319cc4(0x838)][_0x319cc4(0x8a1)](_0x319cc4(0x46b)),startAdminTest()):showMessage(_0x319cc4(0x7df));});}),_0x5c243b['querySelectorAll'](_0x45a5c3(0x217))[_0x45a5c3(0x722)](_0x499569=>{const _0x3abb8f=_0x45a5c3;_0x499569['addEventListener'](_0x3abb8f(0x3c6),_0x208d7d=>{const _0x36a4ba=_0x3abb8f;_0x208d7d['stopPropagation']();const _0x175aa3=_0x499569[_0x36a4ba(0x984)]['id'],_0x4779e4=allQuizzesGlobal[_0x36a4ba(0x500)](_0x55354a=>_0x55354a['id']===_0x175aa3);_0x4779e4?(document[_0x36a4ba(0x1d3)](_0x36a4ba(0x3e6))[_0x36a4ba(0x838)][_0x36a4ba(0x8a1)](_0x36a4ba(0x46b)),handleGenerateParallelFromBank(_0x4779e4)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5c243b[_0x45a5c3(0x882)](_0x45a5c3(0x347))['forEach'](_0x47eb3d=>{const _0xda1aa3=_0x45a5c3;_0x47eb3d[_0xda1aa3(0x2ca)]('click',_0x3e9982=>{const _0x62e5bb=_0xda1aa3;_0x3e9982[_0x62e5bb(0x80b)]();const _0x5cde5a=_0x47eb3d[_0x62e5bb(0x984)]['id'],_0x58ca1c=allQuizzesGlobal['find'](_0x414407=>_0x414407['id']===_0x5cde5a);_0x58ca1c?(document['getElementById']('quiz-bank-modal')[_0x62e5bb(0x838)][_0x62e5bb(0x8a1)](_0x62e5bb(0x46b)),startPresentation(_0x58ca1c)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5c243b[_0x45a5c3(0x882)](_0x45a5c3(0x96d))[_0x45a5c3(0x722)](_0x4dc380=>{const _0x184333=_0x45a5c3;_0x4dc380[_0x184333(0x2ca)](_0x184333(0x3c6),_0x427c1f=>{const _0x44a47b=_0x184333;_0x427c1f[_0x44a47b(0x80b)]();const _0xb15bb6=_0x4dc380[_0x44a47b(0x984)]['id'];document[_0x44a47b(0x1d3)]('quiz-bank-modal')[_0x44a47b(0x838)][_0x44a47b(0x8a1)](_0x44a47b(0x46b)),handleMoveQuiz(_0xb15bb6);});}),_0x5c243b[_0x45a5c3(0x882)](_0x45a5c3(0x59e))['forEach'](_0x4cff26=>{const _0x3473fc=_0x45a5c3;_0x4cff26[_0x3473fc(0x2ca)](_0x3473fc(0x3c6),_0x33d48a=>{const _0x32b694=_0x3473fc;_0x33d48a[_0x32b694(0x80b)]();const _0x20e68a=_0x4cff26[_0x32b694(0x984)]['id'];document[_0x32b694(0x1d3)](_0x32b694(0x3e6))[_0x32b694(0x838)][_0x32b694(0x8a1)](_0x32b694(0x46b)),handleQuizSettings(_0x20e68a);});}),_0x5c243b[_0x45a5c3(0x882)](_0x45a5c3(0x736))['forEach'](_0x434898=>{const _0x1811ee=_0x45a5c3;_0x434898[_0x1811ee(0x2ca)](_0x1811ee(0x3c6),_0x373281=>{const _0x35a1a1=_0x1811ee;_0x373281['stopPropagation']();const _0x2bfb29=_0x434898[_0x35a1a1(0x984)]['id'],_0xc23a5f=_0x434898[_0x35a1a1(0x984)][_0x35a1a1(0x37f)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0xc23a5f+_0x35a1a1(0x1da),()=>handleDeleteQuiz(_0x2bfb29));});});}async function handleCompareResults(_0x31182d,_0x2337a9){const _0x42f385=_0x1df5ec,_0x395e46=document[_0x42f385(0x1d3)](_0x42f385(0x38e)),_0x1e7190=document['getElementById'](_0x42f385(0x9fd)),_0xb0cd32=document[_0x42f385(0x1d3)](_0x42f385(0x5e9));document[_0x42f385(0x1d3)](_0x42f385(0x41e))[_0x42f385(0x838)][_0x42f385(0x8a1)](_0x42f385(0x22b)),document[_0x42f385(0x1d3)](_0x42f385(0x84f))[_0x42f385(0x838)][_0x42f385(0x563)](_0x42f385(0x22b)),_0x1e7190['classList'][_0x42f385(0x563)](_0x42f385(0x46b)),_0xb0cd32[_0x42f385(0x838)][_0x42f385(0x8a1)](_0x42f385(0x46b)),_0x1e7190[_0x42f385(0x9e2)]=_0x42f385(0x87f),_0xb0cd32[_0x42f385(0x9e2)]='',_0x395e46['classList']['remove'](_0x42f385(0x46b));try{const _0x1e5a33=doc(db,_0x42f385(0x3d2)+appId+_0x42f385(0x33d),_0x31182d),_0x2f6378=await getDoc(_0x1e5a33);if(!_0x2f6378[_0x42f385(0x63b)]())throw new Error(_0x42f385(0x4c3));const _0x43f22e=_0x2f6378[_0x42f385(0x5ad)](),_0x4deba1=_0x43f22e[_0x42f385(0x8f0)][_0x42f385(0x4a6)],_0x95cdc0=collection(db,'artifacts/'+appId+_0x42f385(0x86b)+_0x2337a9+_0x42f385(0x386)),_0x55692a=collection(db,'artifacts/'+appId+_0x42f385(0x86b)+_0x31182d+_0x42f385(0x386)),[_0x5a20a1,_0x213b83]=await Promise[_0x42f385(0x408)]([getDocs(_0x95cdc0),getDocs(_0x55692a)]),_0x4f3a50=_0x5a20a1[_0x42f385(0x994)][_0x42f385(0x4e5)](_0x287626=>_0x287626[_0x42f385(0x5ad)]()),_0x378135=_0x213b83[_0x42f385(0x994)][_0x42f385(0x4e5)](_0x48ca4b=>_0x48ca4b[_0x42f385(0x5ad)]()),_0x391447=_0x4f3a50[_0x42f385(0x4e5)](_0x3c2422=>_0x3c2422[_0x42f385(0x22d)]),_0x578331=_0x378135[_0x42f385(0x4e5)](_0x5af879=>_0x5af879[_0x42f385(0x22d)]),_0x99b29d=calculateMeanAndStdDev(_0x391447),_0x3d1484=calculateMeanAndStdDev(_0x578331),_0xca6ccf=_0x99b29d[_0x42f385(0x55f)],_0x2e5cba=_0x3d1484[_0x42f385(0x55f)],_0x14bf3c=_0x2e5cba-_0xca6ccf;let _0x3a7786=_0x42f385(0x254)+_0xca6ccf['toFixed'](0x2)+_0x42f385(0x4c2)+_0x2e5cba[_0x42f385(0x2a1)](0x2)+_0x42f385(0x680)+(_0x14bf3c>=0x0?_0x42f385(0x506):'bg-red-100')+_0x42f385(0x97c)+(_0x14bf3c>=0x0?_0x42f385(0x2e2):_0x42f385(0x3ca))+_0x42f385(0x71f)+(_0x14bf3c>=0x0?'text-emerald-900':_0x42f385(0x387))+'\x22>'+(_0x14bf3c>=0x0?'+':'')+_0x14bf3c['toFixed'](0x2)+_0x42f385(0x200);_0x1e7190[_0x42f385(0x9e2)]=_0x3a7786;const _0x3e4984=document[_0x42f385(0x1d3)](_0x42f385(0x32a))[_0x42f385(0x1a1)]('2d');if(chartInstances[_0x42f385(0x7fe)])chartInstances['comparison']['destroy']();chartInstances[_0x42f385(0x7fe)]=new Chart(_0x3e4984,{'type':_0x42f385(0x577),'data':{'labels':[_0x42f385(0x2be)],'datasets':[{'label':_0x42f385(0x7d9),'data':[_0xca6ccf],'backgroundColor':_0x42f385(0x367)},{'label':_0x42f385(0x52f),'data':[_0x2e5cba],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4deba1}}}});const _0x41d3ab=currentProjectData['students']||[],_0x479e27=_0x41d3ab[_0x42f385(0x4e5)](_0x57af17=>{const _0x2195f7=_0x42f385,_0xe60e9d=_0x4f3a50[_0x2195f7(0x500)](_0x5064e6=>_0x5064e6[_0x2195f7(0x414)]===_0x57af17),_0x1e64cb=_0x378135[_0x2195f7(0x500)](_0x17bb23=>_0x17bb23[_0x2195f7(0x414)]===_0x57af17),_0x3b9804=_0xe60e9d?_0xe60e9d[_0x2195f7(0x22d)]:null,_0x55edbe=_0x1e64cb?_0x1e64cb[_0x2195f7(0x22d)]:null,_0x2b9ea7=_0x3b9804!==null&&_0x55edbe!==null?_0x55edbe-_0x3b9804:null,_0x9ad4e2=_0x3b9804!==null?calculateZScore(_0x3b9804,_0x99b29d[_0x2195f7(0x55f)],_0x99b29d[_0x2195f7(0x624)]):null,_0x4cf1c8=_0x55edbe!==null?calculateZScore(_0x55edbe,_0x3d1484[_0x2195f7(0x55f)],_0x3d1484[_0x2195f7(0x624)]):null,_0x177300=_0x9ad4e2!==null?calculateTScore(_0x9ad4e2):null,_0x4394c4=_0x4cf1c8!==null?calculateTScore(_0x4cf1c8):null,_0x430975=_0x177300!==null&&_0x4394c4!==null?_0x4394c4-_0x177300:null;return{'name':_0x57af17,'preScore':_0x3b9804,'postScore':_0x55edbe,'gain':_0x2b9ea7,'preTScore':_0x177300,'postTScore':_0x4394c4,'tGain':_0x430975};});renderIndividualComparisonTable(_0x479e27,_0xb0cd32);}catch(_0x577e77){console['error'](_0x42f385(0x97e),_0x577e77),_0x1e7190['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x23e18e,_0x39fbe6){const _0x2fb8f4=_0x1df5ec,_0xfbf3be=_0x23e18e>=_0x39fbe6/0x2,_0x1ee210=_0xfbf3be?_0x2fb8f4(0x938):_0x2fb8f4(0x803),_0x19b430=_0xfbf3be?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x2fb8f4(0x9ae),_0x49b255=_0xfbf3be?_0x2fb8f4(0x69b):_0x2fb8f4(0x3ca),_0x4a1be9=_0xfbf3be?_0x2fb8f4(0x6f8):_0x2fb8f4(0x6bb),_0x59bef8=_0xfbf3be?_0x2fb8f4(0x66d):_0x2fb8f4(0x54a);let _0x334c45='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x1ee210+_0x2fb8f4(0x33f)+_0x19b430+_0x2fb8f4(0x79e)+_0x49b255+_0x2fb8f4(0x829)+_0x4a1be9+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x59bef8+_0x2fb8f4(0x898);studentResultArea[_0x2fb8f4(0x9e2)]=_0x334c45,studentResultArea[_0x2fb8f4(0x838)]['remove']('hidden'),studentQuizArea[_0x2fb8f4(0x838)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0xfbf3be});}function displayPerfectScoreResult(_0x2a5145,_0xa07718){const _0x53aeb3=_0x1df5ec,_0x9dace7=_0x2a5145===_0xa07718,_0x52274e=_0x9dace7?_0x53aeb3(0x3d8):'bg-blue-100',_0x303fdb=_0x9dace7?_0x53aeb3(0x856):_0x53aeb3(0x430),_0x476271=_0x9dace7?_0x53aeb3(0x82c):_0x53aeb3(0x38f),_0x1a88e2=_0x9dace7?_0x53aeb3(0x9b7):_0x53aeb3(0x859),_0xda408b=_0x9dace7?'สุดยอด!\x20ตอบถูกทุกข้อ':'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x502ff8=_0x53aeb3(0x819)+_0x52274e+_0x53aeb3(0x33f)+_0x303fdb+_0x53aeb3(0x79e)+_0x476271+_0x53aeb3(0x829)+_0x1a88e2+_0x53aeb3(0x880)+_0xda408b+_0x53aeb3(0x898);studentResultArea[_0x53aeb3(0x9e2)]=_0x502ff8,studentResultArea[_0x53aeb3(0x838)][_0x53aeb3(0x563)](_0x53aeb3(0x46b)),studentQuizArea[_0x53aeb3(0x838)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x2a5145,'totalQuestions':_0xa07718});}function renderIndividualComparisonTable(_0x36b732,_0x400686){const _0x5bc01a=_0x1df5ec;_0x36b732[_0x5bc01a(0x1f6)]((_0x1260e0,_0xff6091)=>(_0xff6091[_0x5bc01a(0x521)]??-Infinity)-(_0x1260e0[_0x5bc01a(0x521)]??-Infinity));let _0x5b550b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x36b732[_0x5bc01a(0x4a6)]===0x0?_0x5b550b+=_0x5bc01a(0x293):_0x36b732[_0x5bc01a(0x722)]((_0x2579bb,_0x433d9c)=>{const _0x2bfa0d=_0x5bc01a;let _0x211a88='-',_0x5536fe='';if(_0x2579bb['gain']!==null){const _0x574159=_0x2579bb[_0x2bfa0d(0x5e0)]>0x0?_0x2bfa0d(0x70d):_0x2579bb['gain']<0x0?_0x2bfa0d(0x8ab):'text-gray-500',_0x38e200=_0x2579bb[_0x2bfa0d(0x5e0)]>0x0?'+':'';_0x211a88=_0x2bfa0d(0x532)+_0x574159+'\x22>'+_0x38e200+_0x2579bb[_0x2bfa0d(0x5e0)]+'</span>';if(_0x2579bb['gain']>0x0)_0x5536fe=_0x2bfa0d(0x805);else _0x2579bb[_0x2bfa0d(0x5e0)]<0x0?_0x5536fe=_0x2bfa0d(0xa05):_0x5536fe=_0x2bfa0d(0x60f);}let _0x1f4451='-';if(_0x2579bb[_0x2bfa0d(0x521)]!==null){const _0x16da81=_0x2579bb[_0x2bfa0d(0x521)]>0x0?_0x2bfa0d(0x70d):_0x2579bb['tGain']<0x0?'text-red-600':'text-gray-500',_0x5792ac=_0x2579bb[_0x2bfa0d(0x521)]>0x0?'+':'';_0x1f4451=_0x2bfa0d(0x532)+_0x16da81+'\x22>'+_0x5792ac+_0x2579bb[_0x2bfa0d(0x521)][_0x2bfa0d(0x2a1)](0x2)+_0x2bfa0d(0x21c);}_0x5b550b+=_0x2bfa0d(0x86e)+(_0x433d9c+0x1)+_0x2bfa0d(0x6a5)+_0x2579bb['name']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x2579bb[_0x2bfa0d(0x6e2)]??'-')+_0x2bfa0d(0x9e8)+(_0x2579bb['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x211a88+_0x2bfa0d(0x85f)+_0x5536fe+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x2579bb[_0x2bfa0d(0x5a9)]?.['toFixed'](0x2)??'-')+_0x2bfa0d(0x4b5)+(_0x2579bb[_0x2bfa0d(0x58a)]?.[_0x2bfa0d(0x2a1)](0x2)??'-')+_0x2bfa0d(0x6d9)+_0x1f4451+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5b550b+=_0x5bc01a(0x8b6),_0x400686[_0x5bc01a(0x9e2)]=_0x5b550b;}function handleRenameQuiz(_0x363b83,_0x302bd4){const _0x853fcd=_0x1df5ec;actionTargetId=_0x363b83,document[_0x853fcd(0x1d3)](_0x853fcd(0x372))[_0x853fcd(0x750)]=_0x302bd4,renameQuizModal[_0x853fcd(0x838)]['remove']('hidden');}function setupComparisonModalTabs(){const _0x1bbda9=_0x1df5ec,_0x1359f6=document[_0x1bbda9(0x1d3)]('comparison-overall-tab'),_0x196f90=document['getElementById'](_0x1bbda9(0x84f)),_0x2c64ab=document[_0x1bbda9(0x1d3)](_0x1bbda9(0x9fd)),_0x548f7f=document[_0x1bbda9(0x1d3)](_0x1bbda9(0x5e9));_0x1359f6[_0x1bbda9(0x2ca)](_0x1bbda9(0x3c6),()=>{const _0x1aacef=_0x1bbda9;_0x1359f6[_0x1aacef(0x838)]['add'](_0x1aacef(0x22b)),_0x196f90[_0x1aacef(0x838)]['remove'](_0x1aacef(0x22b)),_0x2c64ab[_0x1aacef(0x838)][_0x1aacef(0x563)](_0x1aacef(0x46b)),_0x548f7f[_0x1aacef(0x838)][_0x1aacef(0x8a1)](_0x1aacef(0x46b));}),_0x196f90[_0x1bbda9(0x2ca)](_0x1bbda9(0x3c6),()=>{const _0x49fdb0=_0x1bbda9;_0x196f90[_0x49fdb0(0x838)][_0x49fdb0(0x8a1)](_0x49fdb0(0x22b)),_0x1359f6[_0x49fdb0(0x838)]['remove'](_0x49fdb0(0x22b)),_0x548f7f[_0x49fdb0(0x838)][_0x49fdb0(0x563)](_0x49fdb0(0x46b)),_0x2c64ab[_0x49fdb0(0x838)]['add']('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x38717d=''){const _0x440f98=_0x1df5ec,_0x4f4904=document[_0x440f98(0x1d3)](_0x440f98(0x522)),_0x217079=_0x38717d[_0x440f98(0x852)]()[_0x440f98(0x72a)](),_0x474d44=allQuizzesGlobal[_0x440f98(0x4e5)](_0x270aed=>({..._0x270aed,'projectName':allProjects['find'](_0x3e8dd8=>_0x3e8dd8['id']===_0x270aed[_0x440f98(0x642)])?.[_0x440f98(0x958)]||_0x270aed[_0x440f98(0x642)]}))[_0x440f98(0x93a)](_0x1f34a6=>(_0x1f34a6[_0x440f98(0x37f)]||'')[_0x440f98(0x852)]()['includes'](_0x217079)||(_0x1f34a6[_0x440f98(0x958)]||'')[_0x440f98(0x852)]()[_0x440f98(0x8b3)](_0x217079));document[_0x440f98(0x1d3)](_0x440f98(0x9b0))[_0x440f98(0x5b0)]='('+_0x474d44[_0x440f98(0x4a6)]+_0x440f98(0x9ad),_0x4f4904[_0x440f98(0x9e2)]=_0x474d44['length']?_0x474d44['map'](_0x978243=>_0x440f98(0x62f)+_0x978243['id']+_0x440f98(0x575)+(_0x978243['topic']||_0x440f98(0x2a7))+_0x440f98(0x361)+(_0x978243[_0x440f98(0x8f0)]?.[_0x440f98(0x4a6)]||0x0)+_0x440f98(0x892)+_0x978243[_0x440f98(0x958)]+_0x440f98(0x617))[_0x440f98(0x30f)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x440f98(0x1d3)]('confirm-global-live-btn')[_0x440f98(0x31d)]=!![],_0x4f4904[_0x440f98(0x882)](_0x440f98(0x5eb))['forEach'](_0x42e86d=>{const _0x56e710=_0x440f98;_0x42e86d[_0x56e710(0x2ca)](_0x56e710(0x3c6),()=>{const _0x499843=_0x56e710;selectedGlobalQuizId=_0x42e86d['dataset']['id'],_0x4f4904[_0x499843(0x882)](_0x499843(0x481))[_0x499843(0x722)](_0x912466=>_0x912466[_0x499843(0x838)][_0x499843(0x563)]('bg-purple-50','ring-2',_0x499843(0x73f))),_0x42e86d['classList'][_0x499843(0x8a1)]('bg-purple-50','ring-2','ring-purple-400'),document[_0x499843(0x1d3)](_0x499843(0x9bb))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x3d5074=_0x1df5ec;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x546beb=doc(db,'artifacts/'+appId+_0x3d5074(0x65d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x546beb,_0x2277cf=>{const _0x4e295b=_0x3d5074;if(!_0x2277cf[_0x4e295b(0x63b)]()){showMessage(_0x4e295b(0x718)),showView(currentMode);return;}const _0x4a11f3=_0x2277cf[_0x4e295b(0x5ad)]();_0x4a11f3['shuffledQuiz']&&(currentQuizData=_0x4a11f3[_0x4e295b(0x6a8)]);!currentQuizData&&_0x4a11f3['quizId']&&((async()=>{const _0x4dd5dd=_0x4e295b;try{const _0x14a723=doc(db,_0x4dd5dd(0x3d2)+appId+_0x4dd5dd(0x33d),_0x4a11f3[_0x4dd5dd(0x352)]),_0x15f497=await getDoc(_0x14a723);_0x15f497[_0x4dd5dd(0x63b)]()&&(currentQuizData={'id':_0x15f497['id'],..._0x15f497['data']()});}catch(_0xc1ed0){console[_0x4dd5dd(0x2e8)](_0x4dd5dd(0x780),_0xc1ed0);}})());switch(_0x4a11f3['status']){case _0x4e295b(0x927):if(currentMode===_0x4e295b(0x863)){const _0x51434f=_0x4a11f3[_0x4e295b(0x3eb)]?Object[_0x4e295b(0x373)](_0x4a11f3[_0x4e295b(0x3eb)]):[],_0x38a3a0=_0x51434f['filter'](([_0x243386,_0x5ce799])=>_0x5ce799[_0x4e295b(0x71b)]==='active'),_0x53665b=document[_0x4e295b(0x1d3)]('player-count');if(_0x53665b)_0x53665b[_0x4e295b(0x5b0)]=_0x38a3a0[_0x4e295b(0x4a6)];const _0x27e198=document['getElementById']('player-list-lobby');_0x27e198&&(_0x27e198[_0x4e295b(0x9e2)]=_0x38a3a0[_0x4e295b(0x4e5)](([_0x7ad2c,_0x5342f4])=>_0x4e295b(0x2b0)+_0x7ad2c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x7ad2c+_0x4e295b(0x19f))['join'](''));const _0x4f9c45=document[_0x4e295b(0x1d3)](_0x4e295b(0x5f7));_0x4f9c45&&(_0x4f9c45[_0x4e295b(0x31d)]=_0x38a3a0[_0x4e295b(0x4a6)]===0x0);}else showView(_0x4e295b(0x934)),liveGameView[_0x4e295b(0x9e2)]=_0x4e295b(0x19d)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x4e295b(0x446):const _0x33a22e=_0x4a11f3[_0x4e295b(0x473)];if(currentQuizData&&currentQuizData['questions'][_0x33a22e]){const _0x258884=currentQuizData[_0x4e295b(0x8f0)][_0x33a22e],_0x1d6c33=_0x4a11f3[_0x4e295b(0x3ad)]||_0x4e295b(0x9c3);switch(_0x1d6c33){case'summary_chart':currentMode===_0x4e295b(0x863)?showAdminSummaryView(_0x4a11f3,_0x258884):showPlayerSummaryView(_0x4a11f3,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x4a11f3);break;case'answering':default:if(currentMode===_0x4e295b(0x863)){const _0x6f8103=writeBatch(db);let _0x4ce3f4=![];Object[_0x4e295b(0x373)](_0x4a11f3[_0x4e295b(0x3eb)])[_0x4e295b(0x722)](([_0x12678f,_0xd34407])=>{const _0x25d6e9=_0x4e295b;if(_0xd34407[_0x25d6e9(0x71b)]==='active'&&_0xd34407['submittedAt']&&!_0xd34407[_0x25d6e9(0x6ed)]){_0x4ce3f4=!![];const _0x4e843f=_0xd34407[_0x25d6e9(0x860)][_0x25d6e9(0x990)]()-_0x4a11f3[_0x25d6e9(0x767)][_0x25d6e9(0x990)]();let _0x594d6b=0x0;if(_0xd34407[_0x25d6e9(0x37d)]){const _0x4c168c=0x3e8,_0x5bbd24=0x1f4,_0x52d1cc=0x4e20;let _0x41849b=_0x4e843f/_0x52d1cc;if(_0x41849b>0x1)_0x41849b=0x1;const _0x21987a=Math[_0x25d6e9(0x493)](_0x41849b*_0x5bbd24);_0x594d6b=_0x4c168c-_0x21987a;}const _0x151683=doc(db,_0x25d6e9(0x3d2)+appId+_0x25d6e9(0x65d),currentLiveGameId);_0x6f8103[_0x25d6e9(0x207)](_0x151683,{[_0x25d6e9(0x5a8)+_0x12678f+'.score']:increment(_0x594d6b),['players.'+_0x12678f+_0x25d6e9(0x35c)]:_0x594d6b,['players.'+_0x12678f+_0x25d6e9(0x61e)]:!![]});}});_0x4ce3f4&&_0x6f8103['commit']()[_0x4e295b(0x488)](_0x54364d=>console[_0x4e295b(0x2e8)](_0x4e295b(0x375),_0x54364d));lastRenderedAdminQuestionIndex!==_0x33a22e&&(showAdminLiveQuestionView(_0x258884,_0x33a22e,currentQuizData[_0x4e295b(0x8f0)][_0x4e295b(0x4a6)]),lastRenderedAdminQuestionIndex=_0x33a22e);const _0x593840=_0x4a11f3[_0x4e295b(0x3eb)]||{},_0x2d8bc2=Object[_0x4e295b(0x56c)](_0x593840)['filter'](_0x4b1922=>_0x4b1922[_0x4e295b(0x71b)]==='active'),_0x3c9a25=_0x2d8bc2[_0x4e295b(0x4a6)],_0x1db96e=_0x2d8bc2[_0x4e295b(0x93a)](_0x3b35ca=>_0x3b35ca[_0x4e295b(0x1dc)]===!![])['length'],_0x228711=document['getElementById']('answer-counter');if(_0x228711)_0x228711[_0x4e295b(0x5b0)]=_0x1db96e+'/'+_0x3c9a25;const _0x5dfebc=document[_0x4e295b(0x1d3)]('live-player-list');if(_0x5dfebc){let _0x319e79=Object[_0x4e295b(0x373)](_0x593840)[_0x4e295b(0x93a)](([_0x417aa3,_0x774761])=>_0x774761[_0x4e295b(0x71b)]===_0x4e295b(0x22b))[_0x4e295b(0x4e5)](([_0x57477c,_0x1bdc25])=>{const _0x1ee2bb=_0x4e295b,_0x296c2a=_0x1bdc25[_0x1ee2bb(0x1dc)]===!![],_0x5cf9da=_0x296c2a?_0x1ee2bb(0x345):_0x1ee2bb(0x41c),_0x4cd505=_0x296c2a?_0x1ee2bb(0x7ba):_0x1ee2bb(0x778);return _0x1ee2bb(0x855)+_0x5cf9da+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cd505+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x57477c+_0x1ee2bb(0x83f)+_0x57477c+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4e295b(0x30f)]('');_0x5dfebc[_0x4e295b(0x9e2)]=_0x319e79||_0x4e295b(0x4eb);}_0x3c9a25>0x0&&_0x1db96e===_0x3c9a25&&revealAnswerForAdmin(_0x33a22e,currentQuizData[_0x4e295b(0x8f0)][_0x4e295b(0x4a6)]);}else{const _0x2e1773=_0x4a11f3[_0x4e295b(0x3eb)][currentStudentName];_0x2e1773&&!_0x2e1773[_0x4e295b(0x1dc)]&&showStudentLiveQuestionView(_0x258884,_0x33a22e,currentQuizData[_0x4e295b(0x8f0)][_0x4e295b(0x4a6)]);}break;}}break;case _0x4e295b(0x70a):showPodiumView(_0x4a11f3[_0x4e295b(0x3eb)]);break;}});}async function handleKickPlayer(_0x445c7b){const _0x5d95e6=_0x1df5ec;if(!currentLiveGameId||!_0x445c7b)return;const _0x4ea118=doc(db,_0x5d95e6(0x3d2)+appId+'/public/data/liveGames',currentLiveGameId),_0x5f1ebb={};_0x5f1ebb[_0x5d95e6(0x5a8)+_0x445c7b+_0x5d95e6(0x96c)]=_0x5d95e6(0x721);try{await updateDoc(_0x4ea118,_0x5f1ebb);}catch(_0x26a5b2){console[_0x5d95e6(0x2e8)](_0x5d95e6(0x2f4)+_0x445c7b+':',_0x26a5b2),showMessage(_0x5d95e6(0x73c));}}async function authenticateUser(){const _0x26925f=_0x1df5ec;try{typeof __initial_auth_token!==_0x26925f(0x7d5)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x6b24db){console[_0x26925f(0x2e8)](_0x26925f(0x845),_0x6b24db),showMessage(_0x26925f(0x442));}}function showView(_0xcc43bc){const _0xfaf51b=_0x1df5ec,_0x2fad45=['admin-view',_0xfaf51b(0x696),'project-dashboard-view',_0xfaf51b(0x21f),_0xfaf51b(0x8c4),_0xfaf51b(0x9f0),_0xfaf51b(0x708)];_0x2fad45[_0xfaf51b(0x722)](_0xeaae22=>document[_0xfaf51b(0x1d3)](_0xeaae22)?.[_0xfaf51b(0x838)]['add'](_0xfaf51b(0x46b)));if(_0xcc43bc==='admin-dashboard')adminView[_0xfaf51b(0x838)][_0xfaf51b(0x563)](_0xfaf51b(0x46b)),projectDashboardView[_0xfaf51b(0x838)][_0xfaf51b(0x563)](_0xfaf51b(0x46b));else{if(_0xcc43bc===_0xfaf51b(0x98a))studentView['classList'][_0xfaf51b(0x563)](_0xfaf51b(0x46b)),studentInitialView['classList'][_0xfaf51b(0x563)]('hidden'),studentNameSelectionView['classList'][_0xfaf51b(0x8a1)](_0xfaf51b(0x46b)),studentQuizArea['classList'][_0xfaf51b(0x8a1)](_0xfaf51b(0x46b)),studentResultArea[_0xfaf51b(0x838)]['add']('hidden'),studentReadingArea[_0xfaf51b(0x838)][_0xfaf51b(0x8a1)](_0xfaf51b(0x46b)),studentJoinGameView[_0xfaf51b(0x838)][_0xfaf51b(0x8a1)]('hidden');else{if(_0xcc43bc===_0xfaf51b(0x978))adminView[_0xfaf51b(0x838)][_0xfaf51b(0x563)]('hidden'),projectDetailView[_0xfaf51b(0x838)][_0xfaf51b(0x563)](_0xfaf51b(0x46b));else{if(_0xcc43bc===_0xfaf51b(0x282))adminView['classList'][_0xfaf51b(0x563)](_0xfaf51b(0x46b)),quizResultsView[_0xfaf51b(0x838)][_0xfaf51b(0x563)](_0xfaf51b(0x46b));else _0xcc43bc===_0xfaf51b(0x934)&&liveGameView[_0xfaf51b(0x838)]['remove'](_0xfaf51b(0x46b));}}}}function showJoinGameView(){const _0x1defe1=_0x1df5ec;studentInitialView['classList'][_0x1defe1(0x8a1)](_0x1defe1(0x46b)),studentJoinGameView[_0x1defe1(0x838)]['remove'](_0x1defe1(0x46b));}async function handleSaveVisibilitySettings(){const _0x49cb94=_0x1df5ec;if(!currentProjectId)return;const _0x499155=doc(db,_0x49cb94(0x3d2)+appId+_0x49cb94(0x8bc),currentProjectId);try{await updateDoc(_0x499155,{'settings.showInStudentDashboard':document[_0x49cb94(0x1d3)]('show-in-student-dashboard-checkbox')[_0x49cb94(0x5fb)],'settings.isPasscodeEnabled':document[_0x49cb94(0x1d3)](_0x49cb94(0x505))[_0x49cb94(0x5fb)],'settings.passcode':document[_0x49cb94(0x1d3)](_0x49cb94(0x353))[_0x49cb94(0x750)]['trim']()}),showMessage(_0x49cb94(0x95c));}catch(_0x563c31){console[_0x49cb94(0x2e8)](_0x49cb94(0x79f),_0x563c31),showMessage(_0x49cb94(0x2df));}}function setupEventListeners(){const _0x22a338=_0x1df5ec,_0x2ee07d=document[_0x22a338(0x1d3)](_0x22a338(0x9f0));_0x2ee07d[_0x22a338(0x2ca)](_0x22a338(0x3c6),_0xc75c5e=>{const _0x2e17d1=_0x22a338,_0x4c5dfb=_0xc75c5e[_0x2e17d1(0x9ff)][_0x2e17d1(0x7da)](_0x2e17d1(0x8fd));document[_0x2e17d1(0x882)](_0x2e17d1(0x621))[_0x2e17d1(0x722)](_0x4262c6=>{const _0x1e1d93=_0x2e17d1;(!_0x4c5dfb||_0x4262c6['id']!==_0x4c5dfb[_0x1e1d93(0x984)][_0x1e1d93(0x48a)])&&_0x4262c6[_0x1e1d93(0x838)][_0x1e1d93(0x563)](_0x1e1d93(0x4e0));});if(!_0x4c5dfb)return;const _0xe0bd76=_0x4c5dfb[_0x2e17d1(0x984)]['tooltipTarget'],_0x1de093=document[_0x2e17d1(0x1d3)](_0xe0bd76);_0x1de093&&_0x1de093[_0x2e17d1(0x838)][_0x2e17d1(0x8f4)]('visible');}),_0x2ee07d[_0x22a338(0x2ca)](_0x22a338(0x3c6),_0x3e7a48=>{const _0x514fbc=_0x22a338;if(_0x3e7a48[_0x514fbc(0x9ff)][_0x514fbc(0x838)][_0x514fbc(0x54c)](_0x514fbc(0x291))){const _0x2f49f5=_0x3e7a48[_0x514fbc(0x9ff)][_0x514fbc(0x984)]['playerName'];_0x2f49f5&&handleKickPlayer(_0x2f49f5);}}),document[_0x22a338(0x1d3)](_0x22a338(0x6ea))['addEventListener'](_0x22a338(0x579),()=>document[_0x22a338(0x1d3)]('save-project-name-btn')[_0x22a338(0x838)][_0x22a338(0x563)](_0x22a338(0x46b))),document['getElementById']('save-project-name-btn')['addEventListener'](_0x22a338(0x3c6),handleSaveProjectName),document['getElementById'](_0x22a338(0x6ea))['addEventListener'](_0x22a338(0x92b),_0x1838cd=>{const _0x4e9428=_0x22a338;_0x1838cd[_0x4e9428(0x7b1)]===_0x4e9428(0x1a3)&&(_0x1838cd['preventDefault'](),_0x1838cd[_0x4e9428(0x9ff)][_0x4e9428(0x3bb)](),handleSaveProjectName());}),document['getElementById'](_0x22a338(0x3ac))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x893f37=_0x22a338;document['getElementById'](_0x893f37(0x34c))[_0x893f37(0x838)][_0x893f37(0x563)](_0x893f37(0x46b));}),document['getElementById'](_0x22a338(0x771))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x52afdf=_0x22a338;document['getElementById'](_0x52afdf(0x34c))[_0x52afdf(0x838)][_0x52afdf(0x8a1)]('hidden');}),document[_0x22a338(0x1d3)](_0x22a338(0x4cc))[_0x22a338(0x2ca)]('click',handleBulkUpdateQuizSettings),document[_0x22a338(0x1d3)](_0x22a338(0x58e))['addEventListener'](_0x22a338(0x3c6),handleModeSwitch),document[_0x22a338(0x1d3)]('update-old-quizzes-btn')['addEventListener'](_0x22a338(0x3c6),handleUpdateOldQuizzes),document['getElementById'](_0x22a338(0x74b))[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleResetProjectOrder),document['getElementById'](_0x22a338(0x253))['addEventListener'](_0x22a338(0x3c6),handleSaveVisibilitySettings),document[_0x22a338(0x1d3)](_0x22a338(0x735))[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleAddCustomMathTopic),document[_0x22a338(0x1d3)](_0x22a338(0x52b))[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleSelectAllTopics),document['getElementById'](_0x22a338(0x7ea))[_0x22a338(0x2ca)]('click',handleDeselectAllTopics),document[_0x22a338(0x1d3)](_0x22a338(0x1e7))['addEventListener'](_0x22a338(0x3c6),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x22a338(0x1d3)](_0x22a338(0x3f4))['addEventListener'](_0x22a338(0x3c6),()=>{const _0x48f575=_0x22a338;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x48f575(0x978));}),document[_0x22a338(0x1d3)](_0x22a338(0x567))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x1a2e2b=_0x22a338;showView(_0x1a2e2b(0x98f));}),document[_0x22a338(0x1d3)](_0x22a338(0x5c3))[_0x22a338(0x2ca)]('click',()=>{const _0x377731=_0x22a338;messageModal[_0x377731(0x838)][_0x377731(0x8a1)](_0x377731(0x46b)),typeof modalConfirmAction===_0x377731(0x77a)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x22a338(0x1d3)](_0x22a338(0x62a))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>createProjectModal['classList'][_0x22a338(0x563)](_0x22a338(0x46b))),document['getElementById'](_0x22a338(0x67c))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>createProjectModal[_0x22a338(0x838)][_0x22a338(0x8a1)]('hidden')),document[_0x22a338(0x1d3)](_0x22a338(0x719))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>adminPasswordModal['classList'][_0x22a338(0x8a1)](_0x22a338(0x46b))),document[_0x22a338(0x1d3)]('confirm-admin-login-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleAdminLogin),document['getElementById']('admin-password-input')['addEventListener'](_0x22a338(0x3a5),_0x59d95a=>{const _0x3b7451=_0x22a338;if(_0x59d95a[_0x3b7451(0x7b1)]===_0x3b7451(0x1a3))handleAdminLogin();}),document['getElementById'](_0x22a338(0x3fa))['addEventListener'](_0x22a338(0x3c6),()=>{const _0x5368db=_0x22a338;confirmationModal[_0x5368db(0x838)]['add'](_0x5368db(0x46b)),confirmAction=null;}),document[_0x22a338(0x1d3)]('confirm-delete-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0xfb6604=_0x22a338;confirmAction&&confirmAction(),confirmationModal['classList'][_0xfb6604(0x8a1)]('hidden'),confirmAction=null;}),document[_0x22a338(0x1d3)](_0x22a338(0x4aa))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>renameQuizModal[_0x22a338(0x838)]['add']('hidden')),document[_0x22a338(0x1d3)](_0x22a338(0x3c7))['addEventListener'](_0x22a338(0x3c6),confirmRenameQuiz),document[_0x22a338(0x1d3)](_0x22a338(0x986))['addEventListener'](_0x22a338(0x3c6),()=>moveQuizModal['classList'][_0x22a338(0x8a1)](_0x22a338(0x46b))),document[_0x22a338(0x1d3)]('confirm-move-quiz-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),confirmMoveQuiz),document[_0x22a338(0x1d3)](_0x22a338(0x6a7))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>quizSettingsModal['classList'][_0x22a338(0x8a1)](_0x22a338(0x46b))),document[_0x22a338(0x1d3)](_0x22a338(0x8b1))[_0x22a338(0x2ca)](_0x22a338(0x3c6),confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>quizStatusModal[_0x22a338(0x838)][_0x22a338(0x8a1)]('hidden')),document[_0x22a338(0x1d3)](_0x22a338(0x961))[_0x22a338(0x2ca)](_0x22a338(0x3c6),confirmQuizStatus);const _0x3b90c4=document[_0x22a338(0x1d3)](_0x22a338(0x50c));document[_0x22a338(0x1d3)](_0x22a338(0x83d))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x32fb41=_0x22a338;_0x3b90c4[_0x32fb41(0x838)][_0x32fb41(0x8a1)](_0x32fb41(0x46b));}),document[_0x22a338(0x1d3)]('export-compact-pdf-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),async()=>{const _0x2b3534=_0x22a338,_0x3c0997=allQuizzes[_0x2b3534(0x500)](_0x489011=>_0x489011['id']===actionTargetId);_0x3c0997?(currentQuizData=_0x3c0997,exportQuizAsWorksheetPDF()):showMessage(_0x2b3534(0x7df)),_0x3b90c4[_0x2b3534(0x838)][_0x2b3534(0x8a1)]('hidden');}),document['getElementById'](_0x22a338(0x9b4))[_0x22a338(0x2ca)](_0x22a338(0x3c6),async()=>{const _0x1dec58=_0x22a338,_0x135e01=allQuizzes[_0x1dec58(0x500)](_0x2a1407=>_0x2a1407['id']===actionTargetId);_0x135e01?(currentQuizData=_0x135e01,exportQuizAsTutorPDF()):showMessage(_0x1dec58(0x7df)),_0x3b90c4[_0x1dec58(0x838)][_0x1dec58(0x8a1)](_0x1dec58(0x46b));}),document[_0x22a338(0x1d3)]('open-global-live-btn')[_0x22a338(0x2ca)]('click',openGlobalLiveModal),document['getElementById'](_0x22a338(0x70f))['addEventListener']('click',()=>{const _0x26e69c=_0x22a338;document[_0x26e69c(0x1d3)](_0x26e69c(0x7a8))[_0x26e69c(0x838)][_0x26e69c(0x8a1)](_0x26e69c(0x46b)),selectedGlobalQuizId=null;}),document[_0x22a338(0x1d3)](_0x22a338(0x64e))['addEventListener'](_0x22a338(0x228),_0x287d18=>renderGlobalQuizList(_0x287d18[_0x22a338(0x9ff)][_0x22a338(0x750)])),document[_0x22a338(0x1d3)](_0x22a338(0x9bb))['addEventListener'](_0x22a338(0x3c6),()=>{const _0x1d8b44=_0x22a338,_0x29f548=selectedGlobalQuizId;if(!_0x29f548)return;document['getElementById'](_0x1d8b44(0x7a8))[_0x1d8b44(0x838)][_0x1d8b44(0x8a1)](_0x1d8b44(0x46b)),handleStartLiveRace(_0x29f548);}),document[_0x22a338(0x1d3)]('project-search-input')[_0x22a338(0x2ca)](_0x22a338(0x228),renderProjects),document[_0x22a338(0x1d3)](_0x22a338(0x8bb))[_0x22a338(0x2ca)](_0x22a338(0x9df),async()=>{const _0x5af08e=_0x22a338,_0x2f43c0=document[_0x5af08e(0x1d3)]('project-sort-select')[_0x5af08e(0x750)],_0x2b1b64=doc(db,_0x5af08e(0x382),_0x5af08e(0x72b));try{await setDoc(_0x2b1b64,{'projectSort':_0x2f43c0},{'merge':!![]});}catch(_0x98cd62){console[_0x5af08e(0x2e8)](_0x5af08e(0x4da),_0x98cd62),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x22a338(0x1d3)]('quiz-search-input')['addEventListener'](_0x22a338(0x228),renderQuizzes),document['getElementById']('grid-view-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x522555=_0x22a338;globalDashboardSettings[_0x522555(0x33c)]=_0x522555(0x2c3),saveUserPreference('projectView',_0x522555(0x2c3)),renderProjects();}),document[_0x22a338(0x1d3)](_0x22a338(0x4e2))['addEventListener'](_0x22a338(0x3c6),()=>{const _0x280537=_0x22a338;globalDashboardSettings['projectView']=_0x280537(0x81f),saveUserPreference(_0x280537(0x33c),_0x280537(0x81f)),renderProjects();}),manageTab['addEventListener']('click',()=>switchProjectTab(_0x22a338(0x320))),resultsTab[_0x22a338(0x2ca)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x22a338(0x2ca)]('click',()=>switchProjectTab(_0x22a338(0x196))),document[_0x22a338(0x1d3)](_0x22a338(0x321))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>switchQuizDetailTab(_0x22a338(0x307))),document[_0x22a338(0x1d3)](_0x22a338(0x3f6))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>switchQuizDetailTab('scores')),document[_0x22a338(0x1d3)](_0x22a338(0x2d7))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>switchQuizDetailTab(_0x22a338(0x67d))),document['getElementById'](_0x22a338(0x1ef))['addEventListener'](_0x22a338(0x3c6),()=>switchQuizDetailTab(_0x22a338(0x85d))),document[_0x22a338(0x1d3)](_0x22a338(0x3ce))[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleAnalyzeClass),generateWorksheetBtn[_0x22a338(0x2ca)](_0x22a338(0x3c6),generateWorksheet);const _0x3524d6=document[_0x22a338(0x1d3)](_0x22a338(0x263)),_0x5a8cd3=document[_0x22a338(0x1d3)](_0x22a338(0x6bc)),_0x4db32a=document[_0x22a338(0x1d3)](_0x22a338(0x9cd)),_0x90d125=document['getElementById']('blueprint-input-area'),_0x43790e=document[_0x22a338(0x1d3)](_0x22a338(0x2d4)),_0x3c610f=document[_0x22a338(0x1d3)](_0x22a338(0x6cb));topicTab['addEventListener'](_0x22a338(0x3c6),()=>{const _0x1d1a09=_0x22a338;topicTab[_0x1d1a09(0x838)][_0x1d1a09(0x8a1)](_0x1d1a09(0x22b)),textTab[_0x1d1a09(0x838)][_0x1d1a09(0x563)](_0x1d1a09(0x22b)),fileTab[_0x1d1a09(0x838)][_0x1d1a09(0x563)](_0x1d1a09(0x22b)),worksheetTab['classList'][_0x1d1a09(0x563)](_0x1d1a09(0x22b));if(_0x3524d6)_0x3524d6[_0x1d1a09(0x838)][_0x1d1a09(0x563)](_0x1d1a09(0x22b));if(_0x4db32a)_0x4db32a['classList']['remove'](_0x1d1a09(0x22b));if(_0x43790e)_0x43790e[_0x1d1a09(0x838)][_0x1d1a09(0x563)]('active');topicInputArea['classList'][_0x1d1a09(0x563)](_0x1d1a09(0x46b)),textInputArea[_0x1d1a09(0x838)][_0x1d1a09(0x8a1)](_0x1d1a09(0x46b)),fileInputArea[_0x1d1a09(0x838)]['add'](_0x1d1a09(0x46b)),worksheetInputArea[_0x1d1a09(0x838)][_0x1d1a09(0x8a1)](_0x1d1a09(0x46b));if(_0x5a8cd3)_0x5a8cd3[_0x1d1a09(0x838)][_0x1d1a09(0x8a1)](_0x1d1a09(0x46b));if(_0x90d125)_0x90d125[_0x1d1a09(0x838)][_0x1d1a09(0x8a1)](_0x1d1a09(0x46b));if(_0x3c610f)_0x3c610f[_0x1d1a09(0x838)]['add'](_0x1d1a09(0x46b));}),textTab['addEventListener'](_0x22a338(0x3c6),()=>{const _0x3e025b=_0x22a338;textTab[_0x3e025b(0x838)][_0x3e025b(0x8a1)](_0x3e025b(0x22b)),topicTab[_0x3e025b(0x838)][_0x3e025b(0x563)]('active'),fileTab[_0x3e025b(0x838)][_0x3e025b(0x563)](_0x3e025b(0x22b)),worksheetTab[_0x3e025b(0x838)][_0x3e025b(0x563)](_0x3e025b(0x22b));if(_0x3524d6)_0x3524d6['classList'][_0x3e025b(0x563)](_0x3e025b(0x22b));if(_0x4db32a)_0x4db32a[_0x3e025b(0x838)][_0x3e025b(0x563)]('active');if(_0x43790e)_0x43790e[_0x3e025b(0x838)][_0x3e025b(0x563)](_0x3e025b(0x22b));textInputArea[_0x3e025b(0x838)][_0x3e025b(0x563)]('hidden'),topicInputArea[_0x3e025b(0x838)][_0x3e025b(0x8a1)](_0x3e025b(0x46b)),fileInputArea[_0x3e025b(0x838)][_0x3e025b(0x8a1)](_0x3e025b(0x46b)),worksheetInputArea['classList'][_0x3e025b(0x8a1)]('hidden');if(_0x5a8cd3)_0x5a8cd3[_0x3e025b(0x838)][_0x3e025b(0x8a1)](_0x3e025b(0x46b));if(_0x90d125)_0x90d125['classList'][_0x3e025b(0x8a1)](_0x3e025b(0x46b));if(_0x3c610f)_0x3c610f[_0x3e025b(0x838)][_0x3e025b(0x8a1)](_0x3e025b(0x46b));}),fileTab[_0x22a338(0x2ca)]('click',()=>{const _0x528094=_0x22a338;fileTab[_0x528094(0x838)][_0x528094(0x8a1)](_0x528094(0x22b)),topicTab[_0x528094(0x838)]['remove'](_0x528094(0x22b)),textTab['classList'][_0x528094(0x563)](_0x528094(0x22b)),worksheetTab[_0x528094(0x838)][_0x528094(0x563)](_0x528094(0x22b));if(_0x3524d6)_0x3524d6[_0x528094(0x838)]['remove'](_0x528094(0x22b));if(_0x4db32a)_0x4db32a['classList'][_0x528094(0x563)](_0x528094(0x22b));if(_0x43790e)_0x43790e[_0x528094(0x838)]['remove'](_0x528094(0x22b));fileInputArea[_0x528094(0x838)]['remove']('hidden'),topicInputArea['classList'][_0x528094(0x8a1)](_0x528094(0x46b)),textInputArea[_0x528094(0x838)]['add'](_0x528094(0x46b)),worksheetInputArea['classList'][_0x528094(0x8a1)](_0x528094(0x46b));if(_0x5a8cd3)_0x5a8cd3[_0x528094(0x838)][_0x528094(0x8a1)]('hidden');if(_0x90d125)_0x90d125[_0x528094(0x838)]['add'](_0x528094(0x46b));if(_0x3c610f)_0x3c610f[_0x528094(0x838)][_0x528094(0x8a1)](_0x528094(0x46b));}),worksheetTab[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0xf8c959=_0x22a338;worksheetTab[_0xf8c959(0x838)]['add']('active'),topicTab[_0xf8c959(0x838)]['remove'](_0xf8c959(0x22b)),textTab[_0xf8c959(0x838)][_0xf8c959(0x563)](_0xf8c959(0x22b)),fileTab[_0xf8c959(0x838)][_0xf8c959(0x563)](_0xf8c959(0x22b));if(_0x3524d6)_0x3524d6['classList'][_0xf8c959(0x563)]('active');if(_0x4db32a)_0x4db32a[_0xf8c959(0x838)][_0xf8c959(0x563)](_0xf8c959(0x22b));if(_0x43790e)_0x43790e[_0xf8c959(0x838)][_0xf8c959(0x563)]('active');worksheetInputArea[_0xf8c959(0x838)][_0xf8c959(0x563)](_0xf8c959(0x46b)),topicInputArea['classList'][_0xf8c959(0x8a1)](_0xf8c959(0x46b)),textInputArea['classList'][_0xf8c959(0x8a1)]('hidden'),fileInputArea[_0xf8c959(0x838)][_0xf8c959(0x8a1)](_0xf8c959(0x46b));if(_0x5a8cd3)_0x5a8cd3[_0xf8c959(0x838)]['add'](_0xf8c959(0x46b));if(_0x90d125)_0x90d125[_0xf8c959(0x838)][_0xf8c959(0x8a1)](_0xf8c959(0x46b));if(_0x3c610f)_0x3c610f[_0xf8c959(0x838)]['add']('hidden');});const _0x2b77b1=document[_0x22a338(0x1d3)]('bank-tab'),_0x444b7e=document[_0x22a338(0x1d3)](_0x22a338(0x99b));_0x2b77b1&&_0x2b77b1['addEventListener'](_0x22a338(0x3c6),()=>{const _0x48a18d=_0x22a338;topicTab[_0x48a18d(0x838)][_0x48a18d(0x563)](_0x48a18d(0x22b)),textTab[_0x48a18d(0x838)][_0x48a18d(0x563)](_0x48a18d(0x22b)),fileTab['classList']['remove'](_0x48a18d(0x22b)),worksheetTab[_0x48a18d(0x838)]['remove'](_0x48a18d(0x22b));if(_0x3524d6)_0x3524d6[_0x48a18d(0x838)]['remove'](_0x48a18d(0x22b));if(_0x4db32a)_0x4db32a[_0x48a18d(0x838)][_0x48a18d(0x563)](_0x48a18d(0x22b));if(_0x43790e)_0x43790e[_0x48a18d(0x838)][_0x48a18d(0x563)](_0x48a18d(0x22b));_0x2b77b1[_0x48a18d(0x838)][_0x48a18d(0x8a1)]('active'),topicInputArea[_0x48a18d(0x838)][_0x48a18d(0x8a1)](_0x48a18d(0x46b)),textInputArea[_0x48a18d(0x838)][_0x48a18d(0x8a1)](_0x48a18d(0x46b)),fileInputArea[_0x48a18d(0x838)][_0x48a18d(0x8a1)](_0x48a18d(0x46b)),worksheetInputArea['classList']['add'](_0x48a18d(0x46b));if(_0x5a8cd3)_0x5a8cd3[_0x48a18d(0x838)]['add'](_0x48a18d(0x46b));if(_0x90d125)_0x90d125[_0x48a18d(0x838)]['add'](_0x48a18d(0x46b));if(_0x3c610f)_0x3c610f[_0x48a18d(0x838)]['add'](_0x48a18d(0x46b));_0x444b7e[_0x48a18d(0x838)][_0x48a18d(0x563)](_0x48a18d(0x46b)),displayQuestionBank();});_0x3524d6&&(_0x3524d6[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x2ec4a8=_0x22a338;_0x3524d6[_0x2ec4a8(0x838)][_0x2ec4a8(0x8a1)](_0x2ec4a8(0x22b)),topicTab['classList'][_0x2ec4a8(0x563)](_0x2ec4a8(0x22b)),textTab['classList'][_0x2ec4a8(0x563)]('active'),fileTab[_0x2ec4a8(0x838)][_0x2ec4a8(0x563)]('active'),worksheetTab[_0x2ec4a8(0x838)]['remove'](_0x2ec4a8(0x22b));if(_0x4db32a)_0x4db32a['classList'][_0x2ec4a8(0x563)](_0x2ec4a8(0x22b));if(_0x43790e)_0x43790e[_0x2ec4a8(0x838)][_0x2ec4a8(0x563)](_0x2ec4a8(0x22b));_0x5a8cd3[_0x2ec4a8(0x838)]['remove'](_0x2ec4a8(0x46b)),topicInputArea[_0x2ec4a8(0x838)][_0x2ec4a8(0x8a1)](_0x2ec4a8(0x46b)),textInputArea[_0x2ec4a8(0x838)][_0x2ec4a8(0x8a1)](_0x2ec4a8(0x46b)),fileInputArea[_0x2ec4a8(0x838)][_0x2ec4a8(0x8a1)]('hidden'),worksheetInputArea[_0x2ec4a8(0x838)][_0x2ec4a8(0x8a1)]('hidden');if(_0x90d125)_0x90d125[_0x2ec4a8(0x838)][_0x2ec4a8(0x8a1)]('hidden');if(_0x3c610f)_0x3c610f[_0x2ec4a8(0x838)][_0x2ec4a8(0x8a1)](_0x2ec4a8(0x46b));}),document[_0x22a338(0x1d3)]('generate-from-link-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleGenerateFromLink));_0x4db32a&&_0x4db32a[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x312ddc=_0x22a338;_0x4db32a[_0x312ddc(0x838)][_0x312ddc(0x8a1)](_0x312ddc(0x22b)),topicTab['classList'][_0x312ddc(0x563)](_0x312ddc(0x22b)),textTab[_0x312ddc(0x838)]['remove']('active'),fileTab['classList']['remove']('active'),worksheetTab['classList'][_0x312ddc(0x563)]('active');if(_0x3524d6)_0x3524d6[_0x312ddc(0x838)][_0x312ddc(0x563)](_0x312ddc(0x22b));if(_0x2b77b1)_0x2b77b1[_0x312ddc(0x838)][_0x312ddc(0x563)](_0x312ddc(0x22b));if(_0x43790e)_0x43790e['classList'][_0x312ddc(0x563)](_0x312ddc(0x22b));_0x90d125['classList'][_0x312ddc(0x563)](_0x312ddc(0x46b)),topicInputArea[_0x312ddc(0x838)][_0x312ddc(0x8a1)]('hidden'),textInputArea[_0x312ddc(0x838)][_0x312ddc(0x8a1)](_0x312ddc(0x46b)),fileInputArea[_0x312ddc(0x838)]['add'](_0x312ddc(0x46b)),worksheetInputArea[_0x312ddc(0x838)][_0x312ddc(0x8a1)](_0x312ddc(0x46b));if(_0x5a8cd3)_0x5a8cd3['classList'][_0x312ddc(0x8a1)](_0x312ddc(0x46b));if(_0x444b7e)_0x444b7e[_0x312ddc(0x838)][_0x312ddc(0x8a1)](_0x312ddc(0x46b));if(_0x3c610f)_0x3c610f[_0x312ddc(0x838)]['add']('hidden');});_0x43790e&&_0x43790e[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x5685a6=_0x22a338;_0x43790e[_0x5685a6(0x838)]['add'](_0x5685a6(0x22b)),topicTab[_0x5685a6(0x838)][_0x5685a6(0x563)](_0x5685a6(0x22b)),textTab[_0x5685a6(0x838)][_0x5685a6(0x563)](_0x5685a6(0x22b)),fileTab[_0x5685a6(0x838)][_0x5685a6(0x563)]('active'),worksheetTab[_0x5685a6(0x838)]['remove'](_0x5685a6(0x22b));if(_0x3524d6)_0x3524d6['classList'][_0x5685a6(0x563)]('active');if(_0x4db32a)_0x4db32a[_0x5685a6(0x838)][_0x5685a6(0x563)](_0x5685a6(0x22b));if(_0x2b77b1)_0x2b77b1[_0x5685a6(0x838)][_0x5685a6(0x563)](_0x5685a6(0x22b));_0x3c610f[_0x5685a6(0x838)][_0x5685a6(0x563)](_0x5685a6(0x46b)),topicInputArea[_0x5685a6(0x838)][_0x5685a6(0x8a1)](_0x5685a6(0x46b)),textInputArea[_0x5685a6(0x838)][_0x5685a6(0x8a1)](_0x5685a6(0x46b)),fileInputArea[_0x5685a6(0x838)]['add'](_0x5685a6(0x46b)),worksheetInputArea['classList'][_0x5685a6(0x8a1)](_0x5685a6(0x46b));if(_0x5a8cd3)_0x5a8cd3[_0x5685a6(0x838)]['add'](_0x5685a6(0x46b));if(_0x90d125)_0x90d125['classList'][_0x5685a6(0x8a1)](_0x5685a6(0x46b));if(_0x444b7e)_0x444b7e[_0x5685a6(0x838)][_0x5685a6(0x8a1)]('hidden');});const _0x214e8e=document[_0x22a338(0x1d3)](_0x22a338(0x88e)),_0x9889ca=document[_0x22a338(0x1d3)](_0x22a338(0x492));_0x214e8e&&_0x214e8e[_0x22a338(0x2ca)](_0x22a338(0x9df),_0x3e8225=>{const _0x1258be=_0x22a338;_0x3e8225[_0x1258be(0x9ff)]['files'][_0x1258be(0x4a6)]>0x0?_0x9889ca[_0x1258be(0x31d)]=![]:_0x9889ca[_0x1258be(0x31d)]=!![];});_0x9889ca&&_0x9889ca[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleGenerateFromBlueprint);const _0x15042d=document['getElementById'](_0x22a338(0x684)),_0x5ea220=document[_0x22a338(0x1d3)](_0x22a338(0x526));_0x15042d&&_0x15042d[_0x22a338(0x2ca)](_0x22a338(0x9df),_0x381d7a=>{const _0x32c711=_0x22a338;_0x5ea220[_0x32c711(0x31d)]=_0x381d7a['target'][_0x32c711(0x76f)]['length']===0x0;});_0x5ea220&&_0x5ea220[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x22a338(0x3c6),handleLoadQuiz),startQuizBtn[_0x22a338(0x2ca)]('click',async()=>{const _0x206cfa=_0x22a338,_0x268baa=document[_0x206cfa(0x1d3)](_0x206cfa(0x5f3));currentStudentName=_0x268baa[_0x206cfa(0x750)];if(!currentStudentName){showMessage(_0x206cfa(0x785));return;}try{const _0x39a41b=currentQuizData['id'],_0x42f732=doc(db,_0x206cfa(0x3d2)+appId+_0x206cfa(0x86b)+_0x39a41b+'/submissions',currentStudentName);await setDoc(_0x42f732,{'studentName':currentStudentName,'startedAt':new Date()[_0x206cfa(0x709)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x16cfcd){console[_0x206cfa(0x2e8)](_0x206cfa(0x4ff),_0x16cfcd),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x206cfa(0x838)][_0x206cfa(0x8a1)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x22a338(0x1d3)](_0x22a338(0x8dd))[_0x22a338(0x2ca)](_0x22a338(0x3c6),showJoinGameView),document[_0x22a338(0x1d3)](_0x22a338(0x28e))['addEventListener'](_0x22a338(0x3c6),handleJoinLiveGame),document['getElementById'](_0x22a338(0x9bc))['addEventListener']('click',()=>showView(_0x22a338(0x98a)));const _0xffa2c8=()=>{const _0x23aabc=_0x22a338,_0x272876=document[_0x23aabc(0x1d3)](_0x23aabc(0x763))['textContent'][_0x23aabc(0x8a9)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x23aabc(0x4ba)+(_0x272876||_0x23aabc(0x486));},_0xb284a8=document['getElementById'](_0x22a338(0x1f8));_0xb284a8&&_0xb284a8[_0x22a338(0x2ca)]('input',_0x410508=>{const _0x425553=_0x22a338,_0x230145=_0x410508[_0x425553(0x9ff)]['value']['toLowerCase']()[_0x425553(0x72a)](),_0xbff0f3=document[_0x425553(0x1d3)](_0x425553(0x807)),_0x39caa9=_0xbff0f3[_0x425553(0x882)]('.topic-category');_0x39caa9[_0x425553(0x722)](_0x580783=>{const _0x225838=_0x425553;let _0x24b51a=![];const _0x563462=_0x580783[_0x225838(0x882)]('.topic-row');_0x563462[_0x225838(0x722)](_0x275d33=>{const _0x2aecab=_0x225838,_0x4544fc=_0x275d33[_0x2aecab(0x870)](_0x2aecab(0x3d1))[_0x2aecab(0x5b0)][_0x2aecab(0x852)]();_0x4544fc[_0x2aecab(0x8b3)](_0x230145)?(_0x275d33[_0x2aecab(0xa10)][_0x2aecab(0x236)]=_0x2aecab(0x8c9),_0x24b51a=!![]):_0x275d33[_0x2aecab(0xa10)][_0x2aecab(0x236)]='none';}),_0x24b51a?_0x580783['style']['display']=_0x225838(0xa03):_0x580783[_0x225838(0xa10)][_0x225838(0x236)]=_0x225838(0x9f2);});});document[_0x22a338(0x1d3)](_0x22a338(0x589))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>exportTableAsImage(_0x22a338(0x947),_0xffa2c8())),document[_0x22a338(0x1d3)](_0x22a338(0x20c))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>exportTableAsPDF('results-table',_0xffa2c8())),document[_0x22a338(0x1d3)](_0x22a338(0x259))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>exportTableAsWord(_0x22a338(0x947),_0xffa2c8())),document[_0x22a338(0x1d3)](_0x22a338(0x8c3))[_0x22a338(0x2ca)]('click',()=>exportTableAsExcel(_0x22a338(0x4a9),_0xffa2c8()));const _0x4978d2=()=>{const _0x21ab2f=_0x22a338,_0x5693bc=document[_0x21ab2f(0x1d3)](_0x21ab2f(0x763))[_0x21ab2f(0x5b0)]['replace'](/[^a-z0-9]/gi,'_')[_0x21ab2f(0x852)]();return'leaderboard_'+(_0x5693bc||_0x21ab2f(0x486));};document['getElementById'](_0x22a338(0x225))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4978d2())),document[_0x22a338(0x1d3)](_0x22a338(0x242))['addEventListener'](_0x22a338(0x3c6),()=>exportTableAsPDF(_0x22a338(0x83a),_0x4978d2())),document[_0x22a338(0x1d3)](_0x22a338(0x6c7))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4978d2())),document['getElementById'](_0x22a338(0x68a))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>exportTableAsExcel('quiz-leaderboard-table',_0x4978d2())),projectQuizzesList[_0x22a338(0x2ca)](_0x22a338(0x3c6),async _0x17a670=>{const _0x2305ad=_0x22a338,_0xfd2f1c=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)]('.quiz-result-card'),_0x291e76=_0x17a670['target'][_0x2305ad(0x7da)]('.generate-post-test-btn'),_0x5dc70a=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)](_0x2305ad(0x955)),_0x2eeff4=_0x17a670[_0x2305ad(0x9ff)]['closest'](_0x2305ad(0x75c)),_0x215142=_0x17a670['target'][_0x2305ad(0x7da)](_0x2305ad(0x5a5)),_0x3ca09f=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)]('.copy-quiz-id-list-btn'),_0x495d0a=_0x17a670['target'][_0x2305ad(0x7da)](_0x2305ad(0x9e9)),_0x338c4d=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)](_0x2305ad(0x901)),_0x10e9b4=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)](_0x2305ad(0x731)),_0x2b69d8=_0x17a670[_0x2305ad(0x9ff)]['closest'](_0x2305ad(0x694)),_0x3c83f7=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)]('.parallel-quiz-btn'),_0x245b81=_0x17a670['target'][_0x2305ad(0x7da)]('.move-quiz-btn'),_0x45bff8=_0x17a670['target'][_0x2305ad(0x7da)](_0x2305ad(0x93b)),_0x441402=_0x17a670[_0x2305ad(0x9ff)]['closest']('.unpair-quiz-btn'),_0x20c36c=_0x17a670[_0x2305ad(0x9ff)]['closest'](_0x2305ad(0x309)),_0x4a0691=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)](_0x2305ad(0x5bc)),_0x4157a4=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)]('.start-live-race-btn'),_0x8e6d3=_0x17a670['target'][_0x2305ad(0x7da)](_0x2305ad(0x593)),_0x262676=_0x17a670['target'][_0x2305ad(0x7da)]('.delete-quiz-btn'),_0xf06641=_0x17a670[_0x2305ad(0x9ff)][_0x2305ad(0x7da)](_0x2305ad(0x559)),_0x43738a=_0x17a670['target'][_0x2305ad(0x7da)]('.toggle-actions-btn'),_0x54828a=_0x17a670[_0x2305ad(0x9ff)]['closest'](_0x2305ad(0x4f2));if(_0x43738a){const _0x31c4fa=_0x43738a[_0x2305ad(0x984)][_0x2305ad(0x352)],_0x7848b0=document['getElementById'](_0x2305ad(0x891)+_0x31c4fa);_0x7848b0&&_0x7848b0[_0x2305ad(0x838)][_0x2305ad(0x8f4)]('hidden');}else{if(_0x291e76){const _0x55b329=_0x291e76[_0x2305ad(0x984)][_0x2305ad(0x352)],_0x1f45b9=allQuizzes['find'](_0x17b8d0=>_0x17b8d0['id']===_0x55b329);_0x1f45b9&&handleGenerateParallelPostTest(_0x1f45b9);}else{if(_0x5dc70a)handleCompareResults(_0x5dc70a[_0x2305ad(0x984)][_0x2305ad(0x352)],_0x5dc70a['dataset'][_0x2305ad(0x1ce)]);else{if(_0x2eeff4){const _0x3126b2=_0x2eeff4[_0x2305ad(0x984)]['quizId'],_0x37d376=allQuizzes[_0x2305ad(0x500)](_0x516823=>_0x516823['id']===_0x3126b2);_0x37d376&&_0x37d376[_0x2305ad(0x218)]?(displayLessonPlan(_0x37d376[_0x2305ad(0x218)],_0x37d376),showConfirmation(_0x2305ad(0x49e),()=>handleGenerateLessonPlan(_0x3126b2)),document['getElementById'](_0x2305ad(0x96e))['querySelector']('h3')[_0x2305ad(0x5b0)]=_0x2305ad(0x425),document[_0x2305ad(0x1d3)](_0x2305ad(0x875))[_0x2305ad(0x5b0)]=_0x2305ad(0x92a)):handleGenerateLessonPlan(_0x3126b2);}else{if(_0x215142)handleToggleStarQuiz(_0x215142[_0x2305ad(0x984)][_0x2305ad(0x352)]);else{if(_0x3ca09f)copyTextToClipboard(_0x3ca09f[_0x2305ad(0x984)][_0x2305ad(0x352)],_0x2305ad(0x511));else{if(_0x495d0a)handleOpenQuizEditor(_0x495d0a[_0x2305ad(0x984)][_0x2305ad(0x352)]);else{if(_0x338c4d)handleQuizSettings(_0x338c4d[_0x2305ad(0x984)][_0x2305ad(0x352)]);else{if(_0x10e9b4)handleDuplicateQuiz(_0x10e9b4[_0x2305ad(0x984)][_0x2305ad(0x352)]);else{if(_0x2b69d8)handleRenameQuiz(_0x2b69d8[_0x2305ad(0x984)][_0x2305ad(0x352)],_0x2b69d8['dataset']['topic']);else{if(_0x3c83f7){const _0x2e4a82=_0x3c83f7[_0x2305ad(0x984)]['quizId'],_0x16bee3=allQuizzes[_0x2305ad(0x500)](_0x14883a=>_0x14883a['id']===_0x2e4a82);_0x16bee3&&handleGenerateParallelFromBank(_0x16bee3);}else{if(_0x245b81)handleMoveQuiz(_0x245b81[_0x2305ad(0x984)][_0x2305ad(0x352)]);else{if(_0x45bff8)handleManualQuizPairing(_0x45bff8[_0x2305ad(0x984)]['quizId']);else{if(_0x441402)handleUnpairQuiz(_0x441402[_0x2305ad(0x984)][_0x2305ad(0x352)]);else{if(_0x20c36c){const _0x96761d=_0x20c36c[_0x2305ad(0x984)][_0x2305ad(0x352)],_0x148283=allQuizzes['find'](_0x1cfd2c=>_0x1cfd2c['id']===_0x96761d);if(_0x148283)startPresentation(_0x148283);}else{if(_0x4a0691){const _0x2091f8=_0x4a0691['dataset'][_0x2305ad(0x352)],_0x4d0854=allQuizzes['find'](_0x190943=>_0x190943['id']===_0x2091f8);_0x4d0854&&(currentQuizData=_0x4d0854,startAdminTest());}else{if(_0x4157a4)handleStartLiveRace(_0x4157a4[_0x2305ad(0x984)][_0x2305ad(0x352)]);else{if(_0x8e6d3)actionTargetId=_0x8e6d3['dataset'][_0x2305ad(0x352)],document[_0x2305ad(0x1d3)](_0x2305ad(0x50c))[_0x2305ad(0x838)]['remove']('hidden');else{if(_0x262676)showConfirmation(_0x2305ad(0x3a7)+_0x262676[_0x2305ad(0x984)][_0x2305ad(0x37f)]+_0x2305ad(0x4e6),()=>handleDeleteQuiz(_0x262676[_0x2305ad(0x984)][_0x2305ad(0x352)]));else{if(_0xf06641)handleQuizStatus(_0xf06641[_0x2305ad(0x984)][_0x2305ad(0x352)]);else{if(_0x54828a)handleGenerateEasyVersionQuiz(_0x54828a[_0x2305ad(0x984)][_0x2305ad(0x352)]);else _0xfd2f1c&&showQuizDetailView(_0xfd2f1c['dataset'][_0x2305ad(0x352)]);}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x22a338(0x83a))['querySelector'](_0x22a338(0x95b))[_0x22a338(0x2ca)](_0x22a338(0x3c6),_0x5c1ddc=>{const _0x201a4c=_0x22a338,_0x4120f5=_0x5c1ddc[_0x201a4c(0x9ff)][_0x201a4c(0x7da)](_0x201a4c(0x679));if(!_0x4120f5||!_0x4120f5[_0x201a4c(0x984)]['sort'])return;const _0x5861c7=_0x4120f5[_0x201a4c(0x984)]['sort'];if(quizLeaderboardSortBy===_0x5861c7)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x201a4c(0x54d)?_0x201a4c(0x8e0):_0x201a4c(0x54d);else{quizLeaderboardSortBy=_0x5861c7;const _0x3f9338=[_0x201a4c(0x414)];quizLeaderboardSortOrder=_0x3f9338[_0x201a4c(0x8b3)](_0x5861c7)?_0x201a4c(0x54d):_0x201a4c(0x8e0);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document['getElementById']('close-presentation-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),closePresentation),document[_0x22a338(0x1d3)](_0x22a338(0x7c8))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x22a338(0x1d3)](_0x22a338(0x781))['addEventListener']('click',()=>{const _0x150bf7=_0x22a338;currentQuizData[_0x150bf7(0x8f0)]&&currentPresentationSlide<currentQuizData[_0x150bf7(0x8f0)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x22a338(0x2ca)](_0x22a338(0x9ea),()=>{const _0x488612=_0x22a338;!document['fullscreenElement']&&(presentationModal[_0x488612(0xa10)][_0x488612(0x236)]=_0x488612(0x9f2));}),document['getElementById']('delete-all-students-btn')[_0x22a338(0x2ca)]('click',handleDeleteAllStudents),studentList[_0x22a338(0x2ca)](_0x22a338(0x3c6),_0x47b6ac=>{const _0x5f1bd2=_0x22a338,_0x429d72=_0x47b6ac[_0x5f1bd2(0x9ff)][_0x5f1bd2(0x7da)](_0x5f1bd2(0x2ef));if(_0x429d72){const _0x1f5cbb=_0x429d72[_0x5f1bd2(0x984)]['studentName'];handleDeleteStudent(_0x1f5cbb);}}),document[_0x22a338(0x1d3)](_0x22a338(0x9bf))[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleGenerateFromFileClick),fileUploadInput[_0x22a338(0x2ca)](_0x22a338(0x9df),_0xe9c5eb=>{const _0x17e2af=_0x22a338,_0x24f1af=_0xe9c5eb[_0x17e2af(0x9ff)][_0x17e2af(0x76f)][0x0],_0x11a27c=document[_0x17e2af(0x1d3)](_0x17e2af(0x9bf));_0x24f1af?(selectedFile=_0x24f1af,_0x11a27c['disabled']=![]):(selectedFile=null,_0x11a27c[_0x17e2af(0x31d)]=!![]);}),document[_0x22a338(0x1d3)]('timer-mode-select')[_0x22a338(0x2ca)](_0x22a338(0x9df),_0x39e67a=>{const _0xe2022a=_0x22a338,_0x2783d0=document[_0xe2022a(0x1d3)](_0xe2022a(0x983)),_0x1302d2=document[_0xe2022a(0x1d3)](_0xe2022a(0x7e1)),_0x223db6=document['getElementById'](_0xe2022a(0x7ce));_0x39e67a[_0xe2022a(0x9ff)]['value']===_0xe2022a(0x9f2)?_0x2783d0[_0xe2022a(0x838)][_0xe2022a(0x8a1)](_0xe2022a(0x46b)):(_0x2783d0[_0xe2022a(0x838)]['remove'](_0xe2022a(0x46b)),_0x39e67a['target'][_0xe2022a(0x750)]===_0xe2022a(0x53e)?(_0x1302d2[_0xe2022a(0x5b0)]=_0xe2022a(0x288),_0x223db6[_0xe2022a(0x750)]='10'):(_0x1302d2[_0xe2022a(0x5b0)]=_0xe2022a(0x57d),_0x223db6[_0xe2022a(0x750)]='30'));}),document['getElementById'](_0x22a338(0x720))[_0x22a338(0x2ca)]('change',_0x720194=>{const _0x654e58=_0x22a338,_0x47e4a1=document[_0x654e58(0x1d3)](_0x654e58(0x1ac)),_0x3f1967=_0x720194[_0x654e58(0x9ff)][_0x654e58(0x750)],_0x450311=document[_0x654e58(0x870)]('label[for=\x22num-questions\x22]'),_0xc8bf5f=document[_0x654e58(0x1d3)](_0x654e58(0x61c)),_0x397cf1=document[_0x654e58(0x1d3)](_0x654e58(0x1be));_0x3f1967===_0x654e58(0x630)?_0x450311['textContent']=_0x654e58(0x38c):_0x450311[_0x654e58(0x5b0)]='จำนวนข้อ:',_0x3f1967==='multiple_choice'||_0x3f1967===_0x654e58(0x20f)||_0x3f1967===_0x654e58(0x2ae)?_0x47e4a1[_0x654e58(0x838)][_0x654e58(0x563)](_0x654e58(0x46b)):_0x47e4a1[_0x654e58(0x838)]['add'](_0x654e58(0x46b)),_0xc8bf5f['max']=_0x397cf1[_0x654e58(0x750)];}),document[_0x22a338(0x1d3)](_0x22a338(0x1be))[_0x22a338(0x2ca)](_0x22a338(0x228),_0x4cd92f=>{const _0x33bdcf=_0x22a338;document[_0x33bdcf(0x1d3)](_0x33bdcf(0x61c))[_0x33bdcf(0x1fd)]=_0x4cd92f[_0x33bdcf(0x9ff)][_0x33bdcf(0x750)];}),document[_0x22a338(0x1d3)](_0x22a338(0x724))[_0x22a338(0x2ca)](_0x22a338(0x9df),_0xad5d84=>{const _0x490010=_0x22a338,_0x2ccc2f=document[_0x490010(0x1d3)]('modal-timer-duration-container'),_0x4db4c3=document['getElementById'](_0x490010(0x568)),_0x3d27c9=document['getElementById'](_0x490010(0x99f));_0xad5d84[_0x490010(0x9ff)]['value']===_0x490010(0x9f2)?_0x2ccc2f[_0x490010(0x838)]['add'](_0x490010(0x46b)):(_0x2ccc2f['classList']['remove']('hidden'),_0xad5d84[_0x490010(0x9ff)][_0x490010(0x750)]===_0x490010(0x53e)?_0x4db4c3[_0x490010(0x5b0)]=_0x490010(0x288):_0x4db4c3[_0x490010(0x5b0)]=_0x490010(0x57d));}),document[_0x22a338(0x1d3)](_0x22a338(0x774))[_0x22a338(0x2ca)]('click',()=>{const _0x3a72d7=_0x22a338;document[_0x3a72d7(0x1d3)](_0x3a72d7(0x4f8))[_0x3a72d7(0x838)][_0x3a72d7(0x8a1)](_0x3a72d7(0x46b));}),document[_0x22a338(0x1d3)](_0x22a338(0x7fa))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x5948e9=_0x22a338;document[_0x5948e9(0x1d3)](_0x5948e9(0x4f8))[_0x5948e9(0x838)][_0x5948e9(0x8a1)](_0x5948e9(0x46b));}),document[_0x22a338(0x1d3)]('verify-answers-editor-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleVerifyAnswersInEditor),document[_0x22a338(0x1d3)]('save-quiz-edits-btn')[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x207af5=_0x22a338;document[_0x207af5(0x1d3)]('quiz-editor-modal')[_0x207af5(0x838)]['add'](_0x207af5(0x46b)),showConfirmation(_0x207af5(0x905),handleSaveChanges);}),document[_0x22a338(0x1d3)](_0x22a338(0x869))[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleAutoFixLatex);const _0x1769ea=document[_0x22a338(0x1d3)](_0x22a338(0x3c3));_0x1769ea&&_0x1769ea[_0x22a338(0x2ca)]('click',_0x58a53a=>{const _0x7838b0=_0x22a338,_0x498fa0=_0x58a53a[_0x7838b0(0x9ff)][_0x7838b0(0x7da)](_0x7838b0(0x640)),_0x201255=_0x58a53a[_0x7838b0(0x9ff)]['closest']('.ai-fix-formula-btn');if(_0x498fa0){const _0x2b46c7=_0x498fa0[_0x7838b0(0x7da)](_0x7838b0(0x6ac)),_0x689cb7=parseInt(_0x2b46c7[_0x7838b0(0x984)][_0x7838b0(0x603)],0xa);handleRegenerateQuestionInEditor(_0x689cb7);}else{if(_0x201255){const _0x3ff609=_0x201255[_0x7838b0(0x7da)]('.question-editor-item'),_0x5ba0f1=parseInt(_0x3ff609[_0x7838b0(0x984)]['qIndex'],0xa);handleAiFixFormula(_0x5ba0f1);}}});document[_0x22a338(0x1d3)](_0x22a338(0x832))[_0x22a338(0x2ca)]('click',openQuizBankModal),document[_0x22a338(0x1d3)](_0x22a338(0x406))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x3f0e8f=_0x22a338;document[_0x3f0e8f(0x1d3)](_0x3f0e8f(0x3e6))['classList'][_0x3f0e8f(0x8a1)](_0x3f0e8f(0x46b));}),document[_0x22a338(0x1d3)]('bank-quiz-search-input')[_0x22a338(0x2ca)](_0x22a338(0x228),_0x2731b5=>renderQuizBankList(_0x2731b5['target'][_0x22a338(0x750)]));const _0x267dc3=document[_0x22a338(0x1d3)](_0x22a338(0x807));if(_0x267dc3){let _0x5dcb6a=null;_0x267dc3[_0x22a338(0x2ca)](_0x22a338(0x3c6),_0x51ded8=>{const _0x362645=_0x22a338,_0x59ea98=_0x51ded8['target'],_0x551b35=_0x59ea98[_0x362645(0x7da)]('.edit-custom-topic-btn'),_0x25d795=_0x59ea98[_0x362645(0x7da)](_0x362645(0x688)),_0x5b1536=_0x59ea98[_0x362645(0x7da)](_0x362645(0x3cd)),_0x397df3=_0x59ea98[_0x362645(0x7da)](_0x362645(0x46c));if(_0x25d795){_0x51ded8[_0x362645(0x662)]();const _0x3540db=_0x25d795[_0x362645(0x984)]['id'],_0x15ddd7=_0x25d795[_0x362645(0x7da)](_0x362645(0x4ca))['querySelector'](_0x362645(0x3d1))[_0x362645(0x5b0)];showConfirmation(_0x362645(0x2d2)+_0x15ddd7+'\x22?',()=>handleDeleteCustomTopic(_0x3540db));}else{if(_0x551b35){_0x51ded8[_0x362645(0x662)]();_0x5dcb6a&&toggleTopicEditMode(_0x5dcb6a,![]);const _0x338501=_0x551b35[_0x362645(0x7da)](_0x362645(0x32e));_0x5dcb6a=_0x338501,toggleTopicEditMode(_0x338501,!![]);}else{if(_0x5b1536){_0x51ded8[_0x362645(0x662)]();const _0x3f0eff=_0x5b1536[_0x362645(0x984)]['id'],_0x3f525c=_0x5b1536[_0x362645(0x7da)](_0x362645(0x32e)),_0x32a774=_0x3f525c[_0x362645(0x870)](_0x362645(0x8ec))[_0x362645(0x750)];handleUpdateCustomTopic(_0x3f0eff,_0x32a774),_0x5dcb6a=null;}else{if(_0x397df3){_0x51ded8[_0x362645(0x662)]();const _0x4fcfbb=_0x397df3[_0x362645(0x7da)]('[data-topic-container-id]');toggleTopicEditMode(_0x4fcfbb,![]),_0x5dcb6a=null;}}}}}),document[_0x22a338(0x1d3)](_0x22a338(0x1ba))[_0x22a338(0x2ca)]('click',()=>{const _0x1d7cd1=_0x22a338;document[_0x1d7cd1(0x1d3)](_0x1d7cd1(0x22f))[_0x1d7cd1(0x838)][_0x1d7cd1(0x8a1)](_0x1d7cd1(0x46b));}),document[_0x22a338(0x1d3)](_0x22a338(0x572))[_0x22a338(0x2ca)]('click',()=>{const _0x21d034=_0x22a338;document[_0x21d034(0x1d3)]('lesson-plan-modal')['classList'][_0x21d034(0x8a1)](_0x21d034(0x46b));}),document[_0x22a338(0x1d3)](_0x22a338(0x68d))[_0x22a338(0x2ca)](_0x22a338(0x3c6),handleExportLessonPDF);}document[_0x22a338(0x1d3)]('close-comparison-modal-btn')[_0x22a338(0x2ca)]('click',()=>{const _0x46b5c3=_0x22a338;document[_0x46b5c3(0x1d3)]('comparison-modal')[_0x46b5c3(0x838)][_0x46b5c3(0x8a1)](_0x46b5c3(0x46b));}),document[_0x22a338(0x1d3)](_0x22a338(0x9ec))[_0x22a338(0x2ca)](_0x22a338(0x3c6),()=>{const _0x4a7112=_0x22a338;document['getElementById'](_0x4a7112(0x38e))[_0x4a7112(0x838)][_0x4a7112(0x8a1)]('hidden');}),setupComparisonModalTabs(),document[_0x22a338(0x314)][_0x22a338(0x2ca)]('click',function(_0xfbc2aa){const _0x131646=_0x22a338;if(_0xfbc2aa[_0x131646(0x9ff)]['classList'][_0x131646(0x54c)](_0x131646(0x2ac))){const _0x385e32=unescape(_0xfbc2aa['target']['dataset']['topic']);startSkillPractice(_0x385e32);}}),document[_0x22a338(0x1d3)]('scores-tab-content')[_0x22a338(0x2ca)](_0x22a338(0x3c6),_0x512727=>{const _0x1e0ff5=_0x22a338,_0x4d19af=_0x512727[_0x1e0ff5(0x9ff)][_0x1e0ff5(0x7da)](_0x1e0ff5(0x6dc));if(_0x4d19af){const _0x1579bd=_0x4d19af[_0x1e0ff5(0x984)][_0x1e0ff5(0x414)];handleDeleteSubmission(_0x1579bd);}});}async function showStudentProgressView(){const _0x4f2e3f=_0x1df5ec;studentInitialView[_0x4f2e3f(0x838)][_0x4f2e3f(0x8a1)]('hidden'),document[_0x4f2e3f(0x1d3)](_0x4f2e3f(0x708))[_0x4f2e3f(0x838)][_0x4f2e3f(0x563)](_0x4f2e3f(0x46b));const _0x30045b=document['getElementById']('progress-project-select'),_0x5e677e=document[_0x4f2e3f(0x1d3)]('progress-student-select'),_0x5b0cef=document[_0x4f2e3f(0x1d3)]('student-progress-content');_0x5b0cef['innerHTML']=_0x4f2e3f(0x42f),_0x5e677e[_0x4f2e3f(0x9e2)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x5e677e[_0x4f2e3f(0x31d)]=!![],_0x30045b[_0x4f2e3f(0x9e2)]=_0x4f2e3f(0x3a6);if(allProjects[_0x4f2e3f(0x4a6)]===0x0){const _0x528177=collection(db,_0x4f2e3f(0x3d2)+appId+_0x4f2e3f(0x8bc)),_0x30573d=await getDocs(_0x528177);allProjects=_0x30573d[_0x4f2e3f(0x994)][_0x4f2e3f(0x4e5)](_0x29e462=>({'id':_0x29e462['id'],..._0x29e462[_0x4f2e3f(0x5ad)]()}));}const _0x2d3a49=allProjects[_0x4f2e3f(0x93a)](_0x3f17f9=>_0x3f17f9['settings']?.[_0x4f2e3f(0x5c5)]!==![]);_0x2d3a49[_0x4f2e3f(0x1f6)]((_0x232405,_0x3cf8d5)=>_0x232405[_0x4f2e3f(0x958)]['localeCompare'](_0x3cf8d5[_0x4f2e3f(0x958)],'th')),_0x30045b[_0x4f2e3f(0x9e2)]=_0x4f2e3f(0x3b8)+_0x2d3a49[_0x4f2e3f(0x4e5)](_0x41e534=>_0x4f2e3f(0x59a)+_0x41e534['id']+'\x22>'+_0x41e534[_0x4f2e3f(0x958)]+_0x4f2e3f(0x80d))['join'](''),_0x30045b[_0x4f2e3f(0x41a)]=()=>{const _0x40dee8=_0x4f2e3f,_0x409003=_0x5e677e[_0x40dee8(0x750)],_0x5b985d=_0x30045b[_0x40dee8(0x750)];_0x5e677e[_0x40dee8(0x31d)]=!![],_0x5e677e[_0x40dee8(0x9e2)]=_0x40dee8(0x5a1),_0x5b0cef[_0x40dee8(0x9e2)]=_0x40dee8(0x4be);if(!_0x5b985d)return;const _0x40d3d2=allProjects[_0x40dee8(0x500)](_0x9df634=>_0x9df634['id']===_0x5b985d);if(!_0x40d3d2||!_0x40d3d2[_0x40dee8(0x4f6)])return;const _0x27867e=()=>{const _0x25e713=_0x40dee8;_0x5e677e[_0x25e713(0x9e2)]=_0x25e713(0x5a1)+_0x40d3d2[_0x25e713(0x4f6)][_0x25e713(0x4e5)](_0x233479=>_0x25e713(0x59a)+_0x233479+'\x22>'+_0x233479+_0x25e713(0x80d))[_0x25e713(0x30f)](''),_0x5e677e['disabled']=![];const _0x424a90=Array[_0x25e713(0x201)](_0x5e677e[_0x25e713(0x611)])['map'](_0x52f289=>_0x52f289[_0x25e713(0x750)]);if(_0x409003&&_0x424a90[_0x25e713(0x8b3)](_0x409003))_0x5e677e[_0x25e713(0x750)]=_0x409003,_0x5e677e[_0x25e713(0x2bd)](new Event(_0x25e713(0x9df)));else _0x40d3d2[_0x25e713(0x4f6)][_0x25e713(0x4a6)]===0x1&&(_0x5e677e[_0x25e713(0x750)]=_0x40d3d2[_0x25e713(0x4f6)][0x0],_0x5e677e[_0x25e713(0x2bd)](new Event(_0x25e713(0x9df))));};if(_0x40d3d2[_0x40dee8(0x8d2)]?.[_0x40dee8(0x4db)]){if(sessionStorage['getItem'](_0x40dee8(0x70e)+_0x5b985d)==='true'){_0x27867e();return;}const _0x38d892=document[_0x40dee8(0x1d3)](_0x40dee8(0x2c6)),_0x29870f=document['getElementById']('confirm-passcode-btn'),_0x450ad7=document[_0x40dee8(0x1d3)]('cancel-passcode-btn'),_0x556d54=document[_0x40dee8(0x1d3)](_0x40dee8(0x6f9)),_0x21b239=document[_0x40dee8(0x1d3)]('passcode-error-msg');document[_0x40dee8(0x1d3)]('passcode-prompt-message')[_0x40dee8(0x5b0)]=_0x40dee8(0x329)+_0x40d3d2[_0x40dee8(0x958)],_0x556d54[_0x40dee8(0x750)]='',_0x21b239[_0x40dee8(0x838)]['add'](_0x40dee8(0x46b)),_0x38d892[_0x40dee8(0x838)]['remove']('hidden');const _0x18e148=()=>{const _0x39a191=_0x40dee8,_0x51991a=_0x556d54[_0x39a191(0x750)][_0x39a191(0x72a)]();_0x51991a===_0x40d3d2[_0x39a191(0x8d2)]['passcode']?(sessionStorage[_0x39a191(0x391)]('authed_project_'+_0x5b985d,_0x39a191(0x9cf)),_0x38d892[_0x39a191(0x838)]['add'](_0x39a191(0x46b)),_0x27867e(),_0x29870f['removeEventListener'](_0x39a191(0x3c6),_0x18e148)):_0x21b239[_0x39a191(0x838)][_0x39a191(0x563)]('hidden');};_0x29870f[_0x40dee8(0x4d5)]=_0x18e148,_0x450ad7[_0x40dee8(0x4d5)]=()=>{const _0x277dd3=_0x40dee8;_0x38d892[_0x277dd3(0x838)][_0x277dd3(0x8a1)](_0x277dd3(0x46b)),_0x30045b[_0x277dd3(0x750)]='',_0x29870f['removeEventListener'](_0x277dd3(0x3c6),_0x18e148);};}else _0x27867e();},_0x5e677e['onchange']=()=>{const _0x250428=_0x4f2e3f,_0x26b337=_0x30045b[_0x250428(0x750)],_0x4c19d5=_0x5e677e[_0x250428(0x750)];_0x26b337&&_0x4c19d5&&renderStudentProgressDashboard(_0x26b337,_0x4c19d5);};}async function renderStudentProgressDashboard(_0x179bab,_0x1e893f){const _0xe0b54=_0x1df5ec,_0x2f36b1=document['getElementById'](_0xe0b54(0x59d));_0x2f36b1[_0xe0b54(0x9e2)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x2c5629=collection(db,'artifacts/'+appId+_0xe0b54(0x33d)),_0x12d3bd=query(_0x2c5629,where(_0xe0b54(0x642),'==',_0x179bab)),_0x59bc23=await getDocs(_0x12d3bd),_0x471ea9=_0x59bc23[_0xe0b54(0x994)][_0xe0b54(0x4e5)](_0x49f1ef=>({'id':_0x49f1ef['id'],..._0x49f1ef[_0xe0b54(0x5ad)]()})),_0x1f4917=_0x471ea9[_0xe0b54(0x4e5)](_0x513930=>getDoc(doc(db,_0xe0b54(0x3d2)+appId+_0xe0b54(0x86b)+_0x513930['id']+_0xe0b54(0x386),_0x1e893f))),_0x47686a=await Promise[_0xe0b54(0x408)](_0x1f4917),_0x1e05bb=_0x47686a[_0xe0b54(0x93a)](_0x9fb5fd=>_0x9fb5fd[_0xe0b54(0x63b)]())[_0xe0b54(0x4e5)](_0x21dd6d=>({'quizId':_0x21dd6d[_0xe0b54(0x1dd)][_0xe0b54(0x4d2)]['parent']['id'],..._0x21dd6d[_0xe0b54(0x5ad)]()}));if(_0x1e05bb[_0xe0b54(0x4a6)]===0x0){_0x2f36b1[_0xe0b54(0x9e2)]=_0xe0b54(0x857);return;}let _0x4aa4d3=_0xe0b54(0x7a7);_0x1e05bb[_0xe0b54(0x722)](_0x591888=>{const _0x5aaccc=_0xe0b54,_0x3e683b=_0x471ea9[_0x5aaccc(0x500)](_0x371a91=>_0x371a91['id']===_0x591888[_0x5aaccc(0x352)]),_0x3bd2b4=_0x3e683b[_0x5aaccc(0x8d2)]?.[_0x5aaccc(0x534)]||_0x5aaccc(0x881),_0x4d8c16=_0x3e683b[_0x5aaccc(0x8d2)]?.[_0x5aaccc(0x229)]??0x0,_0x3ea678=_0x591888[_0x5aaccc(0x868)]>=_0x4d8c16;let _0x24718f='',_0x31f5cc='bg-gray-50';switch(_0x3bd2b4){case _0x5aaccc(0x881):case'show_results_only':_0x31f5cc=_0x3ea678?'bg-green-50':_0x5aaccc(0x84b),_0x24718f=_0x5aaccc(0x388)+(_0x3ea678?_0x5aaccc(0x9bd):_0x5aaccc(0x499))+'\x22>'+_0x591888[_0x5aaccc(0x868)]+_0x5aaccc(0x9fe)+_0x591888[_0x5aaccc(0x975)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x3ea678?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x3ea678?'ผ่าน':_0x5aaccc(0x75e))+_0x5aaccc(0x545);break;case _0x5aaccc(0x57e):_0x31f5cc=_0x3ea678?_0x5aaccc(0x62e):'bg-red-50',_0x24718f=_0x5aaccc(0x477)+(_0x3ea678?_0x5aaccc(0x1d7):_0x5aaccc(0x65a))+'\x22>'+(_0x3ea678?'ผ่าน':_0x5aaccc(0x75e))+_0x5aaccc(0x545);break;case _0x5aaccc(0x2f6):_0x31f5cc=_0x5aaccc(0x3d0),_0x24718f=_0x5aaccc(0x520);break;}_0x4aa4d3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x31f5cc+_0x5aaccc(0x565)+_0x3e683b[_0x5aaccc(0x37f)]+_0x5aaccc(0x9d2)+_0x591888[_0x5aaccc(0x2b5)]['length']+_0x5aaccc(0x8da)+new Date(_0x591888[_0x5aaccc(0x92d)])[_0x5aaccc(0x6a6)]('th-TH')+_0x5aaccc(0x8f5)+_0x24718f+_0x5aaccc(0x933);}),_0x4aa4d3+='</div>',_0x2f36b1[_0xe0b54(0x9e2)]=_0x4aa4d3;}catch(_0x1c5a9d){console['error'](_0xe0b54(0x683),_0x1c5a9d),_0x2f36b1['innerHTML']=_0xe0b54(0x65b);}}function setupStudentProgressListeners(){const _0x5311d1=_0x1df5ec;document['getElementById'](_0x5311d1(0x518))['addEventListener'](_0x5311d1(0x3c6),showStudentProgressView),document[_0x5311d1(0x1d3)]('back-to-student-home-btn')[_0x5311d1(0x2ca)](_0x5311d1(0x3c6),()=>{const _0x725b60=_0x5311d1;document[_0x725b60(0x1d3)](_0x725b60(0x708))[_0x725b60(0x838)][_0x725b60(0x8a1)](_0x725b60(0x46b)),document[_0x725b60(0x1d3)]('student-initial-view')[_0x725b60(0x838)]['remove'](_0x725b60(0x46b));});}async function startSkillPractice(_0x1d3079){const _0x3e23d3=_0x1df5ec;studentResultArea[_0x3e23d3(0x838)][_0x3e23d3(0x8a1)](_0x3e23d3(0x46b)),studentQuizArea[_0x3e23d3(0x9e2)]=_0x3e23d3(0x63a),studentQuizArea[_0x3e23d3(0x838)][_0x3e23d3(0x563)](_0x3e23d3(0x46b));try{const _0x48fe78=await getStandardizedTopic(_0x1d3079);console[_0x3e23d3(0x31a)](_0x3e23d3(0x3a2)+_0x1d3079+_0x3e23d3(0x44b)+_0x48fe78+'\x22'),studentQuizArea['querySelector']('p')[_0x3e23d3(0x5b0)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x48fe78+_0x3e23d3(0x549);const _0x378ddf=collection(db,_0x3e23d3(0x3d2)+appId+_0x3e23d3(0x924)),_0x20e2a2=query(_0x378ddf,where(_0x3e23d3(0x37f),'==',_0x48fe78)),_0xd79b1=await getDocs(_0x20e2a2);if(_0xd79b1[_0x3e23d3(0x994)][_0x3e23d3(0x4a6)]>=0x3){console[_0x3e23d3(0x31a)](_0x3e23d3(0x489)+_0xd79b1[_0x3e23d3(0x994)][_0x3e23d3(0x4a6)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x48fe78+_0x3e23d3(0x4b7));let _0x26eb2d=_0xd79b1[_0x3e23d3(0x994)][_0x3e23d3(0x4e5)](_0x454fa1=>_0x454fa1[_0x3e23d3(0x5ad)]());shuffleArray(_0x26eb2d);const _0x50cc6c={'topic':_0x48fe78,'questions':_0x26eb2d[_0x3e23d3(0x199)](0x0,0x3)};displaySkillPracticeDrill(_0x50cc6c);}else{console[_0x3e23d3(0x31a)](_0x3e23d3(0x5f6)+_0x48fe78+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x2fdc75=await generatePracticeQuestions(_0x48fe78);await saveDrillToPracticeBank(_0x2fdc75,_0x48fe78),displaySkillPracticeDrill(_0x2fdc75);}}catch(_0x47f3d3){console['error'](_0x3e23d3(0x40f),_0x47f3d3),showMessage(_0x3e23d3(0x826)),studentQuizArea[_0x3e23d3(0x838)][_0x3e23d3(0x8a1)](_0x3e23d3(0x46b)),studentResultArea[_0x3e23d3(0x838)][_0x3e23d3(0x563)]('hidden');}}async function saveDrillToPracticeBank(_0x23f02d,_0x291bb5){const _0x25219d=_0x1df5ec,_0x3788d7=collection(db,_0x25219d(0x3d2)+appId+'/public/data/practiceBank'),_0x14bcd8=writeBatch(db);_0x23f02d['questions'][_0x25219d(0x722)](_0x3f5428=>{const _0x5e3b38=_0x25219d,_0x257daf=doc(_0x3788d7);_0x14bcd8[_0x5e3b38(0x697)](_0x257daf,{'topic':_0x291bb5,'questionText':_0x3f5428[_0x5e3b38(0x4f1)],'options':_0x3f5428[_0x5e3b38(0x611)],'correctAnswerIndex':_0x3f5428['correctAnswerIndex'],'explanation':_0x3f5428[_0x5e3b38(0x6c4)],'createdAt':serverTimestamp()});});try{await _0x14bcd8['commit'](),console[_0x25219d(0x31a)]('บันทึกคำถามใหม่\x20'+_0x23f02d[_0x25219d(0x8f0)][_0x25219d(0x4a6)]+_0x25219d(0x77b));}catch(_0x539e2d){console['error'](_0x25219d(0x1fe),_0x539e2d);}}async function getStandardizedTopic(_0x252b97){const _0xaa9fc7=_0x1df5ec,_0xef4090=_0xaa9fc7(0x503)+_0x252b97+_0xaa9fc7(0x3e5),_0x123a56={'type':_0xaa9fc7(0x1d9),'properties':{'standardTopic':{'type':_0xaa9fc7(0x951)}},'required':[_0xaa9fc7(0x7e9)]};try{const _0x574c39=await callAnalysisApi(_0xef4090,_0x123a56);return _0x574c39[_0xaa9fc7(0x7e9)];}catch(_0x2948ae){return console['error'](_0xaa9fc7(0x335),_0x2948ae),_0x252b97;}}async function handleGenerateEasyVersionQuiz(_0x4b7479){showConfirmation('คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้',async()=>{const _0x1e3c6e=_0x2d6c;showMessage(_0x1e3c6e(0x681));try{const _0x4fe347=allQuizzes[_0x1e3c6e(0x500)](_0x5cd798=>_0x5cd798['id']===_0x4b7479);if(!_0x4fe347)throw new Error(_0x1e3c6e(0x2a4));const _0x144ef9=_0x1e3c6e(0x902)+JSON[_0x1e3c6e(0x5c7)](_0x4fe347[_0x1e3c6e(0x8f0)])+_0x1e3c6e(0x7f6),_0x445e51={'type':_0x1e3c6e(0x1d9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x1e3c6e(0x989),'items':{'type':_0x1e3c6e(0x951)}},'correctAnswerIndex':{'type':_0x1e3c6e(0x625)},'idealAnswer':{'type':_0x1e3c6e(0x951)},'explanation':{'type':_0x1e3c6e(0x951)},'imageCode':{'type':_0x1e3c6e(0x951)}},'required':[_0x1e3c6e(0x4f1),_0x1e3c6e(0x24e),_0x1e3c6e(0x6c4)]},_0x511a46={'type':_0x1e3c6e(0x1d9),'properties':{'questions':{'type':'ARRAY','items':_0x445e51}},'required':[_0x1e3c6e(0x8f0)]},_0x28539b=await callAnalysisApi(_0x144ef9,_0x511a46);_0x28539b&&_0x28539b['questions']&&_0x28539b[_0x1e3c6e(0x8f0)][_0x1e3c6e(0x722)](_0x57844=>{const _0x1a8d6d=_0x1e3c6e;_0x57844[_0x1a8d6d(0x4f1)]&&(_0x57844[_0x1a8d6d(0x4f1)]=_0x57844[_0x1a8d6d(0x4f1)][_0x1a8d6d(0x72a)]()[_0x1a8d6d(0x8a9)](/,$/,'')[_0x1a8d6d(0x72a)]());_0x57844[_0x1a8d6d(0x611)]&&Array[_0x1a8d6d(0x8fe)](_0x57844[_0x1a8d6d(0x611)])&&(_0x57844[_0x1a8d6d(0x611)]=_0x57844[_0x1a8d6d(0x611)][_0x1a8d6d(0x4e5)](_0x53beac=>_0x53beac||_0x1a8d6d(0x1a8)));if(_0x57844[_0x1a8d6d(0x317)]){const _0x4baa34=_0x57844[_0x1a8d6d(0x317)][_0x1a8d6d(0x72a)]();_0x4baa34===''||_0x4baa34['toLowerCase']()==='null'||!_0x4baa34['startsWith'](_0x1a8d6d(0x921))?delete _0x57844[_0x1a8d6d(0x317)]:_0x57844['imageCode']=_0x4baa34;}});if(!_0x28539b||!_0x28539b[_0x1e3c6e(0x8f0)]||_0x28539b[_0x1e3c6e(0x8f0)][_0x1e3c6e(0x4a6)]===0x0)throw new Error(_0x1e3c6e(0x64a));const _0x414d5c={'projectId':_0x4fe347[_0x1e3c6e(0x642)],'quizType':_0x4fe347['quizType'],'settings':_0x4fe347[_0x1e3c6e(0x8d2)],'createdBy':_0x4fe347['createdBy'],'status':_0x1e3c6e(0x22b),'topic':_0x1e3c6e(0x3e1)+_0x4fe347[_0x1e3c6e(0x37f)],'questions':_0x28539b['questions'],'createdAt':new Date()['toISOString'](),'quizMode':'standard','pairedQuizId':null};let _0x67f886;while(!![]){_0x67f886=Math[_0x1e3c6e(0x5f0)](0x3e8+Math[_0x1e3c6e(0x998)]()*0x2328)[_0x1e3c6e(0x316)]();const _0x1ab226=await getDoc(doc(db,'artifacts/'+appId+_0x1e3c6e(0x33d),_0x67f886));if(!_0x1ab226['exists']())break;}await setDoc(doc(db,_0x1e3c6e(0x3d2)+appId+'/public/data/quizzes',_0x67f886),_0x414d5c),showMessage(_0x1e3c6e(0x8e4));}catch(_0x9b598f){console[_0x1e3c6e(0x2e8)](_0x1e3c6e(0x788),_0x9b598f),showMessage(_0x1e3c6e(0x4c8)+_0x9b598f[_0x1e3c6e(0x298)]);}});}async function generatePracticeQuestions(_0x229b9a){const _0xf933e=_0x1df5ec,_0x191400=_0xf933e(0x528)+_0x229b9a+_0xf933e(0x5ae)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x149979={'type':_0xf933e(0x1d9),'properties':{'questionText':{'type':_0xf933e(0x951)},'options':{'type':_0xf933e(0x989),'items':{'type':_0xf933e(0x951)}},'correctAnswerIndex':{'type':_0xf933e(0x625)},'explanation':{'type':_0xf933e(0x951)}},'required':['questionText',_0xf933e(0x611),_0xf933e(0x261),_0xf933e(0x6c4)]},_0x3404ea={'type':'OBJECT','properties':{'topic':{'type':_0xf933e(0x951)},'questions':{'type':_0xf933e(0x989),'items':_0x149979}},'required':[_0xf933e(0x37f),_0xf933e(0x8f0)]};return await callAnalysisApi(_0x191400,_0x3404ea);}function displayLessonPlan(_0x458e7a,_0x45797b){const _0x3e2e49=_0x1df5ec,_0x43f0d4=_0x3e2e49(0x665)+_0x45797b[_0x3e2e49(0x37f)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x458e7a[_0x3e2e49(0x27e)]['map'](_0x5be674=>_0x3e2e49(0x2b8)+_0x5be674+_0x3e2e49(0x612))['join']('')+_0x3e2e49(0x470)+_0x458e7a['teachingContent']+_0x3e2e49(0x9de)+_0x458e7a[_0x3e2e49(0x214)]['map'](_0x1336e7=>_0x3e2e49(0x1a9)+_0x1336e7[_0x3e2e49(0x446)]+_0x3e2e49(0x878)+_0x1336e7['solution']+_0x3e2e49(0x7a3))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x3e2e49(0x1d3)]('lesson-plan-title')[_0x3e2e49(0x5b0)]=_0x3e2e49(0x635)+_0x45797b[_0x3e2e49(0x37f)],document[_0x3e2e49(0x1d3)](_0x3e2e49(0x586))['innerHTML']=_0x43f0d4,document[_0x3e2e49(0x1d3)](_0x3e2e49(0x22f))['classList'][_0x3e2e49(0x563)](_0x3e2e49(0x46b));if(window[_0x3e2e49(0x327)])MathJax[_0x3e2e49(0x9a3)]();}function displaySkillPracticeDrill(_0x32e69d){const _0x379281=_0x1df5ec;let _0x2eced6=0x0;const _0x2ab1d5=_0x32e69d[_0x379281(0x8f0)],_0x23a9be=()=>{const _0x4ae2c2=_0x379281,_0x1f20c0=_0x2ab1d5[_0x2eced6],_0x85ec35=_0x4ae2c2(0x5c2)+(_0x2eced6+0x1)+'\x20/\x20'+_0x2ab1d5['length']+_0x4ae2c2(0x7a9)+_0x1f20c0['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f20c0[_0x4ae2c2(0x611)]['map']((_0x37965d,_0x399556)=>_0x4ae2c2(0x45c)+_0x399556+_0x4ae2c2(0x729)+_0x399556+_0x4ae2c2(0x676)+_0x399556+'\x22>'+_0x37965d+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4ae2c2(0x30f)]('')+_0x4ae2c2(0x377);studentQuizArea[_0x4ae2c2(0x9e2)]=_0x85ec35;if(window['MathJax'])MathJax[_0x4ae2c2(0x9a3)]([studentQuizArea]);document['getElementById']('hint-btn')[_0x4ae2c2(0x2ca)]('click',async()=>{const _0x153779=_0x4ae2c2,_0x59b04b=await getHintForQuestion(_0x1f20c0[_0x153779(0x4f1)]);showMessage(_0x59b04b);}),document['getElementById'](_0x4ae2c2(0x957))[_0x4ae2c2(0x2ca)]('click',()=>{const _0x330a07=_0x4ae2c2,_0x17453e=document[_0x330a07(0x870)](_0x330a07(0x227));if(!_0x17453e){showMessage(_0x330a07(0x1c0));return;}const _0x2f1f3f=document[_0x330a07(0x1d3)](_0x330a07(0x876)),_0xfcb80b=parseInt(_0x17453e[_0x330a07(0x750)])===_0x1f20c0[_0x330a07(0x261)];_0xfcb80b?(_0x2f1f3f[_0x330a07(0x509)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x2f1f3f[_0x330a07(0x9e2)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x1f20c0[_0x330a07(0x6c4)]):(_0x2f1f3f['className']=_0x330a07(0x65c),_0x2f1f3f[_0x330a07(0x9e2)]=_0x330a07(0x474)+_0x1f20c0[_0x330a07(0x6c4)]);_0x2f1f3f[_0x330a07(0x838)][_0x330a07(0x563)](_0x330a07(0x46b));if(window[_0x330a07(0x327)])MathJax['typesetPromise']([_0x2f1f3f]);document['getElementById'](_0x330a07(0x957))[_0x330a07(0x838)]['add'](_0x330a07(0x46b)),document['getElementById'](_0x330a07(0x5d8))['classList']['add'](_0x330a07(0x46b)),document['getElementById'](_0x330a07(0x7d1))[_0x330a07(0x838)][_0x330a07(0x563)](_0x330a07(0x46b));}),document['getElementById'](_0x4ae2c2(0x7d1))['addEventListener'](_0x4ae2c2(0x3c6),()=>{const _0x28e560=_0x4ae2c2;_0x2eced6++,_0x2eced6<_0x2ab1d5[_0x28e560(0x4a6)]?_0x23a9be():(studentQuizArea['innerHTML']=_0x28e560(0x341),document[_0x28e560(0x1d3)]('back-to-results-btn')[_0x28e560(0x2ca)](_0x28e560(0x3c6),()=>{const _0x4b2f4c=_0x28e560;studentQuizArea[_0x4b2f4c(0x838)]['add'](_0x4b2f4c(0x46b)),studentResultArea[_0x4b2f4c(0x838)][_0x4b2f4c(0x563)](_0x4b2f4c(0x46b));}));});};_0x23a9be();}async function getHintForQuestion(_0x545823){const _0x38f423=_0x1df5ec,_0x2d46fd=_0x38f423(0x55c)+_0x545823+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x48f744={'type':_0x38f423(0x1d9),'properties':{'hint':{'type':'STRING'}},'required':[_0x38f423(0x72d)]};try{const _0x37b17d=await callAnalysisApi(_0x2d46fd,_0x48f744);return _0x37b17d[_0x38f423(0x72d)];}catch(_0x35f396){return console[_0x38f423(0x2e8)](_0x38f423(0x1c5),_0x35f396),_0x38f423(0x928);}}async function extractTextFromPdf(_0x2cbfd0){const _0x298aeb=_0x1df5ec;pdfjsLib[_0x298aeb(0x71d)][_0x298aeb(0x6c1)]=_0x298aeb(0x818);const _0x4ecf06=await _0x2cbfd0['arrayBuffer'](),_0x28a9b3=await pdfjsLib[_0x298aeb(0x50d)](_0x4ecf06)[_0x298aeb(0x8aa)],_0x1a43ec=_0x28a9b3[_0x298aeb(0x66f)];let _0x1215f2='';for(let _0x1ca3db=0x1;_0x1ca3db<=_0x1a43ec;_0x1ca3db++){const _0x3fb198=await _0x28a9b3[_0x298aeb(0x434)](_0x1ca3db),_0x13b0c1=await _0x3fb198[_0x298aeb(0x7a2)](),_0x5b5a03=_0x13b0c1['items']['map'](_0x3f0849=>_0x3f0849['str'])[_0x298aeb(0x30f)]('\x20');_0x1215f2+=_0x5b5a03+'\x0a\x0a';}return _0x1215f2;}async function handleGenerateFromBlueprint(){const _0x3e493a=_0x1df5ec,_0x4e1a8f=document[_0x3e493a(0x1d3)]('blueprint-upload-input'),_0x1c1f63=document['getElementById'](_0x3e493a(0x26a)),_0x1d21a9=_0x4e1a8f['files'][0x0],_0x1e3a2b=_0x1c1f63[_0x3e493a(0x76f)][_0x3e493a(0x4a6)]>0x0?_0x1c1f63[_0x3e493a(0x76f)][0x0]:null;if(!_0x1d21a9){showMessage(_0x3e493a(0x4ae));return;}const _0x585a16=document[_0x3e493a(0x1d3)]('loader'),_0xd9a580=document[_0x3e493a(0x1d3)]('loader-text'),_0x25eb27=document[_0x3e493a(0x1d3)](_0x3e493a(0x7f7)),_0x414d86=document[_0x3e493a(0x1d3)](_0x3e493a(0x492));_0x414d86[_0x3e493a(0x31d)]=!![],document[_0x3e493a(0x1d3)]('quiz-generation-area')['classList'][_0x3e493a(0x563)](_0x3e493a(0x46b)),_0x25eb27[_0x3e493a(0x9e2)]='',_0x585a16[_0x3e493a(0x838)][_0x3e493a(0x563)]('hidden');try{_0xd9a580[_0x3e493a(0x5b0)]=_0x3e493a(0x31c);const _0x4c7514=await extractTextFromPdf(_0x1d21a9);if(!_0x4c7514[_0x3e493a(0x72a)]())throw new Error(_0x3e493a(0x62b));let _0x407f19='';_0x1e3a2b&&(_0xd9a580[_0x3e493a(0x5b0)]=_0x3e493a(0x581),_0x407f19=await extractTextFromPdf(_0x1e3a2b));_0xd9a580[_0x3e493a(0x5b0)]=_0x3e493a(0x8d7);const _0x2a729a=document[_0x3e493a(0x1d3)](_0x3e493a(0x7b4))[_0x3e493a(0x5fb)],_0x3d566d=_0x2a729a?_0x3e493a(0x754):'',_0x5601b5=_0x407f19?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x407f19+_0x3e493a(0x8f9):'',_0x30fb99=_0x3e493a(0x979)+(_0x407f19?_0x3e493a(0x4ef):'')+_0x3e493a(0x872)+_0x4c7514+_0x3e493a(0x8f9)+_0x5601b5+_0x3e493a(0x98b)+_0x3d566d+_0x3e493a(0x322)+simpleMathPrompt+_0x3e493a(0x81b),_0x2275bf={'type':_0x3e493a(0x1d9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3e493a(0x951),'enum':[_0x3e493a(0x9ab),'short_answer']},'options':{'type':_0x3e493a(0x989),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3e493a(0x625)},'idealAnswer':{'type':_0x3e493a(0x951)},'explanation':{'type':_0x3e493a(0x951)},'imageCode':{'type':_0x3e493a(0x951)}},'required':[_0x3e493a(0x4f1),'questionType','explanation']},_0x28f815={'type':_0x3e493a(0x1d9),'properties':{'topic':{'type':_0x3e493a(0x951)},'questions':{'type':_0x3e493a(0x989),'items':_0x2275bf}},'required':[_0x3e493a(0x37f),_0x3e493a(0x8f0)]};await handleApiCall(_0x30fb99,_0x3e493a(0x3a1),_0x28f815);}catch(_0x24d783){console[_0x3e493a(0x2e8)](_0x3e493a(0x8b5),_0x24d783),showMessage(_0x3e493a(0x4c8)+_0x24d783[_0x3e493a(0x298)]),_0x25eb27[_0x3e493a(0x9e2)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x585a16[_0x3e493a(0x838)][_0x3e493a(0x8a1)](_0x3e493a(0x46b)),_0x414d86[_0x3e493a(0x31d)]=![];}}async function handleGenerateParallelFromBank(_0x437e7a){const _0x482a3f=_0x1df5ec;switchProjectTab(_0x482a3f(0x320));const _0x591dc5=document[_0x482a3f(0x1d3)](_0x482a3f(0x960)),_0x542d4c=document[_0x482a3f(0x1d3)](_0x482a3f(0x5df)),_0x33a0c7=document['getElementById']('generated-quiz-container');document[_0x482a3f(0x1d3)](_0x482a3f(0x980))['classList'][_0x482a3f(0x563)](_0x482a3f(0x46b)),_0x33a0c7[_0x482a3f(0x9e2)]='',_0x591dc5['classList'][_0x482a3f(0x563)](_0x482a3f(0x46b)),_0x542d4c[_0x482a3f(0x5b0)]=_0x482a3f(0x2e3)+_0x437e7a[_0x482a3f(0x37f)]+_0x482a3f(0x453);try{const _0x20929f=_0x437e7a[_0x482a3f(0x8f0)][_0x482a3f(0x4e5)]((_0x2dc5e6,_0x579de5)=>{const _0x2b2c50=_0x482a3f;let _0x220f9f=_0x579de5+0x1+'.\x20'+(_0x2dc5e6[_0x2b2c50(0x4f1)]||_0x2dc5e6[_0x2b2c50(0x41d)])+'\x0a';if(_0x2dc5e6['options'])_0x220f9f+=_0x2dc5e6[_0x2b2c50(0x611)][_0x2b2c50(0x4e5)]((_0x36d522,_0xf465f9)=>_0x2b2c50(0x9b6)+(_0xf465f9===_0x2dc5e6[_0x2b2c50(0x261)]?_0x2b2c50(0x42a):'')+'\x20'+_0x36d522)[_0x2b2c50(0x30f)]('\x0a');else _0x2dc5e6[_0x2b2c50(0x585)]&&(_0x220f9f+=_0x2b2c50(0x81c)+_0x2dc5e6[_0x2b2c50(0x585)]);return _0x220f9f;})[_0x482a3f(0x30f)]('\x0a\x0a');_0x542d4c[_0x482a3f(0x5b0)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x5934cf=_0x437e7a['questions']['length'],_0x368614='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22'+_0x437e7a[_0x482a3f(0x37f)]+_0x482a3f(0x8ee)+_0x5934cf+'\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20929f+_0x482a3f(0x56a)+_0x5934cf+_0x482a3f(0x850)+simpleMathPrompt+_0x482a3f(0x81b),_0x454bd3={'type':_0x482a3f(0x1d9),'properties':{'questionText':{'type':_0x482a3f(0x951)},'questionType':{'type':_0x482a3f(0x951),'enum':['multiple_choice',_0x482a3f(0x44f),_0x482a3f(0x3fc),_0x482a3f(0x2b3)]},'options':{'type':_0x482a3f(0x989),'items':{'type':_0x482a3f(0x951)}},'correctAnswerIndex':{'type':_0x482a3f(0x625)},'idealAnswer':{'type':_0x482a3f(0x951)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0x482a3f(0x951)},'allResponses':{'type':_0x482a3f(0x989),'items':{'type':_0x482a3f(0x951)}},'explanation':{'type':_0x482a3f(0x951)},'imageCode':{'type':_0x482a3f(0x951)}},'required':[_0x482a3f(0x4f1),_0x482a3f(0x24e),_0x482a3f(0x6c4)]},_0x2405ec={'type':_0x482a3f(0x1d9),'properties':{'topic':{'type':_0x482a3f(0x951)},'questions':{'type':_0x482a3f(0x989),'items':_0x454bd3}},'required':['topic',_0x482a3f(0x8f0)]},_0x233f15=await callAnalysisApi(_0x368614,_0x2405ec);_0x233f15[_0x482a3f(0x8f0)]['length']>_0x5934cf&&(_0x233f15[_0x482a3f(0x8f0)]=_0x233f15['questions'][_0x482a3f(0x199)](0x0,_0x5934cf)),_0x233f15[_0x482a3f(0x37f)]=_0x482a3f(0x3b2)+_0x437e7a[_0x482a3f(0x37f)],_0x233f15[_0x482a3f(0x3fd)]=_0x437e7a['quizType'],currentQuizData=_0x233f15,displayGeneratedQuiz(_0x233f15),document['getElementById'](_0x482a3f(0x4d6))[_0x482a3f(0x894)]({'behavior':_0x482a3f(0x45b)});}catch(_0x5508d2){console['error'](_0x482a3f(0x55e),_0x5508d2),showMessage(_0x482a3f(0x4c8)+_0x5508d2['message']),_0x33a0c7[_0x482a3f(0x9e2)]=_0x482a3f(0x93c);}finally{_0x591dc5[_0x482a3f(0x838)][_0x482a3f(0x8a1)](_0x482a3f(0x46b));}}async function handleGenerateParallelPostTest(_0xb06211){const _0x5b454c=_0x1df5ec,_0x32f2a6=document[_0x5b454c(0x1d3)]('results-tab-content'),_0x30e353=document[_0x5b454c(0x1d3)](_0x5b454c(0x9d0));_0x30e353[_0x5b454c(0x838)][_0x5b454c(0x8a1)](_0x5b454c(0x46b));const _0x2ec51c=_0x5b454c(0x248);_0x32f2a6['insertAdjacentHTML'](_0x5b454c(0x68f),_0x2ec51c);try{const _0x4d0ab9=_0xb06211['questions']['map']((_0x818535,_0x17065b)=>{const _0x142c82=_0x5b454c;let _0x35f5cb=_0x17065b+0x1+'.\x20'+(_0x818535['questionText']||_0x818535[_0x142c82(0x41d)]);if(_0x818535[_0x142c82(0x611)])_0x35f5cb+=_0x142c82(0x49a)+_0x818535[_0x142c82(0x611)][_0x142c82(0x30f)](',\x20');return _0x35f5cb;})[_0x5b454c(0x30f)]('\x0a\x0a'),_0x497d38=_0x5b454c(0x8db)+_0xb06211['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d0ab9+_0x5b454c(0x20d)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x57a73a={'type':_0x5b454c(0x1d9),'properties':{'topic':{'type':_0x5b454c(0x951)},'questions':{'type':_0x5b454c(0x989),'items':{'type':_0x5b454c(0x1d9),'properties':{'questionText':{'type':_0x5b454c(0x951)},'questionType':{'type':'STRING'},'options':{'type':_0x5b454c(0x989),'items':{'type':_0x5b454c(0x951)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5b454c(0x951)}},'required':['questionText','explanation']}}},'required':[_0x5b454c(0x37f),_0x5b454c(0x8f0)]},_0x3c77f6=await callAnalysisApi(_0x497d38,_0x57a73a),_0x53d649=_0xb06211[_0x5b454c(0x37f)]['replace'](_0x5b454c(0x302),'')[_0x5b454c(0x72a)](),_0x1a96d1=_0x5b454c(0x4d4)+_0x53d649,_0xce064a={..._0x3c77f6,'topic':_0x1a96d1,'quizType':_0xb06211[_0x5b454c(0x3fd)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5b454c(0x709)](),'status':_0x5b454c(0x22b),'settings':_0xb06211[_0x5b454c(0x8d2)],'quizMode':'post-test','pairedQuizId':_0xb06211['id']};let _0x1afa84;while(!![]){_0x1afa84=Math[_0x5b454c(0x5f0)](0x3e8+Math[_0x5b454c(0x998)]()*0x2328)[_0x5b454c(0x316)]();const _0x5076a6=await getDoc(doc(db,_0x5b454c(0x3d2)+appId+'/public/data/quizzes',_0x1afa84));if(!_0x5076a6[_0x5b454c(0x63b)]())break;}await setDoc(doc(db,_0x5b454c(0x3d2)+appId+'/public/data/quizzes',_0x1afa84),_0xce064a);const _0x54b8f6=doc(db,_0x5b454c(0x3d2)+appId+_0x5b454c(0x33d),_0xb06211['id']);await updateDoc(_0x54b8f6,{'pairedQuizId':_0x1afa84}),showMessage(_0x5b454c(0x1ea));}catch(_0x4092cc){console['error'](_0x5b454c(0x531),_0x4092cc),showMessage(_0x5b454c(0x4c8)+_0x4092cc[_0x5b454c(0x298)]);}finally{const _0x1db056=document[_0x5b454c(0x1d3)](_0x5b454c(0x1c2));if(_0x1db056)_0x1db056[_0x5b454c(0x563)]();_0x30e353[_0x5b454c(0x838)]['remove'](_0x5b454c(0x46b));}}async function handleGenerateParallelTest(){const _0x12471b=_0x1df5ec,_0x548dd5=document[_0x12471b(0x1d3)](_0x12471b(0x684)),_0x38caaa=_0x548dd5[_0x12471b(0x76f)][0x0];if(!_0x38caaa){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x1d60ae=document['getElementById'](_0x12471b(0x960)),_0x5128c5=document[_0x12471b(0x1d3)](_0x12471b(0x5df)),_0x3e94db=document[_0x12471b(0x1d3)]('generated-quiz-container'),_0x401a8c=document[_0x12471b(0x1d3)](_0x12471b(0x526));_0x401a8c[_0x12471b(0x31d)]=!![],document['getElementById'](_0x12471b(0x980))[_0x12471b(0x838)]['remove'](_0x12471b(0x46b)),_0x3e94db[_0x12471b(0x9e2)]='',_0x1d60ae['classList'][_0x12471b(0x563)](_0x12471b(0x46b)),_0x5128c5[_0x12471b(0x5b0)]=_0x12471b(0x3b9);try{const _0x1b0830=await extractTextFromPdf(_0x38caaa);if(!_0x1b0830[_0x12471b(0x72a)]())throw new Error(_0x12471b(0x3f0));_0x5128c5[_0x12471b(0x5b0)]=_0x12471b(0x6c0);const _0x16d4a4=document['getElementById'](_0x12471b(0x7b4))['checked'],_0x23e0f3=_0x16d4a4?_0x12471b(0x754):'',_0x2214d0=_0x12471b(0x583)+_0x1b0830+_0x12471b(0x591)+_0x23e0f3+_0x12471b(0x322)+simpleMathPrompt+_0x12471b(0x81b),_0x7f6a2c={'type':'OBJECT','properties':{'questionText':{'type':_0x12471b(0x951)},'questionType':{'type':_0x12471b(0x951),'enum':['multiple_choice',_0x12471b(0x44f)]},'options':{'type':'ARRAY','items':{'type':_0x12471b(0x951)}},'correctAnswerIndex':{'type':_0x12471b(0x625)},'idealAnswer':{'type':_0x12471b(0x951)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x12471b(0x951)}},'required':[_0x12471b(0x4f1),_0x12471b(0x24e),'explanation']},_0x482c30={'type':_0x12471b(0x1d9),'properties':{'topic':{'type':_0x12471b(0x951)},'questions':{'type':'ARRAY','items':_0x7f6a2c}},'required':[_0x12471b(0x37f),_0x12471b(0x8f0)]};await handleApiCall(_0x2214d0,_0x12471b(0x2a2),_0x482c30);}catch(_0x3fee50){console[_0x12471b(0x2e8)](_0x12471b(0x820),_0x3fee50),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3fee50[_0x12471b(0x298)]),_0x3e94db[_0x12471b(0x9e2)]=_0x12471b(0x93c);}finally{_0x1d60ae[_0x12471b(0x838)][_0x12471b(0x8a1)]('hidden'),_0x401a8c[_0x12471b(0x31d)]=![];}}async function handleRegenerateQuestionInEditor(_0x4d608d){const _0x1964e4=_0x1df5ec;if(currentEditingQuizData===null)return;const _0x47baa7=document[_0x1964e4(0x870)](_0x1964e4(0x8b0)+_0x4d608d+'\x22]');_0x47baa7&&(_0x47baa7[_0x1964e4(0x9e2)]=_0x1964e4(0x284));const _0x3e94ed=currentEditingQuizData[_0x1964e4(0x8f0)][_0x4d608d],_0x252bce=currentEditingQuizData['topic'],_0x3be1ff=_0x3e94ed[_0x1964e4(0x24e)],_0x521e75={'type':_0x1964e4(0x1d9),'properties':{'questionText':{'type':_0x1964e4(0x951)},'options':{'type':_0x1964e4(0x989),'items':{'type':_0x1964e4(0x951)}},'correctAnswerIndex':{'type':_0x1964e4(0x625)},'explanation':{'type':_0x1964e4(0x951)}},'required':['questionText',_0x1964e4(0x611),_0x1964e4(0x261),_0x1964e4(0x6c4)]},_0x756951={'type':'OBJECT','properties':{'questionText':{'type':_0x1964e4(0x951)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1964e4(0x951)}},'required':[_0x1964e4(0x4f1),'idealAnswer',_0x1964e4(0x6c4)]};let _0x551bf2,_0x54b490='';_0x3be1ff==='multiple_choice'?(_0x551bf2=_0x521e75,_0x54b490=_0x1964e4(0x1bd)):(_0x551bf2=_0x756951,_0x54b490=_0x1964e4(0x6ba));const _0x196dd2='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x252bce+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x54b490+_0x1964e4(0x8ba)+(_0x3e94ed[_0x1964e4(0x4f1)]||_0x3e94ed[_0x1964e4(0x41d)])+_0x1964e4(0x789)+simpleMathPrompt;try{const _0x3805fc=await callAnalysisApi(_0x196dd2,_0x551bf2);currentEditingQuizData[_0x1964e4(0x8f0)][_0x4d608d]={..._0x3e94ed,..._0x3805fc},renderQuizEditor(currentEditingQuizData);}catch(_0x5e5a14){console[_0x1964e4(0x2e8)](_0x1964e4(0x462),_0x5e5a14),showMessage(_0x1964e4(0x194)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xc7dfac=_0x1df5ec,_0x15bfd1=document[_0xc7dfac(0x1d3)]('mode-switcher-btn');currentMode===_0xc7dfac(0x98a)?(currentMode=_0xc7dfac(0x863),_0x15bfd1[_0xc7dfac(0x9e2)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x15bfd1[_0xc7dfac(0x784)]=_0xc7dfac(0x97f),showView(_0xc7dfac(0x98f))):(currentMode=_0xc7dfac(0x98a),_0x15bfd1[_0xc7dfac(0x9e2)]=_0xc7dfac(0x8e6),_0x15bfd1[_0xc7dfac(0x784)]='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x1d9afa=_0x1df5ec,_0x2f588e=document[_0x1d9afa(0x1d3)](_0x1d9afa(0x2fe)),_0xdf05f4=document[_0x1d9afa(0x1d3)](_0x1d9afa(0x306));if(_0x2f588e[_0x1d9afa(0x750)]==='27411472'){adminPasswordModal['classList'][_0x1d9afa(0x8a1)](_0x1d9afa(0x46b)),_0x2f588e[_0x1d9afa(0x750)]='',_0xdf05f4[_0x1d9afa(0x838)]['add'](_0x1d9afa(0x46b)),currentMode=_0x1d9afa(0x863);const _0x5b72b3=document[_0x1d9afa(0x1d3)](_0x1d9afa(0x58e));_0x5b72b3[_0x1d9afa(0x9e2)]=_0x1d9afa(0x2c2),_0x5b72b3['title']='สลับไปโหมดนักเรียน',showView(_0x1d9afa(0x98f));}else _0xdf05f4['classList'][_0x1d9afa(0x563)](_0x1d9afa(0x46b)),_0x2f588e[_0x1d9afa(0x750)]='';}function switchProjectTab(_0xa5eef8){const _0x518a10=_0x1df5ec;[_0x518a10(0x320),_0x518a10(0x551),_0x518a10(0x196)][_0x518a10(0x722)](_0x1dd2bc=>{const _0x4e68d2=_0x518a10;document[_0x4e68d2(0x1d3)](_0x1dd2bc+_0x4e68d2(0x775))['classList'][_0x4e68d2(0x563)]('active'),document['getElementById'](_0x1dd2bc+_0x4e68d2(0x1ab))['classList'][_0x4e68d2(0x8a1)](_0x4e68d2(0x46b));}),document['getElementById'](_0xa5eef8+_0x518a10(0x775))['classList'][_0x518a10(0x8a1)]('active'),document[_0x518a10(0x1d3)](_0xa5eef8+_0x518a10(0x1ab))[_0x518a10(0x838)][_0x518a10(0x563)](_0x518a10(0x46b));}function switchQuizDetailTab(_0x34e18b){const _0xce440f=_0x1df5ec,_0xaeb153={'analytics':{'btn':'analytics-tab-btn','content':_0xce440f(0x31b)},'scores':{'btn':_0xce440f(0x3f6),'content':_0xce440f(0x7d0)},'leaderboard-quiz':{'btn':_0xce440f(0x2d7),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0xce440f(0x1ef),'content':_0xce440f(0x2d3)}};for(const _0x3a8f7f in _0xaeb153){document[_0xce440f(0x1d3)](_0xaeb153[_0x3a8f7f][_0xce440f(0x2c7)])[_0xce440f(0x838)][_0xce440f(0x563)](_0xce440f(0x22b)),document['getElementById'](_0xaeb153[_0x3a8f7f][_0xce440f(0x969)])['classList']['add'](_0xce440f(0x46b));}document[_0xce440f(0x1d3)](_0xaeb153[_0x34e18b][_0xce440f(0x2c7)])[_0xce440f(0x838)][_0xce440f(0x8a1)]('active'),document[_0xce440f(0x1d3)](_0xaeb153[_0x34e18b][_0xce440f(0x969)])['classList'][_0xce440f(0x563)]('hidden');}function showMessage(_0x381d08,_0x5d0812=null){const _0x2a87c5=_0x1df5ec;modalMessage[_0x2a87c5(0x5b0)]=_0x381d08,modalConfirmAction=_0x5d0812,messageModal[_0x2a87c5(0x838)][_0x2a87c5(0x563)](_0x2a87c5(0x46b));}function showConfirmation(_0x175476,_0x275038){const _0x3536e3=_0x1df5ec;document[_0x3536e3(0x1d3)](_0x3536e3(0x6c8))[_0x3536e3(0x5b0)]=_0x175476,document['getElementById']('confirmation-modal')[_0x3536e3(0x870)]('h3')['textContent']=_0x3536e3(0x4f5),confirmAction=_0x275038,confirmationModal[_0x3536e3(0x838)][_0x3536e3(0x563)](_0x3536e3(0x46b));}function listenForProjects(){const _0x3295b4=_0x1df5ec,_0x24aa44=doc(db,_0x3295b4(0x382),_0x3295b4(0x72b));onSnapshot(_0x24aa44,_0x359e91=>{const _0x49f307=_0x3295b4;if(_0x359e91[_0x49f307(0x63b)]()){const _0x1c19bf=_0x359e91['data']();globalDashboardSettings['projectSort']=_0x1c19bf[_0x49f307(0x5cf)]||'date_desc',globalDashboardSettings[_0x49f307(0x6bd)]=_0x1c19bf['pinnedProjects']||[],globalDashboardSettings[_0x49f307(0x2f3)]=_0x1c19bf[_0x49f307(0x2f3)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x5b0161=collection(db,_0x3295b4(0x3d2)+appId+_0x3295b4(0x8bc));unsubscribeProjectsListener=onSnapshot(_0x5b0161,_0x29cef0=>{const _0x56eaa1=_0x3295b4;allProjects=_0x29cef0['docs'][_0x56eaa1(0x4e5)](_0x4a5d3f=>({'id':_0x4a5d3f['id'],..._0x4a5d3f[_0x56eaa1(0x5ad)]()})),renderProjects();},_0x527ded=>{const _0x7a78ac=_0x3295b4;console[_0x7a78ac(0x2e8)](_0x7a78ac(0x673),_0x527ded),showMessage(_0x7a78ac(0x246));});}function showColorPalette(_0x4e0c08,_0x381606){const _0x809a4a=_0x1df5ec;document[_0x809a4a(0x882)](_0x809a4a(0x449))['forEach'](_0x69011a=>_0x69011a[_0x809a4a(0x563)]());const _0x5d1caa=[_0x809a4a(0x770),_0x809a4a(0x3e4),_0x809a4a(0x517),_0x809a4a(0x592),_0x809a4a(0x5ff),_0x809a4a(0x8eb),_0x809a4a(0x9a9),'#FCE7F3',_0x809a4a(0x935)],_0x8b37a5=document['createElement'](_0x809a4a(0x234));_0x8b37a5['className']=_0x809a4a(0x354),_0x5d1caa[_0x809a4a(0x722)](_0x19a284=>{const _0x5e8373=_0x809a4a,_0x482096=document[_0x5e8373(0x757)]('div');_0x482096[_0x5e8373(0x509)]=_0x5e8373(0x1bf),_0x482096[_0x5e8373(0xa10)][_0x5e8373(0x86f)]=_0x19a284,_0x482096[_0x5e8373(0x2ca)](_0x5e8373(0x3c6),()=>{const _0x450a65=_0x5e8373;handleProjectColorChange(_0x381606,_0x19a284),_0x8b37a5[_0x450a65(0x563)]();}),_0x8b37a5[_0x5e8373(0x378)](_0x482096);}),document[_0x809a4a(0x314)][_0x809a4a(0x378)](_0x8b37a5);const _0x2ab6ff=_0x4e0c08[_0x809a4a(0xa0e)]();_0x8b37a5[_0x809a4a(0xa10)][_0x809a4a(0x9c9)]=_0x2ab6ff[_0x809a4a(0x2c4)]+window['scrollY']+'px',_0x8b37a5[_0x809a4a(0xa10)][_0x809a4a(0x746)]=_0x2ab6ff[_0x809a4a(0x746)]+window[_0x809a4a(0x6ae)]-_0x8b37a5[_0x809a4a(0x8ef)]/0x2+'px';}async function handleProjectColorChange(_0x39ae8f,_0x29c74b){const _0x24130d=_0x1df5ec,_0x320f58=doc(db,_0x24130d(0x3d2)+appId+_0x24130d(0x8bc),_0x39ae8f);try{await updateDoc(_0x320f58,{'color':_0x29c74b});}catch(_0x5dfc72){console[_0x24130d(0x2e8)]('Error\x20updating\x20project\x20color:',_0x5dfc72),showMessage(_0x24130d(0x9ba));}}async function renderProjects(){const _0x1a5be5=_0x1df5ec,_0x214aec=globalDashboardSettings['projectSort']||_0x1a5be5(0x85c),_0x3fb7a2=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x4f3f41=globalDashboardSettings[_0x1a5be5(0x33c)]||_0x1a5be5(0x2c3),_0x3d57b9=document['getElementById'](_0x1a5be5(0x53c)),_0x510849=document[_0x1a5be5(0x1d3)]('list-view-btn');_0x3d57b9[_0x1a5be5(0x838)][_0x1a5be5(0x8f4)]('active',_0x4f3f41==='grid'),_0x510849['classList'][_0x1a5be5(0x8f4)](_0x1a5be5(0x22b),_0x4f3f41===_0x1a5be5(0x81f)),document[_0x1a5be5(0x1d3)](_0x1a5be5(0x8bb))['value']=_0x214aec;const _0x2670d7=document[_0x1a5be5(0x1d3)](_0x1a5be5(0x3b7))[_0x1a5be5(0x750)]['toLowerCase']();let _0x4642ad=allProjects[_0x1a5be5(0x93a)](_0x58da53=>_0x58da53['projectName']['toLowerCase']()[_0x1a5be5(0x8b3)](_0x2670d7));const _0x3488de=_0x4642ad[_0x1a5be5(0x93a)](_0x397c92=>_0x3fb7a2[_0x1a5be5(0x636)](_0x397c92['id'])),_0xb709d1=_0x4642ad[_0x1a5be5(0x93a)](_0x3ed6da=>!_0x3fb7a2[_0x1a5be5(0x636)](_0x3ed6da['id'])),_0x5c28b8=(_0x56358b,_0x2237cf)=>{const _0x20ec0e=_0x1a5be5;switch(_0x214aec){case _0x20ec0e(0x8dc):return _0x56358b[_0x20ec0e(0x958)][_0x20ec0e(0x3d7)](_0x2237cf['projectName'],'th');case _0x20ec0e(0x247):return _0x2237cf[_0x20ec0e(0x958)][_0x20ec0e(0x3d7)](_0x56358b['projectName'],'th');case _0x20ec0e(0x2fb):return new Date(_0x56358b[_0x20ec0e(0x7e7)])-new Date(_0x2237cf[_0x20ec0e(0x7e7)]);default:return new Date(_0x2237cf[_0x20ec0e(0x7e7)])-new Date(_0x56358b[_0x20ec0e(0x7e7)]);}};_0x3488de[_0x1a5be5(0x1f6)](_0x5c28b8),_0xb709d1['sort'](_0x5c28b8);const _0x2db144=[..._0x3488de,..._0xb709d1],_0x141727=globalDashboardSettings[_0x1a5be5(0x2f3)]||[];_0x141727[_0x1a5be5(0x4a6)]>0x0&&_0x4f3f41===_0x1a5be5(0x2c3)&&_0x2db144['sort']((_0x5da046,_0x944bc0)=>{const _0x28f11d=_0x1a5be5,_0x5be654=_0x141727[_0x28f11d(0x3ed)](_0x5da046['id']),_0x541073=_0x141727[_0x28f11d(0x3ed)](_0x944bc0['id']);if(_0x5be654===-0x1)return 0x1;if(_0x541073===-0x1)return-0x1;return _0x5be654-_0x541073;});const _0x13bd54={};await Promise[_0x1a5be5(0x408)](_0x2db144[_0x1a5be5(0x4e5)](async _0x38f05a=>{const _0x13f469=_0x1a5be5,_0x37d824=query(collection(db,_0x13f469(0x3d2)+appId+'/public/data/quizzes'),where(_0x13f469(0x642),'==',_0x38f05a['id'])),_0xde6118=await getDocs(_0x37d824);_0x13bd54[_0x38f05a['id']]=_0xde6118[_0x13f469(0x7f1)];}));const _0x2a6e47=document[_0x1a5be5(0x1d3)](_0x1a5be5(0x295));let _0x3e3ad8='';if(_0x4f3f41===_0x1a5be5(0x2c3)){_0x2a6e47[_0x1a5be5(0x509)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x1a5be5(0x4a6)]>0x0&&_0x2670d7===''){const _0x5ef7d2=starredQuizzes[_0x1a5be5(0x4e5)](_0x2534d8=>{const _0x581e7b=_0x1a5be5,_0x199b44=allProjects[_0x581e7b(0x500)](_0x172248=>_0x172248['id']===_0x2534d8['projectId']);return{..._0x2534d8,'projectName':_0x199b44?_0x199b44['projectName']:_0x581e7b(0x330)};});_0x3e3ad8+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ef7d2['map'](_0x287c70=>_0x1a5be5(0x85a)+_0x287c70['topic']+'\x22>'+_0x287c70[_0x1a5be5(0x37f)]+_0x1a5be5(0x249)+_0x287c70[_0x1a5be5(0x958)]+_0x1a5be5(0x213)+_0x287c70[_0x1a5be5(0x958)]+_0x1a5be5(0x277))[_0x1a5be5(0x30f)]('')+_0x1a5be5(0x779)+starredQuizzes['length']+_0x1a5be5(0x99a);}_0x2db144['forEach'](_0x55dbc5=>{const _0x166839=_0x1a5be5,_0x574777=_0x13bd54[_0x55dbc5['id']]??0x0,_0x89daff=_0x3fb7a2['has'](_0x55dbc5['id']),_0x411ad3=_0x55dbc5[_0x166839(0x5f9)]||'#FFFFFF',_0x3aeb31=parseInt(_0x411ad3[_0x166839(0x1f2)](0x1,0x3),0x10)*0.299+parseInt(_0x411ad3['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x411ad3[_0x166839(0x1f2)](0x5,0x7),0x10)*0.114<0xba,_0x18e574=_0x3aeb31?'text-white':_0x166839(0x79d),_0x52203c=_0x3aeb31?_0x166839(0x2cf):_0x166839(0x5ac);_0x3e3ad8+=_0x166839(0x3b4)+(_0x89daff?_0x166839(0x7c7):'border-gray-200')+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x411ad3+_0x166839(0x830)+_0x55dbc5['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x55dbc5['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x3aeb31?_0x166839(0x4cf):'text-gray-400\x20hover:text-indigo-600')+_0x166839(0x6a1)+_0x55dbc5['id']+_0x166839(0x822)+(_0x3aeb31?_0x166839(0x4cf):_0x166839(0x516))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x89daff?_0x3aeb31?_0x166839(0x269):_0x166839(0x2d0):'')+_0x166839(0x910)+_0x55dbc5['id']+_0x166839(0x2e0)+_0x18e574+_0x166839(0x392)+_0x55dbc5[_0x166839(0x958)]+_0x166839(0x5d9)+_0x52203c+_0x166839(0x977)+new Date(_0x55dbc5['createdAt'])['toLocaleDateString'](_0x166839(0x8e1))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x3aeb31?_0x166839(0x278):_0x166839(0x356))+_0x166839(0x231)+_0x574777+_0x166839(0x5b5)+_0x55dbc5['id']+'\x22\x20data-name=\x22'+_0x55dbc5[_0x166839(0x958)]+_0x166839(0x389)+(_0x3aeb31?_0x166839(0x8a2):_0x166839(0x56e))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x2a6e47[_0x1a5be5(0x509)]=_0x1a5be5(0x403),starredQuizzes[_0x1a5be5(0x4a6)]>0x0&&_0x2670d7===''&&(_0x3e3ad8+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x1a5be5(0x4a6)]+_0x1a5be5(0x4b2)),_0x3e3ad8+=_0x1a5be5(0x7f8),_0x2db144['forEach'](_0x36fefb=>{const _0x3fb1bb=_0x1a5be5,_0xa20724=_0x13bd54[_0x36fefb['id']]??0x0,_0x37e4e7=_0x3fb7a2[_0x3fb1bb(0x636)](_0x36fefb['id']);_0x3e3ad8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x36fefb[_0x3fb1bb(0x5f9)]||_0x3fb1bb(0x935))+_0x3fb1bb(0x710)+_0x36fefb['id']+_0x3fb1bb(0x8e8)+_0x36fefb[_0x3fb1bb(0x958)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0xa20724+_0x3fb1bb(0x36e)+new Date(_0x36fefb['createdAt'])['toLocaleString'](_0x3fb1bb(0x8e1))+_0x3fb1bb(0x952)+_0x36fefb['id']+_0x3fb1bb(0x7a6)+(_0x37e4e7?_0x3fb1bb(0x2d0):'')+_0x3fb1bb(0xa04)+_0x36fefb['id']+_0x3fb1bb(0x358)+_0x36fefb[_0x3fb1bb(0x958)]+_0x3fb1bb(0x974);});projectList['innerHTML']=_0x3e3ad8,noProjectsMsg[_0x1a5be5(0x838)][_0x1a5be5(0x8f4)](_0x1a5be5(0x46b),_0x3e3ad8[_0x1a5be5(0x4a6)]>0x0);}document[_0x1df5ec(0x1d3)](_0x1df5ec(0x43f))[_0x1df5ec(0x2ca)](_0x1df5ec(0x3c6),async()=>{const _0x28ad66=_0x1df5ec,_0xc94f43=document[_0x28ad66(0x1d3)](_0x28ad66(0x296)),_0x3b9e33=_0xc94f43[_0x28ad66(0x750)][_0x28ad66(0x72a)]();if(!_0x3b9e33){showMessage(_0x28ad66(0x74e));return;}try{const _0x15cd40=doc(collection(db,'artifacts/'+appId+_0x28ad66(0x8bc)));await setDoc(_0x15cd40,{'projectName':_0x3b9e33,'students':[],'settings':{'resultsDisplay':_0x28ad66(0x881),'shuffleSetting':_0x28ad66(0x9f2),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x28ad66(0x9f2),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x28ad66(0x709)]()}),_0xc94f43[_0x28ad66(0x750)]='',createProjectModal['classList'][_0x28ad66(0x8a1)](_0x28ad66(0x46b)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x5c60f5){console[_0x28ad66(0x2e8)](_0x28ad66(0x458),_0x5c60f5),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x1df5ec(0x2ca)](_0x1df5ec(0x3c6),async _0x427653=>{const _0x45df67=_0x1df5ec,_0x46d49d=_0x427653[_0x45df67(0x9ff)][_0x45df67(0x7da)](_0x45df67(0x5cc)),_0x52c019=_0x427653[_0x45df67(0x9ff)]['closest']('.delete-project-btn'),_0x256ad4=_0x427653[_0x45df67(0x9ff)][_0x45df67(0x7da)](_0x45df67(0x540)),_0x15d455=_0x427653['target'][_0x45df67(0x7da)](_0x45df67(0x244));if(_0x256ad4){const _0x1fd4cf=_0x256ad4[_0x45df67(0x984)]['id'],_0x9db631=doc(db,'globalSettings',_0x45df67(0x72b)),_0x32e4e6=globalDashboardSettings[_0x45df67(0x6bd)];let _0x3c8ac4;_0x32e4e6[_0x45df67(0x8b3)](_0x1fd4cf)?_0x3c8ac4=_0x32e4e6[_0x45df67(0x93a)](_0x13a2e9=>_0x13a2e9!==_0x1fd4cf):_0x3c8ac4=[..._0x32e4e6,_0x1fd4cf];try{await setDoc(_0x9db631,{'pinnedProjects':_0x3c8ac4},{'merge':!![]});}catch(_0x1f95ed){console[_0x45df67(0x2e8)]('Error\x20updating\x20pin\x20status:',_0x1f95ed),showMessage(_0x45df67(0x8c2));}}else{if(_0x15d455){const _0x2df9e2=_0x15d455['dataset']['id'];showColorPalette(_0x15d455,_0x2df9e2);}else{if(_0x46d49d){const _0x3d5e33=_0x46d49d[_0x45df67(0x984)]['id'];_0x3d5e33===_0x45df67(0x887)?showStarredProjectView():(currentProjectId=_0x3d5e33,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x52c019){const _0x178afc=_0x52c019[_0x45df67(0x984)]['id'],_0x228bf4=_0x52c019['dataset'][_0x45df67(0x5a4)];showConfirmation(_0x45df67(0x776)+_0x228bf4+_0x45df67(0x4e6),()=>handleDeleteProject(_0x178afc));}}}}}),projectList[_0x1df5ec(0x2ca)](_0x1df5ec(0x80e),_0x5184ed=>{const _0x28de19=_0x1df5ec,_0x299bb6=_0x5184ed[_0x28de19(0x9ff)]['closest']('.project-card-container');_0x299bb6&&_0x299bb6[_0x28de19(0x838)][_0x28de19(0x8a1)](_0x28de19(0x64d));}),projectList[_0x1df5ec(0x2ca)](_0x1df5ec(0x468),_0xd26fe0=>{const _0x3a529c=_0x1df5ec,_0x2fd9f0=_0xd26fe0[_0x3a529c(0x9ff)]['closest'](_0x3a529c(0x374));_0x2fd9f0&&_0x2fd9f0[_0x3a529c(0x838)][_0x3a529c(0x563)](_0x3a529c(0x64d));}),projectList[_0x1df5ec(0x2ca)](_0x1df5ec(0x224),_0x13b0ca=>{const _0x4be43c=_0x1df5ec;_0x13b0ca[_0x4be43c(0x662)]();const _0x431986=document['querySelector'](_0x4be43c(0x59c));if(!_0x431986)return;const _0x4892db=getDragAfterElement(projectList,_0x13b0ca[_0x4be43c(0x7c1)]);_0x4892db==null?projectList['appendChild'](_0x431986):projectList[_0x4be43c(0x1c9)](_0x431986,_0x4892db);}),projectList[_0x1df5ec(0x2ca)](_0x1df5ec(0x55b),_0x1173a7=>{const _0x3280e0=_0x1df5ec;_0x1173a7['preventDefault']();const _0x254c07=[...projectList['querySelectorAll'](_0x3280e0(0x3dc))]['map'](_0x451a81=>_0x451a81[_0x3280e0(0x984)]['id']);saveProjectOrder(_0x254c07);});function renderBehaviorLog(_0x28dd27){const _0x257a4d=_0x1df5ec,_0x484717=document[_0x257a4d(0x1d3)]('behavior-log-container');if(!_0x484717)return;const _0x21a91a=_0x28dd27[_0x257a4d(0x93a)](_0x1c569c=>_0x1c569c['behaviorLog']&&_0x1c569c['behaviorLog'][_0x257a4d(0x4a6)]>0x0);if(_0x21a91a[_0x257a4d(0x4a6)]===0x0){_0x484717[_0x257a4d(0x9e2)]=_0x257a4d(0x3db);return;}let _0x5b3b2e='';_0x21a91a['forEach'](_0x3aa1e4=>{const _0x57101c=_0x257a4d;_0x5b3b2e+=_0x57101c(0x40c)+_0x3aa1e4[_0x57101c(0x414)]+_0x57101c(0x730),_0x3aa1e4[_0x57101c(0x9b1)][_0x57101c(0x1f6)]((_0x2649e6,_0x27ddec)=>new Date(_0x27ddec[_0x57101c(0x6e5)])-new Date(_0x2649e6['timestamp']))[_0x57101c(0x722)](_0x4fc9b2=>{const _0x4cc855=_0x57101c,_0x375899=new Date(_0x4fc9b2['timestamp'])[_0x4cc855(0x6e4)](_0x4cc855(0x8e1),{'dateStyle':_0x4cc855(0x268),'timeStyle':_0x4cc855(0x95a)});_0x5b3b2e+=_0x4cc855(0x266)+_0x4fc9b2[_0x4cc855(0x954)]+_0x4cc855(0x8a7)+_0x375899+_0x4cc855(0x376);}),_0x5b3b2e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x484717[_0x257a4d(0x9e2)]=_0x5b3b2e;}function getDragAfterElement(_0x3203ff,_0x5f0621){const _0x30f9fd=_0x1df5ec,_0x332730=[..._0x3203ff[_0x30f9fd(0x882)](_0x30f9fd(0x1cd))];return _0x332730['reduce']((_0x752492,_0x558d0e)=>{const _0x390655=_0x30f9fd,_0x55348b=_0x558d0e[_0x390655(0xa0e)](),_0x231cf9=_0x5f0621-_0x55348b['top']-_0x55348b['height']/0x2;return _0x231cf9<0x0&&_0x231cf9>_0x752492[_0x390655(0x64f)]?{'offset':_0x231cf9,'element':_0x558d0e}:_0x752492;},{'offset':Number[_0x30f9fd(0x32c)]})[_0x30f9fd(0x643)];}async function saveProjectOrder(_0x66d6c6){const _0x44b8e0=_0x1df5ec,_0xcdfaeb=doc(db,_0x44b8e0(0x382),_0x44b8e0(0x72b));try{await setDoc(_0xcdfaeb,{'projectOrder':_0x66d6c6},{'merge':!![]});}catch(_0x309126){console[_0x44b8e0(0x2e8)](_0x44b8e0(0x607),_0x309126),showMessage(_0x44b8e0(0x8cb));}}async function logBehaviorEvent(_0x51e1cb,_0x3924d7={}){const _0x34102d=_0x1df5ec;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x34102d(0x76a)](_0x34102d(0x596));return;}const _0xea1697=doc(db,_0x34102d(0x3d2)+appId+_0x34102d(0x86b)+currentQuizData['id']+'/submissions',currentStudentName),_0x55564c={'event':_0x51e1cb,'timestamp':new Date()['toISOString'](),..._0x3924d7};try{await updateDoc(_0xea1697,{'behaviorLog':arrayUnion(_0x55564c)}),console[_0x34102d(0x31a)](_0x34102d(0x2bf)+currentStudentName+_0x34102d(0x634));}catch(_0x1a351a){_0x1a351a['code']===_0x34102d(0x504)?console[_0x34102d(0x76a)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x34102d(0x5b6)):console[_0x34102d(0x2e8)](_0x34102d(0x49d),_0x1a351a);}}function calculateMeanAndStdDev(_0x43e2eb){const _0x4ce022=_0x1df5ec;if(_0x43e2eb[_0x4ce022(0x4a6)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x55078a=_0x43e2eb[_0x4ce022(0x439)]((_0x138929,_0x439989)=>_0x138929+_0x439989,0x0)/_0x43e2eb[_0x4ce022(0x4a6)];if(_0x43e2eb[_0x4ce022(0x4a6)]===0x1)return{'mean':_0x55078a,'stdDev':0x0};const _0x40d187=Math[_0x4ce022(0x2f5)](_0x43e2eb['map'](_0x4a5218=>Math[_0x4ce022(0x38d)](_0x4a5218-_0x55078a,0x2))[_0x4ce022(0x439)]((_0x55fef1,_0x221626)=>_0x55fef1+_0x221626,0x0)/(_0x43e2eb[_0x4ce022(0x4a6)]-0x1));return{'mean':_0x55078a,'stdDev':_0x40d187};}function calculateZScore(_0x3a4ca0,_0x2bc855,_0x26910f){if(_0x26910f===0x0)return 0x0;return(_0x3a4ca0-_0x2bc855)/_0x26910f;}function calculateTScore(_0x12a0e7){return 0xa*_0x12a0e7+0x32;}function showStarredProjectView(){const _0x3d00eb=_0x1df5ec;currentProjectId='starred',currentProjectData=null,projectTitle[_0x3d00eb(0x5b0)]=_0x3d00eb(0x7a4),projectIdDisplay[_0x3d00eb(0x5b0)]=_0x3d00eb(0x839),showView('project-detail'),manageTab[_0x3d00eb(0x838)][_0x3d00eb(0x8a1)]('hidden'),leaderboardTab[_0x3d00eb(0x838)]['add'](_0x3d00eb(0x46b)),switchProjectTab(_0x3d00eb(0x551)),renderQuizzes();}async function loadProjectDetails(_0x1997b7){const _0x49c30a=_0x1df5ec,_0x42b304=doc(db,_0x49c30a(0x3d2)+appId+_0x49c30a(0x8bc),_0x1997b7),_0x40ace8=await getDoc(_0x42b304);if(_0x40ace8[_0x49c30a(0x63b)]()){manageTab[_0x49c30a(0x838)][_0x49c30a(0x563)](_0x49c30a(0x46b)),leaderboardTab['classList'][_0x49c30a(0x563)]('hidden'),currentProjectData=_0x40ace8[_0x49c30a(0x5ad)](),projectTitle[_0x49c30a(0x5b0)]=currentProjectData[_0x49c30a(0x958)],projectIdDisplay['textContent']=_0x1997b7;const _0x6a2422=currentProjectData[_0x49c30a(0x8d2)]||{};document[_0x49c30a(0x1d3)](_0x49c30a(0x74a))['value']=_0x6a2422[_0x49c30a(0x1bb)]||'none';const _0x11796f=document[_0x49c30a(0x1d3)](_0x49c30a(0x922));_0x11796f[_0x49c30a(0x5fb)]=_0x6a2422[_0x49c30a(0x5c5)]!==![];const _0x4f924e=document[_0x49c30a(0x1d3)](_0x49c30a(0x505)),_0x37b1a3=document['getElementById'](_0x49c30a(0x364)),_0x3674e9=document[_0x49c30a(0x1d3)](_0x49c30a(0x353)),_0x247cc4=_0x6a2422[_0x49c30a(0x4db)]||![];_0x4f924e['checked']=_0x247cc4,_0x3674e9[_0x49c30a(0x750)]=_0x6a2422[_0x49c30a(0x7f3)]||'',_0x37b1a3['classList'][_0x49c30a(0x8f4)](_0x49c30a(0x46b),!_0x247cc4),_0x4f924e[_0x49c30a(0x41a)]=()=>{const _0x355b9a=_0x49c30a;_0x37b1a3['classList'][_0x355b9a(0x8f4)](_0x355b9a(0x46b),!_0x4f924e[_0x355b9a(0x5fb)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1997b7),listenForProjectQuizzes(_0x1997b7),listenForStudentProfiles(_0x1997b7);}else showMessage(_0x49c30a(0x67f)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x990e3b=_0x1df5ec,_0xe9e70b=doc(db,_0x990e3b(0x382),'dashboardConfig');try{await setDoc(_0xe9e70b,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x990e3b(0x1b9));}catch(_0x1a7d74){console[_0x990e3b(0x2e8)](_0x990e3b(0x57f),_0x1a7d74),showMessage(_0x990e3b(0x656));}}async function handleTogglePinProject(_0x4f4bf3){const _0x2bc868=_0x1df5ec;if(!_0x4f4bf3)return;const _0x24890f=doc(db,_0x2bc868(0x3d2)+appId+_0x2bc868(0x8bc),_0x4f4bf3);try{const _0x2a8f01=await getDoc(_0x24890f);if(_0x2a8f01[_0x2bc868(0x63b)]()){const _0x53f9ee=_0x2a8f01['data']()[_0x2bc868(0x3c4)]||![];await updateDoc(_0x24890f,{'isPinned':!_0x53f9ee});}}catch(_0x3d2861){console['error'](_0x2bc868(0x7bf),_0x3d2861),showMessage(_0x2bc868(0x8c2));}}async function handleDeleteProject(_0x3f3fe6){const _0x1792b0=_0x1df5ec;try{const _0xfdd32e=writeBatch(db),_0x3e50c2=collection(db,_0x1792b0(0x3d2)+appId+'/public/data/quizzes'),_0x9c044f=query(_0x3e50c2,where(_0x1792b0(0x642),'==',_0x3f3fe6)),_0x171c8b=await getDocs(_0x9c044f);for(const _0x470a54 of _0x171c8b['docs']){const _0x5902c1=collection(db,_0x1792b0(0x3d2)+appId+_0x1792b0(0x86b)+_0x470a54['id']+'/submissions'),_0xc191be=await getDocs(_0x5902c1);_0xc191be[_0x1792b0(0x722)](_0x41912b=>{const _0x5c80c9=_0x1792b0;_0xfdd32e[_0x5c80c9(0x276)](_0x41912b['ref']);}),_0xfdd32e[_0x1792b0(0x276)](_0x470a54[_0x1792b0(0x1dd)]);}const _0x24ec0c=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x3f3fe6+_0x1792b0(0x7b6)),_0x4a429e=await getDocs(_0x24ec0c);_0x4a429e[_0x1792b0(0x722)](_0x474c84=>{const _0x592d87=_0x1792b0;_0xfdd32e[_0x592d87(0x276)](_0x474c84['ref']);});const _0x3b21bd=doc(db,'artifacts/'+appId+'/public/data/projects',_0x3f3fe6);_0xfdd32e[_0x1792b0(0x276)](_0x3b21bd),await _0xfdd32e['commit'](),showMessage(_0x1792b0(0x9c2)),showView(_0x1792b0(0x98f));}catch(_0x3212c3){console[_0x1792b0(0x2e8)](_0x1792b0(0x3cb),_0x3212c3),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x1df5ec(0x1d3)]('save-settings-btn')[_0x1df5ec(0x2ca)]('click',async()=>{const _0x46566f=_0x1df5ec;if(!currentProjectId)return;const _0x19203={'defaultNumQuestions':parseInt(document[_0x46566f(0x1d3)](_0x46566f(0x1be))[_0x46566f(0x750)]),'defaultNumChoices':parseInt(document[_0x46566f(0x1d3)](_0x46566f(0x701))['value']),'defaultPassingScore':parseInt(document['getElementById'](_0x46566f(0x61c))['value']),'resultsDisplay':document['getElementById']('results-display-select')[_0x46566f(0x750)],'shuffleSetting':document[_0x46566f(0x1d3)](_0x46566f(0x74a))[_0x46566f(0x750)],'timerMode':document['getElementById'](_0x46566f(0x88b))[_0x46566f(0x750)],'timerDuration':parseInt(document[_0x46566f(0x1d3)]('timer-duration-input')[_0x46566f(0x750)])};try{const _0x1a4296=doc(db,_0x46566f(0x3d2)+appId+_0x46566f(0x8bc),currentProjectId);await updateDoc(_0x1a4296,{'settings':_0x19203}),showMessage(_0x46566f(0x828));}catch(_0x5d7c29){console[_0x46566f(0x2e8)](_0x46566f(0x748),_0x5d7c29),showMessage(_0x46566f(0x54f));}});function listenForStudents(_0xcf45b3){const _0x5ec24b=_0x1df5ec,_0x4036df=doc(db,'artifacts/'+appId+_0x5ec24b(0x8bc),_0xcf45b3);unsubscribeStudentsListener=onSnapshot(_0x4036df,_0x2c754e=>{const _0x2abf87=_0x5ec24b;if(_0x2c754e[_0x2abf87(0x63b)]()){const _0x239e65=_0x2c754e[_0x2abf87(0x5ad)]();currentProjectData=_0x239e65,renderStudentList(_0x239e65[_0x2abf87(0x4f6)]||[]);}});}function renderStudentList(_0x5909ba){const _0x4a2cd0=_0x1df5ec,_0xab1140=document[_0x4a2cd0(0x1d3)](_0x4a2cd0(0x5e3));_0x5909ba[_0x4a2cd0(0x4a6)]===0x0?(studentList[_0x4a2cd0(0x9e2)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0xab1140[_0x4a2cd0(0x838)][_0x4a2cd0(0x8a1)](_0x4a2cd0(0x46b))):(studentList[_0x4a2cd0(0x9e2)]=_0x5909ba['map'](_0x1700ff=>_0x4a2cd0(0x6f1)+_0x1700ff+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x1700ff+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4a2cd0(0x30f)](''),_0xab1140[_0x4a2cd0(0x838)][_0x4a2cd0(0x563)](_0x4a2cd0(0x46b)));}document[_0x1df5ec(0x1d3)](_0x1df5ec(0x9d6))[_0x1df5ec(0x2ca)](_0x1df5ec(0x3c6),async()=>{const _0x5750e3=_0x1df5ec;if(!currentProjectId)return;const _0x21676a=document[_0x5750e3(0x1d3)]('student-name-input'),_0x432a99=_0x21676a['value'][_0x5750e3(0x72a)]();if(!_0x432a99){showMessage(_0x5750e3(0x945));return;}const _0x2d80c5=_0x432a99['split']('\x0a')[_0x5750e3(0x4e5)](_0x3776af=>_0x3776af[_0x5750e3(0x72a)]())['filter'](_0x37b33f=>_0x37b33f);if(_0x2d80c5[_0x5750e3(0x4a6)]===0x0)return;try{const _0x175491=doc(db,_0x5750e3(0x3d2)+appId+_0x5750e3(0x8bc),currentProjectId),_0x2ab6f1=await getDoc(_0x175491);if(_0x2ab6f1[_0x5750e3(0x63b)]()){const _0x468ee9=_0x2ab6f1[_0x5750e3(0x5ad)]()[_0x5750e3(0x4f6)]||[],_0x282ed5=[...new Set([..._0x468ee9,..._0x2d80c5])];await updateDoc(_0x175491,{'students':_0x282ed5}),_0x21676a['value']='';}}catch(_0x52aece){console[_0x5750e3(0x2e8)](_0x5750e3(0x864),_0x52aece),showMessage(_0x5750e3(0x658));}});async function handleManualQuizPairing(_0x10a809){const _0x574c33=_0x1df5ec,_0x3c0f93=document['getElementById'](_0x574c33(0x404)),_0x7403f3=document[_0x574c33(0x1d3)](_0x574c33(0x652)),_0x52ecfa=_0x3c0f93[_0x574c33(0x870)]('h3'),_0x1c1e9e=document[_0x574c33(0x1d3)](_0x574c33(0x7c5)),_0x5f4c85=document[_0x574c33(0x1d3)]('cancel-move-quiz-btn');_0x52ecfa[_0x574c33(0x5b0)]=_0x574c33(0x677),_0x7403f3['innerHTML']=_0x574c33(0x42d),_0x1c1e9e[_0x574c33(0x5b0)]=_0x574c33(0x5bb),_0x3c0f93[_0x574c33(0x838)]['remove'](_0x574c33(0x46b));const _0x98b050=allQuizzes[_0x574c33(0x93a)](_0x429c02=>_0x429c02['id']!==_0x10a809);_0x98b050[_0x574c33(0x4a6)]===0x0?(_0x7403f3['innerHTML']='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x1c1e9e[_0x574c33(0x31d)]=!![]):(_0x7403f3[_0x574c33(0x9e2)]=_0x574c33(0x862)+_0x98b050['map'](_0x371eab=>_0x574c33(0x59a)+_0x371eab['id']+'\x22>'+_0x371eab[_0x574c33(0x37f)]+_0x574c33(0x80d))['join'](''),_0x1c1e9e[_0x574c33(0x31d)]=![]);const _0x19aeed=async()=>{const _0x3a02fc=_0x574c33,_0x487cde=_0x7403f3[_0x3a02fc(0x750)];if(!_0x487cde){showMessage(_0x3a02fc(0x7aa));return;}_0x1c1e9e[_0x3a02fc(0x31d)]=!![],_0x1c1e9e[_0x3a02fc(0x5b0)]=_0x3a02fc(0x69a);try{const _0x44beb0=doc(db,_0x3a02fc(0x3d2)+appId+_0x3a02fc(0x33d),_0x10a809),_0x3fbae4=doc(db,'artifacts/'+appId+_0x3a02fc(0x33d),_0x487cde),_0x1cd57d=writeBatch(db);_0x1cd57d['update'](_0x44beb0,{'pairedQuizId':_0x487cde}),_0x1cd57d[_0x3a02fc(0x207)](_0x3fbae4,{'pairedQuizId':_0x10a809}),await _0x1cd57d[_0x3a02fc(0x47c)](),showMessage(_0x3a02fc(0x613)),_0x3c0f93[_0x3a02fc(0x838)][_0x3a02fc(0x8a1)](_0x3a02fc(0x46b));}catch(_0x5b1e4d){console[_0x3a02fc(0x2e8)](_0x3a02fc(0x240),_0x5b1e4d),showMessage(_0x3a02fc(0x5a3));}finally{_0x52ecfa['textContent']=_0x3a02fc(0x497),_0x1c1e9e[_0x3a02fc(0x5b0)]=_0x3a02fc(0x25c),_0x1c1e9e[_0x3a02fc(0x31d)]=![],_0x1c1e9e[_0x3a02fc(0x853)](_0x3a02fc(0x3c6),_0x19aeed),_0x5f4c85[_0x3a02fc(0x853)]('click',_0x5bc741);}},_0x5bc741=()=>{const _0x3738d3=_0x574c33;_0x3c0f93[_0x3738d3(0x838)][_0x3738d3(0x8a1)](_0x3738d3(0x46b)),_0x52ecfa['textContent']=_0x3738d3(0x497),_0x1c1e9e[_0x3738d3(0x5b0)]=_0x3738d3(0x25c),_0x1c1e9e[_0x3738d3(0x853)](_0x3738d3(0x3c6),_0x19aeed),_0x5f4c85[_0x3738d3(0x853)](_0x3738d3(0x3c6),_0x5bc741);};_0x1c1e9e[_0x574c33(0x2ca)](_0x574c33(0x3c6),_0x19aeed),_0x5f4c85[_0x574c33(0x2ca)](_0x574c33(0x3c6),_0x5bc741);}function handleDeleteStudent(_0x3a3407){const _0x213cd6=_0x1df5ec;showConfirmation(_0x213cd6(0x3f1)+_0x3a3407+_0x213cd6(0x71a),async()=>{const _0x5ee24d=_0x213cd6;if(!currentProjectId||!currentProjectData)return;const _0xf160b5=currentProjectData['students'][_0x5ee24d(0x93a)](_0x3eb9c5=>_0x3eb9c5!==_0x3a3407);try{const _0x1ef7f3=doc(db,_0x5ee24d(0x3d2)+appId+_0x5ee24d(0x8bc),currentProjectId),_0x3c6504=doc(db,'artifacts/'+appId+_0x5ee24d(0x2d9)+currentProjectId+'/studentProfiles',_0x3a3407),_0x34ba9f=writeBatch(db);_0x34ba9f[_0x5ee24d(0x207)](_0x1ef7f3,{'students':_0xf160b5}),_0x34ba9f[_0x5ee24d(0x276)](_0x3c6504),await _0x34ba9f[_0x5ee24d(0x47c)]();}catch(_0x538057){console[_0x5ee24d(0x2e8)](_0x5ee24d(0x5ab),_0x538057),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x528e9e=_0x2d6c;if(!currentProjectId)return;try{const _0xef4bde=doc(db,'artifacts/'+appId+_0x528e9e(0x8bc),currentProjectId),_0xd5c8ba=collection(db,_0x528e9e(0x3d2)+appId+_0x528e9e(0x2d9)+currentProjectId+_0x528e9e(0x7b6)),_0x2c80f3=await getDocs(_0xd5c8ba),_0x19fefc=writeBatch(db);_0x19fefc['update'](_0xef4bde,{'students':[]}),_0x2c80f3[_0x528e9e(0x722)](_0x163ed0=>_0x19fefc['delete'](_0x163ed0['ref'])),await _0x19fefc['commit']();}catch(_0x2e8fa5){console[_0x528e9e(0x2e8)](_0x528e9e(0x937),_0x2e8fa5),showMessage(_0x528e9e(0x67a));}});}async function handleGenerateFromFileClick(){const _0x4a8694=_0x1df5ec;if(!selectedFile){showMessage(_0x4a8694(0x30b));return;}const _0x65bdf0=document[_0x4a8694(0x1d3)](_0x4a8694(0x960)),_0x2d272e=document[_0x4a8694(0x1d3)](_0x4a8694(0x5df)),_0x562177=document[_0x4a8694(0x1d3)](_0x4a8694(0x7f7)),_0x169517=document['getElementById'](_0x4a8694(0x9bf));_0x169517[_0x4a8694(0x31d)]=!![],document[_0x4a8694(0x1d3)]('quiz-generation-area')[_0x4a8694(0x838)][_0x4a8694(0x563)](_0x4a8694(0x46b)),_0x562177[_0x4a8694(0x9e2)]='',_0x65bdf0[_0x4a8694(0x838)]['remove'](_0x4a8694(0x46b)),_0x2d272e['textContent']=_0x4a8694(0x54e);const _0xc68f5=new FileReader();_0xc68f5[_0x4a8694(0x5ef)](selectedFile),_0xc68f5['onload']=async()=>{const _0x562efb=_0x4a8694;try{const _0x5a205f=_0xc68f5[_0x562efb(0x3cf)]['split'](',')[0x1],_0x40f5b0=selectedFile['type'];await generateQuizFromFile(_0x40f5b0,_0x5a205f);}catch(_0x284d87){console[_0x562efb(0x2e8)](_0x562efb(0x70b),_0x284d87),showMessage(_0x562efb(0x903)+_0x284d87[_0x562efb(0x298)]),_0x65bdf0['classList']['add'](_0x562efb(0x46b));}finally{}},_0xc68f5['onerror']=_0x251af3=>{const _0xef16a8=_0x4a8694;console[_0xef16a8(0x2e8)](_0xef16a8(0x82a),_0x251af3),showMessage(_0xef16a8(0x2fa)),_0x65bdf0[_0xef16a8(0x838)]['add'](_0xef16a8(0x46b)),_0x169517[_0xef16a8(0x31d)]=![];};}function autoFormatMath(_0x434bbe){const _0x5ef028=_0x1df5ec;if(typeof _0x434bbe!==_0x5ef028(0x2b1)||!_0x434bbe)return _0x434bbe;const _0x467328=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4744f1=_0x434bbe['replace'](_0x467328,_0x58685d=>{const _0x3727f2=_0x5ef028;return'$'+_0x58685d[_0x3727f2(0x72a)]()+'$';});return _0x4744f1;}function sanitizeQuizData(_0x485491){const _0x5c7a8d=_0x1df5ec;if(!_0x485491||!_0x485491[_0x5c7a8d(0x8f0)])return _0x485491;const _0x359676={'imes':_0x5c7a8d(0x331),'div':_0x5c7a8d(0x360)},_0x5b23ec=_0x18590c=>{const _0x2a8cf5=_0x5c7a8d;if(typeof _0x18590c!==_0x2a8cf5(0x2b1))return _0x18590c;let _0xe96787=_0x18590c;for(const [_0x5e66a4,_0x5d1984]of Object[_0x2a8cf5(0x373)](_0x359676)){const _0x3d1b31=new RegExp('\x5cb'+_0x5e66a4+'\x5cb','g');_0xe96787=_0xe96787[_0x2a8cf5(0x8a9)](_0x3d1b31,_0x5d1984);}return _0xe96787=_0xe96787[_0x2a8cf5(0x8a9)](/\\\//g,_0x2a8cf5(0x360)),_0xe96787=_0xe96787['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x2a8cf5(0x8a9)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x2a8cf5(0x331))[_0x2a8cf5(0x8a9)](/÷/g,_0x2a8cf5(0x360))[_0x2a8cf5(0x8a9)](/×/g,'\x5ctimes'),_0xe96787=_0xe96787['replace'](/(\d)(\\frac)/g,_0x2a8cf5(0x37a)),_0xe96787=autoFormatMath(_0xe96787),_0xe96787;};return _0x485491[_0x5c7a8d(0x37f)]&&(_0x485491[_0x5c7a8d(0x37f)]=_0x5b23ec(_0x485491[_0x5c7a8d(0x37f)])),_0x485491[_0x5c7a8d(0x8f0)]['forEach'](_0x10e94e=>{const _0x1c511e=_0x5c7a8d;_0x10e94e['questionText']=_0x5b23ec(_0x10e94e[_0x1c511e(0x4f1)]),_0x10e94e[_0x1c511e(0x611)]&&(_0x10e94e[_0x1c511e(0x611)]=_0x10e94e['options']['map'](_0x5b23ec)),_0x10e94e[_0x1c511e(0x6c4)]&&(_0x10e94e[_0x1c511e(0x6c4)]=_0x5b23ec(_0x10e94e['explanation'])),_0x10e94e[_0x1c511e(0x41d)]&&(_0x10e94e['stem']=_0x5b23ec(_0x10e94e[_0x1c511e(0x41d)])),_0x10e94e[_0x1c511e(0x4cd)]&&(_0x10e94e[_0x1c511e(0x4cd)]=_0x5b23ec(_0x10e94e['correctResponse'])),_0x10e94e[_0x1c511e(0x3fb)]&&(_0x10e94e[_0x1c511e(0x3fb)]=_0x10e94e[_0x1c511e(0x3fb)][_0x1c511e(0x4e5)](_0x5b23ec));}),_0x485491;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0xbac7fc=_0x1df5ec,_0xc6e9a=document[_0xbac7fc(0x1d3)](_0xbac7fc(0x9c6)),_0x47b425=document['getElementById'](_0xbac7fc(0x59b)),_0x163244=_0xc6e9a[_0xbac7fc(0x750)]['trim'](),_0x1b6884=_0x47b425['value'][_0xbac7fc(0x72a)]();if(!_0x163244){showMessage(_0xbac7fc(0x3fe));return;}const _0x4f99b3=document['getElementById']('loader'),_0xa5186c=document[_0xbac7fc(0x1d3)]('loader-text'),_0x3509ae=document['getElementById']('generated-quiz-container'),_0xb75312=document[_0xbac7fc(0x1d3)](_0xbac7fc(0x6b9));document[_0xbac7fc(0x1d3)](_0xbac7fc(0x980))['classList'][_0xbac7fc(0x563)](_0xbac7fc(0x46b)),_0x3509ae['innerHTML']='',_0x4f99b3[_0xbac7fc(0x838)][_0xbac7fc(0x563)]('hidden'),_0xa5186c[_0xbac7fc(0x5b0)]='กำลังดึงข้อมูลจากลิงก์...',_0xb75312[_0xbac7fc(0x31d)]=!![];try{const _0x3eb2c3=_0xbac7fc(0x3b5)+encodeURIComponent(_0x163244),_0x51fb69=await fetch(_0x3eb2c3);if(!_0x51fb69['ok'])throw new Error(_0xbac7fc(0x8f7)+_0x51fb69['status']+')');const _0x1f34fa=await _0x51fb69[_0xbac7fc(0x836)](),_0x33633a=extractTextFromHtml(_0x1f34fa);if(!_0x33633a||_0x33633a[_0xbac7fc(0x4a6)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x1b6884,_0x33633a);}catch(_0x1ce20b){console[_0xbac7fc(0x2e8)](_0xbac7fc(0x30d),_0x1ce20b),showMessage(_0xbac7fc(0x4c8)+_0x1ce20b['message']),_0x3509ae[_0xbac7fc(0x9e2)]=_0xbac7fc(0x67e);}finally{_0x4f99b3[_0xbac7fc(0x838)]['add'](_0xbac7fc(0x46b)),_0xb75312['disabled']=![];}}function extractTextFromHtml(_0x321307){const _0x39ca4b=_0x1df5ec,_0x437e98=new DOMParser()[_0x39ca4b(0x20a)](_0x321307,_0x39ca4b(0x791));return _0x437e98[_0x39ca4b(0x882)](_0x39ca4b(0x9fc))[_0x39ca4b(0x722)](_0x3c9d9d=>_0x3c9d9d['remove']()),_0x437e98[_0x39ca4b(0x314)][_0x39ca4b(0x5b0)]||'';}document[_0x1df5ec(0x1d3)](_0x1df5ec(0x908))[_0x1df5ec(0x2ca)](_0x1df5ec(0x3c6),()=>{const _0x3912e0=_0x1df5ec,_0x32ea82=document[_0x3912e0(0x1d3)](_0x3912e0(0x72e))['value'][_0x3912e0(0x72a)]();generateQuiz(_0x32ea82,null);}),document[_0x1df5ec(0x1d3)](_0x1df5ec(0x270))[_0x1df5ec(0x2ca)]('click',()=>{const _0x133cb6=_0x1df5ec,_0x93b036=document['getElementById']('text-content-input')[_0x133cb6(0x750)][_0x133cb6(0x72a)]();if(!_0x93b036){showMessage(_0x133cb6(0x1d5));return;}const _0x2da565=document['getElementById'](_0x133cb6(0x72e))[_0x133cb6(0x750)][_0x133cb6(0x72a)]();generateQuiz(_0x2da565,_0x93b036);});async function generateQuiz(_0x29ef88,_0x2df9f8,_0x31c26a=null){const _0xb646cf=_0x1df5ec,_0x2b777b=document[_0xb646cf(0x1d3)]('include-images-checkbox')[_0xb646cf(0x5fb)],_0x3427f3=document['getElementById'](_0xb646cf(0x720))[_0xb646cf(0x750)],_0x2514d3=document[_0xb646cf(0x1d3)](_0xb646cf(0x1be))[_0xb646cf(0x750)],_0x485186=document[_0xb646cf(0x1d3)](_0xb646cf(0x701))['value'],_0x2767aa=document[_0xb646cf(0x1d3)]('force-math-checkbox')[_0xb646cf(0x5fb)],_0x3b860d=_0x2767aa?'':_0xb646cf(0x28f),_0x4d46b6=document[_0xb646cf(0x1d3)](_0xb646cf(0x666)),_0x3dd0c9=_0x4d46b6['value'];let _0xa3c6cd='';_0x3dd0c9!==_0xb646cf(0x6f7)&&(_0xa3c6cd=_0xb646cf(0x6d8)+_0x3dd0c9+'\x22');const _0x24c6f3=document[_0xb646cf(0x1d3)]('question-complexity-select'),_0x3a3904=_0x24c6f3[_0xb646cf(0x750)];let _0x43428d='';_0x3a3904!==_0xb646cf(0x2ae)&&(_0x43428d=_0xb646cf(0x693)+_0x3a3904+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x49d96d=document['querySelectorAll'](_0xb646cf(0x1f4)),_0x124bb9=Array[_0xb646cf(0x201)](_0x49d96d)[_0xb646cf(0x4e5)](_0x1d4263=>_0x1d4263[_0xb646cf(0x750)]);let _0x37cd06='';_0x124bb9[_0xb646cf(0x4a6)]>0x0&&(_0x37cd06=_0xb646cf(0x5c1)+_0x124bb9['join'](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x50b62d='',_0x43b2bb='',_0x2f8474,_0x4e417f=_0xb646cf(0x5f4)+_0x29ef88+'\x22';if(!_0x29ef88&&_0x2df9f8)_0x4e417f='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x29ef88&&!_0x2df9f8&&(_0x4e417f='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x3bbc24={'type':_0xb646cf(0x1d9),'properties':{'questionText':{'type':_0xb646cf(0x951)},'options':{'type':_0xb646cf(0x989),'items':{'type':_0xb646cf(0x951)}},'correctAnswerIndex':{'type':_0xb646cf(0x625)},'explanation':{'type':_0xb646cf(0x951)},'imageCode':{'type':_0xb646cf(0x951)}},'required':['questionText',_0xb646cf(0x611),'correctAnswerIndex',_0xb646cf(0x6c4)]},_0x2f50cd={'type':_0xb646cf(0x1d9),'properties':{'questionText':{'type':_0xb646cf(0x951)},'idealAnswer':{'type':_0xb646cf(0x951)},'explanation':{'type':_0xb646cf(0x951)},'imageCode':{'type':'STRING'}},'required':[_0xb646cf(0x4f1),_0xb646cf(0x585),_0xb646cf(0x6c4)]},_0x4b920d={'type':_0xb646cf(0x1d9),'properties':{'questionText':{'type':_0xb646cf(0x951)},'questionType':{'type':_0xb646cf(0x951),'enum':[_0xb646cf(0x9ab),_0xb646cf(0x44f)]},'options':{'type':'ARRAY','items':{'type':_0xb646cf(0x951)}},'correctAnswerIndex':{'type':_0xb646cf(0x625)},'idealAnswer':{'type':_0xb646cf(0x951)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb646cf(0x951)}},'required':[_0xb646cf(0x4f1),_0xb646cf(0x24e),'explanation']},_0x595747={'type':_0xb646cf(0x1d9),'properties':{'questionText':{'type':_0xb646cf(0x951)},'correctAnswer':{'type':_0xb646cf(0x1de)},'explanation':{'type':_0xb646cf(0x951)},'imageCode':{'type':'STRING'}},'required':[_0xb646cf(0x4f1),_0xb646cf(0x232),_0xb646cf(0x6c4)]},_0x355142={'type':'OBJECT','properties':{'questionType':{'type':_0xb646cf(0x951),'enum':[_0xb646cf(0x2b3)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xb646cf(0x989),'items':{'type':'STRING'}},'explanation':{'type':_0xb646cf(0x951)},'imageCode':{'type':'STRING'}},'required':['questionType',_0xb646cf(0x41d),_0xb646cf(0x4cd),_0xb646cf(0x3fb),_0xb646cf(0x6c4)]};let _0x4eba80;if(_0x31c26a!==null){const _0x38d880=currentQuizData[_0xb646cf(0x8f0)][_0x31c26a][_0xb646cf(0x24e)],_0x368cb4=_0x2b777b?_0xb646cf(0x8de):'';_0x50b62d=_0xb646cf(0x2b4)+_0x4e417f+'\x20'+_0x37cd06+'\x20'+_0xa3c6cd+_0xb646cf(0x9a5)+_0x368cb4+'\x20'+simpleMathPrompt;if(_0x38d880===_0xb646cf(0x9ab))_0x2f8474=_0x3bbc24;else{if(_0x38d880==='matching_item')_0x2f8474={'type':_0xb646cf(0x1d9),'properties':{'questionType':{'type':_0xb646cf(0x951),'enum':[_0xb646cf(0x2b3)]},'stem':{'type':_0xb646cf(0x951)},'correctResponse':{'type':_0xb646cf(0x951)},'explanation':{'type':_0xb646cf(0x951)},'imageCode':{'type':_0xb646cf(0x951)}},'required':['questionType',_0xb646cf(0x41d),_0xb646cf(0x4cd),'explanation']};else _0x2f8474=_0x2f50cd;}_0x4eba80=_0x2f8474;}else{const _0x329c02=_0x2b777b?_0xb646cf(0x465):'',_0x1e49cf=_0xb646cf(0x3e0);switch(_0x3427f3){case'multiple_choice':_0x50b62d='สร้างแบบทดสอบปรนัย'+_0x3b860d+'\x20'+_0x2514d3+_0xb646cf(0x558)+_0x4e417f+'\x20'+_0x37cd06+'\x20'+_0xa3c6cd+'\x20'+_0x43428d+_0xb646cf(0x74d)+_0x485186+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x329c02+'\x20'+simpleMathPrompt,_0x2f8474=_0x3bbc24;break;case _0xb646cf(0x20f):_0x50b62d='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3b860d+'\x20'+_0x2514d3+_0xb646cf(0x558)+_0x4e417f+'\x20'+_0x37cd06+'\x20'+_0xa3c6cd+'\x20'+_0x43428d+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x485186+_0xb646cf(0x40e)+_0x329c02+'\x20'+simpleMathPrompt,_0x2f8474=_0x3bbc24;break;case _0xb646cf(0x620):_0x50b62d=_0xb646cf(0x7dc)+_0x3b860d+'\x20'+_0x2514d3+_0xb646cf(0x558)+_0x4e417f+'\x20'+_0x37cd06+'\x20'+_0xa3c6cd+'\x20'+_0x43428d+_0xb646cf(0x5ca)+_0x329c02+'\x20'+simpleMathPrompt,_0x2f8474=_0x2f50cd;break;case _0xb646cf(0x2ae):_0x50b62d='สร้างแบบทดสอบ'+_0x3b860d+'\x20'+_0x2514d3+_0xb646cf(0x558)+_0x4e417f+'\x20'+_0x37cd06+'\x20'+_0xa3c6cd+'\x20'+_0x43428d+_0xb646cf(0x976)+_0x485186+'\x20ตัวเลือก.\x20'+_0x329c02+'\x20'+simpleMathPrompt+'.',_0x2f8474=_0x4b920d;break;case'true_false':_0x50b62d='สร้างคำถามแบบใช่/ไม่ใช่'+_0x3b860d+'\x20'+_0x2514d3+_0xb646cf(0x558)+_0x4e417f+'\x20'+_0x37cd06+'\x20'+_0xa3c6cd+'\x20'+_0x43428d+_0xb646cf(0x7ff)+_0x329c02+'\x20'+simpleMathPrompt,_0x2f8474=_0x595747;break;case'matching':_0x50b62d='สร้างชุดคำถามจับคู่'+_0x3b860d+'\x20'+_0x2514d3+_0xb646cf(0x765)+_0x4e417f+'\x20'+_0x37cd06+'\x20'+_0xa3c6cd+'\x20'+_0x43428d+_0xb646cf(0x66c)+_0x329c02+'\x20'+simpleMathPrompt,_0x2f8474=_0x355142;break;}_0x4eba80={'type':'OBJECT','properties':{'topic':{'type':_0xb646cf(0x951)},'questions':{'type':_0xb646cf(0x989),'items':_0x2f8474}},'required':[_0xb646cf(0x37f),'questions']};}return _0x2df9f8?(_0x50b62d=_0xb646cf(0x2e6)+_0x2df9f8+_0xb646cf(0x74c)+_0x50b62d,_0x43b2bb=_0xb646cf(0x9c1)):_0x43b2bb='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x50b62d,_0x43b2bb,_0x4eba80,_0x31c26a);}async function generateQuizFromFile(_0x2da2aa,_0x1f34c0){const _0x48d4a4=_0x1df5ec,_0x537984=document[_0x48d4a4(0x1d3)](_0x48d4a4(0x946))[_0x48d4a4(0x750)]['trim'](),_0x1e994f=document['getElementById'](_0x48d4a4(0x720))[_0x48d4a4(0x750)],_0x58bec1=document['getElementById']('num-questions')[_0x48d4a4(0x750)],_0x53773b=document[_0x48d4a4(0x1d3)]('num-choices')[_0x48d4a4(0x750)],_0x82093b=document['getElementById'](_0x48d4a4(0x7b4))[_0x48d4a4(0x5fb)],_0x17e5ef=document['getElementById'](_0x48d4a4(0x91f))['checked'],_0x2ab68b=_0x17e5ef?'':'คณิตศาสตร์';let _0x2bcfe5='',_0xf29edd,_0x99ff3a='เกี่ยวกับหัวข้อ\x20\x22'+_0x537984+'\x22';!_0x537984&&(_0x99ff3a=_0x48d4a4(0x605));const _0x442d47=_0x82093b?_0x48d4a4(0x465):'';switch(_0x1e994f){case _0x48d4a4(0x9ab):_0x2bcfe5='สร้างแบบทดสอบปรนัย'+_0x2ab68b+'\x20'+_0x58bec1+_0x48d4a4(0x558)+_0x99ff3a+'.\x20แต่ละข้อมี\x20'+_0x53773b+_0x48d4a4(0x91d)+_0x442d47+'\x20'+simpleMathPrompt,_0xf29edd={'type':_0x48d4a4(0x1d9),'properties':{'questionText':{'type':_0x48d4a4(0x951)},'options':{'type':'ARRAY','items':{'type':_0x48d4a4(0x951)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x48d4a4(0x951)},'imageCode':{'type':_0x48d4a4(0x951)}},'required':[_0x48d4a4(0x4f1),_0x48d4a4(0x611),_0x48d4a4(0x261),_0x48d4a4(0x6c4)]};break;case'fill_in_with_choices':_0x2bcfe5=_0x48d4a4(0x7dc)+_0x2ab68b+'\x20'+_0x58bec1+'\x20ข้อ\x20'+_0x99ff3a+_0x48d4a4(0x472)+_0x53773b+_0x48d4a4(0x40e)+_0x442d47+'\x20'+simpleMathPrompt,_0xf29edd={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x48d4a4(0x989),'items':{'type':_0x48d4a4(0x951)}},'correctAnswerIndex':{'type':_0x48d4a4(0x625)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x48d4a4(0x951)}},'required':[_0x48d4a4(0x4f1),_0x48d4a4(0x611),_0x48d4a4(0x261),_0x48d4a4(0x6c4)]};break;case'fill_in_no_choices':_0x2bcfe5=_0x48d4a4(0x7dc)+_0x2ab68b+'\x20'+_0x58bec1+_0x48d4a4(0x558)+_0x99ff3a+_0x48d4a4(0x5ca)+_0x442d47+'\x20'+simpleMathPrompt,_0xf29edd={'type':_0x48d4a4(0x1d9),'properties':{'questionText':{'type':_0x48d4a4(0x951)},'idealAnswer':{'type':_0x48d4a4(0x951)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x48d4a4(0x4f1),_0x48d4a4(0x585),_0x48d4a4(0x6c4)]};break;case _0x48d4a4(0x2ae):_0x2bcfe5=_0x48d4a4(0x428)+_0x2ab68b+'\x20'+_0x58bec1+_0x48d4a4(0x558)+_0x99ff3a+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x53773b+_0x48d4a4(0x609)+_0x442d47+'\x20'+simpleMathPrompt+_0x48d4a4(0x1b3),_0xf29edd={'type':_0x48d4a4(0x1d9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x48d4a4(0x951),'enum':[_0x48d4a4(0x9ab),'short_answer']},'options':{'type':_0x48d4a4(0x989),'items':{'type':_0x48d4a4(0x951)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x48d4a4(0x951)},'imageCode':{'type':'STRING'}},'required':[_0x48d4a4(0x4f1),_0x48d4a4(0x24e),_0x48d4a4(0x6c4)]};break;case _0x48d4a4(0x3fc):_0x2bcfe5=_0x48d4a4(0x456)+_0x2ab68b+'\x20'+_0x58bec1+_0x48d4a4(0x558)+_0x99ff3a+_0x48d4a4(0x8df)+_0x442d47+'\x20'+simpleMathPrompt,_0xf29edd={'type':_0x48d4a4(0x1d9),'properties':{'questionText':{'type':_0x48d4a4(0x951)},'correctAnswer':{'type':_0x48d4a4(0x1de)},'explanation':{'type':_0x48d4a4(0x951)},'imageCode':{'type':_0x48d4a4(0x951)}},'required':[_0x48d4a4(0x4f1),_0x48d4a4(0x232),_0x48d4a4(0x6c4)]};break;case _0x48d4a4(0x630):_0x2bcfe5=_0x48d4a4(0x660)+_0x2ab68b+'\x20'+_0x58bec1+_0x48d4a4(0x765)+_0x99ff3a+_0x48d4a4(0x7ad)+_0x58bec1+_0x48d4a4(0x999)+_0x442d47+'\x20'+simpleMathPrompt,_0xf29edd={'type':'OBJECT','properties':{'questionType':{'type':_0x48d4a4(0x951),'enum':['matching_item']},'stem':{'type':_0x48d4a4(0x951)},'correctResponse':{'type':_0x48d4a4(0x951)},'allResponses':{'type':_0x48d4a4(0x989),'items':{'type':'STRING'}},'explanation':{'type':_0x48d4a4(0x951)},'imageCode':{'type':_0x48d4a4(0x951)}},'required':[_0x48d4a4(0x24e),_0x48d4a4(0x41d),_0x48d4a4(0x4cd),_0x48d4a4(0x3fb),_0x48d4a4(0x6c4)]};break;}const _0x4df895={'type':_0x48d4a4(0x1d9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x48d4a4(0x989),'items':_0xf29edd}},'required':[_0x48d4a4(0x37f),_0x48d4a4(0x8f0)]},_0x4c01f1='จากไฟล์ที่แนบมานี้,\x20'+_0x2bcfe5,_0x467141={'contents':[{'parts':[{'text':_0x4c01f1},{'inlineData':{'mimeType':_0x2da2aa,'data':_0x1f34c0}}]}],'generationConfig':{'responseMimeType':_0x48d4a4(0x494),'responseSchema':_0x4df895}};return handleApiCall(_0x467141[_0x48d4a4(0x424)][0x0][_0x48d4a4(0x39c)],_0x48d4a4(0x24d),_0x4df895);}async function handleApiCall(_0x4f40f7,_0x1de3dd,_0x51e8b8,_0x32b1fc=null){const _0xbad09f=_0x1df5ec,_0x4efa27=document[_0xbad09f(0x1d3)](_0xbad09f(0x980)),_0x580f88=document[_0xbad09f(0x1d3)](_0xbad09f(0x960)),_0x3a72d2=document[_0xbad09f(0x1d3)](_0xbad09f(0x5df)),_0x1cc959=document[_0xbad09f(0x1d3)](_0xbad09f(0x7f7));_0x4efa27['classList'][_0xbad09f(0x563)](_0xbad09f(0x46b));_0x32b1fc===null&&(_0x1cc959[_0xbad09f(0x9e2)]='');_0x580f88[_0xbad09f(0x838)][_0xbad09f(0x563)](_0xbad09f(0x46b)),_0x3a72d2[_0xbad09f(0x5b0)]=_0x1de3dd,document[_0xbad09f(0x1d3)](_0xbad09f(0x908))[_0xbad09f(0x31d)]=!![],document[_0xbad09f(0x1d3)]('generate-from-text-btn')[_0xbad09f(0x31d)]=!![],document['getElementById'](_0xbad09f(0x6b9))['disabled']=!![];try{const _0x13c1b5={'responseMimeType':_0xbad09f(0x494),'responseSchema':_0x51e8b8},_0x524ee9=Array[_0xbad09f(0x8fe)](_0x4f40f7)?_0x4f40f7:[{'text':_0x4f40f7}],_0x27e110={'contents':[{'role':'user','parts':_0x524ee9}],'generationConfig':_0x13c1b5},_0x4f2bc2=_0xbad09f(0x7d8),_0x494554=_0xbad09f(0x429)+_0x4f2bc2,_0x81d30e=await fetch(_0x494554,{'method':'POST','headers':{'Content-Type':_0xbad09f(0x494)},'body':JSON[_0xbad09f(0x5c7)](_0x27e110)});if(!_0x81d30e['ok'])throw new Error(_0xbad09f(0x2a9)+_0x81d30e[_0xbad09f(0x71b)]);const _0x3cc0fa=await _0x81d30e[_0xbad09f(0x6ab)]();if(_0x3cc0fa['candidates']?.[0x0]?.[_0xbad09f(0x969)]?.[_0xbad09f(0x39c)]?.[0x0]){let _0x1d8491=_0x3cc0fa[_0xbad09f(0x292)][0x0][_0xbad09f(0x969)][_0xbad09f(0x39c)][0x0][_0xbad09f(0x836)],_0x4b3627;try{if(_0x1d8491[_0xbad09f(0x6fe)](_0xbad09f(0x756)))_0x1d8491=_0x1d8491['substring'](0x7,_0x1d8491['length']-0x3)[_0xbad09f(0x72a)]();else _0x1d8491[_0xbad09f(0x6fe)](_0xbad09f(0x31f))&&(_0x1d8491=_0x1d8491[_0xbad09f(0x1f2)](0x3,_0x1d8491[_0xbad09f(0x4a6)]-0x3)[_0xbad09f(0x72a)]());_0x4b3627=JSON['parse'](_0x1d8491);}catch(_0x4480ad){console[_0xbad09f(0x2e8)](_0xbad09f(0x9d3),_0x4480ad,_0x1d8491);throw new Error(_0xbad09f(0x3ee));}if(_0x32b1fc!==null){if(_0x4b3627[_0xbad09f(0x24e)]===_0xbad09f(0x2b3)){const _0x17e4c2=currentQuizData[_0xbad09f(0x8f0)][_0xbad09f(0x4e5)](_0x1a1212=>_0x1a1212[_0xbad09f(0x4cd)]);_0x4b3627[_0xbad09f(0x3fb)]=_0x17e4c2;const _0x3eacc6=currentQuizData[_0xbad09f(0x8f0)][_0x32b1fc][_0xbad09f(0x4cd)],_0xdde3c1=_0x17e4c2[_0xbad09f(0x3ed)](_0x3eacc6);_0xdde3c1>-0x1&&(_0x17e4c2[_0xdde3c1]=_0x4b3627[_0xbad09f(0x4cd)]),currentQuizData[_0xbad09f(0x8f0)][_0xbad09f(0x722)](_0x1de33d=>{const _0x250f2b=_0xbad09f;if(_0x1de33d[_0x250f2b(0x24e)]===_0x250f2b(0x2b3))_0x1de33d['allResponses']=_0x17e4c2;});}currentQuizData['questions'][_0x32b1fc]=_0x4b3627,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x4b3627;const _0x5d6f6a=document[_0xbad09f(0x1d3)](_0xbad09f(0x720))[_0xbad09f(0x750)];currentQuizData[_0xbad09f(0x3fd)]=_0x5d6f6a,currentQuizData[_0xbad09f(0x8f0)]&&currentQuizData[_0xbad09f(0x8f0)][_0xbad09f(0x722)](_0x1d5d04=>{const _0x2a940e=_0xbad09f;if(!_0x1d5d04[_0x2a940e(0x24e)]){if(_0x5d6f6a===_0x2a940e(0x20f))_0x1d5d04[_0x2a940e(0x24e)]='multiple_choice';else _0x5d6f6a==='fill_in_no_choices'?_0x1d5d04['questionType']=_0x2a940e(0x44f):_0x1d5d04['questionType']=_0x5d6f6a;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0xbad09f(0x33a),JSON['stringify'](_0x3cc0fa));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x37a07d){console[_0xbad09f(0x2e8)]('Error\x20generating\x20quiz:',_0x37a07d),showMessage(_0xbad09f(0x413)),_0x32b1fc===null&&(_0x1cc959[_0xbad09f(0x9e2)]=_0xbad09f(0x8d1));}finally{_0x580f88[_0xbad09f(0x838)][_0xbad09f(0x8a1)]('hidden'),document[_0xbad09f(0x1d3)](_0xbad09f(0x908))['disabled']=![],document['getElementById'](_0xbad09f(0x270))[_0xbad09f(0x31d)]=![],document[_0xbad09f(0x1d3)](_0xbad09f(0x6b9))[_0xbad09f(0x31d)]=![];const _0xdf4586=document[_0xbad09f(0x1d3)](_0xbad09f(0x9bf));_0xdf4586&&(_0xdf4586['disabled']=![]);}}function exitFullscreen(){const _0x566efe=_0x1df5ec;if(document['exitFullscreen'])document['exitFullscreen']()[_0x566efe(0x488)](_0x2534c4=>console['error'](_0x2534c4));else{if(document['webkitExitFullscreen'])document[_0x566efe(0x63c)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x116e4e=_0x1df5ec,_0xa2f20c=document[_0x116e4e(0x682)];if(_0xa2f20c[_0x116e4e(0x690)])_0xa2f20c[_0x116e4e(0x690)]()['catch'](_0x1efe6c=>{const _0x2fe687=_0x116e4e;console[_0x2fe687(0x2e8)](_0x2fe687(0x4d7)+_0x1efe6c[_0x2fe687(0x298)]+'\x20('+_0x1efe6c[_0x2fe687(0x5a4)]+')');});else{if(_0xa2f20c['webkitRequestFullscreen'])_0xa2f20c['webkitRequestFullscreen']();else _0xa2f20c['msRequestFullscreen']&&_0xa2f20c[_0x116e4e(0x738)]();}}function handleCheatingEvent(){const _0x5ef46f=_0x1df5ec;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x5ef46f(0x72f),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x5ef46f(0x991)+maxCheatAttempts+_0x5ef46f(0x6b1)),document['getElementById'](_0x5ef46f(0x19b))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5ef46f(0x853)](_0x5ef46f(0x7d3),handleVisibilityChange),document[_0x5ef46f(0x853)](_0x5ef46f(0x9ea),handleFullscreenChange)):showMessage(_0x5ef46f(0x272)+cheatAttempts+'/'+maxCheatAttempts+_0x5ef46f(0x3c9),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x1f9097=_0x1df5ec;if(currentMode===_0x1f9097(0x3d3)||!isQuizActive)return;if(document[_0x1f9097(0x687)]==='hidden')handleCheatingEvent();else document[_0x1f9097(0x687)]===_0x1f9097(0x4e0)&&(console[_0x1f9097(0x31a)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x104b20=_0x1df5ec;if(currentMode===_0x104b20(0x3d3)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x333502){const _0x2dd817=_0x1df5ec,_0x30d37e=document[_0x2dd817(0x1d3)](_0x2dd817(0x7f7));let _0x1c1ef5=_0x2dd817(0x8b7)+_0x333502[_0x2dd817(0x37f)]+_0x2dd817(0x884);_0x333502[_0x2dd817(0x8f0)][_0x2dd817(0x722)]((_0x5c272b,_0x5be2b7)=>{const _0x570b5f=_0x2dd817;!_0x5c272b['id']&&(_0x5c272b['id']='q_'+Date[_0x570b5f(0x47a)]()+'_'+_0x5be2b7);const _0xd9ce39=_0x5c272b[_0x570b5f(0x24e)]||_0x333502[_0x570b5f(0x3fd)];_0x1c1ef5+=_0x570b5f(0x86a)+_0x5be2b7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x5be2b7+_0x570b5f(0xa0b)+_0x5be2b7+_0x570b5f(0x4df)+_0x5be2b7+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0xd9ce39){case'matching_item':_0x1c1ef5+=_0x570b5f(0x8b9)+_0x5be2b7+'\x22>'+(_0x5be2b7+0x1)+'.\x20'+_0x5c272b['stem']+_0x570b5f(0x4a3);_0x5c272b[_0x570b5f(0x317)]&&(_0x1c1ef5+=_0x570b5f(0x310)+_0x5be2b7+_0x570b5f(0x743)+_0x5c272b[_0x570b5f(0x317)]+_0x570b5f(0x587));_0x1c1ef5+=_0x570b5f(0x4b8)+_0x5be2b7+'\x22>'+_0x5c272b['correctResponse']+_0x570b5f(0x713),_0x1c1ef5+=_0x570b5f(0x964)+_0x5be2b7+'\x22>'+_0x5c272b[_0x570b5f(0x6c4)]+'</span></div>';break;case _0x570b5f(0x44f):_0x1c1ef5+=_0x570b5f(0x8b9)+_0x5be2b7+'\x22>'+(_0x5be2b7+0x1)+'.\x20'+_0x5c272b[_0x570b5f(0x4f1)]+_0x570b5f(0x4a3);_0x5c272b[_0x570b5f(0x317)]&&(_0x1c1ef5+='<div\x20id=\x22q-image-container-'+_0x5be2b7+_0x570b5f(0x743)+_0x5c272b[_0x570b5f(0x317)]+_0x570b5f(0x587));_0x1c1ef5+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x5be2b7+'\x22>'+_0x5c272b[_0x570b5f(0x585)]+_0x570b5f(0x713),_0x1c1ef5+=_0x570b5f(0x964)+_0x5be2b7+'\x22>'+_0x5c272b[_0x570b5f(0x6c4)]+_0x570b5f(0x713);break;case _0x570b5f(0x3fc):_0x1c1ef5+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x5be2b7+'\x22>'+(_0x5be2b7+0x1)+'.\x20'+_0x5c272b[_0x570b5f(0x4f1)]+_0x570b5f(0x4a3);_0x5c272b[_0x570b5f(0x317)]&&(_0x1c1ef5+='<div\x20id=\x22q-image-container-'+_0x5be2b7+_0x570b5f(0x743)+_0x5c272b[_0x570b5f(0x317)]+'</div>');_0x1c1ef5+=_0x570b5f(0x304)+(_0x5c272b[_0x570b5f(0x232)]===!![]?_0x570b5f(0x7c4):'')+_0x570b5f(0x58b)+(_0x5c272b[_0x570b5f(0x232)]===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x1c1ef5+=_0x570b5f(0x964)+_0x5be2b7+'\x22>'+_0x5c272b[_0x570b5f(0x6c4)]+'</span></div>';break;case _0x570b5f(0x371):case _0x570b5f(0x9ab):default:_0x1c1ef5+=_0x570b5f(0x8b9)+_0x5be2b7+'\x22>'+(_0x5be2b7+0x1)+'.\x20'+_0x5c272b[_0x570b5f(0x4f1)]+_0x570b5f(0x4a3);_0x5c272b[_0x570b5f(0x317)]&&(_0x1c1ef5+='<div\x20id=\x22q-image-container-'+_0x5be2b7+_0x570b5f(0x743)+_0x5c272b[_0x570b5f(0x317)]+_0x570b5f(0x587));_0x1c1ef5+=_0x570b5f(0x7cd)+_0x5be2b7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c272b[_0x570b5f(0x611)][_0x570b5f(0x4e5)]((_0x52afff,_0x3e678a)=>'<li\x20class=\x22'+(_0x3e678a===_0x5c272b[_0x570b5f(0x261)]?_0x570b5f(0x7c4):'')+'\x22>'+_0x52afff+_0x570b5f(0x612))['join']('')+_0x570b5f(0x8a4),_0x1c1ef5+=_0x570b5f(0x964)+_0x5be2b7+'\x22>'+_0x5c272b[_0x570b5f(0x6c4)]+_0x570b5f(0x713);break;}_0x1c1ef5+=_0x570b5f(0x587);}),_0x1c1ef5+=_0x2dd817(0x802),_0x30d37e[_0x2dd817(0x9e2)]=_0x1c1ef5,document[_0x2dd817(0x882)](_0x2dd817(0x235))[_0x2dd817(0x722)](_0x3bfc4b=>_0x3bfc4b[_0x2dd817(0x2ca)](_0x2dd817(0x3c6),handleEditQuestion)),document[_0x2dd817(0x882)](_0x2dd817(0x686))[_0x2dd817(0x722)](_0x18be14=>_0x18be14[_0x2dd817(0x2ca)](_0x2dd817(0x3c6),handleRegenerateQuestion)),document['querySelectorAll'](_0x2dd817(0x84e))['forEach'](_0xc49f2a=>_0xc49f2a[_0x2dd817(0x2ca)]('click',handleSaveToBank)),document[_0x2dd817(0x1d3)](_0x2dd817(0x41f))[_0x2dd817(0x2ca)]('click',exportQuizAsWorksheetPDF),document[_0x2dd817(0x1d3)]('save-quiz-btn')[_0x2dd817(0x2ca)](_0x2dd817(0x3c6),saveQuiz),document[_0x2dd817(0x1d3)](_0x2dd817(0x1df))[_0x2dd817(0x2ca)](_0x2dd817(0x3c6),handleVerifyAnswers);if(window[_0x2dd817(0x327)])window['MathJax'][_0x2dd817(0x9a3)]([_0x30d37e]);}function handleRegenerateQuestion(_0x531abe){const _0x475f53=_0x1df5ec,_0x1086fc=_0x531abe[_0x475f53(0x1e6)][_0x475f53(0x984)]['index'],_0xb7e9cd=currentQuizData[_0x475f53(0x37f)];showMessage(_0x475f53(0x561)+(parseInt(_0x1086fc)+0x1)+_0x475f53(0x4f4)),generateQuiz(_0xb7e9cd,null,parseInt(_0x1086fc));}function getPointerPosition(_0x1df737,_0x8e1496){const _0x229a98=_0x1df5ec,_0x5964e7=_0x1df737[_0x229a98(0x5ce)]();let _0x15d6c2,_0x57004f;return _0x8e1496[_0x229a98(0x2c0)]&&_0x8e1496['touches'][_0x229a98(0x4a6)]>0x0?(_0x15d6c2=_0x8e1496[_0x229a98(0x2c0)][0x0][_0x229a98(0x834)],_0x57004f=_0x8e1496[_0x229a98(0x2c0)][0x0][_0x229a98(0x7c1)]):(_0x15d6c2=_0x8e1496[_0x229a98(0x834)],_0x57004f=_0x8e1496[_0x229a98(0x7c1)]),{'x':(_0x15d6c2-_0x5964e7['e'])/_0x5964e7['a'],'y':(_0x57004f-_0x5964e7['f'])/_0x5964e7['d']};}function startDrag(_0x5c696a){const _0x446db7=_0x1df5ec;_0x5c696a[_0x446db7(0x4dd)]==='touchstart'&&_0x5c696a['preventDefault']();const _0x50fdca=_0x5c696a[_0x446db7(0x9ff)][_0x446db7(0x7da)]('.draggable-text');if(_0x50fdca){draggedSvgElement=_0x50fdca;const _0x2de852=draggedSvgElement[_0x446db7(0x527)],_0x5bb531=getPointerPosition(_0x2de852,_0x5c696a);svgOffset['x']=_0x5bb531['x']-parseFloat(draggedSvgElement[_0x446db7(0x6d4)](null,'x')),svgOffset['y']=_0x5bb531['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x448ee4,_0x182104){const _0x151505=_0x1df5ec,_0x3ad06f={};if(_0x182104[_0x151505(0x4a6)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x7188a0=[..._0x182104][_0x151505(0x1f6)]((_0x1c436f,_0x3e0b1c)=>{const _0x255b6b=_0x151505,_0x21dcf6=_0x3e0b1c[_0x255b6b(0x22d)]-_0x1c436f[_0x255b6b(0x22d)];if(_0x21dcf6!==0x0)return _0x21dcf6;const _0x3d0427=_0x1c436f[_0x255b6b(0x2b5)]?.[_0x255b6b(0x4a6)]||0x1,_0xbcac81=_0x3e0b1c[_0x255b6b(0x2b5)]?.[_0x255b6b(0x4a6)]||0x1,_0x1d8757=_0x3d0427-_0xbcac81;if(_0x1d8757!==0x0)return _0x1d8757;const _0x1c2768=new Date(_0x1c436f['latestSubmittedAt']),_0x1b8a0f=new Date(_0x3e0b1c[_0x255b6b(0x92d)]),_0x5f361e=_0x1c2768-_0x1b8a0f;if(_0x5f361e!==0x0)return _0x5f361e;return _0x1c436f[_0x255b6b(0x414)]['localeCompare'](_0x3e0b1c[_0x255b6b(0x414)],'th');}),_0x53bb2e=_0x7188a0[_0x151505(0x4a6)],_0x378a28=Math[_0x151505(0x1fd)](0x1,Math['floor'](_0x53bb2e*0.33));if(_0x378a28===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x583e98=_0x7188a0['slice'](0x0,_0x378a28),_0x160858=_0x7188a0[_0x151505(0x199)](-_0x378a28),_0x4dc97c=_0x583e98['map'](_0xded4f4=>_0xded4f4[_0x151505(0x414)]),_0x3c64d6=_0x160858[_0x151505(0x4e5)](_0x49e6b3=>_0x49e6b3[_0x151505(0x414)]);return _0x448ee4['questions'][_0x151505(0x722)]((_0x7cabf2,_0x13f377)=>{const _0x29159d=_0x151505,_0x54e159=_0x7cabf2[_0x29159d(0x41d)]||_0x7cabf2[_0x29159d(0x4f1)];let _0x13c6bf=0x0,_0x14463c=0x0,_0x1a03e6=0x0;const _0x30bf43=[],_0x50b032=[];_0x583e98[_0x29159d(0x722)](_0x394eda=>{const _0x1a87e5=_0x29159d,_0x5a4464=_0x394eda[_0x1a87e5(0x2b5)][_0x394eda['attempts'][_0x1a87e5(0x4a6)]-0x1],_0x295946=_0x5a4464[_0x1a87e5(0x584)][_0x1a87e5(0x500)](_0x7cf674=>_0x7cf674['originalQuestionText']===_0x54e159);_0x30bf43[_0x1a87e5(0x3f2)]({'name':_0x394eda[_0x1a87e5(0x414)],'isCorrect':_0x295946?_0x295946['isCorrect']:![]}),_0x295946&&_0x295946['isCorrect']&&_0x14463c++;}),_0x160858[_0x29159d(0x722)](_0x3cfe6f=>{const _0x41e19c=_0x29159d,_0x4c4871=_0x3cfe6f[_0x41e19c(0x2b5)][_0x3cfe6f[_0x41e19c(0x2b5)][_0x41e19c(0x4a6)]-0x1],_0x563f59=_0x4c4871[_0x41e19c(0x584)]['find'](_0x339b03=>_0x339b03['originalQuestionText']===_0x54e159);_0x50b032[_0x41e19c(0x3f2)]({'name':_0x3cfe6f[_0x41e19c(0x414)],'isCorrect':_0x563f59?_0x563f59[_0x41e19c(0x448)]:![]}),_0x563f59&&_0x563f59['isCorrect']&&_0x1a03e6++;}),_0x182104[_0x29159d(0x722)](_0x3efa51=>{const _0x2b6197=_0x29159d,_0x18273b=_0x3efa51['attempts'][_0x3efa51[_0x2b6197(0x2b5)][_0x2b6197(0x4a6)]-0x1],_0x5f5789=_0x18273b[_0x2b6197(0x584)]['find'](_0x2a894b=>_0x2a894b['originalQuestionText']===_0x54e159);_0x5f5789&&_0x5f5789[_0x2b6197(0x448)]&&_0x13c6bf++;});const _0x238a8f=_0x53bb2e>0x0?_0x13c6bf/_0x53bb2e:0x0,_0x5b81b8=_0x378a28>0x0?_0x14463c/_0x378a28-_0x1a03e6/_0x378a28:0x0;_0x3ad06f[_0x13f377]={'p':_0x238a8f,'r':_0x5b81b8,'upperGroupResponders':_0x30bf43,'lowerGroupResponders':_0x50b032};}),{'perQuestionStats':_0x3ad06f,'overallGroups':{'upperGroupNames':_0x4dc97c,'lowerGroupNames':_0x3c64d6}};}function drag(_0x31ce68){const _0x248922=_0x1df5ec;if(draggedSvgElement){_0x31ce68[_0x248922(0x662)]();const _0xc194c3=draggedSvgElement[_0x248922(0x527)],_0x4a5631=getPointerPosition(_0xc194c3,_0x31ce68),_0x4e2d65=_0xc194c3['viewBox']['baseVal'];let _0x1c058e=_0x4a5631['x']-svgOffset['x'],_0x1c8854=_0x4a5631['y']-svgOffset['y'];const _0x344731=draggedSvgElement[_0x248922(0x85e)]();_0x1c058e=Math[_0x248922(0x1fd)](_0x4e2d65['x'],Math[_0x248922(0x79b)](_0x1c058e,_0x4e2d65['x']+_0x4e2d65[_0x248922(0x560)]-_0x344731[_0x248922(0x560)])),_0x1c8854=Math[_0x248922(0x1fd)](_0x4e2d65['y'],Math[_0x248922(0x79b)](_0x1c8854,_0x4e2d65['y']+_0x4e2d65['height']-_0x344731[_0x248922(0x6f5)])),draggedSvgElement['setAttributeNS'](null,'x',_0x1c058e),draggedSvgElement[_0x248922(0x741)](null,'y',_0x1c8854);}}function endDrag(_0x3482ef){draggedSvgElement=null;}function handleSvgEditClick(_0x550855){const _0xe783e6=_0x1df5ec;if(_0x550855[_0xe783e6(0x9ff)][_0xe783e6(0x838)]['contains'](_0xe783e6(0x471))){const _0x235507=_0x550855[_0xe783e6(0x9ff)][_0xe783e6(0x984)][_0xe783e6(0x2ec)],_0x444719=_0x550855[_0xe783e6(0x1e6)],_0x39c8e7=_0x444719[_0xe783e6(0x870)]('#'+_0x235507);_0x39c8e7&&_0x39c8e7[_0xe783e6(0x563)](),_0x550855[_0xe783e6(0x9ff)][_0xe783e6(0x563)]();}}function handleEditQuestion(_0x3ecb4a){const _0x14fb78=_0x1df5ec,_0xd24fbd=_0x3ecb4a[_0x14fb78(0x1e6)],_0x33a652=_0xd24fbd[_0x14fb78(0x984)][_0x14fb78(0x988)],_0x54a298=currentQuizData[_0x14fb78(0x8f0)][_0x33a652],_0x3bca28=document[_0x14fb78(0x1d3)](_0x14fb78(0x447)+_0x33a652),_0x3c621c=document[_0x14fb78(0x1d3)]('q-explanation-'+_0x33a652),_0x1b4af5=document[_0x14fb78(0x1d3)](_0x14fb78(0x4a2)+_0x33a652);if(_0xd24fbd[_0x14fb78(0x9e2)][_0x14fb78(0x8b3)](_0x14fb78(0x657))){_0xd24fbd[_0x14fb78(0x9e2)]=_0x14fb78(0x816),_0xd24fbd[_0x14fb78(0x784)]=_0x14fb78(0x848);if(_0x3bca28)_0x3bca28[_0x14fb78(0x1eb)]=!![];if(_0x3c621c)_0x3c621c['contentEditable']=!![];if(_0x1b4af5){const _0x468a83=_0x1b4af5[_0x14fb78(0x870)]('svg');if(_0x468a83){const _0x3b9aa4=_0x468a83['querySelectorAll'](_0x14fb78(0x836));_0x3b9aa4['forEach']((_0xecd46e,_0x28729c)=>{const _0x18ad65=_0x14fb78,_0xa93f85=_0x18ad65(0x917)+_0x33a652+'-'+_0x28729c;_0xecd46e['id']=_0xa93f85,_0xecd46e[_0x18ad65(0x838)]['add'](_0x18ad65(0x6db)),_0xecd46e['style'][_0x18ad65(0x56f)]=_0x18ad65(0x75b);const _0x35d87b=document['createElementNS'](_0x18ad65(0x29d),_0x18ad65(0x88f)),_0x1c4573=_0xecd46e[_0x18ad65(0x85e)]();_0x35d87b[_0x18ad65(0x82e)]('cx',String(_0x1c4573['x']+_0x1c4573[_0x18ad65(0x560)]+0x5)),_0x35d87b[_0x18ad65(0x82e)]('cy',String(_0x1c4573['y']+_0x1c4573[_0x18ad65(0x6f5)]/0x2-0x5)),_0x35d87b['setAttribute']('r','5'),_0x35d87b[_0x18ad65(0x82e)](_0x18ad65(0x706),_0x18ad65(0x415)),_0x35d87b['setAttribute']('class',_0x18ad65(0x471)),_0x35d87b[_0x18ad65(0x984)][_0x18ad65(0x2ec)]=_0xa93f85,_0xecd46e[_0x18ad65(0x6aa)](_0x35d87b);}),_0x468a83[_0x14fb78(0x2ca)]('mousedown',startDrag),_0x468a83['addEventListener'](_0x14fb78(0x4d9),drag),_0x468a83[_0x14fb78(0x2ca)]('mouseup',endDrag),_0x468a83[_0x14fb78(0x2ca)](_0x14fb78(0x1e5),endDrag),_0x468a83[_0x14fb78(0x2ca)](_0x14fb78(0x537),startDrag,{'passive':![]}),_0x468a83['addEventListener'](_0x14fb78(0x9d4),drag,{'passive':![]}),_0x468a83['addEventListener']('touchend',endDrag),_0x468a83[_0x14fb78(0x2ca)](_0x14fb78(0x825),endDrag),_0x468a83[_0x14fb78(0x2ca)](_0x14fb78(0x3c6),handleSvgEditClick);}}if(_0x3bca28)_0x3bca28[_0x14fb78(0x579)]();}else{_0xd24fbd[_0x14fb78(0x9e2)]=_0x14fb78(0x82b),_0xd24fbd[_0x14fb78(0x784)]=_0x14fb78(0x84d);if(_0x3bca28){_0x3bca28[_0x14fb78(0x1eb)]=![];const _0x101060=_0x54a298['questionType']||currentQuizData[_0x14fb78(0x3fd)];_0x101060===_0x14fb78(0x2b3)?_0x54a298[_0x14fb78(0x41d)]=_0x3bca28[_0x14fb78(0x2b7)][_0x14fb78(0x1f2)](_0x3bca28[_0x14fb78(0x2b7)][_0x14fb78(0x3ed)]('.')+0x2)['trim']():_0x54a298['questionText']=_0x3bca28[_0x14fb78(0x2b7)][_0x14fb78(0x1f2)](_0x3bca28[_0x14fb78(0x2b7)][_0x14fb78(0x3ed)]('.')+0x2)[_0x14fb78(0x72a)]();}_0x3c621c&&(_0x3c621c[_0x14fb78(0x1eb)]=![],_0x54a298[_0x14fb78(0x6c4)]=_0x3c621c[_0x14fb78(0x2b7)]);if(_0x1b4af5){const _0x2db8d6=_0x1b4af5['querySelector'](_0x14fb78(0x835));if(_0x2db8d6){const _0x3e596e=_0x2db8d6['cloneNode'](!![]);_0x3e596e[_0x14fb78(0x882)](_0x14fb78(0x3c8))['forEach'](_0x42c303=>_0x42c303['remove']()),_0x3e596e[_0x14fb78(0x882)]('.draggable-text')['forEach'](_0x1a74e7=>{const _0x24a240=_0x14fb78;_0x1a74e7[_0x24a240(0x838)][_0x24a240(0x563)]('draggable-text'),_0x1a74e7[_0x24a240(0xa10)]['cursor']='default',_0x1a74e7[_0x24a240(0x285)]('id');}),_0x54a298[_0x14fb78(0x317)]=_0x3e596e['outerHTML'],_0x2db8d6[_0x14fb78(0x853)](_0x14fb78(0x1ed),startDrag),_0x2db8d6[_0x14fb78(0x853)]('mousemove',drag),_0x2db8d6[_0x14fb78(0x853)](_0x14fb78(0x925),endDrag),_0x2db8d6[_0x14fb78(0x853)](_0x14fb78(0x1e5),endDrag),_0x2db8d6[_0x14fb78(0x853)](_0x14fb78(0x537),startDrag),_0x2db8d6[_0x14fb78(0x853)]('touchmove',drag),_0x2db8d6[_0x14fb78(0x853)](_0x14fb78(0x280),endDrag),_0x2db8d6[_0x14fb78(0x853)](_0x14fb78(0x825),endDrag),_0x2db8d6[_0x14fb78(0x853)]('click',handleSvgEditClick),_0x2db8d6[_0x14fb78(0x882)]('.delete-svg-btn')['forEach'](_0x32ea1e=>_0x32ea1e[_0x14fb78(0x563)]()),_0x2db8d6['querySelectorAll'](_0x14fb78(0x21b))['forEach'](_0xbc5d6f=>{const _0x1f84ed=_0x14fb78;_0xbc5d6f['classList'][_0x1f84ed(0x563)](_0x1f84ed(0x6db)),_0xbc5d6f[_0x1f84ed(0xa10)]['cursor']=_0x1f84ed(0x46d);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x57ffbb){const _0x18a333=_0x1df5ec,_0x6cdddc=document[_0x18a333(0x1d3)](_0x18a333(0x4f8)),_0x3658fa=document['getElementById']('quiz-editor-questions-container');_0x3658fa[_0x18a333(0x9e2)]=_0x18a333(0x87f),_0x6cdddc[_0x18a333(0x838)]['remove'](_0x18a333(0x46b));try{const _0x4a256f=doc(db,_0x18a333(0x3d2)+appId+_0x18a333(0x33d),_0x57ffbb),_0x54b004=await getDoc(_0x4a256f);if(!_0x54b004['exists']())throw new Error(_0x18a333(0x26d));currentEditingQuizData={'id':_0x57ffbb,..._0x54b004[_0x18a333(0x5ad)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xb50427){console[_0x18a333(0x2e8)]('Error\x20opening\x20quiz\x20editor:',_0xb50427),showMessage(_0x18a333(0x3d4)),_0x6cdddc[_0x18a333(0x838)]['add']('hidden');}}function renderQuizEditor(_0x3a0d46){const _0x515ad6=_0x1df5ec;document['getElementById']('editor-quiz-topic')[_0x515ad6(0x750)]=_0x3a0d46['topic'];const _0x53803f=document[_0x515ad6(0x1d3)](_0x515ad6(0x3c3));let _0x43f97e=_0x3a0d46['questions'][_0x515ad6(0x4e5)]((_0x5d276e,_0x4b7b3a)=>{const _0x23c7f9=_0x515ad6;let _0x512dcd='';const _0x1831ae=_0x5d276e['questionType']||_0x3a0d46[_0x23c7f9(0x3fd)];switch(_0x1831ae){case'multiple_choice':const _0x2096fb=(_0x5d276e['options']||[])[_0x23c7f9(0x4e5)]((_0x537d08,_0x16b076)=>_0x23c7f9(0x94d)+_0x4b7b3a+'\x22\x20value=\x22'+_0x16b076+'\x22\x20'+(_0x16b076===_0x5d276e['correctAnswerIndex']?_0x23c7f9(0x5fb):'')+_0x23c7f9(0x5b4)+_0x537d08+_0x23c7f9(0x5b8))[_0x23c7f9(0x30f)]('');_0x512dcd=_0x23c7f9(0x4af)+_0x2096fb+_0x23c7f9(0x2db);break;case _0x23c7f9(0x44f):_0x512dcd=_0x23c7f9(0x5a6)+(_0x5d276e[_0x23c7f9(0x585)]||'')+_0x23c7f9(0x913);break;case _0x23c7f9(0x3fc):_0x512dcd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x4b7b3a+'\x22\x20value=\x22true\x22\x20'+(_0x5d276e['correctAnswer']===!![]?_0x23c7f9(0x5fb):'')+_0x23c7f9(0x716)+_0x4b7b3a+'\x22\x20value=\x22false\x22\x20'+(_0x5d276e[_0x23c7f9(0x232)]===![]?_0x23c7f9(0x5fb):'')+_0x23c7f9(0x866);break;case _0x23c7f9(0x2b3):_0x512dcd=_0x23c7f9(0x6eb)+(_0x5d276e['correctResponse']||'')+_0x23c7f9(0x265);break;}const _0x105069=_0x5d276e[_0x23c7f9(0x4f1)]||_0x5d276e[_0x23c7f9(0x41d)]||'';return _0x23c7f9(0x271)+_0x4b7b3a+_0x23c7f9(0x6b5)+_0x1831ae+_0x23c7f9(0x8f1)+(_0x4b7b3a+0x1)+'\x20('+_0x1831ae+_0x23c7f9(0x2f2)+_0x105069+_0x23c7f9(0x6f4)+_0x512dcd+_0x23c7f9(0x1f3);})[_0x515ad6(0x30f)]('');_0x53803f[_0x515ad6(0x9e2)]=_0x43f97e,_0x53803f[_0x515ad6(0x882)](_0x515ad6(0x519))[_0x515ad6(0x722)](_0xa47e36=>{const _0x4c0c62=_0x515ad6;_0xa47e36['addEventListener'](_0x4c0c62(0x3c6),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x45d24e){const _0x4f4a11=_0x1df5ec,_0x131f85=_0x45d24e[_0x4f4a11(0x1e6)],_0x532f70=_0x131f85[_0x4f4a11(0x7da)](_0x4f4a11(0x6ac));if(!_0x532f70)return;const _0x3cf153=parseInt(_0x532f70[_0x4f4a11(0x984)][_0x4f4a11(0x603)],0xa);if(isNaN(_0x3cf153)||!currentEditingQuizData[_0x4f4a11(0x8f0)][_0x3cf153]){showMessage(_0x4f4a11(0x24f));return;}const _0x50e9cb=currentEditingQuizData['questions'][_0x3cf153];_0x131f85[_0x4f4a11(0x9e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x131f85[_0x4f4a11(0x31d)]=!![];const _0x46c344=_0x4f4a11(0x37b)+JSON[_0x4f4a11(0x5c7)](_0x50e9cb)+_0x4f4a11(0x5ec);let _0x3061e3;const _0x3ff4d8=_0x50e9cb[_0x4f4a11(0x24e)]||currentEditingQuizData[_0x4f4a11(0x3fd)];switch(_0x3ff4d8){case'short_answer':_0x3061e3={'type':_0x4f4a11(0x1d9),'properties':{'questionText':{'type':_0x4f4a11(0x951)},'idealAnswer':{'type':_0x4f4a11(0x951)},'explanation':{'type':_0x4f4a11(0x951)},'imageCode':{'type':_0x4f4a11(0x951)}},'required':['questionText',_0x4f4a11(0x585),_0x4f4a11(0x6c4)]};break;case _0x4f4a11(0x9ab):default:_0x3061e3={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4f4a11(0x989),'items':{'type':_0x4f4a11(0x951)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4f4a11(0x951)}},'required':['questionText','options',_0x4f4a11(0x261),_0x4f4a11(0x6c4)]};break;}try{let _0x38eaa8=await callAnalysisApi(_0x46c344,_0x3061e3);_0x38eaa8[_0x4f4a11(0x611)]&&Array[_0x4f4a11(0x8fe)](_0x38eaa8[_0x4f4a11(0x611)])&&(_0x38eaa8[_0x4f4a11(0x611)]=_0x38eaa8[_0x4f4a11(0x611)]['map'](_0x4026f6=>typeof _0x4026f6===_0x4f4a11(0x2b1)?_0x4026f6['replace'](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x4026f6)),_0x50e9cb[_0x4f4a11(0x317)]&&_0x50e9cb[_0x4f4a11(0x317)][_0x4f4a11(0x8b3)]('fix\x20the\x20option')&&(_0x38eaa8[_0x4f4a11(0x317)]=''),currentEditingQuizData[_0x4f4a11(0x8f0)][_0x3cf153]={..._0x50e9cb,..._0x38eaa8},renderQuizEditor(currentEditingQuizData),showMessage(_0x4f4a11(0x43a));}catch(_0x3a0a6b){console[_0x4f4a11(0x2e8)](_0x4f4a11(0x77c),_0x3a0a6b),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x43896f=_0x1df5ec,_0x2a4e53=document[_0x43896f(0x1d3)]('save-quiz-edits-btn');_0x2a4e53[_0x43896f(0x31d)]=!![],_0x2a4e53[_0x43896f(0x9e2)]=_0x43896f(0x6be);try{const _0x535e6c=document[_0x43896f(0x1d3)]('editor-quiz-topic')[_0x43896f(0x750)],_0x51aab7=document[_0x43896f(0x882)](_0x43896f(0x6ac));let _0x5b03a7=[];const _0x30e451=Array[_0x43896f(0x201)](_0x51aab7)[_0x43896f(0x4e5)]((_0x3cd18c,_0x100263)=>{const _0x13a501=_0x43896f,_0x190c18=_0x3cd18c['dataset'][_0x13a501(0xa0c)],_0x1823d4=_0x3cd18c[_0x13a501(0x870)](_0x13a501(0x1a0))['value'];let _0x1e6f99={'questionType':_0x190c18};const _0x57365b=currentEditingQuizData['questions'][_0x100263];switch(_0x190c18){case _0x13a501(0x9ab):_0x1e6f99[_0x13a501(0x4f1)]=_0x1823d4;const _0x15976e=_0x3cd18c[_0x13a501(0x882)](_0x13a501(0x48d));_0x1e6f99[_0x13a501(0x611)]=Array[_0x13a501(0x201)](_0x15976e)[_0x13a501(0x4e5)](_0xa5e5dc=>_0xa5e5dc[_0x13a501(0x750)]);const _0x166537=_0x3cd18c[_0x13a501(0x870)](_0x13a501(0x997));_0x1e6f99[_0x13a501(0x261)]=_0x166537?parseInt(_0x166537[_0x13a501(0x750)]):0x0;break;case _0x13a501(0x44f):_0x1e6f99[_0x13a501(0x4f1)]=_0x1823d4,_0x1e6f99[_0x13a501(0x585)]=_0x3cd18c['querySelector'](_0x13a501(0x94b))[_0x13a501(0x750)];break;case'true_false':_0x1e6f99[_0x13a501(0x4f1)]=_0x1823d4;const _0x1db66a=_0x3cd18c['querySelector'](_0x13a501(0x997));_0x1e6f99['correctAnswer']=_0x1db66a?_0x1db66a[_0x13a501(0x750)]==='true':!![];break;case _0x13a501(0x2b3):_0x1e6f99[_0x13a501(0x41d)]=_0x1823d4;const _0x5ffff4=_0x3cd18c[_0x13a501(0x870)]('.correct-response-input');_0x1e6f99['correctResponse']=_0x5ffff4?_0x5ffff4[_0x13a501(0x750)]:'',_0x5b03a7['push'](_0x1e6f99['correctResponse']);break;default:_0x1e6f99[_0x13a501(0x4f1)]=_0x1823d4;break;}return{..._0x57365b,..._0x1e6f99};});_0x5b03a7[_0x43896f(0x4a6)]>0x0&&_0x30e451[_0x43896f(0x722)](_0x3e5050=>{const _0x345640=_0x43896f;_0x3e5050['questionType']===_0x345640(0x2b3)&&(_0x3e5050[_0x345640(0x3fb)]=_0x5b03a7);});const _0x53fd6b=currentEditingQuizData['id'],_0x2ea8e6=doc(db,_0x43896f(0x3d2)+appId+_0x43896f(0x33d),_0x53fd6b);await updateDoc(_0x2ea8e6,{'topic':_0x535e6c,'questions':_0x30e451}),document['getElementById'](_0x43896f(0x4f8))[_0x43896f(0x838)][_0x43896f(0x8a1)](_0x43896f(0x46b)),showMessage(_0x43896f(0x3e7),()=>initiateReGradeProcess(_0x53fd6b));}catch(_0x347f8e){console[_0x43896f(0x2e8)](_0x43896f(0x6d0),_0x347f8e),showMessage(_0x43896f(0x2df));}finally{_0x2a4e53[_0x43896f(0x31d)]=![],_0x2a4e53[_0x43896f(0x9e2)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x4de0a7){const _0x3df586=_0x1df5ec;showMessage(_0x3df586(0x7d2));try{const _0x26a54e=doc(db,'artifacts/'+appId+_0x3df586(0x33d),_0x4de0a7),_0x640ea5=await getDoc(_0x26a54e);if(!_0x640ea5[_0x3df586(0x63b)]())throw new Error(_0x3df586(0x7df));const _0x3eb2ee={'id':_0x4de0a7,..._0x640ea5[_0x3df586(0x5ad)]()},_0x134160=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x4de0a7,_0x3df586(0x7ac)),_0x2efe93=await getDocs(_0x134160);if(_0x2efe93[_0x3df586(0x401)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x51ecdb=_0x2efe93['docs']['map'](_0xeae038=>reGradeSingleSubmission(_0xeae038,_0x3eb2ee));await Promise[_0x3df586(0x408)](_0x51ecdb);if(_0x3eb2ee[_0x3df586(0x642)]){const _0x1de96b=doc(db,_0x3df586(0x3d2)+appId+'/public/data/projects',_0x3eb2ee[_0x3df586(0x642)]),_0x53937f=await getDoc(_0x1de96b);if(_0x53937f['exists']()&&_0x53937f[_0x3df586(0x5ad)]()[_0x3df586(0x4f6)]){const _0x3e6801=_0x53937f[_0x3df586(0x5ad)]()[_0x3df586(0x4f6)][_0x3df586(0x4e5)](_0x29a9e7=>updateStudentProfile(_0x3eb2ee[_0x3df586(0x642)],_0x29a9e7));await Promise[_0x3df586(0x408)](_0x3e6801);}}showMessage(_0x3df586(0x368)+_0x2efe93[_0x3df586(0x7f1)]+_0x3df586(0x46f));}catch(_0x4f9946){console[_0x3df586(0x2e8)](_0x3df586(0x578),_0x4f9946),showMessage(_0x3df586(0x8d8)+_0x4f9946['message']);}}async function reGradeSingleSubmission(_0x5ab09d,_0x633bbe){const _0x557c44=_0x1df5ec,_0x2a8647=_0x5ab09d[_0x557c44(0x5ad)](),_0x4f0a2f=_0x2a8647[_0x557c44(0x414)],_0x3497a0=_0x2a8647[_0x557c44(0x2b5)]||[],_0x2c90da=[];for(const _0x56fa4b of _0x3497a0){let _0x19dc57=0x0,_0x3e165c=[],_0x48f943=0x0;const _0x3f7254=[];for(const _0x88dc8e of _0x56fa4b[_0x557c44(0x584)]){let _0x443d49;_0x88dc8e[_0x557c44(0x8d6)]&&(_0x443d49=_0x633bbe[_0x557c44(0x8f0)]['find'](_0x4834c8=>_0x4834c8['id']===_0x88dc8e[_0x557c44(0x8d6)]));!_0x443d49&&_0x88dc8e[_0x557c44(0x692)]&&(_0x443d49=_0x633bbe[_0x557c44(0x8f0)][_0x557c44(0x500)](_0x1294c8=>(_0x1294c8['stem']||_0x1294c8[_0x557c44(0x4f1)])===_0x88dc8e[_0x557c44(0x692)]));let _0x404ca4=![];if(_0x443d49){const _0x44477a=_0x443d49[_0x557c44(0x24e)]||_0x633bbe['quizType'];switch(_0x44477a){case'multiple_choice':if(_0x443d49[_0x557c44(0x611)]&&_0x443d49[_0x557c44(0x261)]<_0x443d49[_0x557c44(0x611)]['length']){const _0x1907d6=_0x443d49[_0x557c44(0x611)][_0x443d49[_0x557c44(0x261)]];_0x404ca4=_0x88dc8e[_0x557c44(0x787)]===_0x1907d6;}break;case _0x557c44(0x3fc):const _0x1c9299=_0x88dc8e['answer']===!![]||_0x88dc8e['answer']===_0x557c44(0x9cf);_0x404ca4=_0x1c9299===_0x443d49['correctAnswer'];break;case _0x557c44(0x2b3):_0x404ca4=_0x88dc8e[_0x557c44(0x92e)]===_0x443d49['correctResponse'];break;case _0x557c44(0x44f):_0x404ca4=await gradeShortAnswer(_0x88dc8e[_0x557c44(0x92e)],_0x443d49);break;default:_0x404ca4=_0x88dc8e[_0x557c44(0x448)];break;}}if(_0x404ca4){_0x19dc57++,_0x48f943++;if(_0x48f943===0x3)_0x3e165c[_0x557c44(0x3f2)](BADGES[_0x557c44(0x4fd)]['id']);}else _0x48f943=0x0;_0x3f7254[_0x557c44(0x3f2)]({..._0x88dc8e,'isCorrect':_0x404ca4});}let _0x538628=_0x19dc57*0xa;_0x19dc57===_0x633bbe['questions']['length']&&(_0x538628+=0x32,_0x3e165c[_0x557c44(0x3f2)](BADGES['PERFECT_SCORE']['id'])),_0x2c90da[_0x557c44(0x3f2)]({..._0x56fa4b,'score':_0x19dc57,'points':_0x538628,'badges':Array['from'](new Set(_0x3e165c)),'answers':_0x3f7254});}const _0xdb0cd4=_0x2c90da[_0x557c44(0x4a6)]>0x0?_0x2c90da[0x0][_0x557c44(0x74f)]:0x0,_0x20ff2a=Math[_0x557c44(0x1fd)](..._0x2c90da[_0x557c44(0x4e5)](_0x11dca2=>_0x11dca2[_0x557c44(0x74f)])),_0x11b21f=_0x2c90da[_0x557c44(0x4a6)]>0x0?_0x2c90da[_0x2c90da[_0x557c44(0x4a6)]-0x1][_0x557c44(0x74f)]:0x0,_0x44d79e=_0x2c90da[_0x557c44(0x4a6)]>0x0?_0x2c90da[_0x2c90da[_0x557c44(0x4a6)]-0x1][_0x557c44(0x343)]:0x0,_0x25e800=doc(db,_0x557c44(0x3d2)+appId+'/public/data/quizzes/'+_0x633bbe['id']+_0x557c44(0x386),_0x4f0a2f);await updateDoc(_0x25e800,{'attempts':_0x2c90da,'firstScore':_0xdb0cd4,'bestScore':_0x20ff2a,'latestScore':_0x11b21f,'points':_0x44d79e});}function cleanupQuizOptions(_0x5f4120){const _0xf65bf9=_0x1df5ec,_0x502bcc=(_0x1d5059,_0x2f6aca)=>_0x2f6aca===0x0?_0x1d5059:_0x502bcc(_0x2f6aca,_0x1d5059%_0x2f6aca),_0x3e3ca6=_0xa7c96b=>{const _0x57d5b3=_0x2d6c;if(typeof _0xa7c96b!==_0x57d5b3(0x2b1))return null;_0xa7c96b=_0xa7c96b[_0x57d5b3(0x72a)]();const _0x16eb65=_0xa7c96b[_0x57d5b3(0x29f)](/[ /]/)[_0x57d5b3(0x93a)](_0x392d3c=>_0x392d3c!=='');if(_0x16eb65[_0x57d5b3(0x4a6)]===0x3)return parseInt(_0x16eb65[0x0])+parseInt(_0x16eb65[0x1])/parseInt(_0x16eb65[0x2]);else{if(_0x16eb65[_0x57d5b3(0x4a6)]===0x2)return parseInt(_0x16eb65[0x0])/parseInt(_0x16eb65[0x1]);else{if(_0x16eb65[_0x57d5b3(0x4a6)]===0x1&&!isNaN(_0x16eb65[0x0]))return parseFloat(_0x16eb65[0x0]);}}return null;},_0x351fe9=_0x48183d=>{const _0x43d1d8=_0x2d6c;if(typeof _0x48183d!=='string')return _0x48183d;const _0xf1af9c=_0x48183d[_0x43d1d8(0x7cc)](/(\d+)\s+(\d+)\/(\d+)/);if(_0xf1af9c){const _0x2be200=parseInt(_0xf1af9c[0x1]);let _0x37d4c6=parseInt(_0xf1af9c[0x2]),_0x1aad6a=parseInt(_0xf1af9c[0x3]);const _0xf5e9c4=_0x502bcc(_0x37d4c6,_0x1aad6a);_0x37d4c6/=_0xf5e9c4,_0x1aad6a/=_0xf5e9c4;if(_0x1aad6a===0x1)return(_0x2be200+_0x37d4c6)[_0x43d1d8(0x316)]();return _0x2be200+'\x20'+_0x37d4c6+'/'+_0x1aad6a;}return _0x48183d;};return _0x5f4120&&_0x5f4120['questions']&&_0x5f4120[_0xf65bf9(0x8f0)][_0xf65bf9(0x722)](_0x8e69fc=>{const _0x1d730b=_0xf65bf9;if(_0x8e69fc['questionType']===_0x1d730b(0x9ab)&&_0x8e69fc['options']){const _0x2607ec=new Map(),_0x2ade23=_0x8e69fc['options'][_0x8e69fc[_0x1d730b(0x261)]];_0x8e69fc[_0x1d730b(0x611)][_0x1d730b(0x722)](_0xbe06fe=>{const _0x146f24=_0x1d730b,_0x3f24a1=_0x351fe9(_0xbe06fe),_0x4c842c=_0x3e3ca6(_0x3f24a1);_0x4c842c!==null&&!_0x2607ec[_0x146f24(0x636)](_0x4c842c)&&_0x2607ec[_0x146f24(0x697)](_0x4c842c,_0x3f24a1);}),_0x8e69fc[_0x1d730b(0x611)]=Array[_0x1d730b(0x201)](_0x2607ec['values']());const _0x478028=_0x8e69fc[_0x1d730b(0x611)][_0x1d730b(0x752)](_0x4d2b21=>_0x4d2b21===_0x351fe9(_0x2ade23));_0x8e69fc[_0x1d730b(0x261)]=_0x478028!==-0x1?_0x478028:0x0;}}),_0x5f4120;}async function saveQuiz(){const _0x4b892d=_0x1df5ec;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x4b892d(0x58f));return;}const _0x5eb7d6=document[_0x4b892d(0x1d3)](_0x4b892d(0x359));_0x5eb7d6['disabled']=!![],_0x5eb7d6['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x26a21c=document[_0x4b892d(0x1d3)](_0x4b892d(0x9db))[_0x4b892d(0x5fb)];let _0x21e2bf=document[_0x4b892d(0x1d3)](_0x4b892d(0x4f7))['innerText'][_0x4b892d(0x72a)]();_0x26a21c&&!_0x21e2bf[_0x4b892d(0x6fe)](_0x4b892d(0x302))&&(_0x21e2bf=_0x4b892d(0x323)+_0x21e2bf);try{const _0x40dea3={'resultsDisplay':document[_0x4b892d(0x1d3)](_0x4b892d(0x9e5))[_0x4b892d(0x750)],'shuffle':document['getElementById'](_0x4b892d(0x74a))[_0x4b892d(0x750)],'timerMode':document[_0x4b892d(0x1d3)](_0x4b892d(0x88b))['value'],'timerDuration':parseInt(document[_0x4b892d(0x1d3)](_0x4b892d(0x7ce))['value'])||0xa,'passingScore':parseInt(document[_0x4b892d(0x1d3)](_0x4b892d(0x61c))[_0x4b892d(0x750)])||0x0,'isAdaptive':document[_0x4b892d(0x1d3)]('adaptive-quiz-checkbox')[_0x4b892d(0x5fb)],'loopUntilPass':document['getElementById']('loop-until-pass-checkbox')['checked']},_0x495bb9=(currentQuizData['questions']||[])[_0x4b892d(0x4e5)]((_0x59b1c2,_0x57593d)=>{const _0x5b3b65=_0x4b892d,_0x4c6025=document[_0x5b3b65(0x1d3)]('quiz-type-select')['value'],_0x491cf3={'id':'q_'+Date[_0x5b3b65(0x47a)]()+'_'+_0x57593d,'questionText':_0x59b1c2[_0x5b3b65(0x4f1)]||'','explanation':_0x59b1c2[_0x5b3b65(0x6c4)]||_0x5b3b65(0x289),'questionType':_0x59b1c2[_0x5b3b65(0x24e)]||_0x4c6025,'imageCode':_0x59b1c2[_0x5b3b65(0x317)]||null};return(_0x491cf3[_0x5b3b65(0x24e)]===_0x5b3b65(0x9ab)||_0x491cf3[_0x5b3b65(0x24e)]===_0x5b3b65(0x20f)||_0x491cf3['questionType']===_0x5b3b65(0x2ae)&&_0x59b1c2[_0x5b3b65(0x611)])&&(_0x491cf3['options']=_0x59b1c2['options']||[],_0x491cf3[_0x5b3b65(0x261)]=_0x59b1c2['correctAnswerIndex']!==undefined?_0x59b1c2[_0x5b3b65(0x261)]:0x0),(_0x491cf3[_0x5b3b65(0x24e)]===_0x5b3b65(0x44f)||_0x491cf3[_0x5b3b65(0x24e)]===_0x5b3b65(0x620)||_0x491cf3['questionType']===_0x5b3b65(0x2ae)&&_0x59b1c2[_0x5b3b65(0x585)])&&(_0x491cf3['idealAnswer']=_0x59b1c2[_0x5b3b65(0x585)]||''),_0x491cf3['questionType']==='true_false'&&(_0x491cf3['correctAnswer']=_0x59b1c2['correctAnswer']===!![]),_0x491cf3['questionType']===_0x5b3b65(0x2b3)&&(_0x491cf3[_0x5b3b65(0x41d)]=_0x59b1c2['stem']||'',_0x491cf3[_0x5b3b65(0x4cd)]=_0x59b1c2[_0x5b3b65(0x4cd)]||'',_0x491cf3[_0x5b3b65(0x3fb)]=_0x59b1c2['allResponses']||[]),_0x491cf3;}),_0x36d4d6={'topic':_0x21e2bf,'quizType':currentQuizData[_0x4b892d(0x3fd)]||_0x4b892d(0x9ab),'questions':_0x495bb9,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4b892d(0x709)](),'status':'active','settings':_0x40dea3,'quizMode':_0x26a21c?_0x4b892d(0x1aa):_0x4b892d(0x1f9),'pairedQuizId':null,'lessonPlan':null};let _0x157ea6;while(!![]){_0x157ea6=Math[_0x4b892d(0x5f0)](0x3e8+Math[_0x4b892d(0x998)]()*0x2328)[_0x4b892d(0x316)]();const _0x32251d=await getDoc(doc(db,_0x4b892d(0x3d2)+appId+_0x4b892d(0x33d),_0x157ea6));if(!_0x32251d[_0x4b892d(0x63b)]())break;}await setDoc(doc(db,_0x4b892d(0x3d2)+appId+'/public/data/quizzes',_0x157ea6),_0x36d4d6),currentQuizData['settings']=_0x40dea3,currentQuizData['id']=_0x157ea6;const _0x206c65=document[_0x4b892d(0x1d3)](_0x4b892d(0x195));_0x206c65[_0x4b892d(0x9e2)]=_0x4b892d(0x73a)+_0x157ea6+_0x4b892d(0x557),document[_0x4b892d(0x1d3)]('copy-quiz-id-btn')[_0x4b892d(0x2ca)](_0x4b892d(0x3c6),()=>copyTextToClipboard(_0x157ea6,'คัดลอกรหัสแล้ว!')),document[_0x4b892d(0x1d3)](_0x4b892d(0x8ae))['addEventListener']('click',()=>handleStartLiveRace(_0x157ea6)),document[_0x4b892d(0x1d3)](_0x4b892d(0x5e2))[_0x4b892d(0x2ca)]('click',()=>startPresentation(currentQuizData)),document['getElementById']('admin-try-quiz-btn')[_0x4b892d(0x2ca)]('click',startAdminTest),showMessage(_0x4b892d(0x4a0));}catch(_0x53ab27){console[_0x4b892d(0x2e8)](_0x4b892d(0x3b1),_0x53ab27),showMessage(_0x4b892d(0x203)),_0x5eb7d6[_0x4b892d(0x31d)]=![],_0x5eb7d6[_0x4b892d(0x9e2)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function _0x2d6c(_0x2ca0c1,_0x51fcb6){const _0x341bb0=_0x341b();return _0x2d6c=function(_0x2d6cb9,_0x4a57bc){_0x2d6cb9=_0x2d6cb9-0x194;let _0x5158cf=_0x341bb0[_0x2d6cb9];return _0x5158cf;},_0x2d6c(_0x2ca0c1,_0x51fcb6);}function promptForProjectAndSave(){const _0x1fe429=_0x1df5ec,_0x424d36=document[_0x1fe429(0x1d3)](_0x1fe429(0x404)),_0x2f6047=document['getElementById']('move-quiz-project-select'),_0x55bb0c=_0x424d36[_0x1fe429(0x870)]('h3'),_0x406a08=document[_0x1fe429(0x1d3)](_0x1fe429(0x7c5));_0x55bb0c[_0x1fe429(0x5b0)]=_0x1fe429(0x21d),_0x406a08[_0x1fe429(0x5b0)]='เลือกและบันทึก';allProjects[_0x1fe429(0x4a6)]===0x0?(_0x2f6047[_0x1fe429(0x9e2)]=_0x1fe429(0x6e3),_0x406a08[_0x1fe429(0x31d)]=!![]):(_0x2f6047[_0x1fe429(0x9e2)]=allProjects['map'](_0x207f0a=>_0x1fe429(0x59a)+_0x207f0a['id']+'\x22>'+_0x207f0a['projectName']+_0x1fe429(0x80d))[_0x1fe429(0x30f)](''),_0x406a08['disabled']=![]);_0x424d36[_0x1fe429(0x838)][_0x1fe429(0x563)]('hidden');const _0x257459=()=>{const _0x1a0ea4=_0x1fe429,_0x2d85a7=_0x2f6047['value'];_0x2d85a7?(currentProjectId=_0x2d85a7,_0x424d36[_0x1a0ea4(0x838)][_0x1a0ea4(0x8a1)](_0x1a0ea4(0x46b)),saveQuiz(),_0x55bb0c['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x406a08[_0x1a0ea4(0x5b0)]=_0x1a0ea4(0x25c),_0x406a08[_0x1a0ea4(0x853)](_0x1a0ea4(0x3c6),_0x257459),_0x406a08[_0x1a0ea4(0x2ca)](_0x1a0ea4(0x3c6),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x406a08['removeEventListener'](_0x1fe429(0x3c6),confirmMoveQuiz),_0x406a08[_0x1fe429(0x2ca)]('click',_0x257459);}function copyTextToClipboard(_0x2ec869,_0x347083){const _0xe5297b=_0x1df5ec,_0x8ce8c3=document[_0xe5297b(0x757)](_0xe5297b(0x1a0));_0x8ce8c3[_0xe5297b(0x750)]=_0x2ec869,_0x8ce8c3[_0xe5297b(0xa10)]['position']=_0xe5297b(0x44c),_0x8ce8c3['style'][_0xe5297b(0x4ed)]='0',document[_0xe5297b(0x314)][_0xe5297b(0x378)](_0x8ce8c3),_0x8ce8c3[_0xe5297b(0x579)](),_0x8ce8c3[_0xe5297b(0x491)]();try{const _0x394984=document[_0xe5297b(0x2d8)](_0xe5297b(0x485));showMessage(_0x394984?_0x347083:_0xe5297b(0x57b));}catch(_0x5b63c3){showMessage(_0xe5297b(0x57b)),console[_0xe5297b(0x2e8)](_0xe5297b(0x670),_0x5b63c3);}document[_0xe5297b(0x314)][_0xe5297b(0x9f7)](_0x8ce8c3);}function listenForProjectQuizzes(_0x54300f){const _0x542a4a=_0x1df5ec,_0x290bd0=collection(db,'artifacts/'+appId+_0x542a4a(0x33d)),_0x750310=query(_0x290bd0,where('projectId','==',_0x54300f));unsubscribeQuizzesListener=onSnapshot(_0x750310,async _0x94f22a=>{const _0x1e37e5=_0x542a4a;allQuizzes=_0x94f22a[_0x1e37e5(0x994)]['map'](_0xab6f0c=>({'id':_0xab6f0c['id'],..._0xab6f0c['data']()})),renderQuizzes();},_0x54f04b=>{const _0x3705aa=_0x542a4a;console[_0x3705aa(0x2e8)]('Error\x20fetching\x20project\x20quizzes:',_0x54f04b),document[_0x3705aa(0x1d3)](_0x3705aa(0x9d0))[_0x3705aa(0x9e2)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x4fb665=_0x1df5ec,_0xf4bdab=document[_0x4fb665(0x1d3)](_0x4fb665(0x9d0)),_0x5941c6=document[_0x4fb665(0x1d3)]('quiz-search-input')[_0x4fb665(0x750)][_0x4fb665(0x852)]();let _0x34d2e2;currentProjectId===_0x4fb665(0x479)?_0x34d2e2=starredQuizzes:_0x34d2e2=allQuizzes;let _0x41d4b2=_0x34d2e2[_0x4fb665(0x93a)](_0x248983=>_0x248983[_0x4fb665(0x37f)][_0x4fb665(0x852)]()[_0x4fb665(0x8b3)](_0x5941c6));_0x41d4b2['sort']((_0x39df38,_0x1db72f)=>new Date(_0x1db72f[_0x4fb665(0x7e7)])-new Date(_0x39df38[_0x4fb665(0x7e7)]));if(_0x41d4b2[_0x4fb665(0x4a6)]===0x0){_0xf4bdab[_0x4fb665(0x9e2)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x41e6df={},_0x1db769=_0x41d4b2[_0x4fb665(0x4e5)](async _0x5e110b=>{const _0x261d12=_0x4fb665,_0x510f1d=collection(db,_0x261d12(0x3d2)+appId+'/public/data/quizzes/'+_0x5e110b['id']+'/submissions'),_0x2fcb92=await getDocs(_0x510f1d);_0x41e6df[_0x5e110b['id']]=_0x2fcb92['size'];});await Promise[_0x4fb665(0x408)](_0x1db769);let _0x4b9be4='';_0x41d4b2[_0x4fb665(0x722)](_0x4875d9=>{const _0x4dcad5=_0x4fb665,_0x366b1a=_0x41e6df[_0x4875d9['id']]||0x0,_0x2018c6=_0x4875d9[_0x4dcad5(0x71b)]||_0x4dcad5(0x22b),_0xdf17d=_0x4875d9[_0x4dcad5(0x8d2)]?.['timerMode']||'none';let _0x5a5b37='',_0x13ed20='';const _0x94fbeb=new Date();let _0x6651c7=_0x2018c6;if(_0x2018c6===_0x4dcad5(0x4c1)){const _0x32345f=_0x4875d9[_0x4dcad5(0x626)]?new Date(_0x4875d9[_0x4dcad5(0x626)]):null,_0x1c725a=_0x4875d9[_0x4dcad5(0x645)]?new Date(_0x4875d9[_0x4dcad5(0x645)]):null;if(_0x1c725a&&_0x94fbeb>_0x1c725a)_0x6651c7=_0x4dcad5(0x721);else _0x32345f&&_0x94fbeb<_0x32345f?_0x6651c7=_0x4dcad5(0x8b4):_0x6651c7=_0x4dcad5(0x22b);}switch(_0x6651c7){case'inactive':_0x5a5b37=_0x4dcad5(0x704),_0x13ed20=_0x4dcad5(0x39d);break;case'scheduled_pending':_0x5a5b37=_0x4dcad5(0x6ff),_0x13ed20=_0x4dcad5(0x695);break;case'active':_0x5a5b37=_0xdf17d!==_0x4dcad5(0x9f2)?_0x4dcad5(0x769):'เปิดใช้งาน',_0x13ed20=_0x4dcad5(0x9c7);break;default:_0x5a5b37=_0x4dcad5(0x8e9),_0x13ed20=_0x4dcad5(0x9c7);break;}let _0x5c4ab0='';const _0x4e39e9={'day':'2-digit','month':'2-digit','year':_0x4dcad5(0x3af),'hour':_0x4dcad5(0x6a0),'minute':'2-digit','hour12':![]};if(_0x2018c6===_0x4dcad5(0x4c1)){if(_0x4875d9[_0x4dcad5(0x626)])_0x5c4ab0+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x4875d9[_0x4dcad5(0x626)])[_0x4dcad5(0x6e4)](_0x4dcad5(0x8e1),_0x4e39e9)+'</p>';if(_0x4875d9[_0x4dcad5(0x645)])_0x5c4ab0+=_0x4dcad5(0x482)+new Date(_0x4875d9[_0x4dcad5(0x645)])['toLocaleString'](_0x4dcad5(0x8e1),_0x4e39e9)+_0x4dcad5(0x4a3);}let _0x362163='';if(_0x4875d9[_0x4dcad5(0x6a2)]){const _0x446ba1=allQuizzes['find'](_0x20f752=>_0x20f752['id']===_0x4875d9['pairedQuizId']);if(_0x446ba1){let _0xfc3d58,_0x449ddb;new Date(_0x4875d9[_0x4dcad5(0x7e7)])<new Date(_0x446ba1['createdAt'])?(_0xfc3d58=_0x4875d9['id'],_0x449ddb=_0x446ba1['id']):(_0xfc3d58=_0x446ba1['id'],_0x449ddb=_0x4875d9['id']),_0x362163+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x449ddb+_0x4dcad5(0x32d)+_0xfc3d58+_0x4dcad5(0x80a);}}else _0x4875d9['quizMode']===_0x4dcad5(0x1aa)&&(_0x362163+=_0x4dcad5(0x941)+_0x4875d9['id']+_0x4dcad5(0x1c6));if(_0x4875d9[_0x4dcad5(0x7ed)]===_0x4dcad5(0x1aa)&&_0x366b1a>0x0)_0x362163+=_0x4dcad5(0x941)+_0x4875d9['id']+_0x4dcad5(0x64c);else!_0x4875d9[_0x4dcad5(0x6a2)]&&_0x4875d9['quizMode']!=='pre-test'&&_0x366b1a>0x0&&(_0x362163+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4875d9['id']+_0x4dcad5(0x3dd));let _0x1fab27='';_0x4875d9[_0x4dcad5(0x6a2)]?_0x1fab27=_0x4dcad5(0x27a)+_0x4875d9['id']+_0x4dcad5(0x5f5):_0x1fab27=_0x4dcad5(0x27a)+_0x4875d9['id']+_0x4dcad5(0x1f0),_0x4b9be4+=_0x4dcad5(0x867)+_0x4875d9['id']+_0x4dcad5(0x5da)+_0x4875d9[_0x4dcad5(0x37f)]+_0x4dcad5(0x9a1)+_0x4875d9[_0x4dcad5(0x8f0)][_0x4dcad5(0x4a6)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x4875d9[_0x4dcad5(0x7e7)])[_0x4dcad5(0x6e4)](_0x4dcad5(0x8e1))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x366b1a+_0x4dcad5(0x237)+_0x5c4ab0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x13ed20+'\x22>'+_0x5a5b37+_0x4dcad5(0x43d)+_0x4875d9['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4875d9['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x4875d9[_0x4dcad5(0x60d)]?'fas\x20fa-star\x20text-yellow-500':_0x4dcad5(0x221))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x362163+_0x4dcad5(0x418)+_0x4875d9['id']+_0x4dcad5(0x606)+_0x4875d9['id']+_0x4dcad5(0x2f0)+_0x4875d9['id']+_0x4dcad5(0x3f3)+_0x4875d9['id']+_0x4dcad5(0x4d8)+_0x4875d9['id']+_0x4dcad5(0x678)+_0x4875d9['id']+_0x4dcad5(0x6ef)+_0x4875d9['id']+'\x22\x20data-topic=\x22'+_0x4875d9[_0x4dcad5(0x37f)]+_0x4dcad5(0x5d2)+_0x4875d9['id']+_0x4dcad5(0x930)+_0x4875d9['id']+_0x4dcad5(0x667)+_0x1fab27+_0x4dcad5(0x904)+_0x4875d9['id']+_0x4dcad5(0x573)+_0x4875d9['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4875d9['id']+_0x4dcad5(0x230)+_0x4875d9['id']+_0x4dcad5(0x1a4)+_0x4875d9['id']+_0x4dcad5(0x9ed)+_0x4875d9[_0x4dcad5(0x37f)]+_0x4dcad5(0x1b6)+_0x4875d9['id']+_0x4dcad5(0x43c);}),_0xf4bdab[_0x4fb665(0x9e2)]=_0x4b9be4,document[_0x4fb665(0x882)](_0x4fb665(0x6bf))[_0x4fb665(0x722)](_0x19401b=>{const _0x58e742=_0x4fb665;_0x19401b['addEventListener'](_0x58e742(0x3c6),()=>{const _0x262cda=_0x58e742,_0x2f97c8=_0x19401b[_0x262cda(0x984)][_0x262cda(0x352)];showQuizDetailView(_0x2f97c8);});});}async function handleUnpairQuiz(_0x290925){const _0x578f22=_0x1df5ec,_0x34548f=allQuizzes[_0x578f22(0x500)](_0x56e9be=>_0x56e9be['id']===_0x290925);if(!_0x34548f||!_0x34548f['pairedQuizId']){showMessage(_0x578f22(0x40d));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x1ee6a6=_0x578f22;try{const _0x64a4c1=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x290925),_0x1948d9=doc(db,_0x1ee6a6(0x3d2)+appId+_0x1ee6a6(0x33d),_0x34548f[_0x1ee6a6(0x6a2)]),_0x34a16f=writeBatch(db);_0x34a16f[_0x1ee6a6(0x207)](_0x64a4c1,{'pairedQuizId':null}),_0x34a16f['update'](_0x1948d9,{'pairedQuizId':null}),await _0x34a16f[_0x1ee6a6(0x47c)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x5b1981){console['error'](_0x1ee6a6(0x475),_0x5b1981),showMessage(_0x1ee6a6(0x1b8));}});}function formatAndPrintLessonPlan(_0x10a95c,_0x36978a){const _0x37f1e2=_0x1df5ec,_0x3c9605=window[_0x37f1e2(0x846)]('',_0x37f1e2(0x5a2)),_0x2e8aaf=_0x37f1e2(0x9b5)+_0x36978a[_0x37f1e2(0x37f)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x36978a[_0x37f1e2(0x37f)]+_0x37f1e2(0x1d8)+_0x10a95c['learningGaps']['map'](_0x567aec=>_0x37f1e2(0x2b8)+_0x567aec+_0x37f1e2(0x612))['join']('')+_0x37f1e2(0x69d)+_0x10a95c[_0x37f1e2(0x34d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10a95c[_0x37f1e2(0x214)][_0x37f1e2(0x4e5)](_0x7dbe90=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x7dbe90[_0x37f1e2(0x446)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x7dbe90[_0x37f1e2(0x3de)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x37f1e2(0x992);_0x3c9605[_0x37f1e2(0x831)][_0x37f1e2(0x823)](_0x2e8aaf),_0x3c9605[_0x37f1e2(0x831)]['close'](),_0x3c9605[_0x37f1e2(0x5ed)]=function(){setTimeout(()=>{const _0x4e89cf=_0x2d6c;_0x3c9605[_0x4e89cf(0x202)]();},0x3e8);};}async function handleAiFixFormula(_0xaddc58){const _0x37259e=_0x1df5ec,_0xb1f112=document[_0x37259e(0x870)](_0x37259e(0x8b0)+_0xaddc58+'\x22]');if(!_0xb1f112)return;const _0x4f2b04=_0xb1f112[_0x37259e(0x984)][_0x37259e(0xa0c)],_0x2956cd=_0xb1f112[_0x37259e(0x870)](_0x37259e(0x454));let _0x97842a={'question':_0xb1f112[_0x37259e(0x870)]('textarea')[_0x37259e(0x750)]};switch(_0x4f2b04){case'multiple_choice':_0x97842a[_0x37259e(0x611)]=Array[_0x37259e(0x201)](_0xb1f112[_0x37259e(0x882)](_0x37259e(0x48d)))[_0x37259e(0x4e5)](_0x4675a9=>_0x4675a9[_0x37259e(0x750)]);break;case _0x37259e(0x44f):_0x97842a[_0x37259e(0x585)]=_0xb1f112[_0x37259e(0x870)](_0x37259e(0x94b))['value'];break;case _0x37259e(0x2b3):_0x97842a[_0x37259e(0x4cd)]=_0xb1f112['querySelector'](_0x37259e(0x810))[_0x37259e(0x750)];break;}_0x2956cd['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x2956cd[_0x37259e(0x31d)]=!![];try{const _0x9bc25c=_0x37259e(0x87a)+JSON['stringify'](_0x97842a)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e4f46={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x37259e(0x951)},'options':{'type':_0x37259e(0x989),'items':{'type':_0x37259e(0x951)}},'idealAnswer':{'type':_0x37259e(0x951)},'correctResponse':{'type':_0x37259e(0x951)}},'required':['question']}},'required':[_0x37259e(0x30a)]},_0x176484=await callAnalysisApi(_0x9bc25c,_0x3e4f46);if(_0x176484&&_0x176484['fixedData']){const _0xa46e72=_0x176484[_0x37259e(0x30a)];_0xb1f112['querySelector'](_0x37259e(0x1a0))[_0x37259e(0x750)]=_0xa46e72[_0x37259e(0x446)]||_0x97842a[_0x37259e(0x446)];switch(_0x4f2b04){case _0x37259e(0x9ab):_0xa46e72[_0x37259e(0x611)]&&_0xa46e72[_0x37259e(0x611)][_0x37259e(0x4a6)]>0x0&&_0xb1f112[_0x37259e(0x882)](_0x37259e(0x48d))[_0x37259e(0x722)]((_0x2ef9a4,_0x4a4b3b)=>{const _0x23cc8d=_0x37259e;_0x2ef9a4['value']=_0xa46e72[_0x23cc8d(0x611)][_0x4a4b3b]||_0x97842a[_0x23cc8d(0x611)][_0x4a4b3b];});break;case _0x37259e(0x44f):_0xb1f112[_0x37259e(0x870)](_0x37259e(0x94b))[_0x37259e(0x750)]=_0xa46e72['idealAnswer']||_0x97842a[_0x37259e(0x585)];break;case'matching_item':_0xb1f112[_0x37259e(0x870)](_0x37259e(0x810))[_0x37259e(0x750)]=_0xa46e72[_0x37259e(0x4cd)]||_0x97842a[_0x37259e(0x4cd)];break;}if(_0x97842a['question']!==_0xa46e72[_0x37259e(0x446)])try{const _0x4f1355=collection(db,'artifacts/'+appId+_0x37259e(0x3a8));await addDoc(_0x4f1355,{'broken':_0x97842a[_0x37259e(0x446)],'fixed':_0xa46e72[_0x37259e(0x446)],'createdAt':serverTimestamp()});}catch(_0x5298a8){console[_0x37259e(0x2e8)](_0x37259e(0x256),_0x5298a8);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x4cd617){console['error'](_0x37259e(0x3c2),_0x4cd617),showMessage(_0x37259e(0x948));}finally{_0x2956cd[_0x37259e(0x9e2)]=_0x37259e(0x402),_0x2956cd[_0x37259e(0x31d)]=![];}}async function handleGenerateLessonPlan(_0x57058d){const _0x5a74b4=_0x1df5ec;showMessage(_0x5a74b4(0x35d));try{const _0x600c31=doc(db,_0x5a74b4(0x3d2)+appId+_0x5a74b4(0x33d),_0x57058d),_0x738f9f=await getDoc(_0x600c31);if(!_0x738f9f[_0x5a74b4(0x63b)]())throw new Error(_0x5a74b4(0x7df));const _0x5b9af5={'id':_0x57058d,..._0x738f9f[_0x5a74b4(0x5ad)]()},_0x2f5a44=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x57058d,_0x5a74b4(0x7ac)),_0x55712c=await getDocs(_0x2f5a44),_0x5e7ae5=_0x55712c['docs']['map'](_0x2626b5=>_0x2626b5['data']());if(_0x5e7ae5['length']===0x0)throw new Error(_0x5a74b4(0x759));const _0x39ecf4=calculateItemAnalysis(_0x5b9af5,_0x5e7ae5)[_0x5a74b4(0x2a8)],_0x206bdf=calculateDistractorAnalysis(_0x5b9af5,_0x5e7ae5),_0x5b05ac=_0x4f04b7=>{const _0xc47128=_0x5a74b4;if(!_0x4f04b7)return'';return _0x4f04b7['replace'](/\\/g,'\x5c\x5c')[_0xc47128(0x8a9)](/"/g,'\x5c\x22')[_0xc47128(0x8a9)](/\n/g,'\x5cn');};let _0xf09ffc=_0x5a74b4(0x1b4);_0x5b9af5[_0x5a74b4(0x8f0)]['forEach']((_0x1a1798,_0x4af0d3)=>{const _0x507a69=_0x5a74b4,_0x15cc6d=_0x39ecf4[_0x4af0d3]?.['p']['toFixed'](0x2)||'N/A',_0x38fc65=_0x39ecf4[_0x4af0d3]?.['r'][_0x507a69(0x2a1)](0x2)||'N/A',_0x680160=_0x5b05ac(_0x1a1798[_0x507a69(0x4f1)]||_0x1a1798[_0x507a69(0x41d)]);_0xf09ffc+=_0x507a69(0x1cf)+(_0x4af0d3+0x1)+_0x507a69(0x383)+_0x15cc6d+_0x507a69(0x6ee)+_0x38fc65+_0x507a69(0x1c7)+_0x680160+'\x5cn';if(_0x1a1798[_0x507a69(0x24e)]==='multiple_choice'&&_0x206bdf[_0x4af0d3]){const _0x46268f=_0x206bdf[_0x4af0d3],_0x195f4f=Object[_0x507a69(0x8bf)](_0x46268f)['filter'](_0x1189e0=>parseInt(_0x1189e0)!==_0x1a1798[_0x507a69(0x261)])['sort']((_0x100a91,_0x1f1bcd)=>_0x46268f[_0x1f1bcd][_0x507a69(0x2aa)]-_0x46268f[_0x100a91][_0x507a69(0x2aa)])[0x0];if(_0x195f4f&&_0x46268f[_0x195f4f][_0x507a69(0x2aa)]>0x0){const _0xae6320=_0x5b05ac(_0x46268f[_0x195f4f][_0x507a69(0x836)]);_0xf09ffc+=_0x507a69(0x4a8)+_0xae6320+_0x507a69(0x628);}}});const _0x403431='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x5b9af5[_0x5a74b4(0x37f)]+_0x5a74b4(0x4ab)+_0xf09ffc+_0x5a74b4(0x873),_0x465bad={'type':_0x5a74b4(0x1d9),'properties':{'learningGaps':{'type':_0x5a74b4(0x989),'items':{'type':_0x5a74b4(0x951)}},'teachingContent':{'type':_0x5a74b4(0x951)},'practiceProblems':{'type':_0x5a74b4(0x989),'items':{'type':'OBJECT','properties':{'question':{'type':_0x5a74b4(0x951)},'solution':{'type':_0x5a74b4(0x951)}}}}},'required':[_0x5a74b4(0x27e),_0x5a74b4(0x34d),_0x5a74b4(0x214)]},_0x301005=await callAnalysisApi(_0x403431,_0x465bad);await updateDoc(_0x600c31,{'lessonPlan':_0x301005});const _0x55a5f5=_0x5a74b4(0x86d)+_0x5b9af5['topic']+_0x5a74b4(0x6b4)+_0x301005[_0x5a74b4(0x27e)][_0x5a74b4(0x4e5)](_0x493b51=>_0x5a74b4(0x2b8)+_0x493b51+_0x5a74b4(0x612))[_0x5a74b4(0x30f)]('')+_0x5a74b4(0x9e1)+_0x301005[_0x5a74b4(0x34d)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x301005['practiceProblems'][_0x5a74b4(0x4e5)](_0x4a8aac=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4a8aac[_0x5a74b4(0x446)]+_0x5a74b4(0x878)+_0x4a8aac['solution']+_0x5a74b4(0x7a3))[_0x5a74b4(0x30f)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x5a74b4(0x1d0))['textContent']=_0x5a74b4(0x635)+_0x5b9af5['topic'],document['getElementById'](_0x5a74b4(0x586))[_0x5a74b4(0x9e2)]=_0x55a5f5,document[_0x5a74b4(0x1d3)]('lesson-plan-modal')[_0x5a74b4(0x838)][_0x5a74b4(0x563)]('hidden');if(window['MathJax'])MathJax[_0x5a74b4(0x9a3)]();messageModal[_0x5a74b4(0x838)][_0x5a74b4(0x8a1)]('hidden');}catch(_0x1fa53b){console[_0x5a74b4(0x2e8)](_0x5a74b4(0x7ef),_0x1fa53b),showMessage(_0x5a74b4(0x4c8)+_0x1fa53b[_0x5a74b4(0x298)]);}}async function handleDuplicateQuiz(_0x4f08b1){const _0x38f736=_0x1df5ec;try{const _0x470773=doc(db,_0x38f736(0x3d2)+appId+'/public/data/quizzes',_0x4f08b1),_0x8096a4=await getDoc(_0x470773);if(_0x8096a4[_0x38f736(0x63b)]()){const _0x1873b1=_0x8096a4[_0x38f736(0x5ad)]();let _0xeb662a='',_0x5587b1='standard',_0x4612f6=null;if(_0x1873b1[_0x38f736(0x7ed)]==='pre-test'){let _0x15d296=_0x1873b1[_0x38f736(0x37f)][_0x38f736(0x8a9)](_0x38f736(0x302),'')[_0x38f736(0x72a)]();_0xeb662a=_0x38f736(0x4d4)+_0x15d296,_0x5587b1=_0x38f736(0x64b),_0x4612f6=_0x4f08b1;}else _0xeb662a=_0x38f736(0x9a4)+_0x1873b1['topic'];const _0x28b143={..._0x1873b1,'topic':_0xeb662a,'createdAt':new Date()[_0x38f736(0x709)](),'quizMode':_0x5587b1,'pairedQuizId':_0x4612f6};let _0x2e20c3;while(!![]){_0x2e20c3=Math[_0x38f736(0x5f0)](0x3e8+Math[_0x38f736(0x998)]()*0x2328)[_0x38f736(0x316)]();const _0x62a039=await getDoc(doc(db,'artifacts/'+appId+_0x38f736(0x33d),_0x2e20c3));if(!_0x62a039[_0x38f736(0x63b)]())break;}const _0x32509f=doc(db,_0x38f736(0x3d2)+appId+_0x38f736(0x33d),_0x2e20c3);await setDoc(_0x32509f,_0x28b143),_0x28b143[_0x38f736(0x7ed)]===_0x38f736(0x64b)&&await updateDoc(_0x470773,{'pairedQuizId':_0x2e20c3}),showMessage(_0x38f736(0x874));}else throw new Error(_0x38f736(0x965));}catch(_0x4f9cff){console[_0x38f736(0x2e8)](_0x38f736(0x438),_0x4f9cff),showMessage(_0x38f736(0x1f1));}}async function handleDeleteQuiz(_0x92ff2d,_0x581cb9=!![]){const _0x45cb31=_0x1df5ec;try{const _0x1d7997=writeBatch(db),_0x52b4b8=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x92ff2d+_0x45cb31(0x386)),_0x5852da=await getDocs(_0x52b4b8);_0x5852da['forEach'](_0x3baeb6=>{const _0x96c796=_0x45cb31;_0x1d7997[_0x96c796(0x276)](doc(_0x52b4b8,_0x3baeb6['id']));});const _0x4aad47=doc(db,_0x45cb31(0x3d2)+appId+_0x45cb31(0x33d),_0x92ff2d);_0x1d7997['delete'](_0x4aad47),await _0x1d7997[_0x45cb31(0x47c)](),_0x581cb9&&showMessage(_0x45cb31(0x9d7));}catch(_0x27dc42){console[_0x45cb31(0x2e8)](_0x45cb31(0x87b),_0x27dc42),_0x581cb9&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x478076){const _0x126055=_0x1df5ec;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x165d0e=doc(db,_0x126055(0x3d2)+appId+_0x126055(0x33d),_0x478076),_0x370fe7=await getDoc(_0x165d0e);if(!_0x370fe7[_0x126055(0x63b)]()){showMessage(_0x126055(0x7df));return;}const _0x26bcb6={'id':_0x370fe7['id'],..._0x370fe7[_0x126055(0x5ad)]()};currentQuizData=_0x26bcb6;const _0x1d7482=doc(db,'artifacts/'+appId+_0x126055(0x8bc),_0x26bcb6[_0x126055(0x642)]),_0x3d3336=await getDoc(_0x1d7482);_0x3d3336[_0x126055(0x63b)]()?(currentProjectData=_0x3d3336[_0x126055(0x5ad)](),currentProjectId=_0x26bcb6[_0x126055(0x642)]):(currentProjectData={'students':[]},currentProjectId=_0x26bcb6[_0x126055(0x642)]);document[_0x126055(0x1d3)]('results-quiz-title')[_0x126055(0x5b0)]=_0x26bcb6['topic'],document[_0x126055(0x1d3)](_0x126055(0x5b2))[_0x126055(0x5b0)]=_0x478076;const _0x575960=collection(db,'artifacts/'+appId+_0x126055(0x33d),_0x478076,_0x126055(0x7ac));unsubscribeSubmissionsListener=onSnapshot(_0x575960,_0x2f3e80=>{const _0x476f06=_0x126055,_0x12301b=_0x2f3e80['docs'][_0x476f06(0x4e5)](_0x309106=>({'id':_0x309106['id'],..._0x309106['data']()}));currentSubmissions=_0x12301b;const _0x4198c9=_0x12301b['filter'](_0x3b08ac=>_0x3b08ac[_0x476f06(0x2b5)]&&_0x3b08ac[_0x476f06(0x2b5)][_0x476f06(0x4a6)]>0x0);renderBehaviorLog(_0x12301b),renderAnswerGrid(currentProjectData[_0x476f06(0x4f6)],_0x4198c9,_0x26bcb6),renderAnalytics(_0x26bcb6,_0x4198c9),renderQuizResultsTable(currentProjectData['students'],_0x12301b,_0x26bcb6),renderQuizLeaderboard(_0x4198c9,_0x26bcb6,_0x476f06(0x3d6));}),showView('quiz-results');}catch(_0x334472){console[_0x126055(0x2e8)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x334472),showMessage(_0x126055(0x7b2));}}function renderAnswerGrid(_0x3971d8,_0x51a911,_0x40fc0c){const _0xa1cac4=_0x1df5ec,_0x52a49e=document['getElementById']('answer-grid-container');if(!_0x52a49e)return;if(!_0x3971d8||_0x3971d8[_0xa1cac4(0x4a6)]===0x0){_0x52a49e[_0xa1cac4(0x9e2)]=_0xa1cac4(0x348);return;}const _0x590c1c=_0x40fc0c[_0xa1cac4(0x8f0)],_0x1e1126=_0x51a911[_0xa1cac4(0x439)]((_0x4433c6,_0x5a3bca)=>{const _0x124cd2=_0xa1cac4;return _0x4433c6[_0x5a3bca[_0x124cd2(0x414)]]=_0x5a3bca,_0x4433c6;},{}),_0x79ecea=_0x46005d=>String[_0xa1cac4(0x2fc)](0x41+_0x46005d),_0x61f2e8=_0x2f6c68=>{const _0x97ed31=_0xa1cac4,_0x4b05ae=_0x2f6c68['questionType']||_0x40fc0c[_0x97ed31(0x3fd)];switch(_0x4b05ae){case _0x97ed31(0x9ab):return _0x2f6c68[_0x97ed31(0x611)]&&_0x2f6c68[_0x97ed31(0x611)][_0x97ed31(0x4a6)]>_0x2f6c68[_0x97ed31(0x261)]?_0x79ecea(_0x2f6c68[_0x97ed31(0x261)]):'-';case'true_false':return _0x2f6c68[_0x97ed31(0x232)]?'ใช่':'ไม่ใช่';case _0x97ed31(0x2b3):return _0x2f6c68['correctResponse']||'-';case _0x97ed31(0x44f):return _0x97ed31(0x75d);default:return'-';}},_0x56ae0a=(_0x930026,_0x57c656)=>{const _0xc73e97=_0xa1cac4;if(_0x57c656[_0xc73e97(0x92e)]===null||_0x57c656[_0xc73e97(0x92e)]===undefined)return'-';const _0x30ca66=_0x930026[_0xc73e97(0x24e)]||_0x40fc0c[_0xc73e97(0x3fd)];switch(_0x30ca66){case _0xc73e97(0x9ab):const _0x4d4e82=_0x930026[_0xc73e97(0x611)]['findIndex'](_0x582a32=>_0x582a32===_0x57c656['answerText']);return _0x4d4e82!==-0x1?_0x79ecea(_0x4d4e82):_0x57c656[_0xc73e97(0x787)]||'-';case _0xc73e97(0x3fc):return _0x57c656[_0xc73e97(0x92e)]===_0xc73e97(0x9cf)||_0x57c656[_0xc73e97(0x92e)]===!![]?_0xc73e97(0x35e):_0xc73e97(0x87e);default:return _0x57c656[_0xc73e97(0x92e)];}};let _0x3019cb=_0xa1cac4(0x1c1)+_0x590c1c[_0xa1cac4(0x4e5)]((_0x348c1b,_0x31a190)=>_0xa1cac4(0x3e2)+(_0x31a190+0x1)+_0xa1cac4(0x57c))['join']('')+_0xa1cac4(0x749)+_0x590c1c[_0xa1cac4(0x4e5)](_0x32480b=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x61f2e8(_0x32480b)+_0xa1cac4(0x451))[_0xa1cac4(0x30f)]('')+_0xa1cac4(0x487);_0x3971d8[_0xa1cac4(0x722)](_0x6d6442=>{const _0x2f5fe7=_0xa1cac4;_0x3019cb+=_0x2f5fe7(0x89a),_0x3019cb+=_0x2f5fe7(0x552)+_0x6d6442+'</td>';const _0x272d50=_0x1e1126[_0x6d6442];if(_0x272d50){const _0x446410=_0x272d50[_0x2f5fe7(0x2b5)][_0x272d50[_0x2f5fe7(0x2b5)]['length']-0x1];_0x590c1c[_0x2f5fe7(0x722)]((_0x295af4,_0x47675b)=>{const _0x321f85=_0x2f5fe7,_0x18da62=_0x446410[_0x321f85(0x584)][_0x321f85(0x500)](_0x46f687=>_0x46f687[_0x321f85(0x692)]===(_0x295af4[_0x321f85(0x41d)]||_0x295af4[_0x321f85(0x4f1)]));if(_0x18da62){let _0x43d337=![];const _0x42ff6d=_0x295af4['questionType']||_0x40fc0c[_0x321f85(0x3fd)];if(_0x18da62[_0x321f85(0x92e)]!==null&&_0x18da62[_0x321f85(0x92e)]!==undefined)switch(_0x42ff6d){case _0x321f85(0x9ab):const _0x15f157=_0x295af4[_0x321f85(0x611)][_0x295af4[_0x321f85(0x261)]];_0x43d337=_0x18da62['answerText']===_0x15f157;break;case'true_false':const _0xbbff7d=_0x18da62[_0x321f85(0x92e)]===!![]||_0x18da62[_0x321f85(0x92e)]===_0x321f85(0x9cf);_0x43d337=_0xbbff7d===_0x295af4[_0x321f85(0x232)];break;case _0x321f85(0x2b3):_0x43d337=_0x18da62[_0x321f85(0x92e)]===_0x295af4[_0x321f85(0x4cd)];break;default:_0x43d337=_0x18da62[_0x321f85(0x448)];break;}const _0x28bf16=_0x43d337?_0x321f85(0x938):'bg-red-100';_0x3019cb+=_0x321f85(0x6cf)+_0x28bf16+'\x22>'+_0x56ae0a(_0x295af4,_0x18da62)+_0x321f85(0x451);}else _0x3019cb+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x3019cb+=_0x590c1c[_0x2f5fe7(0x4e5)](()=>_0x2f5fe7(0x495))[_0x2f5fe7(0x30f)]('');_0x3019cb+=_0x2f5fe7(0x524);}),_0x3019cb+=_0xa1cac4(0x510),_0x52a49e['innerHTML']=_0x3019cb;}function renderQuizResultsTable(_0x3a750a,_0x492c9a,_0x223a3a){const _0x38a30d=_0x1df5ec,_0x29bacc=_0x492c9a['reduce']((_0x30f5a5,_0x2c05e5)=>{const _0x424bb7=_0x2d6c;return _0x30f5a5[_0x2c05e5[_0x424bb7(0x414)]]=_0x2c05e5,_0x30f5a5;},{}),_0x1b2386=document['querySelector'](_0x38a30d(0x747));_0x1b2386&&!_0x1b2386[_0x38a30d(0x9e2)][_0x38a30d(0x8b3)](_0x38a30d(0x7b5))&&(_0x1b2386[_0x38a30d(0x9e2)]+=_0x38a30d(0x8d5));const _0x5bd3b3=document['getElementById'](_0x38a30d(0x1a7));if(!_0x3a750a||_0x3a750a[_0x38a30d(0x4a6)]===0x0){_0x5bd3b3[_0x38a30d(0x9e2)]=_0x38a30d(0x5e1);return;}const _0x5e2105=_0x223a3a['isRemedial']===!![],_0x2d9695=_0x223a3a[_0x38a30d(0x8d2)]?.['passingScore']??-0x1;let _0x41a3e3='';_0x3a750a[_0x38a30d(0x722)](_0x999207=>{const _0x1f192d=_0x38a30d,_0x32da27=_0x29bacc[_0x999207];let _0x5c0177='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x5e2105?'bg-amber-100\x20text-amber-800':_0x1f192d(0x34b))+'\x22>'+(_0x5e2105?'สอบซ่อม':'สอบปกติ')+_0x1f192d(0x650);if(_0x32da27){if(_0x32da27[_0x1f192d(0x2b5)]&&_0x32da27['attempts']['length']>0x0){let _0xede32d=_0x5e2105?_0x32da27[_0x1f192d(0x868)]===_0x32da27['totalQuestions']:_0x2d9695!==-0x1&&_0x32da27[_0x1f192d(0x868)]>=_0x2d9695;const _0x3144c8=_0xede32d?'bg-green-100\x20text-green-800':_0x1f192d(0x1d1),_0x3c7f56=_0xede32d?'ผ่าน':_0x1f192d(0x75e),_0x18c795='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x3144c8+'\x22>'+_0x3c7f56+_0x1f192d(0x650),_0x4fe10a=_0x1f192d(0x26c)+(_0x32da27['attempts']?.[_0x1f192d(0x4a6)]||0x1)+'\x20ครั้ง)</span></td>';_0x41a3e3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x999207+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x32da27['bestScore']+_0x1f192d(0x9fe)+_0x32da27[_0x1f192d(0x975)]+_0x1f192d(0x5d3)+_0x18c795+_0x1f192d(0x4e8)+_0x5c0177+_0x1f192d(0x23c)+_0x32da27[_0x1f192d(0x953)]+_0x1f192d(0x9fe)+_0x32da27[_0x1f192d(0x975)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x32da27['latestScore']+_0x1f192d(0x9fe)+_0x32da27[_0x1f192d(0x975)]+_0x1f192d(0x1c8)+(_0x32da27[_0x1f192d(0x343)]||0x0)+_0x1f192d(0x5d3)+_0x4fe10a+_0x1f192d(0x28b)+new Date(_0x32da27[_0x1f192d(0x92d)])[_0x1f192d(0x6e4)]('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x999207+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x53a9bf='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x41a3e3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x999207+_0x1f192d(0x390)+_0x5c0177+_0x1f192d(0x463)+_0x53a9bf+_0x1f192d(0x28b)+new Date(_0x32da27[_0x1f192d(0x672)])[_0x1f192d(0x6e4)](_0x1f192d(0x8e1))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x999207+_0x1f192d(0x6b2);}}else{const _0x40ad4b='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x41a3e3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x999207+_0x1f192d(0x547)+_0x5c0177+_0x1f192d(0x3cc)+_0x40ad4b+_0x1f192d(0x40b);}}),_0x5bd3b3[_0x38a30d(0x9e2)]=_0x41a3e3;}async function confirmRenameQuiz(){const _0x269366=_0x1df5ec,_0x179423=document[_0x269366(0x1d3)](_0x269366(0x372))[_0x269366(0x750)][_0x269366(0x72a)]();if(!_0x179423){showMessage(_0x269366(0x8d9));return;}if(!actionTargetId)return;const _0x49ed24=doc(db,_0x269366(0x3d2)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x49ed24,{'topic':_0x179423}),showMessage(_0x269366(0x260)),renameQuizModal[_0x269366(0x838)][_0x269366(0x8a1)](_0x269366(0x46b)),actionTargetId=null;}catch(_0x2196ba){console[_0x269366(0x2e8)](_0x269366(0x41b),_0x2196ba),showMessage(_0x269366(0x36b));}}async function handleMoveQuiz(_0x19436d){const _0x9c383c=_0x1df5ec;actionTargetId=_0x19436d;const _0x32161d=document[_0x9c383c(0x1d3)]('move-quiz-project-select');_0x32161d[_0x9c383c(0x9e2)]=_0x9c383c(0x792),moveQuizModal['classList'][_0x9c383c(0x563)]('hidden');try{const _0x48da43=collection(db,'artifacts/'+appId+_0x9c383c(0x8bc)),_0x30b860=await getDocs(_0x48da43),_0x5a2867=_0x30b860[_0x9c383c(0x994)]['map'](_0x329ddc=>({'id':_0x329ddc['id'],..._0x329ddc['data']()})),_0xc39252=_0x5a2867['filter'](_0x256005=>_0x256005['id']!==currentProjectId);if(_0xc39252[_0x9c383c(0x4a6)]===0x0){_0x32161d[_0x9c383c(0x9e2)]=_0x9c383c(0x76b),document[_0x9c383c(0x1d3)](_0x9c383c(0x7c5))[_0x9c383c(0x31d)]=!![];return;}_0x32161d[_0x9c383c(0x9e2)]=_0xc39252['map'](_0x746ed9=>'<option\x20value=\x22'+_0x746ed9['id']+'\x22>'+_0x746ed9[_0x9c383c(0x958)]+'</option>')[_0x9c383c(0x30f)](''),document[_0x9c383c(0x1d3)](_0x9c383c(0x7c5))['disabled']=![];}catch(_0x5d2df7){console[_0x9c383c(0x2e8)]('Error\x20fetching\x20projects\x20for\x20move:',_0x5d2df7),showMessage(_0x9c383c(0x513)),moveQuizModal[_0x9c383c(0x838)][_0x9c383c(0x8a1)](_0x9c383c(0x46b));}}async function confirmMoveQuiz(){const _0xee1743=_0x1df5ec,_0x1df873=document[_0xee1743(0x1d3)]('move-quiz-project-select')[_0xee1743(0x750)];if(!_0x1df873){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x62c646=doc(db,_0xee1743(0x3d2)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x62c646,{'projectId':_0x1df873}),showMessage(_0xee1743(0x52c)),moveQuizModal['classList'][_0xee1743(0x8a1)](_0xee1743(0x46b)),actionTargetId=null;}catch(_0x2a5457){console['error'](_0xee1743(0x351),_0x2a5457),showMessage(_0xee1743(0x21e));}}async function handleQuizSettings(_0x15fa48){const _0x1f3b9d=_0x1df5ec;actionTargetId=_0x15fa48;const _0x4c0c40=doc(db,'artifacts/'+appId+_0x1f3b9d(0x33d),_0x15fa48);try{const _0x2e979e=await getDoc(_0x4c0c40);if(_0x2e979e[_0x1f3b9d(0x63b)]()){const _0x21feb8=_0x2e979e['data'](),_0x1b31ae=_0x21feb8[_0x1f3b9d(0x8d2)]||{},_0x591d66=_0x21feb8[_0x1f3b9d(0x8f0)]['length'];document[_0x1f3b9d(0x1d3)](_0x1f3b9d(0x89b))[_0x1f3b9d(0x750)]=_0x1b31ae[_0x1f3b9d(0x896)]||_0x1f3b9d(0x9f2),document[_0x1f3b9d(0x1d3)](_0x1f3b9d(0x79a))[_0x1f3b9d(0x750)]=_0x1b31ae[_0x1f3b9d(0x534)]||'show_results_and_answers',document[_0x1f3b9d(0x1d3)](_0x1f3b9d(0x724))[_0x1f3b9d(0x750)]=_0x1b31ae[_0x1f3b9d(0x53a)]||_0x1f3b9d(0x9f2),document[_0x1f3b9d(0x1d3)](_0x1f3b9d(0x99f))[_0x1f3b9d(0x750)]=_0x1b31ae[_0x1f3b9d(0x751)]||0xa,document[_0x1f3b9d(0x1d3)]('modal-passing-score-input')[_0x1f3b9d(0x750)]=_0x1b31ae[_0x1f3b9d(0x229)]||Math['floor'](_0x591d66/0x2),document['getElementById'](_0x1f3b9d(0x664))[_0x1f3b9d(0x1fd)]=_0x591d66,document[_0x1f3b9d(0x1d3)](_0x1f3b9d(0x6e1))['checked']=_0x1b31ae[_0x1f3b9d(0x576)]||![],document[_0x1f3b9d(0x1d3)](_0x1f3b9d(0x32b))[_0x1f3b9d(0x5fb)]=_0x1b31ae[_0x1f3b9d(0x369)]||![],document[_0x1f3b9d(0x1d3)](_0x1f3b9d(0x724))[_0x1f3b9d(0x2bd)](new Event(_0x1f3b9d(0x9df))),quizSettingsModal[_0x1f3b9d(0x838)][_0x1f3b9d(0x563)](_0x1f3b9d(0x46b));}else showMessage(_0x1f3b9d(0x7df));}catch(_0x5751a8){console[_0x1f3b9d(0x2e8)](_0x1f3b9d(0x2ce),_0x5751a8),showMessage(_0x1f3b9d(0x59f));}}async function confirmQuizSettings(){const _0x2c12ee=_0x1df5ec;if(!actionTargetId)return;const _0x576243=doc(db,_0x2c12ee(0x3d2)+appId+_0x2c12ee(0x33d),actionTargetId),_0x1032e9={'shuffle':document[_0x2c12ee(0x1d3)]('modal-shuffle-select')[_0x2c12ee(0x750)],'resultsDisplay':document[_0x2c12ee(0x1d3)](_0x2c12ee(0x79a))['value'],'timerMode':document[_0x2c12ee(0x1d3)](_0x2c12ee(0x724))['value'],'timerDuration':parseInt(document[_0x2c12ee(0x1d3)](_0x2c12ee(0x99f))[_0x2c12ee(0x750)])||0xa,'passingScore':parseInt(document['getElementById'](_0x2c12ee(0x664))[_0x2c12ee(0x750)])||0x0,'passingScore':parseInt(document[_0x2c12ee(0x1d3)](_0x2c12ee(0x664))[_0x2c12ee(0x750)])||0x0,'isAdaptive':document['getElementById'](_0x2c12ee(0x6e1))[_0x2c12ee(0x5fb)],'loopUntilPass':document[_0x2c12ee(0x1d3)](_0x2c12ee(0x32b))[_0x2c12ee(0x5fb)]};try{await updateDoc(_0x576243,{'settings':_0x1032e9}),showMessage(_0x2c12ee(0x57a)),quizSettingsModal[_0x2c12ee(0x838)][_0x2c12ee(0x8a1)](_0x2c12ee(0x46b)),actionTargetId=null;}catch(_0x520684){console[_0x2c12ee(0x2e8)]('Error\x20updating\x20quiz\x20settings:',_0x520684),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x515a4a){const _0x50f02e=_0x1df5ec;actionTargetId=_0x515a4a;const _0x30e29d=doc(db,_0x50f02e(0x3d2)+appId+_0x50f02e(0x33d),_0x515a4a);try{const _0x324a93=await getDoc(_0x30e29d);if(_0x324a93[_0x50f02e(0x63b)]()){const _0x4595ba=_0x324a93[_0x50f02e(0x5ad)](),_0x4299bc=_0x4595ba['status']||_0x50f02e(0x22b),_0x14cb34=document['getElementById'](_0x50f02e(0x5db)),_0x5589d5=document[_0x50f02e(0x1d3)](_0x50f02e(0x5c6)),_0x13165d=document[_0x50f02e(0x1d3)](_0x50f02e(0x2d1));let _0x2b30fc=_0x50f02e(0x365)+(_0x4299bc===_0x50f02e(0x22b)?_0x50f02e(0x5fb):'')+_0x50f02e(0x3b3)+(_0x4299bc===_0x50f02e(0x721)?_0x50f02e(0x5fb):'')+_0x50f02e(0x3c5)+(_0x4299bc===_0x50f02e(0x4c1)?_0x50f02e(0x5fb):'')+_0x50f02e(0x5b1);_0x14cb34['innerHTML']=_0x2b30fc;const _0x225e1d=_0x4299bc===_0x50f02e(0x4c1);_0x5589d5[_0x50f02e(0x838)]['toggle'](_0x50f02e(0x46b),!_0x225e1d),_0x13165d[_0x50f02e(0x838)][_0x50f02e(0x8f4)](_0x50f02e(0x46b),!_0x225e1d),document[_0x50f02e(0x1d3)](_0x50f02e(0x2a6))[_0x50f02e(0x750)]=_0x4595ba[_0x50f02e(0x626)]?_0x4595ba[_0x50f02e(0x626)][_0x50f02e(0x1f2)](0x0,0x10):'',document['getElementById']('quiz-end-time')['value']=_0x4595ba[_0x50f02e(0x645)]?_0x4595ba[_0x50f02e(0x645)][_0x50f02e(0x1f2)](0x0,0x10):'',_0x14cb34[_0x50f02e(0x882)]('input[name=\x22status-option\x22]')[_0x50f02e(0x722)](_0xada45b=>{const _0x598292=_0x50f02e;_0xada45b[_0x598292(0x2ca)]('change',_0x4fdbb3=>{const _0x545a8c=_0x598292,_0x308846=_0x4fdbb3[_0x545a8c(0x9ff)][_0x545a8c(0x750)]===_0x545a8c(0x35f);_0x5589d5[_0x545a8c(0x838)][_0x545a8c(0x8f4)](_0x545a8c(0x46b),!_0x308846),_0x13165d['classList'][_0x545a8c(0x8f4)]('hidden',!_0x308846);});}),quizStatusModal[_0x50f02e(0x838)][_0x50f02e(0x563)](_0x50f02e(0x46b));}}catch(_0x1201b0){console[_0x50f02e(0x2e8)](_0x50f02e(0x5d7),_0x1201b0),showMessage(_0x50f02e(0x51e));}}async function confirmQuizStatus(){const _0x39954d=_0x1df5ec;if(!actionTargetId)return;const _0x32e06b=doc(db,_0x39954d(0x3d2)+appId+_0x39954d(0x33d),actionTargetId),_0x791078=document[_0x39954d(0x870)]('input[name=\x22status-option\x22]:checked');if(!_0x791078){showMessage('กรุณาเลือกสถานะ');return;}const _0xbafc25=_0x791078[_0x39954d(0x750)];let _0x4a5748={};if(_0xbafc25==='active'||_0xbafc25===_0x39954d(0x721))_0x4a5748={'status':_0xbafc25,'startTime':null,'endTime':null};else{if(_0xbafc25===_0x39954d(0x35f)){const _0x449878=document[_0x39954d(0x1d3)]('quiz-start-time')['value'],_0x58cf56=document[_0x39954d(0x1d3)](_0x39954d(0x7b3))[_0x39954d(0x750)];if(!_0x449878&&!_0x58cf56){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x4a5748={'status':_0x39954d(0x4c1),'startTime':_0x449878?new Date(_0x449878)[_0x39954d(0x709)]():null,'endTime':_0x58cf56?new Date(_0x58cf56)[_0x39954d(0x709)]():null};}}try{await updateDoc(_0x32e06b,_0x4a5748),showMessage(_0x39954d(0x1e0)),quizStatusModal[_0x39954d(0x838)]['add'](_0x39954d(0x46b)),actionTargetId=null;}catch(_0x26386e){console[_0x39954d(0x2e8)](_0x39954d(0x777),_0x26386e),showMessage(_0x39954d(0x580));}}function listenForStudentProfiles(_0x41b822){const _0x3cca36=_0x1df5ec,_0x9bf40c=collection(db,_0x3cca36(0x3d2)+appId+_0x3cca36(0x2d9)+_0x41b822+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x9bf40c,_0x12722e=>{const _0x2ba2fa=_0x3cca36,_0x11435f=_0x12722e[_0x2ba2fa(0x994)][_0x2ba2fa(0x4e5)](_0x2c5390=>_0x2c5390[_0x2ba2fa(0x5ad)]());renderLeaderboard(_0x11435f,'leaderboard-table-body');},_0x58f151=>{const _0xc5b731=_0x3cca36;console[_0xc5b731(0x2e8)](_0xc5b731(0x9fb),_0x58f151),document[_0xc5b731(0x1d3)]('leaderboard-table-body')['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x7e6a67,_0x12b7e0){const _0x9be269=_0x1df5ec,_0x365272=document[_0x9be269(0x1d3)](_0x12b7e0);if(!_0x7e6a67||_0x7e6a67[_0x9be269(0x4a6)]===0x0){_0x365272['innerHTML']=_0x9be269(0x7fd);return;}_0x7e6a67[_0x9be269(0x1f6)]((_0x889fa2,_0x5fbba7)=>{const _0x20dfaf=_0x9be269,_0x27d687=(_0x5fbba7[_0x20dfaf(0x452)]||0x0)-(_0x889fa2[_0x20dfaf(0x452)]||0x0);if(_0x27d687!==0x0)return _0x27d687;const _0x310659=(_0x5fbba7[_0x20dfaf(0x68e)]?.[_0x20dfaf(0x914)]||0x0)-(_0x889fa2['badgesCount']?.[_0x20dfaf(0x914)]||0x0);if(_0x310659!==0x0)return _0x310659;const _0x43a481=(_0x5fbba7[_0x20dfaf(0x68e)]?.[_0x20dfaf(0x44e)]||0x0)-(_0x889fa2[_0x20dfaf(0x68e)]?.['first_try_ace']||0x0);if(_0x43a481!==0x0)return _0x43a481;const _0x36cfed=(_0x5fbba7[_0x20dfaf(0x68e)]?.[_0x20dfaf(0x3f9)]||0x0)-(_0x889fa2['badgesCount']?.[_0x20dfaf(0x3f9)]||0x0);if(_0x36cfed!==0x0)return _0x36cfed;const _0x2b6831=(_0x5fbba7[_0x20dfaf(0x68e)]?.[_0x20dfaf(0x4ea)]||0x0)-(_0x889fa2[_0x20dfaf(0x68e)]?.['quick_thinker']||0x0);if(_0x2b6831!==0x0)return _0x2b6831;return _0x889fa2[_0x20dfaf(0x414)]['localeCompare'](_0x5fbba7[_0x20dfaf(0x414)],'th');});let _0xfd9a82='';_0x7e6a67[_0x9be269(0x722)]((_0x117b24,_0x54d155)=>{const _0x4e2e1f=_0x9be269,_0x1fa810=_0x54d155+0x1,_0x4f37ab=_0x117b24[_0x4e2e1f(0x68e)]||{};let _0x726d59='';const _0x1a3693=[_0x4e2e1f(0x914),'perfect_score','first_try_ace',_0x4e2e1f(0x4ea)];_0x1a3693[_0x4e2e1f(0x722)](_0x5cde72=>{const _0x1bb87e=_0x4e2e1f;if(_0x4f37ab[_0x5cde72]>0x0){const _0x456822=Object[_0x1bb87e(0x56c)](BADGES)['find'](_0x14a635=>_0x14a635['id']===_0x5cde72);_0x456822&&(_0x5cde72===_0x1bb87e(0x914)?_0x726d59+=_0x1bb87e(0x602)+_0x456822[_0x1bb87e(0x5a4)]+_0x1bb87e(0x19e)+_0x456822[_0x1bb87e(0x476)]+_0x1bb87e(0x851):_0x726d59+=_0x1bb87e(0x602)+_0x456822[_0x1bb87e(0x5a4)]+'\x20('+_0x4f37ab[_0x5cde72]+_0x1bb87e(0x333)+_0x456822[_0x1bb87e(0x476)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x4f37ab[_0x5cde72]+_0x1bb87e(0x61a));}}),_0xfd9a82+=_0x4e2e1f(0x907)+_0x1fa810+_0x4e2e1f(0x66b)+_0x117b24[_0x4e2e1f(0x414)]+_0x4e2e1f(0x262)+(_0x117b24[_0x4e2e1f(0x452)]||0x0)+_0x4e2e1f(0x66b)+(_0x726d59||'-')+_0x4e2e1f(0x94c);}),_0x365272[_0x9be269(0x9e2)]=_0xfd9a82;}function displayLoopScreen(_0x4fd492,_0xb99af9,_0x3117c5){const _0x2858e2=_0x1df5ec;let _0x59089a='';_0x3117c5!=='show_pass_fail_only'&&(_0x59089a=_0x2858e2(0x7af)+_0x4fd492+_0x2858e2(0x9fe)+_0xb99af9+_0x2858e2(0x766));const _0x2b44aa=_0x2858e2(0x1d4)+_0x59089a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x2b44aa,studentResultArea[_0x2858e2(0x838)]['remove'](_0x2858e2(0x46b)),studentQuizArea[_0x2858e2(0x838)][_0x2858e2(0x8a1)](_0x2858e2(0x46b)),document[_0x2858e2(0x1d3)](_0x2858e2(0x8c8))[_0x2858e2(0x2ca)](_0x2858e2(0x3c6),()=>{const _0x18cb88=_0x2858e2;studentResultArea['classList'][_0x18cb88(0x8a1)](_0x18cb88(0x46b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x25c2c3,_0x3ff2ef,_0x27505a){const _0x5e3701=_0x1df5ec,_0x299053=document[_0x5e3701(0x1d3)](_0x27505a),_0x379d31=_0x27505a===_0x5e3701(0x9cb),_0xc14a5=_0x3ff2ef['questions'][_0x5e3701(0x4a6)],_0x394639=document['getElementById'](_0x27505a)['closest'](_0x5e3701(0x6d6));if(_0x394639&&!_0x379d31){const _0x336a86=_0x394639[_0x5e3701(0x870)](_0x5e3701(0x95b));_0x336a86[_0x5e3701(0x9e2)]=_0x5e3701(0x824);}if(!_0x25c2c3||_0x25c2c3[_0x5e3701(0x4a6)]===0x0){_0x299053['innerHTML']=_0x5e3701(0x1a2)+(_0x379d31?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x251333=[..._0x25c2c3];_0x251333['sort']((_0x3f1291,_0x3b0880)=>{const _0xf4ff14=_0x5e3701;let _0x242051,_0x11737b;switch(quizLeaderboardSortBy){case'studentName':_0x242051=_0x3f1291[_0xf4ff14(0x414)]||'',_0x11737b=_0x3b0880[_0xf4ff14(0x414)]||'';return quizLeaderboardSortOrder===_0xf4ff14(0x54d)?_0x242051[_0xf4ff14(0x3d7)](_0x11737b,'th'):_0x11737b[_0xf4ff14(0x3d7)](_0x242051,'th');case _0xf4ff14(0x343):_0x242051=_0x3f1291['points']||0x0,_0x11737b=_0x3b0880['points']||0x0;break;case _0xf4ff14(0x2b5):_0x242051=_0x3f1291['attempts']?.[_0xf4ff14(0x4a6)]||0x1,_0x11737b=_0x3b0880[_0xf4ff14(0x2b5)]?.[_0xf4ff14(0x4a6)]||0x1;break;case _0xf4ff14(0x92d):_0x242051=new Date(_0x3f1291[_0xf4ff14(0x92d)]),_0x11737b=new Date(_0x3b0880['latestSubmittedAt']);break;case _0xf4ff14(0x868):default:_0x242051=_0x3f1291[_0xf4ff14(0x868)],_0x11737b=_0x3b0880[_0xf4ff14(0x868)];break;}if(_0x242051<_0x11737b)return quizLeaderboardSortOrder===_0xf4ff14(0x54d)?-0x1:0x1;if(_0x242051>_0x11737b)return quizLeaderboardSortOrder===_0xf4ff14(0x54d)?0x1:-0x1;return 0x0;});const _0x279e34=_0x3ff2ef['isRemedial']===!![],_0x1129f9=_0x3ff2ef[_0x5e3701(0x8d2)]?.['passingScore']??-0x1;let _0x1bf9cf='';_0x251333[_0x5e3701(0x722)]((_0x3f60f2,_0x3e7766)=>{const _0x49892d=_0x5e3701,_0x126b17=_0x3e7766+0x1;let _0x5a3cbe=_0x49892d(0x97d);if(_0x279e34||_0x1129f9!==-0x1){let _0x449c50=_0x279e34?_0x3f60f2[_0x49892d(0x868)]===_0xc14a5:_0x3f60f2[_0x49892d(0x868)]>=_0x1129f9;const _0x1a48f9=_0x449c50?_0x49892d(0x6e6):'bg-red-100\x20text-red-800',_0x5f5943=_0x449c50?'ผ่าน':'ไม่ผ่าน';_0x5a3cbe='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1a48f9+'\x22>'+_0x5f5943+_0x49892d(0x650);}const _0x3a17a6=_0x3f60f2[_0x49892d(0x2b5)][_0x3f60f2[_0x49892d(0x2b5)][_0x49892d(0x4a6)]-0x1],_0x3dfa2b=(_0x3a17a6[_0x49892d(0x7bd)]||[])['map'](_0x4f9ba5=>{const _0x587d20=_0x49892d,_0x1382b8=Object[_0x587d20(0x56c)](BADGES)[_0x587d20(0x500)](_0x53a172=>_0x53a172['id']===_0x4f9ba5);return _0x1382b8?_0x587d20(0x715)+_0x1382b8[_0x587d20(0x5a4)]+_0x587d20(0x68b)+_0x1382b8['icon']+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x1bf9cf+=_0x49892d(0x7de)+_0x126b17+_0x49892d(0x9b9)+_0x3f60f2[_0x49892d(0x414)]+_0x49892d(0x332)+_0x3f60f2[_0x49892d(0x868)]+'\x20/\x20'+_0xc14a5+_0x49892d(0x409)+_0x5a3cbe+_0x49892d(0x3bd)+(_0x3f60f2[_0x49892d(0x343)]||0x0)+_0x49892d(0x409)+(_0x379d31?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x3f60f2[_0x49892d(0x2b5)]?.[_0x49892d(0x4a6)]||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x379d31?'':_0x49892d(0x233)+new Date(_0x3f60f2[_0x49892d(0x92d)])[_0x49892d(0x6e4)](_0x49892d(0x8e1))+'</td>')+_0x49892d(0x734)+(_0x3dfa2b||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x299053[_0x5e3701(0x9e2)]=_0x1bf9cf,_0x394639&&!_0x379d31&&_0x394639[_0x5e3701(0x882)]('thead\x20.sortable-header')[_0x5e3701(0x722)](_0x5e55ab=>{const _0x5bc4ce=_0x5e3701,_0x4f84f2=_0x5e55ab[_0x5bc4ce(0x870)](_0x5bc4ce(0x319));if(_0x4f84f2)_0x4f84f2[_0x5bc4ce(0x563)]();_0x5e55ab[_0x5bc4ce(0x984)]['sort']===quizLeaderboardSortBy&&(_0x5e55ab[_0x5bc4ce(0x9e2)]+=_0x5bc4ce(0x800)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x1c94f3){const _0x38c800=_0x1df5ec;if(!currentQuizData||!currentQuizData['id']||!_0x1c94f3){showMessage(_0x38c800(0x385));return;}showConfirmation(_0x38c800(0x3e9)+_0x1c94f3+_0x38c800(0x727),async()=>{const _0x36d09c=_0x38c800,_0x1c1d94=currentQuizData['id'],_0xf363cb=doc(db,_0x36d09c(0x3d2)+appId+_0x36d09c(0x86b)+_0x1c1d94+'/submissions',_0x1c94f3);try{await deleteDoc(_0xf363cb),showMessage(_0x36d09c(0x733)+_0x1c94f3+_0x36d09c(0x634));}catch(_0x3c2827){console['error'](_0x36d09c(0x70c),_0x3c2827),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x1f57c2=_0x1df5ec,_0x4f8327=document[_0x1f57c2(0x1d3)](_0x1f57c2(0x318)),_0x22a042=_0x4f8327[_0x1f57c2(0x750)][_0x1f57c2(0x72a)]();if(!_0x22a042){showMessage(_0x1f57c2(0x3d9));return;}loadQuizBtn[_0x1f57c2(0x31d)]=!![],loadQuizBtn[_0x1f57c2(0x9e2)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x157a1e=doc(db,_0x1f57c2(0x3d2)+appId+_0x1f57c2(0x33d),_0x22a042),_0x5ad583=await getDoc(_0x157a1e);if(!_0x5ad583[_0x1f57c2(0x63b)]()){showMessage(_0x1f57c2(0x7a0));return;}currentQuizData={'id':_0x5ad583['id'],..._0x5ad583[_0x1f57c2(0x5ad)]()};const _0x2c4105=currentQuizData[_0x1f57c2(0x71b)]||_0x1f57c2(0x22b),_0x5447a5=new Date();if(_0x2c4105===_0x1f57c2(0x721)){showMessage(_0x1f57c2(0x4c4));return;}if(_0x2c4105===_0x1f57c2(0x4c1)){const _0x2b4c12=currentQuizData[_0x1f57c2(0x626)]?new Date(currentQuizData['startTime']):null,_0x4f7a26=currentQuizData[_0x1f57c2(0x645)]?new Date(currentQuizData[_0x1f57c2(0x645)]):null;if(_0x2b4c12&&_0x5447a5<_0x2b4c12){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x2b4c12[_0x1f57c2(0x6e4)](_0x1f57c2(0x8e1),{'hour12':![]}));return;}if(_0x4f7a26&&_0x5447a5>_0x4f7a26){showMessage(_0x1f57c2(0x99e));return;}}const _0x1d77a2=currentQuizData[_0x1f57c2(0x642)];currentProjectId=_0x1d77a2;const _0x484ad8=doc(db,_0x1f57c2(0x3d2)+appId+_0x1f57c2(0x8bc),_0x1d77a2),_0x29c32e=await getDoc(_0x484ad8);if(!_0x29c32e[_0x1f57c2(0x63b)]()){showMessage(_0x1f57c2(0x717));return;}const _0x1fc761=_0x29c32e[_0x1f57c2(0x5ad)]();currentStudentProjectData=_0x1fc761,displayStudentNameSelector(_0x1fc761[_0x1f57c2(0x4f6)],currentQuizData[_0x1f57c2(0x37f)]);}catch(_0x4a8131){console[_0x1f57c2(0x2e8)](_0x1f57c2(0x9be),_0x4a8131),showMessage(_0x1f57c2(0x936));}finally{loadQuizBtn[_0x1f57c2(0x31d)]=![],loadQuizBtn[_0x1f57c2(0x9e2)]=_0x1f57c2(0x204);}}async function handleJoinLiveGame(){const _0x1fd87b=_0x1df5ec,_0x4555af=document[_0x1fd87b(0x1d3)](_0x1fd87b(0x7cb)),_0x4ccfbf=document['getElementById']('nickname-input'),_0x2d6bd2=document[_0x1fd87b(0x1d3)](_0x1fd87b(0x28e)),_0x2c855c=_0x4555af[_0x1fd87b(0x750)][_0x1fd87b(0x72a)](),_0x5bc580=_0x4ccfbf[_0x1fd87b(0x750)][_0x1fd87b(0x72a)]();if(!_0x2c855c||!_0x5bc580){showMessage(_0x1fd87b(0x546));return;}_0x2d6bd2[_0x1fd87b(0x31d)]=!![],_0x2d6bd2[_0x1fd87b(0x9e2)]=_0x1fd87b(0x707);try{const _0x25285f=collection(db,'artifacts/'+appId+_0x1fd87b(0x65d)),_0x58ea74=query(_0x25285f,where(_0x1fd87b(0x9da),'==',_0x2c855c),where('status','in',[_0x1fd87b(0x927),_0x1fd87b(0x446)])),_0x2d54fb=await getDocs(_0x58ea74);if(_0x2d54fb['empty']){showMessage(_0x1fd87b(0x912));return;}const _0x4c8d19=_0x2d54fb[_0x1fd87b(0x994)][0x0],_0x4cf492=_0x4c8d19[_0x1fd87b(0x5ad)]();currentLiveGameId=_0x4c8d19['id'];const _0x490b13=_0x4cf492[_0x1fd87b(0x352)],_0x3023c1=doc(db,'artifacts/'+appId+_0x1fd87b(0x33d),_0x490b13),_0x5b297c=await getDoc(_0x3023c1);if(!_0x5b297c[_0x1fd87b(0x63b)]()){showMessage(_0x1fd87b(0x78f));return;}currentQuizData={'id':_0x5b297c['id'],..._0x5b297c[_0x1fd87b(0x5ad)]()};if(_0x4cf492[_0x1fd87b(0x3eb)]&&_0x4cf492[_0x1fd87b(0x3eb)][_0x5bc580]){const _0x28e954=_0x4cf492['players'][_0x5bc580];if(_0x28e954[_0x1fd87b(0x71b)]===_0x1fd87b(0x721)){_0x2d6bd2[_0x1fd87b(0x9e2)]=_0x1fd87b(0x433);const _0x24948e={};_0x24948e['players.'+_0x5bc580+_0x1fd87b(0x96c)]=_0x1fd87b(0x22b),await updateDoc(doc(db,_0x1fd87b(0x3d2)+appId+_0x1fd87b(0x65d),currentLiveGameId),_0x24948e),showView(_0x1fd87b(0x934)),currentStudentName=_0x5bc580,listenForLiveGameUpdates();return;}else{showMessage(_0x1fd87b(0x5fd));return;}}if(_0x4cf492['status']!==_0x1fd87b(0x927)){showMessage(_0x1fd87b(0x9f6));return;}_0x2d6bd2[_0x1fd87b(0x9e2)]=_0x1fd87b(0x38b);const _0xbaa16c={};_0xbaa16c[_0x1fd87b(0x5a8)+_0x5bc580]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x1fd87b(0x22b)},await updateDoc(doc(db,'artifacts/'+appId+_0x1fd87b(0x65d),currentLiveGameId),_0xbaa16c),currentStudentName=_0x5bc580,listenForLiveGameUpdates();}catch(_0x36d4b3){console[_0x1fd87b(0x2e8)](_0x1fd87b(0x7bb),_0x36d4b3),showMessage(_0x1fd87b(0x8a0));}finally{_0x2d6bd2[_0x1fd87b(0x31d)]=![],_0x2d6bd2['innerHTML']=_0x1fd87b(0x1cb);}}function displayStudentNameSelector(_0x58619f,_0x51308f){const _0x702e77=_0x1df5ec,_0xdef965=document[_0x702e77(0x1d3)]('student-name-select');document[_0x702e77(0x1d3)](_0x702e77(0x883))['textContent']=_0x702e77(0x7e8)+_0x51308f,!_0x58619f||_0x58619f[_0x702e77(0x4a6)]===0x0?(_0xdef965['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0xdef965[_0x702e77(0x9e2)]=_0x702e77(0x1ca),_0x58619f[_0x702e77(0x722)](_0x3ce2dd=>{const _0x345e68=_0x702e77,_0x53496d=document[_0x345e68(0x757)]('option');_0x53496d['value']=_0x3ce2dd,_0x53496d['textContent']=_0x3ce2dd,_0xdef965[_0x345e68(0x378)](_0x53496d);}),startQuizBtn[_0x702e77(0x31d)]=![]),studentInitialView[_0x702e77(0x838)][_0x702e77(0x8a1)](_0x702e77(0x46b)),studentNameSelectionView[_0x702e77(0x838)]['remove']('hidden');}function shuffleArray(_0x2d4942){const _0x5503a0=_0x1df5ec;for(let _0x4178a2=_0x2d4942['length']-0x1;_0x4178a2>0x0;_0x4178a2--){const _0xbe0dbe=Math[_0x5503a0(0x5f0)](Math[_0x5503a0(0x998)]()*(_0x4178a2+0x1));[_0x2d4942[_0x4178a2],_0x2d4942[_0xbe0dbe]]=[_0x2d4942[_0xbe0dbe],_0x2d4942[_0x4178a2]];}}function getShuffledQuiz(_0x1debd5){const _0x77db5=_0x1df5ec;let _0x599bdc=JSON[_0x77db5(0x4de)](JSON[_0x77db5(0x5c7)](_0x1debd5));const _0x1613d0=_0x599bdc[_0x77db5(0x8d2)]?.['shuffle']||_0x77db5(0x9f2);if(_0x1613d0===_0x77db5(0x9f2))return _0x599bdc;return(_0x1613d0===_0x77db5(0x443)||_0x1613d0==='both')&&shuffleArray(_0x599bdc['questions']),(_0x1613d0===_0x77db5(0x610)||_0x1613d0===_0x77db5(0x220))&&_0x599bdc[_0x77db5(0x8f0)][_0x77db5(0x722)](_0x2d6350=>{const _0xd75cf6=_0x77db5,_0x514a05=_0x2d6350[_0xd75cf6(0x24e)]||_0x599bdc[_0xd75cf6(0x3fd)];if(_0x2d6350[_0xd75cf6(0x611)]){let _0x231bec=_0x2d6350['options'][_0xd75cf6(0x4e5)]((_0x27ce6e,_0x33ec37)=>({'text':_0x27ce6e,'isCorrect':_0x33ec37===_0x2d6350['correctAnswerIndex']}));shuffleArray(_0x231bec),_0x2d6350[_0xd75cf6(0x611)]=_0x231bec['map'](_0x2f702e=>_0x2f702e['text']),_0x2d6350[_0xd75cf6(0x261)]=_0x231bec['findIndex'](_0x975c29=>_0x975c29['isCorrect']);}_0x514a05===_0xd75cf6(0x2b3)&&_0x2d6350['allResponses']&&shuffleArray(_0x2d6350[_0xd75cf6(0x3fb)]);}),_0x599bdc;}function displayQuizForStudent(_0x3cda79){const _0x3261a7=_0x1df5ec;studentQuizArea[_0x3261a7(0x838)][_0x3261a7(0x563)](_0x3261a7(0x46b)),currentDisplayedQuiz=getShuffledQuiz(_0x3cda79);currentMode!==_0x3261a7(0x3d3)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x3261a7(0x9ea),handleFullscreenChange),document['addEventListener'](_0x3261a7(0x7d3),handleVisibilityChange),enterFullscreen(),window[_0x3261a7(0x2ca)]('mousemove',resetDimTimer),window['addEventListener'](_0x3261a7(0x1ed),resetDimTimer),window[_0x3261a7(0x2ca)](_0x3261a7(0x537),resetDimTimer),window[_0x3261a7(0x2ca)](_0x3261a7(0x92b),resetDimTimer),resetDimTimer());const _0x2ebeb8=currentDisplayedQuiz[_0x3261a7(0x8d2)]?.[_0x3261a7(0x53a)]||_0x3261a7(0x9f2);if(_0x2ebeb8===_0x3261a7(0x53e))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x3261a7(0x8d2)]['timerDuration']);else _0x2ebeb8===_0x3261a7(0x81d)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x3ea42e=_0x1df5ec;let _0x3a8118='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x3ea42e(0x37f)]+_0x3ea42e(0x2c9)+(currentMode==='admin-testing'?_0x3ea42e(0x889):'')+_0x3ea42e(0x3df);currentDisplayedQuiz['questions'][_0x3ea42e(0x722)]((_0x51c323,_0x2b28de)=>{const _0x3d0a39=_0x3ea42e,_0x4f334f=_0x51c323[_0x3d0a39(0x24e)]||currentDisplayedQuiz[_0x3d0a39(0x3fd)];_0x3a8118+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x4f334f===_0x3d0a39(0x2b3)?_0x3a8118+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x2b28de+0x1)+'.\x20'+_0x51c323[_0x3d0a39(0x41d)]+_0x3d0a39(0x6c9)+_0x2b28de+_0x3d0a39(0x49b)+_0x51c323[_0x3d0a39(0x3fb)][_0x3d0a39(0x4e5)](_0x59cfea=>_0x3d0a39(0x59a)+_0x59cfea+'\x22>'+_0x59cfea+'</option>')[_0x3d0a39(0x30f)]('')+_0x3d0a39(0x75f):(_0x3a8118+='<p>'+(_0x2b28de+0x1)+'.\x20'+(_0x51c323[_0x3d0a39(0x5bf)]||_0x51c323[_0x3d0a39(0x4f1)])+'</p>',_0x51c323[_0x3d0a39(0x317)]&&(_0x3a8118+=_0x3d0a39(0x20e)+_0x51c323[_0x3d0a39(0x317)]+_0x3d0a39(0x587)));_0x3a8118+=_0x3d0a39(0x88d);switch(_0x4f334f){case _0x3d0a39(0x44f):_0x3a8118+=_0x3d0a39(0x2d5)+_0x2b28de+_0x3d0a39(0x53b);break;case _0x3d0a39(0x3fc):_0x3a8118+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2b28de+_0x3d0a39(0x4a7)+_0x2b28de+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2b28de+_0x3d0a39(0x2a3),_0x3a8118+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2b28de+_0x3d0a39(0x4ee)+_0x2b28de+_0x3d0a39(0x772)+_0x2b28de+_0x3d0a39(0x996);break;case _0x3d0a39(0x2b3):break;case _0x3d0a39(0x371):case _0x3d0a39(0x9ab):default:_0x3a8118+=_0x51c323[_0x3d0a39(0x611)][_0x3d0a39(0x4e5)]((_0x3d3249,_0x5535a6)=>_0x3d0a39(0x50e)+_0x2b28de+_0x3d0a39(0x7db)+_0x5535a6+'\x22\x20name=\x22question'+_0x2b28de+_0x3d0a39(0x663)+_0x5535a6+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x2b28de+_0x3d0a39(0x7db)+_0x5535a6+'\x22>'+_0x3d3249+_0x3d0a39(0x32f))[_0x3d0a39(0x30f)]('');break;}_0x3a8118+=_0x3d0a39(0x31e);}),_0x3a8118+=_0x3ea42e(0x52a),_0x3a8118+=_0x3ea42e(0x478),studentQuizArea[_0x3ea42e(0x9e2)]=_0x3a8118;if(currentMode===_0x3ea42e(0x3d3)){const _0x40e4da=document[_0x3ea42e(0x1d3)](_0x3ea42e(0x4c9));if(_0x40e4da)_0x40e4da[_0x3ea42e(0x2ca)]('click',cancelAdminTest);}document[_0x3ea42e(0x1d3)](_0x3ea42e(0x19b))['addEventListener'](_0x3ea42e(0x80f),handleSubmitQuiz);if(window[_0x3ea42e(0x327)])window[_0x3ea42e(0x327)][_0x3ea42e(0x9a3)]([studentQuizArea]);}async function handleSubmitQuiz(_0x434a0c){const _0x5e6e8c=_0x1df5ec;if(_0x434a0c)_0x434a0c['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3c4e1f=document[_0x5e6e8c(0x1d3)](_0x5e6e8c(0x19b));if(!_0x3c4e1f)return;const _0x12507b=_0x3c4e1f['querySelector'](_0x5e6e8c(0x82f)),_0x5eeaf3=currentDisplayedQuiz[_0x5e6e8c(0x8f0)][_0x5e6e8c(0x22e)](_0x4b15fd=>_0x4b15fd[_0x5e6e8c(0x24e)]===_0x5e6e8c(0x44f));_0x12507b&&(_0x12507b['disabled']=!![],_0x5eeaf3?_0x12507b[_0x5e6e8c(0x9e2)]=_0x5e6e8c(0x4a5):_0x12507b[_0x5e6e8c(0x9e2)]=_0x5e6e8c(0x90b));const _0x1a505e=new FormData(_0x3c4e1f),_0x3719da=currentDisplayedQuiz[_0x5e6e8c(0x8f0)][_0x5e6e8c(0x4e5)]((_0x57754c,_0x2f46fd)=>{const _0x1de7e0=_0x5e6e8c,_0x2e1919=_0x57754c[_0x1de7e0(0x24e)]||currentDisplayedQuiz[_0x1de7e0(0x3fd)],_0x43e551=_0x1a505e[_0x1de7e0(0x1d2)]('question'+_0x2f46fd);if(_0x43e551!==null&&_0x43e551!==undefined){if(_0x2e1919==='multiple_choice'||_0x2e1919===_0x1de7e0(0x371))return parseInt(_0x43e551);return _0x43e551;}return null;}),_0x43890a=currentQuizData['id'],_0x1517d1=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x43890a+_0x5e6e8c(0x386),currentStudentName),_0x24e92e=await getDoc(_0x1517d1),_0x45770f=_0x24e92e['exists']()?_0x24e92e['data']():{},_0x5d3de7=_0x45770f['attempts']||[];await processAndSubmitAnswers(_0x3719da,_0x5d3de7);}async function gradeShortAnswerWithAI(_0x3a1e9d,_0x513212){const _0x5c1ca5=_0x1df5ec;if(!_0x3a1e9d||!_0x513212)return![];try{const _0x3ec893=_0x5c1ca5(0x1cc)+_0x3a1e9d+_0x5c1ca5(0x5bd)+_0x513212+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x34c90b={'contents':[{'role':'user','parts':[{'text':_0x3ec893}]}]},_0x549497='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x5740a4='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x549497,_0x5cefa5=await fetch(_0x5740a4,{'method':_0x5c1ca5(0x5dc),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5c1ca5(0x5c7)](_0x34c90b)});if(!_0x5cefa5['ok'])throw new Error(_0x5c1ca5(0x1b2));const _0x1b8850=await _0x5cefa5[_0x5c1ca5(0x6ab)](),_0x353115=_0x1b8850['candidates'][0x0][_0x5c1ca5(0x969)][_0x5c1ca5(0x39c)][0x0][_0x5c1ca5(0x836)]['trim']()[_0x5c1ca5(0x852)]();return _0x353115===_0x5c1ca5(0x9cf);}catch(_0x498273){return console[_0x5c1ca5(0x2e8)](_0x5c1ca5(0x956),_0x498273),![];}}async function processAndSubmitAnswers(_0x1c65a4,_0x707484){const _0x595304=_0x1df5ec;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x595304(0x853)](_0x595304(0x9ea),handleFullscreenChange),document[_0x595304(0x853)](_0x595304(0x7d3),handleVisibilityChange);let _0x2397c4=0x0,_0x3426b3=0x0,_0x6ae625=[];const _0x38a246=[],_0x4f7b5b=currentDisplayedQuiz[_0x595304(0x8f0)][_0x595304(0x4a6)];let _0x4382e5=0x0;const _0x116167=currentDisplayedQuiz[_0x595304(0x8f0)];for(let _0x456f1c=0x0;_0x456f1c<_0x116167[_0x595304(0x4a6)];_0x456f1c++){const _0x5a03c5=_0x116167[_0x456f1c],_0x42d397=_0x1c65a4[_0x456f1c],_0xcc5bbb=_0x5a03c5[_0x595304(0x24e)]||currentDisplayedQuiz[_0x595304(0x3fd)];let _0x50e327=![];if(_0x42d397!==null&&_0x42d397!=='')switch(_0xcc5bbb){case _0x595304(0x2b3):_0x50e327=_0x42d397===_0x5a03c5[_0x595304(0x4cd)];break;case _0x595304(0x3fc):const _0x13e01c=_0x42d397===!![]||_0x42d397===_0x595304(0x9cf);_0x50e327=_0x13e01c===_0x5a03c5[_0x595304(0x232)];break;case _0x595304(0x371):case _0x595304(0x9ab):default:_0x50e327=Number(_0x42d397)===_0x5a03c5[_0x595304(0x261)];break;case _0x595304(0x44f):_0x50e327=await gradeShortAnswer(_0x42d397,_0x5a03c5);break;}_0x50e327?(_0x2397c4++,_0x4382e5++,_0x4382e5===0x3&&(_0x6ae625[_0x595304(0x3f2)](BADGES['ON_FIRE']['id']),_0x4382e5=0x0)):_0x4382e5=0x0;let _0x4e6644=null;_0x5a03c5[_0x595304(0x611)]&&_0x42d397!==null&&(_0x4e6644=_0x5a03c5[_0x595304(0x611)][_0x42d397]),_0x38a246[_0x595304(0x3f2)]({'questionId':_0x5a03c5['id'],'answer':_0x42d397,'answerText':_0x4e6644,'isCorrect':_0x50e327,'originalQuestionText':_0x5a03c5[_0x595304(0x41d)]||_0x5a03c5[_0x595304(0x4f1)]});}_0x3426b3=_0x2397c4*0xa;_0x2397c4===_0x4f7b5b&&_0x4f7b5b>0x0&&!currentDisplayedQuiz[_0x595304(0x78b)]&&(_0x3426b3+=0x32,_0x6ae625['push'](BADGES[_0x595304(0x5fc)]['id']));const _0x239f65=currentDisplayedQuiz['settings']?.[_0x595304(0x229)]??Math['floor'](_0x4f7b5b/0x2),_0x406879=currentDisplayedQuiz['settings']?.[_0x595304(0x53a)];if(_0x406879===_0x595304(0x53e)&&quizStartTime){const _0x9ff0f6=(new Date()-quizStartTime)/0x3e8,_0x193051=currentDisplayedQuiz[_0x595304(0x8d2)][_0x595304(0x751)]*0x3c;_0x2397c4>=_0x239f65&&_0x9ff0f6<_0x193051/0x2&&(_0x3426b3+=0x14,_0x6ae625[_0x595304(0x3f2)](BADGES[_0x595304(0x96b)]['id']));}_0x707484[_0x595304(0x4a6)]===0x0&&_0x2397c4===_0x4f7b5b&&_0x4f7b5b>0x0&&_0x6ae625['push'](BADGES[_0x595304(0x661)]['id']);if(_0x707484[_0x595304(0x4a6)]>0x0){const _0x34be13=_0x707484[0x0][_0x595304(0x74f)];if(_0x34be13<_0x239f65&&_0x2397c4>=_0x239f65){const _0x8356cf=_0x707484['some'](_0x1cad8c=>(_0x1cad8c[_0x595304(0x7bd)]||[])[_0x595304(0x8b3)](BADGES['COMEBACK_KING']['id']));!_0x8356cf&&_0x6ae625[_0x595304(0x3f2)](BADGES[_0x595304(0x97a)]['id']);}}_0x707484[_0x595304(0x4a6)]===0x4&&_0x6ae625['push'](BADGES[_0x595304(0x797)]['id']);const _0x5d8833=currentDisplayedQuiz[_0x595304(0x8d2)][_0x595304(0x534)];if(currentMode===_0x595304(0x3d3)){handleResultDisplay(_0x5d8833,_0x2397c4,_0x3426b3,_0x6ae625,_0x38a246,_0x4f7b5b);return;}const _0x2fa699=currentQuizData['id'],_0x69db58=doc(db,_0x595304(0x3d2)+appId+_0x595304(0x86b)+_0x2fa699+'/submissions',currentStudentName);try{const _0x5d423c=[..._0x707484],_0x51c576={'score':_0x2397c4,'points':_0x3426b3,'badges':_0x6ae625,'submittedAt':new Date()[_0x595304(0x709)](),'answers':_0x38a246};_0x5d423c['push'](_0x51c576);const _0x3e4d34=_0x5d423c[0x0]['score'],_0x3b18c3=Math[_0x595304(0x1fd)](..._0x5d423c[_0x595304(0x4e5)](_0x290f32=>_0x290f32[_0x595304(0x74f)])),_0x35bfac=_0x2397c4,_0x3045a7=_0x51c576[_0x595304(0x860)];await setDoc(_0x69db58,{'studentName':currentStudentName,'totalQuestions':_0x4f7b5b,'attempts':_0x5d423c,'firstScore':_0x3e4d34,'bestScore':_0x3b18c3,'latestScore':_0x35bfac,'points':_0x3426b3,'latestSubmittedAt':_0x3045a7},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x5d8833,_0x2397c4,_0x3426b3,_0x6ae625,_0x38a246,_0x4f7b5b);}catch(_0x326b76){console[_0x595304(0x2e8)](_0x595304(0x422),_0x326b76),showMessage(_0x595304(0x5aa));}}async function updateStudentProfile(_0x3ab797,_0x38bb79){const _0x3a153e=_0x1df5ec,_0x536194=doc(db,_0x3a153e(0x3d2)+appId+_0x3a153e(0x2d9)+_0x3ab797+_0x3a153e(0x7b6),_0x38bb79);try{const _0x481978=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x3a153e(0x642),'==',_0x3ab797)),_0x40322c=await getDocs(_0x481978),_0x50d453=new Map(_0x40322c[_0x3a153e(0x994)][_0x3a153e(0x4e5)](_0x56a9c5=>[_0x56a9c5['id'],_0x56a9c5[_0x3a153e(0x5ad)]()])),_0x273678=Array[_0x3a153e(0x201)](_0x50d453[_0x3a153e(0x8bf)]());await runTransaction(db,async _0xacdca4=>{const _0x3772c1=_0x3a153e;let _0x1a2758=0x0;const _0x3b10d5={};let _0x4b03d2=!![],_0x1c19e6=0x0,_0x3bbc7c=0x0;for(const _0x2185f3 of _0x273678){const _0x391416=_0x50d453[_0x3772c1(0x1d2)](_0x2185f3),_0x385288=doc(db,_0x3772c1(0x3d2)+appId+_0x3772c1(0x86b)+_0x2185f3+_0x3772c1(0x386),_0x38bb79),_0x61baf4=await _0xacdca4[_0x3772c1(0x1d2)](_0x385288);if(_0x61baf4[_0x3772c1(0x63b)]()){const _0x5cb692=_0x61baf4[_0x3772c1(0x5ad)](),_0x2bbe4b=_0x5cb692[_0x3772c1(0x2b5)]||[];if(_0x2bbe4b[_0x3772c1(0x4a6)]>0x0){const _0x15f2e1=_0x2bbe4b[_0x3772c1(0x439)]((_0x1c4c17,_0x291c91)=>{const _0x3c3230=_0x3772c1;if(_0x291c91[_0x3c3230(0x74f)]>_0x1c4c17['score'])return _0x291c91;if(_0x291c91[_0x3c3230(0x74f)]===_0x1c4c17[_0x3c3230(0x74f)])return(_0x291c91[_0x3c3230(0x343)]||0x0)>(_0x1c4c17[_0x3c3230(0x343)]||0x0)?_0x291c91:_0x1c4c17;return _0x1c4c17;},{'score':-0x1,'points':-0x1});_0x15f2e1[_0x3772c1(0x74f)]>-0x1&&(_0x1a2758+=_0x15f2e1['points']||0x0,(_0x15f2e1[_0x3772c1(0x7bd)]||[])[_0x3772c1(0x722)](_0x1fd63a=>{_0x3b10d5[_0x1fd63a]=(_0x3b10d5[_0x1fd63a]||0x0)+0x1;}));}}if(_0x391416[_0x3772c1(0x37f)]!==_0x3772c1(0x4fe)){_0x3bbc7c++;if(_0x61baf4['exists']()){_0x1c19e6++;const _0xfdeacc=_0x61baf4[_0x3772c1(0x5ad)]();_0xfdeacc[_0x3772c1(0x868)]!==_0xfdeacc[_0x3772c1(0x975)]&&(_0x4b03d2=![]);}else _0x4b03d2=![];}}_0x3bbc7c>0x0&&_0x1c19e6===_0x3bbc7c&&_0x4b03d2?_0x3b10d5[_0x3772c1(0x914)]=0x1:_0x3b10d5[_0x3772c1(0x914)]=0x0,_0xacdca4['set'](_0x536194,{'studentName':_0x38bb79,'totalPoints':_0x1a2758,'unlockedBadges':Object[_0x3772c1(0x8bf)](_0x3b10d5)['filter'](_0x265525=>_0x3b10d5[_0x265525]>0x0),'badgesCount':_0x3b10d5},{'merge':!![]});});}catch(_0x3bda5a){console[_0x3a153e(0x2e8)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x3bda5a),showMessage(_0x3a153e(0x6f2));}}function startAdminTest(){const _0x2c5f5e=_0x1df5ec;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x19a640=JSON['parse'](JSON[_0x2c5f5e(0x5c7)](currentQuizData));currentMode=_0x2c5f5e(0x3d3),currentStudentName=_0x2c5f5e(0x590),adminView[_0x2c5f5e(0x838)][_0x2c5f5e(0x8a1)](_0x2c5f5e(0x46b)),studentView[_0x2c5f5e(0x838)][_0x2c5f5e(0x563)](_0x2c5f5e(0x46b)),studentInitialView[_0x2c5f5e(0x838)]['add'](_0x2c5f5e(0x46b)),studentNameSelectionView[_0x2c5f5e(0x838)]['add'](_0x2c5f5e(0x46b)),studentResultArea['classList'][_0x2c5f5e(0x8a1)](_0x2c5f5e(0x46b)),studentQuizArea[_0x2c5f5e(0x838)][_0x2c5f5e(0x563)](_0x2c5f5e(0x46b)),quizStartTime=new Date(),displayQuizForStudent(_0x19a640);}function handleResultDisplay(_0x212e1f,_0x2c1746,_0x36acd0,_0x98bb56,_0x4182f5,_0x7931ed){const _0x27473b=_0x1df5ec;if(_0x212e1f===_0x27473b(0x2f6)){displaySubmissionConfirmation();return;}const _0x1772cb=currentDisplayedQuiz[_0x27473b(0x8d2)]?.[_0x27473b(0x229)]??Math['floor'](_0x7931ed/0x2),_0x109ded=currentDisplayedQuiz[_0x27473b(0x8d2)]?.['isAdaptive']??![],_0x2c9753=currentDisplayedQuiz[_0x27473b(0x8d2)]?.[_0x27473b(0x369)]===!![],_0x29e297=_0x2c1746<_0x1772cb,_0x489d4c=_0x212e1f===_0x27473b(0x535)||_0x212e1f===_0x27473b(0x9a8);if(_0x2c9753&&_0x29e297&&!_0x489d4c){_0x212e1f===_0x27473b(0x881)?displayResultsWithAnswers(_0x2c1746,_0x36acd0,_0x98bb56,_0x4182f5,_0x7931ed,!![]):displayLoopScreen(_0x2c1746,_0x7931ed,_0x212e1f);return;}if(_0x109ded&&_0x29e297){startAdaptiveFlow(_0x4182f5,_0x2c1746,_0x7931ed);return;}switch(_0x212e1f){case _0x27473b(0x881):displayResultsWithAnswers(_0x2c1746,_0x36acd0,_0x98bb56,_0x4182f5,_0x7931ed);break;case _0x27473b(0x900):displayResultsScoreOnly(_0x2c1746,_0x36acd0,_0x98bb56,_0x7931ed);break;case _0x27473b(0x57e):displayPassFailOnly(_0x2c1746,_0x7931ed);break;case'half_mark_status':displayHalfMarkResult(_0x2c1746,_0x7931ed);break;case _0x27473b(0x9a8):displayPerfectScoreResult(_0x2c1746,_0x7931ed);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4b86c9){const _0x41443b=_0x1df5ec;studentReadingArea[_0x41443b(0x9e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x40f26e=_0x41443b(0x398)+_0x4b86c9+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x4df7d1={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x41443b(0x951)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x41443b(0x951)}},'required':[_0x41443b(0x4f1),'options',_0x41443b(0x261),'explanation']},_0x1e2962={'type':_0x41443b(0x1d9),'properties':{'topic':{'type':_0x41443b(0x951)},'questions':{'type':_0x41443b(0x989),'items':_0x4df7d1}},'required':[_0x41443b(0x37f),_0x41443b(0x8f0)]};try{const _0x179746=await callAnalysisApi(_0x40f26e,_0x1e2962);_0x179746[_0x41443b(0x78b)]=!![],studentReadingArea['classList'][_0x41443b(0x8a1)](_0x41443b(0x46b));const _0x38468d={...currentDisplayedQuiz[_0x41443b(0x8d2)],'isAdaptive':![],'resultsDisplay':_0x41443b(0x881)};_0x179746[_0x41443b(0x8d2)]=_0x38468d,displayQuizForStudent(_0x179746);}catch(_0x4e4568){console['error'](_0x41443b(0x4d1),_0x4e4568),showMessage(_0x41443b(0x7c0)),showView(_0x41443b(0x98a));}}function displayPassFailOnly(_0x4e8384,_0xa850b3){const _0x6d7809=_0x1df5ec,_0x14b398=currentDisplayedQuiz[_0x6d7809(0x8d2)]?.[_0x6d7809(0x229)]??-0x1,_0x45676a=currentDisplayedQuiz[_0x6d7809(0x78b)]===!![];let _0x478816='',_0x324290=![];if(_0x45676a||_0x14b398!==-0x1){_0x324290=_0x45676a?_0x4e8384===_0xa850b3:_0x4e8384>=_0x14b398;const _0x59c42f=_0x324290?_0x6d7809(0x6e6):'bg-red-100\x20text-red-800',_0xc94b9d=_0x324290?'ผ่าน':_0x6d7809(0x75e);_0x478816=_0x6d7809(0x6e8)+_0x59c42f+'\x22>'+_0xc94b9d+_0x6d7809(0x713);}else _0x478816=_0x6d7809(0x2b2);let _0x3d8086=_0x6d7809(0x4c6)+currentStudentName+_0x6d7809(0x7c6)+_0x478816+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x6d7809(0x9e2)]=_0x3d8086,studentResultArea[_0x6d7809(0x838)]['remove']('hidden'),studentQuizArea[_0x6d7809(0x838)][_0x6d7809(0x8a1)](_0x6d7809(0x46b)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x324290});}function cancelAdminTest(){const _0x45cb89=_0x1df5ec;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x45cb89(0x9ea),handleFullscreenChange),document[_0x45cb89(0x853)](_0x45cb89(0x7d3),handleVisibilityChange),currentMode=_0x45cb89(0x863),studentView[_0x45cb89(0x838)][_0x45cb89(0x8a1)](_0x45cb89(0x46b)),adminView[_0x45cb89(0x838)][_0x45cb89(0x563)](_0x45cb89(0x46b)),showView('project-detail');}function setupResultScreenBackButton(_0x3eb098){const _0x30eb51=_0x1df5ec,_0x2b2003={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3eb098};if(_0x2b2003[_0x30eb51(0x61b)]){const _0x9c5e60='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x30eb51(0xa01)](_0x30eb51(0x68f),_0x9c5e60),document[_0x30eb51(0x1d3)](_0x30eb51(0x8c8))[_0x30eb51(0x2ca)](_0x30eb51(0x3c6),()=>{studentResultArea['classList']['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x35a3de='back-from-results-btn',_0x2ebd06=currentMode===_0x30eb51(0x3d3),_0x4dfb59=_0x2ebd06?_0x30eb51(0x3ff):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x1017a1='';_0x2b2003['showRankings']&&(_0x1017a1+=_0x30eb51(0x877));let _0xb51820=_0x2b2003[_0x30eb51(0x2b9)];_0xb51820===undefined&&(_0xb51820=_0x2b2003[_0x30eb51(0x74f)]<_0x2b2003['totalQuestions']);_0xb51820&&(_0x1017a1+=_0x30eb51(0x8e7));_0x1017a1+='<button\x20id=\x22'+_0x35a3de+_0x30eb51(0x51a)+_0x4dfb59+'</button>';const _0x5240c9='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x1017a1+'</div>';studentResultArea[_0x30eb51(0xa01)](_0x30eb51(0x68f),_0x5240c9),studentResultArea[_0x30eb51(0x870)](_0x30eb51(0x923))?.[_0x30eb51(0x2ca)](_0x30eb51(0x3c6),handleShowStudentRankings);const _0x407ed5=studentResultArea[_0x30eb51(0x870)](_0x30eb51(0x7a5));_0x407ed5&&_0x407ed5[_0x30eb51(0x2ca)](_0x30eb51(0x3c6),()=>{const _0x459a0e=_0x30eb51;studentResultArea[_0x459a0e(0x838)]['add'](_0x459a0e(0x46b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x35a3de)['addEventListener'](_0x30eb51(0x3c6),()=>{const _0x19c9e2=_0x30eb51;_0x2ebd06?(currentMode=_0x19c9e2(0x863),studentView['classList'][_0x19c9e2(0x8a1)](_0x19c9e2(0x46b)),adminView[_0x19c9e2(0x838)][_0x19c9e2(0x563)](_0x19c9e2(0x46b)),showView('project-detail')):(showView(_0x19c9e2(0x98a)),document[_0x19c9e2(0x1d3)](_0x19c9e2(0x318))[_0x19c9e2(0x750)]='');});}function displayResultsWithAnswers(_0x52aba9,_0x1acadc,_0x3659b8,_0x415b19,_0x5ddb4f,_0x58f82e=![]){const _0xcc7233=_0x1df5ec,_0x21377e=_0x5ddb4f>0x0?_0x52aba9/_0x5ddb4f*0x64:0x0,_0x1ba8ae=currentDisplayedQuiz['settings']?.[_0xcc7233(0x229)]??-0x1,_0xaf7709=currentDisplayedQuiz['isRemedial']===!![];let _0x5ded2d='';if(_0xaf7709||_0x1ba8ae!==-0x1){let _0x1941cc=_0xaf7709?_0x52aba9===_0x5ddb4f:_0x52aba9>=_0x1ba8ae;const _0x200a60=_0x1941cc?'bg-green-100\x20text-green-800':_0xcc7233(0x1d1),_0x23a825=_0x1941cc?_0xcc7233(0x638):'ไม่ผ่าน';_0x5ded2d='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x200a60+'\x22>'+_0x23a825+_0xcc7233(0x4a3);}let _0x33bf6a=_0xcc7233(0x9ca)+currentStudentName+_0xcc7233(0x26b)+_0x52aba9+_0xcc7233(0x4fc)+_0x5ddb4f+_0xcc7233(0x7c2)+_0x5ded2d+_0xcc7233(0x1ff)+_0x1acadc+_0xcc7233(0x43e)+_0x21377e['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0xcc7233(0x8f0)][_0xcc7233(0x722)]((_0x32237a,_0x267c93)=>{const _0x13a75f=_0xcc7233,_0x5bb4fd=_0x415b19[_0x267c93],_0x573d44=_0x5bb4fd[_0x13a75f(0x92e)],_0x123367=_0x5bb4fd['isCorrect'],_0x422ba1=_0x32237a[_0x13a75f(0x24e)]||currentDisplayedQuiz[_0x13a75f(0x3fd)];_0x33bf6a+=_0x13a75f(0x987)+(_0x123367?'border-green-300\x20bg-green-50':_0x13a75f(0x4fa))+_0x13a75f(0x1a5)+(_0x267c93+0x1)+'.\x20'+(_0x32237a[_0x13a75f(0x41d)]||_0x32237a['questionText'])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x422ba1){case'matching_item':const _0x471736=_0x573d44||'ไม่ได้ตอบ',_0x3646d6=_0x32237a[_0x13a75f(0x4cd)];_0x33bf6a+=_0x13a75f(0x783)+(!_0x123367?_0x13a75f(0x312):'')+'\x22>'+_0x471736+_0x13a75f(0x50f);!_0x123367&&(_0x33bf6a+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x3646d6+_0x13a75f(0x4a3));break;case _0x13a75f(0x44f):_0x33bf6a+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x573d44||'ไม่ได้ตอบ')+_0x13a75f(0x4a3),_0x33bf6a+=_0x13a75f(0x84c)+_0x32237a[_0x13a75f(0x585)]+_0x13a75f(0x4a3);break;case'true_false':_0x33bf6a+=_0x13a75f(0x48b)+(_0x32237a['correctAnswer']===!![]?_0x13a75f(0x5cb):'')+'\x20'+(_0x573d44==='true'&&!_0x123367?_0x13a75f(0x312):'')+_0x13a75f(0x5d5),_0x33bf6a+='<p\x20class=\x22'+(_0x32237a[_0x13a75f(0x232)]===![]?_0x13a75f(0x5cb):'')+'\x20'+(_0x573d44===_0x13a75f(0x8b8)&&!_0x123367?_0x13a75f(0x312):'')+_0x13a75f(0x514);break;default:_0x33bf6a+=_0x32237a[_0x13a75f(0x611)][_0x13a75f(0x4e5)]((_0x234eeb,_0xad9a9b)=>{const _0x3f8e35=_0x13a75f;let _0x283c2c='',_0x4c35d0='';if(_0xad9a9b===_0x32237a['correctAnswerIndex'])_0x283c2c=_0x3f8e35(0x5cb),_0x4c35d0=_0x3f8e35(0x36c);else _0xad9a9b===_0x573d44&&(_0x283c2c='font-bold\x20text-red-700\x20line-through',_0x4c35d0=_0x3f8e35(0x972));return'<div\x20class=\x22'+_0x283c2c+'\x22>'+_0x4c35d0+_0x234eeb+_0x3f8e35(0x587);})['join']('');break;}_0x33bf6a+=_0x13a75f(0x419)+(_0x32237a[_0x13a75f(0x6c4)]||_0x13a75f(0x289))+_0x13a75f(0x587);if(!_0x123367){const _0x3f208e=_0x32237a['stem']||_0x32237a[_0x13a75f(0x4f1)];_0x33bf6a+=_0x13a75f(0x49f)+escape(_0x3f208e)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x33bf6a+=_0x13a75f(0x587);}),studentResultArea[_0xcc7233(0x9e2)]=_0x33bf6a,renderEarnedBadges(_0x3659b8,_0xcc7233(0x226)),studentResultArea[_0xcc7233(0x838)][_0xcc7233(0x563)](_0xcc7233(0x46b)),studentQuizArea['classList'][_0xcc7233(0x8a1)](_0xcc7233(0x46b)),setupResultScreenBackButton({'isLooping':_0x58f82e,'score':_0x52aba9,'totalQuestions':_0x5ddb4f,'showRankings':!![]});if(window[_0xcc7233(0x327)])window['MathJax'][_0xcc7233(0x9a3)]([studentResultArea]);}function displayResultsScoreOnly(_0x5cdd0b,_0x575d9b,_0xf3a557,_0x5e3ff0){const _0x2f1123=_0x1df5ec,_0xd90c26=_0x5e3ff0>0x0?_0x5cdd0b/_0x5e3ff0*0x64:0x0,_0x4f331d=currentDisplayedQuiz['settings']?.[_0x2f1123(0x229)]??-0x1,_0x32f1e7=currentDisplayedQuiz[_0x2f1123(0x78b)]===!![];let _0x614c2='';if(_0x32f1e7||_0x4f331d!==-0x1){let _0x167d5e=_0x32f1e7?_0x5cdd0b===_0x5e3ff0:_0x5cdd0b>=_0x4f331d;const _0x315895=_0x167d5e?_0x2f1123(0x6e6):'bg-red-100\x20text-red-800',_0x5f2be6=_0x167d5e?_0x2f1123(0x638):_0x2f1123(0x75e);_0x614c2=_0x2f1123(0x8af)+_0x315895+'\x22>'+_0x5f2be6+_0x2f1123(0x4a3);}let _0x2f624d=_0x2f1123(0x4c6)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x5cdd0b+_0x2f1123(0x7e6)+_0x5e3ff0+_0x2f1123(0x7c2)+_0x614c2+_0x2f1123(0x1ff)+_0x575d9b+_0x2f1123(0x87d)+_0xd90c26[_0x2f1123(0x2a1)](0x0)+_0x2f1123(0x895);studentResultArea[_0x2f1123(0x9e2)]=_0x2f624d,renderEarnedBadges(_0xf3a557,'earned-badges-container'),studentResultArea[_0x2f1123(0x838)]['remove'](_0x2f1123(0x46b)),studentQuizArea[_0x2f1123(0x838)][_0x2f1123(0x8a1)]('hidden'),setupResultScreenBackButton({'score':_0x5cdd0b,'totalQuestions':_0x5e3ff0,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x5ddc55=_0x1df5ec;let _0x2eaa3e=_0x5ddc55(0x944)+currentStudentName+_0x5ddc55(0x63f);studentResultArea[_0x5ddc55(0x9e2)]=_0x2eaa3e,studentResultArea[_0x5ddc55(0x838)][_0x5ddc55(0x563)]('hidden'),studentQuizArea[_0x5ddc55(0x838)][_0x5ddc55(0x8a1)]('hidden'),document[_0x5ddc55(0x1d3)](_0x5ddc55(0x966))[_0x5ddc55(0x2ca)](_0x5ddc55(0x3c6),()=>{const _0x5dec32=_0x5ddc55;showView(_0x5dec32(0x98a)),document[_0x5dec32(0x1d3)]('quiz-id-input')[_0x5dec32(0x750)]='';});}function renderEarnedBadges(_0x4000eb,_0x189c65){const _0x15e22f=_0x1df5ec,_0x516db8=document[_0x15e22f(0x1d3)](_0x189c65);if(!_0x516db8||!_0x4000eb||_0x4000eb['length']===0x0)return;let _0x676319='';_0x4000eb['forEach']((_0x9bb95,_0x51acdd)=>{const _0x179694=_0x15e22f,_0x1a1459=Object[_0x179694(0x56c)](BADGES)[_0x179694(0x500)](_0x5c96e9=>_0x5c96e9['id']===_0x9bb95);_0x1a1459&&(_0x676319+=_0x179694(0x2dc)+_0x51acdd*0.2+_0x179694(0x88c)+_0x1a1459[_0x179694(0x25b)]+_0x179694(0x758)+_0x1a1459[_0x179694(0x476)]+_0x179694(0x629)+_0x1a1459[_0x179694(0x5a4)]+_0x179694(0x7e2));}),_0x516db8[_0x15e22f(0x9e2)]=_0x676319;}function startPresentation(_0xe7de02){const _0x30be0a=_0x1df5ec;currentQuizData=getShuffledQuiz(_0xe7de02),currentPresentationSlide=0x0,presentationModal[_0x30be0a(0xa10)][_0x30be0a(0x236)]=_0x30be0a(0x8c9),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x28d0eb=_0x1df5ec;document[_0x28d0eb(0x6fc)]&&document['exitFullscreen'](),presentationModal[_0x28d0eb(0xa10)][_0x28d0eb(0x236)]=_0x28d0eb(0x9f2);}function renderPresentationSlide(_0x416fe4){const _0x40e9a8=_0x1df5ec,_0xf9eee4=document[_0x40e9a8(0x1d3)](_0x40e9a8(0x3d5));if(!currentQuizData||!currentQuizData[_0x40e9a8(0x8f0)]||!currentQuizData[_0x40e9a8(0x8f0)][_0x416fe4]){_0xf9eee4[_0x40e9a8(0x9e2)]=_0x40e9a8(0x5e4);return;}const _0x1e6fb3=currentQuizData[_0x40e9a8(0x8f0)][_0x416fe4],_0x5e3d33=_0x1e6fb3[_0x40e9a8(0x24e)]||currentQuizData[_0x40e9a8(0x3fd)];_0xf9eee4[_0x40e9a8(0x9e2)]='';let _0x263a0f=_0x40e9a8(0x6af)+(_0x1e6fb3[_0x40e9a8(0x317)]?_0x40e9a8(0x20e)+_0x1e6fb3['imageCode']+_0x40e9a8(0x587):'')+_0x40e9a8(0x5c0)+(_0x416fe4+0x1)+'.\x20'+(_0x1e6fb3['stem']||_0x1e6fb3['questionText'])+_0x40e9a8(0x241);switch(_0x5e3d33){case _0x40e9a8(0x2b3):_0x263a0f+=_0x1e6fb3['allResponses']['map'](_0x314444=>_0x40e9a8(0x7ee)+_0x314444+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x40e9a8(0x30f)]('');break;case _0x40e9a8(0x3fc):_0x263a0f+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x263a0f+=_0x40e9a8(0x507);break;case'fill_in_no_choices':case'short_answer':_0x263a0f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x40e9a8(0x371):case _0x40e9a8(0x9ab):default:_0x263a0f+=_0x1e6fb3[_0x40e9a8(0x611)][_0x40e9a8(0x4e5)]((_0x317ec1,_0x360deb)=>_0x40e9a8(0x3e3)+_0x360deb+_0x40e9a8(0x30c)+_0x317ec1+_0x40e9a8(0x3e8))[_0x40e9a8(0x30f)]('');break;}_0x263a0f+=_0x40e9a8(0x4dc)+(_0x1e6fb3[_0x40e9a8(0x6c4)]||_0x40e9a8(0x289))+_0x40e9a8(0x933),_0xf9eee4[_0x40e9a8(0x9e2)]=_0x263a0f;if(window[_0x40e9a8(0x327)])window[_0x40e9a8(0x327)][_0x40e9a8(0x9a3)]([_0xf9eee4]);let _0x564ec7=[];switch(_0x5e3d33){case _0x40e9a8(0x2b3):_0x564ec7=_0x1e6fb3['allResponses']||[];break;case _0x40e9a8(0x3fc):_0x564ec7=[_0x40e9a8(0x35e),_0x40e9a8(0x87e)];break;default:_0x564ec7=_0x1e6fb3[_0x40e9a8(0x611)]||[];break;}const _0x2c6aa3=document['getElementById'](_0x40e9a8(0x22c));_0x2c6aa3&&(_0x2c6aa3[_0x40e9a8(0x4d5)]=()=>{openScratchpad(_0x1e6fb3,_0x564ec7);});document['querySelectorAll'](_0x40e9a8(0x773))['forEach'](_0x1517d9=>{const _0x33054f=_0x40e9a8;_0x1517d9[_0x33054f(0x2ca)](_0x33054f(0x3c6),_0x1a27f2=>revealAnswerForPresentation(_0x416fe4,_0x1a27f2[_0x33054f(0x1e6)]));});const _0x3bc11a=document[_0x40e9a8(0x1d3)](_0x40e9a8(0x25a));_0x3bc11a&&_0x3bc11a[_0x40e9a8(0x2ca)]('click',()=>checkShortAnswerForPresentation(_0x416fe4)),document[_0x40e9a8(0x1d3)](_0x40e9a8(0x416))[_0x40e9a8(0x5b0)]=_0x40e9a8(0x6d2)+(_0x416fe4+0x1)+'\x20/\x20'+currentQuizData['questions']['length'],document[_0x40e9a8(0x1d3)](_0x40e9a8(0x7c8))[_0x40e9a8(0x31d)]=_0x416fe4===0x0,document[_0x40e9a8(0x1d3)](_0x40e9a8(0x781))[_0x40e9a8(0x31d)]=_0x416fe4===currentQuizData[_0x40e9a8(0x8f0)][_0x40e9a8(0x4a6)]-0x1;}async function checkShortAnswerForPresentation(_0x5d9e1a){const _0x258c97=_0x1df5ec,_0x174546=currentQuizData['questions'][_0x5d9e1a],_0x73d38a=document[_0x258c97(0x1d3)](_0x258c97(0x556)),_0x49c84c=document[_0x258c97(0x1d3)](_0x258c97(0x25a)),_0x9a2f11=document[_0x258c97(0x1d3)](_0x258c97(0x209)),_0x49e30c=document[_0x258c97(0x1d3)](_0x258c97(0x885));if(!_0x73d38a||!_0x49c84c||!_0x9a2f11||!_0x49e30c)return;const _0x4ab188=_0x73d38a[_0x258c97(0x750)]['trim']();if(_0x4ab188==='')return;_0x49c84c[_0x258c97(0x31d)]=!![],_0x49c84c[_0x258c97(0x9e2)]=_0x258c97(0x4b6),_0x73d38a[_0x258c97(0x31d)]=!![];const _0x292f31=await gradeShortAnswer(_0x4ab188,_0x174546);_0x292f31?_0x9a2f11['innerHTML']=_0x258c97(0x793):_0x9a2f11[_0x258c97(0x9e2)]=_0x258c97(0x52d)+_0x174546['idealAnswer']+')',_0x9a2f11['classList'][_0x258c97(0x563)](_0x258c97(0x46b)),_0x49e30c[_0x258c97(0x838)][_0x258c97(0x563)]('hidden'),_0x49c84c['classList']['add'](_0x258c97(0x46b));}function revealAnswerForPresentation(_0x42928a,_0x1ccdc6){const _0xf7c8a2=_0x1df5ec,_0x4e0907=currentQuizData[_0xf7c8a2(0x8f0)][_0x42928a],_0x5cc42e=_0x4e0907[_0xf7c8a2(0x24e)]||currentQuizData[_0xf7c8a2(0x3fd)];document[_0xf7c8a2(0x882)](_0xf7c8a2(0x773))['forEach'](_0x1781b7=>{const _0x2d9dc6=_0xf7c8a2;_0x1781b7['disabled']=!![],_0x1781b7[_0x2d9dc6(0x838)][_0x2d9dc6(0x563)](_0x2d9dc6(0x5e8));let _0x1eb6d3=![];if(_0x5cc42e==='multiple_choice'||_0x5cc42e===_0x2d9dc6(0x371)){const _0x1938e2=parseInt(_0x1781b7[_0x2d9dc6(0x984)][_0x2d9dc6(0x988)]);_0x1eb6d3=_0x1938e2===_0x4e0907[_0x2d9dc6(0x261)];}else{if(_0x5cc42e===_0x2d9dc6(0x3fc)){const _0x5ab9eb=_0x1781b7[_0x2d9dc6(0x984)][_0x2d9dc6(0x92e)]===_0x2d9dc6(0x9cf);_0x1eb6d3=_0x5ab9eb===_0x4e0907[_0x2d9dc6(0x232)];}else _0x5cc42e===_0x2d9dc6(0x2b3)&&(_0x1eb6d3=_0x1781b7[_0x2d9dc6(0x5b0)][_0x2d9dc6(0x72a)]()===_0x4e0907[_0x2d9dc6(0x4cd)]);}_0x1eb6d3?_0x1781b7['classList'][_0x2d9dc6(0x8a1)]('bg-green-500',_0x2d9dc6(0x702),_0x2d9dc6(0x2e1)):_0x1781b7['classList'][_0x2d9dc6(0x8a1)]('opacity-50');}),_0x1ccdc6[_0xf7c8a2(0x838)][_0xf7c8a2(0x563)](_0xf7c8a2(0x64d));let _0x391d11=![];if(_0x5cc42e===_0xf7c8a2(0x9ab))_0x391d11=parseInt(_0x1ccdc6['dataset']['index'])===_0x4e0907['correctAnswerIndex'];else{if(_0x5cc42e===_0xf7c8a2(0x3fc))_0x391d11=_0x1ccdc6[_0xf7c8a2(0x984)][_0xf7c8a2(0x92e)]==='true'===_0x4e0907[_0xf7c8a2(0x232)];else _0x5cc42e==='matching_item'&&(_0x391d11=_0x1ccdc6[_0xf7c8a2(0x5b0)]['trim']()===_0x4e0907['correctResponse']);}!_0x391d11&&_0x1ccdc6['classList'][_0xf7c8a2(0x8a1)](_0xf7c8a2(0x842),_0xf7c8a2(0x702),'border-red-700'),document['getElementById']('presentation-explanation')[_0xf7c8a2(0x838)][_0xf7c8a2(0x563)](_0xf7c8a2(0x46b));}function startWholeQuizTimer(_0xde2a43){const _0x2d8694=_0x1df5ec,_0x2097dd=document[_0x2d8694(0x1d3)]('timer-container');if(!_0x2097dd)return;const _0x2fa28b=Date[_0x2d8694(0x47a)]()+_0xde2a43*0x3c*0x3e8;_0x2097dd[_0x2d8694(0x9e2)]=_0x2d8694(0x962);const _0x1f0859=document[_0x2d8694(0x1d3)](_0x2d8694(0x655));quizTimerInterval=setInterval(()=>{const _0x254b36=_0x2d8694,_0x2d9729=_0x2fa28b-Date['now']();if(_0x2d9729<=0x0)clearInterval(quizTimerInterval),_0x1f0859[_0x254b36(0x5b0)]='00:00',showMessage(_0x254b36(0x2d6)),handleSubmitQuiz(null);else{const _0x44f3f4=Math[_0x254b36(0x5f0)](_0x2d9729/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x5980b9=Math[_0x254b36(0x5f0)](_0x2d9729/0x3e8%0x3c)[_0x254b36(0x316)]()[_0x254b36(0x2ed)](0x2,'0');_0x1f0859[_0x254b36(0x5b0)]=_0x44f3f4+':'+_0x5980b9;}},0x3e8);}function renderPerQuestionView(){const _0x385908=_0x1df5ec;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x138e26=currentDisplayedQuiz[_0x385908(0x8f0)][currentQuestionIndex],_0x48635a=_0x138e26[_0x385908(0x24e)]||currentDisplayedQuiz['quizType'];let _0x3a658a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x385908(0x615)+currentDisplayedQuiz[_0x385908(0x8f0)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x385908(0x889):'')+_0x385908(0x847)+currentDisplayedQuiz[_0x385908(0x37f)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x385908(0x8f0)][_0x385908(0x4a6)]-0x1?_0x385908(0x90f):_0x385908(0x8d0))+_0x385908(0x7b7);studentQuizArea[_0x385908(0x9e2)]=_0x3a658a;let _0x145e6f='',_0x36bfa9='';switch(_0x48635a){case _0x385908(0x2b3):_0x145e6f=currentQuestionIndex+0x1+'.\x20'+_0x138e26['stem'],_0x36bfa9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x138e26[_0x385908(0x3fb)]['map'](_0x411d00=>_0x385908(0x59a)+_0x411d00+'\x22>'+_0x411d00+_0x385908(0x80d))[_0x385908(0x30f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x385908(0x3fc):_0x145e6f=currentQuestionIndex+0x1+'.\x20'+_0x138e26['questionText'],_0x36bfa9=_0x385908(0x84a);break;case _0x385908(0x44f):case _0x385908(0x620):_0x145e6f=currentQuestionIndex+0x1+'.\x20'+_0x138e26[_0x385908(0x4f1)],_0x36bfa9='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case'multiple_choice':case _0x385908(0x20f):default:_0x145e6f=currentQuestionIndex+0x1+'.\x20'+_0x138e26[_0x385908(0x4f1)],_0x36bfa9=_0x138e26[_0x385908(0x611)]['map']((_0x35ebfb,_0x91ecd5)=>_0x385908(0x60e)+_0x91ecd5+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x91ecd5+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x91ecd5+'\x22>'+_0x35ebfb+_0x385908(0x25e))[_0x385908(0x30f)]('');break;}_0x138e26[_0x385908(0x317)]&&(_0x145e6f+=_0x385908(0x20e)+_0x138e26['imageCode']+'</div>');document[_0x385908(0x1d3)](_0x385908(0x5a0))[_0x385908(0x9e2)]=_0x145e6f,document[_0x385908(0x1d3)]('per-question-options')['innerHTML']=_0x36bfa9;if(currentMode==='admin-testing'){const _0x53bb20=document[_0x385908(0x1d3)](_0x385908(0x4c9));if(_0x53bb20)_0x53bb20[_0x385908(0x2ca)]('click',cancelAdminTest);}document[_0x385908(0x1d3)]('next-question-timed-btn')[_0x385908(0x2ca)](_0x385908(0x3c6),()=>handleNextQuestionInTimedMode(![]));if(window[_0x385908(0x327)])window['MathJax']['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x41b08c=_0x1df5ec,_0x5d008c=currentDisplayedQuiz[_0x41b08c(0x8d2)][_0x41b08c(0x751)],_0x30822d=document[_0x41b08c(0x1d3)](_0x41b08c(0x92f));if(!_0x30822d)return;let _0x2f33db=_0x5d008c;_0x30822d[_0x41b08c(0x9e2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x2f33db+_0x41b08c(0x9af);const _0x2ad158=document[_0x41b08c(0x1d3)](_0x41b08c(0x3ec)),_0x13ecf4=document['getElementById'](_0x41b08c(0x548));perQuestionTimerInterval=setInterval(()=>{const _0x56be48=_0x41b08c;_0x2f33db--;const _0x323023=_0x2f33db/_0x5d008c*0x64;_0x2ad158[_0x56be48(0xa10)][_0x56be48(0x560)]=_0x323023+'%',_0x13ecf4[_0x56be48(0x5b0)]=_0x2f33db,_0x2f33db<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x56be48(0x297)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x310732=![]){const _0x2411e6=_0x1df5ec;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x10fd95=null;if(!_0x310732){const _0x132df1=currentDisplayedQuiz[_0x2411e6(0x8f0)][currentQuestionIndex],_0x376eab=_0x132df1[_0x2411e6(0x24e)]||currentDisplayedQuiz['quizType'];if(_0x376eab===_0x2411e6(0x44f)||_0x376eab===_0x2411e6(0x620)){const _0x5c6aa1=document[_0x2411e6(0x870)](_0x2411e6(0x840));_0x10fd95=_0x5c6aa1?_0x5c6aa1[_0x2411e6(0x750)][_0x2411e6(0x72a)]():'';}else{if(_0x376eab===_0x2411e6(0x2b3)){const _0x324052=document[_0x2411e6(0x870)]('#per-question-options\x20select');_0x10fd95=_0x324052?_0x324052['value']:'';}else{const _0x4cfef7=document[_0x2411e6(0x870)](_0x2411e6(0x5dd));if(_0x4cfef7){const _0x38f222=_0x4cfef7[_0x2411e6(0x750)];_0x10fd95=!isNaN(parseInt(_0x38f222,0xa))&&_0x38f222[_0x2411e6(0x72a)]()!==''?parseInt(_0x38f222,0xa):_0x38f222;}}}}studentAnswersPerQuestion[_0x2411e6(0x3f2)](_0x10fd95),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2411e6(0x8f0)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x4ed18e=_0x1df5ec,_0x4ae1c3=currentDisplayedQuiz[_0x4ed18e(0x8f0)][_0x4ed18e(0x22e)](_0x34a61d=>_0x34a61d[_0x4ed18e(0x24e)]===_0x4ed18e(0x44f));_0x4ae1c3?showMessage(_0x4ed18e(0x466)):showMessage(_0x4ed18e(0x66e));const _0x9fb77d=currentQuizData['id'],_0x30e4b7=doc(db,_0x4ed18e(0x3d2)+appId+_0x4ed18e(0x86b)+_0x9fb77d+_0x4ed18e(0x386),currentStudentName),_0x1c9d50=await getDoc(_0x30e4b7),_0x3b93e2=_0x1c9d50[_0x4ed18e(0x63b)]()?_0x1c9d50[_0x4ed18e(0x5ad)]():{},_0x2c77b4=_0x3b93e2[_0x4ed18e(0x2b5)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2c77b4);}function getResultsFilename(){const _0x1d695c=_0x1df5ec,_0x27cf4e=document[_0x1d695c(0x1d3)](_0x1d695c(0x763))[_0x1d695c(0x5b0)]['replace'](/[^a-z0-9]/gi,'_')[_0x1d695c(0x852)]();return _0x1d695c(0x4ba)+(_0x27cf4e||_0x1d695c(0x486));}function exportResultsAsImage(){const _0x1a6d41=_0x1df5ec,_0x2dd023=document['getElementById']('results-table-container');showMessage(_0x1a6d41(0x920)),html2canvas(_0x2dd023)[_0x1a6d41(0x210)](_0x37613e=>{const _0x3c43a5=_0x1a6d41,_0xdd0929=document[_0x3c43a5(0x757)]('a');_0xdd0929['download']=getResultsFilename()+_0x3c43a5(0x598),_0xdd0929[_0x3c43a5(0x815)]=_0x37613e[_0x3c43a5(0x68c)](_0x3c43a5(0x821)),_0xdd0929['click'](),messageModal['classList'][_0x3c43a5(0x8a1)](_0x3c43a5(0x46b));});}function exportResultsAsPDF(){const _0x578a88=_0x1df5ec,{jsPDF:_0xebbc0c}=window[_0x578a88(0x211)],_0x48d240=new _0xebbc0c();_0x48d240[_0x578a88(0x9f8)](_0x578a88(0x69c),_0x578a88(0x879)),_0x48d240['autoTable']({'html':_0x578a88(0x723)}),_0x48d240['save'](getResultsFilename()+_0x578a88(0x400));}function exportResultsAsWord(){const _0x2391e7=_0x1df5ec,_0x1bfde3=_0x2391e7(0x959)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x2391e7(0x6f0)+_0x2391e7(0x397),_0x4b8376='</body></html>',_0x59ac36=_0x1bfde3+document['getElementById'](_0x2391e7(0x947))[_0x2391e7(0x9e2)]+_0x4b8376,_0x3414fa=_0x2391e7(0x833)+encodeURIComponent(_0x59ac36),_0x1cad5b=document[_0x2391e7(0x757)]('a');document[_0x2391e7(0x314)]['appendChild'](_0x1cad5b),_0x1cad5b['href']=_0x3414fa,_0x1cad5b['download']=getResultsFilename()+_0x2391e7(0x8cc),_0x1cad5b['click'](),document[_0x2391e7(0x314)][_0x2391e7(0x9f7)](_0x1cad5b);}function exportResultsAsExcel(){const _0x1aedeb=_0x1df5ec,_0x1e63db=document[_0x1aedeb(0x1d3)](_0x1aedeb(0x4a9));let _0x5abe0e=[];for(let _0xdd1c8e=0x0;_0xdd1c8e<_0x1e63db[_0x1aedeb(0x6b7)]['length'];_0xdd1c8e++){let _0x18b0ba=[],_0x28cff1=_0x1e63db[_0x1aedeb(0x6b7)][_0xdd1c8e][_0x1aedeb(0x882)](_0x1aedeb(0x357));for(let _0x52f314=0x0;_0x52f314<_0x28cff1['length'];_0x52f314++){_0x18b0ba[_0x1aedeb(0x3f2)]('\x22'+_0x28cff1[_0x52f314]['innerText'][_0x1aedeb(0x8a9)](/"/g,'\x22\x22')+'\x22');}_0x5abe0e['push'](_0x18b0ba[_0x1aedeb(0x30f)](','));}const _0xd5b39b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5abe0e['join']('\x0a')],{'type':_0x1aedeb(0x281)}),_0x3d3d42=document[_0x1aedeb(0x757)]('a');_0x3d3d42[_0x1aedeb(0x815)]=URL[_0x1aedeb(0x426)](_0xd5b39b),_0x3d3d42[_0x1aedeb(0x93d)]=getResultsFilename()+_0x1aedeb(0x7bc),_0x3d3d42[_0x1aedeb(0x3c6)]();}function exportTableAsImage(_0x1f6262,_0x5bf606){const _0x4d9f08=_0x1df5ec,_0x463f4c=document[_0x4d9f08(0x1d3)](_0x1f6262);if(!_0x463f4c){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x463f4c)[_0x4d9f08(0x210)](_0xe3b0ed=>{const _0x18ebba=_0x4d9f08,_0x2270eb=document['createElement']('a');_0x2270eb[_0x18ebba(0x93d)]=_0x5bf606+'.png',_0x2270eb['href']=_0xe3b0ed[_0x18ebba(0x68c)](_0x18ebba(0x821)),_0x2270eb['click'](),messageModal[_0x18ebba(0x838)][_0x18ebba(0x8a1)]('hidden');});}function exportTableAsPDF(_0x1a189d,_0x6f4441){const _0x3c2a5f=_0x1df5ec,{jsPDF:_0x1d45f7}=window[_0x3c2a5f(0x211)],_0x459138=new _0x1d45f7();_0x459138[_0x3c2a5f(0x9f8)](_0x3c2a5f(0x69c),_0x3c2a5f(0x879)),_0x459138['autoTable']({'html':'#'+_0x1a189d}),_0x459138[_0x3c2a5f(0x871)](_0x6f4441+'.pdf');}function exportTableAsWord(_0x445c08,_0x408c69){const _0x18096c=_0x1df5ec,_0x2d3003=document[_0x18096c(0x1d3)](_0x445c08);if(!_0x2d3003){showMessage(_0x18096c(0x691));return;}const _0x151f80=_0x18096c(0x959)+_0x18096c(0x58c)+_0x18096c(0x6f0)+_0x18096c(0x397),_0x36b992=_0x18096c(0x7d6),_0x1f15e0=_0x151f80+_0x2d3003[_0x18096c(0x9e2)]+_0x36b992,_0x3bee0e=_0x18096c(0x833)+encodeURIComponent(_0x1f15e0),_0x4fb9cb=document[_0x18096c(0x757)]('a');document[_0x18096c(0x314)][_0x18096c(0x378)](_0x4fb9cb),_0x4fb9cb['href']=_0x3bee0e,_0x4fb9cb[_0x18096c(0x93d)]=_0x408c69+_0x18096c(0x8cc),_0x4fb9cb['click'](),document[_0x18096c(0x314)]['removeChild'](_0x4fb9cb);}function exportTableAsExcel(_0x4945c8,_0x366149){const _0x3519d1=_0x1df5ec,_0x25c0bd=document[_0x3519d1(0x1d3)](_0x4945c8);if(!_0x25c0bd){showMessage(_0x3519d1(0x691));return;}let _0x25ab6f=[];for(let _0x5d921d=0x0;_0x5d921d<_0x25c0bd[_0x3519d1(0x6b7)][_0x3519d1(0x4a6)];_0x5d921d++){let _0x448793=[],_0x1479fc=_0x25c0bd['rows'][_0x5d921d][_0x3519d1(0x882)](_0x3519d1(0x357));for(let _0x39c7a5=0x0;_0x39c7a5<_0x1479fc['length'];_0x39c7a5++){_0x448793['push']('\x22'+_0x1479fc[_0x39c7a5][_0x3519d1(0x2b7)][_0x3519d1(0x8a9)](/"/g,'\x22\x22')+'\x22');}_0x25ab6f['push'](_0x448793[_0x3519d1(0x30f)](','));}const _0x5d4b29=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x25ab6f['join']('\x0a')],{'type':_0x3519d1(0x281)}),_0x400838=document[_0x3519d1(0x757)]('a');_0x400838[_0x3519d1(0x815)]=URL[_0x3519d1(0x426)](_0x5d4b29),_0x400838[_0x3519d1(0x93d)]=_0x366149+'.csv',_0x400838[_0x3519d1(0x3c6)]();}function renderAnalytics(_0x59c0fb,_0x56aa3f){const _0x35780a=_0x1df5ec,_0x29b82f=_0x56aa3f[_0x35780a(0x93a)](_0x33fc46=>_0x33fc46['latestScore']!==undefined),_0x525fc3=currentProjectData[_0x35780a(0x4f6)][_0x35780a(0x4a6)],_0x368c81=_0x29b82f['length'],_0x885774=_0x525fc3-_0x368c81,_0x289ad6=_0x525fc3>0x0?_0x368c81/_0x525fc3*0x64:0x0,_0x431877=_0x29b82f[_0x35780a(0x4e5)](_0x11abf3=>_0x11abf3[_0x35780a(0x22d)]),_0xb7a3bb=_0x431877[_0x35780a(0x4a6)]>0x0?_0x431877[_0x35780a(0x439)]((_0x28e349,_0x3bafc1)=>_0x28e349+_0x3bafc1,0x0)/_0x431877['length']:0x0,_0x2cad61=_0x59c0fb['questions'][_0x35780a(0x4a6)],_0x480f5b=_0x2cad61>0x0?_0xb7a3bb/_0x2cad61*0x64:0x0,_0x341a23=calculateItemAnalysis(_0x59c0fb,_0x29b82f),_0x5ba365=calculateReliabilityKR20(_0x59c0fb,_0x29b82f,_0x341a23[_0x35780a(0x2a8)]);let _0x447450='';if(_0x5ba365!==null){let _0x112349='';if(_0x5ba365>=0.9)_0x112349='ยอดเยี่ยม';else{if(_0x5ba365>=0.8)_0x112349=_0x35780a(0x1e8);else{if(_0x5ba365>=0.7)_0x112349='ดี';else{if(_0x5ba365>=0.6)_0x112349=_0x35780a(0x4c0);else _0x112349=_0x35780a(0x8c0);}}}_0x447450=_0x35780a(0x39b)+_0x5ba365[_0x35780a(0x2a1)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x112349+_0x35780a(0x56d);}const _0x2650dc=document[_0x35780a(0x1d3)]('analytics-summary-cards');_0x2650dc['innerHTML']=_0x35780a(0x8f6)+_0x289ad6[_0x35780a(0x2a1)](0x0)+_0x35780a(0x4a4)+_0x368c81+'/'+_0x525fc3+_0x35780a(0x1fb)+_0xb7a3bb[_0x35780a(0x2a1)](0x2)+_0x35780a(0x9cc)+_0x480f5b[_0x35780a(0x2a1)](0x0)+_0x35780a(0x740)+(_0x431877[_0x35780a(0x4a6)]>0x0?Math[_0x35780a(0x1fd)](..._0x431877):_0x35780a(0x330))+_0x35780a(0x457)+(_0x431877[_0x35780a(0x4a6)]>0x0?Math['min'](..._0x431877):_0x35780a(0x330))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x447450+'\x0a\x20\x20\x20\x20';const _0x289346=document[_0x35780a(0x1d3)](_0x35780a(0x90c));_0x289346&&_0x289346[_0x35780a(0x563)]();const _0x172c6b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2650dc[_0x35780a(0xa01)](_0x35780a(0x76c),_0x172c6b);const _0x5a8de8=currentProjectData['students']||[];renderSubmissionChart(_0x368c81,_0x885774,_0x29b82f,_0x5a8de8),renderScoreDistributionChart(_0x29b82f,_0x2cad61),renderQuestionAnalytics(_0x59c0fb,_0x29b82f,_0x5a8de8),renderInterestingStats(_0x59c0fb,_0x29b82f);}async function handleExportLessonPDF(){const _0xd5d9a=_0x1df5ec,_0x63229d=document[_0xd5d9a(0x1d3)]('lesson-plan-content'),_0x1d7e29=document[_0xd5d9a(0x1d3)](_0xd5d9a(0x1d0))[_0xd5d9a(0x5b0)],_0x387e53=window[_0xd5d9a(0x846)]('',_0xd5d9a(0x5a2)),_0x184664=_0xd5d9a(0x762)+_0x1d7e29+_0xd5d9a(0x582)+_0x63229d[_0xd5d9a(0x9e2)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x387e53['document'][_0xd5d9a(0x823)](_0x184664),_0x387e53['document'][_0xd5d9a(0x8ed)](),_0x387e53[_0xd5d9a(0x5ed)]=function(){setTimeout(()=>{const _0x31e137=_0x2d6c;_0x387e53[_0x31e137(0x202)]();},0x5dc);};}function renderInterestingStats(_0x2cb0ed,_0x3e5a87){const _0x5a5140=_0x1df5ec,_0x122d77=document[_0x5a5140(0x1d3)](_0x5a5140(0x3b0));if(!_0x122d77)return;if(_0x3e5a87['length']===0x0){_0x122d77[_0x5a5140(0x9e2)]=_0x5a5140(0x464);return;}const _0x2722d7=_0x2cb0ed[_0x5a5140(0x8f0)]['map']((_0x11f668,_0xc3c2f3)=>({'index':_0xc3c2f3+0x1,'text':_0x11f668[_0x5a5140(0x4f1)]||_0x11f668[_0x5a5140(0x41d)],'correct':0x0}));_0x3e5a87[_0x5a5140(0x722)](_0x4b2cc8=>{const _0x57b613=_0x5a5140,_0x17b10b=_0x4b2cc8['attempts'][_0x4b2cc8[_0x57b613(0x2b5)][_0x57b613(0x4a6)]-0x1];_0x17b10b&&_0x17b10b['answers']&&_0x17b10b['answers'][_0x57b613(0x722)](_0x64fd5b=>{const _0x3d7088=_0x57b613,_0x55f7d5=_0x2722d7['find'](_0x20983d=>_0x20983d['text']===_0x64fd5b[_0x3d7088(0x692)]);_0x64fd5b[_0x3d7088(0x448)]&&_0x55f7d5&&_0x55f7d5[_0x3d7088(0x8cd)]++;});});const _0x355147=_0x3e5a87[_0x5a5140(0x4a6)],_0x41aedf=Math[_0x5a5140(0x1fd)](..._0x2722d7[_0x5a5140(0x4e5)](_0x1bb811=>_0x1bb811[_0x5a5140(0x8cd)])),_0x1e86f1=Math[_0x5a5140(0x79b)](..._0x2722d7[_0x5a5140(0x4e5)](_0x1bf176=>_0x1bf176[_0x5a5140(0x8cd)])),_0x251e6c=_0x2722d7[_0x5a5140(0x93a)](_0x427445=>_0x427445[_0x5a5140(0x8cd)]===_0x41aedf)[_0x5a5140(0x4e5)](_0x2d3ced=>_0x5a5140(0x5fe)+_0x2d3ced[_0x5a5140(0x988)]),_0x10f228=_0x2722d7[_0x5a5140(0x93a)](_0x30da25=>_0x30da25[_0x5a5140(0x8cd)]===_0x1e86f1)[_0x5a5140(0x4e5)](_0x44e45d=>_0x5a5140(0x5fe)+_0x44e45d[_0x5a5140(0x988)]),_0x5bca60=_0x3e5a87['sort']((_0x2a7b9e,_0x2a8f85)=>_0x2a8f85[_0x5a5140(0x22d)]-_0x2a7b9e[_0x5a5140(0x22d)])[_0x5a5140(0x93a)]((_0x5d1267,_0x3db0b9,_0x12f508)=>_0x5d1267[_0x5a5140(0x22d)]===_0x12f508[0x0][_0x5a5140(0x22d)]),_0x517c52=_0x3e5a87[_0x5a5140(0x1f6)]((_0x2fae17,_0x4435c2)=>_0x2fae17[_0x5a5140(0x22d)]-_0x4435c2[_0x5a5140(0x22d)])['filter']((_0x3ff9cd,_0x1f4e41,_0x38cb02)=>_0x3ff9cd[_0x5a5140(0x22d)]===_0x38cb02[0x0][_0x5a5140(0x22d)]),_0x5ef821=_0x5a5140(0x564)+_0x251e6c['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x41aedf+_0x5a5140(0x9fe)+_0x355147+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x10f228[_0x5a5140(0x30f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x355147-_0x1e86f1)+_0x5a5140(0x9fe)+_0x355147+_0x5a5140(0x459)+_0x5bca60[_0x5a5140(0x4e5)](_0x2010c4=>_0x2010c4['studentName'])[_0x5a5140(0x30f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x5bca60[0x0][_0x5a5140(0x22d)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x517c52[_0x5a5140(0x4e5)](_0x116bae=>_0x116bae[_0x5a5140(0x414)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x517c52[0x0][_0x5a5140(0x22d)]+_0x5a5140(0x929);_0x122d77[_0x5a5140(0x9e2)]=_0x5ef821;}function renderSubmissionChart(_0x2c2ad3,_0x4f99c3,_0x148a45,_0x58d524){const _0x2e0d24=_0x1df5ec,_0x3a3615=document[_0x2e0d24(0x1d3)](_0x2e0d24(0x3aa))['getContext']('2d'),_0x39cbeb=_0x148a45[_0x2e0d24(0x4e5)](_0x42fd99=>_0x42fd99[_0x2e0d24(0x414)]),_0x3b3b74=_0x58d524[_0x2e0d24(0x93a)](_0xbbebea=>!_0x39cbeb[_0x2e0d24(0x8b3)](_0xbbebea));chartInstances[_0x2e0d24(0x47d)]&&chartInstances[_0x2e0d24(0x47d)][_0x2e0d24(0x827)](),chartInstances[_0x2e0d24(0x47d)]=new Chart(_0x3a3615,{'type':_0x2e0d24(0x77e),'data':{'labels':[_0x2e0d24(0x61f),'ยังไม่ส่ง'],'datasets':[{'data':[_0x2c2ad3,_0x4f99c3],'backgroundColor':[_0x2e0d24(0x61d),_0x2e0d24(0x949)],'borderColor':[_0x2e0d24(0x273),_0x2e0d24(0x273)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2e0d24(0x2c4)},'tooltip':{'callbacks':{'label':function(_0x10ec2c){const _0x1dcead=_0x2e0d24;let _0x38651c=_0x10ec2c[_0x1dcead(0x7f2)]||'';return _0x38651c&&(_0x38651c+=':\x20'),_0x38651c+=_0x10ec2c[_0x1dcead(0x554)],_0x38651c;},'afterLabel':function(_0x3236e6){const _0x4bd66d=_0x2e0d24;let _0x25d173;return _0x3236e6[_0x4bd66d(0x96a)]===0x0?_0x25d173=_0x39cbeb:_0x25d173=_0x3b3b74,_0x25d173['length']>0x0?_0x25d173[_0x4bd66d(0x30f)]('\x0a'):_0x4bd66d(0x737);}}}}}});}function renderScoreDistributionChart(_0x254b80,_0x560e26){const _0x1a4e20=_0x1df5ec,_0x5926f3=document[_0x1a4e20(0x1d3)](_0x1a4e20(0x349))[_0x1a4e20(0x1a1)]('2d'),_0x515c97={};for(let _0x311fa4=0x0;_0x311fa4<=_0x560e26;_0x311fa4++){_0x515c97[_0x311fa4]=0x0;}_0x254b80[_0x1a4e20(0x722)](_0x354185=>{const _0x33f4ca=_0x1a4e20;_0x515c97[_0x354185[_0x33f4ca(0x22d)]]!==undefined&&_0x515c97[_0x354185[_0x33f4ca(0x22d)]]++;}),chartInstances[_0x1a4e20(0x74f)]&&chartInstances[_0x1a4e20(0x74f)][_0x1a4e20(0x827)](),chartInstances[_0x1a4e20(0x74f)]=new Chart(_0x5926f3,{'type':_0x1a4e20(0x577),'data':{'labels':Object[_0x1a4e20(0x8bf)](_0x515c97),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x515c97),'backgroundColor':_0x1a4e20(0x8f2),'borderColor':_0x1a4e20(0x804),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1a4e20(0x523)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x49f893){const _0x565846=_0x1a4e20,_0x52675e=_0x49f893['label'],_0x18aa87=_0x254b80[_0x565846(0x93a)](_0x3c75fd=>_0x3c75fd[_0x565846(0x22d)]==_0x52675e)[_0x565846(0x4e5)](_0x5abc6d=>_0x5abc6d[_0x565846(0x414)]);return _0x18aa87[_0x565846(0x4a6)]>0x0?_0x18aa87[_0x565846(0x30f)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x351325,_0x273dbe,_0x37b8f5){const _0x5cb94b=_0x1df5ec,_0x141b2c=document[_0x5cb94b(0x1d3)]('question-analytics-container');if(_0x37b8f5[_0x5cb94b(0x4a6)]===0x0){_0x141b2c[_0x5cb94b(0x9e2)]=_0x5cb94b(0x7e4);return;}const _0x3486e1=calculateItemAnalysis(_0x351325,_0x273dbe),_0x33a69f=calculateDistractorAnalysis(_0x351325,_0x273dbe);let _0x4a3880='';_0x3486e1[_0x5cb94b(0x363)]&&(_0x4a3880='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x3486e1['overallGroups'][_0x5cb94b(0x6df)][_0x5cb94b(0x4a6)]+_0x5cb94b(0x3ae)+_0x3486e1[_0x5cb94b(0x363)][_0x5cb94b(0x6df)][_0x5cb94b(0x4e5)](_0xbdca19=>'<li>'+_0xbdca19+'</li>')[_0x5cb94b(0x30f)]('')+_0x5cb94b(0x588)+_0x3486e1[_0x5cb94b(0x363)][_0x5cb94b(0x6a3)]['length']+_0x5cb94b(0x3ae)+_0x3486e1[_0x5cb94b(0x363)]['lowerGroupNames'][_0x5cb94b(0x4e5)](_0x124fed=>'<li>'+_0x124fed+_0x5cb94b(0x612))[_0x5cb94b(0x30f)]('')+_0x5cb94b(0x9e7));let _0x48ead5='';const _0x984158=_0x273dbe[_0x5cb94b(0x4e5)](_0x51fead=>_0x51fead[_0x5cb94b(0x414)]),_0x56b86e=_0x489f61=>{const _0x439c15=_0x5cb94b;if(_0x489f61>=0.8)return _0x439c15(0x698);if(_0x489f61>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x489f61>=0.4)return _0x439c15(0xa07);if(_0x489f61>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x43c0ee=_0x4eab18=>{const _0x252254=_0x5cb94b;if(_0x4eab18<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x4eab18>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x4eab18>=0.3)return _0x252254(0x631);if(_0x4eab18>=0.2)return _0x252254(0x421);return _0x252254(0x2f1);},_0x12a29b=_0x772ffa=>{const _0x17040d=_0x5cb94b,_0x445509=_0x772ffa[_0x17040d(0x2a1)](0x0);if(parseFloat(_0x445509)===0x64)return _0x17040d(0x34a)+_0x445509+_0x17040d(0x8bd);if(_0x772ffa>=0x32)return _0x17040d(0x5b7)+_0x445509+_0x17040d(0x8bd);return _0x17040d(0x238)+_0x445509+_0x17040d(0x8bd);};_0x351325['questions']['forEach']((_0x111c62,_0xf4f150)=>{const _0x47d2c8=_0x5cb94b,_0x3939bb=_0x3486e1['perQuestionStats'][_0xf4f150],_0x1cef7d=_0x33a69f[_0xf4f150],_0x24136f=_0x111c62[_0x47d2c8(0x41d)]||_0x111c62[_0x47d2c8(0x4f1)]||_0x111c62[_0x47d2c8(0x5bf)];let _0x356400=0x0;const _0x19f840=[],_0x344f48=[];_0x273dbe[_0x47d2c8(0x722)](_0x3bdc81=>{const _0x4663ac=_0x47d2c8,_0x111ffb=_0x3bdc81['attempts'][_0x3bdc81['attempts'][_0x4663ac(0x4a6)]-0x1];if(_0x111ffb&&_0x111ffb[_0x4663ac(0x584)]){const _0x548527=_0x111ffb[_0x4663ac(0x584)][_0x4663ac(0x500)](_0x1b4a53=>_0x1b4a53[_0x4663ac(0x692)]===_0x24136f)??_0x111ffb['answers'][_0xf4f150]??null;_0x548527&&(_0x548527[_0x4663ac(0x448)]?(_0x356400++,_0x19f840[_0x4663ac(0x3f2)](_0x3bdc81[_0x4663ac(0x414)])):_0x344f48['push'](_0x3bdc81['studentName']));}});const _0x3f1c14=_0x273dbe['length']>0x0?_0x356400/_0x273dbe[_0x47d2c8(0x4a6)]*0x64:0x0,_0x1cfe16=_0x37b8f5[_0x47d2c8(0x93a)](_0x558308=>!_0x984158[_0x47d2c8(0x8b3)](_0x558308)),_0x5eb192=_0x3939bb?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x3939bb['p']['toFixed'](0x2)+'</p><div>'+_0x56b86e(_0x3939bb['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x3939bb['r'][_0x47d2c8(0x2a1)](0x2)+_0x47d2c8(0x46a)+_0x43c0ee(_0x3939bb['r'])+_0x47d2c8(0x685)+_0x12a29b(_0x3f1c14)+_0x47d2c8(0x525):'';let _0x4d3a7='';_0x1cef7d&&(_0x4d3a7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x47d2c8(0x8bf)](_0x1cef7d)[_0x47d2c8(0x4e5)](_0x4b2058=>{const _0xce024d=_0x47d2c8,_0x33a3fe=_0x1cef7d[_0x4b2058],_0x52e1f2=parseInt(_0x4b2058)===_0x111c62['correctAnswerIndex'],_0x46096f=!_0x52e1f2&&_0x33a3fe[_0xce024d(0x216)]>_0x33a3fe['upper_group_count'];return _0xce024d(0x441)+(_0x52e1f2?_0xce024d(0x899):'')+_0xce024d(0x2f9)+(_0x52e1f2?'✔\x20':'')+_0x33a3fe[_0xce024d(0x836)]+_0xce024d(0x9eb)+_0x33a3fe[_0xce024d(0x699)]+_0xce024d(0x9eb)+_0x33a3fe[_0xce024d(0x216)]+'\x20'+(_0x46096f?'👍':'')+_0xce024d(0x9eb)+_0x33a3fe['total']+_0xce024d(0x53f);})['join']('')+_0x47d2c8(0x19a));let _0x2cf347='';_0x3939bb&&_0x3939bb[_0x47d2c8(0x6ec)]&&(_0x2cf347=_0x47d2c8(0x394)+_0x3939bb[_0x47d2c8(0x6ec)]['length']+_0x47d2c8(0x6b0)+_0x3939bb[_0x47d2c8(0x6ec)]['map'](_0x319ddd=>_0x47d2c8(0x2b8)+(_0x319ddd['isCorrect']?_0x47d2c8(0x27b):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x319ddd['name']+_0x47d2c8(0x612))[_0x47d2c8(0x30f)]('')+_0x47d2c8(0x496)+_0x3939bb['lowerGroupResponders'][_0x47d2c8(0x4a6)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x3939bb['lowerGroupResponders'][_0x47d2c8(0x4e5)](_0x492e46=>_0x47d2c8(0x2b8)+(_0x492e46[_0x47d2c8(0x448)]?_0x47d2c8(0x27b):_0x47d2c8(0x36d))+'\x20'+_0x492e46[_0x47d2c8(0x5a4)]+_0x47d2c8(0x612))[_0x47d2c8(0x30f)]('')+_0x47d2c8(0x89d)),_0x48ead5+=_0x47d2c8(0x739)+(_0xf4f150+0x1)+':\x20'+_0x24136f+_0x47d2c8(0x809)+_0x5eb192+_0x47d2c8(0x9e3)+_0x24136f+_0x47d2c8(0x342)+_0x356400+_0x47d2c8(0x615)+_0x273dbe['length']+_0x47d2c8(0x700)+_0x3f1c14[_0x47d2c8(0x2a1)](0x0)+_0x47d2c8(0x52e)+_0x19f840[_0x47d2c8(0x4a6)]+_0x47d2c8(0x6e0)+(_0x19f840[_0x47d2c8(0x4a6)]>0x0?_0x19f840[_0x47d2c8(0x30f)](',\x20'):_0x47d2c8(0x737))+_0x47d2c8(0x6b8)+_0x344f48[_0x47d2c8(0x4a6)]+_0x47d2c8(0x6e0)+(_0x344f48[_0x47d2c8(0x4a6)]>0x0?_0x344f48[_0x47d2c8(0x30f)](',\x20'):_0x47d2c8(0x737))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x1cfe16[_0x47d2c8(0x4a6)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x1cfe16['length']>0x0?_0x1cfe16[_0x47d2c8(0x30f)](',\x20'):'ไม่มี')+_0x47d2c8(0x56b)+_0x4d3a7+_0x47d2c8(0xa11)+_0x2cf347+_0x47d2c8(0x6dd);}),_0x141b2c['innerHTML']=_0x4a3880+_0x48ead5;try{window[_0x5cb94b(0x327)]&&MathJax[_0x5cb94b(0x9a3)]&&MathJax[_0x5cb94b(0x9a3)]([_0x141b2c]);}catch(_0x50b10f){console[_0x5cb94b(0x2e8)](_0x5cb94b(0x35a),_0x50b10f);}}function calculateDistractorAnalysis(_0x24ce80,_0x35bb6d){const _0x5c0b82=_0x1df5ec,_0x32d252={};if(_0x35bb6d[_0x5c0b82(0x4a6)]<0x2)return _0x32d252;const _0x13e447=[..._0x35bb6d][_0x5c0b82(0x1f6)]((_0xfb4640,_0x296480)=>{const _0x4fbe4e=_0x5c0b82,_0x25a254=_0x296480[_0x4fbe4e(0x22d)]-_0xfb4640[_0x4fbe4e(0x22d)];if(_0x25a254!==0x0)return _0x25a254;const _0x11aa57=_0xfb4640['attempts']?.[_0x4fbe4e(0x4a6)]||0x1,_0x1acc84=_0x296480[_0x4fbe4e(0x2b5)]?.[_0x4fbe4e(0x4a6)]||0x1,_0x521840=_0x11aa57-_0x1acc84;if(_0x521840!==0x0)return _0x521840;const _0x283b0a=new Date(_0xfb4640['latestSubmittedAt']),_0x3afa42=new Date(_0x296480['latestSubmittedAt']),_0x56fbd0=_0x283b0a-_0x3afa42;if(_0x56fbd0!==0x0)return _0x56fbd0;return _0xfb4640[_0x4fbe4e(0x414)][_0x4fbe4e(0x3d7)](_0x296480[_0x4fbe4e(0x414)],'th');}),_0x1990b9=_0x13e447[_0x5c0b82(0x4a6)],_0x44ffc4=Math[_0x5c0b82(0x1fd)](0x1,Math[_0x5c0b82(0x5f0)](_0x1990b9*0.33)),_0x43952d=_0x13e447['slice'](0x0,_0x44ffc4),_0x3cd2ea=_0x13e447[_0x5c0b82(0x199)](-_0x44ffc4);return _0x24ce80[_0x5c0b82(0x8f0)][_0x5c0b82(0x722)]((_0x53f87c,_0x10ad64)=>{const _0x3000ec=_0x5c0b82;if(_0x53f87c[_0x3000ec(0x24e)]!==_0x3000ec(0x9ab)||!_0x53f87c[_0x3000ec(0x611)])return;const _0x4858a1=_0x53f87c['questionText'],_0x1b5c79={};_0x53f87c['options'][_0x3000ec(0x722)]((_0x2b3b09,_0x5175d0)=>{_0x1b5c79[_0x5175d0]={'text':_0x2b3b09,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x13e447[_0x3000ec(0x722)](_0x121c63=>{const _0x20cde7=_0x3000ec,_0x5e2954=_0x121c63[_0x20cde7(0x2b5)][_0x121c63[_0x20cde7(0x2b5)][_0x20cde7(0x4a6)]-0x1],_0x1598bd=_0x5e2954['answers'][_0x20cde7(0x500)](_0x31e7cc=>_0x31e7cc['originalQuestionText']===_0x4858a1);if(_0x1598bd&&_0x1598bd[_0x20cde7(0x92e)]!==null){const _0x190aa6=_0x53f87c[_0x20cde7(0x611)][_0x20cde7(0x752)](_0x319607=>_0x319607===_0x1598bd[_0x20cde7(0x787)]);_0x190aa6!==-0x1&&_0x1b5c79[_0x190aa6]&&(_0x1b5c79[_0x190aa6][_0x20cde7(0x2aa)]++,_0x43952d[_0x20cde7(0x8b3)](_0x121c63)&&_0x1b5c79[_0x190aa6][_0x20cde7(0x699)]++,_0x3cd2ea['includes'](_0x121c63)&&_0x1b5c79[_0x190aa6]['lower_group_count']++);}}),_0x32d252[_0x10ad64]=_0x1b5c79;}),_0x32d252;}function calculateReliabilityKR20(_0x4a5c73,_0x1262e3,_0x3ca424){const _0x25e788=_0x1df5ec,_0x1674d8=_0x4a5c73[_0x25e788(0x8f0)][_0x25e788(0x4a6)];if(_0x1674d8<0x2||_0x1262e3[_0x25e788(0x4a6)]<0x2)return null;const _0x457928=_0x1262e3[_0x25e788(0x4e5)](_0x5e79c3=>_0x5e79c3['latestScore']),_0x3a951a=_0x457928[_0x25e788(0x439)]((_0x2f0a66,_0x3a4853)=>_0x2f0a66+_0x3a4853,0x0)/_0x457928[_0x25e788(0x4a6)],_0x497d9f=_0x457928[_0x25e788(0x4e5)](_0x1300d4=>Math['pow'](_0x1300d4-_0x3a951a,0x2))[_0x25e788(0x439)]((_0x52c309,_0x2101fc)=>_0x52c309+_0x2101fc,0x0)/_0x457928['length'];if(_0x497d9f===0x0)return null;let _0x3126d0=0x0;for(let _0x5ad149=0x0;_0x5ad149<_0x1674d8;_0x5ad149++){const _0x1624f9=_0x3ca424[_0x5ad149]?.['p'];if(_0x1624f9===undefined)continue;const _0x36c7af=0x1-_0x1624f9;_0x3126d0+=_0x1624f9*_0x36c7af;}if(_0x3126d0===0x0)return null;const _0x5a2c4b=_0x1674d8/(_0x1674d8-0x1)*(0x1-_0x3126d0/_0x497d9f);if(_0x5a2c4b>0x1)return null;return _0x5a2c4b;}async function handleAnalyzeClass(){const _0x447797=_0x1df5ec;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x447797(0x73b));return;}const _0x26e2b9=collection(db,'artifacts/'+appId+_0x447797(0x86b)+currentQuizData['id']+_0x447797(0x386)),_0x541b48=await getDocs(_0x26e2b9),_0x4c48bb=_0x541b48[_0x447797(0x994)][_0x447797(0x4e5)](_0x3b77ee=>_0x3b77ee['data']());if(_0x4c48bb['length']<0x2){showMessage(_0x447797(0x594));return;}const _0x4701bf=document['getElementById'](_0x447797(0x2ff));_0x4701bf[_0x447797(0x9e2)]=_0x447797(0x600),document['getElementById'](_0x447797(0x3ce))[_0x447797(0x31d)]=!![];const _0x1bc276=_0x4c48bb[_0x447797(0x4e5)]((_0x38baf2,_0x302afd)=>{const _0xe1048e=_0x447797,_0x418cf4=_0x38baf2['attempts'][_0x38baf2[_0xe1048e(0x2b5)][_0xe1048e(0x4a6)]-0x1];if(!_0x418cf4)return'';return _0xe1048e(0x6f3)+(_0x302afd+0x1)+'\x20('+_0x38baf2[_0xe1048e(0x414)]+_0xe1048e(0x711)+_0x418cf4[_0xe1048e(0x74f)]+'/'+_0x38baf2[_0xe1048e(0x975)]+_0xe1048e(0x608)+JSON[_0xe1048e(0x5c7)](_0x418cf4[_0xe1048e(0x584)])+_0xe1048e(0x81b);})[_0x447797(0x30f)](_0x447797(0x543)),_0xb7c56a=_0x447797(0x303)+currentQuizData[_0x447797(0x37f)]+_0x447797(0x533)+JSON[_0x447797(0x5c7)](currentQuizData[_0x447797(0x8f0)])+_0x447797(0x412)+_0x1bc276+_0x447797(0x99d),_0xe85881={'type':'OBJECT','properties':{'classStrengths':{'type':_0x447797(0x989),'items':{'type':_0x447797(0x951)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x447797(0x951)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x447797(0x951)}}},'required':[_0x447797(0x255),_0x447797(0x222),'teacherSuggestions']};try{const _0x4e1a91=await callAnalysisApi(_0xb7c56a,_0xe85881);displayClassAnalysis(_0x4e1a91);}catch(_0x451b24){console[_0x447797(0x2e8)](_0x447797(0x407),_0x451b24),_0x4701bf['innerHTML']='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x451b24[_0x447797(0x298)]+_0x447797(0x7a3);}finally{document['getElementById'](_0x447797(0x3ce))[_0x447797(0x31d)]=![];}}function displayClassAnalysis(_0x3e1752){const _0x42c0ef=_0x1df5ec,_0x5b7d23=document['getElementById'](_0x42c0ef(0x2ff));if(!_0x3e1752){_0x5b7d23[_0x42c0ef(0x9e2)]=_0x42c0ef(0x440);return;}_0x5b7d23['innerHTML']=_0x42c0ef(0x45f)+_0x3e1752[_0x42c0ef(0x255)][_0x42c0ef(0x4e5)](_0x31518b=>_0x42c0ef(0x2b8)+_0x31518b+_0x42c0ef(0x612))[_0x42c0ef(0x30f)]('')+_0x42c0ef(0x28c)+_0x3e1752[_0x42c0ef(0x222)]['map'](_0xfd738f=>_0x42c0ef(0x2b8)+_0xfd738f+_0x42c0ef(0x612))[_0x42c0ef(0x30f)]('')+_0x42c0ef(0x637)+_0x3e1752[_0x42c0ef(0x812)]['map'](_0xce90f5=>_0x42c0ef(0x2b8)+_0xce90f5+_0x42c0ef(0x612))['join']('')+_0x42c0ef(0x80c);}function formatAndPrintWorksheet(_0x279daa,_0x49d36c){const _0x135f80=_0x1df5ec,_0x5b9c61='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x279daa[_0x135f80(0x37f)]+_0x135f80(0x8a6)+_0x279daa['topic']+_0x135f80(0x1c3)+_0x279daa[_0x135f80(0x8f0)][_0x135f80(0x4e5)]((_0x26367e,_0x1d4e53)=>_0x135f80(0x725)+(_0x1d4e53+0x1)+'.\x20'+_0x26367e[_0x135f80(0x4f1)]+_0x135f80(0x223)+(_0x26367e['imageCode']?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x26367e['imageCode']+_0x135f80(0x587):'')+_0x135f80(0x308))[_0x135f80(0x30f)]('')+_0x135f80(0x5a7);_0x49d36c['document'][_0x135f80(0x823)](_0x5b9c61),_0x49d36c['document']['close'](),_0x49d36c[_0x135f80(0x5ed)]=function(){setTimeout(()=>{const _0x1f6a4c=_0x2d6c;_0x49d36c[_0x1f6a4c(0x202)]();},0x3e8);};}async function generateWorksheet(){const _0x429cab=_0x1df5ec,_0x4cacb2=document[_0x429cab(0x1d3)](_0x429cab(0xa0a))[_0x429cab(0x750)]['trim']();if(!_0x4cacb2){showMessage(_0x429cab(0x212));return;}const _0x40c29e=document[_0x429cab(0x1d3)](_0x429cab(0x91f))['checked'],_0xd2ff7f=_0x40c29e?'':_0x429cab(0x28f),_0x52ca4d=window[_0x429cab(0x846)]('',_0x429cab(0x5a2));_0x52ca4d['document'][_0x429cab(0x823)](_0x429cab(0x649));const _0x369ec3=parseInt(document[_0x429cab(0x1d3)](_0x429cab(0x1be))[_0x429cab(0x750)]),_0x4d7de3=document['getElementById']('include-images-checkbox')['checked'],_0x32afc7=_0x4d7de3?_0x429cab(0x8e5):'',_0x3c5034=_0x429cab(0xa08)+_0xd2ff7f+_0x429cab(0x3f7)+_0x369ec3+_0x429cab(0x4bc)+_0x4cacb2+_0x429cab(0x512)+_0x32afc7+_0x429cab(0x460)+simpleMathPrompt+_0x429cab(0x2dd),_0x3db803={'type':_0x429cab(0x1d9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x429cab(0x989),'items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x429cab(0x951)}},'required':[_0x429cab(0x4f1)]}}},'required':[_0x429cab(0x37f),'questions']};document[_0x429cab(0x1d3)]('loader-text')[_0x429cab(0x5b0)]='',document[_0x429cab(0x1d3)](_0x429cab(0x960))['classList'][_0x429cab(0x563)](_0x429cab(0x46b)),document[_0x429cab(0x1d3)](_0x429cab(0x980))[_0x429cab(0x838)]['remove'](_0x429cab(0x46b)),generateWorksheetBtn[_0x429cab(0x31d)]=!![];try{const _0x3d3da3=await callAnalysisApi(_0x3c5034,_0x3db803);formatAndPrintWorksheet(_0x3d3da3,_0x52ca4d);}catch(_0x388b96){console[_0x429cab(0x2e8)](_0x429cab(0x21a),_0x388b96);if(_0x52ca4d)_0x52ca4d[_0x429cab(0x8ed)]();showMessage(_0x429cab(0x324));}finally{document[_0x429cab(0x1d3)](_0x429cab(0x960))[_0x429cab(0x838)][_0x429cab(0x8a1)](_0x429cab(0x46b)),document[_0x429cab(0x1d3)](_0x429cab(0x980))[_0x429cab(0x838)]['add']('hidden'),generateWorksheetBtn[_0x429cab(0x31d)]=![];}}async function callAnalysisApi(_0x481b42,_0x1e3429){const _0x1b1fcc=_0x1df5ec,_0x19cba2={'contents':[{'role':_0x1b1fcc(0x313),'parts':[{'text':_0x481b42}]}],'generationConfig':{'responseMimeType':_0x1b1fcc(0x494),'responseSchema':_0x1e3429}},_0xf0375b=_0x1b1fcc(0x7d8),_0x4dc66b=_0x1b1fcc(0x429)+_0xf0375b,_0x107b24=await fetch(_0x4dc66b,{'method':'POST','headers':{'Content-Type':_0x1b1fcc(0x494)},'body':JSON[_0x1b1fcc(0x5c7)](_0x19cba2)});if(!_0x107b24['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x107b24[_0x1b1fcc(0x71b)]);const _0xcbb341=await _0x107b24['json']();if(_0xcbb341[_0x1b1fcc(0x292)]?.[0x0]?.[_0x1b1fcc(0x969)]?.['parts']?.[0x0])return JSON['parse'](_0xcbb341['candidates'][0x0]['content'][_0x1b1fcc(0x39c)][0x0]['text']);else{let _0xd9bc74=_0x1b1fcc(0x3ee);if(_0xcbb341[_0x1b1fcc(0x38a)]?.['blockReason'])_0xd9bc74=_0x1b1fcc(0x91e)+_0xcbb341[_0x1b1fcc(0x38a)][_0x1b1fcc(0x562)]+'.';else _0xcbb341['candidates']?.[0x0]?.[_0x1b1fcc(0x550)]&&_0xcbb341[_0x1b1fcc(0x292)][0x0]['finishReason']!=='STOP'&&(_0xd9bc74=_0x1b1fcc(0x24a)+_0xcbb341[_0x1b1fcc(0x292)][0x0]['finishReason']+'.');console['error'](_0xd9bc74,JSON[_0x1b1fcc(0x5c7)](_0xcbb341));throw new Error(_0xd9bc74);}}initialize();
