const _0x284edd=_0x323d;(function(_0x2de90a,_0x2b8ed0){const _0xdd47dc=_0x323d,_0xa49b2=_0x2de90a();while(!![]){try{const _0x3d6853=-parseInt(_0xdd47dc(0x109))/0x1+-parseInt(_0xdd47dc(0x68b))/0x2+-parseInt(_0xdd47dc(0x298))/0x3+-parseInt(_0xdd47dc(0x66f))/0x4*(parseInt(_0xdd47dc(0x660))/0x5)+-parseInt(_0xdd47dc(0x41e))/0x6*(-parseInt(_0xdd47dc(0x663))/0x7)+parseInt(_0xdd47dc(0x667))/0x8+parseInt(_0xdd47dc(0x400))/0x9;if(_0x3d6853===_0x2b8ed0)break;else _0xa49b2['push'](_0xa49b2['shift']());}catch(_0xb4417f){_0xa49b2['push'](_0xa49b2['shift']());}}}(_0x25ab,0x41c70));function _0x323d(_0x3cb2ee,_0x23f4e4){const _0x25ab79=_0x25ab();return _0x323d=function(_0x323d21,_0x5044dc){_0x323d21=_0x323d21-0xc7;let _0x4318a8=_0x25ab79[_0x323d21];return _0x4318a8;},_0x323d(_0x3cb2ee,_0x23f4e4);}import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[]};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x284edd(0x62f)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x6b7)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x707)},{'category':_0x284edd(0x13f),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x284edd(0x13f),'name':_0x284edd(0x495)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x548)},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':_0x284edd(0x13f),'name':'การหาร'},{'category':_0x284edd(0x13f),'name':_0x284edd(0xd7)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x14e)},{'category':'จำนวนและการดำเนินการ','name':_0x284edd(0x475)},{'category':_0x284edd(0x13f),'name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':_0x284edd(0x2f7)},{'category':_0x284edd(0x13f),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x284edd(0x13f),'name':_0x284edd(0x3d9)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':'จำนวนและการดำเนินการ','name':'อัตราส่วนและสัดส่วน'},{'category':_0x284edd(0x13f),'name':_0x284edd(0x199)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x789)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x4d5)},{'category':'จำนวนและการดำเนินการ','name':_0x284edd(0x157)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x65c)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x149)},{'category':_0x284edd(0x13f),'name':'จำนวนคละ'},{'category':_0x284edd(0x13f),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x284edd(0x13f),'name':_0x284edd(0x1fe)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x187)},{'category':'จำนวนและการดำเนินการ','name':_0x284edd(0x12e)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x269)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x284edd(0x13f),'name':'ร้อยละพื้นฐาน'},{'category':_0x284edd(0x13f),'name':_0x284edd(0x1a9)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x6e6)},{'category':'จำนวนและการดำเนินการ','name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x284edd(0x13f),'name':_0x284edd(0x4d1)},{'category':_0x284edd(0x13f),'name':_0x284edd(0x107)},{'category':'จำนวนและการดำเนินการ','name':_0x284edd(0x26e)},{'category':_0x284edd(0x3d0),'name':_0x284edd(0x66d)},{'category':'การวัด','name':_0x284edd(0x413)},{'category':_0x284edd(0x3d0),'name':_0x284edd(0x715)},{'category':'การวัด','name':_0x284edd(0x645)},{'category':'การวัด','name':_0x284edd(0x1dc)},{'category':_0x284edd(0x3d0),'name':'เส้นรอบรูป'},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':_0x284edd(0x3d0),'name':_0x284edd(0x642)},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x284edd(0x3d0),'name':_0x284edd(0x3e3)},{'category':_0x284edd(0x3d0),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x284edd(0x4a1)},{'category':'การวัด','name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x284edd(0x5a3),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x284edd(0x5a3),'name':_0x284edd(0x743)},{'category':'เรขาคณิต','name':_0x284edd(0x175)},{'category':_0x284edd(0x5a3),'name':_0x284edd(0x642)},{'category':_0x284edd(0x5a3),'name':_0x284edd(0x1c5)},{'category':_0x284edd(0x5a3),'name':_0x284edd(0x6ad)},{'category':_0x284edd(0x5a3),'name':_0x284edd(0x26c)},{'category':_0x284edd(0x5a3),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x284edd(0x5a3),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x284edd(0x5a3),'name':_0x284edd(0x5f4)},{'category':_0x284edd(0x5a3),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x284edd(0x5a3),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x284edd(0x5a3),'name':_0x284edd(0x643)},{'category':_0x284edd(0x5a3),'name':_0x284edd(0x12d)},{'category':_0x284edd(0x5a3),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x7cb)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x284edd(0x1ea)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x4bf)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x284edd(0x238)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x284edd(0x545)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x2c1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x284edd(0x435)},{'category':_0x284edd(0x2e4),'name':'สมการค่าสัมบูรณ์'},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x50a)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x233)},{'category':_0x284edd(0x2e4),'name':'สมการยกกำลัง'},{'category':_0x284edd(0x2e4),'name':'สมการลอการิทึม'},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x668)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x284edd(0x4a0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x284edd(0x4c9)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x217)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x2cd)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x638)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันผกผัน'},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x713)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x29e)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0xfa)},{'category':_0x284edd(0x2e4),'name':'ฟังก์ชันพหุนาม'},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x550)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x414)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x1bf)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x251)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x6dc)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x3c2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x284edd(0x30c)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x284edd(0x439)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0xe7)},{'category':_0x284edd(0x2e4),'name':_0x284edd(0x182)},{'category':_0x284edd(0x28c),'name':_0x284edd(0x46e)},{'category':_0x284edd(0x28c),'name':_0x284edd(0x746)},{'category':'เรขาคณิตวิเคราะห์','name':_0x284edd(0x79c)},{'category':_0x284edd(0x28c),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x284edd(0x25f)},{'category':'เรขาคณิตวิเคราะห์','name':_0x284edd(0x63b)},{'category':'เรขาคณิตวิเคราะห์','name':_0x284edd(0x134)},{'category':_0x284edd(0x28c),'name':_0x284edd(0x3d5)},{'category':_0x284edd(0x28c),'name':'ไฮเพอร์โบลา'},{'category':_0x284edd(0x46c),'name':_0x284edd(0x3ba)},{'category':'ตรีโกณมิติ','name':_0x284edd(0x1e4)},{'category':_0x284edd(0x46c),'name':_0x284edd(0x3c8)},{'category':_0x284edd(0x46c),'name':_0x284edd(0x279)},{'category':'ตรีโกณมิติ','name':_0x284edd(0x3d4)},{'category':_0x284edd(0x46c),'name':_0x284edd(0x729)},{'category':_0x284edd(0x46c),'name':_0x284edd(0x1b0)},{'category':'ตรีโกณมิติ','name':_0x284edd(0x3ad)},{'category':'ตรีโกณมิติ','name':_0x284edd(0x2ce)},{'category':_0x284edd(0x46c),'name':_0x284edd(0x5f1)},{'category':_0x284edd(0x46c),'name':_0x284edd(0x7c1)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x4e3)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x295)},{'category':_0x284edd(0x13c),'name':'ตารางความถี่'},{'category':_0x284edd(0x13c),'name':_0x284edd(0x4e4)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x1cc)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x284edd(0x13c),'name':_0x284edd(0x375)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x6e1)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x579)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x535)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x5ad)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x623)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x759)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x74f)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x7da)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x6ae)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x656)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x2f6)},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x284edd(0x13c),'name':_0x284edd(0x423)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x7d3)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x5e5)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x4c1)},{'category':_0x284edd(0x13c),'name':_0x284edd(0x758)},{'category':_0x284edd(0x151),'name':_0x284edd(0x45a)},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':_0x284edd(0x151),'name':_0x284edd(0x739)},{'category':_0x284edd(0x151),'name':_0x284edd(0x150)},{'category':_0x284edd(0x151),'name':_0x284edd(0x3c0)},{'category':'แคลคูลัสเบื้องต้น','name':_0x284edd(0x7c6)},{'category':_0x284edd(0x151),'name':_0x284edd(0x52c)},{'category':_0x284edd(0x151),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':'แคลคูลัสเบื้องต้น','name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x284edd(0x734)},{'category':_0x284edd(0x151),'name':'ปริพันธ์จำกัด'},{'category':_0x284edd(0x151),'name':_0x284edd(0x264)},{'category':'แคลคูลัสเบื้องต้น','name':_0x284edd(0x5dc)},{'category':_0x284edd(0x22d),'name':_0x284edd(0x321)},{'category':_0x284edd(0x22d),'name':_0x284edd(0x163)},{'category':_0x284edd(0x22d),'name':_0x284edd(0xd8)},{'category':_0x284edd(0x22d),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x284edd(0x22d),'name':_0x284edd(0x40f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x284edd(0x399)},{'category':_0x284edd(0x22d),'name':_0x284edd(0x42d)},{'category':_0x284edd(0x118),'name':_0x284edd(0x607)},{'category':_0x284edd(0x118),'name':_0x284edd(0x5f3)},{'category':_0x284edd(0x118),'name':_0x284edd(0x4ce)},{'category':_0x284edd(0x118),'name':_0x284edd(0x6ff)},{'category':_0x284edd(0x118),'name':_0x284edd(0x1c3)},{'category':_0x284edd(0x31a),'name':_0x284edd(0x7ce)},{'category':_0x284edd(0x31a),'name':_0x284edd(0x31b)},{'category':_0x284edd(0x31a),'name':_0x284edd(0x522)}];function renderTopicCheckboxes(){const _0xec802f=_0x284edd,_0x49a19=document[_0xec802f(0x140)](_0xec802f(0x3d6));if(!_0x49a19)return;const _0x4c9ca0=allMathTopics,_0x1f1675=customMathTopics[_0xec802f(0x666)](_0x3d1703=>({'id':_0x3d1703['id'],'category':'หัวข้อที่สร้างเอง','name':_0x3d1703[_0xec802f(0x61e)]})),_0x3aa97e=[..._0x4c9ca0,..._0x1f1675],_0x22eb0b=_0x3aa97e['reduce']((_0x403f8a,_0x15a91b)=>{const _0x3a12eb=_0xec802f;return!_0x403f8a[_0x15a91b['category']]&&(_0x403f8a[_0x15a91b[_0x3a12eb(0x3c3)]]=[]),_0x403f8a[_0x15a91b[_0x3a12eb(0x3c3)]]['push'](_0x15a91b),_0x403f8a;},{});let _0x3fe8b6='';const _0x435e8f=['หัวข้อที่สร้างเอง',...Object[_0xec802f(0x74d)](_0x22eb0b)[_0xec802f(0x3fe)](_0x1c36f5=>_0x1c36f5!==_0xec802f(0x443))];for(const _0x291332 of _0x435e8f){if(_0x22eb0b[_0x291332]){const _0x1eeca4=_0x291332===_0xec802f(0x443),_0x249a71=_0x1eeca4?_0xec802f(0x655):_0xec802f(0x6b1),_0x16965f=_0x1eeca4?_0xec802f(0x141):_0xec802f(0x228);_0x3fe8b6+=_0xec802f(0x474),_0x3fe8b6+=_0xec802f(0x16b)+_0x16965f+_0xec802f(0x6c2)+_0x249a71+_0xec802f(0x6e9)+_0x291332+'</p>',_0x22eb0b[_0x291332][_0xec802f(0x335)](_0x1101bc=>{const _0x522eac=_0xec802f,_0x5ebc96=!!_0x1101bc['id'],_0x4282a8=_0x5ebc96?_0x522eac(0x363)+_0x1101bc['id']+_0x522eac(0x7a0)+_0x1101bc['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1101bc['id']+_0x522eac(0x5a0)+_0x1101bc['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x3fe8b6+=_0x522eac(0x35a)+(_0x1101bc['id']||'')+_0x522eac(0x2e0)+_0x1101bc[_0x522eac(0x61e)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x1101bc['name']+_0x522eac(0x4dd)+(_0x5ebc96?_0x522eac(0x516)+_0x1101bc['name']+'\x22>':'')+_0x522eac(0x49e)+_0x4282a8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3fe8b6+=_0xec802f(0x477);}}_0x49a19[_0xec802f(0x52d)]=_0x3fe8b6||_0xec802f(0x75a),_0x49a19['removeEventListener']('change',updateSelectedTopicsCount),_0x49a19[_0xec802f(0x14b)](_0xec802f(0x514),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x59b22b,_0x441677){const _0x4f22c7=_0x284edd;if(!_0x59b22b||!_0x441677[_0x4f22c7(0xd4)]()){showMessage(_0x4f22c7(0x4c5));return;}try{const _0xcf8105=doc(db,_0x4f22c7(0x6c1)+appId+_0x4f22c7(0x70b),_0x59b22b);await updateDoc(_0xcf8105,{'name':_0x441677['trim']()}),showMessage(_0x4f22c7(0x6a1));}catch(_0x45172c){console[_0x4f22c7(0x377)]('Error\x20updating\x20custom\x20topic:',_0x45172c),showMessage(_0x4f22c7(0x7d9));}}function toggleTopicEditMode(_0xff060e,_0x3a044f){const _0x4cdd42=_0x284edd;if(!_0xff060e)return;const _0x26923a=_0xff060e[_0x4cdd42(0x62c)](_0x4cdd42(0xc7)),_0x3ca7ce=_0xff060e[_0x4cdd42(0x62c)]('.topic-name-input'),_0x5da6e9=_0xff060e[_0x4cdd42(0x62c)](_0x4cdd42(0x19c)),_0x5ea347=_0xff060e['querySelector'](_0x4cdd42(0x73f));_0x26923a['classList'][_0x4cdd42(0x529)]('hidden',_0x3a044f),_0x3ca7ce[_0x4cdd42(0x44b)][_0x4cdd42(0x529)]('hidden',!_0x3a044f),_0x5da6e9[_0x4cdd42(0x44b)]['toggle'](_0x4cdd42(0x396),_0x3a044f),_0x5ea347[_0x4cdd42(0x44b)][_0x4cdd42(0x529)](_0x4cdd42(0x396),!_0x3a044f),_0x3a044f&&(_0x3ca7ce[_0x4cdd42(0x651)](),_0x3ca7ce[_0x4cdd42(0x3e8)]());}function updateSelectedTopicsCount(){const _0x561177=_0x284edd,_0x5899b4=document['getElementById'](_0x561177(0x3d6)),_0x12f5e5=_0x5899b4[_0x561177(0x39b)](_0x561177(0x2d3))['length'],_0x17286a=document[_0x561177(0x140)]('selected-topics-count');_0x12f5e5>0x0?_0x17286a[_0x561177(0x61d)]=_0x561177(0x748)+_0x12f5e5+_0x561177(0x4bc):_0x17286a[_0x561177(0x61d)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x284edd(0x15b),quizLeaderboardSortOrder=_0x284edd(0x792),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':'คะแนนเต็ม','description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x284edd(0x43c)},'QUICK_THINKER':{'id':_0x284edd(0x4f8),'name':_0x284edd(0x14f),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x284edd(0x2ec)},'ON_FIRE':{'id':_0x284edd(0x314),'name':_0x284edd(0x441),'description':_0x284edd(0x6c9),'icon':_0x284edd(0x4f0)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x284edd(0x505),'description':_0x284edd(0x42e),'icon':_0x284edd(0x4ec)},'COMEBACK_KING':{'id':'comeback_king','name':_0x284edd(0x62e),'description':_0x284edd(0x15e),'icon':_0x284edd(0x215)},'SPECIALIST':{'id':_0x284edd(0x20c),'name':_0x284edd(0x349),'description':_0x284edd(0xf1),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':'perseverance','name':_0x284edd(0x2fd),'description':_0x284edd(0x3bf),'icon':_0x284edd(0x6a6)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x284edd(0x1f3),'projectId':_0x284edd(0x33d),'storageBucket':_0x284edd(0x5ea),'messagingSenderId':'274192258111','appId':_0x284edd(0x40d),'measurementId':_0x284edd(0x231)},appId=typeof __app_id!==_0x284edd(0x14d)?__app_id:_0x284edd(0x446),adminView=document['getElementById'](_0x284edd(0x6ed)),studentView=document[_0x284edd(0x140)]('student-view'),projectDashboardView=document[_0x284edd(0x140)](_0x284edd(0x23d)),projectDetailView=document[_0x284edd(0x140)](_0x284edd(0x3eb)),quizResultsView=document['getElementById'](_0x284edd(0x2b8)),projectList=document[_0x284edd(0x140)](_0x284edd(0x6e0)),noProjectsMsg=document['getElementById'](_0x284edd(0x395)),projectTitle=document['getElementById'](_0x284edd(0x65b)),projectIdDisplay=document[_0x284edd(0x140)]('project-id-display'),studentList=document[_0x284edd(0x140)](_0x284edd(0x750)),messageModal=document[_0x284edd(0x140)]('message-modal'),modalMessage=document[_0x284edd(0x140)](_0x284edd(0x18b)),createProjectModal=document[_0x284edd(0x140)](_0x284edd(0x71c)),adminPasswordModal=document['getElementById'](_0x284edd(0x606)),confirmationModal=document[_0x284edd(0x140)](_0x284edd(0x72b)),userIdDisplay=document[_0x284edd(0x140)](_0x284edd(0x221)),topicTab=document[_0x284edd(0x140)](_0x284edd(0x410)),textTab=document[_0x284edd(0x140)]('text-tab'),topicInputArea=document['getElementById'](_0x284edd(0x4c2)),textInputArea=document['getElementById'](_0x284edd(0x5e7)),manageTab=document['getElementById']('manage-tab'),resultsTab=document[_0x284edd(0x140)](_0x284edd(0x1df)),leaderboardTab=document[_0x284edd(0x140)](_0x284edd(0x37e)),manageTabContent=document[_0x284edd(0x140)](_0x284edd(0x31d)),resultsTabContent=document[_0x284edd(0x140)](_0x284edd(0x4cb)),leaderboardTabContent=document[_0x284edd(0x140)](_0x284edd(0x6d8)),projectQuizzesList=document[_0x284edd(0x140)](_0x284edd(0x434)),fileTab=document['getElementById'](_0x284edd(0x6f0)),fileInputArea=document['getElementById']('file-input-area'),fileUploadInput=document[_0x284edd(0x140)](_0x284edd(0x11f)),worksheetTab=document[_0x284edd(0x140)](_0x284edd(0x1c1)),worksheetInputArea=document[_0x284edd(0x140)](_0x284edd(0x21e)),generateWorksheetBtn=document[_0x284edd(0x140)]('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x284edd(0x7bd)),studentNameSelectionView=document[_0x284edd(0x140)]('student-name-selection-view'),studentQuizArea=document[_0x284edd(0x140)]('student-quiz-area'),studentResultArea=document['getElementById']('student-result-area'),studentReadingArea=document[_0x284edd(0x140)](_0x284edd(0x1b6)),loadQuizBtn=document[_0x284edd(0x140)](_0x284edd(0x20f)),startQuizBtn=document[_0x284edd(0x140)](_0x284edd(0x513)),studentJoinGameView=document[_0x284edd(0x140)]('student-join-game-view'),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document['getElementById'](_0x284edd(0x35c)),moveQuizModal=document[_0x284edd(0x140)](_0x284edd(0x3c6)),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document[_0x284edd(0x140)](_0x284edd(0x5a6)),liveGameView=document[_0x284edd(0x140)](_0x284edd(0x469));function handleAutoFixLatex(){const _0x4402ed=_0x284edd,_0x26ed1e=document['getElementById']('quiz-editor-questions-container')||document,_0x40b9dc=_0x26ed1e[_0x4402ed(0x39b)]([_0x4402ed(0x5ee),_0x4402ed(0x55c),_0x4402ed(0x552),_0x4402ed(0x116),_0x4402ed(0x679),_0x4402ed(0x437),'.choice-text',_0x4402ed(0x5d9),_0x4402ed(0x16d)][_0x4402ed(0x4be)](','));let _0x2added=0x0;const _0x2e9820=_0x27a24c=>_0x4402ed(0x617)in _0x27a24c?String(_0x27a24c[_0x4402ed(0x617)]):_0x27a24c[_0x4402ed(0x760)]!==undefined?_0x27a24c[_0x4402ed(0x760)]:_0x27a24c[_0x4402ed(0x61d)]||'',_0x582099=(_0x33a443,_0x1ce1e8)=>{const _0x40fcce=_0x4402ed;if(_0x40fcce(0x617)in _0x33a443){_0x33a443['value']=_0x1ce1e8;return;}if(_0x33a443['querySelector']&&_0x33a443[_0x40fcce(0x62c)](_0x40fcce(0x55a)))return;if(_0x33a443['innerText']!==undefined)_0x33a443[_0x40fcce(0x760)]=_0x1ce1e8;else _0x33a443[_0x40fcce(0x61d)]=_0x1ce1e8;},_0x3fa6f2=_0x44f38d=>_0x44f38d[_0x4402ed(0x618)](/\u00A0/g,'\x20')[_0x4402ed(0x618)](/\u200B/g,'')[_0x4402ed(0x618)](/\r\n?/g,'\x0a'),_0x3ecfdb=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x46dbdb=_0x49cc15=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x4402ed(0x1e3)](_0x49cc15),_0x52ddfb=_0x2d26e8=>{const _0x5562df=_0x4402ed,_0x4f3175=(_0x2d26e8[_0x5562df(0x3e6)](/\{/g)||[])['length'],_0xffab7b=(_0x2d26e8[_0x5562df(0x3e6)](/\}/g)||[])[_0x5562df(0x357)];if(_0x4f3175>_0xffab7b)_0x2d26e8=_0x2d26e8+'}'[_0x5562df(0x664)](_0x4f3175-_0xffab7b);return _0x2d26e8;},_0x110ee4=_0x57e78b=>{const _0x40e7b5=_0x4402ed;let _0x2c6607=_0x57e78b[_0x40e7b5(0xd4)]();const _0x9f29d6=[_0x40e7b5(0x4e8),_0x40e7b5(0x2ac),_0x40e7b5(0x602),_0x40e7b5(0x290),_0x40e7b5(0x1fd),_0x40e7b5(0x387),'cdot','div','leq',_0x40e7b5(0x3c7),'le','ge','neq','pm','approx','sin',_0x40e7b5(0x3ec),_0x40e7b5(0x1f8),_0x40e7b5(0x640),'ln',_0x40e7b5(0x537),_0x40e7b5(0x33c),'binom',_0x40e7b5(0x78f),_0x40e7b5(0x39e),_0x40e7b5(0x405),_0x40e7b5(0x1f5),_0x40e7b5(0x4b8),_0x40e7b5(0x69b)];_0x2c6607=_0x2c6607[_0x40e7b5(0x618)](new RegExp(_0x40e7b5(0x596)+_0x9f29d6[_0x40e7b5(0x4be)]('|')+')\x5cb)','g'),'\x5c'),_0x9f29d6[_0x40e7b5(0x335)](_0x1b0baf=>{_0x2c6607=_0x2c6607['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x1b0baf+'\x5cb','g'),(_0x38b257,_0x44c035)=>_0x44c035+'\x5c'+_0x1b0baf);});const _0x19c2d6=[[/×/g,_0x40e7b5(0x4cf)],[/·/g,_0x40e7b5(0x673)],[/÷/g,_0x40e7b5(0x7c7)],[/≤/g,_0x40e7b5(0x19f)],[/≥/g,_0x40e7b5(0x509)],[/≠/g,_0x40e7b5(0x366)],[/±/g,_0x40e7b5(0x6a3)],[/∑/g,_0x40e7b5(0x4af)],[/−/g,'-']];_0x19c2d6[_0x40e7b5(0x335)](([_0x43d4da,_0x5d67b6])=>{const _0x1f10a2=_0x40e7b5;_0x2c6607=_0x2c6607[_0x1f10a2(0x618)](_0x43d4da,_0x5d67b6);}),_0x2c6607=_0x2c6607[_0x40e7b5(0x618)](/√\s*\(([^)]*)\)/g,_0x40e7b5(0x394)),_0x2c6607=_0x2c6607['replace'](/√\s*([A-Za-z0-9]+)/g,_0x40e7b5(0x394)),_0x2c6607=_0x2c6607[_0x40e7b5(0x618)](/(^|[^\\])\bimes\b/g,_0x40e7b5(0x68f))[_0x40e7b5(0x618)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x40e7b5(0x618)](/(^|[^\\])ext\{/g,_0x40e7b5(0x203))['replace'](/(^|[^\\])ext\(/g,_0x40e7b5(0x5fb))['replace'](/\\text\(([^)]*)\)/g,_0x40e7b5(0x285))[_0x40e7b5(0x618)](/\s\\frac/g,_0x40e7b5(0x559)),_0x2c6607=_0x2c6607[_0x40e7b5(0x618)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x33f49b,_0x391c3a,_0x2bf164,_0x43f3d0)=>_0x391c3a+_0x40e7b5(0x2dd)+_0x2bf164+'}{'+_0x43f3d0+'}'),_0x2c6607=_0x2c6607['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x40e7b5(0x20e))[_0x40e7b5(0x618)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x40e7b5(0x20e))[_0x40e7b5(0x618)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x40e7b5(0x20e)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x40e7b5(0x2b6)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x40e7b5(0x2b6)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x40e7b5(0x2b6)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x40e7b5(0x2b6)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x40e7b5(0x2b6)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x40e7b5(0x38e)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x40e7b5(0x2b6)]]['forEach'](([_0x14acdd,_0x3fc05b])=>{const _0x24a0b2=_0x40e7b5;_0x2c6607=_0x2c6607[_0x24a0b2(0x618)](_0x14acdd,_0x3fc05b);}),_0x2c6607=_0x2c6607[_0x40e7b5(0x618)](/(\d+)\s*%/g,'$1\x5c%'),_0x2c6607=_0x2c6607['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x40e7b5(0x23b))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x40e7b5(0x110))[_0x40e7b5(0x618)](/\{\{([^\{\}]+)\}\}/g,_0x40e7b5(0x3f9)),[_0x40e7b5(0x1e9),'cos',_0x40e7b5(0x1f8),_0x40e7b5(0x640),'ln'][_0x40e7b5(0x335)](_0x4479c8=>{const _0x1de264=_0x40e7b5;_0x2c6607=_0x2c6607[_0x1de264(0x618)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4479c8+_0x1de264(0x769),'g'),(_0x424ee6,_0x5854d6)=>_0x5854d6+'\x5c'+_0x4479c8+'(');});const _0x5ca0d2=(_0x2c6607['match'](/\\left\b/g)||[])[_0x40e7b5(0x357)],_0x4e2ada=(_0x2c6607[_0x40e7b5(0x3e6)](/\\right\b/g)||[])[_0x40e7b5(0x357)];if(_0x5ca0d2!==_0x4e2ada)_0x2c6607=_0x2c6607['replace'](/\\left\b/g,'')[_0x40e7b5(0x618)](/\\right\b/g,'');return _0x2c6607=_0x52ddfb(_0x2c6607),_0x2c6607;},_0x58488f=_0x3ab149=>{const _0x3ae2eb=_0x4402ed;if(/\$|\\\(|\\\[/['test'](_0x3ab149))return _0x3ab149;if(!_0x3ecfdb[_0x3ae2eb(0x1e3)](_0x3ab149))return _0x3ab149;const _0x4f2297=_0x3ab149[_0x3ae2eb(0x3e6)](/^\s*/)[0x0],_0x4a53d2=_0x3ab149[_0x3ae2eb(0x3e6)](/\s*$/)[0x0],_0x4c2629=_0x3ab149['trim']();return _0x4f2297+'$'+_0x110ee4(_0x4c2629)+'$'+_0x4a53d2;},_0x42cd98=_0x33c7b6=>_0x33c7b6['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x40b9dc[_0x4402ed(0x335)](_0x55843d=>{const _0x4e0afd=_0x4402ed;if(_0x55843d['querySelector']&&_0x55843d[_0x4e0afd(0x62c)](_0x4e0afd(0x55a)))return;const _0x59afe0=_0x2e9820(_0x55843d);let _0x56fc64=_0x3fa6f2(_0x59afe0);_0x56fc64=_0x56fc64[_0x4e0afd(0x618)](/\$\$([\s\S]*?)\$\$/g,(_0x4efc7d,_0x41e095)=>'$$'+_0x110ee4(_0x41e095)+'$$')[_0x4e0afd(0x618)](/\$([^$]*?)\$/g,(_0x25c5f3,_0x5c7888)=>'$'+_0x110ee4(_0x5c7888)+'$')[_0x4e0afd(0x618)](/\\\(([\s\S]*?)\\\)/g,(_0x4fc58e,_0x13015b)=>'\x5c('+_0x110ee4(_0x13015b)+'\x5c)')[_0x4e0afd(0x618)](/\\\[([\s\S]*?)\\\]/g,(_0x12c28d,_0x45c3ca)=>'\x5c['+_0x110ee4(_0x45c3ca)+'\x5c]');let _0xb8c6c6=_0x56fc64,_0x1098a9=0x0;const _0x5d555f=_0x4e94ad=>_0x4e94ad[_0x4e0afd(0x618)](/S([^S]{0,2000}?)S/g,(_0x26845a,_0x290239)=>_0x3ecfdb[_0x4e0afd(0x1e3)](_0x290239)?'$'+_0x110ee4(_0x290239)+'$':_0x26845a);while(_0x1098a9++<0x14){const _0x51014d=_0x5d555f(_0xb8c6c6);if(_0x51014d===_0xb8c6c6)break;_0xb8c6c6=_0x51014d;}_0x56fc64=_0xb8c6c6,_0x56fc64=_0x56fc64[_0x4e0afd(0x2d5)]('\x0a')[_0x4e0afd(0x666)](_0x1d1b73=>{const _0x4fd3a3=_0x4e0afd;if(!(/[,\u3001，;；]/['test'](_0x1d1b73)||/\s(?:และ|หรือ)\s/['test'](_0x1d1b73))||!_0x3ecfdb['test'](_0x1d1b73))return _0x1d1b73;return _0x42cd98(_0x1d1b73)[_0x4fd3a3(0x666)](_0x418884=>{const _0x34a516=_0x4fd3a3;if(/^\s(?:และ|หรือ)\s$/['test'](_0x418884)||/^[,\u3001，;；]$/[_0x34a516(0x1e3)](_0x418884))return _0x418884;return _0x58488f(_0x418884);})['join']('');})[_0x4e0afd(0x4be)]('\x0a'),_0x56fc64=_0x56fc64[_0x4e0afd(0x2d5)]('\x0a')['map'](_0x30eef2=>{const _0x34a502=_0x4e0afd,_0xf242fa=_0x30eef2[_0x34a502(0xd4)]();if(!_0xf242fa)return _0x30eef2;const _0x104389=/\$|\\\(|\\\[/['test'](_0xf242fa),_0x42c1e0=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x34a502(0x1e3)](_0xf242fa);if(_0x104389||!_0x42c1e0||_0x46dbdb(_0xf242fa))return _0x30eef2;return _0x30eef2['replace'](_0xf242fa,'$'+_0x110ee4(_0xf242fa)+'$');})[_0x4e0afd(0x4be)]('\x0a'),_0x56fc64=_0x56fc64[_0x4e0afd(0x618)](/(\d+)\s*°\s*C\b/g,(_0x421d29,_0x10de02,_0xdf0f73,_0x1511f4)=>{const _0x44bc42=_0x1511f4[_0xdf0f73-0x1];if(_0x44bc42==='$'||_0x44bc42==='S'||_0x44bc42==='\x5c')return _0x421d29;return'$'+_0x10de02+'^{\x5ccirc}\x5ctext{C}$';})[_0x4e0afd(0x618)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x162ae4,_0x34720e,_0x239322,_0x247e62)=>{const _0x4a96c9=_0x4e0afd,_0x40dc3b=_0x247e62[_0x239322-0x1];if(_0x40dc3b==='$'||_0x40dc3b==='S'||_0x40dc3b==='\x5c')return _0x162ae4;return'$'+_0x34720e+_0x4a96c9(0x220);})[_0x4e0afd(0x618)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x5fcc5d,_0x28c275,_0x509a9e,_0x37ee59)=>{const _0x35685b=_0x37ee59[_0x509a9e-0x1];if(_0x35685b==='$'||_0x35685b==='S'||_0x35685b==='\x5c')return _0x5fcc5d;return'$'+_0x28c275+'^{\x5ccirc}\x5ctext{C}$';}),_0x56fc64=_0x56fc64[_0x4e0afd(0x618)](/\$\s*\$/g,'$$'),_0x56fc64!==_0x59afe0&&(_0x582099(_0x55843d,_0x56fc64),_0x2added++);});if(_0x2added>0x0){showMessage(_0x4402ed(0x64a)+_0x2added+_0x4402ed(0x3fd));try{if(window[_0x4402ed(0x476)]&&MathJax[_0x4402ed(0x41b)])MathJax[_0x4402ed(0x41b)]();window[_0x4402ed(0x76d)]&&typeof renderMathInElement===_0x4402ed(0x77a)&&renderMathInElement(_0x26ed1e,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x28f499){}}else showMessage(_0x4402ed(0x254));}async function listenForCustomMathTopics(){const _0x2135c9=_0x284edd,_0x19cb6d=collection(db,_0x2135c9(0x6c1)+appId+_0x2135c9(0x70b));onSnapshot(_0x19cb6d,_0x5af058=>{const _0x2fcabb=_0x2135c9;customMathTopics=_0x5af058[_0x2fcabb(0x310)][_0x2fcabb(0x666)](_0x673d5f=>({'id':_0x673d5f['id'],..._0x673d5f['data']()})),renderTopicCheckboxes();},_0x192390=>{const _0x5e7227=_0x2135c9;console[_0x5e7227(0x377)](_0x5e7227(0x4ea),_0x192390);});}function handleSelectAllTopics(){const _0x48f658=_0x284edd,_0x3a2e94=document[_0x48f658(0x140)]('math-topics-checkbox-container'),_0x5a6120=_0x3a2e94[_0x48f658(0x39b)](_0x48f658(0x7dc));_0x5a6120[_0x48f658(0x335)](_0x430c51=>{const _0x568f06=_0x48f658;_0x430c51[_0x568f06(0x61c)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xd89a94=_0x284edd,_0x143d00=document[_0xd89a94(0x140)](_0xd89a94(0x3d6)),_0x1e5595=_0x143d00[_0xd89a94(0x39b)](_0xd89a94(0x7dc));_0x1e5595['forEach'](_0x5d99db=>{const _0x41b80=_0xd89a94;_0x5d99db[_0x41b80(0x61c)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4b7969){const _0xea3907=_0x284edd;if(!_0x4b7969)return;try{const _0x42a471=doc(db,_0xea3907(0x6c1)+appId+_0xea3907(0x70b),_0x4b7969);await deleteDoc(_0x42a471),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x6565b5){console[_0xea3907(0x377)](_0xea3907(0x4b6),_0x6565b5),showMessage(_0xea3907(0x4fc));}}async function handleAddCustomMathTopic(){const _0x125414=_0x284edd,_0x1418e4=document[_0x125414(0x140)](_0x125414(0x626)),_0xedd7b7=_0x1418e4[_0x125414(0x617)]['trim']();if(!_0xedd7b7){showMessage(_0x125414(0x327));return;}if(!userId){showMessage(_0x125414(0x145));return;}try{const _0x4034dc=collection(db,_0x125414(0x6c1)+appId+_0x125414(0x70b));await addDoc(_0x4034dc,{'name':_0xedd7b7,'createdAt':serverTimestamp()}),_0x1418e4[_0x125414(0x617)]='',showMessage(_0x125414(0x3d2)+_0xedd7b7+_0x125414(0x1d5));}catch(_0x532f6a){console[_0x125414(0x377)]('Error\x20adding\x20custom\x20topic:',_0x532f6a),showMessage(_0x125414(0x326));}}async function initialize(){const _0x4854e5=_0x284edd;try{const _0x3916f2=initializeApp(firebaseConfig);db=getFirestore(_0x3916f2),auth=getAuth(_0x3916f2),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x40fbef){console['error'](_0x4854e5(0x521),_0x40fbef),showMessage(_0x4854e5(0x24e));}}function compareNumericalAnswers(_0xb8ba16,_0xefdeb4){const _0x13462d=_0x284edd,_0x13beef=String(_0xb8ba16)[_0x13462d(0x618)](',','.')[_0x13462d(0x618)](/[^\d.-]/g,'')[_0x13462d(0xd4)](),_0x27ed27=String(_0xefdeb4)[_0x13462d(0x618)](',','.')[_0x13462d(0x618)](/[^\d.-]/g,'')[_0x13462d(0xd4)]();if(_0x13beef===''||_0x27ed27==='')return![];const _0x4f154b=parseFloat(_0x13beef),_0x2d186c=parseFloat(_0x27ed27);if(isNaN(_0x4f154b)||isNaN(_0x2d186c))return![];return Math[_0x13462d(0x3af)](_0x4f154b-_0x2d186c)<0.001;}async function gradeShortAnswer(_0x54090a,_0x531b9b){const _0x161be5=_0x284edd,_0x505e2f=_0x531b9b[_0x161be5(0x49c)];if(String(_0x54090a)[_0x161be5(0xd4)]()[_0x161be5(0x6d3)]()===String(_0x505e2f)[_0x161be5(0xd4)]()[_0x161be5(0x6d3)]())return!![];if(compareNumericalAnswers(_0x54090a,_0x505e2f))return!![];return console[_0x161be5(0x640)](_0x161be5(0x66b)),await gradeShortAnswerWithAI(_0x54090a,_0x505e2f);}async function revealAnswerForAdmin(_0x3275d8,_0x237945){const _0x5de34e=_0x284edd;if(document['getElementById'](_0x5de34e(0x433)))return;const _0x92953=doc(db,_0x5de34e(0x6c1)+appId+_0x5de34e(0x30b),currentLiveGameId);await updateDoc(_0x92953,{'questionStatus':'revealed'});const _0x5ec1ae=liveGameView[_0x5de34e(0x62c)]('[data-is-correct=\x22true\x22]');_0x5ec1ae&&(_0x5ec1ae[_0x5de34e(0x44b)][_0x5de34e(0x6f8)](_0x5de34e(0x243)),_0x5ec1ae[_0x5de34e(0x44b)][_0x5de34e(0x281)](_0x5de34e(0xc9),_0x5de34e(0x166),_0x5de34e(0x4aa),_0x5de34e(0x34a),_0x5de34e(0x44e)),_0x5ec1ae['innerHTML']=_0x5de34e(0x646)+_0x5ec1ae[_0x5de34e(0x52d)]);const _0x203f1b=document[_0x5de34e(0x140)](_0x5de34e(0x1e1));_0x203f1b&&(_0x203f1b[_0x5de34e(0x52d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3275d8+0x1===_0x237945?_0x5de34e(0x784):'ข้อต่อไป')+_0x5de34e(0x382),document[_0x5de34e(0x140)](_0x5de34e(0x433))[_0x5de34e(0x14b)](_0x5de34e(0x268),async()=>{const _0x2ff5ce=_0x5de34e,_0x5dfaef=doc(db,_0x2ff5ce(0x6c1)+appId+_0x2ff5ce(0x30b),currentLiveGameId),_0x108093=await getDoc(_0x5dfaef);if(!_0x108093[_0x2ff5ce(0x4dc)]())return;const _0x52ba5b=_0x108093[_0x2ff5ce(0x5b7)](),_0x2c2e3d={};if(_0x52ba5b[_0x2ff5ce(0x2a3)])for(const _0x48db19 in _0x52ba5b[_0x2ff5ce(0x2a3)]){_0x2c2e3d['players.'+_0x48db19+_0x2ff5ce(0x561)]=![];}const _0x26ac0a=_0x3275d8+0x1;_0x26ac0a<_0x237945?(_0x2c2e3d[_0x2ff5ce(0x58e)]=_0x26ac0a,_0x2c2e3d['questionDisplayedAt']=serverTimestamp(),_0x2c2e3d[_0x2ff5ce(0x1e8)]=_0x2ff5ce(0x2b5),await updateDoc(_0x5dfaef,_0x2c2e3d)):await updateDoc(_0x5dfaef,{'status':_0x2ff5ce(0x66e)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x10b2b6=>{const _0x3e2fea=_0x323d;if(_0x10b2b6){userId=_0x10b2b6[_0x3e2fea(0x3a4)],userIdDisplay[_0x3e2fea(0x61d)]=userId;const _0x4d854c=await loadUserPreferences();_0x4d854c[_0x3e2fea(0x3c1)]&&(document[_0x3e2fea(0x140)](_0x3e2fea(0x370))['value']=_0x4d854c[_0x3e2fea(0x3c1)]);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x320cf3,_0x58c3e4){const _0x3e22dc=_0x284edd;if(!userId)return;try{const _0x34a33b=doc(db,_0x3e22dc(0x6c1)+appId+'/users/'+userId+'/preferences/main'),_0x34c2a8={};_0x34c2a8[_0x320cf3]=_0x58c3e4,await setDoc(_0x34a33b,_0x34c2a8,{'merge':!![]});}catch(_0x5cb050){console[_0x3e22dc(0x377)](_0x3e22dc(0x45c),_0x5cb050);}}async function loadUserPreferences(){const _0x53ae00=_0x284edd;if(!userId)return{};try{const _0x5a124a=doc(db,'artifacts/'+appId+'/users/'+userId+_0x53ae00(0x1d2)),_0x5b6098=await getDoc(_0x5a124a);if(_0x5b6098['exists']())return _0x5b6098[_0x53ae00(0x5b7)]();return{};}catch(_0x137977){return console[_0x53ae00(0x377)](_0x53ae00(0x253),_0x137977),{};}}function showPodiumView(_0x5124f5){const _0x4dbd8a=_0x284edd,_0x10ad77=Object[_0x4dbd8a(0x4d4)](_0x5124f5)[_0x4dbd8a(0x666)](([_0x5961fc,_0x4bb3b5])=>({'name':_0x5961fc,'score':_0x4bb3b5[_0x4dbd8a(0x1bc)]||0x0,'badges':_0x4bb3b5[_0x4dbd8a(0x6d6)]||[]}));_0x10ad77[_0x4dbd8a(0x137)]((_0x3329d6,_0x290a62)=>{const _0x591511=_0x4dbd8a,_0x2fe5f4=_0x290a62[_0x591511(0x1bc)]-_0x3329d6['score'];if(_0x2fe5f4!==0x0)return _0x2fe5f4;return(_0x290a62[_0x591511(0x6d6)][_0x591511(0x357)]||0x0)-(_0x3329d6[_0x591511(0x6d6)][_0x591511(0x357)]||0x0);});const _0x5efc72=_0xbdae6c=>{const _0x566179=_0x4dbd8a;if(!_0xbdae6c||_0xbdae6c[_0x566179(0x357)]===0x0)return'';const _0x33b2c0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x566179(0x5b8)+_0xbdae6c[_0x566179(0x666)](_0x528528=>_0x33b2c0[_0x528528]||'')[_0x566179(0x4be)]('')+_0x566179(0x477);},_0x97eebe=_0x10ad77[_0x4dbd8a(0x17c)](0x3),_0x3f9774=_0x97eebe[_0x4dbd8a(0x357)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x97eebe['map']((_0x20f920,_0xbf3e47)=>_0x4dbd8a(0x2c9)+(_0xbf3e47+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x20f920[_0x4dbd8a(0x61e)]+_0x4dbd8a(0x219)+_0x20f920[_0x4dbd8a(0x1bc)]+_0x4dbd8a(0x309))[_0x4dbd8a(0x4be)]('')+_0x4dbd8a(0x794):'',_0x3e4b35=_0x4dbd8a(0x408)+(_0x10ad77[0x1]?_0x4dbd8a(0x174)+_0x10ad77[0x1][_0x4dbd8a(0x61e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5efc72(_0x10ad77[0x1][_0x4dbd8a(0x6d6)])+_0x4dbd8a(0xde)+_0x10ad77[0x1][_0x4dbd8a(0x1bc)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4dbd8a(0x54d))+_0x4dbd8a(0x48a)+(_0x10ad77[0x0]?_0x4dbd8a(0x46a)+_0x10ad77[0x0][_0x4dbd8a(0x61e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5efc72(_0x10ad77[0x0][_0x4dbd8a(0x6d6)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x10ad77[0x0][_0x4dbd8a(0x1bc)]+_0x4dbd8a(0x304):'<div\x20class=\x22flex-1\x22></div>')+_0x4dbd8a(0x48a)+(_0x10ad77[0x2]?_0x4dbd8a(0x6a0)+_0x10ad77[0x2][_0x4dbd8a(0x61e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5efc72(_0x10ad77[0x2]['badges'])+_0x4dbd8a(0xde)+_0x10ad77[0x2][_0x4dbd8a(0x1bc)]+_0x4dbd8a(0x3f3):_0x4dbd8a(0x54d))+_0x4dbd8a(0x18c)+_0x3f9774+_0x4dbd8a(0x3a5)+(currentMode===_0x4dbd8a(0x4df)?_0x4dbd8a(0x487):_0x4dbd8a(0x63a))+_0x4dbd8a(0x53f);liveGameView[_0x4dbd8a(0x52d)]=_0x3e4b35,currentMode===_0x4dbd8a(0x4df)&&document['getElementById'](_0x4dbd8a(0x531))[_0x4dbd8a(0x14b)](_0x4dbd8a(0x268),async()=>{const _0x3ee2b1=_0x4dbd8a,_0x13496f=doc(db,_0x3ee2b1(0x6c1)+appId+_0x3ee2b1(0x30b),currentLiveGameId);await deleteDoc(_0x13496f),showView(_0x3ee2b1(0x347));});}async function handleStartLiveRace(_0x567067){const _0x48ec86=_0x284edd;let _0xd85678=allQuizzes[_0x48ec86(0x4b7)](_0x1c148a=>_0x1c148a['id']===_0x567067);if(!_0xd85678){const _0x4092ea=doc(db,_0x48ec86(0x6c1)+appId+_0x48ec86(0x127),_0x567067),_0x40b522=await getDoc(_0x4092ea);if(!_0x40b522[_0x48ec86(0x4dc)]()){showMessage(_0x48ec86(0x615));return;}_0xd85678={'id':_0x40b522['id'],..._0x40b522[_0x48ec86(0x5b7)]()};}currentQuizData=getShuffledQuiz(_0xd85678);const _0x23be3b=_0xd85678[_0x48ec86(0x756)]||currentProjectId||null,_0x14e419=Math['floor'](0x3e8+Math[_0x48ec86(0x70f)]()*0x2328)['toString']();currentLiveGamePin=_0x14e419;try{const _0x3e666d=await addDoc(collection(db,_0x48ec86(0x6c1)+appId+_0x48ec86(0x30b)),{'quizId':_0x567067,'projectId':_0x23be3b,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x14e419,'createdAt':serverTimestamp()});currentLiveGameId=_0x3e666d['id'],showAdminLobbyView(_0x14e419,_0xd85678[_0x48ec86(0x479)]),listenForLiveGameUpdates();}catch(_0x4c8822){console[_0x48ec86(0x377)](_0x48ec86(0x5e9),_0x4c8822),showMessage(_0x48ec86(0x6f5));}}async function handleShowStudentRankings(){const _0x11cf08=_0x284edd,_0x1f197f=document[_0x11cf08(0x62c)](_0x11cf08(0x303));_0x1f197f&&(_0x1f197f['innerHTML']=_0x11cf08(0x4f1));const _0x348062=document[_0x11cf08(0x62c)]('#student-project-leaderboard-content\x20thead');_0x348062&&(_0x348062[_0x11cf08(0x52d)]=_0x11cf08(0x7d4));const _0x4691a7=document[_0x11cf08(0x140)](_0x11cf08(0x6c5));_0x4691a7[_0x11cf08(0x44b)][_0x11cf08(0x6f8)]('hidden'),document[_0x11cf08(0x140)]('close-student-rankings-btn')[_0x11cf08(0x5da)]=()=>_0x4691a7[_0x11cf08(0x44b)][_0x11cf08(0x281)]('hidden');const _0x2e36bb=document[_0x11cf08(0x140)](_0x11cf08(0x7d5)),_0x4a1415=document[_0x11cf08(0x140)](_0x11cf08(0x31e)),_0x47ce10=document['getElementById'](_0x11cf08(0x344)),_0x9230db=document[_0x11cf08(0x140)](_0x11cf08(0x465));_0x2e36bb[_0x11cf08(0x5da)]=()=>{const _0x29b361=_0x11cf08;_0x2e36bb[_0x29b361(0x44b)][_0x29b361(0x281)]('active'),_0x4a1415['classList'][_0x29b361(0x6f8)](_0x29b361(0x744)),_0x47ce10[_0x29b361(0x44b)][_0x29b361(0x6f8)]('hidden'),_0x9230db[_0x29b361(0x44b)][_0x29b361(0x281)](_0x29b361(0x396));},_0x4a1415[_0x11cf08(0x5da)]=()=>{const _0x15e5ad=_0x11cf08;_0x4a1415[_0x15e5ad(0x44b)]['add'](_0x15e5ad(0x744)),_0x2e36bb[_0x15e5ad(0x44b)]['remove'](_0x15e5ad(0x744)),_0x9230db['classList'][_0x15e5ad(0x6f8)](_0x15e5ad(0x396)),_0x47ce10[_0x15e5ad(0x44b)][_0x15e5ad(0x281)](_0x15e5ad(0x396));};try{const _0x3e4f67=collection(db,_0x11cf08(0x6c1)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x11cf08(0x5f7)),_0x31e684=await getDocs(_0x3e4f67),_0x4fce99=_0x31e684['docs'][_0x11cf08(0x666)](_0x300433=>_0x300433[_0x11cf08(0x5b7)]());renderQuizLeaderboard(_0x4fce99,currentQuizData,'student-quiz-leaderboard-table-body');const _0x1ccc11=collection(db,_0x11cf08(0x6c1)+appId+_0x11cf08(0x101)+currentQuizData[_0x11cf08(0x756)]+'/studentProfiles'),_0x28cd30=await getDocs(_0x1ccc11),_0x52dadc=_0x28cd30[_0x11cf08(0x310)]['map'](_0x2eed51=>_0x2eed51['data']());renderLeaderboard(_0x52dadc,_0x11cf08(0x6ef));}catch(_0x512d94){console[_0x11cf08(0x377)](_0x11cf08(0x3cf),_0x512d94),showMessage(_0x11cf08(0x52a));}}async function handleSaveToBank(_0x1ce511){const _0x56ba31=_0x284edd,_0x3d8595=_0x1ce511[_0x56ba31(0x4a5)],_0x5c7f96=_0x3d8595[_0x56ba31(0x557)][_0x56ba31(0x114)],_0x3e36be=currentQuizData[_0x56ba31(0x7d0)][_0x5c7f96];if(!userId){showMessage(_0x56ba31(0x183));return;}try{const _0x3943d3={..._0x3e36be,'originalTopic':currentQuizData[_0x56ba31(0x479)],'savedAt':serverTimestamp()},_0x2fd5dc=collection(db,_0x56ba31(0x6c1)+appId+'/users/'+userId+_0x56ba31(0x741));await addDoc(_0x2fd5dc,_0x3943d3),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x3d8595[_0x56ba31(0x44b)][_0x56ba31(0x6f8)]('text-purple-600'),_0x3d8595[_0x56ba31(0x44b)][_0x56ba31(0x281)](_0x56ba31(0x3a0)),_0x3d8595[_0x56ba31(0x54e)]=!![];}catch(_0x143ab0){console[_0x56ba31(0x377)](_0x56ba31(0x1a3),_0x143ab0),showMessage(_0x56ba31(0x762));}}function listenForStarredQuizzes(){const _0x55eb8c=_0x284edd;if(!userId)return;const _0x1206f2=collection(db,_0x55eb8c(0x6c1)+appId+'/public/data/quizzes'),_0x17e0bd=query(_0x1206f2,where('isStarred','==',!![]));onSnapshot(_0x17e0bd,_0x144963=>{const _0x19041e=_0x55eb8c;starredQuizzes=_0x144963[_0x19041e(0x310)][_0x19041e(0x666)](_0x33acc3=>({'id':_0x33acc3['id'],..._0x33acc3['data']()})),renderProjects();},_0x56b79f=>{const _0x515713=_0x55eb8c;console[_0x515713(0x377)](_0x515713(0x71f),_0x56b79f);});}function exportQuizAsWorksheetPDF(){const _0xd7fb85=_0x284edd;if(!currentQuizData||!currentQuizData[_0xd7fb85(0x7d0)]){showMessage(_0xd7fb85(0x70d));return;}const _0x1f17c2=currentQuizData,_0x131047=window['open']('','_blank'),_0x2f5f6d=_0x52a7a4=>String[_0xd7fb85(0x3f5)](0x41+_0x52a7a4),_0x175584=_0xd7fb85(0x438)+_0x1f17c2[_0xd7fb85(0x479)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x1f17c2[_0xd7fb85(0x479)]+_0xd7fb85(0x2e8)+_0x1f17c2[_0xd7fb85(0x7d0)][_0xd7fb85(0x666)]((_0x30a036,_0x4bbb91)=>{const _0x47a9f3=_0xd7fb85;let _0x3eb8ae='';const _0x4be820=_0x30a036['questionType']||_0x1f17c2[_0x47a9f3(0x255)];switch(_0x4be820){case _0x47a9f3(0x267):case _0x47a9f3(0x672):_0x3eb8ae=_0x47a9f3(0x100)+_0x30a036[_0x47a9f3(0x230)][_0x47a9f3(0x666)]((_0x557915,_0x5c4092)=>_0x47a9f3(0x67a)+_0x2f5f6d(_0x5c4092)+'.\x20'+_0x557915+_0x47a9f3(0x235))[_0x47a9f3(0x4be)](_0x47a9f3(0x55f))+_0x47a9f3(0x477);break;case _0x47a9f3(0x7de):_0x3eb8ae='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x3eb8ae='<div\x20class=\x22answer-space\x22></div>';break;}return _0x47a9f3(0x3a1)+(_0x4bbb91+0x1)+_0x47a9f3(0x52e)+(_0x30a036[_0x47a9f3(0x63f)]||_0x30a036[_0x47a9f3(0x28d)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x30a036[_0x47a9f3(0x526)]?_0x47a9f3(0x47e)+_0x30a036[_0x47a9f3(0x526)]+_0x47a9f3(0x477):'')+_0x47a9f3(0x393)+_0x3eb8ae+_0x47a9f3(0x297);})[_0xd7fb85(0x4be)]('')+_0xd7fb85(0x6a9);_0x131047['document'][_0xd7fb85(0x2c5)](_0x175584),_0x131047[_0xd7fb85(0x1a7)][_0xd7fb85(0x207)](),_0x131047[_0xd7fb85(0xdf)]=function(){setTimeout(()=>{const _0x36a1b3=_0x323d;_0x131047[_0x36a1b3(0x79a)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x8c418b=_0x284edd;if(!currentQuizData||!currentQuizData[_0x8c418b(0x7d0)]){showMessage(_0x8c418b(0x70d));return;}const _0x421378=currentQuizData,_0x4de9c0=window[_0x8c418b(0x524)]('',_0x8c418b(0x676)),_0x2b55cf=_0x32a766=>String['fromCharCode'](0x41+_0x32a766),_0x99d84d=_0x8c418b(0x292)+_0x421378[_0x8c418b(0x479)]+_0x8c418b(0x10b)+_0x421378[_0x8c418b(0x7d0)][_0x8c418b(0x666)]((_0x4fdc63,_0x2669d4)=>{const _0x216607=_0x8c418b;let _0x524750='';const _0x30b1ce=_0x4fdc63[_0x216607(0x103)]||_0x421378[_0x216607(0x255)];switch(_0x30b1ce){case _0x216607(0x267):case _0x216607(0x672):_0x524750=_0x216607(0x2f1)+_0x4fdc63[_0x216607(0x230)]['map']((_0x32fdc1,_0x13928c)=>_0x216607(0x600)+_0x2b55cf(_0x13928c)+'.\x20'+_0x32fdc1+'</span>')[_0x216607(0x4be)](_0x216607(0x55f))+_0x216607(0x2e9);break;case _0x216607(0x7de):_0x524750=_0x216607(0x44d);break;default:_0x524750='';break;}return _0x216607(0x39f)+_0x421378['topic']+_0x216607(0x448)+(_0x2669d4+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x4fdc63['stem']||_0x4fdc63[_0x216607(0x28d)])+_0x216607(0x277)+(_0x4fdc63[_0x216607(0x526)]?_0x216607(0x288)+_0x4fdc63['imageCode']+_0x216607(0x477):'')+_0x216607(0x393)+_0x524750+_0x216607(0x570);})['join']('')+_0x8c418b(0x496);_0x4de9c0[_0x8c418b(0x1a7)][_0x8c418b(0x2c5)](_0x99d84d),_0x4de9c0['document'][_0x8c418b(0x207)](),_0x4de9c0[_0x8c418b(0xdf)]=function(){setTimeout(()=>{const _0xd5947d=_0x323d;_0x4de9c0[_0xd5947d(0x79a)]();},0x5dc);};}async function handleToggleStarQuiz(_0x3dc5b3){const _0x27dda4=_0x284edd,_0x2403bc=doc(db,_0x27dda4(0x6c1)+appId+'/public/data/quizzes',_0x3dc5b3);try{const _0x42e714=await getDoc(_0x2403bc);if(_0x42e714[_0x27dda4(0x4dc)]()){const _0x13afb4=_0x42e714['data']()[_0x27dda4(0x799)]||![];await updateDoc(_0x2403bc,{'isStarred':!_0x13afb4});}}catch(_0x370953){console[_0x27dda4(0x377)](_0x27dda4(0x358),_0x370953),showMessage(_0x27dda4(0x119));}}async function displayQuestionBank(){const _0x5ae957=_0x284edd,_0x2f7894=document[_0x5ae957(0x140)]('bank-input-area');_0x2f7894[_0x5ae957(0x52d)]=_0x5ae957(0x425);try{const _0x30c7c6=collection(db,_0x5ae957(0x6c1)+appId+_0x5ae957(0x332)+userId+'/questionBank'),_0x23c237=query(_0x30c7c6),_0x10981a=await getDocs(_0x23c237);if(_0x10981a['empty']){_0x2f7894[_0x5ae957(0x52d)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x58a369=_0x10981a[_0x5ae957(0x310)][_0x5ae957(0x666)](_0x441c22=>{const _0xb3c7ab=_0x5ae957,_0x33b0d6=_0x441c22[_0xb3c7ab(0x5b7)](),_0x886105=_0x441c22['id'];return _0xb3c7ab(0x51e)+JSON[_0xb3c7ab(0x501)](_0x33b0d6)+_0xb3c7ab(0x716)+(_0x33b0d6[_0xb3c7ab(0x28d)]||_0x33b0d6[_0xb3c7ab(0x63f)])+_0xb3c7ab(0x79b)+_0x33b0d6['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5ae957(0x4be)]('');_0x2f7894['innerHTML']=_0x5ae957(0x5f9)+_0x58a369+_0x5ae957(0x2cf),document[_0x5ae957(0x140)](_0x5ae957(0x5ac))[_0x5ae957(0x14b)](_0x5ae957(0x268),createQuizFromBank);}catch(_0x2b8560){console['error']('Error\x20displaying\x20question\x20bank:',_0x2b8560),_0x2f7894['innerHTML']=_0x5ae957(0x6df);}}function showAdminLiveQuestionView(_0xe4c4a5,_0x51a8f5,_0x2670c0){const _0x5486a0=_0x284edd,_0x4b7b23=_0xe4c4a5['questionType']||currentQuizData[_0x5486a0(0x255)];let _0xc5b86b='';if(_0x4b7b23===_0x5486a0(0x267)||_0x4b7b23===_0x5486a0(0x7de)){const _0x25fd98=_0x4b7b23===_0x5486a0(0x7de)?['ใช่',_0x5486a0(0x59b)]:_0xe4c4a5[_0x5486a0(0x230)],_0x108d43=_0x4b7b23===_0x5486a0(0x7de)?_0xe4c4a5[_0x5486a0(0x7a4)]?0x0:0x1:_0xe4c4a5[_0x5486a0(0x31c)];_0xc5b86b=_0x25fd98['map']((_0x5b88fa,_0x3b96c7)=>_0x5486a0(0x421)+(_0x3b96c7===_0x108d43)+_0x5486a0(0x341)+_0x5b88fa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5486a0(0x4be)]('');}else{if(_0x4b7b23===_0x5486a0(0x159)){const _0x215015=_0xe4c4a5[_0x5486a0(0x260)]||[];_0xc5b86b=_0x215015[_0x5486a0(0x666)](_0x13f2f4=>_0x5486a0(0x421)+(_0x13f2f4===_0xe4c4a5[_0x5486a0(0x708)])+_0x5486a0(0x341)+_0x13f2f4+_0x5486a0(0x737))['join']('');}}const _0x52a0eb=_0xe4c4a5[_0x5486a0(0x63f)]||_0xe4c4a5[_0x5486a0(0x28d)],_0x96fcbf=_0x5486a0(0x751)+(_0x51a8f5+0x1)+_0x5486a0(0x56b)+_0x2670c0+_0x5486a0(0x43b)+_0x52a0eb+_0x5486a0(0x2b7)+_0xc5b86b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x5486a0(0x52d)]=_0x96fcbf;window[_0x5486a0(0x476)]&&MathJax[_0x5486a0(0x41b)]&&MathJax[_0x5486a0(0x41b)]([liveGameView]);const _0x29b511=document['getElementById'](_0x5486a0(0x1e1));document[_0x5486a0(0x140)](_0x5486a0(0x2ba))[_0x5486a0(0x14b)](_0x5486a0(0x268),async()=>{const _0x3cf466=_0x5486a0,_0x55057f=doc(db,_0x3cf466(0x6c1)+appId+_0x3cf466(0x30b),currentLiveGameId);await updateDoc(_0x55057f,{'questionStatus':'revealed'});const _0x2834a4=liveGameView[_0x3cf466(0x62c)](_0x3cf466(0x430));_0x2834a4&&(_0x2834a4['classList'][_0x3cf466(0x6f8)](_0x3cf466(0x243)),_0x2834a4[_0x3cf466(0x44b)]['add'](_0x3cf466(0xc9),_0x3cf466(0x166),_0x3cf466(0x4aa),_0x3cf466(0x34a),_0x3cf466(0x44e)),_0x2834a4['innerHTML']=_0x3cf466(0x646)+_0x2834a4['innerHTML']),_0x29b511[_0x3cf466(0x52d)]=_0x3cf466(0x6b0)+(_0x51a8f5+0x1===_0x2670c0?_0x3cf466(0x784):_0x3cf466(0xef))+_0x3cf466(0x382),document[_0x3cf466(0x140)](_0x3cf466(0x433))[_0x3cf466(0x14b)](_0x3cf466(0x268),async()=>{const _0x9bccad=_0x3cf466,_0x45f14e=doc(db,_0x9bccad(0x6c1)+appId+'/public/data/liveGames',currentLiveGameId),_0x2d7a1c=await getDoc(_0x45f14e);if(!_0x2d7a1c[_0x9bccad(0x4dc)]())return;const _0x5e0dcd=_0x2d7a1c[_0x9bccad(0x5b7)](),_0x350476={};if(_0x5e0dcd[_0x9bccad(0x2a3)])for(const _0x4c228f in _0x5e0dcd[_0x9bccad(0x2a3)]){_0x350476[_0x9bccad(0x188)+_0x4c228f+_0x9bccad(0x561)]=![];}const _0x5581a6=_0x51a8f5+0x1;_0x5581a6<_0x2670c0?(_0x350476[_0x9bccad(0x58e)]=_0x5581a6,_0x350476[_0x9bccad(0x731)]=serverTimestamp(),_0x350476[_0x9bccad(0x1e8)]=_0x9bccad(0x2b5),await updateDoc(_0x45f14e,_0x350476)):await updateDoc(_0x45f14e,{'status':_0x9bccad(0x66e)});});}),document[_0x5486a0(0x140)](_0x5486a0(0x191))[_0x5486a0(0x14b)](_0x5486a0(0x268),async()=>{const _0x50a158=_0x5486a0,_0x26eec3=doc(db,_0x50a158(0x6c1)+appId+_0x50a158(0x30b),currentLiveGameId);await deleteDoc(_0x26eec3),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x39351b,_0x1769ab,_0x15d9da){const _0x4184a9=_0x284edd,_0x2dbcee=_0x39351b[_0x4184a9(0x103)]||currentQuizData[_0x4184a9(0x255)];let _0x78a0b3='';if(_0x2dbcee===_0x4184a9(0x267)||_0x2dbcee===_0x4184a9(0x7de)){const _0x1b6590=_0x2dbcee===_0x4184a9(0x7de)?[_0x4184a9(0x3d3),'ไม่ใช่']:_0x39351b['options'];_0x78a0b3=_0x1b6590[_0x4184a9(0x666)]((_0x44d524,_0x26b363)=>_0x4184a9(0x621)+_0x26b363+_0x4184a9(0x5c3)+_0x44d524+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4184a9(0x4be)]('');}else{if(_0x2dbcee==='matching_item'){const _0x4f28a0=_0x39351b[_0x4184a9(0x260)]||[];_0x78a0b3=_0x4f28a0[_0x4184a9(0x666)]((_0x2320a0,_0x10f4d4)=>_0x4184a9(0x621)+_0x10f4d4+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2320a0+_0x4184a9(0x684))[_0x4184a9(0x4be)]('');}else _0x2dbcee===_0x4184a9(0x4eb)&&(_0x78a0b3=_0x4184a9(0x56f));}const _0x5572cb=_0x39351b['stem']||_0x39351b[_0x4184a9(0x28d)],_0x3908a4=_0x4184a9(0x78a)+(_0x1769ab+0x1)+'\x20/\x20'+_0x15d9da+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x5572cb+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x78a0b3+_0x4184a9(0x7b1);liveGameView[_0x4184a9(0x52d)]=_0x3908a4;window[_0x4184a9(0x476)]&&MathJax[_0x4184a9(0x41b)]&&MathJax['typesetPromise']([liveGameView]);const _0x1bcb6a=document[_0x4184a9(0x140)]('live-submit-short-answer-btn');_0x1bcb6a&&_0x1bcb6a[_0x4184a9(0x14b)](_0x4184a9(0x268),()=>{const _0x12a5fb=_0x4184a9,_0xc35ab7=document[_0x12a5fb(0x140)](_0x12a5fb(0x21f))[_0x12a5fb(0x617)];handleLiveAnswer(_0xc35ab7,_0x39351b);}),document[_0x4184a9(0x140)](_0x4184a9(0x677))['addEventListener'](_0x4184a9(0x268),_0x1b965b=>{const _0x1cb166=_0x4184a9,_0x3a87f9=_0x1b965b['target'][_0x1cb166(0x791)]('.live-answer-btn');if(_0x3a87f9){const _0x277b12=parseInt(_0x3a87f9[_0x1cb166(0x557)][_0x1cb166(0x114)]);handleLiveAnswer(_0x277b12,_0x39351b);}});}async function handleLiveAnswer(_0x11de6d,_0x2c40b7){const _0xf61430=_0x284edd;document['querySelectorAll'](_0xf61430(0x36f))[_0xf61430(0x335)](_0x2f5b5c=>_0x2f5b5c[_0xf61430(0x54e)]=!![]);const _0xa787b9=_0x2c40b7[_0xf61430(0x103)]||currentQuizData[_0xf61430(0x255)];let _0x49404c=![];if(_0xa787b9==='short_answer'){const _0x4b2f8e=(_0x11de6d||'')['toString']();_0x49404c=await gradeShortAnswer(_0x4b2f8e,_0x2c40b7);}else{if(_0xa787b9==='multiple_choice')_0x49404c=_0x11de6d===_0x2c40b7[_0xf61430(0x31c)];else{if(_0xa787b9==='true_false'){const _0x19d834=_0x2c40b7['correctAnswer'];_0x49404c=_0x11de6d===0x0&&_0x19d834||_0x11de6d===0x1&&!_0x19d834;}else{if(_0xa787b9===_0xf61430(0x159)){const _0x45253a=_0x2c40b7[_0xf61430(0x260)][_0x11de6d];_0x49404c=_0x45253a===_0x2c40b7[_0xf61430(0x708)];}}}}const _0xce05a=doc(db,_0xf61430(0x6c1)+appId+_0xf61430(0x30b),currentLiveGameId),_0xcef939=await getDoc(_0xce05a);if(!_0xcef939[_0xf61430(0x4dc)]())return;const _0x1b9de6=_0xcef939[_0xf61430(0x5b7)](),_0x210d6c=_0x1b9de6['players'][currentStudentName];let _0x1a8709=_0x210d6c[_0xf61430(0x6d6)]||[],_0x1d5215=_0x210d6c[_0xf61430(0x61f)]||0x0;const _0xed16f9={};let _0x2447b6=0x0;if(_0x1b9de6[_0xf61430(0x731)]){const _0x20161c=_0x1b9de6[_0xf61430(0x731)][_0xf61430(0x1f4)](),_0x3512da=new Date()-_0x20161c;if(_0x49404c){const _0xcc2bd5=0x3e8,_0xa28b00=0x1f4,_0xe3b435=0x4e20;let _0x1ce56d=_0x3512da/_0xe3b435;if(_0x1ce56d>0x1)_0x1ce56d=0x1;const _0x4c3332=Math['round'](_0x1ce56d*_0xa28b00);_0x2447b6=_0xcc2bd5-_0x4c3332,_0x3512da<=0x1388&&!_0x1a8709[_0xf61430(0x4ab)]('quick_thinker')&&_0x1a8709['push'](_0xf61430(0x4f8));}}_0x49404c?(_0x1d5215++,_0x1d5215===0x3&&!_0x1a8709['includes'](_0xf61430(0x314))&&(_0x1a8709[_0xf61430(0x1b8)](_0xf61430(0x314)),_0x1d5215=0x0)):_0x1d5215=0x0,_0x49404c&&(_0xed16f9[_0xf61430(0x188)+currentStudentName+_0xf61430(0x3ce)]=increment(_0x2447b6)),_0xed16f9[_0xf61430(0x188)+currentStudentName+_0xf61430(0x287)]=_0x1a8709,_0xed16f9[_0xf61430(0x188)+currentStudentName+_0xf61430(0x376)]=_0x1d5215,_0xed16f9['players.'+currentStudentName+_0xf61430(0x561)]=!![],_0xed16f9['players.'+currentStudentName+_0xf61430(0x761)]=_0x49404c,_0xed16f9[_0xf61430(0x188)+currentStudentName+_0xf61430(0x42b)]=_0x2447b6,await updateDoc(_0xce05a,_0xed16f9),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function createQuizFromBank(){const _0x2c0dc7=_0x284edd,_0x2bcb50=document[_0x2c0dc7(0x39b)](_0x2c0dc7(0x374));if(_0x2bcb50['length']===0x0){showMessage(_0x2c0dc7(0x76f));return;}const _0xa6c7a=[];_0x2bcb50[_0x2c0dc7(0x335)](_0x4a0086=>{const _0x36fbcd=_0x2c0dc7;_0xa6c7a[_0x36fbcd(0x1b8)](JSON[_0x36fbcd(0x41c)](_0x4a0086[_0x36fbcd(0x617)]));});const _0x4990fa={'topic':_0x2c0dc7(0x449),'questions':_0xa6c7a};displayGeneratedQuiz(_0x4990fa);}function showAdminLobbyView(_0x72e949,_0x4be499){const _0x2140cf=_0x284edd;showView(_0x2140cf(0x1f1));const _0x3e0900=_0x2140cf(0x227)+_0x4be499+_0x2140cf(0x724)+_0x72e949+_0x2140cf(0x353);liveGameView[_0x2140cf(0x52d)]=_0x3e0900,document[_0x2140cf(0x140)](_0x2140cf(0x4ef))[_0x2140cf(0x14b)]('click',async()=>{const _0x67bd0=_0x2140cf;if(!currentQuizData||!currentQuizData[_0x67bd0(0x7d0)]||currentQuizData['questions'][_0x67bd0(0x357)]===0x0){showMessage(_0x67bd0(0x79f));return;}try{const _0x15a979=doc(db,_0x67bd0(0x6c1)+appId+_0x67bd0(0x30b),currentLiveGameId);await updateDoc(_0x15a979,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xded1a6=currentQuizData[_0x67bd0(0x7d0)][0x0],_0x32be77=currentQuizData[_0x67bd0(0x7d0)][_0x67bd0(0x357)];showAdminLiveQuestionView(_0xded1a6,0x0,_0x32be77);}catch(_0x40780c){console[_0x67bd0(0x377)](_0x67bd0(0x77e),_0x40780c),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x274940=_0x284edd;if(allQuizzesGlobal[_0x274940(0x357)]===0x0){const _0x59f156=await getDocs(collection(db,'artifacts/'+appId+_0x274940(0x127)));allQuizzesGlobal=_0x59f156['docs'][_0x274940(0x666)](_0x577170=>({'id':_0x577170['id'],..._0x577170[_0x274940(0x5b7)]()}));}renderGlobalQuizList(''),document[_0x274940(0x140)]('global-live-game-modal')[_0x274940(0x44b)][_0x274940(0x6f8)](_0x274940(0x396));}async function openQuizBankModal(){const _0x3faf4e=_0x284edd;if(allQuizzesGlobal['length']===0x0){const _0x4978b6=await getDocs(collection(db,_0x3faf4e(0x6c1)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x4978b6[_0x3faf4e(0x310)]['map'](_0x58d9d9=>({'id':_0x58d9d9['id'],..._0x58d9d9[_0x3faf4e(0x5b7)]()}));}renderQuizBankList(''),document['getElementById'](_0x3faf4e(0x258))['classList'][_0x3faf4e(0x6f8)]('hidden');}function renderQuizBankList(_0x316725=''){const _0x48065d=_0x284edd,_0x402230=document[_0x48065d(0x140)](_0x48065d(0x1d6)),_0x360aee=_0x316725[_0x48065d(0x6d3)]()[_0x48065d(0xd4)](),_0x416caf=allQuizzesGlobal[_0x48065d(0x666)](_0x3be26a=>({..._0x3be26a,'projectName':allProjects[_0x48065d(0x4b7)](_0x53d90e=>_0x53d90e['id']===_0x3be26a[_0x48065d(0x756)])?.['projectName']||_0x48065d(0x51f)}))[_0x48065d(0x3fe)](_0x1a9570=>(_0x1a9570[_0x48065d(0x479)]||'')['toLowerCase']()[_0x48065d(0x4ab)](_0x360aee)||(_0x1a9570[_0x48065d(0x45b)]||'')[_0x48065d(0x6d3)]()[_0x48065d(0x4ab)](_0x360aee)||_0x1a9570['id'][_0x48065d(0x722)]()[_0x48065d(0x4ab)](_0x360aee));document[_0x48065d(0x140)]('quiz-bank-count')[_0x48065d(0x61d)]='('+_0x416caf[_0x48065d(0x357)]+_0x48065d(0x47d),_0x402230[_0x48065d(0x52d)]=_0x416caf[_0x48065d(0x357)]?_0x416caf[_0x48065d(0x666)](_0x18277a=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x18277a['id']+_0x48065d(0x3a7)+(_0x18277a[_0x48065d(0x479)]||_0x48065d(0x565))+_0x48065d(0x22a)+(_0x18277a[_0x48065d(0x7d0)]?.[_0x48065d(0x357)]||0x0)+_0x48065d(0x6a8)+_0x18277a[_0x48065d(0x45b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x18277a['id']+_0x48065d(0x2d0)+_0x18277a['id']+_0x48065d(0x211)+_0x18277a['id']+_0x48065d(0x2e2)+_0x18277a['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x48065d(0x4be)](''):_0x48065d(0x493),_0x402230[_0x48065d(0x39b)](_0x48065d(0x6d9))[_0x48065d(0x335)](_0x2f184c=>{const _0x400bee=_0x48065d;_0x2f184c[_0x400bee(0x14b)](_0x400bee(0x268),()=>{const _0x1db9cc=_0x400bee,_0x909aee=_0x2f184c[_0x1db9cc(0x557)]['id'];document[_0x1db9cc(0x140)](_0x1db9cc(0x258))[_0x1db9cc(0x44b)][_0x1db9cc(0x281)](_0x1db9cc(0x396)),showQuizDetailView(_0x909aee);});}),_0x402230[_0x48065d(0x39b)]('.quiz-bank-try-btn')[_0x48065d(0x335)](_0x5712cb=>{const _0x692ae=_0x48065d;_0x5712cb[_0x692ae(0x14b)](_0x692ae(0x268),_0x52bcb1=>{const _0x92f55a=_0x692ae;_0x52bcb1[_0x92f55a(0xcd)]();const _0x9d96e0=_0x5712cb[_0x92f55a(0x557)]['id'],_0x43264c=allQuizzesGlobal[_0x92f55a(0x4b7)](_0x4d97ed=>_0x4d97ed['id']===_0x9d96e0);_0x43264c?(currentQuizData=_0x43264c,document[_0x92f55a(0x140)]('quiz-bank-modal')[_0x92f55a(0x44b)][_0x92f55a(0x281)]('hidden'),startAdminTest()):showMessage(_0x92f55a(0x615));});}),_0x402230[_0x48065d(0x39b)](_0x48065d(0x11d))[_0x48065d(0x335)](_0x2f57c9=>{const _0x4e792d=_0x48065d;_0x2f57c9[_0x4e792d(0x14b)](_0x4e792d(0x268),_0x2f16e6=>{const _0x3abc89=_0x4e792d;_0x2f16e6[_0x3abc89(0xcd)]();const _0x1c75be=_0x2f57c9['dataset']['id'],_0x26bc7e=allQuizzesGlobal[_0x3abc89(0x4b7)](_0x58564a=>_0x58564a['id']===_0x1c75be);_0x26bc7e?(document[_0x3abc89(0x140)]('quiz-bank-modal')[_0x3abc89(0x44b)]['add'](_0x3abc89(0x396)),handleGenerateParallelFromBank(_0x26bc7e)):showMessage(_0x3abc89(0x615));});}),_0x402230[_0x48065d(0x39b)](_0x48065d(0x245))[_0x48065d(0x335)](_0x358c2b=>{const _0x43982e=_0x48065d;_0x358c2b[_0x43982e(0x14b)](_0x43982e(0x268),_0x231d45=>{const _0x3712f3=_0x43982e;_0x231d45[_0x3712f3(0xcd)]();const _0x276086=_0x358c2b['dataset']['id'],_0x1a24b1=allQuizzesGlobal[_0x3712f3(0x4b7)](_0x1bc447=>_0x1bc447['id']===_0x276086);_0x1a24b1?(document[_0x3712f3(0x140)]('quiz-bank-modal')[_0x3712f3(0x44b)][_0x3712f3(0x281)](_0x3712f3(0x396)),startPresentation(_0x1a24b1)):showMessage(_0x3712f3(0x615));});});}async function handleCompareResults(_0x46c61b,_0x5677ad){const _0x3e9c37=_0x284edd,_0x51e879=document[_0x3e9c37(0x140)](_0x3e9c37(0x60d)),_0x217fca=document['getElementById'](_0x3e9c37(0x307)),_0x8805f1=document['getElementById'](_0x3e9c37(0x1d7));document[_0x3e9c37(0x140)]('comparison-overall-tab')[_0x3e9c37(0x44b)][_0x3e9c37(0x281)](_0x3e9c37(0x744)),document[_0x3e9c37(0x140)](_0x3e9c37(0x436))[_0x3e9c37(0x44b)][_0x3e9c37(0x6f8)](_0x3e9c37(0x744)),_0x217fca['classList'][_0x3e9c37(0x6f8)](_0x3e9c37(0x396)),_0x8805f1[_0x3e9c37(0x44b)]['add'](_0x3e9c37(0x396)),_0x217fca[_0x3e9c37(0x52d)]=_0x3e9c37(0x425),_0x8805f1[_0x3e9c37(0x52d)]='',_0x51e879[_0x3e9c37(0x44b)][_0x3e9c37(0x6f8)]('hidden');try{const _0x328b41=doc(db,_0x3e9c37(0x6c1)+appId+_0x3e9c37(0x127),_0x46c61b),_0x713a31=await getDoc(_0x328b41);if(!_0x713a31[_0x3e9c37(0x4dc)]())throw new Error(_0x3e9c37(0x208));const _0x59b14d=_0x713a31[_0x3e9c37(0x5b7)](),_0x4ac97d=_0x59b14d['questions']['length'],_0x2b4893=collection(db,_0x3e9c37(0x6c1)+appId+_0x3e9c37(0x65e)+_0x5677ad+_0x3e9c37(0x5f7)),_0x1e39ed=collection(db,_0x3e9c37(0x6c1)+appId+_0x3e9c37(0x65e)+_0x46c61b+'/submissions'),[_0x2ad899,_0x2483af]=await Promise[_0x3e9c37(0x528)]([getDocs(_0x2b4893),getDocs(_0x1e39ed)]),_0x3b6322=_0x2ad899[_0x3e9c37(0x310)][_0x3e9c37(0x666)](_0x2d6f9f=>_0x2d6f9f[_0x3e9c37(0x5b7)]()),_0x7f411c=_0x2483af['docs'][_0x3e9c37(0x666)](_0xfe9c9f=>_0xfe9c9f[_0x3e9c37(0x5b7)]()),_0x5ba132=_0x3b6322[_0x3e9c37(0x666)](_0x1b2126=>_0x1b2126[_0x3e9c37(0xda)]),_0x4712a9=_0x7f411c[_0x3e9c37(0x666)](_0x514a67=>_0x514a67['latestScore']),_0xd334b9=calculateMeanAndStdDev(_0x5ba132),_0xb30235=calculateMeanAndStdDev(_0x4712a9),_0x27f5a9=_0xd334b9['mean'],_0x590a70=_0xb30235['mean'],_0x33041a=_0x590a70-_0x27f5a9;let _0x5d35c1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x27f5a9[_0x3e9c37(0x1a2)](0x2)+_0x3e9c37(0x576)+_0x590a70['toFixed'](0x2)+_0x3e9c37(0x78e)+(_0x33041a>=0x0?_0x3e9c37(0x31f):_0x3e9c37(0x697))+_0x3e9c37(0x138)+(_0x33041a>=0x0?_0x3e9c37(0x471):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x33041a>=0x0?_0x3e9c37(0x7ad):_0x3e9c37(0x1a0))+'\x22>'+(_0x33041a>=0x0?'+':'')+_0x33041a[_0x3e9c37(0x1a2)](0x2)+_0x3e9c37(0x24c);_0x217fca[_0x3e9c37(0x52d)]=_0x5d35c1;const _0x34f32a=document[_0x3e9c37(0x140)]('comparison-chart')[_0x3e9c37(0x4a9)]('2d');if(chartInstances['comparison'])chartInstances[_0x3e9c37(0x424)]['destroy']();chartInstances[_0x3e9c37(0x424)]=new Chart(_0x34f32a,{'type':_0x3e9c37(0x6aa),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x3e9c37(0x671),'data':[_0x27f5a9],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x590a70],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4ac97d}}}});const _0x24e4ed=currentProjectData['students']||[],_0x4d5ab1=_0x24e4ed['map'](_0x25868f=>{const _0x4bcbba=_0x3e9c37,_0x4374c0=_0x3b6322[_0x4bcbba(0x4b7)](_0x37708f=>_0x37708f[_0x4bcbba(0x5c2)]===_0x25868f),_0x4e1be5=_0x7f411c[_0x4bcbba(0x4b7)](_0xb03d34=>_0xb03d34[_0x4bcbba(0x5c2)]===_0x25868f),_0x508986=_0x4374c0?_0x4374c0[_0x4bcbba(0xda)]:null,_0x496129=_0x4e1be5?_0x4e1be5[_0x4bcbba(0xda)]:null,_0xd4ccb5=_0x508986!==null&&_0x496129!==null?_0x496129-_0x508986:null,_0x49c1a6=_0x508986!==null?calculateZScore(_0x508986,_0xd334b9[_0x4bcbba(0x53a)],_0xd334b9[_0x4bcbba(0x589)]):null,_0x26585d=_0x496129!==null?calculateZScore(_0x496129,_0xb30235[_0x4bcbba(0x53a)],_0xb30235[_0x4bcbba(0x589)]):null,_0x4b0f00=_0x49c1a6!==null?calculateTScore(_0x49c1a6):null,_0x2dcab9=_0x26585d!==null?calculateTScore(_0x26585d):null,_0x25ba4d=_0x4b0f00!==null&&_0x2dcab9!==null?_0x2dcab9-_0x4b0f00:null;return{'name':_0x25868f,'preScore':_0x508986,'postScore':_0x496129,'gain':_0xd4ccb5,'preTScore':_0x4b0f00,'postTScore':_0x2dcab9,'tGain':_0x25ba4d};});renderIndividualComparisonTable(_0x4d5ab1,_0x8805f1);}catch(_0x46e19f){console[_0x3e9c37(0x377)](_0x3e9c37(0x698),_0x46e19f),_0x217fca[_0x3e9c37(0x52d)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function renderIndividualComparisonTable(_0x3516aa,_0x453a62){const _0x8a9110=_0x284edd;_0x3516aa[_0x8a9110(0x137)]((_0x5a6e11,_0x1f9390)=>(_0x1f9390[_0x8a9110(0x1b9)]??-Infinity)-(_0x5a6e11[_0x8a9110(0x1b9)]??-Infinity));let _0x278470='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x3516aa[_0x8a9110(0x357)]===0x0?_0x278470+=_0x8a9110(0x75d):_0x3516aa[_0x8a9110(0x335)]((_0x84ec2f,_0x219670)=>{const _0x4ef06e=_0x8a9110;let _0x607501='-',_0x5c3d8d='';if(_0x84ec2f[_0x4ef06e(0x38a)]!==null){const _0x35f195=_0x84ec2f[_0x4ef06e(0x38a)]>0x0?_0x4ef06e(0x3a0):_0x84ec2f[_0x4ef06e(0x38a)]<0x0?_0x4ef06e(0x4d3):_0x4ef06e(0x129),_0x29d24c=_0x84ec2f[_0x4ef06e(0x38a)]>0x0?'+':'';_0x607501=_0x4ef06e(0x257)+_0x35f195+'\x22>'+_0x29d24c+_0x84ec2f['gain']+_0x4ef06e(0x32a);if(_0x84ec2f[_0x4ef06e(0x38a)]>0x0)_0x5c3d8d='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x84ec2f[_0x4ef06e(0x38a)]<0x0?_0x5c3d8d=_0x4ef06e(0x541):_0x5c3d8d=_0x4ef06e(0x7d8);}let _0x49669a='-';if(_0x84ec2f[_0x4ef06e(0x1b9)]!==null){const _0x2d093b=_0x84ec2f[_0x4ef06e(0x1b9)]>0x0?_0x4ef06e(0x3a0):_0x84ec2f[_0x4ef06e(0x1b9)]<0x0?'text-red-600':_0x4ef06e(0x129),_0x31db44=_0x84ec2f['tGain']>0x0?'+':'';_0x49669a='<span\x20class=\x22font-bold\x20'+_0x2d093b+'\x22>'+_0x31db44+_0x84ec2f[_0x4ef06e(0x1b9)][_0x4ef06e(0x1a2)](0x2)+_0x4ef06e(0x32a);}_0x278470+=_0x4ef06e(0x11a)+(_0x219670+0x1)+_0x4ef06e(0x409)+_0x84ec2f[_0x4ef06e(0x61e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x84ec2f['preScore']??'-')+_0x4ef06e(0x330)+(_0x84ec2f['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x607501+_0x4ef06e(0x502)+_0x5c3d8d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x84ec2f[_0x4ef06e(0x252)]?.[_0x4ef06e(0x1a2)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x84ec2f[_0x4ef06e(0x742)]?.[_0x4ef06e(0x1a2)](0x2)??'-')+_0x4ef06e(0x29a)+_0x49669a+_0x4ef06e(0x398);}),_0x278470+=_0x8a9110(0x665),_0x453a62[_0x8a9110(0x52d)]=_0x278470;}function setupComparisonModalTabs(){const _0x1ef381=_0x284edd,_0x1a3deb=document[_0x1ef381(0x140)](_0x1ef381(0x5d6)),_0x4f6b58=document[_0x1ef381(0x140)](_0x1ef381(0x436)),_0x20d43d=document[_0x1ef381(0x140)](_0x1ef381(0x307)),_0x57ec95=document['getElementById'](_0x1ef381(0x1d7));_0x1a3deb[_0x1ef381(0x14b)]('click',()=>{const _0x546a25=_0x1ef381;_0x1a3deb[_0x546a25(0x44b)][_0x546a25(0x281)](_0x546a25(0x744)),_0x4f6b58['classList'][_0x546a25(0x6f8)](_0x546a25(0x744)),_0x20d43d[_0x546a25(0x44b)][_0x546a25(0x6f8)](_0x546a25(0x396)),_0x57ec95[_0x546a25(0x44b)][_0x546a25(0x281)]('hidden');}),_0x4f6b58[_0x1ef381(0x14b)]('click',()=>{const _0x3420a5=_0x1ef381;_0x4f6b58[_0x3420a5(0x44b)][_0x3420a5(0x281)]('active'),_0x1a3deb['classList']['remove'](_0x3420a5(0x744)),_0x57ec95[_0x3420a5(0x44b)]['remove'](_0x3420a5(0x396)),_0x20d43d[_0x3420a5(0x44b)][_0x3420a5(0x281)](_0x3420a5(0x396));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x44c57e=''){const _0x3425a=_0x284edd,_0x5046cf=document[_0x3425a(0x140)](_0x3425a(0x226)),_0x460163=_0x44c57e['toLowerCase']()['trim'](),_0xfda443=allQuizzesGlobal[_0x3425a(0x666)](_0x3a035b=>({..._0x3a035b,'projectName':allProjects[_0x3425a(0x4b7)](_0x7498ef=>_0x7498ef['id']===_0x3a035b[_0x3425a(0x756)])?.['projectName']||_0x3a035b[_0x3425a(0x756)]}))[_0x3425a(0x3fe)](_0x5da301=>(_0x5da301[_0x3425a(0x479)]||'')[_0x3425a(0x6d3)]()[_0x3425a(0x4ab)](_0x460163)||(_0x5da301[_0x3425a(0x45b)]||'')['toLowerCase']()['includes'](_0x460163));document[_0x3425a(0x140)](_0x3425a(0x604))[_0x3425a(0x61d)]='('+_0xfda443[_0x3425a(0x357)]+_0x3425a(0x47d),_0x5046cf[_0x3425a(0x52d)]=_0xfda443[_0x3425a(0x357)]?_0xfda443[_0x3425a(0x666)](_0x1dc460=>_0x3425a(0x540)+_0x1dc460['id']+_0x3425a(0x104)+(_0x1dc460[_0x3425a(0x479)]||_0x3425a(0x565))+_0x3425a(0x135)+(_0x1dc460[_0x3425a(0x7d0)]?.[_0x3425a(0x357)]||0x0)+_0x3425a(0x452)+_0x1dc460['projectName']+_0x3425a(0x3a9))['join'](''):_0x3425a(0x120),selectedGlobalQuizId=null,document[_0x3425a(0x140)](_0x3425a(0xd9))[_0x3425a(0x54e)]=!![],_0x5046cf['querySelectorAll'](_0x3425a(0x3c4))[_0x3425a(0x335)](_0x12523b=>{const _0x12c6e1=_0x3425a;_0x12523b['addEventListener'](_0x12c6e1(0x268),()=>{const _0x58e9f7=_0x12c6e1;selectedGlobalQuizId=_0x12523b[_0x58e9f7(0x557)]['id'],_0x5046cf['querySelectorAll'](_0x58e9f7(0x338))[_0x58e9f7(0x335)](_0x386e32=>_0x386e32[_0x58e9f7(0x44b)][_0x58e9f7(0x6f8)]('bg-purple-50',_0x58e9f7(0x2a5),_0x58e9f7(0x5b6))),_0x12523b[_0x58e9f7(0x44b)][_0x58e9f7(0x281)](_0x58e9f7(0x26b),'ring-2','ring-purple-400'),document['getElementById']('confirm-global-live-btn')['disabled']=![];});});}function listenForLiveGameUpdates(){const _0xdec6d4=_0x284edd;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x37f204=doc(db,_0xdec6d4(0x6c1)+appId+_0xdec6d4(0x30b),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x37f204,_0x17d4f5=>{const _0x599118=_0xdec6d4;if(!_0x17d4f5[_0x599118(0x4dc)]()){showMessage(_0x599118(0x70c)),showView(currentMode);return;}const _0x266ae5=_0x17d4f5[_0x599118(0x5b7)]();!currentQuizData&&_0x266ae5['quizId']&&((async()=>{const _0x3e34a8=_0x599118;try{const _0x461893=doc(db,_0x3e34a8(0x6c1)+appId+'/public/data/quizzes',_0x266ae5[_0x3e34a8(0x236)]),_0x76da3=await getDoc(_0x461893);_0x76da3[_0x3e34a8(0x4dc)]()&&(currentQuizData={'id':_0x76da3['id'],..._0x76da3[_0x3e34a8(0x5b7)]()});}catch(_0x55bf92){console[_0x3e34a8(0x377)](_0x3e34a8(0x1ce),_0x55bf92);}})());switch(_0x266ae5[_0x599118(0x5df)]){case'lobby':if(currentMode===_0x599118(0x4df)){const _0xd3e196=_0x266ae5[_0x599118(0x2a3)]?Object['keys'](_0x266ae5[_0x599118(0x2a3)]):[];document[_0x599118(0x140)](_0x599118(0x44f))[_0x599118(0x61d)]=_0xd3e196[_0x599118(0x357)],document[_0x599118(0x140)](_0x599118(0x38d))[_0x599118(0x52d)]=_0xd3e196[_0x599118(0x666)](_0xfadea6=>_0x599118(0x40e)+_0xfadea6+_0x599118(0x32a))[_0x599118(0x4be)]('');const _0x3309db=document['getElementById']('start-game-btn');_0x3309db&&(_0x3309db[_0x599118(0x54e)]=_0xd3e196['length']===0x0);}else showView('live-game'),liveGameView[_0x599118(0x52d)]=_0x599118(0x156)+currentStudentName+_0x599118(0x530);break;case _0x599118(0x27d):const _0xab49a5=_0x266ae5[_0x599118(0x58e)];if(currentQuizData&&currentQuizData['questions'][_0xab49a5]){const _0x3e019b=currentQuizData[_0x599118(0x7d0)][_0xab49a5],_0x4c3319=currentQuizData[_0x599118(0x7d0)]['length'];if(currentMode===_0x599118(0x4df)){lastRenderedAdminQuestionIndex!==_0xab49a5&&(showAdminLiveQuestionView(_0x3e019b,_0xab49a5,_0x4c3319),lastRenderedAdminQuestionIndex=_0xab49a5);const _0x51752e=document[_0x599118(0x140)](_0x599118(0x637));if(_0x51752e&&_0x266ae5['players']){const _0x3cb58d=Object[_0x599118(0x74d)](_0x266ae5[_0x599118(0x2a3)])['length'],_0x28cc78=Object[_0x599118(0x511)](_0x266ae5[_0x599118(0x2a3)])[_0x599118(0x3fe)](_0x1daaf3=>_0x1daaf3[_0x599118(0x25b)]===!![])[_0x599118(0x357)];_0x51752e[_0x599118(0x61d)]=_0x28cc78+'/'+_0x3cb58d,_0x3cb58d>0x0&&_0x28cc78===_0x3cb58d&&_0x266ae5[_0x599118(0x1e8)]!==_0x599118(0x647)&&revealAnswerForAdmin(_0xab49a5,_0x4c3319);}}else{const _0x4d9dae=_0x266ae5[_0x599118(0x2a3)][currentStudentName];if(_0x266ae5[_0x599118(0x1e8)]===_0x599118(0x647)){if(_0x4d9dae[_0x599118(0x25b)]){const _0x31171e=_0x4d9dae[_0x599118(0x2c7)],_0x505cce=_0x4d9dae[_0x599118(0x262)]||0x0,_0x37d84b=_0x31171e?_0x599118(0x329)+_0x505cce+_0x599118(0x630):_0x599118(0x455);liveGameView[_0x599118(0x52d)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>'+_0x37d84b+_0x599118(0x52f);}else liveGameView[_0x599118(0x52d)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else!_0x4d9dae[_0x599118(0x25b)]&&showStudentLiveQuestionView(_0x3e019b,_0xab49a5,_0x4c3319);}}break;case _0x599118(0x66e):showPodiumView(_0x266ae5[_0x599118(0x2a3)]);break;}});}async function authenticateUser(){const _0x2918b2=_0x284edd;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x22613f){console['error']('Authentication\x20failed:',_0x22613f),showMessage(_0x2918b2(0x20a));}}function showView(_0x15f795){const _0x467483=_0x284edd,_0x5b3257=[_0x467483(0x6ed),_0x467483(0x652),'project-dashboard-view',_0x467483(0x3eb),'quiz-results-view',_0x467483(0x469)];_0x5b3257[_0x467483(0x335)](_0x6b3cde=>document['getElementById'](_0x6b3cde)?.[_0x467483(0x44b)][_0x467483(0x281)](_0x467483(0x396)));if(_0x15f795===_0x467483(0x347))adminView['classList'][_0x467483(0x6f8)](_0x467483(0x396)),projectDashboardView[_0x467483(0x44b)][_0x467483(0x6f8)](_0x467483(0x396));else{if(_0x15f795===_0x467483(0x1d3))studentView['classList'][_0x467483(0x6f8)](_0x467483(0x396)),studentInitialView['classList'][_0x467483(0x6f8)]('hidden'),studentNameSelectionView['classList']['add']('hidden'),studentQuizArea[_0x467483(0x44b)][_0x467483(0x281)](_0x467483(0x396)),studentResultArea[_0x467483(0x44b)][_0x467483(0x281)](_0x467483(0x396)),studentReadingArea[_0x467483(0x44b)][_0x467483(0x281)]('hidden'),studentJoinGameView[_0x467483(0x44b)][_0x467483(0x281)](_0x467483(0x396));else{if(_0x15f795===_0x467483(0x154))adminView[_0x467483(0x44b)][_0x467483(0x6f8)](_0x467483(0x396)),projectDetailView[_0x467483(0x44b)]['remove']('hidden');else{if(_0x15f795==='quiz-results')adminView[_0x467483(0x44b)]['remove'](_0x467483(0x396)),quizResultsView[_0x467483(0x44b)][_0x467483(0x6f8)](_0x467483(0x396));else _0x15f795===_0x467483(0x1f1)&&liveGameView[_0x467483(0x44b)][_0x467483(0x6f8)](_0x467483(0x396));}}}}function showJoinGameView(){const _0x17fc4f=_0x284edd;studentInitialView[_0x17fc4f(0x44b)][_0x17fc4f(0x281)](_0x17fc4f(0x396)),studentJoinGameView[_0x17fc4f(0x44b)][_0x17fc4f(0x6f8)](_0x17fc4f(0x396));}async function handleSaveVisibilitySettings(){const _0x36da4d=_0x284edd;if(!currentProjectId)return;const _0x4da952=doc(db,_0x36da4d(0x6c1)+appId+_0x36da4d(0x568),currentProjectId);try{await updateDoc(_0x4da952,{'settings.showInStudentDashboard':document[_0x36da4d(0x140)]('show-in-student-dashboard-checkbox')[_0x36da4d(0x61c)],'settings.isPasscodeEnabled':document[_0x36da4d(0x140)](_0x36da4d(0x467))[_0x36da4d(0x61c)],'settings.passcode':document[_0x36da4d(0x140)](_0x36da4d(0x506))[_0x36da4d(0x617)][_0x36da4d(0xd4)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x5e0b6d){console['error']('Error\x20saving\x20visibility\x20settings:',_0x5e0b6d),showMessage(_0x36da4d(0x762));}}function setupEventListeners(){const _0x255319=_0x284edd;document['getElementById'](_0x255319(0x5a4))['addEventListener']('click',handleModeSwitch),document['getElementById'](_0x255319(0x599))['addEventListener'](_0x255319(0x268),handleSaveVisibilitySettings),document[_0x255319(0x140)](_0x255319(0x432))[_0x255319(0x14b)]('click',handleAddCustomMathTopic),document[_0x255319(0x140)](_0x255319(0x634))[_0x255319(0x14b)](_0x255319(0x268),handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')[_0x255319(0x14b)](_0x255319(0x268),handleDeselectAllTopics),document['getElementById'](_0x255319(0x2ca))[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x3a66b9=_0x255319;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x3a66b9(0x347));}),document[_0x255319(0x140)](_0x255319(0x4fa))[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x1292a8=_0x255319;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1292a8(0x154));}),document[_0x255319(0x140)](_0x255319(0x628))['addEventListener'](_0x255319(0x268),()=>{const _0x522fe8=_0x255319;showView(_0x522fe8(0x347));}),document[_0x255319(0x140)](_0x255319(0x780))[_0x255319(0x14b)]('click',()=>messageModal[_0x255319(0x44b)][_0x255319(0x281)]('hidden')),document[_0x255319(0x140)]('create-project-btn')[_0x255319(0x14b)](_0x255319(0x268),()=>createProjectModal[_0x255319(0x44b)]['remove'](_0x255319(0x396))),document[_0x255319(0x140)](_0x255319(0x205))[_0x255319(0x14b)]('click',()=>createProjectModal[_0x255319(0x44b)]['add'](_0x255319(0x396))),document[_0x255319(0x140)](_0x255319(0x560))[_0x255319(0x14b)](_0x255319(0x268),()=>adminPasswordModal[_0x255319(0x44b)][_0x255319(0x281)](_0x255319(0x396))),document[_0x255319(0x140)](_0x255319(0x5ed))['addEventListener'](_0x255319(0x268),handleAdminLogin),document[_0x255319(0x140)](_0x255319(0x20d))[_0x255319(0x14b)]('keyup',_0x35e54b=>{const _0x1987eb=_0x255319;if(_0x35e54b['key']===_0x1987eb(0x5be))handleAdminLogin();}),document[_0x255319(0x140)](_0x255319(0x4b5))[_0x255319(0x14b)]('click',()=>{const _0x9b764b=_0x255319;confirmationModal[_0x9b764b(0x44b)][_0x9b764b(0x281)](_0x9b764b(0x396)),confirmAction=null;}),document[_0x255319(0x140)](_0x255319(0x3ef))[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x14c79e=_0x255319;confirmAction&&confirmAction(),confirmationModal[_0x14c79e(0x44b)][_0x14c79e(0x281)](_0x14c79e(0x396)),confirmAction=null;}),document[_0x255319(0x140)](_0x255319(0x259))[_0x255319(0x14b)](_0x255319(0x268),()=>renameQuizModal['classList']['add'](_0x255319(0x396))),document['getElementById']('confirm-rename-quiz-btn')[_0x255319(0x14b)](_0x255319(0x268),confirmRenameQuiz),document[_0x255319(0x140)]('cancel-move-quiz-btn')[_0x255319(0x14b)]('click',()=>moveQuizModal['classList'][_0x255319(0x281)](_0x255319(0x396))),document['getElementById'](_0x255319(0x4ff))[_0x255319(0x14b)](_0x255319(0x268),confirmMoveQuiz),document[_0x255319(0x140)](_0x255319(0x68d))[_0x255319(0x14b)](_0x255319(0x268),()=>quizSettingsModal[_0x255319(0x44b)][_0x255319(0x281)]('hidden')),document[_0x255319(0x140)](_0x255319(0x515))[_0x255319(0x14b)]('click',confirmQuizSettings),document[_0x255319(0x140)](_0x255319(0x1c8))[_0x255319(0x14b)](_0x255319(0x268),()=>quizStatusModal[_0x255319(0x44b)][_0x255319(0x281)](_0x255319(0x396))),document['getElementById'](_0x255319(0x24b))[_0x255319(0x14b)](_0x255319(0x268),confirmQuizStatus);const _0x53ee71=document[_0x255319(0x140)](_0x255319(0xf5));document[_0x255319(0x140)](_0x255319(0x69f))[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x20d86a=_0x255319;_0x53ee71['classList']['add'](_0x20d86a(0x396));}),document[_0x255319(0x140)]('export-compact-pdf-btn')[_0x255319(0x14b)]('click',async()=>{const _0x16461f=_0x255319,_0x2a7eec=allQuizzes[_0x16461f(0x4b7)](_0x3e5fea=>_0x3e5fea['id']===actionTargetId);_0x2a7eec?(currentQuizData=_0x2a7eec,exportQuizAsWorksheetPDF()):showMessage(_0x16461f(0x615)),_0x53ee71['classList'][_0x16461f(0x281)](_0x16461f(0x396));}),document[_0x255319(0x140)]('export-tutor-pdf-btn')[_0x255319(0x14b)](_0x255319(0x268),async()=>{const _0x5ad02a=_0x255319,_0x1c2a62=allQuizzes[_0x5ad02a(0x4b7)](_0x1237ae=>_0x1237ae['id']===actionTargetId);_0x1c2a62?(currentQuizData=_0x1c2a62,exportQuizAsTutorPDF()):showMessage(_0x5ad02a(0x615)),_0x53ee71['classList'][_0x5ad02a(0x281)](_0x5ad02a(0x396));}),document[_0x255319(0x140)]('open-global-live-btn')[_0x255319(0x14b)](_0x255319(0x268),openGlobalLiveModal),document[_0x255319(0x140)](_0x255319(0x5b1))['addEventListener']('click',()=>{const _0x5d23e1=_0x255319;document[_0x5d23e1(0x140)]('global-live-game-modal')['classList']['add'](_0x5d23e1(0x396)),selectedGlobalQuizId=null;}),document['getElementById'](_0x255319(0x345))['addEventListener'](_0x255319(0x4ba),_0x5e13a3=>renderGlobalQuizList(_0x5e13a3[_0x255319(0x533)]['value'])),document[_0x255319(0x140)](_0x255319(0xd9))[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x56bf04=_0x255319,_0x2ff0a7=selectedGlobalQuizId;if(!_0x2ff0a7)return;document['getElementById'](_0x56bf04(0x55b))[_0x56bf04(0x44b)]['add'](_0x56bf04(0x396)),handleStartLiveRace(_0x2ff0a7);}),document[_0x255319(0x140)](_0x255319(0x146))['addEventListener']('input',renderProjects),document[_0x255319(0x140)](_0x255319(0x370))[_0x255319(0x14b)](_0x255319(0x514),async()=>{const _0x5621ef=_0x255319,_0x129fe8=document['getElementById'](_0x5621ef(0x370))[_0x5621ef(0x617)],_0x4da258=doc(db,'globalSettings',_0x5621ef(0x2a1));try{await setDoc(_0x4da258,{'projectSort':_0x129fe8},{'merge':!![]});}catch(_0x40a474){console[_0x5621ef(0x377)](_0x5621ef(0x56a),_0x40a474),showMessage(_0x5621ef(0x59d));}}),document[_0x255319(0x140)](_0x255319(0x633))['addEventListener']('input',renderQuizzes),manageTab[_0x255319(0x14b)](_0x255319(0x268),()=>switchProjectTab(_0x255319(0x34d))),resultsTab[_0x255319(0x14b)](_0x255319(0x268),()=>switchProjectTab(_0x255319(0x56d))),leaderboardTab[_0x255319(0x14b)](_0x255319(0x268),()=>switchProjectTab(_0x255319(0xfc))),document['getElementById']('analytics-tab-btn')[_0x255319(0x14b)](_0x255319(0x268),()=>switchQuizDetailTab(_0x255319(0x29d))),document[_0x255319(0x140)](_0x255319(0x6e7))['addEventListener'](_0x255319(0x268),()=>switchQuizDetailTab('scores')),document[_0x255319(0x140)](_0x255319(0x445))[_0x255319(0x14b)](_0x255319(0x268),()=>switchQuizDetailTab(_0x255319(0x178))),document[_0x255319(0x140)](_0x255319(0x72a))[_0x255319(0x14b)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x255319(0x14b)]('click',generateWorksheet);const _0x45aa63=document[_0x255319(0x140)]('link-tab'),_0x4d063c=document[_0x255319(0x140)]('link-input-area'),_0x144ed3=document[_0x255319(0x140)](_0x255319(0x64c)),_0x16ed61=document['getElementById'](_0x255319(0x1f7)),_0x49d043=document[_0x255319(0x140)](_0x255319(0x4fe)),_0x32a604=document[_0x255319(0x140)](_0x255319(0x177));topicTab[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x2e0a0d=_0x255319;topicTab[_0x2e0a0d(0x44b)]['add'](_0x2e0a0d(0x744)),textTab['classList'][_0x2e0a0d(0x6f8)]('active'),fileTab['classList'][_0x2e0a0d(0x6f8)](_0x2e0a0d(0x744)),worksheetTab[_0x2e0a0d(0x44b)][_0x2e0a0d(0x6f8)](_0x2e0a0d(0x744));if(_0x45aa63)_0x45aa63[_0x2e0a0d(0x44b)][_0x2e0a0d(0x6f8)](_0x2e0a0d(0x744));if(_0x144ed3)_0x144ed3['classList']['remove'](_0x2e0a0d(0x744));if(_0x49d043)_0x49d043[_0x2e0a0d(0x44b)][_0x2e0a0d(0x6f8)](_0x2e0a0d(0x744));topicInputArea[_0x2e0a0d(0x44b)][_0x2e0a0d(0x6f8)]('hidden'),textInputArea['classList'][_0x2e0a0d(0x281)](_0x2e0a0d(0x396)),fileInputArea[_0x2e0a0d(0x44b)][_0x2e0a0d(0x281)](_0x2e0a0d(0x396)),worksheetInputArea[_0x2e0a0d(0x44b)][_0x2e0a0d(0x281)](_0x2e0a0d(0x396));if(_0x4d063c)_0x4d063c[_0x2e0a0d(0x44b)]['add']('hidden');if(_0x16ed61)_0x16ed61[_0x2e0a0d(0x44b)][_0x2e0a0d(0x281)](_0x2e0a0d(0x396));if(_0x32a604)_0x32a604[_0x2e0a0d(0x44b)][_0x2e0a0d(0x281)]('hidden');}),textTab['addEventListener'](_0x255319(0x268),()=>{const _0x22d775=_0x255319;textTab[_0x22d775(0x44b)][_0x22d775(0x281)](_0x22d775(0x744)),topicTab[_0x22d775(0x44b)][_0x22d775(0x6f8)](_0x22d775(0x744)),fileTab['classList']['remove'](_0x22d775(0x744)),worksheetTab['classList'][_0x22d775(0x6f8)](_0x22d775(0x744));if(_0x45aa63)_0x45aa63['classList'][_0x22d775(0x6f8)](_0x22d775(0x744));if(_0x144ed3)_0x144ed3[_0x22d775(0x44b)][_0x22d775(0x6f8)](_0x22d775(0x744));if(_0x49d043)_0x49d043[_0x22d775(0x44b)][_0x22d775(0x6f8)](_0x22d775(0x744));textInputArea['classList'][_0x22d775(0x6f8)](_0x22d775(0x396)),topicInputArea['classList'][_0x22d775(0x281)](_0x22d775(0x396)),fileInputArea[_0x22d775(0x44b)][_0x22d775(0x281)]('hidden'),worksheetInputArea[_0x22d775(0x44b)][_0x22d775(0x281)]('hidden');if(_0x4d063c)_0x4d063c[_0x22d775(0x44b)][_0x22d775(0x281)](_0x22d775(0x396));if(_0x16ed61)_0x16ed61[_0x22d775(0x44b)][_0x22d775(0x281)](_0x22d775(0x396));if(_0x32a604)_0x32a604[_0x22d775(0x44b)][_0x22d775(0x281)](_0x22d775(0x396));}),fileTab[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x575f32=_0x255319;fileTab[_0x575f32(0x44b)][_0x575f32(0x281)](_0x575f32(0x744)),topicTab[_0x575f32(0x44b)][_0x575f32(0x6f8)](_0x575f32(0x744)),textTab[_0x575f32(0x44b)]['remove'](_0x575f32(0x744)),worksheetTab[_0x575f32(0x44b)][_0x575f32(0x6f8)](_0x575f32(0x744));if(_0x45aa63)_0x45aa63[_0x575f32(0x44b)][_0x575f32(0x6f8)](_0x575f32(0x744));if(_0x144ed3)_0x144ed3[_0x575f32(0x44b)][_0x575f32(0x6f8)]('active');if(_0x49d043)_0x49d043['classList']['remove']('active');fileInputArea[_0x575f32(0x44b)][_0x575f32(0x6f8)](_0x575f32(0x396)),topicInputArea[_0x575f32(0x44b)][_0x575f32(0x281)](_0x575f32(0x396)),textInputArea[_0x575f32(0x44b)][_0x575f32(0x281)](_0x575f32(0x396)),worksheetInputArea['classList'][_0x575f32(0x281)](_0x575f32(0x396));if(_0x4d063c)_0x4d063c[_0x575f32(0x44b)][_0x575f32(0x281)](_0x575f32(0x396));if(_0x16ed61)_0x16ed61[_0x575f32(0x44b)][_0x575f32(0x281)]('hidden');if(_0x32a604)_0x32a604['classList']['add'](_0x575f32(0x396));}),worksheetTab['addEventListener'](_0x255319(0x268),()=>{const _0x4d3f70=_0x255319;worksheetTab['classList'][_0x4d3f70(0x281)](_0x4d3f70(0x744)),topicTab[_0x4d3f70(0x44b)][_0x4d3f70(0x6f8)](_0x4d3f70(0x744)),textTab[_0x4d3f70(0x44b)][_0x4d3f70(0x6f8)](_0x4d3f70(0x744)),fileTab[_0x4d3f70(0x44b)]['remove'](_0x4d3f70(0x744));if(_0x45aa63)_0x45aa63[_0x4d3f70(0x44b)][_0x4d3f70(0x6f8)](_0x4d3f70(0x744));if(_0x144ed3)_0x144ed3['classList']['remove'](_0x4d3f70(0x744));if(_0x49d043)_0x49d043[_0x4d3f70(0x44b)][_0x4d3f70(0x6f8)]('active');worksheetInputArea[_0x4d3f70(0x44b)][_0x4d3f70(0x6f8)](_0x4d3f70(0x396)),topicInputArea[_0x4d3f70(0x44b)][_0x4d3f70(0x281)](_0x4d3f70(0x396)),textInputArea[_0x4d3f70(0x44b)][_0x4d3f70(0x281)](_0x4d3f70(0x396)),fileInputArea['classList']['add'](_0x4d3f70(0x396));if(_0x4d063c)_0x4d063c[_0x4d3f70(0x44b)][_0x4d3f70(0x281)]('hidden');if(_0x16ed61)_0x16ed61[_0x4d3f70(0x44b)][_0x4d3f70(0x281)]('hidden');if(_0x32a604)_0x32a604['classList'][_0x4d3f70(0x281)](_0x4d3f70(0x396));});const _0x238f2a=document[_0x255319(0x140)]('bank-tab'),_0x1055cc=document[_0x255319(0x140)]('bank-input-area');_0x238f2a&&_0x238f2a[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x147a3c=_0x255319;topicTab[_0x147a3c(0x44b)][_0x147a3c(0x6f8)](_0x147a3c(0x744)),textTab[_0x147a3c(0x44b)][_0x147a3c(0x6f8)]('active'),fileTab['classList'][_0x147a3c(0x6f8)](_0x147a3c(0x744)),worksheetTab[_0x147a3c(0x44b)][_0x147a3c(0x6f8)](_0x147a3c(0x744));if(_0x45aa63)_0x45aa63[_0x147a3c(0x44b)][_0x147a3c(0x6f8)](_0x147a3c(0x744));if(_0x144ed3)_0x144ed3[_0x147a3c(0x44b)][_0x147a3c(0x6f8)]('active');if(_0x49d043)_0x49d043[_0x147a3c(0x44b)][_0x147a3c(0x6f8)]('active');_0x238f2a[_0x147a3c(0x44b)]['add']('active'),topicInputArea['classList'][_0x147a3c(0x281)](_0x147a3c(0x396)),textInputArea['classList'][_0x147a3c(0x281)](_0x147a3c(0x396)),fileInputArea[_0x147a3c(0x44b)][_0x147a3c(0x281)]('hidden'),worksheetInputArea[_0x147a3c(0x44b)][_0x147a3c(0x281)]('hidden');if(_0x4d063c)_0x4d063c[_0x147a3c(0x44b)][_0x147a3c(0x281)](_0x147a3c(0x396));if(_0x16ed61)_0x16ed61[_0x147a3c(0x44b)][_0x147a3c(0x281)](_0x147a3c(0x396));if(_0x32a604)_0x32a604[_0x147a3c(0x44b)][_0x147a3c(0x281)](_0x147a3c(0x396));_0x1055cc['classList']['remove'](_0x147a3c(0x396)),displayQuestionBank();});_0x45aa63&&(_0x45aa63[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x11b220=_0x255319;_0x45aa63[_0x11b220(0x44b)][_0x11b220(0x281)](_0x11b220(0x744)),topicTab[_0x11b220(0x44b)][_0x11b220(0x6f8)]('active'),textTab[_0x11b220(0x44b)][_0x11b220(0x6f8)](_0x11b220(0x744)),fileTab[_0x11b220(0x44b)][_0x11b220(0x6f8)]('active'),worksheetTab[_0x11b220(0x44b)][_0x11b220(0x6f8)](_0x11b220(0x744));if(_0x144ed3)_0x144ed3[_0x11b220(0x44b)][_0x11b220(0x6f8)]('active');if(_0x49d043)_0x49d043[_0x11b220(0x44b)]['remove'](_0x11b220(0x744));_0x4d063c[_0x11b220(0x44b)][_0x11b220(0x6f8)](_0x11b220(0x396)),topicInputArea[_0x11b220(0x44b)][_0x11b220(0x281)](_0x11b220(0x396)),textInputArea[_0x11b220(0x44b)][_0x11b220(0x281)](_0x11b220(0x396)),fileInputArea[_0x11b220(0x44b)][_0x11b220(0x281)](_0x11b220(0x396)),worksheetInputArea['classList'][_0x11b220(0x281)](_0x11b220(0x396));if(_0x16ed61)_0x16ed61[_0x11b220(0x44b)][_0x11b220(0x281)](_0x11b220(0x396));if(_0x32a604)_0x32a604['classList']['add'](_0x11b220(0x396));}),document[_0x255319(0x140)](_0x255319(0x133))['addEventListener'](_0x255319(0x268),handleGenerateFromLink));_0x144ed3&&_0x144ed3[_0x255319(0x14b)]('click',()=>{const _0x2712a9=_0x255319;_0x144ed3[_0x2712a9(0x44b)][_0x2712a9(0x281)]('active'),topicTab[_0x2712a9(0x44b)][_0x2712a9(0x6f8)](_0x2712a9(0x744)),textTab[_0x2712a9(0x44b)][_0x2712a9(0x6f8)](_0x2712a9(0x744)),fileTab[_0x2712a9(0x44b)][_0x2712a9(0x6f8)](_0x2712a9(0x744)),worksheetTab[_0x2712a9(0x44b)][_0x2712a9(0x6f8)](_0x2712a9(0x744));if(_0x45aa63)_0x45aa63['classList'][_0x2712a9(0x6f8)](_0x2712a9(0x744));if(_0x238f2a)_0x238f2a[_0x2712a9(0x44b)][_0x2712a9(0x6f8)]('active');if(_0x49d043)_0x49d043['classList'][_0x2712a9(0x6f8)]('active');_0x16ed61[_0x2712a9(0x44b)]['remove'](_0x2712a9(0x396)),topicInputArea[_0x2712a9(0x44b)][_0x2712a9(0x281)](_0x2712a9(0x396)),textInputArea['classList'][_0x2712a9(0x281)](_0x2712a9(0x396)),fileInputArea[_0x2712a9(0x44b)][_0x2712a9(0x281)](_0x2712a9(0x396)),worksheetInputArea[_0x2712a9(0x44b)]['add'](_0x2712a9(0x396));if(_0x4d063c)_0x4d063c[_0x2712a9(0x44b)][_0x2712a9(0x281)](_0x2712a9(0x396));if(_0x1055cc)_0x1055cc['classList'][_0x2712a9(0x281)](_0x2712a9(0x396));if(_0x32a604)_0x32a604[_0x2712a9(0x44b)][_0x2712a9(0x281)](_0x2712a9(0x396));});_0x49d043&&_0x49d043[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x45ee65=_0x255319;_0x49d043[_0x45ee65(0x44b)][_0x45ee65(0x281)](_0x45ee65(0x744)),topicTab[_0x45ee65(0x44b)][_0x45ee65(0x6f8)](_0x45ee65(0x744)),textTab[_0x45ee65(0x44b)][_0x45ee65(0x6f8)]('active'),fileTab[_0x45ee65(0x44b)][_0x45ee65(0x6f8)]('active'),worksheetTab['classList'][_0x45ee65(0x6f8)](_0x45ee65(0x744));if(_0x45aa63)_0x45aa63['classList']['remove']('active');if(_0x144ed3)_0x144ed3['classList']['remove']('active');if(_0x238f2a)_0x238f2a[_0x45ee65(0x44b)][_0x45ee65(0x6f8)](_0x45ee65(0x744));_0x32a604[_0x45ee65(0x44b)][_0x45ee65(0x6f8)](_0x45ee65(0x396)),topicInputArea[_0x45ee65(0x44b)]['add']('hidden'),textInputArea['classList'][_0x45ee65(0x281)](_0x45ee65(0x396)),fileInputArea[_0x45ee65(0x44b)][_0x45ee65(0x281)](_0x45ee65(0x396)),worksheetInputArea[_0x45ee65(0x44b)][_0x45ee65(0x281)](_0x45ee65(0x396));if(_0x4d063c)_0x4d063c[_0x45ee65(0x44b)]['add'](_0x45ee65(0x396));if(_0x16ed61)_0x16ed61['classList'][_0x45ee65(0x281)](_0x45ee65(0x396));if(_0x1055cc)_0x1055cc[_0x45ee65(0x44b)]['add'](_0x45ee65(0x396));});const _0x1913f2=document[_0x255319(0x140)](_0x255319(0x6d4)),_0x2e2d1e=document[_0x255319(0x140)](_0x255319(0x601));_0x1913f2&&_0x1913f2['addEventListener'](_0x255319(0x514),_0x322c34=>{const _0x2cd0d=_0x255319;_0x322c34[_0x2cd0d(0x533)][_0x2cd0d(0x1fa)][_0x2cd0d(0x357)]>0x0?_0x2e2d1e['disabled']=![]:_0x2e2d1e[_0x2cd0d(0x54e)]=!![];});_0x2e2d1e&&_0x2e2d1e[_0x255319(0x14b)](_0x255319(0x268),handleGenerateFromBlueprint);const _0x5f0138=document[_0x255319(0x140)](_0x255319(0x4e6)),_0x1bb757=document[_0x255319(0x140)]('generate-from-parallel-test-btn');_0x5f0138&&_0x5f0138[_0x255319(0x14b)](_0x255319(0x514),_0x2cfb14=>{const _0x3e65c4=_0x255319;_0x1bb757[_0x3e65c4(0x54e)]=_0x2cfb14[_0x3e65c4(0x533)][_0x3e65c4(0x1fa)][_0x3e65c4(0x357)]===0x0;});_0x1bb757&&_0x1bb757['addEventListener'](_0x255319(0x268),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x255319(0x268),handleLoadQuiz),startQuizBtn[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x188e30=_0x255319,_0xb62ea7=document[_0x188e30(0x140)](_0x188e30(0x6bb));currentStudentName=_0xb62ea7['value'];if(!currentStudentName){showMessage(_0x188e30(0x56c));return;}studentNameSelectionView[_0x188e30(0x44b)][_0x188e30(0x281)](_0x188e30(0x396)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x255319(0x140)](_0x255319(0x26f))['addEventListener']('click',showJoinGameView),document[_0x255319(0x140)](_0x255319(0x20b))[_0x255319(0x14b)](_0x255319(0x268),handleJoinLiveGame),document[_0x255319(0x140)](_0x255319(0x26d))['addEventListener'](_0x255319(0x268),()=>showView(_0x255319(0x1d3)));const _0x1f6e60=()=>{const _0x597a40=_0x255319,_0x35d792=document['getElementById'](_0x597a40(0x447))['textContent'][_0x597a40(0x618)](/[^a-z0-9]/gi,'_')[_0x597a40(0x6d3)]();return _0x597a40(0x491)+(_0x35d792||_0x597a40(0x5a9));},_0x2ace4f=document[_0x255319(0x140)](_0x255319(0x5f6));_0x2ace4f&&_0x2ace4f[_0x255319(0x14b)]('input',_0x72a43f=>{const _0x34ab8f=_0x255319,_0x3d7223=_0x72a43f[_0x34ab8f(0x533)]['value'][_0x34ab8f(0x6d3)]()['trim'](),_0x2d0f1a=document[_0x34ab8f(0x140)](_0x34ab8f(0x3d6)),_0x14ae9a=_0x2d0f1a[_0x34ab8f(0x39b)](_0x34ab8f(0x629));_0x14ae9a[_0x34ab8f(0x335)](_0x513498=>{const _0x30353e=_0x34ab8f;let _0xbb4e5f=![];const _0x1d546b=_0x513498[_0x30353e(0x39b)](_0x30353e(0x459));_0x1d546b[_0x30353e(0x335)](_0x2bbd32=>{const _0x4b9bf9=_0x30353e,_0x356550=_0x2bbd32['querySelector'](_0x4b9bf9(0xc7))[_0x4b9bf9(0x61d)][_0x4b9bf9(0x6d3)]();_0x356550[_0x4b9bf9(0x4ab)](_0x3d7223)?(_0x2bbd32[_0x4b9bf9(0x3ca)][_0x4b9bf9(0x2e5)]='flex',_0xbb4e5f=!![]):_0x2bbd32[_0x4b9bf9(0x3ca)][_0x4b9bf9(0x2e5)]=_0x4b9bf9(0x3e7);}),_0xbb4e5f?_0x513498['style'][_0x30353e(0x2e5)]=_0x30353e(0x5d2):_0x513498[_0x30353e(0x3ca)][_0x30353e(0x2e5)]='none';});});document[_0x255319(0x140)]('export-image-btn')[_0x255319(0x14b)](_0x255319(0x268),()=>exportTableAsImage('results-table-container',_0x1f6e60())),document['getElementById'](_0x255319(0x44a))[_0x255319(0x14b)](_0x255319(0x268),()=>exportTableAsPDF(_0x255319(0x768),_0x1f6e60())),document[_0x255319(0x140)](_0x255319(0x594))[_0x255319(0x14b)]('click',()=>exportTableAsWord('results-table-container',_0x1f6e60())),document['getElementById'](_0x255319(0x44c))['addEventListener'](_0x255319(0x268),()=>exportTableAsExcel(_0x255319(0x768),_0x1f6e60()));const _0xad5bc8=()=>{const _0x42fe44=_0x255319,_0x431917=document['getElementById'](_0x42fe44(0x447))[_0x42fe44(0x61d)][_0x42fe44(0x618)](/[^a-z0-9]/gi,'_')[_0x42fe44(0x6d3)]();return _0x42fe44(0x573)+(_0x431917||_0x42fe44(0x5a9));};document[_0x255319(0x140)](_0x255319(0xdd))[_0x255319(0x14b)]('click',()=>exportTableAsImage(_0x255319(0x662),_0xad5bc8())),document['getElementById'](_0x255319(0x5fa))[_0x255319(0x14b)](_0x255319(0x268),()=>exportTableAsPDF(_0x255319(0x2e1),_0xad5bc8())),document[_0x255319(0x140)](_0x255319(0x323))[_0x255319(0x14b)](_0x255319(0x268),()=>exportTableAsWord(_0x255319(0x662),_0xad5bc8())),document[_0x255319(0x140)](_0x255319(0x3a8))[_0x255319(0x14b)](_0x255319(0x268),()=>exportTableAsExcel(_0x255319(0x2e1),_0xad5bc8())),projectQuizzesList[_0x255319(0x14b)](_0x255319(0x268),async _0x4bf457=>{const _0x3dc61=_0x255319,_0xc0c4c6=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)](_0x3dc61(0x196));if(_0xc0c4c6){const _0x5bf02a=_0xc0c4c6[_0x3dc61(0x557)][_0x3dc61(0x236)],_0x1ed509=allQuizzes[_0x3dc61(0x4b7)](_0x3953d8=>_0x3953d8['id']===_0x5bf02a);if(_0x1ed509&&_0x1ed509[_0x3dc61(0x45d)]){const _0x53c9e9=_0x1ed509['lessonPlan'],_0x2bb638=_0x3dc61(0x324)+_0x1ed509[_0x3dc61(0x479)]+_0x3dc61(0x5ec)+_0x53c9e9['learningGaps'][_0x3dc61(0x666)](_0x473784=>_0x3dc61(0x4d2)+_0x473784+_0x3dc61(0x2fb))['join']('')+_0x3dc61(0x111)+_0x53c9e9[_0x3dc61(0x1f2)]+_0x3dc61(0x627)+_0x53c9e9[_0x3dc61(0x6b9)][_0x3dc61(0x666)](_0x1ab1aa=>_0x3dc61(0x4cc)+_0x1ab1aa[_0x3dc61(0x27d)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x1ab1aa[_0x3dc61(0x47a)]+'</p></div>')[_0x3dc61(0x4be)]('')+_0x3dc61(0x3da);document[_0x3dc61(0x140)]('lesson-plan-title')['textContent']='แผนการสอน:\x20'+_0x1ed509['topic'],document[_0x3dc61(0x140)](_0x3dc61(0x5e4))['innerHTML']=_0x2bb638,document[_0x3dc61(0x140)]('lesson-plan-modal')[_0x3dc61(0x44b)]['remove'](_0x3dc61(0x396));if(window['MathJax'])MathJax[_0x3dc61(0x41b)]();showConfirmation(_0x3dc61(0x5af),()=>handleGenerateLessonPlan(_0x5bf02a)),document['getElementById'](_0x3dc61(0x72b))['querySelector']('h3')[_0x3dc61(0x61d)]=_0x3dc61(0x32b),document[_0x3dc61(0x140)](_0x3dc61(0x3ef))['textContent']=_0x3dc61(0x7a6);}else handleGenerateLessonPlan(_0x5bf02a);return;}const _0x381354=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)](_0x3dc61(0x547)),_0x439243=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)](_0x3dc61(0x2ef)),_0x4c0cdd=_0x4bf457[_0x3dc61(0x533)]['closest'](_0x3dc61(0x158)),_0x3de2f5=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)](_0x3dc61(0x4ed)),_0x46dd23=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)](_0x3dc61(0x657)),_0x30d2e8=_0x4bf457['target'][_0x3dc61(0x791)]('.admin-try-quiz-list-btn'),_0x4efd73=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)](_0x3dc61(0x289)),_0x4f51c9=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)](_0x3dc61(0x7d1)),_0x83c90e=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)]('.quiz-settings-btn'),_0x3de2dc=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)](_0x3dc61(0x695)),_0x2f8349=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)]('.duplicate-quiz-btn'),_0x3bac0c=_0x4bf457['target'][_0x3dc61(0x791)](_0x3dc61(0x5c8)),_0xe4de96=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)]('.edit-quiz-btn'),_0x5c0d4b=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)]('.parallel-quiz-btn'),_0x587ee2=_0x4bf457[_0x3dc61(0x533)][_0x3dc61(0x791)]('.export-pdf-list-btn');if(_0x381354){const _0x2d23a0=_0x381354[_0x3dc61(0x557)][_0x3dc61(0x236)],_0xd1c125=_0x381354[_0x3dc61(0x557)]['preTestId'];handleCompareResults(_0x2d23a0,_0xd1c125);}else{if(_0x587ee2){const _0x56d0bc=_0x587ee2[_0x3dc61(0x557)][_0x3dc61(0x236)];actionTargetId=_0x56d0bc,document[_0x3dc61(0x140)]('export-pdf-modal')[_0x3dc61(0x44b)]['remove'](_0x3dc61(0x396));}else{if(_0xe4de96){const _0x3c72ce=_0xe4de96[_0x3dc61(0x557)][_0x3dc61(0x236)];handleOpenQuizEditor(_0x3c72ce);}else{if(_0x5c0d4b){const _0x25e9f6=_0x5c0d4b[_0x3dc61(0x557)][_0x3dc61(0x236)],_0xfc6edf=allQuizzes['find'](_0x2d7a70=>_0x2d7a70['id']===_0x25e9f6);_0xfc6edf?handleGenerateParallelFromBank(_0xfc6edf):showMessage(_0x3dc61(0x615));}else{if(_0x439243){const _0x259be9=_0x439243['dataset'][_0x3dc61(0x236)];handleToggleStarQuiz(_0x259be9);}else{if(_0x3bac0c){const _0x4731b4=_0x3bac0c[_0x3dc61(0x557)][_0x3dc61(0x236)];handleStartLiveRace(_0x4731b4);}else{if(_0x4c0cdd){const _0x147f57=_0x4c0cdd[_0x3dc61(0x557)][_0x3dc61(0x236)],_0x32e396=_0x4c0cdd[_0x3dc61(0x557)][_0x3dc61(0x479)];showConfirmation(_0x3dc61(0x51b)+_0x32e396+_0x3dc61(0x786),()=>handleDeleteQuiz(_0x147f57));}else{if(_0x3de2f5){const _0x3b63d5=_0x3de2f5[_0x3dc61(0x557)][_0x3dc61(0x236)];copyTextToClipboard(_0x3b63d5,_0x3dc61(0x494));}else{if(_0x46dd23){const _0x3593fb=_0x46dd23['dataset'][_0x3dc61(0x236)],_0x110c47=doc(db,_0x3dc61(0x6c1)+appId+_0x3dc61(0x127),_0x3593fb),_0x153a96=await getDoc(_0x110c47);if(_0x153a96[_0x3dc61(0x4dc)]()){const _0x59320a={'id':_0x153a96['id'],..._0x153a96[_0x3dc61(0x5b7)]()};startPresentation(_0x59320a);}else showMessage(_0x3dc61(0x615));}else{if(_0x30d2e8){const _0x540e68=_0x30d2e8[_0x3dc61(0x557)][_0x3dc61(0x236)],_0x245ed2=doc(db,'artifacts/'+appId+_0x3dc61(0x127),_0x540e68),_0x5bc029=await getDoc(_0x245ed2);_0x5bc029['exists']()?(currentQuizData={'id':_0x5bc029['id'],..._0x5bc029['data']()},startAdminTest()):showMessage(_0x3dc61(0x615));}else{if(_0x4efd73){const _0xc5e22=_0x4efd73[_0x3dc61(0x557)][_0x3dc61(0x236)],_0x21d059=_0x4efd73[_0x3dc61(0x557)][_0x3dc61(0x479)];handleRenameQuiz(_0xc5e22,_0x21d059);}else{if(_0x4f51c9){const _0xb06f3c=_0x4f51c9['dataset'][_0x3dc61(0x236)];handleMoveQuiz(_0xb06f3c);}else{if(_0x83c90e){const _0xea300=_0x83c90e[_0x3dc61(0x557)][_0x3dc61(0x236)];handleQuizSettings(_0xea300);}else{if(_0x3de2dc){const _0x6f05b3=_0x3de2dc[_0x3dc61(0x557)][_0x3dc61(0x236)];handleQuizStatus(_0x6f05b3);}else{if(_0x2f8349){const _0x53dd75=_0x2f8349['dataset'][_0x3dc61(0x236)];handleDuplicateQuiz(_0x53dd75);}}}}}}}}}}}}}}}}),document[_0x255319(0x140)](_0x255319(0x2e1))[_0x255319(0x62c)](_0x255319(0x34e))[_0x255319(0x14b)](_0x255319(0x268),_0x3e4054=>{const _0x1bb319=_0x255319,_0x1cb405=_0x3e4054['target'][_0x1bb319(0x791)](_0x1bb319(0xc8));if(!_0x1cb405||!_0x1cb405[_0x1bb319(0x557)][_0x1bb319(0x137)])return;const _0xfc870c=_0x1cb405[_0x1bb319(0x557)][_0x1bb319(0x137)];if(quizLeaderboardSortBy===_0xfc870c)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1bb319(0x56e)?_0x1bb319(0x792):_0x1bb319(0x56e);else{quizLeaderboardSortBy=_0xfc870c;const _0x5d96f2=['studentName'];quizLeaderboardSortOrder=_0x5d96f2[_0x1bb319(0x4ab)](_0xfc870c)?_0x1bb319(0x56e):_0x1bb319(0x792);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x255319(0x140)](_0x255319(0x5d1))[_0x255319(0x14b)](_0x255319(0x268),closePresentation),document[_0x255319(0x140)](_0x255319(0x1a1))[_0x255319(0x14b)](_0x255319(0x268),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x255319(0x591))[_0x255319(0x14b)]('click',()=>{const _0xa9960f=_0x255319;currentQuizData['questions']&&currentPresentationSlide<currentQuizData['questions'][_0xa9960f(0x357)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x255319(0x14b)]('fullscreenchange',()=>{const _0x2234b7=_0x255319;!document[_0x2234b7(0x210)]&&(presentationModal['style'][_0x2234b7(0x2e5)]=_0x2234b7(0x3e7));}),document[_0x255319(0x140)](_0x255319(0x6ab))[_0x255319(0x14b)](_0x255319(0x268),handleDeleteAllStudents),studentList[_0x255319(0x14b)](_0x255319(0x268),_0x1dbe22=>{const _0x3e691e=_0x255319,_0x5a744d=_0x1dbe22['target'][_0x3e691e(0x791)](_0x3e691e(0x28f));if(_0x5a744d){const _0x1cce80=_0x5a744d[_0x3e691e(0x557)]['studentName'];handleDeleteStudent(_0x1cce80);}}),document[_0x255319(0x140)](_0x255319(0x610))[_0x255319(0x14b)]('click',handleGenerateFromFileClick),fileUploadInput['addEventListener']('change',_0xdb2157=>{const _0x4e2c63=_0x255319,_0xe65fe5=_0xdb2157[_0x4e2c63(0x533)][_0x4e2c63(0x1fa)][0x0],_0x2d1e05=document[_0x4e2c63(0x140)](_0x4e2c63(0x610));_0xe65fe5?(selectedFile=_0xe65fe5,_0x2d1e05[_0x4e2c63(0x54e)]=![]):(selectedFile=null,_0x2d1e05[_0x4e2c63(0x54e)]=!![]);}),document[_0x255319(0x140)]('timer-mode-select')[_0x255319(0x14b)](_0x255319(0x514),_0x5a0cc4=>{const _0x222e4f=_0x255319,_0x2d72b7=document[_0x222e4f(0x140)](_0x222e4f(0x77d)),_0x4a8f2d=document['getElementById']('timer-duration-label'),_0x99d35b=document[_0x222e4f(0x140)]('timer-duration-input');_0x5a0cc4[_0x222e4f(0x533)]['value']===_0x222e4f(0x3e7)?_0x2d72b7[_0x222e4f(0x44b)][_0x222e4f(0x281)](_0x222e4f(0x396)):(_0x2d72b7[_0x222e4f(0x44b)][_0x222e4f(0x6f8)](_0x222e4f(0x396)),_0x5a0cc4['target']['value']===_0x222e4f(0x795)?(_0x4a8f2d[_0x222e4f(0x61d)]=_0x222e4f(0x125),_0x99d35b[_0x222e4f(0x617)]='10'):(_0x4a8f2d[_0x222e4f(0x61d)]=_0x222e4f(0x209),_0x99d35b[_0x222e4f(0x617)]='30'));}),document[_0x255319(0x140)]('quiz-type-select')[_0x255319(0x14b)]('change',_0x49b8c7=>{const _0x2ee370=_0x255319,_0x17b3a1=document[_0x2ee370(0x140)](_0x2ee370(0x4e2)),_0x157508=_0x49b8c7[_0x2ee370(0x533)]['value'],_0x322914=document[_0x2ee370(0x62c)](_0x2ee370(0xcb)),_0x4ed2df=document[_0x2ee370(0x140)](_0x2ee370(0x562)),_0x19432c=document[_0x2ee370(0x140)](_0x2ee370(0x67c));_0x157508===_0x2ee370(0x17a)?_0x322914[_0x2ee370(0x61d)]=_0x2ee370(0x3d8):_0x322914[_0x2ee370(0x61d)]=_0x2ee370(0x293),_0x157508===_0x2ee370(0x267)||_0x157508===_0x2ee370(0x672)||_0x157508===_0x2ee370(0x197)?_0x17b3a1[_0x2ee370(0x44b)][_0x2ee370(0x6f8)](_0x2ee370(0x396)):_0x17b3a1[_0x2ee370(0x44b)][_0x2ee370(0x281)]('hidden'),_0x4ed2df[_0x2ee370(0x693)]=_0x19432c['value'];}),document[_0x255319(0x140)]('num-questions')[_0x255319(0x14b)](_0x255319(0x4ba),_0x320f0d=>{const _0x55dff6=_0x255319;document[_0x55dff6(0x140)]('passing-score-input')[_0x55dff6(0x693)]=_0x320f0d['target'][_0x55dff6(0x617)];}),document[_0x255319(0x140)](_0x255319(0x507))[_0x255319(0x14b)](_0x255319(0x514),_0x5975bd=>{const _0x52cbc8=_0x255319,_0x16015e=document[_0x52cbc8(0x140)](_0x52cbc8(0x5c4)),_0x1440f0=document[_0x52cbc8(0x140)](_0x52cbc8(0x678)),_0x175510=document[_0x52cbc8(0x140)](_0x52cbc8(0x1af));_0x5975bd[_0x52cbc8(0x533)]['value']==='none'?_0x16015e['classList'][_0x52cbc8(0x281)](_0x52cbc8(0x396)):(_0x16015e['classList']['remove'](_0x52cbc8(0x396)),_0x5975bd['target'][_0x52cbc8(0x617)]===_0x52cbc8(0x795)?_0x1440f0[_0x52cbc8(0x61d)]=_0x52cbc8(0x125):_0x1440f0[_0x52cbc8(0x61d)]=_0x52cbc8(0x209));}),document['getElementById'](_0x255319(0x117))['addEventListener']('click',()=>{const _0x1be2ab=_0x255319;document['getElementById'](_0x1be2ab(0x782))['classList']['add'](_0x1be2ab(0x396));}),document[_0x255319(0x140)]('cancel-quiz-edits-btn-footer')[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x92c1d0=_0x255319;document[_0x92c1d0(0x140)](_0x92c1d0(0x782))[_0x92c1d0(0x44b)][_0x92c1d0(0x281)](_0x92c1d0(0x396));}),document[_0x255319(0x140)](_0x255319(0x482))[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x287890=_0x255319;document['getElementById']('quiz-editor-modal')['classList'][_0x287890(0x281)](_0x287890(0x396)),showConfirmation(_0x287890(0x5fd),handleSaveChanges);}),document[_0x255319(0x140)](_0x255319(0x192))[_0x255319(0x14b)](_0x255319(0x268),handleAutoFixLatex);const _0x360744=document[_0x255319(0x140)](_0x255319(0x355));_0x360744&&_0x360744[_0x255319(0x14b)](_0x255319(0x268),_0x3e3bf7=>{const _0x4d2768=_0x255319,_0x4ebfeb=_0x3e3bf7['target'][_0x4d2768(0x791)]('.regenerate-question-editor-btn');if(_0x4ebfeb){const _0x13bf26=_0x4ebfeb[_0x4d2768(0x791)](_0x4d2768(0x204)),_0x8c6a3d=parseInt(_0x13bf26[_0x4d2768(0x557)][_0x4d2768(0x470)],0xa);handleRegenerateQuestionInEditor(_0x8c6a3d);}});document[_0x255319(0x140)]('open-quiz-bank-btn')[_0x255319(0x14b)]('click',openQuizBankModal),document[_0x255319(0x140)]('cancel-quiz-bank-btn')['addEventListener'](_0x255319(0x268),()=>{const _0x2c7fac=_0x255319;document[_0x2c7fac(0x140)](_0x2c7fac(0x258))[_0x2c7fac(0x44b)][_0x2c7fac(0x281)]('hidden');}),document['getElementById'](_0x255319(0x7b0))[_0x255319(0x14b)](_0x255319(0x4ba),_0x5db494=>renderQuizBankList(_0x5db494[_0x255319(0x533)]['value']));const _0x4f4444=document['getElementById']('math-topics-checkbox-container');if(_0x4f4444){let _0x1302e1=null;_0x4f4444['addEventListener'](_0x255319(0x268),_0x49f6fd=>{const _0x2d6cdd=_0x255319,_0x428ef2=_0x49f6fd[_0x2d6cdd(0x533)],_0x16e8b1=_0x428ef2[_0x2d6cdd(0x791)]('.edit-custom-topic-btn'),_0x38c4f6=_0x428ef2[_0x2d6cdd(0x791)](_0x2d6cdd(0x788)),_0x2a6254=_0x428ef2['closest'](_0x2d6cdd(0x538)),_0x1ad7de=_0x428ef2['closest'](_0x2d6cdd(0x16f));if(_0x38c4f6){_0x49f6fd['preventDefault']();const _0x884880=_0x38c4f6[_0x2d6cdd(0x557)]['id'],_0x1b1ecc=_0x38c4f6[_0x2d6cdd(0x791)](_0x2d6cdd(0x5d0))[_0x2d6cdd(0x62c)](_0x2d6cdd(0xc7))['textContent'];showConfirmation(_0x2d6cdd(0x284)+_0x1b1ecc+'\x22?',()=>handleDeleteCustomTopic(_0x884880));}else{if(_0x16e8b1){_0x49f6fd[_0x2d6cdd(0x72d)]();_0x1302e1&&toggleTopicEditMode(_0x1302e1,![]);const _0x33b351=_0x16e8b1['closest'](_0x2d6cdd(0x1c9));_0x1302e1=_0x33b351,toggleTopicEditMode(_0x33b351,!![]);}else{if(_0x2a6254){_0x49f6fd[_0x2d6cdd(0x72d)]();const _0x321e7c=_0x2a6254[_0x2d6cdd(0x557)]['id'],_0x1d2f84=_0x2a6254[_0x2d6cdd(0x791)](_0x2d6cdd(0x1c9)),_0x483cfc=_0x1d2f84[_0x2d6cdd(0x62c)](_0x2d6cdd(0x3b4))[_0x2d6cdd(0x617)];handleUpdateCustomTopic(_0x321e7c,_0x483cfc),_0x1302e1=null;}else{if(_0x1ad7de){_0x49f6fd[_0x2d6cdd(0x72d)]();const _0x36aca3=_0x1ad7de['closest'](_0x2d6cdd(0x1c9));toggleTopicEditMode(_0x36aca3,![]),_0x1302e1=null;}}}}}),document[_0x255319(0x140)]('close-lesson-plan-modal-btn')[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x41579f=_0x255319;document[_0x41579f(0x140)](_0x41579f(0x1d9))['classList'][_0x41579f(0x281)](_0x41579f(0x396));}),document['getElementById'](_0x255319(0x609))[_0x255319(0x14b)](_0x255319(0x268),()=>{const _0x29d2bf=_0x255319;document[_0x29d2bf(0x140)](_0x29d2bf(0x1d9))[_0x29d2bf(0x44b)][_0x29d2bf(0x281)](_0x29d2bf(0x396));}),document[_0x255319(0x140)](_0x255319(0x403))[_0x255319(0x14b)](_0x255319(0x268),handleExportLessonPDF);}document['getElementById'](_0x255319(0x2b4))['addEventListener'](_0x255319(0x268),()=>{const _0x726663=_0x255319;document[_0x726663(0x140)](_0x726663(0x60d))['classList'][_0x726663(0x281)](_0x726663(0x396));}),document[_0x255319(0x140)](_0x255319(0x75e))['addEventListener'](_0x255319(0x268),()=>{const _0x680b77=_0x255319;document[_0x680b77(0x140)]('comparison-modal')['classList'][_0x680b77(0x281)](_0x680b77(0x396));}),setupComparisonModalTabs(),document[_0x255319(0x4a8)][_0x255319(0x14b)](_0x255319(0x268),function(_0x2fd617){const _0x15dd9c=_0x255319;if(_0x2fd617[_0x15dd9c(0x533)]['classList'][_0x15dd9c(0x5d5)](_0x15dd9c(0xf7))){const _0xe7ef8=unescape(_0x2fd617[_0x15dd9c(0x533)]['dataset'][_0x15dd9c(0x479)]);startSkillPractice(_0xe7ef8);}}),document[_0x255319(0x140)](_0x255319(0x16e))[_0x255319(0x14b)]('click',_0x17422a=>{const _0xbea481=_0x255319,_0x30bc86=_0x17422a['target']['closest'](_0xbea481(0x7d6));if(_0x30bc86){const _0x28b408=_0x30bc86['dataset']['studentName'];handleDeleteSubmission(_0x28b408);}});}async function showStudentProgressView(){const _0x21395a=_0x284edd;studentInitialView[_0x21395a(0x44b)][_0x21395a(0x281)]('hidden'),document['getElementById'](_0x21395a(0x28e))[_0x21395a(0x44b)][_0x21395a(0x6f8)]('hidden');const _0x5cffe9=document[_0x21395a(0x140)](_0x21395a(0x2af)),_0x5eb232=document[_0x21395a(0x140)](_0x21395a(0x21b)),_0x5c2687=document['getElementById'](_0x21395a(0x520));_0x5cffe9[_0x21395a(0x52d)]=_0x21395a(0x40b);if(allProjects['length']===0x0){const _0x2bc596=collection(db,'artifacts/'+appId+_0x21395a(0x568)),_0x530dd3=await getDocs(_0x2bc596);allProjects=_0x530dd3['docs'][_0x21395a(0x666)](_0x106fbc=>({'id':_0x106fbc['id'],..._0x106fbc['data']()}));}const _0x2ada0b=allProjects[_0x21395a(0x3fe)](_0x1c8ba3=>_0x1c8ba3[_0x21395a(0x78b)]?.[_0x21395a(0x10e)]!==![]);_0x2ada0b[_0x21395a(0x137)]((_0x2e977a,_0x1e0f6a)=>_0x2e977a['projectName'][_0x21395a(0x5ca)](_0x1e0f6a['projectName'],'th')),_0x5cffe9[_0x21395a(0x52d)]=_0x21395a(0xfd)+_0x2ada0b['map'](_0x226c06=>_0x21395a(0x5bf)+_0x226c06['id']+'\x22>'+_0x226c06[_0x21395a(0x45b)]+_0x21395a(0x4f7))['join'](''),_0x5cffe9['onchange']=()=>{const _0xc93d45=_0x21395a,_0x2f057a=_0x5cffe9['value'];_0x5eb232['disabled']=!![],_0x5eb232['innerHTML']=_0xc93d45(0x6cc),_0x5c2687[_0xc93d45(0x52d)]=_0xc93d45(0x18a);if(!_0x2f057a)return;const _0x275516=allProjects[_0xc93d45(0x4b7)](_0x32a284=>_0x32a284['id']===_0x2f057a);if(!_0x275516)return;const _0x383092=()=>{const _0x4511ac=_0xc93d45;_0x5eb232[_0x4511ac(0x52d)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x275516['students'][_0x4511ac(0x666)](_0x4976d1=>'<option\x20value=\x22'+_0x4976d1+'\x22>'+_0x4976d1+'</option>')[_0x4511ac(0x4be)](''),_0x5eb232[_0x4511ac(0x54e)]=![];};if(_0x275516[_0xc93d45(0x78b)]?.[_0xc93d45(0x342)]){if(sessionStorage[_0xc93d45(0x2f3)](_0xc93d45(0x5ab)+_0x2f057a)===_0xc93d45(0x367)){_0x383092();return;}const _0x528270=document[_0xc93d45(0x140)](_0xc93d45(0x6fd)),_0x172a2a=document['getElementById'](_0xc93d45(0x2cb)),_0x5dc46e=document['getElementById'](_0xc93d45(0x523)),_0x2eb2ca=document[_0xc93d45(0x140)](_0xc93d45(0x6b3)),_0x2d39ce=document['getElementById'](_0xc93d45(0x12c));document['getElementById'](_0xc93d45(0x173))[_0xc93d45(0x61d)]=_0xc93d45(0x53e)+_0x275516[_0xc93d45(0x45b)],_0x2eb2ca[_0xc93d45(0x617)]='',_0x2d39ce[_0xc93d45(0x44b)][_0xc93d45(0x281)](_0xc93d45(0x396)),_0x528270[_0xc93d45(0x44b)][_0xc93d45(0x6f8)](_0xc93d45(0x396));const _0x588bde=()=>{const _0x21dcd6=_0xc93d45,_0xeb296c=_0x2eb2ca['value']['trim']();_0xeb296c===_0x275516[_0x21dcd6(0x78b)][_0x21dcd6(0x2db)]?(sessionStorage['setItem'](_0x21dcd6(0x5ab)+_0x2f057a,_0x21dcd6(0x367)),_0x528270[_0x21dcd6(0x44b)][_0x21dcd6(0x281)](_0x21dcd6(0x396)),_0x383092(),_0x172a2a[_0x21dcd6(0x543)](_0x21dcd6(0x268),_0x588bde)):_0x2d39ce[_0x21dcd6(0x44b)][_0x21dcd6(0x6f8)](_0x21dcd6(0x396));};_0x172a2a[_0xc93d45(0x5da)]=_0x588bde,_0x5dc46e[_0xc93d45(0x5da)]=()=>{const _0x13bd46=_0xc93d45;_0x528270[_0x13bd46(0x44b)][_0x13bd46(0x281)](_0x13bd46(0x396)),_0x5cffe9['value']='',_0x172a2a[_0x13bd46(0x543)](_0x13bd46(0x268),_0x588bde);};}else _0x383092();},_0x5eb232[_0x21395a(0x2da)]=()=>{const _0x2ecb59=_0x21395a,_0x4b9fe3=_0x5cffe9[_0x2ecb59(0x617)],_0x3f42e0=_0x5eb232[_0x2ecb59(0x617)];_0x4b9fe3&&_0x3f42e0&&renderStudentProgressDashboard(_0x4b9fe3,_0x3f42e0);};}async function renderStudentProgressDashboard(_0x596216,_0xb87ce7){const _0x3c84cf=_0x284edd,_0x17537d=document[_0x3c84cf(0x140)](_0x3c84cf(0x520));_0x17537d['innerHTML']=_0x3c84cf(0x425);try{const _0x329099=collection(db,_0x3c84cf(0x6c1)+appId+'/public/data/quizzes'),_0x3e6e9b=query(_0x329099,where(_0x3c84cf(0x756),'==',_0x596216)),_0x4f2022=await getDocs(_0x3e6e9b),_0x366b5b=_0x4f2022[_0x3c84cf(0x310)][_0x3c84cf(0x666)](_0x1e8e59=>({'id':_0x1e8e59['id'],..._0x1e8e59[_0x3c84cf(0x5b7)]()})),_0x237994=_0x366b5b['map'](_0x485c82=>getDoc(doc(db,_0x3c84cf(0x6c1)+appId+_0x3c84cf(0x65e)+_0x485c82['id']+'/submissions',_0xb87ce7))),_0x316293=await Promise[_0x3c84cf(0x528)](_0x237994),_0x2e7520=_0x316293[_0x3c84cf(0x3fe)](_0x4e3480=>_0x4e3480[_0x3c84cf(0x4dc)]())['map'](_0xe1c1a=>({'quizId':_0xe1c1a[_0x3c84cf(0x6d5)][_0x3c84cf(0x5cc)][_0x3c84cf(0x5cc)]['id'],..._0xe1c1a[_0x3c84cf(0x5b7)]()}));if(_0x2e7520[_0x3c84cf(0x357)]===0x0){_0x17537d[_0x3c84cf(0x52d)]=_0x3c84cf(0x6fb);return;}let _0xe0cd8a=_0x3c84cf(0x732);_0x2e7520[_0x3c84cf(0x335)](_0x7d225d=>{const _0x238e4b=_0x3c84cf,_0x58972f=_0x366b5b[_0x238e4b(0x4b7)](_0x4ef092=>_0x4ef092['id']===_0x7d225d['quizId']),_0x52f522=_0x58972f[_0x238e4b(0x78b)]?.[_0x238e4b(0x351)]||_0x238e4b(0x239),_0x4388dc=_0x58972f[_0x238e4b(0x78b)]?.[_0x238e4b(0x7b6)]??0x0,_0x4863c8=_0x7d225d[_0x238e4b(0x15b)]>=_0x4388dc;let _0x150b8d='',_0x4779a3=_0x238e4b(0x7c9);switch(_0x52f522){case _0x238e4b(0x239):case _0x238e4b(0x7b2):_0x4779a3=_0x4863c8?_0x238e4b(0x6fc):_0x238e4b(0x46f),_0x150b8d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x4863c8?_0x238e4b(0x43a):_0x238e4b(0x331))+'\x22>'+_0x7d225d[_0x238e4b(0x15b)]+'\x20/\x20'+_0x7d225d[_0x238e4b(0x2bf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x4863c8?_0x238e4b(0x5ae):_0x238e4b(0x6bf))+'\x22>'+(_0x4863c8?_0x238e4b(0x34c):'ไม่ผ่าน')+_0x238e4b(0x124);break;case _0x238e4b(0x77c):_0x4779a3=_0x4863c8?'bg-green-50':_0x238e4b(0x46f),_0x150b8d=_0x238e4b(0x4db)+(_0x4863c8?_0x238e4b(0x5ae):'bg-red-200\x20text-red-800')+'\x22>'+(_0x4863c8?_0x238e4b(0x34c):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x4779a3=_0x238e4b(0x3e1),_0x150b8d=_0x238e4b(0x4e0);break;}_0xe0cd8a+=_0x238e4b(0xe9)+_0x4779a3+_0x238e4b(0x36b)+_0x58972f[_0x238e4b(0x479)]+_0x238e4b(0x1a5)+_0x7d225d['attempts'][_0x238e4b(0x357)]+_0x238e4b(0x3b1)+new Date(_0x7d225d[_0x238e4b(0x719)])[_0x238e4b(0x2c3)]('th-TH')+_0x238e4b(0x3d1)+_0x150b8d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xe0cd8a+=_0x3c84cf(0x477),_0x17537d[_0x3c84cf(0x52d)]=_0xe0cd8a;}catch(_0x53c123){console[_0x3c84cf(0x377)](_0x3c84cf(0x577),_0x53c123),_0x17537d[_0x3c84cf(0x52d)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x5612d6=_0x284edd;document['getElementById'](_0x5612d6(0x726))['addEventListener'](_0x5612d6(0x268),showStudentProgressView),document[_0x5612d6(0x140)](_0x5612d6(0x7a1))[_0x5612d6(0x14b)]('click',()=>{const _0x169e52=_0x5612d6;document[_0x169e52(0x140)](_0x169e52(0x28e))[_0x169e52(0x44b)]['add'](_0x169e52(0x396)),document['getElementById'](_0x169e52(0x7bd))['classList'][_0x169e52(0x6f8)](_0x169e52(0x396));});}async function startSkillPractice(_0x32b025){const _0x543a87=_0x284edd;studentResultArea['classList'][_0x543a87(0x281)](_0x543a87(0x396)),studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x543a87(0x44b)][_0x543a87(0x6f8)](_0x543a87(0x396));try{const _0x1b6d5d=await getStandardizedTopic(_0x32b025);console[_0x543a87(0x640)](_0x543a87(0x165)+_0x32b025+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x1b6d5d+'\x22'),studentQuizArea['querySelector']('p')['textContent']=_0x543a87(0x5bd)+_0x1b6d5d+_0x543a87(0x130);const _0x10a7bc=collection(db,_0x543a87(0x6c1)+appId+_0x543a87(0x4e5)),_0x2b8b0a=query(_0x10a7bc,where(_0x543a87(0x479),'==',_0x1b6d5d)),_0x356336=await getDocs(_0x2b8b0a);if(_0x356336[_0x543a87(0x310)][_0x543a87(0x357)]>=0x3){console[_0x543a87(0x640)](_0x543a87(0x5aa)+_0x356336['docs'][_0x543a87(0x357)]+_0x543a87(0x69c)+_0x1b6d5d+_0x543a87(0x6b8));let _0x467fa5=_0x356336['docs'][_0x543a87(0x666)](_0xa9dd1=>_0xa9dd1[_0x543a87(0x5b7)]());shuffleArray(_0x467fa5);const _0x553e2c={'topic':_0x1b6d5d,'questions':_0x467fa5['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x553e2c);}else{console[_0x543a87(0x640)](_0x543a87(0x544)+_0x1b6d5d+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x142ab7=await generatePracticeQuestions(_0x1b6d5d);await saveDrillToPracticeBank(_0x142ab7,_0x1b6d5d),displaySkillPracticeDrill(_0x142ab7);}}catch(_0x18501c){console[_0x543a87(0x377)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x18501c),showMessage(_0x543a87(0x372)),studentQuizArea[_0x543a87(0x44b)]['add'](_0x543a87(0x396)),studentResultArea[_0x543a87(0x44b)][_0x543a87(0x6f8)](_0x543a87(0x396));}}async function saveDrillToPracticeBank(_0x52eb20,_0x113781){const _0xea6e6e=_0x284edd,_0x24ad81=collection(db,_0xea6e6e(0x6c1)+appId+_0xea6e6e(0x4e5)),_0xa1464d=writeBatch(db);_0x52eb20[_0xea6e6e(0x7d0)]['forEach'](_0x212b7b=>{const _0x86440e=_0xea6e6e,_0x4fec95=doc(_0x24ad81);_0xa1464d[_0x86440e(0xfe)](_0x4fec95,{'topic':_0x113781,'questionText':_0x212b7b['questionText'],'options':_0x212b7b['options'],'correctAnswerIndex':_0x212b7b[_0x86440e(0x31c)],'explanation':_0x212b7b[_0x86440e(0x48b)],'createdAt':serverTimestamp()});});try{await _0xa1464d[_0xea6e6e(0x247)](),console['log'](_0xea6e6e(0x458)+_0x52eb20[_0xea6e6e(0x7d0)][_0xea6e6e(0x357)]+_0xea6e6e(0x598));}catch(_0x3cf40e){console[_0xea6e6e(0x377)](_0xea6e6e(0x38c),_0x3cf40e);}}async function getStandardizedTopic(_0x131b62){const _0x6ec5e0=_0x284edd,_0x195970=_0x6ec5e0(0x680)+_0x131b62+_0x6ec5e0(0x3f2),_0xc37106={'type':_0x6ec5e0(0xd1),'properties':{'standardTopic':{'type':_0x6ec5e0(0x1d1)}},'required':[_0x6ec5e0(0x417)]};try{const _0x5c4f34=await callAnalysisApi(_0x195970,_0xc37106);return _0x5c4f34[_0x6ec5e0(0x417)];}catch(_0x3c784e){return console[_0x6ec5e0(0x377)](_0x6ec5e0(0x24f),_0x3c784e),_0x131b62;}}async function generatePracticeQuestions(_0x5bbac2){const _0x317b80=_0x284edd,_0x1d0ef4=_0x317b80(0x4d8)+_0x5bbac2+_0x317b80(0x7bf)+simpleMathPrompt+_0x317b80(0x6e5),_0xae8b56={'type':_0x317b80(0xd1),'properties':{'questionText':{'type':_0x317b80(0x1d1)},'options':{'type':_0x317b80(0x696),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x317b80(0x5a5)},'explanation':{'type':_0x317b80(0x1d1)}},'required':[_0x317b80(0x28d),'options',_0x317b80(0x31c),_0x317b80(0x48b)]},_0x5526ea={'type':_0x317b80(0xd1),'properties':{'topic':{'type':_0x317b80(0x1d1)},'questions':{'type':_0x317b80(0x696),'items':_0xae8b56}},'required':[_0x317b80(0x479),_0x317b80(0x7d0)]};return await callAnalysisApi(_0x1d0ef4,_0x5526ea);}function displaySkillPracticeDrill(_0x243baf){let _0x9c6d49=0x0;const _0x41d9ad=_0x243baf['questions'],_0x30b58b=()=>{const _0x5abd16=_0x323d,_0x34666a=_0x41d9ad[_0x9c6d49],_0x38f1fe=_0x5abd16(0x2d4)+(_0x9c6d49+0x1)+'\x20/\x20'+_0x41d9ad[_0x5abd16(0x357)]+_0x5abd16(0x15f)+_0x34666a[_0x5abd16(0x28d)]+_0x5abd16(0x480)+_0x34666a[_0x5abd16(0x230)]['map']((_0x2cbeaa,_0x3b57d2)=>_0x5abd16(0xe2)+_0x3b57d2+_0x5abd16(0x71a)+_0x3b57d2+_0x5abd16(0x549)+_0x3b57d2+'\x22>'+_0x2cbeaa+_0x5abd16(0x587))[_0x5abd16(0x4be)]('')+_0x5abd16(0x241);studentQuizArea['innerHTML']=_0x38f1fe;if(window[_0x5abd16(0x476)])MathJax[_0x5abd16(0x41b)]([studentQuizArea]);document[_0x5abd16(0x140)](_0x5abd16(0x352))['addEventListener']('click',async()=>{const _0x2ebc9d=_0x5abd16,_0x59b30e=await getHintForQuestion(_0x34666a[_0x2ebc9d(0x28d)]);showMessage(_0x59b30e);}),document[_0x5abd16(0x140)]('check-answer-btn')['addEventListener'](_0x5abd16(0x268),()=>{const _0x24cf2b=_0x5abd16,_0x307478=document['querySelector'](_0x24cf2b(0x283));if(!_0x307478){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x594373=document[_0x24cf2b(0x140)](_0x24cf2b(0x64e)),_0x49f04b=parseInt(_0x307478[_0x24cf2b(0x617)])===_0x34666a[_0x24cf2b(0x31c)];_0x49f04b?(_0x594373[_0x24cf2b(0x774)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x594373[_0x24cf2b(0x52d)]=_0x24cf2b(0x659)+_0x34666a[_0x24cf2b(0x48b)]):(_0x594373[_0x24cf2b(0x774)]=_0x24cf2b(0xce),_0x594373[_0x24cf2b(0x52d)]=_0x24cf2b(0x575)+_0x34666a[_0x24cf2b(0x48b)]);_0x594373[_0x24cf2b(0x44b)][_0x24cf2b(0x6f8)](_0x24cf2b(0x396));if(window[_0x24cf2b(0x476)])MathJax[_0x24cf2b(0x41b)]([_0x594373]);document[_0x24cf2b(0x140)]('check-answer-btn')['classList'][_0x24cf2b(0x281)]('hidden'),document['getElementById']('hint-btn')[_0x24cf2b(0x44b)][_0x24cf2b(0x281)](_0x24cf2b(0x396)),document[_0x24cf2b(0x140)](_0x24cf2b(0x45e))[_0x24cf2b(0x44b)][_0x24cf2b(0x6f8)](_0x24cf2b(0x396));}),document[_0x5abd16(0x140)](_0x5abd16(0x45e))[_0x5abd16(0x14b)](_0x5abd16(0x268),()=>{const _0x38ae2c=_0x5abd16;_0x9c6d49++,_0x9c6d49<_0x41d9ad[_0x38ae2c(0x357)]?_0x30b58b():(studentQuizArea[_0x38ae2c(0x52d)]=_0x38ae2c(0x246),document[_0x38ae2c(0x140)](_0x38ae2c(0x4fb))[_0x38ae2c(0x14b)](_0x38ae2c(0x268),()=>{const _0x2c537b=_0x38ae2c;studentQuizArea[_0x2c537b(0x44b)][_0x2c537b(0x281)](_0x2c537b(0x396)),studentResultArea['classList'][_0x2c537b(0x6f8)](_0x2c537b(0x396));}));});};_0x30b58b();}async function getHintForQuestion(_0x3f6a27){const _0x4527b6=_0x284edd,_0x5e0403='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x3f6a27+_0x4527b6(0x181),_0xae7d52={'type':_0x4527b6(0xd1),'properties':{'hint':{'type':_0x4527b6(0x1d1)}},'required':['hint']};try{const _0x46fe64=await callAnalysisApi(_0x5e0403,_0xae7d52);return _0x46fe64[_0x4527b6(0x5f8)];}catch(_0xb2b276){return console[_0x4527b6(0x377)](_0x4527b6(0x64d),_0xb2b276),_0x4527b6(0x33a);}}async function extractTextFromPdf(_0x3e9d95){const _0x1d940c=_0x284edd;pdfjsLib['GlobalWorkerOptions'][_0x1d940c(0x5f2)]=_0x1d940c(0x50e);const _0x5364c4=await _0x3e9d95[_0x1d940c(0xcc)](),_0x453ae7=await pdfjsLib[_0x1d940c(0x736)](_0x5364c4)[_0x1d940c(0x52b)],_0x454ae8=_0x453ae7[_0x1d940c(0x404)];let _0x3f27be='';for(let _0x38d364=0x1;_0x38d364<=_0x454ae8;_0x38d364++){const _0x541a9f=await _0x453ae7['getPage'](_0x38d364),_0x463443=await _0x541a9f[_0x1d940c(0x2fa)](),_0x5ed927=_0x463443[_0x1d940c(0x612)]['map'](_0x3db3b0=>_0x3db3b0['str'])[_0x1d940c(0x4be)]('\x20');_0x3f27be+=_0x5ed927+'\x0a\x0a';}return _0x3f27be;}async function handleGenerateFromBlueprint(){const _0x26cdfe=_0x284edd,_0x1a40ad=document[_0x26cdfe(0x140)]('blueprint-upload-input'),_0x5d938d=document[_0x26cdfe(0x140)](_0x26cdfe(0x558)),_0x52634a=_0x1a40ad[_0x26cdfe(0x1fa)][0x0],_0x3ee534=_0x5d938d[_0x26cdfe(0x1fa)][_0x26cdfe(0x357)]>0x0?_0x5d938d['files'][0x0]:null;if(!_0x52634a){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x5651d6=document[_0x26cdfe(0x140)](_0x26cdfe(0x33e)),_0x7eed11=document[_0x26cdfe(0x140)](_0x26cdfe(0x1ba)),_0x258b69=document['getElementById']('generated-quiz-container'),_0x321d25=document[_0x26cdfe(0x140)]('generate-from-blueprint-btn');_0x321d25['disabled']=!![],document['getElementById']('quiz-generation-area')[_0x26cdfe(0x44b)]['remove'](_0x26cdfe(0x396)),_0x258b69[_0x26cdfe(0x52d)]='',_0x5651d6[_0x26cdfe(0x44b)][_0x26cdfe(0x6f8)]('hidden');try{_0x7eed11[_0x26cdfe(0x61d)]=_0x26cdfe(0x6ec);const _0x37635c=await extractTextFromPdf(_0x52634a);if(!_0x37635c[_0x26cdfe(0xd4)]())throw new Error(_0x26cdfe(0x3dc));let _0x5910bc='';_0x3ee534&&(_0x7eed11[_0x26cdfe(0x61d)]=_0x26cdfe(0x55d),_0x5910bc=await extractTextFromPdf(_0x3ee534));_0x7eed11[_0x26cdfe(0x61d)]='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x1cf1ad=document[_0x26cdfe(0x140)](_0x26cdfe(0x4ee))['checked'],_0x15898e=_0x1cf1ad?_0x26cdfe(0x3b9):'',_0x4a02b7=_0x5910bc?_0x26cdfe(0x340)+_0x5910bc+_0x26cdfe(0x383):'',_0x27f4df=_0x26cdfe(0x41d)+(_0x5910bc?_0x26cdfe(0x270):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37635c+_0x26cdfe(0x383)+_0x4a02b7+_0x26cdfe(0x47b)+_0x15898e+_0x26cdfe(0x256)+simpleMathPrompt+_0x26cdfe(0x5fc),_0x54742a={'type':'OBJECT','properties':{'questionText':{'type':_0x26cdfe(0x1d1)},'questionType':{'type':_0x26cdfe(0x1d1),'enum':[_0x26cdfe(0x267),_0x26cdfe(0x4eb)]},'options':{'type':_0x26cdfe(0x696),'items':{'type':_0x26cdfe(0x1d1)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x26cdfe(0x1d1)}},'required':[_0x26cdfe(0x28d),_0x26cdfe(0x103),_0x26cdfe(0x48b)]},_0x59d736={'type':'OBJECT','properties':{'topic':{'type':_0x26cdfe(0x1d1)},'questions':{'type':'ARRAY','items':_0x54742a}},'required':[_0x26cdfe(0x479),_0x26cdfe(0x7d0)]};await handleApiCall(_0x27f4df,_0x26cdfe(0x195),_0x59d736);}catch(_0x411bff){console[_0x26cdfe(0x377)]('Error\x20generating\x20from\x20blueprint:',_0x411bff),showMessage('เกิดข้อผิดพลาด:\x20'+_0x411bff[_0x26cdfe(0xf2)]),_0x258b69['innerHTML']=_0x26cdfe(0x466);}finally{_0x5651d6[_0x26cdfe(0x44b)][_0x26cdfe(0x281)](_0x26cdfe(0x396)),_0x321d25[_0x26cdfe(0x54e)]=![];}}async function handleGenerateParallelFromBank(_0x2f82e5){const _0x4fa74d=_0x284edd,_0xfe8628=document[_0x4fa74d(0x140)]('loader'),_0x4a340b=document[_0x4fa74d(0x140)](_0x4fa74d(0x1ba)),_0x262662=document[_0x4fa74d(0x140)](_0x4fa74d(0x7cc)),_0x3a6fac=document[_0x4fa74d(0x140)]('quiz-generation-area');showView(_0x4fa74d(0x154)),switchProjectTab(_0x4fa74d(0x34d)),_0x3a6fac['classList'][_0x4fa74d(0x6f8)](_0x4fa74d(0x396)),_0x262662[_0x4fa74d(0x52d)]='',_0xfe8628['classList'][_0x4fa74d(0x6f8)]('hidden'),_0x4a340b['textContent']='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x2f82e5[_0x4fa74d(0x479)]+_0x4fa74d(0x130);try{const _0x5bfb08=_0x2f82e5['questions']['map']((_0x2a90c6,_0x13b4f9)=>{const _0x48af41=_0x4fa74d;let _0x222e75=_0x13b4f9+0x1+'.\x20'+(_0x2a90c6['questionText']||_0x2a90c6[_0x48af41(0x63f)])+'\x0a';if(_0x2a90c6[_0x48af41(0x230)])_0x222e75+=_0x2a90c6[_0x48af41(0x230)][_0x48af41(0x666)]((_0x2062a5,_0x536d99)=>_0x48af41(0x328)+(_0x536d99===_0x2a90c6[_0x48af41(0x31c)]?_0x48af41(0x6b6):'')+'\x20'+_0x2062a5)[_0x48af41(0x4be)]('\x0a');else{if(_0x2a90c6[_0x48af41(0x49c)])_0x222e75+=_0x48af41(0x57d)+_0x2a90c6[_0x48af41(0x49c)];else _0x2a90c6['correctResponse']&&(_0x222e75+=_0x48af41(0x57d)+_0x2a90c6[_0x48af41(0x708)]);}return _0x222e75;})['join']('\x0a\x0a');_0x4a340b[_0x4fa74d(0x61d)]=_0x4fa74d(0x155);const _0x21214e=_0x4fa74d(0x5f0)+_0x2f82e5['topic']+_0x4fa74d(0x1da)+_0x5bfb08+_0x4fa74d(0x702)+_0x2f82e5[_0x4fa74d(0x255)]+'),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x4fa74d(0x5fc),_0x25e15f={'type':_0x4fa74d(0xd1),'properties':{'questionText':{'type':_0x4fa74d(0x1d1)},'questionType':{'type':'STRING','enum':[_0x4fa74d(0x267),'short_answer','true_false',_0x4fa74d(0x159)]},'options':{'type':'ARRAY','items':{'type':_0x4fa74d(0x1d1)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4fa74d(0x1d1)},'correctAnswer':{'type':_0x4fa74d(0x1ac)},'stem':{'type':_0x4fa74d(0x1d1)},'correctResponse':{'type':_0x4fa74d(0x1d1)},'allResponses':{'type':'ARRAY','items':{'type':_0x4fa74d(0x1d1)}},'explanation':{'type':_0x4fa74d(0x1d1)},'imageCode':{'type':'STRING'}},'required':[_0x4fa74d(0x103),'explanation']},_0xf6af1={'type':_0x4fa74d(0xd1),'properties':{'topic':{'type':_0x4fa74d(0x1d1)},'questions':{'type':_0x4fa74d(0x696),'items':_0x25e15f}},'required':[_0x4fa74d(0x479),_0x4fa74d(0x7d0)]};await handleApiCall(_0x21214e,_0x4fa74d(0x5b0),_0xf6af1);}catch(_0x151940){console[_0x4fa74d(0x377)](_0x4fa74d(0x112),_0x151940),showMessage(_0x4fa74d(0x407)+_0x151940[_0x4fa74d(0xf2)]),_0x262662['innerHTML']=_0x4fa74d(0x580);}finally{_0xfe8628[_0x4fa74d(0x44b)][_0x4fa74d(0x281)](_0x4fa74d(0x396));}}async function handleGenerateParallelTest(){const _0x325456=_0x284edd,_0x55c5b6=document[_0x325456(0x140)](_0x325456(0x4e6)),_0x3d2053=_0x55c5b6[_0x325456(0x1fa)][0x0];if(!_0x3d2053){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x1bf4be=document[_0x325456(0x140)]('loader'),_0x57318b=document[_0x325456(0x140)](_0x325456(0x1ba)),_0x19b9c5=document[_0x325456(0x140)]('generated-quiz-container'),_0x408964=document[_0x325456(0x140)](_0x325456(0x485));_0x408964[_0x325456(0x54e)]=!![],document['getElementById'](_0x325456(0x28a))['classList'][_0x325456(0x6f8)](_0x325456(0x396)),_0x19b9c5[_0x325456(0x52d)]='',_0x1bf4be[_0x325456(0x44b)]['remove'](_0x325456(0x396)),_0x57318b[_0x325456(0x61d)]=_0x325456(0x5a7);try{const _0x57778b=await extractTextFromPdf(_0x3d2053);if(!_0x57778b[_0x325456(0xd4)]())throw new Error(_0x325456(0xec));_0x57318b[_0x325456(0x61d)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x16a12f=document['getElementById'](_0x325456(0x4ee))[_0x325456(0x61c)],_0x4af8f0=_0x16a12f?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0xb30c55=_0x325456(0x4f6)+_0x57778b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4af8f0+_0x325456(0x256)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4f68d6={'type':'OBJECT','properties':{'questionText':{'type':_0x325456(0x1d1)},'questionType':{'type':_0x325456(0x1d1),'enum':[_0x325456(0x267),_0x325456(0x4eb)]},'options':{'type':_0x325456(0x696),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x325456(0x5a5)},'idealAnswer':{'type':_0x325456(0x1d1)},'explanation':{'type':_0x325456(0x1d1)},'imageCode':{'type':_0x325456(0x1d1)}},'required':[_0x325456(0x28d),'questionType','explanation']},_0x4ea894={'type':_0x325456(0xd1),'properties':{'topic':{'type':_0x325456(0x1d1)},'questions':{'type':_0x325456(0x696),'items':_0x4f68d6}},'required':[_0x325456(0x479),_0x325456(0x7d0)]};await handleApiCall(_0xb30c55,_0x325456(0x5b0),_0x4ea894);}catch(_0x278cdf){console[_0x325456(0x377)](_0x325456(0x7bc),_0x278cdf),showMessage(_0x325456(0x407)+_0x278cdf[_0x325456(0xf2)]),_0x19b9c5['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x1bf4be[_0x325456(0x44b)][_0x325456(0x281)]('hidden'),_0x408964[_0x325456(0x54e)]=![];}}async function handleRegenerateQuestionInEditor(_0x2ef5df){const _0x384518=_0x284edd;if(currentEditingQuizData===null)return;const _0x5033a6=document[_0x384518(0x62c)](_0x384518(0x7ae)+_0x2ef5df+'\x22]');_0x5033a6&&(_0x5033a6[_0x384518(0x52d)]=_0x384518(0x4c7));const _0x28f16b=currentEditingQuizData[_0x384518(0x7d0)][_0x2ef5df],_0x4a23bc=currentEditingQuizData[_0x384518(0x479)],_0x28d213=_0x28f16b[_0x384518(0x103)],_0x516562={'type':_0x384518(0xd1),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x384518(0x696),'items':{'type':_0x384518(0x1d1)}},'correctAnswerIndex':{'type':_0x384518(0x5a5)},'explanation':{'type':'STRING'}},'required':[_0x384518(0x28d),_0x384518(0x230),_0x384518(0x31c),_0x384518(0x48b)]},_0x50caba={'type':_0x384518(0xd1),'properties':{'questionText':{'type':_0x384518(0x1d1)},'idealAnswer':{'type':_0x384518(0x1d1)},'explanation':{'type':_0x384518(0x1d1)}},'required':['questionText',_0x384518(0x49c),_0x384518(0x48b)]};let _0x5d244a,_0x5d1b0a='';_0x28d213===_0x384518(0x267)?(_0x5d244a=_0x516562,_0x5d1b0a=_0x384518(0x6cb)):(_0x5d244a=_0x50caba,_0x5d1b0a=_0x384518(0x369));const _0x141779=_0x384518(0x429)+_0x4a23bc+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x5d1b0a+_0x384518(0x641)+(_0x28f16b[_0x384518(0x28d)]||_0x28f16b['stem'])+_0x384518(0x54f)+simpleMathPrompt;try{const _0x59da47=await callAnalysisApi(_0x141779,_0x5d244a);currentEditingQuizData['questions'][_0x2ef5df]={..._0x28f16b,..._0x59da47},renderQuizEditor(currentEditingQuizData);}catch(_0x424abd){console[_0x384518(0x377)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x424abd),showMessage(_0x384518(0x67f)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x116d78=_0x284edd,_0x52a200=document['getElementById'](_0x116d78(0x5a4));currentMode===_0x116d78(0x1d3)?(currentMode='admin',_0x52a200[_0x116d78(0x52d)]=_0x116d78(0x631),_0x52a200[_0x116d78(0x6e2)]=_0x116d78(0x5f5),showView(_0x116d78(0x347))):(currentMode=_0x116d78(0x1d3),_0x52a200[_0x116d78(0x52d)]=_0x116d78(0x3e9),_0x52a200['title']='สลับไปโหมดผู้ควบคุม',showView(_0x116d78(0x1d3)));}function handleAdminLogin(){const _0x441f0b=_0x284edd,_0x406304=document[_0x441f0b(0x140)](_0x441f0b(0x20d)),_0x46ebb1=document['getElementById'](_0x441f0b(0x661));if(_0x406304['value']==='27411472'){adminPasswordModal[_0x441f0b(0x44b)][_0x441f0b(0x281)](_0x441f0b(0x396)),_0x406304[_0x441f0b(0x617)]='',_0x46ebb1[_0x441f0b(0x44b)][_0x441f0b(0x281)](_0x441f0b(0x396)),currentMode=_0x441f0b(0x4df);const _0x5a579f=document[_0x441f0b(0x140)]('mode-switcher-btn');_0x5a579f['innerHTML']=_0x441f0b(0x631),_0x5a579f['title']=_0x441f0b(0x5f5),showView(_0x441f0b(0x347));}else _0x46ebb1['classList']['remove'](_0x441f0b(0x396)),_0x406304[_0x441f0b(0x617)]='';}function switchProjectTab(_0x54733a){const _0x314280=_0x284edd;['manage','results','leaderboard'][_0x314280(0x335)](_0x566041=>{const _0x4651f0=_0x314280;document['getElementById'](_0x566041+_0x4651f0(0x4c8))[_0x4651f0(0x44b)][_0x4651f0(0x6f8)](_0x4651f0(0x744)),document[_0x4651f0(0x140)](_0x566041+_0x4651f0(0x765))[_0x4651f0(0x44b)][_0x4651f0(0x281)]('hidden');}),document[_0x314280(0x140)](_0x54733a+_0x314280(0x4c8))['classList'][_0x314280(0x281)]('active'),document['getElementById'](_0x54733a+_0x314280(0x765))['classList'][_0x314280(0x6f8)](_0x314280(0x396));}function switchQuizDetailTab(_0x239b6e){const _0x116676=_0x284edd,_0x197200={'analytics':{'btn':_0x116676(0x650),'content':_0x116676(0x6ea)},'scores':{'btn':_0x116676(0x6e7),'content':_0x116676(0x16e)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x116676(0x635)}};for(const _0x564c3f in _0x197200){document['getElementById'](_0x197200[_0x564c3f]['btn'])[_0x116676(0x44b)]['remove'](_0x116676(0x744)),document[_0x116676(0x140)](_0x197200[_0x564c3f][_0x116676(0x35f)])[_0x116676(0x44b)][_0x116676(0x281)](_0x116676(0x396));}document['getElementById'](_0x197200[_0x239b6e][_0x116676(0x688)])['classList']['add'](_0x116676(0x744)),document[_0x116676(0x140)](_0x197200[_0x239b6e][_0x116676(0x35f)])['classList'][_0x116676(0x6f8)]('hidden');}function showMessage(_0x463e91){const _0x25b6ce=_0x284edd;modalMessage['textContent']=_0x463e91,messageModal[_0x25b6ce(0x44b)][_0x25b6ce(0x6f8)](_0x25b6ce(0x396));}function showConfirmation(_0x18e105,_0x3dcab2){const _0x135e45=_0x284edd;document['getElementById'](_0x135e45(0x201))[_0x135e45(0x61d)]=_0x18e105,document[_0x135e45(0x140)](_0x135e45(0x72b))[_0x135e45(0x62c)]('h3')[_0x135e45(0x61d)]=_0x135e45(0x53b),confirmAction=_0x3dcab2,confirmationModal[_0x135e45(0x44b)][_0x135e45(0x6f8)](_0x135e45(0x396));}function listenForProjects(){const _0x37b904=_0x284edd,_0x747542=doc(db,_0x37b904(0x37c),_0x37b904(0x2a1));onSnapshot(_0x747542,_0xa10c60=>{const _0x15340b=_0x37b904;if(_0xa10c60[_0x15340b(0x4dc)]()){const _0x1496ca=_0xa10c60[_0x15340b(0x5b7)]();globalDashboardSettings[_0x15340b(0x62d)]=_0x1496ca[_0x15340b(0x62d)]||_0x15340b(0x282),globalDashboardSettings[_0x15340b(0x585)]=_0x1496ca[_0x15340b(0x585)]||[];}allProjects[_0x15340b(0x357)]>0x0&&renderProjects();});const _0x348449=collection(db,'artifacts/'+appId+_0x37b904(0x568));unsubscribeProjectsListener=onSnapshot(_0x348449,_0x49cc14=>{const _0x31d1c7=_0x37b904;allProjects=_0x49cc14[_0x31d1c7(0x310)][_0x31d1c7(0x666)](_0x263d3b=>({'id':_0x263d3b['id'],..._0x263d3b['data']()})),renderProjects();},_0x3c910f=>{const _0x1b9e09=_0x37b904;console[_0x1b9e09(0x377)](_0x1b9e09(0x483),_0x3c910f),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0x358f4c=_0x284edd,_0x4d4bb0=globalDashboardSettings['projectSort']||_0x358f4c(0x282),_0x594f16=new Set(globalDashboardSettings[_0x358f4c(0x585)]||[]);document[_0x358f4c(0x140)]('project-sort-select')[_0x358f4c(0x617)]=_0x4d4bb0;const _0x491cf2=document['getElementById'](_0x358f4c(0x146))['value'][_0x358f4c(0x6d3)]();let _0x2e4e71=allProjects[_0x358f4c(0x3fe)](_0x3675ec=>_0x3675ec[_0x358f4c(0x45b)]['toLowerCase']()['includes'](_0x491cf2));const _0x2ddb39=_0x2e4e71[_0x358f4c(0x3fe)](_0x51e183=>_0x594f16[_0x358f4c(0x578)](_0x51e183['id'])),_0x33c9d0=_0x2e4e71[_0x358f4c(0x3fe)](_0x416041=>!_0x594f16[_0x358f4c(0x578)](_0x416041['id'])),_0x89446d=(_0x42d775,_0x486e81)=>{const _0x6fb6a0=_0x358f4c;switch(_0x4d4bb0){case _0x6fb6a0(0x1cf):return _0x42d775[_0x6fb6a0(0x45b)]['localeCompare'](_0x486e81[_0x6fb6a0(0x45b)],'th');case _0x6fb6a0(0x777):return _0x486e81[_0x6fb6a0(0x45b)][_0x6fb6a0(0x5ca)](_0x42d775[_0x6fb6a0(0x45b)],'th');case _0x6fb6a0(0x12f):return new Date(_0x42d775[_0x6fb6a0(0x54a)])-new Date(_0x486e81[_0x6fb6a0(0x54a)]);case _0x6fb6a0(0x282):default:return new Date(_0x486e81['createdAt'])-new Date(_0x42d775[_0x6fb6a0(0x54a)]);}};_0x2ddb39['sort'](_0x89446d),_0x33c9d0[_0x358f4c(0x137)](_0x89446d);const _0x14b3a0=[..._0x2ddb39,..._0x33c9d0],_0x40f0f2={};await Promise['all'](_0x14b3a0[_0x358f4c(0x666)](async _0x990c15=>{const _0x328db3=_0x358f4c,_0x8ea52f=query(collection(db,_0x328db3(0x6c1)+appId+_0x328db3(0x127)),where('projectId','==',_0x990c15['id'])),_0xfe51bb=await getDocs(_0x8ea52f);_0x40f0f2[_0x990c15['id']]=_0xfe51bb['size'];}));let _0x2970ff='';starredQuizzes[_0x358f4c(0x357)]>0x0&&_0x491cf2===''&&(_0x2970ff+=_0x358f4c(0x317)+starredQuizzes[_0x358f4c(0x357)]+_0x358f4c(0x5c9)),_0x14b3a0[_0x358f4c(0x335)](_0x385e15=>{const _0x241e87=_0x358f4c,_0x120aeb=_0x40f0f2[_0x385e15['id']]??0x0,_0x15d05a=_0x594f16['has'](_0x385e15['id']);_0x2970ff+=_0x241e87(0x176)+(_0x15d05a?_0x241e87(0x6ba):_0x241e87(0x454))+_0x241e87(0xdb)+_0x385e15['id']+_0x241e87(0xe4)+_0x385e15['id']+_0x241e87(0x6f4)+(_0x15d05a?'text-indigo-600':'')+_0x241e87(0x242)+_0x385e15['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>'+_0x385e15[_0x241e87(0x45b)]+_0x241e87(0x6f6)+new Date(_0x385e15[_0x241e87(0x54a)])[_0x241e87(0x2c3)](_0x241e87(0x144))+_0x241e87(0x17e)+_0x120aeb+_0x241e87(0x738)+_0x385e15['id']+_0x241e87(0x237)+_0x385e15[_0x241e87(0x45b)]+_0x241e87(0x74e);}),projectList[_0x358f4c(0x52d)]=_0x2970ff,noProjectsMsg[_0x358f4c(0x44b)][_0x358f4c(0x529)](_0x358f4c(0x396),_0x2970ff[_0x358f4c(0x357)]>0x0);}document[_0x284edd(0x140)](_0x284edd(0x6ce))['addEventListener'](_0x284edd(0x268),async()=>{const _0x5361db=_0x284edd,_0x3a18e8=document['getElementById'](_0x5361db(0x364)),_0x96bb12=_0x3a18e8[_0x5361db(0x617)]['trim']();if(!_0x96bb12){showMessage(_0x5361db(0x588));return;}try{const _0x1c9de9=doc(collection(db,_0x5361db(0x6c1)+appId+_0x5361db(0x568)));await setDoc(_0x1c9de9,{'projectName':_0x96bb12,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x5361db(0x3e7),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x5361db(0x3e7),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x5361db(0x2ea)]()}),_0x3a18e8[_0x5361db(0x617)]='',createProjectModal['classList']['add'](_0x5361db(0x396)),showMessage(_0x5361db(0x456));}catch(_0x48d585){console[_0x5361db(0x377)]('Error\x20creating\x20project:',_0x48d585),showMessage(_0x5361db(0x3ab));}}),projectList[_0x284edd(0x14b)]('click',async _0x53bf03=>{const _0x2f1a12=_0x284edd,_0x5c62c8=_0x53bf03[_0x2f1a12(0x533)][_0x2f1a12(0x791)]('.project-card-content'),_0x24b01a=_0x53bf03[_0x2f1a12(0x533)][_0x2f1a12(0x791)](_0x2f1a12(0x567)),_0x5a8a85=_0x53bf03[_0x2f1a12(0x533)][_0x2f1a12(0x791)]('.pin-project-btn');if(_0x5a8a85){const _0x3704bc=_0x5a8a85[_0x2f1a12(0x557)]['id'],_0x372c12=doc(db,_0x2f1a12(0x37c),'dashboardConfig'),_0x177b57=globalDashboardSettings['pinnedProjects'];let _0x279b96;_0x177b57[_0x2f1a12(0x4ab)](_0x3704bc)?_0x279b96=_0x177b57['filter'](_0x34a531=>_0x34a531!==_0x3704bc):_0x279b96=[..._0x177b57,_0x3704bc];try{await setDoc(_0x372c12,{'pinnedProjects':_0x279b96},{'merge':!![]});}catch(_0x481295){console[_0x2f1a12(0x377)](_0x2f1a12(0x46d),_0x481295),showMessage(_0x2f1a12(0xdc));}}else{if(_0x5c62c8){const _0x21c4e7=_0x5c62c8[_0x2f1a12(0x557)]['id'];_0x21c4e7===_0x2f1a12(0x336)?showStarredProjectView():(currentProjectId=_0x21c4e7,await loadProjectDetails(currentProjectId),showView(_0x2f1a12(0x154)));}else{if(_0x24b01a){const _0x5be5f4=_0x24b01a['dataset']['id'],_0x34c02c=_0x24b01a['dataset'][_0x2f1a12(0x61e)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x34c02c+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x5be5f4));}}}});function calculateMeanAndStdDev(_0x1c8c95){const _0x29147c=_0x284edd;if(_0x1c8c95[_0x29147c(0x357)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2bd3f6=_0x1c8c95[_0x29147c(0x5bc)]((_0xffca72,_0x556590)=>_0xffca72+_0x556590,0x0)/_0x1c8c95[_0x29147c(0x357)];if(_0x1c8c95[_0x29147c(0x357)]===0x1)return{'mean':_0x2bd3f6,'stdDev':0x0};const _0x241c0e=Math[_0x29147c(0x290)](_0x1c8c95[_0x29147c(0x666)](_0x17fa57=>Math[_0x29147c(0x569)](_0x17fa57-_0x2bd3f6,0x2))[_0x29147c(0x5bc)]((_0x14a22a,_0x39c1b1)=>_0x14a22a+_0x39c1b1,0x0)/(_0x1c8c95[_0x29147c(0x357)]-0x1));return{'mean':_0x2bd3f6,'stdDev':_0x241c0e};}function calculateZScore(_0x2e474c,_0x12462b,_0x1521a1){if(_0x1521a1===0x0)return 0x0;return(_0x2e474c-_0x12462b)/_0x1521a1;}function calculateTScore(_0x45afd3){return 0xa*_0x45afd3+0x32;}function _0x25ab(){const _0x3533e4=['comparison-modal','clientY','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','generate-from-file-btn','isArray','items','per-question-timer-container','ตรวจคะแนนใหม่\x20','ไม่พบข้อมูลแบบทดสอบ','fill','value','replace','(ก่อนเรียน)','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','checked','textContent','name','correctStreak','shuffle-setting-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','ความแปรปรวน','contents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','custom-math-topic-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','back-to-dashboard-from-results-btn','.topic-category','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','rgba(79,\x2070,\x20229,\x200.8)','querySelector','projectSort','ราชาคัมแบ็ก','การนับ','\x20คะแนน','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','quiz-search-input','select-all-topics-btn','leaderboard-quiz-tab-content','เกิดข้อผิดพลาดในการลบผลสอบ','answer-counter','องค์ประกอบของฟังก์ชัน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20สมการและสมบัติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','readAsDataURL','_opt0\x22\x20name=\x22question','stem','log','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','พื้นที่สามเหลี่ยม','สมมาตร\x20(แกน/จุด)','บันทึกการตั้งค่าแล้ว','ปริมาตร/ความจุและการแปลง','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','revealed','เกิดข้อผิดพลาดในการลบนักเรียน','opacity-50','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','manual_release','blueprint-tab','Failed\x20to\x20get\x20hint:','drill-feedback','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','focus','student-view','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','ไม่มีคำอธิบาย','fas\x20fa-user-edit','กฎบวกและกฎคูณ','.start-presentation-list-btn','\x20คนที่ส่ง\x20ตอบถูก\x20(','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','project-title','การคูณเศษส่วน','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','/public/data/quizzes/','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','3035tzzIvU','password-error-msg','quiz-leaderboard-table-container','679RXkGDI','repeat','</tbody></table></div>','map','996536TXXrIQ','อสมการเชิงเส้น','touchstart','padStart','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x20\x0a\x20\x20\x20\x20','หน่วยความยาวและการแปลง','podium','1752vysere','กำลังอ่านและเตรียมไฟล์...','ก่อนเรียน','fill_in_with_choices','\x5ccdot','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','live-options-container','modal-timer-duration-label','.ql-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','getBBox','num-questions','จัดการ','<textarea\x20name=\x22question','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','กรุณาใส่ชื่อใหม่','ไม่พบโปรเจค','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','bg-red-100\x20text-red-800','modal-adaptive-quiz-checkbox','btn','timer-duration-input','ไม่สามารถบันทึกการตั้งค่าได้','652746VcdJte','perQuestionStats','cancel-quiz-settings-btn','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctimes','FIRST_TRY_ACE','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22\x20data-pre-test-id=\x22','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','.quiz-status-btn','ARRAY','bg-red-100','Error\x20comparing\x20results:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','deg','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','กรุณาป้อนรหัสแบบทดสอบ','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','แก้ไขหัวข้อสำเร็จ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cpm','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-schedule-end-container','fa-dumbbell\x20text-gray-700','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','bar','delete-all-students-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','ความคล้ายของรูป','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','student-passcode-input','\x20mx-1\x20text-lg\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','[*]','ระบบเลขและค่าประจำหลัก','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','practiceProblems','border-indigo-400\x20ring-2\x20ring-indigo-200','student-name-select','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','_opt0\x22>ใช่</label></div>','bg-red-200\x20text-red-800','PERFECT_SCORE','artifacts/','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','Error\x20opening\x20quiz\x20editor:','Error\x20updating\x20quiz\x20settings:','student-rankings-modal','API\x20call\x20failed\x20with\x20status:\x20','ยังไม่ส่ง','<i\x20class=\x22fas\x20fa-save\x22></i>','ตอบถูก\x203\x20ข้อติดต่อกัน','candidates','แบบปรนัย\x204\x20ตัวเลือก','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','confirm-create-project-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','(ก่อนเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','answers','toLowerCase','blueprint-upload-input','ref','badges','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab-content','.quiz-bank-item','mouseup','\x20(p=','ฟังก์ชันยกกำลัง','ลบแบบทดสอบสำเร็จแล้ว','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','project-list','มัธยฐาน','title','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','isCorrect','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','scores-tab-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20mr-2\x22></i>','analytics-tab-content','isRemedial','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','admin-view','กรุณาใส่ชื่อนักเรียน','student-project-leaderboard-table-body','file-tab','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x22\x20class=\x22pin-project-btn\x20absolute\x20top-2\x20right-2\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','remove','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งคำตอบ','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','bg-green-50','project-passcode-modal','ไม่พบตารางสำหรับ\x20Export','ค่าเสื่อมราคา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20(','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','การปัดเศษและประมาณค่า','correctResponse','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22status-option\x22]','/public/data/customMathTopics','เกมสิ้นสุดลงแล้ว','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a---\x0a','random',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','Error\x20deleting\x20all\x20students:','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','touchcancel','หน่วยเวลาและการคำนวณเวลา','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','latestSubmittedAt','\x22\x20name=\x22drill_answer\x22\x20value=\x22','setFont','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','presentation-slide-container','Error\x20listening\x20for\x20starred\x20quizzes:','toLocaleString','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','toString','save-quiz-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','view-my-progress-btn','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กฎของโคไซน์','analyze-strengths-btn','confirmation-modal',',\x20r=','preventDefault','input[name=\x22question_single\x22]:checked','perfect_score','เกิดข้อผิดพลาดในการอัปเดตสถานะ','questionDisplayedAt','<div\x20class=\x22space-y-4\x22>','height','ปริพันธ์ไม่จำกัด','presentation-short-answer-input','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','ตั้งเวลา\x20(เปิด)','.save-to-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li\x20class=\x22','.topic-actions-edit','QUICK_THINKER','/questionBank','postTScore','ความสัมพันธ์ของมุม','active','parts','ความชันและเส้นตรง','insertAdjacentHTML','(เลือกแล้ว\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','endTime','ลบผลสอบของ\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','keys','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','link-url-input','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','projectId','font-bold\x20text-red-700\x20line-through','ความคาดหมาย\x20(Expected\x20value)','ส่วนเบี่ยงเบนมาตรฐาน','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','pre-test-checkbox','interesting-stats-wrapper','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','close-comparison-modal-footer-btn','```json','innerText','.lastAnswerCorrect','เกิดข้อผิดพลาดในการบันทึก','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','-tab-content','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','upper_group_count','results-table','\x5cs*\x5c(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','katex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','after','remedialContent','POST','border-red-700','className','worksheet-topic-input','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','.sort-indicator','function','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','show_pass_fail_only','timer-duration-container','Error\x20starting\x20game:','_opt','modal-close-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','quiz-editor-modal','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ดูสรุปผล','.png','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','</td></tr>','.delete-custom-topic-btn','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','settings','fixed','แก้ไขข้อนี้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','left','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','closest','desc','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','whole_quiz','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','classStrengths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','isStarred','print','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','เส้นตรง:\x20รูปแบบสมการ','AI\x20grading\x20failed:','student-quiz-topic','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','back-to-student-home-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','ไม่สามารถเพิ่มนักเรียนได้','correctAnswer','lobby','สร้างใหม่','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','size','scheduled_pending','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','update','text-emerald-900','.question-editor-item[data-q-index=\x22','autoTable','bank-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show_results_only','rgba(79,\x2070,\x20229,\x201)','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','#F59E0B','passingScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','quizMode','คะแนน','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','student-initial-view','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','<h1></h1>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','json','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x5cdiv','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','bg-gray-50','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','ตัวแปรและนิพจน์','generated-quiz-container','ใช่,\x20ตรวจใหม่','ค่าความจริง/ตารางค่าความจริง','quiz-type-select','questions','.move-quiz-btn','touchmove','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-tab','.delete-submission-btn','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','earned-badges-container','input[type=\x22checkbox\x22]','bg-amber-100\x20text-amber-800','true_false','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','.sortable-header','bg-green-300','results-table-container','label[for=\x22num-questions\x22]','arrayBuffer','stopPropagation','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','submit','timer-mode-select','OBJECT','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','trim','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div>','จำนวนเต็มบวก','การประยุกต์เวกเตอร์พื้นฐาน','confirm-global-live-btn','latestScore','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','เกิดข้อผิดพลาดในการปักหมุด','export-leaderboard-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','onload','\x20จาก\x20','#math-topics-checkbox-container\x20input:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','text-green-600\x20font-bold','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกี่ยวกับหัวข้อ\x20\x22','copy-quiz-id-btn','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','parseFromString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','Error\x20deleting\x20student:','timerDuration','ข้อต่อไป','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','message','Error\x20updating\x20quiz\x20status:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','export-pdf-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practice-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','ฟังก์ชันกำลังสองและกราฟ','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','leaderboard','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','set','modal-shuffle-select','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','/public/data/projects/','removeAttribute','questionType','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','ON_FIRE','answer','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','207515BhhDMR','.quiz-result-card','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','showInStudentDashboard','pre-test','$1_{$2}','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','https://corsproxy.io/?','index','result','[role=\x22textbox\x22]','cancel-quiz-edits-btn','คณิตการเงิน/บูรณาการ','เกิดข้อผิดพลาดในการติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','bottom','</td>','.quiz-bank-parallel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','file-upload-input','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','default','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','dataIndex','/public/data/quizzes','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','text-gray-500','generate-from-text-btn','Remedial\x20quiz\x20generation\x20failed:','passcode-error-msg','การสร้างรูปด้วยวงเวียน–สันตรง','การคูณทศนิยม','date_asc','\x22...','points','admin-testing','generate-from-link-btn','พาราโบลา','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','next-question-timed-btn','sort','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','quiz-leaderboard-table-body','</span></div>','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','บันทึกการตั้งค่าสำเร็จ','จำนวนและการดำเนินการ','getElementById','text-blue-700','_opt1\x22>ไม่ใช่</label></div>','ไม่ได้ตอบ','th-TH','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','project-search-input','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','starred','การหารเศษส่วน','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','addEventListener','Error\x20listening\x20for\x20student\x20profiles:','undefined','จำนวนเต็มลบ','เซียนสมองไว','อนุพันธ์:\x20กฎลูกโซ่','แคลคูลัสเบื้องต้น','bg-green-100\x20font-bold','</div><div\x20class=\x22space-y-2\x22>','project-detail','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','การลบเศษส่วน','.delete-quiz-btn','matching_item','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bestScore','คณิตศาสตร์','<p\x20class=\x22','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','answer-grid-container','choices_only','ดอทโปรดักต์\x20(dot)','type','คำถามดิบ:\x20\x22','text-green-900','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-bold\x20text-sm\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','.answer-text','scores-tab-content','.cancel-edit-topic-btn','thead\x20.sortable-header','.regenerate-question-btn','Invalid\x20response\x20structure\x20from\x20AI.','passcode-prompt-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','parallel-test-input-area','leaderboard-quiz','start-remedial-quiz-btn','matching','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','slice','learningGaps','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','q-image-container-','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','จำนวนเชิงซ้อน\x20(เสริม)','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','afterend','การลบทศนิยม','players.','สร้างชุดคำถามจับคู่','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','modal-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','q-explanation-','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','end-game-btn','auto-fix-latex-btn','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','far\x20fa-star','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','.generate-lesson-btn','mixed','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','อัตราและอัตราหน่วย','</label>\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.topic-actions-view','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x5cle','text-red-900','prev-question-btn','toFixed','Error\x20saving\x20to\x20question\x20bank:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','slide-counter','document','presentation-explanation','ปรับเพิ่ม/ลดเป็นร้อยละ','เกิดข้อผิดพลาดในการลบโปรเจค','\x22,\x20','BOOLEAN','getScreenCTM','</span></td>','modal-timer-duration-input','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากไฟล์ที่แนบมานี้,\x20','createObjectURL','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','student-reading-area','text-blue-700\x20bg-blue-100','push','tGain','loader-text','.delete-svg-btn','score','from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','ฟังก์ชันค่าสัมบูรณ์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','worksheet-tab','Error\x20saving\x20quiz:','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเท่ากันทุกประการของสามเหลี่ยม','startsWith','student-name-input','cancel-quiz-status-btn','[data-topic-container-id]','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','ฮิสโตแกรม','editable-text-','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','name_asc','ผู้ควบคุม\x20(ทดสอบ)','STRING','/preferences/main','student','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x22\x20สำเร็จ','bank-quiz-list','comparison-individual-content','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','lesson-plan-modal','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-results-display-select','อุณหภูมิและการแปลง','<div><input\x20type=\x22radio\x22\x20id=\x22q','leaderboard-table-body','results-tab','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-action-buttons','Error\x20deleting\x20submission:','test','มุมพิเศษ\x2030°-60°-90°','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','2-digit','upperGroupNames','questionStatus','sin','การกระจายและการจัดหมู่','pairedQuizId','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttribute','.presentation-option','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','MathJax\x20typeset\x20error\x20(analytics):','live-game','teachingContent','ai-quiz-app-aefee.firebaseapp.com','toDate','underline','shuffleSetting','blueprint-input-area','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','files','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move','text','การบวกทศนิยม','(หลังเรียน)\x20','rows','confirmation-message','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','$1\x5ctext{','.question-editor-item','cancel-create-project-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','close','ไม่พบข้อมูลข้อสอบหลังเรียน','ระยะเวลา\x20(วินาที):','การยืนยันตัวตนล้มเหลว','confirm-join-game-btn','specialist','admin-password-input','\x5cfrac{$1}{$2}','load-quiz-btn','fullscreenElement','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x22\x20name=\x22question','fa-shield-alt\x20text-gray-600','flex','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<p>','progress-student-select','standard','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','worksheet-input-area','live-short-answer-input','^{\x5ccirc}\x5ctext{C}$','user-id-display','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','global-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','text-indigo-700','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','ที่พิมพ์ได้\x20จำนวน\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','questions_only','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','options','G-V90KRM0L63','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','สมการราก\x20(radical)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizId','\x22\x20data-name=\x22','การแยกตัวประกอบ','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','$1^{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','project-dashboard-view','timerMode','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','bg-white/30','.correct-response-input','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','commit','</form>','line-through\x20text-red-700','ไม่ผ่าน','confirm-quiz-status-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','Failed\x20to\x20get\x20standardized\x20topic:','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','ฟังก์ชันแบบชิ้นส่วน','preTScore','Error\x20loading\x20user\x20preferences:','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22font-bold\x20','quiz-bank-modal','cancel-rename-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','answeredCurrentQuestion','back-from-results-btn','สร้างแบบทดสอบปรนัย','description','ระยะจากจุดถึงเส้นตรง','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','pointsLastQuestion','Error\x20during\x20class\x20analysis:','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-topic=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','multiple_choice','click','การหารทศนิยม','ไม่พบแบบทดสอบสำหรับรหัสนี้','bg-purple-50','รูปสี่เหลี่ยมและสมบัติ','back-to-student-initial-btn','สัญกรณ์วิทยาศาสตร์','join-live-game-btn','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','คุณต้องการตรวจคะแนนของนักเรียนที่ส่งมาแล้วทั้งหมดด้วยเฉลยชุดใหม่นี้หรือไม่?\x20(อาจใช้เวลาสักครู่)','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','กรุณาเลือกสถานะ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','icon','เรเดียนและการแปลงหน่วย','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','.\x20แต่ละข้อมี\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','question','start-live-race-generated-btn','targetId','classWeaknesses','add','date_desc','input[name=\x22drill_answer\x22]:checked','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x5ctext{$1}','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','.badges','<div\x20class=\x22my-6\x22>','.rename-quiz-btn','quiz-generation-area','lesson-plan-title','เรขาคณิตวิเคราะห์','questionText','student-progress-view','.delete-student-btn','sqrt','\x22\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','จำนวนข้อ:','cancel-test-btn','การจัดกลุ่มข้อมูล','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','353733FfBhTs','</tbody></table>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','student-quiz-leaderboard-table-body','analytics','ฟังก์ชันเชิงเส้นและกราฟ','bg-green-100\x20text-green-800','quiz-start-time','dashboardConfig','_opt1\x22\x20name=\x22question','players','คำถามถัดไป','ring-2','table','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','export-worksheet-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','first_try_ace','dfrac','quiz-end-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','progress-project-select','STOP','Invalid\x20response\x20structure\x20from\x20AI:','\x20คู่\x20','adaptive-quiz-checkbox','close-comparison-modal-btn','answering','$1^{\x5ccirc}\x5ctext{C}','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','get','reveal-answer-btn','attempts','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','totalQuestions','baseVal','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','toLocaleDateString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','lastAnswerCorrect','removeChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','back-to-dashboard-btn','confirm-passcode-btn','Error\x20fetching\x20quiz\x20status:','โดเมนและเรนจ์','สมการตรีโกณมิติ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20from\x20link:','Error\x20adding\x20students:','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','split','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','doughnut','onchange','passcode','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x5cfrac{','check-presentation-answer-btn','กรุณาป้อนหัวข้อสำหรับใบงาน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','quiz-leaderboard-table','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','data:application/vnd.ms-word;charset=utf-8,','พีชคณิตและฟังก์ชัน','display','input[type=\x22radio\x22]:checked','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','toISOString','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','fa-bolt\x20text-blue-500','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','.star-quiz-btn','ข้อ\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getItem','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','แผนภาพเวนน์','เส้นจำนวน','\x20ตัวเลือก.\x20','width','getTextContent','</li>','<div\x20id=\x22q-image-container-','ผู้ไม่ยอมแพ้','scheduled','Error\x20saving\x20settings:','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','#student-quiz-leaderboard-content\x20thead','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/html','then','comparison-overall-content','from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/liveGames','ลำดับเลขคณิต\x20(AP)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ไม่พบแบบทดสอบ','กำลังดึงข้อมูลจากลิงก์...','docs','numeric','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','<tr><td\x20colspan=\x22','on_fire','Copy\x20command\x20failed','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','รูปแบบการให้เหตุผล','correctAnswerIndex','manage-tab-content','student-project-leaderboard-tab','bg-emerald-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x20\x20\x20-\x20','คำตอบถูกต้อง!\x20+','</span>','แผนการสอน','question-complexity-select','editor-quiz-topic','normal','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','text-red-700','/users/','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','forEach','starred-project','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','button','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','เกิดข้อผิดพลาดในการลบแบบทดสอบ','prod','ai-quiz-app-aefee','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isPasscodeEnabled','delete-svg-btn','student-quiz-leaderboard-content','global-quiz-search-input','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','admin-dashboard','getAttributeNS','ผู้เชี่ยวชาญ','border-4','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','manage','thead','appendChild','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','resultsDisplay','hint-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','quiz-editor-questions-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','Error\x20toggling\x20star\x20status:','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','สร้างคำถามใหม่\x201\x20ข้อ\x20','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','post-test','content','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','ดีมาก','cursor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','project-name-input','Error\x20processing\x20file\x20for\x20AI:','\x5cneq','true','answerText','แบบเติมคำตอบ','คัดลอกแบบทดสอบสำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','createElement','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','project-sort-select','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','save','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','ค่าเฉลี่ย','.correctStreak','error','):\x20','http://www.w3.org/2000/svg','analytics-summary-cards','mousemove','globalSettings','s;\x22\x20title=\x22','leaderboard-tab','border-green-700','</body></html>','lower_group_count','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20worksheet:','presentation-ai-result','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','times','กำลังสร้างคำถามข้อ\x20','Error\x20generating\x20lesson\x20plan:','gain','ควรปรับปรุง','Error\x20saving\x20questions\x20to\x20practice\x20bank:','player-list-lobby','$1^{\x5ccirc}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5csqrt{$1}','no-projects-msg','hidden','contentEditable','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีเทอร์มิแนนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','querySelectorAll','overallGroups','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','สรุปผลการวิเคราะห์:\x5cn','uid','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','execCommand','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','export-leaderboard-excel-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','ไม่สามารถสร้างโปรเจคได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','abs','สร้างคำถามแบบเติมคำในช่องว่าง','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-id-display','.topic-name-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','download','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','อนุพันธ์:\x20ผลคูณ/ผลหาร','projectSortOrder','ฟังก์ชันลอการิทึม','category','button[data-id]','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','geq','มุมพิเศษ\x2045°-45°-90°','generate-from-topic-btn','style','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','.score','Error\x20fetching\x20student\x20rankings:','การวัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','ใช่','กฎของไซน์','วงรี','math-topics-checkbox-container','quiz-id-input','จำนวนคู่:','ห.ร.ม.\x20(GCD)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','Adaptive\x20flow\x20failed:','strength-weakness-analysis-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','bg-yellow-50','interesting-stats-container','พื้นที่ผิวรูปทรงสามมิติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','match','none','select','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','move-quiz-project-select','project-detail-view','cos','originalQuestion','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','confirm-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','fromCharCode','ปิดใช้งาน','COMEBACK_KING','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','{$1}','question-analytics-container','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ช่อง','filter','จำนวนนักเรียน','6646878KrwHBh','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','export-lesson-pdf-btn','numPages','overline','API\x20call\x20failed','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1:274192258111:web:4120c9118229b5644dd48a','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','อินเวอร์สของเมทริกซ์','topic-tab','</p><p><strong>เฉลย:</strong>\x20','badgesCount','หน่วยมวล/น้ำหนักและการแปลง','ฟังก์ชันราก\x20(root)','\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','delete','typesetPromise','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','20040FXATWf','สร้างคำถามแบบใช่/ไม่ใช่','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20','ความเป็นอิสระของเหตุการณ์','comparison','<div\x20class=\x22loader\x20mx-auto\x22></div>','href','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','min','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','.pointsLastQuestion','กำลังสร้างรูปภาพ...','แก้ระบบสมการด้วยเมทริกซ์','ทำคะแนนเต็มในการทำครั้งแรก','outerHTML','[data-is-correct=\x22true\x22]','save-settings-btn','add-custom-math-topic-btn','next-live-question-btn','project-quizzes-list','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','comparison-individual-tab','label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','ผลรวมอนุกรม\x20(Σ)','text-green-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','fa-crown\x20text-yellow-500','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','เปิดใช้งาน','button[type=\x22submit\x22]','จากเนื้อหาต่อไปนี้:\x20\x22','ท็อปฟอร์ม','ownerSVGElement','หัวข้อที่สร้างเอง','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','leaderboard-quiz-tab-btn','ai-quiz-generator-v3','results-quiz-title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','แบบทดสอบจากคลังส่วนตัว','export-pdf-btn','classList','export-excel-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','border-green-500','player-count','some','auto','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','border-gray-200','คำตอบผิด','สร้างโปรเจคสำเร็จ!','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','บันทึกคำถามใหม่\x20','.topic-row','ลิมิต','projectName','Error\x20saving\x20user\x20preference:','lessonPlan','next-drill-btn','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','.ideal-answer-input','student-project-leaderboard-content','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','enable-passcode-checkbox','image/png','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตรีโกณมิติ','Error\x20updating\x20pin\x20status:','ระยะทางและจุดกึ่งกลาง','bg-red-50','qIndex','text-emerald-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Failed\x20to\x20parse\x20JSON\x20from\x20AI','<div\x20class=\x22mb-3\x20topic-category\x22>','ศูนย์','MathJax','</div>','user','topic','solution','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x20ชุด)','<div\x20class=\x22my-2\x22>','\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน:\x20','save-quiz-edits-btn','Error\x20listening\x20for\x20projects:','indexOf','generate-from-parallel-test-btn','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','บันทึกการแก้ไขสำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','results_','border-red-300\x20bg-red-50','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','คัดลอกรหัสแล้ว!','การบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20toggling\x20pin\x20status:','topic-input','link-topic-input','quiz-schedule-start-container','idealAnswer','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','countdown-display','อสมการค่าสัมบูรณ์','สเกลและแผนที่','toDataURL','Error\x20deleting\x20project:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','currentTarget','Error\x20fetching\x20project\x20quizzes:','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','body','getContext','font-bold','includes','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</p></div>','both','\x5csum','fas\x20fa-star\x20text-yellow-500','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','floor','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','fill_in_no_choices','cancel-delete-btn','Error\x20deleting\x20custom\x20topic:','find','circ','correct','input','destroy','\x20หัวข้อ)','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','join','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','fa-pen','การแจกแจงทวินาม\x20(พื้นฐาน)','topic-input-area','Error\x20fetching\x20quiz\x20settings:','Error\x20renaming\x20quiz:','ชื่อหัวข้อห้ามว่าง','svg','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','-tab','ระบบอสมการ','originalQuestionText','results-tab-content','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<tr\x20class=\x22','เงินงวด\x20(อนุกรมเงินงวด)','\x5ctimes','เปลี่ยนชื่อแบบทดสอบสำเร็จ','รากที่สองและที่สาม','<li>','text-red-600','entries','การบวกเศษส่วน','startTime','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','shuffle','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','exists','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','num-choices-container','ชนิดของข้อมูลและการเก็บข้อมูล','กราฟแท่ง\x20กราฟเส้น','/public/data/practiceBank','parallel-test-upload-input','#results-table\x20thead\x20tr','frac','force-math-checkbox','Error\x20listening\x20for\x20custom\x20math\x20topics:','short_answer','fa-rocket\x20text-purple-500','.copy-quiz-id-list-btn','include-images-checkbox','start-game-btn','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.edit-question-btn','num-choices','รอเปิด','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</option>','quick_thinker','fill_in_the_blank','back-to-project-btn','back-to-results-btn','เกิดข้อผิดพลาดในการลบหัวข้อ','/studentProfiles','parallel-test-tab','confirm-move-quiz-btn','Error\x20moving\x20quiz:','stringify','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','empty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ผ่านฉลุย','project-passcode-input','modal-timer-mode-select','เปิด\x20(จับเวลา)','\x5cge','สมการเหตุผล\x20(rational)','กรุณาเลือกไฟล์ก่อน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','generated-quiz-actions','isAdaptive','values','touchend','start-quiz-btn','change','confirm-quiz-settings-btn','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#per-question-options\x20textarea','blockReason','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','bg-green-100','บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','N/A','student-progress-content','Firebase\x20initialization\x20failed:','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','cancel-passcode-btn','open','false','imageCode','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','all','toggle','ไม่สามารถโหลดข้อมูลอันดับได้','promise','ความชันเส้นสัมผัส','innerHTML','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','close-game-final-btn','\x20ข้อ\x20','target','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','พิสัย','\x20สำเร็จ','sum','.save-custom-topic-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','mean','ยืนยันการกระทำ','#view-rankings-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','สำหรับโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','ไม่สามารถโหลดรายการโปรเจคได้','removeEventListener','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','ระบบสมการเชิงเส้นสองตัวแปร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.compare-results-btn','การลบ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','createdAt','อัปเดตสถานะสำเร็จ','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22flex-1\x22></div>','disabled','\x22.\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','[contenteditable=\x22true\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<tr>','Error\x20saving\x20quiz\x20edits:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','dataset','reference-pdf-upload','\x5cfrac','mjx-container','global-live-game-modal','input[type=\x22text\x22]','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','แบบทดสอบนี้ปิดใช้งานอยู่','<br>','cancel-admin-login-btn','.answeredCurrentQuestion','passing-score-input','students','%</span>','(ไม่มีชื่อ)','file-topic-input','.delete-project-btn','/public/data/projects','pow','Error\x20updating\x20sort\x20preference:','\x20/\x20','กรุณาเลือกชื่อของคุณ','results','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','promptFeedback','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','leaderboard_','\x0a\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','Error\x20rendering\x20student\x20progress:','has','ฐานนิยม','results-display-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-student-btn','\x20\x20\x20-\x20คำตอบ:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','helvetica','-\x20ข้อ\x20','ย้าย','ลบโปรเจคสำเร็จแล้ว','pinnedProjects','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อโปรเจค','stdDev','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','ส่งแล้ว','copy','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','currentQuestionIndex','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','bg-blue-100\x20text-blue-800','Leaderboard\x20update\x20transaction\x20failed:\x20','export-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x5c\x5c\x5c\x5c(?=(','touches','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','save-visibility-settings-btn','upperGroupResponders','ไม่ใช่','per-q-countdown','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','substring','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','font-bold\x20text-green-700','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','เรขาคณิต','mode-switcher-btn','NUMBER','quiz-status-modal','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','clientX','quiz','พบข้อสอบ\x20','authed_project_','create-from-bank-btn','ส่วนเบี่ยงเบนเฉลี่ย','bg-green-200\x20text-green-800','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','กำลังสร้างแบบทดสอบคู่ขนาน...','cancel-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกไม่สำเร็จ','สร้างแบบทดสอบ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ring-purple-400','data','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','Enter','<option\x20value=\x22','กรุณาเลือกโปรเจคที่ต้องการบันทึก','setAttributeNS','studentName','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','.csv','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','.doc','.start-live-race-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','modal-passing-score-input','parent','bg-green-500','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','total','.group','close-presentation-btn','block','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','text/csv;charset=utf-8;','contains','comparison-overall-tab','.draggable-text','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','.option-text','onclick','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','bg-red-500','status','ไม่มี','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','submission','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','lesson-plan-content','การจัดหมู่\x20(Combination)','เลือกและบันทึก','text-input-area','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','Error\x20starting\x20live\x20race:','ai-quiz-app-aefee.appspot.com','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','confirm-admin-login-btn','textarea','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','กราฟฟังก์ชันตรีโกณ','workerSrc','ดอกเบี้ยทบต้น','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','สลับไปโหมดนักเรียน','math-topic-search-input','/submissions','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','export-leaderboard-pdf-btn','$1\x5ctext(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','generate-from-blueprint-btn','tfrac','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','global-live-game-count','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','admin-password-modal','ดอกเบี้ยอย่างง่าย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','close-lesson-plan-modal-footer-btn','td,\x20th','ย้ายแบบทดสอบไปโปรเจคอื่น','totalPoints'];_0x25ab=function(){return _0x3533e4;};return _0x25ab();}function showStarredProjectView(){const _0x41206f=_0x284edd;currentProjectId=_0x41206f(0x148),currentProjectData=null,projectTitle[_0x41206f(0x61d)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x41206f(0x61d)]='pinned-items',showView(_0x41206f(0x154)),manageTab[_0x41206f(0x44b)][_0x41206f(0x281)](_0x41206f(0x396)),leaderboardTab[_0x41206f(0x44b)]['add'](_0x41206f(0x396)),switchProjectTab(_0x41206f(0x56d)),renderQuizzes();}async function loadProjectDetails(_0x2fae0c){const _0x27521c=_0x284edd,_0x4415bc=doc(db,_0x27521c(0x6c1)+appId+_0x27521c(0x568),_0x2fae0c),_0xbf1017=await getDoc(_0x4415bc);if(_0xbf1017['exists']()){manageTab[_0x27521c(0x44b)][_0x27521c(0x6f8)]('hidden'),leaderboardTab[_0x27521c(0x44b)][_0x27521c(0x6f8)](_0x27521c(0x396)),currentProjectData=_0xbf1017[_0x27521c(0x5b7)](),projectTitle[_0x27521c(0x61d)]=currentProjectData[_0x27521c(0x45b)],projectIdDisplay[_0x27521c(0x61d)]=_0x2fae0c;const _0x595c22=currentProjectData['settings']||{};document['getElementById'](_0x27521c(0x620))[_0x27521c(0x617)]=_0x595c22[_0x27521c(0x1f6)]||'none';const _0x641c9a=document[_0x27521c(0x140)]('show-in-student-dashboard-checkbox');_0x641c9a[_0x27521c(0x61c)]=_0x595c22[_0x27521c(0x10e)]!==![];const _0x2f0797=document[_0x27521c(0x140)]('enable-passcode-checkbox'),_0x592c4c=document[_0x27521c(0x140)]('passcode-input-container'),_0x9e61eb=document[_0x27521c(0x140)](_0x27521c(0x506)),_0x21a5a0=_0x595c22['isPasscodeEnabled']||![];_0x2f0797['checked']=_0x21a5a0,_0x9e61eb[_0x27521c(0x617)]=_0x595c22['passcode']||'',_0x592c4c[_0x27521c(0x44b)][_0x27521c(0x529)](_0x27521c(0x396),!_0x21a5a0),_0x2f0797[_0x27521c(0x2da)]=()=>{const _0x294716=_0x27521c;_0x592c4c[_0x294716(0x44b)]['toggle'](_0x294716(0x396),!_0x2f0797['checked']);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2fae0c),listenForProjectQuizzes(_0x2fae0c),listenForStudentProfiles(_0x2fae0c);}else showMessage(_0x27521c(0x682)),showView(_0x27521c(0x347));}async function handleTogglePinProject(_0x3d0653){const _0x7f4cba=_0x284edd;if(!_0x3d0653)return;const _0x49a653=doc(db,_0x7f4cba(0x6c1)+appId+_0x7f4cba(0x568),_0x3d0653);try{const _0x11b631=await getDoc(_0x49a653);if(_0x11b631[_0x7f4cba(0x4dc)]()){const _0x272058=_0x11b631[_0x7f4cba(0x5b7)]()['isPinned']||![];await updateDoc(_0x49a653,{'isPinned':!_0x272058});}}catch(_0x5aa20c){console['error'](_0x7f4cba(0x498),_0x5aa20c),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0xd723c8){const _0x5dc9b8=_0x284edd;try{const _0xecfb1d=writeBatch(db),_0x9f9b88=collection(db,_0x5dc9b8(0x6c1)+appId+_0x5dc9b8(0x127)),_0xf3dbdc=query(_0x9f9b88,where(_0x5dc9b8(0x756),'==',_0xd723c8)),_0x68d265=await getDocs(_0xf3dbdc);for(const _0x4a8a88 of _0x68d265[_0x5dc9b8(0x310)]){const _0x2cc518=collection(db,_0x5dc9b8(0x6c1)+appId+_0x5dc9b8(0x65e)+_0x4a8a88['id']+_0x5dc9b8(0x5f7)),_0x2d8f9a=await getDocs(_0x2cc518);_0x2d8f9a[_0x5dc9b8(0x335)](_0x34ad87=>{const _0x16b15a=_0x5dc9b8;_0xecfb1d['delete'](_0x34ad87[_0x16b15a(0x6d5)]);}),_0xecfb1d[_0x5dc9b8(0x41a)](_0x4a8a88[_0x5dc9b8(0x6d5)]);}const _0x4fd3d8=collection(db,_0x5dc9b8(0x6c1)+appId+_0x5dc9b8(0x101)+_0xd723c8+_0x5dc9b8(0x4fd)),_0x1d0877=await getDocs(_0x4fd3d8);_0x1d0877[_0x5dc9b8(0x335)](_0x49c350=>{const _0x5ece50=_0x5dc9b8;_0xecfb1d['delete'](_0x49c350[_0x5ece50(0x6d5)]);});const _0x3a3a4a=doc(db,_0x5dc9b8(0x6c1)+appId+_0x5dc9b8(0x568),_0xd723c8);_0xecfb1d[_0x5dc9b8(0x41a)](_0x3a3a4a),await _0xecfb1d[_0x5dc9b8(0x247)](),showMessage(_0x5dc9b8(0x584)),showView(_0x5dc9b8(0x347));}catch(_0x568a11){console[_0x5dc9b8(0x377)](_0x5dc9b8(0x4a3),_0x568a11),showMessage(_0x5dc9b8(0x1aa));}}document['getElementById'](_0x284edd(0x431))['addEventListener'](_0x284edd(0x268),async()=>{const _0x3841df=_0x284edd;if(!currentProjectId)return;const _0x486dda={'defaultNumQuestions':parseInt(document[_0x3841df(0x140)](_0x3841df(0x67c))[_0x3841df(0x617)]),'defaultNumChoices':parseInt(document[_0x3841df(0x140)](_0x3841df(0x4f3))[_0x3841df(0x617)]),'defaultPassingScore':parseInt(document[_0x3841df(0x140)](_0x3841df(0x562))['value']),'resultsDisplay':document[_0x3841df(0x140)]('results-display-select')[_0x3841df(0x617)],'shuffleSetting':document[_0x3841df(0x140)]('shuffle-setting-select')[_0x3841df(0x617)],'timerMode':document['getElementById'](_0x3841df(0xd0))[_0x3841df(0x617)],'timerDuration':parseInt(document[_0x3841df(0x140)](_0x3841df(0x689))[_0x3841df(0x617)])};try{const _0x54ad64=doc(db,_0x3841df(0x6c1)+appId+_0x3841df(0x568),currentProjectId);await updateDoc(_0x54ad64,{'settings':_0x486dda}),showMessage(_0x3841df(0x644));}catch(_0x202347){console['error'](_0x3841df(0x2ff),_0x202347),showMessage(_0x3841df(0x68a));}});function listenForStudents(_0x29c9d5){const _0x46322c=_0x284edd,_0x298072=doc(db,_0x46322c(0x6c1)+appId+_0x46322c(0x568),_0x29c9d5);unsubscribeStudentsListener=onSnapshot(_0x298072,_0x4f2a52=>{const _0x5ea043=_0x46322c;if(_0x4f2a52[_0x5ea043(0x4dc)]()){const _0x4660c0=_0x4f2a52['data']();currentProjectData=_0x4660c0,renderStudentList(_0x4660c0[_0x5ea043(0x563)]||[]);}});}function renderStudentList(_0x2099c5){const _0x2edbbf=_0x284edd,_0x3c12be=document[_0x2edbbf(0x140)](_0x2edbbf(0x6ab));_0x2099c5[_0x2edbbf(0x357)]===0x0?(studentList[_0x2edbbf(0x52d)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x3c12be[_0x2edbbf(0x44b)][_0x2edbbf(0x281)](_0x2edbbf(0x396))):(studentList[_0x2edbbf(0x52d)]=_0x2099c5['map'](_0x29c4e4=>_0x2edbbf(0x717)+_0x29c4e4+_0x2edbbf(0x7b7)+_0x29c4e4+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x3c12be[_0x2edbbf(0x44b)][_0x2edbbf(0x6f8)]('hidden'));}document[_0x284edd(0x140)](_0x284edd(0x57c))[_0x284edd(0x14b)](_0x284edd(0x268),async()=>{const _0x3c9271=_0x284edd;if(!currentProjectId)return;const _0x51d7de=document[_0x3c9271(0x140)](_0x3c9271(0x1c7)),_0x5d8683=_0x51d7de['value'][_0x3c9271(0xd4)]();if(!_0x5d8683){showMessage(_0x3c9271(0x6ee));return;}const _0x2a29f6=_0x5d8683[_0x3c9271(0x2d5)]('\x0a')[_0x3c9271(0x666)](_0x4cf73e=>_0x4cf73e[_0x3c9271(0xd4)]())[_0x3c9271(0x3fe)](_0x52cd35=>_0x52cd35);if(_0x2a29f6[_0x3c9271(0x357)]===0x0)return;try{const _0x4acbf9=doc(db,_0x3c9271(0x6c1)+appId+_0x3c9271(0x568),currentProjectId),_0x456094=await getDoc(_0x4acbf9);if(_0x456094[_0x3c9271(0x4dc)]()){const _0x25f552=_0x456094[_0x3c9271(0x5b7)]()[_0x3c9271(0x563)]||[],_0x12783c=[...new Set([..._0x25f552,..._0x2a29f6])];await updateDoc(_0x4acbf9,{'students':_0x12783c}),_0x51d7de[_0x3c9271(0x617)]='';}}catch(_0x2ce98a){console[_0x3c9271(0x377)](_0x3c9271(0x2d2),_0x2ce98a),showMessage(_0x3c9271(0x7a3));}});function handleDeleteStudent(_0x25e008){const _0x2e6d70=_0x284edd;showConfirmation(_0x2e6d70(0x727)+_0x25e008+_0x2e6d70(0xe8),async()=>{const _0x3d0cb7=_0x2e6d70;if(!currentProjectId||!currentProjectData)return;const _0x1f2b51=currentProjectData[_0x3d0cb7(0x563)][_0x3d0cb7(0x3fe)](_0xe66140=>_0xe66140!==_0x25e008);try{const _0x966d21=doc(db,_0x3d0cb7(0x6c1)+appId+_0x3d0cb7(0x568),currentProjectId),_0x59977f=doc(db,_0x3d0cb7(0x6c1)+appId+'/public/data/projects/'+currentProjectId+_0x3d0cb7(0x4fd),_0x25e008),_0x6e7508=writeBatch(db);_0x6e7508['update'](_0x966d21,{'students':_0x1f2b51}),_0x6e7508[_0x3d0cb7(0x41a)](_0x59977f),await _0x6e7508[_0x3d0cb7(0x247)]();}catch(_0x5dac50){console[_0x3d0cb7(0x377)](_0x3d0cb7(0xed),_0x5dac50),showMessage(_0x3d0cb7(0x648));}});}function handleDeleteAllStudents(){const _0x18e1ce=_0x284edd;showConfirmation(_0x18e1ce(0x764),async()=>{const _0x11fab4=_0x18e1ce;if(!currentProjectId)return;try{const _0x5081d8=doc(db,_0x11fab4(0x6c1)+appId+_0x11fab4(0x568),currentProjectId),_0xdbe4f5=collection(db,'artifacts/'+appId+_0x11fab4(0x101)+currentProjectId+_0x11fab4(0x4fd)),_0x264dfe=await getDocs(_0xdbe4f5),_0x24fef6=writeBatch(db);_0x24fef6[_0x11fab4(0x7ac)](_0x5081d8,{'students':[]}),_0x264dfe[_0x11fab4(0x335)](_0x4896df=>_0x24fef6['delete'](_0x4896df['ref'])),await _0x24fef6[_0x11fab4(0x247)]();}catch(_0x5d9542){console['error'](_0x11fab4(0x712),_0x5d9542),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x5e9c33=_0x284edd;if(!selectedFile){showMessage(_0x5e9c33(0x50b));return;}const _0x48890b=document[_0x5e9c33(0x140)](_0x5e9c33(0x33e)),_0x4016e6=document[_0x5e9c33(0x140)](_0x5e9c33(0x1ba)),_0x1e7575=document[_0x5e9c33(0x140)](_0x5e9c33(0x7cc)),_0x51952c=document[_0x5e9c33(0x140)](_0x5e9c33(0x610));_0x51952c[_0x5e9c33(0x54e)]=!![],document['getElementById'](_0x5e9c33(0x28a))[_0x5e9c33(0x44b)][_0x5e9c33(0x6f8)](_0x5e9c33(0x396)),_0x1e7575[_0x5e9c33(0x52d)]='',_0x48890b[_0x5e9c33(0x44b)]['remove']('hidden'),_0x4016e6[_0x5e9c33(0x61d)]=_0x5e9c33(0x670);const _0x58e870=new FileReader();_0x58e870[_0x5e9c33(0x63d)](selectedFile),_0x58e870[_0x5e9c33(0xdf)]=async()=>{const _0x91991b=_0x5e9c33;try{const _0x3ace95=_0x58e870[_0x91991b(0x115)]['split'](',')[0x1],_0x1df09f=selectedFile['type'];await generateQuizFromFile(_0x1df09f,_0x3ace95);}catch(_0x56ff1e){console['error'](_0x91991b(0x365),_0x56ff1e),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x56ff1e[_0x91991b(0xf2)]),_0x48890b[_0x91991b(0x44b)]['add']('hidden');}finally{}},_0x58e870['onerror']=_0x4e4aab=>{const _0x136a99=_0x5e9c33;console[_0x136a99(0x377)]('FileReader\x20error:',_0x4e4aab),showMessage(_0x136a99(0x229)),_0x48890b[_0x136a99(0x44b)][_0x136a99(0x281)](_0x136a99(0x396)),_0x51952c[_0x136a99(0x54e)]=![];};}function autoFormatMath(_0x611c92){const _0x1e668c=_0x284edd;if(typeof _0x611c92!=='string'||!_0x611c92)return _0x611c92;const _0x3ec08f=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3c8249=_0x611c92[_0x1e668c(0x618)](_0x3ec08f,_0x1a5b3d=>{const _0xf45a25=_0x1e668c;return'$'+_0x1a5b3d[_0xf45a25(0xd4)]()+'$';});return _0x3c8249;}function sanitizeQuizData(_0x31df09){const _0x5df62f=_0x284edd;if(!_0x31df09||!_0x31df09[_0x5df62f(0x7d0)])return _0x31df09;const _0x2c995a={'imes':'\x5ctimes','div':_0x5df62f(0x7c7)},_0x19d517=_0x347fae=>{const _0x2285d4=_0x5df62f;if(typeof _0x347fae!=='string')return _0x347fae;let _0x1bb264=_0x347fae;for(const [_0x4212b5,_0x574a08]of Object[_0x2285d4(0x4d4)](_0x2c995a)){const _0x4e4789=new RegExp('\x5cb'+_0x4212b5+'\x5cb','g');_0x1bb264=_0x1bb264['replace'](_0x4e4789,_0x574a08);}return _0x1bb264=_0x1bb264[_0x2285d4(0x618)](/\\\//g,_0x2285d4(0x7c7)),_0x1bb264=_0x1bb264[_0x2285d4(0x618)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x2285d4(0x7c7))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x2285d4(0x4cf))[_0x2285d4(0x618)](/÷/g,_0x2285d4(0x7c7))[_0x2285d4(0x618)](/×/g,_0x2285d4(0x4cf)),_0x1bb264=_0x1bb264[_0x2285d4(0x618)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x1bb264=autoFormatMath(_0x1bb264),_0x1bb264;};return _0x31df09[_0x5df62f(0x479)]&&(_0x31df09[_0x5df62f(0x479)]=_0x19d517(_0x31df09[_0x5df62f(0x479)])),_0x31df09['questions'][_0x5df62f(0x335)](_0x478366=>{const _0x1fec8f=_0x5df62f;_0x478366[_0x1fec8f(0x28d)]=_0x19d517(_0x478366['questionText']),_0x478366[_0x1fec8f(0x230)]&&(_0x478366[_0x1fec8f(0x230)]=_0x478366[_0x1fec8f(0x230)][_0x1fec8f(0x666)](_0x19d517)),_0x478366[_0x1fec8f(0x48b)]&&(_0x478366[_0x1fec8f(0x48b)]=_0x19d517(_0x478366[_0x1fec8f(0x48b)])),_0x478366[_0x1fec8f(0x63f)]&&(_0x478366[_0x1fec8f(0x63f)]=_0x19d517(_0x478366['stem'])),_0x478366['correctResponse']&&(_0x478366[_0x1fec8f(0x708)]=_0x19d517(_0x478366[_0x1fec8f(0x708)])),_0x478366[_0x1fec8f(0x260)]&&(_0x478366[_0x1fec8f(0x260)]=_0x478366[_0x1fec8f(0x260)][_0x1fec8f(0x666)](_0x19d517));}),_0x31df09;}const simpleMathPrompt=_0x284edd(0x160);async function handleGenerateFromLink(){const _0x391291=_0x284edd,_0x2f033f=document['getElementById'](_0x391291(0x752)),_0x3f421c=document['getElementById'](_0x391291(0x49a)),_0x3e84c3=_0x2f033f[_0x391291(0x617)][_0x391291(0xd4)](),_0x338783=_0x3f421c['value'][_0x391291(0xd4)]();if(!_0x3e84c3){showMessage(_0x391291(0x5ef));return;}const _0x2f027f=document[_0x391291(0x140)]('loader'),_0x274fcb=document[_0x391291(0x140)]('loader-text'),_0x503b88=document[_0x391291(0x140)](_0x391291(0x7cc)),_0x43d545=document[_0x391291(0x140)](_0x391291(0x133));document[_0x391291(0x140)]('quiz-generation-area')[_0x391291(0x44b)][_0x391291(0x6f8)](_0x391291(0x396)),_0x503b88[_0x391291(0x52d)]='',_0x2f027f[_0x391291(0x44b)][_0x391291(0x6f8)](_0x391291(0x396)),_0x274fcb[_0x391291(0x61d)]=_0x391291(0x30f),_0x43d545[_0x391291(0x54e)]=!![];try{const _0x170957=_0x391291(0x113)+encodeURIComponent(_0x3e84c3),_0x375236=await fetch(_0x170957);if(!_0x375236['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x375236[_0x391291(0x5df)]+')');const _0x265227=await _0x375236['text'](),_0x5042a9=extractTextFromHtml(_0x265227);if(!_0x5042a9||_0x5042a9[_0x391291(0x357)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x338783,_0x5042a9);}catch(_0x46824b){console[_0x391291(0x377)](_0x391291(0x2d1),_0x46824b),showMessage(_0x391291(0x407)+_0x46824b[_0x391291(0xf2)]),_0x503b88[_0x391291(0x52d)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x2f027f['classList'][_0x391291(0x281)](_0x391291(0x396)),_0x43d545[_0x391291(0x54e)]=![];}}function extractTextFromHtml(_0x4a51cc){const _0x1a71c0=_0x284edd,_0x1412e8=new DOMParser()[_0x1a71c0(0xea)](_0x4a51cc,_0x1a71c0(0x305));return _0x1412e8['querySelectorAll'](_0x1a71c0(0x1ca))[_0x1a71c0(0x335)](_0x27a389=>_0x27a389[_0x1a71c0(0x6f8)]()),_0x1412e8[_0x1a71c0(0x4a8)][_0x1a71c0(0x61d)]||'';}document[_0x284edd(0x140)](_0x284edd(0x3c9))[_0x284edd(0x14b)](_0x284edd(0x268),()=>{const _0x3404f0=_0x284edd,_0x504139=document[_0x3404f0(0x140)](_0x3404f0(0x499))['value']['trim']();generateQuiz(_0x504139,null);}),document['getElementById'](_0x284edd(0x12a))[_0x284edd(0x14b)](_0x284edd(0x268),()=>{const _0x38ae1e=_0x284edd,_0xbb6b24=document[_0x38ae1e(0x140)]('text-content-input')['value'][_0x38ae1e(0xd4)]();if(!_0xbb6b24){showMessage(_0x38ae1e(0x169));return;}const _0x27d10a=document[_0x38ae1e(0x140)](_0x38ae1e(0x499))[_0x38ae1e(0x617)][_0x38ae1e(0xd4)]();generateQuiz(_0x27d10a,_0xbb6b24);});async function generateQuiz(_0x389e07,_0x5953e5,_0x1cb2c7=null){const _0x3ccd09=_0x284edd,_0x4589c9=document[_0x3ccd09(0x140)](_0x3ccd09(0x4ee))[_0x3ccd09(0x61c)],_0x424813=document[_0x3ccd09(0x140)](_0x3ccd09(0x7cf))[_0x3ccd09(0x617)],_0x37f018=document['getElementById'](_0x3ccd09(0x67c))[_0x3ccd09(0x617)],_0x104354=document[_0x3ccd09(0x140)](_0x3ccd09(0x4f3))[_0x3ccd09(0x617)],_0x5ad6a0=document['getElementById'](_0x3ccd09(0x4e9))[_0x3ccd09(0x61c)],_0x2c8837=_0x5ad6a0?'':'คณิตศาสตร์',_0x2918d4=document[_0x3ccd09(0x140)]('difficulty-level-select'),_0x286219=_0x2918d4[_0x3ccd09(0x617)];let _0x2afea4='';_0x286219!==_0x3ccd09(0x451)&&(_0x2afea4=_0x3ccd09(0x193)+_0x286219+'\x22');const _0x48b6a9=document[_0x3ccd09(0x140)](_0x3ccd09(0x32c)),_0x104795=_0x48b6a9['value'];let _0x2ab886='';_0x104795!=='mixed'&&(_0x2ab886=_0x3ccd09(0x65f)+_0x104795+_0x3ccd09(0x776));const _0x5cc6de=document[_0x3ccd09(0x39b)](_0x3ccd09(0xe1)),_0x5e01c6=Array['from'](_0x5cc6de)[_0x3ccd09(0x666)](_0x4dec25=>_0x4dec25[_0x3ccd09(0x617)]);let _0x544599='';_0x5e01c6[_0x3ccd09(0x357)]>0x0&&(_0x544599=_0x3ccd09(0x250)+_0x5e01c6['join'](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x41c0ff='',_0x262914='',_0x45c422,_0x2e89a2=_0x3ccd09(0xe5)+_0x389e07+'\x22';if(!_0x389e07&&_0x5953e5)_0x2e89a2='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x389e07&&!_0x5953e5&&(_0x2e89a2=_0x3ccd09(0x5dd));const _0x27016f={'type':_0x3ccd09(0xd1),'properties':{'questionText':{'type':_0x3ccd09(0x1d1)},'options':{'type':_0x3ccd09(0x696),'items':{'type':_0x3ccd09(0x1d1)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3ccd09(0x1d1)}},'required':['questionText',_0x3ccd09(0x230),_0x3ccd09(0x31c),_0x3ccd09(0x48b)]},_0x2f03c6={'type':'OBJECT','properties':{'questionText':{'type':_0x3ccd09(0x1d1)},'idealAnswer':{'type':_0x3ccd09(0x1d1)},'explanation':{'type':_0x3ccd09(0x1d1)},'imageCode':{'type':_0x3ccd09(0x1d1)}},'required':[_0x3ccd09(0x28d),_0x3ccd09(0x49c),_0x3ccd09(0x48b)]},_0x40af89={'type':'OBJECT','properties':{'questionText':{'type':_0x3ccd09(0x1d1)},'questionType':{'type':_0x3ccd09(0x1d1),'enum':[_0x3ccd09(0x267),_0x3ccd09(0x4eb)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3ccd09(0x1d1)},'explanation':{'type':_0x3ccd09(0x1d1)},'imageCode':{'type':'STRING'}},'required':[_0x3ccd09(0x28d),'questionType',_0x3ccd09(0x48b)]},_0x4dd7c5={'type':_0x3ccd09(0xd1),'properties':{'questionText':{'type':_0x3ccd09(0x1d1)},'correctAnswer':{'type':_0x3ccd09(0x1ac)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x3ccd09(0x28d),'correctAnswer',_0x3ccd09(0x48b)]},_0x308ea8={'type':_0x3ccd09(0xd1),'properties':{'questionType':{'type':_0x3ccd09(0x1d1),'enum':[_0x3ccd09(0x159)]},'stem':{'type':_0x3ccd09(0x1d1)},'correctResponse':{'type':_0x3ccd09(0x1d1)},'allResponses':{'type':'ARRAY','items':{'type':_0x3ccd09(0x1d1)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3ccd09(0x1d1)}},'required':[_0x3ccd09(0x103),_0x3ccd09(0x63f),_0x3ccd09(0x708),_0x3ccd09(0x260),'explanation']};let _0x2b1186;if(_0x1cb2c7!==null){const _0x4162f3=currentQuizData[_0x3ccd09(0x7d0)][_0x1cb2c7]['questionType'],_0x45ce6d=_0x4589c9?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x41c0ff=_0x3ccd09(0x35b)+_0x2e89a2+'\x20'+_0x544599+'\x20'+_0x2afea4+_0x3ccd09(0x1b4)+_0x45ce6d+'\x20'+simpleMathPrompt;if(_0x4162f3===_0x3ccd09(0x267))_0x45c422=_0x27016f;else{if(_0x4162f3===_0x3ccd09(0x159))_0x45c422={'type':_0x3ccd09(0xd1),'properties':{'questionType':{'type':_0x3ccd09(0x1d1),'enum':[_0x3ccd09(0x159)]},'stem':{'type':_0x3ccd09(0x1d1)},'correctResponse':{'type':_0x3ccd09(0x1d1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3ccd09(0x1d1)}},'required':[_0x3ccd09(0x103),_0x3ccd09(0x63f),_0x3ccd09(0x708),_0x3ccd09(0x48b)]};else _0x45c422=_0x2f03c6;}_0x2b1186=_0x45c422;}else{const _0x214b50=_0x4589c9?_0x3ccd09(0x753):'';switch(_0x424813){case _0x3ccd09(0x267):_0x41c0ff='สร้างแบบทดสอบปรนัย'+_0x2c8837+'\x20'+_0x37f018+'\x20ข้อ\x20'+_0x2e89a2+'\x20'+_0x544599+'\x20'+_0x2afea4+'\x20'+_0x2ab886+_0x3ccd09(0x27b)+_0x104354+_0x3ccd09(0x7bb)+_0x214b50+'\x20'+simpleMathPrompt,_0x45c422=_0x27016f;break;case _0x3ccd09(0x672):_0x41c0ff='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2c8837+'\x20'+_0x37f018+_0x3ccd09(0x532)+_0x2e89a2+'\x20'+_0x544599+'\x20'+_0x2afea4+'\x20'+_0x2ab886+_0x3ccd09(0x457)+_0x104354+_0x3ccd09(0x5e1)+_0x214b50+'\x20'+simpleMathPrompt,_0x45c422=_0x27016f;break;case'fill_in_no_choices':_0x41c0ff=_0x3ccd09(0x3b0)+_0x2c8837+'\x20'+_0x37f018+_0x3ccd09(0x532)+_0x2e89a2+'\x20'+_0x544599+'\x20'+_0x2afea4+'\x20'+_0x2ab886+_0x3ccd09(0x5ce)+_0x214b50+'\x20'+simpleMathPrompt,_0x45c422=_0x2f03c6;break;case _0x3ccd09(0x197):_0x41c0ff=_0x3ccd09(0x5b4)+_0x2c8837+'\x20'+_0x37f018+_0x3ccd09(0x532)+_0x2e89a2+'\x20'+_0x544599+'\x20'+_0x2afea4+'\x20'+_0x2ab886+_0x3ccd09(0x273)+_0x104354+_0x3ccd09(0x2f8)+_0x214b50+'\x20'+simpleMathPrompt+'.',_0x45c422=_0x40af89;break;case _0x3ccd09(0x7de):_0x41c0ff=_0x3ccd09(0x41f)+_0x2c8837+'\x20'+_0x37f018+_0x3ccd09(0x532)+_0x2e89a2+'\x20'+_0x544599+'\x20'+_0x2afea4+'\x20'+_0x2ab886+_0x3ccd09(0x286)+_0x214b50+'\x20'+simpleMathPrompt,_0x45c422=_0x4dd7c5;break;case _0x3ccd09(0x17a):_0x41c0ff=_0x3ccd09(0x189)+_0x2c8837+'\x20'+_0x37f018+'\x20คู่\x20'+_0x2e89a2+'\x20'+_0x544599+'\x20'+_0x2afea4+'\x20'+_0x2ab886+_0x3ccd09(0x4bd)+_0x214b50+'\x20'+simpleMathPrompt,_0x45c422=_0x308ea8;break;}_0x2b1186={'type':_0x3ccd09(0xd1),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3ccd09(0x696),'items':_0x45c422}},'required':[_0x3ccd09(0x479),'questions']};}return _0x5953e5?(_0x41c0ff=_0x3ccd09(0x440)+_0x5953e5+_0x3ccd09(0x1ab)+_0x41c0ff,_0x262914=_0x3ccd09(0x463)):_0x262914=_0x3ccd09(0x74c),handleApiCall(_0x41c0ff,_0x262914,_0x2b1186,_0x1cb2c7);}async function generateQuizFromFile(_0x4d2415,_0x4dbff2){const _0x586d3a=_0x284edd,_0x15655e=document[_0x586d3a(0x140)](_0x586d3a(0x566))[_0x586d3a(0x617)][_0x586d3a(0xd4)](),_0x4d8578=document[_0x586d3a(0x140)](_0x586d3a(0x7cf))[_0x586d3a(0x617)],_0x478b12=document['getElementById']('num-questions')[_0x586d3a(0x617)],_0x591687=document['getElementById'](_0x586d3a(0x4f3))[_0x586d3a(0x617)],_0x44c160=document['getElementById'](_0x586d3a(0x4ee))[_0x586d3a(0x61c)],_0xf970a7=document[_0x586d3a(0x140)](_0x586d3a(0x4e9))[_0x586d3a(0x61c)],_0x43495f=_0xf970a7?'':_0x586d3a(0x15c);let _0xd248a9='',_0x168045,_0x673a4e=_0x586d3a(0xe5)+_0x15655e+'\x22';!_0x15655e&&(_0x673a4e=_0x586d3a(0x122));const _0x3b881f=_0x44c160?_0x586d3a(0x753):'';switch(_0x4d8578){case _0x586d3a(0x267):_0xd248a9=_0x586d3a(0x25d)+_0x43495f+'\x20'+_0x478b12+_0x586d3a(0x532)+_0x673a4e+_0x586d3a(0x27b)+_0x591687+_0x586d3a(0x7bb)+_0x3b881f+'\x20'+simpleMathPrompt,_0x168045={'type':'OBJECT','properties':{'questionText':{'type':_0x586d3a(0x1d1)},'options':{'type':_0x586d3a(0x696),'items':{'type':_0x586d3a(0x1d1)}},'correctAnswerIndex':{'type':_0x586d3a(0x5a5)},'explanation':{'type':_0x586d3a(0x1d1)},'imageCode':{'type':_0x586d3a(0x1d1)}},'required':[_0x586d3a(0x28d),_0x586d3a(0x230),_0x586d3a(0x31c),_0x586d3a(0x48b)]};break;case _0x586d3a(0x672):_0xd248a9='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x43495f+'\x20'+_0x478b12+_0x586d3a(0x532)+_0x673a4e+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x591687+_0x586d3a(0x5e1)+_0x3b881f+'\x20'+simpleMathPrompt,_0x168045={'type':_0x586d3a(0xd1),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x586d3a(0x5a5)},'explanation':{'type':_0x586d3a(0x1d1)},'imageCode':{'type':_0x586d3a(0x1d1)}},'required':[_0x586d3a(0x28d),_0x586d3a(0x230),_0x586d3a(0x31c),_0x586d3a(0x48b)]};break;case _0x586d3a(0x4b4):_0xd248a9='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x43495f+'\x20'+_0x478b12+_0x586d3a(0x532)+_0x673a4e+_0x586d3a(0x5ce)+_0x3b881f+'\x20'+simpleMathPrompt,_0x168045={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x586d3a(0x1d1)},'explanation':{'type':_0x586d3a(0x1d1)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x586d3a(0x49c),_0x586d3a(0x48b)]};break;case _0x586d3a(0x197):_0xd248a9=_0x586d3a(0x5b4)+_0x43495f+'\x20'+_0x478b12+'\x20ข้อ\x20'+_0x673a4e+_0x586d3a(0x710)+_0x591687+'\x20ตัวเลือก.\x20'+_0x3b881f+'\x20'+simpleMathPrompt+_0x586d3a(0x2c6),_0x168045={'type':_0x586d3a(0xd1),'properties':{'questionText':{'type':_0x586d3a(0x1d1)},'questionType':{'type':_0x586d3a(0x1d1),'enum':['multiple_choice',_0x586d3a(0x4eb)]},'options':{'type':_0x586d3a(0x696),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x586d3a(0x5a5)},'idealAnswer':{'type':_0x586d3a(0x1d1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x586d3a(0x1d1)}},'required':[_0x586d3a(0x28d),_0x586d3a(0x103),_0x586d3a(0x48b)]};break;case _0x586d3a(0x7de):_0xd248a9=_0x586d3a(0x41f)+_0x43495f+'\x20'+_0x478b12+'\x20ข้อ\x20'+_0x673a4e+_0x586d3a(0x5b5)+_0x3b881f+'\x20'+simpleMathPrompt,_0x168045={'type':'OBJECT','properties':{'questionText':{'type':_0x586d3a(0x1d1)},'correctAnswer':{'type':_0x586d3a(0x1ac)},'explanation':{'type':_0x586d3a(0x1d1)},'imageCode':{'type':_0x586d3a(0x1d1)}},'required':['questionText','correctAnswer','explanation']};break;case _0x586d3a(0x17a):_0xd248a9='สร้างชุดคำถามจับคู่'+_0x43495f+'\x20'+_0x478b12+_0x586d3a(0x2b2)+_0x673a4e+_0x586d3a(0x3ee)+_0x478b12+_0x586d3a(0x691)+_0x3b881f+'\x20'+simpleMathPrompt,_0x168045={'type':_0x586d3a(0xd1),'properties':{'questionType':{'type':_0x586d3a(0x1d1),'enum':[_0x586d3a(0x159)]},'stem':{'type':_0x586d3a(0x1d1)},'correctResponse':{'type':_0x586d3a(0x1d1)},'allResponses':{'type':_0x586d3a(0x696),'items':{'type':_0x586d3a(0x1d1)}},'explanation':{'type':_0x586d3a(0x1d1)},'imageCode':{'type':'STRING'}},'required':[_0x586d3a(0x103),'stem',_0x586d3a(0x708),_0x586d3a(0x260),_0x586d3a(0x48b)]};break;}const _0xa8f0fa={'type':_0x586d3a(0xd1),'properties':{'topic':{'type':_0x586d3a(0x1d1)},'questions':{'type':_0x586d3a(0x696),'items':_0x168045}},'required':['topic',_0x586d3a(0x7d0)]},_0x14e9a9=_0x586d3a(0x1b2)+_0xd248a9,_0x341bf0={'contents':[{'parts':[{'text':_0x14e9a9},{'inlineData':{'mimeType':_0x4d2415,'data':_0x4dbff2}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0xa8f0fa}};return handleApiCall(_0x341bf0[_0x586d3a(0x624)][0x0][_0x586d3a(0x745)],_0x586d3a(0x53d),_0xa8f0fa);}async function handleApiCall(_0x4f3d75,_0x5efaeb,_0x186e3f,_0x2d803d=null){const _0x4916c5=_0x284edd,_0x338553=document[_0x4916c5(0x140)](_0x4916c5(0x28a)),_0x5b891e=document[_0x4916c5(0x140)]('loader'),_0x9504e2=document[_0x4916c5(0x140)](_0x4916c5(0x1ba)),_0x1976cb=document['getElementById'](_0x4916c5(0x7cc));_0x338553[_0x4916c5(0x44b)][_0x4916c5(0x6f8)]('hidden');_0x2d803d===null&&(_0x1976cb['innerHTML']='');_0x5b891e[_0x4916c5(0x44b)]['remove'](_0x4916c5(0x396)),_0x9504e2[_0x4916c5(0x61d)]=_0x5efaeb,document[_0x4916c5(0x140)](_0x4916c5(0x3c9))[_0x4916c5(0x54e)]=!![],document[_0x4916c5(0x140)](_0x4916c5(0x12a))[_0x4916c5(0x54e)]=!![],document[_0x4916c5(0x140)](_0x4916c5(0x133))['disabled']=!![];try{const _0x4c8188={'responseMimeType':_0x4916c5(0x240),'responseSchema':_0x186e3f},_0x1842b1=Array[_0x4916c5(0x611)](_0x4f3d75)?_0x4f3d75:[{'text':_0x4f3d75}],_0x3485e4={'contents':[{'role':_0x4916c5(0x478),'parts':_0x1842b1}],'generationConfig':_0x4c8188},_0x33be75='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x3bbff8=_0x4916c5(0x5eb)+_0x33be75,_0x4f0452=await fetch(_0x3bbff8,{'method':_0x4916c5(0x772),'headers':{'Content-Type':_0x4916c5(0x240)},'body':JSON['stringify'](_0x3485e4)});if(!_0x4f0452['ok'])throw new Error(_0x4916c5(0x6c6)+_0x4f0452[_0x4916c5(0x5df)]);const _0x51a2a2=await _0x4f0452[_0x4916c5(0x7c5)]();if(_0x51a2a2[_0x4916c5(0x6ca)]?.[0x0]?.[_0x4916c5(0x35f)]?.[_0x4916c5(0x745)]?.[0x0]){let _0x155c90=_0x51a2a2['candidates'][0x0]['content'][_0x4916c5(0x745)][0x0][_0x4916c5(0x1fd)],_0x516dcc;try{if(_0x155c90['startsWith'](_0x4916c5(0x75f)))_0x155c90=_0x155c90['substring'](0x7,_0x155c90[_0x4916c5(0x357)]-0x3)[_0x4916c5(0xd4)]();else _0x155c90[_0x4916c5(0x1c6)](_0x4916c5(0x61a))&&(_0x155c90=_0x155c90['substring'](0x3,_0x155c90[_0x4916c5(0x357)]-0x3)[_0x4916c5(0xd4)]());_0x516dcc=JSON[_0x4916c5(0x41c)](_0x155c90);}catch(_0x17aa02){console[_0x4916c5(0x377)](_0x4916c5(0x473),_0x17aa02,_0x155c90);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x2d803d!==null){if(_0x516dcc[_0x4916c5(0x103)]===_0x4916c5(0x159)){const _0x4b5452=currentQuizData['questions']['map'](_0x1c031b=>_0x1c031b[_0x4916c5(0x708)]);_0x516dcc[_0x4916c5(0x260)]=_0x4b5452;const _0x5935cb=currentQuizData[_0x4916c5(0x7d0)][_0x2d803d]['correctResponse'],_0x32d760=_0x4b5452[_0x4916c5(0x484)](_0x5935cb);_0x32d760>-0x1&&(_0x4b5452[_0x32d760]=_0x516dcc[_0x4916c5(0x708)]),currentQuizData[_0x4916c5(0x7d0)]['forEach'](_0x24e9f5=>{const _0x3e7929=_0x4916c5;if(_0x24e9f5[_0x3e7929(0x103)]===_0x3e7929(0x159))_0x24e9f5['allResponses']=_0x4b5452;});}currentQuizData[_0x4916c5(0x7d0)][_0x2d803d]=_0x516dcc,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x516dcc;const _0x17d016=document['getElementById'](_0x4916c5(0x7cf))['value'];currentQuizData[_0x4916c5(0x255)]=_0x17d016,currentQuizData['questions']&&currentQuizData[_0x4916c5(0x7d0)]['forEach'](_0x3f04b5=>{const _0x4499b9=_0x4916c5;if(!_0x3f04b5['questionType']){if(_0x17d016===_0x4499b9(0x672))_0x3f04b5[_0x4499b9(0x103)]='multiple_choice';else _0x17d016===_0x4499b9(0x4b4)?_0x3f04b5[_0x4499b9(0x103)]=_0x4499b9(0x4eb):_0x3f04b5[_0x4499b9(0x103)]=_0x17d016;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x4916c5(0x377)](_0x4916c5(0x2b1),JSON[_0x4916c5(0x501)](_0x51a2a2));throw new Error(_0x4916c5(0x172));}}catch(_0x408b71){console[_0x4916c5(0x377)]('Error\x20generating\x20quiz:',_0x408b71),showMessage(_0x4916c5(0xd3)),_0x2d803d===null&&(_0x1976cb['innerHTML']=_0x4916c5(0x3a2));}finally{_0x5b891e[_0x4916c5(0x44b)][_0x4916c5(0x281)](_0x4916c5(0x396)),document[_0x4916c5(0x140)](_0x4916c5(0x3c9))[_0x4916c5(0x54e)]=![],document['getElementById']('generate-from-text-btn')['disabled']=![],document[_0x4916c5(0x140)](_0x4916c5(0x133))[_0x4916c5(0x54e)]=![];const _0x5b5e61=document[_0x4916c5(0x140)](_0x4916c5(0x610));_0x5b5e61&&(_0x5b5e61[_0x4916c5(0x54e)]=![]);}}function displayGeneratedQuiz(_0x265798){const _0x557cee=_0x284edd,_0x5de662=document[_0x557cee(0x140)](_0x557cee(0x7cc));let _0x3446f9='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x265798[_0x557cee(0x479)]+'</h3>';_0x265798['questions'][_0x557cee(0x335)]((_0xebbdcd,_0x5da7fd)=>{const _0x14d2c1=_0x557cee,_0x317ca5=_0xebbdcd[_0x14d2c1(0x103)]||_0x265798[_0x14d2c1(0x255)];_0x3446f9+=_0x14d2c1(0x10c)+_0x5da7fd+_0x14d2c1(0x7a8)+_0x5da7fd+_0x14d2c1(0x10d)+_0x5da7fd+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x317ca5){case _0x14d2c1(0x159):_0x3446f9+=_0x14d2c1(0x346)+_0x5da7fd+'\x22>'+(_0x5da7fd+0x1)+'.\x20'+_0xebbdcd[_0x14d2c1(0x63f)]+_0x14d2c1(0x18d);_0xebbdcd[_0x14d2c1(0x526)]&&(_0x3446f9+=_0x14d2c1(0x2fc)+_0x5da7fd+_0x14d2c1(0x2dc)+_0xebbdcd[_0x14d2c1(0x526)]+_0x14d2c1(0x477));_0x3446f9+=_0x14d2c1(0x3cc)+_0x5da7fd+'\x22>'+_0xebbdcd[_0x14d2c1(0x708)]+_0x14d2c1(0x13b),_0x3446f9+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x5da7fd+'\x22>'+_0xebbdcd[_0x14d2c1(0x48b)]+_0x14d2c1(0x13b);break;case _0x14d2c1(0x4eb):_0x3446f9+=_0x14d2c1(0x346)+_0x5da7fd+'\x22>'+(_0x5da7fd+0x1)+'.\x20'+_0xebbdcd[_0x14d2c1(0x28d)]+_0x14d2c1(0x18d);_0xebbdcd['imageCode']&&(_0x3446f9+=_0x14d2c1(0x2fc)+_0x5da7fd+_0x14d2c1(0x2dc)+_0xebbdcd[_0x14d2c1(0x526)]+_0x14d2c1(0x477));_0x3446f9+=_0x14d2c1(0x334)+_0x5da7fd+'\x22>'+_0xebbdcd[_0x14d2c1(0x49c)]+_0x14d2c1(0x13b),_0x3446f9+=_0x14d2c1(0x60f)+_0x5da7fd+'\x22>'+_0xebbdcd[_0x14d2c1(0x48b)]+_0x14d2c1(0x13b);break;case _0x14d2c1(0x7de):_0x3446f9+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x5da7fd+'\x22>'+(_0x5da7fd+0x1)+'.\x20'+_0xebbdcd[_0x14d2c1(0x28d)]+_0x14d2c1(0x18d);_0xebbdcd[_0x14d2c1(0x526)]&&(_0x3446f9+=_0x14d2c1(0x2fc)+_0x5da7fd+_0x14d2c1(0x2dc)+_0xebbdcd[_0x14d2c1(0x526)]+_0x14d2c1(0x477));_0x3446f9+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0xebbdcd[_0x14d2c1(0x7a4)]===!![]?_0x14d2c1(0xe3):'')+_0x14d2c1(0x4b3)+(_0xebbdcd[_0x14d2c1(0x7a4)]===![]?_0x14d2c1(0xe3):'')+_0x14d2c1(0x27c),_0x3446f9+=_0x14d2c1(0x60f)+_0x5da7fd+'\x22>'+_0xebbdcd[_0x14d2c1(0x48b)]+_0x14d2c1(0x13b);break;case _0x14d2c1(0x4f9):case _0x14d2c1(0x267):default:_0x3446f9+=_0x14d2c1(0x346)+_0x5da7fd+'\x22>'+(_0x5da7fd+0x1)+'.\x20'+_0xebbdcd[_0x14d2c1(0x28d)]+_0x14d2c1(0x18d);_0xebbdcd['imageCode']&&(_0x3446f9+=_0x14d2c1(0x2fc)+_0x5da7fd+_0x14d2c1(0x2dc)+_0xebbdcd['imageCode']+'</div>');_0x3446f9+=_0x14d2c1(0x622)+_0x5da7fd+_0x14d2c1(0xd2)+_0xebbdcd['options']['map']((_0xba480,_0x56145e)=>_0x14d2c1(0x73e)+(_0x56145e===_0xebbdcd[_0x14d2c1(0x31c)]?_0x14d2c1(0xe3):'')+'\x22>'+_0xba480+'</li>')[_0x14d2c1(0x4be)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x3446f9+=_0x14d2c1(0x60f)+_0x5da7fd+'\x22>'+_0xebbdcd['explanation']+_0x14d2c1(0x13b);break;}_0x3446f9+=_0x14d2c1(0x477);}),_0x3446f9+=_0x557cee(0x766),_0x5de662[_0x557cee(0x52d)]=_0x3446f9,document[_0x557cee(0x39b)](_0x557cee(0x4f2))[_0x557cee(0x335)](_0xd72a8c=>_0xd72a8c[_0x557cee(0x14b)](_0x557cee(0x268),handleEditQuestion)),document[_0x557cee(0x39b)](_0x557cee(0x171))[_0x557cee(0x335)](_0x24526=>_0x24526[_0x557cee(0x14b)](_0x557cee(0x268),handleRegenerateQuestion)),document[_0x557cee(0x39b)](_0x557cee(0x73c))[_0x557cee(0x335)](_0x3f48f0=>_0x3f48f0['addEventListener'](_0x557cee(0x268),handleSaveToBank)),document[_0x557cee(0x140)](_0x557cee(0x2a9))[_0x557cee(0x14b)](_0x557cee(0x268),exportQuizAsWorksheetPDF),document['getElementById'](_0x557cee(0x723))[_0x557cee(0x14b)](_0x557cee(0x268),saveQuiz);if(window['MathJax'])window[_0x557cee(0x476)][_0x557cee(0x41b)]([_0x5de662]);}function handleRegenerateQuestion(_0x52bc01){const _0x2b3b6f=_0x284edd,_0x450ef6=_0x52bc01[_0x2b3b6f(0x4a5)][_0x2b3b6f(0x557)][_0x2b3b6f(0x114)],_0x2c5ece=currentQuizData['topic'];showMessage(_0x2b3b6f(0x388)+(parseInt(_0x450ef6)+0x1)+'\x20ใหม่...'),generateQuiz(_0x2c5ece,null,parseInt(_0x450ef6));}function getPointerPosition(_0x3696d0,_0x1c97db){const _0x5550e3=_0x284edd,_0x3d38c1=_0x3696d0[_0x5550e3(0x1ad)]();let _0x4f123a,_0x33e385;return _0x1c97db[_0x5550e3(0x597)]&&_0x1c97db[_0x5550e3(0x597)][_0x5550e3(0x357)]>0x0?(_0x4f123a=_0x1c97db[_0x5550e3(0x597)][0x0][_0x5550e3(0x5a8)],_0x33e385=_0x1c97db[_0x5550e3(0x597)][0x0][_0x5550e3(0x60e)]):(_0x4f123a=_0x1c97db[_0x5550e3(0x5a8)],_0x33e385=_0x1c97db[_0x5550e3(0x60e)]),{'x':(_0x4f123a-_0x3d38c1['e'])/_0x3d38c1['a'],'y':(_0x33e385-_0x3d38c1['f'])/_0x3d38c1['d']};}function startDrag(_0xb3ec86){const _0x499eb5=_0x284edd;_0xb3ec86[_0x499eb5(0x164)]==='touchstart'&&_0xb3ec86[_0x499eb5(0x72d)]();const _0x238f20=_0xb3ec86[_0x499eb5(0x533)][_0x499eb5(0x791)](_0x499eb5(0x5d7));if(_0x238f20){draggedSvgElement=_0x238f20;const _0x2080ff=draggedSvgElement[_0x499eb5(0x442)],_0x3d172f=getPointerPosition(_0x2080ff,_0xb3ec86);svgOffset['x']=_0x3d172f['x']-parseFloat(draggedSvgElement[_0x499eb5(0x348)](null,'x')),svgOffset['y']=_0x3d172f['y']-parseFloat(draggedSvgElement[_0x499eb5(0x348)](null,'y'));}}function calculateItemAnalysis(_0x4d921e,_0xc61dbf){const _0x2f8c95=_0x284edd,_0x464763={};if(_0xc61dbf[_0x2f8c95(0x357)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x53a18f=[..._0xc61dbf]['sort']((_0x32a4c1,_0x231328)=>{const _0xe1ff20=_0x2f8c95,_0x2bd9da=_0x231328[_0xe1ff20(0xda)]-_0x32a4c1[_0xe1ff20(0xda)];if(_0x2bd9da!==0x0)return _0x2bd9da;const _0xe2f63=_0x32a4c1['attempts']?.[_0xe1ff20(0x357)]||0x1,_0x3a9907=_0x231328[_0xe1ff20(0x2bb)]?.[_0xe1ff20(0x357)]||0x1,_0x2b6db0=_0xe2f63-_0x3a9907;if(_0x2b6db0!==0x0)return _0x2b6db0;const _0x15c244=new Date(_0x32a4c1[_0xe1ff20(0x719)]),_0x1cb793=new Date(_0x231328['latestSubmittedAt']),_0x35f8a8=_0x15c244-_0x1cb793;if(_0x35f8a8!==0x0)return _0x35f8a8;return _0x32a4c1['studentName'][_0xe1ff20(0x5ca)](_0x231328[_0xe1ff20(0x5c2)],'th');}),_0x380dd5=_0x53a18f[_0x2f8c95(0x357)],_0x5d487b=Math[_0x2f8c95(0x693)](0x1,Math[_0x2f8c95(0x4b2)](_0x380dd5*0.33));if(_0x5d487b===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4511a7=_0x53a18f[_0x2f8c95(0x17c)](0x0,_0x5d487b),_0x54585b=_0x53a18f[_0x2f8c95(0x17c)](-_0x5d487b),_0x376f07=_0x4511a7[_0x2f8c95(0x666)](_0x4f36e3=>_0x4f36e3['studentName']),_0x14ea23=_0x54585b['map'](_0xf9c34f=>_0xf9c34f[_0x2f8c95(0x5c2)]);return _0x4d921e[_0x2f8c95(0x7d0)][_0x2f8c95(0x335)]((_0x15ca67,_0x17f09f)=>{const _0x4e950f=_0x2f8c95,_0x44960c=_0x15ca67[_0x4e950f(0x63f)]||_0x15ca67[_0x4e950f(0x28d)];let _0x314df5=0x0,_0x378540=0x0,_0x275d2b=0x0;const _0xe15246=[],_0x47487b=[];_0x4511a7['forEach'](_0xa6c87c=>{const _0x4228e3=_0x4e950f,_0x59ff51=_0xa6c87c['attempts'][_0xa6c87c[_0x4228e3(0x2bb)]['length']-0x1],_0x49dba9=_0x59ff51[_0x4228e3(0x6d2)][_0x4228e3(0x4b7)](_0x1d8123=>_0x1d8123[_0x4228e3(0x4ca)]===_0x44960c);_0xe15246[_0x4228e3(0x1b8)]({'name':_0xa6c87c[_0x4228e3(0x5c2)],'isCorrect':_0x49dba9?_0x49dba9['isCorrect']:![]}),_0x49dba9&&_0x49dba9[_0x4228e3(0x6e4)]&&_0x378540++;}),_0x54585b[_0x4e950f(0x335)](_0x3dbee0=>{const _0x4b2afe=_0x4e950f,_0xc1b7b3=_0x3dbee0[_0x4b2afe(0x2bb)][_0x3dbee0['attempts']['length']-0x1],_0x5cf889=_0xc1b7b3[_0x4b2afe(0x6d2)][_0x4b2afe(0x4b7)](_0x30c1f7=>_0x30c1f7['originalQuestionText']===_0x44960c);_0x47487b[_0x4b2afe(0x1b8)]({'name':_0x3dbee0[_0x4b2afe(0x5c2)],'isCorrect':_0x5cf889?_0x5cf889[_0x4b2afe(0x6e4)]:![]}),_0x5cf889&&_0x5cf889[_0x4b2afe(0x6e4)]&&_0x275d2b++;}),_0xc61dbf[_0x4e950f(0x335)](_0x204f90=>{const _0x42d79b=_0x4e950f,_0x105939=_0x204f90[_0x42d79b(0x2bb)][_0x204f90['attempts'][_0x42d79b(0x357)]-0x1],_0xb70c11=_0x105939[_0x42d79b(0x6d2)]['find'](_0x2c7c37=>_0x2c7c37[_0x42d79b(0x4ca)]===_0x44960c);_0xb70c11&&_0xb70c11[_0x42d79b(0x6e4)]&&_0x314df5++;});const _0x156e58=_0x380dd5>0x0?_0x314df5/_0x380dd5:0x0,_0x4878d7=_0x5d487b>0x0?_0x378540/_0x5d487b-_0x275d2b/_0x5d487b:0x0;_0x464763[_0x17f09f]={'p':_0x156e58,'r':_0x4878d7,'upperGroupResponders':_0xe15246,'lowerGroupResponders':_0x47487b};}),{'perQuestionStats':_0x464763,'overallGroups':{'upperGroupNames':_0x376f07,'lowerGroupNames':_0x14ea23}};}function drag(_0x43bfb5){const _0x4948f0=_0x284edd;if(draggedSvgElement){_0x43bfb5[_0x4948f0(0x72d)]();const _0x328bac=draggedSvgElement[_0x4948f0(0x442)],_0x2a651b=getPointerPosition(_0x328bac,_0x43bfb5),_0x453efd=_0x328bac['viewBox'][_0x4948f0(0x2c0)];let _0x278ddb=_0x2a651b['x']-svgOffset['x'],_0x223826=_0x2a651b['y']-svgOffset['y'];const _0x4d671c=draggedSvgElement[_0x4948f0(0x67b)]();_0x278ddb=Math[_0x4948f0(0x693)](_0x453efd['x'],Math[_0x4948f0(0x428)](_0x278ddb,_0x453efd['x']+_0x453efd[_0x4948f0(0x2f9)]-_0x4d671c['width'])),_0x223826=Math[_0x4948f0(0x693)](_0x453efd['y'],Math[_0x4948f0(0x428)](_0x223826,_0x453efd['y']+_0x453efd[_0x4948f0(0x733)]-_0x4d671c[_0x4948f0(0x733)])),draggedSvgElement[_0x4948f0(0x5c1)](null,'x',_0x278ddb),draggedSvgElement['setAttributeNS'](null,'y',_0x223826);}}function endDrag(_0x47b4d5){draggedSvgElement=null;}function handleSvgEditClick(_0x3e6b49){const _0x58672b=_0x284edd;if(_0x3e6b49[_0x58672b(0x533)][_0x58672b(0x44b)][_0x58672b(0x5d5)]('delete-svg-btn')){const _0x28a781=_0x3e6b49[_0x58672b(0x533)]['dataset'][_0x58672b(0x27f)],_0x29b0a9=_0x3e6b49['currentTarget'],_0xd6251a=_0x29b0a9['querySelector']('#'+_0x28a781);_0xd6251a&&_0xd6251a[_0x58672b(0x6f8)](),_0x3e6b49[_0x58672b(0x533)]['remove']();}}function handleEditQuestion(_0x56d4f3){const _0x3d58b6=_0x284edd,_0x41fdb7=_0x56d4f3['currentTarget'],_0x287f37=_0x41fdb7[_0x3d58b6(0x557)][_0x3d58b6(0x114)],_0x466a70=currentQuizData[_0x3d58b6(0x7d0)][_0x287f37],_0x14c1b6=document[_0x3d58b6(0x140)]('q-text-'+_0x287f37),_0x35978c=document[_0x3d58b6(0x140)](_0x3d58b6(0x18f)+_0x287f37),_0x1e5aea=document[_0x3d58b6(0x140)](_0x3d58b6(0x180)+_0x287f37);if(_0x41fdb7[_0x3d58b6(0x52d)]['includes'](_0x3d58b6(0x4c0))){_0x41fdb7[_0x3d58b6(0x52d)]=_0x3d58b6(0x6c8),_0x41fdb7[_0x3d58b6(0x6e2)]=_0x3d58b6(0x51d);if(_0x14c1b6)_0x14c1b6['contentEditable']=!![];if(_0x35978c)_0x35978c[_0x3d58b6(0x397)]=!![];if(_0x1e5aea){const _0x3f431b=_0x1e5aea[_0x3d58b6(0x62c)](_0x3d58b6(0x4c6));if(_0x3f431b){const _0x4e523c=_0x3f431b[_0x3d58b6(0x39b)](_0x3d58b6(0x1fd));_0x4e523c['forEach']((_0x3fdacd,_0x54278b)=>{const _0xfa3a5=_0x3d58b6,_0x55a617=_0xfa3a5(0x1cd)+_0x287f37+'-'+_0x54278b;_0x3fdacd['id']=_0x55a617,_0x3fdacd[_0xfa3a5(0x44b)][_0xfa3a5(0x281)]('draggable-text'),_0x3fdacd[_0xfa3a5(0x3ca)][_0xfa3a5(0x362)]=_0xfa3a5(0x1fc);const _0x5907f1=document['createElementNS'](_0xfa3a5(0x379),'circle'),_0x53ec8d=_0x3fdacd['getBBox']();_0x5907f1[_0xfa3a5(0x1ed)]('cx',String(_0x53ec8d['x']+_0x53ec8d['width']+0x5)),_0x5907f1[_0xfa3a5(0x1ed)]('cy',String(_0x53ec8d['y']+_0x53ec8d[_0xfa3a5(0x733)]/0x2-0x5)),_0x5907f1[_0xfa3a5(0x1ed)]('r','5'),_0x5907f1[_0xfa3a5(0x1ed)](_0xfa3a5(0x616),'red'),_0x5907f1['setAttribute']('class',_0xfa3a5(0x343)),_0x5907f1['dataset']['targetId']=_0x55a617,_0x3fdacd[_0xfa3a5(0x770)](_0x5907f1);}),_0x3f431b[_0x3d58b6(0x14b)](_0x3d58b6(0x6af),startDrag),_0x3f431b['addEventListener'](_0x3d58b6(0x37b),drag),_0x3f431b[_0x3d58b6(0x14b)]('mouseup',endDrag),_0x3f431b[_0x3d58b6(0x14b)](_0x3d58b6(0x316),endDrag),_0x3f431b[_0x3d58b6(0x14b)]('touchstart',startDrag,{'passive':![]}),_0x3f431b[_0x3d58b6(0x14b)](_0x3d58b6(0x7d2),drag,{'passive':![]}),_0x3f431b[_0x3d58b6(0x14b)](_0x3d58b6(0x512),endDrag),_0x3f431b['addEventListener'](_0x3d58b6(0x714),endDrag),_0x3f431b['addEventListener'](_0x3d58b6(0x268),handleSvgEditClick);}}if(_0x14c1b6)_0x14c1b6[_0x3d58b6(0x651)]();}else{_0x41fdb7[_0x3d58b6(0x52d)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x41fdb7[_0x3d58b6(0x6e2)]=_0x3d58b6(0x78d);if(_0x14c1b6){_0x14c1b6[_0x3d58b6(0x397)]=![];const _0x5f8134=_0x466a70[_0x3d58b6(0x103)]||currentQuizData[_0x3d58b6(0x255)];_0x5f8134===_0x3d58b6(0x159)?_0x466a70['stem']=_0x14c1b6[_0x3d58b6(0x760)][_0x3d58b6(0x59f)](_0x14c1b6[_0x3d58b6(0x760)][_0x3d58b6(0x484)]('.')+0x2)[_0x3d58b6(0xd4)]():_0x466a70['questionText']=_0x14c1b6[_0x3d58b6(0x760)][_0x3d58b6(0x59f)](_0x14c1b6['innerText'][_0x3d58b6(0x484)]('.')+0x2)[_0x3d58b6(0xd4)]();}_0x35978c&&(_0x35978c[_0x3d58b6(0x397)]=![],_0x466a70['explanation']=_0x35978c[_0x3d58b6(0x760)]);if(_0x1e5aea){const _0x1203ec=_0x1e5aea['querySelector'](_0x3d58b6(0x4c6));if(_0x1203ec){const _0x3724c8=_0x1203ec['cloneNode'](!![]);_0x3724c8[_0x3d58b6(0x39b)](_0x3d58b6(0x1bb))['forEach'](_0x401a63=>_0x401a63[_0x3d58b6(0x6f8)]()),_0x3724c8[_0x3d58b6(0x39b)]('.draggable-text')[_0x3d58b6(0x335)](_0x54ea7d=>{const _0x109087=_0x3d58b6;_0x54ea7d[_0x109087(0x44b)][_0x109087(0x6f8)]('draggable-text'),_0x54ea7d[_0x109087(0x3ca)]['cursor']='default',_0x54ea7d[_0x109087(0x102)]('id');}),_0x466a70[_0x3d58b6(0x526)]=_0x3724c8[_0x3d58b6(0x42f)],_0x1203ec['removeEventListener'](_0x3d58b6(0x6af),startDrag),_0x1203ec[_0x3d58b6(0x543)]('mousemove',drag),_0x1203ec[_0x3d58b6(0x543)](_0x3d58b6(0x6da),endDrag),_0x1203ec['removeEventListener'](_0x3d58b6(0x316),endDrag),_0x1203ec[_0x3d58b6(0x543)](_0x3d58b6(0x669),startDrag),_0x1203ec['removeEventListener'](_0x3d58b6(0x7d2),drag),_0x1203ec[_0x3d58b6(0x543)](_0x3d58b6(0x512),endDrag),_0x1203ec[_0x3d58b6(0x543)]('touchcancel',endDrag),_0x1203ec['removeEventListener'](_0x3d58b6(0x268),handleSvgEditClick),_0x1203ec[_0x3d58b6(0x39b)](_0x3d58b6(0x1bb))[_0x3d58b6(0x335)](_0x5eb969=>_0x5eb969[_0x3d58b6(0x6f8)]()),_0x1203ec[_0x3d58b6(0x39b)](_0x3d58b6(0x5d7))['forEach'](_0x450a5b=>{const _0x56372f=_0x3d58b6;_0x450a5b[_0x56372f(0x44b)][_0x56372f(0x6f8)](_0x56372f(0x318)),_0x450a5b[_0x56372f(0x3ca)]['cursor']=_0x56372f(0x121);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5302dc){const _0x1f35ec=_0x284edd,_0x37b317=document['getElementById'](_0x1f35ec(0x782)),_0x5c629a=document[_0x1f35ec(0x140)](_0x1f35ec(0x355));_0x5c629a[_0x1f35ec(0x52d)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x37b317[_0x1f35ec(0x44b)][_0x1f35ec(0x6f8)]('hidden');try{const _0x3e4259=doc(db,_0x1f35ec(0x6c1)+appId+_0x1f35ec(0x127),_0x5302dc),_0x138341=await getDoc(_0x3e4259);if(!_0x138341[_0x1f35ec(0x4dc)]())throw new Error(_0x1f35ec(0x30e));currentEditingQuizData={'id':_0x5302dc,..._0x138341[_0x1f35ec(0x5b7)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x55c0e1){console['error'](_0x1f35ec(0x6c3),_0x55c0e1),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x37b317['classList']['add'](_0x1f35ec(0x396));}}function renderQuizEditor(_0xec86bf){const _0x1e64a5=_0x284edd;document['getElementById']('editor-quiz-topic')[_0x1e64a5(0x617)]=_0xec86bf[_0x1e64a5(0x479)];const _0x225f35=document['getElementById']('quiz-editor-questions-container');let _0x403f81=_0xec86bf[_0x1e64a5(0x7d0)][_0x1e64a5(0x666)]((_0x1d5657,_0x88ec5b)=>{const _0x49cb99=_0x1e64a5;let _0x41abc3='';const _0xa85bd6=_0x1d5657[_0x49cb99(0x103)]||_0xec86bf['quizType'];switch(_0xa85bd6){case _0x49cb99(0x267):const _0x421f60=(_0x1d5657['options']||[])['map']((_0x797d92,_0x340559)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x88ec5b+_0x49cb99(0x47f)+_0x340559+'\x22\x20'+(_0x340559===_0x1d5657['correctAnswerIndex']?_0x49cb99(0x61c):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x797d92+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x49cb99(0x4be)]('');_0x41abc3=_0x49cb99(0x185)+_0x421f60+_0x49cb99(0xd5);break;case _0x49cb99(0x4eb):_0x41abc3=_0x49cb99(0x322)+(_0x1d5657[_0x49cb99(0x49c)]||'')+_0x49cb99(0x272);break;case _0x49cb99(0x7de):_0x41abc3=_0x49cb99(0x472)+_0x88ec5b+'\x22\x20value=\x22true\x22\x20'+(_0x1d5657[_0x49cb99(0x7a4)]===!![]?'checked':'')+_0x49cb99(0x4f5)+_0x88ec5b+'\x22\x20value=\x22false\x22\x20'+(_0x1d5657[_0x49cb99(0x7a4)]===![]?_0x49cb99(0x61c):'')+_0x49cb99(0x68e);break;case _0x49cb99(0x159):_0x41abc3=_0x49cb99(0x546)+(_0x1d5657['correctResponse']||'')+_0x49cb99(0x5bb);break;}const _0x12ab3c=_0x1d5657[_0x49cb99(0x28d)]||_0x1d5657[_0x49cb99(0x63f)]||'';return'\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x88ec5b+'\x22\x20data-q-type=\x22'+_0xa85bd6+_0x49cb99(0x5e3)+(_0x88ec5b+0x1)+'\x20('+_0xa85bd6+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x12ab3c+_0x49cb99(0x4a7)+_0x41abc3+_0x49cb99(0x3fb);})[_0x1e64a5(0x4be)]('');_0x225f35[_0x1e64a5(0x52d)]=_0x403f81;}async function handleSaveChanges(){const _0x1f6adf=_0x284edd,_0x49240c=document['getElementById']('save-quiz-edits-btn');_0x49240c[_0x1f6adf(0x54e)]=!![],_0x49240c[_0x1f6adf(0x52d)]=_0x1f6adf(0x556);try{const _0xf869f1=document[_0x1f6adf(0x140)](_0x1f6adf(0x32d))[_0x1f6adf(0x617)],_0x9601bc=document[_0x1f6adf(0x39b)](_0x1f6adf(0x204));let _0x5a05c2=[];const _0xd5c940=Array['from'](_0x9601bc)[_0x1f6adf(0x666)]((_0x12dbf9,_0x1a5cea)=>{const _0x5bea8f=_0x1f6adf,_0x2622d1=_0x12dbf9[_0x5bea8f(0x557)]['qType'],_0x1dd702=_0x12dbf9[_0x5bea8f(0x62c)]('textarea')['value'];let _0x48e55d={'questionType':_0x2622d1};const _0x11d38d=currentEditingQuizData['questions'][_0x1a5cea];switch(_0x2622d1){case _0x5bea8f(0x267):_0x48e55d[_0x5bea8f(0x28d)]=_0x1dd702;const _0x4c01a9=_0x12dbf9[_0x5bea8f(0x39b)](_0x5bea8f(0x55c));_0x48e55d[_0x5bea8f(0x230)]=Array[_0x5bea8f(0x49d)](_0x4c01a9)[_0x5bea8f(0x666)](_0x1ab93b=>_0x1ab93b[_0x5bea8f(0x617)]);const _0x13de68=_0x12dbf9['querySelector'](_0x5bea8f(0x2e6));_0x48e55d[_0x5bea8f(0x31c)]=_0x13de68?parseInt(_0x13de68[_0x5bea8f(0x617)]):0x0;break;case _0x5bea8f(0x4eb):_0x48e55d[_0x5bea8f(0x28d)]=_0x1dd702,_0x48e55d[_0x5bea8f(0x49c)]=_0x12dbf9[_0x5bea8f(0x62c)](_0x5bea8f(0x464))['value'];break;case _0x5bea8f(0x7de):_0x48e55d[_0x5bea8f(0x28d)]=_0x1dd702;const _0x2a64c3=_0x12dbf9[_0x5bea8f(0x62c)]('input[type=\x22radio\x22]:checked');_0x48e55d[_0x5bea8f(0x7a4)]=_0x2a64c3?_0x2a64c3[_0x5bea8f(0x617)]===_0x5bea8f(0x367):!![];break;case _0x5bea8f(0x159):_0x48e55d[_0x5bea8f(0x63f)]=_0x1dd702;const _0x55be4c=_0x12dbf9[_0x5bea8f(0x62c)](_0x5bea8f(0x244));_0x48e55d[_0x5bea8f(0x708)]=_0x55be4c?_0x55be4c[_0x5bea8f(0x617)]:'',_0x5a05c2[_0x5bea8f(0x1b8)](_0x48e55d[_0x5bea8f(0x708)]);break;default:_0x48e55d[_0x5bea8f(0x28d)]=_0x1dd702;break;}return{..._0x11d38d,..._0x48e55d};});_0x5a05c2[_0x1f6adf(0x357)]>0x0&&_0xd5c940[_0x1f6adf(0x335)](_0x322553=>{const _0x258b5b=_0x1f6adf;_0x322553['questionType']===_0x258b5b(0x159)&&(_0x322553[_0x258b5b(0x260)]=_0x5a05c2);});const _0x103791=currentEditingQuizData['id'],_0x1e9911=doc(db,_0x1f6adf(0x6c1)+appId+_0x1f6adf(0x127),_0x103791);await updateDoc(_0x1e9911,{'topic':_0xf869f1,'questions':_0xd5c940}),showMessage(_0x1f6adf(0x489)),document[_0x1f6adf(0x140)](_0x1f6adf(0x782))['classList']['add'](_0x1f6adf(0x396)),showConfirmation(_0x1f6adf(0x274),()=>initiateReGradeProcess(_0x103791)),document[_0x1f6adf(0x140)](_0x1f6adf(0x72b))['querySelector']('h3')[_0x1f6adf(0x61d)]='ตรวจคะแนนใหม่',document['getElementById'](_0x1f6adf(0x3ef))[_0x1f6adf(0x61d)]=_0x1f6adf(0x7cd);}catch(_0x41e37c){console['error'](_0x1f6adf(0x555),_0x41e37c),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x49240c[_0x1f6adf(0x54e)]=![],_0x49240c[_0x1f6adf(0x52d)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x1ee275){const _0x430232=_0x284edd;showMessage(_0x430232(0x386));try{const _0xe703c8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1ee275),_0x4ff8a9=await getDoc(_0xe703c8);if(!_0x4ff8a9[_0x430232(0x4dc)]())throw new Error(_0x430232(0x615));const _0x431472={'id':_0x1ee275,..._0x4ff8a9[_0x430232(0x5b7)]()},_0x49a7f3=collection(db,_0x430232(0x6c1)+appId+_0x430232(0x127),_0x1ee275,_0x430232(0x2f4)),_0x1b09d6=await getDocs(_0x49a7f3);if(_0x1b09d6['empty']){showMessage(_0x430232(0x685));return;}const _0x43d1aa=_0x1b09d6[_0x430232(0x310)]['map'](_0x251db=>reGradeSingleSubmission(_0x251db,_0x431472));await Promise[_0x430232(0x528)](_0x43d1aa);if(_0x431472[_0x430232(0x756)]){const _0x1a95a1=doc(db,'artifacts/'+appId+_0x430232(0x568),_0x431472[_0x430232(0x756)]),_0x350770=await getDoc(_0x1a95a1);if(_0x350770['exists']()&&_0x350770['data']()[_0x430232(0x563)]){const _0x7d7182=_0x350770[_0x430232(0x5b7)]()['students']['map'](_0x66d2c9=>updateStudentProfile(_0x431472[_0x430232(0x756)],_0x66d2c9));await Promise[_0x430232(0x528)](_0x7d7182);}}showMessage(_0x430232(0x614)+_0x1b09d6['size']+_0x430232(0x721));}catch(_0x579d4b){console[_0x430232(0x377)]('Re-grade\x20process\x20failed:',_0x579d4b),showMessage(_0x430232(0x705)+_0x579d4b['message']);}}async function reGradeSingleSubmission(_0x17450d,_0x996bf1){const _0x5d7120=_0x284edd,_0x401a15=_0x17450d['data'](),_0xf1dd0c=_0x401a15[_0x5d7120(0x5c2)],_0x5cd8b1=_0x401a15['attempts']||[],_0x50ebd5=[];for(const _0x500a16 of _0x5cd8b1){let _0x5ec6ae=0x0,_0x41731c=[],_0x52de7f=0x0;const _0xa42a1=[];for(const _0x204039 of _0x500a16['answers']){const _0x1f6539=_0x996bf1[_0x5d7120(0x7d0)]['find'](_0xea6625=>(_0xea6625['questionText']||_0xea6625[_0x5d7120(0x63f)])===_0x204039['originalQuestionText']);let _0x35e049=![];if(_0x1f6539){const _0xd5733c=_0x1f6539[_0x5d7120(0x103)]||_0x996bf1['quizType'];switch(_0xd5733c){case _0x5d7120(0x267):if(_0x1f6539['options']&&_0x1f6539[_0x5d7120(0x31c)]<_0x1f6539[_0x5d7120(0x230)][_0x5d7120(0x357)]){const _0x3da897=_0x1f6539[_0x5d7120(0x230)][_0x1f6539[_0x5d7120(0x31c)]];_0x35e049=_0x204039['answerText']===_0x3da897;}break;case _0x5d7120(0x7de):const _0x2307d4=_0x204039[_0x5d7120(0x106)]===!![]||_0x204039[_0x5d7120(0x106)]===_0x5d7120(0x367);_0x35e049=_0x2307d4===_0x1f6539[_0x5d7120(0x7a4)];break;case'matching_item':_0x35e049=_0x204039['answer']===_0x1f6539['correctResponse'];break;case _0x5d7120(0x4eb):_0x35e049=await gradeShortAnswer(_0x204039[_0x5d7120(0x106)],_0x1f6539);break;default:_0x35e049=_0x204039[_0x5d7120(0x6e4)];break;}}if(_0x35e049){_0x5ec6ae++,_0x52de7f++;if(_0x52de7f===0x3)_0x41731c[_0x5d7120(0x1b8)](BADGES[_0x5d7120(0x105)]['id']);}else _0x52de7f=0x0;_0xa42a1[_0x5d7120(0x1b8)]({..._0x204039,'isCorrect':_0x35e049});}let _0x2c94c2=_0x5ec6ae*0xa;_0x5ec6ae===_0x996bf1[_0x5d7120(0x7d0)][_0x5d7120(0x357)]&&(_0x2c94c2+=0x32,_0x41731c[_0x5d7120(0x1b8)](BADGES[_0x5d7120(0x6c0)]['id'])),_0x50ebd5[_0x5d7120(0x1b8)]({..._0x500a16,'score':_0x5ec6ae,'points':_0x2c94c2,'badges':Array[_0x5d7120(0x49d)](new Set(_0x41731c)),'answers':_0xa42a1});}const _0x2e94d6=_0x50ebd5[_0x5d7120(0x357)]>0x0?_0x50ebd5[0x0][_0x5d7120(0x1bc)]:0x0,_0x2b293f=Math['max'](..._0x50ebd5[_0x5d7120(0x666)](_0x193c7f=>_0x193c7f[_0x5d7120(0x1bc)])),_0x7e9b9d=_0x50ebd5['length']>0x0?_0x50ebd5[_0x50ebd5[_0x5d7120(0x357)]-0x1]['score']:0x0,_0x10f743=_0x50ebd5[_0x5d7120(0x357)]>0x0?_0x50ebd5[_0x50ebd5[_0x5d7120(0x357)]-0x1][_0x5d7120(0x131)]:0x0,_0x4c21bb=doc(db,_0x5d7120(0x6c1)+appId+_0x5d7120(0x65e)+_0x996bf1['id']+'/submissions',_0xf1dd0c);await updateDoc(_0x4c21bb,{'attempts':_0x50ebd5,'firstScore':_0x2e94d6,'bestScore':_0x2b293f,'latestScore':_0x7e9b9d,'points':_0x10f743});}async function saveQuiz(){const _0x3a39f0=_0x284edd;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3a39f0(0x7d0)]||!userId){showMessage(_0x3a39f0(0x36c));return;}const _0x206c88=document['getElementById'](_0x3a39f0(0x723));_0x206c88['disabled']=!![],_0x206c88[_0x3a39f0(0x52d)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x3f9e15=document[_0x3a39f0(0x140)](_0x3a39f0(0x75b))[_0x3a39f0(0x61c)];let _0x12e472=document[_0x3a39f0(0x140)]('editable-quiz-topic')[_0x3a39f0(0x760)]['trim']();_0x3f9e15&&!_0x12e472['startsWith'](_0x3a39f0(0x619))&&(_0x12e472=_0x3a39f0(0x6d0)+_0x12e472);try{const _0x1bab17={'resultsDisplay':document[_0x3a39f0(0x140)](_0x3a39f0(0x57a))[_0x3a39f0(0x617)],'shuffle':document['getElementById']('shuffle-setting-select')[_0x3a39f0(0x617)],'timerMode':document[_0x3a39f0(0x140)](_0x3a39f0(0xd0))['value'],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x3a39f0(0x617)])||0xa,'passingScore':parseInt(document[_0x3a39f0(0x140)](_0x3a39f0(0x562))[_0x3a39f0(0x617)])||0x0,'isAdaptive':document[_0x3a39f0(0x140)](_0x3a39f0(0x2b3))['checked']},_0x593af0=(currentQuizData[_0x3a39f0(0x7d0)]||[])[_0x3a39f0(0x666)](_0x40f689=>{const _0x50fa55=_0x3a39f0,_0x1a3218=document[_0x50fa55(0x140)](_0x50fa55(0x7cf))[_0x50fa55(0x617)],_0x3fbf49={'questionText':_0x40f689['questionText']||'','explanation':_0x40f689[_0x50fa55(0x48b)]||'ไม่มีคำอธิบาย','questionType':_0x40f689[_0x50fa55(0x103)]||_0x1a3218,'imageCode':_0x40f689[_0x50fa55(0x526)]||null};return(_0x3fbf49['questionType']==='multiple_choice'||_0x3fbf49[_0x50fa55(0x103)]===_0x50fa55(0x672)||_0x3fbf49[_0x50fa55(0x103)]===_0x50fa55(0x197)&&_0x40f689['options'])&&(_0x3fbf49[_0x50fa55(0x230)]=_0x40f689[_0x50fa55(0x230)]||[],_0x3fbf49[_0x50fa55(0x31c)]=_0x40f689[_0x50fa55(0x31c)]!==undefined?_0x40f689[_0x50fa55(0x31c)]:0x0),(_0x3fbf49[_0x50fa55(0x103)]==='short_answer'||_0x3fbf49[_0x50fa55(0x103)]===_0x50fa55(0x4b4)||_0x3fbf49['questionType']===_0x50fa55(0x197)&&_0x40f689['idealAnswer'])&&(_0x3fbf49[_0x50fa55(0x49c)]=_0x40f689[_0x50fa55(0x49c)]||''),_0x3fbf49[_0x50fa55(0x103)]===_0x50fa55(0x7de)&&(_0x3fbf49['correctAnswer']=_0x40f689[_0x50fa55(0x7a4)]===!![]),_0x3fbf49[_0x50fa55(0x103)]===_0x50fa55(0x159)&&(_0x3fbf49[_0x50fa55(0x63f)]=_0x40f689[_0x50fa55(0x63f)]||'',_0x3fbf49[_0x50fa55(0x708)]=_0x40f689[_0x50fa55(0x708)]||'',_0x3fbf49['allResponses']=_0x40f689[_0x50fa55(0x260)]||[]),_0x3fbf49;}),_0x25f47a={'topic':_0x12e472,'quizType':currentQuizData[_0x3a39f0(0x255)]||_0x3a39f0(0x267),'questions':_0x593af0,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x3a39f0(0x744),'settings':_0x1bab17,'quizMode':_0x3f9e15?_0x3a39f0(0x10f):_0x3a39f0(0x21c),'pairedQuizId':null,'lessonPlan':null};let _0x1052af;while(!![]){_0x1052af=Math[_0x3a39f0(0x4b2)](0x3e8+Math[_0x3a39f0(0x70f)]()*0x2328)[_0x3a39f0(0x722)]();const _0x5f05e2=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1052af));if(!_0x5f05e2[_0x3a39f0(0x4dc)]())break;}await setDoc(doc(db,_0x3a39f0(0x6c1)+appId+_0x3a39f0(0x127),_0x1052af),_0x25f47a),currentQuizData[_0x3a39f0(0x78b)]=_0x1bab17,currentQuizData['id']=_0x1052af;const _0x154af8=document[_0x3a39f0(0x140)](_0x3a39f0(0x50f));_0x154af8[_0x3a39f0(0x52d)]=_0x3a39f0(0x2ae)+_0x1052af+_0x3a39f0(0x45f),document[_0x3a39f0(0x140)](_0x3a39f0(0xe6))['addEventListener'](_0x3a39f0(0x268),()=>copyTextToClipboard(_0x1052af,_0x3a39f0(0x494))),document['getElementById'](_0x3a39f0(0x27e))[_0x3a39f0(0x14b)](_0x3a39f0(0x268),()=>handleStartLiveRace(_0x1052af)),document['getElementById']('start-presentation-btn')['addEventListener']('click',()=>startPresentation(currentQuizData)),document[_0x3a39f0(0x140)]('admin-try-quiz-btn')[_0x3a39f0(0x14b)](_0x3a39f0(0x268),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x47e35a){console[_0x3a39f0(0x377)](_0x3a39f0(0x1c2),_0x47e35a),showMessage(_0x3a39f0(0x76b)),_0x206c88[_0x3a39f0(0x54e)]=![],_0x206c88[_0x3a39f0(0x52d)]=_0x3a39f0(0x5fe);}}function promptForProjectAndSave(){const _0x45c907=_0x284edd,_0xd57137=document[_0x45c907(0x140)](_0x45c907(0x3c6)),_0x3f2c82=document['getElementById'](_0x45c907(0x3ea)),_0x517331=_0xd57137['querySelector']('h3'),_0x3949e5=document[_0x45c907(0x140)](_0x45c907(0x4ff));_0x517331[_0x45c907(0x61d)]='เลือกโปรเจคเพื่อบันทึก',_0x3949e5[_0x45c907(0x61d)]=_0x45c907(0x5e6);allProjects[_0x45c907(0x357)]===0x0?(_0x3f2c82['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x3949e5[_0x45c907(0x54e)]=!![]):(_0x3f2c82[_0x45c907(0x52d)]=allProjects['map'](_0x488dbd=>'<option\x20value=\x22'+_0x488dbd['id']+'\x22>'+_0x488dbd[_0x45c907(0x45b)]+_0x45c907(0x4f7))[_0x45c907(0x4be)](''),_0x3949e5[_0x45c907(0x54e)]=![]);_0xd57137[_0x45c907(0x44b)][_0x45c907(0x6f8)](_0x45c907(0x396));const _0x40474a=()=>{const _0x1577ee=_0x45c907,_0x4d6b7d=_0x3f2c82[_0x1577ee(0x617)];_0x4d6b7d?(currentProjectId=_0x4d6b7d,_0xd57137[_0x1577ee(0x44b)][_0x1577ee(0x281)](_0x1577ee(0x396)),saveQuiz(),_0x517331[_0x1577ee(0x61d)]=_0x1577ee(0x60b),_0x3949e5[_0x1577ee(0x61d)]=_0x1577ee(0x583),_0x3949e5[_0x1577ee(0x543)](_0x1577ee(0x268),_0x40474a),_0x3949e5['addEventListener'](_0x1577ee(0x268),confirmMoveQuiz)):showMessage(_0x1577ee(0x5c0));};_0x3949e5[_0x45c907(0x543)](_0x45c907(0x268),confirmMoveQuiz),_0x3949e5[_0x45c907(0x14b)]('click',_0x40474a);}function copyTextToClipboard(_0x3bf9c2,_0x3ed199){const _0x19ac8f=_0x284edd,_0x5550df=document['createElement'](_0x19ac8f(0x5ee));_0x5550df['value']=_0x3bf9c2,_0x5550df[_0x19ac8f(0x3ca)]['position']=_0x19ac8f(0x78c),_0x5550df[_0x19ac8f(0x3ca)]['opacity']='0',document['body'][_0x19ac8f(0x34f)](_0x5550df),_0x5550df[_0x19ac8f(0x651)](),_0x5550df[_0x19ac8f(0x3e8)]();try{const _0x2c7e85=document[_0x19ac8f(0x3a6)](_0x19ac8f(0x58c));showMessage(_0x2c7e85?_0x3ed199:'คัดลอกไม่สำเร็จ');}catch(_0x5a524e){showMessage(_0x19ac8f(0x5b3)),console[_0x19ac8f(0x377)](_0x19ac8f(0x315),_0x5a524e);}document[_0x19ac8f(0x4a8)][_0x19ac8f(0x2c8)](_0x5550df);}function listenForProjectQuizzes(_0x1edf38){const _0xfe402f=_0x284edd,_0x42167d=collection(db,'artifacts/'+appId+_0xfe402f(0x127)),_0x3333fd=query(_0x42167d,where(_0xfe402f(0x756),'==',_0x1edf38));unsubscribeQuizzesListener=onSnapshot(_0x3333fd,async _0xfd55bf=>{const _0xc7948d=_0xfe402f;allQuizzes=_0xfd55bf[_0xc7948d(0x310)][_0xc7948d(0x666)](_0x1067d3=>({'id':_0x1067d3['id'],..._0x1067d3[_0xc7948d(0x5b7)]()})),renderQuizzes();},_0x197fbf=>{const _0x1eb79e=_0xfe402f;console[_0x1eb79e(0x377)](_0x1eb79e(0x4a6),_0x197fbf),document[_0x1eb79e(0x140)](_0x1eb79e(0x434))[_0x1eb79e(0x52d)]=_0x1eb79e(0x401);});}async function renderQuizzes(){const _0x419aaa=_0x284edd,_0x4765b0=document[_0x419aaa(0x140)](_0x419aaa(0x434)),_0x1fafe5=document['getElementById'](_0x419aaa(0x633))[_0x419aaa(0x617)][_0x419aaa(0x6d3)]();let _0x34922f;currentProjectId===_0x419aaa(0x148)?_0x34922f=starredQuizzes:_0x34922f=allQuizzes;let _0x7099b9=_0x34922f[_0x419aaa(0x3fe)](_0xc04e82=>_0xc04e82[_0x419aaa(0x479)][_0x419aaa(0x6d3)]()[_0x419aaa(0x4ab)](_0x1fafe5));_0x7099b9['sort']((_0x189619,_0x2f8a83)=>new Date(_0x2f8a83[_0x419aaa(0x54a)])-new Date(_0x189619[_0x419aaa(0x54a)]));if(_0x7099b9[_0x419aaa(0x357)]===0x0){_0x4765b0[_0x419aaa(0x52d)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x455b1d={},_0x2d85b8=_0x7099b9[_0x419aaa(0x666)](async _0x404426=>{const _0x111cfb=_0x419aaa,_0x1b3639=collection(db,_0x111cfb(0x6c1)+appId+_0x111cfb(0x65e)+_0x404426['id']+_0x111cfb(0x5f7)),_0x1c9174=await getDocs(_0x1b3639);_0x455b1d[_0x404426['id']]=_0x1c9174[_0x111cfb(0x7a9)];});await Promise[_0x419aaa(0x528)](_0x2d85b8);let _0x409adf='';_0x7099b9[_0x419aaa(0x335)](_0x599aed=>{const _0x2ac95a=_0x419aaa,_0xc4ea6c=_0x455b1d[_0x599aed['id']]||0x0,_0x2cb409=_0x599aed[_0x2ac95a(0x5df)]||'active',_0x3f5ac9=_0x599aed[_0x2ac95a(0x78b)]?.[_0x2ac95a(0x23e)]||'none';let _0x459a78='',_0x4da9a7='';const _0x44528f=new Date();let _0x57eed8=_0x2cb409;if(_0x2cb409===_0x2ac95a(0x2fe)){const _0x28f339=_0x599aed[_0x2ac95a(0x4d6)]?new Date(_0x599aed[_0x2ac95a(0x4d6)]):null,_0x3a4141=_0x599aed[_0x2ac95a(0x74a)]?new Date(_0x599aed[_0x2ac95a(0x74a)]):null;if(_0x3a4141&&_0x44528f>_0x3a4141)_0x57eed8=_0x2ac95a(0x2a7);else _0x28f339&&_0x44528f<_0x28f339?_0x57eed8=_0x2ac95a(0x7aa):_0x57eed8=_0x2ac95a(0x744);}switch(_0x57eed8){case _0x2ac95a(0x2a7):_0x459a78=_0x2ac95a(0x3f6),_0x4da9a7='text-red-700\x20bg-red-100';break;case _0x2ac95a(0x7aa):_0x459a78=_0x2ac95a(0x4f4),_0x4da9a7=_0x2ac95a(0x1b7);break;case _0x2ac95a(0x744):_0x459a78=_0x3f5ac9!==_0x2ac95a(0x3e7)?_0x2ac95a(0x508):_0x2ac95a(0x43e),_0x4da9a7='text-green-700\x20bg-green-100';break;default:_0x459a78=_0x2ac95a(0x73b),_0x4da9a7='text-green-700\x20bg-green-100';}let _0x43ff8c='';const _0x46a661={'day':'2-digit','month':_0x2ac95a(0x1e6),'year':_0x2ac95a(0x311),'hour':'2-digit','minute':'2-digit','hour12':![]};_0x2cb409===_0x2ac95a(0x2fe)&&(_0x599aed[_0x2ac95a(0x4d6)]&&(_0x43ff8c+=_0x2ac95a(0x603)+new Date(_0x599aed['startTime'])[_0x2ac95a(0x720)](_0x2ac95a(0x144),_0x46a661)+_0x2ac95a(0x18d)),_0x599aed['endTime']&&(_0x43ff8c+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x599aed['endTime'])[_0x2ac95a(0x720)](_0x2ac95a(0x144),_0x46a661)+_0x2ac95a(0x18d)));let _0x19c4f8='';if(_0xc4ea6c>0x0){if(_0x599aed[_0x2ac95a(0x7b8)]===_0x2ac95a(0x35e)&&_0x599aed['pairedQuizId'])_0x19c4f8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x599aed['id']+_0x2ac95a(0x692)+_0x599aed[_0x2ac95a(0x1eb)]+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x20Pre/Post\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{const _0x1a0b61=_0x599aed[_0x2ac95a(0x7b8)]===_0x2ac95a(0x10f),_0x23b58f=_0x1a0b61?_0x2ac95a(0x308):_0x2ac95a(0x1bd),_0x39a097=_0x1a0b61?'สร้างเนื้อหาสอน':'วิเคราะห์ผล';_0x19c4f8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x599aed['id']+_0x2ac95a(0x422)+_0x23b58f+_0x2ac95a(0x415)+_0x39a097+_0x2ac95a(0x33f);}}_0x409adf+=_0x2ac95a(0x6d1)+_0x599aed['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x599aed['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x599aed[_0x2ac95a(0x7d0)]['length']+_0x2ac95a(0x6a7)+new Date(_0x599aed[_0x2ac95a(0x54a)])[_0x2ac95a(0x720)]('th-TH')+_0x2ac95a(0x58d)+_0xc4ea6c+_0x2ac95a(0x63c)+_0x43ff8c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x4da9a7+'\x22>'+_0x459a78+_0x2ac95a(0x419)+_0x599aed['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-x-4\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x599aed['id']+_0x2ac95a(0x796)+(_0x599aed[_0x2ac95a(0x799)]?_0x2ac95a(0x4b0):_0x2ac95a(0x194))+_0x2ac95a(0x763)+_0x19c4f8+_0x2ac95a(0x3be)+_0x599aed['id']+_0x2ac95a(0x54c)+_0x599aed['id']+_0x2ac95a(0x6e3)+_0x599aed['id']+_0x2ac95a(0x790)+_0x599aed['id']+_0x2ac95a(0x39d)+_0x599aed['id']+_0x2ac95a(0x683)+_0x599aed[_0x2ac95a(0x479)]+_0x2ac95a(0x46b)+_0x599aed['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x599aed['id']+_0x2ac95a(0x6e8)+_0x599aed['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x599aed['id']+_0x2ac95a(0x7ba)+_0x599aed['id']+_0x2ac95a(0x168)+_0x599aed['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x599aed['id']+_0x2ac95a(0x683)+_0x599aed['topic']+_0x2ac95a(0x6de);}),_0x4765b0[_0x419aaa(0x52d)]=_0x409adf,document['querySelectorAll'](_0x419aaa(0x10a))[_0x419aaa(0x335)](_0x10bb56=>{const _0x41b49f=_0x419aaa;_0x10bb56[_0x41b49f(0x14b)](_0x41b49f(0x268),()=>{const _0x496ed6=_0x10bb56['dataset']['quizId'];showQuizDetailView(_0x496ed6);});});}function formatAndPrintLessonPlan(_0x2436f7,_0x36ff6){const _0x3cf08f=_0x284edd,_0x58df40=window[_0x3cf08f(0x524)]('',_0x3cf08f(0x676)),_0x31ddda=_0x3cf08f(0x19e)+_0x36ff6[_0x3cf08f(0x479)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x36ff6[_0x3cf08f(0x479)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2436f7[_0x3cf08f(0x17d)][_0x3cf08f(0x666)](_0x2b17b8=>_0x3cf08f(0x4d2)+_0x2b17b8+_0x3cf08f(0x2fb))[_0x3cf08f(0x4be)]('')+_0x3cf08f(0x418)+_0x2436f7[_0x3cf08f(0x1f2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2436f7['practiceProblems'][_0x3cf08f(0x666)](_0x23cf51=>_0x3cf08f(0xeb)+_0x23cf51[_0x3cf08f(0x27d)]+_0x3cf08f(0x47c)+_0x23cf51[_0x3cf08f(0x47a)]+_0x3cf08f(0x57b))[_0x3cf08f(0x4be)]('')+_0x3cf08f(0x700);_0x58df40['document']['write'](_0x31ddda),_0x58df40['document'][_0x3cf08f(0x207)](),_0x58df40['onload']=function(){setTimeout(()=>{_0x58df40['print']();},0x3e8);};}async function handleGenerateLessonPlan(_0x12cd7c){const _0x57d902=_0x284edd;showMessage(_0x57d902(0x2d7));try{const _0xc9de6b=doc(db,'artifacts/'+appId+_0x57d902(0x127),_0x12cd7c),_0x2cd1f8=await getDoc(_0xc9de6b);if(!_0x2cd1f8[_0x57d902(0x4dc)]())throw new Error(_0x57d902(0x615));const _0x175402={'id':_0x12cd7c,..._0x2cd1f8['data']()},_0x569856=collection(db,_0x57d902(0x6c1)+appId+'/public/data/quizzes',_0x12cd7c,_0x57d902(0x2f4)),_0x262fae=await getDocs(_0x569856),_0x2347b3=_0x262fae[_0x57d902(0x310)]['map'](_0x416b7f=>_0x416b7f[_0x57d902(0x5b7)]());if(_0x2347b3[_0x57d902(0x357)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x1e0176=calculateItemAnalysis(_0x175402,_0x2347b3)[_0x57d902(0x68c)],_0x4fc630=calculateDistractorAnalysis(_0x175402,_0x2347b3),_0x551f97=_0x1197eb=>{const _0x13c33d=_0x57d902;if(!_0x1197eb)return'';return _0x1197eb[_0x13c33d(0x618)](/\\/g,'\x5c\x5c')[_0x13c33d(0x618)](/"/g,'\x5c\x22')[_0x13c33d(0x618)](/\n/g,'\x5cn');};let _0x5e440d=_0x57d902(0x3a3);_0x175402[_0x57d902(0x7d0)][_0x57d902(0x335)]((_0x10ac3a,_0x409d9c)=>{const _0x2e84e3=_0x57d902,_0x3bfc0b=_0x1e0176[_0x409d9c]?.['p']['toFixed'](0x2)||'N/A',_0x37cdea=_0x1e0176[_0x409d9c]?.['r'][_0x2e84e3(0x1a2)](0x2)||'N/A',_0x3f1b23=_0x551f97(_0x10ac3a['questionText']||_0x10ac3a['stem']);_0x5e440d+=_0x2e84e3(0x582)+(_0x409d9c+0x1)+_0x2e84e3(0x6db)+_0x3bfc0b+_0x2e84e3(0x72c)+_0x37cdea+_0x2e84e3(0x378)+_0x3f1b23+'\x5cn';if(_0x10ac3a[_0x2e84e3(0x103)]==='multiple_choice'&&_0x4fc630[_0x409d9c]){const _0x1c99d0=_0x4fc630[_0x409d9c],_0x2cbb47=Object[_0x2e84e3(0x74d)](_0x1c99d0)[_0x2e84e3(0x3fe)](_0x2b860e=>parseInt(_0x2b860e)!==_0x10ac3a['correctAnswerIndex'])[_0x2e84e3(0x137)]((_0x4108a1,_0x4e85be)=>_0x1c99d0[_0x4e85be]['total']-_0x1c99d0[_0x4108a1][_0x2e84e3(0x5cf)])[0x0];if(_0x2cbb47&&_0x1c99d0[_0x2cbb47][_0x2e84e3(0x5cf)]>0x0){const _0x549caf=_0x551f97(_0x1c99d0[_0x2cbb47][_0x2e84e3(0x1fd)]);_0x5e440d+=_0x2e84e3(0x7c4)+_0x549caf+_0x2e84e3(0x291);}}});const _0x599c67=_0x57d902(0x778)+_0x175402[_0x57d902(0x479)]+_0x57d902(0x1e0)+_0x5e440d+_0x57d902(0x320),_0x5b0723={'type':_0x57d902(0xd1),'properties':{'learningGaps':{'type':_0x57d902(0x696),'items':{'type':_0x57d902(0x1d1)}},'teachingContent':{'type':_0x57d902(0x1d1)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x57d902(0xd1),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x57d902(0x1d1)}}}}},'required':['learningGaps','teachingContent',_0x57d902(0x6b9)]},_0x3a8a46=await callAnalysisApi(_0x599c67,_0x5b0723);await updateDoc(_0xc9de6b,{'lessonPlan':_0x3a8a46});const _0x3d1f18=_0x57d902(0x6f2)+_0x175402['topic']+_0x57d902(0x147)+_0x3a8a46['learningGaps'][_0x57d902(0x666)](_0x35bdc0=>_0x57d902(0x4d2)+_0x35bdc0+_0x57d902(0x2fb))[_0x57d902(0x4be)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x3a8a46['teachingContent']+_0x57d902(0x57f)+_0x3a8a46[_0x57d902(0x6b9)][_0x57d902(0x666)](_0x51fec7=>_0x57d902(0x4cc)+_0x51fec7[_0x57d902(0x27d)]+_0x57d902(0x411)+_0x51fec7[_0x57d902(0x47a)]+_0x57d902(0x4ad))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x57d902(0x140)]('lesson-plan-title')['textContent']=_0x57d902(0x481)+_0x175402['topic'],document[_0x57d902(0x140)]('lesson-plan-content')['innerHTML']=_0x3d1f18,document['getElementById'](_0x57d902(0x1d9))['classList'][_0x57d902(0x6f8)](_0x57d902(0x396));if(window['MathJax'])MathJax[_0x57d902(0x41b)]();messageModal[_0x57d902(0x44b)][_0x57d902(0x281)](_0x57d902(0x396));}catch(_0x35a251){console[_0x57d902(0x377)](_0x57d902(0x389),_0x35a251),showMessage(_0x57d902(0x407)+_0x35a251[_0x57d902(0xf2)]);}}async function handleDuplicateQuiz(_0x5cd1a9){const _0xadc94c=_0x284edd;try{const _0x240739=doc(db,_0xadc94c(0x6c1)+appId+_0xadc94c(0x127),_0x5cd1a9),_0x3af8fa=await getDoc(_0x240739);if(_0x3af8fa[_0xadc94c(0x4dc)]()){const _0x307445=_0x3af8fa[_0xadc94c(0x5b7)]();let _0x21f766=_0x307445[_0xadc94c(0x479)];_0x21f766[_0xadc94c(0x1c6)]('(ก่อนเรียน)')&&(_0x21f766=_0x21f766[_0xadc94c(0x618)]('(ก่อนเรียน)','')[_0xadc94c(0xd4)]());const _0x121134=_0xadc94c(0x1ff)+_0x21f766,_0x334b75={..._0x307445,'topic':_0x121134,'createdAt':new Date()[_0xadc94c(0x2ea)](),'quizMode':_0x307445[_0xadc94c(0x7b8)]===_0xadc94c(0x10f)?'post-test':_0xadc94c(0x21c),'pairedQuizId':_0x307445[_0xadc94c(0x7b8)]===_0xadc94c(0x10f)?_0x5cd1a9:null};let _0x363427;while(!![]){_0x363427=Math['floor'](0x3e8+Math['random']()*0x2328)[_0xadc94c(0x722)]();const _0xcfab2f=await getDoc(doc(db,_0xadc94c(0x6c1)+appId+_0xadc94c(0x127),_0x363427));if(!_0xcfab2f[_0xadc94c(0x4dc)]())break;}const _0x19fa69=doc(db,_0xadc94c(0x6c1)+appId+_0xadc94c(0x127),_0x363427);await setDoc(_0x19fa69,_0x334b75),_0x334b75['quizMode']===_0xadc94c(0x35e)&&await updateDoc(_0x240739,{'pairedQuizId':_0x363427}),showMessage(_0xadc94c(0x36a));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x31d698){console[_0xadc94c(0x377)]('Error\x20duplicating\x20quiz:',_0x31d698),showMessage(_0xadc94c(0x14a));}}async function handleDeleteQuiz(_0xc5b938,_0x58c129=!![]){const _0x1bba9f=_0x284edd;try{const _0x3c34c1=writeBatch(db),_0x43db11=collection(db,'artifacts/'+appId+_0x1bba9f(0x65e)+_0xc5b938+_0x1bba9f(0x5f7)),_0x168138=await getDocs(_0x43db11);_0x168138[_0x1bba9f(0x335)](_0x2a46b6=>{const _0x555562=_0x1bba9f;_0x3c34c1[_0x555562(0x41a)](doc(_0x43db11,_0x2a46b6['id']));});const _0x255510=doc(db,_0x1bba9f(0x6c1)+appId+'/public/data/quizzes',_0xc5b938);_0x3c34c1[_0x1bba9f(0x41a)](_0x255510),await _0x3c34c1[_0x1bba9f(0x247)](),_0x58c129&&showMessage(_0x1bba9f(0x6dd));}catch(_0x5023e0){console[_0x1bba9f(0x377)]('Error\x20deleting\x20quiz:',_0x5023e0),_0x58c129&&showMessage(_0x1bba9f(0x33b));}}async function showQuizDetailView(_0x5b9a91){const _0x8a789f=_0x284edd;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x8a789f(0x29d));try{const _0x115685=doc(db,_0x8a789f(0x6c1)+appId+_0x8a789f(0x127),_0x5b9a91),_0x55bed1=await getDoc(_0x115685);if(!_0x55bed1[_0x8a789f(0x4dc)]()){showMessage(_0x8a789f(0x615));return;}const _0x2a5c91={'id':_0x55bed1['id'],..._0x55bed1[_0x8a789f(0x5b7)]()};currentQuizData=_0x2a5c91;const _0x428066=doc(db,_0x8a789f(0x6c1)+appId+_0x8a789f(0x568),_0x2a5c91[_0x8a789f(0x756)]),_0x29f121=await getDoc(_0x428066);_0x29f121['exists']()?(currentProjectData=_0x29f121[_0x8a789f(0x5b7)](),currentProjectId=_0x2a5c91[_0x8a789f(0x756)]):(currentProjectData={'students':[]},currentProjectId=_0x2a5c91['projectId']);document['getElementById'](_0x8a789f(0x447))['textContent']=_0x2a5c91['topic'],document[_0x8a789f(0x140)](_0x8a789f(0x3b3))[_0x8a789f(0x61d)]=_0x5b9a91;const _0x3b53c3=collection(db,_0x8a789f(0x6c1)+appId+_0x8a789f(0x127),_0x5b9a91,_0x8a789f(0x2f4));unsubscribeSubmissionsListener=onSnapshot(_0x3b53c3,_0x48c547=>{const _0x5d3ff1=_0x8a789f,_0x4205d7=_0x48c547[_0x5d3ff1(0x310)][_0x5d3ff1(0x666)](_0x2adf17=>({'id':_0x2adf17['id'],..._0x2adf17[_0x5d3ff1(0x5b7)]()}));currentSubmissions=_0x4205d7,renderAnswerGrid(currentProjectData['students'],_0x4205d7,_0x2a5c91),renderAnalytics(_0x2a5c91,_0x4205d7),renderQuizResultsTable(currentProjectData[_0x5d3ff1(0x563)],_0x4205d7,_0x2a5c91),renderQuizLeaderboard(_0x4205d7,_0x2a5c91,_0x5d3ff1(0x13a));}),showView('quiz-results');}catch(_0x5d6194){console[_0x8a789f(0x377)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x5d6194),showMessage(_0x8a789f(0x5ba));}}function renderAnswerGrid(_0x21be65,_0x53ec8e,_0xcfeb36){const _0x492d2c=_0x284edd,_0x2b6cb1=document[_0x492d2c(0x140)](_0x492d2c(0x161));if(!_0x2b6cb1)return;if(!_0x21be65||_0x21be65[_0x492d2c(0x357)]===0x0){_0x2b6cb1[_0x492d2c(0x52d)]=_0x492d2c(0x16c);return;}const _0xa3ff2f=_0xcfeb36[_0x492d2c(0x7d0)],_0x9feed3=_0x53ec8e['reduce']((_0xa9df03,_0x6e85ad)=>{const _0x220f6c=_0x492d2c;return _0xa9df03[_0x6e85ad[_0x220f6c(0x5c2)]]=_0x6e85ad,_0xa9df03;},{}),_0x1c5c83=_0x4e48b1=>String[_0x492d2c(0x3f5)](0x41+_0x4e48b1),_0x47b31d=_0x2a141a=>{const _0x1b8ac9=_0x492d2c,_0x198827=_0x2a141a[_0x1b8ac9(0x103)]||_0xcfeb36[_0x1b8ac9(0x255)];switch(_0x198827){case _0x1b8ac9(0x267):return _0x2a141a[_0x1b8ac9(0x230)]&&_0x2a141a[_0x1b8ac9(0x230)]['length']>_0x2a141a[_0x1b8ac9(0x31c)]?_0x1c5c83(_0x2a141a['correctAnswerIndex']):'-';case _0x1b8ac9(0x7de):return _0x2a141a[_0x1b8ac9(0x7a4)]?'ใช่':_0x1b8ac9(0x59b);case'matching_item':return _0x2a141a['correctResponse']||'-';case _0x1b8ac9(0x4eb):return _0x1b8ac9(0x48d);default:return'-';}},_0xb08c26=(_0x17a77c,_0xa8d852)=>{const _0x47bb6f=_0x492d2c;if(_0xa8d852[_0x47bb6f(0x106)]===null||_0xa8d852[_0x47bb6f(0x106)]===undefined)return'-';const _0x594df7=_0x17a77c[_0x47bb6f(0x103)]||_0xcfeb36[_0x47bb6f(0x255)];switch(_0x594df7){case'multiple_choice':const _0x5f0193=_0x17a77c[_0x47bb6f(0x230)]['findIndex'](_0x4d6f41=>_0x4d6f41===_0xa8d852['answerText']);return _0x5f0193!==-0x1?_0x1c5c83(_0x5f0193):_0xa8d852[_0x47bb6f(0x368)]||'-';case _0x47bb6f(0x7de):return _0xa8d852[_0x47bb6f(0x106)]===_0x47bb6f(0x367)||_0xa8d852[_0x47bb6f(0x106)]===!![]?_0x47bb6f(0x3d3):_0x47bb6f(0x59b);default:return _0xa8d852[_0x47bb6f(0x106)];}};let _0x49d32b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa3ff2f[_0x492d2c(0x666)]((_0x14b471,_0x2b9919)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x2b9919+0x1)+'</th>')[_0x492d2c(0x4be)]('')+_0x492d2c(0x3fc)+_0xa3ff2f['map'](_0x22fd03=>_0x492d2c(0x275)+_0x47b31d(_0x22fd03)+_0x492d2c(0x11c))[_0x492d2c(0x4be)]('')+_0x492d2c(0x76e);_0x21be65[_0x492d2c(0x335)](_0x5375bd=>{const _0x32039c=_0x492d2c;_0x49d32b+=_0x32039c(0x554),_0x49d32b+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x5375bd+_0x32039c(0x11c);const _0xb84404=_0x9feed3[_0x5375bd];if(_0xb84404){const _0xb34a91=_0xb84404['attempts'][_0xb84404[_0x32039c(0x2bb)][_0x32039c(0x357)]-0x1];_0xa3ff2f[_0x32039c(0x335)]((_0x4bc37c,_0x313a8f)=>{const _0x597b53=_0x32039c,_0x3a8355=_0xb34a91[_0x597b53(0x6d2)][_0x597b53(0x4b7)](_0x39b7a9=>_0x39b7a9[_0x597b53(0x4ca)]===(_0x4bc37c[_0x597b53(0x63f)]||_0x4bc37c[_0x597b53(0x28d)]));if(_0x3a8355){let _0xa3bb4a=![];const _0xd27050=_0x4bc37c[_0x597b53(0x103)]||_0xcfeb36[_0x597b53(0x255)];if(_0x3a8355[_0x597b53(0x106)]!==null&&_0x3a8355['answer']!==undefined)switch(_0xd27050){case _0x597b53(0x267):const _0x2435c4=_0x4bc37c['options'][_0x4bc37c[_0x597b53(0x31c)]];_0xa3bb4a=_0x3a8355[_0x597b53(0x368)]===_0x2435c4;break;case'true_false':const _0x41d3c3=_0x3a8355['answer']===!![]||_0x3a8355['answer']===_0x597b53(0x367);_0xa3bb4a=_0x41d3c3===_0x4bc37c[_0x597b53(0x7a4)];break;case'matching_item':_0xa3bb4a=_0x3a8355[_0x597b53(0x106)]===_0x4bc37c[_0x597b53(0x708)];break;default:_0xa3bb4a=_0x3a8355[_0x597b53(0x6e4)];break;}const _0x10168a=_0xa3bb4a?_0x597b53(0x51c):_0x597b53(0x697);_0x49d32b+=_0x597b53(0x453)+_0x10168a+'\x22>'+_0xb08c26(_0x4bc37c,_0x3a8355)+'</td>';}else _0x49d32b+=_0x597b53(0x266);});}else _0x49d32b+=_0xa3ff2f['map'](()=>_0x32039c(0x198))['join']('');_0x49d32b+=_0x32039c(0x460);}),_0x49d32b+=_0x492d2c(0x299),_0x2b6cb1[_0x492d2c(0x52d)]=_0x49d32b;}function renderQuizResultsTable(_0x5d5e0c,_0x22f8be,_0x21f5fa){const _0x1f4d28=_0x284edd,_0x192663=_0x22f8be[_0x1f4d28(0x5bc)]((_0x2b5220,_0x17c81e)=>{const _0x24bf44=_0x1f4d28;return _0x2b5220[_0x17c81e[_0x24bf44(0x5c2)]]=_0x17c81e,_0x2b5220;},{}),_0x40d1d0=document['querySelector'](_0x1f4d28(0x4e7));_0x40d1d0&&!_0x40d1d0[_0x1f4d28(0x52d)]['includes'](_0x1f4d28(0x67d))&&(_0x40d1d0[_0x1f4d28(0x52d)]+=_0x1f4d28(0x7ab));const _0x3a2ef2=document[_0x1f4d28(0x140)]('quiz-results-table-body');if(!_0x5d5e0c||_0x5d5e0c[_0x1f4d28(0x357)]===0x0){_0x3a2ef2[_0x1f4d28(0x52d)]=_0x1f4d28(0x65a);return;}const _0x43b0fb=_0x21f5fa['isRemedial']===!![],_0x246280=_0x21f5fa['settings']?.[_0x1f4d28(0x7b6)]??-0x1;let _0x4369ab='';_0x5d5e0c[_0x1f4d28(0x335)](_0x2c3c6b=>{const _0x58bc68=_0x1f4d28,_0x280e07=_0x192663[_0x2c3c6b];let _0x1d8c6a=_0x58bc68(0x711),_0x51c0ac=_0x58bc68(0x57e)+(_0x43b0fb?_0x58bc68(0x7dd):_0x58bc68(0x592))+'\x22>'+(_0x43b0fb?'สอบซ่อม':'สอบปกติ')+_0x58bc68(0x1ae);if(_0x280e07){let _0x324086=_0x43b0fb?_0x280e07[_0x58bc68(0x15b)]===_0x280e07[_0x58bc68(0x2bf)]:_0x246280!==-0x1&&_0x280e07[_0x58bc68(0x15b)]>=_0x246280;if(_0x43b0fb||_0x246280!==-0x1){const _0x40d706=_0x324086?_0x58bc68(0x29f):_0x58bc68(0x686),_0x4d874d=_0x324086?_0x58bc68(0x34c):_0x58bc68(0x24a);_0x1d8c6a=_0x58bc68(0x22f)+_0x40d706+'\x22>'+_0x4d874d+_0x58bc68(0x1ae);}const _0xc1ba6f=_0x58bc68(0x21d)+(_0x280e07[_0x58bc68(0x2bb)]?.[_0x58bc68(0x357)]||0x1)+_0x58bc68(0x3e5);_0x4369ab+=_0x58bc68(0x50d)+_0x2c3c6b+_0x58bc68(0x18e)+_0x280e07[_0x58bc68(0x15b)]+_0x58bc68(0x56b)+_0x280e07[_0x58bc68(0x2bf)]+_0x58bc68(0x1fb)+_0x1d8c6a+_0x58bc68(0x48e)+_0x51c0ac+_0x58bc68(0x553)+_0x280e07['firstScore']+_0x58bc68(0x56b)+_0x280e07[_0x58bc68(0x2bf)]+_0x58bc68(0x24d)+_0x280e07['latestScore']+'\x20/\x20'+_0x280e07[_0x58bc68(0x2bf)]+_0x58bc68(0x7d7)+(_0x280e07[_0x58bc68(0x131)]||0x0)+_0x58bc68(0x1fb)+_0xc1ba6f+_0x58bc68(0x6ac)+new Date(_0x280e07['latestSubmittedAt'])[_0x58bc68(0x720)](_0x58bc68(0x144))+_0x58bc68(0xf0)+_0x2c3c6b+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x4d018d=_0x58bc68(0x1d4);_0x4369ab+=_0x58bc68(0x50d)+_0x2c3c6b+_0x58bc68(0x1a4)+_0x51c0ac+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d018d+_0x58bc68(0x3ae);}}),_0x3a2ef2[_0x1f4d28(0x52d)]=_0x4369ab;}async function confirmRenameQuiz(){const _0x21d22d=_0x284edd,_0x184505=document[_0x21d22d(0x140)]('rename-quiz-input')[_0x21d22d(0x617)][_0x21d22d(0xd4)]();if(!_0x184505){showMessage(_0x21d22d(0x681));return;}if(!actionTargetId)return;const _0x4946b5=doc(db,_0x21d22d(0x6c1)+appId+_0x21d22d(0x127),actionTargetId);try{await updateDoc(_0x4946b5,{'topic':_0x184505}),showMessage(_0x21d22d(0x4d0)),renameQuizModal[_0x21d22d(0x44b)]['add']('hidden'),actionTargetId=null;}catch(_0x3c7043){console['error'](_0x21d22d(0x4c4),_0x3c7043),showMessage(_0x21d22d(0x5d3));}}async function handleMoveQuiz(_0x47a3fa){const _0x460d7a=_0x284edd;actionTargetId=_0x47a3fa;const _0x1be92f=document[_0x460d7a(0x140)]('move-quiz-project-select');_0x1be92f[_0x460d7a(0x52d)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal['classList'][_0x460d7a(0x6f8)]('hidden');try{const _0x54843f=collection(db,'artifacts/'+appId+_0x460d7a(0x568)),_0x3893a9=await getDocs(_0x54843f),_0xf4f90c=_0x3893a9[_0x460d7a(0x310)]['map'](_0x1edc8f=>({'id':_0x1edc8f['id'],..._0x1edc8f[_0x460d7a(0x5b7)]()})),_0x5eed94=_0xf4f90c['filter'](_0x93a178=>_0x93a178['id']!==currentProjectId);if(_0x5eed94['length']===0x0){_0x1be92f[_0x460d7a(0x52d)]=_0x460d7a(0x3f8),document['getElementById'](_0x460d7a(0x4ff))[_0x460d7a(0x54e)]=!![];return;}_0x1be92f[_0x460d7a(0x52d)]=_0x5eed94[_0x460d7a(0x666)](_0x241b90=>_0x460d7a(0x5bf)+_0x241b90['id']+'\x22>'+_0x241b90[_0x460d7a(0x45b)]+_0x460d7a(0x4f7))[_0x460d7a(0x4be)](''),document[_0x460d7a(0x140)](_0x460d7a(0x4ff))[_0x460d7a(0x54e)]=![];}catch(_0x1d2d9c){console['error']('Error\x20fetching\x20projects\x20for\x20move:',_0x1d2d9c),showMessage(_0x460d7a(0x542)),moveQuizModal[_0x460d7a(0x44b)]['add'](_0x460d7a(0x396));}}async function confirmMoveQuiz(){const _0x15948d=_0x284edd,_0x5f21cb=document[_0x15948d(0x140)](_0x15948d(0x3ea))['value'];if(!_0x5f21cb){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x184b36=doc(db,_0x15948d(0x6c1)+appId+_0x15948d(0x127),actionTargetId);try{await updateDoc(_0x184b36,{'projectId':_0x5f21cb}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList'][_0x15948d(0x281)]('hidden'),actionTargetId=null;}catch(_0x3b64c9){console[_0x15948d(0x377)](_0x15948d(0x500),_0x3b64c9),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x38a8d8){const _0x5283d3=_0x284edd;actionTargetId=_0x38a8d8;const _0x15dec5=doc(db,'artifacts/'+appId+_0x5283d3(0x127),_0x38a8d8);try{const _0x1e2295=await getDoc(_0x15dec5);if(_0x1e2295[_0x5283d3(0x4dc)]()){const _0x27ecea=_0x1e2295[_0x5283d3(0x5b7)](),_0x24748d=_0x27ecea['settings']||{},_0x16a6f9=_0x27ecea[_0x5283d3(0x7d0)][_0x5283d3(0x357)];document['getElementById'](_0x5283d3(0xff))[_0x5283d3(0x617)]=_0x24748d[_0x5283d3(0x4d9)]||'none',document[_0x5283d3(0x140)](_0x5283d3(0x1db))['value']=_0x24748d[_0x5283d3(0x351)]||_0x5283d3(0x239),document[_0x5283d3(0x140)](_0x5283d3(0x507))[_0x5283d3(0x617)]=_0x24748d['timerMode']||_0x5283d3(0x3e7),document['getElementById'](_0x5283d3(0x1af))[_0x5283d3(0x617)]=_0x24748d[_0x5283d3(0xee)]||0xa,document['getElementById'](_0x5283d3(0x5cb))[_0x5283d3(0x617)]=_0x24748d['passingScore']||Math[_0x5283d3(0x4b2)](_0x16a6f9/0x2),document[_0x5283d3(0x140)](_0x5283d3(0x5cb))[_0x5283d3(0x693)]=_0x16a6f9,document[_0x5283d3(0x140)](_0x5283d3(0x687))['checked']=_0x24748d['isAdaptive']||![],document[_0x5283d3(0x140)](_0x5283d3(0x507))['dispatchEvent'](new Event(_0x5283d3(0x514))),quizSettingsModal[_0x5283d3(0x44b)][_0x5283d3(0x6f8)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x1d5e58){console['error'](_0x5283d3(0x4c3),_0x1d5e58),showMessage(_0x5283d3(0x1be));}}async function confirmQuizSettings(){const _0x234691=_0x284edd;if(!actionTargetId)return;const _0x58f742=doc(db,_0x234691(0x6c1)+appId+_0x234691(0x127),actionTargetId),_0x1ed7b7={'shuffle':document[_0x234691(0x140)](_0x234691(0xff))[_0x234691(0x617)],'resultsDisplay':document['getElementById'](_0x234691(0x1db))[_0x234691(0x617)],'timerMode':document[_0x234691(0x140)](_0x234691(0x507))[_0x234691(0x617)],'timerDuration':parseInt(document['getElementById'](_0x234691(0x1af))[_0x234691(0x617)])||0xa,'passingScore':parseInt(document['getElementById'](_0x234691(0x5cb))[_0x234691(0x617)])||0x0,'passingScore':parseInt(document[_0x234691(0x140)]('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0x234691(0x140)](_0x234691(0x687))[_0x234691(0x61c)]};try{await updateDoc(_0x58f742,{'settings':_0x1ed7b7}),showMessage(_0x234691(0x13e)),quizSettingsModal[_0x234691(0x44b)][_0x234691(0x281)](_0x234691(0x396)),actionTargetId=null;}catch(_0x2b3b31){console[_0x234691(0x377)](_0x234691(0x6c4),_0x2b3b31),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x152651){const _0x205b15=_0x284edd;actionTargetId=_0x152651;const _0x42e012=doc(db,'artifacts/'+appId+_0x205b15(0x127),_0x152651);try{const _0x4e3caf=await getDoc(_0x42e012);if(_0x4e3caf[_0x205b15(0x4dc)]()){const _0x31000f=_0x4e3caf[_0x205b15(0x5b7)](),_0x21de85=_0x31000f[_0x205b15(0x5df)]||'active',_0x504020=document[_0x205b15(0x140)]('quiz-status-options'),_0x766767=document[_0x205b15(0x140)](_0x205b15(0x49b)),_0x3a3710=document[_0x205b15(0x140)](_0x205b15(0x6a5));let _0x268e84=_0x205b15(0x59e)+(_0x21de85===_0x205b15(0x744)?'checked':'')+'>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20'+(_0x21de85===_0x205b15(0x2a7)?_0x205b15(0x61c):'')+_0x205b15(0x586)+(_0x21de85===_0x205b15(0x2fe)?_0x205b15(0x61c):'')+_0x205b15(0x69e);_0x504020[_0x205b15(0x52d)]=_0x268e84;const _0x12efd6=_0x21de85===_0x205b15(0x2fe);_0x766767[_0x205b15(0x44b)][_0x205b15(0x529)](_0x205b15(0x396),!_0x12efd6),_0x3a3710[_0x205b15(0x44b)][_0x205b15(0x529)](_0x205b15(0x396),!_0x12efd6),document[_0x205b15(0x140)](_0x205b15(0x2a0))[_0x205b15(0x617)]=_0x31000f['startTime']?_0x31000f[_0x205b15(0x4d6)][_0x205b15(0x59f)](0x0,0x10):'',document[_0x205b15(0x140)](_0x205b15(0x2ad))[_0x205b15(0x617)]=_0x31000f['endTime']?_0x31000f[_0x205b15(0x74a)][_0x205b15(0x59f)](0x0,0x10):'',_0x504020[_0x205b15(0x39b)](_0x205b15(0x70a))[_0x205b15(0x335)](_0x5603c6=>{const _0x16786f=_0x205b15;_0x5603c6[_0x16786f(0x14b)](_0x16786f(0x514),_0x3ee4ac=>{const _0x19bd3c=_0x16786f,_0x25fa27=_0x3ee4ac['target'][_0x19bd3c(0x617)]==='schedule';_0x766767[_0x19bd3c(0x44b)]['toggle']('hidden',!_0x25fa27),_0x3a3710[_0x19bd3c(0x44b)][_0x19bd3c(0x529)](_0x19bd3c(0x396),!_0x25fa27);});}),quizStatusModal[_0x205b15(0x44b)][_0x205b15(0x6f8)]('hidden');}}catch(_0x23ab98){console['error'](_0x205b15(0x2cc),_0x23ab98),showMessage(_0x205b15(0x706));}}async function confirmQuizStatus(){const _0x4b93eb=_0x284edd;if(!actionTargetId)return;const _0x429a27=doc(db,_0x4b93eb(0x6c1)+appId+_0x4b93eb(0x127),actionTargetId),_0x54084e=document[_0x4b93eb(0x62c)]('input[name=\x22status-option\x22]:checked');if(!_0x54084e){showMessage(_0x4b93eb(0x276));return;}const _0x42db1e=_0x54084e[_0x4b93eb(0x617)];let _0x5d65f1={};if(_0x42db1e===_0x4b93eb(0x744)||_0x42db1e===_0x4b93eb(0x2a7))_0x5d65f1={'status':_0x42db1e,'startTime':null,'endTime':null};else{if(_0x42db1e==='schedule'){const _0x2fafe9=document[_0x4b93eb(0x140)](_0x4b93eb(0x2a0))['value'],_0x89e9f9=document[_0x4b93eb(0x140)]('quiz-end-time')[_0x4b93eb(0x617)];if(!_0x2fafe9&&!_0x89e9f9){showMessage(_0x4b93eb(0x350));return;}_0x5d65f1={'status':_0x4b93eb(0x2fe),'startTime':_0x2fafe9?new Date(_0x2fafe9)[_0x4b93eb(0x2ea)]():null,'endTime':_0x89e9f9?new Date(_0x89e9f9)[_0x4b93eb(0x2ea)]():null};}}try{await updateDoc(_0x429a27,_0x5d65f1),showMessage(_0x4b93eb(0x54b)),quizStatusModal[_0x4b93eb(0x44b)]['add'](_0x4b93eb(0x396)),actionTargetId=null;}catch(_0x5b44a2){console[_0x4b93eb(0x377)](_0x4b93eb(0xf3),_0x5b44a2),showMessage(_0x4b93eb(0x730));}}function listenForStudentProfiles(_0x3c50da){const _0x195ffc=_0x284edd,_0x535791=collection(db,_0x195ffc(0x6c1)+appId+_0x195ffc(0x101)+_0x3c50da+_0x195ffc(0x4fd));unsubscribeStudentProfilesListener=onSnapshot(_0x535791,_0x2a828a=>{const _0x1a65ac=_0x195ffc,_0x4cc970=_0x2a828a[_0x1a65ac(0x310)][_0x1a65ac(0x666)](_0x2fdc8f=>_0x2fdc8f[_0x1a65ac(0x5b7)]());renderLeaderboard(_0x4cc970,_0x1a65ac(0x1de));},_0x518198=>{const _0x4473e8=_0x195ffc;console[_0x4473e8(0x377)](_0x4473e8(0x14c),_0x518198),document['getElementById'](_0x4473e8(0x1de))[_0x4473e8(0x52d)]=_0x4473e8(0x699);});}function renderLeaderboard(_0x1c9d93,_0x200917){const _0x579503=_0x284edd,_0x4e6472=document['getElementById'](_0x200917);if(!_0x1c9d93||_0x1c9d93[_0x579503(0x357)]===0x0){_0x4e6472['innerHTML']=_0x579503(0x337);return;}_0x1c9d93[_0x579503(0x137)]((_0x575165,_0xa7316d)=>{const _0x4ccdaa=_0x579503,_0x12ccf7=(_0xa7316d[_0x4ccdaa(0x60c)]||0x0)-(_0x575165[_0x4ccdaa(0x60c)]||0x0);if(_0x12ccf7!==0x0)return _0x12ccf7;const _0x4a3a25=(_0xa7316d[_0x4ccdaa(0x412)]?.[_0x4ccdaa(0x20c)]||0x0)-(_0x575165[_0x4ccdaa(0x412)]?.[_0x4ccdaa(0x20c)]||0x0);if(_0x4a3a25!==0x0)return _0x4a3a25;const _0x22bf15=(_0xa7316d['badgesCount']?.['first_try_ace']||0x0)-(_0x575165[_0x4ccdaa(0x412)]?.[_0x4ccdaa(0x2ab)]||0x0);if(_0x22bf15!==0x0)return _0x22bf15;const _0x1d3dc6=(_0xa7316d[_0x4ccdaa(0x412)]?.[_0x4ccdaa(0x72f)]||0x0)-(_0x575165[_0x4ccdaa(0x412)]?.[_0x4ccdaa(0x72f)]||0x0);if(_0x1d3dc6!==0x0)return _0x1d3dc6;const _0x3f1a1c=(_0xa7316d[_0x4ccdaa(0x412)]?.[_0x4ccdaa(0x4f8)]||0x0)-(_0x575165[_0x4ccdaa(0x412)]?.[_0x4ccdaa(0x4f8)]||0x0);if(_0x3f1a1c!==0x0)return _0x3f1a1c;return _0x575165['studentName'][_0x4ccdaa(0x5ca)](_0xa7316d['studentName'],'th');});let _0x194f58='';_0x1c9d93[_0x579503(0x335)]((_0x5dae53,_0x308463)=>{const _0x3f3434=_0x579503,_0x30948d=_0x308463+0x1,_0x2395ed=_0x5dae53[_0x3f3434(0x412)]||{};let _0x46320f='';const _0x4b04f5=[_0x3f3434(0x20c),_0x3f3434(0x72f),_0x3f3434(0x2ab),'quick_thinker'];_0x4b04f5[_0x3f3434(0x335)](_0x2a2bc2=>{const _0x408682=_0x3f3434;if(_0x2395ed[_0x2a2bc2]>0x0){const _0x250310=Object['values'](BADGES)[_0x408682(0x4b7)](_0x46a89c=>_0x46a89c['id']===_0x2a2bc2);_0x250310&&(_0x2a2bc2===_0x408682(0x20c)?_0x46320f+=_0x408682(0x71d)+_0x250310['name']+_0x408682(0x30d)+_0x250310[_0x408682(0x278)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x46320f+=_0x408682(0x71d)+_0x250310[_0x408682(0x61e)]+'\x20('+_0x2395ed[_0x2a2bc2]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x250310[_0x408682(0x278)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x2395ed[_0x2a2bc2]+_0x408682(0x1ec));}}),_0x194f58+=_0x3f3434(0x108)+_0x30948d+_0x3f3434(0x704)+_0x5dae53[_0x3f3434(0x5c2)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x5dae53[_0x3f3434(0x60c)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x46320f||'-')+_0x3f3434(0x709);}),_0x4e6472[_0x579503(0x52d)]=_0x194f58;}function renderQuizLeaderboard(_0x5aaf2d,_0x10f1b6,_0x1e12ce){const _0x5275f1=_0x284edd,_0x2f9248=document[_0x5275f1(0x140)](_0x1e12ce),_0x34aca1=_0x1e12ce===_0x5275f1(0x29c),_0x151bbf=_0x10f1b6[_0x5275f1(0x7d0)][_0x5275f1(0x357)],_0x2d620a=document[_0x5275f1(0x140)](_0x1e12ce)[_0x5275f1(0x791)](_0x5275f1(0x2a6));if(_0x2d620a&&!_0x34aca1){const _0x390286=_0x2d620a[_0x5275f1(0x62c)](_0x5275f1(0x34e));_0x390286[_0x5275f1(0x52d)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x5aaf2d||_0x5aaf2d['length']===0x0){_0x2f9248[_0x5275f1(0x52d)]=_0x5275f1(0x313)+(_0x34aca1?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x3b3448=[..._0x5aaf2d];_0x3b3448[_0x5275f1(0x137)]((_0x5d090c,_0x82527b)=>{const _0x36c095=_0x5275f1;let _0x49df67,_0x3c716a;switch(quizLeaderboardSortBy){case _0x36c095(0x5c2):_0x49df67=_0x5d090c['studentName']||'',_0x3c716a=_0x82527b['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x49df67[_0x36c095(0x5ca)](_0x3c716a,'th'):_0x3c716a[_0x36c095(0x5ca)](_0x49df67,'th');case _0x36c095(0x131):_0x49df67=_0x5d090c['points']||0x0,_0x3c716a=_0x82527b[_0x36c095(0x131)]||0x0;break;case'attempts':_0x49df67=_0x5d090c['attempts']?.[_0x36c095(0x357)]||0x1,_0x3c716a=_0x82527b['attempts']?.['length']||0x1;break;case'latestSubmittedAt':_0x49df67=new Date(_0x5d090c['latestSubmittedAt']),_0x3c716a=new Date(_0x82527b['latestSubmittedAt']);break;case _0x36c095(0x15b):default:_0x49df67=_0x5d090c[_0x36c095(0x15b)],_0x3c716a=_0x82527b[_0x36c095(0x15b)];break;}if(_0x49df67<_0x3c716a)return quizLeaderboardSortOrder===_0x36c095(0x56e)?-0x1:0x1;if(_0x49df67>_0x3c716a)return quizLeaderboardSortOrder===_0x36c095(0x56e)?0x1:-0x1;return 0x0;});const _0x4943fd=_0x10f1b6['isRemedial']===!![],_0x36648b=_0x10f1b6[_0x5275f1(0x78b)]?.[_0x5275f1(0x7b6)]??-0x1;let _0x2263ac='';_0x3b3448[_0x5275f1(0x335)]((_0x393c77,_0x23d8ae)=>{const _0x23129c=_0x5275f1,_0x2b3b06=_0x23d8ae+0x1;let _0x1d8193='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x4943fd||_0x36648b!==-0x1){let _0x53c3e9=_0x4943fd?_0x393c77[_0x23129c(0x15b)]===_0x151bbf:_0x393c77[_0x23129c(0x15b)]>=_0x36648b;const _0x36702b=_0x53c3e9?_0x23129c(0x29f):_0x23129c(0x686),_0x4d5d46=_0x53c3e9?_0x23129c(0x34c):_0x23129c(0x24a);_0x1d8193=_0x23129c(0x427)+_0x36702b+'\x22>'+_0x4d5d46+_0x23129c(0x1ae);}const _0x3627b3=_0x393c77[_0x23129c(0x2bb)][_0x393c77[_0x23129c(0x2bb)][_0x23129c(0x357)]-0x1],_0x45cc7f=(_0x3627b3['badges']||[])[_0x23129c(0x666)](_0x340e05=>{const _0x421b2e=_0x23129c,_0x1e2189=Object['values'](BADGES)[_0x421b2e(0x4b7)](_0x18998d=>_0x18998d['id']===_0x340e05);return _0x1e2189?'<span\x20title=\x22'+_0x1e2189[_0x421b2e(0x61e)]+'\x22><i\x20class=\x22fas\x20'+_0x1e2189[_0x421b2e(0x278)]+_0x421b2e(0x6b4):'';})['join']('');_0x2263ac+=_0x23129c(0x3b7)+_0x2b3b06+_0x23129c(0x490)+_0x393c77[_0x23129c(0x5c2)]+_0x23129c(0x3b5)+_0x393c77['bestScore']+'\x20/\x20'+_0x151bbf+_0x23129c(0x3cb)+_0x1d8193+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x393c77[_0x23129c(0x131)]||0x0)+_0x23129c(0x3cb)+(_0x34aca1?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x393c77[_0x23129c(0x2bb)]?.[_0x23129c(0x357)]||0x1)+_0x23129c(0x11c))+_0x23129c(0x2c4)+(_0x34aca1?'':_0x23129c(0x167)+new Date(_0x393c77[_0x23129c(0x719)])['toLocaleString'](_0x23129c(0x144))+_0x23129c(0x11c))+_0x23129c(0x319)+(_0x45cc7f||'-')+_0x23129c(0x728);}),_0x2f9248[_0x5275f1(0x52d)]=_0x2263ac,_0x2d620a&&!_0x34aca1&&_0x2d620a[_0x5275f1(0x39b)](_0x5275f1(0x170))[_0x5275f1(0x335)](_0x269c60=>{const _0x2cca77=_0x5275f1,_0x978bfc=_0x269c60[_0x2cca77(0x62c)](_0x2cca77(0x779));if(_0x978bfc)_0x978bfc[_0x2cca77(0x6f8)]();_0x269c60['dataset'][_0x2cca77(0x137)]===quizLeaderboardSortBy&&(_0x269c60['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x2cca77(0x56e)?'▲':'▼')+_0x2cca77(0x32a));});}async function handleDeleteSubmission(_0x518b12){const _0x2efe08=_0x284edd;if(!currentQuizData||!currentQuizData['id']||!_0x518b12){showMessage(_0x2efe08(0x5d8));return;}showConfirmation(_0x2efe08(0x76c)+_0x518b12+_0x2efe08(0x62a),async()=>{const _0x35493d=_0x2efe08,_0x227d14=currentQuizData['id'],_0x2e417d=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x227d14+_0x35493d(0x5f7),_0x518b12);try{await deleteDoc(_0x2e417d),showMessage(_0x35493d(0x74b)+_0x518b12+_0x35493d(0x536));}catch(_0x3c31a5){console[_0x35493d(0x377)](_0x35493d(0x1e2),_0x3c31a5),showMessage(_0x35493d(0x636));}});}async function handleLoadQuiz(){const _0x3f4a6c=_0x284edd,_0x5a51a6=document[_0x3f4a6c(0x140)]('quiz-id-input'),_0x2df0f7=_0x5a51a6[_0x3f4a6c(0x617)]['trim']();if(!_0x2df0f7){showMessage(_0x3f4a6c(0x69d));return;}loadQuizBtn[_0x3f4a6c(0x54e)]=!![],loadQuizBtn['innerHTML']=_0x3f4a6c(0x5e8);try{const _0xd76722=doc(db,_0x3f4a6c(0x6c1)+appId+_0x3f4a6c(0x127),_0x2df0f7),_0x21e231=await getDoc(_0xd76722);if(!_0x21e231[_0x3f4a6c(0x4dc)]()){showMessage(_0x3f4a6c(0x26a));return;}currentQuizData={'id':_0x21e231['id'],..._0x21e231[_0x3f4a6c(0x5b7)]()};const _0x47dc12=currentQuizData['status']||'active',_0x1a69d1=new Date();if(_0x47dc12===_0x3f4a6c(0x2a7)){showMessage(_0x3f4a6c(0x55e));return;}if(_0x47dc12==='scheduled'){const _0xc79123=currentQuizData[_0x3f4a6c(0x4d6)]?new Date(currentQuizData[_0x3f4a6c(0x4d6)]):null,_0xb26bd8=currentQuizData[_0x3f4a6c(0x74a)]?new Date(currentQuizData[_0x3f4a6c(0x74a)]):null;if(_0xc79123&&_0x1a69d1<_0xc79123){showMessage(_0x3f4a6c(0x2d8)+_0xc79123['toLocaleString'](_0x3f4a6c(0x144),{'hour12':![]}));return;}if(_0xb26bd8&&_0x1a69d1>_0xb26bd8){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x263ecb=currentQuizData[_0x3f4a6c(0x756)];currentProjectId=_0x263ecb;const _0x6e0df6=doc(db,'artifacts/'+appId+_0x3f4a6c(0x568),_0x263ecb),_0x19f56e=await getDoc(_0x6e0df6);if(!_0x19f56e[_0x3f4a6c(0x4dc)]()){showMessage(_0x3f4a6c(0x701));return;}const _0x1f45c7=_0x19f56e[_0x3f4a6c(0x5b7)]();currentStudentProjectData=_0x1f45c7,displayStudentNameSelector(_0x1f45c7[_0x3f4a6c(0x563)],currentQuizData['topic']);}catch(_0x493ec0){console['error']('Error\x20loading\x20quiz\x20for\x20student:',_0x493ec0),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x3f4a6c(0x52d)]=_0x3f4a6c(0x6bc);}}async function handleJoinLiveGame(){const _0x2ea2b4=_0x284edd,_0x15d9d4=document[_0x2ea2b4(0x140)]('game-pin-input'),_0x122846=document[_0x2ea2b4(0x140)](_0x2ea2b4(0x359)),_0x5c760f=document['getElementById'](_0x2ea2b4(0x20b)),_0x72da54=_0x15d9d4[_0x2ea2b4(0x617)]['trim'](),_0x32af9f=_0x122846['value'][_0x2ea2b4(0xd4)]();if(!_0x72da54||!_0x32af9f){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x5c760f['disabled']=!![],_0x5c760f[_0x2ea2b4(0x52d)]=_0x2ea2b4(0x25a);try{const _0x564727=collection(db,_0x2ea2b4(0x6c1)+appId+_0x2ea2b4(0x30b)),_0x241446=query(_0x564727,where(_0x2ea2b4(0x19d),'==',_0x72da54),where(_0x2ea2b4(0x5df),'==',_0x2ea2b4(0x7a5))),_0x1608c1=await getDocs(_0x241446);if(_0x1608c1[_0x2ea2b4(0x503)]){showMessage(_0x2ea2b4(0x1cb));return;}const _0x4ce724=_0x1608c1['docs'][0x0],_0x9edd08=_0x4ce724[_0x2ea2b4(0x5b7)]();currentLiveGameId=_0x4ce724['id'];const _0x3bd10c=_0x9edd08[_0x2ea2b4(0x236)],_0x3b6238=doc(db,_0x2ea2b4(0x6c1)+appId+_0x2ea2b4(0x127),_0x3bd10c),_0x4f20cd=await getDoc(_0x3b6238);if(!_0x4f20cd[_0x2ea2b4(0x4dc)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x4f20cd['id'],..._0x4f20cd['data']()};if(_0x9edd08[_0x2ea2b4(0x2a3)]&&_0x9edd08['players'][_0x32af9f]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x170385={};_0x170385['players.'+_0x32af9f]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x2ea2b4(0x6c1)+appId+_0x2ea2b4(0x30b),currentLiveGameId),_0x170385),currentStudentName=_0x32af9f,listenForLiveGameUpdates();}catch(_0x5bde49){console[_0x2ea2b4(0x377)]('Error\x20joining\x20live\x20game:',_0x5bde49),showMessage(_0x2ea2b4(0x6f1));}finally{_0x5c760f[_0x2ea2b4(0x54e)]=![],_0x5c760f['innerHTML']=_0x2ea2b4(0x534);}}function displayStudentNameSelector(_0x2679c0,_0x31df1a){const _0x1f5d94=_0x284edd,_0x5af2bd=document[_0x1f5d94(0x140)](_0x1f5d94(0x6bb));document[_0x1f5d94(0x140)](_0x1f5d94(0x79e))['textContent']='แบบทดสอบ:\x20'+_0x31df1a,!_0x2679c0||_0x2679c0[_0x1f5d94(0x357)]===0x0?(_0x5af2bd['innerHTML']=_0x1f5d94(0x488),startQuizBtn['disabled']=!![]):(_0x5af2bd['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x2679c0['forEach'](_0x401a39=>{const _0x1cc772=_0x1f5d94,_0x215c2c=document['createElement']('option');_0x215c2c[_0x1cc772(0x617)]=_0x401a39,_0x215c2c[_0x1cc772(0x61d)]=_0x401a39,_0x5af2bd[_0x1cc772(0x34f)](_0x215c2c);}),startQuizBtn[_0x1f5d94(0x54e)]=![]),studentInitialView['classList'][_0x1f5d94(0x281)](_0x1f5d94(0x396)),studentNameSelectionView[_0x1f5d94(0x44b)][_0x1f5d94(0x6f8)](_0x1f5d94(0x396));}function shuffleArray(_0x380f53){const _0x36f227=_0x284edd;for(let _0x42e075=_0x380f53[_0x36f227(0x357)]-0x1;_0x42e075>0x0;_0x42e075--){const _0x3d316e=Math[_0x36f227(0x4b2)](Math['random']()*(_0x42e075+0x1));[_0x380f53[_0x42e075],_0x380f53[_0x3d316e]]=[_0x380f53[_0x3d316e],_0x380f53[_0x42e075]];}}function getShuffledQuiz(_0x36a314){const _0x1131b8=_0x284edd;let _0x37fb66=JSON[_0x1131b8(0x41c)](JSON['stringify'](_0x36a314));const _0x31b187=_0x37fb66[_0x1131b8(0x78b)]?.[_0x1131b8(0x4d9)]||'none';if(_0x31b187==='none')return _0x37fb66;return(_0x31b187===_0x1131b8(0x22e)||_0x31b187===_0x1131b8(0x4ae))&&shuffleArray(_0x37fb66['questions']),(_0x31b187===_0x1131b8(0x162)||_0x31b187===_0x1131b8(0x4ae))&&_0x37fb66['questions']['forEach'](_0x473bd5=>{const _0x119475=_0x1131b8,_0x402858=_0x473bd5['questionType']||_0x37fb66[_0x119475(0x255)];if(_0x473bd5['options']){let _0x28148b=_0x473bd5[_0x119475(0x230)][_0x119475(0x666)]((_0x30bcfc,_0x5d0afb)=>({'text':_0x30bcfc,'isCorrect':_0x5d0afb===_0x473bd5[_0x119475(0x31c)]}));shuffleArray(_0x28148b),_0x473bd5[_0x119475(0x230)]=_0x28148b[_0x119475(0x666)](_0x510bd1=>_0x510bd1[_0x119475(0x1fd)]),_0x473bd5[_0x119475(0x31c)]=_0x28148b[_0x119475(0x4d7)](_0x334352=>_0x334352[_0x119475(0x6e4)]);}_0x402858===_0x119475(0x159)&&_0x473bd5[_0x119475(0x260)]&&shuffleArray(_0x473bd5[_0x119475(0x260)]);}),_0x37fb66;}function displayQuizForStudent(_0xa2a729){const _0x1a1ac6=_0x284edd;studentQuizArea[_0x1a1ac6(0x44b)][_0x1a1ac6(0x6f8)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0xa2a729);const _0x1c1f81=currentDisplayedQuiz['settings']?.[_0x1a1ac6(0x23e)]||_0x1a1ac6(0x3e7);if(_0x1c1f81==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x1a1ac6(0x78b)][_0x1a1ac6(0xee)]);else _0x1c1f81===_0x1a1ac6(0x392)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x264b08=_0x284edd;let _0x5ad2d3=_0x264b08(0x725)+currentDisplayedQuiz[_0x264b08(0x479)]+_0x264b08(0x23f)+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x264b08(0x223);currentDisplayedQuiz['questions'][_0x264b08(0x335)]((_0x5c47c7,_0x251881)=>{const _0x23eb47=_0x264b08,_0x51319f=_0x5c47c7[_0x23eb47(0x103)]||currentDisplayedQuiz[_0x23eb47(0x255)];_0x5ad2d3+=_0x23eb47(0x675);_0x51319f===_0x23eb47(0x159)?_0x5ad2d3+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x251881+0x1)+'.\x20'+_0x5c47c7['stem']+_0x23eb47(0x6f7)+_0x251881+_0x23eb47(0x3c5)+_0x5c47c7['allResponses'][_0x23eb47(0x666)](_0x7e8dc0=>'<option\x20value=\x22'+_0x7e8dc0+'\x22>'+_0x7e8dc0+_0x23eb47(0x4f7))[_0x23eb47(0x4be)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x5ad2d3+=_0x23eb47(0x21a)+(_0x251881+0x1)+'.\x20'+(_0x5c47c7['instructions']||_0x5c47c7[_0x23eb47(0x28d)])+_0x23eb47(0x18d),_0x5c47c7[_0x23eb47(0x526)]&&(_0x5ad2d3+=_0x23eb47(0x360)+_0x5c47c7[_0x23eb47(0x526)]+_0x23eb47(0x477)));_0x5ad2d3+=_0x23eb47(0x153);switch(_0x51319f){case _0x23eb47(0x4eb):_0x5ad2d3+=_0x23eb47(0x67e)+_0x251881+_0x23eb47(0x6cf);break;case'true_false':_0x5ad2d3+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x251881+_0x23eb47(0x63e)+_0x251881+_0x23eb47(0x6b2)+_0x251881+_0x23eb47(0x6be),_0x5ad2d3+=_0x23eb47(0x1dd)+_0x251881+_0x23eb47(0x2a2)+_0x251881+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x251881+_0x23eb47(0x142);break;case _0x23eb47(0x159):break;case _0x23eb47(0x4f9):case'multiple_choice':default:_0x5ad2d3+=_0x5c47c7[_0x23eb47(0x230)][_0x23eb47(0x666)]((_0x1d61a9,_0xfaced7)=>_0x23eb47(0x7c2)+_0x251881+'_opt'+_0xfaced7+_0x23eb47(0x214)+_0x251881+_0x23eb47(0x47f)+_0xfaced7+_0x23eb47(0x312)+_0x251881+_0x23eb47(0x77f)+_0xfaced7+'\x22>'+_0x1d61a9+_0x23eb47(0x19a))['join']('');break;}_0x5ad2d3+=_0x23eb47(0x4de);}),_0x5ad2d3+=_0x264b08(0x402),_0x5ad2d3+=_0x264b08(0x248),studentQuizArea[_0x264b08(0x52d)]=_0x5ad2d3;if(currentMode==='admin-testing'){const _0x272210=document[_0x264b08(0x140)](_0x264b08(0x294));if(_0x272210)_0x272210[_0x264b08(0x14b)](_0x264b08(0x268),cancelAdminTest);}document['getElementById'](_0x264b08(0x300))['addEventListener'](_0x264b08(0xcf),handleSubmitQuiz);if(window[_0x264b08(0x476)])window['MathJax'][_0x264b08(0x41b)]([studentQuizArea]);}async function handleSubmitQuiz(_0x25e50f){const _0x29cb0e=_0x284edd;if(_0x25e50f)_0x25e50f[_0x29cb0e(0x72d)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3a2978=document[_0x29cb0e(0x140)](_0x29cb0e(0x300));if(!_0x3a2978)return;const _0x6bc790=_0x3a2978[_0x29cb0e(0x62c)](_0x29cb0e(0x43f)),_0x493539=currentDisplayedQuiz[_0x29cb0e(0x7d0)][_0x29cb0e(0x450)](_0x419c6f=>_0x419c6f[_0x29cb0e(0x103)]==='short_answer');_0x6bc790&&(_0x6bc790[_0x29cb0e(0x54e)]=!![],_0x493539?_0x6bc790[_0x29cb0e(0x52d)]=_0x29cb0e(0x128):_0x6bc790['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x5892f7=new FormData(_0x3a2978),_0x15baa1=currentDisplayedQuiz[_0x29cb0e(0x7d0)][_0x29cb0e(0x666)]((_0x51e730,_0x519ce4)=>{const _0x78b79c=_0x29cb0e,_0x32ab73=_0x51e730[_0x78b79c(0x103)]||currentDisplayedQuiz['quizType'],_0x542b36=_0x5892f7[_0x78b79c(0x2b9)](_0x78b79c(0x27d)+_0x519ce4);if(_0x542b36!==null&&_0x542b36!==undefined){if(_0x32ab73==='multiple_choice'||_0x32ab73===_0x78b79c(0x4f9))return parseInt(_0x542b36);return _0x542b36;}return null;}),_0x463486=currentQuizData['id'],_0x4e403c=doc(db,_0x29cb0e(0x6c1)+appId+_0x29cb0e(0x65e)+_0x463486+_0x29cb0e(0x5f7),currentStudentName),_0x37dd0f=await getDoc(_0x4e403c),_0x54a735=_0x37dd0f[_0x29cb0e(0x4dc)]()?_0x37dd0f[_0x29cb0e(0x5b7)]():{},_0x269c62=_0x54a735[_0x29cb0e(0x2bb)]||[];await processAndSubmitAnswers(_0x15baa1,_0x269c62);}async function gradeShortAnswerWithAI(_0x463f97,_0x52a008){const _0x254162=_0x284edd;if(!_0x463f97||!_0x52a008)return![];try{const _0xf6e222=_0x254162(0x42a)+_0x463f97+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x52a008+_0x254162(0x2ed),_0x4b9bf0={'contents':[{'role':_0x254162(0x478),'parts':[{'text':_0xf6e222}]}]},_0x4bfce2='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x45f83a='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4bfce2,_0x283c1a=await fetch(_0x45f83a,{'method':_0x254162(0x772),'headers':{'Content-Type':_0x254162(0x240)},'body':JSON[_0x254162(0x501)](_0x4b9bf0)});if(!_0x283c1a['ok'])throw new Error(_0x254162(0x406));const _0x596930=await _0x283c1a[_0x254162(0x7c5)](),_0x1de05b=_0x596930[_0x254162(0x6ca)][0x0][_0x254162(0x35f)]['parts'][0x0]['text'][_0x254162(0xd4)]()['toLowerCase']();return _0x1de05b===_0x254162(0x367);}catch(_0x16c52d){return console[_0x254162(0x377)](_0x254162(0x79d),_0x16c52d),![];}}async function processAndSubmitAnswers(_0x132110,_0x160298){const _0x4c6405=_0x284edd;let _0x35e4fe=0x0,_0x57dd4f=0x0,_0x14c2f9=[];const _0x349daf=[],_0x1172d6=currentDisplayedQuiz[_0x4c6405(0x7d0)][_0x4c6405(0x357)];let _0x2beb25=0x0;const _0xbc2927=currentDisplayedQuiz[_0x4c6405(0x7d0)];for(let _0x3f3c7b=0x0;_0x3f3c7b<_0xbc2927[_0x4c6405(0x357)];_0x3f3c7b++){const _0xbad016=_0xbc2927[_0x3f3c7b],_0x214c2e=_0x132110[_0x3f3c7b],_0x5d9543=_0xbad016[_0x4c6405(0x103)]||currentDisplayedQuiz[_0x4c6405(0x255)];let _0x3206f5=![];if(_0x214c2e!==null&&_0x214c2e!=='')switch(_0x5d9543){case _0x4c6405(0x159):_0x3206f5=_0x214c2e===_0xbad016[_0x4c6405(0x708)];break;case _0x4c6405(0x7de):const _0x397cb4=_0x214c2e===!![]||_0x214c2e===_0x4c6405(0x367);_0x3206f5=_0x397cb4===_0xbad016[_0x4c6405(0x7a4)];break;case _0x4c6405(0x4f9):case _0x4c6405(0x267):default:_0x3206f5=Number(_0x214c2e)===_0xbad016[_0x4c6405(0x31c)];break;case _0x4c6405(0x4eb):_0x3206f5=await gradeShortAnswer(_0x214c2e,_0xbad016);break;}_0x3206f5?(_0x35e4fe++,_0x2beb25++,_0x2beb25===0x3&&(_0x14c2f9['push'](BADGES[_0x4c6405(0x105)]['id']),_0x2beb25=0x0)):_0x2beb25=0x0;let _0x33317f=null;_0xbad016['options']&&_0x214c2e!==null&&(_0x33317f=_0xbad016['options'][_0x214c2e]),_0x349daf[_0x4c6405(0x1b8)]({'answer':_0x214c2e,'answerText':_0x33317f,'isCorrect':_0x3206f5,'originalQuestionText':_0xbad016[_0x4c6405(0x63f)]||_0xbad016[_0x4c6405(0x28d)]});}_0x57dd4f=_0x35e4fe*0xa;_0x35e4fe===_0x1172d6&&_0x1172d6>0x0&&!currentDisplayedQuiz[_0x4c6405(0x6eb)]&&(_0x57dd4f+=0x32,_0x14c2f9[_0x4c6405(0x1b8)](BADGES[_0x4c6405(0x6c0)]['id']));const _0x59fec7=currentDisplayedQuiz[_0x4c6405(0x78b)]?.['passingScore']??Math[_0x4c6405(0x4b2)](_0x1172d6/0x2),_0x22f231=currentDisplayedQuiz[_0x4c6405(0x78b)]?.['timerMode'];if(_0x22f231===_0x4c6405(0x795)&&quizStartTime){const _0x4e22e8=(new Date()-quizStartTime)/0x3e8,_0x5191cf=currentDisplayedQuiz[_0x4c6405(0x78b)][_0x4c6405(0xee)]*0x3c;_0x35e4fe>=_0x59fec7&&_0x4e22e8<_0x5191cf/0x2&&(_0x57dd4f+=0x14,_0x14c2f9['push'](BADGES[_0x4c6405(0x740)]['id']));}_0x160298[_0x4c6405(0x357)]===0x0&&_0x35e4fe===_0x1172d6&&_0x1172d6>0x0&&_0x14c2f9[_0x4c6405(0x1b8)](BADGES[_0x4c6405(0x690)]['id']);if(_0x160298[_0x4c6405(0x357)]>0x0){const _0x30c466=_0x160298[0x0][_0x4c6405(0x1bc)];if(_0x30c466<_0x59fec7&&_0x35e4fe>=_0x59fec7){const _0x12157c=_0x160298[_0x4c6405(0x450)](_0x429215=>(_0x429215[_0x4c6405(0x6d6)]||[])[_0x4c6405(0x4ab)](BADGES[_0x4c6405(0x3f7)]['id']));!_0x12157c&&_0x14c2f9['push'](BADGES[_0x4c6405(0x3f7)]['id']);}}_0x160298[_0x4c6405(0x357)]===0x4&&_0x14c2f9[_0x4c6405(0x1b8)](BADGES['PERSEVERANCE']['id']);const _0x28c74c=currentDisplayedQuiz[_0x4c6405(0x78b)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x28c74c,_0x35e4fe,_0x57dd4f,_0x14c2f9,_0x349daf,_0x1172d6);return;}const _0x5bf095=currentQuizData['id'],_0x37480f=doc(db,_0x4c6405(0x6c1)+appId+_0x4c6405(0x65e)+_0x5bf095+_0x4c6405(0x5f7),currentStudentName);try{const _0x5a919b=[..._0x160298],_0x1640d4={'score':_0x35e4fe,'points':_0x57dd4f,'badges':_0x14c2f9,'submittedAt':new Date()['toISOString'](),'answers':_0x349daf};_0x5a919b[_0x4c6405(0x1b8)](_0x1640d4);const _0x1b5334=_0x5a919b[0x0][_0x4c6405(0x1bc)],_0x46d971=Math[_0x4c6405(0x693)](..._0x5a919b[_0x4c6405(0x666)](_0x235f9e=>_0x235f9e['score'])),_0x37cc3f=_0x35e4fe,_0x2e0a9d=_0x1640d4['submittedAt'];await setDoc(_0x37480f,{'studentName':currentStudentName,'totalQuestions':_0x1172d6,'attempts':_0x5a919b,'firstScore':_0x1b5334,'bestScore':_0x46d971,'latestScore':_0x37cc3f,'points':_0x57dd4f,'latestSubmittedAt':_0x2e0a9d}),await updateStudentProfile(currentQuizData[_0x4c6405(0x756)],currentStudentName),handleResultDisplay(_0x28c74c,_0x35e4fe,_0x57dd4f,_0x14c2f9,_0x349daf,_0x1172d6);}catch(_0x31aebb){console[_0x4c6405(0x377)]('Error\x20saving\x20submission:',_0x31aebb),showMessage(_0x4c6405(0x5a2));}}async function updateStudentProfile(_0x5074ef,_0x41d985){const _0x30ccf6=_0x284edd,_0x2b8fa1=doc(db,_0x30ccf6(0x6c1)+appId+_0x30ccf6(0x101)+_0x5074ef+_0x30ccf6(0x4fd),_0x41d985);try{const _0x79ffde=query(collection(db,_0x30ccf6(0x6c1)+appId+_0x30ccf6(0x127)),where(_0x30ccf6(0x756),'==',_0x5074ef)),_0xa9e3d1=await getDocs(_0x79ffde),_0xa2e16f=new Map(_0xa9e3d1[_0x30ccf6(0x310)]['map'](_0x2d1f66=>[_0x2d1f66['id'],_0x2d1f66['data']()])),_0x10ca8f=Array['from'](_0xa2e16f[_0x30ccf6(0x74d)]());await runTransaction(db,async _0x532078=>{const _0x592108=_0x30ccf6;let _0x4af5b1=0x0;const _0x2e6976={};let _0x2bd4d2=!![],_0x222456=0x0,_0x229237=0x0;for(const _0x154017 of _0x10ca8f){const _0x11b6c3=_0xa2e16f[_0x592108(0x2b9)](_0x154017),_0x540379=doc(db,_0x592108(0x6c1)+appId+_0x592108(0x65e)+_0x154017+_0x592108(0x5f7),_0x41d985),_0x359f0e=await _0x532078[_0x592108(0x2b9)](_0x540379);if(_0x359f0e[_0x592108(0x4dc)]()){const _0x4b0f76=_0x359f0e[_0x592108(0x5b7)](),_0x51e048=_0x4b0f76['attempts']||[];if(_0x51e048[_0x592108(0x357)]>0x0){const _0x10b14d=_0x51e048[_0x592108(0x5bc)]((_0x194a0e,_0x153e56)=>{const _0x1e16f2=_0x592108;if(_0x153e56[_0x1e16f2(0x1bc)]>_0x194a0e[_0x1e16f2(0x1bc)])return _0x153e56;if(_0x153e56[_0x1e16f2(0x1bc)]===_0x194a0e[_0x1e16f2(0x1bc)])return(_0x153e56[_0x1e16f2(0x131)]||0x0)>(_0x194a0e[_0x1e16f2(0x131)]||0x0)?_0x153e56:_0x194a0e;return _0x194a0e;},{'score':-0x1,'points':-0x1});_0x10b14d[_0x592108(0x1bc)]>-0x1&&(_0x4af5b1+=_0x10b14d[_0x592108(0x131)]||0x0,(_0x10b14d[_0x592108(0x6d6)]||[])['forEach'](_0x52f123=>{_0x2e6976[_0x52f123]=(_0x2e6976[_0x52f123]||0x0)+0x1;}));}}if(_0x11b6c3[_0x592108(0x479)]!=='แบบทดสอบซ่อมเสริม'){_0x229237++;if(_0x359f0e[_0x592108(0x4dc)]()){_0x222456++;const _0x5b0240=_0x359f0e[_0x592108(0x5b7)]();_0x5b0240['bestScore']!==_0x5b0240[_0x592108(0x2bf)]&&(_0x2bd4d2=![]);}else _0x2bd4d2=![];}}_0x229237>0x0&&_0x222456===_0x229237&&_0x2bd4d2?_0x2e6976[_0x592108(0x20c)]=0x1:_0x2e6976[_0x592108(0x20c)]=0x0,_0x532078[_0x592108(0xfe)](_0x2b8fa1,{'studentName':_0x41d985,'totalPoints':_0x4af5b1,'unlockedBadges':Object[_0x592108(0x74d)](_0x2e6976)[_0x592108(0x3fe)](_0x3cb570=>_0x2e6976[_0x3cb570]>0x0),'badgesCount':_0x2e6976},{'merge':!![]});});}catch(_0x59668c){console[_0x30ccf6(0x377)](_0x30ccf6(0x593),_0x59668c),showMessage(_0x30ccf6(0x4b1));}}function startAdminTest(){const _0x26c36d=_0x284edd;if(!currentQuizData){showMessage(_0x26c36d(0x3cd));return;}let _0x4a5714=JSON[_0x26c36d(0x41c)](JSON[_0x26c36d(0x501)](currentQuizData));currentMode=_0x26c36d(0x132),currentStudentName=_0x26c36d(0x1d0),adminView[_0x26c36d(0x44b)][_0x26c36d(0x281)](_0x26c36d(0x396)),studentView[_0x26c36d(0x44b)][_0x26c36d(0x6f8)](_0x26c36d(0x396)),studentInitialView[_0x26c36d(0x44b)][_0x26c36d(0x281)](_0x26c36d(0x396)),studentNameSelectionView[_0x26c36d(0x44b)][_0x26c36d(0x281)]('hidden'),studentResultArea['classList'][_0x26c36d(0x281)]('hidden'),studentQuizArea['classList'][_0x26c36d(0x6f8)](_0x26c36d(0x396)),quizStartTime=new Date(),displayQuizForStudent(_0x4a5714);}function handleResultDisplay(_0x5a65ea,_0x1a0ac1,_0x2cdd6c,_0x39c6f9,_0x58193f,_0x4cbe00){const _0x319ced=_0x284edd,_0x1970d5=currentDisplayedQuiz[_0x319ced(0x78b)]?.[_0x319ced(0x7b6)]??Math['floor'](_0x4cbe00/0x2),_0x2eeb8f=currentDisplayedQuiz[_0x319ced(0x78b)]?.[_0x319ced(0x510)]??![];if(_0x2eeb8f&&_0x1a0ac1<_0x1970d5){startAdaptiveFlow(_0x58193f,_0x1a0ac1,_0x4cbe00);return;}switch(_0x5a65ea){case'show_results_and_answers':displayResultsWithAnswers(_0x1a0ac1,_0x2cdd6c,_0x39c6f9,_0x58193f,_0x4cbe00);break;case'show_results_only':displayResultsScoreOnly(_0x1a0ac1,_0x2cdd6c,_0x39c6f9,_0x4cbe00);break;case'show_pass_fail_only':displayPassFailOnly(_0x1a0ac1,_0x4cbe00);break;case _0x319ced(0x64b):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x4005a2,_0x5366db,_0xf25898){const _0x4066f5=_0x284edd,_0x29750c=_0x4005a2[_0x4066f5(0x666)]((_0xffe9b0,_0x219e12)=>({..._0xffe9b0,'originalQuestion':currentDisplayedQuiz[_0x4066f5(0x7d0)][_0x219e12]}))[_0x4066f5(0x3fe)](_0x32e5fe=>!_0x32e5fe[_0x4066f5(0x6e4)]&&_0x32e5fe[_0x4066f5(0x3ed)][_0x4066f5(0x48b)])[_0x4066f5(0x666)](_0x2be1b6=>'-\x20'+_0x2be1b6[_0x4066f5(0x3ed)][_0x4066f5(0x48b)])['join']('\x0a');if(!_0x29750c){displayResultsScoreOnly(_0x5366db,0x0,[],_0xf25898);return;}studentQuizArea['classList'][_0x4066f5(0x281)](_0x4066f5(0x396)),studentReadingArea[_0x4066f5(0x44b)][_0x4066f5(0x6f8)]('hidden'),studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x95bcb0=_0x4066f5(0x212)+currentDisplayedQuiz[_0x4066f5(0x479)]+_0x4066f5(0x64f)+_0x29750c+_0x4066f5(0x234),_0x1550b9={'type':_0x4066f5(0xd1),'properties':{'remedialContent':{'type':'STRING'}},'required':[_0x4066f5(0x771)]};try{const _0x591cf6=await callAnalysisApi(_0x95bcb0,_0x1550b9),_0x2fc9f8=_0x591cf6[_0x4066f5(0x771)];studentReadingArea[_0x4066f5(0x52d)]=_0x4066f5(0x123)+_0x2fc9f8[_0x4066f5(0x618)](/\n/g,_0x4066f5(0x55f))+_0x4066f5(0xf8),document[_0x4066f5(0x140)](_0x4066f5(0x179))[_0x4066f5(0x14b)](_0x4066f5(0x268),()=>generateRemedialQuiz(_0x29750c));}catch(_0x37042a){console[_0x4066f5(0x377)](_0x4066f5(0x3de),_0x37042a),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x5366db,0x0,[],_0xf25898);}}async function generateRemedialQuiz(_0x41f39a){const _0x209f42=_0x284edd;studentReadingArea['innerHTML']=_0x209f42(0x38f);const _0x355ff5=_0x209f42(0x3b8)+_0x41f39a+_0x209f42(0x17f)+simpleMathPrompt+_0x209f42(0x574),_0x2bfbf7={'type':_0x209f42(0xd1),'properties':{'questionText':{'type':_0x209f42(0x1d1)},'options':{'type':_0x209f42(0x696),'items':{'type':_0x209f42(0x1d1)}},'correctAnswerIndex':{'type':_0x209f42(0x5a5)},'explanation':{'type':_0x209f42(0x1d1)}},'required':['questionText',_0x209f42(0x230),'correctAnswerIndex',_0x209f42(0x48b)]},_0x2d05f6={'type':_0x209f42(0xd1),'properties':{'topic':{'type':_0x209f42(0x1d1)},'questions':{'type':'ARRAY','items':_0x2bfbf7}},'required':[_0x209f42(0x479),_0x209f42(0x7d0)]};try{const _0x26706e=await callAnalysisApi(_0x355ff5,_0x2d05f6);_0x26706e[_0x209f42(0x6eb)]=!![],studentReadingArea[_0x209f42(0x44b)]['add']('hidden');const _0x95a456={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x209f42(0x239)};_0x26706e[_0x209f42(0x78b)]=_0x95a456,displayQuizForStudent(_0x26706e);}catch(_0x1fad25){console[_0x209f42(0x377)](_0x209f42(0x12b),_0x1fad25),showMessage(_0x209f42(0x4ac)),showView(_0x209f42(0x1d3));}}function displayPassFailOnly(_0x3f5fec,_0x849447){const _0x2dfa58=_0x284edd,_0x259a1b=currentDisplayedQuiz[_0x2dfa58(0x78b)]?.[_0x2dfa58(0x7b6)]??-0x1,_0x510f21=currentDisplayedQuiz['isRemedial']===!![];let _0x5e22f5='';if(_0x510f21||_0x259a1b!==-0x1){let _0x4e5806;_0x510f21?_0x4e5806=_0x3f5fec===_0x849447:_0x4e5806=_0x3f5fec>=_0x259a1b;const _0x1d268a=_0x4e5806?_0x2dfa58(0x29f):_0x2dfa58(0x686),_0x60f053=_0x4e5806?_0x2dfa58(0x34c):_0x2dfa58(0x24a);_0x5e22f5=_0x2dfa58(0x6f3)+_0x1d268a+'\x22>'+_0x60f053+_0x2dfa58(0x13b);}else _0x5e22f5=_0x2dfa58(0x653);let _0x1759c8=_0x2dfa58(0x48c)+currentStudentName+_0x2dfa58(0x3bb)+_0x5e22f5+_0x2dfa58(0x53f);studentResultArea[_0x2dfa58(0x52d)]=_0x1759c8,studentResultArea[_0x2dfa58(0x44b)][_0x2dfa58(0x6f8)](_0x2dfa58(0x396)),studentQuizArea[_0x2dfa58(0x44b)]['add'](_0x2dfa58(0x396));const _0x3d3f6c=_0x2dfa58(0x25c),_0x5a3036=currentMode==='admin-testing',_0x369013=_0x5a3036?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':_0x2dfa58(0x22b),_0xd64a0=_0x2dfa58(0x218)+_0x3d3f6c+_0x2dfa58(0x224)+_0x369013+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML']('beforeend',_0xd64a0),document[_0x2dfa58(0x140)](_0x3d3f6c)[_0x2dfa58(0x14b)](_0x2dfa58(0x268),()=>{const _0x3deef8=_0x2dfa58;_0x5a3036?(currentMode='admin',studentView[_0x3deef8(0x44b)]['add']('hidden'),adminView[_0x3deef8(0x44b)][_0x3deef8(0x6f8)](_0x3deef8(0x396)),showView(_0x3deef8(0x154))):(showView(_0x3deef8(0x1d3)),document[_0x3deef8(0x140)](_0x3deef8(0x3d7))['value']='');});}function cancelAdminTest(){const _0x3464c9=_0x284edd;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x3464c9(0x4df),studentView[_0x3464c9(0x44b)]['add']('hidden'),adminView['classList'][_0x3464c9(0x6f8)]('hidden'),showView('project-detail');}function setupResultScreenBackButton(){const _0x2bf1e8=_0x284edd,_0x3230c6='back-from-results-btn',_0x1d8b7e=currentMode===_0x2bf1e8(0x132),_0x4dfda2=_0x1d8b7e?_0x2bf1e8(0x3aa):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x8daad3=_0x2bf1e8(0x39a)+_0x3230c6+_0x2bf1e8(0x40c)+_0x4dfda2+_0x2bf1e8(0x497);studentResultArea['insertAdjacentHTML']('beforeend',_0x8daad3),studentResultArea['querySelector'](_0x2bf1e8(0x53c))['addEventListener'](_0x2bf1e8(0x268),handleShowStudentRankings),document[_0x2bf1e8(0x140)](_0x3230c6)['addEventListener'](_0x2bf1e8(0x268),()=>{const _0x50b2ad=_0x2bf1e8;_0x1d8b7e?(currentMode='admin',studentView[_0x50b2ad(0x44b)][_0x50b2ad(0x281)]('hidden'),adminView[_0x50b2ad(0x44b)][_0x50b2ad(0x6f8)](_0x50b2ad(0x396)),showView(_0x50b2ad(0x154))):(showView(_0x50b2ad(0x1d3)),document[_0x50b2ad(0x140)](_0x50b2ad(0x3d7))[_0x50b2ad(0x617)]='');});}function displayResultsWithAnswers(_0x4fd40c,_0x446144,_0x588f64,_0x4c61d9,_0x1104cb){const _0x215662=_0x284edd,_0x10c105=_0x1104cb>0x0?_0x4fd40c/_0x1104cb*0x64:0x0,_0x56f779=currentDisplayedQuiz['settings']?.[_0x215662(0x7b6)]??-0x1,_0x23f7bf=currentDisplayedQuiz[_0x215662(0x6eb)]===!![];let _0x26212c='';if(_0x23f7bf||_0x56f779!==-0x1){let _0x7fe94a=_0x23f7bf?_0x4fd40c===_0x1104cb:_0x4fd40c>=_0x56f779;const _0x6bbdbb=_0x7fe94a?'bg-green-100\x20text-green-800':_0x215662(0x686),_0x5c724d=_0x7fe94a?_0x215662(0x34c):'ไม่ผ่าน';_0x26212c=_0x215662(0x354)+_0x6bbdbb+'\x22>'+_0x5c724d+'</p>';}let _0x4835e5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x4fd40c+_0x215662(0x190)+_0x1104cb+_0x215662(0x16a)+_0x26212c+_0x215662(0x2f5)+_0x446144+_0x215662(0x7c8)+_0x10c105[_0x215662(0x1a2)](0x0)+_0x215662(0x3dd);currentDisplayedQuiz[_0x215662(0x7d0)][_0x215662(0x335)]((_0x19db9c,_0x44286b)=>{const _0x12c2f0=_0x215662,_0x5c2611=_0x4c61d9[_0x44286b],_0x1650a5=_0x5c2611[_0x12c2f0(0x106)],_0x1298d4=_0x5c2611[_0x12c2f0(0x6e4)],_0x2447fc=_0x19db9c[_0x12c2f0(0x103)]||currentDisplayedQuiz[_0x12c2f0(0x255)];_0x4835e5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x1298d4?'border-green-300\x20bg-green-50':_0x12c2f0(0x492))+_0x12c2f0(0x206)+(_0x44286b+0x1)+'.\x20'+(_0x19db9c['stem']||_0x19db9c['questionText'])+_0x12c2f0(0x3e4);switch(_0x2447fc){case _0x12c2f0(0x159):const _0x3487ec=_0x1650a5||_0x12c2f0(0x143),_0x41d859=_0x19db9c[_0x12c2f0(0x708)];_0x4835e5+=_0x12c2f0(0x572)+(!_0x1298d4?_0x12c2f0(0x249):'')+'\x22>'+_0x3487ec+'</span></p>';!_0x1298d4&&(_0x4835e5+=_0x12c2f0(0x1ef)+_0x41d859+_0x12c2f0(0x18d));break;case _0x12c2f0(0x4eb):_0x4835e5+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x1650a5||_0x12c2f0(0x143))+'</p>',_0x4835e5+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x19db9c[_0x12c2f0(0x49c)]+'</p>';break;case'true_false':_0x4835e5+='<p\x20class=\x22'+(_0x19db9c['correctAnswer']===!![]?_0x12c2f0(0x5a1):'')+'\x20'+(_0x1650a5===_0x12c2f0(0x367)&&!_0x1298d4?_0x12c2f0(0x249):'')+'\x22>ใช่</p>',_0x4835e5+=_0x12c2f0(0x15d)+(_0x19db9c[_0x12c2f0(0x7a4)]===![]?_0x12c2f0(0x5a1):'')+'\x20'+(_0x1650a5===_0x12c2f0(0x525)&&!_0x1298d4?_0x12c2f0(0x249):'')+'\x22>ไม่ใช่</p>';break;case _0x12c2f0(0x4f9):case _0x12c2f0(0x267):default:_0x4835e5+=_0x19db9c['options'][_0x12c2f0(0x666)]((_0x26f08e,_0x18e9a0)=>{const _0x4799d3=_0x12c2f0;let _0x51fc36='',_0x1fa844='';if(_0x18e9a0===_0x19db9c[_0x4799d3(0x31c)])_0x51fc36='font-bold\x20text-green-700',_0x1fa844=_0x4799d3(0x6cd);else _0x18e9a0===_0x1650a5&&(_0x51fc36=_0x4799d3(0x757),_0x1fa844='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x51fc36+'\x22>'+_0x1fa844+_0x26f08e+_0x4799d3(0x477);})['join']('');break;}_0x4835e5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x19db9c[_0x12c2f0(0x48b)]||_0x12c2f0(0x654))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(!_0x1298d4){const _0x4e5141=_0x19db9c[_0x12c2f0(0x63f)]||_0x19db9c[_0x12c2f0(0x28d)];_0x4835e5+=_0x12c2f0(0x265)+escape(_0x4e5141)+_0x12c2f0(0x356);}_0x4835e5+=_0x12c2f0(0x184);}),studentResultArea['innerHTML']=_0x4835e5,renderEarnedBadges(_0x588f64,_0x215662(0x7db)),studentResultArea['classList'][_0x215662(0x6f8)](_0x215662(0x396)),studentQuizArea[_0x215662(0x44b)][_0x215662(0x281)]('hidden'),setupResultScreenBackButton();if(window['MathJax'])window[_0x215662(0x476)][_0x215662(0x41b)]([studentResultArea]);}function displayResultsScoreOnly(_0x18cf93,_0x322f6c,_0xa708b6,_0x1bea3e){const _0x40b278=_0x284edd,_0x47d543=_0x1bea3e>0x0?_0x18cf93/_0x1bea3e*0x64:0x0,_0x2505cd=currentDisplayedQuiz[_0x40b278(0x78b)]?.[_0x40b278(0x7b6)]??-0x1,_0x115fd7=currentDisplayedQuiz['isRemedial']===!![];let _0x2218f9='';if(_0x115fd7||_0x2505cd!==-0x1){let _0x260efc;_0x115fd7?_0x260efc=_0x18cf93===_0x1bea3e:_0x260efc=_0x18cf93>=_0x2505cd;const _0x55075c=_0x260efc?_0x40b278(0x29f):_0x40b278(0x686),_0x425513=_0x260efc?_0x40b278(0x34c):_0x40b278(0x24a);_0x2218f9=_0x40b278(0x354)+_0x55075c+'\x22>'+_0x425513+_0x40b278(0x18d);}let _0xb1ecb=_0x40b278(0x798)+currentStudentName+_0x40b278(0x371)+_0x18cf93+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x1bea3e+_0x40b278(0x16a)+_0x2218f9+_0x40b278(0x2f5)+_0x322f6c+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x47d543[_0x40b278(0x1a2)](0x0)+_0x40b278(0x32f);studentResultArea[_0x40b278(0x52d)]=_0xb1ecb,renderEarnedBadges(_0xa708b6,_0x40b278(0x7db)),studentResultArea[_0x40b278(0x44b)][_0x40b278(0x6f8)](_0x40b278(0x396)),studentQuizArea[_0x40b278(0x44b)][_0x40b278(0x281)](_0x40b278(0x396)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x3e1fca=_0x284edd;let _0x2f19fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x3e1fca(0x7a7);studentResultArea['innerHTML']=_0x2f19fb,studentResultArea[_0x3e1fca(0x44b)]['remove'](_0x3e1fca(0x396)),studentQuizArea[_0x3e1fca(0x44b)]['add']('hidden'),document[_0x3e1fca(0x140)]('back-to-home-manual-release')[_0x3e1fca(0x14b)](_0x3e1fca(0x268),()=>{const _0x14f782=_0x3e1fca;showView('student'),document[_0x14f782(0x140)](_0x14f782(0x3d7))[_0x14f782(0x617)]='';});}function renderEarnedBadges(_0x598a0d,_0x132642){const _0x3ef3f7=_0x284edd,_0x738d70=document[_0x3ef3f7(0x140)](_0x132642);if(!_0x738d70||!_0x598a0d||_0x598a0d[_0x3ef3f7(0x357)]===0x0)return;let _0x4fde3a='';_0x598a0d[_0x3ef3f7(0x335)]((_0x33f34c,_0x34f7ff)=>{const _0x31fd5e=_0x3ef3f7,_0x55749a=Object[_0x31fd5e(0x511)](BADGES)[_0x31fd5e(0x4b7)](_0x4bd4b2=>_0x4bd4b2['id']===_0x33f34c);_0x55749a&&(_0x4fde3a+=_0x31fd5e(0x625)+_0x34f7ff*0.2+_0x31fd5e(0x37d)+_0x55749a[_0x31fd5e(0x25e)]+_0x31fd5e(0x1c0)+_0x55749a[_0x31fd5e(0x278)]+_0x31fd5e(0x271)+_0x55749a[_0x31fd5e(0x61e)]+_0x31fd5e(0x5db));}),_0x738d70[_0x3ef3f7(0x52d)]=_0x4fde3a;}function startPresentation(_0x44d288){const _0x57ee79=_0x284edd;currentQuizData=getShuffledQuiz(_0x44d288),currentPresentationSlide=0x0,presentationModal['style'][_0x57ee79(0x2e5)]=_0x57ee79(0x216),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1b69ba=_0x284edd;document[_0x1b69ba(0x210)]&&document['exitFullscreen'](),presentationModal['style'][_0x1b69ba(0x2e5)]=_0x1b69ba(0x3e7);}function renderPresentationSlide(_0x4471f8){const _0x4be669=_0x284edd,_0x36204e=document['getElementById'](_0x4be669(0x71e));if(!currentQuizData||!currentQuizData[_0x4be669(0x7d0)]||!currentQuizData['questions'][_0x4471f8]){_0x36204e[_0x4be669(0x52d)]=_0x4be669(0x1d8);return;}const _0x517378=currentQuizData[_0x4be669(0x7d0)][_0x4471f8],_0x4a8936=_0x517378[_0x4be669(0x103)]||currentQuizData[_0x4be669(0x255)];_0x36204e[_0x4be669(0x52d)]='';let _0x2b959c=_0x4be669(0x1b1)+(_0x517378[_0x4be669(0x526)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x517378['imageCode']+_0x4be669(0x477):'')+_0x4be669(0x261)+(_0x4471f8+0x1)+'.\x20'+(_0x517378[_0x4be669(0x63f)]||_0x517378['questionText'])+_0x4be669(0x6d7);switch(_0x4a8936){case _0x4be669(0x159):_0x2b959c+=_0x517378[_0x4be669(0x260)][_0x4be669(0x666)](_0x24f7e0=>_0x4be669(0x73d)+_0x24f7e0+_0x4be669(0x301))[_0x4be669(0x4be)]('');break;case _0x4be669(0x7de):_0x2b959c+=_0x4be669(0x43d),_0x2b959c+=_0x4be669(0xf4);break;case'fill_in_no_choices':case _0x4be669(0x4eb):_0x2b959c+=_0x4be669(0x3db);break;case _0x4be669(0x4f9):case _0x4be669(0x267):default:_0x2b959c+=_0x517378[_0x4be669(0x230)][_0x4be669(0x666)]((_0x1d8b50,_0x57118f)=>_0x4be669(0x3bd)+_0x57118f+_0x4be669(0x749)+_0x1d8b50+_0x4be669(0x301))[_0x4be669(0x4be)]('');break;}_0x2b959c+=_0x4be669(0x694)+(_0x517378[_0x4be669(0x48b)]||'ไม่มีคำอธิบาย')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x36204e['innerHTML']=_0x2b959c;if(window['MathJax'])window['MathJax'][_0x4be669(0x41b)]([_0x36204e]);document[_0x4be669(0x39b)]('.presentation-option')[_0x4be669(0x335)](_0x433e77=>{const _0x4872fa=_0x4be669;_0x433e77['addEventListener'](_0x4872fa(0x268),_0xbaaa5c=>revealAnswerForPresentation(_0x4471f8,_0xbaaa5c[_0x4872fa(0x4a5)]));});const _0x226ad3=document[_0x4be669(0x140)]('check-presentation-answer-btn');_0x226ad3&&_0x226ad3[_0x4be669(0x14b)](_0x4be669(0x268),()=>checkShortAnswerForPresentation(_0x4471f8)),document['getElementById'](_0x4be669(0x1a6))[_0x4be669(0x61d)]='ข้อที่\x20'+(_0x4471f8+0x1)+'\x20/\x20'+currentQuizData['questions']['length'],document[_0x4be669(0x140)]('prev-question-btn')[_0x4be669(0x54e)]=_0x4471f8===0x0,document[_0x4be669(0x140)](_0x4be669(0x591))[_0x4be669(0x54e)]=_0x4471f8===currentQuizData['questions'][_0x4be669(0x357)]-0x1;}async function checkShortAnswerForPresentation(_0x54d06b){const _0x2fd526=_0x284edd,_0x24abe3=currentQuizData[_0x2fd526(0x7d0)][_0x54d06b],_0x347aba=document[_0x2fd526(0x140)](_0x2fd526(0x735)),_0x416d23=document[_0x2fd526(0x140)](_0x2fd526(0x2de)),_0x187d70=document['getElementById'](_0x2fd526(0x385)),_0xc1af00=document[_0x2fd526(0x140)](_0x2fd526(0x1a8));if(!_0x347aba||!_0x416d23||!_0x187d70||!_0xc1af00)return;const _0x320e22=_0x347aba['value'][_0x2fd526(0xd4)]();if(_0x320e22==='')return;_0x416d23['disabled']=!![],_0x416d23[_0x2fd526(0x52d)]=_0x2fd526(0x50c),_0x347aba[_0x2fd526(0x54e)]=!![];const _0x4a233b=await gradeShortAnswer(_0x320e22,_0x24abe3);_0x4a233b?_0x187d70['innerHTML']=_0x2fd526(0x48f):_0x187d70['innerHTML']=_0x2fd526(0x7b4)+_0x24abe3[_0x2fd526(0x49c)]+')',_0x187d70[_0x2fd526(0x44b)]['remove'](_0x2fd526(0x396)),_0xc1af00[_0x2fd526(0x44b)][_0x2fd526(0x6f8)](_0x2fd526(0x396)),_0x416d23[_0x2fd526(0x44b)][_0x2fd526(0x281)](_0x2fd526(0x396));}function revealAnswerForPresentation(_0x57dd89,_0x3aea0e){const _0x47a465=_0x284edd,_0x51cb1c=currentQuizData[_0x47a465(0x7d0)][_0x57dd89],_0x423648=_0x51cb1c[_0x47a465(0x103)]||currentQuizData[_0x47a465(0x255)];document[_0x47a465(0x39b)](_0x47a465(0x1ee))[_0x47a465(0x335)](_0x15baa4=>{const _0x28be56=_0x47a465;_0x15baa4[_0x28be56(0x54e)]=!![],_0x15baa4[_0x28be56(0x44b)][_0x28be56(0x6f8)](_0x28be56(0x4da));let _0xc6b73e=![];if(_0x423648==='multiple_choice'||_0x423648===_0x28be56(0x4f9)){const _0x67197d=parseInt(_0x15baa4[_0x28be56(0x557)][_0x28be56(0x114)]);_0xc6b73e=_0x67197d===_0x51cb1c[_0x28be56(0x31c)];}else{if(_0x423648===_0x28be56(0x7de)){const _0xc7b5ad=_0x15baa4[_0x28be56(0x557)][_0x28be56(0x106)]==='true';_0xc6b73e=_0xc7b5ad===_0x51cb1c['correctAnswer'];}else _0x423648==='matching_item'&&(_0xc6b73e=_0x15baa4[_0x28be56(0x61d)][_0x28be56(0xd4)]()===_0x51cb1c[_0x28be56(0x708)]);}_0xc6b73e?_0x15baa4[_0x28be56(0x44b)]['add'](_0x28be56(0x5cd),'text-white',_0x28be56(0x37f)):_0x15baa4[_0x28be56(0x44b)][_0x28be56(0x281)](_0x28be56(0x649));}),_0x3aea0e[_0x47a465(0x44b)]['remove'](_0x47a465(0x649));let _0x16e757=![];if(_0x423648===_0x47a465(0x267))_0x16e757=parseInt(_0x3aea0e[_0x47a465(0x557)][_0x47a465(0x114)])===_0x51cb1c['correctAnswerIndex'];else{if(_0x423648===_0x47a465(0x7de))_0x16e757=_0x3aea0e[_0x47a465(0x557)][_0x47a465(0x106)]===_0x47a465(0x367)===_0x51cb1c[_0x47a465(0x7a4)];else _0x423648===_0x47a465(0x159)&&(_0x16e757=_0x3aea0e[_0x47a465(0x61d)][_0x47a465(0xd4)]()===_0x51cb1c[_0x47a465(0x708)]);}!_0x16e757&&_0x3aea0e[_0x47a465(0x44b)][_0x47a465(0x281)](_0x47a465(0x5de),'text-white',_0x47a465(0x773)),document[_0x47a465(0x140)](_0x47a465(0x1a8))[_0x47a465(0x44b)][_0x47a465(0x6f8)](_0x47a465(0x396));}function startWholeQuizTimer(_0x53da81){const _0x4aa51f=_0x284edd,_0x4f190f=document[_0x4aa51f(0x140)]('timer-container');if(!_0x4f190f)return;const _0x287e44=Date['now']()+_0x53da81*0x3c*0x3e8;_0x4f190f['innerHTML']=_0x4aa51f(0x30a);const _0x36185d=document[_0x4aa51f(0x140)](_0x4aa51f(0x49f));quizTimerInterval=setInterval(()=>{const _0x4bdca3=_0x4aa51f,_0x571aef=_0x287e44-Date['now']();if(_0x571aef<=0x0)clearInterval(quizTimerInterval),_0x36185d[_0x4bdca3(0x61d)]='00:00',showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x5410f1=Math[_0x4bdca3(0x4b2)](_0x571aef/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x29054c=Math['floor'](_0x571aef/0x3e8%0x3c)[_0x4bdca3(0x722)]()[_0x4bdca3(0x66a)](0x2,'0');_0x36185d['textContent']=_0x5410f1+':'+_0x29054c;}},0x3e8);}function renderPerQuestionView(){const _0x4226c1=_0x284edd;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x41533a=currentDisplayedQuiz[_0x4226c1(0x7d0)][currentQuestionIndex],_0x410899=_0x41533a[_0x4226c1(0x103)]||currentDisplayedQuiz[_0x4226c1(0x255)];let _0x22735f=_0x4226c1(0x11e)+(currentQuestionIndex+0x1)+_0x4226c1(0xe0)+currentDisplayedQuiz['questions'][_0x4226c1(0x357)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x4226c1(0x58a):'')+_0x4226c1(0x3e0)+currentDisplayedQuiz[_0x4226c1(0x479)]+_0x4226c1(0x416)+(currentQuestionIndex===currentDisplayedQuiz[_0x4226c1(0x7d0)]['length']-0x1?_0x4226c1(0x6fa):_0x4226c1(0x2a4))+_0x4226c1(0x23c);studentQuizArea[_0x4226c1(0x52d)]=_0x22735f;let _0x446998='',_0x5f3556='';switch(_0x410899){case _0x4226c1(0x159):_0x446998=currentQuestionIndex+0x1+'.\x20'+_0x41533a[_0x4226c1(0x63f)],_0x5f3556=_0x4226c1(0x2f2)+_0x41533a[_0x4226c1(0x260)][_0x4226c1(0x666)](_0x563554=>'<option\x20value=\x22'+_0x563554+'\x22>'+_0x563554+'</option>')[_0x4226c1(0x4be)]('')+_0x4226c1(0xf6);break;case _0x4226c1(0x7de):_0x446998=currentQuestionIndex+0x1+'.\x20'+_0x41533a['questionText'],_0x5f3556='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4226c1(0x4eb):case _0x4226c1(0x4b4):_0x446998=currentQuestionIndex+0x1+'.\x20'+_0x41533a['questionText'],_0x5f3556='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case'multiple_choice':case _0x4226c1(0x672):default:_0x446998=currentQuestionIndex+0x1+'.\x20'+_0x41533a[_0x4226c1(0x28d)],_0x5f3556=_0x41533a[_0x4226c1(0x230)][_0x4226c1(0x666)]((_0x2ca72c,_0x3b5aef)=>_0x4226c1(0x6b5)+_0x3b5aef+_0x4226c1(0x3f4)+_0x3b5aef+_0x4226c1(0x1b5)+_0x3b5aef+'\x22>'+_0x2ca72c+_0x4226c1(0x6a2))[_0x4226c1(0x4be)]('');break;}_0x41533a[_0x4226c1(0x526)]&&(_0x446998+=_0x4226c1(0x360)+_0x41533a[_0x4226c1(0x526)]+_0x4226c1(0x477));document[_0x4226c1(0x140)]('per-question-text')[_0x4226c1(0x52d)]=_0x446998,document[_0x4226c1(0x140)]('per-question-options')['innerHTML']=_0x5f3556;if(currentMode===_0x4226c1(0x132)){const _0x22004d=document['getElementById']('cancel-test-btn');if(_0x22004d)_0x22004d[_0x4226c1(0x14b)](_0x4226c1(0x268),cancelAdminTest);}document[_0x4226c1(0x140)](_0x4226c1(0x136))[_0x4226c1(0x14b)](_0x4226c1(0x268),()=>handleNextQuestionInTimedMode(![]));if(window[_0x4226c1(0x476)])window[_0x4226c1(0x476)][_0x4226c1(0x41b)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x38acd6=_0x284edd,_0x347404=currentDisplayedQuiz[_0x38acd6(0x78b)][_0x38acd6(0xee)],_0x8000c1=document['getElementById'](_0x38acd6(0x613));if(!_0x8000c1)return;let _0x30c98f=_0x347404;_0x8000c1[_0x38acd6(0x52d)]=_0x38acd6(0x461)+_0x30c98f+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x1bf9b4=document[_0x38acd6(0x140)]('timer-bar'),_0x51b9ec=document[_0x38acd6(0x140)](_0x38acd6(0x59c));perQuestionTimerInterval=setInterval(()=>{const _0x5a9746=_0x38acd6;_0x30c98f--;const _0x58def1=_0x30c98f/_0x347404*0x64;_0x1bf9b4[_0x5a9746(0x3ca)][_0x5a9746(0x2f9)]=_0x58def1+'%',_0x51b9ec[_0x5a9746(0x61d)]=_0x30c98f,_0x30c98f<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x456757=![]){const _0x2a9a54=_0x284edd;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x436207=null;if(!_0x456757){const _0x106220=currentDisplayedQuiz[_0x2a9a54(0x7d0)][currentQuestionIndex],_0x9afb02=_0x106220[_0x2a9a54(0x103)]||currentDisplayedQuiz[_0x2a9a54(0x255)];if(_0x9afb02===_0x2a9a54(0x4eb)||_0x9afb02==='fill_in_no_choices'){const _0x5d1a99=document[_0x2a9a54(0x62c)](_0x2a9a54(0x519));_0x436207=_0x5d1a99?_0x5d1a99[_0x2a9a54(0x617)]['trim']():'';}else{if(_0x9afb02===_0x2a9a54(0x159)){const _0x4649b0=document[_0x2a9a54(0x62c)]('#per-question-options\x20select');_0x436207=_0x4649b0?_0x4649b0['value']:'';}else{const _0x2f2211=document[_0x2a9a54(0x62c)](_0x2a9a54(0x72e));if(_0x2f2211){const _0x5ab4cd=_0x2f2211[_0x2a9a54(0x617)];_0x436207=!isNaN(parseInt(_0x5ab4cd,0xa))&&_0x5ab4cd[_0x2a9a54(0xd4)]()!==''?parseInt(_0x5ab4cd,0xa):_0x5ab4cd;}}}}studentAnswersPerQuestion[_0x2a9a54(0x1b8)](_0x436207),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2a9a54(0x7d0)][_0x2a9a54(0x357)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x2fba14=_0x284edd,_0xf416a5=currentDisplayedQuiz[_0x2fba14(0x7d0)][_0x2fba14(0x450)](_0x26d3a5=>_0x26d3a5[_0x2fba14(0x103)]===_0x2fba14(0x4eb));_0xf416a5?showMessage(_0x2fba14(0xf9)):showMessage(_0x2fba14(0x755));const _0x21b456=currentQuizData['id'],_0x339efb=doc(db,_0x2fba14(0x6c1)+appId+_0x2fba14(0x65e)+_0x21b456+'/submissions',currentStudentName),_0x5c48fc=await getDoc(_0x339efb),_0x3a626d=_0x5c48fc[_0x2fba14(0x4dc)]()?_0x5c48fc['data']():{},_0x48e6f3=_0x3a626d[_0x2fba14(0x2bb)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x48e6f3);}function getResultsFilename(){const _0x14837f=_0x284edd,_0x59f8e9=document[_0x14837f(0x140)]('results-quiz-title')['textContent'][_0x14837f(0x618)](/[^a-z0-9]/gi,'_')[_0x14837f(0x6d3)]();return _0x14837f(0x491)+(_0x59f8e9||_0x14837f(0x5a9));}function exportResultsAsImage(){const _0xc8a67c=_0x284edd,_0x1f8434=document[_0xc8a67c(0x140)]('results-table-container');showMessage(_0xc8a67c(0x42c)),html2canvas(_0x1f8434)[_0xc8a67c(0x306)](_0x34ffbd=>{const _0x52c4d8=_0xc8a67c,_0x299f7c=document[_0x52c4d8(0x36d)]('a');_0x299f7c[_0x52c4d8(0x3b6)]=getResultsFilename()+_0x52c4d8(0x785),_0x299f7c[_0x52c4d8(0x426)]=_0x34ffbd[_0x52c4d8(0x4a2)](_0x52c4d8(0x468)),_0x299f7c[_0x52c4d8(0x268)](),messageModal['classList'][_0x52c4d8(0x281)]('hidden');});}function exportResultsAsPDF(){const _0x38fefb=_0x284edd,{jsPDF:_0x14fc32}=window['jspdf'],_0x113ee2=new _0x14fc32();_0x113ee2[_0x38fefb(0x71b)](_0x38fefb(0x581),'normal'),_0x113ee2[_0x38fefb(0x7af)]({'html':'#results-table'}),_0x113ee2[_0x38fefb(0x373)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x4a1768=_0x284edd,_0x302c00=_0x4a1768(0x783)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x4a1768(0x3f1)+_0x4a1768(0x29b),_0x2cbf00=_0x4a1768(0x380),_0x289987=_0x302c00+document['getElementById'](_0x4a1768(0xca))['innerHTML']+_0x2cbf00,_0x345bde=_0x4a1768(0x2e3)+encodeURIComponent(_0x289987),_0x24fe9f=document[_0x4a1768(0x36d)]('a');document['body'][_0x4a1768(0x34f)](_0x24fe9f),_0x24fe9f['href']=_0x345bde,_0x24fe9f[_0x4a1768(0x3b6)]=getResultsFilename()+_0x4a1768(0x5c7),_0x24fe9f['click'](),document['body'][_0x4a1768(0x2c8)](_0x24fe9f);}function exportResultsAsExcel(){const _0x569e13=_0x284edd,_0x433fa8=document['getElementById'](_0x569e13(0x768));let _0x45ba5f=[];for(let _0x908ce2=0x0;_0x908ce2<_0x433fa8['rows']['length'];_0x908ce2++){let _0xe54d6a=[],_0x463663=_0x433fa8[_0x569e13(0x200)][_0x908ce2][_0x569e13(0x39b)](_0x569e13(0x60a));for(let _0x54656c=0x0;_0x54656c<_0x463663[_0x569e13(0x357)];_0x54656c++){_0xe54d6a['push']('\x22'+_0x463663[_0x54656c][_0x569e13(0x760)][_0x569e13(0x618)](/"/g,'\x22\x22')+'\x22');}_0x45ba5f['push'](_0xe54d6a['join'](','));}const _0x1f6a5d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x45ba5f['join']('\x0a')],{'type':_0x569e13(0x5d4)}),_0xba35d4=document[_0x569e13(0x36d)]('a');_0xba35d4[_0x569e13(0x426)]=URL['createObjectURL'](_0x1f6a5d),_0xba35d4[_0x569e13(0x3b6)]=getResultsFilename()+_0x569e13(0x5c5),_0xba35d4[_0x569e13(0x268)]();}function exportTableAsImage(_0x3aa42a,_0x2655b7){const _0x47a604=_0x284edd,_0xd30da2=document[_0x47a604(0x140)](_0x3aa42a);if(!_0xd30da2){showMessage(_0x47a604(0x6fe));return;}showMessage(_0x47a604(0x42c)),html2canvas(_0xd30da2)[_0x47a604(0x306)](_0x485d02=>{const _0x48ae8d=_0x47a604,_0x3839a4=document[_0x48ae8d(0x36d)]('a');_0x3839a4[_0x48ae8d(0x3b6)]=_0x2655b7+'.png',_0x3839a4[_0x48ae8d(0x426)]=_0x485d02[_0x48ae8d(0x4a2)](_0x48ae8d(0x468)),_0x3839a4[_0x48ae8d(0x268)](),messageModal[_0x48ae8d(0x44b)]['add'](_0x48ae8d(0x396));});}function exportTableAsPDF(_0x1cc5dd,_0x3edab7){const _0x2052d7=_0x284edd,{jsPDF:_0x428c3e}=window[_0x2052d7(0x517)],_0x58693c=new _0x428c3e();_0x58693c[_0x2052d7(0x71b)]('helvetica',_0x2052d7(0x32e)),_0x58693c[_0x2052d7(0x7af)]({'html':'#'+_0x1cc5dd}),_0x58693c['save'](_0x3edab7+_0x2052d7(0x296));}function exportTableAsWord(_0x448114,_0x57671d){const _0x523b2b=_0x284edd,_0x50d4e0=document['getElementById'](_0x448114);if(!_0x50d4e0){showMessage(_0x523b2b(0x6fe));return;}const _0x24baef='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x523b2b(0x2bc)+_0x523b2b(0x3f1)+_0x523b2b(0x29b),_0x2675f6='</body></html>',_0x5bc0d9=_0x24baef+_0x50d4e0[_0x523b2b(0x52d)]+_0x2675f6,_0x4adae2='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x5bc0d9),_0x10cf1d=document[_0x523b2b(0x36d)]('a');document[_0x523b2b(0x4a8)][_0x523b2b(0x34f)](_0x10cf1d),_0x10cf1d[_0x523b2b(0x426)]=_0x4adae2,_0x10cf1d[_0x523b2b(0x3b6)]=_0x57671d+'.doc',_0x10cf1d['click'](),document['body'][_0x523b2b(0x2c8)](_0x10cf1d);}function exportTableAsExcel(_0x5c372a,_0x4e9ae9){const _0x31d8c2=_0x284edd,_0x22bed8=document[_0x31d8c2(0x140)](_0x5c372a);if(!_0x22bed8){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x42ccd1=[];for(let _0x2f178d=0x0;_0x2f178d<_0x22bed8[_0x31d8c2(0x200)][_0x31d8c2(0x357)];_0x2f178d++){let _0x2d6956=[],_0x1629f3=_0x22bed8[_0x31d8c2(0x200)][_0x2f178d][_0x31d8c2(0x39b)]('td,\x20th');for(let _0x3a7c9a=0x0;_0x3a7c9a<_0x1629f3[_0x31d8c2(0x357)];_0x3a7c9a++){_0x2d6956[_0x31d8c2(0x1b8)]('\x22'+_0x1629f3[_0x3a7c9a][_0x31d8c2(0x760)][_0x31d8c2(0x618)](/"/g,'\x22\x22')+'\x22');}_0x42ccd1[_0x31d8c2(0x1b8)](_0x2d6956[_0x31d8c2(0x4be)](','));}const _0x333058=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x42ccd1[_0x31d8c2(0x4be)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x17d8e6=document[_0x31d8c2(0x36d)]('a');_0x17d8e6[_0x31d8c2(0x426)]=URL[_0x31d8c2(0x1b3)](_0x333058),_0x17d8e6[_0x31d8c2(0x3b6)]=_0x4e9ae9+_0x31d8c2(0x5c5),_0x17d8e6[_0x31d8c2(0x268)]();}function renderAnalytics(_0x3dac57,_0x13f218){const _0x32461c=_0x284edd,_0xe0183d=currentProjectData[_0x32461c(0x563)][_0x32461c(0x357)],_0x590531=_0x13f218['length'],_0x4e91b7=_0xe0183d-_0x590531,_0x144cff=_0xe0183d>0x0?_0x590531/_0xe0183d*0x64:0x0,_0x578d6e=_0x13f218[_0x32461c(0x666)](_0x44b877=>_0x44b877[_0x32461c(0xda)]),_0x47631b=_0x578d6e['length']>0x0?_0x578d6e['reduce']((_0x195415,_0x49fb0c)=>_0x195415+_0x49fb0c,0x0)/_0x578d6e[_0x32461c(0x357)]:0x0,_0x505978=_0x3dac57[_0x32461c(0x7d0)][_0x32461c(0x357)],_0x464e59=_0x505978>0x0?_0x47631b/_0x505978*0x64:0x0,_0x3a281e=calculateItemAnalysis(_0x3dac57,_0x13f218),_0x592776=calculateReliabilityKR20(_0x3dac57,_0x13f218,_0x3a281e[_0x32461c(0x68c)]);let _0x2841d6='';if(_0x592776!==null){let _0x376511='';if(_0x592776>=0.9)_0x376511='ยอดเยี่ยม';else{if(_0x592776>=0.8)_0x376511=_0x32461c(0x361);else{if(_0x592776>=0.7)_0x376511='ดี';else{if(_0x592776>=0.6)_0x376511='พอใช้';else _0x376511=_0x32461c(0x38b);}}}_0x2841d6=_0x32461c(0x3f0)+_0x592776['toFixed'](0x2)+_0x32461c(0x3ac)+_0x376511+_0x32461c(0x7df);}const _0x1fcdf7=document[_0x32461c(0x140)](_0x32461c(0x37a));_0x1fcdf7[_0x32461c(0x52d)]=_0x32461c(0x1f9)+_0x144cff[_0x32461c(0x1a2)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x590531+'/'+_0xe0183d+_0x32461c(0x551)+_0x47631b[_0x32461c(0x1a2)](0x2)+_0x32461c(0x17b)+_0x464e59[_0x32461c(0x1a2)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x578d6e[_0x32461c(0x357)]>0x0?Math[_0x32461c(0x693)](..._0x578d6e):'N/A')+_0x32461c(0x69a)+(_0x578d6e[_0x32461c(0x357)]>0x0?Math[_0x32461c(0x428)](..._0x578d6e):_0x32461c(0x51f))+_0x32461c(0x6a4)+_0x2841d6+_0x32461c(0x574);const _0x1a9de9=document[_0x32461c(0x140)](_0x32461c(0x75c));_0x1a9de9&&_0x1a9de9[_0x32461c(0x6f8)]();const _0x30cf8c=_0x32461c(0x23a);_0x1fcdf7[_0x32461c(0x747)](_0x32461c(0x186),_0x30cf8c);const _0x3d853d=currentProjectData[_0x32461c(0x563)]||[];renderSubmissionChart(_0x590531,_0x4e91b7,_0x13f218,_0x3d853d),renderScoreDistributionChart(_0x13f218,_0x505978),renderQuestionAnalytics(_0x3dac57,_0x13f218,_0x3d853d),renderInterestingStats(_0x3dac57,_0x13f218);}async function handleExportLessonPDF(){const _0x11cb22=_0x284edd,_0x1e8554=document[_0x11cb22(0x140)](_0x11cb22(0x5e4)),_0x5dcf2f=document[_0x11cb22(0x140)](_0x11cb22(0x28b))[_0x11cb22(0x61d)],_0x3ef50d=window[_0x11cb22(0x524)]('',_0x11cb22(0x676)),_0x564f6f=_0x11cb22(0x391)+_0x5dcf2f+_0x11cb22(0x36e)+_0x1e8554['innerHTML']+_0x11cb22(0x539);_0x3ef50d[_0x11cb22(0x1a7)][_0x11cb22(0x2c5)](_0x564f6f),_0x3ef50d[_0x11cb22(0x1a7)][_0x11cb22(0x207)](),_0x3ef50d[_0x11cb22(0xdf)]=function(){setTimeout(()=>{const _0x284ffb=_0x323d;_0x3ef50d[_0x284ffb(0x79a)]();},0x5dc);};}function renderInterestingStats(_0x1451cd,_0x5c4dde){const _0xf8071a=_0x284edd,_0x1a289f=document[_0xf8071a(0x140)](_0xf8071a(0x3e2));if(!_0x1a289f)return;if(_0x5c4dde['length']===0x0){_0x1a289f[_0xf8071a(0x52d)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x3d002b=_0x1451cd['questions'][_0xf8071a(0x666)]((_0x3f2398,_0x3ffa75)=>({'index':_0x3ffa75+0x1,'text':_0x3f2398[_0xf8071a(0x28d)]||_0x3f2398[_0xf8071a(0x63f)],'correct':0x0}));_0x5c4dde['forEach'](_0x4f9db2=>{const _0x52a6db=_0xf8071a,_0x49e623=_0x4f9db2[_0x52a6db(0x2bb)][_0x4f9db2[_0x52a6db(0x2bb)][_0x52a6db(0x357)]-0x1];_0x49e623&&_0x49e623[_0x52a6db(0x6d2)]&&_0x49e623[_0x52a6db(0x6d2)][_0x52a6db(0x335)](_0x37f6c2=>{const _0x360b15=_0x52a6db,_0x3acfae=_0x3d002b[_0x360b15(0x4b7)](_0x53be11=>_0x53be11[_0x360b15(0x1fd)]===_0x37f6c2[_0x360b15(0x4ca)]);_0x37f6c2['isCorrect']&&_0x3acfae&&_0x3acfae[_0x360b15(0x4b9)]++;});});const _0x42b358=_0x5c4dde['length'],_0x59b703=Math['max'](..._0x3d002b['map'](_0x5b061c=>_0x5b061c[_0xf8071a(0x4b9)])),_0x47857e=Math[_0xf8071a(0x428)](..._0x3d002b[_0xf8071a(0x666)](_0x4c8cc1=>_0x4c8cc1['correct'])),_0x148ea6=_0x3d002b[_0xf8071a(0x3fe)](_0x593bef=>_0x593bef[_0xf8071a(0x4b9)]===_0x59b703)[_0xf8071a(0x666)](_0x2f2607=>_0xf8071a(0x2f0)+_0x2f2607[_0xf8071a(0x114)]),_0x28d8e8=_0x3d002b['filter'](_0x5cbec5=>_0x5cbec5[_0xf8071a(0x4b9)]===_0x47857e)[_0xf8071a(0x666)](_0x3cb6d7=>_0xf8071a(0x2f0)+_0x3cb6d7['index']),_0x4c9892=_0x5c4dde['sort']((_0xf8e784,_0x542478)=>_0x542478[_0xf8071a(0xda)]-_0xf8e784[_0xf8071a(0xda)])[_0xf8071a(0x3fe)]((_0x3f7617,_0x2575d5,_0x2b2507)=>_0x3f7617[_0xf8071a(0xda)]===_0x2b2507[0x0]['latestScore']),_0x314615=_0x5c4dde[_0xf8071a(0x137)]((_0x24b166,_0x551c27)=>_0x24b166['latestScore']-_0x551c27[_0xf8071a(0xda)])[_0xf8071a(0x3fe)]((_0x17995d,_0xc1a884,_0x554a2c)=>_0x17995d[_0xf8071a(0xda)]===_0x554a2c[0x0][_0xf8071a(0xda)]),_0x572444=_0xf8071a(0x225)+_0x148ea6[_0xf8071a(0x4be)](',\x20')+_0xf8071a(0x608)+_0x59b703+_0xf8071a(0x56b)+_0x42b358+_0xf8071a(0x213)+_0x28d8e8[_0xf8071a(0x4be)](',\x20')+_0xf8071a(0x608)+(_0x42b358-_0x47857e)+_0xf8071a(0x56b)+_0x42b358+_0xf8071a(0x339)+_0x4c9892[_0xf8071a(0x666)](_0x3dee07=>_0x3dee07[_0xf8071a(0x5c2)])[_0xf8071a(0x4be)](',\x20')+_0xf8071a(0x232)+_0x4c9892[0x0][_0xf8071a(0xda)]+_0xf8071a(0x40a)+_0x314615[_0xf8071a(0x666)](_0x4a1c51=>_0x4a1c51['studentName'])[_0xf8071a(0x4be)](',\x20')+_0xf8071a(0x232)+_0x314615[0x0]['latestScore']+_0xf8071a(0x15a);_0x1a289f[_0xf8071a(0x52d)]=_0x572444;}function renderSubmissionChart(_0x3cfa63,_0x4d71a2,_0xe9361a,_0x210932){const _0x433794=_0x284edd,_0x531e9e=document[_0x433794(0x140)]('submission-status-chart')[_0x433794(0x4a9)]('2d'),_0x7c46a5=_0xe9361a[_0x433794(0x666)](_0x3dc9ef=>_0x3dc9ef[_0x433794(0x5c2)]),_0x4c36e4=_0x210932[_0x433794(0x3fe)](_0x5d266d=>!_0x7c46a5[_0x433794(0x4ab)](_0x5d266d));chartInstances[_0x433794(0x5e2)]&&chartInstances[_0x433794(0x5e2)][_0x433794(0x4bb)](),chartInstances[_0x433794(0x5e2)]=new Chart(_0x531e9e,{'type':_0x433794(0x2d9),'data':{'labels':[_0x433794(0x58b),_0x433794(0x6c7)],'datasets':[{'data':[_0x3cfa63,_0x4d71a2],'backgroundColor':['#10B981',_0x433794(0x7b5)],'borderColor':[_0x433794(0x793),_0x433794(0x793)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x433794(0x11b)},'tooltip':{'callbacks':{'label':function(_0x33b038){const _0x30d46=_0x433794;let _0x1efd49=_0x33b038[_0x30d46(0x437)]||'';return _0x1efd49&&(_0x1efd49+=':\x20'),_0x1efd49+=_0x33b038['raw'],_0x1efd49;},'afterLabel':function(_0x493db4){const _0x5ad516=_0x433794;let _0xa0d12c;return _0x493db4[_0x5ad516(0x126)]===0x0?_0xa0d12c=_0x7c46a5:_0xa0d12c=_0x4c36e4,_0xa0d12c[_0x5ad516(0x357)]>0x0?_0xa0d12c[_0x5ad516(0x4be)]('\x0a'):_0x5ad516(0x5e0);}}}}}});}function renderScoreDistributionChart(_0x2a8495,_0x312394){const _0x3c9506=_0x284edd,_0x268aff=document[_0x3c9506(0x140)](_0x3c9506(0x486))[_0x3c9506(0x4a9)]('2d'),_0x32b7c2={};for(let _0x5bbca9=0x0;_0x5bbca9<=_0x312394;_0x5bbca9++){_0x32b7c2[_0x5bbca9]=0x0;}_0x2a8495[_0x3c9506(0x335)](_0x5d9052=>{const _0xa5dc85=_0x3c9506;_0x32b7c2[_0x5d9052[_0xa5dc85(0xda)]]!==undefined&&_0x32b7c2[_0x5d9052[_0xa5dc85(0xda)]]++;}),chartInstances['score']&&chartInstances[_0x3c9506(0x1bc)]['destroy'](),chartInstances['score']=new Chart(_0x268aff,{'type':_0x3c9506(0x6aa),'data':{'labels':Object[_0x3c9506(0x74d)](_0x32b7c2),'datasets':[{'label':_0x3c9506(0x3ff),'data':Object[_0x3c9506(0x511)](_0x32b7c2),'backgroundColor':_0x3c9506(0x62b),'borderColor':_0x3c9506(0x7b3),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x3c9506(0x7b9)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x54c944){const _0x5f09e7=_0x3c9506,_0x4fbded=_0x54c944['label'],_0x43db78=_0x2a8495[_0x5f09e7(0x3fe)](_0x338bb1=>_0x338bb1['latestScore']==_0x4fbded)[_0x5f09e7(0x666)](_0x2f0652=>_0x2f0652[_0x5f09e7(0x5c2)]);return _0x43db78[_0x5f09e7(0x357)]>0x0?_0x43db78[_0x5f09e7(0x4be)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x100f46,_0x2f21cb,_0x23b55e){const _0x2a0448=_0x284edd,_0x4f1f76=document[_0x2a0448(0x140)](_0x2a0448(0x3fa));if(_0x23b55e['length']===0x0){_0x4f1f76[_0x2a0448(0x52d)]=_0x2a0448(0x302);return;}const _0x2e3c42=calculateItemAnalysis(_0x100f46,_0x2f21cb),_0xbb7eb3=calculateDistractorAnalysis(_0x100f46,_0x2f21cb);let _0x122a4f='';_0x2e3c42[_0x2a0448(0x39c)]&&(_0x122a4f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x2e3c42['overallGroups'][_0x2a0448(0x1e7)]['length']+_0x2a0448(0x6f9)+_0x2e3c42[_0x2a0448(0x39c)]['upperGroupNames'][_0x2a0448(0x666)](_0x43f28f=>_0x2a0448(0x4d2)+_0x43f28f+_0x2a0448(0x2fb))[_0x2a0448(0x4be)]('')+_0x2a0448(0x5b9)+_0x2e3c42[_0x2a0448(0x39c)]['lowerGroupNames'][_0x2a0448(0x357)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e3c42['overallGroups']['lowerGroupNames'][_0x2a0448(0x666)](_0x460001=>_0x2a0448(0x4d2)+_0x460001+_0x2a0448(0x2fb))[_0x2a0448(0x4be)]('')+_0x2a0448(0x5b2));let _0x49a79c='';const _0x1e0f29=_0x2f21cb[_0x2a0448(0x666)](_0x459095=>_0x459095['studentName']),_0x28e5b4=_0x5d91ea=>{const _0x3ed2a6=_0x2a0448;if(_0x5d91ea>=0.8)return _0x3ed2a6(0x325);if(_0x5d91ea>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x5d91ea>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x5d91ea>=0.2)return _0x3ed2a6(0x754);return _0x3ed2a6(0x5c6);},_0x809656=_0x17b420=>{const _0x4c8617=_0x2a0448;if(_0x17b420<0x0)return _0x4c8617(0x77b);if(_0x17b420>=0.4)return _0x4c8617(0x7c0);if(_0x17b420>=0.3)return _0x4c8617(0x202);if(_0x17b420>=0.2)return _0x4c8617(0x2d6);return _0x4c8617(0x2bd);},_0x1d3657=_0x12dc50=>{const _0x34c9a2=_0x2a0448,_0x177f26=_0x12dc50['toFixed'](0x0);if(parseFloat(_0x177f26)===0x64)return _0x34c9a2(0x420)+_0x177f26+'%</span>';if(_0x12dc50>=0x32)return _0x34c9a2(0x4e1)+_0x177f26+_0x34c9a2(0x564);return _0x34c9a2(0x2e7)+_0x177f26+'%</span>';};_0x100f46[_0x2a0448(0x7d0)][_0x2a0448(0x335)]((_0x38760f,_0x4acc8f)=>{const _0x22c9e4=_0x2a0448,_0x53b9fc=_0x2e3c42[_0x22c9e4(0x68c)][_0x4acc8f],_0x21ec8b=_0xbb7eb3[_0x4acc8f],_0x5585f7=_0x38760f[_0x22c9e4(0x63f)]||_0x38760f['questionText']||_0x38760f['instructions'];let _0x17e96a=0x0;const _0x4cb58f=[],_0x501143=[];_0x2f21cb[_0x22c9e4(0x335)](_0x15d84d=>{const _0x41c615=_0x22c9e4,_0x4405f9=_0x15d84d[_0x41c615(0x2bb)][_0x15d84d[_0x41c615(0x2bb)][_0x41c615(0x357)]-0x1];if(_0x4405f9&&_0x4405f9[_0x41c615(0x6d2)]){const _0x1d0ed9=_0x4405f9[_0x41c615(0x6d2)]['find'](_0x3f3901=>_0x3f3901[_0x41c615(0x4ca)]===_0x5585f7)??_0x4405f9[_0x41c615(0x6d2)][_0x4acc8f]??null;_0x1d0ed9&&(_0x1d0ed9[_0x41c615(0x6e4)]?(_0x17e96a++,_0x4cb58f[_0x41c615(0x1b8)](_0x15d84d[_0x41c615(0x5c2)])):_0x501143[_0x41c615(0x1b8)](_0x15d84d[_0x41c615(0x5c2)]));}});const _0x1f8d73=_0x2f21cb[_0x22c9e4(0x357)]>0x0?_0x17e96a/_0x2f21cb[_0x22c9e4(0x357)]*0x64:0x0,_0x21331d=_0x23b55e['filter'](_0x2ff82f=>!_0x1e0f29[_0x22c9e4(0x4ab)](_0x2ff82f)),_0x1ba434=_0x53b9fc?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x53b9fc['p'][_0x22c9e4(0x1a2)](0x2)+_0x22c9e4(0xd6)+_0x28e5b4(_0x53b9fc['p'])+_0x22c9e4(0x674)+_0x53b9fc['r']['toFixed'](0x2)+_0x22c9e4(0xd6)+_0x809656(_0x53b9fc['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d3657(_0x1f8d73)+_0x22c9e4(0x2be):'';let _0x1a4a3f='';_0x21ec8b&&(_0x1a4a3f=_0x22c9e4(0x73a)+Object[_0x22c9e4(0x74d)](_0x21ec8b)['map'](_0x5a411c=>{const _0x3fc5e0=_0x22c9e4,_0x2ef030=_0x21ec8b[_0x5a411c],_0x5f52ee=parseInt(_0x5a411c)===_0x38760f[_0x3fc5e0(0x31c)],_0x2d34f4=!_0x5f52ee&&_0x2ef030['lower_group_count']>_0x2ef030[_0x3fc5e0(0x767)];return _0x3fc5e0(0x4cd)+(_0x5f52ee?_0x3fc5e0(0x152):'')+_0x3fc5e0(0x444)+(_0x5f52ee?'✔\x20':'')+_0x2ef030[_0x3fc5e0(0x1fd)]+_0x3fc5e0(0x703)+_0x2ef030[_0x3fc5e0(0x767)]+_0x3fc5e0(0x703)+_0x2ef030[_0x3fc5e0(0x381)]+'\x20'+(_0x2d34f4?'👍':'')+_0x3fc5e0(0x703)+_0x2ef030[_0x3fc5e0(0x5cf)]+_0x3fc5e0(0x787);})[_0x22c9e4(0x4be)]('')+_0x22c9e4(0x2aa));let _0x1e685a='';_0x53b9fc&&_0x53b9fc['upperGroupResponders']&&(_0x1e685a=_0x22c9e4(0x595)+_0x53b9fc[_0x22c9e4(0x59a)][_0x22c9e4(0x357)]+_0x22c9e4(0x1e5)+_0x53b9fc[_0x22c9e4(0x59a)][_0x22c9e4(0x666)](_0x206a54=>_0x22c9e4(0x4d2)+(_0x206a54['isCorrect']?_0x22c9e4(0xfb):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x206a54[_0x22c9e4(0x61e)]+_0x22c9e4(0x2fb))[_0x22c9e4(0x4be)]('')+_0x22c9e4(0x390)+_0x53b9fc[_0x22c9e4(0x3bc)][_0x22c9e4(0x357)]+_0x22c9e4(0x1e5)+_0x53b9fc[_0x22c9e4(0x3bc)]['map'](_0xa62288=>_0x22c9e4(0x4d2)+(_0xa62288[_0x22c9e4(0x6e4)]?_0x22c9e4(0xfb):_0x22c9e4(0x7ca))+'\x20'+_0xa62288[_0x22c9e4(0x61e)]+_0x22c9e4(0x2fb))[_0x22c9e4(0x4be)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x49a79c+=_0x22c9e4(0x13d)+(_0x4acc8f+0x1)+':\x20'+_0x5585f7+_0x22c9e4(0x76a)+_0x1ba434+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x5585f7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x17e96a+'\x20จาก\x20'+_0x2f21cb[_0x22c9e4(0x357)]+_0x22c9e4(0x658)+_0x1f8d73['toFixed'](0x0)+_0x22c9e4(0x333)+_0x4cb58f[_0x22c9e4(0x357)]+_0x22c9e4(0x2c2)+(_0x4cb58f[_0x22c9e4(0x357)]>0x0?_0x4cb58f[_0x22c9e4(0x4be)](',\x20'):_0x22c9e4(0x5e0))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x501143[_0x22c9e4(0x357)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x501143[_0x22c9e4(0x357)]>0x0?_0x501143[_0x22c9e4(0x4be)](',\x20'):_0x22c9e4(0x5e0))+_0x22c9e4(0x2ee)+_0x21331d['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x21331d[_0x22c9e4(0x357)]>0x0?_0x21331d[_0x22c9e4(0x4be)](',\x20'):'ไม่มี')+_0x22c9e4(0x34b)+_0x1a4a3f+_0x22c9e4(0x48e)+_0x1e685a+_0x22c9e4(0x590);}),_0x4f1f76['innerHTML']=_0x122a4f+_0x49a79c;try{window[_0x2a0448(0x476)]&&MathJax['typesetPromise']&&MathJax[_0x2a0448(0x41b)]([_0x4f1f76]);}catch(_0x46d749){console[_0x2a0448(0x377)](_0x2a0448(0x1f0),_0x46d749);}}function calculateDistractorAnalysis(_0x5aca86,_0x5288af){const _0x1d686b=_0x284edd,_0x461676={};if(_0x5288af[_0x1d686b(0x357)]<0x2)return _0x461676;const _0x3843c3=[..._0x5288af]['sort']((_0x43ef04,_0x1ab32c)=>{const _0x1179b0=_0x1d686b,_0xf5c345=_0x1ab32c[_0x1179b0(0xda)]-_0x43ef04[_0x1179b0(0xda)];if(_0xf5c345!==0x0)return _0xf5c345;const _0x5cba0d=_0x43ef04[_0x1179b0(0x2bb)]?.[_0x1179b0(0x357)]||0x1,_0x170cfd=_0x1ab32c[_0x1179b0(0x2bb)]?.[_0x1179b0(0x357)]||0x1,_0x5a9a6f=_0x5cba0d-_0x170cfd;if(_0x5a9a6f!==0x0)return _0x5a9a6f;const _0x2cd09d=new Date(_0x43ef04[_0x1179b0(0x719)]),_0x46f848=new Date(_0x1ab32c[_0x1179b0(0x719)]),_0x35d18d=_0x2cd09d-_0x46f848;if(_0x35d18d!==0x0)return _0x35d18d;return _0x43ef04[_0x1179b0(0x5c2)][_0x1179b0(0x5ca)](_0x1ab32c['studentName'],'th');}),_0x826b85=_0x3843c3[_0x1d686b(0x357)],_0x267e8f=Math[_0x1d686b(0x693)](0x1,Math['floor'](_0x826b85*0.33)),_0x50367c=_0x3843c3[_0x1d686b(0x17c)](0x0,_0x267e8f),_0x3a7b11=_0x3843c3[_0x1d686b(0x17c)](-_0x267e8f);return _0x5aca86[_0x1d686b(0x7d0)][_0x1d686b(0x335)]((_0x533dea,_0x4cad1a)=>{const _0x140a26=_0x1d686b;if(_0x533dea[_0x140a26(0x103)]!==_0x140a26(0x267)||!_0x533dea[_0x140a26(0x230)])return;const _0x2381d2=_0x533dea[_0x140a26(0x28d)],_0x484a24={};_0x533dea[_0x140a26(0x230)][_0x140a26(0x335)]((_0xe81e20,_0x2c1c67)=>{_0x484a24[_0x2c1c67]={'text':_0xe81e20,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3843c3['forEach'](_0x521f0f=>{const _0x58143c=_0x140a26,_0x2b4d22=_0x521f0f[_0x58143c(0x2bb)][_0x521f0f['attempts'][_0x58143c(0x357)]-0x1],_0x1f9b8b=_0x2b4d22[_0x58143c(0x6d2)]['find'](_0x26ae6d=>_0x26ae6d[_0x58143c(0x4ca)]===_0x2381d2);if(_0x1f9b8b&&_0x1f9b8b[_0x58143c(0x106)]!==null){const _0x1d9554=_0x533dea[_0x58143c(0x230)][_0x58143c(0x4d7)](_0x2744b1=>_0x2744b1===_0x1f9b8b[_0x58143c(0x368)]);_0x1d9554!==-0x1&&_0x484a24[_0x1d9554]&&(_0x484a24[_0x1d9554][_0x58143c(0x5cf)]++,_0x50367c[_0x58143c(0x4ab)](_0x521f0f)&&_0x484a24[_0x1d9554]['upper_group_count']++,_0x3a7b11[_0x58143c(0x4ab)](_0x521f0f)&&_0x484a24[_0x1d9554][_0x58143c(0x381)]++);}}),_0x461676[_0x4cad1a]=_0x484a24;}),_0x461676;}function calculateReliabilityKR20(_0x51db06,_0x5496d1,_0x396a57){const _0x3df9b2=_0x284edd,_0xc2caa1=_0x51db06['questions'][_0x3df9b2(0x357)];if(_0xc2caa1<0x2||_0x5496d1[_0x3df9b2(0x357)]<0x2)return null;const _0x396f3b=_0x5496d1[_0x3df9b2(0x666)](_0xb3c08=>_0xb3c08['latestScore']),_0x5c4fc4=_0x396f3b['reduce']((_0x4b76fa,_0x5c2b65)=>_0x4b76fa+_0x5c2b65,0x0)/_0x396f3b[_0x3df9b2(0x357)],_0x121282=_0x396f3b['map'](_0x59f1c5=>Math['pow'](_0x59f1c5-_0x5c4fc4,0x2))['reduce']((_0x502606,_0x51c97b)=>_0x502606+_0x51c97b,0x0)/_0x396f3b[_0x3df9b2(0x357)];if(_0x121282===0x0)return null;let _0x399223=0x0;for(let _0x5f497f=0x0;_0x5f497f<_0xc2caa1;_0x5f497f++){const _0x1bd206=_0x396a57[_0x5f497f]?.['p'];if(_0x1bd206===undefined)continue;const _0x4edc40=0x1-_0x1bd206;_0x399223+=_0x1bd206*_0x4edc40;}if(_0x399223===0x0)return null;const _0x301451=_0xc2caa1/(_0xc2caa1-0x1)*(0x1-_0x399223/_0x121282);if(_0x301451>0x1)return null;return _0x301451;}async function handleAnalyzeClass(){const _0x3d2429=_0x284edd;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x3d2429(0x605));return;}const _0x2ee77a=collection(db,_0x3d2429(0x6c1)+appId+_0x3d2429(0x65e)+currentQuizData['id']+_0x3d2429(0x5f7)),_0x3a2537=await getDocs(_0x2ee77a),_0x54a0e3=_0x3a2537[_0x3d2429(0x310)][_0x3d2429(0x666)](_0x206a75=>_0x206a75[_0x3d2429(0x5b7)]());if(_0x54a0e3[_0x3d2429(0x357)]<0x2){showMessage(_0x3d2429(0x2eb));return;}const _0x41d38e=document[_0x3d2429(0x140)](_0x3d2429(0x3df));_0x41d38e[_0x3d2429(0x52d)]=_0x3d2429(0x35d),document[_0x3d2429(0x140)]('analyze-strengths-btn')[_0x3d2429(0x54e)]=!![];const _0x3ceb77=_0x54a0e3[_0x3d2429(0x666)]((_0x24ebc1,_0x577bf8)=>{const _0x3ba462=_0x3d2429,_0x48569f=_0x24ebc1['attempts'][_0x24ebc1['attempts']['length']-0x1];if(!_0x48569f)return'';return _0x3ba462(0x6bd)+(_0x577bf8+0x1)+'\x20('+_0x24ebc1[_0x3ba462(0x5c2)]+_0x3ba462(0x65d)+_0x48569f['score']+'/'+_0x24ebc1['totalQuestions']+_0x3ba462(0x2a8)+JSON[_0x3ba462(0x501)](_0x48569f[_0x3ba462(0x6d2)])+_0x3ba462(0x5fc);})[_0x3d2429(0x4be)](_0x3d2429(0x70e)),_0x50a9e0=_0x3d2429(0x462)+currentQuizData[_0x3d2429(0x479)]+_0x3d2429(0x4a4)+JSON['stringify'](currentQuizData[_0x3d2429(0x7d0)])+_0x3d2429(0x639)+_0x3ceb77+_0x3d2429(0x718),_0x515ac6={'type':_0x3d2429(0xd1),'properties':{'classStrengths':{'type':_0x3d2429(0x696),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x3d2429(0x696),'items':{'type':_0x3d2429(0x1d1)}},'teacherSuggestions':{'type':_0x3d2429(0x696),'items':{'type':_0x3d2429(0x1d1)}}},'required':['classStrengths',_0x3d2429(0x280),_0x3d2429(0x222)]};try{const _0x482592=await callAnalysisApi(_0x50a9e0,_0x515ac6);displayClassAnalysis(_0x482592);}catch(_0x2564fb){console[_0x3d2429(0x377)](_0x3d2429(0x263),_0x2564fb),_0x41d38e[_0x3d2429(0x52d)]=_0x3d2429(0x7a2)+_0x2564fb[_0x3d2429(0xf2)]+'</p></div>';}finally{document['getElementById'](_0x3d2429(0x72a))['disabled']=![];}}function displayClassAnalysis(_0x59a0ba){const _0x10f6e8=_0x284edd,_0x52c131=document[_0x10f6e8(0x140)](_0x10f6e8(0x3df));if(!_0x59a0ba){_0x52c131[_0x10f6e8(0x52d)]=_0x10f6e8(0x781);return;}_0x52c131[_0x10f6e8(0x52d)]=_0x10f6e8(0x3b2)+_0x59a0ba[_0x10f6e8(0x797)][_0x10f6e8(0x666)](_0x222298=>'<li>'+_0x222298+_0x10f6e8(0x2fb))[_0x10f6e8(0x4be)]('')+_0x10f6e8(0x1c4)+_0x59a0ba[_0x10f6e8(0x280)]['map'](_0x3c062b=>_0x10f6e8(0x4d2)+_0x3c062b+_0x10f6e8(0x2fb))[_0x10f6e8(0x4be)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59a0ba['teacherSuggestions']['map'](_0x3913b2=>'<li>'+_0x3913b2+'</li>')[_0x10f6e8(0x4be)]('')+_0x10f6e8(0x19b);}function formatAndPrintWorksheet(_0x5b6f0e,_0x461584){const _0x2e8458=_0x284edd,_0x3825a6=_0x2e8458(0x61b)+_0x5b6f0e['topic']+_0x2e8458(0x527)+_0x5b6f0e['topic']+_0x2e8458(0x7be)+_0x5b6f0e['questions'][_0x2e8458(0x666)]((_0x3f98a6,_0x516f4d)=>_0x2e8458(0x504)+(_0x516f4d+0x1)+'.\x20'+_0x3f98a6['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3f98a6[_0x2e8458(0x526)]?_0x2e8458(0x632)+_0x3f98a6[_0x2e8458(0x526)]+_0x2e8458(0x477):'')+_0x2e8458(0x518))['join']('')+_0x2e8458(0x6a9);_0x461584[_0x2e8458(0x1a7)][_0x2e8458(0x2c5)](_0x3825a6),_0x461584['document'][_0x2e8458(0x207)](),_0x461584[_0x2e8458(0xdf)]=function(){setTimeout(()=>{const _0x5b322a=_0x323d;_0x461584[_0x5b322a(0x79a)]();},0x3e8);};}async function generateWorksheet(){const _0x5c39f4=_0x284edd,_0x291389=document[_0x5c39f4(0x140)](_0x5c39f4(0x775))[_0x5c39f4(0x617)]['trim']();if(!_0x291389){showMessage(_0x5c39f4(0x2df));return;}const _0x2c7d70=document[_0x5c39f4(0x140)](_0x5c39f4(0x4e9))[_0x5c39f4(0x61c)],_0x29d8ac=_0x2c7d70?'':_0x5c39f4(0x15c),_0x39ed1f=window['open']('',_0x5c39f4(0x676));_0x39ed1f[_0x5c39f4(0x1a7)][_0x5c39f4(0x2c5)](_0x5c39f4(0x7c3));const _0x57a8c7=parseInt(document[_0x5c39f4(0x140)](_0x5c39f4(0x67c))[_0x5c39f4(0x617)]),_0x4e9b74=document[_0x5c39f4(0x140)](_0x5c39f4(0x4ee))[_0x5c39f4(0x61c)],_0x5c9da5=_0x4e9b74?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x18e4ca='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x29d8ac+_0x5c39f4(0x22c)+_0x57a8c7+_0x5c39f4(0x139)+_0x291389+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c9da5+_0x5c39f4(0x5ff)+simpleMathPrompt+_0x5c39f4(0x66c),_0x2fa65d={'type':_0x5c39f4(0xd1),'properties':{'topic':{'type':_0x5c39f4(0x1d1)},'questions':{'type':_0x5c39f4(0x696),'items':{'type':_0x5c39f4(0xd1),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x5c39f4(0x1d1)}},'required':[_0x5c39f4(0x28d)]}}},'required':[_0x5c39f4(0x479),_0x5c39f4(0x7d0)]};document[_0x5c39f4(0x140)]('loader-text')[_0x5c39f4(0x61d)]='',document[_0x5c39f4(0x140)](_0x5c39f4(0x33e))[_0x5c39f4(0x44b)][_0x5c39f4(0x6f8)](_0x5c39f4(0x396)),document[_0x5c39f4(0x140)]('quiz-generation-area')[_0x5c39f4(0x44b)]['remove']('hidden'),generateWorksheetBtn[_0x5c39f4(0x54e)]=!![];try{const _0x16cd01=await callAnalysisApi(_0x18e4ca,_0x2fa65d);formatAndPrintWorksheet(_0x16cd01,_0x39ed1f);}catch(_0x163cb3){console[_0x5c39f4(0x377)](_0x5c39f4(0x384),_0x163cb3);if(_0x39ed1f)_0x39ed1f[_0x5c39f4(0x207)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document['getElementById'](_0x5c39f4(0x33e))['classList']['add'](_0x5c39f4(0x396)),document[_0x5c39f4(0x140)](_0x5c39f4(0x28a))[_0x5c39f4(0x44b)][_0x5c39f4(0x281)](_0x5c39f4(0x396)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x46f30c,_0x43350b){const _0x503963=_0x284edd,_0x4248f3={'contents':[{'role':_0x503963(0x478),'parts':[{'text':_0x46f30c}]}],'generationConfig':{'responseMimeType':_0x503963(0x240),'responseSchema':_0x43350b}},_0x4ecffc='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0xc49250=_0x503963(0x5eb)+_0x4ecffc,_0x5ee491=await fetch(_0xc49250,{'method':_0x503963(0x772),'headers':{'Content-Type':_0x503963(0x240)},'body':JSON['stringify'](_0x4248f3)});if(!_0x5ee491['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5ee491['status']);const _0x3a7f32=await _0x5ee491[_0x503963(0x7c5)]();if(_0x3a7f32[_0x503963(0x6ca)]?.[0x0]?.['content']?.[_0x503963(0x745)]?.[0x0])return JSON['parse'](_0x3a7f32[_0x503963(0x6ca)][0x0]['content'][_0x503963(0x745)][0x0][_0x503963(0x1fd)]);else{let _0x1190db=_0x503963(0x172);if(_0x3a7f32[_0x503963(0x571)]?.[_0x503963(0x51a)])_0x1190db='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x3a7f32[_0x503963(0x571)][_0x503963(0x51a)]+'.';else _0x3a7f32[_0x503963(0x6ca)]?.[0x0]?.[_0x503963(0x58f)]&&_0x3a7f32[_0x503963(0x6ca)][0x0][_0x503963(0x58f)]!==_0x503963(0x2b0)&&(_0x1190db=_0x503963(0x27a)+_0x3a7f32[_0x503963(0x6ca)][0x0][_0x503963(0x58f)]+'.');console[_0x503963(0x377)](_0x1190db,JSON[_0x503963(0x501)](_0x3a7f32));throw new Error(_0x1190db);}}initialize();
